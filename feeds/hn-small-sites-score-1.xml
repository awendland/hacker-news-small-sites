<rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>
<![CDATA[Hacker News - Small Sites - Score >= 1]]>
        </title>
        <description>
<![CDATA[Hacker News stories from domains that aren't in the top 1M and that have a score of at least 1. Updated nightly via https://github.com/awendland/hacker-news-small-sites]]>
        </description>
        <link>https://news.ycombinator.com</link>
        <generator>RSS for Node</generator>
        <lastBuildDate>Sat, 19 Sep 2020 12:29:43 GMT</lastBuildDate>
        <atom:link href="https://raw.githubusercontent.com/awendland/hacker-news-small-sites/generated/feeds/hn-small-sites-score-1.xml" rel="self" type="application/rss+xml"></atom:link>
        <pubDate>Sat, 19 Sep 2020 12:29:43 GMT</pubDate>
        <language>
<![CDATA[en-US]]>
        </language>
        <managingEditor>
<![CDATA[me@alexwendland.com (Alex Wendland)]]>
        </managingEditor>
        <ttl>240</ttl>
        <item>
            <title>
<![CDATA[Sixty second stories of exceptional founders, sent out every 10 days]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24502932">thread link</a>) | @plincoln8
<br/>
September 17, 2020 | http://tareksway.com/visionaries | <a href="https://web.archive.org/web/*/http://tareksway.com/visionaries">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="wrapper">	
<section>
<article id="page-5046">
<section>
<div data-token="zSb1c"><div><div><div><div>
<div>
<div>
<p><img src="https://tareksway.com/wp-content/uploads/2020/08/visionaries-logo-250-03-copy.png" alt="" width="250" height="40"></p><h5>60-SECOND STORIES OF EXCEPTIONAL FOUNDERS</h5>
<p>1 STORY EVERY 10 DAYS</p>

<h5>⬇︎ Read an example below ⬇︎</h5></div></div></div></div></div></div></div><div id="posts" data-token="5gLXL"><div><div><div><div><section>
<article id="post-5202">
<p><a href="https://tareksway.com/visionaries/sew-much-hope/"> <span><span><i></i></span></span> <img onload="Wpfcll.r(this,true);" src="https://tareksway.com/wp-content/plugins/wp-fastest-cache-premium/pro/images/blank.gif" width="600" height="444" data-wpfc-original-src="https://tareksway.com/wp-content/uploads/2020/09/Singer-image.jpg" alt="blank" data-wpfc-original-srcset="https://tareksway.com/wp-content/uploads/2020/09/Singer-image.jpg 600w, https://tareksway.com/wp-content/uploads/2020/09/Singer-image-300x222.jpg 300w" sizes="(max-width: 600px) 100vw, 600px"> </a></p><div>
<h3>
<a href="https://tareksway.com/visionaries/sew-much-hope/" rel="bookmark" title="Permanent Link to Sew much hope">Sew much hope</a>
</h3>
<p><span>
<i></i><i></i>
<em>September 7, 2020</em>		</span></p><p><span>Reading time: 54 seconds</span></p>
<p>In 19th century America, less than 5% of US citizens had access to electricity and the average life expectancy was 45. Life was tough and opportunities were desperately needed.</p>
</div></article>
<article id="post-2525">
<p><a href="https://tareksway.com/visionaries/a-surprise-delivery-will-shu-deliveroo-story/"> <span><span><i></i></span></span> <img onload="Wpfcll.r(this,true);" src="https://tareksway.com/wp-content/plugins/wp-fastest-cache-premium/pro/images/blank.gif" width="780" height="597" data-wpfc-original-src="https://tareksway.com/wp-content/uploads/2018/05/Will-Shu-Deliveroo-mini-780x597.jpg" alt="blank" data-wpfc-original-srcset="https://tareksway.com/wp-content/uploads/2018/05/Will-Shu-Deliveroo-mini-780x597.jpg 780w, https://tareksway.com/wp-content/uploads/2018/05/Will-Shu-Deliveroo-mini-300x230.jpg 300w, https://tareksway.com/wp-content/uploads/2018/05/Will-Shu-Deliveroo-mini-768x588.jpg 768w, https://tareksway.com/wp-content/uploads/2018/05/Will-Shu-Deliveroo-mini.jpg 900w" sizes="(max-width: 780px) 100vw, 780px"> </a></p><div>
<h3>
<a href="https://tareksway.com/visionaries/a-surprise-delivery-will-shu-deliveroo-story/" rel="bookmark" title="Permanent Link to A surprise delivery">A surprise delivery</a>
</h3>
<p><span>
<i></i><i></i>
<em>May 22, 2018</em>		</span></p><p><span>Reading time: 60 seconds</span></p>
<p>It was 2001 and American Will Shu was fresh out of college with a shiny new job at Morgan Stanley, New York. The money was awesome but the 100-hour workweek… not so much. </p>
</div></article>
<article id="post-2520">
<p><a href="https://tareksway.com/visionaries/from-grade-c-to-the-skies-fedex-story/"> <span><span><i></i></span></span> <img onload="Wpfcll.r(this,true);" src="https://tareksway.com/wp-content/plugins/wp-fastest-cache-premium/pro/images/blank.gif" width="780" height="417" data-wpfc-original-src="https://tareksway.com/wp-content/uploads/2018/03/Frederick-Smith-FedEx-780x417.jpg" alt="blank" data-wpfc-original-srcset="https://tareksway.com/wp-content/uploads/2018/03/Frederick-Smith-FedEx-780x417.jpg 780w, https://tareksway.com/wp-content/uploads/2018/03/Frederick-Smith-FedEx-300x161.jpg 300w, https://tareksway.com/wp-content/uploads/2018/03/Frederick-Smith-FedEx-768x411.jpg 768w, https://tareksway.com/wp-content/uploads/2018/03/Frederick-Smith-FedEx.jpg 1000w" sizes="(max-width: 780px) 100vw, 780px"> </a></p><div>
<h3>
<a href="https://tareksway.com/visionaries/from-grade-c-to-the-skies-fedex-story/" rel="bookmark" title="Permanent Link to From grade “C” to the skies">From grade “C” to the skies</a>
</h3>
<p><span>
<i></i><i></i>
<em>March 15, 2018</em>		</span></p><p><span>Reading time: 60 seconds</span></p>
<p>Frederick Smith wasn’t exactly in love with academics. He attended Yale in 1962 and was a solid “C” student. When one of his courses assigned a paper, he wrote one at the last minute. He later admitted that it likely also got him a “C”.</p>
</div></article>
<article id="post-2516">
<p><a href="https://tareksway.com/visionaries/when-the-stars-are-misaligned-instagram-story/"> <span><span><i></i></span></span> <img onload="Wpfcll.r(this,true);" src="https://tareksway.com/wp-content/plugins/wp-fastest-cache-premium/pro/images/blank.gif" width="780" height="569" data-wpfc-original-src="https://tareksway.com/wp-content/uploads/2018/02/22639499_1454023074646352_7020349780203143168_n900px-2-e1517504855497-780x569.jpg" alt="blank" data-wpfc-original-srcset="https://tareksway.com/wp-content/uploads/2018/02/22639499_1454023074646352_7020349780203143168_n900px-2-e1517504855497-780x569.jpg 780w, https://tareksway.com/wp-content/uploads/2018/02/22639499_1454023074646352_7020349780203143168_n900px-2-e1517504855497-300x219.jpg 300w, https://tareksway.com/wp-content/uploads/2018/02/22639499_1454023074646352_7020349780203143168_n900px-2-e1517504855497-768x560.jpg 768w, https://tareksway.com/wp-content/uploads/2018/02/22639499_1454023074646352_7020349780203143168_n900px-2-e1517504855497.jpg 897w" sizes="(max-width: 780px) 100vw, 780px"> </a></p><div>
<h3>
<a href="https://tareksway.com/visionaries/when-the-stars-are-misaligned-instagram-story/" rel="bookmark" title="Permanent Link to When the stars are misaligned">When the stars are misaligned</a>
</h3>
<p><span>
<i></i><i></i>
<em>February 4, 2018</em>		</span></p><p><span>Reading time: 59 seconds</span></p>
<p>In 2009, Kevin Systrom was working full time at a travel startup but was learning to code at night. Smartphones had only recently become “smart” after acquiring a camera and location capabilities.</p>
</div></article></section></div></div></div></div></div></section>
</article>
</section>
</div></div>]]>
            </description>
            <link>http://tareksway.com/visionaries</link>
            <guid isPermaLink="false">hacker-news-small-sites-24502932</guid>
            <pubDate>Thu, 17 Sep 2020 10:28:29 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why Is 1 World Trade Center Missing from Spider-Man?]]>
            </title>
            <description>
<![CDATA[
Score 43 | Comments 16 (<a href="https://news.ycombinator.com/item?id=24502706">thread link</a>) | @tosh
<br/>
September 17, 2020 | https://www.stevenbuccini.com/why-1wtc-isnt-in-spiderman | <a href="https://web.archive.org/web/*/https://www.stevenbuccini.com/why-1wtc-isnt-in-spiderman">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    <p>Like many people across the world, I’m using my quarantine effectively: by catching up on all the video games I wasn’t able to play while traveling. The game at the top of my list? <a href="https://en.wikipedia.org/wiki/Spider-Man_(2018_video_game)">Spider-Man</a>, which was widely recognized as one of the top games of 2018. The game is features an open-world, which means you can travel around the game map as you see fit. And since Spider-Man, canonically, lives in real-life New York City, this means you’ll spend hours webbing around an incredibly detailed version of the city that never sleeps.</p>

<p>If you’ve spent any appreciable amount of time in New York, the in-game world will immediately feel familiar. The developers nailed the look and feel of the city. I found myself using real-world landmarks to orient myself as I slinged (slunged?) across Manhattan. The game leans into this realism—it even includes a challenge where you can take photos of in-game landmarks. While some are unique to the Marvel universe, like Avengers Tower and Uncle Ben’s grave, many exist in the real world and are faithfully reproduced within the game: Williamsburg/Brooklyn/Manhattan/Queensboro Bridges all make an appearance, as does Grand Central, Madison Square Garden, Saint Patrick’s Cathedral, Columbus Circle, the High Line and many more points of reference. As you’re swinging through the city, you’re treated to great views of Manhattan’s skyline, anchored by the Empire State Building, Chrysler Building, and Freedom Tower. Except, it’s <em>not</em> the Freedom Tower, despite being located in the exact same location as its real-life counterpart. Why are equally famous buildings like the Empire State Building accurately depicted, but the Freedom Tower isn’t?</p>

<p>Here’s what the “Freedom Tower” looks like in the game:
<img src="https://www.stevenbuccini.com/assets/spiderman/spiderman-1wtc.png" alt="In-Game 1WTC">
<em>(credit to Polygon because I was too lazy to get this off my PS4 myself)</em></p>

<p>Interestingly enough, the in-game design looks to be based on Libeskind’s original design for Freedom Tower (an interesting recap of the changes can be found <a href="https://www.newyorker.com/business/currency/daniel-libeskinds-world-trade-center-change-of-heart">here</a>), lending further credence to the theory that this building is supposed to be 1WTC.</p>

<p>My curiosity was further piqued when I learned that the <em>real</em> One World Trade Center was actually in the game during a demo at E3 in June of 2018, less than 4 months before the final game was set to be released to the public!</p>

<p><img src="https://www.stevenbuccini.com/assets/spiderman/1wtc_e3.png" alt="Real-life 1WTC in Spider-Man demo from E3 2018"></p>

<p>This deadline is even closer than it appears at first glance as the <a href="https://en.wikipedia.org/wiki/Software_release_life_cycle#RTM">“gold master”</a> is finalized weeks before release date so manufacturers have time to make and distribute the game to retailers. This change must have been implemented at the 11th hour.</p>

<p>And even after swapping the model out, they featured the building prominently on the home screen in the released version of the video game!
<img src="https://www.stevenbuccini.com/assets/spiderman/spiderman-start.png" alt="Start screen">
<em>(<a href="https://www.noobfeed.com/features/1119/marvel-s-spider-man-how-do-you-access-new-game-plus-and-ultimate-difficulty">credit</a>)</em></p>

<p>So <em>why</em> isn’t the real-life 1 WTC featured? At this point, we can eliminate time and budget constraints because we know the model already existed and was implemented before launch. We know that the designers thought this building was important as it’s the first thing you notice when starting the game.</p>

<p>I wish to briefly introduce <strong>Buccini’s razor</strong>—if something fun disappears unexpectedly, the cause is litigation (real or imagined).</p>

<p>It turns out that just like an author can copyright their book and a musician can copyright a song, an architect can copyright a building. Sure enough, here’s the copyright record for One World Trade Center:
<img src="https://www.stevenbuccini.com/assets/spiderman/copyright_record.png" alt="Record from [copyright.gov](https://www.copyright.gov/); can't deeplink the record but you can find it yourself by using the document record seen above"></p>

<p>At this point, I had a strong feeling copyright law was the reason for the change. The <a href="https://www.reddit.com/r/SpidermanPS4/comments/9grnr8/freedom_tower/">internet</a> <a href="https://www.reddit.com/r/SpidermanPS4/comments/9d3paw/the_real_reason_for_the_redesigned_freedom_tower/">seems</a> <a href="https://gamefaqs.gamespot.com/boards/191635-marvels-spider-man/76988485">to</a> <a href="https://www.neogaf.com/threads/one-world-trade-center-has-been-removed-from-spider-man-ps4.1465315/">agree</a>.</p>

<p>As luck<sup id="fnref:1" role="doc-noteref"><a href="#fn:1">1</a></sup> would have it, there was <a href="https://www.nexsenpruet.com/professionals/jeff-reichard">an expert in architectural copyright</a> right around the corner from my house here in Greensboro! Jeffrey was kind enough to spend a few minutes of his time thinking about this not-at-all-important question.</p>

<p>First, Jeffrey noted that <em>copyrights expire</em>. Just as music and books can pass into the public domain for anyone to replicate freely, you can also build an exact replica of the Empire State Building here in the United States if you so choose. Generally, any building constructed after December 1, 1990 is covered by the <a href="https://www.djc.com/news/ae/11151054.html">Architectural Works Copyright Protection Act</a>. This would explain why older structures are replicated faithfully but the Freedom Tower is not.</p>

<p>However, this doesn’t tell the full story. As Jeffrey noted, <a href="https://www.law.cornell.edu/uscode/text/17/120">17 U.S. Code § 120(a)</a> “provides an exception related to pictorial representations of of buildings that are visible from a public place. Therefore, I am not sure exactly why they changed it in the video game.”</p>

<p>The final piece of the puzzle lies at the <a href="https://www.youtube.com/watch?v=vo5A_fuDgtk&amp;feature=youtu.be&amp;t=2666">end of the credits</a>, where the creators of the game specifically thank the owners of certain famous buildings in New York, including the Empire State Building. I found this curious as the Empire State Building should be doubly safe: it was constructed long before 1990 so it is not covered under copyright law, and it is visible from a public place so it should be exempt from any potential copyrights. But look closer. You’ll see that they are acknowledging the <em>trademark</em> holders, NOT the <em>copyright</em> holders.</p>

<p><a href="https://www.photosecrets.com/buildings-copyright-and-trademarks">As this page</a> helpfully explains, applying a trademark to the building limits how the building’s image can be used in the sale of goods and services (like video games)! The credits hint that the video game creators obtained limited licenses to use the trademark, i.e. the distinctive design and appearance of the building, for certain buildings such as the Flatiron Building.<sup id="fnref:2" role="doc-noteref"><a href="#fn:2">2</a></sup></p>

<p>Therefore, the most likely answer is that the distinctive shape of 1 World Trade Center is either trademarked (although I could not find it within USPTO databases) or is so recognizable that it is easily defensible via a common law trademark and the game developers were unable to secure a license to use the trademark before their deadline.</p>

<p>However, <a href="https://www.youtube.com/watch?v=gHzuHo80U2M">Sony just announced</a> an expansion to the Spider-Man video game, so perhaps the additional time and the demonstrated popularity of the first installment will help resolve this issue for the upcoming title.</p>



  </div>
</article>

      </div>
    </div></div>]]>
            </description>
            <link>https://www.stevenbuccini.com/why-1wtc-isnt-in-spiderman</link>
            <guid isPermaLink="false">hacker-news-small-sites-24502706</guid>
            <pubDate>Thu, 17 Sep 2020 09:38:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[I overslept because iOS 14 disabled my alarm]]>
            </title>
            <description>
<![CDATA[
Score 43 | Comments 16 (<a href="https://news.ycombinator.com/item?id=24502697">thread link</a>) | @dewey
<br/>
September 17, 2020 | https://annoying.technology/posts/e82ff3bde8b225e6/ | <a href="https://web.archive.org/web/*/https://annoying.technology/posts/e82ff3bde8b225e6/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><img src="https://d33wubrfki0l68.cloudfront.net/9261d105b12f5c6c5928c9532d1f8721b84005cd/62d1b/media/oversleeping.jpg"></p><p>I’m using the iOS <a href="https://support.apple.com/en-us/HT208655">Bedtime</a> feature for years now. With yesterday’s iOS 14 update the feature got moved from the Clock app to the Health app. Unfortunately the migration is done by disabling your existing alarm and showing a button to open the Health app to set it up again.</p><p>I woke up late and well rested today.</p></div></div>]]>
            </description>
            <link>https://annoying.technology/posts/e82ff3bde8b225e6/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24502697</guid>
            <pubDate>Thu, 17 Sep 2020 09:36:48 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Peculiarities of Video Console Pricing]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 1 (<a href="https://news.ycombinator.com/item?id=24502690">thread link</a>) | @tosh
<br/>
September 17, 2020 | https://www.stevenbuccini.com/console-wars | <a href="https://web.archive.org/web/*/https://www.stevenbuccini.com/console-wars">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    <p>I saw this great meme today:</p>

<p><img src="https://www.stevenbuccini.com/assets/console-wars/meme.png" alt="Meme"></p>

<p>Here we are, about three months out from the biggest shopping period of the year. Both Microsoft and Sony announced their next-generation consoles with splashy livestreams. They announced off new titles, showed off tech demos, and talked up their hardware specs. But both events had one glaring omission: the price.</p>

<p>As it turns out, this is game theory in action. There are two main ways to make revenue in the console business: selling the hardware and taking a rake on video game sales via a licensing fee. For the most part, consoles are at feature parity. Many titles are available on both platforms and the graphics are of similar quality. Therefore, prcee is one of a few key differentiators between products, yet pricing the product correctly requires balancing many different factors.</p>

<p>We’ve seen how sensative consumers are to price in the last two generations. Sony tried to position the PlayStation 3 as a hulking machine meant for hard-core gamers who demanded the top performance, launching their the base model at $499.99. Meanwhile, the Xbox base model launched at $299. The cheaper price made the Xbox more appealing for the average family, and the Xbox moved nearly double the number of units in the US when compared to the Playstation 3.</p>

<p>But it was Microsoft who made a pricing mistake in the next genreation. They priced their console at $499, a price that was significantly higher than many expected. This was most likely to cover the cost of the Kinect sensor, which was bundled with the console at launch. Instead, it was Sony that announced that the Playstation 4 would launch ath the $399 price point that many analysts expect Microsoft to anchor at. Microsoft’s fatal mistake was to bet big on Kinect being a hit with casual gamers, even though casual gamers are much less likely to shell out big bucks for video game consoles. The PS4 has more than doubled the sales of the Xbox One.</p>

<p>Selling more consoles is crucial for another reason: per-unit profit. Consoles are overbuilt when first released. The hardware has to last for an entire “generation” which, on average, lasts about 5-7 years. Since the components are so cutting edge, they are expensive to manufacture and acquire. Even pricing consoles at their true cost, and taking no profit whatsoever, would mean setting a price so high that it is beyond the reach of many consumers. Manufacturers have decided it’s better to take a loss on the unit upfront in order to move more units. Why? Because the more units you produce, the cheaper the consoles are to make. Ordering more parts amortizes the huge upfront design expenses over a larger base and gives you greater negotiating power over your suppliers. Your employees get better at making the devices so your defect rate drops. These factors combine to increase your margins, which allows you in turn to cut the price of your console to make it even more attractive, which causes you to sell even more units, and so on.</p>

<p>The second key is that video game developers go where the gamers are. If your platform has a significant portion of the market for video games, you have more pricing power when it comes to the licensing fee you charge developers. And the larger your install base, the more games you will sell in aggregate.</p>

<p>Sony and Microsoft are probably just now ramping up their assembly lines for the holiday shopping boom. They’re probably only now understanding what their defect rate is and how certain design decisions are affecting the cost of the machine. Each knows the price that they would <em>like</em> to sell the console for. The question remains: how high can they go without getting kneecapped by the other? And is their price low enough that they can do the same to their rival? One has to wonder how long this game of chicken can go on for. But one way or another, come Black Friday, a price will be set.</p>

<p>I would encourage you to <a href="https://mitsloan.mit.edu/LearningEdge/simulations/platform-wars/Pages/default.aspx">play around with the pricing simulator</a> built by MIT/Sloan and read the associated case studies to develop a more intuitive feel for the forces at work.</p>

  </div>
</article>

      </div>
    </div></div>]]>
            </description>
            <link>https://www.stevenbuccini.com/console-wars</link>
            <guid isPermaLink="false">hacker-news-small-sites-24502690</guid>
            <pubDate>Thu, 17 Sep 2020 09:34:40 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Fuzzing binaries with LLVM's libFuzzer and rev.ng]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24502500">thread link</a>) | @aleclm
<br/>
September 17, 2020 | https://rev.ng/blog/fuzzing/post.html | <a href="https://web.archive.org/web/*/https://rev.ng/blog/fuzzing/post.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
          


<p>In this blogpost, we show how libFuzzer, the LLVM fuzz testing library part, can be employed with rev.ng in order to perform coverage-guided blackbox fuzzing of executable binaries.
We also show that our approach is fast, semantic-preserving and simply requires to implement the <a href="https://github.com/google/fuzzing/blob/master/tutorial/libFuzzerTutorial.md#hello-world-fuzzer">harness function</a>, as occurs for programs with source code available.</p>
<p>Note that this work is based on the rev.ng lifter, the open-source component at the core of the decompiler we're building.
The <a href="https://github.com/revng/revng">publicly available</a> version is a bit outdated, but we are in the process of pushing out new versions on a more regular basis.
<a href="https://twitter.com/_revng">Stay</a> <a href="https://rev.ng/newsletter.html">tuned</a>.</p>

          
          
            <h2>Background</h2>
<p>Fuzzing is a widespread technique for discovering software security vulnerabilities, where randomly mutated inputs are fed to a target program. It underwent a breakthrough around 2014, with the introduction of <a href="https://lcamtuf.coredump.cx/afl/">AFL</a> and it has been gaining popularity steadly ever since.
Its success is in large part due to its effectiveness in identifying <a href="https://lcamtuf.coredump.cx/afl#bugs">real world security vulnerabilities</a>. What makes it innovative is its <em>coverage-based</em> fuzzing approach, which prioritizes inputs that lead to traverse previously unexplored execution paths.
This coverage information is used to drive the fuzzing strategy, and the greater the coverage, the higher the chances of finding bugs. To collect coverage information, the input program is instrumented at compile-time. Then, at run-time, new inputs are continuously generated through a feedback-mechanism.</p>
<p>Other state-of-the-art coverage-guided fuzz testing frameworks include <a href="https://llvm.org/docs/LibFuzzer.html">libFuzzer</a> and <a href="https://github.com/google/honggfuzz">Honggfuzz</a>.</p>
<p>While whitebox (source-available) fuzzing is a relatively consolidated research area, assessing the security of closed-source software is still largely an open challenge. Existing works primarily resort to <em>dynamic binary translation</em> which injects the instrumentation dynamically. Main examples comprise <a href="https://github.com/mirrorer/afl/blob/master/qemu_mode/README.qemu">AFL QEMU user-mode</a> and <a href="https://project.inria.fr/FranceJapanICST/files/2019/04/19-Kyoto-Fuzzing_Binaries_using_Dynamic_Instrumentation.pdf">Honggfuzz combined with QBDI</a>. This process is straightforward, but comes with a significant runtime overhead and, consequently, a reduced effectiveness.</p>
<p>Additionally, running a whole program can be sometimes very hard - if feasible at all.
For instance, booting a firmware image is not always manageable. In such situations, fuzzing only delimited portions of code might be a winning strategy.</p>
<h2>Our approach</h2>
<p>rev.ng features a static binary translator, that, given a Linux program compiled for architecture <em>A</em> (e.g., AArch64) can produce an equivalent program for another architecture <em>B</em> (e.g., x86-64), or even for the same architecture <em>A</em>. The input binary code is converted into a higher-level intermediate representation, LLVM IR, which makes it suitable for performing a wide range of analyses and transformations. We have been able to translate and properly execute programs of significant size and complexity such as <code>perl</code> and <code>gcc</code>.</p>
<p>Now, the intuition is that we can leverage the static binary translator to inject the necessary instrumentation to perform coverage-guided fuzzing.
This approach is purely <em>ahead-of-time</em>, since both the translation happens and the instrumentation take place offline.
This results in significantly reducing the run-time overhead.</p>
<p>More specifically, libFuzzer - which is usually employed in presence of the source code - can be combined with the recompilable LLVM IR module produced by rev.ng. The output is a standalone binary that keeps feeding new inputs to the translated program.</p>
<p>When fuzzing <em>less</em>, the terminal pager, we obtained the following results:</p>
<table>
  <thead>
    <tr>
      <th scope="col"></th>
      <th scope="col" colspan="3">Execs per second</th>
      <th scope="col">Total execs</th>
    </tr>
    <tr>
      <th scope="col"></th>
      <th scope="col">1min</th>
      <th scope="col">10min</th>
      <th scope="col">60min</th>
      <th scope="col">60min</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th scope="row">afl</th>
      <td>3 582</td>
      <td>3 495</td>
      <td>3 682</td>
      <td>13 187 952</td>
    </tr>
    <tr>
      <th scope="row">rev.ng</th>
      <td>15 0617</td>
      <td>79 701</td>
      <td>78 306</td>
      <td>271 217 728</td>
    </tr>
  </tbody>
</table>
<p>Compared with AFL in QEMU-mode, we got speedups ranging from 20× to 40×.
Check out <a href="https://rev.ng/downloads/iccst-18-paper.pdf">our previous paper</a> for a more detailed rundown on performance.</p>
<p>As a result, our approach supports <strong>in-memory coverage-guided fuzzing</strong> of individual functions even when the source code is not available.
Since, by design, one can fuzz, for instance, an ARM binary after translating it to x86-64, it is architecture-independent as well.
Moreover we can test distinct portions of code separately, without executing the whole program. This is particularly beneficial, for instance, for self-contained libraries and embedded firmwares.</p>
<p>Here is an overview of the fuzzing process. At the last stage of our optimization passes, the fuzzing framework produces, among other things, a C header declaring all the collected functions for the user.
After creating the harness function, the compiler driver is called to build the fuzzer binary.</p>
<p><img alt="overview" src="https://rev.ng/blog/fuzzing/overview.svg"></p>
<h2>The fuzzing process</h2>
<p>Briefly, our fuzzing framework aims to:</p>
<ol>
<li>preserve functional correctness and achieve good performance;</li>
<li>enable fuzzing of individual functions;</li>
<li>enable hooking of functions;</li>
<li>reuse existing sanitizers.</li>
</ol>
<p>At this stage, these goals are achieved by implementing three LLVM passes that run over the recompilable unit of LLVM IR: an instrumentation pass (<em>PatchReturn</em>), a pass that generates helper stubs and C headers for every lifted function (<em>WrapperGen</em>), and a pass for function hooking when needed (<em>FuncHook</em>).</p>
<h3>Functional correctness and performance</h3>
<p>Two major challenges typical in static binary translation are preserving both semantics correctness and performance of the original program. To have both, we adopt a two-fold approach, which consists in:</p>
<ol>
<li>Collecting all the basic blocks of the original program in a single LLVM function (known as <code>root</code>). While not extremely fast and prone to less optimizations, this guarantees functional correctness.</li>
<li>Identifying the start and end addresses of every function and isolating their code into distinct LLVM functions (so called <em>isolated functions</em>). This allows for more aggressive optimizations, but may be subject to inaccuracies in the CFG-recovering phase.</li>
</ol>
<p>The <code>root</code> function is intended to start the execution and migrate it to the appropriate isolated function, where it will stay for most of the time.
A caveat though: since function boundaries detection and data code separation boil down to be an undecidable problem, we need a way to continue flawlessly with the execution if, for instance, an unexpected jump target is met in an isolated function. 
Without such a mechanism, semantic correctness would not be guaranteed. To address this issue, we let the code run at full speed while inside an isolated function, and fall back to <code>root</code> only if an unforeseen jump, e.g., a misidentified return instruction, is encountered.</p>
<p>As a comparison, see how the <code>root</code> function and the isolated <code>main</code> (known as <em>revng translated block</em>) respectively look like in the LLVM IR:</p>
<div><pre><span></span><span>define</span> <span>void</span> <span>@root</span> <span>()</span> <span>{</span>
<span>dispatcher:</span>
    <span>%1</span> <span>=</span> <span>load</span> <span>i64</span><span>,</span> <span>i64</span><span>*</span> <span>@pc</span>
    <span>switch</span> <span>i64</span> <span>%1</span> <span>[</span>
        <span>i64</span> <span>0x1000</span><span>,</span> <span>label</span> <span>%rtb_main</span>
        <span>i64</span> <span>0x2000</span><span>,</span> <span>label</span> <span>%rtb_func1</span>
        <span>i64</span> <span>0x3000</span><span>,</span> <span>label</span> <span>%rtb_func2</span>
    <span>]</span>

<span>rtb_main:</span>
    <span>; Load rdi and rsi</span>
    <span>call</span> <span>void</span> <span>@rtb_main</span><span>(</span><span>rsi</span><span>,</span> <span>rdi</span><span>)</span>
<span>rtb_func1:</span>
    <span>call</span> <span>void</span> <span>@rtb_func1</span><span>()</span>
<span>}</span>

<span>define</span> <span>i64</span> <span>@rtb_main</span><span>(</span><span>i64</span> <span>%rsi</span><span>,</span> <span>i64</span> <span>%rdi</span><span>)</span> <span>{</span>
    <span>; Push rbp on the stack</span>
    <span>call</span> <span>void</span> <span>@rtb_func1</span><span>()</span>

    <span>; Push rbx on the stack</span>
    <span>call</span> <span>void</span> <span>@rtb_func2</span><span>()</span>
    <span>ret</span> <span>void</span>
<span>}</span>
</pre></div>
<p>As shown in the snippet, the dispatcher inside <code>root</code> is responsible for redirecting the execution to the respective isolated function as appropriate.</p>
<h3>Fuzzing of individual functions</h3>
<p>All the isolated functions found are possible candidates for fuzzing. Now, we need a way to let the translated program run so that all the initialization routines (e.g., the memory allocator) can be carried out, and pause the execution of the <em>guest</em> (the translated program) when the user-defined entrypoint is met (be it <code>main</code> or whenever we need to back out of the program).</p>
<p>This is what the first instrumentation pass is meant to do, i.e., to allow to return from any isolated function to <code>root</code>. The migration is necessary to give control back to <code>LLVMFuzzerTestOneInput</code>, the function in charge of guiding the fuzzing process.
As an example, suppose we need to initialize the program and return to the fuzzing context only once a startup routine (<code>init_vars</code>) has been executed. The transition back would be the following one:</p>
<p><img alt="flow" src="https://rev.ng/blog/fuzzing/flow.svg"></p>
<p>The snippet below shows how we insert a sentinel variable to make such a transition before returning from <code>init_vars</code>.
As can be seen, the terminator block <code>rtb_init_vars.0x1d</code>, which is supposed to return to <code>main</code>, is no longer reachable - instead, we return to <code>root</code>, which ultimately returns to <code>LLVMFuzzerTestOneInput</code>.</p>
<div><pre><span></span><span>rtb_init_vars:</span>
    <span>store</span> <span>i1</span> <span>true</span><span>,</span> <span>i1</span><span>*</span> <span>@ReturnFromFuzzing</span>
    <span>call</span> <span>void</span> <span>@unwind_back</span><span>(</span><span>i32</span> <span>0</span><span>,</span> <span>i64</span> <span>0</span><span>,</span> <span>i64</span> <span>0</span><span>,</span> <span>i64</span> <span>0</span><span>)</span>     <span>; Stack unwinding mechanism is used here to return to root</span>
    <span>unreachable</span>

<span>rtb_init_vars.0x1d:</span>                                        <span>; Basic block to return to main is now unreachable</span>
    <span>ret</span> <span>void</span>
</pre></div>
<p>The second pass, on the other hand, generates a wrapper around each isolated function in the form of a C header (<code>generated_wrappers.h</code>), thus allowing normal function invocation without inspecting the ABI used by the original program.</p>
<p>Note, though, that we cannot invoke the isolated function directly: we still need to pass through <code>root</code> in order to maintain the functional correctness. 
So, for every isolated function, whose prototype is retrieved through dedicated analyses, we set up the emulated program counter (which points to the respective isolated function), the emulated stack pointer, and the function arguments. If the function is supposed to return, a struct with the possible arguments to be returned is filled.</p>
<h3>Hooking functions</h3>
<p>The third pass allows the user to easily replace existing functions (like <code>malloc</code>, <code>free</code>, <code>send</code>, <code>recv</code> and so forth). This turns out to be useful when we want to add user-defined callbacks, logging or inject raw data, e.g., when a function expects data coming from a socket.</p>
<p>For every isolated function, we take the following steps to perform function hooking:</p>
<ol>
<li>make its symbol have <a href="https://llvm.org/docs/LangRef.html#linkage-types">weak linkage</a>;</li>
<li>clone it;</li>
<li>wrap up the original implementation in a dedicated function.</li>
</ol>
<p>This allows us to bypass the <em>One Definition Rule</em>. Hence, if a symbol is redefined, it will override the original …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://rev.ng/blog/fuzzing/post.html">https://rev.ng/blog/fuzzing/post.html</a></em></p>]]>
            </description>
            <link>https://rev.ng/blog/fuzzing/post.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24502500</guid>
            <pubDate>Thu, 17 Sep 2020 08:58:07 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Using Matomo as a privacy-conscious alternative for user analytics on iOS]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 1 (<a href="https://news.ycombinator.com/item?id=24502261">thread link</a>) | @startingpoint
<br/>
September 17, 2020 | https://worklifewhatever.com/matomo-user-analytics-ios/ | <a href="https://web.archive.org/web/*/https://worklifewhatever.com/matomo-user-analytics-ios/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        <p>Knowing how users interact with your app is essential for making educated product decisions. But with user privacy being a foremost concern, big tech analytics frameworks are out of the picture. So the question is: can Matomo's open source user analytics be a viable alternative?</p>

<p>Building an app as an indie developer often feels like a guessing game. You are building something based on your own ideas and mental models, but the app’s users might think totally different. Bridging that gap is what enables good product decisions, yet most of what you can do after release is to hope for the best and actively try to get feedback.</p>

<p>Direct user feedback is incredibly valuable and offers a look at the product through the user’s eyes, but is also entirely subjective and best supported by hard evidence – actual data about how users interact with the app. So the real qestion: how do you get that data?</p>

<!--more-->

<h2 id="user-analytics-frameworks">User Analytics Frameworks</h2>
<h3 id="googles-definition-of-a-free-service">Google’s definition of a ‘free’ service</h3>

<p>Both of my iOS apps (<a href="https://worklifewhatever.com/timist-announcement/">Timist</a>, a Pomodoro-inspired time tracker and <a href="https://worklifewhatever.com/leap-habits-announcement/">Leap Habits</a>, a habit tracker) are entirely ‘local’ apps, with all data only persisted on device. That is a very intentional decision: I don’t feel comfortable implementing something like Google’s Firebase as a cloud storage and handing all of my user’s data over to Google, and I also don’t (yet) really want to carry the burden of setting up my own servers to handle user data. The apps work great locally and I’d love to consider a privacy-conscious sync solution like Apple’s CloudKit in the future.</p>

<p>That also means I have no information about how users are actually using my apps. So with actual user (content) data out of the picture, I started looking into analytics frameworks. Almost every major player offers its own:</p>
<ul>
  <li>Microsoft has Azure App Insights</li>
  <li>Google has Google Analytics for Firebase</li>
  <li>Yahoo has Flurry</li>
  <li>Amazon has AWS Pinpoint</li>
  <li>Facebook has Facebook Analytics</li>
</ul>

<p>The fact that most of these are free means these solutions are probably either data-generation or customer-acquisition machines for their parent companies. I cannot (with good conscience) tell my users that I care about privacy and then implement SDKs from Facebook or Yahoo. All of these store data on their servers and can do whatever they wish with it. I’m also not a fan of integrating giant (closed source) SDKs in my apps. Who knows what they are doing in the background, and even without malicious intent, Facebook’s SDK alone has managed to <a href="https://www.theverge.com/2020/7/10/21319784/ios-apps-crashing-spotify-tiktok-pinterest-tinder-facebook-sdk-certification-issue" target="_blank" rel="noopener noreferrer">crash half of the App Store’s apps <em>twice</em> this year</a>.</p>

<p>Which leaves me with a range of other private companies and a few open source solutions. The SaaS-solutions get expensive really quickly and still own all of your data. Since I like to do these things myself, <a href="https://matomo.org/" target="_blank" rel="noopener noreferrer">Matomo (formerly Piwik)</a> seemed like the most promising alternative: open-source, completely free when self-hosted, with a thriving community and open-source SDKs for all major platforms.</p>

<p>Matomo comes with a lot of built-in reports, good-looking dashboards, and stores all of its data on a database of your choosing. The one downside: like its competitors, Matomo is primarily a web analytics framework. When using it as a mobile analytics solution, it still delivers most of the value, but some metrics are simply not available by default (Matomo cannot segment data by users) while others can simply be ignored (SEO, acquisition and where your users come from are important metrics for the web, but on iOS all users are ‘direct entry’ - they open the app).</p>

<p>Overall, Matomo felt like the best bet. I’ve been running Matomo as my main user analytics framework since January 2020 and I’m loving it. Watching the real-time feed is kind of addicting (so much so that I had to remove Matomo from my phone’s main homescreen), I gained some great insights into how my apps are being used and was able to make more informed decisions. The major redesign of Timist earlier this year <a href="https://worklifewhatever.com/timist-retention/">was heavily influenced by the data I got from Matomo</a>.</p>

<p>So, this post is about what I’ve learned so far: installation and hosting, integrating Matomo into your app, what and how to track, using Matomo’s dashboards and all the other stuff. Let’s get started.</p>

<h2 id="installation-and-hosting">Installation and Hosting</h2>
<h3 id="enterprise-cloud-hosting-vs-a-thirty-minute-setup-on-aws">Enterprise Cloud-Hosting vs. a thirty minute setup on AWS</h3>
<p><a href="https://matomo.org/" target="_blank" rel="noopener noreferrer">Matomo</a> (formerly ‘Piwik’) is a PHP-based web app, that is completely <a href="https://github.com/matomo-org/matomo" target="_blank" rel="noopener noreferrer">open source</a> and free to use when self-hosted. ‘Enterprise’-editions with additional features  and a <a href="https://matomo.org/pricing/" target="_blank" rel="noopener noreferrer">cloud hosted service</a> keep the lights on, with prices starting at 19 EUR/month (although I would already be in the ~50 EUR/mo tier with my usage). I went the self-hosted route, since A) it’s a lot cheaper and B) I can customize it to my liking and make sure none of the data is available to any third parties. I also liked the challenge of setting it up myself, since running servers is something I’m not inherently familiar with.</p>

<p>I first started on an Azure VPS before moving all of my stuff over to AWS (for reasons that had nothing to do with the Matomo instance). In terms of sizing, Matomo works great with the smaller instances on both Azure and AWS: 1 vCPU and 1 GB of RAM and Matomo runs without breaking a sweat for my current usage, which amounts to roughly 100k pageviews or 10k visits in a month. On Azure, Matomo lived on a B1S VPS (~USD7/mo) and currently it runs on an <a href="https://aws.amazon.com/lightsail/" target="_blank" rel="noopener noreferrer">AWS Lightsail VPS</a> (~USD5/mo). That is with both MySQL and Matomo operating on the same VPS. At some point, I might move the database to a separate instance, but for now - it just works and the data is not mission critical.</p>

<p>Since all of the smaller VPS’ on Azure and AWS are ‘burstable’, meaning they can only run at high load for a short period of time, I’d err on the larger VPS size. Matomo has a fairly low base-load when simply receiving data, but spins up considerably when crunching the raw data and generating reports. I’ve had it run into memory limits a few times on the 512MB RAM instances while generating reports for timeframes of 3 months or more. You might not even get through set-up on the smallest instances, since you might burn all of your ‘burst’-credits during installation. Your mileage may vary, but I would consider 1vCPU + 1GB RAM as a good starting point, which can then easily be scaled as needed.</p>

<div>
<figure>
    <img src="https://worklifewhatever.com/assets/img/matomo/lightsail.jpg" alt="Server load when running Matomo on an AWS Lightsail server.">

    
    <figcaption>Server load for my Matomo instance, running on a 1vCPU Lightsail server. It rarely ever runs into the burstable zone, so it should have some headroom for future growth.</figcaption>
    
</figure>
</div>

<p>There are plenty of <a href="https://www.howtoforge.com/how-to-install-matomo-analytics-on-ubuntu-1804/" target="_blank" rel="noopener noreferrer">great tutorials for setting up Matomo on Ubuntu</a>, so here’s the gist of it:</p>

<ol>
  <li>Create new VPS with Ubuntu 18.04</li>
  <li>The usual apt update/upgrade dance</li>
  <li>Install MySQL and PHP</li>
  <li>Install Nginx, <a href="https://www.digitalocean.com/community/tutorials/how-to-secure-nginx-with-let-s-encrypt-on-ubuntu-16-04" target="_blank" rel="noopener noreferrer">Certbot and set up HTTPS</a> (make sure to open Port 443 in your VPS configuration)</li>
  <li>Download Matomo with wget and copy it to the target directory</li>
  <li>Configure <a href="https://github.com/matomo-org/matomo-nginx/blob/master/sites-available/matomo.conf" target="_blank" rel="noopener noreferrer">Nginx for Matomo</a>
</li>
  <li>Log into MySQL, create a database and a user for Matomo</li>
  <li>Go to you brand new Matomo instance and finish the installation in you browser</li>
  <li>Create your first property to track in Matomo and implement the SDK in your app - and you’re done.</li>
</ol>

<p>Matomo supports multiple properties and I have all of my websites and iOS apps reporting to the same instance. Like Google Analytics, installing the tracker in web properties is as simple as copying the necessary HTML and scripts into <code>&lt;head&gt;</code>. For iOS apps, a bit more setup is required.</p>

<h2 id="integrating-matomo-into-an-ios-app">Integrating Matomo into an iOS app</h2>
<h3 id="singletons-make-the-app-go-round">Singletons make the app go round</h3>
<p>Matomo has SDKs for most major platforms and <a href="https://github.com/matomo-org/matomo-sdk-ios" target="_blank" rel="noopener noreferrer">iOS is no exception</a>. I have no personal experience with any SDK other than the one for iOS, but all seem to have fairly active contributors and the iOS SDK feels very polished.</p>

<p>On iOS, the SDK comes with one main class <code>MatomoTracker</code>, which can be passed around the app and is used to track all major interactions: page views, events, goals and e-commerce. There’s also search and campaign tracking, although I’ve never found these to be necessary for my particular usage. In addition to the interactions, the <code>MatomoTracker</code> can be configured with a custom user ID and multiple custom dimensions, which are tracked for every visit.</p>

<p>I decided not to pass the main <code>MatomoTracker</code> class around my app and building a wrapper <code>TrackerManager</code> class as an abstraction layer. It’s good practice not to integrate third-party code to tightly, since it allows me to easily switch out Matomo for any other tracking framework, and secondly, it enabled me to build a bunch of convenience functions and predefined values around it. For example, tracking goals in Matomo requires passing a numeric goal ID, which I substituted with a custom function that simply takes an enum and allows me to use named goals.</p>

<p>My custom <code>TrackerManager</code> does the following:</p>
<ol>
  <li>Initializes the <code>MatomoTracker</code> with a custom User ID (a UUID String saved to UserDefaults), setting a range of custom dimensions (device type, region, app version) and configuring it based on the user’s privacy settings (full tracking vs. heartbeat)</li>
  <li>Tracking pageviews with the page name</li>
  <li>Tracking custom events with category, action, name and numeric value (using predefined enums for categories and actions)</li>
  <li>Tracking purchases by passing a custom SKProduct abstraction</li>
  <li>Tracking goals (using a goal enum)</li>
  <li>Firing off a manual dispatch of recorded interactions if the app is moving to the background or being terminated (triggered from SceneDelegate)</li>
</ol>

<p>Another advantage of a custom <code>TrackerManager</code> is that I can integrate custom opt-out handling: if the user opts out of analytics, I don’t record any of the user’s interaction and only fire off a single “heartbeat” pageview per session. All views and events are still reported to the <code>TrackerManager</code> in the app, but only the first event  triggers a dispatch with a “heartbeat” that actually leaves the device. That way I still get accurate numbers for DAU/MAU, retention, goal conversion and custom dimensions (e.g. app version) while respecting the user’s choice.</p>

<p>The <code>TrackerManager</code> is then exposed as a singleton within the app (alternatively with dependency injection, if that’s your style). …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://worklifewhatever.com/matomo-user-analytics-ios/">https://worklifewhatever.com/matomo-user-analytics-ios/</a></em></p>]]>
            </description>
            <link>https://worklifewhatever.com/matomo-user-analytics-ios/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24502261</guid>
            <pubDate>Thu, 17 Sep 2020 08:13:35 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[New Video Exhibits Inside NASA Contractor’s Proposed Lunar Lander]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24502131">thread link</a>) | @hekocelsius
<br/>
September 17, 2020 | https://www.newshables.com/2020/09/17/new-video-exhibits-inside-nasa-contractors-proposed-lunar-lander/ | <a href="https://web.archive.org/web/*/https://www.newshables.com/2020/09/17/new-video-exhibits-inside-nasa-contractors-proposed-lunar-lander/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://www.newshables.com/2020/09/17/new-video-exhibits-inside-nasa-contractors-proposed-lunar-lander/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24502131</guid>
            <pubDate>Thu, 17 Sep 2020 07:45:30 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Statistics about smartphone usage pre-2020 and post-Covid-19]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24502117">thread link</a>) | @Lima_Writes
<br/>
September 17, 2020 | https://lifebeyond.one/blogs/news/statistics-about-smartphone-usage-and-the-effect-of-covid-19 | <a href="https://web.archive.org/web/*/https://lifebeyond.one/blogs/news/statistics-about-smartphone-usage-and-the-effect-of-covid-19">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://lifebeyond.one/blogs/news/statistics-about-smartphone-usage-and-the-effect-of-covid-19</link>
            <guid isPermaLink="false">hacker-news-small-sites-24502117</guid>
            <pubDate>Thu, 17 Sep 2020 07:42:17 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Klarna – Making a payment is unnecessarily awkward – UX review]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24502062">thread link</a>) | @Spidery
<br/>
September 17, 2020 | https://builtformars.co.uk/how-klarna-works/ | <a href="https://web.archive.org/web/*/https://builtformars.co.uk/how-klarna-works/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section data-id="ca3ca43" data-element_type="section" data-settings="{&quot;background_background&quot;:&quot;classic&quot;}">
							
							<div>
				<div>
				<div data-id="ec20c55" data-element_type="column">
			<div>
					<div>
				<div data-id="682e138" data-element_type="widget" data-widget_type="theme-post-content.default">
				<div>
					<div data-elementor-type="wp-post" data-elementor-id="8794" data-elementor-settings="[]">
			<div>
				<div>
							<section data-id="39cfc48" data-element_type="section" data-settings="{&quot;background_background&quot;:&quot;classic&quot;}">
						<div>
				<div>
				<div data-id="cc8b80f" data-element_type="column">
			<div>
					<div>
				<div data-id="38a613d" data-element_type="widget" data-settings="{&quot;drop_cap&quot;:&quot;yes&quot;}" data-widget_type="text-editor.default">
				<div>
					<p>Klarna is one of the biggest ‘buy-now, pay-later’ services in the world, and you’ll probably have seen their logo in a few familiar places, like ASOS, Topshop and Wayfair.</p>
				</div>
				</div>
				<div data-id="d4835f8" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<p>The idea is that you can buy something from one of their participating retailers, receive the item, and pay for it through Klarna later on.</p>
				</div>
				</div>
				<div data-id="a9286a0" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<p>And it seems to be working well. As I write this, Klarna is a $10 billion company, and they claim to process more than a million transactions every day.</p>
				</div>
				</div>
				<div data-id="06dde1a" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<p>So, you can imagine how meaningful a 1% improvement in their customer retention would be. Even 0.1% would be noticeable.</p>
				</div>
				</div>
				<div data-id="4d0c8b6" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<p>Well, let’s explore the UX mistakes that Klarna are making, and ultimately how they could improve their product fairly easily.</p>
				</div>
				</div>
				
				<div data-id="ae6fbf6" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<p>🎯 Recognising event-driven behaviour.</p>
				</div>
				</div>
				<div data-id="4239c47" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<p>🍯 How not to ask ‘are you sure?’.</p>
				</div>
				</div>
				<div data-id="ff9a088" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<p>⛳️ The irony of saying something is ‘easy’.</p>
				</div>
				</div>
				<div data-id="6cfaa4c" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<p>🗺 Always include a way back.</p>
				</div>
				</div>
				
						</div>
			</div>
		</div>
						</div>
			</div>
		</section>
				<section data-id="82654c1" data-element_type="section" data-settings="{&quot;background_background&quot;:&quot;classic&quot;,&quot;stretch_section&quot;:&quot;section-stretched&quot;}">
						<div>
				<div>
				<div data-id="a7cb550" data-element_type="column">
			<div>
					<div>
				
				<div data-id="206da17" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<p>💡<strong>Tip:</strong> Try using the ⬅️ <span>➡️ arrows on your keyboard to navigate the slides.</span></p>
				</div>
				</div>
				<div data-id="2d6c95a" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<p>💡<strong>Tip:</strong> Swipe <span>to navigate slides.</span></p>
				</div>
				</div>
						</div>
			</div>
		</div>
						</div>
			</div>
		</section>
				<section data-id="9387ec6" data-element_type="section" data-settings="{&quot;background_background&quot;:&quot;classic&quot;,&quot;stretch_section&quot;:&quot;section-stretched&quot;}">
						<div>
				<div>
				<div data-id="bcf94c5" data-element_type="column">
			<div>
					<div>
				<div data-id="bb3ae52" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<div>
<div><div role="region" aria-label="Slider"><p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI5NjAiIGhlaWdodD0iNzIwIiA+PC9zdmc+" alt="Slider"></p></div></div>


</div>
				</div>
				</div>
						</div>
			</div>
		</div>
						</div>
			</div>
		</section>
				<section data-id="02de3e3" data-element_type="section" data-settings="{&quot;background_background&quot;:&quot;classic&quot;}">
						
		</section>
				<section data-id="3128807" data-element_type="section" data-settings="{&quot;background_background&quot;:&quot;classic&quot;}">
						<div>
				<div>
				<div data-id="4890770" data-element_type="column">
			<div>
					<div>
				<div data-id="5132d05" data-element_type="widget" data-settings="{&quot;_animation&quot;:&quot;none&quot;}" data-widget_type="heading.default">
				<p>
			<h4>1. Event-driven behaviour</h4>		</p>
				</div>
				<div data-id="f7b7c9d" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<p>Sometimes—as I’m making my morning coffee—I’ll realise that we’ve run out of milk. So I rush down to my local shop, power-walking through the isles at 7am with a bottle of milk in hand.</p>
				</div>
				</div>
				<div data-id="972c566" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<p>It’s a very small shop, so the cashier will have seen me pull up, and use the most efficient path to go from the door, to the milk, to the till—and have Apple Pay up and ready before they open their mouth:</p>
				</div>
				</div>
				<div data-id="bc8eb43" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<p>“<em>Do you have a Tesco clubcard</em>?”</p>
				</div>
				</div>
				<div data-id="4faeee2" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<p>“<em>No.</em>” (slightly out of breath)</p>
				</div>
				</div>
				<div data-id="af7b1e9" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<p>“<em>Would you like to sign up <strong>now</strong></em>?”</p>
				</div>
				</div>
				<div data-id="bc124f5" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<p>Sure, it may be company policy to always ask, but it’s a stupid company policy.</p>
				</div>
				</div>
				<div data-id="2159a92" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<p>It’s also a perfect example of an issue that happens a lot when designing software: people misunderstanding, or not considering what is driving a user’s behaviour.</p>
				</div>
				</div>
				<div data-id="9a3a3e7" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<p>I’ve overly-simplified this, but consider that there are only two types of behaviour:</p>
				</div>
				</div>
						</div>
			</div>
		</div>
						</div>
			</div>
		</section>
				<section data-id="97ec5ed" data-element_type="section" data-settings="{&quot;background_background&quot;:&quot;classic&quot;}">
						<div>
				<div>
				<div data-id="cf80687" data-element_type="column">
			<div>
					<div>
				<section data-id="7e48004" data-element_type="section" data-settings="{&quot;background_background&quot;:&quot;classic&quot;}">
						<div>
				<div>
				
				<div data-id="b006a6f" data-element_type="column">
			<div>
					<div>
				<div data-id="5ccdd20" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<div><p><strong>1. Event-driven behaviour</strong></p>
<p>People have a clear purpose or goal.</p></div>
				</div>
				</div>
						</div>
			</div>
		</div>
						</div>
			</div>
		</section>
				<section data-id="729feb3" data-element_type="section" data-settings="{&quot;background_background&quot;:&quot;classic&quot;}">
						<div>
				<div>
				
				<div data-id="ffc6378" data-element_type="column">
			<div>
					<div>
				<div data-id="ec89554" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<div><p><b>2. Casual browsing</b></p>
<p>Open to being tempted by offers and new products.</p></div>
				</div>
				</div>
						</div>
			</div>
		</div>
						</div>
			</div>
		</section>
						</div>
			</div>
		</div>
						</div>
			</div>
		</section>
				<section data-id="e172bda" data-element_type="section" data-settings="{&quot;background_background&quot;:&quot;classic&quot;}">
						<div>
				<div>
				<div data-id="ae81c4a" data-element_type="column">
			<div>
					<div>
				<div data-id="4482701" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<p>Klarna have a version of this when paying for your <em>first</em> item, after you click on a CTA that is very event-drive: “<em>I’m ready to pay”</em>.</p>
				</div>
				</div>
				<div data-id="375d035" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<p>As this is your first experience of Klarna, you’re probably anxious to see if there will be any additional fees. You want to make the payment as quickly as possible, and be reassured that you didn’t make a mistake trusting Klarna in the first place.</p>
				</div>
				</div>
				<div data-id="19dcef3" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<p>Well, after clicking on that CTA, you’re immediately asked to invest your time into creating better future shopping experiences. This is their ‘clubcard’ moment.</p>
				</div>
				</div>
						</div>
			</div>
		</div>
						</div>
			</div>
		</section>
				<section data-id="95c6e5a" data-element_type="section" data-settings="{&quot;background_background&quot;:&quot;classic&quot;}">
						<div>
				<div>
				<div data-id="2c8094f" data-element_type="column">
			<div>
					<div>
				<section data-id="d212cad" data-element_type="section">
						<div>
				<div>
				<div data-id="c56e247" data-element_type="column">
			<div>
					<div>
				<div data-id="0d2a083" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<p><strong>You click “I’m ready to pay”…</strong></p>
				</div>
				</div>
				<div data-id="205879d" data-element_type="widget" data-widget_type="image.default">
				<div>
					<p><img width="400" height="866" src="https://builtformars.co.uk/wp-content/uploads/2020/09/IMG_4743.jpg" alt="" srcset="https://builtformars.co.uk/wp-content/uploads/2020/09/IMG_4743.jpg 400w, https://builtformars.co.uk/wp-content/uploads/2020/09/IMG_4743-139x300.jpg 139w, https://builtformars.co.uk/wp-content/uploads/2020/09/IMG_4743-46x100.jpg 46w, https://builtformars.co.uk/wp-content/uploads/2020/09/IMG_4743-208x450.jpg 208w" sizes="(max-width: 400px) 100vw, 400px">											</p>
				</div>
				</div>
						</div>
			</div>
		</div>
				
				<div data-id="7a3bed4" data-element_type="column">
			<div>
					<div>
				
				<div data-id="9790067" data-element_type="widget" data-widget_type="image.default">
				<div>
					<p><img width="400" height="866" src="https://builtformars.co.uk/wp-content/uploads/2020/09/KlarnaShoppingMadeEasy.jpg" alt="" srcset="https://builtformars.co.uk/wp-content/uploads/2020/09/KlarnaShoppingMadeEasy.jpg 400w, https://builtformars.co.uk/wp-content/uploads/2020/09/KlarnaShoppingMadeEasy-139x300.jpg 139w, https://builtformars.co.uk/wp-content/uploads/2020/09/KlarnaShoppingMadeEasy-46x100.jpg 46w, https://builtformars.co.uk/wp-content/uploads/2020/09/KlarnaShoppingMadeEasy-208x450.jpg 208w" sizes="(max-width: 400px) 100vw, 400px">											</p>
				</div>
				</div>
						</div>
			</div>
		</div>
						</div>
			</div>
		</section>
						</div>
			</div>
		</div>
						</div>
			</div>
		</section>
				<section data-id="da9be87" data-element_type="section" data-settings="{&quot;background_background&quot;:&quot;classic&quot;}">
						<div>
				<div>
				<div data-id="b5ed187" data-element_type="column">
			<div>
					<div>
				<div data-id="6502581" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<p>The point here isn’t that Klarna shouldn’t be asking users to invest their time—it’s that right now, in this moment, the user is focused on a task.&nbsp;</p>
				</div>
				</div>
				<div data-id="81d3f5c" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<p>And if you’re trying to get a user’s attention, to ultimately invest time into something irrelevant, then you’ll have much more success doing it <strong><em>after</em></strong> they’ve completed that task.</p>
				</div>
				</div>
				<div data-id="fcbfbaa" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<p>Or rather: if Klarna asked this same question after the payment had been made, I’d be confident that they’d increase the engagement they received.</p>
				</div>
				</div>
						</div>
			</div>
		</div>
						</div>
			</div>
		</section>
				<section data-id="08dd173" data-element_type="section" data-settings="{&quot;background_background&quot;:&quot;classic&quot;}">
						<div>
				<div>
				<div data-id="fde957c" data-element_type="column" data-settings="{&quot;background_background&quot;:&quot;classic&quot;}">
			<div>
					<div>
				<section data-id="4714216" data-element_type="section">
						<div>
				<div>
				<div data-id="38244b0" data-element_type="column">
			<div>
					<div>
				<div data-id="30195a9" data-element_type="widget" data-settings="{&quot;_animation&quot;:&quot;none&quot;}" data-widget_type="heading.default">
				<p>
			<h4>🎯 Event-driven behaviour</h4>		</p>
				</div>
						</div>
			</div>
		</div>
				
						</div>
			</div>
		</section>
				<section data-id="b3921ab" data-element_type="section">
						<div>
				<div>
				<div data-id="eeb9bc5" data-element_type="column">
			<div>
					<div>
				<div data-id="9aac358" data-element_type="widget" data-widget_type="blockquote.default">
				<div>
					<blockquote>
			<p>
				When a user is focused on completing a specific task, they probably don't want to be distracted—and, your conversion rates will be lower.			</p>
							
					</blockquote>
				</div>
				</div>
						</div>
			</div>
		</div>
						</div>
			</div>
		</section>
						</div>
			</div>
		</div>
						</div>
			</div>
		</section>
				<section data-id="8211523" data-element_type="section" data-settings="{&quot;background_background&quot;:&quot;classic&quot;}">
						<div>
				<div>
				<div data-id="2278c85" data-element_type="column">
			<div>
					<div>
				
				<div data-id="2979444" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<p>Imagine if my Tesco scenario actually went like this:</p>
				</div>
				</div>
				<div data-id="db716e1" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<p>“<em>Do you have a Tesco clubcard</em>?”</p>
				</div>
				</div>
				
				<div data-id="ed55f8b" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<p>“<em>Would you like to sign up now</em>?”</p>
				</div>
				</div>
				
				
				
				
				<div data-id="1d30900" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<div><p>Let’s be honest, this would be insane, yet it’s exactly what Klarna do. Actually, they ask if you’re sure <strong>four times</strong> in a row.</p>
</div>
				</div>
				</div>
						</div>
			</div>
		</div>
						</div>
			</div>
		</section>
				<section data-id="3d6d98c" data-element_type="section" data-settings="{&quot;background_background&quot;:&quot;classic&quot;}">
						
		</section>
				<section data-id="f506cd6" data-element_type="section" data-settings="{&quot;background_background&quot;:&quot;classic&quot;}">
						<div>
				<div>
				<div data-id="1c15876" data-element_type="column">
			<div>
					<div>
				<div data-id="48578f3" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<p>There are two problems with what Klarna are doing here:</p>
				</div>
				</div>
						</div>
			</div>
		</div>
						</div>
			</div>
		</section>
				<section data-id="cb2fa5a" data-element_type="section" data-settings="{&quot;background_background&quot;:&quot;classic&quot;}">
						<div>
				<div>
				<div data-id="56803dc" data-element_type="column">
			<div>
					<div>
				<section data-id="d7a0b29" data-element_type="section" data-settings="{&quot;background_background&quot;:&quot;classic&quot;}">
						<div>
				<div>
				
				<div data-id="3c3ef18" data-element_type="column">
			<div>
					<div>
				<div data-id="3beccd4" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<div><p><strong>1. Offering no new information</strong></p>
<p>Just asking the same question again isn’t convincing—you need to entice the user into changing their mind with some new information, or a benefit that they may not have correctly valued before.</p></div>
				</div>
				</div>
						</div>
			</div>
		</div>
						</div>
			</div>
		</section>
				<section data-id="2304784" data-element_type="section" data-settings="{&quot;background_background&quot;:&quot;classic&quot;}">
						<div>
				<div>
				
				<div data-id="f9d270c" data-element_type="column">
			<div>
					<div>
				<div data-id="1e2ad5f" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<div><p><b>2. Making you skip each step individually</b></p>
<p>If you want to skip the first part of the personalisation process, you probably also want to skip all the following parts too.</p></div>
				</div>
				</div>
						</div>
			</div>
		</div>
						</div>
			</div>
		</section>
						</div>
			</div>
		</div>
						</div>
			</div>
		</section>
				<section data-id="7b217be" data-element_type="section" data-settings="{&quot;background_background&quot;:&quot;classic&quot;}">
						<div>
				<div>
				<div data-id="8d4faf9" data-element_type="column">
			<div>
					<div>
				<div data-id="8ce480f" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<p>It’s actually quite helpful to use my analogy again:</p>
				</div>
				</div>
				<div data-id="138f987" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<p>It may be convincing enough if the Tesco employee responded with new information, for example:</p>
				</div>
				</div>
				<div data-id="0ffae1c" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<p>“<em>Are you sure? All I need is your email address and you’ll get a £2 bonus instantly.”</em></p>
				</div>
				</div>
				<div data-id="195c3e5" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<p>In conversation, this is mostly instinctive. If someone says no to your offer, you immediately know that you need to entice them a little more. Even children understand this.</p>
				</div>
				</div>
				<div data-id="e852ef5" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<div><p>But in software, human instinct needs to be designed. It rarely happens by coincidence.</p>
<p>…</p></div>
				</div>
				</div>
						</div>
			</div>
		</div>
						</div>
			</div>
		</section>
				<section data-id="381636f" data-element_type="section" data-settings="{&quot;background_background&quot;:&quot;classic&quot;}">
						<div>
				<div>
				<div data-id="c2b116c" data-element_type="column" data-settings="{&quot;background_background&quot;:&quot;classic&quot;}">
			<div>
					<div>
				<section data-id="6799b13" data-element_type="section">
						
		</section>
				<section data-id="b920236" data-element_type="section">
						<div>
				<div>
				<div data-id="097f064" data-element_type="column">
			<div>
					<div>
				<div data-id="0c56897" data-element_type="widget" data-widget_type="blockquote.default">
				<div>
					<blockquote>
			<p>
				If you've got an 'are you sure' screen, make sure it's (in some way) more enticing than what you'd displayed before.			</p>
							
					</blockquote>
				</div>
				</div>
						</div>
			</div>
		</div>
						</div>
			</div>
		</section>
						</div>
			</div>
		</div>
						</div>
			</div>
		</section>
				<section data-id="865c1d0" data-element_type="section" data-settings="{&quot;background_background&quot;:&quot;classic&quot;}">
						<div>
				<div>
				<div data-id="48a79da" data-element_type="column">
			<div>
					<div>
				<div data-id="7594657" data-element_type="widget" data-settings="{&quot;_animation&quot;:&quot;none&quot;}" data-widget_type="heading.default">
				<p>
			<h4>3. The irony of telling people how easy something is</h4>		</p>
				</div>
				<div data-id="ca49d7e" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<p>Telling someone how easy something is—without quantifying it in any way—is in short; useless.</p>
				</div>
				</div>
				<div data-id="a763e84" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<p>There’s a deep irony too: companies believe their own products are easy to use, so they tell people how easy they are to use. In doing so, adding stuff for the user to read, making it take longer.</p>
				</div>
				</div>
				<div data-id="863bbfa" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<div><p>The key is to not just <em>say</em> something is easy, but explain <em>why</em> it’s easy. Otherwise it’s nothing more than padding.</p>
<p>…</p></div>
				</div>
				</div>
				
						</div>
			</div>
		</div>
						</div>
			</div>
		</section>
				<section data-id="c25b3d2" data-element_type="section" data-settings="{&quot;background_background&quot;:&quot;classic&quot;}">
						<div>
				<div>
				<div data-id="579ad9b" data-element_type="column">
			<div>
					<div>
				<section data-id="3eb8f35" data-element_type="section">
						
		</section>
				<section data-id="b226c69" data-element_type="section">
						<div>
				<div>
				
				<div data-id="bb094bc" data-element_type="column">
			<div>
					<div>
				<div data-id="9c494da" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<p>All you need is an email address—that’s how easy it is.</p>
				</div>
				</div>
						</div>
			</div>
		</div>
						</div>
			</div>
		</section>
				<section data-id="79467ab" data-element_type="section">
						<div>
				<div>
				
				<div data-id="c3301cb" data-element_type="column">
			<div>
					<div>
				<div data-id="718faed" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<p>90% of our users complete this process within 75 seconds.</p>
				</div>
				</div>
						</div>
			</div>
		</div>
						</div>
			</div>
		</section>
				
						</div>
			</div>
		</div>
						</div>
			</div>
		</section>
				<section data-id="f209100" data-element_type="section" data-settings="{&quot;background_background&quot;:&quot;classic&quot;}">
						<div>
				<div>
				<div data-id="77fa63e" data-element_type="column">
			<div>
					<div>
				<div data-id="fc611af" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<p>Klarna have a great example of this: telling the user <strong>“It’s a breeze”</strong>.</p>
				</div>
				</div>
				<div data-id="35b106d" data-element_type="widget" data-widget_type="image.default">
				<div>
					<p><img width="500" height="574" src="https://builtformars.co.uk/wp-content/uploads/2020/09/ItsDamnEasy.jpg" alt="" srcset="https://builtformars.co.uk/wp-content/uploads/2020/09/ItsDamnEasy.jpg 500w, https://builtformars.co.uk/wp-content/uploads/2020/09/ItsDamnEasy-261x300.jpg 261w, https://builtformars.co.uk/wp-content/uploads/2020/09/ItsDamnEasy-87x100.jpg 87w, https://builtformars.co.uk/wp-content/uploads/2020/09/ItsDamnEasy-392x450.jpg 392w" sizes="(max-width: 500px) 100vw, 500px">											</p>
				</div>
				</div>
				<div data-id="b39ac87" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<p>If this seems tiny and insignificant, that’s because it is. But it’s also easily solvable, and a missed opportunity to say something that’s actually interesting.</p>
				</div>
				</div>
				<div data-id="4a0db2a" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<p>Great product design is a balancing act of being as concise as possible, whilst also being as convincing as possible.</p>
				</div>
				</div>
						</div>
			</div>
		</div>
						</div>
			</div>
		</section>
				<section data-id="d2b094f" data-element_type="section" data-settings="{&quot;background_background&quot;:&quot;classic&quot;}">
						<div>
				<div>
				<div data-id="2198c62" data-element_type="column" data-settings="{&quot;background_background&quot;:&quot;classic&quot;}">
			<div>
					<div>
				<section data-id="3741598" data-element_type="section">
						
		</section>
				<section data-id="db09822" data-element_type="section">
						<div>
				<div>
				<div data-id="432dc58" data-element_type="column">
			<div>
					<div>
				<div data-id="a6df267" data-element_type="widget" data-widget_type="blockquote.default">
				<div>
					<blockquote>
			<p>
				If you have to tell someone how easy your process is, it's probably not easy enough.			</p>
							
					</blockquote>
				</div>
				</div>
						</div>
			</div>
		</div>
						</div>
			</div>
		</section>
						</div>
			</div>
		</div>
						</div>
			</div>
		</section>
				<section data-id="ae6fb04" data-element_type="section" data-settings="{&quot;background_background&quot;:&quot;classic&quot;}">
						<div>
				<div>
				<div data-id="ca99bc1" data-element_type="column">
			<div>
					<div>
				<div data-id="ed0d631" data-element_type="widget" data-settings="{&quot;_animation&quot;:&quot;none&quot;}" data-widget_type="heading.default">
				<p>
			<h4>4. People will enter their details incorrectly</h4>		</p>
				</div>
				<div data-id="be4fb93" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<p>You’ve probably heard the quote: <em>nothing is certain, except death and taxes</em>.</p>
				</div>
				</div>
				<div data-id="412a5b0" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<p>Really though, this needs to be rewritten for 2020:</p>
				</div>
				</div>
				<div data-id="f76dde6" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<p>“Nothing is certain, except death, taxes, <strong>and that customers will enter their personal details incorrectly on your form</strong>“.</p>
				</div>
				</div>
				<div data-id="fd9a5eb" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<p>When designing software, in particular forms, you need to make sure that users can go back and edit their data—without having to just start again—because they will get it wrong some of the time.</p>
				</div>
				</div>
				<div data-id="1505f04" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<p>Which is why verifying your phone number with Klarna is so frustrating—you can’t go back. You have to request a new email, get a new link, and start again.</p>
				</div>
				</div>
						</div>
			</div>
		</div>
						</div>
			</div>
		</section>
				<section data-id="3ef561d" data-element_type="section" data-settings="{&quot;background_background&quot;:&quot;classic&quot;}">
						
		</section>
				<section data-id="a021ffc" data-element_type="section" data-settings="{&quot;background_background&quot;:&quot;classic&quot;}">
						<div>
				<div>
				<div data-id="aaf462b" data-element_type="column">
			<div>
					<div>
				<div data-id="e74d53d" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<p>This is probably an oversight, …</p></div></div></div></div></div></div></div></section></div></div></div></div></div></div></div></div></div></div></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://builtformars.co.uk/how-klarna-works/">https://builtformars.co.uk/how-klarna-works/</a></em></p>]]>
            </description>
            <link>https://builtformars.co.uk/how-klarna-works/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24502062</guid>
            <pubDate>Thu, 17 Sep 2020 07:32:09 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[TOC Approves KubeEdge as Incubating Project – Cloud Native Computing Foundation]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24502043">thread link</a>) | @kwang0126
<br/>
September 17, 2020 | https://www.cncf.io/blog/2020/09/16/toc-approves-kubeedge-as-incubating-project/ | <a href="https://web.archive.org/web/*/https://www.cncf.io/blog/2020/09/16/toc-approves-kubeedge-as-incubating-project/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
			
<p>Today, the CNCF Technical Oversight Committee (TOC) voted to accept <a href="https://kubeedge.io/en/">KubeEdge</a> as an incubation-level hosted project.</p>



<p>KubeEdge is an open source system for extending containerized application orchestration capabilities to hosts at the edge. It is built on top of Kubernetes and provides infrastructure support for network, application deployment, and metadata synchronization between the cloud and the edge.</p>



<p>“We designed KubeEdge to address three major challenges in edge computing – network reliability between the cloud and edge, resource constraint on edge nodes, and scalability challenges of highly distributed edge architectures,” said Zefeng Wang and Yin Ding, KubeEdge maintainers. “By extending cloud native technologies to the edge, KubeEdge forms a complete edge cloud computing ecosystem. We are very excited to continue to make the project more robust as it moves to incubation.”</p>



<p>KubeEdge was accepted as a CNCF Sandbox project in March 2019, and released version 1.0 in June 2019. The KubeEdge team now releases quarterly, timed with the release of upstream Kubernetes.&nbsp;</p>



<p>Since joining CNCF, KubeEdge has added more than <a href="https://kubeedge.devstats.cncf.io/d/18/overall-project-statistics-table?orgId=1">395 Contributors</a> from 25 organizations. The project has 14 maintainers from 5 different organizations, including Arm, China Unicom, Huawei, infoblox.com, and inovex.de, and is used in production by <a href="https://huaweicloud.com/">Huawei Cloud</a>, <a href="https://kubesphere.io/">KubeSphere</a>, <a href="https://github.com/kubeedge/kubeedge/blob/master/ADOPTERS.md#raisecom-technology-coltd">Raisecom</a>, <a href="https://cucc.wocloud.cn/">WoCloud</a>, <a href="https://github.com/kubeedge/kubeedge/blob/master/ADOPTERS.md#xinghai-iot">Xinghai IoT</a>, and more.</p>



<p>“KubeEdge solves a complex and unique use case of running containerized applications on edge devices, which benefits the cloud computing ecosystem as a whole,” said Alena Prokharchyk, CNCF TOC member. “Its architecture meets the reliability, availability, and extensibility criteria needed for further growth and adoption. We look forward to seeing new and improved features as the project moves to this new level.”</p>



<p><strong>Main KubeEdge Features:</strong></p>



<ul><li>Cloud-Edge Reliable Collaboration: Ensure reliable messages delivery without loss over an unstable cloud-edge network.</li><li>Edge Autonomy: Ensure edge nodes run autonomously, and the applications on edge run normally, even when the cloud-edge network is unstable, or the edge is offline and restarted.</li><li>Edge Device Management: Managing edge devices through Kubernetes native APIs implemented by CRD.</li><li>Lightweight Edge Agent: Extremely lightweight Edge Agent&nbsp; (EdgeCore) to run on the resource-constrained edge.</li></ul>



<p><strong>Notable Milestones:</strong></p>



<ul><li>&gt; 2,500 Commits</li><li>&gt; 2,900 GitHub Stars</li><li>&gt; 780 Forks</li></ul>



<p>KubeEdge is an active participant in the CNCF community and contributes to the upstream Kubernetes project to solve common issues. The project is built on Kubernetes and integrates with other CNCF projects, including containerd and CRI-O as a lightweight container runtime, Prometheus for metrics on the edge, and Envoy for ingress. It also uses gRPC to offer cloud edge remote calls for applications.</p>



<p>The KubeEdge team also <a href="https://thenewstack.io/kubeedge-and-its-role-in-multi-access-edge-computing/">collaborated with LF Edge</a> in setting up the Akraino KubeEdge Edge Service Blueprint Family and Akraino Eliot Blueprint Family projects, which can be deployed at enterprise edges or as a cloud edge extension interfacing to the core telco network.</p>



<p>“Kubernetes is the de-facto orchestrator for cloud native services and is starting to evolve in future edge computing deployments,” said Chris Aniszczyk, CTO/COO of Cloud Native Computing Foundation. “KubeEdge plays an important role in bringing Kubernetes to the edge. We look forward to seeing how the project develops and pushes the Kubernetes community into new areas.”&nbsp;</p>



<p>As a CNCF-hosted project, joining incubating technologies Argo, CloudEvents, CNI, Contour, Cortex, CRI-O, Dragonfly, etcd, Falco, gRPC, Linkerd, NATS, Notary, OPA, OpenTracing, Operator Framework, Rook, SPIFFE, SPIRE, and Thanos, KubeEdge is part of a neutral foundation aligned with its technical interests, as well as the larger Linux Foundation, which provides governance, marketing support, and community outreach. For more information on maturity requirements for each level, please visit the <a href="https://github.com/cncf/toc/blob/master/process/graduation_criteria.adoc">CNCF Graduation Criteria</a>.</p>



<p>To learn more about KubeEdge, visit <a href="https://kubeedge.io/">https://kubeedge.io/</a>.&nbsp;</p>


			<hr>
			
		</div></div>]]>
            </description>
            <link>https://www.cncf.io/blog/2020/09/16/toc-approves-kubeedge-as-incubating-project/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24502043</guid>
            <pubDate>Thu, 17 Sep 2020 07:29:02 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Introduction to the Relational Algebra]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24501895">thread link</a>) | @spermwhale0
<br/>
September 16, 2020 | https://shark.armchair.mb.ca/~erwin/relalgintro_0105.html | <a href="https://web.archive.org/web/*/https://shark.armchair.mb.ca/~erwin/relalgintro_0105.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		<tbody>
			<tr>
				<td></td>
				<td>
					<h2>What, why &amp; who for ?</h2>
					<p>This document essentially contains an introduction to the relational algebra that is implemented in SIRA_PRISE. Depending on your background, you may already have some or very extensive knowledge about the subject, in which case you probably do not need to read this document.</p>
					<p>If, however, your knowledge of and about the Relational Model of Data was primarily/solely obtained through the usage of SQL-based systems, and terms such as "relvar", "relation" and "tuple" sound completely unfamiliar to you, then carefully studying this document is probably a sine qua non for you to
						understand and effectively use this new system you've got in your hands.</p>
					<p>This introduction is subdivided in several parts :&nbsp;</p>
					<ul>
						<li>The first part, "<a href="#Terminology">Terminology</a>", defines the components that lay the foundation for any relational database : type, value, tuple, relation, ... &nbsp;It is rather mathematical in nature and may therefore seem to be a bit alienating ("What the hell do IT&nbsp;professionals need
							mathematics for ?"), but let me assure you that understanding&nbsp;this part really is relevant and really is needed for you to understand part two properly.
						</li>
						<li>Part two, "<a href="#Relational_Algebra">Relational Algebra</a>", offers a detailed definition and discussion of all the operators of the algebra, which is the part of the relational model that every database user employs in every single query he/she writes and/or&nbsp;executes.
						</li>
						<li>Part two introduces the operators of the algebra, making abstraction of a very particular data type called the interval type. SIRA_PRISE offers support for interval types, and the third part, "<a href="#interval_types">The RA and interval types</a>", introduces how the operators of the algebra behave
							when faced with relations that hold interval-typed attributes.
						</li>
					</ul>
					<h2>
						<a id="Terminology"></a>Terminology
					</h2>
					<p>You may have wondered, at some time, why "Relational databases" (and "Relational dbms's") are called how they are. You may have assumed that it must have had something to do with this thing called "Entity-Relationship modeling" that you may already have practiced at some point in your career. Your
						assumption was wrong. In fact, the first mention of the term "relational" in the context of data management even predates the invention of E/R modeling ... So where dóes the term come from ?</p>
					<p>Well, the term comes from something that we have presumably all been taught about in our math classes, somewhere between the age of 10 and 20, that thing being the "relation". The Relational Model of Data (RM for short) is no more or less than a mechanism to represent data in general, and which has that
						same mathematical concept of a relation as its key building brick. Before digging into the details of the algebra, it is first necessary to define a couple of terms that are frequently used when talking about the RM. That is where we will start this introduction of the relational algebra.</p>
					<ol>
						<li>
							<h3>
								<i>Set</i>
							</h3>
							<p>Lots of people collect things. Stamps, coins, rare books, art reproductions or even original art masterpieces, just name it and someone exists who collects it. You probably have spent some time in your life too, trying to build up some collection. If you have, doubtless that there have been some items
								that you have managed to collect more than once. It was problaby fun trading those "duplicates" with fellow collectors for items that you had not yet managed to collect. Well, a "collection" is a very fundamental concept in mathematics, one that is in fact needed to define what a "set" is.</p>
							<p>In mathematics, a "collection" is, loosely speaking, any possible gathering in any possible quantity of any possible things. The gathering of (chair, cloud, oak tree, chair) is a collection. Note that the collection has two chairs.</p>
							<p>Now, if a collection has the particular property that none of the items in the collection appear more than once, then we call this collection a "set". This property turns out to be a very useful and important one, and therefore sets, and set theory, are very important in mathematics. So important in fact
								that relational database technology could and would not even have been invented without them. Important enough also, to be repeated in bold :</p>
							<p>
								<b>A set is a collection that does not contain duplicates.<br> Something that does contain duplicates, is not a set.
								</b>
							</p>
						</li>
						<li>
							<h3>
								<i>Type/Value</i>
							</h3>
							<ol>
								<li>
									<h4>
										<i>Definition</i>
									</h4>
									<p>So {A,1,oak tree,patent} is a set. {A,patent,A} is not. Now, in the context of data management problems, which is what we're interested in, sets such as those&nbsp;are of course not very useful. In the context of data management, sets are mostly useful only if the items they contain are in some way
										"alike". In that context, we usually deal with sets that contain only numbers, only dates, or some such. Useful sets in data management are sets such as {Monday, Tuesday, Wednesday, Thursday, Friday} and {true, false}. Without attempting a formal and precise definition of the term, we can (and do) say that a
										Type is such a "useful" set. And a Value is one of the items contained in a Type. Which brings us to :</p>
									<p>
										<b>A Type is a set of Values.</b>
									</p>
								</li>
								<li>
									<h4>
										<i>Additional remarks</i>
									</h4>
									<p>In data management, we will often need to speak about, or refer to, such Types. For that reason, it is customary that all the Types we use are assigned a name. The type {Monday, Tuesday, Wednesday, Thursday, Friday}, e.g. could be assigned the name 'Weekdays'. The type {true, false}, e.g. could be
										assigned the name 'Boolean'. Such that we can say :</p>
									<p>
										<b>A Type is a named set of Values.</b>
									</p>
									<p>You might wonder at the mutual dependency in the definition here. A type is a set of values, and a value is an item in a type. In the end, that doesn't really define much, does it ? Shouldn't we have some other definition of what a 'Value' is ? Well, for the purpose of this introduction, that isn't
										really necessary. The reason for this is that the RM (and the algebra) can work with just any set of types. The RM does not "fall apart" if the set of integers is not defined as a type, nor does the algebra. (It would be difficult to build a useful database without that type, but that's another issue.) And
										the most important consequence is that this observation is equally valid "the other way round" : the RM does not stop you from defining whatever type you like. The RM gives you no answer to the question when or why something is a value, and when or why not. As far as the RM is concerned, a value is whatever
										you want it to be, and a type is whatever set you define it to be. It only depends on whether you have a useful purpose for the type or not. A set such as {Em, C, G, ...} might look pretty insane and useless to most readers, but a guitar player would certainly have some good uses for a type holding the guitar
										chords as values ...</p>
								</li>
							</ol>
						</li>
						<li>
							<h3>
								<i>Cartesian product</i>
							</h3>
							<ol>
								<li>
									<h4>
										<i>Definition</i>
									</h4>
									<p>Looking at our example types Weekday and Boolean, it's not difficult to see how one can "pick a value from the first type, then pick a value from the second one, then arrange those two picked values to form a pair.". One example of such a pair would be (Monday, false). There are 10 such pairs possible,
										and those 10 pairs can be gathered into a set. Such a set turns out to be a very important concept in mathematics too, so important in fact that the concept of such a set is given a name : the "Cartesian Product".</p>
									<p>
										<b>The Cartesian product of two sets is the set of all possible pairs formed from the items in those two sets.</b>
									</p>
								</li>
								<li>
									<h4>
										<i>Remarks</i>
									</h4>
									<p>The term "Cartesian product" is not often encountered in the world of RM. The reason for&nbsp;this will become clear in the next few sections. Nevertheless it is worthwhile to reiterate in a more informal manner : A Cartesian product is a set, and the things that we find in that set are "pairs of other
										things", and those "other things" are precisely the things that are part of one of the sets that were used to form the Cartesian product.</p>
								</li>
							</ol>
						</li>
						<li>
							<h3>
								<i>Relation (Traditional mathematics version)</i>
							</h3>
							<ol>
								<li>
									<h4>
										<i>Definition</i>
									</h4>
									<p>Traditional set theory then goes on to define the concept of a "Relation" :</p>
									<p>A Relation is a subset of a Cartesian product of two sets.</p>
								</li>
								<li>
									<h4>
										<i>Remarks</i>
									</h4>
								</li>
								<p>Examples of such relations are then : {(Monday, false),(Monday, true)}, {}, {(Tuesday, false),(Thursday, true)}, ...</p>
								<p>Once again it is worthwhile to reiterate in a more informal manner : A Relation is a set, and the things that we find in that set are "pairs of other things", and those "other things" are precisely the things that are part of one of the sets that were used to form the Cartesian product of which the
									Relation happens to be a subset.</p>
							</ol>
						</li>
						<li>
							<h3>
								<i>Generalized product</i>
							</h3>
							<ol>
								<li>
									<h4>
										<i>Definition</i>
									</h4>
									<p>Following this definition, a relation can be (and is indeed) defined as being a set of pairs. For the context of data management problems, this definition isn't so useful, however. Indeed, when recording data about our customers, sales, ..., we usually record a lot more things than just two. So for the
										specific purpose of data management, the concept of a relation had to be "adapted" somewhat ("generalised" is the correct word, actually) to cater for that problem. It is not difficult to see how this can be done : instead of "picking values from two types and arrange those", one can also "pick one value from
										each of any number of types, and arrange those". The set that is formed by …</p></li></ol></li></ol></td></tr></tbody></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://shark.armchair.mb.ca/~erwin/relalgintro_0105.html">https://shark.armchair.mb.ca/~erwin/relalgintro_0105.html</a></em></p>]]>
            </description>
            <link>https://shark.armchair.mb.ca/~erwin/relalgintro_0105.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24501895</guid>
            <pubDate>Thu, 17 Sep 2020 06:56:37 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Write a Shell in C (2015)]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24501806">thread link</a>) | @xanthine
<br/>
September 16, 2020 | https://brennan.io/2015/01/16/write-a-shell-in-c/ | <a href="https://web.archive.org/web/*/https://brennan.io/2015/01/16/write-a-shell-in-c/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

  
<p><em>Stephen Brennan • 16 January 2015</em></p><p>It’s easy to view yourself as “not a <em>real</em> programmer.”  There are programs out
there that everyone uses, and it’s easy to put their developers on a pedestal.
Although developing large software projects isn’t easy, many times the basic
idea of that software is quite simple.  Implementing it yourself is a fun way to
show that you have what it takes to be a real programmer.  So, this is a
walkthrough on how I wrote my own simplistic Unix shell in C, in the hopes that
it makes other people feel that way too.</p>

<p>The code for the shell described here, dubbed <code>lsh</code>, is available on
<a href="https://github.com/brenns10/lsh">GitHub</a>.</p>

<p><strong>University students beware!</strong> Many classes have assignments that ask you to
write a shell, and some faculty are aware of this tutorial and code.  If you’re
a student in such a class, you shouldn’t copy (or copy then modify) this code
without permission.  And even then, I would <a href="https://brennan.io/2016/03/29/dishonesty/">advise</a> against heavily relying on this tutorial.</p>

<h2 id="basic-lifetime-of-a-shell">Basic lifetime of a shell</h2>

<p>Let’s look at a shell from the top down.  A shell does three main things in its
lifetime.</p>

<ul>
  <li><strong>Initialize</strong>: In this step, a typical shell would read and execute its
configuration files.  These change aspects of the shell’s behavior.</li>
  <li><strong>Interpret</strong>: Next, the shell reads commands from stdin (which could be
interactive, or a file) and executes them.</li>
  <li><strong>Terminate</strong>: After its commands are executed, the shell executes any
shutdown commands, frees up any memory, and terminates.</li>
</ul>

<p>These steps are so general that they could apply to many programs, but we’re
going to use them for the basis for our shell.  Our shell will be so simple that
there won’t be any configuration files, and there won’t be any shutdown command.
So, we’ll just call the looping function and then terminate.  But in terms of
architecture, it’s important to keep in mind that the lifetime of the program is
more than just looping.</p>

<div><div><pre><code><span>int</span> <span>main</span><span>(</span><span>int</span> <span>argc</span><span>,</span> <span>char</span> <span>**</span><span>argv</span><span>)</span>
<span>{</span>
  <span>// Load config files, if any.
</span>
  <span>// Run command loop.
</span>  <span>lsh_loop</span><span>();</span>

  <span>// Perform any shutdown/cleanup.
</span>
  <span>return</span> <span>EXIT_SUCCESS</span><span>;</span>
<span>}</span>
</code></pre></div></div>

<p>Here you can see that I just came up with a function, <code>lsh_loop()</code>, that will
loop, interpreting commands.  We’ll see the implementation of that next.</p>

<h2 id="basic-loop-of-a-shell">Basic loop of a shell</h2>

<p>So we’ve taken care of how the program should start up.  Now, for the basic
program logic: what does the shell do during its loop?  Well, a simple way to
handle commands is with three steps:</p>

<ul>
  <li><strong>Read</strong>: Read the command from standard input.</li>
  <li><strong>Parse</strong>: Separate the command string into a program and arguments.</li>
  <li><strong>Execute</strong>: Run the parsed command.</li>
</ul>

<p>Here, I’ll translate those ideas into code for <code>lsh_loop()</code>:</p>

<div><div><pre><code><span>void</span> <span>lsh_loop</span><span>(</span><span>void</span><span>)</span>
<span>{</span>
  <span>char</span> <span>*</span><span>line</span><span>;</span>
  <span>char</span> <span>**</span><span>args</span><span>;</span>
  <span>int</span> <span>status</span><span>;</span>

  <span>do</span> <span>{</span>
    <span>printf</span><span>(</span><span>"&gt; "</span><span>);</span>
    <span>line</span> <span>=</span> <span>lsh_read_line</span><span>();</span>
    <span>args</span> <span>=</span> <span>lsh_split_line</span><span>(</span><span>line</span><span>);</span>
    <span>status</span> <span>=</span> <span>lsh_execute</span><span>(</span><span>args</span><span>);</span>

    <span>free</span><span>(</span><span>line</span><span>);</span>
    <span>free</span><span>(</span><span>args</span><span>);</span>
  <span>}</span> <span>while</span> <span>(</span><span>status</span><span>);</span>
<span>}</span>
</code></pre></div></div>

<p>Let’s walk through the code.  The first few lines are just declarations.  The
do-while loop is more convenient for checking the status variable, because it
executes once before checking its value.  Within the loop, we print a prompt,
call a function to read a line, call a function to split the line into args, and
execute the args.  Finally, we free the line and arguments that we created
earlier.  Note that we’re using a status variable returned by <code>lsh_execute()</code> to
determine when to exit.</p>

<h2 id="reading-a-line">Reading a line</h2>

<p>Reading a line from stdin sounds so simple, but in C it can be a hassle.  The
sad thing is that you don’t know ahead of time how much text a user will enter
into their shell.  You can’t simply allocate a block and hope they don’t exceed
it.  Instead, you need to start with a block, and if they do exceed it,
reallocate with more space.  This is a common strategy in C, and we’ll use it to
implement <code>lsh_read_line()</code>.</p>

<div><div><pre><code><span>#define LSH_RL_BUFSIZE 1024
</span><span>char</span> <span>*</span><span>lsh_read_line</span><span>(</span><span>void</span><span>)</span>
<span>{</span>
  <span>int</span> <span>bufsize</span> <span>=</span> <span>LSH_RL_BUFSIZE</span><span>;</span>
  <span>int</span> <span>position</span> <span>=</span> <span>0</span><span>;</span>
  <span>char</span> <span>*</span><span>buffer</span> <span>=</span> <span>malloc</span><span>(</span><span>sizeof</span><span>(</span><span>char</span><span>)</span> <span>*</span> <span>bufsize</span><span>);</span>
  <span>int</span> <span>c</span><span>;</span>

  <span>if</span> <span>(</span><span>!</span><span>buffer</span><span>)</span> <span>{</span>
    <span>fprintf</span><span>(</span><span>stderr</span><span>,</span> <span>"lsh: allocation error</span><span>\n</span><span>"</span><span>);</span>
    <span>exit</span><span>(</span><span>EXIT_FAILURE</span><span>);</span>
  <span>}</span>

  <span>while</span> <span>(</span><span>1</span><span>)</span> <span>{</span>
    <span>// Read a character
</span>    <span>c</span> <span>=</span> <span>getchar</span><span>();</span>

    <span>// If we hit EOF, replace it with a null character and return.
</span>    <span>if</span> <span>(</span><span>c</span> <span>==</span> <span>EOF</span> <span>||</span> <span>c</span> <span>==</span> <span>'\n'</span><span>)</span> <span>{</span>
      <span>buffer</span><span>[</span><span>position</span><span>]</span> <span>=</span> <span>'\0'</span><span>;</span>
      <span>return</span> <span>buffer</span><span>;</span>
    <span>}</span> <span>else</span> <span>{</span>
      <span>buffer</span><span>[</span><span>position</span><span>]</span> <span>=</span> <span>c</span><span>;</span>
    <span>}</span>
    <span>position</span><span>++</span><span>;</span>

    <span>// If we have exceeded the buffer, reallocate.
</span>    <span>if</span> <span>(</span><span>position</span> <span>&gt;=</span> <span>bufsize</span><span>)</span> <span>{</span>
      <span>bufsize</span> <span>+=</span> <span>LSH_RL_BUFSIZE</span><span>;</span>
      <span>buffer</span> <span>=</span> <span>realloc</span><span>(</span><span>buffer</span><span>,</span> <span>bufsize</span><span>);</span>
      <span>if</span> <span>(</span><span>!</span><span>buffer</span><span>)</span> <span>{</span>
        <span>fprintf</span><span>(</span><span>stderr</span><span>,</span> <span>"lsh: allocation error</span><span>\n</span><span>"</span><span>);</span>
        <span>exit</span><span>(</span><span>EXIT_FAILURE</span><span>);</span>
      <span>}</span>
    <span>}</span>
  <span>}</span>
<span>}</span>
</code></pre></div></div>

<p>The first part is a lot of declarations.  If you hadn’t noticed, I prefer to
keep the old C style of declaring variables before the rest of the code.  The
meat of the function is within the (apparently infinite) <code>while (1)</code> loop.  In
the loop, we read a character (and store it as an <code>int</code>, not a <code>char</code>, that’s
important!  EOF is an integer, not a character, and if you want to check for it,
you need to use an <code>int</code>.  This is a common beginner C mistake.).  If it’s the
newline, or EOF, we null terminate our current string and return it.  Otherwise,
we add the character to our existing string.</p>

<p>Next, we see whether the next character will go outside of our current buffer
size.  If so, we reallocate our buffer (checking for allocation errors) before
continuing.  And that’s really it.</p>

<p>Those who are intimately familiar with newer versions of the C library may note
that there is a <code>getline()</code> function in <code>stdio.h</code> that does most of the work we
just implemented.  To be completely honest, I didn’t know it existed until after
I wrote this code.  This function was a GNU extension to the C library until
2008, when it was added to the specification, so most modern Unixes should have
it now.  I’m leaving my existing code the way it is, and I encourage people to
learn it this way first before using <code>getline</code>.  You’d be robbing yourself of a
learning opportunity if you didn’t!  Anyhow, with <code>getline</code>, the function
becomes easier:</p>

<div><div><pre><code><span>char</span> <span>*</span><span>lsh_read_line</span><span>(</span><span>void</span><span>)</span>
<span>{</span>
  <span>char</span> <span>*</span><span>line</span> <span>=</span> <span>NULL</span><span>;</span>
  <span>ssize_t</span> <span>bufsize</span> <span>=</span> <span>0</span><span>;</span> <span>// have getline allocate a buffer for us
</span>
  <span>if</span> <span>(</span><span>getline</span><span>(</span><span>&amp;</span><span>line</span><span>,</span> <span>&amp;</span><span>bufsize</span><span>,</span> <span>stdin</span><span>)</span> <span>==</span> <span>-</span><span>1</span><span>){</span>
    <span>if</span> <span>(</span><span>feof</span><span>(</span><span>stdin</span><span>))</span> <span>{</span>
      <span>exit</span><span>(</span><span>EXIT_SUCCESS</span><span>);</span>  <span>// We recieved an EOF
</span>    <span>}</span> <span>else</span>  <span>{</span>
      <span>perror</span><span>(</span><span>"readline"</span><span>);</span>
      <span>exit</span><span>(</span><span>EXIT_FAILURE</span><span>);</span>
    <span>}</span>
  <span>}</span>

  <span>return</span> <span>line</span><span>;</span>
<span>}</span>
</code></pre></div></div>

<p>This is not 100% trivial because we still need to check for EOF or errors while
reading. EOF (end of file) means that either we were reading commands from a
text file which we’ve reached the end of, or the user typed Ctrl-D, which
signals end-of-file. Either way, it means we should exit successfully, and if
any other error occurs, we should fail after printing the error.</p>

<h2 id="parsing-the-line">Parsing the line</h2>

<p>OK, so if we look back at the loop, we see that we now have implemented
<code>lsh_read_line()</code>, and we have the line of input.  Now, we need to parse that
line into a list of arguments.  I’m going to make a glaring simplification here,
and say that we won’t allow quoting or backslash escaping in our command line
arguments.  Instead, we will simply use whitespace to separate arguments from
each other.  So the command <code>echo "this message"</code> would not call echo with a
single argument <code>this message</code>, but rather it would call echo with two
arguments: <code>"this</code> and <code>message"</code>.</p>

<p>With those simplifications, all we need to do is “tokenize” the string using
whitespace as delimiters.  That means we can break out the classic library
function <code>strtok</code> to do some of the dirty work for us.</p>

<div><div><pre><code><span>#define LSH_TOK_BUFSIZE 64
#define LSH_TOK_DELIM " \t\r\n\a"
</span><span>char</span> <span>**</span><span>lsh_split_line</span><span>(</span><span>char</span> <span>*</span><span>line</span><span>)</span>
<span>{</span>
  <span>int</span> <span>bufsize</span> <span>=</span> <span>LSH_TOK_BUFSIZE</span><span>,</span> <span>position</span> <span>=</span> <span>0</span><span>;</span>
  <span>char</span> <span>**</span><span>tokens</span> <span>=</span> <span>malloc</span><span>(</span><span>bufsize</span> <span>*</span> <span>sizeof</span><span>(</span><span>char</span><span>*</span><span>));</span>
  <span>char</span> <span>*</span><span>token</span><span>;</span>

  <span>if</span> <span>(</span><span>!</span><span>tokens</span><span>)</span> <span>{</span>
    <span>fprintf</span><span>(</span><span>stderr</span><span>,</span> <span>"lsh: allocation error</span><span>\n</span><span>"</span><span>);</span>
    <span>exit</span><span>(</span><span>EXIT_FAILURE</span><span>);</span>
  <span>}</span>

  <span>token</span> <span>=</span> <span>strtok</span><span>(</span><span>line</span><span>,</span> <span>LSH_TOK_DELIM</span><span>);</span>
  <span>while</span> <span>(</span><span>token</span> <span>!=</span> <span>NULL</span><span>)</span> <span>{</span>
    <span>tokens</span><span>[</span><span>position</span><span>]</span> <span>=</span> <span>token</span><span>;</span>
    <span>position</span><span>++</span><span>;</span>

    <span>if</span> <span>(</span><span>position</span> <span>&gt;=</span> <span>bufsize</span><span>)</span> <span>{</span>
      <span>bufsize</span> <span>+=</span> <span>LSH_TOK_BUFSIZE</span><span>;</span>
      <span>tokens</span> <span>=</span> <span>realloc</span><span>(</span><span>tokens</span><span>,</span> <span>bufsize</span> <span>*</span> <span>sizeof</span><span>(</span><span>char</span><span>*</span><span>));</span>
      <span>if</span> <span>(</span><span>!</span><span>tokens</span><span>)</span> <span>{</span>
        <span>fprintf</span><span>(</span><span>stderr</span><span>,</span> <span>"lsh: allocation error</span><span>\n</span><span>"</span><span>);</span>
        <span>exit</span><span>(</span><span>EXIT_FAILURE</span><span>);</span>
      <span>}</span>
    <span>}</span>

    <span>token</span> <span>=</span> <span>strtok</span><span>(</span><span>NULL</span><span>,</span> <span>LSH_TOK_DELIM</span><span>);</span>
  <span>}</span>
  <span>tokens</span><span>[</span><span>position</span><span>]</span> <span>=</span> <span>NULL</span><span>;</span>
  <span>return</span> <span>tokens</span><span>;</span>
<span>}</span>
</code></pre></div></div>

<p>If this code looks suspiciously similar to <code>lsh_read_line()</code>, it’s because it
is!  We are using the same strategy of having a buffer and dynamically expanding
it.  But this time, we’re doing it with a null-terminated array of pointers
instead of a null-terminated array of characters.</p>

<p>At the start of the function, we begin tokenizing by calling <code>strtok</code>.  It
returns a pointer to the first token.  What <code>strtok()</code> actually does is return
pointers to within the string you give it, and place <code>\0</code> bytes at the end of
each token.  We store each pointer in an array (buffer) of character
pointers.</p>

<p>Finally, we reallocate the array of pointers if necessary.  The process repeats
until no token is returned by <code>strtok</code>, at which point we null-terminate the
list of tokens.</p>

<p>So, once all is said and done, we have an array of tokens, ready to execute.
Which begs the question, how do we do that?</p>



<p>Now, we’re really at the heart of what a shell does.  Starting processes is the
main function of shells.  So writing a shell means that you need to know exactly
what’s going on with processes and how they start.  That’s why I’m going to take
us on a short diversion to discuss processes in Unix.</p>

<p>There are only two ways of starting processes on Unix.  The first one (which
almost doesn’t count) is by being Init.  You see, when a Unix computer boots,
its kernel is loaded.  Once it is loaded and initialized, the kernel starts only
one process, which is called Init.  This process runs for the entire length of
time that the computer is on, and it manages loading up the rest of the
processes that you need for your computer to be useful.</p>

<p>Since most programs aren’t Init, that leaves only one practical way for
processes to get started: the <code>fork()</code> system call.  When …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://brennan.io/2015/01/16/write-a-shell-in-c/">https://brennan.io/2015/01/16/write-a-shell-in-c/</a></em></p>]]>
            </description>
            <link>https://brennan.io/2015/01/16/write-a-shell-in-c/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24501806</guid>
            <pubDate>Thu, 17 Sep 2020 06:35:30 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Infosec Apocalypse]]>
            </title>
            <description>
<![CDATA[
Score 50 | Comments 17 (<a href="https://news.ycombinator.com/item?id=24501803">thread link</a>) | @chillax
<br/>
September 16, 2020 | https://blog.rickasaurus.com/2020/08/31/The-Infosec-Apocalypse.html | <a href="https://web.archive.org/web/*/https://blog.rickasaurus.com/2020/08/31/The-Infosec-Apocalypse.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <p>The rise of tooling for vulnerability detection combined with pressure driven by Vendor Due Diligence is causing a massive enterprise freezeout for non-mainstream technologies across the board. Of particular concern is the impact this will have on the adoption of functional programming in enterprise and small business B2B development.</p>

<p>I see now that the last 10 years were “easy mode” for the growth of new programming tools and infrastructure, with many new breakthrough technologies seeing rapid adoption. Languages like Node, Go and to some degree Scala saw breakaway success, not to mention all of the new cloud tech, NoSQL tech, containerization and data processing platforms along with their custom query DSLs. Other languages like Haskell saw success in small companies and skunkworks style teams solving very difficult problems.</p>

<h3 id="the-rise-of-vulnerability-scanning">The Rise of Vulnerability Scanning</h3>

<p>Just this past year I’ve come to see we’re in the middle of a massive change across the industry. There are new forces at play which will calcify current software stacks and make it extremely hard for existing or new entrants to see similar success without a massive coordinated push backed by big enterprise companies. This force is the rise of InfoSec and vulnerability detection tooling.</p>

<p>Tools like <a href="https://owasp.org/www-community/Source_Code_Analysis_Tools">Blackduck, WhiteSource, Checkmarx, Veracode</a> are exploding in popularity, there are too many to list and many variations on the same theme. In the wake of so many data leaks and hacking events enterprises no longer trust their developers and SREs to take care of security, and so protocols are being implemented top down. This isn’t just on the code scanning side, there is a similar set of things going on with network scanning as well which impacts programming languages less, but similarly will calcify server stacks.</p>

<p>These tools are quickly making their way into SOC2 and SDLC policies across industry, and if your language or new infrastructure tool isn’t supported by them there’s little chance you will get the previously already tenuous approval to use them. This sets the already high bar for adoption much higher. As you might expect, vendors will only implement support for languages that meet some threshold for profitability of their tools. Not only do you need to build a modern set of tools for your language to compete, now you also need support from external vendors.</p>

<h3 id="vendor-due-diligence">Vendor Due Diligence</h3>

<p>Maybe we just cede this territory to enterprise tools with big backers like Microsoft and Oracle, we never more than a few small inroads anyway. The use of these tools is arguably a good thing overall for software security. Unfortunately, the problem cannot be sidestepped so easily, and I’m afraid this is where things look very bleak. The biggest new trend is in enforcement of these tools through Vendor Due Diligence.</p>

<p>You may not be familiar with Vendor Due Diligence if you aren’t in a manager role. The basic idea is your customer will send you a long list of technical questions about your product which you must fill out to their satisfaction before they buy your product or service. In the B2B space where I work these lists are nothing new, but have been getting longer and longer over the last 10 years, now often numbering in the hundreds of questions.</p>

<p>Most recently I’ve seen more and more invasive questions being asked, some even going into how teams are organized, but important to this article is that across the board they now all ask about vulnerability scanning and now often request specific outputs for well-known vulnerability scanning tools. The implication being that if you’re not scanning with these tools they won’t buy your software, and the list of supported languages is small.</p>

<p>Any experienced technology manager sees the natural tradeoff here. When it comes down to making money versus using cool tech, cool tech will lose every time. You’re just burning money if you’re building cool things with cool tech if you know no one will buy it.</p>

<h3 id="so-what-now">So What Now?</h3>

<p>Potentially we will see a resurgence of “compile-to” functional programming with mainstream language targets to sidestep the issue. I suppose though that the extra build complexity and problems debugging will prevent this from ever being mainstream, not to mention that the vulnerability tools look for specific patterns and likely won’t behave well on generated code.</p>

<p>There is some hope in the form of projects like SonarCube which enables users to come together and <a href="https://github.com/SonarSource/sonar-custom-plugin-example">build custom plugins</a>. Will functional programming communities come together to build and maintain such boring tech? I somewhat doubt it. This kind of work is not what most programmers would choose to do in their off time. Similarly, vulnerability detection is unlikely to be a good target to be advanced a little at a time with academic papers. It would take true functional programming fanatics to build companies or tools dedicated to the cause. If you are interested in helping out, pay attention to the <a href="https://owasp.org/www-project-top-ten/">OWASP Top 10</a> as this list drives focus for many infosec teams.</p>

<p>Where does this leave us? If our communities do nothing then smaller B2B software operations focused mom and pop shops or consumer focused web applications likely won’t see any impact unless static analysis makes it into data protection law. Beyond these use cases FP will be relegated to tiny boxes on the back end where vulnerabilities are much less of a concern and the mathematical skills of functional programmers can bring extreme amounts of value.</p>

<p>I know there are many deeper facets I didn’t cover here, if you want to continue the discussion <a href="https://twitter.com/rickasaurus/status/1300487826782420995">join the thread on twitter</a>.</p>


  </div></div>]]>
            </description>
            <link>https://blog.rickasaurus.com/2020/08/31/The-Infosec-Apocalypse.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24501803</guid>
            <pubDate>Thu, 17 Sep 2020 06:34:43 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[UAE's Mbzuai and Israel's Weizmann Institute Sign AI R&D Deal (Middle East AI)]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24501744">thread link</a>) | @asiaainews
<br/>
September 16, 2020 | https://www.getrevue.co/profile/middleeastainews/issues/mbzuai-weizmann-institute-r-d-deal-new-global-ai-summit-dates-277014 | <a href="https://web.archive.org/web/*/https://www.getrevue.co/profile/middleeastainews/issues/mbzuai-weizmann-institute-r-d-deal-new-global-ai-summit-dates-277014">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://www.getrevue.co/profile/middleeastainews/issues/mbzuai-weizmann-institute-r-d-deal-new-global-ai-summit-dates-277014</link>
            <guid isPermaLink="false">hacker-news-small-sites-24501744</guid>
            <pubDate>Thu, 17 Sep 2020 06:19:50 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Apple now allows third-party browsers to set as default]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24501380">thread link</a>) | @twapi
<br/>
September 16, 2020 | https://browsernative.com/default-browser-ios-iphone-ipad-chrome-firefox-duckduckgo-5122/ | <a href="https://web.archive.org/web/*/https://browsernative.com/default-browser-ios-iphone-ipad-chrome-firefox-duckduckgo-5122/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><p>Apple has <a href="https://www.apple.com/newsroom/2020/09/ios-14-is-available-today/" target="_blank" rel="noopener noreferrer">just released</a> public ‘stable’ versions of iOS 14 and iPadOS 14 for iPhones and iPads. The iOS (and iPadOS) 14 comes with an exciting feature: users can now select their default browser and email client. It simply means that you can now choose Google Chrome as your default browser, and Microsoft Outlook as the default email app. Cool!</p><p>Users can now ditch Safari and choose a third-party browser – like Google Chrome, Microsoft Edge, Mozilla Firefox, and <a href="https://browsernative.com/duckduckgo-chrome-extension/">DuckDuckGo</a> Privacy Browser – as their default browsing app on iPhones and iPads.</p><h2>How To Set Default Browser on iOS?</h2><p>Surprisingly, there is no direct way to choose the default browser on iOS and iPadOS. You need to open the Settings app, then open the settings of any installed browser. Now, look for the option “Default Browser App”. Click on this option, and you would find a list of all installed and supported browsers. Here, select your default browser.</p><p><a href="https://browsernative.com/wp-content/uploads/iphone-default-browser-chrome-firefox.png"><img loading="lazy" src="https://browsernative.com/wp-content/uploads/iphone-default-browser-chrome-firefox-985x1024.png" alt="" width="985" height="1024" srcset="https://browsernative.com/wp-content/uploads/iphone-default-browser-chrome-firefox-985x1024.png 985w, https://browsernative.com/wp-content/uploads/iphone-default-browser-chrome-firefox-289x300.png 289w, https://browsernative.com/wp-content/uploads/iphone-default-browser-chrome-firefox-768x798.png 768w, https://browsernative.com/wp-content/uploads/iphone-default-browser-chrome-firefox-1478x1536.png 1478w, https://browsernative.com/wp-content/uploads/iphone-default-browser-chrome-firefox.png 1533w" sizes="(max-width: 985px) 100vw, 985px"></a></p><p>Apple should implement a direct setting to see and change the default browser (and email app).</p><p>It is important to mention here that while Apple has allowed third-party browsers to become the default browser, it has not relaxed its restrictions on using own rendering engines. All iOS (and iPadOS) browsers are still required to use Apple’s WebKit rendering engine. Moreover, apparently, the third-party browsers still can’t be used by apps to implement In-App browser.</p><p>Related: <a href="https://browsernative.com/why-you-should-not-use-chrome-and-firefox-clones-534/">Why You Should Not Use Chrome and Firefox Clones</a></p></div></div></div>]]>
            </description>
            <link>https://browsernative.com/default-browser-ios-iphone-ipad-chrome-firefox-duckduckgo-5122/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24501380</guid>
            <pubDate>Thu, 17 Sep 2020 05:07:20 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[PowerShell vs. Python Reference]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24501361">thread link</a>) | @l33t_d0nut
<br/>
September 16, 2020 | https://blog.ironmansoftware.com/powershell-vs-python/ | <a href="https://web.archive.org/web/*/https://blog.ironmansoftware.com/powershell-vs-python/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content" role="main"><div><h2>PowerShell vs Python Reference</h2><h4>September 16, 2020</h4><p>Below is a reference between PowerShell and Python language syntax. Most of these examples where adapted from <a href="https://www.w3schools.com/python/default.asp">W3 schools Python tutorials</a>. Is there something we have wrong or is missing? Please <a href="https://ironmansoftware.com/contact-us">contact us</a>.</p><h2 id="syntax">Syntax</h2><h3 id="arrays">Arrays</h3><table><tbody><tr><th></th><th>PowerShell</th><th>Python</th></tr><tr><td>Defining</td><td><div><pre><code data-lang="powershell">@(<span>'Hello'</span>, <span>'World'</span>)
</code></pre></div></td><td><div><pre><code data-lang="python">[<span>'Hello'</span>, <span>'World'</span>]
</code></pre></div></td></tr><tr><td>Access Element</td><td><div><pre><code data-lang="powershell">$arr = @(<span>'Hello'</span>, <span>'World'</span>)
$arr[0]
<span># Hello</span>
</code></pre></div></td><td><div><pre><code data-lang="python">arr <span>=</span> [<span>'Hello'</span>, <span>'World'</span>]
arr[<span>0</span>]
<span># 'Hello'</span>
</code></pre></div></td></tr><tr><td>Length</td><td><div><pre><code data-lang="powershell">$arr = @(<span>'Hello'</span>, <span>'World'</span>)
$arr.Length
</code></pre></div></td><td><div><pre><code data-lang="python">arr <span>=</span> [<span>'Hello'</span>, <span>'World'</span>]
len(arr)
</code></pre></div></td></tr><tr><td>Adding</td><td><div><pre><code data-lang="powershell">$arr = @(<span>'Hello'</span>, <span>'World'</span>)
$arr += <span>"Dude"</span>
</code></pre></div></td><td><div><pre><code data-lang="python">arr <span>=</span> [<span>'Hello'</span>, <span>'World'</span>]
arr<span>.</span>append(<span>'Dude'</span>)
</code></pre></div></td></tr><tr><td>Removing</td><td><div><pre><code data-lang="powershell"> $arr = <span>[System.Collections.ArrayList]</span>@(<span>'Hello'</span>, <span>'World'</span>)
 $arr.RemoveAt($arr.Count - 1)
</code></pre></div></td><td><div><pre><code data-lang="python">arr <span>=</span> [<span>'Hello'</span>, <span>'World'</span>]
arr<span>.</span>pop(<span>1</span>)
</code></pre></div></td></tr><tr><td>Removing by value</td><td><div><pre><code data-lang="powershell"> $arr = <span>[System.Collections.ArrayList]</span>@(<span>'Hello'</span>, <span>'World'</span>)
 $arr.Remove(<span>"Hello"</span>)
</code></pre></div></td><td><div><pre><code data-lang="python">arr <span>=</span> [<span>'Hello'</span>, <span>'World'</span>]
arr<span>.</span>remove(<span>'Hello'</span>)
</code></pre></div></td></tr></tbody></table><h3 id="casting">Casting</h3><table><tbody><tr><th></th><th>PowerShell</th><th>Python</th></tr><tr><td>Integers</td><td><div><pre><code data-lang="powershell">$i = <span>[int]</span><span>"10"</span>
</code></pre></div></td><td><div><pre><code data-lang="python">i <span>=</span> int(<span>"10"</span>)
</code></pre></div></td></tr><tr><td>Floats</td><td><div><pre><code data-lang="powershell">$i = <span>[float]</span><span>"10.5"</span> 
</code></pre></div></td><td><div><pre><code data-lang="python">i <span>=</span> float(<span>"10.5"</span>)
</code></pre></div></td></tr><tr><td>Strings</td><td><div><pre><code data-lang="powershell">$i = <span>[string]</span>10
</code></pre></div></td><td><div><pre><code data-lang="python">i <span>=</span> str(<span>10</span>)
</code></pre></div></td></tr></tbody></table><h3 id="classes">Classes</h3><table><tbody><tr><th></th><th>PowerShell</th><th>Python</th></tr><tr><td>Definition</td><td><div><pre><code data-lang="powershell">class MyClass {
    $x = 5
}
</code></pre></div></td><td><div><pre><code data-lang="python"><span>class</span> <span>MyClass</span>:
  x <span>=</span> <span>5</span>
</code></pre></div></td></tr><tr><td>Create Object</td><td><div><pre><code data-lang="powershell"><span>[MyClass]</span>::new()
</code></pre></div></td><td><div><pre><code data-lang="python">MyClass()
</code></pre></div></td></tr><tr><td>Constructor</td><td><div><pre><code data-lang="powershell">class Person {
    Person($Name, $Age) {
        $this.Name = $Name
        $this.Age = $Age
    }

    $Name = <span>''</span>
    $Age = 0
}
<span>[Person]</span>::new(<span>'John'</span>, 36)
</code></pre></div></td><td><div><pre><code data-lang="python"><span>class</span> <span>Person</span>:
  <span>def</span> __init__(self, name, age):
    self<span>.</span>name <span>=</span> name
    self<span>.</span>age <span>=</span> age

p1 <span>=</span> Person(<span>"John"</span>, <span>36</span>)
</code></pre></div></td></tr><tr><td>Methods</td><td><div><pre><code data-lang="powershell">class Person {
    Person($Name, $Age) {
        $this.Name = $Name
        $this.Age = $Age
    }

    <span>[string]</span>myfunc() {
        <span>return</span> <span>"Hello my name is </span>$($this.Name)<span>"</span>
    }

    $Name = <span>''</span>
    $Age = 0
}
<span>[Person]</span>::new(<span>'John'</span>, 36)
</code></pre></div></td><td><div><pre><code data-lang="python"><span>class</span> <span>Person</span>:
  <span>def</span> __init__(self, name, age):
    self<span>.</span>name <span>=</span> name
    self<span>.</span>age <span>=</span> age

  <span>def</span> <span>myfunc</span>(self):
    <span>print</span>(<span>"Hello my name is "</span> <span>+</span> self<span>.</span>name)

p1 <span>=</span> Person(<span>"John"</span>, <span>36</span>)
p1<span>.</span>myfunc()
</code></pre></div></td></tr></tbody></table><h3 id="conditions">Conditions</h3><table><tbody><tr><th></th><th>PowerShell</th><th>Python</th></tr><tr><td>If \ Else</td><td><div><pre><code data-lang="powershell">$a = 33
$b = 200
<span>if</span> ($b <span>-gt</span> $a)
{
    Write-Host <span>"b is greater than a"</span>
}
<span>elseif</span> ($a <span>-eq</span> $b)
{
    Write-Host <span>"a and b are equal"</span>  
}
<span>else</span>
{
  Write-Host <span>"a is greater than b"</span>
}
  
</code></pre></div></td><td><div><pre><code data-lang="python">a <span>=</span> <span>33</span>
b <span>=</span> <span>200</span>
<span>if</span> b <span>&gt;</span> a:
  <span>print</span>(<span>"b is greater than a"</span>)
<span>elif</span> a <span>==</span> b:
  <span>print</span>(<span>"a and b are equal"</span>)
<span>else</span>:
  <span>print</span>(<span>"a is greater than b"</span>)
</code></pre></div></td></tr></tbody></table><h3 id="comments">Comments</h3><table><tbody><tr><th></th><th>PowerShell</th><th>Python</th></tr><tr><td>Single line</td><td><div><pre><code data-lang="powershell"><span># Hello, world!</span>
</code></pre></div></td><td><div><pre><code data-lang="python"><span># Hello, world!</span>
</code></pre></div></td></tr><tr><td>Multiline</td><td><div><pre><code data-lang="powershell"><span>&lt;# 
</span><span>Hello, world!
</span><span>#&gt;</span>
</code></pre></div></td><td><div><pre><code data-lang="python"><span>"""
</span><span>Hello, world!
</span><span>"""</span>
</code></pre></div></td></tr></tbody></table><h3 id="data-types">Data Types</h3><table><tbody><tr><th></th><th>PowerShell</th><th>Python</th></tr><tr><td>Get Type</td><td><div><pre><code data-lang="powershell">$var = 1
$var | Get-Member
<span>#or</span>
$var.GetType()
</code></pre></div></td><td><div><pre><code data-lang="python">var <span>=</span> <span>1</span>
type(var)
</code></pre></div></td></tr></tbody></table><h3 id="dictionaries">Dictionaries</h3><table><tbody><tr><th></th><th>PowerShell</th><th>Python</th></tr><tr><td>Defining</td><td><div><pre><code data-lang="powershell">$thisdict = @{
  brand = <span>"Ford"</span>
  model = <span>"Mustang"</span>
  year = 1964
}
</code></pre></div></td><td><div><pre><code data-lang="python">thisdict <span>=</span> {
  <span>"brand"</span>: <span>"Ford"</span>,
  <span>"model"</span>: <span>"Mustang"</span>,
  <span>"year"</span>: <span>1964</span>
}
<span>print</span>(thisdict)
</code></pre></div></td></tr><tr><td>Accessing Elements</td><td><div><pre><code data-lang="powershell">$thisdict = @{
  brand = <span>"Ford"</span>
  model = <span>"Mustang"</span>
  year = 1964
}
$thisdict.brand
$thisdict[<span>'brand'</span>]
</code></pre></div></td><td><div><pre><code data-lang="python">thisdict <span>=</span> {
  <span>"brand"</span>: <span>"Ford"</span>,
  <span>"model"</span>: <span>"Mustang"</span>,
  <span>"year"</span>: <span>1964</span>
}
thisdict[<span>'brand'</span>]
</code></pre></div></td></tr><tr><td>Updating Elements</td><td><div><pre><code data-lang="powershell">$thisdict = @{
  brand = <span>"Ford"</span>
  model = <span>"Mustang"</span>
  year = 1964
}
$thisdict.brand = <span>'Chevy'</span>
</code></pre></div></td><td><div><pre><code data-lang="python">thisdict <span>=</span> {
  <span>"brand"</span>: <span>"Ford"</span>,
  <span>"model"</span>: <span>"Mustang"</span>,
  <span>"year"</span>: <span>1964</span>
}
thisdict[<span>'brand'</span>] <span>=</span> <span>'Chevy'</span>
</code></pre></div></td></tr><tr><td>Enumerating Keys</td><td><div><pre><code data-lang="powershell">$thisdict = @{
  brand = <span>"Ford"</span>
  model = <span>"Mustang"</span>
  year = 1964
}
$thisdict.Keys | <span>ForEach</span>-Object {
    $_
}
</code></pre></div></td><td><div><pre><code data-lang="python">thisdict <span>=</span> {
  <span>"brand"</span>: <span>"Ford"</span>,
  <span>"model"</span>: <span>"Mustang"</span>,
  <span>"year"</span>: <span>1964</span>
}
<span>for</span> x <span>in</span> thisdict:
    <span>print</span>(x)
</code></pre></div></td></tr><tr><td>Enumerating Values</td><td><div><pre><code data-lang="powershell">$thisdict = @{
  brand = <span>"Ford"</span>
  model = <span>"Mustang"</span>
  year = 1964
}
$thisdict.Values | <span>ForEach</span>-Object {
    $_
}
</code></pre></div></td><td><div><pre><code data-lang="python">thisdict <span>=</span> {
  <span>"brand"</span>: <span>"Ford"</span>,
  <span>"model"</span>: <span>"Mustang"</span>,
  <span>"year"</span>: <span>1964</span>
}
<span>for</span> x <span>in</span> thisdict<span>.</span>values():
    <span>print</span>(x)
</code></pre></div></td></tr><tr><td>Check if key exists</td><td><div><pre><code data-lang="powershell">$thisdict = @{
  brand = <span>"Ford"</span>
  model = <span>"Mustang"</span>
  year = 1964
}
<span>if</span> ($thisdict.ContainsKey(<span>"model"</span>))
{
    Write-Host <span>"Yes, 'model' is one of the keys in the thisdict dictionary"</span>
}
</code></pre></div></td><td><div><pre><code data-lang="python">thisdict <span>=</span> {
  <span>"brand"</span>: <span>"Ford"</span>,
  <span>"model"</span>: <span>"Mustang"</span>,
  <span>"year"</span>: <span>1964</span>
}
<span>if</span> <span>"model"</span> <span>in</span> thisdict:
  <span>print</span>(<span>"Yes, 'model' is one of the keys in the thisdict dictionary"</span>)
</code></pre></div></td></tr><tr><td>Adding items</td><td><div><pre><code data-lang="powershell">$thisdict = @{
  brand = <span>"Ford"</span>
  model = <span>"Mustang"</span>
  year = 1964
}
$thisdict.color = <span>'red'</span>
</code></pre></div></td><td><div><pre><code data-lang="python">thisdict <span>=</span> {
  <span>"brand"</span>: <span>"Ford"</span>,
  <span>"model"</span>: <span>"Mustang"</span>,
  <span>"year"</span>: <span>1964</span>
}
thisdict[<span>"color"</span>] <span>=</span> <span>"red"</span>
</code></pre></div></td></tr></tbody></table><h3 id="functions">Functions</h3><table><tbody><tr><th></th><th>PowerShell</th><th>Python</th></tr><tr><td>Definition</td><td><div><pre><code data-lang="powershell"><span>function</span> my-function()
{
  Write-Host <span>"Hello from a function"</span>  
}
my-function
</code></pre></div></td><td><div><pre><code data-lang="python"><span>def</span> <span>my_function</span>():
  <span>print</span>(<span>"Hello from a function"</span>)

my_function()
</code></pre></div></td></tr><tr><td>Arguments</td><td><div><pre><code data-lang="powershell"><span>function</span> my-function($fname, $lname)
{
    Write-Host <span>"$fname $lname"</span>
}
  

my-function -fname <span>"Adam"</span> -lname <span>"Driscoll"</span>
</code></pre></div></td><td><div><pre><code data-lang="python"><span>def</span> <span>my_function</span>(fname, lname):
  <span>print</span>(fname <span>+</span> <span>" "</span> <span>+</span> lname)

my_function(<span>"Adam"</span>, <span>"Driscoll"</span>)
</code></pre></div></td></tr><tr><td>Variable Arguments</td><td><div><pre><code data-lang="powershell"><span>function</span> my-function()
{
    Write-Host <span>"</span>$($args[2])<span>"</span>
}
  
my-function <span>"Bill"</span> <span>"Ted"</span> <span>"adam"</span>
</code></pre></div></td><td><div><pre><code data-lang="python"><span>def</span> <span>my_function</span>(<span>*</span>kids):
  <span>print</span>(<span>"The youngest child is "</span> <span>+</span> kids[<span>2</span>])

my_function(<span>"Emil"</span>, <span>"Tobias"</span>, <span>"Linus"</span>)
</code></pre></div></td></tr><tr><td>Named Arguments</td><td><div><pre><code data-lang="powershell"><span>function</span> my-function($child3, $child2, $child1)
{
    Write-Host <span>"The youngest child is $child3"</span>
}
  
my-function -child1 <span>"Emil"</span> -child2 <span>"Tobias"</span> -child3 <span>"Linus"</span>
</code></pre></div></td><td><div><pre><code data-lang="python"><span>def</span> <span>my_function</span>(child3, child2, child1):
  <span>print</span>(<span>"The youngest child is "</span> <span>+</span> child3)

my_function(child1 <span>=</span> <span>"Emil"</span>, child2 <span>=</span> <span>"Tobias"</span>, child3 <span>=</span> <span>"Linus"</span>)
</code></pre></div></td></tr><tr><td>Default Values</td><td><div><pre><code data-lang="powershell"><span>function</span> my-function
{
    <span>param</span>(
        $country = <span>"Norway"</span>
    )

    Write-Host <span>"I am from $country"</span>
}
</code></pre></div></td><td><div><pre><code data-lang="python"><span>def</span> <span>my_function</span>(country <span>=</span> <span>"Norway"</span>):
  <span>print</span>(<span>"I am from "</span> <span>+</span> country)
</code></pre></div></td></tr><tr><td>Return Values</td><td><div><pre><code data-lang="powershell"><span>function</span> my-function($x)
{
    5 * $x
}
  
</code></pre></div></td><td><div><pre><code data-lang="python"><span>def</span> <span>my_function</span>(x):
  <span>return</span> <span>5</span> <span>*</span> x
</code></pre></div></td></tr></tbody></table><h3 id="lambdas">Lambdas</h3><table><tbody><tr><th></th><th>PowerShell</th><th>Python</th></tr><tr><td>Lambda</td><td><div><pre><code data-lang="powershell">$x = { <span>param</span>($a) $a + 10 }
&amp; $x 5
</code></pre></div></td><td><div><pre><code data-lang="python">x <span>=</span> <span>lambda</span> a : a <span>+</span> <span>10</span>
<span>print</span>(x(<span>5</span>))
</code></pre></div></td></tr></tbody></table><h3 id="loops">Loops</h3><table><tbody><tr><th></th><th>PowerShell</th><th>Python</th></tr><tr><td>For</td><td><div><pre><code data-lang="powershell">$fruits = @(<span>"apple"</span>, <span>"banana"</span>, <span>"cherry"</span>)
<span>foreach</span>($x <span>in</span> $fruits)
{
    Write-Host $x
}
  
</code></pre></div></td><td><div><pre><code data-lang="python">fruits <span>=</span> [<span>"apple"</span>, <span>"banana"</span>, <span>"cherry"</span>]
<span>for</span> x <span>in</span> fruits:
  <span>print</span>(x)
</code></pre></div></td></tr><tr><td>While</td><td><div><pre><code data-lang="powershell">$i = 1
<span>while</span> ($i <span>-lt</span> 6)
{
    Write-Host $i
    $i++
}
</code></pre></div></td><td><div><pre><code data-lang="python">i <span>=</span> <span>1</span>
<span>while</span> i <span>&lt;</span> <span>6</span>:
  <span>print</span>(i)
  i <span>+=</span> <span>1</span>
</code></pre></div></td></tr><tr><td>Break</td><td><div><pre><code data-lang="powershell">$i = 1
<span>while</span> ($i <span>-lt</span> 6)
{
    Write-Host $i
    <span>if</span> ($i <span>-eq</span> 3)
    {
        <span>break</span>
    }
    $i++
}
</code></pre></div></td><td><div><pre><code data-lang="python">i <span>=</span> <span>1</span>
<span>while</span> i <span>&lt;</span> <span>6</span>:
   <span>print</span>(i)
   <span>if</span> i <span>==</span> <span>3</span>:
     <span>break</span>
  i <span>+=</span> <span>1</span>
</code></pre></div></td></tr><tr><td>Continue</td><td><div><pre><code data-lang="powershell">$i = 1
<span>while</span> ($i <span>-lt</span> 6)
{
    Write-Host $i
    <span>if</span> ($i <span>-eq</span> 3)
    {
        <span>continue</span>
    }
    $i++
}
</code></pre></div></td><td><div><pre><code data-lang="python">i <span>=</span> <span>1</span>
<span>while</span> i <span>&lt;</span> <span>6</span>:
   <span>print</span>(i)
   <span>if</span> i <span>==</span> <span>3</span>:
     <span>continue</span>
  i <span>+=</span> <span>1</span>
</code></pre></div></td></tr></tbody></table><h3 id="operators">Operators</h3><table><tbody><tr><th></th><th>PowerShell</th><th>Python</th></tr><tr><td>Addition</td><td><div><pre><code data-lang="powershell">$var = 1 + 1
</code></pre></div></td><td><div><pre><code data-lang="python">var <span>=</span> <span>1</span> <span>+</span> <span>1</span>
</code></pre></div></td></tr><tr><td>Subtraction</td><td><div><pre><code data-lang="powershell">$var = 1 - 1
</code></pre></div></td><td><div><pre><code data-lang="python">var <span>=</span> <span>1</span> <span>-</span> <span>1</span>
</code></pre></div></td></tr><tr><td>Multiplication</td><td><div><pre><code data-lang="powershell">$var = 1 * 1
</code></pre></div></td><td><div><pre><code data-lang="python">var <span>=</span> <span>1</span> <span>*</span> <span>1</span>
</code></pre></div></td></tr><tr><td>Division</td><td><div><pre><code data-lang="powershell">$var = 1 / 1
</code></pre></div></td><td><div><pre><code data-lang="python">var <span>=</span> <span>1</span> <span>/</span> <span>1</span>
</code></pre></div></td></tr><tr><td>Modulus</td><td><div><pre><code data-lang="powershell">$var = 1 % 1
</code></pre></div></td><td><div><pre><code data-lang="python">var <span>=</span> <span>1</span> <span>%</span> <span>1</span>
</code></pre></div></td></tr><tr><td>Floor</td><td><div><pre><code data-lang="powershell"><span>[Math]</span>::Floor(10 / 3)
</code></pre></div></td><td><div><pre><code data-lang="python"><span>10</span> <span>//</span> <span>3</span>
</code></pre></div></td></tr><tr><td>Exponent</td><td><div><pre><code data-lang="powershell"><span>[Math]</span>::Pow(10, 3)
</code></pre></div></td><td><div><pre><code data-lang="python"><span>10</span> <span>**</span> <span>3</span>
</code></pre></div></td></tr></tbody></table><h3 id="packages">Packages</h3><table><tbody><tr><th></th><th>PowerShell</th><th>Python</th></tr><tr><td>Install</td><td><div><pre><code data-lang="powershell">Install-Module PowerShellProtect
</code></pre></div></td><td><div><pre><code data-lang="python">pip install camelcase
</code></pre></div></td></tr><tr><td>Import</td><td><div><pre><code data-lang="powershell">Import-Module PowerShellProtect
</code></pre></div></td><td><div><pre><code data-lang="python"><span>import</span> camelcase
</code></pre></div></td></tr><tr><td>List</td><td><div><pre><code data-lang="powershell">Get-Module -ListAvailable
</code></pre></div></td><td><div><pre><code data-lang="python">pip list
</code></pre></div></td></tr></tbody></table><h3 id="strings">Strings</h3><table><tbody><tr><th></th><th>PowerShell</th><th>Python</th></tr><tr><td>String</td><td><div><pre><code data-lang="powershell"><span>"Hello"</span>
</code></pre></div></td><td><div><pre><code data-lang="python"><span>"Hello"</span>
<span>'Hello'</span>
</code></pre></div></td></tr><tr><td>Multiline</td><td><div><pre><code data-lang="powershell"><span>"Hello
</span><span>World
</span><span>"</span>
</code></pre></div></td><td><div><pre><code data-lang="python"><span>"""Hello
</span><span>World"""</span>
</code></pre></div></td></tr><tr><td>Select Character</td><td><div><pre><code data-lang="powershell">$str = <span>'Hello'</span>
$str[0]
<span># H</span>
</code></pre></div></td><td><div><pre><code data-lang="python">str <span>=</span> <span>'Hello'</span>
str[<span>0</span>]
<span># 'H'</span>
</code></pre></div></td></tr><tr><td>Length</td><td><div><pre><code data-lang="powershell">$str = <span>'Hello'</span>
$str.Length
</code></pre></div></td><td><div><pre><code data-lang="python">str <span>=</span> <span>'Hello'</span>
len(str)
</code></pre></div></td></tr><tr><td>Remove whitespace at front and back</td><td><div><pre><code data-lang="powershell">$str = <span>' Hello '</span>
$str.Trim()
<span># Hello</span>
</code></pre></div></td><td><div><pre><code data-lang="python">str <span>=</span> <span>' Hello '</span>
str<span>.</span>strip()
<span># 'Hello'</span>
</code></pre></div></td></tr><tr><td>To Lowercase</td><td><div><pre><code data-lang="powershell">$str = <span>'HELLO'</span>
$str.ToLower()
<span># hello</span>
</code></pre></div></td><td><div><pre><code data-lang="python">str <span>=</span> <span>'HELLO'</span>
str<span>.</span>lower()
<span># 'hello'</span>
</code></pre></div></td></tr><tr><td>To Uppercase</td><td><div><pre><code data-lang="powershell">$str = <span>'hello'</span>
$str.ToUpper()
<span># HELLO</span>
</code></pre></div></td><td><div><pre><code data-lang="python">str <span>=</span> <span>'hello'</span>
str<span>.</span>upper()
<span># 'HELLO'</span>
</code></pre></div></td></tr><tr><td>Replace</td><td><div><pre><code data-lang="powershell">$str = <span>'Hello'</span>
$str.Replace(<span>'H'</span>, <span>'Y'</span>)
<span># Yello</span>
</code></pre></div></td><td><div><pre><code data-lang="python">str <span>=</span> <span>'Hello'</span>
str<span>.</span>replace(<span>'H'</span>, <span>'Y'</span>)
<span># 'Yello'</span>
</code></pre></div></td></tr><tr><td>Split</td><td><div><pre><code data-lang="powershell"><span>'Hello, World'</span> -split <span>','</span>
<span># @('Hello', ' World')</span>
</code></pre></div></td><td><div><pre><code data-lang="python">str <span>=</span> <span>'Hello, World'</span>
str<span>.</span>split(<span>','</span>)
<span># ['Hello', ' World']</span>
</code></pre></div></td></tr><tr><td>Join</td><td><div><pre><code data-lang="powershell">$array = @(<span>"Hello"</span>, <span>"World"</span>)
$array -join <span>", "</span>
<span>[String]</span>::Join(<span>', '</span>, $array)
</code></pre></div></td><td><div><pre><code data-lang="python">list <span>=</span> [<span>"Hello"</span>, <span>"World"</span>]
<span>", "</span><span>.</span>join(list)
</code></pre></div></td></tr><tr><td>Formatting</td><td><div><pre><code data-lang="powershell">$price = 49
$txt = <span>"The price is {0} dollars"</span>
$txt <span>-f</span> $price
</code></pre></div></td><td><div><pre><code data-lang="python">price <span>=</span> <span>49</span>
txt <span>=</span> <span>"The price is {} dollars"</span>
<span>print</span>(txt<span>.</span>format(price))
</code></pre></div></td></tr><tr><td>Formatting by Index</td><td><div><pre><code data-lang="powershell">$price = 49
$txt = <span>"The price is {0} dollars"</span>
$txt <span>-f</span> $price
</code></pre></div></td><td><div><pre><code data-lang="python">price <span>=</span> <span>49</span>
txt <span>=</span> <span>"The price is {0} dollars"</span>
<span>print</span>(txt<span>.</span>format(price))
</code></pre></div></td></tr><tr><td>Formatting Strings</td><td><div><pre><code data-lang="powershell">$price = 49
<span>"The price is $price dollars"</span>
</code></pre></div></td><td><div><pre><code data-lang="python">price <span>=</span> <span>49</span>
f<span>"The price is {price} dollars"</span>
</code></pre></div></td></tr></tbody></table><h3 id="try--catch">Try \ Catch</h3><table><tbody><tr><th></th><th>PowerShell</th><th>Python</th></tr><tr><td></td><td><div><pre><code data-lang="powershell"><span>try</span> {
    Write-Host $x 
} <span>catch</span> {
    Write-Host <span>"An exception ocurred"</span>
}
</code></pre></div></td><td><div><pre><code data-lang="python"><span>try</span>:
  <span>print</span>(x)
<span>except</span>:
  <span>print</span>(<span>"An exception occurred"</span>)
</code></pre></div></td></tr></tbody></table><h3 id="variables">Variables</h3><table><tbody><tr><th></th><th>PowerShell</th><th>Python</th></tr><tr><td></td><td><div><pre><code data-lang="powershell">$var = <span>"Hello"</span>
</code></pre></div></td><td><div><pre><code data-lang="python">var <span>=</span> <span>"Hello"</span>
</code></pre></div></td></tr><tr><td>Global</td><td><div><pre><code data-lang="powershell">$global:var = <span>"Hello"</span>
</code></pre></div></td><td><div><pre><code data-lang="python"><span>global</span> var
var <span>=</span> <span>"Hello"</span>
</code></pre></div></td></tr></tbody></table></div></div></div>]]>
            </description>
            <link>https://blog.ironmansoftware.com/powershell-vs-python/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24501361</guid>
            <pubDate>Thu, 17 Sep 2020 05:02:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[I write recursive descent parsers (despite their issues)]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24500860">thread link</a>) | @panic
<br/>
September 16, 2020 | https://utcc.utoronto.ca/~cks/space/blog/programming/WhyRDParsersForMe | <a href="https://web.archive.org/web/*/https://utcc.utoronto.ca/~cks/space/blog/programming/WhyRDParsersForMe">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><h2>Why I write recursive descent parsers (despite their issues)</h2>

	<p><small>September 16, 2020</small></p>
</div><div><p>Today I read Laurence Tratt's <a href="https://tratt.net/laurie/blog/entries/which_parsing_approach.html">Which Parsing Approach?</a> (<a href="https://lobste.rs/s/9pcqys/which_parsing_approach">via</a>), which has a
decent overview of how parsing computer languages (including little
domain specific languages) is not quite the well solved problem
we'd like it to be. As part of the article, Tratt discusses how
<a href="https://en.wikipedia.org/wiki/Recursive_descent_parser">recursive descent parsers</a> have a
number of issues in practice and recommends using other things,
such as a LR parser generator.</p>

<p>I have a long standing interest in parsing, I'm reasonably well
aware of the annoyances of recursive descent parsers (although some
of the issues Tratt raised hadn't occurred to me before now), and
I've been exposed to parser generators like Yacc. Despite that, my
normal approach to parsing any new little language for real is to
write a recursive descent parser in whatever language I'm using,
and Tratt's article is not going to change that. My choice here is
for entirely pragmatic reasons, because to me recursive descent
parsers generally have two significant advantages over all other
real parsers.</p>

<p>The first advantage is that almost always, a recursive descent parser
is the only or at least easiest form of parser you can readily create
using only the language's standard library and tooling. In particular,
parsing LR, LALR, and similar formal grammars generally requires you to
find, select, and install a parser generator tool (or more rarely, an
additional package). Very few languages ship their standard environment
with a parser generator (or a lexer, which is often required in some
form by the parser).</p>

<p>(The closest I know of is C on Unix, where you will almost always
find some version of lex and yacc. Not entirely coincidentally,
I've used lex and yacc to write a parser in C, although a long time
ago.)</p>

<p>By contrast, a recursive descent parser is just code in the language.
You can obviously write that in any language, and you can build a
little lexer to go along with it that's custom fitted to your
particular recursive descent parser and your language's needs.  This
also leads to the second significant advantage, which is that if
you write a recursive descent parser, you don't need to learn a new
language, the language of the parser generator, and also learn how
to hook that new language to the language of your program, and then
debug the result. Your entire recursive descent parser (and your
entire lexer) are written in one language, the language you're
already working in.</p>

<p>If I was routinely working in a language that had a well respected
de facto standard parser generator and lexer, and regularly building
parsers for little languages for my programs, it would probably be
worth mastering these tools. The time and effort required to do so
would be more than paid back in the end, and I would probably have
a higher quality grammar too (Tratt points out how recursive descent
parsers hide ambiguity, for example). But in practice I bounce back
and forth between two languages right now (Go and Python, neither
of which have such a standard parser ecology), and I don't need to
write even a half-baked parser all that often. So writing another
recursive descent parser using my standard process for this has
been the easiest way to do it every time I needed one.</p>

<p>(I've developed a standard process for writing recursive descent
parsers that makes the whole thing pretty mechanical, but that's a
discussion for another entry or really a series of them.)</p>

<p>PS: I can't comment about how easy it is to generate good error
messages in modern parser generators, because I haven't used any
of them. My experience with my own recursive descent parsers is
that it's generally straightforward to get decent error messages
for the style of languages that I create, and usually simple to
tweak the result to give clearer errors in some specific situations
(<a href="https://github.com/siebenmann/sinksmtp/blob/master/rparse.go#L432">eg</a>,
<a href="https://github.com/siebenmann/sinksmtp/blob/master/rparse.go#L575">also</a>).</p>
</div></div>]]>
            </description>
            <link>https://utcc.utoronto.ca/~cks/space/blog/programming/WhyRDParsersForMe</link>
            <guid isPermaLink="false">hacker-news-small-sites-24500860</guid>
            <pubDate>Thu, 17 Sep 2020 03:23:12 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Testing Azure Functions on Azure DevOps – part 2: the pipeline]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24500505">thread link</a>) | @davideguida
<br/>
September 16, 2020 | https://www.davideguida.com/testing-azure-functions-on-azure-devops-part-2-the-pipeline/ | <a href="https://web.archive.org/web/*/https://www.davideguida.com/testing-azure-functions-on-azure-devops-part-2-the-pipeline/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>Hi All! Welcome back to the second part of the Series. In this last article, we’re going to see how we can setup the testing pipeline for our <strong>Azure Functions</strong> on <a href="https://azure.microsoft.com/en-us/services/devops/?WT.mc_id=DOP-MVP-5003878" target="_blank" rel="noreferrer noopener">Azure DevOps</a>.</p><p><a href="https://www.davideguida.com/testing-azure-functions-on-azure-devops-part-1-setup/" target="_blank" rel="noreferrer noopener">Last time</a> we saw how we could structure our test project using XUnit Fixtures and how it is possible to launch the Function Host as an external tool to <a href="https://www.davideguida.com/testing-boundaries-web-api/" target="_blank" rel="noreferrer noopener">test the boundaries</a> of our services.</p><h4>This is great on localhost, but now, of course, we want it to be part of our CI/CD pipeline.</h4><p>Now, I’m assuming you already know how to use Azure DevOps to build your pipelines. But in case you need a refresher, you can find a <a rel="noreferrer noopener" href="https://docs.microsoft.com/en-us/azure/devops/pipelines/create-first-pipeline?WT.mc_id=DOP-MVP-5003878&amp;view=azure-devops&amp;tabs=net%2Cyaml%2Cbrowser%2Ctfs-2018-2" target="_blank">lot of information here</a>.</p><p>So let’s jump into the code, we’ll discuss the details after:</p><pre data-enlighter-language="generic" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">pool:
  name: windows-2019

variables:  
  functionAppName: 'MyLovelyFunction'  
  workingDirectory: '$(System.DefaultWorkingDirectory)/$(functionAppName)'  
  ASPNETCORE_ENVIRONMENT: 'ci'

stages:
- stage: Build
  displayName: Build stage

  jobs:
  - job: Build
    displayName: Build

    steps:            
    - script: | 
        "%ProgramFiles(x86)%\Microsoft SDKs\Azure\Storage Emulator\AzureStorageEmulator.exe" init /server "(localdb)\MsSqlLocalDb"
        "%ProgramFiles(x86)%\Microsoft SDKs\Azure\Storage Emulator\AzureStorageEmulator" start
        cp '$(workingDirectory)\ci.settings.json' '$(workingDirectory)\local.settings.json'
        dotnet test
      workingDirectory: $(System.DefaultWorkingDirectory)
      displayName: Test 

    - task: <a href="https://www.davideguida.com/cdn-cgi/l/email-protection" data-cfemail="23674c576d4657604c5146606f6a6311">[email&nbsp;protected]</a>
      displayName: Build Release
      inputs:
        command: 'build'
        projects: |
          $(workingDirectory)/*.csproj
        arguments: --output $(System.DefaultWorkingDirectory)/publish_output --configuration Release</pre><p>So, the first thing is to specify the type of agent we want to use. Now, since we’re going to rely on the <a href="https://docs.microsoft.com/en-us/azure/azure-functions/functions-run-local?tabs=windows%2Ccsharp%2Cbash&amp;WT.mc_id=DOP-MVP-5003878" target="_blank" rel="noreferrer noopener"><strong>Azure Functions CLI</strong> </a>and the <strong><a href="https://docs.microsoft.com/en-us/azure/storage/common/storage-use-emulator?WT.mc_id=DOP-MVP-5003878" target="_blank" rel="noreferrer noopener">Azure Storage Emulator</a></strong>, we need an agent that has them installed. Luckily for us, Microsoft is offering <a href="https://docs.microsoft.com/en-us/azure/devops/pipelines/agents/hosted?WT.mc_id=DOP-MVP-5003878&amp;view=azure-devops&amp;tabs=yaml" target="_blank" rel="noreferrer noopener">managed agents as well</a>, so we don’t have to worry about this.</p><p>In our case, I’ve selected the <em>windows-2019</em> agent, which comes with a quite comprehensive list of <a rel="noreferrer noopener" href="https://github.com/actions/virtual-environments/blob/main/images/win/Windows2019-Readme.md" target="_blank">software pre-installed</a>.</p><p>A note about the <strong>Storage Emulator</strong>: it has <a href="https://github.com/Azure/azure-sdk-for-net/issues/7208" target="_blank" rel="noreferrer noopener">been discontinued</a> in favor of <a href="https://docs.microsoft.com/en-us/azure/storage/common/storage-use-azurite?toc=/azure/storage/blobs/toc.json&amp;WT.mc_id=DOP-MVP-5003878" target="_blank" rel="noreferrer noopener">Azurite</a>.  However, I haven’t been able to run my tests using the latter. I’ll probably blog more about this in the next weeks.</p><h3>The first step in our pipeline contains all we need to setup the agent and start the tests. Let’s analyze the script line by line.</h3><p>The first two lines will instruct the <strong>Storage Emulator </strong>to init the local server and start the engine:</p><pre>%ProgramFiles(x86)%\Microsoft SDKs\Azure\Storage Emulator\AzureStorageEmulator.exe" init /server "(localdb)\MsSqlLocalDb"
"%ProgramFiles(x86)%\Microsoft SDKs\Azure\Storage Emulator\AzureStorageEmulator" start</pre><p>This third line is actually optional. In case you have custom options for your CI environment, you can define a custom config file and replace <em>local.settings.json</em>, which is mandatory for the Functions Host to run:</p><pre>cp '$(workingDirectory)\ci.settings.json' '$(workingDirectory)\local.settings.json'</pre><p>Aaaand at last:</p><pre>dotnet test</pre><p>That’s it!</p></div></div>]]>
            </description>
            <link>https://www.davideguida.com/testing-azure-functions-on-azure-devops-part-2-the-pipeline/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24500505</guid>
            <pubDate>Thu, 17 Sep 2020 02:23:14 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[News – YEcombinator – Com]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 2 (<a href="https://news.ycombinator.com/item?id=24500425">thread link</a>) | @freid
<br/>
September 16, 2020 | https://stayingqold.github.io/news-yecombinator-com/ | <a href="https://web.archive.org/web/*/https://stayingqold.github.io/news-yecombinator-com/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://stayingqold.github.io/news-yecombinator-com/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24500425</guid>
            <pubDate>Thu, 17 Sep 2020 02:07:28 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Crowd-Forecasting Consequences of America's Choice]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24500239">thread link</a>) | @apsec112
<br/>
September 16, 2020 | https://predict.hypermind.com/longfork/en/showcase/showcase.html | <a href="https://web.archive.org/web/*/https://predict.hypermind.com/longfork/en/showcase/showcase.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://predict.hypermind.com/longfork/en/showcase/showcase.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24500239</guid>
            <pubDate>Thu, 17 Sep 2020 01:34:57 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Code-Wise, Cloud-Foolish]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24500238">thread link</a>) | @forrestbrazeal
<br/>
September 16, 2020 | https://forrestbrazeal.com/2020/01/05/code-wise-cloud-foolish-avoiding-bad-technology-choices/ | <a href="https://web.archive.org/web/*/https://forrestbrazeal.com/2020/01/05/code-wise-cloud-foolish-avoiding-bad-technology-choices/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <section>
          <section>
              

              
              
              <article>
                  

<p><img src="https://forrestbrazeal.com/images/cloud-irregular.png" alt="cloud-irregular"></p>

<p><em>In each issue of the “Cloud Irregular” newsletter, I’ll try to provide a useful piece of commentary on some tech-related topic. After that I’ll let you know about any new stuff I’ve published, or upcoming talks. Then I’ll give you something extremely silly, just to cleanse your palate, and we’ll be done.</em></p>

<p><em>Sound good? If so, throw in your email at the bottom of this post.</em></p>

<h2 id="code-wise-cloud-foolish">Code-wise, cloud-foolish</h2>

<p>To be <a href="https://bothsidesofthetable.com/be-careful-not-to-be-penny-wise-pound-foolish-568d9cf470d8">“penny-wise and pound-foolish”</a> is to obsess over small savings while making expensive mistakes – for example, spending huge amounts of money on a credit card just to redeem a few rewards points.</p>

<p>In 2020, resolve with me not to be “code-wise,  cloud-foolish.”</p>

<p>As technical decision-makers, our intuition often tells us that the “cheapest” solution to solve a problem (ie, the one with the best cost/benefit tradeoff) is one that:</p>

<ul>
<li>Uses technologies we are already comfortable with</li>
<li>Gives us a sense of control by using open-source or vendor-agnostic software</li>
<li>Incorporates custom code and tooling where existing off-the-shelf options are pricey or otherwise unappealing</li>
</ul>

<p>You could sum up all these rules as a <strong>bias toward the familiar</strong>. It feels good to use programming languages and tools that we know and trust. There is immediate, positive feedback when you create a slick deployment script because CloudFormation is too slow, or throw your data in Postgres because it “just works”. Our pattern-matching brains tell us that this is smart engineering.</p>

<p>Unfortunately, this kind of thinking can be <em>code-wise, cloud-foolish</em>.</p>

<p>Code-wise, cloud-foolish thinking uses custom code to accomplish <strong>non-differentiated</strong> tasks that cloud services already perform.</p>

<p>Many of us have internalized the call to <a href="http://boringtechnology.club/">choose boring technology</a>. The least-boring technology you can choose is one you have to write yourself. For any given problem space, the code you just wrote has the fewest users, the most bugs, and the least features of any code in the world. That is a necessary first step if existing technology is truly far from solving your problem. Otherwise, you just created something of negative value.</p>

<p><img src="https://forrestbrazeal.com/images/tco.png" alt="tco"></p>

<p>Maintaining a bespoke codebase, training new team members on it, handling operational issues, and adding features is expensive. For many (most?) teams, the cost of rolling your own deployment orchestration system, DSL, or Javascript framework will grow less and less acceptable over time. Save that overhead for the most important things, things that define and differentiate your business.</p>

<p>Another tricky bit of code-wise, cloud-foolish thinking: using languages and frameworks that make you feel good, whether or not they are the best tools for the job.</p>

<p>I don’t take any joy in stoking the eternal flame war between <a href="https://aws.amazon.com/cloudformation/">declarative</a> and <a href="https://www.pulumi.com/">imperative</a> “infrastructure as code” tools. I don’t like YAML any more than you do.</p>

<p>But it’s been my experience that the “imperative” tools, which let you define cloud infrastructure in general-purpose programming languages, open themselves up to arbitrary complexity based on the whims of their users.</p>

<p>Sure, it feels good to write a bunch of for loops and class abstractions to build out a fleet of servers. But it’s also easy to introduce logic errors and hard to communicate to other team members what you’ve created. That’s why imperative deploy scripts, over time, tend to become spooky black boxes.</p>

<p>A declarative config file is often gross and verbose, but there’s only one way to interpret it. Don’t let your development preferences be the enemy of your team’s ongoing success here.</p>

<p>Finally, code-wise, cloud-foolish thinking believes that you can hedge against lock-in by avoiding cloud best practices in favor of lowest-common-denominator “cloud-agnostic” solutions.</p>

<p>Cloud-foolish thinking overlooks that open-source technologies have their own forms of lock-in, sometimes quite insidious. Kubernetes is a great example.</p>

<p>I refer to Kubernetes as “Trojan-source software”. Remember, it came from Google, a cloud provider. Engineers buy it for code-wise, cloud-foolish reasons:</p>

<ul>
<li>It’s built on deceptively familiar paradigms (containers)</li>
<li>It’s open-source; you can theoretically run it anywhere</li>
</ul>

<p>Here’s the problem: K8s is <a href="http://jmoiron.net/blog/is-k8s-too-complicated/">so complex</a> that we avoid even spelling out the word, like it’s the Hebrew name for God. The orchestration and configuration requirements to run it in production are far beyond many teams’ comfort level. That’s why hosted versions of Kubernetes like <a href="https://cloud.google.com/kubernetes-engine/">GKE</a> and <a href="https://aws.amazon.com/eks/">EKS</a> are so popular.</p>

<p>When your open-source software is so complex that it effectively requires a cloud provider to run it on your behalf, you’ve stumbled into <a href="https://faasandfurious.com/114">back door lock-in</a>. And you don’t even get the <em>advantage</em> of traditional cloud lock-in, which is deep integration between native services.</p>

<p>This is not to say that you will always be happy with the decision to consume a cloud-native service (or use any form of pre-existing technology). I have frequently made bad adoption choices. In graphic form:</p>

<p><img src="https://forrestbrazeal.com/images/build-vs-buy-mistakes.png" alt="build vs buy mistakes"></p>

<p>But due to the lower fiscal and emotional investment, I typically feel much less pain when it’s time to move away from a managed service than if I have to sunset something I built.</p>

<p><img src="https://forrestbrazeal.com/images/regret-index.png" alt="regret index"></p>

<p>Anyway. You wouldn’t incur massive credit card debt just to get a few free hotel nights. So don’t spend your limited innovation credits building bespoke, complex systems that provide no direct value to your business.</p>

<p>Instead, build on something like <a href="https://gumroad.com/l/aws-good-parts">The Good Parts of AWS</a> to position yourself at the top of what I call the Wisdom/Cleverness Curve:</p>

<p><img src="https://forrestbrazeal.com/images/wisdom-cleverness-curve.png" alt="wisdom/cleverness curve"></p>

<p>Have a productive and happy 2020. Be cloud-wise.</p>

<h2 id="links-and-events">Links and events</h2>

<ul>
<li>Another AWS re:Invent has come and gone. I wrote about <a href="https://www.trek10.com/blog/preinvent-observability/">new observability services</a>, <a href="https://www.trek10.com/blog/provisioned-lambda-concurrency/">the hidden costs of Lambda provisioned concurrency</a>, and collaborated on this <a href="https://www.trek10.com/blog/lambda-destinations-what-we-learned-the-hard-way/">deep dive into Lambda Destinations</a>.</li>
<li>Jeremy Daly and I sat down with RedMonk’s KellyAnn Fitzpatrick to discuss <a href="https://www.youtube.com/watch?v=Iw_OEdiFNso">CI/CD on AWS</a>.</li>
<li>If you’re looking for a roundup of all my cloud-related writing from 2019, <a href="https://forrestbrazeal.com/2020/01/03/2019-roundup/">look no further</a>.</li>
</ul>

<h2 id="just-for-fun">Just for fun</h2>

<p>The only accurate predictions for the 2020s:</p>

<ul>
<li>Serverless still has servers.</li>
<li>Bitcoin gets regulated, but scores a religious tax exemption.</li>
<li>The gig economy reaches the public sector, as most schools and municipalities are now staffed via TaskRabbit.</li>
<li>The USA elects two rival presidents simultaneously. This is not constitutional, but neither is much else.</li>
<li>Misunderstanding the phrase everyone has been telling them, Oracle continues its desperate bid for relevance by launching a streaming service called Oracle Go.</li>
<li>Apple acquires the entire entertainment industry in an all-cash transaction. Apple TV+ gets three new scripted shows.</li>
<li>Generation Alpha, the children of millenials, are finally old enough to sue their parents for using them as props on Instagram.</li>
<li>The 2020s last for ten years, none of which turns out to be the year of Linux on the desktop.</li>
</ul>

              </article>
              <center>
              <p>
                      If you enjoy my articles, comics, and stories, why not sign up for the mailing list?
                  </p>
              
            </center>
              
          </section>
          <br>
          

      </section>

    </div></div>]]>
            </description>
            <link>https://forrestbrazeal.com/2020/01/05/code-wise-cloud-foolish-avoiding-bad-technology-choices/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24500238</guid>
            <pubDate>Thu, 17 Sep 2020 01:34:25 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Hacking on Bug Bounties for Four Years]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24500198">thread link</a>) | @infosecau
<br/>
September 16, 2020 | https://blog.assetnote.io/2020/09/15/hacking-on-bug-bounties-for-four-years/ | <a href="https://web.archive.org/web/*/https://blog.assetnote.io/2020/09/15/hacking-on-bug-bounties-for-four-years/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
          <ul>
  <li><a href="https://blog.assetnote.io/2020/09/15/hacking-on-bug-bounties-for-four-years/#intro">Intro &amp; Motivations</a></li>
  <li><a href="https://blog.assetnote.io/2020/09/15/hacking-on-bug-bounties-for-four-years/#findings">Findings</a></li>
  <li><a href="https://blog.assetnote.io/2020/09/15/hacking-on-bug-bounties-for-four-years/#analysis">Analysis</a></li>
  <li><a href="https://blog.assetnote.io/2020/09/15/hacking-on-bug-bounties-for-four-years/#collaboration">Collaboration</a></li>
  <li><a href="https://blog.assetnote.io/2020/09/15/hacking-on-bug-bounties-for-four-years/#methodology">Methodology</a></li>
</ul>

<hr>





<p>I value transparency a lot, especially when it comes to the bug bounty space. Bug bounty hunters all around the world are submitting a range of reports where the issues found span across multiple domains, often leveraging numerous techniques and methodologies. However, if you’re not already an active bug bounty hunter who has a good understanding of what a bounty program expects, or will pay out for, you have a major disadvantage compared to someone who does have this knowledge. I hope through this blog post, I can demystify the sort of issues bug bounty programs pay for.</p>

<p>The last blog post I did in this series was around four years ago, <a href="https://shubs.io/high-frequency-security-bug-hunting-120-days-120-bugs/">120 days, 120 bugs</a>. In the last four years, a lot has happened. I moved to Europe for six months, I moved interstate in Australia twice, I won a <a href="https://www.youtube.com/watch?v=VojwIY4GL-4">live hacking event</a>, I co-founded a company and helped build an <a href="https://assetnote.io/">attack surface management platform</a> with a team of people I consider family.</p>

<p>Unlike my previous blog post, I did not set myself a goal to find a bug a day. Instead, I participated in bug bounties whenever time allowed. There were many months where I found nothing at all, which often terrified me when it came to evaluating my self worth as a hacker. I also admitted to myself, that I might be a good hacker, but there is always going to be a better hacker out there, and I’ve made my peace with that as a hyper-competitve person.</p>

<p>If you don’t have an excellent understanding of fundamental application security <a href="http://projects.webappsec.org/w/page/13246978/Threat%20Classification">attacks and weaknesses</a> before you approach bug bounties, in my opinion, you are wasting your time. <a href="https://portswigger.net/web-security">Practice and learn more here</a>.</p>

<p>If you’re looking for a paid, more extensive resource, check out and practice with <a href="https://pentesterlab.com/">PentesterLab</a>.</p>

<p>Participating so heavily in bug bounties has given us the knowledge at Assetnote about what security teams <em>actually</em> care about. It’s the reason we can maintain high signal when we are continuously finding exposures.</p>

<p>My primary motivation for this blog post is to educate the masses on what bug bounty programs are paying out for.</p>

<p>For example, would you know that you could submit a dangling EC2 IP (subdomain pointing to an EC2 IP that is no longer owned by the company) as a bug report without reading the proof in the pudding below? I’ve been paid for this by programs, so clearly they value this sort of information.</p>

<hr>




<p>Below are all of my findings for the last four years. I’ve redacted information where necessary, but by reading the titles, it should give you a good understanding of what I was reporting to programs.</p>

<table data-order="[[ 0, &quot;desc&quot; ]]" id="bugs">
<thead><tr><th title="Field #1">Date</th>
<th title="Field #2">Bug</th>
<th title="Field #3">Payout</th>
</tr></thead>
<tbody><tr>
<td>2020-09-02 14:04:11 UTC</td>
<td>[redacted] Hosted Zone Takeover</td>
<td>$1,000.00</td>
</tr>
<tr>
<td>2020-07-16 18:39:22 UTC</td>
<td>Spring debugging endpoints exposed leading to disclosure of all secrets via heapdump on [redacted] &amp; Account takeover by Trace</td>
<td>$2,500.00</td>
</tr>
<tr>
<td>2020-06-30 22:54:07 UTC</td>
<td>Blind SSRF on [redacted] through invoicing API - access to internal hosts</td>
<td>$60.00</td>
</tr>
<tr>
<td>2020-06-10 13:53:43 UTC</td>
<td>Full Account takeover through subdomain takeover via [redacted]</td>
<td>$300.00</td>
</tr>
<tr>
<td>2020-06-10 13:24:10 UTC</td>
<td>Full Account takeover through subdomain takeover via [redacted]</td>
<td>$300.00</td>
</tr>
<tr>
<td>2020-06-10 13:21:57 UTC</td>
<td>Full Account takeover through subdomain takeover via  [redacted]</td>
<td>$300.00</td>
</tr>
<tr>
<td>2020-06-08 14:28:05 UTC</td>
<td>Amazon S3 Subdomain Hijack - [redacted]</td>
<td>$256.00</td>
</tr>
<tr>
<td>2020-06-08 05:29:58 UTC</td>
<td>Route53 Hosted Zone Takeover of [redacted]</td>
<td>$500.00</td>
</tr>
<tr>
<td>2020-06-05 16:27:42 UTC</td>
<td>Admin panel for Cisco IP Conference Station CP-7937G exposed on the internet on [redacted] IP ranges</td>
<td>$400.00</td>
</tr>
<tr>
<td>2020-06-03 21:07:51 UTC</td>
<td>Pre-auth Blind MSSQL Injection affecting [redacted]</td>
<td>$1,024.00</td>
</tr>
<tr>
<td>2020-06-03 14:18:24 UTC</td>
<td>Pre-auth MSSQL Injection affecting [redacted]</td>
<td>$1,024.00</td>
</tr>
<tr>
<td>2020-06-02 15:28:50 UTC</td>
<td>Pre-auth SQL Injection affecting [redacted]</td>
<td>$1,024.00</td>
</tr>
<tr>
<td>2020-06-02 15:26:58 UTC</td>
<td>RCE via arbitrary file write and path traversal [redacted]</td>
<td>$1,024.00</td>
</tr>
<tr>
<td>2020-06-02 15:25:08 UTC</td>
<td>RCE via arbitrary file write and path traversal [redacted]</td>
<td>$1,024.00</td>
</tr>
<tr>
<td>2020-05-18 10:12:38 UTC</td>
<td>Route53 Hosted Zone Takeover of [redacted]</td>
<td>$1,000.00</td>
</tr>
<tr>
<td>2020-05-18 10:11:58 UTC</td>
<td>Route53 Hosted Zone Takeover of [redacted]</td>
<td>$1,000.00</td>
</tr>
<tr>
<td>2020-05-18 10:06:22 UTC</td>
<td>Route53 Hosted Zone Takeover of [redacted]</td>
<td>$1,000.00</td>
</tr>
<tr>
<td>2020-05-18 10:05:20 UTC</td>
<td>Route53 Hosted Zone Takeover of [redacted]</td>
<td>$1,000.00</td>
</tr>
<tr>
<td>2020-05-11 18:47:54 UTC</td>
<td>Route53 Hosted Zone Takeover of [redacted]</td>
<td>$100.00</td>
</tr>
<tr>
<td>2020-05-11 14:59:23 UTC</td>
<td>Account takeover through Subdomain Takeover of [redacted] (Cookie Disclosure -&gt; Account Takeover)</td>
<td>$2,500.00</td>
</tr>
<tr>
<td>2020-05-11 14:31:18 UTC</td>
<td>Account takeover through Subdomain Takeover of [redacted] (Cookie Disclosure -&gt; Account Takeover)</td>
<td>$2,500.00</td>
</tr>
<tr>
<td>2020-05-07 01:47:49 UTC</td>
<td>View all metadata for any [redacted] IDOR [redacted]</td>
<td>$1,000.00</td>
</tr>
<tr>
<td>2020-04-29 22:58:57 UTC</td>
<td>IDOR view all [redacted]</td>
<td>$4,000.00</td>
</tr>
<tr>
<td>2020-04-29 22:57:55 UTC</td>
<td>IDOR view the [redacted]</td>
<td>$2,500.00</td>
</tr>
<tr>
<td>2020-04-24 18:19:23 UTC</td>
<td>Subdomain takeover of [redacted] through Heroku</td>
<td>$300.00</td>
</tr>
<tr>
<td>2020-04-24 18:18:45 UTC</td>
<td>Subdomain takeover of [redacted] through Heroku</td>
<td>$300.00</td>
</tr>
<tr>
<td>2020-04-23 19:45:04 UTC</td>
<td>Ability to horizontal bruteforce [redacted] accounts by abusing [redacted] sign up flow</td>
<td>$500.00</td>
</tr>
<tr>
<td>2020-04-22 17:44:29 UTC</td>
<td>View all metadata for any [redacted] IDOR [redacted]</td>
<td>$500.00</td>
</tr>
<tr>
<td>2020-04-22 17:42:51 UTC</td>
<td>IDOR view the [redacted] for any [redacted] for today [redacted]</td>
<td>$500.00</td>
</tr>
<tr>
<td>2020-04-22 17:42:06 UTC</td>
<td>IDOR view all [redacted] for a [redacted] [redacted]</td>
<td>$500.00</td>
</tr>
<tr>
<td>2020-04-06 19:13:19 UTC</td>
<td>Facebook - Payout For [redacted]</td>
<td>$5,000.00</td>
</tr>
<tr>
<td>2020-03-07 15:12:24 UTC</td>
<td>Accessing Querybuilder on [redacted] to gain access to secrets</td>
<td>$3,000.00</td>
</tr>
<tr>
<td>2020-02-25 15:02:20 UTC</td>
<td>Subdomain takeover of [redacted] via Amazon S3</td>
<td>$750.00</td>
</tr>
<tr>
<td>2020-02-20 23:01:58 UTC</td>
<td>HTML injection, DOS of email receipts and potentially template injection within [redacted] via "Expense Info" section</td>
<td>$500.00</td>
</tr>
<tr>
<td>2020-02-18 14:45:40 UTC</td>
<td>Admin account bruteforce via [redacted]/libs/granite/core/content/login.html</td>
<td>$500.00</td>
</tr>
<tr>
<td>2020-02-15 12:24:57 UTC</td>
<td>Blind XSS via registering on [redacted]</td>
<td>$500.00</td>
</tr>
<tr>
<td>2020-02-04 03:45:38 UTC</td>
<td>HTML Injection in email when contributing to a [redacted]</td>
<td>$700.00</td>
</tr>
<tr>
<td>2020-01-21 17:13:58 UTC</td>
<td>Ability to attach malicious attachments (of any name and of any content type) to [redacted] support staff via [redacted]</td>
<td>$2,000.00</td>
</tr>
<tr>
<td>2020-01-15 11:41:59 UTC</td>
<td>No authentication required to view and delete Terraform locks at [redacted]</td>
<td>$250.00</td>
</tr>
<tr>
<td>2019-12-12 16:25:11 UTC</td>
<td>[redacted] Webhook URL + object leaked in JavaScript on [redacted]</td>
<td>$3,000.00</td>
</tr>
<tr>
<td>2019-11-21 22:15:20 UTC</td>
<td>AWS &amp; Screenhero JWT Credentials from [redacted] not rotated, still working</td>
<td>$1,000.00</td>
</tr>
<tr>
<td>2019-10-17 13:44:23 UTC</td>
<td>RCE on [redacted] via IBM Aspera exploit leading to compromise of secure file storage </td>
<td>$1,000.00</td>
</tr>
<tr>
<td>2019-10-15 14:29:25 UTC</td>
<td>SSO bypass on [redacted] leading to access of internal documents and portals</td>
<td>$250.00</td>
</tr>
<tr>
<td>2019-10-11 18:07:51 UTC</td>
<td>Admin access to [redacted] via guessing credentials</td>
<td>$1,500.00</td>
</tr>
<tr>
<td>2019-10-11 18:06:15 UTC</td>
<td>3rd party subdomain hijack - EC2 IP of [redacted] is no longer controlled by [redacted]</td>
<td>$250.00</td>
</tr>
<tr>
<td>2019-09-30 16:56:50 UTC</td>
<td>Multiple server-side issues affecting [redacted] (SSRF, admin panels)</td>
<td>$2,660.00</td>
</tr>
<tr>
<td>2019-09-25 22:10:00 UTC</td>
<td>Read any [redacted] details using UUID - IDOR in [redacted]</td>
<td>$1,000.00</td>
</tr>
<tr>
<td>2019-09-10 16:17:59 UTC</td>
<td>SSRF in [redacted]</td>
<td>$2,000.00</td>
</tr>
<tr>
<td>2019-09-03 15:28:36 UTC</td>
<td>SSRF in [redacted]</td>
<td>$17,900.00</td>
</tr>
<tr>
<td>2019-08-29 00:43:00 UTC</td>
<td>Bypassing email whitelists for organisation signup flows on [redacted]</td>
<td>$250.00</td>
</tr>
<tr>
<td>2019-08-09 05:15:44 UTC</td>
<td>[Pre-Submission] SSRF in [redacted] (Iframely)</td>
<td>$2,970.30</td>
</tr>
<tr>
<td>2019-07-29 16:32:59 UTC</td>
<td>[Bypass] SSRF via [redacted] leads to internal network access, ability to read internal JSON responses</td>
<td>$23,000.00</td>
</tr>
<tr>
<td>2019-07-24 02:52:42 UTC</td>
<td>PHPInfo exposed at [redacted]</td>
<td>$100.00</td>
</tr>
<tr>
<td>2019-07-24 02:46:02 UTC</td>
<td>SSRF on [redacted] leading to AWS breach via security credentials</td>
<td>$5,000.00</td>
</tr>
<tr>
<td>2019-07-08 14:44:23 UTC</td>
<td>Remote command execution on production [redacted] (via tsi parameter) - CVE-2017-12611</td>
<td>$2,000.00</td>
</tr>
<tr>
<td>2019-06-12 17:42:53 UTC</td>
<td>Username/Password for Aspera and other secrets leaked in [redacted]</td>
<td>$1,500.00</td>
</tr>
<tr>
<td>2019-06-12 17:42:08 UTC</td>
<td>SSO/Authorization bypass for APIs hosted on [redacted]</td>
<td>$1,500.00</td>
</tr>
<tr>
<td>2019-06-12 14:45:09 UTC</td>
<td>Remote Code Execution (many endpoints) - [redacted]</td>
<td>$4,500.00</td>
</tr>
<tr>
<td>2019-06-10 17:29:35 UTC</td>
<td>Extract email, dob, full address, federal tax ID and other PII for all leads in [redacted]</td>
<td>$1,800.00</td>
</tr>
<tr>
<td>2019-06-10 16:53:22 UTC</td>
<td>Obtain email, mobile of customers of [redacted] by iterating through Lead IDs via the API</td>
<td>$12,600.00</td>
</tr>
<tr>
<td>2019-06-10 16:52:40 UTC</td>
<td>Ability to pull out all opportunities (IDOR) extract PII for customers of [redacted]</td>
<td>$12,600.00</td>
</tr>
<tr>
<td>2019-06-07 18:51:24 UTC</td>
<td>[redacted][IDOR] - Accessing all accounts via regression / new attack vector by abusing [redacted] (regression?)</td>
<td>$2,500.00</td>
</tr>
<tr>
<td>2019-06-07 18:17:31 UTC</td>
<td>Blind SSRF on [redacted] through RPC call to checkAvailableLivechatAgents</td>
<td>$62.50</td>
</tr>
<tr>
<td>2019-06-07 18:07:22 UTC</td>
<td>HTML injection in emails when adding a reviewer to [redacted]</td>
<td>$125.00</td>
</tr>
<tr>
<td>2019-06-07 17:42:09 UTC</td>
<td>[IDOR] Impersonating an [redacted] employee via /api/readHandler on [redacted]</td>
<td>$1,500.00</td>
</tr>
<tr>
<td>2019-06-07 15:33:31 UTC</td>
<td>Extract mobile number and [redacted] using only an email address, for any [redacted]</td>
<td>$750.00</td>
</tr>
<tr>
<td>2019-06-07 14:36:01 UTC</td>
<td>Zendesk Ticket IDOR / Ability to enumerate  IDs via [redacted]</td>
<td>$125.00</td>
</tr>
<tr>
<td>2019-06-07 14:24:15 UTC</td>
<td>Extract mobile number and [redacted] using only an email address, for any [redacted] user</td>
<td>$750.00</td>
</tr>
<tr>
<td>2019-06-07 14:11:20 UTC</td>
<td>HTML Injection in [redacted] receipts if printed from [redacted]</td>
<td>$100.00</td>
</tr>
<tr>
<td>2019-06-07 13:56:46 UTC</td>
<td>Ability to access the airwatch admin panels and APIs in [redacted]</td>
<td>$1,000.00</td>
</tr>
<tr>
<td>2019-06-07 13:21:31 UTC</td>
<td>IDOR on [redacted] allows you to access [redacted] information for any [redacted] user</td>
<td>$250.00</td>
</tr>
<tr>
<td>2019-06-07 10:13:20 UTC</td>
<td>[redacted][IDOR] - Accessing all accounts via regression / new attack vector by abusing [redacted] (regression?)</td>
<td>$15,000.00</td>
</tr>
<tr>
<td>2019-05-22 19:33:27 UTC</td>
<td>SQLi and Authentication Bypass in [redacted]</td>
<td>$4,500.00</td>
</tr>
<tr>
<td>2019-04-29 14:14:42 UTC</td>
<td>Reflected XSS in [redacted]</td>
<td>$500.00</td>
</tr>
<tr>
<td>2019-04-29 14:14:29 UTC</td>
<td>SSRF in [redacted]</td>
<td>$1,500.00</td>
</tr>
<tr>
<td>2019-04-25 07:33:22 UTC</td>
<td>Local file disclosure through Rails CVE-2019-5418 in [redacted]</td>
<td>$100.00</td>
</tr>
<tr>
<td>2019-04-19 02:28:54 UTC</td>
<td>SSRF - [redacted]</td>
<td>$4,950.00</td>
</tr>
<tr>
<td>2019-04-19 02:28:35 UTC</td>
<td>SSRF at [redacted] via the 'url' parameter</td>
<td>$4,950.00</td>
</tr>
<tr>
<td>2019-03-29 11:23:14 UTC</td>
<td>AWS S3 secrets leaked in [redacted] meeting connector …</td></tr></tbody></table></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.assetnote.io/2020/09/15/hacking-on-bug-bounties-for-four-years/">https://blog.assetnote.io/2020/09/15/hacking-on-bug-bounties-for-four-years/</a></em></p>]]>
            </description>
            <link>https://blog.assetnote.io/2020/09/15/hacking-on-bug-bounties-for-four-years/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24500198</guid>
            <pubDate>Thu, 17 Sep 2020 01:29:10 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Apple’s Hell]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24499953">thread link</a>) | @csomar
<br/>
September 16, 2020 | https://omarabid.com/apple-hell | <a href="https://web.archive.org/web/*/https://omarabid.com/apple-hell">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section id="container">
  <article id="jXJU1VRkyV4NjZEeFQzSe1">
	<time datetime="2020-08-18">August 18, 2020</time>
  
	<p>My journey with Apple’s products began roughly 6 years ago. I’ve been using Windows ever since I started using computers; with brief stunts on Linux. The transition, back then, seemed like a straightforward choice. I didn’t have the time to fight and learn Linux. I just needed software and hardware that worked. Apple’s ecosystem stroke a balance between getting things done, having reliable hardware and still having room for customization.</p>

<p><a href="https://en.wikipedia.org/wiki/OS_X_Mavericks">Mavericks</a> was my first introduction to <a href="https://en.wikipedia.org/wiki/MacOS">OS X</a>. The OS was fast, seamless and well refined; backups, encryption, and mail just worked with a few clicks. Things, however, haven’t been that orderly as of late. macOS has been diverging from its origins as a developer’s OS and on track to become a mainstream OS; and hardware build quality is not as good as it used to be. I’m still very happy with the iPhone but not quite sure about macOS and the Macbook lineup. I have also, to a certain degree, outgrown the macOS ecosystem. I needed a greater deal of customization, a <a href="https://en.wikipedia.org/wiki/Tiling_window_manager">tiling window manager</a>, and needed less slick gadgets and zappy notifications.</p>

<p>My macOS setup was simple, flexible and quite common. I had a <a href="https://support.apple.com/kb/SP776?locale=en_US">15" 2018 Macbook Pro</a> that is my primary machine plugged to three monitors on desk. I also had an older <a href="https://support.apple.com/kb/SP704?locale=en_US">15" 2014 Macbook Pro</a> as a backup machine; just in case the primary machine went down. I didn’t have second thoughts about using a laptop as a desktop replacement; that seemed what everyone else is doing.</p>

<p>Much like the rest of world, I was stuck at home during March and April due to a <a href="https://en.wikipedia.org/wiki/Coronavirus_disease_2019">confinement order</a>. I didn’t need to unplug my Macbook during that time, and it being placed behind three big monitors made it unnoticeable. I didn’t observe any weirdness or effects on performance and there were no alerts until I unplugged it and discovered an unpleasant surprise.</p>

<p><a href="https://svbtleusercontent.com/nZDzPJ5H2vxmooTntiuwmS0xspap.jpg"><img src="https://svbtleusercontent.com/nZDzPJ5H2vxmooTntiuwmS0xspap_small.jpg" alt="Macbook Pro battery"></a></p>
<blockquote>
<p>the battery is still in good condition according to macOS</p>
</blockquote>
<p>The laptop was purchased a year and four months ago; its warranty has expired and I was aware that I’d have to repair it on my expense. What I wasn’t aware of, however, is how expensive to repair the 2018 line or how hard it is to replace its battery. iFixit has a <a href="https://www.ifixit.com/Guide/MacBook+Pro+15-Inch+Touch+Bar+2018+Battery+Replacement/122269">guide</a> on how to do it and it’s a real struggle. The process is a 66 steps that will take a professional anything from one to three hours and requires special tools. It’s not a process that I feel comfortable doing on my own.</p>

<p>There are no Apple stores where I live, so I paid a couple <em>Apple Authorized service providers</em> a visit. I got quoted around $800 for the battery replacement and 2-3 months repair time. Apparently, they can’t replace the battery but the whole casing. They also need to order the new casing and have it shipped which can take considerable time. That did leave a bad taste: not being able to replace the battery might be acceptable if the upside is a slimmer laptop but the fee to get it serviced is simply ridiculous.</p>

<p>It doesn’t seem that I am the only one facing this <a href="https://forums.macrumors.com/threads/macbook-pro-2018-swelling.2208695/">issue</a>, though it seems the people who had the issue are also using the Macbook as a desktop replacement with multiple monitors plugged; so maybe there is something to that. People who have access to an Apple store seemed to have better luck of getting it fixed for free; however, for the rest of us, it’s not that lucky.</p>

<p>Interestingly, during that time, Apple released a <a href="https://arstechnica.com/gadgets/2020/05/apple-introduces-new-macbook-battery-management-with-macos-catalina-10-15-5/">macOS update</a> for battery management.  The timing is suspicious, but it might have been just coincidental. We do know that batteries for the <a href="https://support.apple.com/15-inch-macbook-pro-battery-recall">2015 lineup had a problem</a> with swelling and there is a <a href="https://support.apple.com/15-inch-macbook-pro-battery-recall">replacement program</a>. But they only recognized that in 2019, so do not hold your breath.</p>

<p>Getting the laptop handled on short notice being unlikely, I moved to my second plan: using the older one as backup.</p>

<p>The most important lesson that I have learned from this wreck was: It’s not enough to do backups, you also have to test that they do work; probably regularly. I didn’t do that and I was caught by surprise that <a href="https://en.wikipedia.org/wiki/Time_Machine_(macOS)">Time Machine</a> backups did not work in accordance to my expectations.</p>

<p>My expectation was that Time Machine will backup <em>all</em> files. By <em>all</em> files, I thought it did a clone of my Hard Drive; and when restored, it’ll restore an identical image of the previous system. That is, I’d have a replica of my system configuration, my browser history, sites that I logged on to, etc… Unluckily, that’s not the case. Time Machine <a href="https://apple.stackexchange.com/a/25833/58703">do ignore files</a>; and getting it to do a real system clone appears to be a considerable headache (if possible); especially that I didn’t want to operate the hazardous laptop for extended periods of time.</p>

<p>But does these arbitrarily seeming exclusions matter? Yes, they do. The system was functional but I was not able to run several apps and scripts that I have installed and manually configured. Docker was also broken. I did find all of my files but these were already backed up in iCloud; I was mainly after getting a replica of my other laptop.</p>

<p>With a functioning system, I was happy to at least have my files there; even though some stuff is not functioning correctly. But for some reason, the system slowed to a crawl and fans were running at full speed. A process named <code>bird</code> was consuming pretty much all of my CPU power; restarting the system or trying to stop it didn’t work as it’ll spawn again.</p>

<p>The process, apparently, belongs to <a href="https://discussions.apple.com/thread/6606275">iCloud Drive</a>. It’s not clear what iCloud is trying to do here, but my wild guess is that iCloud is checking that files on the local drive matches the ones on the cloud. If that’s the case, it’s probably calculating a checksum for the local files and comparing it to the checksum in the cloud. It’s not clear what triggered iCloud, but that might be a consequence of some of the files that Time Machine missed.</p>

<p>A couple hours later, iCloud is still brewing. There are no progress indicators, so it’s not clear how long such a process would take but with hundreds of thousands of files, it might possibly take days?</p>

<p>With restoring the old system becoming an exasperating process, I decided to start from a blank slate. After all, if I was going to fix a broken system might as well just build it again.</p>

<p>For a new re-install, your 2014 Macbook Pro will install not the latest but the original operating system version. That is, for the 2014 Macbook Pro, you first install Mavericks, and then upgrade to the latest system. That was interesting, since you can’t downgrade your system later; and also, you can’t upgrade to any system other than the latest. So if you are in this situation, you have Mavericks hardware, you lost your backup, and you need <a href="https://en.wikipedia.org/wiki/OS_X_El_Capitan">El Capitain</a> instead of <a href="https://en.wikipedia.org/wiki/MacOS_Catalina">Catalina</a>; I’m not sure if you can do that.</p>

<p>There is a list of exceptions/rules under <a href="https://support.apple.com/en-us/HT204904">macOS Recovery exceptions</a> that will determine which version you can install depending on your hardware and last installed version. Unfortunately, you can’t <a href="https://apple.stackexchange.com/a/309400/58703"><em>simply</em> install a particular version of macOS</a>.</p>

<p>Mavericks was a bit of fresh air, though. It was pretty fast, and it didn’t have useless features that I didn’t need. But then, I stumbled upon another problem: <a href="https://en.wikipedia.org/wiki/Backward_compatibility">Backward compatibility</a>. If you have been upgrading your macOS system consistently, you might have missed that Apple is a bad steward of backward compatibility; with probably the one exception of no longer supporting <a href="https://arstechnica.com/gadgets/2018/01/apple-prepares-macos-users-for-discontinuation-of-32-bit-app-support/">32-bit applications</a> which should have broke most of your games.</p>

<p>These are things that you can turn a blind eye on until they come later and bite you hard. For Mavericks, it didn’t have an <a href="https://en.wikipedia.org/wiki/AirDrop#Transfer_between_a_Mac_and_an_iOS_device">interoperable Airdrop</a> with iOS. So I wasn’t able to upload photos from my iPhone to the laptop. Maybe I should use Bluetooth? Tough luck, the iPhone doesn’t support <a href="https://www.reddit.com/r/iphone/comments/ar7yd4/sending_photo_from_iphone_to_android_with/">sending a photo</a> over Bluetooth. Once you leave Apple walled garden, you are pretty much screwed.</p>

<p>Needless to say, I was not able to get lots of applications running like Skype, RescueTime, Fork. They all require the latest version of macOS and do not support older versions.</p>

<p>I started having headaches with macOS last year. The Parental Control feature checks every URL you ping, and thus slowed down even local development which took me a week to figure out what process what slowing traffic. With macOS slowly diverging from a developer friendly OS to a mainstream, iPhone-like one, it’s time to move on. Here is what the next update of macOS will look like.</p>

<p><a href="https://svbtleusercontent.com/dc5LRFprRqK1kpdQEptrWE0xspap.jpg"><img src="https://svbtleusercontent.com/dc5LRFprRqK1kpdQEptrWE0xspap_small.jpg" alt="macOS Big Sur"></a></p>
<blockquote>
<p>The new macOS is looking more like iOS</p>
</blockquote>
<p>I can understand Apple’s perspective; after all, a mainstream market is larger and more profitable than a developer’s only market. Creative people will still use Apple products regardless and people developing for macOS/iOS will always depend on the Apple ecosystem. So it might workout profitably for them.</p>

<p>Don’t get me wrong, macOS is still a very good OS. I’ll probably keep using it in combination to the phone to do regular browsing, mail, documents and other miscellaneous stuff; probably pick an Air instead of a Pro.</p>

<p>For development, I took the plunge and built a box and installed <a href="https://www.archlinux.org/">ArchLinux</a>. An <a href="https://www.amd.com/en/products/cpu/amd-ryzen-7-3700x">AMD Ryzen 3700X</a>, 32 GB of RAM, <a href="https://www.nvidia.com/en-me/geforce/graphics-cards/gtx-1650-super/">Nvidia GTX 1650 Super</a> and an 256 GB <a href="https://en.wikipedia.org/wiki/NVM_Express">NVMe drive</a> cost roughly $1.000. Not that far from the cost of repairing a Macbook battery!</p>

<p>I was surprised how easy it is to setup ArchLinux on a randomly picked box; most of the hardware just worked out of the box; but it’s still early to judge the experience as I’m only two months in.</p>

<p>But that’s a talking point for another day!</p>

  <figure id="kudo_jXJU1VRkyV4NjZEeFQzSe1">
    <a href="#kudo">
      
    </a>
    <p>21</p>
    <p>Kudos</p>
  </figure>
  <figure id="kudo_side_jXJU1VRkyV4NjZEeFQzSe1">
    <a href="#kudo">
      
    </a>
    <p>21</p>
    <p>Kudos</p>
  </figure>
</article>

</section></div>]]>
            </description>
            <link>https://omarabid.com/apple-hell</link>
            <guid isPermaLink="false">hacker-news-small-sites-24499953</guid>
            <pubDate>Thu, 17 Sep 2020 00:52:55 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Ron Minsky (Jane Street) on working with legacy systems]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 1 (<a href="https://news.ycombinator.com/item?id=24499559">thread link</a>) | @oxryly1
<br/>
September 16, 2020 | https://signalsandthreads.com/build-systems/#1458 | <a href="https://web.archive.org/web/*/https://signalsandthreads.com/build-systems/#1458">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		<h2 id="003">0:03</h2>


<div><p>Welcome to Signals &amp; Threads, in-depth conversations about every layer of the tech stack, from Jane Street. I’m Ron Minsky.  </p><p>Today, I’m going to have a conversation with Andrey Mokhov about build systems. Build systems are an important but I think poorly understood and often unloved part of programming. Developers often end up with only a hazy understanding of what’s going on with their build system learning just enough to figure out what arcane invocation they need to get the damn thing working and then stop thinking about it at that point, and that’s a shame because build systems matter a lot to our experience as developers.  </p><p>A lot of what underlies a good developer experience really comes out of the build system that you use and also there’s a lot of beautiful ideas and structure inside of build systems. Sadly, a lot of that beauty is obscured by a complex thicket of messy systems of different kinds and a complicated ecosystem of different build systems for different purposes, and I’m hoping that Andrey can help us see through some of that thicket down to some of the elegance of all of this underneath.  </p><p>Andrey is a great person to have that conversation with because he’s had a long and interesting experience with build systems having done some work on Hadrian, which is the build system for the <a href="https://www.haskell.org/ghc">Glasgow Haskell Compiler</a> and having written a few important papers that try and analyze and break down the ecosystem of build systems and help you understand kind of what’s going on fundamentally underneath, and finally, in the last few years, Andrey has been working here working on Jane Street build systems.  </p><p>So, thanks Andrey for joining me, and maybe to start with, you can start by explaining to us a little bit about what a build system is.</p></div>

<h2 id="140">1:40</h2>


<div><p>Hi, Ron. It’s great to be on the podcast. So what is a build system?  Build systems automate the execution of various tasks of individual developers like me and whole companies like Jane Street. So, as a software developer, what are the kind of tasks that I need to do every day? I need to compile and recompile source files. I need to run some tests. I need to keep my documentation up to date. There are lots of tasks like this.  </p><p>Every task is pretty simple and straightforward on its own, but there are a lot of them, and they are tedious and I need to remember to do them in the right order, so it’s great to have some automation that does it for me. In the old days, like, how would you do this without automation, you would just write a script, and the script was your build system. And that’s how I worked myself when I used to work on projects with just a few files. And it works perfectly fine in those settings.</p></div>

<h2 id="223">2:23</h2>


<p>Beyond just using simple scripts, what’s the next step up available to developers in terms of automation?</p>

<h2 id="227">2:27</h2>


<div><p>Well, before, I don’t know, 1976 when Make was developed, there was nothing else and people were just writing scripts. And projects were getting bigger and bigger, it became difficult and at some point Make was developed to automate this. So Make was a huge breakthrough. It’s very simple. It allows you to write down the tasks that you need to execute and each task has some inputs and some outputs and the task itself, so what kind of command line you need to run to execute this task.  </p><p>And this very simple approach worked very well and it’s still being used these days. So these days I would say Make is still the most popular build system out there. If you go to a random open source project you will find a Makefile there.</p></div>

<h2 id="308">3:08</h2>


<p>Which on some level is kind of astonishing, just given how old Make is.</p>

<h2 id="311">3:11</h2>


<p>I’m amazed at how successful Make was and still is.</p>

<h2 id="314">3:14</h2>


<p>What was the thing that made Make such a big step forward?</p>

<h2 id="316">3:16</h2>


<p>Well, it was easy to use, right? You just write a few rules and the format for specifying those rules is pretty straightforward. It’s just a text file. And Make is available to you on pretty much any system. You type Make and it works. I guess it’s that kind of conceptual simplicity which attracted a lot of people to it, and of course also the pain that they had experienced before when they had to run all those tasks manually and they kept forgetting to run things in the right order. And I think this was one of the direct motivations of creating Make.</p>

<h2 id="345">3:45</h2>


<p>So, you talk about having a simple conceptual model, and what is that model on some level when you configure a job in Make, what you’re doing is specifying a collection of rules. Each rule says what you do, what’s the command you run to execute that rule, what it depends on and what it produces, and now Make has what is essentially a graph like model representing what are the things you need to do and what are the dependencies. Given that simple model, what are the services that Make now provides to you that you didn’t have before?</p>

<h2 id="412">4:12</h2>


<div><p>The main benefit of using Make compared to a script is that Make only reruns the tasks that need to be rerun. So how does it figure it out?  When you have like 1000 files in your project and you edit a single source file, if you run the script, it will basically recompile all 1000 files and then maybe relink some executables and rerun all the tests. And obviously that’s very wasteful. If you’ve only edited one file, only one file need to be recompiled.  </p><p>Make figures this out by just looking at timestamps. So, it just looks at the time of the file that you’ve just edited and it’s newer than the file that depends on it, so that files that depends on it needs to be recompiled and then its timestamp is updated, and so this wave of changes propagates through the build graph that you have and at the end for every task that you have in your description, you have the simple rule that everything that all the inputs of the task produced before the task, the outputs of the task have reproduced. This is before/after relationship is enforced everywhere in the build graph.</p></div>

<h2 id="511">5:11</h2>


<p>Right. Service number one that’s provided is incrementality. Small changes require small amounts of work in response to them.</p>

<h2 id="519">5:19</h2>


<p>That’s right. Yeah.</p>

<h2 id="520">5:20</h2>


<div><p>And this is important to developers kind of for obvious reasons, which is to say a key thing you want from your tools is responsiveness. You want to do something, see the results, think about whether that was the right thing to do and go back and make other changes, and so having tools that are responsive is enormously helpful. There’s a couple of the things that come to mind for me in terms of what Make helps out with. One of them is, it helps get the build right. One of the tricks with rebuilding your software is making sure that you’ve done all the things that you need to do. Like you could imagine that you changed a file and then you remember to rebuild that but you didn’t remember to rebuild everything that depended on it.  </p><p>And so having a simple language where you can express the dependencies and then once you get it right, you have a system that takes care of running things in the right order. There’s just a whole class of errors that you can make either in manual construction of a script or a manual kicking off of build tasks that just go away. I guess another thing is parallelism. There’s the incrementality of only having to do a small amount of work, but having this graph structured representation of the build also helps you kick off things in parallel.</p></div>

<h2 id="620">6:20</h2>


<p>Yeah. Absolutely. Like trying to maintain this parallelism by hand in a build script would be pretty annoying, right? You add a new file and suddenly you have a new dependency and need to rearrange the parallelism. Having some automation here is great as well.</p>

<h2 id="633">6:33</h2>


<p>Okay. This all sounds like a very short story. We had this problem, how to build things. A nice system like Make came out. It has a clean way of expressing dependencies and giving you some services off the back of that specification. All done, problem solved. What’s missing?  Why is the story of Make from 1976 not enough?</p>

<h2 id="651">6:51</h2>


<div><p>There are few things that are missing in Make. One of them as I mentioned, the way Make determines that a task needs to be rebuilt, is by looking at timestamps but very often this is too limiting. Let me give you a common example. You edit a source file by just adding a comment and as a result, you recompile that file and the result doesn’t change, but the timestamp does change anyway.  </p><p>It means that everything that depended on that file needs to be recompiled if you’re using Make. This is one of the problems that basically sometimes you want what we call “early cutoff” in build systems. If you recompile a file and the result is the same, you don’t want to recompile everything else that depends on it, so this is one feature that was missing.</p></div>

<h2 id="729">7:29</h2>


<p>Right. Essentially the problem is that the heuristic that Make uses for figuring out what needs to be redone is overly conservative, right? It will refire when it doesn’t strictly speaking need to refire.</p>

<h2 id="738">7:38</h2>


<p>That’s right. It’s overly conservative, at the same time I like it a lot because it basically just repurposes existing information. It’s just the information that is out there. The file system records modification times. Make itself doesn’t store anything at all, which is a very nice property to have. But if you want to support things like early cutoff you now need to start storing some information.</p>

<h2 id="757">7:57</h2>


<p>Right. I guess in addition Make’s timestamp-based recomputation is, as you say, overly conservative. It’s also under conservative, isn’t it?  I.e., it will fail to rebuild in some cases where it should.</p>

<h2 id="808">8:08</h2>


<p>Yeah and it’s fairly common for example, that various like backup software, for example, would mess up modification times, which would basically cause your project not to compile correctly and then you would have to go for the so-called “clean build” to just get around that limitation. Yes. Make’s reliance on timestamps is problematic.</p>

<h2 id="825">8:25</h2>


<p>Something goes wrong with Make, …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://signalsandthreads.com/build-systems/#1458">https://signalsandthreads.com/build-systems/#1458</a></em></p>]]>
            </description>
            <link>https://signalsandthreads.com/build-systems/#1458</link>
            <guid isPermaLink="false">hacker-news-small-sites-24499559</guid>
            <pubDate>Thu, 17 Sep 2020 00:02:12 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[CMS Trap (2013)]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24499264">thread link</a>) | @hakunin
<br/>
September 16, 2020 | https://max.engineer/cms-trap | <a href="https://web.archive.org/web/*/https://max.engineer/cms-trap">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      

      

      

      
<h2 id="parable">Parable</h2>
<p>Many years ago there was a Rails app. It started with things. These things were actually blueprints for other things. The other things needed many associated parts, and parts of parts. How many? The blueprints knew. The blueprints absolutely had to have an admin interface, but changing the blueprints would cause a chain reaction on things and parts. Every modification to the things and their blueprints permeated throughout the coupled network of various models. The admin <span>UI</span> complexity quickly skyrocketed as parts continued to branch out into more entities. It got to the point where blueprints had to have serializable, persistable snippets of logic. At that point every feature has become subject to a very difficult implementation, and thus the app degraded into the state of utter unmaintainability. It felt as if there was a <em>content management system</em> standing in the way of getting things done, imposing itself as the middle man between the feature and its implementation. It was like the system actually forced all the business logic to be reframed in terms of this higher level of abstraction.</p>
<p>The worst part? This was a minimal viable product for a newly-born startup.</p>
<h2 id="accidentally-cms">Accidentally <span>CMS</span></h2>
<p><img src="https://blotcdn.com/blog_ae6687516f4a44fb8370df95cf526289/_image_cache/490c213f-c111-4f32-ac5b-7dc5b87a8c8c.png" alt="“Complexity” by nerovivo" width="832" height="219"><span>“Complexity” by nerovivo</span></p>
<p>The programmer’s nature encourages us to indulge ourselves in solving puzzles and modelling abstract concepts. It’s the passion that makes us lose sight of the danger looming ahead, the trap we’re edging towards thanks to our subjective assumptions and vague speculation, the trap of building a overdesigned and overcomplicated system for its own sake. A <span>CMS</span> trap. We suffer various consequences, ranging from burnouts, and loss of enthusiasm, to missed deadlines, and failed businesses, yet we never seem to speak of this mistake directly. Somewhere by a water cooler, an experienced colleague casually points out that you might be overcomplicating things. Somewhere in an <span>IRC</span> chat you get ridiculed for asking questions about a complex object model for a project that will most likely never see the light of day. Yet nobody can clearly explain exactly what is the underlying thought process. These casual remarks is all the education we get on the subject, and people end up learning this the hard way. That’s why I’d like to shine some light on this phenomenon. To start, here is my best shot at defining the <span>CMS</span> trap the way I see it.</p>
<p><strong><em>A <span>CMS</span> Trap is a state of a web-application in which the development of content management systems is obstructing the development of the content.</em></strong></p>
<p>If you are building a startup like me, you should know that this trap is especially dangerous in the early stage. Only a small percentage of companies get to play the long game, and by that time their problems have shifted onto a entirely different plane of existence. While these companies may also be subject to falling into the <span>CMS</span> trap, they would probably be able to afford it, if not even pursue this direction intentionally. Here, I’d like to focus on the much more abundant variety: the small companies. The problem would become apparent as soon as you’ve opened your doors to an influx of customers, who’d begin using your project, and providing you with real analytics and feedback. At this point your project would no longer be driven by your gut feeling, rather you’d have real data suggesting how to proceed, dictating which features to implement next. This would be the time when all of your initial architectural assumptions are being tested, and reality is beginning to set in. Reality has no tact, it doesn’t spare you any painful truths when dawning upon your hopeful application design. You’d wish you could refactor, but it’d be too late, as you’d be forced to keep up with new features instead, and implementing them would only be getting harder in this downwards spiral of dwindling productivity.</p>
<h2 id="ill-thank-me-later">I’ll thank me later</h2>
<blockquote>
<p><span>“</span>Most of our assumptions have outlived their uselessness.”<br>
— Marshall McLuhan</p>
</blockquote>
<p>Simply put, we love designing systems. As soon as we form some understanding of a problem, we rush to our <code>/(?:whiteboards|moleskines|mindmaps|editors)/</code> and start passionately defining entities and their interactions. It feels good, it’s what we do best. We tackle some of the most fundamental decisions about the project. Then, having carefully outlined our assumptions, we commit to them. We like to think that we sow wisdom and flexibility with our early decisions, and <em>we will thank ourselves later</em>. With all of those useful points of extension and well-represented entities, what could possibly go wrong? The reality is, that most likely these early assumptions will restrict our future, not expand it. The day comes when we meet our old friend, the innocent<span></span> <span>“</span>past self” staring back at us from the editor, smiling proudly. This well-meaning person spent hours, days, and weeks diverting our efforts into the abyss of <em>speculative architecture</em>, while having barely any idea about the real problems we’ll be facing. We are now stuck with all of that<span></span> <span>“</span>helpful” code. It’s as if you decided to cook some salad, but instead of having separate ingredients laid out in front of you, all you have is another fully cooked salad given to you by a stranger, which you are now forced to dig through in hopes of fetching some of the pieces you need.</p>
<p><strong>In programming, your past self is nothing but a stranger with boundary issues.</strong></p>
<p>In the same spirit, imagine you come back to your computer only to find your app reorganized by some clueless stranger in ways that have little to do with reality. This isn’t very different to how we find ourselves looking at a system we’ve over-modelled in the past. Wouldn’t you wish that you didn’t have to deal with any of this garbage, and could instead simply greenfield your way ahead as dictated by your business needs?</p>
<p>To bring this back to my personal story, I eventually realized that with every new business feature I spent more time figuring out how to fit it into the existing framework I imposed on myself than actually designing the feature. As you may have guessed, I was thanking myself profusely for being so considerate.</p>
<h2 id="c-rud">C &lt; <span>RUD</span></h2>
<blockquote>
<p><span>“</span>It’s harder to read code than to write it.”<br>
— Joel Spolsky</p>
</blockquote>
<p>Talking about architecture is a lot like talking about code itself. It’s not exactly that we can never be mindful of the future, it’s just that the odds are not in our favor. Code is easy to write and hard to change or remove. Every line we light-heartedly throw into the mix will eventually be taunting us with the timeless question:<span></span> <span>“</span>guess what’s going to break if you touch me? <img src="https://blotcdn.com/blog_ae6687516f4a44fb8370df95cf526289/_image_cache/13b6f170-b144-4530-b653-dceb19701d77.png" alt="trollface" width="20" height="16"><span>”</span>. Architectural decisions, just like code, are easy to make and very hard to unmake. While in code this problem is alleviated with testing, in architecture we don’t have testing. The only measure of quality we have is really the measure of pain we feel when working on a new feature, and by that time it’s often too late. Bad architecture can suffocate your business even while your code is sporting 100% test coverage.</p>
<h2 id="alarm-triggers">Alarm triggers</h2>
<p><img src="https://blotcdn.com/blog_ae6687516f4a44fb8370df95cf526289/_image_cache/a8971e2b-792c-4ead-8c13-7c47b5b50e40.png" alt="“Fire Alarm” by Fey Ilyas" width="832" height="184"></p>
<p>As with most traps, there is no specific way of knowing when you are walking into one. The best you can hope for is to have some sort of<span></span> <span>“</span>tells” that warn you of an upcoming danger. Below I list some of these tells from my own experience. Seeing these things in your early stage project should at least make you suspicious.</p>
<h3 id="the-early-onset-conservatism">The early onset conservatism</h3>
<blockquote>
<p><span>“</span>A state without the means of some change is without the means of its conservation.”<br>
— Edmund Burke</p>
</blockquote>
<p>Say you are faced with a new feature, and you find it to be a real <a href="https://programmers.stackexchange.com/questions/34775/correct-definition-%20of-the-term-yak-shaving">yak shave</a>. You realize that it will take a huge refactor, and you are arguing for ways to <em>just avoid it</em>. There is a fine line between negotiating feature requirements for reasons of efficiency, and negotiating them because you are stuck in the accidental buildup of legacy architecture. Could it be that your early speculative design decisions are starting to get in the way of today’s real business needs? Have you perhaps built too much too soon, and is it only a matter of time before the trap snaps, leaving your project effectively paralyzed? Don’t get me wrong, more often than not being conservative is a healthy defense against unnecessary complexity, it’s a standard practice of an experienced developer. The problem is when there is too much defense too early in the project’s life. It should definitely cause some suspicion.</p>
<h3 id="the-drupal-syndrome">The Drupal syndrome</h3>
<blockquote>
<p><span>“</span>Hm, our pricing rules are different for various products, so we’ll need to find a way for an admin to define these rules in the admin panel. Maybe we should store code in the database and eval it?”</p>
</blockquote>
<p>This is a classic sign of walking into the <span>CMS</span> trap. You are trying to come up with ways to let admin program some logic, which should then be saved to the database. If it wasn’t for the admin interface, it could’ve been done with only a few lines of code. However, now we are talking about creating price models associated with rules, and all the complexity emerging from this. Any further extensions to pricing capabilities, which could’ve been implemented with a line or two of code, would now have to take the shape of database migrations, forms, validations, and everything else down this rabbit hole. Do you really need admin <span>UI</span> for pricing rules at this point?</p>
<h3 id="the-seed-is-weak">The seed is weak</h3>
<p>How do you implement 10 categories to place your products into? Typical answer involves creating a <code>Category</code> model and then writing a script that will seed the 10 prescribed categories, which will be assigned to products. Then you’d make sure every developer runs this seed file. Also, don’t forget about running it in production of course. On every deploy. And on every pull. And when setting up a new machine. And when running tests. And naturally, if you change something in the seed file.</p>
<p>If your early-stage application relies on a lot of seed data, you are on a slippery slope. Things that can be assumed constant mustn’t need to be modelled as database-backed entities at this point yet, but I’ll get back …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://max.engineer/cms-trap">https://max.engineer/cms-trap</a></em></p>]]>
            </description>
            <link>https://max.engineer/cms-trap</link>
            <guid isPermaLink="false">hacker-news-small-sites-24499264</guid>
            <pubDate>Wed, 16 Sep 2020 23:26:01 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Voxel Terrain: Storage]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24499261">thread link</a>) | @firloop
<br/>
September 16, 2020 | https://zeux.io/2017/03/27/voxel-terrain-storage/ | <a href="https://web.archive.org/web/*/https://zeux.io/2017/03/27/voxel-terrain-storage/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

<p><span>

27 Mar 2017

</span></p><p>It’s been about almost two years since we shipped the first version of <a href="https://blog.roblox.com/2015/06/create-all-new-worlds-with-smooth-terrain/">smooth voxel terrain</a> at <a href="https://www.roblox.com/">Roblox</a>, and with it being live for a while and seeing a lot of incremental improvements I wanted to write about the internals of the technology - this feature required implementing serialization, network replication, collision detection, ray casting, rendering and in-memory storage support and within each area some implementation details ended up being quite interesting. Today we’ll talk about voxel definition and storage.</p>

<!--more-->

<p><img src="https://zeux.io/images/voxstorage_0.jpg" alt="Prototype"></p>

<h2 id="whats-in-a-voxel">What’s in a voxel?</h2>

<p>Whenever you design a voxel system you have to answer a basic question - what defines a voxel? We wanted our terrain to implicitly define a mostly smooth surface with each point on the surface having a material value, so we could use some kind of contouring algorithm to generate polygons from the surface. Since it was important to have control over the surface in 3 dimensions (heightfield would not cut it), we needed to define the data that represents the surface. During a prototyping phase a few options became clear:</p>

<ul>
  <li>Material. In this model we’d store just a material (an enum value) per voxel, and rely on neighboring voxels to construct the surface.</li>
  <li>Signed distance field. In this model we’d store the distance to the surface from the center of the voxel, with sign determining whether the center is outside or inside. This is a very well known model that’s frequently used to drive algorithms like Marching Cubes. We would also store the material per voxel.</li>
  <li>Hermite data. In this model instead of storing data about voxels, you store data about the intersections between surface and grid edges. Assuming the surface only intersects each voxel edge at most once, you have to store a bit for every edge that defines whether surface intersects this edge, an intersection point (which is defined by a 0..1 scalar), surface normal at the intersection point and the material at the vertices.</li>
  <li>Occupancy. In this model we’d store a material and the occupancy which defines the amount of matter around the voxel center - 0 meaning roughly that the voxel is completely empty and 1 meaning that the voxel is full.</li>
</ul>

<p><img src="https://zeux.io/images/voxstorage_1.png" alt="Voxel models"></p>

<p>We experimented with the material model and rejected it because it did not give us enough flexibility for tools - our voxels had to be pretty big for the solution to be practical for low end platforms, and thus we needed to be able to represent sub-voxel information (for example, to have a tool that can “erode” terrain on a scale much finer than a voxel size).</p>

<p>Hermite data was very interesting - you could build pretty rich tooling based on boolean operations and allow a fine control over smoothness of the surface. However, what wasn’t clear was how we would present this to developers in a form of API. We felt like CSG-based API such as “subtract a sphere out of terrain” was not sufficient - how do you implement a smoothing tool if this is all you have? - and we wanted to give our developers an API that allows full control over the terrain data such that you can implement any tool with it (in fact, all our existing terrain manipulation tools are using the public terrain API and are written in Lua). We didn’t feel like exposing raw Hermite data was an option due to its complexity so we had to discard this approach.</p>

<p>Signed distance field was more expressive than occupancy model, but ultimately resulted in similarly looking content and ended up having a more complicated mental model (how do I fill voxels that are far away from the surface? Does it even matter? How is the distance clamped? etc.) so we did not feel like it was worth the tradeoff.</p>

<p>Thus we settled on the occupancy model, where every voxel would be defined by a material and occupancy pair. Our definition of occupancy is a bit peculiar because due to how our meshing algorithm works matter “overflows” from one voxel to another - occupancy 1 does not mean that the voxel looks like a cube, rather it just means that the voxel has as much matter as it can possibly contain. By discarding the Hermite model we lost an ability to precisely define sharp edges on the surface, which we decided to reclaim by using the material value - in addition to the texture that is applied the material also defines how terrain is shaped around the voxel; thus what defines geometry is the material and occupancy in the voxel and in voxel’s neighborhood. A screenshot from an early prototype shows how different materials with the same occupancy data can produce very different results:</p>

<p><img src="https://zeux.io/images/voxstorage_2.jpg" alt="Material based shaping"></p>

<h2 id="memory-format">Memory format</h2>

<p>To represent a voxel, you need a material (which is an enum) and occupancy (which is a floating-point value in 0..1 range). Material storage is straightforward - we just store an index into the material table, which currently has 23 entries. To conserve space, we store occupancy as a quantized 8-bit value, which adds up to two bytes per voxel.</p>

<p>In a material-occupancy definition there is inherent ambiguity in terms of empty voxel representation - you can define it as occupancy = 0 but then the material choice does not matter; or you can define it as material = air but then the occupancy does not matter. We chose the model with an explicit <code>Air</code> material, and we decode occupancy as <code>(value + 1) / 256.0</code> for non-air materials and 0.0 for air materials (which means that the occupancy is precisely represented in a floating point number which is not true for decoding methods like <code>value / 255.0</code>). Voxels with material = <code>Air</code> and occupancy != 0 are not valid; we make sure they never appear in the grid with simple branchless code:</p>

<div><div><pre><code><span>// make sure occupancy is always 0 for Air material (0)</span>
<span>this</span><span>-&gt;</span><span>material</span> <span>=</span> <span>material</span><span>;</span>
<span>this</span><span>-&gt;</span><span>occupancy</span> <span>=</span> <span>occupancy</span> <span>&amp;</span> <span>(</span><span>-</span><span>static_cast</span><span>&lt;</span><span>int</span><span>&gt;</span><span>(</span><span>material</span><span>)</span> <span>&gt;&gt;</span> <span>31</span><span>);</span>
</code></pre></div></div>

<p>When we originally developed the system, we decided to settle on a simple sparse storage format: all voxels would be stored in chunks 32x32x32 with each chunk represented as a linear 3D array (since each voxel needs two bytes for storage, this adds up to 64 KB per chunk; we also experimented with 16x16x16 chunks but the difference wasn’t very noticeable), and the entire voxel grid is simply a hash map, mapping the index of the chunk to the chunk contents itself:</p>

<div><div><pre><code><span>HashMap</span><span>&lt;</span><span>Vector3int32</span><span>,</span> <span>Chunk</span><span>&gt;</span> <span>chunks</span><span>;</span>
</code></pre></div></div>

<p>It’s worth noting that we needed a sparse unbounded storage because our worlds do not have set size limits and you can use voxel content at any point; of course, voxel access in a local region needed to be very fast. A simple two-level storage scheme (hash map + 3D array) turned out to work really well for this - it’s simple to implement and reason about, and provides an easy way to trade “sparseness” for increased locality by adjusting chunk size. We ended up using this way of storing voxel data throughout the entire engine, with individual systems adjusting the chunk size to match the expected workload better (storage uses 32^3 chunks, network uses 16^3 chunks for initial replication and 4^3 chunks for updates, physics uses 8^3 chunks, rendering first used 32x16x32 chunks and later switched to chunks that increase in size from 16^3 up to 256^3 voxels).</p>

<p>Inside the chunk we ended up storing several 3D arrays - we call a 3D array of voxels “box” - of different sizes, forming a mipmap pyramid for our voxel content. We have 32^3 Box for the original content, and 16^3, 8^3 and 4^3 mipmaps that contain downsampled voxel data. The extra storage cost of mipmaps ends up being negligible, and the small penalty that we take for updating the mip levels when writing voxels to the voxel grid is well worth it considering that we are using them for Level Of Detail which allows us to render a lot fewer triangles in the distance, as well as for some other optimizations. The downsample algorithm that we use guarantees that if a voxel at a certain level of mip pyramid is filled with <code>Air</code>, all voxels corresponding to this area in the upper levels of the pyramid are also filled with <code>Air</code> - for example, if the bottom mip level has all 64 voxels empty then the entire chunk is empty.</p>

<h2 id="disk-format">Disk format</h2>

<p>When it comes to storing voxels on disk, we wanted a more compact representation than a 3D array. There are a lot of ways to store voxels - we needed an encoding scheme that stored voxels as bytes (without any cross-byte bit packing to avoid efficiency loss of a byte-level lossless compressor - we usually take the encoded voxels and compress them further with LZ4), was reasonably efficient on the types of content we see frequently, and was simple - we could always upgrade the format later if we needed to spend more time doing it.</p>

<p>Our previous experiments in voxel technology suggested that if you take each chunk and do RLE compression on it, efficiently representing runs of voxels with the same contents, it resulted in pretty good compression rates and pretty efficient compression code. Remember, we don’t need to be optimal - we need to compress data to reduce it in size for storage efficiency, but we do frequently have a LZ codec running on top of that. Running RLE before LZ may seem counter-intuitive, but it significantly reduces the size of data making LZ faster, and in some cases means you don’t even need to do LZ compression because RLE on its own is enough - voxel data is frequently very regular.</p>

<p>An additional quirk is that each voxel in our system occupies two bytes; we wanted to have a more compact baseline representation so that even if RLE can’t find runs of sufficient length we still end up with a smaller file. A key realization is that many voxels are completely solid - if you imagine a mountain built from voxels, usually all interior voxels in the mountain only carry material information (that is still meaningful in case you want to dig a hole through the mountain later) - occupancy is usually 1 for these cells. Similarly, for <code>Air</code> we <em>never</em> need to store occupancy - it’s always zero! With this and RLE in mind, here’s the encoding we came up with:</p>

<p><img src="https://zeux.io/images/voxstorage_3.png" alt="Byte RLE encoding"></p>

<p>Each run of voxels starts with a byte that …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://zeux.io/2017/03/27/voxel-terrain-storage/">https://zeux.io/2017/03/27/voxel-terrain-storage/</a></em></p>]]>
            </description>
            <link>https://zeux.io/2017/03/27/voxel-terrain-storage/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24499261</guid>
            <pubDate>Wed, 16 Sep 2020 23:25:36 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Coworking Spaces are set to help companies get back Post-Pandemic]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24499252">thread link</a>) | @Fermin
<br/>
September 16, 2020 | https://mindscowork.com/blog/coworking/coworkspaces-post-pandemic/ | <a href="https://web.archive.org/web/*/https://mindscowork.com/blog/coworking/coworkspaces-post-pandemic/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>


			<div data-url="https://mindscowork.com/blog/coworking/coworkspaces-post-pandemic/" data-title="How Coworking Spaces are Set-up For Success in the Post-Pandemic World">
<p>To say that the future of office-based working has changed forever, would be a rather bold understatement. While large corporate companies are ramping up their strategies to bring teams back into the physical workspace, smaller brands, entrepreneurs, and freelancers are closing the door to heavy, contractual rental spaces and looking <a href="https://mindscowork.com/blog/coworking/remote-workers-coworking-after-covid/">to local co-workspaces as their headquarters</a>. </p>



<p>You don’t have to go far to see how or why co-workspaces have redefined the way we work now, and forever.&nbsp;</p>



<h2>Overhead vs. Headcount</h2>



<p>Having an official HQ for a team and business may have made sense once upon a time, but the idea of paying money for a <a href="https://mindscowork.com/memberships/office-space/">brick and mortar office </a>you own or rent feels a little foreign when half to most of the current workforce is logging in remotely. </p>



<p>Rather than paying overheads, dealing with amenities and liabilities, business owners are turning to co-workspaces for their huddling needs. </p>



<figure><p>
<iframe title="Intro to Minds CoWork — Wynwood-Based Coworking Space for Companies of All Sizes" width="770" height="433" src="https://www.youtube.com/embed/ce0SbtpG_sw?feature=oembed" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>
</p></figure>



<p><strong><a href="https://www.youtube.com/channel/UCb6GOr0m1b57q9TfxuvclvA?sub_confirmation=1" target="_blank" rel="noreferrer noopener">Subscribe to our Youtube Channel</a></strong></p>



<p>Renting desks, with the accessibility to conference rooms, a fully equipped kitchen, and WiFi allows a company to save money while offering so much more to its staff (and don’t forget the free coffee). With flexible paying contracts and promotional incentives, there is little to no reason to look a gift horse, high on caffeine, in the mouth.&nbsp;</p>



<h2>Meet You At The Local At 9am?</h2>



<p>Not only do co-workspaces offer shorter commute times, but they also allow for a healthy morning routine versus the one where you move from bed to couch to kitchen counter. Depending on how close one is in your vicinity you could either bike, walk, or carpool to the office and do your part for the environment. </p>



<figure></figure>



<p>Most spaces<a href="http://mindscowork.com/amenities"> offer around the clock access too</a>, which means you can start late and end late, or schedule your day around the notion that you have a dedicated desk when you need to plugin.&nbsp;</p>



<h2>Connect to disconnect</h2>



<p>Lockdown and working remotely have both proven that a) we <em>can</em> be <a href="https://mindscowork.com/blog/coworking/stop-working-from-hom/">productive at home,</a> but b) we as humans still need human connection and inspiring conversation. Co-workspaces allow for community building, a place to connect, and sometimes even find purpose. </p>



<p>It can be a solace for some, an escape for others, and a place where dreams can be built.&nbsp;Follow us @MindsCoWork to look at the protocols we’re taking to keep a safe atmosphere. </p>



<figure><div>
<blockquote data-instgrm-captioned="" data-instgrm-permalink="https://www.instagram.com/p/CEZml3MA-70/?utm_source=ig_embed&amp;utm_campaign=loading" data-instgrm-version="12"></blockquote>
</div></figure>



<p>There are a plethora of reasons why co-workspaces are set up for success in the post-pandemic world. Aside from the above, it can be a place that provides immense comfort, productivity, a place to brainstorm and come together. And that in itself is a really nice thing.&nbsp;</p>



<h2>What’s Your Company’s Post-Pandemic Plan? </h2>



<p>Looking for a place to connect and take your business to the next level? Book a tour with us at Minds CoWork. Simply<a href="https://www.mindscowork.com/contact-us/"> fill out this form</a> and we’ll book a tour. </p>
</div>				
		</div></div>]]>
            </description>
            <link>https://mindscowork.com/blog/coworking/coworkspaces-post-pandemic/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24499252</guid>
            <pubDate>Wed, 16 Sep 2020 23:23:19 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Predicting Customer Churn in Fintech Using R (Case Study)]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24499206">thread link</a>) | @umermirzapk
<br/>
September 16, 2020 | https://thinkml.ai/predictive-customer-churn-p1/ | <a href="https://web.archive.org/web/*/https://thinkml.ai/predictive-customer-churn-p1/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-main">
    <div>

        <article>

            

            <figure>
                <img srcset="https://thinkml.ai/content/images/size/w300/2019/06/500_F_223365431_2DgPyt2u75tmkh0onQvsQHg0FhcyU94M.jpg 300w,
                            https://thinkml.ai/content/images/size/w600/2019/06/500_F_223365431_2DgPyt2u75tmkh0onQvsQHg0FhcyU94M.jpg 600w,
                            https://thinkml.ai/content/images/size/w1000/2019/06/500_F_223365431_2DgPyt2u75tmkh0onQvsQHg0FhcyU94M.jpg 1000w,
                            https://thinkml.ai/content/images/size/w2000/2019/06/500_F_223365431_2DgPyt2u75tmkh0onQvsQHg0FhcyU94M.jpg 2000w" sizes="(max-width: 800px) 400px,
                            (max-width: 1170px) 700px,
                            1400px" src="https://thinkml.ai/content/images/size/w2000/2019/06/500_F_223365431_2DgPyt2u75tmkh0onQvsQHg0FhcyU94M.jpg" alt="Predict Customer Attrition in Fintech using AI [part 1/5]">
            </figure>

            <section>
                <div>
                    <p>Machine Learning can be used to predict customer churn. Case study done in this article describes a machine learning model developed in R to prevent customer churn especially in Fintech companies. </p><p>This is the first article of the series on Predicting Customer Churn using Machine Learning and AI</p><blockquote><em><u>Disclaimer:</u> This case study is solely an educational exercise and information contained in this case study is to be used only as a case study example for teaching purposes. This hypothetical case study is provided for illustrative purposes only and do not represent an actual client or an actual client’s experience. All of the data, contents and information presented here have been altered and edited to protect the confidentiality and privacy of the company.</em></blockquote><h2 id="background">Background</h2><p>Over the last few years, the number of customers with companies in Fintech sectors is increasing every day and this has made financial companies conscious of the quality of the services they offer. Churn or Attrition is the term used when customers shift loyalties from one service provider to another. This happens due to reasons such as availability of latest technology, customer-friendly staff, low interest rates, proximity of geographical location and mixed services offered. Hence, there is a pressing need to develop models that can predict which existing ‘loyal’ customer is going to churn in near future.</p><blockquote>Research indicates that the online services customers have greater probability of churn &nbsp;than traditional customers.</blockquote><p>Financial companies need to be proactive in understanding customer’s current satisfaction levels before they churn. Targeting customers on the basis of their changing purchase behavior could help the organizations do better business and loyalty reward programs helps the organizations build stronger relationships with customers.</p><h2 id="understanding-the-business-case">Understanding the Business Case </h2><p>In a world of ever growing competition on the market, companies have become aware that they should put much effort not only trying to convince customers to sign contracts, but also to retain existing clients. </p><figure><img src="https://thinkml.ai/content/images/2019/06/escape-customer-760w.jpg"></figure><blockquote>Research have shown that in the current setting where people are given a huge choice of offers and different service providers to decide upon, winning new customers is a costly and hard process. Therefore, putting more effort in keeping churn rate low has become essential for financial companies. &nbsp;</blockquote><p>Churn prediction problem is one of the most important concerns for financial companies and they would be interested to know their about-to-churn customers. Customer retention has great economic values which includes</p><ul>
<li>Lowering the need to seek new and potentially risky customers, this allows focusing on the demands of existing customers.</li>
<li>Long-term customers tend to spend more.</li>
<li>Positive word of mouth from satisfied customers is a good way for new customers’ acquisition.</li>
<li>Long-term customers are less costly to serve, because of a larger database of their demands.</li>
<li>Long-term customers are less sensitive to competitors’ marketing activities.</li>
<li>Losing customer results in less spend and an increased need to attract new customers, which is five to six times more expensive than the money spent for retention of existing customers.</li>
<li>People tend to share more often negative than positive service experience with friends, resulting in negative image of the company among possible future customers.</li>
</ul>
<h2 id="business-objective">Business Objective</h2><p>For Business, the objectives are to gain insights from its past data, and to identify customers at any stage of their life-cycle who are currently active but are likely to become inactive. This will help Business to create a churn management program to assess the potential impact and forestall the customer decay process. </p><p>Furthermore, the underlying objectives are to turn unprofitable customers to profitable ones. By implementing a predictive churn module, we want to reduce cost of acquisition by retaining existing customers as compared to acquiring potential new ones.</p><h2 id="problem-identification">Problem Identification</h2><p>Technically, customer churn is treated as a Classification problem which is one of the most common task in Data Science and Machine Learning. In classification, there is a target categorical variable which is partitioned into predetermined classes or categories. In this business case, we can think of an outcome variable "customer churn" with two possible classes (a) YES (b) NO. </p><p>For example, input a customer record, if model returns YES then customer will churn and vice versa in case of NO.</p><h2 id="proposed-approach">Proposed Approach</h2><p>To predict customer churn we develop machine learning model that make predictions about unknown future events. Model uses many techniques from data mining, statistics, modeling, machine learning, and artificial intelligence to analyze current data and historical data to make predictions about future. Model develops profiles, discovers the factors that lead to certain outcomes, predicts the most likely outcomes, and identifies a degree of confidence in the predictions. </p><p>The most common methodology followed in doing machine learning projects is called as CRISP-DM (CRoss Industry Standard Process for Data Mining). It is a process model commonly employed for knowledge discovery that provides an overview of the life-cycle of a Data Mining project and suggests that efforts be partitioned into six phases as shown in Figure 1.</p><ol>
<li>Business Understanding</li>
<li>Data Understanding</li>
<li>Data Preparation/pre-processing</li>
<li>Modeling</li>
<li>Evaluation</li>
<li>Real-world Validation and Deployment</li>
</ol>
<figure><img src="https://thinkml.ai/content/images/2019/07/image.png"><figcaption>Figure 1: Process Diagram showing the relationship between the different phases of CRISP-DM</figcaption></figure><p>In the next post of the series we will look into each of the six phases.</p><p>to be continued...</p><p><a href="https://thinkml.ai/predictive-customer-churn-p2">part-2</a></p>
                </div>
            </section>

            <section>
                <h3>Subscribe to ThinkML</h3>
                <p>Get the latest posts delivered right to your inbox</p>
                


            </section>

            


        </article>

    </div>
</div></div>]]>
            </description>
            <link>https://thinkml.ai/predictive-customer-churn-p1/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24499206</guid>
            <pubDate>Wed, 16 Sep 2020 23:18:06 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Build Your Own PM2.5 / CO2 Air Quality Sensor]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 1 (<a href="https://news.ycombinator.com/item?id=24498836">thread link</a>) | @ahaucnx
<br/>
September 16, 2020 | https://www.airgradient.com/diy/ | <a href="https://web.archive.org/web/*/https://www.airgradient.com/diy/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="main">
    <section id="services">
        <div>
            
            
            <p>As part of the AirGradient for Education series, this instruction teaches how to build a powerful PM2.5
                fine dust sensor with AirGradient.</p>

            <p>The sensor will display PM2.5, CO2, Temperature and Humidity on the display and can optionally send
                the data to any server for data logging (e.g. the AirGradient platform or any other cloud backend).</p>

            <p>You will need some basic soldering skills and experiences with microcontrollers are a plus. However, even
                if you are a beginner, don't worry we made our instructions really easy! Also, if you get stuck please
                get in touch with us. We are more than happy to help!</p>

            <p><img src="https://www.airgradient.com/img/diy/ag_diy_complete.jpg" alt="Air Quality Sensor Complete" width="100%">
            </p>

            <h2>Not having the PCB available</h2>
            <p>In case you do not have the AirGradient PCB, you can make your own by using our <a target="_blank" href="https://www.airgradient.com/diy/AirGradient_Gerber_PCBv2.rar">Gerber files </a>.</p>

            <p>Alternatively, you can open the PCB in the <a target="_blank" href="https://easyeda.com/airgradient/diypm">Easyeda editor</a> and order additional PCBs from there.</p>



            <p>You can also build the sensor without the PCB by just soldering the sensor modules with wires directly to the Wemos D1 Mini.</p>
            <p>It will then look like this.</p>

            <p><img src="https://www.airgradient.com/img/diy/no_pcb.png" alt="Air Quality Sensor without PCB" width="100%">
            </p>


            <p>And you can use the following schematics:</p>

            <p><img src="https://www.airgradient.com/img/diy/schematics.png" alt="Air Quality Schematics" width="100%">
            </p>


            <p>We would still strongly recommend you assemble it with a PCB as it will be easier and also more robust.</p>


            <h2>Skills and Equipment required</h2>

            <p>For this project you should be familiar with the following:</p>

            <ul>
                <li><strong data-rich-text-format-boundary="true">Basic soldering skills</strong>. Both the D1 mini
                    microprocessor and some of the components we use like the OLED display need to get the pins soldered
                    onto it. It is not very difficult and you can learn it easily. Look for example on this <a target="_blank" href="https://www.makerspaces.com/how-to-solder/">tutorial</a>.
                </li>
                <li><strong>Soldering iron</strong> and <strong>solder</strong> for above</li>
                <li>A <strong>breadboard</strong> is helpful to fix the components during soldering</li>
                <li>A <strong>computer</strong> (Linux, Mac, or Windows) with the Arduino IDE installed to flash the
                    software onto the D1 mini.
                </li>
                <li>A <strong>micro USB data cable</strong> to connect the D1 Mini to the computer for flashing and
                    later for electricity. <strong><em>IMPORTANT</em></strong>: Many micro USB cables only provide
                    charging but do not allow the data transfer for flashing. So please make sure you have a micro USB
                    DATA cable.
                </li>
            </ul>


            <h2>Components:</h2>

            <ul>
                <li><a href="https://www.aliexpress.com/item/32651747570.html" target="_blank">Wemos D1 Mini</a> USD
                    2.00
                </li>
                <li><a href="https://www.aliexpress.com/item/32800979738.html" target="_blank">Wemos OLED display</a>
                    USD 2.50
                </li>
                <li><a href="https://www.aliexpress.com/item/32944660534.html" target="_blank">Plantower PMS5003 PM
                    Sensor</a> USD 12.50
                </li>
                <li><a href="https://www.aliexpress.com/item/32863793412.html" target="_blank">Senseair S8 CO2
                    Sensor</a> USD 24.70
                </li>
                <li><a href="https://www.aliexpress.com/item/4000246473736.html" target="_blank">SHT30 or SHT31
                    Temperature and Humidity Sensor Module</a> USD 2.00
                </li>
            </ul>

            <p>So you can actually build an AirVisual or Kaiterra Clone for less than USD 50 that should deliver you a
                similar quality of readings. If you just want to measure PM2.5 you can do so for less than USD 20.</p>

            <p>You do not need to put all sensors on the PCB, e.g. if you only want to measure PM2.5 you can just leave
                the CO2 and Temperature/Humidity sensor out.</p>

            <h2>Arduino Software Instructions and flashing of the D1 Mini with the AirGradient firmware</h2>

            <p>All software for the AirGradient DIY sensor is open source and you are free to use it in any way. For
                flashing the D1 Mini microcontroller with the firmware we will be using the well-known Arduino software.
                Please read the following blog post on how to install the Arduino software and also on how to install
                the D1 Mini board and the AirGradient Arduino library.</p>

            <p>
                <a href="https://www.airgradient.com/blog/basic-setup-skills-and-equipment-needed-to-build-our-airgradient-diy-sensor/" target="_blank">AirGradient Arduino Software Setup Instructions</a></p>

            <h2>Flashing of the D1 Mini with the AirGradient firmware</h2>

            <p>Once you have the Arduino Software setup for the D1 Mini, you can flash it with the AirGradient
                firmware.</p>

            <ul>
                <li>Go to Tools, Manage Libraries, and then search for AirGradient and install the AirGradient
                    library.
                </li>
                <li>Once it is installed, go to File, Example, AirGradient and select the PM OLED code</li>
                <li><strong>Read the instructions on top of the example code</strong> and install the additional
                    libraries and set the true/false for the sensors you are using
                </li>
                <li>Then flash this code the same way you flashed the BLINK example</li>
                <li>Once you have successfully uploaded the code you can continue building the hardware</li>
            </ul>

            <h2>Soldering the Components</h2>

            <p>Now that you have the firmware flashed, you can solder the components onto the PCB. Please make sure you
                solder the pins in the correct direction. We recommend you start in the following order:</p>

            <h3>OLED Display Soldering</h3>

            <p>If you have a breadboard at hand, we recommend that you fix the pins with the breadboard to ensure that
                they are straight as shown on this picture.</p>

            <p><img src="https://www.airgradient.com/img/diy/ag_diy_oled_shield.jpg" alt="Air Quality Display" width="100%">
            </p>

            <h3>Wemos D1 Mini Soldering</h3>

            <p>Put the long female and male pins through the D1 Mini. Nake sure that the female parts are on top of the
                D1 Mini as shown on this immage:</p>

            <p><img src="https://www.airgradient.com/img/diy/ag_diy_wemos_soldering.jpg" alt="Air Quality Wemos D1" width="100%">
            </p>

            <p>Then connect the freshly soldered OLED display into the female pins to better hold them in place. Then
                turn the D1 Mini with the OLED display attached around and solder the pins onto the D1 Mini</p>

            <h3>Wemos D1 Mini Soldering onto PCB</h3>

            <p>The next step is to solder the D1 Mini onto the PCB. Please make sure you solder it the correct way. The
                micro USB port needs to face outwards. You can also compare the PIN labels on the PCB with the ones on
                the D1 Mini</p>

            <p><img src="https://www.airgradient.com/img/diy/ag_diy_wemos_pcb_soldering.jpg" alt="Air Quality Wemos D1" width="100%">
            </p>

            <p>Now depending on what sensor modules you want to use, please proceed as below.</p>

            <h3>Soldering the SHT30/31 Module (Temperature and Humidity)</h3>

            <p>To solder the small pins onto the SHT30/31 module, you can use a breadboard again to fix it into
                place.</p>
            <p>Then put the SHT30/31 module through the corresponding holes on the PCB and solder it onto the board.</p>

            <h3>Soldering the Sensirion S8 Module (CO2 Sensor)</h3>

            <p>To solder the small pins onto the SHT30/31 module, you can use a breadboard again to fix it into
                place.</p>
            <p>Please make sure that the PINS face downwards as can be seen on this image.</p>

            <p><img src="https://www.airgradient.com/img/diy/ag_diy_s8.jpg" alt="Air Quality S8 CO2 Sensor" width="100%">
            </p>

            <p>Then solder the CO2 sensor onto the PCB. It is important that the bottom side of the CO2 has enough air
                flow. So make sure the gap is sufficient. It might be a good idea to put it on a female pin socket but
                you can also solder it directly.</p>


            <h3>Soldering the PMS5003 Module (PMS Sensor)</h3>
            <p>Normally the PMS5003 comes with a cable. As we will solder one end of the cable directly onto the PCB you
                can cut it in half. Then prepare the following four wires as per this image. Please make sure you cut
                the correct wires. </p>

            <p><img src="https://www.airgradient.com/img/diy/ag_diy_pms_cable.jpg" alt="Air Quality PMS Cable" width="100%">
            </p>

            <p>Then solder the cable onto the PCB. Please make sure that you solder the correct cable into the correct
                pin.</p>

            <p><img src="https://www.airgradient.com/img/diy/ag_diy_pms_connector.jpg" alt="Air Quality PMS Connection" width="100%">
            </p>

            <p>After you have soldered the cable onto the PCB connect the PMS5003 with the other end of the cable. Then
                screw the PMS5003 onto the PCB or use double sided tape.</p>

            <h3>Done &amp; Enjoy</h3>

            <p>That's all and you can now connect the D1 Mini with power and you should be able to see the display
                lighting up. If you flashed the Wifi version, you need to connect the D1 Mini to the wifi. To do this
                open youw Wifi Settings on the phone and look for a hot spot called "AirGradient xxx". Then connect to
                it and enter your Wifi network credentials. It will then connect to Wifi and start displaying and
                sending the air quality data.</p>

            <p>If there are any issues, you can double check this tutorial and also the images. If you still have
                problems, please feel free and get in touch with us!</p>



<!--            <h3>Get more AirGradient PCBs</h3>-->

<!--            <p>If you want to build more sensors, you can either directly order the PCBs or contact us and purchase them-->
<!--                for a small fee.</p>-->

            <h3>Solutions for Schools</h3>

            <p>AirGradient offers a sophisticated <a href="https://www.airgradient.com/schools/" target="_blank">Air
                Quality Monitoring Solution for Schools</a>. You can connect these DIY sensors to our platform,
                integrate with many exosting brands or use our professional AirGradient sensor.</p>


            <p>
                <video width="100%" poster="https://www.airgradient.com/video/preview1.png" controls="">
                    <source src="https://www.airgradient.com/video/airgradient-schools.mp4" type="video/mp4">
                    Your browser does not support the video tag.
                </video>

            </p>

            <p>If you are intersted for a free trial, please contact us.</p>

            <h3>MIT License</h3>

            <p>The AirGradient DIY sensor's hardware and software is Open Source and licensed under the MIT license. So
                feel free to use it any way you like! However we would be happy to hear from you and also appreciate any
                link back to our page.</p>

            <p>Copyright 2020 AirGradient</p>

            <p>Permission is hereby granted, free of charge, to any person obtaining a copy of this software
                and associated documentation files (the "Software"), to deal in the Software without
                restriction, including without limitation the rights to use, copy, modify, merge, publish,
                distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the
                Software is furnished to do so, subject to the following conditions:</p>

            <p> The above copyright notice and this permission notice shall be included in all copies or
                substantial portions of the Software.</p>

            <p>THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING
      …</p></div></section></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.airgradient.com/diy/">https://www.airgradient.com/diy/</a></em></p>]]>
            </description>
            <link>https://www.airgradient.com/diy/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24498836</guid>
            <pubDate>Wed, 16 Sep 2020 22:39:36 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[On Secure-Shell Security]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24498784">thread link</a>) | @mooreds
<br/>
September 16, 2020 | https://sysdogs.com/on-secure-shell-security/ | <a href="https://web.archive.org/web/*/https://sysdogs.com/on-secure-shell-security/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><div><div><div><article id="post-5785">
<div>
<div>
<p>It is 2020, and we can say for sure, that <em>ssh-server</em> is still one of the most popular services on Linux systems. During various meetings, I was often asked: <em>How to secure SSH?&nbsp; </em>Even though this question seems trivial, it is not. There are a lot of things to remember to accomplish well-designed service security. Secure shell is used not only for a remote-shell, <em>per se</em>. Many other technologies depend on it, for various reasons. For example:</p>
<ul><li>Git to download and push the code.&nbsp;<span id="eb462557-2983-4179-9c24-ea9a947c5da3" data-items="[&quot;2050246254&quot;]" contenteditable="false">​[1]​</span></li><li>Ansible to apply tasks. <span id="d575a00a-c8b1-4fb1-89ce-1e71d53d95d8" data-items="[&quot;2756985050&quot;]" contenteditable="false">​[2]​</span></li><li>Cloudera for installation procedures. <span id="51d860cf-fd45-4b09-b73b-ca4df154d347" data-items="[&quot;1280041206&quot;]" contenteditable="false">​[3]​</span><br>(Do not ask us, we do not understand it too.)&nbsp;&nbsp;</li></ul>
<p>I have decided to answer the above question once and forever, and always refer to this document, trying to keep it up-date and consistent with current security practices. The purpose of this post is to answer the question: <em>How to secure SSH?</em> It is a comprehensive document for <em>infosec</em> and <em>devops</em> teams, that will guide them through all known best-practices and hardening rules.</p>
<h2>Server</h2>
<p>This paragraph focuses on secure-shell server risks assesment, hardening practices and configuration best-practices. The server configuration is mostly put at <code>/etc/sshd/sshd_config</code>. </p>
<hr>
<h3><strong>Contest the need&nbsp;</strong></h3>
<p>The first and the most basic question the Reader should ask himself: <em>Is there even a need for an OpenSSH server at all, for my specific use-case?</em> At the time of writing this article, it is not uncommon to build fully declarative, golden-image infrastructures. We have a wide set of serverless services and technologies that only run a process inside the container. I would say, for sure, that the majority of the infrastructures we, as @sysdogs, provision for our customers, do not have <em>OpenSSH</em> enabled at all. (You can always <a href="https://sysdogs.com/contact/">contact us</a>, if you want to know, how we do it.) </p>
<p>Another perfect example for disabled ssh-server is a local-workstation.<br>There is no need for a secure-shell server on a local laptop, for instance.</p>
<hr>
<h3>Management interfaces-only</h3>
<p>While reading a variety of resources, like <em>Security Technical Implementation Guidelines</em>, they always mark&nbsp; access management as the most crucial part, and top priority. It is required to bind the server only to the interface that is trusted.</p>
<ul><li>For Enterprise infrastructures virtual-machines can have their own management interface with proper <code>firewalld</code> rules. <span id="ff61a54c-2d19-493d-a01c-883274db1866" data-items="[&quot;3975247616&quot;]" contenteditable="false">​[4]​</span></li><li>For virtual private servers, we can align this rule to the trusted subset of public addresses that are whitelisted in the firewall.&nbsp;</li><li>In the Cloud environments, we can build a specific security group that defines the access to the server or use other cloud services, like DigitalOcean Firewall. ​<span id="bbb71312-611f-4a8e-9184-57aaeccfafcd" data-items="[&quot;1459351913&quot;]" contenteditable="false">​[5]​</span> <span id="8a1875df-b48b-4a34-ad28-5c296e754e33" data-items="[&quot;4020271495&quot;]" contenteditable="false">​[6]​</span></li></ul>
<p><code><strong>Listing.</strong></code> <code>firewalld</code> trusted zone set on interface <code>eth1</code>.</p>
<pre><code>firewall-cmd --set-default-zone=drop
firewall-cmd --zone=trusted --change-interface=eth1 --permanent
firewall-cmd --zone=trusted --add-service=ssh --permanent</code></pre>
<hr>
<h3>Mandatory Access Control – SELinux</h3>
<p>I am the guy, that would do <code>setenforce 1</code> even if it was already set to <code>1</code>.<br>Just in case. To be sure. Being absolutely honest, I strongly believe SELinux is one of the most helpful services in the Linux world to improve and harden your operating system.</p>
<p>I have read a lot of documentations and tutorials that recommend the end-user to disable SELinux or AppArmor. I completely understand their authors. They told you to do that, because it simplifies the process of software installation and removes the burden of hardening. On the other hand, I fully believe it is like getting your house alarm wrongly configured, getting upset because of the false-positives, then disabling it for the good feeling of yourself.</p>
<p><code><strong>Listing.</strong></code> Enabled SELinux and labeled sshd process.</p>
<pre><code>[<a href="https://sysdogs.com/cdn-cgi/l/email-protection" data-cfemail="95e7fafae1d5f9faf6f4f9fdfae6e1">[email&nbsp;protected]</a> ~]# sestatus
SELinux status:                 enabled
SELinuxfs mount:                /sys/fs/selinux
SELinux root directory:         /etc/selinux
Loaded policy name:             targeted
Current mode:                   enforcing
Mode from config file:          enforcing
Policy MLS status:              enabled
Policy deny_unknown status:     allowed
Memory protection checking:     actual (secure)
Max kernel policy version:      31
[<a href="https://sysdogs.com/cdn-cgi/l/email-protection" data-cfemail="2755484853674b4844464b4f485453">[email&nbsp;protected]</a> ~]#</code></pre>
<pre><code>[<a href="https://sysdogs.com/cdn-cgi/l/email-protection" data-cfemail="33415c5c47735f5c50525f5b5c4047">[email&nbsp;protected]</a> ~]# netstat -pnltuZ | grep ":22"
tcp        0      0 0.0.0.0:22              0.0.0.0:*               LISTEN      696/sshd             system_u:system_r:sshd_t:s0-s0:c0.c1023
tcp6       0      0 :::22                   :::*                    LISTEN      696/sshd             system_u:system_r:sshd_t:s0-s0:c0.c1023
[<a href="https://sysdogs.com/cdn-cgi/l/email-protection" data-cfemail="0e7c61617a4e62616d6f6266617d7a">[email&nbsp;protected]</a> ~]#</code></pre>
<hr>
<div><figure><img src="https://sysdogs.com/wp-content/uploads/2020/08/this-is-fine.png" alt="" width="404" height="597"></figure></div>
<hr>
<h3>Use <code>Protocol 2</code></h3>
<p>Sincerely, I have never seen any <em>secure-shell</em> server with enabled <code>Protocol&nbsp;1</code>. To maintain the state of the art and comprehensiveness of this article, it is important to note it here, that it is insecure and it is not recommended to use <code>Protocol 1</code>.&nbsp; It has a set of vulnerabilities and problems with security. <code>Protocol 1</code> support was removed in RHEL7.4.</p>
<p><code><strong>Listing.</strong></code> <code>sshd</code> configuration parameter for <code>Protocol</code>.</p>
<pre><code>Protocol 2</code></pre>
<hr>
<h3>Use <code>tcp/22</code></h3>
<p>I have seen a lot of write-ups that recommend using a different port than <code>tcp/22</code>. I completely disagree with this argument.&nbsp; It is not very difficult to scan all possible ports on the target.&nbsp; Secondly, security by obscurity <strong>always</strong> leads to something weird. By definition, OpenSSH always presents itself first. Last, but not least; using SELinux, you are forced to run the secure-shell server on <code>tcp/22</code>.</p>
<p><code><strong>Listing.</strong></code> Port configuration.</p>
<pre><code>Port 22</code></pre>
<p><code><strong>Listing.</strong></code> sshd listening on <code>tcp/22</code>.</p>
<pre><code>[<a href="https://sysdogs.com/cdn-cgi/l/email-protection" data-cfemail="55273a3a2115393a3634393d3a2621">[email&nbsp;protected]</a> ~]# ss -pnltu | grep 22
tcp     LISTEN   0        128              0.0.0.0:22            0.0.0.0:*       users:(("sshd",pid=696,fd=4))
tcp     LISTEN   0        128                 [::]:22               [::]:*       users:(("sshd",pid=696,fd=6))
[<a href="https://sysdogs.com/cdn-cgi/l/email-protection" data-cfemail="5d2f3232291d31323e3c3135322e29">[email&nbsp;protected]</a> ~]#</code></pre>
<hr>
<div><figure><img src="https://i1.wp.com/imgs.xkcd.com/comics/code_talkers.png?zoom=2" alt=""></figure></div>
<hr>
<h3>&nbsp;Do not use <code>tcpwrapperd</code></h3>
<p>A set of known Linux websites still recommend using tcp-wrappers as another security layer for sshd. I think it is wrong.&nbsp;</p>
<p>The very first argument for that is that <code>tcpwrappers</code> seems to be a deprecated technology. <span id="974356e0-6dbc-4a2e-8917-dbf1fd443e41" data-items="[&quot;2776761352&quot;]" contenteditable="false">​[7]​</span> It was released over 20 years ago (8 April 1997) and does not seem to be developed anymore. Another factor is that, through this deprecation, maintenance of another security layer, may in paradox add another attack vector for the system and networking.&nbsp; The modern firewalls, intrusion detection systems and possibilities of isolation may completely replace tcp-wrappers functionalities. In the end, fresh operating systems do not link <code>libwrapd</code> to <code>sshd</code>.</p>
<p><code><strong>Listing.</strong></code> No <code>tcpwrappersd</code> library linked to <code>sshd</code> binary on <code>Centos/8</code>.</p>
<pre><code>[<a href="https://sysdogs.com/cdn-cgi/l/email-protection" data-cfemail="53213c3c27133f3c30323f3b3c2027">[email&nbsp;protected]</a> ~]# ldd /sbin/sshd
	linux-vdso.so.1 (0x00007fff47b1a000)
	libfipscheck.so.1 =&gt; /lib64/libfipscheck.so.1 (0x00007f107113a000)
	libaudit.so.1 =&gt; /lib64/libaudit.so.1 (0x00007f1070f10000)
	libpam.so.0 =&gt; /lib64/libpam.so.0 (0x00007f1070d00000)
	libsystemd.so.0 =&gt; /lib64/libsystemd.so.0 (0x00007f10709bc000)
	libcrypto.so.1.1 =&gt; /lib64/libcrypto.so.1.1 (0x00007f10704d9000)
	libdl.so.2 =&gt; /lib64/libdl.so.2 (0x00007f10702d5000)
	libutil.so.1 =&gt; /lib64/libutil.so.1 (0x00007f10700d1000)
	libz.so.1 =&gt; /lib64/libz.so.1 (0x00007f106feba000)
	libcrypt.so.1 =&gt; /lib64/libcrypt.so.1 (0x00007f106fc91000)
	libresolv.so.2 =&gt; /lib64/libresolv.so.2 (0x00007f106fa7a000)
	libselinux.so.1 =&gt; /lib64/libselinux.so.1 (0x00007f106f84f000)
	libgssapi_krb5.so.2 =&gt; /lib64/libgssapi_krb5.so.2 (0x00007f106f5ff000)
	libkrb5.so.3 =&gt; /lib64/libkrb5.so.3 (0x00007f106f30f000)
	libk5crypto.so.3 =&gt; /lib64/libk5crypto.so.3 (0x00007f106f0f3000)
	libcom_err.so.2 =&gt; /lib64/libcom_err.so.2 (0x00007f106eeef000)
	libc.so.6 =&gt; /lib64/libc.so.6 (0x00007f106eb2d000)
	libcap-ng.so.0 =&gt; /lib64/libcap-ng.so.0 (0x00007f106e927000)
	libpthread.so.0 =&gt; /lib64/libpthread.so.0 (0x00007f106e707000)
	librt.so.1 =&gt; /lib64/librt.so.1 (0x00007f106e4fe000)
	liblzma.so.5 =&gt; /lib64/liblzma.so.5 (0x00007f106e2d7000)
	liblz4.so.1 =&gt; /lib64/liblz4.so.1 (0x00007f106e0c0000)
	libcap.so.2 =&gt; /lib64/libcap.so.2 (0x00007f106deba000)
	libmount.so.1 =&gt; /lib64/libmount.so.1 (0x00007f106dc60000)
	libgcrypt.so.20 =&gt; /lib64/libgcrypt.so.20 (0x00007f106d944000)
	libgcc_s.so.1 =&gt; /lib64/libgcc_s.so.1 (0x00007f106d72c000)
	/lib64/ld-linux-x86-64.so.2 (0x00007f1071613000)
	libpcre2-8.so.0 =&gt; /lib64/libpcre2-8.so.0 (0x00007f106d4a8000)
	libkrb5support.so.0 =&gt; /lib64/libkrb5support.so.0 (0x00007f106d297000)
	libkeyutils.so.1 =&gt; /lib64/libkeyutils.so.1 (0x00007f106d093000)
	libblkid.so.1 =&gt; /lib64/libblkid.so.1 (0x00007f106ce41000)
	libuuid.so.1 =&gt; /lib64/libuuid.so.1 (0x00007f106cc39000)
	libgpg-error.so.0 =&gt; /lib64/libgpg-error.so.0 (0x00007f106ca18000)
[<a href="https://sysdogs.com/cdn-cgi/l/email-protection" data-cfemail="285a47475c6844474b494440475b5c">[email&nbsp;protected]</a> ~]#</code></pre>
<hr>
<h3><strong>Do not accept password-logins</strong></h3>
<p>The only allowed authentication method should be Public-Key authentication. Passwords are way easier to break, brute-force and this configuration limit the attack-vector.</p>
<p><code><strong>Listing.</strong></code> Configuration parameters to disable password logins.</p>
<pre><code>AuthenticationMethods publickey
PasswordAuthentication no
PermitEmptyPasswords no</code></pre>
<hr>
<h3>Do not accept forwarding</h3>
<p><code>X11Forwarding</code> is a Linux mechanism created to expose X11-server into the remote-shell. It very is difficult to imagine the reason to use graphics software on Linux server, <em>per se</em>. That being said, I do only see enabling this as another vector of possible attack, and risk to omit firewalls.</p>
<p>Port-forwarding is the functionality that allows the client to bind local-port to a remote address. It is a very straight and easy way to omit and skip firewall-rules and break compliance.</p>
<p>Agent forwarding is a mechanism of pass</p>
<p><code><strong>Listing.</strong></code> Configuration parameters to disable forwarding.</p>
<pre><code>X11Forwarding no
AllowTcpForwarding no
AllowAgentForwarding no</code></pre>
<hr>
<h3><strong>Minimize <code>MaxSessions</code> and <code>MaxAuthTries</code></strong></h3>
<p>The authorised user should not have any difficulties with logging in successfully.. Of course, there are exceptions to that statement, but, in general, it is safe to assume it should be completely sufficient to have two tries during one connection session. In contrast, the attacker trying to apply brute-force attacks needs as much login tries as possible. Therefore, i think we can all agree, minimizing <code>MaxAuthTries</code> is a good way of hardening.</p>
<p>Another …</p></div></div></article></div></div></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://sysdogs.com/on-secure-shell-security/">https://sysdogs.com/on-secure-shell-security/</a></em></p>]]>
            </description>
            <link>https://sysdogs.com/on-secure-shell-security/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24498784</guid>
            <pubDate>Wed, 16 Sep 2020 22:32:45 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Deploy Google Cloud Endpoints for Cloud Run with Terraform]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 1 (<a href="https://news.ycombinator.com/item?id=24498466">thread link</a>) | @sru
<br/>
September 16, 2020 | https://www.sru.ie/post/google-endpoints-cloud-run-terraform/ | <a href="https://web.archive.org/web/*/https://www.sru.ie/post/google-endpoints-cloud-run-terraform/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><h2 id="introduction">Introduction</h2><p>Today I will demonstrate how to deploy <a href="https://cloud.google.com/endpoints">Google Cloud Endpoints</a> for <a href="https://cloud.google.com/run">Cloud Run</a> using <a href="https://www.terraform.io/docs/providers/google/index.html">Terraform</a>. This is a “getting started” style tutorial. We are going to bypasses Google’s recommendation of building an ESP image on every Endpoints configuration change and break the circular dependency between Endpoints configuration resource and ESP Cloud Run resource.</p><h2 id="problems">Problems</h2><h3 id="esp-image-build">ESP image build</h3><p>Google <a href="https://cloud.google.com/endpoints/docs/openapi/get-started-cloud-run#configure_esp">recommends</a> to build a new ESP image on every Endpoints configuration change.</p><p>In other words if you want to manage your OpenAPI configuration and ESP deployment from the same terraform project it is not possible. You need to split configuration management from ESP image build. You can find some good suggestions <a href="https://github.com/hashicorp/terraform-provider-google/issues/5528">here</a>.</p><h4 id="solution">Solution</h4><p>For purposes of a prototype or a small project we can work around that using the unofficial <code>ENDPOINTS_SERVICE_NAME</code> environment variable.</p><p>From the ESPv2 source code:</p><blockquote><p>Note this deployment mode is <strong>not</strong> officially supported.</p></blockquote><p>But it is used by the project internally e.g. for the end to end tests.</p><h3 id="circular-dependency">Circular dependency</h3><p>We get circular dependency between Endpoints configuration and Cloud Run resource because <code>CLOUD_RUN_HOSTNAME</code>. It represents the hostname portion of the URL that Cloud Run creates during deployment. I am using the same name from the official <a href="https://cloud.google.com/endpoints/docs/openapi/get-started-cloud-run#deploy_endpoints_proxy">tutorial</a>.</p><p><code>google_endpoints_service</code> requires <code>CLOUD_RUN_HOSTNAME</code> to be used as <code>host</code> in <code>openapi.json</code> before creating a configuration. <code>CLOUD_RUN_HOSTNAME</code> is known only after <code>google_cloud_run_service</code> deployment. <code>google_cloud_run_service</code> requires <code>google_endpoints_service</code> configuration.</p><h4 id="solution-1">Solution</h4><p>To solve that circular dependency we can use the <code>cloud.goog</code> domain instead <code>CLOUD_RUN_HOSTNAME</code>. It is not mentioned in the main Endpoints tutorial but explained <a href="https://cloud.google.com/endpoints/docs/openapi/cloud-goog-dns-configure">here</a>.</p><h2 id="working-example">Working example</h2><p>Now we can use both <code>google_endpoints_service</code> and <code>google_cloud_run_service</code> in one terraform file and create and destroy both resources on demand e.g. in your continuous integration and deployment pipeline.</p><p>Just simple <code>terraform apply</code>.</p><p>Full terraform configuration below. You can test it with:</p><pre><code>$ terraform plan
$ terraform apply
</code></pre><p>Prerequisites:</p><ul><li>create a project on Google Cloud Platform;</li><li>update <code>variable.tf</code>.</li></ul><p><a href="https://www.sru.ie/post/google-endpoints-cloud-run-terraform/variables.tf">variables.tf</a></p><pre><code>variable "project_id" {
  default = "&lt;your-project-id&gt;"
}
variable "project_number" {
  default = "&lt;your-project-number&gt;"
}
variable "suffix" {
  default = "&lt;your-random-suffix&gt;"
}
variable "region" {
  default = "us-central1"
}

</code></pre><p><a href="https://www.sru.ie/post/google-endpoints-cloud-run-terraform/openapi.json">openapi.json</a></p><pre><code>{
  "swagger": "2.0",
  "info": {
    "title": "Service API",
    "version": "0.0.1",
    "description": "Service API"
  },
  "basePath": "/v1",
  "host": "${endpoints_host}",
  "consumes": [
    "application/json"
  ],
  "produces": [
    "application/json"
  ],
  "schemes": [
    "https"
  ],
  "paths": {
  }
}

</code></pre><p><a href="https://www.sru.ie/post/google-endpoints-cloud-run-terraform/endpoints.tf">endpoints.tf</a></p><pre><code>##############################################################################
#  Cloud Endpoints
##############################################################################

locals {
  endpoints_host = "api-${var.suffix}.endpoints.${var.project_id}.cloud.goog"
}

# Create/update endpoints configuration based on OpenAPI
resource "google_endpoints_service" "api" {
  project = var.project_id
  service_name = local.endpoints_host
  openapi_config = templatefile("openapi.json", {
    project_id = var.project_id
    endpoints_host = local.endpoints_host
  })
}

# Enable service
resource "google_project_service" "api-project-service" {
  service = google_endpoints_service.api.service_name
  project = var.project_id
  depends_on = [google_endpoints_service.api]
}


# Create/update Cloud Run service
resource "google_cloud_run_service" "endpoints-cloud-run" {
  name     = "endpoints-${var.suffix}"
  location = var.region
  project = var.project_id
  template {
    spec {
      containers {
        image = "gcr.io/endpoints-release/endpoints-runtime-serverless:2"
        env {
          name  = "ENDPOINTS_SERVICE_NAME"
          value = local.endpoints_host
        }
      }
    }
  }
  depends_on = [google_endpoints_service.api]
}

# Create public access
data "google_iam_policy" "noauth" {
  binding {
    role = "roles/run.invoker"
    members = [
      "allUsers",
    ]
  }
}

# Enable public access on endpoints service
resource "google_cloud_run_service_iam_policy" "noauth-endpoints" {
  location    = google_cloud_run_service.endpoints-cloud-run.location
  project     = google_cloud_run_service.endpoints-cloud-run.project
  service     = google_cloud_run_service.endpoints-cloud-run.name
  policy_data = data.google_iam_policy.noauth.policy_data
}

</code></pre><p><a href="https://www.sru.ie/post/google-endpoints-cloud-run-terraform/outputs.tf">outputs.tf</a></p><pre><code>output "endpoints-url" {
  value = google_cloud_run_service.endpoints-cloud-run.status[0].url
  description = "API endpoint URL"
}

</code></pre><ul><li><a href="https://www.reddit.com/r/googlecloud/comments/iu5oks/deploy_google_cloud_endpoints_for_cloud_run_with/">Reddit</a></li><li><a href="https://news.ycombinator.com/item?id=24498466">Hacker News</a></li></ul></div></div>]]>
            </description>
            <link>https://www.sru.ie/post/google-endpoints-cloud-run-terraform/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24498466</guid>
            <pubDate>Wed, 16 Sep 2020 21:57:09 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to help Deliveroo solve the plastic problem (Phase 2)]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24498287">thread link</a>) | @georgecmu
<br/>
September 16, 2020 | https://danieltenner.com/2019/05/23/deliveroo-phase-2/ | <a href="https://web.archive.org/web/*/https://danieltenner.com/2019/05/23/deliveroo-phase-2/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
						    		            			            	                                                                                            
						
<p>Back in March, I sent a package to Deliveroo, containing all the plastics they’d sent me in about a month, along with a <a href="https://danieltenner.com/2019/03/06/how-to-help-deliveroo-solve-the-plastics-problem/">letter and blog post urging them to do something to reduce single use plastics abuse in the takeaway industry</a>, which I believe they are uniquely well places to influence.</p>



<p>I didn’t hear back… but recently I did find out, via some back channels, that the blog post had in fact been circulated and discussed. That’s ok, I imagine there’s a lot of PR considerations in deciding whether to reply to something like this! I’m not doing this for fame or to get a response, but to help the many people are Deliveroo who care about this problem, to get it on meeting agendas and make some progress on it.</p>



<p>So, I decided to do better in phase 2.</p>



<p>This is what I had to work with:</p>



<figure><img src="https://danieltenner.com/wp-content/uploads/2019/05/IMG_0533-1024x1024.jpg" alt="" srcset="https://danieltenner.com/wp-content/uploads/2019/05/IMG_0533-1024x1024.jpg 1024w, https://danieltenner.com/wp-content/uploads/2019/05/IMG_0533-150x150.jpg 150w, https://danieltenner.com/wp-content/uploads/2019/05/IMG_0533-300x300.jpg 300w, https://danieltenner.com/wp-content/uploads/2019/05/IMG_0533-768x768.jpg 768w, https://danieltenner.com/wp-content/uploads/2019/05/IMG_0533-676x676.jpg 676w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>



<p>There’s less than before, because whenever possible I tried to stick to restaurants like Honest Burgers and Café Route, which use cardboard packaging that appears compostable. Still, sometimes I get tired of Beyond Meat burgers and awesome salads… and sometimes I have friends around and so my order has to accommodate that they might want to eat something else! Over a few months, it adds up.</p>



<p>This time, I thought I’d approach things slightly differently…</p>



<h3>Strength in numbers</h3>



<p>The last package was sent to Nina De Souza, head of consumer products at Deliveroo. I imagine it placed a lot of pressure on her and didn’t spread the work very much. I was hoping maybe other people would also start sending stuff to Deliveroo, but that didn’t happen – I guess I’m not so amazing that I can start a big movement all by myself with just a blog post and a cardboard box!</p>



<p>That’s ok. There are other ways to create strength in numbers.</p>



<p>It turns out that, when I actually spent 5 minutes thinking about it, which happened soon after sending that first box back in March, I realised that I don’t need to send a whole box of plastics to have this effect. Even just one piece of plastic is enough to get the message across.</p>



<p>So for phase 2, I did this:</p>



<figure><img src="https://danieltenner.com/wp-content/uploads/2019/05/IMG_0539-e1558607554892-1024x1024.jpg" alt="" srcset="https://danieltenner.com/wp-content/uploads/2019/05/IMG_0539-e1558607554892-1024x1024.jpg 1024w, https://danieltenner.com/wp-content/uploads/2019/05/IMG_0539-e1558607554892-150x150.jpg 150w, https://danieltenner.com/wp-content/uploads/2019/05/IMG_0539-e1558607554892-300x300.jpg 300w, https://danieltenner.com/wp-content/uploads/2019/05/IMG_0539-e1558607554892-768x768.jpg 768w, https://danieltenner.com/wp-content/uploads/2019/05/IMG_0539-e1558607554892-676x676.jpg 676w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>



<p>Yep, those are 30 hand-written notes, each with a piece of plastic. </p>



<p>How did I come up with the names? Just look through the names <a href="https://www.linkedin.com/company/deliveroo/people/">here</a> and pick 30. You can do this easily too. Even just one letter with one piece of plastic might have an effect. You can do it! 🙂</p>



<p>As for the message, I like to think that each name came with its own appropriate message. Before writing it out, I paused, thought about the person hiding behind the name, considered the plastic I was sending them, and wrote what felt right, sincere, appropriate for this person.</p>



<p>They are all positive messages. No shaming. I genuinely believe that everyone (at Deliveroo or elsewhere) cares about having a world to live in, to at least some extent, and is doing their best to express that into the world, by virtue of simply being a person who is alive in this world. If they appear not to care, it is perhaps because they are hurt or fearful and so maybe struggle to connect to their own care – but I really believe we all do care.</p>



<p>So my messages are all aimed at seeing what’s good already in each of these recipients, rather than trying to coerce or pressure them.</p>



<p>I’m curious to see if and how this works!</p>



<p>Here are some of the letters going out:</p>



<figure><img src="https://danieltenner.com/wp-content/uploads/2019/05/IMG_0573-e1558607955679-1024x1024.jpg" alt="" srcset="https://danieltenner.com/wp-content/uploads/2019/05/IMG_0573-e1558607955679-1024x1024.jpg 1024w, https://danieltenner.com/wp-content/uploads/2019/05/IMG_0573-e1558607955679-150x150.jpg 150w, https://danieltenner.com/wp-content/uploads/2019/05/IMG_0573-e1558607955679-300x300.jpg 300w, https://danieltenner.com/wp-content/uploads/2019/05/IMG_0573-e1558607955679-768x768.jpg 768w, https://danieltenner.com/wp-content/uploads/2019/05/IMG_0573-e1558607955679-676x676.jpg 676w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>



<p>I’ve spread them across a few days so this can build up for a few days. </p>



<p>Of course there were still some leftover plastics…</p>



<figure><img src="https://danieltenner.com/wp-content/uploads/2019/05/IMG_0571-1024x1024.jpg" alt="" srcset="https://danieltenner.com/wp-content/uploads/2019/05/IMG_0571-1024x1024.jpg 1024w, https://danieltenner.com/wp-content/uploads/2019/05/IMG_0571-150x150.jpg 150w, https://danieltenner.com/wp-content/uploads/2019/05/IMG_0571-300x300.jpg 300w, https://danieltenner.com/wp-content/uploads/2019/05/IMG_0571-768x768.jpg 768w, https://danieltenner.com/wp-content/uploads/2019/05/IMG_0571-676x676.jpg 676w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>



<p>Those have gone to Nina again, with another bespoke letter.</p>



<p>I am really curious to find out what happens next with this. Will there be a phase 3? Maybe.</p>



<h3>Wanna get in on the action?</h3>



<p>Next time you order a Deliveroo, just save (and wash) one of the pieces of plastic you receive, put it in an envelope with a note addressed to one of the people from <a href="https://www.linkedin.com/company/deliveroo/people/">https://www.linkedin.com/company/deliveroo/people/</a>, and ship it to an address which I now know by heart, having written it out 31 times in the last couple of days:</p>



<p>&lt;Name of the person&gt;<br>Deliveroo<br>1 Cannon Bridge House<br>1 Cousin Lane<br>London EC4R 3TE</p>



<p>The cost for a 2nd class “large letter” is 83p. It’s hardly going to break the bank. If you’re going write a message, I suggest keeping it positive 🙂 Nobody reacts well to being shamed or threatened. Remember the recipient is a human being just like you who is doing the best they can.</p>



<p>If you do send them something and you’d like to let me know, I can and will update this post to reflect that. I can include your name, even a link to your post, just send me a photo of the letter that you’ve prepared (the message doesn’t need to be visible, that’s between you and the recipient). Or if you want to do it anonymously but still let me know, I can also keep your details private!</p>



<p>Have a lovely day!</p>
								
															        
					</div></div>]]>
            </description>
            <link>https://danieltenner.com/2019/05/23/deliveroo-phase-2/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24498287</guid>
            <pubDate>Wed, 16 Sep 2020 21:38:40 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Machine-learning helps sort out materials' databases]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24498215">thread link</a>) | @rbanffy
<br/>
September 16, 2020 | https://actu.epfl.ch/news/machine-learning-helps-sort-out-massive-material-4/ | <a href="https://web.archive.org/web/*/https://actu.epfl.ch/news/machine-learning-helps-sort-out-massive-material-4/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p> EPFL and MIT scientists have used machine-learning to organize the chemical diversity found in the ever-growing databases for the popular metal-organic framework materials.<br></p><div id="news-content-text" itemprop="description"><p>Metal-organic frameworks (MOFs) are a class of materials that contain nano-sized pores. These pores give MOFs record-breaking internal surface areas, which can measure up to 7,800 m<sup>2</sup>&nbsp;in a single gram of material. As a result, MOFs are extremely versatile and find multiple uses: <a href="https://actu.epfl.ch/news/metal-organic-frameworks-cut-energy-consumption-of/">separating petrochemicals</a> and&nbsp;<a href="https://actu.epfl.ch/news/improving-carbon-capturing-with-metal-organic-fram/">gases</a>,&nbsp;<a href="https://actu.epfl.ch/news/new-biologically-derived-metal-organic-framework-m/">mimicking DNA</a>,&nbsp;producing <a href="https://actu.epfl.ch/news/new-material-cleans-and-splits-water">hydrogen</a>, and removing&nbsp;<a href="https://actu.epfl.ch/news/removing-heavy-metals-from-water/">heavy metals</a>,&nbsp;<a href="https://actu.epfl.ch/news/new-device-simplifies-measurement-of-fluoride-cont/">fluoride anions</a>, and even&nbsp;<a href="https://actu.epfl.ch/news/a-sponge-that-can-get-gold-out-of-waste-water/">gold</a>&nbsp;from water are just a few examples.</p><p>Because of their popularity, material scientists have been rapidly developing, synthesizing, studying, and cataloguing MOFs. Currently, there are over 90,000 MOFs published, and the number grows every day. Though exciting, the sheer number of MOFs is actually creating a problem: “If we now propose to synthesize a new MOF, how can we know if it is truly a new structure and not some minor variation of a structure that has already been synthesized?” asks Professor Berend Smit at EPFL Valais-Wallis, which houses a major chemistry department.</p><p>To address the issue, Smit teamed up with Professor Heather J. Kulik at MIT, and used machine learning to develop a “language” for comparing two materials and quantifying the differences between them. The study is published in <em>Nature Communications</em>.</p><p>Armed with their new “language”, the researchers set off to explore the chemical diversity in MOF databases. “Before, the focus was on the number of structures,” says Smit. “But now, we discovered that the major databases have all kinds of bias towards particular structures. There is no point in carrying out expensive screening studies on similar structures. One is better off in carefully selecting a set of very diverse structures, which will give much better results with far fewer structures.”</p><p>Another interesting application is “scientific archeology”: The researchers used their machine-learning system to identify the MOF structures that, at the time of the study, were published as very different from the ones that are already known.</p><p>“So we now have a very simple tool that can tell an experimental group how different their novel MOF is compared to the 90,000 other structures already reported,” says Smit.</p><p><strong>Other contributors</strong></p><p>ShanghaiTech University</p></div></div>]]>
            </description>
            <link>https://actu.epfl.ch/news/machine-learning-helps-sort-out-massive-material-4/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24498215</guid>
            <pubDate>Wed, 16 Sep 2020 21:31:29 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Twenty Minutes to Learn Go]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24498189">thread link</a>) | @ibraheemdev
<br/>
September 16, 2020 | https://ibraheem.ca/posts/go-in-twenty | <a href="https://web.archive.org/web/*/https://ibraheem.ca/posts/go-in-twenty">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>A lot of thanks goes to <a href="https://fasterthanli.me/about">Amos</a> for inspiring this article with <a href="https://fasterthanli.me/articles/a-half-hour-to-learn-rust">A half-hour to learn Rust</a>. I thought I'd try it out, but instead of Rust, this article will try to explain Go in half an hour.</p>
<p>Instead of focusing on one or two concepts, I'll try to go through as many Go snippets as I can, and explain what the keywords and symbols they contain mean. This article can be used as a cheat sheet for developers familiar with Go, or a tutorial for developers new to Go, but familiar with other languages.</p>
<p>Ready? Go!</p>
<h4 id="packages"><a href="#packages" aria-label="packages permalink"></a><strong>Packages</strong></h4>
<p>Every Go program is made up of packages,</p>
<p>Programs start by running in package <code>main</code>.</p>
<p>You can use external packages by importing them:</p>
<div data-language="go"><pre><code><span>package</span> main

<span>import</span> <span>"fmt"</span></code></pre></div>
<p>You can use exported names in an imported package by using the package name as a qualifier:</p>
<div data-language="go"><pre><code><span>import</span> <span>(</span>
  <span>"fmt"</span>
  <span>"math/rand"</span>
<span>)</span>

fmt<span>.</span><span>Println</span><span>(</span><span>"My favorite number is"</span><span>,</span> rand<span>.</span><span>Intn</span><span>(</span><span>10</span><span>)</span><span>)</span></code></pre></div>
<p>You can create a local alias for any import:</p>
<div data-language="go"><pre><code><span>import</span> <span>(</span>
  formatter <span>"fmt"</span>
<span>)</span>

formatter<span>.</span><span>Println</span><span>(</span><span>""</span><span>)</span> </code></pre></div>
<p>Or use a dot to access it without any qualifier:</p>
<div data-language="go"><pre><code><span>import</span> <span>(</span>
  <span>.</span> <span>"math/rand"</span>
<span>)</span>

<span>Intn</span><span>(</span><span>10</span><span>)</span> </code></pre></div>
<p>A name is exported if it begins with a capital letter. This is similar to <code>public</code> and <code>private</code> in other languages:</p>
<div data-language="go"><pre><code>x <span>:=</span> <span>"hello"</span> 
A <span>:=</span> <span>"hello"</span> </code></pre></div>
<p>Packages can have an <code>init</code> function. This will be executed as soon as the package is imported:</p>
<div data-language="go"><pre><code><span>func</span> <span>init</span><span>(</span><span>)</span> <span>{</span>
  <span>performSideEffects</span><span>(</span><span>)</span>
<span>}</span></code></pre></div>
<h4 id="scope"><a href="#scope" aria-label="scope permalink"></a><strong>Scope</strong></h4>
<p>A pair of brackets declares a block, which has its own scope:</p>
<div data-language="go"><pre><code>
<span>func</span> <span>main</span><span>(</span><span>)</span> <span>{</span>
  x <span>:=</span> <span>"out"</span>
  <span>{</span>
    
    x <span>:=</span> <span>"in"</span>
    <span>println</span><span>(</span>x<span>)</span>
  <span>}</span>
  <span>println</span><span>(</span>x<span>)</span>
<span>}</span></code></pre></div>
<p>A variable defined outside of any function is considered "global". If capitalized, it can be accessed by other packages:</p>
<div data-language="go"><pre><code><span>package</span> mypackage

<span>var</span> Global <span>string</span> <span>=</span> <span>"I am a global variable!"</span></code></pre></div>
<h4 id="variables"><a href="#variables" aria-label="variables permalink"></a><strong>Variables</strong></h4>
<p><code>var</code> declares a variable of a given type:</p>

<p>This can also be written as a single line:</p>

<p>You can specify a variable's type implicitly:</p>

<p>Inside of a function body, this can also be written in short form:</p>

<p>You can declare many variables at the same time:</p>
<div data-language="go"><pre><code><span>var</span> x<span>,</span> y <span>int</span>
x<span>,</span> y <span>=</span> <span>10</span><span>,</span> <span>20</span></code></pre></div>
<p>If you declare a variable without initializing it, it will implicitly be assigned to the zero value of its type:</p>
<div data-language="go"><pre><code><span>var</span> b <span>bool</span>
<span>var</span> x <span>int</span>
<span>var</span> y <span>string</span>
<span>var</span> z <span>[</span><span>]</span><span>int</span>

<span>println</span><span>(</span>b<span>)</span> 
<span>println</span><span>(</span>x<span>)</span> 
<span>println</span><span>(</span>y<span>)</span> 
<span>println</span><span>(</span>z<span>)</span> </code></pre></div>
<h4 id="type-conversions"><a href="#type-conversions" aria-label="type conversions permalink"></a><strong>Type Conversions</strong></h4>
<p>You can convert values between different types:</p>
<div data-language="go"><pre><code><span>var</span> f <span>float64</span> <span>=</span> <span>1</span> 
i <span>:=</span> <span>int</span><span>(</span>f<span>)</span>       </code></pre></div>
<p>Note that this must be done explicitly. Unlike other languages, you cannot pass an <code>int</code> as a <code>float</code> argument and depend on an implicit conversion by the compiler.</p>
<h4 id="constants"><a href="#constants" aria-label="constants permalink"></a><strong>Constants</strong></h4>
<p>Unchanging values can be declared with the <code>const</code> keyword. Constants can be characters, strings, booleans, or numeric values:</p>

<p>You can group the declaration of multiple constants or variables:</p>

<h4 id="iota"><a href="#iota" aria-label="iota permalink"></a><strong>Iota</strong></h4>
<p>The <code>iota</code> keyword represents successive integer constants:</p>
<div data-language="go"><pre><code><span>const</span> <span>(</span>
  zero <span>=</span> <span>iota</span>
  one  <span>=</span> <span>iota</span>
  two  <span>=</span> <span>iota</span>
<span>)</span>
fmt<span>.</span><span>Println</span><span>(</span>zero<span>,</span> one<span>,</span> two<span>)</span> </code></pre></div>
<p>This can be written in short form:</p>
<div data-language="go"><pre><code><span>const</span> <span>(</span>
  zero <span>=</span> <span>iota</span>
  one
  two
<span>)</span>
fmt<span>.</span><span>Println</span><span>(</span>zero<span>,</span> one<span>,</span> two<span>)</span> </code></pre></div>
<p>You can perform operations on an iota:</p>
<div data-language="go"><pre><code><span>const</span> <span>(</span>
  four <span>=</span> <span>iota</span> <span>+</span> <span>4</span>
  five
  six
<span>)</span>

fmt<span>.</span><span>Println</span><span>(</span>four<span>,</span> five<span>,</span> six<span>)</span> </code></pre></div>
<p>And use the blank identifier to skip a value:</p>
<div data-language="go"><pre><code><span>const</span> <span>(</span>
  zero <span>=</span> <span>iota</span>
  <span>_</span>    
  two
  three
<span>)</span>
fmt<span>.</span><span>Println</span><span>(</span>zero<span>,</span> two<span>,</span> three<span>)</span> </code></pre></div>
<p>Iota's are most commonly used to represent enums, which Go does not support natively.</p>
<h4 id="the-blank-identifier"><a href="#the-blank-identifier" aria-label="the blank identifier permalink"></a><strong>The Blank Identifier</strong></h4>
<p>The blank identifier <code>_</code> is an anonymous placeholder. It basically means to throw away something:</p>
<div data-language="go"><pre><code>
<span>_</span> <span>:=</span> <span>42</span>



<span>_</span><span>,</span> <span>_</span> <span>:=</span> <span>getThing</span><span>(</span><span>)</span><span>;</span></code></pre></div>
<p>You can use it to import a package solely for its <code>init</code> function:</p>

<p>Or to avoid compiler errors during development:</p>

<h4 id="looping"><a href="#looping" aria-label="looping permalink"></a><strong>Looping</strong></h4>
<p>Go has only one loop, the <code>for</code> loop. It has three components:</p>
<ul>
<li>The init statement: executed before the first iteration</li>
<li>The condition: evaluated before every iteration</li>
<li>The post statement: executed at the end of every iteration</li>
</ul>
<p>Here's an example:</p>
<div data-language="go"><pre><code>sum <span>:=</span> <span>0</span>
<span>for</span> i <span>:=</span> <span>0</span><span>;</span> i <span>&lt;</span> <span>10</span><span>;</span> i<span>++</span> <span>{</span>
  sum <span>++</span>
<span>}</span>
</code></pre></div>
<p>The init and post statements are optional:</p>
<div data-language="go"><pre><code>
yup <span>:=</span> <span>true</span>
<span>for</span> yup <span>{</span>
  <span>println</span><span>(</span><span>"yup!"</span><span>)</span>
<span>}</span></code></pre></div>
<p>An infinite for loop can also be written like this:</p>

<p>You can use break to <code>break</code> out of a loop:</p>
<div data-language="go"><pre><code><span>for</span> <span>{</span>
  <span>if</span> <span>shouldBreak</span><span>(</span><span>)</span> <span>{</span>
    <span>break</span>
  <span>}</span>
<span>}</span></code></pre></div>
<p>And <code>continue</code> to skip to the next iteration</p>
<div data-language="go"><pre><code><span>for</span> i <span>:=</span> <span>0</span><span>;</span> i <span>&lt;</span> <span>5</span><span>;</span> i<span>++</span> <span>{</span>
  
  <span>if</span> i <span>==</span> <span>2</span> <span>{</span>
    <span>continue</span>
  <span>}</span>
  <span>print</span><span>(</span>i<span>)</span>
<span>}</span>

</code></pre></div>
<h4 id="control-flow"><a href="#control-flow" aria-label="control flow permalink"></a><strong>Control Flow</strong></h4>
<p>Go's <code>if</code> statements have a similar syntax to its loops:</p>
<div data-language="go"><pre><code>
<span>if</span> <span>1</span> <span>==</span> <span>1</span> <span>{</span>
  <span>println</span><span>(</span><span>"true"</span><span>)</span>
<span>}</span></code></pre></div>
<p><code>if</code> conditions can also have an init statement:</p>
<div data-language="go"><pre><code>
<span>if</span> x <span>:=</span> <span>"hello"</span><span>;</span> x <span>!=</span> <span>nil</span> <span>{</span>
  <span>println</span><span>(</span>x<span>)</span>
<span>}</span>
</code></pre></div>
<p>Go also has <code>else</code> and <code>else if</code> statements:</p>
<div data-language="go"><pre><code><span>if</span> something <span>{</span>
  <span>doSomething</span><span>(</span><span>)</span>
<span>}</span> <span>else</span> <span>if</span> somethingElse <span>{</span>
  <span>doSomethingElse</span><span>(</span><span>)</span>
<span>}</span> <span>else</span> <span>{</span>
  <span>return</span>
<span>}</span></code></pre></div>
<p>If your <code>if - else</code> statement is getting long, switch to a <code>switch</code> statement :)</p>
<div data-language="go"><pre><code><span>switch</span> <span>{</span>
<span>case</span> something<span>:</span>
  <span>doSomething</span><span>(</span><span>)</span>
<span>case</span> somethingElse <span>&gt;</span> <span>10</span><span>:</span>
  <span>doSomethingElse</span><span>(</span><span>)</span>
<span>default</span><span>:</span>
  <span>return</span>
<span>}</span></code></pre></div>
<p>You can also switch on a condition:</p>
<div data-language="go"><pre><code><span>switch</span> x <span>:=</span> <span>2</span><span>;</span> x <span>{</span>

<span>case</span> <span>1</span><span>:</span>
  <span>doSomething</span><span>(</span><span>)</span>

<span>case</span> <span>2</span><span>:</span>
  <span>doSomethingElse</span><span>(</span><span>)</span>

<span>default</span><span>:</span>
  <span>return</span>
<span>}</span></code></pre></div>
<p>You can use <code>fallthrough</code> to fall through to the case below the current case:</p>
<div data-language="go"><pre><code><span>switch</span> <span>1</span> <span>{</span>
<span>case</span> <span>1</span><span>:</span>
    <span>print</span><span>(</span><span>"1"</span><span>)</span>
    <span>fallthrough</span>
<span>case</span> <span>2</span><span>:</span>
    <span>print</span><span>(</span><span>"2"</span><span>)</span>
<span>}</span>

</code></pre></div>
<p>In a switch statement, only the first matched case is executed.</p>
<p>Go also has <em>labels</em> to help manage control flow:</p>

<p>You can jump to a specific label with the <code>goto</code> keyword:</p>
<div data-language="go"><pre><code><span>print</span><span>(</span><span>1</span><span>)</span>


<span>goto</span> Three
<span>print</span><span>(</span><span>2</span><span>)</span>

Three<span>:</span>
<span>print</span><span>(</span><span>3</span><span>)</span>

</code></pre></div>
<p>Labels have a very specific use case. They can make code less readable and should be avoided most of the time.</p>
<h4 id="arrays"><a href="#arrays" aria-label="arrays permalink"></a><strong>Arrays</strong></h4>
<p>In Go, arrays have a fixed length:</p>
<div data-language="go"><pre><code><span>var</span> a <span>[</span><span>2</span><span>]</span><span>string</span> 
a<span>[</span><span>0</span><span>]</span> <span>=</span> <span>"Hello"</span>
a<span>[</span><span>1</span><span>]</span> <span>=</span> <span>"World"</span>
<span>println</span><span>(</span>a<span>)</span> </code></pre></div>
<p>You create arrays using <em>array literals</em>:</p>
<div data-language="go"><pre><code>helloWorld <span>:=</span> <span>[</span><span>2</span><span>]</span><span>string</span><span>{</span><span>"Hello"</span><span>,</span> <span>"World"</span><span>}</span></code></pre></div>
<p>You cannot increase an array beyond its capacity. Doing so will panic:</p>
<div data-language="go"><pre><code>helloWorld <span>:=</span> <span>[</span><span>2</span><span>]</span><span>string</span><span>{</span><span>"Hello"</span><span>,</span> <span>"World"</span><span>}</span>
helloWorld<span>[</span><span>10</span><span>]</span> <span>=</span> <span>"Space"</span>


</code></pre></div>
<p>To get around this issue, Go provides slices.</p>
<h4 id="slices"><a href="#slices" aria-label="slices permalink"></a><strong>Slices</strong></h4>
<p>Slices are more common than arrays. They do not have a fixed length, and are therefore more flexible:</p>
<div data-language="go"><pre><code>nums <span>:=</span> <span>[</span><span>]</span><span>int</span><span>{</span><span>1</span><span>,</span> <span>2</span><span>,</span> <span>3</span><span>,</span> <span>4</span><span>,</span> <span>5</span><span>}</span></code></pre></div>
<p>Slices can also be created with the built-in function <code>make</code>:</p>
<div data-language="go"><pre><code><span>make</span><span>(</span><span>[</span><span>]</span><span>string</span><span>,</span> initialLength<span>)</span>


<span>make</span><span>(</span><span>[</span><span>]</span><span>string</span><span>,</span> initialLength<span>,</span> initialCapacity<span>)</span></code></pre></div>
<p>You can also create a slice by <em>slicing</em> an existing array:</p>
<div data-language="go"><pre><code>nums <span>:=</span> <span>[</span><span>6</span><span>]</span><span>int</span><span>{</span><span>1</span><span>,</span> <span>2</span><span>,</span> <span>3</span><span>,</span> <span>4</span><span>,</span> <span>5</span><span>,</span> <span>6</span><span>}</span>
s <span>:=</span> nums<span>[</span><span>1</span><span>:</span><span>4</span><span>]</span>

fmt<span>.</span><span>Println</span><span>(</span>s<span>)</span>
</code></pre></div>
<p>You can omit the start or end index when slicing an array, so for this array:</p>

<p>These expressions are equivalent:</p>
<div data-language="go"><pre><code>a<span>[</span><span>:</span><span>]</span>
a<span>[</span><span>0</span><span>:</span><span>]</span>
a<span>[</span><span>:</span><span>10</span><span>]</span>
a<span>[</span><span>0</span><span>:</span><span>10</span><span>]</span></code></pre></div>
<p>Modifying the elements of a slice will modify its underlying array:</p>
<div data-language="go"><pre><code>nums <span>:=</span> <span>[</span><span>6</span><span>]</span><span>int</span><span>{</span><span>1</span><span>,</span> <span>2</span><span>,</span> <span>3</span><span>,</span> <span>4</span><span>,</span> <span>5</span><span>,</span> <span>6</span><span>}</span>

s <span>:=</span> nums<span>[</span><span>0</span><span>:</span><span>4</span><span>]</span>
s<span>[</span><span>0</span><span>]</span> <span>=</span> <span>999</span>

fmt<span>.</span><span>Println</span><span>(</span>nums<span>)</span>
</code></pre></div>
<p>Slices are just a fancy way to manage an underlying array. You cannot increase a slice beyond its capacity. Doing so will panic, just like with an array:</p>
<div data-language="go"><pre><code>nums <span>:=</span> <span>[</span><span>]</span><span>int</span><span>{</span><span>1</span><span>,</span> <span>2</span><span>,</span> <span>3</span><span>,</span> <span>4</span><span>,</span> <span>5</span><span>,</span> <span>6</span><span>}</span>
nums<span>[</span><span>20</span><span>]</span> <span>=</span> <span>9</span>


</code></pre></div>
<p>However, Go has built-in functions to make slices feel like arrays, such as the <code>append</code> function, which can be used to add items to the end of a slice:</p>
<div data-language="go"><pre><code>nums <span>:=</span> <span>[</span><span>]</span><span>int</span><span>{</span><span>1</span><span>,</span> <span>2</span><span>,</span> <span>3</span><span>,</span> <span>4</span><span>,</span> <span>5</span><span>}</span>
nums <span>=</span> <span>append</span><span>(</span>nums<span>,</span> <span>6</span><span>)</span>

fmt<span>.</span><span>Println</span><span>(</span>nums<span>)</span>
</code></pre></div>
<p>You can iterate over slices and arrays with <code>range</code>:</p>
<div data-language="go"><pre><code>names <span>:=</span> <span>[</span><span>]</span><span>string</span><span>{</span><span>"john"</span><span>,</span> <span>"joe"</span><span>,</span> <span>"jessica"</span><span>}</span>
<span>for</span> index<span>,</span> name <span>:=</span> <span>range</span> names <span>{</span>
  <span>println</span><span>(</span>index<span>,</span> name<span>)</span>
<span>}</span>



</code></pre></div>
<p>We can use the blank identifier to omit the index or the value from <code>range</code>:</p>
<div data-language="go"><pre><code><span>for</span> <span>_</span><span>,</span> name <span>:=</span> <span>range</span> names


<span>for</span> index<span>,</span> <span>_</span> <span>:=</span> <span>range</span> names
<span>for</span> index <span>:=</span> <span>range</span> names</code></pre></div>
<p>Slices are more complicated than they seem. To understand the inner workings of slices and arrays in detail, check out: <a href="https://blog.golang.org/slices-intro">Go Slices: Usage and Internals</a></p>
<h4 id="maps"><a href="#maps" aria-label="maps permalink"></a><strong>Maps</strong></h4>
<p>Maps are like hashes in ruby or dictionaries in python. You create them like this:</p>
<div data-language="go"><pre><code><span>var</span> m <span>map</span><span>[</span><span>string</span><span>]</span><span>string</span>
m<span>[</span><span>"key"</span><span>]</span> <span>=</span> <span>"value"</span>

x <span>=</span> m<span>[</span><span>"key"</span><span>]</span> </code></pre></div>
<p>Or with a <em>map literal</em>:</p>
<div data-language="go"><pre><code>m <span>:=</span> <span>map</span><span>[</span><span>int</span><span>]</span><span>string</span><span>{</span><span>1</span><span>:</span> <span>"one"</span><span>,</span> <span>2</span><span>:</span> <span>"two"</span><span>}</span></code></pre></div>
<p>Or the <code>make</code> function:</p>
<div data-language="go"><pre><code>m <span>:=</span> <span>make</span><span>(</span><span>map</span><span>[</span><span>int</span><span>]</span><span>string</span><span>)</span></code></pre></div>
<p>You can delete map keys:</p>

<p>Check whether a key is present:</p>
<div data-language="go"><pre><code><span>var</span> m <span>map</span><span>[</span><span>string</span><span>]</span><span>string</span>
m<span>[</span><span>"key"</span><span>]</span> <span>=</span> <span>"value"</span>

x<span>,</span> ok <span>=</span> m<span>[</span><span>"key"</span><span>]</span> 
x<span>,</span> ok <span>=</span> m<span>[</span><span>"doesnt-exist"</span><span>]</span> </code></pre></div>
<p>And range over their keys and values:</p>
<div data-language="go"><pre><code><span>var</span> m <span>=</span> <span>map</span><span>[</span><span>int</span><span>]</span><span>string</span><span>{</span><span>1</span><span>:</span> <span>"one"</span><span>,</span> <span>2</span><span>:</span> <span>"two"</span><span>}</span>
<span>for</span> key<span>,</span> value <span>:=</span> <span>range</span> names <span>{</span>
  <span>println</span><span>(</span>key<span>,</span> value<span>)</span>
<span>}</span>


</code></pre></div>
<h4 id="functions"><a href="#functions" aria-label="functions permalink"></a><strong>Functions</strong></h4>
<p><code>func</code> declares a function.</p>
<p>Here's a void function:</p>
<div data-language="go"><pre><code><span>func</span> <span>greet</span><span>(</span><span>)</span> <span>{</span>
  <span>println</span><span>(</span><span>"Hi there!"</span><span>)</span>
<span>}</span></code></pre></div>
<p>And here's a function that returns an integer:</p>
<div data-language="go"><pre><code><span>func</span> <span>fairDiceRoll</span><span>(</span><span>)</span> <span>int</span> <span>{</span>
  <span>return</span> <span>4</span>
<span>}</span></code></pre></div>
<p>Functions can return multiple values:</p>
<div data-language="go"><pre><code><span>func</span> <span>oneTwoThree</span><span>(</span><span>)</span> <span>(</span><span>int</span><span>,</span> <span>int</span><span>,</span> <span>int</span><span>)</span> <span>{</span>
  <span>return</span> <span>1</span><span>,</span> <span>2</span><span>,</span> <span>3</span>
<span>}</span></code></pre></div>
<p>They can also take specified arguments:</p>
<div data-language="go"><pre><code><span>func</span> <span>sayHello</span><span>(</span>name <span>string</span><span>)</span> <span>{</span>
  fmt<span>.</span><span>Printf</span><span>(</span><span>"hello %s"</span><span>,</span> name<span>)</span>
<span>}</span></code></pre></div>
<p>Or an arbitrary number of arguments:</p>
<div data-language="go"><pre><code><span>func</span> <span>variadic</span><span>(</span>nums <span>...</span><span>int</span><span>)</span> <span>{</span>
  <span>println</span><span>(</span>nums<span>)</span>
<span>}</span></code></pre></div>
<p>These are called <em>Variadic Functions</em>. They can be called just like regular functions:</p>

<p>Or you can pass in a slice directly:</p>
<div data-language="go"><pre><code>nums <span>:=</span> <span>[</span><span>]</span><span>int</span><span>{</span><span>1</span><span>,</span> <span>2</span><span>,</span> <span>3</span><span>}</span>
<span>variadic</span><span>(</span>nums<span>)</span> </code></pre></div>
<p>If a function takes two or more arguments of the same type, you can group them together:</p>
<div data-language="go"><pre><code><span>func</span> <span>multiply</span><span>(</span>x<span>,</span> y <span>int</span><span>)</span> <span>int</span> <span>{</span>
  <span>return</span> x <span>*</span> y
<span>}</span></code></pre></div>
<p>The <code>defer</code> statement defers the execution of a function until the surrounding function returns:</p>
<div data-language="go"><pre><code><span>defer</span> fmt<span>.</span><span>Print</span><span>(</span><span>"world"</span><span>)</span>
fmt<span>.</span><span>Print</span><span>(</span><span>"hello "</span><span>)</span>

</code></pre></div>
<p>Defer is often used with an anonymous function:</p>
<div data-language="go"><pre><code><span>defer</span> <span>func</span><span>(</span><span>)</span> <span>{</span>
  <span>println</span><span>(</span><span>"I'm done!"</span><span>)</span>
<span>}</span><span>(</span><span>)</span></code></pre></div>
<h4 id="anonymous-functions"><a href="#anonymous-functions" aria-label="anonymous functions permalink"></a><strong>Anonymous Functions</strong></h4>
<p>Go supports anonymous functions. Anonymous functions are useful when you want to define a function inline without having to name it:</p>
<div data-language="go"><pre><code><span>func</span> <span>printNumber</span><span>(</span>getNum <span>func</span><span>(</span><span>)</span> <span>int</span><span>)</span> <span>{</span>
  num <span>:=</span> <span>getNum</span><span>(</span><span>)</span>
  <span>println</span><span>(</span>num<span>)</span>
<span>}</span>

one <span>:=</span> <span>func</span><span>(</span><span>)</span> <span>int</span> <span>{</span> 
  <span>return</span> <span>1</span> 
<span>}</span>
<span>printNumber</span><span>(</span>one<span>)</span>

</code></pre></div>
<p>A function can also return an anonymous function:</p>
<div data-language="go"><pre><code><span>func</span> <span>getOne</span><span>(</span><span>)</span> <span>func</span><span>(</span><span>)</span> <span>int</span> <span>{</span>
  <span>return</span> <span>func</span><span>(</span><span>)</span> <span>int</span> <span>{</span>
    <span>return</span> <span>1</span>
  <span>}</span>
<span>}</span>

one <span>:=</span> <span>getOne</span><span>(</span><span>)</span>
<span>println</span><span>(</span><span>one</span><span>(</span><span>)</span><span>)</span> 

</code></pre></div>
<p>Anonymous functions allow us to dynamically change what a function does at runtime:</p>
<div data-language="go"><pre><code>DoStuff <span>:=</span> <span>func</span><span>(</span><span>)</span> <span>{</span>
  fmt<span>.</span><span>Println</span><span>(</span><span>"Doing stuff!"</span><span>)</span>
<span>}</span>
<span>DoStuff</span><span>(</span><span>)</span>

DoStuff <span>=</span> <span>func</span><span>(</span><span>)</span> <span>{</span>
  fmt<span>.</span><span>Println</span><span>(</span><span>"Doing other stuff."</span><span>)</span>
<span>}</span>
<span>DoStuff</span><span>(</span><span>)</span>


</code></pre></div>
<p>Anonymous functions can form <em>closures</em>. A closure is an anonymous function that references a variable from outside itself:</p>
<div data-language="go"><pre><code>n <span>:=</span> <span>0</span>
counter <span>:=</span> <span>func</span><span>(</span><span>)</span> <span>int</span> <span>{</span>
  n <span>+=</span> <span>1</span>
  <span>return</span> n
<span>}</span>
<span>println</span><span>(</span><span>counter</span><span>(</span><span>)</span><span>)</span>
<span>println</span><span>(</span><span>counter</span><span>(</span><span>)</span><span>)</span>


</code></pre></div>
<p>Note how <code>counter</code> has access to <code>n</code>, even though it was never passed as a parameter.</p>
<h4 id="pointers"><a href="#pointers" aria-label="pointers permalink"></a><strong>Pointers</strong></h4>
<p>Go has pointers. A pointer holds the memory address of a value.</p>

<p>The <code>&amp;</code> operator generates a pointer to its operand:</p>

<p>The <code>*</code> operator denotes the pointer's underlying value:</p>
<div data-language="go"><pre><code>i <span>:=</span> <span>42</span>
p <span>:=</span> <span>&amp;</span>i     
<span>println</span><span>(</span><span>*</span>p<span>)</span> </code></pre></div>
<p>You can use <code>*</code> to modify the original value:</p>

<h4 id="custom-types"><a href="#custom-types" aria-label="custom types permalink"></a><strong>Custom Types</strong></h4>
<p>You can create a type with the <code>type TypeName SourceType</code> syntax:</p>

<p>This is called a <em>ty…</em></p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://ibraheem.ca/posts/go-in-twenty">https://ibraheem.ca/posts/go-in-twenty</a></em></p>]]>
            </description>
            <link>https://ibraheem.ca/posts/go-in-twenty</link>
            <guid isPermaLink="false">hacker-news-small-sites-24498189</guid>
            <pubDate>Wed, 16 Sep 2020 21:29:13 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Some Things I’ve Learned About SEO]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24498150">thread link</a>) | @patwalls
<br/>
September 16, 2020 | https://patwalls.com/some-things-i-ve-learned-about-seo | <a href="https://web.archive.org/web/*/https://patwalls.com/some-things-i-ve-learned-about-seo">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://patwalls.com/some-things-i-ve-learned-about-seo</link>
            <guid isPermaLink="false">hacker-news-small-sites-24498150</guid>
            <pubDate>Wed, 16 Sep 2020 21:26:29 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A primer on engineering delivery metrics]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24497746">thread link</a>) | @digitallogic
<br/>
September 16, 2020 | https://leaddev.com/primer-engineering-delivery-metrics | <a href="https://web.archive.org/web/*/https://leaddev.com/primer-engineering-delivery-metrics">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<div>
<div> <p>Before joining&nbsp;<a data-gc-link="https://stripe.com/" href="https://stripe.com/">Stripe</a>, I had the opportunity to build, grow, and lead the&nbsp;<a data-gc-link="https://splice.com" href="https://splice.com/">Splice</a>&nbsp;engineering organization for almost four years (yes, still I mix up the names). The most challenging engineering problem I’ve had to tackle so far has been working on accelerating software delivery in an organization that grew from 5 to 55+ engineers in my first 18 months. As the Splice team expanded, our ability to deliver software ground to a halt. The processes that worked when the company was small couldn’t support the explosive growth, and we needed to find a way to get back on track. By focusing on delivery metrics, we were able to increase the rate of software delivery drastically, and you don’t have to take my word for it, let’s look at a graph of cycle time (or delivery lead time) from May 2018 to April 2019.</p>
<p><img alt="Chart showing delivery lead time" data-id="null" src="https://lh3.googleusercontent.com/p4BZUo4UtAzkdOV3uqK88jTx34Cy6e_p1OJRC3WeEHBTdY1mobwx17QYg8zZly7NPJ0DACLoAVeP6LIo6APVbnD0wCnAYypKng1eiqT6qkZI3sIWbNfh-RjIvMktsp4FeNZvfxT2" title=""></p>
<p>This graph shows how we stabilized&nbsp;<strong>delivery lead time</strong>&nbsp;over a year. This metric’s average also decreased from a few hundred hours to the lower tens, even reaching 20 hours on our best delivery weeks despite frequent organization change. We did this without working longer hours or even weekends, but rather by engineering our processes using metrics to observe and direct the desired change. Today, any team can take control of their ability to deliver production-ready software at an accelerating tempo by understanding and adopting a few simple metrics. Let’s dive in.&nbsp;</p>
<h2>What are engineering delivery metrics?</h2>
<p>Engineering delivery metrics are a method of measuring the software delivery phase in software development. We measure delivery, and not the entire development process because the design phase of software varies significantly. In the early stages of software, we don't know what we're looking to build, so to make our lives easier, we focus on the portion of the pipeline where we can have more control as engineers. To do this, we can assume that the delivery process begins when we commit code and ends when code is running in production.</p>
<p><img alt="Diagram showing coding timeline" data-id="null" src="https://lh5.googleusercontent.com/mwxLQLKwZjLRvwgi31jE-SaioQlO77r0LlyBYghPafBpuojTbBWl_Cz3eWPZZ7n0bquUD1gBKt0-KQyMczOgCRFdBpSNrfhSwB0UrjHs-JVHusrl45ZgrAskb_wII5KjoxpDamKJ" title=""></p>

<table data-wrap-id="table-id-faaet"><tbody><tr data-wrap-id="table-row-xfuvw"><td data-wrap-id="table-cell-ysmwy">
<p><strong>Product design &amp; development</strong></p>
</td>
<td data-wrap-id="table-cell-ilfzf">
<p><strong>Product delivery</strong></p>
</td>
</tr><tr data-wrap-id="table-row-bbmel"><td data-wrap-id="table-cell-fwtnn">
<p>Create new products and services that solve customer problems using hypothesis-driven delivery, modern UX, and design thinking.</p>
</td>
<td data-wrap-id="table-cell-ihcpi">
<p>Enable fast flow from development to production and reliable releases by standardizing work, and reducing variability and batch sizes.</p>
</td>
</tr><tr data-wrap-id="table-row-zjizq"><td data-wrap-id="table-cell-pjyaq">
<p>Feature design and implementation may require work that has never been performed before.</p>
</td>
<td data-wrap-id="table-cell-hqhxx">
<p>Integration, test, and deployment must be performed continuously as quickly as possible.</p>
</td>
</tr><tr data-wrap-id="table-row-erjbr"><td data-wrap-id="table-cell-fulwo">
<p>Estimates are highly uncertain.</p>
</td>
<td data-wrap-id="table-cell-nkval">
<p>Cycle times should be well-known and predictable.</p>
</td>
</tr><tr data-wrap-id="table-row-pbjpf"><td data-wrap-id="table-cell-maaty">
<p>Outcomes are highly variable.</p>
</td>
<td data-wrap-id="table-cell-nbqab">
<p>Outcomes should have low variability.</p>
</td>
</tr></tbody></table><p><sup><a href="#footnote1">[1]</a></sup></p>
<p>We can instrument several metrics across the entire delivery process, and their effectiveness depends on the outcomes we're seeking for our organization. Before we measure, we must ask, ‘what are we trying to achieve with these?’ Metrics are neither good nor bad. They can be useful or harmful, and the results depend on our context and ability to use them.</p>
<p>Some examples of metrics can be:</p>
<ul><li data-gc-list-depth="1" data-gc-list-style="bullet">Build time</li>
<li data-gc-list-depth="1" data-gc-list-style="bullet">Code volume</li>
<li data-gc-list-depth="1" data-gc-list-style="bullet">Code churn</li>
<li data-gc-list-depth="1" data-gc-list-style="bullet">Time to merge</li>
</ul><p>In the absence of any context, it's hard to tell if any of these metrics will produce the desired results. For example, would we&nbsp;<a data-gc-link="https://www.infoworld.com/article/2072312/lines-of-code-and-unintended-consequences.html" href="https://www.infoworld.com/article/2072312/lines-of-code-and-unintended-consequences.html">get any positive outcomes if we measured lines of code</a>? Deleting code can sometimes produce better results than adding more.</p>
<h2>Why use delivery metrics?</h2>
<p>Knowing why we measure can be more impactful than what we measure. Software delivery is an emergent property of a software engineering team and the processes it adopts. For example, heart rate is an emergent property of the heart and can give us valuable information about its health. In conjunction with useful metrics, well-defined outcomes offer us a window into how our organization delivers software. Metrics help us observe our process and evolve it.&nbsp;<br>
&nbsp;</p>
<p>At Splice, the desired results involved eliminating roadblocks that engineers had in shipping software because we wanted to learn fast.&nbsp; Product engineering teams in early-stage companies are learning with every line of code they get in front of users. If we wanted to achieve our mission of ‘enabling Splice to learn faster than the market by delivering production-ready software at an accelerating tempo’, we needed a way to see what was holding us back so that we could change it. If we were a company that supported enterprise customers, our emphasis might have increased our services’ reliability over our iteration speed.</p>
<p><img alt="Chart showing code pushes at Splice" data-id="null" src="https://lh4.googleusercontent.com/6Br30nuJ28xuwlhfxCPSZxaR124VxWkrmrT3HQbETVsnegiB5BYwEsE8nMFwhJFoHyrTnd12wCiJ34-t1jpcx7to5-hIHnxG0NFb2OPN8TgytiACBHtGbkjzsfblLNXGUEzdWOMv" title=""></p>
<p><em><small>One year of code pushes at Splice during our delivery improvement plan, showing how we improved our throughput without growing in size or working longer hours.</small></em></p>
<p>Before you pick what you want to measure, define why you want to measure it. A few examples of outcomes you might be looking for can be:</p>
<ul><li data-gc-list-depth="1" data-gc-list-style="bullet">Better reliability</li>
<li data-gc-list-depth="1" data-gc-list-style="bullet">Improved quality</li>
<li data-gc-list-depth="1" data-gc-list-style="bullet">Lower effort</li>
<li data-gc-list-depth="1" data-gc-list-style="bullet">Increased throughput</li>
<li data-gc-list-depth="1" data-gc-list-style="bullet">Cost-effectiveness</li>
<li data-gc-list-depth="1" data-gc-list-style="bullet">Staffing efficiency</li>
<li data-gc-list-depth="1" data-gc-list-style="bullet">Faster learning</li>
</ul><h2>Which delivery metrics are useful?</h2>
<p>When you search the web for "engineering delivery metrics", the results are abundant and not always useful or tailored to your outcomes. When we embarked on this journey, the most valuable resources I found were a series of reports compiled by different groups or companies we had to mix-and-match from to get actionable results. Fortunately for us, Dr. Nicole Forsgren and her team have done all the heavy lifting and summarized it in a book called&nbsp;<a data-gc-link="https://www.oreilly.com/library/view/accelerate/9781457191435/" href="https://www.oreilly.com/library/view/accelerate/9781457191435/"><em>Accelerate.</em></a>&nbsp;It sits on my desk, next to&nbsp;<a data-gc-link="https://www.amazon.com/Managers-Path-Leaders-Navigating-Growth-ebook/dp/B06XP3GJ7F" href="https://www.amazon.com/Managers-Path-Leaders-Navigating-Growth-ebook/dp/B06XP3GJ7F"><em>The Manager's Path</em></a>&nbsp;by Camille Fournier. These two books mark the beginning of a new era in engineering leadership, where learning how to be a great leader doesn't require oral tradition inside an established tech company.</p>
<p>In&nbsp;<em>Accelerate</em>, Dr. Forsgren and her team set the foundation of four metrics they found to be good indicators of software delivery performance across thousands of organizations. From there, they also proposed a capabilities framework that can allow software organizations to increase their performance and drive better business outcomes. A fascinating conclusion is how they were able to find a relationship between software delivery and organizational performance. It seems that if we're good at delivering software, then our company as a whole performs better.</p>
<p>If you've read&nbsp;<a data-gc-link="https://leaddev.com/debugging-engineering-velocity-and-leading-high-performing-teams" href="https://leaddev.com/debugging-engineering-velocity-and-leading-high-performing-teams">Smruti's article on debugging engineering velocity</a>, you've already encountered the four metrics outlined by Dr. Fosgren, and the ones we found to be the most useful as we drove change at Splice.</p>
<h4>Software Delivery Performance Metrics</h4>
<p>⌚️&nbsp;<strong>Delivery lead time</strong>. How long it takes code from commit to production.&nbsp;<br>
🚢&nbsp;<strong>Deployment frequency.</strong>&nbsp;How often we are deploying to production.&nbsp;<br>
🚒&nbsp;<strong>Mean time to restore.</strong>&nbsp;How long it takes us to restore service after an incident.&nbsp;<br>
🔨&nbsp;<strong>Change failure rate.</strong>&nbsp;The percentage of changes that degrade service or require remediation.</p>
<h3>What about story points and velocity?</h3>
<p><a data-gc-link="https://www.agilealliance.org/glossary/velocity" href="https://www.agilealliance.org/glossary/velocity">Velocity</a>&nbsp;is not a good measure of the software delivery process because it's designed to be a capacity planning tool. When we use velocity to measure productivity, our approach is flawed because:</p>
<p>‘<em>First, velocity is a relative and team-dependent measure, not an absolute one. Teams usually have significantly different contexts which render their velocities incommensurable. Second, when velocity is used as a productivity measure, teams inevitably work to game their velocity. They inflate their estimates and focus on completing as many stories as possible at the expense of collaboration with as many stories as possible at the expense of collaboration with other teams (which might decrease their velocity and increase the other team’s velocity, making them look bad). Not only does this destroy the utility of velocity for its intended purpose, it also inhibits collaboration between teams.’&nbsp;</em><sup><em><a href="#footnote2">[2]</a></em></sup></p>
<h2>How should you use delivery metrics?</h2>
<p>Without knowing the exact problem you or your team faces, it's challenging to make a recommendation that can be helpful. Instead, I&nbsp;<a data-gc-link="https://twitter.com/buritica/status/1277745668505972736" href="https://twitter.com/buritica/status/1277745668505972736">asked engineering leaders for their questions</a>&nbsp;and found some common patterns.&nbsp;</p>
<h3>How do I convince my team about using metrics?</h3>
<p>In the last few years, I’ve advised several companies in the adoption of delivery metrics, and the first hurdle any leader has to cross is to sell their team on the use of these metrics. In my experience, convincing a team to adopt metrics is highly dependent on how well they understand the purpose of measuring, and how much they trust you. Unfortunately, metrics have been used to judge individual performance in ways that have negatively impacted employees beyond their actual performance, such as using lines of code. These poor management practices have eroded the trust between management and collaborators, and it’s normal for engineers to approach metrics with skepticism.&nbsp;</p>
<p>To successfully convince your team to adopt delivery metrics, you must have an obvious purpose for the metrics and solid reasoning for the outcomes you seek. Some questions you should be able to answer to your team members about your intention of measuring the delivery process can be:</p>
<ul><li data-gc-list-depth="1" data-gc-list-style="bullet">Why do we need metrics?</li>
<li data-gc-list-depth="1" data-gc-list-style="bullet">What are we going to measure?</li>
<li data-gc-list-depth="1" data-gc-list-style="bullet">Who will have access to these metrics?</li>
<li data-gc-list-depth="1" data-gc-list-style="bullet">Why did we pick these metrics, and which others could we have chosen?</li>
<li data-gc-list-depth="1" data-gc-list-style="bullet">What is our plan to move these metrics forward?</li>
<li data-gc-list-depth="1" data-gc-list-style="bullet">How will these metrics impact individuals?</li>
</ul><p>Engineering managers should hold their problem-solving abilities and reasoning to the same standards for engineers in their organization. In my case, writing a proposal that outlined my thinking in the form of an RFC helped iron out the details that weren’t clear, and my team helped make it more robust through their questions. You can&nbsp;<a data-gc-link="https://github.com/buritica/mgt/blob/master/rfcs/up-tempo.md" href="https://github.com/buritica/mgt/blob/master/rfcs/up-tempo.md">read the original version of this document here</a>.</p>
<p>The primary lesson I took from deploying delivery metrics was the importance of trust. For metrics to be successful, I needed my team to trust my intentions and embrace the strategy presented to them, especially when I didn’t have too many answers on the actual results we’d get. Not only should you have answers for the questions outlined above, and possibly others depending on your needs, the answers need to give confidence to your team …</p></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://leaddev.com/primer-engineering-delivery-metrics">https://leaddev.com/primer-engineering-delivery-metrics</a></em></p>]]>
            </description>
            <link>https://leaddev.com/primer-engineering-delivery-metrics</link>
            <guid isPermaLink="false">hacker-news-small-sites-24497746</guid>
            <pubDate>Wed, 16 Sep 2020 20:52:49 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Joblib: Running Python functions as pipeline jobs]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24497649">thread link</a>) | @gjvc
<br/>
September 16, 2020 | https://joblib.readthedocs.io/en/latest/ | <a href="https://web.archive.org/web/*/https://joblib.readthedocs.io/en/latest/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>Joblib is a set of tools to provide <strong>lightweight pipelining in
Python</strong>. In particular:</p><p>Joblib is optimized to be <strong>fast</strong> and <strong>robust</strong> on large
data in particular and has specific optimizations for <cite>numpy</cite> arrays. It is
<strong>BSD-licensed</strong>.</p><div id="vision">
<h3>Vision<a href="#vision" title="Permalink to this headline">¶</a></h3>
<p>The vision is to provide tools to easily achieve better performance and
reproducibility when working with long running jobs.</p>
<blockquote>
<div><ul>
<li><strong>Avoid computing the same thing twice</strong>: code is often rerun again and
again, for instance when prototyping computational-heavy jobs (as in
scientific development), but hand-crafted solutions to alleviate this
issue are error-prone and often lead to unreproducible results.</li>
<li><strong>Persist to disk transparently</strong>: efficiently persisting
arbitrary objects containing large data is hard. Using
joblib’s caching mechanism avoids hand-written persistence and
implicitly links the file on disk to the execution context of
the original Python object. As a result, joblib’s persistence is
good for resuming an application status or computational job, eg
after a crash.</li>
</ul>
</div></blockquote>
<p>Joblib addresses these problems while <strong>leaving your code and your flow
control as unmodified as possible</strong> (no framework, no new paradigms).</p>
</div><div id="main-features">
<h3>Main features<a href="#main-features" title="Permalink to this headline">¶</a></h3>
<ol>
<li><p><strong>Transparent and fast disk-caching of output value:</strong> a memoize or
make-like functionality for Python functions that works well for
arbitrary Python objects, including very large numpy arrays. Separate
persistence and flow-execution logic from domain logic or algorithmic
code by writing the operations as a set of steps with well-defined
inputs and  outputs: Python functions. Joblib can save their
computation to disk and rerun it only if necessary:</p>
<div><div><pre><span></span><span>&gt;&gt;&gt; </span><span>from</span> <span>joblib</span> <span>import</span> <span>Memory</span>
<span>&gt;&gt;&gt; </span><span>cachedir</span> <span>=</span> <span>'your_cache_dir_goes_here'</span>
<span>&gt;&gt;&gt; </span><span>mem</span> <span>=</span> <span>Memory</span><span>(</span><span>cachedir</span><span>)</span>
<span>&gt;&gt;&gt; </span><span>import</span> <span>numpy</span> <span>as</span> <span>np</span>
<span>&gt;&gt;&gt; </span><span>a</span> <span>=</span> <span>np</span><span>.</span><span>vander</span><span>(</span><span>np</span><span>.</span><span>arange</span><span>(</span><span>3</span><span>))</span><span>.</span><span>astype</span><span>(</span><span>np</span><span>.</span><span>float</span><span>)</span>
<span>&gt;&gt;&gt; </span><span>square</span> <span>=</span> <span>mem</span><span>.</span><span>cache</span><span>(</span><span>np</span><span>.</span><span>square</span><span>)</span>
<span>&gt;&gt;&gt; </span><span>b</span> <span>=</span> <span>square</span><span>(</span><span>a</span><span>)</span>                                   
<span>________________________________________________________________________________</span>
<span>[Memory] Calling square...</span>
<span>square(array([[0., 0., 1.],</span>
<span>       [1., 1., 1.],</span>
<span>       [4., 2., 1.]]))</span>
<span>___________________________________________________________square - 0...s, 0.0min</span>

<span>&gt;&gt;&gt; </span><span>c</span> <span>=</span> <span>square</span><span>(</span><span>a</span><span>)</span>
<span>&gt;&gt;&gt; </span><span># The above call did not trigger an evaluation</span>
</pre></div>
</div>
</li>
<li><p><strong>Embarrassingly parallel helper:</strong> to make it easy to write readable
parallel code and debug it quickly:</p>
<div><div><pre><span></span><span>&gt;&gt;&gt; </span><span>from</span> <span>joblib</span> <span>import</span> <span>Parallel</span><span>,</span> <span>delayed</span>
<span>&gt;&gt;&gt; </span><span>from</span> <span>math</span> <span>import</span> <span>sqrt</span>
<span>&gt;&gt;&gt; </span><span>Parallel</span><span>(</span><span>n_jobs</span><span>=</span><span>1</span><span>)(</span><span>delayed</span><span>(</span><span>sqrt</span><span>)(</span><span>i</span><span>**</span><span>2</span><span>)</span> <span>for</span> <span>i</span> <span>in</span> <span>range</span><span>(</span><span>10</span><span>))</span>
<span>[0.0, 1.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8.0, 9.0]</span>
</pre></div>
</div>
</li>
<li><p><strong>Fast compressed Persistence</strong>: a replacement for pickle to work
efficiently on Python objects containing large data (
<em>joblib.dump</em> &amp; <em>joblib.load</em> ).</p>
</li>
</ol>
</div></div>]]>
            </description>
            <link>https://joblib.readthedocs.io/en/latest/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24497649</guid>
            <pubDate>Wed, 16 Sep 2020 20:45:18 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[What happened to all the non-programmers? (2015)]]>
            </title>
            <description>
<![CDATA[
Score 93 | Comments 101 (<a href="https://news.ycombinator.com/item?id=24497470">thread link</a>) | @harporoeder
<br/>
September 16, 2020 | https://www.benkuhn.net/nonprog/ | <a href="https://web.archive.org/web/*/https://www.benkuhn.net/nonprog/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article><p>This week I found myself at yet another dinner party that mysteriously contained only two people who were not involved with the tech industry in some way.</p><p>As I looked around and realized for the hundredth time that I was surrounded by people exactly like me, something inside me snapped. I downloaded the latest <a href="http://www.census.gov/acs/www/data_documentation/public_use_microdata_sample/" target="_blank">American Community Survey microdata</a>, fired up R and started calculating feverishly.</p><p>It turns out that among people who</p><ul><li>are under 35</li><li>live in San Francisco, Berkeley or Oakland</li><li>and have at least a bachelor’s degree</li></ul><p>about 10% have a computer-related occupation. An additional 5% are employed in some other capacity by a strongly computer-related industry.</p><p>That’s not <em>nearly</em> large enough to explain how saturated with coders my social groups are. I have plenty of social circles that are (at least nominally) totally different from my work: contra dancers, people interested in effective altruism, folk musicians, friends from college, and so on. And yet I keep finding myself in the middle of a programmer monoculture. Why?</p><p>As <a href="http://xkcd.com/1480/" target="_blank">Randall Munroe recently suggested</a>, suggests, maybe taking up a sport would help expose me to a broader range of people. But which one? Obviously not football, since I’m barely 150 pounds and don’t like traumatic brain injuries. Preferably a more elegant sport that doesn’t require a bunch of awkward equipment. Maybe Ultimate or rock climbing–</p><p>Wait, crap.</p><p>Part of the problem is that my taste in hobbies is influenced by class lines and subculture in ways that I hadn’t realized before.<sup id="fnref:1"><a href="#fn:1" role="doc-noteref">1</a></sup> It turns out that even when it’s totally up to me, most of the things I’m interested in are strongly associated with a very particular band of socioeconomic status—a much smaller band than the set of “all bachelor’s degree holders” in my ACS analysis.</p><p>This stronger selection sneaks in when I try to pick a sport based on things like “elegance,” instead of “size of community” or “what I’ve been playing since I was five years old” or whatever other things people might pick sports for. In fact, just the fact that I’m interested in doing sports for leisure is associated with class, since it’s not something that would be so easy for, say, manual laborers or shift workers.</p><p>But I don’t think socioeconomic selection explains all of it. My parents’ friends were similarly selected, but they didn’t all have <em>literally the same job</em>, and the ones that did were usually coworkers—not people they had met socially who bizarrely all happened to work on the same stuff. My friends in other occupations with similar base rates—say, school teachers—don’t wonder where all the non-teachers are at social events. And I don’t even feel like I’m from a similar subculture to many programmers. What else could be going on?</p><ul><li><p>Maybe that crackpot-sounding stuff about the “programmer’s brain” actually has something to it. Maybe programmers are all drawn to the same activities because those activities are friendly to the programmer’s innately logical, systematizing and abstract habits of thought.</p></li><li><p>Programmers could talk about programming too much, or smell bad, or something, so people from other professions are less likely to put up with them at social events.</p></li><li><p>Perhaps the various subcultures of programmers are closer together, and more distinct from other subcultures, than I perceive. Maybe “programmer culture” is less analogous to other single professions and more analogous to “academic culture” or “hippie culture,” where it would be more reasonable to have that be your entire social group.</p></li><li><p>Maybe I miscalculated from the ACS data and there are actually way more programmers than the 10% number suggests.</p></li></ul><p>Unless I’ve miscalculated pretty badly, though, it’s clear that these social bubble effects are way stronger and more tenacious than I would have expected. And this is just one of the axes where it’s <em>obvious</em> that all the variance is being selected out. I wonder what more subtle facts are being selected for this strongly in my social groups?</p><section role="doc-endnotes"><hr><ol><li id="fn:1" role="doc-endnote"><p>When I lived in Boston, the people I associated with were determined mostly by my parents or my private high school/college, which is plenty enough to explain a monoculture without getting into class effects. <a href="#fnref:1" role="doc-backlink">↩︎</a></p></li></ol></section></article></div>]]>
            </description>
            <link>https://www.benkuhn.net/nonprog/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24497470</guid>
            <pubDate>Wed, 16 Sep 2020 20:33:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to Scale Your DevOps (Without a DevOops)]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24497441">thread link</a>) | @jacksonpollock
<br/>
September 16, 2020 | https://cto.ai/blog/how-to-scale-your-devops-without-a-devoops/ | <a href="https://web.archive.org/web/*/https://cto.ai/blog/how-to-scale-your-devops-without-a-devoops/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
			<!-- .cover -->
			<div>
				<p>I have worked in multiple startups and dabbled in venture capital, I’ve seen my fair share of engineering teams at the growth stage. <em>If </em>those companies built the right product at the right time, their engineering teams scale, and quickly.<br></p><p>Sometimes, we get to see these small scrappy teams composed of engineering generalists mature into well structured specialized teams, with well-functioning processes and automation. But what happens in between? Why is there always pain? And if the only universal truth about DevOps is that it’s hard to implement at maturity, why not do it earlier?</p><!--kg-card-begin: hr--><hr><!--kg-card-end: hr--><!--kg-card-begin: html--><br><!--kg-card-end: html--><h3 id="the-let-s-keep-it-simple-small-team"><br>The “Let’s Keep It Simple” Small Team</h3><p>Working in a small team, on a new product, is one of the most energizing experiences. If you have been fortunate enough to have worked in one, you can practically feel the mood. The energy is infectious. Everyone on the team is close-knit, pulling together on projects and releasing quickly and often. Issues pop up often but everyone rallies to solve them efficiently.<br></p><p>Small teams are masters at triage with the superpower of being able to solve any problem that comes their way.<br></p><p>There is usually at least one go-to developer who has the full context of the product and technology. These lynchpin devs are easy to reach and can provide a quick stamp of approval. In fact, communicating with your team is as frictionless as calling a desk over (or if you’re in a pandemic, messaging on Slack from a safe distance).<br></p><p>There is absolutely no need to implement world-class DevOps for your team of 10. Spending valuable time on unnecessary structure could mean you miss out on your market opportunities. <br></p><p><em><strong>DevOpportunities</strong></em><br></p><ol><li><strong>Chaos never lasts.</strong> The best thing you can do at this stage is to be aware that this chaotic bliss will not last forever. This will and should change quickly and nothing should be set in stone.</li><li><strong>Think about tomorrow.</strong> I’m a big believer in building things <em>not</em> to scale but it’s also prudent to keep tabs on what the future state of DevOps would look like when things scale. Even if you believe scalability isn’t an issue now or in the medium term, always ensure you account for maintainability.</li><li><strong>Keep it simple, stupid.</strong> If you are keen on implementing DevOps tools, adopt them in small units which are low cost and can be assembled later into a larger DevOps plan. Whatever you adopt needs to be easy to operate, simple to understand, and able to be removed or changed if needed.</li></ol><!--kg-card-begin: hr--><hr><!--kg-card-end: hr--><!--kg-card-begin: html--><br>
<!--kg-card-end: html--><h3 id="the-things-are-happening-fast-growth-team">The “Things Are Happening Fast” Growth Team</h3><p><br>The business is going well and feature requests are coming in. What happens next? The business will necessitate the engineering team to grow. When the team starts to increase in size, communication will break down.<br></p><p>This isn’t necessarily an inefficiency problem, it’s human nature. It’s difficult to keep the same professional relationship with your team of 30 engineers as it was when you were eight. To compound this issue, the team will still be putting out fires <em>constantly</em>. Even if everyone on the team has the same willingness to jump in, it is increasingly likely most will no longer have the context to do so.<br></p><div><p>Expect more stress to be put on the CTO as it becomes more apparent they are the last remaining soul on the team with the institutional knowledge to solve problems. As a result, they will spend less time being the forward-looking chief technologist in favor of solving the problems of today. </p></div><p><em><strong>DevOpportunities</strong></em><br></p><p>At this point it’s important to recognize what worked in the past will no longer be sufficient. Adaptability is going to be a core tenet of success, and simplifying processes and practice is a prerequisite to being adaptable. &nbsp;It is probably not a good use of time to implement a ‘Spotify Model’ of DevOps but that doesn’t mean small steps can’t be taken to ease the transition. It’s important to remember that DevOps is going to be a journey. Being able to accurately <em>measure</em> what is helping your team is just as important as immediate efficiency gains.<br></p><p>Potential solutions include:</p><ol><li><strong>Implement </strong><em><strong>Lean</strong></em><strong> Delivery Metrics.</strong> I said <em>lean! </em>you don’t need an entire dashboard of metrics (this can actually be detrimental). Identify the bottlenecks specific to your team and use metrics to monitor those key points.</li><li><strong>Increase transparency.</strong> Increase release/delivery transparency as well as more transparency on decision making. This will increase the likelihood of discovering issues quicker and bring more innovative ideas to the forefront.</li><li><strong>Build Communication. </strong>Be intentional about creating structured communication and create a pathway for team members to call out errors and voice important information</li><li><strong>Definite Roles. </strong>Be as clear as possible about defining roles and responsibilities across your team.</li></ol><!--kg-card-begin: hr--><hr><!--kg-card-end: hr--><!--kg-card-begin: html--><br>
<!--kg-card-end: html--><h3 id="the-we-need-it-all-mature-team">The “We Need it All” Mature Team</h3><p><br>Successful teams will still grow at a rapid pace. There are many uncontrollable business and market variables (let’s call them IRL environment variables) which drastically impact the structure of the engineering teams. The industry competitiveness or sudden product popularity might necessitate changes that impact a team dynamic.<br></p><div><p>It’s inevitable that changes required in engineering will be reactionary to what the company needs at that moment. Team leads emerge, PMs are hired, technologies are implemented which all represent the best short term solution with less than ideal foresight in future structure. I see this as a new era of specialization for the team and provides some momentary relief to the growth chaos (or a maybe a shift to a different type of chaos) as responsibilities become more defined. </p><p>Without careful monitoring, a culture will erode from “I know what my job is” over to “that’s not my job.” At the surface, it seems like a semantic change but if we double click on that culture shift it can have monumental impacts. Siloed units within teams will emerge and communication will break down further.</p></div><p>A bad engineering culture with the absence of any DevOps is the worst-case scenario for any software engineer, and the consequences for companies go far beyond losing top talent. When releases are slow, bugs persist and new features don’t get into the hands of users, the engineering team becomes a threat to the business instead of the source of value creation.<br></p><p><em><strong>DevOpportunities</strong></em></p><ol><li><strong>Avoid it all together.</strong> This is the stage we find our stereotypical engineering team in shambles. They finally realize they have fallen behind the industry and have to embark on a long painful journey to implement DevOps.The best thing to do is to not get to this point.</li><li><strong>Chip away at it.</strong> Mitigation is key, always keep foresight on future DevOps needs as your team grows. However, if you do find yourself in the position of a deteriorating engineering culture and don’t have the benefit of a time machine, the best thing you can do is start. How do you climb a mountain? One step at a time.</li><li><strong>Keep at it.</strong> Implementing (and committing to) standard processes is a small step but over time processes become practice and practice becomes culture.</li></ol><p><br>There are some key milestones your team will cross as a business grows. These points in time will provide a loose indication that changes to the DevOps process are required. However, it’s important to keep in mind that no two teams are alike and what works from some won’t work for all. There is no magic bullet solution that will make DevOps simple for all teams, if it was, everyone would already be doing it.<br></p><p>The most important thing we can do is be diligent and constantly revisit what best practices mean for your team. That means making some tough decisions. If you come across a tool or process which helped tremendously in the past that no longer works. Stop. Breathe. And have no fear in removing elements that are no longer useful. Your future self with thank you.</p>
			</div><!-- .post-content -->
			<!-- .post-footer -->
		</article></div>]]>
            </description>
            <link>https://cto.ai/blog/how-to-scale-your-devops-without-a-devoops/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24497441</guid>
            <pubDate>Wed, 16 Sep 2020 20:31:57 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[US Slams Visa Ban on Election Riggers in Nigeria]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 1 (<a href="https://news.ycombinator.com/item?id=24497344">thread link</a>) | @Daily-events
<br/>
September 16, 2020 | https://daily-events.com/forums/topic/us-slams-visa-ban-on-election-riggers-in-nigeria/?mref=Oluwole | <a href="https://web.archive.org/web/*/https://daily-events.com/forums/topic/us-slams-visa-ban-on-election-riggers-in-nigeria/?mref=Oluwole">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

		
		<p>The US says it has imposed visa restriction on some individuals for their actions during the Kogi and Bayelsa governorship elections.</p>
<p>In a statement on Monday, Mike Pompeo, secretary of state, said actions have also been taken against some persons in the run-up to the September and October 2020 governorship elections in Edo and Ondo.</p>
<p>The identities of those affected by the ban were not disclosed.</p>
<p>“<strong>In July 2019, we announced the imposition of visa restrictions on Nigerians who undermined the February and March 2019 elections. Today, the Secretary of State is imposing additional visa restrictions on individuals for their actions surrounding the November 2019 Kogi and Bayelsa State elections and in the run up to the September and October 2020 Edo and Ondo State elections,” </strong>the statement read.</p>
<p><strong>“These individuals have so far operated with impunity at the expense of the Nigerian people and have undermined democratic principles.</strong></p>
<p><strong>“The Department of State emphasises that the actions announced today are specific to certain individuals and not directed at the Nigerian people. This decision reflects the Department of State’s commitment to working with the Nigerian government to realise its expressed commitment to end corruption and strengthen democracy, accountability, and respect for human rights.”</strong></p>
<p>The US said it remained a steadfast supporter of Nigerian democracy and commended all those Nigerians who participated in elections throughout 2019 and have worked to strengthen democratic institutions and processes.</p>
<p>In the buildup to the 2019 elections, Pompeo had said those who interfere with the process must be held accountable.</p>
<p>Source:</p>


		
	</div></div>]]>
            </description>
            <link>https://daily-events.com/forums/topic/us-slams-visa-ban-on-election-riggers-in-nigeria/?mref=Oluwole</link>
            <guid isPermaLink="false">hacker-news-small-sites-24497344</guid>
            <pubDate>Wed, 16 Sep 2020 20:24:34 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[X Compose Key Instead of Swiss Keyboard Layout]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24497297">thread link</a>) | @paedubucher
<br/>
September 16, 2020 | https://paedubucher.ch/articles/2020-09-16-compose-key-on-x.html | <a href="https://web.archive.org/web/*/https://paedubucher.ch/articles/2020-09-16-compose-key-on-x.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>I've been using the Swiss keyboard layout for most of my life. Things changed
when I first had to work on a Mac Book. If the Swiss keyboard layout is not
great for programming on a usual keyboard, because it requires combinations with
Alt-Gr to type in braces and brackets, I consider the Mac version of it outright
horrible, because braces and brackets are located on the digits row. Those
symbols are not even painted onto their respective keys, which makes the
transition for non-Mac users even harder.</p>

<p>So instead of learning an additional inefficient way of typing in special
characters, I decided to adopt to the US keyboard layout. This layout gives you
most characters required for programming with a single key or a combination of
Shift and another key.</p>
<p>One issue of the US layout is that it doesn't provide characters such as <em>ö</em> or
<em>é</em>, which I still need to type in for emails, for documentation, and for this
article, of course. Mac OS provides a composing mechanism that lets you type a
double quote followed by a letter like <em>o</em>, and then combines those characters
to the German umlaut <em>ö</em>.  If you just want to type a double quotation mark,
you need to type Space right after it, so that the quotation mark is not
attempted to be combined with the next character entered. This is annoying, of
course, when programming. So I never really got warm with the Mac keyboard
layout and input method. An external keyboard with US layout didn't help much
in that respect, but at least allowed me to type in those cumbersome
combinations faster and more precisely.</p>

<p>Another solution to the goal conflict of typing in German umlauts and special
programming characters as fast as possible is to switch the keyboard layout as
needed. I'm very familier with this approach, because I use the Russian keyboard
layout once in a while. I modified my <a href="http://dwm.suckless.org/">dwm</a>
configuration so that pressing Super+Tab changes my keyboard layout using the
following script (<code>switchkb</code>):</p>
<pre><code>#!/bin/sh

layout="$(setxkbmap -query | grep layout | egrep -o [a-z]{2}$)"
if [ "$layout" == "ch" ]; then
    setxkbmap ru
elif [ "$layout" = "ru" ]; then
    setxkbmap us 
elif [ "$layout" = "us" ]; then
    setxkbmap ch
fi
</code></pre>
<p>This lets me cycle through the keyboard layouts I need very quickly. I also
display the currently active keyboard layout in my status bar using
<a href="http://tools.suckless.org/slstatus/">slstatus</a>, which I described in a
<a href="https://paedubucher.ch/articles/2020-09-05-openbsd-on-the-desktop-part-i.html">previous
article</a>.
Even though this is a feasible solution, I still have to switch mentally between
the Swiss German and the US keyboard layout. Typing in a double quote in a German
email requires me to press another key than typing in that very same character
when programming. This additional mental burden is wearing me down on a usual
working day, which consists of roughly 70% programming and 30% communicating.
The communication part might actually be bigger, but some of the communication
also takes part in English, so that I'd be better off using the US rather than
the Swiss German keyboard layout.</p>
<p>Typing cyrillic letters still requires the Russian keyboard layout, so I won't
get rid of my <code>switchkb</code> script and Super+Tab. However, since typing in
punctuation marks using the Russian keyboard layout is almost the same as
typing in those characters on the US keyboard layout, I rather ditch my native
Swiss German layout and embrace the imperialistic option.</p>

<p>While being able to write source code faster and not having to distinguish
between English, German, and Russian when typing in punctuation marks sounds
great in terms of <em>efficiency</em>, not typing in the typographically correct
representations of German umlauts (<em>Ae</em>, <em>Oe</em>, <em>Ue</em> instead of <em>Ä</em>, <em>Ö</em>, <em>Ü</em>)
or misspelling French words with accent marks (<em>depecherent</em> instead of
<em>dépêchèrent</em>) is bad in terms of communicating <em>effectively</em>. So there must be
at least a way to type in those characters somewhat efficiently.</p>
<p>One option would be to type in those characters as hexadecimal Unicode code
points.  I've already learned a few thereof by heart, such as U+2012, U+2013,
and U+2014 for dashes of different lenghts, or simple to remember ones like
U+00ab and U+00bb for guillemets (<em>«»</em>). In <code>vim</code>, those sequences can be
entered by presing Ctrl+V U followed by the part after U+. In GTK applications,
Ctrl+U enters a mode to enter those codes to be finished with a Space (or maybe
some other character not representing a hexadecimal digit).</p>
<p>However, remembering a lot of Unicode code points is not a very intuitive way
to type and probably leads to a lot of lookups on
<a href="https://www.fileformat.info/">FileFormat.Info</a>, which is at least a more
sophisticated way than just googling those character code points, which usually
ends up on FileFormat.Info anyway, or, worse, on a big Wikipedia page
discussing the history and cultural significance of the <code>LATIN SMALL LETTER C
WITH CEDILLA</code> (<em>ç</em>) before giving me it's code point U+00e7.</p>
<h2>Entering the Compose Key</h2>
<p>A better option is certainly the <em>Compose Key</em>. (Check out this <a href="https://en.wikipedia.org/wiki/Compose_key">Wikipedia
Article</a> for a discussion of its
history and cultural significance). Even though not even the nerdiest of nerd
keyboards come with a physical compose key nowadays, the X Window System still
supports the underlying mechanism. And since X is running on both my Arch Linux
and OpenBSD computers, using its compose key mechanism helps me both at work
and for my private computing, the latter consisting mostly of writing articles
about entering special characters on special computing setups and the like.</p>
<p>A good reference for this mechanism is the manual page <code>Compose(5)</code> or
<code>XCompose(5)</code> on both Arch Linux and OpenBSD. (I guess it also applies to
FreeBSD, but I didn't check yet). However, there's some additional information
required to do a basic setup, so here's a quick guide.</p>
<p>First, a compose key needs to be picked. There are various options, which can be
looked up as follows:</p>
<pre><code># OpenBSD
$ grep 'compose:' /usr/X11R6/share/X11/xkb/rules/base.lst

# Arch Linux
$ grep 'compose:' /usr/share/X11/xkb/rules/base.lst
</code></pre>
<p>Which shows a list of keys that could be used for the compose key:</p>
<pre><code>  compose:ralt         Right Alt
  compose:lwin         Left Win
  compose:lwin-altgr   3rd level of Left Win
  compose:rwin         Right Win
  compose:rwin-altgr   3rd level of Right Win
  compose:menu         Menu
  compose:menu-altgr   3rd level of Menu
  compose:lctrl        Left Ctrl
  compose:lctrl-altgr  3rd level of Left Ctrl
  compose:rctrl        Right Ctrl
  compose:rctrl-altgr  3rd level of Right Ctrl
  compose:caps         Caps Lock
  compose:caps-altgr   3rd level of Caps Lock
  compose:102          &amp;lt;Less/Greater&amp;gt;
  compose:102-altgr    3rd level of &amp;lt;Less/Greater&amp;gt;
  compose:paus         Pause
  compose:prsc         PrtSc
  compose:sclk         Scroll Lock
</code></pre>
<p>Caps Lock is a good choice, but would make it harder to type anonymous hate mail
in all-caps to people not agreeing on my operating system preferences.
Therefore I pick the Menu key, which I didn't even use once in my dark Windows
days. The compose key can be defined in <code>~/.xinitrc</code>, ideally together with the
choice of the aforementioned imperialistic keyboard layout:</p>
<pre><code>setxkbmap us
setxkbmap -option compose:menu
</code></pre>
<p>On my Thinkpad (running Arch Linux), I prefer the PrtSc key, which is placed
between AltGr and Ctrl on the right hand side of the Space bar. I don't often
take screenshots, since the content of my screen is mostly text, which is
better captured using primary selection. (Did I already mention that I use
Arch, btw.?)</p>
<pre><code>setxkbmap us
setxkbmap -option compose:prtsc
</code></pre>
<p>After restarting X, the compose key is ready for action. Now I can type <code>Menu "
O</code> to enter <em>Ö</em> on my PC (OpenBSD), or <code>PrtSc ' e</code> to enter <em>é</em> on my Laptop
(Arch Linux). Not all together at the same time, but as a sequence, which is
much more convenient.  Pre-defined sequences can be looked up in the compose
files under <code>/usr/X11/share/X11/locale/[locale]/Compose</code> on OpenBSD, or
<code>/us/share/X11/locale/[locale]/Compose</code> on Arch Linux, respectively. As locale,
I simply use <code>en_US.UTF-8</code> (imperialism, remember?), which gives me a wide
range of sequences (hand-picked examples):</p>
<pre><code>&lt;Multi_key&gt; &lt;C&gt; &lt;o&gt;             : "©"   copyright # COPYRIGHT SIGN
&lt;Multi_key&gt; &lt;R&gt; &lt;o&gt;             : "®"   registered # REGISTERED SIGN
&lt;Multi_key&gt; &lt;plus&gt; &lt;minus&gt;      : "±"   plusminus # PLUS-MINUS SIGN
&lt;Multi_key&gt; &lt;s&gt; &lt;s&gt;             : "ß"   ssharp # LATIN SMALL LETTER SHARP S
&lt;Multi_key&gt; &lt;E&gt; &lt;equal&gt;         : "€"   EuroSign # EURO SIGN
&lt;Multi_key&gt; &lt;u&gt; &lt;slash&gt;         : "µ"   mu # MICRO SIGN
&lt;Multi_key&gt; &lt;quotedbl&gt; &lt;A&gt;      : "Ä"   Adiaeresis # LATIN CAPITAL LETTER A WITH DIAERESIS
&lt;Multi_key&gt; &lt;acute&gt; &lt;E&gt;         : "É"   Eacute # LATIN CAPITAL LETTER E WITH ACUTE
&lt;Multi_key&gt; &lt;asciitilde&gt; &lt;N&gt;    : "Ñ"   Ntilde # LATIN CAPITAL LETTER N WITH TILDE
&lt;Multi_key&gt; &lt;comma&gt; &lt;c&gt;         : "ç"   ccedilla # LATIN SMALL LETTER C WITH CEDILLA
&lt;Multi_key&gt; &lt;v&gt; &lt;z&gt;             : "ž"   U017E # LATIN SMALL LETTER Z WITH CARON
</code></pre>
<p>Those sequences are very intuitive to type, so looking them up will hardly be
needed. This configuration also allows me to type in scientific
transliterations of Russian words, such as <em>Č</em> in <em>Čechov</em> (<code>Menu &lt; C</code>) instead
of the German <em>Tschechow</em> or the English <em>Chekov</em>. Same with <em>š</em> in <em>Puškin</em>
and <em>Ž</em> in <em>Dr. Živago</em>.</p>
<p>If those sequences do not suffice for one's particular needs, more sequences can
be defined in the file <code>~/.XCompose</code>. When doing so, it is important to also
include the original definitions mentioned above as follows, so that it's not
needed to re-define them all:</p>
<pre><code>include "%S/en_US.UTF-8/Compose"
</code></pre>
<p>The <code>%S</code> resolves to the path <code>/usr/X11R6/share/X11/locale</code> on OpenBSD and
<code>/usr/share/X11/locale</code> on Arch Linux. (<code>%L</code> would resolve to the current
locale and, thus, would be shorter, but I prefer the more explicit way using
<code>%S</code>.) Additional rules can be defined as follows:</p>
<pre><code>&lt;Multi_key&gt; &lt;colon&gt; &lt;minus&gt; &lt;parenright&gt; : "☺" U263A # WHITE SMILING FACE
</code></pre>
<p>This allows to type the smiley using <code>Menu : - )</code> on my OpenBSD machine, and
<code>PrtSc : - )</code> on my Arch Linux laptop. The left hand side of the colon defines
the key sequence. The right hand side defines a key symbol (<code>keysym</code> …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://paedubucher.ch/articles/2020-09-16-compose-key-on-x.html">https://paedubucher.ch/articles/2020-09-16-compose-key-on-x.html</a></em></p>]]>
            </description>
            <link>https://paedubucher.ch/articles/2020-09-16-compose-key-on-x.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24497297</guid>
            <pubDate>Wed, 16 Sep 2020 20:21:12 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Rockset: 1B Events in a Day with 1-Second Data Latency]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24497202">thread link</a>) | @box2A1
<br/>
September 16, 2020 | https://rockset.com/blog/rockset-1-billion-events-in-a-day-with-1-second-data-latency/ | <a href="https://web.archive.org/web/*/https://rockset.com/blog/rockset-1-billion-events-in-a-day-with-1-second-data-latency/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><h3>YADB (Yet Another Database Benchmark)</h3>
<p>The world has a plethora of database benchmarks, starting with the <a href="http://pages.cs.wisc.edu/~dewitt/includes/benchmarking/vldb83.pdf">Wisconsin Benchmark</a> which is my favorite. Firstly, that benchmark was from Dr David Dewitt, who taught me Database Internals when I was a graduate student at University of Wisconsin. Secondly, it is probably the earliest conference paper (circa 1983) that I ever read. And thirdly, the results of this paper displeased Larry Ellison so much that he inserted a clause in newer Oracle releases to prevent researchers from benchmarking the Oracle database.</p>
<p>The Wisconsin paper clearly describes how a benchmark measures very specific features of databases, so it follows that as database capabilities evolve, new benchmarks are needed. If you have a database that has new behavior not found in existing databases, then it is clear that you need a new benchmark to measure this new behavior of the database.</p>
<p>Today, we are introducing a new benchmark, RockBench, that does just this. RockBench is designed to measure the most important characteristics of a real-time database.</p>
<h3>What Is a Real-Time Database?</h3>
<p>A real-time database is one that can sustain a high write rate of new incoming data, while at the same time allowing applications to make queries based on the freshest of data. It is different from a transactional database where the most significant characteristic is the ability to perform transactions, which is why TPC-C is the most cited benchmark for transactional databases.</p>
<p>In typical database ACID parlance, a real-time database provides Atomicity and Durability of updates just like most other databases. It supports an eventual Consistency model, where updates show up in query results as quickly as possible. This time lag is referred to as data latency.  A real-time database is one that is designed to minimize data latency.</p>
<p>Different applications need different data latencies, and the ability to measure data latency allows users to choose one real-time database configuration over another based on the needs of their application. RockBench is the only benchmark at present that measures the data latency of a database at varying write rates.</p>
<p>Data latency is different from query latency, which is what is typically used to benchmark transactional databases. We posit that one of the distinguishing factors that differentiates one real-time database from another is data latency. We designed a benchmark called <a href="https://github.com/rockset/rockbench">RockBench</a> that can measure the data latency of a real-time database.</p>
<h3>Why Is This Benchmark Relevant in the Real World?</h3>
<p><strong>Real-time analytics use cases.</strong> There are many decision-making systems that leverage large volumes of streaming data to make quick decisions. When a truck arrives at a loading dock, a fleet management system would need to produce a loading list for the truck by examining delivery deadlines, delay-charge estimates, weather forecasts and modeling of other trucks that are arriving in the near future. This type of decision-making system would use a real-time database. Similarly, a product team would look at product clickstreams and user feedback in real time to determine which feature flags to set in the product. The volume of incoming click logs is very high and the time to gather insights from this data is low. This is another use case for a real-time database. Such use cases are becoming the norm these days, which is why measuring the data latency of a real-time database is useful. It allows users to pick the right database for their needs based on how quickly they want to extract insights from their data streams.</p>
<p><strong>High write rates.</strong> The most critical measurement for a real-time database is the write rate it can sustain while supporting queries at the same time. The write rate could be bursty or periodic, depending on the time of the day or the day of the week. This behavior is like a streaming logging system that can take in large volumes of writes. However, one difference between a real-time database and a streaming logging system is that the database provides a query API that can perform random queries on the event stream. With writing and querying of data, there is always an inherent tradeoff between high write rates and the visibility of data in queries, and this is precisely what RockBench measures.</p>
<p><strong>Semi-structured data.</strong> Most of real-life decision-making data is in semi-structured form, e.g. JSON, XML or CSV. New fields get added to the schema and older fields are dropped. The same field can have multi-typed values. Some fields have deeply nested objects. Before the advent of real-time databases, a user would typically use a data pipeline to clean and homogenize all the fields, flatten nested fields, denormalize nested objects and then write it out it to a data warehouse like Redshift or Snowflake. The data warehouse is then used to gather insights from their data. These data pipelines add to data latency. On the other hand, a real-time database eliminates the need for some of these data pipelines and simultaneously offers lower data latency. This benchmark uses data in JSON format to simulate more of these types of real-life scenarios.</p>
<h3>Overview of RockBench</h3>
<p>RockBench comprises a Data Generator and a Data Latency Evaluator. The Data Generator simulates a real-life event workload, where every generated event is in JSON format and schemas can change frequently. The Data Generator produces events at various write rates and writes them to the database. The Data Latency Evaluator queries the database periodically and outputs a metric that measures the data latency at that instant.  A user can vary the write rate and measure the observed data latency of the system.</p>
<p><img src="https://images.ctfassets.net/1d31s1aajogl/4hh0BRpcquIlrm5cK2ivEf/20edd90be6b0660e2c1689b0da67965d/rockbench-database-test.png" alt="rockbench-database-test">
<em>Multiple instances of the benchmark connect to the database under test</em></p>
<p>The <a href="https://rockset.com/Evaluating_Data_Latency_for_Real_Time_Databases.pdf">Evaluating Data Latency for Real-Time Databases</a> white paper provides a detailed description of the benchmark. The size of an event is chosen to be around 1K bytes, which is what we found to be the sweet spot for many real-life systems. Each event has nested objects and arrays inside it. We looked at a lot of publicly available events streams like Twitter events, stock market events and online gaming events to pick these characteristics of the data that this benchmark uses.</p>
<h3>Results of Running RockBench on Rockset</h3>
<p>Before we analyze the results of the benchmark, let’s refresh our memory of Rockset’s <a href="https://rockset.com/blog/aggregator-leaf-tailer-an-architecture-for-live-analytics-on-event-streams/">Aggregator Leaf Tailer</a> (ALT) architecture. The ALT architecture allows Rockset to scale ingest compute and query compute separately. This benchmark measures the speed of indexing in Rockset’s <a href="https://rockset.com/blog/converged-indexing-the-secret-sauce-behind-rocksets-fast-queries/">Converged Index™</a>, which maintains an inverted index, a columnar store and a record store on all fields. The benefit of building all indices is that queries are fast because it can leverage any of these pre-built indices. The data latency that we record in our benchmarking is a measure of how fast Rockset can index streaming data. Complete results can be found <a href="https://rockset.com/Evaluating_Data_Latency_for_Real_Time_Databases.pdf">here</a>.</p>
<p><img src="https://images.ctfassets.net/1d31s1aajogl/1q7BFjCAsnbWNb10jzBnlo/3c56104981e2e264b7a788c36962270c/rockbench-rockset-4xl-50.png" alt="rockbench-rockset-4xl-50">
<em>Rockset p50 and p95 data latency using a 4XLarge Virtual Instance at a batch size of 50</em></p>
<p>The first observation is that a Rockset 4XLarge Virtual Instance can support a billion events flowing in every day (approx. 12K events/sec) while keeping the data latency to under 1 second. This write rate is sufficient to support a variety of use cases, ranging from fleet management operations to handling events generated from sensors.</p>
<p>The second observation is that if you have to support a higher write rate, it is as simple as upgrading to the next higher Rockset Virtual Instance. Rockset is scalable, and depending on the amount of resources you dedicate, you can reduce your data latency or support higher write rates. Extrapolating from these benchmark results: an online gaming system that produces 40K events/sec and requires a data latency of 1 second may be satisfied with a Rockset 16XLarge Virtual Instance. Also, migrating from one Rockset Virtual Instance to another does not cause any downtime, which makes it easy for users to migrate from one instance to another.</p>
<p>The third observation is that if you are running on a fixed Rockset Virtual Instance and your write rate increases, the benchmark results show that there is a gradual and linear increase in the data latency until CPU resources are saturated. In all these cases, the compute resource on the leaf is the bottleneck, because this compute is the resource that makes recently written data queryable immediately. Rockset delegates compaction CPU to <a href="https://rockset.com/blog/remote-compactions-in-rocksdb-cloud">remote compactors</a>, but some minimum CPU is still needed on the leaves to copy files to and from cloud storage.</p>
<p>Rockset uses a specialized <a href="https://rockset.com/blog/optimizing-bulk-load-in-rocksdb/">bulk-load</a> mechanism to index stationary data and that can load data at terabytes/hour, but this benchmark is not to measure that functionality. This benchmark is purposely used to measure the data latency of high-velocity data when new data is arriving at a fast rate and needs to be immediately queried.</p>
<h3>Futures</h3>
<p>In its current form, the workload generator issues writes at a specified constant rate, but one of the improvements that users have requested is to make this benchmark simulate a bursty write rate. Another improvement is to add an overwrite feature that overwrites some documents that already exists in the database. Yet another requested feature is to vary the schema of some of the generated documents so that some fields are sparse.</p>
<p>RockBench is designed to be extensible, and we hope that developers in the database community would contribute code to make this benchmark run on other real-time databases as well.</p>
<p>I am thrilled to see the results of RockBench on Rockset. It demonstrates the value of real-time databases, like Rockset, in enabling real-time analytics by supporting streaming ingest of thousands of events per second while keeping data latencies in the low seconds. My hope is that RockBench will provide developers an essential tool for measuring data latency and selecting the appropriate real-time database configuration for their application requirements.</p>
<p><strong>Resources:</strong></p>
<ul>
<li><a href="https://github.com/rockset/rockbench">RockBench GitHub repository</a></li></ul></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://rockset.com/blog/rockset-1-billion-events-in-a-day-with-1-second-data-latency/">https://rockset.com/blog/rockset-1-billion-events-in-a-day-with-1-second-data-latency/</a></em></p>]]>
            </description>
            <link>https://rockset.com/blog/rockset-1-billion-events-in-a-day-with-1-second-data-latency/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24497202</guid>
            <pubDate>Wed, 16 Sep 2020 20:15:23 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Mouthwashes could reduce the risk of coronavirus transmission]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24497096">thread link</a>) | @dna_polymerase
<br/>
September 16, 2020 | https://news.rub.de/english/press-releases/2020-08-10-virology-mouthwashes-could-reduce-risk-coronavirus-transmission | <a href="https://web.archive.org/web/*/https://news.rub.de/english/press-releases/2020-08-10-virology-mouthwashes-could-reduce-risk-coronavirus-transmission">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>Results from cell culture experiments show that commercially available preparations have an effect on Sars-Cov-2 viruses.</p><div>
    <p>Sars-Cov-2 viruses can be inactivated using certain commercially available mouthwashes. This was demonstrated in cell culture experiments by virologists from Ruhr-Universität Bochum together with colleagues from Jena, Ulm, Duisburg-Essen, Nuremberg and Bremen. High viral loads can be detected in the oral cavity and throat of some Covid-19 patients. The use of mouthwashes that are effective against Sars-Cov-2 could thus help to reduce the viral load and possibly the risk of coronavirus transmission over the short term. This could be useful, for example, prior to dental treatments. However, mouth rinses are not suitable for treating Covid-19 infections or protecting yourself against catching the virus.</p>
<p>The results of the study are described by the team headed by Toni Meister, Professor Stephanie Pfänder and Professor Eike Steinmann from the Bochum-based Molecular and Medical Virology research group in the Journal of Infectious Diseases, published online on 29 July 2020. A review of laboratory results in clinical trials is pending.</p>
<h4>
	Eight mouthwashes in a cell culture test</h4>
<p>The researchers tested eight mouthwashes with different ingredients that are available in pharmacies or drugstores in Germany. They mixed each mouthwash with virus particles and an interfering substance, which was intended to recreate the effect of saliva in the mouth. The mixture was then shaken for 30 seconds to simulate the effect of gargling. They then used Vero E6 cells, which are particularly receptive to Sars-Cov-2, to determine the virus titer. In order to assess the efficacy of the mouthwashes, the researchers also treated the virus suspensions with cell culture medium instead of the mouthwash before adding them to the cell culture.</p>
<p>All of the tested preparations reduced the initial virus titer. Three mouthwashes reduced it to such an extent that no virus could be detected after an exposure time of 30 seconds. Whether this effect is confirmed in clinical practice and how long it lasts must be investigated in further studies.</p>
<p>The authors point out that mouthwashes are not suitable for treating Covid-19. “Gargling with a mouthwash cannot inhibit the production of viruses in the cells,” explains Toni Meister, “but could reduce the viral load in the short term where the greatest potential for infection comes from, namely in the oral cavity and throat – and this could be useful in certain situations, such as at the dentist or during the medical care of Covid-19 patients.”</p>
<h4>
	Clinical studies in progress</h4>
<p>The Bochum group is examining the possibilities of a clinical study on the efficacy of mouthwashes on Sars-Cov-2 viruses, during which the scientists want to test whether the effect can also be detected in patients and how long it lasts. Similar studies are already underway in San Francisco; the Bochum team is in contact with the American researchers.</p>

            <div>
              <p>
                Funding
              </p>
              <p>The work was funded by the European Union as part of the Horizon 2020 programme (grant number 101003555) and by Stiftung Universitätsmedizin Essen.</p>
            </div>
          

            <div>
              <p>
                Original publication
              </p>
              <p>Toni Luise Meister, Yannick Brüggemann, Daniel Todt, Carina Conzelmann, Janis A. Müller, Rüdiger Groß, Jan Münch, Adalbert Krawczyk, Jörg Steinmann, Jochen Steinmann, Stephanie Pfaender, Eike Steinmann: Virucidal efficacy of 1 different oral rinses against SARS-CoV-2, in: Journal of Infectious Diseases, 2020, DOI: <a target="_blank" href="https://academic.oup.com/jid/article/doi/10.1093/infdis/jiaa471/5878067">10.1093/infdis/jiaa471</a></p>
            </div>
          

            <div>
              <p>
                Press contact
              </p>
              <div>
                
                <p>Prof. Dr. Eike Steinmann<br>
	Department for Molecular &amp; Medical Virology<br>
	Faculty of Medicine<br>
	Ruhr-Universität Bochum<br>
	Germany<br>
	Phone: +49 234 32 28189<br>
	Email: <a href="mailto:eike.steinmann@rub.de">eike.steinmann@rub.de</a></p>
<p>Prof. Dr. Stephanie Pfänder<br>
	Department for Molecular &amp; Medical Virology<br>
	Faculty of Medicine<br>
	Ruhr-Universität Bochum<br>
	Germany<br>
	Phone: +49 234 32 29278<br>
	Email: <a href="mailto:stephanie.pfaender@rub.de">stephanie.pfaender@rub.de</a></p>
<p>Toni Luise Meister<br>
	Department for Molecular &amp; Medical Virology<br>
	Faculty of Medicine<br>
	Ruhr-Universität Bochum<br>
	Germany<br>
	Phone: +49 234 32 26465<br>
	Email: <a href="mailto:toni.meister@rub.de">toni.meister@rub.de</a></p>

              </div>
            </div>
          
  </div></div>]]>
            </description>
            <link>https://news.rub.de/english/press-releases/2020-08-10-virology-mouthwashes-could-reduce-risk-coronavirus-transmission</link>
            <guid isPermaLink="false">hacker-news-small-sites-24497096</guid>
            <pubDate>Wed, 16 Sep 2020 20:08:30 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Ongoing Expenses vs. One-Time Expenses]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24496976">thread link</a>) | @Lukas1994
<br/>
September 16, 2020 | https://www.causal.app/blog/ongoing-expenses-vs-one-time-expenses | <a href="https://web.archive.org/web/*/https://www.causal.app/blog/ongoing-expenses-vs-one-time-expenses">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><em>Note:&nbsp;this was originally published at </em><a href="https://alexoppenheimer.substack.com/" target="_blank"><em>https://alexoppenheimer.substack.com/</em></a>‍</p><p>As you step down an income statement, the first thing you see is revenue. Revenue is the amount of money a company earns for delivering goods and services. The next stop is cost of goods sold (COGS). These are the costs associated with the specific things that you sell. In economic terms, COGS is variable expenses - the more you sell, the more you pay. Below that comes operating expenses: Sales &amp; Marketing, Research &amp; Development, General &amp; Administrative. In economics terms, these are fixed costs - meaning that they are not directly tied to the volume that you sell. As I have mentioned before, there are times when accounting definitions don't evolve fast enough to keep up with business innovations and therefore things can get incorrectly categorized, creating a chasm between the proper accounting and the economic reality of a business.</p><p>In the world of recurring revenue businesses, the company invests upfront in customer acquisition with the hope that the customer will continue to pay them long into the future. Those upfront costs are considered customer acquisition cost and include the associated sales and marketing expenses: one-time expeses. But there are other costs included in bringing on a new customer and keeping them: implementation, service, customer success, etc. Things like marketing are clearly one-time costs and things like service are clearly recurring costs. Implementation is a one-time expense and customer success is a recurring expense.</p><p>But what if the same department or individual is handling multiple elements of the customer life cycle? A very practical example is customer success - sometimes they are working on a providing a service to keep customers happy and other times they are working on upselling customers. Allocating the expenses here is not so clear. One good option is to figure out their time split and divide the expense accordingly. The goal is to accurately represent the business so that you can plan and project correctly.</p><p>One of the big mistakes people make is putting ongoing expenses into the sales and marketing line where they are treated as a one-time expense. When you do a basic calculation on unit economics for a SaaS company, you usually look at ARR, Gross Margin, and then CAC (some combination of Sales &amp; Marketing). If you incorrectly allocate expenses into S&amp;M, then the gross margin will be higher but the CAC will also be higher. Over long periods of time this has a big impact on the unit economics of the business and the long term profitability.</p><p>I built this model in Causal to illustrate this impact - check it out.</p><p><a href="https://my.causal.app/models/14830">https://my.causal.app/models/14830</a></p><figure id="w-node-160270ea9073-51d2da99"><p><img src="https://uploads-ssl.webflow.com/5e8a043bfbc2c035b4d8e5b5/5f6135d3cb5cd99caf8e6437_https%253A%252F%252Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%252Fpublic%252Fimages%252Fb7d3755e-e4ba-458e-afa2-b76154e3be97_1280x475.png" alt=""></p></figure><p>‍</p></div></div>]]>
            </description>
            <link>https://www.causal.app/blog/ongoing-expenses-vs-one-time-expenses</link>
            <guid isPermaLink="false">hacker-news-small-sites-24496976</guid>
            <pubDate>Wed, 16 Sep 2020 20:00:52 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Electric Bike Unicorns Nobody Is Talking About]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24496940">thread link</a>) | @123six
<br/>
September 16, 2020 | https://www.zapevs.com/blog/the-electric-bike-unicorns-nobody-is-talking-about | <a href="https://web.archive.org/web/*/https://www.zapevs.com/blog/the-electric-bike-unicorns-nobody-is-talking-about">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>2020 has been an incredible year for electric vehicles. There are now over 500 EVs on the market today across <a href="https://www.zapevs.com/electric-vehicles/electric-cars">cars</a>, <a href="https://www.zapevs.com/electric-vehicles/electric-bikes">bikes</a>, <a href="https://www.zapevs.com/electric-vehicles/electric-scooters">scooters</a>, and <a href="https://www.zapevs.com/electric-vehicles/electric-boards">skateboards</a>, many of which launched in the last year or two.<br></p><p>Despite the recent surge in EV interest, most of the excitement and attention in the industry has been directed at Tesla, in part due to their recent stock market performance.<br></p><p>They’ve certainly earned it, but with so much attention on Tesla, we’re at risk of overlooking some of the other wonderful EV businesses that are growing very fast at scale.<br></p><p>Two in particular come to mind, <a href="https://www.avantlink.com/click.php?tt=cl&amp;merchant_id=3ea584b8-942d-4804-bba4-365e395d607b&amp;website_id=06b47dc6-f9cf-48af-90ed-1297febabd0d&amp;url=https%3A%2F%2Fwww.radpowerbikes.com%2F">Rad Power Bikes</a> and <a href="https://www.vanmoof.com/en-NL">VanMoof</a>.<br></p><h3>The Story of Rad Power Bikes<br></h3><p>Just a few days ago, Rad Power Bikes CEO Mike Radenbough did <a href="https://www.avantlink.com/click.php?tt=cl&amp;merchant_id=3ea584b8-942d-4804-bba4-365e395d607b&amp;website_id=06b47dc6-f9cf-48af-90ed-1297febabd0d&amp;url=https%3A%2F%2Fwww.radpowerbikes.com%2Fblogs%2Fthe-scenic-route%2Fmike-radenbaugh-npr-how-i-built-this">an interview</a> on ‘How I Built This’, where he shared some mind-bending growth numbers and milestones with the host, Guy Raz.<br></p><p>A few highlights:<br></p><ul role="list"><li>Rad Power Bikes started 5 years ago with an IndieGogo crowdfunding campaign&nbsp;<br></li></ul><ul role="list"><li>Today, Rad Power Bikes has 25% of America’s electric bike market, and are the largest electric bike producer in the US<br></li></ul><ul role="list"><li>Last year (2019) they did almost $100 million in sales<br></li></ul><ul role="list"><li>This year, they’re on track to grow sales by 300%<br></li></ul><ul role="list"><li>Right now, Rad Power Bikes actually has more bike orders waiting to be fulfilled, than the sum of all bikes the company has ever sold in company history.<br></li></ul><h3>How Big Is America's Electric Bike Industry?</h3><p>Let’s do some quick math here.<br></p><p>Rad Power Bikes current models start at <a href="https://www.avantlink.com/click.php?tt=cl&amp;merchant_id=3ea584b8-942d-4804-bba4-365e395d607b&amp;website_id=06b47dc6-f9cf-48af-90ed-1297febabd0d&amp;url=https%3A%2F%2Fwww.radpowerbikes.com%2Fproducts%2Fradmission-electric-metro-bike">$999 for the RadMission 1</a>, and get up to <a href="https://www.avantlink.com/click.php?tt=cl&amp;merchant_id=3ea584b8-942d-4804-bba4-365e395d607b&amp;website_id=06b47dc6-f9cf-48af-90ed-1297febabd0d&amp;url=https%3A%2F%2Fwww.radpowerbikes.com%2Fproducts%2Fradrunner-plus">$1,699 for the RadRunner Plus</a>, with an average price <a href="https://www.zapevs.com/electric-vehicles/electric-bikes?company=rad-power-bikes">across the entire fleet of $1,449</a>.<br></p><p>$400 million in 2020 sales divided by an average purchase price of $1,449 means Rad Power Bikes is on pace to sell upwards of 276K bikes this year.<br></p><p>If those 276K bikes represent 25% of the US electric bikes sold in 2020, that means Americans are on pace to buy roughly 1.1 million electric bikes this year.<br></p><p>For reference, Americans only <a href="http://ev-sales.blogspot.com/2020/01/markets-roundup-december-2019.html">bought 325,000 electric cars last year</a>, a number that is actually on pace to decrease in 2020 according to <a href="https://www.ev-volumes.com/">EV Volumes</a>. This means Americans are buying 3-4 electric bikes for every electric car purchased this year. Impressive.&nbsp;<br></p><h3>The Electric Bike Hype Is Real</h3><p>While Rad Power Bikes certainly got a sales boost from the pandemic, the acceleration of electric bike sales in America was well underway before 2020.&nbsp;<br></p><p>Don’t forget, Rad went from an Indiegogo crowdfunding campaign in 2015 to almost $100 million in sales in 2019, before the pandemic hit. 2020 has just added fuel to the fire.<br></p><p>And Rad Power Bikes isn’t the only electric bike company seeing big time growth.</p><h3>VanMoof Is Expanding<br></h3><p>VanMoof is a Netherlands based electric bike company with some big news to share.<br></p><p>Earlier today, <a href="https://www.zapevs.com/electric-vehicles/electric-bikes?company=vanmoof">VanMoof</a> announced <a href="https://www.marketwatch.com/story/tesla-of-e-bikes-sets-sights-on-an-ipo-as-it-brings-in-another-40-million-in-venture-capital-funding-11600250469">$40 million of fresh fundraising</a>, only four months after raising <a href="https://venturebeat.com/2020/05/12/vanmoof-raises-13-5-million-for-electric-bikes-as-cities-reclaim-roads-from-cars/">$13.5 million</a> to expand their business worldwide.<br></p><p>Back in May, the company said that 2019 revenues had quadrupled, from $11.8 million USD to $47.3 million USD.<br></p><p>Then, in today’s press release, VanMoof announced that they expect to top $100 million of sales this year.<br></p><p>That means they’re sitting on a $50 million war chest, with $100 million of annual revenue and triple digit sales growth in each of the last two years. Incredible.<br></p><p>We don’t know much about their profit margins, but I wouldn’t be surprised if VanMoof was already profitable. Rad Power Bikes sure is.<br></p><p>In fact, Rad Power Bikes <a href="https://www.prnewswire.com/news-releases/rad-power-bikes-accelerates-direct-to-consumer-business-with-investment-from-co-founders-behind-zulily-and-blue-nile-300818242.html">has been profitable every year since 2015</a>, and they’re on track to go from $0 to almost $400 million in just five years.<br></p><p>If you’re still not sold on the idea that electric bikes are a big deal, I’ll leave you with a prediction.<br></p><p><strong>By 2023, either Rad Power Bikes or VanMoof will be taken public via a SPAC merger, valued above $1 billion.</strong><br></p><p>Tell me why I’m wrong <a href="https://twitter.com/kerooke">here</a>.</p></div></div>]]>
            </description>
            <link>https://www.zapevs.com/blog/the-electric-bike-unicorns-nobody-is-talking-about</link>
            <guid isPermaLink="false">hacker-news-small-sites-24496940</guid>
            <pubDate>Wed, 16 Sep 2020 19:58:24 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How is 10k written in Roman Numerals? – Integers.co]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24496805">thread link</a>) | @kamaraju
<br/>
September 16, 2020 | https://www.integers.co/questions-answers/how-is-10000-written-in-roman-numerals.html | <a href="https://web.archive.org/web/*/https://www.integers.co/questions-answers/how-is-10000-written-in-roman-numerals.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <div>
        <div>
            
            <!-- Integers.co Responsive -->
            <h2>Why is 10,000 written in Roman Numerals as <label>X</label>?</h2>
            <p>Roman Numerals are an ancient way of writing numbers that originated in ancient Rome.</p>
            <p>It is still used today, but mainly for date purposes (like with Super Bowl L for Super Bowl 50) or for movie
                series (Star Wars IV - A New Hope).</p>

            <p>Here are the main symbols that are used:</p>

            <h3>Basic Roman Numeral Symbols</h3>
            <div>
                <table>
                    <tbody><tr>
                        <td>1</td>
                        <td>5</td>
                        <td>10</td>
                        <td>50</td>
                        <td>100</td>
                        <td>500</td>
                        <td>1,000</td>
                    </tr>
                    <tr>
                        <td><strong>I</strong></td>
                        <td><strong>V</strong></td>
                        <td><strong>X</strong></td>
                        <td><strong>L</strong></td>
                        <td><strong>C</strong></td>
                        <td><strong>D</strong></td>
                        <td><strong>M</strong></td>
                    </tr>
                </tbody></table>
            </div>
            <h3>Basic Combinations</h3>
            <div>
                <table>
                    <tbody><tr>
                        <td>1</td>
                        <td>2</td>
                        <td>3</td>
                        <td>4</td>
                        <td>5</td>
                        <td>6</td>
                        <td>7</td>
                        <td>8</td>
                        <td>9</td>
                    </tr>
                    <tr>
                        <td><strong>I</strong></td>
                        <td><strong>II</strong></td>
                        <td><strong>III</strong></td>
                        <td><strong>IV</strong></td>
                        <td><strong>V</strong></td>
                        <td><strong>VI</strong></td>
                        <td><strong>VII</strong></td>
                        <td><strong>VIII</strong></td>
                        <td><strong>IX</strong></td>
                    </tr>
                </tbody></table>
            </div>
            <div>
                <table>
                    <tbody><tr>
                        <td>10</td>
                        <td>20</td>
                        <td>30</td>
                        <td>40</td>
                        <td>50</td>
                        <td>60</td>
                        <td>70</td>
                        <td>80</td>
                        <td>90</td>
                    </tr>
                    <tr>
                        <td><strong>X</strong></td>
                        <td><strong>XX</strong></td>
                        <td><strong>XXX</strong></td>
                        <td><strong>XL</strong></td>
                        <td><strong>L</strong></td>
                        <td><strong>LX</strong></td>
                        <td><strong>LXX</strong></td>
                        <td><strong>LXXX</strong></td>
                        <td><strong>XC</strong></td>
                    </tr>
                </tbody></table>
            </div>
            <div>
                <table>
                    <tbody><tr>
                        <td>100</td>
                        <td>200</td>
                        <td>300</td>
                        <td>400</td>
                        <td>500</td>
                        <td>600</td>
                        <td>700</td>
                        <td>800</td>
                        <td>900</td>
                    </tr>
                    <tr>
                        <td><strong>C</strong></td>
                        <td><strong>CC</strong></td>
                        <td><strong>CCC</strong></td>
                        <td><strong>CD</strong></td>
                        <td><strong>D</strong></td>
                        <td><strong>DC</strong></td>
                        <td><strong>DCC</strong></td>
                        <td><strong>DCCC</strong></td>
                        <td><strong>CM</strong></td>
                    </tr>
                </tbody></table>
            </div>
            <h3>Large Numbers</h3>
            <p>For numbers over 1,000, you put a dash over the top of the Roman Numeral to indicate multiplied by 1,000.</p>
            <div>
                <table>
                    <tbody><tr>
                        <td>5,000</td>
                        <td>10,000</td>
                        <td>50,000</td>
                        <td>100,000</td>
                        <td>500,000</td>
                        <td>1,000,000</td>
                    </tr>
                    <tr>
                        <td><span><strong>V</strong></span></td>
                        <td><span><strong>X</strong></span></td>
                        <td><span><strong>L</strong></span></td>
                        <td><span><strong>C</strong></span></td>
                        <td><span><strong>D</strong></span></td>
                        <td><span><strong>M</strong></span></td>
                    </tr>
                </tbody></table>
            </div>
            <h2>How is 10,000 converted to Roman Numerals?</h2>
            <p>To convert 10,000 to Roman Numerals we need to split it up into place values (ones, tens, hundreds, etc.), like this:</p>
            <div>
                <table>
                    <thead>
                    <tr>
                        <th>Place Value</th>
                        <th>Number</th>
                        <th>Roman Numeral</th>
                    </tr>
                    </thead>
                    <tbody><tr><td>Ten Thousands</td><td>10,000</td><td><label>X</label></td>                </tr></tbody></table>
            </div>
            <p><span>Please note, we skipped place values that equal 0.</span></p>
            <p>You then combine them all together (starting from the top) to get <strong><label>X</label></strong>.</p>
                            <h2>How are the numbers near 10,000 written in Roman Numerals?</h2>
                
                                </div>
    </div>
</div></div>]]>
            </description>
            <link>https://www.integers.co/questions-answers/how-is-10000-written-in-roman-numerals.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24496805</guid>
            <pubDate>Wed, 16 Sep 2020 19:48:00 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: How many U.S. cities can you name?]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 1 (<a href="https://news.ycombinator.com/item?id=24496685">thread link</a>) | @iafisher
<br/>
September 16, 2020 | https://iafisher.com/projects/cities/usa | <a href="https://web.archive.org/web/*/https://iafisher.com/projects/cities/usa">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div class="page">
  <p>
    Warning!
    <span id="warning-message"></span>
  </p>
  <p>
    Sorry, an error occurred.
    <span id="error-message"></span>
  </p>

  
<p>
  <strong>New!</strong>
  <a href="https://iafisher.com/projects/cities/asia">How many Asian cities can you name?</a>
</p>


  
  

  
  <svg id="map" width="960" height="600"></svg>
  

  

  <div id="stats-box">
    
<p>
  You named <span id="stat-total">0 cities</span>, with a total population of <span id="stat-pop">0</span> (<span id="stat-pop-perc">0.00</span>% of the national urban population in 2010).
</p>


    <p id="population-radio">
      Bubble size:
      <label>
        
        by population
      </label>
      <label>
        
        normal
      </label>
      <label>
        
        small
      </label>
      <label>
        
        tiny
      </label>
    </p>

    

    
<p id="try-it">
  Like this game? Try <a href="https://iafisher.com/projects/cities/europe">the Europe map</a>!
</p>




    

    
  </div>
</div></div>]]>
            </description>
            <link>https://iafisher.com/projects/cities/usa</link>
            <guid isPermaLink="false">hacker-news-small-sites-24496685</guid>
            <pubDate>Wed, 16 Sep 2020 19:38:20 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Dark Theme for Jupyter Lab]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24496408">thread link</a>) | @DataCrayon
<br/>
September 16, 2020 | https://datacrayon.com/posts/tools/jupyter/theme-purple-please-for-jupyter-lab/ | <a href="https://web.archive.org/web/*/https://datacrayon.com/posts/tools/jupyter/theme-purple-please-for-jupyter-lab/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content" role="main">
    <div>
        <!--Body content-->
        
        
<article itemscope="itemscope" itemtype="http://schema.org/Article"><div>
    
        <div>
            <div>
            <div>
                <div>
                <div>
                    <h2>Get the Books</h2>
                    <p>
                    Enjoying these notebooks and want to support the work? Check out the practical books on Data Science, Visualisation, and Evolutionary Algorithms.
                    </p>
                    <p><a href="https://datacrayon.com/shop/product/data-is-beautiful/">Get the books</a>
                </p></div>
                <p><img src="https://datacrayon.com/images/datacrayon/shop/covertops.jpg">
</p>
                </div>
            </div>
            </div>
        </div>
    
    
    <header>

        
        

    </header><div itemprop="articleBody text">
    <!--% if post.meta('has_toc'):-->
    

        

        


    
    
                
                    

                        






    <div>

<div>

<div>
<div>
<h2 id="Installation-through-Jupyter-Lab">Installation through Jupyter Lab<a href="#Installation-through-Jupyter-Lab">¶</a>
</h2>
<p>You can install it through the Jupyter Lab Extension Manager UI, or with the following command:</p>
<p><code>jupyter labextension install @shahinrostami/theme-purple-please</code></p>
<h2 id="GitHub-Repository">GitHub Repository<a href="#GitHub-Repository">¶</a>
</h2>
<p>You can navigate and download the source code at <a href="https://github.com/shahinrostami/theme-purple-please">https://github.com/shahinrostami/theme-purple-please</a>.</p>

</div>
</div>
</div>

</div>




                    <div id="support-this-work-bottom">
                                    <p>Support this work</p>
                                    <p>
        You can support this work by <a href="https://datacrayon.com/shop/">getting the e-books</a>. This notebook will always be available for free in its online format.
        </p>
                                </div>
                            </div>
                            <!-- Modal -->

                            <!-- Modal -->
</div>
                    </article><!--End of body content-->
</div>
</div></div>]]>
            </description>
            <link>https://datacrayon.com/posts/tools/jupyter/theme-purple-please-for-jupyter-lab/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24496408</guid>
            <pubDate>Wed, 16 Sep 2020 19:19:59 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to Test Complex Data in Python]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24496317">thread link</a>) | @miguendes
<br/>
September 16, 2020 | https://miguendes.me/how-to-test-complex-data-in-python-ckf4e1gso006vpos1gh6fhsh4 | <a href="https://web.archive.org/web/*/https://miguendes.me/how-to-test-complex-data-in-python-ckf4e1gso006vpos1gh6fhsh4">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="text"><p>In this tutorial, we'll learn how to test complex data structures in Python. Examples of such data include images, nested dictionaries, dictionaries of <em>numpy</em> arrays and even file contents. Learning how to test complex data is a very helpful skill, especially if you work in Data Science, Machine Learning or other kinds of scientific programming.</p>
<h2 id="table-of-contents">Table of Contents</h2>
<ol>
<li><a href="#requirements">Requirements</a></li>
<li><a href="#installation">Installation</a></li>
<li><a href="#creating-a-demo-app">Creating a Demo App</a><ul>
<li><a href="#testing-nested-dictionaries">Testing Nested Dictionaries</a></li>
<li><a href="#testing-images">Testing Images</a></li>
<li><a href="#testing-dictionaries-of-numpy-arrays">Testing Dictionaries of Numpy Arrays</a></li>
<li><a href="#testing-files">Testing Files</a></li>
</ul>
</li>
<li><a href="#conclusion">Conclusion</a></li>
</ol>
<h2 id="requirements">Requirements</h2>
<p>For this tutorial we'll use <em>Python 3.6+</em>, <em>pytest</em>, <em>poetry</em>, <em>pandas</em>, <em>numpy</em>, <em>PIL</em> and <code>pytest-regressions</code>.</p>
<h2 id="installation">Installation</h2>
<p>To create a new project, we’ll use poetry. If you don’t know what poetry is and how to use it, please the amazing <a target="_blank" href="https://python-poetry.org/">official docs</a>.</p>
<p>The first step is to create a new directory and initialize the project.</p>
<pre><code>mkdir -p complex_data/app
mkdir -p complex_data/tests
<span>cd</span> complex_data
</code></pre>
<p>Then, you can install all the dependencies required from the <code>pyproject.toml</code> file. </p>
<pre><code>$ cat &lt;&lt;EOF &gt; pyproject.toml
[tool.poetry]
name = "complex_data"
version = "0.1.0"
description = "Sample project to learn how to test complex data in Python"
authors = ["miguendes"]
license = "MIT"

[tool.poetry.dependencies]
python = "^3.7"
pytest = "^6.0.1"
pytest-regressions = "^2.0.1"
numpy = "^1.19.1"
pandas = "^1.1.2"
pillow = "^7.2.0"

[tool.poetry.dev-dependencies]

[build-system]
requires = ["poetry-core&gt;=1.0.0a5"]
build-backend = "poetry.core.masonry.api"
EOF
</code></pre>
<p>Now that we have all setup, let's install the packages. Poetry will take care of the <em>virtualenv</em> creation for you and will install everything there.</p>
<pre><code>poetry install
</code></pre>
<h2 id="creating-a-demo-app">Creating a Demo App</h2>
<p>Now, let’s create a demo app so we can build tests for it. This demo will be very basic and enough to demonstrate how to test complex data. The concepts can be applied to any domain that deals with a similar type of data.</p>
<p>To start with, we’ll create two files. The first one will be the actual demo implementation. The next one will hold all the test case we are going to build. Alternatively, you can also clone the  <a target="_blank" href="https://github.com/miguendes/tutorials/tree/master/complex_data">project from github</a> .</p>
<pre><code>touch app/__init__.py
touch app/complex_app.py
touch tests/__init__.py
touch tests/<span>test</span>_complex_app.py
</code></pre>
<h3 id="testing-nested-dictionaries">Testing Nested Dictionaries</h3>
<p>A public REST API is a popular way to get data from third party entities. They usually return the data in a <em>json</em> format. And sometimes the data is organized in a deep nested structure. In Python this data will most likely be represented as a dictionary. To exemplify a function that returns a deep dictionary, consider the following example.</p>
<pre><code>
<span><span>def</span> <span>config_data</span><span>(verbose_desc: str, simple_desc: str)</span> -&gt; dict:</span>
    <span>return</span> {
        <span>"agg_results"</span>: {
            <span>"t1"</span>: [<span>True</span>, <span>False</span>, <span>True</span>, <span>False</span>],
            <span>"nums"</span>: [<span>1.3</span>, <span>3.4</span>, <span>23.456</span>, <span>21.3456</span>],
            <span>"count"</span>: <span>120</span>,
        },
        <span>"sample"</span>: {<span>"desc"</span>: {<span>"verbose"</span>: verbose_desc, <span>"simple"</span>: simple_desc}},
    }
</code></pre>
<p>This function takes two parameters, <code>verbose_desc</code> and  <code>simple_desc</code>, and set it under sample -&gt; desc.
Now, how can we test this function? One way is to test it by inspecting each key-&gt;value pair.</p>
<pre><code>
<span><span>def</span> <span>test_config_data</span><span>()</span>:</span>
    actual = config_data(verbose_desc=<span>"first experiment"</span>, simple_desc=<span>"first"</span>)
    <span>assert</span> actual[<span>"agg_results"</span>][<span>"t1"</span>] == [<span>True</span>, <span>False</span>, <span>True</span>, <span>False</span>]
    <span>assert</span> actual[<span>"agg_results"</span>][<span>"nums"</span>] == [<span>1.3</span>, <span>3.4</span>, <span>23.456</span>, <span>21.3456</span>]
    <span>assert</span> actual[<span>"agg_results"</span>][<span>"count"</span>] == <span>120</span>

    <span>assert</span> actual[<span>"sample"</span>][<span>"desc"</span>][<span>"verbose"</span>] == <span>"first experiment"</span>
    <span>assert</span> actual[<span>"sample"</span>][<span>"desc"</span>][<span>"simple"</span>] == <span>"first"</span>
</code></pre>
<p>If we run the test, we can see that it works, but... You know, it’s too verbose and error-prone. For example, if we add new keys we will need to update the test to add more <em>assert</em> statements. Also, it doesn’t scale at all if the dictionary contains large data. So what is the alternative?</p>
<h4 id="pytest-regressions">pytest-regressions</h4>
<p>It turns out there’s a very interesting <em>pytest</em> plugin that makes this kind of test very easy and simple. With just a few lines of code, you can test this config data.</p>
<pre><code>
<span><span>def</span> <span>test_config_data_with_pytest_regressions</span><span>(data_regression)</span>:</span>
    actual = config_data(verbose_desc=<span>"first experiment"</span>, simple_desc=<span>"first"</span>)
    data_regression.check(actual)
</code></pre>
<p>That's it! The only step needed is using the <code>data_regression</code> fixture and check the actual data returned. <code>pytest-regressions</code> will create a <code>yaml</code> file with the expected data the first time you run the test. Then it will use this file when you call the test again. As a result, if a regression is introduced, the plugin will detect the diff and the test will fail.</p>
<p>When you run the test for the first time, the test will fail and <code>pytest-regressions</code> will store the output in a directory with the name of the test file.</p>
<pre><code>test_complex_app.py::test_config_data_with_pytest_regressions FAILED     [100%]
test_complex_app.py:23 (test_config_data_with_pytest_regressions)
data_regression = &lt;pytest_regressions.data_regression.DataRegressionFixture object at 0x7ff6c4b4f130&gt;

    def test_config_data_with_pytest_regressions(data_regression):
        actual = config_data(verbose_desc="first experiment", simple_desc="first")
&gt;       data_regression.check(actual)
E       Failed: File not found in data directory, created:
E       - /home/miguel/projects/tutorials/complex_data/tests/test_complex_app/test_config_data_with_pytest_regressions.yml
</code></pre>
<p>If you run it again, the test pass.</p>
<pre><code>test_complex_app.py::test_config_data_with_pytest_regressions PASSED     [100%]
</code></pre>
<h3 id="testing-images">Testing Images</h3>
<p>Image manipulation is a very common task in AI. In order to train Machine Learning algorithms, images must be pre-processed. For instance, some algorithms require the image to be in gray-scale. Sometimes, images must be scaled down, or up. In other occasions you might want to do image augmentation, which usually consists in rotating or skewing the image.</p>
<p>Now, let’s say that we need to resize down an image to 100x100 and convert it to gray as a pre-processing step. We can write a very simple function called <code>convert_image_to_gray</code>. To test this function, we can rely on the great fixture called <code>image_regression</code> provided by <code>pytest-regressions</code>. The following example illustrates that.</p>
<pre><code>
<span><span>def</span> <span>convert_image_to_gray</span><span>(
    input_path: str, output_path: str, size: Tuple[int, int] = <span>(<span>200</span>, <span>200</span>)</span>
)</span>:</span>
    image = Image.open(input_path)
    gray_image = image.convert(<span>"L"</span>)
    gray_image.thumbnail(size, Image.ANTIALIAS)
    gray_image.save(output_path, <span>"PNG"</span>)
</code></pre>
<p> The test for it is just like this:</p>
<pre><code>
<span><span>def</span> <span>test_convert_image_to_gray</span><span>(image_regression)</span>:</span>
    output_file = Path(<span>"tests/resources/python_logo_gray.png"</span>)
    convert_image_to_gray(
        <span>"tests/resources/python_logo.png"</span>, str(output_file), size=(<span>100</span>, <span>100</span>)
    )
    image_regression.check(output_file.read_bytes(), diff_threshold=<span>1.0</span>)
</code></pre>
<p>And that's it again! No extra setup steps, no complex asserts, just one line.</p>
<h3 id="testing-dictionaries-of-numpy-arrays">Testing Dictionaries of Numpy Arrays</h3>
<p>Another common practice in Data Science is to manipulate <em>numpy</em> arrays. It’s very usual to have dictionaries composed of string keys and <em>numpy</em> arrays as values. Testing that is just as annoying as testing nested dictionaries. It tends to get worse when the arrays are made up of float numbers.</p>
<p>Again, as our previous examples, let's consider a function that returns a dictionary of <em>numpy</em> arrays.</p>
<pre><code>
<span><span>def</span> <span>element_wise_mult</span><span>(a: np.array, b: np.array)</span> -&gt; Dict[str, np.array]:</span>
    res = a * b
    <span>return</span> {<span>"res"</span>: res}
</code></pre>
<p>This function just multiplies two 1D <em>numpy</em> arrays and stores the result in a dictionary. To test that we can use <code>num_regression</code> fixture. As you may have guessed, the interface is the same as the other fixtures using the <code>check</code> method. A full test definition goes like this:</p>
<pre><code>
<span><span>def</span> <span>test_elemwise_multi_calculation</span><span>(num_regression)</span>:</span>
    np.random.seed(<span>0</span>)
    a = np.random.randn(<span>6</span>)
    b = np.random.randn(<span>6</span>)
    result = element_wise_mult(a, b)
    num_regression.check(result)
</code></pre>
<h3 id="testing-files">Testing Files</h3>
<p>Python can represent a file object in three categories: raw binary files, buffered binary files and text files.
A binary file can be used to store any kind of binary data such as images, mp3s, videos and so on. A text file, on the other hand, can be a simple <code>.txt</code> or a <code>.html</code>, <code>.md</code> or just your gold old <code>.py</code> script.</p>
<h4 id="binary-file-example">Binary File Example</h4>
<p>The simplest example of binary file would be a function that takes a path string and loads a binary file from disk and returns its bytes. <code>pytest-regression</code> comes with a fixture <code>file_regression</code> that helps a lot when testing file contents.</p>
<pre><code>
<span><span>def</span> <span>read_from_file</span><span>(path: str)</span> -&gt; bytes:</span>
    <span>with</span> open(path, <span>"rb"</span>) <span>as</span> f:
        <span>return</span> f.read()
</code></pre>
<p>The test goes like this:</p>
<pre><code>
<span><span>def</span> <span>test_read_from_file</span><span>(file_regression, datadir)</span>:</span>
    contents = read_from_file(<span>"tests/resources/data.bin"</span>)
    file_regression.check(contents, binary=<span>True</span>, extension=<span>".bin"</span>)
</code></pre>
<h4 id="text-file-example">Text File Example</h4>
<p>Like I said before, an <code>.html</code> file is just a text file. In this example we'll consider a function that converts an dictionary to a HTML table.</p>
<pre><code>
<span><span>def</span> <span>dict_to_html</span><span>(data: dict)</span> -&gt; str:</span>
    html = <span>"&lt;table&gt;&lt;tr&gt;&lt;th&gt;"</span> + <span>"&lt;/th&gt;&lt;th&gt;"</span>.join(data.keys()) + <span>"&lt;/th&gt;&lt;/tr&gt;"</span>

    <span>for</span> row <span>in</span> zip(*data.values()):
        html += <span>"&lt;tr&gt;&lt;td&gt;"</span> + <span>"&lt;/td&gt;&lt;td&gt;"</span>.join(row) + <span>"&lt;/td&gt;&lt;/tr&gt;"</span>

    html += <span>"&lt;/table&gt;"</span>

    <span>return</span> html
</code></pre>
<p>And the test...</p>
<pre><code>
<span><span>def</span> <span>test_dict_to_html</span><span>(file_regression)</span>:</span>
    data = {
        <span>"Heights"</span>: [<span>"30"</span>, <span>"12"</span>, <span>"12"</span>],
        <span>"IDs"</span>: [<span>"XXDDUBAB"</span>, <span>"LOPSKSKSS"</span>, <span>"KIOTGGAGA"</span>],
        <span>"Download Count"</span>: [<span>"123"</span>, <span>"34"</span>, <span>"2"</span>],
    }

    html = dict_to_html(data)
    file_regression.check(html, extension=<span>".html"</span>)
</code></pre>
<blockquote>
<p>Well... We could just assert the string returned, right?</p>
</blockquote>
<p>You might be asking. We could just assert the string returned. Yes, that’s a fair point, however if the string is too big, the test setup will become polluted and overly verbose. As an alternative, we could store it as a file and then load it. Well, that’s actually what <code>pytest-regressions</code> does, with the benefit of hiding that complexity.</p>
<h2 id="conclusion">Conclusion</h2>
<p>Testing complex data can be tricky and cumbersome. Fortunately, <code>pytest</code> allows great extensibility as plugins. <code>pytest-regression</code> is a non popular but very useful plugin that makes …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://miguendes.me/how-to-test-complex-data-in-python-ckf4e1gso006vpos1gh6fhsh4">https://miguendes.me/how-to-test-complex-data-in-python-ckf4e1gso006vpos1gh6fhsh4</a></em></p>]]>
            </description>
            <link>https://miguendes.me/how-to-test-complex-data-in-python-ckf4e1gso006vpos1gh6fhsh4</link>
            <guid isPermaLink="false">hacker-news-small-sites-24496317</guid>
            <pubDate>Wed, 16 Sep 2020 19:14:43 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[I suspect many task deadlines are designed to force engineers to work for free]]>
            </title>
            <description>
<![CDATA[
Score 255 | Comments 182 (<a href="https://news.ycombinator.com/item?id=24496219">thread link</a>) | @sT370ma2
<br/>
September 16, 2020 | http://misc-stuff.terraaeon.com/articles/engineering-deadlines.html | <a href="https://web.archive.org/web/*/http://misc-stuff.terraaeon.com/articles/engineering-deadlines.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>http://misc-stuff.terraaeon.com/articles/engineering-deadlines.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24496219</guid>
            <pubDate>Wed, 16 Sep 2020 19:05:22 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Downsampling Data with Postgres Window Functions]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24496033">thread link</a>) | @christoomey
<br/>
September 16, 2020 | https://ctoomey.com/writing/downsampling-data-with-postgres-window-functions/ | <a href="https://web.archive.org/web/*/https://ctoomey.com/writing/downsampling-data-with-postgres-window-functions/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        
  <p><a href="https://www.postgresql.org/docs/current/tutorial-window.html">SQL window functions</a> are one of those topics that never quite clicked for me
in the abstract, but I’ve been able to take advantage of them on a few recent
projects and wanted to share some of what I’ve learned.</p>

<p>As context for this particular example, I’ve been in the habit of weighing
myself daily for the past ~11 years. Aside from providing a <em>very</em> interesting
data set, it just ends up being a lot of data to query, serialize, transmit, and
then render on the client. I’ve got just over 4000 records currently, and I
recently wanted to add an overview chart that would show the full history
below the normal chart that shows a smaller subset of the data.</p>

<p><img src="https://d33wubrfki0l68.cloudfront.net/1276cbb84af72431a462be52b35a6f9fe821c691/4d390/assets/images/downsample-example-1276cbb8.png" alt="Downsample example"></p>

<p>This image shows the overview graph (the one on the bottom) as it exists now, downsampled to
include every 10th record, but I initially implemented the overview using the
full weigh-in history. I found that including them all added around 250kB of
data and a few seconds downloading the page content (on a “fast 3G” network
setting). I liked the functionality but realized I could likely get by with only
a subset of the records. So I looked into how I could downsample the data, and a
window function turned out to be the perfect tool.</p>

<h2 id="basic-downsampling-example">Basic Downsampling Example</h2>

<p>If I just wanted to grab all the weigh-in records, ordered by date, I could
use:</p>

<div><pre><code><span>SELECT</span> <span>id</span><span>,</span> <span>date</span><span>,</span> <span>weight</span> <span>FROM</span> <span>weighins</span> <span>ORDER</span> <span>BY</span> <span>date</span><span>;</span>
</code></pre></div>
<p>In order to downsample this data, I can use a window function to add a
<code>ROW_NUMBER</code> value for the records ordered by date:</p>

<div><pre><code><span>SELECT</span> <span>id</span><span>,</span> <span>date</span><span>,</span> <span>weight</span><span>,</span> <span>ROW_NUMBER</span><span>()</span> <span>OVER</span> <span>(</span><span>ORDER</span> <span>BY</span> <span>date</span><span>)</span> <span>FROM</span> <span>weighins</span><span>;</span>
</code></pre></div>
<p>Now I had the computed row number but in order to use it to filter the records
I had to include it as a sub-query and then filter in the outer query:</p>

<div><pre><code><span>SELECT</span> <span>id</span><span>,</span> <span>date</span><span>,</span> <span>weight</span> <span>FROM</span> <span>(</span>
  <span>SELECT</span> <span>id</span><span>,</span> <span>date</span><span>,</span> <span>weight</span><span>,</span> <span>ROW_NUMBER</span><span>()</span> <span>OVER</span> <span>(</span><span>ORDER</span> <span>BY</span> <span>date</span><span>)</span> <span>FROM</span> <span>weighins</span><span>;</span>
<span>)</span> <span>x</span> <span>WHERE</span> <span>mod</span><span>(</span><span>ROW_NUMBER</span><span>,</span> <span>10</span><span>)</span> <span>=</span> <span>0</span><span>;</span>
</code></pre></div>
<p>I only want to return the <code>id</code>, <code>date</code>, and <code>weight</code> fields, but I’m able to
use the <code>ROW_NUMBER</code> in our <code>WHERE</code> clause to grab every 10th record using
<code>mod(ROW_NUMBER, 10) = 0</code> filter.</p>

<p><em>Note</em> - the <code>x</code> here is a name I’m giving to the sub-query. Postgres requires a
name, but I’m not actually using it in the rest of the query.</p>

<p><em>Other Note</em> - you’ll likely want to have an <a href="https://www.postgresql.org/docs/8.3/indexes-ordering.html">index on the <code>date</code>
column</a> to make that
<code>ORDER BY</code> clause efficient.</p>

<h2 id="make-it-user-specific">Make It User Specific</h2>

<p>Let’s say I have the same setup as above, but the records in the
table I want to downsample are user-specific and I want to provide a similar
overview graph for each user. Some users will have long histories with
thousands of records, but others will only have a handful, and I’d like to
return a consistent number of records for the overview graph for all users.</p>

<p>In this case I can use another sub-query to determine the relevant downsample
rate on a per-user basis. Let’s say I want to show a maximum of 300 data points
in the overview graph; I can use a query like the following to get the
downsample rate:</p>

<div><pre><code><span>SELECT</span> <span>COUNT</span><span>(</span><span>*</span><span>)</span> <span>/</span> <span>300</span> <span>FROM</span> <span>weighins</span> <span>WHERE</span> <span>user_id</span> <span>=</span> <span>7</span><span>;</span>
</code></pre></div>
<p>Now, rather than using the fixed value <code>10</code> as in the first query (aka, grab
every 10th record), we’ll have a value that will vary for each user to ensure
we get ~300 records in the returned data set.</p>

<p>I can then combine that with the original query to efficiently grab the
downsampled overview with the desired ~300 records:</p>

<div><pre><code><span>SELECT</span> <span>id</span><span>,</span> <span>date</span><span>,</span> <span>weight</span> <span>FROM</span> <span>(</span>
  <span>SELECT</span> <span>id</span><span>,</span> <span>date</span><span>,</span> <span>weight</span><span>,</span> <span>ROW_NUMBER</span><span>()</span> <span>OVER</span> <span>(</span><span>ORDER</span> <span>BY</span> <span>date</span><span>)</span>
    <span>FROM</span> <span>weighins</span>
    <span>WHERE</span> <span>user_id</span> <span>=</span> <span>7</span>
<span>)</span> <span>x</span> <span>WHERE</span> <span>mod</span><span>(</span><span>ROW_NUMBER</span><span>,</span> <span>(</span><span>SELECT</span> <span>COUNT</span><span>(</span><span>*</span><span>)</span> <span>/</span> <span>300</span> <span>FROM</span> <span>weighins</span> <span>WHERE</span> <span>user_id</span> <span>=</span> <span>7</span><span>))</span> <span>=</span> <span>0</span><span>;</span>
</code></pre></div>
<p><em>Note</em> - you’ll likely already have this, but just as a reminder, you’ll want to
have an index on <code>user_id</code> for the relevant table to make sure the sub-query
won’t slow things down too much.</p>

<h2 id="a-final-tweak-for-very-large-tables">A Final Tweak for Very Large Tables</h2>

<p>There’s one last trick that has helped in the
case of a very large table where <code>COUNT(*)</code> is slow enough to be noticed. In
this case I don’t actually care about getting an <em>exact</em> count, so I can take
advantage of postgres metadata to get an approximate count:</p>

<div><pre><code><span>(</span><span>SELECT</span> <span>reltuples</span> <span>FROM</span> <span>pg_class</span> <span>WHERE</span> <span>relname</span> <span>=</span> <span>'weighins'</span><span>)::</span><span>int</span><span>;</span>
</code></pre></div>
<p>A bit cryptic, but this query gets the approximate record count for the table.
It lags a bit behind the actual value as it’s only updated when postgres runs
<code>VACUUM</code> or <code>ANALYZE</code> or similar housekeeping operations, but it’s more than
sufficient for our needs. I’ve tacked <code>::int</code> to explicitly typecast the
result to allow us to use this in our <code>WHERE mod(ROW_NUMBER, ...)</code> filter.</p>

<p>I can combine this as a sub-query to get a reasonably performant downsampled
version of our data, even for very large tables:</p>

<div><pre><code><span>SELECT</span> <span>id</span><span>,</span> <span>date</span><span>,</span> <span>weight</span> <span>FROM</span> <span>(</span>
  <span>SELECT</span> <span>id</span><span>,</span> <span>date</span><span>,</span> <span>weight</span><span>,</span> <span>ROW_NUMBER</span><span>()</span> <span>OVER</span> <span>(</span><span>ORDER</span> <span>BY</span> <span>date</span><span>)</span> <span>FROM</span> <span>weighins</span>
<span>)</span> <span>x</span> <span>WHERE</span> <span>mod</span><span>(</span><span>ROW_NUMBER</span><span>,</span> <span>(</span><span>SELECT</span> <span>reltuples</span> <span>/</span> <span>300</span> <span>FROM</span> <span>pg_class</span> <span>WHERE</span> <span>relname</span> <span>=</span> <span>'weighins'</span><span>)::</span><span>int</span><span>)</span> <span>=</span> <span>0</span><span>;</span>
</code></pre></div>
<h2 id="further-reading">Further Reading</h2>

<p>The <a href="https://www.postgresql.org/docs/current/functions-window.html">Postgres Documentation on Window Functions</a> is, unsurprisingly, very
solid. The <a href="https://sqlite.org/windowfunctions.html">SQLite Introduction to Window Functions</a> is also quite good, and
<a href="https://thoughtbot.com/blog/postgres-window-functions">thoughtbot has a great article on using window functions</a>.</p>



    </div></div>]]>
            </description>
            <link>https://ctoomey.com/writing/downsampling-data-with-postgres-window-functions/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24496033</guid>
            <pubDate>Wed, 16 Sep 2020 18:49:23 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Cleaning $Home on macOS]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 2 (<a href="https://news.ycombinator.com/item?id=24495994">thread link</a>) | @KKPMW
<br/>
September 16, 2020 | http://karolis.koncevicius.lt/posts/cleaning_home_on_macos/ | <a href="https://web.archive.org/web/*/http://karolis.koncevicius.lt/posts/cleaning_home_on_macos/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">




<p>Apple computers ship with a custom operating system: macOS.
Like any other operating system macOS comes with a list of default functionalities and features.
From a perspective of a command line user some such features, like being based on a unix core, are welcome.
Some, like not coming with a pre-installed package manager, are annoying yet fixable.
But then there are other things that are both annoying and unfixable.
Among these a special place has to be reserved for the inability to change the default folders within <code>$HOME</code>.
Here I describe my way of dealing with this problem.</p>

<h2 id="hidingdefaultfolders">Hiding default folders</h2>

<p>If you search the net you will find countless macOS users searching for answers to the same question: “How can I get rid of ‘Desktop’, ‘Documents’, ‘Downloads’, ‘Library’, ‘Movies’, ‘Music’, ‘Pictures’, and ‘Public’ folders?”
There are multitude of different suggestions given as answers to this question.
You can replace the folders with files<a href="#fn:1" id="fnref:1" title="see footnote"><sup>◦</sup></a>; you can hide the folders from ‘Finder’ and make them inaccessible<a href="#fn:2" id="fnref:2" title="see footnote"><sup>◦</sup></a>; or you can learn to live with them, as the system will recreate those folders by itself anyway<a href="#fn:3" id="fnref:3" title="see footnote"><sup>◦</sup></a>.</p>

<p>I decided to hide.
But getting them out of view is not an easy task, specially if you are working in a command line.
These folder names tend to appear in a few different contexts.
From my experience, dealing with three separate instances, presented below, is quite enough.</p>

<ol>
<li><p>hide from <code>Finder</code> adding a hidden flag</p>

<pre><code>chflags hidden ~/Desktop ~/Documents ~/Downloads ~/Library
chflags hidden ~/Movies ~/Music ~/Pictures ~/Public
</code></pre></li>
<li><p>hide from <code>ls</code> by creating an alias in <code>.bashrc</code></p>

<pre><code>alias ls='ls -I Desktop -I Documents -I Downloads -I Library\
             -I Movies -I Music -I Pictures -I Public'
</code></pre></li>
<li><p>hide from tab completion by setting a special bash <code>FIGNORE</code><a href="#fn:4" id="fnref:4" title="see footnote"><sup>◦</sup></a> variable.</p>

<pre><code>export FIGNORE=Desktop:Documents:Downloads:Library:Movies:Music:Pictures:Public
</code></pre></li>
</ol>

<p>That is it, the folders should mostly be out of view.
And if for whatever reason we need to temporary see them again a simple <code>\ls</code> would bypass the alias and provide us the full list.</p>

<h2 id="creatinganewhierarchy">Creating a new hierarchy</h2>

<p>With the folders out of view we can now move onto creating our own home hierarchy.
This part mostly depends on the needs of the user.
But I would like to offer two additional points of advice.
1) using lowercase letters will offer extra protection against interference by the default folders, which all start with uppercase characters.
2) selecting the words that start with different letters will allow you to complete the folder names after typing a single character.</p>

<p>In my case the new hierarchy looks like this:</p>

<pre><code>├── base
│   ├─── bin
│   ├─── etc
│   ├─── src
│   └─── var
│
├── desk
│
├── file
│   ├─── articles
│   ├─── books
│   ├─── documents
│   ├─── essays
│   ├─── photos
│   └─── videos
│
└── work
    ├─── active_project_one
    ├─── active_project_two
    └─── zzz
         ├─── inactive_project_one
         ├─── inactive_project_two
         ├─── inactive_project_three
         ├─── inactive_project_four
         └─── ...
</code></pre>

<p><code>'base'</code> is my <code>'.local'</code>.<br>
<code>'desk'</code> takes the place of the <code>'Desktop'</code> and <code>'Downloads'</code>.<br>
<code>'file'</code> is an aggregate of <code>'Documents'</code>, <code>'Music'</code>, <code>'Pictures'</code>, and <code>'Movies'</code>.<br>
<code>'work'</code> stores various active and completed projects.</p>

<h2 id="linkingdownloadsanddesktop">Linking Downloads and Desktop</h2>

<p>There is one detail remaining: macOS has a useful <code>'Desktop'</code> and now its hidden from us.
On top of that some third party applications put various acquired data into the <code>'Downloads'</code> folder.
Hence, we want to see the contents of those folders within our new file hierarchy.
We achieve this with symbolic links.</p>

<ol>
<li><p>make <code>'Desktop'</code> be a symbolic link for our new folder <code>'desk'</code></p>

<pre><code>sudo rm -rf Desktop
ln -s desk Desktop
</code></pre></li>
<li><p>make <code>'Downloads'</code> be a symbolic link for <code>'Desktop'</code></p>

<pre><code>sudo rm -rf Downloads
ln -s Desktop Downloads
</code></pre></li>
</ol>

<p>And now whenever a file is put into the, now hidden, <code>'Downloads'</code> or <code>'Desktop'</code> folders, it will be placed in our <code>'desk'</code> instead.
Moreover, since <code>'Desktop'</code> is a link to <code>'desk'</code>, whatever is put into the <code>'desk'</code> directory will be visible on the actual desktop on a screen.</p>

<h2 id="theresult">The result</h2>

<pre><code>$ ls ~/
base desk file work

$ cd ~/D&lt;tab&gt;
$ cd ~/D

$ cd ~/d&lt;tab&gt;
$ cd ~/desk
</code></pre>

<h2 id="summary">Summary</h2>

<p>Getting rid of default macOS home directories is hard.
Hiding, instead of trying to delete, seems like an easier and safer solution.
The tricks presented in this article, while not being 100% effective, go along way.
I’ve been using this approach for a few years without accidentally seeing any reminder of those folders during this whole time.</p>






</div>]]>
            </description>
            <link>http://karolis.koncevicius.lt/posts/cleaning_home_on_macos/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24495994</guid>
            <pubDate>Wed, 16 Sep 2020 18:46:57 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Figure Out Your Story Already]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24495940">thread link</a>) | @tallgiraffe
<br/>
September 16, 2020 | https://betterstory.co/figure-out-your-damn-story-already/ | <a href="https://web.archive.org/web/*/https://betterstory.co/figure-out-your-damn-story-already/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">

    <div id="page">
        <header id="masthead" role="banner">
			
			
			
			<nav id="primary-navigation" role="navigation">
				<a></a>
				
				
			</nav>
			
									
								
			
        </header>

<div id="main">
	<div id="primary">
		<div id="content" role="main">
										<article id="post-238">
																			<div>
												<div>
													<img width="1200" height="960" src="https://betterstory.co/wp-content/uploads/2020/08/1zR70PElWbNhcbOX9SdGfAQ-2.jpeg" alt="Figure Out Your Damn Story Already" loading="lazy" title="" srcset="https://betterstory.co/wp-content/uploads/2020/08/1zR70PElWbNhcbOX9SdGfAQ-2.jpeg 1200w, https://betterstory.co/wp-content/uploads/2020/08/1zR70PElWbNhcbOX9SdGfAQ-2-300x240.jpeg 300w, https://betterstory.co/wp-content/uploads/2020/08/1zR70PElWbNhcbOX9SdGfAQ-2-1024x819.jpeg 1024w, https://betterstory.co/wp-content/uploads/2020/08/1zR70PElWbNhcbOX9SdGfAQ-2-768x614.jpeg 768w, https://betterstory.co/wp-content/uploads/2020/08/1zR70PElWbNhcbOX9SdGfAQ-2-600x480.jpeg 600w, https://betterstory.co/wp-content/uploads/2020/08/1zR70PElWbNhcbOX9SdGfAQ-2-780x624.jpeg 780w" sizes="(max-width: 1200px) 100vw, 1200px">												</div>
												
												
												<header>
													
												</header>
											</div>
																		
								
								<div>
																		
									
									<div>
										
<h4 id="4ac7">For anyone building and growing a business, all the tools in the world won’t help you until you decide to talk about&nbsp;why</h4>



<p id="52f7">Hey marketing person. Yah, you.</p>



<p id="7aab">How many of these are you currently using?</p>



<ol><li>Youtube / Twitter / Facebook / Instagram Ads</li><li>Google / Bing / Yahoo ( yes people buy ads on Yahoo )</li><li>Mailchimp / Constant Contact / Convertkit</li><li>Salesforce / Marketo / Hubspot</li><li>Buffer / Hootsuite</li><li>Squarespace / WordPress / Wix / Medium</li><li>External PR / Influencers</li><li>Content Marketing ( words and / or video )</li><li>Moz / Ahrefs / SEMrush</li><li>Messaging bots</li></ol>



<p id="6b9c">A bunch of them, right? The modern, mainstream marketing toolbox.</p>



<p id="b95c">And yet.</p>



<p id="c85c">So many of us are still searching for more. We continue to believe there is something better out there. That something extra. The one elusive tool that will lead us to the promised land, and automate our way to greatness.</p>



<p id="240b">I’ve got some hard truth, folks.</p>



<p id="e697">There is no tool. No magic solution. No silver bullet.</p>



<p id="9c04">Furthermore, everything listed above, all those tools, that multitude of marketing magic, they actually aren’t that helpful.</p>



<blockquote id="1a4a"><p>No tool, no platform, no system will make your marketing efforts a thing of legend.</p></blockquote>



<p id="4bdd">There is one thing, and one thing only that separates a great marketer from someone who knows how to use the tools and can spend money to get some manner of results.</p>



<p id="ec50">Great marketers, great brands, great campaigns are differentiated by one single, solitary concept.</p>



<h4 id="6952">Storytelling.</h4>



<p id="a2a3">So I beg you before you sign up for all those tools, all those systems. Before you spend a dime on an Instagram or AdWords ad, before you commit to writing an endless array of blog posts, or approach an influencer on Youtube, ask yourself one question;</p>



<p id="f6c6"><em>What is the story we’re trying to tell?</em></p>



<hr>



<p id="d5b0">Not, what does our product / service / platform / doohickey do?<br>Not, what are all the features we have that our competitor does not?<br>Not, how you think your customers will benefit from all the things your platform does ( why so many people insist on telling people how to feel is beyond me )?<br>Not, how can we hoodwink a segment of the population into giving us money?</p>



<h3 id="b628">The only place to start, the only way to truly maximize your returns, and the only way to build a loyal audience, is to answer&nbsp;why.</h3>



<p id="63f2">Why are we doing what we do, what makes our mission unique, what more significant thing do we believe in that motivated us to build / create / design / launch / grow what we did? Why are we committed to making you / the world / this vertical better? How do we believe we can change the world.</p>



<p id="ce95">Until you figure that out. Until you can articulate that story in a way that demonstrates to everyone ( your employees, your partners, your customers ) the passion you have for the problem you’re trying to solve, the best tools in the world won’t help you.</p>



<p id="9418">It’s all just lipstick on a pig.</p>



<p id="6cc3">Next post, how do we begin telling great stories.</p>



<p id="fae0">Thanks for reading.</p>
										
																				
																			</div>
									
									
																					
																			</div>
							</article>
							
							
										
									
							
							
								</div>
	</div>
</div>


        
	</div>
    
	
	



















</div>]]>
            </description>
            <link>https://betterstory.co/figure-out-your-damn-story-already/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24495940</guid>
            <pubDate>Wed, 16 Sep 2020 18:43:17 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The controversy around Tim’s Vermeer is missing the point]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 2 (<a href="https://news.ycombinator.com/item?id=24495692">thread link</a>) | @avoidboringppl
<br/>
September 16, 2020 | https://www.leonlinsx.com/tims-vermeer/ | <a href="https://web.archive.org/web/*/https://www.leonlinsx.com/tims-vermeer/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      
        <header>
          
          
            <p> 




  7 minute read
</p>
          
        </header>
      

      <section itemprop="text">
        
        <p>I just learnt about <a href="https://sonyclassics.com/timsvermeer/" title="website">Tim’s Vermeer</a>, a documentary by Penn and Teller about <a href="https://en.wikipedia.org/wiki/Tim%27s_Vermeer" title="wiki link">inventor Tim Jenison’s attempt to reproduce a Vermeer using technology advanced for Vermeer’s time</a>. The premise sounded interesting, so I looked up the film online, and became even more interested when I learnt about the controversy the film had generated. I still haven’t watched the film, as I’ve found digging into the controversy and what it implies to be fascinating.</p>





<p>If you’re like me and don’t know much about art, here’s some background context: <a href="https://en.wikipedia.org/wiki/Johannes_Vermeer" title="wiki">Johannes Vermeer</a> was a Dutch painter who lived from 1632-1675. He’s now acknowledged to be one of the greatest painters of his time, particularly for his <a href="https://www.artble.com/artists/johannes_vermeer/more_information/style_and_technique" title="vermeer style">realistic paintings and usage of light.</a> [1] Some famous paintings include [2]:</p>

<figure>
    <a href="https://www.leonlinsx.com/assets/images/vermeer-pearl.jpg"><img src="https://www.leonlinsx.com/assets/images/vermeer-pearl.jpg"></a>
    <a href="https://www.leonlinsx.com/assets/images/vermeer-music.jpg"><img src="https://www.leonlinsx.com/assets/images/vermeer-music.jpg"></a>
    <figcaption>Girl with a pearl earring and the the music lesson</figcaption>
</figure>

<p>A while back, David Hockney and Philip Steadman suggested that <strong>Vermeer and other artists could have [used lenses and mirrors to achieve the realism in their paintings.]</strong>(https://www.vanityfair.com/culture/2013/11/vermeer-secret-tool-mirrors-lenses”Vanity Fair link”) The controversy generated had people doubting both the people hypothesising and the process hypothesised:</p>

<blockquote>
  <p>Leading art historians were unpersuaded. Hockney, people said, was just jealous because he lacks the old masters’ skills.</p>
</blockquote>

<blockquote>
  <p>As the nay-saying historian James Elkins (of the School of the Art Institute of Chicago) observed in 2001, “the optical procedures posited in Hockney’s book are all radically undertested,” and “no one, including myself, knows what it is really like to get inside a camera obscura”—a lens projecting a perfect image of one side of a room onto a surface equidistant on the other side—“and make a painting.”</p>
</blockquote>

<p>This is where Tim Jenison comes in. He believed in Steadman and Hockney’s ideas, and decided to <strong>re-create the process to test the ideas.</strong> The documentary Tim’s Vermeer follows him through his trial and error of reproducing the music lesson painting above, which included a real life reproduction of the room shown in the original painting. As a NYT review puts it:</p>

<blockquote>
  <p>During the 130 days he spent painting (following the 213 days needed to build the tableau), Mr. Jenison encountered several unexpected obstacles, whether the discovery that his camera obscura did not produce images that were bright or clear enough for him to paint (this was solved by adding a curved mirror to the setup), or the tediousness of his painstaking task.</p>
</blockquote>

<p>You can judge for yourself whether he succeeded or not [3]. The reactions from some critics are particularly fascinating in showing how offended they were.</p>

<p><a href="https://www.theguardian.com/artanddesign/jonathanjonesblog/2014/jan/28/tims-vermeer-fails" title="guardian">From a Guardian review:</a></p>

<blockquote>
  <p>It’s like the horror film The Fly. The technology Jenison relies on can replicate art, but it does so synthetically, with no understanding of art’s inner life. The “Vermeer” it spits out is a stillborn simulacrum.</p>
</blockquote>

<blockquote>
  <p>So what does it lack? The film implies anyone can make a beautiful work of art with the right application of science. There is no need for mystical ideas like genius.</p>
</blockquote>

<blockquote>
  <p>Tim’s Vermeer is the equivalent of someone hanging a painting-by-numbers version of a masterpiece over the mantelpiece and claiming it’s as good as the real thing. At last, an art film for philistines.</p>
</blockquote>

<p><a href="https://www.nytimes.com/2014/01/31/movies/tims-vermeer-chronicles-an-attempt-to-make-one.html" title="NYT">From a NYT review:</a></p>

<blockquote>
  <p>for all his efforts to recreate Vermeer’s methods — he studies light, grinds his own pigments, builds a detailed set — he seems completely uninterested in Vermeer’s art. That he doesn’t see there’s a difference makes him a harder-working, better-bankrolled version of the clichéd gallerygoer who looks at a Pollock and sees a finger painting instead of a revolution.</p>
</blockquote>

<p><a href="https://www.arthistorynews.com/articles/2614_Tims_notVermeer" title="AHN">From an art history news site:</a></p>

<blockquote>
  <p>And because so few people can paint in the traditional way these days we try and fool ourselves that in fact not even great artists like Vermeer could do it either, and that he was just cheating. It makes us, and it makes modern artists, feel better to think that</p>
</blockquote>

<blockquote>
  <p>The film was full of contradictions and historical errors from the very start</p>
</blockquote>

<p><a href="https://digitopoly.org/2014/06/15/10-reasons-to-doubt-tims-vermeer/" title="10 reasons to doubt">And someone even thought the moview was an intentional hoax:</a></p>

<p>It seems there are two separate objections here, one to <strong>the idea</strong> and one to <strong>the process.</strong></p>

<p>Critics of the idea think the notion that artistic genius could be ‘reduced’ to technological innovation and hard work is reductive and blasphemous.</p>

<p>Critics of the process think that the facts imply other ways the paintings were created [4].</p>

<p>Critics of the idea seem to be outraged at a claim that nobody is actually making, that Vermeer <em>must</em> have used this technique, and that by implication Vermeer was <em>less</em> of a genius.</p>

<p>That’s not the point of the movie. The point is that Vermeer <em>could</em> have used this technique, and even if he did, it doesn’t change how you should view his art.</p>

<p>It’s strange that the potential use of ‘technology’ so horrified critics. If we withheld the use of technology from art, then shouldn’t any artwork using modern paintbrushes, paints, techniques etc be considered diminished as a result? Despite what Picasso is rumoured to have said about cave paintings [5], I am sure that people appreciate art having evolved and techniques getting better since then.</p>

<p><a href="https://www.nytimes.com/2013/12/01/movies/tim-jenison-an-inventor-paints-the-music-lesson.html" title="NYT article">Neither Penn and Teller nor Tim himself are claiming anything else:</a></p>

<blockquote>
  <p>“We at no point ever say, ‘Tim Jenison discovered how Vermeer painted his paintings,’” [Penn] said. “And,” he added, “I’m not saying that we let the audience decide for themselves. That’s always a lie. We present it exactly the way Tim presented it to me. Which is, ‘Huh, this kind of looks like it might work.’ ”</p>
</blockquote>

<blockquote>
  <p>Mr. Jenison did not insist that the painting he created in the film had to be regarded as a work of art. “Vermeer created the art,” he said. “The best I could do was come up with something that looked the same. Why do you need another ‘Music Lesson’? It was just to see how close I could get.”</p>
</blockquote>

<p><strong>This completely rebuts the Guardian and 2014 NYT review’s arguments about the movie</strong> intending to ‘claim the painting is as good’ or them ‘not seeing the difference’. The fact that the main points for both reviews are ‘this was a pale imitation without soul and not true art’ rather than ‘hey this seems like a plausible, interesting way to have done it’ shows the reviewers to be more close-minded than what they’re accusing the movie of.</p>

<p>I also agree with <a href="https://www.npr.org/2013/12/02/248190117/teller-breaks-his-silence-to-talk-tims-vermeer" title="teller">Teller’s thoughts</a> that <em>supposing</em> Vermeer used this method, it makes him a better artist:</p>

<blockquote>
  <p>Art is an activity in which one human heart communicates to the other human heart. If Vermeer used this method, which Tim believes pretty strongly he may have used, that makes Vermeer better, not worse. What this means is that Vermeer was not only someone with wonderful and beautiful ideas, and someone capable of miraculous compositions, but that he was willing to put in the incredibly intense work to translate those ideas to paint on canvas</p>
</blockquote>

<p><a href="http://www.howtotalkaboutarthistory.com/reader-questions/tims-vermeer-artistic-genius/" title="how to talk">Or as another review put it:</a></p>

<blockquote>
  <p>Taking its theory seriously doesn’t mean that Vermeer was any less talented, or that his work should mean any less. It just means that, as art historians, we have to be willing to abolish the idea of “genius” and look at the wide range of artistic practices that exist across the world and throughout history.</p>
</blockquote>

<p>I have more appreciation for critics of the process. Not knowing art well, I can’t judge whether the criticisms are valid, but if they are, they seem to debunk the Hockney and Steadman theories above [4]. This is a fairer take on the movie, focusing on ‘in light of these other facts, it’s more likely Vermeer did this’ rather than ‘tech isn’t art’.</p>

<p><strong>Whether Vermeer really used Tim’s process is not the point;</strong> it is the possibility that Vermeer <em>could</em> have used Tim’s process. Critics that do not consider this and instead attack the ‘artfulness’ of Tim’s work seem to have an irrational fear of the explainable. Not all good art may be analysed, but trying to do so is something we should encourage, not discourage. [6]</p>

<p>For another in-depth article on this, check out <a href="http://www.davidbordwell.net/blog/2014/02/03/i-am-a-camera-sometimes-tims-vermeer/" title="david bordwell">this link</a></p>

<p><em>If you like this, you might like my <a href="https://www.leonlinsx.com/picasso/" title="ABP">article on understanding Picasso</a></em></p>



<h3 id="footnotes">Footnotes</h3>

<ol>
  <li>See also <a href="https://www.santafe.edu/events/painting-and-optics-17th-century-discussion-and-sc" title="santa fe vermeer">“What makes Vermeer a great artist? Some would say that Vermeer’s use of color sets him apart, that his unabashed use of expensive and natural pigments resulted in rich expressions of everyday life, more beautiful and perfect than the thing itself. Some say that it was his innate capacity to achieve uncanny realism without any formal training, whatsoever. Others will argue that his poetic use of light and shadow to highlight certain compositional elements makes him unique.”</a></li>
  <li>Attribution for the photos: <a href="https://commons.wikimedia.org/w/index.php?curid=36351343">By Johannes Vermeer - Copied from Mauritshuis website, resampled and uploaded by Crisco 1492 (talk&nbsp;· contribs), October 2014, Public Domain, </a> and <a href="https://commons.wikimedia.org/w/index.php?curid=22127311">By Johannes Vermeer - CwFxCw3kUr-Lrw at Google Cultural Institute maximum zoom level, Public Domain, </a></li>
  <li><a href="http://www.howtotalkaboutarthistory.com/wp-content/uploads/2016/11/vermeer-big.png" title="comps">This link</a> has Tim’s version on the left and Vermeer’s version on the right, taken from <a href="http://www.howtotalkaboutarthistory.com/reader-questions/tims-vermeer-artistic-genius/" title="vermeer review">this site</a></li>
  <li>The art history news site has a comment saying the use of underpainting and glaze are among other signs that Hockney and Steadman’s theories are wrong. It also directs to a Nat Gallery article on <a href="https://www.nationalgallery.org.uk/paintings/research/meaning-of-making/vermeer-and-technique/paint-application" title="Nat Gallery">Vermeer’s painting techniques</a> that backs up the comment</li>
  <li>Claiming that ‘we have invented nothing’ after viewing them, though <a href="http://www.euskomedia.org/PDFAnlt/munibe/aa/200503217223.pdf" title="quote source">this paper</a> implies the quotes may have been invented.</li>
  <li>Having little knowledge about art, I’m bound to get flamed by someone with more experience for this article, but I stand by my points as of what I know currently.</li>
</ol>

        
      </section>

      

      


      
  

    </div></div>]]>
            </description>
            <link>https://www.leonlinsx.com/tims-vermeer/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24495692</guid>
            <pubDate>Wed, 16 Sep 2020 18:24:16 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The parallel evaluation of IIR filters – An Implementation]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=24495644">thread link</a>) | @agent_sim
<br/>
September 16, 2020 | https://agentsim.github.io/2020/09/16/implementing_parallel_evaluation_of_iirs.html | <a href="https://web.archive.org/web/*/https://agentsim.github.io/2020/09/16/implementing_parallel_evaluation_of_iirs.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    <h2 id="introduction">Introduction</h2>

<p>This is an attempt to understand Raph Levien’s <a href="https://raphlinus.github.io/audio/2019/02/14/parallel-iir.html">IIR filters can be evaluated in parallel</a> by a person with no particular knowledge of DSP, filtering or relevant mathematics, just an interest in evaluating an IIR filter in parallel and a good deal of programming experience! The goal is to produce an implementation of this article demonstrating in code the approach Raph describes. The code won’t be optimal by any means, but should serve as a sufficient base for building something much better.</p>

<p>Right from the get go we get an inkling this might not be as straight-forward as we might hope:</p>

<blockquote>
  <p>Author’s note: I got slightly stuck writing this, so am publishing a somewhat unfinished draft</p>
</blockquote>

<p>Throughout the article focuses on a simple RC-lowpass filter, given by the equation:</p>

<blockquote>
  <p><code>y[i] = x[i] * c + y[i - 1] * (1 - c)</code></p>
</blockquote>

<p>Raph also points out that this formulation of an IIR filter, while easy to understand has been superseded by the state space approach:</p>

<blockquote>
  <p>Rather than writing it it in direct form, which emphasizes the serial evaluation strategy, it’s better to use matrices. Basically, y becomes a state vector, and a becomes a matrix. This is known as the state space approach to filters and has many advantages. I’d go so far to say that direct form is essentially obsolete now, optimizing for the number of multiplies at the expense of parallelism, numerical stability, and good modulation properties.</p>
</blockquote>

<p>The state space approach will become important later. It is worth taking a little detour to clear it up.</p>

<hr>
<h2 id="state-space-detour">State Space Detour</h2>

<p>All IIR filters are difference equations, which for our purposes are recursive equations that rely on one or more outputs from previous steps. Simply speaking, the deeper the recursion (more previous outputs), the more “powerful” it can be. This recursive level is the <code>order</code> of the filter. For example, to create a low-pass filter with a steeper cut-off, like a brick-wall filter, it will need more than just the single level of recursion of the RC-lowpass filter – it will have a higher order.</p>

<p>A possible building block of such high-order IIRs is the biquad. A biquad is a second order (order = 2) filter. Biquads can be chained together to create even higher-order filters, a representation called second order sections.</p>

<p>This gets us to the <code>direct form</code> referenced in the quote above. Direct Form is a way to represent a biquad. One of the Direct Forms uses the following equation:</p>

<p><code>y[n] = b0 * x[n] + b1 * x[n - 1] + b2 * x[n - 2] - a1 * y[n - 1] - a2 * y[n - 2]</code></p>

<p>This is a second order filter because it relies on two historical values (<code>y[n - 1]</code> and <code>y[n - 2]</code>.) Thinking of the RC-lowpass filter in this way tells us that <code>b0</code> is <code>c</code> and <code>a1</code> is <code>c - 1</code> and the other constants are zero (our filter is first-order.)</p>

<h3 id="conversion-to-state-space">Conversion to State Space</h3>

<p>All IIR filters can be representated by a transfer function, written as <code>H(z)</code>. <a href="https://en.wikipedia.org/wiki/Digital_biquad_filter">Wiki’s</a> introduction to biquads shows the transfer function. Mapping it to the direct form is trivial, so it is omitted here.</p>

<p>We want to convert the biquad form to a state space form. More generally it would be useful to be able to convert any IIR filter that can be written in terms of <code>H(z)</code> to state space form. This can be done by hand, but fortunately it can be done easily via GNU Octave’s or Matlab’s <a href="https://www.mathworks.com/help/signal/ref/tf2ss.html">tf2ss</a> function:</p>

<div><div><pre><code>c = 0.44
num = [c]
den = [1 c-1]
[A, B, C, D] = tf2ss(num, den)
A: 0.56
B: 1
C: 0.44
D: 0
</code></pre></div></div>

<p>Finally we can write the filter in state-space form. State-space form is generally written as:</p>

<div><div><pre><code>x[n+1] = Ax[n] + Bu[n]
y[n] = Cx[n] + Du[n]
</code></pre></div></div>

<p>So far our equations have had <code>y</code> as the output (i.e the filtered signal) and <code>x</code> as the input (i.e. the signal to be filtered.) State-space changes this, the signal to be filtered is <code>u</code> and <code>x</code> is the <em>state vector</em>. Generally, <code>A</code> and <code>C</code> are matrices and <code>B</code> and <code>D</code> are vectors. Since our filter is first-order, each of these values are simply numbers. <code>D</code> is zero so it can be removed entirely and <code>B</code> is one so it can be simplified to:</p>

<div><div><pre><code>x[n+1] = Ax[n] + u[n]
y[n] = Cx[n]
</code></pre></div></div>

<p>substituting the constant <code>C</code> from the RC-lowpass filter equation:</p>

<div><div><pre><code>x[n+1] = (1 - C)x[n] + u[n]
y[n] = Cx[n]`
</code></pre></div></div>

<hr>

<h2 id="monoid-homomorphism-time">Monoid Homomorphism Time</h2>

<p>This is where the meat of the approach lies. Quoting from the article:</p>

<blockquote>
  <p>The basic insight is that the target monoid is a function from input state to output state, and represents any integral number of samples. The monoid binary operator is function composition, which is by nature associative and has an identity (the identity function).
In general, the amount of state required to represent such a function, as opposed to a single state value, is intractable, but in [this case] it works […] because the function is linear.</p>
</blockquote>

<p>This is going to require some unpacking.</p>

<hr>
<h3 id="what-is-a-monoid">What is a monoid?</h3>

<p>A monoid is a triplet of:</p>
<ul>
  <li>a set being operated on</li>
  <li>an associative binary operator</li>
  <li>an identity element</li>
</ul>

<p>The set might be the set of real numbers, for example. A binary operator is a function that takes two parameters that are elements of the set. Associativity is the property <code>(a op b) op c = a op (b op c)</code>, i.e. you can place the brackets arbitrarily. An identity element is an element <code>e</code> such that <code>e op x = x op e = x</code>. It is a no-op element.</p>

<p>For example, you might have a monoid representing addition: <code>(f64, +, 0)</code> meaning the set being operated on are the 64-bit floats, the binary operation is addition and the identity is <code>0</code> because <code>0+x = x+0 = x</code>. Similarly you could have a monoid representing multiplication: <code>(i32, *, 1)</code>.</p>

<hr>

<p>Back to the article. Before tackling the homomorphism and what it means, we’ll try to understand what Raph gives us as the path forward:</p>

<blockquote>
  <p>The target monoid is a function of this form:
<code>y_out = a * y_in + b</code>
This can obviously be represented as two floats, we can write the representation as simply <code>(a, b)</code>. The homomorphism then binds a single sample of input into a function. Given the filter above, an input of <code>x</code> maps to <code>(c, x * (1 - c))</code>.
Similarly, we can write out the effect of function composition in the two-floats representation space. Given <code>(a1, b1)</code> and <code>(a2, b2)</code>, their composition is <code>(a1 * a2, a2 * b1 + b2)</code>. Not especially complicated or difficult to compute.</p>
</blockquote>

<p>We have to understand:</p>

<ol>
  <li>What is a monoid homomorphism?</li>
  <li>How does the input mapping result in <code>(c, x * (1 - c)</code>?</li>
  <li>Why is <code>y_out = a * y_in + b</code> our target monoid?</li>
  <li>Why is our target monoid represented as <code>(a , b)</code>?</li>
  <li>How is the binary operation (function composition) applied?</li>
</ol>

<p>We’ll do it backwards, from easiest to hardest to understand.</p>

<h3 id="how-is-the-binary-operation-function-composition-applied">How is the binary operation (function composition) applied?</h3>

<p>Raph makes the following statement:</p>

<blockquote>
  <p>Given <code>(a1, b1)</code> and <code>(a2, b2)</code>, their composition is <code>(a1 * a2, a2 * b1 + b2)</code>.</p>
</blockquote>

<p>What is function composition? Say we have two functions, <code>f1</code> and <code>f2</code>, composition is simply <code>f2(f1(x))</code>. In our case the two functions are:</p>
<div><div><pre><code>f1: y[n] = a1 * y[n-1] + b1
f2: y[n] = a2 * y[n-1] + b2
</code></pre></div></div>

<p>The function composition, <code>f2(f1(x))</code> is thus:</p>
<div><div><pre><code>y[n] = a2 * (a1 * y[n-1] + b1) + b2
</code></pre></div></div>
<p>which multiplies out to:</p>
<div><div><pre><code>y[n] = a2 * a1 * y[n-1] + a2 * b1 + b2
</code></pre></div></div>
<p>This is clearly still of the form <code>y[n] = a * y[n-1] + b</code>, with <code>(a, b)</code> now being <code>(a2 * a1, a2 * b1 + b2)</code>.</p>

<h3 id="why-is-our-target-monoid-represented-as-a--b">Why is our target monoid represented as <code>(a , b)</code>?</h3>

<p>This is now easier to understand. To represent the history of all prior invocations of the monoid, all we need are the <code>(a, b)</code> pair of the most recent function.</p>

<p>In other words, the history <code>fn(fn-1(fn-2(fn-3(...f0(0)...))))</code> can be represented as simply <code>fn(0)</code> provided we know the <code>(a, b)</code> pair.</p>

<p>Why do we know the initial input is zero? This chain of functions starts with <code>y[0] = ...</code>. But <code>y[0]</code> cannot be defined by a prior <code>y[-1]</code>; by definition there is nothing before the first element. Therefore the initial value for <code>y[n-1]</code> must be zero.</p>

<h3 id="why-is-y_out--a--y_in--b-our-target-monoid">Why is <code>y_out = a * y_in + b</code> our target monoid?</h3>

<p>The state space representation for our filter was written as two equations:</p>
<div><div><pre><code>x[n+1] = (1-C)x[n] + u[n]
y[n] = Cx[n]
</code></pre></div></div>

<p>Our goal is to evaluate the filter in parallel, so we want to get rid of recursion. The equation for the <em>state vector</em>, <code>x[n]</code> is recursive, so that’s our target. We already know we can evaluate this equation without requiring the prior values provided we can compute values for <code>(a, b)</code>.</p>

<p>Also, from the introduction to this section, we’re told:</p>
<blockquote>
  <p>The basic insight is that the target monoid is a function from input state to output state</p>
</blockquote>

<p><code>x[n]</code> is the <em>state vector</em> so our target monoid is evaluating the state of the filter at any <code>n</code> and producing the corresponding output state.</p>

<h3 id="how-does-the-input-mapping-result-in-c-x--1---c">How does the input mapping result in <code>(c, x * (1 - c)</code>?</h3>

<p>All the pieces are in place, now we just need to compute those <code>(a, b)</code> values. We’ve got our target monoid:</p>

<p><code>x[n+1] = (1 - C) * x[n] + u[n]</code></p>

<p>let’s write it as:</p>

<p><code>y_out = (1 - C) * y_in + b</code></p>

<p>Remember <code>u[n]</code> is the signal, so when we feed in a single sample <code>x</code>, it takes the place of <code>u[n]</code> which is <code>b</code> in our target form:</p>

<p><code>y_out = (1 - C) * y_in + x</code>.</p>

<p>Pretty clearly, <code>(a, b)</code> is <code>(1 - C, x)</code>. That’s not what we expected. There are two reasons for this.</p>

<ul>
  <li>First, there’s a mistake in the article. The mapping should result in <code>(1 - C, x * C)</code>. That’s still not the result we have.</li>
  <li>Second, we are computing the state, not the final output. Once we have the state we still need to apply <code>y[n] = Cx[n]</code> to compute the final filtered result. Since that’s not a recursive function it is trivial to compute in parallel. It turns out that <code>(1 - C, x * C)</code> will both compute the state and apply the <code>y[n]</code> equation. I’m not sure how to derive this result, I stumbled upon it by accident. Furthermore, in the general case I’m not sure <code>y[n]</code> can be computed in one step along with the state vector (consider the case where <code>D</code> is non-zero.)</li>
</ul>

<h3 id="what-is-a-monoid-homomorphism">What is a Monoid Homomorphism?</h3>

<p>A per usual, <a href="https://en.wikipedia.org/wiki/Monoid#Monoid_homomorphisms">Wiki</a> is a good source for this.</p>

<p>In a nutshell, if you have two monoids with binary operators <code>M1</code> and <code>M2</code> and a function <code>f</code> that translates inputs for <code>M1</code> into <code>M2</code>, then you have a homomorphism if:</p>

<p><code>f(M1(x, y)) = M2(f(x), f(y))</code> and given identity elements for the monoids <code>I1</code> and <code>I2</code> <code>f(I1) = I2</code>.</p>

<p>I’m not sure what the homomorphism is in this case since it requires two …</p></div></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://agentsim.github.io/2020/09/16/implementing_parallel_evaluation_of_iirs.html">https://agentsim.github.io/2020/09/16/implementing_parallel_evaluation_of_iirs.html</a></em></p>]]>
            </description>
            <link>https://agentsim.github.io/2020/09/16/implementing_parallel_evaluation_of_iirs.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24495644</guid>
            <pubDate>Wed, 16 Sep 2020 18:21:17 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Parsing: A Timeline]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24495543">thread link</a>) | @jez
<br/>
September 16, 2020 | https://jeffreykegler.github.io/personal/timeline_v3 | <a href="https://web.archive.org/web/*/https://jeffreykegler.github.io/personal/timeline_v3">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">
    <mytitle>Parsing: a timeline</mytitle>
    <version>Version 3.1</version>
    <datestamp>Revision 2, 23 October 2019</datestamp>
    <author>Jeffrey Kegler</author>
    
    <p>In India, Pannini creates an exact and complete description of
      the Sanskrit language, including pronunciation. Sanskrit could be
      recreated using nothing but Pannini's grammar.
      Pannini's grammar is
      probably the first formal system of any kind, predating Euclid.
      In the future, nothing like it will exist for any other natural language of
      significant size or corpus.
      By 2018,
      Pannini will be the object of serious study.
      But in the 1940's and 1950's Pannini will be almost unknown in
      the West.
      This means that Pannini will have no direct effect
      on the other events in this timeline.
    </p>
    
    <p>In her translator's note on an article on Babbage's
    computer, Ada Lovelace becomes the first person to
    clearly distinguish programming a computer (software)
    as a separate field from
    building the computer itself (hardware).<a id="footnote-1-ref" href="#footnote-1">[1]</a>
    Ada is also the first to
    think of software in linguistic terms --
    she originates the idea that,
    in writing software,
    we communicate with the computer,
    and that the means that we use to do that is a "language".<a id="footnote-2-ref" href="#footnote-2">[2]</a>
    </p>
    <blockquote>
     A new, a vast, and a powerful language is developed for the future
     use of analysis, in which to wield its truths so that these may
     become of more speedy and accurate practical application for the
     purposes of mankind than the means hitherto in our possession have
     rendered possible. Thus not only the mental and the material, but
     the theoretical and the practical in the mathematical world, are
     brought into more intimate and effective connexion with each other.<a id="footnote-3-ref" href="#footnote-3">[3]</a>
    </blockquote>
    <p>Here "analysis" means the branch of mathematics that studies limits
    and continuous functions, and which includes calculus.
    </p>
    
    <p>Andrey Markov introduces his
      <term>chains</term>
      -- a set of
      states with transitions between them.<a id="footnote-4-ref" href="#footnote-4">[4]</a>
      One offshoot of Markov's work will be what will
      come to be known as regular expressions.
      Markov uses his chains,
      not for parsing,
      but to deal with a problem in probability --
      does the law of large numbers require that events be
      independent?
      Indirectly, Markov is addressing the question 
      of the existence of free will.<a id="footnote-5-ref" href="#footnote-5">[5]</a>.
    </p>
    
    <p>In 1913, Markov revisits his chains,
      applying them to the sequence of vowels and consonants
      in Pushkin's
      <cite>Eugene Onegin</cite><a id="footnote-6-ref" href="#footnote-6">[6]</a>.
      Again, Markov's interest is not in parsing.
      Nonetheless,
      this is an application to language
      of what later will be regarded
      as a parsing technique,
      and apparently for the first time in the West.
    </p>
    
    <p>Leonard Bloomfield,
      as part of his effort to create a linguistics that
      would be taken seriously as a science,
      publishes his "Postulates".<a id="footnote-7-ref" href="#footnote-7">[7]</a>
      Known as structural linguistics,
      Bloomfield's approach will
      dominate American lingustics for
      over two decades.
    </p>
    
    <p>
      Bloomfield's "Postulates" defines a "language" as
    </p>
    <blockquote>
      [t]he totality of utterances that can be made in a speech
      community<a id="footnote-8-ref" href="#footnote-8">[8]</a>
    </blockquote>
    <p>
      Note that there is no reference in this definition to the usual view --
      that the utterances of a language "mean" something.
    </p>
    <p>
      This omission is not accidental.<a id="footnote-9-ref" href="#footnote-9">[9]</a>
      Bloomfield excludes meaning from his definition of language
      because he wants linguistics to be taken
      seriously as science.
      Behaviorist thought is very influential at this
      time and behavorists believe that,
      while human behaviors can be observed and verified
      and therefore made the subject of science,
      mental states cannot be verified.
      Claiming to know what someone means
      by a word
      is claiming to read his mind.
      And "mind-reading" is not science.
    </p>
    
    <p>Emil Post defines and studies a formal rewriting system<a id="footnote-10-ref" href="#footnote-10">[10]</a>
      using productions.
      With this, the process of rediscovering Pannini in the
      West begins.</p>
    
    <p>Alan Turing discovers the stack as part of his design of the
      ACE machine. This will be important in parsing because recursive parsing
      requires stacks. The importance of Turing's discovery is not noticed
      in 1945 and stacks will be rediscovered many times over the
      next two decades<a id="footnote-11-ref" href="#footnote-11">[11]</a>.
    </p>
    
    <p>Claude Shannon publishes the foundation paper of information theory<a id="footnote-12-ref" href="#footnote-12">[12]</a>.
      In this
      paper, Shannon models English using Andrey Markov's
      chains<a id="footnote-13-ref" href="#footnote-13">[13]</a>.
      The approach is similar to Markov's but the intent
      is different --
      Shannon's is a serious attempt at a contribution
      to parsing human languages.
    </p>
    
    <p>From 1949 to 1951 at the ETH Zurich, Heinz Rutishauser works on
      the design of what we will come to call a compiler<a id="footnote-14-ref" href="#footnote-14">[14]</a>.
      Rutishauser's arithmetic expression parser
      does not honor precedence but it does allow nested parentheses.
      It is perhaps the first algorithm which can really be considered a
      parsing method.
      Rutishauser's compiler is never implemented.</p>
    
    <p>
      In the form of arithmetic expressions, operator expressions
      are the target of the first efforts at automatic parsing.
      We will not see this issue go away.
      Very informally<a id="footnote-15-ref" href="#footnote-15">[15]</a>,
      we can say that
      an operator expression is an expression
      built up from operands
      and operators.
      It is expected that the operand might be another operator expression,
      so operator expressions raise the issue of recursion.
    </p>
    <p>
      The archetypal examples of operator expressions are arithmetic expressions:
    </p><pre><tt>
         2+(3*4)
         13^2^-5*9/11
         1729-42*8675309
      </tt></pre>
    <p>
      In Western mathematics arithmetic expressions have been read
      according to traditional
      ideas of
      associativity and precedence:
    </p><ul>
      <li><tt>^</tt>
        is exponentiation.
        It right associates and has tightest<a id="footnote-16-ref" href="#footnote-16">[16]</a>
        precedence.
      </li>
      <li>
        Multiplication (<tt>*</tt>) and division (<tt>/</tt>) left associate.
        They have a precedence equal to each other
        and less tight than that of exponentiation.
      </li>
      <li>
        Addition ('+') and subtraction ('-') left associate.
        They have a precedence equal to each other
        and less tight than that of multiplication and division.
      </li>
      <li>
        Parentheses, when present, override the traditional
        associativity and precedence.
      </li>
    </ul>
    <p>
      Rutishauser's language
      is structured line-by-line,
      as will be all languages until LISP.
      No language until ALGOL will be truly block-structured.
    </p>
    <p>
      The line-by-line languages
      are parsed using string manipulations.
      A parsing theory is not helpful for describing these
      ad hoc string manipulations,
      so they don't give rise to one.
      The only logic in these early compilers that really deserves to be called
      a parsing method
      is that which tackles arithmetic expressions.
    </p>
    
    <p>During 1950, Corrado Boehm, also at the ETH Zurich,
      develops his own compiler.
      Rutishauser and Boehm are working at the same institution at the same
      time, but Boehm is unaware of Rutishauser's work until his own is
      complete.
      Boehm's is also the first self-compiling compiler -- it is written
      in its own language.
    </p>
    <p>
      Like Rutishauser, Boehm's language is line-by-line and
      parsed ad hoc, except for expressions. Boehm's expression parser
      <em>does</em>
      honor precedence, making it perhaps the first operator precedence
      parser<a id="footnote-17-ref" href="#footnote-17">[17]</a>.
      In Norvell's taxonomy<a id="footnote-18-ref" href="#footnote-18">[18]</a>,
      Boehm's algorithm inaugurates
      the
      <q>classic approach</q>
      to operator parsing.
    </p>
    <p>
      Boehm's compiler also allows parentheses, but the two cannot
      be mixed -- an expression can either be parsed using precedence
      or have parentheses, but not both.
      Also like Rutishauser's, Boehm's compiler is never
      implemented<a id="footnote-19-ref" href="#footnote-19">[19]</a>.
    </p>
    
    <p>Grace Hopper writes a linker-loader,
      and calls it a
      <term>compiler</term><a id="footnote-20-ref" href="#footnote-20">[20]</a>. Hopper seems to be the first
      person to use this term for a computer program.</p>
    
    <p>Hopper uses the term
      <term>compiler</term>
      in a meaning very close to one of its traditional senses:
      <q>to compose out of materials from other
        documents</q><a id="footnote-21-ref" href="#footnote-21">[21]</a>.
      Specifically, in 1952,
      subroutines were new,
      and automated programming
      (what we will come to call
      <q>compiling</q>)
      often is viewed as providing a interface
      for calling a collection of
      carefully chosen assembler subroutines<a id="footnote-22-ref" href="#footnote-22">[22]</a>.
      Hopper's new
      program takes this subroutine calling
      one step further -- instead of calling the subroutines
      it expands them (or in Hopper's terms
      <q>compiles</q>
      them) into
      a single program.
    </p>
    <p>
      After Hopper the term
      <term>compiler</term>
      will acquire a different meaning,
      one specific to the computer field.
      By 1956, programs like Hoppers will
      no longer be called
      <term>compilers</term><a id="footnote-23-ref" href="#footnote-23">[23]</a>.
    </p>
    
    <p>Kleene discovers regular languages<a id="footnote-24-ref" href="#footnote-24">[24]</a>.
      Kleene does not use regular expression notation,
      but his regular languages are the idea behind
      it.
    </p>
    
    <p>
      Glennie discovers what Knuth will later
      call the first
      <q>real</q><a id="footnote-25-ref" href="#footnote-25">[25]</a>
      compiler.
      (By this Knuth will mean that
      AUTOCODE was actually implemented and used by someone to translate
      algebraic statements into machine language.)
      Glennie's AUTOCODE
      is very close to the machine -- just above machine language.
      It does not allow operator expressions.
    </p>
    <p>
      AUTOCODE is hard-to-use,
      and apparently sees little use by anybody but
      Glennie himself.
      Because
      Glennie works for the British atomic weapons projects his papers
      are routinely classified,</p></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://jeffreykegler.github.io/personal/timeline_v3">https://jeffreykegler.github.io/personal/timeline_v3</a></em></p>]]>
            </description>
            <link>https://jeffreykegler.github.io/personal/timeline_v3</link>
            <guid isPermaLink="false">hacker-news-small-sites-24495543</guid>
            <pubDate>Wed, 16 Sep 2020 18:14:52 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Doctor writes about how to interpret Apple Watch blood oxygen levels]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24495217">thread link</a>) | @rodeomic
<br/>
September 16, 2020 | https://dabido.com.au/apple-watchs-pulse-oximeter-and-coronavirus-how-to-interpret-it/ | <a href="https://web.archive.org/web/*/https://dabido.com.au/apple-watchs-pulse-oximeter-and-coronavirus-how-to-interpret-it/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-main">
    <div>

        <article>

            

            <figure>
                <img srcset="https://dabido.com.au/content/images/size/w300/2020/09/DraggedImage-1.png 300w,
                            https://dabido.com.au/content/images/size/w600/2020/09/DraggedImage-1.png 600w,
                            https://dabido.com.au/content/images/size/w1000/2020/09/DraggedImage-1.png 1000w,
                            https://dabido.com.au/content/images/size/w2000/2020/09/DraggedImage-1.png 2000w" sizes="(max-width: 800px) 400px,
                        (max-width: 1170px) 1170px,
                            2000px" src="https://dabido.com.au/content/images/size/w2000/2020/09/DraggedImage-1.png" alt="Apple Watch’s blood oxygen level and coronavirus: interpretation and explanations">
            </figure>

            <section>
                <div>
                    <p><em>Note that this article, though written by a doctor, does not replace seeking the assistance of a medical professional if you have concerns about your health.</em></p><p>As a doctor who likes tech, I’ve always been excited when the Apple Watch comes out with new health functions like the ECG function and now the blood oxygen app. But I feel as if there needs to be some understanding of how to interpret them, because it may mislead people into thinking they’re not at risk for coronavirus, when in reality the only way you are really able to tell is to get tested with a swab.</p><p>We use pulse oximetry all the time for patients. The <em>peripheral oxygen saturation</em> - also known as the <em>SpO2</em> - is a critical vital sign that, well, tells us how well oxygenated is in your blood. The new Apple Watch Series 6 now comes with one. It works by basically using the lights on the watch to reflect how “red” the blood is in your body. The more red that reflects back to the watch, the more oxygen your blood has.</p><p>But it’s important how to understand how to interpret the readings that you find. Note that Apple provides an explicit statement that “Blood Oxygen app measurements are not intended for medical use, including self-diagnosis or consultation with a doctor, and are only designed for general fitness and wellness purposes. If you have questions about your health, contact a medical professional.”</p><figure><img src="https://dabido.com.au/content/images/2020/09/watchos7-series6-blood-oxygen-measurement.gif" alt=""></figure><p>A normal fit human being will generally have an SpO2 above 95%. So even if it’s 96% or 97%, it indicates that there’s nothing wrong from an oxygenation perspective - though if you have symptoms like chest pain, you may still actually have something very wrong going on. <strong>It is an isolated result and needs to be expertly interpreted with a doctor’s advice.</strong></p><p>If the oxygen saturation starts to dip to 94% or below, it might suggest impaired oxygenation. There’s a <em>very wide</em> variety of conditions that cause your oxygen saturation to go down. Most commonly, conditions that affect the lung - like asthma, COPD, or pulmonary embolism - would be the main culprits. Some people who have chronic lung conditions (particularly COPD) tolerate lower levels of SpO2 after having had their body adjust to it over long periods of time: so a 70 year old man with COPD who has an oxygen saturation of 93%, may at another moment have an oxygen saturation of 95%, and you wouldn’t necessarily worry too much about that 93% unless he had other symptoms. Fundamentally however, if any actual symptoms occur - like shortness of breath, chest pain, or dizziness - you should see a doctor immediately.</p><p>The question that’s probably on everyone’s mind is: <strong>how does the Apple Watch blood oxygen level relate to whether you have coronavirus or not? </strong> To understand that, you have to understand how to grade severity of Covid-19.</p><p>COVID-19 can be mild, moderate, or severe. Mild cases can generally stay at home under self isolation, whereas moderate or severe cases may need hospital.</p><h2 id="mild-coronavirus-normal-blood-oxygen-levels-95-but-not-worse-but-a-normal-oxygen-level-does-not-rule-out-coronavirus-">Mild coronavirus = normal blood oxygen levels (&gt;95%), but not worse. But a normal oxygen level does not rule out coronavirus.</h2><p>Most people who contract Covid-19 will either be asymptomatic or mildly symptomatic. They may have symptoms that are extremely difficult to tell from a standard common cold - sore throat, runny nose, a bit of a cough, fevers - but importantly, <strong>those with <em>mild</em> CoVid-19 (and no other medical conditions) will not have low blood oxygen levels.</strong></p><p>So just because you <em>don’t</em> have a low blood oxygen level SpO2 &lt;95%, does <em>not</em> mean that you don’t have Covid-19. In other words: you can have a normal blood oxygen and <em>still</em> have CoVid. A normal oxygen level does not rule out coronavirus. It just means that if you do have coronavirus, it is more likely to be considered a mild version.</p><p>Generally speaking, most people who have only mild COVID-19 should be managed at home under self-isolation, and no further investigations - apart from the swab that’s required for initial diagnosis - is necessary, unless other medical conditions are being considered. Your doctor <em>may</em> recommend that, if you have asthma or COPD, that you use an additional amount of puffer medication compared to usual. 4 out of 5 people with COVID-19 will have a</p><p>mild illness and will usually recover 2 to 3 weeks after the initial onset of</p><p>symptoms (<a href="https://covid19evidence.net.au/wp-content/uploads/FLOWCHART-2-MANAGEMENT-OF-MILD.pdf">source</a>). If respiratory symptoms do worsen, this is most likely to occur in the 2nd or 3rd week of illness. For some patients, symptoms may persist for longer than 4 weeks, or new symptoms may develop. The range of potential long term symptoms of COVID-19 is as yet unknown.</p><h2 id="moderate-or-severe-coronavirus">Moderate or severe coronavirus</h2><p>Shortness of breath, however, is a sign you should be worried about. <strong>Shortness of breath does not appear in mild coronavirus infections, but if you have shortness of breath, it indicates — if you <em>have</em> coronavirus — then that coronavirus is either moderate or severe.</strong> In this circumstance, seek medical advice.</p><p>Following the current evidence based guidelines we have in Australia (by the <a href="https://covid19evidence.net.au/">National Covid-19 Clinical Evidence Taskforce</a>), <em>moderate</em> illness is classified as thus:</p><blockquote>Stable adult patient presenting with respiratory and/or systemic symptoms or signs. Able to maintain oxygen saturation above 92% (or above 90% for patients with chronic lung disease) with up to 4 L/min oxygen via nasal prongs. <strong>Characteristics</strong>: prostration, severe asthenia, fever &gt; 38 ̊C or persistent cough, clinical or radiological signs of lung involvement, no clinical or laboratory indicators of clinical severity or respiratory impairment.</blockquote><p>And <em>severe</em> coronavirus illness is defined as such:</p><blockquote>Adult patients meeting any of the following criteria: respiratory rate ≥ 30 breaths/min, oxygen saturation ≤ 92% at a rest state, arterial partial pressure of oxygen (PaO2)/ inspired oxygen fraction (FiO2) ≤ 300</blockquote><p>That’s a lot of jargon there. But the takeaway points for adults are:</p><ul><li>If you have viral symptoms but your oxygen saturation is above 95%, it <strong>does not mean that you don’t have coronavirus</strong>, it just means that you either have something that’s not coronavirus or you have a mild form of coronavirus.</li><li><strong>If your blood oxygen levels are below 92% on your Apple Watch and you do not have a pre-existing lung condition or you have significant symptoms, seek medical advice immediately. </strong></li><li><strong>If you have a previous lung condition and your blood oxygen levels are below 90% on your Apple Watch, seek medical advice immediately.</strong></li></ul><p>If any of the following symptoms occur, you <strong>need to seek medical attention immediately as you may need to go to hospital:</strong></p><p>• severe shortness of breath or difficulty breathing</p><p>• blue lips or face</p><p>• pain or pressure in the chest</p><p>• cold, clammy or pale and mottled skin</p><p>• new confusion or fainting</p><p>• becoming difficult to rouse</p><p>• little or no urine output</p><p>• coughing up blood</p><h2 id="how-do-i-interpret-my-apple-watch-blood-oxygenation-levels-for-children">How do I interpret my Apple Watch blood oxygenation levels for children?</h2><p>For kids, the criteria is somewhat similar at the time of writing (17/9/2020). In mild illness, the child should <strong>not</strong> have a SpO2 of less than 92%. <strong>If the blood oxygen level is less than 92% in a child, or they look like they’re having trouble breathing, seek medical attention.</strong> If you have any concerns at all, a low threshold for seeking the advice of a doctor is warranted.</p><h2 id="how-reliable-is-the-apple-watch-in-detecting-oxygen-levels">How reliable is the Apple Watch in detecting oxygen levels?</h2><p>It can’t always detect oxygen levels. To directly copy and paste from Apple’s website itself:</p><blockquote>Even under ideal conditions, your Apple Watch may not be able to get a reliable blood oxygen measurement every time. For a small percentage of users, various factors may make it impossible to get any blood oxygen measurement.</blockquote><ul><li>Skin perfusion (or how much blood flows through your skin) can impact measurements. Skin perfusion varies significantly from person to person and can also be impacted by the environment. If you are out in the cold, for example, the skin perfusion in your wrist might be too low for the sensor to work with the Blood Oxygen app to get a measurement.</li><li>Permanent or temporary changes to your skin, such as some tattoos, can also impact performance. The ink, pattern, and saturation of some tattoos can block light from the sensor, making it difficult for the Blood Oxygen app to get a measurement.</li><li>Motion is another factor that can affect your ability to get successful background or on-demand measurements. Certain postures, such as arms hanging by your side or fingers in a fist position will also result in unsuccessful measurements.</li><li>If your heart rate is too high (above 150 bpm) while at rest, you won't be able to get a successful blood oxygen measurement.</li></ul><p>It’s also important that you make sure that the Apple Watch is flush with your wrist, as this will also affect results.</p><figure><img src="https://dabido.com.au/content/images/2020/09/DraggedImage.png" alt=""></figure><h2 id="references">References</h2><ul><li><a href="https://covid19evidence.net.au/">https://covid19evidence.net.au/</a> - Covid-19 Taskforce Guidelines (for medical professionals).</li><li><a href="https://support.apple.com/en-au/HT211027">https://support.apple.com/en-au/HT211027</a></li></ul><h2 id="disclaimer">Disclaimer</h2><p><em>Although I’m sure I have, if I haven’t iterated the point enough: don’t make a self-diagnosis, seek a doctor’s advice on how to proceed. </em></p><p><em>If any mistakes or you'd like to get in contact with me, please do so at david (at) dabido.com.au. You can use the contents from this article freely for your own articles, but just leave a link back to this site on your article if you do - thanks!</em></p>
                </div>
            </section>

            <!-- ConvertKit Email Form --> 
            
                <form action="https://app.convertkit.com/forms/1597921/subscriptions" method="post" data-sv-form="1597921" data-uid="a4076bbc27" data-format="inline" data-version="5" data-options="{&quot;settings&quot;:{&quot;after_subscribe&quot;:{&quot;action&quot;:&quot;message&quot;,&quot;redirect_url&quot;:&quot;&quot;,&quot;success_message&quot;:&quot;Success! Now check your email to confirm your subscription. Can't send you emails till you do. :) &quot;},&quot;analytics&quot;:{&quot;google&quot;:null,&quot;facebook&quot;:null,&quot;segment&quot;:null,&quot;pinterest&quot;:null},&quot;modal&quot;:{&quot;trigger&quot;:&quot;timer&quot;,&quot;scroll_percentage&quot;:null,&quot;timer&quot;:5,&quot;devices&quot;:&quot;all&quot;,&quot;show_once_every&quot;:15},&quot;powered_by&quot;:{&quot;show&quot;:true,&quot;url&quot;:&quot;https://convertkit.com?utm_source=dynamic&amp;utm_medium=referral&amp;utm_campaign=poweredby&amp;utm_content=form&quot;},&quot;recaptcha&quot;:{&quot;enabled&quot;:false},&quot;return_visitor&quot;:{&quot;action&quot;:&quot;show&quot;,&quot;custom_content&quot;:&quot;&quot;},&quot;slide_in&quot;:{&quot;display_in&quot;:&quot;bottom_right&quot;,&quot;trigger&quot;:&quot;timer&quot;,&quot;scroll_percentage&quot;:null,&quot;timer&quot;:5,&quot;devices&quot;:&quot;all&quot;,&quot;show_once_every&quot;:15},&quot;sticky_bar&quot;:{&quot;display_in&quot;:&quot;top&quot;,&quot;trigger&quot;:&quot;timer&quot;,&quot;scroll_percentage&quot;:null,&quot;timer&quot;:5,&quot;devices&quot;:&quot;all&quot;,&quot;show_once_every&quot;:15}},&quot;version&quot;:&quot;5&quot;}" min-width="400 500 600 700 800"><div data-style="full"><div data-element="column"><p>I'll email you right when new posts come out, and only if I think they deserve an email. No spam, ever. Just the useful or interesting stuff. Maybe some lame jokes.</p><ul data-element="errors" data-group="alert"></ul><p>I respect your privacy. If you think my writing is trash, you can totally unsubscribe at any time. I'll try my best! </p></div></div></form>



        </article>

    </div>
</div></div>]]>
            </description>
            <link>https://dabido.com.au/apple-watchs-pulse-oximeter-and-coronavirus-how-to-interpret-it/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24495217</guid>
            <pubDate>Wed, 16 Sep 2020 17:50:14 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[433% Keyboard]]>
            </title>
            <description>
<![CDATA[
Score 130 | Comments 116 (<a href="https://news.ycombinator.com/item?id=24495046">thread link</a>) | @_salmon
<br/>
September 16, 2020 | https://relivesight.com/projects/433/ | <a href="https://web.archive.org/web/*/https://relivesight.com/projects/433/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

            <h2>433% Keyboard</h2>
            <p>—「0X://Explanation」<br>
            IT IS FINALLY (mostly) COMPLETED. If anyone has ever heard directly from God Himself, the conception of this keyboard was definitely the message. 450 keys of solid non-mx-browness and
            433% the size of a normal full size, what more could you ask for? This keyboard fits 2 (two) full football fields on it {diagram on page 9 of your textbooks}. and um yeah thats kinda it idk can you see it there isnt much to say.

            {and yes for anyone who is new, i know the images load slow, im using some jankery just bear with it plz and ty}
            </p>
            <p><a target="_blank" href="https://www.reddit.com/r/MechanicalKeyboards/comments/it7a0p/i_present_my_433_ortho_endgame_is_only_a_lie_if/">reddit post</a> - thanks for 13.1k upvotes and 58 awards &lt;3</p>
              <p><a id="back" href="https://relivesight.com/ongoing/">back a page</a></p>
              <p><img src="https://drive.google.com/uc?export=view&amp;id=1OKPmow5-rwRyFS-_zcOYHDpGRSjjKVej" width="500px"></p><p>Specs:</p>
        <ul>
          <li>PCB: ScrabblePad</li>
          <li>Microcontrollers: Teensy2.0++(x2)</li>
          <li>Switches: Gateron Yellows</li>
          <li>Keycaps: xda 9009 from kpreublic (98), dsa dark gray blanks (90), xda light grey blanks (12), cherry relegenadble keycaps (tipro rebrand) (120), dsa "retro beige" (26), cherry beige keycaps (52), dsa black blanks (38), and stroke and structure set keycaps (14)</li>
        </ul>
            
              
             <p>i've acquired all the materials, i intend to 3d print some "feet" for this board and maybe tent it a bit, here are the pcbs:</p>
             <p><img src="https://drive.google.com/uc?export=view&amp;id=1uWil1XZH2ctQViab6xnskC4BIYivAWeG" width="500px"></p><p>this one should be pretty straight forward, i just need some free time to build it. two "scrabblepads" by donutcables btw.</p>
             
             <p>the dautning task beings, and spoiler: i finish it all in one weekend (kinda). well you know what they say, show dont tell (and my hands ache from this build) so heres some pics of the board while i soldered the 450 diodes, switches, etc:</p>
             <p><img src="https://drive.google.com/uc?export=view&amp;id=1tlF20EdGLjFh_IJowFcZ7qy07jmj-w6s" width="300px">
             <img src="https://drive.google.com/uc?export=view&amp;id=1ykB1evyrh2UrNnkfX7z3bR4keEpgLMhG" width="300px">
             <img src="https://drive.google.com/uc?export=view&amp;id=1Ws5bUOHTzRmT6kGS_D4HoMzPZvrE81Hj" width="300px">
             <img src="https://drive.google.com/uc?export=view&amp;id=1pRKCnqxWew30dc5mC4INyfA1pUxMgCOr" width="300px"></p><p>wow! what only took you a couple seconds to look at took me a couple dozen hours, astonishing. well now the simple part (i so naively thought) choosing keycaps!
               lets just skip all of my indecsision and skip to what i finally settled on. a xda 9009 set, dsa dark gray blanks, xda light grey blanks, cherry relegenadble keycaps (tipro rebrand), dsa "retro beige", cherry beige keycaps, dsa black blanks, and stroke and structure set keycaps.
            
              </p>
               <p><img src="https://drive.google.com/uc?export=view&amp;id=1CYfMDgvnOXaQEQv89GwsMRd-nMT4Tl66" width="400px">
               <img src="https://drive.google.com/uc?export=view&amp;id=1SxTfFaIz_Mv9gzYm4qFMZsB8LYYQCbD-" width="200px">
               <img src="https://drive.google.com/uc?export=view&amp;id=1jSCz7vcr3Nc26TKKhYej4uAPvN6-HPih" width="500px">
               <img src="https://drive.google.com/uc?export=view&amp;id=1h-45yK6HDq2VmC7mxl1NMAaWgQM8IGI_" width="500px">
               <img src="https://drive.google.com/uc?export=view&amp;id=1q99gN9PK-m8a6wxMlPnEBEt9rFs3SRws" width="500px"></p><p>alot of cutting and frusturating placement of the paper (relegndable caps) later and its done! here's this board next to some other favorites of mine:</p>
               <p><img src="https://drive.google.com/uc?export=view&amp;id=1iRszdMNP3aFmEIkVCuBkOScToGBlz_Gd" width="300px">
               <img src="https://drive.google.com/uc?export=view&amp;id=1tkfGJU4lo1WCN7LOQSl1MJhVLyvJe55L" width="300px"></p><p>sadly i cant officially call this project done until i add the 3d printed feet and finish the qmk, tho fun fact: i typed this whole post on the board~
                 its honestly not as hard as i thought it would be to switch, its still 123897421987 times better than any staggered non split torture. anyway thanks for reading so far! its been fun~
               </p>

            

   <p><a id="back" href="https://relivesight.com/ongoing/">back a page</a></p>
   <p>┈ ren ​♡</p>


  </div></div>]]>
            </description>
            <link>https://relivesight.com/projects/433/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24495046</guid>
            <pubDate>Wed, 16 Sep 2020 17:36:28 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The world is on fire (again)]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24495034">thread link</a>) | @tectonic
<br/>
September 16, 2020 | http://orbitalindex.com/archive/2020-09-16-Issue-82/#the-world-is-on-fire-again | <a href="https://web.archive.org/web/*/http://orbitalindex.com/archive/2020-09-16-Issue-82/#the-world-is-on-fire-again">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div replace-ids="_main" link-selector="a[href]:not([href*='/assets/']):not(.external):not(.no-push-state)" duration="250" script-selector="script:not([type^='math/tex'])" prefetch=""><main id="_main" role="main" data-color="#4fb1ba" data-theme-color="black" data-image="/assets/img/sidebar-bg.jpg" data-overlay=""><article class="page" role="article"><header></header><div id="mc-archive"> <center> <!--[if (gte mso 9)|(IE)]><table align="center" border="0" cellspacing="0" cellpadding="0" width="600" style="width:600px;"><tr><td align="center" valign="top" width="600" style="width:600px;"> <![endif]--><table><tbody><tr><td id="templatePreheader"><div> <!--[if mso]><table align="left" border="0" cellspacing="0" cellpadding="0" width="100%" style="width:100%;"><tr> <![endif]--> <!--[if mso]><td valign="top" width="600" style="width:600px;"> <![endif]--><div><p><em>Welcome to our recent subscribers! We hit 4,000 this week! </em>🎉<em>&nbsp;</em></p><p><em>We’d appreciate it if everyone (new and long-timers alike) would take a moment and add <u>earthlings@orbitalindex.com</u> to your contacts (this avoids Gmail and other services doing smart but unwanted auto-sorting), and then please <a href="http://us20.forward-to-friend.com/forward?u=e215b9e6f9a105b2c34f627a3&amp;id=c106078d37&amp;e=%5BUNIQID%5D" target="_blank">invite a friend</a> or share OI on social media (this makes us feel nice). Thanks to all of you, and as always, our inbox is <a href="mailto:groundcontrol@orbitalindex.com?subject=It's%20probably%20aliens%E2%80%A6%20" target="_blank">open for feedback</a>. We've gotten some great notes from readers in the past few weeks—keep ‘em coming! ❤️</em></p></div><!--[if mso]> <![endif]--> <!--[if mso]></table><![endif]--></div></td></tr><tr><td id="templateHeader"><div> <!--[if mso]><table align="left" border="0" cellspacing="0" cellpadding="0" width="100%" style="width:100%;"><tr> <![endif]--> <!--[if mso]><td valign="top" width="600" style="width:600px;"> <![endif]--><div><div><p>Issue No. 82&nbsp;|&nbsp;Sep 16, 2020</p><p>   <span>🚀 🌍 🛰</span></p></div></div><!--[if mso]> <![endif]--> <!--[if mso]></table><![endif]--></div></td></tr><tr><td id="templateBody"><div> <!--[if mso]><table align="left" border="0" cellspacing="0" cellpadding="0" width="100%" style="width:100%;"><tr> <![endif]--> <!--[if mso]><td valign="top" width="600" style="width:600px;"> <![endif]--><div><p><a href="#very-tentative-evidence-of-microbial-life-on-venus">¶</a><strong id="very-tentative-evidence-of-microbial-life-on-venus">(Very) tentative evidence of microbial life on Venus.</strong> Using the James Clerk Maxwell Telescope in Hawaii and the Atacama Large Millimeter Array observatory in Chile, researchers announced evidence of <a href="https://en.wikipedia.org/wiki/Phosphine" target="_blank">phosphine</a> gas (PH<sub>3</sub>) in the Venusian atmosphere, a gas primarily created on Earth by microbes that live in oxygen-free environments (<a href="https://www.nature.com/articles/s41550-020-1174-4" target="_blank">paper</a>). While the surface of Venus is currently incredibly inhospitable, there are regions of the atmosphere around 50 km up where temperatures range from 0-150° C and one could imagine finding life (<a href="https://www.sciencedaily.com/releases/2009/03/090318094642.htm" target="_blank">as we do on Earth</a>)—and this is exactly where the phosphine was detected. <a href="https://blogs.scientificamerican.com/observations/when-we-finally-find-aliens-they-might-smell-terrible/" target="_blank">Phosphine has previously been proposed as a biosignature</a> (<a href="https://arxiv.org/abs/1910.05224" target="_blank">paper</a>) since it’s reactive (e.g. short lived) and we don’t know of any abiotic process that could create it in quantity. “<em>The presence of PH<sub>3</sub> is unexplained after exhaustive study of steady-state chemistry and photochemical pathways, with no currently known abiotic production routes in Venus’s atmosphere, clouds, surface and subsurface, or from lightning, volcanic or meteoritic delivery.</em>” For 3 billion years, ending around 750 million years ago, <a href="https://en.wikipedia.org/wiki/Life_on_Venus#:~:text=Recent%20studies%20from%20September%20of,amount%20of%20time%20to%20evolve." target="_blank">Venus may have had surface water and a habitable environment</a>, leaving the tantalizing possibility that we’ve detected the last surviving vestiges of an ancient ecosystem. On the other hand, this could be measurement error, or we may have instead found evidence of a new abiotic form of phosphine synthesis in the extreme environment of Venus—scientists will be working hard to propose non-biological processes that could explain these results, and we expect to see a spate of new atmospheric Venus <a href="https://www.inverse.com/innovation/life-on-venus-rocket-lab-ceo" target="_blank">mission proposals</a>. In the fantastic event that the phosphine is of biological origin, the next big question will be whether or not Venusian life evolved independently, or <a href="https://en.wikipedia.org/wiki/Panspermia#Lithopanspermia" target="_blank">shares ancestry with life on Earth</a>. <a href="https://www.planetary.org/articles/venus-phosphine-biosignature" target="_blank">The Planetary Society has more about these results</a>.</p></div><!--[if mso]> <![endif]--> <!--[if mso]></table><![endif]--></div><div><table><tbody><tr><td> <a href="https://xkcd.com/2359/" title="" target="_blank"> <img alt="" src="https://mcusercontent.com/e215b9e6f9a105b2c34f627a3/images/bcbc9beb-6d82-474f-826f-cc7a10f62a73.png" width="564"> </a></td></tr><tr><td> &nbsp;</td></tr></tbody></table></div><div> <!--[if mso]><table align="left" border="0" cellspacing="0" cellpadding="0" width="100%" style="width:100%;"><tr> <![endif]--> <!--[if mso]><td valign="top" width="600" style="width:600px;"> <![endif]--><div><p><a href="#astra-launches-let-s-do-a-rocketry-startup-roundup">¶</a><strong id="astra-launches-let-s-do-a-rocketry-startup-roundup">Astra launches + let’s do a rocketry startup roundup. </strong>Last Friday, after multiple delays, Astra’s Rocket 3.1 <a href="https://astra.com/blog/we-have-lift-off/" target="_blank">made a beautiful, but ultimately unsuccessful, attempt at an orbital launch</a> (here’s the <a href="https://twitter.com/astra/status/1304884123882807296?s=21" target="_blank">official launch video</a>, another with <a href="https://twitter.com/cultonjennifer/status/1304626860853141505?s=21" target="_blank">fun bystander commentary</a>, and a third with <a href="https://www.facebook.com/ewvandongen/videos/10100980788269883/" target="_blank">a closer view of the explosion</a>). The vehicle’s navigation system introduced an oscillation that caused the flight safety system to shut off the engine. This is the fourth failure for the company (Rocket 1 and 2 were launched under significantly more secrecy, and Rocket 3 suffered an anomaly/RUD pre-flight). Astra will attempt a Rocket 3.2 launch, likely later this year, but may be running low on funding, <a href="https://www.youtube.com/watch?v=q2izFjTEBKQ" target="_blank">according to Scott Manley</a>. Meanwhile, <a href="https://www.pldspace.com/" target="_blank">PLD Space</a>, a Spanish startup initially focused on the sounding rocket market (with future orbital ambitions), recently <a href="https://startupsreal.com/pld-space-closes-e7m-investment-in-tie-up-with-arcano-partners/" target="_blank">closed an additional €7M investment</a> after completing a full duration static fire (in February) and qualification of thrust vectoring (last month) for their <a href="https://en.wikipedia.org/wiki/TEPREL#TEPREL-B" target="_blank">TEPREL-B</a> engine—the engine that will power their <a href="https://www.pldspace.com/en/miura-1" target="_blank">Miura-1</a> suborbital rocket. In the southern hemisphere, <a href="https://www.gspacetech.com/" target="_blank">Gilmour Space Technologies</a> has been making progress on their hybrid fuel rocket, <a href="https://www.gspacetech.com/launch" target="_blank">Eris</a>, and inked a <a href="https://www.innovationaus.com/gilmours-giant-leap-for-sovereign-space-capability/" target="_blank">launch deal with Space Machines</a> last week. Eris uses a solid propellant with a liquid oxidizer, decreasing the complexity of development but retaining some of the efficiency and restartability that liquid engines provide. (Similarly, Rocket Lab <a href="https://3dprintingindustry.com/news/worlds-1st-3d-printed-battery-powered-rocket-engine-47226/" target="_blank">reduced the complexity of Electron by using electric pumps</a> instead of a traditional gas generator system.) And finally, Scottish startup <a href="https://www.skyrora.com/" target="_blank">Skyrora</a> recently launched their tiny SkyLark Micro (mentioned in <a href="https://orbitalindex.com/archive/2020-08-19-Issue-78/#news-in-brief" target="_blank">Issue No. 82</a>) and are targeting a launch of their scaled up <a href="https://www.skyrora.com/skyrora-xl" target="_blank">SkyLark XL</a> with its restartable peroxide third stage in 2023. We’re pulling for them all! (Related: While not a technical development, Chinese startup Landspace just <a href="https://spacenews.com/chinas-landspace-raises-175-million-for-zhuque-2-launch-vehicles" target="_blank">raised $175M for its Zhuque-2</a> two-stage methane-O2 vehicle and is targeting a June 2021 launch.)</p></div><!--[if mso]> <![endif]--> <!--[if mso]></table><![endif]--></div><div> <!--[if mso]><table align="left" border="0" cellspacing="0" cellpadding="0" width="100%" style="width:100%;"><tr> <![endif]--> <!--[if mso]><td valign="top" width="600" style="width:600px;"> <![endif]--><div><p><a href="#the-world-is-on-fire-again">¶</a><strong id="the-world-is-on-fire-again">The world is on fire (again).</strong> Everyone on the US West Coast (and in <a href="https://www.bbc.com/news/world-latin-america-53893161" target="_blank">the Amazon</a>, <a href="https://www.nature.com/articles/d41586-020-02568-y" target="_blank">the Arctic</a>, <a href="https://www.nationalgeographic.com/science/2020/07/heat-wave-thawed-siberia-now-on-fire" target="_blank">Siberia</a>...) is suffering through unlivable air quality indexes from record-breaking fires, which have burned over <a href="https://www.fire.ca.gov/incidents/" target="_blank">3.1 million acres in California alone</a>, an area larger than Connecticut and 26x what had burned by this time last year. As <a href="https://heated.world/p/nothing-to-see-here-folks" target="_blank">Emily Atkin reported in HEATED</a>, news sources are largely ignoring the cause of these fires: <a href="https://www.c2es.org/content/wildfires-and-climate-change" target="_blank">climate change</a>. This is a vicious cycle—the fires’ emissions are the <a href="https://twitter.com/Weather_West/status/1304477304962207744" target="_blank">highest we’ve ever seen by satellite from CA or OR</a> and have <a href="https://qz.com/1903191/western-wildfires-are-producing-a-record-breaking-amount-of-co2/" target="_blank">now emitted more CO<sub>2</sub> than the states’ power sectors</a>. Earth observation satellites are playing a key role in analyzing and responding to this crisis. NASA’s <a href="https://firms.modaps.eosdis.nasa.gov/map" target="_blank">Fire Information for Resource Management System</a> provides daily fire point-source detection, along with real time geofenced updates, world wide; and, here’s a view that their <a href="https://aqua.nasa.gov/" target="_blank">Aqua</a> satellite recently <a href="https://www.nasa.gov/image-feature/goddard/2020/nasas-aqua-satellite-captures-devastating-wildfires-in-oregon" target="_blank">captured of smoke and fire sources over Oregon</a>. <a href="https://climate.nasa.gov/vital-signs/global-temperature/" target="_blank">NASA also provides a dashboard of world temperature</a> (📈), and <a href="https://www.esa.int/Applications/Observing_the_Earth/Space_for_our_climate/Ice_sheet_melt_on_track_with_worst-case_climate_scenario" target="_blank">ESA is reporting</a> that “<em>Antarctica and Greenland are melting at a pace that lines up with the worst-case climate scenarios predicted by the Intergovernmental Panel on Climate Change</em>” (<a href="https://www.nature.com/articles/s41558-020-0893-y" target="_blank">paper</a>). Finally, even as <a href="http://orbitalindex.com/archive/2020-01-23-Issue-48/#tracking-methane-from-space" target="_blank">satellites are starting to monitor methane releases</a>, the Trump administration has <a href="https://www.nytimes.com/2020/08/13/climate/trump-methane.html" target="_blank">dropped rules that require oil and gas companies to detect and repair methane leaks</a> (along with <a href="https://www.nytimes.com/interactive/2020/climate/trump-environment-rollbacks.html" target="_blank">99 other environmental rollbacks</a>). For more updates about the anthropocene, we recommend <a href="https://heated.world/" target="_blank">HEATED</a>, <a href="https://www.rewiringamerica.org/" target="_blank">Rewiring America</a>, and <a href="https://qz.com/emails/the-race-to-zero-emissions" target="_blank">The Race to Zero Emissions from Quartz</a>. 🌍🔥</p></div><!--[if mso]> <![endif]--> <!--[if mso]></table><![endif]--></div><div> <!--[if mso]><table align="left" border="0" cellspacing="0" cellpadding="0" width="100%" style="width:100%;"><tr> <![endif]--> <!--[if mso]><td valign="top" width="600" style="width:600px;"> <![endif]--><p> <strong>News in brief.&nbsp;</strong>Northrop Grumman’s solid-fueled OmegA is <a href="https://spacenews.com/northrop-grumman-to-terminate-omega-rocket-program/" target="_blank">officially cancelled</a> after their failure to win a military contract with it; Chinese <a href="https://www.nasaspaceflight.com/2020/09/kuaizhou-1a-fails-during-jilin-1-launch/" target="_blank">ExPace’s launch of a high resolution remote sensing satellite on its three stage Kuaizhou rocket failed</a> to reach orbit; however, China successfully <a href="https://www.nasaspaceflight.com/2020/09/china-bounces-back-long-march-11-nine-satellites/" target="_blank">launched another Long March 11 from a barge at sea</a> a few days later (<a href="https://youtu.be/wczXM1BC9no" target="_blank">video</a>); Astrobiotic completed <a href="https://www.astrobotic.com/2020/9/8/astrobotic-successfully-completes-peregrine-lunar-lander-structural-model-testing" target="_blank">structural testing of their Peregrine lunar lander</a> model; the Angara launch pad we <a href="https://orbitalindex.com/archive/2020-08-12-Issue-77/#the-future-of-angara" target="_blank">mentioned</a> a few issues back <a href="https://www.ruaviation.com/news/2020/9/3/15382/?h" target="_blank">arrived at Vostochny Cosmodrome</a> after traversing the North Sea Route; NASA <a href="https://www.orlandosentinel.com/space/os-bz-nasa-moon-rock-solicitation-20200910-t6fsl5tdfncxpbj3yealg2mtii-story.html" target="_blank">announced plans to buy lunar regolith mined by commercial companies</a> by 2024, seemingly as a ploy to demonstrate resource ownership rights on the Moon; Boeing is<a href="https://www.reuters.com/article/us-space-exploration-boeing-exclusive/exclusive-boeing-to-face-independent-ethics-probe-over-lunar-lander-bid-document-idUSKBN2603F2" target="_blank"> facing an independent compliance and ethics review</a> related to their communications with NASA’s Doug Loverro regarding their lunar lander bid; GHGSat, whom we mentioned last week, <a href="https://www.ghgsat.com/ghgsat-secures-us30m-dollars-in-series-b-funding/" target="_blank">announced that it has raised $30M as part of its Series B round</a>; and, Musk tweeted that <a href="https://twitter.com/elonmusk/status/1304836575075819520?ref_src=twsrc%5Etfw%7Ctwcamp%5Etweetembed%7Ctwterm%5E1304836575075819520%7Ctwgr%5Eshare_3&amp;ref_url=reeder-article%3A%2F%2Findex.html" target="_blank">SN8 will conduct an “exciting” 18 km flight with three Raptor engines in “about a week”</a> (the flight might look something <a href="https://youtu.be/DdTYMry7fq0" target="_blank">like this</a>).</p><!--[if mso]> <![endif]--> <!--[if mso]></table><![endif]--></div><div> <!--[if mso]><table align="left" border="0" cellspacing="0" cellpadding="0" width="100%" style="width:100%;"><tr> <![endif]--> <!--[if mso]><td valign="top" width="600" style="width:600px;"> <![endif]--><div> <strong>Etc.</strong><ul><li>📅 <a href="https://www.space.com/uranus-neptune-skywatching-september-2020.html" target="_blank">Uranus is visible this week without a telescope.</a></li><li>📅 Software for Space is hosting a free, online talk with <a href="https://www.andris.space/" target="_blank">Andris Slavinskis</a> about imaging and intercepting comets as part of ESA’s <a href="https://www.cometinterceptor.space/" target="_blank">Comet Interceptor mission</a>. Andris is co-PI of the <a href="https://tospexgroup.space/node/7" target="_blank">OPIC</a> instrument, part of spacecraft B2, which will perform a risky, fast comet flyby. The talk is next Tuesday, September 22 at 8PM PDT. <a href="https://www.runtheworld.today/app/invitation/7231" target="_blank">Signup here</a>.</li><li>📅 <a href="https://space4impact.org/" target="_blank">Space4Impact</a> “<em>aims to advocate and promote NewSpace companies using or developing space technologies in alignment with the United Nations Sustainable Development Goals.</em>” <a href="https://space4impact.org/our-ecosystem/call-for-newspace-companies/" target="_blank">Applications for their November kick off event</a> end on the 20th.</li><li>📅 ESA’s free <a href="https://isd.esa.int/" target="_blank">Virtual Industry Space Days</a> is happening September 16-17.</li><li>An <a href="https://www.reddit.com/r/pics/comments/ihaqsl/i_captured_an_85_megapixel_photo_of_our_moon_last/" target="_blank">85 megapixel picture of the Moon</a>. Be sure to zoom in!</li><li>Curiosity just <a href="http://www.leonarddavid.com/curiosity-mars-rover-succeeds-in-unique-experiment/" target="_blank">completed its first SAM TMAH experiment</a> which looks for organic molecules. Results are forthcoming.</li><li> <a href="https://undark.org/2020/07/13/nasa-microbe-biology/" target="_blank">How NASA has helped to shape the study of biology</a>.</li><li>A recent <a href="https://arxiv.org/abs/2004.03968" target="_blank">paper</a> used up-to-date values based on our growing knowledge of stars and exoplanets to derive a modified Drake Equation and calculate that there may be around 36 alien civilizations currently sharing the galaxy with us. However, they appear to assume that 100% of habitable planets eventually develop life, which seems… high. You can experiment with their assumptions using <a href="https://www.omnicalculator.com/physics/alien-civilization" target="_blank">this handy calculator</a>.</li><li> <a href="https://www.universetoday.com/147782/an-update-on-the-damage-to-the-arecibo-observatory/" target="_blank">An update on the damage to the Arecibo Observatory</a>.</li><li>A recent <a href="https://www.vox.com/podcasts/2020/8/27/21403184/saul-griffith-ezra-klein-show-solve-climate-change-green-new-deal-rewiring-america" target="_blank">interview of Saul Griffith on the Ezra Klein Show introducing Rewiring America</a>, a plan for electrifying the US and decarbonizing its grid by 2035—and creating 25 million jobs along the way. 💡</li></ul></div><!--[if mso]> <![endif]--> <!--[if mso]></table><![endif]--></div></td></tr><tr></tr></tbody></table><!--[if (gte mso 9)|(IE)]></table><![endif]--> </center></div></article></main><hy-drawer threshold="10" touch-events="" prevent-default=""></hy-drawer> </div></div>]]>
            </description>
            <link>http://orbitalindex.com/archive/2020-09-16-Issue-82/#the-world-is-on-fire-again</link>
            <guid isPermaLink="false">hacker-news-small-sites-24495034</guid>
            <pubDate>Wed, 16 Sep 2020 17:35:27 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Security Software for Autonomous Vehicles]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24494970">thread link</a>) | @headalgorithm
<br/>
September 16, 2020 | https://www.tum.de/nc/en/about-tum/news/press-releases/details/36225/ | <a href="https://web.archive.org/web/*/https://www.tum.de/nc/en/about-tum/news/press-releases/details/36225/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><article itemscope="itemscope" itemtype="http://schema.org/Article"><header><p itemprop="description">
					Before autonomous vehicles participate in road traffic, they must demonstrate conclusively that they do not pose a danger to others. New software developed at the Technical University of Munich (TUM) prevents accidents by predicting different variants of a traffic situation every millisecond.
				</p></header><section><p>A car approaches an intersection. Another vehicle jets out of the cross street, but it is not yet clear whether it will turn right or left. At the same time, a pedestrian steps into the lane directly in front of the car, and there is a cyclist on the other side of the street. People with road traffic experience will in general assess the movements of other traffic participants correctly.</p><p>“These kinds of situations present an enormous challenge for autonomous vehicles controlled by computer programs,” explains <a href="https://www.professoren.tum.de/en/althoff-matthias" target="_blank">Matthias Althoff</a>, Professor of Cyber-Physical Systems at TUM. "But autonomous driving will only gain acceptance of the general public if you can ensure that the vehicles will not endanger other road users – no matter how confusing the traffic situation."</p><div id="c58839"><div><div><p>The ultimate goal when developing software for autonomous vehicles is to ensure that they will not cause accidents. Althoff, who is a member of the <a href="https://www.msrm.tum.de/en/home/" target="_blank">Munich School of Robotics and Machine Intelligence</a> at TUM, and his team have now developed a software module that permanently analyzes and predicts events while driving. Vehicle sensor data are recorded and evaluated every millisecond. The software can calculate all possible movements for every traffic participant – provided they adhere to the road traffic regulations – allowing the system to look three to six seconds into the future.</p><p>Based on these future scenarios, the system determines a variety of movement options for the vehicle. At the same time, the program calculates potential emergency maneuvers in which the vehicle can be moved out of harm’s way by accelerating or braking without endangering others. The autonomous vehicle may only follow routes that are free of foreseeable collisions and for which an emergency maneuver option has been identified.</p></div></div></div><div id="c58840"><div><div><p>This kind of detailed traffic situation forecasting was previously considered too time-consuming and thus impractical. But now, the Munich research team has shown not only the theoretical viability of real-time data analysis with simultaneous simulation of future traffic events: They have also demonstrated that it delivers reliable results.</p><p>The quick calculations are made possible by simplified dynamic models. So-called reachability analysis is used to calculate potential future positions a car or a pedestrian might assume. When all characteristics of the road users are taken into account, the calculations become prohibitively time-consuming. That is why Althoff and his team work with simplified models. These are superior to the real ones in terms of their range of motion – yet, mathematically easier to handle. This enhanced freedom of movement allows the models to depict a larger number of possible positions but includes the subset of positions expected for actual road users.</p></div></div></div><div id="c58841"><div><div><p>For their evaluation, the computer scientists created a virtual model based on real data they had collected during test drives with an autonomous vehicle in Munich. This allowed them to craft a test environment that closely reflects everyday traffic scenarios. "Using the simulations, we were able to establish that the safety module does not lead to any loss of performance in terms of driving behavior, the predictive calculations are correct, accidents are prevented, and in emergency situations the vehicle is demonstrably brought to a safe stop," Althoff sums up.</p><p>The computer scientist emphasizes that the new security software could simplify the development of autonomous vehicles because it can be combined with all standard motion control programs.</p></div></div></div><div><h3>
			Publications:
		</h3><p>Christian Pek, Stefanie Manzinger, Markus Koschi, Matthias Althoff: „Using online verification to prevent autonomous vehicles from causing accidents“, Nature Machine Intelligence 2, 518-528 (2020),<br><a href="https://www.nature.com/articles/s42256-020-0225-y" target="_blank">https://www.nature.com/articles/s42256-020-0225-y</a></p></div><div><h3>
			More information:
		</h3><div><ul><li>The research was funded by the BMW Group's CAR@TUM project, the Ko-HAF project (Cooperative Highly Automated Driving) of the Federal Ministry for Economic Affairs and Energy and the German Research Foundation DFG.</li><li>The Munich School of Robotics and Machine Intelligence (MSRM) at the Technical University of Munich is an integrative research center. The aim of this center is to research the fundamentals of robotics, perception and artificial intelligence in order to develop technologies in the areas of health, work and mobility. Examples of development work include adaptive and networked robot assistants for the industry of the future, autonomous flying and driving robot teams for the mobility of the future, and medical nanorobots and assistant robots for a self-determined life in old age.</li></ul></div></div><div><div><div><h3>
		Corporate Communications Center
	</h3></div></div></div><section></section></section></article></div></div></div>]]>
            </description>
            <link>https://www.tum.de/nc/en/about-tum/news/press-releases/details/36225/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24494970</guid>
            <pubDate>Wed, 16 Sep 2020 17:29:50 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Common challenges facing marketers at tech companies]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24494937">thread link</a>) | @andyjih_
<br/>
September 16, 2020 | https://www.grouparoo.com/blog/marketing-challenges | <a href="https://web.archive.org/web/*/https://www.grouparoo.com/blog/marketing-challenges">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="blogContent"><p>In the process of starting Grouparoo, we interviewed a hundred people who work in Marketing at various levels and roles. They spanned levels from independent contributors to executives and covered a wide range of marketing disciplines including Marketing Ops, Marketing Automation, Product Marketing, and more. Across our interviews, we heard about a diversity of experiences, but we heard a few common themes:</p><ol><li>Marketing’s scope is increasing</li><li>Marketing is becoming more and more technical</li><li>Marketers often don’t get the support they need from other teams</li></ol><p>While every role and level experienced this phenomenon slightly differently, the experiences were similar. I’ll being sharing some highlights from those interviews.</p><h2>Marketing’s scope is ever-increasing</h2><p>We’ve learned from marketers who have been in the tech industry for a while that their scope is continually expanding and increasing. The number of channels that marketers responsible for has grown, and by extension, the number of tools that they need to use to manage all of those channels has also grown. Here’s a diagram showing all of the different Marketing Technology (Martech) providers that exist per <a href="https://chiefmartec.com/2020/04/marketing-technology-landscape-2020-martech-5000/">chiefmartech.com</a>:</p><p><img alt="martech 2020" src="https://www.grouparoo.com/_next/static/images/martech2020-d175fee6b32c55455a663b3d4ee3f283.png"></p><p>Marketers also own more parts of the funnel now. Historically, marketers were responsible primarily for defining the company’s brand and driving awareness. Now, they’re increasingly responsible for qualifying leads, gathering emails, ensuring these leads convert, and nurturing and retaining those customers for the long-term.</p><h2>Marketing is becoming more technical</h2><p>As the number of channels has increased, the tools to support all of those channels has also increased. The skills required to run campaigns across all of these channels and analyzing the results of these campaigns requires more and more technical abilities.</p><p>As an organization grows, one of the most important aspects of marketing is segmenting your users correctly before you start any campaigns. If you can’t segment your customer base appropriately, the only options you have left are about how often you can contact your entire user list.</p><p>For technology companies, segmenting users isn’t just as simple as segmenting them based on their demographic information. The best kind of segmentation takes into account how your customers use your product, their purchase history, and all other kinds of data that exist in your data warehouse and elsewhere. Being able to join all of that data from various places, segment your users appropriately, and then take actions is super tough. All of this often requires someone with SQL skills to help you out.</p><h2>Marketers often don’t get the support they need from other teams</h2><blockquote><p>“It’s <strong>incapacitating</strong> to have to rely on someone else. Third party tools are a <strong>source of tension.</strong> Product &amp; Eng is saying over and over to you that your function isn’t important.” - VP of Marketing, <a href="https://taskrabbit.com/">TaskRabbit</a></p></blockquote><p>As Marketing is using more and more tools, Engineering and Product teams are needed to evaluate, prioritize, and integrate these tools. We’ve heard of some horror stories where a Marketing team had signed and was paying for Braze for over a year, but the Engineering team hadn’t integrated it yet. So, the Marketing team hadn’t sent a single email in over a year.</p><blockquote><p>“<strong>No one likes working on marketing integrations.</strong> The systems are brittle, it takes a long time, and it’s hard to know if you got the integration right.” - Engineering Manager, <a href="http://guideline.com/">Guideline</a></p></blockquote><p>Part of the issue is that very few engineers join a company because they’re excited to build an integration with Marketo. Engineers are usually excited about building and scaling the core product. As a result, this kind of work is often de-prioritized and pushed to next week, next sprint, next quarter, etc.</p><blockquote><p>“<strong>It’s like pulling teeth</strong> to get engineers to implement new events in Segment.” - Marketing Manager, <a href="http://molekule.com/">Molekule</a></p></blockquote><p>Even with tools like Segment that claim to be for marketers, the reality is that marketers and other teams are still dependent on engineers when new events need to be instrumented in the product.</p><blockquote><p>“Sending a new piece of data from Redshift to Marketo takes anywhere from 4-6 weeks. To work around delays, we manually export CSVs.” - Growth Manager, <a href="https://stripe.com/">Stripe</a></p></blockquote><p>Because of these slow processes, marketers and others often fall back to what’s tried-and-true: spreadsheets and CSVs. Even though CSVs and spreadsheets aren’t the most long-term scalable solution, they get the job done when data isn’t easily strung together.</p><h2>How does one solve these problems?</h2><p>Given everything I've described, while a lot of these challenges are rooted in organizational misalignment, these challenges can also be solved through technology. Here at Grouparoo, we've taken all of these learnings to build a framework and product that makes it easier for engineers to install so they don't have to worry about building and maintaining all of these integrations. Additionally, our product is architected to pull data directly from your core data sources without needing future engineering support. Feel free to share this <a href="http://grouparoo.com/blog/marketing-challenges">blog post</a> with your engineering team so they can try installing Grouparoo and <a href="http://grouparoo.com/meet">reach out</a> if you want to learn more.</p></div></div>]]>
            </description>
            <link>https://www.grouparoo.com/blog/marketing-challenges</link>
            <guid isPermaLink="false">hacker-news-small-sites-24494937</guid>
            <pubDate>Wed, 16 Sep 2020 17:27:00 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Thoughts on Compile-Time Function Evaluation and Type Systems]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24494859">thread link</a>) | @pcr910303
<br/>
September 16, 2020 | https://www.ralfj.de/blog/2018/07/19/const.html | <a href="https://web.archive.org/web/*/https://www.ralfj.de/blog/2018/07/19/const.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="-content">
      <header>
    
    
</header>

<p>For some time now (since the 1.26 release, to be precise), Rust has a <a href="https://github.com/rust-lang/rust/pull/46882">very powerful machinery for CTFE</a>, or compile-time function evaluation.
Since then, there have been various discussions about which operations should be allowed during CTFE, which checks the compiler should do, how this all relates to promotion and which kinds of guarantees we should be able to expect around CTFE.
This post is my take on those topics, and it should not be surprising that I am going to take a very type-system centric view.
Expect something like a structured brain dump, so there are some unanswered questions towards the end as well.</p>

<!-- MORE -->

<h2 id="some-background">Some Background</h2>

<p>CTFE is the mechanism used by the compiler, primarily, to evaluate items like <code>const x: T = ...;</code>.
The <code>...</code> here is going to be Rust code that must be “run” at compile-time, because it can be used as a constant in the code – for example, it can be used for array lengths.</p>

<p>Notice that CTFE is <em>not</em> the same as constant propagation: Constant propagation is an optimization pass done by compilers like LLVM that will opportunistically change code like <code>3 + 4</code> into <code>7</code> to avoid run-time work.
Being an optimization, constant propagation must, by definition, not change program behavior and will not be observable at all (other than performance).
CTFE, on the other hand, is about code that <em>must</em> be executed at compile-time because the compiler needs to know its result to proceed – for example, it needs to know the size of an array to compute how to lay out data in memory.
You can statically see, just from the syntax of the code, whether CTFE applies to some piece of code or not:
CTFE is only used in places like the value of a <code>const</code> or the length of an array.</p>

<figure><pre><code data-lang="rust"><span>fn</span> <span>demo</span><span>()</span> <span>{</span>
  <span>const</span> <span>X</span><span>:</span> <span>u32</span> <span>=</span> <span>3</span> <span>+</span> <span>4</span><span>;</span> <span>// CTFE</span>
  <span>let</span> <span>x</span><span>:</span> <span>u32</span> <span>=</span> <span>4</span> <span>+</span> <span>3</span><span>;</span> <span>// no CTFE (but maybe constant propagation)</span>
<span>}</span></code></pre></figure>

<p>We say that the <code>3 + 4</code> above is in <em>const context</em> and hence subject to CTFE, but the <code>4 + 3</code> is not.</p>

<h2 id="const-safety">Const Safety</h2>

<p>Not all operations can be used in const context.
For example, it makes no sense to compute your array length as “please go read that file from disk and compute something” – we can’t know what will be on the disk when the program actually runs.
We could use the disk of the machine compiling the program, but that does not sound very appealing either.
Things get even worse when you consider letting the program send information to the network.
Clearly, we don’t want CTFE to have actually observable side-effects outside of compilation.</p>

<p>In fact, just naively letting programs read files would also be grossly unsafe:
When computing the length of an array twice, it is important that we obtain the same result.
<strong>Update:</strong> As @eddyb points out, things get even worse once you consider const generics, traits, and coherence: At that point, you have to <a href="https://internals.rust-lang.org/t/mir-constant-evaluation/3143/47">rely on evaluating the same expression in different crates to produce the same result</a>. <strong>/Update</strong></p>

<blockquote>
  <p><em>CTFE must be deterministic.</em></p>
</blockquote>

<p>If not, the compiler could end up thinking that two arrays have the same length, but then later compute different layouts.
That would be a disaster.
So, any kind of external input and any kind of non-determinism is a complete no-go for CTFE.
This does not just concern I/O, even converting a reference to a <code>usize</code> is not deterministic.</p>

<p>The compiler will throw a CTFE error if such an operation is ever attempted to be executed.
Those programs that <em>are</em> executable in const context are called <em>const safe</em>:</p>

<blockquote>
  <p><em>A program is const safe if it can be executed by CTFE without hitting an error (panics are allowed).</em></p>
</blockquote>

<p>This is very much in analogy with the idea that a <em>safe</em> (or <em>run-time safe</em>, to distinguish it from const safe) program is a program that does not cause any memory errors or data races.
In fact, we will see that this analogy between “programs that are well-behaved under CTFE” (const safety) and “programs that do not cause UB” (run-time safety) can carry us very far.</p>

<p>One very interesting question now is whether some given function <code>foo</code> should be allowed to be called in const context.
We could just always say “yes”, and rely on the fact that CTFE will throw an error when <code>foo</code> does anything fishy.
The problem with this approach is that, if <code>foo</code> is in a library, updating the library might change <code>foo</code> in a way that makes it no longer const-safe.
In other words, making <em>any</em> function not const-safe any more would be a semver violation because it could break downstream crates.</p>

<p>The typical mechanism to solve that problem is to have an annotation that explicitly marks a function as “usable in const context”.
In Rust, the proposed mechanism for this purpose is <a href="https://github.com/rust-lang/rust/issues/24111"><code>const fn</code></a>; in C++ it is called <code>constexpr</code>.
The compiler can now reject calling non-<code>const</code> functions in const context, so library authors can add non-const-safe operations without breaking semver.</p>

<h2 id="const-type-system-and-const-soundness">Const Type System and Const Soundness</h2>

<p>This leads us to the interesting situation that the compiler will reject code in const context that it would accept just fine outside of const context.
In particular, the body of a <code>const fn</code> is <em>also</em> considered to be in const context – otherwise, if we allowed calling arbitrary functions, we would have the same problem again.
One useful way to think about this is that we have a second type system, a “const type system”, that is used to type-check code in const context.
This type system does not allow calls to non-<code>const</code> functions.</p>

<p>It should probably also not allow casting a reference to an integer, because (as discussed above) that is a non-deterministic operation which cannot be performed during CTFE.
What else?</p>

<p>Before we go on and add random additional checks, let us step back and think about what our goals are here.
Typically, the purpose of a type system is to establish some sort of guarantee for a well-typed program.
For Rust’s “main” (“run-time”) type system, that guarantee is “no undefined behavior”, which means no memory errors and no data races.
What is the guarantee for our new const type system?
We have already talked about it above: It’s const safety!
This leads us to the definition of const soundness:</p>

<blockquote>
  <p><em>Our const type system is sound if well-typed programs are const-safe.</em></p>
</blockquote>

<p>Again, notice how this is very similar to the correctness statement for the run-time type system, which guarantees run-time safety.</p>

<p>However, we have to be a bit careful here.
Consider the following piece of code:</p>

<figure><pre><code data-lang="rust"><span>const</span> <span>fn</span> <span>is_eight_mod_256</span><span>(</span><span>x</span><span>:</span> <span>usize</span><span>)</span> <span>-&gt;</span> <span>bool</span> <span>{</span> <span>x</span> <span>%</span> <span>256</span> <span>==</span> <span>8</span> <span>}</span></code></pre></figure>

<p>We will definitely want to allow this code.
Why should <code>==</code> or <code>%</code> not be const-safe?
Well, we could call our function as follows:</p>

<figure><pre><code data-lang="rust"><span>is_eight_mod_256</span><span>(</span><span>Box</span><span>::</span><span>into_raw</span><span>(</span><span>Box</span><span>::</span><span>new</span><span>(</span><span>0</span><span>))</span> <span>as</span> <span>usize</span><span>);</span></code></pre></figure>

<p>That statement is certainly <em>not</em> const-safe as the result depends on where exactly the allocator puts our <a href="https://doc.rust-lang.org/stable/std/boxed/struct.Box.html"><code>Box</code></a>.
However, we want to blame the <code>as usize</code> for this issue, not the <code>is_eight_mod_256</code>.</p>

<p>The solution is for the const type system to not just have separate rules about which operations are allowed, we also must change our notion of which values are “valid” for a given type.
An integer obtained from a pointer is valid for <code>usize</code> at run-time, but it is <em>not</em> valid for <code>usize</code> in const mode!
After all, there are basic arithmetic operations that we expect all <code>usize</code> to support, that CTFE cannot support for pointers.</p>

<blockquote>
  <p><em>A function is const-safe if, when executed with const-valid arguments, it does not trigger a CTFE error and returns a const-valid result (if it returns at all).</em></p>
</blockquote>

<p>Under this definition, <code>is_eight_mod_256</code> is const-safe because whenever <code>x</code> is an actual integer, it will evaluate without any error.
At the same time, this shows that converting a reference into <code>usize</code> is <em>not</em> const-safe, because the input of this operation is const-valid, but the output is not!
This provides a solid justification for rejecting such casts in const context.</p>

<h2 id="ctfe-correctness">CTFE correctness</h2>

<p>In Rust, CTFE is performed by miri, a MIR interpreter that used to be a <a href="https://github.com/solson/miri/">separate project</a> but whose core engine has been integrated into rustc.
miri will execute the code in const context step-by-step and just complain and fail with an error when an operation cannot be performed.
This does not just concern non-determinism; miri does not support everything it could support because @oli-obk is <a href="https://github.com/rust-lang/rust/blob/5ba21844f6c85a0cd55c8ea0250d5cd758134f84/src/librustc_mir/interpret/const_eval.rs#L199">super careful</a> about not accidentally stabilizing behavior that should undergo an RFC.</p>

<p>In fact, right now miri will reject all operations on raw pointers.
They all raise a CTFE error and hence must all be rejected by the const type system.
The plan is to change miri so that it can support more operations, but we have to be careful in doing so.
I have already mentioned that miri must be deterministic, but there is another point to consider that you might have expected to play a much more prominent role:
CTFE, at least if it succeeds, should match run-time behavior!</p>

<blockquote>
  <p><em>CTFE is correct if, when it loops forever, completes with a result, or panics, that behavior matches the run-time behavior of the same code.</em></p>
</blockquote>

<p>We clearly do not want code to behave differently when it lives in const context and is run by CTFE, and when it is compiled to machine-code and executed “for real”.</p>

<p>Or, do we?
Don’t get me wrong, I am not advocating for deliberately breaking that property, but it sure is worth considering what would go wrong if miri was <em>not</em> CTFE-correct.
Maybe surprisingly, it turns out that this would not be a soundness issue!
All we care about for the purpose of soundness is for CTFE to be deterministic, as already discussed.
We don’t re-run the same code at run-time and rely on it still doing the same, so nothing actually breaks if CTFE behavior diverges from run-time behavior.</p>

<p>That said, not being CTFE correct is surely very surprising and we should avoid it best we can.
However, I am told that actually predicting the result of floating-point operations deterministically <a href="https://gafferongames.com/post/floating_point_determinism/">is extremely hard</a> and <a href="https://github.com/rust-lang/rust/issues/24111#issuecomment-386765720">LLVM isn’t exactly helping</a>.
So, we will likely have to live with either considering floating point operations to be const-unsafe (raising a CTFE error), or not having CTFE correctness when floating point operations are …</p></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.ralfj.de/blog/2018/07/19/const.html">https://www.ralfj.de/blog/2018/07/19/const.html</a></em></p>]]>
            </description>
            <link>https://www.ralfj.de/blog/2018/07/19/const.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24494859</guid>
            <pubDate>Wed, 16 Sep 2020 17:20:48 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Remembering Roger Boisjoly, Challenger disaster whistleblower (1938-2012)]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24494854">thread link</a>) | @vezycash
<br/>
September 16, 2020 | https://whistleblowing.us/2012/02/remembering-roger-m-boisjoly-challenger-disaster-whistleblower-1938-2012/ | <a href="https://web.archive.org/web/*/https://whistleblowing.us/2012/02/remembering-roger-m-boisjoly-challenger-disaster-whistleblower-1938-2012/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		<p>by Linda Lewis</p>
<p>Published Feb. 12, 2012</p>
<p>Belatedly, the world has learned that Roger M. Boisjoly, the whistleblower who tried to prevent the <em>Challenger</em> space shuttle explosion, passed away recently in Nephi, Utah.</p>

<p>Roger M. Boisjoly, the son of a mill worker, was born April 25, 1938, in Lowell, Massachusetts. &nbsp;From childhood, he was known for his&nbsp;<a href="http://www.lowellsun.com/news/ci_19902357?source=rss#ixzz1mDSiN0rn">honesty</a>&nbsp;and “would not back down from what he believed in,” say family members. After earning a&nbsp;<a href="http://www.lowellsun.com/news/ci_19902357?source=rss#ixzz1mDOGMpcw">mechanical engineering</a>&nbsp;degree from the University of Lowell, he began working in the aircraft industry. After a move to California, then to Utah, he took a job with&nbsp; Morton Thiokol, working on solid rocket boosters for the space shuttle program.</p>
<p>In 1985, he&nbsp;<a href="http://www.dailymail.co.uk/news/article-2097973/Roger-Boisjoly-dead-Engineer-foresaw-Challenger-explosion-dies-age-73.html">warned</a>&nbsp;managers that 0-rings used to seal joints in the booster rockets could fail at freezing temperatures. ‘The result would be&nbsp;<a href="http://www.dailymail.co.uk/news/article-2097973/Roger-Boisjoly-dead-Engineer-foresaw-Challenger-explosion-dies-age-73.html">a catastrophe of the highest order</a>&nbsp;— loss of human life,’ he wrote in a memo.&nbsp; But, the problem had not been resolved when the space shuttle&nbsp;<em>Challenger</em>&nbsp;was prepared for launch on January 28, 1986.</p>
<p>On the night of January 27, temperatures fell below freezing.&nbsp;<a href="http://www.telegraph.co.uk/news/obituaries/science-obituaries/9067491/Roger-Boisjoly.html">Boisjoly and four other engineers</a>&nbsp;tried desperately to convince management that the launch should be scrubbed.&nbsp; They warned that the cold would cause rubber o-rings to become brittle and fail, allowing hot gases to leak at the joints. Morton Thiokol and NASA managers dismissed the arguments, and decided to&nbsp;<a href="http://www.christianpost.com/news/roger-boisjolys-death-goes-unnoticed-predicted-1986-nasa-rocket-explosion-68897/">go ahead</a>&nbsp;with the launch.</p>
<p>The next day, Challenger lifted off from its pad at Kennedy Space Center.&nbsp; At first, the launch appeared normal, but 73 seconds into flight the shuttle exploded, sending fragments arcing across the bright Florida sky.&nbsp; In view of a horrified public, including thousands of&nbsp;<a href="http://www.historyplace.com/speeches/reagan-challenger.htm">schoolchildren</a>&nbsp;watching a live broadcast, seven astronauts plummeted to their deaths in the Atlantic ocean.</p>
<p>NASA’s actions following the disaster were typical for a government agency with a scandal on its hands: it impounded documents and told employees and others connected with the program&nbsp;<a href="http://books.google.com/books?id=SwuCxfZn_kEC&amp;pg=PA39&amp;lpg=PA39&amp;dq=%22NASA+Had+Warning+of+a+Disaster+Risk+Posed+by+Booster%22&amp;source=bl&amp;ots=PxrIMhhWBM&amp;sig=8jGg4rLQy4_dX4_bloIqwa5NW8I&amp;hl=en&amp;sa=X&amp;ei=9RE4T5nfLaTb0QHw6tnhAg&amp;ved=0CD0Q6AEwBQ#v=onepage&amp;q=%22NASA%20Had%20Warning%20of%20a%20Disaster%20Risk%20Posed%20by%20Booster%22&amp;f=false">not to talk to reporters</a>, even off the record.</p>
<p>President Ronald Reagan established a commission, known as the “Rogers Commission,” to search for the cause of the explosion and, initially, NASA managers were successful in &nbsp;<a href="http://books.google.com/books?id=SwuCxfZn_kEC&amp;pg=PA39&amp;lpg=PA39&amp;dq=%22NASA+Had+Warning+of+a+Disaster+Risk+Posed+by+Booster%22&amp;source=bl&amp;ots=PxrIMhhWBM&amp;sig=8jGg4rLQy4_dX4_bloIqwa5NW8I&amp;hl=en&amp;sa=X&amp;ei=9RE4T5nfLaTb0QHw6tnhAg&amp;ved=0CD0Q6AEwBQ#v=onepage&amp;q=%22NASA%20Had%20Warning%20of%20a%20Disaster%20Risk%20Posed%20by%20Booster%22&amp;f=false">diverting attention</a>&nbsp;from the o-rings. &nbsp;But, the dissenting engineers refused to let an important truth be swept under the carpet.</p>
<blockquote><p>It was clear to the engineers that NASA was bent on minimizing the pre-launch concern over the cold. Boisjoly was sufficiently concerned that he took his&nbsp;personal files&nbsp;into a sort of protective custody. He emptied his desk and took the critical memos with him to Huntsville. He slept with them in his motel room. He hid them in the locked trunk of his rented car when he went to work at the Marshall Space Flight Center. He sent copies home to Roberta. And still he worried that someone might try to lose or destroy them. –&nbsp;William C. Rempel, <a href="http://articles.latimes.com/1987-01-28/news/mn-1361_1_engineers/3">Los Angeles Times</a></p></blockquote>
<p>The investigation took a new direction after February 9, when the New York Times published a&nbsp;<a href="http://books.google.com/books?id=6f6LrdOXO6wC&amp;pg=PA9&amp;lpg=PA9&amp;dq=new+york+times+february+9+challenger+closed+session&amp;source=bl&amp;ots=ycL-vpTDJY&amp;sig=poGvZlXOiWbefMO3NCP8jvXlbyY&amp;hl=en&amp;sa=X&amp;ei=Jlo4T5SNOuPu0gHU5MHfAg&amp;ved=0CCsQ6AEwAA#v=onepage&amp;q=new%20york%20times%20february%209%20challenger%20closed%20session&amp;f=false">front-page story</a>&nbsp;(“NASA Had Warning of a Disaster Risk Posed by Booster”) citing concerns about o-ring failure expressed in documents it had obtained from an “anonymous solid fuel rocket analyst.”&nbsp; Afterward, the commission held three&nbsp;<a href="http://books.google.com/books?id=6f6LrdOXO6wC&amp;pg=PA9&amp;lpg=PA9&amp;dq=new+york+times+february+9+challenger+closed+session&amp;source=bl&amp;ots=ycL-vpTDJY&amp;sig=poGvZlXOiWbefMO3NCP8jvXlbyY&amp;hl=en&amp;sa=X&amp;ei=Jlo4T5SNOuPu0gHU5MHfAg&amp;ved=0CCsQ6AEwAA#v=onepage&amp;q=new%20york%20times%20february%209%20challenger%20closed%20session&amp;f=false">closed sessions</a>&nbsp;where personnel from Morton Thiokol and Marshall Space Flight center were questioned, including participants in the teleconference that took place on the eve of Challenger’s launch.&nbsp; As a result, the o-ring issues became a major focus of the investigation.</p>
<p>Boisjoly, who had been known as a “crackerjack troubleshooter,” was re-branded a “<a href="http://www.ocregister.com/news/boisjoly-248703-boyd-chapman.html">whistleblower</a>.” “After he finally passed [his] files personally to Major Gen. Donald J. Kutyna of the presidential commission, Boisjoly was&nbsp;<a href="http://articles.latimes.com/1987-01-28/news/mn-1361_1_engineers/3">accused</a>&nbsp;of ‘airing the company’s dirty laundry’ in front of the whole country,” wrote the LA Times.</p>
<p>In June 1986, the commission confirmed that the o-rings and cold weather led to the disaster.&nbsp; But, it did not attach blame to any of the individuals who ignored the engineers’ warnings.&nbsp; Instead, the commission criticized the “flawed”&nbsp;<a href="http://books.google.com/books?id=EP9D_30SpkMC&amp;pg=RA1-PA9&amp;lpg=RA1-PA9&amp;dq=NASA+HAD+WARNING+OF+A+DISASTER+RISK+POSED+BY+BOOSTER&amp;source=bl&amp;ots=ZsOwDSnG83&amp;sig=YgXOJqYLqYNITsW9iFk8pvKbEEg&amp;hl=en&amp;sa=X&amp;ei=3BQ4T-_vBqL50gG43JDTBQ&amp;ved=0CEMQ6AEwBw#v=onepage&amp;q=NASA%20HAD%20WARNING%20OF%20A%20DISASTER%20RISK%20POSED%20BY%20BOOSTER&amp;f=false">process</a>&nbsp;of decision-making.</p>
<p>The pre-launch effort by Boisjoly and others to stop the launch did not qualify as&nbsp;<a href="http://www.nspe.org/Ethics/EthicsResources/Otherresources/whistle.html">whistleblowing</a>, some experts say, because the engineers did not go outside approved channels. But, that legal definition is unrealistically narrow.</p>
<blockquote><p>If it is a distinguishing mark of actions labeled whistleblowing that the agent intends to&nbsp;force attention to a serious moral problem, both Boisjoly’s and MacDonald’s responses qualify. This feature is the foundation of the public’s interest in whistleblowing. By bringing such serious problems to light, whistleblowers contribute to protecting the public’s welfare.&nbsp;<em>– Vivian Weill, <a href="http://www.nspe.org/Ethics/EthicsResources/Otherresources/whistle.html">Illinois Institute of Technology</a> (1996)</em></p></blockquote>
<p>We now know that Boisjoly&nbsp;<a href="http://keranews.org/post/remembering-roger-boisjoly-he-tried-stop-shuttle-challenger-launch">met secretly</a>&nbsp;with an NPR reporter shortly after the shuttle disaster to provide information about the problems at Morton Thiokol — clearly not an approved channel. Unquestionably, that was an act of whistleblowing, but Boisjoly’s request for&nbsp;<a href="http://keranews.org/post/remembering-roger-boisjoly-he-tried-stop-shuttle-challenger-launch">anonymity</a>&nbsp;prevented it from becoming public knowledge.</p>
<p>The clearest evidence of whistleblowing, writes Weill, may be its most predictable consequence:&nbsp;&nbsp;<a href="https://whistleblowing.us/2012/02/remembering-roger-m-boisjoly-challenger-disaster-whistleblower-1938-2012/Weil%20nevertheless%20suggests%20that%20Boisjoly%20was%20a%20whistleblower,%20under%20different%20standards.%20Retaliation%20may%20be%20the%20most%20predictable%20feature%20of%20whistleblowing,%20perhaps%20enough%20to%20make%20it%20a%20defining%20feature.writes">retaliation</a>. There was no shortage of that after the engineers exposed the truth of o-ring failures. &nbsp;Along with Allan MacDonald, another engineer who tried to stop the Challenger launch, Boisjoly was&nbsp;<a href="http://www.standard.net/topics/atk/2011/01/27/two-men-fought-prevent-challenger-launch">taken off the investigation team</a>&nbsp;by Morton Thiokol management. The environment, he said, was hostile.</p>
<blockquote><p>“[Thiokol managers] were extremely angry when I turned in my documentation and that anger increased as I continued to testify,” says Boisjoly. During testimony at a committee hearing, he publicly refuted a manager’s assertion that Thiokol engineers weren’t unanimous in recommending that the launch be canceled. “When I finished they were so damn mad&nbsp;that I think if they had guns they would have shot me on the spot,” he says. – Molly Gavin, Engineering Times (August, 1995), <a href="https://www.nspe.org/resources/blogs/nspe-blog/pe-warned-space-shuttle-disaster">republished</a> by NSPE.</p></blockquote>
<p>Later, in “Truth, Lies and O-Rings,” MacDonald wrote that “Roger and I already felt like&nbsp;<a href="http://www.standard.net/topics/atk/2011/01/27/two-men-fought-prevent-challenger-launch">lepers</a>, but when we returned to Utah following the May 2 session our colleagues treated us as if we had just been arrested for child sexual abuse.”</p>
<p>Colleagues and even neighbors&nbsp;<a href="http://www.guardian.co.uk/world/feedarticle/10084988">shunned</a>&nbsp;Boisjoly. Thiokol “<a href="http://www.nytimes.com/2012/02/04/us/roger-boisjoly-73-dies-warned-of-shuttle-danger.html">cut him off</a>&nbsp;from space work,” and NASA “tried to&nbsp;<a href="http://articles.latimes.com/2012/feb/07/local/la-me-roger-boisjoly-20120207">blackball him</a>&nbsp;from the industry.” “Managers isolated him in his position and “<a href="http://community.nspe.org/blogs/nspeblog/archive/2012/02/06/dhfh.aspx">made life a living hell</a>&nbsp;on a day-to-day basis.”</p>
<p>“When I realized what was happening, it absolutely destroyed me,” Boisjoly told The Associated Press in a 1988 telephone interview. “<a href="http://www.guardian.co.uk/world/feedarticle/10084988">It destroyed my career, my life, everything else.</a>”&nbsp; Boisjoly hung on for six months before deciding to take&nbsp;<a href="http://community.nspe.org/blogs/nspeblog/archive/2012/02/06/dhfh.aspx">long-term disability</a>&nbsp;leave, having been diagnosed with post-traumatic stress disorder. He would not return to Thiokol.</p>
<p>Boisjoly filed lawsuits against Thiokol and NASA, including a&nbsp;<em><a href="http://en.wikipedia.org/wiki/Qui_tam">qui tam</a></em>&nbsp;claim that Morton Thiokol had defrauded the public. The&nbsp;<a href="http://articles.latimes.com/1987-06-04/news/mn-4921_1_justice-department-spokeswoman">Justice Department refused</a>&nbsp;to join the suit as expected, and the lawsuits were&nbsp;<a href="http://ut.findacase.com/research/wfrmDocViewer.aspx/xq/fac.19880831_0000002.DUT.htm/qx">dismissed</a>.&nbsp; The chilling spectacle of a whistleblower’s fall from grace sent a powerful message to others in the industry to stay silent about the next disaster in the making.</p>
<p>Boisjoly viewed the lawsuits as “<a href="http://community.nspe.org/blogs/nspeblog/archive/2012/02/06/dhfh.aspx">an exercise in total futility</a>.”</p>
<blockquote><p>“I think [the court system was]&nbsp;afraid of what they’d find.” The suits never even made it to the discovery process, he says. Boisjoly decided not to pursue the lawsuits further. “I tried to get on with my life,” he says. – Gavin, 1995</p></blockquote>
<p>Boisjoly’s moral courage earned him multiple&nbsp;<a href="http://www.onlineethics.org/cms/12717.aspx">awards</a>, including one from the American Association for the Advancement of Science in 1988, and another from the Cavallo Foundation in 1990. Despite the awards, Boisjoly saw no hope of returning to his former career.&nbsp; Like many other blacklisted whistleblowers, he decided to&nbsp;<a href="http://community.nspe.org/blogs/nspeblog/archive/2012/02/06/dhfh.aspx">go into business for himself</a>.&nbsp; He obtained a professional engineering license and began consulting as a forensic engineer. In additon, he wrote papers and lectured to engineering students on a subject dear to him:&nbsp;&nbsp;<a href="http://www.dailymail.co.uk/news/article-2097973/Roger-Boisjoly-dead-Engineer-foresaw-Challenger-explosion-dies-age-73.html#ixzz1locDb6ls">ethical decision making.</a></p>
<p>NASA’s management culture failed to preserve the costly lessons of the&nbsp;<em>Challenger&nbsp;</em>disaster. In January 2003, NASA launched&nbsp;<a href="http://en.wikipedia.org/wiki/Space_Shuttle_Columbia_disaster">another space shuttle</a>&nbsp;under circumstances that worried engineers. &nbsp;Foam insulation broke off during&nbsp;<em>Columbia’s&nbsp;</em>lift-off and punched a hole in a wing, leaving it vulnerable to the extreme forces of reentry. On February 1, as it re-entered earth’s atmosphere,&nbsp;<em><a href="http://en.wikipedia.org/wiki/Space_Shuttle_Columbia_disaster">Columbia disintegrated</a></em>&nbsp;in the skies above Texas, sending another seven astronauts to their deaths.</p>
<p>The space shuttle program&nbsp;<a href="http://www.nasa.gov/mission_pages/shuttle/main/index.html">ended</a>, several flights later, on July 21, 2011.&nbsp; Less than six months after, on&nbsp;<a href="http://www.dailymail.co.uk/news/article-2097973/Roger-Boisjoly-dead-Engineer-foresaw-Challenger-explosion-dies-age-73.html#ixzz1locDb6ls">January 6, 2012</a>, Roger Boisjoly finally found peace.&nbsp; At the age of 73 — one year for every second of Challenger’s last flight — he died in his sleep of cancer.</p>
<p>* * *</p>
<p><strong>More information about Roger Boisjoly and the Challenger disaster</strong></p>
<p><a href="http://www.youtube.com/watch?v=On9p0Q9eKr4">Roger Boisjoly</a>&nbsp;on Ethics in Business (video)</p>
<p><a href="http://www.onlineethics.org/Topics/ProfPractice/Exemplars/BehavingWell/RB-intro.aspx">Workplace ethics</a>&nbsp;(paper by Roger Boisjoly)</p>
<p>The&nbsp;<a href="http://www.youtube.com/watch?v=AfnvFnzs91s">Challenger launch</a>&nbsp;and explosion (video)</p>
<p><a href="https://books.google.com/books?id=o8TuAAAAMAAJ">Truth, Lies, and O-rings: Inside the Space Shuttle Challenger Disaster</a>&nbsp;by&nbsp;Allan J. McDonald.&nbsp;University Press of Florida, 2009.</p>
<p><a href="https://books.google.com/books?id=6f6LrdOXO6wC">The Challenger Launch Decision: Risky Techology, Culture, and Deviance at NASA</a> by Diane Vaughan. University of Chicago Press, 1997.</p>
			</div></div>]]>
            </description>
            <link>https://whistleblowing.us/2012/02/remembering-roger-m-boisjoly-challenger-disaster-whistleblower-1938-2012/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24494854</guid>
            <pubDate>Wed, 16 Sep 2020 17:20:39 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Haskell in New Clothes – Alternative Syntax for Haskell Inspired by JavaScript]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24494846">thread link</a>) | @pcr910303
<br/>
September 16, 2020 | https://serras.github.io/hinc/ | <a href="https://web.archive.org/web/*/https://serras.github.io/hinc/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://serras.github.io/hinc/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24494846</guid>
            <pubDate>Wed, 16 Sep 2020 17:19:46 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to Raise a Rolling Fund]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24494643">thread link</a>) | @simonpure
<br/>
September 16, 2020 | https://www.notion.so/How-to-Raise-a-Rolling-Fund-99220e692e5e40598c2230e5c7e8dce7 | <a href="https://web.archive.org/web/*/https://www.notion.so/How-to-Raise-a-Rolling-Fund-99220e692e5e40598c2230e5c7e8dce7">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://www.notion.so/How-to-Raise-a-Rolling-Fund-99220e692e5e40598c2230e5c7e8dce7</link>
            <guid isPermaLink="false">hacker-news-small-sites-24494643</guid>
            <pubDate>Wed, 16 Sep 2020 17:03:10 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Ways to Increase Quality of Work Life]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24494641">thread link</a>) | @nbrempel
<br/>
September 16, 2020 | https://30hourjobs.com/blog/quality-of-work-life/ | <a href="https://web.archive.org/web/*/https://30hourjobs.com/blog/quality-of-work-life/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        <p>Did you know that up to <a href="https://www.cdc.gov/niosh/docs/99-101/default.html" rel="noopener noreferrer">40%</a> of people say that they feel that their job is very stressful? Stress in the workplace can lessen productivity and job satisfaction. Unhappy employees or stressed workers never perform to the best of their ability.</p><p>What you may not realize is that the stress from work bleeds over into your life. It may negatively impact personal relationships, cause you to lose sleep, and may also damage your health.</p><p>You should find the balance between work and life if you want to succeed in either one. We need to forget the times we heard, "If you want to succeed, work harder." Ask yourself, "why spend 40-50-hours a week working?" At <a href="https://30hourjobs.com/" rel="noopener noreferrer">30 Hour Jobs</a>, we say there is a better way to balance! To learn more, check out our 8 ways to increase quality of work life.</p><h2 id="4-tips-for-employees-seeking-work-life-balance">4 Tips for Employees Seeking Work Life Balance</h2><p>When you get up every morning, go to work, come home, sleep, and repeat, things become routine. It can grate on your nerves and stress you out. Who needs that? Here are some easy ways you can start to turn your situation around. Not only will you achieve a higher quality work life balance, but you will feel better in all other parts of your life.</p><h3 id="prioritize-work-life-goals">Prioritize Work Life Goals</h3><p>If you look at priorities, people are all over the spectrum. Some focus much of their time on work. Others prioritize family, friends, sleep, fitness, etc.</p><p>We need to understand: <strong>There isn't enough time in a day for everything to have equal attention</strong>.</p><p>Ideally, you will choose no more than three "priorities". This will allow you to divide your time more equally. The rest can have moments of time too. However, your priorities are where you should focus your attention. For instance, imagine the priorities of work, family, and sleep. Try your best to work between these hours, so that you have a set time for family and a set time for sleep. Stick to it as much as possible.</p><p>If you need to figure out ways that you are wasting your time, keep a diary to track your specific patterns. How much do you really work? Spend time with family? Sleep? Mingle with friends? The pattern can give you a chance to re-evaluate your situation.</p><h3 id="make-the-most-of-work-time">Make the Most of Work Time</h3><p>The truth is people in the workplace often allow themselves to be distracted. It's <a href="https://www.cnbc.com/2019/05/31/workplace-stress-is-reaching-epidemic-levels-4-tips-to-keep-you-sane.html" rel="noopener noreferrer">reported</a> that more than an hour each day is spent wasted because of distractions. You may think this is a way to de-stress because you take a moment for yourself, but it also means you fall behind. We encourage you to make a work/productivity plan to avoid feeling the need to multitask.</p><p>One great way to do this is to use the <a href="https://www.forbes.com/sites/bryancollinseurope/2020/03/03/the-pomodoro-technique/#519a25be3985" rel="noopener noreferrer">Pomodoro Method</a>. Set a <a href="https://30hourjobs.com/blog/25-minute-timer/" rel="noopener noreferrer">25-minute timer</a> and work for a specific time without allowing yourself any distractions. At the end of that time, you can take care of other personal needs. Grab a cup of water, have lunch, etc. When at work, the task is your priority. When on break, you should not stress over work. At the end of the day, your entire day will be more productive, and you will feel less worn out by the jobs you were doing.</p><p>In turn, it will also enable you to get yourself into the "work" zone easier. You will train your mind and body to tackle the job at hand. Whether you work from 9-5 or not, you should be prepared to have everything geared toward work success. Leave your personal life out until the five o'clock whistle blows.</p><h3 id="take-care-of-yourself-first">Take Care of Yourself First</h3><p>People who feel stressed or unwell will not be productive in their days, whether at work or at home. We urge you to take care of yourself. This means ensuring you rest well, eat right, and exercise. A five-minute walk can make you feel better when you return to your desk.</p><p>During this time, it may also be beneficial to look at the job you are doing. What do you gain from it? What is the value of what you are doing? By realizing you are doing something important to the company, you may give yourself the boost you need to get through the day.</p><p>When you leave work, turn off your phone. Unplug. Forget the emails you didn't send, or the phone calls you didn't make. Set your boundaries and tomorrow will be a better day.</p><h3 id="be-realistic-about-your-goals">Be Realistic about Your Goals</h3><p>As an employee, it is important to understand that there isn't a single, perfect, work life balance. Your priorities today may not be the priorities tomorrow. You may not have the same goals as coworkers. The only important thing is <a href="https://30hourjobs.com/#jobs" rel="noopener noreferrer">finding a job</a> that allows you to focus on your overall quality of work life.</p><h2 id="4-tips-employers-can-use-to-help-employees-balance-work-life">4 Tips Employers Can Use to Help Employees Balance Work Life</h2><p>A good work life balance isn't just something for employees to handle. Company owners and managers should help. You can do this in several ways. Offer options to:</p><ul><li>Work from Home</li><li>Work Shorter Work Weeks</li><li>Telecommute</li><li>Remote Work</li><li>Work Part Time</li><li>ETC</li></ul><p>In today's very technology-based world, there are options. People do not always have to be "at work" to be working.</p><h3 id="show-appreciation">Show Appreciation</h3><p>When at work, recognize people who have gone above and beyond for the company. Give them trinkets or rewards to show you appreciate them. Another way you can do this is to provide more growth opportunities. Opportunities that aren't based specifically on who works the most or the hardest. If they do their job, they earn the right to achieve a promotion or a raise.</p><p>Furthermore, show employees that you value them by being a part of their life in small ways. For instance, if an employee is sick or has a family member that is sick, inquire about the situation. Help in the ways that you can. In good times you should show appreciation as well. If an employee getting married, give a small gift or attend if invited.</p><h3 id="empower-employees">Empower Employees</h3><p>Trust that they know the job that they are there to do. Rather than stay on them or press deadlines, simply have faith that they will do their job. You may also consider <a href="https://hbr.org/2017/07/stop-the-meeting-madness" rel="noopener noreferrer">reducing meetings</a>. Your business will not suffer because you have "no meeting" days or certain hours that meetings are off limits. The reason for this is simple. We spend too much time in meetings and often, it is a waste of valuable work time.</p><h3 id="hire-carefully">Hire Carefully</h3><p>In a business, productivity happens when people work together. Before you hire someone new, make sure that they fit. They should share the values of your company and understand the goals of other employees.</p><h3 id="encourage-restful-days">Encourage Restful Days</h3><p>Only <strong>11% of employees</strong> feel that they are encouraged to take personal days or mental health days. At 30HJ, we hope that you are willing to help that number become higher. Your employees will be thankful and you will reap the rewards of a more productive team!</p><p>We are here to help you both employers and employees achieve a more enjoyable balance. We have a newsletter that contains tips and ideas on increasing employee happiness. It can help you increase productivity while lessening stress. Feel free to sign up or post your own job listings.</p>
    </div></div>]]>
            </description>
            <link>https://30hourjobs.com/blog/quality-of-work-life/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24494641</guid>
            <pubDate>Wed, 16 Sep 2020 17:02:57 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Set Theory: A Symbolic Introduction]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24494621">thread link</a>) | @R3G1R
<br/>
September 16, 2020 | https://mathvault.ca/hub/higher-math/math-symbols/set-theory-symbols/ | <a href="https://web.archive.org/web/*/https://mathvault.ca/hub/higher-math/math-symbols/set-theory-symbols/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content"><div><div id="theme-content-section"><div><section data-css="tve-u-16ec5d248bb"><p><strong><span>S</span>et theory</strong> is a branch of mathematics dedicated to the study of collections of objects, its properties, and the relationship between them. The following list documents some of the most notable symbols in set theory, along each symbol’s usage and meaning.</p><p>For readability purpose, these symbols are categorized by their function into <strong>tables</strong>. Other comprehensive lists of symbols — as categorized by subject&nbsp;and type — can be also found in the relevant pages below (or in the navigational panel).</p><div><div><div><figure><img loading="lazy" width="400" height="518" src="https://mathvault.ca/wp-content/uploads/Math-Symbols-eBook-Cover.png" alt="Cover of Math Vault's Comprehensive List of Mathematical Symbols eBook" title="Math Symbols eBook Cover"></figure><div><p>Prefer the PDF version instead?</p><p>Get the master summary of mathematical symbols in <strong>eBook form</strong> — along with each symbol’s usage and LaTeX code.</p></div></div></div></div><h2><span id="Constants"></span>Constants<span></span></h2><p>In set theory, constants are often one-character symbols used to denote key <strong>mathematical sets</strong>. The following table documents the most notable of these — along with their respective meaning and example.</p><figure><table><thead><tr><th>Symbol Name</th><th>Explanation</th><th>Example</th></tr></thead><tbody><tr><td>$\varnothing$, $\emptyset$, $\{ \}$</td><td><strong><a href="https://en.wikipedia.org/wiki/Empty_set" target="_blank" aria-label="Empty set (opens in a new tab)" rel="noreferrer noopener">Empty set</a></strong></td><td>$|\varnothing|=0$</td></tr><tr><td>$\mathbb{N}$</td><td>Set of <strong><a href="https://en.wikipedia.org/wiki/Natural_number#Notation" target="_blank" aria-label="natural numbers (opens in a new tab)" rel="noreferrer noopener">natural numbers</a></strong></td><td>$1 \in \mathbb{N}$</td></tr><tr><td>$\mathbb{Z}$</td><td>Set of <strong><a href="https://en.wikipedia.org/wiki/Integer" target="_blank" aria-label="integers (opens in a new tab)" rel="noreferrer noopener">integers</a></strong></td><td>If $m, n \in \mathbb{Z}$, then $m+n, mn \in \mathbb{Z}$.</td></tr><tr><td>$\mathbb{Q}$</td><td>Set of <strong><a href="https://en.wikipedia.org/wiki/Rational_number" target="_blank" aria-label="rational numbers (opens in a new tab)" rel="noreferrer noopener">rational numbers</a></strong></td><td>$\pi \notin \mathbb{Q}$</td></tr><tr><td>$\mathbb{R}$</td><td>Set of <strong><a href="https://en.wikipedia.org/wiki/Real_number" target="_blank" aria-label="real numbers (opens in a new tab)" rel="noreferrer noopener">real numbers</a></strong></td><td>$e \in \mathbb{R}$</td></tr><tr><td>$\mathbb{C}$</td><td>Set of <strong><a href="https://en.wikipedia.org/wiki/Complex_number#Notation" target="_blank" aria-label="complex numbers (opens in a new tab)" rel="noreferrer noopener">complex numbers</a></strong></td><td>$\mathbb{N} \subseteq \mathbb{Z} \subseteq \mathbb{Q} \subseteq \mathbb{R} \subseteq \mathbb{C}$</td></tr><tr><td>$\mathbb{U}, U$</td><td><strong><a href="https://en.wikipedia.org/wiki/Universe_(mathematics)" target="_blank" aria-label="Universal set (opens in a new tab)" rel="noreferrer noopener">Universal set</a></strong></td><td>When $U = \mathbb{R}$, $\overline{\mathbb{Q}} = \mathbb{R} \setminus \mathbb{Q}$.</td></tr></tbody></table></figure><div><figure><img src="https://mathvault.ca/wp-content/uploads/NZQRC-Hierarchy-of-Sets-of-Numbers.png" alt="Hierarchy of Key Sets of Numbers NZQRC" width="400" title="NZQRC Hierarchy of Sets of Numbers"><figcaption><strong>Hierarchy of Key Sets of Numbers</strong></figcaption></figure></div><p>For other key sets of numbers, see <a href="https://mathvault.ca/hub/higher-math/math-symbols/algebra-symbols/#Key_Mathematical_Sets" target="_blank" rel="noopener noreferrer"><strong>key mathematical sets in algebra</strong></a>.</p><h2><span id="Variables"></span>Variables<span></span></h2><p>Similar to other fields in mathematics, set theory often uses a designated list of <strong>variable symbols</strong> to refer to varying objects and quantities. The following table documents the most common of these — along with their respective example and meaning.</p><figure><table><thead><tr><th>Symbol Name</th><th>Used For</th><th>Example</th></tr></thead><tbody><tr><td>$A ,B, C$</td><td><strong><a href="https://en.wikipedia.org/wiki/Set_(mathematics)" target="_blank" aria-label="Sets (opens in a new tab)" rel="noreferrer noopener">Sets</a></strong></td><td>$A \subseteq B \cup C$</td></tr><tr><td>$a, b, c$</td><td><strong><a aria-label="Elements (opens in a new tab)" href="https://en.wikipedia.org/wiki/Element_(mathematics)" target="_blank" rel="noreferrer noopener">Elements</a></strong> of set</td><td>If $a \in A$ and $b \in B$, then $a, b \in A \cup B$.</td></tr><tr><td>$\alpha, \beta, \gamma$</td><td><strong><a href="https://en.wikipedia.org/wiki/Ordinal_number" target="_blank" aria-label="Ordinal numbers (opens in a new tab)" rel="noreferrer noopener">Ordinal numbers</a></strong></td><td>If $P(\beta)$ for all $\beta &lt; \alpha$ implies $P(\alpha)$, for all $\alpha$, then $P$ holds in general by <a aria-label="transfinite induction (opens in a new tab)" href="https://en.wikipedia.org/wiki/Transfinite_induction" target="_blank" rel="noreferrer noopener">transfinite induction</a>.</td></tr><tr><td>$\lambda$</td><td><strong><a href="https://en.wikipedia.org/wiki/Limit_ordinal" target="_blank" aria-label="Limit ordinals (opens in a new tab)" rel="noreferrer noopener">Limit ordinals</a></strong></td><td>$\lambda$ is a limit ordinal if it’s neither $0$ nor a <a href="https://en.wikipedia.org/wiki/Successor_ordinal" target="_blank" aria-label="successor ordinal (opens in a new tab)" rel="noreferrer noopener">successor ordinal</a>.</td></tr><tr><td>$\kappa$</td><td><strong><a href="https://en.wikipedia.org/wiki/Cardinal_number" target="_blank" aria-label="Cardinal numbers (opens in a new tab)" rel="noreferrer noopener">Cardinal numbers</a></strong></td><td>For each finite cardinal $\kappa$, its successor is simply $\kappa + 1$.</td></tr></tbody></table></figure><h2><span id="Delimiters"></span>Delimiters<span></span></h2><p>In set theory, delimiters are symbols used to delineate the separation between independent mathematical entities, and often occur in the context of <strong>definition of sets</strong>. The following table documents the most common of these — along with their respective usage and meaning.</p><figure><table><thead><tr><th>Symbol Name</th><th>Explanation</th><th>Example</th></tr></thead><tbody><tr><td>$\{ \}$</td><td>Indicator for <strong><a href="https://en.wikipedia.org/wiki/Set-builder_notation" target="_blank" aria-label="sets (opens in a new tab)" rel="noreferrer noopener">sets</a></strong></td><td>$\{5, e, \pi, 1\}$</td></tr><tr><td>$( )$</td><td>Indicator for <strong><a href="https://en.wikipedia.org/wiki/Tuple" target="_blank" aria-label="tuples (opens in a new tab)" rel="noreferrer noopener">tuples</a></strong></td><td>$(1, 2.89) \in \mathbb{N} \times \mathbb{R}$</td></tr><tr><td>$|, :$</td><td><strong>‘Such that’ marker</strong> in <a href="https://en.wikipedia.org/wiki/Set-builder_notation#Sets_defined_by_a_predicate" target="_blank" aria-label="set-builder notation (opens in a new tab)" rel="noreferrer noopener">set-builder notation</a></td><td>$\{ x^2 : x \in  \mathbb{Z} \} =$<br>$\{ y \in \mathbb{Z} \mid y = x^2$<br>$\mathrm{for \ some \ } x \in \mathbb{Z}  \} $</td></tr></tbody></table></figure><h2><span id="Operators"></span>Operators<span></span></h2><p>Since the concept of set lies at the foundation of mathematics, many <strong>set operators</strong> — which allow one to refer to new sets through pre-existing sets — exist. The following table documents the most notable of these — along with their respective example and meaning.</p><figure><table><thead><tr><th>Symbol Name</th><th>Explanation</th><th>Example</th></tr></thead><tbody><tr><td>$\overline{A}, A^{\mathrm{c}}, A’$</td><td><strong><a href="https://en.wikipedia.org/wiki/Complement_(set_theory)" target="_blank" aria-label="Complement (opens in a new tab)" rel="noreferrer noopener">Complement</a></strong> of set $A$</td><td>$\overline{A} = \{ x \in U \mid \\ x \notin A \}$</td></tr><tr><td>$A \cap B$</td><td><strong><a href="https://en.wikipedia.org/wiki/Intersection_(set_theory)" target="_blank" aria-label="Intersection (opens in a new tab)" rel="noreferrer noopener">Intersection</a></strong> of sets $A$ and $B$</td><td>$\mathbb{R} \cap \mathbb{I} = \{ 0 \}$</td></tr><tr><td>$\displaystyle \bigcap_{i=m}^n A_i$,  $\, \displaystyle \bigcap_{i \in I} A_i$</td><td><strong><a aria-label="Generalized intersection (opens in a new tab)" href="https://en.wikipedia.org/wiki/Intersection_(set_theory)#Notation_and_terminology" target="_blank" rel="noreferrer noopener">Generalized intersection</a></strong> of sets $A_i$</td><td>$\displaystyle \bigcap_{i=1}^{\infty} \, ( 0, 1 / i ) = \varnothing$</td></tr><tr><td>$A \cup B$</td><td><strong><a href="https://en.wikipedia.org/wiki/Union_(set_theory)" target="_blank" aria-label="Union (opens in a new tab)" rel="noreferrer noopener">Union</a></strong> of sets $A$ and $B$</td><td>$A \cup (B \cup C) =$<br>$(A \cup B) \cup C$</td></tr><tr><td>$\displaystyle \bigcup_{i=m}^n A_i$, $\, \displaystyle \bigcup_{i \in I} A_i$</td><td><strong><a href="https://en.wikipedia.org/wiki/Union_(set_theory)#Notations" target="_blank" aria-label="Generalized union (opens in a new tab)" rel="noreferrer noopener">Generalized union</a></strong> of sets $A_i$</td><td>$\displaystyle \bigcup_{i=\{3, 5 , 8\}} [-i, i] = [-8, 8]$</td></tr><tr><td>$A \sqcup B$</td><td><strong><a href="https://en.wikipedia.org/wiki/Disjoint_union#Example" target="_blank" aria-label="Disjoint union (opens in a new tab)" rel="noreferrer noopener">Disjoint union</a></strong> of sets $A$ and $B$</td><td>If $A = \{ 2, 5 \}$ and $B = \{ 1 ,2 \}$, then $A \sqcup B = \{ (2, a), (5, a),$ $(1,b), (2,b) \}.$</td></tr><tr><td>$\displaystyle \bigsqcup_{i=m}^n A_i$, $\, \displaystyle \bigsqcup_{i \in I} A_i$</td><td><strong><a aria-label="Generalized disjoint union (opens in a new tab)" href="https://en.wikipedia.org/wiki/Disjoint_union" target="_blank" rel="noreferrer noopener">Generalized disjoint union</a></strong> of sets $A_i$</td><td>$\displaystyle \bigsqcup_{i=1}^n A_i = \bigcup_{i=1}^n$<br>$\{ (a_i, i) \mid a_i \in A_i \}$</td></tr><tr><td>$A \setminus B$, $A-B$</td><td><strong><a href="https://en.wikipedia.org/wiki/Complement_(set_theory)#Relative_complement" target="_blank" aria-label="Set difference (opens in a new tab)" rel="noreferrer noopener">Set difference</a></strong><br>($A$ minus $B$)</td><td>$\{ 5, 6 ,8\} \setminus \{6, 9\} =$<br>$\{5, 8\}$</td></tr><tr><td>$A \, \triangle \, B$, $A \ominus B$</td><td><strong><a href="https://en.wikipedia.org/wiki/Symmetric_difference" target="_blank" aria-label="Symmetric difference (opens in a new tab)" rel="noreferrer noopener">Symmetric difference</a></strong> of sets $A$ and $B$</td><td>$A \, \triangle \, B =$<br>$(A \setminus B) \cup (B \setminus A)$</td></tr><tr><td>$A \times B$</td><td><strong><a aria-label="Cartesian product (opens in a new tab)" href="https://en.wikipedia.org/wiki/Cartesian_product" target="_blank" rel="noreferrer noopener">Cartesian product</a></strong> <br>($A$ times $B$)</td><td>In general, $A \times B \ne B \times A$.</td></tr><tr><td>$A^n$</td><td>$n$th <strong><a href="https://en.wikipedia.org/wiki/Cartesian_product#n-ary_Cartesian_power" target="_blank" aria-label="Cartesian power (opens in a new tab)" rel="noreferrer noopener">Cartesian power</a></strong> of set $A$</td><td>$\mathbb{R}^3 = \mathbb{R} \times \mathbb{R} \times \mathbb{R}$</td></tr><tr><td>$\displaystyle \prod_{i=m}^n A_i$</td><td><strong>Generalized Cartesian product</strong> of sets $A_i$</td><td>$\displaystyle \prod_{i=1}^n \{i\} = \{ (1, \ldots, n) \}$</td></tr><tr><td>$\mathcal{P}(A)$</td><td><strong><a href="https://en.wikipedia.org/wiki/Power_set" target="_blank" aria-label="Power set (opens in a new tab)" rel="noreferrer noopener">Power set</a></strong> of $A$</td><td>$\mathcal{P}(\{a, b\}) =$<br>$\left\{ \varnothing, \{a\}, \{b\}, \{a, b\} \right\}$</td></tr><tr><td>$2^{A}$</td><td><a aria-label="Set of functions from $A$ to a two-element set (opens in a new tab)" href="https://en.wikipedia.org/wiki/Power_set#Representing_subsets_as_functions" target="_blank" rel="noreferrer noopener"><strong>Set of functions</strong> from $A$ to a two-element set</a></td><td>For all sets $A$, $|2^A| = |\mathcal{P}(A)$|.</td></tr><tr><td>$B^A$</td><td><a aria-label="Set of functions from $B$ to $A$ (opens in a new tab)" href="https://en.wikipedia.org/wiki/Power_set#Representing_subsets_as_functions" target="_blank" rel="noreferrer noopener"><strong>Set of functions</strong> from $A$ to $B$</a></td><td>For all finite sets $A$ and $B$, $|B^A| = |B|^{|A|}$.</td></tr></tbody></table></figure><p>The following diagrams, known as <a href="https://en.wikipedia.org/wiki/Venn_diagram" target="_blank" rel="noopener noreferrer"><strong>Venn diagrams</strong></a>, provide a visualization of five of the key sets mentioned above (where $A$ and $B$ are represented by the left and the right circle, respectively).</p><figure><ul><li><figure><img loading="lazy" width="400" height="292" src="https://mathvault.ca/wp-content/uploads/Set-Complement.png" alt="Set Complement" data-id="27250" data-link="https://mathvault.ca/hub/higher-math/math-symbols/set-theory-symbols/set-complement/" title="Set Complement"><figcaption>$\overline{A}$</figcaption></figure></li><li><figure><img loading="lazy" width="400" height="292" src="https://mathvault.ca/wp-content/uploads/Set-Union.png" alt="Set Union" data-id="27252" data-link="https://mathvault.ca/hub/higher-math/math-symbols/set-theory-symbols/set-union/" title="Set Union"><figcaption>$A \cup B$</figcaption></figure></li><li><figure><img loading="lazy" width="400" height="292" src="https://mathvault.ca/wp-content/uploads/Set-Intersection.png" alt="Venn diagram illustrating the intersection of two sets" data-id="27100" data-link="https://mathvault.ca/hub/higher-math/math-symbols/set-theory-symbols/set-intersection/" title="Set Intersection"><figcaption>$A \cap B$</figcaption></figure></li><li><figure><img loading="lazy" width="400" height="292" src="https://mathvault.ca/wp-content/uploads/Set-Difference.png" alt="Set Difference" data-id="27256" data-link="https://mathvault.ca/hub/higher-math/math-symbols/set-theory-symbols/set-difference/" title="Set Difference"><figcaption>$B \setminus A$</figcaption></figure></li><li><figure><img loading="lazy" width="400" height="292" src="https://mathvault.ca/wp-content/uploads/Symmetric-Difference.png" alt="Symmetric Difference" data-id="27257" data-full-url="https://mathvault.ca/wp-content/uploads/Symmetric-Difference.png" data-link="https://mathvault.ca/hub/higher-math/math-symbols/set-theory-symbols/symmetric-difference/" title="Symmetric Difference"><figcaption>$A \, \triangle \, B$</figcaption></figure></li></ul></figure><h2><span id="Relational_Symbols"></span>Relational Symbols<span></span></h2><p>In set theory, <strong>relational symbols</strong> are often used to describe relationships between sets, or relationships between a set and its element. The following table documents the most notable of these symbols — along with their respective meaning and example.</p><figure><table><thead><tr><th>Symbol Name</th><th>Explanation</th><th>Example</th></tr></thead><tbody><tr><td>$x \in A$</td><td><strong><a href="https://en.wikipedia.org/wiki/Element_(mathematics)" target="_blank" aria-label="Set membership (opens in a new tab)" rel="noreferrer noopener">Set membership</a></strong><br>(Element $x$ is in set $A$)</td><td>$i \in \mathbb{C}$</td></tr><tr><td>$x \notin A$</td><td><strong><a aria-label="Set non-membership (opens in a new tab)" rel="noreferrer noopener" href="https://en.wikipedia.org/wiki/Element_(mathematics)#Notation_and_terminology" target="_blank">Set non-membership</a></strong><br>(Element $x$ is not in set $A$)</td><td>$\pi \notin \mathbb{Q}$</td></tr><tr><td>$A \ni x$</td><td><strong><a href="https://en.wikipedia.org/wiki/Element_(mathematics)#Notation_and_terminology" target="_blank" aria-label=" (opens in a new tab)" rel="noreferrer noopener">Set inclusion</a></strong><br>(Set $A$ includes element $x$)</td><td>$A \ni x \iff x \in A$</td></tr><tr><td>$A \not\ni x$</td><td><strong>Set non-inclusion</strong><br>(Set $A$ does not include element $x$)</td><td>$\{a\} \not\ni \{a\}$</td></tr><tr><td>$A = B$</td><td><strong><a href="https://en.wikipedia.org/wiki/Set_(mathematics)#Subsets" target="_blank" aria-label="Set equivalence (opens in a new tab)" rel="noreferrer noopener">Set equivalence</a></strong><br>(Sets $A$ and $B$ are equal)</td><td>$\varnothing = \{ \}$</td></tr><tr><td>$A \subseteq B$</td><td><strong><a aria-label="Set containment (opens in a new tab)" rel="noreferrer noopener" href="https://en.wikipedia.org/wiki/Subset" target="_blank">Subset relation</a></strong><br>($A$ is a subset of $B$)</td><td>$\mathbb{N} \subseteq \mathbb{Q}$</td></tr><tr><td>$A \subset B$</td><td><strong><a aria-label="Set proper containment (opens in a new tab)" rel="noreferrer noopener" href="https://en.wikipedia.org/wiki/Subset#Definitions" target="_blank">Proper subset relation</a></strong><br>($A$ is a proper subset of $B$)</td><td>$A \subset B \iff$<br>$A \subseteq B \  \mathrm{and}\ A \ne B$</td></tr><tr><td>$A \not\subseteq B$</td><td><strong>Non-subset relation</strong><br>($A$ is not a subset of $B$)</td><td>If $A \not\subseteq B$, then there exists an $x \in A$ such that $x \notin B$.</td></tr><tr><td>$A \supseteq B$</td><td><strong><a href="https://en.wikipedia.org/wiki/Subset" target="_blank" aria-label="Superset relation (opens in a new tab)" rel="noreferrer noopener">Superset relation</a></strong><br>($A$ is a superset of $B$)</td><td>$\{5, 8, 1\} \supseteq \{1, 8\}$</td></tr><tr><td>$A \supset B$</td><td><strong><a href="https://en.wikipedia.org/wiki/Subset#Definitions" target="_blank" aria-label="Proper superset relation (opens in a new tab)" rel="noreferrer noopener">Proper superset relation</a></strong><br>($A$ is a proper superset of $B$)</td><td>$A \supset B \iff \\ B \subset A$</td></tr><tr><td>$A \not\supseteq B$</td><td><strong>Non-superset relation</strong><br>($A$ is not a superset of $B$)</td><td>$\mathbb{N} \not\supseteq \mathbb{R}$</td></tr></tbody></table></figure><h2>Cardinality-related Symbols<span></span></h2><p>In set theory, the concept of <a href="https://en.wikipedia.org/wiki/Cardinality" target="_blank" rel="noopener noreferrer"><strong>cardinality</strong></a> provides a way of quantifying and comparing the sizes of different sets. The following table documents some of the most notable symbols related to cardinality — along with each symbol’s usage and meaning.</p><p>(For a refresher on Greek and Hebrew symbols, see <strong><a href="https://mathvault.ca/hub/higher-math/math-symbols/greek-hebrew-latin-symbols/#Greek_Symbols" target="_blank" rel="noopener noreferrer">Greek, Hebrew and Latin-based symbols</a></strong>.)</p><figure><table><thead><tr><th>Symbol Name</th><th>Explanation</th><th>Example</th></tr></thead><tbody><tr><td>$|A|$</td><td><strong><a href="https://en.wikipedia.org/wiki/Cardinality" target="_blank" aria-label="Cardinality (opens in a new tab)" rel="noreferrer noopener">Cardinality</a></strong> of set $A$</td><td>$|\mathbb{N}|=|\mathbb{Z}|$</td></tr><tr><td>$\aleph_0$, $\aleph_1, \ldots$</td><td><strong><a aria-label="Aleph numbers (opens in a new tab)" rel="noreferrer noopener" href="https://en.wikipedia.org/wiki/Aleph_number" target="_blank">Aleph numbers</a></strong></td><td>Under <a aria-label="continuum hypothesis (opens in a new tab)" href="https://en.wikipedia.org/wiki/Continuum_hypothesis" target="_blank" rel="noreferrer noopener">continuum hypothesis</a>, $\aleph_1 = 2^{\aleph_0}$.</td></tr><tr><td>$\beth_0, \beth_1, \ldots$</td><td><strong><a href="https://en.wikipedia.org/wiki/Beth_number" target="_blank" aria-label="Beth numbers (opens in a new tab)" rel="noreferrer noopener">Beth numbers</a></strong></td><td>$\beth_0 = |\mathbb{N}|,$<br>$\beth_1=|\mathcal{P}(\mathbb{N})|,$<br>$\beth_2 = |\mathcal{P}(\mathcal{P}(\mathbb{N}))|$</td></tr><tr><td>$\gimel$</td><td><strong><a href="https://en.wikipedia.org/wiki/Gimel_function" target="_blank" aria-label="Gimel function (opens in a new tab)" rel="noreferrer noopener">Gimel function</a></strong></td><td>$\gimel(\kappa) &gt; \kappa$</td></tr><tr><td>$\mathfrak{c}$</td><td>Cardinality of the <strong><a aria-label="Continuum (opens in a new tab)" href="https://en.wikipedia.org/wiki/Cardinality_of_the_continuum" target="_blank" rel="noreferrer noopener">continuum</a></strong></td><td>$|\mathbb{R}| = \mathfrak{c} = |\mathbb{\mathcal{P}(\mathbb{N})}|$</td></tr><tr><td>$\omega_0, \omega_1, \ldots$</td><td><strong><a href="https://mathworld.wolfram.com/OrdinalNumber.html" target="_blank" aria-label="Omega ordinals (opens in a new tab)" rel="noreferrer noopener">Omega ordinals</a></strong></td><td>$\omega = \{ 0, 1, 2, \ldots \},$<br>$\omega + 1 = \omega \cup \{ \omega \}$</td></tr><tr><td>$\Omega$</td><td><strong><a href="https://en.wikipedia.org/wiki/First_uncountable_ordinal" target="_blank" aria-label="First uncountable ordinal (opens in a new tab)" rel="noreferrer noopener">First uncountable ordinal</a></strong></td><td>$\Omega = \omega_1$</td></tr><tr><td>$\varepsilon_0, \varepsilon_1, \ldots$</td><td><strong><a rel="noreferrer noopener" href="https://en.wikipedia.org/wiki/Epsilon_numbers_(mathematics)" target="_blank">Epsilon ordinals</a></strong></td><td>$\varepsilon_0 = \omega^{\omega^{\omega^{\ \cdot^{\,\cdot^{\,\cdot}}}}}$</td></tr><tr><td>$S(\alpha)$</td><td><strong><a href="https://en.wikipedia.org/wiki/Successor_ordinal#In_Von_Neumann's_model" target="_blank" aria-label="Successor (opens in a new tab)" rel="noreferrer noopener">Successor</a></strong> of ordinal $\alpha$</td><td>$\alpha + S(\beta) = \\ S (\alpha + \beta)$</td></tr><tr><td>$\kappa^+$</td><td><strong><a href="https://en.wikipedia.org/wiki/Successor_cardinal" target="_blank" aria-label="Successor (opens in a new tab)" rel="noreferrer noopener">Successor</a></strong> of cardinal $\kappa$</td><td>$\aleph_{\alpha}^+ = \aleph_{\alpha+1}$</td></tr></tbody></table></figure><p>For the master list of symbols, see <a href="https://mathvault.ca/hub/higher-math/math-symbols">mathematical symbols</a>. For lists of symbols categorized by <strong>type</strong> and <strong>subject</strong>, refer to the relevant pages below for more.</p><div><div><div><figure><img loading="lazy" width="400" height="518" src="https://mathvault.ca/wp-content/uploads/Math-Symbols-eBook-Cover.png" alt="Cover of Math Vault's Comprehensive List of Mathematical Symbols eBook" title="Math Symbols eBook Cover"></figure><div><p>Prefer the PDF version instead?</p><p>Get the master summary of mathematical symbols in <strong>eBook form</strong> — along with each symbol’s usage and LaTeX code.</p></div></div></div></div><h2><span id="Additional_Resources"></span>Additional Resources<span></span></h2><ul><li><a href="https://mathvault.ca/higher-math-learning-guide"><strong>Definitive Guide to Learning Higher Mathematics</strong></a>: A standalone, 10-principle framework for tackling higher mathematical learning, thinking and problem solving efficiently</li><li><a href="https://mathvault.ca/latex"><strong>Ultimate LaTeX Reference Guide</strong></a>: Definitive reference guide to make the LaTeXing process more efficient and less painful</li><li><a href="https://mathvault.ca/10-commandments/"><strong>10 Commandments of Higher Math Learning</strong></a>: Illustrated web guide on the 10 principles that make higher mathematical learning more efficient and more meaningful</li><li><a href="https://mathvault.ca/math-glossary/"><strong>Definitive Glossary of Higher Math Jargon</strong></a>: A tour around higher mathematics in 106 terms</li></ul></section></div></div></div></div></div>]]>
            </description>
            <link>https://mathvault.ca/hub/higher-math/math-symbols/set-theory-symbols/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24494621</guid>
            <pubDate>Wed, 16 Sep 2020 17:01:12 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Large-scale Abuse of Contact Discovery in Mobile Messengers [pdf]]]>
            </title>
            <description>
<![CDATA[
Score 264 | Comments 79 (<a href="https://news.ycombinator.com/item?id=24494505">thread link</a>) | @sizzle
<br/>
September 16, 2020 | https://encrypto.de/papers/HWSDS21.pdf | <a href="https://web.archive.org/web/*/https://encrypto.de/papers/HWSDS21.pdf">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://encrypto.de/papers/HWSDS21.pdf</link>
            <guid isPermaLink="false">hacker-news-small-sites-24494505</guid>
            <pubDate>Wed, 16 Sep 2020 16:51:49 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[BPF based live debugging for Go/C++/Rust in prod with no code changes]]>
            </title>
            <description>
<![CDATA[
Score 16 | Comments 2 (<a href="https://news.ycombinator.com/item?id=24494486">thread link</a>) | @roopakv
<br/>
September 16, 2020 | https://blog.pixielabs.ai/blog/ebpf-function-tracing/post/ | <a href="https://web.archive.org/web/*/https://blog.pixielabs.ai/blog/ebpf-function-tracing/post/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><div><p>This is the first in a series of posts describing how we can debug applications in production using eBPF, without recompilation/redeployment. This post describes how to use <a href="https://github.com/iovisor/gobpf" target="_blank" rel="noopener noreferrer">gobpf</a> and uprobes to build a function argument tracer for Go applications. This technique is also extendable to other compiled languages such as C++, Rust, etc. The next sets of posts in this series will discuss using eBPF for tracing HTTP/gRPC data, SSL, etc.</p><p>When debugging, we are typically interested in capturing the state of a program. This allows us to examine what the application is doing and determine where the bug is located in our code. A simple way to observe state is to use a debugger to capture function arguments. For Go applications, we often use Delve or gdb.</p><p>Delve and gdb work well for debugging in a development environment, but they are not often used in production. The features that make these debuggers powerful can also make them undesirable to use in production systems. Debuggers can cause significant interruption to the program and even allow mutation of state which might lead to unexpected failures of production software.</p><p>To more cleanly capture function arguments, we will explore using enhanced BPF (<a href="https://ebpf.io/" target="_blank" rel="noopener noreferrer">eBPF</a>), which is available in Linux 4.x+, and the higher level Go library <a href="https://github.com/iovisor/gobpf" target="_blank" rel="noopener noreferrer">gobpf</a>.</p><p>Extended BPF (eBPF) is a kernel technology that is available in Linux 4.x+. You can think of it as a lightweight sandboxed VM that runs inside of the Linux kernel and can provide verified access to kernel memory.</p><p>As shown in the overview below, eBPF allows the kernel to run BPF bytecode. While the front-end language used can vary, it is often a restricted subset of C. Typically the C code is first compiled to the BPF bytecode using Clang, then the bytecode is verified to make sure it's safe to execute. These strict verifications guarantee that the machine code will not intentionally or accidentally compromise the Linux kernel, and that the BPF probe will execute in a bounded number of instructions every time it is triggered. These guarantees enable eBPF to be used in performance-critical workloads like packet filtering, networking monitoring, etc.</p><p>Functionally, eBPF allows you to run restricted C code upon some event (eg. timer, network event or a function call). When triggered on a function call we call these functions probes and they can be used to either run on a function call within the kernel (kprobes), or a function call in a userspace program (uprobes). This post focuses on using uprobes to allow dynamic tracing of function arguments.</p><p>Uprobes allow you to intercept a userspace program by inserting a debug trap instruction (<code>int3</code> on an x86) that triggers a soft-interrupt . This is also <a href="https://eli.thegreenplace.net/2011/01/27/how-debuggers-work-part-2-breakpoints" target="_blank" rel="noopener noreferrer">how debuggers work</a>. The flow for an uprobe is essentially the same as any other BPF program and is summarized in the diagram below. The compiled and verified BPF program is executed as part of a uprobe, and the results can be written into a buffer.</p><div><figure>
    <span>
      <span></span>
  <p><img alt="BPF for tracing (from Brendan Gregg)" title="BPF for tracing (from Brendan Gregg)" src="https://blog.pixielabs.ai/static/a11d6d9cb78e055d59136a97665907d3/073a0/bpf-tracing.jpg" srcset="https://blog.pixielabs.ai/static/a11d6d9cb78e055d59136a97665907d3/8356d/bpf-tracing.jpg 259w,https://blog.pixielabs.ai/static/a11d6d9cb78e055d59136a97665907d3/bc760/bpf-tracing.jpg 518w,https://blog.pixielabs.ai/static/a11d6d9cb78e055d59136a97665907d3/073a0/bpf-tracing.jpg 610w" sizes="(max-width: 610px) 100vw, 610px" loading="lazy"></p>
    </span>
    <figcaption>BPF for tracing (from Brendan Gregg)</figcaption>
  </figure></div><p>Let's see how uprobes actually function. To deploy uprobes and capture function arguments, we will be using <a href="https://github.com/pixie-labs/pixie/blob/main/demos/simple-gotracing/app.go" target="_blank" rel="noopener noreferrer">this</a> simple demo application. The relevant parts of this Go program are shown below.</p><p><code>main()</code> is a simple HTTP server that exposes a single <em>GET</em> endpoint on <em>/e</em>, which computes Euler's number (<strong>e</strong>) using an iterative approximation. <code>computeE</code> takes in a single query param(<em>iters</em>), which specifies the number of iterations to run for the approximation. The more iterations, the more accurate the approximation, at the cost of compute cycles. It's not essential to understand the math behind the function. We are just interested in tracing the arguments of any invocation of <code>computeE</code>.</p><pre><div><p><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0yMC4zMzYgNUg4LjA0OEM2LjkxNjQ4IDUgNiA1LjkxNjQ4IDYgNy4wNDhWMjEuMzg0SDguMDQ4VjcuMDQ4SDIwLjMzNlY1Wk0yMy40MDggOS4wOTZIMTIuMTQ0QzExLjAxMjUgOS4wOTYgMTAuMDk2IDEwLjAxMjUgMTAuMDk2IDExLjE0NFYyNS40OEMxMC4wOTYgMjYuNjExNSAxMS4wMTI1IDI3LjUyOCAxMi4xNDQgMjcuNTI4SDIzLjQwOEMyNC41Mzk1IDI3LjUyOCAyNS40NTYgMjYuNjExNSAyNS40NTYgMjUuNDhWMTEuMTQ0QzI1LjQ1NiAxMC4wMTI1IDI0LjUzOTUgOS4wOTYgMjMuNDA4IDkuMDk2Wk0xMi4xNDQgMjUuNDhIMjMuNDA4VjExLjE0NEgxMi4xNDRWMjUuNDhaIiBmaWxsPSIjNEE0QzRGIi8+Cjwvc3ZnPgo=" alt="" title="Copy to clipboard" aria-label="copy"></p></div></pre><p>To understand how uprobes work, let's look at how symbols are tracked inside binaries. Since uprobes work by inserting a debug trap instruction, we need to get the address where the function is located. Go binaries on Linux use ELF to store debug info. This information is available, even in optimized binaries, unless debug data has been stripped. We can use the command <code>objdump</code> to examine the symbols in the binary:</p><pre><div><p><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0yMC4zMzYgNUg4LjA0OEM2LjkxNjQ4IDUgNiA1LjkxNjQ4IDYgNy4wNDhWMjEuMzg0SDguMDQ4VjcuMDQ4SDIwLjMzNlY1Wk0yMy40MDggOS4wOTZIMTIuMTQ0QzExLjAxMjUgOS4wOTYgMTAuMDk2IDEwLjAxMjUgMTAuMDk2IDExLjE0NFYyNS40OEMxMC4wOTYgMjYuNjExNSAxMS4wMTI1IDI3LjUyOCAxMi4xNDQgMjcuNTI4SDIzLjQwOEMyNC41Mzk1IDI3LjUyOCAyNS40NTYgMjYuNjExNSAyNS40NTYgMjUuNDhWMTEuMTQ0QzI1LjQ1NiAxMC4wMTI1IDI0LjUzOTUgOS4wOTYgMjMuNDA4IDkuMDk2Wk0xMi4xNDQgMjUuNDhIMjMuNDA4VjExLjE0NEgxMi4xNDRWMjUuNDhaIiBmaWxsPSIjNEE0QzRGIi8+Cjwvc3ZnPgo=" alt="" title="Copy to clipboard" aria-label="copy"></p></div></pre><p>From the output, we know that the function <code>computeE</code> is located at address <code>0x6609a0</code>. To look at the instructions around it, we can ask <code>objdump</code> to disassemble to binary (done by adding <code>-d</code>). The disassembled code looks like:</p><pre><div><p><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0yMC4zMzYgNUg4LjA0OEM2LjkxNjQ4IDUgNiA1LjkxNjQ4IDYgNy4wNDhWMjEuMzg0SDguMDQ4VjcuMDQ4SDIwLjMzNlY1Wk0yMy40MDggOS4wOTZIMTIuMTQ0QzExLjAxMjUgOS4wOTYgMTAuMDk2IDEwLjAxMjUgMTAuMDk2IDExLjE0NFYyNS40OEMxMC4wOTYgMjYuNjExNSAxMS4wMTI1IDI3LjUyOCAxMi4xNDQgMjcuNTI4SDIzLjQwOEMyNC41Mzk1IDI3LjUyOCAyNS40NTYgMjYuNjExNSAyNS40NTYgMjUuNDhWMTEuMTQ0QzI1LjQ1NiAxMC4wMTI1IDI0LjUzOTUgOS4wOTYgMjMuNDA4IDkuMDk2Wk0xMi4xNDQgMjUuNDhIMjMuNDA4VjExLjE0NEgxMi4xNDRWMjUuNDhaIiBmaWxsPSIjNEE0QzRGIi8+Cjwvc3ZnPgo=" alt="" title="Copy to clipboard" aria-label="copy"></p></div></pre><p>From this we can see what happens when <code>computeE</code> is called. The first instruction is <code>mov 0x8(%rsp),%rax</code>. This moves the content offset <code>0x8</code> from the <code>rsp</code> register to the <code>rax</code> register. This is actually the input argument <code>iterations</code> above; Go's arguments are passed on the stack.</p><p>With this information in mind, we are now ready to dive in and write code to trace the arguments for <code>computeE</code>.</p><p>To capture the events, we need to register a uprobe function and have a userspace function that can read the output. A diagram of this is shown below. We will write a binary called <code>tracer</code> that is responsible for registering the BPF code and reading the results of the BPF code. As shown, the uprobe will simply write to a perf-buffer, a linux kernel data structure used for perf events.</p><div><figure><img src="https://blog.pixielabs.ai/static/9f8b26f88f9b132440ef1b9d48b5a341/app-tracer.svg"><figcaption>High-level overview showing the Tracer binary listening to perf events generated from the App</figcaption></figure></div><p>Now that we understand the pieces involved, let's look into the details of what happens when we add an uprobe. The diagram below shows how the binary is modified by the Linux kernel with an uprobe. The soft-interrupt instruction (<code>int3</code>) is inserted as the first instruction in <code>main.computeE</code>. This causes a soft-interrupt, allowing the Linux kernel to execute our BPF function. We then write the arguments to the perf-buffer, which is asynchronously read by the tracer.</p><div><figure><img src="https://blog.pixielabs.ai/static/87301c7282e8f8270fee2afb9fe85c81/app-trace.svg"><figcaption>Details of how a debug trap instruction is used call a BPF program</figcaption></figure></div><p>The BPF function for this is relatively simple; the C code is shown below. We register this function so that it's invoked every time <code>main.computeE</code> is called. Once it's called, we simply read the function argument and write that the perf buffer. Lots of boilerplate is required to set up the buffers, etc. and this can be found in the complete example <a href="https://github.com/pixie-labs/pixie/blob/main/demos/simple-gotracing/trace_example/trace.go" target="_blank" rel="noopener noreferrer">here</a>.</p><pre><div><p><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0yMC4zMzYgNUg4LjA0OEM2LjkxNjQ4IDUgNiA1LjkxNjQ4IDYgNy4wNDhWMjEuMzg0SDguMDQ4VjcuMDQ4SDIwLjMzNlY1Wk0yMy40MDggOS4wOTZIMTIuMTQ0QzExLjAxMjUgOS4wOTYgMTAuMDk2IDEwLjAxMjUgMTAuMDk2IDExLjE0NFYyNS40OEMxMC4wOTYgMjYuNjExNSAxMS4wMTI1IDI3LjUyOCAxMi4xNDQgMjcuNTI4SDIzLjQwOEMyNC41Mzk1IDI3LjUyOCAyNS40NTYgMjYuNjExNSAyNS40NTYgMjUuNDhWMTEuMTQ0QzI1LjQ1NiAxMC4wMTI1IDI0LjUzOTUgOS4wOTYgMjMuNDA4IDkuMDk2Wk0xMi4xNDQgMjUuNDhIMjMuNDA4VjExLjE0NEgxMi4xNDRWMjUuNDhaIiBmaWxsPSIjNEE0QzRGIi8+Cjwvc3ZnPgo=" alt="" title="Copy to clipboard" aria-label="copy"></p></div></pre><p>Now we have a fully functioning end-to-end argument tracer for the <code>main.computeE</code> function! The results of this are shown in the video clip below.</p><div><figure><img src="https://blog.pixielabs.ai/static/4de8713a5b05e1f9132350f333572174/e2e-demo.gif"><figcaption>End-to-End demo</figcaption></figure></div><p>One of the cool things is that we can actually use GDB to see the modifications made to the binary. Here we dump out the instructions at the <code>0x6609a0</code> address, before running our tracer binary.</p><pre><div><p><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0yMC4zMzYgNUg4LjA0OEM2LjkxNjQ4IDUgNiA1LjkxNjQ4IDYgNy4wNDhWMjEuMzg0SDguMDQ4VjcuMDQ4SDIwLjMzNlY1Wk0yMy40MDggOS4wOTZIMTIuMTQ0QzExLjAxMjUgOS4wOTYgMTAuMDk2IDEwLjAxMjUgMTAuMDk2IDExLjE0NFYyNS40OEMxMC4wOTYgMjYuNjExNSAxMS4wMTI1IDI3LjUyOCAxMi4xNDQgMjcuNTI4SDIzLjQwOEMyNC41Mzk1IDI3LjUyOCAyNS40NTYgMjYuNjExNSAyNS40NTYgMjUuNDhWMTEuMTQ0QzI1LjQ1NiAxMC4wMTI1IDI0LjUzOTUgOS4wOTYgMjMuNDA4IDkuMDk2Wk0xMi4xNDQgMjUuNDhIMjMuNDA4VjExLjE0NEgxMi4xNDRWMjUuNDhaIiBmaWxsPSIjNEE0QzRGIi8+Cjwvc3ZnPgo=" alt="" title="Copy to clipboard" aria-label="copy"></p></div></pre><p>Here it is after we run the tracer binary. We can clearly see that the first instruction is now <code>int3</code>.</p><pre><div><p><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0yMC4zMzYgNUg4LjA0OEM2LjkxNjQ4IDUgNiA1LjkxNjQ4IDYgNy4wNDhWMjEuMzg0SDguMDQ4VjcuMDQ4SDIwLjMzNlY1Wk0yMy40MDggOS4wOTZIMTIuMTQ0QzExLjAxMjUgOS4wOTYgMTAuMDk2IDEwLjAxMjUgMTAuMDk2IDExLjE0NFYyNS40OEMxMC4wOTYgMjYuNjExNSAxMS4wMTI1IDI3LjUyOCAxMi4xNDQgMjcuNTI4SDIzLjQwOEMyNC41Mzk1IDI3LjUyOCAyNS40NTYgMjYuNjExNSAyNS40NTYgMjUuNDhWMTEuMTQ0QzI1LjQ1NiAxMC4wMTI1IDI0LjUzOTUgOS4wOTYgMjMuNDA4IDkuMDk2Wk0xMi4xNDQgMjUuNDhIMjMuNDA4VjExLjE0NEgxMi4xNDRWMjUuNDhaIiBmaWxsPSIjNEE0QzRGIi8+Cjwvc3ZnPgo=" alt="" title="Copy to clipboard" aria-label="copy"></p></div></pre><p>Although we hardcoded the tracer for this particular example, it's possible to make this process generalizable. Many aspects of Go, such as nested pointers, interfaces, channels, etc. make this process challenging, but solving these problems allows for another instrumentation mode not available in existing systems. Also, since this process works at the binary level, it can be used with natively compiled binaries for other languages (C++, Rust, etc.). We just need to account for the differences in their respective ABI's.</p><p>BPF tracing using uprobes comes with its own set of pros and cons. It's beneficial to use BPF when we need observability into the binary state, even when running in environments where attaching a debugger will be problematic or harmful (ex. production binaries). The biggest downside is the code required to get even trivial visibility into the application state. While BPF code is relatively accessible, it's complex to write and maintain. Without substantial high-level tooling, it's unlikely this can be used for generic debugging.</p><div><figure><img src="https://blog.pixielabs.ai/static/12645e1cb582041085ede1877e97c812/wavingnaut.svg"><figcaption></figcaption></figure></div><p>Go dynamic logging is something we are working on at Pixie. You can checkout <a href="https://docs.pixielabs.ai/tutorials/simple-go-tracing/" target="_blank" rel="noopener noreferrer">this</a> to see how Pixie traces Go applications running on K8s clusters. If this post's contents are interesting, please give <a href="https://pixielabs.ai/" target="_blank" rel="noopener noreferrer">Pixie</a> a try, or check out our <a href="https://pixielabs.ai/career" target="_blank" rel="noopener noreferrer">open positions</a>.</p><h2>References</h2><ul><li><a href="https://github.com/iovisor/gobpf" target="_blank" rel="noopener noreferrer">iovisor/gobpf</a></li><li><a href="https://github.com/iovisor/bcc" target="_blank" rel="noopener noreferrer">iovisor/bcc</a></li><li>GoPoland Meetup <a href="https://www.youtube.com/watch?v=SlcBq3xDc7I" target="_blank" rel="noopener noreferrer">Video</a> + <a href="https://www.slideshare.net/ZainAsgar/go-logging-using-ebpf" target="_blank" rel="noopener noreferrer">Slides</a></li><li>GoBangalore Meetup <a href="https://www.youtube.com/watch?v=0mxUU_--dDM&amp;feature=youtu.be" target="_blank" rel="noopener noreferrer">Video</a>. Checkout Below:</li></ul><iframe width="560" height="315" src="https://www.youtube.com/embed/0mxUU_--dDM?start=15" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div></div></div></div>]]>
            </description>
            <link>https://blog.pixielabs.ai/blog/ebpf-function-tracing/post/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24494486</guid>
            <pubDate>Wed, 16 Sep 2020 16:50:16 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Opening Dossiers – and Old Wounds]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24494442">thread link</a>) | @xDeinonychusx
<br/>
September 16, 2020 | https://restofworld.org/2020/kgb-has-logged-off/ | <a href="https://web.archive.org/web/*/https://restofworld.org/2020/kgb-has-logged-off/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
			
<p><span>O</span>n a bright, clear day in mid-June, Andry Kohut, director of the State Archive of the Ukrainian Security Service, stood in front of the sarcophagus of Chernobyl’s reactor Unit 4 wearing sneakers and an N95 face mask. Just over his head, a new mural by the Ukrainian artist Valeriy Korshunov, titled “Look into the Future,” came into view, depicting an outstretched hand holding an atom-like orb over a field of wild horses. Unveiled in 2019 to cheer up workers at the Chernobyl plant, the mural is meant to symbolize hope and renewal. So, too, was Kohut’s visit, in a way: before him, a stack of bright-yellow books, titled <em>The KGB Chernobyl Dossier: From Construction to Accident</em> were placed upon a folding table, and a small crowd of journalists gathered round.</p>



<p>The books contained hundreds of previously classified KGB documents about the nuclear power plant. They depicted how the Soviet security service participated in the construction, how it covered up small accidents at the plant, and how, when reactor Unit 4 exploded in April 1986, it moved to deny and mitigate the scale of the disaster. Kohut lowered his mask, grabbed a mic, and thanked the reporters for having made the journey into the exclusion zone. Because of his efforts, this archive was now being published for the first time, in print and online, for all the world to see. The first day that a portion of the Chernobyl documents were posted, 24,000 people visited the site to read them. Over seven thousand of these visitors read a<a href="http://avr.org.ua/viewDoc/24473/?fbclid=IwAR0SpK3bQ2iusoyToR23RlAXBimHqXjONopyBayd84bIbDaF5DQBZKst-dw"> single, secret, KGB report</a> on the causes of the accident — a first draft of exactly what went wrong with the reactor.&nbsp;</p>


		<figure>
			<div>
				<p><img src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2020/09/KGB-Archive-Ukraine09-40x60.jpg" data-src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2020/09/KGB-Archive-Ukraine09-600x1066.jpg" data-srcset="https://149346090.v2.pressablecdn.com/wp-content/uploads/2020/09/KGB-Archive-Ukraine09-400x600.jpg 400w, https://restofworld.org/wp-content/uploads/2020/09/KGB-Archive-Ukraine09-600x900.jpg 600w, https://restofworld.org/wp-content/uploads/2020/09/KGB-Archive-Ukraine09-1000x1500.jpg 1000w, https://restofworld.org/wp-content/uploads/2020/09/KGB-Archive-Ukraine09-1600x2400.jpg 1600w, " sizes="(max-width: 640px) 100vw, 300px" alt="Andriy Kohut, 39, director of the State Archive of the Ukrainian Security Service, poses for a portrait in the fifth repository of the arhive in Kyiv, Ukraine on August 11, 2020.">
					
				</p>
			</div>
						<figcaption itemprop="caption description">
				
				
			</figcaption>
		</figure>


<p>The initiative was undertaken on behalf of the electronic <a href="http://avr.org.ua/">archive of the Ukrainian Liberation Movement</a>, a project that Kohut and several collaborators launched in 2013, a few months before anti-government protests erupted in the streets of Kyiv. Then-Ukrainian President Viktor Yanukovych had reversed his predecessor’s policy of openness when it came to national archives, and Kohut and his team figured that creating a digital database of documents from the Soviet period would be a form of resistance. It was a way of explicitly linking the country’s tumultuous, uncertain present to its all-too-recent past.</p>



<p>By putting this history online, the archivists wanted not just Ukrainians but the entire international community to draw their own conclusions about how Soviet security services sought to censor, surveil, and repress citizens of the republics. During those years, friends, neighbors, colleagues, and relatives were encouraged to report on one another’s activities; professional and personal stability required strict allegiance to the Communist Party. These databases contain fragments of history that, when unearthed, have utterly transformed family and political narratives and shifted the terrain upon which conversations about memory, complicity, and justice are held.<strong> </strong>At the same time, the files provide concrete evidence against the prevailing myth about the Soviet government organs — that its agents knew, saw, and recorded everything. Sometimes the surprise is that the archives hold unexpected answers; sometimes it’s that they hold none at all. “The Chernobyl documents are just the tip of the iceberg,” Kohut says. “For us, it’s important that everyone can take a look and come to their own conclusions about the extent to which the methods used then are the same as those used today.”</p>



<p>All over Eastern Europe, not just in Kyiv and Lviv but also in Tallinn, Riga, Vilnius, <a href="http://sovlab.ge/en#documentSlider">Tbilisi</a>, and <a href="https://cechoslovacivgulagu.cz/en/index.html">Prague</a>, new and forthcoming digital databases of secret police documents are aiming to bring the past into view. The Soviet Union officially collapsed in 1991, granting these nations independence for the first time since before the ’50s. Yet the rituals and rules of the Soviet era continued to structure life there for decades to come; in some places, they still do. The recent push to put these repositories online marks a subtle but monumental shift. Previously, people had to visit archives in person in order to handle documents about themselves and their families, neighbors, and colleagues — and to see who was doing the surveillance and who was being surveilled (categories that were often one in the same). They had to travel, and they needed to know what they were looking for. Now, all they have to do is type the address into their browser and wait for the artifacts of their past to load. They don’t need to say who they are or why they need access.</p>


		<figure>
			<div>
				<p><img src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2020/09/KGB-Archive-Ukraine01-40x27.jpg" data-src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2020/09/KGB-Archive-Ukraine01-768x432.jpg" data-srcset="https://149346090.v2.pressablecdn.com/wp-content/uploads/2020/09/KGB-Archive-Ukraine01-400x267.jpg 400w, https://restofworld.org/wp-content/uploads/2020/09/KGB-Archive-Ukraine01-600x400.jpg 600w, https://restofworld.org/wp-content/uploads/2020/09/KGB-Archive-Ukraine01-1000x667.jpg 1000w, https://restofworld.org/wp-content/uploads/2020/09/KGB-Archive-Ukraine01-1600x1067.jpg 1600w, https://restofworld.org/wp-content/uploads/2020/09/KGB-Archive-Ukraine01-2800x1867.jpg 2800w, " sizes="(max-width: 640px) 100vw, calc(100vw - 40px)" alt="People walk at the Independence Square or Maidan Nezalezhnosti, the central square of the Ukrainian capital in Kyiv, Ukraine on August 10, 2020. It is the place where the anti-government Maidan protests, known as the Revolution of Dignity, ended in February 2014 ith more than a hundred protestors were killed, many by government snipers, and then-President Viktor Yanukovych fled to Russia when his support collapsed.">
					
				</p>
			</div>
						<figcaption itemprop="caption description">
				
				
			</figcaption>
		</figure>


<hr>



<p><strong>Each former Soviet</strong> country has a unique trove of information, some more extensive than others. In Tbilisi, Georgia, Irakli Khvadagiani and his team at <a href="http://sovlab.ge/en/about">SovLab</a> (short for Soviet Past Research Laboratory) have been collecting and scanning personal diaries, photographs, and testimonies from family archives. They are focusing on private documents because, while the nation’s archives are nominally public, there is a wall of bureaucracy that prevents citizens from accessing much of them. (Plus, most of what the public archives contain pertains only to the victims of Soviet rule — information about perpetrators and collaborators is much harder to find.) In Vilnius, Kristina Burinskaitė, senior specialist at the Genocide and Resistance Research Center of Lithuania, oversees the English-language site <a href="http://kgbdocuments.eu/">KGBdocuments.eu</a> and KGB Veikla Lietuvojet, which aims to help Lithuanians find documents about the experiences of their families and communities during the Soviet era, when hundreds of thousands were deported and repressed. There, new agent files are uploaded every month.&nbsp;</p>



<p>In January 2018, a long list of KGB agents was posted on the site that included the names (and aliases) of actor Donatas Banionis, star of Andrey Tarkovksy’s “Solaris”; the conductor Saulius Sondeckis; and the cardinal Vincentas Sladkevičius, all of whom are deceased. The very fact that they were mentioned was enough to suggest they may have been recruited by secret police, even though there were no details about what they might have done. A scandal ensued, and the named-men’s outraged families appealed to Lithuania’s prosecutor general to intervene.<strong> </strong>Five months later, Lithuania’s <a href="https://www.washingtonpost.com/news/monkey-cage/wp/2014/04/09/what-is-lustration-and-is-it-a-good-idea-for-ukraine-to-adopt-it/">Lustration</a> Commission found that neither Banionis nor Sondeckis had collaborated with the KGB. It is the kind of ruling — a clean bill of historical health — that many descendants are now courting. And although such commissions are often operating with as little evidence as the public, their very existence speaks to the many valences of “collaboration,” and the ample possibilities for deception and misinterpretation.&nbsp;</p>


		<figure>
			<div>
				<p><img src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2020/09/KGB-Archive-Ukraine37-40x27.jpg" data-src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2020/09/KGB-Archive-Ukraine37-768x432.jpg" data-srcset="https://149346090.v2.pressablecdn.com/wp-content/uploads/2020/09/KGB-Archive-Ukraine37-400x267.jpg 400w, https://restofworld.org/wp-content/uploads/2020/09/KGB-Archive-Ukraine37-600x400.jpg 600w, https://restofworld.org/wp-content/uploads/2020/09/KGB-Archive-Ukraine37-1000x667.jpg 1000w, https://restofworld.org/wp-content/uploads/2020/09/KGB-Archive-Ukraine37-1600x1067.jpg 1600w, https://restofworld.org/wp-content/uploads/2020/09/KGB-Archive-Ukraine37-2800x1867.jpg 2800w, " sizes="(max-width: 640px) 100vw, (max-width: 992px) calc(100vw - 40px), (max-width: 1140px) calc(100vw - 290px), calc(100vw - ((100vw - 640px)/2))" alt="Ostap Yednak, 39, poses for a portrait on his balcony in Zazymie, Ukraine on August 12, 2020. Yednak, a former member of the Ukrainian parliament, who now works in a civic sector, inquired the documents from the State Archive of the Ukrainian Security Service about his grandmother’s brother who was arrested by the KGB right before the German invasion, and disappeared.">
					
				</p>
			</div>
						<figcaption itemprop="caption description">
				
				
			</figcaption>
		</figure>


<p>Taken as a whole, the files offer a panoramic view of how Soviet rule impacted all tiers of society and continues to do so decades later. In 2015, Ostap Yednak was a newly elected member of the Ukrainian Parliament, part of a generation of former civil society leaders who joined the government after the revolution. He voted for the opening of the archives, without knowing what they would reveal of his own family history. “I never had the idea that I could have a personal relation to this matter,” he said, “but then I was speaking with my parents in the kitchen, and my father mentioned that, actually, my grandmother’s brother was arrested right before the German invasion and disappeared.” Yednak messaged Kohut’s archivists, and within a few weeks, he received a Google Drive folder containing almost a thousand pages on his great uncle’s fate.</p>



<p>He discovered that his great uncle was rounded up and interrogated with<a href="https://www.radiosvoboda.org/a/29745993.html"> his schoolmates,</a> accused of belonging to a Ukrainian partisan army. The boys were shot and buried in a mass grave. His grandmother hardly spoke a word of this to him — Yednak says she remained terrified of invoking the past and died without discovering the truth. Yednak, too, had grown up in the Soviet system, where he was taught a very selective story of the 20th century. Receiving the files from the archive changed that: “Suddenly, I figured out that I am part of another history, a hidden history. And I’m pretty sure that millions of Ukrainians still do not know this part of their history, because their families were too afraid to disclose this information to them.” He has been encouraging his friends and colleagues to look up their own relatives in the archives, though many Ukrainians still do not understand that the information is freely available. “We do a lot of explaining to people, to say that the archive really is open. They don’t believe it,” said Anna Oliinyk, acting director of the Center for Research on the [Ukrainian] Liberation Movement.</p>


		<figure>
			<div>
				<p><img src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2020/09/KGB-Archive-Ukraine48-40x60.jpg" data-src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2020/09/KGB-Archive-Ukraine48-600x1066.jpg" data-srcset="https://149346090.v2.pressablecdn.com/wp-content/uploads/2020/09/KGB-Archive-Ukraine48-400x600.jpg 400w, https://restofworld.org/wp-content/uploads/2020/09/KGB-Archive-Ukraine48-600x900.jpg 600w, https://restofworld.org/wp-content/uploads/2020/09/KGB-Archive-Ukraine48-1000x1500.jpg 1000w, https://restofworld.org/wp-content/uploads/2020/09/KGB-Archive-Ukraine48-1600x2400.jpg 1600w, " sizes="(max-width: 640px) 100vw, 300px" alt="Anna Oliinyk, 26, acting director of the Center for Research on the Liberation Movement poses for a portrait in her office in Kyiv, Ukraine on August 12, 2020. Oliinyk is one of the co-creators of the electronic archive of the Ukrainian Liberation Movement that publishes the Soviet documents online.">
					
				</p>
			</div>
						<figcaption itemprop="caption description">
				
				
			</figcaption>
		</figure>


<p>There are also many people who understand that the archives are open but have little desire to confront what they might hold. For the past 30 years, some who lived through the Soviet era have been trying to fill in the missing pieces in whatever way they can. Others hope that those pieces will remain missing for as long as they are alive. The dearth of information fueled conspiracy theories and rumors and prevented reform and lustration, ensuring that many of those who served in Soviet government posts were able to retain positions of power and political influence even after the Iron Curtain fell. In Georgia, where the very idea of fully carrying out lustration remains a potent political threat, Khvadagiani and his colleagues at SovLab are trying to do what they can by working around the state. “Everyone is afraid of showing the real picture of totalitarianism, when the majority was collaborating and part of the system,” he says. “Now everyone is trying to say that they were dissidents … that they were dreaming of a free Georgia and of democracy, but the reality is different.”</p>



<p>It’s hardly an accident that this mass unveiling is happening at this …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://restofworld.org/2020/kgb-has-logged-off/">https://restofworld.org/2020/kgb-has-logged-off/</a></em></p>]]>
            </description>
            <link>https://restofworld.org/2020/kgb-has-logged-off/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24494442</guid>
            <pubDate>Wed, 16 Sep 2020 16:47:06 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Turtles All the Way Down]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24494254">thread link</a>) | @toomasb
<br/>
September 16, 2020 | https://www.toomas.net/2020/09/16/turtles-all-the-way-down/ | <a href="https://web.archive.org/web/*/https://www.toomas.net/2020/09/16/turtles-all-the-way-down/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<p>September 2020. I feel the wet, hardwood floor beneath my fingers. Summer air and water droplets touch my skin. My boots are strapped in and I am ready.</p>
<div>
<p>The guy gives me the signal. I tense up. He pulls a lever, and one second later I’m flying through the air.</p>
<p>I’m at a wakeboard park in Vienna, gliding through the cold water.</p>
<p>“This is life”, I think. A split second of slack on the line. I lose my balance. My head crashes against the water. Again.</p>
</div>
<p>These other wakeboarders make it look so effortless. And yet I can’t seem to complete a full lap.</p>
<div>
<p>Is there some key piece of information I’m missing?</p>
<p>—</p>
<p>We know what makes a good wakeboarder. Trial and error. A few simple rules. Maybe some basic physics.</p>
<p>Wakeboarding is easy though. It gets worse from there. Way worse.</p>
<p>Our limited understanding of reality is like a fog of war. We grasp around in the dark trying to make sense of it all, but we bump into barriers everywhere we go.</p>
<p>—</p>
<p>Imagine a 3D ball moving up and down through a 2D plane. The 2D creatures living inside this plane see a line appearing out of nowhere, expanding, contracting, and disappearing again. These creatures do not understand 3D space, they don’t know the concept of a “ball”, or “up” or “down”.</p>
<p>Much like these 2D creatures, we do not truly grasp what’s happening around us. We are limited by our senses and mental capabilities, which were forged by evolution to survive, not to understand reality.</p>
<p>The 2D creatures form a model of the world around them. They know exactly when the line appears. They take the line into account while traveling, as to not bump into it. But they don’t know *why* this line appears. They don’t know the underlying principle.</p>
<p>Our models become more and more complex to factor in more precise measurements. But we still don’t know why things are happening the way they do. In fact, we might not ever know.</p>
<p>Upgrading our mental models through science is slow and error prone, but it does work. It seems like the limit is rather evolutionary. Our brain simply can’t grasp certain things. It’s limited by the hardware. AI might save us. Artificial intelligence might be qualitatively different, impossible for us to imagine. And we might be closer than we think.</p>
<p>By the way, I’m not talking in the actual, real sense of having multiple dimensions. Even though we are too limited to visualize higher dimensional objects, we can at least understand and grasp them logically. I’m talking about other types of dimensions or concepts that we do not even begin to grasp.</p>
<p>I’m also not talking about scale here. Ants don’t know that we have cars and cities and electrical power lines. It’s easy to imagine a scaled up living creature that has access to technology we’re not aware of.</p>
<p>I’m talking about unknown unknowns here, that is why I’m talking in negatives. I can’t express what I mean because I don’t know what I mean.</p>
<p>The lower layers of a convolutional neural network learn about lines and colors and shades and eyes. This neural network learns to recognize the world around us. Except that it’s trained on a very limited subset of reality, namely photographs of visible light. What would these neurons learn based on other types of data? Data that is not – directly or indirectly – generated by our senses.</p>
<p>Maybe the Internet will save us. Massive, chaotic whirls of thought disperse through the cloud. Gigantic thought battles are being won and lost every second. Ideas spread and infect like viruses through the network. The individual neuron doesn’t know it’s part of a gigantic brain.</p>
<p>It feels like we are at the very beginning of our journey.</p>
</div>


</div></div>]]>
            </description>
            <link>https://www.toomas.net/2020/09/16/turtles-all-the-way-down/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24494254</guid>
            <pubDate>Wed, 16 Sep 2020 16:30:36 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Under the hood of calling C/C++ from Python – azhpushkin.me]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24494143">thread link</a>) | @rbanffy
<br/>
September 16, 2020 | https://azhpushkin.me/posts/python-c-under-the-hood | <a href="https://web.archive.org/web/*/https://azhpushkin.me/posts/python-c-under-the-hood">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <div>
        
        <article>
    

    <p>I’ve always been fascinated by CPython and C language companionship.
On the one hand, we’ve got a comprehensive and straightforward tool, and on the other — 
performant and low-level one. I’d even say that this synergy is one of the main 
pillars that have led to Python’s widespread success nowadays.</p>

<p>However, as an infrequent user of C, I never fully realized how this combination works.
The more I used it, the more questions popped out:</p>
<ul>
  <li>How CPython calls binary executables and what is an ABI?</li>
  <li>Why ctypes and other FFI tools are slower than using C extensions?</li>
  <li>Why it’s not possible to call C++ library?</li>
</ul>

<p>I had no other choice but to take it all apart and look inside.</p>

<blockquote>
  <p>Most of the examples in this article are written in C.
That said, even despite I thoroughly explain all the topics,
<strong>I presume a reader is somewhat familiar with C/C++</strong> and compiled languages.</p>
</blockquote>



<p>Let’s start with an exploration of binary executables.</p>

<p>CPUs speak in so-called <strong>machine code</strong> — low-level instructions
that operate directly over CPU memory, registers, <a href="https://en.wikipedia.org/wiki/Arithmetic_logic_unit">Arithmetic logic unit</a>, etc.
A naive assumption would be that executables are just a list of such instructions for CPU to run.
Well, that’s not the case.</p>

<figure>
    <img src="https://azhpushkin.me/assets/images/python_c_abi/compiled_and_cpu.jpg" alt="Not happening.">
    
    <figcaption>Not happening.</figcaption>
    
</figure>

<p>Compilers generate executable files according to standardized binary file formats.
Such files contain machine code, structured in a certain way,
and wrapped with a plethora of additional metadata.</p>

<p>Operating systems rely heavily on this metadata to determine how binary files should be used.
Because of that, each operating system features some exact format to work with.
Among the most popular ones are:</p>
<ul>
  <li><strong>ELF</strong> (Executable and Linkable Format), used by most of Linux distros</li>
  <li><strong>PE</strong> (Portable Executable), used by Windows</li>
  <li><strong>Mach-O</strong> (<a href="https://en.wikipedia.org/wiki/Mach_(kernel)">Mach</a> object), used by Apple products</li>
</ul>

<p>As a Linux user, I’m using ELF throughout the article.
However, general ideas hold for other systems as well. 
I can also recommend looking at
<a href="https://lwn.net/Articles/631631/">“How programs get run: ELF binaries”</a>
if you want to learn more about execution flow.</p>

<p>Worth mentioning, even though each OS works with a specific file format,
it does not mean that running others is impossible.
It’s just a matter of parsing and executing machine code correctly.
<a href="https://www.winehq.org/">The Wine project</a> is a perfect example:
it’s a platform that runs PE files (Windows default format) on systems
without native PE support.</p>

<hr color="#dddddd">

<p>We are going to peek into ELF for a moment.
Meet our test subject:</p>

<div><div><pre><code><span>// basics/dullmath.c</span>
<span>int</span> <span>fibonacci</span><span>(</span><span>int</span> <span>n</span><span>)</span> <span>{</span>
  <span>if</span> <span>(</span><span>n</span> <span>&lt;=</span> <span>0</span><span>)</span> <span>return</span> <span>0</span><span>;</span>
  <span>if</span> <span>(</span><span>n</span> <span>==</span> <span>1</span><span>)</span> <span>return</span> <span>1</span><span>;</span>
  <span>return</span> <span>fibonacci</span><span>(</span><span>n</span><span>-</span><span>1</span><span>)</span> <span>+</span> <span>fibonacci</span><span>(</span><span>n</span><span>-</span><span>2</span><span>);</span>
<span>}</span>

<span>float</span> <span>get_pi</span><span>()</span> <span>{</span><span>return</span> <span>3</span><span>.</span><span>14</span><span>;}</span>
</code></pre></div></div>

<p>To use this code from other programs, we need to compile it to the so-called
shared library.</p>

<p><strong>Shared library</strong> (or <strong>shared object</strong>) is an executable binary file intended to
be used by other programs. We compile it once and simply <em>link</em> other programs against it.
Hence the name <em>shared</em> — everyone is using the same binary file.
Besides, there is no need for the <code>main</code> function
as the library is not designed to run standalone.</p>

<div><div><pre><code><span>$ </span><span># Note the naming convention: `lib&lt;name&gt;.so`</span>
<span>$ </span>gcc <span>-shared</span> <span>-fPIC</span> dullmath.c <span>-o</span> libdullmath.so
</code></pre></div></div>

<p>The resulting <code>libdullmath.so</code> is an ELF file.
Note <code>-fPIC</code> compiler argument: it makes machine code
<a href="https://azhpushkin.me/posts/en.wikipedia.org/wiki/Position-independent_code">position-independent</a>. This ensures that
the library operates correctly regardless of the memory position, where it is loaded.
You can refer to <a href="https://eli.thegreenplace.net/2011/08/25/load-time-relocation-of-shared-libraries/">“Load-time relocation of shared libraries”</a>
and <a href="https://eli.thegreenplace.net/2011/11/03/position-independent-code-pic-in-shared-libraries/">“Position Independent Code (PIC) in shared libraries”</a> articles for a thorough examination.</p>

<p>Each ELF file contains a list of <strong>symbolic references</strong> (or just <strong>symbols</strong>).
Symbols are used to identify individual machine code sections by names.
We can look at those with a <code>readelf</code> tool to verify that our functions are available:</p>

<div><div><pre><code>$ readelf -D --symbols libdullmath.so | grep FUNC | grep GLOBAL
  5   1: 0000000000001109    74 FUNC    GLOBAL DEFAULT  11 fibonacci
  6   1: 0000000000001153    14 FUNC    GLOBAL DEFAULT  11 get_pi
</code></pre></div></div>

<p>We also need to make our library visible to our programs. An easiest way to do so
is to copy it to <code>/usr/lib/</code> - default system-wide directory for libraries.</p>

<p>If you’d rather not mess with sudo or system-wide directories, you may as well use 
<code>LIBRARY_PATH</code> and <code>LD_LIBRARY_PATH</code> environment variables.
Both add a given path to the list of lookup directories.
<code>LIBRARY_PATH</code> is used by gcc during the compilation, and
<code>LD_LIBRARY_PATH</code> is used by OS at runtime (gcc doesn’t bind location of shared object,
so there is a separate lookup at runtime).</p>

<div><div><pre><code><span>$ </span><span># Copy to system default location</span>
<span>$ </span><span>sudo cp </span>libdullmath.so /usr/lib/  
<span>$ </span>
<span>$ </span><span># Or use environment variables</span>
<span>$ </span><span>export </span><span>LIBRARY_PATH</span><span>=</span><span>$(</span><span>pwd</span><span>)</span>    <span># add to compilation scope</span>
<span>$ </span><span>export </span><span>LD_LIBRARY_PATH</span><span>=</span><span>$(</span><span>pwd</span><span>)</span> <span># add to runtime scope</span>
</code></pre></div></div>

<p>All the ways of calling C from Python are based on compiling a shared library
and loading it from Python.
So if you don’t feel very familiar with shared libraries, I highly recommend
tinkering around with them for a little. <a href="https://amir.rachum.com/blog/2016/09/17/shared-libraries/">“Shared Libraries: Understanding Dynamic Loading”</a> is a great starting point.</p>



<p>With the shared object compiled, we are ready to call it.</p>

<p>I consider <a href="https://docs.python.org/3/library/ctypes.html">ctypes</a> to be the easiest way to execute some C code, because:</p>
<ul>
  <li>it’s included in the standard library,</li>
  <li>writing a wrapper uses plain Python.</li>
</ul>

<p>Latter makes ctypes an implementation of <a href="https://en.wikipedia.org/wiki/Foreign_function_interface"><strong>Foreign Function Interface (FFI)</strong></a> for Python.
This is a general name for a mechanism by which you can write code in one programming language
to run another. One that you write is called the <strong>host</strong> language, one that
you execute — the <strong>guest</strong>. In our case, the host is Python, the guest is C.</p>

<figure><pre><code data-lang="bash"><span>&gt;&gt;&gt;</span> import ctypes
<span>&gt;&gt;&gt;</span>
<span>&gt;&gt;&gt;</span> <span># note: ctypes require a path to file, not library name</span>
<span>&gt;&gt;&gt;</span> lib <span>=</span> ctypes.CDLL<span>(</span>f<span>'/usr/lib/libdullmath.so'</span><span>)</span>
<span>&gt;&gt;&gt;</span> 
<span>&gt;&gt;&gt;</span> lib.get_pi
&lt;_FuncPtr object at 0x7f3671537b80&gt;
<span>&gt;&gt;&gt;</span> lib.fibonacci
&lt;_FuncPtr object at 0x7f3671537700&gt;
<span>&gt;&gt;&gt;</span>
<span>&gt;&gt;&gt;</span> lib.other_function   <span># wrong names are not found</span>
Traceback <span>(</span>most recent call last<span>)</span>:
  File <span>"&lt;stdin&gt;"</span>, line 1, <span>in</span> &lt;module&gt;
  File <span>"/usr/lib/python3.8/ctypes/__init__.py"</span>, line 386, <span>in </span>__getattr__
    func <span>=</span> self.__getitem__<span>(</span>name<span>)</span>
  File <span>"/usr/lib/python3.8/ctypes/__init__.py"</span>, line 391, <span>in </span>__getitem__
    func <span>=</span> self._FuncPtr<span>((</span>name_or_ordinal, self<span>))</span>
AttributeError: /home/.../libdullmath.so: undefined symbol: other_function</code></pre></figure>

<p>All as expected: ctypes uses symbols to find functions, and invalid symbols
usage raises an undefined symbol exception.</p>

<div><div><pre><code><span>&gt;&gt;&gt;</span> <span>[</span>lib.fibonacci<span>(</span>i<span>)</span> <span>for </span>i <span>in </span>range<span>(</span>7<span>)]</span>
<span>[</span>0, 1, 1, 2, 3, 5, 8]
<span>&gt;&gt;&gt;</span> lib.get_pi<span>()</span>
0
</code></pre></div></div>
<p>Yikes! What happened to <code>get_pi()</code>?</p>

<p>Well, to call the function correctly, we need to know the type signature of that function.
ELF does not carry types information, so we need to provide them manually.</p>

<p>ctypes allows this by declaring <a href="https://docs.python.org/3/library/ctypes.html#specifying-the-required-argument-types-function-prototypes">function argument types</a> and <a href="https://docs.python.org/3/library/ctypes.html#return-types">return types</a>. Default return type is considered <code>c_int</code>, so that did work out-of-the-box for <code>fibonacci</code> and did not for <code>get_pi</code>.</p>

<p>Easy fix.</p>
<div><div><pre><code><span>&gt;&gt;&gt;</span> lib.get_pi.restype <span>=</span> ctypes.c_float
<span>&gt;&gt;&gt;</span> lib.get_pi<span>()</span>
3.140000104904175
</code></pre></div></div>

<p>The exciting part starts once you try to compile this code as a C++ library.
This is an <em>easy way to break this demo down</em>.
As I pointed out at the start of an article, ctypes doesn’t support C++ libraries.
Even though this simple piece of code is perfectly valid as both C and C++.</p>

<p>Check this out:</p>
<div><div><pre><code><span>$ </span>g++ <span>-shared</span> dullmath.c <span>-o</span> libdullmath.so  <span># just swap gcc to g++</span>
<span>$ </span>python
<span>&gt;&gt;&gt;</span> import ctypes
<span>&gt;&gt;&gt;</span> lib <span>=</span> ctypes.CDLL<span>(</span>f<span>'./libdullmath.so'</span><span>)</span>
<span>&gt;&gt;&gt;</span> lib.fibonacci
Traceback <span>(</span>most recent call last<span>)</span>:
  File <span>"&lt;stdin&gt;"</span>, line 1, <span>in</span> &lt;module&gt;
  File <span>"/usr/lib/python3.8/ctypes/__init__.py"</span>, line 386, <span>in </span>__getattr__
    func <span>=</span> self.__getitem__<span>(</span>name<span>)</span>
  File <span>"/usr/lib/python3.8/ctypes/__init__.py"</span>, line 391, <span>in </span>__getitem__
    func <span>=</span> self._FuncPtr<span>((</span>name_or_ordinal, self<span>))</span>
AttributeError: /home/.../libdullmath.so: undefined symbol: fibonacci
</code></pre></div></div>

<p>To discover why it is so, we need to take a closer look at
machine code, packed inside the generated binary.</p>



<p>As we have found out in the previous chapter, we need to know type signatures
to use a shared library properly. In fact, we need to know much more —
we need to understand an <a href="https://en.wikipedia.org/wiki/Application_binary_interface"><strong>Application Binary Interface (ABI)</strong></a> of compiled machine code.</p>

<p>An ABI is similar to an API, but on a much lower level. 
ABI could be described as a set of rules that define how 
certain compiled machine code works. One of the most important and 
illustrative parts of ABI is a calling convention.</p>

<p><a href="https://en.wikipedia.org/wiki/Calling_convention"><strong>Calling concention</strong></a> defines low-level rules of a function call.
For instance, it defines:</p>
<ul>
  <li>where arguments and return values are stored,</li>
  <li>what is the ordering of arguments,</li>
  <li>who is responsible for cleaning up after function return,</li>
  <li>and many, many more.</li>
</ul>

<p>You can refer to <a href="https://en.wikipedia.org/wiki/X86_calling_conventions#List_of_x86_calling_conventions">this Wiki comparison</a> to see that there are
plenty of different conventions, each with its own nuances and pitfalls. 
And this is just a tiny part of the binary interface.</p>

<p>I believe a good analogy to understand ABI is to imagine a <strong>jigsaw puzzle</strong>.
Each function is a piece. Each piece has a different form, just like
functions have different type signatures. The whole program is a finished puzzle.</p>

<figure>
    <img src="https://azhpushkin.me/assets/images/python_c_abi/abi_intro.jpg" alt="">
    
</figure>

<p>Compilers are the ones who take care of ABI.
They generate machine code accordingly to specific rules and ensure
it is coherent. Thus, all function calls, memory layout rules, and other details
in generated executable work in the same way.</p>

<p>Check out this example:</p>
<div><div><pre><code><span>// example.c</span>
<span>#include &lt;stdio.h&gt;
</span> 
<span>int</span> <span>fibonacci</span><span>(</span><span>int</span><span>);</span>

<span>int</span> <span>main</span><span>()</span> <span>{</span>
  <span>printf</span><span>(</span><span>"10th fibonacci number is %d</span><span>\n</span><span>"</span><span>,</span> <span>fibonacci</span><span>(</span><span>10</span><span>));</span>
  <span>return</span> <span>0</span><span>;</span>
<span>}</span>
</code></pre></div></div>

<div><div><pre><code><span>$ </span>gcc <span>-c</span> example.c <span>-o</span> example.o
<span>$ </span>gcc example.o <span>-ldullmath</span> <span>-o</span> example
<span>$ </span>./example
10th fibonacci number is 55
</code></pre></div></div>

<p>During the library compilation, GCC created machine code for fibonacci 
according to certain conventions. Then, it produced matching callee machine code
for <code>example.o</code>. As we used one and the same compiler, the same ABI was applied,
and the binaries matched.</p>

<figure>
    <img src="https://azhpushkin.me/assets/images/python_c_abi/callee_and_caller.jpg" alt="">
    
</figure>

<p>But what if we use different compilers?</p>

<hr color="#dddddd">

<p>The bad news is that <strong>there is no standardized ABI neither for C++ nor for C</strong>. Different compilers, or even <em>different versions of the same compiler</em>, can …</p></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://azhpushkin.me/posts/python-c-under-the-hood">https://azhpushkin.me/posts/python-c-under-the-hood</a></em></p>]]>
            </description>
            <link>https://azhpushkin.me/posts/python-c-under-the-hood</link>
            <guid isPermaLink="false">hacker-news-small-sites-24494143</guid>
            <pubDate>Wed, 16 Sep 2020 16:20:44 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Signals and Threads: Andrey Mokhov on build systems (a la carte)]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24494109">thread link</a>) | @yminsky
<br/>
September 16, 2020 | https://signalsandthreads.com/build-systems/ | <a href="https://web.archive.org/web/*/https://signalsandthreads.com/build-systems/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		<h2 id="003">0:03</h2>


<div><p>Welcome to Signals &amp; Threads, in-depth conversations about every layer of the tech stack, from Jane Street. I’m Ron Minsky.  </p><p>Today, I’m going to have a conversation with Andrey Mokhov about build systems. Build systems are an important but I think poorly understood and often unloved part of programming. Developers often end up with only a hazy understanding of what’s going on with their build system learning just enough to figure out what arcane invocation they need to get the damn thing working and then stop thinking about it at that point, and that’s a shame because build systems matter a lot to our experience as developers.  </p><p>A lot of what underlies a good developer experience really comes out of the build system that you use and also there’s a lot of beautiful ideas and structure inside of build systems. Sadly, a lot of that beauty is obscured by a complex thicket of messy systems of different kinds and a complicated ecosystem of different build systems for different purposes, and I’m hoping that Andrey can help us see through some of that thicket down to some of the elegance of all of this underneath.  </p><p>Andrey is a great person to have that conversation with because he’s had a long and interesting experience with build systems having done some work on Hadrian, which is the build system for the <a href="https://www.haskell.org/ghc">Glasgow Haskell Compiler</a> and having written a few important papers that try and analyze and break down the ecosystem of build systems and help you understand kind of what’s going on fundamentally underneath, and finally, in the last few years, Andrey has been working here working on Jane Street build systems.  </p><p>So, thanks Andrey for joining me, and maybe to start with, you can start by explaining to us a little bit about what a build system is.</p></div>

<h2 id="140">1:40</h2>


<div><p>Hi, Ron. It’s great to be on the podcast. So what is a build system?  Build systems automate the execution of various tasks of individual developers like me and whole companies like Jane Street. So, as a software developer, what are the kind of tasks that I need to do every day? I need to compile and recompile source files. I need to run some tests. I need to keep my documentation up to date. There are lots of tasks like this.  </p><p>Every task is pretty simple and straightforward on its own, but there are a lot of them, and they are tedious and I need to remember to do them in the right order, so it’s great to have some automation that does it for me. In the old days, like, how would you do this without automation, you would just write a script, and the script was your build system. And that’s how I worked myself when I used to work on projects with just a few files. And it works perfectly fine in those settings.</p></div>

<h2 id="223">2:23</h2>


<p>Beyond just using simple scripts, what’s the next step up available to developers in terms of automation?</p>

<h2 id="227">2:27</h2>


<div><p>Well, before, I don’t know, 1976 when Make was developed, there was nothing else and people were just writing scripts. And projects were getting bigger and bigger, it became difficult and at some point Make was developed to automate this. So Make was a huge breakthrough. It’s very simple. It allows you to write down the tasks that you need to execute and each task has some inputs and some outputs and the task itself, so what kind of command line you need to run to execute this task.  </p><p>And this very simple approach worked very well and it’s still being used these days. So these days I would say Make is still the most popular build system out there. If you go to a random open source project you will find a Makefile there.</p></div>

<h2 id="308">3:08</h2>


<p>Which on some level is kind of astonishing, just given how old Make is.</p>

<h2 id="311">3:11</h2>


<p>I’m amazed at how successful Make was and still is.</p>

<h2 id="314">3:14</h2>


<p>What was the thing that made Make such a big step forward?</p>

<h2 id="316">3:16</h2>


<p>Well, it was easy to use, right? You just write a few rules and the format for specifying those rules is pretty straightforward. It’s just a text file. And Make is available to you on pretty much any system. You type Make and it works. I guess it’s that kind of conceptual simplicity which attracted a lot of people to it, and of course also the pain that they had experienced before when they had to run all those tasks manually and they kept forgetting to run things in the right order. And I think this was one of the direct motivations of creating Make.</p>

<h2 id="345">3:45</h2>


<p>So, you talk about having a simple conceptual model, and what is that model on some level when you configure a job in Make, what you’re doing is specifying a collection of rules. Each rule says what you do, what’s the command you run to execute that rule, what it depends on and what it produces, and now Make has what is essentially a graph like model representing what are the things you need to do and what are the dependencies. Given that simple model, what are the services that Make now provides to you that you didn’t have before?</p>

<h2 id="412">4:12</h2>


<div><p>The main benefit of using Make compared to a script is that Make only reruns the tasks that need to be rerun. So how does it figure it out?  When you have like 1000 files in your project and you edit a single source file, if you run the script, it will basically recompile all 1000 files and then maybe relink some executables and rerun all the tests. And obviously that’s very wasteful. If you’ve only edited one file, only one file need to be recompiled.  </p><p>Make figures this out by just looking at timestamps. So, it just looks at the time of the file that you’ve just edited and it’s newer than the file that depends on it, so that files that depends on it needs to be recompiled and then its timestamp is updated, and so this wave of changes propagates through the build graph that you have and at the end for every task that you have in your description, you have the simple rule that everything that all the inputs of the task produced before the task, the outputs of the task have reproduced. This is before/after relationship is enforced everywhere in the build graph.</p></div>

<h2 id="511">5:11</h2>


<p>Right. Service number one that’s provided is incrementality. Small changes require small amounts of work in response to them.</p>

<h2 id="519">5:19</h2>


<p>That’s right. Yeah.</p>

<h2 id="520">5:20</h2>


<div><p>And this is important to developers kind of for obvious reasons, which is to say a key thing you want from your tools is responsiveness. You want to do something, see the results, think about whether that was the right thing to do and go back and make other changes, and so having tools that are responsive is enormously helpful. There’s a couple of the things that come to mind for me in terms of what Make helps out with. One of them is, it helps get the build right. One of the tricks with rebuilding your software is making sure that you’ve done all the things that you need to do. Like you could imagine that you changed a file and then you remember to rebuild that but you didn’t remember to rebuild everything that depended on it.  </p><p>And so having a simple language where you can express the dependencies and then once you get it right, you have a system that takes care of running things in the right order. There’s just a whole class of errors that you can make either in manual construction of a script or a manual kicking off of build tasks that just go away. I guess another thing is parallelism. There’s the incrementality of only having to do a small amount of work, but having this graph structured representation of the build also helps you kick off things in parallel.</p></div>

<h2 id="620">6:20</h2>


<p>Yeah. Absolutely. Like trying to maintain this parallelism by hand in a build script would be pretty annoying, right? You add a new file and suddenly you have a new dependency and need to rearrange the parallelism. Having some automation here is great as well.</p>

<h2 id="633">6:33</h2>


<p>Okay. This all sounds like a very short story. We had this problem, how to build things. A nice system like Make came out. It has a clean way of expressing dependencies and giving you some services off the back of that specification. All done, problem solved. What’s missing?  Why is the story of Make from 1976 not enough?</p>

<h2 id="651">6:51</h2>


<div><p>There are few things that are missing in Make. One of them as I mentioned, the way Make determines that a task needs to be rebuilt, is by looking at timestamps but very often this is too limiting. Let me give you a common example. You edit a source file by just adding a comment and as a result, you recompile that file and the result doesn’t change, but the timestamp does change anyway.  </p><p>It means that everything that depended on that file needs to be recompiled if you’re using Make. This is one of the problems that basically sometimes you want what we call “early cutoff” in build systems. If you recompile a file and the result is the same, you don’t want to recompile everything else that depends on it, so this is one feature that was missing.</p></div>

<h2 id="729">7:29</h2>


<p>Right. Essentially the problem is that the heuristic that Make uses for figuring out what needs to be redone is overly conservative, right? It will refire when it doesn’t strictly speaking need to refire.</p>

<h2 id="738">7:38</h2>


<p>That’s right. It’s overly conservative, at the same time I like it a lot because it basically just repurposes existing information. It’s just the information that is out there. The file system records modification times. Make itself doesn’t store anything at all, which is a very nice property to have. But if you want to support things like early cutoff you now need to start storing some information.</p>

<h2 id="757">7:57</h2>


<p>Right. I guess in addition Make’s timestamp-based recomputation is, as you say, overly conservative. It’s also under conservative, isn’t it?  I.e., it will fail to rebuild in some cases where it should.</p>

<h2 id="808">8:08</h2>


<p>Yeah and it’s fairly common for example, that various like backup software, for example, would mess up modification times, which would basically cause your project not to compile correctly and then you would have to go for the so-called “clean build” to just get around that limitation. Yes. Make’s reliance on timestamps is problematic.</p>

<h2 id="825">8:25</h2>


<p>Something goes wrong with Make, …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://signalsandthreads.com/build-systems/">https://signalsandthreads.com/build-systems/</a></em></p>]]>
            </description>
            <link>https://signalsandthreads.com/build-systems/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24494109</guid>
            <pubDate>Wed, 16 Sep 2020 16:17:51 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Guilt Line – Self Expression vs. Order]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24494042">thread link</a>) | @tristanMatthias
<br/>
September 16, 2020 | https://spirals.blog/articles/the-guilt-line/ | <a href="https://web.archive.org/web/*/https://spirals.blog/articles/the-guilt-line/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
  
  
  
  
  <img src="https://spirals.blog/articles/the-guilt-line/cover.jpg" alt="The Guilt Line">
  
  
  
  <p><strong>“STOP!”</strong> The police officer yelled, “This raucous is over!”</p>
<p>The music ceased immediately, and the end-of-year forest party came to an abrupt end. It was good while it lasted. Some of the teenagers ran for the darkness and safety of the trees, while others, horrified of what their parents would say, stood <span>Blue</span>–struck, red beer cups in hand.</p>
<p>What seemed like a fun, secluded, annual ritual –&nbsp;a chance to dance away the boredom of another school year of tests and assignments – was not looked upon so favorably by the strict, local law enforcement. After all, it was only last year that Johnny was seen handing out weed. The town was on edge.</p>
<hr>
<h2><span>Blue</span> Vs. <span>Red</span></h2>
<p>Along the frontier of the <span>Blue</span>/<span>Red</span> boundary lies many a conflict:</p>
<ul>
<li>Terrorists and trained armies.</li>
<li>“Surfer-dudes” and their frustrated bosses, from the cafes they <em>sometimes</em> show up to work for.</li>
<li>An eager youth and a strict school principal.</li>
<li>Criminals and the law.</li>
<li>A rowdy teenager and a concerned parent.</li>
<li>Etc</li>
</ul>
<p>The hard line between expressive <span>Red</span> and a responsibility-driven <span>Blue</span> underpins many of societies’ interactions and much of our individual lives.</p>
<p>As we’ve learned from our previous forays into these complex perspectives, <em><strong>both are needed</strong></em>. <em><strong>Neither is “right” or “wrong”</strong></em>. And yet, when one is fueled by a righteous and ordered <span>Blue</span> drive or a carefree and in-the-moment <span>Red</span> fuel, we don’t always see the other side. They’re often the enemy: the misbehaving hooligans, or the stuck-up, prissy suits.</p>
<p>Sound familiar?</p>
<h2>The Guilt Line</h2>
<p><img src="https://spirals.blog/articles/the-guilt-line/guilt-line.jpg" alt="The Guilt Line"></p>
<p>In the Spiral’s evolution, <span>Blue</span> clamps down on an overactive <span>Red</span> that was taking things too far. We learned that one of <span>Blue</span>’s powerful assets in controlling <span>Red</span> is guilt. A firm, disciplined, fear of doing something wrong in the eye of the law/god/ism/Truth/company policy.</p>
<p>In the diagram above, <span>Red</span> rises until, usually, something catastrophic happens, and society steps in. A concrete line is drawn, and anybody who crosse this line will be severely punished. You’ve been warned.</p>
<p>Here’s the thing, however. <strong>This line is dependent on how healthy your <span>Blue</span> is, AND your acceptance of <span>Red</span>.</strong></p>
<h2>A Low Guilt Line = No fun</h2>
<p><img src="https://spirals.blog/articles/the-guilt-line/low-line.jpg" alt="Low Guilt Line"></p>
<blockquote>
<p>As the guilt line drops, so too does healthy expression and self-acceptance of ones desires (culturally or individual)</p>
</blockquote>
<p>For example, let’s take a party-going highschool-dropout, who after a dance with alcoholism and a brief intervention from the local church, get’s his shit together and becomes church’s accountant.</p>
<p><img src="https://spirals.blog/articles/the-guilt-line/accountant.jpg" alt="Accountant"></p>
<p>How do you suppose this “structure” (<span>Red</span> -&gt; <span>Blue</span>) would respond to <em>his</em> children going out to party? I think it’s fair to say he would not be offering to pick them up at 1 am from the beach celebrations.</p>
<p>Likewise, the same applies to countries. After the bloodshed, chaos, and warring disputes, the “peace” that <span>Blue</span> brings is a breath of fresh air. Countries like Japan enforce incredibly strict social norms and rules to limit <span>Red</span>’s expression - often resulting in very unhealthy behavior.</p>
<p>“You can be <span>Red</span>, but only on a Friday or Saturday night, between the hours of 7 pm and 11:59 pm, and it but be contained to this small district we’ve set aside for you.”</p>
<p>This sentiment is exceptionally damaging (as is any over-suppression of the natural Spiral). It creates friction (internal and externally), crippling guilt, sexual frustration, “working one’s self to the bone”, stress, “uptight” ness, boredom, lack of creativity and joy, and many other issues.</p>
<p>In some cases, for those whose “guilt line” has been too low for too long, they’ll snap one day. They’ve sacrificed themselves for society/others, allowing nothing for themselves. Suddenly, the long-term, high-valued employee quits their job, gets a divorce, moves to Hawaii, and buys a Ferrari. <em>A typical midlife crisis –&nbsp;<span>Red</span> violently bursts through <span>Blue</span>.</em></p>
<h2>Too high a Guilt Line = Chaos</h2>
<p><img src="https://spirals.blog/articles/the-guilt-line/high-line.jpg" alt="High Guilt Line"></p>
<blockquote>
<p>As the guilt line rises, order, discipline, and tempered rationality gives way to extreme behavior, ego, and power struggles.</p>
</blockquote>
<p>Of course, the converse of everything above is also true. If <span>Blue</span> laxes too much, allowing <span>Red</span> to walk over it as it pleases, other problems arise.</p>
<p>For example, when crime becomes prevalent (sometimes organized by small amounts of <span>Orange</span>) and the police are too weak, corrupt, or under-funded to control it, <span>Red</span> can claim entire nations. Despite potential external meddling from the CIA, Pablo Escobar is an unfortunate illustration of <span>Red</span> dominating a still developing <span>Blue</span> Colombia.</p>
<p>At one point, an extreme <span>Red</span> was controlling Colombia’s entire country
from a “prison” that HE designed for himself. It crippled Colombia’s people (who thankfully have recovered) and much of South America’s reputation.</p>
<p><span>Red</span> must be kept in check. Not so much that it limits the self to the point of a puristic chastise, but enough to protect and preserve the safety of all. Lowering the guilt line when <span>Red</span> has reigned for a time is a bloody business.</p>
<h2>Finding the balance</h2>
<p>I wonder if you can recognize your own guilt line. Indeed, it often fluctuates depending on the area of our lives. How far do you go before the sense that you’re doing something wrong kicks in? Do you end up hurting people (intentionally OR Unintentionally)? Or are you too strict on yourself and others, not giving space to “take the day off” or “dance the night away”.</p>
<p>If you’re fueled by <span>Red</span>, living in a dominant <span>Blue</span> (which is most of the world), is the line too low for you? Too high?</p>
<p>If <span>Blue</span> fuels you, how much <span>Red</span> can you tolerate? Do you put your foot down at the slightest sight of “unruly behavior” or “bad manners”? Or do you recognize that we all possess a bit of everything, and join in on the fun?</p>
<p>Indeed, different situations call for the raising and lowering of our Guilt Lines.</p>
<p>As always, there are no definitive answers to any of the above. There are only the tools we develop and discover – using and practicing them in the game of life. Like an archeologist, we brush away our own bias and dig a little deeper into the world around us –&nbsp;driven curiously to uncover the mysteries of others world-views.</p>
<p>And now we have another tool.</p>

</div></div>]]>
            </description>
            <link>https://spirals.blog/articles/the-guilt-line/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24494042</guid>
            <pubDate>Wed, 16 Sep 2020 16:12:11 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Modern mindfulness meditation has lost its beating communal heart]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24494021">thread link</a>) | @canada_random1
<br/>
September 16, 2020 | https://psyche.co/ideas/modern-mindfulness-meditation-has-lost-its-beating-communal-heart | <a href="https://web.archive.org/web/*/https://psyche.co/ideas/modern-mindfulness-meditation-has-lost-its-beating-communal-heart">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><p><strong>In our tumultuous</strong> present, mindfulness and meditation can seem like attractive ways to process difficult feelings and emotions. Meditative practices have long been a support strategy for traditional cultures facing collective trauma, and a method for bringing individuals and communities into mutual solidarity. Tibetan refugees, who have lived through cultural genocide, use meditation and ritual to join with their spiritual ancestors. In this way, they experience their own suffering as a doorway into compassion for others.</p>
<p>Tibetan culture, through its resilience, kindness, intelligence and joy, has inspired millions of people in the West to take up meditation. But are the practices that many of us turn to the same in substance as the rituals that other communities have relied upon for centuries? In most cases, the answer is no: they have a profoundly different orientation and, significantly, they lack the crucial communal features that make traditional meditation so vital and nurturing for the brain and body. In fact, modern meditation can often work against us â€“ reinforcing our separation from others, rather than strengthening the social bonds that are needed to overcome adversity and barriers to compassion.</p>
<p>The traditional and modern approaches to meditation are shaped by two distinct visions of the person. Those in traditional contemplative cultures typically understand persons to be constituted by their relationship to others, as the historian David McMahan <a href="https://oxford.universitypressscholarship.com/view/10.1093/acprof:oso/9780195183276.001.0001/acprof-9780195183276">notes</a> in <em>The Making of Buddhist Modernism</em> (2008). As a consequence, practitioners first learn to experience themselves in meditation as empowered and supported by the care, compassion and wisdom of their spiritual ancestors and community. By contrast, citizens of the modern West often see persons as individual selves that exist prior to the community â€“ atomistic individuals who choose whether or not to enter into relationships.</p>
<p>These different conceptions of the person have important consequences for meditation. In the modern view, practitioners tend to think of meditation as an autonomous project of self-help: through their own efforts, they try to foster beneficial states of mind. Socially conditioned in this way, Westerners enter into â€˜lovingkindness meditationâ€™ (<em>metta</em>) as a way of summoning up a sense of love for themselves and those they feel close to; then, for those theyâ€™re neutral towards; and, finally, for people they dislike.</p>
<p>For traditional Buddhist communities, any such meditation wouldnâ€™t begin with an atomistic self who is trying to generate a positive mindset from scratch. In such cultures, practitioners begin meditation with rituals and prayers that remind them that they are part of a connected community, blessed and supported by a lineage of spiritual ancestors that spans many generations. This starting point is shared by contemplative and ritual forms of Buddhism, Christianity, Confucianism, Hinduism, Islam, Judaism and many indigenous religions. In Tibetan Buddhism, for example, meditators envision a field of refuge that includes buddhas, bodhisattvas, spiritual teachers and other inspiring figures, who bless and sustain them and their world within qualities of unconditional love, compassion and wisdom. Practitionersâ€™ efforts to cultivate those same qualities begin not with self-help, but with the support and empowerment of their teachers and communities. In this way, the person meditating learns to become an extension of that field of love and compassion in which they are held, by progressively extending love and compassion to others.</p>
<p>Modern meditation and mindfulness, beginning with an atomistic sense of self, can reinforce an individualâ€™s sense of disconnection</p>
<p><strong>This kind of</strong> deeply supportive framework, found in all contemplative traditions, is mostly absent from modern meditation programmes. Because these communal dimensions of blessing and empowerment are embedded in premodern, ritualised cosmologies, they are often deemed an unneeded byproduct of â€˜primitive culturesâ€™, which can be jettisoned in order to â€˜moderniseâ€™ the practice. However, these cosmologies serve a valuable function that maps directly onto attachment theory, one of the most influential approaches to developmental and social psychology.</p>
<p>Attachment theory is based on the idea that the care that children receive in infancy stays with them through their lifespan â€“ for better or worse. Infants who receive sensitive and responsive care go on to develop a self that they feel is worthy of love. In turn, this supports their curiosity and courage to explore the world, because they trust that a source of security and support is available when needed. Sporadic or unreliable care, on the other hand, fosters insecurity and a distrust in support from others in times of need.</p>
<p>But the experience of security and insecurity is not locked in at infancy. Feelings of security and insecurity accrue throughout oneâ€™s life from relationships with peers, mentors, romantic partners and so on. This means that we all have traces of security and insecurity in different relational contexts. Through the lens of attachment theory, the ritual and devotional practices of traditional contemplative cultures, which are repeated many thousands of times throughout a personâ€™s life, offer a powerful field of care in which practitioners experience themselves as recipients of love, compassion and wisdom. From this secure base, they are empowered to extend sustainable, inclusive and unconditional care to others.</p>
<p>From an evolutionary perspective, humans come prepared with capacities for care and compassion. But without the experience of actually receiving care, people can develop inner psychological blocks to compassion â€“ including a lack of inner security, courage and confidence. Lack of security can foster aversion to othersâ€™ suffering, a sense of isolation and biases against others. These psychological barriers interact with and are reinforced by systemic inequities such as racism, classism, sexism and homophobia.</p>
<p>Modern meditation and mindfulness, by beginning with an atomistic sense of self, can increase an individualâ€™s sense of disconnection. They can present meditation as a passive source of comfort for the self, instead of a practice that uses discomfort to create solidarity with other sufferers. In her <a href="https://yalebooks.yale.edu/book/9780300215809/american-dharma">book</a> <em>American Dharma</em> (2019), the Buddhist scholar Ann Gleig documents how communally oriented meditation can help people to become conscious of socially conditioned traumas, to heal internalised racism, and to tolerate the discomfort that conversations about race and privilege can generate.</p>
<p>Traditional cultures of compassion training strive to dismantle barriers to compassion by bringing to mind a field of care in which practitioners are held and supported, and from which they can learn to hold and support others. This relational starting point promotes resilience and connectivity, and bolsters the psychological and social resources we need today to confront systemic injustice. But how might secular people in modern individualistic cultures gain access to such communal benefits?</p>
<p>By reinhabiting moments of supportive caring connection, we can establish a core of inner safety that can be returned to again and again</p>
<p><strong>Research findings in psychology</strong> show that feelings of security can be temporarily increased, including among people who have predominantly insecure attachment histories. Social psychologists developed a method called <em>attachment security priming</em>, in which participants are asked to visualise a moment of receiving care from a loving figure, a trusted friend, or simply by thinking of words such as â€˜loveâ€™, â€˜safetyâ€™ or â€˜careâ€™ for a moment. These simple priming <a href="https://pubmed.ncbi.nlm.nih.gov/16351370/">exercises</a> temporarily increase feelings of security, safety and courage. In turn, participants are more likely to offer help to others, have more patience listening to othersâ€™ difficult emotions, and possess less bias against other groups. This research suggests that attachment security priming could be integrated into meditation to recover the relational basis of the practice.</p>
<p>In an <a href="https://mindrxiv.org/dmxj7/">article</a> forthcoming in the journal <em>Perspectives on Psychological Science</em>, we introduce a relational starting point of support for meditation, derived from traditional Tibetan practice, and informed by research on attachment security priming. There are various ways to engage a relational starting point for meditation, depending on oneâ€™s own life experience, background and worldview:</p><ul>
<li>You can recall a simple moment of supportive caring connection with another person, from any time in your life, and re-inhabit that caring moment as if itâ€™s happening now â€“ evoking a rich experience of loving qualities and energies in mind and body. For example, Paul can call to mind playing cards with his loving grandmother at her kitchen counter, and John can recall a moment visiting a joyfully welcoming aunt as a young child.</li>
<li>A second option is to bring to mind someone to whom you feel grateful for their impact on your life, and experience the uplifting quality of imagining that person as present with you now.</li>
<li>A third option, if you practise in any spiritual tradition, is to bring to mind a saint, divine figure or field of spiritual ancestors, with whom you feel a deep connection.</li>
<li>If none of those options resonate, you might recall a time you spent somewhere special to you in the natural world â€“ a place that felt deeply welcoming or peaceful. Or recall a loving moment with a pet. Or bring vividly to mind a moment when you were a loving presence to another person.</li>
</ul><p>According to <a href="https://www.frontiersin.org/research-topics/78/embodied-and-grounded-cognition#overview">theories</a> of embodied cognition, when we recall any such caring moment, it is simulated and re-enacted in multiple systems of the brain and body, including perceptual, motor, visual and affective systems. During the caring moment practice, we can visualise and simulate a felt sense of security, by experiencing that moment as if it were happening now, along with …</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://psyche.co/ideas/modern-mindfulness-meditation-has-lost-its-beating-communal-heart">https://psyche.co/ideas/modern-mindfulness-meditation-has-lost-its-beating-communal-heart</a></em></p>]]>
            </description>
            <link>https://psyche.co/ideas/modern-mindfulness-meditation-has-lost-its-beating-communal-heart</link>
            <guid isPermaLink="false">hacker-news-small-sites-24494021</guid>
            <pubDate>Wed, 16 Sep 2020 16:10:46 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Centralized Authentication with a Microservices Gateway]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24493989">thread link</a>) | @mooreds
<br/>
September 16, 2020 | https://fusionauth.io/blog/2020/09/15/microservices-gateway | <a href="https://web.archive.org/web/*/https://fusionauth.io/blog/2020/09/15/microservices-gateway">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
            
              <p>In this article, we’re going to implement authentication and authorization for a gateway API application that routes to two different microservices. FusionAuth will be the auth server for the gateway.</p>

<!--more-->

<p>An API gateway with microservices is a common pattern for enterprise architectures. In this post, we’ll pretend we’re setting this up for an eCommerce enterprise. Our gateway application is a central API that will control access to a product catalog service and a product inventory service. We’ll allow customers to access public endpoints but require authentication for some of the product inventory endpoints.</p>

<p>For this article, we’re going to need a running FusionAuth instance and three simple Node/Express applications. You can download the <a href="https://github.com/FusionAuth/fusionauth-example-node-services-gateway">example project</a> for this article and customize your FusionAuth configuration accordingly, or you can follow along conceptually.</p>

<p>If you want to follow along, it will be very helpful to go through the <a href="https://fusionauth.io/docs/v1/tech/5-minute-setup-guide">5-Minute Setup Guide</a> first, as that will set up the needed users and roles in FusionAuth.</p>

<p>We’re going to have four applications running, on the following ports:</p>
<ul>
  <li>FusionAuth: <code>9011</code></li>
  <li>Gateway Application: <code>3000</code></li>
  <li>Product Catalog Service: <code>3001</code></li>
  <li>Product Inventory Service: <code>3002</code></li>
</ul>

<p>We’re also going to be dealing with authentication and authorization quite a bit, so let’s briefly clarify what we mean by these terms.</p>

<h2 id="authentication-and-authorization">Authentication and authorization</h2>
<p>Authentication is the verification of a particular user. When a user is logged in, they’re saying to the application, “Hey, it’s the real John Doe, let me in.” The application validates their credentials, and they have access.</p>

<p>In our API gateway, we’re going to use FusionAuth, based on the 5-Minute Setup Guide as mentioned above. We’ll talk about specific details when we set up our API gateway application later.</p>

<p>Authorization is the process whereby we verify that a particular user (e.g. John Doe) has access to certain parts of our system (e.g. product inventory). In our eCommerce ecosystem, we’re going to require authorization for the product inventory API, but not for the basic product APIs, since we want everyone to access the latter. For the product inventory route, we’ll allow users with the “admin” role access.</p>

<h2 id="product-catalog-service">Product Catalog service</h2>

<p>We’ll return to authentication and authorization soon, but let’s start building our applications! We’re going to start with the services and work our way towards the gateway application.</p>

<h3 id="setting-up-the-nodejs-product-catalog">Setting up the nodejs Product Catalog</h3>

<p>Before you get going, you’ll need node installed (code tested with version 14). If you don’t have it installed, grab it from <a href="https://nodejs.org/en/download/">the node website</a>.</p>

<p>Clone the <a href="https://github.com/FusionAuth/fusionauth-example-node-services-gateway">project</a> onto your local computer and <code>cd</code> into the directory.</p>

<p>You’ll notice three folders corresponding to our applications: <code>gateway</code>, <code>product-catalog</code>, and <code>product-inventory</code>. Go ahead and <code>cd</code> into the <code>product-catalog</code> application and do the following:</p>

<ul>
  <li>Run <code>npm install</code> to install the dependencies.</li>
  <li>Start the application by running <code>npm start</code>. It should be running on port <code>3001</code>, which is defined in <code>bin/www</code>.</li>
</ul>

<p>Now that your application is up and running, you should be able to send a request to it and get a response. Run this <code>curl</code> command in a separate terminal window and you should get a successful response with an empty list of products (<code>products: []</code>):</p>

<div><div><pre><code>curl http://localhost:3001/products
</code></pre></div></div>

<p>Let’s open up the hood on this and check out the <code>routes/index.js</code> file that gave us our <code>/products</code> route.</p>

<div><div><pre><code><span>const</span> <span>express</span> <span>=</span> <span>require</span><span>(</span><span>'</span><span>express</span><span>'</span><span>);</span>
<span>const</span> <span>router</span> <span>=</span> <span>express</span><span>.</span><span>Router</span><span>();</span>

<span>router</span><span>.</span><span>get</span><span>(</span><span>'</span><span>/products</span><span>'</span><span>,</span> <span>function</span><span>(</span><span>req</span><span>,</span> <span>res</span><span>,</span> <span>next</span><span>)</span> <span>{</span>
  <span>res</span><span>.</span><span>json</span><span>(</span><span>'</span><span>products: []</span><span>'</span><span>)</span>
<span>});</span>

<span>router</span><span>.</span><span>get</span><span>(</span><span>'</span><span>/products/:id</span><span>'</span><span>,</span> <span>function</span><span>(</span><span>req</span><span>,</span> <span>res</span><span>,</span> <span>next</span><span>)</span> <span>{</span>
  <span>res</span><span>.</span><span>json</span><span>(</span><span>`product: </span><span>${</span><span>req</span><span>.</span><span>params</span><span>.</span><span>id</span><span>}</span><span>`</span><span>)</span>
<span>});</span>

<span>module</span><span>.</span><span>exports</span> <span>=</span> <span>router</span><span>;</span>
</code></pre></div></div>

<p>We’ve created two basic routes, <code>/products</code> and <code>/products/:id</code>, so we can get a list of products and a single product. Obviously, for a real microservice, these routes would request the product information from a datastore. For now, the former is returning an empty array <code>[]</code> and the latter returns the product id requested.</p>

<p>Try modifying your curl request to add a product ID, and notice that the response will indicate the specific ID you requested.</p>

<p>The Product Catalog service is ready to go!</p>

<h2 id="product-inventory-service">Product Inventory service</h2>

<p>Open up another terminal window and enter the <code>product-inventory</code> folder. Run <code>npm install</code> to install needed dependencies.</p>

<p>Here’s what our Product Inventory service looks like (in <code>routes/index.js</code>):</p>

<div><div><pre><code><span>const</span> <span>express</span> <span>=</span> <span>require</span><span>(</span><span>'</span><span>express</span><span>'</span><span>);</span>
<span>const</span> <span>router</span> <span>=</span> <span>express</span><span>.</span><span>Router</span><span>();</span>

<span>router</span><span>.</span><span>get</span><span>(</span><span>'</span><span>/branches/:id/products</span><span>'</span><span>,</span> <span>function</span><span>(</span><span>req</span><span>,</span> <span>res</span><span>,</span> <span>next</span><span>)</span> <span>{</span>
  <span>const</span> <span>roles</span> <span>=</span> <span>req</span><span>.</span><span>headers</span><span>.</span><span>roles</span><span>;</span>
  <span>if</span> <span>(</span><span>roles</span> <span>&amp;&amp;</span> <span>roles</span><span>.</span><span>includes</span><span>(</span><span>'</span><span>admin</span><span>'</span><span>))</span> <span>{</span>
    <span>res</span><span>.</span><span>json</span><span>(</span><span>`Products for branch #</span><span>${</span><span>req</span><span>.</span><span>params</span><span>.</span><span>id</span><span>}</span><span>`</span><span>);</span>
  <span>}</span> <span>else</span> <span>{</span>
    <span>res</span><span>.</span><span>redirect</span><span>(</span><span>403</span><span>,</span> <span>'</span><span>http://localhost:3000</span><span>'</span><span>);</span>
    <span>return</span><span>;</span>
  <span>}</span>
<span>});</span>

<span>module</span><span>.</span><span>exports</span> <span>=</span> <span>router</span><span>;</span>
</code></pre></div></div>

<p>In this service, we’ve just got one route, to get products for a specific store or branch. Notice, however, that we’re allowing access (or denying it) based on the inclusion of an <code>admin</code> role in the <code>roles</code> header. The API gateway application will be responsible for passing this data to our Product Inventory service.</p>

<p>If you were to start the service (go ahead and do so with <code>npm start</code>) and send a request to <code>http://localhost:3002/branches/1/products</code>, you should receive a 403. You can simulate a successful response by adding a <code>roles</code> header with a value of <code>admin</code>:</p>

<div><div><pre><code>curl <span>-i</span> <span>-H</span> <span>"Accept: application/json"</span> <span>-H</span> <span>"Content-Type: application/json"</span> <span>-H</span> <span>"roles: admin"</span> http://localhost:3002/branches/1/products
</code></pre></div></div>

<p>We’ve got our Product Inventory service up and running, with authorization to ensure that only admins can access a list of products for a branch. Doing an authorization check at the service level allows us to granularly implement authorization.</p>

<h3 id="api-level-authentication-for-your-microservices">API-level authentication for your microservices</h3>

<p>A quick note on API-level authentication. We’re implementing centralized authentication through the API gateway. Only that gateway should have access to these microservices. You could do this at the network level, or with some form of API-level authentication, like an <a href="https://microservice-api-patterns.org/patterns/quality/qualityManagementAndGovernance/APIKey">API Key</a>. It’s a little much for us to cover in this article, but it’s definitely something you’ll want to implement before launching your microservices into production.</p>

<h2 id="the-gateway-application">The gateway application</h2>

<p>Now that we’ve got our Product Catalog and Product Inventory services running on ports <code>3001</code> and <code>3002</code>, we’re ready to tackle the API gateway application.</p>

<p>Before we dive into the code, let’s briefly discuss why we’re creating our own gateway as opposed to using something like <a href="https://apigee.com/about/cp/api-gateway">Apigee</a> or <a href="https://docs.aws.amazon.com/apigateway/latest/developerguide/welcome.html">Amazon’s API Gateway</a>. We certainly could go that route, but in creating our own gateway, we have ultimate flexibility. There’s an additional benefit of gaining an understanding of exactly what a gateway application is doing.</p>

<p>Our gateway application is straightforward and lightweight. It primarily functions as a router, directing requests to the appropriate service. But, because it’s a gateway to our distributed services, it’s the perfect spot for centralized user-level auth checks.</p>

<h3 id="centralized-authentication">Centralized authentication</h3>

<p>Centralizing authentication is a common pattern because authentication is primarily just a check to ensure the following:</p>

<ul>
  <li>The user is logged in</li>
  <li>The user is who they say they are</li>
</ul>

<p>In the context of separate services in an eCommerce domain, we want to have this centralized authentication so one check in the gateway gives a user access to the services, assuming their credentials check out. We’ll use FusionAuth for authenticating each of our routes before we forward them over to the right service.</p>

<h3 id="fusionauth-setup">FusionAuth Setup</h3>

<p>Open up yet another terminal window, enter the <code>gateway</code> director, and run <code>npm install</code>.</p>

<p>Head over to the <a href="https://fusionauth.io/docs/v1/tech/5-minute-setup-guide">5-Minute Setup Guide</a> for FusionAuth. During setup, the application that you configure will be linked to our gateway application, so you can name it “Gateway”. Note that while FusionAuth supports multi-tenant configurations, here you’re setting everything up in the default tenant.</p>

<p>Update the <code>routes/index.js</code> in the <code>gateway</code> directory with your FusionAuth application’s client ID and secret and <code>views/index.pug</code> with your client ID. Then start the application by running <code>npm start</code>.</p>

<p>This application will be our gateway (hence the name) to our services, so at this point, we should access our services only through the gateway application. Run the <code>curl</code> command for <code>/products</code>, but do so on port <code>3000</code>, which will hit our gateway application.</p>

<div><div><pre><code>curl http://localhost:3000/products
</code></pre></div></div>
<p>Now we’re funneling traffic through our gateway application and forwarding it over to the Product Catalog service. You can verify this by opening the terminal window for the running Product Catalog service and checking the logs. You should see the request we just sent hitting that server:</p>



<h3 id="routes">Routes</h3>

<p>Let’s go through the gateway application’s <code>routes/index.js</code> file step by step. We start by requiring necessary files and setting up a <code>FusionAuthClient</code>. We also include a handy authentication middleware, which we’ll use on our routes.</p>

<div><div><pre><code><span>// ...</span>
<span>const</span> <span>request</span> <span>=</span> <span>require</span><span>(</span><span>'</span><span>request</span><span>'</span><span>);</span>
<span>const</span> <span>express</span> <span>=</span> <span>require</span><span>(</span><span>'</span><span>express</span><span>'</span><span>);</span>
<span>const</span> <span>router</span> <span>=</span> <span>express</span><span>.</span><span>Router</span><span>();</span>
<span>const</span> <span>{</span><span>FusionAuthClient</span><span>}</span> <span>=</span> <span>require</span><span>(</span><span>'</span><span>@fusionauth/typescript-client</span><span>'</span><span>);</span>
<span>const</span> <span>clientId</span> <span>=</span> <span>[</span><span>YOUR_CLIENT_ID</span><span>];</span>
<span>const</span> <span>clientSecret</span> <span>=</span> <span>[</span><span>YOUR_CLIENT_SECRET</span><span>];</span>
<span>const</span> <span>client</span> <span>=</span> <span>new</span> <span>FusionAuthClient</span><span>(</span><span>'</span><span>noapikeyneeded</span><span>'</span><span>,</span> <span>'</span><span>http://localhost:9011</span><span>'</span><span>);</span>
<span>const</span> <span>checkAuthentication</span> <span>=</span> <span>require</span><span>(</span><span>'</span><span>../middleware</span><span>'</span><span>);</span>
<span>// ...</span>
</code></pre></div></div>

<p>Our gateway application, along with our services, are based on the <a href="https://github.com/FusionAuth/fusionauth-example-node">fusionauth-example-node</a> project, which gives us a basic UI (at the root) for interacting with FusionAuth. We also have a route for our OAuth redirect:</p>

<div><div><pre><code><span>// ...</span>
<span>/* GET home page. */</span>
<span>router</span><span>.</span><span>get</span><span>(</span><span>'</span><span>/</span><span>'</span><span>,</span> <span>function</span> <span>(</span><span>req</span><span>,</span> <span>res</span><span>,</span> <span>next</span><span>)</span> <span>{</span>
  <span>const</span> <span>stateValue</span> <span>=</span> <span>Math</span><span>.</span><span>random</span><span>().</span><span>toString</span><span>(</span><span>36</span><span>).</span><span>substring</span><span>(</span><span>2</span><span>,</span><span>15</span><span>)</span> <span>+</span> <span>Math</span><span>.</span><span>random</span><span>().</span><span>toString</span><span>(</span><span>36</span><span>).</span><span>substring</span><span>(</span><span>2</span><span>,</span><span>15</span><span>)</span> <span>+</span> <span>Math</span><span>.</span><span>random</span><span>().</span><span>toString</span><span>(</span><span>36</span><span>).</span><span>substring</span><span>(</span><span>2</span><span>,</span><span>15</span><span>)</span> <span>+</span> <span>Math</span><span>.</span><span>random</span><span>().</span><span>toString</span><span>(</span><span>36</span><span>).</span><span>substring</span><span>(</span><span>2</span><span>,</span><span>15</span><span>)</span> <span>+</span> <span>Math</span><span>.</span><span>random</span><span>().</span><span>toString</span><span>(</span><span>36</span><span>).</span><span>substring</span><span>(</span><span>2</span><span>,</span><span>15</span><span>)</span> <span>+</span> <span>Math</span><span>.</span><span>random</span><span>().</span><span>toString</span><span>(</span><span>36</span><span>).</span><span>substring</span><span>(</span><span>2</span><span>,</span><span>15</span><span>);</span>
  <span>re…</span></code></pre></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://fusionauth.io/blog/2020/09/15/microservices-gateway">https://fusionauth.io/blog/2020/09/15/microservices-gateway</a></em></p>]]>
            </description>
            <link>https://fusionauth.io/blog/2020/09/15/microservices-gateway</link>
            <guid isPermaLink="false">hacker-news-small-sites-24493989</guid>
            <pubDate>Wed, 16 Sep 2020 16:08:10 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[On Modern Web Applications Stability]]>
            </title>
            <description>
<![CDATA[
Score 53 | Comments 27 (<a href="https://news.ycombinator.com/item?id=24493865">thread link</a>) | @blazeeboy
<br/>
September 16, 2020 | https://www.emadelsaid.com/on-modern-web-applications-stability/ | <a href="https://web.archive.org/web/*/https://www.emadelsaid.com/on-modern-web-applications-stability/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
    <div>
    <section dir="auto">
  


  

  <div dir="auto">
    <p>I don’t like how modern web applications are built. Many of the web applications
are too unstable, That you can’t imagine having the system running without a
team supporting it. The fact that we try to automate manual processes then the
automation needs manual intervention defies the purpose. Some companies has an
army of developers if they were to do the business by hand they would make a
better job than the programmed system. There are many reasons for this
situation. One of the reasons is the excessive use of third party dependencies.</p>

<p>Lets take a look on a basic modern web based system, There are several layers
on software running on the machine, starting from firmware to your business
logic.</p>

<p><img src="https://www.emadelsaid.com/images/IMG_20200915_212438.jpg" alt="IMG_20200915_212438.jpg"></p>

<p>I don’t think this is very helpful to understand the gravity of the situation.
There are many actors that are not considered in this picture. Layers are also
missing because they are implicit in other layers. Lets expand these hidden
layers and actors. It will help us understand better why that small Nodejs or
RubyOnRails application we wrote isn’t just one layer in this picture.</p>

<p><img src="https://www.emadelsaid.com/images/IMG_20200915_214548.jpg" alt="IMG_20200915_214548.jpg"></p>

<p>Here are the layers we added this time:</p>

<ul>
  <li>System core utilities</li>
  <li>Other processes your application depends on like “memcached, Redis, MySQL,
Postgres…etc”</li>
  <li>Third party code your application depends on an ORM, Template engine,
pagination library, a library that <a href="https://www.theregister.com/2016/03/23/npm_left_pad_chaos/">pads your string with
spaces</a> just
because.</li>
  <li>Server applications that sits in front of your code handling HTTP and response
compression…etc.</li>
</ul>

<p>For each of these layers there is <strong>at least</strong> one team responsible for
maintaining it.</p>

<p>Again, We missed other layers and people in this picture. Most of the
applications are using external SAAS providers for logs or monitoring or bug
reporting or provide parts of the system functionality that can take more time
to build by the company team. lets add them to the picture along with their
teams.</p>

<p><img src="https://www.emadelsaid.com/images/IMG_20200915_221047.jpg" alt="IMG_20200915_221047.jpg"></p>

<p>This picture is for one application, I won’t expand it to a whole system with
different services and programs that is the reality of all companies.
Lets stick to one application for the sake of simplicity.</p>

<p>So here is the first point I want to make: With every service you use you’re not
just a user, This service is now part of your application, You are held
responsible for it’s behavior and misbehaving. You will inherit bugs in their
system. When this service team is affected by COVID-19 and get reduced to the
point where they can’t fix issues you will be affected too. When They get slower
your application will get slower too. When their service is down your
application will experience malfunction too, Your system and theirs is now
connected. So add external services integration cautiously. By adding an
external system you’re putting your trust in this service team and their ability
in delivering what the service is promising now <strong>and</strong> in the future. This is not
an easy decision and it should be treated as such.</p>

<p><img src="https://www.emadelsaid.com/images/IMG_20200915_224907.jpg" alt="IMG_20200915_224907.jpg"></p>

<p>Now lets move to the direct dependencies of your application. If you’re using
any modern programming language it’ll have a way to package code into reusable
format that could be reused by other applications. one package can use code from
other packages, these packages can use other packages and so on like a tree.</p>

<p><img src="https://www.emadelsaid.com/images/IMG_20200915_231326.jpg" alt="IMG_20200915_231326.jpg"></p>

<p>With every package in this tree we depend on the code inside this package and
the team that maintains it. A freshly generated rails project depends on 74
packages for ruby and <code>Yarn list</code> that lists JavaScript dependencies output 3102
lines, that’s 3176 packages with teams maintaining them and bugs and new
versions all the time.</p>

<p>This is wrong for many reasons. I will list some of them here for the sake of
clarity.</p>

<ul>
  <li>You have put your trust in at least 3176 other developers. You have never met
them, never talked to them, there are no guarantee they will continue to
maintain this package. There are no guarantee they won’t put code in their
package to show <a href="https://www.zdnet.com/article/npm-bans-terminal-ads/">ads in your
terminal</a> or <a href="https://www.trendmicro.com/vinfo/dk/security/news/cybercrime-and-digital-threats/hacker-infects-node-js-package-to-steal-from-bitcoin-wallets">code that
steals your bitcoin wallets
</a>.</li>
  <li>You are not really using all of this code. When someone is writing an open
source package it will suffer sooner or later from <a href="https://en.wikipedia.org/wiki/Feature_creep">feature
creeping</a> You are probably using
couple features of this package and don’t need the rest, but you wanted the
banana and got the whole forest now.</li>
  <li>With every package update you’re inventing unnecessary work for yourself. New
versions of packages are released all the time. Updating your project to <strong>get
the latest bug fixes and features</strong> is usually what people do. Most of the
time because of feature creeping these versions changes are not relevant to
you at all, but you won’t know until you read the change log. If it’s relevant
to your project you’ll need to do an update. if something is deprecated or
changed you’ll need to change your code. So suddenly someone somewhere is
telling you to change your code. That’s part of the control you have over your
code handed over to someone you never talked to or knew.</li>
  <li>When your programming language has a new release you can’t update unless all of
your dependencies are up to date. For ruby 2.7.0 for example some language syntax is
now deprecated and shows warning when you run your project. So to fix that you
either fix it in the package and open a PR with the change or wait for the
maintainer to update it.</li>
  <li>When you encounter a bug in a dependency you will have to understand this
package code, fork, branch, fix rinse and repeat. That requires a some
cooperation from the library maintainer which is most of the time isn’t
possible because most of the open source projects are voluntarily maintained.</li>
  <li>Developing new features or modifying existing features are ordre of magnitude
harder. You’ll need to dig into the documentation of the dependencies looking
for support for this little feature you want to add. That is if there is any
documentation at all for that part of the code. Otherwise you’ll have to dig
in to the library code.</li>
</ul>

<p>This is the second point I want to make: Using external library implies that you
trust the maintainer and you also inherit his decisions about using other
libraries and so forth. This decision should be weighed based on the benefit of
the library and how many of it’s features you’re going to use and other factors
like the maturity and how responsive is the maintainer, please don’t use GitHub
stars as a factor in your decision it’s misleading. And if the part you use from
the library isn’t too big I recommend using the library to save some time and
effort upfront but make sure you get rid of it and implement the part you need.
An example of that is a pagination library like rails “Kaminari” if you’re using
it to save you some time then sure. But keep on your todo list a task to remove
it and implement the feature yourself. An example of libraries that’s hard to
get rid of it “OpenCV” This is something that reimplementing the part you need
probably will be a huge task so it can stay. You’ll need to use your best
judgment to decide between these 2 sides of the spectrum.</p>

<p>I like to think of what I do as building an automated system, I would like this
system to run by itself, keep itself clean and healthy, doesn’t need manual
intervention. If the whole team disappeared out of existence I would like that
system to work for a very long time without any supervision.</p>

<p>More code means more bugs for me to fix, by extension more code that I didn’t write
means more bugs that I probably can’t solve. This is dangerous and shouldn’t be
taken lightly. Extending your code with external libraries or systems can cut
down effort hence the cost of development. But when this is taken lightly it
backfires badly.</p>

<p>HN comments: <a href="https://news.ycombinator.com/item?id=24493865">https://news.ycombinator.com/item?id=24493865</a></p>

  </div>
</section>

<hr>



    </div>
  </section></div>]]>
            </description>
            <link>https://www.emadelsaid.com/on-modern-web-applications-stability/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24493865</guid>
            <pubDate>Wed, 16 Sep 2020 15:56:18 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to use your URL as a shareable JSON database]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24493804">thread link</a>) | @monarchwadia
<br/>
September 16, 2020 | https://monarchwadia.github.io/save-data-in-url/?data-hash=eyJkYXRhIjoiWW91IG11c3QgaGF2ZSBjb21lIGZyb20gSGFja2VyIE5ld3MuIEkgY2FuIHNtZWxsIHlvdSBndXlzIGZyb20gYSBtaWxlIGF3YXkuIFlvdSBzbWVsbCBsaWtlIGZyZXNoIGN1dCBncmFzcyBhbmQgZmxvd2Vycy4ifQ%253D%253D | <a href="https://web.archive.org/web/*/https://monarchwadia.github.io/save-data-in-url/?data-hash=eyJkYXRhIjoiWW91IG11c3QgaGF2ZSBjb21lIGZyb20gSGFja2VyIE5ld3MuIEkgY2FuIHNtZWxsIHlvdSBndXlzIGZyb20gYSBtaWxlIGF3YXkuIFlvdSBzbWVsbCBsaWtlIGZyZXNoIGN1dCBncmFzcyBhbmQgZmxvd2Vycy4ifQ%253D%253D">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <article>
        

        <p>
          Wish you had a way to share data with your friends in a frontend-only
          project?
        </p>

        <p>
          Turns out you can! You can place your data inside your URIs and then
          copy/paste them to your friends. It's that simple.
        </p>
        <p>
          This project is a quick proof of concept whipped up in 30 minutes to
          show you how to do it.
        </p>

        <h2>Instructions</h2>
        <ol>
          <li>Type data in the text box below.</li>
          <li>Click "Save".</li>
          <li>Copy + paste the URL to your friends.</li>
          <li>Your friends receive the same data that you saved earlier.</li>
        </ol>

        

        <h2>How to build your own</h2>
        <p>The recipe is super simple.</p>

        <h3>Function to save the data to the URL</h3>
        <p>
          In order to save data, all you have to do is use the following data.
          Your data will be saved to your URL, and you can copy/paste it to your
          friends.
        </p>
        <pre>          function save(json={}) {
            // step 1, serialize the JSON to a string.
            const dataToSave = JSON.stringify(json); // stringify the json
            const base64 = btoa(dataToSave);         // base64 encode the data, for aesthetic purposes
            const hash = encodeURIComponent(base64); // encode the string as a URI component

            // step 2, add the string to a param called 'data-hash'
            const urlParams = new URLSearchParams(window.location.search);
            urlParams.set("data-hash", hash);
            window.location.search = urlParams;
          }
        </pre>
        <h3>Function to load the data from the URL</h3>
        <p>
          Loading the data back is even easier. You just read the URL params and
          decode the data.
        </p>
        <pre>          function load() {
            // get the data from the hash
            const urlParams = new URLSearchParams(window.location.search);
            const hash = urlParams.get("data-hash");

            // if there is no data, return empty object.
            if (!hash) {
              return {};
            }
            
            // else decode and return the object
            const jsonString = atob(decodeURIComponent(hash));
            return JSON.parse(jsonString);
          }
        </pre>
        <h2>About the author</h2>
        <p>
          Monarch Wadia is a senior developer, software "architect", and the CEO
          &amp; CTO at <a href="https://www.mintbean.io/">Mintbean.io</a>. There, he
          builds hackathons which help developers sharpen their skills. He
          enjoys coding immensely.
        </p>
        <p>
          You can connect with Monarch on
          <a href="https://www.mintbean.io/">LinkedIn</a> or
          <a href="https://www.mintbean.io/">Twitter</a>
        </p>
      </article>
    </div></div>]]>
            </description>
            <link>https://monarchwadia.github.io/save-data-in-url/?data-hash=eyJkYXRhIjoiWW91IG11c3QgaGF2ZSBjb21lIGZyb20gSGFja2VyIE5ld3MuIEkgY2FuIHNtZWxsIHlvdSBndXlzIGZyb20gYSBtaWxlIGF3YXkuIFlvdSBzbWVsbCBsaWtlIGZyZXNoIGN1dCBncmFzcyBhbmQgZmxvd2Vycy4ifQ%253D%253D</link>
            <guid isPermaLink="false">hacker-news-small-sites-24493804</guid>
            <pubDate>Wed, 16 Sep 2020 15:50:40 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why distributed apps need dependency management]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24493737">thread link</a>) | @thorgaardian
<br/>
September 16, 2020 | https://www.architect.io/blog/why-distributed-apps-need-dependency-management | <a href="https://web.archive.org/web/*/https://www.architect.io/blog/why-distributed-apps-need-dependency-management">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><p><img src="https://www.architect.io/images/blog/why-distributed-apps-need-dependency-management/dependency-mgmt@2x.png" alt="Dependency management"></p>
<p>Distributed cloud applications (aka microservices) have introduced an enormous
amount of complexity into the design and operation of cloud software. What used
to manifest itself as complexity hidden within a single process or runtime now
finds itself spread across tens or hundreds of loosely coupled services. While
all of these services can use different languages and can scale independently
from one another, the distributed nature can often make the app as a whole hard
to navigate, hard to deploy, and hard secure.</p>
<p>This new complexity makes it increasingly difficult to manage and contribute to
cloud-native applications, and beckons questions as to how we can maintain
healthy cloud software. How can we take advantage of the benefits of
service-oriented design without introducing friction and cost elsewhere?</p>
<p>Fortunately we've run into this problem before. Microservices aren't the first
pattern that has forced developers to figure out how to collaborate and
contribute to endless webs of interconnected components. For the last few
decades the solution has been the same: <strong>dependency management</strong>.</p>
<p>We use dependency managers every day to re-use public and private software
packages, build upon the work of others, and gracefully encapulate the details
of our own work into consumable formats. There are a number of reasons why
dependency management is the key to unlocking the power of distributed software,
and it's high time we learn from the past to power the future of cloud-native
development.</p>
<h2 id="1-developer-collaboration"><a href="#1-developer-collaboration" aria-label="1 developer collaboration permalink"></a>1. Developer collaboration</h2>
<p>One of the most important functions of dependency managers like
<a href="https://www.npmjs.com/">NPM</a>, <a href="https://pip.pypa.io/">Pip</a>,
<a href="https://maven.apache.org/what-is-maven.html">Maven</a>, and others, is to broker
collaboration amongst developers. By providing a consistent packaging mechanic
that seamlessly enables code to be extended, dependency managers have enabled
otherwise unrelated teams to consume each other's work. While these tools can be
used within the walls of enterprises to enable teams to publish and collaborate
on their work, we've seen dependency managers used at a much grander scale to
broker collaboration within the open-source community. The consistency of the
tooling and width of adoption has enabled the creation of enormously powerful
and freely accessible libraries for all to use and continue to build upon.</p>
<p>While this level of collaboration has been realized within the communities for
individual languages (NPM for Javascript, Pip for Python, etc.), it has yet to
be fully realized within the cloud-native community. We fortunately have Docker
to create consistency in how cloud services are packaged, but containers don't
have enough information about the relationships between services to resolve and
extend dependencies. Adding proper dependency management to index and resolve
relationships to peer apps and services is critical if we want to realize for
microservices what others already do with libraries in individual languages.</p>
<h2 id="2-self-service-environments"><a href="#2-self-service-environments" aria-label="2 self service environments permalink"></a>2. Self-service environments</h2>
<p>The collaborative effects of dependency managers don't happen by magic. The main
reason consistent dependency resolvers are so powerful is because developers all
around the world are able to reproduce their effects using the same commands and
processes. Reproducibility is a key element of dependency managers. Without it,
no one would be able to download and operate libraries and packages created by
others without complex, custom bootstrapping logic – the creation of which would
be an enormous barrier to adoption and distribution.</p>
<p>Service-oriented applications are no different from language-specific libraries
in this regard. Our ability to extend the work of others is predicated on our
ability to run or otherwise access the services and applications we hope to make
calls to. Teams have been able to make due by operating centralized QA or
sandbox environments, but the inability to reproduce these environments creates
a new set of problems. Engineers can't operate their own development
environments, services that depend on others can't be easily shipped, developers
are forced to write their own scripts to run their app locally and remotely, and
every team needs to about production-grade tools, networking, and network
security. By leveraging a consistent, dependency management solution, teams need
only to assert the network dependencies for their services to give everyone in
the org a consistent way to spin up services in their stack along with its
dependencies – allowing everyone to operate their own environments.</p>
<h2 id="3-automation"><a href="#3-automation" aria-label="3 automation permalink"></a>3. Automation</h2>
<p>The self-service benefits of consistent dependency management doesn't just mean
that developers can operate their own environments. It also means that
environments can be provisioned and torn down through automation. The
consistency of a single command or process to resolve dependencies, enrich
networking, and automate security is the perfect recipe for integration into
CI/CD pipelines!</p>
<p>If every service can be run consistently (e.g. with container platforms) and is
aware of its own dependencies, new environments can be provisioned for each
merge request and changes can be seamlessly promoted into staging and production
when merged into relevant branches. This means that every team can achieve
scalable
<a href="https://thenewstack.io/what-is-gitops-and-why-it-might-be-the-next-big-thing-for-devops/">GitOps</a>
for every developer and every new service added to the application.</p>
<h2 id="4-security"><a href="#4-security" aria-label="4 security permalink"></a>4. Security</h2>
<p>One of the risks introduced by microservice architectures is the need for each
service to expose APIs that broker access to their functionality. Since these
services live as separate processes, communication over a network is one of the
only ways for them to connect to each other and receive requests for processing.
This means that each new service exposes an interface that can be accessed by
others, and if developers aren't careful they can accidentally expose it to the
wrong parties.</p>
<p><img src="https://www.architect.io/images/blog/why-distributed-apps-need-dependency-management/declare-data-breach.webp" alt="Cloud Security"></p>
<p>Preventing accidental exposure of network interfaces is yet another area where
dependency management can provide support. With developers providing a
structured index of their own service's network dependencies, not only can we
automatically resolve those dependencies, but we can also enrich the environment
with the corresponding network policies required to lock it down – only services
that depend on each other can access each other. This structured approach
drastically reduces the need for developers to understand network security
tooling, and opens them up to create new services more freely.</p>
<h2 id="5-flexibility"><a href="#5-flexibility" aria-label="5 flexibility permalink"></a>5. Flexibility</h2>
<p>Another benefit of dependency management with respect to microservices and
distributed applications is flexibility. With developers capturing the details
of their immediate dependencies and associating them with their own services,
the resolver itself is free to instrument the relationships in unique ways in
each environment that gets deployed. Want to try out a different API gateway or
service mesh? Want to instrument distributed tracing by capturing ingress and
egress traffic from each service? With automation that can hook into the
dependency resolver, operators are free to experiment with new tools and configs
without any code changes to existing services or distractions for developers.</p>
<h2 id="why-doesnt-it-already-exist"><a href="#why-doesnt-it-already-exist" aria-label="why doesnt it already exist permalink"></a>Why doesn't it already exist?</h2>
<p>Dependency resolution would be an enormously powerful tool solution to enable
developers to collaborate and contribute to cloud-native applications, but can't
we use the vast number of package managers that already exist to help with
instrumentation? While it would be nice to use existing tools, resolving
dependencies for networked applications isn't the same as resolving the
relationships between libraries and binaries.</p>
<p>The download of code artifacts that fulfill dependency requirements for
libraries all happens at build-time to create one master binary/library.
Microservices however don't get bundled into single binaries and instead need to
be run as independent services and then connected to over a network. This means
that the resolution strategy has additional steps, and happens at an entirely
different lifecycle stage than regular libraries. Turns out, the earliest point
in an application lifecycle that we can properly resolve dependencies for
distributed applications is at deploy-time. It is at this point that we know
both the relationships between all services in the stack as well as the tooling
and details of the target environment needed to properly provision and connect
services.</p>
<p>To sum it up, it's hard to create a large scale resolver for network
dependencies, but doing so would provide enormous benefits to engineering teams
and the cloud community as a whole. If we're to properly navigate the growing
landscape of cloud-native tools, we'll need to learn from dependency management
practices of the past.</p></div></div></div>]]>
            </description>
            <link>https://www.architect.io/blog/why-distributed-apps-need-dependency-management</link>
            <guid isPermaLink="false">hacker-news-small-sites-24493737</guid>
            <pubDate>Wed, 16 Sep 2020 15:43:40 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[We closed $210k in revenue from a single ABM campaign as a SaaS startup]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24493706">thread link</a>) | @sg_gabriel
<br/>
September 16, 2020 | https://blog.saleswhale.com/3-lessons-from-saleswhales-successful-abm-campaign-that-led-to-210000-revenue | <a href="https://web.archive.org/web/*/https://blog.saleswhale.com/3-lessons-from-saleswhales-successful-abm-campaign-that-led-to-210000-revenue">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p><span id="hs_cos_wrapper_post_body" data-hs-cos-general-type="meta_field" data-hs-cos-type="rich_text"><p><em>This blog post is adapted from a talk I gave at HubSpot, which you can find the <a href="https://www.youtube.com/watch?v=yfcCnmoDZlc" rel="noopener" target="_blank">recording here</a></em><em>, and the <a href="https://www.saleswhale.com/slides-kickstart-your-abm-campaign-in-minutes-not-month" rel="noopener" target="_blank">slides here</a>.</em></p>
<!--more-->
<p>"Isn't ABM (account-based marketing) just a buzzword to describe targeted marketing?", quipped Thu, my head of product.</p>
<p>This was late 2019.</p>
<p>The marketing team was looking to experiment with ABM to go after larger mid-sized companies.</p>
<p><img src="https://blog.saleswhale.com/hubfs/HubSpot%20Webinar_%20%20Kickstart%20Your%20ABM%20Campaign%20in%20Minutes,%20Not%20Months.jpg" alt="HubSpot Webinar_  Kickstart Your ABM Campaign in Minutes, Not Months"></p>
<p>Now, most information on the internet about ABM can be a little hand-wavy and abstract:</p>
<p><em>"Account-based marketing (ABM), also known as key account marketing, is a strategic approach to business marketing based on account awareness in which an organization considers and communicates with individual prospect or customer accounts as markets of one."</em></p>
<p>What the hell does this even mean?</p>
<p>I'm going to skip all the fluffy stuff, and get right down into tactics.</p>
<p><img src="https://blog.saleswhale.com/hubfs/HubSpot%20Webinar_%20ABM%20strategies%20that%20take%20minutes%20not%20months%20to%20win%20large%20B2B%20deals%20%20(4).jpg" alt="HubSpot Webinar_ ABM strategies that take minutes not months to win large B2B deals  (4)"></p>
<p>If you are looking for an explanation on what is ABM, what the benefits are, or why you should use ABM - this is not the article for you.</p>
<p>There are other resources on the internet that can explain it better than I ever can (or have the patience to).</p>
<p>This article is going to be a tactical sharing&nbsp;of our best performing ABM campaign, in Feb 2020.</p>
<p><img src="https://blog.saleswhale.com/hubfs/HubSpot%20Webinar_%20ABM%20strategies%20that%20take%20minutes%20not%20months%20to%20win%20large%20B2B%20deals%20%20(5).jpg" alt="HubSpot Webinar_ ABM strategies that take minutes not months to win large B2B deals  (5)"></p>
<p>We started off by selecting 67 accounts.</p>
<p>Which led to 21 demos, 16 sales accepted leads, and 7 closed-won deals for a total of $210K in revenue.</p>
<p>The total budget was $2,400 - most of which was spent on LinkedIn Ads, and a small portion for handwritten notes and gifts.</p>
<p>The campaign ran for 45 days in total.</p>
<p><img src="https://blog.saleswhale.com/hubfs/HubSpot%20Webinar_%20ABM%20strategies%20that%20take%20minutes%20not%20months%20to%20win%20large%20B2B%20deals%20.jpg" alt="HubSpot Webinar_ ABM strategies that take minutes not months to win large B2B deals "></p>
<p>We used a relatively simple technology stack:</p>
<ul>
<li>
<p>HubSpot as our marketing automation platform</p>
</li>
<li>
<p>Salesforce as our system of record</p>
</li>
<li>
<p>Leadfeeder to track website visitors to accounts</p>
</li>
<li>
<p>Figma to design our marketing collaterals</p>
</li>
<li>
<p>LinkedIn Campaign Manager to run our LinkedIn Ads</p>
</li>
<li>
<p>Saleswhale for pipeline acceleration</p>
</li>
</ul>
<p>All the above tools, with the exception of LinkedIn Campaign Manager (which you need to run ads), are optional. They can be replaced with a spreadsheet and manual human labor.</p>
<p><img src="https://blog.saleswhale.com/hubfs/HubSpot%20Webinar_%20ABM%20strategies%20that%20take%20minutes%20not%20months%20to%20win%20large%20B2B%20deals%20%20(1).jpg" alt="HubSpot Webinar_ ABM strategies that take minutes not months to win large B2B deals  (1)"></p>
<p>Here are the three things we learnt.</p>
<h2>Lesson one - It's all about account selection</h2>
<p>It's hard to understate the importance of selecting the right set of accounts to go after.</p>
<p>But where do you begin?</p>
<p>We started by analyzing our historical Salesforce data:</p>
<ul>
<li>
<p>Closed-won rates</p>
</li>
<li>
<p>Sales cycle times</p>
</li>
<li>
<p>Lifetime value (LTV) &amp; churn</p>
</li>
<li>
<p>Product adoption</p>
</li>
</ul>
<p>We teased out similarities between our best performing accounts, and clustered them.</p>
<p>Afterwards, we created a hypothesis, themes around pain points &amp; use cases - and validated our approach with the sales team.</p>
<p>It's important to keep the sales team closely involved in the account selection process, and allow them to recommend and contribute ideas / accounts for consideration.</p>
<p>However, I would NOT recommend giving Sales free rein to choose whatever accounts they want.</p>
<p>This is to prevent them from using your ABM campaign as a "wish-list" of accounts to go after. Which means that the hodgepodge of accounts they select may not fit into your tightly orchestrated ABM campaign.&nbsp;</p>
<p>For our ABM campaign, we decided to focus on accounts which:</p>
<ul>
<li>
<p>Have at least 200 employees</p>
</li>
<li>
<p>Are in the B2B technology space</p>
</li>
<li>
<p>Using a marketing automation platform (check with BuiltWith)</p>
</li>
<li>
<p>Using Salesforce</p>
</li>
<li>
<p>Has more than 3 quota-carrying sales reps (check against LinkedIn)</p>
</li>
<li>
<p>Generating more than 300 inbound leads per month (proximate - check for lead magnets / webinars on website + cross-reference against Alexa web traffic)</p>
</li>
<li>
<p>Are doing at least one top-of-the-funnel webinar a month (check against website and company social)</p>
</li>
<li>
<p>Are hiring actively for inside sales development reps (check against website careers page)</p>
</li>
</ul>
<p>The more specific and tightly controlled your account list, the easier it is to create messaging and content that resonates with them.</p>
<p><img src="https://blog.saleswhale.com/hubfs/HubSpot%20Webinar_%20ABM%20strategies%20that%20take%20minutes%20not%20months%20to%20win%20large%20B2B%20deals%20%20(18).jpg" alt="HubSpot Webinar_ ABM strategies that take minutes not months to win large B2B deals  (18)"></p>
<h2>Lesson two - Segment, segment, segment</h2>
<p>Next, building out our buyer personas.</p>
<p>At Saleswhale, we adhere to the <strong>4-1</strong> rule.</p>
<p>The 4-1 rule stipulates each account should have at least 4 prospects we are going after at any point in time. And that 1 of the 4 prospects must be a decision maker with budget / purchasing power.</p>
<p>The 4-1 rule helps to build grassroots familiarity, and ensures an account is saturated with enough "air cover" during the 45 day campaign to influence key decision makers.</p>
<p>We segmented our buyers into 5 distinct personas:</p>
<ul>
<li>
<p>P1 - Heads of Marketing / Growth / Demand Gen (decision makers with purchasing power)</p>
</li>
<li>
<p>P2 - Marketing / Growth / Demand Gen Managers</p>
</li>
<li>
<p>P3 - Marketing / Sales Ops Managers</p>
</li>
<li>
<p>P4 - C-level decision makers (interestingly enough, they are not decision makers, but executive sponsors / influencers)</p>
</li>
<li>
<p>P5 - Sales / SDR Directors</p>
</li>
</ul>
<p>We created tailored content for each persona - from ads, to collaterals, to email messaging - in a distinct track, which I'll cover later.</p>
<p>What do you do if you are unclear about your personas, or how to create tailored content for them?</p>
<p>Easy - call up your existing customers and talk to them.</p>
<p>At Saleswhale, we called up and spoke to 100 decision makers and end users of our platform.</p>
<ul>
<li>
<p>What were their top priorities?</p>
</li>
<li>
<p>What are their biggest challenges?</p>
</li>
<li>
<p>What content do they consume?</p>
</li>
<li>
<p>What are they trying to learn now?</p>
</li>
</ul>
<p>We then mapped all of these learnings systematically into a spreadsheet:</p>
<p><img src="https://blog.saleswhale.com/hs-fs/hubfs/Screen%20Shot%202020-09-16%20at%201.20.23%20AM.png?width=2854&amp;name=Screen%20Shot%202020-09-16%20at%201.20.23%20AM.png" alt="Screen Shot 2020-09-16 at 1.20.23 AM" width="2854" srcset="https://blog.saleswhale.com/hs-fs/hubfs/Screen%20Shot%202020-09-16%20at%201.20.23%20AM.png?width=1427&amp;name=Screen%20Shot%202020-09-16%20at%201.20.23%20AM.png 1427w, https://blog.saleswhale.com/hs-fs/hubfs/Screen%20Shot%202020-09-16%20at%201.20.23%20AM.png?width=2854&amp;name=Screen%20Shot%202020-09-16%20at%201.20.23%20AM.png 2854w, https://blog.saleswhale.com/hs-fs/hubfs/Screen%20Shot%202020-09-16%20at%201.20.23%20AM.png?width=4281&amp;name=Screen%20Shot%202020-09-16%20at%201.20.23%20AM.png 4281w, https://blog.saleswhale.com/hs-fs/hubfs/Screen%20Shot%202020-09-16%20at%201.20.23%20AM.png?width=5708&amp;name=Screen%20Shot%202020-09-16%20at%201.20.23%20AM.png 5708w, https://blog.saleswhale.com/hs-fs/hubfs/Screen%20Shot%202020-09-16%20at%201.20.23%20AM.png?width=7135&amp;name=Screen%20Shot%202020-09-16%20at%201.20.23%20AM.png 7135w, https://blog.saleswhale.com/hs-fs/hubfs/Screen%20Shot%202020-09-16%20at%201.20.23%20AM.png?width=8562&amp;name=Screen%20Shot%202020-09-16%20at%201.20.23%20AM.png 8562w" sizes="(max-width: 2854px) 100vw, 2854px"></p>
<p>The learnings from this spreadsheet helped us group together personas, and understand how to create content that would resonate with each segment.</p>

<p><img src="https://blog.saleswhale.com/hubfs/HubSpot%20Webinar_%20ABM%20strategies%20that%20take%20minutes%20not%20months%20to%20win%20large%20B2B%20deals%20%20(19).jpg" alt="HubSpot Webinar_ ABM strategies that take minutes not months to win large B2B deals  (19)"></p>
<h2>Lesson three - Design non-linear buyer journeys</h2>
<p>Next, we used <a href="https://business.linkedin.com/marketing-solutions/ad-targeting/matched-audiences" target="_blank" rel="noopener">LinkedIn Matched Audiences</a> to make sure that we show our ads to only people working at the target accounts.</p>
<p><img src="https://blog.saleswhale.com/hubfs/Screen%20Shot%202020-09-14%20at%201.34.31%20AM.png" alt="Screen Shot 2020-09-14 at 1.34.31 AM"></p>
<p>At this stage, the ads shown are mostly for top-of-the-funnel (TOFU) content, to educate customers about the problem space.</p>
<p>Here's an example of a TOFU ad which links to an article we wrote:</p>
<p><img src="https://blog.saleswhale.com/hubfs/Screen%20Shot%202020-09-14%20at%201.40.09%20AM.png" alt="Screen Shot 2020-09-14 at 1.40.09 AM"></p>
<p>After a pre-determined amount of time (~2 weeks), we swapped out the TOFU content for middle-of-the-funnel (MOFU) content.</p>
<p>MOFU content is the bridge between the high-level problem space and the value our product provides.</p>
<p>Here's an example of a MOFU ad which points to an eBook we wrote:</p>
<p><img src="https://blog.saleswhale.com/hubfs/Screen%20Shot%202020-09-14%20at%201.44.51%20AM.png" alt="Screen Shot 2020-09-14 at 1.44.51 AM"></p>
<p>The landing (squeeze) page for the eBook download:</p>
<p><img src="https://blog.saleswhale.com/hubfs/Screen%20Shot%202020-09-14%20at%201.45.41%20AM.png" alt="Screen Shot 2020-09-14 at 1.45.41 AM"></p>
<p>We monitor accounts for engagement:</p>
<p><img src="https://blog.saleswhale.com/hubfs/Untitled%20(3).png" alt="Untitled (3)"></p>
<p>When accounts hit a certain engagement threshold (or fail to do so, after a pre-set amount of time), we would dog-food our own product and use Saleswhale to do email outreach.</p>
<p>You can replace Saleswhale with human sales labor.</p>
<p>While it's tricky trying to convince your sales team to devote time on accelerating leads down the funnel (instead of spending time selling) - if you have a dedicated sales development (SDR) team, or you are willing to do this manually yourself, you can make this work.</p>
<p>Here's an example of a MOFU acceleration email conversation play that our AI assistant, Dolores, ran for a particular track:</p>
<p><img src="https://blog.saleswhale.com/hs-fs/hubfs/Screen%20Shot%202020-09-10%20at%206.21.32%20PM.png?width=2278&amp;name=Screen%20Shot%202020-09-10%20at%206.21.32%20PM.png" alt="Screen Shot 2020-09-10 at 6.21.32 PM" width="2278" srcset="https://blog.saleswhale.com/hs-fs/hubfs/Screen%20Shot%202020-09-10%20at%206.21.32%20PM.png?width=1139&amp;name=Screen%20Shot%202020-09-10%20at%206.21.32%20PM.png 1139w, https://blog.saleswhale.com/hs-fs/hubfs/Screen%20Shot%202020-09-10%20at%206.21.32%20PM.png?width=2278&amp;name=Screen%20Shot%202020-09-10%20at%206.21.32%20PM.png 2278w, https://blog.saleswhale.com/hs-fs/hubfs/Screen%20Shot%202020-09-10%20at%206.21.32%20PM.png?width=3417&amp;name=Screen%20Shot%202020-09-10%20at%206.21.32%20PM.png 3417w, https://blog.saleswhale.com/hs-fs/hubfs/Screen%20Shot%202020-09-10%20at%206.21.32%20PM.png?width=4556&amp;name=Screen%20Shot%202020-09-10%20at%206.21.32%20PM.png 4556w, https://blog.saleswhale.com/hs-fs/hubfs/Screen%20Shot%202020-09-10%20at%206.21.32%20PM.png?width=5695&amp;name=Screen%20Shot%202020-09-10%20at%206.21.32%20PM.png 5695w, https://blog.saleswhale.com/hs-fs/hubfs/Screen%20Shot%202020-09-10%20at%206.21.32%20PM.png?width=6834&amp;name=Screen%20Shot%202020-09-10%20at%206.21.32%20PM.png 6834w" sizes="(max-width: 2278px) 100vw, 2278px"><img src="https://blog.saleswhale.com/hs-fs/hubfs/Screen%20Shot%202020-09-10%20at%206.21.45%20PM.png?width=2300&amp;name=Screen%20Shot%202020-09-10%20at%206.21.45%20PM.png" alt="Screen Shot 2020-09-10 at 6.21.45 PM" width="2300" srcset="https://blog.saleswhale.com/hs-fs/hubfs/Screen%20Shot%202020-09-10%20at%206.21.45%20PM.png?width=1150&amp;name=Screen%20Shot%202020-09-10%20at%206.21.45%20PM.png 1150w, https://blog.saleswhale.com/hs-fs/hubfs/Screen%20Shot%202020-09-10%20at%206.21.45%20PM.png?width=2300&amp;name=Screen%20Shot%202020-09-10%20at%206.21.45%20PM.png 2300w, https://blog.saleswhale.com/hs-fs/hubfs/Screen%20Shot%202020-09-10%20at%206.21.45%20PM.png?width=3450&amp;name=Screen%20Shot%202020-09-10%20at%206.21.45%20PM.png 3450w, https://blog.saleswhale.com/hs-fs/hubfs/Screen%20Shot%202020-09-10%20at%206.21.45%20PM.png?width=4600&amp;name=Screen%20Shot%202020-09-10%20at%206.21.45%20PM.png 4600w, https://blog.saleswhale.com/hs-fs/hubfs/Screen%20Shot%202020-09-10%20at%206.21.45%20PM.png?width=5750&amp;name=Screen%20Shot%202020-09-10%20at%206.21.45%20PM.png 5750w, https://blog.saleswhale.com/hs-fs/hubfs/Screen%20Shot%202020-09-10%20at%206.21.45%20PM.png?width=6900&amp;name=Screen%20Shot%202020-09-10%20at%206.21.45%20PM.png 6900w" sizes="(max-width: 2300px) 100vw, 2300px"><img src="https://blog.saleswhale.com/hs-fs/hubfs/Screen%20Shot%202020-09-10%20at%206.21.55%20PM.png?width=2294&amp;name=Screen%20Shot%202020-09-10%20at%206.21.55%20PM.png" alt="Screen Shot 2020-09-10 at 6.21.55 PM" width="2294" srcset="https://blog.saleswhale.com/hs-fs/hubfs/Screen%20Shot%202020-09-10%20at%206.21.55%20PM.png?width=1147&amp;name=Screen%20Shot%202020-09-10%20at%206.21.55%20PM.png 1147w, https://blog.saleswhale.com/hs-fs/hubfs/Screen%20Shot%202020-09-10%20at%206.21.55%20PM.png?width=2294&amp;name=Screen%20Shot%202020-09-10%20at%206.21.55%20PM.png 2294w, https://blog.saleswhale.com/hs-fs/hubfs/Screen%20Shot%202020-09-10%20at%206.21.55%20PM.png?width=3441&amp;name=Screen%20Shot%202020-09-10%20at%206.21.55%20PM.png 3441w, https://blog.saleswhale.com/hs-fs/hubfs/Screen%20Shot%202020-09-10%20at%206.21.55%20PM.png?width=4588&amp;name=Screen%20Shot%202020-09-10%20at%206.21.55%20PM.png 4588w, https://blog.saleswhale.com/hs-fs/hubfs/Screen%20Shot%202020-09-10%20at%206.21.55%20PM.png?width=5735&amp;name=Screen%20Shot%202020-09-10%20at%206.21.55%20PM.png 5735w, https://blog.saleswhale.com/hs-fs/hubfs/Screen%20Shot%202020-09-10%20at%206.21.55%20PM.png?width=6882&amp;name=Screen%20Shot%202020-09-10%20at%206.21.55%20PM.png 6882w" sizes="(max-width: 2294px) 100vw, 2294px">The above conversation resulted in a $48K deal with this account.</p>
<p><strong>Some learnings around LinkedIn Ads: </strong></p>
<ul>
<li>
<p>LinkedIn Sponsored Content works well - especially video ads, which work really well</p>
</li>
<li>
<p>LinkedIn Lead Gen Forms didn't work well for us - they were very expensive, and for some reason, the conversion rate to meetings was extremely low</p>
</li>
</ul>
<p><strong>What's the best form of video content?</strong></p>
<p>Forget those cheesy cartoon company introduction videos that you outsource for $300 on Fiverr.</p>
<p>Customer testimonial videos work the best. Here's how to produce these videos easily:</p>
<p><strong>What's a scrappy way to get customer testimonial videos?</strong></p>
<p>Get your best customers to shoot a raw, unedited 30 second video of themselves on their iPhone (raw and authentic works best, don't need to be over-polished), and talk about:</p>
<ul>
<li>
<p>The problem they were facing before they used your product</p>
</li>
<li>
<p>What made them want to search for a solution</p>
</li>
<li>
<p>How they came across your product</p>
</li>
<li>
<p>How your product solved their problem</p>
</li>
</ul>
<p>Add captions, edit lightly, and upload it to LinkedIn. There you go.</p>
<p>Remember to send your customers some swag, or a token of appreciation for their efforts.</p>
<p><img src="https://blog.saleswhale.com/hubfs/HubSpot%20Webinar_%20ABM%20strategies%20that%20take%20minutes%20not%20months%20to%20win%20large%20B2B%20deals%20%20(9).jpg" alt="HubSpot Webinar_ ABM strategies that take minutes not months to win large B2B deals  (9)"></p>
<p><img src="https://blog.saleswhale.com/hubfs/HubSpot%20Webinar_%20ABM%20strategies%20that%20take%20minutes%20not%20months%20to%20win%20large%20B2B%20deals%20%20(20).jpg" alt="HubSpot Webinar_ ABM strategies that take minutes not months to win large B2B deals  (20)"></p>
<h2>Getting the deal across the finish line</h2>
<p>A two key tenets I believe in:</p>
<ol type="1">
<li>
<p>The job of Marketing is to make the job of Sales easier</p>
</li>
<li>
<p>Marketing should be <a href="https://blog.saleswhale.com/demand-generation-versus-lead-generation-how-not-understanding-the-difference-destroyed-our-teams-morale" target="_blank" rel="noopener">measured by revenue</a> (not leads, or MQLs)</p>
</li>
</ol>
<p>The corollary to the above - if the leads/pipeline/opportunities you are creating for sales are not turning into revenue, then all your efforts on ABM are wasted.</p>
<p>A hurdle that your sales team have to overcome, especially today - is the finance department of their prospects.</p>
<p>So, what we actually did was to create this thing called a mutual value proposal template for the Sales team.</p>
<p>The idea is to co-create and sign off on this document in tandem with their stakeholders, and present this together to their CFOs.</p>
<p>You can download the template for the Mutual Value Proposal <a href="https://www.saleswhale.com/saleswhale-mutual-value-proposal-template" rel=" noopener">here</a>.</p>
<p><a href="https://www.saleswhale.com/saleswhale-mutual-value-proposal-template" rel="noopener" target="_blank"><img src="https://blog.saleswhale.com/hs-fs/hubfs/Screen%20Shot%202020-09-14%20at%203.02.35%20AM.png?width=2198&amp;name=Screen%20Shot%202020-09-14%20at%203.02.35%20AM.png" alt="Screen Shot 2020-09-14 at 3.02.35 AM" width="2198" srcset="https://blog.saleswhale.com/hs-fs/hubfs/Screen%20Shot%202020-09-14%20at%203.02.35%20AM.png?width=1099&amp;name=Screen%20Shot%202020-09-14%20at%203.02.35%20AM.png 1099w, https://blog.saleswhale.com/hs-fs/hubfs/Screen%20Shot%202020-09-14%20at%203.02.35%20AM.png?width=2198&amp;name=Screen%20Shot%202020-09-14%20at%203.02.35%20AM.png 2198w, https://blog.saleswhale.com/hs-fs/hubfs/Screen%20Shot%202020-09-14%20at%203.02.35%20AM.png?width=3297&amp;name=Screen%20Shot%202020-09-14%20at%203.02.35%20AM.png 3297w, https://blog.saleswhale.com/hs-fs/hubfs/Screen%20Shot%202020-09-14%20at%203.02.35%20AM.png?width=4396&amp;name=Screen%20Shot%202020-09-14%20at%203.02.35%20AM.png 4396w, https://blog.saleswhale.com/hs-fs/hubfs/Screen%20Shot%202020-09-14%20at%203.02.35%20AM.png?width=5495&amp;name=Screen%20Shot%202020-09-14%20at%203.02.35%20AM.png 5495w, https://blog.saleswhale.com/hs-fs/hubfs/Screen%20Shot%202020-09-14%20at%203.02.35%20AM.png?width=6594&amp;name=Screen%20Shot%202020-09-14%20at%203.02.35%20AM.png 6594w" sizes="(max-width: 2198px) 100vw, 2198px"></a></p>
<h2>Conclusion</h2>
<p>In 2020, if you are in B2B, you probably will not be able to avoid Account Based Marketing.</p>
<p>Successful orchestration of ABM requires buy-in from your Sales team, content &amp; design team, and leadership team.</p>
<p>My refrain is to start small, don't be afraid to experiment, and see what works best for you.</p>
<p>All the best!</p>
<p>PS. If you want to <a href="https://www.saleswhale.com/slides-kickstart-your-abm-campaign-in-minutes-not-month" rel="noopener" target="_blank">download the slides</a>&nbsp;from the talk, you can <a href="https://www.saleswhale.com/slides-kickstart-your-abm-campaign-in-minutes-not-month" rel="noopener" id="__hsNewLink" target="_blank">do so here</a>.</p></span>
          </p></div>]]>
            </description>
            <link>https://blog.saleswhale.com/3-lessons-from-saleswhales-successful-abm-campaign-that-led-to-210000-revenue</link>
            <guid isPermaLink="false">hacker-news-small-sites-24493706</guid>
            <pubDate>Wed, 16 Sep 2020 15:40:36 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why our widget doesn't show a “Powered by” label]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24493580">thread link</a>) | @superspacebar
<br/>
September 16, 2020 | https://freddyfeedback.com/blog/why-our-widget-doesnt-have-a-powered-by-label | <a href="https://web.archive.org/web/*/https://freddyfeedback.com/blog/why-our-widget-doesnt-have-a-powered-by-label">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>

	<div>
		<div>
			<div>

				
				
				<p>
					Published on the 16th of September 2020
				</p>

				<div>
					<p>Everyone that uses an external product or service on their website knows the "Powered by" label. At Freddy Feedback we decided to not display this label on our widget.</p>
<h2>Why not?</h2>
<p>We believe in the power of design and great user experience. In our opinion, displaying such a label degrades both of these.</p>
<p>Just look at how beautifully minimal this is for your users:</p>
<p><img src="https://freddyfeedback.com/blog-images/widget-5-stars.png">
</p>
<p>Also, and maybe this is just us, we never understood how you can charge customers hundreds of dollars a month and then show a label that only benefits your own company instead of your customer's user experience.</p>
<h2>But what about growth?</h2>
<p>We're in this for the long run, and we want to grow our business with some core principles that we believe in. As mentioned, two of those are great design and a delightful user experience. We rather do things right and grow slower.</p>
<h2>What if you're wrong?</h2>
<p>A crystal ball is on the roadmap, but we haven't figured out how to build it yet. If anyone has an API that would be appreciated!</p>
<p>Until then, there is a chance that we do another blog post where we explain that we changed course on this topic.</p>

					
				</div>

				

			</div>
		</div>
	</div>

</article></div>]]>
            </description>
            <link>https://freddyfeedback.com/blog/why-our-widget-doesnt-have-a-powered-by-label</link>
            <guid isPermaLink="false">hacker-news-small-sites-24493580</guid>
            <pubDate>Wed, 16 Sep 2020 15:27:51 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[God in the Loop: How a Causal Loop Could Shape Existence]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24493515">thread link</a>) | @riddlemethis
<br/>
September 16, 2020 | https://www.vesselproject.io/god-in-the-loop | <a href="https://web.archive.org/web/*/https://www.vesselproject.io/god-in-the-loop">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="page" role="main">
        
          <article data-page-sections="5f5aa388a3fe5a2f38b6dcf1" id="sections">
  
    <section data-section-id="5f5aa388a3fe5a2f38b6dcf4" data-controller="SectionWrapperController, MagicPaddingController" data-current-styles="{
  &quot;imageOverlayOpacity&quot; : 0.15,
  &quot;video&quot; : {
    &quot;playbackSpeed&quot; : 0.5,
    &quot;filter&quot; : 1,
    &quot;filterStrength&quot; : 0,
    &quot;zoom&quot; : 0
  },
  &quot;backgroundWidth&quot; : &quot;background-width--full-bleed&quot;,
  &quot;sectionHeight&quot; : &quot;section-height--medium&quot;,
  &quot;horizontalAlignment&quot; : &quot;horizontal-alignment--center&quot;,
  &quot;verticalAlignment&quot; : &quot;vertical-alignment--middle&quot;,
  &quot;contentWidth&quot; : &quot;content-width--narrow&quot;,
  &quot;sectionTheme&quot; : &quot;white&quot;,
  &quot;sectionAnimation&quot; : &quot;none&quot;,
  &quot;backgroundMode&quot; : &quot;image&quot;
}" data-animation="none">
  
  <div>
    <div>
      
      
      <div data-type="page-section" id="page-section-5f5aa388a3fe5a2f38b6dcf4"><div><div><div data-block-type="2" id="block-2f3b0ffbd9e04a6bc15e"><div><h2>God in the Loop</h2><p>How a causal loop could shape existence.</p><p>September 15, 2020</p></div></div><div data-aspect-ratio="46.285714285714285" data-block-type="5" id="block-ba9c4c56fd701de82ef6"><div>








  

    
  
    <div data-test="image-block-inline-outer-wrapper">

      

      
        <figure>
          
        
        

        
          
            
          <p><img data-src="https://images.squarespace-cdn.com/content/v1/5ed2939ea763213deeee805e/1600139811307-K3Q743MPWX89WG76LMTC/ke17ZwdGBToddI8pDm48kAGDNWVH8qu648H9uQb0Kbd7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z4YTzHvnKhyp6Da-NYroOW3ZGjoBKy3azqku80C789l0ktJPZ5nzlpAQ9l-HYKRq6VHjQa1HqrJliZa1mOpny1y6Wxj5sLXFaZM53JxlAFPxg/image-asset.jpeg" data-image="https://images.squarespace-cdn.com/content/v1/5ed2939ea763213deeee805e/1600139811307-K3Q743MPWX89WG76LMTC/ke17ZwdGBToddI8pDm48kAGDNWVH8qu648H9uQb0Kbd7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z4YTzHvnKhyp6Da-NYroOW3ZGjoBKy3azqku80C789l0ktJPZ5nzlpAQ9l-HYKRq6VHjQa1HqrJliZa1mOpny1y6Wxj5sLXFaZM53JxlAFPxg/image-asset.jpeg" data-image-dimensions="2500x2299" data-image-focal-point="0.5,0.5" alt="" data-load="false" data-image-id="5f603223e049e715ea2b492a" data-type="image" src="https://images.squarespace-cdn.com/content/v1/5ed2939ea763213deeee805e/1600139811307-K3Q743MPWX89WG76LMTC/ke17ZwdGBToddI8pDm48kAGDNWVH8qu648H9uQb0Kbd7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z4YTzHvnKhyp6Da-NYroOW3ZGjoBKy3azqku80C789l0ktJPZ5nzlpAQ9l-HYKRq6VHjQa1HqrJliZa1mOpny1y6Wxj5sLXFaZM53JxlAFPxg/image-asset.jpeg">
          </p>
        
          
        

        
      
        </figure>
      

    </div>
  


  


</div></div><div data-block-type="2" id="block-ca009e2cc3b721215b4d"><div><pre><code><a href="https://www.vesselproject.io/s/God-in-the-Loop.pdf" target="_blank">PDF VIEW</a></code></pre><div><p>My last article, “<a href="https://www.vesselproject.io/life-through-quantum-annealing" target="_blank">Life Through Quantum Annealing</a>” was an exploration of how a broad range of physical phenomena — and possibly the whole universe — can be mapped to a quantum computing process. But the article simply accepts <em>that</em> quantum annealing behaves as it does; it does not attempt to explain <em>why</em>. That answer lies somewhere within a “true” description of quantum mechanics, which is still an outstanding problem.</p><p>Despite the massive predictive success of quantum mechanics, physicists still can’t agree on how its math corresponds to reality. Any such proposal, called an “interpretation” of quantum mechanics, tends to straddle the line between physics and philosophy. There is no shortage of interpretations, and in the words of physicist David Mermin, “New interpretations appear every year. None ever disappear.” Am I going to throw one more on that pile? You bet.  </p><p>I’m not going to start from scratch though; I simply propose an ever-so-slight modification to an existing forerunner: the many-worlds interpretation, where other “worlds” or timelines exist in parallel to our own. My modification is this: the only worlds that <em>can </em>exist are those that exist within a causal loop. Stated another way: our universe, or any possible universe, must be a causal loop.  </p><p>I will introduce the relevant concepts and provide an argument for my proposal, but my goal is not to once-and-for-all prove this interpretation as true. Rather, my goal is to explore what happens if we accept the interpretation as true. If we start with the assumption that only causal loop universes can exist, then several interesting things follow — we find parallels to our own universe, and we might even find God.  </p></div><h3>Causality &amp; Quantum Interpretations</h3><div><p>Before talking about causal loops, let’s take a step back and talk about causality — perhaps the single most fundamental concept in all the sciences. It plays a starring role in the two most important theories in physics: general relativity and quantum mechanics. </p><p>General relativity, developed by Einstein, combines space, time, and gravity in a geometric description of spacetime. In spacetime, two observers might not agree on the space between two events or time between two events — but they <em>always </em>agree on the <a href="https://www.youtube.com/watch?v=YycAzdtUIko" target="_blank">spacetime interval</a>, which corresponds to a causal relationship between two events. As such, causality is the only thing that is universally agreed on, making it the only proper description of objective reality. Another phenomenon predicted by general relativity is the cosmic speed limit — the speed of light — which is more appropriately understood as the <a href="https://www.youtube.com/watch?v=msVuCEs8Ydo" target="_blank">speed of causality</a>, more fundamental than light alone. Here we see that spacetime and the speed of light are not inherently real; they are just useful ways of describing causality, the only objective reality. </p><p>But if general relativity is interesting because we can <em>only</em> agree on causality, then quantum mechanics is interesting because we <em>can’t</em> agree on causality.  </p><p>As I alluded to earlier, the full explanation of quantum mechanics is still a mystery, and that mystery has everything to do with causality — specifically how objective, causal reality relates to the wave function. The wave function of a quantum system is most easily understood as a probability distribution, where the probability of the system being in any given state is calculated when you square the amplitude of the wave function for that state. The wave function is in a “superposition” of all possible states until it is measured, after which we observe a single state. </p></div></div></div><div data-aspect-ratio="63.013698630136986" data-block-type="5" id="block-yui_3_17_2_1_1599779020325_5819"><div>








  

    
  
    <div data-test="image-block-inline-outer-wrapper">

      

      
        <figure>
          
        
        

        
          
            
          <p><img data-src="https://images.squarespace-cdn.com/content/v1/5ed2939ea763213deeee805e/1599779119805-57H5XJIR5QQKB7D387EZ/ke17ZwdGBToddI8pDm48kIkgaBd8ayW8Y-IaXtzGPGpZw-zPPgdn4jUwVcJE1ZvWQUxwkmyExglNqGp0IvTJZUJFbgE-7XRK3dMEBRBhUpw6bd9KCPtd5f1VUknwX4myGI7Q7Uhklk7J3PKIesQYBhM3JPUTVnkii7xQtiaQlFg/wave+function.png" data-image="https://images.squarespace-cdn.com/content/v1/5ed2939ea763213deeee805e/1599779119805-57H5XJIR5QQKB7D387EZ/ke17ZwdGBToddI8pDm48kIkgaBd8ayW8Y-IaXtzGPGpZw-zPPgdn4jUwVcJE1ZvWQUxwkmyExglNqGp0IvTJZUJFbgE-7XRK3dMEBRBhUpw6bd9KCPtd5f1VUknwX4myGI7Q7Uhklk7J3PKIesQYBhM3JPUTVnkii7xQtiaQlFg/wave+function.png" data-image-dimensions="512x307" data-image-focal-point="0.5,0.5" alt="wave function.png" data-load="false" data-image-id="5f5ab12f68856c4ec5b463ff" data-type="image" src="https://images.squarespace-cdn.com/content/v1/5ed2939ea763213deeee805e/1599779119805-57H5XJIR5QQKB7D387EZ/ke17ZwdGBToddI8pDm48kIkgaBd8ayW8Y-IaXtzGPGpZw-zPPgdn4jUwVcJE1ZvWQUxwkmyExglNqGp0IvTJZUJFbgE-7XRK3dMEBRBhUpw6bd9KCPtd5f1VUknwX4myGI7Q7Uhklk7J3PKIesQYBhM3JPUTVnkii7xQtiaQlFg/wave+function.png">
          </p>
        
          
        

        
      
        </figure>
      

    </div>
  


  


</div></div><div data-block-type="2" id="block-yui_3_17_2_1_1599779222099_11371"><div><p>Simple depiction of a quantum wave function with a single crest. (Image by Louay Fatoohi)</p><div><p>On the surface, it appears that quantum physics is inherently random if it can only be described by probability, and somehow the act of measuring or observing the system causes it to assume an objective state. If you’re convinced of this, then you basically agree with the Copenhagen interpretation of quantum mechanics, which posits an interaction between the system and observer that causes the wave function to randomly “collapse.” This has been the standard interpretation for a long time, although others interpretations have been consistently gaining steam. </p><p>As an alternative, maybe you don’t think the universe is random at all — it’s deterministic, but there are “hidden” variables we don’t yet know about. In this case, there is no wave function collapse, so we don’t need to introduce any extra physics to explain what happens when we observe the system. If you’re on board with that, then you just signed up for the de Broglie-Bohm theory, also known as the pilot wave theory. </p><p>But maybe you’re still not quite convinced. Let’s make things even simpler: the universe isn’t random, but there aren’t hidden variables either. You have the wave function, and that’s it — what you see is what you get. That, it turns out, pretty much sums up the many-worlds interpretation. In this theory, all possible “worlds” described by the wave function do exist; we just happen to occupy one of them. While it requires the least explanation, the bizarre implication is that many parallel worlds exist as branches of different possible outcomes. </p><p>These three interpretations tend to be the top contenders, and they each take a different approach to answer the question of “what causes what?” The fact that a basic causal structure of physics cannot gain consensus makes this interesting territory, plus it has far-reaching implications. A proper explanation doesn’t just account for the non-locality of entanglement or the apparent uncertainty of superposition — it explains how humans fit into reality. </p><p>As observers, do we cause the wave function to collapse? That would certainly seem to elevate the role of consciousness in the causal nature of reality (which has not gone unnoticed by experts and cranks alike). Or is the wave function itself the only causal, objective reality? If so, that's one more reason to believe we’re at the mercy of a universe that’s indifferent to our existence. </p><p>The third interpretation is the one I want to revisit later in this article: the many-worlds interpretation. Keep it in mind. While it appears to threaten our sense of importance and potentially free will, it's not so bad if we just add a twist — or better yet, a loop. </p></div><h3>Causal Loops</h3><div><p>It may be fairly self-explanatory, but I’ll nonetheless define a causal loop as follows: a closed causal chain of events, where each event is the effect of another event on the chain. A simple example is a loop of three distinct events where Event A causes Event B, which causes Event C, which in turn causes Event A — each event is causally connected to another on the loop, and there is no “first” event. If you start at any one event, the sequence that follows inevitably leads back to the same event as if it caused itself. </p><p>Causal loops sound absurd, but their possibility has been successfully defended, particularly by philosopher Richard Hanley in his paper, “<a href="https://link.springer.com/article/10.1023/B:SYNT.0000035847.28833.4f" target="_blank">No End in Sight: Causal Loops in Philosophy, Physics, and Fiction</a>” (and any mention of Hanley moving forward is in reference to this paper). Hanley points out that causal loops are not logically inconsistent nor physically impossible — at worst, they simply require grand coincidences. Causal loops as a whole aren’t created, they simply exist, and any strangeness about this is merely apparent — they’re in no worse a position concerning the question of why anything exists. Interestingly, Hanley also mentions that the idea of a causal loop universe is taken very seriously in cosmology, and that causal loops are actually more likely to occur in a universe like ours which hosts intelligent agents. </p><p>Let’s unpack that a bit. If intelligent agents discover their universe is indeed a giant causal loop, they may have incentive to maintain the loop they inhabit by causing the very events that lead to their own existence. Furthermore, they can intentionally make events happen that would otherwise require coincidence. But there is nothing coincidental or mysterious about an intentional action; we intentionally do things every day. Hanley notes, “the existence of agency may be the very thing that permits causal loops to obtain.” </p><p>This is where I’ll take it one step further than Hanley: not only are causal loop universes possible, but all possible universes must be causal loops. As I mentioned earlier, I’m going to run with this as an assumption, but I’ll still attempt to provide some reasoning. </p><p>That reasoning boils down to two propositions: the first is that all events must have causes; the second is that only in closed causal chains do all events have causes. We saw that in a causal loop all events have definitive causes — other events on the loop. There is no issue. But in an open causal chain (imagine a straight line), one more event is always required to explain causation. We’re left with a case of infinite regress, which isn’t inherently problematic, but its “openness” implies there must be an event without a cause, which is impossible. Furthermore, any series of causes and effects cannot, by definition, be considered as part of separate causal systems. If we define a universe to be a causal system, then it follows that all universes must also be causal loops, including our universe. </p><p>Using a causal-loop-only starting point, we can dive into some pretty interesting things.</p></div><h3>Different Paths: Curved Spacetime &amp; Clever Demons  </h3></div></div></div></div></div></div></div></section></article></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.vesselproject.io/god-in-the-loop">https://www.vesselproject.io/god-in-the-loop</a></em></p>]]>
            </description>
            <link>https://www.vesselproject.io/god-in-the-loop</link>
            <guid isPermaLink="false">hacker-news-small-sites-24493515</guid>
            <pubDate>Wed, 16 Sep 2020 15:21:44 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Software vulnerabilities in HiSilicon based hardware video encoders]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24493446">thread link</a>) | @ll-ll-ll
<br/>
September 16, 2020 | https://kojenov.com/2020-09-15-hisilicon-encoder-vulnerabilities/ | <a href="https://web.archive.org/web/*/https://kojenov.com/2020-09-15-hisilicon-encoder-vulnerabilities/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <div>
  
  <p><span>15 Sep 2020</span></p><p><img src="https://kojenov.com/assets/2020-09-15-encoders/010-title-bug.png" alt="bug"></p>

<hr>

<p><strong>Update 2020-09-17:</strong> Huawei <a href="https://www.huawei.com/en/psirt/security-notices/2020/huawei-sn-20200917-01-hisilicon-en">issued a statement</a> saying that none of the vulnerabilities have been introduced by HiSilicon chips and SDK packages. I will update this article as more information comes in.</p>

<hr>

<p>This article discloses critical vulnerabilities in IPTV/H.264/H.265 video encoders based on HiSilicon hi3520d hardware. The vulnerabilities exist in the application software running on these devices. All vulnerabilities are exploitable remotely and can lead to sensitive information exposure, denial of service, and remote code execution resulting in full takeover of the device. With multiple vendors affected, and no complete fixes at the time of the publication, these encoders should only be used on fully trusted networks behind firewalls. I hope that my detailed write-up serves as a guide for more security research in the IoT world.</p>

<!--more-->

<ul id="markdown-toc">
  <li><a href="#summary" id="markdown-toc-summary">Summary</a></li>
  <li><a href="#background" id="markdown-toc-background">Background</a></li>
  <li><a href="#hardware" id="markdown-toc-hardware">Hardware</a></li>
  <li><a href="#network-recon" id="markdown-toc-network-recon">Network recon</a>    <ul>
      <li><a href="#23---telnet" id="markdown-toc-23---telnet">23 - telnet</a></li>
      <li><a href="#80-8086---web-application" id="markdown-toc-80-8086---web-application">80, 8086 - web application</a></li>
      <li><a href="#554-8554---rtsp" id="markdown-toc-554-8554---rtsp">554, 8554 - RTSP</a></li>
      <li><a href="#1935---rtmp" id="markdown-toc-1935---rtmp">1935 - RTMP</a></li>
      <li><a href="#5150---serial-to-tcp" id="markdown-toc-5150---serial-to-tcp">5150 - serial to TCP</a></li>
      <li><a href="#9588---another-web-server" id="markdown-toc-9588---another-web-server">9588 - another web server</a></li>
    </ul>
  </li>
  <li><a href="#firmware-analysis" id="markdown-toc-firmware-analysis">Firmware analysis</a>    <ul>
      <li><a href="#content" id="markdown-toc-content">Content</a></li>
      <li><a href="#password-file-and-telnet-access" id="markdown-toc-password-file-and-telnet-access">Password file and telnet access</a></li>
    </ul>
  </li>
  <li><a href="#local-recon" id="markdown-toc-local-recon">Local recon</a>    <ul>
      <li><a href="#the-base-system" id="markdown-toc-the-base-system">The base system</a></li>
      <li><a href="#processes" id="markdown-toc-processes">Processes</a></li>
      <li><a href="#ports" id="markdown-toc-ports">Ports</a></li>
      <li><a href="#dumping-the-file-system" id="markdown-toc-dumping-the-file-system">Dumping the file system</a></li>
    </ul>
  </li>
  <li><a href="#reverse-engineering" id="markdown-toc-reverse-engineering">Reverse engineering</a>    <ul>
      <li><a href="#modifying-the-boot" id="markdown-toc-modifying-the-boot">Modifying the boot</a></li>
      <li><a href="#remote-debugging" id="markdown-toc-remote-debugging">Remote debugging</a></li>
      <li><a href="#decompiling" id="markdown-toc-decompiling">Decompiling</a></li>
    </ul>
  </li>
  <li><a href="#vulnerabilities-and-exploits" id="markdown-toc-vulnerabilities-and-exploits">Vulnerabilities and exploits</a>    <ul>
      <li><a href="#backdoor-password-cve-2020-24215" id="markdown-toc-backdoor-password-cve-2020-24215">Backdoor password (CVE-2020-24215)</a></li>
      <li><a href="#root-access-via-telnet-cve-2020-24218" id="markdown-toc-root-access-via-telnet-cve-2020-24218">root access via telnet (CVE-2020-24218)</a></li>
      <li><a href="#arbitrary-file-disclosure-via-path-traversal-cve-2020-24219" id="markdown-toc-arbitrary-file-disclosure-via-path-traversal-cve-2020-24219">Arbitrary file disclosure via path traversal (CVE-2020-24219)</a></li>
      <li><a href="#unauthenticated-file-upload-cve-2020-24217" id="markdown-toc-unauthenticated-file-upload-cve-2020-24217">Unauthenticated file upload (CVE-2020-24217)</a></li>
      <li><a href="#arbitrary-code-execution-by-uploading-malicious-firmware" id="markdown-toc-arbitrary-code-execution-by-uploading-malicious-firmware">Arbitrary code execution by uploading malicious firmware</a></li>
      <li><a href="#arbitrary-code-execution-via-command-injection" id="markdown-toc-arbitrary-code-execution-via-command-injection">Arbitrary code execution via command injection</a></li>
      <li><a href="#buffer-overflow-definite-dos-and-potential-rce-cve-2020-24214" id="markdown-toc-buffer-overflow-definite-dos-and-potential-rce-cve-2020-24214">Buffer overflow: definite DoS and potential RCE (CVE-2020-24214)</a></li>
      <li></li>
    </ul>
  </li>
  <li><a href="#disclosure" id="markdown-toc-disclosure">Disclosure</a>    <ul>
      <li><a href="#affected-vendors" id="markdown-toc-affected-vendors">Affected vendors</a></li>
      <li><a href="#coordinated-disclosure" id="markdown-toc-coordinated-disclosure">Coordinated disclosure</a></li>
      <li><a href="#remediation" id="markdown-toc-remediation">Remediation</a></li>
    </ul>
  </li>
  <li><a href="#conclusion" id="markdown-toc-conclusion">Conclusion</a></li>
  <li><a href="#exploit-demos" id="markdown-toc-exploit-demos">Exploit demos</a></li>
  <li><a href="#links" id="markdown-toc-links">Links</a></li>
</ul>

<h2 id="summary">Summary</h2>

<p>The following vulnerabilities were identified:</p>

<ul>
  <li>Critical
    <ul>
      <li>Full admin interface access via backdoor password (CVE-2020-24215)</li>
      <li>root access via telnet (CVE-2020-24218)</li>
      <li>Arbitrary file disclosure via path traversal (CVE-2020-24219)</li>
      <li>Unauthenticated file upload (CVE-2020-24217)
        <ul>
          <li>Arbitrary code execution via malicious firmware upload</li>
          <li>Arbitrary code execution via command injection</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>High
    <ul>
      <li>Denial of service via buffer overflow (CVE-2020-24214)</li>
    </ul>
  </li>
  <li>Medium
    <ul>
      <li>Unauthorized RTSP video stream access (CVE-2020-24216)</li>
    </ul>
  </li>
</ul>

<p>See <a href="https://www.kb.cert.org/vuls/id/896979">CERT/CC vulnerability note VU#896979</a></p>

<p>During my research I had physical access to several devices from the following vendors: <a href="http://szuray.com/">URayTech</a>, <a href="https://jtechdigital.com/product/jtech-ench4-0220/">J-Tech Digital</a>, and <a href="https://www.provideoinstruments.com/iptv-encoders">Pro Video Instruments</a>. I performed my research initially on URayTech, then confirmed vulnerabilities in the other two vendors.</p>

<p>There is at least a dozen of different vendors that manufacture and sell very similar devices. By analyzing product documentation and firmware update packages, I’ve got a high level of confidence those devices were also affected by most, if not all, vulnerabilities listed here. Here is an [incomplete] list of these additional vendors: <a href="http://www.networktechinc.com/h264-hdmi-encoder.html"><em>Network Technologies Incorporated (NTI)</em></a>, <a href="https://www.oupree.com/IP-Video-Encoder-Decoder/"><em>Oupree</em></a>, <a href="http://www.szmine.com/Video_Encoder/"><em>MINE Technology</em></a>, <a href="https://www.blankom.de/products/irenis-ip-encoder-streamer/"><em>Blankom</em></a>, <a href="https://www.iseevy.com/product-category/video-encoder/"><em>ISEEVY</em></a>, <a href="https://www.orivision.com.cn/c/h264-hdmi-encoder_0017"><em>Orivision</em></a>, <a href="https://www.procoderhd.com/">WorldKast/procoder</a>, <a href="http://www.digicast.cn/en/product.asp?pType=222">Digicast</a></p>

<p>It is my understanding that most of these devices are intended to be used behind NAT/firewall. However, I was able to utilize <a href="http://shodan.io/">shodan.io</a> to identify several hundred devices on the public internet, all likely to be exploitable by an anonymous remote attacker.</p>

<h2 id="background">Background</h2>

<p>Hardware video encoders are used for video streaming over IP networks. They convert raw video signals (such as analog, SDI, HDMI) to H.264 or H.265 streams and send them to a video distribution network (YouTube, Twitch, Facebook,…) or let the users watch the video directly via RTSP, HLS, etc. Normally, these encoders have a web interface to allow the administrator to configure networking, encoding parameters, streaming options, and so on. Many such devices on the market today are based on <a href="http://www.hisilicon.com/en/">HiSilicon</a> (a Huawei brand) hi3520d ARM SoC running a special Linux distribution called HiLinux, with a set of user-space utilities and a custom web application on top.</p>

<p>Security research on HiSilicon devices has been done in the past. Here are some existing publications:</p>

<ul>
  <li><a href="https://habr.com/ru/post/173501/">Root shell in IP cameras</a> (in Russian) by Vladislav Yarmak, 2013. The research uncovered the root password allowing root shell access over telnet.</li>
  <li><a href="https://github.com/tothi/pwn-hisilicon-dvr">HiSilicon DVR hack</a> by Istvan Toth, 2017. This research targeted DVR/NVR devices, and uncovered a root shell access with elevated privileges, a backdoor password, a file disclosure via path traversal, and an exploitable buffer overflow.</li>
  <li><a href="https://habr.com/en/post/486856/">Full disclosure: 0day vulnerability (backdoor) in firmware for Xiaongmai-based DVRs, NVRs and IP cameras</a> by Vladislav Yarmak. This research uncovered a very interesting “port knocking” backdoor allowing a remote attacker to start the telnet, and then log in with one of the several known passwords.</li>
</ul>

<p>While the streaming video encoders may share the same hardware architecture and the underlying Linux system with the above devices, my research targets the <strong>admin web application specific to the video encoders</strong> and does not overlap with the prior work.</p>

<h2 id="hardware">Hardware</h2>

<p>Here is a few pictures of one of the devices I had an opportunity to test.
<img src="https://kojenov.com/assets/2020-09-15-encoders/050-encoder.jpg" alt="hardware">
Physical ports
<img src="https://kojenov.com/assets/2020-09-15-encoders/060-encoder.jpg" alt="hardware">
Top cover off. The right side, from top to bottom: LAN, HDMI out, reset, HDMI in, LEDs, audio in
<img src="https://kojenov.com/assets/2020-09-15-encoders/070-encoder.jpg" alt="hardware">
Let’s plug this thing in, connect to network, and start exploring!</p>

<h2 id="network-recon">Network recon</h2>

<p>A simple <code>nmap</code> scan reports the following open ports:</p>

<div><div><pre><code>$ nmap -p 1-65535 encoder
...
PORT     STATE SERVICE
23/tcp   open  telnet
80/tcp   open  http
554/tcp  open  rtsp
1935/tcp open  rtmp
5150/tcp open  atmp
8086/tcp open  d-s-n
8554/tcp open  rtsp-alt
9588/tcp open  unknown
</code></pre></div></div>

<h3 id="23---telnet">23 - telnet</h3>

<p>Telnet displays the login prompt, but the password is unknown at this point:</p>



<h3 id="80-8086---web-application">80, 8086 - web application</h3>

<p>Both ports serve the main admin web interface. The default credentials are <strong>admin/admin</strong>
<img src="https://kojenov.com/assets/2020-09-15-encoders/110-login.png" alt="login"></p>

<p>The login prompt suggests basic HTTP authentication, but this is actually <a href="https://en.wikipedia.org/wiki/Digest_access_authentication">digest authentication</a>. The following header is returned by the application:</p>

<div><div><pre><code>WWW-Authenticate: Digest qop="auth", ...
</code></pre></div></div>

<p>and the browser authenticates with:</p>

<div><div><pre><code>Authorization: Digest username="admin", ...
</code></pre></div></div>

<p>(as I will demonstrate below, digest is not the only authentication method supported by the application)</p>

<p>After logging in, the user sees a simple web interface.
<img src="https://kojenov.com/assets/2020-09-15-encoders/120-status.png" alt="status"></p>

<p>Note that vendors customize the interface, and your device can display something completely different, such as:
<img src="https://kojenov.com/assets/2020-09-15-encoders/130-status.png" alt="status">However, the underlying functionality (the web API calls) are all the same regardless of the UI.</p>

<p>There are several sections where the administrator can perform various tasks such as setting up the network, adjusting encoder parameters, uploading images to overlay the video, upgrading the firmware, and so on.</p>

<h3 id="554-8554---rtsp">554, 8554 - RTSP</h3>

<p>RTSP stands for <a href="https://en.wikipedia.org/wiki/Real_Time_Streaming_Protocol">Real Time Streaming Protocol</a>. If it’s enabled, one can watch the video stream directly from the encoder.</p>

<div><div><pre><code>$ curl -i rtsp://encoder:554
RTSP/1.0 200 OK
CSeq: 1
Server: Server Version 9.0.6
Public: OPTIONS, DESCRIBE, PLAY, SETUP, SET_PARAMETER, GET_PARAMETER, TEARDOWN
</code></pre></div></div>

<h3 id="1935---rtmp">1935 - RTMP</h3>

<p><a href="https://en.wikipedia.org/wiki/Real-Time_Messaging_Protocol">Real Time Messaging Protocol</a>, another way to deliver video</p>

<h3 id="5150---serial-to-tcp">5150 - serial to TCP</h3>

<p>Mysterious service. <code>netcat</code> connects but the server does not seem to react to any input</p>

<div><div><pre><code>$ nc -v encoder 5150
Connection to encoder 5150 port [tcp/*] succeeded!
foo
bar
...
</code></pre></div></div>

<p>This initially puzzled me, but when playing with devices from other vendors I noticed that some firmwares allowed control over this port:
<img src="https://kojenov.com/assets/2020-09-15-encoders/140-serial.png" alt="serial"></p>

<h3 id="9588---another-web-server">9588 - another web server</h3>

<p>This one is <code>nginx</code>, but not exactly clear what it is for.</p>

<div><div><pre><code>$ curl -i http://encoder:9588
HTTP/1.1 200 OK
Server: nginx/1.6.0
Date: Thu, 22 Mar 2018 14:28:13 GMT
Content-Type: text/html
Content-Length: 612
Last-Modified: Wed, 05 Dec 2018 10:58:31 GMT
Connection: keep-alive
ETag: "5c07af57-264"
Accept-Ranges: bytes

&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;title&gt;Welcome to nginx!&lt;/title&gt;
...
</code></pre></div></div>

<h2 id="firmware-analysis">Firmware analysis</h2>

<p>Clicking around the web interface, I noticed the backup feature:
<img src="https://kojenov.com/assets/2020-09-15-encoders/150-backup.png" alt="backup">
I immediately went ahead and backed up (i.e. downloaded) both the firmware and the configuration.</p>

<h3 id="content">Content</h3>

<p>The firmware backup is a RAR archive that can be easily unpacked:</p>

<div><div><pre><code>$ file up.rar
up.rar: RAR archive data, v4, os: Win32

$ mkdir up
$ cd up
$ unrar ../up.rar
...
</code></pre></div></div>

<p>Here is the directory structure:</p>

<div><div><pre><code>$ tree -d
.
├── disk
├── ko
│   └── extdrv
├── lib
├── nginx
│   ├── conf
│   ├── html
│   ├── logs
│   └── sbin
└── web
    ├── css
    ├── images
    ├── js
    └── player
        └── icons
</code></pre></div></div>

<ul>
  <li><code>disk</code>: empty</li>
  <li><code>ko</code>: kernel modules (device drivers)</li>
  <li><code>lib</code>: empty</li>
  <li><code>nginx</code>: nginx executables and configuration</li>
  <li><code>web</code>: static content (html, js, css…)</li>
</ul>

<p>The most important things are in the root of the archive:</p>

<div><div><pre><code>$ ls -l
total 12756
-rw------- 1 root root     307 Jul 14 08:31 box.ini
-rw------- 1 root root 6533364 Jul 14 08:31 box.v400_hdmi
drwx------ 2 root root    4096 Jul 14 08:31 disk
-rw------- 1 root root 2972924 Jul 14 08:31 font.ttf
-rw------- 1 root root 1570790 Jul 14 08:31 hostapd
-rw------- 1 root root    1847 Jul 14 08:31 hostapd.conf
drwx------ 3 root root    4096 Jul 14 08:31 ko
drwx------ 2 root root    4096 Jul 14 08:31 lib
drwx------ 6 root root    4096 Jul 14 08:31 nginx
-rw------- 1 root root 1382400 Jul 14 08:31 nosig.yuv
-rw------- 1 root root      38 Jul 14 08:31 passwd
-rw------- 1 root root  211248 Jul 14 08:31 png2bmp
-rw------- 1 root root   19213 Jul 14 08:30 remserial
-rw------- 1 root root    6624 Jul 14 08:30 reset
-rw------- 1 root root     968 Jul 14 08:30 run
-rw------- 1 root root     878 Jul 14 08:30 udhcpc.script
-rw------- 1 root root     191 Jul 14 08:30 udhcpd.conf
drwx------ 6 root root    4096 Jul 14 08:31 web
-rw------- 1 root root   39166 Jul 14 08:31 wpa_cli
-rw------- 1 root root  264069 Jul 14 08:31 wpa_supplicant
</code></pre></div></div>

<p>In addition to some general utilities ( <code>hostapd</code>, <code>png2bmp</code>, <code>remserial</code>, <code>wpa_cli</code>, <code>wpa_supplicant</code>) it contains the custom web application <code>box.v400_hdmi</code> which is a compiled binary:</p>

<div><div><pre><code>$ file box.v400_hdmi 
box.v400_hdmi: ELF 32-bit LSB executable, ARM, EABI5 version 1 (SYSV), dynamically linked, interpreter /lib/ld-uClibc.so.0, stripped
</code></pre></div></div>

<p><strong>This executable is the primary target of my research, and all the …</strong></p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://kojenov.com/2020-09-15-hisilicon-encoder-vulnerabilities/">https://kojenov.com/2020-09-15-hisilicon-encoder-vulnerabilities/</a></em></p>]]>
            </description>
            <link>https://kojenov.com/2020-09-15-hisilicon-encoder-vulnerabilities/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24493446</guid>
            <pubDate>Wed, 16 Sep 2020 15:14:17 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Building geometry solvers for the IMO Grand Challenge]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24493295">thread link</a>) | @ocfnash
<br/>
September 16, 2020 | https://jesse-michael-han.github.io/blog/imo-gc-geo/ | <a href="https://web.archive.org/web/*/https://jesse-michael-han.github.io/blog/imo-gc-geo/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
  
  
  <p><em>(Dated: Sep 15 2020)</em></p>
<p>Synthetic geometry lies at the intersection of human <em>intuition</em>—insights arising from our core knowledge priors of shape, symmetry, distance, and motion—and <em>formal proof</em>: for two millenia, the treatment of geometry in Euclid’s <em>Elements</em> has exemplified the axiomatic method in mathematics.</p>
<p>While not actively researched in contemporary mathematics, synthetic geometry survives today in the form of <em>olympiad geometry</em> problems posed in contests like the International Mathematical Olympiad (IMO). While in principle reducible to the axiomatics of Euclid, olympiad geometry in practice is situated on its own foundations and a body of assumed knowledge which goes far beyond the axioms in the <em>Elements</em>: reduction to real/complex/barycentric coordinates, algebraic methods <em>a la</em> Gröbner bases, and passage to projective or inversive geometry, to name a few tricks. Modulo this assumed knowledge, proofs in olympiad geometry remain elementary and relatively short. However, they often require creative insights on when to apply techniques that can transform the search space—a single well-chosen auxiliary point or a clever inversion can cut a path through an otherwise intractably thorny problem.</p>
<p>As such, synthetic geometry poses an enticing challenge for artificially intelligent theorem proving. On one hand, the insight required for well-chosen auxiliary points and transformations, and the ability to finish a proof given such insights, are miniaturizations of the problems of <em>goal-conditioned term synthesis</em> (given a theorem to prove, what intermediate definitions or lemmas will lead to a proof?)—and <em>tactic selection</em>. On the other hand, geometry is remarkably accessible: anyone can draw a diagram to gain intuition about a problem, or perturb diagrams to quickly discover new problems. Put another way, geometry distinguishes itself by the ease with which humans can synthesize and manipulate models to guide reasoning, motivate constructions, and discover interesting facts. Moreover, we can be fairly confident in a conjecture \(\phi \to \psi\) if we have sampled merely a few dozen diagrams satisfying \(\phi\) as pathologically as possible and find that in all of them, \(\psi\) also holds. Since it turns out to be <a href="#diagram-synthesis-with-tensorflow">easy to automatically synthesize high-quality diagrams</a>, this means that in geometry, it might be feasible to trade compute for a curriculum—definitely not something we can say for e.g. arithmetic geometry (it took a team of mathematicians <a href="https://leanprover-community.github.io/lean-perfectoid-spaces/">months</a> to formally construct a single perfectoid space in Lean) or elementary number theory, whose logic is somehow less tame than geometry’s, and where it is <a href="https://en.wikipedia.org/wiki/Fermat%27s%5FLast%5FTheorem">really easy to conjecture really hard problems</a> (and where <a href="https://math.stackexchange.com/questions/514/conjectures-that-have-been-disproved-with-extremely-large-counterexamples">counterexamples to conjectures</a> can show up after billions of positive examples.)</p>
<p>I spent the summer working on geometry solvers for the <a href="https://imo-grand-challenge.github.io/">IMO Grand Challenge</a> with Dan Selsam at Microsoft Research. A superhuman olympiad geometry solver will only be 1/4th of a solution to the IMO Grand Challenge, but we expect the techniques developed here to accelerate the development of solvers for the other problem domains. What follows is a (not-so-brief) field report of what we’ve tried and learned so far.</p>
<h2 id="the-agony-and-the-ecstasy-of-forwards-vs-backwards-reasoning">The agony and the ecstasy of forwards vs backwards reasoning</h2>
<p>One of the fundamental dichotomies of automated reasoning—and a source of many tough design decisions—is between <em>forwards</em> and <em>backwards</em> reasoning. Should one derive consequences of facts already known, or work backwards from the goal to narrow the search space before proceeding? Put another way, should one build the proof tree from the leaves up (forwards) or from the root down (backwards)? Either approach has drawbacks: forwards reasoning can produce many unpromising intermediate lemmas, leading to problems of memory complexity; conversely, backwards reasoning can explore many unpromising branches of the search tree, leading to problems of time complexity.</p>
<p>The best results seem to arise from combining both. Humans, for example, rarely use pure forwards or backwards reasoning alone. In practice, we rely on instinctual heuristics for when to forward-chain into promising parts of the search space and when to expand the backwards search tree (i.e., accumulating a table of lemmas that we know can finish the proof as soon as we supply their preconditions). Sometimes our intuition tells us it’s a good idea to just unwind definitions and follow our nose, and other times we’ll somehow know we’re in a bad part of the search space and should reorient with another technique.</p>
<p>SAT solving is a great example. One can think of the DPLL algorithm for SAT as performing a backwards search for a resolution proof tree rooted at the empty clause. (If the first variable selected is \(x\), then this is a promise that the final resolution yielding the empty clause \(\varepsilon\) is that of the unit clauses \((x)\) and \((\neg x)\).) Unlike first-order logic, this resolution proof search is guaranteed to terminate, but the runtime can easily blow up if we do not prune (for example, suppose we disable unit propagation). Now consider the extension of DPLL to CDCL. A learned clause \(C\) produced by conflict analysis of a candidate assignment \(\mathcal{F}|_{\alpha}\) can be proved from \(\mathcal{F}\). In terms of the resolution proof, every time we close a branch of the backwards search from \(\varepsilon\), we also perform a bit of forwards reasoning, accumulating a proof forest starting at the leaves which lets us close future branches of the backwards search more quickly. In practice, CDCL vastly reduces the time complexity of DPLL. This comes at the cost of intricate heuristics (clause activity scores, glue levels…) for managing the memory complexity of the accumulated lemmas. Nevertheless, this is a paradigmatic example of how forwards and backwards reasoning can be synthesized to great effect.</p>
<p>Tabled resolution in logic programming is another example. Backward chaining with Horn clauses (e.g. Prolog) is the prototypical backwards reasoning algorithm. Naïvely implemented, it also illustrates the pitfalls of pure backwards reasoning. Without storing information of what we have already proved in a global state which persists across different branches of the search (in this case a table for memoization; in the case of CDCL, a clause database), the search thrashes and blows up; in the case of Prolog (or systems that use vanilla SLD resolution, like Lean 3’s typeclass system) it can even loop. <em>Tabling</em> maintains a search forest instead of a single backtracking search tree. This can be viewed as incorporating forwards reasoning (goal propagation and scheduling) into a purely backwards algorithm: failed search trees from earlier in the search are suspended instead of discarded, and can be resumed if their dependencies are discovered and propagated from another part of the search later on.</p>
<h2 id="searcht-a-monad-transformer-for-generic-backwards-search"><code>SearchT</code>: a monad transformer for generic backwards search</h2>
<p>One of the tools we developed this summer is a monad transformer for generic backwards search, called <code>SearchT</code>.</p>
<div><pre><code data-lang="haskell"><span>data</span> <span>SearchT</span> cp c m a <span>=</span> <span>SearchT</span> (m (<span>Status</span> cp c m a))

<span>data</span> <span>Status</span> cp c m a <span>=</span>
    <span>Fail</span>
  <span>|</span> <span>Done</span> a
  <span>|</span> <span>ChoicePoint</span> (<span>Decision</span> cp c m a)

<span>data</span> <span>Decision</span> cp c m a <span>=</span> <span>Decision</span> { choicePoint <span>::</span> cp,
                                    choices     <span>::</span> [(c, <span>SearchT</span> cp c m a)] }
</code></pre></div><p>A value of type <code>SearchT cp c m a</code> represents a monadic computation in <code>m</code> that searches for a value of <code>a</code>. When this monadic computation is executed, a <code>SearchT</code> program either fails, succeeds with a desired value of type <code>a</code>, or returns a <em>choice point</em>, which wraps a list of continuations representing possible branches of the search with features of type <code>cp</code> and <code>c</code> to be consumed by heuristics. The value returned by the search is completely general; <code>a</code> could even be a <code>SearchT</code> program itself, so that the whole thing is metasearch over search programs. Unlike <code>ListT</code>, which can also be thought of as encoding a search, the continuations in <code>SearchT</code> are explicit and the search must be run explicitly. The benefit of running the search ourselves is that now it doesn’t have to be depth first (as in <code>ListT</code>) and we can manage the continuations in whatever container (stack, queue, priority queue…) we like. In between processing branches of the search, we can also process the arbitrary features returned by the choice points as input to branching heuristics. For example, at a high level, the breadth-first search in the outer loop of <a href="https://sites.google.com/view/holist/home">DeepHOL</a>, where possible choices of tactic applications are re-ordered according to a policy network, can be encoded this way.</p>
<p>Global state which persists across different branches of the search can be maintained in the inner monad <code>m</code>. For example, <code>m</code> could be a <code>StateT ProofForest IO</code>, and a <code>SearchT</code> program could search for terms which unify with the left hand side of a forward chaining rule, apply the rule, and store the result in the global state. In this way, we can implement forward reasoning. Conversely, local state (like a partial proof tree, say, or a cache of local assumptions) that is destroyed upon backtracking can be maintained in an outer state monad, e.g. <code>StateT TacticState (SearchT m cp c a)</code>.</p>
<p>We had several uses for the <code>SearchT</code> abstraction—notably, in our ARC solver (which I will describe next), and for mining constructions and conjectures from geometry diagrams.</p>
<h2 id="warm-up-the-abstraction-and-reasoning-challenge--arc">Warm-up: The Abstraction and Reasoning Challenge (ARC)</h2>
<p>The first thing I worked on was a solver for Kaggle’s <a href="https://www.kaggle.com/c/abstraction-and-reasoning-challenge">Abstraction and Reasoning Challenge</a>. The task was to build a solver that could pass what was essentially a battery of psychometric intelligence tests (see Francois Chollet’s <a href="https://arxiv.org/abs/1911.01547">preprint</a> for more motivation). Here’s a typical task:</p>
<div> <!-- style="float:left; display: flex; margin-bottom: 20px; margin-top:25px" -->
<figure><img src="https://jesse-michael-han.github.io/img/arc-example-1.png" width="100%">
<!-- optional <figcaption> </figcaption> element here-->
</figure>
</div>
<p><img src="https://jesse-michael-han.github.io/img/arc-example-1.png" width="100%">
</p>
<p>This is an unforgiving few-shot learning problem: there are only a handful of training examples per task, and the answers for the test inputs, including the exact grid dimensions, have to be an exact match.</p>
<p>Our solver was structured around <code>SearchT</code> and performed primarily backwards search, with lightweight …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://jesse-michael-han.github.io/blog/imo-gc-geo/">https://jesse-michael-han.github.io/blog/imo-gc-geo/</a></em></p>]]>
            </description>
            <link>https://jesse-michael-han.github.io/blog/imo-gc-geo/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24493295</guid>
            <pubDate>Wed, 16 Sep 2020 14:58:08 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Venom from Honeybees Found to Kill Aggressive Breast Cancer Cells]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24493240">thread link</a>) | @oedmarap
<br/>
September 16, 2020 | https://www.perkins.org.au/honeybee-venom-kills-breast-cancer-cells/ | <a href="https://web.archive.org/web/*/https://www.perkins.org.au/honeybee-venom-kills-breast-cancer-cells/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><article id="post-7629"><div><div><div>
<p><span><img width="1365" height="1899" src="https://www.perkins.org.au/wp-content/uploads/2020/09/perkinsjuly-0455-scaled-e1599006144875.jpg" alt="" title="" srcset="https://www.perkins.org.au/wp-content/uploads/2020/09/perkinsjuly-0455-scaled-e1599006144875.jpg 1365w, https://www.perkins.org.au/wp-content/uploads/2020/09/perkinsjuly-0455-scaled-e1599006144875-216x300.jpg 216w, https://www.perkins.org.au/wp-content/uploads/2020/09/perkinsjuly-0455-scaled-e1599006144875-736x1024.jpg 736w, https://www.perkins.org.au/wp-content/uploads/2020/09/perkinsjuly-0455-scaled-e1599006144875-768x1068.jpg 768w, https://www.perkins.org.au/wp-content/uploads/2020/09/perkinsjuly-0455-scaled-e1599006144875-1104x1536.jpg 1104w, https://www.perkins.org.au/wp-content/uploads/2020/09/perkinsjuly-0455-scaled-e1599006144875-500x696.jpg 500w, https://www.perkins.org.au/wp-content/uploads/2020/09/perkinsjuly-0455-scaled-e1599006144875-800x1113.jpg 800w, https://www.perkins.org.au/wp-content/uploads/2020/09/perkinsjuly-0455-scaled-e1599006144875-1280x1781.jpg 1280w" sizes="(max-width: 1365px) 100vw, 1365px"></span></p><p>Home</p><p><strong>Venom&nbsp;from&nbsp;honeybees&nbsp;found to&nbsp;kill&nbsp;aggressive&nbsp;breast cancer cells –&nbsp;Australian&nbsp;research published in </strong><strong><em>Nature Precision Oncology</em></strong><strong>&nbsp;</strong></p><p>Honeybee venom induces cancer cell death in hard to treat triple-negative breast cancer with minimal effect on healthy cells.</p><p>Using the venom from 312 honeybees&nbsp;and bumblebees&nbsp;in Perth&nbsp;Western Australia,&nbsp;Ireland and England, Dr Ciara&nbsp;Duffy&nbsp;from the Harry Perkins Institute of Medical Research and The University of Western Australia,&nbsp;tested the effect&nbsp;of&nbsp;the&nbsp;venom on&nbsp;the clinical subtypes of breast cancer, including triple-negative breast cancer, which has limited treatment options.</p><p>Results published in the prestigious international journal NJP <em>Nature Precision Oncology</em> revealed that&nbsp;honeybee venom rapidly&nbsp;destroyed triple-negative breast cancer and HER2-enriched breast cancer cells.</p><p>Dr Duffy said the aim of the research was to investigate the anti-cancer properties of honeybee venom, and a component compound, melittin,&nbsp;on different types of&nbsp;breast cancer cells.</p><p>“No-one had&nbsp;previously compared&nbsp;the effects&nbsp;of honeybee venom or melittin across&nbsp;all of the different subtypes of breast cancer and normal cells.</p><p>“We tested&nbsp;honeybee venom on&nbsp;normal breast cells, and cells from the clinical subtypes of breast cancer: hormone receptor positive,&nbsp;HER2-enriched, and&nbsp;triple-negative breast cancer.</p><p>“We tested a very small, positively charged&nbsp;peptide&nbsp;in&nbsp;honeybee&nbsp;venom called melittin, which we could reproduce synthetically, and found that the synthetic product mirrored the majority&nbsp;of the anti-cancer effects of&nbsp;honeybee&nbsp;venom,” Dr Duffy said.</p><p>“We found both&nbsp;honeybee venom and melittin significantly,&nbsp;selectively&nbsp;and rapidly reduced the viability of triple-negative breast cancer and HER2-enriched breast cancer cells.</p><p>“The venom was extremely potent,” Dr Duffy said.</p><p>A specific concentration of honeybee&nbsp;venom&nbsp;can induce 100% cancer&nbsp;cell death, while having minimal effects on normal cells.</p><p>“We found that melittin can&nbsp;completely destroy&nbsp;cancer&nbsp;cell membranes&nbsp;within 60 minutes.”</p><p>Melittin in honeybee venom&nbsp;also&nbsp;had another remarkable effect; within 20 minutes, melittin was able to substantially reduce the chemical messages of cancer cells that are essential to cancer cell growth and cell division.</p><p>“We looked at how honeybee venom and melittin affect the cancer signalling pathways, the chemical messages that&nbsp;are fundamental for&nbsp;cancer cell growth and reproduction, and we&nbsp;found that very quickly&nbsp;these signalling pathways&nbsp;were&nbsp;shut down.</p><p>“Melittin modulated the&nbsp;signalling in breast cancer cells by suppressing the activation of the receptor that is commonly overexpressed in triple-negative breast cancer,&nbsp;the&nbsp;epidermal growth factor receptor,&nbsp;and it suppressed&nbsp;the activation of HER2 which is over-expressed&nbsp;in&nbsp;HER2-enriched&nbsp;breast cancer,”&nbsp;she said.</p><p>Western Australia’s Chief Scientist Professor Peter Klinken said “This is an incredibly exciting observation that melittin, a major component of honeybee venom, can suppress the growth of deadly breast cancer cells, particularly triple-negative breast cancer.</p><p>“Significantly, this study demonstrates how melittin interferes with signalling pathways within breast cancer cells to reduce cell replication. It provides another wonderful example of where compounds in nature can be used to treat human diseases”, he said.</p><p>Dr Duffy also tested to see if melittin could be used with existing chemotherapy drugs as it forms&nbsp;pores, or holes,&nbsp;in&nbsp;breast&nbsp;cancer cell&nbsp;membranes, potentially enabling the entry of other treatments into the cancer cell to enhance cell&nbsp;death.</p><p>“We found&nbsp;that&nbsp;melittin can be used with small molecules&nbsp;or&nbsp;chemotherapies,&nbsp;such as docetaxel,&nbsp;to treat&nbsp;highly-aggressive types of breast cancer.&nbsp;The combination of melittin and docetaxel was&nbsp;extremely efficient&nbsp;in reducing tumour growth in mice.”</p><p>Dr Duffy’s research was conducted as part of her PhD undertaken at Perth’s Harry Perkins Institute of Medical Research at the Cancer Epigenetics laboratory overseen by A/Prof. Pilar Blancafort.</p><p>“I began with collecting Perth honeybee venom.&nbsp;Perth bees are&nbsp;some of&nbsp;the healthiest&nbsp;in the world.</p><p>“The bees were put to sleep with carbon dioxide and&nbsp;kept on&nbsp;ice before the&nbsp;venom&nbsp;barb was pulled out from the&nbsp;abdomen&nbsp;of the bee and the venom extracted by&nbsp;careful dissection,” she said.</p><p>While there are 20,000 species of bees, Dr Duffy&nbsp;wanted to compare the effects of Perth honeybee venom to other honeybee populations in Ireland and England, as well as to the venom of bumblebees.</p><p>“I found that the European honeybee in Australia, Ireland and England produced almost identical effects&nbsp;in breast cancer compared to normal cells. However, bumblebee venom&nbsp;was unable to induce cell death even at very high concentrations.</p><p>One of the first reports of the effects of bee venom was published in&nbsp;Nature in 1950, where the venom reduced the growth of tumours in plants.&nbsp;However, Dr Duffy said it&nbsp;was only in the past two decades that interest grew substantially into the effects of&nbsp;honeybee venom&nbsp;on different&nbsp;cancers.</p><p>In the future,&nbsp;studies will be required to&nbsp;formally assess&nbsp;the optimum method of delivery of melittin,&nbsp;as well as&nbsp;toxicities and maximum tolerated doses.</p><p><u>Fast Facts</u></p><ul><li>Breast cancer is the most commonly occurring cancer in women worldwide<a href="#_ftn1" name="_ftnref1">[1]</a></li><li>It is the second most common cause of death from cancer among females<a href="#_ftn2" name="_ftnref2">[2]</a></li><li>Triple-negative breast cancer&nbsp;(TNBC)&nbsp;accounts for 10-15% of all breast cancers<a href="#_ftn3" name="_ftnref3">[3]</a></li><li>There are currently no&nbsp;clinically&nbsp;effective targeted treatments&nbsp;for&nbsp;TNBC</li></ul><p><a href="#_ftnref1" name="_ftn1">[1]</a> <a href="https://www.wcrf.org/dietandcancer/cancer-trends/breast-cancer-statistics">https://www.wcrf.org/dietandcancer/cancer-trends/breast-cancer-statistics</a></p><p><a href="#_ftnref2" name="_ftn2">[2]</a> <a href="https://canceraustralia.gov.au/affected-cancer/cancer-types/breast-cancer/statistics">https://canceraustralia.gov.au/affected-cancer/cancer-types/breast-cancer/statistics</a></p><p><a href="#_ftnref3" name="_ftn3">[3]</a> <a href="https://www.cancer.org/cancer/breast-cancer/understanding-a-breast-cancer-diagnosis/types-of-breast-cancer/triple-negative.html">https://www.cancer.org/cancer/breast-cancer/understanding-a-breast-cancer-diagnosis/types-of-breast-cancer/triple-negative.html</a></p><hr><p><span>Share the article:</span>
<a href="https://www.facebook.com/share.php?u=https://www.perkins.org.au/honeybee-venom-kills-breast-cancer-cells/&amp;title=Honeybee%20venom%20kills%20breast%20cancer%20cells" target="_blank"><i></i></a>
<a href="https://www.instagram.com/perkinsinstitute/" target="_blank"><i></i></a>
<a href="https://twitter.com/home?status=Honeybee%20venom%20kills%20breast%20cancer%20cells%20+%20https://www.perkins.org.au/honeybee-venom-kills-breast-cancer-cells/" target="_blank"><i></i></a>
<a href="https://www.youtube.com/user/PerkinsInstitute" target="_blank"><i></i></a>
<a href="https://www.linkedin.com/cws/share?url=https://www.perkins.org.au/honeybee-venom-kills-breast-cancer-cells/"><i></i></a></p></div></div></div></article></div></div>]]>
            </description>
            <link>https://www.perkins.org.au/honeybee-venom-kills-breast-cancer-cells/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24493240</guid>
            <pubDate>Wed, 16 Sep 2020 14:50:55 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Building things that do [ just one thing ]]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24493084">thread link</a>) | @eightturn
<br/>
September 16, 2020 | https://www.deepsouthventures.com/building-things-that-do-just-one-thing/ | <a href="https://web.archive.org/web/*/https://www.deepsouthventures.com/building-things-that-do-just-one-thing/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="text">
			<p><img loading="lazy" src="https://www.deepsouthventures.com/wp-content/uploads/pig-neon-red-300x212.jpg" alt="Neon Red Pig" width="300" height="212" srcset="https://www.deepsouthventures.com/wp-content/uploads/pig-neon-red-300x212.jpg 300w, https://www.deepsouthventures.com/wp-content/uploads/pig-neon-red-700x494.jpg 700w, https://www.deepsouthventures.com/wp-content/uploads/pig-neon-red.jpg 1130w" sizes="(max-width: 300px) 100vw, 300px">There’s no need to make this complicated. People want to make it complicated.</p>
<p>My brain isn’t that smart – I need to dumb things down. And it ends up, dumbing things down can usually elevate your chances of success. </p>
<p>When I consider a project, I like to compare it to a washing machine.</p>
<p>Washing machines do <span>one thing</span>. </p>
<p>Set a cycle, mash a button, and the receptacle goes to work.</p>
<p>It doesn’t dry clothes. It doesn’t fold clothes. It doesn’t warn you when you throw a red shirt in with all your whites.</p>
<p>It just washes.</p>
<p>Here in the United States, consumers purchase one metal box to clean, plus one metal box to dry. You’d think we’d have combined them by now, like Europe has, but no – – separate. And we sorta prefer it that way.</p>
<p>I admire that simplicity. Simplicity can be an unfair advantage, if you think about it.</p>
<p>One of my projects involves <a href="https://www.deepsouthventures.com/i-sell-onions-on-the-internet/">selling sweet Vidalia onions</a>. A lot of my customers ask: “What else does your farm sell online, Peter?”</p>
<p>My answer: “Nothing, just onions.”</p>
<p>At the beginning of that project, my monkey brain kept insisting we expand into other categories.</p>
<p><strong><em>“SELL <span>&nbsp;GEORGIA PEACHES!&nbsp;</span>“</em></strong>&nbsp;&nbsp; it’d say. </p>
<p><strong><em>“OH OH! <span>&nbsp;GEORGIA PECANS!&nbsp;</span>“</em></strong></p>
<p>I allowed it to chirp over the course of two shipping seasons, but by the third, I’d duct taped its mouth.</p>
<p><em>Where my internal monologue wound up, was here</em>: Why downshift into another category when our primary continues to grow 25%-50% every year? Why water down my attention when our principal has clearly struck a nerve? And hell, we’re still tweaking logistics, customer support, quality control, etal on Vidalia anyway. It’s nowhere near perfected.</p>
<p>Growth for growth’s sake doesn’t make sense to me. We’re not Amazon. We don’t want to be Amazon. We’re privately owned &amp; family operated – we don’t have to listen to that diatribe.</p>
<p><em><strong>What does make sense</strong> is controlled growth</em>, with a strong connection to our product &amp; customers. Correction, an <em><strong>intense</strong></em> connection with our product &amp; customers.</p>
<p><img loading="lazy" src="https://www.deepsouthventures.com/wp-content/uploads/penny-gumball-machine-glass-top-ford-225x300.jpg" alt="Penny gumball machine" width="225" height="300" srcset="https://www.deepsouthventures.com/wp-content/uploads/penny-gumball-machine-glass-top-ford-225x300.jpg 225w, https://www.deepsouthventures.com/wp-content/uploads/penny-gumball-machine-glass-top-ford.jpg 375w" sizes="(max-width: 225px) 100vw, 225px">One product, though. It doesn’t have to be any fancier than that.</p>
<p>Drop a penny in a gumball machine, slide the lever, and a gumball rolls out.</p>
<p>Happy customer. Problem solved.</p>
<hr>
<p><iframe width="560" height="315" src="https://www.youtube.com/embed/ULKmb3_P_N8" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></p>
<hr>
<p><span><a href="https://twitter.com/searchbound" rel="noopener noreferrer" target="_blank">Follow me on Twitter</a> as I continue to document my journey there. Or get an email when I post new stuff (below):</span></p>


		</div></div>]]>
            </description>
            <link>https://www.deepsouthventures.com/building-things-that-do-just-one-thing/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24493084</guid>
            <pubDate>Wed, 16 Sep 2020 14:34:50 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[GraphQL over WebSockets]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24493061">thread link</a>) | @enisdenjo
<br/>
September 16, 2020 | https://the-guild.dev/blog/graphql-over-websockets | <a href="https://web.archive.org/web/*/https://the-guild.dev/blog/graphql-over-websockets">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><blockquote><p>A couple of years ago, while I was still working at Apollo, <a href="https://github.com/leebyron" target="_blank" rel="noopener noreferrer">Lee Byron</a>, <a href="https://github.com/robzhu" target="_blank" rel="noopener noreferrer">Rob Zhu</a>, <a href="https://github.com/dotansimha" target="_blank" rel="noopener noreferrer">Dotan simha</a> and <a href="https://github.com/urigo" target="_blank" rel="noopener noreferrer">I</a> worked on the GraphQL Subscriptions spec and the reference implementation.</p></blockquote><blockquote><p>During that work, we created and merged the <a href="https://github.com/graphql/graphql-js/pull/846" target="_blank" rel="noopener noreferrer">reference implementation into graphql-js</a> and created two supporting libraries: <a href="https://github.com/apollographql/graphql-subscriptions" target="_blank" rel="noopener noreferrer">graphql-subscriptions</a> and <a href="https://github.com/apollographql/subscriptions-transport-ws" target="_blank" rel="noopener noreferrer">subscriptions-transport-ws</a>. Here is a <a href="https://youtu.be/Wi7P39sF2nw" target="_blank" rel="noopener noreferrer">talk with deep dive into all the details</a>.</p></blockquote><blockquote><p>Since leaving Apollo, <a href="https://github.com/apollographql/subscriptions-transport-ws/issues/777" target="_blank" rel="noopener noreferrer">not a lot of work has been gone into those libraries</a>.
That's why I was so thrilled that <a href="https://github.com/enisdenjo" target="_blank" rel="noopener noreferrer">Denis</a> decided to pick up that important work and create a new library for the WebSocket Protocol.</p></blockquote><blockquote><p>We will support his work of maintaining the library and standardizing it with the GraphQL over HTTP working group.
This is a part of a lot of exciting work coming up about GraphQL and real-time, so follow us for new things in this space!</p></blockquote><blockquote><p>Denis will take it away from here!</p></blockquote><h3>Introduction</h3><p>At some point in time during your web development journeys, you may’ve been faced with the challenge to add a real-time component. The synonym for realtime in the browser is the WebSocket API. <a href="https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API" target="_blank" rel="noopener noreferrer">This is how MDN’s describes it</a>:</p><blockquote><p>The WebSocket API is an advanced technology that makes it possible to open a two-way interactive communication session between the user’s browser and a server. With this API, you can send messages to a server and receive event-driven responses without having to poll the server for a reply.</p></blockquote><p>Google Chrome was the first browser to support the WebSocket Protocol, adding support in 2009 - two years before it was officially standardised in 2011. As the need for full-duplex server-client communications rose, other browsers followed suit.</p><p>As of today, all major browsers support the WebSocket Protocol - see the <a href="https://caniuse.com/?search=Web%20Sockets" target="_blank" rel="noopener noreferrer">Can I Use table</a>.</p><h3>WebSockets ❤️ GraphQL</h3><p>Okay, so, how do I use WebSockets to add support for the <a href="https://spec.graphql.org/June2018/#sec-Subscription" target="_blank" rel="noopener noreferrer">GraphQL <code>subscription</code> operation</a>? Doing a basic Google search, you’d be faced with a single solution, namely <a href="https://github.com/apollographql/subscriptions-transport-ws" target="_blank" rel="noopener noreferrer"><code>subscriptions-transport-ws</code></a>. Looking through the repository, checking recent comments, reading through the issues and open PRs - might have you notice the abundance of bugs and their security implications. <a href="https://github.com/enisdenjo/graphql-transport-ws/issues/3" target="_blank" rel="noopener noreferrer">A summary can be found here</a>.</p><p>The authors have done a brilliant job, but unfortunately other projects and needs have reduced their disposable time for maintaining and nurturing this well accomplished, yet needy, idea. But, it did indeed inspire me to take up their legacy and revitalised it! Having faced various WebSocket challenges with GraphQL myself - I jumped in writing a new library from scratch.</p><p>With no further ado - I humbly introduce <a href="https://github.com/enisdenjo/graphql-transport-ws" target="_blank" rel="noopener noreferrer"><code>graphql-transport-ws</code></a>. A coherent, feature-full, zero-dependency, plug-n-play, lazy, simple, server and client implementation of the <a href="https://github.com/enisdenjo/graphql-transport-ws/blob/master/PROTOCOL.md" target="_blank" rel="noopener noreferrer">new, security first GraphQL over WebSocket Protocol</a> with full support for all 3 GraphQL operations: <code>Queries</code>, <code>Mutations</code> and <code>Subscriptions</code>. The protocol aims to be standardised and become a part of GraphQL with the help of the foundation’s <a href="https://github.com/graphql/graphql-over-http/pull/140" target="_blank" rel="noopener noreferrer">GraphQL over HTTP work group</a>.</p><p>The library is written in TypeScript and the full implementation totals merely ~1000 lines of well formatted, commented, code. It leverages modern JavaScript primitives and the well established presence of WebSockets.</p><h3>How do I get started?</h3><p>I am glad you asked! This is how:</p><h4>Install</h4><pre><pre>$ <span>yarn</span> <span>add</span> graphql-transport-ws
</pre></pre><h4>Create a GraphQL schema</h4><pre><pre><span>import</span> <span>{</span> buildSchema <span>}</span> <span>from</span> <span>'graphql'</span><span>;</span>


<span>const</span> schema <span>=</span> <span>buildSchema</span><span>(</span><span><span>`</span><span>
  type Query {
    hello: String
  }
  type Subscription {
    greetings: String
  }
</span><span>`</span></span><span>)</span><span>;</span>


<span>const</span> roots <span>=</span> <span>{</span>
  query<span>:</span> <span>{</span>
    <span>hello</span><span>:</span> <span>(</span><span>)</span> <span>=&gt;</span> <span>'Hello World!'</span><span>,</span>
  <span>}</span><span>,</span>
  subscription<span>:</span> <span>{</span>
    <span>greetings</span><span>:</span> <span>async</span> <span>function</span><span>*</span> <span>sayHiIn5Languages</span><span>(</span><span>)</span> <span>{</span>
      <span>for</span> <span>(</span><span>const</span> hi <span>of</span> <span>[</span><span>'Hi'</span><span>,</span> <span>'Bonjour'</span><span>,</span> <span>'Hola'</span><span>,</span> <span>'Ciao'</span><span>,</span> <span>'Zdravo'</span><span>]</span><span>)</span> <span>{</span>
        <span>yield</span> <span>{</span> greetings<span>:</span> hi <span>}</span><span>;</span>
      <span>}</span>
    <span>}</span><span>,</span>
  <span>}</span><span>,</span>
<span>}</span><span>;</span>
</pre></pre><h4>Start the server</h4><pre><pre><span>import</span> http <span>from</span> <span>'http'</span><span>;</span>
<span>import</span> <span>{</span> execute<span>,</span> subscribe <span>}</span> <span>from</span> <span>'graphql'</span><span>;</span>
<span>import</span> <span>{</span> createServer <span>}</span> <span>from</span> <span>'graphql-transport-ws'</span><span>;</span>

<span>const</span> server <span>=</span> http<span>.</span><span>createServer</span><span>(</span><span>function</span> <span>weServeSocketsOnly</span><span>(</span><span>_<span>,</span> res</span><span>)</span> <span>{</span>
  res<span>.</span><span>writeHead</span><span>(</span><span>404</span><span>)</span><span>;</span>
  res<span>.</span><span>end</span><span>(</span><span>)</span><span>;</span>
<span>}</span><span>)</span><span>;</span>

<span>createServer</span><span>(</span>
  <span>{</span>
    schema<span>,</span> 
    roots<span>,</span> 
    execute<span>,</span>
    subscribe<span>,</span>
  <span>}</span><span>,</span>
  <span>{</span>
    server<span>,</span>
    path<span>:</span> <span>'/graphql'</span><span>,</span>
  <span>}</span>
<span>)</span><span>;</span>

server<span>.</span><span>listen</span><span>(</span><span>443</span><span>)</span><span>;</span>
</pre></pre><h4>Use the client</h4><pre><pre><span>import</span> <span>{</span> createClient <span>}</span> <span>from</span> <span>'graphql-transport-ws'</span><span>;</span>

<span>const</span> client <span>=</span> <span>createClient</span><span>(</span><span>{</span>
  url<span>:</span> <span>'wss://welcomer.com/graphql'</span><span>,</span>
<span>}</span><span>)</span><span>;</span>


<span>(</span><span>async</span> <span>(</span><span>)</span> <span>=&gt;</span> <span>{</span>
  <span>const</span> result <span>=</span> <span>await</span> <span>new</span> <span>Promise</span><span>(</span><span>(</span><span>resolve<span>,</span> reject</span><span>)</span> <span>=&gt;</span> <span>{</span>
    <span>let</span> result<span>;</span>
    <span>const</span> dispose <span>=</span> client<span>.</span><span>subscribe</span><span>(</span>
      <span>{</span>
        query<span>:</span> <span>'{ hello }'</span><span>,</span>
      <span>}</span><span>,</span>
      <span>{</span>
        <span>next</span><span>:</span> <span>(</span><span>data</span><span>)</span> <span>=&gt;</span> <span>(</span>result <span>=</span> data<span>)</span><span>,</span>
        error<span>:</span> reject<span>,</span>
        <span>complete</span><span>:</span> <span>(</span><span>)</span> <span>=&gt;</span> <span>{</span>
          <span>dispose</span><span>(</span><span>)</span><span>;</span>
          <span>resolve</span><span>(</span>result<span>)</span><span>;</span>
        <span>}</span><span>,</span>
      <span>}</span>
    <span>)</span><span>;</span>
  <span>}</span><span>)</span><span>;</span>

  <span>expect</span><span>(</span>result<span>)</span><span>.</span><span>toEqual</span><span>(</span><span>{</span> hello<span>:</span> <span>'Hello World!'</span> <span>}</span><span>)</span><span>;</span>
<span>}</span><span>)</span><span>(</span><span>)</span><span>;</span>


<span>(</span><span>async</span> <span>(</span><span>)</span> <span>=&gt;</span> <span>{</span>
  <span>const</span> <span>onNext</span> <span>=</span> <span>(</span><span>)</span> <span>=&gt;</span> <span>{</span>
    
  <span>}</span><span>;</span>

  <span>await</span> <span>new</span> <span>Promise</span><span>(</span><span>(</span><span>resolve<span>,</span> reject</span><span>)</span> <span>=&gt;</span> <span>{</span>
    <span>const</span> dispose <span>=</span> client<span>.</span><span>subscribe</span><span>(</span>
      <span>{</span>
        query<span>:</span> <span>'subscription { greetings }'</span><span>,</span>
      <span>}</span><span>,</span>
      <span>{</span>
        next<span>:</span> onNext<span>,</span>
        error<span>:</span> reject<span>,</span>
        <span>complete</span><span>:</span> <span>(</span><span>)</span> <span>=&gt;</span> <span>{</span>
          <span>dispose</span><span>(</span><span>)</span><span>;</span>
          <span>resolve</span><span>(</span><span>)</span><span>;</span>
        <span>}</span><span>,</span>
      <span>}</span>
    <span>)</span><span>;</span>
  <span>}</span><span>)</span><span>;</span>

  <span>expect</span><span>(</span>onNext<span>)</span><span>.</span><span>toBeCalledTimes</span><span>(</span><span>5</span><span>)</span><span>;</span> 
<span>}</span><span>)</span><span>(</span><span>)</span><span>;</span>
</pre></pre><h3>Want to find out more?</h3><p>Check the repo out to for <a href="https://github.com/enisdenjo/graphql-transport-ws#getting-started" target="_blank" rel="noopener noreferrer">Getting Started</a> quickly with some <a href="https://github.com/enisdenjo/graphql-transport-ws#recipes" target="_blank" rel="noopener noreferrer">Recepies</a> for vanilla usage, or with <a href="https://relay.dev/" target="_blank" rel="noopener noreferrer">Relay</a> and <a href="https://www.apollographql.com/docs/react/" target="_blank" rel="noopener noreferrer">Apollo Client</a>. Opening issues, contributing with code or simply improving the documentation is always welcome!</p><p>I am <a href="https://github.com/enisdenjo" target="_blank" rel="noopener noreferrer">@enisdenjo</a> and you can chat with me about this topic on the <a href="https://graphql.slack.com/" target="_blank" rel="noopener noreferrer">GraphQL Slack workspace</a> anytime.</p><p>Thanks for reading and happy coding! 👋</p></div></div>]]>
            </description>
            <link>https://the-guild.dev/blog/graphql-over-websockets</link>
            <guid isPermaLink="false">hacker-news-small-sites-24493061</guid>
            <pubDate>Wed, 16 Sep 2020 14:33:07 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Estimates vs. Appetites]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24493040">thread link</a>) | @mcrittenden
<br/>
September 16, 2020 | https://critter.blog/2020/09/16/estimates-vs-appetites/ | <a href="https://web.archive.org/web/*/https://critter.blog/2020/09/16/estimates-vs-appetites/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-content" role="main">

	
<article id="post-1341">

	
<!-- .entry-header -->

	<div>

		<div>

			
<p>I am fascinated by <a href="https://basecamp.com/shapeup">Shape Up</a>‘s notion of setting an appetite for a feature.</p>



<blockquote><p>An appetite is completely different from an estimate. Estimates start with a design and end with a number. Appetites start with a number and end with a design. We use the appetite as a creative constraint on the design process.</p><cite>Ryan Singer, <a href="https://basecamp.com/shapeup/1.2-chapter-03#setting-the-appetite">Shape Up</a></cite></blockquote>



<p>In other words, we should stop saying “here are the specific requirements for feature X, how long will it take?” </p>



<p>Instead, we should say “We want a feature that does X, and our appetite for it is Y weeks. What can you build in that time?”</p>



<p>To make it simple, Basecamp only has 2 possible appetites:</p>



<blockquote><p><code><strong>Small Batch</strong></code>: This is a project that a team of one designer and one or two programmers can build in one or two weeks. We batch these together into a six-week&nbsp;cycle.</p><p><code><strong>Big Batch</strong></code>: This project takes the same-size team a full six-weeks.</p><cite>Ryan Singer, <a href="https://basecamp.com/shapeup/1.2-chapter-03#setting-the-appetite">Shape Up</a></cite></blockquote>



<p>Remember that <a href="https://critter.blog/2020/06/10/spotting-broken-processes/">the best processes are dead simple</a>. It doesn’t get much simpler than this. <em>Decide if each feature is worth a big batch or a small batch, and let the team figure out what they can build in that timeframe</em>. See? I summarized it in a sentence. Simple.</p>



<p>If you work with clients, I’m sure you immediately think of reasons why that wouldn’t work. A few that come to mind for me are:</p>



<ul><li>Clients give you requirements and they want a price in the contract. I’ve <a href="https://critter.blog/2020/08/20/plan-the-sprint-not-the-project/">ranted about that before</a>. It’s hard to escape from “starting with a design and ending with a number.” It’s easier with an existing client because you aren’t trying to win a bid, but it’s still possible with new clients. Maybe we should start talking about appetites early in the discovery phase, after they sign the contract?</li><li>Basecamp’s teams are small: 1 designer and 1 or 2 developers. Teams at most companies are bigger, and could build more than a single feature in 6 weeks. Maybe we should divide a large team into smaller teams to work on features with appetites?</li><li>Putting the designer into the team would be a big shift for most companies. Starting development before anything is fully designed would be an even bigger shift. But both of those are valuable, no?</li></ul>



<p>Those are tough problems, but they feel solvable. </p>



<p>What I love about the idea of appetites is that it forces teams to be agile. Customer collaboration over contract negotiation? Responding to change over following a plan? Appetites are agile at their core. I’m curious and hopeful that it would work as well in an agency setting as it does at Basecamp.</p>



<p>Anyone tried it? <a href="https://twitter.com/mcrittenden">Tweet me</a>!</p>

		</div><!-- .entry-content -->

	</div><!-- .post-inner -->

	<!-- .section-inner -->

	
	<!-- .pagination-single -->

	
</article><!-- .post -->

</div></div>]]>
            </description>
            <link>https://critter.blog/2020/09/16/estimates-vs-appetites/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24493040</guid>
            <pubDate>Wed, 16 Sep 2020 14:30:23 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: New Speech Recognition Option for Twilio from Voicegain]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 1 (<a href="https://news.ycombinator.com/item?id=24492950">thread link</a>) | @DrJJ
<br/>
September 16, 2020 | https://www.voicegain.ai/post/announcing-twilio-twiml-connect-stream-support | <a href="https://web.archive.org/web/*/https://www.voicegain.ai/post/announcing-twilio-twiml-connect-stream-support">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-hook="post-description"><article><div><div data-rce-version="7.19.2"><div dir="ltr"><div><div id="viewer-bmeph"><div><div data-hook="imageViewer" role="button" tabindex="0"><div role="img"><p><img data-pin-url="https://www.voicegain.ai/post/announcing-twilio-twiml-connect-stream-support" data-pin-media="https://static.wixstatic.com/media/e90723_063ad1c343624a9291cfd11ddbf05454~mv2.png/v1/fit/w_1300,h_600,al_c,q_80/file.png" src="https://static.wixstatic.com/media/e90723_063ad1c343624a9291cfd11ddbf05454~mv2.png/v1/fit/w_300,h_300,al_c,q_5/file.png"></p></div></div></div></div><h2 id="viewer-2smec">Build Speech IVRs, Voice Bots</h2><p id="viewer-5rgbf">Voicegain launched an extension to Voicegain <strong>/asr/recognize API</strong> that supports <strong>Twilio</strong><a href="https://www.twilio.com/media-streams" target="_blank" rel="noopener"><strong><u> Media Streams </u></strong></a><strong>via TwiML </strong><a href="https://www.twilio.com/docs/voice/twiml/connect#stream" target="_blank" rel="noopener"><strong><u>&lt;Connect&gt;&lt;Stream&gt;</u></strong></a>. With this launch,  developers using Twilio's Programmable Voice get an <a href="https://www.voicegain.ai/post/speech-to-text-accuracy-benchmark-september-2020" target="_blank" rel="noopener"><u>accurate</u></a><u>,</u> <a href="https://www.voicegain.ai/pricing" target="_blank" rel="noopener"><u>affordable</u></a>, and easy to use ASR/Speech-to-text platform to build speech-IVRs or Voice Bots.</p><h2 id="viewer-3b1oa">Key Features of Twilio Media Streams support</h2><p id="viewer-2dncc">Voicegain Twilio Media Streams support gives developers the following features:</p><ol><li id="viewer-aa64c"><p><strong>Grammar Support: </strong>Developers can now write speech IVR applications that use <strong>grammars</strong>. Many traditional VoiceXML IVRs are built using grammars. However, until now Twilio TwiML did not support use of speech grammars as the &lt;Gather&gt; command supports only text capture. This made it hard to migrate existing VoiceXML IVR applications to the Twilio platform. Mapping of text to semantic meaning had to be done separately, plus large vocabulary recognizer was more likely  to return spurious recognitions. Voicegain solves these problems by supporting both <strong>GRXML </strong>and <strong>JSGF </strong>speech grammars at the core speech-to-text (ASR) engine level. This delivers higher accuracy compared to an ASR that uses a large vocabulary language model to recognize text and then applies grammars to the recognized text. </p></li><li id="viewer-2lkid"><p><strong>90% Savings on ASR Licensing costs: </strong>Build <strong>low cost</strong> speech IVR application. -- A big advantage for developers of the Twilio Programmable Voice platform has been its affordable pricing. However, that was not necessarily true for existing ASR options like &lt;Gather&gt; that is priced at 2 cents for 15 seconds (with 15 second minimum) or 8 cents per minute. With Voicegain the <a href="https://www.voicegain.ai/pricing" target="_blank" rel="noopener"><strong><u>price</u></strong></a><strong> is 1.25 cents per minute</strong> measured at 1 second increments.  Including the billing increment, <strong>we are 90% cheaper. </strong></p></li><li id="viewer-df1pl"><p><strong>Better Timeout Support: </strong>Voicegain supports configurable timeouts for no-input, <strong>complete timeout</strong> and incomplete timeout. Because the grammar is integrated with the recognizer, Voicegain ASR is able to deliver accurate complete timeout response which is not possible with &lt;Gather&gt; command for which the only way to tell if the caller stopped speaking is a large enough pause. </p></li><li id="viewer-7mckv"><p>Simplify <strong>dynamic prompt playback</strong>. -- In order to make use of &lt;Connect&gt;&lt;Stream&gt; as easy as possible, we support passing prompts when invoking &lt;Stream&gt;. Prompts can be provided either as text or as URLs. If provided as text then Voicegain will either use TTS or perform dynamic concatenation of prerecorded prompts.  A prompt manager for such prerecorded prompts is provided as part of Voicegain Web Portal. 
Configurable <strong>barge-in </strong>is supported for the prompts.</p></li><li id="viewer-auc98"><p><strong>Fine-tune and test grammars</strong>. -- Voicegain Web Portal includes a tool for reviewing and fine tuning grammars. The tool also supports regression tests. With this functionality you will never have to deploy grammars without knowing how well they are going to perform after changes.</p></li></ol><h2 id="viewer-9t19d">How Twilio Media Streams works with Voicegain </h2><div id="viewer-f0q42"><div><div data-hook="imageViewer" role="button" tabindex="0"><div role="img"><p><img data-pin-url="https://www.voicegain.ai/post/announcing-twilio-twiml-connect-stream-support" data-pin-media="https://static.wixstatic.com/media/e90723_efa9609d4fc345188b98e3e91f4dd19d~mv2.png/v1/fit/w_901,h_509,al_c,q_80/file.png" src="https://static.wixstatic.com/media/e90723_efa9609d4fc345188b98e3e91f4dd19d~mv2.png/v1/fit/w_300,h_300,al_c,q_5/file.png"></p></div></div></div></div><p id="viewer-f3v81">TwiML &lt;Stream&gt; requires a websocket url. This url can be obtained by invoking Voicegain /asr/recognize/async API. When invoking this API the grammar to be used in the recognition has to be provided. The websocket URL will be returned in the response.  </p><div id="viewer-1tiqr"><div><div data-hook="imageViewer" role="button" tabindex="0"><div role="img"><p><img data-pin-url="https://www.voicegain.ai/post/announcing-twilio-twiml-connect-stream-support" data-pin-media="https://static.wixstatic.com/media/e90723_04f7848807a349069c88b747fca35bcc~mv2.png/v1/fit/w_896,h_555,al_c,q_80/file.png" src="https://static.wixstatic.com/media/e90723_04f7848807a349069c88b747fca35bcc~mv2.png/v1/fit/w_300,h_300,al_c,q_5/file.png"></p></div></div></div></div><p id="viewer-4cgk5">In addition to the wss url, Custom Parameters within &lt;Connect&gt;&lt;Stream&gt; command are used to pass information about the question prompt to be played  to the caller by Voicegain. This can be a text or a url to a service that will provide the audio.</p><p id="viewer-chsps">Once &lt;Connect&gt;&lt;Stream&gt; has been invoked, Voicegain platform takes over-  it:</p><ul><li id="viewer-4k6o4"><p>Plays the prompt via the back channel of &lt;Stream&gt;</p></li><li id="viewer-dl5vs"><p>As soon as caller starts speaking, the prompt playback is stopped (if it it was still playing) exactly like in &lt;Gather&gt;</p></li><li id="viewer-400cn"><p>Spoken words are are recognized using grammar. Recognition result is then provided as a callback from Voicegain Platform. In case of no-input or no-match an appropriate callback will also be made.</p></li><li id="viewer-39pqs"><p>&lt;Stream&gt; connection is stopped and the TwiML application will continue with a next command.</p></li></ul><p id="viewer-5oe9j">BTW, we do support DTMF input as an alternative to speech input. </p><p id="viewer-4bi5v">[UPDATE: you can see more details of how to use Voicegain with Twilio Media Streams in this new <a href="https://www.voicegain.ai/post/how-to-use-voicegain-with-twilio-media-streams" target="_blank" rel="noopener"><u>Blog post</u></a>.]</p><h2 id="viewer-5rju5">Other features of the Voicegain Platform</h2><p id="viewer-afees"><strong>1. On Premise Edge Support: </strong>While Voicegain APIs are available as a cloud PaaS service, Voicegain also supports OnPrem/Edge deployment. Voicegain can be deployed as a containerized service on a single node Kubernetes cluster, or onto multi-node high-availability Kubernetes cluster (on your GPU hardware or your VPC).</p><p id="viewer-e2nci"><strong>2. Acoustic model customization:</strong> This allows to achieve very high accuracy beyond what is possible with out of the box recognizers. The grammar tuning and regression tool mentioned earlier, can be used to collect training data for acoustic model customization.</p><h2 id="viewer-9md6b">More Features Coming </h2><p id="viewer-1ghtq">On our near-term roadmap for Twilio users we have several more features:</p><ul><li id="viewer-1th58"><p>Advanced <strong>Answering Machine Detection</strong> (AMD) -- will be invoked using &lt;Connect&gt;&lt;Stream&gt; and will provide very accurate answering machine detection using speech recognition.</p></li><li id="viewer-93p29"><p><strong>Large vocabulary language model </strong>to just capture the spoken words (no grammars are used) and integrate with any NLU Engine of your choice. We think it will be attractive because of the lower cost compared to &lt;Gather&gt;.</p></li><li id="viewer-9luup"><p><strong>Real-time agent assist</strong> - we are combining our real-time speech recognition with speech analytics to deliver an API that will allow for building real-time agent assist and monitoring applications.</p></li></ul><p id="viewer-c9mgf">You can sign up to <a href="https://voicegain.ai/trial" target="_blank" rel="noopener"><u>try our</u></a> platform. We are offering 600 minutes of free monthly use of the platform. If you have questions about integration with Twilio, send us a note at support@voicegain.ai.</p><p id="viewer-9jpkh">Twilio, TwiML and Twilio Programmable Voice are registered trademarks of <a href="https://www.twilio.com/" target="_blank" rel="noopener"><u>Twilio, Inc</u></a></p></div></div></div></div></article></div></div>]]>
            </description>
            <link>https://www.voicegain.ai/post/announcing-twilio-twiml-connect-stream-support</link>
            <guid isPermaLink="false">hacker-news-small-sites-24492950</guid>
            <pubDate>Wed, 16 Sep 2020 14:21:54 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Using a mobile device as a rotation controller (2019)]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24492735">thread link</a>) | @andersource
<br/>
September 16, 2020 | https://andersource.dev/2019/09/17/device-as-rotation-controller.html | <a href="https://web.archive.org/web/*/https://andersource.dev/2019/09/17/device-as-rotation-controller.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    <h2 id="demo">Demo</h2>
<p>Use a QR code scanner with a mobile device to scan this code, and start moving the Earth!</p>



<h2 id="putting-it-together">Putting it together</h2>
<p>This actually was a classic case of stacking existing components like lego.</p>
<ul>
  <li>The <a href="https://www.w3.org/TR/orientation-event/">DeviceOrientation</a> event is part of the W3C standards, and while it’s still an experimental feature, many browsers already support it.
The documentation even helps you out converting Euler angles (the event’s representation of the device orientation) to quaternions, which are generally useful when dealing with rotations and orientations.</li>
  <li><a href="https://threejs.org/">three.js</a> is a powerful 3D javascript library; the globe was adapted from <a href="https://threejs.org/examples/software_geometry_earth.html">this example</a>.</li>
  <li><a href="https://peerjs.com/">PeerJS</a> is a javascript p2p library wrapping WebRTC with a very easy-to-use API, and they even provide a default, free broker server for the initial connection.</li>
  <li>I used <a href="https://github.com/kazuhikoarase/qrcode-generator#readme">qrcode-generator</a> to generate the QR code.</li>
</ul>

<h3 id="code">Code</h3>
<p>The code is available on Github:
<a href="https://github.com/andersource/andersource.github.io/blob/master/_includes/device-rotation-controller/globe.html">globe.html</a>,
<a href="https://github.com/andersource/andersource.github.io/blob/master/assets/device-rotation-controller/globe.js">globe.js</a>,
<a href="https://github.com/andersource/andersource.github.io/blob/master/static/rotation-controller-client.html">client.html</a>,
<a href="https://github.com/andersource/andersource.github.io/blob/master/assets/device-rotation-controller/client.js">client.js</a>.</p>

  </div>
</article>


      </div>
    </div></div>]]>
            </description>
            <link>https://andersource.dev/2019/09/17/device-as-rotation-controller.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24492735</guid>
            <pubDate>Wed, 16 Sep 2020 13:55:39 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Challenging LR Parsing]]>
            </title>
            <description>
<![CDATA[
Score 113 | Comments 39 (<a href="https://news.ycombinator.com/item?id=24492675">thread link</a>) | @dilap
<br/>
September 16, 2020 | https://rust-analyzer.github.io/blog/2020/09/16/challeging-LR-parsing.html | <a href="https://web.archive.org/web/*/https://rust-analyzer.github.io/blog/2020/09/16/challeging-LR-parsing.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<p>Consider this incomplete snippet of Rust code:</p>
<div>
<div>
<pre><code data-lang="rust"><table><tbody><tr><td><pre>1
2
3
4
5
</pre></td><td><pre><span>fn</span> <span>foo</span><span>(</span>

<span>struct</span> <span>S</span> <span>{</span>
   <span>f</span><span>:</span> <span>u32</span>
<span>}</span>
</pre></td></tr></tbody></table></code></pre>
</div>
</div>
<p>I want to see an LR parser which produces the following syntax tree
(from <a href="https://rust-analyzer.github.io/manual.html#show-syntax-tree"><strong>Show Syntax Tree</strong></a> rust-analyzer command, with whitespace nodes elided for clarity):</p>
<div>
<div>
<pre><code><table><tbody><tr><td><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre></td><td><pre>SOURCE_FILE@0..32
  FN@0..7
    FN_KW@0..2 "fn"
    NAME@3..6
      IDENT@3..6 "foo"
    PARAM_LIST@6..7
      L_PAREN@6..7 "("
  STRUCT@9..31
    STRUCT_KW@9..15 "struct"
    NAME@16..17
      IDENT@16..17 "S"
    RECORD_FIELD_LIST@18..31
      L_CURLY@18..19 "{"
      RECORD_FIELD@23..29
        NAME@23..24
          IDENT@23..24 "f"
        COLON@24..25 ":"
        PATH_TYPE@26..29
          PATH@26..29
            PATH_SEGMENT@26..29
              NAME_REF@26..29
                IDENT@26..29 "u32"
      R_CURLY@30..31 "}"
</pre></td></tr></tbody></table></code></pre>
</div>
</div>
<p>The most error-resilient LR-style parser I know, <a href="https://github.com/tree-sitter/tree-sitter">tree sitter</a>, produces this instead (tree sitter is GLR, this is <strong>not</strong> the style of parsing advocated by the article):</p>
<div>
<div>
<pre><code><table><tbody><tr><td><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
</pre></td><td><pre>source_file [0, 0] - [5, 0])
  ERROR [0, 0] - [4, 1])
    identifier [0, 3] - [0, 6])
    struct_pattern [2, 0] - [4, 1])
      type: type_identifier [2, 0] - [2, 6])
      ERROR [2, 7] - [2, 8])
        identifier [2, 7] - [2, 8])
      field_pattern [3, 3] - [3, 9])
        name: field_identifier [3, 3] - [3, 4])
        pattern: identifier [3, 6] - [3, 9])
</pre></td></tr></tbody></table></code></pre>
</div>
</div>
<p>Note two things about the rust-analyzer’s tree:</p>
<div>
<ul>
<li>
<p>There’s an (incomplete) “function” node for <code>fn foo(</code>.
Unclosed parenthesis doesn’t preclude the parser from recognizing parameter list.</p>
</li>
<li>
<p>Incomplete function does not prevent struct definition from being recognized.</p>
</li>
</ul>
</div>
<p>These are important for IDE support.</p>
<p>For example, suppose that the cursor is just after <code>(</code>.
If we have rust-analyzer’s syntax tree, than we can figure out that we are completing a function parameter.
If we are to get fancy we might find the calls to the (not yet fully written) <code>foo</code>, run type inference to figure out the type of the first argument, and than suggest parameter name &amp; type based on that (not currently implemented — there’s soooooo much yet to be done in rust-analyzer).
And correctly recognizing <code>struct S</code> is important to not break type-inference in the code which uses <code>S</code>.</p>
<p>There’s a lot of literature about error recovery for LR parsers, how come academics haven’t figured this out already?
I have a bold claim to make: error-recovery research in academia is focusing on a problem irrelevant for IDEs.
Specifically, the research is focused on finding “minimal cost repair sequence”:</p>
<div>
<ul>
<li>
<p>a set of edit operations is defined (skip, change or insert token),</p>
</li>
<li>
<p>a “cost” metric is defined to distinguish big and small edits,</p>
</li>
<li>
<p>an algorithm is devised to find the smallest edit which makes the current text parse.</p>
</li>
</ul>
</div>
<p>This is a very academia-friendly problem — there’s a precise mathematical formulation, there’s an obvious brute force solution (try all edits), and there’s ample space for finding polynomial algorithm.</p>
<p>But IDEs don’t care about actually guessing &amp; repairing the text!
They just need to see as much of (possibly incomplete) syntax nodes in the existing text as possible.
When rust-analyzer’s parser produces</p>
<div>
<div>
<pre><code><table><tbody><tr><td><pre>1
2
3
</pre></td><td><pre>  PARAM_LIST@6..7
    L_PAREN@6..7 "("
STRUCT@9..31
</pre></td></tr></tbody></table></code></pre>
</div>
</div>
<p>it doesn’t think “Oh, I need to insert <code>)</code> here to complete the list of parameters”.
Rather, it sees <code>struct</code> and thinks “Oh wow, didn’t expect that! I guess I’ll just stop parsing parameter list right here”.</p>
<p>So, here’s</p>
<div>
<table>
<tbody><tr>
<td>
<i title="Important"></i>
</td>
<td>
<p>First Challenge</p>
Design error <em>resilient</em> (and not just error <em>recovering</em>) LR parsing algorithm.
</td>
</tr>
</tbody></table>
</div>
<p>Note that error resilience is a topic orthogonal to error reporting.
I haven’t payed much attention to error reporting (in my experience, synchronous reporting of syntax errors in the editor compensates for bad syntax error messages), but it might be the case that MCRS are a good approach to there.</p>
</div></div>]]>
            </description>
            <link>https://rust-analyzer.github.io/blog/2020/09/16/challeging-LR-parsing.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24492675</guid>
            <pubDate>Wed, 16 Sep 2020 13:48:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: 5 Kb Spreadsheet for the Web with copy paste]]>
            </title>
            <description>
<![CDATA[
Score 14 | Comments 4 (<a href="https://news.ycombinator.com/item?id=24492647">thread link</a>) | @lecarore
<br/>
September 16, 2020 | https://renanlecaro.github.io/importabular/ | <a href="https://web.archive.org/web/*/https://renanlecaro.github.io/importabular/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"> <section> <div>  <ul> <li title="Once minified and gzipped">Under 5 Kb</li> <li title="Basic support, double tap a cell to edit it, not tried on iphone">Mobile friendly</li> <li title="Works from libre office, should work for other software">Copy / paste</li> <li>MIT License</li> </ul> </div>  </section> <section> <div> <h2>Usage</h2> <p>Install it from npm</p> <pre><code>npm install importabular</code></pre> <p>Instanciate it on a dom node</p>
<pre><code lang="javascript">import Importabular from 'importabular'
const sheet=new Importabular({
  node:document.getElementById('editorNode'),
})</code></pre> <p>Get the current data as a 2D array</p>
<pre><code lang="javascript">sheet.data.toArr()</code></pre> <p>Destroy it to remove event listeners</p>
<pre><code lang="javascript">sheet.destroy()</code></pre> </div> </section> <section> <div> <h2>Goals and limitations</h2> <p> I've created this lib because I was tired of having to remove 90% of the features offered by the very few open source libs for web spreadsheets. </p> <p> Some common use cases have options, for the rest you should just read <a href="https://github.com/renanlecaro/importabular">the source</a> and subclass it of fix the code. </p> <p> So for this reinventing the wheel to make sense, I should not add any extra features to this core. </p><ul> <li>No virtual rendering</li> <li>No sorting, pivot, formula, etc ..</li> <li>Only basic keyboard shortcuts</li> <li>Only strings as data type</li> <li>Only for recent browsers</li> </ul>  <p> The lib is fresh and not battle tested, probably has some bugs. Feel free to <a href="https://github.com/renanlecaro/importabular/issues/new"> create an issue</a> if you find a bug. </p> </div> <div> <pre><code lang="javascript">import Importabular from 'importabular'

const sheet=new Importabular({
  node:document.getElementById('editorNode'),

  // Prefill the table
  data:[['This','is','the','first','row']],

  // Called after each change to the table data
  onChange:data=&gt;console.log('new data : ',data),

  // Called every time the user changes selection,
  // useful for real time collaborative editing
  onSelectionChange:sel=&gt;console.log('new selection',sel),

  // Each cell is rendered as a TD with inside either
  // a div or an input. This will override the TD style
  cellStyle:(x,y,{selected,editing})=&gt;
    ({
      backgroundColor:!selected &amp;&amp; !editing &amp;&amp; y%2?
        '#fafafa':null
    }),

  // and this will override the style of the text
  // input or div.
  contentStyle:()=&gt;({fontFamily:'sherif'}),

  // Starting size of the grid on instanciation
  minWidth:5,
  minHeight:10,

  // Limits to the growth of the grid
  maxWidth:5,
  maxHeight:10,
})
</code></pre> </div>
</section> 
</div>]]>
            </description>
            <link>https://renanlecaro.github.io/importabular/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24492647</guid>
            <pubDate>Wed, 16 Sep 2020 13:44:37 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Direct sales for SaaS startups – our experience and tips]]>
            </title>
            <description>
<![CDATA[
Score 145 | Comments 18 (<a href="https://news.ycombinator.com/item?id=24492609">thread link</a>) | @pau_alcala
<br/>
September 16, 2020 | https://blog.palabra.io/learning-to-listen-direct-sales-tips-for-early-stage-startups | <a href="https://web.archive.org/web/*/https://blog.palabra.io/learning-to-listen-direct-sales-tips-for-early-stage-startups">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section><p><em>By Pau Alcalá - Co-founder of Palabra</em></p><p>While finding product-market fit for <a href="https://www.palabra.io/?utm_medium=direct-sales-tips-startups&amp;utm_source=blog">Palabra</a>, our marketing strategy was exclusively organic and our first sales came from 1-1 conversations with potential users. After a month of difficult conversations and failed demos, I learned a very new and innovative approach to direct sales: actually listening to what people are saying. In this post I'll share my experience and some tips to listen to users, in the hopes of saving founders &amp; early startup teams some time and energy.</p><h2>What we mean by direct sales</h2><p>As the name suggest, direct sales means you talk directly to your prospect and try to sell them your solution via a 1-1 conversation. This conversation usually starts by reaching the prospect you think your product would work for, and sharing why you think your solution would be good for them.</p><p>Taking a direct approach is more common for B2B businesses, because the decision to purchase is strategical and the price is higher, which means you get a bigger return for each user you convert. But I think it's a good strategy to follow for any early stage SaaS, because it's an easy and direct way of learning about your users and implementing solutions that work for them.</p><p>The biggest challenges to direct sales is finding the right prospects and knowing how to show them value as quickly as possible. With direct conversations you'll probably get a higher conversion rate than self-served sales, but at a much slower rate.</p><h2>Why direct sales in a SaaS startup?</h2><p>When we launched <a href="https://www.palabra.io/?utm_medium=direct-sales-tips-startups&amp;utm_source=blog">Palabra</a> we had no audience and not enough user data to understand who we should be targeting or how to convert them into paying users. We had two possible paths to follow:</p><ol><li>Awareness-first: Experimenting with low-budget ads or organic strategies in different channels, with different messages to see which stick better. This approach is the startup playbook, feeding the top of the funnel with as many prospects as possible assuming most of them will not end up buying, and learn how to convert them better later on.</li><li>Conversion-first: Spending almost no time to feed the top of the funnel (keep a low stream of leads and prospects) but improving that funnel to have better conversions. Leads would be scarce, but we'd learn how to qualify them and provide value so they are willing to buy and stay around.</li></ol><p>The first path was the riskier for us. First, because we had little experience with paid acquisition, and wouldn't know if our misses would be due to lack of experience or just wrong channels.</p><p>Second, we wanted to engage in deep conversations with users as soon as possible. We didn't really care about general trends, we wanted to actually understand what people were struggling with in email automation, and where to take our product so that it worked for them. That's why we decided to take the second path.</p><p>Our initial strategy was to ask a bunch of questions about people's current email automation strategies and try to turn the initial conversation into a sales pitch. We'd learn fast and get a few sales in the meantime.</p><p>Sounds easy, right? Well, it was not.</p><h2>What a failed sales conversation looks like</h2><p>After my first couple of calls I knew I was doing something wrong, but didn't know what it was. Sign ups were rarely because of my "sales" 1-1s, and every conversation left me with a sour feeling.</p><p>What usually happened was that I got to a call, asked the person a couple of questions about their strategies, and at some point I'd get nervous and start talking a lot. People are usually nice and would listen to what I had to say, but I could feel they weren't really interested, and felt like I was wasting time.</p><p>So what was I doing wrong?</p><p>After talking with my co-founder and a couple of friends in the SaaS industry, I found that I wasn't really paying attention to what prospects were saying. My team would ask questions about our prospects that I didn't know how to answer.</p><p>That meant I wasn't really selling, but I also wasn't learning about our users. I found I had to learn how to listen first, and sell later.</p><h2>How to talk less and sell more</h2><p>Listening to prospects is not at easy as it sounds when you are worried about selling them your solution. Specially if you're in early stage and don't have much experience selling software, it'll be hard to keep a clear mind and letting the user take the conversation where they want to.</p><p>But here's the thing: selling isn't about convincing people to try your product, it's about identifying how your product can solve a problem for them.</p><p>In a direct sales conversation, you should have two take outs:</p><ol><li>Identifying if the person you're talking to has a problem you could solve (the more details the better)</li><li>Communicating clearly how your product is a solution to their problem.</li></ol><p>If you fail at #1, you'll end up trying to convince people who don't actually have a problem you could help them with. Those are not your users, and there's nothing you can do today to make their life easier. Even if you somehow convince them to sign up, they'll probably cancel their subscription, making your churn go up.</p><p>Failing at #2 is usually connected to #1, because the only way of communicating a solution clearly is to understand the problem perfectly. You have to <strong>listen really carefully</strong> to understand what those problems are.</p><p>Most of your conversations with prospects should be about #1. Make a lot of questions. Listen closely and follow up on what isn't clear. Make the other person feel listened to. Worst case scenario, you end up with valuable insights about what problems people have. As an early stage startup, this information is crucial to find product-market fit.</p><p>Here are some lessons I learned while taking a direct sales approach to SaaS. Most of them came from reading <a href="http://momtestbook.com/">The Mom Test</a>, talking to awesome people and experimenting on my own.</p><h2>3 direct sales tips to listen to your users</h2><h3>Writing down what you want to get from the conversation</h3><p>This list should be really short. My initial conversation guide had 15+ questions to get to understand the problem, and then a short demo. It worked kinda fine, but I usually got lost by question 5, and then started thinking about what to ask next instead of listening to the answer.</p><p>The Mom Test suggests you should "prepare your list of 3". Three things you want to get from each conversation, depending on who you'll be talking to. And that was magic.</p><p>In early Palabra demos, when I asked to have a quick chat to someone in a startup, I usually had three different scenarios:</p><ul><li>The founder talked to me directly, who had no details about the email automation strategies his/her team was using but could provide context.</li><li>I talked to a marketer in the startup, who usually had many years of experience and had tried a bunch of other email automation tools.</li><li>I talked to a technical co-founder or dev, who had a lot of questions about technical aspects of Palabra and had tried different integrations before.</li></ul><p>I prepared three different notes to look at before each conversation, one for each "buyer" persona, and wrote down my list of three.</p><p>I started asking questions that came to mind from listening to what people were saying, and spend almost no time looking at my notes. If I ever felt I was starting to get lost, I just glanced to my list of three for that particular person to check if I was missing something. Freedom.</p><h3>Having a structured set of questions</h3><p>This advice came from a great friend and the <a href="http://sofandrade.com/">best UX designer I've met</a>. She knows all about user interviews, and since I was also trying to learn from our prospects, I knew it would help. Her advice was to divide my questions into chunks or topics I wanted to know about.</p><p>Having differentiated topics gives you flexibility to follow the conversation and not worry about what to ask after each answer. If you ask a question from the first topic and your user's answer goes to a slightly different topic, you can go to that part of your guide and then come back after that's done.</p><p>As an example, this was the structure I ended up using for each guide:</p><ul><li>About them/their job/their goals</li><li>About their emails, what they were using them from</li><li>About their email automation tools, what they were using and how</li><li>About their pains, what was missing from their current tools?</li></ul><p>What usually happened is that my email questions got answers related to tools. So I just moved over to the "tools" set of questions and then looked to see if I was missing something important at the end.</p><p>A smart move was to leave questions about pains for last. By then I usually had enough information about their problem and could offer a clear solution with <a href="https://www.palabra.io/?utm_medium=direct-sales-tips-startups&amp;utm_source=blog">Palabra</a>.</p><p>If we had a solution, I'd briefly tell people why I thought this would work, and offered to show them in a demo. By focusing on their specific solution in the demo, I only showed one feature and not the whole product, which was a much better use of everyone's time.</p><h3>Doing some background research - but still ask people</h3><p>You can't go into a sales pitch without knowing who you're talking to. For B2B sales you need to know about the company and the person you're actually going to talk to. The key here is to use that information wisely.</p><p>I used to start conversations on what I'd learned from their landing page, to let people know I had done my homework. But his was actually making me start with the wrong foot -by talking too much.</p><p>Asking about their company and what they do there gives you inside information you wouldn't get from LinkedIn or a landing page. And it also helps break the ice, since it's an easy answer for anyone.</p><p>My solution was full transparency. I started each conversation by saying I had done a bit of research about them but still wanted to hear from themselves. Then I would ask what they usually do.</p><p>This was incredibly effective. Being honest took away all of my nervousness and allowed me to relax into the conversation. I felt like I had no secrets, I was just telling the truth and asking questions. And I think this works both ways: the person you're talking to will probably trust you more if you're …</p></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.palabra.io/learning-to-listen-direct-sales-tips-for-early-stage-startups">https://blog.palabra.io/learning-to-listen-direct-sales-tips-for-early-stage-startups</a></em></p>]]>
            </description>
            <link>https://blog.palabra.io/learning-to-listen-direct-sales-tips-for-early-stage-startups</link>
            <guid isPermaLink="false">hacker-news-small-sites-24492609</guid>
            <pubDate>Wed, 16 Sep 2020 13:40:24 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to Make Friends as an Adult]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 6 (<a href="https://news.ycombinator.com/item?id=24492550">thread link</a>) | @lemonberry
<br/>
September 16, 2020 | https://psyche.co/guides/how-to-make-new-friends-when-youre-busy-with-adulthood | <a href="https://web.archive.org/web/*/https://psyche.co/guides/how-to-make-new-friends-when-youre-busy-with-adulthood">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><section><div><h2 data-guide-section-number="1"><span>Need to know</span></h2><div><p>Friends are a treasure. In an uncertain world, they provide a comforting sense of stability and connection. We laugh together and cry together, sharing our good times and supporting each other through the bad. Yet a defining feature of friendship is that itâ€™s voluntary. Weâ€™re not wedded together by law, or through blood, or via monthly payments into our bank accounts. It is a relationship of great freedom, one that we retain only because we want to.</p>
<p>But the downside of all this freedom, this lack of formal commitment, is that friendship often falls by the wayside. Our adult lives can become a monsoon of obligations, from children, to partners, to ailing parents, to work hours that trespass on our free time. A <a href="https://psycnet.apa.org/doiLanding?doi=10.1037%2Febs0000046">study</a> of young adultsâ€™ social networks by researchers at the University of Oxford found that those in a romantic relationship had, on average, two fewer close social ties, including friends. Those with kids had lost out even more. Friendships crumble, not because of any deliberate decision to let them go, but because we have other priorities, ones that arenâ€™t quite as voluntary. The title of the Oxford paper summed up things well: â€˜Romance and Reproduction Are Socially Costlyâ€™.</p>
<p>Such is the pace and busyness of many peopleâ€™s adult lives that they can lose contact with their friends at a rapid rate. For instance, a <a href="https://www.sciencedirect.com/science/article/pii/S0378873313001056?via%3Dihub">study</a> by the Dutch sociologist Gerald Mollenhorst found that, over a period of seven years, people had lost touch with half of their closest friends, on average. Whatâ€™s especially alarming is that many of us seem to be losing friends faster than we can replace them. A <a href="https://psycnet.apa.org/record/2012-13785-001">meta-analysis</a> by researchers in Germany published in 2013 combined data from 177,635 participants across 277 studies, concluding that friendship networks had been shrinking for the preceding 35 years. For example, in studies conducted between 1980 and 1985, participants reportedly had four more friends on average, compared with the participants whoâ€™d taken part in studies between 2000 and 2005.</p>
<p>If weâ€™re not careful, we risk living out our adulthoods friendless. This is a situation thatâ€™s worth avoiding. Friends are not only a great source of fun and <a href="https://www.pewforum.org/2018/11/20/where-americans-find-meaning-in-life/">meaning</a> in life, but studies <a href="https://academic.oup.com/psychsocgerontology/article/74/2/222/3760165">suggest</a> that, without them, weâ€™re also at greater risk of feeling more depressed. Itâ€™s telling that in their <a href="https://journals.sagepub.com/doi/10.1111/1467-9280.00415">study</a> â€˜Very Happy Peopleâ€™ (2002), the American psychologists Ed Diener and Martin Seligman found that a key difference between the most unhappy and most happy people was how socially connected they were. Friends give us so much, which is why we need to invest in making them. Hereâ€™s how.</p></div></div></section><section><div><h2 data-guide-section-number="2"><span>What to do</span></h2><div><p>Making more friends in adulthood is going to take some deliberate effort on your part. Itâ€™s an exciting challenge in theory, but one of the first obstacles youâ€™ll encounter is having enough confidence. Especially if you are shy by nature, putting yourself out there can seem scary, triggering fears of rejection. These fears might lead you to engage in two types of avoidance that will inhibit your ability to make friends. First, you might practise â€˜overt avoidanceâ€™, by not putting yourself in situations where itâ€™s possible to meet new people. Instead of going to your friendâ€™s movie night, with the chance to meet others, you end up staying at home. Second, you might find yourself engaging in â€˜covert avoidanceâ€™, which means that you show up but donâ€™t engage with people when you arrive. You go to the movie night, but while everyone else is analysing the film after itâ€™s over, you stay silent in the corner, petting someoneâ€™s pet corgi and scrolling through Instagram.</p>
<p><strong>Assume that people like you</strong></p>
<p>Both these forms of avoidance are caused by understandable fears of rejection. So imagine how much easier it would be if you knew that, were you to show up in a group of strangers, most of them would love you and find you interesting. This mindset actually has a self-fulfilling quality â€“ an American <a href="https://doi.apa.org/doiLanding?doi=10.1037%2F0022-3514.51.2.284">study</a> from the 1980s found that volunteers who were led to believe that an interaction partner liked them began to act in ways that made this belief more likely to come true â€“ they shared more about themselves, disagreed less, and had a more positive attitude. This suggests that if you go into social situations with a positive mindset, assuming people like you, then itâ€™s more likely that this will actually turn out to be the case.</p>
<p>Of course, you might still be reluctant to assume others like you because you donâ€™t believe itâ€™s true. If this is you, you might take comfort from research that found, on average, that strangers like us more than we realise. The <a href="https://journals.sagepub.com/doi/10.1177/0956797618783714">paper</a>, by Erica J Boothby at Cornell University and colleagues, involved having pairs of strangers chat together for five minutes, to rate how much they liked their interaction partner, and to estimate how much their partner liked them. Across a variety of settings and study durations â€“ in the lab, in a college dorm, at a professional development workshop â€“ the same pattern emerged. People underestimated how much they were liked, a phenomenon that Boothby and her colleagues labelled â€˜the liking gapâ€™.</p>
<p>What wisdom should we take from this research? It can remind us to go into new social events assuming that people will like us. It can keep us from being paralysed by fears of rejection, pushing us to question some of these fears. Try working on your internal dialogue, your inner voice that perhaps makes overly negative assumptions about how people will respond to you. Doing this will help give you the confidence to go out there and start initiating friendly contact with strangers.</p>
<p><strong>Initiate</strong></p>
<p>In <em>We Should Get Together: The Secret to Cultivating Better Friendships</em> (2020), Kat Vellos describes being inspired to write her book after a moment of feeling utterly alone. She was looking for a friend to hang out with, so she posted on Facebook: â€˜Who wants to go eat French fries and talk about life with me?â€™ Everyone who responded lived in another state; her local San Francisco Bay Area friends were all booked up. As she put it:</p>
<blockquote>I didnâ€™t just want to eat snacks and talk about life. I was craving a different kind of life â€“ one that would give me abundant access to friends who wanted to see me as much as I wanted to see them.</blockquote>
<p>This experience made Vellos realise that she needed more friends, so she created and executed a plan to make some. Eventually, she was running two successful meetup groups, and had established friendships with people she liked and wanted to get closer to. How did she change her life? She initiated. Vellos set aside time to reach out to people regularly, to revitalise old relationships and to awaken new ones, to check in, to find time to hang out. Her story reveals how initiative can change the course of our friendships.</p>
<p>To embrace the importance of initiating, you must to let go of the myth that friendship happens organically. You have to take responsibility rather than waiting passively. Science backs this up. Consider a <a href="https://journals.sagepub.com/doi/pdf/10.1177/0265407509106718">study</a> of older adults in the Canadian province of Manitoba. The participants who thought friendship was something that just happened based on luck tended to be less socially active and to feel lonelier when the researchers caught up with them five years later. By contrast, those who thought friendship took effort actually made more effort â€“ for example, by showing up at church or at community groups â€“ and this paid dividends, in that they felt less lonely at the five-year follow-up.</p>
<p>But itâ€™s not just showing up that matters, itâ€™s saying â€˜helloâ€™ when you get there. This means introducing yourself to other people, asking them for their phone numbers, following up and asking them to hang out. Initiating is a process, one that we must do over and over again to make new friendships.</p>
<p>Initiation is particularly important for people who find themselves in new social settings â€“ such as people who have moved to a new city, started a new school or job. In a <a href="https://psycnet.apa.org/record/1987-97266-009">study</a> of first-year undergraduates at the University of Denver in 1980, it was those students who rated themselves as having superior social skills who managed to develop more satisfying social relationships. Moreover, in the Fall, when everyone was new, it was specifically â€˜initiation skillâ€™ that was most important. Once friendships were more stable, it didnâ€™t matter as much.</p>
<p>Although we might fear that other people will turn us down if we initiate with them, the research finds that this is a lot less likely than we might think. When the American psychologists Nicholas Epley and Juliana Schroeder <a href="https://psycnet.apa.org/record/2014-28833-001">asked</a> research participants to open up conversations with their fellow train commuters, can you guess how many of them were shot down? None! Epley and Schroder concluded that: â€˜Commuters appeared to think that talking to a stranger posed a meaningful risk of social rejection. As far as we can tell, it posed no risk at all.â€™</p>
<p><strong>Keep showing up</strong></p>
<p>Once youâ€™ve initiated some new contacts, the challenge of turning them into genuine friendships begins. I learned this lesson when I moved to Atlanta to start a job as assistant professor. At first, I was proactive at making friends. I showed up to events, asked my friends if they knew anyone in the area, and went to some meetup groups. I met a few people, but most of these friendships fizzled. I was good at sparking a connection but struggled to sustain it.</p>
<p>According to Rebecca G Adams, professor of sociology and gerontology at the University of North Carolina at Greensboro, sociologists have long <a href="https://www.nytimes.com/2012/07/15/fashion/the-challenge-of-making-friends-as-an-adult.html">recognised</a> that friendships thrive when we have continuous interaction. My problem with sustaining connection was that I lacked the opportunity for repeated encounters. Going to a lecture, or a happy hour, or a networking event afforded me only one opportunity to connect. If you can, itâ€™s a better idea to sign up for activities that give you multiple opportunities to connect, such as a language class, a writing course, an …</p></div></div></section></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://psyche.co/guides/how-to-make-new-friends-when-youre-busy-with-adulthood">https://psyche.co/guides/how-to-make-new-friends-when-youre-busy-with-adulthood</a></em></p>]]>
            </description>
            <link>https://psyche.co/guides/how-to-make-new-friends-when-youre-busy-with-adulthood</link>
            <guid isPermaLink="false">hacker-news-small-sites-24492550</guid>
            <pubDate>Wed, 16 Sep 2020 13:35:14 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[10 Reasons for Choosing Apache Pulsar over Apache Kafka]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24492444">thread link</a>) | @mxmxm
<br/>
September 16, 2020 | https://maximilianmichels.com/2020/apache-pulsar-vs-apache-kafka/ | <a href="https://web.archive.org/web/*/https://maximilianmichels.com/2020/apache-pulsar-vs-apache-kafka/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      

      <article itemscope="" itemtype="http://schema.org/BlogPosting">
  

  <div itemprop="articleBody">
    <!--excerpt.begin-->
<p>I’ve been taking a closer look at <a href="https://pulsar.apache.org/">Apache Pulsar</a> and how it relates to <a href="https://kafka.apache.org/">Apache Kafka</a>. In case you are curious, here are ten of my findings:
<!--excerpt.end--></p>

<ol>
  <li>
    <p>Pulsar’s brokers are stateless. The state is kept in a separate storage layer (<a href="https://bookkeeper.apache.org/">Apache BookKeeper</a>). This means you can leverage a new broker without the need to re-partition existing data, which is required by Kafka.</p>
  </li>
  <li>
    <p>Pulsar’s storage layer is organized into segments which are spread across all storage nodes. Segments can be written to the main storage or off-loaded to a different type of storage. This allows Pulsar to offer tiered storage which Kafka does not support yet.</p>
  </li>
  <li>
    <p>For replication, Pulsar uses a quorum-based algorithm, as opposed to a leader/follower-based approach in Kafka. The guarantees are the same, but the quorum approach tends to yield lower and more consistent latencies.</p>
  </li>
  <li>
    <p>Pulsar includes support for multi-tenancy which allows multiple user groups to share the same cluster, either via access control, or in entirely different namespaces. In Kafka, this is still under discussion.</p>
  </li>
  <li>
    <p>Pulsar offers full end-to-end encryption from the client to the storage nodes. Kafka currently does not have end-to-end encryption.</p>
  </li>
  <li>
    <p>Pulsar speaks other protocols such as RabbitMQ, AMQP, or even Kafka (!) which makes it easy to integrate Pulsar with existing applications. Further, there is support for <a href="https://prestodb.io/">Presto</a>.</p>
  </li>
  <li>
    <p>Pulsar Functions is a way to do lightweight stream processing on top of Pulsar, conceptually similar to Kafka Streams. What I found interesting is that Pulsar’s functions are directly deployed on the broker nodes, whereas Kafka’s streams run as separate applications.</p>
  </li>
  <li>
    <p>The Pulsar community has been very open about the limitations of Pulsar Functions, e.g. state management and DAG flows. In case Pulsar Functions doesn’t do it for you, there is an actively maintained <a href="https://github.com/streamnative/pulsar-flink">Pulsar &lt;&gt; ApacheFlink connector</a>.</p>
  </li>
  <li>
    <p>It’s not all sunshine and rainbows: Pulsar requires two systems: Apache BookKeeper and Apache Zookeeper. Kafka just requires Zookeeper. More systems could increase the operational complexity. On the other hand, it’s also the reason why Pulsar provides additional flexibility.</p>
  </li>
  <li>
    <p>Pulsar is not new. It was originally developed and used at Yahoo, later donated to the <a href="https://apache.org/">Apache Software Foundation</a> in 2016. It’s used by Tencent, Splunk, and many others at large scale.</p>
  </li>
</ol>

<p>Obviously, this is not a full comparison of Apache Pulsar and Apache Kafka, but rather a compilation of the things I was surprised to find out about Pulsar, coming from the Kafka landscape.</p>

<p><a href="https://twitter.com/stadtlegende/status/1300461546578087936">Join the conversation on Twitter</a>.</p>

    


  </div>
</article>





      



    </div></div>]]>
            </description>
            <link>https://maximilianmichels.com/2020/apache-pulsar-vs-apache-kafka/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24492444</guid>
            <pubDate>Wed, 16 Sep 2020 13:23:09 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The State of Swift for WebAssembly in 2020]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24492409">thread link</a>) | @maxdesiatov
<br/>
September 16, 2020 | https://desiatov.com/swift-webassembly-2020/ | <a href="https://web.archive.org/web/*/https://desiatov.com/swift-webassembly-2020/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-reactid="51"><p>It probably all started with <a href="https://github.com/emscripten-core/emscripten/issues/2427">an innocently-looking issue in the <code>emscripten</code>
repository</a> back in 2014:</p>
<p>
  <a href="https://desiatov.com/static/emscripten-1cc5974c26da770acca2d55922601864-3b8fd.png" target="_blank" rel="noopener">
  
  <span>
    <span>
      <img alt="A screenshot of a GitHub issue with title " unable="" to="" compile="" a="" simple="" swift="" file="" (maybe="" not="" possible?)"="" and="" text="" "hi="" team,="" playing="" around="" with="" emscripten="" in="" earnest="" for="" the="" first="" time,="" my="" usual="" area="" of="" work="" so="" apologies="" if="" this="" is="" clearly="" never="" going="" work.="" what="" i'd="" like="" do="" program="" js""="" title="" src="https://desiatov.com/static/emscripten-1cc5974c26da770acca2d55922601864-fb8a0.png" srcset="https://desiatov.com/static/emscripten-1cc5974c26da770acca2d55922601864-1a291.png 148w,
https://desiatov.com/static/emscripten-1cc5974c26da770acca2d55922601864-2bc4a.png 295w,
https://desiatov.com/static/emscripten-1cc5974c26da770acca2d55922601864-fb8a0.png 590w,
https://desiatov.com/static/emscripten-1cc5974c26da770acca2d55922601864-526de.png 885w,
https://desiatov.com/static/emscripten-1cc5974c26da770acca2d55922601864-fa2eb.png 1180w,
https://desiatov.com/static/emscripten-1cc5974c26da770acca2d55922601864-3b8fd.png 1535w" sizes="(max-width: 590px) 100vw, 590px">
    </span>
  </span>
  
  </a>
    </p>
<p>For context, back in 2014 <a href="https://en.wikipedia.org/wiki/Emscripten">the Emscripten project</a> was
built as a backend for <a href="https://llvm.org/">LLVM</a>-based compilers. While initially it produced
JavaScript and later its low-level subset <a href="https://en.wikipedia.org/wiki/Asm.js">asm.js</a>, Emscripten
now mainly targets <a href="https://en.wikipedia.org/wiki/WebAssembly">WebAssembly</a>.</p>
<p>As I wrote <a href="https://desiatov.com/why-webassembly#title">in my previous article</a>, the availability of a virtual machine in all
relatively recent major browsers makes a lot of code much more portable. It easily follows that
Swift targeting WebAssembly would essentially make Swift available in some form on all platforms
that have browsers with WebAssembly support.</p>
<p>I started thinking seriously about it in 2018, but I remember having some passing interest in
Emscripten and potential Swift support probably much earlier. By 2018 Swift was available on
Linux for two years already, people were actively trying to make it work well on Android, and
WebAssembly support in upstream LLVM became more or less stable, especially with <a href="https://rustwasm.github.io/">WebAssembly
support in the Rust compiler</a> maturing to some point of usability.
In September I started playing with forks and patches that were shared in the original Emscripten
thread, and <a href="https://github.com/emscripten-core/emscripten/issues/2427#issuecomment-423216845">posted a quick
update</a>:</p>
<p>
  <a href="https://desiatov.com/static/llvm7-progress-67c22b8c34a68e636f96a20f6b9a85e6-bc3d3.png" target="_blank" rel="noopener">
  
  <span>
    <span>
      <img alt="A screenshot of my comment for the same issue: " llvm="" 7.0="" was="" released="" yesterday="" with="" a="" lot="" of="" progress="" for="" webassembly="" target="" support.="" while="" the="" backend="" is="" still="" marked="" as="" experimental,="" not="" much="" patching="" upstream="" repositories="" should="" be="" needed.="" i've="" pulled="" updates="" into="" apple="" swift's="" fork="" and="" rebased="" changes="" in="" main="" swift="" repository="" by="" @patcheng,="" also="" fixing="" few="" compilation="" issues.""="" title="" src="https://desiatov.com/static/llvm7-progress-67c22b8c34a68e636f96a20f6b9a85e6-fb8a0.png" srcset="https://desiatov.com/static/llvm7-progress-67c22b8c34a68e636f96a20f6b9a85e6-1a291.png 148w,
https://desiatov.com/static/llvm7-progress-67c22b8c34a68e636f96a20f6b9a85e6-2bc4a.png 295w,
https://desiatov.com/static/llvm7-progress-67c22b8c34a68e636f96a20f6b9a85e6-fb8a0.png 590w,
https://desiatov.com/static/llvm7-progress-67c22b8c34a68e636f96a20f6b9a85e6-526de.png 885w,
https://desiatov.com/static/llvm7-progress-67c22b8c34a68e636f96a20f6b9a85e6-bc3d3.png 1150w" sizes="(max-width: 590px) 100vw, 590px">
    </span>
  </span>
  
  </a>
    </p>
<p>The positive reaction surprised me to say the least, I knew the thread was long-running, but I
didn’t expect people to actually pay attention to it, and I still thought that WebAssembly was
perceived as a fringe technology at the time. </p>
<p>Unfortunately, both LLVM and the Swift toolchain are not documented really well. Additionally, as I
learned from my own mistakes, to comfortably work with the codebase you have to be proficient not
just in C++ and compiler internals, but also in CMake, Python and Shell to be able to wrangle the
huge build system of the toolchain. Powerful hardware is also required, as clean builds can take
hours, and incremental builds are not very reliable. I didn’t know what I was doing, and even now
I’m just winging it. 🙈 I was just trying to resolve conflicts in patches from other people (mainly
<a href="https://github.com/patcheng">Patrick Cheng</a>) and to make at least some code to build without
errors. <a href="https://www.scribd.com/document/438739993/Compilers-principles-techniques-and-tools-Aho-Alfred-V-Sethi-Ravi-Ullman-Jeffrey-D-1942">A book that I read many years
ago</a>
and <a href="https://modocache.io/">blog posts by Brian Gesiak</a> and <a href="https://matt.diephouse.com/swift/">Matt
Diephouse</a> gave me some understanding of what things looked like,
and confidence that people outside Apple can do some work on it too.</p>
<p>
  <a href="https://desiatov.com/static/compilers-dragon-book-5e207a53e8b69862175e4811ffcb40b4-e5220.jpg" target="_blank" rel="noopener">
  
  <span>
    <span>
      <img alt="The cover of " compilers:="" principles,="" techniques,="" and="" tools"="" by="" alfred="" v.="" aho,="" ravi="" sethi,="" jeffrey="" d.="" ullman="" published="" addison="" wesley."="" title="" src="https://desiatov.com/static/compilers-dragon-book-5e207a53e8b69862175e4811ffcb40b4-f8fb9.jpg" srcset="https://desiatov.com/static/compilers-dragon-book-5e207a53e8b69862175e4811ffcb40b4-e8976.jpg 148w,
https://desiatov.com/static/compilers-dragon-book-5e207a53e8b69862175e4811ffcb40b4-63df2.jpg 295w,
https://desiatov.com/static/compilers-dragon-book-5e207a53e8b69862175e4811ffcb40b4-f8fb9.jpg 590w,
https://desiatov.com/static/compilers-dragon-book-5e207a53e8b69862175e4811ffcb40b4-e5220.jpg 768w" sizes="(max-width: 590px) 100vw, 590px">
    </span>
  </span>
  
  </a>
    </p>
<p><small>This book, a couple of blog posts from other people, my rusty (no pun intended!) knowledge of
C++, Python and Shell scripting, and my MacBook Pro 2018 (I still hate that keyboard) were probably
the only weapons I had when I started fighting the dragon.</small></p>
<p>I was trying to keep up with upstream Swift and LLVM changes, working on it on and off, with some
things building, but nothing still worked end-to-end. By February 2019 I was blocked by Swift’s
reliance on <a href="https://en.wikipedia.org/wiki/POSIX_Threads">the pthreads API</a> and
<a href="https://en.wikipedia.org/wiki/Linearizability#Primitive_atomic_instructions">atomics</a>, none of
which were available in the initial version of WebAssembly (and still aren’t enabled in all browsers
by default). I was only able to work on it nights and weekends, while still doing software
consulting work during weekdays, which was my main source of income at the time. I still didn’t have
enough knowledge of the toolchain to make all necessary changes, and just resolving the conflicts
and waiting for multi-hour builds to complete consumed all the efforts I could spend on it.</p>
<p>The most significant move forward happened when <a href="https://twitter.com/zhuowei">Zhuowei Zhang</a> made it
all work with the freshly available <a href="https://wasi.dev/">WASI</a> API and fixed most blocking runtime,
<a href="https://belkadan.com/blog/2020/09/Swift-Runtime-Type-Metadata/">metadata</a> and linking issues. By
April-May 2019 <a href="https://github.com/SwiftWasm">the SwiftWasm organization</a> was set up with first
toolchain builds uploaded and working with basic example code. He also deployed <a href="https://swiftwasm.org/">the SwiftWasm
website</a> that hosts a simple demo, allowing you to download the compiled
WebAssembly binary.</p>
<p>
  <a href="https://desiatov.com/static/swiftwasm-announcement-b720e6d807c16be74db235821b0f420e-66900.png" target="_blank" rel="noopener">
  
  <span>
    <span>
      <img alt="A tweet from @zhuowei: " you="" can="" now="" compile="" swift="" to="" webassembly="" run="" on="" the="" web.="" try="" it="" right="" in="" your="" browser="" at="" https:="" swiftwasm.org!="" want="" help?="" join="" us="" @swiftwasm."="" retweeted="" by="" @clattner_llvm"="" title="" src="https://desiatov.com/static/swiftwasm-announcement-b720e6d807c16be74db235821b0f420e-fb8a0.png" srcset="https://desiatov.com/static/swiftwasm-announcement-b720e6d807c16be74db235821b0f420e-1a291.png 148w,
https://desiatov.com/static/swiftwasm-announcement-b720e6d807c16be74db235821b0f420e-2bc4a.png 295w,
https://desiatov.com/static/swiftwasm-announcement-b720e6d807c16be74db235821b0f420e-fb8a0.png 590w,
https://desiatov.com/static/swiftwasm-announcement-b720e6d807c16be74db235821b0f420e-526de.png 885w,
https://desiatov.com/static/swiftwasm-announcement-b720e6d807c16be74db235821b0f420e-fa2eb.png 1180w,
https://desiatov.com/static/swiftwasm-announcement-b720e6d807c16be74db235821b0f420e-66900.png 1194w" sizes="(max-width: 590px) 100vw, 590px">
    </span>
  </span>
  
  </a>
    </p>
<p><small>The fact that <a href="https://en.wikipedia.org/wiki/Chris_Lattner">Chris Lattner</a> himself is
interested in WebAssembly support is incredibly motivating!</small></p>
<p>Unfortunately, neither Zhuowei, nor I could put much time into making this work for something more
complex than a simple example. Specifically, on a lower level the Swift compiler makes a distinction
between <a href="https://github.com/apple/swift/blob/release/5.3/docs/SIL.rst#function-types">“thin” and “thick”
closures</a>. Thin
closures are trivial, they don’t capture any surrounding vairables in its context (you can read more
details about closure environment <a href="https://desiatov.com/closures#title">in one of my previous articles</a>). Also, Swift
error handling is implemented on a lower level as an additional pointer argument passed to throwing
functions, but thin closures can’t be throwing as they don’t take that argument. Thick closures
expect both context and error pointer arguments to be passed to them. These closure types might
seem to be incompatible, but on a high level Swift allows you to pass non-throwing closures where
throwing ones are expected:</p>

    <div data-language="swift">
      <pre><code><span>
</span><span>func</span><span> </span><span>f</span><span>(</span><span>_</span><span> </span><span>a</span><span>:</span><span> </span><span>(</span><span>Int</span><span>)</span><span> </span><span>-&gt;</span><span> </span><span>Void</span><span>)</span><span> </span><span>{</span><span>
</span><span>  </span><span>
</span><span>  </span><span>g</span><span>(</span><span>a</span><span>)</span><span>
</span><span>}</span><span>

</span><span>
</span><span>func</span><span> </span><span>g</span><span>(</span><span>_</span><span> </span><span>b</span><span>:</span><span> </span><span>(</span><span>Int</span><span>)</span><span> </span><span>throws</span><span> </span><span>-&gt;</span><span> </span><span>Void</span><span>)</span><span> </span><span>{</span><span>
</span><span>    </span><span>try</span><span>!</span><span> </span><span>b</span><span>(</span><span>1</span><span>)</span><span>
</span><span>}</span><span>

</span><span>f</span><span> </span><span>{</span><span> </span><span>_</span><span> </span><span>in</span><span> </span><span>}</span></code></pre>
    </div>
<p>This works on a lower level, because none of the existing hardware architectures care if you cast a
function with a specific number of arguments to a function with less arguments and ignore the rest
of them. You can compile the corresponding C code to x86 or ARM64 and it will work just fine:</p>

    <div data-language="clike">
      <pre><code><span>#include</span><span> </span><span>&lt;</span><span>stdio</span><span>.</span><span>h</span><span>&gt;</span><span>

</span><span>void</span><span> </span><span>closure</span><span>(</span><span>int</span><span> </span><span>argument</span><span>, </span><span>void</span><span> </span><span>*</span><span>context</span><span>, </span><span>void</span><span> </span><span>*</span><span>error</span><span>) {</span><span>
</span><span>  </span><span>printf</span><span>(</span><span>"Argument is %d\n"</span><span>, </span><span>argument</span><span>);</span><span>
</span><span>}</span><span>

</span><span>int</span><span> </span><span>main</span><span>(</span><span>void</span><span>) {</span><span>
</span><span>  </span><span>void</span><span> (</span><span>*</span><span>dropArguments</span><span>)(</span><span>int</span><span>) </span><span>=</span><span> </span><span>&amp;</span><span>closure</span><span>;</span><span>
</span><span>  </span><span>dropArguments</span><span>(</span><span>42</span><span>);</span><span>
</span><span>}</span></code></pre>
    </div>
<p>Swift relies on the same trick where thin closures are cast as thick, and this was never a problem
that the Swift compiler previously encountered. WebAssembly is much stricter though when casting
function pointers. This C code will just crash when compiled to WebAssembly, and quite possibly you
won’t be able to launch it at all. Wasm hosts are required to run validation on supplied binaries
before execution. One of the validation checks includes verification that caller and callee function
signatures match exactly to each other in the number of arguments. </p>
<p>This caused crashes in almost all non-trivial Swift code, as a lot of the standard library functions
(<code>map</code> being the most widely used example) can take a throwing closure as an argument, but also
accept a non-throwing one. Fortunately, we’ve reached yet another significant milestone when <a href="https://github.com/kateinoigakukun">Yuta
Saito</a> submitted <a href="https://github.com/swiftwasm/swift/pull/6">a
PR that worked around this problem</a> in October 2019.
The whole issue of Swift relying on the function arguments mismatch trick still bites us
here and there, but at least we’re now aware of it, and all known instances of it are fixed in our
fork.</p>
<h2>What’s going on with SwiftWasm in 2020?</h2>
<p>By end of January 2020 <a href="https://github.com/swiftwasm/swift/pull/34">Yuta set up automated upstream
tracking</a> with the wonderful <a href="https://github.com/wei/pull/"><code>pull</code> GitHub
app</a> that automatically submits PRs with changes from <a href="https://github.com/apple/swift/">Apple’s
repository</a> to our fork. Thanks to this we no longer needed to do
it manually to keep up with upstream.</p>
<p>In February-March I no longer had any full-time consulting engagements and decided that it was a
good opportunity to focus on open-source work full-time instead. The COVID thing has just started,
but it was also clear that it wouldn’t be easy to find consulting clients anyway in this economic
environment. In the meantime I wanted to polish some of the other open-source libraries I maintain,
and to focus on SwiftWasm as the next big thing in Swift for me personally. I’ve been doing it since
then, funding the efforts with my own savings and partially <a href="https://github.com/sponsors/MaxDesiatov">with the help from amazing GitHub
sponsors</a>.</p>
<p>There’s a big dilemma here in my SwiftWasm development strategy. I can spend my time either on
submitting the changes from our SwiftWasm fork to the upstream Swift repository, or on developing
user libraries, improving documentation and writing example code. Kickstarting the ecosystem
allows people to build apps and lowers the barrier for contributions from the community, even
without WebAssembly becoming a platform officially supported in upstream distributions of Swift. </p>
<p>Submitting PRs upstream on the other hand is very time consuming. Not only the changes need to be
polished to a high standard, but also, due to the reasons I’ve mentioned above, working on the
toolchain requires a ton of effort. On top of that, due to the limited amount of people available to
review PRs to the official Swift repository, sometimes you need to wait weeks for a review. Then if
any changes were requested, you apply the changes and wait for weeks again for a re-review. Obviously,
we can’t submit one giant PR for everything. So with about 150 files changed in our fork just in the
main <code>swift</code> toolchain repository this will be multiplied by dozens if not a hundred PRs. There’s
also a comparable amount of changes to <a href="https://github.com/swiftwasm/swift-corelibs-foundation/">the Foundation
library</a>.</p>
<p>At the same time, making all the changes available upstream would be a great boost to the overall
visibility of the project. But it doesn’t necessarily mean that the WebAssembly SDK will be
distributed with Xcode or with any other official Swift distribution. Most probably, Swift
developers targeting Wasm would need to download the toolchain and SDK separately just as they do
now. This download and installation process is already automated with <a href="https://carton.dev/">a developer
tool</a> we had to build for SwiftWasm anyway, so I don’t think that official
support would have a big impact on the actual developer experience. Given that I’m not employed by
any company funding this work, and that my savings and sponsorship revenue are limited, I decided
I’d rather spend the next months building libraries and writing documentation for our users rather
than drown in the upstreaming process, even though <a href="https://github.com/swiftwasm/swift/issues/187">some PRs have already been
submitted</a> and a subset of those have been merged.
This doesn’t mean that upstreaming work will never be completed. It just won’t happen as soon as
some would expect, at least without more people joining the project and helping us out with this.</p>
<p>In April I was sure that we were still pretty far from SwiftWasm becoming usable in complex
projects, but Yuta managed …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://desiatov.com/swift-webassembly-2020/">https://desiatov.com/swift-webassembly-2020/</a></em></p>]]>
            </description>
            <link>https://desiatov.com/swift-webassembly-2020/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24492409</guid>
            <pubDate>Wed, 16 Sep 2020 13:17:39 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Sky Drone Data Centers Cover the Globe for Unlimited Range Bvlos Flights]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24492131">thread link</a>) | @SkyDrone
<br/>
September 16, 2020 | https://www.skydrone.aero/blogs/news/global-sky-drone-data-centers | <a href="https://web.archive.org/web/*/https://www.skydrone.aero/blogs/news/global-sky-drone-data-centers">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
          <p><img src="https://cdn.shopify.com/s/files/1/1208/5116/files/2020-09-16_datacenter-map.png?v=1600247179" alt="Sky Drone - Global Data Centers" width="" height=""></p>
<p>Sky Drone products establish P2P connections between the device on the drone and the ground control station. To ensure such connection can be established <strong>quickly</strong>, Sky Drone maintains servers across the globe that hold some basic meta data to allow the ground control station software on the grown to find the Sky Drone device on the drone. The closest data center to the device's location is being used to ensure low latency and high speed. Find out more on <a href="https://www.skydrone.aero/pages/how-it-works" title="Sky Drone - How it works">How it works</a>.</p>
<p>Sky Drone data centers are located at:</p>
<ul>
<li>United States of America - West Coast</li>
<li>United States of America - Easy Coast</li>
<li>Ireland</li>
<li>Germany</li>
<li>South Africa</li>
<li>Singapore</li>
<li>Hong Kong</li>
</ul>
<p>These data centers are used for our current products <a href="https://www.skydrone.aero/collections/frontpage/products/sky-drone-fpv-3" title="Sky Drone FPV 3">Sky Drone FPV 3</a>, <a href="https://www.skydrone.aero/collections/frontpage/products/sky-drone-link-3" title="Sky Drone Link 3">Sky Drone Link 3</a>, <a href="https://www.skydrone.aero/collections/frontpage/products/sky-drone-4g-lte-upgrade-for-yuneec-h520" title="Sky Drone 4G/LTE Upgrade for Yuneec H520">Sky Drone 4G/LTE Upgrade for Yuneec H520</a> as well as all legacy Sky Drone products (FPV 2, Link, Link 4k).&nbsp;</p>
        </div></div>]]>
            </description>
            <link>https://www.skydrone.aero/blogs/news/global-sky-drone-data-centers</link>
            <guid isPermaLink="false">hacker-news-small-sites-24492131</guid>
            <pubDate>Wed, 16 Sep 2020 12:48:52 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to Measure Anything – Douglas Hubbard on the Artists of Data Science Podcast]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24491977">thread link</a>) | @harpreetsahota
<br/>
September 16, 2020 | https://theartistsofdatascience.fireside.fm/douglas-w-hubbard | <a href="https://web.archive.org/web/*/https://theartistsofdatascience.fireside.fm/douglas-w-hubbard">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    

    <p>[00:01:36] Introduction for our guest today</p>

<p>[00:02:59] Talk to us how you first got interested in measuring the intangibles?</p>

<p>[00:05:14] What were some notable projects that you worked on during the early part of your career that helped you shape your philosophy of being able to measure anything?</p>

<p>[00:09:20] What is applied information economics?</p>

<p>[00:12:14] The importance of taking ideas from different domains and combining them in new days.</p>

<p>[00:14:32] How do you see Data scientists benefiting from using the methodologies of applied information economics?</p>

<p>[00:17:04] Where do you see the field of quantitative methodology headed in the next two to five years? </p>

<p>[00:22:30] The difference between a decision models and predictive models </p>

<p>[00:25:04] How to measure anything with Fermi decompositions</p>

<p>[00:30:37] The three reasons people think something can’t be measured</p>

<p>[00:38:16] Common misconceptions about statistics</p>

<p>[00:41:52] Why is it so challenging for people to understand that concept of statistical significance and what it actually represents?</p>

<p>[00:46:42] A purely philosophical interlude on Bayesian statistics</p>

<p>[00:56:12] What’s the one thing you want people to learn from your story and from your work?</p>

<p>[00:58:19] Jump into a quick lightning round. If you could meet any historical figure, who would it be?</p>

<p>[00:58:38] What's the one thing you would say we truly cannot measure? </p>

<p>[01:01:19] If you could have a billboard placed anywhere, what would you put on it?</p>

<p>[01:01:25] What's the number one book, either fiction or nonfiction or even one of each that you would recommend our audience read, and what was your most impactful takeaway from it?</p>

<p>[01:03:33] What is the best advice you have ever received?</p>

<p>[01:04:42] Where can people find your books?</p>

<p>[01:05:46] How can people connect with you? Where else can they find you online?</p>




      
      
  </div></div>]]>
            </description>
            <link>https://theartistsofdatascience.fireside.fm/douglas-w-hubbard</link>
            <guid isPermaLink="false">hacker-news-small-sites-24491977</guid>
            <pubDate>Wed, 16 Sep 2020 12:32:26 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Portable Pi: Cheap Raspberry Pi Zero Hacker Terminal]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24491918">thread link</a>) | @bradley_taunt
<br/>
September 16, 2020 | https://uglyduck.ca/cheap-portable-pi/ | <a href="https://web.archive.org/web/*/https://uglyduck.ca/cheap-portable-pi/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="main" role="main">
      
<p>Posted on <time datetime="2020-09-16T00:00:00+00:00">September 16, 2020</time></p>

<p>I recently came across <a href="https://n-o-d-e.net/zeroterminal3.html">the incredibly cool design</a> for an “ultimate Raspberry Pi computer” by NODE and was inspired to create my own “portable” Pi device. Although, with my concept, I decided to set a few restrictions on the build:</p>

<ul>
  <li>I wanted to keep the total cost as low as possible
    <ul>
      <li>including the Pi Zero <em>and</em> extra hardware</li>
    </ul>
  </li>
  <li>I wanted to avoid any custom casings or need for 3D printed materials</li>
  <li>I wanted to make the full design extremely portable / lightweight</li>
  <li>I wanted to keep the build as user-friendly as possible (no soldering, odd hacks etc.)</li>
</ul>

<p>With these constraints put in place, I built my very own Raspberry Pi Zero “hacker” terminal. You can see the finished product below:</p>

<p><img src="https://res.cloudinary.com/bradtaunt/image/fetch/c_limit,f_auto,q_auto,w_1200/https://uglyduck.ca/public/images/portable-pi-1.JPG" srcset="https://res.cloudinary.com/bradtaunt/image/fetch/c_limit,f_auto,q_auto,w_320/https://uglyduck.ca/public/images/portable-pi-1.JPG 320w, https://res.cloudinary.com/bradtaunt/image/fetch/c_limit,f_auto,q_auto,w_540/https://uglyduck.ca/public/images/portable-pi-1.JPG 540w, https://res.cloudinary.com/bradtaunt/image/fetch/c_limit,f_auto,q_auto,w_760/https://uglyduck.ca/public/images/portable-pi-1.JPG 760w, https://res.cloudinary.com/bradtaunt/image/fetch/c_limit,f_auto,q_auto,w_980/https://uglyduck.ca/public/images/portable-pi-1.JPG 980w, https://res.cloudinary.com/bradtaunt/image/fetch/c_limit,f_auto,q_auto,w_1200/https://uglyduck.ca/public/images/portable-pi-1.JPG 1200w" sizes="100vw" alt="Portable Pi Front" width="2448" height="3264" crossorigin="anonymous"></p>

<p><img src="https://res.cloudinary.com/bradtaunt/image/fetch/c_limit,f_auto,q_auto,w_1200/https://uglyduck.ca/public/images/portable-pi-2.JPG" srcset="https://res.cloudinary.com/bradtaunt/image/fetch/c_limit,f_auto,q_auto,w_320/https://uglyduck.ca/public/images/portable-pi-2.JPG 320w, https://res.cloudinary.com/bradtaunt/image/fetch/c_limit,f_auto,q_auto,w_540/https://uglyduck.ca/public/images/portable-pi-2.JPG 540w, https://res.cloudinary.com/bradtaunt/image/fetch/c_limit,f_auto,q_auto,w_760/https://uglyduck.ca/public/images/portable-pi-2.JPG 760w, https://res.cloudinary.com/bradtaunt/image/fetch/c_limit,f_auto,q_auto,w_980/https://uglyduck.ca/public/images/portable-pi-2.JPG 980w, https://res.cloudinary.com/bradtaunt/image/fetch/c_limit,f_auto,q_auto,w_1200/https://uglyduck.ca/public/images/portable-pi-2.JPG 1200w" sizes="100vw" alt="Portable Pi Back" width="2448" height="3264" crossorigin="anonymous"></p>

<p>I’m pretty happy with the final outcome and best of all - you can easily recreate this yourself with little-to-no effort!</p>

<p>So enough chit-chat - let’s build this bad-boy!</p>

<blockquote>
  <p><strong>Note:</strong> Most items in the hardware section are Amazon affiliate links</p>
</blockquote>

<hr>

<h2 id="table-of-contents">Table of Contents</h2>

<ol>
  <li><a href="#expectations">Setting Expectations</a></li>
  <li><a href="#hardware">The Hardware</a></li>
  <li><a href="#software">The Software</a></li>
  <li><a href="#setup">Getting Setup</a></li>
  <li><a href="#summary">Final Summary</a></li>
</ol>

<hr id="expectations">

<h2 id="setting-expectations">Setting Expectations</h2>

<p><strong>This hardware will not</strong> replace your laptop or any other “high-powered” portable device. Honestly, you’re mobile phone would (most likely) work better in terms of a compact-sized computer. The concept behind this “portable pi” project was to make something <em>for fun</em>.</p>

<p>Please reserve any sassy comments about how buying a cheap $50 laptop off eBay would be more efficient than building out something like I have done here. You’re missing the point entirely.</p>

<p>Moving on for those still interested…</p>

<hr id="hardware">

<h2 id="the-hardware">The Hardware</h2>

<p>I live in Canada, so some of the options are based on available hardware near my location. You’re likely to find similar hardware close to your own country for better pricing / shipping costs.</p>

<blockquote>
  <p><strong>Note</strong>: I’ve decided to use a wireless, USB dongle-based keyboard. You can opt to use a bluetooth-based keyboard, but I just find them more trouble than they are worth (keeping a charge, losing connections, interference from other devices)</p>
</blockquote>

<ul>
  <li>SBC: <a href="https://amzn.to/2Y7u6qn">Raspberry Pi Zero WH</a></li>
  <li>Storage / OS: <a href="https://amzn.to/3205BfF">64GB Micro SD Card</a> (2-pack - always have an SD backup!)</li>
  <li>Battery HAT: <a href="https://amzn.to/313AtNf">Li-ion Battery HAT</a></li>
  <li>Battery: <em>This depends on your location. I was able to order <a href="https://www.walmart.ca/en/ip/Brand-New-4-Pcs-2500mAh-TR14500-3-7V-Rechargeable-Li-ion-Battery-for-Flashlight-Torch/PRD3Z73LMZZ3VK9">online through Walmart</a>, but if you live in the USA there are plenty of battery-specific vendors available. Find whatever works best for your needs!</em></li>
  <li>Display: <a href="https://www.buyapi.ca/product/3-5-inch-raspberry-pi-tft-display/">KeDei 3.5-inch TFT Display</a></li>
  <li>Keyboard: <a href="https://amzn.to/3j1gViv">Mini USB Wireless Keyboard</a></li>
  <li>Adapter: <a href="https://amzn.to/2EiEd4t">Micro USB OTG Cable</a></li>
  <li>Carrying Case (<em>Optional</em>): <a href="https://amzn.to/3aMNSfY">Hard Shell Carrying Case</a></li>
</ul>

<h4 id="raspberry-pi-zero-wh">Raspberry Pi Zero WH</h4>

<p>You will need a Raspberry Pi Zero W with GPIO header pins already soldered on to the board. (You could also do this yourself manually if you have the tools and skill to do so)</p>

<p><img src="https://res.cloudinary.com/bradtaunt/image/fetch/c_limit,f_auto,q_auto,w_1200/https://uglyduck.ca/public/images/pi-zero-wh.jpg" srcset="https://res.cloudinary.com/bradtaunt/image/fetch/c_limit,f_auto,q_auto,w_320/https://uglyduck.ca/public/images/pi-zero-wh.jpg 320w, https://res.cloudinary.com/bradtaunt/image/fetch/c_limit,f_auto,q_auto,w_540/https://uglyduck.ca/public/images/pi-zero-wh.jpg 540w, https://res.cloudinary.com/bradtaunt/image/fetch/c_limit,f_auto,q_auto,w_760/https://uglyduck.ca/public/images/pi-zero-wh.jpg 760w, https://res.cloudinary.com/bradtaunt/image/fetch/c_limit,f_auto,q_auto,w_980/https://uglyduck.ca/public/images/pi-zero-wh.jpg 980w, https://res.cloudinary.com/bradtaunt/image/fetch/c_limit,f_auto,q_auto,w_1200/https://uglyduck.ca/public/images/pi-zero-wh.jpg 1200w" sizes="100vw" alt="Pi Zero WH" width="1280" height="700" crossorigin="anonymous"></p>

<h4 id="li-ion-battery-hat">Li-Ion Battery HAT</h4>

<p>This HAT holds a single li-ion battery and for our purposes will connect with our Pi Zero via the GPIO header pins. You could also look into double-set battery HATs if that is something you would prefer - for my needs a single rechargeable battery works fine.</p>

<p><img src="https://res.cloudinary.com/bradtaunt/image/fetch/c_limit,f_auto,q_auto,w_1200/https://uglyduck.ca/public/images/li-ion-battery-hat.jpg" srcset="https://res.cloudinary.com/bradtaunt/image/fetch/c_limit,f_auto,q_auto,w_320/https://uglyduck.ca/public/images/li-ion-battery-hat.jpg 320w, https://res.cloudinary.com/bradtaunt/image/fetch/c_limit,f_auto,q_auto,w_540/https://uglyduck.ca/public/images/li-ion-battery-hat.jpg 540w, https://res.cloudinary.com/bradtaunt/image/fetch/c_limit,f_auto,q_auto,w_760/https://uglyduck.ca/public/images/li-ion-battery-hat.jpg 760w, https://res.cloudinary.com/bradtaunt/image/fetch/c_limit,f_auto,q_auto,w_980/https://uglyduck.ca/public/images/li-ion-battery-hat.jpg 980w, https://res.cloudinary.com/bradtaunt/image/fetch/c_limit,f_auto,q_auto,w_1200/https://uglyduck.ca/public/images/li-ion-battery-hat.jpg 1200w" sizes="100vw" alt="Battery HAT Front" width="1280" height="1000" crossorigin="anonymous">
<img src="https://res.cloudinary.com/bradtaunt/image/fetch/c_limit,f_auto,q_auto,w_1200/https://uglyduck.ca/public/images/li-ion-battery-hat-2.jpg" srcset="https://res.cloudinary.com/bradtaunt/image/fetch/c_limit,f_auto,q_auto,w_320/https://uglyduck.ca/public/images/li-ion-battery-hat-2.jpg 320w, https://res.cloudinary.com/bradtaunt/image/fetch/c_limit,f_auto,q_auto,w_540/https://uglyduck.ca/public/images/li-ion-battery-hat-2.jpg 540w, https://res.cloudinary.com/bradtaunt/image/fetch/c_limit,f_auto,q_auto,w_760/https://uglyduck.ca/public/images/li-ion-battery-hat-2.jpg 760w, https://res.cloudinary.com/bradtaunt/image/fetch/c_limit,f_auto,q_auto,w_980/https://uglyduck.ca/public/images/li-ion-battery-hat-2.jpg 980w, https://res.cloudinary.com/bradtaunt/image/fetch/c_limit,f_auto,q_auto,w_1200/https://uglyduck.ca/public/images/li-ion-battery-hat-2.jpg 1200w" sizes="100vw" alt="Battery HAT Back" width="1280" height="900" crossorigin="anonymous"></p>

<p>Since our main “OS” is purely terminal based, I find you don’t really need a li-ion battery with a massive amount of power storage. 2500mAh will easily last a handful of hours mucking about with emails, files and web browsing. Plus, you can always carry a few extras for swapping out on-the-go.</p>

<h4 id="35-inch-tft-display">3.5-inch TFT Display</h4>

<p>A simple and fairly cheap touchscreen display. We won’t require our display to render videos or pretty graphics (since we will be entirely terminal-based) so this works just fine for our needs. I am using version 6.3 for this build.</p>

<p><img src="https://res.cloudinary.com/bradtaunt/image/fetch/c_limit,f_auto,q_auto,w_1200/https://uglyduck.ca/public/images/pi-screen.jpg" srcset="https://res.cloudinary.com/bradtaunt/image/fetch/c_limit,f_auto,q_auto,w_320/https://uglyduck.ca/public/images/pi-screen.jpg 320w, https://res.cloudinary.com/bradtaunt/image/fetch/c_limit,f_auto,q_auto,w_540/https://uglyduck.ca/public/images/pi-screen.jpg 540w, https://res.cloudinary.com/bradtaunt/image/fetch/c_limit,f_auto,q_auto,w_760/https://uglyduck.ca/public/images/pi-screen.jpg 760w, https://res.cloudinary.com/bradtaunt/image/fetch/c_limit,f_auto,q_auto,w_980/https://uglyduck.ca/public/images/pi-screen.jpg 980w, https://res.cloudinary.com/bradtaunt/image/fetch/c_limit,f_auto,q_auto,w_1200/https://uglyduck.ca/public/images/pi-screen.jpg 1200w" sizes="100vw" alt="Pi TFT Display" width="1280" height="981" crossorigin="anonymous">
<img src="https://res.cloudinary.com/bradtaunt/image/fetch/c_limit,f_auto,q_auto,w_1200/https://uglyduck.ca/public/images/pi-screen-2.jpg" srcset="https://res.cloudinary.com/bradtaunt/image/fetch/c_limit,f_auto,q_auto,w_320/https://uglyduck.ca/public/images/pi-screen-2.jpg 320w, https://res.cloudinary.com/bradtaunt/image/fetch/c_limit,f_auto,q_auto,w_540/https://uglyduck.ca/public/images/pi-screen-2.jpg 540w, https://res.cloudinary.com/bradtaunt/image/fetch/c_limit,f_auto,q_auto,w_760/https://uglyduck.ca/public/images/pi-screen-2.jpg 760w, https://res.cloudinary.com/bradtaunt/image/fetch/c_limit,f_auto,q_auto,w_980/https://uglyduck.ca/public/images/pi-screen-2.jpg 980w, https://res.cloudinary.com/bradtaunt/image/fetch/c_limit,f_auto,q_auto,w_1200/https://uglyduck.ca/public/images/pi-screen-2.jpg 1200w" sizes="100vw" alt="Pi TFT Display Back" width="1280" height="800" crossorigin="anonymous"></p>

<h4 id="micro-usb-otg-adapter">Micro USB OTG Adapter</h4>

<p>As mentioned above, this item is optional if you feel more comfortable with using a pure bluetooth keyboard. I just personally prefer this method.</p>

<p><img src="https://res.cloudinary.com/bradtaunt/image/fetch/c_limit,f_auto,q_auto,w_1200/https://uglyduck.ca/public/images/usb-connector.jpg" srcset="https://res.cloudinary.com/bradtaunt/image/fetch/c_limit,f_auto,q_auto,w_320/https://uglyduck.ca/public/images/usb-connector.jpg 320w, https://res.cloudinary.com/bradtaunt/image/fetch/c_limit,f_auto,q_auto,w_540/https://uglyduck.ca/public/images/usb-connector.jpg 540w, https://res.cloudinary.com/bradtaunt/image/fetch/c_limit,f_auto,q_auto,w_760/https://uglyduck.ca/public/images/usb-connector.jpg 760w, https://res.cloudinary.com/bradtaunt/image/fetch/c_limit,f_auto,q_auto,w_867/https://uglyduck.ca/public/images/usb-connector.jpg 867w" sizes="100vw" alt="Micro USB Adapter" width="867" height="423" crossorigin="anonymous"></p>

<h3 id="wireless-keyboard">Wireless Keyboard</h3>

<p>In my product demo image at the beginning of the article, I’m actually using an old Logitech wireless keyboard since this one still hasn’t arrived. I plan to swap them out once I have it - the Logitech is far to large to be deemed “portable”.</p>

<p><img src="https://res.cloudinary.com/bradtaunt/image/fetch/c_limit,f_auto,q_auto,w_1200/https://uglyduck.ca/public/images/wireless-keyboard.jpg" srcset="https://res.cloudinary.com/bradtaunt/image/fetch/c_limit,f_auto,q_auto,w_320/https://uglyduck.ca/public/images/wireless-keyboard.jpg 320w, https://res.cloudinary.com/bradtaunt/image/fetch/c_limit,f_auto,q_auto,w_540/https://uglyduck.ca/public/images/wireless-keyboard.jpg 540w, https://res.cloudinary.com/bradtaunt/image/fetch/c_limit,f_auto,q_auto,w_760/https://uglyduck.ca/public/images/wireless-keyboard.jpg 760w, https://res.cloudinary.com/bradtaunt/image/fetch/c_limit,f_auto,q_auto,w_980/https://uglyduck.ca/public/images/wireless-keyboard.jpg 980w, https://res.cloudinary.com/bradtaunt/image/fetch/c_limit,f_auto,q_auto,w_1200/https://uglyduck.ca/public/images/wireless-keyboard.jpg 1200w" sizes="100vw" alt="Wireless Keyboard" width="1490" height="903" crossorigin="anonymous"></p>

<hr id="software">

<h2 id="the-software">The Software</h2>

<ul>
  <li>Operating System: <a href="https://www.raspberrypi.org/downloads/raspberry-pi-os/">Raspberry Pi OS Lite</a></li>
  <li>Display Driver: <a href="http://kedei.net/raspberry/raspberry.html">KeDei 3.5 Driver</a></li>
  <li>Email: <a href="https://github.com/LukeSmithxyz/mutt-wizard">Neomutt</a> (via Mutt Wizard)</li>
  <li>Web Browser: <a href="https://lynx.browser.org/">Lynx</a></li>
  <li>Text Editor: <a href="https://www.nano-editor.org/">Nano</a></li>
  <li>Code Editor: <a href="https://www.vim.org/">Vim</a></li>
</ul>

<hr id="setup">

<h2 id="getting-setup">Getting Setup</h2>

<p>I will be setting up this “portable pi” via <a href="https://www.raspberrypi.org/documentation/configuration/wireless/headless.md">headless installation</a> with my main <a href="https://uglyduck.ca/my-pi-desktop/">Raspberry Pi 4 desktop</a>. Included below are some quick instructions on how to setup the Raspberry Pi Zero for <code>ssh</code> access.</p>

<h4 id="preparing-the-microsd-card">Preparing the microSD card</h4>

<ol>
  <li>Use Raspberry Pi Imager to write the Raspberry Pi Lite OS to your microSD card
    <ul>
      <li>Once complete, remove the microSD storage device and then re-connect it</li>
    </ul>
  </li>
  <li>Navigate to the <code>boot</code> folder of the microSD device - we will be adding 2 files here
    <ul>
      <li>First add a completely empty file and name it <code>ssh</code> (no file extension)</li>
      <li>Next add an empty file named <code>wpa_supplicant.conf</code></li>
    </ul>
  </li>
  <li>Open the <code>wpa_supplicant.conf</code> file in a code / text editor and paste the following (be sure to change <code>country</code> to your proper country code, as well as properly setting your network name / password):
    <div><div><pre><code> ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=netdev
 update_config=1
 country=US

 network={
     ssid="Your network name/SSID"
     psk="Your WPA/WPA2 security key"
     key_mgmt=WPA-PSK
 }
</code></pre></div>    </div>
  </li>
  <li>Unmount the microSD device, then place the microSD card in your RPi Zero</li>
  <li>Assemble the Raspberry Pi Zero with the Battery HAT (li-ion battery attached) connected via GPIO pins, and the 3.5 display connected on-top of the battery HAT’s pins</li>
  <li>Turn on the battery HAT switch to power the RPi Zero. Give the device ~90 seconds to perform the initial boot</li>
</ol>

<blockquote>
  <p><strong>Note</strong>: the display will turn on but only show a white screen - this is normal</p>
</blockquote>

<h4 id="connecting-to-your-zero-via-ssh">Connecting to your Zero via SSH</h4>

<p>Open the terminal on your Raspberry Pi desktop and enter the following command:</p>



<p>You will then be asked if you wish to trust this device (say yes), then prompted for the <code>pi</code> user’s password - which is <code>raspberry</code>. After a moment you will be directly connected to your Raspberry Pi Zero. Hooray!</p>

<p>We just want to make a couple small configuration changes before going forward (mostly for security):</p>

<ol>
  <li>Run the command <code>sudo raspi-config</code></li>
  <li>Select “Change User Password” from the menu and change the password 
  <img src="https://res.cloudinary.com/bradtaunt/image/fetch/c_limit,f_auto,q_auto,w_1200/https://uglyduck.ca/public/images/raspi-config.png" srcset="https://res.cloudinary.com/bradtaunt/image/fetch/c_limit,f_auto,q_auto,w_320/https://uglyduck.ca/public/images/raspi-config.png 320w, https://res.cloudinary.com/bradtaunt/image/fetch/c_limit,f_auto,q_auto,w_540/https://uglyduck.ca/public/images/raspi-config.png 540w, https://res.cloudinary.com/bradtaunt/image/fetch/c_limit,f_auto,q_auto,w_760/https://uglyduck.ca/public/images/raspi-config.png 760w, https://res.cloudinary.com/bradtaunt/image/fetch/c_limit,f_auto,q_auto,w_980/https://uglyduck.ca/public/images/raspi-config.png 980w, https://res.cloudinary.com/bradtaunt/image/fetch/c_limit,f_auto,q_auto,w_984/https://uglyduck.ca/public/images/raspi-config.png 984w" sizes="100vw" alt="Raspberry Config" width="984" height="321" crossorigin="anonymous"></li>
  <li>After that, select “Network Options” and change your device name
    <ul>
      <li>This will avoid any conflicts of connecting to newer RPi devices down the line</li>
    </ul>
  </li>
</ol>

<p>That’s it!</p>

<h4 id="installing-display-driver">Installing display driver</h4>

<p>Next we will need to download and run the drivers needed for our 3.5-inch display to play nicely with our Pi Zero (just a blank white screen doesn’t help us much). While connected to our RPi Zero via SSH, run the following commands:</p>

<ol>
  <li><code>wget http://kedei.net/raspberry/v6_1/LCD_show_v6_1_3.tar.gz</code>
    <ul>
      <li>If you have snail-paced rural internet like I do, now is a good time to go and grab a coffee while this download completes</li>
    </ul>
  </li>
  <li>Once the download has finished, extract the contents and navigate to the new directory and install the driver:
    <ul>
      <li><code>sudo tar xzf LCD_show_v6_1_3.tar.gz</code></li>
      <li><code>cd LCD_show_v6_1_3</code></li>
      <li><code>sudo ./LCD35_v</code></li>
    </ul>
  </li>
  <li>Once completed, the RPi Zero will reboot and everything should work as expected!</li>
</ol>

<h4 id="installing-software">Installing software</h4>

<p>I’m not going to jump into heavy details about installing terminal-based software for this setup. The links I’ve attached in the software section should provide you with more than enough information to get started. For reference, I’m using a very basic set of applications:</p>

<ul>
  <li>Neomutt (emails)</li>
  <li>Lynx (quick and simple web browsing)</li>
  <li>Nano (writing notes / blog posts in a hurry)</li>
  <li>Vim (making any config edits or project work)</li>
</ul>

<hr id="summary">

<h2 id="final-summary">Final Summary</h2>

<p>There you have it - a terminal-based, portable Raspberry Pi Zero “hacker” device.</p>

<p>Is it practical? Not really. Can it replace any other <em>portable</em> device you might own? Probably not. Is it fun to make and experiment on? You bet! And in the end - isn’t that what matters most with pet Pi projects?</p>


    </div></div>]]>
            </description>
            <link>https://uglyduck.ca/cheap-portable-pi/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24491918</guid>
            <pubDate>Wed, 16 Sep 2020 12:25:44 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Fixing AWS Architecture Diagrams #2: Distributed Load Testing]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24491905">thread link</a>) | @Veuxdo
<br/>
September 16, 2020 | https://blog.ilograph.com/posts/fixing-aws-architecure-diagrams-distributed-load-testing/ | <a href="https://web.archive.org/web/*/https://blog.ilograph.com/posts/fixing-aws-architecure-diagrams-distributed-load-testing/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
            

<!-- <img src="/img/fixing-aws-load-testing/header.png" style="width: 100%;" alt="Fixing AWS Architecure Diagrams: Distributed Load Testing"> -->

<p><em>Amazon Web Services (AWS) provides a vast library of practical solutions to common business problems. In this series, we focus on the architecture diagrams included in these solutions and attempt to expand and improve on them. Read the previous entry <a href="https://blog.ilograph.com/posts/fixing-aws-architecture-diagrams-vod/">here</a>.</em></p>

<p>Below is AWS’s architecture diagram for their <a href="https://github.com/awslabs/distributed-load-testing-on-aws">Distributed Load Testing on AWS solution</a>. It comes directly from the linked repository. While the solution is excellent, the architecture diagram accompanying it exhibits a number of problems that limit its use as a technical resource.</p>

<p><img src="https://blog.ilograph.com/img/fixing-aws-load-testing/original.png" alt="An AWS diagram"></p>

<p>This diagram has some common issues (see the <a href="https://blog.ilograph.com/posts/fixing-aws-architecture-diagrams-vod/">previous entry</a> in this series) and a few new ones:</p>

<p> <strong>-</strong> The diagram lacks a clear purpose. It is referred to simply as an “Architecture Overview” in the solution.</p>

<p> <strong>-</strong> There are no named resources; only AWS Services (e.g. <em>Amazon S3</em>) are shown. Looking at this diagram, a viewer has no way of knowing <em>what</em> buckets, lambdas and other resources exist or how they are related.</p>

<p> <strong>-</strong> All of the arrows are unlabeled. The exact nature of the relations between these resources is a mystery.</p>

<p> <strong>-</strong> The diagram mixes run-time and deployment-time concerns.</p>

<p> <strong>-</strong> The diagram is missing critical details about security and access management.</p>

<p><strong>In short, this diagram makes an <em>impression</em>, but fails to truly <em>inform</em> the viewer</strong>. This would be acceptable for a decorative element in a blog post or presentation, but as a technical resource, it can be much better. In this article, we remake this diagram with an aim toward creating a valuable source of information in its own right.</p>

<p>Like last time, we split the original into multiple perspectives, each focused on a single goal. We’ll have <strong>nine</strong> perspectives in total. Four will show static relations between the solution’s resources. The remainder show sample workflows (e.g. creating a new test, or canceling a test) with detailed control flows between the resources. We’ll start with one of the most important perspectives, run-time dependency:</p>

<h4 id="perspective-1-run-time-dependency">Perspective 1: Run-time Dependency</h4>

<h6 id="goal-show-which-resources-depend-on-which-resources-at-run-time">Goal: Show which resources depend on which resources at run-time</h6>

<p><strong>Original</strong>
<img src="https://blog.ilograph.com/img/fixing-aws-load-testing/old_1.png" alt="Run-time dependency (old)"></p>

<p><strong>Updated</strong>
<a rel="noopener" href="https://app.ilograph.com/demo.ilograph.AWS%2520Distributed-Load-Testing/Runtime%2520Dependency"><img src="https://blog.ilograph.com/img/fixing-aws-load-testing/new_1.png" alt="Run-time dependency">
</a></p>

<p>We address the issues in the original head-on. The perspective uses real resource names, and the relationship arrows are labeled. We’ve removed deploy-time concerns (e.g. <em>CodeBuild</em>) to focus on run-time concerns. And we’ve added detail about the testing console, including screen names and their API dependencies.</p>

<p>At first blush the diagram is much busier than the original; however, we can select a resource and see both what resources depend on it and what resources it depends on:</p>



<p>The aforementioned deploy-time dependencies are not <em>truly</em> gone, we’ve just moved them to a different perspective:</p>

<h4 id="perspective-2-deploy-time-dependency">Perspective 2: Deploy-time Dependency</h4>

<h6 id="goal-show-which-resources-depend-on-which-resources-at-deploy-time">Goal: Show which resources depend on which resources at deploy-time</h6>

<p><strong>Original</strong>
<img src="https://blog.ilograph.com/img/fixing-aws-load-testing/old_2.png" alt="Deploy-time dependency (old)"></p>

<p><strong>Updated</strong>
<a rel="noopener" href="https://app.ilograph.com/demo.ilograph.AWS%2520Distributed-Load-Testing/Deployment%2520Dependency"><img src="https://blog.ilograph.com/img/fixing-aws-load-testing/new_2.png" alt="Deploy-time dependency">
</a></p>

<p>This perspective’s goal is identical to the last one, only it is focused on deploy-time dependencies. Note that this includes external dependencies (a <em>Docker Hub</em> image and a <em>PyPi</em> library). It also shows source code dependencies for the lambdas. Once the solution is successfully deployed, the dependencies described in this perspective are no longer relevant to the solution run-time.</p>

<h4 id="perspective-3-security-and-access-management">Perspective 3: Security and Access Management</h4>

<h6 id="goal-show-which-resources-can-access-which-resources-and-how">Goal: Show which resources can access which resources, and how</h6>

<p><strong>Original</strong>
<img src="https://blog.ilograph.com/img/fixing-aws-load-testing/old_3.png" alt="Security (old)"></p>

<p><strong>Updated</strong>
<a rel="noopener" href="https://app.ilograph.com/demo.ilograph.AWS%2520Distributed-Load-Testing/Access%2520Management"><img src="https://blog.ilograph.com/img/fixing-aws-load-testing/new_3.png" alt="Security">
</a></p>

<p>This perspective describes something the original doesn’t fully attempt to address: security and access management. For the solution to work, resources need to get data from, send data to, and sometimes (in the case of lambdas) invoke other resources. This is all managed through roles, policies, and permissions governed primary through IAM.</p>

<p>Obviously, this perspective goes into considerably more detail than the original diagram does. Like earlier, we can select individual resources to see what resources it can access and be accessed by (and how).</p>





<h4 id="perspective-4-vpc-egress">Perspective 4: VPC Egress</h4>

<h6 id="goal-show-how-vpc-based-resources-access-the-internet">Goal: Show how VPC-based resources access the internet</h6>

<p><strong>Original</strong>
<img src="https://blog.ilograph.com/img/fixing-aws-load-testing/old_4.png" alt="VPC Egress (old)"></p>

<p><strong>Updated</strong>
<a rel="noopener" href="https://app.ilograph.com/demo.ilograph.AWS%2520Distributed-Load-Testing/VPC%2520Egress"><img src="https://blog.ilograph.com/img/fixing-aws-load-testing/new_4.png" alt="VPC Egress">
</a></p>

<p>Naturally, the load testing cluster requires internet access to work. This simple diagram shows the resources allowing the cluster to access the internet from within the VPC.</p>

<h4 id="perspectives-5-9-example-control-flow-sequences">Perspectives 5-9: Example control-flow sequences</h4>

<h6 id="goal-show-detailed-interactions-between-resources-for-common-workflows">Goal: Show detailed interactions between resources for common workflows</h6>

<p><a rel="noopener" href="https://app.ilograph.com/demo.ilograph.AWS%2520Distributed-Load-Testing/Create%2520Test"><img src="https://blog.ilograph.com/img/fixing-aws-load-testing/sequences.png" alt="Sequences">
</a></p>

<p>All of the previous perspectives are <em>static</em> perspectives. There is no notion of time; the relations they describe are continuously in effect. They do not have steps showing how the resources actually interact. To help the viewer better understand <em>how</em> the resources interact (and how complex those interactions can get), we include five <strong>sequence</strong> perspectives for this solution:</p>

<p><a rel="noopener" href="https://app.ilograph.com/demo.ilograph.AWS%2520Distributed-Load-Testing/Create%2520Test">Create Test</a> - Shows how new tests are created</p>

<p><a rel="noopener" href="https://app.ilograph.com/demo.ilograph.AWS%2520Distributed-Load-Testing/Execute%2520Test">Execute Test</a> - Shows how new tests are executed after being created</p>

<p><a rel="noopener" href="https://app.ilograph.com/demo.ilograph.AWS%2520Distributed-Load-Testing/Write%2520Test%2520Results">Write Test Results</a> - Shows how test results are written to DynamoDB</p>

<p><a rel="noopener" href="https://app.ilograph.com/demo.ilograph.AWS%2520Distributed-Load-Testing/List%2520tests">List tests</a> - Shows how all running tests are fetched</p>

<p><a rel="noopener" href="https://app.ilograph.com/demo.ilograph.AWS%2520Distributed-Load-Testing/Cancel%2520test">Cancel Test</a> - Shows how a running test is canceled</p>

<p>Other workflows that could be documented include getting individual tests and getting test results.</p>

<h4 id="conclusion">Conclusion</h4>

<p>The conclusion of the <a href="https://blog.ilograph.com/posts/fixing-aws-architecture-diagrams-vod/">previous entry</a> listed guidelines for better architecture diagrams, all of which we followed here. We benefited greatly from breaking up the original diagram into multiple perspectives and using real resource names, for example. By making these and other improvements, we hopefully made this diagram much more useful as a technical resource.</p>

<p>If you haven’t already, <a href="https://app.ilograph.com/demo.ilograph.AWS%2520Distributed-Load-Testing/">click here to browse this diagram yourself</a>. Questions or comments? Please reach out to me <a href="https://twitter.com/ilographs">@Ilographs</a> on Twitter or by email at billy@ilograph.com.</p>

<p><a href="https://twitter.com/intent/tweet?text=Fixing%20AWS%20Architecure%20Diagrams%20#2:%20Distributed%20Load%20Testing&amp;url=https://blog.ilograph.com/posts/fixing-aws-architecture-diagrams-load-testing/" data-size="large">
Share this article on Twitter</a></p>

<p><a href="https://www.facebook.com/sharer/sharer.php?u=https://blog.ilograph.com/posts/fixing-aws-architecture-diagrams-load-testing/&amp;t=Fixing%20AWS%20Architecure%20Diagrams%20#2:%20Distributed%20Load%20Testing" data-size="large">
Share this article on Facebook</a></p>

<p><a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://blog.ilograph.com/posts/fixing-aws-architecture-diagrams-load-testing/&amp;title=Fixing%20AWS%20Architecure%20Diagrams%20#2:%20Distributed%20Load%20Testing&amp;source=Ilograph" data-size="large">
Share this article on LinkedIn</a></p>

        </div></div>]]>
            </description>
            <link>https://blog.ilograph.com/posts/fixing-aws-architecure-diagrams-distributed-load-testing/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24491905</guid>
            <pubDate>Wed, 16 Sep 2020 12:23:50 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Secret Splitter – split passwords into pieces, then combine them again]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24491897">thread link</a>) | @securilla
<br/>
September 16, 2020 | https://www.securilla.com/secret-splitter | <a href="https://web.archive.org/web/*/https://www.securilla.com/secret-splitter">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section _ngcontent-sc218="" lightbox-gallery="" class="page"><app-page-hero _ngcontent-sc218="" _nghost-sc206=""><app-hero _ngcontent-sc206="" _nghost-sc178=""><div _ngcontent-sc178=""><section _ngcontent-sc178=""><app-sky-background _ngcontent-sc178="" cloudroughness="30" cloudcover="0.6" cloudtopopacity="0.31" cloudbottomopacity="0" _nghost-sc177=""></app-sky-background></section><section _ngcontent-sc178=""><section _ngcontent-sc178=""><a _ngcontent-sc206="" href="https://www.securilla.com/secret-splitter"><p><img _ngcontent-sc206="" src="https://www.securilla.com/assets/secret-splitter/secret-splitter-logo.png" app-preload=""></p></a><ol _ngcontent-sc206=""><li _ngcontent-sc206="">Split your password into any number of parts, e.g. 5.</li><li _ngcontent-sc206="">Print and hide the parts in your home, garden and your car.</li><li _ngcontent-sc206="">Recover the password when you collect the minimum number of parts (e.g. 3).</li></ol><a _ngcontent-sc206="" data-track-content="" data-content-target="" rel="external noreferrer noopener nofollow" target="_blank" srl-track-download="" data-content-name="Download: Secret Splitter" data-content-piece="Download iOS: Hero" _nghost-sc205="" href="https://apps.apple.com/app/id1510387675" title="Get Secret Splitter from the App Store"><img _ngcontent-sc205="" src="https://www.securilla.com/assets/app-store-white.svg" app-preload="" data-content-piece=""></a></section><app-gallery-item-light _ngcontent-sc178="" observer="left" _nghost-sc174=""><a _ngcontent-sc174="" data-content-ignoreinteraction="" data-content-target="" srl-matomo-track-link-interaction="" href="https://www.securilla.com/assets/secret-splitter/secret-splitter-01.png"></a></app-gallery-item-light></section><app-waves _ngcontent-sc178="" _nghost-sc146=""><!----></app-waves><!----></div></app-hero></app-page-hero><section _ngcontent-sc218="" app-page-section="" _nghost-sc185=""><div _ngcontent-sc185=""><app-what-is-it _ngcontent-sc218="" _nghost-sc209=""><app-ribbon-box _ngcontent-sc209="" data-track-content="" data-content-name="Secret Splitter: Info Box" data-content-piece="What is it?" _nghost-sc208=""><section _ngcontent-sc208=""><header _ngcontent-sc208=""><a _ngcontent-sc208="" data-content-ignoreinteraction="" data-content-target="" srl-matomo-track-link-interaction="" href="https://www.securilla.com/secret-splitter#what-is-secret-splitter"></a></header><section _ngcontent-sc208=""><p _ngcontent-sc209=""><strong _ngcontent-sc209="">Secret Splitter</strong> is an app that lets you split a secret (e.g. a password or a message) into <span _ngcontent-sc209="">X</span> parts. When you later collect at least <span _ngcontent-sc209="">Y</span> parts, you can fully recover the original secret. </p><p _ngcontent-sc209=""> Each generated part looks like gibberish and does not reveal anything about the secret by itself. In fact, having any fewer than <span _ngcontent-sc209="">Y</span> parts will prevent you from learning anything about the secret. </p></section></section></app-ribbon-box></app-what-is-it></div></section><section _ngcontent-sc218="" app-page-section="" _nghost-sc185=""><div _ngcontent-sc185=""><app-example _ngcontent-sc218="" _nghost-sc210=""><app-ribbon-box _ngcontent-sc210="" data-track-content="" data-content-name="Secret Splitter: Info Box" data-content-piece="Example" _nghost-sc208=""><section _ngcontent-sc208=""><header _ngcontent-sc208=""><a _ngcontent-sc208="" data-content-ignoreinteraction="" data-content-target="" srl-matomo-track-link-interaction="" href="https://www.securilla.com/secret-splitter#example"></a></header><section _ngcontent-sc208=""><p _ngcontent-sc210=""> You can split your password <em _ngcontent-sc210="">MyP@ssw0rd!</em> into 5 parts, and require 3 parts for password recovery. The app will generate parts for you that look like this: </p><ul _ngcontent-sc210=""><li _ngcontent-sc210="">sHouswEwxZDFp9Kd2Dj8d8c</li><li _ngcontent-sc210="">s3e1hfSef1WZm6uZHomobk8</li><li _ngcontent-sc210="">sWSZiiZhWkdzob7cEr6YRWd</li><li _ngcontent-sc210="">sUErPf8vFM4adJjfQVHtwEB</li><li _ngcontent-sc210="">sYTYq1a3mypXMQtEA2SP6bv</li></ul><p _ngcontent-sc210=""> You can then print each part on a separate piece of paper, and hide the papers around your house, your garden, in your safe, under a rock, etc. </p><p _ngcontent-sc210=""> If you forget your password, just collect any 3 of the 5 parts and you can fully recover the password. </p><p _ngcontent-sc210=""> If one or two parts get accidentally destroyed, you can still collect the remaining 3 parts to recover the password. If you (or someone else) obtains only 2 parts or fewer, it is not possible to recover the password at all - the parts are completely useless without having all the required pieces. </p></section></section></app-ribbon-box></app-example></div></section><app-screenshot-list _ngcontent-sc218="" _nghost-sc212=""><ul _ngcontent-sc212=""><li _ngcontent-sc212=""><app-screenshot-item _ngcontent-sc212="" _nghost-sc211=""><section _ngcontent-sc211=""><!----><!----><section _ngcontent-sc211="" data-track-content="" data-content-name="Secret Splitter: Screenshot Text" data-content-piece="Secret Splitter - Page: Split"><app-section-header _ngcontent-sc211="" _nghost-sc191=""><header _ngcontent-sc191=""><fa-icon _ngcontent-sc191=""></fa-icon><!----><!----><!----><!----><h4 _ngcontent-sc191="">Get Started</h4><!----><!----><!----></header></app-section-header><!----><p _ngcontent-sc211="">Secret Splitter's initial screen lets you configure how many parts you want to split your secret into, and how many parts are required to recombine your secret.</p><!----></section></section></app-screenshot-item></li><li _ngcontent-sc212=""><app-screenshot-item _ngcontent-sc212="" _nghost-sc211=""><section _ngcontent-sc211=""><!----><!----><section _ngcontent-sc211="" data-track-content="" data-content-name="Secret Splitter: Screenshot Text" data-content-piece="Secret Splitter - Page: Enter Secret"><app-section-header _ngcontent-sc211="" _nghost-sc191=""><header _ngcontent-sc191=""><fa-icon _ngcontent-sc191=""></fa-icon><!----><!----><!----><!----><h4 _ngcontent-sc191="">Enter Your Secret</h4><!----><!----><!----></header></app-section-header><!----><p _ngcontent-sc211="">You can enter any secret you want - a password, passphrase, GPS coordinates, or a custom message.</p><!----></section></section></app-screenshot-item></li><li _ngcontent-sc212=""><app-screenshot-item _ngcontent-sc212="" _nghost-sc211=""><section _ngcontent-sc211=""><!----><!----><section _ngcontent-sc211="" data-track-content="" data-content-name="Secret Splitter: Screenshot Text" data-content-piece="Secret Splitter - Page: Generated Parts"><app-section-header _ngcontent-sc211="" _nghost-sc191=""><header _ngcontent-sc191=""><fa-icon _ngcontent-sc191=""></fa-icon><!----><!----><!----><!----><h4 _ngcontent-sc191="">Split Into Parts</h4><!----><!----><!----></header></app-section-header><!----><p _ngcontent-sc211="">Split your secret into a list of random parts. Each part is unique and is cryptographically entangled with other parts from the same list.</p><!----></section></section></app-screenshot-item></li><li _ngcontent-sc212=""><app-screenshot-item _ngcontent-sc212="" _nghost-sc211=""><section _ngcontent-sc211=""><!----><!----><section _ngcontent-sc211="" data-track-content="" data-content-name="Secret Splitter: Screenshot Text" data-content-piece="Secret Splitter - Page: Combine (Empty)"><app-section-header _ngcontent-sc211="" _nghost-sc191=""><header _ngcontent-sc191=""><fa-icon _ngcontent-sc191=""></fa-icon><!----><!----><!----><!----><h4 _ngcontent-sc191="">Collect Parts</h4><!----><!----><!----></header></app-section-header><!----><p _ngcontent-sc211="">To recover your secret, begin by collecting parts and enter them into the app. Only parts that were generated in the same list will work together.</p><!----></section></section></app-screenshot-item></li><li _ngcontent-sc212=""><app-screenshot-item _ngcontent-sc212="" _nghost-sc211=""><section _ngcontent-sc211=""><!----><!----><section _ngcontent-sc211="" data-track-content="" data-content-name="Secret Splitter: Screenshot Text" data-content-piece="Secret Splitter - Page: Combine (Ready)"><app-section-header _ngcontent-sc211="" _nghost-sc191=""><header _ngcontent-sc191=""><fa-icon _ngcontent-sc191=""></fa-icon><!----><!----><!----><!----><h4 _ngcontent-sc191="">Recover Secret</h4><!----><!----><!----></header></app-section-header><!----><p _ngcontent-sc211="">After you have entered the parts, you can proceed to restore the secret.</p><!----></section></section></app-screenshot-item></li><li _ngcontent-sc212=""><app-screenshot-item _ngcontent-sc212="" _nghost-sc211=""><section _ngcontent-sc211=""><!----><!----><section _ngcontent-sc211="" data-track-content="" data-content-name="Secret Splitter: Screenshot Text" data-content-piece="Secret Splitter - Page: Restored"><app-section-header _ngcontent-sc211="" _nghost-sc191=""><header _ngcontent-sc191=""><fa-icon _ngcontent-sc191=""></fa-icon><!----><!----><!----><!----><h4 _ngcontent-sc191="">Export Secret</h4><!----><!----><!----></header></app-section-header><!----><p _ngcontent-sc211="">You can quickly copy and share the restored secret with others, or store it locally in your device.</p><!----></section></section></app-screenshot-item></li><li _ngcontent-sc212=""><app-screenshot-item _ngcontent-sc212="" _nghost-sc211=""><section _ngcontent-sc211=""><!----><!----><section _ngcontent-sc211="" data-track-content="" data-content-name="Secret Splitter: Screenshot Text" data-content-piece="Secret Splitter - Page: Help"><app-section-header _ngcontent-sc211="" _nghost-sc191=""><header _ngcontent-sc191=""><fa-icon _ngcontent-sc191=""></fa-icon><!----><!----><!----><!----><h4 _ngcontent-sc191="">Get Help</h4><!----><!----><!----></header></app-section-header><!----><p _ngcontent-sc211="">Help section describes in detail the purpose of Secret Splitter, how to use it, and when you might want to use it.</p><!----></section></section></app-screenshot-item></li><li _ngcontent-sc212=""><app-screenshot-item _ngcontent-sc212="" _nghost-sc211=""><section _ngcontent-sc211=""><!----><!----><section _ngcontent-sc211="" data-track-content="" data-content-name="Secret Splitter: Screenshot Text" data-content-piece="Secret Splitter - Page: Split (Dark Mode)"><app-section-header _ngcontent-sc211="" _nghost-sc191=""><header _ngcontent-sc191=""><fa-icon _ngcontent-sc191=""></fa-icon><!----><!----><!----><!----><h4 _ngcontent-sc191="">Dark Mode</h4><!----><!----><!----></header></app-section-header><!----><p _ngcontent-sc211="">Secret Splitter fully supports Dark Mode.</p><!----></section></section></app-screenshot-item></li><!----></ul></app-screenshot-list><app-call-to-action _ngcontent-sc218="" _nghost-sc213=""><app-wide-call-to-action _ngcontent-sc213="" _nghost-sc194=""><div _ngcontent-sc194=""><section _ngcontent-sc194=""><h3 _ngcontent-sc194="">Ready to give it a try?</h3><!----><p><a _ngcontent-sc213="" data-track-content="" data-content-target="" rel="external noreferrer noopener nofollow" target="_blank" srl-track-download="" data-content-name="Download: Secret Splitter" _nghost-sc205="" data-content-piece="Download iOS: Call to Action 1" href="https://apps.apple.com/app/id1510387675" title="Get Secret Splitter from the App Store"><img _ngcontent-sc205="" src="https://www.securilla.com/assets/app-store-white.svg" app-preload="" data-content-piece=""></a></p><p _ngcontent-sc194="">Or continue reading below&nbsp;...</p><!----></section></div></app-wide-call-to-action></app-call-to-action><section _ngcontent-sc218="" app-page-section="" _nghost-sc185=""><div _ngcontent-sc185=""><app-what-is-it-for _ngcontent-sc218="" _nghost-sc214=""><app-ribbon-box _ngcontent-sc214="" data-track-content="" data-content-name="Secret Splitter: Info Box" data-content-piece="What is it for?" _nghost-sc208=""><section _ngcontent-sc208=""><header _ngcontent-sc208=""><a _ngcontent-sc208="" data-content-ignoreinteraction="" data-content-target="" srl-matomo-track-link-interaction="" href="https://www.securilla.com/secret-splitter#what-is-secret-splitter-for"><div _ngcontent-sc208=""><p _ngcontent-sc208=""><h2 _ngcontent-sc208="">What is Secret Splitter for?</h2></p><app-badge _ngcontent-sc208="" _nghost-sc207=""></app-badge><!----></div></a></header><section _ngcontent-sc208=""><section _ngcontent-sc214=""><p _ngcontent-sc214="">Imagine you have a secret, for example:</p><ul _ngcontent-sc214=""><li _ngcontent-sc214="">Your user account password.</li><li _ngcontent-sc214="">Recovery code for your password manager.</li><li _ngcontent-sc214="">BitCoin wallet.</li><li _ngcontent-sc214="">Combination code for your safe.</li><li _ngcontent-sc214="">Valuable GPS location.</li><li _ngcontent-sc214="">And others ...</li></ul><p _ngcontent-sc214="">The secret is quite long and difficult to remember, and you are rightfully worried you might forget it and loose access to it forever.</p><p _ngcontent-sc214="">With <strong _ngcontent-sc214="">Secret Splitter</strong>, you can split your secret into 7 parts, and require at least 4 parts for recovery. You can print all 7 parts and hide them somewhere. Maybe you hide a few in your home, and give some to your partner, parents, friends, etc.</p><p _ngcontent-sc214="">If you ever forget your secret, you can combine any 4 of the 7 parts and fully recover the secret. But your parents, friends and your partner cannot recover the secret unless they retrieve at least 4 parts also. And that's assuming you go the route of telling them in detail the purpose of that little piece of paper with a funny looking code.</p><p _ngcontent-sc214="">There are many situations when you might find this app useful, and here are some additional examples:</p><ul _ngcontent-sc214=""><li _ngcontent-sc214="">You have invested in BitCoin, and you want your next-of-kin to be able to inherit the money in case of some tragic event.<br _ngcontent-sc214="">So, split the password for your BitCoin wallet and give the parts to your parents, spouse, lawyer, and your child.</li><li _ngcontent-sc214="">You are the CEO of a small company, and you want to ensure business continuity in case you are incapacitated.<br _ngcontent-sc214="">You split your mission-critical access keys and give the parts to your board members, top managers, and your lawyer.</li><!----></ul></section></section></section></app-ribbon-box></app-what-is-it-for></div></section><section _ngcontent-sc218="" app-page-section="" _nghost-sc185=""><div _ngcontent-sc185=""><app-security _ngcontent-sc218="" _nghost-sc215=""><app-ribbon-box _ngcontent-sc215="" data-track-content="" data-content-name="Secret Splitter: Info Box" data-content-piece="Security" _nghost-sc208=""><section _ngcontent-sc208=""><header _ngcontent-sc208=""><a _ngcontent-sc208="" data-content-ignoreinteraction="" data-content-target="" srl-matomo-track-link-interaction="" href="https://www.securilla.com/secret-splitter#security"></a></header><section _ngcontent-sc208=""><p _ngcontent-sc215="">This app is using <em _ngcontent-sc215="">Shamir's Secret Sharing Scheme</em>, which makes it all possible. This scheme has information theoretic security, meaning the scheme cannot be broken even if your adversary has unlimited computing power.</p><p _ngcontent-sc215="">Thus, your adversary might instead try to guess your secret directly, or attack the cryptosystem where you use the secret. Or he might try to collect the required minimum number of parts. But he cannot directly attack the Shamir's scheme by somehow using fewer than the required number of parts and computing the final part.</p><p _ngcontent-sc215="">Our implementation of the Shamir's scheme is a port of an open-source Linux package called libgfshare. This app and libgfshare are using different export formats, but a format conversion would make them fully compatible and interoperable.</p></section></section></app-ribbon-box></app-security></div></section><section _ngcontent-sc218="" app-page-section="" _nghost-sc185=""><div _ngcontent-sc185=""><app-part-format _ngcontent-sc218="" _nghost-sc216=""><app-ribbon-box _ngcontent-sc216="" data-track-content="" data-content-name="Secret Splitter: Info Box" data-content-piece="Part Format" _nghost-sc208=""><section _ngcontent-sc208=""><header _ngcontent-sc208=""><a _ngcontent-sc208="" data-content-ignoreinteraction="" data-content-target="" srl-matomo-track-link-interaction="" href="https://www.securilla.com/secret-splitter#part-format"></a></header><section _ngcontent-sc208=""><section _ngcontent-sc216=""><p _ngcontent-sc216="">The algorithm used to generate parts is:</p><ol _ngcontent-sc216=""><li _ngcontent-sc216="">Convert the secret to UTF-8 byte array.</li><li _ngcontent-sc216="">Use the libgfshare algorithm to split the byte array into shares.</li><li _ngcontent-sc216=""> Encode each share as: <ol _ngcontent-sc216=""><li _ngcontent-sc216="">Prepend X in front of the share's payload.</li><li _ngcontent-sc216="">Encode the result of 3&nbsp;(a) using base58check, the same algorithm used for BitCoin address encoding. Do not use the base58check version byte.</li><li _ngcontent-sc216="">Prepend character 's' (ASCII 115) in front of the result of 3&nbsp;(b). This character serves as a format version control.</li></ol></li></ol><p _ngcontent-sc216="">Inverse this algorithm to recombine the original secret from parts.</p></section></section></section></app-ribbon-box></app-part-format></div></section><section _ngcontent-sc218="" app-page-section="" _nghost-sc185=""><div _ngcontent-sc185=""><app-privacy-policy _ngcontent-sc218="" _nghost-sc217=""><app-ribbon-box _ngcontent-sc217="" data-track-content="" data-content-name="Secret Splitter: Info Box" data-content-piece="Privacy Policy" _nghost-sc208=""><section _ngcontent-sc208=""><header _ngcontent-sc208=""><a _ngcontent-sc208="" data-content-ignoreinteraction="" data-content-target="" srl-matomo-track-link-interaction="" href="https://www.securilla.com/secret-splitter#privacy-policy"></a></header><section _ngcontent-sc208=""><p _ngcontent-sc217="">It's very simple. <strong _ngcontent-sc217="">Secret Splitter</strong> does not collect any data.</p><p _ngcontent-sc217="">No telemetry.</p><p _ngcontent-sc217="">No analytics.</p><p _ngcontent-sc217="">No internet communication whatsoever.</p></section></section></app-ribbon-box></app-privacy-policy></div></section><section _ngcontent-sc218="" app-page-section="" _nghost-sc185=""><div _ngcontent-sc185=""><app-newsletter-card _ngcontent-sc218="" _nghost-sc189=""><mat-card _ngcontent-sc189=""><mat-card-content _ngcontent-sc189=""><app-newsletter-form _ngcontent-sc189="" _nghost-sc96=""><form _ngcontent-sc96="" novalidate=""><app-newsletter-email _ngcontent-sc189="" _nghost-sc113=""><mat-form-field _ngcontent-sc113="" appearance="fill" data-track-content="" data-content-piece="Form Field: Email" data-content-name="Newsletter Form Field: NewsletterForm"></mat-form-field></app-newsletter-email><app-newsletter-segments _ngcontent-sc189="" _nghost-sc117=""><div _ngcontent-sc117=""><h4 _ngcontent-sc117=""> Categories <span _ngcontent-sc117="">*</span></h4><div _ngcontent-sc117=""><mat-checkbox _ngcontent-sc117="" data-track-content="" data-content-piece="Form Field: Announcements" data-content-name="Newsletter Form Field: NewsletterForm" id="mat-checkbox-3"><label for="mat-checkbox-3-input"><span> Announcements, Updates </span></label></mat-checkbox><mat-checkbox _ngcontent-sc117="" data-track-content="" data-content-piece="Form Field: Promotions" data-content-name="Newsletter Form Field: NewsletterForm" id="mat-checkbox-4"><label for="mat-checkbox-4-input"><span> Promotions </span></label></mat-checkbox></div><p>At least one category is required.</p></div></app-newsletter-segments><app-newsletter-actions _ngcontent-sc189="" _nghost-sc121=""></app-newsletter-actions><app-newsletter-notice _ngcontent-sc189="" _nghost-sc119=""><p _ngcontent-sc119=""> You agree that Securilla may collect, use and disclose your personal data which you have provided in this form, for providing marketing material that you have agreed to receive, in accordance with our <a _ngcontent-sc119="" data-content-ignoreinteraction="" data-track-content="" srl-matomo-track-link-interaction="" data-content-target="" data-content-piece="Form Notice: Privacy Policy" data-content-name="Newsletter Form Field: NewsletterForm" href="https://www.securilla.com/privacy-policy">Privacy Policy</a>.
</p></app-newsletter-notice></form></app-newsletter-form></mat-card-content></mat-card></app-newsletter-card></div></section><app-call-to-action _ngcontent-sc218="" _nghost-sc213=""><app-wide-call-to-action _ngcontent-sc213="" _nghost-sc194=""><div _ngcontent-sc194=""><section _ngcontent-sc194=""><h3 _ngcontent-sc194="">Get Secret Splitter now!</h3><!----><p><a _ngcontent-sc213="" data-track-content="" data-content-target="" rel="external noreferrer noopener nofollow" target="_blank" srl-track-download="" data-content-name="Download: Secret Splitter" _nghost-sc205="" data-content-piece="Download iOS: Call to Action 2" href="https://apps.apple.com/app/id1510387675" title="Get Secret Splitter from the App Store"><img _ngcontent-sc205="" src="https://www.securilla.com/assets/app-store-white.svg" app-preload="" data-content-piece=""></a></p><!----></section></div></app-wide-call-to-action></app-call-to-action><app-contact _ngcontent-sc218="" _nghost-sc200=""><div _ngcontent-sc200="" class="page"><!----><section _ngcontent-sc200=""><!----><div _ngcontent-sc200=""><p _ngcontent-sc200="">Email us at <a _ngcontent-sc200="" srl-email-address="" data-track-content="" data-content-name="Contact Email Address" data-content-piece="Support Email" data-content-target="" encodedemail="JTVCMTE4LC0yMSwxOCwtMTcsLTM0LDM4LDEyLC0yLC04LC0zLDE3LDMsMCwtMTEsLTY0LDY2LC0xNCwyNCU1RA==" _nghost-sc199=""><span _ngcontent-sc199=""><!----><span _ngcontent-sc199=""><app-inline-spinner _ngcontent-sc199="" _nghost-sc120=""><!----></app-inline-spinner></span></span></a></p><!----><!----><p _ngcontent-sc200=""><small _ngcontent-sc200="">or</small></p><p _ngcontent-sc200="">Send us a message below.</p></div><app-contact-form _ngcontent-sc200="" _nghost-sc197=""><form _ngcontent-sc197="" novalidate=""><mat-card _ngcontent-sc197=""><mat-card-content _ngcontent-sc197=""><mat-form-field _ngcontent-sc197="" appearance="fill" data-track-content="" data-content-piece="Form Field: Email" data-content-name="Contact Form Field: Secret Splitter"></mat-form-field><mat-form-field _ngcontent-sc197="" appearance="fill" data-track-content="" data-content-piece="Form Field: Message" data-content-name="Contact Form Field: Secret Splitter"></mat-form-field></mat-card-content><mat-card-actions _ngcontent-sc197=""></mat-card-actions></mat-card></form></app-contact-form></section></div><!----></app-contact></section></div>]]>
            </description>
            <link>https://www.securilla.com/secret-splitter</link>
            <guid isPermaLink="false">hacker-news-small-sites-24491897</guid>
            <pubDate>Wed, 16 Sep 2020 12:22:37 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Contravariant Functors Are Weird]]>
            </title>
            <description>
<![CDATA[
Score 28 | Comments 7 (<a href="https://news.ycombinator.com/item?id=24491887">thread link</a>) | @gbrown_
<br/>
September 16, 2020 | https://sanj.ink/posts/2020-06-13-contravariant-functors-are-weird.html | <a href="https://web.archive.org/web/*/https://sanj.ink/posts/2020-06-13-contravariant-functors-are-weird.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
            <p>Just a note about nomenclature before we start; I’ll use “functor” to represent the <a href="https://bartoszmilewski.com/2015/01/20/functors/">categorical meaning</a> of the concept:</p>
<blockquote>
<p>A functor is a mapping between categories</p>
</blockquote>
<p>and <code>Functor</code> and <code>Contravariant</code> to specify the typeclass encodings of functors.</p>
<hr>
<p>Let’s begin!</p>
<p>Contravariant functors are odd aren’t they? Covariant functors (which are modelled by the <code>Functor</code> typeclass) are quite straightforward but <strong>contra</strong>variant functors as their name implies seem to be the complete opposite.</p>
<p>Before we get into what a contravariant functor is, it’s useful to look at the <code>Functor</code> <a href="https://wiki.haskell.org/Typeclassopedia">typeclass</a> which we know and love.</p>
<h2 id="functor">Functor</h2>
<p>A <code>Functor</code> is defined as:</p>
<div><pre><code><span>class</span> <span>Functor</span> f <span>where</span>
<span>  fmap ::</span> (a <span>-&gt;</span> b) <span>-&gt;</span> f a <span>-&gt;</span> f b</code></pre></div>
<p>We often understand a <code>Functor</code> to be a “container” or a “producer” of some type, where the function supplied to <code>fmap</code> is applied to the elements that are “contained” or “produced” in some type constructor<a href="#type-constructor-1"><sup>1</sup></a> <code>f</code>.</p>
<p>A simple example would be the list (<code>[]</code>) type, that can represent zero or more values. Given a <code>[a]</code> we can turn it into a <code>[b]</code> when given a function <code>a -&gt; b</code>.</p>
<div><pre><code><span>data</span> [] a <span>=</span> [] <span>|</span> a <span>:</span> [a]  <span>-- an approximation of the [] data type</span>

<span>instance</span> <span>Functor</span> [] <span>where</span>
  fmap _ [] <span>=</span> []
  fmap f (x<span>:</span>xs) <span>=</span> f x <span>:</span> fmap f xs</code></pre></div>
<p>In the example below we convert a <code>[Int]</code> into a <code>[String]</code> given a function <code>Int -&gt; String</code>:</p>
<div><pre><code><span>import </span><span>Data.Semigroup</span> ((&lt;&gt;))

<span>myInts ::</span> [<span>Int</span>]
myInts <span>=</span> [<span>1</span> <span>..</span> <span>5</span>]

<span>emptyInts ::</span> [<span>Int</span>]
emptyInts <span>=</span> []

<span>intToString ::</span> <span>Int</span> <span>-&gt;</span> <span>String</span>
intToString n <span>=</span> (show n) <span>&lt;&gt;</span> <span>"!"</span>

<span>myStrings ::</span> [<span>String</span>]
myStrings <span>=</span> fmap intToString myInts <span>-- ["1!","2!","3!","4!","5!"]</span>

<span>myEmptyString ::</span> []
myEmptyString <span>=</span> fmap intToString emptyInts  <span>-- []</span></code></pre></div>
<p>Another example would the <code>Maybe</code> data type, that represents a value that may or may not exist.</p>
<div><pre><code><span>data</span> <span>Maybe</span> a <span>=</span> <span>Nothing</span> <span>|</span> <span>Just</span> a

<span>instance</span> <span>Functor</span> <span>Maybe</span> <span>where</span>
  fmap _ <span>Nothing</span> <span>=</span> <span>Nothing</span>
  fmap f (<span>Just</span> x) <span>=</span> <span>Just</span> (f x)</code></pre></div>
<p>In the example below we convert a <code>Maybe Int</code> into a <code>Maybe String</code> given a function <code>Int -&gt; String</code>:</p>
<div><pre><code><span>import </span><span>Data.Semigroup</span> ((&lt;&gt;))

<span>maybeInt ::</span> <span>Maybe</span> <span>Int</span>
maybeInt <span>=</span> <span>Just</span> <span>10</span>

<span>notInt ::</span> <span>Maybe</span> <span>Int</span>
notInt <span>=</span> <span>Nothing</span>

<span>intToString ::</span> <span>Int</span> <span>-&gt;</span> <span>String</span>
intToString n <span>=</span> (show n) <span>&lt;&gt;</span> <span>"!"</span>

<span>maybeString ::</span> <span>Maybe</span> <span>String</span>
maybeString <span>=</span> fmap intToString maybeInt <span>-- Just "10!"</span>

<span>notString ::</span> <span>Maybe</span> <span>String</span>
notString <span>=</span> fmap intToString notInt <span>-- Nothing</span></code></pre></div>
<p>The <code>Functor</code> typeclass has laws, that ensure <code>Functor</code> instances behave in a predictable way.</p>
<h3 id="laws">Laws</h3>
<h4 id="identity">Identity</h4>

<p>Essentially if you do nothing to the value of a <code>Functor</code>, you get the same <code>Functor</code> you started with.</p>
<h4 id="composition">Composition</h4>
<div><pre><code>fmap (f <span>.</span> g) <span>==</span> fmap f <span>.</span> fmap g</code></pre></div>
<p>If you convert the result of a Functor by <code>fmap</code>ing with a function <code>g</code> and then <code>fmap</code>ing that result with a subsequent function <code>f</code>, it’s the same as composing functions <code>g</code> and <code>f</code> (<code>f . g</code>) and then <code>fmap</code>ing once.</p>
<div>
<p><img src="https://sanj.ink/images/contravariant/functor-laws-ct.png" alt="Functor Laws"></p><p>Functor Laws</p>
</div>
<h3 id="the-wrong-type-of-fmap">The Wrong Type of fmap</h3>
<p>Now let’s look at something a little different. Let’s create a data type to wrap a predicate of some sort. A predicate is something that will evaluate to a <code>Bool</code>:</p>
<div><pre><code><span>newtype</span> <span>Predicate</span> a <span>=</span> <span>Predicate</span> {<span> getPredicate ::</span> a <span>-&gt;</span> <span>Bool</span> }</code></pre></div>
<p>An example of a Predicate is <code>greaterThanTen</code>:</p>
<div><pre><code><span>greaterThanTen ::</span> <span>Predicate</span> <span>Int</span>
greaterThanTen <span>=</span> <span>Predicate</span> (\n <span>-&gt;</span> n <span>&gt;</span> <span>10</span>)</code></pre></div>
<p>that tests whether a number is greater than ten.</p>
<p>We can run with it <code>getPredicate</code> and an <code>Int</code>:</p>
<div><pre><code>getPredicate greateThanTen <span>5</span>  <span>-- False</span>
getPredicate greateThanTen <span>11</span> <span>-- True</span></code></pre></div>
<p>It could be useful to define a <code>Functor</code> instance for Predicate - say if we have a <code>Predicate Int</code> and we want to convert it into a <code>Predicate String</code> when we have a <code>Int -&gt; String</code> function. Let’s try and implement that:</p>
<div><pre><code><span>instance</span> <span>Functor</span> <span>Predicate</span> <span>where</span>
  <span>-- fmap (a -&gt; b) -&gt; Predicate a -&gt; Predicate b</span>
  fmap f (<span>Predicate</span> p) <span>=</span> <span>Predicate</span> (\b <span>-&gt;</span> undefined)
  fmap f (<span>Predicate</span> (a <span>-&gt;</span> <span>Bool</span>)) <span>=</span> <span>Predicate</span> (\b <span>-&gt;</span> undefined)  <span>-- expanding p</span>
  fmap (a <span>-&gt;</span> b) (<span>Predicate</span> (a <span>-&gt;</span> <span>Bool</span>)) <span>=</span> <span>Predicate</span> (\b <span>-&gt;</span> undefined) <span>-- expanding f</span></code></pre></div>
<p>Now we’ve run into a small problem:</p>
<blockquote>
<p>How do we compose (a -&gt; Bool) and (a -&gt; b) to give us a (b -&gt; Bool) ?</p>
</blockquote>
<p>We are given a <code>b</code> but we don’t have access to any functions that actually use a <code>b</code>.</p>
<p>The problem is that we can’t. It’s because of something called “polarity” of the type variable <code>a</code>. No <code>Functor</code> instance for you <code>Predicate</code>.</p>

<h2 id="polarity">Polarity</h2>
<p>Polarity is a way of representing <a href="https://en.wikipedia.org/wiki/Covariance_and_contravariance_(computer_science)">variance</a> using the position of type variables. Let’s take a simple function <code>a -&gt; b</code> as an example.</p>
<div>
<p><img src="https://sanj.ink/images/contravariant/function-polarity.png" alt="Function Polarity"></p><p>Function Polarity</p>
</div>
<p>If a type variable is in <strong>input</strong> position like <code>a</code> it is given a <strong>negative</strong> polarity. If it is in an <strong>output</strong> position like <code>b</code> then it is given a <strong>positive</strong> polarity.</p>
<p>These polarities map directly to variant types.</p>
<table>
<thead>
<tr>
<th>Polarity</th>
<th>Variance</th>
</tr>
</thead>
<tbody>
<tr>
<td>Positive</td>
<td>Covariant</td>
</tr>
<tr>
<td>Negative</td>
<td>Contravariant</td>
</tr>
<tr>
<td>Both</td>
<td>Invariant</td>
</tr>
</tbody>
</table>
<p>What this means is that <code>Functor</code>s (which are actually covariant functors) require a type constructor in a covariant position in order for you to define a <code>Functor</code> instance for that type.</p>
<p>Let’s look at a type that we know has a <code>Functor</code> instance like <code>Maybe</code>:</p>
<div>
<p><img src="https://sanj.ink/images/contravariant/maybe-polarity.png" alt="Polarity of the Maybe data type"></p><p>Polarity of the Maybe data type</p>
</div>
<p>We can see that the type variable <code>a</code> occurs in a covariant (or output) position within the definition of the <code>Just</code> constructor.</p>
<p>Now let’s look at the definition of <code>Predicate</code> data type:</p>
<div>
<p><img src="https://sanj.ink/images/contravariant/predicate-polarity.png" alt="Polarity of the Predicate data type"></p><p>Polarity of the Predicate data type</p>
</div>
<p>We can see that the type variable <code>a</code> occurs in a contravariant (or input) position. This indicates that we can’t create a (covariant) <code>Functor</code> instance for this data type.</p>
<p>But we want to map things! What do we do?</p>
<h2 id="contravariant">Contravariant</h2>
<p>Welcome the <code>Contravariant</code> typeclass to the stage! It’s defined as:</p>
<div><pre><code><span>class</span> <span>Contravariant</span> f <span>where</span>
<span>  contramap ::</span> (a <span>-&gt;</span> b) <span>-&gt;</span> f b <span>-&gt;</span> f a</code></pre></div>
<p>Snazzy! <code>Contravariant</code> also takes some kind of type constructor <code>f</code> just like <code>Functor</code> but it has this weirdly named <code>contramap</code> function instead of <code>fmap</code>.</p>
<div><pre><code><span>     fmap ::</span> (a <span>-&gt;</span> b) <span>-&gt;</span> f a <span>-&gt;</span> f b <span>-- Functor</span>
<span>contramap ::</span> (a <span>-&gt;</span> b) <span>-&gt;</span> f b <span>-&gt;</span> f a <span>-- Contravariant</span>
                         <span>^^^</span></code></pre></div>
<p>If we read <code>fmap</code> as:</p>
<blockquote>
<p>If you have an <code>a</code> in some context and a function that takes that <code>a</code> and converts it to a <code>b</code>, I can give you a context with a <code>b</code> in it.</p>
</blockquote>
<p>we can then read <code>contramap</code> as:</p>
<blockquote>
<p>If you have a context that needs an <code>a</code> and a function that can convert <code>b</code>s to <code>a</code>s, I can give you a context that needs <code>b</code>s.</p>
</blockquote>
<p>But that probably doesn’t make much sense. So let’s try and look at this in terms of our non-<code>Functor</code>: <code>Predicate</code>. <code>Predicate</code> has a <strong>need</strong> for an <code>a</code>, which it then uses to tell if something about that <code>a</code> is True or False.</p>
<p>Let’s try and write a <code>Contravariant</code> instance for <code>Predicate</code> given that we know that the type <code>a</code> in <code>Predicate</code> occurs in an input position.</p>
<div><pre><code><span>instance</span> <span>Contravariant</span> <span>Predicate</span> <span>where</span>
  <span>-- contramp (a -&gt; b) -&gt; f b -&gt; f a</span>
  contramap (a <span>-&gt;</span> b) <span>-&gt;</span> <span>Predicate</span> b <span>-&gt;</span> <span>Predicate</span> a <span>-- substituting for `f` for Predicate</span>
  contramap aToB (<span>Predicate</span> bToBool) <span>=</span> <span>Predicate</span> (\a <span>-&gt;</span> undefined)</code></pre></div>
<p>Given that we have a function <code>a -&gt; b</code> and essentially a function of type <code>b -&gt; Bool</code> (wrapped inside a <code>Predicate b</code>), we can if given an <code>a</code>, convert it to a <code>b</code> using <code>aToB</code> and then give that <code>b</code> to <code>bToBool</code> to give us a <code>Bool</code>.</p>
<p>Here’s a slightly long-form implementation of the <code>Contravariant</code> instance for <code>Predicate</code>:</p>
<div><pre><code><span>instance</span> <span>Contravariant</span> <span>Predicate</span> <span>where</span>
<span>  contramap ::</span> (a <span>-&gt;</span> b) <span>-&gt;</span> <span>Predicate</span> b <span>-&gt;</span> <span>Predicate</span> a
  contramap aToB (<span>Predicate</span> bToBool) <span>=</span>
    <span>Predicate</span> <span>$</span> \a <span>-&gt;</span>
      <span>let</span> b    <span>=</span> aToB a
          bool <span>=</span> bToBool b
      <span>in</span> bool</code></pre></div>
<div>
<p><img src="https://sanj.ink/images/contravariant/contramap-predicate.png" alt="contramap on Predicate"></p><p>contramap on Predicate</p>
</div>
<p>or more succinctly:</p>
<div><pre><code><span>instance</span> <span>Contravariant</span> <span>Predicate</span> <span>where</span>
<span>  contramap ::</span> (a <span>-&gt;</span> b) <span>-&gt;</span> <span>Predicate</span> b <span>-&gt;</span> <span>Predicate</span> a
  contramap f (<span>Predicate</span> b) <span>=</span> <span>Predicate</span> <span>$</span> b <span>.</span> f</code></pre></div>
<p>We can see from the definition of <code>Predicate a</code> that all we are doing is running the supplied function <code>f</code> <strong>before</strong> the function within <code>Predicate b</code>. The reason we do that is to adapt a new input type to match an existing input type to gain some functionality.</p>
<p>If we revisit the (covariant) <code>Functor</code> instance for <code>Maybe</code>:</p>
<div><pre><code><span>instance</span> <span>Functor</span> <span>Maybe</span> <span>where</span>
  fmap _ <span>Nothing</span> <span>=</span> <span>Nothing</span>
  fmap aToB (<span>Just</span> a) <span>=</span> <span>Just</span> (aToB a)</code></pre></div>
<p>we can see that the function <code>aToB</code> is run <strong>after</strong> we have a value of <code>a</code>. We do that to convert a result of some type to another type.</p>
<div>
<p><img src="https://sanj.ink/images/contravariant/fmap-maybe.png" alt="fmap on Maybe"></p><p>fmap on Maybe</p>
</div>
<p>These are the essential differences between covariant and contravariant functors:</p>
<table>
<thead>
<tr>
<th>Typeclass</th>
<th>Function runs</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td>Functor</td>
<td>after</td>
<td>Convert results</td>
</tr>
<tr>
<td>Contravariant</td>
<td>before</td>
<td>Adapt inputs</td>
</tr>
</tbody>
</table>
<p>Now that we know the essential difference between <code>Functor</code> and <code>Contravariant</code>, let’s look at how we can use <code>contramap</code> with our <code>Predicate</code> class.</p>
<p>Given that we already have a <code>Predicate</code> that determines whether a number is greater than ten:</p>
<div><pre><code><span>numGreaterThanTen ::</span> <span>Predicate</span> <span>Int</span>
numGreaterThanTen <span>=</span> <span>Predicate</span> (\n <span>-&gt;</span> n <span>&gt;</span> <span>10</span>)</code></pre></div>
<p>say we want to write another <code>Predicate</code> that verifies that the length of String is greater than ten characters.</p>
<div><pre><code><span>strLengthGreaterThanTen ::</span> <span>Predicate</span> <span>String</span>
strLengthGreaterThanTen <span>=</span> <span>Predicate</span> (\s <span>-&gt;</span> (length s) <span>&gt;</span> <span>10</span>)</code></pre></div>
<p>Sure, that’s pretty contrived but bear with me. Let’s also say we have a <code>Person</code> data type and we want to know if a person’s name is over ten characters long - if so we consider that to be a long name.</p>
<div><pre><code><span>data</span> <span>Person</span> <span>=</span> <span>Person</span> {<span> personName ::</span> <span>String</span>,<span> personAge ::</span> <span>Int</span> }

<span>personLongName ::</span> <span>Predicate</span> <span>Person</span>
personLongName <span>=</span> <span>Predicate</span> (\p <span>-&gt;</span> (length <span>.</span> personName <span>$</span> p) <span>&gt;</span> <span>10</span>)</code></pre></div>
<p>And we can run these <code>Predicate</code>s as:</p>
<div><pre><code>getPredicate numGreaterThanTen <span>5</span> <span>-- False</span>
getPredicate numGreaterThanTen <span>20</span> <span>-- True</span>

getPredicate strLengthGreaterThanTen <span>"hello"</span>       <span>-- False</span>
getPredicate strLengthGreaterThanTen <span>"hello world"</span> <span>-- True</span>

getPredicate personLongName <span>$</span> <span>Person</span> <span>"John"</span> <span>30</span>        <span>-- False</span>
getPredicate personLongName <span>$</span> <span>Person</span> <span>"Bartholomew"</span> <span>30</span> <span>-- True</span></code></pre></div>
<p>And this is fine, but there’s some duplication across each of the <code>Predicate</code>s - namely the part where we compare a number to ten:</p>
<div><pre><code>(\n <span>-&gt;</span> n <span>&gt;</span> <span>10</span>)  <span>-- Int</span>
(\s <span>-&gt;</span> (length s) <span>&gt;</span> <span>10</span>) <span>-- String</span>
(\p <span>-&gt;</span> (length <span>.</span> personName <span>$</span> p) <span>&gt;</span> <span>10</span>) <span>-- Person</span></code></pre></div>
<p>It would be nice if we didn’t have to repeat ourselves.</p>
<p>If we look at the differences between <code>numGreaterThanTen</code>, <code>strLengthGreaterThanTen</code> and <code>personLongName</code> we can see that the only difference is that one works on an <code>Int</code> and the others work on <code>String</code> and <code>Person</code> respectively. <code>strLengthGreaterThanTen</code> and <code>personLongName</code> each convert their input types to an <code>Int</code> and then do the same comparison:</p>
<div><pre><code><span>Predicate</span> (\(<span>n ::</span> <span>Int</span>) <span>-&gt;</span>
  <span>let</span> num <span>=</span> id n
  <span>in</span> num <span>&gt;</span> <span>10</span> <span>-- (1)</span>
) <span>-- numGreaterThanTen</span>


<span>Predicate</span> (\(<span>s ::</span>…</code></pre></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://sanj.ink/posts/2020-06-13-contravariant-functors-are-weird.html">https://sanj.ink/posts/2020-06-13-contravariant-functors-are-weird.html</a></em></p>]]>
            </description>
            <link>https://sanj.ink/posts/2020-06-13-contravariant-functors-are-weird.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24491887</guid>
            <pubDate>Wed, 16 Sep 2020 12:21:18 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Amazon S3 Quick Reference]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24491802">thread link</a>) | @rajanpanchal
<br/>
September 16, 2020 | https://rajanpanchal.net/amazon-s3-quick-reference/ | <a href="https://web.archive.org/web/*/https://rajanpanchal.net/amazon-s3-quick-reference/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content"><p><img src="https://s3.amazonaws.com/blog-images-rajanpanchal.net/s3-infographics/s3-infographics.png" data-src="https://s3.amazonaws.com/blog-images-rajanpanchal.net/s3-infographics/s3-infographics.png" data-srcset="https://s3.amazonaws.com/blog-images-rajanpanchal.net/s3-infographics/s3-infographics.png, https://s3.amazonaws.com/blog-images-rajanpanchal.net/s3-infographics/s3-infographics.png 1.5x, https://s3.amazonaws.com/blog-images-rajanpanchal.net/s3-infographics/s3-infographics.png 2x" data-sizes="auto" alt="https://s3.amazonaws.com/blog-images-rajanpanchal.net/s3-infographics/s3-infographics.png" title="AWS S3 Quick Reference Infographics" srcset="https://s3.amazonaws.com/blog-images-rajanpanchal.net/s3-infographics/s3-infographics.png, https://s3.amazonaws.com/blog-images-rajanpanchal.net/s3-infographics/s3-infographics.png 1.5x, https://s3.amazonaws.com/blog-images-rajanpanchal.net/s3-infographics/s3-infographics.png 2x"></p>
<p><em>If you like the post ,feel free to share and follow me on <a href="https://twitter.com/PanchalRajan" target="_blank" rel="noopener noreffer">Twitter</a> for updates!</em></p>
</div></div>]]>
            </description>
            <link>https://rajanpanchal.net/amazon-s3-quick-reference/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24491802</guid>
            <pubDate>Wed, 16 Sep 2020 12:07:54 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A book every creator should read (summarized for those with no time)]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24491567">thread link</a>) | @elazzabi_
<br/>
September 16, 2020 | https://elazzabi.com/2020/09/16/show-your-work-by-austin-kleon-extended-book-resume/ | <a href="https://web.archive.org/web/*/https://elazzabi.com/2020/09/16/show-your-work-by-austin-kleon-extended-book-resume/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		
<p><em>A new way of operating.</em></p>



<p>This is one of the books every creator should read. It is full of information for those trying to build an online audience. In this new world where information is abundant, it’s hard to be spotted. How to get people to notice your work? How can you get your stuff out there? And how you can get an audience?</p>



<p>Austin starts by this quote:</p>



<blockquote><p>Be so good they can’t ignore you.</p><cite>Steve Martin</cite></blockquote>



<p>And while it’s true, it’s not enough to be good. In order to be found, you have to be findable. This book goes into details on how sharing your work with the world can help you build an audience. The same audience that will help you get your word out once you’re ready.</p>



<p>The book helps you think about your work as a never-ending process and how to share it in a way that attracts people who might be interested in what you do.</p>



<h2>You don’t have to be a genius</h2>



<p>We see a genius as an individual with superhuman talents, free of the influence of a precedent, and with a direct connection to God. When inspiration comes, it strikes like a lighting bolt and then he spends the rest of his time in his studio turning this idea into a masterpiece.</p>



<p>But that’s not true.</p>



<p>Creative work is done in a group. All group members are contributing ideas, stealing from each other, copying, etc. It’s not about how smart you are, but about what you have to contribute, the ideas you share, the quality of connections you make, and the conversations you start. Austin calls this group a <strong>scenius</strong>.</p>



<p>Find your scenius, and be a good contributor.</p>



<hr>



<p>Austin then moves to talk about being an “expert”. He explains how the world is changing at such a rapid pace that it’s turning us all to amateurs. So instead of fighting it, embrace being an amateur.</p>



<p>An amateur is someone following something in the spirit of love. Because they have little to lose, amateurs are willing to try anything and share results.</p>



<blockquote><p>In the beginner’s mind, there are many possibilities. In the expert’s mind, there are only few.</p></blockquote>



<p>On the spectrum of creative work, the difference of mediocre and good is vast. But mediocrity is still on the spectrum, you can move up in increments. The real gap is between doing nothing and doing something. Amateurs know that contributing something is better than contributing nothing.</p>



<p>The best way to start in the path of sharing you work is to commit to learning in front of others. Find a scenius, pay attention to what others are sharing, and then start taking note. Look for voids you can fill with your own efforts, no matter how bad they are at first.</p>



<hr>



<p>On doing what we love, Austin explains how we’ve always been told to find our voice, but we never really know what this means. You can’t find your voice if you don’t use it. So talk about the things you love. Your voice will follow.</p>



<p>When talking about your work, make sure you do it online. In this day and age, if your work isn’t online, it doesn’t exist. We all have the opportunity to use our voices, to have our say, but so many of us are wasting it. If you want people to know about what you do and the things you care about, you have to share them.</p>



<h2>Think process, not product</h2>



<p>In a pre-digital world, the only way an artist could connect with an audience was through a gallery show or art magazine. But today, with social media, an artist can share whatever she wants, whenever she wants, at almost no cost. By sharing her day-to-day process, she can form a unique bond with her audience. <strong>Take people behind the scenes</strong>.</p>



<blockquote><p>People really want to see how sausages get made</p></blockquote>



<p>Become a documentarian of what you do. Let your audience see the person behind the products.</p>



<p>A lot of us go about our work and feel like we have nothing to show for it at the end of the day. But whatever the nature of your work, there is an art to what you do, and <strong>there are people who would be interested in that art</strong>. If only you presented it to them in the right way!</p>



<p>How can you show your work even when you have nothing to show? You need to make stuff (also see my post on <a href="https://elazzabi.com/2020/05/12/how-to-create-a-public-portfolio-when-what-you-do-is-private-or-proprietary/">how to create a public portfolio when your work is private</a>). No one will give a damn about your résumé, they want to see what you have made with your little fingers. Start a journal and write your thoughts, or speak in an audio recorder. Take a lot of photographs of your work at different stages. Shoot videos. etc. This is not about making art, it’s about simply keeping track of what’s going on around you. When you are ready to share, you’ll have a surplus of material to choose from.</p>



<h2>Share something small every day</h2>



<p>Every success needs decades worth of hard work and perseverance. But thankfully, you don’t need that time all in one big chunk. And speaking about chunks, forget big chunks. Forget years, months, weeks… Focus on something small. Focus on days.</p>



<p>Once a day, after you finish your work, go back to your documentation and find one little piece you can share. If you’re just starting, share your influencers and what’s inspiring you. If you’re in the middle, share your process or methods of work. If you completed the project, share the final result. If you have multiple projects in the wild, report how they are doing or share stories about how people are interacting with your work.</p>



<p>The form you use for sharing doesn’t matter. Blog, tweet, video, it doesn’t matter. There’s no one-size-fits-all plan for everybody. Pick what works for you, and stick to it.</p>



<p>Produce and share a lot. <em>Theodore Sturgeon</em>, a fiction author, states that 90% of what we produce is crap, the other 10% is good work. But the problem is we don’t know which is which until we share it with others. So make sure to share a lot, but keep in mind anything you share will be there forever. So don’t share something you don’t want your boss or mom to see.</p>



<hr>



<p>You daily updates will construct what Austin calls the <strong>Flow</strong>. But you need another part to achieve results, and it’s called the <strong>Stock</strong>. If the <em>flow</em> is the daily stream of updates, the <em>stock</em> is the content that will be still interesting in months and years from publication.</p>



<p>Stock is what people discover via search. It’s what spreads slowly but surely, building fans over time. And the magic formula is to <strong>maintain your flow, while working on your stock in the background</strong>.</p>



<p>Your stock is made by collecting, organizing, and expanding upon your flow. Social media is a public notebook where we share our ideas and invite others to share their voice with us. But the thing with notebooks is you need to revisit them in order to make the most out of them.</p>



<p>Social networks are good, but they come and go. If you’re really interested in sharing your work and expressing yourself, nothing beats owning your own space online, a place that you control. Buy a good domain name, and create your blog.</p>



<p>A blog is the perfect machine to turn flow into stocks. One blog post is nothing on its own. But publish a thousand blog posts over a decade, and it turns into your life’s work. This sounds technical, but a few Google searches will show you the way.</p>



<h2><strong>Open your cabinet of curiosities.</strong></h2>



<p>If you happened to be wealthy and educated in the 16th-17th century, chances are you had a cabinet of curiosities. A room filled with rare objects that served as a kind of external display. Books, skeletons, jewels, shells… were all part of the cabinet.</p>



<p>Before we are ready to take the leap of sharing our own work with the world, we can share our tastes in the work of others. Where do you get your inspiration? What do you read? Do you subscribe to anything? What movies do you see?…</p>



<p>When you share this online, always credit people and include a link pointing to the website of the creator.  The number one rule of the Internet is <strong>people are lazy</strong>. If you don’t include a link, no one will bother searching.</p>



<h2>Tell good stories</h2>



<blockquote><p>You might think that the pleasure you get from a painting depends on its color, its shape, and its pattern. And if that’s right, it shouldn’t matter if it’s an original or a forgery. But our brains don’t work like that. When shown an object, a face… people’s assessment -how much they like it- is deeply affected by what you tell them about it</p><cite>Paul Bloom – Psychology Professor</cite></blockquote>



<p>Words matter. Your work doesn’t exist in a vacuum. Whether you realize it or not, you’re already telling a story about your work. Every email you send, tweet, video, comment… they are all contributing to the narrative you’re constantly constructing.  If you want to be more effective when sharing yourself and your work, you need to become a better storyteller. You need to know what a good story is and how to tell one.</p>



<p>To tell a story, you need structure. But sadly, our life is messy. A good pitch has 3 acts: The first act is the past, where you’ve been, what you want, how you came to want it… The second act is the present, where you are now, how you’ve worked hard and used up most of your resources. The third act is the future, where you’re going, and how exactly is the person you’re pitching can help you get there.</p>



<p>Whether you’re telling a finished or unfinished story, always keep your audience in mind. Speak to them directly in plain language. Be brief. Learn to speak. Lear to write. Use spell-check…</p>



<h2>Teach what you know</h2>



<p>Think about what you can share from your process that would benefit your audience. What are your techniques? Are you skilled at using certain tools/materials? The minute you learn something, turn around and teach it to others. Share your reading list. Point to helpful reference materials. Create some tutorials and post them online. Use pictures, words, and videos. Make people better at something they want to be better at.</p>



<h2>Don’t turn into human spam</h2>



<p>There is a category of humans called human spam. They’re everywhere, and they exist in every profession. They don’t want to pay their dues, they want their piece right away. They don’t listen to your ideas, they tell you theirs. You should …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://elazzabi.com/2020/09/16/show-your-work-by-austin-kleon-extended-book-resume/">https://elazzabi.com/2020/09/16/show-your-work-by-austin-kleon-extended-book-resume/</a></em></p>]]>
            </description>
            <link>https://elazzabi.com/2020/09/16/show-your-work-by-austin-kleon-extended-book-resume/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24491567</guid>
            <pubDate>Wed, 16 Sep 2020 11:29:24 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Face AR SDK v0.31: Eyebrow Segmentation and New Makeup API]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 1 (<a href="https://news.ycombinator.com/item?id=24491544">thread link</a>) | @banuba
<br/>
September 16, 2020 | https://www.banuba.com/blog/face-ar-sdk-v0.31-eyebrow-segmentation-and-new-makeup-api | <a href="https://web.archive.org/web/*/https://www.banuba.com/blog/face-ar-sdk-v0.31-eyebrow-segmentation-and-new-makeup-api">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
            <header>
                
                
                
                
                
                
                
                <span>SDK Release</span>
                
                
                


                

                
                  <p>
  Discover exciting possibilities with Face AR SDK v0.31 release! Get inspired to create your engaging apps with eyebrow segmentation and Beautification API. 
</p>
                
             

              

              <p><time datetime="September 3, 2020">
                  September 3, 2020
                </time>
              </p>

              <ul>
                
                
                
                
              </ul>

                
                <p><img src="https://www.banuba.com/hubfs/img_B_AT_SDKrelease_004@2x-min.jpg" alt="">
                </p>
                
              
            </header>

            <p><span id="hs_cos_wrapper_post_body" data-hs-cos-general-type="meta_field" data-hs-cos-type="rich_text"><h2>Be the first to test new features!<br>Explore Face AR SDK and get in touch for a trial.</h2>
<p><!--HubSpot Call-to-Action Code --><span id="hs-cta-wrapper-7bb31ba1-48a5-47c7-87aa-7f8905ce9a97"><span id="hs-cta-7bb31ba1-48a5-47c7-87aa-7f8905ce9a97"><!--[if lte IE 8]><div id="hs-cta-ie-element"></div><![endif]--><a href="https://cta-redirect.hubspot.com/cta/redirect/4992313/7bb31ba1-48a5-47c7-87aa-7f8905ce9a97" target="_blank"><img id="hs-cta-img-7bb31ba1-48a5-47c7-87aa-7f8905ce9a97" src="https://no-cache.hubspot.com/cta/default/4992313/7bb31ba1-48a5-47c7-87aa-7f8905ce9a97.png" alt="Explore Face AR SDK"></a></span></span><!-- end HubSpot Call-to-Action Code --></p>
<h2><!--more-->Eyebrow segmentation (iOS)</h2>
<p>Our Face AR SDK now supports eyebrow segmentation for iOS and macOS. We trained the neural network to recognize the eyebrows area on the face.</p>
<p><img src="https://www.banuba.com/hs-fs/hubfs/eyebrow%20segmentation.gif?width=298&amp;name=eyebrow%20segmentation.gif" alt="eyebrow segmentation" width="298" srcset="https://www.banuba.com/hs-fs/hubfs/eyebrow%20segmentation.gif?width=149&amp;name=eyebrow%20segmentation.gif 149w, https://www.banuba.com/hs-fs/hubfs/eyebrow%20segmentation.gif?width=298&amp;name=eyebrow%20segmentation.gif 298w, https://www.banuba.com/hs-fs/hubfs/eyebrow%20segmentation.gif?width=447&amp;name=eyebrow%20segmentation.gif 447w, https://www.banuba.com/hs-fs/hubfs/eyebrow%20segmentation.gif?width=596&amp;name=eyebrow%20segmentation.gif 596w, https://www.banuba.com/hs-fs/hubfs/eyebrow%20segmentation.gif?width=745&amp;name=eyebrow%20segmentation.gif 745w, https://www.banuba.com/hs-fs/hubfs/eyebrow%20segmentation.gif?width=894&amp;name=eyebrow%20segmentation.gif 894w" sizes="(max-width: 298px) 100vw, 298px"><em>Eyebrow Segmentation Demo Real-time</em></p>
<p>Eyebrow detection can be used in beauty apps for makeup transfer tasks. Or you can integrate it into entertainment apps to cut out the real eyebrows, recolor, or add funny animation.</p>
<h2>New Makeup API</h2>
<p>We’ve been working on alleviating developers’ efforts for makeup try-on app development. Our new <a href="https://docs.banuba.com/docs/effect_constructor/examples/makeup" rel="noopener" target="_blank"><span>Makeup API</span></a> reduces developers efforts for feature integration, eliminates the handwritten code duplicates and ensures consistency of code. Developers can use ready-made documented methods to call AR beauty features in their apps.</p>
<div data-service="youtube" data-responsive="true"><div><p data-mce-style="position: relative; overflow: hidden; max-width: 100%; padding-bottom: 56.25%; margin: 0px;"><iframe allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" xml="lang" src="https://www.youtube.com/embed/mgXlmffi3g4?feature=oembed" width="480" height="270" frameborder="0" allowfullscreen="" data-mce-src="https://www.youtube.com/embed/mgXlmffi3g4?feature=oembed" data-mce-style="position: absolute; top: 0px; left: 0px; width: 100%; height: 100%; border: none;"></iframe></p></div></div>
<p>Additionally, the makeup effect design and customization capabilities extended too. You can create e-commrce try-on apps and advertise specific items or combine makeup into preset looks for beauty and selfie editors.</p>
<hr>
<p><span>Also Read:</span> <span><a href="https://www.banuba.com/blog/makeup-api-accelerates-beauty-try-on-app-development" rel="noopener" target="_blank">How Makeup API Accelerates Beauty Try On App Development</a></span></p>
<hr>

<h2><span>SDK build for MacOS&nbsp;</span></h2>
<p><span>To extend our Face AR SDK platform support, we added the SDK build for MacOS. Developers can now create and preview apps on <span>MacOS 10.13 and up,</span> while users can experience amazing Face AR experiences beyond iPhones, on their desktop too. Refer to the <a href="https://docs.banuba.com/docs/overview/sdk_features" rel="noopener" target="_blank"><span>List of features</span></a> for detailed information about platform availability.</span></p>
<h2><span>Face Tracking Switch Off</span></h2>
<p><span>To minify the SDK size, we added the ability to enable effects and neural networks without face recognizer. Some SDK features like background subtraction or hair detection use neural networks to perform a task and don't require face tracking. By disabling it, developers can decrease the app size and achieve better performance due to saved capacity.</span></p>
<h2><span>Fixed or Adaptive FPS (Android)</span></h2>
<p>Developers can now set camera FPS on Android to fixed or adaptive mode. The fixed mode provides stable FPS values or stops consuming capacity for camera exposure if these values can’t be achieved, e.g. low lighting conditions. The adaptive mode adjusts the camera exposure trying to search for the face even with low lighting conditions.</p>
<p>For the full list of bug fixes and improvements, visit our <a href="https://docs.banuba.com/docs/overview/releases" rel="noopener" target="_blank">Release Note Page</a>.</p>
<h2>Explore how our Face AR SDK can help you to empower your app with some amazing features that your users will love.</h2>
<p><!--HubSpot Call-to-Action Code --><span id="hs-cta-wrapper-8ebc9951-51c0-42ce-8282-5cd01d78c4c2"><span id="hs-cta-8ebc9951-51c0-42ce-8282-5cd01d78c4c2"><!--[if lte IE 8]><div id="hs-cta-ie-element"></div><![endif]--><a href="https://cta-redirect.hubspot.com/cta/redirect/4992313/8ebc9951-51c0-42ce-8282-5cd01d78c4c2" target="_blank"><img id="hs-cta-img-8ebc9951-51c0-42ce-8282-5cd01d78c4c2" src="https://no-cache.hubspot.com/cta/default/4992313/8ebc9951-51c0-42ce-8282-5cd01d78c4c2.png" alt="Start Free Trial"></a></span></span><!-- end HubSpot Call-to-Action Code --></p></span>
            </p>

            
          </div></div>]]>
            </description>
            <link>https://www.banuba.com/blog/face-ar-sdk-v0.31-eyebrow-segmentation-and-new-makeup-api</link>
            <guid isPermaLink="false">hacker-news-small-sites-24491544</guid>
            <pubDate>Wed, 16 Sep 2020 11:25:59 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Search and Replace Tricks with Ripgrep]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24491475">thread link</a>) | @asicsp
<br/>
September 16, 2020 | https://learnbyexample.github.io/substitution-with-ripgrep/ | <a href="https://web.archive.org/web/*/https://learnbyexample.github.io/substitution-with-ripgrep/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
    
    

    <div>
      <p><a href="https://github.com/BurntSushi/ripgrep">ripgrep</a> (command name <code>rg</code>) is a <code>grep</code> tool, but supports search and replace as well. <code>rg</code> is far from a like-for-like alternate for <code>sed</code>, but it has nifty features like multiline replacement, fixed string matching, <code>PCRE2</code> support, etc. This post gives an overview of syntax for substitution and highlights some of the cases where <code>rg</code> is a handy replacement for <code>sed</code>.</p>
<h2 id="global-search-and-replace">Global search and replace<a href="#global-search-and-replace" aria-label="Anchor link for: global-search-and-replace">🔗</a></h2>
<pre><code><span>$ cat ip.txt
dark blue, light blue
light orange
blue sky

</span><span># by default, line number is displayed if output destination is stdout
# by default, only lines that matched the given pattern is displayed
# 'blue' is search pattern and -r 'red' is replacement string
</span><span>$ rg </span><span>'blue' </span><span>-</span><span>r </span><span>'red'</span><span> ip.txt
</span><span>1:dark</span><span> red, light red
</span><span>3:red</span><span> sky

</span><span># --passthru option is useful to print all lines, whether or not it matched
# -N will disable line number prefix
# this command is similar to: sed 's/blue/red/g' ip.txt
</span><span>$ rg </span><span>--</span><span>passthru </span><span>-</span><span>N </span><span>'blue' </span><span>-</span><span>r </span><span>'red'</span><span> ip.txt
dark red, light red
light orange
red sky
</span></code></pre><br>
<h2 id="matching-nth-occurrence">Matching Nth occurrence<a href="#matching-nth-occurrence" aria-label="Anchor link for: matching-nth-occurrence">🔗</a></h2>
<p>As seen in previous example, <code>rg</code> will search and replace all occurrences. So, you'll have to be creative with regexp to replace only a specific occurrence per input line.</p>
<pre><code><span>$ s=</span><span>'see bat hot at but at go gate at sat at but at'

</span><span># replace first occurrence only
# same as: sed 's/\bat\b/[xyz]/'
</span><span>$ echo </span><span>"$s" </span><span>|</span><span> rg </span><span>--</span><span>passthru </span><span>-</span><span>N </span><span>'\bat\b(.*)' </span><span>-</span><span>r </span><span>'[xyz]$1'</span><span>
see bat hot [xyz] but at go gate at sat at but at

</span><span># same as: sed 's/\bat\b/[xyz]/3'
# the number within {} is N-1 to replace Nth occurrence, for N&gt;1
</span><span>$ echo </span><span>"$s" </span><span>|</span><span> rg </span><span>--</span><span>passthru </span><span>-</span><span>N </span><span>'^((.*?\bat\b){2}.*?)\bat\b' </span><span>-</span><span>r </span><span>'$1[xyz]'</span><span>
see bat hot at but at go gate [xyz] sat at but at

</span><span># replace last but Nth occurrence, for N&gt;=0
</span><span>$ echo </span><span>"$s" </span><span>|</span><span> rg </span><span>--</span><span>passthru </span><span>-</span><span>N </span><span>'^(.*)\bat\b((.*\bat\b){3})' </span><span>-</span><span>r </span><span>'$1[xyz]$2'</span><span>
see bat hot at but [xyz] go gate at sat at but at
</span></code></pre><br>
<h2 id="in-place-workaround">In-place workaround<a href="#in-place-workaround" aria-label="Anchor link for: in-place-workaround">🔗</a></h2>
<p><code>rg</code> doesn't support in-place option, so you'll have to do it yourself.</p>
<pre><code><span># -N isn't needed here as output destination is a file
# same as: sed -i 's/blue/red/g' ip.txt
</span><span>$ rg </span><span>--</span><span>passthru </span><span>'blue' </span><span>-</span><span>r </span><span>'red'</span><span> ip.txt </span><span>&gt;</span><span> tmp.txt </span><span>&amp;&amp;</span><span> mv tmp.txt ip.txt

$ cat ip.txt
dark red, light red
light orange
red sky
</span></code></pre>
<p>If you have <a href="https://joeyh.name/code/moreutils/">moreutils installed</a>, then you could use <code>sponge</code> as well.</p>
<pre><code><span>rg </span><span>--</span><span>passthru </span><span>'blue' </span><span>-</span><span>r </span><span>'red'</span><span> ip.txt </span><span>|</span><span> sponge ip.txt
</span></code></pre><br>
<h2 id="rust-regex-and-pcre2">Rust regex and PCRE2<a href="#rust-regex-and-pcre2" aria-label="Anchor link for: rust-regex-and-pcre2">🔗</a></h2>
<p>By default, <code>rg</code> uses Rust regular expressions, which is much more featured compared to <code>GNU sed</code>. The main feature not supported is backreference within regexp definition (for performance reasons). See <a href="https://docs.rs/regex/1.3.9/regex/index.html">Rust regex documentation</a> for regular expression syntax and features. <code>rg</code> supports Unicode by default.</p>
<pre><code><span># non-greedy quantifier is supported
</span><span>$ s=</span><span>'food land bark sand band cue combat'</span><span>
$ echo </span><span>"$s" </span><span>|</span><span> rg </span><span>--</span><span>passthru </span><span>'foo.*?ba' </span><span>-</span><span>r </span><span>'[xyz]'
</span><span>[xyz]rk sand band cue combat

</span><span># unicode support
</span><span>$ echo </span><span>'fox:αλεπού,eagle:αετός' </span><span>|</span><span> rg </span><span>--</span><span>passthru </span><span>'\p{L}+' </span><span>-</span><span>r </span><span>'($0)'
</span><span>(fox)</span><span>:</span><span>(αλεπού),(eagle)</span><span>:</span><span>(αετός)

</span><span># set operator example, remove all punctuation characters except . ! and ?
</span><span>$ para=</span><span>'"hi", there! how *are* you? all fine here.'</span><span>
$ echo </span><span>"$para" </span><span>|</span><span> rg </span><span>--</span><span>passthru </span><span>'[[:punct:]--[.!?]]+' </span><span>-</span><span>r </span><span>''</span><span>
hi there! how are you? all fine here.
</span></code></pre>
<p>The <code>-P</code> switch will enable <a href="https://www.pcre.org/current/doc/html/index.html">PCRE2</a> flavor, which has even more tricks. You can also use <code>--engine=auto</code> to allow <code>rg</code> to automatically use <code>PCRE2</code> when needed (for example: useful as an alias for <code>rg</code> command so that it gives performance of Rust engine by default and use <code>PCRE2</code> only when needed).</p>
<pre><code><span># backreference within regexp definition
</span><span>$ s=</span><span>'cocoa appleseed tool speechless'</span><span>
$ echo </span><span>"$s" </span><span>|</span><span> rg </span><span>--</span><span>passthru </span><span>-</span><span>wP </span><span>'([a-z]*([a-z])\2[a-z]*){2}' </span><span>-</span><span>r </span><span>'{$0}'</span><span>
cocoa {appleseed} tool {speechless}

</span><span># replace all whole words except 'imp' and 'ant'
</span><span>$ s=</span><span>'tiger imp goat eagle ant important'</span><span>
$ echo </span><span>"$s" </span><span>|</span><span> rg </span><span>--</span><span>passthru </span><span>-</span><span>P </span><span>'\b(imp|ant)\b(*SKIP)(*F)|\w+' </span><span>-</span><span>r </span><span>'[$0]'
</span><span>[tiger] imp [goat] [eagle] ant [important]

</span><span># recursively match parentheses
</span><span>$ eqn=</span><span>'(3+a)x * y((r-2)*(t+2)/6) + z(a(b(c(d(e)))))'</span><span>
$ echo </span><span>"$eqn" </span><span>|</span><span> rg </span><span>--</span><span>passthru </span><span>-</span><span>P </span><span>'\((?:[^()]++|(?0))++\)' </span><span>-</span><span>r </span><span>''</span><span>
x </span><span>*</span><span> y </span><span>+</span><span> z

$ </span><span># all lowercase letters and optional hyphen combo from start of string
</span><span>$ s=</span><span>'apple-fig-mango guava grape'</span><span>
$ echo </span><span>"$s" </span><span>|</span><span> rg </span><span>--</span><span>passthru </span><span>-</span><span>P </span><span>'\G([a-z]+)(-)?' </span><span>-</span><span>r </span><span>'($1)$2'
</span><span>(apple)</span><span>-</span><span>(fig)</span><span>-</span><span>(mango) guava grape
</span></code></pre><br>
<h2 id="extract-and-modify">Extract and modify<a href="#extract-and-modify" aria-label="Anchor link for: extract-and-modify">🔗</a></h2>
<p>The <code>-r</code> option can be used when <code>-o</code> option is active too. The example shown below is not easy to do with <code>sed</code>.</p>
<pre><code><span>$ s=</span><span>'0501 035 154 12 26 98234'

</span><span># numbers &gt;= 100 and ignore leading zeros
</span><span>$ echo </span><span>"$s" </span><span>|</span><span> rg </span><span>-</span><span>woP </span><span>'0*+(\d{3,})' </span><span>-</span><span>r </span><span>'"$1"' </span><span>|</span><span> paste </span><span>-</span><span>sd,
</span><span>"501"</span><span>,</span><span>"154"</span><span>,</span><span>"98234"
</span></code></pre><br>
<h2 id="fixed-string-matching">Fixed string matching<a href="#fixed-string-matching" aria-label="Anchor link for: fixed-string-matching">🔗</a></h2>
<p>Like <code>grep</code>, the <code>-F</code> option will allow fixed strings to be matched, a handy option that I feel every search and replace tool should provide.</p>
<pre><code><span>$ </span><span>printf </span><span>'2.3/[4]*6\nfoo\n5.3-[4]*9\n' </span><span>|</span><span> rg </span><span>--</span><span>passthru </span><span>-</span><span>F </span><span>'[4]*' </span><span>-</span><span>r </span><span>'2'
</span><span>2.3</span><span>/</span><span>26</span><span>
foo
</span><span>5.3</span><span>-</span><span>29
</span></code></pre>
<p><code>-F</code> doesn't extend to replacement section though, so you need <code>$$</code> instead of <code>$</code> character to represent it literally.</p>
<pre><code><span>$ echo </span><span>'a.*{2}-b' </span><span>|</span><span> rg </span><span>--</span><span>passthru </span><span>-</span><span>F </span><span>'.*{2}' </span><span>-</span><span>r </span><span>'+$x\tc'</span><span>
a</span><span>+</span><span>\tc</span><span>-</span><span>b
$ echo </span><span>'a.*{2}-b' </span><span>|</span><span> rg </span><span>--</span><span>passthru </span><span>-</span><span>F </span><span>'.*{2}' </span><span>-</span><span>r </span><span>'+$$x\tc'</span><span>
a</span><span>+</span><span>$x</span><span>\tc</span><span>-</span><span>b
</span></code></pre><br>
<h2 id="multiline-matching">Multiline matching<a href="#multiline-matching" aria-label="Anchor link for: multiline-matching">🔗</a></h2>
<p>Another handy option is <code>-U</code> which enables multiline matching.</p>
<pre><code><span>$ s=</span><span>'hi there\nhave a nice day\nbye'

</span><span># (?s) flag will allow . to match newline characters as well
</span><span>$ </span><span>printf </span><span>'</span><span>%b</span><span>' "$s" </span><span>|</span><span> rg </span><span>--</span><span>passthru </span><span>-</span><span>U </span><span>'(?s)the.*ice' </span><span>-</span><span>r </span><span>''</span><span>
hi  day
bye
</span></code></pre><br>
<h2 id="handling-dos-style-input">Handling dos-style input<a href="#handling-dos-style-input" aria-label="Anchor link for: handling-dos-style-input">🔗</a></h2>
<p><code>rg</code> provides support for dos-style files with <code>--crlf</code> option.</p>
<pre><code><span># same as: sed -E 's/\w+(\r?)$/xyz\1/'
# note that output will retain CR+LF as line ending
# similar to the sed solution, this will work for unix-style input too
</span><span>$ </span><span>printf </span><span>'hi there\r\ngood day\r\n' </span><span>|</span><span> rg </span><span>--</span><span>passthru </span><span>--</span><span>crlf </span><span>'\w+$' </span><span>-</span><span>r </span><span>'xyz'</span><span>
hi xyz
good xyz
</span></code></pre><br>
<h2 id="speed-comparison-with-gnu-sed">Speed comparison with GNU sed<a href="#speed-comparison-with-gnu-sed" aria-label="Anchor link for: speed-comparison-with-gnu-sed">🔗</a></h2>
<p>Another advantage of <code>rg</code> is that it is likely to be faster than <code>sed</code>. See <a href="https://blog.burntsushi.net/ripgrep/">ripgrep benchmark with other grep implementations</a> by the author for a methodological detailed analysis and insights.</p>
<pre><code><span># for small files, initial processing time of rg is a large component
</span><span>$ time echo </span><span>'aba' </span><span>|</span><span> sed </span><span>'s/a/b/g' </span><span>&gt;</span><span> f1
real	0m0.002s
$ time echo </span><span>'aba' </span><span>|</span><span> rg </span><span>--</span><span>passthru </span><span>'a' </span><span>-</span><span>r </span><span>'b' </span><span>&gt;</span><span> f2
real	0m0.007s

</span><span># for larger files, rg is likely to be faster
# 6.2M sample ASCII file
</span><span>$ wget </span><span>'https://norvig.com/big.txt'</span><span>
$ time </span><span>LC_ALL</span><span>=</span><span>C</span><span> sed </span><span>'s/\bcat\b/dog/g'</span><span> big.txt </span><span>&gt;</span><span> f1
real	0m0.060s
$ time rg </span><span>--</span><span>passthru </span><span>'\bcat\b' </span><span>-</span><span>r </span><span>'dog'</span><span> big.txt </span><span>&gt;</span><span> f2
real	0m0.048s
$ diff </span><span>-</span><span>s f1 f2
</span><span>Files</span><span> f1 </span><span>and</span><span> f2 are identical

</span><span># nearly 8 times faster!!
</span><span>$ time </span><span>LC_ALL</span><span>=</span><span>C</span><span> sed </span><span>-</span><span>E </span><span>'s/\b(\w+)(\s+\1)+\b/\1/g'</span><span> big.txt </span><span>&gt;</span><span> f1
real	0m0.725s
$ time rg </span><span>--</span><span>no</span><span>-</span><span>unicode </span><span>--</span><span>passthru </span><span>-</span><span>wP </span><span>'(\w+)(\s+\1)+' </span><span>-</span><span>r </span><span>'$1'</span><span> big.txt </span><span>&gt;</span><span> f2
real	0m0.093s
$ diff </span><span>-</span><span>s f1 f2
</span><span>Files</span><span> f1 </span><span>and</span><span> f2 are identical
</span></code></pre><br>
<h2 id="other-alternatives-for-sed">Other alternatives for sed<a href="#other-alternatives-for-sed" aria-label="Anchor link for: other-alternatives-for-sed">🔗</a></h2>
<ul>
<li><a href="https://unix.stackexchange.com/questions/112023/how-can-i-replace-a-string-in-a-files/251742#251742">rpl</a> — search and replace tool, has interesting options like interactive mode and recursive mode</li>
<li><a href="https://github.com/chmln/sd">sd</a> — simple search and replace, implemented in Rust</li>
<li><a href="https://www.perl.org/">perl</a> and <a href="https://www.ruby-lang.org/en/">ruby</a> — programming languages with excellent command line support</li>
</ul>

    </div>

    
    

    

    
    
</article></div>]]>
            </description>
            <link>https://learnbyexample.github.io/substitution-with-ripgrep/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24491475</guid>
            <pubDate>Wed, 16 Sep 2020 11:15:18 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Combinatorics Coincidence (2008)]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24491462">thread link</a>) | @susam
<br/>
September 16, 2020 | https://susam.in/blog/combinatorics-coincidence/ | <a href="https://web.archive.org/web/*/https://susam.in/blog/combinatorics-coincidence/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

<p>By <b>Susam Pal</b> on 14 Sep 2008</p>

<p>
In this blog post, I will tell you a story about a remarkable
coincidence that occurred last week when a friend of mine and I were
sharing puzzles with each other.
</p>


<h2 id="recurrence-relation"><a href="#recurrence-relation">Recurrence Relation</a></h2>

<p>
While having lunch with my friend, I shared the following problem
involving a recurrence relation:
</p>

<p>
For integers \( n \ge 1 \) and \( k \ge 1, \)

\[
  f_k(n) =
    \begin{cases}
      n                       &amp; \text{if } k = 1, \\
      \sum_{i=1}^n f_{k-1}(i) &amp; \text{if } k &gt; 0.
    \end{cases}
\]

Find a closed-form expression for \( f_k(n). \)
</p>


<h2 id="nested-loops"><a href="#nested-loops">Nested Loops</a></h2>

<p>
Soon after I shared the above problem, he gave me a problem of his own.
Here is the problem shared by him:
</p>

<div>
<p>
Consider the following pseudocode with <code>k</code> nested loops.
</p>
<pre><code>x = 0
for c<sub>1</sub> in 1 to n:
    for c<sub>2</sub> in 1 to c<sub>1</sub>:
        ...
            for c<sub>k</sub> in 1 to c<sub>k-1</sub>:
                x = x + 1</code>
</pre>
<p>
What is the final value of <code>x</code> after the outermost loop
terminates?
</p>
</div>


<h2 id="coincidence"><a href="#coincidence">Coincidence</a></h2>

<p>
With one problem each, we went back to our desks. As I began solving the
<em>nested loops</em> problem shared by him, I realized that the
solution to his problem led me to the <em>recurrence relation</em> in
the problem I shared with him.
</p>

<p>
In the <em>nested loops</em> problem, if \( k = 1, \) the final value of
\( x \) after the loop terminates is \( x = n. \) This is also the value
of \( f_1(n). \)
</p>

<p>
If \( k = 2, \) the inner loop with counter \( c_2 \) runs
once when \( c_1 = 1, \) twice when \( c_1 = 2, \) and so on.
Therefore after the loop terminates, \( x = 1 + 2 + \dots + n =
\frac{n(n + 1)}{2}. \) Note that this series is same as \( f_2(n) =
f_1(1) + f_1(2) + \dots + f_1(n). \)
</p>

<p>
Extending this argument, we now see that for any \( k &gt; 0, \) the final
value of \( x \) is

\[
f_k(n) = f_{k-1}(1) + f_{k-1}(2) + \dots + f_{k-1}(n).
\]

In other words, the solution to his <em>nested loops</em> problem is the
solution to my <em>recurrence relation</em> problem. It was an
interesting coincidence that the problems we shared with each other had
the same solution.
</p>


<h2 id="closed-form-expression"><a href="#closed-form-expression">Closed-Form Expression</a></h2>
<p>
The closed form expression for the recurrence relation is

\[
f_k(n) = \binom{n + k - 1}{k}.
\]
</p>

<p>
It is quite easy to prove this using the principle of mathematical
induction. Since we know that this is also the result of the <em>nested
loops</em> problem, we can also arrive at this result by another way.
</p>

<p>
In the <em>nested loops</em> problem, the following condition is always
met due to the loop conditions:

\[
n \ge c_1 \ge c_2 \ge \dots \ge c_k \ge 1.
\]
</p>

<p>
The variables \( c_1, c_2, \dots, c_k \) take every possible choice
of integer values that satisfy the above condition. If we find out how
many such choices are there, we would know how many times the
variable \( x \) is incremented.
</p>

<p>
Therefore the final value of \( x \) is the number of possible ways of
arranging \( k \) numbers from the first \( n \) natural numbers in
descending order. To find this number, let us consider \( n \)
similar balls and \( k \) similar sticks. For every possible permutation
of these balls and sticks such that there is at least one ball to the
right of the rightmost stick, if we count the number of balls to the
right of the \( i \)th stick, we get a number that the variable \( c_i
\) (the counter variable in the \( i \)th loop statement) holds in some
iteration of its loop. Therefore the variable \( c_i \) is represented
as the number of balls lying on the right side of the \( i \)th stick
where \( 1 \le i \le k. \)
</p>

<p>
The above argument holds good because the first stick has more balls to
its right than the second one, the second stick has more balls to its
right than the third one, and so on, so \( n \ge c_1 \ge c_2 \ge \dots
\ge c_k \) is always satisfied. Further, we have added the constraint
that at least one ball must lie on the right side of the \( k \)th
stick, so \( c_k \ge 1. \) Also, any set of valid values for \( c_1,
c_2, \dots, c_k \) can be represented as an arrangement of these sticks
and balls.
</p>

<p>
To compute the number of permutations of \( n \) similar balls and \( k
\) similar sticks such that there is at least one ball to the right side
of the rightmost stick, we need to consider the rightmost ball to be
fixed in its position in all permutations. Thus we are left with only \(
n - 1 \) similar balls and \( k \) similar sticks that we can rearrange
in different ways. The number of permutations of \( n - 1 \) similar
balls and \( k \) similar sticks is

\[
\frac{(n + k - 1)!}{(n - 1)! k!} = \binom{n + k - 1}{k}.
\]
</p>

<p>
This closed-form expression is the solution to both the <em>recurrence
relation</em> problem and the <em>nested loops</em> problem.
</p>





</div></div>]]>
            </description>
            <link>https://susam.in/blog/combinatorics-coincidence/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24491462</guid>
            <pubDate>Wed, 16 Sep 2020 11:12:10 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Using sponsorware to fund my open source project]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24491439">thread link</a>) | @leoloso
<br/>
September 16, 2020 | https://leoloso.com/posts/milestone-first-github-sponsor/ | <a href="https://web.archive.org/web/*/https://leoloso.com/posts/milestone-first-github-sponsor/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>2 days ago I subscribed to GitHub sponsors to fund my work on the <a href="https://github.com/GraphQLAPI/graphql-api-for-wp">GraphQL API for WordPress</a>, and I already got <a href="https://github.com/sponsors/leoloso/">my first sponsor</a>!</p><figure><img src="https://leoloso.com/images/leoloso-github-sponsors.png" alt="GitHub sponsors" loading="lazy" width="2048" height="1510"><figcaption>GitHub sponsors</figcaption></figure><p>Following the example set by Caleb Porzio (who's making <a href="https://calebporzio.com/i-just-hit-dollar-100000yr-on-github-sponsors-heres-how-i-did-it">more than u$d 100k/y doing open source</a>), I have decided to use the <a href="https://calebporzio.com/sponsorware">sponsorware model</a> to fund my project. It works like this:</p><ul><li>Whenever I get 10 new sponsors (at u$d 14/m), I start developing the most up-voted feature from a special <a href="https://github.com/GraphQLAPI/graphql-api-for-wp/projects/2">"Sponsorware" list</a> (which I'm completing as I'm writing this milestone)</li><li>Once implemented, the new feature becomes available to all the sponsors, via a private GitHub repo</li><li>As soon as I get 50 new sponsors, the new feature becomes open source, accessible to everyone via the public GitHub repo, and is integrated into the plugin</li></ul><figure><img src="https://leoloso.com/images/sponsorware-features.png" alt="Sponsorware features" loading="lazy" width="2048" height="1120"><figcaption>Sponsorware features</figcaption></figure><p>In a few months, I will also start creating instructional videos, explaining how to make the most out of the plugin. According to Caleb, this is the biggest money-making strategy.</p><p>I have also decided to add a middle tier (at u$d 70/m), where I provide Slack-based personal support, to help users of my plugin set-up GraphQL with WordPress, troubleshooting, and answering their questions. A user needed help to develop a functionality, so he decided to sponsor me &lt;= my first sponsor ❤️</p><p>Finally, I added a higher tier (at u$d 700) for corporate sponsors. I plan to ask around in the WordPress community if their companies may be interested in participating. That would be a win-win: They get plenty of face from contributing to open source, and I get the certainty that I can make a living wage from my work and can focus on the development of the plugin (and not on marketing, which is not my forte).</p><figure><img src="https://leoloso.com/images/leoloso-github-sponsor-projects.png" alt="My sponsors and sponsored projects" loading="lazy" width="2048" height="1210"><figcaption>My sponsors and sponsored projects</figcaption></figure><p>I hope the sponsorware model works, and I can make a living while working on open source. I'll keep writing updates on how it goes, here on my blog, and <a href="https://www.indiehackers.com/leoloso">on IndieHackers</a>.</p><p>I have now <a href="https://github.com/GraphQLAPI/graphql-api-for-wp/projects/2">listed down all the features</a> I plan to implement if I can get the funding. Right now, there are 23 of them (some of them are low-effort, so they can be bundled together):</p><figure><a href="https://leoloso.com/images/sponsorable-features.png" target="_blank"><img src="https://leoloso.com/images/sponsorable-features.png" alt="Features looking for sponsors" loading="lazy" width="3200" height="1806"></a><figcaption>Features looking for sponsors</figcaption></figure></div></div>]]>
            </description>
            <link>https://leoloso.com/posts/milestone-first-github-sponsor/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24491439</guid>
            <pubDate>Wed, 16 Sep 2020 11:07:35 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Elixir in Production: Plausible Analytics]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24491317">thread link</a>) | @NaeosPsy
<br/>
September 16, 2020 | https://serokell.io/blog/elixir-in-production-plausible-analytics | <a href="https://web.archive.org/web/*/https://serokell.io/blog/elixir-in-production-plausible-analytics">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><em>Searching for an open-source Google Analytics alternative?</em></p><p><em>Our guest has your back. Uku Täht is the founder of <a href="https://plausible.io/">Plausible Analytics</a>, an open-source web analytics project built with Elixir. For the last couple of months, his project has attracted a lot of attention through <a href="https://plausible.io/blog/remove-google-analytics">informative blog posts</a> and very positive user reviews.</em></p><p><em>In this interview, we talk about his use of Elixir in production: the benefits, the downsides, the specifics, and why Elixir is so good for projects like Plausible Analytics.</em></p><h2 id="interview-with-uku-t%C3%A4ht">Interview with Uku Täht</h2><p><strong>Could you tell us a little about your company and your role there?</strong></p><p>Plausible Analytics is an open-source project dedicated to making web analytics more privacy-friendly. Our mission is to reduce corporate surveillance by providing an alternative web analytics tool that doesn’t have any links to AdTech.</p><p>I started building Plausible almost two years ago as a side project. I’ve been working on it full-time since the beginning of this year and I’ve also partnered up with Marko who handles the marketing and communication side of things.</p><p><img src="https://serokell.io/files/uj/ujixp3oy.2_(22)_(1).jpg" alt="ujixp3oy.2_(22)_(1).jpg"></p><hr><center><i>Uku Täht, the founder of Plausible Analytics.</i></center><p><strong>What is the key feature or set of features that make using Plausible Analytics a feasible replacement over Google Analytics?</strong></p><p>Google Analytics is overkill for most website owners. Plausible cuts through the noise by presenting all the important website traffic insights and metrics on one single page. You don’t need training or experience in web analytics to get started.</p><p>Keeping the script lightweight is also a priority. Our script is more than 17 times smaller than the Google Analytics script and more than 45 times smaller than the recommended Google Analytics integration using the Google Tag Manager.</p><p>But the biggest reason to choose Plausible is the fact that we’re committed to building open source software. The code behind our service is freely available for anyone. By using Plausible you help build software that everyone can benefit from, not just the corporations.</p><p><strong>How did Elixir as the language of choice work for you when implementing these features?</strong></p><p>I think Elixir is perfect for our use-case. It’s a very productive language once you learn it and it can also handle tons of traffic. Last month we processed 60 million pageviews with absolutely no issues.</p><p>Elixir really shines when you have stateful requirements for the app server. For example, we keep all the active sessions in memory so we don’t have to look a session up from the database on every event. It was a joy to build this part of the app using the GenServer primitives.</p><p><strong>How much did the fact that your product is not only self-hosted but also a SaaS inform your decision to go with Elixir? Did you choose it to scale a SaaS?</strong></p><p>I do believe that using Elixir allows us to make self-hosting a bit easier. In other languages, it’s common to use tools like Redis and external message queues but in Elixir we can often avoid these extra tools and keep the infrastructure requirements simple.</p><p>Plausible is currently designed to run on just one node. Once we start building out support for multi-node deployments, things will get really interesting. I feel like Elixir and the BEAM are designed perfectly for our use-case where we need multiple nodes to share state about visitors sessions.</p><p>Hopefully, we can evolve the architecture without needing extra infrastructure bits and pieces. The goal is to keep the requirements as simple as possible so everyone can run the code on their own server. By relying on BEAM fundamentals, we can probably avoid in-memoy stores, external message queues, and cluster managers altogether, making Plausible easy to self-host.</p><p><strong>Could you tell us more about your deployment: where do you host, how do you deploy, do you use the hot code reload functionality?</strong></p><p>We <a href="https://plausible.io/blog/made-in-eu">recently moved</a> from Heroku to using Digital Ocean. I wanted to eat our own dog food when it comes to the Docker infrastructure we built for self-hosting. So now we have a Digital Ocean droplet pre-configured with Docker and we just pull new images from our <a href="https://hub.docker.com/r/plausible/analytics">DockerHub</a>.</p><p>Since we have a single node deployment, we do have around 30 seconds of downtime on each deploy and we don’t have auto-scaling support. We will deal with these issues as we scale, I just wanted to be upfront about the downsides of how we’re running it.</p><p>We don’t use hot code reloading since it doesn’t play well with the Docker flow.</p><p><strong>What was the biggest challenge while developing Plausible Analytics with Elixir?</strong></p><p>We use a database called Clickhouse for storing our stats. It’s a fairly new and cutting-edge database and it doesn’t have a robust integration with Elixir yet. We use a low-level connection library which gives us random errors sometimes.</p><p>I’m thinking about taking the time to write a proper Ecto adapter for Clickhouse so we can run migrations and have better error handling. It’s easy to complain about the lack of libraries in the Elixir ecosystem but I’d like to do my part in helping the ecosystem thrive.</p><p><strong>Are you satisfied with the result?</strong></p><p>Definitely. If I could go back and do it all over, I would choose the same stack again. Elixir+Phoenix is really fun to work with and it performs even better than I expected.</p><p><strong>Any key takeaways that you would like to share with our audience?</strong></p><p>Elixir is a wonderful language and its ecosystem is really coming along. I would encourage everyone to give it a try and contribute back to the ever-growing list of libraries and frameworks to make it even more powerful.</p><hr><p>I’d like to thank Uku for the interview! If you want to see more examples of Elixir used in production, check out <a href="https://serokell.io/blog/elixir-in-production-venu">our interview</a> with one of the Venu co-founders or read our post about <a href="https://serokell.io/blog/elixir-companies">companies that use Elixir</a>.</p><p>Additionally, if you have your own Elixir in production story to tell (both good and bad), we definitely want to hear it! You are welcome to write to us: <a href="mailto:hi@serokell.io">hi@serokell.io</a>.</p></div></div>]]>
            </description>
            <link>https://serokell.io/blog/elixir-in-production-plausible-analytics</link>
            <guid isPermaLink="false">hacker-news-small-sites-24491317</guid>
            <pubDate>Wed, 16 Sep 2020 10:40:20 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Corto decompresses meshes significantly faster than DRACO]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24491260">thread link</a>) | @shawticus
<br/>
September 16, 2020 | http://vcg.isti.cnr.it/corto | <a href="https://web.archive.org/web/*/http://vcg.isti.cnr.it/corto">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>


<p><b>Corto</b> is a library for compression and decompression meshes and point clouds (C++ and Javascript).
</p><p>Source code can be found on <a href="https://github.com/cnr-isti-vclab/corto">Github</a></p>

<p>Corto supports point clouds and meshes with per vertex attributes: normals, colors, texture coordinates and custom attributes.</p>


<p>The main focus of this work is on decompression speed, see performances, both for C++ lib and javascript, while still providing good compression rates.</p>

<ul>
<li><a href="#corto">corto</a> is program to compress .ply and .obj models
</li><li><a href="#libcorto">libcorto</a> is a C++ compression/decompression library
</li><li><a href="#corto.js">corto.js</a> a javascript library for .crt decompression
</li><li><a href="#cortoloader">CORTOLoader</a>, a threejs loader.
</li></ul>

<p>This work is based on the compression algorithm developed for the <a href="http://vcg.isti.cnr.it/nexus">Nexus</a> project for creation and visualization of multiresolution models. This approach has many advantages for large models in term of streaming and adaptive rendering.<br>
See <a href="http://vcg.isti.cnr.it/Publications/2015/PD15/">Fast decompression for web-based view-dependent 3D rendering</a>.</p>


<h2><a name="gallery"></a>Gallery</h2>

<div>







<div><p><a href="http://vcg.isti.cnr.it/demo.html?model=buddha.crt">
<img src="http://vcg.isti.cnr.it/img/buddha.jpg" alt="Buddha"></a></p><p>Buddha 0.47MB 0.20MT<br><span>Courtesy of <a href="http://vcg.isti.cnr.it/">VCG</a></span></p>
</div>

<div><p><a href="http://vcg.isti.cnr.it/demo.html?model=tarta.crt">
<img src="http://vcg.isti.cnr.it/img/tarta.jpg" alt="Tarta"></a></p><p>Tarta 5.6MB 5.3MT<br><span>Courtesy of <a href="http://vcg.isti.cnr.it/">VCG</a></span></p>
</div>



</div> <!--row -->

<h2><a name="corto"></a>Corto</h2>

<p>A small executable to convert <em>.ply</em> and <em>.obj</em> into compressed format <em>.crt</em></p>

<pre>Usage:

corto [options] FILE

FILE is the path to a .ply or a .obj 3D model.

	-o &lt;output&gt;: filename of the .crt compressed file.
						if not specified the extension of the input file will be replaced.
	-e &lt;key=value&gt;: add an exif property, or more than one.
	-p : treat the input as a point cloud.
	-v &lt;bits&gt;: vertex bits quantization. If not specified an euristic is used
	-n &lt;bits&gt;: normal bits quantization. Default 10.
	-c &lt;bits&gt;: color bits quantization. Default 6.
	-u &lt;bits&gt;: texture coordinate bits. Default 10.
	-q &lt;step&gt;: quantization step unit (float) instead of bits for vertex coordinates
	-N &lt;prediction&gt;: normal prediction can be:
						delta: use difference from previous normal (fastest)
						 estimated: use difference from compute normals (cheaper)
						border: store difference only for boundary vertices (cheapest)
	-A : compute and add normals to the model.
	-P &lt;file.ply&gt;: decompress and save as .ply for debugging purpouses
</pre>

<p>Material groups for obj (newmtl) and ply with texnumbers are preserved into the crt model, additional properties can be stored in the file using the <em>-e</em> option.</p>

<p><em>-v 12</em> will result in the quantization of the coordinates to 1/4096th of the largest dimension in the bounding box. If not specified the quantization step is set to 1/20th of the average edge.</p>

<p><em>-n 10</em> normals are stored using the octahedron parametrization to a square of 1024x1024 positions, resulting in a better sample distribution than quantization in 3D.</p>


<h2><a name="cortoloader"></a>CORTOLoader</h2>

<p>CORTOLoader.js is similar to THREE.OBJLoader in functionality, and can easily replace it in three.js.</p>

<pre>var loader = new THREE.CORTOLoader({ path: "models/" });  
//materials autocreated, pass otherwise option loadMaterial: false

loader.load("bunny.crt", function(mesh) {
	//needed to render on texture load
	mesh.addEventListener("change", render);

	if(!mesh.geometry.attributes.normal)
		mesh.geometry.computeVertexNormals();

	scene.add(mesh); 
	render();
});
</pre>

<p>CORTOLoader is pretty self-explanatory in how to create a THREE.Mesh:</p>

<pre>var decoder = new CortoDecoder(blob); //where blob is an ArrayBuffer
var model = decoder.decode();

var geometry = new THREE.BufferGeometry();
if(model.nface)
	geometry.setIndex(new THREE.BufferAttribute(model.index, 1));

if(model.groups.length &gt; 0) {
	var start = 0;
	for(var i = 0; i &lt; model.groups.length; i++) {
		var g = model.groups[i];
		geometry.addGroup(start*3, g.end*3, i);
		start = g.end;
	}
}

geometry.addAttribute('position', new THREE.BufferAttribute(model.position, 3));
if(model.color)
	geometry.addAttribute('color', new THREE.BufferAttribute(model.color, 3, true));
if (model.normal)
	geometry.addAttribute('normal', new THREE.BufferAttribute(model.normal, 3, true));
if (model.uv)
	geometry.addAttribute('uv', new THREE.BufferAttribute(model.uv, 2));

var mesh = new THREE.Mesh(geometry);
</pre>



<h2><a name="corto.js"></a>Corto.js</h2>

<p>CortoDecoder class decodes a .crt as an arraybuffer and returns an objects with attributes (positions, index, colors etc).</p>

<pre>&lt;script src="js/corto.js"&gt; &lt;/script&gt;

&lt;script&gt;
var request = new XMLHttpRequest();
request.open('GET', 'bunny.crt');
request.responseType = 'arraybuffer';
request.onload = function() {
	var decoder = new CortoDecoder(this.response);
	var model = decoder.decode();
	console.log(model.nvert, model.nface, model.groups);
	console.log('Index: ', model.index);
	console.log('Positions: ', model.position);
	console.log('Colors: ', model.color);
	console.log('Nornmals: ', model.normal);
	console.log('Tex coords: ', model.uv);
	//custom attributes can be encoded, see cortolib below for details.
}
request.send();
&lt;/script&gt;
</pre>

<h2><a name="libcorto"></a>Libcorto</h2>

<p>Interface is not entirely stable, no mayor change is expected. See src/main.cpp for an extensive example.</p>

<pre>#include &lt;corto/encoder.h&gt;
#include &lt;corto/decoder.h&gt;

std::vector&lt;float&gt; coords;
std::vector&lt;uint32_t&gt; index;
std::vector&lt;float&gt; uv;
std::vector&lt;float&gt; radius;

//fill data arrays...

crt::Encoder encoder(nvert, nface);

//add attributes to be encoded
encoder.addPositions(coords.data(), index.data(), vertex_quantization_step);
encoder.addUvs(uvs.data(), pow(2, -uv_bits));

//add custom attributes
encoder.addAttribute("radius", (char *)radiuses.data(), crt::VertexAttribute::FLOAT, 1, 1.0f);

const char *compressed_data = encoder.stream.data();
const uint32_t compressed_size = encoder.stream.size();
Decoding

crt::Decoder decoder(size, data);

//allocate memory if needed
coords.resize(decoder.nvert*3);
index.resize(decoder.nface*3);

//tell the decoder where to decompress data
decoder.setPositions(coords.data());

if(decoder.data.count("uv")) {
	out.uvs.resize(decoder.nvert*2);
	decoder.setUvs(out.uvs.data());
}
//actually decode
decoder.decode();
</pre>

<h3><a name="encoder"></a>Encoder</h3>

<pre>Encoder(uint32_t _nvert, uint32_t _nface = 0, Stream::Entropy entropy = Stream::TUNSTALL);
</pre>

<p>The Encoder class assume the input is an indexed mesh, specify the number of vertices and faces (0 for point clouds). For debug or entropy compression test Stream supports lzip and lz4, they can be enabled defining ENTROPY_TESTS in the makefile.</p>

<p>Vertex coordinates, attributes and indices are passed to the encoder (assuming they respect the nvert, nface paramenters: 3*nvert for positions and normals, 4*nvert for colors, 2*nvert for uv, 3*nface for indices)</p>

<h4>Coordinates</h4>

<pre>bool addPositions(const float *buffer, float q = 0.0f, Point3f o = Point3f(0.0f)); //for point clouds
bool addPositions(const float *buffer, const uint32_t *index, float q = 0.0f, Point3f o = Point3f(0.0f));
bool addPositions(const float *buffer, const uint16_t *index, float q = 0.0f, Point3f o = Point3f(0.0f));
</pre>

<p><em>q</em> specify the quantization parameter, while <em>o</em> the origin of the quantization (v[i*3+k] = (buffer[i*3+k] - o[k])/q</p>
<p>If q is not specified the quantization step is estimated as 1/20th of the average edge length (or a function of the volume and number of the points
for point clouds).</p>

<pre>bool addPositionsBits(const float *buffer, int bits);
bool addPositionsBits(const float *buffer, uint32_t *index, int bits);
bool addPositionsBits(const float *buffer, uint16_t *index, int bits);
</pre>

<p>It might be more convenient to specify quantization step in term of the bits needed per coordinate</p>

<h4>Attributes</h4>

<pre>bool addNormals(const float *buffer, int bits, NormalAttr::Prediction no = NormalAttr::ESTIMATED);
bool addNormals(const int16_t *buffer, int bits, NormalAttr::Prediction no = NormalAttr::ESTIMATED);

bool addColors(const unsigned char *buffer, int rbits = 6, int gbits = 7, int bbits = 6, int abits = 5);

bool addUvs(const float *buffer, float q = 0);
</pre>

<p>Normal quantization is expressed in bits, referring to the octahedron parametrization space.</p>
<p>Prediction for normal attribute can be</p>
<ul>
<li>DELTA: difference from previous normal, it's fast but provide less compression
</li><li>ESTIMATED: difference from normal estimated from the vertex coordinates (and wont apply to point clouds)
slower than DELTA, but especially when coordinates are saved with high precision will provide better compression
</li><li>BORDER: will only preserve boundary normals. This is especially useful if the model is split into pieces
(for example in <a href="http://vcg.isti.cnr.it/nexus">Nexus</a> multiresolution viewer.
</li></ul>
<p>Color quantization for red, green, blue, alpha. Internally the color is stored as 
poor man YCbCr color space (where G estimates Y!), might be changed to something better and quantization refer to the internal space</p>

<h4>Generic attributes</h4>

<pre>bool addAttribute(const char *name, const char *buffer, VertexAttribute::Format format, 
	int components, float q, uint32_t strategy = 0);
bool addAttribute(const char *name, char *buffer, VertexAttribute *attr);
</pre>

<h4>Groups</h4>

<pre>void addGroup(int end_triangle);
void addGroup(int end_triangle, std::map<std::string, std::string=""> &amp;props);
</std::string,></pre>

<h4>Result</h4>

<pre>void encode();
</pre>

<p>After the decode call the numnber of vertices and faces might be different: degenerate triangles are removed and duplicated points
in point clouds are also removed</p>

<pre>uint32_t nvert = encoder.nvert;
uint32_t nface = encoder.nface;
</pre>

<p>The <em>.crt</em> bytes are stored in the <em>stream</em> member</p>

<pre>size_t count = encoder.stream.size();
size_t written = fwrite ( encoder.stream.data(), 1, count, file);
</pre>

<p>For details on compression bitrates see <em>main.cpp</em>.</p>





<h3><a name="decoder"></a>Decoder</h3>

<pre>Decoder(int len, const uchar *input);
</pre>

<p>Upon initializatiom, the decoder class will provide info about what is presente in the <em>.crt</em>, default attributes
are <em>position, normal, color, uv</em>.</p>

<pre>uint32_t nvert = encoder.nvert;
uint32_t nface = encoder.nface;

bool hasAttr(const char *name);
</pre>

<p>You are in charge to pass the decoder an allocated memory buffer where to decode attributes and index</p>

<pre>	bool setPositions(float *buffer);
	bool setNormals(float *buffer);
	bool setNormals(int16_t *buffer);
	bool setColors(uchar *buffer);
	bool setUvs(float *buffer);

	void setIndex(uint32_t *buffer);
	void setIndex(uint16_t *buffer);
</pre>

<p>Custom attributes can be requested, either using the default attribute type or a custom class.</p>

<pre>	bool setAttribute(const char *name, char *buffer, …</pre></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="http://vcg.isti.cnr.it/corto">http://vcg.isti.cnr.it/corto</a></em></p>]]>
            </description>
            <link>http://vcg.isti.cnr.it/corto</link>
            <guid isPermaLink="false">hacker-news-small-sites-24491260</guid>
            <pubDate>Wed, 16 Sep 2020 10:24:46 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Signal.NotifyContext: context cancelation with Unix signals coming to Go 1.16]]>
            </title>
            <description>
<![CDATA[
Score 9 | Comments 2 (<a href="https://news.ycombinator.com/item?id=24491205">thread link</a>) | @henvic
<br/>
September 16, 2020 | https://henvic.dev/posts/signal-notify-context/ | <a href="https://web.archive.org/web/*/https://henvic.dev/posts/signal-notify-context/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
        
        
        
        <p>Posted in <time datetime="2020-09-16 00:00:00 +0000 UTC"></time>Wednesday, 16 September 2020.</p>
        
        <p>From Go 1.16 onwards, you’ll be able to use</p>
<div><div>
<table><tbody><tr><td>
<pre><code><span>1
</span><span>2
</span></code></pre></td>
<td>
<pre><code data-lang="go"><span>ctx</span>, <span>stop</span> <span>:=</span> <span>signal</span>.<span>NotifyContext</span>(<span>context</span>.<span>Background</span>(), <span>os</span>.<span>Interrupt</span>)
<span>defer</span> <span>stop</span>()
</code></pre></td></tr></tbody></table>
</div>
</div><p>to control context cancelation using Unix signals, simplifying handling operating system signals in Go for certain common cases. This is my first contribution to the Go standard library, and I am very excited!</p>
<h2 id="why">Why</h2>
<p>When writing <abbr title="command-line interface">CLI</abbr> code, I often needed to handle cancellation – for instance, when a user presses CTRL+C producing an interrupt signal. Another possible use case is to handle graceful termination of HTTP servers using <code>http.*Server.Shutdown(ctx)</code>.</p>
<p>I had to write code using the signal package often and in multiple places. I didn’t want that, so I wrote the <a href="https://github.com/henvic/ctxsignal">ctxsignal</a> package to solve this common problem two years ago.</p>
<p>However, I kept finding it in other places and noticing people would often not handle proper termination correctly or at all, so I got motivated to submit a proposal and try to improve this situation.</p>
<h2 id="how-to-use">How to use</h2>
<div><div>
<table><tbody><tr><td>
<pre><code><span> 1
</span><span> 2
</span><span> 3
</span><span> 4
</span><span> 5
</span><span> 6
</span><span> 7
</span><span> 8
</span><span> 9
</span><span>10
</span><span>11
</span><span>12
</span><span>13
</span><span>14
</span><span>15
</span><span>16
</span></code></pre></td>
<td>
<pre><code data-lang="go"><span>// This example passes a context with a signal to tell a blocking function that
</span><span>// it should abandon its work after an operating system signal is notified.
</span><span></span><span>func</span> <span>main</span>() {
	<span>// Pass a context with a timeout to tell a blocking function that it
</span><span></span>	<span>// should abandon its work after the timeout elapses.
</span><span></span>	<span>ctx</span>, <span>stop</span> <span>:=</span> <span>signal</span>.<span>NotifyContext</span>(<span>context</span>.<span>Background</span>(), <span>os</span>.<span>Interrupt</span>)
	<span>defer</span> <span>stop</span>()

	<span>select</span> {
	<span>case</span> <span>&lt;-</span><span>time</span>.<span>After</span>(<span>10</span> <span>*</span> <span>time</span>.<span>Second</span>):
		<span>fmt</span>.<span>Println</span>(<span>"missed signal"</span>)
	<span>case</span> <span>&lt;-</span><span>ctx</span>.<span>Done</span>():
		<span>stop</span>()
		<span>fmt</span>.<span>Println</span>(<span>"signal received"</span>)
	}
}
</code></pre></td></tr></tbody></table>
</div>
</div><p>This program will print <code>"missed signal"</code> after 10 seconds or will print <code>"signal received"</code> when the user sends an interruption signal, such as by pressing CTRL+C on a keyboard.</p>
<p>Please note that the second returned value of the <code>signal.NotifyContext</code> function is a function called <code>stop</code> instead of <code>cancel</code>. Once you’re done handling a system signal, you should call <code>stop</code>. We call it <code>stop</code> instead of <code>cancel</code> because you need to call it to stop capturing any further system signal you registered with <code>NotifyContext</code>.</p>
<blockquote>
<p>The stop function unregisters the signal behavior, which, like signal.Reset, may restore the default behavior for a given signal.</p>
</blockquote>
<h2 id="timeline">Timeline</h2>
<ul>
<li>I submitted a <a href="https://github.com/golang/go/issues/37255">proposal</a> and <a href="https://golang.org/cl/219640">implementation</a> on 17 February (as WithContext in the signal package)</li>
<li>After some discussions, a somewhat modified proposal was accepted on 1 April as a WithCancelSignal in the context package</li>
<li>It was moved back to the proposal stage on 15 April after some concerns were presented about having it in the context package</li>
<li>After more discussions, it was accepted again on 20 May as NotifyContext in the signal package</li>
<li>A couple of days ago, I restarted working on it.</li>
<li>Today it got merged and is available in the tip</li>
<li><a href="https://tip.golang.org/doc/go1.16">Go 1.16</a> is expected to be released in February</li>
</ul>
<h2 id="other-points">Other points</h2>
<ul>
<li>I delayed working on it and missed the Go 1.15 release due to its <a href="https://github.com/golang/go/wiki/Go-Release-Cycle">code freeze window</a></li>
<li>Go uses <a href="https://www.gerritcodereview.com/">Gerrit</a> to track changes and code reviews.</li>
<li>I found Gerrit’s patchsets better over GitHub’s pull-requests to keep track of changes without losing context (pun intended).</li>
</ul>
<p>Thanks a lot to everyone who provided ideas, feedback, or code-reviewed my code. In particular, the Go team for the patience in helping me out.</p>

<p>If you click and buy any of these from Amazon after visiting the links above, I might get a commission from their <a href="https://affiliate-program.amazon.com/">Affiliate program</a>.</p>
<blockquote><p lang="en" dir="ltr">From Go 1.16 onwards, you’ll be able to use context to handle operating system signals in Go for certain common cases. <a href="https://t.co/5H7P7QNWZq">https://t.co/5H7P7QNWZq</a><a href="https://twitter.com/hashtag/golang?src=hash&amp;ref_src=twsrc%5Etfw">#golang</a></p>— Henrique Vicente (@henriquev) <a href="https://twitter.com/henriquev/status/1306063440948137985?ref_src=twsrc%5Etfw">September 16, 2020</a></blockquote>



                
                        
</article></div>]]>
            </description>
            <link>https://henvic.dev/posts/signal-notify-context/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24491205</guid>
            <pubDate>Wed, 16 Sep 2020 10:09:27 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Implementing As-Safe-as-Possible, Misuse-Resistant Cryptographic Libraries]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24491166">thread link</a>) | @pantalaimon
<br/>
September 16, 2020 | https://blog.patternsinthevoid.net/implementing-as-safe-as-possible-misuse-resistant-cryptographic-libraries-part-i.html | <a href="https://web.archive.org/web/*/https://blog.patternsinthevoid.net/implementing-as-safe-as-possible-misuse-resistant-cryptographic-libraries-part-i.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section id="content">
    <article>
        <header>
            
        </header>
        <div>
<!-- /.post-info -->            <!-- Image: /static/images/2015/12/card.jpeg -->



<p>Over the years, I’ve discovered many techniques in learning how to design
as-safe-as-possible, misuse-resistant cryptographic libraries for some fairly
complex primitives, which I’d like to share in the hopes that we can continue to
progress the state-of-the-art in cryptography towards greater safety at
decreased cost to both cryptographers and security engineers.  Time permitting,
I hope to eventually turn this into a series of&nbsp;posts.</p>
<p>The typestate pattern is one I’ve greatly appreciated but didn’t have a name for
before reading <a href="http://cliffle.com/blog/rust-typestate/">this article</a>.  I
highly recommend reading it, and I won’t be reviewing it in detail here.  The
tl;dr is that you encode your state machine into a type system, such that invalid
state changes are caught at compile time rather than&nbsp;runtime.</p>


<p>Take, for example, this stubbed out implementation of a two-round distributed
key generation&nbsp;protocol.</p>
<pre>use curve25519_dalek::ristretto::RistrettoPoint;
use curve25519_dalek::scalar::Scalar;

pub struct Commitment(pub(crate) RistrettoPoint);
pub struct SecretKeyShard(pub(crate) Vec&lt;Scalar&gt;);
pub struct PublicKeyShard(pub(crate) Scalar);
pub struct ProofOfKnowledgeOfSecretKeyShard(pub(crate) Scalar, pub(crate) Scalar);

impl ProofOfKnowledgeOfSecretKeyShard {
    /// Prove in zero-knowledge a secret key.
    pub fn prove(
        secret: &amp;SecretKeyShard
    ) -&gt; ProofOfKnowledgeOfSecretKeyShard {
        // ...
    }

    /// Verify a proof of knowledge of a secret key.
    pub fn verify(
        &amp;self,
    ) -&gt; Result&lt;(), ()&gt; {
        // ...
    }
}

pub struct DistributedKeyGeneration {};

impl DistributedKeyGeneration {
    /// Generate a shard of the eventual shared secret, and form some
    /// commitments and a zero-knowledge proof regarding those secrets, in order
    /// to prevent rogue-key attacks, and send the commitments and proof to the
    /// other participants for checking.
    pub fn round_one_init(
    ) -&gt; (SecretKeyShard, ProofOfKnowledgeOfSecretKeyShard, Vec&lt;Commitment&gt;) {
        // ...
    }

    /// Check the commitments and proofs that were sent by the other participants.
    pub fn round_one_finish(
        proofs: &amp;Vec&lt;ProofOfKnowledgeOfSecretKeyShard&gt;,
    ) -&gt; Result&lt;(), ()&gt; {
        for proof in proofs.iter() {
            proof.verify()?;
        }
        // ...
    }

    /// Each participant uses their secret shard to evaluate a different shard
    /// of the eventual shared public key, which they send to each respective
    /// participant.
    pub fn round_two_init(
        secret: &amp;SecretKeyShard,
    ) -&gt; Vec&lt;PublicKeyShard&gt; {
        // ...
    }

    /// Verify the public shards received from the other participants, aborting
    /// on failure, then compute our long-lived signing key and a proof of its
    /// correctness.
    pub fn round_two_finish(
        secret: &amp;SecretKeyShard,
        public_shards: &amp;Vec&lt;PublicKeyShard&gt;,
        commitments: &amp;Vec&lt;Commitment&gt;,
    ) -&gt; Result&lt;(), ()&gt; {
        // ...
    }
}
</pre>

<p>It’s already doing better than many cryptographic APIs I’ve seen in the&nbsp;wild:</p>
<ul>
<li>
<p>Rather than passing around blobby arrays of bytes, it’s at least using the
  type system to do basic things, like ensuring that pieces of the secret key
  shards are kept separate and treated differently to the public key shards,
  even though they share the same underlying mathematical&nbsp;objects.</p>
</li>
<li>
<p>It has basic documentation, stating what actions — outside the scope of this
  cryptographic library — should be done with the return values.  (E.g. “send
  the commitments and proof to the other participants for&nbsp;checking”.)</p>
</li>
<li>
<p>It attempts to use intuitive naming for types and variables, rather than
  condensing things in to nearly indecipherable acronyms, or — even worse —
  using inexplicable¹ single-letter function/variable&nbsp;names.</p>
</li>
</ul>
<p>¹ <span>IMHO</span> it’s okay to use single-letter variable names when mirroring the names
used in a paper, and leaving comments to make it clear what the object actually
is, however in all likelihood this isn’t code that should be exposed to a
security&nbsp;engineer.</p>
<p>So how could it be&nbsp;better?</p>
<p>This is precisely where the typestate pattern shines.  The above code would
allow a developer to&nbsp;do:</p>
<pre>let (secret, nipk_of_secret, commitments) = DistributedKeyGeneration::round_one();

send_to_participants(nipk_of_secret, commitments);

let public = DistributedKeyGeneration::round_two_init(&amp;secret);
</pre>

<p>Depending on the specifics of the protocol, skipping the call to
<code>DistributedKeyGeneration::round_one_finish()</code> allows for a
<a href="https://eprint.iacr.org/2018/417">rogue-key attack</a>, where a rogue participant
creates a crafted public key shard which negates the contribution to a signature
from the targeted other&nbsp;participant(s).</p>
<p>Let’s see instead how this known attack could be eliminated entirely <i>by
making it discoverable at compile-time</i>.</p>
<pre>use curve25519_dalek::ristretto::RistrettoPoint;
use curve25519_dalek::scalar::Scalar;

pub struct Commitment(pub(crate) RistrettoPoint);
pub struct SecretKeyShard(pub(crate) Vec&lt;Scalar&gt;);
pub struct PublicKeyShard(pub(crate) Scalar);
pub struct ProofOfKnowledgeOfSecretKeyShard(pub(crate) Scalar, pub(crate) Scalar);

impl ProofOfKnowledgeOfSecretKeyShard {
    /// Prove in zero-knowledge a secret key.
    pub fn prove(
        secret: &amp;SecretKeyShard
    ) -&gt; ProofOfKnowledgeOfSecretKeyShard {
        // ...
    }

    /// Verify a proof of knowledge of a secret key.
    pub fn verify(
        &amp;self,
    ) -&gt; Result&lt;(), ()&gt; {
        // ...
    }
}

pub type DistributeKeyGenerationState = DistributedKeyGenerationRound1;

pub struct DistributedKeyGenerationRound1 {
    pub(crate) secret_shards: SecretKeyShard,
    pub proof: ProofOfKnowledgeOfSecretKeyShard,
    pub commitments: Vec&lt;Commitment&gt;,
}; 

impl DistributedKeyGenerationRound1 {
    /// Generate a shard of the eventual shared secret, and form some
    /// commitments and a zero-knowledge proof regarding those secrets, in order
    /// to prevent rogue-key attacks, and send the commitments and proof to the
    /// other participants for checking.
    pub fn init(
    ) -&gt; DistributedKeyGenerationRound1 {
        // ...
    }

    /// Check the commitments and proofs that were sent by the other participants.
    /// Only progress to round 2 if the verifications passed.
    pub fn progress(
        &amp;self,
        proofs: &amp;Vec&lt;ProofOfKnowledgeOfSecretKeyShard&gt;,
    ) -&gt; Result<distributedkeygenerationround2, ()=""> {
        for proof in proofs.iter() {
            proof.verify()?;
        }

        // ...

        Ok(DistributedKeyGenerationRound2a{ secret_shards: self.secret_shards.clone() }
    }
}

pub struct DistributedKeyGenerationRound2a {
    pub(crate) secret_shards: SecretKeyShard,
}

impl DistributedKeyGenerationRound2a {
    /// Each participant uses their secret shard to evaluate a different shard
    /// of the eventual shared public key, which they send to each respective
    /// participant.
    pub fn progress(
        &amp;self,
    ) -&gt; DistributedKeyGenerationRound2b {
        // ...
    }
}

pub struct DistributedKeyGenerationRound2b {
    pub(crate) secret_shards: SecretKeyShard,
    pub public_shards: Vec&lt;PublicKeyShard&gt;,
}

impl DistributedKeyGenerationRound2b {
    /// Verify the public shards received from the other participants, aborting
    /// on failure, then compute our long-lived signing key and a proof of its
    /// correctness.
    pub fn finish(
        &amp;self,
    ) -&gt; GroupPublicKey {
        // ...
    }
}

pub struct GroupPublicKey(pub RistrettoPoint);
</distributedkeygenerationround2,></pre>

<p>With these changes, the code of a security developer would likely look more like&nbsp;this:</p>
<pre>let state = DistributedKeyGeneration::init();

let proofs = collect_proofs_from_other_participants();

let state = state.progress(&amp;proofs)?.progress();

send_public_shards_to_other_participants(state.public_shards);

let group_public_key = state.progress();
</pre>

<p>If any of the state machine update functions are ever called without the correct
context, the compiler catches the mistake, thus enforcing safety against
cryptographic attacks before they&nbsp;occur.</p>
<p>This is, albeit, a pretty trivial and simple toy example.  There are many other
things we could do with a decent type system to improve this code, including but
not limited&nbsp;to:</p>
<ul>
<li>
<p>Providing a <code>RoundTwo</code> trait for genericising over the two typestates in the
second round of the&nbsp;protocol.</p>
</li>
<li>
<p>Using the <a href="https://rust-lang.github.io/api-guidelines/future-proofing.html#sealed-traits-protect-against-downstream-implementations-c-sealed">the sealed design pattern</a>
to prevent third parties from creating further implementations of valid
<code>RoundTwo</code> states.</p>
</li>
<li>
<p>Avoiding repeated <code>clone()</code>/<code>copy()</code> of data in the state machine (e.g. the
<code>secret_shards</code> which get copied multiple times in the above example) by abusing
yet another empty trait which is implemented for all typestates to store the
actual state in a heap-allocated pointer (e.g. <code>Box&lt;ActualState&gt;</code>) which is
copied&nbsp;instead.</p>
</li>
</ul>
<p>If you’d like to see a more complex example of these design patterns all put
together, I have
<a href="https://github.com/isislovecruft/ed25519-dalek/blob/9e44fb1c6e060bce9e54480ce1c7387d13c17b75/src/state.rs">a rough draft implementation</a>
of the <span>MSDL</span> protocol from
<a href="https://eprint.iacr.org/2018/483">“Compact Multi-Signatures for Smaller Blockchains”</a>
by Boneh, Drijvers, and&nbsp;Neven.</p>
<!--

further post ideas:
* two sets of documentation, or documentation in general, eg. never write a
  doctext you're not okay with someone copy-pasting

-->
        </div><!-- /.entry-content -->

<hr><p>
<a href="https://blog.patternsinthevoid.net/pretty-bad-protocolpeople.html">
    &lt;&lt;&lt; Pretty Bad&nbsp;{Protocol,People}</a>
</p>
    </article>
</section></div>]]>
            </description>
            <link>https://blog.patternsinthevoid.net/implementing-as-safe-as-possible-misuse-resistant-cryptographic-libraries-part-i.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24491166</guid>
            <pubDate>Wed, 16 Sep 2020 10:03:59 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Challenging LR Parsing]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24491042">thread link</a>) | @todsacerdoti
<br/>
September 16, 2020 | https://rust-analyzer.github.io//blog/2020/09/16/challeging-LR-parsing.html | <a href="https://web.archive.org/web/*/https://rust-analyzer.github.io//blog/2020/09/16/challeging-LR-parsing.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<p>Consider this incomplete snippet of Rust code:</p>
<div>
<div>
<pre><code data-lang="rust"><table><tbody><tr><td><pre>1
2
3
4
5
</pre></td><td><pre><span>fn</span> <span>foo</span><span>(</span>

<span>struct</span> <span>S</span> <span>{</span>
   <span>f</span><span>:</span> <span>u32</span>
<span>}</span>
</pre></td></tr></tbody></table></code></pre>
</div>
</div>
<p>I want to see an LR parser which produces the following syntax tree
(from <a href="https://rust-analyzer.github.io/manual.html#show-syntax-tree"><strong>Show Syntax Tree</strong></a> rust-analyzer command, with whitespace nodes elided for clarity):</p>
<div>
<div>
<pre><code><table><tbody><tr><td><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre></td><td><pre>SOURCE_FILE@0..32
  FN@0..7
    FN_KW@0..2 "fn"
    NAME@3..6
      IDENT@3..6 "foo"
    PARAM_LIST@6..7
      L_PAREN@6..7 "("
  STRUCT@9..31
    STRUCT_KW@9..15 "struct"
    NAME@16..17
      IDENT@16..17 "S"
    RECORD_FIELD_LIST@18..31
      L_CURLY@18..19 "{"
      RECORD_FIELD@23..29
        NAME@23..24
          IDENT@23..24 "f"
        COLON@24..25 ":"
        PATH_TYPE@26..29
          PATH@26..29
            PATH_SEGMENT@26..29
              NAME_REF@26..29
                IDENT@26..29 "u32"
      R_CURLY@30..31 "}"
</pre></td></tr></tbody></table></code></pre>
</div>
</div>
<p>The most error-resilient LR-style parser I know, <a href="https://github.com/tree-sitter/tree-sitter">tree sitter</a>, produces this instead (tree sitter is GLR, this is <strong>not</strong> the style of parsing advocated by the article):</p>
<div>
<div>
<pre><code><table><tbody><tr><td><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
</pre></td><td><pre>source_file [0, 0] - [5, 0])
  ERROR [0, 0] - [4, 1])
    identifier [0, 3] - [0, 6])
    struct_pattern [2, 0] - [4, 1])
      type: type_identifier [2, 0] - [2, 6])
      ERROR [2, 7] - [2, 8])
        identifier [2, 7] - [2, 8])
      field_pattern [3, 3] - [3, 9])
        name: field_identifier [3, 3] - [3, 4])
        pattern: identifier [3, 6] - [3, 9])
</pre></td></tr></tbody></table></code></pre>
</div>
</div>
<p>Note two things about the rust-analyzer’s tree:</p>
<div>
<ul>
<li>
<p>There’s an (incomplete) “function” node for <code>fn foo(</code>.
Unclosed parenthesis doesn’t preclude the parser from recognizing parameter list.</p>
</li>
<li>
<p>Incomplete function does not prevent struct definition from being recognized.</p>
</li>
</ul>
</div>
<p>These are important for IDE support.</p>
<p>For example, suppose that the cursor is just after <code>(</code>.
If we have rust-analyzer’s syntax tree, than we can figure out that we are completing a function parameter.
If we are to get fancy we might find the calls to the (not yet fully written) <code>foo</code>, run type inference to figure out the type of the first argument, and than suggest parameter name &amp; type based on that (not currently implemented — there’s soooooo much yet to be done in rust-analyzer).
And correctly recognizing <code>struct S</code> is important to not break type-inference in the code which uses <code>S</code>.</p>
<p>There’s a lot of literature about error recovery for LR parsers, how come academics haven’t figured this out already?
I have a bold claim to make: error-recovery research in academia is focusing on a problem irrelevant for IDEs.
Specifically, the research is focused on finding “minimal cost repair sequence”:</p>
<div>
<ul>
<li>
<p>a set of edit operations is defined (skip, change or insert token),</p>
</li>
<li>
<p>a “cost” metric is defined to distinguish big and small edits,</p>
</li>
<li>
<p>an algorithm is devised to find the smallest edit which makes the current text parse.</p>
</li>
</ul>
</div>
<p>This is a very academia-friendly problem — there’s a precise mathematical formulation, there’s an obvious brute force solution (try all edits), and there’s ample space for finding polynomial algorithm.</p>
<p>But IDEs don’t care about actually guessing &amp; repairing the text!
They just need to see as much of (possibly incomplete) syntax nodes in the existing text as possible.
When rust-analyzer’s parser produces</p>
<div>
<div>
<pre><code><table><tbody><tr><td><pre>1
2
3
</pre></td><td><pre>  PARAM_LIST@6..7
    L_PAREN@6..7 "("
STRUCT@9..31
</pre></td></tr></tbody></table></code></pre>
</div>
</div>
<p>it doesn’t think “Oh, I need to insert <code>)</code> here to complete the list of parameters”.
Rather, it sees <code>struct</code> and thinks “Oh wow, didn’t expect that! I guess I’ll just stop parsing parameter list right here”.</p>
<p>So, here’s</p>
<div>
<table>
<tbody><tr>
<td>
<i title="Important"></i>
</td>
<td>
<p>First Challenge</p>
Design error <em>resilient</em> (and not just error <em>recovering</em>) LR parsing algorithm.
</td>
</tr>
</tbody></table>
</div>
<p>Note that error resilience is a topic orthogonal to error reporting.
I haven’t payed much attention to error reporting (in my experience, synchronous reporting of syntax errors in the editor compensates for bad syntax error messages), but it might be the case that MCRS are a good approach to there.</p>
</div></div>]]>
            </description>
            <link>https://rust-analyzer.github.io//blog/2020/09/16/challeging-LR-parsing.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24491042</guid>
            <pubDate>Wed, 16 Sep 2020 09:38:14 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to HTTPS – Part I: Basics]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 1 (<a href="https://news.ycombinator.com/item?id=24490934">thread link</a>) | @Eleven_Wilson
<br/>
September 16, 2020 | https://blog.eleven-labs.com/en/https-part-1/ | <a href="https://web.archive.org/web/*/https://blog.eleven-labs.com/en/https-part-1/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article> <header>  <br> <span> <i></i><!-- _includes/date_translate.html --> September 16, 2020 </span> <span>|</span> <span> <i title="Estimated reading time"></i><span> 4 mins </span> </span> <!-- _includes/author_articles_link.html -->  </header> <section> <!-- Content --> <div> <p>HTTPS is at the center of virtually all of our regular use of the global Internet. Facebook, Google, Amazon, Twitter, this blog and surely your favorite cooking-recipe website use HTTPS. In an ecosystem where even the most basic security measures are sometimes neglected, let’s take a look at how to implement HTTPS on your own website and why you should do so.</p> <h2 id="introduction">Introduction</h2> <p>This two-part article has a twofold objective: to raise awareness about the use of HTTPS (whether as a simple Internet user or as an administrator) and to show that its implementation is (no longer) intricated.</p> <p>This first part will deal with the theory behind the HTTPS. What is HTTPS? Why use it and therefore why implement it?</p> <h2 id="https-what-is-it">HTTPS: what is it?</h2> <h2 id="a-secure-version-of-http">A “secure” version of HTTP</h2> <p>HTTP (HyperText Transfer Protocol) is the communication protocol used on the web to navigate, especially on websites accessible through your favorite browser. Thus, when you load a web page, the browser sends the request to the target server, which responds with the requested web page. All this is done in HTTP, and in the best case scenario, in HTTPS.</p> <h3 id="how-does-it-work">How does it work?</h3> <p>Without the secure - encrypted - layer of HTTPS, all communication is done “in clear”, that is to say potentially readable or even modifiable by anyone between you (the client) and the server. HTTPS, by encrypting the communication through SSL/TLS, protects the data traveling through HTTP by making it understandable only to the recipient. To make sure that the recipient server is the one it claims to be, HTTPS authenticates the target with certificates, usually called “SSL Certificates”.</p> <p><img src="https://blog.eleven-labs.com/en/assets/2018-05-09-https-part-01/http-vs-https.png" alt="HTTP-VS-HTTPS"></p> <h2 id="le-https--pourquoi-est-ce-si-important-">Le HTTPS : pourquoi est-ce si important ?</h2> <h3 id="to-avoid-the-man-in-the-middle">To avoid the “Man in the middle”.</h3> <p>As I said before, in simple HTTP all communications are transparent, therefore fully accessible to anyone between you and the server. Taking advantage of such a situation is called a “Man-in-the-middle” attack. Take a look at the diagram below:</p> <p><img src="https://blog.eleven-labs.com/en/assets/2018-05-09-https-part-01/man-in-the-middle.png" alt="man-in-the-middle"></p> <p>Here, Helen communicates with the website “http://www.example.com” in simple HTTP. Thus, the password she sent is fully visible to the attacker. Carol, visibly wiser or at least luckier, communicates with the site “https://www.example.com” in HTTPS. In this way, the attacker sees only the encrypted and therefore useless version of the password.</p> <h3 id="to-ensure-the-identity-of-the-recipient">To ensure the identity of the recipient</h3> <p>HTTPS also offers another protection, which is to make sure that the recipient is who they say they are and not an impostor. Thanks to certificates issued by recognized certification authorities (e.g. OVH, goDaddy, Amazon or Let’s Encrypt), your browser is able to validate the identity of the site visited. This greatly helps to avoid man-in-the-middle attacks.</p> <h2 id="https-as-an-internet-user-how-can-i-protect-myself">HTTPS: as an Internet user, how can I protect myself?</h2> <p>As an Internet user, only your vigilance will save you. If the sites you visit display the small green padlock at the URL level, then the site in question is validated by your browser. Of course, you must first trust your browser on its HTTPS management. But nowadays, all main browsers do this job perfectly and are regularly updated in this regard.</p> <p>It is therefore up to the managers of the websites you visit to set up HTTPS. Today (as of August 2020 at least), about 80% of the websites visited are already encrypted according to Mozilla Firefox statistics (visible in particular on the page <a href="https://letsencrypt.org/stats/">Let’s Encrypt telemetry</a> :</p> <p><img src="https://blog.eleven-labs.com/en/assets/2018-05-09-https-part-01/graph_HTTPS_use.png" alt="graphique-progression-HTTPS"></p> <h2 id="https-as-an-administrator-is-it-complicated-to-set-up">HTTPS: as an administrator, is it complicated to set up?</h2> <p>Today, setting up HTTPS on your own server is easy and completely free. So there is no excuse not to do it, as soon as you set up your site.</p> <h3 id="about-lets-encrypt">About Let’s Encrypt</h3> <p>Let’s Encrypt, in addition to providing certificates for free, provides a tool to retrieve and renew those certificates: Certbot. Simply clone the GitHub repository or go through their Docker image to retrieve via the terminal all the certificates you might need. Since March 2018, Let’s Encrypt has been providing certificates called “wildcards”, which will validate all your current and future subdomains via a single certificate. And this is always free of charge.</p> <h3 id="seo">SEO</h3> <p>You should also be aware that simple HTTP sites are less well referenced by Google (<a href="https://webmasters.googleblog.com/2014/08/https-as-ranking-signal.html">since 2014</a>) and that browsers clearly tend to signal to the user the lack of security of sites that are not certified and protected.</p> <h2 id="conclusion">Conclusion</h2> <p>This first part on the theory around HTTPS is over: we have seen what exactly this protocol was, why it was important and how to use it, both as a web user browsing internet and as an administrator looking to secure his web platforms.</p> <p>In the second part of this article, we will see how to technically implement HTTPS on a server, using mainly Let’s Encrypt, Certbot, Nginx and Docker.</p> </div> </section> <!-- Block Author -->  </article></div>]]>
            </description>
            <link>https://blog.eleven-labs.com/en/https-part-1/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24490934</guid>
            <pubDate>Wed, 16 Sep 2020 09:19:26 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: AI-Powered Podcast Transcription Service]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 3 (<a href="https://news.ycombinator.com/item?id=24490923">thread link</a>) | @robgehring
<br/>
September 16, 2020 | https://speechtext.ai/podcast-transcription-service | <a href="https://web.archive.org/web/*/https://speechtext.ai/podcast-transcription-service">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">
  





  <section id="hero">

    <div>
      <div>
          
          <h2>Automatically convert your podcast to text in seconds</h2>
          
      </div>
    </div>

  </section>
  
  <section id="how-it-works">
    <div>
      <div>
        <h2>How to Transcribe a Podcast?</h2>
        <p>SpeechText.AI is a powerful podcast transcription software. Transcribe your podcasts to text in three easy steps</p>
      </div>
      
      <div>
          <p><img src="https://speechtext.ai/static/img/upload.png" alt="">
          </p>
          <div>
            <h4>Upload Files</h4>
            <p>
              Log in into your SpeechText.AI account, click the 'Upload' button, and select audio or video files from your device. SpeechText.AI can transcribe podcasts that you upload.
            </p>
          </div>
       </div>
       
       <div> 
          <div>
            <h4>Transcribe Podcasts</h4>
            <p>
              SpeechText.AI is the best way for podcasters to transcribe their podcasts. Select the audio type as 'Podcast' and your files will be accurately converted to text in just a few minutes.
            </p>
          </div>
          
          <p><img src="https://speechtext.ai/static/img/podcast-transcription.png" alt="">
          </p>
       </div>
       
       <div>
          <p><img src="https://speechtext.ai/static/img/podcast.png" alt="">
          </p>
          <div>
            <h4>Get Transcription Results</h4>
            <p>
              Choose the transcription language and then click the 'Transcribe' button. You’ll get a podcast transcript from SpeechText.AI in less than 5 minutes.
            </p>
          </div>
       </div>
      
    </div>
    
    

  </section>
  
  <section id="features">

    <div>
      <div>
        <h2>Main Features</h2>
        <p>Get more web traffic to your podcasts with a set of amazing features</p>
      </div>
    </div>

    <div>
      <div>
        <div>
          <div>
            <p><img src="https://speechtext.ai/static/img/svg/multi.svg" alt="img"></p><h4>Online Transcription</h4>
            <p>AI-powered podcast transcription app supports 30+ languages</p>
            <p><a href="https://speechtext.ai/#features">Service Features <i></i></a>
          </p></div>
        </div>

        <div>
          <div>
            <p><img src="https://speechtext.ai/static/img/svg/industry.svg" alt="img"></p><h4>Accurate transcription</h4>
            <p>Industry-specific models accurately transcribe brand names, jargon, and terminology</p>
            <p><a href="https://speechtext.ai/signup/">Start a Free Trial <i></i></a>
          </p></div>
        </div>

        <div>
          <div>
            <p><img src="https://speechtext.ai/static/img/svg/price.svg" alt="img"></p><h4>Simple and Honest Pricing</h4>
            <p>Pay-as-you-go transcription plans from $0.05 per minute</p>
            <p><a href="https://speechtext.ai/#pricing">Pricing Plans <i></i></a>
          </p></div>
        </div>
        
        <div>
          <div>
            <p><img src="https://speechtext.ai/static/img/svg/fast.svg" alt="img"></p><h4>Super Fast Transcription</h4>
            <p>Transcribe an hour long podcast in less than ten minutes</p>
            <p><a href="https://speechtext.ai/signup/">Try For Free <i></i></a>
          </p></div>
        </div>
        
        <div>
          <div>
            <p><img src="https://speechtext.ai/static/img/svg/edit.svg" alt="img"></p><h4>Audio to Text Editor</h4>
            <p>Our Editor enables you to edit podcast transcription results</p>
            <p><a href="https://speechtext.ai/signup/">Get Started <i></i></a>
          </p></div>
        </div>
        
        <div>
          <div>
            <p><img src="https://speechtext.ai/static/img/svg/audio-search.svg" alt="img"></p><h4>Smart and Effective Search</h4>
            <p>Search in audio or video files and find what you're looking for</p>
            <p><a href="https://speechtext.ai/signup/">See in Action <i></i></a>
          </p></div>
        </div>

      </div>
    </div>
  </section>
  
  <section id="faq">

    <div>
      <p>
        <h2>Frequently Asked Questions</h2>
      </p>
    </div>
    <div>
        <ul>

          <li data-aos="fade-up" data-aos-delay="100">
            <a data-toggle="collapse" href="#faq1">How is my data secured at SpeechText.AI? <i></i></a>
            <p>
                The security of your data is the highest priority for us. Our transcription service is fully GDPR compliant and certified to ISO 27001. SpeechText.AI has multiple layers of security including firewalls and network segregation. You will always have access to your files. You can always remove any uploaded or transcribed data, and this action cannot be undone.
              </p>
          </li>
          
          <li data-aos="fade-up" data-aos-delay="200">
            <a data-toggle="collapse" href="#faq2">What is podcast transcription? <i></i></a>
            <p>
                Podcast transcription is the process of turning audio content into written text. This can be a perfect way to make your podcast indexable by search engines and more discoverable for users.
              </p>
          </li>

          <li data-aos="fade-up" data-aos-delay="200">
            <a data-toggle="collapse" href="#faq3">How much does podcast transcription cost? <i></i></a>
            <p>
                SpeechText.AI offers affordable pay-as-you-go pricing plans with no monthly fees. Our podcast transcription software is one-hundredth of the cost of popular human transcription services: SpeechText.AI = $0.05/min, Rev.com = $1.25/min, TranscribeMe = $0.79/min, GoTranscript = $0.72/min.
              </p>
          </li>

          <li data-aos="fade-up" data-aos-delay="300">
            <a data-toggle="collapse" href="#faq4">How do you get a transcript of a podcast? <i></i></a>
            <p>
                We use advanced deep learning neural network algorithms to automatically transcribe podcasts. Our state-of-the-art transcription software achieves a word error rate of 3.8% (~96.2% accuracy) on the open source LibriSpeech ASR corpus. LibriSpeech is a large dataset of approximately 1,000 hours of reading of English.
              </p>
          </li>

          <li data-aos="fade-up" data-aos-delay="400">
            <a data-toggle="collapse" href="#faq5">How can transcribing podcasts boost your SEO? <i></i></a>
            <p>
                Transcribing podcasts is a great way to boost SEO results and get strong Google Search positions for your websites. Google uses transcription results to index and understand the meaning of your podcasts. If you have transcriptions for all podcasts you help the search engine to find and rank your content properly. Also, podcast transcription results provide more content for website visitors to consume. For example, a podcast transcript will give an assist if a user needs to read website information in a quiet environment.
              </p>
          </li>

          <li data-aos="fade-up" data-aos-delay="500">
            <a data-toggle="collapse" href="#faq6">How do I start transcribing a podcast?  <i></i></a>
            <p>
                 SpeechText.AI is an automatic tool that helps you transcribe an audio podcast into a text file. Our AI transcription service transcribes, timestamps, and organizes your audio and video files in over 30 languages and accents: record podcasts, upload recorded files to the online transcription service, and click the 'Transcribe' button to start transcription. When the transcription process has finished, you can save podcast transcription results in different formats (docx, pdf, srt, vtt, etc.).
              </p>
          </li>

          <li data-aos="fade-up" data-aos-delay="600">
            <a data-toggle="collapse" href="#faq7">How could I create transcripts for my podcasts? <i></i></a>
            <p>
                SpeechText.AI can help you here: create an account on SpeechText.AI, upload audio or video files from your computer, hit the 'Transcribe' button, and wait while the audio transcription software transcribes your podcasts.
              </p>
          </li>
          
          
        </ul>

    </div>
  </section>
  
  



  
  <!--==========================
    Footer
  ============================-->
  

  
  
  

  <!-- JavaScript Libraries -->
  
  
  
  
  
  
    
  
  
  
  
  
  

 





</div>]]>
            </description>
            <link>https://speechtext.ai/podcast-transcription-service</link>
            <guid isPermaLink="false">hacker-news-small-sites-24490923</guid>
            <pubDate>Wed, 16 Sep 2020 09:18:02 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Form Design]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 1 (<a href="https://news.ycombinator.com/item?id=24490883">thread link</a>) | @mozillas
<br/>
September 16, 2020 | https://gerireid.com/forms.html | <a href="https://web.archive.org/web/*/https://gerireid.com/forms.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        <div>



                <div>

                <div>
                    <h3>Here's my best practice guidelines for form design. </h3>
                    <p>Working on a design system for a bank has taught me a lot about forms. I've watched testing in our labs. I've worked alongside experts from specialist accessibility organisations. I've seen forms tested by disabled people and users of assistive technology. I've also read a lot of research.</p> 
                    <p>From all this learning I've formed my own forms best-practice guidelines. I thought it would be useful start recording it. Here's my work in progress. I do UI/UX so I'm coming at this from a designer's perspective.               
              
    </p><h2 id="principles"> First, some principles</h2>
                    
                    <hr>
					<p>It's important to start with with a set of principles. It's easy to become swayed by design trends and I have to bring myself back to the user.</p><p>I aspire to the <a href="https://inclusivedesignprinciples.org/">Inclusive Design Principles</a>. Designing forms for people experiencing permanent, temporary or situational disabilities improves the experience for everyone. I also look to the <a href="https://www.w3.org/WAI/WCAG21/Understanding/intro#understanding-the-four-principles-of-accessibility">WCAG</a> principles. Your website or app must be: </p>
	<ul>
	<li>perceivable</li>
	<li>operable</li>
	<li>understandable</li>
	<li>robust and compatible</li>

	</ul>
	<p>In summary, think of your user and keep things as simple and as functional as possible. But don't overvalue simplicity and style at the <a href="https://uxmyths.com/post/115783813605/myth-34-simple-minimal">cost of clarity</a>. In the words of Luke Wroblewski "<a href="https://aneventapart.com/news/post/obvious-always-wins-by-luke-wroblewski-aea-video">obvious always wins</a>".</p>

	
	
	<p><a href="#top">Back to top  ↑</a></p><h2 id="text-input"> Text input</h2>

        <hr>
        <p>Simple input for a form. Easy to overcomplicate.</p>
		<div>        
        <h3>My guidelines</h3>  
        
        <ul>
        <li>Text input fields must have a visible label above the input box.</li>
        <li>Don't rely on placeholder text. It is not a substitute for a label.</li>
        <li>Place hint text under the form label.</li>
        <li>The size of the input box should reflect the intended input.</li>
        <li>Unless labelled otherwise, all fields in a form are required. Mark optional fields as 'optional'.</li>
        </ul>
         </div>  

 		<p><img src="https://gerireid.com/img/form-fields/text-input.png" alt="Graphic of a form input box"></p><h3>Research insights and sensible thinking</h3>
     
     	<h4>☞ Placeholders</h4>
      	<ul>
      	<li><a href="https://www.w3.org/WAI/GL/low-vision-a11y-tf/wiki/Placeholder_Research">W3C Placeholder Research</a></li>
		<li><a href="https://www.uxmatters.com/mt/archives/2010/03/dont-put-hints-inside-text-boxes-in-web-forms.php">Don't Put Hints Inside Text Boxes in Web Forms</a> by Caroline Jarrett, UXmatters</li>
		<li><a href="https://www.nngroup.com/articles/form-design-placeholders/">Placeholders in Form Fields Are Harmful</a> by By Katie Sherwin, Nielsen Norman Group.</li>
				<li><a href="https://adamsilver.io/articles/placeholders-are-problematic/">Placeholders are problematic</a> by Adam Silver.</li>
		</ul>
		
		<h4>☞ Labels</h4>
      	<ul>
      	<li><a href="https://www.uxmatters.com/mt/archives/2006/07/label-placement-in-forms.php">Label Placement in Forms</a> by Matteo Penzo, UXmatters.</li>
      	<li><a href="https://adamsilver.io/articles/always-use-a-label/">Always use a label</a> by Adam Silver.</li>
      	<li><a href="http://baymard.com/blog/mobile-forms-avoid-inline-labels">Mobile Form Usability: Never Use Inline Labels</a> by Baymard Institute.</li>
		<li><a href="https://bradfrost.com/blog/post/float-label-pattern/">Float label pattern</a> by Brad Frost.</li>
		<li><a href="https://webaim.org/techniques/forms/advanced#placeholder">Advanced Form Labelling</a> by WebAIM.</li>
		<li><a href="https://www.matsuko.ca/blog/stop-using-material-design-text-fields/?ref=uxlift.org">Stop using Material Design text fields!</a> by Matsuko Friedland.</li>
		<li><a href="http://preibusch.de/publications/Preibusch-Krol-Beresford__voluntary_over-disclosure.pdf"> The privacy economics of voluntary
over-disclosure in Web forms</a> by Sören Preibusch, Kat Krol and Alastair R. Beresford, University of Cambridge Computer Laboratory. [See findings on options fields]</li>
		<li><a href="https://highlights.sawyerh.com/highlights/szZ8gGvk6MhIZNKSDpn2">Web Form Design</a> by Luke Wroblewski [Left-Aligned Labels snippet]</li>

		</ul>
 
      	<h4>☞ Layout</h4>
      	<ul>
      	<li><a href="https://baymard.com/blog/avoid-multi-column-forms">Avoid Multi-Column Layouts</a> by Baymard Institute</li>
		</ul>    
     					
	<h3>Accessibility considerations for text input</h3>
		<ul>
		<li>Text needs a 4.5:1 contrast ratio against the background. <a href="https://www.w3.org/TR/UNDERSTANDING-WCAG20/visual-audio-contrast-contrast.html">WCAG 1.4.3</a></li>
		<li>Input box outline needs a 3:1 contrast ratio against the background. <a href="https://www.w3.org/WAI/WCAG21/Understanding/non-text-contrast.html">WCAG 1.4.11</a></li>
		<li>Not all <a href="http://output.jsbin.com/vonesu/10/">screenreaders</a> read out placeholder text. See also <a href="https://www.w3.org/WAI/GL/low-vision-a11y-tf/wiki/Placeholder_Research">W3C placeholder research</a>.</li>
		<li>Not all <a href="https://caniuse.com/#feat=input-placeholder">browsers</a> support placeholder text.</li></ul>


	<h3>Text fields in the wild</h3>
        <ul>
		<li><a href="https://coop-design-system.herokuapp.com/pattern-library/foundations/input.html">Co-op Design Manual</a></li>
		<li><a href="https://design-system.barnardos.org.uk/components/forms/#text-input">Barnardos Design System</a></li>
		<li><a href="https://design-system.service.gov.uk/components/text-input/">Gov.uk Design System</a></li>
		<li><a href="https://service-manual.nhs.uk/design-system/components/text-input">NHS.UK Service Manual</a></li>
		</ul>

<p><a href="#top">Back to top  ↑</a></p><h2 id="buttons"> Buttons</h2>

        <hr>
        <p>Buttons trigger an action or event such as continuing to the next stage or submitting a form. Use them purposely.</p>        
        
		<div>        
        	<h3>My guidelines</h3>  
        
       		 <ul>
        	<li>Button text should describe the action the button performs and be consistent through the journey.</li>
        	<li>Don't overload the user with choices. Use only one primary button on each page for the main action.</li>
        	<li>Place the submit button where users look for it. In a standard form journey this is usually to the left edge of the form, directly below the final field.</li>
        	<li>Make destructive buttons like cancel or previous harder for the user to find. A back button or link often works well above the form.</li>
        	<li>Avoid disabled buttons. They have poor contrast and can cause confusion.</li>
        	</ul>  

       		</div>


        <p><img src="https://gerireid.com/img/form-fields/button.png" alt="Graphic of a form field with a left aligned continue button"></p><h3>Research insights and sensible thinking</h3>
       <ul>
		<li><a href="https://medium.com/eightshapes-llc/buttons-in-design-systems-eac3acf7e23">Buttons in Design Systems</a> by Nathan Curtis.</li>
		<li><a href="https://www.lukew.com/ff/entry.asp?571">Primary &amp; Secondary Actions in Web Forms</a> by Luke Wroblewski.</li>
		<li><a href="http://www.effortmark.co.uk/seven-basic-best-practices-buttons/">Basic Best Practices for Buttons</a> by Caroline Jarrett.</li>
		<li><a href="https://adamsilver.io/articles/where-to-put-buttons-on-forms/">Where to put buttons on forms</a> by Adam Silver.</li>
		<li><a href="https://axesslab.com/disabled-buttons-suck/">Disabled buttons suck</a> by Hampus Sethfors, Axess Lab.</li>
		<li><a href="https://www.lukew.com/ff/entry.asp?740">Articles About Buttons</a> by Luke Wroblewski.</li>
		</ul>
					
	<h3>Accessibility considerations for buttons</h3>
        <ul>
		<li>Button text needs a 4.5:1 contrast ratio against the button container colour. <a href="https://www.w3.org/TR/UNDERSTANDING-WCAG20/visual-audio-contrast-contrast.html">WCAG 1.4.3</a></li>
		<li>Button container needs a 3:1 contrast ratio against the background. <a href="https://www.w3.org/WAI/WCAG21/Understanding/non-text-contrast.html">WCAG 1.4.11</a></li>
		<li>When speccing out a button, remember to include a design for all the states; default, focus, hover, active. All states need sufficient colour contrast.</li>
		</ul>

	<h3>Buttons in the wild</h3>
        <ul>
        <li><a href="https://luna.sainsburys.co.uk/components/button">Sainsbury Luna Design System</a></li>
		<li><a href="https://design.bulb.co.uk/components/buttons">Bulb Solar Design System</a></li>	
		<li><a href="https://designsystem.gov.au/components/buttons/">Australian Government Design System</a></li>
		
		</ul>

<p><a href="#top">Back to top  ↑</a></p><h2 id="radio-buttons"> Radio buttons</h2>

        <hr>
       <p>I like big radio buttons (and I cannot lie). They show all available choices upfront. Use a radio group when the user can only select one option from a list.  </p>
             
		<div>        
        	<h3>My guidelines</h3>  
        

       		 <ul>
		   	<li>Position radio buttons to the left of the label and stack options vertically.</li>
        	<li>Users can only select one option but don't assume that they will know this. </li>
        	<li>Once an option has been selected the user can't unselect it without refreshing their browser. Consider adding a 'none' option.</li>
        	<li>Order radios from most to least common options. If this will cause an unwanted bias, order options alphabetically.</li>
			<li>Place hint text under the form label.</li>  
			<li>Make radio buttons easy to tap, with a target height of at least 44 pixels.</li>
        	<li>Radio buttons must ALWAYS be round.</li>

        	</ul>  
       		
       		</div>
 
        <p><img src="https://gerireid.com/img/form-fields/radio-buttons.png" alt="Graphic of a form radio button group"></p><h3>Research insights and sensible thinking</h3>
        <ul>
       	<li>Max number of radio buttons? See <a href="https://lawsofux.com/millers-law">Millers Law</a>: The average person can only keep 7 items in their working memory.</li>
		<li><em>Contradicted by:</em> <a href="https://uxmyths.com/post/931925744/myth-23-choices-should-always-be-limited-to-seven">UX Myth #23:</a> Choices should always be limited to 7 :)</li>
		<li><a href="https://designnotes.blog.gov.uk/2016/11/30/weve-updated-the-radios-and-checkboxes-on-gov-uk/">We've updated the radios and checkboxes on GOV.UK</a> Government Digital Service.</li>		<li><a href="https://www.nngroup.com/articles/radio-buttons-default-selection/">Radio buttons: Select one by default or leave all unselected?</a> by Kara Pernice, Nielsen Norman Group.</li>
				<li><a href="https://technology.blog.gov.uk/2015/08/27/making-radio-buttons-and-checkboxes-easier-to-use/">Making radio buttons and checkboxes easier to use</a> by Robin Whittleton, GDS blog.</li>
<li><a href="https://design-system.service.gov.uk/get-started/labels-legends-headings/">Making labels and legends headings</a> Government Digital Service.</li>
				<li><a href="https://technology.blog.gov.uk/2015/08/27/making-radio-buttons-and-checkboxes-easier-to-use/">Making radio buttons and checkboxes easier to use</a> by Robin Whittleton, GDS blog.</li>
<li><a href="https://www.creativejuiz.fr/blog/en/tutorials/customize-checkbox-and-radio-button-with-css">Customize checkbox and radio button with CSS</a> by Geoffrey Crofte.</li>

		</ul>
					
	<h3>Accessibility considerations for radio buttons</h3>
        <ul>
		<li>Text needs a 4.5:1 contrast ratio against the background. <a href="https://www.w3.org/TR/UNDERSTANDING-WCAG20/visual-audio-contrast-contrast.html">WCAG 1.4.3</a></li>
		<li>Radio button outline and fill needs a 3:1 contrast ratio against the background. <a href="https://www.w3.org/WAI/WCAG21/Understanding/non-text-contrast.html">WCAG 1.4.11</a></li>
		<li>For an accessible label, group radio buttons together in a <a href="https://www.w3.org/WAI/tutorials/forms/grouping/">field set</a> and legend that describes them.</li>
		<li>Selecting a radio button must not cause anything surprising to happen like submitting a form, significantly changing the content on the page, or moving the keyboard focus. <a href="https://www.w3.org/TR/UNDERSTANDING-WCAG20/consistent-behavior-unpredictable-change.html">WCAG 3.2.2</a></li>

		</ul>

	<h3>Radio buttons in the wild</h3>
        <ul>
		<li><a href="https://design-system.service.gov.uk/components/radios/">Government Digital Service</a></li>
		<li><a href="https://service-manual.nhs.uk/design-system/components/radios">NHS Digital Service Manual</a></li>
		<li><a href="https://coop-design-system.herokuapp.com/pattern-library/foundations/checkboxes-and-radio-buttons.html">Co-op Design System</a>
		</li><li><a href="https://www.giffgaff.design/components/radio/">GiffGaff Design System</a></li>
		<li><a href="https://design-system.barnardos.org.uk/components/forms/#radio-buttons">Barnardos Design System</a></li>
		</ul>

<p><a href="#top">Back to top  ↑</a></p><h2 id="checkboxes"> Checkboxes</h2>

        <hr>
        <p>Use a checkbox to select multiple items, they show all choices upfront. Users are generally familiar with the affordance of checking a box.  </p>

		<div>        
        	<h3>My guidelines</h3>  
        
       		 <ul>
		   	<li>Position checkboxes to the left of the label and stack options vertically.</li>
        	<li>Make it clear that the user can select multiple options.</li>
			<li>Place hint text under the form label.</li> 
			<li>Use a single checkbox where a user needs to indicate agreement (for example to terms and conditions).</li>
			<li>Make checkboxes easy to tap, with a target height of at least 44 pixels.</li>
			<li>Checkboxes must ALWAYS be square.</li>


        	</ul>  
       		
       		</div>
  
  <p><img src="https://gerireid.com/img/form-fields/check-boxes.png" alt="Graphic of a checkbox box"></p><h3>Research insights and sensible thinking</h3>
        <ul>
       	<li>Max number of radio buttons? See <a href="https://lawsofux.com/millers-law">Millers Law</a>: The average person can only keep 7 items in their working memory.</li>
		<li><em>Contradicted by:</em> <a href="https://uxmyths.com/post/931925744/myth-23-choices-should-always-be-limited-to-seven">UX Myth #23:</a> Choices should always be limited to 7 :)</li>
		<li><a href="https://designnotes.blog.gov.uk/2016/11/30/weve-updated-the-radios-and-checkboxes-on-gov-uk/">We've updated the radios and checkboxes on GOV.UK</a> Government Digital Service.</li>
		<li><a href="https://technology.blog.gov.uk/2015/08/27/making-radio-buttons-and-checkboxes-easier-to-use/">Making radio buttons and checkboxes easier to use</a> by Robin Whittleton, GDS blog.</li>
<li><a href="https://design-system.service.gov.uk/get-started/labels-legends-headings/">Making labels and legends headings</a> Government Digital Service.</li>
		</ul>
					
	<h3>Accessibility considerations for checkboxes</h3>
        <ul>
		<li>Text needs a 4.5:1 contrast ratio against the background. <a href="https://www.w3.org/TR/UNDERSTANDING-WCAG20/visual-audio-contrast-contrast.html">WCAG 1.4.3</a></li>
		<li>Checkbox outline and checkmark needs a 3:1 contrast ratio against the background. <a href="https://www.w3.org/WAI/WCAG21/Understanding/non-text-contrast.html">WCAG 1.4.11</a></li>
        <li>For an accessible label, group checkboxes together in a <a href="https://www.w3.org/WAI/tutorials/forms/grouping/">field set</a> and legend that describes them.</li>
        <li>Checking a box must not cause anything surprising to happen like submitting a form, significantly changing the content on the page, or moving the keyboard focus. <a href="https://www.w3.org/TR/UNDERSTANDING-WCAG20/consistent-behavior-unpredictable-change.html">WCAG 3.2.2</a></li>
		</ul>

	<h3>Checkboxes in the wild</h3>
        <ul>
		<li><a href="https://coop-design-system.herokuapp.com/pattern-library/foundations/checkboxes-and-radio-buttons.html">Co-op Design System</a>
		</li><li><a href="https://www.giffgaff.design/components/checkbox/">GiffGaff Design System</a></li>
		<li><a href="https://service-manual.nhs.uk/design-system/components/checkboxes">NHS Digital Service Manual</a></li>
		</ul>

<p><a href="#top">Back to top</a></p><h2 id="notifications"> Notifications</h2>

        <hr>
        <p>Notifications alert users to important information or changes on a page. Helpful ones attracts the user's attention without interrupting the flow of the task. They often appear at the top of a page following a submit action.</p>

		<div>        
        	<h3>My guidelines</h3>  
        
       		 <ul>
			<li>Notifications typically come in 4 flavours; Information, Warning, Success or Error.</li>
			<li>Users have a mental model for alert colours. Stick with Information=Blue, Warning=Orange, Positive=Green and Error=Red.</li>
			<li>Provide an additional indicator to colour, like an icon.</li>
			<li>Use notifications purposefully, keep text short and simple.</li>

        	</ul>  
       		
       		</div>
       		
       <p><img src="https://gerireid.com/img/form-fields/notifications.png" alt="Graphic of 4 notitications - warning, success, info and error"></p><h3>Research insights and sensible thinking</h3>
        <ul>
       	<li><a href="https://inclusive-components.design/notifications/">Inclusive Components: Notifications</a> by Heydon Pickering.</li>

		</ul>
					
	<h3>Accessibility considerations for notifications</h3>
        <ul>
		<li>Text needs a 4.5:1 contrast ratio against the background. Check coloured text on a tinted background. <a href="https://www.w3.org/TR/UNDERSTANDING-WCAG20/visual-audio-contrast-contrast.html">WCAG 1.4.3</a></li>
		<li>Icon needs a 3:1 contrast ratio against the background. <a href="https://www.w3.org/WAI/WCAG21/Understanding/non-text-contrast.html">WCAG 1.4.11</a></li>
        	<li>Consider users with colour vision deficiency. Test your alerts on a colour blind person, or use a free colour blind …</li></ul></div></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://gerireid.com/forms.html">https://gerireid.com/forms.html</a></em></p>]]>
            </description>
            <link>https://gerireid.com/forms.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24490883</guid>
            <pubDate>Wed, 16 Sep 2020 09:09:11 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Thing about Age]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24490803">thread link</a>) | @pranaygp
<br/>
September 16, 2020 | https://pranay.gp/the-thing-about-age | <a href="https://web.archive.org/web/*/https://pranay.gp/the-thing-about-age">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="8thaz7jLrmqDqCxZnm3JAC">
	<time datetime="2020-09-16">September 16, 2020</time>
  
	<p>These are my thoughts on ageism - discriminating people, and more importantly, ideas, just because of someone’s age.</p>

<p>I’m 22 years old. If you’re older than me, don’t hang up. Give me a chance. Sure, I may not have as much experience as you, and a lot of what I say may be wrong and uninformed, but that’s fine. Mistakes are good because that means decisions are being made - and I can fix those mistakes, but I have to start somewhere - and that’s where this post comes in.</p>

<p>I’m going to pitch this idea in two ways. First, to someone younger than me, and then, to someone older. You’ll want to read them both to fully understand my view</p>

<p>–</p>

<p>To someone younger,<br>
When I disregard an idea you have - it might be because it’s a terrible idea - but more often than not, it’s because I’m jealous. I see a better version of myself when I look at you. You bring with you so much enthusiasm and potential, that I often wonder “What the f*** am I doing with my life?”. My feedback doesn’t come from a good place, and I certainly don’t have your best interests at heart. I feel like you might out-achieve me, and that’s terrifying. I too had big dreams 10 years ago that I haven’t achieved - so why should you? </p>

<p>I’m shutting you down because it makes me feel better. If anyone can understand that - it’s got to be you. Why? Well, you’re really ambitious, and you’ll do anything to leave your mark on this world, including preventing others from stealing your limelight. You came to me because you saw someone you respected and could look up to - and because I’m similar to you. If I am indeed similar to you, then I’m doing exactly what you would do too.</p>

<p>I hope you’ll walk away from a conversation with me the same way I did with my elders - with disdain, and a burning passion to prove them wrong. </p>

<p>More importantly, if I tell you that you’re doing a good job - be terrified. Approval from someone you respect is a dangerous drug. Your goal isn’t to get my approval - it’s to get me to be terrified of you and for me to do anything I can to shut you down. It’s so easy to get trapped relying on the approval of an elder.</p>

<p>Honestly, at the end of the day, I blame you. You look up to us, as elders, to be your mentors and you expect us to be mature and have your best interests at heart. Why is that? Because we’re older? That’s aegist.</p>

<p>–</p>

<p>To my elders,<br>
I do look up to you. Not because you’re older than me, or have more experience. No. I look to you as a worthy opponent - someone I can still beat. I’ve already failed my younger self by not hitting the goals I had, but when I see you - I’m not there yet, and that means I can still do better. </p>

<p>At first, I try to figure out what you were like at my age. Sure, I’m interested in your life, but more importantly, I’m pacing myself. I try to figure out what metrics I’m doing better than you on, and on what metrics I’m doing worse. If you’re within a reasonable band, then I’ll treat you as an equal. If you were significantly ahead when you were my age, then I’ll try my best to catch up. You can’t change your past, but I can change my future, and that means I have potential. I will still see you as an equal though - because anything more, and I’m bound to your approval. If I’m bound to your approval, then I can never beat you. I can only ever be good enough.</p>

<p>I’d love to hear your advice, and yes, even your stories and experiences. Learning what you did right and wrong is really valuable. After all, passing knowledge between generations is what brought humanity this far. While spewing words of wisdom is great for your self esteem - don’t ever forget the golden rule. You’re giving me advice, not orders. Don’t be disappointed when I don’t do what you say. I value your opinions, the same way I value the opinions of a peer or someone younger than me. Would you like me to weigh your words more highly? Why? Because you’re older than them? That’s aegist.</p>

<p>–</p>

<p>Ageism is an unfortunate fact of life in our society. We all experience it, but we also all contribute to it. Instead of trying to fix society, it’s far easier to adjust your own worldview so you’re less affected by it. I hope this essay helps you do just that</p>

  <figure id="kudo_8thaz7jLrmqDqCxZnm3JAC">
    <a href="#kudo">
      
    </a>
    <p>13</p>
    <p>Kudos</p>
  </figure>
  <figure id="kudo_side_8thaz7jLrmqDqCxZnm3JAC">
    <a href="#kudo">
      
    </a>
    <p>13</p>
    <p>Kudos</p>
  </figure>
</article></div>]]>
            </description>
            <link>https://pranay.gp/the-thing-about-age</link>
            <guid isPermaLink="false">hacker-news-small-sites-24490803</guid>
            <pubDate>Wed, 16 Sep 2020 08:52:37 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Practices for Building – how Linear.app builds its software]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24490652">thread link</a>) | @exhaze
<br/>
September 16, 2020 | https://linear.app/linear-method | <a href="https://web.archive.org/web/*/https://linear.app/linear-method">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><header><svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="4.32483" y="17.3183" width="44.439" height="44.439" rx="5.75" transform="rotate(-17 4.32483 17.3183)" stroke-width="0.5"></rect><rect x="0.353553" y="32" width="44.7548" height="44.7548" rx="5.75" transform="rotate(-45 0.353553 32)" stroke-width="0.5"></rect><rect x="0.353553" y="32" width="44.7548" height="44.7548" rx="5.75" transform="rotate(-45 0.353553 32)" stroke-width="0.5"></rect><rect x="4.59371" y="47.8232" width="44.7548" height="44.7548" rx="5.75" transform="rotate(-75 4.59371 47.8232)" stroke-width="0.5"></rect></svg><p>Practices for Building</p><p>At Linear we believe software can feel magical. Quality of software is driven by both the talent of its creators and how they feel while theyâ€™re crafting it. Teams that have the time and energy to be focused on the work itself can build magical, high quality software. Our tools and practices need to do their best to nurture this, not take it away.</p><p>To bring back the right focus, these are the foundational ideas Linear is built on.</p></header><section><h2>Principles</h2><h3>Build for the creators</h3><p>Software project management tools should build with the end users â€“ the creators â€“ in mind. Keeping individuals productive is more important than generating perfect reports.</p><h3>Opinionated software</h3><p>Productivity software should be opinionated. It's the only way the product can truly do the heavy lifting for you. Flexible software lets everyone invent their own workflows, which eventually creates chaos as teams scale.</p><h3>Create momentum â€“ don't sprint</h3><p>We should find a cadence and routine of working. In cycles, we decide priorities and assign responsibilities. Our goal is to maintain a healthy momentum with our teams, not rush towards the end.</p><h3>Meaningful direction</h3><p>Our daily work might be filled with tasks but we should understand and remind our teams of the purpose and long term goals of our work. Roadmaps, projects and milestones are all important to keep in mind as we plan our weekly schedules.</p><h3>Aim for clarity</h3><p>Donâ€™t invent terms if possible, as these can confuse and have different meanings in different teams. Projects should be called projects.</p><h3>Say no to busy work</h3><p>Our tools should not make us the designers and maintainers of them. We should throw away or automate the busy work so you can focus on the more important work.</p><h3>Simple first, then powerful</h3><p>Teams at different sizes have different needs. Tools should be simple to get started with and grow more powerful over time.</p><h3>Decide and move on</h3><p>There isn't always a best answer. The important thing is to make a decision, and move on.</p></section><section><h2>Practices</h2><h3>Set monthly, quarterly or/and annual roadmaps</h3><p>Ambitious goals are the only way to make a significant impact. Companies should focus on them when they define their high level direction. Reserve some space on your roadmaps for unexpected and reactive work that always comes up and allow your roadmap to change if needed.</p><h3>Connect daily work to larger goals with projects</h3><p>All projects and work should directly correlate to these goals. Review projects and their target dates during roadmap meetings and pull from projects as you plan cycles.</p><h3>Work in <i>n-week</i> cycles</h3><p>Cycles create healthy routine and focus teams on what needs to happen next. 2-week cycles are the most common in software building. They're short enough to not lose sight of other priorities but long enough to build significant features. Cycles should feel reasonable. Don't overload cycles with tasks and let unfinished items move to the next cycle automatically.</p><h3>Keep a manageable backlog</h3><p>You don't need to save every feature request or piece of feedback. Important ones will resurface and low priority ones will never get fixed. A more focused backlog makes it easier and faster to plan cycles, and ensures the work will actually get done.</p><h3>Mix feature and quality work</h3><p>All software has bugs, more than we can ever fix. Include bugs and other fixes as part of your cycles. Invest in tooling as it is a force multiplier if done right.</p><h3>Specify project and issue owners</h3><p>Each project should have a named owner responsible to own delivery and write the project brief. The same goes for issues. Others should collaborate but responsibility should lie with a single person.</p><h3>Write project specs</h3><p>Aim for brevity. Short specs are more likely to be read. The purpose of a spec is to briefly communicate the "why", "what" and "how" of the project to the rest of the team. Ideally these short documents force teams to scope out work so priorities are clear and teams avoid building the wrong thing.</p><h3>Understand your users</h3><p>The more popular your product, the more feedback you'll get. Overflowing inboxes are a good sign unless they're bug reports. Donâ€™t worry too much about organizing all the feedback. Collect it and use it as a research library when developing new features. Try to spot trends. Use feedback, even complaints, as an opportunity to get to know your users and ask them to explain why they want a specific feature so you find out their needs. Solve the problem â€“ donâ€™t just build the feature.</p><h3>Scope issues to be as small as possible</h3><p>It's hard to see visible progress when working on large tasks, which can be demotivating. Break down work into smaller parts and create an issue for each one when possible. Ideally you can complete several concrete tasks each week. It feels great to mark issues as done.</p><h3>Measure progress with actual work</h3><p>The clearest way to see whether something is complete or not is to show the diff in the code or design file. When the tasks are scoped small, your changes will be small and easier to review, too. Avoid massive pull requests or large design changes.</p><h3>Run cross-functional teams</h3><p>Designers and engineers should work together on projects, creating a natural push and pull. Designers bring their skills to explore ideas and push your team's thinking. Engineers can challenge thinking around implementation and will bring the winning ideas to reality. The best creators often have talent for both. Directly loop in other teams when building features they'll use or ask customers they interact with to use.</p><h3>Write a changelog</h3><p>Itâ€™s important to look back and celebrate what you achieved as a team. Consistent changelogs also communicate to the user new features, the value they get from your product, and your commitment to improving it. It's also an easy way to connect your team's individual work to the collective value they create.<!-- --> <a href="https://medium.com/linear-app/startups-write-changelogs-c6a1d2ff4820">Read more</a> on how we write ours.</p></section></div></div>]]>
            </description>
            <link>https://linear.app/linear-method</link>
            <guid isPermaLink="false">hacker-news-small-sites-24490652</guid>
            <pubDate>Wed, 16 Sep 2020 08:24:58 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Tips on How to Improve SEO on Your Website]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24490603">thread link</a>) | @Didicodes
<br/>
September 16, 2020 | https://blog.codingbrah.com/6-tips-on-how-to-improve-seo-on-your-website | <a href="https://web.archive.org/web/*/https://blog.codingbrah.com/6-tips-on-how-to-improve-seo-on-your-website">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><section itemprop="articleBody mainEntityOfPage"><meta itemprop="thumbnailUrl image" content="https://cdn.hashnode.com/res/hashnode/image/upload/v1598820764807/bqeL3P1Sb.png?w=1600&amp;h=840&amp;fit=crop&amp;crop=entropy&amp;auto=format&amp;q=60"><div><div itemprop="text">
<p>What's up, everyone!? 🤙 Today I'm going to give you 6 tips on how to easily improve SEO on your website! 🤓</p>
<h2 id="1-use-title-tag">#1 Use Title tag</h2>
<p>The HTML title tag is probably the most important (if not the most important) element on any web page. Title tags are displayed on search engine results pages as the clickable headline for a given result and are important for usability, SEO, and social sharing.</p>
<p><img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1598815254812/va_V3GMhP.png?auto=format&amp;q=60" alt="image.png"></p>
<p>What to consider to write a <strong>good title</strong>?</p>
<ul>
<li><strong>Title length</strong> - if the title is too long it may be cut off by the search engine (“…” will be added at the end). This could possibly impact your title as important words may be omitted. It’s hard to define the exact limit of characters but based on my research it's about 50-60.</li>
<li><strong>Avoid stuffing keywords</strong> - titles with just a list of keywords are bad for search users and can be bad for search engines</li>
<li><strong>Create a unique title for every page</strong> - this helps search engines to understand that content on our web page is unique and valuable, and also drive higher click-through rates. You can use this example format for your titles:</li>
</ul>
<p><strong>Primary keyword - Secondary keyword | Brand name</strong></p>
<p><strong>Sexy black sandals - Shoes | Urban Clothing</strong></p>
<h2 id="2-use-open-graph-protocol">#2 Use <strong>Open Graph</strong> protocol</h2>
<p><strong>Open Graph</strong> meta tags are helping to control how the URL of your website is displayed when shared on social media. They need to be placed in  of your web page.</p>
<p>Why they are so important?</p>
<ul>
<li><p>They make content more eye-catching, which can improve click-through rates on your site.</p>
</li>
<li><p>They help you to provide more information about the content on the web page</p>
</li>
<li><p>They help to understand Facebook and other social platforms what the content is about, which may help you to increase your brand visibility</p>
</li>
</ul>
<p>Basic <strong>Open Graph</strong> meta tags:</p>
<ul>
<li><p>og:title - Title of your web page. It shouldn’t be too long (stick to 50-60 characters as in title tag).</p>
</li>
<li><p>og:type - The type of your object i.e. article, video, etc.</p>
</li>
<li><p>og:image - An image URL, which should represent your object within the graph. For optimal clarity across all devices use 1200x630 dimensions.</p>
</li>
<li><p>og:url - The canonical URL of your web page   </p>
</li>
</ul>
<p>For more tags see official Open Graph protocol docs:
<a href="https://ogp.me/" target="_blank">ogp.me</a></p>

<p>The <strong>meta description</strong> is the second thing that you see underneath the title tag in any search engine result. This element can have an effect on whether someone clicks on your link to check your content. Keep it meaningful and don’t stuff keywords - it should describe what can be found on the web page. Also, remember to have different descriptions on every page.</p>
<p><img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1598819580065/oUmPMakGz.png?auto=format&amp;q=60" alt="image.png"></p>
<h2 id="4-keep-your-url-structure-simple">#4 Keep your URL structure simple</h2>
<p>The <strong>URL structure</strong> of your site should be as simple as possible. URLs should be constructed logically and they should be easily understandable for humans (when it’s possible to use the readable word rather than long ID numbers). Also, it’s recommended by Google to use hyphens instead of 
 underscores.</p>
<p>Example:<br>
<a href="https://www.example.com/blog/first-blog-post.html" target="_blank">example.com/blog/first-blog-post.html</a></p>
<h2 id="5-use-noreferrer-nofollow-and-canonical-for-anchor-tag-rel-attribute">#5 Use noreferrer, nofollow and canonical for anchor tag rel attribute</h2>
<p><strong>noreferrer</strong> has no direct impact on SEO, but it does have an indirect effect on your link building and promotion efforts. It prevents passing the referrer information to the target website by removing the referral info from the HTTP header. Explaining further, that means if someone arrives at your site from a link that uses this link type, your analytics won’t show who referred that link. Also, noreferrer prevents a JavaScript exploit involving window.opener. However, remember to not use it on internal links as it can mess up with your analytics reports.</p>
<p><strong>nofollow </strong> tells search engines not to follow the link to the next page and therefore shouldn’t pass any link authority to the link target. It’s recommended to use it for: links in comments or on forums, advertisements, and sponsored links, paid links.</p>
<p><strong>cannonical</strong> helps to prevent duplicate content issues. What that means is, if you have several versions of the same content, you pick one canonical and point the search engines at it. It improves SEO because the search engine knows which version is canonical and can count all the links pointing at the different versions as links to the canonical version. </p>
<h2 id="6-use-alt-tag-in-the-img-element">#6 Use alt tag in the img element</h2>
<p>I’ve already mentioned that alt tags improve accessibility on your site in the previous post. However, it can also impact the SEO of your website! Using an alt tag helps search crawlers to understand what is shown on the image. </p>
<p>When it comes to writing good alt text, the rules are the same as described in the accessibility post: </p>
<ul>
<li>Describe the image as precisely as you can</li>
<li>Keep it short (let’s say around 125 characters)</li>
<li>Avoid keyword stuffing</li>
<li>Don’t include “photo of”, “image of” etc.,</li>
<li>Use longdesc=“” when you need to describe more complex images, which require a longer description</li>
<li>Image buttons should have an alt attribute that describes the function of the button i.e.: “sign up”</li>
</ul>
<h2 id="summary">Summary</h2>
<p>That's it for this post! 🤙 
Let me know in the comments if you liked it and if you already use those basic tips in your daily job 🤓</p>
<p><img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1598877122947/k4riNZKo7.png?auto=format&amp;q=60" alt="image.png"></p>
</div></div></section></div></div>]]>
            </description>
            <link>https://blog.codingbrah.com/6-tips-on-how-to-improve-seo-on-your-website</link>
            <guid isPermaLink="false">hacker-news-small-sites-24490603</guid>
            <pubDate>Wed, 16 Sep 2020 08:15:29 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Hacking the Eisenhower Matrix]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24490490">thread link</a>) | @abyx
<br/>
September 16, 2020 | https://academy.nobl.io/hacking-the-eisenhower-matrix/ | <a href="https://web.archive.org/web/*/https://academy.nobl.io/hacking-the-eisenhower-matrix/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
            
<p>If you’ve ever faced a mounting list of to-dos, chances are you’ve tried using an “Eisenhower Box”—a matrix that helps you determine what’s urgent and truly important. As the story goes, the celebrated military hero and U.S. president was so darn effective because he used this tool to ruthlessly prioritize.&nbsp;</p>



<p>Except, as far as we can find, there’s no truth to any of this.* In 1961, Eisenhower <em>did</em> say, “Especially whenever our affairs seem to be in crisis, we are almost compelled to give our first attention to the urgent present rather than to the important future.” But the tool as we know it first appeared as the “Time Management Matrix” in Stephen Covey’s 1989 book, “The 7 Habits of Highly Effective People,” and Eisenhower wasn’t even mentioned.&nbsp;</p>



<p>So what if people have taken liberties with the name—it’s still a useful tool, right? <strong>Well, increasingly as we run this activity, a frustrating phenomenon occurs: <em>everything</em> ends up being urgent and important. </strong>Teams refuse to drop projects, claiming they’ll just do them anyway, or that they <em>have</em> to get done, and that’s that.  Instead of helping the team prioritize, the exercise reinforces their haste, waste, and lack of focus—cementing a list of activities that are impossible to accomplish and thus ensuring the conditions for burnout and disengagement.</p>



<p><strong>So, what’s to be done to prevent this inability to prioritize, or <em>priorititis</em> as we like to call it? </strong></p>



<h2>A Quick Anatomy Lesson</h2>



<figure><div><p><img data-no-lazy="true" src="https://academy.nobl.io/wp-content/uploads/2020/09/Eisenhower-GIFs-23-1024x683.png" alt="" srcset="https://academy.nobl.io/wp-content/uploads/2020/09/Eisenhower-GIFs-23-1024x683.png 1024w, https://academy.nobl.io/wp-content/uploads/2020/09/Eisenhower-GIFs-23-300x200.png 300w, https://academy.nobl.io/wp-content/uploads/2020/09/Eisenhower-GIFs-23-768x512.png 768w, https://academy.nobl.io/wp-content/uploads/2020/09/Eisenhower-GIFs-23.png 1104w" sizes="(min-width: 790px) 790px, 100vw," data-full="https://academy.nobl.io/wp-content/uploads/2020/09/Eisenhower-GIFs-23.png" data-full-size="1104x736" data-old-src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAADCAQAAADxPw1zAAAADklEQVR42mNkgANGrEwAAGMABP93vXMAAAAASUVORK5CYII=" data-src="https://academy.nobl.io/wp-content/uploads/2020/09/Eisenhower-GIFs-23-1024x683.png" data-srcset="https://academy.nobl.io/wp-content/uploads/2020/09/Eisenhower-GIFs-23-1024x683.png 1024w, https://academy.nobl.io/wp-content/uploads/2020/09/Eisenhower-GIFs-23-300x200.png 300w, https://academy.nobl.io/wp-content/uploads/2020/09/Eisenhower-GIFs-23-768x512.png 768w, https://academy.nobl.io/wp-content/uploads/2020/09/Eisenhower-GIFs-23.png 1104w"></p></div></figure>



<p>Before we offer three simple tricks and some words of wisdom, let’s share how we construct our Eisenhower Matrix. The classic matrix starts with a basic 2×2 grid mapping the urgency and importance of each task or project. Then come the internal labels of each quadrant, meant to serve as a guide for how to proceed with projects that fall in that area of the map. A quick google search reveals that there are an endless number of labeling variations and we encourage you to explore alternatives, yet these are ours:</p>



<ul><li><strong>DO:</strong> For the most important and the most urgent tasks, get down to business and avoid distraction.</li><li><strong>PLAN:</strong> For the most important yet non-urgent tasks, begin thoughtful planning now in order to avoid late-hours or missed deadlines. Rather than the urgent present, this quadrant represents the important future—where long-term planning and deep work lies.</li><li><strong>QUESTION:</strong> For urgent but relatively unimportant tasks, ask the following questions: “What’s behind the urgency and is it real?” “Is this something I can automate or delegate?” “Can I accomplish the goal behind this with a lower level of effort or complication?” “What would happen if I don’t do this at all?”</li><li><strong>DROP:</strong> For tasks lacking in both urgency and importance, scrub them from the list entirely. This almost always triggers heartburn, so we ask teams to pre-mortem what might happen if they were erased and if those consequences are worth the effort and certain distraction. When teams still push back, we ask them to try ignoring the task for thirty-days and report back.</li></ul>



<p>Even with this guidance, leaders and teams again and again default to cramming their entire project list in the “DO” area of the map, effectively rendering the exercise moot. When this happens, we try the following tricks and then ask the team or individual to react.</p>



<h3>Trick #1: Locate the Center of Gravity</h3>



<center><img data-no-lazy="true" src="http://academy.nobl.io/wp-content/uploads/2020/09/Eisenhower-GIF-no-one-3.gif" data-old-src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAADCAQAAADxPw1zAAAADklEQVR42mNkgANGrEwAAGMABP93vXMAAAAASUVORK5CYII="></center>



<p>After the individual or team has placed all of their tasks and projects onto the map, we simply shift either the axes or projects themselves until everything is centered. This effectively rebalances the frames of reference, or centers of gravity, for how importance and urgency are defined. This trick forces the individual or team to respect the spirit of the tool and compare tasks/projects against one another versus an internalized desire to do everything.</p>



<h3>Trick #2: Reflect the Level of Effort</h3>



<center><img data-no-lazy="true" src="http://academy.nobl.io/wp-content/uploads/2020/09/Eisenhower-GIF-no-two-2.gif" data-old-src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAADCAQAAADxPw1zAAAADklEQVR42mNkgANGrEwAAGMABP93vXMAAAAASUVORK5CYII="></center>



<p>Another way to avoid an over-bloated “DO” quadrant is to force the individual or team to first size the tasks/projects (try the agile estimation technique of starting with relative t-shirt sizes, e.g. small, medium, large, x-large) and don’t allow any overlapping post-its or icons. This trick forces the individual or team to respect their own scarcity of time and resources.</p>



<h3>Trick #3: Use the Squeezebox</h3>



<center><img data-no-lazy="true" src="http://academy.nobl.io/wp-content/uploads/2020/09/Eisenhower-GIF-no-three-2.gif" data-old-src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAADCAQAAADxPw1zAAAADklEQVR42mNkgANGrEwAAGMABP93vXMAAAAASUVORK5CYII="></center>



<p>There’s no law saying that a 2×2 must have 90-degree angles. In fact, you can better reflect the inherent scarcity of time, attention, and resources by skewing the Eisenhower Matrix and reducing the overall area of the “DO” quadrant. This trick forces the individual and team to be honest about their ability to focus. </p>



<h2>Hacking at the Roots of <em>Priorititis</em></h2>



<p>While the above tricks are useful in the moment of prioritization, the causes of a crammed “DO” quadrant are systemic and strategic. </p>



<p>If you find yourself or your team struggling to prioritize, investigate if any of these frequently-cited conditions or causes are at play:</p>



<ul><li><strong>Do you really know who you are serving?</strong> If you’re organizing your own personal to-do list, have you stepped back to ask yourself what really matters to you? What do your core beliefs and values compel you to prioritize? If you’re organizing your work list, or your team’s, do you know who that work is serving and what those constituents value most? Or are you simply guessing by throwing spaghetti at the wall and seeing what sticks?</li><li><strong>Is your strategy lacking any clear articulation of tradeoffs?</strong> Strategy, after all, is about making choices. After you get clear on who you are serving, try framing your strategy (or even your personal values) in terms of <a href="https://academy.nobl.io/how-to-write-a-strategy-your-team-will-remember/">“even over” statements</a> to help you force the necessary choices that will make prioritization less confusing. </li><li><strong>Is there someone above you or your team that is driving an unrealistic sense of urgency?</strong> First, be sure they themselves have defined their strategies in terms of tradeoffs (based on an understanding of your customers) and then work to make the cost and consequences of those unrealistic expectations transparent. Start with good faith and over-communicate your or your team’s timelines and available bandwidth and keep them regularly updated on progress and momentum. If that information falls on deaf ears, don’t take it personally (this is the work of managing-up). You could try investigating where their sense of urgency is coming from in (e.g. someone even above them driving urgency) in order to find solutions and/or you could look for opportunities to positively reinforce behavior when they do acknowledge your abilities and availabilities.</li><li><strong>Have you fallen into a pattern of fire-fighting?</strong> The act of fighting workplace fires, i.e. rallying to answer an urgent need, can be addicting. You and/or your team are recognized as heroes, especially in the eyes of organizations with short-term myopia, and you can become dependent on seeking that recognition. Ultimately, though, you starve your resources and ability to plan for the long-term and accomplish bigger, more impactful initiatives.</li></ul>



<p>*If you’ve got proof otherwise, <a href="https://nobl.io/contact" target="_blank" rel="noreferrer noopener">send it to us</a>!</p>
			<p>
				
			Published September 13, 2020</p>
        </div></div>]]>
            </description>
            <link>https://academy.nobl.io/hacking-the-eisenhower-matrix/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24490490</guid>
            <pubDate>Wed, 16 Sep 2020 07:54:54 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Into the New School Year with Open Source and YouTuber Spirit]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24490472">thread link</a>) | @janoszen
<br/>
September 16, 2020 | https://pasztor.at/blog/into-the-school-year-with-open-source-and-youtuber-spirit/ | <a href="https://web.archive.org/web/*/https://pasztor.at/blog/into-the-school-year-with-open-source-and-youtuber-spirit/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody">
            

    
    
    
    
    

    
    
    
    
    

    
    
    
    
    

    
    
    
    
    

    
    
    
    
    

    
    
    
    
    

    
    
    
    
    

    
    
    
    
    

    
    
    
    
    

    
    
    
    
    

    
    
    
    
    

    
    
    
    
    


    

<p>Late last year a colleague of mine offered me his lecturer position at <a href="https://www.fh-campuswien.ac.at/en/index.html" target="_blank" rel="noopener noreferrer">a local university of applied sciences</a>. Little did I know, my previous experience in teaching online would come in <em>very</em> handy as we were heading into a whole world suddenly switching to remote education.</p>
<p>The initial idea was only to bring a more practical approach to the lectures. However, by the time we went into the first round of discussions with the university leadership we were already in lock-down mode, and the idea of replicating remote education from the past became very appealing.</p>
<p>In this post I will showcase the tools used to create <a href="https://fh-cloud-computing.github.io/" target="_blank" rel="noopener noreferrer">this cloud computing lecture</a> and explain how you can use them to create a similar experience for your students.</p>
<h2 id="the-concept">The concept</h2>
<p>With the lock-down everything changed. Students could no longer go into class rooms and pretend to listen to lecturers. Making a list of who’s present no longer made sense. Splitting a class room into groups for a project was no longer possible. Sure, Zoom added breakout rooms, but the <a href="https://www.youtube.com/watch?v=JMOOG7rWTPg" target="_blank" rel="noopener noreferrer">universally bad audio quality</a> made these either outright impossible, or at least very painful to listen to.</p>
<p>Let me demonstrate what I mean. Please listen to the following audio sample (or <a href="https://pasztor.at/posts/into-the-school-year-with-open-source-and-youtuber-spirit/reverb-demonstration.mp3">download it</a>):</p>

<p>Do you see what I mean? In a class room your brain naturally deals with the echo as you are in the same setting. When listening to someone on your computer you are not. This makes it a lot harder to understand what’s being said, and you are using your brain power to understand the words rather than comprehend the meaning.</p>
<p>The way we worked changed, too. Suddenly, nobody cared if you were cooking lunch, driving in a car, or taking care of your kid while being in a meeting. It became socially acceptable to be more efficient. It was suddenly OK to participate in a lecture while driving somewhere in a car.</p>
<p>Does it really make sense to <em>force</em> people to be there at the same time and look at the screen, even when nothing is happening? Does it really make sense to have a classic lecture where there’s a <em>lot</em> of downtime?</p>
<p>Let’s play a thought experiment. Or rather, let’s replicate an experiment I was confronted with back in 2018: you have the task to educate a large number of people who are distributed all over the continent. Furthermore, this group of people is constantly changing since people are hired, or leave the company from time to time. How would you do it?</p>
<p>If you think about it, this is exactly what online learning platforms are doing. Most platforms focus on video only. All the corporate platforms I have seen usually include material that nobody subjects themselves to because it’s just so fundamentally boring. The lecture is recorded in the same way a university lecture would: lots of downtime, bad audio quality.</p>
<p>This is just the <em>millenial impatience</em> at work, at the computer we are lacking a lot of non-verbal queues. It is a lot harder to listen to a disembodied, echo-y voice of a teacher than it is to sit in a class room. Also, the teacher can’t read our body language and stop if we don’t understand something.</p>
<p>In contrast, there are millions of YouTubers, Udemy, or Linkedin educators out there, who want to do exactly that. Their videos are tightly edited together to provide a great learning experience. A great learning experience <em>if you want a video</em>. So, that’s part of the solution.</p>
<p>However, not all of us want a video. When learning for a test we <em>skim</em> material very quickly. Or, we print it out and use a marker to highlight the important bits. Also, some people are just simply better at ingesting information by reading than they are by listening to someone. We also want to support the scenario when someone wants to consume information <em>on the go</em>.</p>
<p>We have two goals here: provide content for different <em>purposes</em>, and helping people of <a href="https://www.rasmussen.edu/degrees/education/blog/types-of-learning-styles/" target="_blank" rel="noopener noreferrer">the 4 learning styles</a>.</p>
<p>We have all the tools in our hand: we are already making slides, a lot of university teachers are already writing notes, and we use our vocal chords to produce sound. We already have everything needed for <strong>multi-format educational material</strong>.</p>
<p>This multi-format educational material would encompass a <em>text</em> version of the material to be learnt. It would also contain illustrative (not bulled point) slides to help the visual types. It could then also have an <em>audiobook</em> for auditory learning, and finally combine the slides, and the audiobook to create a video.
Furthermore, we can also add our previous bullet point list to the slide speaker notes, and to the text version as well. If we really want to go out of our way we can add a quiz for the tactile learners.</p>
<h2 id="the-text-version">The text version</h2>
<p>Let’s start with the text version. One of the open source tools I really like is <a href="https://www.mkdocs.org/" target="_blank" rel="noopener noreferrer">mkdocs</a>, a popular tool for software documentation. Together with the <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener noreferrer">material theme</a> it is capable of accommodating larger amounts of text. It also has built-in facilities for creating highlighted boxes for tips, tricks, and warnings called <a href="https://squidfunk.github.io/mkdocs-material/reference/admonitions/" target="_blank" rel="noopener noreferrer">admonitions</a>.</p>
<p>mkdocs allows us to create documentation in an easy to edit format called <a href="https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet" target="_blank" rel="noopener noreferrer">markdown</a>. Unlike Microsoft Word, Markdown is a purely text format and is easy to handle and transform when needed. Most importantly, mkdocs can make a great looking website out of it.</p>
<p>Once it is set up less technical people can be taught to edit content in it too. <a href="https://github.com/" target="_blank" rel="noopener noreferrer">GitHub</a> offers everything needed to edit, and to publish the website. (Yes, they provide free hosting.)</p>
<p>The initial setup is not <em>too</em> difficult, but you will need a bit of technical finesse. If you haven’t already, head on over to <a href="https://github.com/" target="_blank" rel="noopener noreferrer">GitHub</a> and register a free account. Once you’re done, go to <a href="https://github.com/janoszen/mkdocs-blueprint" target="_blank" rel="noopener noreferrer">my template repository</a> and click the green “Use this template” button. This will give you an option to make a copy of my prepared mkdocs setup into your own account. <strong>Make sure to check the “Include all branches” option.</strong></p>
<p>Once the process is complete, move to the “Actions” tab and wait for the deployment to complete. Once that’s done, go to “Settings” and scroll down to the “GitHub Pages” section. Please select <code>gh-pages</code> as the source and click “Save”.</p>
<figure>
        <img sizes="100vw" srcset="https://pasztor.at/posts/into-the-school-year-with-open-source-and-youtuber-spirit/github-pages_hu5894243d6f77da388f1af19f0d628910_58501_480x0_resize_box_2.png 480w, https://pasztor.at/posts/into-the-school-year-with-open-source-and-youtuber-spirit/github-pages_hu5894243d6f77da388f1af19f0d628910_58501_768x0_resize_box_2.png 768w, https://pasztor.at/posts/into-the-school-year-with-open-source-and-youtuber-spirit/github-pages_hu5894243d6f77da388f1af19f0d628910_58501_1024x0_resize_box_2.png 1024w" src="https://pasztor.at/posts/into-the-school-year-with-open-source-and-youtuber-spirit/github-pages.png" alt="&nbsp;">
        
    </figure>

<p>Congratulations! <strong>Wait a few minutes</strong>, and you will be the owner of a brand new e-learning website located at <code>https://YOURUSER.github.io/YOURREPONAME/</code>! If you wish, GitHub will give you the option to set up a custom domain name for your website too. You can read more about that <a href="https://docs.github.com/en/github/working-with-github-pages/configuring-a-custom-domain-for-your-github-pages-site" target="_blank" rel="noopener noreferrer">in the official documentation</a>.</p>
<p>Now, on to customizations. Please look at your GitHub repository and open the <code>mkdocs.yaml</code> file. This is your main configuration file in the popular <a href="https://rollout.io/blog/yaml-tutorial-everything-you-need-get-started/" target="_blank" rel="noopener noreferrer">YAML format</a>. You can click the little pen icon to edit it. Don’t worry, GitHub keeps your old versions in case you mess up.</p>
<p>Once you are done customizing everything there, head on to the <code>docs</code> directory. This is where your content lives. Primarily, in the files titled <code>index.md</code>. The examples provided should show you the way. You can now add content to your heart’s content (pun totally intended).</p>
<p>You can also add admonitions like this:</p>
<div><pre><code data-lang="fallback">!!! note
    This is a note

!!! tip
    This is a tip

!!! warning
    This is a warning
</code></pre></div><p>Or you can add a quiz:</p>
<div><pre><code data-lang="fallback">{{ quiz("What components are redundant in a server?", [
    answer("Power supply"),
    answer("CPU"),
    answer("RAM"),
    answer("Fan"),
    answer("OOBM"),
]) }}
</code></pre></div><p>The quizzes don’t give the students feedback because they are designed to invoke thinking rather than giving them an easy to memorize answer.</p>
<h2 id="adding-audio">Adding audio</h2>
<p>So far you only have a text version of your course. Let’s add some audio. You can record audio with a great many tools, one of the most popular open source ones is <a href="https://www.audacityteam.org/" target="_blank" rel="noopener noreferrer">Audacity</a>. I personally use <a href="https://www.adobe.com/products/audition.html" target="_blank" rel="noopener noreferrer">Adobe’s Audition</a> for this purpose.</p>
<p>Besides the audio software, you will also need a microphone. Nothing fancy, even a basic headset will do as long as the microphone is close to your mouth. <strong>Do not use in-ear headphones (e.g. Apple AirPods) or your built-in laptop microphone.</strong></p>
<p>You will need to find a quiet room. The room should also not be empty as empty walls reflect sound and cause reverb in the audio. Now comes the hardest part: you will need to read the text and listen to your own voice. <em>A lot.</em> The hard part here is not to fall into a monotone reading voice as most of us tend to do when we are sitting alone. If you are having a hard time doing this get someone else you can read to.</p>
<p>Also, make sure you experiment with your setup before you do the whole read. Move your microphone position to see what works best and how you can get the best result. When you are done with reading check your audio program if you can auto-remove long pauses. If you want to experiment with noise removal make sure you don’t over do it as it results in very weird and hard to listen-to artifacts.</p>
<p>Once you have your audio recorded, each segment in its own file, you can upload them to GitHub. Then you can add the audio to your <code>index.md</code> file by inserting the following HTML code below your headlines:</p>
<div><pre><code data-lang="html"><span>&lt;</span><span>audio</span> <span>preload</span><span>=</span><span>"none"</span> <span>controls</span> <span>src</span><span>=</span><span>"your-audio-segment.mp3"</span><span>&gt;&lt;/</span><span>audio</span><span>&gt;</span>
</code></pre></div><p>If you add a separate file after each headline, the blueprint will take them and chain them together for listening. If you want to add a downloadable MP3, too, you can merge the files together in your audio editing program and add them to the top of the page.</p>
<h2 id="creating-a-slide-deck">Creating a slide deck</h2>
<p>The next step is to create the slide deck. Traditionally, slide decks contain lots of bullet points. That serves a purpose as the slide deck is what students learn from. In our case, however, the slide deck is intended to invoke memorization. Memorization is helped by <em>unique visuals</em>. In my experience, most slides should contain a graphic relating to the content that’s being talked about.</p>
<figure>
        <img sizes="100vw" srcset="https://pasztor.at/posts/into-the-school-year-with-open-source-and-youtuber-spirit/visual-slides_hu75ba5c63a4c8329e0809657aef9f15f2_402690_480x0_resize_box_2.png 480w, https://pasztor.at/posts/into-the-school-year-with-open-source-and-youtuber-spirit/visual-slides_hu75ba5c63a4c8329e0809657aef9f15f2_402690_768x0_resize_box_2.png 768w, https://pasztor.at/posts/into-the-school-year-with-open-source-and-youtuber-spirit/visual-slides_hu75ba5c63a4c8329e0809657aef9f15f2_402690_1024x0_resize_box_2.png 1024w" src="https://pasztor.at/posts/into-the-school-year-with-open-source-and-youtuber-spirit/visual-slides.png" alt="A picture showing a slide with colorful graphics.">
        
    </figure>

<p>Ideally, you’ll have one slide …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://pasztor.at/blog/into-the-school-year-with-open-source-and-youtuber-spirit/">https://pasztor.at/blog/into-the-school-year-with-open-source-and-youtuber-spirit/</a></em></p>]]>
            </description>
            <link>https://pasztor.at/blog/into-the-school-year-with-open-source-and-youtuber-spirit/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24490472</guid>
            <pubDate>Wed, 16 Sep 2020 07:51:12 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Mook, a novel approach to state management with ClojureScript and React]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24490382">thread link</a>) | @lambdam
<br/>
September 16, 2020 | https://lambdam.com/blog/2020-09-mook/ | <a href="https://web.archive.org/web/*/https://lambdam.com/blog/2020-09-mook/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article><div><hr><p>The default way to write UI applications in ClojureScript is to use React or its cousin React Native.</p><p>UI applications involve handling the following things:</p><ol><li><strong>Displaying graphical components</strong> (~ how to describe them)<br>In this article we will use a very shallow wrapper around React described in a <a href="https://lambdam.com/blog/2020-09-react-wrapper">previous article</a> and included in the mook library.</li><li><strong>How to store and transform state</strong> (through user action or external action).<br>This is the topic of this article.</li><li><strong>How to link state and UI.</strong><br>React handles this point with the following "mantra": UI is a strict (and "dumb") application of the state: <code>UI&nbsp;=&nbsp;f(state)</code>.</li></ol><p>Mook is a young library that gives tools to store application state and to transform it.<br>After building ClojureScript applications (with React and React Native) for about 6 years, I bumped into various limitations. This library is an attent to circumvent them.</p><p>Throughout this article, we'll discover Mook ideas interactively thanks to Yehonathan Sharvit's wonderfull <a href="https://github.com/viebel/klipse" target="blank">Klipse</a> library. The ClojureScript code is compiled and executed directly in your browser so 1. you will see the result of the code next to it and 2. you can modify the code to explore its behavior.</p><h2>Global state management</h2><p>React handles only local state at the component level. But handling the global app state is another affair, and we have to turn toward other libraries (or manually crafting it around the ideas of <a href="https://facebook.github.io/flux/docs/in-depth-overview/" target="blank">Flux</a>).</p><p>A traditional way to handle global state in a Javascript is the <a href="https://redux.js.org/">Redux</a> approach. In the ClojureScript land, the reference is <a href="http://day8.github.io/re-frame/">re-frame</a>, which has similar concepts, with different names.</p><p>Here are the Redux important ideas:</p><ul><li>Isolate the application reference state into one hashmap structure.</li><li>Expose an opiniated way to read this state by preventing the risk of unwanted mutations.</li><li>Expose an opiniated way to transform this state.</li></ul><p>re-frame, in contrast to Redux, doesn't suffer from unwanted mutation risks thanks to Clojure persistent data structures.</p><p>Let's explore some problems and limitations of those frameworks of ideas.</p><h2>Limitation #1: state reading</h2><p>It's funny to note on a Clojure blog post that one of the first notions introduced in Redux essential tutorial is <a href="https://redux.js.org/tutorials/essentials/part-1-overview-concepts#immutability">immutability</a>. Reading the state with <code>useSelector</code> exposes the risk of mutating the reference state with methods such as <a href="https://redux.js.org/tutorials/essentials/part-4-using-data#sorting-the-posts-list">array.sort()</a>. This kind of risk doesn't exist in the Clojure land thanks to its <a href="https://augustl.com/blog/2019/you_have_to_know_about_persistent_data_structures/">persistent data structures</a>.</p><p>Also on the Redux side, new values suffer from the fact that the comparison of objects in JS are based on references, not values. So every new value that is an object will fire a full tree comparison, as explained on this <a href="https://redux.js.org/tutorials/essentials/part-4-using-data#creating-a-single-post-page">page</a> (in the 4th paragraph).<br>Clojure doesn't suffer from that since it does structural comparison by default, treating all data as values.</p><p>Finally, re-frame forces one to read the state in a component with a subscription. It forces to split some intention between different namespaces. After a while, changing and/or cleaning those linked parts of the code can be tricky.</p><p>To summarize: <strong>Since Clojure data structures are immutable and use structural comparison, we could locally and directly read it in the component and use Clojure structural equality to fire re-renders</strong>.</p><h2>Limitation #2: state writing</h2><p>Redux takes a lot of care to prevent unwanted mutations. So it defines a clear semantics to handle precise state mutations: this is the notion of reducer. Here is the shape of a reducer:</p><pre><code>function counterReducer(state, action) {
  ... // state tranformation here
  return newState;
}
</code></pre><p>Clojure already has a clear interface for state transition: <code>reset!</code> and <code>swap!</code> functions on atoms. But re-frame bypasses this interface, works hard to hide it and exposes a signature similar to Redux:</p><pre><code>(defn effect-handler [coeffects event]
 (let [item-id  (second event)
       db       (:db coeffects)
       new-db   (dissoc-in db [:items item-id])]
   {:db new-db}))
</code></pre><p>In the name of the superiority of data over everything (<code>data &gt; functions &gt; macros</code> in the <a href="http://day8.github.io/re-frame/a-loop/#homoiconic">intro page</a> of re-frame), some clean and simple properties of functions (composition, closures) and already existing pieces of the standard library (atoms) aren't used directly. This mantra might bring unwanted complexity.</p><p>To summarize: <strong>Since Clojure already has a clear and clean way to handle state transition, why not using it directly instead of hiding it?</strong></p><h2>Limitation #3: async workflows</h2><p>Let's talk only about re-frame.</p><p>This point is actually the one that pushed me away from re-frame: the existence of the <a href="https://github.com/day8/re-frame-async-flow-fx">re-frame-async-flow-fx</a> library.</p><p><strong>Having to redefine all async logic with pure data deeply is questionable when promises and core.async already exist.</strong><br>Once again, the mantra of <code>data &gt; function &gt; macro</code> seems to push away from the simplicity of some elegantly designed tools that already exist.</p><p>Complex async logic usually appears in the initialization phase of many applications. This library (and re-frame in general) forces to split an intention into multiple coupled event effects when a chain of promises can keep together async pieces of business logic.</p><p>To summarize: <strong>Why not using tools that already exist to handle async workflows?</strong></p><h2>Limitation #4: the single hashmap, in-memory database</h2><p>Last but not least, the idea that putting all the reference state into one hashmap is actually a good idea.</p><p>Let's imagine that we are creating a startup and that as CTO, we have to create an UI that allows users to pin books that they liked and recommand them to other users. One of the user stories is that on the user's main public page there is the list of read books and every book has information of the title, the author and a list of categories it belongs to.</p><p>You set up the database, expose a CRUD API and start coding the UI with one big hashmap to store the reference state.<br>Following the user story, a natural way of storing the data and exposing it on a coupled API endpoint would be the following:</p><pre><code>{:current-user-id 1234
 :users [{:id 1234
          :name "Dam"
          :relations [2345 ...]
          :books [{:id 9
                   :name "Foo"
                   :author "..."
                   :summary "..."
                   :categories [{:id 1
                                 :name "Thriller"}
                                {:id 2
                                 :name "Nordic"}]}
                  {:id 8
                   :name "Bar"
                   :author "..."
                   :summary "..."
                   :categories [{:id 3
                                 :name "Horror"}
                                {:id 2
                                 :name "Nordic"}]}]}
         {:id 2345
          :name "Chpill"
          ...}]}
</code></pre><p>After some time, the product manager asks for a new feature that would allow users to browse the books also by categories.</p><p>😤 No problem, I'm a tough programmer! Let's write a function that extracts this information from the big database hashmap.</p><pre><code>(defn get-books-by-categories [db]
  (some-&gt;&gt; (:users db)
           (some #(when (= (:id %) (:current-user-id db))
                    %))
           :books
           (reduce (fn [acc book]
                     (reduce (fn [acc category]
                               (if (contains? acc category)
                                 (update acc category conj book)
                                 (assoc acc category [book])))
                             acc
                             (:categories book)))
                   {})))
</code></pre><p>Yeah! I'm tough and Clojure is a blessing since I can put hashmaps as keys of hashmaps. The result would look like this:</p><pre><code>{{:id 1
  :name "Thriller"} [{:id 9
                      :name "Foo"
                      ...}
                     ...]

 {:id 2
  :name "Nordic"} [{:id 9
                    :name "Foo"
                    ...}
                   {:id 8
                    :name "Bar"
                    ...}
                   ...]

 ...}
</code></pre><p>But... 🤔</p><p>Maybe, that is not such a good idea. When I come back a month later, I struggle to understand what this function does and what is the shape of the data flowing through it.</p><p>To summarize: <strong>The hashmap data structure might not be very good as an in memory database since it forces one to give a "purpose shape" to the data.</strong></p><h2>Let's meet Mook</h2><p>Mook is the synthesis of about 6 years of crafting applications with ClojureScript. It came to life thanks to:</p><ol><li>React Hooks.</li><li>Datascript, a "true" in-memory database with powerful query capabilities.</li><li>Étienne Spillmaeker, aka <a href="https://github.com/chpill">@chpill</a>, my Clojure buddy since the beginning of my Clojure adventure.</li></ol><p>It tries to address the 4 pain points listed above.</p><p>Here are the strong Mook ideas:</p><ul><li>Use the db directly in the component with handlers.</li><li>Use Clojure references directly (generally atoms) in state transitions (aka actions).</li><li>Use promises to handle async workflows.</li><li>Make actions composable.</li><li>Enable the use of Datascript along with atoms to store state.</li></ul><p>Let's see how we could circumvent the previous limitations and then merge it into a usable library. We'll continue with our book platform and implement it with Mook interactively in the page thanks to <a href="https://github.com/viebel/klipse">Klipse</a>.</p><h2>Step #1: the data(base(s))</h2><p>One dominant idea of various architectures around React is to store the reference data in one place instead of spreading it all over the application.<br>Sadly we saw that this great idea leads to store the data into one big nested hashmap and that hashmaps aren't that good to store and extract information of "complex" data models.</p><p>Another great thing with Clojure is that it provides atoms which were from the beginning crafted with database-like interfaces.<br>Sadly again, a Datascript database and an atom do not share exactly the same interface for writing and listening (but do for reading, through the <code>deref</code> mechanism).</p><p>This can be summarized like this:</p><table>
  <thead>
    <tr><th scope="col"></th>
    <th scope="col">Reading</th>
    <th scope="col">Writing</th>
    <th scope="col">Watching</th>
  </tr></thead>
  <tbody>
    <tr>
      <th scope="row">atom</th>
      <td><code>deref</code></td>
      <td><code>reset!</code>, <code>swap!</code></td>
      <td><code>add-watch</code>, <code>remove-watch</code></td>
    </tr>
    <tr>
      <th scope="row">Datascript db</th>
      <td><code>deref</code></td>
      <td><code>transact!</code></td>
      <td><code>listen!</code>, <code>unlisten!</code></td>
    </tr>
  </tbody>
</table><p>We'll see later that in the Mook case, having different writing interfaces is not important, but watching interfaces are very important for React re-renders on data change.</p><p>Furtunately, Clojure provides a clever tool …</p></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://lambdam.com/blog/2020-09-mook/">https://lambdam.com/blog/2020-09-mook/</a></em></p>]]>
            </description>
            <link>https://lambdam.com/blog/2020-09-mook/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24490382</guid>
            <pubDate>Wed, 16 Sep 2020 07:36:56 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Reveal 1.0: Read Eval Visualize Loop for Clojure]]>
            </title>
            <description>
<![CDATA[
Score 24 | Comments 2 (<a href="https://news.ycombinator.com/item?id=24490363">thread link</a>) | @vlaaad
<br/>
September 16, 2020 | https://vlaaad.github.io/reveal/ | <a href="https://web.archive.org/web/*/https://vlaaad.github.io/reveal/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <div>
      
      
      <p><img src="https://vlaaad.github.io/assets/reveal/demo.gif" alt="Demo"></p>



<ul id="markdown-toc">
  <li><a href="#rationale" id="markdown-toc-rationale">Rationale</a></li>
  <li><a href="#give-it-a-try" id="markdown-toc-give-it-a-try">Give it a try</a></li>
  <li><a href="#features" id="markdown-toc-features">Features</a>    <ul>
      <li><a href="#tap-support" id="markdown-toc-tap-support"><code>tap&gt;</code> support</a></li>
      <li><a href="#eval-on-selection" id="markdown-toc-eval-on-selection">Eval on selection</a></li>
      <li><a href="#inspect-object-fields-and-properties" id="markdown-toc-inspect-object-fields-and-properties">Inspect object fields and properties</a></li>
      <li><a href="#look-and-feel-customization" id="markdown-toc-look-and-feel-customization">Look and feel customization</a></li>
      <li><a href="#url-and-file-browser" id="markdown-toc-url-and-file-browser">URL and file browser</a></li>
      <li><a href="#doc-and-source" id="markdown-toc-doc-and-source">Doc and source</a></li>
      <li><a href="#ref-watchers" id="markdown-toc-ref-watchers">Ref watchers</a></li>
      <li><a href="#charts" id="markdown-toc-charts">Charts</a></li>
      <li><a href="#table-view" id="markdown-toc-table-view">Table view</a></li>
      <li><a href="#and-more" id="markdown-toc-and-more">…and more</a></li>
    </ul>
  </li>
  <li><a href="#using-reveal" id="markdown-toc-using-reveal">Using Reveal</a>    <ul>
      <li><a href="#ui-concepts-and-navigation" id="markdown-toc-ui-concepts-and-navigation">UI concepts and navigation</a></li>
      <li><a href="#customization" id="markdown-toc-customization">Customization</a></li>
      <li><a href="#user-api" id="markdown-toc-user-api">User API</a>        <ul>
          <li><a href="#repl" id="markdown-toc-repl"><code>repl</code></a></li>
          <li><a href="#io-prepl" id="markdown-toc-io-prepl"><code>io-prepl</code></a></li>
          <li><a href="#remote-prepl" id="markdown-toc-remote-prepl"><code>remote-prepl</code></a></li>
          <li><a href="#ui" id="markdown-toc-ui"><code>ui</code></a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#editor-integration" id="markdown-toc-editor-integration">Editor integration</a>    <ul>
      <li><a href="#cursive" id="markdown-toc-cursive">Cursive</a></li>
      <li><a href="#nrepl-based-editors" id="markdown-toc-nrepl-based-editors">Nrepl-based editors</a></li>
      <li><a href="#windows" id="markdown-toc-windows">Windows</a></li>
    </ul>
  </li>
  <li><a href="#extending-reveal" id="markdown-toc-extending-reveal">Extending reveal</a>    <ul>
      <li><a href="#formatters" id="markdown-toc-formatters">Formatters</a>        <ul>
          <li><a href="#low-level-text-emitting-sfs" id="markdown-toc-low-level-text-emitting-sfs">Low-level text emitting sfs</a></li>
          <li><a href="#delegating-sfs" id="markdown-toc-delegating-sfs">Delegating sfs</a></li>
          <li><a href="#overriding-sfs" id="markdown-toc-overriding-sfs">Overriding sfs</a></li>
        </ul>
      </li>
      <li><a href="#actions" id="markdown-toc-actions">Actions</a></li>
      <li><a href="#views" id="markdown-toc-views">Views</a>        <ul>
          <li><a href="#short-cljfx-intro" id="markdown-toc-short-cljfx-intro">Short cljfx intro</a></li>
          <li><a href="#built-in-components" id="markdown-toc-built-in-components">Built-in components</a></li>
          <li><a href="#pluggable-context-menu" id="markdown-toc-pluggable-context-menu">Pluggable context menu</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#closing-thoughts" id="markdown-toc-closing-thoughts">Closing thoughts</a></li>
</ul>



<p>Repl is a great window into a running program, but the textual nature of its output limits developer’s ability to inspect the program: a text is not an object, and we are dealing with objects in the VM.</p>

<p>Reveal aims to solve this problem by creating an in-process repl output pane that makes inspecting values as easy as selecting an interesting datum. It recognizes the value of text as a universal interface, that’s why its output looks like a text: you can select it, copy it, save it into a file. Unlike text, reveal output holds references to printed values, making inspecting selected value a matter of opening a context menu.</p>

<p>Unlike datafy/nav based tools, Reveal does not enforce a particular data representation for any given object, making it an open set — that includes datafy/nav as one of the available options. It does not use datafy/nav by default because in the absence of inter-process communication to datafy is to lose.</p>

<p>Not being limited to text, Reveal uses judicious syntax highlighting to aid in differentiating various objects: text <code>java.lang.Integer</code> looks differently depending on whether it was produced from a symbol or a class.</p>



<p>The easiest way to try it is to run a Reveal repl:</p>
<div><div><pre><code>clj <span>\</span>
<span>-Sdeps</span> <span>'{:deps {vlaaad/reveal {:mvn/version "1.0.130"}}}'</span> <span>\</span>
<span>-m</span> vlaaad.reveal repl
</code></pre></div></div>
<p>Executing this command will start a repl and open Reveal output window that will mirror the evaluations in the shell.</p>



<h2 id="tap-support"><code>tap&gt;</code> support</h2>

<p>Clojure 1.10 added <code>tap&gt;</code> function with the purpose similar to printing the value for debugging, but instead of characters you get the object. Reveal repls show tapped values in their output windows — you won’t need <code>println</code> anymore!</p>

<p><img src="https://vlaaad.github.io/assets/reveal/tap.gif" alt="Tap demo"></p>

<h2 id="eval-on-selection">Eval on selection</h2>

<p>You can evaluate code on any selected value by using text input in the context menu. You can write either a single symbol of a function to call or a form where <code>*v</code> will be replaced with selected value.</p>

<p><img src="https://vlaaad.github.io/assets/reveal/eval-on-selection.gif" alt="Eval on selection demo"></p>

<h2 id="inspect-object-fields-and-properties">Inspect object fields and properties</h2>

<p>Any object in the JVM has class and fields, making them easily accessible for inspection is extremely important. With <code>java-bean</code> contextual action you get a debugger-like view of objects in the VM. Access to this information greatly improves the visibility of the VM and allows to explore it. For example, for any class you have on the classpath you can get the place where it’s coming from:</p>

<p><img src="https://vlaaad.github.io/assets/reveal/java-bean.gif" alt="Java bean demo">
I learned about it after implementing this feature :)</p>

<h2 id="look-and-feel-customization">Look and feel customization</h2>

<p>Reveal can be configured with <code>vlaaad.reveal.prefs</code> java property to use different font or theme:</p>

<p><img src="https://vlaaad.github.io/assets/reveal/light-theme.png" alt="Light theme"></p>

<h2 id="url-and-file-browser">URL and file browser</h2>

<p>You can open URL-like things and files: both internally in Reveal and externally using other applications in your OS e.g. file explorer, browser or text editor.</p>

<p><img src="https://vlaaad.github.io/assets/reveal/browse.gif" alt="Browse demo"></p>

<h2 id="doc-and-source">Doc and source</h2>

<p>Reveal can show you documentation and sources for various runtime values — namespaces, vars, symbols, functions, keywords (if they define a spec). Like <a href="https://cljdoc.org/">cljdoc</a>, it supports <code>[[wikilink]]</code> syntax in docstrings to refer to other vars, making them accessible for further exploration.</p>

<p><img src="https://vlaaad.github.io/assets/reveal/doc-and-source.gif" alt="Doc and source demo"></p>

<h2 id="ref-watchers">Ref watchers</h2>
<p>Reveal can watch any object implementing <code>clojure.lang.IRef</code> (things like atoms, agents, vars, refs) and display it either automatically updated or as a log of successors.</p>

<p><img src="https://vlaaad.github.io/assets/reveal/watchers.gif" alt="Ref watchers demo"></p>

<h2 id="charts">Charts</h2>

<p>Reveal can show data of particular shapes as charts that are usually explorable: when you find an interesting data point on the chart, you can then further inspect the data in that data point.</p>

<p>The simplest shape is labeled numbers. Labeled means that those numbers exist in some collection that has a unique label for every number. For maps, keys are labels, for sequential collections, indices are labels and for sets, numbers themselves are labels.</p>

<p>A pie chart shows labeled numbers:</p>

<p><img src="https://vlaaad.github.io/assets/reveal/pie-chart.gif" alt="Pie chart demo"></p>

<p>Other charts support more flexible data shapes — both because they can show more than one data series, and because they can be explored, where it might be useful to attach some metadata with the number. Since JVM numbers don’t allow metadata, you can instead use tuples where the first item is a number and second is the metadata. Bar charts can display labeled numbers (single data series) or labeled numbers that are themselves labeled (multiple data series):</p>

<p><img src="https://vlaaad.github.io/assets/reveal/bar-chart.gif" alt="Bar chart demo"></p>

<p>Line charts are useful to display progressions, so Reveal suggests them to display sequential numbers (and labeled sequential numbers):</p>

<p><img src="https://vlaaad.github.io/assets/reveal/line-chart.gif" alt="Line chart demo"></p>

<p>Finally, Reveal has scatter charts to display coordinates on a 2D plane. A coordinate is represented as a tuple of 2 numbers and as with numbers, you can use a tuple of coordinate and arbitrary value in the place of coordinate. Reveal will suggest scatter charts for collections of coordinates and labeled collections of coordinates.</p>

<p><img src="https://vlaaad.github.io/assets/reveal/scatter-chart.gif" alt="Scatter chart demo"></p>

<h2 id="table-view">Table view</h2>

<p>There are cases where it is better to make sense of the value when it is represented by a table: collections of homogeneous items where columns make it easier to compare corresponding parts of those items, and big deeply nested data structures where it’s easier to look at them layer by layer.</p>

<p><img src="https://vlaaad.github.io/assets/reveal/table.gif" alt="Table view demo"></p>

<h2 id="and-more">…and more</h2>

<p>Reveal was designed to be performant: it can stream syntax-highlighted output very fast. In addition to that, there are various helpers for data inspection:</p>
<ul>
  <li>text search that is triggered by <kbd>/</kbd> or <kbd>Ctrl F</kbd>;</li>
  <li>out of the box <a href="https://github.com/lambdaisland/deep-diff2">lambdaisland’s deep-diff</a> output highlighting: all you need to do is have it on the classpath;</li>
  <li>various contextual actions:
    <ul>
      <li>deref derefable things;</li>
      <li>get meta if a selected value has some meta;</li>
      <li>convert java array to vector;</li>
      <li>view the color of a thing that describes a color (like <code>"#fff"</code> or <code>:red</code>);</li>
    </ul>
  </li>
</ul>



<h2 id="ui-concepts-and-navigation">UI concepts and navigation</h2>

<p><img src="https://vlaaad.github.io/assets/reveal/concepts.png" alt="Concepts"></p>

<p>Reveal UI is made of 3 components:</p>
<ul>
  <li>output panel that contains data submitted to reveal window (e.g. repl output);</li>
  <li>a context menu that can invoke actions on selected values;</li>
  <li>results panel that has 1 or more tabs with action results produced from the context menu.</li>
</ul>

<p>Navigation:</p>
<ul>
  <li>Use <kbd>Space</kbd>, <kbd>Enter</kbd> or right mouse button to open a context menu on selection;</li>
  <li>Use <kbd>Tab</kbd> to switch focus between output and results panel;</li>
  <li>In results panel:
    <ul>
      <li>Use <kbd>Ctrl ←</kbd> and <kbd>Ctrl →</kbd> to switch tabs in results panel;</li>
      <li>Use <kbd>Esc</kbd> to close the tab</li>
    </ul>
  </li>
  <li>In a context menu:
    <ul>
      <li>Use <kbd>↑</kbd> and <kbd>↓</kbd> to move focus between available actions and input text field;</li>
      <li>Use <kbd>Enter</kbd> to execute selected action or form written in the text field;</li>
      <li>Use <kbd>Esc</kbd> to close the context menu.</li>
    </ul>
  </li>
</ul>

<h2 id="customization">Customization</h2>

<p>Reveal can be customized using <code>vlaaad.reveal.prefs</code> java property that contains an edn map of UI preferences. Supported keys (all optional):</p>
<ul>
  <li><code>:theme</code> — color theme, <code>:light</code> or <code>:dark</code>;</li>
  <li><code>:font-family</code> — system font name (like <code>"Consolas"</code>) or URL (like <code>"file:/path/to/font.ttf"</code> or <code>"https://ff.static.1001fonts.net/u/b/ubuntu.mono.ttf"</code>) — reveal only supports monospaced fonts;</li>
  <li><code>:font-size</code> — font size, number.</li>
</ul>

<p>Example:</p>
<div><div><pre><code><span>$ </span>clj <span>-A</span>:reveal <span>\</span>
<span>-J-Dvlaaad</span>.reveal.prefs<span>=</span><span>'{:font-family "Consolas" :font-size 15}'</span> <span>\</span>
<span>-m</span> vlaaad.reveal repl
</code></pre></div></div>

<h2 id="user-api">User API</h2>

<p>The main entry point to Reveal is <code>vlaaad.reveal</code> ns that has various repls and lower-level functionality for data inspection.</p>

<h3 id="repl"><code>repl</code></h3>

<p>It is a repl wraps <code>clojure.main/repl</code> with additional support for <code>:repl/quit</code> and <code>tap&gt;</code>. It is as simple as it gets. I use it all the time. Example:</p>

<div><div><pre><code><span>$ </span>clj <span>-A</span>:reveal <span>-m</span> vlaaad.reveal repl
<span># Reveal window appears</span>
Clojure 1.10.1
<span>user</span><span>=&gt;</span>
</code></pre></div></div>

<h3 id="io-prepl"><code>io-prepl</code></h3>

<p>This prepl works like <code>clojure.core.server/io-prepl</code>. Its purpose is to be run in a process on your machine that you want to connect to using another prepl-aware tool. Example:</p>

<div><div><pre><code><span>$ </span>clj <span>-A</span>:reveal <span>\</span>
<span>-J-Dclojure</span>.server.reveal<span>=</span><span>'{:port 5555 :accept vlaaad.reveal/io-prepl}'</span>
</code></pre></div></div>
<p>Now you can connect to this process using any socket repl and it will show a Reveal window for every connection:</p>
<div><div><pre><code><span>$ </span>nc localhost 5555
<span># reveal window appears</span>
<span>(</span>+ 1 2 3<span>)</span> <span># input</span>
<span>{</span>:tag :ret, :val <span>"6"</span>, :ns <span>"user"</span>, :ms 1, :form <span>"(+ 1 2 3)"</span><span>}</span> <span># output</span>
</code></pre></div></div>

<h3 id="remote-prepl"><code>remote-prepl</code></h3>

<p>Reveal is the most useful when it runs in the process where the development happens. This prepl, unlike the previous two, is not like that: it connects to a remote process and shows a window for values that arrived from the network. It can’t benefit from easy access to printed references because these references are pointing to values deserialized from bytes, not values in the target VM. It’s still nice and performant repl, and it’s useful when you want to use Reveal to talk to another process that does not have Reveal on the classpath (e.g. production or ClojureScript prepl).</p>

<p>Example:</p>
<ol>
  <li>Start a prepl without Reveal on the classpath:
    <div><div><pre><code><span>$ </span> clj <span>\</span>
<span>-Sdeps</span> <span>'{:deps {org.clojure/clojurescript {:mvn/version "1.10.764"}}}'</span> <span>\</span>
<span>-J-Dclojure</span>.server.cljs-prepl<span>=</span><span>'{:port 50505 :accept cljs.server.browser/prepl}'</span>
</code></pre></div>    </div>
  </li>
  <li>Connect to that prepl using Reveal:
    <div><div><pre><code>$ clj -A:reveal -m vlaaad.reveal remote-prepl :port 50505
# at this point, 2 things happen:
# 1. Browser window with cljs prepl appears
# 2. Reveal window opens

# input
js/window

# output
{:tag :ret, 
 :val #object [Window [object Window]], 
 :ns "cljs.user", 
 :ms 25, 
 :form "js/window"}
</code></pre></div>    </div>
  </li>
</ol>

<h3 id="ui"><code>ui</code></h3>

<p>Calling this function will create and show a Reveal window. It returns a function that you can submit values to — they will appear in the output panel. All built-in visual repls are thin wrappers of other repls that submit values to a window created by this generic function. You can use it to create custom Reveal-flavored repls, or, instead of using it as a repl, you can configure Reveal to only show tapped values.</p>

<p>Example:</p>
<div><div><pre><code><span>(</span><span>require</span><span> </span><span>'</span><span>[</span><span>vlaaad.reveal</span><span> </span><span>:as</span><span> </span><span>reveal</span><span>])</span><span>

</span><span>;; open a window that will show tapped values:</span><span>
</span><span>(</span><span>add-tap</span><span> </span><span>(</span><span>reveal/ui</span><span>))</span><span>

 </span><span>;; submit value to the window:</span><span>
</span>…</code></pre></div></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://vlaaad.github.io/reveal/">https://vlaaad.github.io/reveal/</a></em></p>]]>
            </description>
            <link>https://vlaaad.github.io/reveal/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24490363</guid>
            <pubDate>Wed, 16 Sep 2020 07:33:43 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Marching Towards Zero Waste]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 2 (<a href="https://news.ycombinator.com/item?id=24490345">thread link</a>) | @waterwhizzy
<br/>
September 16, 2020 | https://aishwaryabhargav.com/2020/09/15/marching-towards-zero-waste/ | <a href="https://web.archive.org/web/*/https://aishwaryabhargav.com/2020/09/15/marching-towards-zero-waste/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-338">
	<!-- .entry-header -->

	<div>
		
<p>Have you wondered how restaurants and cafes would tackle their surplus food availability? When I come across bakeries where all the breads get sold up near the closing time, it gives me immense satisfaction as a customer. But in reality, this is not the case all the time. The consumption patterns vary and we cannot safely assume that all the baked/cooked food would be sold at the end of the day. </p>



<figure><img src="https://www.traveller.com.au/content/dam/images/h/1/i/5/c/q/image.related.articleLeadwide.620x349.h1m3lq.png/1582771281097.jpg" alt="Hotels and food waste: What happens to breakfast buffet leftovers" width="334" height="187"></figure>



<p>It is said that an estimated 1.3 billion tonnes of food is wasted globally each year, one third of all food produced for human consumption, according to the <em>FAO</em> of the United nations. </p>



<figure><img src="https://blog.airliquide.se/sites/default/files/F%C3%B6rl%C3%A4ng_h%C3%A5llbarhet_p%C3%A5_livsmedel_med_Air_Liquides_livsmedelsgaser_SE.jpg" alt="Food waste är allas ansvar | Air Liquide - Sverige - Blog" width="353" height="236"><figcaption>One third of the world’s edible food is wasted every year – and that’s set to grow as the global population does.</figcaption></figure>



<p>As I had this thought about solutions for food waste in my mind, I came across an app that helps in this mission. <em>Too good to go (TGTG)</em> is a Copenhagen based company that not only helps to tackle the food wastage issue, but at the same time, be a connecting point to support the local business with their surplus food available with them. The local restaurants, bakeries, cafes, groceries stores etc are connected via this app. </p>



<figure><img src="https://www.theexeterdaily.co.uk/sites/default/files/field/image/44ec70adc6b90a5cf7191182a7b3fa092918cb458465dc346e89c39091e5be6b.jpg" alt="Costa Coffee expands partnership with Too Good To Go to tackle food waste  in Exeter | The Exeter Daily" width="369" height="245"><figcaption>The surprising element is that we do not know what food we would be getting when we make an order. Thus, it is called a magic bag.</figcaption></figure>



<p>Interestingly, I also came across another food waste app based out of Sweden, called <em>Karma</em> which is similar to <em>TGTG</em> app. One fascinating feature of this app is that you would get a personalized profile with data related to the number of kgs and items you have rescued so far. It also motivates us to win a batch and be consistent in this zero wastage mission. </p>



<figure><img src="https://www.werksgroup.org.uk/wp-content/uploads/2019/10/Karma_OOH_UK_Q2_IG-16.png" alt="" width="295" height="295"></figure>



<p>Both the apps provide us choices with dietary preferences and the ordering goes like this:<br>– Check what’s available in the store for you based on your location<br>– Pay it through the app in advance<br>– Collect the food at the prescribed time slot allotted</p>



<p>One major difference between <em>TGTG</em> and <em>Karma</em> app is that, the former offers us a bag filled with surplus foods (magic box) and the latter is the individual food items that we select and buy (there are no mystery/magic boxes). <br></p>



<figure><img src="https://gratisprinsessan.se/wp/wp-content/uploads/2019/12/karma-app.jpg" alt="Få 80 kr att handla för i appen Karma! - Gratisprinsessan" width="324" height="216"><figcaption>Ordering food through Karma app</figcaption></figure>



<div><p>Both the apps are exciting and provide an interesting dimension which complement and help in reducing the food wastage. Personally, I felt like a rescue warrior while using these apps with an added joy of getting quality food at an affordable price. I believe that this is a personal win-win solution to the customer, the local business and the planet! </p><p>Have you used the above apps or come across any other food waste solution apps? Would be great to hear from other (potential) rescue warriors.</p></div>
			</div><!-- .entry-content -->

	<!-- .entry-footer -->
</article></div>]]>
            </description>
            <link>https://aishwaryabhargav.com/2020/09/15/marching-towards-zero-waste/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24490345</guid>
            <pubDate>Wed, 16 Sep 2020 07:30:52 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why is Apple acting like an asshole?]]>
            </title>
            <description>
<![CDATA[
Score 543 | Comments 451 (<a href="https://news.ycombinator.com/item?id=24490326">thread link</a>) | @ig0r0
<br/>
September 16, 2020 | https://www.jessesquires.com/blog/2020/09/15/why-is-apple-acting-like-an-asshole/ | <a href="https://web.archive.org/web/*/https://www.jessesquires.com/blog/2020/09/15/why-is-apple-acting-like-an-asshole/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        <p>Today Apple announced <a href="https://www.apple.com/apple-events/september-2020/">at their media event</a> that the final public release of iOS 14 ships tomorrow, which came as quite a shock to all third-party developers.</p>

<!--excerpt-->

<p>This unwelcome surprise comes against the backdrop of dozens of controversies around the App Store — most recently <a href="https://www.theverge.com/2020/6/16/21293419/hey-apple-rejection-ios-app-store-dhh-gangsters-antitrust">Hey.com</a> and <a href="https://daringfireball.net/linked/2020/08/28/apple-terminates-epic-games-account">Epic</a>, but more generally its <a href="https://marco.org/2020/09/11/app-review-changes">painfully confusing</a> and <a href="https://inessential.com/2020/05/10/heads_up_to_rss_reader_authors">arbitrarily applied</a> rules, its incomprehensible <a href="https://mjtsai.com/blog/tag/rejection/">app rejections</a> and their often sudden retractions, app <a href="https://www.macrumors.com/2016/03/07/flexbright-adjust-display-temperature/">approvals followed by sudden removals</a> without explanation, and the general unequal treatment of developers where <a href="https://gizmodo.com/researchers-uber-s-ios-app-had-secret-permissions-that-1819177235">big companies</a> or favorites <a href="https://mjtsai.com/blog/2019/02/27/bbedit-12-6-to-return-to-the-mac-app-store/">get special treatment</a>. It leaves me wondering, what the hell is Apple’s strategy here? This is not a flurry of bad PR for the sake of it. There are serious problems here that need to be addressed — in particular, Developer Relations.</p>

<div>
    
    <div>
        <figure>
            <img src="https://www.jessesquires.com/img/appholes.jpg" title="Appholes" alt="Appholes">
            <div>
                
            </div>
        </figure>
    </div>
    
</div>

<h4>* * *</h4>

<p>Historically, these events announce new hardware and the upcoming release of the next major version of iOS, which is typically made public a few days later or the following week. For as long as I can remember it goes something like this:</p>

<ul>
  <li>Apple hosts a media event on a Tuesday in September.</li>
  <li>Announcements include new iPhones, iPads, and Watches. Or, at least some combination of those. Maybe something about Apple TV.</li>
  <li>All of the new hardware will run the latest version of iOS (or watchOS, or tvOS).</li>
  <li>The next major release of iOS is announced to be shipping on Friday (in a few days) or sometime the following week, like the next Tuesday.</li>
</ul>

<p>But today, Apple announced that iOS 14 is shipping <strong>tomorrow</strong>. This was near the end of the event — at roughly 11:00 AM Pacific time. This means West Coast developers have half a day to put the final touches on their app updates for iOS 14 <strong>AND</strong> get their apps submitted with the just-released Xcode 12 GM <strong>AND</strong> get through App Store review. None of those tasks are trivial, and no one familiar with them would agree that this is a sufficient amount of time to complete them. If you happen to be working on the East Coast, this means you were given just a few hours before the working day was over to get your app ready and submitted. And if you live in Europe or anywhere else in the world, well, go fuck yourself and good luck tomorrow!</p>

<p>On top of this, critical bugs still exist in the latest releases of the SDKs, Xcode 12, and iOS 14. It seems they will not be addressed.</p>

<h4>* * *</h4>

<p>Given the increasingly tenuous relationship that Apple has with developers, I do not understand how it could be in their interest to act like such an asshole right now. Not to mention, it is unlikely that they will even be able to review all of these app submissions in time. We already do not feel valued due to the aforementioned issues, and this is an outright negligent response to developer relationships the company has damaged over the past few years. Announcing that iOS 14 ships tomorrow with virtually no notice to developers is yet another breach of trust, another disappointment, and quite frankly feels like a big ‘fuck you’ to developers. What purpose does it serve to place this last-minute, unnecessary stress on third-party developers?</p>

<p>Who is in charge of iOS releases at Apple that thought this was a good idea? Who is the head of Developer Relations that thought this was a good idea?</p>

<p>To whomever made these decisions: <strong>y’all fucked up. Again.</strong></p>

    </div></div>]]>
            </description>
            <link>https://www.jessesquires.com/blog/2020/09/15/why-is-apple-acting-like-an-asshole/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24490326</guid>
            <pubDate>Wed, 16 Sep 2020 07:26:11 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Automate translation of apps, videos, and web pages with Bing Translate]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24490298">thread link</a>) | @panabee
<br/>
September 16, 2020 | https://hotpot.ai/file-translator | <a href="https://web.archive.org/web/*/https://hotpot.ai/file-translator">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="rootBody">

		


		<div id="rootYield">
			



<div id="pageBox">

	

	<div id="mainBox">

		<div id="controlBox">

			

			<p> Characters: <span>0</span> </p>

			<div id="uploadBox">
				<div id="optionBox">
					<div>
						<h3> Format </h3>

						<p><label> Plain Text<span></span></label>
						  	<label> Android<span></span></label>
						  	<label> HTML<span></span></label>
						  	<label> iOS<span></span></label>
							<label> JSON<span></span></label>
						  	<label> SRT<span></span></label>
						  	<label> Xamarin<span></span></label>
						</p>
					</div>

					
				</div>
			</div>

		</div>

		

	</div>


	<article id="apiAccess">
		<h2>API Access</h2>

		<p>
			Access this service programmatically with the <a href="https://hotpot.ai/docs/api">Hotpot API</a>.
		</p>
	</article>


	<article>

		<h2> Price </h2>

		<div>
			<p>
				Translations under 100 characters are free.
			</p>

			<p>
				$0.01 per 20 characters (translated). $1 mininum.
			</p>

			<p>
				For example, "Hello" counts as 10 characters if you pick two languages and 50 characters if you pick 5 languages. Format characters are excluded: &lt;div&gt;Hello&lt;/div&gt; only counts as 5 characters.
			</p>

			<p>
				For volume discounts, please <a href="https://hotpot.ai/contact">contact us</a>.
			</p>
		</div>

	</article>

	<article>

		<h2> Custom Formats </h2>

		<p>
				We support custom formats by letting you define your own regular expressions. If you want to join the beta program for custom formats, please contact us.
			</p>

	</article>

	<article>

		<h2> Service Overview </h2>

		<p>
				Our service is powered by Bing Translate and will soon support Google Translate.
			</p>

	</article>

</div>








<!---------------------------- Hotjar BEGIN ---------------------------->



<!---------------------------- Hotjar END ----------------------------->
		</div>

	</div></div>]]>
            </description>
            <link>https://hotpot.ai/file-translator</link>
            <guid isPermaLink="false">hacker-news-small-sites-24490298</guid>
            <pubDate>Wed, 16 Sep 2020 07:15:40 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Audio from Scratch with Go: Frère Jacques]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24490167">thread link</a>) | @Insanity
<br/>
September 15, 2020 | https://dylanmeeus.github.io/posts/audio-from-scratch-pt12/ | <a href="https://web.archive.org/web/*/https://dylanmeeus.github.io/posts/audio-from-scratch-pt12/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>In the <a href="https://dylanmeeus.github.io/posts/audio-from-scratch-pt11">last post</a> I ended by saying we
would be able to use <a href="https://github.com/DylanMeeus/GoAudio">GoAudio</a> to generate some simple tunes.
In this post we will actually put that to the test. Click the video to hear the end result :)</p><p>Brother John / Frère Jacques is a popular nursing rhyme, and also one of the few things I was taught
to play on the piano as a kid. As such, I thought it’d be fitting to try to code this song this time.
The notes for playing this are taken from <a href="https://www.true-piano-lessons.com/frere-jacques.html">true-piano-lessons.com</a>.
The code takes the notes starting in the key of C. (Maybe since it’s in Go, I should have started in G. Feel free to change it).</p><p>In the previous posts, we actually ignored the problem of turning notes into frequencies.
<a href="https://github.com/DylanMeeus/GoAudio">GoAudio</a> works with given frequencies. So we’ll need to
first implement a way to turn the notes into frequencies. For this, I came up with a somewhat
hackish solution but I didn’t know a better way other than hardcoding it.</p><p>As we’re making the music using the equal-tempered scale we can calculate the frequencies for each
note given a reference frequency. I’m using <code>middle C</code> as the reference frequency, which can be
derived from <code>concert A (A440</code>) in this way: <code>middleC = (concertA * math.Pow(2, 3/12)) / 2</code>.</p><p>To follow along with how we derive the frequencies for each note, I suggest taking a look at
<a href="https://en.wikipedia.org/wiki/Equal_temperament">wikipedia</a>. The basic idea however is that we have
12 semitones in an octave, so for each octave we have to generate the 12 semitones based off a
reference frequency. Confusingly however, an octave starts at <code>C</code> and not at <code>A</code>. (it does loop
around) so we get: <code>C D E F G A B</code>. Each time we loop around and get back to C, we move up one
octave (meaning higher frequency, thus higher pitch).</p><p>You can view a table of all frequencies from C0 (C at octave 0) up to B8 (B at octave 8)
<a href="https://pages.mtu.edu/~suits/notefreqs.html">here</a>.</p><p>The code for this is a bit hacky, so if you have a better way please let me know! :-)</p><p>Here I am generating in both the fourth and fifth octave, from C4 -&gt; B5. If we print the map
generated by this code we get (abbreviated)</p><p>Also note that I have added <code>WAIT</code> with frequency 0 in there. This is a bit hacky (and unnecessary
in Go). I’ve added this so we can have some more wait time between playing different sections of the song.
As the default-zero value of a float is zero, and because you can access a map safely even when a
key is missing, this was not necessary. We could just call the map with the <code>WAIT</code> key even if it
wasn’t inserted and our result would still be correct.</p><p>If you’re reading this, there’s a pretty good chance you know this. But I wanted to highlight it, as
I think this is a pretty cool feature of Go! Yet, in this case, I chose to be explicit about the
intend of the <code>WAIT</code> note.</p><p>Alright, so we have our notes and our frequencies associated with them. We still need to actually
generate a wave. For this I’ve introduced the convenience function “play” which takes a few
parameters and returns a frame:</p><p>This is quite similar to the past about
<a href="https://dylanmeeus.github.io.posts/audio-from-scratch-pt10.md">ADSR</a>, and just as in that post we
will apply the ADSR envelope to the signal here as well. Notice that ‘play’ takes a <code>LookupOscillator</code>.
In the previous post we’ve build a few of these for generating sine waves, triangle, square, etc.</p><p>This function tells us, play a note for a certain duration (in seconds) with a given oscillator, and
return a slice of frames. This function allowed me to quickly change the type of wave, and play
around with the result of playing different notes for different timespans.</p><p>Getting the ADSR envelope to sound like I wanted to was honestly the goold old way of trial and error. 😅.</p><p>Finally we have everything ready to compose the song. The below code is definitely not pretty, but it gets the job done!
First we generate the notes, then we create a wave table of a shape that we’d like. We
plug this into an Oscillator, and then we start calling the <code>Play</code> function with the notes that we
need.</p><p>For convenience I’ve added some variables to easily adapt the duration of sections of the song.
Variables, yeah!</p><div><div>
<table><tbody><tr><td>
<pre><code><span> 1
</span><span> 2
</span><span> 3
</span><span> 4
</span><span> 5
</span><span> 6
</span><span> 7
</span><span> 8
</span><span> 9
</span><span>10
</span><span>11
</span><span>12
</span><span>13
</span><span>14
</span><span>15
</span><span>16
</span><span>17
</span><span>18
</span><span>19
</span><span>20
</span><span>21
</span><span>22
</span><span>23
</span><span>24
</span><span>25
</span><span>26
</span><span>27
</span><span>28
</span><span>29
</span><span>30
</span><span>31
</span><span>32
</span><span>33
</span><span>34
</span><span>35
</span><span>36
</span><span>37
</span><span>38
</span><span>39
</span><span>40
</span><span>41
</span><span>42
</span><span>43
</span><span>44
</span><span>45
</span><span>46
</span><span>47
</span><span>48
</span><span>49
</span><span>50
</span><span>51
</span><span>52
</span><span>53
</span><span>54
</span><span>55
</span><span>56
</span><span>57
</span><span>58
</span><span>59
</span><span>60
</span><span>61
</span><span>62
</span><span>63
</span><span>64
</span></code></pre></td>
<td>
<pre><code data-lang="go"><span>func</span> <span>main</span>() {
	<span>nm</span> <span>:=</span> <span>generateNotes</span>()
	<span>st</span>, <span>err</span> <span>:=</span> <span>synth</span>.<span>NewTriangleTable</span>(<span>8</span><span>*</span><span>1024</span>, <span>11</span>)
	<span>if</span> <span>err</span> <span>!=</span> <span>nil</span> {
		panic(<span>err</span>)
	}
	<span>osc</span>, <span>err</span> <span>:=</span> <span>synth</span>.<span>NewLookupOscillator</span>(<span>sr</span>, <span>st</span>, <span>0</span>)
	<span>if</span> <span>err</span> <span>!=</span> <span>nil</span> {
		panic(<span>err</span>)
	}

	<span>waitdur</span> <span>:=</span> <span>.1</span>
	<span>cdecdur</span> <span>:=</span> <span>0.6</span>
	<span>efgdur</span> <span>:=</span> <span>0.6</span>
	<span>gagfecdur</span> <span>:=</span> <span>0.5</span>
	<span>cgcdur</span> <span>:=</span> <span>0.5</span>

	<span>// notes: https://www.true-piano-lessons.com/frere-jacques.html
</span><span></span>	<span>output</span> <span>:=</span> []<span>wave</span>.<span>Frame</span>{}
	<span>// frere jacues
</span><span></span>	<span>output</span> = append(<span>output</span>, <span>play</span>(<span>osc</span>, <span>"C5"</span>, <span>cdecdur</span>, <span>nm</span>)<span>...</span>)
	<span>output</span> = append(<span>output</span>, <span>play</span>(<span>osc</span>, <span>"D5"</span>, <span>cdecdur</span>, <span>nm</span>)<span>...</span>)
	<span>output</span> = append(<span>output</span>, <span>play</span>(<span>osc</span>, <span>"E5"</span>, <span>cdecdur</span>, <span>nm</span>)<span>...</span>)
	<span>output</span> = append(<span>output</span>, <span>play</span>(<span>osc</span>, <span>"C5"</span>, <span>cdecdur</span>, <span>nm</span>)<span>...</span>)
	<span>output</span> = append(<span>output</span>, <span>play</span>(<span>osc</span>, <span>"C5"</span>, <span>cdecdur</span>, <span>nm</span>)<span>...</span>)
	<span>output</span> = append(<span>output</span>, <span>play</span>(<span>osc</span>, <span>"D5"</span>, <span>cdecdur</span>, <span>nm</span>)<span>...</span>)
	<span>output</span> = append(<span>output</span>, <span>play</span>(<span>osc</span>, <span>"E5"</span>, <span>cdecdur</span>, <span>nm</span>)<span>...</span>)
	<span>output</span> = append(<span>output</span>, <span>play</span>(<span>osc</span>, <span>"C5"</span>, <span>cdecdur</span>, <span>nm</span>)<span>...</span>)
	<span>output</span> = append(<span>output</span>, <span>play</span>(<span>osc</span>, <span>"WAIT"</span>, <span>waitdur</span>, <span>nm</span>)<span>...</span>)
	<span>// dormez-vous
</span><span></span>	<span>output</span> = append(<span>output</span>, <span>play</span>(<span>osc</span>, <span>"E5"</span>, <span>efgdur</span>, <span>nm</span>)<span>...</span>)
	<span>output</span> = append(<span>output</span>, <span>play</span>(<span>osc</span>, <span>"F5"</span>, <span>efgdur</span>, <span>nm</span>)<span>...</span>)
	<span>output</span> = append(<span>output</span>, <span>play</span>(<span>osc</span>, <span>"G5"</span>, <span>efgdur</span>, <span>nm</span>)<span>...</span>)
	<span>output</span> = append(<span>output</span>, <span>play</span>(<span>osc</span>, <span>"WAIT"</span>, <span>0.2</span>, <span>nm</span>)<span>...</span>)
	<span>output</span> = append(<span>output</span>, <span>play</span>(<span>osc</span>, <span>"E5"</span>, <span>efgdur</span>, <span>nm</span>)<span>...</span>)
	<span>output</span> = append(<span>output</span>, <span>play</span>(<span>osc</span>, <span>"F5"</span>, <span>efgdur</span>, <span>nm</span>)<span>...</span>)
	<span>output</span> = append(<span>output</span>, <span>play</span>(<span>osc</span>, <span>"G5"</span>, <span>efgdur</span>, <span>nm</span>)<span>...</span>)
	<span>// sonnez les matines
</span><span></span>	<span>output</span> = append(<span>output</span>, <span>play</span>(<span>osc</span>, <span>"G5"</span>, <span>gagfecdur</span>, <span>nm</span>)<span>...</span>)
	<span>output</span> = append(<span>output</span>, <span>play</span>(<span>osc</span>, <span>"A5"</span>, <span>gagfecdur</span>, <span>nm</span>)<span>...</span>)
	<span>output</span> = append(<span>output</span>, <span>play</span>(<span>osc</span>, <span>"G5"</span>, <span>gagfecdur</span>, <span>nm</span>)<span>...</span>)
	<span>output</span> = append(<span>output</span>, <span>play</span>(<span>osc</span>, <span>"F5"</span>, <span>gagfecdur</span>, <span>nm</span>)<span>...</span>)
	<span>output</span> = append(<span>output</span>, <span>play</span>(<span>osc</span>, <span>"E5"</span>, <span>gagfecdur</span>, <span>nm</span>)<span>...</span>)
	<span>output</span> = append(<span>output</span>, <span>play</span>(<span>osc</span>, <span>"C5"</span>, <span>gagfecdur</span>, <span>nm</span>)<span>...</span>)
	<span>output</span> = append(<span>output</span>, <span>play</span>(<span>osc</span>, <span>"WAIT"</span>, <span>0.2</span>, <span>nm</span>)<span>...</span>)
	<span>output</span> = append(<span>output</span>, <span>play</span>(<span>osc</span>, <span>"G5"</span>, <span>gagfecdur</span>, <span>nm</span>)<span>...</span>)
	<span>output</span> = append(<span>output</span>, <span>play</span>(<span>osc</span>, <span>"A5"</span>, <span>gagfecdur</span>, <span>nm</span>)<span>...</span>)
	<span>output</span> = append(<span>output</span>, <span>play</span>(<span>osc</span>, <span>"G5"</span>, <span>gagfecdur</span>, <span>nm</span>)<span>...</span>)
	<span>output</span> = append(<span>output</span>, <span>play</span>(<span>osc</span>, <span>"F5"</span>, <span>gagfecdur</span>, <span>nm</span>)<span>...</span>)
	<span>output</span> = append(<span>output</span>, <span>play</span>(<span>osc</span>, <span>"E5"</span>, <span>gagfecdur</span>, <span>nm</span>)<span>...</span>)
	<span>output</span> = append(<span>output</span>, <span>play</span>(<span>osc</span>, <span>"C5"</span>, <span>gagfecdur</span>, <span>nm</span>)<span>...</span>)
	<span>output</span> = append(<span>output</span>, <span>play</span>(<span>osc</span>, <span>"WAIT"</span>, <span>gagfecdur</span>, <span>nm</span>)<span>...</span>)
	<span>// dindindon
</span><span></span>	<span>output</span> = append(<span>output</span>, <span>play</span>(<span>osc</span>, <span>"C5"</span>, <span>cgcdur</span>, <span>nm</span>)<span>...</span>)
	<span>output</span> = append(<span>output</span>, <span>play</span>(<span>osc</span>, <span>"G5"</span>, <span>cgcdur</span>, <span>nm</span>)<span>...</span>)
	<span>output</span> = append(<span>output</span>, <span>play</span>(<span>osc</span>, <span>"C5"</span>, <span>cgcdur</span>, <span>nm</span>)<span>...</span>)
	<span>output</span> = append(<span>output</span>, <span>play</span>(<span>osc</span>, <span>"WAIT"</span>, <span>0.1</span>, <span>nm</span>)<span>...</span>)
	<span>output</span> = append(<span>output</span>, <span>play</span>(<span>osc</span>, <span>"C5"</span>, <span>cgcdur</span>, <span>nm</span>)<span>...</span>)
	<span>output</span> = append(<span>output</span>, <span>play</span>(<span>osc</span>, <span>"G5"</span>, <span>cgcdur</span>, <span>nm</span>)<span>...</span>)
	<span>output</span> = append(<span>output</span>, <span>play</span>(<span>osc</span>, <span>"C5"</span>, <span>cgcdur</span>, <span>nm</span>)<span>...</span>)

	<span>wfmt</span> <span>:=</span> <span>wave</span>.<span>NewWaveFmt</span>(<span>1</span>, <span>1</span>, <span>sr</span>, <span>16</span>, <span>nil</span>)
	<span>wave</span>.<span>WriteFrames</span>(<span>output</span>, <span>wfmt</span>, <span>"frerejacques.wav"</span>)
}
</code></pre></td></tr></tbody></table>
</div>
</div><p>If you liked this and want to know when I write new posts, the best way to keep up to date is by <a href="https://twitter.com/DylanMeeus">following me on
twitter</a>.</p></div>]]>
            </description>
            <link>https://dylanmeeus.github.io/posts/audio-from-scratch-pt12/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24490167</guid>
            <pubDate>Wed, 16 Sep 2020 06:47:32 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Reusability Fallacy]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24490138">thread link</a>) | @krallistic
<br/>
September 15, 2020 | https://www.ufried.com/blog/reusability_fallacy_1/ | <a href="https://web.archive.org/web/*/https://www.ufried.com/blog/reusability_fallacy_1/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">
    
<p>After several posts discussing different aspects of IT as a whole, I would like to start discussing another thread of thinking: software architecture. This is a huge topic and I pondered for quite a while where to start. Finally, I decided to start with debunking the long-lived architectural myth of reusability because this makes it easier to understand some of the ideas that I will discuss in later posts.</p>
<p>Reusability is a recurring topic that I discuss for lots of years meanwhile:</p>
<ul>
<li>One of my first public talks discussed reusability <sup id="fnref:1"><a href="#fn:1" role="doc-noteref">1</a></sup>.</li>
<li>I wrote an article about reusability for a (German) IT journal at the same time.</li>
<li>Some years later I published a <a href="https://blog.codecentric.de/en/2015/10/the-broken-promise-of-re-use/">post</a> discussing reusability on the blog of <a href="https://www.codecentric.de/">codecentric AG</a>.</li>
<li>I discuss this topic in many of my talks and workshops, especially in the context of service design.</li>
</ul>
<p>Yet, all these places only discuss selected aspects of the reusability fallacy. Here I try to brings those aspects together and discuss reusability in a more comprehensive way – probably still missing some relevant facets.</p>
<h2 id="the-fallacy">The fallacy</h2>
<p>Reusability is sort of a holy grail in software architecture and design for many years. The discussion about reusable software modules <sup id="fnref:2"><a href="#fn:2" role="doc-noteref">2</a></sup> gained momentum in the early 1970s. E.g., the seminal computer science paper <a href="https://ieeexplore.ieee.org/document/5388187">“Structured design”</a> by Stevens, Myers and Constantine from 1974 already discussed reusability as one of the goals of structured design. <sup id="fnref:3"><a href="#fn:3" role="doc-noteref">3</a></sup></p>
<p>This discussion persists until today. And admittedly, the idea is intriguing: I create a software module once and as there are basically no reproduction costs in software, I can reuse it at no cost in as many places as I want. Invest once, harvest forever. What an efficiency lever! What a cost saver!</p>
<p>Hence, it is not surprising that generations of IT managers demand reusability as essential design goal, and their high priests, the architects in return try hard to deliver reusability. Over time this yearning for reusability has become independent. Nobody asks anymore if reusability makes sense in the given context. Reusability is important. Period!</p>
<p>Eventually, it even turned around: architects discovered that they can use reusability as a powerful sales argument for the introduction of new architectural paradigms. It was not necessary that they proved their claim. Simply arguing with reusability was enough to convince IT managers of the new paradigm. The typical reasoning was (and still is) as follows:</p>
<blockquote>
<p>We definitely need to invest in implementing &lt;shiny new paradigm&gt;. I know this does not create any business value now, but it allows to create <strong>reusable</strong> &lt;building blocks of paradigm&gt;! This way, we will have to pay a lot less for future projects, they will be a lot faster and we will be a lot more flexible. <em>The investment will pay for itself in no time!</em>â€�</p>
</blockquote>
<p>From all that I have seen in my IT career, it never worked this way – and I am very sure, it also never will work in the future.</p>
<h2 id="a-deeply-industrial-belief">A deeply industrial belief</h2>
<p>The reason why it never works this way, has several facets. First of all, reusability is a deeply industrial belief. In the physical world, reusability is mostly interchangeable with standardization. Standardized parts support building the product at a lower price and can easily be reused in multiple products. On the other hand, any part that is designed with reusability in mind is a candidate for becoming a standardized part.</p>
<p>The key aspect of reusability/standardization in the physical world is that it helps to save costs over time. You need to spend the efforts to design the part only once. The production process needs to be designed and set up only once. The required tooling needs to be created and installed only once. Afterwards you can produce as many copies of the part as you like without having to repeat the design and setup investments.</p>
<p>This way, reusability helps satisfying the key success criterion of <a href="https://ufried.com/blog/markets/#industrial-markets">industrial markets</a>: scale production in a cost-efficient way. A big part of the cost savings comes from the production of the parts, that you can produce lots of them without having to design and set up the production process and tooling over and over again.</p>
<p>If you additionally create the part in a way that it can be (re)used in different contexts, you can produce an even higher quantity which helps spreading the fixed costs for design and setup even further, i.e., the part becomes even cheaper (in terms of costs, not quality).</p>
<p>Thus, consistently aiming for reusability makes a lot of sense in the physical world where you create houses, bridges, furniture, electronic devices, etc. from reusable parts. But transferring this idea of cost savings via reusability to software development is riddled with several caveats.</p>
<h2 id="implementation-is-part-of-design-not-production">Implementation is part of design, not production</h2>
<p>The first persistent misunderstanding is that writing code can be compared to building a house or assembling a car. The idea is that software architecture and design work can be compared to designing a car or house and writing code is executing the plan, i.e., assembling the final product.</p>
<p>Unfortunately, this perception is completely wrong. The final product in software development is the executable program. We usually create it by compiling the source code <sup id="fnref:4"><a href="#fn:4" role="doc-noteref">4</a></sup>. In other words: IT has the probably most efficient production process imaginable for more than 60 years meanwhile – so efficient, that we usually completely forget about it.</p>
<p>Today, this production process typically is a step in a CI/CD pipeline, but it does not change the fact that we build our products in an extremely efficient way without any human intervention.</p>
<p>Writing code on the other hand is completing the design. The product design is only completed after the last line of source code is written. Writing code is like adding the details of a car design, designing the details of the shape, the interior design, the power transmission and so on – everything that needs to be done <em>before</em> a car can be produced. Producing the actual product, the executable program from the code is negligible in terms of time, costs and effort.</p>
<blockquote>
<p>Writing code is completing the design.</p>
<p>Building the product from the completed design is just issuing a command (and has nothing to do with writing code).</p>
</blockquote>
<p>Thus, all those metaphors that compare writing code with assembling a car or building a house are wrong.</p>
<p>This also means that the assumption derived from the physical world breaks that we can save lots of money in the production process by using reusable parts. The production process in IT is already unbelievable cheap compared to any physical domain. Additionally, we can produce as many copies of a part at basically zero cost: it is called the copy command.</p>
<p>Accordingly, all considerations that are based on the value of reusability in the physical world do not work in IT as reusability in software development does not help to save money in the production process.</p>
<h2 id="the-inherent-lack-of-standardization-in-it">The inherent lack of standardization in IT</h2>
<p>This still leaves room for efficiency gains through reusability in the design process. To (mis)use the metaphor of automobiles once more: Many car manufacturers use a platform strategy these days, i.e., they reuse a lot of standardized base parts in their car designs. E.g., they do not design the engines or chassis from scratch for every new model they design, but reuse engines or chassis from their platform, complementing them with parts individually designed for the specific model.</p>
<p>While this platform approach of reusing parts again primarily targets cost savings on the production side (which is not relevant in IT, as we have seen in the last section), it probably also helps to reduce time, costs and effort in the design process.</p>
<p>We can apply this idea to software development: The more reusable parts we can use in our design, i.e., software development process, the more time, costs and effort we can probably save.</p>
<p>This is where another peculiarity of IT strikes.</p>
<p>In his famous essay <a href="https://www.researchgate.net/publication/220477127_No_Silver_Bullet_Essence_and_Accidents_of_Software_Engineering">“No silver bullet”</a> <sup id="fnref:5"><a href="#fn:5" role="doc-noteref">5</a></sup>, Fred Brooks reasons about essential and accidental complexity in software development. One of the drivers of essential complexity he lists is “complexity”:</p>
<blockquote>
<p>Complexity. Software entities are more complex for their size than perhaps any other human construct, because no two parts are alike (at least above the statement level). If they are, we make the two similar parts into one, a subroutine, open or closed. In this respect software systems differ profoundly from computers, buildings, or automobiles, where repeated elements abound. […] Likewise, a scaling-up of a software entity is not merely a repetition of the same elements in larger size; it is necessarily an increase in the number of different elements.</p>
</blockquote>
<p>First of all, Brooks clearly rejects the idea that we can design a software solution from a set of higher-level standardized building blocks in the same way as we can design a wall by arranging the same type of brick multiple times. Each part we use will be different from all other parts.</p>
<p>Yet, while making the case against standardized building blocks, Brooks still leaves room for reuse: he states each part in our solution will be different, but we may use a part several times from higher-level contexts. Following this idea, we reuse lower-level functionalities to support higher-level functionalities.</p>
<h2 id="what-is-left-for-reusability">What is left for reusability</h2>
<p>In this post, I tried to deconstruct a part of the reusability fallacy: the fallacy that we can save lots of money from a more efficient production process by using standardized, reusable parts. Software development is all about design. The design is only completed after the last line of code is written.</p>
<p>The actual production process, i.e., creating the executable program, is so efficient and cheap that there is nothing left to save. Thus, all the reusability approaches that take concepts from the physical world and try to apply them to software development do not work.</p>
<p>We are left with efficiency gains in the design process itself due to the use of reusable parts. In the <a href="https://ufried.com/blog/reusability_fallacy_2/">next part of this little series</a> …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.ufried.com/blog/reusability_fallacy_1/">https://www.ufried.com/blog/reusability_fallacy_1/</a></em></p>]]>
            </description>
            <link>https://www.ufried.com/blog/reusability_fallacy_1/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24490138</guid>
            <pubDate>Wed, 16 Sep 2020 06:41:16 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Kontrast Is a Contrast Checker]]>
            </title>
            <description>
<![CDATA[
Score 10 | Comments 1 (<a href="https://news.ycombinator.com/item?id=24490131">thread link</a>) | @_ZeD_
<br/>
September 15, 2020 | https://carlschwan.eu/2020/09/15/kontrast-1.0.html | <a href="https://web.archive.org/web/*/https://carlschwan.eu/2020/09/15/kontrast-1.0.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <article>
  <header>
    
    
    <p>
      September 15, 2020
      
    </p>
    
  </header>
  <section><p>Kontrast is a contrast checker available for desktop and mobile devices. You can
use Kontrast to choose background and text color combinations for your website or
app that your users will find easy to read. Kontrast can help you improve the
accessibility for your site or app for people with vision problems.</p>

<p>Kontrast won’t catch all the problems, but it should still be very helpful to catch
many issues early on, when designing your interface.</p>

<p>I released the first version of Kontrast earlier this month.</p>

<p><img src="https://cdn.kde.org/screenshots/kontrast/kontrast.png" alt="Kontrast main page"></p>

<p>Another big feature of Kontrast is the possibility to generate random color
combinations with good contrast. These colors can be saved in the application itself,
so that you can keep a particularly good color combination for later use.</p>

<p>Kontrast is available for the Linux desktop, <a href="https://plasma-mobile.org/">Plasma Mobile</a> and
there is also a Beta version for Android.</p>

<p>This application is built using the excellent <a href="https://develop.kde.org/frameworks/kirigami">Kirigami</a>
framework.</p>

<p><img src="https://cdn.kde.org/screenshots/kontrast/kontrat_mobile.png" alt="Kontrast mobile view"></p>

<p>You can download and install Kontrast from <a href="https://flathub.org/apps/details/org.kde.kontrast">Flathub</a> and
a nightly build is also available <a href="https://binary-factory.kde.org/job/Kontrast_android/">in binary factory</a>.</p>

<p>The tarball is available <a href="https://download.kde.org/stable/kontrast/kontrast-1.0.2.tar.xz">here</a>
and is signed with my gpg key <a href="https://carlschwan.eu/gpg.html">14B0ED91B5783415D0AA1E0A06B35D38387B67BE</a>.</p>

<h2 id="future-improvements">Future Improvements</h2>

<p>Future plans include improving the Android build, possibly release a stable
build of the Android version and also create a QtQuick-based color picker
that is better integrated with the application.</p>
</section>
  

</article>

<!-- Post navigation -->


    </div></div>]]>
            </description>
            <link>https://carlschwan.eu/2020/09/15/kontrast-1.0.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24490131</guid>
            <pubDate>Wed, 16 Sep 2020 06:40:27 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Compiling a Lisp to x86-64: Primitive binary functions]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 1 (<a href="https://news.ycombinator.com/item?id=24490108">thread link</a>) | @tekknolagi
<br/>
September 15, 2020 | https://bernsteinbear.com/blog/compiling-a-lisp-5/ | <a href="https://web.archive.org/web/*/https://bernsteinbear.com/blog/compiling-a-lisp-5/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
            <p><em><a href="https://bernsteinbear.com/blog/compiling-a-lisp-0/">first</a></em> – <em><a href="https://bernsteinbear.com/blog/compiling-a-lisp-4/">previous</a></em></p>

<p>Welcome back to the “Compiling a Lisp” series. Last time, we added some
primitive unary instructions like <code>add1</code> and <code>integer-&gt;char</code>. This time, we’re
going to add some primitive <em>binary</em> functions like <code>+</code> and <code>&lt;</code>. After this
post, we’ll be able to compile programs like:</p>



<p>Note that these expressions may look like function calls but, like last
chapter, they are not opening new stack frames (which I’ll explain more about
later). Instead, the compiler will recognize that the programmer is directly
applying the symbol <code>+</code> and generate special code. You can think about this
kind of like an inlined function call.</p>

<p>It’s important to remember that the compiler has a certain internal contract:
the result of any given compiled expression is stored in <code>rax</code>. This isn’t some
intrinsic property of all compilers, but it’s one we’ve kept so far in this
series.</p>

<blockquote>
  <p>This is similar to but not the same as the calling convention that I
mentioned earlier, where function results are stored in <code>rax</code>. That calling
convention is for interacting with other people’s code. Within your own
generated code, there are no rules. So we could pick any other register,
really, for storing intermediate results.</p>
</blockquote>

<p>Now that we’re building primitive functions that can take two arguments, you
might notice a problem: our strategy of storing the result in <code>rax</code> won’t work
on its own. If we were to naïvely write something like the following to
implement <code>+</code>, then <code>rax</code> would get overwritten in the code generated by
compiling <code>operand1(args)</code>:</p>

<div><div><pre><code><span>int</span> <span>Compile_call</span><span>(</span><span>Buffer</span> <span>*</span><span>buf</span><span>,</span> <span>ASTNode</span> <span>*</span><span>callable</span><span>,</span> <span>ASTNode</span> <span>*</span><span>args</span><span>)</span> <span>{</span>
  <span>if</span> <span>(</span><span>AST_is_symbol</span><span>(</span><span>callable</span><span>))</span> <span>{</span>
    <span>// ...</span>
    <span>if</span> <span>(</span><span>AST_symbol_matches</span><span>(</span><span>callable</span><span>,</span> <span>"+"</span><span>))</span> <span>{</span>
      <span>_</span><span>(</span><span>Compile_expr</span><span>(</span><span>buf</span><span>,</span> <span>operand2</span><span>(</span><span>args</span><span>)));</span>
      <span>// The result of this is stored in rax ^</span>
      <span>_</span><span>(</span><span>Compile_expr</span><span>(</span><span>buf</span><span>,</span> <span>operand1</span><span>(</span><span>args</span><span>)));</span>
      <span>// Oops, we just overwrote rax ^</span>
      <span>Emit_add_something</span><span>(</span><span>buf</span><span>,</span> <span>/*dst=*/</span><span>kRax</span><span>));</span>
      <span>return</span> <span>0</span><span>;</span>
    <span>}</span>
    <span>// ...</span>
  <span>}</span>
  <span>// ...</span>
<span>}</span>
</code></pre></div></div>

<p>We could try and work around this by adding some kind of register allocation
algorithm and take advantage of <code>rcx</code>, <code>rdx</code>, etc. Or, simpler, we could decide
to allocate all intermediate values on the stack and move on with our lives. I
prefer the latter. It’s simpler.</p>

<h3 id="stack-background-info">Stack background info</h3>

<p>Since we can’t yet save our compiled programs to disk, there’s some amount of
setup that has to happen before they’re run. Right now, the C programs I’m
providing along with this series compile to binaries that just run the test
suites for the compiler. They don’t actually run full programs. For this
reason, there are already some call frames on the stack by the time our
generated code is run.</p>

<p>Let’s take a look at the stack at the moment we enter a compiled Lisp program:</p>

<div><div><pre><code>|                  | High addresses
+------------------+
|  main            |
+------------------+ |
|  ~ some data ~   | |
|  ~ some data ~   | |
+------------------+ |
|  compile_test    | |
+------------------+ |
|  ~ some data ~   | |
|  ~ some data ~   | v
+------------------+
|  Testing_exe...  | rsp (stack pointer)
+------------------+
|                  | &lt;-- Our frame!
|                  | Low addresses
</code></pre></div></div>

<p>In this diagram, we have the C program’s <code>main</code> function, which has its own
local variables and so on. Then the <code>main</code> function calls the <code>compile_test</code>
unit suite. This in turn calls this <code>Testing_execute_expr</code> function
(abbreviated in the diagram), which is responsible for calling into our
generated code. Every call stores the return address (some place to find the
next instruction to execute) on the stack and adjusts <code>rsp</code> down.</p>

<blockquote>
  <p>Refresher: the call stack grows <em>down</em>. Why? Check out this <a href="https://stackoverflow.com/a/54391533/569183">StackOverflow
answer</a> that quotes an architect
on the Intel 4004 and 8080 architectures. It’s stayed the same ever since.</p>
</blockquote>

<p>In this diagram, we have <code>rsp</code> pointing at a return address somewhere inside
the function <code>Testing_execute_expr</code>, since that’s what called our Lisp
entrypoint. We have some data “above” (higher addresses) <code>rsp</code> that we’re not
allowed to poke at, and we have this empty space “below” (lower addresses)
<code>rsp</code> that is in our current <em>stack frame</em>. I say “empty” because we haven’t
yet stored anything there, not because it’s necessarily zero-ed out.  I don’t
think there are any guarantees about the values in this stack frame.</p>

<p>We can use our stack frame to write and read values for our current Lisp
program. With every recursive subexpression, we can allocate a little more
stack space to keep track of the values. When I say “allocate”, I mean
“subtract from the stack pointer”, because the stack is already a contiguous
space in memory allocated for us. For example, here is how we can write to the
stack:</p>



<p>This puts the integer <code>4</code> at displacement <code>-8</code> from <code>rsp</code>. On the stack diagram
above, it would be at the slot labeled “Our frame”. It’s also possible to read
with a positive or zero displacement, but those point to previous stack frames
and the return address, respectively. So let’s avoid manipulating those.</p>

<blockquote>
  <p>Note that I used a multiple of 8. Not every store has to be a to an address
that is a multiple of 8, but it is natural and I think also <em>faster</em> to store
8-byte-sized things at aligned addresses.</p>
</blockquote>

<p>Let’s walk through a real example to get more hands-on experience with this
stack storage idea. We’ll use the program <code>(+ 1 2)</code>. The compiled version of
that program should:</p>

<ul>
  <li>Move <code>compile(2)</code> to <code>rax</code></li>
  <li>Move <code>rax</code> into <code>[rsp-8]</code></li>
  <li>Move <code>compile(1)</code> to <code>rax</code></li>
  <li>Add <code>[rsp-8]</code> to <code>rax</code></li>
</ul>

<p>So after compiling that, the stack will look like this:</p>

<div><div><pre><code>|                  | High addresses
+------------------+
|  Testing_exe...  | RSP
+------------------+
|  0x8             | RSP-8 (result of compile(2))
|                  | Low addresses
</code></pre></div></div>

<p>And the result will be in <code>rax</code>, per our internal compiler contract.</p>

<p>This is all well and good, but at some point we’ll need our compiled programs
to emit the <code>push</code> instruction or make function calls of their own. Both of
these modify the stack pointer. <code>push</code> writes to the stack and decrements
<code>rsp</code>. <code>call</code> is roughly equivalent to <code>push</code> followed by <code>jmp</code>.</p>

<p>For that reason, x86-64 comes with another register called <code>rbp</code> and it’s
designed to hold the Base Pointer. While the stack pointer is supposed to track
the “top” (low address) of the stack, the base pointer is meant to keep a
pointer around to the “bottom” (high address) of our current stack frame.</p>

<p>This is why in a lot of compiled code you see the following instructions
repeated<sup id="fnref:1" role="doc-noteref"><a href="#fn:1">1</a></sup>:</p>

<div><div><pre><code><span>myfunction:</span>
<span>push</span> <span>rbp</span>
<span>mov</span> <span>rbp</span><span>,</span> <span>rsp</span>
<span>sub</span> <span>rsp</span><span>,</span> <span>N</span>  <span>; optional; allocate stack space for locals</span>
<span>; ... function body ...</span>
<span>mov</span> <span>rsp</span><span>,</span> <span>rbp</span>  <span>; required if you subtracted from rsp above</span>
<span>pop</span> <span>rbp</span>
<span>ret</span>
</code></pre></div></div>

<p>The first three instructions, called the <em>prologue</em>, save <code>rbp</code> to the stack,
and then set <code>rbp</code> to the current stack pointer. Then it’s possible to maintain
steady references to variable locations on the stack even as <code>rsp</code> changes.
Yes, the compiler could adjust its internal table of references every time the
compiler emits code that modifies <code>rsp</code>, but that sounds much harder.</p>

<p>The last three instructions, called the <em>epilogue</em>, fetch the old <code>rbp</code> that we
saved to the stack, write it back into <code>rbp</code>, then exit the call.</p>

<p>To confirm this for yourself, check out this <a href="https://godbolt.org/z/qPM8Mh">sample compiled C
code</a>. Look at the disassembly following the
label <code>square</code>. Prologue, code, epilogue.</p>

<h3 id="stack-allocation-infrastructure">Stack allocation infrastructure</h3>

<p>Until now, we haven’t needed to keep track of much as we recursively traverse
expression trees. Now, in order to keep track of how much space on the stack
any given compiled code will need, we have to add more state to our compiler.
We’ll call this state the <code>stack_index</code> — Ghuloum calls it <code>si</code> — and we’ll
pass it around as a parameter. Whatever it’s called, it points to the first
writable (unused) index in the stack at any given point.</p>

<p>In compiled functions, the first writable index is <code>-kWordSize</code> (<code>-8</code>), since
the base pointers is already at <code>0</code>.</p>

<div><div><pre><code><span>int</span> <span>Compile_function</span><span>(</span><span>Buffer</span> <span>*</span><span>buf</span><span>,</span> <span>ASTNode</span> <span>*</span><span>node</span><span>)</span> <span>{</span>
  <span>Buffer_write_arr</span><span>(</span><span>buf</span><span>,</span> <span>kFunctionPrologue</span><span>,</span> <span>sizeof</span> <span>kFunctionPrologue</span><span>);</span>
  <span>_</span><span>(</span><span>Compile_expr</span><span>(</span><span>buf</span><span>,</span> <span>node</span><span>,</span> <span>-</span><span>kWordSize</span><span>));</span>
  <span>Buffer_write_arr</span><span>(</span><span>buf</span><span>,</span> <span>kFunctionEpilogue</span><span>,</span> <span>sizeof</span> <span>kFunctionEpilogue</span><span>);</span>
  <span>return</span> <span>0</span><span>;</span>
<span>}</span>
</code></pre></div></div>

<p>I’ve also gone ahead and added the prologue and epilogue. They’re stored in
static arrays. This makes them easier to modify, and also makes them accessible
to testing helpers. The testing helpers can use these arrays to make testing
easier for us — we can check if our expected code is book-ended by this code.</p>

<div><div><pre><code><span>static</span> <span>const</span> <span>byte</span> <span>kFunctionPrologue</span><span>[]</span> <span>=</span> <span>{</span>
    <span>// push rbp</span>
    <span>0x55</span><span>,</span>
    <span>// mov rbp, rsp</span>
    <span>kRexPrefix</span><span>,</span> <span>0x89</span><span>,</span> <span>0xe5</span><span>,</span>
<span>};</span>

<span>static</span> <span>const</span> <span>byte</span> <span>kFunctionEpilogue</span><span>[]</span> <span>=</span> <span>{</span>
    <span>// pop rbp</span>
    <span>0x5d</span><span>,</span>
    <span>// ret</span>
    <span>0xc3</span><span>,</span>
<span>};</span>
</code></pre></div></div>

<p>For <code>Compile_expr</code>, we just pass this new stack index through.</p>

<div><div><pre><code><span>int</span> <span>Compile_expr</span><span>(</span><span>Buffer</span> <span>*</span><span>buf</span><span>,</span> <span>ASTNode</span> <span>*</span><span>node</span><span>,</span> <span>word</span> <span>stack_index</span><span>)</span> <span>{</span>
  <span>// ...</span>
  <span>if</span> <span>(</span><span>AST_is_pair</span><span>(</span><span>node</span><span>))</span> <span>{</span>
    <span>return</span> <span>Compile_call</span><span>(</span><span>buf</span><span>,</span> <span>AST_pair_car</span><span>(</span><span>node</span><span>),</span> <span>AST_pair_cdr</span><span>(</span><span>node</span><span>),</span>
                        <span>stack_index</span><span>);</span>
  <span>}</span>
  <span>// ...</span>
<span>}</span>
</code></pre></div></div>

<p>And for <code>Compile_call</code>, we actually get to use it. Let’s look back at our stack
storage strategy for compiling <code>(+ 1 2)</code> (now replacing <code>rsp</code> with <code>rbp</code>):</p>

<ul>
  <li>Move <code>compile(2)</code> to <code>rax</code></li>
  <li>Move <code>rax</code> into <code>[rbp-8]</code></li>
  <li>Move <code>compile(1)</code> to <code>rax</code></li>
  <li>Add <code>[rbp-8]</code> to <code>rax</code></li>
</ul>

<p>For binary functions, this can be generalized to:</p>

<ul>
  <li>Compile <code>arg2</code> (stored in <code>rax</code>)</li>
  <li>Move <code>rax</code> to <code>stack_index</code></li>
  <li>Compile <code>arg1</code> (stored in <code>rax</code>)</li>
  <li>Do something with the results (in <code>[rbp-stack_index]</code> and <code>rax</code>)</li>
</ul>

<p>The key is this: for the first recursive call to <code>Compile_expr</code>, the compiler
is allowed to emit code that can use the current <code>stack_index</code> and anything
below that on the stack. For the <em>second</em> recursive call to <code>Compile_expr</code>, the
compiler has to bump <code>stack_index</code>, since we’ve stored the result of the first
compiled call at <code>stack_index</code>.</p>

<p>Take a look at our implementation of binary add:</p>

<div><div><pre><code><span>int</span> <span>Compile_call</span><span>(</span><span>Buffer</span> <span>*</span><span>buf</span><span>,</span> <span>ASTNode</span> <span>*</span><span>callable</span><span>,</span> <span>ASTNode</span> <span>*</span><span>args</span><span>,</span>
                 <span>word</span> <span>stack_index</span><span>)</span> <span>{</span>
  <span>if</span> <span>(</span><span>AST_is_symbol</span><span>(</span><span>callable</span><span>))</span> <span>{</span>
    <span>// ...</span>
    <span>if</span> <span>(</span><span>AST_symbol_matches</span><span>(</span><span>callable</span><span>,</span> <span>"+"</span><span>))</span> <span>{</span>
      <span>_</span><span>(</span><span>Compile_expr</span><span>(</span><span>buf</span><span>,</span> <span>operand2</span><span>(</span><span>args</span><span>),</span> <span>stack_index</span><span>));</span>
      <span>Emit_store_reg_indirect</span><span>(</span><span>buf</span><span>,</span> <span>/*dst=*/</span><span>Ind</span><span>(</span>…</code></pre></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://bernsteinbear.com/blog/compiling-a-lisp-5/">https://bernsteinbear.com/blog/compiling-a-lisp-5/</a></em></p>]]>
            </description>
            <link>https://bernsteinbear.com/blog/compiling-a-lisp-5/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24490108</guid>
            <pubDate>Wed, 16 Sep 2020 06:34:05 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Bazel For Open-Source C/C++ Libraries Distribution]]>
            </title>
            <description>
<![CDATA[
Score 64 | Comments 58 (<a href="https://news.ycombinator.com/item?id=24490089">thread link</a>) | @todsacerdoti
<br/>
September 15, 2020 | https://liuliu.me/eyes/bazel-for-libraries-distribution-an-open-source-library-author-perspective/ | <a href="https://web.archive.org/web/*/https://liuliu.me/eyes/bazel-for-libraries-distribution-an-open-source-library-author-perspective/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>In the past a few days, I’ve been experimenting with Bazel as a library distribution mechanism for <a href="https://github.com/liuliu/ccv">ccv</a>.</p>

<p>I am pretty familiar with hermetic build systems at this point. My main knowledge comes from Buck dating 8 years back. At that time, it never occurred to me such a build system could eventually be a library distribution mechanism. During the same 8 years, NPM has taken over the world. New language-dependent package managers such as Go module, Cargo and Swift Package Manager popularized the concept of using the public repositories (GitHub) as the dependency references. Languages prior to this period, mainly C / C++ are moving to this direction, slowly.</p>

<p><a href="https://github.com/liuliu/ccv">ccv</a> has a simple autoconf based feature detection / configuration system. You would expect the package to work when <code>./configure &amp;&amp; make</code>. However, it never made any serious attempt to be too smart. My initial experience with monorepos at companies strongly influenced the decision to have a simple build system. I fully expect that serious consumers will vendor the library into their monorepo using their own build systems.</p>

<p>This has been true for the past a few years. But as I am finishing up <a href="https://libnnc.org/">nnc</a> and increasingly using that for other closed-source personal projects, maintaining a closed-source <em>monorepo</em> setup for my personal projects while upstreaming fixes is quite an unpleasant experience. On the other hand, <a href="https://libnnc.org/">nnc</a> from the beginning meant to be a low-level implementation. I am expected to have high-level language bindings at some point. Given that I am doing more application-related development with <a href="https://libnnc.org/">nnc</a> in closed-source format now, it feels like the right time.</p>

<p>Although there is no one-true library distribution mechanism for C / C++, there are contenders. From the good-old apt / rpm, to Conan, which has gained some mind-share in the open-source world in recent years.</p>

<p>The choice of Bazel is not accidental. I’ve been doing <a href="https://liuliu.me/eyes/migrating-ios-project-to-bazel-a-real-world-experience/">some Swift development with Bazel</a> and the experience has been positive. Moreover, the choice of high-level binding language for <a href="https://libnnc.org/">nnc</a>, I figured, would be Swift.</p>

<h2 id="configure">Configure</h2>

<p><a href="https://github.com/liuliu/ccv">ccv</a>’s build process, as much as I would rather not, is host-dependent. I use autoconf to detect system-wide libraries such as libjpeg and libpng, to configure proper compiler options. Although <a href="https://github.com/liuliu/ccv">ccv</a> can be used with zero dependency, in that configuration, it can sometimes be slow.</p>

<p>Coming from the monorepo background, Bazel doesn’t have many utilities that are as readily available as in autoconf. You can write automatic configurations in Starlark as <a href="https://docs.bazel.build/versions/master/skylark/repository_rules.html">repository rules</a>, but there is no good documentation on how to write robust ones.</p>

<p>I ended up <a href="https://github.com/liuliu/ccv/blob/unstable/WORKSPACE#L25">letting whoever use ccv to decide how they are going to enable certain features</a>. For things like CUDA, such configuration is not tenable. I ended up copying over <a href="https://github.com/liuliu/rules_cuda">TensorFlow’s CUDA rules</a>.</p>

<h2 id="dependencies">Dependencies</h2>

<p>Good old C / C++ libraries are notoriously indifferent to libraries dependencies v.s. toolchains. Autoconf detects both toolchain configurations as well as available libraries. These types of host dependencies make cross-compilation a skill in itself.</p>

<p>Bazel is excellent for in-tree dependencies. For out-tree dependencies however, there is no established mechanism. The popular way is to write a <a href="https://github.com/protocolbuffers/protobuf/blob/master/protobuf_deps.bzl#L5">repository rules to load relevant dependencies</a>.</p>

<p>This actually works well for me. It is versatile enough to handle cases that <a href="https://github.com/liuliu/ccv/blob/unstable/config/ccv.bzl#L103">have Bazel integrations</a> and <a href="https://github.com/liuliu/dflat/blob/unstable/deps.bzl#L17">have no Bazel integrations</a>.</p>

<h2 id="consume-bazel-dependencies">Consume Bazel Dependencies</h2>

<p>Consumption of the packaged Bazel dependencies then becomes as simple as adding <code>git_repository</code> to the <code>WORKSPACE</code> and call proper <code>&lt;your_library_name&gt;_deps()</code> repository rule.</p>

<p>After packaging <a href="https://libccv.org/">ccv</a> with Bazel, now <a href="https://github.com/liuliu/s4nnc/blob/main/WORKSPACE#L3">Swift for nnc can consume the packaged dependency</a>.</p>

<h2 id="semantic-versioning-challenges">Semantic Versioning Challenges</h2>

<p>While the Bazel-provided library distribution mechanism works well for my case, it is simplistic. For one, there is really no good way to do <a href="https://semver.org/">semantic versioning</a>. It is understandable. Coming from a monorepo culture, it is challenging for anyone to dive into dependency hells of library versioning. A <a href="https://donatstudios.com/Go-v2-Modules">slightly different story happened to Go</a> a while back as well.</p>

<p>It is messy if you want to pin a specific version of the library while your dependencies are not agreeing with you. This is going to be messy regardless in C / C++ world, unless you prelink these extremely carefully. Bazel’s philosophy from what I can see, seems largely on <em>keeping the trunk working</em> side. It is working so far, but one has to wonder whether this can scale if more libraries adopted Bazel as the distribution mechanism.</p>

<h2 id="closing-words">Closing Words</h2>

<p>The past a few months experience with Bazel has been delightful. While I would continue to use language specific tools (pip, Go modules, Cargo, NPM) when doing development in that particular language, Bazel is a capable choice for me when doing cross-language development. Concepts such as <code>workspace</code>, <code>git_repository</code>, <code>http_archive</code> fit well within the larger open-source ecosystem. And most surprisingly, it works for many-repo setup if you ever need to.</p>
</div></div>]]>
            </description>
            <link>https://liuliu.me/eyes/bazel-for-libraries-distribution-an-open-source-library-author-perspective/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24490089</guid>
            <pubDate>Wed, 16 Sep 2020 06:28:40 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[DPC++ for Intel Processor Graphics Architecture]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 1 (<a href="https://news.ycombinator.com/item?id=24489964">thread link</a>) | @dsign
<br/>
September 15, 2020 | https://techdecoded.intel.io/resources/dpc-for-intel-processor-graphics-architecture/ | <a href="https://web.archive.org/web/*/https://techdecoded.intel.io/resources/dpc-for-intel-processor-graphics-architecture/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
			<div>

				<div>
					
					
											<h2>How to Offload Compute-Intensive Code to Intel® GPUs</h2>
					
											
					
					


<!-- Ratings Modal -->


					
											<p>Intel® Processor Graphics Architecture is an Intel® technology that provides graphics, compute, media, and display capabilities for many of Intel’s system-on-a-chip (SoC) products. The Intel Processor Graphics Architecture is informally known as “Gen,” shorthand for generation. Each release of the architecture has a corresponding version indicated after the word “Gen.” For example, the latest release of Intel Graphics Architecture is Gen11. Over the years, they have evolved to offer excellent graphics (3D rendering and media performance) and general-purpose compute capabilities with up to 1 TFLOPS (trillion floating-point operations per second) of performance.</p>
<p>In this article, we’ll explore the general-purpose compute capabilities of the Intel Processor Graphics <strong><a href="https://software.intel.com/sites/default/files/managed/c5/9a/The-Compute-Architecture-of-Intel-Processor-Graphics-Gen9-v1d0.pdf">Gen9</a></strong> and <a href="https://software.intel.com/sites/default/files/managed/db/88/The-Architecture-of-Intel-Processor-Graphics-Gen11_R1new.pdf"><strong>Gen11</strong></a> architectures and how to program them using <a href="https://software.intel.com/content/www/us/en/develop/tools/oneapi/data-parallel-c-plus-plus.html"><strong>Data Parallel C++ (DPC++)</strong></a> in the <a href="https://software.intel.com/content/www/us/en/develop/tools/oneapi/base-toolkit.html"><strong>Intel® oneAPI Base Toolkit</strong></a>. Specifically, we’ll look at a case study that shows programming and performance aspects of the two Gen architectures using DPC++.</p>
<h2><strong>Intel Processor Graphics: Architecture Overview by Gen</strong></h2>
<p>Intel Processor Graphics is a power-efficient, high-performance graphics and media accelerator integrated on-die with the Intel® CPU. The integrated GPU shares the last-level cache (LLC) with the CPU, which permits fine-grained, coherent data sharing at low latency and high bandwidth. <strong>Figure 1</strong> shows the SoC with Gen11 graphics. The on-die integration enables much lower power consumption than a discrete graphics card.</p>
<p><img src="https://simplecore-ger.intel.com/techdecoded/wp-content/uploads/sites/11/dpc_figure1.jpg" alt="" width="1019" height="735" srcset="https://simplecore-ger.intel.com/techdecoded/wp-content/uploads/sites/11/dpc_figure1.jpg 1019w, https://simplecore-ger.intel.com/techdecoded/wp-content/uploads/sites/11/dpc_figure1-300x216.jpg 300w, https://simplecore-ger.intel.com/techdecoded/wp-content/uploads/sites/11/dpc_figure1-768x554.jpg 768w" sizes="(max-width: 1019px) 100vw, 1019px"></p>
<p><strong>Figure 1:&nbsp; Intel Processor Graphics Gen11 SoC (part of the larger CPU SoC)</strong></p>
<p><strong>Figure 2</strong> shows the architecture block diagram of a Gen9 GPU. The GPU contains many execution units (EUs), each capable of doing single instruction, multiple data (SIMD) computations. A collection of eight EUs would be a subslice. Each subslice has:</p>
<ul>
<li>An instruction cache</li>
<li>L1/L2 sampler caches</li>
<li>Memory load/store unit ports</li>
</ul>
<p>These subslices are aggregated to form a slice, which consists of a shared L3 cache (coherent with the CPU) and a banked shared local memory (SLM). An Intel integrated GPU might have one or more such slices. In such a configuration, the L3 is connected to multiple slices via an interconnect fabric.</p>
<p><img src="https://simplecore-ger.intel.com/techdecoded/wp-content/uploads/sites/11/dpc_figure2.jpg" alt="" width="748" height="459" srcset="https://simplecore-ger.intel.com/techdecoded/wp-content/uploads/sites/11/dpc_figure2.jpg 748w, https://simplecore-ger.intel.com/techdecoded/wp-content/uploads/sites/11/dpc_figure2-300x184.jpg 300w" sizes="(max-width: 748px) 100vw, 748px"></p>
<p><strong>Figure 2:&nbsp; Intel® Gen9 GPU Architecture</strong></p>
<p><strong>Figure 3</strong> shows some details of the EU in the Gen9 architecture. The EU supports multithreading with up to seven threads per EU, with each thread having 128 SIMD-8 32-bit registers. An EU can issue <a href="https://software.intel.com/sites/default/files/managed/c5/9a/The-Compute-Architecture-of-Intel-Processor-Graphics-Gen9-v1d0.pdf"><strong>up to four instructions per cycle</strong></a>. (Learn more about architecture details and benchmarking of Intel GPUs <a href="http://comparch.gatech.edu/hparch/papers/gera_ispass18.pdf"><strong>here</strong></a>.) For example, the peak theoretical GFLOPS for the hardware can be calculated as <span>(EUs)*(SIMD units/EU)*(FLOPS per cycle/SIMD unit)*(Freq GHz)</span>.</p>
<p><img src="https://simplecore-ger.intel.com/techdecoded/wp-content/uploads/sites/11/dpc_figure3.jpg" alt="" width="711" height="410" srcset="https://simplecore-ger.intel.com/techdecoded/wp-content/uploads/sites/11/dpc_figure3.jpg 711w, https://simplecore-ger.intel.com/techdecoded/wp-content/uploads/sites/11/dpc_figure3-300x173.jpg 300w" sizes="(max-width: 711px) 100vw, 711px"></p>
<p><strong>Figure 3:&nbsp; Subslice and EU architecture details</strong></p>
<p>When you’re programming a device such as a GPU, getting the best performance requires language constructs that map well to the hardware features available. Several APIs are available, but let’s take a deep dive into oneAPI.</p>
<h2><strong>oneAPI and DPC++ </strong></h2>
<p>oneAPI is an open, free, and standards-based programming model that provides portability and performance across accelerators and generations of hardware. oneAPI includes DPC++, the core programming language for code reuse across various hardware targets. You can find more details in my previous article, <a href="https://software.intel.com/sites/default/files/parallel-universe-issue-39_1.pdf"><strong>Heterogeneous Programming Using oneAPI</strong></a> (<em>The Parallel Universe</em>, issue 39). DPC++ includes:</p>
<ul>
<li><strong>A Unified Shared Memory feature</strong> for easy host-device memory management</li>
<li><strong>OpenCL-style NDRange subgroups</strong> to aid vectorization</li>
<li><strong>Support</strong> for generic/function pointers</li>
<li><strong>And many</strong> other features</li>
</ul>
<p>This article presents a case study that converts a CUDA code to DPC++.</p>
<h2><strong>Case Study: Compute Kernel Execution on Intel Processor Graphics</strong></h2>
<p>Let’s look at the <strong><a href="https://github.com/ATNF/askap-benchmarks/tree/master/current/tHogbomCleanOMP">Hogbom Clean imaging algorithm</a></strong>, widely used in processing radio astronomy images. This imaging algorithm has two hotspots:</p>
<ul>
<li><span>Find Peak</span></li>
<li><span>SubtractPSF</span></li>
</ul>
<p>For brevity, we’ll focus on the performance aspects of <span>Find Peak</span>. The original implementation was in C++, OpenMP, CUDA, and OpenCL. The host CPU offloads the CUDA and OpenCL kernels onto the GPU when available. (CUDA is a proprietary approach to offload computations to only NVidia GPUs.) <strong>Figures 4</strong> and <strong>5</strong> show snippets of the host and device code, respectively.</p>
<p><img src="https://simplecore-ger.intel.com/techdecoded/wp-content/uploads/sites/11/dpc_figure4.jpg" alt="" width="1238" height="461" srcset="https://simplecore-ger.intel.com/techdecoded/wp-content/uploads/sites/11/dpc_figure4.jpg 1238w, https://simplecore-ger.intel.com/techdecoded/wp-content/uploads/sites/11/dpc_figure4-300x112.jpg 300w, https://simplecore-ger.intel.com/techdecoded/wp-content/uploads/sites/11/dpc_figure4-1024x381.jpg 1024w, https://simplecore-ger.intel.com/techdecoded/wp-content/uploads/sites/11/dpc_figure4-768x286.jpg 768w" sizes="(max-width: 1238px) 100vw, 1238px"></p>
<p><strong>Figure 4:&nbsp; Find Peak host code: C++, CUDA</strong></p>
<p><img src="https://simplecore-ger.intel.com/techdecoded/wp-content/uploads/sites/11/dpc_figure5.jpg" alt="" width="1234" height="673" srcset="https://simplecore-ger.intel.com/techdecoded/wp-content/uploads/sites/11/dpc_figure5.jpg 1234w, https://simplecore-ger.intel.com/techdecoded/wp-content/uploads/sites/11/dpc_figure5-300x164.jpg 300w, https://simplecore-ger.intel.com/techdecoded/wp-content/uploads/sites/11/dpc_figure5-1024x558.jpg 1024w, https://simplecore-ger.intel.com/techdecoded/wp-content/uploads/sites/11/dpc_figure5-768x419.jpg 768w" sizes="(max-width: 1234px) 100vw, 1234px"></p>
<p><strong>Figure 5:&nbsp; Find Peak device code: CUDA</strong></p>
<p>We can manually replace the CUDA code with DPC++, or we can use the <a href="https://software.intel.com/content/www/us/en/develop/documentation/get-started-with-intel-dpcpp-compatibility-tool/top.html"><strong>DPC++ Compatibility Tool (DPCT)</strong></a>. DPCT assists in migrating CUDA programs to DPC++ (<strong>Figures 6</strong> and <strong>7</strong>). It just requires the Intel oneAPI Base Toolkit and the NVIDIA CUDA header. Invoking the DPCT tool to migrate an <span>example.cu</span> file is as simple as:</p>
<p><img src="https://simplecore-ger.intel.com/techdecoded/wp-content/uploads/sites/11/dpc_code1.jpg" alt="" width="1241" height="110" srcset="https://simplecore-ger.intel.com/techdecoded/wp-content/uploads/sites/11/dpc_code1.jpg 1241w, https://simplecore-ger.intel.com/techdecoded/wp-content/uploads/sites/11/dpc_code1-300x27.jpg 300w, https://simplecore-ger.intel.com/techdecoded/wp-content/uploads/sites/11/dpc_code1-1024x91.jpg 1024w, https://simplecore-ger.intel.com/techdecoded/wp-content/uploads/sites/11/dpc_code1-768x68.jpg 768w" sizes="(max-width: 1241px) 100vw, 1241px"></p>
<p>For migrating applications with many CUDA files, we can use the DPCT options <span>–in-root</span> to set the location of program sources and <span>–out-root</span> for writing the DPCT migrated code. If the application uses <span>make</span> or <span>cmake</span>, it’s recommended that migration be done using <span>intercept-build</span>. This creates a compilation database file (<span>.json file</span>) with the compiler invocations (the input file names for both the host C++ code and the device CUDA code and the associated compiler options).</p>
<p><img src="https://simplecore-ger.intel.com/techdecoded/wp-content/uploads/sites/11/dpc_code2.jpg" alt="" width="1240" height="150" srcset="https://simplecore-ger.intel.com/techdecoded/wp-content/uploads/sites/11/dpc_code2.jpg 1240w, https://simplecore-ger.intel.com/techdecoded/wp-content/uploads/sites/11/dpc_code2-300x36.jpg 300w, https://simplecore-ger.intel.com/techdecoded/wp-content/uploads/sites/11/dpc_code2-1024x124.jpg 1024w, https://simplecore-ger.intel.com/techdecoded/wp-content/uploads/sites/11/dpc_code2-768x93.jpg 768w" sizes="(max-width: 1240px) 100vw, 1240px"></p>
<p>Specifically, for migrating Hogbom Clean CUDA code to DPC++, we can either invoke the DPCT tool on the <span>HogbomCuda.cu</span> file which has the CUDA kernels or use intercept-build. By default, the migrated code gets the file name extension <span>dp.cpp</span>.</p>
<p>Let’s review the migrated DPC++ code (<strong>Figures 6-9</strong>) and compare with the original CUDA code<br>
(<strong>Figures 4</strong> and <strong>5</strong>).</p>
<p><img src="https://simplecore-ger.intel.com/techdecoded/wp-content/uploads/sites/11/dpc_code3.jpg" alt="" width="1298" height="211" srcset="https://simplecore-ger.intel.com/techdecoded/wp-content/uploads/sites/11/dpc_code3.jpg 1298w, https://simplecore-ger.intel.com/techdecoded/wp-content/uploads/sites/11/dpc_code3-300x49.jpg 300w, https://simplecore-ger.intel.com/techdecoded/wp-content/uploads/sites/11/dpc_code3-1024x166.jpg 1024w, https://simplecore-ger.intel.com/techdecoded/wp-content/uploads/sites/11/dpc_code3-768x125.jpg 768w" sizes="(max-width: 1298px) 100vw, 1298px"></p>

<p><img src="https://simplecore-ger.intel.com/techdecoded/wp-content/uploads/sites/11/dpc_figure6.jpg" alt="" width="1266" height="686" srcset="https://simplecore-ger.intel.com/techdecoded/wp-content/uploads/sites/11/dpc_figure6.jpg 1266w, https://simplecore-ger.intel.com/techdecoded/wp-content/uploads/sites/11/dpc_figure6-300x163.jpg 300w, https://simplecore-ger.intel.com/techdecoded/wp-content/uploads/sites/11/dpc_figure6-1024x555.jpg 1024w, https://simplecore-ger.intel.com/techdecoded/wp-content/uploads/sites/11/dpc_figure6-768x416.jpg 768w" sizes="(max-width: 1266px) 100vw, 1266px"></p>
<p><strong>Figure 6:&nbsp; Find Peak DPC++ host code migrated using DPCT</strong></p>
<p><img src="https://simplecore-ger.intel.com/techdecoded/wp-content/uploads/sites/11/dpc_figure7.jpg" alt="" width="1266" height="500" srcset="https://simplecore-ger.intel.com/techdecoded/wp-content/uploads/sites/11/dpc_figure7.jpg 1266w, https://simplecore-ger.intel.com/techdecoded/wp-content/uploads/sites/11/dpc_figure7-300x118.jpg 300w, https://simplecore-ger.intel.com/techdecoded/wp-content/uploads/sites/11/dpc_figure7-1024x404.jpg 1024w, https://simplecore-ger.intel.com/techdecoded/wp-content/uploads/sites/11/dpc_figure7-768x303.jpg 768w" sizes="(max-width: 1266px) 100vw, 1266px"></p>
<p><strong>Figure 7:&nbsp; Comparison of CUDA host code versus migrated DPC++ host code</strong></p>
<p><img src="https://simplecore-ger.intel.com/techdecoded/wp-content/uploads/sites/11/dpc_figure8.jpg" alt="" width="943" height="645" srcset="https://simplecore-ger.intel.com/techdecoded/wp-content/uploads/sites/11/dpc_figure8.jpg 943w, https://simplecore-ger.intel.com/techdecoded/wp-content/uploads/sites/11/dpc_figure8-300x205.jpg 300w, https://simplecore-ger.intel.com/techdecoded/wp-content/uploads/sites/11/dpc_figure8-768x525.jpg 768w" sizes="(max-width: 943px) 100vw, 943px"></p>
<p><strong>Figure 8: Find Peak DPC++ device DPCT migrated code</strong></p>
<p><img src="https://simplecore-ger.intel.com/techdecoded/wp-content/uploads/sites/11/dpc_figure9-1.jpg" alt="" width="1266" height="450" srcset="https://simplecore-ger.intel.com/techdecoded/wp-content/uploads/sites/11/dpc_figure9-1.jpg 1266w, https://simplecore-ger.intel.com/techdecoded/wp-content/uploads/sites/11/dpc_figure9-1-300x107.jpg 300w, https://simplecore-ger.intel.com/techdecoded/wp-content/uploads/sites/11/dpc_figure9-1-1024x364.jpg 1024w, https://simplecore-ger.intel.com/techdecoded/wp-content/uploads/sites/11/dpc_figure9-1-768x273.jpg 768w" sizes="(max-width: 1266px) 100vw, 1266px"></p>
<p><strong>Figure 9: Comparison of Find Peak CUDA kernel versus migrated DPC++ device kernel</strong></p>
<p>Some key aspects of a DPC++ code include the invocation of device code using <a href="https://www.khronos.org/sycl/"><strong>SYCL</strong></a> queues, a lambda function handler for executing the device code, and, optionally, <span>a parallel_for</span> construct for multithreaded execution. The migrated DPC++ code here uses the unified shared memory (USM) programming model and allocates memory on the device for data being read/written by the device kernels. Since this is a device allocation, explicit data copy needs to be done from host to device and vice versa. We can also allocate the memory as shared and it can be accessed and updated by both the host and the device. Not shown here is non-USM code, in which data transfers are done using SYCL buffers and accessors.</p>
<p>The DPCT-migrated code determines the current device and creates a queue for that device (calls to <span>get_current_device()</span> and <span>get_default_queue()</span>). To offload DPC++ code to the GPU, we need to create a queue with the parameter <span>sycl::gpu_selector</span>. The data to be processed should be made available on the device and to the kernel that executes on the GPU. The dimensions and size of the data being copied into and out of the GPU are specified by <span>sycl::range, sycl::nd_range</span>. When using DPCT, each source line in the CUDA code is migrated to equivalent DPC++ code. For the Find Peak device kernel code (<span>d_findPeak</span>), the DPC++ code generated (from CUDA code) is nearly a one-to-one equivalent migration. Hence, DPCT is a very powerful tool for quick porting and prototyping. The migrated DPC++ code comparison versus CUDA code is shown <strong>Figures 7</strong> and <strong>9</strong>.</p>
<p>Having migrated the code to DPC++ using DPCT, our next task is to check correctness and efficiency. In some cases, the DPCT tool may replace preprocessor directive variables with their values. We may need a manual fix to undo this replacement. We may also get compilation errors with the migrated code that indicates a fix (e.g., replacing CUDA <span>threadId.x</span> with an equivalent <span>nd_range accessor</span>). The Hogbom Clean application code has a correctness checker that helped us validate the results produced by the migrated DPC++ code. The correctness check was done by comparing results from the DPC++ code execution on the GPU and a baseline C++ implementation on the host CPU.</p>
<p>Now we can determine the efficiency of the migrated DPC++ code on a GPU by analyzing its utilization (EU occupancy, use of caches, SP or DP FLOPS) and data transfer between host and device. Some of the parameters that have an impact on GPU utilization are the workgroup sizes/range dimensions. In the Hogbom Clean application, for Find Peak, these are <span>nBlocks</span> and <span>findPeakWidth</span>.</p>
<p>To illustrate the performance impact and tuning opportunity, <strong>Figure 10</strong> shows a performance profile collected using <span>nBlocks</span> values set to <span>24</span> and <span>4</span>. The <span>findPeakWidth</span> was set to <span>256</span>. The profile was collected with <a href="https://software.intel.com/content/www/us/en/develop/tools/vtune-profiler.html"><strong>Intel® VTune™ Profiler</strong></a>, which supports GPU profiling. Tuning is more explicitly required when using DPCT because the parameters that are efficient for an NVidia GPU using CUDA may not be the most efficient for an Intel GPU executing DPC++ code. <strong>Table 1</strong> shows the stats collected on Gen9 (48 EUs).</p>
<p><img src="https://simplecore-ger.intel.com/techdecoded/wp-content/uploads/sites/11/dpc_figure10.jpg" alt="" width="1010" height="217" srcset="https://simplecore-ger.intel.com/techdecoded/wp-content/uploads/sites/11/dpc_figure10.jpg 1010w, https://simplecore-ger.intel.com/techdecoded/wp-content/uploads/sites/11/dpc_figure10-300x64.jpg 300w, https://simplecore-ger.intel.com/techdecoded/wp-content/uploads/sites/11/dpc_figure10-768x165.jpg 768w" sizes="(max-width: 1010px) 100vw, 1010px"></p>
<p><strong>Figure 10:&nbsp; Hogbom Clean profile on Gen9 for two values of <span>nBlocks = (a) 24 and (b) 4</span></strong></p>
<p><strong>Table 1. Performance metrics on Gen9 GPU for the Find Peak hotspot</strong></p>
<p><img src="https://simplecore-ger.intel.com/techdecoded/wp-content/uploads/sites/11/dpc_table1.jpg" alt="" width="1227" height="279" srcset="https://simplecore-ger.intel.com/techdecoded/wp-content/uploads/sites/11/dpc_table1.jpg 1227w, https://simplecore-ger.intel.com/techdecoded/wp-content/uploads/sites/11/dpc_table1-300x68.jpg 300w, https://simplecore-ger.intel.com/techdecoded/wp-content/uploads/sites/11/dpc_table1-1024x233.jpg 1024w, https://simplecore-ger.intel.com/techdecoded/wp-content/uploads/sites/11/dpc_table1-768x175.jpg 768w" sizes="(max-width: 1227px) 100vw, 1227px"></p>
<p>In addition to GPU utilization and efficiency optimizations, the data transfer between host and device should also be tuned. The Hogbom Clean application has multiple calls to Find Peak, and <span>SubtractPSF</span> kernels and the data used by these kernels can be resident on the device. Thus, they don’t require reallocation and/or copy from host to device, or vice versa. (We’ll discuss some of these optimizations related to data transfers and USM in future articles.)</p>
<h2><strong>Writing Better Algorithms</strong></h2>
<p>Understanding the Intel Processor Graphics Architecture and DPC++ features can help you write better algorithms and portable implementations. In this article, we reviewed some details of the architecture and explored a case study using DPC++ constructs and DPCT. It’s important to tune the kernel parameters to get best performance on Intel GPUs, especially when using DPCT. …</p></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://techdecoded.intel.io/resources/dpc-for-intel-processor-graphics-architecture/">https://techdecoded.intel.io/resources/dpc-for-intel-processor-graphics-architecture/</a></em></p>]]>
            </description>
            <link>https://techdecoded.intel.io/resources/dpc-for-intel-processor-graphics-architecture/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24489964</guid>
            <pubDate>Wed, 16 Sep 2020 05:58:56 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Concurrency Cost Hierarchy]]>
            </title>
            <description>
<![CDATA[
Score 108 | Comments 13 (<a href="https://news.ycombinator.com/item?id=24489829">thread link</a>) | @signa11
<br/>
September 15, 2020 | https://travisdowns.github.io/blog/2020/07/06/concurrency-costs.html | <a href="https://web.archive.org/web/*/https://travisdowns.github.io/blog/2020/07/06/concurrency-costs.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    
<!-- boilerplate 
page.assets: /assets/concurrency-costs
assetpath: /assets/concurrency-costs
tablepath: /misc/tables/concurrency-costs
-->

<h2 id="introduction">Introduction</h2>

<p>Concurrency is hard to get <em>correct</em>, at least for those of us unlucky enough to be writing in languages which expose directly the guts of concurrent hardware: threads and shared memory. Getting concurrency correct <em>and</em> fast is hard, too. Your knowledge about single-threaded optimization often won’t help you: at a micro (instruction) level we can’t simply apply the usual rules of μops, dependency chains, throughput limits, and so on. The rules are different.</p>

<p>If that first paragraph got your hopes up, this second one is here to dash them: I’m not actually going to do a deep dive into the very low level aspects of concurrent performance. There are a lot of things we just don’t know about how atomic instructions and fences execute, and we’ll save that for another day.</p>

<p>Instead, I’m going to describe a higher level taxonomy that I use to think about concurrent performance. We’ll group the performance of concurrent operations into six broad <em>levels</em> running from fast to slow, with each level differing from its neighbors by roughly an order of magnitude in performance.</p>

<p>I often find myself thinking in terms of these categories when I need high performance concurrency: what is the best level I can practically achieve for the given problem? Keeping the levels in mind is useful both during initial design (sometimes a small change in requirements or high level design can allow you to achieve a better level), and also while evaluating existing systems (to better understand existing performance and evaluate the path of least resistance to improvements).</p>

<h3 id="a-real-world-example">A “Real World” Example</h3>

<p>I don’t want this to be totally abstract, so we will use a real-world-if-you-squint<sup id="fnref:realworld" role="doc-noteref"><a href="#fn:realworld">1</a></sup> running example throughout: safely incrementing an integer counter across threads. By <em>safely</em> I mean without losing increments, producing out-of-thin air values, frying your RAM or making more than a minor rip in space-time.</p>

<h3 id="source-and-results">Source and Results</h3>

<p>The source for every benchmark here is <a href="https://github.com/travisdowns/concurrency-hierarchy-bench">available</a>, so you can follow along and even reproduce the results or run the benchmarks on your own hardware. All of the results discussed here (and more) are available in the same repository, and each plot includes a <code>[data table]</code> link to the specific subset used to generate the plot.</p>

<h3 id="hardware">Hardware</h3>

<p>All of the performance results are provided for several different hardware platforms: Intel Skylake, Ice Lake, Amazon Graviton and Graviton 2. However except when I explicitly mention other hardware, the prose refers to the results on Skylake. Although the specific numbers vary, most of the qualitative relationships hold for the hardware too, but <em>not always</em>. Not only does the hardware vary, but the OS and library implementations will vary as well.</p>

<p>It’s almost inevitable that this will be used to compare across hardware (“wow, Graviton 2 sure kicks Graviton 1’s ass”), but that’s not my goal here. The benchmarks are written primarily to tease apart the characteristics of the different levels, and <em>not</em> as a hardware shootout.</p>

<p>Find below the details of the hardware used:</p>

<table>
  <thead>
    <tr>
      <th>Micro-architecture</th>
      <th>ISA</th>
      <th>Model</th>
      <th>Tested Frequency</th>
      <th>Cores</th>
      <th>OS</th>
      <th>Instance Type</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Skylake</td>
      <td>x86</td>
      <td>i7-6700HQ</td>
      <td>2.6 GHz</td>
      <td>4</td>
      <td>Ubuntu 20.04</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td>Ice Lake</td>
      <td>x86</td>
      <td>i5-1035G4</td>
      <td>3.3 GHz</td>
      <td>4</td>
      <td>Ubuntu 19.10</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td>Graviton</td>
      <td>AArch64</td>
      <td>Cortex-A72</td>
      <td>2.3 GHz</td>
      <td>16</td>
      <td>Ubuntu 20.04</td>
      <td>a1.4xlarge</td>
    </tr>
    <tr>
      <td>Graviton 2</td>
      <td>AArch64</td>
      <td>Neoverse N1</td>
      <td>2.5 GHz</td>
      <td>16<sup id="fnref:g2cores" role="doc-noteref"><a href="#fn:g2cores">2</a></sup></td>
      <td>Ubuntu 20.04</td>
      <td>c6g.4xlarge</td>
    </tr>
  </tbody>
</table>

<h2 id="level-2-contended-atomics">Level 2: Contended Atomics</h2>

<p>You’d probably expect this hierarchy to be introduced from fast to slow, or vice-versa, but we’re all about defying expectations here and we are going to start in the <em>middle</em> and work our way outwards. The middle (rounding down) turns out to be <em>level 2</em> and that’s where we will jump in.</p>

<p>The most elementary way to safely modify any shared object is to use a lock. It mostly <em>just works</em> for any type of object, no matter its structure or the nature of the modifications. Almost any mainstream CPU from the last thirty years has some type of locking<sup id="fnref:parisc" role="doc-noteref"><a href="#fn:parisc">3</a></sup> instruction accessible to userspace.</p>

<p>So our baseline increment implementation will use a simple mutex of type <code>T</code> to protect a plain integer variable:</p>

<div><div><pre><code><span>T</span> <span>lock</span><span>;</span>
<span>uint64_t</span> <span>counter</span><span>;</span>

<span>void</span> <span>bench</span><span>(</span><span>size_t</span> <span>iters</span><span>)</span> <span>{</span>
    <span>while</span> <span>(</span><span>iters</span><span>--</span><span>)</span> <span>{</span>
        <span>std</span><span>::</span><span>lock_guard</span><span>&lt;</span><span>T</span><span>&gt;</span> <span>holder</span><span>(</span><span>lock</span><span>);</span>
        <span>counter</span><span>++</span><span>;</span>
    <span>}</span>
<span>}</span>
</code></pre></div></div>

<p>We’ll call this implementation <em><abbr title="Uses a std::mutex and std::lock_guard to protect a plain integer counter.">mutex add</abbr></em>, and on my 4 CPU Skylake-S i7-6700HQ machine, when I use the vanilla <code>std::mutex</code> I get the following results for 2 to 4 threads:</p>



<p>The reported value is the median of all trials, and the vertical black error lines at the top of each bar indicate the <em>interdecile range</em>, i.e., the values at the 10th and 90th percentile. Where the error bars don’t show up, it means there is no difference between the p10 and p90 values at all, at least within the limits of the reporting resolution (100 picoseconds).</p>

<p>This shows that the baseline contended cost to modify an integer protected by a lock starts at about 125 nanoseconds for two threads, and grows somewhat with increasing thread count.</p>

<p>I can already hear someone saying: <em>If you are just modifying a single 64-bit integer, skip the lock and just directly use the atomic operations that most ISAs support!</em></p>

<p>Sure, let’s add a couple of variants that do that. The <code>std::atomic&lt;T&gt;</code> template makes this easy: we can wrap any type meeting some basic requirements and then manipulate it atomically. The easiest of all is to use <code>std::atomic&lt;uint64&gt;::operator++()</code><sup id="fnref:post" role="doc-noteref"><a href="#fn:post">4</a></sup> and this gives us <em><abbr title="Uses an atomic increment on a single shared counter.">atomic add</abbr></em>:</p>

<div><div><pre><code><span>std</span><span>::</span><span>atomic</span><span>&lt;</span><span>uint64_t</span><span>&gt;</span> <span>atomic_counter</span><span>{};</span>

<span>void</span> <span>atomic_add</span><span>(</span><span>size_t</span> <span>iters</span><span>)</span> <span>{</span>
    <span>while</span> <span>(</span><span>iters</span><span>--</span><span>)</span> <span>{</span>
        <span>atomic_counter</span><span>++</span><span>;</span>
    <span>}</span>
<span>}</span>
</code></pre></div></div>

<p>The other common approach would be to use <a href="https://en.wikipedia.org/wiki/Compare-and-swap">compare and swap (<abbr title="Compare-and-swap: an atomic operation implemented on x86 and other CPUs.">CAS</abbr>)</a> to load the existing value, add one and then <abbr title="Compare-and-swap: an atomic operation implemented on x86 and other CPUs.">CAS</abbr> it back if it hasn’t changed. If it <em>has</em> changed, the increment raced with another thread and we try again.</p>

<p>Note that even if you use increment at the source level, the assembly might actually end up using <abbr title="Compare-and-swap: an atomic operation implemented on x86 and other CPUs.">CAS</abbr> if your hardware doesn’t support atomic increment<sup id="fnref:atomicsup" role="doc-noteref"><a href="#fn:atomicsup">5</a></sup>, or if your compiler or runtime just don’t take advantage of atomic operations even though they are available (e.g., see what even the newest version of <a href="https://godbolt.org/z/5h4K7y">icc does</a> for atomic increment, and what Java did for years<sup id="fnref:java" role="doc-noteref"><a href="#fn:java">6</a></sup>). This caveat doesn’t apply to any of our tested platforms, however.</p>

<p>Let’s add a counter implementation that uses <abbr title="Compare-and-swap: an atomic operation implemented on x86 and other CPUs.">CAS</abbr> as described above, and we’ll call it <em><abbr title="Uses a CAS loop to increment a single shared counter.">cas add</abbr></em>:</p>

<div><div><pre><code><span>std</span><span>::</span><span>atomic</span><span>&lt;</span><span>uint64_t</span><span>&gt;</span> <span>cas_counter</span><span>;</span>

<span>void</span> <span>cas_add</span><span>(</span><span>size_t</span> <span>iters</span><span>)</span> <span>{</span>
    <span>while</span> <span>(</span><span>iters</span><span>--</span><span>)</span> <span>{</span>
        <span>uint64_t</span> <span>v</span> <span>=</span> <span>cas_counter</span><span>.</span><span>load</span><span>();</span>
        <span>while</span> <span>(</span><span>!</span><span>cas_counter</span><span>.</span><span>compare_exchange_weak</span><span>(</span><span>v</span><span>,</span> <span>v</span> <span>+</span> <span>1</span><span>))</span>
            <span>;</span>
    <span>}</span>
<span>}</span>
</code></pre></div></div>

<p>Here’s what these look like alongside our existing <code>std::mutex</code> benchmark:</p>



<p>The first takeaway is that, at least in this <em>unrealistic maximum contention</em> benchmark, using <abbr title="Uses an atomic increment on a single shared counter.">atomic add</abbr> (<a href="https://www.felixcloutier.com/x86/xadd"><code>lock xadd</code></a> at the hardware level) is significantly better than <abbr title="Compare-and-swap: an atomic operation implemented on x86 and other CPUs.">CAS</abbr>. The second would be that <code>std::mutex</code> doesn’t come out looking all that bad on Skylake. It is only slightly worse than the <abbr title="Compare-and-swap: an atomic operation implemented on x86 and other CPUs.">CAS</abbr> approach at 2 cores and beats it at 3 and 4 cores. It is slower than the atomic increment approach, but less than three times as slow and seems to be scaling in a reasonable way.</p>

<p>All of these operations are belong to <em>level 2</em> in the hierarchy. The primary characteristic of level 2 is that they make a <em>contended access</em> to a shared variable. This means that at a minimum, the line containing the data needs to move out to the caching agent that manages coherency<sup id="fnref:l3" role="doc-noteref"><a href="#fn:l3">7</a></sup>, and then back up to the core that will receive ownership next. That’s about 70 cycles minimum just for that operation<sup id="fnref:inter" role="doc-noteref"><a href="#fn:inter">8</a></sup>.</p>

<p>Can it get slower? You bet it can. <em>Way</em> slower.</p>

<h3 id="level-3-system-calls">Level 3: System Calls</h3>

<p>The next level up (“up” is not good here…) is level 3. The key characteristic of implementations at this level is that they make a <em>system call on almost every operation</em>.</p>

<p>It is easy to write concurrency primitives that make a system call <em>unconditionally</em> (e.g., a lock which always tries to wake waiters via a <code>futex(2)</code> call, even if there aren’t any), but we won’t look at those here. Rather we’ll take a look at a case where the fast path is written to avoid a system call, but the design or way it is used implies that such a call usually happens anyway.</p>

<p>Specifically, we are going to look at some <em>fair locks</em>. Fair locks allow threads into the critical section in the same order they began waiting. That is, when the critical section becomes available, the thread that has been waiting the longest is given the chance to take it.</p>

<p>Sounds like a good idea, right? Sometimes yes, but as we will see it can have significant performance implications.</p>

<p>On the menu are three different fair locks.</p>

<p>The first is a <a href="https://en.wikipedia.org/wiki/Ticket_lock">ticket lock</a> with a <code>sched_yield</code> in the spin loop. The idea of the yield is to give other threads which may hold the lock time to run. This <code>yield()</code> approach is publicly frowned upon by concurrency experts<sup id="fnref:notwhat" role="doc-noteref"><a href="#fn:notwhat">9</a></sup>, who then sometimes go right ahead and use it anyway.</p>

<p>We will call it <abbr title="A ticket lock that calls sched_yield in a spin loop while waiting for its turn.">ticket yield</abbr> and it looks like this:</p>



<div><div><pre><code><span>/**
 * A ticket lock which uses sched_yield() while waiting
 * for the ticket to be served.
 */</span>
<span>class</span> <span>ticket_yield</span> <span>{</span>
    <span>std</span><span>::</span><span>atomic</span><span>&lt;</span><span>size_t</span><span>&gt;</span> <span>dispenser</span><span>{},</span> <span>serving</span><span>{};</span>

<span>public:</span>
    <span>void</span> <span>lock</span><span>()</span> <span>{</span>
        <span>auto</span> <span>ticket</span> <span>=</span> <span>dispenser</span><span>.</span><span>fetch_add</span><span>(</span><span>1</span><span>,</span> <span>std</span><span>::</span><span>memory_order_relaxed</span><span>);</span>

        <span>while</span> <span>(</span><span>ticket</span> <span>!=</span> <span>serving</span><span>.</span><span>load</span><span>(</span><span>std</span><span>::</span><span>memory_order_acquire</span><span>))</span>
            <span>sched_yield</span><span>();</span>
    <span>}</span>

    <span>void</span> <span>unlock</span><span>()</span> <span>{</span>
        <span>serving</span><span>.</span><span>store</span><span>(</span><span>serving</span><span>.</span><span>load</span><span>()</span> <span>+</span> <span>1</span><span>,</span> <span>std</span><span>::</span><span>memory_order_release</span><span>);</span>
    <span>}</span>
<span>};</span>
</code></pre></div></div>

<p>Let’s plot the performance results for this lock alongside the existing approaches:</p>



<p>This is level 3 visualized: it is an order of magnitude slower than the level 2 approaches. The slowdown comes from the <code>sched_yield</code> call: this is a system call and these are generally on the order of 100s of nanoseconds<sup id="fnref:spectre" role="doc-noteref"><a href="#fn:spectre">10</a></sup>, and it shows in the results.</p>

<p>This lock <em>does</em> have a fast path where <code>sched_yield</code> isn’t called: if the lock is available, no spinning occurs and <code>sched_yield</code> is never called. However, the combination of being a <em>fair</em> lock and the high contention in this test means that a lock convoy quickly forms (we’ll describe this in more detail later) and so the spin loop is entered basically …</p></div></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://travisdowns.github.io/blog/2020/07/06/concurrency-costs.html">https://travisdowns.github.io/blog/2020/07/06/concurrency-costs.html</a></em></p>]]>
            </description>
            <link>https://travisdowns.github.io/blog/2020/07/06/concurrency-costs.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24489829</guid>
            <pubDate>Wed, 16 Sep 2020 05:30:09 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Python's Innards: Introduction (2010)]]>
            </title>
            <description>
<![CDATA[
Score 144 | Comments 9 (<a href="https://news.ycombinator.com/item?id=24489604">thread link</a>) | @johnsonjo
<br/>
September 15, 2020 | https://tech.blog.aknin.name/2010/04/02/pythons-innards-introduction/ | <a href="https://web.archive.org/web/*/https://tech.blog.aknin.name/2010/04/02/pythons-innards-introduction/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
					<p>A friend once said to me: <q>You know, to some people, C is just a bunch of macros that expand to assembly</q>. It’s been years ago (smartasses: it was also before <tt>llvm</tt>, ok?), but the sentence stuck with me. Do <em>Kernighan and Ritchie</em> really look at a C program and see assembly code? Does <em>Tim Berners-Lee</em> surf the Web any differently than you and me? And what on earth <em>did</em> <em>Keanu Reeves</em> see when he looked at all of that funky green gibberish soup, anyway? No, seriously, what the heck <em>did</em> he see there?! Uhm, back to the program. Anyway, what does Python look like in <em>Guido van Rossum</em>‘s<sup>1</sup> eyes?</p>
<p>This post marks the beginning of what should develop to a <a href="https://tech.blog.aknin.name/tag/pythons-innards/">series</a> on Python’s internals, I’m writing it since I believe that explaining something is the best way to grok it, and I’d very much like to be able to visualize more of Python’s ‘funky green gibberish soup’ as I read Python code. On the curriculum is mainly <em>CPython</em>, mainly <em>py3k</em>, mainly <em>bytecode evaluation</em> (I’m not a big compilation fan) – but practically everything around executing Python and Python-like code (<em>Unladen Swallow</em>, <em>Jython</em>, <em>Cython</em>, etc) might turn out to be fair game in this series. For the sake of brevity and my sanity, when I say <em>Python</em>, I mean <em>CPython</em> unless noted otherwise. I also assume a POSIX-like OS or (if and where it matters) Linux, unless otherwise noted. You should read this if you want to know how Python works. You should read this if you want to contribute to CPython. You should read this to find all the mistakes I’ll make and snicker at me behind me back or write snide comments. I realize it’s just <em>your</em> particular way to show affection.</p>
<p>I gather I’ll glean pretty much everything I write about from Python’s source or, occasionally, other fine materials (documentation, especially <a href="http://docs.python.org/py3k/c-api/index.html">this</a> and <a href="http://docs.python.org/py3k/extending/index.html">that</a>, certain PyCon lectures, <a href="https://tech.blog.aknin.name/2010/05/07/searching-mailing-list-archives-offline/">searching</a> <a href="http://mail.python.org/mailman/listinfo/python-dev">python-dev</a>, etc). Everything is out there, but I do hope my efforts at putting it all in one place to which you can RSS-subscribe will make your journey easier. I assume the reader knows some C, some OS theory, a bit less than some assembly (any architecture), a bit more than some Python and has reasonable UNIX fitness (i.e., feels comfortable installing something from source). Don’t be afraid if you’re not reasonably conversant in one (or more) of these, but I can’t promise smooth sailing, either. Also, if you don’t have a working toolchain to do Python development, maybe you’d like to head over <a href="https://tech.blog.aknin.name/2010/04/08/contributing-to-python/">here</a> and do as it says on the second paragraph (and onwards, as relevant).</p>
<p>Let’s start with something which I assume you already know, but I think is important, at least to the main way I understand… well, everything that I do understand. I look at it as if I’m looking at a machine. It’s easy in Python’s case, since Python relies on a Virtual Machine to do what it does (like many other interpreted languages). Be certain you understand “<a href="http://en.wikipedia.org/wiki/Virtual_machine#Process_virtual_machines">Virtual Machine</a>” correctly in this context: think more like JVM and less like VirtualBox (very technically, they’re the same, but in the real world we usually differentiate these two kinds of VMs). I find it easiest to understand “Virtual Machine” literally – it’s a machine built from software. Your CPU is just a complex electronic machine which receives all input (machine code, data), it has a state (registers), and based on the input and its state it will output stuff (to RAM or a Bus), right? Well, CPython is a machine built from software components that has a state and processes instructions (different implementations may use rather different instructions). This software machine operates in the process hosting the Python interpreter. Keep this in mind; I like the <a href="http://en.wikipedia.org/wiki/Turing_machine">machine</a> metaphor (as I explain in minute details <a href="https://tech.blog.aknin.name/2010/07/04/pythons-innards-for-my-wife/">here</a>).</p>
<p>That said, let’s start with a bird’s eye overview of what happens when you do this: <kbd>$ python -c 'print("Hello, world!")'</kbd>. Python’s binary is executed, the standard C library initialization which pretty much any process does happens and then the main function starts executing (see its source, <kbd>./Modules/python.c: main</kbd>, which soon calls <kbd>./Modules/main.c: Py_Main</kbd>). After some mundane initialization stuff (parse arguments, see if environment variables should affect behaviour, assess the situation of the standard streams and act accordingly, etc), <a href="http://docs.python.org/c-api/init.html#Py_Initialize">./Python/pythonrun.c: Py_Initialize</a> is called. In many ways, this function is what ‘builds’ and assembles together the pieces needed to run the CPython machine and makes ‘a process’ into ‘a process with a Python interpreter in it’. Among other things, it creates two very important Python data-structures: the <strong>interpreter state</strong> and <strong>thread state</strong>. It also creates the built-in <strong>module</strong> <a href="http://docs.python.org/library/sys.html">sys</a> and the module which hosts all <a href="http://docs.python.org/library/functions.html#built-in-functions">builtins</a>. At a later post(s) we will cover all these in depth.</p>
<p>With these in place, Python will do one of several things based on how it was executed. Roughly, it will either execute a string (the <kbd>-c</kbd> option), execute a module as an executable (the <kbd>-m</kbd> option), or execute a file (passed explicitly on the commandline or passed by the kernel when used as an interpreter for a script) or run its <a href="http://en.wikipedia.org/wiki/Read-eval-print_loop">REPL</a> loop (this is more a special case of the file to execute being an interactive device). In the case we’re currently following, it will execute a single string, since we invoked it with <kbd>-c</kbd>. To execute this single string, <kbd>./Python/pythonrun.c: PyRun_SimpleStringFlags</kbd> is called. This function creates the <kbd>__main__</kbd> <strong>namespace</strong>, which is ‘where’ our string will be executed (if you run <kbd>$ python -c 'a=1; print(a)'</kbd>, where is <kbd>a</kbd> stored? in this namespace). After the namespace is created, the string is executed in it (or rather, interpreted or <em>evaluated</em> in it). To do that, you must first transform the string into something that machine can work on.</p>
<p>As I said, I’d rather not focus on the innards of Python’s parser/compiler at this time. I’m not a compilation expert, I’m not entirely interested in it, and as far as I know, Python doesn’t have significant Compiler-Fu beyond the basic CS compilation course. We’ll do a (very) fast overview of what goes on here, and may return to it later only to inspect visible CPython behaviour (see the <a href="http://docs.python.org/reference/simple_stmts.html#the-global-statement">global</a> statement, which is said to affect parsing, for instance). So, the parser/compiler stage of <kbd>PyRun_SimpleStringFlags</kbd> goes largely like this: tokenize and create a <a href="http://en.wikipedia.org/wiki/Concrete_syntax_tree">Concrete Syntax Tree</a> (CST) from the code, transorm the CST into an <a href="http://en.wikipedia.org/wiki/Abstract_syntax_tree">Abstract Syntax Tree</a> (AST) and finally compile the AST into a <strong>code object</strong> using <kbd>./Python/ast.c: PyAST_FromNode</kbd>. For now, think of the code object as a binary string of machine code that Python VM’s ‘machinary’ can operate on – so now we’re ready to do interpretation (again, <em>evaluation</em> in Python’s parlance).</p>
<p>We have an (almost) empty <kbd>__main__</kbd>, we have a code object, we want to evaluate it. Now what? Now this line: <kbd>Python/pythonrun.c: run_mod, v = PyEval_EvalCode(co, globals, locals);</kbd> does the trick. It receives a code object and a namespace for <strong>globals</strong> and for <strong>locals</strong> (in this case, both of them will be the newly created <kbd>__main__</kbd> namespace), creates a <strong>frame object</strong> from these and executes it. You remember previously that I mentioned that <kbd>Py_Initialize</kbd> creates a thread state, and that we’ll talk about it later? Well, back to that for a bit: each Python thread is represented by its own thread state, which (among other things) points to the stack of currently executing frames. After the frame object is created and placed at the top of the thread state stack, it (or rather, the byte code pointed by it) is evaluated, opcode by opcode, by means of the (rather lengthy) <kbd>./Python/ceval.c: PyEval_EvalFrameEx</kbd>.</p>
<p><kbd>PyEval_EvalFrameEx</kbd> takes the frame, extracts opcode (and operands, if any, we’ll get to that) after opcode, and executes a short piece of C code matching the opcode. Let’s take a closer look at what these “opcodes” look like by disassembling a bit of compiled Python code:</p>
<pre title="">&gt;&gt;&gt; from dis import dis # ooh! a handy disassembly function!
&gt;&gt;&gt; co = compile("spam = eggs - 1", "&lt;string&gt;", "exec")
&gt;&gt;&gt; dis(co)
  1           0 LOAD_NAME                0 (eggs)
              3 LOAD_CONST               0 (1)
              6 BINARY_SUBTRACT     
              7 STORE_NAME               1 (spam)
             10 LOAD_CONST               1 (None)
             13 RETURN_VALUE        
&gt;&gt;&gt; 
</pre>
<p>…even without knowing much about Python’s bytecode, this is reasonably readable. You “load” the name <kbd>eggs</kbd> (where do you load it from? where do you load it to? soon), and also load a constant value (<kbd>1</kbd>), then you do a “binary subtract” (what do you mean ‘binary’ in this context? between which operands?), and so on and so forth. As you might have guessed, the names are “loaded” from the <kbd>globals</kbd> and <kbd>locals</kbd> namespaces we’ve seen earlier, and they’re loaded onto an operand stack (not to be confused with the stack of running frames), which is exactly where the binary subtract will pop them from, subtract one from the other, and put the result back on that stack. “Binary subtract” just means this is a subtraction opcode that has two operands (hence it is “binary”, this is not to say the operands are binary numbers made of ‘0’s and ‘1’s).</p>
<p>You can go look at <kbd>PyEval_EvalFrameEx</kbd> at <kbd>./Python/ceval.c</kbd> yourself, it’s not a small function by any means. For practical reasons I can’t paste too much code from there in here, but I will just paste the code that runs when a <kbd>BINARY_SUBTRACT</kbd> opcode is found, I think it really illustrates things:</p>
<pre title="">        TARGET(BINARY_SUBTRACT)
            w = POP();
            v = TOP();
            x = PyNumber_Subtract(v, w);
            Py_DECREF(v);
            Py_DECREF(w);
            SET_TOP(x);
            if (x != NULL) DISPATCH();
            break;
</pre>
<p>…pop something, take the top (of the operand stack), call a C function called PyNumber_Subtract() on these things, do something we still don’t understand (but will in due time) called “Py_DECREF” on both, set the top of the stack to the result of the subtraction (overwriting the previous top) and then do something else we don’t understand if x is not null, which is to do a …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://tech.blog.aknin.name/2010/04/02/pythons-innards-introduction/">https://tech.blog.aknin.name/2010/04/02/pythons-innards-introduction/</a></em></p>]]>
            </description>
            <link>https://tech.blog.aknin.name/2010/04/02/pythons-innards-introduction/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24489604</guid>
            <pubDate>Wed, 16 Sep 2020 04:43:29 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Best Places to Learn Coding in 2020 ( For Free)]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 2 (<a href="https://news.ycombinator.com/item?id=24489357">thread link</a>) | @jamessidis
<br/>
September 15, 2020 | https://www.learnandmakeit.com/8-best-places-to-learn-coding-in-2020-for-free/ | <a href="https://web.archive.org/web/*/https://www.learnandmakeit.com/8-best-places-to-learn-coding-in-2020-for-free/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-elementor-type="wp-post" data-elementor-id="1595" data-elementor-settings="[]">
						<div>
							<div>
							<section data-id="d30ea4b" data-element_type="section">
						<div>
							<div>
					<div data-id="f53b83c" data-element_type="column">
			<div>
							<div>
						<div data-id="85df6bf" data-element_type="widget" data-widget_type="image.default">
				<div>
					<p><img width="1100" height="600" src="https://secureservercdn.net/160.153.138.177/p4a.260.myftpupload.com/wp-content/uploads/2020/08/8-Best-Places-to-Learn-Coding-in-2020-For-Free-1-1.png?time=1600487322" alt="" loading="lazy" srcset="https://www.learnandmakeit.com/wp-content/uploads/2020/08/8-Best-Places-to-Learn-Coding-in-2020-For-Free-1-1.png 1100w, https://www.learnandmakeit.com/wp-content/uploads/2020/08/8-Best-Places-to-Learn-Coding-in-2020-For-Free-1-1-300x164.png 300w, https://www.learnandmakeit.com/wp-content/uploads/2020/08/8-Best-Places-to-Learn-Coding-in-2020-For-Free-1-1-1024x559.png 1024w, https://www.learnandmakeit.com/wp-content/uploads/2020/08/8-Best-Places-to-Learn-Coding-in-2020-For-Free-1-1-768x419.png 768w" sizes="(max-width: 1100px) 100vw, 1100px">											</p>
				</div>
				</div>
				
				
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section data-id="1c29039" data-element_type="section">
						<div>
							<div>
					<div data-id="02139c7" data-element_type="column">
			<div>
							<div>
						<div data-id="4a9774a" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<div><p><span>Considered “<strong>nerdy activity</strong>” in the 60s and 70s, programming and coding became one of the most respected, high-paying jobs available in this information age.</span></p><p><span>Almost all experts agree that coding will become as common as literacy in the future. Simply put, coding is the language of the future.</span></p><p><span>It has become a skill that is taught up to a certain level in educational institutions, and this education is gradually increasing.</span></p><p><span>Coding has become a skill that not only helps people think more logically and rigorously, but also gains people in the future.</span></p><p><span>Vee argues that the computationally illiterate will increasingly have to rely on others to navigate daily life in a way that will seriously hamper their prospects. “<strong>If you don’t know how to program, you can carry on with a perfectly fine life. But this is going to change soon.</strong>“</span></p><p><span>You don’t need to spend tons of money to learn code. Here are the best places where you can learn coding for free.</span></p></div>
				</div>
				</div>
				<div data-id="754971b" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<p><em><span>This post may contain affiliate links. Please read our&nbsp;<a href="https://learnandmakeit.com/affiliate-disclaimer/">disclosure</a>&nbsp;for more information.</span></em></p>
				</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section data-id="70903b7" data-element_type="section">
						
		</section>
				<section data-id="64004d8" data-element_type="section">
						<div>
							<div>
					<div data-id="200216d" data-element_type="column">
			<div>
							<div>
						<div data-id="25c81cc" data-element_type="widget" data-widget_type="image.default">
				<div>
					<p><img width="1795" height="920" src="https://secureservercdn.net/160.153.138.177/p4a.260.myftpupload.com/wp-content/uploads/2020/08/codeacademy.png?time=1600487322" alt="" loading="lazy" srcset="https://www.learnandmakeit.com/wp-content/uploads/2020/08/codeacademy.png 1795w, https://www.learnandmakeit.com/wp-content/uploads/2020/08/codeacademy-300x154.png 300w, https://www.learnandmakeit.com/wp-content/uploads/2020/08/codeacademy-1024x525.png 1024w, https://www.learnandmakeit.com/wp-content/uploads/2020/08/codeacademy-768x394.png 768w, https://www.learnandmakeit.com/wp-content/uploads/2020/08/codeacademy-1536x787.png 1536w" sizes="(max-width: 1795px) 100vw, 1795px">											</p>
				</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section data-id="d6deca8" data-element_type="section">
						<div>
							<div>
					<div data-id="8131025" data-element_type="column">
			<div>
							<div>
						<div data-id="216966e" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<div><p><span><a href="http://learnandmakeit.com/codeacademy">Codeacademy</a> one of the best sources to learn coding.&nbsp;&nbsp;More than 45 million people have already learned how to code through this educational company’s engaging experience.</span></p><ul><li><p><span>Web Development&nbsp; ( HTML, CSS, JavaScript )&nbsp;</span></p></li><li><p><span>Programming ( Python, Java, SQL, Ruby, C++, R etc.. )&nbsp;</span></p></li><li><p><span>Computer Science</span></p></li><li><p><span>Data Science</span></p></li><li><p><span>Game Development</span></p></li><li><p><span>Data Vizualization&nbsp;</span></p></li><li><p><span>and much more..</span></p></li></ul><h3>Udemy</h3></div>
				</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section data-id="dec56fd" data-element_type="section">
						<div>
							<div>
					<div data-id="6d49a73" data-element_type="column">
			<div>
							<div>
						<div data-id="ac40a83" data-element_type="widget" data-widget_type="image.default">
				<div>
					<p><img width="820" height="469" src="https://secureservercdn.net/160.153.138.177/p4a.260.myftpupload.com/wp-content/uploads/2020/08/udemy.jpg?time=1600487322" alt="" loading="lazy" srcset="https://www.learnandmakeit.com/wp-content/uploads/2020/08/udemy.jpg 820w, https://www.learnandmakeit.com/wp-content/uploads/2020/08/udemy-300x172.jpg 300w, https://www.learnandmakeit.com/wp-content/uploads/2020/08/udemy-768x439.jpg 768w" sizes="(max-width: 820px) 100vw, 820px">											</p>
				</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section data-id="79b2ddd" data-element_type="section">
						<div>
							<div>
					<div data-id="3734b7d" data-element_type="column">
			<div>
							<div>
						<div data-id="404e501" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<div><p><span>Udemy is an online education platform with courses on almost any subject.</span></p><p><span>Udemy has over 50 million students and over 150,000 courses. </span><span>It offers support for 50 languages.</span></p><p><span>With Udemy, you can easily access the course you want with language, level, price, etc filters.</span></p><p><span>After participating in the courses, you can send any questions to the instructor and get information about the subject in the course.</span></p><h3>TreeHouse&nbsp;</h3></div>
				</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section data-id="c832272" data-element_type="section">
						<div>
							<div>
					<div data-id="bce7ca5" data-element_type="column">
			<div>
							<div>
						<div data-id="1c3edaa" data-element_type="widget" data-widget_type="image.default">
				<div>
					<p><img width="1727" height="872" src="https://secureservercdn.net/160.153.138.177/p4a.260.myftpupload.com/wp-content/uploads/2020/08/treehouse.png?time=1600487322" alt="" loading="lazy" srcset="https://www.learnandmakeit.com/wp-content/uploads/2020/08/treehouse.png 1727w, https://www.learnandmakeit.com/wp-content/uploads/2020/08/treehouse-300x151.png 300w, https://www.learnandmakeit.com/wp-content/uploads/2020/08/treehouse-1024x517.png 1024w, https://www.learnandmakeit.com/wp-content/uploads/2020/08/treehouse-768x388.png 768w, https://www.learnandmakeit.com/wp-content/uploads/2020/08/treehouse-1536x776.png 1536w" sizes="(max-width: 1727px) 100vw, 1727px">											</p>
				</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section data-id="3270737" data-element_type="section">
						<div>
							<div>
					<div data-id="76bfc67" data-element_type="column">
			<div>
							<div>
						<div data-id="c77e1f0" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<div><p><span>It has more than 300 quality courses and more than 50,000 students in more than 23 subjects.</span></p><p><span><b>Course Topics :&nbsp;</b></span></p><ul><li><p><span>Web Design</span></p></li><li><p><span>Rails Development</span></p></li><li><p><span>iOS Development</span></p></li><li><p><span>Android Development</span></p></li><li><p><span>PHP Development</span></p></li><li><p><span>WordPress Development</span></p></li><li><p><span>Starting a Business</span></p></li></ul><p><span><strong>Usability : </strong></span></p><p><span>When you enter the main page, the<strong> first 7-day free trail</strong> section greets you. After you become a member, you can see that the interface of the courses is very user-friendly.</span></p><p><span>Courses are organized by both category and date. When you select a course and enter the landing page, it consists of sections such as “about”, “teacher”, “what will you learn”, “content”. In general, it has a very good interface in terms of ease of use.</span></p><p><span><strong>Content Quality :&nbsp;</strong></span></p><p><span>The comments and reviews left by those who take the Treehouse courses show that the treehouse is really advanced in terms of content quality. </span></p><p><span>Indeed, the instructors in the course are highly professional and expert and educated in their field.</span></p><p><span>In this respect, it is obvious that you will get value for your money.</span></p><p><span><strong>Treehouse TechDegree :&nbsp;</strong></span></p><p><span>We can say that Treehouse has prepared a special program for those who want to continue their career in the tech field and want to make a career and work in this field. </span></p><p><span>For example, a special techdgree program has been prepared for those who do not have enough time or money and want to pursue a career in the field of technology. </span></p><p><span>There are many people who are experts in the field by participating in this program. The evaluations and comments left by the people who took this program show that the program is really high quality. If you want to have a career in tech, you can check this program.</span></p><h3>PluralSight</h3></div>
				</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section data-id="ca30bcd" data-element_type="section">
						<div>
							<div>
					<div data-id="f954b4d" data-element_type="column">
			<div>
							<div>
						<div data-id="834b936" data-element_type="widget" data-widget_type="image.default">
				<div>
					<p><img width="1842" height="855" src="https://secureservercdn.net/160.153.138.177/p4a.260.myftpupload.com/wp-content/uploads/2020/08/pluralsight.png?time=1600487322" alt="" loading="lazy" srcset="https://www.learnandmakeit.com/wp-content/uploads/2020/08/pluralsight.png 1842w, https://www.learnandmakeit.com/wp-content/uploads/2020/08/pluralsight-300x139.png 300w, https://www.learnandmakeit.com/wp-content/uploads/2020/08/pluralsight-1024x475.png 1024w, https://www.learnandmakeit.com/wp-content/uploads/2020/08/pluralsight-768x356.png 768w, https://www.learnandmakeit.com/wp-content/uploads/2020/08/pluralsight-1536x713.png 1536w" sizes="(max-width: 1842px) 100vw, 1842px">											</p>
				</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section data-id="f8bb093" data-element_type="section">
						<div>
							<div>
					<div data-id="1471be3" data-element_type="column">
			<div>
							<div>
						<div data-id="d9277c6" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<div><p><span>Pluralsight&nbsp;was founded in 2004 by Aaron Skonnard, Keith Brown, Fritz Onion, and Bill Williams.</span></p><p><span><b>Course Topics :&nbsp;</b></span></p><ul><li><p><span>Software development, including JavaScript, Python, Android, HTML, Ruby, .NET, and JQuery.</span></p></li><li dir="ltr"><p><span>IT ops, including Windows Server, Docker, Oracle, Cisco, Linux, VMware, CompTIA, MCSE and SharePoint.</span></p></li><li dir="ltr"><p><span>Security, including security auditing, penetration testing and digital forensics.</span></p></li><li dir="ltr"><p><span>Business professional, including leadership, project management and Microsoft Office.</span></p></li><li dir="ltr"><p><span>Data professional, including SQL, Hadoop, MongoDB and Tableau.</span></p></li><li><p><span>Creative professional, including Unity, Maya, Adobe Photoshop and Adobe Premiere.</span></p></li></ul><p><span><strong>Usability :</strong>&nbsp;</span></p><p><span>More than 6,500 courses can be accessed after registration on the course page. </span></p><p><span>It has a very user-friendly interface in terms of accessing the courses, and the interfaces of the courses are divided into modules and you can download videos for offline viewing and take transcriptions.</span></p><p><span><strong>Content Quality :&nbsp;</strong></span></p><p><span>Unlike many other platforms, it starts a very strict review process for pluralsight instructors. For this reason, pluralsight instructors are of high quality and the quality of the course is very good.</span></p><h3><a href="http://learnandmakeit.com/udacity">Udacity</a>&nbsp;</h3></div>
				</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section data-id="c983e45" data-element_type="section">
						<div>
							<div>
					<div data-id="3bad7b3" data-element_type="column">
			<div>
							<div>
						<div data-id="cbbaa47" data-element_type="widget" data-widget_type="image.default">
				<div>
					<p><img width="1637" height="888" src="https://secureservercdn.net/160.153.138.177/p4a.260.myftpupload.com/wp-content/uploads/2020/08/udacity.png?time=1600487322" alt="" loading="lazy" srcset="https://www.learnandmakeit.com/wp-content/uploads/2020/08/udacity.png 1637w, https://www.learnandmakeit.com/wp-content/uploads/2020/08/udacity-300x163.png 300w, https://www.learnandmakeit.com/wp-content/uploads/2020/08/udacity-1024x555.png 1024w, https://www.learnandmakeit.com/wp-content/uploads/2020/08/udacity-768x417.png 768w, https://www.learnandmakeit.com/wp-content/uploads/2020/08/udacity-1536x833.png 1536w" sizes="(max-width: 1637px) 100vw, 1637px">											</p>
				</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section data-id="9ba4c3c" data-element_type="section">
						<div>
							<div>
					<div data-id="4de0bc8" data-element_type="column">
			<div>
							<div>
						<div data-id="de03221" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<div><p><span><a href="http://learnandmakeit.com/udacity">Udacity</a>&nbsp;is an educational organization that offers <a href="https://en.wikipedia.org/wiki/Massive_open_online_course">MOOC</a> s ( Massive open online course )&nbsp;</span></p><p><span>It is the outgrowth of free computer science classes and courses that were offered through Stanford University in 2011.&nbsp;</span></p><p><span><a href="http://learnandmakeit.com/udacity">Udacity</a> courses are an ideal platform for those who want to specialize in artificial intelligence and data science.</span></p><div><p><span><b>Course Topics :</b></span></p><ul><li><p><span>Artificial Intelligence</span></p></li><li><p><span>Data Science</span></p></li><li><p><span>Cloud Computing</span></p></li><li><p><span>Programming and Development</span></p></li><li><p><span>Autonomous Systems&nbsp;</span></p></li><li><p><span>Business</span></p></li><li><p><span>Career</span></p></li></ul></div><p><span><strong>Usability :&nbsp;</strong></span></p><p><span><a href="http://learnandmakeit.com/udacity">Udacity</a>‘s user interface is one of the best among MOOC sites. You can easily access courses and give you the chance to return to previous or next lessons.</span></p><!--Ad Injection:random-->
<p><span><strong>Content Quality :&nbsp;</strong></span></p><p><span>We can say that the content quality is above most of the other MOOC platforms.&nbsp;Udacity’s courses arise from partnership with well-known corporations in Silicon Valley.&nbsp;</span></p><p><span>For example, <strong>Google</strong>, <strong>Nvidia</strong>, <strong>Amazon</strong>,<strong> Facebook</strong>. The main purpose is to provide students with the most up-to-date and quality information. </span></p><!--Ad Injection:random-->
<p><span>Thats why, we can say that the course contents have become more qualified as the quality of the instructors has increased over the years. This is especially noticeable in <a href="http://learnandmakeit.com/udacity">udacity’s nanodegree program</a>. </span></p><p><span>In addition to all these, you can have a career in tech with the <a href="http://learnandmakeit.com/udacity">nanodegree program</a> offered by <a href="http://learnandmakeit.com/udacity">udacity</a>. Many people who graduate from <a href="http://learnandmakeit.com/udacity">Udacity</a> courses find profitable jobs by making a good career.</span></p><p><span>For example, <a href="https://blog.udacity.com/2016/08/making-a-difference-the-jennifer-person-story.html">Jennifer Person</a> &nbsp;started working at <strong>Google</strong> after iOS Developer finished <a href="http://learnandmakeit.com/udacity"><strong>Nanodegree</strong></a>.</span></p><h3>Coursera&nbsp;</h3></div>
				</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section data-id="5d72df5" data-element_type="section">
						<div>
							<div>
					<div data-id="0d6d9da" data-element_type="column">
			<div>
							<div>
						<div data-id="4f60f03" data-element_type="widget" data-widget_type="image.default">
				<div>
					<p><img width="1867" height="930" src="https://secureservercdn.net/160.153.138.177/p4a.260.myftpupload.com/wp-content/uploads/2020/08/coursera.png?time=1600487322" alt="" loading="lazy" srcset="https://www.learnandmakeit.com/wp-content/uploads/2020/08/coursera.png 1867w, https://www.learnandmakeit.com/wp-content/uploads/2020/08/coursera-300x149.png 300w, https://www.learnandmakeit.com/wp-content/uploads/2020/08/coursera-1024x510.png 1024w, https://www.learnandmakeit.com/wp-content/uploads/2020/08/coursera-768x383.png 768w, https://www.learnandmakeit.com/wp-content/uploads/2020/08/coursera-1536x765.png 1536w, https://www.learnandmakeit.com/wp-content/uploads/2020/08/coursera-800x400.png 800w" sizes="(max-width: 1867px) 100vw, 1867px">											</p>
				</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section data-id="154f79c" data-element_type="section">
						<div>
							<div>
					<div data-id="8169ee7" data-element_type="column">
			<div>
							<div>
						<div data-id="b0d2a44" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<div><p><span>Coursera is one of the MOOC sites. It includes many free courses. You can access them, but you have to pay to access the auto-graded exercises, quizzes, exams, and peer-reviewed papers.</span></p><p><span>Coursera divides its courses into five types:&nbsp;</span></p><ul><li><p><span><strong>Courses</strong> :&nbsp;These are standard courses for which you can have a certificate after completion.</span></p></li><li><p><span><strong>Specialization</strong> : A group of courses to help you master a career skill</span></p></li><li><p><span><strong>Professional Certificates</strong> : Training for job skills to help you get experience</span></p></li><li><p><span><strong>MasterTrack Certificates</strong> :&nbsp; Courses that give you career credentials and count toward an online degree, including real-world projects</span></p></li><li><p><span><strong>Degrees</strong> :&nbsp; Modular degree learning, allowing you to earn your degree from the comfort of your home and at your own pace.</span></p></li></ul><p><span><b>Course Topics :&nbsp;</b></span></p><ul><li><p><span>Data Science&nbsp;</span></p></li><li><p><span>Business</span></p></li><li><p><span>Computer Science</span></p></li><li><p><span>Personal Developmment</span></p></li><li><p><span>Information Technology</span></p></li><li><p><span>Math and Logic&nbsp;</span></p></li><li><p><span>Social Science</span></p></li><li><p><span>and much more..</span></p></li></ul><p><span><strong>Usability :&nbsp;</strong></span></p><p><span>You can search the courses as Duration, Level, Deadlines and access the best courses. It is in good condition for ease of use. It also offers ease of use with its mobile application.</span></p><p><span><strong>Content Quality :&nbsp;</strong></span></p><p><span>Since the instructors are highly professional, we can say that the quality of the course is good. Almost all of the instructors are university academics.</span></p><h3>Edx&nbsp;</h3></div>
				</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section data-id="317472f" data-element_type="section">
						<div>
							<div>
					<div data-id="8e9e2a0" data-element_type="column">
			<div>
							<div>
						<div data-id="2b77112" data-element_type="widget" data-widget_type="image.default">
				<div>
					<p><img width="1672" height="917" src="https://secureservercdn.net/160.153.138.177/p4a.260.myftpupload.com/wp-content/uploads/2020/08/edx.png?time=1600487322" alt="" loading="lazy" srcset="https://www.learnandmakeit.com/wp-content/uploads/2020/08/edx.png 1672w, https://www.learnandmakeit.com/wp-content/uploads/2020/08/edx-300x165.png 300w, https://www.learnandmakeit.com/wp-content/uploads/2020/08/edx-1024x562.png 1024w, https://www.learnandmakeit.com/wp-content/uploads/2020/08/edx-768x421.png 768w, https://www.learnandmakeit.com/wp-content/uploads/2020/08/edx-1536x842.png 1536w" sizes="(max-width: 1672px) 100vw, 1672px">											</p>
				</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section data-id="40d17f7" data-element_type="section">
						<div>
							<div>
					<div data-id="37845fc" data-element_type="column">
			<div>
							<div>
						<div data-id="7878ae1" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<div><p><span>If you are looking for university-level online education, edx is one of the places to look.</span></p><p><span><b>Course Topics :&nbsp;</b></span></p><ul><li><p><span>computer science&nbsp;</span></p></li><li><p><span>biology</span></p></li><li><p><span>engineering</span></p></li><li><p><span>architecture</span></p></li><li><p><span>data science</span></p></li><li><p><span>and much more..</span></p></li></ul><p><span><strong>Usability :&nbsp;</strong></span></p><p><span>Course pages are very simple and useful, and they prevent annoying popups.</span></p><p><span><strong>Content Quality :&nbsp;</strong></span></p><p><span>The quality and content of the courses are good, as they work with many professionals around the world.</span></p><h3>Onemonth&nbsp;</h3></div>
				</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section data-id="942ee2e" data-element_type="section">
						<div>
							<div>
					<div data-id="44b28c6" data-element_type="column">
			<div>
							<div>
						<div data-id="a9b39af" data-element_type="widget" data-widget_type="image.default">
				<div>
					<p><img width="1852" height="896" src="https://secureservercdn.net/160.153.138.177/p4a.260.myftpupload.com/wp-content/uploads/2020/08/onemonth.png?time=1600487322" alt="" loading="lazy" srcset="https://www.learnandmakeit.com/wp-content/uploads/2020/08/onemonth.png 1852w, https://www.learnandmakeit.com/wp-content/uploads/2020/08/onemonth-300x145.png 300w, https://www.learnandmakeit.com/wp-content/uploads/2020/08/onemonth-1024x495.png 1024w, https://www.learnandmakeit.com/wp-content/uploads/2020/08/onemonth-768x372.png 768w, https://www.learnandmakeit.com/wp-content/uploads/2020/08/onemonth-1536x743.png 1536w" sizes="(max-width: 1852px) 100vw, 1852px">											</p>
				</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section data-id="eb632f9" data-element_type="section">
						<div>
							<div>
					<div data-id="6dd1b7a" data-element_type="column">
			<div>
							<div>
						<div data-id="4e94499" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<div><p><span>One Month&nbsp;offers a variety of bootcamp courses for learning coding and web development from scratch.&nbsp; each course takes 30 days from start to finish.</span></p><div><p><span><strong>Course Topics:&nbsp;</strong></span></p><ul><li><p><span>JavaScript</span></p></li><li><p><span>Python</span></p></li><li><p><span>Ruby&nbsp;and&nbsp;Ruby on Rails</span></p></li><li><p><span>HTML</span></p></li><li><p><span>iOS Development</span></p></li><li><p><span>Web Security</span></p></li><li><p><span>WordPress Theme Development</span></p></li><li><p><span>and much more..</span></p></li></ul></div><p><span><strong>Usability :&nbsp;</strong></span></p><p><span>We can say “good” in general.</span></p><p><span><strong>Content Quality :&nbsp;</strong></span></p><p><span>By looking at the comments and evaluations made by the people who took the course, we can say that the content …</span></p></div></div></div></div></div></div></div></div></section></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.learnandmakeit.com/8-best-places-to-learn-coding-in-2020-for-free/">https://www.learnandmakeit.com/8-best-places-to-learn-coding-in-2020-for-free/</a></em></p>]]>
            </description>
            <link>https://www.learnandmakeit.com/8-best-places-to-learn-coding-in-2020-for-free/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24489357</guid>
            <pubDate>Wed, 16 Sep 2020 03:45:42 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Short History of LED Lighting]]>
            </title>
            <description>
<![CDATA[
Score 44 | Comments 18 (<a href="https://news.ycombinator.com/item?id=24489268">thread link</a>) | @blast
<br/>
September 15, 2020 | https://www.stet.build/ia/031 | <a href="https://web.archive.org/web/*/https://www.stet.build/ia/031">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      
  <p><img src="https://blotcdn.com/blog_78585a67eddd4bfcb7936222fddae5c7/_image_cache/e294bb61-15a2-42d5-999c-b1d5c20f0429.svg" alt="In Abeyance Logo" width="900" height="150"></p>
<p><img src="https://blot.im/cdn/blog_78585a67eddd4bfcb7936222fddae5c7/_image_cache/8006e258-67aa-456f-be91-f47df313bcc6.png" alt="Issue 031" width="2048" height="2048"></p>

<h4>
By Khaled Abou Alfa • Published 29th of July, <span>2020
</span></h4>
<p>
In 1927, Oleg Losev, a Russian inventor and scientist would introduce the world to the light-emitting diode. This technology would remain dormant for decades. Progress was made in 1962 with the introduction of the first red <span>LED</span>. For the next 30 years, an industry would hunt for the elusive colour blue. Over time the risk of pouring resource and treasure into this pursuit increased - you were chasing the pot of gold at the end of a blue coloured rainbow.
</p>
<p>
These pursuits would continue with little success until the early 90s. Then the work of Shuji Nakamura, Isamu Akosaki and Hiroshi Amano unlocked the secrets of the blue <span>LED</span>. So significant was this discovery that in 2004, the trio would receive the Nobel price in Physics.
</p>
<p>
This work would be employed in diverse contexts, from the multitude of screens we depend upon to data communications. For the built environment, this discovery would transform artificial lighting across the world. The incandescent (and to a lesser extent the fluorescent) lamp illuminated the 20th century. Light for the 21st century would be ushered in by the <span>LED</span> lamp.
</p>
<h2 id="obsolete-lighting-law">Obsolete Lighting Law</h2>
<p>In 1999, <a href="http://www.haitzs-law.com/uploads/7/6/3/6/76362633/1999-_national_research_report__same_as_2000_sarndia_nrp_.pdf">Roland Haitz co-authored</a> a research report, on the future of <span>LED</span> lighting (which was renamed as solid state lighting). The paper included data collected over decades that plotted both the cost of lumens and the red light output per <span>LED</span> package since the 1970s. 20 years ago Haitz empirically predicted the world we are living in today and captured in a<span></span> <span>‘</span>law’ which states:</p>
<blockquote>
<p>Every decade, for a given wavelength of light, the cost per lumen falls by a factor of 10 and the amount of light generated per <span>LED</span> package increases by a factor of 20.<br>
— Haitz’s Law</p>
</blockquote>
<p>
A new report, which addressed the shortcomings and reviewed the impact of the earlier report, was published <a href="http://www.haitzs-law.com/uploads/7/6/3/6/76362633/2011-physica_-_haitz_r_2011_pssa.pdf">a decade later in 2010</a>. This paper predicted that within the decade (by 2020), we would have reached a point of diminishing returns. It acknowledged that Solid State Lighting (<span>SSL</span>) is limited in two areas. The conversion efficacy - converting electrical energy to luminous flux cannot exceed 100%. The actual need for increased flux range - just because you can produce it, doesn’t mean the market needs it. The paper provided indications of where the future after 2020 is likely to evolve:
</p>
<p><em><span>‘</span>These include digital tuning of both the chromaticity and the temporal/spatial placement of light within the environment that is being lit.’</em></p>
<p><span>
27</span> years after the initial spark of the blue <span>LED</span> revolution, we are now entering a period of equilibrium of both the efficacy and flux of solid state lighting. The advances in lighting have now begun to shift into new territory, one of circadian rhythms, diurnal patterns and refined controllability.
</p>
<h2 id="controllability">Controllability</h2>
<p>Inline with the predictions from 10 years ago, the lighting industry has begun to focus its attention on how <span>SSL</span> can be controlled and manipulated. The technology available today would be considered both technically impossible and prohibitively expensive, compared with technology from only 15 years ago.</p>
<p>
The terms<span></span> <span>‘</span>circadian lighting’ or<span></span> <span>‘</span>human centric lighting’ have begun entering the lexicon as a means to enhance the wellbeing of everyone interacting with the built world. With the advent of <span>SSL</span> technology we are now able to control parameters such as colour spectrum, intensity and directionality. These systems offer control based on the exact location, the relationship to the outside world and what is happening outside in real time.
</p>
<p>
The main debate for the use of this type of lighting control is whether it actually works. Does it suppress the levels of Melatonin in the body? Does it make people more alert and therefore more responsive throughout the day? These are some of the questions that the industry will need to address for the technology to become more widespread.
</p>
<p>
<strong>In the last two decades, the lighting industry has experienced a revolution. This has led to an expanded scope of what is achievable with light in a manner unimaginable back in 1927. Incredibly these benefits have come at a greatly reduced level of energy consumption (typically 1/5th of previous technologies). The work is far from done, as incandecent lamp sources (amongst others) remain in wide use throughout the world (<a href="https://www.statista.com/statistics/246030/estimated-led-penetration-of-the-global-lighting-market/">global penetration of LEDs hovers around 61%</a>). We must wean ourselves both for our own wellbeing and that of the planet.</strong>
</p>

<h2 id="dysons-car">Dyson’s Car</h2>
<p><img src="https://blot.im/cdn/blog_78585a67eddd4bfcb7936222fddae5c7/_image_cache/da258a83-f760-46bc-8d61-23c8faa2a5e8.png" alt="Timber" width="900" height="596"></p>
<p>We now know what form factor Dyson had chosen for their <a href="https://www.autocar.co.uk/car-news/features/exclusive-inside-story-dyson-ev">now shelved electric vehicle</a>. Micromobility this is <em>not</em>.</p>
<p>
The Dyson’s interview demonstrates the tone deaf nature associated with cars. You may need a car for some activities, but for most of your mobility needs, you likely can get away with other methods. How different our cities would be if we could understand and embrace that reality together.
</p>
<p>
In adjacent news the guys over at Micromobility.io have been documenting our transition for a while. Just released is <a href="https://micromobility.io/landscape">version 2.0 of their Landscape document</a>. The document demonstrates the breadth that is on offer in this field.
</p>
<h2 id="wide-timber">Wide Timber</h2>
<p><img src="https://blot.im/cdn/blog_78585a67eddd4bfcb7936222fddae5c7/_image_cache/771a70fd-390a-4021-a8ee-e108b34d748e.jpg" alt="Timber" width="1800" height="650"></p>
<p>The 2020 Tokyo Olympics may have been postponed but that doesn’t mean we don’t get to marvel at some stunning timber architecture. As covered in <a href="https://www.stet.build/ia/007">issue 007</a>, the Japanese know a thing or two about building in timber. The completion of the <a href="https://www.designboom.com/architecture/nikken-sekkei-timber-gymnastics-center-tokyo-olympic-games-07-23-2020/">Ariake gymnastics center</a> is a wonderful extension of that history.</p>
<p><img src="https://blot.im/cdn/blog_78585a67eddd4bfcb7936222fddae5c7/_image_cache/a5fb78b8-d41f-4f9e-9bbe-ca1a8b265307.jpeg" alt="Timber" width="818" height="545"></p>

<h2 id="spoke-pens">Spoke Pens</h2>
<p><img src="https://blot.im/cdn/blog_78585a67eddd4bfcb7936222fddae5c7/_image_cache/59e3faa3-40df-46fe-98d7-bbf3cdd7d852.jpg" alt="Spoke Pens" width="680" height="680"></p>
<p>Over the past 5–10 years there has been an incredible industry of machined pens produced and sold on Kickstarter. I have found that the ergonomic design and available refill options to be under-represented. Rather than focusing on the utility of the pen itself, many focus on both the materials and aesthetic design instead.</p>
<blockquote>
<p>Most people make the mistake of thinking design is what it looks like. People think it’s this veneer — that the designers are handed this box and told,<span></span> <span>“</span>Make it look good!” That’s not what we think design is. It’s not just what it looks like and feels like. Design is how it works.<br>
— Steve Jobs</p>
</blockquote>
<p>
In this regard, the <a href="https://spokedesign.com/">Spoke pens and pencils</a> are different. The inside was considered first - even though the outside has a strong design language. The pen is primarily a wrap around the pen refill or pencil mechanism. The pens accept the standard Muji Gel ink refills or the Uni Signo <span>DX</span> refills (both come in a range of colours and go down to the 0.38mm range). While the pencil is based on the Pentel <span>P20</span># mechanical pencil mechanism. Both are highly recommended.
</p>
  <br>
      </div></div>]]>
            </description>
            <link>https://www.stet.build/ia/031</link>
            <guid isPermaLink="false">hacker-news-small-sites-24489268</guid>
            <pubDate>Wed, 16 Sep 2020 03:25:32 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[North Pacific Logbook]]>
            </title>
            <description>
<![CDATA[
Score 50 | Comments 2 (<a href="https://news.ycombinator.com/item?id=24489257">thread link</a>) | @blast
<br/>
September 15, 2020 | https://100r.co/site/north_pacific_logbook.html | <a href="https://web.archive.org/web/*/https://100r.co/site/north_pacific_logbook.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>The passage from <b>Japan</b> (Shimoda) to <b>Canada</b> (Victoria) took <b>51 days</b>, and it was the hardest thing we've ever done. We decided to keep a logbook, to better remember it and so it can help others who wish to make this trip.</p><div>
	<!--  -->
	<tbody><tr><th colspan="3" id="week1">Week 1</th></tr>
	<tr>
		<td rowspan="6">June 9th</td>
		<td>0600</td>
		<td>We woke up early today, as we had little time to prepare before leaving Japan. Why so last minute? Because we only decided to leave yesterday morning. The reason we decided so late, was because we were waiting for a SIM card for our Iridium GO satellite phone, and we received it yesterday morning. As soon as we got it, we grabbed our passports and boat papers and hurried to the Immigration Office in Shizuoka to check out (a 4-5 hour train ride away). We were eager to leave on the 9th, as there was a good weather window, with moderate winds coming from a favourable direction. Because we weren't planning to leave until late yesterday morning, there were many tasks we had no yet done, or had not had time to do.<p>We're usually more organized than this, with only a few menial tasks to do, but not this time. Last minute departures is not our style, but we also wanted to take this window. We had to find a post box to send the pocket wifi we rented and to fill our water tanks — this may not seem like much, but it was, as it piled up on top of other things we'd forgotten, like finding and installing the pot holders to the stovetop, installing the jack lines, taking out the tethers, putting key items back in the ditch bag plus a number of other last minute things that had escaped us at the time.</p></td>
	</tr>
	<!--  -->
	<tr>
		<td>0700</td>
		<td>We meet Shuhei, Thomas and Anja on the sailing vessel Robusta for coffee, turning down a cup as coffee, as it never sits right on the first day at sea. We use this opportunity to chat, meanwhile butterflies gather in my gut. I am nervous. I always am before a big trip and this time is no different, although this is our biggest passage yet, and will also likely be the most challenging. My gut has every right to twist itself into knots. We ask Shuhei to drop off our pocket wifi in a post box, he agrees ­— ah, what a kind person. He came by this with his truck to help Robusta with some last minute tasks, like getting produce, gas etc. We had done most of that ahead of time.</td>
	</tr>
	<!--  -->
	<tr>
		<td>0800</td>
		<td>We push off our spot and head over to the Shimoda Boat Services pontoon to fill our water tanks. We tied up to it and began to ferry bins back and forth to empty them in our tank. We filled as many recipients as we could carry, as we don't know how long the trip will take. Once the tanks and jerry cans were full, we left the pontoon and headed outside of the breakwater. The Shimoda coastguard ship was lifting anchor at the time, it went past us, disappearing quickly as it was going much faster. Outside of the breakwater, we saw the lighthouse on our starboard side, the one we had difficulty rounding when we arrived here a week and a half ago due to 30-knot winds off our bow. Today, the seas were tame and the skies clear and blue. <p>We saw the Kurofune, a replica of Commodore Perry's black ship, taking tourists about the harbor. It was the first time we'd seen it on the water, as there weren't many tourists before due to concerns with the coronavirus. Now that the state of emergency's been lifted, people started traveling more around the country.</p></td>
	</tr>
	<!--  -->
	<tr>
		<td>1200</td>
		<td>The current is pushing us along, fast. We passed Oshima island at a ridiculous speed of 9.5 knots! The kuroshio, or <i>black current</i>, is very strong in this area, and even stronger between the islands as the water is forced through a narrow opening. We had no problem with ships, even with many heading to Tokyo. Our speed made it easy to work our way out of the main shipping channel. We are flying! Pino is happy to be moving again, and as are we.</td>
	</tr>
	<!--  -->
	<tr>
		<td>1430</td>
		<td>We saw porpoises in the water! It's been too long! They came for a bow-riding session. We missed them. Winds are coming out of the SW, at a good speed of 12-15 knots. We're going at 8 knots. For lunch, we had inari pouches, a meal we'd purchased at MaxValue the night before. It's nice not having to cook on the first day. Neither of us are sea sick, but going below is still difficult and can easily trigger it. We stay outside instead, enjoying the good wind, weather and sun. <p>Devine is reading "The mushrooom at the end of the world", while I steer us east. We tried calling Robusta on the VHF, but got no answer, either they're too far or their radio isn't on.</p></td>
	</tr>
	<!--  -->
	<tr>
		<td>1700</td>
		<td>Wind rises to 20 knots, we put on our foul weather gear as we don't want to wet our clothes. We won't be doing laundry in this trip, so keeping clothes dry is crucial.</td>
	</tr>
	<!--  -->
	<tr>
		<td rowspan="4">June 10th</td>
		<td>0800</td>
		<td>We download the weather, it is the same as yesterday, but it looks like the wind will increase this evening. Both of us are feeling sick and grumpy. We're experiencing the early symptoms of sea sickness, which usually means a headache, reduced appetite, morose view on things etc. This happens on every trip. Neither of us have ever vomited, thankfully.<p>Yesterday we sent Robusta an email and got a reply, they are ok and are southwest of us.</p></td>
	</tr>
	<!--  -->
	<tr>
		<td>1200</td>
		<td>We napped hard, then awoke and decided that we should try and cook something. Neither of us feel like eating rice balls, we regret getting so many as we aren't sure we can eat them. We have no appetite, but try to eat anyway.<p>We ate raw snap peas as a snack, the texture was weird in our mouths. Devine made spicy ramen, which were very, very spicy. I couldn't finish my bowl. We had a grapefruit for desert, and made a mess on deck trying to pry it apart. The deck had red on it for a while afterwards.</p></td>
	</tr>
	<!--  -->
	<tr>
		<td>1700</td>
		<td>We check the weather again. We don't normally check it twice a day as it eats up data, but the weather was changing so fast...! We wanted to know what was going on. We're glad we looked, as the wind was set to increase by a lot. If we hadn't checked, we might not have set the second reef point in our main. The last thing we want in this ocean is to have too much canvas up.</td>
	</tr>
	<!--  -->
	<tr>
		<td>1800</td>
		<td> We eat chips as a snack, as we are not hungry for a full dinner. Everything tastes weird? It's like our taste buds are going crazy. The only thing that goes down easy is salty foods.</td>
	</tr>
	<!--  -->
	<tr>
		<td rowspan="6">June 11th</td>
		<td>0200</td>
		<td>Saw a tanker ahead, but it wasn't moving? We passed its stern, wondering why it was idling out here.</td>
	</tr>
	<!--  -->
	<tr>
		<td>0900</td>
		<td>We've reduced the jib, as the wind is a strong and steady 27 knots. We are sailing east, although the current has pushed us higher than we wanted. We are at 36 degrees, and it is worrisome as we knew it was safer to stay under 35. The wind above that line tends to be stronger. Robusta was at 33 degrees, upon exiting Shimoda they took a more southerly route, I wish we'd done the same. We underestimated the strength of this current. We have peanut butter toast with slices of banana on top for breakfast.<p>Devine sent a happy birthday message to his sister.</p></td>
	</tr>
	<!--  -->
	<tr>
		<td>1100</td>
		<td>The waves are getting bigger. We are worried about our fresh produce as we can't eat any of it. This has never happened to us before. The sun is warm and is hastening the rotting of some of the more sensitive vegetables, like broccoli. We had to throw away half a head overboard today. I hope we'll find our appetites again, I'd rather the food end up in our stomachs than in the ocean.</td>
	</tr>
	<!--  -->
	<tr>
		<td>1200</td>
		<td>Devine made a salad for lunch to try and use up some of our uglier produce. The wind is blowing food off of my fork as I eat, maybe not the best meal to have on a windy day. The wind is blowing 25-30 knots, generating big waves, but at least it is sunny.</td>
	</tr>
	<!--  -->
	<tr>
		<td>1300</td>
		<td>We watched seabirds pirouetting in the distance, they've no problem in this wind. Their movements are sharp and fast. We don't know what kind of bird they are, they're brown with a white stomach.<p>We've noticed the automatic bilge pump keeps going off, we think there's a leak below the waterline, if so, that is worrisome. We tried to find where it was, but found nothing. None of the thru-hulls are leaking. I also checked the hose connections, nada! I suspect it may be the rudder post that is leaking, but for now it is impossible to look as I'd have to get into the cockpit locker, which is full of water bins and other heavy gear. For now, we try and check the bilge often, pumping the water out by hand every 2h or so. We have two manual bilge pumps, one in the cockpit and another in the cabin under the sink. The automatic bilge pump doesn't empty the bilge entirely, as it sits on a little stand above the lowest point, but the manual pump tube touches the bottom and does a better job of sucking up the majority of the water. If anything, the automatic pump serves as an alarm.</p></td>
	</tr>
	<!--  -->
	<tr>
		<td>1700</td>
		<td>Made spaghetti with eggplant and green peppers for dinner. It is still hard to finish food, so we started making smaller portions as to avoid waste. Both of us are still plagued with weird tastebuds. Sweet is too sweet, veggies are bland...</td>
	</tr>
	<!--  -->
	<tr>
		<td rowspan="2">June 12th</td>
		<td>0800</td>
		<td>Rain. All day. It won't stop. We've asked it to, but <i>it won't listen</i>.</td>
	</tr>
	<!--  -->
	<tr>
		<td>1900</td>
		<td>The conditions out here are horrible. We are running with the waves and wind, we wished we'd put in the 3rd reef earlier. It is too late to do it now, as it is dark and stormy. Neither of us eat dinner, we're in sparta mode. </td>
	</tr>
	<!--  -->
	<tr>
		<td rowspan="4">June 13th</td>
		<td>0800</td>
		<td>It is still raining a lot, with winds gusting in the high 30's. This weather is demoralizing, but at least we are making good easting and getting further and further away from Japan. I never thought I'd be happy about getting away from Japan, it's my favorite place in the world...! The ocean around the country is mean, and another entity entirely, lingering here is dangerous. <i>Oh how much I wish the rain would stop</i>, everything would be more pleasant if the rain stopped.</td>
	</tr>
	<!--  -->
	<tr>
		<td>1200</td>
		<td>Devine made pasta with a mustard sauce for lunch, I ate half and left the bowl on the stove. It was delicious but I couldn't finish, I'll keep it as a snack for later. We had our usual …</td></tr></tbody></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://100r.co/site/north_pacific_logbook.html">https://100r.co/site/north_pacific_logbook.html</a></em></p>]]>
            </description>
            <link>https://100r.co/site/north_pacific_logbook.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24489257</guid>
            <pubDate>Wed, 16 Sep 2020 03:22:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Smallest Echo]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24489213">thread link</a>) | @figomore
<br/>
September 15, 2020 | https://blog.mandejan.nl/posts/smallest-echo.html | <a href="https://web.archive.org/web/*/https://blog.mandejan.nl/posts/smallest-echo.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
				
<p>This post is a draft, I published it by accident. Based on the positive feedback I’ll keep it up for now but know that you’re reading unfinished content :-), please check back later to see the finished product (spoiler: there are still many bytes to save)</p>
<hr>
<p>I was inspired by reading this blog <a href="https://briancallahan.net/blog/20200812.html">https://briancallahan.net/blog/20200812.html</a>
Where the author wants is building the smallest executable echo binary for an
x86_64 linux system. In the blog he gets to 848 bytes with programming in
assembly and to 840 bytes when compiling a C version of the program with Clang.
I really like optimizing code for size so I made myself this challenge to see
how much further this could be pushed! Since the original post already covered
C, lets start with a naive implementation of echo in my favorite compiled
language, <a href="https://ziglang.org/">Zig</a>!</p>
<h2 id="9568-bytes">9568 bytes</h2>
<div><pre><code data-lang="zig"><span>const</span><span> </span><span>std</span><span> </span><span>=</span><span> </span><span>@import</span><span>(</span><span>"std"</span><span>);</span><span>
</span><span></span><span>const</span><span> </span><span>io</span><span> </span><span>=</span><span> </span><span>std</span><span>.</span><span>io</span><span>;</span><span>
</span><span></span><span>const</span><span> </span><span>process</span><span> </span><span>=</span><span> </span><span>std</span><span>.</span><span>process</span><span>;</span><span>
</span><span>
</span><span>
</span><span></span><span>pub</span><span> </span><span>fn</span><span> </span><span>main</span><span>()</span><span> </span><span>!</span><span>void</span><span> </span><span>{</span><span>
</span><span>    </span><span>var</span><span> </span><span>arena</span><span> </span><span>=</span><span> </span><span>std</span><span>.</span><span>heap</span><span>.</span><span>ArenaAllocator</span><span>.</span><span>init</span><span>(</span><span>std</span><span>.</span><span>heap</span><span>.</span><span>page_allocator</span><span>);</span><span>
</span><span>    </span><span>defer</span><span> </span><span>arena</span><span>.</span><span>deinit</span><span>();</span><span>
</span><span>
</span><span>    </span><span>const</span><span> </span><span>allocator</span><span> </span><span>=</span><span> </span><span>&amp;</span><span>arena</span><span>.</span><span>allocator</span><span>;</span><span>
</span><span>    </span><span>var</span><span> </span><span>args</span><span> </span><span>=</span><span> </span><span>try</span><span> </span><span>process</span><span>.</span><span>argsAlloc</span><span>(</span><span>allocator</span><span>);</span><span>
</span><span>    </span><span>defer</span><span> </span><span>process</span><span>.</span><span>argsFree</span><span>(</span><span>allocator</span><span>,</span><span> </span><span>args</span><span>);</span><span>
</span><span>
</span><span>    </span><span>const</span><span> </span><span>stdout_stream</span><span> </span><span>=</span><span> </span><span>io</span><span>.</span><span>getStdOut</span><span>().</span><span>outStream</span><span>();</span><span>
</span><span>
</span><span>    </span><span>var</span><span> </span><span>arg_idx</span><span>:</span><span> </span><span>usize</span><span> </span><span>=</span><span> </span><span>1</span><span>;</span><span> </span><span>// skip exe name
</span><span></span><span>    
</span><span>    </span><span>while</span><span> </span><span>(</span><span>nextArg</span><span>(</span><span>args</span><span>,</span><span> </span><span>&amp;</span><span>arg_idx</span><span>))</span><span> </span><span>|</span><span>arg</span><span>|</span><span> </span><span>{</span><span>
</span><span>        </span><span>try</span><span> </span><span>stdout_stream</span><span>.</span><span>writeAll</span><span>(</span><span>arg</span><span>);</span><span>
</span><span>        </span><span>if</span><span> </span><span>(</span><span>arg_idx</span><span> </span><span>!=</span><span> </span><span>args</span><span>.</span><span>len</span><span>)</span><span> </span><span>{</span><span>
</span><span>            </span><span>try</span><span> </span><span>stdout_stream</span><span>.</span><span>writeByte</span><span>(</span><span>' '</span><span>);</span><span>
</span><span>        </span><span>}</span><span>
</span><span>    </span><span>}</span><span>
</span><span>    </span><span>try</span><span> </span><span>stdout_stream</span><span>.</span><span>writeByte</span><span>(</span><span>'\n'</span><span>);</span><span>
</span><span></span><span>}</span><span>
</span><span>
</span><span></span><span>fn</span><span> </span><span>nextArg</span><span>(</span><span>args</span><span>:</span><span> </span><span>[][]</span><span>const</span><span> </span><span>u8</span><span>,</span><span> </span><span>idx</span><span>:</span><span> </span><span>*</span><span>usize</span><span>)</span><span> </span><span>?</span><span>[]</span><span>const</span><span> </span><span>u8</span><span> </span><span>{</span><span>
</span><span>    </span><span>if</span><span> </span><span>(</span><span>idx</span><span>.</span><span>*</span><span> </span><span>&gt;=</span><span> </span><span>args</span><span>.</span><span>len</span><span>)</span><span> </span><span>return</span><span> </span><span>null</span><span>;</span><span>
</span><span>    </span><span>defer</span><span> </span><span>idx</span><span>.</span><span>*</span><span> </span><span>+=</span><span> </span><span>1</span><span>;</span><span>
</span><span>    </span><span>return</span><span> </span><span>args</span><span>[</span><span>idx</span><span>.</span><span>*</span><span>];</span><span>
</span><span></span><span>}</span><span>
</span></code></pre></div><p>build with: <code>zig build-exe echo.zig --release-small --single-threaded &amp;&amp; strip echo</code> this produces a binary thats 9568 bytes in size, that not bad and
certainly a lot smaller than the echo included with a linux distribution (though
we have a lot less options). But it’s certainly not as small as the 840 bytes
Brian managed to achieve with C in his blogpost. So where do we start saving?
The current program is quite naive, so naive infact that when you add <code>-target native-windows</code> to the Zig compile options it even works on windows! While
building crossplatfrom code is very neat, assuming a linux os can save us a lot
of bytes. So lets rewrite our code to be compatible with linux only.</p>
<h2 id="1752-bytes">1752 bytes</h2>
<div><pre><code data-lang="zig"><span>const</span><span> </span><span>std</span><span> </span><span>=</span><span> </span><span>@import</span><span>(</span><span>"std"</span><span>);</span><span>
</span><span></span><span>const</span><span> </span><span>linux</span><span> </span><span>=</span><span> </span><span>std</span><span>.</span><span>os</span><span>.</span><span>linux</span><span>;</span><span>
</span><span>
</span><span></span><span>pub</span><span> </span><span>fn</span><span> </span><span>main</span><span>()</span><span> </span><span>void</span><span> </span><span>{</span><span>
</span><span>    </span><span>const</span><span> </span><span>args</span><span> </span><span>=</span><span> </span><span>std</span><span>.</span><span>os</span><span>.</span><span>argv</span><span>;</span><span>
</span><span>    
</span><span>    </span><span>for</span><span> </span><span>(</span><span>args</span><span>[</span><span>1</span><span>..])</span><span> </span><span>|</span><span>arg</span><span>,</span><span> </span><span>i</span><span>|</span><span> </span><span>{</span><span>
</span><span>        </span><span>_</span><span> </span><span>=</span><span> </span><span>linux</span><span>.</span><span>write</span><span>(</span><span>1</span><span>,</span><span> </span><span>arg</span><span>,</span><span> </span><span>std</span><span>.</span><span>mem</span><span>.</span><span>len</span><span>(</span><span>arg</span><span>));</span><span>
</span><span>        </span><span>if</span><span> </span><span>(</span><span>i</span><span> </span><span>!=</span><span> </span><span>args</span><span>.</span><span>len</span><span> </span><span>-</span><span> </span><span>2</span><span>)</span><span> </span><span>_</span><span> </span><span>=</span><span> </span><span>linux</span><span>.</span><span>write</span><span>(</span><span>1</span><span>,</span><span> </span><span>" "</span><span>,</span><span> </span><span>1</span><span>);</span><span>
</span><span>    </span><span>}</span><span>
</span><span>    </span><span>_</span><span> </span><span>=</span><span> </span><span>linux</span><span>.</span><span>write</span><span>(</span><span>1</span><span>,</span><span> </span><span>"</span><span>\n</span><span>"</span><span>,</span><span> </span><span>1</span><span>);</span><span>
</span><span></span><span>}</span><span>
</span></code></pre></div><p>Now that we’ve thrown away a lot of code that was helping us make our program
cross platform we no longer need code for allocating arguments and we can use
linux syscalls directly. This brings the size down to just 1752 bytes, but that’s
still not anywhere near 840, so next up lets see whats actually in the binary!</p>
<p>running <code>readelf -s echo</code> reveals there are still several functions in included
in the binary, they are: <code>_start</code>, <code>std.start.posixCallMainAndExit</code>,
<code>std.os.abort</code>, <code>std.os.raise</code></p>
<p>Apart from our entrypoint <code>_start</code>, we don’t really need those other functions,
so lets ditch them! posixCallMainAndExit is Zig’s “main” function. Luckily it is
really easy to get rid of the main function in Zig and define your own entry
point:</p>
<h2 id="800-bytes">800 bytes</h2>
<div><pre><code data-lang="zig"><span>const</span><span> </span><span>std</span><span> </span><span>=</span><span> </span><span>@import</span><span>(</span><span>"std"</span><span>);</span><span>
</span><span></span><span>const</span><span> </span><span>linux</span><span> </span><span>=</span><span> </span><span>std</span><span>.</span><span>os</span><span>.</span><span>linux</span><span>;</span><span>
</span><span>
</span><span></span><span>pub</span><span> </span><span>export</span><span> </span><span>fn</span><span> </span><span>_start</span><span>()</span><span> </span><span>callconv</span><span>(.</span><span>Naked</span><span>)</span><span> </span><span>noreturn</span><span> </span><span>{</span><span>
</span><span>    </span><span>const</span><span> </span><span>starting_stack_ptr</span><span>:</span><span> </span><span>[</span><span>*</span><span>]</span><span>usize</span><span> </span><span>=</span><span> </span><span>asm</span><span> </span><span>(</span><span>""</span><span>
</span><span>        </span><span>:</span><span> </span><span>[</span><span>argc</span><span>]</span><span> </span><span>"={rsp}"</span><span> </span><span>(</span><span>-&gt;</span><span> </span><span>[</span><span>*</span><span>]</span><span>usize</span><span>)</span><span>
</span><span>    </span><span>);</span><span>
</span><span>    </span><span>const</span><span> </span><span>argc</span><span> </span><span>=</span><span> </span><span>starting_stack_ptr</span><span>[</span><span>0</span><span>];</span><span>
</span><span>    </span><span>const</span><span> </span><span>argv</span><span> </span><span>=</span><span> </span><span>@ptrCast</span><span>([</span><span>*</span><span>][</span><span>*:</span><span>0</span><span>]</span><span>u8</span><span>,</span><span> </span><span>starting_stack_ptr</span><span> </span><span>+</span><span> </span><span>1</span><span>);</span><span>
</span><span>
</span><span>    </span><span>for</span><span> </span><span>(</span><span>argv</span><span>[</span><span>1</span><span>..</span><span>argc</span><span>])</span><span> </span><span>|</span><span>arg</span><span>,</span><span> </span><span>i</span><span>|</span><span> </span><span>{</span><span>
</span><span>        </span><span>_</span><span> </span><span>=</span><span> </span><span>linux</span><span>.</span><span>write</span><span>(</span><span>1</span><span>,</span><span> </span><span>arg</span><span>,</span><span> </span><span>std</span><span>.</span><span>mem</span><span>.</span><span>len</span><span>(</span><span>arg</span><span>));</span><span>
</span><span>        </span><span>if</span><span> </span><span>(</span><span>i</span><span> </span><span>!=</span><span> </span><span>argc</span><span> </span><span>-</span><span> </span><span>2</span><span>)</span><span> </span><span>_</span><span> </span><span>=</span><span> </span><span>linux</span><span>.</span><span>write</span><span>(</span><span>1</span><span>,</span><span> </span><span>" "</span><span>,</span><span> </span><span>1</span><span>);</span><span>
</span><span>    </span><span>}</span><span>
</span><span>    </span><span>_</span><span> </span><span>=</span><span> </span><span>linux</span><span>.</span><span>write</span><span>(</span><span>1</span><span>,</span><span> </span><span>"</span><span>\n</span><span>"</span><span>,</span><span> </span><span>1</span><span>);</span><span>
</span><span>
</span><span>    </span><span>linux</span><span>.</span><span>exit</span><span>(</span><span>0</span><span>);</span><span>
</span><span></span><span>}</span><span>
</span></code></pre></div><p>By looking at <a href="https://github.com/ziglang/zig/blob/master/lib/std/start.zig">Zig’s main
function</a> and only
taking the parts we actually need and building our own entrypoint we manged to
save almost an entire kilobyte. We finally beat Brian’s original C
implementation by 40(!) bytes. But why stop here? Let’s analyze the binary and
see if there is more to be saved! Running <code>readelf -S echo</code> reveals that there
some sections left, even after running the <code>strip</code> command, not all of which are
neccesary, like the <code>.comment</code> section. While you could carve out sections of an
elf file like so: <code>objcopy --remove-section .comment echo</code>. There is a very nice
command line utility from the
<a href="http://www.muppetlabs.com/~breadbox/software/elfkickers.html">ELFKickers</a>
collection called <code>sstrip</code> this amazing little tool can really strip out every
unneeded byte from an elf file, so lets try it! running <code>sstrip -z echo</code> instead
of <code>strip</code> on the echo binary from the previous code snippet results in a 425
bytes file. Wow! this tool almost cut the size of out binary in half! Without
affecting the functionallity of the program at all. Incredible. Unfortunatly
running the tools twice does not make the binary half in size again magically.
So lets take another look at our algorithm and see if we can do some more
optimizations in the code!</p>
<h2 id="408-bytes">408 bytes</h2>
<div><pre><code data-lang="zig"><span>const</span><span> </span><span>std</span><span> </span><span>=</span><span> </span><span>@import</span><span>(</span><span>"std"</span><span>);</span><span>
</span><span></span><span>const</span><span> </span><span>linux</span><span> </span><span>=</span><span> </span><span>std</span><span>.</span><span>os</span><span>.</span><span>linux</span><span>;</span><span>
</span><span>
</span><span></span><span>pub</span><span> </span><span>export</span><span> </span><span>fn</span><span> </span><span>_start</span><span>()</span><span> </span><span>callconv</span><span>(.</span><span>Naked</span><span>)</span><span> </span><span>noreturn</span><span> </span><span>{</span><span>
</span><span>    </span><span>const</span><span> </span><span>starting_stack_ptr</span><span> </span><span>=</span><span> </span><span>asm</span><span> </span><span>(</span><span>""</span><span>
</span><span>        </span><span>:</span><span> </span><span>[</span><span>argc</span><span>]</span><span> </span><span>"={rsp}"</span><span> </span><span>(</span><span>-&gt;</span><span> </span><span>[</span><span>*</span><span>]</span><span>usize</span><span>)</span><span>
</span><span>    </span><span>);</span><span>
</span><span>    </span><span>const</span><span> </span><span>argc</span><span> </span><span>=</span><span> </span><span>starting_stack_ptr</span><span>[</span><span>0</span><span>];</span><span>
</span><span>    </span><span>var</span><span> </span><span>argv</span><span> </span><span>=</span><span> </span><span>@ptrCast</span><span>([</span><span>*</span><span>][</span><span>*:</span><span>0</span><span>]</span><span>u8</span><span>,</span><span> </span><span>starting_stack_ptr</span><span> </span><span>+</span><span> </span><span>1</span><span>);</span><span>
</span><span>
</span><span>    </span><span>for</span><span> </span><span>(</span><span>argv</span><span>[</span><span>1</span><span>..</span><span>argc</span><span>])</span><span> </span><span>|</span><span>arg</span><span>,</span><span> </span><span>i</span><span>|</span><span> </span><span>{</span><span>
</span><span>        </span><span>var</span><span> </span><span>len</span><span>:</span><span> </span><span>u64</span><span> </span><span>=</span><span> </span><span>std</span><span>.</span><span>mem</span><span>.</span><span>len</span><span>(</span><span>arg</span><span>);</span><span>
</span><span>        </span><span>arg</span><span>[</span><span>len</span><span>]</span><span> </span><span>=</span><span> </span><span>' '</span><span>;</span><span>
</span><span>        </span><span>if</span><span> </span><span>(</span><span>i</span><span> </span><span>==</span><span> </span><span>argc</span><span> </span><span>-</span><span> </span><span>2</span><span>)</span><span> </span><span>len</span><span> </span><span>-=</span><span> </span><span>1</span><span>;</span><span>
</span><span>        </span><span>_</span><span> </span><span>=</span><span> </span><span>linux</span><span>.</span><span>write</span><span>(</span><span>1</span><span>,</span><span> </span><span>arg</span><span>,</span><span> </span><span>len</span><span> </span><span>+</span><span> </span><span>1</span><span>);</span><span>
</span><span>    </span><span>}</span><span>
</span><span>    </span><span>_</span><span> </span><span>=</span><span> </span><span>linux</span><span>.</span><span>write</span><span>(</span><span>1</span><span>,</span><span> </span><span>"</span><span>\n</span><span>"</span><span>,</span><span> </span><span>1</span><span>);</span><span>
</span><span>
</span><span>    </span><span>linux</span><span>.</span><span>exit</span><span>(</span><span>0</span><span>);</span><span>
</span><span></span><span>}</span><span>
</span><span>
</span></code></pre></div><p>One optimization we can make is using the space the linux kernel kindly provided
to us when it allocated the program arguments for us for our echo program we
need to write a space after every argument except the last, then we need to
write a newline. Instead of storing a string with a space in the binary, loading
a pointer to it and doing a seperate syscall, we can store the space at place of
the null byte at the end of the string. It would save even more bytes if we
could do the same for the newline, unfortunatly the newline also needs to be
printed if there are no arguments supplied to the echo program.</p>
<h2 id="277-bytes">277 bytes</h2>
<div><pre><code data-lang="zig"><span>const</span><span> </span><span>std</span><span> </span><span>=</span><span> </span><span>@import</span><span>(</span><span>"std"</span><span>);</span><span>
</span><span></span><span>const</span><span> </span><span>linux</span><span> </span><span>=</span><span> </span><span>std</span><span>.</span><span>os</span><span>.</span><span>linux</span><span>;</span><span>
</span><span>
</span><span></span><span>pub</span><span> </span><span>export</span><span> </span><span>fn</span><span> </span><span>_start</span><span>()</span><span> </span><span>callconv</span><span>(.</span><span>Naked</span><span>)</span><span> </span><span>noreturn</span><span> </span><span>{</span><span>
</span><span>    </span><span>const</span><span> </span><span>starting_stack_ptr</span><span> </span><span>=</span><span> </span><span>asm</span><span> </span><span>(</span><span>""</span><span>
</span><span>        </span><span>:</span><span> </span><span>[</span><span>argc</span><span>]</span><span> </span><span>"={esp}"</span><span> </span><span>(</span><span>-&gt;</span><span> </span><span>[</span><span>*</span><span>]</span><span>usize</span><span>)</span><span>
</span><span>    </span><span>);</span><span>
</span><span>    </span><span>const</span><span> </span><span>argc</span><span> </span><span>=</span><span> </span><span>starting_stack_ptr</span><span>[</span><span>0</span><span>];</span><span>
</span><span>    </span><span>var</span><span> </span><span>argv</span><span> </span><span>=</span><span> </span><span>@ptrCast</span><span>([</span><span>*</span><span>][</span><span>*:</span><span>0</span><span>]</span><span>u8</span><span>,</span><span> </span><span>starting_stack_ptr</span><span> </span><span>+</span><span> </span><span>1</span><span>);</span><span>
</span><span>
</span><span>    </span><span>for</span><span> </span><span>(</span><span>argv</span><span>[</span><span>1</span><span>..</span><span>argc</span><span>])</span><span> </span><span>|</span><span>arg</span><span>,</span><span> </span><span>i</span><span>|</span><span> </span><span>{</span><span>
</span><span>        </span><span>const</span><span> </span><span>len</span><span> </span><span>=</span><span> </span><span>@intCast</span><span>(</span><span>u32</span><span>,</span><span> </span><span>std</span><span>.</span><span>mem</span><span>.</span><span>len</span><span>(</span><span>arg</span><span>));</span><span>
</span><span>        </span><span>arg</span><span>[</span><span>len</span><span>]</span><span> </span><span>=</span><span> </span><span>' '</span><span>;</span><span>
</span><span>        </span><span>_</span><span> </span><span>=</span><span> </span><span>linux</span><span>.</span><span>write</span><span>(</span><span>1</span><span>,</span><span> </span><span>arg</span><span>,</span><span> </span><span>len</span><span> </span><span>+</span><span> </span><span>1</span><span>);</span><span>
</span><span>        </span><span>if</span><span> </span><span>(</span><span>i</span><span> </span><span>==</span><span> </span><span>argc</span><span> </span><span>-</span><span> </span><span>2</span><span>)</span><span> </span><span>break</span><span>;</span><span>
</span><span>    </span><span>}</span><span>
</span><span>    </span><span>_</span><span> </span><span>=</span><span> </span><span>linux</span><span>.</span><span>write</span><span>(</span><span>1</span><span>,</span><span> </span><span>"</span><span>\n</span><span>"</span><span>,</span><span> </span><span>1</span><span>);</span><span>
</span><span>
</span><span>    </span><span>linux</span><span>.</span><span>exit</span><span>(</span><span>0</span><span>);</span><span>
</span><span></span><span>}</span><span>
</span></code></pre></div><p>For this massive save we can thank intel and linux for 35 years of backwards
compatibility! I modified the program slightly so it could be compiled for the
intel i386 architecture. I then added <code>-target i386-native</code> to the Zig compile
flags and it produced a 32 bit elf. 32 bit elfs are a lot smaller simply due to
the wordsize being half as large as on a 64 bit platform. This saves a lot in
header space, and also in instruction size! Our echo binary doesn’t need 64 bit
words anyway. The only difference in functionality is that the stringlength of
one argument may not exceed 2<sup>32</sup>. Which is far larger than the linux
kernel allows anyways. I think it’s reasonable to say this is the farthest It
can be pushes with ordinary programming languages, if we want to make it smaller
we’ll have to start getting our hands dirty with assembly! So lets ask Zig
nicely to provide us with a starting point, and let’s see where we end up.</p>
<p>That’s it for now! In the next part we’ll leave Zig behind!</p>

			</div></div>]]>
            </description>
            <link>https://blog.mandejan.nl/posts/smallest-echo.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24489213</guid>
            <pubDate>Wed, 16 Sep 2020 03:14:00 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Tesla Patents Metal-Air Battery Pack]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24489136">thread link</a>) | @sovreign
<br/>
September 15, 2020 | https://www.evunite.com/blog/tesla-patent-metal-air-battery-granted-prior-to-2020-battery-day/ | <a href="https://web.archive.org/web/*/https://www.evunite.com/blog/tesla-patent-metal-air-battery-granted-prior-to-2020-battery-day/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div> <div> <div> <div id="page-container"> <div> <div> <div data-elementor-type="wp-post" data-elementor-id="2779" data-elementor-settings="[]"> <div> <div> <section data-id="6bc62c5" data-element_type="section">  </section> <section data-id="702536d3" data-element_type="section">  </section> <section data-id="53968388" data-element_type="section">  </section> <section data-id="3d19741f" data-element_type="section">  </section> <section data-id="662e3ffd" data-element_type="section"> <div> <div> <div data-id="588612e5" data-element_type="column"> <div> <div> <div data-id="77b28d53" data-element_type="widget" data-widget_type="text-editor.default"> <div> <p>Tesla has just been granted US Patent number 10763477 for a safety method for a metal-air battery pack just weeks prior to Battery Day 2020.</p> </div> </div> </div> </div> </div> </div> </div> </section> <section data-id="44f65aa" data-element_type="section">  </section> <section data-id="37698834" data-element_type="section">  </section> <section data-id="f135235" data-element_type="section">  </section> <section data-id="4ee04b3e" data-element_type="section">  </section> <section data-id="cc7e44f" data-element_type="section">  </section> <section data-id="af84093" data-element_type="section">  </section> <section data-id="7818ce11" data-element_type="section"> <div> <div> <div data-id="16baea41" data-element_type="column"> <div> <div> <div data-id="7b44360e" data-element_type="widget" data-widget_type="image.default"> <div> <p> <figure> <amp-img width="591" height="756" src="https://www.evunite.com/wp-content/uploads/2020/09/Tesla-USPTO-Patent-10773477.jpg" alt="Tesla USPTO Patent 10773477" srcset="https://www.evunite.com/wp-content/uploads/2020/09/Tesla-USPTO-Patent-10773477.jpg 591w, https://www.evunite.com/wp-content/uploads/2020/09/Tesla-USPTO-Patent-10773477-235x300.jpg 235w" layout="intrinsic"><amp-img fallback="" width="591" height="756" src="https://evunite.com/wp-content/plugins/accelerated-mobile-pages/images/SDdf-image.png" alt="Tesla USPTO Patent 10773477" srcset="https://evunite.com/wp-content/plugins/accelerated-mobile-pages/images/SDdf-image.png 591w, https://www.evunite.com/wp-content/uploads/2020/09/Tesla-USPTO-Patent-10773477-235x300.jpg 235w" layout="intrinsic"></amp-img></amp-img> <figcaption>Tesla USPTO Patent 10773477</figcaption> </figure> </p> </div> </div> </div> </div> </div> </div> </div> </section> <section data-id="6ae55e6e" data-element_type="section"> <div> <div> <div data-id="9b44c54" data-element_type="column"> <div> <div> <div data-id="4fada51d" data-element_type="widget" data-widget_type="text-editor.default"> <div> <p>As <a href="https://www.tesla.com/2020shareholdermeeting?#:~:text=2020%20Annual%20Meeting%20of%20Stockholders%20and%20Battery%20Day%20Tuesday%2C%20September,1%3A30%20PM%20Pacific%20Time." target="_blank" rel="noopener">Tesla Battery Day</a> (9/22/2020) quickly approaches Tesla owners, tech enthusiasts, TSLA shareholders, investors, and many others are eagerly waiting to see what Elon Musk will unveil on this highly anticipated day. </p> </div> </div> </div> </div> </div> </div> </div> </section> <section data-id="ead78f6" data-element_type="section">  </section> <section data-id="815ebe4" data-element_type="section">  </section> <section data-id="b8cdac3" data-element_type="section"> <div> <div> <div data-id="9d3c67f" data-element_type="column"> <div> <div> <div data-id="6378188" data-element_type="widget" data-widget_type="text-editor.default"> <div> <p>One of these “exciting things” may be directly tied to Tesla’s newly granted piece of IP that has been added to its ever-growing collection.</p> </div> </div> </div> </div> </div> </div> </div> </section> <section data-id="0dddc07" data-element_type="section">  </section> <section data-id="22a8552" data-element_type="section">  </section> <section data-id="23e7e10" data-element_type="section">  </section> <section data-id="654483b" data-element_type="section"> <div> <div> <div data-id="517444a" data-element_type="column"> <div> <div> <div data-id="579704c" data-element_type="widget" data-widget_type="text-editor.default"> <div> <p>The inventor behind the patent is Tesla’s Vice President of Cell and Product Development <a href="https://www.linkedin.com/in/wes-hermann-879b49132/" target="_blank" rel="noopener">Weston Arthur Hermann</a>. </p> </div> </div> </div> </div> </div> </div> </div> </section> <section data-id="20396a5" data-element_type="section"> <div> <div> <div data-id="be7bfcf" data-element_type="column"> <div> <div> <div data-id="65d687f" data-element_type="widget" data-widget_type="he.default"> <p> <h2>What is a Metal-Air Cell?</h2> </p> </div> </div> </div> </div> </div> </div> </section> <section data-id="b5fbb4c" data-element_type="section">  </section> <section data-id="53d61bb" data-element_type="section"> <div> <div> <div data-id="2ca13a4" data-element_type="column"> <div> <div> <div data-id="1f7746c" data-element_type="widget" data-widget_type="text-editor.default"> <div> <p>As stated on Wikipedia “A metal–air electrochemical cell is an electrochemical cell that uses an anode made from pure metal and an external cathode of ambient air, typically with an aqueous or aprotic electrolyte.”</p> </div> </div> </div> </div> </div> </div> </div> </section> <section data-id="ea4541c" data-element_type="section">  </section> <section data-id="be9780c" data-element_type="section"> <div> <div> <div data-id="1fd144c" data-element_type="column"> <div> <div> <div data-id="711187a" data-element_type="widget" data-widget_type="text-editor.default"> <div> <p>While this definition is technical jargon to most people, what is important are the benefits of a metal-air cell.</p> </div> </div> </div> </div> </div> </div> </div> </section> <section data-id="11fd00f" data-element_type="section"> <div> <div> <div data-id="4ca3188" data-element_type="column"> <div> <div> <div data-id="f00a0b5" data-element_type="widget" data-widget_type="text-editor.default"> <div> <p>Essentially the capacity and energy density of metal–air electrochemical cells is higher than that of lithium-ion batteries.</p> </div> </div> </div> </div> </div> </div> </div> </section> <section data-id="fd158a6" data-element_type="section"> <div> <div> <div data-id="aa6682d" data-element_type="column"> <div> <div> <div data-id="8d9ff5b" data-element_type="widget" data-widget_type="text-editor.default"> <div> <p>This makes them a prime candidate for use in electric vehicles as it extends the range of the vehicle while maintaining a low volumetric space requirement to store the cells onboard the vehicle. </p> </div> </div> </div> </div> </div> </div> </div> </section> <section data-id="e5dea4e" data-element_type="section">  </section> <section data-id="c53c097" data-element_type="section">  </section> <section data-id="b58b08f" data-element_type="section">  </section> <section data-id="75d70b2" data-element_type="section">  </section> <section data-id="57d2c50" data-element_type="section"> <div> <div> <div data-id="8a8ab76" data-element_type="column"> <div> <div> <div data-id="2c505be" data-element_type="widget" data-widget_type="text-editor.default"> <div> <p>As stated on Wikipedia “However, complications associated with the metal anodes, catalysts, and electrolytes have hindered development and implementation of metal–air batteries.”</p> </div> </div> </div> </div> </div> </div> </div> </section> <section data-id="c7e9948" data-element_type="section"> <div> <div> <div data-id="5b82949" data-element_type="column"> <div> <div> <div data-id="663bd3f" data-element_type="widget" data-widget_type="text-editor.default"> <div> <p>It turns out that metal-air cells are prone to <a href="https://en.wikipedia.org/wiki/Thermal_runaway?#:~:text=Thermal%20runaway%20occurs%20in%20situations,kind%20of%20uncontrolled%20positive%20feedback." target="_blank" rel="noopener">thermal runaway</a> (a fancy way to say that they can overheat and explode).</p> </div> </div> </div> </div> </div> </div> </div> </section> <section data-id="6c8043e" data-element_type="section"> <div> <div> <div data-id="a68a566" data-element_type="column"> <div> <div> <div data-id="302fd1f" data-element_type="widget" data-widget_type="text-editor.default"> <div> <p>And that is where Tesla’s patent comes into play!</p> </div> </div> </div> </div> </div> </div> </div> </section> <section data-id="e0233b2" data-element_type="section">  </section> <section data-id="56103cb" data-element_type="section">  </section> <section data-id="1df3a0f2" data-element_type="section">  </section> <section data-id="1f8034d" data-element_type="section">  </section> <section data-id="9c37402" data-element_type="section"> <div> <div> <div data-id="c8c831d" data-element_type="column"> <div> <div> <div data-id="0d8484b" data-element_type="widget" data-widget_type="text-editor.default"> <div> <p>Tesla’s patent establishes a method for safely mitigating the effects in the case of a thermal runaway scenario and as stated in the patent:</p> </div> </div> </div> </div> </div> </div> </div> </section> <section data-id="84a8d3e" data-element_type="section">  </section> <section data-id="565ce37" data-element_type="section"> <div> <div> <div data-id="4bfab7f" data-element_type="column"> <div> <div> <div data-id="a321c17" data-element_type="widget" data-widget_type="text-editor.default"> <div> <p> “…the risks to vehicle passengers, bystanders, first responders and property are limited.”</p> </div> </div> </div> </div> </div> </div> </div> </section> <section data-id="46574e0" data-element_type="section"> <div> <div> <div data-id="51cb81a" data-element_type="column"> <div> <div> <div data-id="cf9d77b" data-element_type="widget" data-widget_type="text-editor.default"> <div> <p>Tesla’s patent outlines a method which solves the underlying issue that has prevented others from pursuing metal-air battery cells.</p> </div> </div> </div> </div> </div> </div> </div> </section> <section data-id="54aa3a7" data-element_type="section"> <div> <div> <div data-id="6ad4cb3" data-element_type="column"> <div> <div> <div data-id="c5921df" data-element_type="widget" data-widget_type="text-editor.default"> <div> <p>In addition to solving the thermal runaway issue, the patent also outlines a method for combining BOTH metal-air battery cells AND lithium-ion battery cells to power a vehicle.</p> </div> </div> </div> </div> </div> </div> </div> </section> <section data-id="3058a6f" data-element_type="section"> <div> <div> <div data-id="8eb94a6" data-element_type="column"> <div> <div> <div data-id="f5d8069" data-element_type="widget" data-widget_type="text-editor.default"> <div> <p>This is shown in the block diagram below directly taken from the patent:</p> </div> </div> </div> </div> </div> </div> </div> </section> <section data-id="7896c65" data-element_type="section"> <div> <div> <div data-id="ea8ba93" data-element_type="column"> <div> <div> <div data-id="7fee31d" data-element_type="widget" data-widget_type="image.default"> <div> <p> <figure> <amp-img width="640" height="393" src="https://www.evunite.com/wp-content/uploads/2020/09/Tesla-Patent-Figure-Metal-Air-Battery-Pack-min.jpg" alt="Tesla Patent 10763477 Figure Metal Air and Lithium Ion Combined Battery Pack" srcset="https://www.evunite.com/wp-content/uploads/2020/09/Tesla-Patent-Figure-Metal-Air-Battery-Pack-min.jpg 660w, https://www.evunite.com/wp-content/uploads/2020/09/Tesla-Patent-Figure-Metal-Air-Battery-Pack-min-300x184.jpg 300w" layout="intrinsic"><amp-img fallback="" width="640" height="393" src="https://evunite.com/wp-content/plugins/accelerated-mobile-pages/images/SDdf-image.png" alt="Tesla Patent 10763477 Figure Metal Air and Lithium Ion Combined Battery Pack" srcset="https://evunite.com/wp-content/plugins/accelerated-mobile-pages/images/SDdf-image.png 660w, https://www.evunite.com/wp-content/uploads/2020/09/Tesla-Patent-Figure-Metal-Air-Battery-Pack-min-300x184.jpg 300w" layout="intrinsic"></amp-img></amp-img> <figcaption>Tesla Patent 10763477 Figure Metal Air and Lithium Ion Combined Battery Pack</figcaption> </figure> </p> </div> </div> </div> </div> </div> </div> </div> </section> <section data-id="97addee" data-element_type="section"> <div> <div> <div data-id="7139fb8" data-element_type="column"> <div> <div> <div data-id="dcab827" data-element_type="widget" data-widget_type="text-editor.default"> <div> <p>The Tesla patent outlines a method for distributing power from a combined metal-air and lithium-ion battery pack system to a drive train by use of a controller.</p> </div> </div> </div> </div> </div> </div> </div> </section> <section data-id="cc3247b" data-element_type="section"> <div> <div> <div data-id="59d163f" data-element_type="column"> <div> <div> <div data-id="431e43a" data-element_type="widget" data-widget_type="text-editor.default"> <div> <p>This hybrid style battery pack may allow Tesla to reap the benefits of both technologies and minimize risk. </p> </div> </div> </div> </div> </div> </div> </div> </section> <section data-id="45db4b44" data-element_type="section">  </section> <section data-id="bceb107" data-element_type="section">  </section> <section data-id="45e202a" data-element_type="section">  </section> <section data-id="932de69" data-element_type="section">  </section> <section data-id="5d140034" data-element_type="section"> <div> <div> <div data-id="6b2e852e" data-element_type="column"> <div> <div> <div data-id="71d64e9f" data-element_type="widget" data-widget_type="text-editor.default"> <div> <p>The reality is that we will all need to be patient and wait until Battery Day to find out what will be revealed. </p> </div> </div> </div> </div> </div> </div> </div> </section> <section data-id="1ec6523" data-element_type="section"> <div> <div> <div data-id="94b9f2f" data-element_type="column"> <div> <div> <div data-id="13b89f3" data-element_type="widget" data-widget_type="text-editor.default"> <div> <p>But connecting the dots, it is very possible that Tesla will announce the use of metal-air batteries in their future cars. </p> </div> </div> </div> </div> </div> </div> </div> </section> <section data-id="1d2b16a" data-element_type="section"> <div> <div> <div data-id="c345090" data-element_type="column"> <div> <div> <div data-id="6ca2a96" data-element_type="widget" data-widget_type="text-editor.default"> <div> <p>And even if this is NOT the announcement that will be made, it is still exciting to see Tesla patent potentially game changing technologies for future use. </p> </div> </div> </div> </div> </div> </div> </div> </section> <section data-id="4d433a9" data-element_type="section"> <div> <div> <div data-id="982b937" data-element_type="column"> <div> <div> <div data-id="47c4452" data-element_type="widget" data-widget_type="text-editor.default"> <div> <p>So what are your thoughts? Do you think Tesla will announce metal-air cell battery packs on Battery Day? Do you think this technology will be utilized in the future? </p> </div> </div> </div> </div> </div> </div> </div> </section> <section data-id="1b1398f" data-element_type="section"> <div> <div> <div data-id="3f71f60" data-element_type="column"> <div> <div> <div data-id="769ceca" data-element_type="widget" data-widget_type="text-editor.default"> <div> <p> Leave a comment below and join the conversation!</p> </div> </div> </div> </div> </div> </div> </div> </section> <section data-id="3244e94" data-element_type="section">  </section> <section data-id="ce72d76" data-element_type="section">  </section> <section data-id="13d7259" data-element_type="section">  </section> <section data-id="8f64605" data-element_type="section">  </section> <section data-id="73e08821" data-element_type="section">  </section> <section data-id="657d4234" data-element_type="section">  </section> <section data-id="1efcef52" data-element_type="section"> <div> <div> <div data-id="312f9929" data-element_type="column"> <div> <div>  <div data-id="2860ad26" data-element_type="widget" data-settings="{&quot;cards_columns&quot;:&quot;2&quot;,&quot;cards_columns_tablet&quot;:&quot;2&quot;,&quot;cards_columns_mobile&quot;:&quot;1&quot;,&quot;cards_row_gap&quot;:{&quot;unit&quot;:&quot;px&quot;,&quot;size&quot;:35,&quot;sizes&quot;:[]}}" data-widget_type="posts.cards"> <div> <div> <article>  </article> <article>  </article> <article>  </article> <article> <div> <a href="https://www.evunite.com/blog/tesla-owner-demographics/">  </a> <p>Tesla</p>  <div>  <h3> <a href="https://www.evunite.com/blog/tesla-owner-demographics/"> Tesla Owner Demographics: Age, Gender, Ethnicity, Income, Children </a> </h3> <p>The demographics of an average Tesla Owner in the United States. Including Age, Ethnicity, Gender, Income, Children, Home Ownership.</p> </div> <p><span> August 6, 2020 </span> <span> No Comments </span> </p> </div> </article> </div> </div> </div> </div> </div> </div> </div> </div> </section> <section data-id="4b1885e" data-element_type="section">  </section> <section data-id="7761e30c" data-element_type="section">  </section> <section data-id="532d0d3c" data-element_type="section">  </section> <section data-id="3deb64a" data-element_type="section">  </section> <section data-id="fdd5158" data-element_type="section">  </section> <section data-id="8c66bad" data-element_type="section">  </section> <section data-id="b50e447" data-element_type="section">  </section> </div> </div> </div> </div> </div> </div> </div> </div> </div></div>]]>
            </description>
            <link>https://www.evunite.com/blog/tesla-patent-metal-air-battery-granted-prior-to-2020-battery-day/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24489136</guid>
            <pubDate>Wed, 16 Sep 2020 02:58:47 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Xfce 4.16pre1 Released]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=24488984">thread link</a>) | @bsg75
<br/>
September 15, 2020 | https://andreldm.com/2020/09/12/xfce4.16pre1.html | <a href="https://web.archive.org/web/*/https://andreldm.com/2020/09/12/xfce4.16pre1.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <div>

  

  <article>
    <p>As <a href="https://wiki.xfce.org/releng/4.16/roadmap">scheduled</a> we have just released Xfce 4.16pre1 on August 27th (sorry for the long time to write a post about it) - the first development release leading up to Xfce 4.16. And it comes with a boatload of new features and improvements, so prepare yourselves.</p>

<h3 id="notable-changes">Notable Changes</h3>

<h4 id="general">General</h4>

<ul>
  <li>Dropping lots of code (Gtk2 support), improving maintainability</li>
  <li>
    <p>Adding new icons to all core components to extend Xfce’s visual identity (also: follow freedesktop.org rDNS icon naming standard)
<img src="https://andreldm.com/assets/img/xfce-4.16pre1/icons.png" alt="New icons"></p>
  </li>
  <li>
    <p>A revamped and improved “About Xfce” dialog that also holds general system details
<img src="https://andreldm.com/assets/img/xfce-4.16pre1/about.png" alt="About dialog"></p>
  </li>
  <li>
    <p>Switch to client-side decorations for settings dialogs
<img src="https://andreldm.com/assets/img/xfce-4.16pre1/csd.png" alt="CSD Settings"></p>
  </li>
  <li>Lots of bugfixes everywhere</li>
</ul>

<h4 id="settings">Settings</h4>

<ul>
  <li>
    <p>New “Default Applications” dialog: merge between “Mime Settings” and “Preferred Applications”
<img src="https://andreldm.com/assets/img/xfce-4.16pre1/mime-editor.png" alt="Mime editor"></p>
  </li>
  <li>
    <p>Display: Support for fractional scaling (with XRandR), better fallback in case of mis-configuration
<img src="https://andreldm.com/assets/img/xfce-4.16pre1/scale.png" alt="Display dialog"></p>
  </li>
  <li>
    <p>Settings Manager: Improved search/filter</p>
  </li>
</ul>

<h4 id="panel">Panel</h4>

<ul>
  <li>
    <p>New Plugin: “Status Tray” - a merger between the systray and the statusnotifier plugin, will make life for users much easier and less confusing, now supports the panel’s global “icon size” setting
<img src="https://andreldm.com/assets/img/xfce-4.16pre1/status-tray.png" alt="Status tray plugin"></p>
  </li>
  <li>
    <p>Autohide animation: Makes “autohide” more easily understandable (in the sense of: where did my panel just go?)
<img src="https://andreldm.com/assets/img/xfce-4.16pre1/autohide.gif" alt="Autohide animation" width="640px"></p>
  </li>
  <li>Launchers now show desktop file actions on right-click (e.g. “Open a New Private Window” for Firefox)</li>
  <li>
    <p>The Window list now supports “launching a new instance” of an application in the right-click menu
<img src="https://andreldm.com/assets/img/xfce-4.16pre1/launch-new-instance.png" alt="Launch new instance" height="240px"></p>
  </li>
  <li>The Workspace switcher can optionally show numbering for workspaces</li>
  <li>Dark mode for the panel (precondition: your theme has to support dark mode)</li>
</ul>

<h4 id="thunar">Thunar</h4>

<ul>
  <li>
    <p>Copying and moving can be paused
<img src="https://andreldm.com/assets/img/xfce-4.16pre1/thunar-pause.png" alt="Thunar transfer dialog"></p>
  </li>
  <li>Support for queued file transfer (configurable)</li>
  <li>Initial support to remember view settings per directory</li>
  <li>New versioning scheme</li>
</ul>

<h4 id="volman">Volman</h4>
<ul>
  <li>Removed PDA Tab</li>
  <li>New versioning scheme</li>
</ul>

<h4 id="xfwm4">Xfwm4</h4>
<ul>
  <li>Show alt-tab dialog only on the primary monitor (if one is set)</li>
</ul>

<h4 id="power-manager">Power Manager</h4>
<ul>
  <li>Cleaner settings dialog (battery and “on power” settings)</li>
  <li>Optional visual indicator in the panel when “Presentation mode” is enabled</li>
  <li>Automatically dismiss low-power notifications upon connecting of a charger</li>
</ul>

<h4 id="session">Session</h4>
<ul>
  <li>Improved gpg-agent support</li>
  <li>Smaller visual cleanups</li>
</ul>

<h4 id="appfinder">Appfinder</h4>
<ul>
  <li>Allow sorting apps by frecency (frequency and recency)</li>
</ul>

<h4 id="thumbnailing-service">Thumbnailing Service</h4>
<ul>
  <li>Support for excluding paths (in the tumbler.rc settings file)</li>
</ul>

<h4 id="xfconf-settings-service">Xfconf Settings Service</h4>
<ul>
  <li>Enable gsettings backend by default</li>
  <li>Bash auto-completion for xfconf-query</li>
  <li>Drop Perl bindings</li>
</ul>

<h3 id="where-can-you-get-it">Where can you get it?</h3>

<p>Besides manually compiling <a href="https://archive.xfce.org/xfce/4.16pre1/src/">tarballs</a>, it’s also possible to use <a href="https://github.com/schuellerf/xfce-test">xfce-test</a> (<code>ubuntu_20.04-xfce-4.16pre1</code> tag) to easily preview Xfce 4.16 without the risk of breaking your system.</p>

<p>Update: Arch Linux users more adventurous than usual can try <code>-devel</code> packages from AUR. Likewise, openSUSE users can install <a href="https://en.opensuse.org/Xfce_repositories">packages</a> built directly from git master. If you’re afraid to trash your system consider playing with a virtual machine first.</p>

<p>Please go ahead try this release if possible, we would be more happy to hear your impressions as well as get bug reports before the final release.</p>

<h3 id="whats-next">What’s next?</h3>

<p>We’re expecting to release Xfce 4.16pre2 at the end of this month and if necessary pre3 will be released in October. If everything goes as planned Xfce 4.16 should be released by November!</p>

  </article>

  
    

    
    
    
  

</div>

    </div></div>]]>
            </description>
            <link>https://andreldm.com/2020/09/12/xfce4.16pre1.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24488984</guid>
            <pubDate>Wed, 16 Sep 2020 02:32:16 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Last Week in AI – lowering wildfire risk, AI standards, and more]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24488837">thread link</a>) | @andreyk
<br/>
September 15, 2020 | https://www.skynettoday.com/digests/the-eighty-second | <a href="https://web.archive.org/web/*/https://www.skynettoday.com/digests/the-eighty-second">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>        
      
      
      <h4>AI for lowering wildfire risk, international clinical AI standards, and more!</h4>
      
      </div><div>
      <h3 id="mini-briefs">Mini Briefs</h3>

<h4 id="california-utilities-hope-drones-ai-will-lower-risk-of-future-wildfires"><a href="https://www.wsj.com/articles/california-utilities-hope-drones-ai-will-lower-risk-of-future-wildfires-11599816601">California Utilities Hope Drones, AI Will Lower Risk of Future Wildfires</a></h4>

<p>California’s latest wildfire season has brought about no dearth of apocalyptic photos, showcasing the orange world beyond residents’ doors. As California copes and fires spur evacuation orders in multiple west coast states, PG&amp;E Corp. and other major utility companies are investigating how AI might help. In particular, they are deploying drones and using computer vision to spot potential equipment issues to mitigate the risk of damaged gear starting fires. While AI and drones are not being used to manage or combat the current fires, the utilities say these technologies do help with the regular monitoring of their systems.</p>

<h4 id="ai-standards-launched-to-help-tackle-problem-of-overhyped-studies"><a href="https://www.theguardian.com/technology/2020/sep/09/ai-standards-launched-help-tackle-problem-overhyped-studies-artificial-intelligence">AI standards launched to help tackle problem of overhyped studies</a></h4>

<p>Overhyped AI studies risk not only misleading the public, but also actively harming people affected by the use of less-than-stellar AI systems. AI boasts the potential to revolutionize areas such as healthcare, but researchers have warned that there is an abundance of poor-quality research. Now, a new set of standards crafted by an international team of experts is being published in the BMJ, Nature Medicine, and Lancet Digital Health. The new standards provide a framework for designing, delivering, and reporting clinical trials in AI. Standardization for testing conditions and reporting, along with stringent criteria, will help ensure that AI systems are safe and effective for use in healthcare settings.</p>

<h3 id="podcast">Podcast</h3>

<p>Check out our weekly podcast covering these stories!
<a href="https://aitalk.podbean.com/">Website</a> |
<a href="https://feed.podbean.com/aitalk/feed.xml">RSS</a> |
<a href="https://podcasts.apple.com/us/podcast/lets-talk-ai/id1502782720">iTunes</a> |
<a href="https://open.spotify.com/show/17HiNdxcoKJLLNibIAyUch">Spotify</a> |
<a href="https://www.youtube.com/channel/UCKARTq-t5SPMzwtft8FWwnA">YouTube</a></p>


<h3 id="news">News</h3>
<h4 id="advances--business">Advances &amp; Business</h4>

<ul>
  <li>
    <p><a href="https://venturebeat.com/2020/09/05/how-adobe-is-using-an-ai-chatbot-to-support-its-22000-remote-workers/">How Adobe is using an AI chatbot to support its 22,000 remote workers</a> - When the COVID-19 shutdown began in March throughout the United States, my team at Adobe had to face a stark reality: Business as usual was no longer an option. Suddenly, over just a single weekend, we had to shift our global workforce of over 22,000 people to working remotely.</p>
  </li>
  <li>
    <p><a href="https://www.diagnosticimaging.com/view/ai-algorithm-removes-more-than-half-of-mammography-scans-from-radiologist-worklist">AI Algorithm Removes More than Half of Mammography Scans from Radiologist Worklist</a> - Radiologists who use a commercially available artificial intelligence (AI) cancer detection tool to divide mammograms into scans that need radiologist assessment and those that do not could drop their workload by more than 50 percent, according to a newly published study.</p>
  </li>
  <li>
    <p><a href="https://www.forbes.com/sites/alexanderlavin/2020/09/03/doing-the-hard-things-ai-space-and-climate-science/">Doing The Hard Things: AI, Space, and Climate Science</a> - With the near- and long-term value of advances in artificial intelligence and space exploration, along with the burning need for climate science and technologies, the stars are aligning for the re-birth of the tech innovation flywheel.</p>
  </li>
  <li>
    <p><a href="https://lukeoakdenrayner.wordpress.com/2020/09/06/the-medical-ai-floodgates-open-at-a-cost-of-1000-per-patient/">The medical AI floodgates open, at a cost of $1000 per patient.</a> - In surprising news this week, CMS (the Centres for Medicare &amp; Medicaid Services) in the USA approved the first reimbursement for AI augmented medical care.</p>
  </li>
  <li>
    <p><a href="https://www.c4isrnet.com/artificial-intelligence/2020/09/09/dod-to-pit-ai-vs-human-pilots-in-live-fighter-trials-by-2024/">Pentagon to pit AI against human pilots in live fighter trials</a> - U.S. Defense Secretary Mark Esper announced Wednesday that the Pentagon intends to conduct live trials pitting tactical aircraft controlled by artificial intelligence against human pilots in 2024.</p>
  </li>
  <li>
    <p><a href="https://www.globenewswire.com/news-release/2020/09/09/2091205/0/en/Resonance-AI-Chosen-as-a-TechCrunch-Top-Pick.html">Resonance AI Chosen as a TechCrunch Top Pick</a> - Resonance AI (formerly Transform) has created a platform that combines viewer performance data with the most advanced machine learning available, determining what in video content engages audiences.</p>
  </li>
  <li>
    <p><a href="https://www.wired.com/story/ai-ruined-chess-now-making-game-beautiful/">AI Ruined Chess. Now, It’s Making the Game Beautiful Again</a> - Chess has a reputation for cold logic, but Vladimir Kramnik loves the game for its beauty. Its a kind of creation, he says.</p>
  </li>
  <li>
    <p><a href="https://spectrum.ieee.org/automaton/at-work/education/supporting-black-scholars-in-robotics">Supporting Black Scholars in robotics</a> - A new reading list aims to address racial inequality in academic robotics by highlighting the work of Black researchers.</p>
  </li>
  <li>
    <p><a href="https://venturebeat.com/2020/09/10/microsofts-updated-deepspeed-can-train-trillion-parameter-ai-models-with-fewer-gpus/">Microsoft’s updated DeepSpeed can train trillion-parameter AI models with fewer GPUs</a> - Microsoft today released an updated version of its DeepSpeed library that introduces a new approach to training AI models containing trillions of parameters, the variables internal to the model that inform its predictions.</p>
  </li>
  <li>
    <p><a href="https://www.expresscomputer.in/artificial-intelligence-ai/artificial-intelligence-is-energy-hungry-how-new-hardware-could-curb-its-appetite/63463/">Artificial intelligence is energy-hungry; How new hardware could curb its appetite</a> - To just solve a puzzle or play a game, artificial intelligence can require software running on thousands of computers. That could be the energy that three nuclear plants produce in one hour.</p>
  </li>
  <li>
    <p><a href="https://www.wired.com/story/anduril-new-drone-inject-ai-warfare/">Anduril’s New Drone Offers to Inject More AI Into Warfare</a> - This spring, a team of small drones, each resembling a small, sensor-laden helicopter, scoured a lush stretch of wilderness near Irvine, California. They spent hours circling the sky, seeking, among other things, surface-to-air missile launchers lurking in the brush.</p>
  </li>
</ul>

<h4 id="concerns--hype">Concerns &amp; Hype</h4>

<ul>
  <li>
    <p><a href="https://www.consumerreports.org/autonomous-driving/tesla-full-self-driving-capability-review-falls-short-of-its-name/">Tesla’s ‘Full Self-Driving Capability’ Falls Short of Its Name</a> - The features might be cutting edge, even cool, but we think buyers should be wary of shelling out $8,000 for what electric car company Tesla calls its Full Self-Driving Capability option.</p>
  </li>
  <li>
    <p><a href="https://www.theguardian.com/commentisfree/2020/sep/08/robot-wrote-this-article-gpt-3">A robot wrote this entire article. Are you scared yet, human?</a> - We asked GPT-3, OpenAI’s powerful new language generator, to write an essay for us from scratch. The assignment? To convince us robots come in peace</p>
  </li>
  <li>
    <p><a href="https://thenextweb.com/neural/2020/09/08/the-guardians-gpt-3-generated-article-is-everything-wrong-with-ai-media-hype/">The Guardian’s GPT-3-generated article is everything wrong with AI media hype</a> - The Guardian today published an article purportedly written “entirely” by GPT-3, OpenAI’s vaunted language generator. But the small print reveals the claims aren’t all that they seem.</p>
  </li>
  <li>
    <p><a href="https://www.vox.com/future-perfect/2020/9/9/21418390/robots-pandemic-loneliness-isolation-elderly-seniors">You can get a robot to keep your lonely grandparents company. Should you?</a> - The ethical costs and benefits of a companion robot — during the pandemic and beyond.</p>
  </li>
  <li>
    <p><a href="https://thenextweb.com/neural/2020/09/10/a-beginners-guide-to-ai-separating-the-hype-from-the-reality/">A beginner’s guide to AI: Separating the hype from the reality</a> - An advanced artificial intelligence created by OpenAI, a company founded by genius billionaire Elon Musk, recently penned an op-ed for The Guardian that was so convincingly human many readers were astounded and frightened. And, ew. Just writing that sentence made me feel like a terrible journalist.</p>
  </li>
</ul>

<h4 id="analysis--policy">Analysis &amp; Policy</h4>

<ul>
  <li>
    <p><a href="https://www.engadget.com/portland-facial-recognition-ban-035952590.html">Portland officials pass strict ban on facial recognition systems</a> - Portland, Oregon officials have passed what could be the strictest municipal ban on facial recognition in the country.</p>
  </li>
  <li>
    <p><a href="https://www.reuters.com/article/us-ibm-facial-recognition-exports-idUSKBN2621PV">IBM says U.S. should adopt new export controls on facial recognition systems</a> - IBM Corp IBM.N said on Friday the U.S. Commerce Department should adopt new controls to limit the export of facial recognition systems to repressive regimes that can be used to commit human rights violations.</p>
  </li>
</ul>

<hr>

<p>That’s all for this week! If you are not subscribed and liked this, feel free to subscribe below!</p>

    </div></div>]]>
            </description>
            <link>https://www.skynettoday.com/digests/the-eighty-second</link>
            <guid isPermaLink="false">hacker-news-small-sites-24488837</guid>
            <pubDate>Wed, 16 Sep 2020 02:02:37 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Go’s Major Versioning Sucks – From a Fanboy]]>
            </title>
            <description>
<![CDATA[
Score 165 | Comments 160 (<a href="https://news.ycombinator.com/item?id=24488745">thread link</a>) | @lanecwagner
<br/>
September 15, 2020 | https://qvault.io/2020/09/15/gos-major-version-handling-sucks-from-a-fanboy/ | <a href="https://web.archive.org/web/*/https://qvault.io/2020/09/15/gos-major-version-handling-sucks-from-a-fanboy/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="text">
			
<p>I’m normally a fan of the rigidity within the Go toolchain. In fact, we use Go on the <a href="https://app.qvault.io/dashboard/courses">front and backend at Qvault</a>. It’s wonderful to have standardized formatting, vetting, and testing across the entire language. The first real criticism I’ve had is with the way Go modules handle major versions. It’s over-the-top opinionated and slows down development in a significant number of scenarios.</p>



<h2>Refresher on “Go Mod”</h2>



<p>Go modules, and the associated commands <code>go mod</code> and <code>go get</code> can be thought of as Go’s equivalents to NPM and Yarn. The Go toolchain provides a way to manage dependencies and lock the versions that a collection of code depends on.</p>



<p>One of the most common operations is to update a dependency in an existing module. For example:</p>



<pre><code lang="bash"># update all dependencies
go get -u ./...

# add missing and remove unused dependencies
go mod tidy

# save all dependency code in the project's "vendor" folder
go mod vendor</code></pre>



<h2>Semantic Versioning</h2>



<p>Go modules use git tags and semantic versioning to keep track of the versions of dependencies that are compatible with the module in question. Semantic versioning is a way to format version numbers and it looks like this: <code>v{MAJOR}.{MINOR}.{PATCH}</code>. For example, <code>v1.2.3</code>.</p>



<p>Each number is to be incremented according to the following standards:</p>



<pre><code lang="bash">MAJOR version when you make incompatible API changes,
MINOR version when you add functionality in a backwards compatible manner, and
PATCH version when you make backwards compatible bug fixes.</code></pre>



<h2>Package-Side Problems</h2>



<p>Go has decided that all versions beyond <code>v0</code> and <code>v1</code> are required to use the major version in the module path. There are two ways to accomplish this. </p>



<p><strong>The first and recommended way</strong> is laid out in an example on the <a rel="noreferrer noopener" href="https://blog.golang.org/v2-go-modules#TOC_4." target="_blank">Go Blog</a>:</p>



<blockquote><p>To start development on&nbsp;<code>v2</code>&nbsp;of&nbsp;<code>github.com/googleapis/gax-go</code>, we’ll create a new&nbsp;<code>v2/</code>&nbsp;directory and copy our package into it.</p></blockquote>



<p>In other words, for every major version, we are encouraged to maintain a new copy of the entire codebase. This is also the only way to do it if you want pre-modules users to be able to use your package.</p>



<p><strong>The second way</strong> is to just change the name of your module in <code>go.mod</code>. Fore example, <code>module github.com/lane-c-wagner/go-tinydate</code> would become <code>module github.com/lane-c-wagner/go-tinydate/v2</code>. Besides this not working for older versions of Go, I also find it problematic because it breaks (in my mind) one of the most useful things about module names – they reflect the file path.</p>



<h2>Package-Side Solutions</h2>



<p>Allow package maintainers to specify the major version simply by updating git tags, no module name changes required. There is no need for two sources of truth.</p>



<p>We can enforce safe updating by adding warnings or prompts to the <code>go get</code> CLI. We don’t have to add unnecessary time-consuming policies.</p>



<h2>Client-Side Problems</h2>



<p>When new versions of dependencies are released we have a simple command to get the newest stuff: <code>go get -u</code>. The problem is that this command has no way to automatically update to a new major version. It will only download new minor changes and patches. There isn’t even a console message to inform you that a new major version exists!</p>



<p>That said, the reason for not auto-updating is clear, and to be fair, well-founded:</p>



<blockquote><p>If an old package and a new package have the same import path, the new package must be backwards compatible with the old package.</p><cite><a href="https://research.swtch.com/vgo-import" rel="noopener">Import compatibility rule</a></cite></blockquote>



<p>In other words, we should only increment major versions when making breaking changes, and if breaking changes are made they can’t have the same import path. While this makes sense, I think a simple console warning would have been a better solution than forcing a cumbersome updating strategy on the community.</p>



<p><strong>Another problem </strong>on the client-side is that we don’t only need to update <code>go.mod</code>, but we actually need to <code>grep</code> through our codebase and change each import statement to point to the new major version:</p>



<blockquote><p>Users who wanted to use&nbsp;<code>v2</code>&nbsp;had to change their package imports and module requirements to&nbsp;<code>github.com/googleapis/gax-go/v2</code>.</p></blockquote>



<p>Instead of a few simple CLI commands to get the latest dependencies, we’re making changes to the code itself.</p>



<h3>A Caveat – Diamond Imports</h3>



<p>Using different paths for different major versions makes more sense in situations where we may require two different versions of the same package, you know, <a aria-label="diamond imports (opens in a new tab)" href="https://research.swtch.com/vgo-import#dependency_story" target="_blank" rel="noreferrer noopener nofollow">diamond imports</a> and all that. This is the exception, not the rule, and it seems strange to tap dance around a problem that doesn’t exist in most codebases.</p>



<h2>Client-Side Solution</h2>



<p><code>go get -u</code> should have an additional command line flag to update major versions, and should default to showing a warning that there is a newer major version you don’t have yet.</p>



<p><em>Default</em> import paths should not change between major versions. If a module requires various versions, those <em>extra</em> versions could be flagged by having a different path.</p>



<h2>Why This Sucks For Me</h2>



<p>It is often the case that I want to build a package that has domain-specific logic and will only be used only in services at the small company I work for. For example, we have a repo that holds the <code>struct{}</code> definitions for common entities used across our system.</p>



<p>Occasionally we need to make backward-incompatible changes to those struct definitions. If it were an open-source library we wouldn’t make changes so often, but because it’s internal and we are aware of all the dependencies, we change the names of exported fields <em>regularly</em>. We aren’t changing names because we chose bad ones to begin with, we are usually changing names because requirements from the business change rapidly in a startup. </p>



<p>This means major version changes are a fairly regular occurrence. Some say that we should just stay on <code>v0</code>, and that’s a reasonable solution. The problem is these ARE production packages that are being used by a wide number of services. We WANT to Semver.</p>



<p>Go makes updating major versions so cumbersome that in the majority of cases, we have opted to just increment minor versions when we should increment major versions. We want to follow the proper versioning scheme, we just don’t want to add the unnecessary steps to our dev process.</p>



<h2>Hey – I Get It</h2>



<p>I understand why these decisions were made – and I even think in a lot of cases they were great decisions. For any open-source or public facing module this makes great sense. The Go toolchain is enforcing strict rules that encourage good API design.</p>



<p>In their effort to make public APIs great, they made it unnecessarily hard to have good “local” package design.</p>



<p>There is an <a href="https://github.com/golang/go/issues/40323" rel="noopener">open issue on Github</a> that would make new major versions more discoverable from the CLI. Take a look at that if you are interested.</p>



<p>Go still has the best toolchain and ecosystem. NPM and PIP can suck it.</p>



<p>If you disagree, @ me on Twitter.</p>







<h2>Related Reading</h2>



<ul><li><a href="https://qvault.io/2020/08/15/optimize-for-simplicity-first/">Optimize for Simplicity First</a></li><li><a href="https://qvault.io/2019/10/21/golang-constant-maps-slices/">Constant Maps and Slices in Go</a></li><li><a href="https://qvault.io/2020/08/07/saving-a-third-of-our-memory-by-re-ordering-go-struct-fields/">Saving Memory by Re-ordering Go Structs</a></li></ul>
		</div></div>]]>
            </description>
            <link>https://qvault.io/2020/09/15/gos-major-version-handling-sucks-from-a-fanboy/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24488745</guid>
            <pubDate>Wed, 16 Sep 2020 01:42:40 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Optimizing PGX Allocations in Golang with Pprof]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=24488684">thread link</a>) | @ldelossa
<br/>
September 15, 2020 | https://www.ldelossa.is/blog/allocation_optimization_in_go | <a href="https://web.archive.org/web/*/https://www.ldelossa.is/blog/allocation_optimization_in_go">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div> <div><article> <p>Performance tuning is one of those programming rituals that gets oddly addicting. Seems like humans have a fundamental impulse to make a graph plot in their desired direction. This can be seen in a wide assortment of fields. Day traders watch metrics focused on their net earnings, nutritionists keep their calorie counts logged, and programmers focusing on performance obsess over memory allocations.</p> <p>After spending sometime obessing myself I found myself making large allocation improvements with some tricks in the popular <a href="https://github.com/jackc/pgx">PGX</a> library.</p> <p>I'd like to shout out <em>Kale Blanekship</em> and <em>Eric Chlebek</em> from the performance channel in #gophers slack. They provided the clues used in this post.</p> <h2>The code</h2> <p>The code that's being profiled is a new distributed lock implementation for <a href="https://github.com/quay/claircore/">ClairCore</a>. Postgres is the only required infrastructure for ClairCore by design. While it's not the best mechanim for a distributed lock, <a href="https://www.postgresql.org/docs/9.1/explicit-locking.html">postgres advisory locks</a> can be utilized to get <em>mostly</em> there.</p> <p>You can view the distlock implementation <a href="https://github.com/ldelossa/distlock">here</a></p> <h2>Reducing channel allocations</h2> <p>Our distlock implementation utilizes the request/response channel-of-channel pattern. A request object with a response channel is pushed onto a request channel. When the receiver gets the request it writes to the response channel, unblocking any client listening.</p> <p>This pattern is useful but will also alloc a lot of channels resulting in bloating the heap.</p> <p>To demonstrate this a benchmark will be taken that profiles lock acquisition and lock return.</p> <pre><code><span>$</span><span> go <span>test</span> -benchtime <span>"1m"</span>  -run xxx -bench . -memprofile memprofile.out -cpuprofile cpuprofile.out</span>
</code></pre> <p>The command above runs a 1 minute benchmark profiling both memory and cpu.</p> <p>Next lets start an interactive pprof session over the memory profile and drill into the function where the channel allocations are occuring.</p> <pre><code><span>$</span><span> go tool pprof distlock.test memprofile.out</span>

(pprof) list \.Lock
Total: 194.36MB
ROUTINE ======================== github.com/ldelossa/distlock.(*Manager).Lock in /home/louis/git/go/distlock/manager.go
      20MB       20MB (flat, cum) 10.29% of Total
         .          .     78:	}
         .          .     79:
         .          .     80:	req := request{
         .          .     81:		t:        Lock,
         .          .     82:		key:      key,
   13.50MB    13.50MB     83:		respChan: make(chan response),
         .          .     84:	}
         .          .     85:
         .          .     86:	// guaranteed to return
         .          .     87:	resp := m.g.request(req)
         .          .     88:
         .          .     89:	if !resp.ok {
         .          .     90:		return resp.ctx, func() {}
         .          .     91:	}
         .          .     92:
         .          .     93:	m.propagateCancel(ctx, resp.ctx, key)
         .          .     94:
    6.50MB     6.50MB     95:	return resp.ctx, func() {
         .          .     96:		m.unlock(key)
         .          .     97:	}
         .          .     98:}
         .          .     99:
         .          .    100:func (m *Manager) propagateCancel(parent context.Context, child context.Context, key string) {
</code></pre> <p>Above illustrates 13.50MB of heap memory is spent on allocating request objects and their response channels.</p> <p>We can introduce an object pool to promote the reuse of these channels.</p> <pre><code><span>type</span> reqPool <span>struct</span> {
	c <span>chan</span> request
}

<span><span>func</span> <span>NewReqPool</span><span>(seed <span>int</span>)</span> *<span>reqPool</span></span> {
	c := <span>make</span>(<span>chan</span> request, seed*<span>2</span>)
	<span>for</span> i := <span>0</span>; i &lt; seed; i++ {
		r := request{respChan: <span>make</span>(<span>chan</span> response)}
		<span>select</span> {
		<span>case</span> c &lt;- r:
		<span>default</span>:

		}
	}
	<span>return</span> &amp;reqPool{c}
}

<span><span>func</span> <span>(p *reqPool)</span> <span>Get</span><span>()</span> <span>request</span></span> {
	<span>select</span> {
	<span>case</span> r := &lt;-p.c:
		<span>return</span> r
	<span>default</span>:
		<span>return</span> request{respChan: <span>make</span>(<span>chan</span> response)}
	}
}

<span><span>func</span> <span>(p *reqPool)</span> <span>Put</span><span>(r request)</span></span> {
	<span>select</span> {
	<span>case</span> &lt;-r.respChan:
	<span>default</span>:
	}
	r.key = <span>""</span>
	r.t = Invalid
	<span>select</span> {
	<span>case</span> p.c &lt;- r:
	}
}
</code></pre> <p>The above illustrates a simple channel implemented pool. The first implementation was a sync.Pool. After further profiling however implementing our own proved to be easier on the heap.</p> <p>After plumbing the requst pool into the rest of the code pprof reports a much nicer result.</p> <pre><code>(pprof) list \.Lock
Total: 80.06MB
ROUTINE ======================== github.com/ldelossa/distlock.(*Manager).Lock in /home/louis/git/go/distlock/manager.go
       1MB        1MB (flat, cum)  1.25% of Total
         .          .     89:		return resp.ctx, func() {}
         .          .     90:	}
         .          .     91:
         .          .     92:	m.propagateCancel(ctx, resp.ctx, key)
         .          .     93:
       1MB        1MB     94:	return resp.ctx, func() {
         .          .     95:		m.unlock(key)
         .          .     96:	}
         .          .     97:}
         .          .     98:
         .          .     99:func (m *Manager) propagateCancel(parent context.Context, child context.Context, key string) {

</code></pre> <h2>A PGX Trick</h2> <p>Removing the cost of the response-request model was a good win but there is still more to tune.</p> <p>Lets generate a graph of our call stack and associated allocations.</p> <pre><code>❯ go tool pprof -svg distlock.test memprofile.out
</code></pre> <p><img alt="photo of high PGX allocations" src="https://www.ldelossa.is/profile001.png"></p> <p>The above diagram is showing a large amount of allocations in PGX's getRows method. Its not rare for methods dealing with serialization to and from the database to allocate heavily. But it would be nice if we could eliminate this.</p> <p>Getting a session pg advisory lock typically looks like this.</p> <pre><code>SELECT pg_try_advisory_lock($1);
SELECT pg_advisory_unlock($1);
</code></pre> <p>Both lock functions return a table expression resulting in a true or a false.</p> <p>An optimization we can make is changing these queries to only return a row if the lock function returns true. Our application logic can then simply check whether any rows are returned and not read the contents.</p> <p>First lets fix our queries.</p> <pre><code>SELECT lock FROM pg_try_advisory_lock($1) lock WHERE lock = true;
SELECT lock FROM pg_advisory_unlock($1) lock WHERE lock = true;
</code></pre> <p>A slight modification allows us to only return rows if the lock function returns true.</p> <p>The next step is to short circuit the PGX library from reading the rows. This took a bit of library spelunking but I eventually discovered this...</p> <pre><code>rr := m.conn.PgConn().ExecParams(ctx,
    trySessionUnlock,
    [][]<span>byte</span>{
        keyify(key),
    },
    <span>nil</span>,
    []<span>int16</span>{<span>1</span>},
    <span>nil</span>)
tag, err := rr.Close()
<span>if</span> err != <span>nil</span> {
    <span>return</span> response{<span>false</span>, <span>nil</span>, err}
}
<span>if</span> tag.RowsAffected() == <span>0</span> {
    <span>return</span> response{<span>false</span>, <span>nil</span>, fmt.Errorf(<span>"unlock of key %s returned false"</span>, key)}
}
</code></pre> <p>By using the lower level PgConn object we can exec our queries, get a response writer, and immediately close it to obtain the command tag. The command tag tells us if any rows were affected by the exec. This effectively tells us whether the lock was obtained or not in a somewhat indirect way.</p> <p>Let's take a new 1 minute memory profile to see how this effects our heap.</p> <p><img alt="photo of high PGX allocations" src="https://www.ldelossa.is/profile002.png"></p> <p>Notice the large improvement achieved.</p> <p>We can also compare the benchmark output.</p> <pre><code>85149            890605 ns/op            1288 B/op         21 allocs/op
</code></pre> <p>Where PGX was reading the rows.</p> <pre><code>58051           1238353 ns/op             517 B/op         11 allocs/op
</code></pre> <p>By eliminating the reading of rows we perform many more cycles and cut our allocation in roughly half.</p> <h2>Disclaimer on optimization</h2> <p>Is it worth to dig this deep into your allocations? Depends. If you know the code you are writing will be in the "hot-path" its empowering to know what your allocation profile looks like. Learning the skills to performance tune is addicting and powerful but writing code that can be read and easily maintained should always be the first goal. That being said I do think every engineer should go down the rabbit hole at least once. Its a lot of fun.</p> </article></div></div></div>]]>
            </description>
            <link>https://www.ldelossa.is/blog/allocation_optimization_in_go</link>
            <guid isPermaLink="false">hacker-news-small-sites-24488684</guid>
            <pubDate>Wed, 16 Sep 2020 01:33:37 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Word Problems in Russia and America (Swedish Mathematical Society Meeting) [pdf]]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24488673">thread link</a>) | @mindcrime
<br/>
September 15, 2020 | http://www.de.ufpe.br/%7Etoom/travel/sweden05/WP-SWEDEN-NEW.pdf | <a href="https://web.archive.org/web/*/http://www.de.ufpe.br/%7Etoom/travel/sweden05/WP-SWEDEN-NEW.pdf">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>http://www.de.ufpe.br/%7Etoom/travel/sweden05/WP-SWEDEN-NEW.pdf</link>
            <guid isPermaLink="false">hacker-news-small-sites-24488673</guid>
            <pubDate>Wed, 16 Sep 2020 01:32:27 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Linux Kernel Overlapping Internet Fragment Bug]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24488576">thread link</a>) | @todsacerdoti
<br/>
September 15, 2020 | https://metin.nextc.org/posts/Linux_Kernel_Overlapping_Internet_Fragment_Bug.html | <a href="https://web.archive.org/web/*/https://metin.nextc.org/posts/Linux_Kernel_Overlapping_Internet_Fragment_Bug.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
          <p>Some Linux kernel versions had a bug in their ip fragmentation module which caused system crash during handling of a malformed ip fragment back in 1997.</p>

<h2>What's an Ip Fragment</h2>
<p>
The "Internet Protocol" allows packets larger than the maximum transmission unit to be sent as smaller fragments. If an internet packet is fragmented; it uses 
"More Fragments" flag to indicate further coming fragments, "Fragment Offset" field to indicate fragments position and "IP Identifier" field to group fragments.
</p>
<p>The procedure for handling this in Linux kernel 2.1 is fairly simple. When the ip stack encounters with a packet with "More Fragments" flag, it keeps the packet in a hashmap 
until all fragments are received. Later, the ip stack tries to order packets since packets can arrive without order. After ordering, fragments are glued by their offset into 
a single packet for the further steps.
</p>
<figure>
    <table><colgroup span="2" width="135"></colgroup> <colgroup width="29"></colgroup> <colgroup span="2" width="106"></colgroup> <colgroup width="29"></colgroup>
    <tbody>
    <tr>
    <td colspan="2">IP Fragment</td>
    <td colspan="4">IP Fragment</td>
    </tr>
    <tr>
    <td colspan="2">0</td>
    <td>128</td>
    <td colspan="2">&nbsp;</td>
    <td>256</td>
    </tr>
    </tbody>
    </table>
    <figcaption>A normal fragmented ip packet.</figcaption>
</figure>
<p>
An example fragmented ip packet ready to glue is seen on the figure. The first fragment starts at offset 0 and finishes at offset 128 which the following fragment starts at. If there were a space 
caused by a lost fragment, then the kernel would wait for packet around 30 seconds before discarding all related fragments. But assuming the second fragment has its "More Fragments" flag unset, 
this fragment is ready for gluing into a single packet.
</p>
<h2>Packet Overlapping</h2>
<p>
So now, we know what happens if we make a gap between fragments. But what if we reduce the offset of the second fragment so it overlaps with the first one? 
<a href="https://tools.ietf.org/html/rfc791#page-28">RFC791</a>, the Internet Protocol describes an example defragmentation algorithm that allows overlapping so a newer fragment can 
overwrite previous fragments which linux just skipped overwriting part. So nothing spectacular happens on linux.
</p>
<figure>
    <table><colgroup width="135"></colgroup> <colgroup span="2" width="67"></colgroup> <colgroup width="27"></colgroup>
        <tbody>
        <tr>
        <td colspan="3">IP Fragment</td>
        <td>&nbsp;</td>
        </tr>
        <tr>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        </tr>
        <tr>
        <td>&nbsp;</td>
        <td><span>IP Fragment</span></td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        </tr>
        <tr>
        <td>0</td>
        <td>64</td>
        <td>96</td>
        <td>128</td>
        </tr>
        <tr>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        </tr>
        <tr>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>len</td>
        <td>&nbsp;</td>
        </tr>
        </tbody>
    </table>
    <figcaption>A packet inside another packet</figcaption>
</figure>

<p>Problems start to arise when we <i>"set the fragment offset to be inside of the previous packet's payload (it overlaps inside the previous packet) but do not include 
enough payload to cover complete the datagram".</i><sup>[quoted from teardrop.c inline comments]</sup></p>
<h2>The Bug</h2>
<p>As you might start to guess, the linux kernel calculated the length of a fragment by substracting the end of the first fragment from end of the second fragment so it skips the overwriting 
previous fragment and writes only the non-overlapping part - what's new from a fragment. This length calculation led to calculation of negative sizes for the fragments that overlap but 
finish earlier than the previous fragment.
</p>
<figure>
<pre>kernel2.1.62:ip_fragment.c@114
/* Fill in the structure. */
fp-&gt;offset = offset;
fp-&gt;end = end;
fp-&gt;len = end - offset;</pre>
<figcaption>In this context; the "end" variable is the end of the second packet, "offset" is the end of the first packet.</figcaption>
</figure>

<p>Let the length be calculated as negative, the gluing part which uses the length requires an unsigned type which a small negative value represented as a very high number. What gluing does? Let's see:</p>

<figure>
<pre>kernel2.1.62:ip_fragment.c@339
/* Copy the data portions of all fragments into the new buffer. */
fp = qp-&gt;fragments;
while(fp) {
    if(count+fp-&gt;len &gt; skb-&gt;len) {
        NETDEBUG(printk(KERN_ERR "Invalid fragment list: "
                "Fragment over size.\n"));
        ip_free(qp);
        kfree_skb(skb,FREE_WRITE);
        ip_statistics.IpReasmFails++;
        return NULL;
    }
    memcpy((ptr + fp-&gt;offset), fp-&gt;ptr, fp-&gt;len);
    if (!count) {
        skb-&gt;dst = dst_clone(fp-&gt;skb-&gt;dst);
        skb-&gt;dev = fp-&gt;skb-&gt;dev;
    }
    count += fp-&gt;len;
    fp = fp-&gt;next;
}</pre>
<figcaption>The part in ip_glue function that actually glues fragments into a new buffer.</figcaption>
</figure>
<p>The <code>memcpy</code> part evaluates the len as a very big number and starts to write huge amounts of data into the offsetted address. A hotfix released for this in version 2.1.63, 
checking if the len variable is greater than zero before passing it to <code>memcpy</code>.</p>
<h3>The Fix</h3>
<figure>
<pre>kernel2.1.63:ip_fragment.c@340
	/* Copy the data portions of all fragments into the new buffer. */
	fp = qp-&gt;fragments;
	while(fp) {
		if (fp-&gt;len &lt; 0 || count+fp-&gt;len &gt; skb-&gt;len) {
</pre>
<figcaption>The hotfix dropped fragments with negative len.</figcaption>
</figure>
<h3>The Comeback</h3>
<p>The story doesn't end here. The hotfix checked for a negative value but what about a packet with a length 0? Almost two years later, in march 1999, the check for zero length packets added as following:</p>
<figure>
<pre>kernel2.2.6:ip_fragment.c@361
	/* Copy the data portions of all fragments into the new buffer. */
	fp = qp-&gt;fragments;
	count = qp-&gt;ihlen;
	while(fp) {
		if ((fp-&gt;len &lt;= 0) || ((count + fp-&gt;len) &gt; skb-&gt;len))
</pre>
<figcaption>It's now dropping negative and zero length fragments.</figcaption>
</figure>
<p>A set of similar ip fragmentation vulnerabilities including these ones called "Teardrop Attack" and was used for a while to crash computers and cause denial of service.</p>

<p><i>References:</i></p><ul>
    <li><a href="https://twitter.com/engur/">@engur</a></li>
    <li><a href="https://tools.ietf.org/html/rfc791">RFC 791 - Internet Protocol</a></li>
    <li><a href="https://tools.ietf.org/html/rfc1858">RFC 1858 - Security Considerations for IP Fragment Filtering</a></li>
    <li><a href="https://mirrors.edge.kernel.org/pub/linux/kernel/">Kernel Source Code</a></li>
</ul>
        
      </div></div>]]>
            </description>
            <link>https://metin.nextc.org/posts/Linux_Kernel_Overlapping_Internet_Fragment_Bug.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24488576</guid>
            <pubDate>Wed, 16 Sep 2020 01:14:15 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Mata by Saffron launched on Product Hunt today]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=24488529">thread link</a>) | @sashaseifollahi
<br/>
September 15, 2020 | https://saffron.vc/producthunt | <a href="https://web.archive.org/web/*/https://saffron.vc/producthunt">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
                <div>
<div>
    	<div>
        					<div>
				<div>
							<div data-elementor-type="wp-page" data-elementor-id="11367" data-elementor-settings="[]">
						<div>
							<div>
							<section data-id="1fe78af" data-element_type="section">
						<div>
							<div>
					<div data-id="c5b7f26" data-element_type="column">
			<div>
							<div>
						<div data-id="78e7cb4" data-element_type="widget" data-widget_type="heading.default">
				<p>
			<h2>Launch your ideas <u><i>faster</i></u>. Period.</h2>		</p>
				</div>
				<section data-id="476b41f" data-element_type="section" data-settings="{&quot;background_background&quot;:&quot;classic&quot;,&quot;animation&quot;:&quot;pulse&quot;,&quot;animation_delay&quot;:30}">
						<div>
							<div>
					<div data-id="12481c5" data-element_type="column">
			<div>
							<div>
						
				
				<div data-id="4615d39" data-element_type="widget" data-widget_type="html.default">
				<p><a href="https://www.producthunt.com/posts/mata-2?utm_source=badge-featured&amp;utm_medium=badge&amp;utm_souce=badge-mata-2" target="_blank" rel="noopener"><img src="https://api.producthunt.com/widgets/embed-image/v1/featured.svg?post_id=254807&amp;theme=light" alt="mata - A startup suite for emerging entrepreneurs | Product Hunt Embed"></a>		</p>
				</div>
				<div data-id="e1e80eb" data-element_type="widget" data-widget_type="html.default">
				<p><a href="https://www.producthunt.com/posts/mata-2?utm_source=badge-featured&amp;utm_medium=badge&amp;utm_souce=badge-mata-2" target="_blank" rel="noopener"><img src="https://api.producthunt.com/widgets/embed-image/v1/featured.svg?post_id=254807&amp;theme=light" alt="mata - A startup suite for emerging entrepreneurs | Product Hunt Embed"></a>		</p>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<div data-id="77010f3" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<p><iframe src="https://www.youtube.com/embed/IUyO3a9Oa8s" width="560" height="315" frameborder="0" allowfullscreen="allowfullscreen"></iframe></p>
				</div>
				</div>
						</div>
					</div>
		</div>
				<div data-id="74daec2" data-element_type="column">
			<div>
							<div>
						<div data-id="eb787bd" data-element_type="widget" data-settings="{&quot;_animation&quot;:&quot;fadeInRight&quot;,&quot;_animation_delay&quot;:5}" data-widget_type="image.default">
				<div>
					<p><a href="https://www.youtube.com/watch?v=D18aQknb8Pg">
							<img width="764" height="1024" src="https://saffron.b-cdn.net/wp-content/uploads/2020/06/Screenshot-2020-06-25-at-01.27.26-1.png" alt="" loading="lazy" srcset="https://saffron.b-cdn.net/wp-content/uploads/2020/06/Screenshot-2020-06-25-at-01.27.26-1.png 764w, https://saffron.b-cdn.net/wp-content/uploads/2020/06/Screenshot-2020-06-25-at-01.27.26-1-224x300.png 224w, https://saffron.b-cdn.net/wp-content/uploads/2020/06/Screenshot-2020-06-25-at-01.27.26-1-600x804.png 600w" sizes="(max-width: 764px) 100vw, 764px">								</a>
											</p>
				</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section data-id="e3eff9c" data-element_type="section">
						<div>
							<div>
					<div data-id="507c111" data-element_type="column">
			<div>
							<div>
						<div data-id="90d5ea4" data-element_type="widget" data-widget_type="heading.default">
				<p>
			<h2>Launching an app shouldn't be rocket science</h2>		</p>
				</div>
				<div data-id="4ae7e91" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<div><p><span><em>mata by Saffron</em><br></span></p><p>A platform with services to build your company.</p></div>
				</div>
				</div>
				
				<section data-id="6608698" data-element_type="section">
						<div>
							<div>
					<div data-id="87145a1" data-element_type="column" data-settings="{&quot;background_background&quot;:&quot;classic&quot;,&quot;animation&quot;:&quot;fadeInUp&quot;,&quot;animation_delay&quot;:100}">
			<div>
							<div>
						<div data-id="f182e02" data-element_type="widget" data-widget_type="eael-info-box.default">
				<div>
			                    <div>
                    <p><img src="https://saffron.b-cdn.net/wp-content/uploads/2020/02/working-with-team-revisi.png" alt="">
            
            
            
        </p>
            
    </div>		</div>
				</div>
						</div>
					</div>
		</div>
				<div data-id="a9b577b" data-element_type="column" data-settings="{&quot;animation&quot;:&quot;fadeInUp&quot;,&quot;animation_delay&quot;:700}">
			<div>
							<div>
						<div data-id="d8ee2b0" data-element_type="widget" data-widget_type="eael-info-box.default">
				<div>
			                    <div>
                    <p><img src="https://saffron.b-cdn.net/wp-content/uploads/2020/02/business-across-the-world-revisi-2-01-01.jpg" alt="">
            
            
            
        </p>
            <div>
            <h4>App launch services</h4>
                                                                        <p>Get your app built by our mata team and further services to launch your product.<br><span><a href="https://saffron.vc/on-demand-launch-services/">Learn More</a></span></p>
                                                                            </div>
    </div>		</div>
				</div>
						</div>
					</div>
		</div>
				<div data-id="74eb4e0" data-element_type="column" data-settings="{&quot;animation&quot;:&quot;fadeInUp&quot;,&quot;animation_delay&quot;:300}">
			<div>
							<div>
						<div data-id="283ca50" data-element_type="widget" data-widget_type="eael-info-box.default">
				<div>
			                    <div>
                    <p><img src="https://saffron.b-cdn.net/wp-content/uploads/2019/11/llc-revisi-01.png" alt="">
            
            
            
        </p>
            <div>
            <h4>Company formation</h4>
                                                                        <p>Form your business digitally and access benefits and 24/7 VIP concierge services.<br><span><a href="https://saffron.vc/startup-formation/">Learn More</a></span></p>
                                                                            </div>
    </div>		</div>
				</div>
						</div>
					</div>
		</div>
				<div data-id="fbfcb54" data-element_type="column" data-settings="{&quot;animation&quot;:&quot;fadeInUp&quot;,&quot;animation_delay&quot;:500}">
			<div>
							<div>
						<div data-id="4f462f3" data-element_type="widget" data-widget_type="eael-info-box.default">
				<div>
			                    <div>
                    <p><img src="https://saffron.b-cdn.net/wp-content/uploads/2020/07/ccorp.png" alt="An investor advising founders on the best legal entity for startups.">
            
            
            
        </p>
            <div>
            <h4>Legal docs on-demand</h4>
                                                                        <p>Stay legally compliant with your state. Custom legal documents and filing services on-demand.<br><span><a href="https://saffron.vc/on-demand-services-legal-services/">Learn More</a></span></p>
                                                                            </div>
    </div>		</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section data-id="221e078" data-element_type="section">
						
		</section>
				<section data-id="99f563f" data-element_type="section" data-settings="{&quot;stretch_section&quot;:&quot;section-stretched&quot;,&quot;background_background&quot;:&quot;classic&quot;}">
						<div>
							<div>
					<div data-id="84ad22f" data-element_type="column">
			<div>
							<div>
						
				<div data-id="7cec208" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<p>An array of possibility with mata</p>
				</div>
				</div>
				
				<section data-id="ef379fa" data-element_type="section">
						
		</section>
				<section data-id="c5f11de" data-element_type="section">
						
		</section>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section data-id="fa7c010" data-element_type="section" data-settings="{&quot;stretch_section&quot;:&quot;section-stretched&quot;,&quot;background_background&quot;:&quot;classic&quot;}">
						<div>
							<div>
					<div data-id="e438c45" data-element_type="column">
			<div>
							<div>
						<div data-id="f7f2f3d" data-element_type="widget" data-widget_type="image.default">
				<div>
					<p><img width="1024" height="730" src="https://saffron.b-cdn.net/wp-content/uploads/2020/02/working-with-team-revisi-1024x730.png" alt="" loading="lazy" srcset="https://saffron.b-cdn.net/wp-content/uploads/2020/02/working-with-team-revisi-1024x730.png 1024w, https://saffron.b-cdn.net/wp-content/uploads/2020/02/working-with-team-revisi-300x214.png 300w, https://saffron.b-cdn.net/wp-content/uploads/2020/02/working-with-team-revisi-768x548.png 768w, https://saffron.b-cdn.net/wp-content/uploads/2020/02/working-with-team-revisi-600x428.png 600w" sizes="(max-width: 1024px) 100vw, 1024px">											</p>
				</div>
				</div>
						</div>
					</div>
		</div>
				
								</div>
					</div>
		</section>
				<section data-id="c328511" data-element_type="section" data-settings="{&quot;stretch_section&quot;:&quot;section-stretched&quot;,&quot;background_background&quot;:&quot;classic&quot;}">
						<div>
							<div>
					<div data-id="a282fec" data-element_type="column" data-settings="{&quot;animation&quot;:&quot;none&quot;,&quot;animation_delay&quot;:30}">
			<div>
							<div>
						<div data-id="164d96e" data-element_type="widget" data-settings="{&quot;_animation&quot;:&quot;fadeInLeft&quot;}" data-widget_type="heading.default">
				<p>
			<h2>We offer fast, professional and exceptional services</h2>		</p>
				</div>
				
				<div data-id="2f3f5d0" data-element_type="widget" data-settings="{&quot;_animation&quot;:&quot;fadeInUp&quot;,&quot;_animation_delay&quot;:300}" data-widget_type="eael-feature-list.default">
				<div>
					<div>
			<ul id="eael-feature-list-2f3f5d0">
													                <li>
									                    

						



						<div>
							<h3>The mata team</h3>
						<p>Our dedicated and talented mata team ensure to deliver top quality deliverables. By following strict processes we can deliver the same level of attention and quality to all service orders.</p>
						</div>

					</li>
							</ul>
		</div>
				</div>
				</div>
				<div data-id="d7bfba8" data-element_type="widget" data-settings="{&quot;_animation&quot;:&quot;fadeInUp&quot;,&quot;_animation_delay&quot;:100}" data-widget_type="eael-feature-list.default">
				<div>
					<div>
			<ul id="eael-feature-list-d7bfba8">
													                <li>
									                    

						



						<div>
							<h3>Keep your data secure</h3>
						<p>We use mata to run mata, so we protect your data as if it were our own. We work with customers every day to make sure their data security requirements and expectations are met or exceeded.
</p>
						</div>

					</li>
							</ul>
		</div>
				</div>
				</div>
				<div data-id="1a9ea1c" data-element_type="widget" data-settings="{&quot;_animation&quot;:&quot;fadeInUp&quot;,&quot;_animation_delay&quot;:200}" data-widget_type="eael-feature-list.default">
				<div>
					<div>
			<ul id="eael-feature-list-1a9ea1c">
													                <li>
									                    

						



						<div>
							<h3>Non-Disclosure agreements</h3>
						<p>Defend your company’s confidential information with one-way and two-way NDAs that both parties can execute online.
</p>
						</div>

					</li>
							</ul>
		</div>
				</div>
				</div>
						</div>
					</div>
		</div>
				<div data-id="1e288d9" data-element_type="column" data-settings="{&quot;animation&quot;:&quot;none&quot;,&quot;animation_delay&quot;:30}">
			<div>
							<div>
						<div data-id="1f2e1ed" data-element_type="widget" data-widget_type="image.default">
				<div>
					<p><img width="426" height="854" src="https://saffron.b-cdn.net/wp-content/uploads/2020/07/Group-352.png" alt="" loading="lazy" srcset="https://saffron.b-cdn.net/wp-content/uploads/2020/07/Group-352.png 426w, https://saffron.b-cdn.net/wp-content/uploads/2020/07/Group-352-150x300.png 150w" sizes="(max-width: 426px) 100vw, 426px">											</p>
				</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section data-id="c388763" data-element_type="section" data-settings="{&quot;background_background&quot;:&quot;classic&quot;}">
						<div>
							<div>
					<div data-id="ccf6758" data-element_type="column">
			<div>
							<div>
						<div data-id="874be11" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<div><div><div><div><div><div>
    <div data-enable-loop="yes" data-enable-autoplay="yes" data-slider-speed="5000" data-slider-speed-animation="600" data-enable-navigation="yes" data-enable-pagination="yes">
        <div>
            <div>
        
                <div id="mkdf-testimonials-123">
                                            <p><img width="140" height="140" src="https://saffron.b-cdn.net/wp-content/uploads/2018/10/0-150x150.jpg" alt="" loading="lazy" srcset="https://saffron.b-cdn.net/wp-content/uploads/2018/10/0-150x150.jpg 150w, https://saffron.b-cdn.net/wp-content/uploads/2018/10/0-300x300.jpg 300w, https://saffron.b-cdn.net/wp-content/uploads/2018/10/0-100x100.jpg 100w, https://saffron.b-cdn.net/wp-content/uploads/2018/10/0.jpg 320w" sizes="(max-width: 140px) 100vw, 140px">                        </p>
                                        <div>
                                                                            <p>Finally a way for entrepreneurs to manage their progress and expedite the slow processes.</p>
                                                                            <h6>
                                <span>Eugene Lee </span>
                                                                    <span>Investor</span>
                                                            </h6>
                                            </div>
                </div>

            
                <div id="mkdf-testimonials-122">
                                            <p><img width="140" height="140" src="https://saffron.b-cdn.net/wp-content/uploads/2018/10/Siddharth-Pandiya..-mti-news1-150x150.jpg" alt="" loading="lazy" srcset="https://saffron.b-cdn.net/wp-content/uploads/2018/10/Siddharth-Pandiya..-mti-news1-150x150.jpg 150w, https://saffron.b-cdn.net/wp-content/uploads/2018/10/Siddharth-Pandiya..-mti-news1-300x300.jpg 300w, https://saffron.b-cdn.net/wp-content/uploads/2018/10/Siddharth-Pandiya..-mti-news1-100x100.jpg 100w" sizes="(max-width: 140px) 100vw, 140px">                        </p>
                                        <div>
                                                                            <p>It saved me weeks of time and saved me so much money!</p>
                                                                            <h6>
                                <span>Siddharth Pandiya </span>
                                                                    <span>Entrepreneur</span>
                                                            </h6>
                                            </div>
                </div>

            
                <div id="mkdf-testimonials-114">
                                            <p><img width="140" height="140" src="https://saffron.b-cdn.net/wp-content/uploads/2018/10/XzA2MzY3MDEuanBn-150x150.jpg" alt="" loading="lazy" srcset="https://saffron.b-cdn.net/wp-content/uploads/2018/10/XzA2MzY3MDEuanBn-150x150.jpg 150w, https://saffron.b-cdn.net/wp-content/uploads/2018/10/XzA2MzY3MDEuanBn-300x300.jpg 300w, https://saffron.b-cdn.net/wp-content/uploads/2018/10/XzA2MzY3MDEuanBn-100x100.jpg 100w, https://saffron.b-cdn.net/wp-content/uploads/2018/10/XzA2MzY3MDEuanBn.jpg 512w" sizes="(max-width: 140px) 100vw, 140px">                        </p>
                                        <div>
                                                                            <p>A single platform for planning all components of our company</p>
                                                                            <h6>
                                <span>Roxanne Ohayon</span>
                                                                    <span>Entrepreneur</span>
                                                            </h6>
                                            </div>
                </div>

            
                <div id="mkdf-testimonials-113">
                                            <p><img width="140" height="140" src="https://saffron.b-cdn.net/wp-content/uploads/2018/10/XzAzMTUyNzkuanBn-150x150.jpg" alt="" loading="lazy" srcset="https://saffron.b-cdn.net/wp-content/uploads/2018/10/XzAzMTUyNzkuanBn-150x150.jpg 150w, https://saffron.b-cdn.net/wp-content/uploads/2018/10/XzAzMTUyNzkuanBn-300x300.jpg 300w, https://saffron.b-cdn.net/wp-content/uploads/2018/10/XzAzMTUyNzkuanBn-100x100.jpg 100w, https://saffron.b-cdn.net/wp-content/uploads/2018/10/XzAzMTUyNzkuanBn.jpg 512w" sizes="(max-width: 140px) 100vw, 140px">                        </p>
                                        <div>
                                                                            <p>Exceeds my expectations for completing a business plan and incorporating my business</p>
                                                                            <h6>
                                <span>Craig Smith</span>
                                                                    <span>Entrepreneur</span>
                                                            </h6>
                                            </div>
                </div>

                        </div>
        </div>
        
    </div>
</div></div></div></div></div>
</div>
				</div>
				</div>
				<div data-id="2426a0d" data-element_type="widget" data-widget_type="heading.default">
				<p>
			<h2>Our team will follow your rules and requests
</h2>		</p>
				</div>
				<div data-id="c76eecc" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<p><i><span>If we believe the work completed does not meet your needs, we will assign a new person on the task. If we can’t do it, you have every right to ask for a full on-the-spot refund. 100% money-back guarantee on unsatisfied services. <br></span></i></p>
				</div>
				</div>
				
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section data-id="161d936" data-element_type="section" data-settings="{&quot;stretch_section&quot;:&quot;section-stretched&quot;,&quot;background_background&quot;:&quot;classic&quot;}">
						<div>
							<div>
					<div data-id="541a2e6" data-element_type="column" data-settings="{&quot;animation&quot;:&quot;none&quot;,&quot;animation_delay&quot;:30}">
			<div>
							<div>
						<div data-id="76fa9a6" data-element_type="widget" data-settings="{&quot;_animation&quot;:&quot;fadeIn&quot;,&quot;_animation_delay&quot;:30}" data-widget_type="image.default">
				<div>
					<p><img width="1300" height="1241" src="https://saffron.b-cdn.net/wp-content/uploads/2020/02/guard-01-Security-3-1300x1241.png" alt="" loading="lazy">											</p>
				</div>
				</div>
				
						</div>
					</div>
		</div>
				<div data-id="62c4d7c" data-element_type="column" data-settings="{&quot;animation&quot;:&quot;none&quot;,&quot;animation_delay&quot;:30}">
			<div>
							<div>
						
				
				<div data-id="99015e4" data-element_type="widget" data-settings="{&quot;_animation&quot;:&quot;fadeInUp&quot;,&quot;_animation_delay&quot;:100}" data-widget_type="eael-feature-list.default">
				<div>
					<div>
			<ul id="eael-feature-list-99015e4">
													                <li>
									                    

						



						<div>
							<h3>100% Protected</h3>
						<p>Your business idea is 100% protected by our non-disclosure agreement.</p>
						</div>

					</li>
							</ul>
		</div>
				</div>
				</div>
				<div data-id="0cc4eee" data-element_type="widget" data-settings="{&quot;_animation&quot;:&quot;fadeInUp&quot;,&quot;_animation_delay&quot;:300}" data-widget_type="eael-feature-list.default">
				<div>
					<div>
			<ul id="eael-feature-list-0cc4eee">
													                <li>
									                    

						



						<div>
							<h3>Confidentiality</h3>
						<p>Keeping conversations and files with our customers private is our top priority. We regularly complete an internal auditing process to assure all information is kept private.</p>
						</div>

					</li>
							</ul>
		</div>
				</div>
				</div>
				<div data-id="a4d74c6" data-element_type="widget" data-settings="{&quot;_animation&quot;:&quot;fadeInUp&quot;,&quot;_animation_delay&quot;:200}" data-widget_type="eael-feature-list.default">
				<div>
					<div>
			<ul id="eael-feature-list-a4d74c6">
													                <li>
									                    

						



						<div>
							<h3>Safety</h3>
						<p>Your data &amp; money are safe + secure.
</p>
						</div>

					</li>
							</ul>
		</div>
				</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section data-id="fbd26a0" data-element_type="section" data-settings="{&quot;stretch_section&quot;:&quot;section-stretched&quot;,&quot;background_background&quot;:&quot;classic&quot;}">
						<div>
							<div>
					<div data-id="ed0c310" data-element_type="column">
			<div>
							<div>
						<div data-id="10b6ec0" data-element_type="widget" data-widget_type="image.default">
				<div>
					<p><img width="1024" height="730" src="https://saffron.b-cdn.net/wp-content/uploads/2020/02/working-with-team-revisi-1024x730.png" alt="" loading="lazy" srcset="https://saffron.b-cdn.net/wp-content/uploads/2020/02/working-with-team-revisi-1024x730.png 1024w, https://saffron.b-cdn.net/wp-content/uploads/2020/02/working-with-team-revisi-300x214.png 300w, https://saffron.b-cdn.net/wp-content/uploads/2020/02/working-with-team-revisi-768x548.png 768w, https://saffron.b-cdn.net/wp-content/uploads/2020/02/working-with-team-revisi-600x428.png 600w" sizes="(max-width: 1024px) 100vw, 1024px">											</p>
				</div>
				</div>
						</div>
					</div>
		</div>
				
								</div>
					</div>
		</section>
				<section data-id="b9fbee0" data-element_type="section">
						<div>
							<div>
					<div data-id="d6b499e" data-element_type="column">
			<div>
							<div>
						<div data-id="4944f24" data-element_type="widget" data-widget_type="testimonial.default">
				<div>
					<div>
							<p>"I never would have thought in my life that it is possible to setup and launch a business so easily, and I studied Law. I really owe it to the mata team for my startup's success."</p>
			
						<div>
				<div>
											<p><img width="200" height="200" src="https://saffron.b-cdn.net/wp-content/uploads/2020/06/download.jpg" alt="" loading="lazy" srcset="https://saffron.b-cdn.net/wp-content/uploads/2020/06/download.jpg 200w, https://saffron.b-cdn.net/wp-content/uploads/2020/06/download-150x150.jpg 150w, https://saffron.b-cdn.net/wp-content/uploads/2020/06/download-100x100.jpg 100w" sizes="(max-width: 200px) 100vw, 200px">						</p>
					
										<div>
														<p>George Jacklin</p>
																						<p>Entrepreneur</p>
													</div>
									</div>
			</div>
					</div>
				</div>
				</div>
				<div data-id="0d00197" data-element_type="widget" data-widget_type="html.default">
				<p><a href="https://www.producthunt.com/posts/mata-2?utm_source=badge-featured&amp;utm_medium=badge&amp;utm_souce=badge-mata-2" target="_blank" rel="noopener"><img src="https://api.producthunt.com/widgets/embed-image/v1/featured.svg?post_id=254807&amp;theme=light" alt="mata - A startup suite for emerging entrepreneurs | Product Hunt Embed"></a>		</p>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
						</div>
						</div>
					</div>
							</div>
							</div>
		        	</div>

    </div>

</div> <!-- close div.content_inner -->
	</div></div>]]>
            </description>
            <link>https://saffron.vc/producthunt</link>
            <guid isPermaLink="false">hacker-news-small-sites-24488529</guid>
            <pubDate>Wed, 16 Sep 2020 01:05:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[When you browse Instagram and find Tony Abbott's passport number]]>
            </title>
            <description>
<![CDATA[
Score 2191 | Comments 324 (<a href="https://news.ycombinator.com/item?id=24488224">thread link</a>) | @michael_fine
<br/>
September 15, 2020 | https://mango.pdf.zone/finding-former-australian-prime-minister-tony-abbotts-passport-number-on-instagram | <a href="https://web.archive.org/web/*/https://mango.pdf.zone/finding-former-australian-prime-minister-tony-abbotts-passport-number-on-instagram">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

    

    <div itemprop="articleBody">
        <hr>
        <p><img src="https://mango.pdf.zone/img/sunburnt-country/title.png" alt="title image what's up twitter-large"></p>



<p>So you know when you’re flopping about at home, minding your own business, drinking from your water bottle in a way that does not possess <em>any</em> intent to subvert the Commonwealth of Australia?</p>

<p>It’s a feeling I know all too well, and in which I was vigorously partaking when I got this message in “the group chat”<sup id="fnref:groupchat" role="doc-noteref"><a href="#fn:groupchat">1</a></sup>.</p>

<p><img src="https://mango.pdf.zone/img/sunburnt-country/groupchat.png" alt="Can you hack this man?|medium">
<em>A nice message from my friend, with a photo of a boarding pass 🙂 A good thing about messages from your friends is that they do not have any rippling consequences 🙂🙂🙂</em></p>

<p>The man in question is <a href="https://en.wikipedia.org/wiki/Tony_Abbott">Tony Abbott</a>, one of Australia’s <em>many</em> former Prime Ministers.</p>

<p><img src="https://mango.pdf.zone/img/sunburnt-country/tony_abbott_wikipedia.png" alt="if u google tony abbott u get this|small">
<em>That’s him, officer</em></p>

<p>For security reasons, we try to change our Prime Minister every six months, and to never use the same Prime Minister on multiple websites.<sup id="fnref:kevin07" role="doc-noteref"><a href="#fn:kevin07">2</a></sup></p>

<h4 id="the-boarding-pass-photo">The boarding pass photo</h4>
<p>This particular former PM had just posted a picture of his boarding pass on Instagram (Instagram, in case you don’t know it, is an app you can open up on your phone any time to look at ads).</p>

<p><img src="https://mango.pdf.zone/img/sunburnt-country/instagrampost.PNG" alt="Instagram post showing boarding pass|large">
<em>The since-deleted Instagram post showing the boarding pass and baggage receipt. The caption reads “coming back home from japan 😍😍  looking forward to seeing everyone! climate change isn’t real 😌 ok byeee”</em></p>

<h4 id="can-you-hack-this-man">“Can you hack this man?”</h4>
<p>My friend<sup id="fnref:hoggemoade" role="doc-noteref"><a href="#fn:hoggemoade">3</a></sup> (who we will refer to by their group chat name, 𝖍𝖔𝖌𝖌𝖊 𝖒𝖔𝖆𝖉𝖊) is asking<sup id="fnref:onbehalf" role="doc-noteref"><a href="#fn:onbehalf">4</a></sup> whether I can “hack this man” not because I am the kind of person who regularly commits 𝒄𝒚𝒃𝒆𝒓 𝒕𝒓𝒆𝒂𝒔𝒐𝒏 on a whim, but because we’d recently been talking about boarding passes.</p>

<p>I’d said that people post pictures of their boarding passes all the time, not knowing that it can sometimes be used to get their passport number and stuff. They just post it being like “omg going on holidayyyy 😍😍😍”, unaware that they’re posting cringe.</p>

<p><img src="https://mango.pdf.zone/img/sunburnt-country/instagramboardingpasses.png" alt="screenshot of #boardingpass on instagram|medium">
<em>People post their boarding passes all the time, because it’s not clear that they’re meant to be secret</em></p>

<p>Meanwhile, some hacker is rubbing their hands together, being all “yumyum identity fraud 👀” in their dark web Discord, because this happens a <em>lot</em>.</p>

<p><img src="https://mango.pdf.zone/img/sunburnt-country/boardingpassposts.png" alt="screenshot of #boardingpass on instagram"></p>

<hr>

<p>So there I was, making intense and meaningful eye contact with this chat bubble, asking me if I could “hack this man”.</p>

<h3 id="surely-you-wouldnt">Surely you wouldn’t</h3>
<p>Of course, my friend wasn’t <em>actually</em> asking me to hack the former Prime Minister.</p>



<p>However.</p>



<p>You <em>gotta</em>.</p>

<p>I mean… what are you gonna do, <em>not</em> click it? Are you gonna let a <em>link</em> that’s like 50% advertising tracking ID tell you what to do? Wouldn’t you be <em>curious</em>?</p>

<p>The former Prime Minister had just posted his boarding pass. Was that <em>bad</em>? Was someone in danger? I didn’t know.</p>

<p>What I did know was: the <em>least</em> I could do<sup id="fnref:nocrime" role="doc-noteref"><a href="#fn:nocrime">5</a></sup> for my country would be to have a casual browse 👀</p>

<h2 id="investigating-the-boarding-pass-photo">Investigating the boarding pass photo</h2>
<h3 id="step-1-hubris">Step 1: Hubris</h3>

<p>So I had a bit of a casual browse, and got the picture of the boarding pass, and then…. I didn’t know what was supposed to happen after that.</p>

<p>Well, I’d heard that it’s bad to post your boarding pass online, because if you do, a bored 17 year-old Russian boy called “Katie-senpai” might somehow use it to commit identity fraud. But I don’t know anyone like that, so I just clumsily googled some stuff.</p>

<h4 id="googling-how-2-hakc-boarding-pass">Googling how 2 hakc boarding pass</h4>
<p><img src="https://mango.pdf.zone/img/sunburnt-country/uhhboardingpasshacking.png" alt="uhhh|small"></p>

<p>Eventually I found <a href="https://null-byte.wonderhowto.com/how-to/hackers-use-hidden-data-airline-boarding-passes-hack-flights-0180728/">a blog post</a> explaining that yes, pictures of boarding passes can indeed be used for Crimes. The part you wanna be looking at for all your criming needs is the barcode, because it’s got the “Booking Reference” (e.g. <code>H8JA2A</code>) in it.</p>

<p>Why do you want the booking reference? It’s one of the two things you need to log in to the airline website to manage your flight.</p>

<p>The second one is your… last name. I was really hoping the second one would be like a password or something. But, no, it’s the booking reference the airline emails you and prints on your boarding pass. And it also lets you log in to the airline website?</p>

<p>That sounds suspiciously like a password to me, but like I’m still fine to pretend it’s not if you are.</p>

<h3 id="step-2-scan-the-barcode">Step 2: Scan the barcode</h3>
<p>I’ve been practicing every morning at sunrise, but still can’t scan barcodes with my eyes. I had to settle for a barcode scanner app on my phone, but when I tried to scan the picture in the Instagram post, it didn’t work :((</p>

<p><img src="https://mango.pdf.zone/img/sunburnt-country/boardingpass.png" alt="the boarding pass photo">
<em>Maybe I shouldn’t have blurred out the barcode first</em></p>

<h3 id="step-2-scan-the-barcode-but-more">Step 2: Scan the barcode, but more</h3>

<p>Well, maybe it wasn’t scanning because the picture was too blurry.</p>

<p>I spent around 15 minutes in an “enhance, ENHANCE” montage, fiddling around with the image, increasing the contrast, and so on. Despite the montage taking up way too much of the 22 minute episode, I couldn’t even get the barcode to scan<sup id="fnref:step3" role="doc-noteref"><a href="#fn:step3">6</a></sup>.</p>

<h3 id="step-2-notice-that-the-booking-reference-is-printed-right-there-on-the-paper">Step 2: Notice that the Booking Reference is printed right there on the paper</h3>

<p>After staring at this image for 15 minutes, I noticed the Booking Reference is just… printed on the baggage receipt.</p>

<p>I graduated university.</p>

<p>But it did not prepare me for this.</p>

<p><img src="https://mango.pdf.zone/img/sunburnt-country/bookingrefhighlighted.png" alt="Boarding pass with booking reference highlighted">
<em>askdjhaflajkshdflkh</em></p>

<h3 id="step-3-visit-the-airlines-website">Step 3: Visit the airline’s website</h3>

<p><img src="https://mango.pdf.zone/img/sunburnt-country/bookinglogin2.png" alt="Manage booking login screen with empty fields-large"></p>

<p>After recovering from <em>that</em> emotional rollercoaster, I went to <a href="https://qantas.com.au/">qantas.com.au</a>, and clicked “Manage Booking”. In case you don’t know it because you live in a country with fast internet, Qantas is the main airline here in Australia.</p>

<p>(I also very conveniently started recording my screen, which is gonna pay off <em>big time</em> in just a moment.)</p>

<h3 id="step-4-type-in-the-booking-reference">Step 4: Type in the Booking Reference</h3>

<p>Well, the login form was just… <em>there</em>, and it was asking for a Booking Reference and a last name. I had just flawlessly read the Booking Reference from the boarding pass picture, and, well… I knew the last name<sup id="fnref:lastname" role="doc-noteref"><a href="#fn:lastname">7</a></sup>.</p>

<p>I did hesitate for a split-second, but… no, I had to know.</p>

<h3 id="step-5-crimes">Step 5: Crimes(?)</h3>

<video controls="" preload="auto">

    <source src="https://mango.pdf.zone/img/sunburnt-country/youngman.mp4" type="video/mp4">

<img src="https://mango.pdf.zone/img/sunburnt-country/summary.gif">
</video>
<p><em>youngman.mp4</em></p>

<p><img src="https://mango.pdf.zone/img/sunburnt-country/loggedin.png" alt="The logged in &quot;manage booking page&quot;">
<em>The “Manage Booking” page, logged in as some guy called Anthony Abbott</em></p>

<h3 id="can-i-get-a-yikes-in-the-chat">Can I get a YIKES in the chat</h3>

<p>Leave a comment if you really felt that.</p>

<p><img src="https://mango.pdf.zone/img/sunburnt-country/yikes.png" alt="yikes"></p>

<p>I guess I was now logged the heck in as Tony Abbott? And for all I know, everyone else who saw his Instagram post was right there with me. It’s kinda wholesome, to imagine us all there together. But also probably suboptimal in a governmental sense.</p>

<h5 id="was-there-anything-secret-in-here">Was there anything secret in here?</h5>

<p>I then just incredibly browsed the page, browsed it so hard.</p>

<p>I saw Tony Abbott’s name<sup id="fnref:name" role="doc-noteref"><a href="#fn:name">8</a></sup>, flight times, and Frequent Flyer number, but not really anything <em>super</em> secret-looking. Not gonna be committing any cyber treason with a Frequent Flyer number. The flight was in the past, so I couldn’t change anything, either.</p>

<p>The page said the flight had been booked by a travel agent, so I guessed some information would be missing because of that.</p>

<p>I clicked around and scrolled a considerable length, but still didn’t find any government secrets.</p>

<p>Some people might give up here. But I, the Icarus of computers, was simply too dumb to know when to stop.</p>

<h3 id="were-not-done-just-because-a-web-page-says-were-done">We’re not done just because a <em>web page</em> says we’re done</h3>

<p>I wanted to see if there were juicy things hidden <em>inside</em> the page. To do it, I had to use the <em>only</em> hacker tool I know.</p>

<p><img src="https://mango.pdf.zone/img/sunburnt-country/inspectelement.png" alt="Right click > Inspect-small">
<em>Right click &gt; Inspect Element, all you need to subvert the Commonwealth of Australia</em></p>

<p>Listen. This is the only part of the story that might be confused for highly elite computer skill. It’s not, though. Maybe later someone will show you this same thing to try and flex, acting like only <em>they</em> know how to do it. You will not go gently into that good night. You will refuse to acknowledge their flex, killing them instantly.</p>

<h5 id="how-does-inspect-element-work">How does “Inspect Element” work?</h5>
<p>“Inspect Element”, as it’s called, is a feature of Google Chrome that lets you see the computer’s internal representation (HTML) of the page you’re looking at. Kinda like opening up a clock and looking at the cool cog party inside.</p>

<p><img src="https://upload.wikimedia.org/wikipedia/commons/6/67/Pocketwatch_cutaway_drawing.jpg" alt="cog party|small">
<em>Yeahhh go little cogs, look at ‘em absolutely going off. Now imagine this but with like, JavaScript</em></p>

<p>Everything you see when you use “Inspect Element” was already downloaded to your computer, you just hadn’t asked Chrome to show it to you yet. Just like how the cogs were already in the watch, you just hadn’t opened it up to look.</p>

<p>But let us dispense with frivolous cog talk. Cheap tricks such as “Inspect Element” are used by programmers to try and understand how the website works. This is ultimately futile: Nobody can understand how websites work. Unfortunately, it kinda <em>looks</em> like hacking the first time you see it.</p>

<p>If you’d like to know more about it, I’ve prepared a short video.</p>

<blockquote><p lang="en" dir="ltr">hey youtube welcome to my hacking tutorial, today we're gonna hack.... the nsa <a href="https://t.co/2Z35GJjSZE">pic.twitter.com/2Z35GJjSZE</a></p>— “Alex” (@mangopdf) <a href="https://twitter.com/mangopdf/status/1123400764926226432?ref_src=twsrc%5Etfw">May 1, 2019</a></blockquote>


<h3 id="browsing-the-manage-booking-pages-html">Browsing the “Manage Booking” page’s HTML</h3>

<p>I scrolled around the page’s HTML, not really knowing what it meant, furiously trying to find anything that looked out of place or secret.</p>

<p>I eventually realised that manually reading HTML with my eyes was not an efficient way of defending my country, and Ctrl + F’d the HTML for “passport”.</p>

<h3 id="oh-no">oh no</h3>

<p><img src="https://mango.pdf.zone/img/sunburnt-country/passportjson.gif" alt="Blurred screenshot of close up &quot;passport&quot; number"></p>

<h3 id="oh-yes">Oh yes</h3>

<p>It’s just <em>there</em>.</p>

<p>At this point I was fairly sure I was looking at the <em>extremely</em> secret government-issued ID of the <em>28th Prime Minister of the Commonwealth of Australia, servant to her Majesty Queen Elizabeth II</em> and I was <em>kinda</em> worried that I was somehow doing something wrong, but like, not enough to stop.</p>

<h3 id="anything-else-in-this-page">….anything <em>else</em> in this page?</h3>

<p>Well damn, if Tony Abbott’s passport number is in this treasure trove of computer spaghetti, maybe there’s wayyyyy more. Perhaps this HTML contains the lost launch codes to the Sydney Opera House, or Harold Holt<sup id="fnref:holt" role="doc-noteref"><a href="#fn:holt">9</a></sup>.</p>

<p>Maybe there’s a phone number?</p>

<p>Searching for <code>phone</code> and <code>number</code> didn’t get anywhere, so I searched for <code>614</code>, the first 3 digits of an Australian phone number, using my colossal and highly celestial galaxy brain.</p>

<h5 id="weird-uppercase-letters">Weird uppercase letters</h5>
<p>A weird pile of what I could only describe as extremely uppercase letters came up. It looked like this:</p>

<div><div><pre><code>RQST QF HK1 HNDSYD/03EN|FQTV QF HK1|CTCM QF HK1 614[phone number]|CKIN QF HN1 DO NOT SEAT ROW [row number] PLS SEAT LAST ROW OF [row letter] WINDOW
</code></pre></div></div>
<p>So, there’s a lot going on here. There is indeed a phone number in here. But what the heck is all this <em>other</em> stuff?</p>

<p>I realised this was like… Qantas staff talking to eachother <em>about</em> Tony Abbott, but not <em>to</em> him?</p>

<p>In what is surely the subtweeting of the century, it has a …</p></div></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://mango.pdf.zone/finding-former-australian-prime-minister-tony-abbotts-passport-number-on-instagram">https://mango.pdf.zone/finding-former-australian-prime-minister-tony-abbotts-passport-number-on-instagram</a></em></p>]]>
            </description>
            <link>https://mango.pdf.zone/finding-former-australian-prime-minister-tony-abbotts-passport-number-on-instagram</link>
            <guid isPermaLink="false">hacker-news-small-sites-24488224</guid>
            <pubDate>Wed, 16 Sep 2020 00:16:13 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Warning Signs of a Project Crisis]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=24488128">thread link</a>) | @ohjeez
<br/>
September 15, 2020 | https://www.functionize.com/blog/how-to-recognize-the-warning-signs-of-a-project-crisis/ | <a href="https://web.archive.org/web/*/https://www.functionize.com/blog/how-to-recognize-the-warning-signs-of-a-project-crisis/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
          <p><img width="1080" height="634" src="https://3laqvw22wekb3ykm8z4dbnq8-wpengine.netdna-ssl.com/wp-content/uploads/2020/09/ft-project-crisis.jpg" alt="How to recognize the warning signs of a project crisis" srcset="https://www.functionize.com/wp-content/uploads/2020/09/ft-project-crisis.jpg 1080w, https://www.functionize.com/wp-content/uploads/2020/09/ft-project-crisis-300x176.jpg 300w, https://www.functionize.com/wp-content/uploads/2020/09/ft-project-crisis-1024x601.jpg 1024w, https://www.functionize.com/wp-content/uploads/2020/09/ft-project-crisis-768x451.jpg 768w" sizes="(max-width: 1080px) 100vw, 1080px">      </p>	  
    
        <blockquote><p>You sometimes can identify markers for an imminent project meltdown. But you have to pay attention to the red flags. Here’s what to look for.</p></blockquote>
<p>I should have recognized the signs earlier. Everyone else in our startup software company was busy at work, aware that we needed to finish our software to acquire the venture capital we needed. Yet, Sandra began bringing the newspaper to work, and reading the entire thing, while the people around her wrote code, worked on the business plan, or tried to make sense of our accounting. Although it was inevitable that she’d leave – and perhaps the team implosion was also a foregone conclusion – I somehow refused to deal with the early indications.</p>
<p>Not every software development crisis has an early warning system, but plenty of them do. If you learn to recognize the signs early enough – and you’re willing to confront the problem, as I was not – you may be able to prevent the project from failing. If you can’t prevent the meltdown, perhaps you can save yourself.</p>
<h3>Meetings of the minds</h3>
<p>When you first join a team, or when you begin to have a bad feeling that you can’t quite name, pay attention to the way people behave during team meetings. I don’t mean necessarily that you should rush to get your résumé in order, if people get upset with one another. But do watch for signs that the proceedings don’t matter to the participants.</p>
<p>A quality engineer at a midrange German bank attended his first meeting on a new project. People arrived and left at will, without saying a word. Nobody kept minutes, he told me. “We usually don’t need that,” project participants told him. At that point, says the engineer, “I knew that the level of discipline in this project was far too low to produce anything valuable. This proved to be true within a year.”</p>
<p>Are developers writing code instead of paying attention to what the users are asking? Do people regularly check their e-mail? It’s time to wonder about their commitment.</p>
<p>Meetings also show stress among the people who are supposed to be working together, especially when meetings don’t happen. In one project, where formerly independent teams were expected to merge, “They saw themselves as competing with one another,” reports Solomon, a programmer at a large financial firm. “When we did the requirements interviews, the users (and their managers) were looking to ‘protect’ the ‘way we’ve always done business.'” Some managers planned to limit the influence of other groups; political battles were fought over the design. “There was no process for surfacing these issues (many of them valid business issues) and having management make a decision,” Solomon says.</p>
<p>In fact, the number of meetings you attend is a sign on its own. If you have to gather a committee for a two-hour roundtable for every decision – because nobody can accept one person making the call – bump that project to the bottom of your priority list. Particularly so if meetings have more than five people, or when managers outnumber workers. Each such meeting moves the project doomsday clock closer to boom.</p>
<p>Another red flag is procrastination about timely updates for stakeholders. For example: A decision is required but not yet made. A milestone is not reached due to delays but someone doesn’t want to disclose that stumble. “Those may not kill or put a project in ‘zombie,’ status,” says one programmer, “But if the communication has broken down it’s a good indicator of heading that way.”</p>
<h3>Expectations out of whack</h3>
<p>I’ve heard dozens of stories from developers and tester about the signs that a project is headed downhill. By far, the most common source of problems is inaccurate or poorly-communicated project expectations – and an inappropriate reaction from management when things go awry.</p>
<p>“Why haven’t we done [this task]?”</p>
<p>“Oh, [task] is easy; we can do that any time.”</p>
<p>For example, one tester once was on a project that was completely oversold. The project team spent long weeks on the project. They even pulled all-nighters. But <a href="https://www.functionize.com/blog/estimating-testing-time-a-few-useful-guidelines/">the scope was too large for the timeframe and the staffing</a>. “The pressure on the company to produce a customer (and on the executive team) was such that the team was nearly run into the ground.”</p>
<p>This tester was lucky. After a wholesale change in upper management, a VP was sent to fire everyone in sight, after being told that the problems were the team’s fault. But this executive was astute enough to listen. The VP realized the problem wasn’t the staff, but the sales person and upper management who had sold the project. “He was able to slightly reset expectations with the customer, and we managed to put the project into production, producing a reference in the process.” Whew. One happy ending.</p>
<p>Others aren’t so fortunate. Don, a software consultant, found that “the surest single measure of increased likelihood of project failure is a management or owners who believe the task being performed is of one or more orders of magnitude less complexity than it actually is. This is usually reflected in poor or inept staffing… and other resource and planning shortfalls.”</p>
<h3>The C-suite gets involved</h3>
<p>If there’s no <a href="https://www.functionize.com/blog/how-to-do-a-product-evaluation-for-enterprise-software/">project champion</a>, by whatever job title, you should worry. Project sponsors need clout; the people above them have to respect them. Otherwise, while projects can be completed, they’re rarely transformational. However, the project champion also captures and communicates the team’s vision.</p>
<p>The sad alternative is when you see a big upswing in manager and upper-level manager check-ins. There’s a sudden surge in, “Is there anything we can do to help?” questions that would have been useful two months earlier.</p>
<p>Or personnel appear who aren’t integrated into the team. They don’t seem to have clear roles. For instance, a director from another department shows up, demanding to know why they weren’t consulted on the project, even though their superior had approved the process or task.</p>
<p>Another sign: Your project scope changes like the weather, for reasons you cannot fathom, and you have no ability to push back. As one techie described a too-familiar scenario: “The smoke of your burning deadlines will outline vast and terrible corporate gods who do not wish you well.”</p>
<h3>Project plan? What project plan?</h3>
<p>Often, those inaccurate expectations are a sign of earlier errors in analysis. A sure sign of failure is when time pressure exceeds normal limits – by far. “All of a sudden, you have loads of work to do, in ever-decreasing time intervals,” says a consultant who works in financial organizations. “This clearly shows that some points during the analysis and/or design phase was done horribly wrong.”</p>
<p>A related sign: The software is being built in parts, and nobody has integrated the parts yet. Especially if it’s because they don’t like to collaborate with the other authors.</p>
<p>There are <em>so</em> many variations.</p>
<ul>
<li>The project manager never presents a timeline, schedule, or milestone list.</li>
<li>A deadline for an important task is postponed more than two times.</li>
<li>Your weekly update call includes a lot of awkward silences. Or the definition of “done” drifts into science fiction.</li>
<li>You hear, “Are you sure this will take that long?”</li>
<li>Or they say, “Let’s use the occasion to also do &lt;big thing that’s completely unrelated&gt; while we have leverage.”</li>
</ul>
<p>You don’t have to wait long for over-complicated expectations to emerge. Solomon adds, “When the chief architect explained the project, I started to count the tiers, and arrived at seven. A seven-tier architecture would contain so many chances to fail that I was immediately sure that the product would never see the customers. I was right. Twenty-three million Euros for nothing.”</p>
<h3>The attack of the killer accountants</h3>
<p>Your first clue: The snack closet doesn’t get refilled.</p>
<p>The more elaborate version: A random bean counter yells for the fainting couch when you submit a project expense line item has been utterly unremarkable during your entire tenure. Long-standing vendor contracts are scrutinized. Suddenly you need signoff from busybodies who have to render judgment on a critical spending component of your plan which nonetheless represents &lt;1% of the budgeted outlay.</p>
<p>The cost cutting isn’t logical. They don’t lay off an engineering team, which might be a hard-headed business decision. But they cancel required services, such as the organization’s Trello subscription.</p>
<h3>Inappropriate staffing</h3>
<p>Instead of dealing with the underlying problem – the team or the company can’t deliver what they’d promised – one way that poor management deals with the impending crisis is to hire or fire people. Unfortunately, <a href="https://www.functionize.com/blog/whats-the-difference-between-a-good-qa-director-and-a-great-one/">they often pick the wrong ones</a>. For example, in one project, Management felt the project was underfunded for the goals it was trying to reach.&nbsp;They couldn’t hire enough people with the right skills (that was too expensive) and caused the project to be slow to deliver.</p>
<p>When you can’t hire as many people as you need, you attempt to get more from the existing staff. In some cases, management threatens to lay people off if they don’t work harder. In one tester’s <a href="https://www.oreilly.com/content/3-reasons-to-stop-hating-one-on-one-meetings/" target="_blank" rel="noopener noreferrer">one-on-one session meeting</a>, the manager pointed out that the tester wasn’t at work in the evening. The tester told him he currently worked 50 hour weeks, and the company only paid for 37.5 hour weeks. The manager responded, “If you are not working 60 hour weeks, you are not working hard.” Ten minutes later, he added, “If you are not working hard, you are the list of people to be laid off.” The tester took the boss at his word. “I’m not sure if that project ever shipped. I quit and found a new job.”</p>
<p>How long do you wait before you recognize there’s a crisis? David’s ready to throw in the towel. He’s in a group that handles a couple dozen products, but David is the only developer, tester, and now manager. “I know the situation is bad. My company decided to fix the problem with people leaving or being laid off by building from the top. My program manager left, so naturally they replace him with a VP of Sales.” Two months …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.functionize.com/blog/how-to-recognize-the-warning-signs-of-a-project-crisis/">https://www.functionize.com/blog/how-to-recognize-the-warning-signs-of-a-project-crisis/</a></em></p>]]>
            </description>
            <link>https://www.functionize.com/blog/how-to-recognize-the-warning-signs-of-a-project-crisis/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24488128</guid>
            <pubDate>Wed, 16 Sep 2020 00:02:37 GMT</pubDate>
        </item>
    </channel>
</rss>
