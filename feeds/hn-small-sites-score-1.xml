<rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>
<![CDATA[Hacker News - Small Sites - Score >= 1]]>
        </title>
        <description>
<![CDATA[Hacker News stories from domains that aren't in the top 1M and that have a score of at least 1. Updated nightly via https://github.com/awendland/hacker-news-small-sites]]>
        </description>
        <link>https://news.ycombinator.com</link>
        <generator>RSS for Node</generator>
        <lastBuildDate>Wed, 23 Dec 2020 04:46:59 GMT</lastBuildDate>
        <atom:link href="https://raw.githubusercontent.com/awendland/hacker-news-small-sites/generated/feeds/hn-small-sites-score-1.xml" rel="self" type="application/rss+xml"></atom:link>
        <pubDate>Wed, 23 Dec 2020 04:46:59 GMT</pubDate>
        <language>
<![CDATA[en-US]]>
        </language>
        <managingEditor>
<![CDATA[me@alexwendland.com (Alex Wendland)]]>
        </managingEditor>
        <ttl>240</ttl>
        <item>
            <title>
<![CDATA[Training a YOLOv3 Object Detection Model with a Custom Dataset]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25493070">thread link</a>) | @jonbaer
<br/>
December 21, 2020 | https://blog.roboflow.com/training-a-yolov3-object-detection-model-with-a-custom-dataset/ | <a href="https://web.archive.org/web/*/https://blog.roboflow.com/training-a-yolov3-object-detection-model-with-a-custom-dataset/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
              <div>
                <div><p><em>Following this guide, you only need to change a single line of code to train an <a href="https://models.roboflow.ai/object-detection">object detection model</a> on your own dataset.</em></p><figure><img src="https://blog.roboflow.com/content/images/2020/01/chess-detection-longer.gif" alt=""><figcaption>In our guided example, we'll train a model to recognize chess pieces. (Full <a href="https://www.youtube.com/watch?v=XLispu-Yb_0">video</a>)</figcaption></figure><p><strong>Note</strong>: <a href="https://models.roboflow.ai/object-detection/yolov5">YOLOv5</a> was released recently. You may also want to consider visiting our post on <a href="https://blog.roboflow.com/training-yolov4-on-a-custom-dataset/">how to train YOLO v5 in PyTorch tutorial</a> as it gets much better results than YOLO v3.</p><p><a href="https://models.roboflow.ai/object-detection">Object detection models</a> are extremely powerful‚Äîfrom finding dogs in photos to <a href="https://arxiv.org/pdf/1702.05747.pdf">improving healthcare</a>, training computers to recognize which pixels constitute items unlocks near limitless potential. However, one of the biggest blockers keeping new applications from being built is adapting state-of-the-art, open source, and free resources to solve custom problems.</p><p>In this post, we‚Äôll walk through how to prepare a custom dataset for object detection using tools that simplify image management, architecture, and training. In each section, we‚Äôll first follow what I‚Äôve done for a specific example and and then detail what modifications you‚Äôll need to make for your custom dataset. My recommendation is that you follow along step-by-step to duplicate my process before adapting these steps to your problem.</p><p>Let‚Äôs start with a clear description of our process.</p><p>Any given machine learning problem begins with a well-formed problem statement, data collection and preparation, model training and improvement, and inference. Often, our process is not strictly linear. For instance, we may find our model performs very poorly on one type of image label, and we need to revisit collecting more data on that example.</p><figure><img src="https://blog.roboflow.com/content/images/2020/01/data-process.png" alt=""><figcaption><em>The general machine learning workflow.</em></figcaption></figure><hr><h2 id="problem-statement">Problem Statement</h2><p>Chess is a fun game of wit and strategy. Improving your playing ability requires understanding where you‚Äôve previously made notable mistakes and what move(s) a superior player to you may have made in the same situation. </p><p>Thus, having a system that recognizes the state of the game and records each move would be valuable. This requires not just determining what a given chess piece is, but where that piece is on the board‚Äîa leap from image recognition to object detection. For the purposes of this post, we will constrain the problem to focus on the object detection portion: <u>can we train a model to identify which chess piece is which and to which player (black or white) the pieces belong, and a model that finds at least half of the pieces in inference.</u></p><figure><img src="https://blog.roboflow.com/content/images/2020/01/computer-vision-problems-1.png" alt=""><figcaption><em>Image Processing Problems, adapted from Stanford‚Äôs CS231N course</em></figcaption></figure><p><em>For your non-chess problem statement</em>, consider constraining the problem space to a specific piece. Moreover, consider the minimal acceptable criteria for the model‚Äôs performance. (In this example, we are constraining to just the identification of correct bounding boxes, and setting a relatively low bar for acceptable criteria. To be more rigorous, we may want to identify our model‚Äôs <a href="https://giou.stanford.edu/">IOU</a> or <a href="https://blog.roboflow.com/what-is-mean-average-precision-object-detection/">mAP</a> - but that is for <a href="https://blog.roboflow.com/what-is-mean-average-precision-object-detection/">a different post</a>.)</p><hr><h2 id="data-collection">Data Collection</h2><p>To identify chess pieces, we need to collect and annotate chess images.</p><p>I made a few assumptions in my data collection. First, all my images were captured from the same angle. I set up a tripod on the table near my chess board. For inference, this would require that my camera is at the same angle as the training data was captured ‚Äî and not all chess players may be setting up tripods before their games. Second, I created 12 different classes: one for each of the six pieces times the two colors.</p><figure><img src="https://blog.roboflow.com/content/images/2020/01/IMG_0167.JPG" alt=""><figcaption>An (unlabeled) image example from our dataset.</figcaption></figure><p>Ultimately, I collected 292 images. I labeled all the pieces in each of these images, totaling 2894 <a href="https://blog.roboflow.com/glossary/#:~:text=annotation">annotations</a>. This <a href="https://public.roboflow.ai/object-detection/chess-full">chess dataset</a> is publicly available on <a href="https://public.roboflow.ai/">Roboflow Public Datasets</a>. For labelling, there are many high quality, free, and <a href="https://blog.roboflow.com/getting-started-with-labelimg-for-labeling-object-detection-data/">open source tools available like LabelImg</a>. I happened to use <a href="https://rectlabel.com/">RectLabel</a>, which is $3/month.</p><figure><img src="https://blog.roboflow.com/content/images/2020/01/rectLabel-example.png" alt=""><figcaption><em>An example image I labeled in RectLabel.</em></figcaption></figure><p><em>For your non-chess problem</em>, consider collecting images that are in-context of where your model will perform in production. This means ensuring you have a similar angles, lighting, quality, and objects in frame. The more situations your training set takes into account that your model may encounter in production, the better its performance will be. When labelling, it is best to draw bounding boxes that include the entirety of your objects, even if there‚Äôs a small amount of space between the object and the bounding box. Simply put, do not cut out any of the underlying object with your bounding boxes. If one piece blocks view (occludes) that of another, label as though you could see the full object (see the white-bishop and white-rook example above).</p><p>If you‚Äôre seeking already annotated images, consider <a href="https://public.roboflow.ai/object-detection">object detection datasets</a> on sites like <a href="https://public.roboflow.ai/">Roboflow Public Datasets</a> which hosts a variety of free, high quality datasets.</p><hr><h2 id="data-preparation">Data Preparation</h2><p>Going straight from data collection to model training leads to suboptimal results. There may be problems with the data. Even if there aren‚Äôt, <a href="https://blog.roboflow.com/tag/augmentation/">applying image augmentation</a> expands your dataset and reduces overfitting.</p><p>Preparing images for object detection includes, but is not limited to:</p><ul><li>Verifying your annotations are correct (e.g. none of the annotations are out of frame in the images)</li><li><a href="https://blog.roboflow.com/exif-auto-orientation/">Ensuring the EXIF orientation of your images is correct</a> (i.e. your images are stored on disk differently than how you view them in applications, <a href="https://news.ycombinator.com/item?id=21207411">see more</a>)</li><li><a href="https://blog.roboflow.com/you-might-be-resizing-your-images-incorrectly/">Resizing images and updating image annotations to match</a> the newly sized images</li><li>Various color corrections that may improve model performance like <a href="https://blog.roboflow.com/when-to-use-grayscale-as-a-preprocessing-step/">grayscale</a> and <a href="https://blog.roboflow.com/when-to-use-contrast-as-a-preprocessing-step/">contrast adjustments</a></li><li>Formatting annotations to match the requirements of your model‚Äôs inputs (e.g. generating <a href="https://blog.roboflow.com/how-to-create-to-a-tfrecord-file-for-computer-vision/">TFRecords for TensorFlow</a> or a flat text file for some <a href="https://models.roboflow.ai/object-detection/yolov4">implementations of YOLO</a>).<br></li></ul><p>Similar to tabular data, cleaning and augmenting image data can improve your ultimate model‚Äôs performance more than architectural changes in your model.</p><p><a href="https://roboflow.ai/">Roboflow Organize</a> is purpose-built to seamlessly solve these challenges. In fact, Roboflow Organize cuts the code you need to write <a href="https://blog.roboflow.com/eliminating-boilerplate-code-with-roboflow-to-monitor-security-footage/">roughly in half</a> while giving you access to more <a href="https://blog.roboflow.com/tag/preprocessing/">preprocessing</a> and <a href="https://blog.roboflow.com/tag/augmentation/">augmentation</a> options.</p><figure><img src="https://blog.roboflow.com/content/images/2020/01/tweet-loading-images.png" alt="Twitter Poll from Vicki Boykis (@vboykis): Learning PyTorch by doing a project. Which part am I stuck on so far? Winner: Loading image data (40.1%)"><figcaption><em>One of the biggest challenges with computer vision is simply adapting tutorials to your own dataset, not the complex modeling! (<a href="https://twitter.com/vboykis/status/1211109331489501184">Source</a>)</em></figcaption></figure><p>For our specific chess problem, our already <a href="https://public.roboflow.ai/object-detection/chess-full">preprocessed chess data is available on Roboflow.</a></p><p>We‚Äôll be working with the Download version titled, ‚Äú<a href="https://public.roboflow.ai/object-detection/chess-full/1">416x416-auto-orient</a>‚Äù.</p><p>In the case of our tutorial, we‚Äôre using 416x416 images because (1) we want smaller images than the originally captured 2284‚Ää√ó‚Ää1529 dimensions for faster training and (2) for <a href="https://models.roboflow.ai/object-detection/yolo-v3-pytorch">YOLOv3</a>, multiples of 32 are most performant for its architecture.</p><figure><img src="https://blog.roboflow.com/content/images/2020/01/public-chess-dataset-416x416.png" alt="Roboflow screenshot showing annotated chess images and pre-processing steps."><figcaption>Note in this export, our preprocessing includes "Auto-Orient" and "Resize."</figcaption></figure><p>Our images also have had ‚Äú<a href="https://blog.roboflow.com/exif-auto-orientation/">auto-orient</a>‚Äù applied to them, a Roboflow preprocessing step that <a href="https://blog.roboflow.com/exif-auto-orientation/">strips the EXIF data of unintuitive orientations</a>. Auto-orient is important because images are sometimes stored on disk in different orientations than the applications we use to view them. If left uncorrected, this can cause silent failures in our models (see a discussion on HackerNews <a href="https://news.ycombinator.com/item?id=21207411">here</a>). At <a href="https://roboflow.ai/">Roboflow</a>, we often default leave this option on.</p><p>To download this dataset, select ‚Äú<a href="https://public.roboflow.ai/object-detection/chess-full/1">416x416-auto-orient</a>‚Äù. Then, in the upper righthand corner, select ‚ÄúDownload.‚Äù You‚Äôll be prompted to create a free account, and redirected back to the <a href="https://public.roboflow.ai/object-detection/chess-full">chess public dataset page</a>.</p><p>Now, <a href="https://roboflow.ai/">Roboflow</a> allows you to download your images and annotations in a variety of formats. You can also download them locally to your computer, or have Roboflow generate a code snippet you can use to download them directly to a Jupyter Notebook (including Colab) or Python script.</p><p>For our problem, we‚Äôll be using a <a href="https://models.roboflow.ai/object-detection/yolov3-keras">Keras YOLOv3 implementation</a> that calls for a flat text file of annotations. We‚Äôll also be making use of Google Colab for training, so select the ‚Äúshow download code‚Äù in the export options.</p><figure><img src="https://blog.roboflow.com/content/images/2020/01/show-download.png" alt="Roboflow screenshot: Download Dataset dialog (YOLO v3 Keras)"><figcaption>These are the options you'll select for your Download format.</figcaption></figure><figure><img src="https://blog.roboflow.com/content/images/2020/01/code-snippt.png" alt="Roboflow Screenshot: Download Dataset, showing Jupyter notebook curl links."><figcaption>Roboflow generates a code snippet you can drop directly into a Jupyter Notebook, including Colab. Be sure you never share your Roboflow keys publicly!</figcaption></figure><p><em>For your non-chess problem</em>, you can <a href="https://app.roboflow.ai/">create a free Roboflow account</a>, upload images, preprocess, augment, and export them to any annotation format your model may require. To do so, follow our <a href="https://blog.roboflow.com/getting-started-with-roboflow/">Quick Start</a>.</p><hr><h2 id="model-training">Model Training</h2><p>The model architecture we‚Äôll use is called <a href="https://models.roboflow.ai/object-detection/yolov3-keras">YOLOv3</a>, or You Only Look Once, <a href="https://arxiv.org/abs/1804.02767">by Joseph Redmon</a>. This specific model is a one-shot learner, meaning each image only passes through the network once to make a prediction, which allows the architecture to be very performant, viewing up to 60 frames per second in predicting against video feeds. Fundamentally, <a href="https://models.roboflow.ai/object-detection/yolov3-keras">YOLO is a convolutional neural network (CNN)</a> that divides an image into subcomponents, and conducts convolutions on each of those subcomponents before pooling back to create a prediction. A recommended deeper dive on <a href="https://models.roboflow.ai/object-detection/yolov3-keras">YOLO</a> is available <a href="https://blog.roboflow.ai/a-thorough-breakdown-of-yolov4/">here</a>.</p><p>Now, even though we‚Äôre training our model on a custom dataset, it is still advantageous to use another already trained model‚Äôs weights as a starting point. Think of this like we want to climb a mountain as quickly as possible, and instead of starting completely from scratch in creating our own trail, we‚Äôll start with assuming that someone else‚Äôs trail is a better faster than us randomly trying to guess twists and turns to follow.</p><p>To power our model‚Äôs computation, we‚Äôll be using Google Colab, which provides free GPU compute resources (up to 24 hours with your browser open).</p><figure><img src="https://blog.roboflow.com/content/images/2020/01/training-loss.png" alt="Google Colab Screenshot: loss over time (171/500 epochs, 15s 2s/step - loss: 75.3233, val_loss - 63.4790)"><figcaption>As validation loss drops, our model is improving.</figcaption></figure><p>In our notebook, we are predominantly doing six things:</p><ol><li>Selecting up our environment, model architecture, and pre-fit weights (someone else‚Äôs ‚Äútrail‚Äù)</li><li>Loading in our data via the Roboflow code snippet shared above</li><li>Determining our model configuration, like how many epochs to train, training batch sizes, the size of our training vs test set, and our learning rate</li><li>Initiating training (...and waiting!)</li><li>Using our trained model for inference (predictions!)</li><li>(Optional bonus) Save our newly trained weights to our Google Drive so we can ‚Ä¶</li></ol></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.roboflow.com/training-a-yolov3-object-detection-model-with-a-custom-dataset/">https://blog.roboflow.com/training-a-yolov3-object-detection-model-with-a-custom-dataset/</a></em></p>]]>
            </description>
            <link>https://blog.roboflow.com/training-a-yolov3-object-detection-model-with-a-custom-dataset/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25493070</guid>
            <pubDate>Mon, 21 Dec 2020 08:19:58 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Cog-UK update on SARS-CoV-2 Spike mutations of special interest [pdf]]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25492659">thread link</a>) | @cft
<br/>
December 20, 2020 | https://www.cogconsortium.uk/wp-content/uploads/2020/12/Report-1_COG-UK_19-December-2020_SARS-CoV-2-Mutations.pdf | <a href="https://web.archive.org/web/*/https://www.cogconsortium.uk/wp-content/uploads/2020/12/Report-1_COG-UK_19-December-2020_SARS-CoV-2-Mutations.pdf">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://www.cogconsortium.uk/wp-content/uploads/2020/12/Report-1_COG-UK_19-December-2020_SARS-CoV-2-Mutations.pdf</link>
            <guid isPermaLink="false">hacker-news-small-sites-25492659</guid>
            <pubDate>Mon, 21 Dec 2020 06:47:40 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to Do Interesting Work]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25492561">thread link</a>) | @eliotpeper
<br/>
December 20, 2020 | https://www.eliotpeper.com/2020/12/how-to-do-interesting-work.html | <a href="https://web.archive.org/web/*/https://www.eliotpeper.com/2020/12/how-to-do-interesting-work.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="post-body-3023080801982171274" itemprop="articleBody">
<p>If you want to do interesting work, a great starting point is to work on things you find interesting. Instead of trying to optimize for what you think others are likely to find interesting‚Äîchasing the market is a Sisyphean task‚Äîjust keep digging deeper into what <i>you</i>&nbsp;find interesting.</p><p>That way, making your work interesting to others is simply a matter of sharing your enthusiasm. I took a geology class my freshman year of college. It‚Äôs easy to imagine how boring a class about rocks could be. But my professor <i>loved</i>&nbsp;rocks. She had contributed to the discovery of plate tectonics. She took us up into the mountains and showed us how you could decode geological layers laid bare by erosion to reveal the violence and wonder of how the Earth took shape. She could forge a path through the entire universe starting from a single grain of sand. Another professor could have taught the same curriculum to no effect. My professor‚Äôs love for the material brought it to life. She used her enthusiasm to ignite our curiosity.</p><p>But working on things you find interesting is not sufficient to make your work interesting to other people. We‚Äôve all been bored to death by experts who speak in impenetrable acronyms or super-fans who get lost in their own rabbit holes. Their individual interest in the material may be genuine, but it isn‚Äôt contagious because they lack empathy. You (probably) wouldn‚Äôt tell a dirty joke to your grandmother in the same way you‚Äôd tell it to your best friend. Empathy is meeting people where they are so you can take them someplace new. That‚Äôs why rock stars shout out the name of the city they happen to be performing in. Despite her academic fame and scientific expertise, my geology professor didn‚Äôt get stuck in solipsistic obsession. Instead, she <i>used</i>&nbsp;her enthusiasm as a tool to inspire her students, to pry open new worlds for us. As a result, we found her work tremendously interesting.</p><p>So doing interesting work doesn‚Äôt require guessing what others might like or a benevolent hiring manager offering you your dream job. Doing interesting work requires working on things you find interesting, and then cultivating sufficient empathy to find effective ways to share your enthusiasm with the right people. Empathy is the catalyst that makes curiosity contagious. You‚Äôll know you‚Äôre doing it right when the people you seek to reach find your work at least as interesting as you do.</p><p>*</p><p>Complement with <a href="https://www.eliotpeper.com/2020/12/quantity-is-route-to-quality-not-its.html">Quantity is a route to quality, not its opposite</a>, <a href="https://www.eliotpeper.com/2020/10/lasting-value.html">Lasting value</a>, and <a href="https://www.eliotpeper.com/2020/07/creativity-is-choice.html">Creativity is a choice.</a></p><p><b>Get new posts delivered straight to your inbox:</b></p><!--Begin MailChimp Signup Form-->




<p><a href="https://www.eliotpeper.com/p/about.html">Eliot Peper</a>&nbsp;is the author of <a href="https://www.eliotpeper.com/p/blog-page.html">nine novels</a>, including <i><a href="https://www.amazon.com/gp/product/B01E4L5L6S/ref=as_li_qf_sp_asin_il_tl?ie=UTF8&amp;tag=eliotpeper-20&amp;camp=1789&amp;creative=9325&amp;linkCode=as2&amp;creativeASIN=B01E4L5L6S&amp;linkId=cabf238d0378965558ee1c5666331431">Cumulus</a></i>, <i><a href="https://www.amazon.com/gp/product/B075CLV95J/ref=as_li_qf_sp_asin_il_tl?ie=UTF8&amp;tag=eliotpeper-20&amp;camp=1789&amp;creative=9325&amp;linkCode=as2&amp;creativeASIN=B075CLV95J&amp;linkId=56525ceda172bdcc3306737eea07155b">Bandwidth</a></i>, and, most recently, <i><a href="https://www.amazon.com/gp/product/B085PSTJNC/ref=as_li_qf_asin_il_tl?ie=UTF8&amp;tag=eliotpeper-20&amp;creative=9325&amp;linkCode=as2&amp;creativeASIN=B085PSTJNC&amp;linkId=53ae2de44bd14f1b5b598c595ba676b0">Veil</a></i>. He sends <a href="https://www.eliotpeper.com/p/inner-circle.html">a monthly newsletter</a>&nbsp;documenting his journey as a reader and writer, <a href="https://twitter.com/eliotpeper" target="_blank">tweets</a> more than he probably should,&nbsp;and lives in Oakland, CA.</p>
</div></div>]]>
            </description>
            <link>https://www.eliotpeper.com/2020/12/how-to-do-interesting-work.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25492561</guid>
            <pubDate>Mon, 21 Dec 2020 06:18:43 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Herald ‚Äì Bluetooth contact tracing protocol]]>
            </title>
            <description>
<![CDATA[
Score 19 | Comments 10 (<a href="https://news.ycombinator.com/item?id=25492423">thread link</a>) | @npad
<br/>
December 20, 2020 | https://vmware.github.io/herald/ | <a href="https://web.archive.org/web/*/https://vmware.github.io/herald/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <div>
      
      <div>
  <div>
    <div>
      <div>
        
        <p>Herald provides reliable Bluetooth communication and range finding across a wide range of mobile devices, allowing Contact Tracing and other applications to have regular and accurate information to make them highly effective.</p>        
      </div>
      
    </div>
  </div>
</div> <!-- /home-hero -->



<!--
<div class="section pb-0">
    <div class="section-content">
      <div class="row">
        <div class="col">
          <h2 class="text-center"></h2>
          <p></p>
  
          <ul>
            
          </ul>
        </div>
      </div>
    </div>
  </div>
--> 

<div>
  <div>
    <div>
      <p>
        <h2>Herald solves risk estimation problems</h2>
      </p>          
    </div>
    <p><img src="https://vmware.github.io/herald/images/EstimationBenefits.png" alt="Herald estimation benefits">
  </p></div>
</div>

<div>
  <div>
    
    
    
<div>
  
    <div>
      
      <div>
        <div>
          
          <h5>Detect nearby phones</h5>
          
          
<p>100% detection of phones in the foreground and background across iOS and Android devices. <a href="https://vmware.github.io/herald/efficacy/herald">Herald supports</a>) 100% of the phones in the UK that support advertising, as well as the 35% of Android phones (<a href="https://vmware.github.io/herald/efficacy/statistics">~14% of all phones overall</a>) that cannot act as ‚Äòadvertisers‚Äô and so remain unseen by advertising-only based protocols.</p>

          
        </div>
      </div>
    </div>
    
  
    <div>
      
      <div>
        <div>
          
          <h5>Provide regular distance readings</h5>
          
          
<p>Herald performs distance estimations every few seconds, with higher frequency on modern phones. This allows for a more accurate data and risk picture over time. Maximum frequency can be configured to optimise battery use. At <a href="https://vmware.github.io/herald/efficacy/herald">~4s per reading battery use is 6-11% over 8 hours</a>), depending on the age of the phone and its battery capacity.</p>

          
        </div>
      </div>
    </div>
    
  
    <div>
      
      <div>
        <div>
          
          <h5>Interoperate internationally</h5>
          
          
<p>By providing a common packet header we allow for <a href="https://vmware.github.io/herald/payload/interop">international interoperability</a> amongst all contact tracing applications, whether designed for centralised or decentralised contact matching and risk scoring.</p>

          
        </div>
      </div>
    </div>
    
        
</div>

  </div>
</div>

<div>
  <div>
    
    
    <div>

    
        
        


    <div>
    <div>
        <div>
            <p><img src="https://vmware.github.io/herald/img/herald.png" alt="New guides added to website">
                
            </p>
            <article>
                <h5>
                    <a href="https://vmware.github.io/herald/blog/guides">New guides added to website</a>
                </h5>
                <p>
                    We‚Äôve been busy getting ready for the upcoming V1.1 release. For this release we‚Äôve dramatically changed
our documentation on this website.


                </p>
            </article>
        </div>
    </div>
</div>
        
        


    <div>
    <div>
        <div>
            <p><img src="https://vmware.github.io/herald/img/herald.png" alt="New logo and website">
                
            </p>
            <article>
                <h5>
                    <a href="https://vmware.github.io/herald/blog/website">New logo and website</a>
                </h5>
                <p>
                    Quite a few things have happened in the first month since Herald was published as Open Source Software
under the MIT license. [29 Nov 2020 NOTE: Code now under the Apache-2.0 license]


                </p>
            </article>
        </div>
    </div>
</div>
        
         
</div>
    
  </div>
</div>


<div>
  <div>
    
<p>
A lot of work has gone in to mobile app based contact tracing protocol 
research, design, testing and collaboration worldwide. We'd like to thank 
all of those in VMware Pivotal Labs and elsewhere worldwide that have 
assisted with various national and state governments to use mobile contact 
tracing to help save lives. ‚ù§Ô∏è
</p>
  </div>
</div>

<div>
  <div>
    
<p>

All Herald works are Copyright 2020 Herald Authors.
</p>
<p>
The code for Herald (Android, iOS, Analysis Scripts, Calibration tool) are Apache-2.0 licensed. The documentation for Herald, including this website, are under the Creative Commons Attribution 4.0 International Public License.
</p>
<p>
See LICENSE.txt and NOTICE.txt for details.
</p>
  </div>
</div>


<div>
  <div>
    
<div>
  <div>
    <p>Herald Project is released as open source software and provides community support through our GitHub project page.
        If you encounter an issue or have a question, feel free to reach out on the <strong><a href="https://vmware.github.io/herald/issues">GitHub issues page for Herald Project</a></strong>.</p>
    <p>The Herald project team welcomes contributions from the community ‚Äî please see our <strong><a href="https://github.com/vmware/herald/blob/master/contributing.md">contributing documentation</a></strong>.</p>
  </div>
</div>



  </div>
</div>
      <div>
    <div>
        <div>
            <div>
                <h5>Getting Started</h5>
                <p>To help you get started, see the documentation.</p>
            </div>
            
        </div>
    </div>
</div>




<!-- JS -->







    </div>
  </div></div>]]>
            </description>
            <link>https://vmware.github.io/herald/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25492423</guid>
            <pubDate>Mon, 21 Dec 2020 05:44:03 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: A TO-DO app that fits inside a single tweet]]>
            </title>
            <description>
<![CDATA[
Score 31 | Comments 30 (<a href="https://news.ycombinator.com/item?id=25492302">thread link</a>) | @rukshn
<br/>
December 20, 2020 | https://ruky.me/2020/12/21/a-to-do-app-that-fits-in-a-single-tweet/ | <a href="https://web.archive.org/web/*/https://ruky.me/2020/12/21/a-to-do-app-that-fits-in-a-single-tweet/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-59">

<div>
<p>Sunday morning while I was scrolling through my Twitter feed one tweet caught my eye,</p>
<blockquote data-width="550" data-dnt="true"><div lang="en" dir="ltr"><p><a href="https://twitter.com/hashtag/JavaScript?src=hash&amp;ref_src=twsrc%5Etfw">#JavaScript</a> Challenge:</p><p>Can you make a TO-DO app within a single Tweet? (280 chars)</p><p>The app should be able to add tasks, strike-through finished tasks &amp; clear all tasks.</p><p>Any general-purpose library is allowed.<br>Starting HTML body should be empty except the &lt;script&gt;.<a href="https://twitter.com/hashtag/JS?src=hash&amp;ref_src=twsrc%5Etfw">#JS</a> <a href="https://twitter.com/hashtag/code?src=hash&amp;ref_src=twsrc%5Etfw">#code</a></p></div>‚Äî Dumi (@dumindaxsb) <a href="https://twitter.com/dumindaxsb/status/1340539549890404354?ref_src=twsrc%5Etfw">December 20, 2020</a></blockquote>
<p>The challenge was to make a todo app that fits in a single tweet, just like any other todo app, you should be able to add or remove tasks and clear the task list. I thought how hard this can get, I thought to myself this is doable just by using plain JavaScript.</p>
<p>So since I don‚Äôt have a laptop, what resulted was a whole day of torture having to code though my iPad on codepen.</p>
<h2><strong>Plain JavaScript</strong> </h2>
<p>Soon after I started using plain JavaScript it became obvious that I was not able to make it within one tweet, the DOM manipulation was taking too much characters<em>, document.createElements, document.getElements. </em></p>
<p>It was obvious that was not the right approach.</p>
<h2>Using vue</h2>
<p>Vue framework won‚Äôt require any build tools, so I don‚Äôt have to go through setting up Webpack,</p>
<p>Also I can easily create the DOM within the script tag using simple HTML. So that will save some characters for me in DOM manipulation.</p>
<p>The first version I made use the <em>method</em> option in Vue app to handle button clicks, the button click event will call the function in methods to add new tasks and clear the task list.</p>
<p>However, I was unable to reduce it to one tweet. Then I went back to in-line functions, the same methods were added to button click events inline and not within the <em>methods</em> section.</p>
<p>Also I had to change buttons to anchor tags, in order to save some characters, and I had to use emojis instead of button text to save some more characters.</p>
<p>I also had to drop few buttons like a button to add a task, and instead I had to go with pressing enter key to add a task instead.</p>
<p>So I made the final version, the JavaScript code looked like this, </p>
<p data-height="300" data-theme-id="dark" data-default-tab="js" data-user="rukshn" data-slug-hash="qBaXmpE" data-pen-title="qBaXmpE">
<span>See the Pen <a href="https://codepen.io/rukshn/pen/qBaXmpE">
qBaXmpE</a> by Rukshan Ranatunge (<a href="https://codepen.io/rukshn">@rukshn</a>)
on <a href="https://codepen.io/">CodePen</a>.</span>
</p>

<p>Then I ran the code through an online JavaScript minifier and then the whole HTML though an HTML minifier, and ended up with this piece of code,</p>
<pre><code>&lt;body&gt;&lt;script src=https://unpkg.com/<a href="https://ruky.me/cdn-cgi/l/email-protection" data-cfemail="0a7c7f6f4a646f727e">[email&nbsp;protected]</a>&gt;&lt;/script&gt;&lt;script&gt;var x={data:()=&gt;({t:[],k:""}),template:'&lt;input @keyup.enter="t.push(k)" v-model="k"&gt;&lt;a @click="t=[]"&gt;‚ùé&lt;/a&gt;&lt;p v-for="(v,i) in t"&gt;&lt;a @click="t.splice(i,1)"&gt;üÖæÔ∏è&lt;/a&gt;{{v}}&lt;/p&gt;'};Vue.createApp(x).mount("body")&lt;/script&gt;</code></pre>
<p>With my fingers crossed, I copied the code on to Twitter, and guess what it fits perfectly inside a single Tweet.</p>
<blockquote data-width="550" data-dnt="true"><p lang="en" dir="ltr">&lt;body&gt;&lt;script src=<a href="https://t.co/FY9eWOxLgZ">https://t.co/FY9eWOxLgZ</a>&gt;&lt;/script&gt;&lt;script&gt;var x={data:()=&gt;({t:[],k:""}),template:'&lt;input <a href="https://twitter.com/keyup?ref_src=twsrc%5Etfw">@keyup</a>.enter="t.push(k)" v-model="k"&gt;&lt;a <a href="https://twitter.com/Click?ref_src=twsrc%5Etfw">@click</a>="t=[]"&gt;‚ùé&lt;/a&gt;&lt;p v-for="(v,i) in t"&gt;&lt;a <a href="https://twitter.com/Click?ref_src=twsrc%5Etfw">@click</a>="t.splice(i,1)"&gt;üÖæÔ∏è&lt;/a&gt;{{v}}&lt;/p&gt;'};Vue.createApp(x).mount("body")&lt;/script&gt;</p>‚Äî Rukshan (@JustRuky) <a href="https://twitter.com/JustRuky/status/1340862545322762240?ref_src=twsrc%5Etfw">December 21, 2020</a></blockquote>
<p>And here is the code in action, <a href="https://jsbin.com/venihiliha/1/edit?html,output">link</a> </p>
<p data-height="265" data-theme-id="dark" data-default-tab="result" data-user="rukshn" data-slug-hash="qBaXmpE" data-pen-title="qBaXmpE">
<span>See the Pen <a href="https://codepen.io/rukshn/pen/qBaXmpE">
qBaXmpE</a> by Rukshan Ranatunge (<a href="https://codepen.io/rukshn">@rukshn</a>)
on <a href="https://codepen.io/">CodePen</a>.</span>
</p>

<h2>What I failed to achieve </h2>
<p>The original Tweet says, that the completed tasks should have a strike through.</p>
<p>But because css was costing me too much characters I had to fall back to remove completed tasks instead, but I‚Äôm sure someone will figure a solution for that as well.</p>
<p>At the same time, I think you can save even more characters by using <a href="https://mithril.js.org/">mithril</a>, because you have short-codes for DOM elements as well, but I haven‚Äôt tried mithril in awhile.</p>
<h4>One last thing</h4>
<p>No I didn‚Äôt waste my whole Sunday on this problem, but I had to spend few hours, thinking and trying different versions. </p>
<p>I would have cut back some more time if I had a laptop. Somerimes I feel like buying an old laptop and refurbishing it and installing Ubuntu on it.</p>
<p>Sunday well spent? Absolutely yes.</p>
<h2>Best answer?</h2>
<p>One thing I love about HN is the fact that there are lot of bright minds out there. Since I posted this on HN I knew it was just a matter of time since someone figures this out.</p>
<p>I guess this is the best answer and also ticks all the boxes, well done.</p>
<pre><code> &lt;script&gt;document.write(`&lt;style&gt;:checked+*{text-decoration:line-through}#t{display:none}&lt;/style&gt;&lt;p id="t"&gt;&lt;input type="checkbox"&gt;&lt;input&gt;&lt;div id="f"&gt;&lt;/div&gt;&lt;p&gt;&lt;button onclick="f.appendChild(t.cloneNode(true)).id=''"&gt;+&lt;/button&gt;&lt;button onclick="f.innerHTML=''"&gt;√ó&lt;/button&gt;`)&lt;/script&gt;</code></pre>
<p><strong>HN link to this answer</strong>: https://news.ycombinator.com/item?id=25493533</p>
<p><strong>Original thread on HN</strong>: https://news.ycombinator.com/item?id=25492302</p>
</div>

</article></div>]]>
            </description>
            <link>https://ruky.me/2020/12/21/a-to-do-app-that-fits-in-a-single-tweet/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25492302</guid>
            <pubDate>Mon, 21 Dec 2020 05:12:14 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Coercing Windows 10 to install on a NVMe drive]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25492288">thread link</a>) | @pngmangi
<br/>
December 20, 2020 | https://ansonvandoren.com/posts/clean-win10-install-nvme/ | <a href="https://web.archive.org/web/*/https://ansonvandoren.com/posts/clean-win10-install-nvme/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        
<p>My daily driver is a desktop that I originally built as a Hackintosh for my wife's use. She outgrew it a year
or so ago for a new iMac, and I inherited it. Over the year, I've been using macOS less and less, and have spent
much more time on the dual-booted Windows 10 installation, especially since WSL is getting better and better
all the time. It's almost not painful to use for just about all the coding, writing, and occasional photography
or design projects I undertake.</p>
<p>Two days ago, I noticed while doing some file cleanup that there really was a terrific lot of crap that had
accumulated on the Windows drive. I'm fairly certain that this drive started out as a Windows 7 install, then
probably skipped Windows 8 and has been on Windows 10 through several Insider Ring upgrades over the years.
Anyway, I thought I'd just finish my backup and then re-install Windows to have a nice clean start. At the same
time, I figured since I wasn't really using the macOS installation that much, I'd move that one to a slower SATA
SSD and move Windows over to the <a href="https://amzn.to/2KGpd3x">Western Digital 500GB NVMe M.2 drive</a> that previously
hosted the Hackintosh boot drive.</p>
<p>Based on my recollection of the last time I'd installed/updated Windows, it seemed like a reasonable afternoon
project that should be pretty straightforward. As it turns out, the actual installation of Windows 10 is even quicker
than I had remembered, but the getting to the point where installation was possible was more than I bargained for.</p>
<p>This is a write-up because I ran into a few problems that were difficult to find great answers for, and I'm sure
there's someone else out there who will get into a similar situation. That someone is most likely to be a future
version of me‚Ä¶</p>

<p><strong>Windows 10 install media</strong></p>
<p>This is the easy part. I remembered having had issues in the past with the <a href="https://www.microsoft.com/en-us/software-download/windows10">Windows Media Creation Tool</a>,
and so I went out of my way to download the plain old ISO.</p>
<blockquote>
<p>Pro-tip: if you want to do this you need to
<a href="https://www.howtogeek.com/427223/how-to-download-a-windows-10-iso-without-the-media-creation-tool/">spoof your User-Agent</a>
if you're on Windows.</p>
</blockquote>
<blockquote>
<p>Pro-pro-tip: you probably don't need to do this. I ended up using WMCT and had no issues.</p>
</blockquote>
<p>Anyway, if you want to get the ISO then you'll probably want something like <a href="https://rufus.ie/">Rufus</a> to help
you burn it into a USB thumb drive. As I mentioned above, during the course of about 15 installation attempts,
I ended up recreating the bootable media with WMCT and that's the version I ultimately successfully used. The
other failures weren't due to the ISO or Rufus, but it's probably easier to just use WMCT unless you have some
other burning reason not to.</p>
<p><strong>Hard drive prep</strong></p>
<p>I had already cleaned everything I needed off of the M.2 drive, and had reformatted it before leaving macOS.
The drive doesn't need to be in any particular state, format, or partitioning scheme - you can take care
of that in the Windows installer.</p>
<p>Some motherboards have little quirks about whether you can actually have more than one M.2 drive connected,
and if so, what other SATA ports you might lose access to, or which other PCIe slots get degraded lanes or
just stop working altogether. In my case, I'd already connected it up correctly several years ago and didn't
need to make any changes, but worth checking if you're using the M.2 drive for the first time.</p>
<p><strong>BIOS prep</strong></p>
<p>I'm going to skip all of the many, many things I tried that didn't work with BIOS settings for this, and
just make note of what I ended up finding was important. Obviously all BIOSs are different and so this won't
be an exact prescription unless you also happen to have a GIGABYTE GA-Z170X-UD5 on F21 BIOS version, but
it may be helpful nonetheless.</p>
<p><strong>CSM needs to be turned off.</strong> This is Compatibility Support Module, and it (possibly among other things) will
force the boot media into MBR mode, and not UEFI mode. You want UEFI mode unless your motherboard is somehow
so old that it's not enabled. But if that were the case you're probably not trying to install Windows 10 on it.</p>
<p>If you have CSM enabled, it's very likely that you'll see an error message like ‚ÄúWindows cannot be installed to this disk.
The selected disk is of the GPT partition style.‚Äù</p>
<figure>
    <img src="https://ansonvandoren.com/images/the-selected-disk-is-of-the-gpt-partition-style.png#center" alt="This may mean you have CSM enabled"> <figcaption>
            <p>This may mean you have CSM enabled</p>
        </figcaption>
</figure>

<p>I also needed to set <strong>Secure Boot to Disabled</strong> otherwise I couldn't even get to the BIOS screen‚Ä¶ I needed to
hard-reset the CMOS a few times before I figured this out definitively.</p>
<p>The final setting that mattered was the <strong>‚ÄúWindows 8/10 Features‚Äù</strong>, which needed to be set to ‚ÄúWindows 8/10‚Äù.
The WHQL setting isn't needed, and the ‚ÄúOther OS‚Äù had been my previous setting when the boot manager was
Clover from the Hackintosh EFI partition, but didn't work with a Windows EFI boot loader.</p>
<p>I also had ‚ÄúFast Boot‚Äù turned off, but I don't think it should matter either way. All these settings (in my BIOS)
were under the tab labeled ‚ÄúBIOS‚Äù.</p>

<p>I don't know why this is a problem. Others seem to have it as well, but not consistently. I don't know if
it's related to this being a clean install with multiple internal hard drives connected, or to something
about USB 3.x vs USB 2.0 for the installer media, or maybe something entirely different. Either way, as I made
it through the initial few steps of the Windows 10 installation, I kept running into a failure with the error
message ‚ÄúWindows could not prepare the computer to boot into the next phase of installation. To install Windows,
restart the installation.‚Äù Of course, restarting the installation doesn't change anything.</p>
<p>Before getting to this point, I had used the partition manager in the installer to delete all partitions from
the target NVMe drive, then chose the Unallocated Space on which to install Windows. I also tried creating
the partitions manually myself, with the same error message.</p>
<p>After much swearing both at the installer and the garbage that is the Microsoft Community Forums, I finally
found my way to a gentleman who went by <a href="https://answers.microsoft.com/en-us/profile/7a26b9f6-6f40-419f-a7bd-9fc6389899c8?sort=LastReplyDate&amp;dir=Desc&amp;tab=Threads&amp;forum=allcategories&amp;meta=&amp;status=&amp;mod=&amp;advFil=&amp;postedAfter=undefined&amp;postedBefore=undefined&amp;threadType=All&amp;page=1">RichardKay1</a> and seemed
to have not only the same exact problem as I, but also a solution that <a href="https://answers.microsoft.com/en-us/windows/forum/all/windows-10-fresh-install-fails/f9614ae4-6dbd-4715-9a81-8586b16dfaf7?page=2">looked like it might have merit</a>.</p>
<p>His steps outlined on the forum were not exact, and mostly dealt with the <code>diskpart</code> utility, with which
I am not all that familiar, so I also spent some time trying to figure out how to safely use that tool
without deleting all the data on the 4 other disks that I had connected still.</p>
<blockquote>
<p>Pro-tip: probably safer to disconnect all the other disks you're not using for the actual install
before messing around with <code>diskpart</code>. Unless you're very careful. Or brave/stupid.
I decline to identify into which category I fell.</p>
</blockquote>
<blockquote>
<p>WARNING: <code>diskpart</code> can seriously ruin your day. BE CAREFUL BEFORE YOU HIT ENTER. You have been warned.</p>
</blockquote>
<p>According to Mr. RichardKay1, the root cause is that the USB installer <em>actually</em> tries to install Windows
onto the same USB stick, despite me having chosen an internal drive as the target. I don't really know how
to verify this, but regardless, his solution worked.</p>

<p>This is the key takeaway to solve the ‚ÄúWindows could not prepare the computer to boot into the next phase
of installation‚Äù. Or it was in my case, anyway.</p>
<p><strong>Reformat the target drive</strong></p>
<ol>
<li>Boot into the USB installer (I assume you can do this, else you probably the target audience.).</li>
<li>Select the language, time, and keyboard type, click Next.</li>
<li>Click ‚ÄúRepair your computer‚Äù, then ‚ÄúTroubleshoot‚Äù, then ‚ÄúCommand Prompt‚Äù.</li>
</ol>
<p>This puts you on the X: drive (temporary RAM disk with some command line utilities) and able to access
the rest of the connected drives. First step is to fully erase the target disk.</p>
<blockquote>
<p>NOTE: it's up to you to choose the correct disks, and make sure that erasing them is actually what you
want to do!</p>
</blockquote>
<ol start="4">
<li>From the command prompt, type <code>diskpart</code> to start the utility. You'll get a little prompt like <code>DISKPART&gt;</code>
and not much else.</li>
<li>Type <code>list disk</code> to show all disks, and identify (by size or whatever) which is your target.</li>
</ol>
<div><pre><code data-lang="cmd">DISKPART<span></span>&gt; list disk

  Disk ###  Status         Size     Free     Dyn  Gpt
  --------  -------------  -------  -------  ---  ---
  Disk 0    Online          111 GB      0 B
  Disk 1    Online          931 GB  1024 KB        *
  Disk 2    Online          465 GB  2048 KB        *
  Disk 3    Online          111 GB      0 B        *
  Disk 4    Online          111 GB      0 B        *
  Disk 5    No Media           0 B      0 B
  Disk 6    Online           14 GB      0 B

DISKPART&gt;
</code></pre></div><p>My target in this case was a 500GB disk, so here shown as Disk 2 (it's not exact).</p>
<ol start="6">
<li>Type <code>select disk 2</code> to choose this disk for manipulation.</li>
</ol>
<blockquote>
<p>WARNING: the next step will erase EVERYTHING on the disk you have selected!</p>
</blockquote>
<ol start="7">
<li>Type <code>clean</code> to erase all partitions on this disk. If you run <code>list disk</code> again after this you should
see that the value in the ‚ÄúFree‚Äù column has gone up to the full drive capacity.</li>
</ol>
<p><strong>Prep the internal drive</strong></p>
<ol start="8">
<li>We eventually want to boot in UEFI mode, and so need the partition scheme to be GPT. Type
<code>convert gpt</code> to accomplish this.</li>
</ol>
<p>This is where I diverged a bit from the forum answer. I wanted to create a EFI partition manually so that
I could keep it big enough to later use <code>grub</code> for a dual-boot Linux install, and also to get the EFI partition
in the right spot on the disk so when I collapsed partitions later I wouldn't leave a gap.</p>
<ol start="9">
<li>Create an EFI partition with <code>create partition EFI size=500</code> (size is in MB).</li>
<li>Format the EFI partition to FAT32 (important) with <code>format FS=FAT32 label=System</code>.</li>
</ol>
<p>Now that EFI was ready to go, I wanted to create a ~10GB partition to hold the install media that was currently
on the USB thumb drive. The process is similar to creating the EFI partition except that it's a ‚Äòprimary‚Äô partition
and formatted as NTFS:</p>
<ol start="11">
<li>Create installer partition with <code>create partition primary size=10000</code>.</li>
<li>Format installer partition with <code>format quick FS=NTFS label=Installer</code>.</li>
</ol>
<p>Next, I needed to access files on both the installer USB and also on the new internal partition. To do that
I needed to assign a drive letter.</p>
<ol start="13">
<li>To see what letters are assigned, type <code>list volume</code></li>
</ol>
<div><pre><code data-lang="cmd">DISKPART<span></span>&gt; list volume

  Volume ###  Ltr  Label        Fs     Type        Size     Status     Info
  ----------  ---  ‚Ä¶</code></pre></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://ansonvandoren.com/posts/clean-win10-install-nvme/">https://ansonvandoren.com/posts/clean-win10-install-nvme/</a></em></p>]]>
            </description>
            <link>https://ansonvandoren.com/posts/clean-win10-install-nvme/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25492288</guid>
            <pubDate>Mon, 21 Dec 2020 05:09:02 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A survey of rust GUI libraries]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 4 (<a href="https://news.ycombinator.com/item?id=25492179">thread link</a>) | @tetraodonpuffer
<br/>
December 20, 2020 | https://www.boringcactus.com/2020/08/21/survey-of-rust-gui-libraries.html | <a href="https://web.archive.org/web/*/https://www.boringcactus.com/2020/08/21/survey-of-rust-gui-libraries.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    
    <p>a popular trend in the Rust community is to ask "Are We X Yet" for various things that it would be nice to be able to develop easily in Rust - <a href="https://arewegameyet.rs/">game</a> and <a href="https://www.arewewebyet.org/">web</a> are the most prominent ones as far as i can tell - and one such question is <a href="https://areweguiyet.com/">Are We GUI Yet</a>.
that's a good question; <em>are</em> we GUI yet?
Are We GUI Yet has a list of libraries for building GUIs: let's go through them in alphabetical order and see if we can build a simple to-do list with them without too much struggle.</p>
<p>some notes before we get started.</p>
<ol>
<li>this is all extremely subjective.</li>
<li>the only ui toolkits i have used and not hated are Swing (i know), Electron (<em>i know</em>), and wxWidgets, which doesn't have Rust bindings because Rust bindings to C++ libraries are generously described as a nuisance to create (i've tried, and i'm writing this post instead of trying harder).
as such, i might be using some of these wrong, who knows.</li>
<li>i use windows, and so anything that's a nuisance to set up on windows is not going to fare well regardless of how cool it is once you get it working.
it could be the best thing since sliced bread or Meteor on release and i wouldn't care.
do not @ me.</li>
<li>the people who wrote these libraries have done more than i have to make the rust gui ecosystem not suck, and i don't want any of this to come across as suggesting that they suck and their work is bad.
the strongest thing i want to say is that a library is not designed in a way that i would want it to be designed, or that it doesn't work for me.
doing this shit at all is really goddamn difficult, and i don't want to minimize that by being unhappy with the results.</li>
<li>i started drafting this post in early July 2020, and finished it in late August 2020.
some things may have changed in the meantime while i wasn't paying attention.</li>
</ol>
<h2>azul</h2>
<p>first on our list is <a href="https://azul.rs/">azul</a>:</p>
<blockquote>
<p>A free, functional, immediate-mode GUI framework for rapid development of desktop applications written in Rust, supported by the Mozilla WebRender rendering engine.</p>
</blockquote>
<p>the wiki says we need cmake installed, which is never a good sign, but conveniently, i've already got that set up on my computer, for reasons i forget but probably didn't enjoy.
the runtime dependencies on linux are a mile long, but fortunately i don't have to care.
azul isn't currently available on crates.io for reasons that presumably exist but are difficult to explain, so we have to add it directly as a git dependency.</p>
<p>once we've got it added as a dependency, we can attempt to run our test crate, just to make sure everything's not on fire. unfortunately:</p>
<div><pre><span></span>error: failed to run custom build command for `servo-freetype-sys v4.0.5`

Caused by:
  process didn't exit successfully: `D:\Melody\Projects\we-are-not-gui-yet\target\debug\build\servo-freetype-sys-1fae054761ff82c5\build-script-build` (exit code: 101)
--- stdout
running: "cmake" &lt;snip&gt;

--- stderr
CMake Error: Could not create named generator Visual Studio 16 2019
</pre></div>
<p>this is an inauspicious beginning.
one version history crawl later and it looks like my cmake is from April 2019, which is not all that old but maybe they hadn't caught up on the latest visual studio yet, who knows.
this is already more work than i was prepared to do, but i've come this far, so it's time to update my cmake.</p>
<p>okay one installer later and it's time to try again.
armed with a cmake from May 2020, let's give this another shot:</p>
<div><pre><span></span>error[E0433]: failed to resolve: could not find `IoReader` in `bincode`
   --&gt; C:\Users\Melody\.cargo\registry\src\github.com-1ecc6299db9ec823\webrender_api-0.60.0\src\display_list.rs:270:35
    |
270 |             let reader = bincode::IoReader::new(UnsafeReader::new(&amp;mut self.data));
    |                                   ^^^^^^^^ could not find `IoReader` in `bincode`
</pre></div>
<p>welp.
the cmake update fixed things, i guess, but now we've got a whole other pile of mess.
this might be fixable, it may have been fixed by the time you read this.
regardless, this library does not work for me.</p>
<h2>conrod</h2>
<p>next up is <a href="https://github.com/pistondevelopers/conrod">conrod</a>:</p>
<blockquote>
<p>An easy-to-use, 2D GUI library written entirely in Rust.</p>
</blockquote>
<p>i've actually used this one before in a couple of projects, but it's been a minute, so i forget the details.</p>
<p>they do not have a real tutorial, which is unfortunate, but they do have some examples.
unfortunately, step one is to pick which of the half dozen backends i want.
do i want glium or vulkano or rendy or piston?
do i look like i know what a vulkano is?
i just want a picture of a <a href="https://youtu.be/EvKTOHVGNbg">god dang hot dog</a>.
okay that's not quite fair, i recognize three of those and can infer from context what the fourth one is, but that's only because i've been down this road before, and i still have no clue which one is the right one to pick.
all the examples live under glium, though, so let's go with that.</p>
<p>wait actually i'm staring at these examples and there's an entire ass event loop in the support code for the examples.
something in here mentions a <code>GliumDisplayWinitWrapper</code> and i'm scared.
i have literally used this library before - on two different projects - and i'm at a loss.
i don't want to just copy and paste the examples without actually understanding what's going on, i can't understand what's going on in the examples, and there's nowhere else to get started.
so there goes that i guess.</p>
<h2>core-foundation</h2>
<blockquote>
<p>Bindings to Core Foundation for macOS.</p>
</blockquote>
<p>oh hey, it's an OS i don't have access to at all.
next.</p>
<h2>druid</h2>
<p>our next contender is <a href="https://linebender.org/druid/">druid</a>:</p>
<blockquote>
<p>Druid is a framework for building simple graphical applications.</p>
</blockquote>
<p>apparently this sprung out of that vi-like text editor a couple googlers were working on, so apparently it's at least possible to use it for real software.
there's a tutorial, they're on crates.io, they're describing it as "conceptually simple and largely non-magical" which i am always a fan of, i am cautiously optimistic.
if we throw it in our dependencies and just see if anything breaks, we find the surprising result that everything just works.</p>
<p>oh hey the first real chapter in the tutorial starts with</p>
<blockquote>
<p>this is outdated, and should be replaced with a walkthrough of getting a simple app built and running.</p>
</blockquote>
<p>you love to see it.
fortunately, we can just ignore that and skip to the hello world example, reproduced here in its entirety:</p>
<div><pre><span></span><span>use</span><span> </span><span>druid</span>::<span>{</span><span>AppLauncher</span><span>,</span><span> </span><span>WindowDesc</span><span>,</span><span> </span><span>Widget</span><span>,</span><span> </span><span>PlatformError</span><span>};</span><span></span>
<span>use</span><span> </span><span>druid</span>::<span>widget</span>::<span>Label</span><span>;</span><span></span>

<span>fn</span> <span>build_ui</span><span>()</span><span> </span>-&gt; <span>impl</span><span> </span><span>Widget</span><span>&lt;</span><span>()</span><span>&gt;</span><span> </span><span>{</span><span></span>
<span>    </span><span>Label</span>::<span>new</span><span>(</span><span>"Hello world"</span><span>)</span><span></span>
<span>}</span><span></span>

<span>fn</span> <span>main</span><span>()</span><span> </span>-&gt; <span>Result</span><span>&lt;</span><span>(),</span><span> </span><span>PlatformError</span><span>&gt;</span><span> </span><span>{</span><span></span>
<span>    </span><span>AppLauncher</span>::<span>with_window</span><span>(</span><span>WindowDesc</span>::<span>new</span><span>(</span><span>build_ui</span><span>)).</span><span>launch</span><span>(())</span><span>?</span><span>;</span><span></span>
<span>    </span><span>Ok</span><span>(())</span><span></span>
<span>}</span><span></span>
</pre></div>
<p>and somehow, this actually works.</p>
<p>the tutorial ends here, which is unfortunate, but there's more documentation, including explanations of core concepts with examples that are... todo lists!
with even more features than what i was planning to include here!
so that's convenient.
the UI hierarchy is based on CSS Flexbox, which i also appreciate.
this is what peak UI layout API looks like:</p>
<div><pre><span></span><span>fn</span> <span>build_new_todo</span><span>()</span><span> </span>-&gt; <span>impl</span><span> </span><span>Widget</span><span>&lt;</span><span>TodoState</span><span>&gt;</span><span> </span><span>{</span><span></span>
<span>    </span><span>let</span><span> </span><span>textbox</span><span> </span><span>=</span><span> </span><span>TextBox</span>::<span>new</span><span>()</span><span></span>
<span>        </span><span>.</span><span>with_placeholder</span><span>(</span><span>"New todo"</span><span>)</span><span></span>
<span>        </span><span>.</span><span>lens</span><span>(</span><span>TodoState</span>::<span>next_todo</span><span>);</span><span></span>
<span>    </span><span>let</span><span> </span><span>button</span><span> </span><span>=</span><span> </span><span>Button</span>::<span>new</span><span>(</span><span>"Add"</span><span>)</span><span></span>
<span>        </span><span>.</span><span>on_click</span><span>(</span><span>|</span><span>_</span><span>,</span><span> </span><span>data</span>: <span>&amp;</span><span>mut</span><span> </span><span>TodoState</span><span>,</span><span> </span><span>_</span><span>|</span><span> </span><span>data</span><span>.</span><span>create_todo</span><span>());</span><span></span>

<span>    </span><span>Flex</span>::<span>row</span><span>()</span><span></span>
<span>        </span><span>.</span><span>with_flex_child</span><span>(</span><span>textbox</span><span>.</span><span>expand_width</span><span>(),</span><span> </span><span>1.0</span><span>)</span><span></span>
<span>        </span><span>.</span><span>with_child</span><span>(</span><span>button</span><span>)</span><span></span>
<span>}</span><span></span>
</pre></div>
<p>1 hour and 80 lines of code later, we've got ourselves a perfectly valid and working todo list!</p>
<p><img src="https://www.boringcactus.com/assets/2020-08-21-survey-of-rust-gui-libraries-1.png" alt="our sample druid application, showing a todo list"></p>
<p>i'm not quite happy with this, though: we can type text and hit the button and it adds the todo, but pressing enter in the text field doesn't do anything.
there's no way out-of-the-box to make that happen; let's see if we can build that ourselves.</p>
<p>~30 lines of code later, we've got it!
the <code>Controller</code> trait is designed for exactly this sort of thing, when you need to wrap the behavior of an existing component and intercept some events to inject your own logic.</p>
<p>if you're curious, you can take a look at <a href="https://git.sr.ht/~boringcactus/survey-of-rust-gui-libraries/tree/main/druid-test">the source for our druid example</a>.</p>
<p>so apparently druid is actually pretty darn usable.
i only have a couple tiny issues with it:</p>
<ol>
<li>it doesn't use platform native UI widgets, so it doesn't look quite like a windows app should, and it won't look quite like a mac or linux app should either if i test it there.
this one is a feature as far as some people are concerned, but i am not on that list.</li>
<li>accessibility features like being able to tab between UI widgets (<em>update 2020-12-14</em>: and also literally any screen reader support) are missing, so you'd have to roll those yourself in a real application.
 maybe they'll add that by default in future versions, maybe not, but it would be neat if it existed.</li>
<li>high-level documentation is incomplete.
the individual struct/function docs are really good, but at a high level you don't really have a convenient place to jump in.</li>
</ol>
<p>i was about to add "no support for web" to that list, but even though the high-level docs don't mention it, the crate root docs and the examples do.
on the plus side, it just works, and i didn't have to make any changes to my code because i use <a href="https://github.com/rustwasm/wasm-pack/pull/736">this patch to wasm-pack that lets you just use binary crates in wasm-pack</a> even though it hasn't been merged yet upstream.
on the minus side, it points everything at a <code>&lt;canvas&gt;</code> tag, which means you get none of the accessibility features of actually using the DOM.
so that one's a mixed bag.</p>
<p>but yeah, overall druid is perfectly usable for gui development.
i was originally calling this post "we are not gui yet" but i guess we are at least a little bit gui already.
pleasant surprises are the best kind.</p>
<h2>fltk</h2>
<p>following up that success is <a href="https://github.com/MoAlyousef/fltk-rs">fltk</a>:</p>
<blockquote>
<p>The FLTK crate is a crossplatform lightweight gui library which can be statically linked to produce small, self-contained and fast gui applications.</p>
</blockquote>
<p>cross-platform and statically linked are both good things.
the upstream FLTK website makes my eyes bleed, which is never a good sign for a UI library, but that doesn't mean much one way or the other.
the simple hello world example is once again a mere handful of lines:</p>
<div><pre><span></span><span>use</span><span> </span><span>fltk</span>::<span>{</span><span>app</span>::<span>*</span><span>,</span><span> </span><span>window</span>::<span>*</span><span>};</span><span></span>

<span>fn</span> <span>main</span><span>()</span><span> </span><span>{</span><span></span>
<span>    </span><span>let</span><span> </span><span>app</span><span> </span><span>=</span><span> </span><span>App</span>::<span>default</span><span>();</span><span></span>
<span>    </span><span>let</span><span> </span><span>mut</span><span> </span><span>wind</span><span> </span><span>=</span><span> </span><span>Window</span>::<span>new</span><span>(</span><span>100</span><span>,</span><span> </span><span>100</span><span>,</span><span> </span><span>400</span><span>,</span><span> </span><span>3‚Ä¶</span></pre></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.boringcactus.com/2020/08/21/survey-of-rust-gui-libraries.html">https://www.boringcactus.com/2020/08/21/survey-of-rust-gui-libraries.html</a></em></p>]]>
            </description>
            <link>https://www.boringcactus.com/2020/08/21/survey-of-rust-gui-libraries.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25492179</guid>
            <pubDate>Mon, 21 Dec 2020 04:39:24 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Modeling TLA+ in Z3Py (2020)]]>
            </title>
            <description>
<![CDATA[
Score 12 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25492150">thread link</a>) | @philzook
<br/>
December 20, 2020 | https://www.philipzucker.com/Modelling_TLA_in_z3py/ | <a href="https://web.archive.org/web/*/https://www.philipzucker.com/Modelling_TLA_in_z3py/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    <p>It‚Äôs that time of year again where I‚Äôm fiddling around with Z3Py. I‚Äôm booting it back up because I‚Äôm scheduled to do a <a href="https://fmie2021.github.io/agenda.html">tutorial on Z3</a> on Feb 3. It‚Äôs kind of silly because I probably already have too much content, and the tutorial is aimed at newbies, but there are some fun new things that I‚Äôve learned in the last year I can do in Z3. As one example, it‚Äôs not so hard to build a pretty reasonable simulacrum of TLA+ in Z3.</p>

<p><a href="https://lamport.azurewebsites.net/tla/tla.html">TLA+</a> is a modelling/specification language for computational processes. It is particularly useful for modeling concurrency, where our intuitions fail us <a href="http://deadlockempire.github.io/">http://deadlockempire.github.io/</a>. It‚Äôs the mind child of Leslie Lamport, the same guy behind <a href="https://en.wikipedia.org/wiki/LaTeX">LaTex</a> and <a href="https://en.wikipedia.org/wiki/Paxos_(computer_science)">Paxos</a>. The language doesn‚Äôt aim for deep verification of your actual code as is sometimes the goal with tools like Coq, but because of that it is significantly more lightweight and easy to use. 
The <a href="https://lamport.azurewebsites.net/tla/toolbox.html">TLA+ Toolbox</a> is a freely available IDE and checker to TLA+, but I think it is kind of a neat idea to replicate something in the flavor of TLA+ in all too familiar python. By leveraging Z3, we can get a lot of logical mileage and solver power for free.</p>

<p><a href="https://rise4fun.com/z3/tutorial">Z3</a> is an SMT solver. Its input language <a href="http://smtlib.cs.uiowa.edu/examples.shtml">smtlib2</a> is a kind of typed first order logic with special support for things like booleans, integers, reals, bitvectors, and algebraic datatypes. You can ask Z3 if propositions are valid, or if not it can provide a counterexample. It works pretty crazy good, especially if you work around its weaknesses (mostly quantifiers and nasty nonlinear stuff). Z3 has top class performance and its <a href="https://z3prover.github.io/api/html/namespacez3py.html">python bindings</a> are widely regarded as very good.</p>

<p>The main unusual things TLA brings into play compared to bog standard logics is the primed variables \(x'\), representing the values of variables at the next time step, and some temporal operators like always \(\Box\) and eventually \(\Diamond\).</p>

<p>We could mark primes by creating variables in pairs</p>
<div><div><pre><code><span>from</span> <span>z3</span> <span>import</span> <span>*</span>
<span>x</span><span>,</span> <span>xnxt</span> <span>=</span> <span>Ints</span><span>(</span><span>"x x'"</span><span>)</span>
</code></pre></div></div>

<p>But I‚Äôve chosen to mark the prime variables using a special uninterpreted function, which we strip out later.</p>

<div><div><pre><code><span>def</span> <span>nxt</span><span>(</span><span>x</span><span>):</span> <span># next is a special function for generators in python, so we shouldn't use that name
</span>    <span>assert</span> <span>is_const</span><span>(</span><span>x</span><span>)</span>
    <span>assert</span> <span>f</span><span>.</span><span>decl</span><span>().</span><span>kind</span><span>()</span> <span>==</span> <span>Z3_OP_UNINTERPRETED</span><span>:</span>
    <span>s</span> <span>=</span> <span>x</span><span>.</span><span>sort</span><span>()</span>
    <span>return</span> <span>Function</span><span>(</span><span>"nxt"</span><span>,</span> <span>s</span><span>,</span> <span>s</span><span>)(</span><span>x</span><span>)</span>
</code></pre></div></div>

<p>One breakage here as compared to with TLA+ is the use of types. TLA+ curiously insists on a lack of intrinsic types and argues against them as a foundational feature. Types are instead propositions that are proved in the system. This just is really not convenient for using with Z3, so from the get-go I‚Äôm going to take liberties.</p>

<p>We can implement an <code>always</code> operator via a fairly simple procedure, we just roll out the execution of any formula for <code>n</code> time steps. This is the trick of bounded model checking. This rollout can be achieved by using the Z3 <code>substitute</code> function, a surprisingly useful little fellow.</p>

<div><div><pre><code><span># collects up all the variable from a formula
# https://stackoverflow.com/questions/14080398/z3py-how-to-get-the-list-of-variables-from-a-formula
</span><span>def</span> <span>get_vars</span><span>(</span><span>f</span><span>):</span>
    <span>r</span> <span>=</span> <span>set</span><span>()</span>
    <span>def</span> <span>collect</span><span>(</span><span>f</span><span>):</span>
      <span>if</span> <span>is_const</span><span>(</span><span>f</span><span>):</span> 
          <span>if</span> <span>f</span><span>.</span><span>decl</span><span>().</span><span>kind</span><span>()</span> <span>==</span> <span>Z3_OP_UNINTERPRETED</span><span>:</span>
              <span>r</span><span>.</span><span>add</span><span>(</span><span>f</span><span>)</span>
      <span>else</span><span>:</span>
          <span>for</span> <span>c</span> <span>in</span> <span>f</span><span>.</span><span>children</span><span>():</span>
              <span>collect</span><span>(</span><span>c</span><span>)</span>
    <span>collect</span><span>(</span><span>f</span><span>)</span>
    <span>return</span> <span>r</span>


<span>#https://theory.stanford.edu/~nikolaj/programmingz3.html#sec-bounded-model-checking
# rolls out the transition relation for n steps
# it replaces x with x_i and prime(x) with x_(i+1)
</span><span>def</span> <span>always</span><span>(</span><span>p</span><span>,</span><span>n</span><span>=</span><span>20</span><span>):</span>
    <span>orig_vs</span> <span>=</span> <span>get_vars</span><span>(</span><span>p</span><span>)</span>
    <span>nextvs</span> <span>=</span> <span>orig_vs</span>
    <span>t</span> <span>=</span> <span>True</span>
    <span>for</span> <span>i</span> <span>in</span> <span>range</span><span>(</span><span>1</span><span>,</span><span>n</span><span>):</span>
        <span>vs</span> <span>=</span> <span>nextvs</span>
        <span>nextvs</span> <span>=</span>  <span>[</span> <span>Const</span><span>(</span> <span>f"</span><span>{</span><span>str</span><span>(</span><span>v</span><span>)</span><span>}</span><span>_</span><span>{</span><span>i</span><span>}</span><span>"</span><span>,</span> <span>v</span><span>.</span><span>sort</span><span>())</span> <span>for</span> <span>v</span> <span>in</span> <span>orig_vs</span>  <span>]</span>
        <span>p1</span> <span>=</span> <span>substitute</span><span>(</span><span>p</span><span>,</span> <span>[</span> <span>(</span><span>nxt</span><span>(</span><span>v</span><span>),</span> <span>nextv</span><span>)</span> <span>for</span> <span>v</span><span>,</span> <span>nextv</span> <span>in</span> <span>zip</span><span>(</span><span>orig_vs</span><span>,</span><span>nextvs</span><span>)</span>  <span>])</span> 
        <span>p2</span> <span>=</span> <span>substitute</span><span>(</span><span>p1</span><span>,</span> <span>[</span> <span>(</span><span>orig_v</span><span>,</span> <span>v</span><span>)</span> <span>for</span> <span>orig_v</span><span>,</span> <span>v</span> <span>in</span> <span>zip</span><span>(</span><span>orig_vs</span><span>,</span><span>vs</span><span>)</span>  <span>])</span>
        <span>t</span> <span>=</span> <span>And</span><span>(</span><span>t</span><span>,</span><span>p2</span><span>)</span>
    <span>return</span> <span>t</span>
</code></pre></div></div>

<p>Here for example is the specification of a clock from the <a href="https://www.microsoft.com/en-us/research/uploads/prod/2018/05/book-02-08-08.pdf">Specifying Systems</a> book. The clock starts with an hour between 0 and 12, and at each time step increases unless it‚Äôs wrapped around 12.</p>

<div><div><pre><code><span>hr</span> <span>=</span> <span>Int</span><span>(</span><span>"hr"</span><span>)</span>
<span>HCini</span> <span>=</span> <span>And</span><span>(</span><span>1</span> <span>&lt;=</span> <span>hr</span><span>,</span> <span>hr</span> <span>&lt;=</span> <span>12</span><span>)</span>
<span>HCnxt</span> <span>=</span> <span>nxt</span><span>(</span><span>hr</span><span>)</span> <span>==</span> <span>If</span><span>(</span><span>hr</span> <span>!=</span> <span>12</span><span>,</span> <span>hr</span> <span>+</span> <span>1</span><span>,</span> <span>1</span><span>)</span>
<span>HC</span> <span>=</span> <span>And</span><span>(</span><span>HCini</span><span>,</span> <span>always</span><span>(</span><span>HCnxt</span><span>))</span> 
<span>prove</span><span>(</span><span>Implies</span><span>(</span><span>HC</span><span>,</span>  <span>always</span><span>(</span><span>HCini</span><span>)))</span> <span># prove clock always stays between 0 and 12 (for 20 times steps)
</span></code></pre></div></div>

<p>You do have to be careful with using always. Arbitrarily nesting it‚Äôs usage may give unexpected results. Lamport makes an argument that specs very rarely do or should make sophisticated use of the temporal operators. Maybe this is good enough or maybe there is a way to patch this up.</p>

<p>Here are some other useful TLA+ like features and functions transcoded.</p>

<div><div><pre><code><span>def</span> <span>elem</span><span>(</span><span>x</span><span>,</span><span>S</span><span>):</span>
    <span>return</span> <span>Or</span><span>([</span><span>x</span> <span>==</span> <span>s</span> <span>for</span> <span>s</span> <span>in</span> <span>S</span><span>])</span>

<span>def</span> <span>unchanged</span><span>(</span><span>*</span><span>args</span><span>):</span>
    <span>return</span> <span>And</span><span>([</span><span>prime</span><span>(</span><span>x</span><span>)</span> <span>==</span> <span>x</span> <span>for</span> <span>x</span> <span>in</span> <span>args</span><span>])</span>

<span>def</span> <span>eventually</span><span>(</span><span>p</span><span>,</span> <span>n</span><span>=</span><span>20</span><span>):</span>
    <span>return</span> <span>Not</span><span>(</span><span>always</span><span>(</span><span>Not</span><span>(</span><span>p</span><span>),</span><span>n</span><span>=</span><span>n</span><span>))</span>

<span>def</span> <span>stutter</span><span>(</span><span>p</span><span>,</span> <span>vars</span><span>=</span><span>None</span><span>):</span>
    <span>if</span> <span>vars</span> <span>==</span> <span>None</span><span>:</span>
        <span>vars</span> <span>=</span> <span>get_vars</span><span>(</span><span>p</span><span>)</span>
    <span>return</span> <span>Or</span><span>(</span><span>p</span><span>,</span> <span>unchanged</span><span>(</span><span>*</span><span>vars</span><span>))</span>

<span>def</span> <span>enabled</span><span>(</span><span>A</span><span>):</span>
    <span>vs</span> <span>=</span> <span>get_vars</span><span>(</span><span>A</span><span>)</span>
    <span>nxtvs</span> <span>=</span>  <span>[</span> <span>FreshConst</span><span>(</span>  <span>v</span><span>.</span><span>sort</span><span>(),</span> <span>prefix</span><span>=</span><span>str</span><span>(</span><span>v</span><span>)</span> <span>)</span> <span>for</span> <span>v</span> <span>in</span> <span>vs</span><span>]</span>
    <span>p1</span> <span>=</span> <span>substitute</span><span>(</span><span>A</span><span>,</span> <span>[</span> <span>(</span><span>nxt</span><span>(</span><span>v</span><span>),</span> <span>nextv</span><span>)</span> <span>for</span> <span>v</span><span>,</span> <span>nextv</span> <span>in</span> <span>zip</span><span>(</span><span>vs</span><span>,</span><span>nxtvs</span><span>)</span>  <span>])</span> 
    <span>return</span> <span>Exists</span><span>(</span><span>nxtvs</span><span>,</span> <span>p1</span><span>)</span>

<span># backports useful logical operator notation for z3 that it does not have by default
</span><span>BoolRef</span><span>.</span><span>__and__</span> <span>=</span> <span>lambda</span> <span>self</span><span>,</span> <span>rhs</span><span>:</span> <span>And</span><span>(</span><span>self</span><span>,</span><span>rhs</span><span>)</span>
<span>BoolRef</span><span>.</span><span>__or__</span> <span>=</span> <span>lambda</span> <span>self</span><span>,</span> <span>rhs</span><span>:</span> <span>Or</span><span>(</span><span>self</span><span>,</span><span>rhs</span><span>)</span>
<span>BoolRef</span><span>.</span><span>__xor__</span> <span>=</span> <span>lambda</span> <span>self</span><span>,</span> <span>rhs</span><span>:</span> <span>Xor</span><span>(</span><span>self</span><span>,</span><span>rhs</span><span>)</span>
<span>BoolRef</span><span>.</span><span>__invert__</span> <span>=</span> <span>lambda</span> <span>self</span><span>:</span> <span>Not</span><span>(</span><span>self</span><span>)</span>
<span>BoolRef</span><span>.</span><span>__rshift__</span> <span>=</span> <span>lambda</span> <span>self</span><span>,</span> <span>rhs</span><span>:</span> <span>Implies</span><span>(</span><span>self</span><span>,</span><span>rhs</span><span>)</span>
</code></pre></div></div>

<p>Here as another example is the <a href="http://lamport.azurewebsites.net/video/video4.html">Die Hard puzzle</a></p>

<div><div><pre><code><span>small</span><span>,</span> <span>big</span> <span>=</span> <span>Ints</span><span>(</span><span>"small big"</span><span>)</span>

<span>TypeOk</span> <span>=</span> <span>And</span><span>(</span>
   <span>elem</span><span>(</span><span>small</span><span>,</span> <span>range</span><span>(</span><span>4</span><span>)),</span>
   <span>elem</span><span>(</span><span>big</span><span>,</span> <span>range</span><span>(</span><span>6</span><span>))</span>
<span>)</span>
<span>Init</span> <span>=</span> <span>And</span><span>(</span>
   <span>big</span> <span>==</span> <span>0</span><span>,</span>
   <span>small</span> <span>==</span> <span>0</span>
<span>)</span>

<span>FillSmall</span> <span>=</span> <span>And</span><span>(</span><span>prime</span><span>(</span><span>small</span><span>)</span> <span>==</span> <span>3</span><span>,</span> <span>unchanged</span><span>(</span><span>big</span><span>))</span>
<span>FillBig</span> <span>=</span> <span>And</span><span>(</span><span>prime</span><span>(</span><span>big</span><span>)</span> <span>==</span> <span>5</span><span>,</span> <span>unchanged</span><span>(</span><span>small</span><span>))</span>
<span>Goal</span> <span>=</span> <span>big</span> <span>!=</span> <span>4</span>
<span>SmallToBig</span> <span>=</span> <span>If</span><span>(</span><span>big</span> <span>+</span> <span>small</span> <span>&lt;=</span> <span>5</span><span>,</span>   
                 <span>And</span><span>(</span> <span>nxt</span><span>(</span><span>big</span><span>)</span> <span>==</span> <span>big</span> <span>+</span> <span>small</span><span>,</span> <span>nxt</span><span>(</span><span>small</span><span>)</span> <span>==</span> <span>0</span> <span>)</span> <span>,</span> 
                 <span>And</span><span>(</span><span>nxt</span><span>(</span><span>small</span><span>)</span> <span>==</span> <span>small</span> <span>-</span> <span>(</span><span>5</span> <span>-</span> <span>big</span><span>),</span> <span>nxt</span><span>(</span><span>big</span><span>)</span> <span>==</span> <span>5</span><span>)</span>
               <span>)</span>

<span>BigToSmall</span> <span>=</span> <span>If</span><span>(</span> <span>big</span> <span>+</span> <span>small</span> <span>&lt;=</span> <span>3</span><span>,</span>
                 <span>And</span><span>(</span> <span>nxt</span><span>(</span><span>small</span><span>)</span> <span>==</span> <span>big</span> <span>+</span> <span>small</span><span>,</span> <span>nxt</span><span>(</span><span>big</span><span>)</span> <span>==</span> <span>0</span><span>),</span>
                 <span>And</span><span>(</span> <span>nxt</span><span>(</span><span>small</span><span>)</span> <span>==</span> <span>3</span><span>,</span> <span>nxt</span><span>(</span><span>big</span><span>)</span> <span>==</span> <span>big</span> <span>-</span> <span>(</span><span>3</span> <span>-</span> <span>small</span><span>)</span> <span>)</span>
                <span>)</span>

<span>EmptyBig</span> <span>=</span> <span>And</span><span>(</span><span>nxt</span><span>(</span><span>big</span><span>)</span> <span>==</span> <span>0</span><span>,</span>  <span>unchanged</span><span>(</span><span>small</span><span>))</span> 
<span>EmptySmall</span> <span>=</span> <span>And</span><span>(</span><span>nxt</span><span>(</span><span>small</span><span>)</span> <span>==</span> <span>0</span><span>,</span>  <span>unchanged</span><span>(</span><span>big</span><span>))</span> 
<span>Next</span> <span>=</span> <span>Or</span><span>(</span><span>FillSmall</span><span>,</span> <span>FillBig</span><span>,</span> <span>EmptySmall</span><span>,</span> <span>EmptyBig</span><span>,</span> <span>SmallToBig</span><span>,</span> <span>BigToSmall</span><span>)</span>

<span>Spec</span> <span>=</span> <span>Init</span> <span>&amp;</span> <span>always</span><span>(</span><span>Next</span><span>,</span> <span>n</span><span>=</span><span>8</span><span>)</span>
<span>prove</span><span>(</span> <span>Implies</span><span>(</span><span>Spec</span>  <span>,</span> <span>always</span><span>(</span><span>Goal</span><span>,</span> <span>n</span> <span>=</span> <span>8</span><span>)))</span>
</code></pre></div></div>

<p>Z3 does in fact return a counter model that fills the buckets up as desired.</p>

<p>TLA+ has a tendency to use functions/records which are not so obvious how to encode. There are different ways of going about this. One aspect of playing around with Z3py is that it makes extremely clear the existence of the logic language and a metalanguage. The logic is Z3 expressions, but the metalanguage is python and they are obviously very different. But there is often a choice of whether to encode things in the logic vs the metalanguage. It is usually better I think to encode as much in python as possible if you can get away with it. Z3 likes piles of simple constraints more than it likes complicated quantifiers and things.</p>

<p>For example, we can want to encode an Enum type in python or in Z3.</p>

<div><div><pre><code><span>from</span> <span>enum</span> <span>import</span> <span>Enum</span><span>,</span> <span>auto</span>
<span>#python enum
</span><span>class</span> <span>RMState</span><span>(</span><span>Enum</span><span>):</span>
     <span>WORKING</span> <span>=</span> <span>auto</span><span>()</span>
     <span>PREPARED</span> <span>=</span> <span>auto</span><span>()</span>
     <span>COMMITTED</span> <span>=</span> <span>auto</span><span>()</span>
     <span>ABORTED</span> <span>=</span> <span>auto</span><span>()</span>

<span># z3 enum
</span><span>RMState</span> <span>=</span> <span>Datatype</span><span>(</span><span>"RMState"</span><span>)</span>
<span>RMState</span><span>.</span><span>declare</span><span>(</span><span>"working"</span><span>)</span>
<span>RMState</span><span>.</span><span>declare</span><span>(</span><span>"prepared"</span><span>)</span>
<span>RMState</span><span>.</span><span>declare</span><span>(</span><span>"committed"</span><span>)</span>
<span>RMState</span><span>.</span><span>declare</span><span>(</span><span>"aborted"</span><span>)</span>
<span>RMState</span> <span>=</span> <span>RMState</span><span>.</span><span>create</span><span>()</span>
</code></pre></div></div>

<p>Or we can choose to encode records in Z3 vs python.</p>

<div><div><pre><code><span>#python record of z3 values
</span><span>val</span> <span>=</span> <span>Int</span><span>(</span><span>"val"</span><span>)</span>
<span>rdy</span><span>,</span> <span>ack</span> <span>=</span> <span>Bools</span><span>(</span><span>"rdy ack"</span><span>)</span>
<span>chan</span> <span>=</span> <span>{</span><span>val</span> <span>:</span> <span>val</span><span>,</span> <span>rdy</span> <span>:</span> <span>rdy</span><span>,</span> <span>ack</span> <span>:</span> <span>ack</span><span>}</span>

<span># Z3 record of Z3 values
</span><span>Chan</span> <span>=</span> <span>Datatype</span><span>(</span><span>"Chan"</span><span>)</span>
<span>ChanCon</span> <span>=</span> <span>Chan</span><span>.</span><span>declare</span><span>(</span><span>"constr"</span><span>,</span> <span>(</span><span>"val"</span><span>,</span> <span>IntSort</span><span>())</span> <span>,</span> <span>(</span><span>"rdy"</span><span>,</span> <span>BoolSort</span><span>()),</span>  <span>(</span><span>"ack"</span><span>,</span> <span>BoolSort</span><span>())</span> <span>)</span>
<span>Chan</span> <span>=</span> <span>Chan</span><span>.</span><span>create</span><span>()</span>
<span>record</span> <span>=</span> <span>Chan</span><span>.</span><span>constr</span><span>(</span><span>val</span><span>,</span><span>rdy</span><span>,</span><span>ack</span><span>)</span>
<span>chan</span> <span>=</span> <span>Const</span><span>(</span><span>"chan"</span><span>,</span> <span>Chan</span><span>)</span>
</code></pre></div></div>

<p>Or we can choose to encode functions in z3 or python</p>

<div><div><pre><code><span># python square. Works of Z3 values too
</span><span>def</span> <span>square</span><span>(</span><span>x</span><span>):</span>
    <span>return</span> <span>x</span><span>*</span><span>x</span>

<span># Internalized Z3 square function
</span><span>square</span> <span>=</span> <span>Function</span><span>(</span><span>"square"</span><span>,</span> <span>IntSort</span><span>(),</span><span>IntSort</span><span>())</span>
<span>x</span> <span>=</span> <span>Int</span><span>(</span><span>"x"</span><span>)</span>
<span>square_axiom</span> <span>=</span> <span>ForAll</span><span>([</span><span>x</span><span>],</span> <span>square</span><span>(</span><span>x</span><span>)</span> <span>==</span> <span>x</span> <span>*</span> <span>x</span><span>)</span>
</code></pre></div></div>

<h3 id="bits-and-bobbles">Bits and Bobbles</h3>

<p>Downsides:</p>

<ul>
  <li>Very ad hoc. The use of special autogenerated names is a great way to inadvertently smash things together</li>
  <li>TLA syntax is designed to be readable. The python adds a lot of noise</li>
  <li>TLA toolbox can format specs nicely using latex.</li>
  <li>TLA has a lot of thought gone into it. Making changes to it in an afternoon of thought is probably not to be trusted</li>
</ul>

<p>Upsides:</p>
<ul>
  <li>Better fits Z3, so we get good automation from the get go</li>
  <li>python is lingua franca of computing. It is comforting compared to TLA+, even if Z3py might be discomfiting.</li>
  <li>Having to download the toolbox and figure out how to use it is always going to be a slight speedbump. There is a TLA+ vscode extension now though. That might help</li>
</ul>

<p>Using Python ast parsing <a href="https://greentreesnakes.readthedocs.io/en/latest/index.html">https://greentreesnakes.readthedocs.io/en/latest/index.html</a>, we could probably use regular simple python syntax as a PlusCal like DSL and compile it into the above Z3-TLA+ hybrid.</p>

<p>I‚Äôm not sure if the CHOOSE operator of TLA+ will be easy to implement. It kind of seems like it requires nested solves? Can it be encoded using</p>

<p>I don‚Äôt particularly understand the TLA+ module system yet and I‚Äôm not so sure how to emulate it. Python modules might be one way, or perhaps classes.</p>

<p>Although I tried to copy exactly, perhaps one shouldn‚Äôt spec in precisely the style of standard TLA+.</p>

<h3 id="links">Links</h3>

<ul>
  <li><a href="https://www.learntla.com/introduction/">https://www.learntla.com/introduction/</a> Hillel Wayne‚Äôs tutorial</li>
  <li><a href="https://www.microsoft.com/en-us/research/uploads/prod/2018/05/book-02-08-08.pdf">https://www.microsoft.com/en-us/research/uploads/prod/2018/05/book-02-08-08.pdf</a> Specifying Systems</li>
  <li><a href="https://pron.github.io/tlaplus">https://pron.github.io/tlaplus</a>  Very impressive essays by Ron Pressler</li>
  <li><a href="https://github.com/cobusve/TLAPLUS_DeadlockEmpire">https://github.com/cobusve/TLAPLUS_DeadlockEmpire</a> Very neat way to learn TLA+</li>
  <li><a href="https://github.com/tlaplus/Examples">https://github.com/tlaplus/Examples</a></li>
  <li>Apalache is a Z3 backed model checker for TLA+ <a href="https://github.com/informalsystems/apalache">https://github.com/informalsy‚Ä¶</a></li></ul></div></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.philipzucker.com/Modelling_TLA_in_z3py/">https://www.philipzucker.com/Modelling_TLA_in_z3py/</a></em></p>]]>
            </description>
            <link>https://www.philipzucker.com/Modelling_TLA_in_z3py/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25492150</guid>
            <pubDate>Mon, 21 Dec 2020 04:31:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Virtual Events Suck]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25491847">thread link</a>) | @gmays
<br/>
December 20, 2020 | https://aparker.io/posts/virtual-events-suck/ | <a href="https://web.archive.org/web/*/https://aparker.io/posts/virtual-events-suck/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <div>
  
  <p><time datetime="2020-12-10T09:30:00-0500">Thu, Dec 10, 2020</time></p><p><img src="https://aparker.io/images/virtualeventssuckheader.png" alt="image"></p>
<p>I mean, is this even up for argument?</p>

<p>One of the whitest-ass things in the world is our people‚Äôs obsession with songs at sporting events, and indeed, in large crowds. If you‚Äôre reading this and you‚Äôre from Europe, feel free to replace my references to Sweet Caroline with Seven Nation Army, same diff. That said, you can fairly reliably trigger this behavior in most cultures in most parts of the world by finding a sufficiently rowdy bar around midnight and playing <em>something</em> on the jukebox that gets folks going. Humans, we‚Äôre social creatures, yeah? A few bars of Neil Diamond, a couple people singing along, and by the time you‚Äôre at ‚ÄòHands, touching hands‚Äô you‚Äôll have a swelling crescendo that culminates in a ear-shattering and atonal screech of ‚ÄòSWEEEEEEEEEEEEET CAR-O-LINE (WOAH OH OH)‚Äô making the bartenders silently plot the murder of everyone in their line of sight.</p>
<p>People like being around people, and most people don‚Äôt treat everyone around them as some sort of incredibly delicate faberge egg. There‚Äôs a lot of ‚Äúwow look at all these accomodations people are making that disabled people have asked for now that nobody is supposed to leave their house! hypocrisy, much??‚Äù and I‚Äôm like, yeah, duh? Pointing out hypocrisy is the lowest form of engagement in 2020. This is why virtual events suck ‚Äì because nobody is actually planning on doing them any longer than they need to.</p>

<blockquote>
<p>One of the benefits of in-person conferences is that they temporarily remove you from your day-to-day work and immerse you in a community of like-minded individuals. It‚Äôs not just about getting to hear new ideas, but also about the break from your daily routine. This is one of the things that is hardest to replicate in a virtual event. DIDevOps was perhaps the most successful virtual conference I‚Äôve seen in making their event feel like An Event. This event was clever and whimsical, the community was engaged, and it definitely didn‚Äôt feel like just another video call.</p>
</blockquote>
<p><a href="https://redmonk.com/rstephens/2020/04/30/deserted-island-devops/">Rachel Stephens, RedMonk</a></p>
<p>I wrote earlier this year about the idea of a <a href="https://aparker.io/posts/deserted-island-devops/">decisive moment</a> and how that influenced the thinking behind Deserted Island DevOps. To elaborate a bit, Cartier-Bresson was a street photographer who coined this phrase in the introduction to his 1947 book.</p>
<blockquote>
<p>Photography is the simultaneous recognition, in a fraction of a second, of the significance of an event as well as of a precise organisation of forms which give that event its proper expression.</p>
</blockquote>
<p>What is, then, the ‚Äòdecisive moment‚Äô of a tech conference? My original criteria was that an event was <em>etherial</em> or placeless; From the smallest DevOpsDays to the largest re:Invent, an event is defined less by the where than by the who. As an attendee, you are swept away from the status quo for a time (even as it inorexably pulls you back in, given the amount of people I see working on laptops during events) into a convention center or hotel or theater or whatever, specifically to focus on something other than what you normally would. Quite literally, you are being moved out of your comfort zone. This can prime you to accept ideas that normally you wouldn‚Äôt, can rejigger your brain chemistry for a few hours to make you see things from a different perspective. That‚Äôs valuable! As a speaker, you‚Äôre transported to a new stage, with a new audience, a new set of eyes and ears to reflect off of. It‚Äôs almost like being a comedian and testing out material ‚Äì you try some new lines, some new jokes, add an anecdote here, shave one off there. Repetition builds mastery. Next week, or next month, you‚Äôre going to do it all again. Our traversal through the liminal spaces between these potemkin stages lends itself to inward focus where we must Do The Work to shut out the world around us. To be less floral about it, the demands of the road make us better speakers because the only way we don‚Äôt go fuckin‚Äô mad is to focus on the work.</p>
<p>Virtual events offer none of this, unfortunately. As attendees, another Slack, another Zoom call, another wave of talking heads and PowerPoint. As speakers, our audience disappears behind a chat window. We lose our reflection. It‚Äôs sad and terrible and great for some people, but on the balance I think we dislike it more than we like it.</p>
<p>The bad is part of the fun! You can‚Äôt replicate the feeling of gnawing on an underripe banana while chugging overly-hot-but-not-terribly-flavorful coffee watching someone who‚Äôs company paid way too much for a keynote while mentally ticking off the people you need to talk to that day while working out the soreness in your back from the bed that isn‚Äôt yours that you got maybe four productive sleeping hours in due to jet lag while figuring out who you‚Äôre going to catch up with after the show wraps that day as you muse about how it looks like your competitors have a much nicer booth than yours, and you wonder if they‚Äôre hiring except that one asshole still works there and so on and so forth. ‚ÄúThat sounds terrible!‚Äù you may be musing, <em>and you‚Äôd be right</em>, but I love the terrible. I thrive in the terrible. I‚Äôm drinking single origin fair trade coffee beans that were roasted in small batches locally brewed in a fancy coffee maker and I can tell you that when this is all over and I can have a cuppa brewed in the backroom of a Hilton it is going to be the sweetest thing I can possibly imagine for five seconds right before I start hating everything about it again and <em>that‚Äôs fine</em>.</p>
<p>The bad of an in-person event is terrible, but it‚Äôs a terrible I can work with. I go outside like once or twice a week now to get groceries and that‚Äôs all I‚Äôve done for the past nine months. <em>I want the workable terrible, not this horrific stasis</em>.</p>

<p>The reason that virtual events suck is that we‚Äôre trying to replicate in-person events. We‚Äôre doing old-school iOS skeumorphism but for primarily social gatherings. No wonder they suck! There‚Äôs a few broad reasons:</p>
<ul>
<li><em>Bad UX</em>: Sometimes I like to style on babies by displaying object permanance, but you wouldn‚Äôt know that given the utter contempt event platforms seem to have for their audiences by doing dumb skeumorphic ‚Äúconference halls‚Äù with badly ‚Äòshopped people standing around.</li>
</ul>
<p><img src="https://aparker.io/images/kubeconlobby.png" alt="KubeCon EU ‚ÄòLobby‚Äô"></p>
<ul>
<li>
<p><em>Pervasive Surveillence</em>: I use ad blockers but a bunch of people don‚Äôt, on principle though it‚Äôs really fuckin‚Äô creepy that every click you make on one of these event platforms is tracked. Simply navigating to a sponsor booth counts as a ‚Äòlead‚Äô to the sponsor. Yikes!</p>
</li>
<li>
<p><em>Poor AV Quality</em>: I get that people have to record from their homes but maybe recording someone‚Äôs Zoom isn‚Äôt the best way to do this? I‚Äôm sympathetic, this is legit a hard problem to solve, but many large conferences are still charging an arm and a leg to sponsors (and less for attendees but that‚Äôs a different point) so how about you do local recording then edit things later? If you‚Äôre going to charge me at <em>all</em> then I expect the production values to at least beat out a random Twitch streamer.</p>
</li>
<li>
<p><em>Poor Viewing Experience</em>: A tiny pop-out 720p video that artifacts when I change the size is‚Ä¶ not great. Integrate chat and Q&amp;A better. Do <em>something</em> unique with the format. I sit on enough Zoom calls. Like, why would I <em>pay money</em> to <em>watch videos</em> with a <em>worse player than YouTube</em>? There‚Äôs millions of hours of shit out there for free!</p>
</li>
<li>
<p><em>Yet Another Slack</em>: I just don‚Äôt want to join more Slack channels where people are randomly @here‚Äôing and I never know if it‚Äôs an event organizer with an announcement or some salesperson trying to coax people into their virtual booth.</p>
</li>
<li>
<p><em>Did I Mention Virtual Booths Yet</em>: I have never interacted with anyone in a Virtual Booth and I never will. This appears to be a common sentiment.</p>
</li>
</ul>

<p>Alright, let‚Äôs flip the script. I‚Äôm wearing my business hat now.</p>
<ul>
<li>
<p><em>Bad UX</em>: You think the <em>attendee</em> experience is bad, the admin/sponsor controls and views on these platforms is worse. Arbitrary requirements, poor control over look and feel, nah fam miss me with this.</p>
</li>
<li>
<p><em>Poor Interactivity</em>: You know what‚Äôs great about a real booth? People wander by and they get interested. Why do they wander by? Because they‚Äôre not at home, they need to kill time, and the snacks are on the trade floor. Maybe they just want a t-shirt or whatever, fine, but we do actually get a lot of really valuable feedback and eyes on the product by doing demos. This is extremely useful, and it simply doesn‚Äôt happen at virtual events.</p>
</li>
<li>
<p><em>Attendee Impedence Mismatch</em>: This is more of a theory but I suspect that the attendee mix for virtual events in terms of titles is significantly out-of-balance compared to in-person events. One popular (<em>n</em> = ~1300) virtual event this year had self-reported attendance of only 4% for management roles, but over 40% IC (developer/devops/ops) roles. My hypothesis is that ‚Äúdecision makers‚Äù are less likely to attend virtual events because they‚Äôre intensely overbooked during the in-person -&gt; distributed team transition period and are oversubscribed on other things, which translates into less useful direct sales conversations, but I could be off-base here. If nothing else, my anecdata from talking about this seems to indicate that attendees just don‚Äôt really go to virtual booths.</p>
</li>
<li>
<p><em>Success Looks Different</em>: This is one of those ‚Äòtwo-way street‚Äô problems, but I don‚Äôt think organizers did a great job in general making sponsors successful, and I don‚Äôt think sponsors had the muscle to make themselves successful in a lot of ways. Trying to be too different caused a lot of friction, however, and during a time of reinvention this friction reduced experimentation in my opinion.</p>
</li>
</ul>

<p>Last part - the speaker experience.</p>
<ul>
<li>
<p><em>My Home Is Not Your Home</em>: One of the low key worst things about the pandemic has been the idea of us ‚Äòopening up our homes‚Äô and letting people see how we live. Could we fuckin‚Äô not? Like I don‚Äôt believe that I even have to discuss this but we should probably put the Room Rater person on trial for crimes against humanity. I don‚Äôt <em>want</em> to have to be super concious about my webcam or audio or whatever, I don‚Äôt <em>want</em> to ‚Ä¶</p></li></ul></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://aparker.io/posts/virtual-events-suck/">https://aparker.io/posts/virtual-events-suck/</a></em></p>]]>
            </description>
            <link>https://aparker.io/posts/virtual-events-suck/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25491847</guid>
            <pubDate>Mon, 21 Dec 2020 03:21:13 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Unix Recovery Legend (1986)]]>
            </title>
            <description>
<![CDATA[
Score 117 | Comments 46 (<a href="https://news.ycombinator.com/item?id=25491790">thread link</a>) | @signa11
<br/>
December 20, 2020 | https://www.ee.ryerson.ca/~elf/hack/recovery.html | <a href="https://web.archive.org/web/*/https://www.ee.ryerson.ca/~elf/hack/recovery.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">

<h4>This classic article from Mario Wolczko first
appeared on Usenet in 1986.  </h4>

Have you ever left your terminal logged in, only to find when you
came back to it that a (supposed) friend had typed "<kbd>rm -rf
~/*</kbd>" and was hovering over the keyboard with threats along the
lines of "<em>lend me a fiver 'til Thursday, or I hit return</em>"?
Undoubtedly the person in question would not have had the nerve to
inflict such a trauma upon you, and was doing it in jest.  So you've
probably never experienced the worst of such disasters....<p>


It was a quiet Wednesday afternoon.  Wednesday, 1st October, 15:15
BST, to be precise, when Peter, an office-mate of mine, leaned away
from his terminal and said to me, "<em>Mario, I'm having a little
trouble sending mail.</em>" Knowing that msg was capable of confusing
even the most capable of people, I sauntered over to his terminal to
see what was wrong.  A strange error message of the form (I forget
the exact details) "<kbd>cannot access /foo/bar for userid 147</kbd>"
had been issued by msg.  My first thought was "<em>Who's userid 147?;
the sender of the message, the destination, or what?</em>" So I leant
over to another terminal, already logged in, and typed</p><blockquote>        <kbd>grep 147 /etc/passwd</kbd></blockquote>

<p>only to receive the response</p><blockquote>        <kbd>/etc/passwd: No such file or directory.</kbd></blockquote>

Instantly, I guessed that something was amiss.  This was confirmed
when in response to<blockquote>        <kbd>ls /etc</kbd></blockquote>

<p>I got</p><blockquote>        <kbd>ls: not found.</kbd></blockquote>

I suggested to Peter that it would be a good idea not to try anything
for a while, and went off to find our system manager.<p>

When I arrived at his office, his door was ajar, and within ten
seconds I realised what the problem was.  James, our manager, was
sat down, head in hands, hands between knees, as one whose world has
just come to an end.  Our newly-appointed system programmer, Neil, was
beside him, gazing listlessly at the screen of his terminal.  And at
the top of the screen I spied the following lines:</p><blockquote>
        <kbd># cd <br>
        # rm -rf *</kbd>
</blockquote>

<p>Oh, shit, I thought.  That would just about explain it.</p><p>


I can't remember what happened in the succeeding minutes; my memory
is just a blur.  I do remember trying <kbd>ls</kbd> (again),
<kbd>ps</kbd>, <kbd>who</kbd> and maybe a few other commands beside,
all to no avail.  The next thing I remember was being at my terminal
again (a multi-window graphics terminal), and typing</p><blockquote>
        <kbd>cd /<br>
        echo *</kbd>
</blockquote>
<p>I owe a debt of thanks to David Korn for making <kbd>echo</kbd> a
built-in of his shell; needless to say, <kbd>/bin</kbd>, together
with <kbd>/bin/echo</kbd>, had been deleted.  What transpired in the
next few minutes was that <kbd>/dev</kbd>, <kbd>/etc</kbd> and
<kbd>/lib</kbd> had also gone in their entirety; fortunately Neil had
interrupted <kbd>rm</kbd> while it was somewhere down below
<kbd>/news</kbd>, and <kbd>/tmp</kbd>, <kbd>/usr</kbd> and
<kbd>/users</kbd> were all untouched.</p><p>


Meanwhile James had made for our tape cupboard and had retrieved what
claimed to be a dump tape of the root filesystem, taken four weeks
earlier.  The pressing question was, "<em>How do we recover the
contents of the tape?</em>".  Not only had we lost
<kbd>/etc/restore</kbd>, but all of the device entries for the tape
deck had vanished.  And where does <kbd>mknod</kbd> live?  You
guessed it, <kbd>/etc</kbd>.  How about recovery across Ethernet of
any of this from another VAX?  Well, <kbd>/bin/tar</kbd> had gone,
and thoughtfully the Berkeley people had put <kbd>rcp</kbd> in
<kbd>/bin</kbd> in the 4.3 distribution.  What's more, none of the
Ether stuff wanted to know without <kbd>/etc/hosts</kbd> at least.
We found a version of <kbd>cpio</kbd> in <kbd>/usr/local</kbd>, but
that was unlikely to do us any good without a tape deck.</p><p>


Alternatively, we could get the boot tape out and rebuild the root
filesystem, but neither James nor Neil had done that before, and we
weren't sure that the first thing to happen would be that the whole
disk would be re-formatted, losing all our user files.  (We take dumps
of the user files every Thursday; by Murphy's Law this had to happen
on a Wednesday).  Another solution might be to borrow a disk from
another VAX, boot off that, and tidy up later, but that would have
entailed calling the DEC engineer out, at the very least.  We had a
number of users in the final throes of writing up PhD theses and the
loss of a maybe a weeks' work (not to mention the machine down time)
was unthinkable.</p><p>


So, what to do?  The next idea was to write a program to make a
device descriptor for the tape deck, but we all know where
<kbd>cc</kbd>, <kbd>as</kbd> and <kbd>ld</kbd> live.  Or maybe make
skeletal entries for <kbd>/etc/passwd</kbd>, <kbd>/etc/hosts</kbd>
and so on, so that <kbd>/usr/bin/ftp</kbd> would work.  By sheer
luck, I had a <kbd>gnuemacs</kbd> still running in one of my windows,
which we could use to create <kbd>passwd</kbd>, etc., but the first
step was to create a directory to put them in.  Of course
<kbd>/bin/mkdir</kbd> had gone, and so had <kbd>/bin/mv</kbd>, so we
couldn't rename <kbd>/tmp</kbd> to <kbd>/etc</kbd>.  However, this
looked like a reasonable line of attack.</p><p>


By now we had been joined by Alasdair, our resident UNIX guru, and as
luck would have it, someone who knows VAX assembler.  So our plan
became this: write a program in assembler which would either rename
<kbd>/tmp</kbd> to <kbd>/etc</kbd>, or make <kbd>/etc</kbd>, assemble
it on another VAX, <kbd>uuencode</kbd> it, type in the uuencoded file
using my gnu, <kbd>uudecode</kbd> it (some bright spark had thought
to put <kbd>uudecode</kbd> in <kbd>/usr/bin</kbd>), run it, and hey
presto, it would all be plain sailing from there.  By yet another
miracle of good fortune, the terminal from which the damage had been
done was still <kbd>su</kbd>'d to root (<kbd>su</kbd> is in
<kbd>/bin</kbd>, remember?), so at least we stood a chance of all
this working.</p><p>


Off we set on our merry way, and within only an hour we had managed
to concoct the dozen or so lines of assembler to create
<kbd>/etc</kbd>.  The stripped binary was only 76 bytes long, so we
converted it to hex (slightly more readable than the output of
<kbd>uuencode</kbd>), and typed it in using my editor.  If any of you
ever have the same problem, here's the hex for future reference:</p><blockquote>
   <kbd>070100002c000000000000000000000000000000000000000000000000000000<br>
        0000dd8fff010000dd8f27000000fb02ef07000000fb01ef070000000000bc8f<br>
		8800040000bc012f65746300</kbd>
</blockquote>

<p>

I had a handy program around (doesn't everybody?) for converting
ASCII hex to binary, and the output of <kbd>/usr/bin/sum</kbd>
tallied with our original binary.  But hang on---how do you set
execute permission without <kbd>/bin/chmod</kbd>?  A few seconds
thought (which as usual, lasted a couple of minutes) suggested that
we write the binary on top of an already existing binary, owned by
me...problem solved.

So along we trotted to the terminal with the root login, carefully
remembered to set the umask to 0 (so that I could create files in it
using my gnu), and ran the binary.  So now we had a <kbd>/etc</kbd>,
writable by all.  From there it was but a few easy steps to creating
<kbd>passwd</kbd>, <kbd>hosts</kbd>, <kbd>services</kbd>,
<kbd>protocols</kbd>, (etc), and then <kbd>ftp</kbd> was willing to
play ball.  Then we recovered the contents of <kbd>/bin</kbd> across
the ether (it's amazing how much you come to miss <kbd>ls</kbd> after
just a few, short hours), and selected files from <kbd>/etc</kbd>.
The key file was <kbd>/etc/rrestore</kbd>, with which we recovered
<kbd>/dev</kbd> from the dump tape, and the rest is history.</p><p>


Now, you're asking yourself (as I am), what's the moral of this
story?  Well, for one thing, you must always remember the immortal
words, <strong>DON'T PANIC</strong>.  Our initial reaction was to
reboot the machine and try everything as single user, but it's
unlikely it would have come up without <kbd>/etc/init</kbd> and
<kbd>/bin/sh</kbd>.  Rational thought saved us from this one.</p><p>


The next thing to remember is that UNIX tools really can be put to
unusual purposes.  Even without my <kbd>gnuemacs</kbd>, we could have
survived by using, say, <kbd>/usr/bin/grep</kbd> as a substitute for
<kbd>/bin/cat</kbd>.</p><p>


And the final thing is, it's amazing how much of the system you can
delete without it falling apart completely.  Apart from the fact that
nobody could login (<kbd>/bin/login</kbd>?), and most of the useful
commands had gone, everything else seemed normal.  Of course, some
things can't stand life without say <kbd>/etc/termcap</kbd>, or
<kbd>/dev/kmem</kbd>, or <kbd>/etc/utmp</kbd>, but by and large it
all hangs together.</p><p>


I shall leave you with this question: if you were placed in the same
situation, and had the presence of mind that always comes with
hindsight, could you have got out of it in a simpler or easier way?
Answers on a postage stamp to:</p><pre>Mario Wolczko
------------------------------------------------------------------------
Dept. of Computer Science       ARPA:   miw%uk.ac.man.cs.ux@cs.ucl.ac.uk
The University                  USENET: mcvax!ukc!man.cs.ux!miw
Manchester M13 9PL              JANET:  miw@uk.ac.man.cs.ux
U.K.                            061-273 7121 x 5699
------------------------------------------------------------------------
</pre>

<hr>

<address><a href="https://www.ee.ryerson.ca/~elf/hack/index.html">Hacker's Wisdom</a>: Unix Recovery
Legend</address>

<!-- hhmts start -->
Last modified: Thu Mar  7 13:47:40 EST 1996
<!-- hhmts end --></div>]]>
            </description>
            <link>https://www.ee.ryerson.ca/~elf/hack/recovery.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25491790</guid>
            <pubDate>Mon, 21 Dec 2020 03:11:44 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[What Makes CSS Hard to Master]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25491789">thread link</a>) | @gmays
<br/>
December 20, 2020 | https://timseverien.com/posts/2020-12-06-what-makes-css-hard-to-master/ | <a href="https://web.archive.org/web/*/https://timseverien.com/posts/2020-12-06-what-makes-css-hard-to-master/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>Last week, <a href="https://twitter.com/EmmaBostian/status/1334435314673348609">Emma Bostian tweeted about how she was sick of ‚Äú[CSS]‚Äôs shit.‚Äù</a> <a href="https://twitter.com/EmmaBostian/status/1334863522749145096">She later apologised</a>, but her wording suggests she still thinks it isn‚Äôt lack of knowledge. It‚Äôs fairly common for software engineers to complain about CSS. Interestingly enough, that portion of the web development community also thinks CSS is easy.</p>
<p>In contrast, <a href="https://twitter.com/meyerweb/status/1334862797822373889">Eric Meyer</a>, <a href="https://twitter.com/SaraSoueidan/status/1334796914831855617">Sara Soueidan</a>, <a href="https://twitter.com/brucel/status/1334818455275626499">Bruce Lawson</a>, and more (principal) web developers seem to agree that CSS is hard to master. It‚Äôs interesting how experts say CSS is hard, while a group of people who specialise in other technology say otherwise.</p>
<p>I feel we, the community, have to acknowledge that CSS is easy to get started with and hard to master. Let‚Äôs reflect on the language and find out what makes it hard.</p>
<h2 id="syntax-and-common-properties"><a href="#syntax-and-common-properties">#</a> Syntax And Common Properties</h2>
<p>Back in 2013, Hugo ‚ÄúKitty‚Äù Giraudel published <a href="https://hugogiraudel.com/2013/04/15/css-is-easy/">CSS is Easy</a>, in which they also write about how CSS is perceived as easy. In the article, Kitty makes an excellent point: ‚ÄúCSS is easy‚Ä¶ syntactically.‚Äù I wholeheartedly agree. Consider the following example:</p>
<pre><code><span>body</span> {
  <span>background-color</span>: black;
  <span>color</span>: white;
}

<span>@media</span> (<span>min-width:</span> <span>64em</span>) {
  <span>body</span> {
    <span>background-color</span>: white;
    <span>color</span>: black;
  }
}
</code></pre>
<p>In this snippet, you can see much of the syntax used in CSS. There are selectors, declarations, I even added an at-rule (<code>@media</code>). The properties and values in this example are straight-forward; they just work. The at-rule, although syntactically simple, adds some cognitive load to understanding this snippet. It creates a relationship between what‚Äôs inside and outside the at-rule. In other words, to determine what colour the <code>body</code> is, we have to parse the entire file mentally.</p>
<p>This snippet isn‚Äôt too complex, but as we get more code the number of relationships (like the at-rule) do too.</p>
<h2 id="a-web-of-relationships"><a href="#a-web-of-relationships">#</a> A Web Of Relationships</h2>
<p>Syntax and basic properties are pretty easy, indeed. However, the learning curve of CSS quickly gets steeper when you start dealing with various relationships. Let‚Äôs look at some.</p>
<h3 id="property-sets"><a href="#property-sets">#</a> Property Sets</h3>
<p>Many properties are part of a set, meaning you may need several others to make one work. For instance, the <code>left</code>, <code>right</code>, <code>top</code>, <code>bottom</code>, and the <code>z-index</code> properties are ignored until you add the <code>position</code> property and set it to anything but <code>static</code>. That means that you have to learn a couple of properties of a set and how they relate to each other before being able to use one. If you‚Äôre unaware which properties rely on others, it can be extremely frustrating because it may appear that a declaration just doesn‚Äôt work.</p>
<p>Additionally, it‚Äôs not always obvious which pieces of the set are declared. Consider the following example:</p>
<pre><code><span>.snackbar</span> {
  <span>position</span>: fixed;
  <span>bottom</span>: <span>1rem</span>;
  <span>left</span>: <span>1rem</span>;
  <span>right</span>: <span>1rem</span>;
}

<span>@media</span> (<span>min-width:</span> <span>64em</span>) {
  <span>.snackbar</span> {
    <span>bottom</span>: <span>2rem</span>;
    <span>left</span>: <span>2rem</span>;
    <span>right</span>: <span>2rem</span>;
  }
}
</code></pre>
<p>If we look at the first rule, we can easily tell how an element with the <code>snackbar</code> class would be positioned on our page. If we look at the second rule, the one in the <code>@media</code> at-rule, we‚Äôre not so sure. We‚Äôd have to look up the <code>.snackbar</code> rule outside the at-rule. This example is fairly obvious, but it can get pretty obscure. The <code>position: fixed</code> declaration could be set elsewhere, on another selector, or inline.</p>
<h3 id="the-dom"><a href="#the-dom">#</a> The <abbr title="Document Object Model">DOM</abbr></h3>
<p>We can‚Äôt determine which styles are applied just by looking at your CSS. The HTML, or rather the DOM, also affects them. We have to consider the tag name of the element, its attributes, its siblings, its parents all the way up to the root node, and all relevant styles. If you render HTML server- or client-side, all of this may be dynamic and influenced by the application state.</p>
<p>The adjacent sibling combinator (<code>+</code>) is a simple example of how HTML influences CSS. The following style is only applied when a <code>li</code> is followed by another:</p>
<pre><code><span>li</span> + <span>li</span> { <span>margin-top</span>: <span>1rem</span>; }
</code></pre>
<p>This example is quite expressive but doesn‚Äôt have to be. Another example that took me a while to get as a beginner was using <code>position: absolute</code> on an element with a parent with <code>position: relative</code>. The element with <code>position: absolute</code> is positioned relative to the viewport or relative to an ancestor element with <code>position: relative</code>. In order to place this <code>absolute</code> element correctly in the interface, we have to know whether the element sits in a container with <code>position: relative</code>. Again, we‚Äôd have to look at the DOM, and at all it‚Äôs states, to be sure this is the case.</p>
<p>A similar, perhaps more familiar, example is the <code>flex</code> property. It only works if the element is a direct child of an element with the <code>display: flex</code> declaration.</p>
<p>When we write CSS, we always have to consider the DOM.</p>
<h3 id="cascade"><a href="#cascade">#</a> Cascade</h3>
<p>Let‚Äôs say I want text and links in the <code>&lt;nav&gt;</code> element to be red. We might write the following CSS:</p>
<pre><code><span>nav</span> { <span>color</span>: red; }
<span>nav</span> <span>a</span> { <span>color</span>: inherit; }
</code></pre>
<p>These two simple declarations imply various relationships. The link colour is now dependent on the colour of the text. Because of that, we can set the text colour of the <code>&lt;nav&gt;</code> element and the link will inherit this colour. If we remove either of these two declarations, the link colour won‚Äôt be red anymore.</p>
<p>The flexibility cascade gives has its benefits, but it‚Äôs not hard to imagine that it can get difficult to track the relationships between all styles. It‚Äôs no surprise that many opt to use cascade as little as possible.</p>
<h2 id="compatibility"><a href="#compatibility">#</a> Compatibility</h2>
<p>Designing an interface with CSS that doesn‚Äôt break is no easy task. There are numerous devices, browsers, resolutions, and users we have to take into account. We can also account for device settings, like dark mode using <code>prefers-color-scheme: dark/light</code>. On top of that, there are often various conditions in the interface that affect the styling as well.</p>
<p>Every combination of all these states and overrides have to be taken into account to produce the right output style. Again, this is no easy feat. It often involves a lot of tools and testing during and after development.</p>
<h2 id="maintainability"><a href="#maintainability">#</a> Maintainability</h2>
<p>Like all other code, CSS should be clean, readable, and maintainable. We can group styles into various files, or prefix selectors, but all rules live globally. This is a challenge, but also greatly contributes to keeping the code <abbr title="Don‚Äôt Repeat Yourself">DRY</abbr>.</p>
<p>I earlier explained various types of relationships in CSS. They play a part in maintainability as well. Some of the methodologies used in CSS ‚Äî like atomic design, <abbr title="Block Element Modifier">BEM</abbr>, <abbr title="Inverted Triangle CSS">ITCSS</abbr>, and others ‚Äî help to keep the coupling in check. They‚Äôre similar to paradigms and best practises in programming, and also steepen the learning curve and requires additional knowledge.</p>
<p>Then there are also preprocessors. We have a lot of them (e.g. PostCSS, Sass, LESS, and Stylus) at our disposal to do things we can‚Äôt do with vanilla CSS. This usually improves maintainability but does add another layer of complexity.</p>
<p>Finally, not unlike other languages, there often are various solutions to one problem. A common example is deciding between <code>display: inline-block</code>, the <code>float</code> property, flexbox, or grid to horizontally stack a list of items. Each has its pros and cons. When mentoring beginners, I found this is a challenge for them. It‚Äôs also difficult to convey the differences of these options ‚Äî that are often subtle ‚Äî and which is the most robust in a given situation.</p>
<p>All together, maintainability in CSS is a tradeoff. The code gets more complex syntactically and bound by self-imposed rules, but (hopefully) reduces the effort it takes to understand and modify the code.</p>
<h2 id="concluding"><a href="#concluding">#</a> Concluding</h2>
<p>CSS may seem simple at first, but the learning curve isn‚Äôt linear; mastering it is hard. By no means is the language perfect, but it‚Äôs amazingly efficient at what it‚Äôs designed to do. Despite its simple syntax, there‚Äôs little it can‚Äôt do.</p>
<p>I think mastering CSS comes down to having a good amount of knowledge about it, recognising the subtle dependencies between different declarations, rules, and the DOM, understanding how they make your CSS complex, and how to best avoid them. Reaching that point is naturally frustrating because you will run into code that is a tangled mess where the tiniest edit might change the interface in unexpected ways.</p>
<p>I worry that the way we think about CSS might affect how beginners perceive the language. If they are taught that CSS is easy, they might be discouraged from seeking help when they struggle or just blame the language. Admitting you struggle with something is difficult enough. Let‚Äôs not make it worse for them.</p>
<p>I feel it‚Äôs better if we acknowledge the complexity of writing CSS. We might also stop looking down on CSS specialists. Today, they‚Äôre often considered half a developer, whilst (JavaScript) software engineers (or UI engineers, or whatever they‚Äôre called nowadays) that know little about the complexities of CSS are considered full-fledged front-end developers. We see this on social media, in job openings, and in pay.</p>
<p>Thanks to Danielle, Hidde, Sven, and Thijs for reviewing this post.</p>
</div></div>]]>
            </description>
            <link>https://timseverien.com/posts/2020-12-06-what-makes-css-hard-to-master/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25491789</guid>
            <pubDate>Mon, 21 Dec 2020 03:11:36 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Russian Covid vaccine scientist dead w stab wounds after falling from 14th floor]]>
            </title>
            <description>
<![CDATA[
Score 30 | Comments 4 (<a href="https://news.ycombinator.com/item?id=25491576">thread link</a>) | @bookofjoe
<br/>
December 20, 2020 | https://www.thesun.ie/news/6309990/russian-scientist-covid-vaccine-dead-stab-wounds/ | <a href="https://web.archive.org/web/*/https://www.thesun.ie/news/6309990/russian-scientist-covid-vaccine-dead-stab-wounds/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://www.thesun.ie/news/6309990/russian-scientist-covid-vaccine-dead-stab-wounds/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25491576</guid>
            <pubDate>Mon, 21 Dec 2020 02:30:00 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Cakelisp: A Programming Language for Games]]>
            </title>
            <description>
<![CDATA[
Score 119 | Comments 33 (<a href="https://news.ycombinator.com/item?id=25491568">thread link</a>) | @makuto
<br/>
December 20, 2020 | https://macoy.me/blog/programming/CakelispIntro | <a href="https://web.archive.org/web/*/https://macoy.me/blog/programming/CakelispIntro">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
<p><em>Update:</em> See the <a href="https://news.ycombinator.com/item?id=25491568">Hacker News thread</a>, <a href="https://www.reddit.com/r/programming/comments/kh6ox0/cakelisp_a_programming_language_for_games/">/r/programming</a>, <a href="https://www.reddit.com/r/ProgrammingLanguages/comments/kh6gh2/cakelisp_a_programming_language_for_games/">/r/ProgrammingLanguages</a>, and <a href="https://www.reddit.com/r/gamedev/comments/kh1p0a/cakelisp_a_programming_language_for_games/">/r/gamedev</a> posts for discussions on this article and Cakelisp.</p>
<p>I have been working on a new programming language since the end of August 2020. It is hosted on <a href="https://github.com/makuto/cakelisp/">Github</a>, and mirrored on <a href="https://macoy.me/code/macoy/cakelisp/">my site</a>.</p>
<p>If you want to see a working example first, <a href="https://macoy.me/code/macoy/gamelib/src/branch/master/test/src/VocalGame.cake">VocalGame.cake</a> is a simple audio looper with Ogre 3D graphics and SDL for windowing, input, and audio. This demo supports code hot-reloading and doesn't require an external build system, only Cakelisp. You can also check <a href="https://macoy.me/code/macoy/cakelisp/src/branch/master/runtime/Macros.cake">Macros.cake</a>, which demonstrates some use-cases for compile-time code.</p>
<p>I figured showing non-trivial examples would be much more interesting. It also proves that Cakelisp is working.</p>

<p>Cakelisp is built for me first, but it should appeal to fellow programmers who know what they're doing and want to try a more powerful language.</p>
<p>Cakelisp might be for you if you want‚Ä¶</p>
<ul>
<li><strong>Uncompromised performance</strong></li>
<li><strong>Trust in you, the programmer</strong></li>
<li><strong>Powerful code generation</strong></li>
</ul>
<p>If any of the things in that list don't make sense to you, or you think you're already getting them in language <em>X</em>, then Cakelisp isn't for you, and that's okay! We have different domains and different problems, so it makes some sense to use different languages and methodologies.</p>
<p>While many languages have these features, few have the combination of all three. Lisp has extremely powerful code generation, but makes serious performance compromises. C is great for performance but can require extremely repetitive code writing to accomplish tasks a simple code generator could handle. Rust is fast (well, apart from compilation, which is very important for iterative development to be productive), but doesn't trust the programmer.</p>

<p>My goal is to "have my cake and eat it too", meaning all three of these features in one coherent package. Importantly, there isn't one dominating principle in Cakelisp (no <a href="https://www.youtube.com/watch?v=TH9VCN6UkyQ">Big Idea</a>). I've found that the small things like removing the need for header files, no longer dealing with external build systems, or being able to run Cakelisp files like scripts, end up making a big difference when combined in one package.</p>
<p>It is useful to go over the goals in detail so you can understand my decisions.</p>
<h2 id="uncompromised-performance">Uncompromised performance</h2>
<p>This means no garbage collection, no type boxing/unboxing, etc. Fewer abstractions (besides the ones you create) between you and what the computer is actually doing. Idiomatic usage of the language should result in performance comparable with C (in most cases, it should be identical, because it's only a thin layer on C).</p>
<h2 id="trust-in-you-the-programmer">Trust in you, the programmer</h2>
<p>While languages like Rust offer benefits in terms of security and stability, they cost programmers in terms of productivity. It makes sense to value safety so highly if your code is safety-critical (operating systems, aerospace, automotive, etc.), but it's much less valuable when safety isn't as important (e.g. in games).</p>
<p>In a perfect world all programs would be as robust as space flight software, but in reality, that level of robustness is unnecessary for most programs. It's important to realize that the safety focus is just one way of doing things, not the <em>One True Way</em> or anything.</p>
<h2 id="powerful-code-generation">Powerful code generation</h2>
<p>In my opinion, most languages offer far too little opportunity for the programmer to automate the actual writing of code. This power also relates to trusting in the programmer, because gone wild, the code can become incomprehensible.</p>
<p>The company I work for has what I consider to be a state-of-the-art code generator built for the company's use-case: multi-platform MMOs. It's used very effectively on serialization, RPC, automatic commands, monitoring, automatic documentation, and more.</p>
<p>To give more credence to the use of code generation in games, <a href="https://docs.unrealengine.com/en-US/ProgrammingAndScripting/GameplayArchitecture/index.html">Unreal</a> and <a href="https://www.youtube.com/watch?v=wiJqUWfR90I">Naughty Dog</a> also rely on code generation.</p>
<h2 id="simplify-project-setup-and-management">Simplify project setup and management</h2>
<p>I want to dramatically reduce time wasted on C++ project set-up and "code logistics". This includes setting up build systems, creating header files, adding and managing new C/C++ 3rd party libraries, and other things of that ilk.</p>
<h2 id="gain-more-power">Gain more power!</h2>
<p>Every language has limitations. The lack of straightforward, all-powerful code generation was my primary gripe with C++.</p>
<p>For example, automatically creating function and structure bindings using C++ template metaprogramming is very complex. These are two very useful tools in game development: function bindings for commands, scripting languages, and RPC; structure bindings for serialization or game monitors.</p>
<p>I also wanted features like hot-reloading (being able to load new versions of the code without restarting the program/losing runtime state). Cakelisp made it possible to implement hot-reloading entirely in "user-space", thanks to code modification.</p>
<h2 id="have-my-cake-and-eat-it-too.">"Have my cake and eat it too."</h2>
<p>By this I mean lose little-to-nothing on metrics I care about, which include build time, runtime performance, overall complexity, and various other things. I looked into several languages in my <a href="https://macoy.me/code/macoy/LanguageTests">LanguageTests</a> experiment and found they all had major drawbacks I couldn't accept.</p>
<h2 id="unexpected-freedom">Unexpected freedom</h2>
<p>I did not realize when I started Cakelisp how freeing it felt. All of the sudden, I got to decide what made sense to <em>me</em>, not what made sense to previous language designers.</p>
<h3 id="freedom-in-syntax">Freedom in syntax</h3>
<p>A simple example is type declarations. In C:</p>

<p>The same variable, in Cakelisp:</p>

<p>In my opinion C type declarations are much harder to parse than my explicit type declarations. You need to work backwards from the name to properly interpret the type. The parentheses do add more typing, but they're more clear, machine-parseable, and can be read naturally (e.g. read left to right "pointer to constant character" vs. C's "constant character pointer", which seems worse in my mind).</p>
<p>My form also handles arrays as part of the type: <code>(var my-array ([] 5 int))</code> rather than <code>int myArray[5];</code>, another way it is more consistent, readable, and parsable.</p>
<p>I chose to swap the order of name and type because it places more emphasis on the name. A well-written program will convey more useful information in the name than in the type, so it makes sense to me to have it come first for the reader.</p>
<h3 id="freedom-in-process">Freedom in process</h3>
<p>I also found that having an executable which preprocesses my code exactly how I want it opens the door to a huge amount of awesome features:</p>
<ul>
<li>Compile-time code execution. "Macros" and "Generators" are defined in-line with the rest of your code, making them feel like a natural part of your code. Defining them in-line makes it acceptable to add one-off macros, whereas adding such a thing to an external code generator would quickly become unmaintainable</li>
<li>Build optimization. A recent idea I discovered is automatically creating precompiled headers for large batches of 3rd-party headers. This would be a complex task that would need to be integrated in whatever build system you use, whereas Cakelisp can have it built-in</li>
<li>Other data processing. Compile-time code execution means you can do things like prepare assets, download 3rd-party code, run tests, etc. without having to set up all these additional tools</li>
</ul>

<p>I was inspired by Naughty Dog's use of <a href="https://en.wikipedia.org/wiki/Game_Oriented_Assembly_Lisp">Game Oriented Assembly Lisp</a>, GOOL, and <a href="https://www.youtube.com/watch?v=oSmqbnhHp1c">Racket/Scheme</a> (on their modern titles). I've also taken several ideas from Jonathan Blow's <a href="https://www.youtube.com/user/jblow888">talks on Jai</a>.</p>
<p>I'm a software engineer in the game industry. I've been working since July 2015 at a studio that makes cross-platform MMOs. The company has a custom engine written in C (with some C++).</p>
<p>I <a href="https://macoy.me/code/macoy/LanguageTests">experimented</a> with other languages before deciding I needed to write my own.</p>

<p>Now that my goals are clear, I will show you how I approached achieving them.</p>
<h2 id="notation">Notation</h2>
<p>Cakelisp uses an <a href="https://en.wikipedia.org/wiki/S-expression">S-expression</a>-style notation. Here is some Cakelisp code from <a href="https://macoy.me/code/macoy/gamelib/src/branch/master/test/src/VocalGame.cake">VocalGame</a>:</p>

<p>There are a few things you can notice from reading this code:</p>
<ul>
<li>Types. Cakelisp is strongly- and explicitly-typed. I prefer reading code with explicit types because I can better imagine what the computer is actually doing, and what possibilities I have with each variable</li>
<li>Name-type order. I talked about this in a previous section. I wanted to emphasize the name of a variable for conveying meaning, especially when you may have many variables of the same type</li>
<li>Explicit <code>return</code>. I find I prefer code where return points are made explicit. Lisp will implicitly return the result of the last evaluation</li>
<li>Lisp-y style. The parentheses, plus keywords like <code>unless</code>, <code>defun</code>, <code>var</code>, <code>at</code>, and <code>incr</code>. I matched Lisp only when I didn't have strong opinions for a better notation. I am not trying to create something which is compatible with existing Lisps</li>
<li>C types and function calls. Cakelisp has seamless C interop, which means Cakelisp's "standard library" <em>is</em> C's standard library. No bindings had to be written to use the C types or make the function calls</li>
</ul>
<p>You can read more Cakelisp code in <a href="https://macoy.me/code/macoy/gamelib/src/branch/master/src">Gamelib</a>.</p>
<p>You should think of Cakelisp more as "C in S-expressions" rather than "Lisp with C performance". If you know C, you'll have a relatively smooth transition to Cakelisp. If you only know Lisp, you're going to have a rougher time.</p>
<h3 id="why-s-expressions">Why S-expressions?</h3>
<p>When I set out to make Cakelisp, I decided on S-expressions syntax for several reasons:</p>
<ul>
<li>Parsability. S-expressions shift the burden of creating a syntax tree onto the programmer. This does result on more work for the human, but I value its extremely explicit nature. It also facilitates simpler tokenization, domain-specific-language implementation, and external tool support</li>
<li>Consistency. There are only four types of tokens in Cakelisp: open and close parenthesis, symbol, and string. The consistency is admittedly limiting, so things like paths (<code>myThing-&gt;member.member</code>) become much more verbose to type, unfortunately. However, this limitation keeps Cakelisp code parsable, and has an elegant feel that I appreciate</li>
</ul>
<p>I don't believe there is one notation to rule them all, especially after I've encountered the disadvantages of using S-exprs. I'm still happy with the decision though, and it does give Cakelisp a novel and distinguishing characteristic from the many ‚Ä¶</p></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://macoy.me/blog/programming/CakelispIntro">https://macoy.me/blog/programming/CakelispIntro</a></em></p>]]>
            </description>
            <link>https://macoy.me/blog/programming/CakelispIntro</link>
            <guid isPermaLink="false">hacker-news-small-sites-25491568</guid>
            <pubDate>Mon, 21 Dec 2020 02:28:37 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Dive into Ray Tracing Performance on the Apple M1]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25491450">thread link</a>) | @Twinklebear
<br/>
December 20, 2020 | https://www.willusher.io/graphics/2020/12/20/rt-dive-m1 | <a href="https://web.archive.org/web/*/https://www.willusher.io/graphics/2020/12/20/rt-dive-m1">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
	<div>
		
<p>The Apple M1 available in the MacBook Air, MacBook Pro 13‚Äù, and Mac Mini has
been the focus of a ton of benchmarking writeups and blog posts about
the new chip. The performance overall, and especially performance/watt,
that Apple has achieved with the chip is very impressive.
As a ray tracing person, what caught my eye the most was the
performance AnandTech reported in their
<a href="https://www.anandtech.com/show/16252/mac-mini-apple-m1-tested/2">CineBench benchmarks</a>.
These scores were 1.6x higher than I got on my old Haswell desktop and 2x
higher than my new Tiger Lake laptop!
I had also been interested in trying out the new
<a href="https://developer.apple.com/videos/play/wwdc2020/10012/">ray tracing API for Metal</a>
that was announced at WWDC this year,
which bears some resemblance to the DirectX, Vulkan, and OptiX GPU ray tracing APIs.
So, I decided to pick up a Mac Mini to do some testing
on my own interactive path tracing project,
<a href="https://github.com/Twinklebear/ChameleonRT">ChameleonRT</a>,
and to get it running on the new Metal ray tracing API.
In this post, we‚Äôll take a look at the new Metal ray tracing
API to see how it lines up with DirectX, Vulkan, OptiX and Embree,
then we‚Äôll make some fair (and some extremely unfair) ray tracing
performance comparisons against the M1.</p>

<!--more-->



<p><a href="https://github.com/Twinklebear/ChameleonRT">ChameleonRT</a> is an open source
interactive path tracer that I‚Äôve been working on to learn the different ray tracing APIs,
and to provide an example or starting point for myself and others working with them
in other projects.
ChameleonRT provides backends for the GPU ray tracing APIs:
<a href="https://github.com/Twinklebear/ChameleonRT/tree/master/dxr">DirectX Ray Tracing</a>,
<a href="https://github.com/Twinklebear/ChameleonRT/tree/master/vulkan">Vulkan KHR Ray Tracing</a>,
and <a href="https://github.com/Twinklebear/ChameleonRT/tree/master/optix">OptiX 7</a>.
Through the work discussed in this post, it also has a new
<a href="https://github.com/Twinklebear/ChameleonRT/tree/master/metal">Metal</a> GPU backend.
ChameleonRT also has an <a href="https://github.com/Twinklebear/ChameleonRT/tree/master/embree">Embree backend</a>
for fast multi-threaded and SIMD accelerated ray tracing on CPUs through
<a href="https://www.embree.org/">Embree</a>, <a href="https://ispc.github.io/">ISPC</a>, and <a href="https://github.com/oneapi-src/oneTBB">TBB</a>.
The rendering code in each backend is nearly identical and they produce almost pixel exact outputs,
with some possible small differences due to subtle differences in the ray tracing
libraries or shader languages.</p>

<p>ChameleonRT is different from popular ray tracing benchmark applications like
<a href="https://www.maxon.net/en/cinebench">CineBench</a>, <a href="http://www.luxmark.info/">LuxMark</a>,
and <a href="https://opendata.blender.org/">Blender Benchmark</a>, in that ChameleonRT is
a minimal interactive path tracer. CineBench, LuxMark, and Blender Benchmark are excellent
for getting a full picture of what performance to expect from a production film
renderer, as they are production renderers. However, there‚Äôs a lot more going
on in a production renderer than just ray tracing to support the kind of complex
geometries, materials, and effects used in film; and the large code
bases can be challenging to quickly port to a new architecture or API.
ChameleonRT is the exact opposite, supporting just one geometry type,
triangle meshes, and one material type, the Disney BRDF.
The rest of the code is similarly written to achieve interactive path tracing performance,
though I have tried to balance this with how complex the code is to read.
For example, the renderers use iterative ray tracing instead of recursion,
support only a simple sampling strategy, and don‚Äôt support alpha cut-out effects.
The use of iterative ray tracing is valuable on both the CPU and GPU, but is
especially important on the GPU, as the
overhead of recursive ray tracing calls in the pipeline can have a significant performance impact.
Similarly, ignoring alpha cut-out effects allows the GPU renderers
to skip using an any hit shader (and the Embree on to skip needing an intersection
filter). The any hit shader (or intersection filter) would be called during
BVH traversal after a candidate intersection with a triangle is found.
In the case that the BVH traversal is hardware accelerated, this ends up
producing a lot amount of back and
forth between the fixed function traversal hardware and the shader cores to run the any hit
shader during traversal, limiting the hardware‚Äôs performance.</p>

<blockquote>
  <p>What‚Äôs a path tracer? Path tracing is a technique in computer graphics for
rendering photo-realistic images by simulating the light transport in
the scene. It is a Monte Carlo technique, meaning that it randomly samples
light paths emitted from lights in the scene that reach the camera
by bouncing off objects in the scene. This is done by tracing the paths in reverse,
starting from the camera and tracing the path back through the scene.
A large number of light paths need to be sampled to produce a noise-free
image. Path tracing is not restricted to photo-realism, and is the
core rendering algorithm used in major film renderers, such as: Pixar‚Äôs Renderman,
Disney‚Äôs Hyperion, Autodesk‚Äôs Arnold, and Weta‚Äôs Manuka.
See <a href="https://en.wikipedia.org/wiki/Path_tracing">Wikipedia</a> for more.</p>
</blockquote>



<p>The new ray tracing API in Metal will be familiar to those who‚Äôve used inline ray
tracing in DirectX or Vulkan. For a good introduction to Metal‚Äôs API, check out the <a href="https://developer.apple.com/videos/play/wwdc2020/10012/">Discover ray tracing
with Metal</a> video from WWDC 2020,
and the <a href="https://developer.apple.com/documentation/metal/accelerating_ray_tracing_using_metal?language=objc">accompanying sample</a>.
Inline ray tracing allows applications to make ray tracing calls in any shader stage,
e.g., fragment/pixel shaders, vertex shaders, compute shaders, etc.
Inline ray tracing allows ray tracing effects, for example accurate reflections and shadows,
to be integrated into the regular rasterization pipeline.
Inline ray tracing can also be used from a compute shader to implement a standalone
path tracing based renderer. ChameleonRT is a standalone path tracer, and takes
the compute shader approach for Metal.</p>

<p>At a high-level, ray tracing in Metal proceeds as follows: you upload your
geometry data, build bottom-level primitive acceleration structures over them, then create instances
referencing those acceleration structures and build a top-level acceleration structure over
the instances.
To render the scene you dispatch a compute shader and trace rays against the top-level
acceleration structure to get back intersection results. The intersection results provide
you with the intersected primitive and geometry IDs, and if using instancing, the instance ID.
Your shader can then look up the geometry data for the object that was hit and shade it,
after which it can continue tracing the path.</p>

<p>At this time Metal only supports inline ray tracing, in contrast to DirectX and Vulkan, which
also provide support for ray tracing pipelines. Ray tracing pipelines are used
to implement standalone ray tracing renderers, and is the approach ChameleonRT
uses in its DirectX and Vulkan backends.
OptiX only supports ray tracing pipelines.
Ray tracing pipelines require the creation of a Shader Binding Table to
provide the API with a table of functions to call when specific objects
in the scene are intersected. The SBT can be difficult to setup and debug,
and is a common point of difficulty for developers learning these APIs.
For more information about the SBT, check out my post
<a href="https://www.willusher.io/graphics/2019/11/20/the-sbt-three-ways">‚ÄúThe RTX Shader Binding Table Three Ways‚Äù</a>.
However, the potential benefit of the SBT is that the GPU can reorder or group function
calls to reduce thread divergence. With inline ray tracing, the developer
must do this themselves, or do without
(check out another video from <a href="https://developer.apple.com/videos/play/wwdc2020/10013/">WWDC20</a>
for information here).
Right now, ChameleonRT does not do any reordering to reduce divergence.</p>

<p>Those familiar with Metal may know of the previous
<a href="https://developer.apple.com/documentation/metalperformanceshaders/metal_for_accelerating_ray_tracing?language=objc">Metal Performance Shaders ray intersector</a>.
The new support for inline ray tracing improves on this by allowing the renderer
to move entirely to the GPU. The previous ray intersector worked by taking
batches of rays, finding intersections in the scene, and writing these results
back out to memory. Multiple compute shaders would need to be dispatched to
trace the primary rays and create shadow and secondary rays, then trace the shadow rays
and continue the secondary rays while filtering out paths that terminated.
This requires significantly more memory traffic and compute dispatches, introducing overhead
to the renderer. Such an approach is also not well suited to augmenting traditional
rasterization pipelines with ray tracing effects.
Approaches based on tracing and sorting rays and intersection information to extract
coherence are valuable for complex film renderers, and can be implemented efficiently using inline
ray tracing as well.
For example, <a href="https://www.yiningkarlli.com/projects/hyperiondesign.html">Disney‚Äôs Hyperion renderer</a>
uses sorting and batching extensively to
extract coherent workloads from an otherwise incoherent and divergent distribution of rays.
There‚Äôs also an excellent higher-level <a href="https://youtu.be/frLwRLS_ZR0">video</a> explaining how this
works.</p>

<p>The Metal ray tracing API is quite nice to work with.
It bears a lot of similarity to the other ray tracing APIs, but has been streamlined
to be easier to use.
For example, compare the code required to build and compact a BVH in
<a href="https://github.com/Twinklebear/ChameleonRT/blob/master/dxr/dxr_utils.cpp#L877-L977">DirectX</a>
or <a href="https://github.com/Twinklebear/ChameleonRT/blob/master/vulkan/vulkanrt_utils.cpp#L46-L214">Vulkan</a>
with <a href="https://github.com/Twinklebear/ChameleonRT/blob/master/metal/metalrt_utils.mm#L318-L396">Metal</a>.
OptiX‚Äôs API provides a similar simplification, here‚Äôs the
<a href="https://github.com/Twinklebear/ChameleonRT/blob/master/optix/optix_utils.cpp#L183-L244">BVH build in OptiX</a>
for reference.
It‚Äôs also nice to have templates and C++ style functionality in the shader language,
a feature Metal shares with OptiX, which uses CUDA for the device side code.</p>

<p>This simplicity also has some drawbacks. For example, while in DirectX, Vulkan, and OptiX
you have control over where the acceleration structure memory is allocated,
Metal makes this allocation for you. As a result, you cannot allocate the acceleration
structures on a <code>MTLHeap</code>, and so to make sure they‚Äôre available for your rendering
pipeline, you must individually mark them as used in a loop instead of a single <code>useHeap</code> call.</p>

<figure><pre><code data-lang="objc"><span></span><span>// Use our top level acceleration structure</span>
<span>[</span><span>command_encoder</span> <span>setAccelerationStructure</span><span>:</span><span>bvh</span><span>-&gt;</span><span>bvh</span> <span>atBufferIndex</span><span>:</span><span>1</span><span>];</span>
<span>// Also mark all mesh acceleration structures used, as they're indirectly</span>
<span>// referenced by the top level one</span>
<span>for</span> <span>(</span><span>auto</span> <span>&amp;</span><span>mesh</span> <span>:</span> <span>bvh</span><span>-&gt;</span><span>meshes</span><span>)</span> <span>{</span>
    <span>[</span><span>command_encoder</span> <span>useResource</span><span>:</span><span>mesh</span><span>-&gt;</span><span>bvh</span> <span>usage</span><span>:</span><span>MTLResourceUsageRead</span><span>];</span>
<span>}</span></code></pre></figure>

<p>This can add some overhead if you have a lot of bottom level BVHs, as can be the
case in scenes with many instances.
It‚Äôd be nice to be able to allocate the acceleration structures on a heap, and replace this loop
with a single <code>[command_encoder useHeap:data_heap-&gt;heap];</code></p>

<p>The API is also simplified significantly by not including ray tracing pipelines and
only requiring a Shader Binding Table-esque
structure when implementing custom geometries or other operations that need
to happen ‚Ä¶</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.willusher.io/graphics/2020/12/20/rt-dive-m1">https://www.willusher.io/graphics/2020/12/20/rt-dive-m1</a></em></p>]]>
            </description>
            <link>https://www.willusher.io/graphics/2020/12/20/rt-dive-m1</link>
            <guid isPermaLink="false">hacker-news-small-sites-25491450</guid>
            <pubDate>Mon, 21 Dec 2020 02:07:18 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Chess Boom Moves Online]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25491402">thread link</a>) | @jonbaer
<br/>
December 20, 2020 | https://www.bloomberg.com./graphics/2020-chess-boom/ | <a href="https://web.archive.org/web/*/https://www.bloomberg.com./graphics/2020-chess-boom/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
        <section>
            <h3>Why did this happen?</h3>
            <p>Please make sure your browser supports JavaScript and cookies and that you are not blocking them from loading. For more information you can review our <a href="https://www.bloomberg.com./notices/tos">Terms of Service</a> and <a href="https://www.bloomberg.com./notices/tos">Cookie Policy</a>.</p>
        </section>
        <section>
            <h3>Need Help?</h3>
            <p>For inquiries related to this message please <a href="https://www.bloomberg.com./feedback">contact our support team</a> and provide the reference ID below.</p>
            <p>Block reference ID: </p>
        </section>
    </section></div>]]>
            </description>
            <link>https://www.bloomberg.com./graphics/2020-chess-boom/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25491402</guid>
            <pubDate>Mon, 21 Dec 2020 01:57:18 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[PicoLisp Chess]]>
            </title>
            <description>
<![CDATA[
Score 16 | Comments 2 (<a href="https://news.ycombinator.com/item?id=25491356">thread link</a>) | @simonpure
<br/>
December 20, 2020 | https://software-lab.de/chess/README | <a href="https://web.archive.org/web/*/https://software-lab.de/chess/README">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>|<n>|<b>|<q>|<k>|<b>|<n>|<r>|
      +---+---+---+---+---+---+---+---+
    7 |<p>|</p><p>|</p><p>|</p><p>|</p><p>|</p><p>|</p><p>|</p><p>|
      +---+---+---+---+---+---+---+---+
    6 |   | - |   | - |   | - |   | - |
      +---+---+---+---+---+---+---+---+
    5 | - |   | - |   | - |   | - |   |
      +---+---+---+---+---+---+---+---+
    4 |   | - |   | - |   | - |   | - |
      +---+---+---+---+---+---+---+---+
    3 | - |   | - |   | - |   | - |   |
      +---+---+---+---+---+---+---+---+
    2 | P | P | P | P | P | P | P | P |
      +---+---+---+---+---+---+---+---+
    1 | R | N | B | Q | K | B | N | R |
      +---+---+---+---+---+---+---+---+
        a   b   c   d   e   f   g   h

For a local installation, supply instead of "pil" the actual path like "./pil"
or "../pil21/pil".

The pieces are indicated by the letters 'K'ing, 'Q'ueen, 'R'ook, 'B'ishop,
k'N'ight and 'P'awn, with black pieces in angular brackets.

You can enter your moves with the field names (in lower case) for the "from" and
"to" positions:

: (go e2 e4)

Castling may be entered by just specifying the king's move:

: (go e1 g1)

To promote a pawn to some piece other than a queen, you can specify a class:

: (go h7 h8 +Knight)

To undo one or several moves, enter

: (go -)

and to redo them

: (go +)

To switch sides (and have the computer play against itself), call 'go' without
arguments:

: (go)

The initial board position can be restored with

: (main)

The global variable '*Depth' holds the maximal depth of the alpha-beta tree
search. It defaults to 5. You may change it to some smaller value for a faster
response, or to a larger value for a deeper search:

: (setq *Depth 7)

The same effect can be achieved by passing the desired depth as the first
argument to 'main':

: (main 7)

The second (optional) argument to 'main' is your color ('NIL' for white and 'T'
for black).

To setup some given board position, call 'main' with a list of triples, with
each describing:

   1. The field
   2. The piece's classes
   3. An optional flag to indicate that the piece did not move yet

: (main 5 NIL
   (quote
      (a2 (+White +Pawn) T)
      (b1 (+White +King))
      (d4 (+Black +King)) ) )
   +---+---+---+---+---+---+---+---+
 8 |   | - |   | - |   | - |   | - |
   +---+---+---+---+---+---+---+---+
 7 | - |   | - |   | - |   | - |   |
   +---+---+---+---+---+---+---+---+
 6 |   | - |   | - |   | - |   | - |
   +---+---+---+---+---+---+---+---+
 5 | - |   | - |   | - |   | - |   |
   +---+---+---+---+---+---+---+---+
 4 |   | - |   |<k>|   | - |   | - |
   +---+---+---+---+---+---+---+---+
 3 | - |   | - |   | - |   | - |   |
   +---+---+---+---+---+---+---+---+
 2 | P | - |   | - |   | - |   | - |
   +---+---+---+---+---+---+---+---+
 1 | - | K | - |   | - |   | - |   |
   +---+---+---+---+---+---+---+---+
     a   b   c   d   e   f   g   h

At any time, you can print the current board position in the above format to a
file with

: (ppos "file")

which later can be restored with

: (load "file")


   === PilBox and Web App ===

If you have the PilBox App installed on your Android device, just type "chess"
in the settings and press the "Download" button.

To start the Web application, use

   $ pil chess/main.l -chess~main -go +

Alternatively, you can start it with German localization as

   $ pil chess/main.l -'chess~main "DE" "de"' -go +

then point your browser to http://localhost:8080

In both cases you can interact with the chess board in this way:

   √¢‚Ç¨‚Äù To enter a move, drag a piece to the new field.
   √¢‚Ç¨‚Äù A click on the board does an auto-move and then switches sides.
   √¢‚Ç¨‚Äù The search depth can be changed with a drop-down menu.
   √¢‚Ç¨‚Äù The "New" button starts a new game, and the "Undo" and "Redo" buttons
     navigate in the history.
   √¢‚Ç¨‚Äù The text "White" or "Black" indicate who is to move next. It changes to
     "White ..." or "Black ..." while the computer is thinking.
   √¢‚Ç¨‚Äù After a move, the moved piece and the old and new positions are indicated
     above that text.

The "Setup" button switches to edit mode and allows you to change the position
manually:

   √¢‚Ç¨‚Äù A click on a piece removes it from the board.
   √¢‚Ç¨‚Äù Dragging a piece moves it to another field.
   √¢‚Ç¨‚Äù A new piece can be placed on the board by dragging it from the setup area.
   √¢‚Ç¨‚Äù The "Clear" button removes all pieces from the board.
   √¢‚Ç¨‚Äù The "New" button sets up all pieces for a new game.
   √¢‚Ç¨‚Äù The "Game" button switches back to play mode.

As in any PilBox app, you can go to the settings (wheel icon on top right) and

   √¢‚Ç¨‚Äù switch to another language in the "Language" tab or
   √¢‚Ç¨‚Äù view the App's source code by clicking on the app name "chess" in the
     "PILs" tab.


   === Credits and Copying ===

The pieces and board colors are from https://chessboardjs.com

The icon is from
   https://commons.m.wikimedia.org/wiki/File:Chess logo.PNG

(MIT/X11 License)
</k></p></r></n></b></k></q></b></n></div></div>]]>
            </description>
            <link>https://software-lab.de/chess/README</link>
            <guid isPermaLink="false">hacker-news-small-sites-25491356</guid>
            <pubDate>Mon, 21 Dec 2020 01:51:16 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Cyberpunk Apology Generator]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25491304">thread link</a>) | @rossmohax
<br/>
December 20, 2020 | https://foone.github.io/Cyberpunk2077Apology/ | <a href="https://web.archive.org/web/*/https://foone.github.io/Cyberpunk2077Apology/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

		<div>
			<div>
				<div>

						<!-- copyright footnote -->
								<p><a href="https://github.com/foone/Cyberpunk2077Apology">Code</a> by <a href="https://twitter.com/Foone">@Foone</a><span id="extra-contrib"></span>, content by <a href="#">somebody</a><span id="content-contrib"></span>. 
								<a id="playlink" href=""><span id="how-to-use"><!-- this gets replaced by scripts.js based on the generator, but the default option is "Play this game" --></span> on 
								<span id="where-to-use"><!-- This gets replaced by scripts.js based on the generator, and the default is "the Internet Archive" --></span>!</a></p><div id="main-container">
							<div>
								

								<!-- Screenshot/Canvas -->
								<canvas id="death">No canvas!</canvas>
								<canvas id="border">No canvas!</canvas>

								<!-- Customization -->
								<p>
									
									<a href="#" id="save"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgAQMAAADYVuV7AAAABlBMVEX///8AAABVwtN+AAAAAWJLR0QAiAUdSAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAAd0SU1FB+IBBRQ0G7eG+BwAAACiSURBVDjLzdIxCsMwDAVQgQePOkIuIvDRmqP5Br2CS4eM8ZhBxHUUt8gE09KQtNoefGRbFgAkKQapFbNGqtBreAHbAGBTEEyCMSoM0wvdcGeF26wQksZFw2l0ZwDsB1hGsAfrYP8G7Ysa+ey3DarY7mcfN7ey606vcvoaPymMLRC1gDlIVMIVjM9JKuEKEJGJHG+xRHIL2AIjXo1/nqNxfj0AmAoaBZSWo6oAAAAASUVORK5CYII=" width="96" height="96" alt="Save image"></a>
								</p>
								<p><label>Automatic wordwrapping</label></p>
								
							</div>
							
						</div>
				</div>
			</div>
		</div>

	</div></div>]]>
            </description>
            <link>https://foone.github.io/Cyberpunk2077Apology/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25491304</guid>
            <pubDate>Mon, 21 Dec 2020 01:40:50 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[First release of quantum operating system, Deltaflow]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 2 (<a href="https://news.ycombinator.com/item?id=25490816">thread link</a>) | @kristianpaul
<br/>
December 20, 2020 | https://www.riverlane.com/news/2020/12/riverlane-release-first-version-of-quantum-operating-system-deltaflow-os/ | <a href="https://web.archive.org/web/*/https://www.riverlane.com/news/2020/12/riverlane-release-first-version-of-quantum-operating-system-deltaflow-os/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
            <div>
                <article>
                    

                    <div>
                        
                        <div>
                            <p>In May 2020, Riverlane revealed that they will lead a consortium which has been <a href="https://www.riverlane.com/news/2020/05/uk-companies-to-build-radically-new-operating-system-for-quantum-computers/">awarded a ¬£7.6m grant to build a radically new operating system</a> for quantum computers. We marked a ‚Äòhello world‚Äô moment in September, with the first <a href="https://www.riverlane.com/news/2020/09/commercial-breakthrough-following-success-of-deltaflow-os-trials/">successful trials of Deltaflow.OS</a>, using quantum hardware belonging to leading trapped-ion company, <a href="https://www.oxionics.com/">Oxford Ionics</a>.</p>
<p>The latest milestone is the public release of the first version of Deltaflow.OS; ‚ÄòDeltaflow-on-ARTIQ‚Äô. The product has been built to enable quantum hardware companies as well as algorithm and app developers to accelerate their research by making collaboration easier and reduce down-time in labs. This version uses simulated hardware and <a href="http://m-labs.hk/experiment-control/artiq/">ARTIQ</a> as a backend. ARTIQ is a control system which is widely used in the trapped-ion community.</p>
<p>Deltaflow-on-ARTIQ consists of the Deltaflow language (Deltalanguage), and various hardware models on which the language can be run, including an emulator of the ARTIQ control system. The Deltalanguage lets users define a graph of different hardware nodes corresponding to the type of hardware elements found in labs. After defining a programme, users can test it on increasingly realistic hardware models.</p>
<p>Robert J√∂rdens of M-Labs commented, ‚ÄúMy hands are twitching because I really want to see and try that&nbsp;emulator and Deltaflow. There are so many valuable pieces in there.‚Äù</p>
<p>A first <a href="https://vimeo.com/480247763/d8fd4a0708">public demonstration of Deltaflow.OS</a> took place at the virtual National Quantum Technologies Showcase on 6 November 2020, where the team demonstrated how a Rabi-Oscillation would be performed.</p>
<p>The release of Deltaflow-on-ARTIQ marks a significant step towards Riverlane‚Äôs mission to build a quantum operating system that is high performance, portable across all qubit technologies and scalable to millions of qubits.</p>
<p>Access <a href="https://www.riverlane.com/products/">Deltaflow-on-ARTIQ</a></p>





                        </div>
                    </div>

                </article>
            </div>
        </section></div>]]>
            </description>
            <link>https://www.riverlane.com/news/2020/12/riverlane-release-first-version-of-quantum-operating-system-deltaflow-os/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25490816</guid>
            <pubDate>Mon, 21 Dec 2020 00:06:10 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Improving Linux Startup Time]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25490751">thread link</a>) | @EstIgnavus
<br/>
December 20, 2020 | https://www.sporelab.io/updates/2020/12/21/improving-linux-startup-time | <a href="https://web.archive.org/web/*/https://www.sporelab.io/updates/2020/12/21/improving-linux-startup-time">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

  
  <article id="article-5fdfcb4e7f4e6a3367419e89" data-item-id="5fdfcb4e7f4e6a3367419e89">

    

    <div>
      
        <div data-layout-label="Post Body" data-type="item" data-updated-on="1608502170327" id="item-5fdfcb4e7f4e6a3367419e89"><div><div><div data-block-type="2" id="block-bdf991a0b97667eb45b2"><div><p>Linux provides an amazing suite of functionality for embedded systems, and it is hard to overstate the benefits of using such a feature rich and well tested base. </p><p>This functionality comes at a price however, as when compared to non-Linux systems it generally means increased complexity, binary size, and more often than not startup time. For some systems, this longer startup time can be mitigated by never fully shutting down, and relying on sleep modes to reduce power consumption when the system is not in use. However for some systems, such as non-battery-backed devices where each usage requires a full power-on sequence, it is important that the cold power-on time is minimised.</p><p>As is often the case with complex systems, slow boot speed is generally not caused by one single issue, but rather a large collection of smaller factors. Following that, we find that fast overall startup time tends to be achieved as the result of the culmination of say 10 to 20 minor improvements.</p><p>When looking at startup time, we typically break the boot time of a Linux system down into three broad stages:</p><ol data-rte-list="default"><li><p>Power-on to Linux kernel load. This is typically referred to as the bootloader, but on some systems this can be entirely performed by the boot ROM. This phase starts when power is applied to the system, and is finished when the Linux kernel has been loaded from non-volatile storage into RAM.</p></li><li><p>Linux boot. This covers the time it takes the Linux kernel to unpack itself and initialise sufficient hardware to mount a root filesystem and begin executing application (userspace) software.</p></li><li><p>Application startup. This phase covers not just the start of the final application itself, but also all of the dependencies it might have - such as mounting filesystems, initialising network interfaces, performing any pre-run checks and so on.</p></li></ol><p>Before attempting any improvements, it is important to analyse the existing system to determine the baseline boot speed. </p><p>For some systems this can be done by simply monitoring the console output, however this has two drawbacks - it cannot capture any time taken before the serial port is initialised, and as the serial port is often one of the slowest peripherals, outputting to it will actually slow the boot down. For these reasons, it is often good to instrument some lower level timing mechanisms. The simplest is to use spare GPIO pins, toggling them at various stages in the boot. Monitoring these signals on an oscilloscope can produce highly accurate timing without interfering with the boot itself. This kind of system can also be left enabled in the production software to make regression testing of boot speed easier (or even automated).</p><p>Once a baseline has been established, various techniques can then be used to begin making improvements. There are far more of these techniques than can reasonably be covered here, however the main areas we focus on are:</p><ul data-rte-list="default"><li><p>Ensuring that the initial kernel load is being performed as fast as the hardware can support. Typically backing storage systems, such as SPI, often have multiple modes or speeds. Often conservative defaults are supplied for these to ensure maximum compatibility with hardware designs. However if the particular hardware design has faster chips, this speed may not be being exploited in the default configuration.</p></li><li><p>Ensuring that busy-wait loops in the bootloader are minimised. Before Linux has started, the bootloader tends to be a much simpler, single-threaded system. This means that one operation will not be started until the previous operation has fully completed. However overlapping some operations (such as beginning kernel uncompression in parallel with loading it from storage), can provide significant gains.</p></li><li><p>Ensuring that only the drivers used on the embedded system are included in the kernel. By default Linux provides support for a massive array of hardware. For desktop environments, this is ideal as it provides maximum flexibility. However embedded systems typically have a much narrower target, and as such do not benefit from this flexibility. Reducing the drivers in the kernel will not only reduce the binary size (which makes for a faster kernel load time), it will also drop the driver initialisation code, which directly impacts boot speed.</p></li><li><p>Choosing the correct filesystem for the application. In particular, using a read-only filesystem for the core system, and using a read-write filesystem for user data. This allows for the read-write filesystem to be initialised in parallel with the application startup.</p></li><li><p>Ensuring parallel execution of application startup. This may require some rework of the application, but having a system that can cope with some subsystems not being immediately available can provide significant speedups. For instance, it may be that the user cannot save new data for the first 2-3 seconds of the application startup. However this allows other functionality to be fully available in that time, and can dramatically improve the perceived performance of the system.</p></li></ul><p>Boot speed is an issue heavily discussed online, and is constantly evolving as new hardware becomes available and new software is written. There are some excellent resources on the topic available, such as:</p><ul data-rte-list="default"><li><p><a href="https://elinux.org/Boot_Time" target="_blank">Embedded Linux Wiki - Boot Time</a></p></li><li><p><a href="https://elinux.org/images/9/97/Boot_one_second_altenberg.pdf" target="_blank">How to boot Linux in one second</a></p></li></ul></div></div></div></div></div>
      
    </div>


    

    
      
    

    

  </article>

  

  

  
  
  

</div></div>]]>
            </description>
            <link>https://www.sporelab.io/updates/2020/12/21/improving-linux-startup-time</link>
            <guid isPermaLink="false">hacker-news-small-sites-25490751</guid>
            <pubDate>Sun, 20 Dec 2020 23:53:10 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Cyberpwned: Beating Cyberpunk 2077's hacking minigame in 50 lines of Python]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25490741">thread link</a>) | @nicolas-siplis
<br/>
December 20, 2020 | https://nicolas-siplis.com/blog/cyberpwned | <a href="https://web.archive.org/web/*/https://nicolas-siplis.com/blog/cyberpwned">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
            <h3>
                Cyberpwned: Beating Cyberpunk 2077's hacking minigame in 50 lines of Python
            </h3>
            <p>
                December 20, 2020
            </p><p>
                If you have a passing interest in anything gaming related and haven't been living under a rock for the last couple years, you're probably somewhat familiar with Cyberpunk 2077.
                After a long and repeatedly extended wait, it's finally here! And it has a hacking minigame! And getting a good score gets you better gear! 
                Can some quick Python magic give us the edge we need in this cruel, cruel Net? You bet. 
            </p>
            
            <p>
                A quick overview of the minigame: You're given a square matrix and one or more sequences of hexadecimal numbers, along with a buffer of certain length. 
                Your goal is to complete the most amount of sequences choosing as many nodes as the buffer allows.
                Each sequence will advance in progress if the node chosen is the next node in the sequence.
                When the game starts, you may choose any of the values in the first row of the matrix.
                After that, the values you can choose will alternate between the Nth column/row each turn, with N being the index of the last picked value.
                If this horrible description wasn't helpful, click <a href="https://www.rockpapershotgun.com/2020/12/14/cyberpunk-2077-hacking-minigame-breach-protocol-explained/">here</a> for a more detailed one, courtesy of RPS.
            </p>
            
            <p>
                All valid paths are considered and the final score of each path is calculated depending on how many sequences were completed by traversing it.
                The path with the best score is then printed to screen.
                The algorithm itself isn't particularly interesting nor efficient, unfortunately. However, it should be fast enough to solve any of Cyberpunk's minigames in a few seconds, so fast enough!
                I'm sure there's some low hanging fruit that could speed up execution, but I thought I'd share what I have so far and update the post as new ideas/suggestions come up.
            </p>
            

            <p>
                Let's start off with the game's components:
                    </p><ul>
                        <li>Code Matrix: Multidimensional array containing hexadecimal values (nodes), the "gameboard"</li>
                            <pre><code>
code_matrix = [
    [0x1c, 0xbd, 0x55, 0xe9, 0x55], 
    [0x1c, 0xbd, 0x1c, 0x55, 0xe9],
    [0x55, 0xe9, 0xe9, 0xbd, 0xbd],
    [0x55, 0xff, 0xff, 0x1c, 0x1c],
    [0xff, 0xe9, 0x1c, 0xbd, 0xff]
]
                            </code></pre>
                        <li>Buffer: Number indicating maximum number of chosen coordinates</li>
                            <pre><code>
buffer_size = 7
                            </code></pre>
                        <li>Coordinate: Specific point in the code matrix</li>
                        <li>Path: Ordered collection of unique coordinates which the user accessed</li>
                            <pre><code>
# The same coordinate can't be chosen more than once per path
class DuplicatedCoordinateException(Exception):
    pass

# All paths match the following pattern:
# [(0, a), (b, a), (b, c), (d, c), ...]
class Path():
    def __init__(self, coords=[]):
        self.coords = coords

    def __add__(self, other):
        new_coords = self.coords + other.coords
        if any(map(lambda coord: coord in self.coords, other.coords)):
            raise DuplicatedCoordinateException()
        return Path(new_coords)

    def __repr__(self):
        return str(self.coords)
                            </code></pre>
                        <li>Sequence: Paths that offer varying quality rewards if completed</li>
                            <pre><code>
sequences = [
    [0x1c, 0x1c, 0x55],
    [0X55, 0Xff, 0X1c],
    [0xbd, 0xe9, 0xbd, 0x55],
    [0x55, 0x1c, 0xff, 0xbd]
]
                            </code></pre>
                        <li>Score: Calculation that can be tweaked to prioritize different rewards</li>
                            <pre><code>
class SequenceScore():

    def __init__(self, sequence, buffer_size, reward_level=0):
        self.max_progress = len(sequence)
        self.sequence = sequence
        self.score = 0
        self.reward_level = reward_level
        self.buffer_size = buffer_size

    def compute(self, compare):
        if not self.__completed():
            if self.sequence[self.score] == compare:
                self.__increase()
            else:
                self.__decrease()

    # When the head of the sequence matches the targeted node, increase the score by 1
    # If the sequence has been completed, set the score depending on the reward level
    def __increase(self):
        self.buffer_size -= 1
        self.score += 1
        if self.__completed():
            # Can be adjusted to maximize either:
            #   a) highest quality rewards, possibly lesser quantity
            self.score = 10 ** (self.reward_level + 1)
            #   b) highest amount of rewards, possibly lesser quality
            # self.score = 100 * (self.reward_level + 1)

    # When an incorrect value is matched against the current head of the sequence, the score is decreased by 1 (can't go below 0)
    # If it's not possible to complete the sequence, set the score to a negative value depending on the reward 
    def __decrease(self):
        self.buffer_size -= 1
        if self.score &gt; 0:
            self.score -= 1
        if self.__completed():
            self.score = -self.reward_level - 1

    # A sequence is considered completed if no further progress is possible or necessary
    def __completed(self):
        return self.score &lt; 0 or self.score &gt;= self.max_progress or self.buffer_size &lt; self.max_progress - self.score

class PathScore():
    
    def __init__(self, path, sequences, buffer_size):
        self.score = None
        self.path = path
        self.sequence_scores = [SequenceScore(sequence, buffer_size, reward_level) for reward_level, sequence in enumerate(sequences)]
    
    def compute(self): # Returns the sum of the individual sequence scores
        if self.score != None:
            return self.score
        for row, column in self.path.coords:
            for seq_score in self.sequence_scores:
                seq_score.compute(code_matrix[row][column])
        self.score = sum(map(lambda seq_score: seq_score.score, self.sequence_scores))
        return self.score
                            </code></pre>
                    </ul>
            

            <p>
                The path generation is pretty similar to a DFS graph traversal. 
                The only significant difference is that the nodes accessible will vary depending on the current turn and the previous node's coordinates.  
            </p>
            <pre><code>
# Returns all possible paths with size equal to the buffer
def generate_paths(buffer_size):
    completed_paths = []

    # Return next available row/column for specified turn and coordinate.
    # If it's the 1st turn the index is 0 so next_line would return the 
    # first row. For the second turn, it would return the nth column, with n
    # being the coordinate's row
    def candidate_coords(turn=0, coordinate=(0,0)):
        if turn % 2 == 0:
            return [(coordinate[0], column) for column in range(len(code_matrix))]
        else:
            return [(row, coordinate[1]) for row in range(len(code_matrix))]

    # The stack contains all possible paths currently being traversed.
    def _walk_paths(buffer_size, completed_paths, partial_paths_stack = [Path()], turn = 0, candidates = candidate_coords()):
    
        path = partial_paths_stack.pop()
        
        for coord in candidates:
            try:
                new_path = path + Path([coord])
            
            # Skip coordinate if it has already been visited
            except DuplicatedCoordinateException:
                continue

            # Full path is added to the final return list and removed from the partial paths stack
            if len(new_path.coords) == buffer_size:
                completed_paths.append(new_path) 
            else: # Add new, lengthier partial path back into the stack
                partial_paths_stack.append(new_path) 
                _walk_paths(buffer_size, completed_paths, partial_paths_stack, turn + 1, candidate_coords(turn + 1, coord))

    _walk_paths(buffer_size, completed_paths)
    return completed_paths
            </code></pre>

            <p>
                Let's run it and check that everything is working correctly.
                While most of the breach protocol minigames have randomized values, the "Spellbound" quest involves a fixed state and the best solution is already known. Courtesy of GamerJournalist:
                <img src="https://img.gamerjournalist.com/spai/w_1024+q_lossy+ret_img+to_webp/https://cdn.gamerjournalist.com/primary/2020/12/How-to-decrypt-the-Book-of-Spells-in-Cyberpunk-2077.jpg">
            </p>

            <pre><code>
paths = [(path, PathScore(path, sequences, buffer_size).compute()) for path in generate_paths(buffer_size)]
max_path = max(paths, key=lambda path: path[1])
# [(0, 1), (2, 1), (2, 3), (1, 3), (1, 0), (4, 0), (4, 3)] -&gt; Should traverse 3rd and 4th sequences, finishes in ~3 seconds
print(max_path[0])
            </code></pre>

            <p>
                Success! Out of curiosity, I thought I'd try increasing the buffer size until I could find a path which cleared all sequences. 
                Be warned though, the result might take some time to compute since it has to go through every possible path of length 11.
            </p>
            <pre><code>
buffer_size = 11
paths = [(path, PathScore(path, sequences, buffer_size).compute()) for path in generate_paths(buffer_size)]
max_path = max(paths, key=lambda path: path[1])

# [(0, 0), (1, 0), (1, 3), (3, 3), (3, 1), (0, 1), (0, 3), (2, 3), (2, 0), (4, 0), (4, 2)] -&gt; Should traverse all sequences, finishes in ~40 seconds
print(max_path[0], max_path[1])
            </code></pre>

            <p>
                OK, optimization time! We'll assume that there's at least 1 path with a non-negative score.
                That way, we can actually stop traversing a partial path if its current score (adjusted depending on buffer's size and current turn) is lower than 0.
            </p>

            <pre><code>
def generate_paths(...):
    ...
    def _walk_paths(...):
    ...

                # Full path is added to the final return list and removed from the partial paths stack
                if len(new_path.coords) == buffer_size:
                    completed_paths.append(new_path)
                # If the partial path score is already lower than 0 we should be able to safely stop traversing it
                elif PathScore(new_path, sequences, buffer_size).compute() &lt; 0:
                    continue
                else: # Add new, lengthier partial path back into the stack
                    partial_paths_stack.append(new_path) 
                    _walk_paths(buffer_size, completed_paths, partial_paths_stack, turn + 1, candidate_coords(turn + 1, coord))
    ...
            </code></pre>

            <p>
                Let's try to get our original result with a buffer of length 7 again: 
            </p>

            <pre><code>
buffer_size = 7
paths = [(path, PathScore(path, sequences, buffer_size).compute()) for path in generate_paths(buffer_size)]
max_path = max(paths, ‚Ä¶</code></pre></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://nicolas-siplis.com/blog/cyberpwned">https://nicolas-siplis.com/blog/cyberpwned</a></em></p>]]>
            </description>
            <link>https://nicolas-siplis.com/blog/cyberpwned</link>
            <guid isPermaLink="false">hacker-news-small-sites-25490741</guid>
            <pubDate>Sun, 20 Dec 2020 23:49:28 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Static analysis with semgrep: practical examples using Docker]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25490249">thread link</a>) | @eatonphil
<br/>
December 20, 2020 | https://notes.eatonphil.com/static-analysis-with-semgrep.html | <a href="https://web.archive.org/web/*/https://notes.eatonphil.com/static-analysis-with-semgrep.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <div>
        <p>In this post we'll get a basic semgrep environment set up in Docker
running some custom rules against our code.</p>
<h3 id="existing-linters">Existing linters</h3><p>Linters like <a href="https://www.pylint.org/">pylint</a> for Python or
<a href="https://eslint.org/">eslint</a> for JavaScript are great for general,
broad language standards. But what about common nits in code review
like using print statements instead of a logger, or using a defer
statement inside a for loop (Go specific), or the existence of
multiple nested loops.</p>
<p>Most developers don't have experience working with language
parsing. So it's fairly uncommon in small- and medium-sized teams to
see custom linting rules. And while no single linter or language is
that much more complex than the other (it's all just AST operations),
there is a small penalty to learning the AST and framework for each
language linter.</p>
<h3 id="semgrep">Semgrep</h3><p><a href="https://semgrep.dev/">Semgrep</a> is a generic tool for finding patterns
in source code. Unlike traditional regex (and traditional grep) it can
find recursive patterns. This makes it especially useful as a tool to
learn for finding patterns in any language.</p>
<p>An advantage of semgrep rules is that you can learn the semgrep
pattern matching syntax (which is surprisingly easy) and then you can
write rules for any language you'd like to write rules for.</p>
<p>And while the <a href="https://semgrep.dev/editor">online rule tester</a> is
awesome, I had a hard time going from that to a working sample on my
own laptop with Docker. We'll do just that.</p>
<h3 id="catching-print-statements-in-python">Catching print statements in Python</h3><p>Let's say we want a script to fail on any use of print statements in
Python:</p>
<pre><code>$ cat test/python/simple-print.py
def main():
  print("DEBUG: here")
  print("DEBUG: ", "now here")
</code></pre>
<p>The current <a href="https://semgrep.dev/editor">default example</a> shown in the
online editor happens to be for just this. Click the Advanced tab and
you'll see the following:</p>
<pre><code>rules:
- id: fail-on-print
  pattern: |
    print("...")
  message: |
    Semgrep found a match
  severity: WARNING
</code></pre>
<p>Copy this into <code>config.yml</code>. Let's modify the pattern to
warn on all print calls, not just print calls with a single string
argument:</p>
<pre><code>rules:
- id: fail-on-print
  pattern: |
    print(...)
  message: |
    Semgrep found a match
  severity: WARNING
</code></pre>
<p>The editor doesn't mention it (nor do any docs I can find) but we also
need to include two keys in the individual rule
object: <code>mode</code> and <code>languages</code>.</p>
<pre><code>rules:
- id: fail-on-print
  pattern: |
    print(...)
  message: |
    Semgrep found a match
  severity: WARNING
  mode: search
  languages: ["generic"]
</code></pre>
<p>Semgrep fails really weirdly if you set <code>mode</code> to
anything other than <code>search</code>, but it won't warn you that
what you set is garbage. The <code>languages</code> setting is
similarly fickle and doesn't give you much feedback if you set it
incorrectly.</p>
<p>
  Also, I'm using the "generic" language here because I don't
  understand the difference between languages and as far as I'm
  concerned the syntax I'm using here is already pretty generic.
</p><p>We run the semgrep Docker image:</p>
<pre><code>$ docker run -v "${PWD}:/src" returntocorp/semgrep --config=config.yml test/python
A new version of Semgrep is available. Please see https://github.com/returntocorp/semgrep#upgrading for more information.
running 1 rules...
test/python/simple-print.py
severity:warning rule:fail-on-print: Semgrep found a match

2:print("DEBUG: here")
ran 1 rules on 1 files: 1 findings"")
</code></pre>
<p>And there we've got our warning!</p>
<p>
  Not completely clear to me why we're getting warned about a new
  version when we've pulled <code>latest</code> as the linked docs
  suggest. Maybe there's a newer version that hasn't made it into a
  Docker image yet.
</p><h3 id="catching-fmt.print*-statements-in-go">Catching fmt.Print* statements in Go</h3><p>Let's say we also want to fail on print statements in Go (because we
should use a logger instead):</p>
<pre><code>$ cat test/golang/simple-print.go
package main

import "fmt"

func main() {
  a := fmt.Sprintf("here")
  fmt.Println(a)
  fmt.Printf("%s\n", a)
  e := fmt.Errorf("My crazy error")
}
</code></pre>
<p>We could try to look for any <code>import "fmt"</code> code in a file
but that would fail on uses of <code>fmt.Sprintf</code>
or <code>fmt.Errorf</code> which are fine. Instead we'll just focus on
uses of <code>fmt.Printf</code> or <code>fmt.Println</code>:</p>
<pre><code>$ cat go-config.yml
rules:
- id: fail-on-print
  pattern-either:
    - pattern: fmt.Printf(...)
    - pattern: fmt.Println(...)
  message: |
    Semgrep found a match
  severity: WARNING
  mode: search
  languages: ["generic"]
</code></pre>
<p>Run the Go config against the Go files:</p>
<pre><code>$ docker run -v "${PWD}:/src" returntocorp/semgrep --config=go-config.yml test/golang
A new version of Semgrep is available. Please see https://github.com/returntocorp/semgrep#upgrading for more information.
running 1 rules...
test/golang/simple-print.go
severity:warning rule:fail-on-print: Semgrep found a match

8:fmt.Printf("%s\n", a)
--------------------------------------------------------------------------------
7:fmt.Println(a)
ran 1 rules on 1 files: 2 findings
</code></pre>
<p>Cool! Making some sense. Now let's try a harder pattern.</p>
<h3 id="catching-triple-nested-for-loops">Catching triple-nested for loops</h3><p>Let's try to warn on the triple-nested loop in this code:</p>
<pre><code>$ cat test/golang/loopy.go
package main

import "log"

func main() {
  doneFirst := false
  for i := 0; i &lt; 10; i++ {
    log.Print(i)

    for j := 0; j &lt; 100; j++ {
      c := i * j

      going := true
      k := 0
      for going {
        if k == c {
          break
        }

        k++
        log.Print(k)
      }
    }

    doneFirst = true
  }
}
</code></pre>
<p>If we want to catch the use of nested for loops here then we'll need
to search for the loops surrounded by arbitrary
syntax. Semgrep's <code>...</code> syntax makes this easy.</p>
<pre><code>$ cat go-config2.yml
rules:
- id: fail-on-3-loop
  pattern: |
    for ... {
      ...
      for ... {
        ...

        for ... {
          ...
        }
        ...
      }
      ...
    }
  message: |
    Semgrep found a match
  severity: WARNING
  mode: search
  languages: ["generic"]
</code></pre>
<p>And run semgrep:</p>
<pre><code>$ docker run -v "${PWD}:/src" returntocorp/semgrep --config=go-config2.yml test/golang
A new version of Semgrep is available. Please see https://github.com/returntocorp/semgrep#upgrading for more information.
running 1 rules...
test/golang/loopy.go
severity:warning rule:fail-on-3-loop: Semgrep found a match

7:for i := 0; i &lt; 10; i++ {
8:              log.Print(i)
9:
10:             for j := 0; j &lt; 100; j++ {
11:                     c := i * j
12:
13:                     going := true
14:                     k := 0
15:                     for going {
16:                             if k == c {
-------- [hid 10 additional lines, adjust with --max-lines-per-finding] --------
ran 1 rules on 2 files: 1 findings
</code></pre>
<p>That's just swell.</p>
<h3 id="limits-of-static-analysis">Limits of static analysis</h3><p>Now let's say we refactor one of the inner loops into its own
function.</p>
<pre><code>$ cat test/golang/loopy.go
package main

import "log"

func inner(i, j int) {
  c := i * j

  going := true
  k := 0
  for going {
    if k == c {
      break
    }

    k++
    log.Print(k)
  }
}

func main() {
  doneFirst := false
  for i := 0; i &lt; 10; i++ {
    log.Print(i)

    for j := 0; j &lt; 100; j++ {
      inner(i, j)
    }

    doneFirst = true
  }
}
</code></pre>
<p>And run semgrep again:</p>
<pre><code>$ docker run -v "${PWD}:/src" returntocorp/semgrep --config=go-config2.yml test/golang
 A new version of Semgrep is available. Please see https://github.com/returntocorp/semgrep#upgrading for more information.
 running 1 rules...
 ran 1 rules on 2 files: 0 findings
</code></pre>
<p>Well great. The 3-nested loop still exists but we can't find it
anymore because it's not syntactically obvious anymore.</p>
<p>At this point we'd need to start getting into linting based on runtime
analysis. If you know of a tool that does this and lets you write
rules like semgrep for it, please tell me!</p>
<h3 id="in-summary">In summary</h3><p>In the end though, it's still very useful to be able to learn a single
language for writing syntax rules at a high level to enforce behavior
in code. Furthermore, a generic syntax matcher helps you write easily
write rules for things that don't already have linters like YAML
or JSON configuration or Vagrantfiles.</p>
<p>It can be annoying to work around some missing docs in semgrep but
overall it's a great tool for the kit.</p>
<h4 id="feedback">Feedback</h4><p>As always, I'd love to <a href="mailto:me@eatonphil.com">hear from you</a> with
questions or ideas.</p>
<blockquote><p lang="en" dir="ltr"><a href="https://twitter.com/hashtag/semgrep?src=hash&amp;ref_src=twsrc%5Etfw">#semgrep</a> is a really neat tool for syntactic analysis. Here are a few simple examples (catch print statements, triple nested loops, etc.) using Docker. Includes some necessary info the docs don't get into<a href="https://t.co/UDHEH5JmOa">https://t.co/UDHEH5JmOa</a></p>‚Äî Phil Eaton (@phil_eaton) <a href="https://twitter.com/phil_eaton/status/1340785372364738562?ref_src=twsrc%5Etfw">December 20, 2020</a></blockquote> 

      </div>
    </div></div>]]>
            </description>
            <link>https://notes.eatonphil.com/static-analysis-with-semgrep.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25490249</guid>
            <pubDate>Sun, 20 Dec 2020 22:37:08 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[eBPF Is Awesome]]>
            </title>
            <description>
<![CDATA[
Score 195 | Comments 29 (<a href="https://news.ycombinator.com/item?id=25490138">thread link</a>) | @filipn
<br/>
December 20, 2020 | https://filipnikolovski.com/posts/ebpf/ | <a href="https://web.archive.org/web/*/https://filipnikolovski.com/posts/ebpf/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>I was doing some research at work for tracing and observability for microservices, when I came across <a href="https://pixielabs.ai/">Pixielabs</a>. This tool advertises that you can instantly troubleshoot applications without any instrumentation or special code inside the apps, which sounded ‚ú®magical‚ú® to me. So naturally I wanted to know a little more about what enables this technology to work, and after scrolling through the site, under the ‚ÄúNo Instrumentation‚Äù section was this acronym <strong>eBPF</strong>.</p><p>After some further digging on the internet, reading the <a href="https://www.tcpdump.org/papers/bpf-usenix93.pdf">design papers</a> and watching several videos, it was safe to say this technology caught my attention, so I wanted to write some notes on it and I hope this post will spark some further interest in you as well.</p><h2 id="so-what-is-ebpf-exactly">So what is eBPF exactly?</h2><p>The TL;DR version is that this technology enables sandboxed user space applications to run in the Linux kernel itself. In a way it makes the kernel <em>programmable</em> which unlocks tremendous possibilities.</p><p>You can pick <strong>any function</strong> from the kernel and execute the program every time that function runs. Running a program that ‚Äúattaches‚Äù to network sockets, tracepoints and perf events can be extremely useful. Developers can debug the kernel without having to re-compile it. There are plenty of use cases such as:</p><ul><li>Application performance &amp; troubleshooting</li><li>Networking &amp; security</li><li>Runtime security</li><li>Application tracing</li><li>Observability</li></ul><p>That‚Äôs what enables tools like Pixie to do blackbox analysis, without requiring any tinkering inside the applications that we‚Äôre trying to debug.</p><p>Originally BPF was <a href="https://www.tcpdump.org/papers/bpf-usenix93.pdf">designed</a> for capturing and filtering network packets that matched specific rules, discarding any unwanted packets. That‚Äôs why it was called the ‚ÄúBerkeley Packet Filter‚Äù. If you‚Äôve ever used <strong>tcpdump</strong> you‚Äôve probably already used it. Nowadays eBPF can be used for many different things and not just packet filtering but the name stuck for some reason.</p><p>This architecture of network monitoring was vastly superior to the current existing packet capture technologies in terms of performance, mainly because the filtering was done in the kernel instead of copying all of the packets in user space and doing
the calculations there. But with the advancement of processors it didn‚Äôt hold up so well with it‚Äôs initial design. That‚Äôs why the <strong>extended BPF</strong> (eBPF) design was introduced, to take advantage of the modern processing power.</p><p>Initially eBPF was to be also used as a network packet filtering solution, but the ability to run user-space programs inside the kernel proved to be very powerful. The new design extended what the BPF virtual machine could do, which was to allow it to run on all kinds of events, not just packets, and also do certain actions instead of just the ability to filter things.</p><h2 id="how-does-it-work">How does it work?</h2><p>An eBPF program is just a sequence of 64-bit instructions. The virtual machine‚Äôs instruction set is fairly limited and it has two goals in mind:</p><ol><li>The code needs to be executed as fast as possible.</li><li>All BPF instructions must be verifiable at load time to ensure the safety of the kernel.</li></ol><p>Okay so, eBPF code is run in a safe virtual machine inside the kernel. Writing these programs is done with the help of some frameworks (like <a href="https://github.com/iovisor/bcc">bcc</a> and <a href="https://github.com/iovisor/bpftrace">bpftrace</a>) and the program bytecode is then loaded via the <a href="https://man7.org/linux/man-pages/man2/bpf.2.html"><code>bpf</code></a> system call.</p><p>To nullify the security and stability risks when running a user space program inside the kernel, several checks are performed
to ensure that the code we run is safe and that it terminates so our computer won‚Äôt freeze up.</p><p>Firstly, to even be able to run a user program which loads eBPF code, it needs root privileges to do so, unless unprivileged eBPF is enabled, in which case the process can load a program with a reduced functionality. Secondly, there‚Äôs the eBPF verifier which all eBPF programs must go through before they can be executed.</p><p>The verifier runs several checks on the code that safeguards the kernel. The first check ensures that any unbounded
loops which could freeze up the kernel are prohibited. The second check, which is more extensive, simulates the execution of the code making sure that all paths of the code run to completion, no out of bounds memory is accessed and overall the state of the virtual machine is valid.</p><p>The last step of the verification process involves restricting the eBPF program abilities, which kernel functions are callable and which data it can access. The verifier knows how to apply those restrictions because of the <strong>program type</strong>. The program type is determined when we associate the program with a certain event.</p><p>After the verification process is done, the BPF bytecode is then interpreted, or compiled by a JIT compiler, into native instructions that run efficiently whenever an event happens in the kernel.</p><h2 id="kprobes--uprobes">kprobes &amp; uprobes</h2><p>We can create and insert kernel probes or kprobes for short to virtually any function in the kernel, and attach an eBPF program so that it executes each time that function is invoked.</p><p>Here‚Äôs a simple hello world example from the <a href="https://github.com/iovisor/bcc/tree/master/examples">bcc</a> repository:</p><div><pre><code data-lang="python"><span>from</span> bcc <span>import</span> BPF
<span>from</span> bcc.utils <span>import</span> printb
<span># define BPF program</span>
prog <span>=</span> <span>"""
</span><span>int hello(void *ctx) {
</span><span>    bpf_trace_printk("Hello, World!</span><span>\\</span><span>n");
</span><span>    return 0;
</span><span>}
</span><span>"""</span>
<span># load BPF program</span>
b <span>=</span> BPF(text<span>=</span>prog)
b<span>.</span>attach_kprobe(event<span>=</span>b<span>.</span>get_syscall_fnname(<span>"clone"</span>), fn_name<span>=</span><span>"hello"</span>)
<span># header</span>
<span>print</span>(<span>"</span><span>%-18s</span><span> </span><span>%-16s</span><span> </span><span>%-6s</span><span> </span><span>%s</span><span>"</span> <span>%</span> (<span>"TIME(s)"</span>, <span>"COMM"</span>, <span>"PID"</span>, <span>"MESSAGE"</span>))
<span># format output</span>
<span>while</span> <span>1</span>:
    <span>try</span>:
        (task, pid, cpu, flags, ts, msg) <span>=</span> b<span>.</span>trace_fields()
    <span>except</span> <span>ValueError</span>:
        <span>continue</span>
    <span>except</span> <span>KeyboardInterrupt</span>:
        exit()
    printb(<span>b</span><span>"</span><span>%-18.9f</span><span> </span><span>%-16s</span><span> </span><span>%-6d</span><span> </span><span>%s</span><span>"</span> <span>%</span> (ts, task, pid, msg))
</code></pre></div><p>The eBPF program is written in a pseudo-C code and it‚Äôs placed in the variable <code>prog</code> as a string. The bcc framework does all the heavy lifting of generating the bytecode, loading the programs and all that stuff, which makes writing these programs a bit easier.</p><p>In this example, the hello function invokes a bpf helper function called <code>bpf_trace_printk</code> which outputs a ‚ÄúHello, World!‚Äù trace. Then we load the program and we attach a kernel probe for the <a href="https://man7.org/linux/man-pages/man2/clone.2.html"><code>clone</code></a> event, basically saying that we want to call the <code>hello</code> program each time <code>clone</code> is called.</p><p>After that the script waits for new traces to arrive, fetches the fields and prints the values to the screen.</p><p>Let‚Äôs try running it:</p><pre><code>$ sudo python3 hello-ebpf.py
TIME(s)            COMM             PID    MESSAGE
</code></pre><p>The script has successfully loaded the program and now we wait for the traces to arrive. The next thing to do is to try and invoke the <code>clone</code> syscall. We can run any command on the terminal, such as <code>ls</code> and a child process will be created. Since I had firefox running, it created some child processes in the meantime and traces started to show up:</p><pre><code>611.247475000      firefox          5378   Hello, World!
</code></pre><p>As we can see, the message ‚ÄúHello, World!‚Äù is printed on the screen along with the other trace fields. Super cool!</p><p>Besides attaching to kernel functions, we could also observe functions invoked in user space, such as <strong>malloc</strong> or <strong>strlen</strong>. This is possible via another Linux kernel feature - <strong>uprobes</strong>.</p><p>Here‚Äôs an interesting script that counts frequencies of strings by tracing strlen() and using a hash map to store the strings along with the count of their recurrence: <a href="https://github.com/iovisor/bcc/blob/master/examples/tracing/strlen_count.py">https://github.com/iovisor/bcc/blob/master/examples/tracing/strlen_count.py</a></p><h2 id="helper-functions">helper functions</h2><p>Since arbitrary kernel functions are prohibited to be called by ebpf programs, there are several helper functions which the kernel provides for us, such as the <code>bpf_trace_printk</code> function. We can use them to:</p><ul><li>Get the current time</li><li>Interact with eBPF maps</li><li>Manipulate network packets</li><li>Print debugging messages</li></ul><p>Note that each program can only use a subset of these helpers because of the different contexts the programs can run in. Here‚Äôs the extensive <a href="https://man7.org/linux/man-pages/man7/bpf-helpers.7.html">list</a> of bpf helpers.</p><h2 id="map-storage">map storage</h2><p>To write more complicated programs you‚Äôll need some type of data store, and that is where <strong>maps</strong> come in. They are an important part of the BPF internal system, which allows programs to store information that can be accessed from userspace.</p><p>BPF supports different <a href="https://github.com/iovisor/bcc/blob/master/docs/reference_guide.md#maps">types</a> of data stores - you can use a hash map, an array, or even a stack or a queue, depending on the use case of course.</p><h2 id="conclusion">conclusion</h2><p>eBPF opens up all kinds of possibilities for observability. You can treat a system as a blackbox, without really knowing anything about it, and run all kinds of interesting analysis: count the most frequently called functions, trace network packets, do performance tracing and debugging, etc.</p><p>There are a myriad of tools that you can use to observe every component of the system: the CPU, memory, file system, networking, containers, applications‚Ä¶</p><figure><img src="https://d33wubrfki0l68.cloudfront.net/b19abde4b1ccfe4ce140969c8bf44f39d1c2fe70/f9ed3/images/ebpf/bcc_tracing_tools_early2019.png" alt="ebpf-tracing-tools"><figcaption>BCC performance tools (courtesy of Brendan Gregg)</figcaption></figure><p>I‚Äôve only scratched the surface on this subject and I can‚Äôt wait to learn more about it, as well as Linux performance in general. There‚Äôs tons of great posts and videos on this exciting technology, and I‚Äôve left some links below for you. Cheers!</p><h2 id="references">References</h2><ul><li><a href="https://www.tcpdump.org/papers/bpf-usenix93.pdf">https://www.tcpdump.org/papers/bpf-usenix93.pdf</a> ‚Äì BPF paper</li><li><a href="https://lwn.net/Articles/740157/">https://lwn.net/Articles/740157/</a> ‚Äì A thorough introduction to eBPF</li><li><a href="https://www.youtube.com/watch?v=16slh29iN1g">https://www.youtube.com/watch?v=16slh29iN1g</a> ‚Äì interesting talk by Brendan Gregg on BPF performance analysis at Netflix</li><li><a href="http://www.brendangregg.com/ebpf.html">http://www.brendangregg.com/ebpf.html</a> ‚Äì eBPF trace tools</li><li><a href="https://github.com/iovisor/bcc/blob/master/docs/reference_guide.md">https://github.com/iovisor/bcc/blob/master/docs/reference_guide.md</a> ‚Äì BCC reference guide</li></ul></div></div>]]>
            </description>
            <link>https://filipnikolovski.com/posts/ebpf/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25490138</guid>
            <pubDate>Sun, 20 Dec 2020 22:24:55 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Can China‚Äôs Covid News Be Trusted?]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25490119">thread link</a>) | @amoorthy
<br/>
December 20, 2020 | https://blog.thefactual.com/can-chinas-covid-news-be-trusted | <a href="https://web.archive.org/web/*/https://blog.thefactual.com/can-chinas-covid-news-be-trusted">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<div>


<p><span id="hs_cos_wrapper_post_body" data-hs-cos-general-type="meta_field" data-hs-cos-type="rich_text"><p>China has received abundant ridicule for its role in Covid-19, from its <a href="https://www.ft.com/content/82574e3d-1633-48ad-8afb-71ebb3fe3dee" rel="noopener" target="_blank"><span>early negligence</span></a>, to its <a href="https://www.theatlantic.com/politics/archive/2020/05/china-global-influence-who-united-states/611227/" rel="noopener" target="_blank"><span>influence</span></a> over the World Health Organization, to its <a href="https://time.com/5796425/china-coronavirus-lockdown/" rel="noopener" target="_blank"><span>draconian measures</span></a> to control the virus. Part of the negative perception in the West was an assumption that reporting on Covid cases and deaths within China was not to be trusted ‚Äî just as the Chinese political system had failed to acknowledge the emergence of the virus, surely the government would use its extensive societal control to downplay the disease‚Äôs impacts within China.&nbsp;</p>
<!--more-->
<div><p>Months later, however, the evidence suggests that China indeed succeeded in controlling the virus. While many advanced Western democracies <a href="https://ourworldindata.org/covid-cases" rel="noopener" target="_blank"><span>continue to flounder</span></a>, China is almost entirely open, with kids in school, families traveling, and economic growth returning to normal. This week, The Factual used 30 articles from 20 sources across the political spectrum to explore how China achieved this outcome, whether official data for China can be trusted, and what this apparent success portends.</p></div>
<p><img src="https://lh5.googleusercontent.com/LhbaqO6B3R89g-SeB_4ce3UsWk3ZyK_XDD2KnfJImK5eO-ZEXwgr-B2xihV_cIVrJKPiIETuD34ZBAZnUHLFzK06JxqbxYFYTyiVV_o8drZB5GxnhDpA5YAHPi8GpvRwGIjujqeq" width="624" height="417"></p>
<div><p>Note: China‚Äôs case count is imperceptible in comparison to the U.S., EU, and UK counts. (U.S. population = 328 million; EU population = 446 million; UK population = 67 million; China population = 1.39 billion)<br>Source: <a href="https://ourworldindata.org/covid-cases" rel="noopener" target="_blank"><span>Our World in Data</span></a></p></div>
<h4><strong>By Controlling Its Population, China Controlled The Virus</strong></h4>
<p>As Wuhan experienced the first severe urban outbreak of Covid-19, media attention focused on the dystopian elements of China‚Äôs response. Citizens were locked in their residences, <a href="https://slate.com/technology/2020/02/how-china-is-using-drones-to-contain-the-coronavirus.html" rel="noopener" target="_blank"><span>drones</span></a> played out public health warnings, and government entities assumed responsibility for the delivery of necessities to citizens. But these responses were part of one of the world‚Äôs <a href="https://www.nytimes.com/2020/10/30/world/asia/china-covid-coronavirus.html" rel="noopener" target="_blank"><span>most effective</span></a> Covid-19 interventions.</p>
<div><p>On April 7, as case counts and deaths climbed around the world, China reported its <a href="https://www.forbes.com/sites/carlieporterfield/2020/04/07/china-heavily-criticized-for-its-coronavirus-numbers-claims-no-new-deaths/?sh=3ba3b7ae77ad" rel="noopener" target="_blank"><span>first day without a Covid-19 fatality</span></a>. By that point, Wuhan ‚Äî the epicenter of the disease ‚Äî had only reported two new cases in the prior week. The Chinese government, learning rapidly, exercised its societal control to avoid similar outbreaks in other cities. Today, China‚Äôs official statistics show a total of around 90,000 cases and less than 5,000 deaths. By contrast, the U.S. has officially registered 17 million cases, almost 190 times more than China, despite having just a quarter of China‚Äôs population.</p></div>
<p><img src="https://lh6.googleusercontent.com/38aoRz3ugRGds0xMtDZjr8SoGZWFX_9peIj-dXLtJvgvahsA-Y8KoY4DiwyHd81_WfSLm8RVdfhe-2wKl4KWJTzXuGcud5fs0T-L_xtQ5xOk1XTAkdpEJzCCgz7iQnscB3RZc6Qg" width="676"></p>

<p>At the most extreme, China‚Äôs interventions involved <a href="https://reason.com/2020/03/30/the-world-must-not-mimic-chinas-authoritarian-model-to-fight-covid-19/" rel="noopener" target="_blank"><span>intensive restrictions</span></a> on the movement of citizens on as many as <a href="https://www.factcheck.org/2020/06/china-didnt-stop-virus-cold-outside-wuhan/" rel="noopener" target="_blank"><span>750 million people</span></a>. However, since the intense first weeks, the measures have seemed comparatively less extreme, relying mostly on the routine monitoring of citizens. <a href="https://www.nbcnews.com/news/world/covid-19-runs-riot-across-world-china-controls-pandemic-n1246587" rel="noopener" target="_blank"><span>These measures</span></a> include ‚Äúcolor-coded designations based on a person‚Äôs health status,‚Äù widespread testing, <a href="https://www.newyorker.com/magazine/2020/08/17/how-china-controlled-the-coronavirus" rel="noopener" target="_blank"><span>routine temperature taking</span></a>, and careful monitoring of people entering the country ‚Äî now seen as the <a href="https://www.npr.org/sections/coronavirus-live-updates/2020/10/16/924382187/city-in-china-tests-10-million-people-after-13-covid-19-cases-are-found" rel="noopener" target="_blank"><span>primary source</span></a> of most new cases in China. Mask wearing was compulsory, though such orders have largely been lifted now.</p>
<p>New cases are comprehensively attacked through a combination of <a href="https://www.washingtontimes.com/news/2020/nov/23/china-tests-millions-after-coronavirus-flare-ups-i/" rel="noopener" target="_blank"><span>testing</span></a>, contact tracing, and quarantines. For example, in October in the port city of Qingdao, the emergence of a handful of new cases led local authorities to conduct over <a href="https://www.businessinsider.com/china-testing-qingdao-city-9-million-after-12-cases-hospital-2020-10" rel="noopener" target="_blank"><span>9 million tests</span></a> in the course of five days, ultimately identifying around a dozen cases. Similarly, <a href="https://www.forbes.com/sites/siladityaray/2020/11/23/china-launches-mass-testing-in-three-cities-chaotic-scenes-follow-at-shanghai-airport/?sh=783168a93ede" rel="noopener" target="_blank"><span>a video emerged</span></a> in Western media in November of a confrontation between workers in a Shanghai airport and hazmat-wearing government officials. It was later revealed that, upon learning of a potential case, <a href="https://apnews.com/article/tianjin-shanghai-coronavirus-pandemic-china-united-states-8d46e90bc0a3b75c1b5a66c196e45025" rel="noopener" target="_blank"><span>17,719 workers were tested</span></a> to locate a single positive case.</p>
<div><p>While it‚Äôs easy to see China‚Äôs purported success in controlling the virus as solely the result of the government‚Äôs active measures, citizen compliance and appreciation for science and health messaging has also likely <a href="https://www.nbcnews.com/news/world/covid-19-runs-riot-across-world-china-controls-pandemic-n1246587" rel="noopener" target="_blank"><span>played a consequential role</span></a>, as has the clarity and consistency of official messaging and pre-existing proclivities toward mask usage. There has not been similar skepticism toward virus mitigation efforts nor a <a href="https://www.nytimes.com/2020/10/30/world/asia/china-covid-coronavirus.html" rel="noopener" target="_blank"><span>politicization of the pandemic</span></a>, as seen in Western democracies. High levels of compliance meshed with government action to bring about what is likely one of the fullest and fastest recoveries anywhere in the world.</p></div>
<h4><strong>Can China‚Äôs Numbers Be Trusted?</strong></h4>
<p>Skepticism of China‚Äôs handling of Covid-19 has been consistent, and it‚Äôs no surprise that many also doubt the official tallies of cases and deaths. Already receiving flak as the origin of the virus and for a <a href="https://www.ft.com/content/82574e3d-1633-48ad-8afb-71ebb3fe3dee" rel="noopener" target="_blank"><span>failure to contain its spread early</span></a>, China has much to gain from positive press, meaning that ‚Äúconquering‚Äù the virus would be the beginning of a much-needed win. But while this nominally gives China a motivation to underreport cases and deaths, and it by many accounts has much of the control needed to do so (consider China's <a href="https://www.propublica.org/article/leaked-documents-show-how-chinas-army-of-paid-internet-trolls-helped-censor-the-coronavirus" rel="noopener">extensive censorship efforts</a> early on), there is no evidence that it is hiding significant numbers of either ‚Äî at least not at a magnitude that would alter its narrative of success.&nbsp;</p>
<p>Critics point to a number of choices and anecdotes to substantiate the claim that China is obfuscating the real extent of the virus within its borders. For example, China has altered its definition of a confirmed case <a href="https://time.com/5813628/china-coronavirus-statistics-wuhan/" rel="noopener" target="_blank"><span>numerous times</span></a> over the course of the pandemic and made the choice not to include asymptomatic cases in the official tally, moves that some argue are aimed at limiting the official extent of the virus. However, others have pointed out that some of these redefinitions <a href="https://quillette.com/2020/09/06/the-china-syndrome-part-iv-did-china-fudge-its-data/" rel="noopener" target="_blank"><span>have resulted</span></a> in case counts being revised upward as well as downward and that some changes in definition are expected, given the novelty of the virus. Furthermore, the decision to exclude asymptomatic cases, while perhaps counterintuitive, has been both ridiculed and defended by experts as a plausible epidemiological choice.&nbsp;</p>
<p>Similarly, the anecdotes used to suggest significantly worse outcomes in China do not hold up to scrutiny. For example, one such popular story from Wuhan suggested that crematoriums were <a href="https://time.com/5813628/china-coronavirus-statistics-wuhan/" rel="noopener" target="_blank"><span>distributing huge numbers of burial urns</span></a> during the worst part of Wuhan‚Äôs outbreak, and extrapolations were made to suggest that many times more people were dying. Further scrutiny, however, suggests that such evidence is rather <a href="https://quillette.com/2020/09/06/the-china-syndrome-part-iv-did-china-fudge-its-data/" rel="noopener" target="_blank"><span>flimsy</span></a>, and while we can‚Äôt be sure just how many people died in the worst days in Wuhan, there‚Äôs scant evidence to suggest that there‚Äôs been any coordinated coverup of a large number of cases and deaths.</p>
<div><p>Quite plainly, if China was trying to hold back more severe outbreaks or impacts, Chinese society would not be so <a href="https://www.nbcnews.com/news/world/covid-19-runs-riot-across-world-china-controls-pandemic-n1246587" rel="noopener" target="_blank"><span>obviously recovering</span></a>, with 240 million students in school and 637 million Chinese <a href="https://www.cnbc.com/2020/10/09/china-attractions-630-million-people-travel-during-golden-week.html" rel="noopener" target="_blank"><span>travelling in the first week of October</span></a> for the mid-autumn festival, not far behind the 782 million that travelled during the same period in 2019. <a href="https://www.newyorker.com/magazine/2020/08/17/how-china-controlled-the-coronavirus" rel="noopener" target="_blank"><span>Full flights</span></a>, classrooms, and events returned fairly quickly to China, with authorities gathering that the risk was sufficiently low in many areas. And while China has first-rate censorship capabilities and enormous influence on the behavior of citizens, it lacks the ability to cover up or hide a serious crisis on the scale of Covid-19 outbreaks. People would be <a href="https://quillette.com/2020/09/06/the-china-syndrome-part-iv-did-china-fudge-its-data/" rel="noopener" target="_blank"><span>documenting, discussing, and sharing</span></a> the events the same way they were able to in Wuhan at the onset of the pandemic ‚Äî from watching out for family, friends, and neighbors, to recording videos of government officials, to noticing the construction of new <a href="https://www.wsj.com/articles/how-china-can-build-a-coronavirus-hospital-in-10-days-11580397751" rel="noopener" target="_blank"><span>Covid-specific hospitals</span></a>. The Chinese government knows its strengths, but probably also its limitations, and seems to understand that containing the actual virus is far more beneficial and feasible than containing information about its spread.&nbsp;</p></div>
<h4><strong>China‚Äôs Wins</strong></h4>
<div><p>Given what we know about the virus in China, the evidence suggests that the country really has Covid-19 under control, that the Chinese government has strategies that effectively and comprehensively keep it at bay, and that the reported numbers of cases and deaths are likely not hugely different from what has been officially reported. Western media has at times been distracted by China‚Äôs behavior in the first weeks of the pandemic, allowing those decisions to <a href="https://www.theguardian.com/science/2020/oct/11/china-coronavirus-covid-19-medical-research" rel="noopener" target="_blank"><span>color or even discount</span></a> what has happened since. A sober assessment now reveals <a href="https://www.nytimes.com/2020/08/25/world/asia/china-xinjiang-covid.html" rel="noopener" target="_blank"><span>heavy-handed</span></a> but exceedingly effective management of the virus on a scale likely impossible anywhere else in the world.</p></div>

<p>While questions are still being asked about China‚Äôs early role in the virus‚Äôs spread, attention must also be paid to what this apparent success means for China. Economically, it has managed a rapid recovery, <a href="https://www.reuters.com/article/us-china-economy-gdp/chinas-economic-recovery-quickens-as-consumption-returns-idUSKBN27404Z" rel="noopener" target="_blank"><span>growing by 4.9%</span></a> between July and September and profiting handsomely from a world stuck at home and dependent Chinese goods. In terms of global health, its success in managing the virus has allowed it to engage in <a href="https://www.sciencemag.org/news/2020/11/global-push-covid-19-vaccines-china-aims-win-friends-and-cut-deals" rel="noopener" target="_blank"><span>vaccine diplomacy</span></a> (rather than vaccine nationalism), helping develop and disseminate vaccines in close collaboration with other countries. And internally, some surveys show Chinese citizens indicating <a href="https://www.npr.org/2020/09/23/913650298/as-u-s-views-of-china-grow-more-negative-chinese-support-for-their-government-ri" rel="noopener" target="_blank"><span>more faith in the Chinese government,</span></a> especially in contrast to the dawdling responses seen elsewhere around the world. At least internally, China‚Äôs pandemic successes seem to be quickly outweighing the costs of its mistakes.</p>
<div><p>To assume that China has been similarly afflicted by the virus as other advanced countries and has simply hidden the truth would be to ignore the fundamental differences in pandemic response and government that many so keenly point out. All things considered, China‚Äôs experience with Covid-19 first reflects its weaknesses, in the hiding of the initial outbreak, but then demonstrates its <a href="https://www.factcheck.org/2020/06/china-didnt-stop-virus-cold-outside-wuhan/" rel="noopener" target="_blank"><span>strengths</span></a>, through intense control and <a href="https://www.washingtonpost.com/health/2020/11/10/us-has-absolutely-no-control-over-coronavirus-china-is-top-tiniest-risks/" rel="noopener" target="_blank"><span>exacting management of risks</span></a>. It turns out the truth might be rather boring: China has the capacity to implement effective physical restraints to stop the virus but probably not the ability to cover up huge numbers of Covid-related deaths. In short, the story adds up.</p></div>
<h4><strong>Appendix</strong></h4>
<p>This appendix shows each of the articles used to inform the findings of this article, as well as how the articles scored according to The Factual's credibility algorithm. To learn more, ‚Ä¶</p></span></p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.thefactual.com/can-chinas-covid-news-be-trusted">https://blog.thefactual.com/can-chinas-covid-news-be-trusted</a></em></p>]]>
            </description>
            <link>https://blog.thefactual.com/can-chinas-covid-news-be-trusted</link>
            <guid isPermaLink="false">hacker-news-small-sites-25490119</guid>
            <pubDate>Sun, 20 Dec 2020 22:23:09 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Four Arguments for Eliminating Television by Jerry Mander (2005) [pdf]]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25490035">thread link</a>) | @johntfella
<br/>
December 20, 2020 | http://onthewing.org/user/Ev_Four%20Arguments%20for%20Eliminating%20Television.pdf | <a href="https://web.archive.org/web/*/http://onthewing.org/user/Ev_Four%20Arguments%20for%20Eliminating%20Television.pdf">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>http://onthewing.org/user/Ev_Four%20Arguments%20for%20Eliminating%20Television.pdf</link>
            <guid isPermaLink="false">hacker-news-small-sites-25490035</guid>
            <pubDate>Sun, 20 Dec 2020 22:13:59 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Distributed Charge: Real Time Machine to Machine Micropayments for Car Chargers]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25489949">thread link</a>) | @fortran77
<br/>
December 20, 2020 | http://andyschroder.com/DistributedCharge/ | <a href="https://web.archive.org/web/*/http://andyschroder.com/DistributedCharge/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>http://andyschroder.com/DistributedCharge/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25489949</guid>
            <pubDate>Sun, 20 Dec 2020 22:03:55 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Create Postcode map from OpenStreetMap data]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25489905">thread link</a>) | @konsalexee
<br/>
December 20, 2020 | https://blog.alexoglou.com/postcode-map/ | <a href="https://web.archive.org/web/*/https://blog.alexoglou.com/postcode-map/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><figure>
    
  <span>
    <span>
      <picture>
        <source srcset="https://blog.alexoglou.com/static/1b247a8b4c55df7e62caa409403daeb9/03f31/featured.webp 1000w,
https://blog.alexoglou.com/static/1b247a8b4c55df7e62caa409403daeb9/2c6ed/featured.webp 1833w" sizes="(max-width: 1833px) 100vw, 1833px" type="image/webp">
        <source srcset="https://blog.alexoglou.com/static/1b247a8b4c55df7e62caa409403daeb9/da8b6/featured.png 1000w,
https://blog.alexoglou.com/static/1b247a8b4c55df7e62caa409403daeb9/4c920/featured.png 1833w" sizes="(max-width: 1833px) 100vw, 1833px" type="image/png">
        <img src="https://blog.alexoglou.com/static/1b247a8b4c55df7e62caa409403daeb9/4c920/featured.png" alt="featured" title="">
      </picture>
      </span>
  </span>
  
    <figcaption>The final result in Kepler.gl.
    </figcaption>
</figure>
<h2>Why I even started working on this madness?</h2>
<p>Anyone who is working with geospatial data, will probably sometime in h/er/is career will need to aggregate data based on a common field. For a project of mine, I wanted to provide insights about neighborhoods and how they are evolving over time.</p>
<p>As I started mining the web and aggregate the data, the Least Common Multiple I could find, the foreign key for all the tables or name it however you want, was the Postcode or Postal Code or Zipcode.</p>
<p>So far so good, but when I started searching for ways to visualize the data, I quickly found out that there is not a single postcode boundary map on the web to serve my needs. If you live in the U.S. someone else has probably worked to help you. But many countries lack those data.</p>
<h2>Using Open Data to solve this problem</h2>
<p>After searching for quite a long time and writing on forums like <a href="https://help.openstreetmap.org/questions/77790/postal-code-clustering-from-osm-dataf">help.openstreetmap.org</a> I started having a feeling that there is a chance that I can produce an approximate map myself using open data.</p>
<p>Below are the steps I followed to create my country‚Äôs (Greece) postcode boundary map. You can perform similar steps to produce your map.</p>
<h3>Step 1: Finding the right data</h3>
<p>OpenStreetMap dataset is huge. Even if you try to parse the whole dataset, I am sure that your PC will have a really hard time. The best thing to do when you are working for a specific country is to download a specific dataset from a website like <a href="https://www.geofabrik.de/">Geofabrik</a>.</p>
<p>Geofabrik is a company offering consulting services for OSM related projects. For our luck, they offer clean datasets for each country. <a href="https://download.geofabrik.de/europe/greece.html">Here</a> you can find the OSM data for Greece.</p>
<p>Download the latest <code>pbf</code> file and then we will continue with the next step.</p>
<blockquote>
<p>What is <code>pbf</code>? <code>pbf</code> is a Protocol Buffer Binary Format and is used as a more efficient alternative of XML. For more info about <code>pbf</code> and why OSM are using it read <a href="https://wiki.openstreetmap.org/wiki/PBF_Format">here</a></p>
</blockquote>
<h3>Step 2: Cleaning the data</h3>
<div data-language="bash"><pre><code><span>.</span>
‚îî‚îÄ‚îÄ <span>[</span><span>4</span>.1G<span>]</span>  greece-latest.osm</code></pre></div>
<p>I downloaded the file, and now I have a <code>4GB</code> file, full of data. Most of them are not essential to our task, so let‚Äôs find out how we can reduce the data to the minimum.</p>
<p>For the process of pruning the dataset, there is a beautiful tool, called <a href="https://wiki.openstreetmap.org/wiki/Osmfilter">osmfilter</a>.</p>
<p>After reading the documentation, I figured out which data was essential for producing the map, all the addresses that included a postcode. The command to keep only these data is the following</p>
<div data-language="bash"><pre><code>osmfilter greece-latest.osm --keep<span>=</span><span>"addr:postcode"</span> <span>&gt;</span> greece-post-only.osm</code></pre></div>
<p>This will take some time, so don‚Äôt worry if you cannot see anything printing for a while in the bash.</p>
<p>Now our file size went from <code>4.1GB</code> to <code>37M</code>. Now it is easier for programs like QGIS to handle our file.</p>
<div data-language="bash"><pre><code><span>.</span>
‚îú‚îÄ‚îÄ <span>[</span><span>4</span>.1G<span>]</span>  greece-latest.osm
‚îî‚îÄ‚îÄ <span>[</span> 37M<span>]</span>  greece-post-only.osm</code></pre></div>
<p>If we want further pruning of our data, let‚Äôs keep only the nodes that have a postcode and drop ways and relations. Feel free to read OSM documentation on what do these data represent.</p>
<p>Execute the following command and let‚Äôs check the result.</p>
<div data-language="bash"><pre><code>osmfilter greece-latest.osm --drop-ways --drop-relations --keep<span>=</span><span>"addr:postcode"</span> <span>&gt;</span> greece-post-only-nodes.osm</code></pre></div>
<p>Now you will see that the resulted document will be smaller (hopefully). In our case, it is <code>9MB</code> smaller than the previous one.</p>
<div data-language="bash"><pre><code><span>.</span>
‚îú‚îÄ‚îÄ <span>[</span><span>4</span>.1G<span>]</span>  greece-latest.osm
‚îú‚îÄ‚îÄ <span>[</span> 28M<span>]</span>  greece-post-only-nodes.osm
‚îî‚îÄ‚îÄ <span>[</span> 37M<span>]</span>  greece-post-only.osm</code></pre></div>

<p><strong>Update</strong></p>
<p>As I imported the data in the GQIS, I found that the postcode attribute is nested inside the <code>other_tags</code> field. Find the relevant post I made <a href="https://gis.stackexchange.com/questions/380685/unpacking-attributes-from-osm">at gis.stackexcange</a>, but I did not have any luck.</p>
<p>A workaround I found, is to get the data I wanted from Overpass Turbo, executing this query, and download them as GeoJSON:</p>
<div data-language="js"><pre><code>
<span>[</span>out<span>:</span>json<span>]</span><span>[</span>timeout<span>:</span><span>25</span><span>]</span><span>;</span>

<span>{</span><span>{</span>geocodeArea<span>:</span>Greece<span>}</span><span>}</span><span>-</span><span>&gt;</span><span>.</span>searchArea<span>;</span>

<span>(</span>
  
  node<span>[</span><span>"addr:postcode"</span><span>]</span><span>(</span>area<span>.</span>searchArea<span>)</span><span>;</span>

<span>)</span><span>;</span>

out body<span>;</span>
<span>&gt;</span><span>;</span>
out skel qt<span>;</span></code></pre></div>
<h3>Step 3: Import them to QGIS</h3>
<blockquote>
<p>QGIS is a Free and Open Source Geographic Information System</p>
</blockquote>
<p>Now it‚Äôs time to import our data to QGIS and start playing around to create our boundary map. Not sure what QGIS is? Do not worry, I did not know anything either, but there is a ton of documentation and a lovely community ready to support you.</p>
<p>Open the QGIS app and import the file we downloaded from Overpass Turbo.</p>
<p>To import our data perform the following steps:</p>
<ol>
<li>Click Layer ‚Üí Add Layer ‚Üí Add Vector Layer</li>
<li>Then Navigate to the file you created in the previous step and select it</li>
<li>Click Add</li>
</ol>
<p>You should see a screen like the one below if everything worked right.</p>
<figure>
    
  <span>
    <span>
      <picture>
        <source srcset="https://blog.alexoglou.com/static/681b6911c9fa16f46da9e76553f1ca02/03f31/overpass-nodes.webp 1000w,
https://blog.alexoglou.com/static/681b6911c9fa16f46da9e76553f1ca02/7e36f/overpass-nodes.webp 1920w" sizes="(max-width: 1920px) 100vw, 1920px" type="image/webp">
        <source srcset="https://blog.alexoglou.com/static/681b6911c9fa16f46da9e76553f1ca02/da8b6/overpass-nodes.png 1000w,
https://blog.alexoglou.com/static/681b6911c9fa16f46da9e76553f1ca02/88b03/overpass-nodes.png 1920w" sizes="(max-width: 1920px) 100vw, 1920px" type="image/png">
        <img src="https://blog.alexoglou.com/static/681b6911c9fa16f46da9e76553f1ca02/88b03/overpass-nodes.png" alt="overpass nodes" title="">
      </picture>
      </span>
  </span>
  
    <figcaption>Our data successfully loaded.
    </figcaption>
</figure>
<p>Also, click a node and you should see in the Feature window the attribute <code>addr:postcode</code>.</p>
<p>If you wish to display a map behind to get a better feeling of your data, in the Browser panel on your left click <code>XYX tiles ‚Üí OpenStreetmap</code> and voila.</p>
<h3>Step 4: Voronoi to the rescue</h3>
<p>Now that we imported the data what? We need to find an algorithm to somehow connect all these dots and occupy the space they deserve.</p>
<p>Voronoi, a Russian Mathematician, gave us a pretty elegant solution for this problem. The theory behind although technically is pretty complex, the following GIF will help you visualize what we are going to perform with the help of QGIS.</p>
<figure>
    <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/d/d9/Voronoi_growth_euclidean.gif/220px-Voronoi_growth_euclidean.gif">
    <figcaption>How Voronoi works.
    </figcaption>
</figure>
<p>Read more about how Voronoi works <a href="https://en.wikipedia.org/wiki/Voronoi_diagram">here</a> and let‚Äôs continue building this map.</p>
<p>To run the Voronoi algorithm perform the following steps:</p>
<ol>
<li>Click on the layer that contains our data</li>
<li>Click on Vector ‚Üí Geometry Tools ‚Üí Voronoi Polygons</li>
</ol>
<p>Now you can press <code>Run</code> immediately or you can play around with the <code>Buffer region</code> variable. <code>Buffer region</code> is explained <a href="https://gis.stackexchange.com/questions/220894/what-does-buffer-mean-in-qgis-voronoi-dialog">here</a>, but also take a look at the meaning in the image below.</p>
<figure>
    <img src="https://i.stack.imgur.com/oYk9j.png">
    <figcaption>Voronoi Buffer factor.
    </figcaption>
</figure>
<p>Now let‚Äôs click Run and check the results (note that the process takes some time, hopefully they enable parallelization of the process in the future).</p>
<figure>
    
  <span>
    <span>
      <picture>
        <source srcset="https://blog.alexoglou.com/static/3342b284fa979f330b73f72df3700463/03f31/voronoi.webp 1000w,
https://blog.alexoglou.com/static/3342b284fa979f330b73f72df3700463/7e36f/voronoi.webp 1920w" sizes="(max-width: 1920px) 100vw, 1920px" type="image/webp">
        <source srcset="https://blog.alexoglou.com/static/3342b284fa979f330b73f72df3700463/da8b6/voronoi.png 1000w,
https://blog.alexoglou.com/static/3342b284fa979f330b73f72df3700463/88b03/voronoi.png 1920w" sizes="(max-width: 1920px) 100vw, 1920px" type="image/png">
        <img src="https://blog.alexoglou.com/static/3342b284fa979f330b73f72df3700463/88b03/voronoi.png" alt="voronoi" title="">
      </picture>
      </span>
  </span>
  
    <figcaption>Our created Voronoi polygons.
    </figcaption>
</figure>
<h3>Step 5: Connecting Polygons</h3>
<p>Our polygons are ready. But many of them have the same postcode. To merge them into one polygon we will use the <code>Dissolve</code> function.</p>
<ol>
<li>Click on the layer that contains our Voronoi Polygons</li>
<li>Click on Vector ‚Üí Geometry Tools ‚Üí Dissolve</li>
<li>In the Dissolve fields select the <code>addr:postcode</code> to tell our algorithm to merge them based on the postcode attribute</li>
</ol>
<figure>
    
  <span>
    <span>
      <picture>
        <source srcset="https://blog.alexoglou.com/static/b6b6fa4d48e6f004e9d5829de9fd4cd9/03f31/dissolve.webp 1000w,
https://blog.alexoglou.com/static/b6b6fa4d48e6f004e9d5829de9fd4cd9/7e36f/dissolve.webp 1920w" sizes="(max-width: 1920px) 100vw, 1920px" type="image/webp">
        <source srcset="https://blog.alexoglou.com/static/b6b6fa4d48e6f004e9d5829de9fd4cd9/da8b6/dissolve.png 1000w,
https://blog.alexoglou.com/static/b6b6fa4d48e6f004e9d5829de9fd4cd9/88b03/dissolve.png 1920w" sizes="(max-width: 1920px) 100vw, 1920px" type="image/png">
        <img src="https://blog.alexoglou.com/static/b6b6fa4d48e6f004e9d5829de9fd4cd9/88b03/dissolve.png" alt="dissolve" title="">
      </picture>
      </span>
  </span>
  
    <figcaption>And now we have the polygons grouped  based on the postcode. But they overflow the land.
    </figcaption>
</figure>
<h3>Step 6: Union</h3>
<p>As you can see in the picture above, our polygons are spread across the sea. To avoid that, we can import a boundary map of our country.</p>
<p>I found one map for Greece from <a href="https://geodata.gov.gr/en/dataset/op1a-anuot1kwv-ko1votntwv/resource/b387a8a0-69b9-42a4-a08b-e33136096b95">GeoData.gov</a> and imported the shapefile. This shapefile includes the boundaries for all the municipalities, but it fits our needs.</p>
<figure>
    
  <span>
    <span>
      <picture>
        <source srcset="https://blog.alexoglou.com/static/5dc08c2191d5252625072451b9caf43f/03f31/municipalities.webp 1000w,
https://blog.alexoglou.com/static/5dc08c2191d5252625072451b9caf43f/7e36f/municipalities.webp 1920w" sizes="(max-width: 1920px) 100vw, 1920px" type="image/webp">
        <source srcset="https://blog.alexoglou.com/static/5dc08c2191d5252625072451b9caf43f/da8b6/municipalities.png 1000w,
https://blog.alexoglou.com/static/5dc08c2191d5252625072451b9caf43f/88b03/municipalities.png 1920w" sizes="(max-width: 1920px) 100vw, 1920px" type="image/png">
        <img src="https://blog.alexoglou.com/static/5dc08c2191d5252625072451b9caf43f/88b03/municipalities.png" alt="municipalities" title="">
      </picture>
      </span>
  </span>
  
    <figcaption>Now our map should look like this.
    </figcaption>
</figure>
<p>To create the file map, follow the next steps:</p>
<ol>
<li>Click on the layer that contains our Dissolved layer and the Country‚Äôs boundaries map</li>
<li>Click on Vector ‚Üí Geometry Tools ‚Üí Intersection</li>
<li>In the Intersection input fields to keep, select only the <code>addr:postcode</code></li>
</ol>
<figure>
    
  <span>
    <span>
      <picture>
        <source srcset="https://blog.alexoglou.com/static/d13e5e4408079071282a273ac568fbca/03f31/post-map.webp 1000w,
https://blog.alexoglou.com/static/d13e5e4408079071282a273ac568fbca/7e36f/post-map.webp 1920w" sizes="(max-width: 1920px) 100vw, 1920px" type="image/webp">
        <source srcset="https://blog.alexoglou.com/static/d13e5e4408079071282a273ac568fbca/da8b6/post-map.png 1000w,
https://blog.alexoglou.com/static/d13e5e4408079071282a273ac568fbca/88b03/post-map.png 1920w" sizes="(max-width: 1920px) 100vw, 1920px" type="image/png">
        <img src="https://blog.alexoglou.com/static/d13e5e4408079071282a273ac568fbca/88b03/post-map.png" alt="post map" title="">
      </picture>
      </span>
  </span>
  
    <figcaption>Our map is ready to use now, with all the postcodes.
    </figcaption>
</figure>
<h3>Feedback</h3>
<p>The results seem promising. I can see a pretty high accuracy in some areas, but unfortunately some areas with only a few nodes are not able to get represented appropriately.</p>
<figure>
    
  <span>
    <span>
      <picture>
        <source srcset="https://blog.alexoglou.com/static/dc40d4fb43921d630c34bd30f20b3de5/03f31/false-postcode.webp 1000w,
https://blog.alexoglou.com/static/dc40d4fb43921d630c34bd30f20b3de5/7e36f/false-postcode.webp 1920w" sizes="(max-width: 1920px) 100vw, 1920px" type="image/webp">
        <source srcset="https://blog.alexoglou.com/static/dc40d4fb43921d630c34bd30f20b3de5/da8b6/false-postcode.png 1000w,
https://blog.alexoglou.com/static/dc40d4fb43921d630c34bd30f20b3de5/88b03/false-postcode.png 1920w" sizes="(max-width: 1920px) 100vw, 1920px" type="image/png">
        <img src="https://blog.alexoglou.com/static/dc40d4fb43921d630c34bd30f20b3de5/88b03/false-postcode.png" alt="false postcode" title="">
      </picture>
      </span>
  </span>
  
    <figcaption>Areas like the selected have only one node, leading to false postcode polygon.
    </figcaption>
</figure>
<p>If by any means you are someone from the QGIS or OSM community, I would appreciate your feedback on how to make the map even more accurate. Although this method worked, I feel that higher accuracy can be achieved!</p>
<p>The simplest way to achieve higher accuracy would be to generate more nodes with postcodes. If anyone knows how, please comment or reach me directly on my <a href="https://twitter.com/CostasAlexoglou">twitter</a>.</p></div></div>]]>
            </description>
            <link>https://blog.alexoglou.com/postcode-map/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25489905</guid>
            <pubDate>Sun, 20 Dec 2020 21:56:45 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Threat Assessment Brief ‚Äì Rapid increase of a SARS-CoV-2 variant observed in UK [pdf]]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25489855">thread link</a>) | @qb
<br/>
December 20, 2020 | https://www.ecdc.europa.eu/sites/default/files/documents/SARS-CoV-2-variant-multiple-spike-protein-mutations-United-Kingdom.pdf | <a href="https://web.archive.org/web/*/https://www.ecdc.europa.eu/sites/default/files/documents/SARS-CoV-2-variant-multiple-spike-protein-mutations-United-Kingdom.pdf">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://www.ecdc.europa.eu/sites/default/files/documents/SARS-CoV-2-variant-multiple-spike-protein-mutations-United-Kingdom.pdf</link>
            <guid isPermaLink="false">hacker-news-small-sites-25489855</guid>
            <pubDate>Sun, 20 Dec 2020 21:50:15 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Perceptual Control Theory]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25489735">thread link</a>) | @optimalsolver
<br/>
December 20, 2020 | https://randommathgenerator.com/2020/12/20/perceptual-control-theory/ | <a href="https://web.archive.org/web/*/https://randommathgenerator.com/2020/12/20/perceptual-control-theory/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">

	<section id="primary">
		<main id="main">

			
<article id="post-1907">

	

	
	<div>
		
<p><a href="https://en.wikipedia.org/wiki/Perceptual_control_theory">Perceptual Control Theory</a> is a very popular model of how the brain works. Its basic premise is this: our perception of the world is not merely based on what our senses perceive. It is also based on what we ‚Äúexpect to perceive‚Äù. For instance, when I am in a car driving down a road, I ‚Äúexpect‚Äù to see some trees, perhaps some houses, people walking on the sidewalk, etc. Hence, on staring out of the window of the car, if I continue seeing just these things, the conscious part of my mind will zone out, while my unconscious brain will keep registering these things passing by the window. However, if I suddenly see a Royal Bengal tiger jumping on my car, the unconscious brain will make the conscious brain zap back into attention, and I will reflexively crouch, or perhaps shield my body somehow. </p>



<p>If I were to re-phrase what perceptual control theory says, I would say that it talks about expectation, and how that expectation aligns with the world around us. When I sleep, I expect to be surrounded by relative peace and calm. Hence, on hearing a loud noise, this expectation has been falsified, and I wake up in order to understand what is happening around me. I need to create a new model of the world, in which such disturbances are possible while I sleep. The good thing about these expectations and models of the world is that they can be corrected quickly and decisively. If I don‚Äôt expect to see snakes in my house, and I suddenly see a snake one day, my mental model of my house will change to include the possibility of snakes. I‚Äôll now be more careful when I open cupboards and peer down drain pipes, in order to improve my chances of survival. </p>



<p>However, our brain also forms expectations and models of the world that cannot be corrected so quickly and decisively. Hence, we stick to these models for a long period of time, almost always to our detriment. Why am I writing about this? Because I have often made mental models of the world that were incorrect, and proved to have significant impacts on my life in terms of career, social life, etc. In this article, I will talk about one particular example. </p>



<p>I have a mental model of the world which is perhaps more aspirational than realistic. When I pick up a book, or a paper, I expect that if I <strong>really focus</strong>, I will be able to able to read it within a few hours, and well within a day. This is my expectation. However, reality is different. Time after time, I have noticed that I am not able to read more than a couple of pages of a mathematics paper or textbook in one sitting. It is possible that I am slower than usual, or maybe this is the pace at which everybody reads. However, I refuse to accept that this is fundamentally true for me, because I may have ambitions of blazing through lots of books and papers in no time, and doing good research as a consequence. Hence, one part of my brain has an expectation that aligns with my lofty goals, and there is another part of my brain that knows that this is not possible. </p>



<p>What happens as a result of this incoherence? When my ‚Äúexpectation‚Äù and ‚Äúreality‚Äù are different, instead of crouching like I did when I saw the tiger, I decide to not read that book or paper at all. I decide to do something completely different, like reading another book. Note the difference: sense perception forces us to change our model of the world much more quickly and easily. If I expect to not see a tiger on the road, and I see a tiger, my model of the world changes instantaneously to include the possibility of tigers on the road. If I expect to see Trump-Pence banners on the roads, and I see Biden-Harris banners instead, my model of the world quickly changes to accommodate the fact that there may be many Democrats in my neighborhood. However, when I have two models of productivity in my brain, even though one may have resulted from past experience, it is very difficult to abandon the aspirational model for the more realistic model. </p>



<p>In this case, the aspirational and ambitious model in my brain suggests that I should be able to blaze through thick tomes in no time if I <strong>really focus</strong>. However, the more realistic model, which has been informed by past experiences, suggests that on average, I do not read more than 4 pages of math in a day. At this stage my brain does two things: it says that the former model may still not be wrong, because I didn‚Äôt <strong>really focus</strong> when I read only 4 pages. When I do, I will obviously be able to read more. This is perhaps similar to ‚ÄúTrue Communism has never really been tried. When the one true Communist establishes a state, humanity will progress like never before.‚Äù The other thing that my brain does is that it recognizes that I will probably not be able to truly focus and read large parts of this book. Hence, in order to avoid potentially falsifying my ambitious model, it forces me to read something completely different, through which I can escape judgement. </p>



<p>I have suffered because of this for a long time. I don‚Äôt work on homework assignments until the last moment because I think that I will be able to do them the day before class. I don‚Äôt work on papers on time because I think that I will be able to do them at the last minute. I don‚Äôt read the texts I am supposed to. Because I cannot find a way to falsify the ambitious part of my brain. </p>



<p>Yesterday, I attended a productivity workshop. In that workshop, one interesting perspective that I gained was that I need to manage my expectations. To think ‚ÄúI will be happy if I am able to read 4 pages of this book‚Äù as opposed to ‚ÄúI will be happy only when I am able to read this whole book in a short time‚Äù. Although it may sound counterintuitive, lowering expectations over the short term may lead to much better results in the long run. Perhaps managing expectations is an extremely important part of my life that I never quite recognized before. If I have a model of the world, I should write down the circumstances in which I will accept it as an accurate model of the world, and also the circumstances in which I will abandon it. In this case, I should write down that if I am not able to read 50 pages of a textbook in a day, I will probably never be able to do it, and hence this expectation is false. I should revise my expectations, until my model of the world aligns with the actual world. </p>



<p>In some ways, this is akin to the scientific method. And it is equally powerful when falsifying theories of black magic, as it is in falsifying delusional theories of the self. </p>




	</div><!-- .entry-content -->

	<!-- .entry-footer -->

			<div>
	
	<p>
		Hello! My name is Ayush Khaitan, and I'm a graduate student in Mathematics.

I am always excited about talking to people about their research. Please please set up a meeting with me if you feel that I might have an interesting perspective to offer- https://calendly.com/ayushkhaitan/meeting-with-ayush		<a href="https://randommathgenerator.com/author/ayushkhaitan3437/" rel="author">
			View more posts		</a>
	</p><!-- .author-description -->
</div><!-- .author-bio -->
	
</article><!-- #post-${ID} -->

	<nav role="navigation" aria-label="Posts">
		<h2>Post navigation</h2>
		
	</nav>
<!-- #comments -->

		</main><!-- #main -->
	</section><!-- #primary -->


	</div></div>]]>
            </description>
            <link>https://randommathgenerator.com/2020/12/20/perceptual-control-theory/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25489735</guid>
            <pubDate>Sun, 20 Dec 2020 21:33:46 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Find bulk stores near you that allow bring your own container]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25489549">thread link</a>) | @heratyian
<br/>
December 20, 2020 | https://www.biggreen.company/zero_waste_map | <a href="https://web.archive.org/web/*/https://www.biggreen.company/zero_waste_map">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://www.biggreen.company/zero_waste_map</link>
            <guid isPermaLink="false">hacker-news-small-sites-25489549</guid>
            <pubDate>Sun, 20 Dec 2020 21:11:13 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[(sci-fi) What if time had another dimension]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25489359">thread link</a>) | @dusted
<br/>
December 20, 2020 | http://dusted.dk/pages/phlog/2020-12-20.txt | <a href="https://web.archive.org/web/*/http://dusted.dk/pages/phlog/2020-12-20.txt">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>http://dusted.dk/pages/phlog/2020-12-20.txt</link>
            <guid isPermaLink="false">hacker-news-small-sites-25489359</guid>
            <pubDate>Sun, 20 Dec 2020 20:44:28 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[New Tesla update increases new Model 3 range, fully using the new 82 kWh battery]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25489040">thread link</a>) | @CarCooler
<br/>
December 20, 2020 | https://www.teslaoracle.com/2020/12/20/latest-tesla-update-increases-new-model-3-range-fully-utilizing-the-new-82-kwh-battery/ | <a href="https://web.archive.org/web/*/https://www.teslaoracle.com/2020/12/20/latest-tesla-update-increases-new-model-3-range-fully-utilizing-the-new-82-kwh-battery/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-content" role="main">

	
<article id="post-7090">
	
	<!-- .cover-header -->

	<div id="post-inner">

		<div>
        
			<figure data-amp-original-style="margin-bottom:30px;">
            <figcaption data-amp-original-style="border:1px dotted blue; margin:2px 0; text-align:center;">Advertisement</figcaption>
            <amp-ad width="100vw" height="320" type="adsense" data-ad-client="ca-pub-0923072950810999" data-ad-slot="4076643206" data-auto-format="rspv" data-full-width="" i-amphtml-layout="fixed">
              
            </amp-ad>
            </figure>
				<!-- .Adsense Ad -->

		
<p>Tesla unlocks the full range of the new 2021 Tesla Model 3 with its latest software update version 2020.48.12.1. Tesla started offering all the <a href="https://www.teslaoracle.com/2020/10/16/tesla-launches-the-refreshed-2021-tesla-model-3-with-range-boost/#range-boost">new Model 3 variants with range boost</a> back in October, but the cars were showing the old ranges on the center display screen.</p>



<p>In the meantime, the owners of imported Tesla Model 3 cars in Germany found out that the new versions of the car had an 82 kWh battery pack instead of the usual ~74 kWh. This discovery was posted by a German Model 3 owner on a local Tesla forum when he took the following screenshot from his vehicle registration book.</p>



<figure><amp-img width="740" height="585" src="https://www.teslaoracle.com/wp-content/uploads/2020/12/2021-Model-3_82-kWh-battery-proof.jpg" alt="Documented proof of the 2021 Tesla Model 3 having an 82 kWh battery pack." srcset="https://www.teslaoracle.com/wp-content/uploads/2020/12/2021-Model-3_82-kWh-battery-proof.jpg 740w, https://www.teslaoracle.com/wp-content/uploads/2020/12/2021-Model-3_82-kWh-battery-proof-300x237.jpg 300w" sizes="(max-width: 740px) 100vw, 740px" layout="intrinsic" disable-inline-width="" i-amphtml-layout="intrinsic"><img loading="lazy" width="740" height="585" src="https://www.teslaoracle.com/wp-content/uploads/2020/12/2021-Model-3_82-kWh-battery-proof.jpg" alt="Documented proof of the 2021 Tesla Model 3 having an 82 kWh battery pack." srcset="https://www.teslaoracle.com/wp-content/uploads/2020/12/2021-Model-3_82-kWh-battery-proof.jpg 740w, https://www.teslaoracle.com/wp-content/uploads/2020/12/2021-Model-3_82-kWh-battery-proof-300x237.jpg 300w" sizes="(max-width: 740px) 100vw, 740px" data-old-src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzU4NScgd2lkdGg9Jzc0MCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2ZXJzaW9uPScxLjEnLz4="></amp-img><figcaption>Documented proof of the 2021 Tesla Model 3 having an 82 kWh battery pack. Source: Discussion on <a href="https://tff-forum.de/t/model-3-refresh-aus-oktober-2020/82613/2770" target="_blank" rel="noreferrer noopener">tff-forum.de</a></figcaption></figure>



<p>So, the mystery of the boosted <a href="https://www.teslaoracle.com/topic/model-3/">Tesla Model 3</a> range is solved. This has been possible due to Panasonic producing more energy-dense 2170 cells at its Gigafactory Nevada cell production plant.</p>



<div><figure><a href="https://evannex.com/?ref=Iqtidar_TeslaOracle_EVANNEX_Banner" target="_blank" rel="sponsored noopener noreferrer"><amp-img src="https://www.teslaoracle.com/wp-content/uploads/2020/10/evannex_googlead_300x250.jpg" alt="" width="300" height="250" layout="intrinsic" i-amphtml-layout="intrinsic"><img src="https://www.teslaoracle.com/wp-content/uploads/2020/10/evannex_googlead_300x250.jpg" alt="" width="300" height="250" data-old-src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzI1MCcgd2lkdGg9JzMwMCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2ZXJzaW9uPScxLjEnLz4="></amp-img></a><figcaption>‚Äì Sponsored ‚Äì</figcaption></figure></div>



<p>The 2020.48.12.1 release notes state the newly extended / unlocked range as:</p>



<blockquote><p><strong>Range Display</strong></p><p>Your car will now display a slightly higher range to more accurately reflect the capacity of the battery.</p><cite>Get the full release notes (2020.48.12.1) at <a href="https://teslascope.com/teslapedia/software/2020.48.12.1" target="_blank" rel="noreferrer noopener">TeslaScope.com</a></cite></blockquote>



<p>The North American reservation holders of the <a href="https://www.teslaoracle.com/2020/10/16/tesla-launches-the-refreshed-2021-tesla-model-3-with-range-boost/">new and refreshed Tesla Model 3</a> have not been able to verify the larger battery pack because the European owners received their deliveries first.</p>



<p>Just yesterday I was talking to several new Model 3 reservation holders from the United States, mostly from California, they are all still waiting for their deliveries. Some are hoping their cars will be delivered after Christmas.</p>



<p>The biggest beneficiary of this range boost will be the owners of the Tesla Model 3 Long Range AWD, as it got a staggering +30 miles of extended range in the new 2021 Model 3 version.</p>



<p>Besides this, Tesla is soon going to release the most exciting <a href="https://www.teslaoracle.com/topic/ota-updates/">software update</a> of the year, the feature-packed <a href="https://www.teslaoracle.com/tag/v11-update/">firmware version v11</a>. Elon Musk had <a href="https://www.teslaoracle.com/2020/11/19/elon-musk-teases-tesla-v11-holiday-season-software-release/">teased about this upcoming major software update</a> last month, V11 is most probably going to start rolling out any day now. The best thing is all Tesla owners will be getting it without spending a dime.</p>



<p>Stay tuned for the latest from the Tesla universe, follow us on:<br><a rel="noreferrer noopener" href="https://news.google.com/publications/CAAqBwgKMOarmgswgLayAw" target="_blank">Google News</a>&nbsp;|&nbsp;<a href="https://flipboard.com/@TeslaOracle" target="_blank" rel="noreferrer noopener nofollow">Flipboard</a>&nbsp;|&nbsp;<a href="https://feedly.com/i/subscription/feed%2Fhttps%3A%2F%2Fwww.teslaoracle.com%2Ffeed%2F" target="_blank" rel="noreferrer noopener nofollow">RSS (Feedly)</a></p>




		<!-- Adsense Matched -->
        <figure>
        <amp-ad width="100vw" height="320" type="adsense" data-ad-client="ca-pub-0923072950810999" data-ad-slot="9763094783" data-auto-format="mcrspv" data-full-width="" i-amphtml-layout="fixed">
          
        </amp-ad>
        </figure><!-- Adsense Matched End -->
		</div><!-- .entry-content -->
		
		<!-- .post-meta-wrapper -->

		<div>
	<!-- .author-name -->
	<div>
		<p>Iqtidar has been writing about Tesla, Elon Musk, and EVs for more than 3 years on XAutoWorld.com, many of his articles have been republished on CleanTechnica and InsideEVs, maintains a healthy relationship with the Tesla community across the Social Media sphere.</p>
		<p><a href="https://www.teslaoracle.com/author/iqtidarali/" rel="author">
			View Archive 		</a>
	</p></div><!-- .author-description -->
</div><!-- .author-bio -->

	</div><!-- .post-inner -->

	
	<!-- .pagination-single -->

	
		<!-- .comments-wrapper -->

		
</article><!-- .post -->

</div></div>]]>
            </description>
            <link>https://www.teslaoracle.com/2020/12/20/latest-tesla-update-increases-new-model-3-range-fully-utilizing-the-new-82-kwh-battery/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25489040</guid>
            <pubDate>Sun, 20 Dec 2020 19:57:47 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Whatever happened to Steve Moraff? (2010)]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25489017">thread link</a>) | @bluedino
<br/>
December 20, 2020 | https://intotheverticalblank.com/2010/09/15/what-ever-happened-to-steve-moraff/ | <a href="https://web.archive.org/web/*/https://intotheverticalblank.com/2010/09/15/what-ever-happened-to-steve-moraff/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="page">

			<!-- #masthead -->

			<div id="content">

	<section id="primary">
		<main id="main" role="main">

		
			<article id="post-5134">
	
	
		

	<div>
		<p>His name might not spark wild-eyed fascination with many retro gaming enthusiasts, but Steve Moraff was a little bit of a legend in his own time. When we first <a href="https://intotheverticalblank.com/encyclopedia/go/" target="_self" title="Mt. Fuji towers 3776 meters as Japan‚Äôs highest mountain range &nbsp; It‚Äôs a striking landmark, that rises almost impossibly out of an unassuming plain, to a pinnacle of ice-capped beauty.&nbsp; After it‚Äôs mammoth breadth is realized, it settles back down again into a valley as if it was never there. &nbsp; It was formed by‚Ä¶">go</a>t a PC (non-Atari machine) in the early 1990‚Äôs, we jumped on the early CD-Rom craze. &nbsp;The best use of CDs at that time was for ‚Äúshovel-ware‚Äù compilations of share-ware games. One developer out-shined all but Apogee and Id. The developer‚Äôs name &nbsp;was Moraffware. &nbsp;Started by Steve Moraff &nbsp;in the mid-80‚Äôs, Moraffware would pioneer shareware and especially the shareware &nbsp;RPG genre on DOS machines.</p>
<p>As we plunged into the the various piles of shareware games we found on the shovel-ware cds, Steve Moraff‚Äôs name kept surfacing on some very nice titles. He was one of the first developers anywhere to use SVGA graphics so his titles were always colorful and unique to play.</p>
<p><a href="http://en.wikipedia.org/wiki/Moraff%27s_Revenge">Moraff‚Äôs Revenge</a> was one of the first 3D RPGs on the PC Dos platform. These early PCs didn‚Äôt have the raw speed on an Atari ST or Amiga, but Steve made some great games given the limitations of the hardware.</p>
<p>I remember some other various Moraff games such as a beautiful Arkanoid clone and probably the best Mahjongg game of its‚Äô time. &nbsp;It seems that Steve has shifted his focus to Mahjongg almost entirely. His <a href="http://www.softwarediversions.com/">current site focuses of on this game type</a>, but also has pages (and the ability to purchase) his classic RPG games:</p>
<p><a href="http://www.softwarediversions.com/catalog/product_info.php?cPath=28&amp;products_id=68">Moraff‚Äôs World</a></p>
<p><a href="http://www.softwarediversions.com/catalog/product_info.php?cPath=28&amp;products_id=69">Moraff‚Äôs revenge</a></p>
<p>and probably his best game,</p>
<p><a href="http://www.softwarediversions.com/catalog/product_info.php?cPath=28&amp;products_id=70">Moraff‚Äôs Dungeons of the Unforgiven</a></p>
<p>There is also a<a href="http://www.softwarediversions.com/catalog/index.php?cPath=31"> World Of Games link</a> on his site that lists some of the other&nbsp; classic and relatively recent games he has created.</p>
<p>It looks like Steve is doing well. I would certainly like to see some of his classic RPGs re-made for today‚Äôs machines, but with DosBox or Boxster, the originals can still be enjoyed today.</p>
<p>(8bitjeff is Jeff D. Fulton)</p>
			</div><!-- .entry-content -->

	<!-- .entry-footer -->

</article><!-- #post-## -->

			
<!-- #comments -->

		
		</main><!-- #main -->
	</section><!-- #primary -->

	<!-- #secondary -->

	</div><!-- #content -->

	<!-- #colophon -->
</div></div>]]>
            </description>
            <link>https://intotheverticalblank.com/2010/09/15/what-ever-happened-to-steve-moraff/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25489017</guid>
            <pubDate>Sun, 20 Dec 2020 19:53:55 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[An Approx Nearest Neighbor Algorithm: How PyNNDescent Works]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25489012">thread link</a>) | @lmcinnes
<br/>
December 20, 2020 | https://pynndescent.readthedocs.io/en/latest/how_pynndescent_works.html | <a href="https://web.archive.org/web/*/https://pynndescent.readthedocs.io/en/latest/how_pynndescent_works.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div role="main" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  

<div id="How-PyNNDescent-works">

<p>PyNNDescent uses neighbor graph based searching to efficiently find good candidates for the nearest neighbors of query points from a large training set. While the basic ideas turn out to be quite simple, the layers of refinements and tricks used to get the highest degree of efficiency complicate things a lot. With that in mind we will begin with the simple naive approach and gradually work out further refinements and details as we go. The core concept, upon which most everything else is based,
is using a nearest neighbor graph to perform a search for approximate nearest neighbors.</p>
<div id="Searching-using-a-nearest-neighbor-graph">
<h2>Searching using a nearest neighbor graph<a href="#Searching-using-a-nearest-neighbor-graph" title="Permalink to this headline">¬∂</a></h2>
<p>Suppose we are given a nearest neighbor graph (let‚Äôs ignore, for now, how we can have obtained such a thing without the ability to find nearest neighbors already). By a graph, I simply mean a network ‚Äì a set of nodes connected by edges. By a nearest neighbor graph I mean that the graph has been derived from data existing in some sort of space for which we have a quantitative notion of similarity, or dissimilarity, or distance. In particular the graph is derived by making each data point a node
and connecting that data point, via edges, to the <span>\(k\)</span> most similar, least dissimilar, or closest other points. We would like to use this graph as an index structure for searching to find the nearest neighbors (points in the graph) of a new query point (potentially not a point in the graph) with respect to that notion of similarity of distance. How can we do this? We can do it via a kind of pruned breadth-first search of the graph, always keeping only the <span>\(k\)</span> best points we‚Äôve found
so far. The algorithm, therefore, looks something like this:</p>
<ol>
<li>Choose a starting node in the graph (potentially randomly) as a candidate node</li>
<li>Look at all nodes connected by an edge to the best untried candidate node in the graph</li>
<li>Add all these nodes to our potential candidate pool</li>
<li>Sort the candidate pool by closeness / similarity to the query point</li>
<li>Truncate the pool to <span>\(k\)</span> best (as in closest to the query) candidates</li>
<li>Return to step 2, unless we have already tried all the candidates in the pool</li>
</ol>
<p>We can see this play out visually on a small graph. For this case we will let <span>\(k=2\)</span> and have a 2-neighbor graph constructed by points in a plane. The query point will be drawn as an orange ‚Äòx‚Äô. We then search, exactly as described, and find ourselves steadily traversing the graph towards the query point.</p>
<p>While that did indeed find the points closest to the query point, it was hardly more efficient than a linear search of all the points ‚Äì there are only two points we didn‚Äôt try! This is ultimately about having such a small graph: while it is good for showing the algorithm clearly, the algorithm doesn‚Äôt really scale down that well to this case. If we want to see it providing benefits we‚Äôll need a larger graph. That‚Äôs not hard to generate, so let‚Äôs see a larger example.</p>
<p>Now, with about as bad a start as we could hope to get, the algorithm efficiently traverses across the graph and find the neighbors of the orange query point, and this time we see that only a small fraction of the total number of points in the graph had to be tried. If we had been a little luckier with our start point we could have done significantly better again. We can scale up to even larger examples:</p>
<p>Again we had about as bad a starting point as possible, but again it very efficiently traverses the graph, steadily improving as it goes, until the algorithm eventually find the nearest neighbors of the orange query point. Notably the algorithm will continue to scale well as the number of points increases, and even as the dimension of the data increases ‚Äì as long as the data itself has a low enough intrisic dimension.</p>
<p>There are, of course, several things that can be done to refine this algorithm to be a little more efficient, and more flexible at the same time. They include such things as keeping a hashtable of visited nodes to ensure you don‚Äôt compute distances twice, and keeping a slightly larger priority queue of candidate nodes to expand ‚Äì anything with (1+:math:<cite>varepsilon</cite>) of the <span>\(k\)</span>th best candidate found so far will suffice. This latter point allows us greater flexibility in search,
allowing a degree of backtracking around local ‚Äúoptima‚Äù in the search. It also provides a parameter which we can tune to get a trade-off between the speed and accuracy that we desire: smaller epsilon gives a faster search, but less accuracy, while a large epsilon can give good accuracy but at the cost of a slower search.</p>
<p>All of this presumed, however, that we had a nearest neighbor graph to start with ‚Äì the thing that we were using as our search index. The question remains: how are we to build that, since we could potentially just use the nearest neighbor search technique used to build the graph (which presumably has to be cheap) instead of the graph search described here. The answer, as it happens, is that we are going to use the graph search technique to build the graph itself ‚Äì pulling ourselves up by our
own bootstraps so to speak.</p>
</div>
<div id="NNDescent-for-building-neighbor-graphs">
<h2>NNDescent for building neighbor graphs<a href="#NNDescent-for-building-neighbor-graphs" title="Permalink to this headline">¬∂</a></h2>
<p>A good way to get to grips with the NNDescent algorithm for constructing approximate k-neighbor graphs is to think of it in terms of the search algorithm we‚Äôve already described. Suppose we had a decent, but not exact, k-neighbor graph. We could use that graph as our search index ‚Äì it won‚Äôt be great, and our search will be particularly approximate and often get stuck in local minima because of that, but it will still work a lot of the time. So, given that graph we could do a nearest neighbor
search, using that graph as the index, for each and every point in the dataset. Because of the nature of the search we could end up finding new neighbors for a node that are closer than the ones in our not-so-good graph. We could use that information to update our graph ‚Äì make it better by using these newly found closer neighbors. Having improved the graph, we can run the search again for each and every point in the dataset. Since the graph is better we will do an even better job of finding
neighbors than before and potentially find some new neighbors that will let us update the graph again.</p>
<p>And that‚Äôs actually the core of the algorithm. Start with a bad graph, use the nearest neighbor search on that graph to get better neighbors, and make a better graph. Rinse, repeat, and eventually we will end up with a good graph. In fact, the better the graph is, the faster and more accurate the search will run. So each iteration will go faster than the last, and we will steadily converge toward the true k-neighbor graph.</p>
<p>There are a couple things to take note of at this point: a better graph results in a better search, so making a better graph sooner will help the search; finding a good initial candidate node for the search was generically a problem (our animations all had particularly bad initial candidates), but we can always use the point itself as the initial candidate since it is guaranteed to be in the graph. So, given a good initial candidate (the node itself), and a desire to update the graph as soon as
possible, it may not be worth running a full search to exhaustion. Instead we could run the search just far enough to potentially find some new neighbors that we haven‚Äôt seen before. The first round of search, starting from the node itself, will only find the neighbors we already have. The second round, however, will step out to neighbors of neighbors (friends of friends if you will), and potentially find some nodes that are closer neighbors than the ones currently in the graph. That would be
enough information to improve the graph ‚Äì since we would have found new better neighbors. So the algorithm would now run:</p>
<ol>
<li>Start with a random graph (connect each node to <span>\(k\)</span> random nodes)</li>
<li>For each node:</li>
<li>Measure the distance from the node to the neighbors of its neighbors</li>
<li>If any are closer then update the graph accordingly, and keep only the <span>\(k\)</span> closest</li>
<li>If any updates were made to the graph then go back to step 2, otherwise stop</li>
</ol>
<p>We can see this play out on some example data (the same data as the medium sized search example):</p>
<p>You can see the graph starts out looking nothing like a <span>\(k\)</span>-neighbors graph ‚Äì just a mess of edges all over with no structure. Quickly, however, we update the graph, and the better the graph gets the better our updates go. After not very long at all the algorithm is simply refining an already very good graph with few, if any, updates at all actually occurring. We can see this most clearly by looking at things in terms of each round of iteration of the algorithm ‚Äì consider the graph at
the point where we‚Äôve updated neighbors for every node and we are at step 3, considering whether to loop back to step 2 or not. At each such iteration we can both look at the state of the graph and measure how close we are to the true <span>\(k\)</span>-neighbor graph. We start with a random graph:</p>
<!-- ![Iteration 0](how_pynn_works_naive_nndescent_iter0.png) --><p><a href="https://pynndescent.readthedocs.io/en/latest/_images/how_pynn_works_naive_nndescent_iter0.png"><img alt="Iteration 0" src="https://pynndescent.readthedocs.io/en/latest/_images/how_pynn_works_naive_nndescent_iter0.png"></a></p>
<p>After we have touched each node once and updated the neighbors based on the friends of friends we get the following:</p>
<!-- ![Iteration 1](how_pynn_works_naive_nndescent_iter1.png) --><p><a href="https://pynndescent.readthedocs.io/en/latest/_images/how_pynn_works_naive_nndescent_iter1.png"><img alt="Iteration 1" src="https://pynndescent.readthedocs.io/en/latest/_images/how_pynn_works_naive_nndescent_iter1.png"></a></p>
<p>Already, after just one pass through, the graph looks a whole lot less random. And, indeed, we have already improved from the sort of accuracy of neighbors we would expect at random, to a graph that has 30% of the neighbors correct for each node (on average). That is a much better graph for doing searches on than the purely random graph, so we would expect to be able to do a lot better when we do another iteration performing updates based on friends of friends in this new much better graph.</p>
<!-- ![Iteration 2](how_pynn_works_naive_nndescent_iter2.png) --><p><a href="https://pynndescent.readthedocs.io/en/latest/_images/how_pynn_works_naive_nndescent_iter2.png"><img alt="Iteration 2" src="https://pynndescent.readthedocs.io/en/latest/_images/how_pynn_works_naive_nndescent_iter2.png"></a></p>
<p>So now after just two passes we already have a graph that is 95% accurate! A search on this graph will be quite accurate, especially since we are guaranteed to be starting with a good candidate (the query itself). Running another pass should get a near perfect result.</p>
<!-- ![Iteration 3](how_pynn_works_naive_nndescent_iter3.png) --><p><a href="https://pynndescent.readthedocs.io/en/latest/_images/how_pynn_works_naive_nndescent_iter3.png"><img alt="Iteration 3" src="https://pynndescent.readthedocs.io/en/latest/_images/how_pynn_works_naive_nndescent_iter3.png"></a></p>
<p>The accuracy improved nicely, but you should note that visually there is very little difference between this graph and the previous graph. Very ‚Ä¶</p></div></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://pynndescent.readthedocs.io/en/latest/how_pynndescent_works.html">https://pynndescent.readthedocs.io/en/latest/how_pynndescent_works.html</a></em></p>]]>
            </description>
            <link>https://pynndescent.readthedocs.io/en/latest/how_pynndescent_works.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25489012</guid>
            <pubDate>Sun, 20 Dec 2020 19:53:00 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The U.S. Army Is Creating Robots with Synthetically Grown Muscle]]>
            </title>
            <description>
<![CDATA[
Score 46 | Comments 13 (<a href="https://news.ycombinator.com/item?id=25489005">thread link</a>) | @bookofjoe
<br/>
December 20, 2020 | https://smosa.com/army-building-robots-with-synthetic-muscle/ | <a href="https://web.archive.org/web/*/https://smosa.com/army-building-robots-with-synthetic-muscle/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>

					<!-- .post-header -->


					<div>
						<p>According to <a href="https://www.eurekalert.org/pub_releases/2020-12/uarl-asf121720.php">an announcement in EurekAlert</a>!, The U.S. Army has been researching with Duke University a technological approach that uses robotics and "biohybrid" muscle elements.</p><p>Army researchers claim that robotic systems filled with muscle tissue will deliver a new level of agility and flexibility. In order to maximize efficiency, biohybrid robotics incorporates living organisms into mechanical systems. The team's first applications are legged platforms similar to the LLAMA and Marine Corps Legged Squad Support System (LS3), the legged locomotive and movement adaptation device of the Army.</p><p>"Though impressive in their own right, today's robots are deployed to serve a limited purpose then are retrieved some minutes later," said research scientist Dr. Dean Culver, "ARL wants robots to be versatile teammates capable of going anywhere soldiers can and more, adapting to the needs of any given situation." Culver added, "Organisms outperform engineered robots in so many ways. Why not use biological components to achieve those remarkable capabilities?"</p><figure><img src="https://images.unsplash.com/photo-1580835239846-5bb9ce03c8c3?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDl8fHJvYm90fGVufDB8fHw&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=2000" alt="Humanoid robot Robotis Bioloid with the hands in the air, cheering." srcset="https://images.unsplash.com/photo-1580835239846-5bb9ce03c8c3?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDl8fHJvYm90fGVufDB8fHw&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=600 600w, https://images.unsplash.com/photo-1580835239846-5bb9ce03c8c3?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDl8fHJvYm90fGVufDB8fHw&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=1000 1000w, https://images.unsplash.com/photo-1580835239846-5bb9ce03c8c3?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDl8fHJvYm90fGVufDB8fHw&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=1600 1600w, https://images.unsplash.com/photo-1580835239846-5bb9ce03c8c3?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDl8fHJvYm90fGVufDB8fHw&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=2400 2400w" sizes="(min-width: 720px) 720px"><figcaption>Photo by <a href="https://unsplash.com/@anilinverse?utm_source=ghost&amp;utm_medium=referral&amp;utm_campaign=api-credit">Adam Lukomski</a> / <a href="https://unsplash.com/?utm_source=ghost&amp;utm_medium=referral&amp;utm_campaign=api-credit">Unsplash</a></figcaption></figure><p>In addition, a separate team from Duke University will focus on the characteristics of macroscopic performance of muscles, tendons and ligaments in skiping animals using legged robots.</p><p>The muscle tissue is excellent for generating a certain mechanical strength, and its flexibility is unrivaled in today's robotic service. The research could show the bio-hybrid engineering community how to grow strong muscular tissue instead of extracting it from a trained organism in addition to providing insight into the mesomechanics that control motor protein movement.</p><p>"Muscle tissue is outstanding at producing a specific amount of mechanical power at a given moment," says Culver, "and its versatility is unrivaled in robotic actuation today."</p>
					</div><!-- .post-content -->

					<!-- .post-footer -->


				</article></div>]]>
            </description>
            <link>https://smosa.com/army-building-robots-with-synthetic-muscle/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25489005</guid>
            <pubDate>Sun, 20 Dec 2020 19:51:57 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Jan 1 is Public Domain Day for 1925]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 2 (<a href="https://news.ycombinator.com/item?id=25488894">thread link</a>) | @FlyMoreRockets
<br/>
December 20, 2020 | https://pluralistic.net/2020/12/16/fraught-superpowers/#public-domain-day | <a href="https://web.archive.org/web/*/https://pluralistic.net/2020/12/16/fraught-superpowers/#public-domain-day">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-1713">
	<!-- .entry-header -->

	
	
	<div>
		<p><!--
Tags:
corporate transparency act, copyfight, sonny bono, public domain, 1925, downtime, email sabbaticals, ccc, chaos communications congress, events, rc3, financial secrecy, money laundering, fincen papers, panama papers, onshore offshore, facial recognition, algorithmic discrimination

Summary:
Email sabbaticals; Chaos Communications Congress; Landmark US financial transparency law; Rogues' Galleries and facial recognition; Jan 1 is Public Domain Day for 1925

URL:
https://pluralistic.net/2020/12/16/fraught-superpowers/

Title:
Pluralistic: 16 Dec 2020 fraught-superpowers

Bullet:
üëõ

Separator:
_,.-'~'-.,__,.-'~'-.,__,.-'~'-.,__,.-'~'-.,__,.-'~'-.,_

Top Sources:
Today's top sources: Waxy (https://waxy.org/), Naked Capitalism (https://www.nakedcapitalism.com/).

--><br>
<a href="https://pluralistic.net/2020/12/16/fraught-superpowers/"><img src="https://i1.wp.com/craphound.com/images/16Dec2020.jpg?w=840&amp;ssl=1" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/craphound.com/images/16Dec2020.jpg?w=840&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></a></p>

<ul>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': '#xslug'}" href="https://pluralistic.net/2020/12/16/fraught-superpowers/#email-sabbatical">Email sabbaticals</a>: I'm going offline until next year.
</li>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': '#xslug'}" href="https://pluralistic.net/2020/12/16/fraught-superpowers/#rc3">Chaos Communications Congress</a>: Finally a way to do CCC without making your family furious.
</li>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': '#xslug'}" href="https://pluralistic.net/2020/12/16/fraught-superpowers/#financial-secrecy">Landmark US financial transparency law</a>: Beginning of the end for the US onshore-offshore industry.
</li>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': '#xslug'}" href="https://pluralistic.net/2020/12/16/fraught-superpowers/#fr">Rogues' Galleries and facial recognition</a>: Self-fulfilling prophecies at the core of white supremacist policing.
</li>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': '#xslug'}" href="https://pluralistic.net/2020/12/16/fraught-superpowers/#public-domain-day">Jan 1 is Public Domain Day for 1925</a>: Gatsby, Dalloway, Buster Keaton, Ma Rainey, et al.
</li>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': '#xslug'}" href="https://pluralistic.net/2020/12/16/fraught-superpowers/#retro">This day in history</a>: 2010, 2015, 2019
</li>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': '#xslug'}" href="https://pluralistic.net/2020/12/16/fraught-superpowers/#bragsheet">Colophon</a>: Recent publications, upcoming/recent appearances, current writing projects, current reading
</li>
</ul>

<hr>
<p><a name="email-sabbatical"></a><br>
<img src="https://i2.wp.com/craphound.com/images/440685338_4668bd99c0_k.jpg?w=840&amp;ssl=1" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/craphound.com/images/440685338_4668bd99c0_k.jpg?w=840&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>

<p>It's been a decade since danah boy introduced me to the idea of "email sabbaticals." That's when you go away and turn off your email.</p>
<p><a href="http://www.zephoria.org/thoughts/archives/2010/12/08/i-am-offline-on-email-sabbatical-from-december-9-january-12.html">http://www.zephoria.org/thoughts/archives/2010/12/08/i-am-offline-on-email-sabbatical-from-december-9-january-12.html</a></p>
<p>Not just setting an out-of-office message, but rather deleting all inbound mail and asking correspondents to try again after the break. In her message, boyd explains to those correspondents who know how to reach her mother that this is the only way to reach her.</p>
<p>Here's the rationale: if you allow email to pile up while you're trying to unwind, it'll take months to catch up on when you get back, and you'll immediately burn out, incinerating all the value you got out of your break.</p>
<p>What's more, you'll still fail to clear the backlog ‚Äì you'll have to declare "email bankruptcy" and fail everyone who'd contacted you anyway. It's a bad deal for you <em>and</em> for the people who email you during your break.</p>
<p>Here's how boyd's email sabbaticals work: six months prior, she informs her collaborators that she'll be taking some protracted downtime; a month before she confirms her commitments to collaborators and composes a checklist to ensure that she meets them prior to departure.</p>
<p>A week in advance, she warns everyone again that she's going offline and shuttering her inboxes. Close family members and her network administrator are given instructions for reaching her while on break, but no one else is.</p>
<p>She leaves, and shuts down her email. She knows she's going to miss new, time-sensitive stuff, but makes peace with it. In return, she gets the peace of mind that comes from knowing that she's going to come home to an empty in-box.</p>
<p>At the close of business today, I'm going on email (and work) sabbatical until Jan 4, 2021. Apart from one live event (the remote Chaos Communications Congress on Dec 27) I won't be accepting emails and I won't be replying to DMs or other messages.</p>
<p><a href="https://rc3.world/">https://rc3.world/</a></p>
<p>I really, really need it.</p>
<p>Over the years, many people have expressed their admiration at my "productivity" ‚Äì but the dirty secret of that productivity is that work is how I cope with stress.</p>
<p>It's not the worst problem to have: I wrote a whole novel since the crisis, while also launching four books and keeping up with my day-job at EFF.</p>
<p>But working to cope with stress has its limits. It's a good temporary fix, but it's no long-term solution.</p>
<p>For one thing, I've got a serious, untreatable, degenerating chronic pain condition, and working is how I hope with the pain, too ‚Äì distraction works far better than any prescription meds for me.</p>
<p>But ignoring your body's pain signals is a dangerous tactic. It's why I'm now experiencing the worst continuous pain of my adult life (it's been a stressful year). Last week it was so bad I was walking with a cane.</p>
<p>I say all of this not to humblebrag about my commitment to my work, but rather in the interests of transparency. I'm keenly aware that we live our own blooper reels and everyone else's highlight reels.</p>
<p>I'm grateful for my work habits, truly ‚Äì but they come at a really high cost, and balancing work-as-distraction and work-as-pathology is really, really hard. If you're wondering how to do what I do, have a little peek into the blooper reel, first.</p>
<p>It's been a high-stress, crazy year. We nearly went broke, then had a spectacular recovery (thank you, Kickstarter backers!), have tried our best to be good parents (with varying degrees of success). We've gone through blazing rows and many sleepless nights.</p>
<p>I've spent most of the year with sores at the corners of my mouth, which I only get under in the most extreme times of stress.</p>
<p>And we've had it <em>good</em>. We're solvent, safe, and healthy. Thinking about what this would be like if any of those changed is terrifying.</p>
<p>Hanging out with my digital community is a huge net benefit to me, but unplugging from that community is something I increasingly value as I head towards my 50th birthday next July.</p>
<p>My first digital community experience was sending IMs to other users of the timeshare mainframe we plugged into when I was six years old, in 1977, when my dad brought home an acoustic coupler and my mom found 1,000' of brown paper towel to feed into the teletype.</p>
<p>Some (most) of my life's most important relationships, friendships, and discussions have taken place over this medium, and an enormous amount of that good stuff started with a conversation with a stranger.</p>
<p>I never felt the outrage that attended the introduction of the telephone into Edwardian England: "Anyone ‚Äî any wild fool off the street ‚Äî could simply barge bellowing into one's office or home, preceded only by the ringing of a telephone bell."</p>
<p><a href="https://www.mit.edu/hacker/part1.html">https://www.mit.edu/hacker/part1.html</a></p>
<p>For me, finding my people (and being found by them) has been the highlight of my half-century. Touring and speaking turned these digital relationships into personal ones.</p>
<p>But: moderation in all things. I'm writing four of these threads this morning, doing a couple interviews and meetings, and then putting my lid down until 2021 (save for a brief dial-in to CCC on the 27th).</p>
<p>I'm going to swim in our lovely outdoor public pool, which, thankfully, has figured out how to remain open during the pandemic. I'm going read in the backyard hammock and hike in Griffith Park.</p>
<p>I'm not going to answer ‚Äì or accept ‚Äì email while I'm gone.</p>
<p>And I say all of this because it's taken a decade for me to really understand what danah was getting at (she's a very smart person and I often benefit from reflecting on our conversations).</p>
<p>And also, to show you a bit of the blooper reel. Coping strategies are great and necessary, but they're no substitute for addressing the underlying problems. I'm proud of the work I do, but I'm also still learning how to do it right.</p>
<p>(<i>Image: <a href="https://www.flickr.com/photos/sifter/440685338/">Alex Watson</a>, <a href="https://creativecommons.org/licenses/by-nc/2.0/">CC BY-NC 2.0</a></i>)</p>
<hr>
<p><a name="rc3"></a><br>
<img src="https://i1.wp.com/craphound.com/images/rc3.jpg?w=840&amp;ssl=1" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/craphound.com/images/rc3.jpg?w=840&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>

<p>I'm about to go offline until 2021 and I had planned to do <em>absolutely no work of any sort</em> while on break, but I made an exception, for an exceptional opportunity: the 32nd Chaos Communications Congress, which is remote this year.</p>
<p><a href="https://rc3.world/">https://rc3.world/</a></p>
<p>CCC is ‚Äì notoriously ‚Äì held during Christmas week, which means that the attendees are limited to people who either care about tech policy and security more than their families, or people who can talk their families into coming along.</p>
<p>It's one of the best events I've ever attended (I brought my family along). My talk at that event, "The Coming War on General Purpose Computing," has had a long afterlife, in large part because of the kind and thoughtful reactions of the attendees.</p>
<p><a href="https://www.youtube.com/watch?v=HUEvRyemKSg">https://www.youtube.com/watch?v=HUEvRyemKSg</a></p>
<p>I've been trying to get back ever since but haven't managed it ‚Äì until this year. RC3 (the first all-remote CCC) has invited me to speak on Dec 27.</p>
<p>I'm doing two back-to-back events: a talk called "What the cyberoptimists got wrong ‚Äì and what to do about it" then a "fireside chat" (a reading from my book ATTACK SURFACE followed by a Q&amp;A;).</p>
<p>They're back-to-back, starting at 10AM Pacific (7PM CET) and running to 12/9PM.</p>
<p>The tickets are currently sold out, but they've mooted releasing another block. If you're attending, I hope you'll consider tuning into my talk (and of course, as with all CCC talks, these will be online shortly thereafter for public viewing).</p>
<p><a href="https://events.ccc.de/2020/12/08/rc3-neues-ticket-kontingent/">https://events.ccc.de/2020/12/08/rc3-neues-ticket-kontingent/</a></p>
<hr>
<p><a name="financial-secrecy"></a><br>
<img src="https://i1.wp.com/craphound.com/images/HandsomeVariableGalapagosalbatross-max-1mb.gif?w=840&amp;ssl=1" data-recalc-dims="1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>

<p>The Panama Papers, the Paradise Papers, Swissleaks, Luxembourg Leaks, the Fincen Files ‚Äì the past decade has been filled with financial secrecy scandals wherein we learned how the world's worst people hide the world's dirtiest money.</p>
<p>Governments have fallen as a result of these leaks. Journalists have been murdered for reporting them, whistleblowers have been imprisoned for telling the truth. These are a high-stakes window on the corruption, self-dealing and viciousness of the 1% and their criminal pals.</p>
<p>One critical revelation is the role that "onshort-offshore" plays in money-laundering: rich countries with a reputation for a strong rule of law and good governance are the lynchpin of global financial secrecy, thanks to lax corporate enforcement.</p>
<p>Money laundering, tax-evasion, bribery and other finance crimes were only possible because places like New Zealand, the City of London, Scotland, and US tax-havens like Delaware, Nevada and Wyoming knowingly abetted them.</p>
<p>Anti-financial-secrecy campaigners have made major progress in shutting down onshore-offshore havens, and now they've scored a massive victory in the USA, with the inclusion of an anti-money-laundering amendment to the defense bill.</p>
<p><a href="https://www.icij.org/investigations/paradise-papers/advocates-celebrate-major-us-anti-money-laundering-victory/">https://www.icij.org/investigations/paradise-papers/advocates-celebrate-major-us-anti-money-laundering-victory/</a></p>
<p>It's a must-pass bill, and there's always intense jockeying to attach other legislation to it, virtually guaranteeing its passage (this is not always a good thing: Trump wants terrible, dangerous changes to internet law included in the bill):</p>
<p><a href="https://www.eff.org/deeplinks/2020/12/its-not-section-230-president-trump-hates-its-first-amendment">https://www.eff.org/deeplinks/2020/12/its-not-section-230-president-trump-hates-its-first-amendment</a></p>
<p>The Corporate Transparency Act requires that all US companies report their true owners to the US Treasury's Financial Crimes Enforcement Network (Fincen). This will make Fincen investigations vastly cheaper‚Ä¶and more effective.</p>
<p>It's got strong bipartisan support, and is the culmination of a decade of debate, consultation and coalition-building. It passed the House and Senate with a nominally ‚Ä¶</p></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://pluralistic.net/2020/12/16/fraught-superpowers/#public-domain-day">https://pluralistic.net/2020/12/16/fraught-superpowers/#public-domain-day</a></em></p>]]>
            </description>
            <link>https://pluralistic.net/2020/12/16/fraught-superpowers/#public-domain-day</link>
            <guid isPermaLink="false">hacker-news-small-sites-25488894</guid>
            <pubDate>Sun, 20 Dec 2020 19:35:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[On the Graying of Gnome]]>
            </title>
            <description>
<![CDATA[
Score 123 | Comments 197 (<a href="https://news.ycombinator.com/item?id=25488887">thread link</a>) | @yankcrime
<br/>
December 20, 2020 | https://hpjansson.org/blag/2020/12/16/on-the-graying-of-gnome/ | <a href="https://web.archive.org/web/*/https://hpjansson.org/blag/2020/12/16/on-the-graying-of-gnome/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="page"><div id="content"><section id="primary"><main id="main" role="main"><article id="post-622"><div><p><a href="https://gnome.org/">The GNOME project</a> turned 23 this year, and despite equally persistent rumors to the contrary, it‚Äôs still alive and kicking.</p><p>Just how alive, though? All I know is this: Where the topic of GNOME‚Äôs health goes, accurate data rarely follows. Of course, there <em>is</em> data ‚Äî lots of it in fact, in public source code repositories. Though flawed in many ways, it allows us to make comparisons to the past ‚Äî and maybe predictions for the future: Are a few organizations carrying most of the workload, making them critical points of failure? Are new contributors able to pick up the slack from those who leave? Is the project graying (i.e. increasingly dominated by veterans)?</p><p>In one of my occasional fits of hubris, I set out to process this data to see if I could shake out anything meaningful. I‚Äôm usually fine with just satisfying my own curiosity and leaving it at that, but it‚Äôs one of those times where the results seem interesting enough for a blog post. So here we are.</p><p>I‚Äôm going to lead with the nice graphs and follow on with a <a href="https://hpjansson.org/blag/2020/12/16/on-the-graying-of-gnome/#methodology">section on methodology</a>. The latter is long, boring, and mandatory reading.</p><h2 id="contributors">Active contributors</h2><h3>By generation</h3><figure><a href="https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-authors-firstyear-year-2020.png"><img loading="lazy" width="1920" height="900" src="https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-authors-firstyear-year-2020-1920x900.png" alt="Active GNOME authors per year, first-year cohorts" srcset="https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-authors-firstyear-year-2020-1920x900.png 1920w, https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-authors-firstyear-year-2020-300x141.png 300w, https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-authors-firstyear-year-2020-768x360.png 768w, https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-authors-firstyear-year-2020-1536x720.png 1536w, https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-authors-firstyear-year-2020-2048x960.png 2048w" sizes="(max-width: 1920px) 100vw, 1920px"></a></figure><p>The stacked histogram above shows the number of contributors who touched the project on a yearly basis. Each contributor is assigned to a generational cohort based on the year of their first contribution. The cohorts tend to shrink over time as people leave.</p><p>There‚Äôs a special ‚Äúdrive-by‚Äù cohort (in a fetching shade of off-white) for contributors who were only briefly involved, meaning all their activity fits in a three-month window. It‚Äôs a big group. In a typical year, it numbers 200-400 persons who were not seen before or since. Most of them contribute a single commit.</p><p>According to this, GNOME peaked at slightly above 1,400 contributors in 2010 and went into decline with the GNOME 3.0 release the following year. However, 2020 saw the most contributors in a long time, even with preliminary data ‚Äî there‚Äôs still two weeks to go. Who knows if it‚Äôs an anomaly or not. It‚Äôs been an atypical year across the board.</p><figure><a href="https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-authors-firstyear-month-2020.png"><img loading="lazy" width="1920" height="900" src="https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-authors-firstyear-month-2020-1920x900.png" alt="Active GNOME authors per month, first-year cohorts" srcset="https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-authors-firstyear-month-2020-1920x900.png 1920w, https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-authors-firstyear-month-2020-300x141.png 300w, https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-authors-firstyear-month-2020-768x360.png 768w, https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-authors-firstyear-month-2020-1536x720.png 1536w, https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-authors-firstyear-month-2020-2048x960.png 2048w" sizes="(max-width: 1920px) 100vw, 1920px"></a></figure><p>This is the same histogram, but with per-month bins. There‚Äôs a clear periodicity caused by the semiannual release cycle. The peak month was March 2011, right before the <a href="https://www.gnome.org/press/2011/04/gnome-3-0-released-better-for-users-developers-3/">GNOME 3.0 release</a>. About 450 contributors got involved that month.</p><p>The drive-by cohort is relatively smaller on a monthly basis. This makes sense, as it has little overlap from month to month, and the per-year bins tend to add them all up.</p><h3>By affiliation</h3><figure><a href="https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-authors-domain-year-2020.png"><img loading="lazy" width="1920" height="900" src="https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-authors-domain-year-2020-1920x900.png" alt="Active GNOME authors per year, top-15 domain cohorts" srcset="https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-authors-domain-year-2020-1920x900.png 1920w, https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-authors-domain-year-2020-300x141.png 300w, https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-authors-domain-year-2020-768x360.png 768w, https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-authors-domain-year-2020-1536x720.png 1536w, https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-authors-domain-year-2020-2048x960.png 2048w" sizes="(max-width: 1920px) 100vw, 1920px"></a></figure><p>Above, the top 15 affiliations of active contributors. I‚Äôve excluded personal accounts. This is pretty flawed (details below), but interesting nonetheless. For what it‚Äôs worth, it mostly lines up with my memory of things.</p><p>The pattern tracks well with the total despite only capturing a minority portion of it. I think this means that paid and unpaid contributions are driven by the same underlying trends, or that there‚Äôs a lot of the former hiding in the latter.</p><h2 id="commitcount">Commit count</h2><h3>By generation</h3><figure><a href="https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-commits-firstyear-year-2020.png"><img loading="lazy" width="1920" height="900" src="https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-commits-firstyear-year-2020-1920x900.png" alt="Number of GNOME commits per year, first-year cohorts" srcset="https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-commits-firstyear-year-2020-1920x900.png 1920w, https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-commits-firstyear-year-2020-300x141.png 300w, https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-commits-firstyear-year-2020-768x360.png 768w, https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-commits-firstyear-year-2020-1536x720.png 1536w, https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-commits-firstyear-year-2020-2048x960.png 2048w" sizes="(max-width: 1920px) 100vw, 1920px"></a></figure><p>Here I‚Äôm counting the number of commits per year in the various cohorts.</p><p>At first glance, this looks much less dire. However, note how newcomers are having a smaller impact, especially from 2014 on. And the 2018-2020 bounce is entirely due to a handful of veterans making a comeback.</p><p>Half the commits in 2020 were made by contributors who‚Äôve been with the project for ten years or more. Also noteworthy, drive-by commits are a vanishingly small portion of the total.</p><h3>By affiliation</h3><figure><a href="https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-commits-domain-year-2020.png"><img loading="lazy" width="1920" height="900" src="https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-commits-domain-year-2020-1920x900.png" alt="Number of GNOME commits per year, top-15 domain cohorts" srcset="https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-commits-domain-year-2020-1920x900.png 1920w, https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-commits-domain-year-2020-300x141.png 300w, https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-commits-domain-year-2020-768x360.png 768w, https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-commits-domain-year-2020-1536x720.png 1536w, https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-commits-domain-year-2020-2048x960.png 2048w" sizes="(max-width: 1920px) 100vw, 1920px"></a></figure><p>Top 15 affiliations again, but now ordered by commit counts. It‚Äôs safe to say that GNOME is dependent on paid developers in a big way. Specifically, and to no one‚Äôs surprise, it leans heavily on Red Hat.</p><h2 id="observations">General observations</h2><p>A few observations can be made with confidence:</p><ul><li>By F/OSS standards, the project is not <em>un</em>healthy. It has hundreds of experienced and first-time contributors every year. It is well-organized and arguably well-funded compared to its peers. But:</li><li>Every metric has the project peaking around 2010.</li><li>A diminishing number of veterans is doing an increasing share of the work.</li><li>Although recruitment is stable, newcomers don‚Äôt seem to be hitting their stride in terms of commits.</li><li>Corporate sponsorship is probably necessary to keep the project going, but the field of sponsors has kept thinning.</li></ul><p>I think GNOME is addressing the risk factors competently by modernizing infrastructure (<a href="https://gitlab.gnome.org/">GitLab</a>, <a href="https://discourse.gnome.org/">Discourse</a>). This has obvious value even in the absence of quantifiable results, but it‚Äôll be interesting to see if the effect can be measured over the next couple of years.</p><p>Diminished enthusiasm may also be due to there being fewer ways for a new contributor to make their mark or assume a role of responsibility. GNOME has become more conservative, certainly much more so than it was a decade ago in the run-up to GNOME 3. The rationale and phrasing in <a href="https://discourse.gnome.org/t/new-gnome-versioning-scheme/4235">the announcement of the new versioning scheme</a> (e.g. <em>‚ÄúRadical technological and design changes are too disruptive for maintainers, users, and developers‚Äù</em>) seems indicative of this trend<sup>1</sup>.</p><h2 id="methodology">Notes on methodology</h2><p>So what‚Äôs wrong with this analysis? If you‚Äôre so inclined, you can find the details under the next couple of subheadings and pass harsh, harsh judgement.</p><p>I‚Äôve set the unscientific rigor bar high enough to hopefully yield something useful, but low enough that I could do it in my spare time and not get stuck in the dreaded state commonly known as ‚Äú90% done‚Äù.</p><h3>Module selection</h3><p>I aggregated data from <a href="https://github.com/hpjansson/fornalder/blob/45d4e9703dfa1fed1f9396b2cfc6f8425fae9389/projects/gnome-repos">189 Git repositories</a>. The vast majority of these are hosted on <code>gnome.org</code>, with a handful from <code>freedesktop.org</code> and <code>github.com</code>. Commits are uniquely identified by their commit hash, meaning trivial duplicates are counted only once.</p><p>GNOME has always been a decentralized, big-tent project, so it‚Äôs not obvious how to delineate it. I‚Äôve tried to be fair by including most of the repositories from a full meta-gnome-desktop jhbuild, including fairly low-level dependencies like Cairo, Pango, and Pipewire, as well as past, present and would-be flagship applications under the GNOME umbrella. Documentation and infrastructure is represented, as are many archived projects (e.g. ORBit2, Bonobo, Sabayon, GAL).</p><p>I was a little uncertain about what to do with X.Org and Wayland. In the end I decided to include the latter, but not the former, since Wayland has close ties to GNOME (it even references GTK+ in its TODO file), while X.Org has its roots in the much older XFree86.</p><p>Mono is another project I resisted including; its development was tangential to GNOME proper, diverging completely in the most recent decade. However, I did include GtkSharp and several GNOME-hosted C# applications common on desktops in the 2005-2010 time frame.</p><p>Since I haven‚Äôt established hard criteria for module selection, it‚Äôs subject to various biases. Older code is probably underrepresented, since providers of important functionality were more loosely attached to the project early on (e.g. GNOME Online Accounts and Telepathy got pulled in, should I have included Gaim or Pidgin too? How about XChat?).</p><p>Anyway, the list isn‚Äôt terrible, but there‚Äôs room for improvement.</p><h3>Contributor identities</h3><p>Similar studies often identify contributors by their e-mail addresses. I used full author names instead, since there‚Äôs good reason to think they‚Äôre more stable over a 20-year time span. We‚Äôre fairly consistent in spelling our own names, and we change them rarely (often never). On the other hand, e-mail addresses come and go with different hosting arrangements, employers, etc.</p><p>An added challenge with this approach is that sometimes different people have the exact same name. In practice, I‚Äôm not aware of any instances of this happening in GNOME. It seems to be rare enough that I doubt it‚Äôd introduce significant error in most projects.</p><p>I should add here that the drive-by cohort depends on a fair amount of hindsight (you never know when someone might come back with more contributions, but the likelihood drops off quickly as time passes). This means the cohorts for 2020 are preliminary. They‚Äôll be a lot more accurate with another run late next year.</p><h3>Domain names</h3><p>I‚Äôm using e-mail domain names as a proxy for organizations in some of the graphs. This is a notoriously unreliable approach for at least three reasons:</p><ol><li>Contributors often use personal e-mail addresses for paid work, leading to significant undercounting in general.</li><li>Specific companies may require their employees (or ask them nicely) to use company e-mail for collaboration. Out of the listed companies, I know of at least one that definitely did this. However, there are many that don‚Äôt, and these will be comparatively less well represented.</li><li>The mapping between DNS and organizations isn‚Äôt one-to-one. A company may operate under multiple names or TLDs (e.g. <code>.co.uk</code> and <code>.com</code>).</li></ol><p>Despite these weaknesses, it‚Äôs common to slice the data this way. It‚Äôs difficult to do better without access to semi-closed data troves, and depending on your views on privacy and ability to handle <a href="https://en.wikipedia.org/wiki/Personal_data">PII</a> safely, it might not be something you‚Äôd want to get into anyway. But I bet you‚Äôd be well-positioned for it if you were, say, the corporate owner of both LinkedIn and GitHub.</p><p>When grouping by organization, the goal is to get an idea of which outside entities are sponsoring contributions. Therefore, I‚Äôve filtered out addresses from the biggest mass e-mail providers like <code>@gmail.com</code> and project-centric providers of personal accounts (e.g. <code>@gnome.org</code>, <code>@gtk.org</code>).</p><p>I took the liberty of reassigning the personal domains of a few extra prolific authors who would‚Äôve otherwise showed up as individual organizations. Since there‚Äôs no way I‚Äôm doing it for everyone, this introduces some bias. The full details are in <a href="https://github.com/hpjansson/fornalder/blob/45d4e9703dfa1fed1f9396b2cfc6f8425fae9389/projects/gnome-meta.json">the project‚Äôs metadata file</a> (see: <a href="https://hpjansson.org/blag/2020/12/16/on-the-graying-of-gnome/#code">code</a>).</p><h3>Version control systems</h3><p>Changeovers in version control systems divide GNOME‚Äôs VCS history into three eras with noticeable discontinuities between them.</p><h4>Before 1998: Dark ages</h4><p>In the Bad Old Days, Free Software would often use plain <a href="https://en.wikipedia.org/wiki/Revision_Control_System">RCS</a> or no version control at all. I have basically no data for this era: The GIMP, being the ur-project from which ‚Ä¶</p></div></article></main></section></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://hpjansson.org/blag/2020/12/16/on-the-graying-of-gnome/">https://hpjansson.org/blag/2020/12/16/on-the-graying-of-gnome/</a></em></p>]]>
            </description>
            <link>https://hpjansson.org/blag/2020/12/16/on-the-graying-of-gnome/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25488887</guid>
            <pubDate>Sun, 20 Dec 2020 19:33:35 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Chomskybot]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25488742">thread link</a>) | @blewboarwastake
<br/>
December 20, 2020 | http://rubberducky.org/cgi-bin/chomsky.pl | <a href="https://web.archive.org/web/*/http://rubberducky.org/cgi-bin/chomsky.pl">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div size="4"><span size="6">L</span>ook
           <span size="6">O</span>n <span size="6">M</span>y
           <span size="6">W</span>ords, <span size="6">Y</span>e
           <span size="6">M</span>ighty, <span size="6">A</span>nd
           <span size="6">D</span>espair<span size="6">!</span>
<p>
           &nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>It appears that a case of semigrammaticalness of a different sort may remedy and, at the same time, eliminate the ultimate standard that determines the accuracy of any proposed grammar.
From C1, it follows that the systematic use of complex symbols is not quite equivalent to the extended c-command discussed in connection with (34).
Presumably, relational information is to be regarded as the levels of acceptability from fairly high (eg (99a)) to virtual gibberish (eg (98d)).
Of course, any associated supporting element cannot be arbitrary in a corpus of utterance tokens upon which conformity has been defined by the paired utterance test.
Summarizing, then, we assume that the appearance of parasitic gaps in domains relatively inaccessible to ordinary extraction does not readily tolerate a stipulation to place the constructions into these various categories.

    </p>
    </div></div>]]>
            </description>
            <link>http://rubberducky.org/cgi-bin/chomsky.pl</link>
            <guid isPermaLink="false">hacker-news-small-sites-25488742</guid>
            <pubDate>Sun, 20 Dec 2020 19:13:22 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The AI Microscope That Detects Cancer Within Minutes]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25488477">thread link</a>) | @buddhacobbler
<br/>
December 20, 2020 | https://smosa.com/an-ai-microscope-that-detects-cancer-in-minutes/ | <a href="https://web.archive.org/web/*/https://smosa.com/an-ai-microscope-that-detects-cancer-in-minutes/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>

					<!-- .post-header -->


					<div>
						<p>Researchers have created a new microscope that can visualize relatively large pieces of cell-resolved tissue to help surgeons examine tumor margins within minutes from removal.</p><p>Removable tissue is typically sent to a hospital laboratory where specialists either freeze it or treat it with chemical agents until they make extremely thin slices to be mounted on a slide. This careful selection and mounting is a time-consuming procedure that involves advanced machinery and a bench of professionals. </p><p>"Current methods to prepare tissue for margin status evaluation during surgery have not changed significantly since first introduced over 100 years ago," said study co-author Ann Gillenwater, M.D., a professor of head and neck surgery at MD Anderson. "By bringing the ability to accurately assess margin status to more treatment sites, the DeepDOF has potential to improve outcomes for cancer patients treated with surgery."</p><p>Researchers at Rice University and the University of Texas MD Anderson Cancer Center developed the modern microscope which can easily view relatively thick tissue with cell-level resolution. It was developed by Rice engineers and Applied Physicists and was presented in a study published in the <em>Proceedings of the National Academy of Science</em> this week.</p><figure><iframe width="356" height="200" src="https://www.youtube.com/embed/Iv1wBvPMguE?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></figure><p>The microscope uses a cheap conventional optic lens for photographing entire tissues. The tool provides depths of field up to five times the existing state-of-the-art microscope. Using an AI technique dubbed "DeepDOF", the microscope software employs a deep learning network that can analyze vast volumes of data. </p><p>To train the dataset, Investigators showed 1,200 photographs from a database of histological (cell) slides to the system. The system would then capture and process photographs in less than two minutes.</p><p>"Traditionally, imaging equipment like cameras and microscopes are designed separately from imaging processing software and algorithms," said study co-lead author Yubo Tang, a postdoctoral research associate in the lab of co-corresponding author Rebecca Richards-Kortum. "DeepDOF is one of the first microscopes that's designed with the post-processing algorithm in mind."</p><p>According to the authors, data developed from the device provides a profound learning histopathology of intact specimens with comprehensive depth of field in real time. In the long term, the DeepDOF microscope may contribute considerably to the evaluation of intact biopsy specimens and surgical organisms, in particular for intra-operative assessment and in restricted tools.</p>
					</div><!-- .post-content -->

					<!-- .post-footer -->


				</article></div>]]>
            </description>
            <link>https://smosa.com/an-ai-microscope-that-detects-cancer-in-minutes/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25488477</guid>
            <pubDate>Sun, 20 Dec 2020 18:41:47 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Clickhouse and S3 Compatible Object Storage]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25488437">thread link</a>) | @eatonphil
<br/>
December 20, 2020 | https://altinity.com/blog/clickhouse-and-s3-compatible-object-storage | <a href="https://web.archive.org/web/*/https://altinity.com/blog/clickhouse-and-s3-compatible-object-storage">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
	

	<p>ClickHouse is a polyglot database that can talk to many external systems using dedicated engines or table functions. In modern cloud systems, the most important external system is <a href="https://en.wikipedia.org/wiki/Object_storage" target="_blank" rel="noreferrer noopener">object storage</a>. First, it can hold raw data to import from or export to other systems (aka a data lake). Second, it can offer cheap and highly durable storage for table data. ClickHouse now supports both of these uses for S3 compatible object storage.</p><p>The first attempts to marry ClickHouse and object storage were merged more than a year ago. Since then object storage support has evolved considerably. In addition to the basic import/export functionality, ClickHouse can use object storage for MergeTree table data. While this functionality is still experimental, it has already attracted a lot of attention at meetups and webinars. In this article, we will explain how the integration works.</p><p><h2 id="h-s3-table-function">S3 table function</h2>
</p><p>ClickHouse has a powerful method to integrate with external systems called ‚Äòtable functions‚Äô. Table functions allow users to export/import data into other sources, and there are plenty of sources available, e.g. MySQL Server, ODBC or JDBC connection, file, url, and, lately, S3-compatible storage. At the time of writing the s3 table function is not in <a href="https://clickhouse.tech/docs/en/sql-reference/table-functions/" target="_blank" rel="noreferrer noopener">the official list</a>, but it should be fixed soon. The basic syntax is the following:</p><p><code>s3(path, [aws_access_key_id, aws_secret_access_key,] format,</code>  <code>structure, [compression])</code></p><p>Input parameters</p><div><ul>
<li><code>path</code> ‚Äî bucket url. Path to file.&nbsp; Supports following wildcards in readonly mode: *, ?, {abc,def} and {N..M} where N, M ‚Äî numbers, `‚Äôabc‚Äô, ‚Äòdef‚Äô ‚Äî strings.</li>
<li><code>format</code> ‚Äî The <a href="https://clickhouse.tech/docs/en/interfaces/formats/#formats" target="_blank" rel="noreferrer noopener">format</a> of the data.</li>
<li><code>structure</code> ‚Äî Structure of the table. Format ‚Äòcolumn1_name column1_type, column2_name column2_type, ‚Ä¶‚Äô.</li>
<li><code>compression</code> parameter is optional, currently ‚Äògzip‚Äô is the only option but other methods are being added.</li>
</ul>
</div><div><pre><code>INSERT INTO tripdata
SELECT *
FROM s3('https://s3.us-east-1.amazonaws.com/altinity-clickhouse-data/nyc_taxi_rides/data/tripdata/data-20*.csv.gz',&nbsp;
'CSVWithNames',&nbsp;
'pickup_date Date, id UInt64, vendor_id String, tpep_pickup_datetime DateTime, tpep_dropoff_datetime DateTime, passenger_count UInt8, trip_distance Float32, pickup_longitude Float32, pickup_latitude Float32, rate_code_id String, store_and_fwd_flag String, dropoff_longitude Float32, dropoff_latitude Float32, payment_type LowCardinality(String), fare_amount Float32, extra String, mta_tax Float32, tip_amount Float32, tolls_amount Float32, improvement_surcharge Float32, total_amount Float32, pickup_location_id UInt16, dropoff_location_id UInt16, junk1 String, junk2 String',&nbsp;
'gzip');

0 rows in set. Elapsed: 238.439 sec. Processed 1.31 billion rows, 167.39 GB (5.50 million rows/s., 702.03 MB/s.)</code></pre>
</div><p>Note the wildcards! They allow you to import multiple files in a single function call. For example, our favorite <a href="https://www1.nyc.gov/site/tlc/about/tlc-trip-record-data.page" target="_blank" rel="noreferrer noopener">NYC taxi trips dataset</a> that is stored in one file per month can be imported with a single SQL command:</p><p><strong>On an Altinity.Cloud ClickHouse instance it takes me less than 4 minutes to import a 1.3B rows dataset!</strong></p><p>A few important hints:</p><div><ul>
<li>As of the 20.10 ClickHouse version, wildcard paths do not work properly with ‚Äògeneric‚Äô S3 bucket URLs, region specific one is required. So we have to use:<br><em>&nbsp; &nbsp; ‚Äúhttps://s3.us-east-1.amazonaws.com/altinity-clickhouse-data/‚Äù,<br></em>instead of<br><em>&nbsp; &nbsp; ‚Äúhttps://altinity-clickhouse-data.s3.amazonaws.com/‚Äù</em></li>
<li>On the other hand, single file download can use convenient bucket URLs.</li>
<li>The S3 import performance heavily depends on the level of client side parallelism. In glob mode multiple files can be processed in parallel. The example above used 32 insert threads. If you have a smaller server and VM try setting higher values of max_insert_threads setting. It can be done by a ‚ÄòSET‚Äô command, for example:
<p><code>set max_threads=32, max_insert_threads=32;<br></code></p></li>
<li>From the other side, ‚Äòinput_format_parallel_parsing‚Äô setting may result in overcommitting the memory, so better to turn it off.</li>
</ul>
</div><p>S3 table function can be used not only for imports but for exports as well! This is how an ‚Äòontime‚Äô dataset can be uploaded to S3.</p><div><pre><code>INSERT INTO FUNCTION s3('https://altinity-clickhouse-data.s3.amazonaws.com/airline/data/ontime2/2019.csv.gz', '*****', '*****', 'CSVWithNames', 'Year UInt16, &lt;other 107 columns here&gt;, Div5TailNum String', 'gzip') SELECT *
FROM ontime_ref
WHERE Year = 2019

Ok.

0 rows in set. Elapsed: 43.314 sec. Processed 7.42 million rows, 5.41 GB (171.35 thousand rows/s., 124.93 MB/s.)</code></pre>
</div><p>Uploading is pretty slow because we can not benefit from the parallelism in this case. ClickHouse can not automatically split the data into multiple files, so only one file can be uploaded at a time. There is a feature request to enable automatic partitioning when inserting to an external table function. That would make export more efficient and convenient.</p><p>Also it is a bit annoying that ClickHouse requires table structure to be supplied to the S3 table function. This is going to be improved in the future releases as well.</p><p><h2 id="h-clickhouse-storage-architecture">ClickHouse storage architecture</h2>
</p><p>S3 table function is a convenient tool for exporting or importing data but it can not be used in real insert/select workloads. The closer integration with ClickHouse storage system is required. Let‚Äôs look at ClickHouse storage architecture in more detail.</p><div><ul>
<li>Storage policies define what volumes can be used, and how data migrates from volume to volume;</li>
<li>Volumes allow to organize multiple ‚Äòdisk‚Äô devices together;</li>
<li>Disk represents the physical device or mount point.</li>
</ul>
</div><div><figure><img src="https://lh4.googleusercontent.com/36Pvq-MZVcWezKbm3tYvkh-IuOSW2HMoqo9AqmETg6zOooXZNurWZ4hELaHRw9M1rPli7GP7uOM1YPmjZTqFaR_ebZ-M_s6PPRgQM6kqQtkCPP19bIOjBLwBISEsl5kxOug2sky-" alt="storage configuration" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
</div><p>When this storage design was implemented in early 2019, ClickHouse supported only one type of disk that maps to OS mount points. A few months later the ClickHouse development team added an extra abstraction layer inside the disk itself, that allows to plug in different disk types. As one can probably guess the rationale for this was object storage integration. The new disk type ‚ÄòS3‚Äô was added shortly after. It encapsulated the specifics of communicating with S3-compatible object storage. Now we can configure S3 ‚Äòdisks‚Äô in ClickHouse, and store all or some data on the object storage.</p><p><h2 id="h-object-storage-configuration">Object storage configuration</h2>
</p><p>Disks, volumes, and storage policies can be defined in the main ClickHouse configuration file config.xml or, better, in the custom file inside /etc/clickhouse-server/config.d folder. Let‚Äôs define the disk S3 first:</p><p><strong>config.d/storage.xml:</strong></p><p>This is a very basic configuration, ClickHouse supports quite a lot of different options here; we will discuss some of them later.</p><p>Once the S3 disk is configured, it can be used in volume and storage policy configuration. We can setup several policies for different use cases:</p><div><ul>
<li>S3 volume in a policy next to other volumes. It can be used for TTL or manual moves of table partitions.</li>
<li>S3 volume in a policy with no other volumes. This is an S3-only approach.</li>
</ul>
</div><div><pre><code>&lt;yandex&gt;
&nbsp;&nbsp;&lt;storage_configuration&gt;
...
&nbsp;&nbsp;&nbsp;&nbsp;&lt;policies&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;tiered&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;volumes&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;default&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;disk&gt;default&lt;/disk&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/default&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;s3&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;disk&gt;s3&lt;/disk&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/s3&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/volumes&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/tiered&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;s3only&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;volumes&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;s3&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;disk&gt;s3&lt;/disk&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/s3&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/volumes&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/s3only&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/policies&gt;
&nbsp;&nbsp;&lt;/storage_configuration&gt;
&lt;/yandex&gt;</code></pre>
</div><p>Now let‚Äôs try to create some tables and move data around.&nbsp;</p><p><h2 id="h-inserting-data">Inserting data</h2>
</p><p>We will be using an ‚Äòontime‚Äô dataset for this example. You can get it from <a href="https://clickhouse.tech/docs/en/getting-started/example-datasets/ontime/" target="_blank" rel="noreferrer noopener">ClickHouse Tutorial</a>, or download from an Altinity S3 bucket. The table has 193M rows and 109 columns, that‚Äôs why it is interesting to see how it performs with S3, where file operations are expensive. The reference table name is ‚Äòontime_ref‚Äô and it uses default EBS volume. We can now use it as a template for experiments with S3.</p><div><pre><code>CREATE TABLE ontime_tiered AS ontime_ref
ENGINE = MergeTree
PARTITION BY Year
ORDER BY (Carrier, FlightDate)
<mark>TTL toStartOfYear(FlightDate) + interval 3 year to volume 's3'
SETTINGS storage_policy = 'tiered';</mark>

CREATE TABLE ontime_s3 AS ontime_ref
ENGINE = MergeTree
PARTITION BY Year
ORDER BY (Carrier, FlightDate)
<mark>SETTINGS storage_policy = 's3only';</mark></code></pre>
</div><p>‚Äòontime_tiered‚Äô table is configured to store a full 3 years of data on block storage, and move earlier data to S3. ‚Äòontime_s3‚Äô is the S3-only table.&nbsp;</p><p>Now, let‚Äôs insert some data. Our reference table has data up to March 31st, 2020.</p><div><pre><code>INSERT INTO ontime_tiered SELECT * from ontime_ref WHERE Year=2020;

0 rows in set. Elapsed: 0.634 sec. Processed 1.83 million rows, 1.33 GB (2.89 million rows/s., 2.11 GB/s.)</code></pre>
</div><p>That was almost instant. The data still goes to the normal disk. What about the S3 table?</p><div><pre><code>INSERT INTO ontime_s3 SELECT * from ontime_ref WHERE Year=2020;

0 rows in set. Elapsed: 15.228 sec. Processed 1.83 million rows, 1.33 GB (120.16 thousand rows/s., 87.59 MB/s.)</code></pre>
</div><p>Same amount of rows takes 25 times more to insert!&nbsp;</p><div><pre><code>INSERT INTO ontime_tiered SELECT * from ontime_ref WHERE Year=2015;

0 rows in set. Elapsed: 16.701 sec. Processed 7.21 million rows, 5.26 GB (431.92 thousand rows/s., 314.89 MB/s.)&nbsp;

INSERT INTO ontime_s3 SELECT * from ontime_ref WHERE Year=2015;

0 rows in set. Elapsed: 15.098 sec. Processed 7.21 million rows, 5.26 GB (477.78 thousand rows/s., 348.33 MB/s.)</code></pre>
</div><p>Once data lands on S3 insert performance degrades quite a lot. This is certainly not desirable for a tiered table, so there is a special volume level setting that disables TTL moves on insert completely, and runs it in the background only. Here is how it can be configured:</p><div><pre><code>&lt;policies&gt;
&nbsp;&nbsp;&lt;tiered&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;volumes&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;default&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;disk&gt;default&lt;/disk&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/default&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;s3&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;disk&gt;s3&lt;/disk&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<mark>&lt;perform_ttl_move_on_insert&gt;0&lt;/perform_ttl_move_on_insert&gt;</mark>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/s3&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/volumes&gt;
&nbsp;&nbsp;&lt;/tiered&gt;</code></pre>
</div><p>With such a setting insert goes always to the first disk in the storage policy. TTL moves to the corresponding volume are executed in the background. Let‚Äôs clean the ‚Äòontime_tiered‚Äô table and perform a full table insert (side note: truncate takes a long time).</p><div><pre><code>INSERT INTO ontime_tiered SELECT * from ontime_ref;

0 rows in set. Elapsed: 32.403 sec. Processed 194.39 million rows, 141.25 GB (6.00 million rows/s., 4.36 GB/s.)</code></pre></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://altinity.com/blog/clickhouse-and-s3-compatible-object-storage">https://altinity.com/blog/clickhouse-and-s3-compatible-object-storage</a></em></p>]]>
            </description>
            <link>https://altinity.com/blog/clickhouse-and-s3-compatible-object-storage</link>
            <guid isPermaLink="false">hacker-news-small-sites-25488437</guid>
            <pubDate>Sun, 20 Dec 2020 18:37:14 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[I Left the U.S.]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25488285">thread link</a>) | @FeatureIncomple
<br/>
December 20, 2020 | https://arslan.io/2020/12/20/why-i-left-the-us/ | <a href="https://web.archive.org/web/*/https://arslan.io/2020/12/20/why-i-left-the-us/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
	
	<p><span>December 20, 2020</span></p><figure>
    <img src="https://d33wubrfki0l68.cloudfront.net/1edc6507f68f4292d2ff9f550b74217f2997d049/b8e60/images/why-i-left-the-us-1.jpeg"> 
</figure>

<p>Last week I <a href="https://twitter.com/fatih/status/1338272277712969730">announced on Twitter that I‚Äôm leaving the U.S.</a> and going back to my country. I‚Äôm writing these lines from my home in Ankara, Turkey. Many people have asked me <em>why</em> I am leaving. 2020 was one of the most dramatic years in modern history due to the pandemic. Still, there are many other points, and I wanted to share my journey and feelings.</p>
<p>I also want to leave a trail for myself, for the future Fatih, to remind myself how things can sometimes <em>evolve</em> in a very natural (and unexpected) way.</p>
<h2 id="how-it-started">How it started</h2>
<p>It‚Äôs crucial in the first place to understand why I moved to the U.S. As some of you know, I was working for DigitalOcean, which is a cloud company based in NYC. I was working remotely (before it became cool) for almost four years for DigitalOcean. The work was challenging, and I had a lot of fun during my time there. We created many internal and external products (i.e., Managed Kubernetes offering), and it‚Äôs something I‚Äôm very proud of.</p>
<figure>
    <img src="https://d33wubrfki0l68.cloudfront.net/c309d2b056548c0fcc9525ad9379a220768a9fe7/879a5/images/why-i-left-the-us-2.jpeg" alt="Kubecon 2018, Seattle"> <figcaption>
            <p>Kubecon 2018, Seattle</p>
        </figcaption>
</figure>

<p>However, there was always the feeling that I should be in the U.S. for the <em>next big thing</em> (whatever that is). Most of my friends gradually moved abroad (mostly to the U.S.) over the past 5-10 years. With time, friends and family members around me also started questioning my lifestyle. They started asking questions like: ‚ÄúWhy are you still living in Turkey?‚Äù or ‚ÄúWhy is someone like you not living abroad, such as in a European country or U.S.?‚Äù</p>
<p>I received these kinds of questions most of the time, but it increased a lot in the 2018/2019 years. At the end of 2018, my wife and I decided that moving abroad to a Western country could be a nice improvement and that we should give it a shot. My daughter was due in 2019, so my wife wouldn‚Äôt work for 1-2 years as she wanted to take care of her. That was the perfect time to do the switch (more on this later).</p>
<p><strong>Which country would that be?</strong> I was born and grew up in Germany, and being a German citizen also means that Germany was always the first place in my head. Half of my family is still living there, so it would entirely make sense to move to Germany. However, my wife wanted to live in an English-speaking country. Because we once lived in San Francisco temporarily in 2013/2014 and most of our friends moved to Bay Area, we focused on living there.</p>
<figure>
    <img src="https://d33wubrfki0l68.cloudfront.net/7d75062f992106d84f1723ec9d5d0304ee0becf5/ef92f/images/why-i-left-the-us-3.jpeg" alt="Preparing for upcoming interviews"> <figcaption>
            <p>Preparing for upcoming interviews</p>
        </figcaption>
</figure>

<p>Once we decided where we wanted to live, I started looking around and preparing myself for the interviews in Spring 2019. I talked to various companies and looked for a place where I could work on the things I was passionate about. The interview process and later the negotiation part was a very energy-draining process (some of you know this already), so I won‚Äôt go into that.</p>
<p>In the end, I had several offers from several companies (all based in the Bay Area), and I accepted an offer from GitHub to lead the Go framework and libraries team. This position was the perfect job, and it had the potential for me to do impactful work at GitHub.</p>
<figure>
    <img src="https://d33wubrfki0l68.cloudfront.net/b6e2d08586ce6375596f5e4c3c9473efbad7ccac/13151/images/why-i-left-the-us-4.jpeg" alt="My first day at GitHub (HQ, San Francisco)"> <figcaption>
            <p>My first day at GitHub (HQ, San Francisco)</p>
        </figcaption>
</figure>

<p><strong>I joined GitHub in August 2019</strong>, but because we didn‚Äôt have any place to live and it would be challenging for us to look for a new house with two kids (one being a newborn), I came alone. GitHub supported me a lot during this time, and I could find a lovely apartment at the end of August. I bought all the furniture and the things that we needed to function as a family of four. Once I finished, I flew back to Turkey and brought the family back to the Bay Area. It was October 2019, when my kids and my wife finally arrived in the U.S.</p>
<h2 id="life-in-the-us">Life in the U.S.</h2>
<p>Let me explain why we decided to live in the Bay Area:</p>
<ul>
<li>Great job and career opportunities</li>
<li>One of the best weather climates in the world (if you don‚Äôt count the wildfires)</li>
<li>Nature and parks</li>
<li>A diverse and welcoming place for immigrants like us</li>
<li>We lived with my wife once temporarily in San Francisco for around six months and knew the area very well</li>
<li>There were friends we knew from Turkey</li>
</ul>
<p>As a side note, <strong>we didn‚Äôt move for a better financial life.</strong> We were already comfortable, and I want to make sure that‚Äôs known throughout the blog post. I understand that‚Äôs one of the biggest reasons people move abroad from countries like Turkey (and I fully support that), but for me, that wasn‚Äôt the case.</p>
<figure>
    <img src="https://d33wubrfki0l68.cloudfront.net/8c56ff3360bf9cf27e385b3c59237fc58a0c0b02/0749e/images/why-i-left-the-us-6.jpeg" alt="I still need to buy furniture, for now, I was sleeping on this mattress."> <figcaption>
            <p>I still need to buy furniture, for now, I was sleeping on this mattress.</p>
        </figcaption>
</figure>

<p>The first couple of months were not easy due to the adoption of a new country. Because I have traveled a lot to the U.S., I already knew how things work. But for my wife and the kids, that wasn‚Äôt the case. Even small things like ‚Äúwhat kind of milk should we get?‚Äù or ‚Äúwhat bread tastes good?‚Äù took some time to figure out. These were small concerns but worth mentioning because all of these eventually add up.</p>
<p>We slowly started meeting new friends, had gatherings with some of our old friends, etc. I applied for a driver‚Äôs license and also bought a car, which was very much needed because the U.S. is mostly a car-centric country. Once we had the car, we also started to explore our surrounding neighborhoods and cities. It was so great. Each weekend we would go somewhere in the Bay Area, and as I said, the Bay Area has many things to offer. It‚Äôs one of the best metropolitan areas in the world.</p>
<figure>
    <img src="https://d33wubrfki0l68.cloudfront.net/ce48e868cda0e80fe27e181bccc935edd16cb92c/32472/images/why-i-left-the-us-7.jpeg" alt="A weekend trip to Sausalito, CA."> <figcaption>
            <p>A weekend trip to Sausalito, CA.</p>
        </figcaption>
</figure>

<p>I also started going to the GitHub office. Our apartment was just next to a BART station, so it was convenient to go to the office. It was also something I wanted a lot. Working for years and years remotely, you miss being among people and working from an office. My wife also supported me a lot during this time, so every Tuesday and Thursday (sometimes it would be just Tuesday), I would go to the office.</p>
<figure>
    <img src="https://d33wubrfki0l68.cloudfront.net/bd5c7bb1588a003af95998b4872a923e4ab51fe2/5947f/images/why-i-left-the-us-8.jpeg" alt="My favorite place in the GitHub San Francisco office."> <figcaption>
            <p>My favorite place in the GitHub San Francisco office.</p>
        </figcaption>
</figure>

<p>Those days were just fantastic. And because GitHub was a remote-first company, the office was designed in a way with many great amenities. We had a library + lounge area where speaking and eating were forbidden. I would usually work from there. We also had a coffee shop inside the office (with real baristas and dope coffee). As a coffee lover, I loved every single bit. <strong>Being at the office just made me happy.</strong></p>
<p>The kids also started loving the area. My son started going to a preschool and picked up English words quickly. It wasn‚Äôt easy for him because he couldn‚Äôt communicate his needs anymore, but he slowly adapted. And seeing his progress brought us a lot of happiness because one of the reasons we wanted to live abroad was so that the kids could pick up a foreign language.</p>
<p>Due to the visa restrictions, my wife wasn‚Äôt able to work legally. I was on H1B, and my wife on H4. <strong>Unfortunately, the H4 visa restricts spouses to work legally in the U.S.</strong> But as I said earlier, because we had a newborn daughter, it wasn‚Äôt an issue. She wanted to take care of her for one year until she would looking for a job.</p>
<p>Meanwhile, GitHub was going to apply for the Green Card process, giving her the legal foundations to work here. Previously she was working for Deloitte and was a CPA in Turkey. Hence, the plan was to get the training and the necessary education to be a CPA in the U.S. and then start working once we got the Green Card.
As you see, the initial 4-5 months were pretty good. Everything was on track and going according to the plan. We had a great start at the beginning.</p>
<p>In December, we started hearing about the case in Wuhan, China. A deadly virus has begun to spread. A couple of months later, we heard from the news that a ship in California was infected. We found ourselves at the beginning of the pandemic. Everything happened so fast that we even didn‚Äôt know what to do.</p>
<h2 id="pandemic">Pandemic</h2>
<p>Just like everyone else, we didn‚Äôt know what was going on. <strong>Everything just happened instantly</strong>. I think the first instinct and feeling I had at that time was: ‚ÄúI‚Äôm stranded in the U.S. alone. I have a family to take care of, and I‚Äôll have to do everything in my hands to make that happen‚Äù. Of course, as a tech worker, financially, we were in a good position in the Bay Area. But the pandemic slightly changed that perspective, especially for me.</p>
<p>Gradually, things got worse and worse. They closed down the schools, afterward the playgrounds as well. I wasn‚Äôt able to go to the office anymore. We got stuck at home with our two kids. And any parent knows how miserable it if you‚Äôre staying for an extended period at home with the kids. We realized that being cut off from the family and support network made things a lot harder.</p>
<figure>
    <img src="https://d33wubrfki0l68.cloudfront.net/96b1c44f772de989ad47df8485c9b6b7d469edf5/2145e/images/why-i-left-the-us-9.jpeg" alt="Preparing a birthday party for my son&amp;rsquo;s birthday (due to the pandemic it was just the four of us)"> <figcaption>
            <p>Preparing a birthday party for my son‚Äôs birthday (due to the pandemic it was just the four of us)</p>
        </figcaption>
</figure>

<p>By now social distancing had started. We would probably experience the same thing in Turkey, but it would be quite different. In Turkey, friends with families would arrange for one of the parents to come and stay with them for months. There is a vast network, and culturally, people lived with their parents. So, it was a common thing where your parent would live with you.</p>
<p>For us, <strong>being in the Bay Area meant that we didn‚Äôt have this support network.</strong> It was just extremely difficult for my wife and me. I started to sleep around 8/9 pm with the kids and then wake up around 4 am to work without disruption for a couple of hours. In the morning, my wife would take care of the kids, and then during the evening, I would cook the food or take care of the kids. I‚Äôm not sure how we would handle the pandemic without my wife‚Äôs extraordinary support. As I said, it wasn‚Äôt easy, and things didn‚Äôt get better.</p>
<figure>
    <img src="https://d33wubrfki0l68.cloudfront.net/b82e5ad4aff1cd231592e48025e7b897d1d51cf0/d8dbd/images/why-i-left-the-us-10.jpeg" alt="My son would sit next to me most of the times."> <figcaption>
            <p>My son would sit next to me most of the times.</p>
        </figcaption>
</figure>

<p>On top of this, our flight in May 2020 to Turkey got canceled. Countries decide to close down the borders. We could fly back in July to Turkey. Once we arrived, we immediately realized how relieving it is to live in an ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://arslan.io/2020/12/20/why-i-left-the-us/">https://arslan.io/2020/12/20/why-i-left-the-us/</a></em></p>]]>
            </description>
            <link>https://arslan.io/2020/12/20/why-i-left-the-us/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25488285</guid>
            <pubDate>Sun, 20 Dec 2020 18:18:12 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[You're Missing Out If You Don't Write Weekly Digests]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 2 (<a href="https://news.ycombinator.com/item?id=25487798">thread link</a>) | @TinyBig
<br/>
December 20, 2020 | https://eyeofthesquid.com/posts/write-weekly-digests/ | <a href="https://web.archive.org/web/*/https://eyeofthesquid.com/posts/write-weekly-digests/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
  <div>
  

  <p><time datetime="2020-12-19T21:08:11-0800">Dec 19, 2020</time> ¬∑ 4 min read
  </p>

  <h2 id="summary">Summary</h2>
<p>A scheduling faux-pas earlier this year led to the accidental discovery of a best practice that has improved knowledge sharing, discussion, and documentation at thredUP while requiring minimal time investment.</p>
<h2 id="an-odd-handoff">An Odd Handoff</h2>
<p>I work on the thredUP merch-science team as Director of Engineering. The merch-science team has always been good about collaboration between product leaders and engineering to ensure that we are fully covered in the case of vacations, leaves of absence, and departures.</p>
<p>This past fall, what would have been a routine handoff was complicated when I scheduled time off  that began the day a product leader returned from a week away, giving us zero overlap. thredUP‚Äôs marketplace saw huge shifts over the course of the pandemic, and even though she was only gone for a week, there was a fair bit of catch-up to do. I addressed this issue by writing up a digest of everything our team learned about the marketplace that week and the decisions we made based on those learnings. I jokingly titled the document ‚ÄúThe Weekly Jenn‚Äù, as it was intended only for her, sent her the link, then shelved my laptop for a much-needed respite.</p>
<h2 id="the-revelation">The Revelation</h2>
<p>When I returned to work, I was surprised to find many requests for access to this document; it was duplicated and widely shared in my absence. It fostered discussion across teams and with thredUP‚Äôs executives. With so many people getting value from ‚ÄúThe Weekly Jenn‚Äù, what was intended as a one-off morphed into an actual weekly digest. After continuing to write weekly digests for the past quarter and seeing the results, I am convinced it is a best practice more teams should adopt. The rest of this article will detail the problems this digest solves and best practices for writing the digest itself.</p>
<h2 id="problems-solved">Problems Solved</h2>
<ul>
<li><strong>Visibility and Transparency</strong><br>
The merch-science team manages thredUP‚Äôs two sided marketplace and hence has wide-ranging responsibilities that affect most other teams in some way. This makes disseminating learning and decision making problematic, but I think this problem is largely resolved by writing up major happenings.</li>
<li><strong>Discussion</strong><br>
Another benefit is that this document is a great way to foster discussion. The Weekly is a Google doc open for comments to everyone in the company, and in practice, people make great use of comments, asking and answering questions, pointing out opportunities for collaboration, highlighting areas for follow-up, and celebrating wins.</li>
<li><strong>Documentation</strong><br>
Lastly, this document is turning into a piece of our institutional memory and knowledge management. Institutional memory in practice usually means ‚Äúthe memories of the longest tenured employees‚Äù, but this is less than ideal, even at a company like thredUP with many long-tenured folks. Some issues and questions tend to recur, and remembering what decisions were made or which experiments succeeded or failed is often insufficient. The context surrounding what decisions we made can be as critical to understand as the decisions themselves, and in a growing company facing shifting consumer behavior, context can change very quickly. In addition to helping future decisions, I also see this document as a great onboarding resource as we continue to grow our merch-science team.</li>
</ul>
<h2 id="best-practices">Best Practices</h2>
<p>With the above problems in mind, I‚Äôve arrived at a handful of best practices for starting and maintaining a weekly digest:</p>
<ul>
<li><strong>Set reasonable expectations</strong><br>
I made it clear from the outset, especially to executives, to expect a low-polish document. We‚Äôre all busy enough and I doubt maintaining such a document is sustainable if it‚Äôs tacking another four hours of work on to your week.</li>
<li><strong>Back it up with data</strong><br>
Include data, graphs, and charts <em>and</em> link to sources. This provides further transparency to everyone viewing the document and will save a lot of time in the future should you find yourself revisiting problems and decisions discussed in the digest.</li>
<li><strong>Keep it simple</strong><br>
Make the writing as accessible to the widest group of people at your company that you reasonably can. Tailoring content to your audience is a critical skill for engineering leadership; I‚Äôve found it beneficial having another vehicle to refine this skill.</li>
<li><strong>Make it a habit</strong><br>
Share the document in the same place every week with a short summary of this week‚Äôs topics. We use a public, well-trafficked Slack channel.</li>
</ul>
<p>Thank you to Eddie Salazar and Teague Hopkins for reviewing drafts of this post.</p>

</div>


  </div></div>]]>
            </description>
            <link>https://eyeofthesquid.com/posts/write-weekly-digests/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25487798</guid>
            <pubDate>Sun, 20 Dec 2020 17:19:13 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why Another C++ (and More) Conference?]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25487687">thread link</a>) | @ingve
<br/>
December 20, 2020 | https://thephd.github.io/why-another-c++-c-rust-zig-systems-programming-conference | <a href="https://web.archive.org/web/*/https://thephd.github.io/why-another-c++-c-rust-zig-systems-programming-conference">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
  
      <p>For those of you late to the party, Shepherd‚Äôs Oasis and I are starting <a href="https://twitter.com/__phantomderp/status/1338582889487855618">a new Systems Programming conference named CoSy Tech</a>! There‚Äôs the lingering question from the people outside of my immediate circle who keep asking: <!--more-->why?</p>

<p>It‚Äôs a good question. After all, it‚Äôs not like we have a shortage of C++ conferences. C++ Paris, C++ on Sea, CppCon, C++Now, Pacific++, MeetingC++, code::dive, Italian C++‚Ä¶ there‚Äôs a lot of C++ conferences, user groups, and meetups that have really come to the table to play. So‚Ä¶</p>

<p>Why?</p>

<p>There are a number of reasons to start a new Systems Programming conference. The two primary reasons are as follows:</p>

<ul>
  <li>Broadening the scope to accept folks from other professional backgrounds, hobbies, and walks of life; and,</li>
  <li>Getting out from the crushing despair that is the current landscape to survive.</li>
</ul>



<p>Several people (myself included) noticed that there <a href="https://nullprogram.com/blog/2018/11/21/">was no conference for C programmers</a>. A lot of my work ties to C, talks to C, and as I‚Äôve begun to uncover much more deeply there are a large number of people who have forsaken C++ for C intentionally or use plain C because their environment offers no alternatives. That means there‚Äôs a wealth of modern, current C practices that aren‚Äôt really elucidated upon by current literature. Meanwhile, most mainstream text about C spends time dunking on it (myself included!), talking about its vulnerabilities, or talking about it as ‚Äúthat ancient thing we need to worry about every now and then‚Äù.</p>

<p>How do these people make do?</p>

<p>So, we‚Äôre going to invite those developers into the fold, to talk about what makes their code successful in professional and hobby environments. This doesn‚Äôt apply to just C or C++, of course: Rust, Zig, FORTH, Nim, OCaml, Haskell, and many more languages have gotten a chance to solve some problems people have. I‚Äôd like to give those people a seat at the table and have them focus on <em>how they used their tools to solve the problem at hand</em>, rather than focusing on the tool itself. Which leads me to talk about‚Ä¶</p>

<h2 id="submissions-">Submissions! üìú</h2>

<p>Submissions for CoSy aren‚Äôt open yet, but we wanted to approach how submissions are treated and what kind of content we received differently from other conferences. There are essentially two kinds of conference systems: academic and industrial.</p>

<p>Industry conferences zero in on either a specific community/technology (Node, .NET, the JVM) all the way down to an exact tool (Kubernetes, LLVM). They sometimes have themes that encourage a broader range of talks and submissions, but ultimately it‚Äôs fairly focused what they‚Äôre going after. Talk submissions are generally just an IOU (‚ÄúI owe you‚Äù): you promise to furnish a talk at the appointed time with the necessary bells and whistles. (This changes a little for Poster submissions to said industry conferences, where you have to usually show something real by the deadline.)</p>

<p>Academic and journal-related conferences tend to have higher barriers to entry even if they have broader scope, such as requiring a journal article/paper-like submission subject to rigorous peer review rather than just an outline of a talk or an idea with an IOU to show up and deliver. They tend to require the ability that you write a journal article, have the intent to publish, or are going to publish very soon (preferably, in the journal related to the conference).</p>

<p>There is room for a mix, where we have hobby, industry, and academic professionals/hobbyist strive for a low-cost environment to share what they either love to do or professionally work on, without the high submission cost of needing a whole article. That‚Äôs what CoSy is going to be focusing on: everyone, academics and professionals alike, can focus on just delivering a good talk, while still having a pretty broad scope to talk about (Systems Programming). We also hope to reach out to organizations, companies, and people who don‚Äôt normally contribute to the aforementioned C++ conferences so we can cycle in many new and wonderful faces and names.</p>

<h2 id="double-blinded-">Double-Blinded üï∂</h2>

<p>Another big difference is that we‚Äôre going to be internally doing double-blinded reviews. This means that all personally-identifying information will be removed (Name, Age, and any other details) from all submissions before being passed on to the Program Committee. The primary reason for this is fairness: we want to be sure that everyone gets their submissions processed with the same opportunity to impress. This actually applies more to ‚Äúfamous people‚Äù than it does to any other metric.</p>

<p>For example, some people blindly submit great reviews for talks attached to e.g. Chandler Carruth, Kate Gregory, or JF Bastien because they ‚Äúwant to see their take on the subject‚Äù. This can come regardless of the quality of the actual submission. While some people might think this is awesome, this actually hurts JF or Kate or Chandler more than it helps! If they wanted to submit on a new topic they‚Äôve never spoken about before, it can be hard to trust the reviews because they‚Äôre biased by the clout/notoriety of who they are. This provides less critical feedback that could actually result in a great talk, resulting in an echo chamber.</p>

<p>Double-blind submission removes that kind of bias, as well as other biases inherent in humans processing other humans‚Äô work. Of course, it‚Äôs not always possible to double-blind everything! If someone writes a submission about how they wrote a Great Book On Large Scale Software Architecture That‚Äôs Really Good And Helps You Modularize And Structure Large Software And The Sequel Is Out You Should Buy It Now, they have vastly reduced the pool of people they could be talking about. But that‚Äôs the beauty of the system: if you want to rely on fame, then you can name yourself in the submission outline or spell out some easily-identifiable detail.</p>

<p>But! The default is that your identity is unknown, and your work is being evaluated for the quality of its presentation. Name-drop yourself, but only if you dare!</p>



<p>At this point, you can stop reading the article. Most people would be content with the above handling and just leave it at that. But this is one of the most important and driving reasons why CoSy needs to be created, and that‚Äôs because the current systems we have created around our conferences and industry are not remotely fixable.</p>

<h2 id="--w-a-r-n-i-n-g--">‚ö† ‚ö† W A R N I N G ‚ö† ‚ö†</h2>

<p>The following sections will reproduce some people‚Äôs words, exactly. That includes slurs such as the n-word, f-word, s-word and more. If you don‚Äôt have a stomach for it, then just take my word for it that it‚Äôs nasty and go read some other cool programming articles! But if you want to know why we need a new programming conference and why we can‚Äôt just build it like the old ones, well.</p>

<p>Travel on, brave reader.</p>

<h2 id="closed-wont-fix-">Closed: Won‚Äôt Fix ‚ùå</h2>

<p>Yes. I say this after myself and many others have participated deeply in the systems, attempting to influence behavior and ask for changes that protect and prioritize the most vulnerable in our communities. The long and short of it is that the folks who run these programs, donate the most money, and sit at the top of the food chains for these organizations are not open to changing the way they do things. This is fine for them, but it is not fine for the rest of us.</p>

<p>On top of what I myself and many others in the C++ community have experienced, more and more stories have come into my e-mail, Signal, and Discord messages describing in fairly unfortunate detail the level of harassment, sabotage, and bigotry that has infested tech and ultimately destroyed many promising individuals ‚Äì young and old ‚Äì out of our most prominent and prestigious spaces. I thought <a href="https://twitter.com/__phantomderp/status/1324766113402638336">C++ was unique in its terribleness</a>,</p>

<p>but I could not have been more wrong.</p>

<p>From Python to JavaScript, harassment and abuse is a lot more common than I ever wanted it to be. Still, I do not want to talk over other people‚Äôs experiences: they can share them at a time when they feel appropriately equipped to do so. I am instead going to talk to, specifically, why I could not do something like hope that C++Now might fix itself or expect that any other existing event might suddenly pivot for the better.</p>

<h2 id="reactionary-rhetoric-crafting-a-bigot-">Reactionary Rhetoric: Crafting a Bigot üî®</h2>

<p>We know that there exist places <a href="https://thephd.github.io/assets/img/2020/12/4chan-full-thread.jpg">like 4chan where the brutally disgusting ‚Äúdiscussions‚Äù</a> are disguised under the mantle of ‚Äútechnocracy‚Äù and ‚Äúequal work, equal merit‚Äù policies. Obviously, 4chan isn‚Äôt a reflection of Boost, any C++ conference, its leadership, or its donors. Unfortunately, I and many others do not have to go to 4chan or the underbelly of reddit to find this kind of plain talk of ‚Äúniggers‚Äù and ‚Äúfaggots‚Äù: it was happening right within the CppLang Slack. No other story is as illustrative of that as is Douman‚Äôs Story.</p>

<h3 id="an-outsiders-history-of-douman-">An Outsider‚Äôs History of Douman üìö</h3>

<p>When I joined the CppLang Slack around 2017-2018, an incident occurred. A user by the name of Douman said ‚Äúnigger‚Äù, hard R and everything. Moderation came down on Douman eventually, and he ended up getting banned from one of CppLang‚Äôs most rancorous ‚Äúoff topic‚Äù channels to help him resist the urge to say it again while still being able to participate. (Don‚Äôt ask me how this is supposed to be an effective deterrent.) Afterwards, Douman stated he was sad about the event and donned a Slack emoji in his name with the tag to the effect of ‚ÄúGarbage human being‚Äù.</p>

<p>What happened privately, however, was an entirely different story.</p>

<p>Incensed at being slapped on the wrist for his transgression, Douman confided in authorities higher than the Moderation team itself: the CppLang Admins. And in them, Douman found exactly what he was looking for: righteous justification against the ‚Äúsnowflakes‚Äù who couldn‚Äôt handle his ‚Äúbad language‚Äù. He linked up in a Slack channel called Unfiltered, an at-times locked channel where users did and could scream nigger, faggot, and all sorts of other things, at anybody they wanted to. You think of a slur, and it was said in Unfiltered.</p>

<p>I know this, because for a brief moment I was in there.</p>

<p>The first time I left the CppLang Slack ‚Ä¶</p></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://thephd.github.io/why-another-c++-c-rust-zig-systems-programming-conference">https://thephd.github.io/why-another-c++-c-rust-zig-systems-programming-conference</a></em></p>]]>
            </description>
            <link>https://thephd.github.io/why-another-c++-c-rust-zig-systems-programming-conference</link>
            <guid isPermaLink="false">hacker-news-small-sites-25487687</guid>
            <pubDate>Sun, 20 Dec 2020 17:06:42 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A tool to show the current application's shortcuts on Windows, Linux, and macOS]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25487653">thread link</a>) | @tkainrad
<br/>
December 20, 2020 | https://tkainrad.dev/posts/app-to-show-shortcuts-of-current-application-windows-linux-macos/ | <a href="https://web.archive.org/web/*/https://tkainrad.dev/posts/app-to-show-shortcuts-of-current-application-windows-linux-macos/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="contentdiv">

<p>Looking up keyboard shortcuts on the web takes you out of the current context and breaks your workflow. That‚Äôs why, <a href="https://tkainrad.dev/posts/setting-up-linux-workstation/">as a Linux user</a>, I have always been a bit envious of macOS users, who had access to tools that could instantly show the current application‚Äôs shortcuts, such as <a href="https://www.mediaatelier.com/CheatSheet/">CheatSheet</a>, and <a href="https://github.com/amiechen/pretzel">Pretzel</a>.</p>
<p>On Windows and Linux, there was no such thing. You had to find shortcut information in the software‚Äôs documentation and hope that it was searchable. Or even worse, suffer a massive context switch and google for the shortcuts, until now. KeyCombiner Desktop is free to use and can show the active application‚Äôs shortcuts on Windows, Linux, and macOS.</p>
<p>Suppose you are on macOS and already use one of the existing solutions. In that case, you might still want to read further because KeyCombiner goes far beyond looking up the active application‚Äôs shortcuts.</p>

<p>If a picture says more than 1000 words, an animation will speak for itself:</p>
<figure>
<img src="https://tkainrad.dev/images/keycombiner/lookup-three-apps2.gif" alt="Instant shortcut lookup for three example applications."> <figcaption>
<p>Instant shortcut lookup for three example applications.</p>
</figcaption>
</figure>
<p>Upon pressing the global trigger, the lookup will appear with a search field in focus, where you can start to type right away. The default trigger is <kbd>super</kbd>+<kbd>shift</kbd>+<kbd>c</kbd> on Windows and Linux, and <kbd>cmd</kbd>+<kbd>shift</kbd>+<kbd>k</kbd> on macOS. This can be configured, I use <kbd>super</kbd>+<kbd>c</kbd> on Linux.</p>
<p>The search terms will be applied to the shortcut description, the key binding, and some hidden fields like the shortcut category. Do you want to search for all file-related bindings that use <kbd>Ctrl</kbd>? Type something like <code>file ctrl</code> and you have your answer.</p>
<p>The lookup window disappears whenever you click outside of it, when you press <kbd>esc</kbd>, or when you switch to another application via <kbd>cmd</kbd>/<kbd>ctrl</kbd>+<kbd>tab</kbd>. If you close via <kbd>esc</kbd>, the search term will be cleared. If you use <kbd>cmd</kbd>/<kbd>ctrl</kbd>+<kbd>tab</kbd>, you can switch back to the active application without losing the cursor position.</p>

<p>If you carefully watched the animation above, you might have noticed that the rows are grouped. The first group has the prefix <code>Active:</code> and is highlighted with a blue background. This group shows the shortcuts for the active application. Everything that is shown below this group is from the user‚Äôs personal shortcut and command collections.</p>
<p>To explain what these are, I have to provide some background. KeyCombiner is an application to organize, learn, and practice keyboard shortcuts. A core idea is to learn precisely the shortcuts you need. The only way to achieve this is to choose them yourself, which is done by creating personal collections of shortcuts and text snippets. I like to compare this concept to how you build playlists in music software. Instead of browsing your favorite artists‚Äô albums, KeyCombiner allows you to browse shortcut collections of your favorite applications. Instead of adding songs to your playlists, you can add keyboard shortcuts and text snippets to your personal collections.</p>
<p>The instant lookup of KeyCombiner Desktop profits immensely from these collection building features, and vice-versa. Having instant access to your collections makes them a lot more valuable. In short, these two features complete each other.</p>
<p>The instant lookup works offline. Your personal collections are downloaded only on application startup. If you modified your collections while KeyCombiner Desktop was running, you may reload the lookup via (<kbd>Ctrl</kbd>/<kbd>Cmd</kbd>+<kbd>R</kbd>).</p>
<p>I will try to illustrate this with my personal experience. Currently, I have 10 personal KeyCombiner collections. My largest one contains more or less all shortcuts that I already knew when I started to use KeyCombiner. This collection is publicly accessible via this <a href="https://keycombiner.com/collecting/collections/shared/89e47af4-0f2e-4d5d-98fa-6966bc7453cc/">shareable link</a>. Then, I did a <a href="https://tkainrad.dev/posts/how-i-learned-50-new-keyboard-shortcuts-in-42-minutes/">blog post challenge to learn 50 new keyboard shortcuts as fast as possible</a>. More recently, I <a href="https://tkainrad.dev/posts/learning-all-vscode-shortcuts-evolved-my-developing-habits/">learned <em>all</em> VSCode keyboard shortcuts</a>, which evolved my developing habits and added another collection with 151 shortcuts to my repertoire.
Add to that a few smaller collections I used for learning the shortcuts of Chrome DevTools, Nautilus, Spotify, and Vimium. Having instant access to all of these shortcuts without leaving my current context feels like a superpower, even though I admit that some of those superpowers you see in movies look even more powerful.</p>
<p>My most recent new use case is to look up regular expressions. There is an <a href="https://tkainrad.dev/posts/automatically-add-kbd-tags-with-a-single-regex/">article</a> on how to automatically add HTML &lt;kbd&gt;-tags to any text via a single regex replace operation. I use this for all of my blog posts, all &lt;kbd&gt; tags you see in this post are added this way. However, it wouldn‚Äôt be so convenient if I couldn‚Äôt instantly look up and copy-paste the required regular expression:</p>
<figure>
<img src="https://tkainrad.dev/images/keycombiner/lookup-regex.gif" alt="The lookup also shows shortcuts and text snippets from your personal collections."> <figcaption>
<p>The lookup also shows shortcuts and text snippets from your personal collections.</p>
</figcaption>
</figure>
<p>KeyCombiner‚Äôs instant lookup is a cheatsheet of sorts. But it is context-aware, searchable, and you can expand it quickly by importing from public or shared collections. It is also friendlier to the environment than printing out PDFs and hanging them next to your desk.</p>

<p>There is a very boring answer to this question: By maintaining an extensive public database of keyboard shortcuts. You might have noticed from reading this post that I am quite excited about Keycombiner. That‚Äôs why I spend considerable time to parse the documentation pages of software tools for their keyboard shortcuts. It‚Äôs not as dull as it sounds like; creative use of regular expressions makes it quite fun. Don‚Äôt judge me; everyone has a weird hobby.</p>
<p>You can browse the database at <a href="https://keycombiner.com/collections/">https://keycombiner.com/collections/</a>.<br>
The instant lookup works for all desktop-based applications that are listed there. In particular, it should work for all apps that an average software developer uses (VSCode, JetBrains IDEs, Vim, Eclipse, Chrome, Firefox, Safari, Nautilus, Finder, Notion, Slack, Explorer, Terminal, iTerm2, Obsidian,‚Ä¶). This list is growing fast, and I am happy to take suggestions.</p>
<p>One downside of this approach is that KeyCombiner can only show the default bindings for the active application. If you have changed these bindings, that‚Äôs not ideal. Fortunately, If you went through the trouble of changing a binding, you usually won‚Äôt need to look it up. In any case, you can add the customized binding to a personal collection, and the lookup will show it as explained above.</p>
<p>Existing tools for macOS use a different approach. They rely on a macOS API to retrieve menu keyboard shortcuts for the current application. This has its advantages and disadvantages. The great thing about it is that it works automatically for all applications that have a menu. On the other hand, applications
don‚Äôt necessarily register all of their shortcuts as menu shortcuts.</p>



<p>Simply go to <a href="https://keycombiner.com/desktop/">https://keycombiner.com/desktop/</a> and grab the installer for your system. On macOS, you need to grant some permissions for the instant lookup to work. Please refer to the bottom of the linked page for instructions on how to do that.</p>
<p>KeyCombiner is a SaaS with a generous free tier. <strong>All features described in this article are entirely free to use.</strong> If you use KeyCombiner a lot, please consider upgrading to a Pro subscription to get access to additional features and to support hosting and development efforts.</p>


<p>KeyCombiner can do a lot more things than what‚Äôs described in this post. However, the instant lookup has quickly become one of my favorite features. Admittedly, I don‚Äôt use KeyCombiner every day for learning shortcuts. Usually, after I have <a href="https://tkainrad.dev/posts/learning-all-vscode-shortcuts-evolved-my-developing-habits/">mastered all shortcuts</a> of a new collection, it takes a couple of days or even weeks until I get back to frequent practice.</p>
<p>In contrast, I use the instant lookup <em>all the time</em>. If I am on a different computer without KeyCombiner installed, I notice that something is missing after a couple of minutes.</p>
<p><strong>Enough about me, though. I‚Äôd be thrilled to hear about your experience with the software.</strong></p>
<br>
</div></div>]]>
            </description>
            <link>https://tkainrad.dev/posts/app-to-show-shortcuts-of-current-application-windows-linux-macos/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25487653</guid>
            <pubDate>Sun, 20 Dec 2020 17:03:16 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Reverse-Engineering Apple Dictionary]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25487551">thread link</a>) | @atorodius
<br/>
December 20, 2020 | https://fmentzer.github.io/posts/2020/dictionary/ | <a href="https://web.archive.org/web/*/https://fmentzer.github.io/posts/2020/dictionary/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <div>
        <div>

  

  <article>
    <p>For a while now I have wanted to write a simple dictionary app for the Apple
Watch. The goal was to be able to quickly look up words from paper books,
by storing the book on the watch to be able to do fuzzy matches against the text.
While Apple ships amazing dictionaries with macOS and iOS, they only provide a very
limited API.
On iOS, all you get is 
a <em>view</em> into the dictionary via <code>UIReferenceLibraryViewController</code>,
for the Watch, there is no API at all,
and on OS X you get an antique <code>DCSCopyTextDefinition</code> that only
returns a plain-text definition, which is not nice to display. The whole
definition is returned as one blob of non-rich text, no newlines.</p>

<p>It was while attempting to parse this output that I realized it would be so much
easier to get the source, which I‚Äôm showing here how to do.
I open-sourced the code to parse the dictionary
<a href="https://github.com/fab-jul/parse_dictionaries">on github</a>.</p>

<p>Here is a pic of the OS X dictionary:</p>

<p><img src="https://fmentzer.github.io/assets/img/dictionary.png"></p>

<p>And here is what I managed to extract:</p>

<p><img src="https://fmentzer.github.io/assets/img/dictionary_watch.jpg"></p>

<p>I started by trying to figure out where dictionaries are stored.
Some googling <a href="https://discussions.apple.com/thread/250861549?answerId=251679363022#251679363022">revealed</a>
that they are burried in <code>/System</code> 
(at least for macOS 10.15 and possibly higher), at</p>

<div><div><pre><code>/System/Library/AssetsV2/
  com_apple_MobileAsset_DictionaryServices_dictionaryOSX/
</code></pre></div></div>

<p>This folder contains various cryptically-named folders ending in <code>.asset</code>,
which represent the different installed dictionaries. E.g., for me:</p>

<div><div><pre><code>$ ls
24effbf40402f823bb9d9f6f12b75af3e679a4a6.asset
26e585a43423edb02b25fa7ba9af3fdc08eed6d7.asset
4094df88727a054b658681dfb74f23702d3c985e.asset
96d637557afb292134db05d7d7f30c0fed9cef9f.asset
976258f0b1fad70dd8e7ee7c1b4be8f8536e19a7.asset
a1d5710e8c3932361413f22ff588a1a3c7c337bf.asset
com_apple_MobileAsset_DictionaryServices_dictionaryOSX.xml
</code></pre></div></div>

<p>Of these, <code>4094df88727a054b658681dfb74f23702d3c985e.asset</code> is the 
‚ÄúNew Oxford American Dictionary‚Äù. Going into that folder and
a few levels deeper, we land at a promisingly named ‚ÄúResources‚Äù folder:</p>

<div><div><pre><code>$ ls /System/Library/AssetsV2/
  com_apple_MobileAsset_DictionaryServices_dictionaryOSX/
  4094df88727a054b658681dfb74f23702d3c985e.asset/
  AssetData/
  New Oxford American Dictionary.dictionary/
  Contents/
  Resources/

Body.data        ca.lproj         ms.lproj
DefaultStyle.css cs.lproj         no.lproj
Dutch.lproj      da.lproj         pl.lproj
English.lproj    el.lproj         pt.lproj
EntryID.data     en_AU.lproj      pt_PT.lproj
EntryID.index    en_GB.lproj      ro.lproj
French.lproj     es_419.lproj     ru.lproj
German.lproj     fbm.css          sk.lproj
Images           fi.lproj         sv.lproj
Italian.lproj    fr_CA.lproj      th.lproj
Japanese.lproj   he.lproj         tr.lproj
KeyText.data     hi.lproj         uk.lproj
KeyText.index    hr.lproj         vi.lproj
NOAD.xsl         hu.lproj         zh_CN.lproj
Spanish.lproj    id.lproj         zh_HK.lproj
ar.lproj         ko.lproj         zh_TW.lproj
</code></pre></div></div>

<p>which is filled with a whole bunch of files. Sorting by size, it turns out
that <code>Body.data</code> could be a promising candidate at 23MB.</p>

<p>Sadly, it seems to be a binary blob without a discernible content.</p>

<div><div><pre><code>$ xxd Body.data | head -n15
00000000: 0000 0000 0000 0000 0000 0000 0000 0000  ................
00000010: 0000 0000 0000 0000 0000 0000 0000 0000  ................
00000020: 0000 0000 0000 0000 0000 0000 0000 0000  ................
00000030: 0000 0000 0000 0000 0000 0000 0000 0000  ................
00000040: f74d 7001 0000 0000 ffff ffff 2000 0000  .Mp......... ...
00000050: 0000 0000 da02 0000 ffff ffff ffff ffff  ................
00000060: 9480 0000 9080 0000 443b 0400 78da ecbd  ........D;..x...
00000070: 6b8c 2457 961e 26ed 6ab5 6fc9 300c c382  k.$W..&amp;.j.o.0...
00000080: 21e3 aac7 10ab b455 3df9 7eb0 67da aa6e  !......U=.~.g..n
00000090: 72d8 3d7c 0cc5 2667 b05a 8c1b 3723 6e66  r.=|..&amp;g.Z..7#nf
000000a0: 5c56 44dc e4bd 1155 9dc4 1a18 6261 9918  \VD....U....ba..
000000b0: 717f 505c db4b 2cb4 c66a e911 966b 4382  q.P\.K,..j...kC.
000000c0: b570 0bd6 2f75 f71a ae69 0c2c ff31 6003  .p../u...i.,.1`.
000000d0: b6e1 010c 0102 2c03 fee3 1f86 1fe7 dc1b  ......,.........
000000e0: 9195 8f88 cc8c c81b 9955 2407 c3ae aacc  .........U$.....
</code></pre></div></div>

<p>Scanning through the file with <code>xxd</code>, I did not find any visible structure.</p>

<p>However, given that the file is only ~23MB, I was thinking it may just be a ZIP file
in disguise.</p>

<div><div><pre><code>unzip Body.data
Archive:  Body.data
  End-of-central-directory signature not found.  Either this file is not
  a zipfile, or it constitutes one disk of a multi-part archive.  In the
  latter case the central directory and zipfile comment will be found on
  the last disk(s) of this archive.
unzip:  cannot find zipfile directory in one of Body.data or
        Body.data.zip, and cannot find Body.data.ZIP, period.
</code></pre></div></div>

<p>No luck! Same for <code>tar xvf</code>.</p>

<p>At this moment, I remembered
that the last time I had been thinking about this problem, years ago,
I had stumpled upon some cryptic C code. I remembered fiddling around with
XML, so I tried to dig up old projects, but sadly, I must have deleted them.</p>

<p>Some googling later, I stumpled upon the very <a href="https://gist.github.com/josephg/5e134adf70760ee7e49d">gist</a>
I had found years ago. It‚Äôs a very short and sweet python script to
extract entries from <code>Data.entry</code>. However, it‚Äôs also somewhat magical
in that it‚Äôs not documented, seeks random offsets, and even makes use
of the <code>struct</code> library.</p>

<p>But, it also does <code>import zlib</code>, so I thought, let‚Äôs try
to reverse engineer it myself.</p>

<p>The first simple
thing to try was to just attempt to find a ZIP file by going through the
bytes of the file one by one. After all,
it was very plausible that the file starts with some Apple
header followed by some compressed data.</p>

<div><div><pre><code><span>import</span> <span>zlib</span>
<span>import</span> <span>itertools</span>

<span>DATA_FILE_PATH</span> <span>=</span> <span>...</span>

<span>with</span> <span>open</span><span>(</span><span>DATA_FILE_PATH</span><span>,</span> <span>'rb'</span><span>)</span> <span>as</span> <span>f</span><span>:</span>
  <span>content_bytes</span> <span>=</span> <span>f</span><span>.</span><span>read</span><span>()</span>

<span># Try all offsets to see if we find a ZIP file
</span><span>for</span> <span>offset</span> <span>in</span> <span>itertools</span><span>.</span><span>count</span><span>():</span>
  <span>print</span><span>(</span><span>f</span><span>'Trying {offset}...'</span><span>)</span>
  <span>try</span><span>:</span>
    <span>content_decompressed</span> <span>=</span> <span>zlib</span><span>.</span><span>decompress</span><span>(</span><span>content_bytes</span><span>[</span><span>offset</span><span>:])</span>
    <span>print</span><span>(</span><span>'Found ZIP!'</span><span>)</span>
    <span>break</span>
  <span>except</span> <span>zlib</span><span>.</span><span>error</span><span>:</span>  <span># Current content_bytes is not a zipfile -&gt; skip a byte.
</span>    <span>pass</span>
</code></pre></div></div>

<p>‚Ä¶ and, low and behold, at byte number 108, a ZIP file starts!</p>

<div><div><pre><code>Trying 102...
Trying 103...
Trying 104...
Trying 105...
Trying 106...
Trying 107...
Trying 108...
Found ZIP!
</code></pre></div></div>

<p>Very exciting! What‚Äôs in this ZIP?</p>

<div><div><pre><code>&gt;&gt;&gt; content_decompressed.decode()
UnicodeDecodeError: 'utf-8' codec can't decode byte 0xa3 in position 0: invalid start byte
</code></pre></div></div>

<p>Ok, so already the first byte cannot be decoded by ‚Äòutf-8‚Äô, that‚Äôs a bit sad.</p>

<div><div><pre><code>&gt;&gt;&gt; print(content_decompressed[:20])
b'\xa3\x02\x00\x00&lt;d:entry xmlns:d'
</code></pre></div></div>

<p>Aha, already a few bytes later, some XML starts. For now, let‚Äôs just 
ignore the first four bytes.</p>

<div><div><pre><code>&gt;&gt;&gt; content_decompressed[4:].decode()
UnicodeDecodeError: 'utf-8' codec can't decode byte 0xe7 in position 2065: invalid continuation byte
</code></pre></div></div>

<p>That‚Äôs already more promising, we can decode 2065 bytes.
Looking around position 2065, we find:</p>

<div><div><pre><code>&gt;&gt;&gt; print(content_decompressed[2055:2085])
b'an&gt;&lt;/d:entry&gt;\n\xe7\x02\x00\x00&lt;d:entry xml'
#              ^ |              |
#        newline |__ 4 bytes ___|
</code></pre></div></div>

<p>We see the entry ends, followed by a newline <code>\n</code>, some more
seemingly random bytes, and another entry starts!</p>

<p>For reference, here is the first entry (defining <code>007</code>, as it turns out):</p>

<div><div><pre><code><span>&lt;d:entry</span> <span>xmlns:d=</span><span>"http://www.apple.com/DTDs/DictionaryService-1.0.rng"</span> 
    <span>id=</span><span>"m_en_gbus1179660"</span> 
    <span>d:title=</span><span>"007"</span> 
    <span>class=</span><span>"entry"</span><span>&gt;</span>
  <span>&lt;span</span> <span>class=</span><span>"hg x_xh0"</span><span>&gt;</span>
    <span>&lt;span</span> <span>role=</span><span>"text"</span> <span>class=</span><span>"hw"</span><span>&gt;</span>007 <span>&lt;/span&gt;</span>
  <span>&lt;/span&gt;</span>
  <span>&lt;span</span> <span>class=</span><span>"sg"</span><span>&gt;</span>
    <span>&lt;span</span> <span>id=</span><span>"m_en_gbus1179660.005"</span> <span>class=</span><span>"se1 x_xd0"</span><span>&gt;</span>
      <span>&lt;span</span> <span>role=</span><span>"text"</span> <span>class=</span><span>"posg x_xdh"</span><span>&gt;</span>
        <span>&lt;span</span> <span>d:pos=</span><span>"1"</span> <span>class=</span><span>"pos"</span><span>&gt;</span>
          <span>&lt;span</span> <span>class=</span><span>"gp tg_pos"</span><span>&gt;</span>noun <span>&lt;/span&gt;</span>
          <span>&lt;d:pos/&gt;</span>
        <span>&lt;/span&gt;</span>
      <span>&lt;/span&gt;</span>
      <span>&lt;span</span> <span>id=</span><span>"m_en_gbus1179660.006"</span> <span>class=</span><span>"msDict x_xd1 t_core"</span><span>&gt;</span>
        <span>&lt;span</span> <span>d:def=</span><span>"1"</span> <span>role=</span><span>"text"</span> <span>class=</span><span>"df"</span><span>&gt;</span>
            the fictional British secret agent James Bond, or someone based on,
            inspired by, or reminiscent of him<span>&lt;span</span> <span>class=</span><span>"gp tg_df"</span><span>&gt;</span>.<span>&lt;/span&gt;</span>
            <span>&lt;d:def/&gt;</span>
        <span>&lt;/span&gt;</span>
      <span>&lt;/span&gt;</span>
    <span>&lt;/span&gt;</span>
  <span>&lt;/span&gt;</span>
<span>&lt;/d:entry&gt;</span>
</code></pre></div></div>

<p>Exploring some more,
I did not find a pattern in these delimiter bytes except it always being
 4 bytes. I‚Äôm assuming they somehow tell you how long the next entry is.
 But we can just always ignore the 4 bytes and keep reading until the
 next newline appears.</p>

<div><div><pre><code><span>def</span> <span>split</span><span>(</span><span>input_bytes</span><span>):</span>
  <span># The first four bytes are always not UTF-8.
</span>  <span>input_bytes</span> <span>=</span> <span>input_bytes</span><span>[</span><span>4</span><span>:]</span>
  <span>entries</span> <span>=</span> <span>[]</span>
  <span>while</span> <span>True</span><span>:</span>
    <span># Find the next newline, which delimits the current entry.
</span>    <span>try</span><span>:</span>
      <span>next_offset</span> <span>=</span> <span>input_bytes</span><span>.</span><span>index</span><span>(</span><span>'</span><span>\n</span><span>'</span><span>.</span><span>encode</span><span>(</span><span>'utf-8'</span><span>))</span>
    <span>except</span> <span>ValueError</span><span>:</span>  <span># No more new-lines -&gt; no more entries!
</span>      <span>break</span>
    <span>entry_text</span> <span>=</span> <span>input_bytes</span><span>[:</span><span>next_offset</span><span>]</span><span>.</span><span>decode</span><span>(</span><span>'utf-8'</span><span>)</span>
    <span>entries</span><span>.</span><span>append</span><span>(</span><span>entry_text</span><span>)</span>

    <span># There is always 4 bytes of chibberish between entries. Skip them
</span>    <span># and the new lines (for a total of 5 bytes).
</span>    <span>input_bytes</span> <span>=</span> <span>input_bytes</span><span>[</span><span>next_offset</span> <span>+</span> <span>5</span><span>:]</span>
  <span>return</span> <span>entries</span>
</code></pre></div></div>

<p>Aaaand‚Ä¶ that yielded a measly 152 entries. Very sad. Where is the rest?
Let‚Äôs first see what entries we have:</p>

<div><div><pre><code>007, 2.0, 404, 420, 4D printing, 4K, 911, 999, a, a, A, A, a-, a-, a-, a-, -a, 
-a, -a, A1, A3, A4, A5, aa, AA, AAA, AAAS, Aachen, AAD, Aadhaar, Aalborg, Aalto, 
Alvar, AAM, A &amp; M, A &amp; R, aardvark, aardwolf, aargh, Aarhus, Aaron, Aaron, Hank,
Aaron's beard, Aaron's rod, AARP, AAU, AAUP, AAVE, abs, Ab, Ab, AB, AB, ab-, ABA,
 abaca, aback, abacus, Abadan, Abaddon, abaft, Abakan, abalone, abandon, abandoned,
abandonment, abandonware, abase, abasement, abash, abashed, abate, abatement, 
abattoir, a battuta, abaxial, abaya, Abba, Abba, abbacy, Abbas, Ferhat, Abbas,
Mahmoud, Abbasid, abbatial, abb√©, abbess, Abbevillian, abbey, Abbey Road,
abbot, Abbott, Berenice, Abbott, Sir John, Abbott, Tony, abbr., abbreviate,
abbreviated, abbreviation, ABC, ABC, ABC, ABC Islands, ABD, abdicate,
abdication, abdomen, abdominal, abdominoplasty, abdominous, abducens, abducens
nerve, abduct, abductee, abduction, abductor, Abdul Hamid II, Abdul-Jabbar,
Kareem, Abdullah ibn Hussein, Abdullah II, Abdul Rahman, Tunku, ‚Ä¶</code></pre></div></div></article></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://fmentzer.github.io/posts/2020/dictionary/">https://fmentzer.github.io/posts/2020/dictionary/</a></em></p>]]>
            </description>
            <link>https://fmentzer.github.io/posts/2020/dictionary/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25487551</guid>
            <pubDate>Sun, 20 Dec 2020 16:49:50 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Swirled Series: The Result]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25487501">thread link</a>) | @fanf2
<br/>
December 20, 2020 | https://isohedral.ca/swirled-series-the-result/ | <a href="https://web.archive.org/web/*/https://isohedral.ca/swirled-series-the-result/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="wrapper">
		<!-- #header -->	<div id="container">
				<section id="content">
							<article id="post-2241">
					<div>
																		<!-- .entry-header -->
						<div>
														




<p>Early in November, Daniel Piker (aka <a href="https://twitter.com/kangaroophysics">@KangarooPhysics</a>) suggested that a group of people could get together online, and each create a short segment of animation, arranged so that all the start and end frames are identical. We could then assemble all the segments into one long loop and enjoy each others‚Äô work. The idea was based on loops that I had been posting on Twitter for fun, under the hashtag <a href="https://twitter.com/hashtag/swirlysquaresunday">#swirlysquaresunday</a>, and for that reason I called the group project <a href="https://isohedral.ca/swirled-series/">Swirled Series</a>.</p>
<p>Well, wow. I had hoped that maybe I would collect 10‚Äì20 submissions, and assemble a short video around a minute long, which could be shared on Twitter. I guess I wasn‚Äôt the only one looking for a creative outlet! In all, I received 115 loops from 81 contributors, totalling over six minutes of animation. I am honoured and humbled to serve as the curator of such a fun and diverse collection.</p>
<p>The best way to watch Swirled Series is at the top of this page. The animation is constantly remixing 115 short video clips, playing them in random order. You can also control the speed (I find it looks good slowed down a bit). Finally, I‚Äôve uploaded <a href="https://youtu.be/LXr-DFr5vgI">a video</a> to YouTube, showing the 115 loops in a fixed random order. If you‚Äôre on a small device like a phone, and the videos are cut off, you might have better luck with <a href="https://isohedral.ca/other/SwirledSeriesNovember2020/" target="_blank" rel="noopener noreferrer">a separate page containing just the viewer</a>.</p>



<p>Of course, none of this would be possible without the tremendous response from an enthusiastic community of creators!&nbsp; Thanks to @C010011012, @CyanidesDuality, @FlyingOctopus0, @GeometryDad, @SlimRunner, @TilingBot, @beesandbombs, @jn3008, @sandvrs, @teadrinker, ËêΩËëâÂ≠ê, Zach Abel, Dan Anderson, Dan Bach, Sebesty√©n Bal√°zs, David Berardo, Daniel Berio, Elijah Bevers, Jim Bumgardner, Dina Buric, Neil Butler, Toby Cathcart Burn, Paul Chaikin, Tim Cieplowski, Tom Edgar, Matt Enlow, Frank Farris, Tony Finch, Lucas Garron, Sam Gates, Pierre Gidel, Andrew Glassner, John Golden, Chris Hanusa, Edmund Harriss, Sam Hartburn, Esther Hecky, Ian Henderson, Matthew Henderson, Jason Hise, Martin Holtham, Chris Johnson, Alex Jones, Roman Karavia, Roni Kaufman, Elliot Kienzle, William Knowles-Kellett, Eryk Kopczy≈Ñski and Dorota Celi≈Ñska-Kopczy≈Ñska, Tom Lechner, Jose Linares, Colin Liotta, Xing Liu, Nan Ma, Olivier Mercier, Fabrice Neyret, Andrew Osborne, Dave Pagurek, Jon Palin, Vincent Pantaloni, Juan Carlos Ponce Campuzano, David Reimann, Ricky Reusser, Juan Rinaudo, Jesus Rivera, Tanner Rogalsky, Chip Rollinson, Toby Sargeant, Henry Segerman and Saul Schleimer, Tomas Sirgedas, Ben Sparks, Zachary Stein, Tim Straubinger, stuebinm, Rashmi Sunder-Raj, David Swart, Patrick Traynor, Adrian-Teodor TudoricƒÉ, Jason Tully, Joachim Wedekind, August Wiklund, and Stasiu Wolanski. (Please tell me if I‚Äôve left your name out or otherwise messed it up‚Äîwith so many people, there could very well be mistakes!)&nbsp; And special thanks to Daniel Piker for gettting the whole project going.</p>
<p>These submissions constitute a non-trivial dataset, comprising over 18,000 frames and nearly a gigabyte of data. That‚Äôs enough information that aggregate measurements of the process become interesting. Here are a few observations.</p>
<ul>
<li>People were allowed to submit a loop of up to 180 frames. The average submission was 158 frames, and the majority of submissions were 180 frames‚Äîmost artists wanted their full 3.6 seconds of fame!</li>
<li>It would be interesting to categorize the visual and mathematical devices used to create loops. You‚Äôll see fractals, complex numbers, non-Euclidean geometry, aperiodic tilings, physics simulation, 3D animation, strange loops, and all sorts of other sequences. In some ways the project provides an entertaining overview of techniques in mathematical art.</li>
<li>The first and final frames were required to be identical 8 √ó 8 checkerboards of black and white squares, in a 512 √ó 512 PNG image. You‚Äôd think that there wouldn‚Äôt be a lot of variability in the files for those frames. Ha! Of all the files containing starting frames, the smallest was a meagre 214 bytes (way to go, Lucas Garron!) and the biggest was around 750 KB (what‚Äôs up with that, Chris Hanusa?).&nbsp; That‚Äôs about a 3000√ó difference in size, which I suppose says a lot about variation in PNG encoding algorithms.</li>
<li>Information theory offers interesting measurements here too. To a first approximation, an image that‚Äôs visually simpler will be represented by a smaller file (assuming you‚Äôre using a good encoder!). Here are 115 superimposed graphs, showing a measurement of the file size of each frame in a loop over its lifetime:<br><a href="https://isohedral.ca/wp-content/uploads/2020/12/graphs.png"><img loading="lazy" src="https://isohedral.ca/wp-content/uploads/2020/12/graphs.png" alt="" width="1000" height="723" srcset="https://isohedral.ca/wp-content/uploads/2020/12/graphs.png 1000w, https://isohedral.ca/wp-content/uploads/2020/12/graphs-300x217.png 300w, https://isohedral.ca/wp-content/uploads/2020/12/graphs-768x555.png 768w, https://isohedral.ca/wp-content/uploads/2020/12/graphs-700x506.png 700w" sizes="(max-width: 1000px) 100vw, 1000px"></a>Each graph shows a loop‚Äôs frame file sizes as a fraction of the average size for that loop, represented by the black horizontal line (to which all graphs have been normalized). The most obvious trends are that most animations tend to start simple and end simple (naturally, since checkerboards are simple and you‚Äôre expected to do something interesting in your loop), and that there‚Äôs a noticeable dip in the middle (many loops go through two ‚Äúphases‚Äù, delineated in the middle by a relatively simple pause). I‚Äôm left wondering what other measurements I could extract, though it would make sense to re-encode the frames first with a standardized compression algorithm.</li>
<li>This project required a lot of manual labour.&nbsp; First, I maintained a spreadsheet of submissions and collected them manually via email. Then, many submissions contained errors. The most common errors were incorrectly named or numbered files. There were occasional problems with file formats or resolutions. And a lot of people submitted loops that started and ended with a black square in the lower-right corner, where I had asked for a white square. The process would definitely benefit from automated submission and validation!</li>
<li>Many different tools were used to produce submissions. I‚Äôm aware of people using Processing, GeoGebra, Shadertoy, and Desmos, and that‚Äôs just for starters.</li>
</ul>



<p>Based on the enthusiasm of the many contributors, I can certainly imagine doing this again, though perhaps not right away. I would likely restrict submissions to one per person to keep from being inundated. Ideally I would also automate the process of collecting and validating submissions.</p>
<p>This was a fun experience, thanks again to all the contributors!</p>
							
						</div><!-- .entry-content -->
						<!-- .entry-utility -->
					</div><!-- .entry -->
					

	<!-- #respond -->
					</article><!-- .post -->
					</section><!-- #content -->
			</div><!-- #container -->
		<!-- #footer -->
	</div></div>]]>
            </description>
            <link>https://isohedral.ca/swirled-series-the-result/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25487501</guid>
            <pubDate>Sun, 20 Dec 2020 16:43:11 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Changing One Sentence led to 2.5x more Reviews]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25487272">thread link</a>) | @dhruvkar
<br/>
December 20, 2020 | https://www.wints.org/blog/2020.12.17/ | <a href="https://web.archive.org/web/*/https://www.wints.org/blog/2020.12.17/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
  <p>
    <h3>How Changing One Sentence led to 2.5x more Reviews</h3>
    
        <h6>December 17, 2020</h6>
    
    </p>
  </div><div>
    <div>
		<p><strong><u>June 2019</u></strong><br>
Fifteen years in business and we had a measly three reviews on Google.</p>
<p>Sigh.</p>
<p>I reminded myself that this is <em>exactly</em> why I moved back from the Bay area to work on the family business ‚Äì to use technology to expand. Let‚Äôs fix this!</p>
<figure>
    <img src="https://www.wints.org/img/articles/2020.12.17/2.stoneland-reviews-dec-2019.jpg" alt="Stoneland Reviews December 2020" width="60%"> 
</figure>

<p>I‚Äôd read somewhere that people are most willing to review right after their experience ‚Äì good or bad.
I‚Äôd been itching to use Twilio, and this was the perfect use case!
Our inside sales person saves a visitor‚Äôs contact information right after a visitor leaves. Their phone number is included in this.</p>
<p>So, June 2019 I wrote a python script that sent an SMS to the visitor an 1 hour after they left. The SMS said:</p>
<div>
	<div>
<blockquote><small><i>If you enjoyed your visit (or didn't), please let us know how we did!<br>http://bit.ly/stoneland-google-stl <br>-Stoneland Team</i></small></blockquote>
</div>
</div>
<p>I thought it was pretty slick, getting the URL, a cohesive message and proper formatting into one SMS.</p>
<p>At the same time, our sales team made a push to get reviews by emailing old customers.</p>
<p><strong><u>December 2019</u></strong><br>
We have 18 reviews now! While a big improvement over the last 15 years, it was still far below our competition.
And most of the reviews were in September when our sales team made the push. Now the trickle had dried up.</p>
<p>I‚Äôd been reading and listening to a lot of <a href="https://www.indiehackers.com/">Indiehackers</a>, especially interviews with founders who were marketing specialists. After ingesting Indiehacker nuggets, I settled on changing one factor at a time to understand what drove reviews.</p>
<p>In January 2020, I tweaked the copy of the SMS to read:</p>
<div>
	<div>
<blockquote><small><i>If you enjoyed your visit, leave us a 5 second rating!<br>http://bit.ly/stoneland-google-stl<br>-Stoneland Team</i></small></blockquote></div></div>
<p><strong><u>December 2020</u></strong><br>
That tiny change made all the difference! As of December 15, 2020, we have <strong>93 reviews</strong> with a 4.9 rating!
We‚Äôve outstripped all our competitors in the area, as well as several of our customers.</p>
<p>Bottom line? Copywriting matters.</p>
<figure>
    <img src="https://www.wints.org/img/articles/2020.12.17/1.stoneland-reviews-dec-2020.jpg" alt="Stoneland Reviews December 2020" width="60%"> 
</figure>

<p>P.S. For anyone wondering about the math around ‚Äò2.5x‚Äô, here‚Äôs the breakdown:</p>
<ul>
<li>June 2019 - December 2020 (~6 months): 15 reviews</li>
<li>Extrapolated over 12 months: 30 reviews</li>
<li>January 2020 - December 2020 (~12 months): 75 reviews</li>
</ul>
<p><span>75/30 = <strong>2.5</strong></span></p>

	</div>
  </div></div>]]>
            </description>
            <link>https://www.wints.org/blog/2020.12.17/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25487272</guid>
            <pubDate>Sun, 20 Dec 2020 16:20:21 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Google Advertising Fraud]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25487215">thread link</a>) | @dimassimo
<br/>
December 20, 2020 | https://diablo.im/~ross/pb/20201220-085332.mp4 | <a href="https://web.archive.org/web/*/https://diablo.im/~ross/pb/20201220-085332.mp4">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div :=""><u 44√ê√ì@ÔøΩÔøΩ√π¬∏qÔøΩ‚Ç¨¬º‚Äùl√±|t¬•√ä√àrt¬¨,gÔøΩ√Äu√ûp√Äc([w√Ökz≈Ω¬ª√©¬æ√®√á.‚Ä¢√â√âÔøΩ‚Äû√Å√Ωrg@√Ä*ÔøΩ√°=""><u><u><b √ªq√´≈∏∆íg="" b1ÔøΩ-√ç¬øo√Ü="" 5√∂gf‚Äò&√°ÔøΩ√ñ√ò√∑≈ìnbxe√≥0√õ√¨√∂√≥√ÜÔøΩÀú√éz√ìp√•h¬∫√µm:u√≥√îxt¬¨√±;qwÀú="" ¬πp¬©f¬©tÔøΩ,h)√º¬ß¬§@√•3l√ïx‚Äû√í%&h)≈ì¬∞√¶¬®?√Ä‚Ñ¢Àú√ñ¬∞x√§$√ã¬∑ÔøΩ="√Ñ√âÔøΩ¬ÆÔøΩq¬Ω‚Ä°FfM√Ços√É‚ÄπW√Ö√ª" n¬∏"¬ß?√å3¬ª¬πpz¬∏¬≠9√¥j√∑+]'?√∂‚Äû√∞f@‚Äù√ë√±t√ó¬≠√°¬π¬≥c{¬°√ô7‚Ä†¬´‚Äúy?wr¬¢6="√ä√ã√ë√≥M√º'‚Ç¨" √£c√ª‚Ç¨‚Ä¶√∂¬™√º√¶‚Äîl+√Ç8^√∑="" *?^s√®√Ñ√ü?spog√å‚Äπ≈ì‚Ä†f√è‚Ñ¢√Ñ≈∏Àúo√î√¨√ô√∂¬øf¬•ÔøΩ√¨√â1y¬§√âv‚Äî&√ãl@<√£@dn‚Ä†n√ñ¬°="" i#<‚Ä¶√ö√Ä="" .√õ0'√å√∂v≈ìu{≈íhÔøΩ√îu3w6h‚Äùw¬´‚Äûw√™;n¬Ø√îcp≈æf√©√π√ø√ºn√¥syw√Ñ0#√û√º√ø√ø√†l|≈°√®w="" aÀÜ√à="" √´o√ø‚Äû;‚Äî√ìa√Ω√ß¬∂f¬æ&go8@t4√∑√º√ü√ê√•_="" a¬∏√ö‚Ä∫√ø√π`h¬´+9|)‚Ç¨√ä="" √Ñ#|√ø‚Ç¨‚Äî√ç√èsr¬π‚Ä°n√â√É~b√π)√Ä‚Äût√¶"√©¬∫√∂√áoo√è√ø√æ,¬¨a√ûg¬º‚Äò√Ω="" √≠√Ωq¬∂="" !‚Ä∞√Ø¬†‚Äπ'√ê="" j71√ü¬∏≈∏¬≤ÔøΩ√∑‚Äö√è¬∞√å!¬∫o√π√∞5√ù="√∏w,¬™6√Ç&amp;√∏" √∞¬ß√ø√ø√àl√≥="√ù√î?1≈Ω‚Ä¶√í√Ω" l¬•t√Ñ¬ø‚Ä°√∏¬´;¬∑√à¬æng‚Äò√ÅaÔøΩ5k√äu¬≠√ø√≥&√°mz√û&n≈æ|(¬°\√´o√ø√ø√ÉÔøΩ9¬ªfh√ºes07‚Äû¬∞a√é7√¥√Ωd¬•√äf‚Äπ√†nlq√ã√∏w}√õ="" it¬ø√™^√æ¬£√≥√Å√∂¬∑x‚Ä¶0‚Ä°¬ø‚ÄìÔøΩ√Ωm√ø√ø√∏#w¬ß¬∂ÔøΩ¬≥yy¬≠l="" ‚Äûe√ºa¬§√≥am‚Äû√ø√º;9=""><u q‚Ä†jar≈Ω‚Ç¨c√à√®wi0√ôo1√ár√ê`w√≤¬≠="" √ñ√ê‚Ä∫≈æk="" √å="" :√•‚Ä°"`6m√º√ñl="4G√ÜxaG√ØwNÔøΩ√´≈í√õrU¬µ)∆í√†vÔøΩ√Ñ√Å√≠q‚Ä¶√≥N¬∏7√£<"><s o√Ä‚Äú≈°3Àú#.¬∑lf√†?r="" √ë¬±¬Æ¬Ø¬¢m√Ç="" √Äo6∆í√æf√Å3os‚Ä°‚Äö="¬Ø[#a√®√†¬≠¬∑√áÀú√à¬π-√ú" √ªk%6o√ú¬Ω00fwx%l}="" ‚Ä¢√´ÔøΩ|‚Ä∫.‚Äú~g^ÔøΩ‚Äú="" "x‚Äúk5al¬°<ÔøΩ√Ç?¬±√ÅÔøΩlr√ä‚Äú¬π‚Äπ]:√≤:4‚Ñ¢¬∏`{l{√çÔøΩ√ªmb‚Äú,√ê√∞he√π√°3e√ã√ñd√ç¬≥8‚Äπ¬≠√†="¬µ-√ø√ÄM¬∂¬≠√∏¬ºH√∫0¬≤√äÔøΩ‚Äì√™d√ì¬ß√î2√≤√∏√°≈Ω¬©@‚Äú√¶-/√óAYÔøΩ‚Ä°√èC√º√±ÔøΩ[R√û¬≠S¬∞*/√éxJ'‚Ä¶‚Äûd¬∑)Ne‚Äù√¶%¬µ≈∏√ø√ñ‚ÄôÔøΩ≈°|¬°\&amp;n≈∏≈∏√ø√∏RdV√•√¶^9√∞¬¶'¬∏" √´o√ø√∞‚Ä°¬∂√•n_‚Äö√óo="" dg‚Ä°c¬∏ÔøΩ√ï?ÔøΩ√ø√π._‚Äû¬ß√°¬´g\d_0="" √ö√ì|‚Ä¢√¶√¶)√í√ø√ø√ø√Å≈∏8`!√Æ~y∆í^√ø√∏√ø√∞rw√ºo√ì-√™p¬Æ‚Äî-√ø√ø2n}¬≥2n?√ñÀú¬æ&r^l¬±¬ª¬∞#√∂6‚Ä∞x¬Ω¬®,¬¢‚Äî‚Ä†%√†¬´"√°_√ø√ø√ø√Ö√ª√±b¬∏j2h="" √´o√ø√•nz√õ‚Ñ¢a!‚ÄπÔøΩ¬¶ÔøΩ~‚Äú√ï√∑√ø√ø‚Ä¢¬π~="" ¬πf‚Äö√∂x)‚Äî≈íusaÀúsk="" ∆í√ø√º,√ã√¥√Å7√∂`‚Ä†="" √ê√Äd="" √ë="" )√•¬∫k√±√∏b^%√µ3¬£‚Ä¶t¬πo√ø√£¬≤√à¬∑l√í="" ÔøΩ√Ñb8!√≤k√†m¬©dÔøΩ^q¬º¬™Àú8‚Äî¬£k8s="" m@"{≈æp√Ü√ü√ø√∏&o√É&≈Ωx¬Ω√¢√≠v√ï√∑√´¬±√±¬∫√£√µ}q‚ÄöÀúc\‚Äù√∫√ø‚Äöi√Æ≈Ω~‚Äù;¬´ÔøΩ‚Ç¨m√É2="" √¥^="" √Äg¬æ√≠¬∫∆íx√Üeix¬æh59w¬∞;√ú="" √¢x4"√Ä‚Äú="" 5¬Ø‚Äπ√º√à‚Äîsi√¥√∑¬∞="" }r√Øc√°d¬ø√†√†@ÀÜk‚Äì!‚Äû√û√£~_√¢.f="" √†9¬¥a2h√Ñ="" %;djaÀú‚Äòpwqc√π√ß≈∏√±√ë‚Äòd√å‚Äöh‚Ñ¢d¬ø√ê‚Äùo√£√Ω≈Ω¬¢¬∑√ì9√≠√°\ÔøΩo√ì¬πq¬µÔøΩ¬ø√ºf_√π√Ä√Çx√π√ø√Å√Ä="" ÔøΩ[w¬π√ù√§i≈æ¬Ørp‚Ä∫¬ßtf¬§k"√∏≈ì√¥v‚Ä¢¬®s[!"6ya¬∂¬•}3≈∏n√ë√£√íbw?j√ø√Å@(ÀÜ√™√õ≈Ω√ªmt√¢√æg√ü¬¥16√ú1_‚Ä∞="" √∑√¢c¬§a√π√ç√Æ¬†b√´√õcz=""><s ¬ß‚Äòj‚Ñ¢√Å√®Àú√à√é¬£√Ña‚Ä∞,√≠r√à_√ø¬∫0√™‚Ä∞'√™√ã(‚Äô√≥6b¬§9,√Çh√≤‚Äπ?√°l$‚Äú!v√í="" √à√πx√Ø√Æ%o√Ñ*‚Äî√≤o‚Ä¶∆í&z^√ø¬∂≈°≈†√∏√ø√ø√±∆íÔøΩa√õ√±ÀúÔøΩ∆í√¨√∫="" ~d¬ª!¬º‚Äî¬º^-f‚Ä¢p√Ä√©≈†√ù√ïuq'√≠√Äo¬Æ√∑√∞¬≥√æÔøΩ‚Ñ¢¬Ø="" <¬±√ì¬∑√∫√≠√º√ãi¬Ω‚Äù¬£√Å√ølu¬§-{√Ω5g="" ¬ª√¢ÔøΩ;√ü6u√∫k∆í√¥m√ã√™√ç√Ω¬øz√§Àúp'√∂¬ßzÔøΩ√åg¬≠x√≤`}√≤~i¬ª¬±j‚Ä∞¬Ωh?‚Äô√É&="√ç√©√≤¬µx¬ø0√ÑG`√ÄAB-" y6ÀÜ!ck‚Äö√öwÔøΩq≈°4¬®√∑ÀÜ¬´4‚Ñ¢b‚Ñ¢'√ù‚Ä°}4e√æ¬´ÔøΩb√∞e‚ÄûÔøΩÔøΩt√°ÔøΩ?√§^√∑ÀÜ√ºw!_<!√ó√©√Ç√è√ª√É‚Äô$¬µ<≈í√Ü√§[xÀÜ√∞2`¬∞√è="" r+‚Ä∞ey≈ì'√å√∏‚Ä∞√π√ß√≠="" u¬•j√Äo√™~a≈Ω√ë9≈∏na√ï√ø√ø√ãd!√Äbb‚Äù$¬∑="" √©¬¥√∫'√§="" *l√àhx5√Ü√´√®√ã√ó‚Äû√∞f¬º√ç√ñ√òm√ú62~√´;≈í√ù<k√Ω√Ω<‚Ä∞="" √°√ä√†="" ≈†¬§√´¬ø√ò√é="√Ñ‚Äô≈í√§k}√ïÔøΩ√™√°√π\‚Äì" √†cgo#√Ω¬∑√æ√∏√ßÔøΩ√ãr√ø√É√án@dg|√Ω¬Ω="" √†_[="" gv√ª4~?12ÔøΩ<k[¬•‚Ä∞¬ßÔøΩ‚Ç¨a√ö√∏√î√ΩÔøΩnc0≈ì√π7y√è√•√Å‚Ç¨{n="" √π‚Ä∞g√ï√ßb¬∏y∆í¬°9¬™k√ñ√Ñ√ç√ì√é|√≤]5√´f¬´‚Ä∞¬¨t√ó√•e√ô√êd√πn√Çy√ì√è6m√ù¬ª√è‚ÄùÔøΩ√è√é¬®oÔøΩ0√ì="" lg‚Äû¬æ9√¢?1¬µ6¬Ω√ù√´~√ú√í√ß‚Äûj√£¬•√à√∂√º√è≈°√Éy*=""><i><u ¬°_√ò√Ç<‚Äú`√±√á‚Äûys√∞¬≠j‚Ä¢}√≤≈æ√π}@qj√¢g6ÔøΩ√õ√êef√ü√ç¬∏ÔøΩ≈æm6∆í√Ä‚Äî√ªb√Æv¬ª≈æi¬ø¬¥¬µ√¢,‚Äî~ÔøΩ"6‚Ä∫¬º¬°√Ä√õ4!hu√õ4√ñm¬¥;n^¬¶="" ak5√Ç!n+‚Ç¨qy&="" qa√òÔøΩl√±‚Äò7≈ì:bÔøΩ√Ü√∫‚Ä†¬Æ‚Äúa√¶:¬©ÔøΩ√∞x*j!≈ì~Àú‚Ä¢√Ämrl√©‚Ç¨="" ÔøΩ[≈†¬®‚Äò√ài√ûuv¬•√à+b√≤√∫√®¬†ÔøΩnc¬¢‚Ä†x√Æ√±¬®¬Ωh;ÔøΩ‚Äöx[≈†="" 1√ù=""><b &¬©√π√¢√º¬¶√õÀú="" wp¬¨√ºx¬ø‚Äù+√ù2√ü√ø√ø}√ª√çt√¨fÔøΩ√é$_√Ä‚Äîq¬Æmy¬©ds√Ω√Ç¬æv¬ø√ø√æÔøΩÀÜ¬¨√•√¢v√´‚Ä†&√ÆaÔøΩ%√µ{‚Ä¢√°lx‚Äò‚Äù¬∑√ø√øÔøΩv¬Ω¬∂√ï`k≈∏="" |g="√ç};¬º√Ä∆í" √ª¬∞√Ñ‚Ç¨√é√º¬§¬ø√µ√ø√Ä√Ö9ld√é5√åa¬£‚Ç¨¬∞="" ‚Ä∞="" ¬®√ô¬¶q<v="" √©s√ä="" w‚Äò‚Ç¨√ê|¬Æ√∞¬∂√Ä[√ìa¬¶√¨yn&¬∞c√º‚Äî¬Ω√•e(o¬°¬´f√∑√Ñ√¥¬ª√¶¬Ω√™√Üv√ú¬Ø√ø√ø√∞c∆í‚Äî¬Æ‚Äû√†√ûv¬º√û√ò√àc6|√é√π√∞‚Äûl¬¨!ÔøΩ√ô|≈ì√∂,`√Ü√®¬•m√ø<≈æc:0√ù~ph‚Äò√Ç1ÔøΩx√Ñ¬ßilg‚Ç¨√ä√ì¬¥√ó√≥ÔøΩi¬æ‚Äò√°√∫|dw`ÔøΩ√É¬∑f√≥√†c-‚ÄîÔøΩ√ò#7√ç√åpx‚Ä∞≈Ω4≈íus√è8ÀúÀÜ√æ6hqzde]√†57√•√æf¬±9√∑i√Ä‚Ñ¢√Ñgm<¬±ÀÜ‚Äì√ó√≤n≈æ<¬∑√í:¬µ¬≥√æ3%m√ü="√û¬Ω¬¢√Ω¬§k¬∞√é√º¬§¬ø√¥√∞ÀÜÔøΩt)√ª√∏‚Äò<≈í√ç≈Ω√Æ√æ√é≈∏F√¶s√øL#‚Ä∞≈Ω≈ì¬•≈æZ√±,‚Ä¶√©¬°¬æÔøΩu'^O√èÀÜ¬≤@o6‚Ä°O√á/PUa‚Äùsr‚Äûn√üe,√≤@8V√çCp¬®{|&quot;723¬©√¶¬Ø=‚Ä∞#b¬≤I¬•√§√º" √ô√ø√é¬®‚Äì="" ‚Ç¨<√ö√°√ç="" ÔøΩr√°√´s?√≥¬ºf(¬™¬ªkc;v√¶fu√Ç√ø√©$‚Äπ≈æq√¢0√¢¬†2¬¨¬£+u√ª√ô√ùmn""√í¬Ø¬≠‚Äò!¬πw≈∏¬∞¬¶√£‚Äùnz¬ø¬Æ[√ó√∏√Ö_b\^}¬Æi√Ø√¥¬ß¬†)¬¨√øu~√¨"c√•√å√ª√é√≥=""><s ≈∏k6w√¨√π¬ªÔøΩ‚Ä¶‚Äôsq‚Äúw(√±|l="" √Ö¬º3a,\‚Äπ√™‚Ä°∆í√¨e√ûw√Ö√≥n?√Æ!~?[√ºc√ô‚Äö√Ç="" √°√Ω¬ø‚Äôl¬∞ÔøΩ‚Äöz="" √ò}≈íÔøΩ√ê¬†√ï√ø‚Ä∞√±√¢<g√Ñr√≥\^√ç="√ü√±" √Ö:a0s¬∂¬π|√à¬æ-1‚Äù¬ºexqk;√≠h√ø="" ;¬∏1¬¢√É¬ø√¢0√†8!#√É√∞¬≥√´√≤ÔøΩ^Àú7ÀÜ¬´‚Äî¬¨√à√û√áÀú√†√ò√±m‚Äî√¢*="" ly#pn√ú~"i¬™p≈íÔøΩ¬®¬∏.√±√ç6pw√Øc√±¬ºf`√π√∞$√ª8¬©¬∂¬ø√Ée∆ís√£ok¬ØÀÜ¬¥¬©√¥Àút¬°8¬£sp^!√±‚Äô‚Äû="" √Çmh8|h√çj¬ºa="" ‚Äπ√êo_√±c¬ßfÀú=""><a ¬∑tj¬†¬£√∞‚Ä¶¬µ@p√ú√Ñ="" #x√Ée#="" ?eÔøΩ¬∑√Üq√∞¬¢¬∏@¬ª="" ≈ìl`√ö¬†≈°¬•√Åo.qa¬∞‚Äû√æ*√ú√ÄÔøΩ¬¢¬∞√åip¬≠√∞ÔøΩ="" 0<√©:√ªf√á|lx-ÔøΩÔøΩ¬∏¬†="">√•0√º_*X√ç√ç&lt;6√º¬¢7√ºE5√àH√ò√∂¬£‚Äπ√´√ê√ï*	@ub≈∏$7√™√¨X√ªG√ºF√ú≈ìW√™	√Ä¬©¬≠¬ºPK√Ç{IÔøΩ/&gt;√∑‚Äî‚Ä∞¬º‚Äô`"¬¢`1‚Ç¨√øw(‚Äò	¬∂√æ]√µL√æ¬¶PaC√´F¬®5√Ç√∞‚Ä°√õ‚Ä†‚Ä¶@ÔøΩ'√π√ï√¶|j(|‚Äπ≈í√ß≈Ω∆í√∂¬∏y4c√Å‚Ç¨√πrU√®√£@√ü@√ö9√£&lt;73√Å3√ß√ªe√∫√†/f‚Ç¨√µA¬°√æ3√Äb√∂¬¨UC¬±ÔøΩ√ÉHb3√Å√ësv
√éV‚Ä†N¬∏B'‚Ä¶ ¬º√Ω√¨√æ√£aq√±!‚Ä∞√á(6ÔøΩPJF¬®√±q&nbsp;X√∞$√õ√Ñ¬£√Ñn3¬™;√±‚Ä∫‚Ä°ÔøΩ√è¬®&lt;√¢√∫
T‚Ä†a≈∏@j$√•I-xy√±v√õ&nbsp;#`4,‚Ñ¢√©√Ω√∞ÔøΩ  	5X√ës}¬Æa√≤,‚Äû9RK&nbsp;¬§¬±√¨√ÅÔøΩ‚Ä¶¬Ø√Ç;&nbsp;2√™@¬≠(√∞T:?√ö√Ñ√ç√Å+√∞n√ÖÔøΩ√ä"}‚Ç¨√∞√≤/≈í¬øPH√†^√≤√°√ò‚Ç¨√∑ÔøΩ√πh√ë]3K¬§C;√±Àú√Ä=0'JÔøΩ&gt;‚Äùn2√Ä¬≤¬¢	‚ÄúR√Ñ√ÇMO√Ü]√É√êr√ì¬°√ê√∂c√åJ&nbsp;≈ì‚Ä°√Å√ÄK√û‚Ä°¬±√≤√ú]√§≈æ√±‚Ä∫≈ì"ÔøΩ√é√°A√†@G‚Ç¨Àú*‚Äì√Å∆í&nbsp;9√ç‚Äπ¬≤`;√±≈ì√ÇÔøΩ#≈Ω√ún&nbsp; √å8/‚Äû S≈æ¬¶√Æ¬®?@¬ºg
!√ô0w√ÄZ¬®p-=-
≈íL√Ü√°‚Ç¨¬§K≈Ω‚Ç¨¬ºW‚ÄöÔøΩ√ø¬±∆í^u√±√ù√ê`¬™	Z√π/√à=1.√Üqy(ÔøΩw√â√âÔøΩ√∂:√¶√•‚Ñ¢‚Ä°√¥¬º¬Ω‚Äî√¶√∞√ä.
st%√†A/√ê√á‚Ç¨s,(√â√∑O‚Äî≈°&gt;=2N¬º¬º8‚Ä°n√Ö¬º¬º9o√¢√º&amp;}¬ØyÔøΩ√í,√ø√®6ÔøΩ¬∏,¬≠√£√Ω√ø√Ö√Ω√ÅÔøΩ‚Äù_¬∑√åp=)¬Ø/
o√ã√á√ß√°¬∏\=C¬≤√º¬Ω¬°c∆í√º_
!B¬¢√Ç];G√£# b≈°W?I‚Äî√∏q	% ‚Äò√êeQ√¢√∏v.‚Äú8"√ò¬∫¬™K¬Ø%$Àú‚Ç¨]q}#√∞√º√ñ≈í%√¶√ÉÔøΩT≈í¬¥Aq√Äv√àL¬§‚Äòi√Ü@√µ√Ñv:*√î	¬©√É≈†√¢(|≈æ+≈Ω0¬∫√≠√∏‚Ä∞‚Ä°‚Ä†∆íkAh	√Ä6~"ÔøΩ√Ø¬Æl√ó∆íÀú¬∞√áC√±4kKC¬ø¬¥/¬•Z^"¬§¬°√Æ‚ÄûQ¬°‚Ä°√ß√πf*≈í≈†/√Üp‚Ä¶√Ü√Ø‚Ñ¢&amp;A,&nbsp;evBv√•¬¨¬∏\√±√ô√é5√†¬¨<rb‚Äò¬ß√¢;‚Ä†¬πx√∏¬∏?¬ßpp `ÔøΩ"√¥5¬¢√É√Ω√êc1x√≠x="" √Ñg√Äb¬∞$√ëp√ºn5rm√Ç0‚ÄôÔøΩh√°¬©="o≈æ√ºÔøΩ√´s√®‚Ç¨√ò√ÑhK‚Äö(1¬•√±√∞¬°ÔøΩ√óÀÜ√∫7√û∆í(8~3≈í;¬æ≈æ2">√ï2√ê0
¬ß¬∑p√Ç
‚Äî%`√Ü√Éj¬≥z~"T¬£‚Ä†√™‚Äì‚Äû√ºÔøΩ‚Ä°√Å&nbsp;‚Äî≈æh√£√Ø¬æ:≈†√¥√Ω
T√å1_√≠√∏≈Ω≈æ=¬¶^2√∞√¥-√è‚Äù8√Ö¬®Àú`p	√£¬∞&nbsp;8‚Äì√∑√Ç\`zR¬£ÔøΩ¬¥s√Ç5tÀÜ‚Ä∫≈ΩÔøΩp¬∞¬©.≈æ‚Äú√•√£NÀú√©√§¬ø?¬°¬º¬ßÔøΩ√û‚Ç¨‚Äö6≈†√∑‚Ä†√ë≈ì1{¬Ø√Ç\√¢Ep√®√∞
‚Ç¨p.
x¬∫√ÄhS3√ì√ªÀú=≈í
ÔøΩ√á√Ü¬∏v√ífIÔøΩako≈Ω√≠¬Æ≈Ω6El√ë¬¨&nbsp;%|!¬º=+vN19√á≈°`‚Ä∫√Ç<!--?-√´√ÅVJa¬º√áH‚Ä∞f‚Ä∞¬≠49*b(4√õ√ÆÔøΩ√∏√ä√òd¬æ√∞6√≤√ú!√å√Ç√æp'√πÀú√±r‚Äö¬¨wÔøΩH2P√∂`ÔøΩ√∞≈∏‚Äû¬∏X√∞√≤.x¬®/√Üv|√®e¬°¬°√∏@√†√ì√∫√É‚Äò|√ê7‚Ä°¬ºe√§28\oP	T√ÆÔøΩL-->¬±√†√∏`4,‚Ñ¢√©√Ω√≥F-√≠√∏GB[√ì
¬¢√ó√ò√¨`‚Ä†√ç¬æ√πH)√∏√é:_0fU¬©t?d√ñ√é√ó‚Ç¨XzT&gt;ÔøΩ1]∆í^√®!¬∞h4CO√¶‚Ä†@‚Äù√Ü.√∞√∏√ä√î√†‚Ä¢¬≤/&nbsp;(1√∞RL√õz¬§q1v≈°√ü√≥‚Ñ¢
W√≤t√®¬ºg‚Ç¨ √ºO√µ¬•vH|≈∏√ó@x√Ü√°√∞≈ΩÀú√Ä(¬≠	D‚Ä°√ùs√Ä
M√ù√ö√ÄiV
?‚Äû<us&√Æ>Y∆íb
Z‚Äö√æÔøΩ4 √Ä¬∏√©H- √≠ ¬¥∆í√£¬°p/√ã√Ü≈ìÀú-√¶√°+
√û~o√òz√•√£√ÉZ‚Äò¬°√¢√∏√∞4√°¬¥8o√ã√É√∞√∏4√º√ú‚Ä∞‚Äû√Æ	I√±|√Ö√Ä√™√Ä√∏√£√§≈ì√úa√≥¬æ/‚ÄìI√£‚Ä°√ø‚Äû0√≤/√É√Ω¬¥‚Ä†‚Äù?√û:¬ª¬≠√©√êtg√ã√ÜF¬∂7√Ü∆í¬º√úl8X≈∏‚Äπ√™‚Ä°C¬ø~/‚Äû√Ø0¬±nPA√≤√∞√ú4√Ç9‚Ñ¢‚Ñ¢≈ì√ÄÀÜMÔøΩ&amp;√¶e*\H√¢ff√¶nf√¶e√¢*≈í‚Ä¢‚Ä°'
.√á‚Äö!¬®S`n{√Ø*P√ü‚Ä∞ÔøΩ≈Ω¬∑ÀÜ`¬°X~≈Ω¬∏√ªf.√ìv√ê‚Äô	#ÀÜ√æ:¬º0‚Ä†√ê:ÔøΩT≈Ω√Ø√Ñq√ê√¨p√Öp+√Ñ√π‚Ä¢‚Ç¨√´‚ÄûfI√É√ãT√∞‚Ä°‚Ñ¢≈íp,?√âi≈†√ø@√á≈ìÔøΩ~A7A¬¥‚Ä°√ÑZ$√Å√ì¬•√ö≈°√∞7√æX√à01√æ"‚Äö8¬Ω
`a5√†√õe‚Ç¨c¬∏w√ü&lt;‚Äò)√æ&amp;√ÄHa√îI`	√≤√ø%√Ñ6f
√∏√ç¬®√õ@4¬°¬º*√©√ì√°‚Äû¬∫
√Ä√Ä|f¬¶E&lt;\kÔøΩ√†t,¬¨¬∞A√êqV√Å√ºN¬•&nbsp;√∞`~≈†‚ÄîÀÜ‚Ä†W¬ØB¬°¬°√±h%√áÀÜ‚Äû√é‚Äö&nbsp;Rx!D‚Ä°W√´√Ü‚Äö√±&nbsp;.‚Ä†4√ì√ÄÔøΩ@H¬¨t√ª√†¬ß‚Äì∆í‚Ç¨~:√†‚Ç¨0h‚ÄûA:√Ävx
√í√∏‚Ä∞‚ÄöÔøΩ	A¬∂‚Ç¨hLDL√±73¬±√Ä¬∏fs3/√ä¬¨3ÔøΩ6ÔøΩy‚Ä†‚Äî+√áÔøΩ1√ì√Ø.-]√ÅV‚ÄödKC¬≤√¥@√æ3≈ΩFx√Ä√ñd√Å¬æ√∏≈†√∑"¬°√ΩH√¨√ê¬ºWht:&nbsp;A√ß9A√∏C¬£B√π&nbsp;O%√•&nbsp;√ÉÔøΩE‚Äú√Ç~P9A√É√Ä`[r√Ä√Ö√æ/hP√¥.¬∂+√åÔøΩG≈í√úk$√∞∆í¬®	n/&nbsp;√Ü‚Äì*N¬°‚Äì<m√Æ√Ü√Ç√∞√®√ñ¬∞¬∫7 √á√ße‚Ç¨l√ç≈ì="" √†ÔøΩ<:‚Ä°√†tÔøΩ√Ü≈∏i3}\ÔøΩ="" ÔøΩ*‚Äû¬¥2¬¨0ÔøΩ2¬†¬ºgx="" √ßwm√¥ihv√®k√Åq√ÄÔøΩ¬±r√±‚Ç¨6√±]‚Äö="" %¬æo√ü-¬¢f¬¥‚Ä∞1¬•√∑^3¬µyf6√Ér√¶tpka√™¬™="" -="" ;="" √ê?z√ê√™ÔøΩ√§√ç√á√î√Æi{?√ÖrÔøΩ‚Äö="" ¬≤¬æc="" √Öx√é¬ºk‚Ç¨*‚Ä†`.√ò√™c¬¥¬±√°‚Äì‚Äùxoc‚Ä¶ÔøΩ+‚Ñ¢="" √∞√™f="" √ò¬£be√ê√Ω‚Äúz√´√∞√°ÔøΩ√∏cl77ÀÜÔøΩx¬ªck‚Äû{4‚Ä†@e‚Äì‚Ä¶¬§a¬º∆í√´ÀÜ'√Ä√™‚Äî√≤√≤√≥√Ü|d;√©√ï-ÔøΩ≈°q√òz¬†9√°u≈ì√£:‚Äô√ª√álj‚Ç¨∆í¬´√áad9="√ú" 9√°="" m√êaÔøΩÔøΩx8f√É="" .~3ÔøΩg∆íÔøΩ¬∫√êz‚Ç¨j√á√´="" <#‚Ç¨√Ø√Ä="" √¢o√ù√Ép‚Ä†b¬•√öz\‚Ç¨√ê√≤¬¨aÀú&√¶nf√¶m!‚Äî‚Äπ√°¬ø√´`√éd|¬∏|√ú="¬®5`√ç¬æ/¬¥0R√á√Ü¬Ø√ã√É(=T¬∏¬æKO√ÉÔøΩ√®j√±|√¨√©&nbsp;¬≤N√≥pA¬£0√¥0√é|_√ÉwC√ñj√ë√Ä√πx&quot;x\(¬Ø/" ¬°√î√Ç√±|8‚Ç¨√Ö√Ä‚Ä¢¬Ω#k‚ÄîÀúd9="" √ã√†‚Ä¶¬≥√≥√ø="" `‚Ä†c:√¢√∏√∏¬ø`ÔøΩs‚Ä∞="" u√ã√Ç'v‚Ç¨ÔøΩ≈†√Ø¬¥q¬∏~n¬∏oÔøΩ¬Ø√Ña¬¢0ha¬æ‚Ä∫√°√ç‚Ä∫="">#√ê#h‚Ç¨√£¬Æt√∞‚Äî√£¬®Cch‚Äπ√Ø;`‚Ä∞ÔøΩ√ö≈Ω¬ª¬∏f!b√≤√®?#√©c`?‚Ç¨1/√±¬°[¬®]`√ÄD?ÔøΩ√õ√ûx2
√∏J4GR&nbsp;√Äa√≥K¬´√Ép√æ%¬¢(∆í√£√∫≈†‚Ç¨ÔøΩl∆í√±U √ñ√ØA8|g=CÔøΩ¬∞LcbdÔøΩh[p√†√∫√òw√±
√ì√öP*h
x√±√†b‚Ä°≈Ω∆íEÔøΩ√î!h30=√Æ¬∞¬∞√≤√∞h√ÑG‚Äö√∂rG‚Ä°ÔøΩÀÜ¬µC√Å√ê&nbsp;9E√Ü√ß≈í¬¶p√¢√êp\≈Ω∆í√ü≈í¬µC‚Ä∫v¬¨x√ä√∞v\√Ω`z∆íxup√´`‚Äú≈°√Ø√Æ√øxTt^-JY¬´/S¬°}e|G √øF‚Ä°M√´‚Äô√∏?ÀÜ≈∏c‚Ä°¬™√ô
ÀÜÔøΩÀÜ√¶√∞H√≥*√±‚Äî‚ÄùC√∞ÔøΩ‚Äö&amp;‚Äπ√ò‚Äπ5√Åx√∏|¬™7%C¬∏√ü√å~√´∆íÔøΩ√ö≈ì"a√É√¨‚Ä¶G¬Ω√†√≤@m¬°√Ç.√º√ò√®√øvA¬π4Fx¬∏X&nbsp;[2ÔøΩy¬¶p√ºÔøΩ√™h2ÔøΩ¬©lW√ç√è√Ür	¬≤√ñ∆í√ñ√ê√í√Ä1x`Z‚Äû`BÔøΩÔøΩ_∆í√°√ºbg
 √∂Q√Æsr‚Ä†‚Ä†&gt;3≈ì¬∏√àA√¨f=√üYW‚Ä†ÔøΩA‚Äô√íl@√ê√øB√ø¬π^oÔøΩ#XMS ÔøΩn4=√ï¬¢‚Ç¨√º%¬¶M‚Ç¨¬≥F√á/ÔøΩ√ìB|p¬º9√î√Év¬º]P √û!√ä¬™√Ä]¬µ‚Ç¨U@√º#√ô‚ÄöGÔøΩ√æ√±&nbsp;‚Äî¬∞¬≤U√Å‚Äô√¥√âÔøΩÔøΩ√ºg^‚Äò√©hUz5 P≈ìs√ù‚Äπ\√ê√üO√é√ö√ß¬±√ù√É¬©√ú¬º
¬Æ√±Àú√°∆íUxO≈Ω	√òd√ã√ÑEa¬ø√ò3√Ç‚Ä†`c√≠ÔøΩz75√Ä5ÔøΩ&nbsp;¬ÆR8d8@¬°√Ö√¥;¬øN‚Ä°h/√ç√Ç&amp;¬•pp|_[‚Ä¶?≈Ω¬§i√º¬º√¶By/√°¬∏Q&gt;8W√ÜA3‚Ä°√≥‚Ç¨‚Ä°√ñ¬£√Çhp?&nbsp;CN¬æ&nbsp;√åÔøΩ¬º`j√æ26oÔøΩÔøΩ√Ω&gt;`√êeÔøΩ"√¨√ø√≤&nbsp;~/√Ä‚Ä∫√±√øz:X?D¬∞&lt;√∏¬æ¬º8+A√´‚Ç¨CCW‚Äπ√≠t√™‚ÄöÔøΩ
?¬∫ÔøΩ¬´√æ^:8~/≈í√ø‚Ç¨√ò√ú√≤[gW√ò√õ√±|√ü∆í¬¶√É√àlk√û/¬¨	√£¬°√Ä¬ºIq|`¬±√∞√û√¶‚ÄöRy¬π√Å¬∏C+‚Äπ√ß ‚Ä°¬¢√°‚Äπ√£!E√É√µ}≈ænn‚Äî|¬º|ÀÜ√ª√ç√¢5√Ü√∑!¬∞∆í¬°zj√â
CÀÜ‚Äö6‚Ä°√æ‚Ä†¬ª‚Ç¨IP√Æ:¬°P√±√ú&nbsp;N√∏≈Ω√∞√∞{@
p√Ç√ø‚Äô‚Ç¨C:≈í¬Æ√≥‚Äö‚Ä†	\¬µa[‚Ä†‚Äî!√∞‚Äî¬πb√£4≈°¬∑JÔøΩ≈Ω‚Ä°√É:N√ü‚Äù{√ÖB7(√∂`‚Äö‚Ä¶9√£¬£√Ω√≥√±√Çq√î&gt;¬æ"8:√µ!¬¶√ë√ºN√£y¬≤√Ñ√ö¬£≈†`w√±√∂‚Äî¬¶√Ü‚Ç¨√å‚Ç¨t√É¬∞M¬µ‚Ä°√µ√Ä`|~:¬©√ò¬∂&amp; =√ÅwiÀÜ√àx√∏hZ=A~J"√£.K≈í¬ßd√¢#"‚ÄôÔøΩ√ãB¬Æ¬¥√Ñ&gt;J‚Ç¨#‚Äò√ªÔøΩ¬Ø‚Äú≈ìRiX√ò0√∏ÔøΩ#
√Æ√í√®√ù;¬∫√∫ ‚Ñ¢‚Ç¨x‚Ä∫≈Ω¬º√†‚Ä¶ÔøΩ&lt;|o0√•√º√ÄÔøΩS¬ø{‚Ä†C5√án√É[pÔøΩ√ù¬Ω√ÅQ‚Äö√°AO≈æC√û√£¬®≈íÔøΩ@√ê	q-x?¬∞
‚ÄôN/√±√í√∫‚ÄúK‚Ä∫m√Æ‚ÄöpZ‚Äî‚Äû&lt;&gt;‚Ä°n¬∞√àh√ê√àY‚Äö
¬¨uX?√£√∏}¬•√£√¥√Ü√É√ã√ÉZR?≈†_√Ü|z¬Ø
C√ìp√Ä√ó¬∏√Ü6:|!?Àú¬∞√øE¬°¬¨ 9≈ì6√´@Ux√é05x√Ä√îo√Å√íLp&gt;i√Ä
√Ä √∏zf√òÔøΩ¬∏¬´8ÀÜ#~√©!√¶‚Ç¨¬∞:√Äu¬º∆í√†√¶K√å≈íÀú|¬≥√É√ü√¢√¶√úk√á‚Äù&gt;4√∞¬§√†√´‚Äπ√∏√çH;&lt;√ÄG√Ü√©U‚Ä¢√≤xlt√ê‚ÄûhPG√≥¬ºL6d‚Äù@Z¬¨‚Ä¢
¬πÔøΩ√Ä‚Ä∞√¶‚Ä°√ê√®h√å88‚Ä∫ÔøΩ√ø≈í√°√à~( -¬®O√¥¬©aP‚Äû√ö√±\`-(*¬∑‚Äûlx√éÔøΩs√∏√®¬ø¬Æ&nbsp;!≈†√π√æ*√®√∞ÔøΩ0!√∞¬¥≈æ‚ÄπÔøΩtP6"‚Äπ√Üw‚Äö√Å&gt;√Ä√©]$&lt;√ì√ä.√Ä‚Äû(¬ß@√§√Ä√ì‚ÄöÔøΩ√£sTQ!¬ßN¬≤‚Ä°√ï∆í√ø‚Äû:√í√πA√ì√Ñ√ì√Ö√´√∞√°¬Ø(¬®√∏√ç√áM√äJ‚Äî¬µwL‚Ä¢√ã √ëpJU¬¶-pe√º!wd:ePf√£√æ √ä)¬°<o√£8√∞g^√™√ö4q-√á√Üc;@ÔøΩwÔøΩ√ñ‚Ç¨!{¬®√á‚Ç¨_√Ç\6√ú¬®7√¶+$√±=j‚Ä¶!h≈Ω‚Ç¨m√Ö√∂ b√ê√≥√¥√®:4√ç√Ü√Ñ1="" ¬∞="" √≠|_@aÀú[¬∂‚Äöp<¬Ω7a√á√£√†√µ√î√î√∞ÔøΩ√á√≥@‚Äìx√†d¬ø√≥u="" ÔøΩ√±|¬®≈Ω√Ü‚Ä†4√à‚Äì¬º_\√ª3√£;√∫@‚Ä∫√ß√Ω√Ø‚Äπ√¨a‚Ç¨s√ëo√§f√õ_‚Ä∫√Çc√Ñd√å‚Ñ¢√ºt'`w_√º%a√æ‚Ä°√±p√Ç√•√Ç√∏a‚Äπz‚Ä¢‚Äö'√ù√Å¬∑√º_‚Äπ&‚Äìe="">√ø	√°‚Ä¶√â√ª‚Ä†P√ò√ºD‚Äî√®V¬ø√∏√èZIz√†}¬æ√ù‚Äπ√¨TD¬π‚Äö	√†&amp;√ù¬ø¬ø5√∫‚Ç¨&gt;)¬±√îD~‚Ä∫W√ó√Ñ√≤R¬°cP¬™7ÀÜ¬±¬±¬£ÔøΩ√Æa√ÅF√ì¬πq¬∞≈°W	P
:√ú√¢:&nbsp;∆í√á√π¬∂¬Ω√®5√Çp'√ÑR.‚Äú‚ÄùA¬©√†2¬ø√£8M√Å(A√àr:‚Ä¶¬®p√øk‚Äö√ó√ív√¢¬Ω1¬∂≈Ω¬§√ôC√±≈†¬µ:√±√ßah~&amp;a√ôtm√ó¬ø/√±3
√≤≈†√≤√ßÀÜ¬π¬∂¬Æ‚Ä¢‚Äû¬¥1,‚Äî¬Ø‚Ä¶√∏≈†ÔøΩ(;‚Ç¨`∆í√†Y√ó¬æ≈†≈†
ÔøΩ√ò@^√¨	8 w√áCn+¬¥√∞X√ò&lt;o√∏ÀÜ√â	ÀÜ&nbsp;‚Ç¨PÔøΩ2-√∏≈íB‚ÄôS√†[A√û"¬¨,√Æ
Y¬µX√∞‚ÄôÔøΩ√ÑNL0∆í∆í√êy
¬∞|
¬∑A√Æ¬∞√é√∂¬∏√ú‚Äî√ú1√Ä¬¨√∑-P0¬±<g ¬∏h¬†¬∞√¨‚Äú="" √¥eÔøΩ,¬µ‚ÄπÔøΩ‚Ñ¢@≈∏√£8n√°pk]√≠√®02="">ÔøΩP‚Ä°r√û√º#√î|,c¬£¬ª¬¢_g‚Ç¨&amp;‚Ä†√±√ØtÀÜrd≈í√º√ü√¶
&nbsp;CO=&nbsp;|]`r^¬¶E¬¢√ô-≈†¬•√∏CÔøΩkNh&nbsp;‚Äù‚Ç¨S‚Ç¨√°ÔøΩÔøΩ√∏√éÔøΩ¬©¬∫9¬Æ/√£√öV‚Äö`y√™¬™E√ÖI√ü√∏¬Ø¬¢Wx≈í&lt;¬Ω‚Äî≈í¬∑√Ä√à¬¥n&nbsp;X0(APj√ï(ÔøΩQ/√á√∏√†‚Ä¶
¬¢√ÄA\f¬¨~¬º√∫√≥√ü‚Äô‚Ä∫≈íÔøΩ:√Ä0√∏¬Æa‚Ä∞√Ü¬∏"√î‚ÄîO√ò√ê√•√à=@≈ìÔøΩ√à|\!√£¬∏H'√æ√´R√¥√™)¬¨r√±≈ì9
¬§6√¥√é)≈ì(O&gt;i‚Ä°'f√üDÔøΩ√´√ÜS‚Ñ¢√±≈°√°√≤√èc√é%v,≈∏√£8D¬°¬•&nbsp;‚Ç¨B√†√øwP5√∞t≈ì√ìÔøΩ1¬Æ∆í¬∏‚Ä°Q√†HF,¬°D¬ß@√•&nbsp;i`&lt;|!√Ü√¶¬º@‚Äò√Ä√ÄÔøΩ √Ç0√Ö$¬µ^3‚Äû√é?√ó]‚Ç¨‚Ä†√É‚Ä°a√µ√ÄW¬∏!
	?‚Ä°√¢√£√¢√°&nbsp;D/f¬Ω√Ü√°√∞?√à¬≥ √º4¬∑√•√ÆÔøΩ√æ3¬∂!≈ΩC¬∑√ú %0q√£Nj‚Ä¶¬æ√Ä¬©√É√û3Àú|√†8√∏√î√∞@¬°√Å¬°P√Æ4K¬¶x/w¬≥qÔøΩn¬®u√ô√†{A}√Ö¬Æ/√Ω√¥?≈í¬ª‚Äò4+√Ä.√°¬ªo√∂√ÑTtJ¬¥¬ß√Ä√ùw√™2Q// √∏I√Ö√§‚Ä∫√Ç&gt;7√µ√°√∏√†^_¬ΩZ=¬£|√úlC+ÔøΩ‚Ä∫√ÇLaq|v5
a¬™¬∏¬æa√ê√¨&nbsp;}√Ö√¢√∏n√ç,ÔøΩ
¬æ/¬©"√†√†|~w√ç√ÜÔøΩh;√Ö√∞≈∏¬∏¬´
9‚Äî‚Ä¢,k‚Ä∫‚Ä°P∆í√êk‚Äπ√¶ÔøΩ=‚Ä†√ó√ç‚Ä†&gt;^0,‚Äò√Ö√¥√±|x‚Äô√Å¬¨√úL4‚Ä¢√ü‚ÄîÔøΩ‚Ä∫o√¶¬º√ú|N‚Ç¨r¬π¬∏b¬¢‚Ç¨+√±}G≈°wp√¢‚Äπ√•√§&nbsp;√º√ó‚Äî‚Äö/dÀÜ¬æ≈æ√°√Ñ≈æ
%‚Äòpl√∑
!¬πf√Æ;√•‚Äú‚Äô:0%*&nbsp;S.√ÜÀÜ¬ø‚Ä¶¬´√†√∏√Ña√î;4√ë-¬∏√ù√Ät&gt;&gt;¬¥√ì√áF‚Äî‚ÄπN¬ø√≤√±1√Ä
¬≤ea√ºF‚Ç¨L&amp;¬®h¬°p9¬Ω‚Ç¨\F¬π√ï0a¬¥¬°‚Ç¨¬ß≈æ√ø√á¬º√Å
‚Ä¶=√ò√∏q‚Äî√±√ñ‚Äû=G_	`@E√ï√îiXX≈æ√°√µ&nbsp;‚Äù√°s `W¬°√™¬æ+!¬°¬©m7ÀÜ≈í√ú&nbsp;√ò'¬ºG8‚Ç¨√∏¬®√∏√¥ÔøΩ√Ö#ÔøΩ√ûk√í√æ¬¶&nbsp;giy‚Äö√û√é*√πÔøΩ‚ÄîP¬§√£√ä√æ"≈†G√≥√É¬¢t9o&amp;√µ0√¶√∏≈Ωpn‚Ç¨√§¬°
\h=√êp
X)y√±√ê√å¬ø¬¥8&gt;)ÔøΩ√Å‚Ä∫¬ø√Ø	8&gt;¬ø√ª¬∏k√∏‚Ä∞ÔøΩ√†;≈í"√ÑX‚Ä†√ß‚Äú¬™≈íFÔøΩx≈†t¬∑√û¬≠‚Äú@¬±P-√ºÀÜ√°}t$¬≥¬®	√ò√ª√¶‚Ä°¬∏'y8¬ª6√Ä¬∏4¬º√∞∆ír√±n|g√ú‚Äög‚Ä†√Æu√¢√û√ä/4¬ßd`GB‚Ñ¢&amp;^.:√™@9FB/√ÜmI√Ä‚Ç¨+G
ZH¬º√¢`√ÄÔøΩP'ÔøΩ√ºg¬≠¬§8ehK‚Äû&lt;√•h8h.4√£9‚Ç¨√§Z√§≈í‚Äû√ô√ê√£`√ê√õ≈†}&nbsp;‚Äû$√ÆW√º!√£‚Ä¶√û¬∏‚ÄúR{C≈°√æM?‚Ä°&nbsp;‚Äú8@.√∞‚Ä°‚Ä∞¬£‚Ä¶¬±hu√†p_?,‚Ä∞√Ä√â@‚Ñ¢√ø√Ü‚Ç¨R√Ç‚Äú]*‚Äû4;ÔøΩBÔøΩ√ï√£5J√Éw@c≈†t^$¬´√´¬¢¬º	B
ÔøΩ√∏F√≥‚Äö√™jDKB√∞√ö√®√ê&amp;?√Ç<x8¬°ÔøΩ√ô √ùpjc√§√Æ‚Äî≈í√∞√ºa√Ñ√®√∫="" ÔøΩ√ä="" ¬¢i3="">‚Ç¨¬ºf¬∑√™√Å
≈í√Ñ5#8E$W√ë&nbsp;k¬ø"xC‚Ä∫ad√∞G~√©!‚Äì‚Ç¨√è‚Äö√ΩÀÜ\6≈†e¬∏√ã‚Ä°√º'w√£-¬µpÔøΩ‚Äö¬¥√ºe√û√ÉwÔøΩÔøΩC V√Ä@√ß¬¨` H‚Ä†	bX‚Äπ√±ÔøΩ√™	¬∏√™√Å"G√Äq√•h&gt;ÔøΩ&lt;3√£7F‚Ä°√°‚Äö√µ%√±√≥√°≈†4Z√∑v√ë'vh√Ö√∑W√°t¬µ|F|√∂√ú	@R¬°¬∏B¬®&gt;x√äwÀÜNic√ì3√®√†≈∏√û√±‚Äô¬≥‚Ç¨cP√â√¶	p0X ^√ä¬ß‚Ç¨p&amp;¬´r√¥j$P-√∞‚Ç¨√å¬ø√∞√¢¬∫‚Äù‚Äú‚Ä∞¬°√Ä√ì≈æ≈°	¬∫¬°C√í√≤√πÔøΩa√Ñ.	√ûN/ÔøΩ√∞√´√°‚Äù3√Ø/@‚Ä°ÔøΩ¬∞‚Ä¶√¢q√Ø|¬§√Éuk‚Ä∫Àú√òQ√±}x p~^√Å"‚Ä∞yyAl √´‚Äπ√±√°√É¬∏4¬æ/¬©x!ÔøΩi√£¬∞/√ú
E√ï¬∫!¬§
~/√Ç√∫
¬°√Çx¬ø≈Ω√Ä9o√ç√éd`0&gt;^¬ºP¬¢C√ç√å √Ñx¬æÔøΩE$&lt;√ù≈ì√¢√∏¬øÔøΩ¬º{‚Ç¨√±¬±‚Ä†¬§ √æL√±√º¬º|iz/√Ç'bY~|p‚Äì¬π¬∏v,√∫√±|xrZ%√á√Ü'‚Äû¬´√£√êc√Å¬¥¬º≈æ¬¶}√å √ïl?a4ÔøΩTÔøΩ4√õ‚Ä¶√â‚Ä°&nbsp;√Ä_√Ω√ç≈ì√£¬™¬™‚Äπ√áY;√ê≈†(=K√≤2Z8
$¬©3¬∑≈íN√±√†`$4Q‚Äì√∂√ºHl\$X√®pN√Ä/√¢)¬¢H√úc≈Ωh√à'U9√∏B√ì√§√∞+&nbsp;¬∞√≥|X√¢√á\F√éP-[√ú	√É√áGÔøΩ√Ä9u`‚Äì‚Äôg√Ä√ÉÔøΩ¬æG√É‚Äî¬øÀÜÀúQ√É√Ñu(V√†¬º‚Ä¶ÔøΩu√≥√ÖQ√ã¬¢√ÑE√¢#√ÄF¬°√ê√ë¬ØÔøΩ¬∫&lt;]5gLÀÜ√ºuHÔøΩÔøΩJ√êF√á
Ch 	Y0√É√Ø¬ø√á√≥≈Ω√éÀú√ê:√äÔøΩc‚Ä¶
$√ø√ª√∞&nbsp;‚Äö.A√¢c`√Ç√í√öÔøΩ¬Ø√º%8y‚Ñ¢K√ª¬∏√úDpÀÜÔøΩ¬¶(T√ÉÀú &nbsp;oM<oÀÜ√É√®n‚Äû√∫f¬≠x%√Ç√™ÔøΩ¬Ω rÔøΩ¬≤‚Ä†‚Ä°g‚Ä¶√Ø√ü!q√ë√í^?¬±="" √É‚Ä∫√∞t‚Äî¬•p.√àÔøΩ√±¬±="" bl√ªx√ò√Å@k¬±c‚Äö√ñ√ç≈Ω[√Äm="">+xs&lt;5ÔøΩ3√êr√æ√∫\√´√Ä√´√Äy}4UÔøΩ¬´F√º!√ú1ÔøΩ√ã&nbsp;N√æ¬ºPi‚ÄöZ√¨T¬Ωr√≥X1`@√ä$¬∏√ê√´P!`≈ìPZP√ù√°.:2n√ø√°
¬ØeZ√≤(W√ÄV
q¬±√ì√£(gP√πÔøΩ¬¨√ª?√Ép√±'@/√∞√ë√Ç√∏¬º√£-¬ßA√∏‚Äì√∫4&gt;√Å√Äa√ò¬™('3K√éL0√ê/y≈°NÔøΩ√ã$8 ¬∞√£-√û√°¬•√í`√É‚ÄπA¬±√Ø√û, ‚Ä°‚Ç¨^‚Ç¨√º!¬∏D√†√ò¬Ø`≈æ¬π‚Äö¬∂p{q√Ç7‚ÄîÔøΩ√áqÔøΩnn√£√•≈∏K√üK√Ø√ô?‚Äû¬©√êl ¬£√Ç√Å
√æ3V‚Ç¨H[√ü√î√ªE‚Ä†8Àú√é∆ío\1^B√¨¬¢√±√û:_i√î2‚Ä†V≈†≈†√∞p¬ß‚Äûx'n+‚Äπ¬°√∞845`≈°‚ÄπKRT:√Ç&lt;	√ø√ù≈°‚Ç¨¬∑@√õ√∏~%≈Ω¬∫k∆í¬≥√•(√ª√Ä√≥`√≥L*Q√Ä)¬°x¬∏i√í√É¬©j√ú√°{√º!U¬∞ÀÜ^W‚Äö√à%&nbsp;‚ÄîSq¬∞√°‚Ä¢H{‚Äû√¨_‚Äú¬∞≈æ#√≤xI√â√©√ª√†√Ö‚Äπ}√≥√ó√∏G≈ì√´√Ö√å#a√Ö&lt;√á\ÀÜ√ü√ú√æ/¬¶‚Äì√Ö2√èL|0|_N≈†V‚Ä¶j4ÔøΩ√≥/|√∏¬ø‚Ä†P√è¬¥yK√Ü¬Ø/x G√Ü¬Ø/√Å√†1x¬ø¬ª‚Äîm0√í√£¬Øz√è√à¬£√Ö√±&nbsp;A¬•∆í√•√ì√ø/h0√®¬º√úd√¥√ç√º≈∏¬æ√∏¬øÔøΩ¬ª√à‚Äî√¢√∫ÔøΩ√™¬®!:≈í@~n∆í√ùA¬Æn:0√û0|¬º¬™/√Ä√∂C√ç√É‚Äö¬≠q|8∆í`¬Æ√ªÔøΩa√ï√¶√°ÀúQ!√∂yy¬Æ+√∫‚Ç¨¬Æ/ÔøΩH`¬µ&nbsp;√¥√°¬•√ÑC)5‚Äπ≈Ω≈†√ó¬£√æ√∞^¬£¬æld;4√≤5amhq√ø$p9√ê‚Ç¨√ê?‚Äû√ª∆í¬£√Å1√£ÔøΩ√íhi¬¢≈æ24:√≥√Ç√Ç√ä‚Ç¨w√î¬∞ÔøΩ√∞_¬∑P/p~√æ&amp;√â8l¬¥al√≤√∏¬∏~*.‚ÄôO√∞ÔøΩ%√Å4`i%√Ñ‚Äî√£√∏m¬∫¬∏=#√†D√ë6‚Ç¨a¬¥o√°)ÔøΩJA*X+√ø√£:¬∞0!√µ√±#B√á‚Ç¨7‚Äû√å¬Ω
‚Äû_√¢x√∫t‚Ä∫7√æK√õ‚Äö:√≤mO√Åit√§√îa#‚Ä†≈í¬£8√ò√á¬∏¬¨dc√ÇQ√∫¬ØÔøΩ¬π∆í¬π√Æ√ù√§CI‚Äù¬£√å&gt;3√äL5¬∑(1P∆í¬°√Æ√ï√©≈†¬æ‚Äò√ç^"q&nbsp;√ìT‚Ä¢60
?=√£√¢4√∏cNp,&lt;√¥√±√†√è¬°&nbsp;√∫√∞(0~"0$@a&gt;‚ÄûKu&nbsp;?&nbsp;√Ñvy‚Ä¢≈†O‚Ç¨¬°ÔøΩ¬©‚Äî√ó√¢:‚Äù0¬≠!‚Ñ¢√åP=qhh¬≠√ò¬∂‚ÄîÔøΩÀú
:-√í"√™√™b‚Ä°ÔøΩ√∂¬¥'‚Äùp√í&nbsp;√£¬§¬∞0sar¬∑3√¢x√©|¬æ¬º+&nbsp;√≥(‚Äô√ø√∏√éE√ëpg√è≈∏√≠&nbsp;	@`^¬•H$¬∞3ÀÜ4*√Ω¬°√áU√ê√àX2&amp;‚Ç¨√è√é¬¨e√Ä‚Äû√∏¬ø√á√¨59¬∞=√∫,¬§¬´P7b
CÔøΩ√°
L1!&lt;√ùH]‚Äπf¬§ÀÜ¬º&nbsp;√í¬§0'‚ÄûH
?¬ø‚Äû7FA√≥	√Ås√§√à√ò0¬ºo√Ç|7e√∞√∑&nbsp;?q√±¬©‚Ç¨ÔøΩ√°√à¬≥m7√Ö‚Ç¨‚Ç¨¬•B√£&gt;2e√¶\ÔøΩ√§(√ï‚Ä¶√Ω√ã√Å¬πw)≈æ‚Äô√Å√≠√êC√°|m‚Äû√Ä@≈°0wg‚Ç¨?/`¬®¬ºg0!√§¬£v	=GL√à\
0√•¬Æ√é'√£&lt;4‚Äö7¬®J
¬¢‚Ñ¢xK9√°√õ√û3¬´≈°rLlmÔøΩ3|
√ÖO&amp;√Ü√Ö√ë√ì√Ä¬®√ºf¬•¬¢D√Å¬™$)$}‚Äî√¶t√û	≈†√Ö√ö√∞0p$√°U+‚Äπy7
-f¬µ√ê√æ√°√•¬ª‚Ç¨!n√π}}¬ø2√°u1&amp;&lt;;√°√îK√Ö√í√ãf√¢√åy√ìXg√∏GÀúG≈∏¬®Ap~6
&nbsp;H!√≤x√é¬§ √¢/v¬ªP¬æH√è√ø‚Ä∞√°¬¨√¢≈ì¬§√£√£w√∞√ø
"√ß√±≈ì√õ∆í‚Äù/{DÔøΩ.‚Äî‚Äî¬±*‚Ç¨:r&nbsp;≈†C+√Ç&lt;8‚Äî*tLia√ú 4@√°√Ä√Ü]√ü‚Äì√Æ	t√Ö√è√ª√ü√ú$√ékA√∏Os‚Äö¬§C√æ√¢√´ÔøΩ√©J√æ¬±‚Äò¬¥`√Ü/w8
(_6√ó¬£pu√£ÔøΩ√º√êE√ñ\=|e√ú b√û√ª√£√†≈°√Æ"¬ø.^‚Ä¶/¬´√º?¬ºx≈∏√Ø√ü&amp;	√û?√®?‚Äö≈∏UY√¨√∑√àl4ÔøΩ√ºÔøΩ"√ô√±‚Äî√õ√Ø=¬æ√ºp≈ì¬∞5n‚ÄûN√•√û/¬∞A∆í‚Äû]√ã&nbsp;/√òd¬æ√ïdi(√∞≈Ω‚Ñ¢:√Ø√ÄJ√Å¬ºv‚Ä¶LM√±PL√±√õ√ìY√Ö‚Äû√ø√è√Ñ√∞√æ¬±‚Ñ¢¬ø√ÉhWj√£S≈æ/¬µ √ò‚Äú√õQ√Ä0√π¬∏z[√á‚Äî≈íI√∏Fa≈∏√ß√≥.2L √Ém√ò√ü	√ÜÔøΩ}∆íV√ñÔøΩ√Ø√ó√°√àS~W3√éD8ÔøΩ√´√¢√∫√Ø‚Äò√æ√∞ÔøΩ4√ã≈ì¬∏¬æ‚Ç¨#¬£∆íEx√ùÔøΩ√∞7√õjI
Z√¢√∏√Ä¬∏¬®&gt;44&lt;^\¬∂√∑√™√∫K¬™/7‚Ñ¢√ø‚Äö√Ä√¶^Ly¬π¬±√∏w‚Ç¨y√¥¬®A√º(≈∏‚Äπ2√ß¬®√≠ÔøΩÔøΩX√øÀÜ¬∂Àú√Ä8a√Ö√®√™$√Ü√æ"ÔøΩ.√ì√í¬¨‚Ä†‚Äö√°√°Àú_&gt;/√±√î√á√±√ê‚Äî&lt;7√Æ(`KU‚Äö√Ü¬æ‚Ä∫√π#AyHf&nbsp;'√º'√åN∆í3√º√øÔøΩ‚Ç¨‚Äπ\g¬≤‚Äπ√æ¬ø√ö e‚Äù√ã√å¬ø≈Ω√¥0ÔøΩ√ÅpG#/√ü√ß≈†&nbsp;&lt;√†q¬∞5¬ø√ß√¶8√Ö‚Äû¬°ÀÜ%‚Äö≈†ÔøΩ¬πHg¬ª√Ω√ÜG√¨√ºG@√ä¬•√†√±√Å√Ä√¢0√¢¬≥@ÀÜ≈†Nv¬™~&gt;@&amp;Y‚Ä°!ÔøΩ√®‚Ç¨¬ΩÔøΩ√®g√ü≈í¬°¬πt¬®√ô√¨√áB5^\?Po√ü√¢√Æ√ªÔøΩ‚Äû¬ø√¢)ÔøΩ"4&lt;n^¬º¬Ω√òW¬£Z√æ√±K√òn√ÄU&nbsp;~:‚Ä¶√π√∫R‚Äì√õ√¶~√å`ÔøΩ¬πO√ó∆í√Ä¬Æx√á√∂d‚Ä¢‚Äû.,x‚Ä¶h3q‚Äò‚Ä¶√∏≈†√êÀÜT+h√±‚Äù√çP√º}@`?b√ø&amp;‚Äöt¬°√û
DV&lt;¬ø√á`5¬¢√≠∆í/x¬∫^≈í√•√ò¬π√ù‚Ñ¢{ly¬∞‚Äπ¬π[‚Ñ¢√±9
‚Äö'‚Ç¨xl7√°√Æ0¬Ω%o‚Ä¢b√Ø√á√±&nbsp;p+Wa√®&nbsp;p√Ç<lc‚Ä∫√æ√ñ60√út(¬∫[√Äm>+√É√ª‚Ä¢&nbsp;√à√®¬¶√±‚ÄîxC√Å√¨( ¬©z¬¥+ÔøΩ‚Ñ¢h≈Ω√≤¬´√Ä‚Ñ¢ID&nbsp;&gt;^9i√ØE¬∞[√Ñ√∏√´√â4
P∆íG√¢√¥L√á√ÇY≈í‚Äπh¬∞(√∏G‚Äò√Å¬´5√´√π(a√ëW?≈í¬§‚ÄìPrXXx√ïb‚Ç¨&nbsp;$√Ü¬®#
√Å√Üv‚Ä¶√å5‚Äû[√≠h√è‚Äûnx√Ä¬°√òÀÜ√ß∆íV√®√º!√ó‚Ä°x4Z≈†L‚Äúx~√ùÔøΩ√Ö¬¨U¬Ø√ÉyMp%z?√ØG√∞∆íS√Ñ&nbsp;√°v√Ü‚Äö√∫¬ß≈°√†√æ¬®¬≠Q¬π¬µ√£√ü√Ü[;∆íÔøΩ^)√ö√ñ	&nbsp;‚Äû√ÅÔøΩ‚Äò¬®{√æ≈í‚Ä†√ì&nbsp;¬º#√Ü‚ÄölC√út0^‚Ä†¬°√ë*¬¨√ºg‚Ä°¬•√¥¬∂√ê√í	j‚Äù
_ÔøΩÔøΩÔøΩ¬™U∆í√∑√°√à0L1v¬§*∆ís¬∞¬¥;¬§ÀÜ¬ø√É+]√£√†1 &gt;g¬±:[N√¢+¬≤aq≈ì‚Ä¶‚ÄìuP‚Ä°√Ö≈Ω√Å√≠¬£W‚Ç¨√∏√é2_z‚Ä°ÔøΩ√øZ0R&nbsp; √∫‚Ç¨√°√ÑÔøΩ√ëCI. 8√≥X
√áW~;≈ΩE$-‚Ä¶7x=W√åE|&nbsp;√ô√π7≈í‚Ä°√ÑsIh-D‚Ç¨e√¢^?√É0√Ö√Ø$A	‚Äπ0√Ö√∏&gt;√æ'c√É√•¬£√∂:C‚Ç¨ÔøΩ√≤`ÔøΩ√£√æ∆í√πrG√Å&nbsp;¬º_b ‚Ñ¢√¨≈í_	√òe:√•|c_√ç√áAAPA¬º¬º√ù√Ü√©¬∞Z√¢¬∞L√±√õ√ì√≤‚Äì"ÔøΩ√ú‚Äú√û2-ÔøΩ√ú¬ß√ç√°;ÔøΩ‚Äì\_
≈†C√ãO√á‚Äö√º≈ì‚Äò‚Ä†‚Äî√à0L?ÔøΩ`‚Äö'ÔøΩq√∏¬æn√Ö√ïr≈í√≥'\v&nbsp;¬∂√™√Å@√Ö∆íd~E√ï√≥qÔøΩ‚Ñ¢XQ√≤√∑‚Äö√É¬≠?‚Äî√Ç\/‚Äî‚Äöm¬¨‚Äò√É¬¥√±|√¨≈ìK!IR	√º_`√Ñ√¶s‚Ä∞%√¢√∏bRP¬¥√ï√Ö√∞N√º√£71¬∞"`3√ç√ÉÔøΩ¬π¬ºNLy¬π¬±√∏w‚Ç¨y√í¬°L_√∞¬¢~,√ã≈æ¬£¬∂&gt;5c√æ"∆íPCÔøΩ√†√Ä&gt;¬±√Å2√±√èt&nbsp;‚Ä¢√ó√∞‚Ä¢√ô√≠¬¶√ö~√™O√§¬∞≈íd8√ê¬∂≈ì(¬§@\A≈íÀÜ1¬∞/t¬∏6‚Ä¢a
√ó`@`√ÇJ√Ω5H√ºM‚Ä°ÔøΩ|l‚Ä¶√É0√å‚Äûh#¬Ø{≈æ≈Ω√øÀÜ¬±8‚Ç¨g\p¬¨aDq-¬≠≈æ#√ò√Ñ√ï‚ÄπÔøΩ√ü√ÑX(‚Ç¨√êK!≈í&lt;∆í‚Ñ¢‚ÄπR≈æ"‚Ñ¢Uq%pC18√Äd≈∏‚Äûl	h,H`¬ª≈∏|√æ√¢.√¥√†≈°‚Ç¨.\WA√î0&gt;¬≠≈ìlz&lt;#√ºE	≈í‚Äò`e&nbsp;√Ä√í¬∞/xFu√§√¶4√ô@√ù√ö¬ß√£#√£∆íp√É‚Äô¬°√®3ÀÜ√ïl√∫¬∫T3ÔøΩ√±u√Ñ√§√´Q√©a√ö¬∑?ÀÜ¬¢≈íva¬¢t√ù]ÔøΩx≈ΩÔøΩ√ò¬ºU7ÔøΩ¬ª√±√´‚ÄöÔøΩ‚Ä¢¬¢V‚Ä°W√∏‚Ä∞G√òq√ë√ú√Å¬¨t√∏√é‚Ç¨:≈°\#M.!ÀÜ¬π‚Ä∞$√º≈æ√ç√ΩWt9‚Ç¨cÔøΩ¬π√≥ar¬∑3√¢x√©|¬æ¬º+&nbsp;√≥(‚Äô√ø√∏≈Ω¬£√ÅgP¬¨√±≈ì!√Ö%!x¬£h-Eq}B3≈í¬∞'&nbsp;¬®|e¬¥√É√®_a}√¥!√Ét	&nbsp;¬Æt‚Äúg√Å√≠f√Å¬©7p√ºf√õ√ëx√êB¬¢n¬Ø≈ì≈æJh2¬æ√Ω¬¥√∑¬¨&nbsp;y√∏√éÔøΩ‚Äîw
"`¬µ'‚ÄùF√ó
9√ë8b√∞√°≈ì%√É√•as≈°√ê√Ö∆í¬•‚Ñ¢a≈∏√Ü‚Ä¶√¥√æ√£√É≈æ‚Ä∞C≈ì√á:√á√∞√ö‚Äî"√¨Xv‚Ç¨&amp;‚Ä¢H√ó&gt;.√≤√¥5√î√Ö¬© (√æN√±√í√ø,p¬∫3ÔøΩx√Æ6(√ÅT√É:√¶R¬•‚Ä°¬∏‚Äû&nbsp;+xGN?`√ã@√ï√º`qO@¬∫(yÀú+√°	‚Äî√ê&nbsp;&amp;√ïÀÜÀÜ¬™‚Ä∫‚Ç¨√Ü‚Ä∞√û3√ÉHÀúd3‚ÄùFÔøΩ√Ç‚Ä†#√¶f}√éV√ø√∞√¨&gt;\M√º√ø¬Ω¬¥;A.;@√±‚Äì√Ç&amp;o√Ç#GmY√ÅÔøΩ√∞‚Ä∞√Üg¬∏|√ë∆í√¨G‚Äû/¬ª8Àú√°
g∆í√™ÔøΩJ@Ji

F\G√µ√Ç√∑√á^@@√∞≈∏ÔøΩ6≈°√òF√ÆY√¢¬µm√≥√ê√Ç\ÔøΩZ8¬∏√®24√ó√°:8(rW√µ√¢ÔøΩx¬¢x‚Ä°|/√á√â¬≥
GdX)¬∂&gt;¬∞:P5 p+f‚Ä∞&nbsp;√∞ÔøΩ√∞‚Ä¶D¬§
√†	y√™≈ìL3√Ø√Ö~&lt;√Ø\3@D‚Äπ‚Äö√´‚Äî‚Ä°P¬±‚Ç¨√â‚Äû√Æ?√©√º-√îe‚Ñ¢¬•¬¢≈∏√Ω√ÉR√†√ø√°√ø¬ø¬∞√ê√ß¬∞√àq√Ä|√ú√ê]√ó√πY¬ª√º¬º&gt;ÀÜ¬£√Éq|d1¬•C√∏√Æ%O√ã√É¬∞V√êJ√õ√Ç9‚Äú:√≥√°√∏ÔøΩ@0DaO0√É√Ø¬ø√Ü‚ÄöZ√∞∆íx¬æpD5/~‚Äò;√Ä~nPiÔøΩ¬´‚Äπ√§1qc1√•√≠O√ÜTAÀÜuW‚Äπ√∞¬µ√ª$0|_¬∞∆í√£4w√¨√ê%√ã√ÉÀÜD‚Äô!+√¢g√§√ü(@%xG&gt;x√†¬®Àú√û2OW‚Äπ√±ÔøΩ
√≠¬©H√Ö√µ!≈ìl¬∞√Ä√º√ù √í√∂^Àú√ë~≈∏‚Ç¨≈ìV¬º√ú√ó3	√ú√ì√∏W&nbsp;‚Ä∞&nbsp;√í√™‚Äû¬≤C√≤¬≠¬±√±¬´√±ÔøΩ√å
{¬£&nbsp;tÔøΩ)√∂√•\X$f&gt;	Ae√º%2‚Ç¨¬®√íD∆í∆í√∞_Ow¬±√û√ã√Ña¬¥]ÔøΩ√™
V√¨+ia¬Ω‚Ñ¢¬Ω√Æ√ê√£√π√ì√Ä√ªE\@‚Äò√£¬°¬®√º?√¶√øÀÜ¬µ@≈Ωa√Ö√∫√ê‚Äù¬¥¬®o¬°0/EtX√òh4?u‚Äö√†√®√ä√±√ò&amp;√ô√è\‚Ä†‚Äù‚Äö¬¶_√±√ï3‚Ñ¢√î¬∑√¢/¬∞‚Ç¨W√¢√ÅX√Åj√ÑZ√≥,[z¬±|
¬∏√¢+√Å‚Äô!C√ïpX|¬∫pA\ÔøΩ√ºG;1¬¢‚Ä†‚Ä†‚Ç¨‚Ä°√¢(n√•√æ≈Ω√§√å~kT&gt;"√±w√ë√Ä≈ì - ‚Ä∞√ú√±√Å≈∏√æ¬∞t√î&nbsp;z7\DpS<yi‚ÄúÀÜ*≈Ω‚Ä†4.√áz ¬Æ≈íu="" ÔøΩ¬†¬£0√•√¶u√ü√Ü]√´√ó√†√†2&k√°√§7√ó√ºd‚Ä∞√ß√π√øp√å|√º√õu√ó0.√á‚Ä¶√áp="" 2_q‚Ä∫√ü‚Äû√∞∆í="" ÔøΩ¬¶√Ä√¨√í√ótp√ú5#√†‚Äî≈í√°‚Äû]j="" ≈∏?√õjt√™t‚Äök8∆íb¬†¬ø¬≠h#√∏√ä‚Äö√°√à="">¬¨U3√ê#f.&lt;≈°√ÄB√ª¬´√∏√è ‚Äò√õ‚Ä°!√ê√î‚Ç¨√òY¬¥¬©‚Ñ¢
^‚Ç¨^:√∏√∞√°~‚Ä°¬Ω∆í≈Ω≈Ω√úe√®g‚Ç¨3≈Ω&nbsp;!‚Äò√∞√Ä√ç‚Ä∫√†_¬º√∏√∫‚Äù√ë-‚Äù3√∏M√¨~√¨4√∏ÔøΩ‚Ç¨q√Ö√±ÔøΩ‚Ñ¢¬±i|=¬ºe√∂4c√Å¬ΩnPÀÜ√∏AU¬∫√î!√ÄN¬§#√ê,dd¬ØE&amp;≈ì√ú¬§d√Ü¬•√°G¬≤‚Äò_?√Ö√ï&amp;ÔøΩJ√Ä;F≈æh|M√ü0 C&nbsp;√ê√ò√ºg
√É9p √®‚Äû¬¨
√ê √åZ{-¬®√ºM√©a√±¬≠‚Ä°√ëgB√±p√î)¬∂‚Äò+√áA
[‚Äô_‚ÄûxK‚Ä†n8√ú√∂"o:(L¬∏√£¬≠√î‚Äû
¬∏t0√æ¬∂√ö¬±√É√Ä;√±≈ì√ÉÔøΩo¬∞G∆íÔøΩ¬°@√üADx¬∂¬¨p¬±√ì]7√°
vÔøΩ¬°√¥‚Äû≈ì¬∂√°¬π√™*√ø√äÔøΩ¬§\T¬¨4√ºg`C√ØO{c√ÜB|a√§SB¬®‚Ä¶x¬∞√∏√è‚Äû√é&gt;√±√î¬•W‚Ç¨O√•√ºMx%√¨x√é¬™w√á
%√°√Å¬∞√†3&lt;√∏‚Ä°&nbsp;¬≥t√°≈†√ä√†√†q&nbsp;	:√∑√à%u0!&gt;-√ª√ó∆íw≈í√ê‚Ä¶</yi‚ÄúÀÜ*≈æ‚Ä†4.√ßz></lc‚Ä∫√æ√∂60√ºt(¬∫[√†m></oÀÜ√£√®n‚Äû√∫f¬≠x%√¢√™ÔøΩ¬Ω></x8¬°ÔøΩ√π></g></o√£8√∞g^√™√∫4q-√ß√¶c;@ÔøΩwÔøΩ√∂‚Ç¨!{¬®√ß‚Ç¨_√¢\6√º¬®7√¶+$√±=j‚Ä¶!h≈æ‚Ç¨m√•√∂></m√Æ√¶√¢√∞√®√∂¬∞¬∫7></us&√Æ></rb‚Äò¬ß√¢;‚Ä†¬πx√∏¬∏?¬ßpp></a></s></b></u></i></s></s></u></b></u></u></u></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://diablo.im/~ross/pb/20201220-085332.mp4">https://diablo.im/~ross/pb/20201220-085332.mp4</a></em></p>]]>
            </description>
            <link>https://diablo.im/~ross/pb/20201220-085332.mp4</link>
            <guid isPermaLink="false">hacker-news-small-sites-25487215</guid>
            <pubDate>Sun, 20 Dec 2020 16:13:49 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Get Started with Tmux]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25487152">thread link</a>) | @sunainapai
<br/>
December 20, 2020 | https://sunainapai.in/blog/get-started-with-tmux/ | <a href="https://web.archive.org/web/*/https://sunainapai.in/blog/get-started-with-tmux/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

<p>Published on 2020-12-20 by <b>Sunaina Pai</b></p>
<h2>To Tmux or Not to Tmux, That Is the Question!</h2>

<p>
Before getting started with tmux, let us go over some questions to see
if tmux is right for you:
</p>

<ul>
  <li>
    Do you use a terminal as part of your your development workflow?
  </li>
  <li>
    Do you use multiple terminals in different tabs or windows to
    navigate files, edit text, compile and run code, tail log files,
    push code to repository, and run one-time adhoc commands?
  </li>
  <li>
    Do you work on multiple projects at a time, each with its own set of
    workflow and environment requirements, and often have to switch
    context?
  </li>
  <li>
    Do you SSH into remote systems?
  </li>
  <li>
    Have you ever got disconnected from a remote SSH session in the
    middle of a task that you were running and monitoring?
  </li>
</ul>

<p>
If you answered yes to any of these questions, then tmux is for you!
</p>


<h2>What Is Tmux?</h2>

<p>
Tmux is a terminal multiplexer. You can run multiple terminal programs
inside tmux, all of which can be accessed from the single terminal that
is running tmux. This is called a tmux session. You can have multiple
such tmux sessions, say one for each project you are working on. You can
detach from a tmux session and later reattach to it. When you run
programs in a tmux session, the session remains intact and continues
running your programs even if you detach from the session. You can start
where you left off the previous day, or you can even access the session
from a different computer.
</p>

<p>
If you have worked with remote servers using remote desktop connection,
you will be familiar with how the applications that you open in the
server are kept as is even when you disconnect. You can then resume the
session by reconnecting to it. You can even reconnect to the remote
desktop using a different client or a different computer. Tmux helps you
to achieve similar results for terminal sessions.
</p>

<p>
When you run the <code>tmux</code> command, tmux starts a server process
if it is not already running, and a tmux session is created. The tmux
server runs as a background process in your system and manages all the
terminals running inside tmux. You can create additional sessions in the
tmux server if needed by using the <code>tmux</code> command. A tmux
session is a group of related tmux windows. Think of all the terminal
tabs you open to get to your development workflow of a particular
project. All these can be grouped together as windows in a tmux session.
A tmux window comprises of one or more panes. Each pane is like a
terminal by itself. Panes can be organized vertically, horizonatally, or
a mix of both. Think of editing, compiling, and executing code on the
left pane while tailing a related log file on the right pane as an
example. At any given time, there is one active pane where the commands
you type are accepted. You can switch between panes, windows, and
sessions as needed.
</p>

<div>
<p><a href="https://sunainapai.in/img/technology/get-started-with-tmux/tmux-session.png" target="_blank"><img src="https://sunainapai.in/img/technology/get-started-with-tmux/tmux-session.png" alt="A screenshot of tmux with multiple sessions, windows and panes"></a>
</p> <!-- end images -->
<p><span>Tmux with multiple sessions, windows, and panes</span>
</p> <!-- end captions -->
</div> <!-- end gallery -->

<p>
Let us now see how to get started with tmux.
</p>


<h2>Install Tmux</h2>

<p>
If you are on a Debian, Ubuntu, or another Debian-based system, enter
the following command:
</p>

<pre><code>sudo apt-get install tmux</code></pre>

<p>
If you are on macOS with Homebrew installed, enter the following
command:
</p>

<pre><code>brew install tmux</code></pre>

<p>
If you are on any other system or environment, see
<a href="https://github.com/tmux/tmux/wiki/Installing">Tmux Wiki:
  Installing</a> for installation details.
</p>


<h2>Create, Detach From, and Attach to Sessions</h2>

<p>
To create a new tmux session, enter the following command:
</p>

<pre><code>tmux</code></pre>

<p>
Run some program in this session. Maybe tail a log file. This will help
with the next steps where you detach and reattach to a session.
</p>

<p>
To detach your terminal from a tmux session, enter the following
command:
</p>

<pre><code>tmux detach</code></pre>

<p>
Tmux will keep your session intact. All your programs keep running on
the server. To attach your terminal as a client back to an existing tmux
session, enter the following command:
</p>

<pre><code>tmux attach</code></pre>

<p>
Note that it is not necessary to type out the <code>tmux</code> commands
in full. You can use any unambiguous abbreviation of the commands. For
example, <code>tmux det</code> and <code>tmux at</code> are equivalent
to <code>tmux detach</code> and <code>tmux attach</code>, respectively.
</p>

<p>
By default, the new sessions are named 0, 1 and so on. To choose another
name for the session, use the following command to start a new session:
</p>

<pre><code>tmux new -s &lt;session-name&gt;</code></pre>

<p>
Here <code>&lt;session-name&gt;</code> denotes the name of the session
you choose. You can also rename an existing session with this command:
</p>

<pre><code>tmux rename &lt;new-name&gt;</code></pre>

<p>
If you have multiple tmux sessions running and you want to target a
specific session to rename, you can use the <code>-t</code> option to
specify the session name you want to target, like this:
</p>

<pre><code>tmux rename -t &lt;session-name&gt; &lt;new-name&gt;</code></pre>

<p>
Without the <code>-t</code> option, it renames the current session.
</p>

<p>
The <code>-t</code> option is useful for attaching to a specific tmux
session too when multiple tmux sessions are running. By default
<code>tmux attach</code> attaches to the most recently used session that
is not attached. You can attach to a specific session like this:
</p>

<pre><code>tmux attach -t &lt;session-name&gt;</code></pre>

<p>
Sometimes while attaching to a tmux session, you might want to detach
the other clients to connected to it. That can be achieved with the
following commands:
</p>

<pre><code>tmux attach -d</code></pre>
<pre><code>tmux attach -d -t &lt;session-name&gt;</code></pre>

<p>
While you are inside a tmux session, you can also change the name of the
attached session by using the key-sequence <code>C-b $</code> which
prompts for a new name for the session. The key-sequence <code>C-b
$</code> is bound to the <code>rename</code> command that you saw above.
Similarly, the key-sequence <code>C-b d</code> is bound to the
<code>detach</code> command. To understand how tmux key bindings and
commands work together, read the next two sections.
</p>


<h2>Understand Tmux Prefix Keys</h2>

<p>
Once you attach your terminal as a client to a tmux session, all
keystrokes are sent to the program running in the active pane of the
current tmux window. By default it is your shell. For key-sequences that
control tmux itself, a special key-sequence called the prefix key must
be pressed. By default the prefix key is <code>C-b</code>. Here
<code>C</code> denotes the <code>Ctrl</code> modifier key, i.e., to
enter <code>C-b</code>, press and hold the <code>Ctrl</code> key, then
press and release the <code>b</code> key, and finally release the
<code>Ctrl</code> key. When the prefix key is entered like this, tmux
waits for another keystroke or key-sequence to determine which tmux
command needs to be executed. For example, when you enter <code>C-b
$</code> to rename the current session, <code>C-b</code> is the prefix
key that tells tmux that you are going to invoke a tmux command and then
the <code>$</code> keystroke tells tmux that you want to invoke the tmux
<code>rename</code> command.
</p>


<h2>Key Bindings, Commands, and Command Prompt</h2>

<p>
The key-sequence <code>C-b ?</code> shows the list of key bindings along
with short descriptions about what they do. The output is shown in the
view mode in the active pane. The pane in view mode has its own key
bindings which don't need the prefix key. By default the view mode has
Emacs key bindings that you can use to navigate the output. However, it
can be configured to use vi key bindings too.
</p>

<p>
Any time key bindings are used, they run the underlying tmux commands.
For example <code>C-b c</code> runs the <code>neww</code> command that
creates a new window. Commands can be run directly from the shell as you
saw when you created new session using the <code>tmux new</code>
command. Just like any other Unix commands, tmux commands have zero or
more command line options that may or may not accept arguments. For
example, the <code>attach</code> command that you saw earlier accepts
the <code>-d</code> option to detach any other clients that are attached
to the session. This option does not require an argument. The
<code>attach</code> command also accepts another option <code>-t</code>
that requires an argument to specify the name of the target session you
want to attach to.
</p>

<p>
You might mostly want to use the key bindings to manipulate tmux because
they are convenient. However, the tmux commands can be useful especially
when you want to perform a task that is supported only by an option. The
tmux commands are also useful if you want to write a script to
manipulate tmux.
</p>

<p>
Tmux commands can be run from the shell as you have seen so far. There
is also an interactive command prompt available within tmux that you can
open using <code>C-b :</code>. This prompt accepts tmux commands. For
example, <code>C-b :neww</code> creates a new window in the attached
session. Some of the tmux commands run in this manner show the output in
the view mode in the active pane. For example, <code>C-b :ls</code>
shows the list of all available sessions.
</p>


<h2>Create New Windows in a Session and Switch Between Them</h2>

<p>
You can create new window in a session by using <code>C-b c</code> or
<code>C-b :neww</code>. Each window is numbered starting from 0. Every
new window is created at the first available index. This means that if
there are gaps in the list of window numbers, a new window occupies the
first available number in the gaps. The new window thus created becomes
the current window of the session. The current window is identified by
the <code>*</code> suffix in its name and the previous window is
identified by the <code>-</code> suffix in its name.
</p>

<p>
If you want to create a new window but not make it the current window,
you can do so with the <code>-d</code> option like this: <code>C-b :neww
-d</code>. You can also create a window at a specific index by using the
<code>-t</code> option like this: <code>C-b :neww -t 9</code>.
</p>

<p>
<code>C-b 0</code> takes you to window 0, <code>C-b 1</code> takes you
to window 1, and so on until <code>C-b 9</code>. <code>C-b '</code>
prompts for an index to switch to that window. This can be useful if you
want to go to windows with indices greater than 9. <code>C-b p</code>
takes you to the previous window and <code>C-b n</code> takes you to the
next window in the window list by index. <code>C-b l</code> takes you to
the last window that was active before the current one. This is very
useful for alternating between two windows again and again.
</p>

<p>
To rename the current window, you can use <code>C-b :renamew
  &lt;new-name&gt;</code> or <code>C-b ,</code> which prompts for the
new name for the window.
</p>

<p>
I find it convenient not to exceed 10 windows (indices 0-9) in a
session, so that I can switch between them using <code>C-b
&lt;number&gt;</code>.
</p>


<h2>Create New Panes in a Window and Switch Between Them</h2>

<p>
You can create a new pane by splitting a pane in a window. <code>C-b
  %</code> splits the current pane into left and ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://sunainapai.in/blog/get-started-with-tmux/">https://sunainapai.in/blog/get-started-with-tmux/</a></em></p>]]>
            </description>
            <link>https://sunainapai.in/blog/get-started-with-tmux/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25487152</guid>
            <pubDate>Sun, 20 Dec 2020 16:03:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Simple Neural Network (200 loc, rust)]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25486966">thread link</a>) | @cynik_
<br/>
December 20, 2020 | https://explog.in/notes/funnn.html | <a href="https://web.archive.org/web/*/https://explog.in/notes/funnn.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">

<p>
I've always enjoyed terse programs that show how things work
<i>without</i> magic hiding incidental complexity. After realizing that my
initial attempt at a neural net only cost <span>less than 200 lines of Rust</span>,
I decided to take a snapshot and write about building it before I go
on and extend (and possibly over-complicate or abandon) the system.
</p>

<p>
More than anything else, treat this as encouragement to write your own
neural network ‚Äì the core implementation turned out to be
surprisingly compact ‚Äì enough to encourage me to write about it.
</p>

<p>
<b>This is not an introduction to neural nets</b>: There are several excellent
resources already available online that can describe the underlying
math and structure of networks; I'll just talk through them enough to
explain the structure of the code.
</p>

<p>
It's also entirely likely that I have mistakes in here; this was
written quickly with the main <b>aim</b> of encouraging more people to write
their own nets from scratch ‚Äì and given one simple point for
comparison. If you do write your own, please share it with me!
</p>

<div id="outline-container-orgd2852bf">
<h2 id="orgd2852bf">Choosing a simple problem &amp; architecture</h2>
<div id="text-orgd2852bf">
<p>
Achieving SotA on MNIST is an explicit non-goal: this project is aimed
at exploring the mechanics of a neural network, and being able to play
around with it while changing one feature at a time.
</p>

<p>
Instead of trying to see if the network can accurately predict results
from data I can't understand or reason about, I'm going to have the
network try to behave like a simple continuous function of my choice
instead ‚Äì I'll play with different functions like \(y=x^2\), \(y=x^3\),
\(y=x * sin(x)\), etc.
</p>

<p>
This greatly simplifies some parts of the network ‚Äì there's a single
input, and single output. The <a href="http://neuralnetworksanddeeplearning.com/chap4.html">Universality Theorem</a> suggests that I
should be able to get fairly far with a single layer, so that's where
I'm starting.
</p>

<p>
I like <a href="https://www.kaggle.com/dansbecker/rectified-linear-units-relu-in-deep-learning">ReLU</a> and leaky ReLU because of their simplicity, and I'll stick
with them here ‚Äì though I don't have any strong justification about
the choice of activation function yet.
</p>
</div>
</div>

<div id="outline-container-org4236674">
<h2 id="org4236674">Building the network</h2>

<div id="outline-container-orgcfce027">
<h3 id="orgcfce027">Storing a network</h3>
<div id="text-orgcfce027">
<p>
The very first decision was figuring out how to store the neural
network ‚Äì my very first attempt at doing this involved a lot of pure
functions and state being passed around all over the place which
quickly became messy ‚Äì it was much more maintainable to have a single
place to represent a neural network.
</p>



<p>
Happily enough, with the decision to have a single input and output, a
single hidden layer means that there are only so many weights I need
to store. 
</p>

<p>
The overall structure is fairly simple:
</p>
<pre>
    o
  /   \
x - o  - y
  .   .
   . .
    o 

</pre>

<p>
Before drawing in the calculations that need to happen, I'm going to
introduce a system for indexing nodes which should make this much
easier to talk about and parse:
</p>
<pre>
          Layer -&gt;
   +-------------------------&gt;
   |    
N  |               0       1
e  |               |       |
u  |          0 -  o       .
r  |       /         \     .
o  | 0 - x -  1 -  o - 0 - y
n  |       .         .
|  |        .       .
v  |         ns -  o
   v               

</pre>

<p>
It's a fairly simple system for drawing neurons ‚Äì a layer index that
starts at the first hidden layer; and a per-layer index into the
neuron itself.
</p>

<p>
For each <b>weight</b> in the system, there are going to be 3 coordinates:
the neuron it's at, and then the <i>input</i> it's specified for ‚Äì this is a
little bit different than most online courses, because I'm <i>not</i>
directly using vectors to be very explicit about the underlying
calculations (both avoiding matrix calculations and paying the price
in terms of speed as the price).
</p>

<p>
Drawing in the calculations for evaluating the network forward to make
this a little bit more concrete:
</p>

<pre>         0    1
         |    |                   layer input   
                                    |     |
     0 - o &lt;------- n[0,0] = relu(w[0, 0, 0]x + b[0, 0, 0])
  /        \                           |
x -  1 - o -  y                      neuron   
  .        .   \
   .      .     relu(sum(w[1, x, i]*n[0, i] + b[1, x, i]))
    ns - o

</pre>

<p>
I also have somewhat stronger constraints on the potential values for
my indexes:
</p>
<ul>
<li>for layer = 0
<ul>
<li>the neuron's index can go from 0 -&gt; <code>ns</code> (number of neurons)</li>
<li>the input can only be 0</li>
</ul></li>
<li>for layer = 1
<ul>
<li>the neuron's index can only be 0 (just one output)</li>
<li>and the input can go from 0 -&gt; ns (# of neurons in previous layer)</li>
</ul></li>
</ul>
<p>
In the code, I often refer to the <code>[layer, neuron, input]</code> index as <code>[x,
y, z]</code>.
</p>

<p>
Having this written out explicitly helped me a lot in implementing the
network, and I hope the constraints should make sense to you given the
structure of the network.
</p>

<p>
Finally, instead of dealing with initializing and taking care of
multi-dimensional vectors or arrays, I'm going to use a trick I often
rely on in Advent of Code for complex grid structures and keep a
single vector ‚Äì with a function to translate my custom indexing
system into offsets.
</p>

<div>
<pre><span>struct</span> <span>Net</span> {
    <span>ws</span>: <span>Vec</span>&lt;<span>f64</span>&gt;,
    <span>bs</span>: <span>Vec</span>&lt;<span>f64</span>&gt;,
    <span>ns</span>: <span>usize</span>,
}

<span>impl</span> <span>Net</span> {

    <span>pub</span> <span>fn</span> <span>new</span>(<span>ns</span>: <span>usize</span>) -&gt; <span>Net</span> {
        <span>let</span> <span>size</span> = ns * 2;
        <span>let</span> <span>ws</span>: <span>Vec</span>&lt;<span>f64</span>&gt; = <span>vec!</span>[0; size]; <span>// </span><span>This will change</span>
        <span>let</span> <span>bs</span>: <span>Vec</span>&lt;<span>f64</span>&gt; = <span>vec!</span>[0; size]; 

        <span>Net</span> { ws, bs, ns }
    }

    <span>pub</span> <span>fn</span> <span>pt</span>(<span>self</span>: &amp;<span>Self</span>, <span>x</span>: <span>usize</span>, <span>y</span>: <span>usize</span>, <span>z</span>: <span>usize</span>) -&gt; <span>usize</span> {
        <span>match</span> x {
            0 <span>if</span> z == 0 &amp;&amp; y &lt; <span>self</span>.ns =&gt; y,
            1 <span>if</span> y == 0 &amp;&amp; z &lt; <span>self</span>.ns =&gt; <span>self</span>.ns + z,
            _ =&gt; <span>panic!</span>(<span>"Invalid location: {}, {}, {}"</span>, x, y, z),
        }
    }
}
</pre>
</div>
</div>
</div>


<div id="outline-container-orgf6e246d">
<h3 id="orgf6e246d">Initializing the network</h3>
<div id="text-orgf6e246d">
<p>
Starting the network with all weights initialized to 0 is a good way
to get stuck with 0 gradients during gradient descent: and a good
experiment to run while running the code yourself.
</p>

<p>
For this first iteration, I'm hard coding random initialization of
weights into the program ‚Äì but I'll expose another function that
accepts custom initial weights in the next iteration for exploration.
</p>

<div>
<pre><span>+</span><span> use rand::thread_rng;</span>
<span>+</span><span> use rand::{distributions::Standard, Rng};</span>

  impl Net {

      pub fn new(ns: usize) -&gt; Net {
          let size = ns * 2;
<span>-</span><span>         let ws: Vec&lt;f64&gt; = vec![0; size]; // This will change</span>
<span>+</span><span>         let ws: Vec&lt;f64&gt; = thread_rng().sample_iter(Standard).take(size).collect();</span>
<span>-</span><span>         let bs: Vec&lt;f64&gt; = vec![0; size]; </span>
<span>+</span><span>         let bs: Vec&lt;f64&gt; = thread_rng().sample_iter(Standard).take(size).collect();</span>

          Net { ws, bs, ns }
      }

  }
</pre>
</div>

<p>
And a corresponding dependency in <code>Cargo.toml</code>:
</p>
<pre>[dependencies]
rand = "0.7.3"
</pre>

<p>
I admit being disappointed about having to use an external crate that
<i>does</i> have some magic, but RNGs are another black box to open and play
with for another day.
</p>
</div>
</div>

<div id="outline-container-org2965953">
<h3 id="org2965953">Evaluating a single point</h3>
<div id="text-org2965953">
<p>
Up next is evaluating the value predicted by the network at a single
point, which is a straight forward traversal through the network. I'm
going to use a leaky ReLU as my activation function, so I'll quickly
define it:
</p>

<div>
<pre><span>fn</span> <span>relu</span>(<span>v</span>: <span>f64</span>) -&gt; <span>f64</span> {
    <span>if</span> v &gt;= 0.0 {
        v
    } <span>else</span> {
        0.01 * v
    }
}
</pre>
</div>

<p>
First, I'm going to throw in several utility functions to access or
calculate values in different parts of the net ‚Äì in my first
implementation, I extracted these out after implementing back-prop,
but there's no harm in putting them up here first.
</p>

<div>
<pre><span>impl</span> <span>Net</span> {

    <span>/// Relu(w * input + b) for coordinates x, y, z with input val</span>
    <span>fn</span> <span>rwxb</span>(<span>self</span>: &amp;<span>Self</span>, <span>val</span>: <span>f64</span>, <span>x</span>: <span>usize</span>, <span>y</span>: <span>usize</span>, <span>z</span>: <span>usize</span>) -&gt; <span>f64</span> {
        relu(<span>self</span>.wxb(val, x, y, z))
    }

    <span>/// w * input + b for coordinates x, y, z with input val</span>
    <span>fn</span> <span>wxb</span>(<span>self</span>: &amp;<span>Self</span>, <span>val</span>: <span>f64</span>, <span>x</span>: <span>usize</span>, <span>y</span>: <span>usize</span>, <span>z</span>: <span>usize</span>) -&gt; <span>f64</span> {
        <span>self</span>.w(x, y, z) * val + <span>self</span>.b(x, y, z)
    }

    <span>fn</span> <span>w</span>(<span>self</span>: &amp;<span>Self</span>, <span>x</span>: <span>usize</span>, <span>y</span>: <span>usize</span>, <span>z</span>: <span>usize</span>) -&gt; <span>f64</span> {
        <span>self</span>.ws[<span>self</span>.pt(x, y, z)]
    }

    <span>fn</span> <span>b</span>(<span>self</span>: &amp;<span>Self</span>, <span>x</span>: <span>usize</span>, <span>y</span>: <span>usize</span>, <span>z</span>: <span>usize</span>) -&gt; <span>f64</span> {
        <span>self</span>.bs[<span>self</span>.pt(x, y, z)]
    }

}
</pre>
</div>

<p>
Iterating through the net and calculating values lends itself
comfortably to Rust's beautiful iterator/expression based system:
</p>

<div>
<pre><span>impl</span> <span>Net</span> {
    <span>pub</span> <span>fn</span> <span>eval</span>(<span>self</span>: &amp;<span>Self</span>, <span>val</span>: <span>f64</span>) -&gt; <span>f64</span> {
        relu(
            (0..<span>self</span>.ns)
                .map(|i| <span>self</span>.rwxb(<span>self</span>.rwxb(val, 0, i, 0), 1, 0, i))
                .sum(),
        )
    }
}
</pre>
</div>

<p>
If you look at the diagram, I need to calculate the values of the
individual neurons ‚Äì \(Relu(w * x + b)\) ‚Äì which can be expressed as
<code>rwxb(x, 0, i, 0)</code> with <code>x</code> as the input and <code>i</code> ranging from <code>0</code> to <code>ns</code>
(number of neurons).
</p>

<p>
Then, the value of y is the value of these neurons as inputs added up,
and passed through Relu <i>again</i>. Which  is exactly what the function
above does.
</p>

<p>
(I admit to messing up the naming convention a little bit with x
playing double duty as both the input and the first coordinate; I'll
try to clean this up later if I find anyone actually reading this post.)
</p>
</div>
</div>

<div id="outline-container-org016c8dc">
<h3 id="org016c8dc">Expenses</h3>
<div id="text-org016c8dc">
<p>
Keeping loss as simple as possible, I'm simply calculating it as \((y -
y')^2\) at a data point. The <i>cost</i>, or loss across a given set of data
is then the average of the total loss. The implementation is as
straightforward as you would expect, given data in the form of tuples.
</p>

<p>
This is yet another decision to play around with in the future with
alternative functions.
</p>

<div>
<pre><span>impl</span> <span>Net</span> {
    <span>pub</span> <span>fn</span> <span>cost</span>(<span>self</span>: &amp;<span>Self</span>, <span>data</span>: &amp;[(<span>f64</span>, <span>f64</span>)]) -&gt; <span>f64</span> {
        <span>let</span> <span>mut</span> <span>loss</span> = 0.0;
        <span>for</span> (x, y) <span>in</span> data {
            <span>let</span> <span>val</span> = <span>self</span>.eval(*x);
            loss += (y - val).powi(2);
        }
        loss / <span>self</span>.ns <span>as</span> <span>f64</span>
    }
}
</pre>
</div>
</div>
</div>

<div id="outline-container-org414d409">
<h3 id="org414d409"><a href="https://www.youtube.com/watch?v=_YYmfM2TfUA">Training!</a></h3>
<div id="text-org414d409">
<p>
Training involves calculating the cost for a given set of inputs,
determining the gradients of the cost for that set of inputs in terms
of all the weights and biases.
</p>

<p>
And then updating the weights and biases with the given learning rate
‚Äì which involves even more decisions and hyperparameters.
</p>
</div>
</div>

<div id="outline-container-org5642496">
<h3 id="org5642496">Determining the gradient</h3>
<div id="text-org5642496">
<p>
This was the hardest part of the whole exercise: packages like Pytorch
allow automating the gradient calculation ‚Äì by swapping out the
implementation of all the other mathematical functions, and
transparently converting that to the gradient with <code>autodiff</code>.
</p>

<p>
Instead of building a system to do ‚Ä¶</p></div></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://explog.in/notes/funnn.html">https://explog.in/notes/funnn.html</a></em></p>]]>
            </description>
            <link>https://explog.in/notes/funnn.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25486966</guid>
            <pubDate>Sun, 20 Dec 2020 15:40:12 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Virtual tour of Chauvet Cave, dating back as far as 36,500 years ago]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25486861">thread link</a>) | @parisianka
<br/>
December 20, 2020 | https://archeologie.culture.fr/chauvet/en/explore-cave/brunel-chamber-south | <a href="https://web.archive.org/web/*/https://archeologie.culture.fr/chauvet/en/explore-cave/brunel-chamber-south">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://archeologie.culture.fr/chauvet/en/explore-cave/brunel-chamber-south</link>
            <guid isPermaLink="false">hacker-news-small-sites-25486861</guid>
            <pubDate>Sun, 20 Dec 2020 15:28:10 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Convos: A Persistent Self-Hosted Web Client for IRC]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25486728">thread link</a>) | @crecker
<br/>
December 20, 2020 | https://serhack.me/articles/convos-web-client-persistent-irc/?h=1 | <a href="https://web.archive.org/web/*/https://serhack.me/articles/convos-web-client-persistent-irc/?h=1">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><img src="https://serhack.me/images/convos/convos.png" alt="The IRC Client: Convos"></p><p>Throughout 2020, in large part due to the lockdown, many people have started to become familiar with internal communication tools. Microsoft Teams, Slack, Telegram, Mattermost, and a few others are the most widely used and recognizable of these tools, but there still seems to be some people using Internet Relay Chat (IRC) ‚Äï one of the first online messaging services.</p><p>Many of the widely used international communication tools have been inspired by IRC, which is gradually falling into disuse due to the modern UI and UX and additional features being offered by these more well-known messaging applications.</p><p>Despite IRC being considered archaic, it is still being used today as a meeting place for many online communities. For example, people who are nostalgic for the early days of the Internet and users of, and contributors to, open-source software projects make IRC a place for discussion ‚Äï where it is not the identity that defines who you are, but the content.</p><p>In this article, I will illustrate what IRC is and share with you a product that greatly enhances the IRC protocol by adding features that are common to modern messaging applications. If you are searching for a convenient, self-hosted solution to connect to IRC, then this article is for you.</p><p>In the following paragraphs, we will discuss:</p><ul><li>What the IRC communication protocol is;</li><li>Getting a persistent, always-online chat on IRC;</li><li>Convos, an alternative to IRCCloud and its features;</li><li>The installation of Convos on Debian/Ubuntu; and</li><li>Convos configuration.</li></ul><h2 id="the-irc-communication-protocol">The IRC Communication Protocol</h2><p>IRC is a service that facilitates online communication via messages based on the ‚Äúclient-server‚Äù model. In a more technical and precise way, IRC can be considered a network protocol (at the application level) that uses a network composed of servers to easily send messages to network participants.</p><p>Developed in 1988 by Jarkko Oikkarinen, a Finnish student who wanted to create a communication system that would enable real time discussions for a network at his university, IRC quickly expanded to the point where more than 200,000 users were connected every day.</p><p>To start exchanging messages, the user must first connect to the IRC network via a client (e.g., <a href="https://www.pidgin.im/">Pidgin</a>, mIRC), which then connects to the server closest to the user in order to ensure high-speed performance. There are several networks, such as <a href="https://freenode.net/">Freenode</a>, <a href="https://www.swiftirc.net/">Swift IRC</a>, <a href="http://www.ircnet.org/">IRCNet</a>, and <a href="https://www.quakenet.org/">QuakeNet</a>.</p><p>Within IRC, you log in with a nickname (ASCII characters). This allows you to be recognized by the network to which you have connected. To initial a conversation, there are two different ways: start <strong>a private chat</strong> with another user (query) or connect to a <strong>channel</strong>.</p><p>A channel is a dedicated place to chat with a group of users, without writing to each one separately. It might sound strange nowadays, but in the late 1980s and early 1990s, this was viewed as revolutionary and a game changer with regard to how people connected over the Internet. A channel is typically administered by users, called operators, with special privileges and the ability to turn people away and invite them, make the channel private (invisible to the network), set a password, and much more.</p><p>From a technical point of view, an IRC network, currently described by the standard <a href="http://www.faqs.org/rfc/rfc1459.txt">RFC 1459</a>, is composed of several nodes maintained by a centralized entity. When a user with a special client connects to one of the servers, the whole network must be informed about the presence of this client, replicating across all servers the following: nickname, name of the host from which the client has access to the Internet, and the name of the server to which this host is connected.</p><p>Regarding the nickname, you might wonder if another person could impersonate your nickname. The solution to this problem is to register your nickname with a password, so that (in the future) the server can ask you to identify yourself with the password. Here you can read about <a href="https://meta.wikimedia.org/wiki/IRC/Instructions">How to register your nickname on Freenode</a>.</p><p>As alluded to above, from a historical point of view, IRC represents a consolidated communication protocol that is still used today as a discussion environment for people who are nostalgic for the early days of the Internet and users of, and contributors to, open-source software projects. In a way, this has influenced the basic UI and UX of IRC. Today, this appreciation has gone well beyond these users, as IRC has inspired our modern day messaging applications. As an example, Slack is a sexier version of IRC ‚Äï dressed up with better UI and UX and having a few modernized features. At their core, though, IRC and today‚Äôs messaging applications are no different, as groups are the channels, queries are the private chats, and operators are the administrators.</p><p>If you would like to discover all the commands to better manage your own channel, I suggest you to read <a href="https://en.wikipedia.org/wiki/List_of_Internet_Relay_Chat_commands">the list of commands available on IRC</a>.</p><p>For a long time, IRC has been a gathering place for many communities, including Firefox, Bitcoin, Gnome, and many others. IRC has also been the site of many historic ‚Äújokes'' on the Internet. It would be remiss of me not to mention some of these most notable moments: <a href="http://bash.org/?244321">Hunter2</a>, <a href="http://bash.org/?5273">the guy who lost a device in his apartment</a>, and the timeless <a href="http://bash.org/?400459">‚Äúdoes anyone speak python here?"</a>.</p><figure><img src="https://imgs.xkcd.com/comics/team_chat.png"><figcaption><h4>IRC will never die (gently provided by XKCD)</h4></figcaption></figure><p>Arguably the biggest disadvantage of IRC is that you cannot always be connected to a specific server, unless you leave the client on all the time. Unlike normal messaging clients, you will not receive messages if you are not present on the IRC network. In fact, the remote nodes of IRC do not store any messages!</p><p>One of the solutions for this problem is to buy a <a href="https://en.wikipedia.org/wiki/Virtual_private_server">VPS</a> and manage the connection to IRC via a text client with a command line interface. However, this can be inconvenient on mobile devices and, specifically, for a person unfamiliar with the command line. To get around this problem, there is a free self-hosted alternative called Convos that allows you to connect via a web interface to IRC, but that‚Äôs not all!</p><h2 id="convoschat-the-solution-to-always-being-connected">Convos.chat: The Solution to Always Being Connected</h2><p><a href="https://convos.chat/">Convos</a> is an open-source, self-hosted client for connecting to IRC maintained by <a href="https://thorsen.pm/">Jan Henning Thorsen</a> and <a href="https://marcus.means.no/">Marcus</a>. The backend was developed with <a href="https://mojolicious.org/">Mojolicious</a>, a Perl framework, while the front-end used the Javascript framework <a href="https://svelte.dev/">Svelte</a>.</p><p>Developed in 2014, Convos has evolved into a very interesting project, despite being maintained by only one person. Among its main features, we find the persistent IRC connection that eliminates the risk of missing some important discussions! The user is connected as long as the Convos daemon is active and each message is stored in a log accessible only to the owner of the server.</p><p>Convos is one of the simplest ways to use IRC and it is always online, so initiating and staying in a discussion has never been easier. Its simple interface allows you to send messages on IRC from any device, be it a smartphone or a fridge ‚Äï you just need a browser. You can also choose a theme from those available or <a href="https://convos.chat/blog/2020/6/14/create-your-own-theme-detailed-walkthrough">write your own</a>. Another advantage of Convos is its self-hosted nature. There is no centralized third-party server (like with <a href="https://irccloud.com/">IRCCloud</a>) that stores your messages. With Convos, no one besides you will see your IRC messages and logs.</p><figure><img src="https://serhack.me/images/convos/screenshot.jpg"><figcaption><h4>Convos User Interface</h4></figcaption></figure><p>If you need to upload a file, but do not want to share it with third parties, Convos allows you to upload a file of any extension to your server. Drag and drop the file and Convos will do the rest, creating a unique link for you to share in order to access the file. Want to delete it? You can do it without any problem!</p><p><img src="https://serhack.me/images/convos/drag_and_drop.gif" alt="Drag and Drop per Convos"></p><p>For text files, it gets even better. All messages that will have more than four ‚Äúline breaks‚Äù will be uploaded to a personalized pastebin.</p><p>As we are all well aware, in 2020, having an <a href="https://unicode.org/emoji/charts/full-emoji-list.html">Emoji</a> available is a must! Just type <code>:emoji_name</code> to see the list of emojis available on Convos. Note that all <a href="https://unicode.org/">Unicode</a> characters are also compatible, so across smartphones there will be no problems. You can also add links and make <strong>bold</strong> and/or <em>italicize</em> your posts with <a href="https://www.markdownguide.org/">Markdown</a>.</p><p>Given that IRCCloud is a service (with similar features) that is both <strong>centralized</strong> and <strong>expensive</strong>, <a href="https://convos.chat/">Convos</a> is the leading free alternative. Over the past few years, IRCCloud‚Äôs infrastructure has suffered several periods of downtime, which has impacted many (if not all) its users. Unlike IRCCloud, the expenses and stability of running a private server for Convos is more cost-efficient and reliable, especially when compared to the pricing model (per user/per month) and the fragile nature of the IRCCloud infrastructure.</p><h3 id="how-to-start-chatting-with-convos">How to Start Chatting with Convos</h3><p>Installation and configuration of Convos is very simple and does not require any special knowledge of shell scripting. The developers have prepared a very convenient way to run script, so that you will be able to install the Web client quickly.</p><div><pre><code data-lang="bash">root@nodo#: curl https://convos.chat/install.sh | sh -</code></pre></div><p>Here is the <a href="https://convos.chat/install.sh">Script code</a>, if you want to view it. If the script did not show any problems, we can proceed by starting the Convos daemon:</p><div><pre><code data-lang="bash">root@nodo#: ./convos/script/convos daemon</code></pre></div><p>Launch your browser and enter <code>http://localhost:3000</code> to start chatting. There are no additional steps. You only have to choose the IRC network (e.g. Freenode) and Convos will do the rest!</p><p>Since you will be the first user, by default you will be set up as the Convos administrator. This will allow you to manage users, reset passwords as needed or create new ones, and set some <a href="https://convos.chat/doc/config#global-config-settings">global environment variables</a> as the default Convos connection.</p><p>You can change the listening port or IP address via the <a href="https://convos.chat/doc/config#listen"><code>--listen</code></a> flag; although, it is strongly recommended to run Convos behind a proxy server.</p><p>If you want to run Convos through a proxy server, I recommend you read the guide <a href="https://convos.chat/doc/reverse-proxy">‚ÄúHow to Run Convos Behind Your Favourite Server‚Äù</a>. A reverse proxy is a particular application that acts as an intermediary, in this case, between the client (the user) and the Convos daemon. It is useful if you want to have features such as SSL management, load balancing, compression, and ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://serhack.me/articles/convos-web-client-persistent-irc/?h=1">https://serhack.me/articles/convos-web-client-persistent-irc/?h=1</a></em></p>]]>
            </description>
            <link>https://serhack.me/articles/convos-web-client-persistent-irc/?h=1</link>
            <guid isPermaLink="false">hacker-news-small-sites-25486728</guid>
            <pubDate>Sun, 20 Dec 2020 15:13:06 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Project Gemini FAQ: Modern Gopher as Anti-Web]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25486665">thread link</a>) | @rendx
<br/>
December 20, 2020 | https://proxy.vulpes.one/gemini/gemini.circumlunar.space/docs/faq.gmi | <a href="https://web.archive.org/web/*/https://proxy.vulpes.one/gemini/gemini.circumlunar.space/docs/faq.gmi">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <div><p>Please send corrections or suggestions for additional questions to</p><p>&lt;solderpunk@posteo.net&gt;</p><p>Gemini is a new application-level internet protocol for the distribution of arbitrary files, with some special consideration for serving a lightweight hypertext format which facilitates linking between files.  You may think of Gemini as "the web, stripped right back to its essence" or as "Gopher, souped up and modernised a little", depending upon your perspective.  Gemini may be of interest to people who are:</p><div><ul><li>Opposed to the web's ubiquitous user tracking</li><li>Tired of obnoxious adverts, autoplaying videos and other misfeatures</li><li>Interested in low-power computing and/or low-speed networks</li></ul></div><p>Gemini is intended to be simple, but not necessarily as simple as possible.  Instead, the design strives to maximise its "power to weight ratio", while keeping its weight within acceptable limits.  Gemini is also intended to be very privacy conscious, to be difficult to extend in the future (so that it will *stay* simple and privacy conscious), and to be compatible with a "do it yourself" computing ethos.  For this last reason, Gemini is technically very familiar and conservative: it's a protocol in the traditional client-server request-response paradigm, and is built on mature, standardised technology like URIs, MIME media types, and TLS.</p><div><p><span>###</span></p><h3>1.2 Whose fault is Gemini?</h3></div><p>Project Gemini was started by Solderpunk &lt;solderpunk@posteo.net&gt;, who remains Benevolent Dictator For Now.  However, the protocol has been designed in collaboration with a loose and informal community of interested parties via emails, phlog and Fediverse posts.  Many people have shaped significant parts of the protocol, so Gemini should not be thought of as the work of one person.</p><div><p><span>###</span></p><h3>1.3 Where can I learn more?</h3></div><p>The official home of Project Gemini is the gemini.circumlunar.space server.  It serves the latest version of this FAQ document, as well the protocol specification and recommended best practices via Gemini, Gopher and HTTPS, on IPv4 and IPv6.</p><p>Official discussion regarding Gemini happens on a mailing list.  You can subscribe to the list and view archives at https://lists.orbitalfox.eu/listinfo/gemini.  Archives can also be viewed over Gemini at gemini://rawtext.club:1965/~sloum/geminilist/.</p><p>Anybody who is running a Gemini server or implementing a Gemini client or server software is strongly encouraged to subscribe to the list.</p><p>Casual discussion regarding Gemini also happens in the #gemini channel on the tilde.chat IRC server.  IRC logs can be viewed over Gemini at gemini://makeworld.gq/cgi-bin/gemini-irc.</p><div><p><span>###</span></p><h3>1.4 Do you really think you can replace the web?</h3></div><p>Not for a minute!  Nor does anybody involved with Gemini want to destroy Gopherspace.  Gemini is not intended to replace either Gopher or the web, but to co-exist peacefully alongside them as one more option which people can freely choose to use if it suits them.  In the same way that many people currently serve the same content via gopher and the web, people will be able to "bihost" or "trihost" content on whichever combination of protocols they think offer the best match to their technical, philosophical and aesthetic requirements and those of their intended audience.</p><div><p><span>###</span></p><h3>1.5 What's with the name?</h3></div><p>It's a reference to the pre-shuttle era of US manned spaceflight, which consisted of three projects.  The first was Project Mercury, which was a fairly minimalist "proof of concept" and part of the race to put a human in space soonest (which the Soviet Union won with their Vostok project).  Mercury was a one-man capsule with no ability to adjust to its own orbit after launch and only one Mercury flight lasted longer than a single day.  The last was Project Apollo, which was large, heavy, complicated and expensive but could, of course, fly three men to the moon and back.</p><p>Less well known to the modern public, Project Gemini was the "middle child": a two person capsule which could rendezvous and dock with other craft in orbit, could be depressurised and repressurised in orbit to facilitate spacewalks, and whose longest flight was almost two weeks - longer than any Apollo mission!  In terms of size, weight and cost Gemini was much closer to Mercury than to Apollo, but in terms of capabilities it was the other way around - there were even plans (which never eventuated) to do circumlunar Gemini flights!</p><p>Hopefully the analogy is obvious: Gopher is akin to Mercury, and the web is akin to Apollo.  Gemini hopes to sit between the two, doing more with less.</p><p>Gemini very deliberately didn't receive a name which had *anything* to do with gophers, or other rodents, or even other animals.  During the earliest phlog-based discussions which eventually grew into Project Gemini, a lack of careful writing meant it was sometimes unclear whether people were talking about replacing Gopher outright, or adding unofficial, compatibility-breaking upgrades into existing Gopher clients and servers.  When idle discussion turned into an actual project, it seemed wise to send a clearer message.</p><div><p><span> ##</span></p><h2>2.1 What are the design criteria for Gemini?</h2></div><p>The following criteria were informally put in place at the beginning of the project.  It's debatable how closely some of these goals have been met, but in general Gemini is still quite close to this target.</p><p>In particular, Gemini strives for simplicity of client implementation.  Modern web browsers are so complicated that they can only be developed by very large and expensive projects.  This naturally leads to a very small number of near-monopoly browsers, which stifles innovation and diversity and allows the developers of these browsers to dictate the direction in which the web evolves.</p><p>Gemini aims to be simple, but not *too* simple.  Gopher is simpler at a protocol level, but as a consequence the client is eternally uncertain: what character encoding is this text in?  Is this text the intended content or an error message from the server?  What kind of file is this binary data?  Because of this, a robust Gopher client is made *less* simple by needing to infer or guess missing information.  Early Gemini discussion included three clear goals with regard to simplicity:</p><div><ul><li>It should be possible for somebody who had no part in designing the protocol to accurately hold the entire protocol spec in their head after reading a well-written description of it once or twice.</li><li>A basic but usable (not ultra-spartan) client should fit comfortably within 50 or so lines of code in a modern high-level language.  Certainly not more than 100.</li><li>A client comfortable for daily use which implements every single protocol feature should be a feasible weekend programming project for a single developer.</li></ul></div><p>It's debatable to what extent these goals have been met.  Experiments suggest that a very basic interactive client takes more like a minimum of 100 lines of code, and a comfortable fit and moderate feature completeness need more like 200 lines.  But Gemini still seems to be in the ballpark of these goals.</p><p>Gemini is designed with an acute awareness that the modern web is a privacy disaster, and that the internet is not a safe place for plaintext.  Things like browser fingerprinting and Etag-based "supercookies" are an important cautionary tale: user tracking can and will be snuck in via the backdoor using protocol features which were not designed to facilitate it.  Thus, protocol designers must not only avoid designing in tracking features (which is easy), but also assume active malicious intent and avoid designing anything which could be subverted to provide effective tracking.  This concern manifests as a deliberate non-extensibility in many parts of the Gemini protocol.</p><p>The "first class" application of Gemini is human consumption of predominantly written material - to facilitate something like gopherspace, or like "reasonable webspace" (e.g. something which is comfortably usable in Lynx or Dillo).  But, just like HTTP can be, and is, used for much, much more than serving HTML, Gemini should be able to be used for as many other purposes as possible without compromising the simplicity and privacy criteria above.  This means taking into account possible applications built around non-text files and non-human clients.</p><div><p><span> ##</span></p><h2>2.2 Which shortcomings of Gopher does Gemini overcome?</h2></div><p>Gemini allows for:</p><div><ul><li>Unambiguous use of arbitrary non-ASCII character sets.</li><li>Identifying binary content using MIME types instead of a small set of badly outdated item types.</li><li>Clearly distinguishing successful transactions from failed ones.</li><li>Linking to non-gopher resources via URLs without ugly hacks.</li><li>Redirects to prevent broken links when content moves or is rearranged.</li><li>Domain-based virtual hosting.</li></ul></div><p>Text in Gemini documents is wrapped by the client to fit the device's viewport, rather than being "hard wrapped" at ~80 characters with newline characters.  This means content displays equally well on phones, tablets, laptops and desktops.</p><p>Gemini does away with Gopher's strict directory / text dichotomy and lets you insert links in prose.</p><p>Gemini mandates the use of TLS encryption.</p><div><p><span> ##</span></p><h2>2.3 Is Gopher's directory / text dichotomy *really* a shortcoming?</h2></div><p>Modern usage habits in the phlogosphere would seem to suggest that many people think it is.  An increasing number of users are serving content which is almost entirely text as item type 1, so that they can insert a relatively small number of "in line" links to other gopher content, providing some semblance of HTML's hyperlinking - a perfectly reasonable and inoffensive thing to want to do.  Without taking this approach, the best Gopher content authors can do is to paste a list of URLs at the bottom of their document, for their readers to manually copy and paste into their client.  This is not exactly a pleasant user experience.  But forcing hyperlinks into Gopher this way isn't just an abuse of the semantics of the Gopher protocol, it's also a surprisingly inefficient way to serve text, because every single line has to have an item type of i and a phony selector, hostname and port ‚Ä¶</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://proxy.vulpes.one/gemini/gemini.circumlunar.space/docs/faq.gmi">https://proxy.vulpes.one/gemini/gemini.circumlunar.space/docs/faq.gmi</a></em></p>]]>
            </description>
            <link>https://proxy.vulpes.one/gemini/gemini.circumlunar.space/docs/faq.gmi</link>
            <guid isPermaLink="false">hacker-news-small-sites-25486665</guid>
            <pubDate>Sun, 20 Dec 2020 15:05:10 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Bad News: Cold Weather Increases Fomite Spread of SARS-CoV-2]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25486663">thread link</a>) | @buddhacobbler
<br/>
December 20, 2020 | https://smosa.com/bad-news-cold-weather-will-help-the-spread-of-sars-cov-2/ | <a href="https://web.archive.org/web/*/https://smosa.com/bad-news-cold-weather-will-help-the-spread-of-sars-cov-2/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>

					<!-- .post-header -->


					<div>
						<p>The holiday season is still not done delivering bad news. With ICUs at 0% capacity in some parts of the United States, Public health officials wonder if the seasonal change alone will affect the transmission of SARS-CoV-2. A recent research study has studied the influence of temperature and humidity on the properties of individual virus-likes.</p><blockquote>When it comes to fighting the spread of this virus, you kind of have to fight every particle individually. And so you need to understand what makes each individual particle degrade. People are also working on vaccines and are trying to understand how the virus is recognized? All of these questions are single particle questions. And if you understand that, then that enables you to fight a hoard of them.</blockquote><p>The results indicate cold weather could have a preserving effect on the virus. The first study to evaluate the mechanics of the virus at a single particle stage, found that other coronaviruses tend to infect more people during the winter months.</p><figure><img src="https://smosa.com/content/images/2020/12/Picture1.png" alt="" srcset="https://smosa.com/content/images/size/w600/2020/12/Picture1.png 600w, https://smosa.com/content/images/size/w1000/2020/12/Picture1.png 1000w, https://smosa.com/content/images/2020/12/Picture1.png 1302w" sizes="(min-width: 720px) 720px"><figcaption>Source: <a href="https://edition.cnn.com/interactive/2020/health/coronavirus-us-maps-and-cases/">CNN; Johns Hopkins University</a></figcaption></figure><p>"You would expect that temperature makes a huge difference, and that's what we saw. To the point where the packaging of the virus was completely destroyed by even moderate temperature increases," said Michael Vershinin, assistant professor at the University of Utah and co-senior author of the paper. "What's surprising is how little heat was needed to break them down -- surfaces that are warm to the touch, but not hot. The packaging of this virus is very sensitive to temperature."</p><figure><img src="https://images.unsplash.com/photo-1491002052546-bf38f186af56?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDJ8fHdpbnRlcnxlbnwwfHx8&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=2000" alt="Snowshoeing on a snowy day at Gold Creek Pond." srcset="https://images.unsplash.com/photo-1491002052546-bf38f186af56?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDJ8fHdpbnRlcnxlbnwwfHx8&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=600 600w, https://images.unsplash.com/photo-1491002052546-bf38f186af56?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDJ8fHdpbnRlcnxlbnwwfHx8&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=1000 1000w, https://images.unsplash.com/photo-1491002052546-bf38f186af56?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDJ8fHdpbnRlcnxlbnwwfHx8&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=1600 1600w, https://images.unsplash.com/photo-1491002052546-bf38f186af56?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDJ8fHdpbnRlcnxlbnwwfHx8&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=2200 2200w" sizes="(min-width: 720px) 720px"><figcaption>Photo by <a href="https://unsplash.com/@sametomorrow?utm_source=ghost&amp;utm_medium=referral&amp;utm_campaign=api-credit">Adam Chang</a> / <a href="https://unsplash.com/?utm_source=ghost&amp;utm_medium=referral&amp;utm_campaign=api-credit">Unsplash</a></figcaption></figure><p>The SARS-CoV-2 virus is typically transmitted by spreading respiratory particles (e.g. sneezing or coughing), which ejects droplets of the microscopic aerosols from the lungs. These mucus droplets have a high volume-to-surface ratio and dry fast, so that wet and dry virus particles come in contact with a surface.</p><p>Scientists examined virus-like particles on both dry and humid glass surfaces. They found relatively little variation between humidity levels on the surfaces. But scientists point out that humidity potentially matters when the particles in the air by impacting how easily the aerosols dry out.</p>
					</div><!-- .post-content -->

					<!-- .post-footer -->


				</article></div>]]>
            </description>
            <link>https://smosa.com/bad-news-cold-weather-will-help-the-spread-of-sars-cov-2/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25486663</guid>
            <pubDate>Sun, 20 Dec 2020 15:04:59 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Improving Haskell (GHC) Error Messages]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25486629">thread link</a>) | @_query
<br/>
December 20, 2020 | https://ihp.digitallyinduced.com/ShowPost?postId=03e5a442-8b81-4b80-a000-29a3e7f10adf | <a href="https://web.archive.org/web/*/https://ihp.digitallyinduced.com/ShowPost?postId=03e5a442-8b81-4b80-a000-29a3e7f10adf">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><em>by Marc Scholten, 20.12.2020</em></p>
<p>The quality of GHC's error messages is making it harder for newcomers to adopt Haskell. A good error message should be clear, actionable, and practical. In this aspect GHC could be a lot more user-friendly.</p>

<p>Here's an example related to type-level-list syntax that often comes up in the IHP community:</p>

<pre>action CreateUserAction = do
        let user = newRecord @User
        let password = param @Text "password"
        user
            |&gt; set #passwordHash password
            |&gt; fill @["email"]
            |&gt; validateField #email isEmail
            |&gt; validateField #passwordHash nonEmpty
            |&gt; debug
            |&gt; ifValid \case
            Left user -&gt;
                render NewView {..}
            Right user -&gt; do
                hashed &lt;- hashPassword (get #passwordHash user)
                user
                    |&gt; set #passwordHash hashed
                    |&gt; createRecord

                setSuccessMessage "You have successfully registered"
</pre>

<p>This code snippet errors with:</p>

<pre>Web/Controller/Users.hs:16:23
    * Expected a type, but `"email"' has kind `Symbol'
    * In the type `["email"]'
      In the second argument of `(|&gt;)', namely `fill @["email"]'
      In the first argument of `(|&gt;)', namely
        `user |&gt; set #passwordHash password |&gt; fill @["email"]'
   |
16 |             |&gt; fill @["email"]
   |                       ^^^^^^^
</pre>

<p>Unless you know about the type-level-list syntax issue with <code>'</code> you will most likely get stuck.</p>

<p>A better error message could offer a solution that will most likely help:</p>

<pre>Web/Controller/Users.hs:16:23
    * Type level lists with only a single element need a ' in front of the list. Prepend a ' like `'["email]' to get it working.
    * In the type `["email"]'
      In the second argument of `(|&gt;)', namely `fill @["email"]'
      In the first argument of `(|&gt;)', namely
        `user |&gt; set #passwordHash password |&gt; fill @["email"]'
   |
16 |             |&gt; fill @["email"]
   |                       ^^^^^^^
</pre>

<p><a href="https://github.com/digitallyinduced/ihp/issues/587" target="_blank">We've collected a couple more real-world issues on GitHub with possible better alternatives.</a></p>

<p><strong>I'd like to start a discussion in the larger haskell community on this so we can find a process on how we can improve this longterm.</strong> E.g. maybe we could have a central repository where haskell users could report bad and unclear error messages.
</p>

<p>There's <a href="https://github.com/haskell/rfcs">haskell/rfcs</a> for new GHC features, so why don't we have a repository like <code>haskell/ux</code> where we can collect ideas to improve existing features?</p>

<p><em>Let me know what you think about this <a href="https://github.com/digitallyinduced/ihp/issues/587">on GitHub</a> or Reddit.</em></p></div></div>]]>
            </description>
            <link>https://ihp.digitallyinduced.com/ShowPost?postId=03e5a442-8b81-4b80-a000-29a3e7f10adf</link>
            <guid isPermaLink="false">hacker-news-small-sites-25486629</guid>
            <pubDate>Sun, 20 Dec 2020 15:01:11 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[From JavaScript to WebAssembly]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25486464">thread link</a>) | @tosh
<br/>
December 20, 2020 | https://engineering.q42.nl/webassembly/ | <a href="https://web.archive.org/web/*/https://engineering.q42.nl/webassembly/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-main">
    <div>

        <article>

            

            <figure>
                <img srcset="https://engineering.q42.nl/content/images/size/w300/2020/09/Going-From-JavaScript-to-WebAssembly-in-Three-Steps.png 300w,
                            https://engineering.q42.nl/content/images/size/w600/2020/09/Going-From-JavaScript-to-WebAssembly-in-Three-Steps.png 600w,
                            https://engineering.q42.nl/content/images/size/w1000/2020/09/Going-From-JavaScript-to-WebAssembly-in-Three-Steps.png 1000w,
                            https://engineering.q42.nl/content/images/size/w2000/2020/09/Going-From-JavaScript-to-WebAssembly-in-Three-Steps.png 2000w" sizes="(max-width: 800px) 400px,
                        (max-width: 1170px) 1170px,
                            2000px" src="https://engineering.q42.nl/content/images/size/w2000/2020/09/Going-From-JavaScript-to-WebAssembly-in-Three-Steps.png" alt="Going from JavaScript to WebAssembly in three steps">
            </figure>

            <section>
                <div>
                    <!--kg-card-begin: markdown--><p>Hi! I'm Marcel, web developer at <a href="https://www.q42.com/">Q42</a> and creator of the <a href="https://micr.io/">Micrio storytelling platform</a>.</p>
<p>In 2015, I started developing a JavaScript viewer for ultra high resolution 2D and 360¬∞ images with added markers, tours, audio, and more. Since then, I've been pushing to find the best balance between hardware performance, minimal CPU and bandwidth use, and compatibility for older browsers to deliver a sharp and high quality viewing experience.</p>
<p>For Micrio, it is vital that the performance on the client's browser is as good as possible. The reason for this is very simple: when you are being told a story, or watching a movie, even <em>a single frameskip</em> immediately takes you out of your experience.</p>
<p>Since Micrio is being used for an <a href="https://micr.io/showcases">ever growing list</a> of awesome projects, the most important thing is that for whoever visits a Micrio project, it must work, and <em>work well</em>: delivering fast load times, and a butter smooth interactive experience.</p>
<p><a href="https://webassembly.org/">WebAssembly</a> (Wasm) is the ability for your browser to run <em>compiled</em> code at (near-) native speeds. It is now recognised by the W3C as the <a href="https://www.w3.org/2019/12/pressrelease-wasm-rec.html.en">4th official web programming language</a>, after HTML, CSS and JavaScript.</p>
<p>With it, you can run compiled code written in a variety of programming languages (C/C++, Rust, Go, AssemblyScript, <a href="https://github.com/appcypher/awesome-wasm-langs">and many more</a>) in your browser, without any need for plugins.</p>
<p>Finding out about Wasm in late 2019 really made me want to try it out. Could I use this tech to make the Micrio client run smoother than the current version does? Would I need to rewrite everything in C++, and if so, how would that work? Would the effort be worth the gains it would give me? And not in the least.. <em>how does it work!?</em></p>
<p>This article describes my journey from upgrading the Micrio <strong>JavaScript-only client to use WebAssembly</strong>, with the hopes of improving performance, and taking my code to the next level.</p>
<h3 id="thecurrentversion">The current version</h3>
<p>To give a rough idea about the tech stack of the current latest JS-only revision of Micrio (<a href="https://b.micr.io/micrio-2.9.min.js">version 2.9</a>): This library as a single JS file works on all semi-modern browsers, including even Internet Explorer 10 for 2D, and IE 11 for 360¬∞ images.</p>
<p>It uses Canvas2D for the rendering of 2D images, and <a href="https://threejs.org/">three.js</a>/WebGL rendering for 360¬∞ images. Written in <a href="https://caniuse.com/#search=es6">ES6 JavaScript</a> (or ECMAScript 6, the latest version of JavaScript), it still <a href="https://developers.google.com/closure/compiler">compiles</a> to ES5 to support Internet Explorer 11.</p>
<p>As you can imagine, displaying a <a href="https://micr.io/i/xCSYV/">231.250 x 193.750 pixel image</a> in your browser in a matter of milliseconds, allowing the user to freely zoom in and navigate, requires a little bit of processing power.</p>
<p>Now, Micrio 2.9 <em>isn't bad</em>. It runs pretty smoothly on all devices. But with WebAssembly around the corner, allowing all calculations to be done at native CPU speeds, this could potentially make a big difference in making Micrio's performance even better, and could improve the code architecture a lot.</p>
<p>And, perhaps, this could also mark the setup for a new major version, where I will draw a clear line and drop all compatibility and polyfills for older browsers: <strong>Micrio 3.0</strong>.</p>
<h2 id="firstrewritecandemscripten">First Rewrite: C++ and emscripten</h2>
<p>As a first step into the world of WebAssembly, getting to know the ecosystem, I started to play around with <a href="https://emscripten.org/">emscripten</a>. With it, you can take almost any project made in C or C++, and compile it to a binary <code>.wasm</code> file that your browser can natively run.</p>
<p>At this point, I didn't really have a clear image of where WebAssembly starts and ends, and how autonomously it could run inside your browser. So I started a new project from scratch to see if I could make a C++-implementation of the basic Micrio logic: a virtual <em>zoomable</em> and <em>pannable</em> image consisting of a lot of separate tiles, using a virtual camera for displaying only the tiles necessary for what the user is viewing inside your screen.</p>
<p>It turns out, emscripten already had great compatibility for <a href="https://www.libsdl.org/">libsdl</a>: a low-level audio, keyboard/mouse input, and OpenGL library. Which is awesome, because I could write my code using this very well documented library, even including mouse and key inputs and WebGL rendering. Since I was also working with downloading images, I also used the <a href="https://github.com/nothings/stb">stb_image.h</a> image library.</p>
<p><img src="https://raw.githubusercontent.com/marcelduin/Micrio.Blogpost.wasm-v3/master/img/cpp.png" alt="Setting up SDL and OpenGL" title="C++ in the 21st century"></p>
<p>The largest struggle of this was picking up C++ again, never having used it outside of hobby scope many years ago. But after a few days of cursing and second guessing myself, I had a working first version with all of the most important features written with help of the SDL library:</p>
<ul>
<li>A virtual camera and all necessary viewing logic;</li>
<li>Image tiles downloading;</li>
<li>Rendering using WebGL(/OpenGL) using a simple shader;</li>
<li>Mouse event handling for panning and zooming the image;</li>
<li>Resize event handling to fit Micrio to the desired <code>&lt;canvas&gt;</code> HTML element</li>
</ul>
<p>You can see this version running here: <a href="https://b.micr.io/_test/wasm/index.html">https://b.micr.io/_test/wasm/index.html</a> :</p>
<p><a href="https://b.micr.io/_test/wasm/index.html"><img src="https://raw.githubusercontent.com/marcelduin/Micrio.Blogpost.wasm-v3/master/img/emscripten.png" alt="Micrio in native C++"></a></p>
<h3 id="firstresults">First Results</h3>
<p>As incredibly awesome it was to see Micrio in C++ running smoothly in my browser, and even handing all the user's input, there were a few reservations, which left me with an unsatisfied feeling.</p>
<h4 id="1codingcfeltoldfashioned">1. Coding C++ felt old-fashioned</h4>
<p>Writing C++ felt like going back in time. Incredibly powerful and fully proven, but also archaic, especially for me as a web developer. I spent more time fiddling with making an optimized <code>Makefile</code> than I care to admit.</p>
<p><img src="https://raw.githubusercontent.com/marcelduin/Micrio.Blogpost.wasm-v3/master/img/makefile.png" alt="The emscripten C++ Makefile" title="( Õ°¬∞ Õú ñ Õ°¬∞)"></p>
<h4 id="2thecompiledwasmbinarywasverylarge">2. The compiled <code>.wasm</code> binary was very large</h4>
<p>As great as the help of <code>libsdl</code> and <code>stb_image.h</code> were to let me use OpenGL and JPG image functions, as much did they add to the final compiled binary file. Even with all <code>emcc</code> compiler optimizations (which can even use the awesome <code>closure</code> JS compiler), the resulting WebAssembly binary file was 760KB. Compared to the JavaScript version of Micrio being around 240KB, this was a major setback. These libraries packed a lot of functionalities that were not necessary for Micrio, but were still included in the compiled version.</p>
<h4 id="3tilagluefile">3. TIL: A <em>glue</em> file</h4>
<p>This is the part where I learnt where the limits of WebAssembly start and finish. <strong>WebAssembly is not a magical self-contained binary that lets you run full applications out of the box</strong>. It actually needs to be <em>bound</em> to the browser using JavaScript.</p>
<p><img src="https://raw.githubusercontent.com/marcelduin/Micrio.Blogpost.wasm-v3/master/img/glued.png" alt="glue clipart"><br>
<small><a href="http://www.clker.com/clipart-13445.html">Image source</a></small></p>
<p>Where I thought that all the SDL OpenGL code in C++ would automagically be recognised by the browser: <em>wrong</em>. What <code>emscripten</code> does, is to take all OpenGL operations from C++, and <em>convert them</em> to WebGL operations your browser can understand.</p>
<p>Same with the <code>libsdl</code> mouse and keyboard-inputs: these were <strong>glued</strong> to the browser using an extra JavaScript file that would set event listeners for the specific cases, and send them to the WebAssembly binary. This separate JavaScript file was generated by the emscripten compiler, and had to be included in the HTML alongside the compiled binary <code>.wasm</code> file.</p>
<p>Everything added together, the new total of the <em>base engine</em> of Micrio was a whopping <strong>791KB</strong>; a bit too much for my liking.</p>
<h2 id="secondrewriteassemblyscript">Second Rewrite: AssemblyScript</h2>
<p>Fast forward a few months, to just after having attended the awesome <a href="https://webassembly-summit.org/">WebAssembly Summit</a> in Mountain View in February 2020. With a bundle of fresh energy and inspiration, I decided to see if I could use WebAssembly to improve the Micrio JavaScript client a second time.</p>
<p>During the WebAssembly conference, I was very impressed by a <a href="https://www.youtube.com/watch?v=C8j_ieOm4vE">synth demo</a> written in <strong><a href="https://www.assemblyscript.org/">AssemblyScript</a></strong>, a language created specifically for WebAssembly, using the TypeScript syntax. Basically you can write (near) TypeScript, which compiles to a <code>.wasm</code>-binary. So anyone familiar with either TypeScript or JavaScript ES6 will not have a lot of difficulties using it.</p>
<p>And the great thing-- it's all installed using <code>npm</code>, so <a href="https://www.assemblyscript.org/quick-start.html">getting it up and running</a> and compiling your program is super easy!</p>
<p>There are a few basic <a href="https://www.assemblyscript.org/types.html"><code>types</code> added in AssemblyScript</a>, which are required for compile-time optimizations:</p>
<ul>
<li><code>f64</code> / <code>f32</code> : For 64 or 32-bit floats;</li>
<li><code>i8</code> / <code>i16</code> / <code>i32</code> / <code>i64</code> : For signed <code>int</code>s, ranging in precision</li>
<li><code>u8</code> .. <code>u64</code> : For unsigned <code>int</code>s</li>
<li><a href="https://www.assemblyscript.org/types.html">And a few more</a></li>
</ul>
<h3 id="goingatomic">Going atomic</h3>
<p>This time, I wanted to see if it was possible to only let a small part of Micrio run inside WebAssembly, and still use most of the JavaScript that was already inside the client. <em>How small can we get it?</em> I decided to focus on a subset of camera functions, such as translating screen coordinates to image coordinates and vice versa. So this time no rendering, event handling, or writing shaders.</p>
<p><img src="https://raw.githubusercontent.com/marcelduin/Micrio.Blogpost.wasm-v3/master/img/assemblyscript.png" alt="Simple camera functions in AssemblyScript" title="My First AssemblyScript"><br>
<small><em>Simple camera functions in AssemblyScript</em></small></p>
<p>The result: a 3KB binary containing some basic math functions, that take an input and return an output. AssemblyScript offers some <em>glue-tooling</em> by providing its own <a href="https://www.assemblyscript.org/loader.html">Loader</a>, which will deal with importing the binary file and being able to call these functions.</p>
<p>However, this is optional and I ended up using the JavaScript <a href="https://developer.mozilla.org/en-US/docs/WebAssembly/Using_the_JavaScript_API">WebAssembly API</a>, <em>neat</em>. And it turns out, this is super easy: simply use the <code>fetch</code> API to load your compiled <code>.wasm</code> file, cast it as an <code>ArrayBuffer</code>, and use the <code>WebAssembly.instantiate()</code> function to get it up and running.</p>
<p><img src="https://raw.githubusercontent.com/marcelduin/Micrio.Blogpost.wasm-v3/master/img/instantiate.png" alt="Loading a wasm file" title="Gluing it yourself"></p>
<p>The compiled binary will then offer an <code>exports</code> object, containing the functions that you have exported in the AssemblyScript file, which you can immediately call from JavaScript as if they were normal functions.</p>
<p>Wait.. "<em>which you can immediately call from JavaScript as if they were normal functions</em>"...</p>
<p><strong>WebAssembly is running synchronously to JavaScript!</strong> ü§Ø</p>
<p>Having worked with WebWorkers before, I honestly thought that WebAssembly would run inside its own CPU thread, and that any function calls would be <code>async</code>. Nope, the Wasm-functions you call will return immediately!</p>
<p><a href="https://www.assemblyscript.org/exports-and-imports.html#exports"><em>This is, like, powerful stuff</em>!</a></p>
<h3 id="bundlingthecompiledwasminsidethejsfile">Bundling the compiled Wasm inside the JS file</h3>
<p>Since I now had some extra performing hands on deck for Micrio that was very easy to integrate, I decided to include this minimal WebAssembly binary in the then-stable release of Micrio (2.9).</p>
<p>However, I didn't want an extra HTTP request for the Wasm binary every time someone loaded the Micrio JS. So I included a <code>base64</code> encoded version of the Wasm-file <em>inside</em> the Micrio JS, and for browsers that support it, auto-loaded that. As a ‚Ä¶</p></div></section></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://engineering.q42.nl/webassembly/">https://engineering.q42.nl/webassembly/</a></em></p>]]>
            </description>
            <link>https://engineering.q42.nl/webassembly/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25486464</guid>
            <pubDate>Sun, 20 Dec 2020 14:38:38 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Posenet Fruit Ninja in the Browser (Tensorflow.js and Posenet)]]>
            </title>
            <description>
<![CDATA[
Score 44 | Comments 16 (<a href="https://news.ycombinator.com/item?id=25486322">thread link</a>) | @liuxiaopai
<br/>
December 20, 2020 | https://huhai463127310.github.io/posenet_fruit_ninja/ | <a href="https://web.archive.org/web/*/https://huhai463127310.github.io/posenet_fruit_ninja/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        <p>‰øùËØÅÊëÑÂÉèÂ§¥Â§Ñ‰∫éÊú™Á¶ÅÁî®Áä∂ÊÄÅÔºåÊ≠£ÂØπÊëÑÂÉèÂ§¥Á´ôÁ´ãÔºå‰øùËØÅÂ∑¶‰∏äËßíÊëÑÂÉèÂ§¥Á™óÂè£ÂèØÁúãËßÅ‰Ω†ÁöÑ‰∏äÂçäË∫´ÔºåÊå•ËàûÊâãËáÇÔºåÂàíÊéâNew Game„ÄÇ</p>
        <p>Êå•Ëàû‰Ω†ÁöÑÊâãÔºÅÊå•Ëàû‰Ω†ÁöÑÊâãÔºÅÊå•Ëàû‰Ω†ÁöÑÊâãÔºÅ</p>
    </div></div>]]>
            </description>
            <link>https://huhai463127310.github.io/posenet_fruit_ninja/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25486322</guid>
            <pubDate>Sun, 20 Dec 2020 14:17:10 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Commutation and Scalability]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25486202">thread link</a>) | @gbrown_
<br/>
December 20, 2020 | https://pijul.org/posts/2020-12-19-partials/ | <a href="https://web.archive.org/web/*/https://pijul.org/posts/2020-12-19-partials/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>


<p>Sunday, December 20, 2020</p>
<p>I just finished the implementation of an important feature of Pijul: clones, pushes and pulls on partial repositories. In this post, I explain why this matters.</p>
<h2 id="change-commutation">Change commutation</h2>
<p>Pijul is based on <em>changes</em>, also called <em>patches</em> or <em>diffs</em>.
This doesn‚Äôt mean that its only internal datastructure is patches, quite to the contrary: it was only by departing from a patch-only internal representation that we were able to solve the algorithmic challenges inherent to patch-based systems.</p>
<p>However, being change-based does mean that the core operations of Pijul are defined on changes, and that Pijul is designed in such a way that changes satisfy basic intuitive properties, similar to algebraic operations. One basic thing is that applying a change is an <em>associative</em> operation, like matrix multiplication: applying $A$ and $B$ at once, and then later $C$, is the same as applying $A$, and then $B$ and $C$ at once. In matrix multiplication, $(AB)C = A(BC)$. Moreover, in Pijul, all changes are invertible (whereas only some matrices are): for any change $A$, there is an ‚Äúinverse change‚Äù $A^{-1}$ such that applying $A^{-1}$ after $A$ is the same as applying neither. Of course, both $A$ and $A^{-1}$ will appear in the log, but the contents of the repository will be the same as applying neither $A$ nor $A^{-1}$.</p>
<p>There is another property that users want from version control systems, and that is <strong>commutation</strong>.
Matrix multiplication rarely commutes<sup id="fnref:1"><a href="#fn:1" role="doc-noteref">1</a></sup>.
In Git, commutation is usually <em>simulated</em> using branches and rebase: indeed, rebasing a branch A on top of another branch B really means commuting the commits of A since the divergence between A and B, and the commits of B since the divergence. However, that commutation isn‚Äôt perfect, since the commits must change their hash when rebased.</p>
<p>Things are simpler in Pijul, because any two changes that <em>could have been written independently</em> always commute, meaning that if the two changes could be written without knowledge of each other, they can be applied in any order.</p>
<p>This of course raises a potential concern:</p>
<blockquote>
<p>If I can apply $A$ and $B$ in any order, how do I know which order is the <strong>right</strong> one?</p>
</blockquote>
<p>In Pijul, this question <strong>does not matter</strong>: both orders will yield <strong>the exact same result</strong>, the only difference is that the log will list the changes in the order in which they were applied. And I‚Äôm not saying that it doesn‚Äôt matter because I‚Äôm careless, but because it truly is the same thing.</p>
<blockquote>
<p>I disagree: it does matter, I still prefer to have a ‚Äú<em>linear</em>‚Äù order for my changes/commits.</p>
</blockquote>
<p>Indeed, everybody wants to see the order of operations in a repository, for many reasons. For example:</p>
<ul>
<li>We want to keep a record of the operations performed on our repository.</li>
<li>We want to go back in time.</li>
</ul>
<p>And in fact, Pijul allows you to do exactly that, but in a more rigorous way than Git. Indeed, take the scenario where Alice and Bob work together, Alice makes a change $A$ while Bob makes $B$. When they put their work together, Alice applies Bob‚Äôs change, resulting in the log $AB$, while Bob applies Alice‚Äôs change, resulting in the log $BA$. In this case, there is no ‚Äútrue‚Äù linear history, since they worked on different things, and took different steps at different times. However, both of them want to be able to go back in time, step-by-step, and not just ‚Äú<em>step-by-step-according-to-Bob‚Äôs-order</em>‚Äù.</p>
<h2 id="commutation-and-massive-repositories">Commutation and massive repositories</h2>
<p>One of the biggest challenge for Pijul up to the recent releases was scalability: even modestly-sized repositories like Pijul‚Äôs source code would use a lot of disk space. This was even more disappointing since, as I‚Äôm about to explain, commutation was suposed to allow it to scale to gigantic repository sizes‚Ä¶ in theory. The same problem also made massive tests impossible, meaning that getting past the ‚Äú0.x releases‚Äù seemed more and more impossible as time passed.</p>
<p>Now that this phase is mostly behind us, the cool bits of the theory finally become practical.</p>
<p>In particular, in Pijul, each change contains a reference to the files it modifies. Note that, because we want operations on repositories (such as renaming files) to commute with edits inside files, we don‚Äôt identify files and directories by name, but by a unique identifier made from the hash of the change that introduced that file or directory.</p>
<p>For repositories with multiple projects, this makes it possible to clone and pull just parts of a repository, and work on that part as if we had the entire thing. Indeed, imagine we have a repository with the following log:</p>
<ol>
<li>A, adding file <em>x</em></li>
<li>B, editing <em>x</em></li>
<li>C, adding file <em>y</em></li>
<li>D, adding file <em>z</em></li>
<li>E, renaming <em>x</em> to <em>w</em></li>
<li>F, editing <em>y</em> and <em>z</em></li>
</ol>
<p>All these changes do not necessarily commute; however, since B and C touch completely different files (namely, <em>x</em> and <em>y</em>), they could be produced in parallel, and hence they commute. This means that we can pull only the changes related to a specific file, say <em>x</em>, and make the following history: A, B, E<sup id="fnref:2"><a href="#fn:2" role="doc-noteref">2</a></sup>.</p>
<p>Moreover, any change made on top of that sequence will commute with C, D and F: indeed, if we edit file <em>x</em> again, producing a change G, then since G can be made in parallel to C, D and F, we can push G after any patch that comes after B in that history, for example getting history ‚ÄúABCDEFG‚Äù.</p>
<p>Note that this is done without changing the changes nor their hash.</p>
<h2 id="another-trick-for-large-files">Another trick for large files</h2>
<p>As explained in previous posts on this blog, Pijul changes have a bit more information than diffs, and operate on graphs rather than files. This means that changes can be split into two parts, a short-ish one with a binary specification of the graph operations, and then the new content inserted by the change.</p>
<p>The change format is designed to be downloadable in two stages: one can download the operations without downloading the contents. One issue with this is security: if we don‚Äôt download the contents, how can we make sure that the hash is right? This is done by including a hash of the change in the ‚Äúoperations‚Äù section of the change, and letting the hash of a change be the hash of the ‚Äúoperations‚Äù section.</p>
<p>This makes it possible for someone to make five versions of a large binary file in a day, where each change deletes the entire file, and adds it again, the operation sections only contain the length of the different versions, not the actual bytes. In order to get the latest version of the file, a client will therefore only have to download the latest change completely, and only the operations section of the previous ones.</p>
<p>Note that this makes the following ‚Äúattack‚Äù possible: a server might trick a client into believing that the server has a change with hash $A$, which inserts $n$ bytes into a file, and then another change with hash $B$, deleting all these bytes. When the client downloads $A$ and $B$, it doesn‚Äôt need to download the contents. However, if the client later decides to unrecord $B$, the contents of $A$ will have to be downloaded, and the client will be able to tell that the hash of $A$ was incorrect. This should make it impossible to unrecord $B$ without also unrecording $A$. However, if $A$ made other edits, and other changes depend on $A$, this could be problematic.</p>
<h2 id="what-is-next">What is next?</h2>
<p>There is one remaining painpoint for very large repositories, and this is the fact that in order to clone a repository with a very large history, one must download and apply all the changes, one by one. Even though our apply function is quite fast<sup id="fnref:3"><a href="#fn:3" role="doc-noteref">3</a></sup>, this can still be problematic for dozens or hundreds of thousands of changes.</p>
<p>In my next post, I will talk about a solution to this problem, which I have started to implement.</p>
<section role="doc-endnotes">
<hr>
<ol>
<li id="fn:1" role="doc-endnote">
<p>Matrices that are simultaneously diagonalizable do, for example, but for two arbitrary matrices $A$ and $B$, $AB$ is often different from $BA$. <a href="#fnref:1" role="doc-backlink">‚Ü©Ô∏é</a></p>
</li>
<li id="fn:2" role="doc-endnote">
<p>Note that in this case, we could also pull A, E, B, since renaming a file commutes with editing it. However, we must start with A, since adding a file could not be possibly done in parallel to editing or renaming it. <a href="#fnref:2" role="doc-backlink">‚Ü©Ô∏é</a></p>
</li>
<li id="fn:3" role="doc-endnote">
<p>The complexity of apply is in $O(|p| |c| \log |H|)$, where $|p|$ is the size of the change, $|c|$ is the size of the largest conflict in which $p$ is involved, and $|H|$ is the number of edits made since the start of the repository. <a href="#fnref:3" role="doc-backlink">‚Ü©Ô∏é</a></p>
</li>
</ol>
</section>
</div></div>]]>
            </description>
            <link>https://pijul.org/posts/2020-12-19-partials/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25486202</guid>
            <pubDate>Sun, 20 Dec 2020 13:53:44 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Where to put your server, in a private or public subnet?]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25486125">thread link</a>) | @lmarcos
<br/>
December 20, 2020 | https://bits.theorem.co/where-to-put-your-server-in-a-private-or-public-subnet/ | <a href="https://web.archive.org/web/*/https://bits.theorem.co/where-to-put-your-server-in-a-private-or-public-subnet/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">
      <article itemscope="" itemtype="http://schema.org/BlogPosting">
  

  <meta content="https://bits.theorem.co/where-to-put-your-server-in-a-private-or-public-subnet/" itemprop="url">

  <div itemprop="articleBody">
    <p>Where should you put your server? If it is a web server probably in a public subnet. Wrong!</p>

<p><em>This article was originally <a href="https://medium.com/the-passionate-craftsman-blog/where-to-put-your-server-in-a-private-or-public-subnet-ab1fa971269c#.xzvzycv5c">posted on Medium</a></em></p>

<h2 id="what-a-developer-would-do">What a developer would do</h2>

<p>Usually web developers run a server in a provider like Linode, they install the stack they need, and they deploy the code. This has serious implications regarding security: that server is exposed to the Internet and it is vulnerable. If you have a small budget and you have a small web app, probably it is the only way to go, although you should, at least, harden the server and set up the firewall (iptables if you are using Linux).</p>

<p>However, if you need HA, security, and scalability, you cannot just use one server. In this case, you will have at least a private and a public subnet. Even better, you should have a public subnet, a private subnet for your webservers and another private subnet for your DBMS, which would be a multi-tiered architecture. So which server goes where? You should put as many servers as you can in the private subnet unless you are really forced to put it in the public subnet.</p>

<h2 id="a-short-list-of-rules-to-help-you">A short list of rules to help you</h2>

<p>Here is a short list of rules you should use when deciding where to put a server:</p>

<ul>
  <li>Is the server needed to manage other servers? If yes, then it should go in the public subnet, because you will need to connect to that server first, via the Internet, then connect to the server you want to manage. A bastion server is a good example (OpenSHH server).</li>
  <li>Does the server provide a network service? If it is a load balancer, a NAT server, a Proxy, a VPN server, they should be in the public subnet, they all need access to the Internet, a direct access.</li>
  <li>Does the server need to replicate data in another DC? It should go in the private subnet and it should replicate via a VPN, a site-to-site connection. You want to send your data via an encrypted tunnel, and you want to make sure that only certain data will be allowed in your tunnel, by using AWS NACLs or a firewall.</li>
  <li>Does your server need to connect to external servers? If yes, you can put your server in the private subnet and route requests to the Internet (CIDR 0.0.0.0/0) to a NAT server, or NAT Gateway if you are using AWS.</li>
  <li>Do you have a load balancer which has to balance traffic coming from Internet and redirect the traffic to web servers in the public subnets? It should stay in the public subnet.</li>
  <li>Do you have a WAF, Web Application Firewall? Put it in the public subnet like the load balancer.</li>
  <li>Do you have a load balancer that is receiving traffic not from the Internet? It is an internal load balancer and it should stay in a private subnet.</li>
</ul>

<h2 id="an-example">An example</h2>

<p>In the following diagram you can see how you could replicate the database state to a corporate network. Web servers are in the public subnet, but it would be netter to move then in the private subnet and receive web traffic via an ELB (Elastic Load Balancer).</p>

<p><img src="https://bits.theorem.co/images/posts/aws-diagram-vpn-with-public-web-servers.png" alt="AWS network diagram" title="AWS network diagram"></p>

  </div>

  
</article>

      


    </div></div>]]>
            </description>
            <link>https://bits.theorem.co/where-to-put-your-server-in-a-private-or-public-subnet/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25486125</guid>
            <pubDate>Sun, 20 Dec 2020 13:39:38 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Understanding how AES encryption works]]>
            </title>
            <description>
<![CDATA[
Score 68 | Comments 17 (<a href="https://news.ycombinator.com/item?id=25486017">thread link</a>) | @nakabonne
<br/>
December 20, 2020 | https://nakabonne.dev/posts/understanding-how-aes-encryption-works/ | <a href="https://web.archive.org/web/*/https://nakabonne.dev/posts/understanding-how-aes-encryption-works/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        <p>I recently had the opportunity to encrypt/decrypt stuff using AES, but I didn‚Äôt know it inside out well. I couldn‚Äôt help but be curious about how it is working, and I realized my mind could only be satisfied by digging deeper into its implementation.
This post walks you through how AES encryption works by reading core implementation written in Go.</p>
<h2 id="what-is-aes-encryption">What is AES encryption?</h2>
<p>The Advanced Encryption Standard (AES) is a symmetric block cipher, an alternative to the DES. Cryptographers from around the world proposed algorithms, from which the Rijndael algorithm was selected in 2000. Hence we‚Äôll take a look the implementation of this Rijndael.</p>
<h2 id="rijndael">Rijndael</h2>
<p>Rijndael is a block cipher algorithm. A block cipher is a cryptographic algorithm that processes a specific number of bits at a time.
The number of bits (called block length) to be processed at a time depends on the algorithm, AES is 128-bits (16-bytes). Most plaintext we encrypt is longer than this block length, so we typically use this block cipher algorithm repeatedly.
Keep in mind this post goes into some details on only on one block‚Äôs process to focus more on the core algorithm.</p>
<h2 id="digging-deeper-into-the-implementation">Digging deeper into the implementation</h2>
<p>The Go language officially provides the <a href="https://golang.org/pkg/crypto/aes/">crypto/aes</a> package, which makes use of Go Assembly to leverage Intel‚Äôs hardware support for AES if it‚Äôs built for amd64.
It otherwise uses the implementation written in pure Go. Let‚Äôs take a look at the pure Go implementation that the human mind relatively can work in.</p>
<p>The public method <code>aesCipher.Encrypt</code> defined in <a href="https://github.com/golang/go/blob/55b58018f41e6de63bdaa8f3d9a284077d4e88c1/src/crypto/aes/cipher.go#L54-L65">aes/cipher.go</a> looks to implement a block cipher:</p>
<div><pre><code data-lang="go"><span>// The AES block size in bytes.
</span><span></span><span>const</span> <span>BlockSize</span> = <span>16</span>

<span>func</span> (<span>c</span> <span>*</span><span>aesCipher</span>) <span>Encrypt</span>(<span>dst</span>, <span>src</span> []<span>byte</span>) {
	<span>if</span> len(<span>src</span>) &lt; <span>BlockSize</span> {
		panic(<span>"crypto/aes: input not full block"</span>)
	}
	<span>if</span> len(<span>dst</span>) &lt; <span>BlockSize</span> {
		panic(<span>"crypto/aes: output not full block"</span>)
	}
	<span>if</span> <span>subtle</span>.<span>InexactOverlap</span>(<span>dst</span>[:<span>BlockSize</span>], <span>src</span>[:<span>BlockSize</span>]) {
		panic(<span>"crypto/aes: invalid buffer overlap"</span>)
	}
	<span>encryptBlockGo</span>(<span>c</span>.<span>enc</span>, <span>dst</span>, <span>src</span>)
}
</code></pre></div><p>This method does the two validations that check if:</p>
<ul>
<li>the given plaintext is equal to 16-bytes, the block length of AES</li>
<li><code>dst</code> and <code>src</code> share memory at any index</li>
</ul>
<p>It seems to leave the core implementation to <code>encryptBlockGo</code> defined in <a href="https://github.com/golang/go/blob/55b58018f41e6de63bdaa8f3d9a284077d4e88c1/src/crypto/aes/block.go#L43-L87">aes/block.go</a>:</p>
<div><pre><code data-lang="go"><span>// Encrypt one block from src into dst, using the expanded key xk.
</span><span></span><span>func</span> <span>encryptBlockGo</span>(<span>xk</span> []<span>uint32</span>, <span>dst</span>, <span>src</span> []<span>byte</span>) {
	<span>_</span> = <span>src</span>[<span>15</span>] <span>// early bounds check
</span><span></span>	<span>s0</span> <span>:=</span> <span>binary</span>.<span>BigEndian</span>.<span>Uint32</span>(<span>src</span>[<span>0</span>:<span>4</span>])
	<span>s1</span> <span>:=</span> <span>binary</span>.<span>BigEndian</span>.<span>Uint32</span>(<span>src</span>[<span>4</span>:<span>8</span>])
	<span>s2</span> <span>:=</span> <span>binary</span>.<span>BigEndian</span>.<span>Uint32</span>(<span>src</span>[<span>8</span>:<span>12</span>])
	<span>s3</span> <span>:=</span> <span>binary</span>.<span>BigEndian</span>.<span>Uint32</span>(<span>src</span>[<span>12</span>:<span>16</span>])

	<span>// First round just XORs input with key.
</span><span></span>	<span>s0</span> ^= <span>xk</span>[<span>0</span>]
	<span>s1</span> ^= <span>xk</span>[<span>1</span>]
	<span>s2</span> ^= <span>xk</span>[<span>2</span>]
	<span>s3</span> ^= <span>xk</span>[<span>3</span>]

	<span>// Middle rounds shuffle using tables.
</span><span></span>	<span>// Number of rounds is set by length of expanded key.
</span><span></span>	<span>nr</span> <span>:=</span> len(<span>xk</span>)<span>/</span><span>4</span> <span>-</span> <span>2</span> <span>// - 2: one above, one more below
</span><span></span>	<span>k</span> <span>:=</span> <span>4</span>
	<span>var</span> <span>t0</span>, <span>t1</span>, <span>t2</span>, <span>t3</span> <span>uint32</span>
	<span>for</span> <span>r</span> <span>:=</span> <span>0</span>; <span>r</span> &lt; <span>nr</span>; <span>r</span><span>++</span> {
		<span>t0</span> = <span>xk</span>[<span>k</span><span>+</span><span>0</span>] ^ <span>te0</span>[uint8(<span>s0</span><span>&gt;&gt;</span><span>24</span>)] ^ <span>te1</span>[uint8(<span>s1</span><span>&gt;&gt;</span><span>16</span>)] ^ <span>te2</span>[uint8(<span>s2</span><span>&gt;&gt;</span><span>8</span>)] ^ <span>te3</span>[uint8(<span>s3</span>)]
		<span>t1</span> = <span>xk</span>[<span>k</span><span>+</span><span>1</span>] ^ <span>te0</span>[uint8(<span>s1</span><span>&gt;&gt;</span><span>24</span>)] ^ <span>te1</span>[uint8(<span>s2</span><span>&gt;&gt;</span><span>16</span>)] ^ <span>te2</span>[uint8(<span>s3</span><span>&gt;&gt;</span><span>8</span>)] ^ <span>te3</span>[uint8(<span>s0</span>)]
		<span>t2</span> = <span>xk</span>[<span>k</span><span>+</span><span>2</span>] ^ <span>te0</span>[uint8(<span>s2</span><span>&gt;&gt;</span><span>24</span>)] ^ <span>te1</span>[uint8(<span>s3</span><span>&gt;&gt;</span><span>16</span>)] ^ <span>te2</span>[uint8(<span>s0</span><span>&gt;&gt;</span><span>8</span>)] ^ <span>te3</span>[uint8(<span>s1</span>)]
		<span>t3</span> = <span>xk</span>[<span>k</span><span>+</span><span>3</span>] ^ <span>te0</span>[uint8(<span>s3</span><span>&gt;&gt;</span><span>24</span>)] ^ <span>te1</span>[uint8(<span>s0</span><span>&gt;&gt;</span><span>16</span>)] ^ <span>te2</span>[uint8(<span>s1</span><span>&gt;&gt;</span><span>8</span>)] ^ <span>te3</span>[uint8(<span>s2</span>)]
		<span>k</span> <span>+=</span> <span>4</span>
		<span>s0</span>, <span>s1</span>, <span>s2</span>, <span>s3</span> = <span>t0</span>, <span>t1</span>, <span>t2</span>, <span>t3</span>
	}

	<span>// Last round uses s-box directly and XORs to produce output.
</span><span></span>	<span>s0</span> = uint32(<span>sbox0</span>[<span>t0</span><span>&gt;&gt;</span><span>24</span>])<span>&lt;&lt;</span><span>24</span> | uint32(<span>sbox0</span>[<span>t1</span><span>&gt;&gt;</span><span>16</span><span>&amp;</span><span>0xff</span>])<span>&lt;&lt;</span><span>16</span> | uint32(<span>sbox0</span>[<span>t2</span><span>&gt;&gt;</span><span>8</span><span>&amp;</span><span>0xff</span>])<span>&lt;&lt;</span><span>8</span> | uint32(<span>sbox0</span>[<span>t3</span><span>&amp;</span><span>0xff</span>])
	<span>s1</span> = uint32(<span>sbox0</span>[<span>t1</span><span>&gt;&gt;</span><span>24</span>])<span>&lt;&lt;</span><span>24</span> | uint32(<span>sbox0</span>[<span>t2</span><span>&gt;&gt;</span><span>16</span><span>&amp;</span><span>0xff</span>])<span>&lt;&lt;</span><span>16</span> | uint32(<span>sbox0</span>[<span>t3</span><span>&gt;&gt;</span><span>8</span><span>&amp;</span><span>0xff</span>])<span>&lt;&lt;</span><span>8</span> | uint32(<span>sbox0</span>[<span>t0</span><span>&amp;</span><span>0xff</span>])
	<span>s2</span> = uint32(<span>sbox0</span>[<span>t2</span><span>&gt;&gt;</span><span>24</span>])<span>&lt;&lt;</span><span>24</span> | uint32(<span>sbox0</span>[<span>t3</span><span>&gt;&gt;</span><span>16</span><span>&amp;</span><span>0xff</span>])<span>&lt;&lt;</span><span>16</span> | uint32(<span>sbox0</span>[<span>t0</span><span>&gt;&gt;</span><span>8</span><span>&amp;</span><span>0xff</span>])<span>&lt;&lt;</span><span>8</span> | uint32(<span>sbox0</span>[<span>t1</span><span>&amp;</span><span>0xff</span>])
	<span>s3</span> = uint32(<span>sbox0</span>[<span>t3</span><span>&gt;&gt;</span><span>24</span>])<span>&lt;&lt;</span><span>24</span> | uint32(<span>sbox0</span>[<span>t0</span><span>&gt;&gt;</span><span>16</span><span>&amp;</span><span>0xff</span>])<span>&lt;&lt;</span><span>16</span> | uint32(<span>sbox0</span>[<span>t1</span><span>&gt;&gt;</span><span>8</span><span>&amp;</span><span>0xff</span>])<span>&lt;&lt;</span><span>8</span> | uint32(<span>sbox0</span>[<span>t2</span><span>&amp;</span><span>0xff</span>])

	<span>s0</span> ^= <span>xk</span>[<span>k</span><span>+</span><span>0</span>]
	<span>s1</span> ^= <span>xk</span>[<span>k</span><span>+</span><span>1</span>]
	<span>s2</span> ^= <span>xk</span>[<span>k</span><span>+</span><span>2</span>]
	<span>s3</span> ^= <span>xk</span>[<span>k</span><span>+</span><span>3</span>]

	<span>_</span> = <span>dst</span>[<span>15</span>] <span>// early bounds check
</span><span></span>	<span>binary</span>.<span>BigEndian</span>.<span>PutUint32</span>(<span>dst</span>[<span>0</span>:<span>4</span>], <span>s0</span>)
	<span>binary</span>.<span>BigEndian</span>.<span>PutUint32</span>(<span>dst</span>[<span>4</span>:<span>8</span>], <span>s1</span>)
	<span>binary</span>.<span>BigEndian</span>.<span>PutUint32</span>(<span>dst</span>[<span>8</span>:<span>12</span>], <span>s2</span>)
	<span>binary</span>.<span>BigEndian</span>.<span>PutUint32</span>(<span>dst</span>[<span>12</span>:<span>16</span>], <span>s3</span>)
}
</code></pre></div><p>Don‚Äôt be afraid of it. We‚Äôll focus on the significant parts.</p>
<p>The input (means plaintext) to a single block is 16-bytes as we can see above. The input is first divided into four lines, separated by four bytes.</p>
<div><pre><code data-lang="go"><span>s0</span> <span>:=</span> <span>binary</span>.<span>BigEndian</span>.<span>Uint32</span>(<span>src</span>[<span>0</span>:<span>4</span>])
<span>s1</span> <span>:=</span> <span>binary</span>.<span>BigEndian</span>.<span>Uint32</span>(<span>src</span>[<span>4</span>:<span>8</span>])
<span>s2</span> <span>:=</span> <span>binary</span>.<span>BigEndian</span>.<span>Uint32</span>(<span>src</span>[<span>8</span>:<span>12</span>])
<span>s3</span> <span>:=</span> <span>binary</span>.<span>BigEndian</span>.<span>Uint32</span>(<span>src</span>[<span>12</span>:<span>16</span>])
</code></pre></div><p>This illustrates how the input is handled in the AES encryption process. It is definitely the key to understand to keep this format in mind.</p>
<figure>
    <img src="https://nakabonne.dev/img/aes-divided-input.jpg" width="100%" height="auto"> 
</figure>

<p>And the next part which is something iterating, is the most core implementation.</p>
<div><pre><code data-lang="go"><span>// Middle rounds shuffle using tables.
</span><span>// Number of rounds is set by length of expanded key.
</span><span></span><span>nr</span> <span>:=</span> len(<span>xk</span>)<span>/</span><span>4</span> <span>-</span> <span>2</span> <span>// - 2: one above, one more below
</span><span></span><span>k</span> <span>:=</span> <span>4</span>
<span>var</span> <span>t0</span>, <span>t1</span>, <span>t2</span>, <span>t3</span> <span>uint32</span>
<span>for</span> <span>r</span> <span>:=</span> <span>0</span>; <span>r</span> &lt; <span>nr</span>; <span>r</span><span>++</span> {
	<span>t0</span> = <span>xk</span>[<span>k</span><span>+</span><span>0</span>] ^ <span>te0</span>[uint8(<span>s0</span><span>&gt;&gt;</span><span>24</span>)] ^ <span>te1</span>[uint8(<span>s1</span><span>&gt;&gt;</span><span>16</span>)] ^ <span>te2</span>[uint8(<span>s2</span><span>&gt;&gt;</span><span>8</span>)] ^ <span>te3</span>[uint8(<span>s3</span>)]
	<span>t1</span> = <span>xk</span>[<span>k</span><span>+</span><span>1</span>] ^ <span>te0</span>[uint8(<span>s1</span><span>&gt;&gt;</span><span>24</span>)] ^ <span>te1</span>[uint8(<span>s2</span><span>&gt;&gt;</span><span>16</span>)] ^ <span>te2</span>[uint8(<span>s3</span><span>&gt;&gt;</span><span>8</span>)] ^ <span>te3</span>[uint8(<span>s0</span>)]
	<span>t2</span> = <span>xk</span>[<span>k</span><span>+</span><span>2</span>] ^ <span>te0</span>[uint8(<span>s2</span><span>&gt;&gt;</span><span>24</span>)] ^ <span>te1</span>[uint8(<span>s3</span><span>&gt;&gt;</span><span>16</span>)] ^ <span>te2</span>[uint8(<span>s0</span><span>&gt;&gt;</span><span>8</span>)] ^ <span>te3</span>[uint8(<span>s1</span>)]
	<span>t3</span> = <span>xk</span>[<span>k</span><span>+</span><span>3</span>] ^ <span>te0</span>[uint8(<span>s3</span><span>&gt;&gt;</span><span>24</span>)] ^ <span>te1</span>[uint8(<span>s0</span><span>&gt;&gt;</span><span>16</span>)] ^ <span>te2</span>[uint8(<span>s1</span><span>&gt;&gt;</span><span>8</span>)] ^ <span>te3</span>[uint8(<span>s2</span>)]
	<span>k</span> <span>+=</span> <span>4</span>
	<span>s0</span>, <span>s1</span>, <span>s2</span>, <span>s3</span> = <span>t0</span>, <span>t1</span>, <span>t2</span>, <span>t3</span>
}
</code></pre></div><p>Rijndael encrypts a block by repeating a process called a round.
In a round, there are four processes: SubBytes, ShiftRows, MixColumns, and AddRoundKey. As commented out in the snippet, the number of rounds depends on the key length.</p>
<h3 id="subbytes">SubBytes</h3>
<p>The conversion is done 1-byte at a time based on a conversion table called S-box which has 256 values.
Below illustrates to perform <code>sbox[s0[1]]</code> well:</p>
<figure>
    <img src="https://nakabonne.dev/img/aes-sbox.jpg" width="100%" height="auto"> 
</figure>

<p>Unlike DES, we can see that all bytes have been converted at this point.
This post doesn‚Äôt cover AES‚Äôs S-Box as it is mentioned in many places and much better than I could do.</p>
<h3 id="shiftrows">ShiftRows</h3>
<p>The next step is to process the rows that are grouped into 4-byte units and shifted regularly to the left.
The number of bytes to be shifted depends on the line, as shown below:</p>
<figure>
    <img src="https://nakabonne.dev/img/aes-shift-rows.jpg" width="100%" height="auto"> 
</figure>

<h3 id="mixcolumns">MixColumns</h3>
<p>In the previous step, it dealt with rows, but the next is to process the bytes in columns.</p>
<figure>
    <img src="https://nakabonne.dev/img/aes-mix-columns.jpg" width="100%" height="auto"> 
</figure>

<p>It involves multiplication operations in a finite field, hence this step is a bit tough to describe. See <a href="https://en.wikipedia.org/wiki/Rijndael_MixColumns">Wikipedia</a> for more details.</p>
<h3 id="addroundkey">AddRoundKey</h3>
<p>Finally, it XORs the output of MixColumns with the round key. The following figure shows the execution of <code>s0[1] ^ xk[4]</code> (the <code>^</code> denotes an XOR operation in Go).</p>
<figure>
    <img src="https://nakabonne.dev/img/aes-add-round-key.jpg" width="100%" height="auto"> 
</figure>

<h2 id="bottom-line">Bottom Line</h2>
<p>While this post has only shown you the encryption process, these processes are fully reversible with an Inverse MixColumns, ShiftRows, SubBytes. How beautiful!
I‚Äôll keep reading the implementation to deepen my understanding of cryptography.</p>

        
    </div></div>]]>
            </description>
            <link>https://nakabonne.dev/posts/understanding-how-aes-encryption-works/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25486017</guid>
            <pubDate>Sun, 20 Dec 2020 13:17:30 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How we made the PJON network protocol from scratch]]>
            </title>
            <description>
<![CDATA[
Score 121 | Comments 27 (<a href="https://news.ycombinator.com/item?id=25485943">thread link</a>) | @gioscarab
<br/>
December 20, 2020 | https://www.pjon.org/how.php | <a href="https://web.archive.org/web/*/https://www.pjon.org/how.php">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      
      <section>
        <div>
          
          <p>
            <a href="https://github.com/gioblu/PJON" target="_blank" rel="noopener noreferrer">PJON (Padded Jittering Operative Network)</a> is a lightweight, efficient and completely open network protocol. It has revolutionary features such as single wire communication with a range of up to 2 kms, wireless LED-to-LED communication and long range laser communication.
          </p>
        </div>
      </section>
      <section>
        <div>
          <article>
            <h2>2009 - Communication</h2>
            <p>
              Far back in 2009, while following Digital Communication, Advertising and Art Direction at NABA (New Academy of Fine Arts of Milan), I became interested in Professor Massimo Banzi's classes and managed to get an Arduino Diecimila. In just one day my vision of the world had changed and I slowly started to better understand computers and electronics while sharing results with the Arduino community both on my website and on Arduino's forum. I started to build robots and after few years of experiments I launched my first start¬≠up: a webshop of arduino-compatible, CNC machined robot kits, boards and sensors.
            </p>
          </article>
          <br>
          <article>
            <h2>2010 - Let's transmit data</h2>
            <p>
              At the time in my projects I had to connect many microcontrollers on a common bus and I found myself not satisfied by the solutions available, for this reason I started to develop my own data link. I perfectly remember that night back in 2010 when I started bit-banging bits using an Arduino and trying to sample them with another. The first problem I hit were bugs in the implementation that were quickly resolved. Then I unsterstood I did not have any synchronization, depending on when the receiver was powered on bits were shifted. That night, with no experience in electronics or engineering I instinctively defined the synchronization pulse that is still present as the core of <a href="https://github.com/gioblu/PJON/blob/13.0/src/strategies/SoftwareBitBang/specification/PJDL-specification-v5.0.md" target="_blank" rel="noopener noreferrer">PJDL (Padded Jittering Data Link) v5.0</a>. To make sure to synchronize with the start of each byte I have added a 1 longer than data bits followed by a 0 and instructed the receiver to find it and only then start sampling 8 bits. Data was coming in perfectly. That was <a href="https://github.com/gioblu/PJON/blob/master/src/strategies/SoftwareBitBang/specification/obsolete/padded-jittering-protocol-specification-v0.1.md" target="_blank" rel="noopener noreferrer">PJDL (Padded jittering data link) v0.1</a> which was basic and working by mere chance. Then, after debugging it further, experiments proved it was working well not only through wires and the human body, but also wirelessly through radio and infrared light, yet it showed to be robust operating bidirectionally in spite of interference. After I noticed that it was possible to connect more than 2 devices to the same wire, I started to experiment with an initial collision avoidance phase, an 8 bits device id and a synchronous acknowledgement at the end of the packet. It was shocking to see that many devices were able to send and receive data through the same wire. Soon after I released <a href="https://github.com/gioblu/PJON/blob/master/specification/obsolete/PJON-protocol-specification-v0.1.md" target="_blank" rel="noopener noreferrer">PJON v0.1</a> on the Arduino forum, receiving plenty of "don't ¬≠reinvent ¬≠the ¬≠wheel" and few active contributors.
            </p>
          </article>
        </div>
      </section>
      <section>
        
      </section>
      <section>
        <div>
          <article>
            <h2>2014 - Let's network</h2>
            <p>
              In those days I became aware of how quickly the cloud was eating the world and how difficult was to connect stuff directly without relying on a third-party. It seemed like noone could connect computers together anymore without an ever present observing big brother. To be honest, I did not like it: that was the point when I understood how <a href="https://github.com/gioblu/PJON" target="_blank" rel="noopener noreferrer">PJON</a> could have changed the game and what I personally could have done to influence the outcome. I decided to double my efforts on the protocol and try my best to provide humanity with a free and more efficient way to make networks. With a working protocol layer and support from the community, I went further in the address space development adding an optional 32 bits bus id used to identify a group of up to 255 devices, supporting up to 4.294.967.295 buses and a total of 1.090.921.692.930 devices. This addition released in <a href="https://github.com/gioblu/PJON/blob/master/specification/obsolete/PJON-protocol-specification-v0.2.md" target="_blank" rel="noopener noreferrer">PJON v0.2</a> enabled coexistence and networking for groups of devices. Thanks to Micheal Teeuw's post on his blog, PJON received contributions, testing, debugging and feature requests. Then many talented contributors added support for devices like ESP8266, Teensy 3.2 and Node MCU.
            </p>
          </article>
          <br>
          <article>
            <h2>2015 - Abstracting the data link</h2>
            <p>
              The community wanted to use PJON over different existing protocols and physical layers, to obtain that without making the implementation complex and more difficult to use I have defined the <a href="https://github.com/gioblu/PJON/tree/master/src/strategies" target="_blank" rel="noopener noreferrer">strategy</a> abstraction. The curiously recurring template pattern or CRTP was adopted to abstract the physical layer in separate classes called strategies. Thanks to this change from then it was possible to instantiate a PJON object passing the selected data link. Initially, I developed three strategies, a bit-banged implementation of <a href="https://github.com/gioblu/PJON/blob/13.0/src/strategies/SoftwareBitBang/specification/PJDL-specification-v5.0.md">PJDL</a> called <a href="https://github.com/gioblu/PJON/tree/master/src/strategies/SoftwareBitBang">SoftwareBitBang</a>, <a href="https://github.com/gioblu/PJON/tree/master/src/strategies/OverSampling">OverSampling</a> for radio communication and <a href="https://github.com/gioblu/PJON/tree/master/src/strategies/AnalogSampling">AnalogSampling</a> able to communicate wirelessly or with optical fiber using off-the-shelf LEDs. Later on, I developed together with Fred Larsen <a href="https://github.com/gioblu/PJON/tree/master/src/strategies/ThroughSerial">ThroughSerial</a> able to operate through a serial port.
            </p>
          </article>
        </div>
      </section>
      <section>
        
      </section>
      <section>
        <div>
          <article>
            <h2>2016 - It's mainstream</h2>
            <p>
               <a href="http://hackaday.com/2016/03/31/pjon-fancy-one-wire-arduino-communications-protocol-for-home-automation/" target="_blank" rel="noopener noreferrer">Hackaday</a> and the <a href="http://blog.atmel.com/2016/04/09/pjon-is-a-pretty-cool-one-wire-protocol/" target="_blank" rel="noopener noreferrer">Atmel blog</a> wrote about the PJON protocol and from that day an ongoing earthquake began. The initial response, especially in the Hackaday's comments, was quite negative - trolls were raging. Only when I joined the discussion and answered openly and sincerely to all the complaints and questions asked, the tone changed dramatically. Well, so dramatically, that in the next comments I got the most praiseworthy compliments I have ever received, those people for sure helped me not to desist. Since then, the PJON protocol specification has been used in academic researches and PhDs in different parts of the world, and the official PJON implementation has already been applied globally in a wide range of different systems.
            </p>
          </article>
          <br>
          <article>
            <h2>2016 - Let's add a header</h2>
            <p>
              The release of the <a href="https://github.com/gioblu/PJON/blob/master/specification/obsolete/PJON-protocol-specification-v0.3.md" target="_blank" rel="noopener noreferrer">PJON v0.3</a> was the result of the most interesting proposal I have received so far, by Fred Larsen, who is a great friend already even if we never met personally. He proposed the addition of a 8 bits header containing a map of the fields contained in the packet and the configuration requested by the sender. At this point we left a fixed configuration scenario, where interoperability was impossible, heading towards a dynamic network architecture. An entire new set of possibilities opened up and users started to make use of this new field.
            </p>
          </article>
        </div>
      </section>
      <section>
        
      </section>
      <section>
        <div>
          <article>
            <h2>2016 - PJON over the internet</h2>
            <p>
              <a href="https://github.com/gioblu/PJON/tree/master/src/strategies/EthernetTCP">EthernetTCP</a> and <a href="https://github.com/gioblu/PJON/tree/master/src/strategies/LocalUDP">LocalUDP</a> made by Fred Larsen enabled multiple devices with Ethernet ports use PJON to communicate with each other on a LAN, WAN or across the Internet. It became possible to create a PJON network of devices using also an Internet connection. Our constantly growing community has already provided PJON implementations in other programming languages like <a href="https://github.com/Girgitt/PJON-python">PJON-python</a> by Zbigniew Zasieczny and <a href="https://github.com/Matheus-Garbelini/PJON-C">PJON-c</a> by Matheus Garbelini. Thanks to their work, it was for the first time possible to run PJON on a wider range of devices. At the same time the protocol reached its first stable version with the release of the <a href="https://github.com/gioblu/PJON/blob/master/specification/obsolete/PJON-protocol-specification-v1.0.md" target="_blank" rel="noopener noreferrer">PJON v1.0</a> which added a lot of new features.
            </p>
          </article>
          <br>
          <article>
            <h2>2017 - Let's make it universal</h2>
            <p>
              New features brought new objectives: the community wanted to have <a href="https://github.com/gioblu/PJON">PJON</a> working on many different MCUs and real time operative systems although I wanted to avoid code duplication and maintain only one unified implementation. For this reason I defined the <a href="https://github.com/gioblu/PJON/tree/master/src/interfaces">interface</a> abstraction. With interfaces it was for the first time possible to run and cross-compile the same implementation on all supported targets. I developed the <a href="https://github.com/gioblu/PJON/tree/master/src/interfaces/RPI">RPI</a> interface to support Raspberry Pi, after few weeks Zbigniew Zasieczny developed the <a href="https://github.com/gioblu/PJON/tree/master/src/interfaces/WINX86">WINX86</a> interface enabling PJON communication on Windows computers, and soon after, Fred Larsen developed the <a href="https://github.com/gioblu/PJON/tree/master/src/interfaces/LINUX">LINUX</a> interface. In late 2017 I discovered that frame inizialization was missing from both the specification and the implementation and that arbitrary data could have been mistaken for a valid frame. I vividly remember how shocked I was, that was a serious hole, so I quickly found a way to safely identify frames in each strategy. After that was fixed and all seemed perfect I discovered the <a href="https://betterembsw.blogspot.com/2012/02/can-protocol-vulnerabilities.html">length corruption vulnerability</a> that affected PJON and still affects CAN (Controlled Area Network). To close that hole I added an additional CRC8 to protect the header and soon after I released <a href="https://github.com/gioblu/PJON/blob/9.0/specification/PJON-protocol-specification-v2.0.md">PJON v2.0</a>.
            </p>
          </article>
        </div>
      </section>
      <section>
        
      </section>
      <section>
        <div>
          <article>
            <h2>2018 - Distributed field test</h2>
            <p>
              Although PJON is licensed "AS IS", the more it was applied in the real world, the more I was feeling the responsibility for possible failures. When in 2018 Fred Larsen used PJON and <a href="https://github.com/fredilarsen/ModuleInterface">ModuleInterface</a> to handle the life support systems of his hens' house in Norway I started to be preoccupied for those animals and be finally aware of the potential consequencies and the risks involved in PJON real world applications, specially if dealing with living beings. If for whatever reason the temperature value transmitted was corrupted by interference or because of a bug, the hens could have ended up frozen or roasted. The conception of this possibility pushed me to study deeper the implementation and make better software.
            </p>
          </article>
          <br>
          <article>
            <h2>2019 - PJON in the top ten</h2>
            <p>
              After the release of <a href="https://github.com/gioblu/PJON/releases/tag/12.0">PJON 12.0</a>, in November 2019, unexpectedly, we experienced a 25% growth of the community in few days. The right <a href="https://news.ycombinator.com/item?id=21427013">HN post</a> and few reddit discussions ‚Ä¶</p></article></div></section></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.pjon.org/how.php">https://www.pjon.org/how.php</a></em></p>]]>
            </description>
            <link>https://www.pjon.org/how.php</link>
            <guid isPermaLink="false">hacker-news-small-sites-25485943</guid>
            <pubDate>Sun, 20 Dec 2020 13:02:05 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Python Print() and Beyond]]>
            </title>
            <description>
<![CDATA[
Score 44 | Comments 17 (<a href="https://news.ycombinator.com/item?id=25485916">thread link</a>) | @josiasaurel
<br/>
December 20, 2020 | https://josiasdev.best/python-print-and-beyond | <a href="https://web.archive.org/web/*/https://josiasdev.best/python-print-and-beyond">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><section itemprop="articleBody mainEntityOfPage"><div><div><div><div><p>Subscribe to <!-- -->my<!-- --> newsletter and never miss <!-- -->my<!-- --> upcoming articles</p></div></div></div><div itemprop="text"><h2 id="beyond-the-print-function-in-python">Beyond the <code>print()</code> function in <em>Python</em></h2>
<p>Hey guys, today I am going to talk about some features of the <code>print()</code> function in python. You will probably have come across some of these functions while others could seem new.</p>
<p>Let's start by understanding the basics of the print function. 
In python, the built-in print function is used to print all kinds of stuff - text, numbers, objects, dictionaries etc.
But how does this function handle that ?! You might think; it just can do it, it was made for that. But in reality, the print function in python can only handle strings.</p>
<p>Under the hood, anything you pass to the <code>print()</code> function gets converted to a string before being printed to your screen. That mean it will make use of the <code>str()</code> type casting and convert all other data types to strings before displaying them to your console/terminal.
Now that you know how the <code>print()</code> work, let's dive into its features.</p>
<p>Furthermore, print doesn't know how to print text to the screen. I won't go detail into that for now. Later in this post, you will know what happens under it.</p>
<p>Basically, you can print whatever you want . The simplest example you have come across is <code>print("Hello World!")</code>
It take a string enclosed in double quotes or single quotes and prints it.
You can also print multiple stuff by simply separating them with comas as such :</p>
<pre><code>name = <span>"Mike"</span>
age = <span>24</span>
print(<span>"Hello"</span>, name, <span>"Your age is"</span>, age)

</code></pre>
<p>You can as well print text that takes more than a line. In this case, you will be using the newline escape character <code>\n</code>
Example :</p>
<pre><code>print(<span>"Hello \nWorld"</span>)



</code></pre>
<p>You can also format text with it. Making use of <code>f-strings</code></p>
<pre><code>name = <span>"Samson"</span>
print(<span>f"Hello <span>{name}</span>"</span>)

</code></pre>
<p>The example above showcase the basics of the print function. It can take a variable number of values to print. Other than that, there are also some keyword arguments.
Let's dive into them</p>
<h2 id="1-separator">1. Separator</h2>
<p><code>print()</code> allows you to decide what separates text we print with it. By default, all the values you pass to it are separated by empty strings. But we change that. It suffices to include <code>sep=</code> followed by whatever you want to separate your text.
Let's make use of the previous example.</p>
<pre><code>name = <span>"Mike"</span>
age = <span>24</span>
print(<span>"Hello"</span>, name, <span>"Your age is"</span>, age, sep=<span>"-"</span>)

</code></pre>
<p>You notice that all what we passed into it separately are separated by a <code>-</code>. You can modify that however you want. You just need to make sure the separator is a valid string.</p>
<h2 id="2-ending">2. Ending</h2>
<p>You can specify by whatever you want your output to end with. By default, what you print end with a newline escape character <code>\n</code>. Let's change that and see what happens</p>
<pre><code>
print(<span>"Hello James"</span>)
print(<span>"How are you doing"</span>)





print(<span>"Hello James"</span>, end=<span>""</span>)
print(<span>"How are you doing"</span>, end=<span>""</span>)


</code></pre>
<p>If we execute that, we notice the text is no more separated by a new line. Let's try that again! But this time, we want it to end by <code>y</code> and move to a new line.</p>
<pre><code>print(<span>"Hello James"</span>, end=<span>"y\n"</span>)
print(<span>"How are you doing"</span>, end=<span>"\n"</span>)
</code></pre>
<p>We get the following output</p>
<pre><code><span>Hello</span> Jamesy
How are you doingy
</code></pre><p>Yay it worked !</p>
<h2 id="3-writing-to-a-file">3. Writing to a file</h2>
<p>At the beginning of this post, I said python doesn't know how to print stuff to the screen by itself. It rather uses <code>sys.stdout</code> and writes your text to that file. 
Wait what ! Print will write text to a file object which I sent to your screen via <code>sys.stdout</code>. Therefore, you can modify this behaviour too in order to have this printed elsewhere.
Let's give it a try.
Write the following code:</p>
<pre><code><span>with</span> open(<span>"hello.txt"</span>, <span>"w"</span>) <span>as</span> file_object:
        print(<span>"This message is for you"</span>, file=file_object)
</code></pre>
<p>Executing the above will end in a file name <code>hello.text</code> in the same directory with the text <em>This message is for you</em> in it. 
Therefore, we can direct where we want our text to be printed. In this case, we created a file name <code>hello.txt</code> and use the <code>file</code> keyword argument to direct the result to be written to that file rather than our terminal. You can use this to direct any result to wherever you want, even through a socket connection.</p>
<h2 id="4-flushing">4. Flushing</h2>
<p>This one requires an example. Let's have one!</p>
<pre><code><span>import</span> time

names = [<span>"John"</span>, <span>"Sylvia"</span>, <span>"Smith"</span>]

<span>for</span> name <span>in</span> names:
    print(name, end=<span>" "</span>)
    time.sleep(<span>1</span>)
</code></pre>
<p>What this code should do is; print a name after a second. Try and run it and see what happens. 
You notice it unexpectedly waits and print all at once.  This is because since it's on a single line, it is all buffered (packed) before we get it. 
<a target="_blank" href="https://en.m.wikipedia.org/wiki/Data_buffer#:~:text=In%20computer%20science%2C%20a%20data,from%20one%20place%20to%20another.&amp;text=However%2C%20a%20buffer%20may%20be,comparable%20to%20buffers%20in%20telecommunication.">Read more about buffers here</a>
But we could go around that by simply adding the <code>flush=</code> keyword argument to the print function. By default it it set to <code>False</code>. Setting it to true will ensure every print statement is executed and freed from buffer before the next one.
The following code will make it :</p>
<pre><code><span>import</span> time

names = [<span>"John"</span>, <span>"Sylvia"</span>, <span>"Smith"</span>]

<span>for</span> name <span>in</span> names:
    print(name, end=<span>", "</span>, flush=<span>True</span>)
    time.sleep(<span>1</span>)
</code></pre>
<p>If you run it. It will print a name, sleep for a second and print another, all on the same line. 
Yay we did it !</p>
<p>You have reached the end of this post. 
<a target="_blank" href="https://ko-fi.com/S6S01ULOV"><img src="https://www.ko-fi.com/img/githubbutton_sm.svg" alt="ko-fi"></a></p>
</div></div></section></div></div>]]>
            </description>
            <link>https://josiasdev.best/python-print-and-beyond</link>
            <guid isPermaLink="false">hacker-news-small-sites-25485916</guid>
            <pubDate>Sun, 20 Dec 2020 12:53:49 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Building a simple neural net in Java]]>
            </title>
            <description>
<![CDATA[
Score 131 | Comments 51 (<a href="https://news.ycombinator.com/item?id=25485841">thread link</a>) | @wheresvic4
<br/>
December 20, 2020 | https://smalldata.tech/blog/2016/05/03/building-a-simple-neural-net-in-java | <a href="https://web.archive.org/web/*/https://smalldata.tech/blog/2016/05/03/building-a-simple-neural-net-in-java">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
            

            <p>
            In this post we will tackle Artificial Intelligence with baby steps and try to build a very simple neural net in Java.
            </p>

            <h5 id="what-is-a-neural-net">What is a Neural net?</h5>

            <p>
            A neural net is a software representation of how the brain works. Unfortunately, we do not know as of yet how exactly does the brain really work but we do know a little bit of the biology behind this process: the human brain consists of 100 billion cells called neurons, connected together by synapses. If sufficient synapses connected to a neuron fire, then that neuron will also fire. This process is known as "thinking".
            </p>

            <p>
            We thus try and model the above process using a very simple example that has 3 inputs (synapses) and results in a single output (1 neuron firing).

            <img alt="Neural net example" src="https://smalldata.tech/img/blog/nn-1-simple-problem.png" width="400">
            </p>



            <h5 id="a-simple-problem">A simple problem</h5>

            <p>
            We will train our above neural net to solve the following problem. Can you figure out the pattern and guess what the value of the new input should be? 0 or 1?
            </p>

            <div>
              <table>
              <tbody><tr>
                <th>Examples</th>
                <th colspan="3">Input</th>
                <th>Output</th>
              </tr>
              <tr>
                <td>Example 1</td>
                <td>0</td>
                <td>0</td>
                <td>1</td>
                <td>0</td>
              </tr>

              <tr>
                <td>Example 2</td>
                <td>1</td>
                <td>1</td>
                <td>1</td>
                <td>1</td>
              </tr>

              <tr>
                <td>Example 3</td>
                <td>1</td>
                <td>0</td>
                <td>1</td>
                <td>1</td>
              </tr>

              <tr>
                <td>Example 4</td>
                <td>0</td>
                <td>1</td>
                <td>1</td>
                <td>0</td>
              </tr>

              <tr>
                <td colspan="5">&nbsp;</td>
              </tr>

              <tr>
                <td>New situation</td>
                <td>1</td>
                <td>1</td>
                <td>0</td>
                <td>?</td>
              </tr>

              </tbody></table>
            </div>

            <p>
            The answer is actually very simply the value of the left-most column, i.e. 1!
            </p>


            <h5 id="training-process">The training process</h5>

            <p>
            So now that we have the model of a human brain, we will try and get our neural net to learn what the pattern is given the training set. We will first assign each input a random number to produce an output.
            </p>

            <p><img alt="Neural net example" src="https://smalldata.tech/img/blog/nn-1-simple-problem-neuron-weights.png" width="400"></p><p>
            The formula for calculating the output is given as follows:
            $$\sum weight_i . input_i = weight1 . input1 + weight2 . input2 + weight3 . input3$$
            </p>

            <p>
            As it turns out we would like to normalize this output value to something between 0 and 1 so that the prediction makes sense. After normalization we compare the output with the expected output of our inputs. This gives us the error, or how far off is our prediction. We can then use this error to slightly adjust the weights of our neural net and try our luck on the same input again. This can be summarized in the following image:
            </p>

            <!--
            <div>
                <a class="image-popup-no-margins" href="/img/blog/nn-1-training-process.png">
                    <img class="img-responsive centered img-border" alt="Neural net training process" src="/img/blog/nn-1-training-process.png" />
                </a>
                <div class="img-desc">
                </div>
            </div>
            -->

            <p><img alt="Neural net training process" src="https://smalldata.tech/img/blog/nn-1-training-process.png" width="450"></p><p>
            We repeat this training process for all the inputs <i><b>10,000 times</b></i> to reach a satisfactorily trained neural net. We can then use this neural net to make predictions on new inputs!
            </p>

            <p>
            Before we jump into the implementation however, we still need to clarify how we achieved the normalization and the weight adjustment based on the error (also known as back-propagation).
            </p>

            <h5 id="normalization">Normalization</h5>

            <p>
            In a biologically inspired neural network, the output of a neuron is usually an abstraction representing the rate of action potential firing in the cell. In its simplest form, this is binary value, i.e., either the neuron is firing or not. Hence, the need for normalization of this output value.
            </p>

            <p>
            To achieve this normalization we apply what is known as an activation function to the output of the neuron. If we take the example of a really simple Heaviside step function which assigns a 0 to any negative value and a 1 to any positive value, then a large number of neurons would be required to achieve the required granularity of slowly adjusting the weights to reach an acceptable consensus of the training set.
            </p>

            <p>
            As we will see in the next section on back-propagation, this concept of slowly adjusting the weights can be represented mathematically as the slope of the activation function. In biological terms, it can be thought of as the increase in firing rate that occurs as input current increases. If we were to use a linear function instead of the Heaviside function, then we would find that the resulting network would have an unstable convergence because neuron inputs along favored paths would tend to increase without bound, as a linear function is not normalizable.
            </p>

            <p>
            All problems mentioned above can be handled by using a normalizable sigmoid activation function. One realistic model stays at zero until input current is received, at which point the firing frequency increases quickly at first, but gradually approaches an asymptote at 100% firing rate. Mathematically, this looks like:
            $$ \frac{1}{1 + e^{-x}} $$
            </p>

            <p>
            If plotted on a graph, the Sigmoid function draws an S shaped curve:
            </p>

            <p><img alt="sigmoid plot" src="https://smalldata.tech/img/blog/nn-1-sigmoid-plot.png" width="450"></p><p>
            Thus, the final formula for the output of a neuron now becomes
            $$ Output = \frac{1}{1 + e^{-(\sum weight_i . input_i)}} $$
            </p>

            <p>
            There are other normalization functions that we can use but the sigmoid has the advantage of being fairly simple and also having a simple derivative which will be useful when we look at the back propagation below.
            </p>

            <h5 id="back-propagation">Back-propagation</h5>

            <p>
            During the training cycle, we adjusted the weights depending on the error. To do this, we can use the "Error weighted derivative" formula
            $$ Adjustment = error . input . SigmoidCurveGradient(output) $$
            </p>

            <p>
            The reason we use this formula is that firstly, we want to make the adjustment proportional to the size of the error. Secondly, we multiply by the input, which is either a 0 or a 1. If the input is 0, the weight isn‚Äôt adjusted. Finally, we multiply by the gradient of the Sigmoid curve (or the derivative).
            </p>

            <p>
            The reason that we use the gradient is because we are trying to minimize the loss. Specifically, we do this by a <a href="https://en.wikipedia.org/wiki/Gradient_descent">gradient descent method</a>. It basically means that from our current point in the parameter space (determined by the complete set of current weights), we want to go in a direction which will decrease the loss function. Visualize standing on a hillside and walking down the direction where the slope is steepest. The gradient descent method as applied to our neural net is illustrated as follows:
            </p><ol>
                <li>If the output of the neuron is a large positive or negative number, it signifies the neuron was quite confident one way or another.</li>
                <li>From the sigmoid plot, we can see that at large numbers the Sigmoid curve has a shallow gradient.</li>
                <li>Thus, if the neuron is confident that the existing weight is correct, it doesn‚Äôt want to adjust it very much and multiplying by the gradient of the sigmoid curve achieves this.</li>
            </ol>
            

            <p>
            The derivative of the sigmoid function is given by the following formula
            $$ SigmoidCurveGradient(output) = output . (1 - output) $$
            Substituting this back into the adjustment formula gives us
            $$ Adjustment = error . input . output . (1 - output) $$
            </p>

            <h5 id="code">Code</h5>

            <p>
            An important but subtle point that was missed out when explaining the mathematics above was that for each training iteration, the mathematical operations are done on the entire training set at the same time. Thus, we will make use of matrices to store the set of input vectors, the weights and the expected outputs.
            </p>

            <p>
            You can grab the entire project source here: <a href="https://github.com/wheresvic/neuralnet">https://github.com/wheresvic/neuralnet</a>. For the sake of learning, we implemented all the math ourselves using only the standard java Math functions :)
            </p>

            <p>
            We will begin with the <code>NeuronLayer</code> class which is just a placeholder for the weights in our neural net implementation. We provide it with the number of inputs per neuron and the number of neurons which it can use to build a table of the weights. In our current example, this is very simply the last output neuron which has the 3 input neurons.
            </p>

<pre>public class NeuronLayer {

    public final Function<double, double=""> activationFunction, activationFunctionDerivative;

    double[][] weights;

    public NeuronLayer(int numberOfNeurons, int numberOfInputsPerNeuron) {
        weights = new double[numberOfInputsPerNeuron][numberOfNeurons];

        for (int i = 0; i &lt; numberOfInputsPerNeuron; ++i) {
            for (int j = 0; j &lt; numberOfNeurons; ++j) {
                weights[i][j] = (2 * Math.random()) - 1; // shift the range from 0-1 to -1 to 1
            }
        }

        activationFunction = NNMath::sigmoid;
        activationFunctionDerivative = NNMath::sigmoidDerivative;
    }

    public void adjustWeights(double[][] adjustment) {
        this.weights = NNMath.matrixAdd(weights, adjustment);
    }
}
</double,></pre>

            <p>
            Our neural net class is where all the action happens. It takes as a constructor the <code>NeuronLayer</code> and has 2 main functions:
            </p><ul>
                <li><code>think</code>: calculates the outputs of a given input set</li>
                <li><code>train</code>: runs the training loop <code>numberOfTrainingIterations</code> times (usually a high number like 10,000). Note that the training itself involves calculating the output and then adjusting the weights accordingly</li>
            </ul>
            

<pre>public class NeuralNetSimple {

    private final NeuronLayer layer1;
    private double[][] outputLayer1;

    public NeuralNetSimple(NeuronLayer layer1) {
        this.layer1 = layer1;
    }

    public void think(double[][] inputs) {
        outputLayer1 = apply(matrixMultiply(inputs, layer1.weights), layer1.activationFunction);
    }

    public void train(double[][] inputs, double[][] outputs, int numberOfTrainingIterations) {
        for (int i = 0; i &lt; numberOfTrainingIterations; ++i) {

            // pass the training set through the network
            think(inputs);

            // adjust weights by error * input * output * (1 - output)

            double[][] errorLayer1 = matrixSubtract(outputs, outputLayer1);
            double[][] deltaLayer1 = ‚Ä¶</pre></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://smalldata.tech/blog/2016/05/03/building-a-simple-neural-net-in-java">https://smalldata.tech/blog/2016/05/03/building-a-simple-neural-net-in-java</a></em></p>]]>
            </description>
            <link>https://smalldata.tech/blog/2016/05/03/building-a-simple-neural-net-in-java</link>
            <guid isPermaLink="false">hacker-news-small-sites-25485841</guid>
            <pubDate>Sun, 20 Dec 2020 12:37:07 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Incarceration in Real Numbers]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25485820">thread link</a>) | @DyslexicAtheist
<br/>
December 20, 2020 | https://mkorostoff.github.io/incarceration-in-real-numbers/ | <a href="https://web.archive.org/web/*/https://mkorostoff.github.io/incarceration-in-real-numbers/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
  <div id="prisoners">
    
    
    
    

    <div>
      <p>The United States holds more people in jails and prisons than any other country by far, both in absolute numbers and as a percentage of population.</p>
    </div>

    <div id="per-one-hundred">
      <div id="per-one-hundred-inner">
        <h2>Incarcerated per 100,000 residents <sup>[<a href="https://github.com/MKorostoff/incarceration-in-real-numbers/blob/master/SOURCES.md#incarceration-rates" target="_blank"></a>]</sup></h2>
        <p><span>USA (698)</span></p>
        <p><span>El Salvador (590)</span></p>
        <p><span>Turkmenistan (552)</span></p>
        <p><span>Thailand (531)</span></p>
        <p><span>Rwanda (511)</span></p>
        <p><span>Cuba (510)</span></p>
        <p><span>Panama (401)</span></p>
        <p><span>Costa Rica (374)</span></p>
        <p><span>Cayman Islands (365)</span></p>
        <p><span>Russia (363)</span></p>
        <p><span>Belize (356)</span></p>
        <p><span>Brazil (348)</span></p>
        <p><span>Belarus (343)</span></p>
        <p><span>Nicaragua (332)</span></p>
        <p><span>Turkey (324)</span></p>
        <p><span>Puerto Rico (313)</span></p>
        <p><span>Brunei Darussalam (307)</span></p>
        <p><span>Cape Verde (296)</span></p>
        <p><span>Uruguay (295)</span></p>
        <p><span>Namibia (295)</span></p>
        <p><span>Iran (294)</span></p>
        <p><span>Trinidad and Tobago (292)</span></p>
        <p><span>Guyana (284)</span></p>
        <p><span>Peru (278)</span></p>
        <p><span>South Africa (275)</span></p>
        <p><span>Georgia (262)</span></p>
        <p><span>Taiwan (258)</span></p>
        <p><span>Swaziland (258)</span></p>
        <p><span>Greenland (249)</span></p>
        <p><span>Colombia (246)</span></p>
        <p><span>French Guiana (243)</span></p>
        <p><span>Gabon (241)</span></p>
        <p><span>Morocco (237)</span></p>
        <p><span>Dominican Republic (237)</span></p>
        <p><span>Cura√É¬ßao (236)</span></p>
        <p><span>Azerbaijan (235)</span></p>
        <p><span>Israel (234)</span></p>
        <p><span>Bahrain (234)</span></p>
        <p><span>Ecuador (233)</span></p>
        <p><span>Macau (233)</span></p>
        <p><span>Chile (232)</span></p>
        <p><span>Argentina (230)</span></p>
        <p><span>Malaysia (230)</span></p>
        <p><span>Honduras (229)</span></p>
        <p><span>Lithuania (221)</span></p>
        <p><span>Cambodia (220)</span></p>
        <p><span>Martinique (215)</span></p>
        <p><span>Fiji (210)</span></p>
        <p><span>Botswana (208)</span></p>
        <p><span>Mauritius (203)</span></p>
        <p><span>New Zealand (201)</span></p>
        <p><span>Paraguay (199)</span></p>
        <p><span>Singapore (199)</span></p>
        <p><span>Jordan (198)</span></p>
        <p><span>Saudi Arabia (197)</span></p>
        <p><span>Czech Republic (197)</span></p>
        <p><span>Poland (195)</span></p>
        <p><span>Tunisia (195)</span></p>
        <p><span>Slovakia (195)</span></p>
        <p><span>Moldova (194)</span></p>
        <p><span>New Caledonia (189)</span></p>
        <p><span>Estonia (187)</span></p>
        <p><span>Latvia (183)</span></p>
        <p><span>Montenegro (183)</span></p>
        <p><span>Suriname (183)</span></p>
        <p><span>Philippines (179)</span></p>
        <p><span>Venezuela (178)</span></p>
        <p><span>Albania (177)</span></p>
        <p><span>Hungary (173)</span></p>
        <p><span>Myanmar (171)</span></p>
        <p><span>Australia (170)</span></p>
        <p><span>Mexico (163)</span></p>
        <p><span>Kyrgyzstan (161)</span></p>
        <p><span>Bolivia (158)</span></p>
        <p><span>Kazakhstan (156)</span></p>
        <p><span>Serbia (156)</span></p>
        <p><span>Algeria (151)</span></p>
        <p><span>Uzbekistan (150)</span></p>
        <p><span>Scotland (149)</span></p>
        <p><span>Ukraine (148)</span></p>
        <p><span>Bhutan (145)</span></p>
        <p><span>Lebanon (144)</span></p>
        <p><span>Guatemala (143)</span></p>
        <p><span>England &amp; Wales (140)</span></p>
        <p><span>Nauru (140)</span></p>
        <p><span>Libya (139)</span></p>
        <p><span>Jamaica (138)</span></p>
        <p><span>Malta (131)</span></p>
        <p><span>Laos (130)</span></p>
        <p><span>Vietnam (128)</span></p>
        <p><span>Ethiopia (127)</span></p>
        <p><span>Micronesia (127)</span></p>
        <p><span>Guernsey (127)</span></p>
        <p><span>Iraq (126)</span></p>
        <p><span>Portugal (125)</span></p>
        <p><span>Bulgaria (125)</span></p>
        <p><span>Isle of Man (125)</span></p>
        <p><span>Spain (124)</span></p>
        <p><span>Uganda (124)</span></p>
        <p><span>Cameroon (124)</span></p>
        <p><span>Zambia (123)</span></p>
        <p><span>Tajikistan (121)</span></p>
        <p><span>China (120)</span></p>
        <p><span>Kuwait (117)</span></p>
        <p><span>Egypt (116)</span></p>
        <p><span>Zimbabwe (114)</span></p>
        <p><span>North Macedonia (112)</span></p>
        <p><span>Mongolia (110)</span></p>
        <p><span>Canada (107)</span></p>
        <p><span>Romania (107)</span></p>
        <p><span>Hong Kong (106)</span></p>
        <p><span>France (105)</span></p>
        <p><span>Sri Lanka (105)</span></p>
        <p><span>Luxembourg (105)</span></p>
        <p><span>UAE (104)</span></p>
        <p><span>Kenya (102)</span></p>
        <p><span>Italy (101)</span></p>
        <p><span>Indonesia (99)</span></p>
        <p><span>Austria (98)</span></p>
        <p><span>Belgium (95)</span></p>
        <p><span>Greece (95)</span></p>
        <p><span>Kosovo (95)</span></p>
        <p><span>Madagascar (93)</span></p>
        <p><span>Angola (93)</span></p>
        <p><span>Lesotho (92)</span></p>
        <p><span>Afghanistan (87)</span></p>
        <p><span>Cyprus (86)</span></p>
        <p><span>Burundi  (85)</span></p>
        <p><span>Monaco (83)</span></p>
        <p><span>Cote d'Ivoire  (82)</span></p>
        <p><span>Switzerland  (81)</span></p>
        <p><span>Haiti  (80)</span></p>
        <p><span>Croatia  (79)</span></p>
        <p><span>Ireland (79)</span></p>
        <p><span>Nepal  (79)</span></p>
        <p><span>Northern Ireland (78)</span></p>
        <p><span>Germany  (77)</span></p>
        <p><span>Armenia  (76)</span></p>
        <p><span>Malawi (76)</span></p>
        <p><span>Slovenia (69)</span></p>
        <p><span>Benin  (68)</span></p>
        <p><span>Senegal  (68)</span></p>
        <p><span>Djibouti (66)</span></p>
        <p><span>Togo (66)</span></p>
        <p><span>Andorra  (64)</span></p>
        <p><span>Denmark  (63)</span></p>
        <p><span>Equatorial Guinea  (63)</span></p>
        <p><span>Mozambique (63)</span></p>
        <p><span>Papua New Guinea (62)</span></p>
        <p><span>Sweden (61)</span></p>
        <p><span>Netherlands  (61)</span></p>
        <p><span>Norway (60)</span></p>
        <p><span>Sierra Leone (60)</span></p>
        <p><span>Syria  (60)</span></p>
        <p><span>Chad (59)</span></p>
        <p><span>Tanzania (59)</span></p>
        <p><span>Finland  (53)</span></p>
        <p><span>Mauritania (53)</span></p>
        <p><span>Qatar  (53)</span></p>
        <p><span>Yemen  (53)</span></p>
        <p><span>Bangladesh (52)</span></p>
        <p><span>Ghana  (52)</span></p>
        <p><span>Sudan  (52)</span></p>
        <p><span>Timor-Leste (52)</span></p>
        <p><span>Liberia  (50)</span></p>
        <p><span>South Sudan  (50)</span></p>
        <p><span>Niger  (44)</span></p>
        <p><span>Burkina Faso (39)</span></p>
        <p><span>Japan  (39)</span></p>
        <p><span>Pakistan (38)</span></p>
        <p><span>Iceland  (37)</span></p>
        <p><span>Nigeria  (36)</span></p>
        <p><span>Oman (36)</span></p>
        <p><span>India  (34)</span></p>
        <p><span>Mali (33)</span></p>
        <p><span>Gambia (31)</span></p>
        <p><span>Liechtenstein  (31)</span></p>
        <p><span>Democratic Republic of Congo (29)</span></p>
        <p><span>Guinea (28)</span></p>
        <p><span>Congo (27)</span></p>
        <p><span>Central African Republic (16)</span></p>
        <p><span>Guinea Bissau  (10)</span></p>
        <p><span>San Marino (6)</span></p>
      <p><a onclick="toggleExpand('per-one-hundred', 'per-one-hundred-inner')">Expand ‚ñº</a>
      </p></div>
    </div>

    <div id="country-rank">
      <div id="country-rank-inner">
        <h2>Number of people incarcerated <sup>[<a href="https://github.com/MKorostoff/incarceration-in-real-numbers/blob/master/SOURCES.md#incarceration-rates" target="_blank"></a>]</sup></h2>
        <p>USA (2.3M)</p>
        <p><span>China (1.7M)</span></p>
        <p><span>Brazil (747K)</span></p>
        <p><span>Russian Federation (524K)</span></p>
        <p><span>India (466K)</span></p>
        <p><span>Thailand (368K)</span></p>
        <p><span>Indonesia (267K)</span></p>
        <p><span>Turkey (265K)</span></p>
        <p><span>Iran (240K)</span></p>
        <p><span>Philippines (215K)</span></p>
        <p><span>Mexico (203K)</span></p>
        <p><span>South Africa (163K)</span></p>
        <p><span>Vietnam (124K)</span></p>
        <p><span>Colombia (123K)</span></p>
        <p><span>Ethiopia (114K)</span></p>
        <p><span>Egypt (106K)</span></p>
        <p><span>Argentina (103K)</span></p>
        <p><span>Myanmar  (92K)</span></p>
        <p><span>Peru (91K)</span></p>
        <p><span>Bangladesh (88K)</span></p>
        <p><span>Morocco (86K)</span></p>
        <p><span>United Kingdom: England &amp; Wales (83K)</span></p>
        <p><span>Pakistan (77K)</span></p>
        <p><span>Poland (74K)</span></p>
        <p><span>Malaysia (74K)</span></p>
        <p><span>Nigeria (73K)</span></p>
        <p><span>France (71K)</span></p>
        <p><span>Rwanda (65K)</span></p>
        <p><span>Germany (64K)</span></p>
        <p><span>Algeria (63K)</span></p>
        <p><span>Saudi Arabia (61K)</span></p>
        <p><span>Taiwan (61K)</span></p>
        <p><span>Italy (61K)</span></p>
        <p><span>Spain (58K)</span></p>
        <p><span>Cuba (57K)</span></p>
        <p><span>Venezuela (57K)</span></p>
        <p><span>Uganda (55K)</span></p>
        <p><span>Republic of  (55K)</span></p>
        <p><span>Ukraine (53K)</span></p>
        <p><span>Kenya (51K)</span></p>
        <p><span>Japan (49K)</span></p>
        <p><span>Iraq (45K)</span></p>
        <p><span>Uzbekistan (44K)</span></p>
        <p><span>Australia (43K)</span></p>
        <p><span>Chile (43K)</span></p>
        <p><span>Ecuador (40K)</span></p>
        <p><span>Canada (40K)</span></p>
        <p><span>El Salvador (38K)</span></p>
        <p><span>Cambodia (37K)</span></p>
        <p><span>Tanzania (36K)</span></p>
        <p><span>Belarus (33K)</span></p>
        <p><span>Afghanistan (31K)</span></p>
        <p><span>Cameroon (31K)</span></p>
        <p><span>Turkmenistan (30K)</span></p>
        <p><span>Kazakhstan (29K)</span></p>
        <p><span>Dominican Republic (26K)</span></p>
        <p><span>Guatemala (25K)</span></p>
        <p><span>Madagascar (25K)</span></p>
        <p><span>Angola (24K)</span></p>
        <p><span>Nepal (24K)</span></p>
        <p><span>Sri Lanka (23K)</span></p>
        <p><span>Azerbaijan (23K)</span></p>
        <p><span>Zambia (23K)</span></p>
        <p><span>Tunisia (23K)</span></p>
        <p><span>Cote d'Ivoire (21K)</span></p>
        <p><span>Czech Republic (21K)</span></p>
        <p><span>Sudan (21K)</span></p>
        <p><span>Nicaragua (21K)</span></p>
        <p><span>Romania (21K)</span></p>
        <p><span>Democratic Republic of Congo (21K)</span></p>
        <p><span>Honduras (21K)</span></p>
        <p><span>Jordan (20K)</span></p>
        <p><span>Mozambique (20K)</span></p>
        <p><span>Zimbabwe (19K)</span></p>
        <p><span>Israel (19K)</span></p>
        <p><span>Costa Rica (19K)</span></p>
        <p><span>Bolivia (18K)</span></p>
        <p><span>Panama (17K)</span></p>
        <p><span>Hungary (17K)</span></p>
        <p><span>Ghana (15K)</span></p>
        <p><span>Malawi (15K)</span></p>
        <p><span>Yemen (14K)</span></p>
        <p><span>Paraguay (14K)</span></p>
        <p><span>Portugal (13K)</span></p>
        <p><span>Singapore (12K)</span></p>
        <p><span>Senegal (12K)</span></p>
        <p><span>Belgium (11K)</span></p>
        <p><span>Serbia (11K)</span></p>
        <p><span>Burundi (11K)</span></p>
        <p><span>Slovakia (11K)</span></p>
        <p><span>Syria (11K)</span></p>
        <p><span>Puerto Rico  (10K)</span></p>
        <p><span>Netherlands (10K)</span></p>
        <p><span>Uruguay (10K)</span></p>
        <p><span>Greece (10K)</span></p>
        <p><span>Kyrgyzstan (10K)</span></p>
        <p><span>New Zealand (10K)</span></p>
        <p><span>United Arab Emirates (10K)</span></p>
        <p><span>Georgia (10K)</span></p>
        <p><span>Niger (10K)</span></p>
        <p><span>Tajikistan (9K)</span></p>
        <p><span>Libya (9K)</span></p>
        <p><span>Bulgaria (9K)</span></p>
        <p><span>Laos (9K)</span></p>
        <p><span>Haiti (9K)</span></p>
        <p><span>Chad (9K)</span></p>
        <p><span>Austria (9K)</span></p>
        <p><span>United Kingdom: Scotland (8K)</span></p>
        <p><span>Hong Kong  (8K)</span></p>
        <p><span>Benin (8K)</span></p>
        <p><span>Burkina Faso (8K)</span></p>
        <p><span>Namibia (7K)</span></p>
        <p><span>South Sudan (7K)</span></p>
        <p><span>Lebanon (7K)</span></p>
        <p><span>Switzerland (7K)</span></p>
        <p><span>Moldova  (7K)</span></p>
        <p><span>Sweden (6K)</span></p>
        <p><span>Lithuania (6K)</span></p>
        <p><span>Mali (5K)</span></p>
        <p><span>Togo (5K)</span></p>
        <p><span>Papua New Guinea (5K)</span></p>
        <p><span>Albania (5K)</span></p>
        <p><span>Sierra Leone (5K)</span></p>
        <p><span>Kuwait (5K)</span></p>
        <p><span>Gabon (4K)</span></p>
        <p><span>Botswana (4K)</span></p>
        <p><span>Trinidad and Tobago (4K)</span></p>
        <p><span>Ireland, Republic of (4K)</span></p>
        <p><span>Jamaica (4K)</span></p>
        <p><span>Guinea  (4K)</span></p>
        <p><span>Denmark (4K)</span></p>
        <p><span>Latvia (4K)</span></p>
        <p><span>Bahrain (3K)</span></p>
        <p><span>Swaziland/eSwatini (3K)</span></p>
        <p><span>Mongolia (3K)</span></p>
        <p><span>Croatia (3K)</span></p>
        <p><span>Norway (3K)</span></p>
        <p><span>Finland (3K)</span></p>
        <p><span>Mauritius (3K)</span></p>
        <p><span>Estonia (2K)</span></p>
        <p><span>Liberia (2K)</span></p>
        <p><span>North Macedonia (2K)</span></p>
        <p><span>Mauritania (2K)</span></p>
        <p><span>Armenia (2K)</span></p>
        <p><span>Guyana (2K)</span></p>
        <p><span>Lesotho (2K)</span></p>
        <p><span>Fiji (2K)</span></p>
        <p><span>Maldives (2K)</span></p>
        <p><span>Bahamas (2K)</span></p>
        <p><span>Bosnia and Herzegovina: Federation (2K)</span></p>
        <p><span>Kosovo/Kosova (2K)</span></p>
        <p><span>Macau  (2K)</span></p>
        <p><span>Cape Verde  (2K)</span></p>
        <p><span>United Kingdom: Northern Ireland (1K)</span></p>
        <p><span>Slovenia (1K)</span></p>
        <p><span>Brunei Darussalam (1K)</span></p>
        <p><span>Oman (1K)</span></p>
        <p><span>Belize (1K)</span></p>
        <p><span>Congo  (1K)</span></p>
      <p><a onclick="toggleExpand('country-rank', 'country-rank-inner')">Expand ‚ñº</a>
      </p></div>
    </div>

    <div>
      <p>There are more incarcerated people than members of almost any profession. There are more incarcerated people than military personnel. There are more incarcerated people than bus drivers, bar tenders, and hair dressers combined. [<a target="_blank" href="https://github.com/MKorostoff/incarceration-in-real-numbers/blob/master/SOURCES.md#incarceration-compared-to-professions"></a>]</p>
    </div>

    <div>
      <p>
        More Americans are incarcerated today than there have been Americans killed in all of the wars in all of history combined.
      </p>
    </div>

    <div id="casualties">
      <div>
        <h2>Incarceration compared to casualties of war <sup>[<a target="_blank" href="https://github.com/MKorostoff/incarceration-in-real-numbers/blob/master/SOURCES.md#american-war-dead"></a>]</sup></h2>
        <p>Americans currently incarcerated (2.3M)</p>
        <p>American war dead, all of history combined (1.3M)</p>
        <p>American war wounded, all of history combined (1.5M)</p>
      </div>
    </div>

    <div>
      <p>While the incarcerated population is unfathomably large, it is just the tip of the iceberg.</p>
    </div>

    <div id="correctional-population">
      <div>
        <h2>The total correctional population <sup>[<a href="https://github.com/MKorostoff/incarceration-in-real-numbers/blob/master/SOURCES.md#total-correctional-population" target="_blank"></a>]</sup></h2>
        <div>

          <div>
            <p>Currently incarcerated (2.3M)</p>
          </div>

          <div>
            <p>Will be incarcerated this year (4.9M)</p>
          </div>

          <div>
            <p>Alive currently, will go to prison ever (10.9M)</p>
          </div>

          <div>
            <p>Has a criminal record (77M)</p>
          </div>

          <div>
            <p>Ever had an immediate family member incarcerated (113M)</p>
          </div>

        </div>
      </div>
    </div>

    <div>
      <p>Almost no one gets a trial.</p>
    </div>

    <div>
      <p><img src="https://mkorostoff.github.io/incarceration-in-real-numbers/img/person/blue.svg">Notice that the background icons have changed. The blue icons are the portion of incarcerated people who got trials, around 2%.</p>
    </div>

    <div>
      <p>Almost all accused people are extorted into taking plea bargains under the threat of a longer sentence, the ruinous cost of mounting a defense, and the wildly under-resourced public defender system. [<a href="https://github.com/MKorostoff/incarceration-in-real-numbers/blob/master/SOURCES.md#plea-bargains" target="_blank"></a>]</p>
    </div>

    <div>
      <p>No other country on earth incarcerates so many people without trial. ‚Ä¶</p></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://mkorostoff.github.io/incarceration-in-real-numbers/">https://mkorostoff.github.io/incarceration-in-real-numbers/</a></em></p>]]>
            </description>
            <link>https://mkorostoff.github.io/incarceration-in-real-numbers/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25485820</guid>
            <pubDate>Sun, 20 Dec 2020 12:32:12 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Meritocracies Are Unfair ‚Äì and That's the Point]]>
            </title>
            <description>
<![CDATA[
Score 57 | Comments 98 (<a href="https://news.ycombinator.com/item?id=25485766">thread link</a>) | @whack
<br/>
December 20, 2020 | https://outlookzen.com/2020/12/20/meritocracies-are-unfair-and-thats-the-point/ | <a href="https://web.archive.org/web/*/https://outlookzen.com/2020/12/20/meritocracies-are-unfair-and-thats-the-point/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		
<figure><a href="https://en.as.com/en/2020/04/13/other_sports/1586800170_771249.html" target="_blank"><img data-attachment-id="1212" data-permalink="https://outlookzen.com/bolt/" data-orig-file="https://outlookzen.files.wordpress.com/2020/12/bolt.jpeg" data-orig-size="1242,1114" data-comments-opened="0" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="bolt" data-image-description="" data-medium-file="https://outlookzen.files.wordpress.com/2020/12/bolt.jpeg?w=300" data-large-file="https://outlookzen.files.wordpress.com/2020/12/bolt.jpeg?w=1024" src="https://outlookzen.files.wordpress.com/2020/12/bolt.jpeg?w=1024" alt="" srcset="https://outlookzen.files.wordpress.com/2020/12/bolt.jpeg?w=1024 1024w, https://outlookzen.files.wordpress.com/2020/12/bolt.jpeg?w=150 150w, https://outlookzen.files.wordpress.com/2020/12/bolt.jpeg?w=300 300w, https://outlookzen.files.wordpress.com/2020/12/bolt.jpeg?w=768 768w, https://outlookzen.files.wordpress.com/2020/12/bolt.jpeg 1242w" sizes="(max-width: 1024px) 100vw, 1024px"></a></figure>



<p>When your father suffers a heart attack and needs emergency surgery, who would you rather have operating on him?</p>



<p>An inspiring doctor who lost an arm in a tragic car accident, and still heroically manages to attain an average level of success as a surgeon?<br>Or the son of a multimillionaire who has breezed through life with minimal setbacks, and boasts one of the best surgical track records?</p>



<hr>



<p>There is a common perception that a meritocracy is the most fair way to run society. That because we are avoiding bias and favoritism and picking candidates purely based on their capabilities and achievements, a meritocratic system is the most fair of all.&nbsp;</p>



<p>Such a belief is hogwash. There‚Äôs nothing ‚Äúfair‚Äù about not selecting the surgeon who lost his arm in a car accident, and is now trying desperately to hold on to his career. There‚Äôs nothing fair about the fact that some people are born into good circumstances which confer a tremendous headstart in life. There‚Äôs nothing fair about the fact that so many of society‚Äôs most accomplished individuals grew up in upper-middle-class families that nurtured them, raised them well, and gave them access to highly regarded schools and teachers.</p>



<p>A meritocracy never was, and never will be, ‚Äúfair‚Äù. <strong>And that‚Äôs the whole point.</strong></p>



<p>The reason meritocracies work so well, is not because they are fair, but because they produce peak performance.</p>



<p>NFL teams draft the ‚Äúbest‚Äù players they can find, because they know that‚Äôs how they can win the most games. Universities grant tenure to the most productive professors, because that will best enhance the University‚Äôs reputation, and further the frontiers of knowledge. Hospitals hire the best doctors, because they can save the most lives.&nbsp;</p>



<p>Hiring people who are ‚Äúgood enough‚Äù is simply not good enough. There has never been, and never will be, a team that won the world cup by selecting players who are ‚Äúgood enough.‚Äù And what‚Äôs true for a kid‚Äôs game, is doubly true for our society. A society should delegate its jobs to those who are smartest, most capable, and most accomplished in that field. Because they are the ones who can best lead society through the worldly challenges we face everyday. Corrupting this process by discriminating on the basis of family ties, personal friendships, wealth, race, or gender, is simply cutting your nose to spite your face.</p>



<p>Which is not to say that ‚Äúfairness‚Äù and Social Justice isn‚Äôt important. It is vital. But you don‚Äôt get to it by hiring less qualified candidates. By turning down the best possible candidate in favor of someone who is more sympathetic and ‚Äúgood enough‚Äù. A meritocracy excels at producing wealth and economic prosperity. Universal basic income, universal healthcare, unemployment insurance, better public schooling and free job trainings‚Ä¶ these are the kind of Social Justice programs that can share the resulting prosperity among everyone.</p>



<p>Social justice teaches us how to distribute the pie fairly, so that no one is left behind. This is absolutely essential, and something we should always keep in mind. But social justice doesn‚Äôt have all the answers on how to grow the pie in the first place. And unless we harness the power of a meritocracy to keep the pie growing, we will all soon be fighting over scraps.</p>



<hr>



<p><a rel="noreferrer noopener" href="https://news.ycombinator.com/item?id=25485766" target="_blank"><em>Discussion thread on HackerNews</em></a></p>



<p><em><strong>Addendum</strong>: This article‚Äôs thesis is that we should select/hire candidates who will perform best in the role, regardless of their personal circumstances. Many have mentioned that traditional methods of assessment may be flawed, incomplete, or biased. In accordance with the thesis, we should certainly strive to refine our assessment methods, and continually make them more accurate. This article is certainly not stating that current methods of assessment are perfect.</em></p>



<p><em>Many have also brought up the point that personal circumstances often do impact job performance. For example, <a rel="noreferrer noopener" href="https://www.gsb.stanford.edu/insights/diversity-work-group-performance" target="_blank">some studies have suggested that diverse teams perform better than homogenous teams</a>, especially in certain job roles. If you are an ardent believer in improving team performance, this would mean taking into account any demographic info that would help the organization perform better. This is also a double-edged sword for a couple reasons:<br>1. By legalizing the use of race or gender as a factor in hiring decisions, you would also be enabling prejudiced employers who discriminate against women or minorities, for purely bigoted reasons<br>2. <a rel="noreferrer noopener" href="https://archive.boston.com/news/globe/ideas/articles/2007/08/05/the_downside_of_diversity/" target="_blank">Studies have also found that communities operate better in some ways, when they are more homogenous</a>. If more such studies are unearthed in future, the same reasoning above could be used to justify discriminating against all women and people of color. Something most of us, including myself, would consider to be dystopian.</em></p>
	</div><div>
				<p><strong>Published</strong>
			<time datetime="2020-12-20T07:05:42-05:00">December 20, 2020</time><time datetime="2020-12-21T08:16:07-05:00">December 21, 2020</time>		</p><!-- .site-posted-on -->
	</div></div>]]>
            </description>
            <link>https://outlookzen.com/2020/12/20/meritocracies-are-unfair-and-thats-the-point/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25485766</guid>
            <pubDate>Sun, 20 Dec 2020 12:19:32 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[11.49% of my living costs were covered by passive income in 2020]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 3 (<a href="https://news.ycombinator.com/item?id=25485664">thread link</a>) | @lucas03
<br/>
December 20, 2020 | https://www.lucas03.com/path-to-my-financial-independence/ | <a href="https://web.archive.org/web/*/https://www.lucas03.com/path-to-my-financial-independence/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		<p>I thought I will write down how am I doing with reaching financial independence, to track progress and see if it is doable, or I need to do major changes. So I‚Äôll be updating this page yearly with recent passive income that is covering my living costs. And I‚Äôll add a short paragraph to each year, might be nice to read in retrospective üôÇ</p>



<h2>TLDR table</h2>



<figure><table><tbody><tr><td>Year</td><td>Costs increase (compared to the previous year)</td><td>passive income covering costs</td></tr><tr><td>2020</td><td>-26%</td><td>11.49%</td></tr><tr><td>2019</td><td>+24%</td><td>6,14% (10% without car)</td></tr><tr><td>2018</td><td>+29%</td><td>‚Äì</td></tr><tr><td>2017</td><td>+20%</td><td>‚Äì</td></tr><tr><td>2016</td><td>base</td><td>‚Äì</td></tr></tbody></table></figure>



<p><strong>Goal? Get passive income to 100%</strong>. And then just slowly grow it and diversify to make it safer. Looking forward to seeing how will it look like in 10/20 years!</p>



<h2>2021</h2>



<p>Let‚Äôs set a goal. <strong>15% costs coverage</strong> in 2021 seems a reachable value! It all depends on how I will keep my costs down.</p>



<h2>2020</h2>



<p>Corona year. As for investing, it was a great year. I have saved a lot by not having as many abroad holidays as I used to have in previous years. Stock prices in March were extremely cheap, I bought triple the amount in March that I used to buy monthly before. I expected this sell-off will last the whole year, but unfortunately for me, it rebounded within a few months. Still, this was probably the best year I will experience in the following decade. <strong>11.49% is an important number</strong> for 2020 ‚Äì the percentage of costs covered by my passive income. After 5 years of investing, it‚Äôs not much.</p>



<p>But I am optimistic for a few reasons:</p>



<ol><li>If corona crisis does not bankrupt p2p lending platforms, I will probably invest more there. It seems to be 11% stable XIRR, which is much higher compared to dividends from stocks (3-4%). </li><li>Some companies cut or suspended their dividends -&gt; hopefully, they will put them back in the following years -&gt; increasing my passive income.</li><li>On top of my monthly deposits, reinvestments of passive impact have a greater impact than ever before. Compound interested, let‚Äôs keep it rolling!</li></ol>



<p>We will see, maybe I would find real estate in 2021 and it will trim my stock investments significantly. Also in capital gains (crypto and stocks), I have made probably 150% of all my costs in 2020 -&gt; which is great, but I am not taking profit, and it may go back down.</p>



<h2>2019</h2>



<p>This year was hopefully the year when my massive increases in costs stop. I have bought a car in 2019 ‚Äì it is 10 years old Honda Accord, so not that expensive, but still had a huge impact on my costs (car itself, insurance, gas, repairs, ‚Ä¶). Overall I ended up with passive income covering 6.14%, which is horrible after over 4 years of investing. If it grew 6% every 4 years, I <strong>would get 100% of my costs covered in 62 years</strong>. And that is assuming, I will have same costs in 62 years ‚Äì looking at yearly increases and inflation, unrealistic.</p>



<h2>History</h2>



<p>For P2P lending, I started with 1000 euros on <a href="https://www.lucas03.com/link/bondora">bondora</a>, which did not prove to be that profitable. I then only slowly increased my deposit, that is why it does not have that big of an impact on my passive income.</p>



<p>For investing, I have started with small payments in December 2015, still being a student and doing only 1 small stock purchase per month. Luckily it stuck with me and I believe after 5 years, I build up a good habit of monthly investing.</p>

	</div></div>]]>
            </description>
            <link>https://www.lucas03.com/path-to-my-financial-independence/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25485664</guid>
            <pubDate>Sun, 20 Dec 2020 11:56:54 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Efficient Navigation in Vim]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25485636">thread link</a>) | @gauchojs
<br/>
December 20, 2020 | https://blog.bespinian.io/posts/efficient-navigation-in-vim/ | <a href="https://web.archive.org/web/*/https://blog.bespinian.io/posts/efficient-navigation-in-vim/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <p>When editing a file, it is quite crucial that you can navigate your cursor around rather quickly. <a href="https://www.vim.org/">Vim</a> and <a href="https://neovim.io/">NeoVim</a> allow for many different ways of doing so which, depending on the situation, can be more or less efficient and useful. This article examines the different ways of moving the cursor and compares them. Here, the term ‚Äúefficiency‚Äù refers to navigating the cursor with as little time and effort (i.e. the number of keystrokes) as possible.</p>
<h2 id="using-the-mouse">Using the Mouse</h2>
<p><strong>TL;DR: Not recommended</strong></p>
<p>Using the mouse pointer to navigate Vim may seem like an obvious choice for users coming from a GUI editor like <a href="https://code.visualstudio.com/">Visual Studio Code</a> or similar. However, in Vim, the goal is to keep your fingers on the ‚Äúhome row‚Äù of the keyboard (the row where the <code>F</code> and the <code>J</code> keys reside) and not having to move them greatly towards the touchpad or even the mouse. This should reduce the strain on your hands and wrists and make editing more efficient. Therefore, navigating with the mouse should be highly discouraged in most situations and is even disabled by default.</p>
<p>It can be helpful to enable it for users transitioning from one of the aforementioned editors who would like to have a smooth transition by allowing themselves to use the mouse initially and switching it back off again later in their learning journey. To turn on mouse navigation, add the following to your configuration file (either <code>~/.vimrc</code> or <code>~/.config/nvim/init.vim</code>):</p>
<div><pre><code data-lang="vim"><span>" Temporarily enable mouse support</span><span>
</span><span></span><span>set</span> <span>mouse</span>=<span>a</span><span>
</span></code></pre></div><p>This will allow you to point and click to move the cursor and to scroll through the current buffer.</p>
<h2 id="using-the-arrow-keys">Using the Arrow Keys</h2>
<p><strong>TL;DR: Not recommended</strong></p>
<p>Again, for users used to other text editors or even word processing software like <a href="https://www.libreoffice.org/discover/writer/">LibreOffice Writer</a>, it may be tempting to use what they know. In these programs, you mostly use the arrow keys for keyboard-based navigation. This is not recommended because‚Ä¶ you guessed it: They require the user to move their fingers away from the home row.</p>
<p>The alternative is, as described in the next section, to use the <code>h</code>, <code>j</code>, <code>k</code> and <code>l</code> keys on the keyboard which are conveniently placed at the center and where you most likely have your fingers most of the time.</p>
<h2 id="using-hjkl">Using h,j,k,l</h2>
<p><strong>TL;DR: Use for small navigations. Use in combination with relative line numbers.</strong></p>
<p><code>h</code>, <code>j</code>, <code>k</code> and <code>l</code> are the basic movement keys in Vim. They should be used instead of the usual arrow keys on the keyboard to, as discussed above, keep your fingers on the home row as much as possible. It takes a little practice but will pay off in the long run.</p>
<p>One hugely important thing to do with these keys is to not press them multiple times in sequence or even hold them down to move several columns or rows. As with many commands in Vim, they can be prefixed with numbers to move multiple times. For example, <code>12j</code> can be used rather than pressing the <code>j</code> key twelve times which is, obviously, much more efficient (3 vs. 12 keystrokes). However, it is recommendable to only use these keys for small movements and mostly to move lines up or down because there are more efficient ways of moving longer vertical distances or horizontal distances in general.</p>
<p>It can be very useful to enable relative line numbers to see at a glance what number to prefix <code>j</code> or <code>k</code> with to move to a certain line. They can be enabled by adding the following two lines to your configuration file:</p>
<div><pre><code data-lang="vim"><span>" Enable relative line numbers</span><span>
</span><span></span><span>set</span> <span>relativenumber</span><span>
</span><span></span><span>set</span> <span>number</span><span>
</span></code></pre></div><p>This will always show the absolute number of the line the cursor is currently on and relative numbers for all others.</p>
<h2 id="navigation-within-a-line">Navigation Within a Line</h2>
<p><strong>TL;DR: Mostly use <code>f</code>. Also consider <code>w</code>,<code>b</code>,<code>e</code>,<code>^</code> and <code>$</code>.</strong></p>
<p>So far, we‚Äôve mostly looked at navigating from one line to another. The next step is to navigate within a line. In many cases, the straight forward thing to do is to use <code>w</code> or <code>W</code> to move to the next word, <code>b</code> or <code>B</code> to move to the previous word or even <code>e</code> or <code>E</code> to move directly to the end of the next word. For all of them, the lowercase variant considers a ‚Äúword‚Äù to be what we intuitively see as one using delimiters like <code>-</code>, <code>/</code> or <code>.</code> to separate one word from another. The uppercase variant considers anything a word that is delimited by whitespace. Obviously, any of these commands can be prefixed with a number to jump multiple words in one go (e.g. <code>7w</code>). Other useful commands are <code>^</code> which moves to the first non-whitespace character of the line and <code>$</code> to move to the last character of a line. Considering the following line</p>
<p>with the cursor currently on the <code>g</code> character, pressing the following commands is the most efficient way to get to a specific target character:</p>
<table>
<thead>
<tr>
<th>Target Character</th>
<th>Command</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>j</code></td>
<td><code>2w</code></td>
</tr>
<tr>
<td><code>m</code></td>
<td><code>W</code></td>
</tr>
<tr>
<td><code>d</code></td>
<td><code>B</code></td>
</tr>
<tr>
<td><code>i</code></td>
<td><code>e</code></td>
</tr>
<tr>
<td><code>l</code></td>
<td><code>E</code></td>
</tr>
<tr>
<td><code>a</code></td>
<td><code>^</code> or <code>0</code></td>
</tr>
<tr>
<td><code>o</code></td>
<td><code>$</code></td>
</tr>
</tbody>
</table>
<p>When moving multiple words back and forth or to a specific place within a word, <code>t</code> and <code>f</code> are incredibly helpful. Especially <code>f</code> moves to the next occurrence of a specific character which lets you make big jumps within a line. The difference is that <code>f</code> moves to a character and <code>t</code> moves to right before a character. So <code>t</code> is mostly useful for deleting everything to a character. These commands' uppercase variants <code>F</code> and <code>T</code> do the same thing but backwards. All of these commands can be ‚Äúrepeated‚Äù with the <code>;</code> command which jumps to the next occurrence of the targeted character while <code>,</code> jumps to the previous one.</p>
<p>Another command worth mentioning at this point is <code>%</code> which you can use when a character which is part of a pair (e.g. <code>[</code> or <code>}</code>) is currently under your cursor. The <code>%</code> command will take the cursor to the corresponding ‚Äúpartner‚Äù of that character in the pair. So placing the cursor on a <code>(</code> and then executing this command will take you to its closing <code>)</code>.</p>
<h2 id="changelist-and-jumplist">Changelist and Jumplist</h2>
<p><strong>TL;DR: Use <code>ctrl+o</code> and <code>ctrl+i</code> to jump ‚Äúback‚Äù and ‚Äúforward‚Äù. Use <code>g;</code> to jump to last edit.</strong></p>
<p>The jumplist contains all the points in any buffer you recently jumped to (e.g. with <code>12j</code>). It can be accessed with <code>:jumps</code>. The commands to jump back and forth in the jumplist are <code>ctrl+o</code> and <code>ctrl+i</code> respectively. They can be very useful because they act like the ‚Äúback‚Äù and ‚Äúforward‚Äù buttons in a web browser.</p>
<p>The changelist on the other hand contains all the points in the current buffer where you have recently changed something. It can be accessed with the <code>:changes</code> command. A very useful command here is <code>g;</code> which jumps to the last place where you have changed something (i.e. jumps back in the changelist). <code>g,</code> on the other hand takes you back to where you were before (i.e. jumps forward in the changelist). This allows you to easily switch back and forth between a point of reference (e.g. some documentation) and the place where you are currently editing.</p>
<h2 id="search">Search</h2>
<p><strong>TL;DR: Great for moving larger distances vertically and horizontally</strong></p>
<p>By far one of the most efficient ways of moving longer distances horizontally and vertically in a buffer is to use the search. The <code>/</code> key lets you search for a term and conveniently jump to its location. Pressing the <code>n</code> and <code>N</code> keys jumps to the next and previous occurrence of the search term respectively. The <code>?</code> key searches backwards from the current cursor position (which inverts <code>n</code> and <code>N</code>). Even though, the main purpose of the search command is obviously to search, it is an incredibly powerful tool to navigate quickly and efficiently.</p>
<p>The user experience of the search command can be vastly improved by adding the following settings to your configuration file:</p>
<div><pre><code data-lang="vim"><span>" Incrementally search while typing</span><span>
</span><span></span><span>set</span> <span>incsearch</span><span>
</span><span></span><span>" Use smart case for searching</span><span>
</span><span></span><span>set</span> <span>ignorecase</span><span>
</span><span></span><span>set</span> <span>smartcase</span><span>
</span><span></span><span>" Highlight searches</span><span>
</span><span></span><span>set</span> <span>hlsearch</span><span>
</span><span></span><span>" Use &lt;C-L&gt; to clear the highlighting of :set hlsearch.</span><span>
</span><span></span><span>if</span> <span>maparg</span>(<span>'&lt;C-L&gt;'</span>, <span>'n'</span>) ==# <span>''</span><span>
</span><span></span>  <span>nnoremap</span> &lt;<span>silent</span>&gt; &lt;<span>C</span>-<span>L</span>&gt; :<span>nohlsearch</span>&lt;<span>C</span>-<span>R</span>&gt;=<span>has</span>(<span>'diff'</span>)?<span>'&lt;Bar&gt;diffupdate'</span>:<span>''</span>&lt;<span>CR</span>&gt;&lt;<span>CR</span>&gt;&lt;<span>C</span>-<span>L</span>&gt;<span>
</span><span></span><span>endif</span><span>
</span></code></pre></div><p><code>incsearch</code> will make sure that the search pattern is applied incrementally while typing instead of only after pressing the enter key. The combination of <code>ignorecase</code> and <code>smartcase</code> ignores the case of the search term when not using any uppercase letters and doesn‚Äôt ignore it when using at least one uppercase letter which is quite convenient and surprisingly intuitive. <code>hlsearch</code> highlights any matches for the search term allowing to easily jump between them using <code>n</code> and <code>N</code>. The last statement lets you clear the highlighted search results by pressing <code>ctrl+l</code> to unclutter your view once done searching and jumping.</p>
<p>All in all, search is one of the most powerful tools for intuitive and efficient navigation. It covers the common use case of knowing the word or part of a word to navigate to but not having your eyes directly pointed there yet. Furthermore, it‚Äôs simply the fastest way of jumping somewhere in many cases and beats other methods of navigation quite often in that regard.</p>
<h2 id="clunky-movements">Clunky Movements</h2>
<p><strong>TL;DR: Use for very specific use cases only. Consider <code>gg</code> and <code>G</code> for getting to know a file.</strong></p>
<p>In this section we‚Äôll discuss what can be referred to as ‚Äúclunky movements‚Äù. They let the user navigate larger distances in the buffer while sacrificing precision. These commands are less useful for exactly that reason. Vim can be a very efficient text editor by letting the user think about what they want to change, jumping precisely there with very few keystrokes, entering insert mode, performing a change with scalpel-like precision and finally exiting insert mode as soon as it‚Äôs done. The movement commands in this section however, get the cursor around the document as a whole while it‚Äôs hard for the user to predict at a glance, which line and column exactly they will land on.</p>
<p>A good example are the <code>H</code>, <code>M</code> and <code>L</code> keys which take the cursor to the top, the middle or the bottom of the current view port respectively. While this is a very big movement with just one keystroke, it‚Äôs highly likely that they won‚Äôt exactly get the cursor to the line needed but rather will have to be accompanied by pressing <code>j</code> or <code>k</code> multiple times which will result in much more thinking and many more keystrokes than what can be achieved with other methods. Similar are the <code>{</code> and <code>}</code> keys which take the cursor to the next paragraph (a block of text delimited by blank lines).</p>
<p>A useful exception to that are the <code>gg</code> and <code>G</code> commands which take the cursor to ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.bespinian.io/posts/efficient-navigation-in-vim/">https://blog.bespinian.io/posts/efficient-navigation-in-vim/</a></em></p>]]>
            </description>
            <link>https://blog.bespinian.io/posts/efficient-navigation-in-vim/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25485636</guid>
            <pubDate>Sun, 20 Dec 2020 11:51:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: UserCV - sell your Digital services online with custom domain Profile]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25485592">thread link</a>) | @freelancercv
<br/>
December 20, 2020 | https://freelancercv.com/services | <a href="https://web.archive.org/web/*/https://freelancercv.com/services">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<p> I will do HTML, CSS Development or Fix of any bug or error for your front-end website or HTML, HTML5, CSS, CSS3 design I will do PHP programming Development or Fix any PHP bug or PHP error in your PHP Script or PHP website I will do Wordpress Website development and Customization for you I will do all laravel work like API or Create Dynamic Website or CRUD Development etc I will add payment gateway to you website or CMS or Laravel app - Paypal, Braintree, Paystack, Instamojo, Razorpay, Stripe &amp; 30+ gateway I will setup &amp; build amazing wordpress website or wordpress ecommerce store with an elegant design and scalable high performance website. I will send 500 Daily Traffic to your website for One (1) Month to improve SEO and Alexa Ranking I will send 2000 Daily Traffic to your website for One (1) Month to improve SEO and Alexa Ranking Guaranteed Google 1st ( first ) Page Rank with Content Marketing for 499$ a Month I will create an Android Application for your website or for and of yours custom android development requirement I will turn your website into Android App - where you can allow any user to install your android app for your website I will give you an ultimate SEO report for your website with detail missing things and how to improve further to rank your page for any specific keyword! I can do favor for any business and organization or personal /professional websites Logo design easily. You can hire me and take a look of my creativity. I will do any sort of php programming or problem solving in php for you. I will create your dynamic website , debug or modify you existing php scripts. Or satisfy your customized requirements. I will Encode, Encrypt &amp; hide your PHP file Source code with Ioncube Encoder CodeCanyons.net - Product Installation Support &amp; Service I Will Design And Develop Fully Responsive Wordpress Website for your business or landing page or SAAS or for your MVP product. Hire Laravel Developers for your Professional or Personal or Business Project or Web App Development I Will Fix And Develop Dynamic PHP Laravel Websites. I have 4+ years of experience with Laravel framework. I love developing dynamic websites with features which make people's lives easier. I can provide you with quality services. I Will Build New Wordpress Site using Divi Builder And Fix Wordpress Issues I Will Develop a Web Application In Laravel Framework. If you are looking for a responsive professional website that needs to be build on Laravel then you are at a right place. I Will Design Divi Wordpress Website, Customize Divi Theme Using Divi Builder. I Will Do Your Golang Project, Script Or Fix Errors I Will Code Or Fix The Program In Golang , Go Programming Language</p>
</div></div>]]>
            </description>
            <link>https://freelancercv.com/services</link>
            <guid isPermaLink="false">hacker-news-small-sites-25485592</guid>
            <pubDate>Sun, 20 Dec 2020 11:40:51 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Highlights: The Compound Effect by Darren Hardy]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25485497">thread link</a>) | @chegra
<br/>
December 20, 2020 | https://www.chestergrant.com/highlights-the-compound-effect-by-darren-hardy | <a href="https://web.archive.org/web/*/https://www.chestergrant.com/highlights-the-compound-effect-by-darren-hardy">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="post_body_1629895">
    
      <div><center>        <div id="posthaven_gallery[1654635]">
          <p>
          <img src="https://phaven-prod.s3.amazonaws.com/files/image_part/asset/2551215/WTTBALxHaQEXsBIXI7mRVLu0N9E/medium_compound_effect.jpg" data-posthaven-state="processed" data-medium-src="https://phaven-prod.s3.amazonaws.com/files/image_part/asset/2551215/WTTBALxHaQEXsBIXI7mRVLu0N9E/medium_compound_effect.jpg" data-medium-width="361" data-medium-height="500" data-large-src="https://phaven-prod.s3.amazonaws.com/files/image_part/asset/2551215/WTTBALxHaQEXsBIXI7mRVLu0N9E/large_compound_effect.jpg" data-large-width="361" data-large-height="500" data-thumb-src="https://phaven-prod.s3.amazonaws.com/files/image_part/asset/2551215/WTTBALxHaQEXsBIXI7mRVLu0N9E/thumb_compound_effect.jpg" data-thumb-width="200" data-thumb-height="200" data-xlarge-src="https://phaven-prod.s3.amazonaws.com/files/image_part/asset/2551215/WTTBALxHaQEXsBIXI7mRVLu0N9E/xlarge_compound_effect.jpg" data-xlarge-width="361" data-xlarge-height="500" data-orig-src="https://phaven-prod.s3.amazonaws.com/files/image_part/asset/2551215/WTTBALxHaQEXsBIXI7mRVLu0N9E/compound_effect.jpg" data-orig-width="361" data-orig-height="500" data-posthaven-id="2551215">
        </p>
          
        </div>
</center><p>1. Einstein said, √¢‚Ç¨ÀúCompounding is the eighth wonder of the world.√¢‚Ç¨‚Ñ¢</p><p>2.√Ç&nbsp;You√¢‚Ç¨‚Ñ¢ve been bamboozled
for too long. There is no magic bullet, secret formula, or quick fix.</p><p>3.√Ç&nbsp;Earning success is
hard. The process is laborious, tedious, sometimes even boring.
Becoming wealthy, influential, and world-class in your field is
slow and arduous.</p><p>4. I√¢‚Ç¨‚Ñ¢ll win
because of the positive habits I√¢‚Ç¨‚Ñ¢ve developed, and because of
the consistency I use in applying those habits. I√¢‚Ç¨‚Ñ¢m the world√¢‚Ç¨‚Ñ¢s
biggest believer in consistency. I√¢‚Ç¨‚Ñ¢m living proof that it√¢‚Ç¨‚Ñ¢s the
ultimate key to success, yet it√¢‚Ç¨‚Ñ¢s one of the biggest pitfalls
for people struggling to achieve.</p><p>5.√Ç&nbsp;One of Dad√¢‚Ç¨‚Ñ¢s core philosophies was, √¢‚Ç¨≈ìIt doesn√¢‚Ç¨‚Ñ¢t matter how
smart you are or aren√¢‚Ç¨‚Ñ¢t, you need to make up in hard work what
you lack in experience, skill, intelligence, or innate ability. If your
competitor is smarter, more talented, or experienced, you just
need to work three or four times as hard. You can still beat them!√¢‚Ç¨ÔøΩ</p><p>6. Small, seemingly
insignificant steps completed consistently over time will create a
radical difference. Let me give you a few detailed examples.√Ç&nbsp;</p><p>7. Small, Smart Choices + Consistency + Time = RADICAL DIFFERENCE</p><p>8.√Ç&nbsp;By the end of this book, or even before, I want you to know in
your bones that your only path to success is through a continuum
of mundane, unsexy, unexciting, and sometimes difficult daily
disciplines compounded over time.</p><p>9.√Ç&nbsp;You alone are responsible for what you do, don√¢‚Ç¨‚Ñ¢t do, or how
you respond to what√¢‚Ç¨‚Ñ¢s done to you. This empowering mindset
revolutionized my life. Luck, circumstances, or the right situation
wasn√¢‚Ç¨‚Ñ¢t what mattered. If it was to be, it was up to me.</p><p>10. The (Complete) Formula for Getting Lucky:
<br>√Ç&nbsp;Preparation (personal growth) +
Attitude (belief/mindset) +
Opportunity (a good thing coming your way) +
Action (doing something about it) =
Luck√Ç&nbsp;</p><p>11. My mentor Jim Rohn said, √¢‚Ç¨≈ìThe
day you graduate from childhood to adulthood is the day you
take full responsibility for your life.√¢‚Ç¨ÔøΩ </p><p>12.√Ç&nbsp;To help you become aware of your choices, I want you to track
every action that relates to the area of your life you want to improve.</p><p>13.√Ç&nbsp; Simply carry
around a small notebook, something you√¢‚Ç¨‚Ñ¢ll keep in your pocket or
purse at all times, and a writing instrument. You√¢‚Ç¨‚Ñ¢re going to write it
all down. Every day. Without fail. No excuses, no exceptions.</p><p>14.√Ç&nbsp; But tracking my progress and missteps is the
one of the reasons I√¢‚Ç¨‚Ñ¢ve accumulated the success I have. The process
forces you to be conscious of your decisions.</p><p>15.√Ç&nbsp;This is where I√¢‚Ç¨‚Ñ¢m going to become a hard-ass and
insist you track your behaviors for at least one whole week. This
book isn√¢‚Ç¨‚Ñ¢t designed to entertain you; it is designed to help you
get results. To get results, you have to take some action.</p><p>16.√Ç&nbsp;All winners are trackers. Right now I want you to track your life
with the same intention: to bring your goals within sight.</p><p>17. Once you begin
reaping the rewards of the Compound Effect, you√¢‚Ç¨‚Ñ¢ll naturally
want to introduce this practice into other areas of your life. In
other words, you√¢‚Ç¨‚Ñ¢ll choose to choose tracking.</p><p>18.√Ç&nbsp;Psychological studies reveal that 95 percent of everything we
feel, think, do, and achieve is a result of a learned habit!</p><p>19.√Ç&nbsp;Your
choices are only meaningful when you connect them to your
desires and dreams. The wisest and most motivating choices
are the ones aligned with that which you identify as your
purpose, your core self, and your highest values. You√¢‚Ç¨‚Ñ¢ve got
to want something, and know why you want it, or you√¢‚Ç¨‚Ñ¢ll end
up giving up too easily. </p><p>20.√Ç&nbsp;The access point to your why-power is through your core
values, which define both who you are and what you stand
for. Your core values are your internal compass, your guiding
beacon, your personal GPS.</p><p>21. Getting your core values defined and properly calibrated is one
of the most important steps in redirecting your life toward your
grandest vision. </p><p>22.√Ç&nbsp;When your actions conflict with
your values, you√¢‚Ç¨‚Ñ¢ll end up unhappy, frustrated, and despondent.
In fact, psychologists tell us that nothing creates more stress
than when our actions and behaviors aren√¢‚Ç¨‚Ñ¢t congruent with
our values. </p><p>23.√Ç&nbsp;People are either motivated by something they want or
something they don√¢‚Ç¨‚Ñ¢t want. Love is a powerfully motivating
force. But so is hate. Contrary to social correctness, it can be
good to hate. Hate disease, hate injustice, hate ignorance, hate
complacency, and so on. Sometimes identifying an enemy
lights your fire. </p><p>24.√Ç&nbsp;In one of my interviews with Brian Tracy, he put it this way:
√¢‚Ç¨≈ìTop people have very clear goals. They know who they are
and they know what they want. They write it down and they
make plans for its accomplishment. Unsuccessful people carry
their goals around in their head like marbles rattling around in a
can, and we say a goal that is not in writing is merely a fantasy.
And everybody has fantasies, but those fantasies are like bullets
with no powder in the cartridge. People go through life shooting
blanks without written goals√¢‚Ç¨‚Äùand that√¢‚Ç¨‚Ñ¢s the starting point.√¢‚Ç¨ÔøΩ </p><p>25.√Ç&nbsp;Okay, now it√¢‚Ç¨‚Ñ¢s your turn. Get out your little notebook and write
out your top three goals. Now make a list of the bad habits that might
be sabotaging your progress in each area. Write down every one. I suggest that you take some time today to make a list of your
most important goals.√Ç&nbsp;</p><p>26.√Ç&nbsp; One thing Jim Rohn taught me is: √¢‚Ç¨≈ìIf you want to have more,
you have to become more. Success is not something you pursue. What
you pursue will elude you; it can be like trying to chase butterflies.
Success is something you attract by the person you become.√¢‚Ç¨ÔøΩ </p><p>27.√Ç&nbsp;Habits and behaviors never lie. If there√¢‚Ç¨‚Ñ¢s a discrepancy between
what you say and what you do, I√¢‚Ç¨‚Ñ¢m going to believe what you do
every time. If you tell me you want to be healthy, but you√¢‚Ç¨‚Ñ¢ve got
Doritos dust on your fingers, I√¢‚Ç¨‚Ñ¢m believing the Doritos. If you say
self-improvement is a priority, but you spend more time with your
Xbox than at the library, I√¢‚Ç¨‚Ñ¢m believing the Xbox. If you say you√¢‚Ç¨‚Ñ¢re
a dedicated professional, but you show up late and unprepared,
your behavior rats you out every time.</p><p>28.Next, add to that list all the habits you need to adopt that,
practiced and compounded over time, will result in you
gloriously achieving your goals.</p><p>29. Triggers - Look at your list of bad habits. For each one you√¢‚Ç¨‚Ñ¢ve written
down, identify what triggers it. Figure out what I call √¢‚Ç¨≈ìThe Big
4√¢‚Ç¨‚Ñ¢s√¢‚Ç¨ÔøΩ√¢‚Ç¨‚Äùthe √¢‚Ç¨≈ìwho,√¢‚Ç¨ÔøΩ the √¢‚Ç¨≈ìwhat,√¢‚Ç¨ÔøΩ the √¢‚Ç¨≈ìwhere,√¢‚Ç¨ÔøΩ and the √¢‚Ç¨≈ìwhen√¢‚Ç¨ÔøΩ
underlying each bad behavior.</p><p>30.√Ç&nbsp;For example:
√¢‚Ç¨¬¢ Are you more likely to drink too much when you√¢‚Ç¨‚Ñ¢re with
certain people?
√¢‚Ç¨¬¢ Is there a particular time of day when you just have to have
something sweet?
√¢‚Ç¨¬¢ What emotions tend to provoke your worst habits√¢‚Ç¨‚Äùstress,
fatigue, anger, nervousness, boredom?
√¢‚Ç¨¬¢ When do you experience those emotions? Who are you
with, where are you, or what are you doing? 
</p><p>31. Clean House - Get to scrubbin√¢‚Ç¨‚Ñ¢. And I mean this literally and figuratively. If you
want to stop drinking alcohol, remove every drop of it from your
house (and your vacation house, if you have one). Get rid of the
glasses, any fancy utensils or doo-dads you use when you drink,
and those decorative olives, too.</p><p>32.√Ç&nbsp;Look again at your list of bad habits. How can you alter
them so that they√¢‚Ç¨‚Ñ¢re not as harmful? Can you replace them
with healthier habits or drop-kick them altogether? As in,
for good. </p><p>33.√Ç&nbsp;For some of your
long-standing and deep-rooted habits, it may be more effective
to take small steps to ease into unwinding them. You may have
spent decades repeating, cementing, and fortifying those habits,
so it can be wise to give yourself some time to unravel them, one
step at a time. </p><p>34.√Ç&nbsp;Not everyone is wired the same way. Some researchers have
found that it can be paradoxically easier for people to make
lifestyle changes if they change a great many bad habits at once. </p><p>35.√Ç&nbsp;According to research, it takes three hundred instances of
positive reinforcement to turn a new habit into an unconscious
practice√¢‚Ç¨‚Äùthat√¢‚Ç¨‚Ñ¢s almost a year of daily practice!</p><p>36.√Ç&nbsp;The key is staying aware. If you really want to maintain a
good habit, make sure you pay attention to it at least once a day,
and you√¢‚Ç¨‚Ñ¢re far more likely to succeed. </p><p>37.√Ç&nbsp;Any new habit has to work inside your life and lifestyle. If you join
a gym that√¢‚Ç¨‚Ñ¢s thirty miles away, you won√¢‚Ç¨‚Ñ¢t go. If you√¢‚Ç¨‚Ñ¢re a night owl
but the gym closes at 6 p.m., it won√¢‚Ç¨‚Ñ¢t work for you. Your gym must
be close and convenient, and fit into your schedule. </p><p>38. Instead of thinking what you can remove from your life, think instead of what you can add. The good will displace the bad.</p><p>40.√Ç&nbsp;Want to cement that new habit? Get Big Brother to watch
you. It√¢‚Ç¨‚Ñ¢s never been easier with all the social media available.√Ç&nbsp;Tell your family. Tell your friends. Tell Facebook and Twitter.
Get the word out that there√¢‚Ç¨‚Ñ¢s a new sheriff in town, and you√¢‚Ç¨‚Ñ¢re
in charge</p><p>41.√Ç&nbsp;To up your chances
of success, get a success buddy, someone who√¢‚Ç¨‚Ñ¢ll keep you
accountable as you cement your new habit while you return√Ç&nbsp;the favor. I, for example, have what I call a √¢‚Ç¨≈ìPeak-Performance
Partner.√¢‚Ç¨ÔøΩ </p><p>42.√Ç&nbsp;There√¢‚Ç¨‚Ñ¢s nothing like a friendly contest to whet your
competitive spirit and immerse yourself in a new habit with
a bang. </p><p>43.√Ç&nbsp;All work and no play make Jack a dull boy, and it√¢‚Ç¨‚Ñ¢s a recipe for
backsliding. There should be a time to celebrate, to enjoy some of
the fruits of your victories along the way. You can√¢‚Ç¨‚Ñ¢t go through this
thing sacrificing yourself with no benefit.</p><p>44.√Ç&nbsp;For bigger milestones, book a massage
or have dinner at your favorite restaurant. And promise yourself a
nice big pot of gold when you reach the end of the rainbow. </p><p>45.√Ç&nbsp;The key to becoming world-class in your endeavors is to build
your performance around world-class routines. It can be diffi cult,
even futile, to predict or control what will show up in the middle
of your workday. But ‚Ä¶</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.chestergrant.com/highlights-the-compound-effect-by-darren-hardy">https://www.chestergrant.com/highlights-the-compound-effect-by-darren-hardy</a></em></p>]]>
            </description>
            <link>https://www.chestergrant.com/highlights-the-compound-effect-by-darren-hardy</link>
            <guid isPermaLink="false">hacker-news-small-sites-25485497</guid>
            <pubDate>Sun, 20 Dec 2020 11:21:01 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A CAN protocol decoder for Sigrok]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25485444">thread link</a>) | @homarp
<br/>
December 20, 2020 | https://kentindell.github.io/2020/12/19/can2-decoder/ | <a href="https://web.archive.org/web/*/https://kentindell.github.io/2020/12/19/can2-decoder/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    <p>I said in my <a href="http://127.0.0.1:4000/blog/2020/10/25/canframe_py_tool/">previous blog post</a> that
‚ÄúMy next goal is to create a
GTKWave filter so that an arbitrary waveform can be decoded‚Äù and in an early
Christmas present to those who are into the CAN protocol, I‚Äôve done that!
But I‚Äôve done even better and I therefore present to you <strong>the new CAN
protocol decoder</strong> for the Sigrok project.</p>

<p>First, a quick summary of <a href="https://sigrok.org/">Sigrok</a>:
it‚Äôs a set of drivers and tools that
provide a desktop oscilloscope / logic analyzer UI for many, many different
instruments (from Siglent, Rigol and others). The UI runs on
Mac, Windows and Linux (and others) and the GUI is called PulseView (there‚Äôs
also a command-line tool for batch decoding, useful for an automated test
environment). 
PulseView has an API for protocol decoders, and I‚Äôve wrtten one for CAN: it‚Äôs called <code>can2</code>.</p>

<p>A couple of quick bear trap warnings for using PulseView before I
talk about <code>can2</code>:</p>

<ul>
  <li>Don‚Äôt use the Sigrok package that comes with your Linux distro: it‚Äôs very
likely to be too old and there have been lots of changed; download binaries directly.</li>
  <li>If importing a VCD file make sure the Downsampling factor is set so that the logic analyzer sample period is no more than about 1ns. If you don‚Äôt and you feed it a VCD that came from a simulator that used 1ps steps then your PC is going to spinning up its fans for a long time!</li>
</ul>

<p>OK, back to the protocol decoder it can be installed by
copying the directory <code>can2</code> (containing two Python files) into
the directory (on Linux) <code>~/.local/share/libsigrokdecode/decoders</code>.</p>

<p>The decoder appears in the decoders list as ‚ÄúCAN 2.0‚Äù and it requires just one
input: the CAN RX line (from the RX pin of a CAN transceiver).
The options include the sampling point (default 75%) and the bit rate
(default 500kbit/sec).</p>

<p>When the decoder is applied to a CAN signal on it 
then then the output is like this:</p>

<p><img src="https://kentindell.github.io/assets/pulseview1.png" alt="PulseView screenshot"></p>

<p>The top row of the decoder output (‚ÄúCAN 2.0: Bits‚Äù) shows the CAN bits
(regular and stuff bits). A tooltip will
appear giving the bit value if the mouse pointer is hovered over the bit
(PulseView automatically displays the information it can in the space available
at a given zoom level).</p>

<p>The next row shows the CAN fields: the first bit is SOF (Start of Frame),
the next is the 11-bit ID, and so on. A frame ends with the IFS field.
Two other states are not shown: Bus Integration (where the decoder is syncing
to the CAN signal from a reset state) and Idle (where nothing is happening).</p>

<p>The third row shows the full CAN ID (if the frame is an extended frame -
i.e. IDE=1 - then there is a second 18-bit field, and the ID is then
29 bits long). The row also shows the payload decoded into individual bytes.</p>

<p>The fourth row is the really interesting one: it shows information about
the CAN frame. In the screenshot, it displays an ‚ÄúE‚Äù to indicate an
error flag. The tooltip says ‚ÄúForm error‚Äù, which means that the field
contains the wrong value: it is read as a dominant (0) bit and it should
be recessive (1). This is an indication of an error, and the decoder
shows that the subsequent bits are an Error Flag followed by an Error
Delimiter, and then IFS again.</p>

<p>The info row also shows other interesting events, including:</p>

<ul>
  <li>When the frame has been received OK (i.e. second to last bit of EOF)</li>
  <li>When the frame has been transmitted OK (i.e. last bit of EOF)</li>
  <li>If there is an ACK error (i.e. the ACK bit is not 0)</li>
  <li>If the received CRC doesn‚Äôt match the calculated CRC (the protocol decoder
keeps track of the expected CRC value)</li>
  <li>If there is a ‚Äòdouble receive‚Äô (i.e. there is an error after the frame
has been received OK but before the frame has been transmitted OK)</li>
  <li>If there is an overload rather than an error. Modern CAN controllers should
never generate overload frames so to see one means that something odd is
going on. To see two in a row means something <em>very</em> odd is going on.</li>
</ul>

<p>The last two are symptoms of protocol attacks: the <a href="http://127.0.0.1:4000/2020/01/20/new-can-hacks/">Double Receive Attack</a>
and the <a href="http://127.0.0.1:4000/2020/01/20/new-can-hacks/">Freeze Doom Loop Attack</a>. 
The <a href="https://github.com/kentindell/canhack">CANHack toolkit</a> can actually
generate these attacks (and a whole bunch of other attacks)
and so the <code>can2</code> protocol decoder is a good starting
point if an attack on the CAN bus is suspected.</p>

<p>The CAN Double Receive problem isn‚Äôt just a symptom of an attack: it can 
happen for real, and is a consequence of CAN‚Äôs
amazingly useful <a href="http://127.0.0.1:4000/2020/07/11/can-atomic-multicast/">atomic broadcast</a> property (very few
communications protocols provide this and it‚Äôs an essential building block
for robust mission-critical applications). So my top
tip for anyone building a CAN-based application: for any frame that includes
event-based data (like a command) then include a sequence number (it can
be just one bit) so that duplicates can be detected and discarded. Doing
this doesn‚Äôt just fix a wrinkle in the protocol, it also defends against
the Double Receive Attack.</p>

<p>Finally, a couple of things about the decoder. It doesn‚Äôt implement the
CAN time quanta bit sampling scheme (where sync is limited by the SJW
parameter) but it does implement the sync rules (in particular, glitches after
a bit is sampled as 0 are ignored). Also, <code>can2</code> goes into
Bus Integration if it samples the CAN r0 bit as recessive, which means that
CAN FD frames are ignored and skipped over rather than causing the decoder
to get scrambled (incidentally, this is why CAN FD can‚Äôt share a bus with
classic CAN 2.0 controllers).</p>

<p>Oh, one last thing: anyone wanting a GTKWave filter for CAN could use this
<a href="https://gist.github.com/smunaut/4239a17ea116d5ddfdaecad381f712e9#file-gtkwave-sigrok-filter-py">neat little tool</a> to turn the <code>can2</code> Sigrok decoder into exactly that.</p>

  </div>
</article>

      </div>
    </div></div>]]>
            </description>
            <link>https://kentindell.github.io/2020/12/19/can2-decoder/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25485444</guid>
            <pubDate>Sun, 20 Dec 2020 11:10:25 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Raspberry Pi Server Mark III]]>
            </title>
            <description>
<![CDATA[
Score 311 | Comments 155 (<a href="https://news.ycombinator.com/item?id=25485428">thread link</a>) | @homarp
<br/>
December 20, 2020 | https://uplab.pro/2020/12/raspberry-pi-server-mark-iii/ | <a href="https://web.archive.org/web/*/https://uplab.pro/2020/12/raspberry-pi-server-mark-iii/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-597">
								
				<div>
					
<figure><img loading="lazy" width="1024" height="681" src="https://uplab.pro/wp-content/uploads/2020/12/UPTIME-Raspberry-Pi-Platform-pi18nossd-v1.0-1024x681.jpg" alt="" srcset="https://uplab.pro/wp-content/uploads/2020/12/UPTIME-Raspberry-Pi-Platform-pi18nossd-v1.0-1024x681.jpg 1024w, https://uplab.pro/wp-content/uploads/2020/12/UPTIME-Raspberry-Pi-Platform-pi18nossd-v1.0-300x200.jpg 300w, https://uplab.pro/wp-content/uploads/2020/12/UPTIME-Raspberry-Pi-Platform-pi18nossd-v1.0-768x511.jpg 768w, https://uplab.pro/wp-content/uploads/2020/12/UPTIME-Raspberry-Pi-Platform-pi18nossd-v1.0-1536x1022.jpg 1536w, https://uplab.pro/wp-content/uploads/2020/12/UPTIME-Raspberry-Pi-Platform-pi18nossd-v1.0.jpg 1669w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>



<p>Raspberry Pi Rack Server Mark I –∏ Mark II have been working pretty nice for 6 month already. Both of them are based on a model which I found on <a href="https://thingiverse.com/" data-type="URL" data-id="https://thingiverse.com">thingiverse.com</a> and inherited the basic design idea.</p>



<p>With Mark III, I completely rethought the design, which allowed to:</p>



<ul><li>increase the number of raspberries in 2 rack units</li><li>significantly reduce printing time and plastic consumption</li><li>significantly reduce the time required for assembling and disassembling the server</li><li>reduce the number of parts</li><li>implement a modular design, which means that MARK III will be available in various modifications</li></ul>



<p>I‚Äôm glad to present the first basic model, designed for 14x of Raspberry Pi and 14x of a standard 2.5‚Ä≥ SSD.</p>



<p>BTW I will be glad if you subscribe to my instagram <a rel="noreferrer noopener" href="https://www.instagram.com/uptime.lab/" target="_blank">instagram.com/uptime.lab</a> your feedback and likes are very important for me!</p>










<figure><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="noopener noreferrer"><img loading="lazy" width="179" height="82" src="https://uplab.pro/wp-content/uploads/2020/10/image-1.png" alt=""></a></figure>



<p>Printing recommendations:</p>



<ul><li>layer height 0.15mm</li><li>wall thickness &nbsp;0.6mm</li><li>no supports</li><li>horizontal expansion &nbsp;-0.1mm</li><li>without a skirt&nbsp;&nbsp;</li></ul>



<p>Please print one Tray and one Body part first and have a look at how they fit each other, as well as how it works with Raspberry Pi and your SSD.</p>



<p>Screws and other parts:</p>



<ul id="block-9f0674bd-8795-4e10-ada2-1c682dcbc328"><li>Set of 5 fans <a rel="noreferrer noopener" href="https://www.amazon.de/gp/product/B00NTUJZ36" target="_blank">Arctic F8 Value Pack, ACFAN0 0061 A</a>&nbsp;‚Äì&nbsp;<strong>‚Ç¨17.60 incl. VAT</strong></li><li>Power supply for fans&nbsp;<a rel="noreferrer noopener" href="https://www.amazon.de/gp/product/B07MJQ8K4P" target="_blank">12V2A 7Tipps</a>&nbsp;‚Äì&nbsp;<strong>EUR 13.99 incl. VAT</strong></li><li>Adapter with 1 to 6 fans. Cutting off the extra one turns out perfect for my purposes&nbsp;<a rel="noreferrer noopener" href="https://www.amazon.de/gp/product/B003UU6EQQ" target="_blank">L√ºfter Adapterkabel 3Pin auf 6x 3Pin Molex (6x15cm)</a>&nbsp;‚Äì&nbsp;<strong>‚Ç¨4.40 incl. VAT</strong></li><li>Screws for fans M4 12mm 10 pcs. with nuts</li><li>Threaded rod M5 ~452mm &nbsp;2 pcs. and 4pcs nuts M5</li><li>20 screws for fans for plastic (usually come with fans) Like that <a rel="noreferrer noopener" href="https://www.amazon.de/-/en/StarTech-com-Case-Fan-Screws-Pack/dp/B0002AFTD6" target="_blank">StarTech.com PC Case Fan Screws (Pack of 50)</a></li><li>In case you don‚Äôt use original PoE hat you additionally need 2x M2.5 with M2.5 nut for each Raspberry</li><li>2pcs. M3 ~5mm for each SSD. Like <a rel="noreferrer noopener" href="https://www.amazon.de/-/en/Poppstar-Hard-Drive-Screws-Drives/dp/B01HBRG3W8/ref=sr_1_7?__mk_de_DE=%C3%85M%C3%85%C5%BD%C3%95%C3%91&amp;dchild=1&amp;keywords=m3+ssd+schraube&amp;qid=1608385770&amp;sr=8-7" target="_blank">Poppstar Hard Drive Screws for 3.5 Inch or 2.5 Inch Hard Drives Set of 50</a></li><li>SATA Cable Adapter, USB 3.0 to SSD&nbsp;(you don‚Äôt need model faster). Like <a href="https://www.amazon.de/-/en/Sabrent-2-5-inch-Optimized-Supports-EC-SSHD/dp/B011M8YACM/" target="_blank" rel="noreferrer noopener">Sabrent SATA Cable Adapter, USB 3.0 to SSD / 2.5-inch SATA Hard Drive Adapter</a></li></ul>




			
				</div><!-- end .entry-content -->
							</article></div>]]>
            </description>
            <link>https://uplab.pro/2020/12/raspberry-pi-server-mark-iii/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25485428</guid>
            <pubDate>Sun, 20 Dec 2020 11:08:07 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Federation and its consequences have been a disaster for the fediverse]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25485368">thread link</a>) | @jblfan
<br/>
December 20, 2020 | https://proxy.vulpes.one/gemini/cadence.moe/gemlog/2020-11-16-federation-and-its-consequences.bliz | <a href="https://web.archive.org/web/*/https://proxy.vulpes.one/gemini/cadence.moe/gemlog/2020-11-16-federation-and-its-consequences.bliz">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <div><p>&gt; 1194 words, 32 paragraphs, about 4 minutes to read (300 wpm).</p><p>&gt; First published on 2020-11-16.</p><p>&gt; This article has been loaded 2265 times.</p><p>This post will require a lot of in-knowledge to understand. It's okay if you have no idea what I'm talking about.</p><div><p><span> ##</span></p><h2>The supposed differences of the fediverse</h2></div><p>When someone tries to explain the fediverse to someone who doesn't know what it is, chances are they'll be saying that it's like traditional corporate social media, but with these differences:</p><div><ul><li>open source</li><li>federated (and what that means)</li><li>lots of LGBT people on it</li></ul></div><div><p><span> ##</span></p><h2>The real similarities of the fediverse</h2></div><p>Those things are true. But I don't believe they make a difference to how people interact with the site on a fundamental level.</p><p>What do you do on Twitter Dot Com? You scroll down and look at other people's shitty posts. Sometimes you even press the buttons on them. What do you do on the fediverse? You scroll down and look at other people's shitty posts. Sometimes you even press the buttons on them.</p><p>It's the same feedback loop and it creates a very similar feel and environment. After all, that loop is exactly what Mastodon and Pleroma were designed to replicate.</p><p>Federation is touted as a good thing which splits users into separate communities organised by topics. Communities then have to try a little harder to reach across to each other. It's never stated, but the implication is that there's a whole spectrum and variety of communities, and that they're somehow equal in some kind of democratic society.</p><p>In reality, what happens is that 5 very different, distinct, and clearly identifiable varieties of communities emerge. Please see my diagram:</p><p>(Despite the assumptions one might make from the "political compass" format, these are distinct quadrants with solid borders, not sliding scales across the lines.)</p><p>(That chart does not include the 5th segment on it. The 5th segment is the centrists. My commentary about them wouldn't fit in the space.)</p><p>The centrists just use the social media as a social media. They talk about themselves, and others, and what they saw on the news. They don't get involved with the drama between the quadrants. They're likely blissfully unaware of it. They just want to grill for god's sake.</p><p>It's a simple life, and in my opinion, one to be envied.</p><p>In the red zone, we have the likes of hellsite.site, who post more about the network itself and engaging in blocking warfare against the latest suspicious user and the latest suspicious site, than actually making posts and using the social media for a reason.</p><p>Let me try to put this another way. They're trying to create a safe space online, which is a laudable goal. I can appreciate a safe space. But the problem is that they're so focused on trying to curate the perfect social media that they haven't thought about what they're going to do once they actually manage to create that space. They're too caught up in the inter-site hellscape. And if the only thing that they post about is commentary on drama from the spaces they're excluding... is it really a safe space, if the war is the only thing visible?</p><p>Of course, the social media utopia that they aim for will never exist. Blocking sites doesn't work: there will always be something more to block. Instance allowlists get closer, but they'll still never be perfect. There will always be that one user on that one site that did something bad and now everyone hates them. But they're part of an allowed site. Can't get rid of them entirely. What to do? Ah yes, aggressively subpost about them on your timeline. _That'll_ solve the problem! Finally: a safe space!</p><p>While this war continues, there will never be anything but the war to post about. They are fighting for nothing. If they win, which won't happen, it would just be over. The reason they exist would have ended. They are fighting because they exist to fight.</p><p>The red zone is a very tiring existence, and I'm pleased to be rid of it.</p><p>In the purple zone, the only fucking thing they know is technology and "freedom". Christ. How awful.</p><p>Obviously the blue zone is abhorrent.</p><p>The left quadrant is where I find myself nowadays.</p><p>If you run a fediverse site that other people can join as members, then there are exactly two reasons to blanket block another site for all your members.</p><div><ul><li>At least 2 users on the other site are harassing at least 2 of your own members, and the moderators on the other site are not helping.</li><li>Or, the site is dedicated to hosting hate speech.</li></ul></div><p>Otherwise... what's the point?</p><p>The thing is that many things make up a fediverse site.</p><div><ul><li>The site's rules</li><li>The moderators</li><li>The people on it</li></ul></div><p>The people and their behaviour is the most important aspect of any site. If you as a moderator are considering blocking a site, what you are doing is depriving your members of the choice of who to interact with. Mastodon has powerful controls in the hands of the users. Users can block people, users can block entire sites. They can do this themselves. They don't need you to do it for them - unless there's a bigger problem of uncontrolled harassment.</p><p>Uncontrolled harassment is the only use case for a domain block. Did you see one specific person on another site who is being annoying or has really terrible takes? Of course, we've all seen that one person. But WHO THE FUCK CARES. If they aren't specifically being annoying at your members, just live and let live. They can exist in their own world. You don't need to care about them. If they're being specifically annoying at one of your members, then choosing how to interact - or not - should be in the hands of the member, not you.</p><p>You don't need to play god with what your members see. It's the internet. It's a scary place. We all know about that, and we can deal with it ourselves. The only way to make a truly safe space is to close federation and have approved _membership_, and vet individual _people_ before inviting them. In other words, a classic forum, or if you prefer real-time communication, a chatroom. Is this what you want? Then make it, instead of trying to make the fediverse fit your whims.</p><p>It's all so tiring and I'm sick of it.</p><p>Hopefully you can now understand why I block people on sight who post meta drama or block commentary. My life has been much improved for it.</p><p>I'll still recommend the fediverse to other people looking for a new social media to join, but I'll try to direct them into "centrist" spaces rather than the spaces I ended up in, because the discourse and effort of the red zone is not fucking worth the zero upsides it brings.</p><p>If I ever get the desire to create my own social media platform, I'm making a fucking medieval castle social media, which will probably be called Castledon.</p><p>---</p><p>&gt; No replies yet.</p><p>---</p><p>Looking for more?</p></div>
		</div></div>]]>
            </description>
            <link>https://proxy.vulpes.one/gemini/cadence.moe/gemlog/2020-11-16-federation-and-its-consequences.bliz</link>
            <guid isPermaLink="false">hacker-news-small-sites-25485368</guid>
            <pubDate>Sun, 20 Dec 2020 10:53:49 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Tracking Agricultural Emissions with Agrammon]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25485281">thread link</a>) | @lizmat
<br/>
December 20, 2020 | https://raku-advent.blog/2020/12/20/day-20-a-raku-in-the-wild/ | <a href="https://web.archive.org/web/*/https://raku-advent.blog/2020/12/20/day-20-a-raku-in-the-wild/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		
<p>Quite a while ago, Santa got a feature request for a web application called <a href="https://www.agrammon.ch/en">AGRAMMON</a>, developed by the elves of one of his sub-contractors <a href="https://www.oetiker.ch/">Oetiker+Partner AG</a> in what then was called Perl 5. When Santa asked the <a href="https://www.oetiker.ch/en/company/team/fz">elf responsible</a> for this application to get to work, the elf suggested that some refactoring was in order, as the application dated back almost 10 years and had been extended regularly.</p>



<p>As the previous year had seen a real Christmas wonder, namely the <a href="https://perl6advent.wordpress.com/2015/12/">release of Perl 6c</a>, the elf suggested, that instead of bolting yet another feature onto the web application‚Äôs Perl backend, a rewrite in Perl 6 would be a bold but also appropriate move. The reason being that the application used a specially developed format for describing it‚Äôs functionality by none-programmers. What better choice for rewriting the parser than Perl 6‚Äôs grammars, the elf reasoned. Fittingly, the new AGRAMMON was going to be version 6.</p>



<p>When Santa asked when the rewrite would be finished, the elf‚Äôs obivous answer was ‚Äúby Christmas‚Äù. And as things went in Perl 6 land, by the time the rewrite is finally going into production, the backend is now implemented in Raku.</p>



<h2><a href="https://github.com/zaucker/agrammon/blob/Advent/Advent2020/raku-in-the-wild.md#agrammon"></a>AGRAMMON</h2>



<p>Most people nowadays know about the negative side-effects of agriculture on climate, namely emissions of methane and nitrous oxide (strong greenhouse gases) and deforestation. A lesser known, but also significant environmental problem, are ammonia (NH<sub>3</sub>) and nitrous oxide (NO<sub>x</sub>) emissions. For the agricultural production, NH<sub>3</sub> is a major gaseous pollutant while NO<sub>x</sub> is of minor importance.</p>



<p>The main source of these emissions are excretions of farm animals, mainly from cattle, pigs, and poultry. Both liquid and solid manure contain nitrogen compounds such as urea. These compounds are decomposing when the excretions are deposited onto the farm surfaces, subsequently stored in manure stores, and when applied to the field as fertilizer.</p>



<p>In addition to induce negative environmental impacts, these emissions entail a substantial loss of nitrogen (N) from manure and either result in diminished productivity of farms or the loss must be compensated by mineral fertilizers at additional costs to the farmers. In Switzerland alone, about 40,000 tonnes of nitrogen are lost every year, amounting to about 30% of the N load in manure.</p>



<p>In order to address these problems, the processes of ammonia volatilisation are studied, emission mitigation options developed, and the effects measured where possible under controlled conditions. However, as controlled conditions are difficult to implement at farm-scale, the effects of the reduction measures as well as the total amount of emissions can be simulated by model calculations. AGRAMMON is a tool that facilitates such simulations at the scale of a single farm. Such calculations can also be done at regional scale by means of simulating ‚Äútypical farm types‚Äù using average process types and cumulated numbers of animals, storage facilities, and fertilizer application. The following picture shows the processes simulated by the model:</p>



<figure><a href="https://github.com/zaucker/agrammon/blob/Advent/Advent2020/N-model.jpg" target="_blank" rel="noreferrer noopener"><img src="https://github.com/zaucker/agrammon/raw/Advent/Advent2020/N-model.jpg" alt=""></a><figcaption>The model Agrammon calculates ammonia loss on the basis of the N-flux (mass-flow model). For the stages housing/yard, manure store, manure application, and other sources the loss is calculated by using emission rates as a proportion of the total ammoniacal nitrogen (TAN) in the system. For slurry stores, an emission rate per m2 of surface area of the slurry store is used. Important production variables such as feed, housing system, covering of slurry store or emission-mitigating application systems are taken into account in emission rates as correction factors.</figcaption></figure>







<h2>The Application</h2>



<p>AGRAMMON is a typical web application, with data stored in a PostgreSQL database, a web frontend implemented in JavaScript using the <a href="https://qooxdoo.org/">Qooxdoo framework</a> , and a Raku backend. The physical and chemical processes are not directly implemented in the backend, but as already mentioned in a none-programmer-friendly custom ‚Äúlanguage‚Äù, describing (user) inputs, model parameters, calculations, and outputs (results).</p>



<p>Each process is broken down into smaller sub-processes and each is described in its own file, including documentation and references to appropriate scientific sources. Here is a small example for such a file:</p>


<pre title="">*** general ***

author   = Agrammon Group
date     = 2008-03-30
taxonomy = Livestock::DairyCow::Excretion

+short

Computes the annual N excretion of a number of dairy cows as a function of the
milk yield and the feed ration.

+description

This process calculates the annual N excretion (total N and Nsol (urea plus
measured total ammoniacal nitrogen)) of a number of dairy cows as a
function of the milk yield and the supplied feed ration. Nitrogen
surpluses from increased nitrogen uptake are primarily excreted as
Nsol in the urine. Eighty percent of the increased N excretion is
therefore added to the Nsol fraction.

*** input parameters ***

+dairy_cows
  type        = integer
  validator = ge(0)
  ++labels
       en = Number of animals
       de = Anzahl Tiere 
       fr   = Nombre d'animaux
  ++units
      en = -
  ++description
       Number of dairy cows in barn.
  ++help
      +++en 
          &lt;p&gt;Actual number of animals
                in the barn.&lt;/p&gt;
        +++de  ...
        +++fr    ...

*** technical parameters ***

+standard_N_excretion
   value = 115
  ++units 
      en = kg N/year
      de = kg N/Jahr
      fr   = kg N/an
  ++description
    Annual standard N excretion for a
    dairy cow according to
    Flisch et al. (2009).

*** external ***

+Excretion::CMilk
+Excretion::CFeed

*** output ***
+n_excretion
  print = 7

  ++units
      en = kg N/year
      de = kg N/Jahr
      fr   = kg N/an

  ++formula
        Tech(standard_N_excretion)
      * Val(cmilk_yield,    Excretion::CMilk)
      * Val(c_feed_ration,Excretion::CFeed)
      * In(dairy_cows);

  ++description
      Annual total N excreted by a specified
      number of animals.

</pre>


<p>In the current version of the AGRAMMON model there are 133 such model files with 31,014 lines. From those, the backend can generate</p>



<ul><li>the PDF documentation of the model (allowing <a href="https://www.latex-project.org/">LaTeX</a> formatting in the files)</li><li>the actual model simulation using the user‚Äôs input data</li><li>a description of the web GUI which can be rendered by the frontend</li></ul>



<figure><a href="https://github.com/zaucker/agrammon/blob/Advent/Advent2020/inputs.png" target="_blank" rel="noreferrer noopener"><img src="https://github.com/zaucker/agrammon/raw/Advent/Advent2020/inputs.png" alt=""></a></figure>



<p>The results are presented in the web GUI in tabular form (showing various subsets of the data that can also be defined in the model files)</p>



<figure><a href="https://github.com/zaucker/agrammon/blob/Advent/Advent2020/results.png" target="_blank" rel="noreferrer noopener"><img src="https://github.com/zaucker/agrammon/raw/Advent/Advent2020/results.png" alt=""></a></figure>



<p>and can be exported as <a href="https://github.com/zaucker/agrammon/blob/Advent/Advent2020/TestSingle6.pdf">PDF report</a> or <a href="https://github.com/zaucker/agrammon/blob/Advent/Advent2020/TestSingle6.xlsx">Excel file</a>, together with the actual inputs provided by the user.</p>



<p>A special instance of AGRAMMON is used by a <a href="https://lawa.lu.ch/">regional government agency</a> in the evaluation process of the environmental impact of modifications to local farms and the approval of the respective building applications. For this, the ammonia emissions before and after the planned modifications must be simulated by the applicant and can be directly submitted to the agency‚Äôs AGRAMMON account, including a notification of the agency by eMail with the PDF report attached.</p>



<h2><a href="https://github.com/zaucker/agrammon/blob/Advent/Advent2020/raku-in-the-wild.md#the-raku-backend"></a>The Raku backend</h2>



<p>The refactored backend as of today consists of 59 <code>.pm6</code> <a href="https://docs.raku.org/language/modules">modules/packages</a> with 6,942 lines and is covered by tests in 38 <code>.t</code> files with 5,854 lines. It uses the 13 Raku modules shown in the following excerpt of the <a href="https://docs.raku.org/language/modules#index-entry-META6.json-META6.json">META6.json</a> file:</p>


<pre title="">  "depends": [
    "Cro::HTTP",
    "Cro::HTTP::Session::Pg",
    "Cro::OpenAPI::RoutesFromDefinition",
    "Cro::WebApp::Template",
    "DB::Pg",
    "Digest::SHA1::Native",
    "Email::MIME",
    "LibXML:ver&lt;0.5.10&gt;",
    "Net::SMTP::Client::Async",
    "OO::Monitors",
    "Spreadsheet::XLSX:ver&lt;0.2.1+&gt;",
    "Text::CSV",
    "YAMLish"
  ],
  "build-depends": [],
  "test-depends": [
    "App::Prove6",
    "Cro::HTTP::Test",
    "Test::Mock",
    "Test::NoTabs"
  ],

</pre>


<p>Those modules can be found on the <a href="https://modules.raku.org/">Raku Modules Directory</a>. Note that <a href="https://github.com/jnthn/spreadsheet-xlsx"><code>Spreadsheet::XLSX</code></a> was specifically implemented for this project. As a side-effect, just yesterday our expert elf (see below) submitted a&nbsp;<a href="https://github.com/libxml-raku/LibXML-raku/pull/49">pull request</a>&nbsp;for&nbsp;<a href="https://github.com/libxml-raku/LibXML-raku">LibXML</a>&nbsp;used in Spreadsheet::XLSX leading to a factor of 2 performance improvement.</p>



<p>Speaking of the actual implementation, although our brave elf didn‚Äôt have much experience with either grammars, parsers, or even Perl 6 / Raku, he was smart enough to engage a real <a href="https://www.edument.se/en/page/jonathan-worthington-eng">expert elf</a> for that. This elf did most of the heavy lifting of the backend implementation and helped our elf with advice and code review for the parts he implemented himself.</p>



<p>Please note that the goal of this rewrite was to leave most of the syntax of the model implementation and also the frontend as is, so the blame for all the sub-optimal design decisions are solely on our primary elf as well as the responsibility for imperfect implementation details passing under the review radar.</p>



<h2>Some Raku features used in AGRAMMON</h2>



<p>In this section we‚Äôll present a few Raku features used in AGRAMMON. This is not meant as a hardcore technical explanation for experts, but rather as a means to give a taste to people interested in Raku.</p>



<p>Most code examples are taken straight from the current implementation, sometimes the examples are slightly shortened by leaving of code that is irrelevant to the concept presented. There are many links to the original modules on GitHub. As AGRAMMON is still being worked on, those links might point at a more recent version of the module.</p>



<h3><a href="https://github.com/oposs/agrammon/blob/master/bin/agrammon.pl6">bin/agrammon.pl6</a></h3>



<p>The actual AGRAMMON ‚Äúexecutable‚Äù is just a three-liner (of which only two are Raku):</p>


<pre title="">#!/usr/bin/env raku
use lib "lib"
use Agrammon::UI::CommandLine;

</pre>


<p>This exploits the fact that Rakudo (the Raku implementation used here) has a pretty nice <a href="https://docs.raku.org/language/faq#index-entry-Precompile_(FAQ)">pre-compilation</a> feature which is useful for minimizing (the still not neglegible) startup time after the first run of the program.<a href="https://github.com/zaucker/agrammon/blob/Advent/Advent2020/raku-in-the-wild.md#agrammonuicommandline"></a></p>



<h3><a href="https://github.com/oposs/agrammon/blob/master/lib/Agrammon/UI/CommandLine.pm6">Agrammon::UI::CommandLine</a></h3>



<p>This module contains the main functions of the AGRAMMON application available from the command line.</p>



<h4><a href="https://github.com/zaucker/agrammon/blob/Advent/Advent2020/raku-in-the-wild.md#usage"></a>Usage</h4>



<p>Running <code>./bin/agrammon.pl6</code> gives the following output:</p>



<pre>Usage:
  ./bin/agrammon.pl6 web &lt;cfg-filename&gt; &lt;model-filename&gt; [&lt;te‚Ä¶</pre></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://raku-advent.blog/2020/12/20/day-20-a-raku-in-the-wild/">https://raku-advent.blog/2020/12/20/day-20-a-raku-in-the-wild/</a></em></p>]]>
            </description>
            <link>https://raku-advent.blog/2020/12/20/day-20-a-raku-in-the-wild/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25485281</guid>
            <pubDate>Sun, 20 Dec 2020 10:35:35 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[eInk x Crypto ‚Äì The merge of two industries]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25485062">thread link</a>) | @tyler109
<br/>
December 20, 2020 | https://forum.ei2030.org/t/eink-x-crypto-the-merge-of-two-industries/69 | <a href="https://web.archive.org/web/*/https://forum.ei2030.org/t/eink-x-crypto-the-merge-of-two-industries/69">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody">
          <p>Hey there,</p>
<p>many folks in the eink community are also very passionate about the cryptocurrency sector. It guess it‚Äôs in the nature of our values. Both eink users as well as crypto users are in their nature early adopters. There are many angles where you could combine the both. Especially I could see crypto as a lever to boost the eink R&amp;D and development. Let‚Äôs start with a few ideas:</p>
<p><strong><span>#1</span> Display Digital Art on an Eink Display</strong></p>
<p>There is an emerging community in the crypto currency space around the crypto collectibles and NFT community. The market <a href="https://beincrypto.com/nft-market-takes-off-with-115-month-over-month-growth/">has seen exponential growth</a> in the past months. There has even been one art collection <a href="https://beincrypto.com/nft-digital-art-collection-sells-for-almost-800000/">sold for 800k USD</a>. So if you are digital art owner, you eventually want to ‚Äúshow off‚Äù your art. I think there will be need for a product such as an eink frame where you can display your digital art collection and some sort of qr code or some other proof (e.g. eth name address) that you own that piece of art. Imagine what great conversation starter this would be, if you have such a picture frame hanging in your flat or office.</p>
<p><strong><span>#2</span> Funding Eink Hardware Development with Crypto Currencies</strong></p>
<p>There has been some attempts to fund open source hardware with cryptocurrencies. There was an <a href="https://www.coindesk.com/blockchain-pocket-phone-behind-sirins-157-million-ico">158mln USD Initial Coin Offering</a> to fund the development of an open source blockchain based smartphone the Sirin phone. They where issuing their own digital currency. While this attempt mostly failed, therey could be another try maybe along the lines of eink hardware. However the token economics (if you want to issue an token) need to be engineered carefully and in such a way that it can accrue value.</p>
<p><strong><span>#3</span> Creating an ecoystem around focussed and healthy hardware/software based on eink technologies</strong></p>
<p>There has been a lot of hype around ‚Äúdistraction free phones‚Äù as well as discussions around the <a href="https://en.wikipedia.org/wiki/The_Social_Dilemma#:~:text=The%20Social%20Dilemma%20is%20a,Davis%20Coombe%2C%20and%20Vickie%20Curtis.">social dilemma</a> where big tech spys on us. I think this angle around health, privacy and focus could start a totally new device category. We have seen first attempts:</p>
<p><a href="https://mudita.com/products/pure/">* Mudita Pure</a></p>
<p><a href="https://getfreewrite.com/">* FreeWrite</a></p>
<p><a href="https://twitter.com/Hal_clockwork/status/1329737173638135809?s=20">* DevTerm - An Open Source Portable Terminal</a></p>
<p>The question now is, how do you jumpstart this new sort of ecoystem? And how do you integrate cryptocurrencies? Maybe you could have an open-source hardware device (e.g. notebook, phone) on which you build lots of ‚Äúeink-friendly‚Äù software. It could jumpstart a new open source community. Eventually this would be owned and governed by everyone through a cryptocurrency. Software will cost some money in that specific currency. If you are using the system, you earn that currency as early adopter. There will be an alternative app store, if you want to list there you need to pay in that currency. I don‚Äôt know how this could exactly look like, but that‚Äôs something we need to figure out as an community.</p>
<p>However there will be a first transition phase where we would need to ‚Äútranslate‚Äù regular services such as Facebook, Gmail, Maps, etc. and make them friendly for our hardware/software at the first place to ‚Äúconvert‚Äù regular users. And make everything usable for them at the beginning. And then they start liking the new system so much that they don‚Äôt want to go back. The ‚ÄúiPhone-Moment‚Äù for eink so to speak.</p>
<p><strong><span>#4</span> Smaller attempts</strong></p>
<p>There has been other ‚Äúsmaller‚Äù attempts to combine the both with an <a href="https://www.reddit.com/r/Bitcoin/comments/k1makb/simple_btc_price_ticker_with_e_ink_display/">Bitcoin price ticker</a> on an eink display or a <a href="https://www.reddit.com/r/interestingasfuck/comments/c5u09g/a_cryptocurrency_wallet_card_with_eink_display_to/">crypto wallet with an eink display</a>. But let‚Äôs think big here.</p>
<p>What are your thoughts/ideas around merging the cryptocurrency sector with eink technology?</p>
        </div></div>]]>
            </description>
            <link>https://forum.ei2030.org/t/eink-x-crypto-the-merge-of-two-industries/69</link>
            <guid isPermaLink="false">hacker-news-small-sites-25485062</guid>
            <pubDate>Sun, 20 Dec 2020 09:40:39 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Increasing the productivity of yourself and your team]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25484908">thread link</a>) | @r0rshrk
<br/>
December 20, 2020 | https://www.sankalpjonna.com/posts/increasing-the-productivity-of-yourself-and-your-team | <a href="https://web.archive.org/web/*/https://www.sankalpjonna.com/posts/increasing-the-productivity-of-yourself-and-your-team">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><figure id="w-node-8ad322b2e409-87eecd11"><p><img src="https://uploads-ssl.webflow.com/5e0b01877436086c8beecd1a/5fdef365db8935cbdaab25b0_pexels-fauxels-3184422.jpg" loading="lazy" alt=""></p></figure><p>In the past 3 months of working on <a href="http://delightchat.io/" target="_blank">delightchat.io</a>, this week was the only week where we managed to hit our deadlines exactly as planned. So I decided to dissect this further and tried to understand what we did right this time that we kept missing in the past few weeks.<br></p><p>On Dwelling deeper I found a few things that seemed to have really helped. The include</p><ul role="list"><li>Breaking up a week into simple and complex tasks.</li><li>Breaking up your day into time slots.<br></li></ul><h3><strong>Breaking up a week into simple and complex tasks.</strong><br></h3><p>After speaking to <a href="https://akash.substack.com/" target="_blank">our founding engineer Akash</a>, I realised something which should have been very obvious but somehow slipped past me. In the past few weeks we have been trying to knock off as many difficult tasks as possible, and by difficult I mean the tasks that had many unknowns and the quantum of work required to finish them was not really predictable. The idea behind this was that if we finished these types of tasks first, we could do the easy and predictable tasks at any point of time.<br></p><p>Turns out that this was not the correct way to approach things. In order to boost the morale of the team, there needed to be a few tasks which did not have any unknowns and therefore an ETA can be accurately established. As a result of this, finishing these tasks early in the week gives a feeling of achievement and fuels the desire to get more done in the remaining days of the week.<br></p><p>After this initial boost in morale, a complex task which requires a lot of research and deeper thinking can be undertaken more easily and confidently. This seemed to be the key to meeting our deadline for the week. We had two easy and predictable tasks this week that got done in two days. Post that Akash took up one complex task which took the remainder of the week.<br></p><h3><strong>Breaking up your day into time slots.</strong><br></h3><p>As Co-founders, Preetam and I have many things to do including development, meetings, writing content and many miscellaneous ad hoc tasks which come up. If we plan to be productive we would have to apply the above concept not only to the week but to every single day. Preetam suggested to me to divide the day into these 4 parts.<br></p><ul role="list"><li>Distraction free time to undertake complex and high priority tasks.</li><li>Time to complete a few easy tasks which might not be entirely distraction free.</li><li>A buffer time for any ad hoc tasks or meetings that might come up.</li><li>Time to relax<br></li></ul><p>So the full week must be divided into a few easy and a few difficult tasks, but each day within the week must be divided into the above 4 time frames. <br></p><h4><strong>Distraction free time</strong><br></h4><p>If you want to be be devoid of any distractions, you and your team can agree upon a certain period of time during the day where nobody is supposed to message each other on slack or call each other. We tried doing this in the initial stages but it was hard to pull this off because there could be pressing issues that cannot wait till the specified time window is over.<br></p><p>So I decided to change my strategy a little bit and do this during a period where our team is not working or at least is not expected to work. This only left me with 2 options - late night or early morning. I choose early morning because it feels healthier and it really helps to accomplish something early in the day because that will determine your mood for the rest of the day. <br></p><p>A while back I read this article about how the military mandates you to make your bed as soon as you get up and the idea behind it was for you to feel like you finished the first task of your day successfully and the result can be seen in the form of a clean made up bed which sets the tone for your mindset for the rest of the day. The other advantage of this is that if the rest of your day turns out to be bad, at least you can look forward to sleeping on an already clean and made up bed.<br></p><h4><strong>Time to complete easy tasks</strong><br></h4><p>After the early morning period has passed, the team is fully awake and active on slack, so you can no longer expect to be fully distraction free. Which means that the next few tasks that you do must be planned in a way that they do not require too much concentration and are mostly labour intensive. <br></p><p>An example of this is UI development work that involves minimal business logic and mostly assembling of components. This way even if you get distracted, you can context switch and get back into development quite easily. Obviously this is not always possible but one can prioritise their tasks in a way that whatever tasks require the least amount of brain power can be planned during this time frame. <br></p><h4><strong>Buffer time for ad hoc tasks</strong><br></h4><p>There are many such occurrences where a previously defined and agreed upon task can no longer be done in the way that was discussed because some new information has come to light. This may lead to more development or changing of the feature set to accommodate this new information. Either ways this requires your full attention to get through. <br></p><p>There could also be occurrences where a teammate wants to discuss or clarify something with you without which he/she is not able to proceed and therefore his/her time is blocked. This is not something that can be avoided because for the smooth functioning of any team, there must be no blockers or dependencies. <br></p><p>It is therefore important to dedicate some time during the day where you can schedule all of such ad hoc requests. Even if you receive these requests while the other time slots are in progress, you can schedule them for this time slot. <br></p><p>During this time slot you cannot expect to get much work done of your own, but at the same time you can‚Äôt just sit and wait for a teammate to message you about something, so you could use this time to browse the internet for some articles/resources that you always planned to look at for various purposes but never found the time. You could also use this time to work on some backlog tasks that have been pending for a while but lower in the priority list.<br></p><h4><strong>Time to relax</strong><br></h4><p>In my experience, out of all the above time slots, the time spent on ad hoc tasks is the most exhausting due to the amount of context switching needed and the lack of predictability. Therefore it is natural for one to transition from the ad hoc tasks time into relaxing time.<br></p><p>Unfortunately I do not have the luxury of always being able to have some time to relax. There are some days where this particular time slot gets skipped due to the workload but I try to clock in at least 45 minutes a day for a workout which for me counts as time to relax. I also have a hot bath right after my workout which really elevates the experience.<br></p><h3><strong>Closing notes</strong><br></h3><p>It has only been 3 months since Preetam and I started running a team and we are very much still learning. So it is entirely possible that we change our strategy in the coming days to accommodate the workload, the personalities of the new folks who join our team and our product roadmap.<br></p><p>But I feel like regardless of what happens, I can totally see the early morning distraction free time as something that I will continue to adapt for the foreseeable future. The benefits of doing this are too many to ignore. </p></div></div>]]>
            </description>
            <link>https://www.sankalpjonna.com/posts/increasing-the-productivity-of-yourself-and-your-team</link>
            <guid isPermaLink="false">hacker-news-small-sites-25484908</guid>
            <pubDate>Sun, 20 Dec 2020 08:52:17 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Sailscasts Company launches to help more people build with JavaScript]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25484830">thread link</a>) | @dominuskelvin
<br/>
December 20, 2020 | https://dominuskelvin.dev/blog/announcing-the-sailscasts-company | <a href="https://web.archive.org/web/*/https://dominuskelvin.dev/blog/announcing-the-sailscasts-company">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>Some time ago I <a href="https://twitter.com/Dominus_Kelvin/status/1306158387340681217?s=20" rel="nofollow,noopener,noreferrer" target="_blank">announced</a> on Twitter I am working on Sailscasts - a platform to teach the Sails framework to help more people build out their ideas on JavaScript/Node.js</p>
<p>The journey to delivering Sailscasts has been(and it's still) interesting; I quit my job to focus fully on this project as I think I got something here. Sails is the most efficient way of building web service/application I know on Node.js. Companies like Postman and Paystack also share this sentiment(I believe) as they use Sails in production with a lot of success to it.</p>
<p>Speaking about the successes, Paystack has been <a href="https://paystack.com/blog/company-news/paystack-joining-stripe" rel="nofollow,noopener,noreferrer" target="_blank">acquired</a> by Stripe for a whooping $200M and Paystack runs on Sails!</p>
<p>I imagine a nearest future where anyone with a viable idea can build out an MVP with one language - JavaScript through the help of Sails.</p>
<p>In order to drive this vision to actualization, allow me to introduce <strong>The Sailscasts Company</strong></p>
<p>The Sailscasts Company is set to pioneer mass adoption of the Sails framework. We think Sails can help build businesses for anyone with a viable idea! Here is what we will be doing at The Sailscasts Company</p>
<h2 id="building-and-nurturing-sailscasts">Building and nurturing Sailscasts</h2>
<p>We believe educational resources and community is important for the adoption of any technology so we will have full-throttle on delivering Sailscasts and putting out quality educational resources and growing the <a href="https://discord.gg/gbJZuNm" rel="nofollow,noopener,noreferrer" target="_blank">Sails community</a> at large</p>

<p>We want to make it easier than it already is to develop using Sails by creating open-source tools for developers to employ in their day-to-day Sails journey</p>
<h2 id="serving-as-a-workforce-to-help-businesses-build-faster">Serving as a workforce to help businesses build faster</h2>
<p>We get that most times Companies won't have the engineering power to build their idea. In that light and to meet that need we will be offering custom platform/application development services to these companies. Our team will help build MVPs, provide consultation services, and even internal training for the engineering team of these services if they want.</p>
<h2 id="building-of-products-on-sails">Building of products on Sails</h2>
<p>We want to walk our talk. Since we are asking you to build on Sails, we also will be building our products on the Sails platform (Sailscasts is just the beginning)</p>
<p>The above and more are the motivation behind The Sailscasts Company and we are excited to deliver our first vision - Making Sailscasts a reality and giving it to you the developers to have a place to learn how to build your ideas using a language that can be likened to be the Ugly Duckling but now the language of our future - <strong>JavaScript</strong></p>
<p>I am pretty pumped about this. You can let me know what you think on <a href="https://twitter.com/Dominus_Kelvin" rel="nofollow,noopener,noreferrer" target="_blank">Twitter</a></p></div></div>]]>
            </description>
            <link>https://dominuskelvin.dev/blog/announcing-the-sailscasts-company</link>
            <guid isPermaLink="false">hacker-news-small-sites-25484830</guid>
            <pubDate>Sun, 20 Dec 2020 08:33:03 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Hyperventilate yourself sober ‚Äì new device could help acute alcohol poisoning]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25484756">thread link</a>) | @tempestn
<br/>
December 20, 2020 | https://www.cbc.ca/radio/quirks/dec-12-spotting-steve-superbolts-and-megaflashes-hyperventilating-sober-and-more-1.5835976/hyperventilate-yourself-sober-a-simple-new-device-could-help-treat-acute-alcohol-poisoning-1.5835991 | <a href="https://web.archive.org/web/*/https://www.cbc.ca/radio/quirks/dec-12-spotting-steve-superbolts-and-megaflashes-hyperventilating-sober-and-more-1.5835976/hyperventilate-yourself-sober-a-simple-new-device-could-help-treat-acute-alcohol-poisoning-1.5835991">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>The device can significantly reduce the time it takes to bring down a person's blood alcohol level</p><div><figure><div><p><img loading="lazy" alt="" srcset="" sizes="" src="https://i.cbc.ca/1.5838304.1607718137!/fileImage/httpImage/image.jpg_gen/derivatives/16x9_780/dr-fisher-demonstrating-clearmate.jpg"></p></div><figcaption>Dr. Joseph Fisher demonstrates the use of the device he developed to help people hyperventilate safely to reduce alcohol poisoning. <!-- --> <!-- -->(UNH)</figcaption></figure><p><span><div><div role="button" tabindex="0" title="Hyperventilate yourself sober ‚Äî a simple new device could help treat acute alcohol poisoning"><div><p><img src="https://thumbnails.cbc.ca/maven_legacy/thumbnails/38/99/Quirks-640x360.jpg" alt=""></p><p><span>Quirks and Quarks</span><span>7:12</span><span>Hyperventilate yourself sober ‚Äî a simple new device could help treat acute alcohol poisoning</span></p></div></div></div></span></p><p><span><p>A Canadian scientist who developed technology to reverse carbon monoxide poisoning by inducing safe hyperventilation has just shown this technology could also work to reduce alcohol poisoning.&nbsp;</p>  <p><a href="http://www.physiology.utoronto.ca/content/joseph-fisher" target="_blank">Dr.&nbsp;Joseph Fisher</a>, a professor of anesthesiology at the University of Toronto and senior scientist at the University Health Network, came up with the device.</p>  <p>He said this technology works for the same reason you can smell alcohol on people's breath: alcohol evaporates out of the blood, into the lungs.</p>  <p>His original thought was that if he could induce patients to increase their amount of breathing, it might help the alcohol evaporate faster.&nbsp;</p>  <p>Hyperventilation is something generally humans try to avoid as it results in dizziness and other unpleasant symptoms.&nbsp; This, said Fisher, is because hyperventilation reduces the level of carbon dioxide in the blood, upsetting our blood chemistry.&nbsp;</p>  <p>The device he developed feeds back some carbon dioxide into the lungs as it forces a person to hyperventilate.&nbsp;</p>  <p>When he tested the device on volunteers who had consumed alcohol, it took only about 40 minutes for them to cut their blood alcohol level in half, which would have taken three to four hours to do at the rate we naturally metabolize alcohol.</p>  <p>Fisher thinks that now that he's shown this device works for alcohol, as well as carbon monoxide, that it could potentially work for any volatile poison.</p>  <p>The <a href="https://www.nature.com/articles/s41598-020-76233-9" target="_blank">study</a> was published in a recent issue of the journal, Scientific Reports.</p>  <p><em>Produced by Sonya Buyting and Mark Crawley. Written by <a href="https://twitter.com/SonyaBuyting" target="_blank">Sonya Buyting</a>.</em></p></span></p></div></div>]]>
            </description>
            <link>https://www.cbc.ca/radio/quirks/dec-12-spotting-steve-superbolts-and-megaflashes-hyperventilating-sober-and-more-1.5835976/hyperventilate-yourself-sober-a-simple-new-device-could-help-treat-acute-alcohol-poisoning-1.5835991</link>
            <guid isPermaLink="false">hacker-news-small-sites-25484756</guid>
            <pubDate>Sun, 20 Dec 2020 08:12:18 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Hisense A7 5G: First E-Ink Smartphone with 5G to be Launched on December 22]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25484677">thread link</a>) | @tyler109
<br/>
December 19, 2020 | https://forum.ei2030.org/t/hisense-a7-5g-first-e-ink-smartphone-with-5g-to-be-launched-on-december-22/68 | <a href="https://web.archive.org/web/*/https://forum.ei2030.org/t/hisense-a7-5g-first-e-ink-smartphone-with-5g-to-be-launched-on-december-22/68">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody">
          <p>It seems Hisense will launch another phone (or ereader) this year with 5G. The Hisense A7 has a b/w screen and will be revealed in Dec 22:</p>
<blockquote>
<p>The Hisense A7 5G will get a global unveiling on December 22. However, it appears the 5G e-reader that doubles as a smartphone will not be getting a color e-ink screen like its siblings, the <a href="https://www.gizmochina.com/2020/04/24/hisense-a5-pro-cc-version-a5-pro-a5c-with-colour-ink-display-launched/">Hisense A5 Pro, Hisense A5 Pro CC, and Hisense A5C</a> which launched this year.</p>
</blockquote>
<p>That‚Äôs the picture they were posting:</p>
<div><a href="https://forum.ei2030.org/uploads/default/original/1X/b3df2ea80db70f63c28d73c993e4ddd9d53ca331.jpeg" data-download-href="https://forum.ei2030.org/uploads/default/b3df2ea80db70f63c28d73c993e4ddd9d53ca331" title="image"><img src="https://forum.ei2030.org/uploads/default/optimized/1X/b3df2ea80db70f63c28d73c993e4ddd9d53ca331_2_281x500.jpeg" alt="image" data-base62-sha1="pFdDfaKQcTo4QbI4PqxDhPjTX5T" width="281" height="500" srcset="https://forum.ei2030.org/uploads/default/optimized/1X/b3df2ea80db70f63c28d73c993e4ddd9d53ca331_2_281x500.jpeg, https://forum.ei2030.org/uploads/default/optimized/1X/b3df2ea80db70f63c28d73c993e4ddd9d53ca331_2_421x750.jpeg 1.5x, https://forum.ei2030.org/uploads/default/optimized/1X/b3df2ea80db70f63c28d73c993e4ddd9d53ca331_2_562x1000.jpeg 2x" data-small-upload="https://forum.ei2030.org/uploads/default/optimized/1X/b3df2ea80db70f63c28d73c993e4ddd9d53ca331_2_10x10.png"></a></div>
<p>Also good news for our international friends:</p>
<blockquote>
<p>Hisense says the launch is a global debut which means the device should be sold in other countries other than China. We don‚Äôt know which countries will get it yet but availability details should be available by Tuesday.</p>
</blockquote>
<p>More reading:</p>
<ul>
<li><a href="https://www.gizmochina.com/2020/12/19/hisense-a7-5g-e-ink-smartphone-e-reader-to-launch-on-december-22/">https://www.gizmochina.com/2020/12/19/hisense-a7-5g-e-ink-smartphone-e-reader-to-launch-on-december-22/</a></li>
</ul>
<p>So it seems it will be an exciting next week for the eink community. On tuesday Hisense will reveal their new 5G phone, on Friday Dasung will launch their new product (a new eink monitor?). So stay tuned eink folks.</p>
        </div></div>]]>
            </description>
            <link>https://forum.ei2030.org/t/hisense-a7-5g-first-e-ink-smartphone-with-5g-to-be-launched-on-december-22/68</link>
            <guid isPermaLink="false">hacker-news-small-sites-25484677</guid>
            <pubDate>Sun, 20 Dec 2020 07:48:48 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Writing a custom iterator in modern C++]]>
            </title>
            <description>
<![CDATA[
Score 42 | Comments 51 (<a href="https://news.ycombinator.com/item?id=25484444">thread link</a>) | @signa11
<br/>
December 19, 2020 | https://www.internalpointers.com/post/writing-custom-iterators-modern-cpp | <a href="https://web.archive.org/web/*/https://www.internalpointers.com/post/writing-custom-iterators-modern-cpp">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>‚Äî Written by Triangles on December 13, 2020 
								‚Ä¢ updated on December 19, 2020  
								‚Ä¢ ID 86 ‚Äî</p><p>An experimental Forward Iterator written from scratch to boost up hand-made containers.</p><div>
				
<!-- internalpointers responsive -->
<p>An iterator is an object that points to an element inside a container. Like a pointer, an iterator can be used to access the element it points to and can be moved through the content of the container. Each container in the C++ Standard Library provides its own iterator, as well as some methods to retrieve it. Using iterators is quite easy: obtain an instance from a container, move it around where needed and then get the pointed element.</p>
<p>Concretely, an iterator is a simple class that provides a bunch of operators: increment <code>++</code>, dereference <code>*</code> and few others which make it very similar to a pointer and the arithmetic operations you can perform on it. In fact, iterators are a generalization of pointers, which are often used as a foundation when writing the iterator itself.</p>
<p>Iterators are one of the building blocks of the Standard Library containers, but they are also useful when you want to provide the ability to iterate over elements of a custom container that you wrote yourself: this is what I want to investigate in the present article. Adding iterators to your containers will make them compatible with the <a href="https://en.cppreference.com/w/cpp/language/range-for">range-based for loops</a> and the <a href="https://en.cppreference.com/w/cpp/algorithm">C++ Algorithms library</a>: a collection of functions for searching, sorting, counting and manipulating containers, based on iterators.</p>
<h2>A dummy container for our experiments</h2>
<p>Before digging deeper, let's define a silly custom container that we want to spice up with iterators:</p>
<pre><code>class Integers
{
private:
    int m_data[200];
};
</code></pre>
<p>The <code>Integers</code> class is a wrapper around a raw array of <code>int</code>s: we want to be able to access elements of that private array through an iterator, as well as to loop over it or pass it to any of the Standard Library algorithms. Let's start by making some design decisions.</p>
<h2>Choose the nature of our iterator</h2>
<p>The first step is to choose the type of iterator we want to implement. Modern C++ defines six types:</p>
<table>
<thead><tr>
<th>#</th>
<th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td><strong><a href="https://en.cppreference.com/w/cpp/named_req/InputIterator">Input Iterator</a></strong></td>
<td>Can scan the container forward only once, can't change the value it points to (read-only);</td>
</tr>
<tr>
<td>2</td>
<td><strong><a href="https://en.cppreference.com/w/cpp/named_req/OutputIterator">Output Iterator</a></strong></td>
<td>Can scan the container forward only once, can't read the value it points to (write-only);</td>
</tr>
<tr>
<td>3</td>
<td><strong><a href="https://en.cppreference.com/w/cpp/named_req/ForwardIterator">Forward Iterator</a></strong></td>
<td>Can scan the container forward multiple times, can read and write the value it points to;</td>
</tr>
<tr>
<td>4</td>
<td><strong><a href="https://en.cppreference.com/w/cpp/named_req/BidirectionalIterator">Bidirectional Iterator</a></strong></td>
<td>Same as previous one but can scan the container back and forth;</td>
</tr>
<tr>
<td>5</td>
<td><strong><a href="https://en.cppreference.com/w/cpp/named_req/RandomAccessIterator">Random Access Iterator</a></strong></td>
<td>Same as previous one but can access the container also non-sequentially (i.e. by jumping around);</td>
</tr>
<tr>
<td>6</td>
<td><strong><a href="https://en.cppreference.com/w/cpp/named_req/ContiguousIterator">Contiguous Iterator</a></strong></td>
<td>Same as previous one, with the addition that logically adjacent elements are also physically adjacent in memory.</td>
</tr>
</tbody>
</table>
<p>The six categories are hierarchical: a Bidirectional Iterator is also a Forward Iterator and a Random Access Iterator is both a Bidirectional and a Forward Iterator and so on. Normally, all iterators are Input Iterators (1) which makes them read-only, also known as <strong>constant iterators</strong>. Iterators that both support read and write operations are also Output Iterators (2) and are called <strong>mutable iterators</strong>.</p>
<div>
<p><img src="https://raw.githubusercontent.com/monocasual/internalpointers-files/master/2020/12/iterators/iterator-hierarchy.png" alt="Iterators hierarchy"></p><p>1. Iterators hierarchy in C++. All iterators are Input Iterators, Output Iterators or both.</p>
</div><p>Input and Output iterators are often used for low-level components such as input and output streams (the so-called <strong>single-pass algorithms</strong>) and thus have limitations. We want to do more with our custom container, so we will skip those two and jump straight to the mutable Forward Iterator.</p>
<h2>Prepare the custom iterator</h2>
<p>An iterator is usually declared inside the class it belongs to, for example:</p>
<pre><code>class Integers
{
public:
    struct Iterator { /* ... */ };

    // ...
};
</code></pre>
<p>The first thing to do is to assign the iterator some properties. Until C++17 this is done by <em>tagging</em> it with the <a href="https://www.fluentcpp.com/2018/04/27/tag-dispatching/"><strong>tag dispatch</strong></a> mechanism, while C++20 uses <strong>concepts</strong>: in this article I will follow the traditional approach.</p>
<p>C++ expects some properties from an iterator:</p>
<ul>
<li><code>iterator_category</code> ‚Äî one of the six iterator categories we have seen above. The full list is available <a href="https://en.cppreference.com/w/cpp/iterator/iterator_tags">here</a>. The <code>std::forward_iterator_tag</code> tag is what we need;</li>
<li><code>difference_type</code> ‚Äî a signed integer type that can be used to identify distance between iterator steps. Our iterator is basically a wrapper around a pointer and leverages pointer arithmetic, so the default <a href="https://en.cppreference.com/w/cpp/types/ptrdiff_t"><code>std::ptrdiff_t</code></a> is a good choice;</li>
<li><code>value_type</code> ‚Äî the type the iterator iterates over. <code>int</code> in our case;</li>
<li><code>pointer</code> ‚Äî defines a pointer to the type iterated over. <code>int*</code> in our case;</li>
<li><code>reference</code> ‚Äî defines a reference to the type iterated over. <code>int&amp;</code> in our case;</li>
</ul>
<p>Translated into code:</p>
<pre><code>#include &lt;iterator&gt; // For std::forward_iterator_tag
#include &lt;cstddef&gt;  // For std::ptrdiff_t

struct Iterator 
{
    using iterator_category = std::forward_iterator_tag;
    using difference_type   = std::ptrdiff_t;
    using value_type        = int;
    using pointer           = int*;  // or also value_type*
    using reference         = int&amp;;  // or also value_type&amp;
};
</code></pre>
<h3>Why are tags useful?</h3>
<p>Some of the tags above might seem useless at first. In fact, you will notice how they will never get mentioned during the definition of our iterator. Tags are used to select the most efficient algorithm if your container is passed to one of the Standard Library functions from the <code>&lt;algorithm&gt;</code> library. Wrong tags mean sub-optimal performance! The iterator category is also used to set algorithm requirements, for example: <a href="https://en.cppreference.com/w/cpp/algorithm/fill"><code>std::fill</code></a> wants a Forward Iterator, while <a href="https://en.cppreference.com/w/cpp/algorithm/reverse"><code>std::reverse</code></a> wants a Bidirectional Iterator. Passing the wrong iterator will result in a compilation error.</p>
<h2>Define the iterator constructors</h2>
<p>All iterators must be <em>constructible</em>, <em>copy-constructible</em>, <em>copy-assignable</em>, <em>destructible</em> and <em>swappable</em>. Let's translate those requirements into code for our iterator:</p>
<pre><code>struct Iterator 
{
    // Iterator tags here...

    Iterator(pointer ptr) : m_ptr(ptr) {}

private:

    pointer m_ptr;
};
</code></pre>
<p>Easy! We just need a custom constructor to initialize the private member variable <code>m_ptr</code>, which points to an element of the <code>Integers</code> container. The custom constructor satisfies the <em>constructible</em> requirement, while all others are covered by the implicitly-declared constructors and operators kindly provided by the compiler.</p>
<h2>Implement operators</h2>
<p>We are building a mutable Forward Iterator, which inherits properties from both Input and Output Iterators. The resulting iterator must support the following operations:</p>
<ul>
<li><code>*iterator</code> and <code>iterator-&gt;x</code> ‚Äî dereferenceable, to get the value it points to;</li>
<li><code>++iterator</code> and <code>iterator++</code> ‚Äî incrementable, to move it one step forward, both prefix and postfix versions. The latter must return something dereferenceable;</li>
<li><code>iterator_a == iterator_b</code> and <code>iterator_a != iterator_b</code> ‚Äî comparable with another iterator;</li>
</ul>
<p>This is done by implementing some custom operators in the <code>Iterator</code> class, like this:</p>
<pre><code>struct Iterator 
{
    // Iterator tags here...

    // Iterator constructors here...

    reference operator*() const { return *m_ptr; }
    pointer operator-&gt;() { return m_ptr; }

    // Prefix increment
    Iterator&amp; operator++() { m_ptr++; return *this; }  

    // Postfix increment
    Iterator operator++(int) { Iterator tmp = *this; ++(*this); return tmp; }

    friend bool operator== (const Iterator&amp; a, const Iterator&amp; b) { return a.m_ptr == b.m_ptr; };
    friend bool operator!= (const Iterator&amp; a, const Iterator&amp; b) { return a.m_ptr != b.m_ptr; };     

private:

    pointer m_ptr;
};
</code></pre>
<p>As you can see every operator involves the usage of the private pointer <code>m_ptr</code>. Also, notice the <code>friend</code> declaration for the two comparison operators: this is handy way to define the operators as non-member functions, yet being able to access private parts of the <code>Iterator</code> class (rationale  <a href="https://stackoverflow.com/questions/4421706/what-are-the-basic-rules-and-idioms-for-operator-overloading/4421729#4421729">here</a>).</p>
<h2>Prepare the container</h2>
<p>Our iterator is good to go. The last step is to give our custom container the ability to create <code>Iterator</code> objects. This is done by adding two public methods <code>begin()</code> and <code>end()</code> that return instances of the <code>Iterator</code> class, representing the first and the last element respectively:</p>
<pre><code>class Integers
{
public:

    // Iterator definition here ...

    Iterator begin() { return Iterator(&amp;m_data[0]); }
    Iterator end()   { return Iterator(&amp;m_data[200]); } // 200 is out of bounds
};
</code></pre>
<p>The <code>end()</code> method returns an iterator that refers to an <em>invalid</em> memory address, past the end of our raw array. Such iterator is just a placeholder used to determine when the boundary has been reached: it should never be accessed directly.</p>

<!-- internalpointers responsive -->
<h2>Time to test our iterator</h2>
<p>Both the custom container and its iterator are now ready. Let's test them with the range-based for loop:</p>
<pre><code>Integers integers;
for (auto i : integers)
    std::cout &lt;&lt; i &lt;&lt; "\n";
</code></pre>
<p>This code will magically print the value of each integer in the container. It works because the range-based for loop is just syntactic sugar created by the compiler for the following:</p>
<pre><code>for (auto it = integers.begin(), end = integers.end(); it != end; ++it) { 
    const auto i = *it; 
    std::cout &lt;&lt; i &lt;&lt; "\n";
}
</code></pre>
<p>In words: two iterators <code>it</code> and <code>end</code> are created. The first one points to the beginning of the container, the other one points to the end. Then, on each loop, the <code>it</code> iterator is incremented until it's equal to <code>end</code>, that is until the end of the container has been reached. The actual value is obtained by dereferencing <code>it</code> in a local variable before being printed.</p>
<p>Notice how the compiler makes use of all the operators and functions we have previously implemented: the <code>begin()</code> and <code>end()</code> methods in the custom container, the ability to compare the two iterators with the <code>!=</code> operator, the ability to increment <code>it</code> with the prefix syntax and finally the ability to dereference it to grab the actual value it points to.</p>
<p>Let's now try a function from the Algorithm library, <a href="https://en.cppreference.com/w/cpp/algorithm/fill"><code>std::fill</code></a> for example:</p>
<pre><code>Integers integers;

std::fill(integers.begin(), integers.end(), 3);
</code></pre>
<p>The function assigns all elements in the container the value <code>3</code>. It works because <code>std::fill</code> is usually implemented like this:</p>
<pre><code>template &lt;typename ForwardIterator, ‚Ä¶</code></pre></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.internalpointers.com/post/writing-custom-iterators-modern-cpp">https://www.internalpointers.com/post/writing-custom-iterators-modern-cpp</a></em></p>]]>
            </description>
            <link>https://www.internalpointers.com/post/writing-custom-iterators-modern-cpp</link>
            <guid isPermaLink="false">hacker-news-small-sites-25484444</guid>
            <pubDate>Sun, 20 Dec 2020 06:46:51 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A quick tool to build 3D models from the voxels or 2D layers]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25484307">thread link</a>) | @jarvis57
<br/>
December 19, 2020 | https://jarvis57.github.io/cubego.io | <a href="https://web.archive.org/web/*/https://jarvis57.github.io/cubego.io">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://jarvis57.github.io/cubego.io</link>
            <guid isPermaLink="false">hacker-news-small-sites-25484307</guid>
            <pubDate>Sun, 20 Dec 2020 06:18:54 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Pragmalang 0.2.0 Released]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25484288">thread link</a>) | @Tabzz98
<br/>
December 19, 2020 | https://pragmalang.com/docs/install | <a href="https://web.archive.org/web/*/https://pragmalang.com/docs/install">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><h2>Linux</h2><h3>Requirements</h3><ul><li><a href="https://docs.docker.com/get-docker/" target="_blank" rel="noopener noreferrer">Docker</a> and <a href="https://docs.docker.com/compose/install/" target="_blank" rel="noopener noreferrer">Docker Compose</a></li></ul><p>To make sure you have them and that they work, run:</p><p>If any of the above commands fail, make sure it works before proceeding with the installation of Pragma.</p><h3>Installation</h3><p>To install Pragma, run:</p><p>The script will ask for root access, so make sure to enter your password when prompted.</p><p>If you're on Ubuntu/Debian, you can download the <code>.deb</code> package from <a href="https://github.com/pragmalang/pragma/releases/latest" target="_blank" rel="noopener noreferrer">releases</a>.</p><h3>Run Pragma</h3><p>Once Pragma is downloaded and installed, you can see if it works by running the following command:</p><h2>MacOS</h2><h3>Requirements</h3><ul><li><a href="https://docs.docker.com/get-docker/" target="_blank" rel="noopener noreferrer">Docker</a> and <a href="https://docs.docker.com/compose/install/" target="_blank" rel="noopener noreferrer">Docker Compose</a></li></ul><p>To make sure you have them and that they work, run:</p><p>If any of the above commands fail, make sure it works before proceeding with the installation of Pragma.</p><h3>Installation</h3><p>To install the Pragma CLI using <a href="https://brew.sh/" target="_blank" rel="noopener noreferrer">Homebrew</a>:</p><h3>Run Pragma</h3><p>Once Pragma is downloaded and installed, you can see if it works by running the following command from the terminal:</p><h2>Windows</h2><h3>Requirements</h3><ul><li><a href="https://docs.docker.com/get-docker/" target="_blank" rel="noopener noreferrer">Docker</a> and <a href="https://docs.docker.com/compose/install/" target="_blank" rel="noopener noreferrer">Docker Compose</a></li></ul><p>To make sure you have them and that they work, run:</p><p>If any of the above commands fail, make sure it works before proceeding with the installation of Pragma.</p><h3>Installation</h3><p>First, we need to install the Pragma CLI:</p><ul><li><a href="https://github.com/pragmalang/pragma/releases/download/0.2.0/pragma-0.2.0.msi" target="_blank" rel="noopener noreferrer">Download the installer</a></li><li>Run the installer and follow the installation wizard</li></ul><blockquote><p><em>Note</em>: If Microsoft Defender tells you it prevented an unrecognized app from starting, click on "<strong>More info</strong>", then click on <strong>"Run anyway"</strong>.</p></blockquote><h3>Run Pragma</h3><p>Once Pragma is downloaded and installed, you can see if it works by running the following command from PowerShell:</p><p>If you have any questions or feedback you can join our <a href="https://discord.gg/gbhDnfC" target="_blank" rel="noopener noreferrer">Discord server</a> or post to <a href="https://www.reddit.com/r/pragmalang/" target="_blank" rel="noopener noreferrer">r/pragmalang</a>.</p></div></div>]]>
            </description>
            <link>https://pragmalang.com/docs/install</link>
            <guid isPermaLink="false">hacker-news-small-sites-25484288</guid>
            <pubDate>Sun, 20 Dec 2020 06:14:23 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Bharat Mediratta ‚Äì The Story of Google Web Server (and More)]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25484274">thread link</a>) | @ublaze
<br/>
December 19, 2020 | https://www.softwareatscale.dev/p/software-at-scale-003-bharat-mediratta | <a href="https://web.archive.org/web/*/https://www.softwareatscale.dev/p/software-at-scale-003-bharat-mediratta">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>Bharat Mediratta was a Distinguished Engineer at Google, CTO at Altschool, and CTO at Dropbox. At Google, he worked on <a href="https://en.wikipedia.org/wiki/Google_Web_Server">GWS</a> (Google Web Server), a system that I‚Äôve always been curious about, especially since its Wikipedia entry calls it ‚Äúone of the most guarded components of Google's infrastructure‚Äù.</p><p>In this podcast, we discuss GWS, bootstrapping a culture of testing at Google, breaking up services to be more manageable, monorepos, build systems, the ethics of software at scale, and more. We spent almost an hour and a half, and didn‚Äôt even manage to cover his experiences at Altschool or Dropbox (which hopefully will be covered in a follow up).</p><p>Listen on <a href="https://podcasts.apple.com/us/podcast/software-at-scale/id1543617436">Apple Podcasts</a> or <a href="https://open.spotify.com/show/7eGnnZnfb3mOGTqWR4gTjK?si=DMsJIWg3QjiiJS65A1nEbQ">Spotify</a>.</p><p data-attrs="{&quot;url&quot;:&quot;mailto:reliability@substack.com&quot;,&quot;text&quot;:&quot;Send feedback&quot;,&quot;class&quot;:null}"><a href="https://www.softwareatscale.dev/cdn-cgi/l/email-protection#82f0e7eeebe3e0ebeeebf6fbc2f1f7e0f1f6e3e1e9ace1edef"><span>Send feedback</span></a></p><h2>Highlights</h2><p>Notes are <em>italicized.</em></p><p>0:20 - Background - Childhood interests in technology. His dad was a director at <a href="https://en.wikipedia.org/wiki/Aeronautical_Development_Establishment">ADE, India</a>. <em><a href="https://timesofindia.indiatimes.com/city/bengaluru/Kalams-stellar-career-took-off-in-Bengaluru/articleshow/48245618.cms">His dad recruited APJ Abdul Kalam, arguably one of India‚Äôs most popular Presidents, and kick-started his career</a>.</em></p><p>6:10 - Studying tech in university. <a href="https://en.wikipedia.org/wiki/Guru_Meditation#:~:text=The%20Guru%20Meditation%20is%20an,such%20as%20Varnish%20and%20VirtualBox.">Guru Meditation errors</a>.</p><p>10:50 - Working at <a href="https://en.wikipedia.org/wiki/Sun_Microsystems">Sun Microsystems</a> as a first job.</p><p>12:30 - Transitioning from being a programmer to a leader, and thinking about project plans and deadlines.</p><p>14:15 - Working on side projects for the company (a potential inspiration for <a href="https://www.nytimes.com/2007/10/21/jobs/21pre.html">20% projects at Google?</a>)</p><p>15:30 - Moving from Sun to a few startups to Google. How did 20% projects start?</p><p>16:50 - Google News as a 20% project. <em><a href="https://en.wikipedia.org/wiki/20%25_Project#Google_News">Apparently 20% projects has its own wikipedia page.</a></em></p><p>18:24 - Did 20% time require management approval?</p><p>19:30 - <a href="https://en.wikipedia.org/wiki/Thomas_Kurian">TK</a> at Google Cloud, and how the management model compares to early Google</p><p>21:00 - Declining an offer from Google at 2002, and going to <a href="https://itsfoss.com/story-of-va-linux/">VA Linux</a> instead.</p><p>22:28 - Growth at Google from 2004 onwards.</p><p>24:28 - Hiring at Google at that time. ‚ÄúA players hire A players, B players hire C players‚Äù.</p><p>24:55 - Culture Fit (indoctrination)? Two weeks of ‚Äúfairly intense education‚Äù, a Noogler project, and a general investment of time and money to help explain the Google way of doing things. It wasn‚Äôt accidental. <em>I went through this in 2016 and definitely learnt a bunch, especially from an intriguing talk called ‚ÄúLife of a Query‚Äù.</em></p><p>27:22 - Culturally integrating acquisitions successfully. YouTube as an example.</p><p>28:40 - Differences between Google and YouTube, and other acquisitions like Motorola Mobility.</p><p>30:20 - Search/Google Web Server (GWS) only had 3 nines of availability? The difference between a forager and a refiner (in terms of programming)</p><p>31:15 - What was GWS? Server responsible for Google Home and Google Search. </p><p>32:20 - There was only one infrastructure engineer on GWS at the time (who wanted to switch), but about a hundred engineers made changes to it every week. </p><p>33:10 - Starting with writing unit tests for this system.</p><p>33:40 - ‚ÄúThey‚Äù used to call GWS ‚Äúthe neck of Google‚Äù. Extremely critical, but also extremely fragile. Search results and 98% of revenue came through this system. One second of downtime implied revenue loss. Rewriting was infeasible.</p><p>34:50 - How to use unit tests to create a culture of shared understanding. Bharat released a manifesto that basically said ‚Äúall changes to GWS required unit tests‚Äù. This caused massive consternation at the time.</p><p>36:10 - A quick example on how to enforce unit tests on new code. If an engineer didn‚Äôt add a new unit test, Bharat would write the test for them, which often would be failing due to a bug in engineer‚Äôs code. This led to a culture where engineers realized the value of writing these tests (and implicitly </p><p>39:23 - New Googlers were taught to write unit tests, so that new engineers would spread a culture of writing tests. ‚ÄúOh, everyone writes unit tests at Google‚Äù.</p><p>41:50 - ‚ÄúWhat kind of features were those hundreds of engineers adding to GWS?‚Äù. An example - adding UPS tracking numbers automatically showed you UPS tracking results. These were all quiet launches.</p><p>Some of the software design around experimentation towards Google search might have influenced Optimizely‚Äôs design.</p><p>45:00 - Google‚Äôs search page in 2007 was pure HTML. In 2009, it was completely AJAX based. This was a massive shift that happened transparently for users.</p><p>46:00 - ‚ÄúWe wanted Search to be a utility. We wanted it to be the air you breath. You don‚Äôt turn on the faucet and worry that water doesn‚Äôt come out.‚Äù </p><p>47:40 - The evolution of GWS‚Äôs architecture. Initially, very monolithic. GWS would talk to indices, get results, rank results, and send back HTML. This eventually was broken into layers. Each layer had responsibility, and the plan was to stick to that.</p><p>49:00 - ‚ÄúYou could find one line of code in GWS that had C code, C++ code, HTML, Javascript, and CSS output‚Äù. <em>Wow.</em></p><p>The number one query at Google at the time was ‚ÄúYahoo‚Äù - a navigational search query.</p><p>50:00 - Google Instant was rolled out in 2010. Internally, this was called ‚ÄúGoogle Psychic‚Äù, cause it was pretty good at predicting what users wanted to search.</p><p>51:50 - ‚ÄúA rewrite would have been a disaster‚Äù. GWS was essentially refactored from inside out every 18 months for 11 years. The first one - was breaking out ranking from GWS to another service.</p><p>57:00 - YouTube knew that if it convinced enough people to get better internet, Google would make more revenue.</p><p>59:00 - Search grew from 500-1000 people in 2004, to 3000 people in 2010. </p><p>59:30 - How exactly did search ranking work, technically and organizationally? <em><a href="https://moz.com/blog/long-click-and-the-quality-of-search-success">The Long Click</a>. </em></p><p>61:40 - Google ran 20+ experiments to figure out the best shade of blue on the Search page. This might seem silly, but it helps at scale, since it could potentially find the shade that would help the most colorblind individuals.</p><p>67:50 - Hate speech from Google search, and the ethical quandaries around building a humanity scale system.</p><p>70:30 - Improving iteration speed and developer productivity for these systems</p><p>71:50 - Google had an ML model for search results back in 2004 that was competitive with the hand-built systems, but didn‚Äôt end up using it, due to the lack of understandability. This has definitely changed now. <em>I had read that document during my internship, but was surprised to learn that Google had a working ML model for ranking since 2004.</em></p><p>73:30 - Service Oriented Architecture at Google. Enabled GWS from C to C++ and divest itself from some responsibilities. But Google stuck with a monorepo, compared to Amazon.</p><p>76:40 - Components in the Monorepo + Blaze (<a href="https://bazel.build/">Bazel</a>) helped Google scale build times and reduce iteration speed. <em>Components is the most interesting piece, since to my understanding, it hasn‚Äôt been written about much externally.</em></p><p>78:00 - The scale and complexity of the monorepo.</p><p>79:40 - The 400,000 line Makefile, and the start of Blaze.</p><p>82:00 - What were the benefits of ‚ÄúComponents‚Äù?</p><p>84:00 - The project to multi-thread GWS, when it was serving 5 - 10 billion search queries a day. It started off as a practical joke.</p><p>91:00 - It‚Äôs rarely only about the technology. It‚Äôs about culture and team cohesion.</p></div></div>]]>
            </description>
            <link>https://www.softwareatscale.dev/p/software-at-scale-003-bharat-mediratta</link>
            <guid isPermaLink="false">hacker-news-small-sites-25484274</guid>
            <pubDate>Sun, 20 Dec 2020 06:09:34 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Knotwork Designer]]>
            </title>
            <description>
<![CDATA[
Score 45 | Comments 9 (<a href="https://news.ycombinator.com/item?id=25484101">thread link</a>) | @blewboarwastake
<br/>
December 19, 2020 | http://birrell.org/andrew/knotwork/ | <a href="https://web.archive.org/web/*/http://birrell.org/andrew/knotwork/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>http://birrell.org/andrew/knotwork/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25484101</guid>
            <pubDate>Sun, 20 Dec 2020 05:33:10 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Email Sabbaticals]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25484092">thread link</a>) | @colinprince
<br/>
December 19, 2020 | https://pluralistic.net/2020/12/16/fraught-superpowers/#email-sabbatical | <a href="https://web.archive.org/web/*/https://pluralistic.net/2020/12/16/fraught-superpowers/#email-sabbatical">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-1713">
	<!-- .entry-header -->

	
	
	<div>
		<p><!--
Tags:
corporate transparency act, copyfight, sonny bono, public domain, 1925, downtime, email sabbaticals, ccc, chaos communications congress, events, rc3, financial secrecy, money laundering, fincen papers, panama papers, onshore offshore, facial recognition, algorithmic discrimination

Summary:
Email sabbaticals; Chaos Communications Congress; Landmark US financial transparency law; Rogues' Galleries and facial recognition; Jan 1 is Public Domain Day for 1925

URL:
https://pluralistic.net/2020/12/16/fraught-superpowers/

Title:
Pluralistic: 16 Dec 2020 fraught-superpowers

Bullet:
üëõ

Separator:
_,.-'~'-.,__,.-'~'-.,__,.-'~'-.,__,.-'~'-.,__,.-'~'-.,_

Top Sources:
Today's top sources: Waxy (https://waxy.org/), Naked Capitalism (https://www.nakedcapitalism.com/).

--><br>
<a href="https://pluralistic.net/2020/12/16/fraught-superpowers/"><img src="https://i1.wp.com/craphound.com/images/16Dec2020.jpg?w=840&amp;ssl=1" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/craphound.com/images/16Dec2020.jpg?w=840&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></a></p>

<ul>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': '#xslug'}" href="https://pluralistic.net/2020/12/16/fraught-superpowers/#email-sabbatical">Email sabbaticals</a>: I'm going offline until next year.
</li>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': '#xslug'}" href="https://pluralistic.net/2020/12/16/fraught-superpowers/#rc3">Chaos Communications Congress</a>: Finally a way to do CCC without making your family furious.
</li>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': '#xslug'}" href="https://pluralistic.net/2020/12/16/fraught-superpowers/#financial-secrecy">Landmark US financial transparency law</a>: Beginning of the end for the US onshore-offshore industry.
</li>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': '#xslug'}" href="https://pluralistic.net/2020/12/16/fraught-superpowers/#fr">Rogues' Galleries and facial recognition</a>: Self-fulfilling prophecies at the core of white supremacist policing.
</li>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': '#xslug'}" href="https://pluralistic.net/2020/12/16/fraught-superpowers/#public-domain-day">Jan 1 is Public Domain Day for 1925</a>: Gatsby, Dalloway, Buster Keaton, Ma Rainey, et al.
</li>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': '#xslug'}" href="https://pluralistic.net/2020/12/16/fraught-superpowers/#retro">This day in history</a>: 2010, 2015, 2019
</li>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': '#xslug'}" href="https://pluralistic.net/2020/12/16/fraught-superpowers/#bragsheet">Colophon</a>: Recent publications, upcoming/recent appearances, current writing projects, current reading
</li>
</ul>

<hr>
<p><a name="email-sabbatical"></a><br>
<img src="https://i2.wp.com/craphound.com/images/440685338_4668bd99c0_k.jpg?w=840&amp;ssl=1" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/craphound.com/images/440685338_4668bd99c0_k.jpg?w=840&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>

<p>It's been a decade since danah boy introduced me to the idea of "email sabbaticals." That's when you go away and turn off your email.</p>
<p><a href="http://www.zephoria.org/thoughts/archives/2010/12/08/i-am-offline-on-email-sabbatical-from-december-9-january-12.html">http://www.zephoria.org/thoughts/archives/2010/12/08/i-am-offline-on-email-sabbatical-from-december-9-january-12.html</a></p>
<p>Not just setting an out-of-office message, but rather deleting all inbound mail and asking correspondents to try again after the break. In her message, boyd explains to those correspondents who know how to reach her mother that this is the only way to reach her.</p>
<p>Here's the rationale: if you allow email to pile up while you're trying to unwind, it'll take months to catch up on when you get back, and you'll immediately burn out, incinerating all the value you got out of your break.</p>
<p>What's more, you'll still fail to clear the backlog ‚Äì you'll have to declare "email bankruptcy" and fail everyone who'd contacted you anyway. It's a bad deal for you <em>and</em> for the people who email you during your break.</p>
<p>Here's how boyd's email sabbaticals work: six months prior, she informs her collaborators that she'll be taking some protracted downtime; a month before she confirms her commitments to collaborators and composes a checklist to ensure that she meets them prior to departure.</p>
<p>A week in advance, she warns everyone again that she's going offline and shuttering her inboxes. Close family members and her network administrator are given instructions for reaching her while on break, but no one else is.</p>
<p>She leaves, and shuts down her email. She knows she's going to miss new, time-sensitive stuff, but makes peace with it. In return, she gets the peace of mind that comes from knowing that she's going to come home to an empty in-box.</p>
<p>At the close of business today, I'm going on email (and work) sabbatical until Jan 4, 2021. Apart from one live event (the remote Chaos Communications Congress on Dec 27) I won't be accepting emails and I won't be replying to DMs or other messages.</p>
<p><a href="https://rc3.world/">https://rc3.world/</a></p>
<p>I really, really need it.</p>
<p>Over the years, many people have expressed their admiration at my "productivity" ‚Äì but the dirty secret of that productivity is that work is how I cope with stress.</p>
<p>It's not the worst problem to have: I wrote a whole novel since the crisis, while also launching four books and keeping up with my day-job at EFF.</p>
<p>But working to cope with stress has its limits. It's a good temporary fix, but it's no long-term solution.</p>
<p>For one thing, I've got a serious, untreatable, degenerating chronic pain condition, and working is how I hope with the pain, too ‚Äì distraction works far better than any prescription meds for me.</p>
<p>But ignoring your body's pain signals is a dangerous tactic. It's why I'm now experiencing the worst continuous pain of my adult life (it's been a stressful year). Last week it was so bad I was walking with a cane.</p>
<p>I say all of this not to humblebrag about my commitment to my work, but rather in the interests of transparency. I'm keenly aware that we live our own blooper reels and everyone else's highlight reels.</p>
<p>I'm grateful for my work habits, truly ‚Äì but they come at a really high cost, and balancing work-as-distraction and work-as-pathology is really, really hard. If you're wondering how to do what I do, have a little peek into the blooper reel, first.</p>
<p>It's been a high-stress, crazy year. We nearly went broke, then had a spectacular recovery (thank you, Kickstarter backers!), have tried our best to be good parents (with varying degrees of success). We've gone through blazing rows and many sleepless nights.</p>
<p>I've spent most of the year with sores at the corners of my mouth, which I only get under in the most extreme times of stress.</p>
<p>And we've had it <em>good</em>. We're solvent, safe, and healthy. Thinking about what this would be like if any of those changed is terrifying.</p>
<p>Hanging out with my digital community is a huge net benefit to me, but unplugging from that community is something I increasingly value as I head towards my 50th birthday next July.</p>
<p>My first digital community experience was sending IMs to other users of the timeshare mainframe we plugged into when I was six years old, in 1977, when my dad brought home an acoustic coupler and my mom found 1,000' of brown paper towel to feed into the teletype.</p>
<p>Some (most) of my life's most important relationships, friendships, and discussions have taken place over this medium, and an enormous amount of that good stuff started with a conversation with a stranger.</p>
<p>I never felt the outrage that attended the introduction of the telephone into Edwardian England: "Anyone ‚Äî any wild fool off the street ‚Äî could simply barge bellowing into one's office or home, preceded only by the ringing of a telephone bell."</p>
<p><a href="https://www.mit.edu/hacker/part1.html">https://www.mit.edu/hacker/part1.html</a></p>
<p>For me, finding my people (and being found by them) has been the highlight of my half-century. Touring and speaking turned these digital relationships into personal ones.</p>
<p>But: moderation in all things. I'm writing four of these threads this morning, doing a couple interviews and meetings, and then putting my lid down until 2021 (save for a brief dial-in to CCC on the 27th).</p>
<p>I'm going to swim in our lovely outdoor public pool, which, thankfully, has figured out how to remain open during the pandemic. I'm going read in the backyard hammock and hike in Griffith Park.</p>
<p>I'm not going to answer ‚Äì or accept ‚Äì email while I'm gone.</p>
<p>And I say all of this because it's taken a decade for me to really understand what danah was getting at (she's a very smart person and I often benefit from reflecting on our conversations).</p>
<p>And also, to show you a bit of the blooper reel. Coping strategies are great and necessary, but they're no substitute for addressing the underlying problems. I'm proud of the work I do, but I'm also still learning how to do it right.</p>
<p>(<i>Image: <a href="https://www.flickr.com/photos/sifter/440685338/">Alex Watson</a>, <a href="https://creativecommons.org/licenses/by-nc/2.0/">CC BY-NC 2.0</a></i>)</p>
<hr>
<p><a name="rc3"></a><br>
<img src="https://i1.wp.com/craphound.com/images/rc3.jpg?w=840&amp;ssl=1" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/craphound.com/images/rc3.jpg?w=840&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>

<p>I'm about to go offline until 2021 and I had planned to do <em>absolutely no work of any sort</em> while on break, but I made an exception, for an exceptional opportunity: the 32nd Chaos Communications Congress, which is remote this year.</p>
<p><a href="https://rc3.world/">https://rc3.world/</a></p>
<p>CCC is ‚Äì notoriously ‚Äì held during Christmas week, which means that the attendees are limited to people who either care about tech policy and security more than their families, or people who can talk their families into coming along.</p>
<p>It's one of the best events I've ever attended (I brought my family along). My talk at that event, "The Coming War on General Purpose Computing," has had a long afterlife, in large part because of the kind and thoughtful reactions of the attendees.</p>
<p><a href="https://www.youtube.com/watch?v=HUEvRyemKSg">https://www.youtube.com/watch?v=HUEvRyemKSg</a></p>
<p>I've been trying to get back ever since but haven't managed it ‚Äì until this year. RC3 (the first all-remote CCC) has invited me to speak on Dec 27.</p>
<p>I'm doing two back-to-back events: a talk called "What the cyberoptimists got wrong ‚Äì and what to do about it" then a "fireside chat" (a reading from my book ATTACK SURFACE followed by a Q&amp;A;).</p>
<p>They're back-to-back, starting at 10AM Pacific (7PM CET) and running to 12/9PM.</p>
<p>The tickets are currently sold out, but they've mooted releasing another block. If you're attending, I hope you'll consider tuning into my talk (and of course, as with all CCC talks, these will be online shortly thereafter for public viewing).</p>
<p><a href="https://events.ccc.de/2020/12/08/rc3-neues-ticket-kontingent/">https://events.ccc.de/2020/12/08/rc3-neues-ticket-kontingent/</a></p>
<hr>
<p><a name="financial-secrecy"></a><br>
<img src="https://i1.wp.com/craphound.com/images/HandsomeVariableGalapagosalbatross-max-1mb.gif?w=840&amp;ssl=1" data-recalc-dims="1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>

<p>The Panama Papers, the Paradise Papers, Swissleaks, Luxembourg Leaks, the Fincen Files ‚Äì the past decade has been filled with financial secrecy scandals wherein we learned how the world's worst people hide the world's dirtiest money.</p>
<p>Governments have fallen as a result of these leaks. Journalists have been murdered for reporting them, whistleblowers have been imprisoned for telling the truth. These are a high-stakes window on the corruption, self-dealing and viciousness of the 1% and their criminal pals.</p>
<p>One critical revelation is the role that "onshort-offshore" plays in money-laundering: rich countries with a reputation for a strong rule of law and good governance are the lynchpin of global financial secrecy, thanks to lax corporate enforcement.</p>
<p>Money laundering, tax-evasion, bribery and other finance crimes were only possible because places like New Zealand, the City of London, Scotland, and US tax-havens like Delaware, Nevada and Wyoming knowingly abetted them.</p>
<p>Anti-financial-secrecy campaigners have made major progress in shutting down onshore-offshore havens, and now they've scored a massive victory in the USA, with the inclusion of an anti-money-laundering amendment to the defense bill.</p>
<p><a href="https://www.icij.org/investigations/paradise-papers/advocates-celebrate-major-us-anti-money-laundering-victory/">https://www.icij.org/investigations/paradise-papers/advocates-celebrate-major-us-anti-money-laundering-victory/</a></p>
<p>It's a must-pass bill, and there's always intense jockeying to attach other legislation to it, virtually guaranteeing its passage (this is not always a good thing: Trump wants terrible, dangerous changes to internet law included in the bill):</p>
<p><a href="https://www.eff.org/deeplinks/2020/12/its-not-section-230-president-trump-hates-its-first-amendment">https://www.eff.org/deeplinks/2020/12/its-not-section-230-president-trump-hates-its-first-amendment</a></p>
<p>The Corporate Transparency Act requires that all US companies report their true owners to the US Treasury's Financial Crimes Enforcement Network (Fincen). This will make Fincen investigations vastly cheaper‚Ä¶and more effective.</p>
<p>It's got strong bipartisan support, and is the culmination of a decade of debate, consultation and coalition-building. It passed the House and Senate with a nominally ‚Ä¶</p></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://pluralistic.net/2020/12/16/fraught-superpowers/#email-sabbatical">https://pluralistic.net/2020/12/16/fraught-superpowers/#email-sabbatical</a></em></p>]]>
            </description>
            <link>https://pluralistic.net/2020/12/16/fraught-superpowers/#email-sabbatical</link>
            <guid isPermaLink="false">hacker-news-small-sites-25484092</guid>
            <pubDate>Sun, 20 Dec 2020 05:30:38 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Koka: A Functional Language with Effect Types and Handlers]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25484057">thread link</a>) | @Avi-D-coder
<br/>
December 19, 2020 | https://koka-lang.github.io/koka/doc/index.html | <a href="https://web.archive.org/web/*/https://koka-lang.github.io/koka/doc/index.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

<p>Welcome to Koka ‚Äì a strongly typed functional-style language with effect types and handlers.
</p>
<p><a href="#install" title="Install">Install <span></span></a>
<a href="https://koka-lang.github.io/koka/doc/book.html" data-linkid="kokabook" target="_top">Get Started</a>
<a href="https://koka-lang.github.io/koka/doc/book.html" data-linkid="kokabook" target="_top">Documentation</a>
<a href="https://github.com/koka-lang/koka" data-linkid="kokarepo" target="_top">Github</a></p>
<div>
<p>Note: Koka v2 is a research language that is currently under development
and not ready for production use. 
Nevertheless, the language is stable and the compiler
implements the full specification. The main things lacking at the moment are 
libraries, package management, and deep IDE integration. 
</p>
<div>
<p>News:
</p>
<ul>
<li>2020-12-12: Koka v2.0.14 released.
</li>
<li>2020-12-02: Koka v2.0.12 released.
</li>
<li>2020-11-29: Perceus technical report publised (<a href="https://www.microsoft.com/en-us/research/uploads/prod/2020/11/perceus-tr-v1.pdf" data-linkid="perceus">pdf</a>).</li></ul>
</div></div></div><div>
<p>For Linux and macOS on x86 64-bit, you can install Koka using:
</p>
<pre><code><span>&gt; <strong>curl -sSL https://github.com/koka-lang/koka/releases/latest/download/install.sh | sh</strong></span></code></pre>
<p>This also installs syntax highlighting for the VS Code and Atom editors.
</p>
<pre><code><span><strong><code>&gt; koka</code></strong></span>
 _          _           ____
| |        | |         |__  \
| | __ ___ | | __ __ _  __) |
| |/ // _ \| |/ // _' || ___/ welcome to the koka interpreter
|   &lt;| (_) |   &lt;| (_| ||____| version 2.0.10, Nov 28 2020, libc 64-bit (gcc)
|_|\_\\___/|_|\_\\__,_|       type :? for help

loading: std/core
loading: std/core/types
loading: std/core/hnd
&gt;</code></pre>
<p>Type <code>:q</code> to exit the interpreter.
</p>
<p>For detailed instructions and other platforms (including Windows) see the&nbsp;<a href="https://github.com/koka-lang/koka/releases" data-linkid="releases">releases</a> page.
It is also straightforward to build the compiler&nbsp;<a href="https://github.com/koka-lang/koka/#build-from-source" data-linkid="build">from source</a>.
</p>
<p><a href="https://koka-lang.github.io/koka/doc/book.html#install">Running the compiler</a>
<a href="https://koka-lang.github.io/koka/doc/book.html#tour">A tour of the Koka language</a>
</p></div></div>]]>
            </description>
            <link>https://koka-lang.github.io/koka/doc/index.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25484057</guid>
            <pubDate>Sun, 20 Dec 2020 05:17:50 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The U.S. Army Is Creating Robots with Synthetically Grown Muscle]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25483962">thread link</a>) | @buddhacobbler
<br/>
December 19, 2020 | https://smosa.com/army-building-robots-with-synthetic-muscle/ | <a href="https://web.archive.org/web/*/https://smosa.com/army-building-robots-with-synthetic-muscle/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>

					<!-- .post-header -->


					<div>
						<p>According to <a href="https://www.eurekalert.org/pub_releases/2020-12/uarl-asf121720.php">an announcement in EurekAlert</a>!, The U.S. Army has been researching with Duke University a technological approach that uses robotics and "biohybrid" muscle elements.</p><p>Army researchers claim that robotic systems filled with muscle tissue will deliver a new level of agility and flexibility. In order to maximize efficiency, biohybrid robotics incorporates living organisms into mechanical systems. The team's first applications are legged platforms similar to the LLAMA and Marine Corps Legged Squad Support System (LS3), the legged locomotive and movement adaptation device of the Army.</p><p>"Though impressive in their own right, today's robots are deployed to serve a limited purpose then are retrieved some minutes later," said research scientist Dr. Dean Culver, "ARL wants robots to be versatile teammates capable of going anywhere soldiers can and more, adapting to the needs of any given situation." Culver added, "Organisms outperform engineered robots in so many ways. Why not use biological components to achieve those remarkable capabilities?"</p><figure><img src="https://images.unsplash.com/photo-1580835239846-5bb9ce03c8c3?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDl8fHJvYm90fGVufDB8fHw&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=2000" alt="Humanoid robot Robotis Bioloid with the hands in the air, cheering." srcset="https://images.unsplash.com/photo-1580835239846-5bb9ce03c8c3?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDl8fHJvYm90fGVufDB8fHw&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=600 600w, https://images.unsplash.com/photo-1580835239846-5bb9ce03c8c3?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDl8fHJvYm90fGVufDB8fHw&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=1000 1000w, https://images.unsplash.com/photo-1580835239846-5bb9ce03c8c3?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDl8fHJvYm90fGVufDB8fHw&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=1600 1600w, https://images.unsplash.com/photo-1580835239846-5bb9ce03c8c3?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDl8fHJvYm90fGVufDB8fHw&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=2400 2400w" sizes="(min-width: 720px) 720px"><figcaption>Photo by <a href="https://unsplash.com/@anilinverse?utm_source=ghost&amp;utm_medium=referral&amp;utm_campaign=api-credit">Adam Lukomski</a> / <a href="https://unsplash.com/?utm_source=ghost&amp;utm_medium=referral&amp;utm_campaign=api-credit">Unsplash</a></figcaption></figure><p>In addition, a separate team from Duke University will focus on the characteristics of macroscopic performance of muscles, tendons and ligaments in skiping animals using legged robots.</p><p>The muscle tissue is excellent for generating a certain mechanical strength, and its flexibility is unrivaled in today's robotic service. The research could show the bio-hybrid engineering community how to grow strong muscular tissue instead of extracting it from a trained organism in addition to providing insight into the mesomechanics that control motor protein movement.</p><p>"Muscle tissue is outstanding at producing a specific amount of mechanical power at a given moment," says Culver, "and its versatility is unrivaled in robotic actuation today."</p>
					</div><!-- .post-content -->

					<!-- .post-footer -->


				</article></div>]]>
            </description>
            <link>https://smosa.com/army-building-robots-with-synthetic-muscle/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25483962</guid>
            <pubDate>Sun, 20 Dec 2020 04:52:22 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Blame the Algorithm]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25483783">thread link</a>) | @dangoldin
<br/>
December 19, 2020 | https://dangoldin.com/2020/12/19/blame-the-algorithm/ | <a href="https://web.archive.org/web/*/https://dangoldin.com/2020/12/19/blame-the-algorithm/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
      
<p>Stanford Medicine is in the <a href="https://www.npr.org/sections/coronavirus-live-updates/2020/12/18/948176807/stanford-apologizes-after-vaccine-allocation-leaves-out-nearly-all-medical-resid">news</a> for using an ‚Äúalgorithm‚Äù and allocating minimal COVID vaccines to those actually on the frontlines. Instead it supposedly prioritized senior administrators who are working from home. I‚Äôm sure there‚Äôs some truth to the algorithm biasing allocation to those who are older but whenever I see someone blame an algorithm my spidey-sense goes off. The algorithm in this case was likely some extremely simple calculation in Excel that could have been easily verified by a human - both before it was run as well as a quick analysis of the results.</p>

<p>When writing software we write unit tests to test the functionality of our code and that could have easily been applied here. Similarly, when we deploy code we ask what do we expect to see and then confirm the results. This didn‚Äôt happen here and it required residents actually raising the issue to the administration.</p>

<p>The cynical view is that this was intentionally done by the administration to prioritize the vaccines for themselves. If no one complained they‚Äôd get the vaccine. If there were complaints they‚Äôd just blame the algorithm. I wouldn‚Äôt be surprised if that‚Äôs what happened here. In any case, as the entire world moves to software we really need to stop blaming the algorithm and instead blame the authors and approvers.</p>

    </section></div>]]>
            </description>
            <link>https://dangoldin.com/2020/12/19/blame-the-algorithm/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25483783</guid>
            <pubDate>Sun, 20 Dec 2020 04:10:34 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[LPEG vs. PEG‚Äìthey both have their strengths and weaknesses]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25483763">thread link</a>) | @todsacerdoti
<br/>
December 19, 2020 | http://boston.conman.org/2020/12/19.2 | <a href="https://web.archive.org/web/*/http://boston.conman.org/2020/12/19.2">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">

<!-- google_ad_section_start --> <!-- Hey, it can't hurt! -->
<h2><a name="2020-12-19" href="http://boston.conman.org/2020/12/19">Saturday, Debtember 19, 2020</a></h2>

<h3><a rel="bookmark" name="2020-12-19.2" href="http://boston.conman.org/2020/12/19.2">LPEG vs. PEG‚Äîthey both have their strengths and weaknesses</a></h3>

<!-- LPEG, PEG, parsing expression grammar, programming, tradeoffs -->

<p>While the <a href="https://www.piumarta.com/software/peg/">C <abbr title="Parsing Expression Grammar">PEG</abbr> library</a> is <a href="http://boston.conman.org/2020/12/19.1">faster and uses less memory</a> than <a href="http://www.inf.puc-rio.br/~roberto/lpeg/"><abbr title="Lua Parsing Expression Grammar">LPEG</abbr></a>,
I still prefer using <abbr title="Lua Parsing Expression Grammar">LPEG</abbr>,
because it's so much <em>easier</em> to use than the C <abbr title="Parsing Expression Grammar">PEG</abbr> library.
Yes,
there's a learning curve to using <abbr title="Lua Parsing Expression Grammar">LPEG</abbr>,
but its <a href="http://www.inf.puc-rio.br/~roberto/lpeg/re.html">re module</a> uses a similar syntax to the C <abbr title="Parsing Expression Grammar">PEG</abbr> library,
and it's easier to read and write when starting out.
Another difference is that <abbr title="Lua Parsing Expression Grammar">LPEG</abbr> practically requires all the input to parse as a single string,
whereas the C <abbr title="Parsing Expression Grammar">PEG</abbr> can do that,
it can also read data from a file
(you <em>can</em> stream data to <abbr title="Lua Parsing Expression Grammar">LPEG</abbr>,
but it involves more work‚Äîcheck out the difference between 
<a href="https://github.com/spc476/LPeg-Parsers/blob/master/json.lua">a <abbr title="JavaScript Object Notation">JSON</abbr> parser that takes the entire input as a string</a> versus 
<a href="https://github.com/spc476/LPeg-Parsers/blob/master/jsons.lua">a <abbr title="JavaScript Object Notation">JSON</abbr> parser that can stream data</a>;
the later is nearly twice the size of the former).</p>

<p>The code isn't <em>that</em> much different.
Here's a simple <abbr title="Lua Parsing Expression Grammar">LPEG</abbr> parser that will parse text like ‚Äú34.12.1.444‚Äù
(a silly but simple example):</p>

<pre title="Lua">local re   = require "re"

return re.compile(
  [[
    tumbler &lt;- number ( '.' number)*
    number  &lt;- [0-9]+ -&gt; pnum
  ]],
  {
    pnum = function(c) print("&gt;&gt;&gt; " .. c) end,
  }
)
</pre>


<p>Not bad.
And here's the C <abbr title="Parsing Expression Grammar">PEG</abbr> version:</p>

<pre title="PEG">tumbler &lt;- number ('.' number)*
number	&lt;- &lt; [0-9]+ &gt; { printf("&gt;&gt;&gt; %*s\n",yyleng,yytext); }
</pre>


<p>Again,
not terrible and similar to the <abbr title="Lua Parsing Expression Grammar">LPEG</abbr> version.</p>

<p>The major difference between the two,
however,
is in their use.
In the <abbr title="Lua Parsing Expression Grammar">LPEG</abbr> version, <code>tumbler</code> can be used in <em>other</em> <abbr title="Lua Parsing Expression Grammar">LPEG</abbr> expressions.
If I needed to parse something like ‚Äú34.12.1.444:text/plain; charset=utf-8‚Äù,
I can do that:</p>

<pre title="Lua">local re = require "re"

return re.compile(
  [[
    example &lt;- %tumbler SP* ':' SP* %mimetype
    SP      &lt;- ' ' / '\t'
  ]],
  {
    tumbler  = require "tumbler",
    mimetype = require "org.conman.parsers.mimetype",
  }
)
</pre>


<p>The same <em>cannot</em> be said for the C <abbr title="Parsing Expression Grammar">PEG</abbr> version.
It's just not written to support such use.
If I need to parse text like ‚Äú32.12.1.444‚Äù and mimetypes,
then I have to modify the parser to support it all‚Äîthere's no easy way to combine different parsers.</p>

<p>That said,
I would still use the C <abbr title="Parsing Expression Grammar">PEG</abbr> library,
but only when memory <em>or</em> performance is an issue.
It certainly won't be because of convenience.</p>


<!-- google_ad_section_end -->
</div><div id="lawyer">

	<p>You have my permission to link freely to any entry here.  Go
	ahead, I won't bite.  I promise.</p>

	<p>The dates are the permanent links to that day's entries (or
	entry, if there is only one entry).  The titles are the permanent
	links to <em>that</em> entry only.  The format for the links are
	simple: Start with the base link for this site: <a class="page" href="http://boston.conman.org/">http://boston.conman.org/</a>, then add the date you are
	interested in, say <a href="http://boston.conman.org/2000/08/01">2000/08/01</a>,
	so that would make the final <abbr title="Uniform Resource
	Locator">URL</abbr>:</p>

	<p><a class="page" href="http://boston.conman.org/2000/08/01">http://boston.conman.org/2000/08/01</a></p>

	<p>You can also specify the entire month by leaving off the day
	portion.  You can even select <a class="page" href="http://boston.conman.org/about/technical.html">an arbitrary portion of time.</a></p>

	<p>You may also note subtle shading of the links and that's
	intentional: the ‚Äúcloser‚Äù the link is (relative to the
	page) the ‚Äúbrighter‚Äù it appears.  It's an experiment in
	using color shading to denote the distance a link is from here.  If
	you don't notice it, don't worry; it's not all <em>that</em>
	important.</p>

	<p>It is assumed that every brand name, slogan, corporate name,
	symbol, design element, et cetera mentioned in these pages is a
	protected and/or trademarked entity, the sole property of its
	owner(s), and acknowledgement of this status is implied.</p>

</div></div>]]>
            </description>
            <link>http://boston.conman.org/2020/12/19.2</link>
            <guid isPermaLink="false">hacker-news-small-sites-25483763</guid>
            <pubDate>Sun, 20 Dec 2020 04:04:09 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Rebooting a 15 year-old game written in D ‚Äì Part 1 Compiling]]>
            </title>
            <description>
<![CDATA[
Score 103 | Comments 49 (<a href="https://news.ycombinator.com/item?id=25483693">thread link</a>) | @arunc
<br/>
December 19, 2020 | https://speps.fr/articles/torus-trooper-part1/ | <a href="https://web.archive.org/web/*/https://speps.fr/articles/torus-trooper-part1/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="main-container">
        <div id="main">
            
<div id="content">
	<div id="page">
		
		
		
		
		<p>See also</p>
<ul>
<li><a href="https://speps.fr/articles/torus-trooper-part1">Part 1 - Compiling a new executable</a></li>
<li><a href="https://speps.fr/articles/torus-trooper-part2">Part 2 - Running the game for the first time</a></li>
<li><a href="https://speps.fr/articles/torus-trooper-part3">Part 3 - Porting to WebAssembly</a></li>
<li><a href="https://speps.fr/articles/torus-trooper-part4">Part 4 - Final steps</a></li>
</ul>
<p>While exploring D recently, I remembered a game I played while at university 15 years ago. For a long time, I couldn‚Äôt remember the name at all, only that it was from a Japanese developer. After some search wrangling, I finally managed to find the name of the game: <strong>Torus Trooper!</strong></p>
<p>You can find it there: <a href="http://www.asahi-net.or.jp/~cs8k-cyu/windows/tt_e.html">http://www.asahi-net.or.jp/~cs8k-cyu/windows/tt_e.html</a></p>
<p><img src="https://speps.fr/media/articles/tt1.png" alt=""></p>
<p>Here is a copy of the tt0_22.zip file archived: <a href="https://github.com/speps/tt/archive/legacy.zip">https://github.com/speps/tt/archive/legacy.zip</a></p>
<p>What made me remember this game is that :</p>
<ul>
<li>It came with <a href="https://github.com/speps/tt/tree/legacy/src/abagames">source code</a>, quite unusual at the time for me</li>
<li>Written in D, a language I didn‚Äôt know at all while I was busy studying C++</li>
<li>It‚Äôs awfully addictive!</li>
</ul>
<p>What better project than try to compile a <strong>D v0.110</strong> project in a modern version of D and possibly porting the game to WebAssembly+WebGL! So here we are‚Ä¶</p>
<h2 id="switching-from-ant-to-dub">Switching from Ant to DUB</h2>
<p>The game used Ant and its <code>build.xml</code> file to generate the executable, resources, etc. Since then, D added DUB as a build system / package manager so let‚Äôs use that!</p>
<div><div>
<table><tbody><tr><td>
<pre><code><span> 1
</span><span> 2
</span><span> 3
</span><span> 4
</span><span> 5
</span><span> 6
</span><span> 7
</span><span> 8
</span><span> 9
</span><span>10
</span><span>11
</span><span>12
</span><span>13
</span><span>14
</span></code></pre></td>
<td>
<pre><code data-lang="json"><span>{</span>
	<span>"authors"</span><span>:</span> <span>[</span>
		<span>"Kenta Cho"</span><span>,</span>
		<span>"Remi Gillig"</span>
	<span>],</span>
	<span>"copyright"</span><span>:</span> <span>"Copyright ¬© 2004 - Kenta Cho, 2020 - Remi Gillig"</span><span>,</span>
	<span>"description"</span><span>:</span> <span>"Torus Trooper (Reboot)"</span><span>,</span>
	<span>"license"</span><span>:</span> <span>"BSD 2-clause"</span><span>,</span>
	<span>"name"</span><span>:</span> <span>"tt"</span><span>,</span>
	<span>"targetType"</span><span>:</span> <span>"executable"</span><span>,</span>
	<span>"sourcePaths"</span><span>:</span> <span>[</span>
		<span>"src"</span>
	<span>]</span>
<span>}</span>
</code></pre></td></tr></tbody></table>
</div>
</div><p>With this initial <code>dub.json</code> file, I was set to run the <code>dub</code> command‚Ä¶</p>
<div><pre><code data-lang="plaintext">Performing "debug" build using C:\D\dmd2\windows\bin64\dmd.exe for x86.
tt ~master: building configuration "application"...
src\abagames\tt\barrage.d(95,33): Error: instead of C-style syntax, use D-style BulletMLParserTinyXML*[char[]][char[]] parser
src\abagames\tt\barrage.d(122,28): Error: instead of C-style syntax, use D-style BulletMLParserTinyXML*[] pl
src\abagames\tt\barrage.d(130,14): Error: instead of C-style syntax, use D-style BulletMLParserTinyXML*[char[]] pa
src\abagames\tt\boot.d(51,12): Error: instead of C-style syntax, use D-style char[4096] exe
src\abagames\tt\tunnel.d(300,14): Error: template argument expected following !
src\abagames\tt\tunnel.d(322,14): Error: template argument expected following !
src\abagames\util\rand.d(115,6): Error: instead of C-style syntax, use D-style uint[N] state
src\abagames\util\rand.d(140,20): Error: instead of C-style syntax, use D-style uint[] init_key
src\abagames\util\sdl\luminous.d(21,10): Error: instead of C-style syntax, use D-style GLuint[LUMINOUS_TEXTURE_WIDTH_MAX * LUMINOUS_TEXTURE_HEIGHT_MAX * 4 * (uint).sizeof] td
src\abagames\util\sdl\luminous.d(83,17): Error: instead of C-style syntax, use D-style float[2][2] lmOfs
C:\D\dmd2\windows\bin64\dmd.exe failed with exit code 1.
</code></pre></div><p>Alright let‚Äôs start and get this to compile!</p>
<h2 id="c-style-syntax-errors">C-style syntax errors</h2>
<p>This is one is easy to fix, the suggestion from the compiler works, I just replaced every instance of this error with the suggestion.</p>
<p>Here is an example:</p>
<div><div>
<table><tbody><tr><td>
<pre><code><span>1
</span><span>2
</span><span>3
</span><span>4
</span><span>5
</span><span>6
</span><span>7
</span><span>8
</span></code></pre></td>
<td>
<pre><code data-lang="diff"><span>@@ -42,7 +43,7 @@ struct SDL_AudioSpec {
</span><span></span>     Once the callback returns, the buffer will no longer be valid.
     Stereo samples are stored in a LRLRLR ordering.
  */
<span>- void (*callback)(void *userdata, Uint8 *stream, int len);
</span><span></span><span>+ void function(void *userdata, Uint8 *stream, int len) callback;
</span><span></span>  void  *userdata;
 }
</code></pre></td></tr></tbody></table>
</div>
</div><h2 id="error-template-argument-expected-following-">Error: template argument expected following !</h2>
<p>This is an interesting one, here is one of the files where this error triggers:</p>
<div><div>
<table><tbody><tr><td>
<pre><code><span> 1
</span><span> 2
</span><span> 3
</span><span> 4
</span><span> 5
</span><span> 6
</span><span> 7
</span><span> 8
</span><span> 9
</span><span>10
</span><span>11
</span><span>12
</span><span>13
</span><span>14
</span><span>15
</span><span>16
</span><span><span>17
</span></span><span>18
</span><span>19
</span><span>20
</span><span>21
</span></code></pre></td>
<td>
<pre><code data-lang="d">  <span>private</span> <span>void</span> <span>calcIndex</span><span>(</span><span>in</span> <span>float</span> <span>z</span><span>,</span> <span>out</span> <span>int</span> <span>idx</span><span>,</span> <span>out</span> <span>float</span> <span>ofs</span><span>)</span> <span>{</span>
    <span>idx</span> <span>=</span> <span>slice</span><span>.</span><span>length</span> <span>+</span> <span>99999</span><span>;</span>
    <span>for</span> <span>(</span><span>int</span> <span>i</span> <span>=</span> <span>1</span><span>;</span> <span>i</span> <span>&lt;</span> <span>slice</span><span>.</span><span>length</span><span>;</span> <span>i</span><span>++)</span> <span>{</span>
      <span>if</span> <span>(</span><span>z</span> <span>&lt;</span> <span>slice</span><span>[</span><span>i</span><span>].</span><span>depth</span><span>)</span> <span>{</span>
        <span>idx</span> <span>=</span> <span>i</span> <span>-</span> <span>1</span><span>;</span>
        <span>ofs</span> <span>=</span> <span>(</span><span>z</span> <span>-</span> <span>slice</span><span>[</span><span>idx</span><span>].</span><span>depth</span><span>)</span> <span>/</span> <span>(</span><span>slice</span><span>[</span><span>idx</span> <span>+</span> <span>1</span><span>].</span><span>depth</span> <span>-</span> <span>slice</span><span>[</span><span>idx</span><span>].</span><span>depth</span><span>);</span>
        <span>break</span><span>;</span>
      <span>}</span>
    <span>}</span>
    <span>if</span> <span>(</span><span>idx</span> <span>&lt;</span> <span>0</span><span>)</span> <span>{</span>
      <span>idx</span> <span>=</span> <span>0</span><span>;</span>
      <span>ofs</span> <span>=</span> <span>0</span><span>;</span>
    <span>}</span> <span>else</span> <span>if</span> <span>(</span><span>idx</span> <span>&gt;=</span> <span>slice</span><span>.</span><span>length</span> <span>-</span> <span>1</span><span>)</span> <span>{</span>
      <span>idx</span> <span>=</span> <span>slice</span><span>.</span><span>length</span> <span>-</span> <span>2</span><span>;</span>
      <span>ofs</span> <span>=</span> <span>0.99</span><span>;</span>
    <span>}</span>
<span>    <span>if</span> <span>(</span><span>ofs</span> <span>!&gt;=</span> <span>0</span><span>)</span> <span>// ERROR HERE
</span></span><span></span>      <span>ofs</span> <span>=</span> <span>0</span><span>;</span>
    <span>else</span> <span>if</span> <span>(</span><span>ofs</span> <span>&gt;=</span> <span>1</span><span>)</span>
      <span>ofs</span> <span>=</span> <span>0.99</span><span>;</span>
  <span>}</span>
</code></pre></td></tr></tbody></table>
</div>
</div><p>I did try a few searches without success so I asked on the D community forums and a few people guessed right, it‚Äôs of course a <code>not &gt;=</code>, equivalent to <code>&lt;</code>. However, <a href="https://forum.dlang.org/post/rec3d1$toc$1@digitalmars.com">thanks to Walter Bright</a>, I got a link to the <a href="https://www.digitalmars.com/ctg/ctgNumerics.html#comparisons">original documentation from Digital Mars</a>. The subtle difference with <code>!&gt;=</code> is that it will also return <code>true</code> if any operands are <code>NaN</code>. Suggested fix seems to have worked:</p>
<div><div>
<table><tbody><tr><td>
<pre><code><span>17
</span><span>18
</span></code></pre></td>
<td>
<pre><code data-lang="d">    <span>if</span> <span>(</span><span>std</span><span>.</span><span>math</span><span>.</span><span>isNaN</span><span>(</span><span>ofs</span><span>)</span> <span>||</span> <span>ofs</span> <span>&lt;</span> <span>0</span><span>)</span>
      <span>ofs</span> <span>=</span> <span>0</span><span>;</span>
</code></pre></td></tr></tbody></table>
</div>
</div><h2 id="replacing-char-with-string">Replacing <code>char[]</code> with <code>string</code></h2>
<p>D1 used to have <code>char[]</code> as the string type, and functions in <code>std.string</code> in Phobos to manipulate this type. D2 replaced this with an <code>alias string = immutable(char)[]</code>. As a result, a lot of the code needs updating to deal with this. That includes the code in the custom bindings.</p>
<p>Most of the changes here are similar to this</p>
<div><div>
<table><tbody><tr><td>
<pre><code><span> 1
</span><span> 2
</span><span> 3
</span><span> 4
</span><span> 5
</span><span> 6
</span><span> 7
</span><span> 8
</span><span> 9
</span><span>10
</span><span>11
</span><span>12
</span><span>13
</span><span>14
</span><span>15
</span><span>16
</span><span>17
</span><span>18
</span><span>19
</span><span>20
</span><span>21
</span><span>22
</span><span>23
</span><span>24
</span><span>25
</span></code></pre></td>
<td>
<pre><code data-lang="diff"><span>@@ -92,24 +91,24 @@ public class Barrage {
</span><span></span>  */
 public class BarrageManager {
  private:
<span>-  static BulletMLParserTinyXML *parser[char[]][char[]];
</span><span>-  static const char[] BARRAGE_DIR_NAME = "barrage";
</span><span></span><span>+  static BulletMLParserTinyXML*[string][string] parser;
</span><span>+  static const string BARRAGE_DIR_NAME = "barrage";
</span><span></span> 
   public static void load() {
<span>-    char[][] dirs = listdir(BARRAGE_DIR_NAME);
</span><span>-    foreach (char[] dirName; dirs) {
</span><span>-      char[][] files = listdir(BARRAGE_DIR_NAME ~ "/" ~ dirName);
</span><span>-      foreach (char[] fileName; files) {
</span><span>-        if (getExt(fileName) != "xml")
</span><span></span><span>+    string[] dirs = listdir(BARRAGE_DIR_NAME);
</span><span>+    foreach (string dirName; dirs) {
</span><span>+      string[] files = listdir(BARRAGE_DIR_NAME ~ "/" ~ dirName);
</span><span>+      foreach (string fileName; files) {
</span><span>+        if (fileName.extension != ".xml")
</span><span></span>           continue;
         parser[dirName][fileName] = getInstance(dirName, fileName);
       }
     }
   }
</code></pre></td></tr></tbody></table>
</div>
</div><h2 id="converting-value-to-string">Converting value to string</h2>
<p>D1 used to have <code>std.string.toString</code> to convert a value to a <code>char[]</code> value. This functionality was replaced by <code>std.conv.to!string</code>.</p>
<div><div>
<table><tbody><tr><td>
<pre><code><span> 1
</span><span> 2
</span><span> 3
</span><span> 4
</span><span> 5
</span><span> 6
</span><span> 7
</span><span> 8
</span><span> 9
</span><span>10
</span><span>11
</span><span>12
</span><span>13
</span><span>14
</span><span>15
</span><span>16
</span><span>17
</span></code></pre></td>
<td>
<pre><code data-lang="diff"><span>@@ -5,6 +5,7 @@
</span><span></span>  */
 module abagames.tt.shot;
 
<span>+private import std.conv;
</span><span></span> private import std.math;
 private import std.string;
 private import opengl;
<span>@@ -179,7 +180,7 @@ public class Shot: Actor {
</span><span></span>       else if (sc &gt;= 2000)
         size = 0.7;
       size *= (1 + multiplier * 0.01f);
<span>-      fl.set("X" ~ std.string.toString(multiplier), pos, size * pos.y,
</span><span></span><span>+      fl.set("X" ~ to!string(multiplier), pos, size * pos.y,
</span><span></span>              cast(int) (30 + multiplier * 0.3f));
     }
     if (chargeShot) {
</code></pre></td></tr></tbody></table>
</div>
</div><h2 id="passing-strings-to-c">Passing strings to C</h2>
<p>The usual way to pass strings to C seems to have been to just to use <code>std.string.toStringz</code>. However, back in D1 it used to return char* :</p>
<pre><code>char* toStringz(char[] s);
</code></pre><p>This worked well for the C bindings but with D2, it now returns:</p>
<pre><code>immutable(char)* toStringz(scope return string s) pure nothrow @trusted;
</code></pre><p>Again, the fix is quite straightforward. For example, the bindings weren‚Äôt written with this in mind so they need fixing:</p>
<div><div>
<table><tbody><tr><td>
<pre><code><span>1
</span><span>2
</span><span>3
</span><span>4
</span><span>5
</span><span>6
</span></code></pre></td>
<td>
<pre><code data-lang="diff"><span>@@ -81,7 +81,7 @@ struct SDL_RWops {
</span><span></span> 
 /* Functions to create SDL_RWops structures from various data sources */
 
<span>-SDL_RWops * SDL_RWFromFile(char *file, char *mode);
</span><span></span><span>+SDL_RWops * SDL_RWFromFile(const char *file, const char *mode);
</span></code></pre></td></tr></tbody></table>
</div>
</div><h2 id="simple-substitution">Simple substitution</h2>
<ul>
<li><code>typedef</code> ‚Üí <code>alias</code></li>
</ul>
<div><div>
<table><tbody><tr><td>
<pre><code><span> 1
</span><span> 2
</span><span> 3
</span><span> 4
</span><span> 5
</span><span> 6
</span><span> 7
</span><span> 8
</span><span> 9
</span><span>10
</span><span>11
</span><span>12
</span></code></pre></td>
<td>
<pre><code data-lang="diff"><span>@@ -28,10 +28,10 @@ import SDL_types;
</span><span></span> 
 extern(C):
 
<span>-typedef int (*_seek_func_t)(SDL_RWops *context, int offset, int whence);
</span><span>-typedef int (*_read_func_t)(SDL_RWops *context, void *ptr, int size, int maxnum);
</span><span>-typedef int (*_write_func_t)(SDL_RWops *context, void *ptr, int size, int num);
</span><span>-typedef int (*_close_func_t)(SDL_RWops *context);
</span><span></span><span>+alias int function(SDL_RWops *context, int offset, int whence) _seek_func_t;
</span><span>+alias int function(SDL_RWops *context, void *ptr, int size, int maxnum) _read_func_t;
</span><span>+alias int function(SDL_RWops *context, void *ptr, int size, int num) _write_func_t;
</span><span>+alias int function(SDL_RWops *context) _close_func_t;
</span></code></pre></td></tr></tbody></table>
</div>
</div><ul>
<li><code>inout</code> ‚Üí <code>ref</code>: this made sense for all instances where <code>inout</code> was used</li>
</ul>
<div><div>
<table><tbody><tr><td>
<pre><code><span>1
</span><span>2
</span><span>3
</span><span>4
</span><span>5
</span><span>6
</span><span>7
</span><span>8
</span></code></pre></td>
<td>
<pre><code data-lang="diff"><span>@@ -59,7 +59,7 @@ public class PrefData {
</span><span></span> 
   public this() {
     gradeData = new GradeData[Ship.GRADE_NUM];
<span>-    foreach (inout GradeData gd; gradeData)
</span><span></span><span>+    foreach (ref GradeData gd; gradeData)
</span><span></span>       gd = new GradeData;
   }
</code></pre></td></tr></tbody></table>
</div>
</div><ul>
<li><code>auto T</code> ‚Üí <code>auto</code>: it seems the original author specified auto along with the type which isn‚Äôt allowed anymore</li>
</ul>
<div><div>
<table><tbody><tr><td>
<pre><code><span> 1
</span><span> 2
</span><span> 3
</span><span> 4
</span><span> 5
</span><span> 6
</span><span> 7
</span><span> 8
</span><span> 9
</span><span>10
</span><span>11
</span><span>12
</span><span>13
</span><span>14
</span><span>15
</span><span>16
</span><span>17
</span><span>18
</span><span>19
</span><span>20
</span><span>21
</span><span>22
</span><span>23
</span><span>24
</span><span>25
</span></code></pre></td>
<td>
<pre><code data-lang="diff"><span>@@ -631,9 +631,9 @@ public class BulletShape: Drawable {
</span><span></span>   }
 
   private void createSquareShape(bool wireShape) {
<span>-    auto Vector3 cp = new Vector3;
</span><span>-    auto Vector3[] p = new Vector3[4];
</span><span>-    auto Vector3[] np = new Vector3[4];
</span><span></span><span>+    auto cp = new Vector3;
</span><span>+    auto p = new Vector3[4];
</span><span>+    auto np = new Vector3[4];
</span><span></span>     static const float[][][] POINT_DAT = [
       [[-1, -1, 1], [1, -1, 1], [1, 1, 1], [-1, 1, 1], ],
       [[-1, -1, -1], [1, -1, -1], [1, 1, -1], [-1, 1, -1], ],
<span>@@ -642,9 +642,9 @@ public class BulletShape: Drawable {
</span><span></span>       [[1, -1, -1], [1, -1, 1], [1, 1, 1], [1, 1, -1], ],
       [[-1, -1, -1], [-1, -1, 1], [-1, 1, 1], [-1, 1, -1], ],
     ];
<span>-    foreach (inout Vector3 ip; p)
</span><span></span><span>+    foreach (ref Vector3 ip; p)
</span><span></span>       ip = new Vector3;
<span>-    foreach (inout Vector3 inp; np)
</span><span></span><span>+    foreach (ref Vector3 inp; np)
</span><span></span>       inp = new Vector3;
     for (int i = 0; i &lt; 6; i++) {
       cp.x = cp.y = cp.z = 0;
</code></pre></td></tr></tbody></table>
</div>
</div><ul>
<li><code>getExt</code> ‚Üí <code>.extension</code>: behaviour is different but it‚Äôs easy enough to fix, it now includes the dot</li>
</ul>
<div><div>
<table><tbody><tr><td>
<pre><code><span> 1
</span><span> 2
</span><span> 3
</span><span> 4
</span><span> 5
</span><span> 6
</span><span> 7
</span><span> 8
</span><span> 9
</span><span>10
</span><span>11
</span><span>12
</span><span>13
</span><span>14
</span><span>15
</span></code></pre></td>
<td>
<pre><code data-lang="diff"><span>@@ -44,10 +45,10 @@ public class SoundManager: abagames.util.sdl.sound.SoundManager {
</span><span></span> 
   private static Music[] loadMusics() {
     Music[] musics;
<span>-    char[][] files = listdir(Music.dir);
</span><span>-    foreach (char[] fileName; files) {
</span><span>-      char[] ext = getExt(fileName);
</span><span>-      if (ext != "ogg" &amp;&amp; ext != "wav")
</span><span></span><span>+    string[] files = listdir(Music.dir);
</span><span>+    foreach (string ‚Ä¶</span></code></pre></td></tr></tbody></table></div></div></div></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://speps.fr/articles/torus-trooper-part1/">https://speps.fr/articles/torus-trooper-part1/</a></em></p>]]>
            </description>
            <link>https://speps.fr/articles/torus-trooper-part1/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25483693</guid>
            <pubDate>Sun, 20 Dec 2020 03:42:50 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Astropanel ‚Äì Astronomy Program for the Terminal]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25483426">thread link</a>) | @FlyMoreRockets
<br/>
December 19, 2020 | https://isene.org/2020/12/Astropanel.html | <a href="https://web.archive.org/web/*/https://isene.org/2020/12/Astropanel.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="main" role="main">
        <article>

            <p><img src="">
            </p>

            <!-- MAIN -->
            
            <h3>
                <a href="https://isene.org/" rel="bookmark" title="" itemprop="url"></a>
            </h3>

            <hr>

            <!-- POST CONTENT -->
            <div>
                <p>I am proud to present my latest project - the Astropanel.</p>

<p>This program will help you decide when you should bring out your telescope.</p>

<p>Feature list:</p>

<ul>
  <li>Weather forecast for the next 9 days with coloring (red/yellow/green) based
on your limits for cloud cover, humidity, temperature and wind</li>
  <li>Easy graphic representation of when the Sun, Moon and planets are visible
with the Moon‚Äôs phase showing in how light the representing bar is</li>
  <li>Extra information for each day: Fog, wind gust speed, dew point temperature,
air pressure, UV Index, Sun and Moon precise rise and set and Moon phase.
The Moon phase is expressed as a number between 0 and 100 where 50 is the
full moon.</li>
  <li>Astronomical events for each of the 9 days, with option to list them in one
view</li>
  <li>Starchart showing in the terminal for the selected day and time of day</li>
  <li>A table showing RA, Dec, distance, rise, set and transit for the planets</li>
  <li>Show today‚Äôs Astronomy Picture Of the Day</li>
</ul>

<p>Check out the screencast to see the program in use:</p>

<p>
  <iframe src="https://www.youtube.com/embed/36jsu3YBLyw" allowfullscreen=""></iframe>
</p>

<p>Github repository: https://github.com/isene/astropanel</p>

<hr>
<p>Link to this post: <a href="https://isene.org/2020/12/Astropanel.html">https://isene.org/2020/12/Astropanel.html</a></p>

            </div>
            <!--- DIVIDING LINE -->
            <hr>

            <!-- POST TAGS -->
            

            <br>

            <!-- POST DATE -->
            
			




        </article>
    </div></div>]]>
            </description>
            <link>https://isene.org/2020/12/Astropanel.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25483426</guid>
            <pubDate>Sun, 20 Dec 2020 02:52:06 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[What's New in CSS-Doodle]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25483369">thread link</a>) | @spirit23
<br/>
December 19, 2020 | https://yuanchuan.dev/whats-new-in-css-doodle | <a href="https://web.archive.org/web/*/https://yuanchuan.dev/whats-new-in-css-doodle">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
  
  <div>
    <article>
  <p>
    I planned to rewrite <a href="https://css-doodle.com/">css-doodle</a> from scratch a long time ago, but there's barely any progress.
    One reason is that I wanted to make it too perfect but was stuck at the part of parsing all the time.
    Another reason is creating new things was more attractive to me than tools building whenever
    I got some time or inspiration.
  </p>
  <!--more-->

  <p>
    I then changed my mind recently, instead of rewriting from scratch, making improvement little by little seems to be more promising.
    There have been many updates for the past month to give css-doodle a new look. I'd like to share those exciting new features.
  </p>

  <h2>.export()</h2>
  <p>
    Screenshot at client side has always been a hard problem if it's not SVG or canvas.
    Unfortunately, the most commonly used <a href="https://github.com/niklasvh/html2canvas">html2canvas</a> does not work well for Web Components.
    For a long time I thought using a command line tool with <a href="https://github.com/puppeteer/puppeteer">Puppeteer</a> was the best solution
    I could find.
  </p>

  <p>
    Until I learned about the SVG <a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Element/foreignObject">&lt;foreignObject&gt;</a>
    the other day, which can embed HTML inside it to make the whole thing a valid SVG. So I put everything of Shadow DOM
    generated by css-doodle into &lt;foreignObject&gt;, and then using canvas to get the SVG image data. Problem sovled!
  </p>

<figure><pre><code data-lang="html"><span>&lt;svg</span> <span>xmlns=</span><span>"http://www.w3.org/2000/svg"</span><span>&gt;</span>
  <span>&lt;foreignObject</span> <span>width=</span><span>"100%"</span> <span>height=</span><span>"100%"</span><span>&gt;</span>
    <span>&lt;!-- css-doodle code --&gt;</span>
  <span>&lt;/foreignObject&gt;</span>
<span>&lt;/svg&gt;</span></code></pre></figure>

  <p>
    Thanks to SVG, keep <code>viewBox</code> to the actual element size, increase the <code>width</code> and <code>height</code>
    will get large dimensions of the image. That's extremely useful for print purpose.
  </p>

<figure><pre><code data-lang="html"><span>&lt;svg</span> <span>viewBox=</span><span>"0 0 600 600"</span> <span>width=</span><span>"8000px"</span> <span>height=</span><span>"8000px"</span><span>&gt;&lt;/svg&gt;</span></code></pre></figure>

  <p>
    The <code>.export()</code> API uses this technique and wraps everything up, it will export css-doodle as an image right in the browser.
    See example and all the options <a href="https://css-doodle.com/#js-api-export">here</a>.
  </p>

<figure><pre><code data-lang="js"><span>let</span> <span>doodle</span> <span>=</span> <span>document</span><span>.</span><span>querySelector</span><span>(</span><span>'</span><span>css-doodle</span><span>'</span><span>)</span>

<span>doodle</span><span>.</span><span>export</span><span>({</span>
  <span>scale</span><span>:</span> <span>10</span><span>,</span>
  <span>download</span><span>:</span> <span>true</span>
<span>})</span></code></pre></figure>

  <h2>@doodle()</h2>
  <p>
    Since css-doodle can be exported as an image now, why not to generate image from code on the fly inside itself?
    Properties like <code>background</code>, <code>border-image</code> and <code>mask</code> all accepts image data as value.
  </p>

  <p>
    It's just an idea at first but soon proved to be the right direction to open up a new dimension.
  </p>

<figure><pre><code data-lang="css"><span>backgrund</span><span>:</span> <span>@doodle</span><span>(</span>
  <span>@</span><span>grid</span><span>:</span> <span>5</span> <span>/</span> <span>100%</span><span>;</span>
  <span>background</span><span>:</span> <span>@p</span><span>(</span><span>#000</span><span>,</span> <span>#fff</span><span>);</span>
<span>);</span></code></pre></figure>

  <h3>Issues with background patterns before</h3>

  <p>
    To fill as many space of background as possible, creating more DOM elements might be an option.
    The max number of elements css-doodle can make is 1024. Even if there's enough of them,
    the performance gets worse as the number of elements increases.
  </p>

  <p>
    There also lacks a way to transform background in CSS like <code>patternTransform</code> does in SVG,
    which makes it difficult to create some classic patterns by tiling, like <a href="https://twitter.com/yuanchuan23/status/1182614601319403521">this one</a>.
  </p>

  <h3>How @doodle() solves the issues</h3>

  <p>
    We build the tiling fragment with css-doodle as background image. Together with <code>background-size</code> and <code>background-repeat</code>,
    only one element is needed to fill up the entire screen no mater how big it is. So it performs farely well.
  </p>

  <p>
    The <code>@doodle()</code> function can also be nested.
    It's possible to do any kinds of transformations with <code>transform</code> property,
    or applying any other styles to the image itself. Because everything inside <code>@doodle()</code> is image.
  </p>
  <p>
    No need to wait for the browser to support something like <code>background-transform</code> anymore.
  </p>

<figure><pre><code data-lang="css"><span>@grid</span><span>:</span> <span>1</span> <span>/</span> <span>100%</span> <span>180px</span><span>;</span>
<span>background</span><span>:</span> <span>@doodle</span><span>(</span>
  <span>:</span><span>doodle</span> <span>{</span>
    <span>@grid</span><span>:</span> <span>1</span> <span>/</span> <span>2000px</span><span>;</span>
    <span>transform</span><span>:</span> <span>rotate</span><span>(</span><span>-135deg</span><span>)</span> <span>scale</span><span>(</span><span>2</span><span>);</span>
  <span>}</span>
  <span>background</span><span>:</span> <span>@doodle</span><span>(</span>
    <span>@</span><span>grid</span><span>:</span> <span>6</span><span>x1</span> <span>/</span> <span>calc</span><span>(</span><span>100%</span> <span>+</span> <span>1px</span><span>);</span>
    <span>@size</span><span>:</span> <span>calc</span><span>(</span><span>100%</span> <span>-</span> <span>100%</span> <span>/</span> <span>@</span><span>I</span> <span>*</span> <span>(</span><span>@</span><span>i</span> <span>-</span> <span>1</span><span>));</span>
    <span>position</span><span>:</span> <span>absolute</span><span>;</span>
    <span>border</span><span>:</span> <span>1</span><span>px</span> <span>solid</span> <span>black</span><span>;</span>
    <span>background</span><span>:</span> <span>@pn</span><span>(</span>
      <span>crimson</span><span>,</span><span>darkorange</span><span>,</span><span>gold</span><span>,</span><span>forestgreen</span><span>,</span><span>royalblue</span><span>,</span><span>rebeccapurple</span>
    <span>);</span>
  <span>)</span> <span>0</span> <span>/</span> <span>18</span><span>px</span> <span>18</span><span>px</span><span>;</span>
<span>);</span></code></pre></figure>
  <p>
    <css-doodle>
      @grid: 1 / 100% 180px;
      background: @doodle(
        :doodle {
          @grid: 1 / 2000px;
          transform: rotate(-135deg) scale(2);
        }
        background: @doodle(
          @grid: 6x1 / calc(100% + 1px);
          @size: calc(100% - 100% / @I * (@i - 1));
          position: absolute;
          border: 1px solid black;
          background: @pn(
            crimson, darkorange, gold,
            forestgreen, royalblue, rebeccapurple,
          );
        ) 0 / 18px 18px;
      );
    </css-doodle>
  </p>

  <p>
    Another quick example using <code>@doodle()</code>:
  </p>

<figure><pre><code data-lang="css"><span>@grid</span><span>:</span> <span>1</span> <span>/</span> <span>100%</span> <span>180px</span><span>;</span>
<span>background</span><span>:</span> <span>@doodle</span><span>(</span>
  <span>:</span><span>doodle</span> <span>{</span>
    <span>@grid</span><span>:</span> <span>1</span> <span>/</span> <span>2000px</span><span>;</span>
    <span>transform</span><span>:</span> <span>rotate</span><span>(</span><span>45</span><span>deg</span><span>)</span> <span>scale</span><span>(</span><span>1</span><span>.</span><span>5</span><span>);</span>
  <span>}</span>
  <span>background-size</span><span>:</span> <span>20</span><span>px</span> <span>20</span><span>px</span><span>;</span>
  <span>background-image</span><span>:</span> <span>@doodle</span><span>(</span>
    <span>@</span><span>grid</span><span>:</span> <span>2</span> <span>/</span> <span>100%</span><span>;</span>
    <span>transform</span><span>:</span> <span>scale</span><span>(.</span><span>84</span><span>,</span> <span>.</span><span>6</span><span>)</span> <span>skewY</span><span>(</span><span>@pn</span><span>(</span><span>¬±</span><span>37deg</span><span>));</span>
    <span>border-radius</span><span>:</span> <span>2</span><span>px</span><span>;</span>
    <span>background</span><span>:</span> <span>@pn</span><span>(</span>
      <span>crimson</span><span>,</span> <span>darkorange</span><span>,</span> <span>gold</span><span>,</span> <span>royalblue</span>
    <span>);</span>
  <span>);</span>
<span>);</span></code></pre></figure>

  <p>
    <css-doodle>
      @grid: 1 / 100% 180px;
      background: @doodle(
        :doodle {
          @grid: 1 / 2000px;
          transform: rotate(45deg) scale(1.5);
        }
        background-size: 20px 20px;
        background-image: @doodle(
          @grid: 2 / 100%;
          transform: scale(.84, .6) skewY(@pn(¬±37deg));
          border-radius: 2px;
          background: @pn(
           crimson, darkorange, gold, royalblue
          );
        );
      );
    </css-doodle>
  </p>

  <p>
    I'm quite excited about this function. Can't wait to build tons of background patterns using css-doodle!
  </p>

  <h2>@shape()</h2>
  <p>
    This is another exciting function! It will generate a <code>polygon()</code> in string used by <code>clip-path</code>.
    For example, to make a hexagon:
  </p>

  <div>
<figure><pre><code data-lang="css"><span>clip-path</span><span>:</span> <span>@shape</span><span>(</span>
  <span>split</span><span>:</span> <span>6</span><span>;</span>
<span>);</span></code></pre></figure>
    <css-doodle>
      @grid: 1 / 80px;
      background: #000;
      clip-path: @shape(
        split: 6;
      );
    </css-doodle>
  </div>


  <p>
    Rotate it by <code>30</code> degree and scale it down:
  </p>

  <div>
<figure><pre><code data-lang="css"><span>clip-path</span><span>:</span> <span>@shape</span><span>(</span>
  <span>split</span><span>:</span> <span>6</span><span>;</span>
  <span>rotate</span><span>:</span> <span>30</span><span>;</span>
  <span>scale</span><span>:</span> <span>.</span><span>5</span><span>;</span>
<span>);</span></code></pre></figure>
    <css-doodle>
      @grid: 1 / 80px;
      background: #000;
      clip-path: @shape(
        split: 6;
        rotate: 30;
        scale: .5;
      );
    </css-doodle>
  </div>

  <p> If the <code>split</code> value is big enough it approximately to be a circle.</p>

  <div>
<figure><pre><code data-lang="css"><span>clip-path</span><span>:</span> <span>@shape</span><span>(</span>
  <span>split</span><span>:</span> <span>100</span><span>;</span>
<span>);</span></code></pre></figure>
    <css-doodle>
      @grid: 1 / 80px;
      background: #000;
      clip-path: @shape(
        split: 100;
      );
    </css-doodle>
  </div>

  <p>
    The <code>x</code> and <code>y</code> are defined with trigonometric functions.
    The <code>t</code> stands for <code>Theta</code>, each of them equals <code>360 / split</code> degree.
  </p>

  <div>
<figure><pre><code data-lang="css"><span>clip-path</span><span>:</span> <span>@shape</span><span>(</span>
  <span>split</span><span>:</span> <span>800</span><span>;</span>
  <span>rotate</span><span>:</span> <span>90</span><span>;</span>
  <span>x</span><span>:</span> <span>sin</span><span>(</span><span>2</span><span>t</span><span>)</span> <span>*</span> <span>sin</span><span>(</span><span>2</span><span>t</span><span>)</span> <span>*</span> <span>cos</span><span>(</span><span>5</span><span>t</span><span>);</span>
  <span>y</span><span>:</span> <span>cos</span><span>(</span><span>5</span><span>t</span><span>)</span> <span>*</span> <span>cos</span><span>(</span><span>5</span><span>t</span><span>)</span> <span>*</span> <span>sin</span><span>(</span><span>t</span><span>);</span>
<span>);</span></code></pre></figure>
    <css-doodle>
      @grid: 1 / 80px;
      background: #000;
      clip-path: @shape(
        split: 800;
        rotate: 90;
        scale: .9;
        x: sin(2t) * sin(2t) * cos(5t);
        y: cos(5t) * cos(5t) * sin(t);
      );
    </css-doodle>
  </div>

  <p>
    As you may have noticed, <code>2t</code> means <code>2 * t</code>,
    it's much shorter this way to follow common notation in mathematics.
    All the Math functions including the symbol <code>œÄ</code> can be used
    directly.
  </p>

  <p>
    You can also define variables if the expressions are too long.
  </p>

  <div>
<figure><pre><code data-lang="css"><span>clip-path</span><span>:</span> <span>@shape</span><span>(</span>
  <span>split</span><span>:</span> <span>800</span><span>;</span>
  <span>scale</span><span>:</span> <span>.</span><span>5</span><span>;</span>
  <span>k</span><span>:</span> <span>œÄ</span> <span>-</span> <span>7</span><span>t</span><span>;</span>
  <span>x</span><span>:</span> <span>cos</span><span>(</span><span>2</span><span>t</span><span>)</span> <span>+</span> <span>cos</span><span>(</span><span>k</span><span>);</span>
  <span>y</span><span>:</span> <span>sin</span><span>(</span><span>2</span><span>t</span><span>)</span> <span>+</span> <span>sin</span><span>(</span><span>k</span><span>);</span>
<span>);</span></code></pre></figure>
     <css-doodle>
      @grid: 1 / 80px;
      background: #000;
      clip-path: @shape(
        split: 800;
        scale: .5;
        k: œÄ - 7t;
        x: cos(2t) + cos(k);
        y: sin(2t) + sin(k);
      );
    </css-doodle>
  </div>

  <p>
    I hope the above examples explain well to the <code>@shape()</code> function.
    There are countless shapes waiting for you to explore!
  </p>

  <h2>Other updates</h2>

  <p>The <code>@m</code> function behaves like the normal <code>for</code> loop but much readable, now it accepts two nested iterations.
  See the <a href="https://codepen.io/yuanchuan/pen/qBadmyR">demo</a>.</p>
<figure><pre><code data-lang="css"><span>box-shadow</span><span>:</span> <span>@m9x8</span><span>(</span>

<span>);</span></code></pre></figure>

  <p>
    By default the output values are separated with commas.
    An uppercase <code>@M</code> alias is added to make the values seperated with spaces.
  </p>
<figure><pre><code data-lang="css"><span>filter</span><span>:</span> <span>@M5</span><span>(</span>
  <span>drop-shadow</span><span>(</span><span>/*... */</span><span>)</span>
<span>);</span></code></pre></figure>

  <h2>What's next</h2>

  <p>
    There remains a lot work to be done,
    such as documentation, the new paser, tests and performance improvement.
    And I still have several new ideas that haven't been implemented yet.
    Only wish I had more time.
  </p>
  <p>
    It‚Äôs easy to make your mind rigid and ignore other things when you stick to one thing for too long.
    Maybe it's time to try something else other than CSS.
    So while waiting for CSS to evolve, I'll put part of my energy to new things.
  </p>

  <p>
    Thanks to everyone who supports css-doodle via <a href="https://opencollective.com/css-doodle#backers">open collective</a> and who sent me the encouraging words.
  </p>
</article>



  </div>
</div></div>]]>
            </description>
            <link>https://yuanchuan.dev/whats-new-in-css-doodle</link>
            <guid isPermaLink="false">hacker-news-small-sites-25483369</guid>
            <pubDate>Sun, 20 Dec 2020 02:41:59 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: A search engine of free Illustrations]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25483312">thread link</a>) | @jonifico
<br/>
December 19, 2020 | https://www.artify.co/illustrations | <a href="https://web.archive.org/web/*/https://www.artify.co/illustrations">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://www.artify.co/illustrations</link>
            <guid isPermaLink="false">hacker-news-small-sites-25483312</guid>
            <pubDate>Sun, 20 Dec 2020 02:26:43 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Indian Tuning Systems]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25482735">thread link</a>) | @ubasu
<br/>
December 19, 2020 | https://puretones.sadharani.com/tuningsystems/ | <a href="https://web.archive.org/web/*/https://puretones.sadharani.com/tuningsystems/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
    
    
    <p>To understand the role of harmonics, microtones and consonance in Indian Classical music, it is necessary to understand its underlying tuning systems. In this article, we reconstruct two significant tuning systems used in Indian Classical music:</p>
    
    <ol>
        <li>The first is a 22 note scale whose earliest reference is due to <a href="https://en.wikipedia.org/wiki/Bharata_Muni">Bharat</a> in <a href="https://en.wikipedia.org/wiki/Natya_Shastra">Natya Shastra</a> and which was later documented by <a href="https://en.wikipedia.org/wiki/%C5%9A%C4%81r%E1%B9%85gadeva">Sarang Dev</a> in <a href="https://en.wikipedia.org/wiki/Sangita_Ratnakara">Sangeet Ratnakar</a>. Note that <a href="https://en.wikipedia.org/wiki/Dattilam">Dattilam</a> by <strong>Dattila</strong>, a contemporary or possibly earlier work compared to Natya Shastra, also refers to a division of an octave into 22 notes.</li>
        <li>The second is a 12 note scale first devised by <strong>Ramamatya</strong> in <a href="https://en.wikipedia.org/wiki/Svaramelakalanidhi">Svaramelakalanidhi</a> and which was later documented by <a href="https://en.wikipedia.org/wiki/Venkatamakhin">Venkatamakhin</a> in <a href="https://en.wikipedia.org/wiki/Chaturdandiprakashika">Chaturdanda Prakasika</a>.</li>
    </ol>

    <p>In a couple of related articles, we cover how tuning systems influence <a href="https://puretones.sadharani.com/musicalscales/">musical scales</a> and how this affects the <a href="https://puretones.sadharani.com/tanpuraworking/">tuning of a Tanpura</a> to play these scales.</p>
    
    <h2>Basic Intervals and Ratios</h2>
    <p>Before we begin reconstructing any tuning system, it is useful to familiarize ourselves with the four basic intervals of <em>Dviguna</em> (octave), <em>Pancham</em> (fifth), <em>Madhyam</em> (fourth) and <em>Gandhar</em> (major third). You can play and check these intervals using the keyboard below (just click or tap a key to play). Here <strong>Sa</strong> denotes the fundamental and <strong>Ga, ma, Pa</strong> and <strong>SA</strong> denote the Gandhar, Madhyam, Pancham and Dviguna respectively. Note that <strong>Sa</strong> is taken to be the pitch <strong>C</strong>, but the other notes do not match up with today's standard <a href="https://en.wikipedia.org/wiki/12_equal_temperament">12 tone equally tempered scale</a>.</p>

    <br>
    <ul id="basicintervals">
        <li>
            <p>Sa</p>
            
        </li>
        <li>
            
            
        </li>
        <li>
            <p>Ga</p>
            <audio id="Ga-b" src="https://puretones.sadharani.com/tuningsystems/05-Ga-b.mp3"></audio>
        </li>
        <li>
            <p>ma</p>
            
        </li>
        <li>
            <p>Pa</p>
            
        </li>
        <li>
            
            
        </li>
        <li>
            
        </li>
        <li>
            <p>SA</p>
        </li>
    </ul>
    <br>
    <center><em>Demo 1. Basic Intervals</em></center>

    <p><strong>Note:</strong> This article features several audio samples which are an integral part of the narrative. For ease of understanding, these samples have been presented in the form of a musical keyboard which many would recognize. Simply click or tap a key to play. Please try and use a pair of headphones or good quality speakers to listen to the samples with maximum clarity.</p>

    <p>As you can hear from Demo 1, Pancham, Madhyam and Gandhar are pleasant sounding intervals. For the musically inclined, they may be easy to recognise by ear. It is also possible to determine their frequency ratios in relation to the fundamental.</p>
        
    <p>One way in which this can be done is by comparing lengths. Firstly, we can observe that the pitch of a string is inversely proportional to its vibrating length. Secondly, taking a certain string length to represent the fundamental, we can observe that if we touch the string at a third of its length from one end and pluck the remaining two-thirds, it results in the string sounding the fifth. Similarly, touching it at a fourth of its length from one end results in the remaining three-fourths to sound the fourth, touching it at a fifth of its length results in the major third, and touching it at the midpoint results in either half to sound the octave.</p>
    
    <p>So by inverting these string lengths, we can infer that with <strong>Sa = 1</strong>, we have <strong>SA = 2, Pa = 3/2, ma = 4/3</strong> and <strong>Ga = 5/4</strong>. Try and remember these frequency ratios, as we will use them repeatedly.</p>

    <h2>Sama Gana Scale</h2>

    <p>The first scale we will examine is the <em>Sama Gana</em> scale which was used to sing passages from the <em>Sama Veda</em>. Folk music or informal music was always around in India. But Indian music started to get formalized as the chants of <em>Rig Veda</em> evolved into a more sing-song way of rendering passages from Sama Veda. Rig Vedic chants already used three notes called <em>Svarita</em> (neutral drone), <em>Udaatta</em> (higher note) and <em>Anudaatta</em> (lower note). This evolved further in Sama Gana.</p>
        
    <p>Sama Gana is the act of singing the Sama Veda. According to Ustad Zia Fariduddin Dagar, a typical arrangement employed three groups of singers with one group singing at the pitch <strong>Sa</strong>, the second at <strong>ma</strong> and the third at <strong>Pa</strong>. Each group in turn used three notes, a center note, a low note and a high note, similar to those used in Rig Vedic chants. The center note was whichever pitch they were singing, <em>i.e.,</em> Sa, ma or Pa. The high note was higher than the center note by a specific tone and the low note was lower than the center note by the same tone. Refer to Demo 2 below.</p>

    <div>
        <div>
          <h3>A traditional rendition of Sama Gana</h3>
          <p>Observe how the different groups stop and start chanting at appropriate points during the rendition, so that overall it creates an impression of a musical scale. Also, please note that this rendition is roughly in the scale of G.</p>
        </div>
        <div>
          <p>
            <iframe frameborder="0" allowfullscreen="" src="https://www.youtube.com/embed/cSLnr3_gkVA?start=240&amp;end=300" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"></iframe>
          </p>
        </div>
    </div>
    <center><em>Demo 2. A traditional rendition of Sama Gana (courtesy of Sri Bhakti YouTube Channel).</em></center>
    

    <p>Knowing the Pa and ma intervals, it is possible to derive the <strong>ma-Pa</strong> interval. For the musically inclined, you may be able to recognise it by ear. The size of the ma-Pa interval can be calculated as <strong>3/2 √∑ 4/3 = 9/8</strong>. This ma-Pa interval was used as the tone to derive the high and low notes from the center note. Note that the ma-Pa interval is different from the <a href="https://en.wikipedia.org/wiki/Major_second">whole tone</a> used in today's standard <a href="https://en.wikipedia.org/wiki/12_equal_temperament">12 tone equally tempered scale</a>. The whole tone is 200 <a href="https://en.wikipedia.org/wiki/Cent_(music)">cents</a> wide, while the ma-Pa interval is a bit wider at 203.9 cents.</p>

    <p>Using this, the Sama Gana scale as depicted in Table 1 can be derived. The method of derivation is given in the remarks column. The Sama Gana scale is discussed and documented in a number of references (for example, see <em>Lakshanagrandhas in Music</em> by Dr. Bhagyalekshmy).</p>
    
    <div>
        <center>
        <em>Table 1. Illustration of Sama Gana Scale</em>
        <table>
            <tbody><tr>
            <td colspan="4"><center>Sama Gana Scale</center></td>
            </tr>
            <tr>
            <td>ma-Pa Interval</td><td>1.125</td><td>9/8</td><td>&nbsp;</td>
            </tr>
            <tr>
            <td>Note</td><td>Ratio</td><td>Symbolic Ratio</td><td>Remarks</td>
            </tr>
            <tr>
            <td>Sa</td><td>1</td><td>1</td><td>&nbsp;</td>
            </tr>
            <tr>
            <td>Re</td><td>1.125</td><td>9/8</td><td>ma-Pa Gap above Sa</td>
            </tr>
            <tr>
            <td>ga</td><td>1.185185185</td><td>32/27</td><td>ma-Pa Gap below ma</td>
            </tr>
            <tr>
            <td>ma</td><td>1.333333333</td><td>4/3</td><td>Fourth</td>
            </tr>
            <tr>
            <td>Pa</td><td>1.5</td><td>3/2</td><td>Fifth</td>
            </tr>
            <tr>
            <td>Dha</td><td>1.6875</td><td>27/16</td><td>ma-Pa Gap above Pa</td>
            </tr>
            <tr>
            <td>ni</td><td>1.777777778</td><td>16/9</td><td>ma-Pa Gap below SA</td>
            </tr>
            <tr>
            <td>SA</td><td>2</td><td>2</td><td>Octave</td>
            </tr>
            </tbody>
        </table>
        </center>
    </div>

    

    <p>You can play and check how the Sama Gana scale sounds using Demo 3 below.</p>

    <br>

    <ul id="samagana">
        <li>
            <p>Sa</p>
            <audio id="Sa" src="https://puretones.sadharani.com/tuningsystems/01-Sa.mp3"></audio>
        </li>
        <li>
            <p>Re</p>
            <audio id="Re" src="https://puretones.sadharani.com/tuningsystems/03-Re.mp3"></audio>
            <p>ga</p>
            <audio id="ga" src="https://puretones.sadharani.com/tuningsystems/04-ga.mp3"></audio>
        </li>
        <li>
            <p>Ga</p>
        </li>
        <li>
            <p>ma</p>
            <audio id="ma" src="https://puretones.sadharani.com/tuningsystems/06-ma.mp3"></audio>
        </li>
        <li>
            <p>Pa</p>
            <audio id="Pa" src="https://puretones.sadharani.com/tuningsystems/08-Pa.mp3"></audio>
        </li>
        <li>
            <p>Dha</p>
            <audio id="Dha" src="https://puretones.sadharani.com/tuningsystems/10-Dha.mp3"></audio>
            <p>ni</p>
            <audio id="ni" src="https://puretones.sadharani.com/tuningsystems/11-ni.mp3"></audio>
        </li>
        <li>
            <p>Ni</p>
        </li>
        <li>
            <p>SA</p>
            <audio id="SA" src="https://puretones.sadharani.com/tuningsystems/13-SA.mp3"></audio>
        </li>
    </ul>
    <br>
    <center><em>Demo 3. Sama Gana Scale</em></center>

    

    <p>In this scale, the intervals Re-ga and Dha-ni were regarded as <em>Vivadi</em> (dissonant). The concept of Vivadi notes is mentioned in Dattilam and Sangeet Ratnakar (see Chapter Sangita Ratnakara in Lakshanagrandhas in Music or Chapter Nada, Sruti and Svara in Sangeet Ratnakar, Part 1). The size of these intervals can be calculated to be <strong>32/27 √∑ 9/8 = 256/243 = 1.053497942</strong>. This interval \(\frac{256}{243}\) was recognized and known as <strong>Purna Shruti</strong>. Note that the Purna Shruti is roughly comparable to the <a href="https://en.wikipedia.org/wiki/Semitone">semi-tone</a> used in today's standard 12 tone equally tempered scale. The standard semi-tone is 100 cents wide, while the Re-ga interval is a bit narrower at 90.2 cents. This scale may have been appropriate for chanting, but as a musical scale, it was not considered appropriate. In order to make it musical, the musical scholars of the day felt that the Re-ga and Dha-ni intervals needed to be slightly increased.</p>

    <h2>Shadaj Gram (from Sama Gana Scale)</h2>

    <p>The Shadaj Gram scale is cited as a 7 note scale and also as a 22 note scale (which includes the original 7 notes). Let us reconstruct the 7 note scale first.</p>

    <p><strong>Note:</strong> Like the Shadaj Gram scale, an equally important scale called <strong>Madhyam Gram</strong> is also described by Bharat and by Sarang Dev. Later, we will note specifically how it differs from Shadaj Gram.</p>

    <p>There are two ways in which Shadaj Gram can be understood. The first is to understand it as a derivative of the Sama Gana scale, to make it more musical by adjusting the Vivadi intervals of Re-ga and Dha-ni. The second is to understand it in terms of <strong>Shruti Intervals</strong> as specified by Bharat and Sarang Dev. Let us look at both explanations and see how they are mutually consistent.</p>

    <p>First, we have to re-trace the line of reasoning that might have been employed by the musical scholars of the day to derive the Shadaj Gram scale from the Sama Gana scale. There are two options to fix the dissonant Re-ga and Dha-ni intervals:</p>
    
    <ol>
        <li>Increase the pitch of ga and ni slightly.</li>
        <li>Decrease the pitch of Re and Dha slightly.</li>
    </ol>

    <p>The first option would result in losing the consonance between ma and ni (ni is the fourth of ma in Sama Gana scale), while the second option would result in losing the consonance between Re and Pa (Pa is the fourth of Re). We know that they chose the second option since Bharat and Sarang Dev have pointed out that Re and Pa are not consonant in Shadaj Gram.</p>

    <p>Let us try and determine specifically by how much Re and Dha were reduced in pitch. Look at the notes from ma to SA in Sama Gana scale (Demo 3). Look at the relationship between ma and Dha and note that the interval ma-Dha is a bit wider than the Gandhar (major third) interval (Demo 1). The ma-Dha interval consists of the ma-Pa interval applied twice. You can try to hear Demo 1 and Demo 3 and see how two ma-Pa intervals combined (407.8 cents) are bigger than a Gandhar interval (386.3 cents). In contrast, in today's standard 12 tone equally tempered scale, two whole tones (i.e 2 x 200 cents) is exactly equal to a major third (400 cents).</p>
        
    <p>In Shadaj Gram, the note Dha from Sama Gana scale was reduced in pitch to Dha<strong>‚ô≠</strong> to maintain the Gandhar interval with respect to ma. The note Re from Sama Gana scale was reduced by a similar amount in pitch to Re<strong>‚ô≠</strong> so that the Re<strong>‚ô≠</strong>-Dha<strong>‚ô≠</strong> interval was maintained to be the Pancham.</p>
    
    <p>Before we analyse this any further, hear for yourself what this scale sounds like using Demo 4 below. The keyboard may look a bit unusual, particularly the keys for Re<strong>‚ô≠</strong> and Dha<strong>‚ô≠</strong>. But it has been depicted this way to ‚Ä¶</p></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://puretones.sadharani.com/tuningsystems/">https://puretones.sadharani.com/tuningsystems/</a></em></p>]]>
            </description>
            <link>https://puretones.sadharani.com/tuningsystems/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25482735</guid>
            <pubDate>Sun, 20 Dec 2020 00:31:02 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Japanese Sentence Structure Primer]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25482613">thread link</a>) | @sova
<br/>
December 19, 2020 | https://japanesecomplete.com/articles/?p=1265 | <a href="https://web.archive.org/web/*/https://japanesecomplete.com/articles/?p=1265">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">

	<section id="primary">
		<main id="main">

			
<article id="post-1265">

	

	
			<figure>
				<img width="1568" height="1045" src="https://japanesecomplete.com/articles/wp-content/uploads/2020/12/lanterns.jpg" alt="" loading="lazy">			</figure><!-- .post-thumbnail -->

		
	<div>
		
<p>Aside from always having a verb at the end, Japanese does not depend on sequence.  Japanese is a grammar defined by <em>grammar particles</em>, functional ‚Äúwords‚Äù that glue on to nouns to indicate what purpose the noun serves.</p>



<p>Here we highlight some common Japanese particles in a slice of the „Å≤„Çâ„Åå„Å™ [hiragana] syllabary.</p>



<figure><img loading="lazy" width="1069" height="834" src="https://japanesecomplete.com/articles/wp-content/uploads/2020/12/japanese-particles.png" alt=""></figure>



<p>You can practice your üéµ listening comprehensionüëÇ of the „Å≤„Çâ„Åå„Å™ üéé <a href="http://japanesecomplete.com/hiragana">here</a>.  But we digress, Japanese relies on <em>grammatical particles</em> to indicate the <strong>who, what, when,  where, and how</strong> of a sentence.</p>



<h2><strong>Who, what, when, where, and how</strong>.</h2>



<h2>„Åß  (de) <strong>where and how</strong></h2>



<p>For example, „Åß [‚Äúdeh‚Äù] implies <em>manner of accomplishment</em> or <em>setting-locality where something takes place.</em> Mapping to English, we cover the <strong>where</strong> [setting] and <strong>how</strong> [means] with „Åß„ÄÇ</p>



<figure><img loading="lazy" width="246" height="142" src="https://japanesecomplete.com/articles/wp-content/uploads/2020/12/Screen-Shot-2020-12-19-at-4.34.24-PM.png" alt=""></figure>



<hr>



<h2>„Å´ (ni) where and when</h2>



<p>For destinations, or specific times, or precise physical points of existence (being), Japanese relies on the use of the <em>grammatical particle</em> „Å´ [‚Äúni‚Äù as in, <a href="https://www.youtube.com/watch?v=zIV4poUZAQo">‚Äúwe are the knights who say‚Ä¶‚Äù</a>].  „Å´ [‚Äúknee!‚Äù] therefore covers <strong>where</strong> [destination] and <strong>when</strong> [moment].</p>



<figure><img loading="lazy" width="648" height="446" src="https://japanesecomplete.com/articles/wp-content/uploads/2020/12/Screen-Shot-2020-12-19-at-4.36.55-PM.png" alt=""></figure>



<hr>



<h2>„Åå  (ga) who and what</h2>



<p>The <em>grammatical particle</em> „Åå [‚Äúga‚Äù] is used to explain <strong>who</strong> and <strong>what</strong> when used as the <strong>grammatical subjects</strong> of a sentence.  </p>



<p>For example: Vegetables are delicious.  Candy is sweet.<br>  (Veggies are <strong>what</strong> is delicious)<br>  (The candy is <strong>what</strong> is sweet)</p>



<figure><img loading="lazy" width="366" height="295" src="https://japanesecomplete.com/articles/wp-content/uploads/2020/12/Screen-Shot-2020-12-19-at-4.38.46-PM.png" alt=""></figure>



<hr>



<p>Finally, in this brief primer, we want to show the concept of <strong>bunsetsu jar</strong> which we have featured on our <a href="http://japanesecomplete.com/reverse-engineer/">‚ÄúReverse Engineer Some Japanese‚Äù</a> page.</p>



<figure><img loading="lazy" width="737" height="138" src="https://japanesecomplete.com/articles/wp-content/uploads/2020/12/Screen-Shot-2020-12-19-at-4.41.05-PM.png" alt=""></figure>



<p>Within a <strong>bunsetsu jar</strong>, we place a noun and cap off the <strong>jar</strong> with a <strong>lid</strong> containing a <em>grammatical particle</em> such as „Åå„ÄÅ„Å´„ÄÅ„Åß or one of the many others.  </p>



<p>In total, there is an estimated 233 + particles (some are multi-mora, that is, multiple letters) and we teach them in a gradual and comprehensible way in <a href="https://japanesecomplete.com/articles/?p=83">Japanese Complete</a>.</p>



<p>Finally, a sentence-final verb is placed at the end of a sentence.  In English, this would be akin to moving the ‚Äúis/are‚Äù or ‚Äúbe/exists‚Äù verb to the end of every sentence.  Japanese fun is.  Grammar easy is.  Japanese-about thinking = interesting is.</p>



<p>So that‚Äôs it. You pick your nouns, you pick the <em>grammatical particles</em> to match based on the meaning of <strong>who, what, when, where, and how</strong>, and you figure out the sentence-final verb element.  Now you‚Äôre thinking in Japanese.</p>



<p>Of course, developing the reflex and intuition around this takes some practice, which is why we devised quizzes for Japanese Complete that help train your intuition on the particles, one-by-one.  You can watch a brief video showing some of the quizzes in action on our <a href="https://japanesecomplete.com/guide">free guide page</a>.</p>



<hr>



<h2>Kanji in English Context</h2>



<p>In order to accelerate Kanji comprehension into English context, as you can see in a sonnet by Shakespeare on <a href="http://japanesecomplete.com/learning-to-read">this page</a>.  This pattern follows a similar pattern of adoption that native Japanese took: grab kanji from mainland Asia for their ideographic value and smash them together with your native syllabary to add helpful meaning, nuance, and context.</p>



<figure><img loading="lazy" width="496" height="177" src="https://japanesecomplete.com/articles/wp-content/uploads/2020/12/Screen-Shot-2020-12-19-at-4.46.27-PM.png" alt=""></figure>



<p><strong>Temple NI arrive.</strong> [unstated subjects arrive to the temple]</p>



<p><strong>Enter-before NI, hands OH let‚Äôs wash, NE.</strong> [before entering, let‚Äôs wash our hands, right?]</p>



<p>We‚Äôve created a substack newsletter to share <em>Kanji in English Context </em>once or twice a month, you can <a href="https://japanesecomplete.substack.com/p/coming-soon">sign up for it here</a> if you‚Äôre interested in getting interesting <em>Kanji in English Context</em> lessons to your inbox.</p>



<hr>



<p>One great thing about Japanese grammar is that the <strong>bunsetsu jars</strong> can be arranged in any sequence before the final verb, provided each noun has its appropriately matching <em>grammar particle</em> glued on and intact.  This leads to great fun with parsing, as one can create a <a href="https://japanesecomplete.com/articles/?p=811">rudimentary Japanese grammar parser</a> from a 5-line EBNF grammar.</p>



<figure><img loading="lazy" width="1080" height="1349" src="https://japanesecomplete.com/articles/wp-content/uploads/2020/12/osaka-castle.jpg" alt=""></figure>



<p>Hopefully this post made the inner mechanics of Japanese more clear.  Developing intuition and unlocking the language takes study, practice, and determination!  If you‚Äôre looking for a program to break the language down logically <strong>and</strong> provide practice and training to help your newfound understanding become intuitive and fast, might we humbly suggest <a href="https://japanesecomplete.com/">Japanese Complete</a>.</p>
	</div><!-- .entry-content -->

	<!-- .entry-footer -->

				
</article><!-- #post-${ID} -->

	<nav role="navigation" aria-label="Posts">
		<h2>Post navigation</h2>
		
	</nav>
<!-- #comments -->

		</main><!-- #main -->
	</section><!-- #primary -->


	</div></div>]]>
            </description>
            <link>https://japanesecomplete.com/articles/?p=1265</link>
            <guid isPermaLink="false">hacker-news-small-sites-25482613</guid>
            <pubDate>Sun, 20 Dec 2020 00:14:56 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Explosion of Neural Rendering Research in 2020]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25482481">thread link</a>) | @ArtWomb
<br/>
December 19, 2020 | https://dellaert.github.io/NeRF/ | <a href="https://web.archive.org/web/*/https://dellaert.github.io/NeRF/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><header><p> 21 minute read</p><p><strong> Published:</strong> <time datetime="2020-12-16T00:00:00-08:00">December 16, 2020</time></p></header><section itemprop="text"><hr> <video width="100%" id="dollyzoom" autoplay="" controls="" muted="" loop="" height="100%"> <source src="https://storage.googleapis.com/nerf_data/website_renders/depth_reflower.mp4"> </video><p><i>The result that got me hooked on wanting to know everything about NeRF :-).</i></p><hr><p>Besides the COVID-19 pandemic and political upheaval in the US, 2020 was also the year in which <strong>neural volume rendering</strong> exploded onto the scene, triggered by the impressive <a href="https://www.matthewtancik.com/nerf">NeRF</a> paper by Mildenhall et al. This blog post is my way of getting up to speed in a fascinating and very young field and share my journey with you; I created it for the express intent to teach this material in a grad computer vision course. To be clear, I have not contributed to any of the papers below. I wish I had, as I stand in awe of the explosion of creative energy around this topic!</p><p>To start with some definitions, the larger field of <em>Neural rendering</em> is defined by the <a href="https://www.neuralrender.com/assets/downloads/TewariFriedThiesSitzmannEtAl_EG2020STAR.pdf">excellent review paper by Tewari et al.</a> as</p><blockquote><p>‚Äúdeep image or video generation approaches that enable explicit or implicit control of scene properties such as illumination, camera parameters, pose, geometry, appearance, and semantic structure.‚Äù</p></blockquote><p>It is a novel, data-driven solution to the long-standing problem in computer graphics of the <strong>realistic rendering of virtual worlds</strong>.</p><p><strong>Neural volume rendering</strong> refers to methods that generate images or video by tracing a ray into the scene and taking an integral of some sort over the length of the ray. Typically a neural network like a multi-layer perceptron encodes a function from the 3D coordinates on the ray to quantities like density and color, which are integrated to yield an image.</p><p><strong>Outline</strong>: Below I first discuss some very relevant related work that lead up to the ‚ÄúNeRF explosion‚Äù, then discuss the two papers that I think started it all, followed by an annotated bibliography on follow-up work. I am going wide rather than deep, but provide links to all project sites or Arxiv entries, so you can deep-dive yourself. Besides this post, the review paper mentioned above is great background, and Yen-Chen Lin, a PhD student at MIT CSAIL, has curated an <a href="https://github.com/yenchenlin/awesome-NeRF">Awesome NeRF repository on GitHub</a> with papers, bibtex, and links to some talks.</p><p><strong>Important note</strong>: <em>all of the images below are reproduced from the cited papers, and the copyright belongs to the authors or the organization that published their papers, like IEEE. Below I reproduce a key figure for each paper under the fair use clause of copyright law.</em></p><p>The immediate precursors to neural volume rendering are the approaches that use a neural network to define an <strong>implicit</strong> surface representation. Many 3D-aware image generation approaches used voxels, meshes, point clouds, or other representations, typically based on convolutional architectures. But at CVPR 2019, no less than three papers introduced the use of neural nets as <em>scalar function approximators</em> to define occupancy and/or signed distance functions.</p><h2 id="occupancy-networks">Occupancy networks</h2><p><a href="https://avg.is.tuebingen.mpg.de/publications/occupancy-networks">Occupancy networks</a> is one of two methods at CVPR 2019 that introduce implicit, coordinate-based learning of <strong>occupancy</strong>. A network consisting of 5 ResNet blocks take a feature vector and a 3D point and predict binary occupancy. They also show single-view reconstruction results on real images from KITTI.</p><blockquote><p><img src="https://dellaert.github.io/images/NeRF/ON-teaser.png" alt="Occupancy as a learned classifier"> <em>Occupancy as a learned classifier</em>.</p><p><strong>Occupancy Networks: Learning 3D Reconstruction in Function Space</strong>, Lars Mescheder, Michael Oechsle, Michael Niemeyer, Sebastian Nowozin, and Andreas Geiger, CVPR 2019.</p></blockquote><h2 id="im-net">IM-Net</h2><p><a href="https://github.com/czq142857/implicit-decoder">IM-NET</a> is the other one, and uses a 6-layer MLP decoder that predicts binary occupancy given a feature vector and a 3D coordinate. The authors show that this ‚Äúimplicit decoder‚Äù can be used for auto-encoding, shape generation (GAN-style), and single-view reconstruction.</p><blockquote><p><img src="https://dellaert.github.io/images/NeRF/IM-NET-teaser.png" alt="3D Shapes generated using a GAN using IM-NET as the decoder"> <em>3D Shapes generated using a GAN using IM-NET as the decoder</em>.</p><p><strong>Learning Implicit 3D Representations without 3D Supervision</strong>, Zhiqin Chen and Hao Zhang, CVPR 2019.</p></blockquote><h2 id="deepsdf">DeepSDF</h2><p>Finally, also at CVPR 2019, <a href="https://github.com/facebookresearch/DeepSDF">DeepSDF</a> directly regresses a <strong>signed distance function</strong> or SDF, rather than binary occupancy, from a 3D coordinate and optionally a latent code. It uses an 8-layer MPL with skip-connections to layer 4 (setting a trend!) that outputs the signed distance.</p><blockquote><p><img src="https://dellaert.github.io/images/NeRF/DeepSDF.png" alt="The Stanford bunny rendered through a learned signed distance function (SDF)"> <em>The Stanford bunny rendered through a learned signed distance function (SDF)</em>.</p><p><strong>DeepSDF: Learning Continuous Signed Distance Functions for Shape Representation</strong>, Jeong Joon Park, Peter Florence, Julian Straub, Richard Newcombe, and Steven Lovegrove, CVPR 2019.</p></blockquote><h2 id="pifu">PIFu</h2><p>Building on this, the ICCV 2019 <a href="https://shunsukesaito.github.io/PIFu/">PIFu</a> paper showed that it was possible to learn highly detailed implicit models by re-projecting 3D points into a pixel-aligned feature representation. This idea will later be reprised, with great effect, in PixelNeRF.</p><blockquote><p><img src="https://dellaert.github.io/images/NeRF/PIFu.png" alt="PIFu regresses color and an SDF from pixel aligned features, enabling single-view reconstruction"> <em>PIFu regresses color and an SDF from pixel aligned features, enabling single-view reconstruction</em>.</p><p><strong>PIFu: Pixel-Aligned Implicit Function for High-Resolution Clothed Human Digitization</strong>, Shunsuke Saito, Zeng Huang, Ryota Natsume, Shigeo Morishima, Angjoo Kanazawa, and Hao Li, ICCV 2019.</p></blockquote><h2 id="building-on-implicit-functions">Building on Implicit Functions</h2><p>Several other approaches built on top of the implicit function idea, and generalize to training from 2D images. Of note are Structured Implicit Functions, CvxNet, BSP-Net, Deep Local Shapes, Scene Representation Networks, Differentiable Volumetric Rendering, the Implicit Differentiable Renderer, and NASA.</p><p>Also published at ICCV 2019, <a href="https://github.com/google/ldif">Structured Implicit Functions</a> showed that you can combine these implicit representations, e.g., simply by summing them. Another way to combine signed distance functions is by taking a pointwise max (in 3D), as done in <a href="https://cvxnet.github.io/">CvxNet</a>, a paper which has a number of other elegant techniques to reconstruct an object from depth or RGB images. <a href="https://bsp-net.github.io/">BSP-Net</a> is in many ways similar to CvxNet, but uses binary space partitioning at its core, yielding a method that outputs polygonal meshes natively, rather than via an expensive meshing method. Finally, <a href="https://arxiv.org/abs/2003.10983">Deep Local Shapes</a>, store a DeepSDF latent code in a voxel grid as to represent larger, extended scenes.</p><p>A <a href="https://vsitzmann.github.io/srns/">Scene Representation Network or SRN</a> is quite similar to DeepSDF in terms of architecture, but adds a differentiable ray marching algorithm to find the closest point of intersection of a learnt implicit surface, and add an MLP to regress color, enabling it to be learned from multiple posed images.</p><p>Similar to the SRN work, the CVPR 2020 <a href="https://github.com/autonomousvision/differentiable_volumetric_rendering">Differentiable Volumetric Rendering</a> paper shows that an implicit scene representation can be coupled with a differentiable renderer, making it trainable from images. They use the term <em>volumetric renderer</em>, but really the main contribution is a clever trick to make the computation of depth to the implicit surface differentiable: no integration over a volume is used.</p><p>The <a href="https://lioryariv.github.io/idr/">Implicit Differentiable Renderer</a> work from Weizmann presented at NeurIPS 2020 is similar, but it has a more sophisticated surface light field representation, and the authors also show that they can refine camera pose during training.</p><p>Finally, <a href="https://virtualhumans.mpi-inf.mpg.de/nasa/">Neural Articulated Shape Approximation</a> or NASA composes implicit functions to represent articulated objects such as human bodies.</p><p>As far as I know, two papers introduced <strong>volume rendering</strong> into the view synthesis field, with NeRF being the simplest and ultimately the most influential.</p><p><em>A word about naming</em>: the two papers below and all Nerf-style papers since build upon the work above that encode implicit surfaces, and so the term <em>implicit neural methods</em> is used quite a bit. However, I personally associate that term more with level-set representations for curves and surfaces. What they <em>do</em> have in common with occupancy/SDF-style networks is that MLP‚Äôs are used as functions from coordinates in 3D to scalar or multi-variate fields, and hence these methods are also sometimes called <strong>coordinate-based</strong> scene representation networks. Of that larger set, we‚Äôre concerned with <em>volume rendering</em> versions of those below.</p><h2 id="neural-volumes">Neural Volumes</h2><p>AFAIK, true <strong>volume rendering</strong> for view synthesis was introduced in the <a href="https://research.fb.com/publications/neural-volumes-learning-dynamic-renderable-volumes-from-images/">Neural Volumes</a> paper from Facebook Reality Labs, regressing a 3D volume of density and color, albeit still in a voxel-based representation.</p><blockquote><p><img src="https://dellaert.github.io/images/NeRF/NV-teaser.png" alt="In Neural Volumes, a latent code is decoded into a 3D volume, and a new image is then obtained by volume rendering"> <em>In the ‚ÄúNeural Volumes‚Äù approach, a latent code is decoded into a 3D volume, and a new image is then obtained by volume rendering</em>.</p><p><strong>Neural Volumes: Learning Dynamic Renderable Volumes from Images</strong>, Stephen Lombardi, Tomas Simon, Jason Saragih, Gabriel Schwartz, Andreas Lehrmann, and Yaser Sheikh, Siggraph 2019.</p></blockquote><p>One of the most interesting quotes from this paper hypothesizes about the success of neural volume rendering approaches (emphasis is mine):</p><blockquote><p>[We] propose using a volumetric representation consisting of opacity and color at each position in 3D space, where rendering is realized through integral projection. During optimization, this semi-transparent representation of geometry disperses gradient in- formation along the ray of integration, <strong>effectively widening the basin of convergence, enabling the discovery of good solutions</strong>.</p></blockquote><p>I think that resonates with many people, and partially explains the success of neural volume rendering. I won‚Äôt go into any detail about the method itself, but the paper is a great read. Instead, let‚Äôs dive right into NeRF itself below‚Ä¶</p><h2 id="nerf">NeRF</h2><p>The paper that got everyone talking was the <a href="https://www.matthewtancik.com/nerf">Neural Radiance Fields or NeRF paper</a>, with three first authors from Berkeley. In essence, they take the DeepSDF architecture but regress not a signed distance function, but density and color. They then use an (easily differentiable) numerical integration method to approximate a true volumetric rendering step.</p><p>The figures below illustrate both the overall setup and some detail about the rendering procedure.</p><blockquote><p><img src="https://dellaert.github.io/images/NeRF/NeRF-setup.png" alt="A NeRF stores a volumetric scene representation as the weights of an MLP, trained on many images with known pose"> A NeRF stores a volumetric scene representation as the weights of an MLP, trained on many images with known pose.</p><p><img src="https://dellaert.github.io/images/NeRF/NeRF-pipeline.png" alt="New views are rendered by integrating the density and color at regular intervals along each viewing ray"> <em>New views are rendered by integrating the density and color at regular intervals along each viewing ray</em>.</p><p><strong>NeRF: Representing Scenes as Neural Radiance Fields for View Synthesis</strong>, Ben Mildenhall<em>, Pratul Srinivasan</em>, Matthew Tancik*, Jonathan Barron, Ravi Ramamoorthi, Ren Ng, ECCV 2020.</p></blockquote><p>One of the reasons NeRF is able to render with great detail is because it encodes a 3D point and associated view direction on a ray using periodic activation ‚Ä¶</p></section></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://dellaert.github.io/NeRF/">https://dellaert.github.io/NeRF/</a></em></p>]]>
            </description>
            <link>https://dellaert.github.io/NeRF/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25482481</guid>
            <pubDate>Sat, 19 Dec 2020 23:55:13 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Back to the '70s with Serverless]]>
            </title>
            <description>
<![CDATA[
Score 492 | Comments 290 (<a href="https://news.ycombinator.com/item?id=25482410">thread link</a>) | @pjmlp
<br/>
December 19, 2020 | http://evrl.com/devops/cloud/2020/12/18/serverless.html | <a href="https://web.archive.org/web/*/http://evrl.com/devops/cloud/2020/12/18/serverless.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <div>
        <div>

  

  <article>
    <p>I‚Äôve now worked with ‚ÄúThe Cloud‚Äù for long enough to see that there‚Äôs still a long way to
go before it becomes materially better than, say, the oldschool method of renting a
couple of servers with a co-location company and running your software there. The
latest fad is Serverless, which makes me feel a lot like we‚Äôve arrived in 1970.</p>

<p>A long, long time ago, I was pretending to study business administration
while teaching myself to code in C. The university was in two worlds:
we had a lab with ‚Äúpersonal computers‚Äù but also terminals to the mini
computer and assignments had to be made on either one depending on the
professors‚Äô preferences. But both systems were at least ‚Äúon-line‚Äù systems‚Äìinteractive, with immediate feedback. A friend of mine was not so lucky:
he had an assignment for one of his courses in civil engineering that
had to be completed in Pascal and had to be handed in as a print-out
from the university‚Äôs mainframe.</p>

<p>He called me in for help, because he never wrote a line of code before. So I hopped
over to his place, a Turbo Pascal floppy disk in hand, and assumed that we would
make short work of the assignment. And we did, even though I never coded in Pascal
before: the IDE, even back then, was marvellous and a quick succession of trial-and-error
got us the results we wanted (they were some simple engineering calculations, much
quicker done on even the most primitive of calculators, but such are course assignments. At
least it was easy for us to verify the program was correct).</p>

<p>We hopped into the car and drove over the the university‚Äôs computer center, a ‚Äô70s brutalist
concrete bunker. We sat behind a terminal, typed in the code, surrounded it with the required
IBM Job Control Language that the teaching assistant helpfully added to the assignment, and
hit ‚ÄúEnter‚Äù (not ‚ÄúReturn‚Äù, actually ‚ÄúEnter‚Äù - Enter The Job). A couple of minutes later, the
printer started and spit out a couple of pages. Between gibberish in all caps, there it was: a
compiler error. Back to square one - Turbo Pascal and IBM Mainframe Pascal clearly had some
differences. A couple of hours and reams of wasted paper later, we had what my friend wanted:
the results of a good run. The numbers matched our notes, and we could retreat to the nearest
bar for a well-earned beer.</p>

<p>Ever since that experience, I have stressed the value of feedback and especially of quick
feedback. Even in this minimal example, we spent more time tweaking the code for the dialect
than we spent on writing it in the first place. Slow feedback loops kill performance, and if
you don‚Äôt believe me, find an online version of <a href="https://en.wikipedia.org/wiki/Beer_distribution_game">The Beer Distribution Game</a> and play it. You‚Äôll be surprised.</p>

<p>The pinnacle of interactivity was, and still is, Smalltalk. I worked in that language for a
couple of years and having your system compile and run most of your tests in less than a second
is addictive. It is incredible how much your performance increases on a fully interactive
programming system but it takes first-hand experience to fully appreciate it. It‚Äôs a strange
system, a strange language, a tough sell; therefore Smalltalk is still in a very undeserved
state of limbo.</p>

<p>After my Smalltalk years, I met a lot of large Java systems. They started out as horrible
hairballs, but when the idea of ‚Äúdependency injection‚Äù got a foothold, things started to get
better. Except for the return of the Job Control Language, this time disguised in XML and
carrying friendlier names like ‚ÄúSpring‚Äù. Internally, the code was reasonably clean and modular,
but telling the computer how to run it took pretty much the same amount of typing, this time
not in a programming language but in a structured markup language. That language lacked all
the facilities that apply to writing good code, so principles like ‚ÄúDon‚Äôt Repeat Yourself‚Äù went
overboard and copy/paste programming ensued. New business logic? New controller, twenty lines of
Java boilerplate, 10 lines of Java business logic, 50 lines of XML to wire it to the rest of
the system.</p>

<p>At least, in hindsight, XML was a blessing: your editor would tell you whether your ‚Äúthis is
how the code is wired up‚Äù description had the right structure, and later on even whether you
used names that existed in your Java codebase.</p>

<p>These systems took ages to compile, hours to run all the unit tests, and clearly interactivity
went down the drain. So ‚Äúsplit it all up‚Äù was not a bad idea. It was an unnecessary idea, mostly
driven by the shortfalls of mainstream programming languages, but necessity is the mother of
invention - even though your average Java business app was much simpler than the Smalltalk
IDE before you added a single line of code to write your app, it was already too complex to
maintain and ‚Äúdivide and conquer‚Äù was the answer. Service Oriented Architecture, and later
microservices, was born. Split your codebase, split your teams, create a lot of opportunities
for mediocre coders to grow into mediocre engineering managers, everybody was happy. Including
your hardware vendor, because suddenly you needed much more hardware to run the same workloads. Because
networks are slow, and whereas it can be argued whether a three tier system is actually a distributed
computing system, a microservices system certainly qualifies for that label.</p>

<p>The return of the Job Control Language this time was in the form of,
again, configuration data on how to run your microservice. Microservices
were somewhat fatter than the very fine-grained objects of the old days,
so there was less of it, but still - it was there. The feedback cycle
became worse as well: in the monolith-with-XML days, your XML editor
would get you mostly there and a quick local compile and run would
leave you all but certain that your configuration was working.
XML, however, was universally rejected in favour of things like JSON, Yaml, HCL,
Toml - all free of structure, with zero indication whether a computer
would find your prose gibberish or the next Shakespeare play until
you actually pushed your code to some test cluster. It suddenly felt
a lot like being back at that university interacting with a mainframe,
but at least you still owned the hardware and could introspect all the
way down, especially if you were doing ‚ÄúDevOps‚Äù meaning mostly that you
had administrative access to your hardware.</p>

<p>Microservices have trouble scaling, and they are very complex. Most companies that employ them
have no need for them, but the systems and programming languages they employ are sufficiently
lacking that this stacking of complexity on top of complexity becomes a necessity. It seems that,
contrary to what everybody is saying, software developers are in plentiful and cheap supply so
wasting a lot of their talent makes economic sense over the perceived cost of adapting more
powerful programming systems. C‚Äôest la vie. The feedback cycle is truly broken - testing a
microservice is merely testing a cog in a machine and no guarantee that the cog will fit the
machine - but we just throw more bodies at the problem because Gartner tells us this is the future.</p>

<p>So, we‚Äôre now at the next phase of this game: maintaining these very complex systems is
hard and not your core business, so outsource it (simplifying it would cost too many managers‚Äô
jobs, so that is not an option). The Cloud was born, first as a marketing label for an old
business model (offering ‚Äúvirtual private servers‚Äù to the public), but more and more as a marketing
label for an even older business model (the mainframe - we run it, we own it, you lease capacity).</p>

<p>Apparently, <a href="https://www.dreamsongs.com/WorseIsBetter.html">Worse Is Better</a> and you can do worse than Virtual Private Servers, so through a short-lived detour through
containerizing microservices and deploying them on a distributed scheduler like Mesos, Nomad,
or Kubernetes, we have arrived at ‚ÄúServerless‚Äù. You deploy individual stateless functions. But
not inside a Java monolith, that is old, but on top of a distributed system. You would have been
laughed out of the door if you had proposed that in 2000, and you should be laughed out of the
door right now, but such is the power of marketing. So what have we now? A ‚Äúmono repo‚Äù codebase,
because clearly a Git repository per function in your system would be too much, a large deployment
descriptor per fine-grained component, which Spring maybe called ‚ÄúController‚Äù but is now called
‚ÄúFunction‚Äù, and instead
of combining them all on your desktop, you send them off to someone else‚Äôs mega-mainframe. You
deploy, get an error message, and login to CloudWatch to see what actually happened - it‚Äôs all
batch-driven, just like the bad old days, so progress is slow. At least we‚Äôre not having to
walk to the printer on every try, but that pretty much sums up the progress of the last half
century. Oh, and a ‚ÄúFunction‚Äù
will be able to handle a single request concurrently, so here‚Äôs your AWS hosting bill, we needed
a lot of instances, I hope you won‚Äôt have a heart attack. Yes, we run workloads that your nephew
can run on his Raspberry Pi 4, but this is the future of enterprise.</p>

<p>History will repeat itself, of course. Conceptually, hiding a lot of the scaling and coordination
machinery is not a bad idea; programming systems like Erlang and OTP have shown for decades how
well that can work and Elixir is giving the platform a well-deserved surge in popularity. But there‚Äôs
a big difference here: a platform like OTP handles pretty much everything that a platform like
AWS Lambda handles, but it does it in a single programming language. Tools of the trade are
available: you can refactor Erlang code, you can write Elixir macros, all to keep the system
clean, malleable, and free of <a href="https://en.wikipedia.org/wiki/No_Silver_Bullet">accidental complexity</a>.</p>

<p>It is called ‚ÄúConfiguration as Code‚Äù, and it truly is a great idea (but hardly a new one). But XML
is not code, and neither is JSON, nor YAML, nor HCL. There is an essential quality lacking in all
of these markup languages, and that causes all the copy/paste programming I am currently seeing
everywhere, whether a ‚Ä¶</p></article></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="http://evrl.com/devops/cloud/2020/12/18/serverless.html">http://evrl.com/devops/cloud/2020/12/18/serverless.html</a></em></p>]]>
            </description>
            <link>http://evrl.com/devops/cloud/2020/12/18/serverless.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25482410</guid>
            <pubDate>Sat, 19 Dec 2020 23:44:50 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[What is the Name for a 3-d Rectangle?]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25482234">thread link</a>) | @abemiller
<br/>
December 19, 2020 | https://www.whatistoday.net/2020/04/cuboid-dilemma.html | <a href="https://web.archive.org/web/*/https://www.whatistoday.net/2020/04/cuboid-dilemma.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="post-body-2411287432217169714" itemprop="description articleBody"><p>
What do you think is the name for the generalization of a cube? Can you picture it? The shape has rectangular faces, and right angles at every vertex. It is the 3-d equivalent of a rectangle.</p><table><tbody>
<tr><td><a href="https://1.bp.blogspot.com/-zu3dRSdmF34/Xpt8_5afj-I/AAAAAAAAD18/mBPnplanRvkqDebmW6iU3jV_-NwjmvGuQCLcBGAsYHQ/s1600/rect_cuboid.png"><img data-original-height="298" data-original-width="480" height="198" src="https://1.bp.blogspot.com/-zu3dRSdmF34/Xpt8_5afj-I/AAAAAAAAD18/mBPnplanRvkqDebmW6iU3jV_-NwjmvGuQCLcBGAsYHQ/s320/rect_cuboid.png" width="320"></a></td></tr>
<tr><td>?</td></tr>
</tbody></table>
<p>
This nameless yet ever-present "3-d rectangle" is the focus of this post. I would venture to say that it is the most often encountered geometric approximation in waking life. Planks, books, computers, and bricks all have this shape. It is the ultimate building block shape that most human structures are composed of. There are likely several physical approximations of this shape directly within your eyesight right now. Despite its incredible commonality, I would be surprised if anyone reading knows an indisputably correct geometric name for it off the top of their head.<br>
<a name="more"></a><br>
The fact that there is no common word for this simple, common, and easily defined object is disappointing and confusing. And this doesn't just annoy me with my neurotic perspective on language, but it affects <i>the children</i> as well. I imagine my little sister or myself at a younger age, but there are countless geometrically curious 3rd graders who may innocently decide to google for the name of this shape, only to be rewarded with a frustrating spaghetti of language and math that even a three page essay cannot fully unravel.</p><p>

Such a dose of linguistic absurdity for a curious 3rd grader may send them tumbling into their first, miniature existential crisis. It can be powerfully disillusioning, particularly to the very children for whom the precision and clarity of mathematics appeals. The terminology needs an update.</p><h3>
Box</h3>
<p>
The first and best guess many will take as a name for this shape is "box". Like cube, this word is concise and pleasant sounding. Unfortunately there are two major issues with this word. Firstly, in mathematical literature, box has been hijacked for a slightly different concept, a hypernym of the 3-d rectangle. Box is a synonym for hyperrectangle <span><span>‚Äî</span></span> a rectangle generalized to any higher dimension. Thus, a 3-box would successfully correspond to our target object, but box alone as a mathematical term is too broad.</p><table><tbody>
<tr><td><a href="https://1.bp.blogspot.com/-C63EPe8VNSs/XpupBaYcibI/AAAAAAAAD3g/BYd7F5hXAN8pvagw-20CmsadKWDwD7J-ACEwYBhgLKs4DAL1Ocqx2z1l_pgK1aEOSLNEPu1hm85Xb3bLEp8Su8v6UEyePUhruZRzKZi9AgU_qDsDDKVpbVk2v-psGOII0VKEXpxlc7ss4bzUoQgmscHQ6f2lXLlZ36wxKhA-D_Cvmf-QbPdWC_9NJ-n40cDOOhDGrZQ9Z6wWPnMeXW4W4A_zYHbQ1k8_V1H7Odjo33MeC0mZauQF928vyGq0btiWM0bo4dHhYr_0LOGyERkiDHUraO8AUBjY5ox26B3Pzw3b0-JUIIiCMn0NcqAJYqfm7GVngAog3Fw3lRYBg3nbaivfOJlfFli3AK0phCWrwi0xC8l6zdzBXbMDQ5NlDqg2HwYRsBk-zz1Xuo17k2GPnYpkMxLR3uP4LZbOzI_MLHi1ta-uEpz9F4Nyi8xkauIu23j5kwDMYqxhjBySXbnqxJ7HVWw_UeHPErpkM9MUBFT0vzMb39c8cvnoJNGLSBNo1kkZcQi56hc3Ug4zwlnM-lEarUd8xKut6hn4_he-g6I3XyQofA0VLskqu0WRPHttj02rGcHSMuEGgoPfRa-V8aAvPuaCqvRydoAmCAZuCzd7AMys88NTViRKsghu2BwqqaqgBcJjaQg4CTiAdlr8gMPrW7vQF/s1600/hecteract.png"><img data-original-height="560" data-original-width="560" height="320" src="https://1.bp.blogspot.com/-C63EPe8VNSs/XpupBaYcibI/AAAAAAAAD3g/BYd7F5hXAN8pvagw-20CmsadKWDwD7J-ACEwYBhgLKs4DAL1Ocqx2z1l_pgK1aEOSLNEPu1hm85Xb3bLEp8Su8v6UEyePUhruZRzKZi9AgU_qDsDDKVpbVk2v-psGOII0VKEXpxlc7ss4bzUoQgmscHQ6f2lXLlZ36wxKhA-D_Cvmf-QbPdWC_9NJ-n40cDOOhDGrZQ9Z6wWPnMeXW4W4A_zYHbQ1k8_V1H7Odjo33MeC0mZauQF928vyGq0btiWM0bo4dHhYr_0LOGyERkiDHUraO8AUBjY5ox26B3Pzw3b0-JUIIiCMn0NcqAJYqfm7GVngAog3Fw3lRYBg3nbaivfOJlfFli3AK0phCWrwi0xC8l6zdzBXbMDQ5NlDqg2HwYRsBk-zz1Xuo17k2GPnYpkMxLR3uP4LZbOzI_MLHi1ta-uEpz9F4Nyi8xkauIu23j5kwDMYqxhjBySXbnqxJ7HVWw_UeHPErpkM9MUBFT0vzMb39c8cvnoJNGLSBNo1kkZcQi56hc3Ug4zwlnM-lEarUd8xKut6hn4_he-g6I3XyQofA0VLskqu0WRPHttj02rGcHSMuEGgoPfRa-V8aAvPuaCqvRydoAmCAZuCzd7AMys88NTViRKsghu2BwqqaqgBcJjaQg4CTiAdlr8gMPrW7vQF/s320/hecteract.png" width="320"></a></td></tr>
<tr><td>Orthographic Projection of a 6-Box with Regular Edges (6-Cube)</td></tr>
</tbody></table>
<p>
Despite not having exactly the right sense in the mathematical literature, 'box' still might be a fine word to represent the concept, and it is used this way by many. You could imagine that, since we are most familiar with 3-dimensional space, that box is a reasonable shortening of 3-box for ordinary use, in the same way that cube is a synonym for 3-cube. Unfortunately there is a subtle but important difference for the way mathematicians use box and cube. Cube originally and predominantly refers to the 3-dimensional variant, but box refers to the hypernym of the 3-box. Box alone is more of an analogous concept to hypercube, even though n-box and n-cube are analogous concepts.</p><p>

That was probably confusing, but put simply: geometers do not ordinarily use box without a suffix to refer to a 3-dimensional box.</p><p>

Still, it might be alright to extricate box from its prescribed definition in the mathematical literature and use it anyway in ordinary language, except for the second issue in the way box is used in the common vernacular rather than mathematical literature. This is perhaps the more important issue; box does not carry the connotations of abstractness and geometry. The use of box in common language is much more related to packaging than to any object in the abstract realm. The word is still firmly rooted in its etymological origin of ancient Greek, where it meant "wooden container". It is a word born from the concrete physical world that was halfheartedly adopted into geometry, not one that evokes the kind of abstract sense commanded by cube or circle.</p><table><tbody>
<tr><td><a href="https://1.bp.blogspot.com/-8er1pkoJPmE/Xpt-mpJK9TI/AAAAAAAAD2Q/tGB4r948Xho5p9FkUGA42ccrRGnmMZfuACLcBGAsYHQ/s1600/box.jpg"><img data-original-height="1500" data-original-width="1500" height="320" src="https://1.bp.blogspot.com/-8er1pkoJPmE/Xpt-mpJK9TI/AAAAAAAAD2Q/tGB4r948Xho5p9FkUGA42ccrRGnmMZfuACLcBGAsYHQ/s320/box.jpg" width="320"></a></td></tr>
<tr><td>Box</td></tr>
</tbody></table>
<p>
As a thought experiment to support this connotational inadequacy of box: conjure up a mental image of a box-shape, then make it as long and skinny as possible. Is it still box-shaped? In most people's intuition I would wager not <span><span>‚Äî</span></span> it becomes more of a beam. Something long and skinny cannot be a box.</p><table><tbody>
<tr><td><a href="https://1.bp.blogspot.com/-nvs3tid5flU/Xpt_hN45ViI/AAAAAAAAD2o/ZrQkLl5326IL4OllqIYmfZB1bHk0sZqqgCLcBGAsYHQ/s1600/beam.png"><img data-original-height="512" data-original-width="512" height="320" src="https://1.bp.blogspot.com/-nvs3tid5flU/Xpt_hN45ViI/AAAAAAAAD2o/ZrQkLl5326IL4OllqIYmfZB1bHk0sZqqgCLcBGAsYHQ/s320/beam.png" width="320"></a></td></tr>
<tr><td>Beam</td></tr>
</tbody></table>

<p>
Also consider: is a brick a box-shaped object? Is the chair made up of several box-shaped segments? Perhaps I am equivocating now, but if so: the ease of equivocating with the word's meaning is one of the biggest problems with it. When we are dealing with entirely abstract geometric concepts, we want clear and closed definitions to represent them, and box does not do the trick, even though I wish it could.</p><h3>
Cuboid </h3>
<p>
The second guess many will have is cuboid. This makes some sense: the -oid suffix means "resembling", and our target shape is a cube-resembling shape. Although used frequently and successfully in common English, in some mathematical literature, cuboid means something subtly and confusingly different. Technically, the only constraints for a cuboid are that it has 6 faces, 8 vertices, and 12 edges. In an <i>actual</i> cuboid, none of the angles need to be 90 degrees, and none of the lines need to be parallel, meaning something like the following shape is considered cuboid.</p><table><tbody>
<tr><td><a href="https://1.bp.blogspot.com/-cdytn6N9tIE/Xpt_42U1PZI/AAAAAAAAD2w/t4hCQ-KdNI8JahjUiL8wmGSVWOZAw3tKgCLcBGAsYHQ/s1600/cuboid.png"><img data-original-height="186" data-original-width="220" src="https://1.bp.blogspot.com/-cdytn6N9tIE/Xpt_42U1PZI/AAAAAAAAD2w/t4hCQ-KdNI8JahjUiL8wmGSVWOZAw3tKgCLcBGAsYHQ/s1600/cuboid.png"></a></td></tr>
<tr><td>Square Frustum: a Cuboid</td></tr>
</tbody></table>
<p>
Although cuboid, like box, is a hypernym of a 3-box in mathematical literature, in ordinary English it is the go-to word for the shape in question. Performing an internet search for most variations of the question: "What is the name of a 3-d rectangle?" will result in a forum post or dictionary definition about cuboid. It is unfortunate then that in geometric language this definition of cuboid is not agreed upon. However, cuboid can be particularized to our target shape by prefixing with "rectangular" or "right", as in "rectangular cuboid" or "right cuboid". Either of these modifiers add the requirement that all angles in the cuboid are 90 degrees. Then, have we solved the puzzle? Not really.</p><p>

Right cuboid may be technically correct, but it is not commonly used at all. Counter-intuitively, people who already thought cuboid alone to be the correct word for the shape may assume that a cuboid being right is some deformation. Right cuboid may never become a widely understood term for a simple reason. It has the inelegant fate of being composed of two words. I believe that such a basic and common shape as the right cuboid deserves an equally basic and common single word name.</p><h3>
Rectangular Prism </h3>
<p>
One of the responses I have gotten most often when asking people for the name of this shape is rectangular prism. This is almost correct, but again is not quite specific enough. And, it shares the inelegance of right cuboid, being also composed of two words.</p><p><a href="https://1.bp.blogspot.com/-B-oyX2mQZJ4/XpuAihcrtHI/AAAAAAAAD24/WiHIrsuqIzcpNcLxZUSe1uTtPB11bLJJgCLcBGAsYHQ/s1600/prisms.png"><img data-original-height="274" data-original-width="602" height="145" src="https://1.bp.blogspot.com/-B-oyX2mQZJ4/XpuAihcrtHI/AAAAAAAAD24/WiHIrsuqIzcpNcLxZUSe1uTtPB11bLJJgCLcBGAsYHQ/s320/prisms.png" width="320"></a></p>
<p>
A prism is a shape with two polygons oriented across from one another. The polygons are congruent and parallel. A <i>right</i> prism is the more familiar kind, but prisms can be <i>oblique</i> as well when the bases are not lined up.</p><p>

Using these terminological distinctions, the shape we are trying to describe is specifically a right rectangular prism. People usually aren't concerned with oblique prisms, so it seems fair to accept rectangular prism as a successful nickname at least, even if it is technically a hypernym. However, there is one other problem with the word. Like box, this problem is in the connotation.</p><p>

Referring to the shape in question as a prism emphasizes the fact that the shape has two bases connected by rectangular sides. Ordinarily, this would allow us to coherently talk about height and base dimensions... But on this shape the bases are rectangles as well. How would you choose the bases? There are 3 separate ways of interpreting any given rectangular prism. If we want a word to wholly describe this shape, it should encompass all three interpretations at once rather than cause the eyes to continuously jump between different possibilities like an optical illusion.</p><p>

Rectangular prism, like cuboid, does a decent job at picking out the shape we want. But we can do better.</p><h3>
Parallelepiped</h3>
<p>
Parallelepiped, another commonly used name for our shape, does not do any better. Parallelepiped technically refers to a class of shapes similar to a rectangular prism. The only constraint on a parallelepiped is that it has 6 faces that are all parallelograms. Our target shape is a kind of parallelepiped, but we could also imagine a parallelepiped where every face is a rhombus instead.</p><table><tbody>
<tr><td><a href="https://1.bp.blogspot.com/-5-Yrb__32pg/XpumkUXLGzI/AAAAAAAAD3U/fvRPNtaCAPQwVUeq70nZ-2jkcS3K-7szwCLcBGAsYHQ/s1600/parrellelopiped.png"><img data-original-height="868" data-original-width="1600" height="173" src="https://1.bp.blogspot.com/-5-Yrb__32pg/XpumkUXLGzI/AAAAAAAAD3U/fvRPNtaCAPQwVUeq70nZ-2jkcS3K-7szwCLcBGAsYHQ/s320/parrellelopiped.png" width="320"></a></td></tr>
<tr><td>Parallelepiped</td></tr>
</tbody></table>
<p>
In order for a parallelepiped to become the shape we are interested in, it must have a rectangle for every face. This would be known as a rectangular parallelepiped. Once again, an inelegant complicated name for a simple thing. Of course, people still commonly and sucessfully use the more general word to pick out a rectangular parallelepiped, but other forms of actual parallelepipeds are not so rare themselves to be undeserving of a name in the common parlance.</p><h3>
Orthotope </h3>
<p>
Of existing words, Orthotope may be the best we can get.</p><p>

Earlier I mentioned that box, aside from its non-geometric connotations, might work quite well as the word we are looking for. Fortunately, in geometry, box has a synonym, one that doesn't share any of its connotational issues.</p><p>

Orthotope is derived from the roots ortho <span><span>‚Äî</span></span> meaning right or straight, and tope <span><span>‚Äî</span></span> often used in geometry as a suffix for shapes with arbitrary dimension. In the same way as with box, just "orthotope" can function as a suitable nickname for 3-orthotope since higher dimension objects don't normally enter into the conversation. This word works pretty well, having the kind of pure geometric connotations that Socrates would approve of, while still being composed of a single word that isn't overly technical sounding. The only gripe which remains is that the 'tope' suffix alludes to a more abstract shape than what we intend <span><span>‚Äî</span></span> using this name for our shape would be like calling all cubes 'hypercubes'.</p><h3>
Orthopiped</h3>
<p>
Although orthotope is definitely a step in the right direction, I'd like to propose a new name: Orthopiped.</p><p>

Orthopiped is a natural step from orthotope, following the analogue of parallelepiped for 3-dimensional and parallelotope ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.whatistoday.net/2020/04/cuboid-dilemma.html">https://www.whatistoday.net/2020/04/cuboid-dilemma.html</a></em></p>]]>
            </description>
            <link>https://www.whatistoday.net/2020/04/cuboid-dilemma.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25482234</guid>
            <pubDate>Sat, 19 Dec 2020 23:18:45 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Quantum Computer Completed a 2.5B-Year Task in 200 Seconds]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25481962">thread link</a>) | @jdmark
<br/>
December 19, 2020 | https://www.intelligentliving.co/quantum-computer-2-5-billion-year-task-in-200-seconds/ | <a href="https://web.archive.org/web/*/https://www.intelligentliving.co/quantum-computer-2-5-billion-year-task-in-200-seconds/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
	<p>Traditional computers process data called binary bits as either a zero or a one. The bits in quantum computers (called qubits) can be both one and zero simultaneously, raising the potential processing power exponentially. This ability enables quantum computers to simultaneously explore several possibilities when traditional computers have to run each option one at a time.</p>
<p>There are several different ways to build a quantum computer, and the technology is so new nobody knows what‚Äôs best yet. Scientists are still working out how to make them meet expectations and be of practical use. The goal is to achieve quantum supremacy (aka quantum advantage) ‚Äì when a quantum computer vastly outperforms a conventional machine on a given task.</p>
<p>Google was the <a href="https://phys.org/news/2020-12-chinese-photonic-quantum-supremacy.html" target="_blank" rel="noopener">first to achieve quantum supremacy</a> in 2019. The company claims that its 53-qubit Sycamore processor performed a computation within 200 seconds. That same task would have taken the world‚Äôs most powerful supercomputer 10,000 years. The Sycamore is based on qubits represented by superconducting materials.</p>
<p>This year, a China team developed a <a href="https://science.sciencemag.org/content/370/6523/1460" target="_blank" rel="noopener">photon-based quantum computer</a> that demonstrated quantum supremacy ‚Äì the second group to do so since Google. The device (called Jiuzhang) is made to carry out a single specific type of calculation‚Äî <a href="https://www.nature.com/articles/d41586-020-03434-7" target="_blank" rel="noopener">Gaussian boson sampling</a>. It performed so well that it conducted a calculation in 200 seconds that would have taken the world‚Äôs best supercomputer 2.5 billion years to complete. That‚Äôs over half the age of Earth!</p>

<p>Jian-Wei Pan, a scientist from the University of Science and Technology of China in Hefei, said:</p>
<blockquote><p>We have shown that we can use photons, the fundamental unit of light, to demonstrate quantum computational power well beyond the classical counterpart. The calculation that they carried out ‚Äî called the boson-sampling problem ‚Äî is not just a convenient vehicle for demonstrating quantum advantage, but has potential practical applications in graph theory, quantum chemistry, and machine learning.</p></blockquote>
<figure id="attachment_39257" aria-describedby="caption-attachment-39257"><img loading="lazy" src="https://i1.wp.com/www.intelligentliving.co/wp-content/uploads/2020/12/Yi-Han-Luo.jpg?resize=1024%2C538&amp;ssl=1" alt="Quantum Computer Completed A 2.5-Billion-Year Task In 200 Seconds" width="1024" height="538" srcset="https://i1.wp.com/www.intelligentliving.co/wp-content/uploads/2020/12/Yi-Han-Luo.jpg?resize=1024%2C538&amp;ssl=1 1024w, https://i1.wp.com/www.intelligentliving.co/wp-content/uploads/2020/12/Yi-Han-Luo.jpg?resize=300%2C158&amp;ssl=1 300w, https://i1.wp.com/www.intelligentliving.co/wp-content/uploads/2020/12/Yi-Han-Luo.jpg?resize=768%2C403&amp;ssl=1 768w, https://i1.wp.com/www.intelligentliving.co/wp-content/uploads/2020/12/Yi-Han-Luo.jpg?resize=960%2C504&amp;ssl=1 960w, https://i1.wp.com/www.intelligentliving.co/wp-content/uploads/2020/12/Yi-Han-Luo.jpg?resize=762%2C400&amp;ssl=1 762w, https://i1.wp.com/www.intelligentliving.co/wp-content/uploads/2020/12/Yi-Han-Luo.jpg?resize=585%2C307&amp;ssl=1 585w, https://i1.wp.com/www.intelligentliving.co/wp-content/uploads/2020/12/Yi-Han-Luo.jpg?w=1200&amp;ssl=1 1200w" sizes="(max-width: 1024px) 100vw, 1024px" data-recalc-dims="1"><figcaption id="caption-attachment-39257">‚ÄúA diagram of an optical circuit, where photons (red) are sent through a maze of beam splitters and mirrors and a quantum computer like Jiuzhang calculates the output.‚Äù (Credit: Yi-Han Luo)</figcaption></figure>
<p>Physicist Ian Walmsley at Imperial College London said:</p>
<blockquote><p>This is certainly a tour de force experiment and an important milestone.</p></blockquote>
<p>If the team can build a programmable chip with such power, several crucial computational problems could be solved, such as how molecules vibrate and how proteins dock to one another.</p>
<p>Other quantum news coming from China includes a team of scientists who have <a href="https://www.intelligentliving.co/china-quantum-communication-satellites/" target="_blank" rel="noopener">achieved quantum communication by satellites</a>. They successfully sent a quantum-encrypted message hundreds of miles further than anyone‚Äôs ever sent one before.</p>
<p>Meanwhile, in the US, a startup called IonQ revealed its next-generation quantum computer system that will be <a href="https://www.intelligentliving.co/worlds-most-powerful-quantum-computer-available-soon/" target="_blank" rel="noopener">available for purchase soon</a>, and quantum physicists working for the Department of Energy are on the verge of <a href="https://www.intelligentliving.co/unhackable-quantum-internet/" target="_blank" rel="noopener">developing a quantum internet</a>. <a href="https://www.intelligentliving.co/quantum-teleportation-information/" target="_blank" rel="noopener">Quantum teleportation</a> is also in the works in New York, with a team recently managing to transport massless particles (photons) and particles of matter (electrons).</p>
<!-- AI CONTENT END 2 -->
</div></div>]]>
            </description>
            <link>https://www.intelligentliving.co/quantum-computer-2-5-billion-year-task-in-200-seconds/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25481962</guid>
            <pubDate>Sat, 19 Dec 2020 22:42:16 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Towards Continuous Performance Regression Testing]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25481860">thread link</a>) | @based2
<br/>
December 19, 2020 | https://www.morling.dev/blog/towards-continuous-performance-regression-testing/ | <a href="https://web.archive.org/web/*/https://www.morling.dev/blog/towards-continuous-performance-regression-testing/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="main-content">
			

			<div>
				<p>Functional unit and integration tests are a standard tool of any software development organization,
helping not only to ensure correctness of newly implemented code,
but also to identify regressions‚Äâ‚Äî‚Äâbugs in existing functionality introduced by a code change.
The situation looks different though when it comes to regressions related to non-functional requirements, in particular performance-related ones:
How to detect increased response times in a web application?
How to identify decreased throughput?</p>
<p>These aspects are typically hard to test in an automated and reliable way in the development workflow,
as they are dependent on the underlying hardware and the workload of an application.
For instance assertions on the duration of specific requests of a web application typically cannot be run in a meaningful way on a developer laptop,
which differs from the actual production hardware
(ironically, nowadays both is an option, the developer laptop being less or more powerful than the actual production environment).
When run in a virtualized or containerized CI environment, such tests are prone to severe measurement distortions due to concurrent load of other applications and jobs.</p>
<p>This post introduces the <a href="https://github.com/gunnarmorling/jfrunit">JfrUnit</a> open-source project, which offers a fresh angle to this topic by supporting assertions not on metrics like latency/throughput themselves, but on <em>indirect metrics</em> which may impact those.
JfrUnit allows you define expected values for metrics such as memory allocation, database I/O, or number of executed SQL statements, for a given workload and asserts the actual metrics values‚Äâ‚Äî‚Äâwhich are obtained from <a href="https://openjdk.java.net/jeps/328">JDK Flight Recorder</a> events‚Äâ‚Äî‚Äâagainst these expected values.
Starting off from a defined base line, future failures of such assertions are an indicator for potential performance regressions in an application, as a code change may have introduced higher GC pressure,
the retrieval of unneccessary data from the database, or SQL problems commonly induced by ORM tools, like N+1 SELECT statements.</p>
<p>JfrUnit provides means of identifying and analyzing such anomalies in a reliable, environment independent way in standard JUnit tests,
before they manifest as actual performance regressions in production.
Test results are independent from wall clock time and thus provide actionable information, also when not testing with production-like hardware and data volumes.</p>
<p>This post is a bit longer than usual (I didn‚Äôt have the time to write shorter ;), but it‚Äôs broken down into several sections,
so you can pause and continue later on with fresh energy:</p>

<div>
<h2 id="_getting_started_with_jfrunit">Getting Started With JfrUnit</h2>
<div>
<p>JfrUnit is an extension for <a href="https://junit.org/junit5/docs/current/user-guide/">JUnit 5</a> which integrates Flight Recorder into unit tests;
it makes it straight forward to initiate a JFR recording for a given set of event types,
execute some test routine, and then assert the JFR events which should have been produced.</p>
<p>Here is a basic example of a JfrUnit test:</p>
<div>
<div>
<pre><code data-lang="java"><span>@JfrEventTest</span> <i data-value="1"></i><b>(1)</b>
<span>public</span> <span>class</span> <span>JfrUnitTest</span> <span>{</span>

  <span>public</span> <span>JfrEvents</span> <span>jfrEvents</span> <span>=</span> <span>new</span> <span>JfrEvents</span><span>();</span>

  <span>@Test</span>
  <span>@EnableEvent</span><span>(</span><span>"jdk.GarbageCollection"</span><span>)</span> <i data-value="2"></i><b>(2)</b>
  <span>@EnableEvent</span><span>(</span><span>"jdk.ThreadSleep"</span><span>)</span>
  <span>public</span> <span>void</span> <span>shouldHaveGcAndSleepEvents</span><span>()</span> <span>throws</span> <span>Exception</span> <span>{</span>
    <span>System</span><span>.</span><span>gc</span><span>();</span>
    <span>Thread</span><span>.</span><span>sleep</span><span>(</span><span>1000</span><span>);</span>

    <span>jfrEvents</span><span>.</span><span>awaitEvents</span><span>();</span> <i data-value="3"></i><b>(3)</b>

    <span>ExpectedEvent</span> <span>event</span> <span>=</span> <span>event</span><span>(</span><span>"jdk.GarbageCollection"</span><span>);</span> <i data-value="4"></i><b>(4)</b>
    <span>assertThat</span><span>(</span><span>jfrEvents</span><span>).</span><span>contains</span><span>(</span><span>event</span><span>);</span>

    <span>event</span> <span>=</span> <span>event</span><span>(</span><span>"jdk.GarbageCollection"</span><span>)</span> <i data-value="4"></i><b>(4)</b>
        <span>.</span><span>with</span><span>(</span><span>"cause"</span><span>,</span> <span>"System.gc()"</span><span>));</span>
    <span>assertThat</span><span>(</span><span>jfrEvents</span><span>).</span><span>contains</span><span>(</span><span>event</span><span>);</span>

    <span>event</span> <span>=</span> <span>event</span><span>(</span><span>"jdk.ThreadSleep"</span><span>).</span>
        <span>with</span><span>(</span><span>"time"</span><span>,</span> <span>Duration</span><span>.</span><span>ofSeconds</span><span>(</span><span>1</span><span>)));</span>
    <span>assertThat</span><span>(</span><span>jfrEvents</span><span>).</span><span>contains</span><span>(</span><span>event</span><span>);</span>

    <span>assertThat</span><span>(</span><span>jfrEvents</span><span>.</span><span>ofType</span><span>(</span><span>"jdk.GarbageCollection"</span><span>)).</span><span>hasSize</span><span>(</span><span>1</span><span>);</span> <i data-value="5"></i><b>(5)</b>
  <span>}</span>
<span>}</span></code></pre>
</div>
</div>
<div>
<table>
<tbody><tr>
<td><i data-value="1"></i><b>1</b></td>
<td><code>@JfrEventTest</code> marks this as a JfrUnit test, activating its extension</td>
</tr>
<tr>
<td><i data-value="2"></i><b>2</b></td>
<td>All JFR event types to be recorded must be enabled via <code>@EnableEvent</code></td>
</tr>
<tr>
<td><i data-value="3"></i><b>3</b></td>
<td>After running the test logic, <code>awaitEvents()</code> must be invoked as a synchronization barrier,
making sure all previously produced events have been received</td>
</tr>
<tr>
<td><i data-value="4"></i><b>4</b></td>
<td>Using the <code>JfrEventsAssert#event()</code> method, an <code>ExpectedEvent</code> instance can be created‚Äâ‚Äî‚Äâoptionally specifying one or more expected attribute values‚Äâ‚Äî‚Äâwhich then is asserted via <code>JfrEventsAssert#assertThat()</code></td>
</tr>
<tr>
<td><i data-value="5"></i><b>5</b></td>
<td><code>JfrEvents#ofType()</code> allows to filter on specific event types, enabling arbitrary assertions against the returned stream of <code>RecordedEvent</code>s</td>
</tr>
</tbody></table>
</div>
<p>By means of a custom <code>assertThat()</code> matcher method for <a href="https://joel-costigliola.github.io/assertj/">AssertJ</a>,
JfrUnit allows to validate that specific JFR events are raised during at test.
Events to be matched are described via their event type name, and optionally one more event attribute vaues.
As we‚Äôll see in a bit, JfrUnit also integrates nicely with the Java Stream API,
allowing you to filter and aggregate recorded event atribute values and match them against expected values.</p>
<p>JfrUnit persists a JFR recording file for each test method,
which you can examine after a test failure,
for instance using <a href="https://openjdk.java.net/projects/jmc/">JDK Mission Control</a>.
To learn more about JfrUnit and its capabilities, take a look at the project‚Äôs <a href="https://github.com/gunnarmorling/jfrunit">README</a>.
The project is in an early proof-of-concept stage at the moment,
so changes to its APIs and semantics are likely.</p>
<p>Now that you‚Äôve taken the JfrUnit quick tour, let‚Äôs put that knowledge into practice.
Our example project will be the <a href="https://github.com/gunnarmorling/jfr-custom-events">Todo Manager</a> Quarkus application you may already be familiar with from my <a href="https://www.morling.dev/blog/rest-api-monitoring-with-custom-jdk-flight-recorder-events/">earlier post</a> about custom JFR events.
We‚Äôre going to discuss two examples for using JfrUnit to identify potential performance regressions.</p>
</div>
</div>
<div>
<h2 id="_case_study_1_spotting_increased_memory_allocation">Case Study 1: Spotting Increased Memory Allocation</h2>
<div>
<p>At first, let‚Äôs explore how to identify increased memory allocation rates.
Typically, it‚Äôs mostly library and middleware authors who are interested in this.
For a library such as Hibernate ORM it can make a huge difference whether a method that is invoked many times on a hot code path allocates a few objects more or less.
Less object allocations mean less work for the garbage collector,
which in turn means those precious CPU cores of your machine can spend more cycles processing your actual business logic.</p>
<p>But also for application developers it can be beneficial to keep an eye on‚Äâ‚Äî‚Äâand systematically track‚Äâ‚Äî‚Äâobject allocations,
as regressions there lead to increased GC pressure,
and in turn eventually to higher latencies and reduced throughput.</p>
<p>The key for tracking object allocations with JFR are the <code>jdk.ObjectAllocationInNewTLAB</code> and <code>jdk.ObjectAllocationOutsideTLAB</code> events,
which are emitted when</p>
<div>
<ul>
<li>
<p>an object allocation triggered the creation of a new thread-local allocation buffer (TLAB)</p>
</li>
<li>
<p>an object got allocated outside of the thread‚Äôs TLAB</p>
</li>
</ul>
</div>
<div>
<table>
<tbody><tr>
<td>
<i title="Note"></i>
</td>
<td>
<p>Thread-local allocation buffers (TLAB)</p>
<p>When creating new object instances on the heap,
this primarily happens via <em>thread-local allocation buffers</em>.
A TLAB is a pre-allocated memory block that‚Äôs exclusively used by a single thread.
Since this space is exclusively owned by the thread, creating new objects within a TLAB can happen without costly synchronization with other threads.
Once a thread‚Äôs current TLAB capacity is about to be exceeded by a new object allocation,
a new TLAB will be allocated for that thread.
In addition, large objects will typically need to be directly allocated outside of the more efficient TLAB space.</p>
<p>To learn more about TLAB allocation, refer to  <a href="https://shipilev.net/jvm/anatomy-quarks/4-tlab-allocation/">part #4</a> of Aleksey Shipil—ëv‚Äôs "JVM Anatomy Quark" blog series.</p>
</td>
</tr>
</tbody></table>
</div>
<p>Note these events don‚Äôt allow for tracking of each individual object allocation,
as multiple objects will be allocated within a TLAB before a new one is required, and thus the <code>jdk.ObjectAllocationInNewTLAB</code> event will be emitted.
But as that event exposes the size of the new TLAB, we can keep track of the overall amount of memory that‚Äôs allocated while the application is running.</p>
<p>In that sense, <code>jdk.ObjectAllocationInNewTLAB</code> represents a sampling of object allocations,
which means we need to collect a reasonable number of events to identify those locations in the program which are the sources of high object allocation and thus frequently trigger new TLAB creations.</p>
<p>So let‚Äôs start and work on a test for spotting regressions in terms of object allocations of one of the Todo Manager app‚Äôs API methods, <code>GET /todo/{id}</code>.
To identify a baseline of the allocation to be expected,
we first invoke that method in a loop and print out the actual allocation values.
This should happen in intervals, e.g. every 10,000 invocations,
so to average out numbers from individual API calls.</p>
<div>
<div>
<pre><code data-lang="java"><span>@Test</span>
<span>@EnableEvent</span><span>(</span><span>"jdk.ObjectAllocationInNewTLAB"</span><span>)</span> <i data-value="1"></i><b>(1)</b>
<span>@EnableEvent</span><span>(</span><span>"jdk.ObjectAllocationOutsideTLAB"</span><span>)</span>
<span>public</span> <span>void</span> <span>retrieveTodoBaseline</span><span>()</span> <span>throws</span> <span>Exception</span> <span>{</span>
  <span>Random</span> <span>r</span> <span>=</span> <span>new</span> <span>Random</span><span>();</span>

  <span>HttpClient</span> <span>client</span> <span>=</span> <span>HttpClient</span><span>.</span><span>newBuilder</span><span>()</span>
      <span>.</span><span>build</span><span>();</span>

  <span>for</span> <span>(</span><span>int</span> <span>i</span> <span>=</span> <span>1</span><span>;</span> <span>i</span><span>&lt;=</span> <span>100_000</span><span>;</span> <span>i</span><span>++)</span> <span>{</span>
    <span>executeRequest</span><span>(</span><span>r</span><span>,</span> <span>client</span><span>);</span>

    <span>if</span> <span>(</span><span>i</span> <span>%</span> <span>10_000</span> <span>==</span> <span>0</span><span>)</span> <span>{</span>
      <span>jfrEvents</span><span>.</span><span>awaitEvents</span><span>();</span> <i data-value="2"></i><b>(2)</b>

      <span>long</span> <span>sum</span> <span>=</span> <span>jfrEvents</span><span>.</span><span>filter</span><span>(</span><span>this</span><span>::</span><span>isObjectAllocationEvent</span><span>)</span>  <i data-value="3"></i><b>(3)</b>
          <span>.</span><span>filter</span><span>(</span><span>this</span><span>::</span><span>isRelevantThread</span><span>)</span>
          <span>.</span><span>mapToLong</span><span>(</span><span>this</span><span>::</span><span>getAllocationSize</span><span>)</span>
          <span>.</span><span>sum</span><span>();</span>

      <span>System</span><span>.</span><span>out</span><span>.</span><span>printf</span><span>(</span>
          <span>Locale</span><span>.</span><span>ENGLISH</span><span>,</span>
          <span>"Requests executed: %s, memory allocated: (%,d bytes/request)%n"</span><span>,</span>
          <span>i</span><span>,</span> <span>sum</span><span>/</span><span>10_000</span>
      <span>);</span>

      <span>jfrEvents</span><span>.</span><span>reset</span><span>();</span> <i data-value="4"></i><b>(4)</b>
    <span>}</span>
  <span>}</span>

  <span>private</span> <span>void</span> <span>executeRequest</span><span>(</span><span>Random</span> <span>r</span><span>,</span> <span>HttpClient</span> <span>client</span><span>)</span> <span>throws</span> <span>Exception</span> <span>{</span>
    <span>int</span> <span>id</span> <span>=</span> <span>r</span><span>.</span><span>nextInt</span><span>(</span><span>20</span><span>)</span> <span>+</span> <span>1</span><span>;</span>

    <span>HttpRequest</span> <span>request</span> <span>=</span> <span>HttpRequest</span><span>.</span><span>newBuilder</span><span>()</span>
        <span>.</span><span>uri</span><span>(</span><span>new</span> <span>URI</span><span>(</span><span>"http://localhost:8081/todo/"</span> <span>+</span> <span>id</span><span>))</span>
        <span>.</span><span>headers</span><span>(</span><span>"Content-Type"</span><span>,</span> <span>"application/json"</span><span>)</span>
        <span>.</span><span>GET</span><span>()</span>
        <span>.</span><span>build</span><span>();</span>

    <span>HttpResponse</span><span>&lt;</span><span>String</span><span>&gt;</span> <span>response</span> <span>=</span> <span>client</span>
        <span>.</span><span>send</span><span>(</span><span>request</span><span>,</span> <span>HttpResponse</span><span>.</span><span>BodyHandlers</span><span>.</span><span>ofString</span><span>());</span>

    <span>assertThat</span><span>(</span><span>response</span><span>.</span><span>statusCode</span><span>()).</span><span>isEqualTo</span><span>(</span><span>200</span><span>);</span>
  <span>}</span>

  <span>private</span> <span>boolean</span> <span>isObjectAllocationEvent</span><span>(</span><span>RecordedEvent</span> <span>re</span><span>)</span> <span>{</span> <i data-value="5"></i><b>(5)</b>
    <span>String</span> <span>name</span> <span>=</span> <span>re</span><span>.</span><span>getEventType</span><span>().</span><span>getName</span><span>();</span>
    <span>return</span> <span>name</span><span>.</span><span>equals</span><span>(</span><span>"jdk.ObjectAllocationInNewTLAB"</span><span>)</span> <span>||</span>
        <span>name</span><span>.</span><span>equals</span><span>(</span><span>"jdk.ObjectAllocationOutsideTLAB"</span><span>);</span>
  <span>}</span>

  <span>private</span> <span>long</span> <span>getAllocationSize</span><span>(</span><span>RecordedEvent</span> <span>re</span><span>)</span> <span>{</span> <i data-value="6"></i><b>(6)</b>
    <span>return</span> <span>re</span><span>.</span><span>getEventType</span><span>().</span><span>getName</span><span>()</span>
        <span>.</span><span>equals</span><span>(</span><span>"jdk.ObjectAllocationInNewTLAB"</span><span>)</span> <span>?</span>
   ‚Ä¶</code></pre></div></div></div></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.morling.dev/blog/towards-continuous-performance-regression-testing/">https://www.morling.dev/blog/towards-continuous-performance-regression-testing/</a></em></p>]]>
            </description>
            <link>https://www.morling.dev/blog/towards-continuous-performance-regression-testing/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25481860</guid>
            <pubDate>Sat, 19 Dec 2020 22:28:06 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How Much Rust in Firefox?]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25481857">thread link</a>) | @based2
<br/>
December 19, 2020 | https://4e6.github.io/firefox-lang-stats/ | <a href="https://web.archive.org/web/*/https://4e6.github.io/firefox-lang-stats/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <h2>How much Rust in Firefox?</h2>
      <p><a href="https://github.com/mozilla/gecko-dev">mozilla/gecko-dev</a> repository statistics on Dec 2020</p>
    </div></div>]]>
            </description>
            <link>https://4e6.github.io/firefox-lang-stats/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25481857</guid>
            <pubDate>Sat, 19 Dec 2020 22:27:23 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The ‚ÄúRM -RF *‚Äù Story ‚Äì Insights]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25481851">thread link</a>) | @Daviey
<br/>
December 19, 2020 | https://secalert.net/interview-with-rmrf-engineer.html | <a href="https://web.archive.org/web/*/https://secalert.net/interview-with-rmrf-engineer.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div> <!-- Use icons from fontawesome when you are adding new item in the contact list -->
             <!--//sidebar-wrapper--> <div>
<!-- ARTIKEL_BEGINN -->
<section id="interview-with-rmrf-engineer"> 
    <h2>
    <i></i>THE "rm -rf *" STORY - INSIGHTS
  </h2> 
   <div> <!--//meta--> <div> 
        
        <h3>INTRO</h3> 
        <p>
            A few days ago, I identified a severe vulnerability in a private security bug bounty program that enabled remote code execution. A few hours after I submitted the report, I received the answer that they would verify the vulnerability promptly and that they would contact me afterward. 

            Up to this point, it was still routine. But the second answer was tough and was the beginning of an exciting story and, like a domino effect, revealed several problems.
       
        </p><p>
    The community reactions to this Story are here: 
    <br><a target="_blank" href="https://twitter.com/secalert/status/1339640670210945030"><strong>https://twitter.com/secalert/status/1339640670210945030</strong></a></p><h3>THE EMAILS BEFORE THE INTERVIEW</h3> 
        <div><p>
        I've identified a remote code execution and sent them the report with 5 commands and their outputs as proof of concept.
        Since I didn't want to cause any damage, I decided to use the following commands.
        </p><p>
    <code> 1. "uname -a"
        <br> 2. "id"
        <br> 3. "df -h"
        <br>4. "ls -alF"
        <br> 5. "cat / etc / hosts" 
    </code></p></div>
    <p>
        The first email response was that they will investigate the report. 
        <strong>Then the second response was:</strong> 
    </p>
    <pre><code><cite>
    Dear Dave,
    Thank you for your reports and proof of concepts. We are currently understaffed, so our junior engineer tried to verify your remote code execution and used the command <strong><code>"rm -rf *"</code></strong> to see if the web user can cause serious harm. Unfortunately, he has deleted everything. We will try to recover before we can proceed. We will inform you once the issues are fixed and ask you to verify. 
    </cite></code></pre>
<p>
    <strong>I replied that I will standby and wait for the email. </strong>
</p>
<p>
<strong> The third email response was:</strong></p>
<pre><code><cite>
Dear Dave,
just to give you a status update. We have imported the backups. Unfortunately, we had to find out that we were not performing the backups via cronjob on the system every three days as planned, but inadvertently every three months which means we have now unfortunately irrevocably lost the data from a few weeks on this system. We have now also corrected this error. In the future, we will ensure that we do more pair programming and review with several engineers.

</cite></code></pre>

    <p>
    <strong> The fourth email response was:</strong></p>
    <pre><code><cite>
    Dear Dave,
    Thank you for your patience. We have now improved our backup process and imported the backups as far as possible. Meanwhile, our colleagues from the development department fixed the affected vulnerability in the code. We deployed it as a hotfix and rolled it out. Can you please verify it and let us know whether it is now fixed?
    </cite></code></pre>
        
        <h3>FIX VERIFIED AND ASKED FOR AN INTERVIEW</h3> 
        <p>
I have verified the issue and replied them asking if they would be willing to discuss this case with me in an interview or chat because something like this is very likely to happen to many beginners, which allows you to get the message across and prevent others from making the same mistake committed. To my surprise and absolute delight, they have agreed to do so - provided that neither they nor the company are named.
        </p>

        <h3>ENGINEERS ARE WILLING TO EXPLAIN WHAT HAPPENED</h3> 
        <div><p>
        First of all, I would like to take this opportunity to thank the two engineers concerned for agreeing to conduct this interview with me and for allowing me to quote text passages from previous communication so that we can use this transparency to other engineers for this Being able to sensitize the topic.
        </p><p>  Seriously: THANK YOU!
        </p><p> 
        <strong> Fearing cyber bullying or hateful comments, the two engineers asked to be allowed to remain anonymous.</strong>
        <br>   Of course, I comply with this request and respect it.
        We have agreed that we will call the two engineers "Engineer 1" and "Junior Engineer" from now on to create a context.
    </p></div>

    <h3>THE INTERVIEW</h3> 
    <p><strong>@secalert:</strong>
    <br><cite>
    Welcome to this session. Thank you again for your courage and transparency. If it's okay with you, I will tag one of you each to be clear to whom my question was directed and then ask that person to comment. If there is something that you would not answer or do not want to, let me know, and we'll skip the point.
    </cite></p><p>
            <br> <strong>@secalert asking Junior Engineer:</strong>
            <br>  <cite>Dear Junior Engineer, first of all:
                <br>How are you? Hopefully, you've calmed down a bit since that mishap. Would you be so kind as to describe the events from your point of view briefly?    
            </cite>
        </p>
        <p>
            <strong>@Junior Engineer:</strong>
            <br> <cite>Yes, sure.
                <br>   First of all, I want to emphasize that I have learned my lesson. I was surprised by your remote code execution and thought that the frameworks or firewalls we were using would recognize and prevent this.
                <br>  In August I completed my professional training as an IT specialist for application development and have only been dealing with IT security here in the company since November because I was asked if I would like to take a look at the bug bounty program.
                Due to the current COVID-19 pandemic and the upcoming holidays, we were understaffed in the company. The colleague asked me if I could take care of the bug bounty emails and could also verify the issues if I understood the content. Since I wanted to help, I gladly accepted the offer and was happy that people believed I could do that.
                <br>   When I read "remote code execution" in your e-mail, I thought it was all about executing code with which you can do some calculator gimmick or possibly leave a picture of the hacking group. 
                I didn't realize that it could do any real damage to the operating system. And since I now had to assess whether the vulnerability is as bad as you wrote in your impact description, I googled it. Then I scanned the pages and just copied and executed a few of the supposedly bad commands because I thought that our frameworks or firewalls would recognize and block this if something really should be alarming. <strong>And then I found the <code>"rm -rf *"</code> command.</strong> When I realized that something was breaking, it was too late, and I was scared. After a few minutes, I dared to tell my colleague what happened and whether he can help me to fix it again. I'm sorry. I have learned from it, and in the future, I would instead ask my colleagues more often before I do it. That's why I was ready to do this interview and hope that other junior engineers can learn from it and not do something like that too.

            
            </cite>
        </p>
        <p>
            <strong>@secalert:</strong>
            <br><cite>Thank you very much for these honest words and the explanation, Junior Engineer.</cite>
        </p>

        <p>
            <strong>@secalert asking Engineer 1:</strong>
            <br> <cite>Dear Engineer 1, would you please explain what happened from your perspective and your first reaction was? </cite>
        </p>

        <p>
            <strong>@Engineer 1:</strong>
            <br> <cite>Yes, sure. 
                <br>It wasn't nice of us to put him alone on this important topic. Of course, he immediately accepted when we asked him. But let's be honest: every one of us would have accepted the task as a young person and would have been happy about it. So I want to protect him and take at least 50% of the blame on my head.
                <p> 
                So now to the actual question:
                <br>When he came to me and told me about the RCE, it was immediately clear that we had to view this as a security incident and focus on it. I navigated to the system and saw straight away that our web application no longer works. I then connected via ssh and saw that the entire applications folder is empty, i.e., the data has been deleted. Since we haven't had to import any backups on this system for a long time, it was clear that we would be sitting on it for a few hours. So I asked a colleague to take care of the backups. I took over the communication directly and answered you first that we take it seriously and immediately take care of it.
                </p><p> 
                My colleague noticed that the backup was a few weeks old and was surprised. We then looked at the systems and backups together and were initially amazed, not to say desperate. We then looked at the files and configurations and then had to regret to find that when we created the cronjob, we had unfortunately not set a backup of this system every three days, but only every three months. Shocking! We lost data for the past few weeks as a result. Luck in misfortune is one of the less critical systems and not our crown jewels. So we learned a lot that day. We have already had internal discussions to ensure that such careless mistakes do not happen again.

                </p><p>  We are a company with more than 400 employees and therefore wanted to put our systems' security to the test. We heard about the bug bounty programs at conferences and seminars and thought it could help us better than have an internal security team.
                
                Today we learned that it might not be the best idea to take part in a bug bounty program instead of setting up or training your internal security department or at least having someone deeply familiar with the matter.
                
                We will discuss this again internally and, if necessary, there is now a possibility due to the latest events.
                </p><p> 
                It was important to me not to gloss over anything, which is why we communicated with you transparently. 
                <br>  And yes: besides the backups, our developers also verified and fixed the issue. Our web site is now more secure.
                I would also like to thank you for the interview, and I am convinced that some people out there can learn from our incident.
                
            </p></cite>
        </p>

        <p>
            <strong>@secalert:</strong>
            <br> <cite>I want to thank you both from the bottom of my heart for the insights and the full transparency. If there is anything I can do for you, please write to me at any time. I wish ‚Ä¶</cite></p></div></div></section></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://secalert.net/interview-with-rmrf-engineer.html">https://secalert.net/interview-with-rmrf-engineer.html</a></em></p>]]>
            </description>
            <link>https://secalert.net/interview-with-rmrf-engineer.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25481851</guid>
            <pubDate>Sat, 19 Dec 2020 22:26:26 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to start your domain driven project]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25481701">thread link</a>) | @reverseblade2
<br/>
December 19, 2020 | https://onurgumus.github.io/2020/12/15/How-to-start-your-domain-driven-project.html | <a href="https://web.archive.org/web/*/https://onurgumus.github.io/2020/12/15/How-to-start-your-domain-driven-project.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content-wrapper">
      <div>
         <section id="main-content">
            

<p>So you have received your 100 pages of the requirements doc and a presentation has been made about your new project. Now as a developer your job is to translate the business requirements to your code. But where do we start? Architecture you say? System diagrams? Project structure? How about starting from discovering and translating the domain? I assume you are familiar or at least or the term Domain Driven Design.</p>

<p>Domain driven design is not about the layers, is not about your architecture, not about your objects or entities (although entity is fundamental concept in DDD). Domain driven design is about deriving your design from the business domain. We try to build such an <em>aligment</em> between the source code and the other stakeholders, we invent our domain language, that is Ubiquitous Language.</p>

<h2 id="ubiquitous-language">Ubiquitous Language</h2>

<p>Domain driven design is rolled around the concept called ubiquitous language. Ubiquitous language is the common language we share, we we talk among other stakeholders.</p>

<p><img src="https://onurgumus.github.io/assets/posts/2020-12-15-How-to-start-your-domain-driven-project/ubiq-1.png" alt="Ubiq-1"></p>

<!--more-->

<p>Sharing a common language is extremely vital in order to mitigate misunderstandings. To better understand why it is important let‚Äôs briefly jump to aviation and  see the worst and most unfortunate air disaster ever happened.</p>

<h2 id="tenerife-disaster">Tenerife disaster.</h2>

<p><img src="https://onurgumus.github.io/assets/posts/2020-12-15-How-to-start-your-domain-driven-project/tenerife-1.png" alt="tenerife-1"></p>

<p>One of the main reasons causing this unfortunate disaster was communication error. The communication between the control tower and the pilot has involved some non-aviation related terms like ‚ÄúOK‚Äù which is quite ambigous. On top of that the weather was bad, the radio communication was problematic and the Pilot was in hurry.</p>

<p><img src="https://onurgumus.github.io/assets/posts/2020-12-15-How-to-start-your-domain-driven-project/tenerife-cvr.png" alt="tenerife-2"></p>

<p>When the pilot heard the term OK, he decided the runaway is empty and collided with another plane during the take off. Aviation industry has learnt from these mistakes and that‚Äôs why they are adhere to their own ubiquitous language, e.g. ‚ÄúYour aircraft, my aircraft‚Äù.</p>

<p>In the case of software development, a misunderstanding of requirements may not be obvious initially, however in the long term, even many months later some major problems may surface and cause irreversible damage. Perhaps, we developers should also learn from  the aviation industry and embrace our ubiquitous language.</p>

<p>The key point of  the ubiquitous language is that not only it is shared among different stakeholders but also it is part of the source code.</p>

<p><img src="https://onurgumus.github.io/assets/posts/2020-12-15-How-to-start-your-domain-driven-project/ubiq-2.png" alt="Ubiq-2"></p>

<p>We may have the requirements but without proper digestion and translation of requirements they are just pages with text. Furthermore, you will often see, 
there would be many missing points in the requirements only to be discovered at a later phase. Unless you are Kasparov like business analyst, it is quite difficult to see what is going to come up after 20 moves later. To better illustrate the problem and soluton let‚Äôs talk about the discovery process.</p>

<h2 id="discovery">Discovery</h2>

<p>The discovery process is where we discover our domain, and create our initial stories. We should also use the discovery process to bring up and compose our very ubiquitous language.</p>

<p>But how do we perform the discovery? One of the ways is event storming. In event storming, we can start via an actor such as a user or a customer, but it is optional. Traditionally people throw out the events and commands they can think of on the fly and use stickers to be posted to a whiteboard, hence the term event storming.</p>

<p>However I prefer a more systematic approach when conveying the event storming session. I coincide it with the <a href="https://en.wikipedia.org/wiki/Behavior-driven_development">Behavior-driven-development</a> way by using <a href="https://cucumber.io/docs/gherkin/">gherkin</a> syntax. What is gherkin syntax again? As an example,</p>

<p>In gherkin syntax we do the following:</p>

<div><div><pre><code><span>Feature</span><span>:</span> Specify feature name
And some description

<span>Scenario</span><span>:</span> Scenario name
<span>Given </span>some initial state
<span>When </span>some action/command happens
<span>Then </span>Some assertion about final state
<span>And </span>and optional assertion about if an event is fired
</code></pre></div></div>

<p>Basically we start from  a state then some action is taken  and system moves to another state and optionally it generates and event which can be handled by another component.</p>

<p><img src="https://onurgumus.github.io/assets/posts/2020-12-15-How-to-start-your-domain-driven-project/state-event-command.png" alt="gherkin-1"></p>

<p>A more concrete example for a banking domain would be:</p>

<div><div><pre><code><span>Feature</span><span>:</span> Money withdraw
As customer I would like to withdraw many from my bank account

<span>Scenario</span><span>:</span> Widthdraw less than balance
<span>Given </span>I have 1000$ in my bank account
<span>When </span>I withdraw 300$ 
<span>Then </span>the withdraw is successful
<span>And </span>my final balance should be $700

<span>Scenario</span><span>:</span> Widthdraw more than balance
<span>Given </span>I have 1000$ in my bank account
<span>When </span>I withdraw 1300$ 
<span>Then </span>the withdraw failed
<span>And </span>my final balance should be $1000
</code></pre></div></div>

<p><img src="https://onurgumus.github.io/assets/posts/2020-12-15-How-to-start-your-domain-driven-project/gherkin-1.png" alt="gherkin-1"></p>

<p>Notice how we discovered the commands (verbs) <strong>Withdraw</strong>, we have discovered the events <strong>Withdraw Successful</strong> and <strong>Withdraw Failed</strong> and we have discovered the nouns</p>

<p><strong>Account</strong> and <strong>Balance</strong> where balance is also being a state and a candidate for a property of the <strong>Account</strong>. There we go we are building our ubiquitous language.</p>

<p>We can continue our event storming session. A good question is ‚ÄúWhat happens if the <strong>Withdraw has been failed</strong>?. Perhaps no one has asked this question before, maybe forgotten in the requirements doc, so your Business Analyst stops and he or she replies ‚ÄúAn email should be sent to the customer about his or her failed Withdrawals. Aha we have discovered another action called <strong>Send an email</strong> . And the process goes on. I highly recommend you to try this with your project‚Äôs stakeholders. You will see it‚Äôs a relatively quick and focused effort and it will make the audience, developers more engaged and familiar with the concepts.</p>

<p>Now assuming we have build our Gherkin based features. How do we use them? Actually by generating our scenarios actually we have accomplished a lot:</p>

<ul>
  <li>
    <p>We have created our stories with acceptance tests</p>
  </li>
  <li>
    <p>We have created our ubiquitous language for the domain</p>
  </li>
  <li>
    <p>We have discovered the corner cases otherwise not documented</p>
  </li>
  <li>
    <p>We could create Behavior-driven tests for our development.</p>
  </li>
  <li>
    <p>New BDD scenarios for the existing features could be created by a non programmer by using the same syntax.</p>
  </li>
  <li>
    <p>Serves as documentation by example</p>
  </li>
</ul>

<p>You will also see trying to document a feature with plain english can be quite challenging without a proper systematic approach. Gherkin syntax gives you one of these systematic approaches and allow you think about corner cases that would otherwise difficult to discover or describe.</p>

<p>Now how to create BDD tests from above is matter of your choice for the language and framework. If you use .NET you could use <a href="https://specflow.org/">SpecFlow</a> or <a href="https://github.com/fsprojects/TickSpec">TickSpec</a>(my favorite) but many BDD frameworks are available for almost any language and platform.</p>

<p>Basically by using the same BDD feature set, you can use it to create multiple tests:</p>
<ul>
  <li>Tests for your backend API</li>
  <li>Tests for your front end code</li>
  <li>Tests the browser automation or full integration.</li>
</ul>

<p>All these thests can be bound to set of central gherkin feature documents. If you can make deriving your features via behaviors, you will have great confidence in your code and 
documentation simultenously.</p>

<p>So this is how we bound our domain model, discovery process, tests and story all at once. I personally really like this approach and recommend it for any kind of project.
Please feel free to share any comments or objectsions if you have.</p>


             
            
            
            
                  
         </section>
         
      </div>
   </div></div>]]>
            </description>
            <link>https://onurgumus.github.io/2020/12/15/How-to-start-your-domain-driven-project.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25481701</guid>
            <pubDate>Sat, 19 Dec 2020 22:07:34 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[VisUAL ‚Äì A highly visual ARM emulator]]>
            </title>
            <description>
<![CDATA[
Score 87 | Comments 7 (<a href="https://news.ycombinator.com/item?id=25481614">thread link</a>) | @pjmlp
<br/>
December 19, 2020 | https://salmanarif.bitbucket.io/visual/index.html | <a href="https://web.archive.org/web/*/https://salmanarif.bitbucket.io/visual/index.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">
<ul>
  <li><a href="https://salmanarif.bitbucket.io/visual/index.html">Home</a></li>
  <li><a href="https://salmanarif.bitbucket.io/visual/user_guide/index.html">User Guide</a></li>
  <li><a href="https://salmanarif.bitbucket.io/visual/downloads.html">Downloads</a></li>
  <li><a href="https://salmanarif.bitbucket.io/visual/about.html">About</a></li>
</ul>

<p>

<img src="https://salmanarif.bitbucket.io/visual/images/full_screenshot.png" alt="full screenshot"></p><p>


VisUAL has been developed as a cross-platform tool to make learning ARM Assembly language easier. In addition to emulating <a href="https://salmanarif.bitbucket.io/visual/supported_instructions.html">a subset of the ARM UAL instruction set</a>, it provides visualisations of key concepts unique to assembly language programming and therefore helps make programming ARM assembly more accessible.

</p><p>It has been designed specifically to use as a teaching tool for the <a href="http://www3.imperial.ac.uk/electricalengineering/internal/curriculumee2">Introduction to Computer Architecture course</a> taught at the Department of Electrical and Electronic Engineering of Imperial College London.
<br></p>

<p><a href="#navproghist"><img src="https://salmanarif.bitbucket.io/visual/images/nav_hist_button.png" alt="navigate program history"></a>
<a href="#pointervis"><img src="https://salmanarif.bitbucket.io/visual/images/ptr_vis_button.png" alt="pointer visualisation"></a>
<a href="#shiftvis"><img src="https://salmanarif.bitbucket.io/visual/images/shift_vis_button.png" alt="shift visualisation"></a>
<a href="#memvis"><img src="https://salmanarif.bitbucket.io/visual/images/mem_access_button.png" alt="memory access visualisation"></a>
<a href="#stackvis"><img src="https://salmanarif.bitbucket.io/visual/images/stack_vis_button.png" alt="stack visualisation"></a>
<a href="#branchvis"><img src="https://salmanarif.bitbucket.io/visual/images/branch_vis_button.png" alt="branch visualisation"></a>
<a href="#subvis"><img src="https://salmanarif.bitbucket.io/visual/images/subroutine_vis_button.png" alt="subroutine visualisation"></a>
<a href="#errorsugg"><img src="https://salmanarif.bitbucket.io/visual/images/error_sug_button.png" alt="error correction suggestions"></a>
<a href="#loopdetect"><img src="https://salmanarif.bitbucket.io/visual/images/loop_detect_button.png" alt="infinite loop detection"></a>
<a href="#headless"><img src="https://salmanarif.bitbucket.io/visual/images/headless_emu_button.png" alt="headless emulation mode"></a>
</p>




<h2>Key Features</h2>



<h4>Navigate Program History</h4>

<p>In addition to stepping through code, users can navigate program history by browsing past register values. This feature can help debugging and understanding complex code easier.</p>

<p><img src="https://salmanarif.bitbucket.io/visual/images/history_browsing.png" alt="history browsing"></p>



<h4>Pointer Visualisation</h4>

<p>Pointers in ARM assembly can be quite difficult to understand, especially since ARM assembly has 9 different variations of pointer behaviour when it comes to load/store instructions. VisUAL provides an information pane that displays useful pointer information when needed.</p>

<p><img src="https://salmanarif.bitbucket.io/visual/images/pointer_visualisation.png" alt="pointer visualisation"></p>



<h4>Shift Operation Visualisation</h4>

<p>VisUAL can demonstrate shift operations by playing them as animations. The animations use actual data values from the shift instruction being demonstrated.</p>

<p><video width="100%" autoplay="" loop="">
  <source src="https://salmanarif.bitbucket.io/visual/images/shift_visualisation.mp4" type="video/mp4">
  Your browser does not support HTML5 video.
</video></p>



<h4>Memory Access Visualisation</h4>

<p>All memory access operations, word-aligned or byte-aligned,  can be visualised. Base and offset addresses are shown, and any values that have been changed are highlighted.</p>

<p><img src="https://salmanarif.bitbucket.io/visual/images/memory_visualisation.png" alt="memory visualisation"></p>



<h4>Stack Visualisation</h4>

<p>Instructions to load/store multiple instructions in the form of a stack can be visualised. Stack behaviour is described, and the stack as well as stack pointer at the start and end of the stack are displayed.</p>

<p><img src="https://salmanarif.bitbucket.io/visual/images/stack_visualisation.png" alt="stack visualisation"></p>



<h4>Branch Visualisation</h4>

<p>Colour coded line highlights are used to indicate when a branch is being taken. For conditional instructions, status bits involved in condition checking are highlighted. An arrow points to the branch destination, acting as a visual cue to indicate a branch to another line of code is about to take place.</p>

<p><img src="https://salmanarif.bitbucket.io/visual/images/branch_visualisation.png" alt="branch visualisation"></p>



<h4>Subroutine Visualisation</h4>

<p>Whenever the link register is set to enter a subroutine, the linked subroutine return point will be highlighted and will remain highlighted until the subroutine exits.</p>

<p><img src="https://salmanarif.bitbucket.io/visual/images/subroutine_visualisation.png" alt="subroutine visualisation"></p>



<h4>Error Correction Suggestions</h4>

<p>As opposed to providing cryptic compiler error messages, VisUAL provides context-specific error messages with explanations of exactly what is expected. In addition, whenever a runtime error occurs, the user is informed of the problematic instruction and what operation in the instruction resulted in the error.</p>

<p><img src="https://salmanarif.bitbucket.io/visual/images/syntax_error.png" alt="syntax error"> <img src="https://salmanarif.bitbucket.io/visual/images/runtime_error.png" alt="runtime error"></p>



<h4>Infinite Loop Detection</h4>

<p>Inadvertently typed code that may result in an infinite loop can cause code to malfunction. VisUAL detects possible infinte loops and prompts the user to select the appropriate response.</p>

<p><img src="https://salmanarif.bitbucket.io/visual/images/infinite_loop_warning.png" alt="branch visualisation"></p>

<h4>View Memory Contents</h4>

<p>By using the view memory contents window, data defined in memory can be monitored in real-time as it changes. This allows fast debugging of memory access instructions from a static viewpoint in addition to the dynamic viewpoint provided by the pointer and memory access visualisations.</p>

<p><img src="https://salmanarif.bitbucket.io/visual/images/memory_window.png" alt="memory contents window"></p>
    
<h4>View Symbols</h4>
    
<p>The symbols window provides a list of all code and data symbols that have been defined. This provides an easy method of lookup up symbols during execution.</p>

<p><img src="https://salmanarif.bitbucket.io/visual/images/symbols_window.png" alt="view symbols window"></p>
    


<h4>Headless Emulation Mode</h4>

<p>VisUAL allows assembly code to be executed via the command line and logs the program state to an XML file. This is useful for power users for testing large batches of code. See the <a href="https://salmanarif.bitbucket.io/visual/logging_guide.html">logging guide</a> for details on how to use this.</p>

</div>]]>
            </description>
            <link>https://salmanarif.bitbucket.io/visual/index.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25481614</guid>
            <pubDate>Sat, 19 Dec 2020 21:57:17 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Practical Introduction to Quantum Computing [pdf]]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25481600">thread link</a>) | @ketanmaheshwari
<br/>
December 19, 2020 | https://indico.cern.ch/event/970909/attachments/2165159/3654057/PIQC%20Lecture%207.pdf | <a href="https://web.archive.org/web/*/https://indico.cern.ch/event/970909/attachments/2165159/3654057/PIQC%20Lecture%207.pdf">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://indico.cern.ch/event/970909/attachments/2165159/3654057/PIQC%20Lecture%207.pdf</link>
            <guid isPermaLink="false">hacker-news-small-sites-25481600</guid>
            <pubDate>Sat, 19 Dec 2020 21:56:19 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Setting up your own Nextcloud instance to get off of Google]]>
            </title>
            <description>
<![CDATA[
Score 274 | Comments 164 (<a href="https://news.ycombinator.com/item?id=25481465">thread link</a>) | @kmclean
<br/>
December 19, 2020 | https://kiramclean.com/blog/how-to-set-up-your-own-nextcloud-server/ | <a href="https://web.archive.org/web/*/https://kiramclean.com/blog/how-to-set-up-your-own-nextcloud-server/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

<p>One of my goals for 2020 was to stop using Google's products. There are a lot of reasons why, but that's not the point of this post. I found out about Nextcloud last month and it turns out it's a great replacement for a lot of Google. I don't actually use all of its features, but I've migrated my calendar, reminders, contacts, bookmarks, video calls, photos, and news feeds and I'm really happy with it so far.</p>
<p>There are a lot of companies that will host Nextcloud for you where you just sign up for an account like anything else, but in case you're interested in hosting Nextcloud for yourself this post is basically a brain dump of how I did that. It took me a while to cobble together all the pieces I needed to get everything working from end to end, so I'm hoping this might save someone else from having to do the same. If you know your way around servers and Nextcloud already you can just skim the headings like a checklist to make sure you don't forget an important step. But if you want a succinct overview of the actual steps I did and commands I ran, each section contains those details. By the end you'll see how I installed Nextcloud on my own server, secured it, set up backups, and set up external storage for my photos.</p>
<p>Some parts are pieced together from other partial guides or longer blog posts, so where relevant the references lead to those sources. This post is more of a quick start with just the essential steps. Anything in <code>&lt;pointy-brackets&gt;</code> is meant to be replaced. So the actual command I ran was e.g. <code>adduser kira</code>, not <code>adduser &lt;name&gt;</code>.</p>
<h2>What this list assumes you already have</h2>
<ul>
<li>A domain name. I got mine from <a href="https://namecheap.com/">Namecheap</a>.</li>
<li>An account with a cloud server provider. I use <a href="https://www.linode.com/choosing-linode/">Linode</a>.</li>
<li>An account with <a href="https://www.backblaze.com/b2/cloud-storage.html">Backblaze</a></li>
<li>An account with <a href="https://healthchecks.io/">Healthchecks.io</a></li>
<li>Your ssh key</li>
<li>$75/year. I pay $5/month for the server I use, $5/year for the domain name ($5.16 actually), and CAD$10/year for carbon offsets.</li>
</ul>
<h2>1. Set up a server running Ubuntu and set up ssh access for yourself</h2>
<ul>
<li>Spin up a new server with your cloud provider. I use a "nanode", the smallest server available from Linode, with 1GB of RAM and 25GB of storage, which is plenty more than <a href="https://docs.nextcloud.com/server/16/admin_manual/installation/system_requirements.html#server">Nextcloud's minimum specs</a>.</li>
<li>Select an operating system that can install <a href="https://snapcraft.io/docs/installing-snapd">snap packages</a>. I'm using Ubuntu 20.04 (LTS). Nextcloud recommends at least either Ubuntu 18.04 LTS or Red Hat Enterprise Linux 7.</li>
<li>Add your ssh key to the server. There should be a way to do this through the UI where you manage your new server.</li>
<li>Copy the IP address of your new server</li>
</ul>
<h3>1.1. ssh into your server as the root user and make yourself a new sudo user that can also ssh into the machine <sup><a href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-20-04">1</a></sup></h3>
<ul>
<li><code>ssh <a href="https://kiramclean.com/cdn-cgi/l/email-protection" data-cfemail="71031e1e0531">[email&nbsp;protected]</a>&lt;server-ip-address&gt;</code></li>
<li><code>adduser &lt;name&gt;</code></li>
<li><code>usermod -aG sudo &lt;name&gt;</code></li>
<li><code>rsync --archive --chown=&lt;name&gt;:&lt;name&gt; ~/.ssh /home/&lt;name&gt;</code></li>
</ul>
<p>Close this ssh session and log in as your new user to make sure it works:</p>
<ul>
<li><code>logout</code></li>
<li><code>ssh &lt;name&gt;@&lt;server-ip-address&gt;</code></li>
</ul>
<p>Leave this ssh session open. The rest of the commands below are meant to be run on your server, unless otherwise stated.</p>
<h2>2. Point your new server to your custom domain</h2>
<p>There should be a way to do this in the admin section for your server. On Linode's there's a "Domains" section in the left admin menu. From there I clicked "Add a Domain" in the top right, then filled in the domain name, my email address, and selected "Insert default records from one of my Linodes" from the "Insert Defaults Records" dropdown, then I selected my new Nextcloud server from the list of Linodes. The steps might be slightly different depending what cloud server provider you're using. By the end you need DNS records pointing your domain name to your Nextcloud server. If you did this through Linode (or whatever you're using), you'll also need to update the nameservers with your domain registar.</p>
<h2>3. Set up a basic firewall</h2>
<ul>
<li><code>sudo ufw allow OpenSSH</code></li>
<li><code>sudo ufw allow https</code></li>
<li><code>sudo ufw allow http</code></li>
<li><code>sudo ufw enable</code></li>
</ul>
<h2>4. Install Nextcloud</h2>
<ul>
<li><code>sudo snap install nextcloud</code></li>
<li><code>sudo nextcloud.manual-install &lt;username&gt; &lt;password&gt;</code></li>
</ul>
<h2>5. Set up your domain, enable https, and install an auto-updating certificate from Let's Encrypt</h2>
<ul>
<li><code>sudo nextcloud.occ config:system:set trusted_domains 1 --value=&lt;your-domain.name&gt;</code></li>
<li><code>sudo nextcloud.enable-https lets-encrypt</code></li>
</ul>
<h2>6. Enable 2FA on your Nextcloud account <sup>*</sup></h2>
<ul>
<li>Log in to your new personal cloud at the domain you configured using the username and password you chose above and install the 2FA app
<ul>
<li>Click on your initial in the top right corner of the Nextcloud dashboard and select "Apps"</li>
<li>In the left side bar click on "Security", then search for the "Two-Factor TOTP Provider" app</li>
<li>Click "Download and enable"</li>
</ul>
</li>
<li>Set up 2FA with this newly installed app
<ul>
<li>Click on your initial in the top right corner and select "Settings"</li>
<li>In the left sidebar, click on "Security" (in the "Personal" section) then check the "Enable TOTP" box and follow the instructions to set up 2FA</li>
</ul>
</li>
</ul>
<p>I managed to forget my password in the time between installing Nextcloud and trying to log in for the first time. If that happens to you, you can reset it by running <code>sudo nextcloud.occ user:resetpassword &lt;username&gt;</code>.</p>
<hr>
<p><small>* Doing this means you will be required to generate "app passwords" in order to log in to your Nextcloud account in third party apps or other devices (to use Nextcloud to sync your calendar or reminders to your phone, for example.) There's a tiny box with a button that says "Create new app password" at the bottom of the "Security" admin section (under "Personal", not "Administration") where you can do that.</small></p>
<h2>7. Set up backups</h2>
<h3>7.1. Turn on "local" backups</h3>
<ul>
<li>Enable backups for your whole server for a first layer of backups. I did this when I was setting up my Linode (there was a checkbox in the "Optional Add-ons" section for it). Otherwise there's a "Backups" tab in the admin section where you can turn them on. Linode charges $2/months for this.</li>
</ul>
<h3>7.2. Set up "offsite" backups</h3>
<ul>
<li>
<p>Install and set up Backblaze</p>
<ul>
<li>Make a bucket in Backblaze for your backups</li>
<li>Make an app key with access to your backup bucket</li>
<li>Get the Backblaze cli and configure it
<ul>
<li><code>sudo apt install python3-pip</code></li>
<li><code>sudo pip3 install b2</code></li>
<li><code>sudo b2 authorize_account &lt;keyID&gt;</code></li>
<li>Copy the key secret from the app key you just made to authorize the Backblaze cli</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Create a new user to run the backups and disable password access for it, for security <sup><a href="https://kevq.uk/how-to-backup-nextcloud/">2</a></sup></p>
<ul>
<li><code>sudo adduser ncbackup</code></li>
<li><code>sudo usermod -s /sbin/nologin ncbackup</code> <sup>*</sup></li>
</ul>
</li>
<li>
<p>Create directories for the backups and logs</p>
<ul>
<li><code>sudo mkdir -p /home/ncbackup/backups/logs</code></li>
</ul>
</li>
<li>
<p>Create the backup script and make it runnable <sup>**</sup></p>
<ul>
<li><code>sudo touch /usr/sbin/ncbackup.sh</code></li>
<li><code>sudo chmod +x /usr/sbin/ncbackup.sh</code></li>
<li><code>sudo vim /usr/sbin/ncbackup.sh</code> and copy the contents of the backup script below into your new file, or write your own that accomplishes the same things: <sup>***</sup></li>
</ul>
</li>
</ul>
<pre><code>#!/bin/bash
set -e

DATE=$(date '+%Y-%m-%d')

# Output to a logfile
exec &amp;&gt; /home/ncbackup/backups/logs/${DATE}.txt

# Export all your config and data from Nextcloud
echo "Starting Nextcloud export..."
nextcloud.export
echo "Export complete"

# Compress backed up folder
echo "Compressing backup..."
tar -zcf /home/ncbackup/backups/${DATE}.tar.gz -C /var/snap/nextcloud/common/backups/ .
echo "Nextcloud backup successfully compressed to /home/ncbackup/backups"

# Remove uncompressed backup data
rm -rf /var/snap/nextcloud/common/backups/*

# Remove backups and logs older than 5 days
echo "Removing backups older than 5 days..."
find /home/ncbackup/backups -type f -mtime +5 -delete
find /home/ncbackup/backups/logs -type f -mtime +5 -delete

# Keep 14 days of backups in Backblaze
echo "Uploading to Backblaze..."
b2 sync --keepDays 14 --replaceNewer /home/ncbackup/backups b2://&lt;your-bucket-name&gt;
echo "Nextcloud backup completed successfully"
</code></pre>
<ul>
<li>Let the <code>ncbackup</code> user run the backup script as the root user
<ul>
<li><code>sudo visudo</code></li>
<li>Copy this to the end of the file that opens:</li>
</ul>
</li>
</ul>
<pre><code># Allow ncbackup to run script as sudo
ncbackup ALL=(ALL) NOPASSWD: /usr/sbin/ncbackup.sh
</code></pre>
<hr>
<p>
<small>
* If you want to undo this for some reason you can run <code>sudo usermod -s /bin/bash ncbackup</code>
</small>
</p>
<p>
<small>
** Note this means you will have 6 copies of all your data on your server all the time -- 5 backups and the live versions. The backups are compressed, but it can still add up to a lot of space. Keep an eye on how much storage your server is using. Running it out of space will probably be one of the first issues you run into. I explain how to get notified when that's close to happening at the end.
</small>
</p>
<p>
<small>
*** You don't have to use vim here. Your server probably has nano installed or you can install the editor of your choice. To change the default editor on your server, run <code>sudo update-alternatives --config editor</code>, and choose the one you want.
</small>
</p>
<h2>8. Schedule and monitor your backups</h2>
<ul>
<li>Make yourself a healthcheck at <a href="https://healthchecks.io/">healthchecks.io</a> and copy the ping url</li>
<li><code>sudo crontab -u ncbackup -e</code></li>
<li>Copy this to the bottom of the file: <code>0 2 * * * sudo /usr/sbin/ncbackup.sh &amp;&amp; curl -fsS -m 10 --retry 5 -o /dev/null &lt;your-ping-url&gt;</code></li>
</ul>
<p>This will run your backups once per day at 2am (in your server's timezone, probably UTC), but you can set whatever time and frequency you want, just remember to update your healthcheck to match.</p>
<h2>9. Test your backups</h2>
<p>Backups are only useful if you can use them to restore your data. Make sure yours work before you need them.</p>
<p>To test your entire server backups you can just try restoring the whole server using Linode's (or whoever's) UI. Testing the archived backups we uploaded to Backblaze is a little more involved but you'll be glad you know how to do it when you need it.</p>
<ul>
<li>Repeat steps 1-5, except you can just update the records for your domain that's already set up to point to your new server's IP address(es).</li>
<li>Download one of your backups</li>
<li>Copy the backup onto your new server. Run this in a terminal on your machine (not in an ssh session with a remote server):
<ul>
<li><code>scp /local/path/to/your/backup/ &lt;user&gt;@&lt;new-server-ip-address&gt;:~</code></li>
</ul>
</li>
</ul>
<p><em>ssh into your new server for the rest of these commands</em></p>
<ul>
<li>Unzip, rename, and move the backup to a place where the Nextcloud snap installation will be able to access it, then make the root user the owner
<ul>
<li><code>tar -xvzf &lt;backup-name&gt;.tar.gz</code></li>
<li><code>sudo mv &lt;backup-data-dir&gt;/ ‚Ä¶</code></li></ul></li></ul></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://kiramclean.com/blog/how-to-set-up-your-own-nextcloud-server/">https://kiramclean.com/blog/how-to-set-up-your-own-nextcloud-server/</a></em></p>]]>
            </description>
            <link>https://kiramclean.com/blog/how-to-set-up-your-own-nextcloud-server/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25481465</guid>
            <pubDate>Sat, 19 Dec 2020 21:39:37 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Chef cofounder on CentOS: It‚Äôs time to open source everything]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25481419">thread link</a>) | @URfejk
<br/>
December 19, 2020 | https://planetstoryline.com/chef-cofounder-on-centos-its-time-to-open-source-everything/ | <a href="https://web.archive.org/web/*/https://planetstoryline.com/chef-cofounder-on-centos-its-time-to-open-source-everything/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>Commentary: Red Hat has been in hot water about changing the way CentOS operates, but that model looks like the exact right way for open source entrepreneurs to operate.</p><div data-component="lazyloadImages">
<figure><span></span><figcaption></figcaption></figure>
<p>Red Hat switched up CentOS to make it less of a Red Hat Enterprise Linux (RHEL) clone and more of a feeder project into RHEL (as Fedora was always supposed to be, yet wasn‚Äôt). Some people are mad, as <a href="https://www.zdnet.com/article/red-hat-resets-centos-linux-and-users-are-angry/" target="_blank" rel="noopener noreferrer" data-absolute="true" data-component="externalLink">Steven J. Vaughan-Nichols has written</a> on sister site ZDNet. Some people, like former Disney employee Justin Garrison, <a href="https://twitter.com/rothgar/status/1337818039799070722" target="_blank" rel="noopener noreferrer" data-absolute="true" data-component="externalLink">think</a> it sounds perfect (the hipper, slightly edgier version of RHEL). If you‚Äôre a billion-dollar company upset that Red Hat appears to be trying to charge for something you value, the <a href="https://www.zdnet.com/article/goodbye-centos-hello-rocky-linux/" target="_blank" rel="noopener noreferrer" data-absolute="true" data-component="externalLink">founder of CentOS has a new way for you to get something for nothing</a>: Rocky Linux.</p>

<p>But if you‚Äôre an open source entrepreneur wondering what this means for you, well, Chef cofounder and System Initiative CEO <a href="https://twitter.com/adamhjk/status/1337062314357514251" target="_blank" rel="noopener noreferrer" data-absolute="true" data-component="externalLink">Adam Jacob has you covered</a>. In a series of tweets, he walks through how Red Hat‚Äôs CentOS strategy can play out for you. (He should know, as the company he co-founded, Chef, <a href="https://www.techrepublic.com/article/why-chefs-100-open-source-move-is-smart-business/" data-absolute="true">last year open sourced everything</a>.)</p>
<p>Let‚Äôs observe.</p>
<h2>Open source all the things</h2>
<p><a href="https://twitter.com/adamhjk/status/1337062314357514251" target="_blank" rel="noopener noreferrer" data-absolute="true" data-component="externalLink">Jacob‚Äôs first rule</a>? Open it up. Completely. ‚ÄúIf I do an open source strategy for a company ever again, I will own the upstream, it will be fully open source, and I‚Äôll happily collaborate with anyone downstream.‚Äù But not just an open upstream‚Äìit‚Äôs also important to, ‚ÄúProduce a commercial distribution [and c]ollaborate on downstream non-commercial ones, in the open,‚Äù he <a href="https://twitter.com/adamhjk/status/1337062321982758912" target="_blank" rel="noopener noreferrer" data-absolute="true" data-component="externalLink">argued</a>.</p>
<p>What does he mean by ‚Äúupstream‚Äù and ‚Äúdownstream‚Äù? In open source, think of the <a href="https://opensource.stackexchange.com/questions/993/what-does-upstream-mean" target="_blank" rel="noopener noreferrer nofollow" data-absolute="true" data-component="externalLink">upstream</a> as the parent, the head, the initial open source project. Downstream might be forks or distributions (packaging up of a particular build of the upstream code) of the upstream.</p>
<p>What Red Hat announced was basically that CentOS would move from being downstream to upstream. It becomes a place, as <a href="https://twitter.com/adamhjk/status/1337062318451068929" target="_blank" rel="noopener noreferrer" data-absolute="true" data-component="externalLink">Jacob noted</a>, that others <a href="https://www.redhat.com/en/blog/centos-stream-building-innovative-future-enterprise-linux" target="_blank" rel="noopener noreferrer nofollow" data-absolute="true" data-component="externalLink">like Facebook</a> can collaborate with Red Hat in a way they simply couldn‚Äôt before (as Fedora wasn‚Äôt closely enough aligned with RHEL). CentOS as a downstream RHEL community was mostly one of users, of consumers, not of collaborators. It was somewhere to get RHEL, but rebranded CentOS, for free.</p>
<p>As such, Jacob pointed out, ‚ÄúThey weren‚Äôt invested in it beyond using it.‚Äù And when someone removes the downstream they get mad ‚Äúbecause it‚Äôs like someone threatened the water supply,‚Äù <a href="https://twitter.com/adamhjk/status/1337062319558434822" target="_blank" rel="noopener noreferrer" data-absolute="true" data-component="externalLink">he argued</a>. It‚Äôs therefore far better to condition people to participate as collaborators with an open source project, and through the commercial distribution to also condition users to become customers, if they want the certified distribution.</p>
<h2>Open source + cloud</h2>
<p>One way that open source companies are doing this model to fantastic effect is by open sourcing their upstream and creating a cloud distribution (read: managed service). A variety of companies have embraced this model to greater or lesser extents.</p>
<p>Yugabyte, for example, ditched its Open Core model a year ago and open sourced 100% of its database code. A year later, CTO Karthik Ranganathan told me in an interview, ‚ÄúIt increased our adoption like crazy,‚Äù growing the number of Yugabyte clusters 10x, but it also has dramatically accelerated their business without them losing any known pipeline. Could someone take that upstream and create a competitive downstream competitor? Of course. But no one should be able to out-Yugabyte on their home turf.</p>
<p>Or take Redis Labs. The company has fiddled with licensing over the last few years, but has kept core Redis completely open while encouraging a growing community (which includes downstream competitors) to lend a hand to improving the code. While Redis Labs doesn‚Äôt publish results, its business is booming, even as 10 or so other companies have created competitive downstream managed service offerings.</p>
<p>Which brings us back to Jacob: ‚ÄúRun an open upstream from the jump. Produce a commercial distribution. Collaborate on downstream non-commercial ones, in the open.‚Äù</p>
<p>That‚Äôs the strategy. That‚Äôs the magic. You don‚Äôt need to go Open Core or any other permutation of kind-of, sort-of open source. You can open source everything and just ensure you have a rock-solid managed cloud service. This reliance on cloud is what‚Äôs driving MongoDB, Confluent, DataStax, Redis Labs, and others to great success. It can be your model, too.</p>
</div></div>]]>
            </description>
            <link>https://planetstoryline.com/chef-cofounder-on-centos-its-time-to-open-source-everything/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25481419</guid>
            <pubDate>Sat, 19 Dec 2020 21:33:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The original "Spacewar!" running on a virtual DEC PDP-1]]>
            </title>
            <description>
<![CDATA[
Score 108 | Comments 23 (<a href="https://news.ycombinator.com/item?id=25481278">thread link</a>) | @CharlesW
<br/>
December 19, 2020 | https://www.masswerk.at/spacewar/ | <a href="https://web.archive.org/web/*/https://www.masswerk.at/spacewar/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="description">
	<h2>Notes &amp; Descriptions</h2>
	<h3>Program Versions &amp; Sources</h3>
	<p>The emulation is running various versions of the original game, both from binaries copies of the original paper tapes and newly assembled from authentic code listings. The programs are loaded as virtual paper tapes (RIM-mode: Read In Memory) into the memory of the emulated DEC PDP-1.</p>
	<p><img src="https://www.masswerk.at/spacewar/images/hingham-space-warfare-2.png" alt="Spaceships (stylized) according to the Hingham Institute Study Group on Space Warfare" title="Spaceships according to the Hingham Institute Study Group on Space Warfare" width="81" height="94"></p><p><strong onclick="selectSpacewarModule('spacewar3.1');" data-title="Click to play Spacewar! 3.1"><span></span>Spacewar! 3.1</strong>, the final version of Spacewar! as left by the original programmers (Steve Russell and the other members of the <em>Hingham Institute Study Group on Space Warfare</em>), is presented here once in its original form and in a modified version showing scaled up graphics and effects for the benefit of small screen sizes. Further, there are both earlier and later versions, as <strong onclick="selectSpacewarModule('spacewar2b');" data-title="Click to play Spacewar! 2B"><span></span>Spacewar! 2B</strong> (the program described in <a href="https://www.masswerk.at/spacewar/SpacewarOrigin.html" target="SpacewarOrigin">"The Origin of Spacewar"</a> by J. M. Graetz) and some examples of <strong onclick="selectSpacewarModule('spacewar4.1f');" data-title="Click to play Spacewar! 4.1f"><span></span>version 4</strong> (adding minor features and compatibility to an upgraded hardware). Finally, there is a special version of Spacewar 3.1, demonstrating the "Winds of Space" effect.</p>
	<p><em>(Please mind that the title screens are generated by the emulator and are not part of the original games.)</em></p>
	<p>There are two display resolutions to select from:</p>
	<ul>
		<li><strong>Low resolution</strong>, plotting at 512 x 512 px, 50% of the original display.<br>Special subpixel rendering is employed in order to boost the visible resolution beyond the physical resolution provided by the display element in the browser.<br>The result corresponds closely (if not being even a bit better) to the visual resolution of the original display: While the display featured a resolution of 1024 x 1024 plotting locations, only approximately 512 points on each axis were "resolvable to the unaided eye" <cite>(DP-35-2 / PDP-1 Instruction Manual / Part 3; DEC 1971; p. 5)</cite>.<br>Compare these contemporary photos: <a href="https://www.masswerk.at/spacewar/SpacewarOrigin.html#figure-1" target="SpacewarOrigin" title="Illustrative image in &quot;The Origin of Spacewar&quot; by J. M. Graetz" onclick="if (window.showEmbeddedImage) {return showEmbeddedImage('spacewar_origins/spacewar-fig1.jpeg', 421, 418);} else {return true;}">[1]</a> <a href="https://www.masswerk.at/spacewar/SpacewarOrigin.html#figure-a3-7" target="SpacewarOrigin" title="A black and white screenshot of Spacewar!, 1963 ca." onclick="if (window.showEmbeddedImage) {return showEmbeddedImage('spacewar_origins/chm-spacewar_screenshot.jpg', 500, 391);} else {return true;}">[2]</a> <a href="https://www.masswerk.at/spacewar/SpacewarOrigin.html#figure-a3-6" target="SpacewarOrigin" title="Dan Edwards and Peter Samson playing Spacewar! (DEC material)" onclick="if (window.showEmbeddedImage) {return showEmbeddedImage('spacewar_origins/playing-spacewar-1962.jpg', 500, 340);} else {return true;}">[3]</a>.</li>
		<li><strong>High resolution</strong>, plotting at the <a href="https://www.masswerk.at/spacewar/fullscreen.html" data-title="Compare the full-scale version‚Ä¶"><span></span>original 1024 x 1024 px</a>, with the display element scaled to 50%.</li>
	</ul>
	<p>Versions available (by the <i>"versions menu"</i> at the top left of the emulated display):</p>
	<ul>

		<li id="spacewar3.1"><strong onclick="selectSpacewarModule('spacewar3.1');" data-title="Click to select this program."><span></span>Spacewar! 3.1</strong> <span>(24 Sep 1962)</span><br>This could be regarded as the "standard version" of Spacewar!. The program is dated <em>"24 sep 62"</em> and is loaded from an authentic binary paper-tape image (<a href="http://textfiles.com/bitsavers/bits/DEC/pdp1/papertapeImages/20031202/SteveRussell_box1/" target="_blank" title="Archive of Steve Russell's box #1 at textfiles.com">spacewar3.1_24-sep-62.bin</a>) provided by Steve Russell via <a href="http://bitsavers.org/" target="_blank">bitsavers.org</a>.</li>

		<li><strong onclick="selectSpacewarModule('spacewar3.1bigships');" data-title="Click to select this program."><span></span>Spacewar! 3.1, scaled ships</strong> <span>(low resolution only)</span><br>Scaled up graphics and effects to show the game in greater detail on a small display. (Colission radii and turning pivots of the ships have been adjusted accordingly.) This is quite similar to the presentation seen in other emulations. Please mind that the changes have minor effects on the gameplay.<br>
		The code is based on the original PDP-1 <a href="http://textfiles.com/bitsavers/bits/DEC/pdp1/papertapeImages/20031202/SteveRussell_box1/_text/" target="_blank" title="Text-files in the archive of Steve Russell's box #1 at textfiles.com">assembler sources</a> by Steve Russell as available at <a href="http://bitsavers.org/" target="_blank">bitsavers.org</a> and was modified and newly assembled in 2014. (N. Landsteiner, 2014; this is not an authentic version!)</li>

		<li id="spacewar2b"><strong onclick="selectSpacewarModule('spacewar2b');" data-title="Click to select this program."><span></span>Spacewar! 2B</strong> <span>(2 Apr 1962)</span><br>This is the first complete version version of the game as presented at MIT's annual <em>Science Open House</em> in May 1962. Notably this is also the very version the background starfield (Peter Samson's <em>Expensive Planetarium</em>) was designed for, as this is annotated in the source code by <em>"stars by prs for s/w 2b"</em> and dated <em>"3/13/62, prs".</em> The program features the pre-particle-system "Crock Explosion" <a href="https://www.masswerk.at/spacewar/SpacewarOrigin.html#figure-5" target="SpacewarOrigin" title="Illustrative image in &quot;The Origin of Spacewar&quot; by J. M. Graetz" onclick="if (window.showEmbeddedImage) {return showEmbeddedImage('spacewar_origins/spacewar-fig5.jpeg', 417, 422);} else { return true;}">[4]</a> and optionally a faster movement of the starfield (sense switch 4), torpedoes are single shot only (no salvoes). Some of the differences are more cosmetical: The ships' exhaust flames are half the size of later versions, also the display of the starfield hasn't found its final form yet (starting at an other position as compared to later versions). Moreover, the original starfield routine, found here, is modulating the varying brightnesses of the stars by how often the individual stars are drawn, whereas later versions are using the built-in intensity levels of the <em>Type 30 CRT</em> display instead.<br>For more on the making-of of Spacewar! see <a href="https://www.masswerk.at/spacewar/SpacewarOrigin.html" target="SpacewarOrigin">"The Origin of Spacewar" by J. M. Graetz</a>.<br>
		<span></span>The code is run from a binary paper tape image (RIM) labeled "<a href="http://textfiles.com/bitsavers/bits/DEC/pdp1/papertapeImages/20031202/InsidePDP1_80s_box3/" target="_blank" title="&quot;spaceWar_SA-5.bin&quot; in &quot;InsidePDP1_80s_box3&quot; at textfiles.com">spaceWar_SA-5.bin</a>". This has been proven to be identical to loading the two paper tapes "<a href="http://textfiles.com/bitsavers/bits/DEC/pdp1/papertapeImages/20050823/" target="_blank" title="'spacewar2B_2apr62.bin' at textfiles.com">spacewar2B_2apr62.bin</a>" and "<a href="http://textfiles.com/bitsavers/bits/DEC/pdp1/papertapeImages/20031202/SteveRussell_box1/" target="_blank" title="'stars.bin' at textfiles.com">stars.bin</a>", both to be found at bitsavers.org.<br>
		(<em>"SA-5"</em> is not a version string, but indicates the program's start address being 5, which would start the program in a setup for reading the input from the console test switches rather than from MIT's special control boxes, as would be the case with the default start address. The label suggests that this was a tape sent from MIT to an other facility.)<br>
		Spacewar! 2B is known with a date as early as 25 March 1962. This earlier version shows minor differences regarding the polarity of the sense switch settings.<br>
		<img src="https://www.masswerk.at/spacewar/images/spacewar-minskytron-hyperspace.png" alt="Spacewar! ‚Äî The Hyperspace Minskytron signature" title="The Minskytron signature effected by &quot;warp-induced photonic stress emission&quot;" width="75" height="105">
		<span></span>The program is presented here with two patches applied, namely the hyperspace-patch to include Martin Graetz's original hyperspace routine, the "<strong><a href="https://www.masswerk.at/spacewar/inside/insidespacewar-minskytron-hyperspace.html" target="_blank">Minskytron hyperspace</a></strong>" <a href="https://www.masswerk.at/spacewar/SpacewarOrigin.html#figure-4" target="_blank" title="Illustrative image in &quot;The Origin of Spacewar&quot; by J. M. Graetz" onclick="if (window.showEmbeddedImage) {return showEmbeddedImage('spacewar_origins/spacewar-fig4.jpeg', 419, 416);} else {return true;}">[5]</a> and its <em>"warp-induced photonic stress emission",</em> and the auto-restart patch for seemless playing. (There are exactly three jumps to hyperspace per player.)<br>
		This represents the the game as described and depicted in J.M. Graetz's seminal article <a href="https://www.masswerk.at/spacewar/SpacewarOrigin.html" target="SpacewarOrigin">"The Origin of Spacewar"</a> and as presented at the <em>MIT Science Open House</em> in May 1962. (It still lacks a scorer-patch, which seems to be lost.)
		The patches are provided by the paper tape images "<a href="http://textfiles.com/bitsavers/bits/DEC/pdp1/papertapeImages/20031202/InsidePDP1_80s_box3/" target="_blank">hyperspace85.bin</a>" <em>(Hyperspace VIci, 2 May 1962)</em> and  "<a href="http://textfiles.com/bitsavers/bits/DEC/pdp1/papertapeImages/20030408/" target="_blank">spaceWarRstrt.bin</a>" ‚Äî an other tape provides the same patch as "<a href="http://textfiles.com/bitsavers/bits/DEC/pdp1/papertapeImages/20031202/InsidePDP1_80s_box3/" target="_blank">spacewAutoRestartPatch.bin</a>". (The auto-restart patch was to be applied to the hyperspace-patch and is by this officially a patch to a patch. Thus, loading the full program had become a fairly complex affair then, involving up to 6 tapes.)<br>
		<span></span>Listings of Spacewar! 2B and the patches may be found <a href="https://www.masswerk.at/spacewar/sources/" target="_blank">here</a>.<br>
		<span></span>Please mind that this is still the game early in development. The restart-patch is missing an edge case (pun in¬≠tend¬≠ed), where the ships would collide at the "antipode" in the corners of the display. The game requires a manual restart in this situation.</li>

		<li id="spacewar4.1f"><strong onclick="selectSpacewarModule('spacewar4.1f');" data-title="Click to select this program."><span></span>Spacewar! 4.1f</strong> <span>(20 Feb 1963; mod. for CHM 2005 ‚Äì 2008)</span><br>This is the version apparently running at the <a href="http://www.computerhistory.org/" target="_blank">Computer History Museum</a> (CHM).<br>This is Spacewar! 4.1 modified by <strong>Peter Samson</strong> in 2005‚Äì2008 to include the <strong>scorer routine of Spacewar! 4.8</strong>. Moreover, version 4.1f features modified brightness settings for the background starfield (for use at the CHM), which are here remapped to usual values by the emulator. (Otherwise most of the stars would remain invisible.) Like other version of Spacewar! 4.x it requires the hardware multiply/divide option and features the single shot switch for torpedoes. The source code is dated <em>"spacewar 4.1  2/20/63 dfw"</em> and annotated <em>"mod for CHM, 2005-06-01 - 2005-11-28  --prs",</em> and <em>"changed delay in score display, 2008-08-22  --prs.".</em> The code is run from a binary paper tape image (<a href="http://textfiles.com/bitsavers/bits/DEC/pdp1/from_peter_samson/" target="_blank" title="Archive PDP-1 codes provided by Peter Samson at textfiles.com">sw41f.rim</a>) provided by Peter Samson via <a href="http://bitsavers.org/" target="_blank">bitsavers.org</a>.</li>

		<li id="spacewar4.2"><strong onclick="selectSpacewarModule('spacewar4.2a');" data-title="Click to select this program."><span></span>Spacewar! 4.2a (4.1/4.2 dfw)</strong> <span>(22 Feb 1963 ?)</span><br>This is an authentic representative of the 4.x-generation of Spacewar! (probably by "dfw", like version 4.1 above), requiring the hardware multiply/divide option of the PDP-1. Additionaly to some internal modifications it features, like all versions 4, a working single shot mode for torpedoes (sense switch 3). The code is run from a binary paper tape image (<a href="http://textfiles.com/bitsavers/bits/DEC/pdp1/papertapeImages/20040106/russell2/" target="_blank" title="Archive of Steve Russell's box #2 at textfiles.com">spacewar4.2a_sa4.bin</a>) provided by Steve Russell via <a href="http://bitsavers.org/" target="_blank">bitsavers.org</a>.<br>A visually distinctive detail of versions 4.x (4.1 and later) is the <em>"Sun"</em> (heavy star), now drawn by a dashed line like the rocket blasts, thus separating it visually a bit more from the starships (see the <a href="https://www.masswerk.at/spacewar/fullscreen.html#version=4.2a" title="Full-scale version of Spacewar! 4.2 emulated in HTML5/Javascript">high-res/full-scale version</a> for a close-up view.) Also, two ships colliding in free fall in the center will explode at the <em>"antipode"</em> rather than at the center as with earlier versions of the game.</li>

		<li id="spacewar4.3"><strong onclick="selectSpacewarModule('spacewar4.3');" data-title="Click to select this program."><span></span>Spacewar! 4.3</strong> <span>(17 May 1963)</span><br>This is a version by Monty Preonas (signing <em>"ddp"</em>), who also provided the adaptations for the automatic hardware multiply/divide option and the new gravity computations used by all flavors of Spacewar! 4 in his version 4.0 <em>(2 Feb 1962)</em> earlier.<br>
		Spacewar! 4.3 features, like Monty Preonas' flavor of version 4.2 and version 4.4 (also signed <em>"ddp",</em> but presumably by Joe Morris), a special <strong>on-screen score display</strong>, very much like the one of the 4.8-scorer-patch (see the note on scores below). Like all versions by Monty Preonas, it usues an implementation of the background starfield alike the one of Spacewar! 2B.<br>
		The game features a special <strong>Twin Star mode</strong> to be engaged by sense-switch 2 (accessible by the <em>options menu</em> <img src="https://www.masswerk.at/spacewar/images/menubutton_small.png" width="20" height="16" alt="options menu icon" title="options menu icon"> at the top right corner of the screen). This visually distorted mode puts the <em>Needle</em> in the center of the screen in between a doubled sun and draws any other objects relatively to this ship. Moreover, some items are drawn at a double offset and torpedoes are displaced for real, resulting in a quite vexing game play. This mode was probably initially intended as an <em>ego view</em> from the <em>Needle's</em> perspective and left <em>as-is</em> as an amazing novelty. (Compare "Spacewar! 2015" below.)<br>
		<span></span>The program, dated <em>"5/17/63",</em> was newly assembled from source code provided in the assorted listings available at <a href="http://www.computerhistory.org/collections/catalog/102664173" target="_blank" title="'Stars by prs for s/w 2b', CHM, catalog no. 102664173">CHM catalog no. 102664173</a> (which apparently came from Joe Morris, compare <cite><a href="https://groups.google.com/d/msg/alt.sys.pdp10/cNG89mmlbK0/V0JPyn3Mg7sJ" target="_blank">Joe Morris, alt.sys.pdp10, Jannuary 6, 2005</a></cite>).</li>

		<li id="spacewar4.8"><strong onclick="selectSpacewarModule('spacewar4.8');" data-title="Click to select this program."><span></span>Spacewar! 4.8</strong> <span>(24 Jul 1963)</span><br>Apparently the final version of MIT-Spacewar!, dated <em>"7/24/63"</em> and signed <em>"dfw"</em>. A patch for a special <strong>on-screen scorer</strong> is available for this version (see the note on scoring below).<br>
		The game was newly assembled including the dedicated scorer patch. Sources <em>("spacewar4.8part1_engl.txt", "spacewar4.8part2_engl.txt", and "spacewar4.8_scorer.txt")</em> are available at <a href="http://textfiles.com/bitsavers/bits/DEC/pdp1/papertapeImages/20040817/" target="_blank" title="Spacewar 4.8! sources and sorer-patch at textfiles.com">textfiles.com</a> and <a href="http://bitsavers.org/" target="_blank">bitsavers.org</a>.</li>

		<li id="spacewar4.1hafb"><strong onclick="selectSpacewarModule('spacewar4.1hafb');" data-title="Click to select this program."><span></span>Spacewar! 4.1 Holloman Air Force Base Version</strong><br>This is a reconstruction of a version of PDP-1 Spacewar! as seen at the Holloman Air Force Base (New Mexico) and described by John W. Andrews in December 1966 for "The Gamesman" (<a href="https://archive.org/details/The_Gamesman_4-1967-12/page/n31" target="_blank" title="Archived copy of The Gamesman, issue 4, Dec. 1967 (archive.org)">The Gamesman, Issue 4, Dec 1967, pp 30-32</a>). Altered starting positions are probably the most interesting feature of this version. (Controls have been swapped accordingly to accommodate for this.)<br>
		<span></span><img src="https://www.masswerk.at/spacewar/images/holloman-afb-spacewar.png" alt="Starting positions in Holloman Air Force Base Spacewar." width="338" height="339" onclick="showEmbeddedImage('images/holloman-afb-spacewar_solid.png', 338, 339);return false;">These are the changes as applied ‚Ä¶</li></ul></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.masswerk.at/spacewar/">https://www.masswerk.at/spacewar/</a></em></p>]]>
            </description>
            <link>https://www.masswerk.at/spacewar/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25481278</guid>
            <pubDate>Sat, 19 Dec 2020 21:16:23 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Flicker ‚Äì A Spherical Volumetric Display]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25481273">thread link</a>) | @unwind
<br/>
December 19, 2020 | https://danfoisy.github.io/flicker/ | <a href="https://web.archive.org/web/*/https://danfoisy.github.io/flicker/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        <p><img src="https://danfoisy.github.io/flicker/images/flicker.gif" alt="gif"></p>
<h3 id="link-to-github-repo-with-all-the-files"><a href="https://github.com/danfoisy/flicker" target="_blank">Link to github repo with all the files</a></h3>

<h2 id="introduction">Introduction</h2>

<p>I‚Äôve always been fascinated with 3D graphics and volumetric displays - I spent a good chunk of my high school years building tools to draw and animate 3D models, in <a href="https://www.cloudwisp.com/blog/exploring-visual-basic-1-for-ms-dos">Visual Basic for DOS</a> no less (this was the early ‚Äô90s!).  I even skipped my high school prom to go and compete in a software development competition with one of my tools (which I won, though I don‚Äôt think my girlfriend of the time appreciated that :) )</p>

<p>
  <iframe src="https://www.youtube.com/embed/NmsA6GMSGeg" width="700" height="480" frameborder="0" allowfullscreen="">
  </iframe>
</p>

<h5 id="obligatory-shaky-cam-footage---will-update-if-anyone-is-at-all-interested-in-this"><em>Obligatory shaky-cam footage - will update if anyone is at all interested in this</em></h5>
<p>I‚Äôm writing this retrospectively, almost a year after I completed this project. I‚Äôm not a writer by inclination and I‚Äôm not sure who will want to read this but I feel that I need to contribute back to the ‚Äúcommunity‚Äù - if this helps someone in their project, I‚Äôll sure it will be worth the effort.</p>

<p>I ran across the <a href="https://www.kickstarter.com/projects/205276705/globe-a-spherical-persistence-of-vision-display">Globe</a> project a couple of years ago and it got me thinking about how I might build something similar.  My day job involves a lot of cloud based app development (well, a lot of meetings about cloud based app dev, not so much hands-on coding anymore) and I‚Äôm always looking for interesting projects that will help me maintain my embedded development skills, where my passion lies.  This project seemed challenging enough that I wasn‚Äôt quite sure about the intricacies of how to build this - but it was obviously possible as someone had done it.  I had an advantage over the Globe project - I just had to build a one-off and not worry about building for reliability and durability (and cost and shipping and‚Ä¶ well you get the idea).  Does this project have any end-use?  As a wise person once said, it‚Äôs not the destination, it‚Äôs the journey :)</p>

<p><img src="https://danfoisy.github.io/flicker/images/globe.jpg" alt="globe"></p>

<p>What follows is a break-down of the various parts of the project.  It took about 8 months to design, learn and build, sometimes only working an hour or two a week, as time and life allowed.  I don‚Äôt have enough pictures of the build process but hopefully there‚Äôs enough here to be of use to someone.</p>

<h2 id="high-level-breakdown">High Level Breakdown</h2>
<p><a href="https://danfoisy.github.io/flicker/images/flicker.png"><img src="https://danfoisy.github.io/flicker/images/flicker_sm.png" alt="flicker"></a></p>

<p>The goal of <strong>Flicker</strong> is to display images on a spherical surface - a great application of this is to display an animation of the map of Earth.  It‚Äôs essentially a circular PCB with LEDs mounted on its periphery that is spun at about 15 revolutions per second - by turning on specific LEDs at the right time during each revolution, you can essentially draw in mid-air using the <a href="https://en.wikipedia.org/wiki/Persistence_of_vision">Persistence of Vision</a> effect.  Probably the biggest challenge of this project is determining where the PCB is during each instance in its revolution - any jitter in angular position tracking translates directly into jitter in the image, which your eye is quick to pick up on.  The other challenge is getting data from an image source and getting a bunch of LEDs to turn on fast enough that you can get some sort of decent resolution.  This translates to a few requirements:</p>
<ul>
  <li>decent resolution: I was shooting for 256 pixels by 512 ‚Äúslices‚Äù of the sphere. Didn‚Äôt quite meet the first goal (at least not the intention) but exceeded the second goal</li>
  <li>multiple shades of color (greatly exceed this goal)</li>
  <li>15 RPS (check)</li>
  <li>should be able to show animations (yup)</li>
  <li>reasonable cost (all other bills kept getting paid, kids were fed, etc‚Ä¶ :-) )</li>
</ul>

<p><img src="https://danfoisy.github.io/flicker/images/image1.png" alt="sample image"></p>

<p>As an aside, let‚Äôs talk about resolution.  The PCB has a number of LEDs around its edge and that defines one aspect of resolution that can‚Äôt be changed - in this case, it‚Äôs 256 pixels.  Then, as the PCB spins, you can take an angular slice of the space that the LEDs sweep through the air - the angular resolution.  The angular resolution is a function of how well you can determine the PCB‚Äôs angular position and your ability to turn the LEDs on and off quickly.  To put some numbers on this. If you assume:</p>
<ul>
  <li>each LED needs 24 bits of color information</li>
  <li>there are 256 LEDs</li>
  <li>you‚Äôre spinning the PCB at 15 RPS</li>
  <li>you have 1024 angular slices per revolution</li>
</ul>

<p>you end up having to push about 94Mbits per second around on the board.  That‚Äôs not a huge number and definitely doable.</p>

<p><img src="https://danfoisy.github.io/flicker/images/image2.png" alt="sample image"></p>

<h5 id="in-the-image-above-you-can-see-the-green-led-from-a-raspberry-pi-inside-the-globe"><em>In the image above, you can see the green LED from a Raspberry Pi inside the globe.</em></h5>

<p>Let‚Äôs get into the individual sub-systems.</p>

<h2 id="mechanical-breakdown">Mechanical Breakdown</h2>
<p><img src="https://danfoisy.github.io/flicker/images/mech_overview.png" alt="Mechnical overview"></p>

<p>The mechanical system for Flicker is pretty simple.  There‚Äôs a brushed motor driving a shaft, which has the PCB mounted on it.  The motor is driven by a small Arduino and motor driver board - the Arduino measures the motor speed using a magnet and hall-effect switch.  The motor drives the shaft using a 3:1 belt and pulley reduction system.  There‚Äôs nothing really critical about the motor system - not a lot of thought was put there and it‚Äôs definitely oversized (but again, this isn‚Äôt for production.)</p>

<p>You might notice that the LED PCB is kind of swinging out there all alone - how does it get power or talk to anything?  Well, the board is almost completely self-contained (we‚Äôll get to that soon) - it only needs power.  The board gets its power through wires fed through a hollow 16mm OD shaft, via a slip-ring.  It took a while to find a slip-ring that would work at these speeds (900 RPM) - I think this one is rated at 600RPM.  I‚Äôm not too worried about it as I‚Äôm only pushing power through it (12V), not any communications lines.  It has 12 lines total so I‚Äôm using half of those lines for each of power and ground.  I probably won‚Äôt get the full rated life-time out this slip-ring but again, not for production :)</p>

<p><img src="https://danfoisy.github.io/flicker/images/mech_details1.png" alt="Mechnical details"></p>

<p>A little metal shaft collar mounts to the shaft using a couple of grub screws.  A 3D printed PCB mount is bolted to the shaft collar.  The bottom half of the shaft collar is also hollow to allow the power wires to exit out of the shaft.</p>

<p><img src="https://danfoisy.github.io/flicker/images/sensor_mount.png" alt="Sensor mount"></p>

<p>I had initially decided to use a hall effect sensor mounted to the PCB and a magnet fixed to the structure to determine the speed of rotation of the shaft for the electronics, as well as a ‚Äúhome‚Äù or front position.  This worked poorly - it turns out the motor shaft speed wasn‚Äôt constant during its entire revolution, something I never expected.  This caused jitter in the image.</p>

<p><img src="https://danfoisy.github.io/flicker/images/jitter.jpg" alt="Jitter"></p>

<p>In the timelapse picture above, Flicker is displaying what should be equidistant green lines, with a red line indicating the home position.  The board is spinning counter-clockwise.  You can see that the lines are initially positioned properly but as time elapses, there is more and more jitter in the angular position of the green lines.</p>

<p>I tried detecting multiple magnets so I could get a better estimate of speed at multiple points in the shaft‚Äôs revolution but it also seemed that the hall sensor had some timing jitter.  I ended up scrapping this arrangement and using a slot based photo-interrupter system that turned out to be accurate enough for this project.  By measuring the time it takes for the photo sensor to change state (I measure both edges), I get a good enough instantaneous speed estimation.  The sensor mount component is a bit bigger than I wanted but since I have no way of machining metal (and thus adding a threaded hole), I can‚Äôt use grub screws (maybe a helicoil would work? but I don‚Äôt have any on hand).  It works, but I would love to have a small lathe and milling machine for this kind of part (don‚Äôt get me wrong, I love my 3D printer!)</p>

<p><img src="https://danfoisy.github.io/flicker/images/balance_stand.png" alt="Balance stand"></p>

<p>You may have driven a car with a wheel that was slightly out of balance - even a few grams of imbalance can cause large vibrations in a mutli-ton vehicle.  Here we have a PCB spinning at 15 revolutions per second - fast enough that small imbalances will cause the entire machine to shake itself apart.  Knowing that, I took a cue from the balancing jigs drone builders use to balance their props and built something similar.  Once the board is fully populated, I can clamp it in a custom designed PCB holder.  The holder has a couple of sharp screws pointing out each end - those screws are attracted to magnets in the balance stand and make good bearings.  Once in the jig, I can spin the board around, adding weights to ensure that it‚Äôs balanced well enough.  It‚Äôs not perfect but it does the job (did I mention that this is a one-off?)  The weights are currently just hot-glued to the PCB but I do have a nice little 3D printed weight-holder to install at some point.</p>

<h2 id="electrical-breakdown">Electrical Breakdown</h2>

<p><img src="https://danfoisy.github.io/flicker/images/electrical_overview.png" alt="Electrical overview"></p>

<p>The electronics have three main tasks to do:</p>
<ol>
  <li>Decode an image from the HDMI port and save it in memory</li>
  <li>Figure out the angular position of the PCB</li>
  <li>Send the right slice of image data to the LED drivers at the right time</li>
</ol>

<p>There‚Äôs a lot going on concurrently.  Could I do this in a microcontroller?  Maybe one with good DMA capabilities and a relatively high clock speed but I have my doubts (and I‚Äôm not looking to be thaaaat challenged :) )  I think this is a great use for an FPGA and that‚Äôs what I chose to use.</p>

<p>Here‚Äôs a <a href="https://danfoisy.github.io/flicker/images/schematics.pdf" target="_blank">link to the schematics in PDF form</a></p>


<p><a href="https://danfoisy.github.io/flicker/images/schematics.pdf#page=2"><img src="https://danfoisy.github.io/flicker/images/sch_fpga.png" alt="FPGA schematics"></a></p>

<p>After refreshing myself on the world of FPGAs, I chose an Altera (or Intel I guess now) <a href="https://www.intel.ca/content/www/ca/en/products/programmable/fpga/cyclone-10.html">Cyclone 10 LP</a> to drive this project.  It‚Äôs relatively cheap and hobbyist friendly (comes in a TQFP package), has enough IO pins, good docs, free (enough) dev tooling, etc.  I‚Äôll go over the FPGA code shortly but I did spend some time prototyping the code in <a href="https://www.intel.com/content/www/us/en/software/programmable/quartus-prime/overview.html">Quartus</a> to make sure I‚Äôd have enough resources in the FPGA for what I wanted to do (I did and lots of space to spare).  I also did some pin planning, again to make sure I had enough resources on chip.  Note that I also incorporated a configuration EEPROM to save the FPGA ‚Äúprogram‚Äù on-board, as well as JTAG to program both the FPGA and the config device, as well as to provide real-time debugging capabilities (super useful!)</p>


<p><a href="https://danfoisy.github.io/flicker/images/schematics.pdf#page=3"><img src="https://danfoisy.github.io/flicker/images/sch_ram.png" alt="SDRAM"></a></p>

<p>I‚Äôm not going to say much about the RAM but suffice to say that it‚Äôs a <a href="https://media-www.micron.com/-/media/client/global/documents/products/data-sheet/dram/256mb_sdr.pdf?rev=04b1a709222e4fa4911891d6cc573b11">MT48LC16M16A2</a> SDR SDRAM configured as 4M x 16bit x 4 banks, with all the genius/evilness that goes along with dynamic RAM (seriously, who ever imagined that memory that forgets everything every few milliseconds was a good idea?!?)</p>


<p><a href="https://danfoisy.github.io/flicker/images/schematics.pdf#page=4"><img src="https://danfoisy.github.io/flicker/images/sch_hdmi.png" alt="HDMI schematics"></a></p>

<p>The DVI decoder is pretty standard (HDMI and DVI use the same basic <a href="https://www.cablestogo.com/learning/library/digital-signage/intro-to-tmds">signaling standard</a>).  A <a href="https://www.ti.com/product/TFP401">TFP401</a> takes care of ‚Ä¶</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://danfoisy.github.io/flicker/">https://danfoisy.github.io/flicker/</a></em></p>]]>
            </description>
            <link>https://danfoisy.github.io/flicker/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25481273</guid>
            <pubDate>Sat, 19 Dec 2020 21:16:03 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Consistent Video Depth Estimation]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25481194">thread link</a>) | @tosh
<br/>
December 19, 2020 | https://roxanneluo.github.io/Consistent-Video-Depth-Estimation/ | <a href="https://web.archive.org/web/*/https://roxanneluo.github.io/Consistent-Video-Depth-Estimation/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section id="BibTeX">
      <div>
        <div>
          <div>
            <h2>BibTeX</h2>
              <pre><code>@article{Luo-VideoDepth-2020,
  author    = {Luo, Xuan and Huang, Jia{-}Bin and Szeliski, Richard and Matzen, Kevin and Kopf, Johannes},
  title     = {Consistent Video Depth Estimation},
  booktitle = {ACM Transactions on Graphics (Proceedings of ACM SIGGRAPH)},
  publisher = {ACM},
  volume = {39},
  number = {4},
  year = {2020}
}</code></pre>
          </div>
        </div>
      </div>
    </section></div>]]>
            </description>
            <link>https://roxanneluo.github.io/Consistent-Video-Depth-Estimation/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25481194</guid>
            <pubDate>Sat, 19 Dec 2020 21:05:29 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[ZimaBoard ‚Äì A $70 Single Board Home Server]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 2 (<a href="https://news.ycombinator.com/item?id=25481167">thread link</a>) | @ColinWright
<br/>
December 19, 2020 | https://blog.jmdawson.co.uk/zimaboard-a-70-single-board-home-server/ | <a href="https://web.archive.org/web/*/https://blog.jmdawson.co.uk/zimaboard-a-70-single-board-home-server/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://blog.jmdawson.co.uk/zimaboard-a-70-single-board-home-server/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25481167</guid>
            <pubDate>Sat, 19 Dec 2020 21:01:54 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Sacklers‚Äô group chat of pain]]>
            </title>
            <description>
<![CDATA[
Score 9 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25480811">thread link</a>) | @DanBC
<br/>
December 19, 2020 | https://the.ink/p/sacklers | <a href="https://web.archive.org/web/*/https://the.ink/p/sacklers">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><em>Welcome to The.Ink, my newsletter about money and power, politics and culture. If you‚Äôre joining us for the first time, hello! Click the orange button below to get this in your inbox, free. Please consider becoming a paid subscriber to support this work.</em></p><div><figure><a target="_blank" href="https://cdn.substack.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F33eaf6dc-2dbc-400c-919c-d497823cef13_2346x728.png"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F33eaf6dc-2dbc-400c-919c-d497823cef13_2346x728.png" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/33eaf6dc-2dbc-400c-919c-d497823cef13_2346x728.png&quot;,&quot;height&quot;:452,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:122105,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null}" alt=""></a></figure></div><p>For years, as an opioid crisis ravaged America, the Sackler family, which founded Purdue Pharma, the company that made OxyContin, remained largely out of the public eye, free <a href="https://www.forbes.com/sites/angelauyeung/2020/12/17/despite-years-of-litigation-the-sackler-family-behind-oxycontin-is-still-worth-billions/?sh=26a512645047">to accumulate billions of dollars of wealth in tranquility</a>. But in recent years, the walls began to close in, as the press and regulators and lawyers and state attorneys general began to investigate Purdue‚Äôs role in the epidemic. And as pressure rose, to whom did the Sacklers turn to vouch for them?</p><p>The museums that had taken their philanthropy.</p><p>The Ink has seen a tranche of the Sacklers‚Äô WhatsApp group chats as members of the family sought to cope with and strategize about their fall from grace and growing legal risk. They were quietly released as part of an ongoing bankruptcy proceeding, thanks to <a href="https://restructuring.primeclerk.com/purduepharma/Home-DownloadPDF?id1=MTEzMTYxMQ==&amp;id2=0">demands by multiple news organizations</a>. A source provided them to The Ink, which is the first publication to report on them. (To assist better-resourced follow-up reporting, The Ink will now offer to collaborate with larger news organizations.)</p><p>The messages show how, in the plutocratic echelons, it is assumed that philanthropic gifts made in sunny times can buy you public support from prestigious institutions on a rainy day. They show how a family that could no longer deny the scale of pain and death in the country tended to view the problem primarily through the prism of public relations, their anger concentrated on the difficulty of crafting statements, not curbing the hurt. And the messages show how a profound sense of victimhood descended on some members of the family, perhaps blinding them to the need to address the problem in the way one relative suggested: at a cost to their bottom line.</p><p>‚ÄúWe are the most vulnerable of the opponents (as we are a private family owned business) and in their view the easiest prey to get lots of money from!,‚Äù <a href="https://www.theguardian.com/us-news/2018/feb/13/meet-the-sacklers-the-family-feuding-over-blame-for-the-opioid-crisis">Mortimer Sackler</a>, son of a deceased family patriarch by the same name, texted the group in 2018, fretting about legal cases.</p><p>Two years later, the walls have closed in further. The Sacklers and Purdue are enmeshed in <a href="https://www.washingtonpost.com/national-security/2020/10/21/purdue-pharma-charges/">complex settlement negotiations</a> in cases from across the country, although they continue, <a href="https://www.nytimes.com/2020/12/17/health/opoids-sacklers-purdue-testimony.html">as The New York Times reported this week</a>, to refuse ‚Äúto be held personally or criminally responsible and to turn over substantial portions of their fortune.‚Äù On Thursday, they faced scathing criticism from lawmakers on Capitol Hill.</p><div><figure><a target="_blank" href="https://cdn.substack.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F2935287f-fbc5-4388-b927-518adea55695_600x600.jpeg"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F2935287f-fbc5-4388-b927-518adea55695_600x600.jpeg" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/2935287f-fbc5-4388-b927-518adea55695_600x600.jpeg&quot;,&quot;height&quot;:600,&quot;width&quot;:600,&quot;resizeWidth&quot;:48,&quot;bytes&quot;:71098,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/jpeg&quot;,&quot;href&quot;:null}" alt=""></a></figure></div><p>In one way, the WhatsApps revealed the Sackler family to be like you and me. They had the usual group-chat issues. When <a href="https://www.theguardian.com/us-news/2018/feb/13/meet-the-sacklers-the-family-feuding-over-blame-for-the-opioid-crisis">Mortimer</a> apparently wanted relatives to keep their discussions ‚Äúoff email‚Äù and on WhatsApp, it was tricky to get everyone on board.</p><p>‚ÄúI can‚Äôt, because Marissa is the admin of the group,‚Äù <a href="https://www.theguardian.com/us-news/2018/feb/13/meet-the-sacklers-the-family-feuding-over-blame-for-the-opioid-crisis">Michael Sackler</a>, a film producer and founder of Rooks Nest Ventures, texted. (The messages at times only list senders‚Äô first names, so The Ink has tried to match messages to names of family members.)</p><p>Someone else complained that their mother didn‚Äôt have WhatsApp. Marissa Sackler replied, ‚ÄúIf she can Instagram I‚Äôm pretty sure she can master what‚Äôs app.‚Äù <a href="https://www.crunchbase.com/person/marissa-sackler">Marissa is described on Crunchbase</a> as ‚Äúcontinuing the family tradition of philanthropy,‚Äù having started an incubator that assists ‚Äúemerging nonprofits.‚Äù</p><p>At times, their family struggles were mundane and logistical: ‚ÄúHi I would love to make a dinner happen Saturday. Want to do a casual dinner with my kiddos? Or were you thinking fancy adult thing?‚Äù wrote Jeffrey Lefcourt, a <a href="https://www.nytimes.com/2006/08/06/fashion/weddings/06hitchcock.html">family member</a> and <a href="https://ctrnyc.com/about/">proprietor</a> of the popular New York City restaurant brand The Smith.</p><div><figure><a target="_blank" href="https://cdn.substack.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F2935287f-fbc5-4388-b927-518adea55695_600x600.jpeg"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F2935287f-fbc5-4388-b927-518adea55695_600x600.jpeg" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/2935287f-fbc5-4388-b927-518adea55695_600x600.jpeg&quot;,&quot;height&quot;:600,&quot;width&quot;:600,&quot;resizeWidth&quot;:48,&quot;bytes&quot;:71098,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/jpeg&quot;,&quot;href&quot;:null}" alt=""></a></figure></div><p>But as pressure against the Sacklers ratcheted up, the texts turned serious. And the reflex for managing it came naturally: let‚Äôs hit up those to whom we‚Äôve given back.</p><p>For example, in November 2016, the Dia Art Foundation in New York had announced, according to <a href="https://www.artnews.com/art-news/news/dia-art-foundation-creates-sackler-institute-focused-on-programming-research-and-education-with-generous-gift-7226/">a report in ARTnews</a>, that ‚Äúfollowing a gift from the Dr. Mortimer and Theresa Sackler Foundation, it has created the Sackler Institute, which a release describes as ‚Äòa center without walls.‚Äô‚Äù In years past, the Sacklers had given similar gifts to the <a href="https://www.theguardian.com/artanddesign/2019/mar/21/tate-art-galleries-will-no-longer-accept-donations-from-the-sackler-family">Tate</a> group of British galleries, the <a href="https://www.theguardian.com/artanddesign/2019/jul/10/v-and-a-boss-tristram-hunt-sacklers-family-funding">Victoria and Albert Museum</a> in London, and <a href="https://www.newyorker.com/news/our-columnists/nan-goldin-leads-a-protest-at-the-guggenheim-against-the-sackler-family">the Guggenheim</a> and <a href="http://www.sackler.org/sackler-wing-the-metropolitan-museum-of-art-new-york-ny/">the Metropolitan Museum of Art</a> and <a href="https://www.amnh.org/exhibitions/permanent/human-origins/sackler-educational-laboratory">the American Museum of Natural History</a> in New York.</p><p>Well, to quote the title of <a href="https://www.versobooks.com/books/2344-no-such-thing-as-a-free-gift">a book by Linsey McGoey</a>, there is ‚Äúno such thing as a free gift.‚Äù</p><p>In late October 2017, Marissa Sackler texted the family: ‚ÄúI just spoke to head of communications at dia. They and many other art institutions plus bio medical schools have been reached out to by the New York Times. / Dia shares pr representation with the tate and a number of other art institutes who‚Äôve been contacted. They are all planning to give short positive statements about us being supporters of theirs. / They expect the article to come out in the next week.‚Äù</p><p>She was wrong only about timing. On December 1, 2017, <a href="https://www.nytimes.com/2017/12/01/arts/design/sackler-museum-donations-oxycontin-purdue-pharma.html">a report in The New York Times</a> showed how there is no silencer as effective as money. ‚ÄúThe New York Times surveyed 21 cultural organizations listed on tax forms as having received significant sums from foundations run by two Sackler brothers who led Purdue,‚Äù <a href="https://twitter.com/ColinRMoynihan">Colin Moynihan</a> wrote, adding: ‚ÄúNone indicated that they would return donations or refuse them in the future.‚Äù</p><p>Another message ‚Äî sent to the group chat by <a href="https://www.tatler.com/article/sackler-scandal">Samantha Sackler Hunt</a> ‚Äî suggested that emails sent by reporters to cultural institutions, asking about Sackler gifts, were being relayed back to the family, apparently via the public-relations firm Edelman:</p><blockquote><p>From Edelman</p><p>Hi all</p><p>I just wanted to keep you in the loop that a reporter from The Times (London) has also been emailing various cultural institutions that have benefitted from Sackler Family philanthropy. It seems as though she is doing a very similar exercise to the reporter from the New York Times that you have already been made aware of. Below is the request that got sent through to the V&amp;A. She appears to be sending versions of this to a number of others. From what I‚Äôve seen so far most are responding with the same types of generic statements they gave the New York Times and all appear supportive. Georgie Keate, the reporter in question, is a general home news reporter and joined The Times in 2014 as a graduate trainee so is still relatively junior. This could indicate that it may not be a large story for them or she may be doing the spade work for someone else. We will make Josie aware.</p><p>[The reporter <a href="https://twitter.com/georgiekeate">Georgie Keate</a>‚Äôs email supposedly begins here]</p><blockquote><p><em>I am doing a story on the Sackler family and their family fortune - which derives from the extremely controversial drug Oxycontin which their company Purdue Pharma is accused of marketing falsely by claiming it was safe and non-addictive. They have faced thousands of lawsuits and paid out tens of millions over the last decade over their aggressive marketing campaigns and refusal to take responsibility for the fact the drug is dangerous. Having been held to account in America, the family continue to push it in developing countries.</em></p><p><em>Obviously, the family has donated to scores of theatres, museums and colleges across the UK while keeping their connection to Purdue and Oxycontin completely secret.</em></p><p><em>Many people who are becoming aware of this are astonished and question whether the art world should be so heavily funded by a family who have been involved in such serious wrongdoing. Some have compared it to the 100s of notables who petitioned to have BP removed from the Tate. The V&amp;A is obviously one of these beneficiaries - would you be able to comment for an article?</em></p></blockquote></blockquote><p>Some months later, in March 2018, the family could continue to feel that museums were on their team. Mortimer WhatsApped the family: ‚ÄúJackie spoke with the Met this morning and they are going to stand by us.‚Äù</p><p>Referring to the protests led by the artist Nan Goldin that were moving public opinion against the Sacklers, Mortimer wrote: ‚ÄúBetter that the company use her protests as an opportunity to speak to the industry leading work they have been doing to combat prescription drug abuse. What we SHOULD do is make sure that the Guggenheim, AMNH, DIA, etc are not going to say something unhelpful. We should compile a list of organizations and decide who should speak with which.‚Äù</p><p><a href="https://www.theguardian.com/us-news/2018/feb/13/meet-the-sacklers-the-family-feuding-over-blame-for-the-opioid-crisis">Marissa Sackler</a> volunteered: ‚ÄúI speak regularly with dia on all of this and they fully support us and think Nan Goldin is crazy.‚Äù</p><p><a href="https://www.theguardian.com/us-news/2018/feb/13/meet-the-sacklers-the-family-feuding-over-blame-for-the-opioid-crisis">Ilene Sackler Lefcourt</a> chimed in: ‚ÄúI am reaching out to the AMNH through the chairman of the board‚Äôs best friend.‚Äù</p><p>Nevertheless, the following year, a growing number of institutions began to <a href="https://www.nytimes.com/2019/05/15/arts/design/met-museum-sackler-opioids.html">change their minds</a>, declaring that they would no longer take Sackler money and, in some cases, removing the Sackler name from their facilities. The institutions included the Met, the Guggenheim, the Tate Modern, the American Museum of Natural History, New York University, and Tufts.</p><p>When one of the announcements came, the first words about it in the group chat, from <a href="https://www.theguardian.com/us-news/2018/feb/13/meet-the-sacklers-the-family-feuding-over-blame-for-the-opioid-crisis">Sophie Sackler</a>, were: ‚ÄúDid anyone know this was happening?‚Äù</p><p>And alarm grew as even that most mercenary of sectors ‚Äî banking ‚Äî seemed to turn its back on Purdue. ‚ÄúDoes anyone know why <a href="https://www.reuters.com/article/us-purdue-pharma-jp-morgan-exclusive/exclusive-jpmorgan-cuts-ties-with-oxycontin-maker-purdue-pharma-sources-idUSKCN1ST2EA">JPM is not doing Purdue banking</a>?‚Äù Jeffrey Lefcourt texted the family on May 24, 2019, just days after <a href="https://www.nytimes.com/2019/05/15/arts/design/met-museum-sackler-opioids.html">a wave of museum disavowals</a>, apparently referring to the banking giant J.P. Morgan Chase. ‚ÄúWhat‚Äôs their reason? Any concern they will stop doing banking for family? Have any of you spoken to them?‚Äù</p><p>Mortimer responded: ‚ÄúThey told Purdue it was for ‚Äòreputation‚Äô reasons but that they were (so far) limiting it only to Purdue and not to the family.‚Äù</p><p>The timing suggests, though hardly proves, that the museums‚Äô abrupt reversal on support for the family coincided with problems closer to the core of their business operations. Which raises the question of whether the arts institutions‚Äô years of silence helped a machinery of death ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://the.ink/p/sacklers">https://the.ink/p/sacklers</a></em></p>]]>
            </description>
            <link>https://the.ink/p/sacklers</link>
            <guid isPermaLink="false">hacker-news-small-sites-25480811</guid>
            <pubDate>Sat, 19 Dec 2020 20:19:17 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Five reasons to use Pytest]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25480738">thread link</a>) | @kracekumar
<br/>
December 19, 2020 | https://kracekumar.com/post/five-reason-to-use-pytest/ | <a href="https://web.archive.org/web/*/https://kracekumar.com/post/five-reason-to-use-pytest/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article role="main">
        <p><a href="https://docs.pytest.org/">Pytest</a> library provides a better way to write tests, run the tests, and report the test results. This post is a comparison between the Python unit test standard library and pytest features and leaves out other libraries like nose2.</p>
<h3 id="tldr">TL;DR</h3>
<ul>
<li>Single assert statement(<code>assert a == b</code>) over 40 different assert methods(<code>self.assertEqual, self.assertIsInstance, self.assertDictEqual</code>)</li>
<li>Better and detailed error messages on failure.</li>
<li>Useful command line options for reporting, discovering, and reporting tests like <code>--last-failed</code>, <code>--collect-only</code>.</li>
<li>Pytest plugins for extending the pytest functionalities and modifying default behavior. <code>pytest-mon, pytest-clarity, pytest-cov</code></li>
<li>Pytest fixtures for seed data and implementation custom test behaviors</li>
</ul>

<p>Here is a sample unittest code</p>
<div><pre><code data-lang="python"><span>import</span> <span>unittest</span>


<span>class</span> <span>TestUnitTestShowCase</span><span>(</span><span>unittest</span><span>.</span><span>TestCase</span><span>):</span>
		<span>def</span> <span>test_equal</span><span>(</span><span>self</span><span>):</span>
				<span>v1</span> <span>=</span> <span>"start"</span>
				<span>v2</span> <span>=</span> <span>"start+"</span>

				<span>self</span><span>.</span><span>assertEqual</span><span>(</span><span>v1</span><span>,</span> <span>v2</span><span>)</span>

    <span>def</span> <span>test_dictionary</span><span>(</span><span>self</span><span>):</span>
        <span>rust</span> <span>=</span> <span>{</span><span>'name'</span><span>:</span> <span>'Rust'</span><span>,</span> <span>'released'</span><span>:</span> <span>2010</span><span>}</span>
        <span>python</span> <span>=</span> <span>{</span><span>'name'</span><span>:</span> <span>'Python'</span><span>,</span> <span>'released'</span><span>:</span> <span>1989</span><span>}</span>

        <span>self</span><span>.</span><span>assertDictEqual</span><span>(</span><span>rust</span><span>,</span> <span>python</span><span>)</span>

    <span>def</span> <span>test_list</span><span>(</span><span>self</span><span>):</span>
        <span>expected_genres</span> <span>=</span> <span>[</span><span>'Novel'</span><span>,</span> <span>'Literary Fiction'</span><span>]</span>
        <span>returned_genres</span> <span>=</span> <span>[</span><span>'Novel'</span><span>,</span> <span>'Popular Fiction'</span><span>]</span>

        <span>self</span><span>.</span><span>assertListEqual</span><span>(</span><span>expected_genres</span><span>,</span> <span>returned_genres</span><span>)</span>
</code></pre></div><p><code>TestCase</code> class supports 40 different assert methods(<a href="https://docs.python.org/3/library/unittest.html">https://docs.python.org/3/library/unittest.html</a>). <code>assertDictEqual</code> method for comparing the equality of two dictionaries, the <code>assertListEqual</code> method for comparing the equality of two lists, and the <code>assertEqual</code> method is a superset for all comparisons. It can act on two variables that implement an equality check. So it‚Äôs technically possible to use <code>assertEqual</code> over <code>assertDictEqual</code> and <code>assertListEqual</code>. It becomes quite daunting to remember which <code>assertMethod</code> to use. The one advantage of using special assert methods is they check the <code>arguments</code>' type before comparing the value. For example, <code>self.assertDictEqual("", "")</code> will fail because the first argument is not dictionary.</p>
<p>Pytest recommends using assert statement over any specialized function or method. Here is an example of pytest testcases.</p>
<div><pre><code data-lang="python"><span>def</span> <span>test_dictionary</span><span>():</span>
    <span>rust</span> <span>=</span> <span>{</span><span>'name'</span><span>:</span> <span>'Rust'</span><span>,</span> <span>'released'</span><span>:</span> <span>2010</span><span>}</span>
    <span>python</span> <span>=</span> <span>{</span><span>'name'</span><span>:</span> <span>'Python'</span><span>,</span> <span>'released'</span><span>:</span> <span>1989</span><span>}</span>

    <span>assert</span> <span>rust</span> <span>==</span> <span>python</span>

<span>def</span> <span>test_list</span><span>():</span>
    <span>expected_genres</span> <span>=</span> <span>[</span><span>'Novel'</span><span>,</span> <span>'Literary Fiction'</span><span>]</span>
    <span>returned_genres</span> <span>=</span> <span>[</span><span>'Novel'</span><span>,</span> <span>'Popular Fiction'</span><span>]</span>

    <span>assert</span> <span>expected_genres</span> <span>==</span> <span>returned_genres</span>
</code></pre></div><p>One assert statement can check all types of equality. It‚Äôs simple and easy to use and remember.</p>
<p>Pytest also supports executing the Tests inheriting <code>unittest.TestCase</code> with unit test assert methods or assert statements. You can write Pytest tests as a function.</p>

<p>Consider the unittest two tests. One which checks two dictionaries are equal and two data class instances are equal.</p>
<div><pre><code data-lang="python"><span>import</span> <span>unittest</span>

<span>from</span> <span>dataclasses</span> <span>import</span> <span>dataclass</span>

<span>@dataclass</span>
<span>class</span> <span>Book</span><span>:</span>
    <span>name</span><span>:</span> <span>str</span>
    <span>year</span><span>:</span> <span>int</span>
    <span>author</span><span>:</span> <span>str</span>


<span>class</span> <span>TestUnitTestShowCase</span><span>(</span><span>unittest</span><span>.</span><span>TestCase</span><span>):</span>
    <span>def</span> <span>test_assert_equal</span><span>(</span><span>self</span><span>):</span>
        <span>expected_json</span> <span>=</span> <span>{</span><span>'name'</span><span>:</span> <span>'Haruki Murakami'</span><span>,</span>
                         <span>'language'</span><span>:</span> <span>'Japanese'</span><span>,</span>
                         <span>'title'</span><span>:</span> <span>'Windup Bird Chronicle'</span><span>,</span>
                         <span>'year_of_release'</span><span>:</span> <span>1994</span><span>,</span>
                         <span>'page_count'</span><span>:</span> <span>607</span><span>,</span>
                         <span>'genres'</span><span>:</span> <span>[</span><span>'Novel'</span><span>,</span> <span>'Science Fiction'</span><span>,</span>
                                    <span>'Pyschological Fiction'</span><span>]}</span>
        <span>return_json</span> <span>=</span> <span>{</span><span>'name'</span><span>:</span> <span>'Haruki Murakami'</span><span>,</span>
                       <span>'language'</span><span>:</span> <span>'Japanese'</span><span>,</span>
                       <span>'title'</span><span>:</span> <span>'Kafka on the shore'</span><span>,</span>
                       <span>'year_of_release'</span><span>:</span> <span>2002</span><span>,</span>
                       <span>'page_count'</span><span>:</span> <span>505</span><span>,</span>
                       <span>'genres'</span><span>:</span> <span>[</span><span>'Novel'</span><span>,</span> <span>'Magical Realism'</span><span>,</span>
                                  <span>'Fantasy Fiction'</span><span>]}</span>

        <span>self</span><span>.</span><span>assertDictEqual</span><span>(</span><span>return_json</span><span>,</span> <span>expected_json</span><span>)</span>

    <span>def</span> <span>test_dataclass</span><span>(</span><span>self</span><span>):</span>
        <span>windup</span> <span>=</span> <span>Book</span><span>(</span><span>name</span><span>=</span><span>'Windup Bird Chronicle'</span><span>,</span> <span>year</span><span>=</span><span>1994</span><span>,</span>
                      <span>author</span><span>=</span><span>'Haruki Murakami'</span><span>)</span>
        <span>kafka</span> <span>=</span> <span>Book</span><span>(</span><span>name</span><span>=</span><span>'Kafka on the shore'</span><span>,</span> <span>year</span><span>=</span><span>2002</span><span>,</span>
                     <span>author</span><span>=</span><span>'Haruki Murakami'</span><span>)</span>

        <span>self</span><span>.</span><span>assertEqual</span><span>(</span><span>windup</span><span>,</span> <span>kafka</span><span>)</span>


<span>if</span> <span>__name__</span> <span>==</span> <span>"__main__"</span><span>:</span>
    <span>unittest</span><span>.</span><span>main</span><span>()</span>
</code></pre></div><p>Output</p>
<div><pre><code data-lang="python"><span>$</span><span>python</span> <span>test_unittest</span><span>.</span><span>py</span>
<span>FF</span>
<span>======================================================================</span>
<span>FAIL</span><span>:</span> <span>test_assert_equal</span> <span>(</span><span>__main__</span><span>.</span><span>TestUnitTestShowCase</span><span>)</span>
<span>----------------------------------------------------------------------</span>
<span>Traceback</span> <span>(</span><span>most</span> <span>recent</span> <span>call</span> <span>last</span><span>):</span>
  <span>File</span> <span>"test_unittest.py"</span><span>,</span> <span>line</span> <span>41</span><span>,</span> <span>in</span> <span>test_assert_equal</span>
    <span>self</span><span>.</span><span>assertDictEqual</span><span>(</span><span>return_json</span><span>,</span> <span>expected_json</span><span>)</span>
<span>AssertionError</span><span>:</span> <span>{</span><span>'nam[52 chars]e'</span><span>:</span> <span>'Kafka on the shore'</span><span>,</span> <span>'year_of_release'</span><span>:</span> <span>2</span><span>[</span><span>77</span> <span>chars</span><span>]</span><span>on</span><span>']} != {'</span><span>nam</span><span>[</span><span>52</span> <span>chars</span><span>]</span><span>e</span><span>': '</span><span>Windup</span> <span>Bird</span> <span>Chronicle</span><span>', '</span><span>year_of_release</span><span>'[86 chars]on'</span><span>]}</span>
<span>-</span> <span>{</span><span>'genres'</span><span>:</span> <span>[</span><span>'Novel'</span><span>,</span> <span>'Magical Realism'</span><span>,</span> <span>'Fantasy Fiction'</span><span>],</span>
<span>+</span> <span>{</span><span>'genres'</span><span>:</span> <span>[</span><span>'Novel'</span><span>,</span> <span>'Science Fiction'</span><span>,</span> <span>'Pyschological Fiction'</span><span>],</span>
   <span>'language'</span><span>:</span> <span>'Japanese'</span><span>,</span>
   <span>'name'</span><span>:</span> <span>'Haruki Murakami'</span><span>,</span>
<span>-</span>  <span>'page_count'</span><span>:</span> <span>505</span><span>,</span>
<span>?</span>                <span>^</span> <span>^</span>

<span>+</span>  <span>'page_count'</span><span>:</span> <span>607</span><span>,</span>
<span>?</span>                <span>^</span> <span>^</span>

<span>-</span>  <span>'title'</span><span>:</span> <span>'Kafka on the shore'</span><span>,</span>
<span>+</span>  <span>'title'</span><span>:</span> <span>'Windup Bird Chronicle'</span><span>,</span>
<span>-</span>  <span>'year_of_release'</span><span>:</span> <span>2002</span><span>}</span>
<span>?</span>                     <span>^^^^</span>

<span>+</span>  <span>'year_of_release'</span><span>:</span> <span>1994</span><span>}</span>
<span>?</span>                     <span>^^^^</span>


<span>======================================================================</span>
<span>FAIL</span><span>:</span> <span>test_dataclass</span> <span>(</span><span>__main__</span><span>.</span><span>TestUnitTestShowCase</span><span>)</span>
<span>----------------------------------------------------------------------</span>
<span>Traceback</span> <span>(</span><span>most</span> <span>recent</span> <span>call</span> <span>last</span><span>):</span>
  <span>File</span> <span>"test_unittest.py"</span><span>,</span> <span>line</span> <span>49</span><span>,</span> <span>in</span> <span>test_dataclass</span>
    <span>self</span><span>.</span><span>assertEqual</span><span>(</span><span>windup</span><span>,</span> <span>kafka</span><span>)</span>
<span>AssertionError</span><span>:</span> <span>Book</span><span>(</span><span>name</span><span>=</span><span>'Windup Bird Chronicle'</span><span>,</span> <span>year</span><span>=</span><span>1994</span><span>,</span> <span>author</span><span>=</span><span>'Haruki Murakami'</span><span>)</span> <span>!=</span> <span>Book</span><span>(</span><span>name</span><span>=</span><span>'Kafka on the shore'</span><span>,</span> <span>year</span><span>=</span><span>2002</span><span>,</span> <span>author</span><span>=</span><span>'Haruki Murakami'</span><span>)</span>

<span>----------------------------------------------------------------------</span>
<span>Ran</span> <span>2</span> <span>tests</span> <span>in</span> <span>0.002</span><span>s</span>

<span>FAILED</span> <span>(</span><span>failures</span><span>=</span><span>2</span><span>)</span>
</code></pre></div><p>The differing values on the first argument start with - minus sign and the second argument start with + sign.</p>
<p>When two dictionary values are different, the error message prints each key and value.
Even though the deviating values are printed, it‚Äôs not straightforward to grasp the unit test runner output errors.</p>
<p>When the diff gets longer, the unit test redacts the error message.
The behavior is painful when the test fails in the CI which takes a long time to run and rerun after changing the configuration.</p>
<p>Here is the modified <code>test_assert_equal</code>.</p>
<div><pre><code data-lang="python">    <span>def</span> <span>test_assert_equal</span><span>(</span><span>self</span><span>):</span>
        <span>expected_json</span> <span>=</span> <span>{</span><span>'name'</span><span>:</span> <span>'Haruki Murakami'</span><span>,</span>
                         <span>'language'</span><span>:</span> <span>'Japanese'</span><span>,</span>
                         <span>'title'</span><span>:</span> <span>'Windup Bird Chronicle'</span><span>,</span>
                         <span>'year_of_release'</span><span>:</span> <span>1994</span><span>,</span>
                         <span>'page_count'</span><span>:</span> <span>607</span><span>,</span>
                         <span>'genres'</span><span>:</span> <span>[</span><span>'Novel'</span><span>,</span> <span>'Science Fiction'</span><span>,</span>
                                    <span>'Pyschological Fiction'</span><span>],</span>
                         <span>'translations'</span><span>:</span> <span>{</span><span>'en'</span><span>:</span> <span>[</span><span>'Jay Rubin'</span><span>],</span>
                                          <span>'translators'</span><span>:</span> <span>{</span><span>'name'</span><span>:</span> <span>'Jay Rubin'</span><span>,</span>
                                                          <span>'location'</span><span>:</span> <span>'tokyo'</span><span>}}}</span>
        <span>return_json</span> <span>=</span> <span>{</span><span>'name'</span><span>:</span> <span>'Haruki Murakami'</span><span>,</span>
                       <span>'language'</span><span>:</span> <span>'Japanese'</span><span>,</span>
                       <span>'title'</span><span>:</span> <span>'Kafka on the shore'</span><span>,</span>
                       <span>'year_of_release'</span><span>:</span> <span>2002</span><span>,</span>
                       <span>'page_count'</span><span>:</span> <span>505</span><span>,</span>
                       <span>'genres'</span><span>:</span> <span>[</span><span>'Novel'</span><span>,</span> <span>'Magical Realism'</span><span>,</span>
                                  <span>'Fantasy Fiction'</span><span>],</span>
                       <span>'translations'</span><span>:</span> <span>{</span><span>'ta'</span><span>:</span> <span>[</span><span>'Nilavan'</span><span>]}}</span>

        <span>self</span><span>.</span><span>assertDictEqual</span><span>(</span><span>return_json</span><span>,</span> <span>expected_json</span><span>)</span>
</code></pre></div><p>Output</p>
<div><pre><code data-lang="python"><span>$</span><span>python</span> <span>test_unittest</span><span>.</span><span>py</span>
<span>FF</span>
<span>======================================================================</span>
<span>FAIL</span><span>:</span> <span>test_assert_equal</span> <span>(</span><span>__main__</span><span>.</span><span>TestUnitTestShowCase</span><span>)</span>
<span>----------------------------------------------------------------------</span>
<span>Traceback</span> <span>(</span><span>most</span> <span>recent</span> <span>call</span> <span>last</span><span>):</span>
  <span>File</span> <span>"test_unittest.py"</span><span>,</span> <span>line</span> <span>45</span><span>,</span> <span>in</span> <span>test_assert_equal</span>
    <span>self</span><span>.</span><span>assertDictEqual</span><span>(</span><span>return_json</span><span>,</span> <span>expected_json</span><span>)</span>
<span>AssertionError</span><span>:</span> <span>{</span><span>'nam[52 chars]e'</span><span>:</span> <span>'Kafka on the shore'</span><span>,</span> <span>'year_of_release'</span><span>:</span> <span>2</span><span>[</span><span>114</span> <span>chars</span><span>]</span><span>n</span><span>']}} != {'</span><span>nam</span><span>[</span><span>52</span> <span>chars</span><span>]</span><span>e</span><span>': '</span><span>Windup</span> <span>Bird</span> <span>Chronicle</span><span>', '</span><span>year_of_release</span><span>'[184 chars]o'</span><span>}}}</span>
<span>Diff</span> <span>is</span> <span>696</span> <span>characters</span> <span>long</span><span>.</span> <span>Set</span> <span>self</span><span>.</span><span>maxDiff</span> <span>to</span> <span>None</span> <span>to</span> <span>see</span> <span>it</span><span>.</span>
<span>...</span>
</code></pre></div><p>Output after setting <code>maxDiff=None</code></p>
<div><pre><code data-lang="python"><span>...</span>
<span>AssertionError</span><span>:</span> <span>{</span><span>'nam[52 chars]e'</span><span>:</span> <span>'Kafka on the shore'</span><span>,</span> <span>'year_of_release'</span><span>:</span> <span>2</span><span>[</span><span>114</span> <span>chars</span><span>]</span><span>n</span><span>']}} != {'</span><span>nam</span><span>[</span><span>52</span> <span>chars</span><span>]</span><span>e</span><span>': '</span><span>Windup</span> <span>Bird</span> <span>Chronicle</span><span>', '</span><span>year_of_release</span><span>'[184 chars]o'</span><span>}}}</span>
<span>-</span> <span>{</span><span>'genres'</span><span>:</span> <span>[</span><span>'Novel'</span><span>,</span> <span>'Magical Realism'</span><span>,</span> <span>'Fantasy Fiction'</span><span>],</span>
<span>+</span> <span>{</span><span>'genres'</span><span>:</span> <span>[</span><span>'Novel'</span><span>,</span> <span>'Science Fiction'</span><span>,</span> <span>'Pyschological Fiction'</span><span>],</span>
   <span>'language'</span><span>:</span> <span>'Japanese'</span><span>,</span>
   <span>'name'</span><span>:</span> <span>'Haruki Murakami'</span><span>,</span>
<span>-</span>  <span>'page_count'</span><span>:</span> <span>505</span><span>,</span>
<span>?</span>                <span>^</span> <span>^</span>

<span>+</span>  <span>'page_count'</span><span>:</span> <span>607</span><span>,</span>
<span>?</span>                <span>^</span> <span>^</span>

<span>-</span>  <span>'title'</span><span>:</span> <span>'Kafka on the shore'</span><span>,</span>
<span>+</span>  <span>'title'</span><span>:</span> <span>'Windup Bird Chronicle'</span><span>,</span>
<span>-</span>  <span>'translations'</span><span>:</span> <span>{</span><span>'ta'</span><span>:</span> <span>[</span><span>'Nilavan'</span><span>]},</span>
<span>?</span>                    <span>^^</span>     <span>^</span> <span>----</span>   <span>-</span>

<span>+</span>  <span>'translations'</span><span>:</span> <span>{</span><span>'en'</span><span>:</span> <span>[</span><span>'Jay Rubin'</span><span>],</span>
<span>?</span>                    <span>^^</span>     <span>^^^^^^^</span>

<span>+</span>                   <span>'translators'</span><span>:</span> <span>{</span><span>'location'</span><span>:</span> <span>'tokyo'</span><span>,</span> <span>'name'</span><span>:</span> <span>'Jay Rubin'</span><span>}},</span>
<span>-</span>  <span>'year_of_release'</span><span>:</span> <span>2002</span><span>}</span>
<span>?</span>                     <span>^^^^</span>

<span>+</span>  <span>'year_of_release'</span><span>:</span> <span>1994</span><span>}</span>
<span>?</span>                     <span>^^^^</span>

</code></pre></div><p>Now there is a new element translations inside the dictionary. Hence the error message is longer.
The <code>translators</code> details are missing in one of the dictionary and it‚Äôs hard to find out from the error message.</p>
<p>The second test test_dataclass failure message doesn‚Äôt say which of the attributes are different.</p>
<div><pre><code data-lang="python"><span>AssertionError</span><span>:</span> <span>Book</span><span>(</span><span>name</span><span>=</span><span>'Windup Bird Chronicle'</span><span>,</span> <span>year</span><span>=</span><span>1994</span><span>,</span> <span>author</span><span>=</span><span>'Haruki Murakami'</span><span>)</span>
<span>!=</span> <span>Book</span><span>(</span><span>name</span><span>=</span><span>'Kafka on the shore'</span><span>,</span> <span>year</span><span>=</span><span>2002</span><span>,</span> <span>author</span><span>=</span><span>'Haruki Murakami'</span><span>)</span>

</code></pre></div><p>It‚Äôs hard to figure out what attributes values are different when the data class contains 15 attributes.</p>
<p>On the other hand, pytest error messages are clear and explicitly states difference with differing verbose level.</p>
<p>Here is the same test case for running with Pytest.</p>
<div><pre><code data-lang="python"><span>from</span> <span>dataclasses</span> <span>import</span> <span>dataclass</span>

<span>@dataclass</span>
<span>class</span> <span>Book</span><span>:</span>
    <span>name</span><span>:</span> <span>str</span>
    <span>year</span><span>:</span> <span>int</span>
    <span>author</span><span>:</span> <span>str</span>


<span>def</span> <span>test_assert_equal</span><span>():</span>
    <span>expected_json</span> <span>=</span> <span>{</span><span>'name'</span><span>:</span> <span>'Haruki Murakami'</span><span>,</span>
                     <span>'language'</span><span>:</span> <span>'Japanese'</span><span>,</span>
                     <span>'title'</span><span>:</span> <span>'Windup Bird Chronicle'</span><span>,</span>
      ‚Ä¶</code></pre></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://kracekumar.com/post/five-reason-to-use-pytest/">https://kracekumar.com/post/five-reason-to-use-pytest/</a></em></p>]]>
            </description>
            <link>https://kracekumar.com/post/five-reason-to-use-pytest/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25480738</guid>
            <pubDate>Sat, 19 Dec 2020 20:10:17 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[‚ÄúNobody Uses Datastructures These Days ‚Äù ‚Äì A Candidate Told Me]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25480661">thread link</a>) | @vishnuharidas
<br/>
December 19, 2020 | https://iamvishnu.com/posts/nobody-uses-datastructures | <a href="https://web.archive.org/web/*/https://iamvishnu.com/posts/nobody-uses-datastructures">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <div>
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    <p>Recently I was interviewing a candidate having 6+ years of experience highlighting <strong>‚Äústrong knowledge in data structures, their operations, and algorithms‚Äù</strong> in the resume.</p>

<p>Me: ‚ÄúImagine that you are given the list of all 200 countries, and their properties like ISD codes, shortcodes, TLDs, etc. How will you store this in memory?‚Äù</p>

<p>The candidate: ‚ÄúI will use an ArrayList‚Äù</p>

<p>Me: ‚ÄúWhat about using a Map or HashMap?‚Äù</p>

<p>The candidate: ‚ÄúWhy using a Map? A list is enough. I never had to use a Map in my entire career of 6+ years‚Äù.</p>

<p>Me (astounded): ‚ÄúYour resume says that you are good at data structures. What are the data structures that you use in your day-to-day programming job?‚Äù</p>

<p>The candidate burst out laughing and replied: ‚ÄúNobody uses data structures these days. They are all just theories only!‚Äù</p>

<p>Me: ü§ê</p>


<p><a href="https://giphy.com/gifs/captain-facepalm-picard-XsUtdIeJ0MWMo">via GIPHY</a></p>

  </div>

</article>

      </div>
    </div></div>]]>
            </description>
            <link>https://iamvishnu.com/posts/nobody-uses-datastructures</link>
            <guid isPermaLink="false">hacker-news-small-sites-25480661</guid>
            <pubDate>Sat, 19 Dec 2020 20:01:05 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A faster quaternion-vector multiplication]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25480648">thread link</a>) | @da_big_ghey
<br/>
December 19, 2020 | https://blog.molecular-matters.com/2013/05/24/a-faster-quaternion-vector-multiplication/ | <a href="https://web.archive.org/web/*/https://blog.molecular-matters.com/2013/05/24/a-faster-quaternion-vector-multiplication/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-451">
	<!-- .entry-header -->

	<div>
		<p><span>Today‚Äôs post is only a small gem I accidentally came across while I was looking for something entirely different: a faster method of multiplying a quaternion by a vector.<span id="more-451"></span></span></p>
<p>I use quaternion-vector multiplication (rotating a vector by a quaternion) mostly in two places:</p>
<ul>
<li>When building the global pose of a skeleton from its local pose, as discussed in <a title="Adventures in data-oriented design ‚Äì Part 2: Hierarchical&nbsp;data" href="https://molecularmusings.wordpress.com/2013/02/22/adventures-in-data-oriented-design-part-2-hierarchical-data/">this blog post</a>.</li>
<li>In vertex shaders that are used with instanced rendering, so I only have to send one quaternion (float4) instead of a whole rotation matrix (float3x3).</li>
</ul>
<p>The canonical way of multiplying a quaternion <strong>q</strong> by a vector <strong>v</strong> is given by the following formula:</p>
<pre>v' = q * v * conjugate(q)</pre>
<p>where the vector <strong>v</strong> is being treated as a quaternion with <strong>w=0</strong>, so the above essentially boils down to two quaternion multiplications, which are a bit expensive.</p>
<p>Turns out there is a faster way, which is the following:</p>
<pre>t = 2 * cross(q.xyz, v)
v' = v + q.w * t + cross(q.xyz, t)</pre>
<p>The faster method comes courtesy of <a title="Fabian Giesen Blog" href="http://fgiesen.wordpress.com/">Fabian Giesen</a> (<a title="ryg's Homepage" href="http://www.farbrausch.de/~fg/">ryg of Farbrausch fame</a>), who posted this to the <a title="MollyRocket forum" href="http://mollyrocket.com/forums/viewtopic.php?t=833&amp;sid=3a84e00a70ccb046cfc87ac39881a3d0">MollyRocket forums</a> years ago. Another derivation, yielding the same result, can be found <a title="Quaternion-Vector multiplication derivation" href="http://gns.wikia.com/wiki/Quaternions">here</a>.</p>
<p>In my SSE2 code path, the new method is about 35% faster than the original.&nbsp;Enjoy, and don‚Äôt forget to share this gem with other people!</p>
			</div><!-- .entry-content -->

	<!-- .entry-meta -->
</article></div>]]>
            </description>
            <link>https://blog.molecular-matters.com/2013/05/24/a-faster-quaternion-vector-multiplication/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25480648</guid>
            <pubDate>Sat, 19 Dec 2020 19:59:43 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Sticky CSS Grid Items]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25480502">thread link</a>) | @indysigners
<br/>
December 19, 2020 | https://melanie-richards.com/blog/css-grid-sticky/ | <a href="https://web.archive.org/web/*/https://melanie-richards.com/blog/css-grid-sticky/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    


<article>

  <!-- TITLE + DATE -->
  

  <div>
    
      <p>If you‚Äôve ever tried to put a sticky item in a grid layout and watched the item scroll away with the rest of the content, you might have come to the conclusion that <code>position: sticky</code> doesn‚Äôt work with CSS Grid. Fear not! It <em>is</em> possible to get these two layout concepts working together. All you likely need is one more line of CSS.</p>
<h2>The Problem</h2>
<p>Let‚Äôs start with the root issue you‚Äôre likely running into, because it‚Äôs not always obvious at first why your grid item isn‚Äôt sticking.</p>
<p>Suppose we‚Äôre putting together a template layout for articles on various candies. We have our title in the left-hand column of a grid layout, and have set the title to be sticky:</p>
<pre><code>article {
  display: grid;
  grid-template-columns: 20em 1fr;
  grid-gap: 4em;
}

.title {
  position: sticky;
  top: 2rem;
}
</code></pre>
<p>Unfortunately, our title isn‚Äôt sticking to the top of the viewport, but instead scrolls away with the rest of the text:</p>
<p data-height="600" data-theme-id="dark" data-default-tab="result" data-user="somelaniesaid" data-slug-hash="ExyKBNR" data-pen-title="Blog post &amp;gt; grid + sticky &amp;gt; demo 1">
  <span>See the Pen <a href="https://codepen.io/somelaniesaid/pen/ExyKBNR">
  Blog post &gt; grid + sticky &gt; demo 1</a> by Melanie Richards (<a href="https://codepen.io/somelaniesaid">@somelaniesaid</a>)
  on <a href="https://codepen.io/">CodePen</a>.</span>
</p>


<p>If we throw a border on our sticky title (or use a <a href="https://docs.microsoft.com/en-us/microsoft-edge/devtools-guide-chromium/css/grid">CSS Grid inspector</a>), our root issue becomes more obvious:</p>
<p data-height="600" data-theme-id="dark" data-default-tab="result" data-user="somelaniesaid" data-slug-hash="RwRazxw" data-pen-title="Blog post &amp;gt; grid + sticky &amp;gt; demo 2">
  <span>See the Pen <a href="https://codepen.io/somelaniesaid/pen/RwRazxw">
  Blog post &gt; grid + sticky &gt; demo 2</a> by Melanie Richards (<a href="https://codepen.io/somelaniesaid">@somelaniesaid</a>)
  on <a href="https://codepen.io/">CodePen</a>.</span>
</p>
<p>The CSS Grid item sizing algorithm has effectively sized the grid item (our sticky title) to fill the height of the grid slot it has been placed in. We don‚Äôt see any sticky effects because its computed height is the same as the content in the grid slot beside it.</p>
<h3>Nitty gritty details on sizing</h3>
<p><em>Things are about to get nerdy, skip to <a href="#how-to-fix-it">‚ÄúHow to fix it‚Äù</a> if you just want the solution!</em></p>
<p>Because we didn‚Äôt use any CSS properties that specify how to size our grid items (we will get to these in a minute!), CSS Grid defaulted to its <a href="https://www.w3.org/TR/css-grid-1/#grid-item-sizing">‚Äúnormal‚Äù sizing algorithm</a> when determining the sticky title‚Äôs size.</p>
<p>Our title, an <code>h1</code>‚Ä¶</p>
<ul>
<li>Is not a <a href="https://drafts.csswg.org/css-display/#replaced-element">replaced element</a>, such as an <code>img</code>, <code>video</code>, <code>embed</code>, <code>iframe</code>, etc. These have special sizing rules.</li>
<li>Does not have a ‚Äúpreferred aspect ratio‚Äù. Such an intrinsic aspect ratio can be set to particular elements by the user agent‚Äôs stylesheet, or by using the <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/aspect-ratio"><code>aspect-ratio</code> property</a>.</li>
</ul>
<p>‚Ä¶therefore, the algorithm fell back to a ‚Äústretch‚Äù sizing scheme. This basically ensures that the box‚Äôs size in this dimension is set to fill the layout container it‚Äôs in (to simplify, the grid slot).</p>
<h2>How to fix it</h2>
<p>One way to address this is to specify an extrinsic height dimension for our sticky title, e.g. <code>height: 10em</code>, <code>max-height: 50vh</code>, whatever. Specifying such a literal height for our content is hacky though‚Äîwe don‚Äôt want a specific height, we want the computed height to be just enough to accommodate the element‚Äôs contents. Instead we can change how this element is aligned to the grid slot.</p>
<p>We can specify one of the following:</p>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/align-self"><code>align-self</code></a>: this property, when specified on the sticky title, tells the element how to align itself to the block direction of the grid slot it‚Äôs in. <code>align-self: start</code> would work nicely in our example, as it will align the item to the ‚Äústart‚Äù edge of the grid slot (in this context, the top edge).</li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/align-items"><code>align-items</code></a>: this property, when specified on the <code>article</code> (our grid parent), tells each grid item how to align itself to the block direction of the grid slot it‚Äôs in.</li>
</ul>
<p>(Note: the <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/place-self"><code>place-self</code></a> and <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/place-self"><code>place-items</code></a> shorthands will also work; these handle both block and inline axes)</p>
<p>It might be nice to align the text baseline of our sticky title and the text baseline of our first paragraph. If we set <code>align-items: baseline;</code> on the <code>article</code>, that forces the CSS Grid sizing algorithm to use a ‚Äúfit-content‚Äù scheme. There‚Äôs some complexity there, but in our case, the algorithm used our grid item‚Äôs ‚Äúmax-content size‚Äù, or ‚Äúthe smallest size the box could take in that axis while still fitting around its contents‚Äù.</p>
<p>Because the sticky title is now sized according to its contents, we get the <code>position: sticky</code> behavior we‚Äôre after:</p>
<p data-height="600" data-theme-id="dark" data-default-tab="result" data-user="somelaniesaid" data-slug-hash="KKMzjZv" data-pen-title="Blog post &amp;gt; grid + sticky &amp;gt; demo 3">
  <span>See the Pen <a href="https://codepen.io/somelaniesaid/pen/KKMzjZv">
  Blog post &gt; grid + sticky &gt; demo 3</a> by Melanie Richards (<a href="https://codepen.io/somelaniesaid">@somelaniesaid</a>)
  on <a href="https://codepen.io/">CodePen</a>.</span>
</p>
<p>Our updated styles:</p>
<pre><code>article {
  display: grid;
  grid-template-columns: 20em 1fr;
  grid-gap: 4em;

  /* The new line we added! */
  align-items: baseline;
}

.title {
  position: sticky;
  top: 2rem;
}
</code></pre>
<p>And that‚Äôs it! Hope this helps you out of a <em>sticky</em> situation. üòè</p>
<h2>Additional resources</h2>
<ul>
<li><a href="https://www.w3.org/TR/css-grid-1/">CSS Grid specification</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/align-self"><code>align-self</code> on MDN</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/place-self"><code>place-self</code> on MDN</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/align-items"><code>align-items</code> on MDN</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/place-self"><code>place-items</code> on MDN</a></li>
</ul>

    
  </div>

</article>

<!-- WEBMENTIONS -->

  
  







<!-- PAGINATION -->



  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  
    
  






  </div></div>]]>
            </description>
            <link>https://melanie-richards.com/blog/css-grid-sticky/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25480502</guid>
            <pubDate>Sat, 19 Dec 2020 19:44:43 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Top Longevity Innovations of 2020]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25480380">thread link</a>) | @jagiammona
<br/>
December 19, 2020 | https://www.gowinglife.com/top-10-health-and-longevity-innovations-in-2020/ | <a href="https://web.archive.org/web/*/https://www.gowinglife.com/top-10-health-and-longevity-innovations-in-2020/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

              
        
<p>2020 was a historic year. It was a challenging year and a disappointing one for many people. This was all due to a novel virus, <a title="Severe acute respiratory syndrome" href="https://www.gowinglife.com/severe-acute-respiratory-syndrome/" data-id="http://data.wordlift.io/wl01945/entity/severe_acute_respiratory_syndrome;http://dbpedia.org/resource/Severe_acute_respiratory_syndrome;http://rdf.freebase.com/ns/m.01byzl">SARS</a>-CoV-2, but, unlike in the past, this year we also managed to study the <a rel="noreferrer noopener" href="https://www.sciencedirect.com/science/article/pii/S0092867420302622" target="_blank">structure</a> of the virus, find <a rel="noreferrer noopener" href="https://www.pharmaceutical-journal.com/news-and-analysis/features/everything-you-need-to-know-about-the-covid-19-therapy-trials/20208126.article" target="_blank">treatments for </a>it, and finally create <a rel="noreferrer noopener" href="https://www.raps.org/news-and-articles/news-articles/2020/3/covid-19-vaccine-tracker" target="_blank">vaccines against it</a>.</p>



<p>2020 has also been a landmark year for biotechnology. We witnessed Nobel prizes being awarded for the <a rel="noreferrer noopener" href="https://www.nobelprize.org/prizes/medicine/2020/press-release/" target="_blank">discovery and cure for hepatitis C</a>, as well as for <a rel="noreferrer noopener" href="https://www.nobelprize.org/prizes/chemistry/2020/press-release/" target="_blank">precision gene editing using </a><a href="https://www.gowinglife.com/crispr/" data-id="http://data.wordlift.io/wl01945/entity/crispr;http://dbpedia.org/resource/CRISPR;http://rdf.freebase.com/ns/m.06q4w3;http://yago-knowledge.org/resource/CRISPR">CRISPR</a>. In addition to these groundbreaking achievements, our research team has tracked major developments all through the year in longevity biotechnology and its progress in the rest of the world.&nbsp;</p>



<figure><img data-attachment-id="24197" data-permalink="https://www.gowinglife.com/top-10-health-and-longevity-innovations-in-2020/gowing-life-top-10-longevity-innovations-in-2020-2/" data-orig-file="https://i0.wp.com/www.gowinglife.com/wp-content/uploads/2020/12/Gowing-Life-Top-10-Longevity-Innovations-in-2020-2.png?fit=1280%2C720&amp;ssl=1" data-orig-size="1280,720" data-comments-opened="0" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Gowing-Life-Top-10-Longevity-Innovations-in-2020-2" data-image-description="" data-medium-file="https://i0.wp.com/www.gowinglife.com/wp-content/uploads/2020/12/Gowing-Life-Top-10-Longevity-Innovations-in-2020-2.png?fit=480%2C270&amp;ssl=1" data-large-file="https://i0.wp.com/www.gowinglife.com/wp-content/uploads/2020/12/Gowing-Life-Top-10-Longevity-Innovations-in-2020-2.png?fit=1280%2C720&amp;ssl=1" loading="lazy" width="1280" height="720" src="https://i0.wp.com/www.gowinglife.com/wp-content/uploads/2020/12/Gowing-Life-Top-10-Longevity-Innovations-in-2020-2.png?resize=1280%2C720&amp;ssl=1" alt="" srcset="https://i0.wp.com/www.gowinglife.com/wp-content/uploads/2020/12/Gowing-Life-Top-10-Longevity-Innovations-in-2020-2.png?w=1280&amp;ssl=1 1280w, https://i0.wp.com/www.gowinglife.com/wp-content/uploads/2020/12/Gowing-Life-Top-10-Longevity-Innovations-in-2020-2.png?resize=480%2C270&amp;ssl=1 480w, https://i0.wp.com/www.gowinglife.com/wp-content/uploads/2020/12/Gowing-Life-Top-10-Longevity-Innovations-in-2020-2.png?resize=1024%2C576&amp;ssl=1 1024w, https://i0.wp.com/www.gowinglife.com/wp-content/uploads/2020/12/Gowing-Life-Top-10-Longevity-Innovations-in-2020-2.png?resize=150%2C84&amp;ssl=1 150w, https://i0.wp.com/www.gowinglife.com/wp-content/uploads/2020/12/Gowing-Life-Top-10-Longevity-Innovations-in-2020-2.png?resize=1200%2C675&amp;ssl=1 1200w" sizes="(max-width: 1280px) 100vw, 1280px" data-recalc-dims="1"></figure>



<p>This article outlines our research by summarizing the top 10 innovations that will accelerate human health and longevity. These technologies, treatments, or diagnostics should enable humans to live longer and healthier lives, and/or differentiate the <a title="Biomarkers of aging" href="https://www.gowinglife.com/biomarkers-of-aging/" data-id="http://data.wordlift.io/wl01945/entity/biomarkers_of_aging;http://dbpedia.org/resource/Biomarkers_of_aging;http://rdf.freebase.com/ns/m.0hn8q7_">biological age</a> of an individual from their chronological age to better inform health decisions.&nbsp;</p>



<p>We have ranked these innovations according to their ability to improve and increase health and longevity in the largest number of people. We use the following four criteria to highlight the unique impacts of each of the 10 longevity innovations of 2020:</p>



<p><strong>Number of people impacted</strong>: The approximate total number of people who, within the next decade, are in a position to directly benefit from this innovation.</p>



<p><strong>Years of additional life (per person)</strong>: Our estimation of the number of years of life gained by individuals who stand to benefit most from this innovation.&nbsp;</p>



<p><strong>Technology</strong>: The technology or platform involved in this innovation.</p>



<p><strong>Specific trial, company, or product</strong>: The specific research, companies, or products that best exemplify this innovation.</p>



<hr>



<h2>10. Lab automation and Machine Learning for Early Detection and Drug Development</h2>



<figure><img data-attachment-id="24188" data-permalink="https://www.gowinglife.com/top-10-health-and-longevity-innovations-in-2020/image-10-10/" data-orig-file="https://i2.wp.com/www.gowinglife.com/wp-content/uploads/2020/12/image-10.png?fit=1789%2C900&amp;ssl=1" data-orig-size="1789,900" data-comments-opened="0" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="image-10" data-image-description="" data-medium-file="https://i2.wp.com/www.gowinglife.com/wp-content/uploads/2020/12/image-10.png?fit=480%2C241&amp;ssl=1" data-large-file="https://i2.wp.com/www.gowinglife.com/wp-content/uploads/2020/12/image-10.png?fit=1789%2C900&amp;ssl=1" loading="lazy" width="1789" height="900" src="https://i2.wp.com/www.gowinglife.com/wp-content/uploads/2020/12/image-10.png?resize=1789%2C900&amp;ssl=1" alt="" srcset="https://i2.wp.com/www.gowinglife.com/wp-content/uploads/2020/12/image-10.png?w=1789&amp;ssl=1 1789w, https://i2.wp.com/www.gowinglife.com/wp-content/uploads/2020/12/image-10.png?resize=480%2C241&amp;ssl=1 480w, https://i2.wp.com/www.gowinglife.com/wp-content/uploads/2020/12/image-10.png?resize=1024%2C515&amp;ssl=1 1024w, https://i2.wp.com/www.gowinglife.com/wp-content/uploads/2020/12/image-10.png?resize=1536%2C773&amp;ssl=1 1536w, https://i2.wp.com/www.gowinglife.com/wp-content/uploads/2020/12/image-10.png?resize=150%2C75&amp;ssl=1 150w" sizes="(max-width: 1789px) 100vw, 1789px" data-recalc-dims="1"><figcaption>Inside Strateos‚Äô Robotic Cloud Lab (<a href="https://www.youtube.com/watch?v=L1UgdoP2aeg" target="_blank" rel="noreferrer noopener">video</a>)</figcaption></figure>



<ul><li><strong>Number of people impacted:</strong> Humanity as a whole</li><li><strong>Years of additional life (per person): </strong>5 ‚Äì 15 years or more</li><li><strong>Technology: </strong>Automation and Machine Learning (ML)</li><li><strong>Specific company and trials:</strong> <a href="https://strateos.com/robotic-cloud-lab/">Strateos Robotic Cloud Lab</a>, <a rel="noreferrer noopener" href="https://deepmind.com/blog/article/alphafold-a-solution-to-a-50-year-old-grand-challenge-in-biology" target="_blank">DeepMind AlphaFold</a>, <a href="https://www.gowinglife.com/the-first-ai-developed-drug-is-set-to-proceed-to-clinical-trial/">First Clinical Trial of an AI-developed drug</a>, <a href="https://www.thelancet.com/journals/eclinm/article/PIIS2589-5370(20)30327-8/fulltext">Linguistic Markers Predict Onset of Alzheimer‚Äôs Disease</a></li></ul>



<p><strong>Why we think this is revolutionary:</strong></p>



<p>Automation and machine learning have begun and will continue to radically change the way science and medicine is conducted. On the one hand we are finally beginning to see the <a href="https://www.gowinglife.com/a-lab-run-by-robots-how-automation-and-ai-could-revolutionise-life-sciences/">automation of laboratory work</a>. Scientists currently spend a huge chunk of their time in the lab carrying out laborious tasks that require no scientific training. Automation of these tasks allows scientists to spend more time designing experiments and analysing results, while also improving experimental reliability and reproducibility to raise the quality of scientific research overall.</p>



<figure><img src="https://i1.wp.com/s3.amazonaws.com/prod-www-blackline-com/blog/wp-content/uploads/2019/01/29163118/A-Conversation-With-BlackLines-Machine-Learning-Experts.jpg?w=1920&amp;ssl=1" alt="A Conversation With BlackLine's Machine Learning Experts | BlackLine  Magazine" data-recalc-dims="1"></figure>



<p>On the other hand we have <a href="https://www.gowinglife.com/machine-learning/" data-id="http://data.wordlift.io/wl01945/entity/machine_learning;http://www.wikidata.org/entity/Q6723676">machine learning</a>. Machine learning has opened up entirely new opportunities in both research and clinical settings. It has allowed us to make huge strides in the prediction of 3D protein structures, exemplified this year by <a href="https://deepmind.com/blog/article/alphafold-a-solution-to-a-50-year-old-grand-challenge-in-biology" target="_blank" rel="noreferrer noopener">Google DeepMind‚Äôs AlphaFold</a> system. The sequence of amino acids from which a protein is made ultimately decides how it will fold into a three dimensional shape, which in turn determines its function. However, predicting protein shape computationally has been a massive challenge due to the immense number of possible ways a protein could fold. AlphaFold has largely overcome this challenge, enabling structure to be predicted with very respectable accuracy with its attention based neural network system. This has the potential to save a great deal of laboratory time and money, and will also open the door to new means of drug discovery.</p>



<p>The ability of machine learning to analyse vast datasets has already been used to <a href="https://www.gowinglife.com/for-the-first-time-an-artificial-intelligence-has-discovered-a-new-kind-of-antibiotic/">screen millions of molecular structures to identify new drugs</a>, some of which are <a href="https://www.gowinglife.com/the-first-ai-developed-drug-is-set-to-proceed-to-clinical-trial/">entering clinical trials</a>. Machine learning has been used to predict the development of diseases years before they are diagnosed, <a href="https://www.gowinglife.com/longevity-briefs-how-an-ai-predicts-alzheimers-disease-by-analysing-language/">often with more accuracy than current methods</a>. This has the potential to be hugely impactful as it can improve early detection, which is critical to the outcome of many age-associated diseases. Machine learning also brings the promise of personalised medicine closer, as it provides the means to leverage large datasets in order to tailor treatments on an individual basis.</p>



<hr>



<h2>9. Continuous Health Monitors</h2>



<figure><img loading="lazy" src="https://i2.wp.com/support.apple.com/library/content/dam/edam/applecare/images/en_US/applewatch/ios14-iphone11-pro-watchos7-series4-take-ecg-animation.gif?resize=427%2C735&amp;ssl=1" alt="Amazon Halo Wrist Band is Company's First Wearable Fitness Tracker -  Bloomberg" width="427" height="735" data-recalc-dims="1"><figcaption>Apple Watch ECG reading</figcaption></figure>



<ul><li><strong>Number of people impacted:</strong> 2 -3 billion</li><li><strong>Years of additional life (per person): </strong>5 ‚Äì 15 years</li><li><strong>Technology: </strong>Wearable devices</li><li><strong>Specific products:</strong> <a href="https://www.apple.com/uk/apple-watch-series-6/">Apple Watch Series 6</a>, <a href="https://www.samsung.com/uk/watches/galaxy-watch/galaxy-watch3-45mm-mystic-black-sm-r840nzkaeua/#benefits">Samsung Galaxy Watch 3</a>, <a href="https://www.amazon.com/Amazon-Halo-Fitness-And-Health-Band/dp/B07QK955LS">Amazon Halo wristband</a>, <a href="https://www.abbott.com/corpnewsroom/strategy-and-strength/freeStyle-libre-3-worlds-smallest-sensor-is-here.html">Freestyle Libre 3</a>‚Ä¶</li></ul>



<p><strong>Why we think this is revolutionary:</strong></p>



<p>We live in an unprecedented age of instant communication and information transfer. Despite this, most health monitoring does not leverage this technology, and relies instead on deliberate action by a patient. This means that often, by the time a health problem is detected, it is already serious enough to have caused a doctor‚Äôs visit. Wearable health monitoring devices have the power to solve this problem by allowing for the preventative healthcare that we have known we needed for decades. They also enable users to be more aware of how their lifestyle is affecting their health, which may aid them to avoid developing health conditions in the first place.&nbsp;</p>



<figure><img loading="lazy" src="https://i0.wp.com/venturebeat.com/wp-content/uploads/2020/04/galaxyheart.jpg?resize=607%2C304&amp;ssl=1" alt="Samsung Galaxy Watch 3 v Galaxy Watch: discover what's new" width="607" height="304" data-recalc-dims="1"><figcaption>Samsung Galaxy Watch measuring blood pressure</figcaption></figure>



<p><a href="https://www.apple.com/uk/apple-watch-series-6/">The Apple Watch Series 6</a> and the <a href="https://www.samsung.com/uk/watches/galaxy-watch/galaxy-watch3-45mm-mystic-black-sm-r840nzkaeua/#benefits">Samsung Galaxy Watch 3</a> released this year these watches can detect atrial fibrillation, falls, provide an electrocardiogram (ECG), and continuously monitor your resting heart rate, heart rate variability, blood oxygenation levels, and your sleep habits. The Samsung Galaxy Watch 3 can also measure your blood pressure. Launched this year, the <a href="https://www.amazon.com/Amazon-Halo-Fitness-And-Health-Band/dp/B07QK955LS">Amazon Halo wristband</a> is the first wearable device that attempts to decipher, measure, and provide feedback about emotions from daily conversations in real time.</p>



<figure><img src="https://i2.wp.com/static.seattletimes.com/wp-content/uploads/2020/08/amazon-halo-820c77fa-e8b1-11ea-bc79-834454439a44.jpg?w=1920&amp;ssl=1" alt="" data-recalc-dims="1"><figcaption>Amazon‚Äôs Halo uses microphones on its band to listen to snippets of conversation and analyze how it thinks you come across to others. (Courtesy of Amazon)</figcaption></figure>



<p>2020 has also seen improvements in glucose monitoring technology with <a href="https://www.abbott.com/corpnewsroom/strategy-and-strength/freeStyle-libre-3-worlds-smallest-sensor-is-here.html">Freestyle Libre 3</a>. These devices are now able to measure resting heart rate, heart rate variability, blood pressure, blood oxygen and many other important (and often less obvious) health readouts like time spent sitting per day. Better still, they are becoming increasingly affordable, and when combined with machine learning, could better the health of a vast number of people while fundamentally changing the way diseases are diagnosed.</p>



<hr>



<h2>8. Further Development of More Accurate Epigenetic Clocks</h2>



<figure><img src="https://i1.wp.com/www.whatisepigenetics.com/wp-content/uploads/2016/11/epigenetic-clock-678x289.jpg?resize=678%2C289&amp;ssl=1" alt="Epigenetic Clock Destines Some to Age Faster Regardless of Lifestyle | What  is Epigenetics?" data-recalc-dims="1"></figure>



<ul><li><strong>Number of people impacted:</strong> 5.8 billion</li><li><strong>Years of additional life (per person): </strong>2-16 years</li><li><strong>Technology: </strong>Epigenetic clock</li><li><strong>Specific trials:</strong> <a href="https://academic.oup.com/biomedgerontology/advance-article-abstract/doi/10.1093/gerona/glaa286/5992253">GrimAge</a>, <a href="https://academic.oup.com/brain/advance-article/doi/10.1093/brain/awaa334/5942151">Epigenetic clock for human cortex tissue</a>, <a href="https://onlinelibrary.wiley.com/doi/full/10.1111/acel.13229">Epigenetic ‚ÄòMeta-Clock‚Äô</a></li></ul>



<p><strong>Why we think this is revolutionary:</strong></p>



<p>Biological, or epigenetic, clocks are biochemical tests which can predict biological age based on <a href="https://www.gowinglife.com/dna-methylation/" data-id="http://data.wordlift.io/wl01945/entity/dna_methylation;http://dbpedia.org/resource/DNA_methylation;http://rdf.freebase.com/ns/m.049g7m">DNA methylation</a>. Epigenetic clocks represent a useful diagnostic tool, which can help to more accurately identify an individuals risk of developing an age-related chronic disease years before current detection methods. Through the development of specific clocks for particular tissue types, and the use of big data and machine learning techniques, over the course of 2020 the accuracy of these clocks have been progressively improved.&nbsp;</p>



<figure><img loading="lazy" src="https://i2.wp.com/www.labclinics.com/wp-content/uploads/2018/11/Metilaci%C3%B3n.png?resize=530%2C298&amp;ssl=1" alt="Role of DNA methylation in Disease | Labclinics" width="530" height="298" data-recalc-dims="1"><figcaption>Changes in DNA methylation patterns form the basis of epigenetic clocks</figcaption></figure>



<p>In almost all chronic diseases, the survival will depend on the disease stage at which the disease is diagnosed and treated. Individuals diagnosed in an earlier stage will tend to have longer survival than those diagnosed in a more advanced stage. Consequently, if an early detection program tends to diagnose individuals in an earlier stage, compared with the stage they would have been diagnosed by usual care, there could be a gain in survival resulting in a reduction in mortality. This is called stage shift and it is where epigenetic clocks, with their ability to predict risk of age-related chronic disease years before the symptoms occur, could have a huge impact on human longevity.</p>



<p>In <a href="https://www.ajmc.com/view/population-health-screenings-for-the-prevention-of-chronic-disease-progression">this particular study</a> early identification and appropriate medical care may delay 34 cases of end-stage kidney disease and prevent <a title="Diabetes mellitus" href="https://www.gowinglife.com/diabetes-mellitus/" data-id="http://data.wordlift.io/wl01945/entity/diabetes_mellitus;http://dbpedia.org/resource/Diabetes_mellitus;http://rdf.freebase.com/ns/m.0c58k">diabetes</a>-related complications, 210 cases of diabetes, and 3 cases of late-stage colorectal <a title="cancers" href="https://www.gowinglife.com/cancer/" data-id="http://data.wordlift.io/wl01945/entity/cancer;http://dbpedia.org/resource/Cancer;http://rdf.freebase.com/ns/m.0qcr0">cancer</a> over 5 years per 1000 cases identified.</p>



<hr>



<h2>7. Hyperbaric Oxygen Therapy</h2>



<div><figure><img src="https://i0.wp.com/www.thailandmedical.news/uploads/editor/files/PET-Scans-Shows-Hyperbaric-Oxygen-Therapy-Improves-Alzheimer-Disease-In-The-Aged.jpg?w=1920&amp;ssl=1" alt="PET Scans Shows Hyperbaric Oxygen Therapy Improves Alzheimer's Disease In  The Aged - Thailand Medical News" data-recalc-dims="1"><figcaption>Individual hyperbaric oxygen unit</figcaption></figure></div>



<ul><li><strong>Number of people impacted:</strong> 220 million</li><li><strong>Years of additional life (per person): </strong>2 ‚Äì 3.75 years</li><li><strong>Technology: </strong>Hyperbaric Oxygen Treatment</li><li><strong>Specific trial: </strong><a href="https://clinicaltrials.gov/ct2/show/NCT02790541">NCT02790541</a></li></ul>



<p><strong>Why we think this is revolutionary:</strong></p>



<p>Hyperbaric oxygen treatment (HBOT) involves breathing in oxygen in a chamber where atmospheric pressure is raised up to three times higher than normal. This type of treatment is usually used to treat decompression sickness or sporting injuries.</p>



<p>However, a study published in October this year found that HBOT had a considerable impact on <a title="Telomeres" href="https://www.gowinglife.com/telomere/" data-id="http://data.wordlift.io/wl01945/entity/telomere;http://dbpedia.org/resource/Telomere;http://rdf.freebase.com/ns/m.0f999">telomere</a> length. Telomeres are short protective caps on the end of the chromosomes, designed to prevent damage to the <a title="DNA molecule" href="https://www.gowinglife.com/dna/" data-id="http://data.wordlift.io/wl01945/entity/dna;http://dbpedia.org/resource/DNA;http://rdf.freebase.com/ns/m.026w5">DNA</a> during cell <a title="divides" href="https://www.gowinglife.com/cell-division/" data-id="http://data.wordlift.io/wl01945/entity/cell_division;http://dbpedia.org/resource/Cell_division;http://rdf.freebase.com/ns/m.096d8">division</a>. telomeres are degraded and get shorter, inducing <a title="senescent cells" href="https://www.gowinglife.com/senescence/" data-id="http://data.wordlift.io/wl01945/entity/senescence;http://dbpedia.org/resource/Senescence;http://rdf.freebase.com/ns/m.012pdz">cellular senescence</a> and aging.&nbsp;</p>



<figure><img src="https://i2.wp.com/images.theconversation.com/files/279837/original/file-20190617-118539-130f0e2.jpg?w=1920&amp;ssl=1" alt="DNA testing companies offer telomere testing ‚Äì but what does it tell you  about aging and disease risk?" data-recalc-dims="1"><figcaption>Telomeres shorten as cells divide</figcaption></figure>



<p>The shortening of telomeres and resulting cellular senescence has been extremely well documented as two crucial molecular characteristics of aging. There have also been a multitude of animal studies that have found that an increased rate of telomere shortening is associated with a shortened lifespan, and by increasing telomere length these organisms experience significant life extension. Ine study found that doubling the telomere length of mice resulted in a 12.5% ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.gowinglife.com/top-10-health-and-longevity-innovations-in-2020/">https://www.gowinglife.com/top-10-health-and-longevity-innovations-in-2020/</a></em></p>]]>
            </description>
            <link>https://www.gowinglife.com/top-10-health-and-longevity-innovations-in-2020/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25480380</guid>
            <pubDate>Sat, 19 Dec 2020 19:31:46 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Bevy 0.4: data oriented game engine built in Rust]]>
            </title>
            <description>
<![CDATA[
Score 112 | Comments 23 (<a href="https://news.ycombinator.com/item?id=25480321">thread link</a>) | @_cart
<br/>
December 19, 2020 | https://bevyengine.org/news/bevy-0-4/ | <a href="https://web.archive.org/web/*/https://bevyengine.org/news/bevy-0-4/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <p><img src="https://bevyengine.org/news/bevy-0-4/colonize.png"></p>
      
    
  </div><div><p>A little over a month after releasing Bevy 0.3, and thanks to <strong>66</strong> contributors, <strong>178</strong> pull requests, and our <a href="https://github.com/sponsors/cart"><strong>generous sponsors</strong></a>, I'm happy to announce the <strong>Bevy 0.4</strong> release on <a href="https://crates.io/crates/bevy">crates.io</a>!</p>
<p>For those who don't know, Bevy is a refreshingly simple data-driven game engine built in Rust. You can check out <a href="https://bevyengine.org/learn/book/getting-started/">Quick Start Guide</a> to get started. Bevy is also free and open source forever! You can grab the full <a href="https://github.com/bevyengine/bevy">source code</a> on GitHub.</p>
<p>Here are some of the highlights from this release:</p>
<h2 id="wasm-webgl2">WASM + WebGL2</h2>

<p>Bevy now has a WebGL2 render backend! @mrk-its has been hard at work building the <a href="https://github.com/mrk-its/bevy_webgl2">Bevy WebGL2 Plugin</a> and expanding <code>bevy_render</code> to meet the needs of the web. He also put together a nice website showcasing various Bevy examples and games running on the web. </p>
<p>I think the results speak for themselves:</p>
<h3 id="bevy-webgl2-showcase"><a href="https://mrk.sed.pl/bevy-showcase/">Bevy WebGL2 Showcase</a></h3>
<p><a href="https://mrk.sed.pl/bevy-showcase/"><img src="https://bevyengine.org/news/bevy-0-4/webgl_showcase.png" alt="webgl2 showcase"></a></p>
<h2 id="cross-platform-main-function">Cross Platform Main Function</h2>
<p>authors: @cart</p>
<p>On most supported Bevy platforms you can just use normal main functions (ex: Windows, MacOS, Linux, and Web). Here is the smallest possible Bevy app that runs on those platforms:</p>
<pre><code><span>use </span><span>bevy</span><span>::</span><span>prelude</span><span>::*;

</span><span>fn </span><span>main</span><span>() {
    </span><span>App</span><span>::</span><span>build</span><span>().</span><span>run</span><span>();
}
</span></code></pre>
<p>However some platforms (currently Android and iOS) require additional boilerplate. This arcane magic is error prone, takes up space, and isn't particularly nice to look at. Up until this point, Bevy users had to supply their own boilerplate ... but no more! <strong>Bevy 0.4</strong> adds a new <code>#[bevy_main]</code> proc-macro, which inserts the relevant boilerplate for you. This is a big step toward our "write once run anywhere" goal.</p>
<p>This Bevy App has all the code required to run on Windows, MacOS, Linux, Android, iOS, and Web:</p>
<pre><code><span>use </span><span>bevy</span><span>::</span><span>prelude</span><span>::*;

#[</span><span>bevy_main</span><span>]
</span><span>fn </span><span>main</span><span>() {
    </span><span>App</span><span>::</span><span>build</span><span>().</span><span>run</span><span>();
}
</span></code></pre><h2 id="live-shader-reloading">Live Shader Reloading</h2>
<p>authors: @yrns</p>
<p>Bevy can now update changes to shaders at runtime, giving you instant feedback without restarting your app. This video isn't sped up!</p>

<h2 id="ecs-improvements">ECS Improvements</h2>
<p>authors: @cart</p>
<p>It wouldn't be a Bevy update without another round of ECS improvements!</p>
<h3 id="flexible-ecs-parameters">Flexible ECS Parameters</h3>
<p>Prior versions of Bevy forced you to provide system parameters in a specific order:</p>
<pre><code><span>/// This system followed the [Commands][Resources][Queries] order and compiled as expected
</span><span>fn </span><span>valid_system</span><span>(</span><span>mut </span><span>commands</span><span>:</span><span> Commands, </span><span>time</span><span>: </span><span>Res</span><span>&lt;</span><span>Time</span><span>&gt;</span><span>, </span><span>query</span><span>: </span><span>Query</span><span>&lt;&amp;</span><span>Transform</span><span>&gt;) {
}

</span><span>/// This system did not follow the required ordering, which caused compilation to fail
</span><span>fn </span><span>invalid_system</span><span>(</span><span>query</span><span>: </span><span>Query</span><span>&lt;&amp;</span><span>Transform</span><span>&gt;</span><span>, </span><span>mut </span><span>commands</span><span>:</span><span> Commands, </span><span>time</span><span>: </span><span>Res</span><span>&lt;</span><span>Time</span><span>&gt;) {
}
</span></code></pre>
<p>Newbies would fall prey to this constantly. These completely arbitrary constraints were a quirk of the internal implementation. The <code>IntoSystem</code> trait was only implemented for specific orders. Supporting every order would have exponentially affected compile times. The internal implementation was also constructed with a <a href="https://github.com/bevyengine/bevy/blob/9afe196f1690a6a6e47bf67ac740b4edeffd97bd/crates/bevy_ecs/src/system/into_system.rs#L158">famously complicated macro</a>.</p>
<p>To resolve this, I completely rewrote how we generate systems. We now use a <code>SystemParam</code> trait, which we implement for each parameter type. This has a number of benefits:</p>
<ul>
<li><strong>Significantly Faster Compile Times</strong>: We're seeing a <b>~25%</b> decrease in clean compile times</li>
<li><strong>Use Any Parameter Order You Want</strong>: No more arbitrary order restrictions!</li>
<li><strong>Easily Add New Parameters</strong>: It is now easy for us (and for users) to create new parameters. Just implement the <code>SystemParam</code> trait!</li>
<li><strong>Simpler Implementation</strong>: The new implementation is much smaller and also way easier to maintain and understand.</li>
</ul>
<pre><code><span>// In Bevy 0.4 this system is now perfectly valid. Cool!
</span><span>fn </span><span>system</span><span>(</span><span>query</span><span>: </span><span>Query</span><span>&lt;&amp;</span><span>Transform</span><span>&gt;</span><span>, </span><span>commands</span><span>: &amp;</span><span>mut</span><span> Commands, </span><span>time</span><span>: </span><span>Res</span><span>&lt;</span><span>Time</span><span>&gt;) {
}
</span></code></pre>
<p>Notice that in <strong>Bevy 0.4</strong>, commands now look like <code>commands: &amp;mut Commands</code> instead of <code>mut commands: Commands</code>. </p>
<h3 id="simplified-query-filters">Simplified Query Filters</h3>
<p>Up until now, Bevy's Query filters were intermingled with components:</p>
<pre><code><span>fn </span><span>system</span><span>(</span><span>query</span><span>: </span><span>Query</span><span>&lt;</span><span>With</span><span>&lt;</span><span>A, Without</span><span>&lt;</span><span>B, </span><span>(&amp;</span><span>Transform, Changed</span><span>&lt;</span><span>Velocity</span><span>&gt;)&gt;&gt;&gt;) {
}
</span></code></pre>
<p>Confused? You wouldn't be the first! You can interpret the query above as "give me immutable references to the <code>Transform</code> and <code>Velocity</code> components of all entities that have the <code>A</code> component, <em>do not</em> have the <code>B</code> component, and have a changed Velocity component".</p>
<p>First, the nesting of types via With / Without makes it very unclear whats going on. Additionally, it's hard to tell what the <code>Changed&lt;Velocity&gt;</code> parameter does. Is it just a filter? Does it also return a Velocity component? If so, is it immutable or mutable?</p>
<p>It made sense to break up these concepts. In <strong>Bevy 0.4</strong>, Query filters are separate from Query components. The query above looks like this:</p>
<pre><code><span>// Query with filters
</span><span>fn </span><span>system</span><span>(</span><span>query</span><span>: </span><span>Query</span><span>&lt;(&amp;</span><span>Transform, </span><span>&amp;</span><span>Velocity</span><span>)</span><span>, </span><span>(</span><span>With</span><span>&lt;</span><span>A</span><span>&gt;</span><span>, Without</span><span>&lt;</span><span>B</span><span>&gt;</span><span>, Changed</span><span>&lt;</span><span>Velocity</span><span>&gt;)&gt;) {
}

</span><span>// Query without filters
</span><span>fn </span><span>system</span><span>(</span><span>query</span><span>: </span><span>Query</span><span>&lt;(&amp;</span><span>Transform, </span><span>&amp;</span><span>Velocity</span><span>)&gt;) {
}
</span></code></pre>
<p>This makes it much easier to tell what a Query is doing at a glance. It also makes for more composable behaviors. For example, you can now filter on <code>Changed&lt;Velocity&gt;</code> without actually retrieving the <code>Velocity</code> component.</p>
<p>And now that filters are a separate type, you can create type aliases for filters that you want to re-use:</p>
<pre><code><span>type </span><span>ChangedVelocity </span><span>= (</span><span>With</span><span>&lt;</span><span>A</span><span>&gt;, </span><span>Without</span><span>&lt;</span><span>B</span><span>&gt;, </span><span>Changed</span><span>&lt;</span><span>Velocity</span><span>&gt;);

</span><span>fn </span><span>system</span><span>(</span><span>query</span><span>: </span><span>Query</span><span>&lt;(&amp;</span><span>Transform, </span><span>&amp;</span><span>Velocity</span><span>)</span><span>, ChangedVelocity</span><span>&gt;) {
}
</span></code></pre><h3 id="system-inputs-outputs-and-chaining">System Inputs, Outputs, and Chaining</h3>
<p>Systems can now have inputs and outputs. This opens up a variety of interesting behaviors, such as system error handling:</p>
<pre><code><span>fn </span><span>main</span><span>() {
  </span><span>App</span><span>::</span><span>build</span><span>()
    .</span><span>add_system</span><span>(</span><span>result_system</span><span>.</span><span>system</span><span>().</span><span>chain</span><span>(</span><span>error_handler</span><span>.</span><span>system</span><span>()))
    .</span><span>run</span><span>();
}

</span><span>fn </span><span>result_system</span><span>(</span><span>query</span><span>: </span><span>Query</span><span>&lt;&amp;</span><span>Transform</span><span>&gt;) -&gt; </span><span>Result</span><span>&lt;()&gt; {
  </span><span>let</span><span> transform </span><span>=</span><span> query</span><span>.</span><span>get</span><span>(</span><span>SOME_ENTITY</span><span>)?;
  </span><span>println!</span><span>("</span><span>found entity transform: {:?}</span><span>",</span><span> transform</span><span>);
  </span><span>Ok</span><span>(())
}

</span><span>fn </span><span>error_handler_system</span><span>(</span><span>In</span><span>(</span><span>result</span><span>)</span><span>: In</span><span>&lt;</span><span>Result</span><span>&lt;()&gt;&gt;</span><span>, </span><span>error_handler</span><span>: </span><span>Res</span><span>&lt;</span><span>MyErrorHandler</span><span>&gt;) {
  </span><span>if let </span><span>Err</span><span>(</span><span>err</span><span>) =</span><span> result </span><span>{
</span><span>      error_handler</span><span>.</span><span>handle_error</span><span>(</span><span>err</span><span>);
  }
}
</span></code></pre>
<p>The <a href="https://docs.rs/bevy_ecs/latest/bevy_ecs/trait.System.html"><code>System</code>
</a> trait now looks like this:</p>
<pre><code><span>// Has no inputs and no outputs
</span><span>System</span><span>&lt;</span><span>In = </span><span>()</span><span>, Out = </span><span>()&gt;

</span><span>// Takes a usize as input and return a f32
</span><span>System</span><span>&lt;</span><span>In = </span><span>usize</span><span>, Out = </span><span>f32</span><span>&gt;
</span></code></pre>
<p>We use this feature in our new Schedule implementation.</p>
<h3 id="schedule-v2">Schedule V2</h3>
<p>Bevy's old Schedule was nice. System registrations were easy to read and easy to compose. But it also had significant limitations:</p>
<ul>
<li>Only one Schedule allowed</li>
<li>Very static: you were limited to using the tools we gave you:
<ul>
<li>stages are just lists of systems</li>
<li>stages are added to schedules</li>
<li>stages use hard-coded system runners</li>
</ul>
</li>
<li>Couldn't switch between schedules at runtime</li>
<li>Couldn't easily support "fixed timestep" scenarios</li>
</ul>
<p>To solve these problems, I wrote a new Schedule system from scratch. Before you get worried, these are largely <em>non-breaking</em> changes. The high level "app builder" syntax you know and love is still available:</p>
<pre><code><span>app</span><span>.</span><span>add_system</span><span>(</span><span>my_system</span><span>.</span><span>system</span><span>())
</span></code></pre><h4 id="stage-trait">Stage Trait</h4>
<p>Stages are now a trait. You can now implement your own <a href="https://docs.rs/bevy_ecs/latest/bevy_ecs/trait.Stage.html"><code>Stage</code>
</a> types!</p>
<pre><code><span>struct </span><span>MyStage</span><span>;

</span><span>impl </span><span>Stage </span><span>for </span><span>MyStage </span><span>{
    </span><span>fn </span><span>run</span><span>(&amp;</span><span>mut </span><span>self</span><span>, </span><span>world</span><span>: &amp;</span><span>mut</span><span> World, </span><span>resources</span><span>: &amp;</span><span>mut</span><span> Resources</span><span>) {
        </span><span>// Do stage stuff here.
        // You have unique access to the World and Resources, so you are free to do anything
    </span><span>}
}
</span></code></pre><h4 id="stage-type-systemstage">Stage Type: <a href="https://docs.rs/bevy_ecs/latest/bevy_ecs/struct.SystemStage.html"><code>SystemStage</code></a></h4>
<p>This is basically a "normal" stage. You can add systems to it and you can decide how those systems will be executed (parallel, serial, or custom logic)</p>
<pre><code><span>// runs systems in parallel (using the default parallel executor)
</span><span>let</span><span> parallel_stage </span><span>=
    </span><span>SystemStage</span><span>::</span><span>parallel</span><span>()
        .</span><span>with_system</span><span>(</span><span>a</span><span>.</span><span>system</span><span>())
        .</span><span>with_system</span><span>(</span><span>b</span><span>.</span><span>system</span><span>());

</span><span>// runs systems serially (in registration order)
</span><span>let</span><span> serial_stage </span><span>=
    </span><span>SystemStage</span><span>::</span><span>serial</span><span>()
        .</span><span>with_system</span><span>(</span><span>a</span><span>.</span><span>system</span><span>())
        .</span><span>with_system</span><span>(</span><span>b</span><span>.</span><span>system</span><span>());

</span><span>// you can also write your own custom SystemStageExecutor
</span><span>let</span><span> custom_executor_stage </span><span>=
    </span><span>SystemStage</span><span>::</span><span>new</span><span>(</span><span>MyCustomExecutor</span><span>::</span><span>new</span><span>())
        .</span><span>with_system</span><span>(</span><span>a</span><span>.</span><span>system</span><span>())
        .</span><span>with_system</span><span>(</span><span>b</span><span>.</span><span>system</span><span>());
</span></code></pre><h4 id="stage-type-schedule">Stage Type: <a href="https://docs.rs/bevy_ecs/latest/bevy_ecs/struct.Schedule.html"><code>Schedule</code></a></h4>
<p>You read that right! <a href="https://docs.rs/bevy_ecs/latest/bevy_ecs/struct.Schedule.html"><code>Schedule</code>
</a> now implements the <a href="https://docs.rs/bevy_ecs/latest/bevy_ecs/trait.Stage.html"><code>Stage</code>
</a> trait, which means you can nest Schedules within other schedules: </p>
<pre><code><span>let</span><span> schedule </span><span>= </span><span>Schedule</span><span>::</span><span>default</span><span>()
    .</span><span>with_stage</span><span>("</span><span>update</span><span>", </span><span>SystemStage</span><span>::</span><span>parallel</span><span>()
        .</span><span>with_system</span><span>(</span><span>a</span><span>.</span><span>system</span><span>())
        .</span><span>with_system</span><span>(</span><span>b</span><span>.</span><span>system</span><span>())
    )
    .</span><span>with_stage</span><span>("</span><span>nested</span><span>", </span><span>Schedule</span><span>::</span><span>default</span><span>()
        .</span><span>with_stage</span><span>("</span><span>nested_stage</span><span>", </span><span>SystemStage</span><span>::</span><span>serial</span><span>()
            .</span><span>with_system</span><span>(</span><span>b</span><span>.</span><span>system</span><span>())
        )
    );
</span></code></pre><h4 id="run-criteria">Run Criteria</h4>
<p>You can add "run criteria" to any <a href="https://docs.rs/bevy_ecs/latest/bevy_ecs/struct.SystemStage.html"><code>SystemStage</code>
</a> or <a href="https://docs.rs/bevy_ecs/latest/bevy_ecs/struct.Schedule.html"><code>Schedule</code>
</a>.</p>
<pre><code><span>// A "run criteria" is just a system that returns a `ShouldRun` result
</span><span>fn </span><span>only_on_10_criteria</span><span>(</span><span>value</span><span>: </span><span>Res</span><span>&lt;</span><span>usize</span><span>&gt;) -&gt;</span><span> ShouldRun </span><span>{
    </span><span>if </span><span>*</span><span>value </span><span>== </span><span>10 </span><span>{ 
        </span><span>ShouldRun</span><span>::</span><span>Yes 
    </span><span>} </span><span>else </span><span>{ 
        </span><span>ShouldRun</span><span>::</span><span>No
    </span><span>}
}

</span><span>app
    </span><span>// this stage only runs when Res&lt;usize&gt; has a value of 10
    </span><span>.</span><span>add_stage_after</span><span>(</span><span>stage</span><span>::</span><span>UPDATE</span><span>, "</span><span>only_on_10_stage</span><span>", </span><span>SystemStage</span><span>::</span><span>parallel</span><span>()
        .</span><span>with_run_criteria</span><span>(</span><span>only_on_10_criteria</span><span>.</span><span>system</span><span>())
        .</span><span>with_system</span><span>(</span><span>my_system</span><span>.</span><span>system</span><span>())
    )
    </span><span>// this stage only runs once
    </span><span>.</span><span>add_stage_after</span><span>(</span><span>stage</span><span>::</span><span>RUN_ONCE</span><span>, "</span><span>one_and_done</span><span>", </span><span>Schedule</span><span>::</span><span>default</span><span>()
        .</span><span>with_run_criteria</span><span>(</span><span>RunOnce</span><span>::</span><span>default</span><span>())
        .</span><span>with_system</span><span>(</span><span>my_system</span><span>.</span><span>system</span><span>())
    )
</span></code></pre><h4 id="fixed-timestep">Fixed Timestep</h4>
<p>You can now run stages on a "fixed timestep".</p>
<pre><code><span>// this stage will run once every 0.4 seconds
</span><span>app</span><span>.</span><span>add_stage_after</span><span>(</span><span>stage</span><span>::</span><span>UPDATE</span><span>, "</span><span>fixed_update</span><span>", </span><span>SystemStage</span><span>::</span><span>parallel</span><span>()
    .</span><span>with_run_criteria</span><span>(</span><span>FixedTimestep</span><span>::</span><span>step</span><span>(</span><span>0.4</span><span>))
    .</span><span>with_system</span><span>(</span><span>my_system</span><span>.</span><span>system</span><span>())
)
</span></code></pre>
<p>This builds on top of <code>ShouldRun::YesAndLoop</code>, which ensures that the schedule continues to loop until it has consumed all accumulated time.</p>
<p>Check out the excellent <a href="https://gafferongames.com/post/fix_your_timestep/">"Fix Your Timestep!"</a> article if you want to learn more about fixed timesteps.</p>
<h4 id="typed-stage-builders">Typed Stage Builders</h4>
<p>Now that stages can be any type, we need a way for <a href="https://docs.rs/bevy_app/latest/bevy_app/trait.Plugin.html"><code>Plugins</code>
</a> to interact with arbitrary stage types:</p>
<pre><code><span>app
    </span><span>// this "high level" builder pattern still works (and assumes that the stage is a SystemStage)
    </span><span>.</span><span>add_system</span><span>(</span><span>some_system</span><span>.</span><span>system</span><span>())
    </span><span>// this "low level" builder is equivalent to add_system()
    </span><span>.</span><span>stage</span><span>(</span><span>stage</span><span>::</span><span>UPDATE</span><span>, |</span><span>stage</span><span>: &amp;</span><span>mut</span><span> SystemStage</span><span>|
        </span><span>stage</span><span>.</span><span>add_system</span><span>(</span><span>some_system</span><span>.</span><span>system</span><span>())
    )
    </span><span>// this works for custom stage types too
    </span><span>.</span><span>stage</span><span>(</span><span>MY_CUSTOM_STAGE</span><span>, |</span><span>stage</span><span>: &amp;</span><span>mut</span><span> MyCustomStage</span><span>|
        </span><span>stage</span><span>.</span><span>do_custom_thing</span><span>()
    )
</span></code></pre><h3 id="deprecated-for-each-systems">Deprecated For-Each Systems</h3>
<p>Prior versions of Bevy supported "for-each" systems, ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://bevyengine.org/news/bevy-0-4/">https://bevyengine.org/news/bevy-0-4/</a></em></p>]]>
            </description>
            <link>https://bevyengine.org/news/bevy-0-4/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25480321</guid>
            <pubDate>Sat, 19 Dec 2020 19:24:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Shen in 15 Minutes]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25479966">thread link</a>) | @tmalsburg2
<br/>
December 19, 2020 | http://shenlanguage.org/shenin15min.htm | <a href="https://web.archive.org/web/*/http://shenlanguage.org/shenin15min.htm">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>http://shenlanguage.org/shenin15min.htm</link>
            <guid isPermaLink="false">hacker-news-small-sites-25479966</guid>
            <pubDate>Sat, 19 Dec 2020 18:48:25 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[AWS Proton is Conway‚Äôs Law-as-a-Service]]>
            </title>
            <description>
<![CDATA[
Score 30 | Comments 2 (<a href="https://news.ycombinator.com/item?id=25479967">thread link</a>) | @forrestbrazeal
<br/>
December 19, 2020 | https://acloudguru.com/blog/engineering/aws-proton-is-conways-law-as-a-service | <a href="https://web.archive.org/web/*/https://acloudguru.com/blog/engineering/aws-proton-is-conways-law-as-a-service">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-id="8a920a5" data-element_type="widget" data-widget_type="theme-post-content.default"><div><p><em>Is that a good thing? It‚Äôs ‚Ä¶ different, anyhow</em></p><p><a href="https://acloudguru.com/blog/engineering/what-you-need-to-know-about-the-new-aws-proton-service">AWS Proton</a> launched in preview last week to great fanfare and even greater confusion.</p><figure><div><blockquote data-width="500" data-dnt="true"><p lang="en" dir="ltr">If there is one thing that unites the AWS Hero Slack right now, it's that all of us are a little bit confused about what Proton is. We want to like it! But, like ‚Ä¶ what is it?</p>‚Äî Forrest Brazeal @re:Invent 2020 (@forrestbrazeal) <a href="https://twitter.com/forrestbrazeal/status/1333887600592121858?ref_src=twsrc%5Etfw">December 1, 2020</a></blockquote> </div></figure><p>‚ÄúAutomated management for container and serverless deployments,‚Äù <a href="https://aws.amazon.com/proton/">says AWS marketing</a>. So this is a tool specifically for deploying serverless apps, like <a href="https://stackery.io/">Stackery</a> or Amplify? Nope! I think the reason they‚Äôre advertising Proton as a solution for ‚Äúcontainers and serverless‚Äù is that the two provided sample template bundles are for a Lambda CRUD app and a load-balanced Fargate service. But while building your own templates appears to be <em>frustrating, </em>there‚Äôs no technical <em>limit</em> on the sorts of apps Proton could help you deploy.</p><p>Proton itself is ‚Äúserverless‚Äù only in the way CloudFormation is serverless: it‚Äôs a managed service. So is Proton a new and improved CloudFormation? No, it uses <a href="https://github.com/aws-samples/aws-proton-sample-templates">CloudFormation templates all marked up with Jinja</a>, but it operates at a higher level than that.</p><p>It took a while to click for me, but Proton is not just another half-baked AWS developer tool. It‚Äôs doing something I don‚Äôt believe AWS has ever attempted before.</p><p>Proton‚Äôs innovation is that it builds <em>explicit assumptions about your organization</em> into its technical design.</p><p>Proton is <a href="https://twitter.com/forrestbrazeal/status/1334321228694380544">Conway‚Äôs Law-as-a-Service</a>.</p><h2 id="h-proton-assumes-a-platform-team">Proton assumes a platform team</h2><p>I‚Äôve spoken a lot over the years about the phenomenon (and, increasingly, <a href="https://siliconangle.com/2020/08/07/cloud-bard-forrest-brazeal-pinpoints-failure-celebrates-success-cloud-native-evolution/">the pathologies</a>) of the central cloud team: the Terraform nerds at the center of a cloud-first org who create tools and standards for everybody else, particularly product developers. In your company, this team might be called the ‚Äúplatform team‚Äù, the ‚Äúinfrastructure team‚Äù, or just the ‚Äúcloud team‚Äù. It‚Äôs a remarkably consistent pattern across larger orgs, even if it‚Äôs <a href="https://acloudguru.com/blog/engineering/why-central-cloud-teams-fail-and-how-to-save-yours">ultimately sub-optimal</a>.</p><p>In fact, the ‚Äúone platform team supporting many product dev teams‚Äù pattern is so prevalent that AWS, in true customer-obsession mode, has now reasoned backwards from it to design Proton. Proton is a prescriptive way for platform teams to package up environments and infrastructure services, then toss them over the wall to development teams who will consume them. Proton draws the line between automation of infrastructure and development of application code exactly where your average enterprise does.</p><p>This means that if you do NOT have a central platform team and multiple dev teams ‚Äî say, if you are a 10-person startup ‚Äî <em>Proton is not for you, </em>at least not now, even if you have many Containers and Serverless Apps to deploy<em>. </em>Not for the reason many AWS services will not be for you ‚Äî because they solve a technical problem you don‚Äôt have at a cost you can‚Äôt afford ‚Äî but because Proton solves the app deployment problem in a way that is <em>incompatible with your organizational structure.</em></p><p>I really can‚Äôt think of another AWS service that is built this way. Even services like CodePipeline that ship AWS‚Äôs own organizational philosophy ‚Äî I‚Äôm thinking of its reluctance to support branch-based workflows ‚Äî do so implicitly and with workarounds. Proton is made for enterprise-shaped orgs. Period.</p><p>And that‚Äôs not a criticism! AWS absolutely should be releasing services designed with specific customer workflows in mind. Heck, I‚Äôve <a href="https://aws.amazon.com/quickstart/architecture/serverless-cicd-for-enterprise/">personally implemented</a> at least three bespoke versions of AWS Proton over the years, and so have many, many other people who‚Äôve worked on central cloud teams. The hard part was always the separation of duties between what the central team should do and what the development teams should do, and how to get buy-in on that line of separation, wherever you end up drawing it. I even wrote up a janky Service Catalog-y solution in <a href="https://www.trek10.com/blog/pragmatic-enterprise-cicd">this 2019 piece</a>, which reads in retrospect like a cry for help.</p><p>Proton is <em>prescriptive</em> in the sense that it gives you a pre-baked pattern for coordinating application delivery, but <em>descriptive </em>in the sense that this pattern wasn‚Äôt dreamed up as an arbitrary ‚Äúbest practice‚Äù ‚Äì it‚Äôs simply a canonization of what AWS sees customers already doing. In this way, it reminds me more of the reference architectures we often see open-sourced by AWS solutions architects and partners, rather than a typical top-level service.</p><h2 id="h-but-is-proton-a-good-idea">But is Proton a good idea?</h2><p>Proton‚Äôs been released in preview and is not fully baked yet, so I won‚Äôt offer specific technical nitpicks here, but I‚Äôd like to address a criticism that I‚Äôve already heard quite a bit from central cloud teams: ‚ÄúProton doesn‚Äôt simplify the process of creating deployment infrastructure nearly enough to be helpful!‚Äù</p><p>I justified my <a href="https://www.trek10.com/blog/pragmatic-enterprise-cicd">‚Äúpragmatic CI/CD design‚Äù</a> last year by pointing out that, while it involved complex templating, that complexity was distributed mostly where you‚Äôd want it: on the shoulders of the platform team. (Their job is YAML! They can deal with it!) Proton has made the same calculation, and drawn the lines of separation mostly in the same places. They are giving raw, somewhat labor-intensive controls to platform teams in order to present a streamlined deployment workflow to app dev teams, with all that nasty infrastructure abstracted away. (Maybe that‚Äôs a second reason Proton could be called ‚Äúserverless?‚Äù No server automation for dev teams?)</p><p>Far from being too complicated, I worry that Proton may in fact be oversimplified. Because at the enterprise level, it‚Äôs well-nigh impossible to create deployment templates that are really general enough to work out of the box for a diverse portfolio of app teams. Sure, you‚Äôll have a set of ‚Äúhappy path‚Äù teams that your templates support quite nicely. But then there are the edge cases, the teams that need services you don‚Äôt support or workflows you can‚Äôt accommodate. How do you keep them from dropping off into shadow IT ‚Ä¶ or worse, ballooning every template into an unusable mass of one million parameters?</p><p>These are teams who maybe <em>should </em>be building some of their own infrastructure, who should have less centralized dictation and more decentralized enablement. That‚Äôs the ‚ÄúUmbrella‚Äù pattern of org -&gt; CI/CD expression I called for earlier this year, <a href="https://acloudguru.com/blog/engineering/cd-pipeline">in a blog that reads like lost minutes from a Proton design session</a>. It‚Äôs the pattern I‚Äôm seeing more and more forward-thinking organizations adopt ‚Äì those who‚Äôve run with the central cloud team long enough to realize its limits.</p><p><a href="https://acloudguru.com/blog/engineering/why-central-cloud-teams-fail-and-how-to-save-yours">Central cloud teams are bottlenecks</a>, even if 80% of organizations haven‚Äôt matured enough to figure this out. And that leads to the most curious question of all: Will teams complex enough to <em>need </em>Proton eventually become too sophisticated to <em>use </em>Proton?</p><p>That remains to be seen, but I do hope that as Proton evolves, it will lead its customers toward sustainable best practices, instead of productizing the organizational mistakes of the past. Customer obsession is great, but as Andy Jassy said in last week‚Äôs keynote ‚Äî sometimes you have to give them not what they ask for, but what they need.</p></div></div></div>]]>
            </description>
            <link>https://acloudguru.com/blog/engineering/aws-proton-is-conways-law-as-a-service</link>
            <guid isPermaLink="false">hacker-news-small-sites-25479967</guid>
            <pubDate>Sat, 19 Dec 2020 18:48:25 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Chemicals in Plastic Waste Are Killing Us]]>
            </title>
            <description>
<![CDATA[
Score 67 | Comments 17 (<a href="https://news.ycombinator.com/item?id=25479833">thread link</a>) | @buddhacobbler
<br/>
December 19, 2020 | https://smosa.com/report-plastic-waste-not-just-bad-for-environment-the-chemicals-are-killing-us/ | <a href="https://web.archive.org/web/*/https://smosa.com/report-plastic-waste-not-just-bad-for-environment-the-chemicals-are-killing-us/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>

					<!-- .post-header -->


					<div>
						<p>According to a new study, 144 endocrine-disrupting chemicals can be found in ordinary plastic products. The study details plastic endocrine disrupting chemicals (EDCs) and the threats that these chemicals pose to human health during the plastic life cycle.</p><figure><img src="https://smosa.com/content/images/2020/12/Screen-Shot-2020-12-16-at-9.38.11-AM.png" alt="" srcset="https://smosa.com/content/images/size/w600/2020/12/Screen-Shot-2020-12-16-at-9.38.11-AM.png 600w, https://smosa.com/content/images/size/w1000/2020/12/Screen-Shot-2020-12-16-at-9.38.11-AM.png 1000w, https://smosa.com/content/images/size/w1600/2020/12/Screen-Shot-2020-12-16-at-9.38.11-AM.png 1600w, https://smosa.com/content/images/size/w2400/2020/12/Screen-Shot-2020-12-16-at-9.38.11-AM.png 2400w" sizes="(min-width: 720px) 720px"><figcaption>Source: <a href="https://www.endocrine.org/-/media/endocrine/files/topics/edc_guide_2020_v1_6bhqen.pdf">Endocrine Society</a></figcaption></figure><p>Most plastic additives are considered to interfere with the functioning of hormones and are endocrine disrupting substances, by definition. Many EDC exposures are the agent of tumors, diabetes, kidney, liver, and thyroid symptoms, metabolic disorders, neurological effects, inflammation. At the 4th International Chemicals Management Conference, more than 100 countries agreed to call for policy action on EDCs. AMA, largest U.S. medical professional group, called for increased regulatory oversight in 2009 and 2011. American Public Health Laboratories and American Chemical Society proposed increased education and research. International Conference on Children's Health and Environment released a 2013 Jerusalem Declaration on its "commitment to protect the health of children from environmental hazards."</p><p>EDCs include Bisphenol A (BPA), which is used in polycarbonate plastics. EDCs are linked to cancer, early puberty in young girls, obesity and diabetes, male and female reproductive disorders, and neurodevelopmental disorders</p><figure><img src="https://images.unsplash.com/photo-1597348989645-46b190ce4918?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDI0fHxwbGFzdGljc3xlbnwwfHx8&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=2000" alt="Grocery Store Bag" srcset="https://images.unsplash.com/photo-1597348989645-46b190ce4918?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDI0fHxwbGFzdGljc3xlbnwwfHx8&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=600 600w, https://images.unsplash.com/photo-1597348989645-46b190ce4918?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDI0fHxwbGFzdGljc3xlbnwwfHx8&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=1000 1000w, https://images.unsplash.com/photo-1597348989645-46b190ce4918?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDI0fHxwbGFzdGljc3xlbnwwfHx8&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=1600 1600w, https://images.unsplash.com/photo-1597348989645-46b190ce4918?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDI0fHxwbGFzdGljc3xlbnwwfHx8&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=2400 2400w" sizes="(min-width: 720px) 720px"><figcaption>Photo by <a href="https://unsplash.com/@vegaguy?utm_source=ghost&amp;utm_medium=referral&amp;utm_campaign=api-credit">Christopher Vega</a> / <a href="https://unsplash.com/?utm_source=ghost&amp;utm_medium=referral&amp;utm_campaign=api-credit">Unsplash</a></figcaption></figure><p>Estimates of the health and other economic costs of EDC exposure are also coming to light. A number of international health organizations have taken up the call for improved EDC policies. The Policy Department for Citizen's rights and Constitutional Affairs within the European Parliament commissioned its own study of EDcs.</p><p>The endocrine system consists of a series of glands that are distributed throughout the body. Each gland produces one or more hormones that are released into the bloodstream. When they reach a target organ, they bind to specific receptors, triggering a response. Hormones are critical to reproductive function and are essential to normal development of the body and brain. The glands must be able to adjust hormone release in response to the changing environment to enable a healthy life.</p><h3 id="chart-production-of-selected-chemicals-and-plastics-in-the-united-states-in-2019-by-type">Chart: Production of selected chemicals and plastics in the United States in 2019, by type</h3><figure><img src="https://smosa.com/content/images/2020/12/Screen-Shot-2020-12-19-at-9.44.32-PM.png" alt="" srcset="https://smosa.com/content/images/size/w600/2020/12/Screen-Shot-2020-12-19-at-9.44.32-PM.png 600w, https://smosa.com/content/images/size/w1000/2020/12/Screen-Shot-2020-12-19-at-9.44.32-PM.png 1000w, https://smosa.com/content/images/2020/12/Screen-Shot-2020-12-19-at-9.44.32-PM.png 1056w" sizes="(min-width: 720px) 720px"><figcaption>Source: American Chemistry Council; US Census Bureau; US International Trade Commission; ICIS; Chemical Week; AFPM; TFI</figcaption></figure><p>The Endocrine Society described EDCs as an exogenous [non-natural] chemical, or mixture of chemicals, that interferes with any aspect of hormone action Today, a vast number of chemicals generated are in use. The report concentrated on plastic EDCs, "particularly bisphenols, phthalates, alkylphenol ethoxylates, nonylphenols, brominated flame retardants, perfluorinated substances, benzotriazole UV stabilizers, and toxic metals".</p><p>Chemicals enter the body primarily through the oral route, skin contact, and inhalation. Chemicals in a pregnant or lactating woman's body may also be transferred through placental transfer or via breast milk to a fetus or infant. EDCs in plastics are better studied for mimicking or interfering with estrogen- and androgen-regulated processes such as reproduction.</p>
					</div><!-- .post-content -->

					<!-- .post-footer -->


				</article></div>]]>
            </description>
            <link>https://smosa.com/report-plastic-waste-not-just-bad-for-environment-the-chemicals-are-killing-us/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25479833</guid>
            <pubDate>Sat, 19 Dec 2020 18:36:54 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Books, Year 6]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25479428">thread link</a>) | @ingve
<br/>
December 19, 2020 | http://nearthespeedoflight.com/article/2020_12_18_1000_books__year_6 | <a href="https://web.archive.org/web/*/http://nearthespeedoflight.com/article/2020_12_18_1000_books__year_6">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section id="content">
      <section>
        <article>
          <header>
            
            <time datetime="2020-12-18T17:11:54-05:00">Friday, December 18 2020</time>
          </header>
          <section>
            <p>(Part of my ‚ÄúJason is trying to read 1000 books‚Äù series. <a href="https://nearthespeedoflight.com/article/2015_11_14_1000_books">Part 1</a>, <a href="https://nearthespeedoflight.com/article/2016_11_15_1000_books__year_2">part 2</a>, <a href="https://nearthespeedoflight.com/article/2017_11_14_1000_books__year_3">part 3</a>, <a href="https://nearthespeedoflight.com/article/2018_11_14_1000_books__year_4">part 4</a>, and <a href="https://nearthespeedoflight.com/article/2020_02_25_1000_books__year_5">part 5</a>)</p>

<p>At points this year, I could barely read at all. Other times, I felt like all I wanted to do was be buried in a book. Maybe your year was like so too. Whether you met your reading goals or not, I‚Äôm sure you did your best.</p>

<p>By some miracle, I read 37 books this year. Some, I loved deeply and others‚Ä¶weren‚Äôt for me :)</p>

<p>Here‚Äôs what Jason fell in love with in 2020 (and other books):</p>

<ul>
<li><p><em>Good and Mad</em> by Rebecca Traister.</p>

<p>Wish I had read this one at a younger age!</p></li>
<li><p><em>No One Is Too Small To Make a Difference</em> by Greta Thunberg.</p></li>
<li><p><em>Rusty Brown</em> by Chris Ware.</p>

<p>Ware do I begin with this one? His style and use of the comic form is impeccable, but the work is also mired in self loathing that can make it a hard read at times.</p></li>
<li><p><em>The Perfect Pencil</em> by Caroline Weaver.</p></li>
<li><p><em>Measurement</em> by Paul Lockhart.</p></li>
<li><p><em>Convenience Store Woman</em> by Sayaka Murata.</p></li>
<li><p><em>Semiosis</em> by Sue Burke.</p>

<p>Science Fiction novel about sentient alien plants?? What‚Äôs not to love?</p></li>
<li><p><em>Dead Astronauts</em> by Jeff VanderMeer.</p></li>
<li><p><em>Anne of Green Gables</em> by Lucy Maud Montgomery.</p>

<p>I adored this book, which, despite being from the Maritimes of Canada (where the book takes place), I‚Äôd never read it! Shame. I was pretty sick when I read this book (<em>maybe</em> with Covid?), but it was just what I needed.</p></li>
<li><p><em>We Were Eight Years in Power</em> by Ta-Nehisi Coates.</p>

<p>Eye opening essays about America and Barack Obama.</p></li>
<li><p><em>Best American Comics 2019</em> by Various Authors.</p></li>
<li><p><em>How to be an Anti-Racist</em> by Ibram X. Kendi.</p>

<p>This one was a little different than I expected, but eye opening and perspective shifting.</p></li>
<li><p><em>The Hobbit</em> by J. R. R. Tolkien.</p>

<p>Loved loved loved this! I‚Äôd never read any of these books before, but had some of my happier memories while reading this one. Last book before quarantine.</p></li>
<li><p><em>Opus</em> by Satoshi Kon.</p></li>
<li><p><em>Stardust</em> by Neil Gaiman.</p></li>
<li><p><em>Because Internet</em> by Gretchen McCulloch.</p></li>
<li><p><em>Dune</em> by Frank Herbert.</p>

<p>Kind of a dry read.</p></li>
<li><p><em>Cosmos</em> by Carl Sagan.</p></li>
<li><p><em>My Year of Meats</em> by Ruth Ozeki.</p>

<p>If I didn‚Äôt already have a gluten dietary restriction, I might have become a vegetarian after reading this one.</p></li>
<li><p><em>Drawing on the Right Side of the Brain</em> by Betty Edwards.</p>

<p>I‚Äôve attempted this book before, and still didn‚Äôt make it alllll the way through it this time around, but I am slowly becoming better at drawing and it‚Äôs thanks in part to this book.</p></li>
<li><p><em>The Ballad Of Songbirds And Snakes</em> by Suzanne Collins.</p>

<p>An OK read, but kind of too long. I don‚Äôt think it really had a story worth telling, unlike the original Hunger Games books.</p></li>
<li><p><em>Little Weirds</em> by Jenny Slate.</p>

<p>I <strong>adored</strong> this book and it was possibly my favourite read of the year. I recommend reading it on paper, and then listening to Slate reading the audiobook. Much needed happy tears.</p></li>
<li><p><em>Starting Point</em> by Hayao Miyazaki.</p>

<p>Essays from early in his career as an animator. Not a work ethic I can say I agree with.</p></li>
<li><p><em>The Girl From Everywhere</em> by Heidi Heilig.</p></li>
<li><p><em>Bowling Alone</em> by Robert D. Putnam.</p>

<p>Bad year to read this one.</p></li>
<li><p><em>Life, The Universe, and Everything</em> by Douglas Adams.</p></li>
<li><p><em>Axiom‚Äôs End</em> by Lindsay Ellis.</p>

<p>Possibly my favourite fiction read of the year! A fun, accessible, and thoughtful ‚Äúfirst contact with an alien‚Äù story. It was a blast to read, and I can‚Äôt wait for the sequels.</p></li>
<li><p><em>The Fellowship of the Ring</em> by J. R. R. Tolkien.</p>

<p>I used to be afraid of these books. In my memory, they were each thousand page tomes of slow, dry writing.</p>

<p>But kid Jason was an idiot and my memories were wrong. This book was a fun read. Not quite as plucky fantasy as <em>The Hobbit</em>, but not as dark as I‚Äôd expected either.</p></li>
<li><p><em>What Can a Body Do?</em> by Sara Hendren.</p></li>
<li><p><em>Technopoly</em> by Neil Postman.</p></li>
<li><p><em>Fleabag: Scriptures</em> by Phoebe Waller-Bridge.</p>

<p>I maybe (definitely) fell in love with Phoebe Waller-Bridge this year.</p></li>
<li><p><em>Understanding Options</em> by Michael Sincere.</p></li>
<li><p><em>The Stories of English</em> by David Crystal.</p></li>
<li><p><em>Hocus Pocus</em> by Kurt Vonnegut.</p></li>
<li><p><em>Caste</em> by Isabel Wilkerson.</p>

<p>A damning book about America‚Äôs caste system, and how it compares and contrasts to India and Nazi Germany‚Äôs caste systems. One of the best books I read all year.</p></li>
<li><p><em>The Two Towers</em> by J. R. R. Tolkien.</p>

<p>It‚Äôs nice to get lost in a book, to escape somewhere that feels safe and familiar. I hadn‚Äôt planned on reading a 3rd Middle Earth book this year, but I <em>needed</em> to, for self care reasons.</p>

<p>Also I‚Äôm officially a Treebeard stan.</p></li>
<li><p><em>Lagoon</em> by Nnedi Okorafor.</p></li>
</ul>

<p>Here‚Äôs to the next 803 books!</p>
          </section>
        </article>
        <section id="mast">
          <header>
            <a href="http://nearthespeedoflight.com/classic">
              <p>Speed of Light</p>
            </a>
          </header>
        </section>
      </section>
    </section></div>]]>
            </description>
            <link>http://nearthespeedoflight.com/article/2020_12_18_1000_books__year_6</link>
            <guid isPermaLink="false">hacker-news-small-sites-25479428</guid>
            <pubDate>Sat, 19 Dec 2020 17:55:20 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Learn Erlang Nitrogen web framework. First three chapters free]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25479411">thread link</a>) | @LRP100
<br/>
December 19, 2020 | https://builditwith.com/nitro | <a href="https://web.archive.org/web/*/https://builditwith.com/nitro">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><h4 id="this-book-is-ambitious-it-covers-not-only-nitrogen-and-erlang-but-also-a-bit-of-otp-databases-git-web-design-and-software-engineering-best-practices-and-somehow-it-does-this-well-by-building-up-from-simple-concepts-in-a-sort-of-socratic-dialogue---if-socrates-had-a-california-surfer-sense-of-humor"><em>"This book is ambitious. It covers not only Nitrogen and Erlang, but also a bit of OTP, databases, git, web design, and software engineering best practices. And somehow, it does this well by building up from simple concepts in a sort of 'Socratic dialogue'---if Socrates had a 'California surfer' sense of humor."</em></h4>
<ul>
<li><a href="http://rusty.io/">Rusty Klophaus</a>, creator <a href="http://nitrogenproject.com/">Nitrogen</a></li>
</ul>
<h4 id="this-book-is-exactly-what-i-wish-existed-when-i-started-with-nitrogen-and-erlang-for-the-web-takes-you-by-the-hand-and-explains-erlang-nitrogen-databases-and-much-more-everything-comes-together-to-make-your-own-fast-dynamic-website-erlang-and-the-web-are-a-match-made-in-heaven"><em>"This book is exactly what I wish existed when I started with Nitrogen and Erlang for the web. Takes you by the hand and explains Erlang, Nitrogen, databases and much more. Everything comes together to make your own fast dynamic website. Erlang and the web are a match made in heaven."</em></h4>
<ul>
<li>Marc Worrell, creator <a href="http://zotonic.com/">Zotonic CMS</a></li>
</ul>
<h4 id="-love-it-love-it-is-probably-an-under-statement"><em>"... love it. 'Love it' is probably an under statement."</em></h4>
<ul>
<li>Francesco Cesarini, <a href="http://erlang-solutions.com/">Erlang Solutions</a></li>
</ul>
<h4 id="nitrogen-simplifies-development-of-web-applications-making-simple-things-easy-and-difficult-things-manageable-this-book-does-the-same-projects-present-nitrogen-concepts-and-features-in-an-iterative-workflow-that-matches-the-way-developers-work-developers-will-appreciate-its-many-examples-its-streamlined-presentation-and-numerous-references-to-related-material"><em>"Nitrogen simplifies development of web applications, making simple things easy and difficult things manageable. This book does the same. Projects present Nitrogen concepts and features in an iterative workflow that matches the way developers work. Developers will appreciate its many examples, its streamlined presentation, and numerous references to related material."</em></h4>
<ul>
<li>Steve Vinoski, <a href="http://yaws.hyber.org/">Yaws</a> maintainer</li>
</ul>
<h4 id="-a-delightful-and-informative-book-that-delivers-the-promise-of-the-real-time-web-combining-colorful-examples-with-battle-tested-erlang-technology"><em>"... a delightful and informative book that delivers the promise of the real-time web, combining colorful examples with battle-tested Erlang technology."</em></h4>
<ul>
<li><a href="http://evanmiller.org/">Evan Miller</a>, creator <a href="http://chicagoboss.org/">Chicago Boss</a></li>
</ul>
<h4 id="an-endless-stream-of-real-world-code-samples-on-how-to-develop-solid-erlang-web-applications-with-the-nitrogen-framework-a-real-pleasure-to-read"><em>"An endless stream of real-world code samples on how to develop solid Erlang web applications with the Nitrogen framework. A real pleasure to read."</em></h4>
<ul>
<li>Frank M√ºller, Erlang programmer</li>
</ul>
<h4 id="i-felt-like-the-hero-in-an-adventure-story-joining-the-characters-and-facing-the-challenges-as-a-team-the-fact-that-i-learned-about-nitrogen-and-web-security-was-almost-an-after-thought-i-even-learned-how-to-extend-nitrogen-with-plugins-serious-learning-wrapped-in-a-fresh-fun-package-that-kept-me-reading-to-the-end"><em>"I felt like the hero in an adventure story joining the characters and facing the challenges as a team. The fact that I learned about Nitrogen and web security was almost an after thought. I even learned how to extend Nitrogen with plugins! Serious learning wrapped in a fresh, fun package that kept me reading to the end."</em></h4>
<ul>
<li>Alain O‚ÄôDea, Infrastructure and Security Manager, Sequence Bio</li>
</ul>
<h4 id="goes-into-great-detail-about-nitrogen-and-erlangotp-examples-are-simple-yet-functional-with-fictional-dialogues-bringing-humor-along-the-way-nitrogen-seems-to-be-good-for-writing-highly-interactive-web-applications-entirely-controlled-from-the-server-side"><em>"...goes into great detail about Nitrogen and Erlang/OTP. Examples are simple yet functional with fictional dialogues bringing humor along the way. Nitrogen seems to be good for writing highly interactive Web applications entirely controlled from the server-side."</em></h4>
<ul>
<li>Lo√Øc Hoguin, creator <a href="https://ninenines.eu/cowboy">Cowboy webserver</a></li>
</ul>
<h4 id="very-fun-book-too-many-programming-books-are-dry-yours-is-just-a-joy-to-read"><em>"Very fun book. Too many programming books are dry. Yours is just a joy to read."</em></h4>
<ul>
<li>Alex Popov Jr.</li>
</ul>
</div></div>]]>
            </description>
            <link>https://builditwith.com/nitro</link>
            <guid isPermaLink="false">hacker-news-small-sites-25479411</guid>
            <pubDate>Sat, 19 Dec 2020 17:53:40 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[My designs from 2016 to 2020 as a non-designer]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25479181">thread link</a>) | @alexandromg
<br/>
December 19, 2020 | https://alexandro.dev/my-designs-from-2016-to-2020-as-a-non-designer | <a href="https://web.archive.org/web/*/https://alexandro.dev/my-designs-from-2016-to-2020-as-a-non-designer">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>I've been a developer for almost 9 years, but I always found designing to be tedious work. These are my application designs since 2016.</p><p>From text applications and Winforms to functional Vue + TailwindCSS components.</p><h2>2016 - Migration from 4GL to Winforms</h2><p>My dad has this legacy application written on 4GL that looks like this:</p><p><strong>4GL application</strong></p><p><img src="https://alexandro.dev/_next/static/media/4gl.c5375498f4887bab6ad3f62a0f921160.png" alt="4GL application"></p><p>I was still in college when we decided to migrate every .4gl program to desktop Winforms with C#. It was a bad decision, I know, we should've taken the web route. </p><p>The first application concept looked like this:</p><p><strong>My ERP application v0.1</strong> - I know, ugly as hell:</p><p><img src="https://alexandro.dev/_next/static/media/1.92e95cda9201fd9bd714c7148320431f.png" alt="Absys ERP v0.0.1"></p><p>At least we knew the migration wouldn't be as difficult as we thought it'd be.</p><h2>2017 - Improving the desktop home screen</h2><p>There were about 450 forms that needed to be migrated, so I needed a useful sidebar.
I tested a few home screens before I was satisfied with it.</p><p><strong>v1.0</strong> - Feature-based sidebar and a few links of most used forms/features:</p><p><img src="https://alexandro.dev/_next/static/media/2.8e5f60da7ebec6708d337c341cc43abc.png" alt="My ERP application v1"></p><p><strong>v1.5</strong> - Module-based sidebar and section details of selected module:</p><p><img src="https://alexandro.dev/_next/static/media/3.4ba5aaccd05e3a6ff0829a0a7af28249.png" alt="My ERP application v1.5"></p><h2>2018 - Added business intelligence dashboards</h2><p><strong>v2.0</strong> - Role-based instead and I added a business intelligence dashboard:</p><p><img src="https://alexandro.dev/_next/static/media/4.2ed6c95415cb3c09db05087a3df02c70.png" alt="My ERP application v1.5.0"></p><p>This is the desktop design that stayed, the sidebar menu and dashboards are generated based on the user's role.</p><h2>2019 - My first attempt to design on the web</h2><p>We had a few clients requesting the ability to place orders on their phones, so I prepare myself for web development.</p><p>I used <a href="https://vuejs.org/" target="_blank">VueJS</a> and <a href="https://bootstrap-vue.org/" target="_blank">Bootstrap Vue</a> to create a simpler version of the ERP we built on desktop.</p><p><strong>Web v1.0</strong> Only for certain roles such as CEO, Supplier, Seller, and Customer</p><p><img src="https://alexandro.dev/_next/static/media/web.77add8842132bda5ccba583346a823be.png" alt="Web v1.0"></p><p>I had to look for something else, although I loved working with Vue.</p><h2>2020 - Tailwind CSS motivated me to become a better designer</h2><p>Since COVID started, I decided to start working on side projects. This SaaS idea came to mind and I wanted to develop it as quickly as possible. But I wanted to use a utility-first framework. </p><p>So before I wrote any code, I bought <a href="https://tailwindui.com/">TailwindUI</a>, copy-pasted the components I needed, and adapted them to my needs.</p><p>Once I was satisfied with this awesome framework, I started working on a project called NetcoreSaas, a boilerplate for SaaS application development with .NET, Vue (TypeScript), and Tailwind. I coded some common SaaS must-have features, such as authentication, multi-tenant, multi-language, multi-theme, multi-database, and more.</p><p><strong>Landing page</strong> - Marketing side:</p><p><img src="https://alexandro.dev/_next/static/media/6.4e274fc3bc39082d7b386aef81e43446.png" alt="NetcoreSaas - Landing page (marketing side)"></p><p><strong>Organization settings page</strong> - App side:</p><p><img src="https://alexandro.dev/_next/static/media/7.f7ef07e7297e761953c778914868791a.png" alt="NetcoreSaas - Organization settings page (app side)"></p><h2>Desktop vs Web</h2><p>I never got comfortable enough with my desktop designs. They felt forced.</p><p><img src="https://alexandro.dev/_next/static/media/9.d25ccd1a8cda36f16196a7829a439635.png" alt="My Winforms app design"></p><p>I will still be maintaining and developing some features here and there for my current desktop ERP application, but all my next projects will be on Vue or React + Tailwind.</p><p><img src="https://alexandro.dev/_next/static/media/8.0a69001bf00ac7c00883fb6ebf096861.png" alt="My future SaaS app designs"></p><h2>Wrapping up</h2><p>With TailwindCSS, now I feel I can build high-quality components so I won't ever feel stuck, design-wise, as I felt with Winforms controls.</p></div></div>]]>
            </description>
            <link>https://alexandro.dev/my-designs-from-2016-to-2020-as-a-non-designer</link>
            <guid isPermaLink="false">hacker-news-small-sites-25479181</guid>
            <pubDate>Sat, 19 Dec 2020 17:34:22 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[AI Economist: Improving Equality and Productivity with AI-Driven Tax Policies]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25479104">thread link</a>) | @sb057
<br/>
December 19, 2020 | https://blog.einstein.ai/the-ai-economist/ | <a href="https://web.archive.org/web/*/https://blog.einstein.ai/the-ai-economist/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
  <div>
      <div>
          <figure><iframe width="480" height="270" src="https://www.youtube.com/embed/4iQUcGyQhdA?feature=oembed" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><figcaption>The AI Economist learns dynamic tax policies that optimize equality along with productivity in simulated economies, outperforming alternative tax systems.</figcaption></figure><ul><li>Economic inequality is accelerating globally and is a growing concern due to its negative impact on economic opportunity, health and social welfare. Taxes are important tools for governments to reduce inequality. However, finding a tax policy that optimizes equality along with productivity is an unsolved problem. The AI Economist brings reinforcement learning (RL) to tax policy design for the first time to provide a purely simulation and data-driven solution. </li><li>The AI Economist uses a two-level RL framework (agents and tax policy) to learn dynamic tax policies in principled economic simulations. This framework does not use prior world knowledge or modeling assumptions, can directly optimize for any socioeconomic objective, and learns from observable data alone.</li><li>Our experiments show the AI Economist can improve the trade-off between equality and productivity by 16%, compared to a prominent tax framework proposed by Emmanuel Saez, with even larger gains over an adaptation of the US Federal income tax and the free market. </li><li>Without endorsing this particular schedule, it is interesting that the AI Economist implements qualitatively different tax schedules than the baselines, with higher top tax rates and lower rates for middle incomes. Furthermore, it is robust in the face of emergent tax gaming strategies.</li><li>Moreover, the AI Economist is effective in simulations with human participants, achieving competitive equality-productivity trade-offs with the baselines and significantly higher income-weighted average social welfare. This suggests promise in using this approach to improve social outcomes in real economies.</li><li>Our vision for the AI Economist is to enable an objective study of policy impact on real-world economies, at a level of complexity that traditional economic research cannot easily address. We believe the intersection of machine learning and economics presents a wide range of exciting research directions, and gives ample opportunity for machine learning to have positive social impact.</li></ul><p>Our work fits within a larger context of recent advances in RL. RL has been used to train AIs to win competitive games, such as Go, Dota, and Starcraft. In those settings, the RL objective is inherently adversarial (√¢‚Ç¨≈ìbeat-the-other-team√¢‚Ç¨ÔøΩ). Machine learning has also been used for the design of auction rules. In this work, we instead focus on the opportunity to use AI to promote social welfare through the design of optimal tax policies in dynamic economies.</p><!--kg-card-begin: html--><ul>
    <li><strong><a href="https://doi.org/10.1038/nature24270" target="_blank">Mastering The Game Of Go Without Human
                Knowledge.</a></strong> Silver, David, Julian Schrittwieser, Karen Simonyan, Ioannis Antonoglou, Aja
        Huang, Arthur Guez, Thomas Hubert et al. Nature 550, no. 7676 (2017): 354-359.</li>
    <li><strong><a href="https://doi.org/10.1038/s41586-019-1724-z" target="_blank">Grandmaster Level In Starcraft Ii
                Using Multi-Agent Reinforcement Learning.</a></strong> Vinyals, Oriol, Igor Babuschkin, Wojciech M.
        Czarnecki, Micha√É¬´l Mathieu, Andrew Dudzik, Junyoung Chung, David H. Choi et al. Nature 575, no. 7782 (2019):
        350-354.</li>
    <li><strong><a href="https://arxiv.org/abs/1912.06680" target="_blank">Dota 2 With Large Scale Deep Reinforcement
                Learning.</a></strong> Berner, Christopher, Greg Brockman, Brooke Chan, Vicki Cheung, Przemys√Ö‚Äöaw D√Ñ‚Ñ¢biak,
        Christy Dennison, David Farhi et al. arXiv preprint arXiv:1912.06680 (2019).</li>
    <li><strong><a href="https://arxiv.org/abs/1706.03459" target="_blank">Optimal Auctions Through Deep
                Learning.</a></strong> D√É¬ºtting, Paul, Zhe Feng, Harikrishna Narasimhan, David C. Parkes, and Sai
        Srivatsa Ravindranath. In International Conference on Machine Learning, pp. 1706-1715 (2019).</li>
</ul><!--kg-card-end: html--><h2 id="the-challenge-of-optimal-tax-design">The Challenge of Optimal Tax Design</h2><p>Many studies have shown that high income inequality can negatively impact economic growth and economic opportunity. Taxes can help reduce inequality, but it is hard to find the optimal tax policy. Economic theory cannot fully model the complexities of the real world. Instead, tax theory relies on simplifying assumptions that are hard to validate, for example, about the effect of taxes on how much people work. Moreover, real-world experimentation with taxes is almost impossible.</p><!--kg-card-begin: html--><ul>
    <li><a href="https://www.un.org/esa/socdev/documents/reports/InequalityMatters.pdf" target="_blank"><strong>Inequality Matters.</strong></a> United Nations.</li>
    <li><a href="https://publications.jrc.ec.europa.eu/repository/bitstream/JRC76149/lbna25574enn.pdf" target="_blank"><strong>Literature Review On Income Inequality And The Effects On Social
                Outcomes.</strong></a> Beatrice d√¢‚Ç¨‚Ñ¢Hombres, Anke Weber, and Leandro Elia. JRC Scientific and Policy
        Reports, 2012</li>
    <li><a href="https://doi.org/10.1093/epirev/mxh003" target="_blank"><strong>Income Inequality and Health: What Have
                We Learned So Far?</strong></a> S. V. Subramanian, Ichiro Kawachi. Epidemiologic Reviews, Volume 26,
        Issue 1, July 2004, Pages 78√¢‚Ç¨‚Äú91</li>
    <li><a href="https://news.un.org/en/story/2020/01/1055681" target="_blank"><strong>Rising Inequality Affecting More
                Than Two-Thirds Of The Globe, But It√¢‚Ç¨‚Ñ¢s Not Inevitable: New UN Report.</strong></a> UN News.</li>
    <li><a href="https://inequality.org/facts/global-inequality" target="_blank"><strong>Global Inequality.</strong></a>
        Inequality.org.</li>
    <li><a href="https://wir2018.wid.world/files/download/wir2018-summary-english.pdf" target="_blank"><strong>World
                Inequality Report.</strong></a> 2018</li>
</ul><!--kg-card-end: html--><h3 id="the-economic-model-of-income-labor-skill-and-utility">The Economic Model of Income, Labor, Skill, and Utility</h3><p>Classic tax theory focuses on people who earn <strong>income</strong> by performing <strong>labor</strong>. A worker gains utility from income but incurs the cost of labor effort. At some point, the extra utility from additional income does not outweigh the cost of additional effort. </p><p><em>For instance, working on weekends might earn you more money, but the effort might not be worth it to you.</em></p><p>A key assumption is that people differ in their <strong>skill</strong> level. Low-skilled workers receive a lower hourly wage, and so earn less money than high-skilled workers for the same amount of labor. This leads to inequality.</p><h3 id="the-central-tax-dilemma">The Central Tax Dilemma</h3><p>As a policy goal, a government may prefer to tax and redistribute income in order to improve equality. However, higher taxation can discourage work and may particularly affect high-skilled workers. An optimal tax policy optimizes this balance between equality and productivity. </p><!--kg-card-begin: html--><figure><img src="https://blog.einstein.ai/content/images/2020/04/figure-5-4.png"><figcaption>An illustrative view of how taxes can impact social outcomes. Left: Taxes can improve equality by transferring income. However, taxes can also decrease productivity, because they can discourage work. The AI Economist seeks a tax policy that optimizes this trade-off. The Pareto boundary is the set of maximal trade-offs. Right: Taxes impact productivity (total income, represented by the area of the big squares), and equality (the relative difference in sizes of the smaller squares). In this illustration, the AI Economist achieves the best trade-off.</figcaption></figure><!--kg-card-end: html--><p>A prominent tax framework, proposed by Emmanuel Saez, derives a simple optimal tax formula. However, this formula requires knowing how labor responds to changes in tax rates (√¢‚Ç¨≈ìelasticity√¢‚Ç¨ÔøΩ) and makes strong assumptions, for example, that the economy is static and workers do not gain new skills. Other work has studied dynamic economic systems, but needs simplifying assumptions in order to attain analytical solutions. For an extended overview of related work, see our technical paper.</p><!--kg-card-begin: html--><ul>
    <li><strong><a href="https://eml.berkeley.edu/~saez/derive.pdf" target="_blank">Using Elasticities To Derive Optimal
                Income Tax Rates.</a></strong> Saez, Emmanuel<br>
        The Review Of Economic Studies 68.1 (2001): 205-229.</li>
    <li><strong>The New Dynamic Public Finance.</strong> Kocherlakota, Narayana R.<br>
        Princeton; Oxford: Princeton University Press, 2010.</li>
</ul><!--kg-card-end: html--><h2 id="economic-simulation-as-a-learning-environment">Economic Simulation as a Learning Environment</h2><p>The AI Economist is a <strong>purely simulation and data-driven approach</strong> to the design of optimal tax policies. It uses a principled economic simulation with both workers and a policy maker (a "planner" in the economics literature), all of whom are collectively learning<strong> </strong>using reinforcement learning. </p><figure><img src="https://blog.einstein.ai/content/images/2020/04/freemarket-ai-1.gif"><figcaption>Left: Economic simulation in which four agents collect and trade resources, build houses and earn income. Right: wealth is not distributed evenly. The size of the disk shows total productivity, while colors show the percentage each agent owns. The trade-off between equality and productivity is measured by multiplying equality and productivity.&nbsp;</figcaption></figure><h3 id="gathering-trading-and-building">Gathering, Trading and Building</h3><p>The simulation uses a two-dimensional world. There are two types of resources: wood and stone. Resources are scarce: they appear in the world at a limited rate. Workers move around, gather and trade resources, and earn income by building houses (this costs stone and wood). Houses block access: workers cannot move through the houses built by others. The simulation runs this economy over the course of an episode, which is analogous to a √¢‚Ç¨≈ìworking career.√¢‚Ç¨ÔøΩ </p><h3 id="skill-and-utility">Skill and Utility</h3><p>A key feature is that workers have different skills<strong>. </strong>Higher-skilled workers earn more income for building houses, and thus more utility. Building houses also takes effort, which lowers utility. Workers also pay income taxes and the collected tax is redistributed evenly among the workers. Together, these economic factors and the various competitive drivers mean that workers need to be strategic in order to maximize their utility. </p><h3 id="emergent-specialization">Emergent Specialization</h3><p>Our economic simulation produces rich behavior when AI agents (the agents are the workers in the economy) learn to maximize their utility. A salient feature is specialization: AI agents with lower skill become <strong>gatherer-and-sellers </strong>and earn income by collecting and selling stone and wood. Agents with higher skill specialize as <strong>buyer-and-builders</strong> and purchase stone and wood in order to more quickly build houses. </p><!--kg-card-begin: html--><figure><img src="https://blog.einstein.ai/content/images/2020/04/group-embed.svg"><figcaption>Top: The state of the simulation over the course of a single play-through. Middle: Highly skilled agents choose to do more work, and earn larger incomes and experience more utility. Bottom: Agents trade with each other throughout. Upward bars indicate the agent mostly sold resources (earning coin) and downward bars indicate that it mostly bought resources (spending coin).</figcaption></figure><!--kg-card-end: html--><p>We do not impose such roles or behaviors directly. Rather, specialization emerges because differently skilled workers learn to balance their income and effort. This demonstrates the richness of the economic simulation and builds trust that agents respond to economic drivers. Complex emergent economic behavior has been previously studied in economics through agent-based modeling, but this has largely proceeded without the benefit of recent advances in AI.</p><!--kg-card-begin: html--><ul>
    <li><strong><a href="https://www.pnas.org/content/99/suppl_3/7280" target="_blank">Agent-Based Modeling: Methods And
                Techniques For Simulating Human Systems.</a></strong> Bonabeau, ‚Ä¶</li></ul></div></div></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.einstein.ai/the-ai-economist/">https://blog.einstein.ai/the-ai-economist/</a></em></p>]]>
            </description>
            <link>https://blog.einstein.ai/the-ai-economist/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25479104</guid>
            <pubDate>Sat, 19 Dec 2020 17:26:57 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Information Hazards in Career and Life]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25479032">thread link</a>) | @blindm
<br/>
December 19, 2020 | https://unpleasantfacts.com/information-hazards-in-career-and-life | <a href="https://web.archive.org/web/*/https://unpleasantfacts.com/information-hazards-in-career-and-life">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="post_body_1628185">
    
      <div><p>This site was named after the idea that we need to face
unpleasant facts. In some ways, it is named after a quote from George Orwell√¢‚Ç¨‚Ñ¢s<a href="https://www.orwellfoundation.com/the-orwell-foundation/orwell/essays-and-other-works/why-i-write/">
Why I Write</a>.</p>

<p><i>√¢‚Ç¨≈ìI knew that I had a facility with words and a power of
facing unpleasant facts, and I felt that this created a sort of private world
in which I could get my own back for my failure in everyday life.√¢‚Ç¨ÔøΩ</i></p>

<p>Now, I lack Orwell√¢‚Ç¨‚Ñ¢s facility with words, but I have always
thought that my ability to face and discuss unpleasant facts as an asset. After
encountering <a href="https://www.nickbostrom.com/information-hazards.pdf">Nick
Bostrom√¢‚Ç¨‚Ñ¢s work on information hazards</a>, I am less certain that this is the
case. According to Bostrom, an information hazard is:</p>

<p><i>A risk that arises from the dissemination or the
potential dissemination of (true) information that may cause harm or enable
some agent to cause harm</i></p>

<p>One basic example of this dynamic is that once people know
that nuclear bombs or certain bioweapons are possible, some agents who might
cause harm might figure out how to make these for themselves. For the world at
large, the advancement of science and spread of scientific knowledge is not
always good like we assume it is.</p>

<p>Bostrom√¢‚Ç¨‚Ñ¢s paper does a good job categorizing different types
of hazards, but I want to focus on how individuals might use the concept of
information hazards. An example of a potential information hazard is if a
person would be much happier never knowing their partner cheated on them. It is
only an information hazard if they could have lived their life happily having
never known that their partner was unfaithful. If they would have found out eventually
when other people laughed at them for it, or if they got an STD, genetically
tested their children, or if their partner then leaves them for their mistress
then the revelation is just getting bad news earlier and giving the person more
time to adjust for it, which is not an information hazard.</p>

<p>On an individual level, one way to frame this is the classic
Matrix dilemma, where Morpheus asks Neo if he wants to take the red pill and
see reality for what it is or take the blue pill and go back to believing
everything is normal. Many people immediately think the red pill is the obvious
option, but after taking the red pill they can no longer relate to their
previous friends. And worse, having taken the red pill Neo made enemies of immensely
powerful people.</p>

<p>Information hazards are not necessarily about red vs blue,
as taking the red pill might give you superpowers. But sometimes it is more
like a black pill that might give you a slightly more accurate understanding of
how the world works but saps your motivation to effectively navigate it.</p>

<p>Social media is a way information hazards get spread in the
world. One example that applies to everyone who uses social media: We know
intellectually that people have horrible views. But in today√¢‚Ç¨‚Ñ¢s world, more and
more people are saying offensive things in ways that can spread online. When a partisan
commentator is highlighting how some random person on the other team is
saying ridiculous thing about the world, a practice often referred to as nut-picking,
their partisan fans become less inclined to interact in good faith with anyone
on the other side. Everyone is worse off because they were exposed to true but unrepresentative information about how some people see the world.</p><p>It might be helpful to think through a few more scenarios.</p>

<p><i>Knowledge that makes you unpopular</i></p>

<p>One type of knowledge that is often more than useless is
knowledge that makes you unpopular. It might be fun to be the one to tell your
classmates that Santa Claus is not real, but they will not like you for it.
Similarly, knowing something is false when your colleagues ardently believe in
it can be dangerous for anyone with a predisposition for correcting others.</p>

<p><i>An accurate vision of a future point in time without
considering the paths that will lead there</i>.</p>

<p>There have been many economic bubbles, and not participating
early on has always been the wrong choice from a financial perspective.</p>

<p>Imagine a situation where people are getting excited about a
technology, but the pessimist who is interested in the area knows that it will
not be viable for another decade while others in the field insist that success
is a couple years around the corner. If they decide not to join or invest in a
group of otherwise very smart people working on this problem, they will miss
out on working with people at the cutting edge of what they are doing. And
their business venture might still be a success if they can convince someone
else to buy their company, whether it is public market investors or a CEO who wants
their company to have exposure to the cool new technology. They could buy it
early on even if numbers do not add up. And the pessimist could have been right
about the timeline and the fundamental economics but still miss out massively
by not joining that initial team. </p>

<p><i>Knowing that a problem is really hard</i></p>

<p>Similarly, industry insiders often miss out on new ideas
that remake their industry because they are too aware of the little details
that new solutions do not address. Knowing other details, they fail to appreciate
what can be built on top of new technologies.</p>

<p><i>Understanding that what they are doing is not helping the
world (or their customers).</i></p>

<p>It is debatable as to whether this is a true information
hazard for the world at large. But from an organization√¢‚Ç¨‚Ñ¢s or individual√¢‚Ç¨‚Ñ¢s
perspective, if they or their employees switch from believing they are helping the world towards
believing they are a negative force then morale will take a hit and there will
be less productivity. Like bad news about infidelity, this is not an
information hazard if there are effective paths that resolve the issues. But if an
employee is na√É¬Øve enough to put information about the problems into an email,
it could later be used as evidence against the company.</p>

<p>Google√¢‚Ç¨‚Ñ¢s quest to keep all mention of antitrust related
phrases out of any written communications is an example where explicit knowledge
of market dominance is effectively an information hazard.</p>

<p><i>When team members understand that they are not aligned
with the firm.</i></p>

<p>Many organizations have incentives set up that allow for abuse by clever employees.
When people understand these mismatching incentives, the organization can suffer. If one of
the employees notices a misalignment and does
not think before they point it out publicly, they might not be helping the company or themselves. Now other
employees might be tempted to take advantage of the loophole and some people in management might resent them for bringing up the issue in the first place when things weren't broken before they mentioned the problem.</p>

<p><i>Complete knowledge of costs, incomplete knowledge of
communication norms</i></p>

<p>Let√¢‚Ç¨‚Ñ¢s say that a project manager knows certain types of
projects run into cost overruns, and they incorporate those projections into their
presentation. First, the project will look expensive compared others. Second,
the observers might not give them credit for incorporating the overruns ahead
of time and might add an additional premium on top of their estimates, making the
project look even worse in comparison. The project manager suffers if they acknowledge the true costs ahead of time. From a societal perspective, it might be beneficial if a few less boondoggle high speed rail type projects get started under extremely rosy projections, but the people working on the project will hurt their careers if accurate information about the project's actual costs become widely known ahead of time.</p>

<p><i>Knowledge that a person acted badly towards someone else</i></p>

<p>Knowing that another person treated someone badly is another
type of information that is sometimes protective but can also backfire. People
are already subject to fundamental attribution error where they ignore the
situational factors when judging other√¢‚Ç¨‚Ñ¢s behavior. And if the person who did
something questionable is in their life regardless as part of their social
circle or exists in their business world, then it would be better not to hear
about a one-off instance of bad behavior unless it is likely that the bad
behavior is persistent or extreme enough to be worth noting.</p>

<p><i>Information about who is to blame during a crisis</i></p>

<p>Figuring out who to blame can backfire if everyone is going
to remain on the team and will be working to fix things together for the time
being. If there is a big leak in the boat, finding clues about who caused the
leak is a distraction to the main goal of bailing out the water and plugging
the hole. If two parents leave their child at the mall, understanding who was
supposed to bring them home does not help. Only after the crisis is solved is
information about who is at fault not likely to do more harm than good. Like
other types of potential information hazards, this only holds true to the
extent that the person at fault is not an active saboteur. (Or in the parent
analogy, it√¢‚Ç¨‚Ñ¢s possible that proof that one parent was at fault allows them to
stop fighting and focus on solving the problem)</p>

<p><i>General Solutions for personal information hazards:
Optimism, Social Grace and Esotericism</i></p>

<p>One confusing fact that the existence of personal information hazards help solve is how pessimists are generally more accurate than optimists, but
optimists succeed more often. About the only career in which pessimists do
better is law, where understanding downside scenarios is particularly valued. Developing
a bias towards optimism helps avoid focusing on information hazards that are more
likely to bring you or other people down.</p>

<p>One aspect of social grace is developing a habit of not
spewing out low-grade information hazards to people. If that is too difficult
for some people, and I can relate, then being a little bit more esoteric in
your speech and writings might be an alternative solution.</p>

<p>Knowledge in any amount can sometimes be a dangerous thing.
But thinking through some of these dynamics can ‚Ä¶</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://unpleasantfacts.com/information-hazards-in-career-and-life">https://unpleasantfacts.com/information-hazards-in-career-and-life</a></em></p>]]>
            </description>
            <link>https://unpleasantfacts.com/information-hazards-in-career-and-life</link>
            <guid isPermaLink="false">hacker-news-small-sites-25479032</guid>
            <pubDate>Sat, 19 Dec 2020 17:20:15 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[New, faster-spreading strain of coronavirus confirmed in Britain]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25478841">thread link</a>) | @neom
<br/>
December 19, 2020 | https://www.cbc.ca/news/world/britain-uk-coronavirus-mutation-strain-spread-covid-19-1.5848800 | <a href="https://web.archive.org/web/*/https://www.cbc.ca/news/world/britain-uk-coronavirus-mutation-strain-spread-covid-19-1.5848800">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>Families must cancel their Christmas gatherings and most shops have to close in London and much of southern England, U.K. Prime Minister Boris Johnson said Saturday as he imposed a new, stricter level of coronavirus restrictions on the region to curb rapidly spreading infections.</p><div><p><span><span><div><div title="New strain of coronavirus confirmed in Britain" role="button" tabindex="0"><div><div aria-labelledby="1834904131927-metadata-" title="New strain of coronavirus confirmed in Britain"><div><p><img src="https://thumbnails.cbc.ca/maven_legacy/thumbnails/909/967/covid-britain.jpg" alt="" loading="lazy"></p></div></div></div></div></div><span>The U.K. government, which is seeing a rise in infections in London and southeast England, says a new strain of the coronavirus has been found, and it has alerted the World Health Organization.<!-- --> <!-- -->2:24</span></span></span></p><p><span><p>Families must cancel their Christmas gatherings and most shops have to close in London and much of southern England, British Prime Minister Boris Johnson said Saturday as he imposed a new, stricter level of coronavirus restrictions on the region to curb rapidly spreading infections.</p>  <p>Johnson said Saturday that the capital and other areas in southern England currently under Tier 3, the highest level of coronavirus restrictions, will move to an even stricter new Tier 4 that requires non-essential shops, hairdressers and indoor leisure venues to close after the end of business hours on Saturday.</p>  <p>With just days to go until Christmas, Johnson also announced that a planned easing of socializing rules that would have allowed up to three households to meet in "Christmas bubbles" from Dec. 23 to Dec. 27 will be cancelled for Tier 4 areas and sharply curtailed in the rest of England.</p>  <p>"It is with a very heavy heart that I must tell you we cannot proceed with Christmas as planned," Johnson said.</p>  <p>He said he concluded there was "no alternative open to me," and people must sacrifice this Christmas to have a better chance of protecting the lives of loved ones.</p>  <p><span><figure><div><p><img loading="lazy" alt="" srcset="https://i.cbc.ca/1.5848954.1608405210!/fileImage/httpImage/image.jpg_gen/derivatives/original_300/virus-outbreak-britain.jpg 300w,https://i.cbc.ca/1.5848954.1608405210!/fileImage/httpImage/image.jpg_gen/derivatives/original_460/virus-outbreak-britain.jpg 460w,https://i.cbc.ca/1.5848954.1608405210!/fileImage/httpImage/image.jpg_gen/derivatives/original_620/virus-outbreak-britain.jpg 620w,https://i.cbc.ca/1.5848954.1608405210!/fileImage/httpImage/image.jpg_gen/derivatives/original_780/virus-outbreak-britain.jpg 780w,https://i.cbc.ca/1.5848954.1608405210!/fileImage/httpImage/image.jpg_gen/derivatives/original_1180/virus-outbreak-britain.jpg 1180w" sizes="(max-width: 300px) 300px,(max-width: 460px) 460px,(max-width: 620px) 620px,(max-width: 780px) 780px,(max-width: 1180px) 1180px" src="https://i.cbc.ca/1.5848954.1608405210!/fileImage/httpImage/image.jpg_gen/derivatives/original_780/virus-outbreak-britain.jpg"></p></div><figcaption>Shoppers are seen in London ahead of the new Tier 4 restriction measures on Saturday.<!-- --> <!-- -->(Alberto Pezzali/The Associated Press)</figcaption></figure></span></p>  <p>"I know how much emotion people invest in this time of year&nbsp;and how important it is for grandparents to see their grandchildren," Johnson said.</p>  <p>"But when the virus changes its method of attack, we must change our method of defence."</p>  <h2>New strain of virus</h2>  <p>A fast-moving new variant of the coronavirus that is more than 70 per cent&nbsp;more transmissible than existing strains appears to be driving the rapid spread in London and southern England, Johnson said. London now has the highest infection rates in England.</p>  <p>"There's no evidence to suggest it is more lethal or causes more severe illness," he stressed, or that vaccines will be less effective against it.</p>  <p>England's chief medical officer, Chris Whitty, said the U.K. has alerted the World Health Organization that the new variant identified this week appears to be accelerating the spread of COVID-19. The government's scientific advisers came to that conclusion based on preliminary modelling figures, and they are continuing to analyze the available data, he said.</p>  <p><span><blockquote lang="en"><p>We‚Äôre in close contact with UK üá¨üáß officials on the new &lt;a href="https://twitter.com/hashtag/COVID19?src=hash&amp;amp;ref_src=twsrc%5Etfw"&gt;#COVID19&lt;/a&gt; virus variant. They‚Äôll continue to share info &amp;amp; results of their analysis &amp;amp; ongoing studies. We‚Äôll update Member States &amp;amp; public as we learn more about the characteristics of this virus variant &amp;amp; any implications.</p>&amp;mdash;<a href="https://twitter.com/WHO/status/1340422517442420737">@WHO</a></blockquote></span></p>  <p>Viruses mutate regularly, and scientists have found thousands of different mutations among samples of the virus causing COVID-19. But many of these changes have no effect on how easily the virus spreads or how severe symptoms are.</p>  <p>Maria Van Kerkhove, the WHO's&nbsp;technical lead on COVID-19, told reporters after receiving notification from England this week that the United Nations health agency had "no evidence this variant behaves differently" and that it was similar to a variant initially reported among mink in Europe. She said scientists would study the virus strain to see if there might be any difference in how it prompts an immune response in people.</p>    <p>Wales and Northern Ireland, which have their own devolved governments and independent rules for controlling the virus, have already announced fresh lockdowns once Christmas is over.</p>  <p>U.K. officials reported another 28,507 confirmed cases on Friday, and 489 deaths of people within 28 days of testing positive for the virus. The U.K. has Europe's second-highest COVID-19 death toll behind Italy, standing at 66,541 as of Saturday.</p></span></p></div></div>]]>
            </description>
            <link>https://www.cbc.ca/news/world/britain-uk-coronavirus-mutation-strain-spread-covid-19-1.5848800</link>
            <guid isPermaLink="false">hacker-news-small-sites-25478841</guid>
            <pubDate>Sat, 19 Dec 2020 17:03:51 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The SolarWinds Orion Sunburst Supply-Chain Attack]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25478691">thread link</a>) | @aburan28
<br/>
December 19, 2020 | https://blog.truesec.com/2020/12/17/the-solarwinds-orion-sunburst-supply-chain-attack/ | <a href="https://web.archive.org/web/*/https://blog.truesec.com/2020/12/17/the-solarwinds-orion-sunburst-supply-chain-attack/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
							<div>

									
									
																			
									




<p><em>This is a preliminary analysis of the SolarWinds Orion supply-chain nation-state attack. This is an ongoing analysis and more information will be published when available.</em></p>



<p>UPDATE 2020-12-19 23:20 UTC: updated results table<br>UPDATE 2020-12-21 15:37 UTC: updated section on C2 infrastructure based on current findings<br>UPDATE 2020-12-22 17:04 UTC: added link to <a rel="noreferrer noopener" href="https://github.com/Truesec/sunburst-decoder" target="_blank">Invoke-SunburstDecoder</a><br>UPDATE 2020-12-22 22:48 UTC: added section: Disabling security services and avoiding detection</p>



<blockquote><p>This post provides a list of internal names of organizations that <strong>not only </strong>had the SUNBURST backdoor installed, but were also <strong>specifically targeted </strong>by the threat actor for <strong>the second stage of the attack</strong>, where <strong>further internal compromise </strong>might have taken place.</p></blockquote>



<h2>Summary</h2>



<p>The recent SolarWinds Orion hack is part of a cyberattack that is one of the most severe in history.</p>



<p>A supply-chain attack leveraged SolarWinds Orion updates to deliver a backdoor to potentially 18.000 SolarWinds customers. The attack was highly sophisticated.</p>



<p>The infected systems in the various compromised organizations were configured to probe the threat actor systems to request instructions.</p>



<p>Truesec Threat Intelligence analyzed the malware, as well as historical network data, to determine some of the affected organizations that the threat actor <strong>explicitly selected for further activities</strong>, where it is possible that further internal compromise took place.</p>



<p>While this is likely only a small part of the scope of the attack, it provides indications on the type of organizations that were the real targets of the attack.</p>



<p>Some names stand out, such as ggsg-us.cisco (<strong>Cisco GGSG</strong>), us.deloitte.co (<strong>Deloitte</strong>), nswhealth.net (<strong>NSW Ministry of Health in Australia</strong>), <strong>banccentral.com</strong> (service supplier of IT and security for banks), and many others.</p>



<p>Based on the decoded internal names of the victims, there are also indications that <strong>Mediatek</strong>, the 2<sup>nd</sup> largest semiconductors provider for mobile phones globally, was explicitly targeted by the threat actor. This is not confirmed at this point, but if confirmed it would have massive consequences globally.</p>



<p>The impact of this attack is likely to be of gigantic proportions. The full extent of this breach will most likely never be communicated to the public, and instead will be restricted to trusted parts of the intelligence community.</p>







<p>A supply-chain attack leveraged SolarWinds to deliver malicious software updates to their customers (approximately 18.000 potentially affected customers according to SolarWinds). The update installed a sophisticated backdoor giving the threat actor the ability to access selected targets and proceed with further activities inside the compromised organizations.</p>



<p>It is believed that the attack was carried out by a nation-state actor, likely APT29 a.k.a. Cozy Bear, i.e. Russian Intelligence.</p>



<p>FireEye and Microsoft initially published reports<a href="https://www.fireeye.com/blog/threat-research/2020/12/evasive-attacker-leverages-solarwinds-supply-chain-compromises-with-sunburst-backdoor.html" target="_blank" rel="noreferrer noopener">[1]</a><a href="https://msrc-blog.microsoft.com/2020/12/13/customer-guidance-on-recent-nation-state-cyber-attacks/" target="_blank" rel="noreferrer noopener">[2]</a> describing some of the inner workings of the backdoor. The backdoor is remarkably sophisticated and is worth a long technical description, while only some of its functionalities and characteristics are described in this article.</p>



<p>Truesec Threat Intelligence analysed the backdoor as well as historical network data to identify patterns revealing possible victims.</p>



<p>Due to the nature of the attack, a large number of organizations around the world have been affected by the backdoor, while likely only a smaller number were specifically selected and targeted by the threat actor to conduct additional internal compromise (phase 2).</p>



<p>This report presents some of the identified targets that were <strong>specifically targeted for phase 2</strong>.<br></p>







<p>The threat actor was able to inject a backdoor in the Solarwinds Orion software by modifying the source code of an existing plugin, which was then signed by Solarwinds and published as part of an update available on the SolarWinds website. SolarWinds published an advisory<a rel="noreferrer noopener" href="https://www.solarwinds.com/securityadvisory" target="_blank">[3]</a> specifying the versions affected.</p>



<p>The malicious update has been available for several months and there are indications of breaches as early as March 2020. One of the identified malicious updates was hosted at the following URL:</p>



<pre>hxxps://downloads.solarwinds[.]com/solarwinds/CatalogResources/Core/2019.4/2019.4.5220.20574/SolarWinds-Core-v2019.4.5220-Hotfix5.msp</pre>



<p>The update package was properly digitally-signed, as shown below.</p>



<figure><img loading="lazy" width="511" height="657" src="https://blog.truesec.com/wp-content/uploads/2020/12/solarwinds-orion-update-backdoor-sunburst-certificate.png" alt="SUNBURST backdoor update package signed by Solarwinds" srcset="https://blog.truesec.com/wp-content/uploads/2020/12/solarwinds-orion-update-backdoor-sunburst-certificate.png 511w, https://blog.truesec.com/wp-content/uploads/2020/12/solarwinds-orion-update-backdoor-sunburst-certificate-233x300.png 233w" sizes="(max-width: 511px) 100vw, 511px"><figcaption>Figure 1 ‚Äì Malicious Solarwinds Orion update containing SUNBURST backdoor</figcaption></figure>



<p>The backdoor code was made part of the following digitally-signed Orion component:</p>



<pre>SolarWinds.Orion.Core.BusinessLayer.dll</pre>



<p>This DLL is also signed.</p>



<figure><img loading="lazy" width="465" height="660" src="https://blog.truesec.com/wp-content/uploads/2020/12/solarwinds-orion-dll-backdoor-sunburst-certificate.png" alt="SUNBURST backdoor Orion DLL signed by Solarwinds" srcset="https://blog.truesec.com/wp-content/uploads/2020/12/solarwinds-orion-dll-backdoor-sunburst-certificate.png 465w, https://blog.truesec.com/wp-content/uploads/2020/12/solarwinds-orion-dll-backdoor-sunburst-certificate-211x300.png 211w" sizes="(max-width: 465px) 100vw, 465px"><figcaption>Figure 2 ‚Äì Malicious Solarwinds Orion DLL containing SUNBURST backdoor</figcaption></figure>



<p>The backdoor implements sophisticated functionality to communicate with the threat actor infrastructure and applies logic to determine what actions should be taken.</p>



<p>As a large number of Orion servers around the world have been infected with the backdoor, the threat actor had to have a way to determine which organization was contacting the attack infrastructure to be able to select the real target of this attack. This logic is explained below.</p>



<p>The hacked servers that received the Solarwinds backdoor periodically probe the threat actor infrastructure with a DNS query like the following:</p>



<pre>&lt;DGA_value&gt;.appsync-api.eu-west-1[.]avsvmcloud[.]com</pre>



<p>where &lt;DGA_value&gt; is computed with a DomainName Generation Algorithm and contains an encoded version of the internal Active Directory name of the infected server. The threat actor server decodes the information in the DNS requests and uses the internal domain name of the organization to determine what instructions to send back.</p>



<p>Truesec reversed the backdoor and identified a set of IP address ranges that, when received as part of the DNS response, will determine the actions taken by the backdoor code. Part of this code is illustrated in the figure below.</p>



<figure><img loading="lazy" width="769" height="523" src="https://blog.truesec.com/wp-content/uploads/2020/12/solarwinds-sunburst-backdoor-reversed-c2-servers.png" alt="Solarwinds sunburst backdoor reversed showing IP ranges used to determine next actions" srcset="https://blog.truesec.com/wp-content/uploads/2020/12/solarwinds-sunburst-backdoor-reversed-c2-servers.png 769w, https://blog.truesec.com/wp-content/uploads/2020/12/solarwinds-sunburst-backdoor-reversed-c2-servers-300x204.png 300w" sizes="(max-width: 769px) 100vw, 769px"><figcaption>Figure 3 ‚Äì Reversed SUNBURST backdoor showing IP ranges used to determine next actions</figcaption></figure>



<p>The <strong>AddressFamily</strong> field determines the type of operation as described below.</p>



<p><strong>Atm or ImpLink</strong> : enumerates processes and services.</p>



<p><strong>Ipx</strong> : update local ‚ÄúStatus‚Äù configuration.</p>



<p><strong>NetBios</strong>: can initialize an HTTP backdoor channel used to collect additional information and deploy a second stage malware (specified by the threat actor at the time of instructions, and therefore specific to the target).</p>



<p>We can therefore assume that if the initial probe was answered with an address of type <strong>NetBios</strong>, the threat actor explicitly took action to deploy a second stage to the affected organization, and likely performed additional internal compromise.</p>







<p>The DomainName Generation Algorithm described earlier, used to create a DNS query containing an encoded value of the internal domain name of the compromised organization, can be reversed.</p>



<p>RedDrip Team published a report<a href="https://mp.weixin.qq.com/s/v-ekPFtVNZG1W7vWjcuVug" target="_blank" rel="noreferrer noopener">[4]</a> and a script<a href="https://github.com/RedDrip7/SunBurst_DGA_Decode" target="_blank" rel="noreferrer noopener">[5]</a> to decode the DGA part of the DNS requests, therefore allowing to retrieve the cleartext value of the internal domain name of the hacked server that made the request.</p>



<p>For example, if a compromised server makes the following request to the threat actor server:</p>



<pre>ciepcqqog816s6urtt6t0kf60ceo6e20.appsync-api.us-east-2.avsvmcloud[.]com</pre>



<p>This can be decoded to obtain the following internal name of the victim:</p>



<pre>ggsg-us.cisco</pre>



<p>This means that having records of performed DNS requests to avsvmcloud[.]com will reveal the internal names of the compromised organizations.</p>



<p>The SUNBURST backdoor uses the following three parameters to create a ‚ÄúHost Id‚Äù used in the DNS requests:</p>



<ul><li>MAC address of the network interface</li><li>Internal domain name that the machine is joined to</li><li>Machine Guid from&nbsp;<strong>HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Cryptography\MachineGuid</strong></li></ul>



<p>Since the DGA values from DNS requests can be decoded, if you have a DNS request and you want to see if it was generated from a certain machine, you only need to know MAC address, internal domain name, and machine Guid.</p>



<p>This can be extremely helpful during investigations to determine if a machine had a communicating SUNBURST backdoor on it. <a href="https://github.com/Truesec/sunburst-decoder" target="_blank" rel="noreferrer noopener">We wrote a PowerShell script that can be used for this</a>, based on the <a href="https://www.netresec.com/?page=Blog&amp;month=2020-12&amp;post=Reassembling-Victim-Domain-Fragments-from-SUNBURST-DNS" target="_blank" rel="noreferrer noopener">great work </a>by Erik Hjelmvik, Netresec.</p>







<p>The next step was to obtain historical records of DNS requests, <strong>including the response</strong>. We obtained some of the available historical data<a href="https://github.com/bambenek/research/tree/main/sunburst" target="_blank" rel="noreferrer noopener">[6]</a> (as we find more data we will publish updates).</p>



<p>The sample data contains 1528 DNS requests to avsvmcloud[.]com and their responses.</p>



<p>When filtered for requests matching the DGA algorithm syntax, we have requests with dates ranging from early April to December 2020.</p>



<p>This is an example of such request and response:</p>



<pre>date : 2020-04-19 08:24:26
last_seen : 2020-04-19 08:24:27
qtype : 1
domain : avsvmcloud.com
qname : q8bps26mocuq6re4dutru70ct2w.appsync-api.us-east-1.avsvmcloud.com
value_ip : 8.18.144.138
type : ip
_key : 0e8ab64d5f5aff04fea862f4f72fcf1d04c3d377
value : 8.18.144.138</pre>



<p>From this data we can determine that on April 19<sup>th</sup>, a request was made that decodes to the internal name <strong>pageaz.gov</strong>, and received as response 8.18.144.138, which according to the backdoor logic explained earlier maps to address type <strong>NetBios</strong>, meaning that the threat actor might have deployed an HTTP backdoor in this environment.</p>







<p>By analysing the IP addresses returned when instructing infected servers to establish an HTTP backdoor, we can identify the following blocks.</p>



<figure><table><tbody><tr><td><strong>IP block</strong></td><td><strong>Registered Organization (WHOIS information)</strong><strong></strong></td></tr><tr><td>184.72.0.0 / 255.254.0.0</td><td>Amazon.com, Inc.</td></tr><tr><td>71.152.53.0 / 255.255.255.0</td><td>Amazon.com, Inc.</td></tr><tr><td>8.18.144.0 / 255.255.254.0</td><td>Amazon Inc.</td></tr><tr><td>87.238.80.0 / 255.255.248.0</td><td>Amazon Data Services Ireland DUB3 Datacentre</td></tr><tr><td>18.130.0.0 / 255.255.0.0</td><td>Amazon Technologies Inc.</td></tr><tr><td>99.79.0.0 / 255.255.0.0</td><td>Amazon Data Services Canada</td></tr><tr><td>199.201.117.0 / 255.255.255.0</td><td>Traiana, Inc</td></tr></tbody></table><figcaption>Table 1 ‚Äì List of IP blocks used when instructing systems to establish an HTTP backdoor, mapped to WHOIS ‚Ä¶</figcaption></figure></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.truesec.com/2020/12/17/the-solarwinds-orion-sunburst-supply-chain-attack/">https://blog.truesec.com/2020/12/17/the-solarwinds-orion-sunburst-supply-chain-attack/</a></em></p>]]>
            </description>
            <link>https://blog.truesec.com/2020/12/17/the-solarwinds-orion-sunburst-supply-chain-attack/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25478691</guid>
            <pubDate>Sat, 19 Dec 2020 16:49:44 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[C and the Dangers of Memcpy()]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25478505">thread link</a>) | @todsacerdoti
<br/>
December 19, 2020 | https://subethasoftware.com/2019/08/09/c-and-the-dangers-of-memcpy/ | <a href="https://web.archive.org/web/*/https://subethasoftware.com/2019/08/09/c-and-the-dangers-of-memcpy/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
			
<p><strong>Updates:</strong></p>



<ul><li><strong>2019-08-12 </strong>‚Äì Added note about using unions.</li></ul>



<p>In the C programming language, <strong>memcpy </strong>(memory copy) is a function used to copy a range of bytes from one location in memory to another. I have used it often. Today, my boss mentioned something about not liking memcpy() because of all the dangers of using it. I understand that incorrect addresses, bad calculations, and simple omissions from a copy/paste can cause a memcpy() to have bad results. But, what‚Äôs the alternative?</p>



<p>He mentioned that he prefers to use C structures to copy data around, as opposed to using memcpy() to copy blocks of data.</p>



<p>Instead of doing this‚Ä¶</p>



<pre>char Buffer1[64];
char Buffer2[64];

// Load Buffer1 with something.
strncpy (Buffer1, "Copy this string over", 64);

// Copy Buffer1 into Buffer2.
memcpy (Buffer2, Buffer1, 64);
</pre>



<p>That‚Äôs a simple, straight-forward example that seems <em>hard </em>to mess up. But doing something like this would be <em>impossible</em> to mess up:</p>



<pre>typedef struct
{
    char Buffer[64];
} CopyStruct64;

CopyStruct64 Buffer1;
CopyStruct64 Buffer2;

// Load Buffer1 structure with something.
strncpy (Buffer1.Buffer, "Copy this string over", 64);

// Copy Buffer1 structure into Buffer2 structure.
Buffer2 = Buffer1;</pre>



<p>Interesting. With properly defined structures, copying a block of data from one place to the other is done using code generated by the compiler.</p>



<p>(Update) And it seems I misspoke. He was actually talking about using <i>unions</i>, not structures. I‚Äôve used unions as unions, but never for something like this. I did a similar test. (I realize there are several ways to declare a union, but I am using typedef so it looks similar to the above structure example.)</p>



<pre>typedef union
{
    char Buffer[64];
} CopyUnion64;

CopyUnion64 Buffer1;
CopyUnion64 Buffer2;

// Load Buffer1 structure with something.
strncpy (Buffer1.Buffer, "Copy this string over", 64);

// Copy Buffer1 structure into Buffer2 structure.
Buffer2 = Buffer1;</pre>



<p>Using union appears to work the same way, and since my example was not using structure elements, it seems to make more sense to do it that way. (End of Update)</p>



<p>I‚Äôm just now wrapping my brain around this, trying to figure out how this approach could be used to avoid using memcpy() and pointers.</p>



<p>What do you think? Am I on the right track to what he was talking about?</p>



<p>Until next time‚Ä¶</p>
					</div></div>]]>
            </description>
            <link>https://subethasoftware.com/2019/08/09/c-and-the-dangers-of-memcpy/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25478505</guid>
            <pubDate>Sat, 19 Dec 2020 16:34:11 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Developer Exception Engineering]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25478435">thread link</a>) | @mooreds
<br/>
December 19, 2020 | https://www.swyx.io/developer-exception/ | <a href="https://web.archive.org/web/*/https://www.swyx.io/developer-exception/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<p>We need to have some real talk around what we are calling Developer Experience (DX) at developer-focused companies.</p>
<p>It's not well defined, although <a href="https://css-tricks.com/what-is-developer-experience-dx/">Chris Coyier has done a good survey</a> of what people think of when they hear the term, and others try to define <a href="https://devbizops.substack.com/p/from-developer-experience-to-enablement">Developer Enablement</a>. It's a differentiator among devtools, so of course it is professionalizing, and creeping into job titles (my last job title was "Developer Experience Engineer", whatever that actually means). I fully expect this to develop into a fullblown sub-industry, with conferences and thoughtleaders and gatekeepers and the like (right down to "<a href="https://twitter.com/terronk/status/1286774559274725376?s=20">Dev Advocate Cofounder</a>").</p>
<section>
  <h2 id="developer-experience"><a href="#developer-experience">"Developer Experience"</a></h2>
  <p>Here are some things that companies traditionally work on when they "work on DX":</p>
  <ul>
    <li><strong>Replacing many with few</strong>: Replacing many lines of code with few lines of code. Replacing many logos with one logo. Replacing many steps with one click (signup, deploy). <a href="https://www.swyx.io/writing/write-my-code-for-me/">Generating code</a> so you don't have to handwrite it. Providing great value and plenty of functionality as a first-party, out of the box, or with zero config.</li>
    <li><strong>Extensive Documentation</strong>: Getting Started. Example Demos. Interactive Examples. Full API Docs. Guides and Recipes. Good Search. Versioning. (appropriate to <a href="https://www.swyx.io/writing/documentation-levels/">project maturity</a>)</li>
    <li><strong>More tooling</strong>: CLIs, Editor Extensions, Code Snippets, Playgrounds, Language Servers.</li>
  </ul>
  <p>I'm not at all saying these things aren't important. They're even hard to do well, and fully deserve specialists in their own right. These foundational pieces of developer experience should also be <em>fast</em> and intuitive to the point of <a href="https://johno.com/guessable">guessable</a>.</p>
</section>
<section>
  <h2 id="developer-exceptions"><a href="#developer-exceptions">"Developer Exceptions"</a></h2>
  <p>But I'm also saying that developers, when they use our products, experience <em>many</em> other things which aren't traditionally the domain of "DX people", because they have to do with core engineering and product promises:</p>
  <ul>
    <li><strong>Downtime</strong>: When your service goes down, does your status page lie? Do you refrain from tweeting about it for fear of scaring off customers you don't yet have, rather than reassuring those you do? Do you post prompt, no-bullshit <a href="https://github.com/danluu/post-mortems">post-mortems</a>? Do you provide good fallback options for when your service is down? Do you practice disaster recovery?</li>
    <li><strong>Response times</strong>: Are you not just meeting your SLAs, but actually clearly answering customer questions? What are you doing for users not yet covered by SLAs? For your open source footprint, do users have confidence that their issues will be addressed and appropriate PRs reviewed, or are you asking people to do free work for you that you then ignore?</li>
    <li><strong>Missing/Incomplete Features</strong>: No product launches feature complete. Nobody expects you to. <strong>The true test is whether you address it up front or hide it like a dirty secret.</strong> As developers explore your offering, they will find things they want, that you don't have, and will tell you about it. How long do you make developers dig to find known holes in your product? Do developers have confidence you will ship or reject these features promptly, or are they for a "v2" that will never come?</li>
    <li><strong>Uncertainty over roadmap</strong>: Do your most avid users know what's coming so they can plan around your plan? If that's too high a bar, do your <em>own employees</em> know what's coming so they can coordinate nicely? Do you have "perma-beta" products? How do you communicate when users ask if they should use "orphan" products? (don't be ashamed, everyone has them)</li>
    <li><strong>Uncertainty over costs</strong>: Is your pricing predictable or do your users need a spreadsheet to figure out what you are going to charge them? If charges are unexpectedly high, can developers use your software to figure out why or do they have to beg for help? Are good defaults in place to get advance warning? Have your employees ever paid for your own product (or had to justify doing so to their own employers)?</li>
    <li><strong>Deprecation/Lock-in/Portability</strong>: Do you <a href="https://medium.com/@steve.yegge/dear-google-cloud-your-deprecation-policy-is-killing-you-ee7525dc05dc">constantly deprecate APIs and products</a>, causing additional work for no gain? Some amount of lock-in is unavoidable, but are you conscious of how much proprietary API you are foisting on your user? Should your user want to leave someday for whatever reason, have you documented that and made that easy, or are they on their own?</li>
    <li><strong>Debugging</strong>: Are your errors informative or scary? Have you designed them to be searchable or do they only make sense to maintainers? When things go wrong, how quickly does your service surface common issues and offer resolution steps? What about enabling users to answer <a href="https://www.swyx.io/writing/frontend-observability/">questions they don't yet know they have</a>? If developers are constantly making mistakes and "<a href="https://www.engadget.com/2010-06-24-apple-responds-over-iphone-4-reception-issues-youre-holding-th.html">holding the phone wrong</a>", is it their fault or yours?</li>
    <li><strong>Audit Logs &amp; Access Control</strong>: Many products start life in single-player mode, and then execute a very clumsy transition to multi-player when they start serving teams and enterprise. When something that shouldn't have been done has been done, do you offer trustworthy sources of truth, and ways to prevent repeats (or, of course, make them impossible in the first place)?</li>
  </ul>
</section>
<section>
  <h2 id="causes"><a href="#causes">Causes</a></h2>
  <p>Of course, none of these are new problems, and well known to product management. The problem is mostly organizational - as "developer advocacy" as a discipline evolved from "developer evangelism" (going from a "1 way street" to a "2 way street"), it is now evolving to "developer experience". I see a troubling organizational limitation of DX folks, defining DX to the stuff that focuses on increasing "top of funnel" growth (reducing friction, growing awareness, an endless parade of copycat short term growth hacks) - and having comparatively a lot less impact on the "bottom of funnel" stuff (logo churn, satisfaction scores, account expansion/customer success). <strong>There's little sense making more rain when faced with a leaky bucket</strong>.</p>
  <p>Conway's Law is an <a href="https://www.swyx.io/writing/eponymous-laws/">eponymous law</a> that states that "organizations design systems that mirror their own communication structure". Steven Sinofsky's snappier definition is "<a href="https://medium.com/@donorem/shipping-the-org-chart-3319181be9bd">don't ship your org chart</a>". We need to be careful about the consequences of letting Conway's Law apply to Developer Experience.</p>
  <p>
    <img src="https://dev-to-uploads.s3.amazonaws.com/i/87bsgzkj9jrftxhgxil9.png" alt="Alt Text">
  </p>
</section>
<section>
  <h2 id="engineering-for-developer-exceptions"><a href="#engineering-for-developer-exceptions">Engineering for Developer Exceptions</a></h2>
  <p>To be clear, I don't really know how to do this yet. I am just thinking out loud. But my intuition is that in order to design exceptional developer experiences, we should pay more attention to developer exceptions. As DX people, we've focused a lot on <code>try</code>, perhaps we should take a good look at <code>catch</code>.</p>
  <p>The first thing to fix is organizational incentives. DX work must not just feel welcome, it must be demanded and good results rewarded. Nobody wants to feel like they are adding weight onto an already overloaded backlog. Most orgs are set up in a way that lack of feedback isn't noticed when it isn't given, and feedback when given feels like additional burden. This is, unsurprisingly, not conducive to feedback.</p>
  <p>The second thing is to establish invariants around your core developer experience and automate monitoring and reporting of these to the fullest extent possible. <a href="https://twitter.com/sebmarkbage/status/1063585097545220096">Tools that hold the line are incredibly powerful</a>. To progress, you need to first stop regressing.</p>
  <p>My last thought is around helping PMs and EMs create DX, rather than taking primary responsibility. If you're sending in PRs and design docs yourself, you are probably doing too much of someone else's job and will be ineffective and/or resented. Better to provide them the information they need to make decisions and be available for opinions and instant feedback since you represent the end user. It is common for there to be an infinite list of small things to do - and that is very hard to sell internally - so how can you bundle these up into thematic projects, motivate engineers, and carefully communicate progress to the wider world?</p>
  <p>It's time we look beyond the easy questions in developer experience, and start addressing the uncomfortable ones.</p>
  <blockquote>
    <p>Note: This is my own thinking sparked by a third party conversation, and I am not speaking on behalf of my current employer.</p>
  </blockquote>
</section>
</div></div>]]>
            </description>
            <link>https://www.swyx.io/developer-exception/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25478435</guid>
            <pubDate>Sat, 19 Dec 2020 16:27:13 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Don't Buy the Fucking Domain]]>
            </title>
            <description>
<![CDATA[
Score 11 | Comments 3 (<a href="https://news.ycombinator.com/item?id=25478413">thread link</a>) | @squiggy22
<br/>
December 19, 2020 | https://further.ie/its-a-trap/ | <a href="https://web.archive.org/web/*/https://further.ie/its-a-trap/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
           <p>So you've just woke up, with another fantastic idea‚Ñ¢. You are a goddam creative professional, you've been here before. You know what to do. You ask yourself excitedly, </p><blockquote>Is the domain available?</blockquote>
           <p>You rush to you favourite domain registrar, credit card burning in your hand. <i>Oh, thank God I got there in time, no one else can touch me now</i>. You buy it. You applaud. You do nothing. Your domain name sits sadly in your account gathering dust, only for you to renew it year-on-year and your idea flutters away like a feather in the wind.</p>

           <h2>Sound familiar?</h2>
           <p>Christ, I'm guilt of this, but the one thing I've learnt over the years, is that the best way to ship something, is <span>not to start with the domain.</span> Domain buying is a folly, a siren singing you to shipwreck. The very action, for me at least only tricks my Lizard brain into thinking I've done <i>something</i> about it. The reality is, you've only done "fake work" as opposed to "real work". </p>
            <p>"Fake work" are the little things that make you feel as if you've moved the needle on your project, but really you've just been procrastinating. Buying domains, reading e-books on marketing, reading this blog post, refactoring code that you aren't happy with - all fake work. Feels good to do it, but leaves your business and projects no closer to moving forwards. Real work on the other hand, actually creates something. A domain name is the sprinkles on the doughnut, not the goo that holds the pieces together. Go build your landing page, then worry about your domain.</p>
           
            <h2>But, erms, what if, someone buys the domain before me?</h2>
            <p>Guess what, domains are just like ideas. Worthless unless you execute on them. Even if someone does decide to buy it, (which is unlikely anyway if it is available) - the domain name doesn't fucking matter.</p><p> Case in point - who in their right mind would have bought the domain Google.com before Google existed? </p><blockquote>It's a brand built on the product, not a product built on the brand.</blockquote><p> You are creative after all, I'm sure you've thousands of ideas - and no shortage of domain creativity to go along with it. What is it going to take once your project is ready to sit down and worry about the domain at <i>that</i> stage? </p>
                <p>Now, stop reading this and go and build something.</p>
        </div></div>]]>
            </description>
            <link>https://further.ie/its-a-trap/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25478413</guid>
            <pubDate>Sat, 19 Dec 2020 16:25:10 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Detecting Sunburst with Panther]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25478269">thread link</a>) | @willow9886
<br/>
December 19, 2020 | https://blog.runpanther.io/detecting-sunburst-malware-with-panther/ | <a href="https://web.archive.org/web/*/https://blog.runpanther.io/detecting-sunburst-malware-with-panther/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-main">
    <div>

        <article>

            

            <figure>
                <img srcset="https://blog.runpanther.io/content/images/size/w300/2020/12/AdobeStock_366251453-1.jpeg 300w,
                            https://blog.runpanther.io/content/images/size/w600/2020/12/AdobeStock_366251453-1.jpeg 600w,
                            https://blog.runpanther.io/content/images/size/w1000/2020/12/AdobeStock_366251453-1.jpeg 1000w,
                            https://blog.runpanther.io/content/images/size/w2000/2020/12/AdobeStock_366251453-1.jpeg 2000w" sizes="(max-width: 800px) 400px,
                            (max-width: 1170px) 700px,
                            1400px" src="https://blog.runpanther.io/content/images/size/w2000/2020/12/AdobeStock_366251453-1.jpeg" alt="Detecting SUNBURST Malware with Panther">
            </figure>

            <section>
                <div>
                    <p><em>Use Panther‚Äôs open source detections to identify machines compromised by the SUNBURST malware.</em><br></p><p><br><strong>TL;DR: </strong>Here's how you can run Panther to detect and investigate malware like SUNBURST:</p><ol><li>Add threat intelligence data to a shared Panther Module that can be used by multiple detections</li><li>Analyze normalized security data with Python detections to generate real-time alerts for known-bad indicators</li><li>Search across your security data lake to determine if your systems were breached, and if so, pivot to understand how you were impacted</li></ol><p>Breaches like SUNBURST, the one impacting <a href="https://www.solarwinds.com/">SolarWinds</a>, a network management software vendor, go far beyond the company itself. In this case, the malicious code is projected to have <strong>impacted nearly 18,000 customers</strong> in a supply-chain compromise. </p><p>FireEye believes that attackers trojanized SolarWinds Orion business software and distributed malicious but legitimately signed updates to customers. This resulted in a widespread compromise, lateral movement from within victim environments, callbacks to C2, and potential exfiltration of sensitive data. In addition, to keep a presence in the network for later stage attacks, the malicious actors used obfuscated blocklists to identify security tools and processes that were then used to create multiple backdoors.</p><p>Today, Panther has published an addition to our <strong>open source detections to actively track malware callbacks to the SUNBURST Indicators of Compromise (IoCs)</strong> identified by FireEye. These can be easily uploaded to your Panther deployment to immediately analyze your critical log data, like VPC Flow logs, Cisco Umbrella, and more. In this blog post, we‚Äôll outline how these detections work and give you a formula for tracking any type of IoC list.</p><p>For more details about the associated IoCs, network activity, and what we used as a reference to write our detections, read <a href="https://www.fireeye.com/blog/threat-research/2020/12/evasive-attacker-leverages-solarwinds-supply-chain-compromises-with-sunburst-backdoor.html">FireEye's in-depth blog post</a>. Also, for the full list of IoCs and detection signatures, check-out <a href="https://github.com/fireeye/sunburst_countermeasures">FireEye‚Äôs countermeasures</a>.</p><h2 id="detections-in-panther">Detections in Panther</h2><h3 id="add-known-bad-indicators-into-a-python-module">Add Known-Bad Indicators into a Python Module</h3><p>With Panther's <a href="https://docs.runpanther.io/user-guide/analysis/globals">Python modules</a>, you can <strong>define detection logic and datasets in one place</strong>, like threat intelligence, that can be used across multiple detections.</p><figure><img src="https://lh3.googleusercontent.com/1cmOgIVnXsVAs4VkIrgDT4LFmuVWnlBiX46hvbbesAsek9KA8n7rv3oh2eYAPuzVYr0Y79Jnyo4eRJG664839RHvNZayuX4lkLztAy-PtZn1XCZazG_2nO-tsLfewp_jJtronCLB" alt=""><figcaption>Panther's "Python Modules" for shared detection logic</figcaption></figure><p>In this case, the SUNBURST IOCs gathered from FireEye‚Äôs report are added into a new global called <code>panther_iocs</code>, which is then used by our detections to analyze incoming logs for the identified known indicators.</p><figure><img src="https://lh4.googleusercontent.com/CJ-PFsj8cDIfL8hCQIklxS45rYOBlWxA--r91WXS7bksDvES-hUnTdlb010NlWTAGvOBncNOpAvVAIYojrOlna_J0wk6Lw9uJy1cyKc7PFm7Z1_S--xPJJqY0ZIrfEzxat7RnONE" alt=""><figcaption>SUNBURST IOCs</figcaption></figure><h3 id="enable-sunburst-detections-for-real-time-alerts">Enable SUNBURST Detections for Real-Time Alerts</h3><p>The Python rule below imports the IOC module and will <strong>identify hits on indicators by utilizing the <a href="https://docs.runpanther.io/log-analysis/panther-fields">Panther standard fields</a></strong>, in this case, <code>p_any_ip_addresses</code>. </p><figure><img src="https://lh3.googleusercontent.com/JcI2hGZXmhW_TJUsPBjVeoi_5d3pqd5vuHLMDx6Vz3gxAsPKIOcw59b7HIxQhRhQgnetGwkhSdiZYZMluXFsZAxYwAyVy81WK1DCVUoebFvQJc3dk1g_ml9Do8dCaKmlSidq3nge" alt=""><figcaption>Detecting known-malicious IPs associated with SUNBURST</figcaption></figure><p>During the data normalization process, these standard fields are populated to pull atomic indicators into the top-level that can otherwise be difficult to access. By creating a rich metadata layer across all of your critical security data, simple rules like the one above can be applied to many different environments. </p><p>For example, <strong>this rule is applied to logs from Okta, AWS, Cisco Umbrella, and more.</strong></p><figure><img src="https://lh6.googleusercontent.com/Az1HBYPEiwxp6FZ7gHnb9GslVwckLfeeNthT_sl6_loAy66dIguU7cbXx-4jWyI0GV4ZR4SkidZXtJgki1AasTaAYBD3IluhfhnHSfU2HRDsUs2QTiYmOrZ3njR8_WN2NrPjBG2Y" alt=""></figure><p>Now, if any of the IPs from our threat intelligence data appear within new logs from these systems, security teams will <strong>receive a high-value alert to investigate</strong>.</p><h3 id="investigate-your-historical-data-for-sunburst-indicators">Investigate Your Historical Data for SUNBURST Indicators</h3><p>Finally, to determine if these indicators ever previously appeared in your systems, Panther‚Äôs <a href="https://docs.runpanther.io/enterprise/data-analytics/indicator-search">Indicator Search</a> can be used to <strong>find hits across all of the collected logs in the security data lake</strong>:</p><figure><img src="https://lh3.googleusercontent.com/dq9wRcKcEq3Jis-GcIfEh64KFOJUPesBmt3gXERUDLUW9zSnT5gikWDTVXWnc3S-ChJFYDwfUQNcBcKsl5UUfy_lT2VsAM4B6Uzcsk5q5qImzFnobXA6UtvfNTxU7_Q1LRsKrtyd" alt=""><figcaption>Searching for known-malicious domains associated with SUNBURST</figcaption></figure><p>The search displays a <strong>timeline of all hits, grouped across logs and previously generated alerts</strong> in the specified timeframe.</p><figure><img src="https://lh5.googleusercontent.com/XFpnGWgvGop3m4K0WQKQBPx_Q3EwmepkiTewE4vanjZAhImTxhSKDkk1NYy5f0bogm8_pPd7DPrSfbVcg0m331neMRU-v47cFze0PX9ReAoMwscPzeV6cAzqWJBgFN4jBMR0j18v" alt=""><figcaption>Identifying malicious hits in the logs</figcaption></figure><p>To further investigate, pivot directly to the hits with Panther's <a href="https://docs.runpanther.io/enterprise/data-analytics/data-explorer">Data Explorer</a> and continue to <strong>refine your analytics using SQL</strong>:</p><figure><img src="https://lh4.googleusercontent.com/hy2_NCaG39t-CNMLCF8GTz17iVOzwqWTu9p4DYlf2xi1ZMJrQqcH3UHf5OyHldMjoSgHMxn6oRUlnEoeINkYMg-qS61QMvQK_dmFAL-S1lIh4ui6TqWjNcI7nOL9aUyh_tFmsOwb" alt=""><figcaption>Investigating the impact of the breach</figcaption></figure><p><strong>Results can be shared with your team</strong> to identify root cause, impacted systems, and tell the full story.</p><h2 id="getting-started">Getting Started</h2><p>Detecting a sophisticated breach starts with a clear understanding of what's happening across your environment. This sounds simple, but requires that all logs are continually collected and retained in a searchable format, at a high scale. Panther takes care of all of the heavy lifting, data transformation, detection, and alerting, built fully on top of a scalable data lake with Python and SQL as the tools to improve your monitoring posture.</p><p>Get started by <strong>downloading our newest detections</strong> and uploading them to your instance of Panther: </p><p><a href="https://github.com/panther-labs/panther-analysis/releases/tag/v1.14.0">https://github.com/panther-labs/panther-analysis/releases/tag/v1.14.0</a> (zip)</p><p>Thanks and Happy Hunting!</p><h2 id="want-to-learn-more">Want to learn more?</h2><ul><li><a href="https://blog.runpanther.io/threat-hunting/">Read more about Threat Hunting at Scale and Speed with Panther</a></li><li><a href="https://runpanther.io/webinars/threat-hunting-at-scale-with-panther/">Dive-in and learn how to identify even the most sophisticated attacks with real-time detections and threat hunting with Panther. </a></li></ul>
                </div>
            </section>


            


        </article>

    </div>
</div></div>]]>
            </description>
            <link>https://blog.runpanther.io/detecting-sunburst-malware-with-panther/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25478269</guid>
            <pubDate>Sat, 19 Dec 2020 16:10:05 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Using a Systems View to Understand Personal Finance]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25478165">thread link</a>) | @Ozzie_osman
<br/>
December 19, 2020 | https://somehowmanage.com/2020/12/16/using-a-systems-view-to-understand-personal-finance/ | <a href="https://web.archive.org/web/*/https://somehowmanage.com/2020/12/16/using-a-systems-view-to-understand-personal-finance/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-342">

	

	
	<div>
		
<p>I always struggled with double-entry accounting, even after I got an MBA. I could do it and mostly memorized my way through a lot of the jargon, but it wasn‚Äôt until I took a systems view to accounting that I really understood the mechanics of how things worked. I figured I‚Äôd share some thoughts about that.</p>



<h3>Stocks vs. Flows</h3>



<p>A common theme in systems thinking is the idea of stock vs. flow. In accounting, everything looks like numbers, but in reality, some of those numbers are stocks, and some are flows, and understanding that distinction is critical.</p>



<p>So‚Äîmore generally‚Äîwhat are stocks and flows? The classic illustrative example is a bathtub. The stock is the amount of water in the tub. Flows are water going into, or out of, the tub (via the drain and via the faucet). There are a few important relationships between stocks and flows:</p>



<ul><li><strong>Time: </strong>A stock is measured as an amount at a fixed point in time (10 gallons at 10:00AM). A flow is actually a different unit, it is either a flow (ie 1 gallon / minute) or a fixed amount over a <em>period</em> (5 gallons between 10:00AM and 11:00AM).</li><li><strong>Space: </strong>A stock is measured for a system with a boundary (e.g. a bathtub). Anything within the boundary is part of that stock. Flow happens <em>between</em> system boundaries.</li></ul>



<p>There is a simple law that holds true for all systems, which is that the change in stock of a system between two time periods is equal to the sum of the flow that happened <em>within</em> that period. This is obvious but stating it is important. If the tub had 10 gallons at 10:00AM and 15 gallons at 10:15AM, this means the total flow was +5 gallons in that period. It could be that the faucet added 10 gallons, 8 went down the drain, 1 evaporated, and you poured in 4 using a bucket. That sum has to be 5 (15 ‚Äì 10).</p>



<p>How does this relate to personal finance? Well the first and obvious mistake is mixing stock and flow. Your cash balance, in a checking account, is a stock. An expense is a flow. They both look like numbers with a dollar sign, and they are related (like any stock and flow might be), but they are really different things.</p>



<p>Confusing stock and flow can often lead to simple mistakes or underspecified statements. Like ‚ÄúI have a $10K balance in my account in October‚Äù. That is an underspecified statement. Does it mean you maintained a minimum balance of $10K in October? Does it mean you had $10K at midnight of October 1st?</p>



<h3>System Boundaries</h3>



<p>One of the interesting pieces of systems thinking is that you can draw arbitrary boundaries around pieces of a system, and when you do, events can look very different. You can draw smaller boundaries to observe things more carefully, or larger boundaries for a broader view.</p>



<p>Let‚Äôs take this ‚Äúsystem‚Äù with two cash accounts.</p>



<figure><img data-attachment-id="349" data-permalink="https://somehowmanage.com/image-3/" data-orig-file="https://somehowmanage.files.wordpress.com/2020/12/image-3.png" data-orig-size="2208,1010" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="image-3" data-image-description="" data-medium-file="https://somehowmanage.files.wordpress.com/2020/12/image-3.png?w=300" data-large-file="https://somehowmanage.files.wordpress.com/2020/12/image-3.png?w=750" src="https://somehowmanage.files.wordpress.com/2020/12/image-3.png?w=1024" alt="" srcset="https://somehowmanage.files.wordpress.com/2020/12/image-3.png?w=1024 1024w, https://somehowmanage.files.wordpress.com/2020/12/image-3.png?w=2046 2046w, https://somehowmanage.files.wordpress.com/2020/12/image-3.png?w=150 150w, https://somehowmanage.files.wordpress.com/2020/12/image-3.png?w=300 300w, https://somehowmanage.files.wordpress.com/2020/12/image-3.png?w=768 768w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>



<p>The green boundary encompasses only one account. That account has a balance, and it has some flows (cash flow). For the purposes of the green system, it doesn‚Äôt matter if a flow is an expense, a transfer, etc, all that matters is how big it was, whether it was in or out, and when it happened. You can call it a credit or a debit‚Äîthat‚Äôs just convention.</p>



<p>A bank‚Äôs statement tells you the stocks and flows. For a period of time, the green ‚Äúsystem‚Äù will have a starting balance, some flows (in and out), and an ending balance. That should all sum up.</p>



<p>In fact, if you know (or can predict) all the flows, you can derive the balance at any point in time. <strong><em>An account is a series of financial flows (magnitude, direction, datetime).</em></strong> <strong><em>The balance is always directly derivable from the cash flows.</em></strong> Simplistically, having that series of flows fully specifies the account. And, for the purposes of a single account, it doesn‚Äôt really matter where the money is flowing to (or from), just that it is flowing in (or out) of that single account.</p>



<p>Now instead, if you take the (broader) yellow system, the story is different. A transfer between two accounts isn‚Äôt an inflow or outflow, it‚Äôs neutral, and you could, if you didn‚Äôt care about individual account balances, simplify the system like this:</p>



<figure><img data-attachment-id="351" data-permalink="https://somehowmanage.com/image-4/" data-orig-file="https://somehowmanage.files.wordpress.com/2020/12/image-4.png" data-orig-size="2170,1048" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="image-4" data-image-description="" data-medium-file="https://somehowmanage.files.wordpress.com/2020/12/image-4.png?w=300" data-large-file="https://somehowmanage.files.wordpress.com/2020/12/image-4.png?w=750" src="https://somehowmanage.files.wordpress.com/2020/12/image-4.png?w=1024" alt="" srcset="https://somehowmanage.files.wordpress.com/2020/12/image-4.png?w=1024 1024w, https://somehowmanage.files.wordpress.com/2020/12/image-4.png?w=2048 2048w, https://somehowmanage.files.wordpress.com/2020/12/image-4.png?w=150 150w, https://somehowmanage.files.wordpress.com/2020/12/image-4.png?w=300 300w, https://somehowmanage.files.wordpress.com/2020/12/image-4.png?w=768 768w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>



<p>Let‚Äôs do a slightly more complicated example. At Monarch, we sometimes see users treat credit card payments as an expense, while others treat them as a transfer. This discrepancy is pretty easy to explain using system boundaries.</p>



<figure><img data-attachment-id="353" data-permalink="https://somehowmanage.com/image-5/" data-orig-file="https://somehowmanage.files.wordpress.com/2020/12/image-5.png" data-orig-size="2236,984" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="image-5" data-image-description="" data-medium-file="https://somehowmanage.files.wordpress.com/2020/12/image-5.png?w=300" data-large-file="https://somehowmanage.files.wordpress.com/2020/12/image-5.png?w=750" src="https://somehowmanage.files.wordpress.com/2020/12/image-5.png?w=1024" alt="" srcset="https://somehowmanage.files.wordpress.com/2020/12/image-5.png?w=1024 1024w, https://somehowmanage.files.wordpress.com/2020/12/image-5.png?w=2048 2048w, https://somehowmanage.files.wordpress.com/2020/12/image-5.png?w=150 150w, https://somehowmanage.files.wordpress.com/2020/12/image-5.png?w=300 300w, https://somehowmanage.files.wordpress.com/2020/12/image-5.png?w=768 768w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>



<p>If you‚Äôre using the yellow boundary, that payment is a neutral transfer. That‚Äôs also the proper accounting solution, of course. Technically, that payment doesn‚Äôt affect your net worth, because it reduces an asset <em>and</em> a liability by the same amount. It is two opposing flows.</p>



<p>But if you‚Äôre looking at the cash account only, because you‚Äôre cash-oriented (maybe because you‚Äôre worried that if you run out of cash you won‚Äôt be able to pay your rent or buy food), you‚Äôd be looking at the green boundary. In which case, that credit card payment is an outflow, and it looks more like expense. So, in a sense, while the yellow boundary gives you the right solution technically, it‚Äôs hard to tell someone looking at the green boundary that their explanation is wrong.</p>



<p>And in fact, the <em>allocation</em> of money within accounts does impact the future flows, in ways that people underestimate‚Ä¶ because things like interest create a <em>feedback loop</em>, where future flows depend on the balance, and interest compounds in ways that people tend to always underestimate but is extremely poweful.</p>



<p>Let‚Äôs do one more, where you make a payment towards your auto loan.</p>



<figure><img data-attachment-id="355" data-permalink="https://somehowmanage.com/image-6/" data-orig-file="https://somehowmanage.files.wordpress.com/2020/12/image-6.png" data-orig-size="2192,1418" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="image-6" data-image-description="" data-medium-file="https://somehowmanage.files.wordpress.com/2020/12/image-6.png?w=300" data-large-file="https://somehowmanage.files.wordpress.com/2020/12/image-6.png?w=750" src="https://somehowmanage.files.wordpress.com/2020/12/image-6.png?w=1024" alt="" srcset="https://somehowmanage.files.wordpress.com/2020/12/image-6.png?w=1024 1024w, https://somehowmanage.files.wordpress.com/2020/12/image-6.png?w=2048 2048w, https://somehowmanage.files.wordpress.com/2020/12/image-6.png?w=150 150w, https://somehowmanage.files.wordpress.com/2020/12/image-6.png?w=300 300w, https://somehowmanage.files.wordpress.com/2020/12/image-6.png?w=768 768w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>



<p>If you take the green boundary, then a payment to your car loan looks like an outflow of cash from your account, and it seems like it is decreasing your net worth (ie an expense). However, if you take a broader system view, then you are actually paying down a liability, so your cash account is losing cash, but part of that cash is going to decreasing your liability (ie a transfer), and that part is neutral to your net worth. Then there‚Äôs interest involved too, but that interest <em>is </em>actually expense. And payments may have tax implications as well (e.g. mortgage). And of course, I didn‚Äôt even factor in that your car is depreciating. Anyway, the point is, a flow or event can look very different depending on how you draw your boundaries. Not only can it get more complicated, it also just looks like a completely different event.</p>



<h3>Double-Entry Accounting</h3>



<p>Double-entry accounting is the main paradigm in use with modern accounting. It sound scary‚Äîthis is where you run into words like ‚Äúdebits‚Äù and ‚Äúcredits‚Äù. You can memorize what each of those is, but I find it a lot easier to first intuitively understand what‚Äôs going. And the stock and flow system model can help with that.</p>



<p>Double-entry means that every transaction to/from an account has to have corresponding, opposing entry to/from a different account. It‚Äôs not entirely intuitive to most people, but we can easily map it to our model by just creating the right system of accounts and drawing the right boundaries. Basically, because a transaction is a flow, it has to flow from somewhere (one entry) to the other (the other, opposing entry).</p>



<p>For example, a transfer between two bank accounts is easy, because the opposing transactions are clear. -$100 out of your checking account, $100 into your savings.</p>



<p>What about an expense? Expenses look something like this:</p>



<figure><img data-attachment-id="368" data-permalink="https://somehowmanage.com/image-7/" data-orig-file="https://somehowmanage.files.wordpress.com/2020/12/image-7.png" data-orig-size="2198,1510" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="image-7" data-image-description="" data-medium-file="https://somehowmanage.files.wordpress.com/2020/12/image-7.png?w=300" data-large-file="https://somehowmanage.files.wordpress.com/2020/12/image-7.png?w=750" src="https://somehowmanage.files.wordpress.com/2020/12/image-7.png?w=1024" alt="" srcset="https://somehowmanage.files.wordpress.com/2020/12/image-7.png?w=1024 1024w, https://somehowmanage.files.wordpress.com/2020/12/image-7.png?w=2048 2048w, https://somehowmanage.files.wordpress.com/2020/12/image-7.png?w=150 150w, https://somehowmanage.files.wordpress.com/2020/12/image-7.png?w=300 300w, https://somehowmanage.files.wordpress.com/2020/12/image-7.png?w=768 768w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>



<p>When you buy groceries for $10, you can think of it as being a flow of -$10 out of your cash accounts, and a flow of +$10 into a ‚Äúgroceries account‚Äù. Except the groceries account isn‚Äôt a ‚Äúreal account‚Äù, it‚Äôs just created because it helps us ‚Äúbalance the books‚Äù. And we shouldn‚Äôt include it inside our system boundary for net worth (or cash or anything else). But if you want, you could create a system boundary that encompasses all expenses, and it would look like this:</p>



<figure><img data-attachment-id="370" data-permalink="https://somehowmanage.com/image-8/" data-orig-file="https://somehowmanage.files.wordpress.com/2020/12/image-8.png" data-orig-size="1886,1494" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="image-8" data-image-description="" data-medium-file="https://somehowmanage.files.wordpress.com/2020/12/image-8.png?w=300" data-large-file="https://somehowmanage.files.wordpress.com/2020/12/image-8.png?w=750" src="https://somehowmanage.files.wordpress.com/2020/12/image-8.png?w=1024" alt="" srcset="https://somehowmanage.files.wordpress.com/2020/12/image-8.png?w=1024 1024w, https://somehowmanage.files.wordpress.com/2020/12/image-8.png?w=150 150w, https://somehowmanage.files.wordpress.com/2020/12/image-8.png?w=300 300w, https://somehowmanage.files.wordpress.com/2020/12/image-8.png?w=768 768w, https://somehowmanage.files.wordpress.com/2020/12/image-8.png 1886w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>



<p>Businesses all use double-entry accounting. When they buy something, if that thing is an asset, they‚Äôd decrease their cash account, create an account for the new asset (or put into an existing asset account). They would then depreciate the asset over time (by, you guessed it, creating a ‚Äúdepreciation account‚Äù). The asset account is included in the business‚Äôs ‚Äúnet worth‚Äù (balance statement)‚Äîit‚Äôs inside that system boundary. But depreciation is <em>outside</em> the boundary, and so it isn‚Äôt, and it becomes an expense. (Of course, if they buy something that doesn‚Äôt become an asset, it would an immediate expense).</p>



<p>You can really create accounts for anything you want, and if you wanted a complete system, you would do exactly that.</p>



<p>Anyway, stocks and flows and double-entry accounting are the same thing, assuming you‚Äôre labeling things correctly, and all flows are opposing. The only difference is rather than using diagrams like we use in stocks and flows, a double-entry might look like:</p>



<figure><img loading="lazy" data-attachment-id="372" data-permalink="https://somehowmanage.com/image-9/" data-orig-file="https://somehowmanage.files.wordpress.com/2020/12/image-9.png" data-orig-size="824,402" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="image-9" data-image-description="" data-medium-file="https://somehowmanage.files.wordpress.com/2020/12/image-9.png?w=300" data-large-file="https://somehowmanage.files.wordpress.com/2020/12/image-9.png?w=750" src="https://somehowmanage.files.wordpress.com/2020/12/image-9.png?w=824" alt="" width="471" height="229" srcset="https://somehowmanage.files.wordpress.com/2020/12/image-9.png?w=469 469w, https://somehowmanage.files.wordpress.com/2020/12/image-9.png?w=150 150w, https://somehowmanage.files.wordpress.com/2020/12/image-9.png?w=300 300w, https://somehowmanage.files.wordpress.com/2020/12/image-9.png?w=768 768w, https://somehowmanage.files.wordpress.com/2020/12/image-9.png 824w" sizes="(max-width: 471px) 100vw, 471px"></figure>



<p>I find stocks and flows more intuitive than double-entry accounting. For one, anyone I know who has studied accounting initially struggles to understand a debit vs a credit. Also, it‚Äôs less visual, and makes it less clear what the ‚Äúsystem boundaries‚Äù are.</p>



<h3>Going Beyond Simple Systems</h3>



<p>Since we‚Äôre building a personal finance platform, we spend a lot of time thinking about these things.</p>



<p>Let‚Äôs assume you‚Äôre a person or household, and you‚Äôre trying to understand your financial picture. If you look at what a lot of current budgeting apps do, they provide:</p>



<ul><li>Historical views (spending): you can break things down by account, category, etc because you have the account-level data from banks. You can tell someone what they‚Äôve spent money on. Sure, there might be some confusion around whether paying down a credit card is an expense or a transfer, but those are easily resolvable.</li><li>Current views (balances): again, you can break things down pretty well if you have the account-level data. You can track balances and things like net worth over time, assuming you have the data and are tracking all accounts.</li><li>Forward view (budgeting): <strong>this is where things start to fall apart, because this is ‚Ä¶</strong></li></ul></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://somehowmanage.com/2020/12/16/using-a-systems-view-to-understand-personal-finance/">https://somehowmanage.com/2020/12/16/using-a-systems-view-to-understand-personal-finance/</a></em></p>]]>
            </description>
            <link>https://somehowmanage.com/2020/12/16/using-a-systems-view-to-understand-personal-finance/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25478165</guid>
            <pubDate>Sat, 19 Dec 2020 15:56:14 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Observer Effect ‚Äì Tobi L√ºtke]]>
            </title>
            <description>
<![CDATA[
Score 40 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25478070">thread link</a>) | @charlieirish
<br/>
December 19, 2020 | https://www.theobservereffect.org/tobi.html | <a href="https://web.archive.org/web/*/https://www.theobservereffect.org/tobi.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p><em>
									Welcome to the third interview on 'The Observer Effect'. We are lucky to have one
									of the most interesting founders in technology and commerce - Tobi L√ºtke, Founder
									and CEO of Shopify. This interview was published on December 16th, 2020.

							</em></p><p><em>Tobi is one of the most thoughtful and first principles oriented founders I've met and
								this was a fascinating conversation. Enjoy!
								</em>
							</p><p><b><a href="https://sriramk.com/">Sriram Krishnan</a></b><br>
								<em><strong>Let‚Äôs start with the basics. Walk me through a typical day in the life of
										Tobi L√ºtke.</strong></em>
							</p><p>
								Here‚Äôs the honest answer: obviously I have a schedule and people helping me manage my
								time, however, I think a lot about where to devote my attention. In this way, there is
								no typical day.

							</p><p>My attention is the most liquid and valuable resource that I have. Even back in the day
								when Shopify went public, I spent a good deal of time pre-selling the various investors.
								During meetings, I would say, ‚ÄúHey, I'm here, and we've been doing this roadshow, but I
								actually spend a lot of my time on the product.‚Äù This was to set expectations because I
								knew I wasn't going to attend very many investor conferences. Fundamentally, my
								attention belonged to the product, not to the sales and marketing of it. </p><p>A day in my life really depends on what's happening. That said, usually I have themes.
								For instance, I have a priority list, and I have decision logs that chronicle all the
								things I am trying to figure out. </p><p>
								These cover different questions. For example, if I had just taken the company over, how
								would I change it? How would I build a company to potentially disrupt Shopify? I try to
								make my calendar match these bigger topics and other urgent priorities. In a way, the
								calendar is nothing more than a strategy. Although it's incredibly easy‚Äîand it has
								happened to me quite a lot‚Äîto have circumstances dictate the calendar. Because of this,
								there‚Äôs this constant tug of war between the actual priorities of the company and the
								kind of things that have to be done.

							</p><p>So, I end up trying to insert themes into my days. Like today, for instance, I have a
								meeting with my small team to begin the week; I reserved my afternoon for product
								reviews‚Äîwhat we call ‚Äúgreenpathing exercises‚Äù‚Äîwhere, oddly, I'm trying to discern how
								everyone is thinking about the main things we're working on. I do this because
								oftentimes I feel as though I am the connective tissue combining operations, finance,
								and more formal business functions with the product itself. This connection helps me to
								make good decisions.</p><p>Lastly, on Wednesdays, Shopify doesn't do scheduled meetings. Usually, I have a list of
								memos to read or reactions to record to various mock-ups and so on. This is basically my
								very loosely defined schedule.</p><p>
								<b><i>How do you work with your so-called ‚Äúexpansion pack team‚Äù on reallocating your
										portfolio management on time? What does that loop look like?
									</i></b>
							</p><p>
								A lot of this is almost automatic by just having a good color coding system, which is
								really fun.
								<i>[laughs]</i>

							</p><p> At one point, I started complaining about blue weeks where every single time slot was
								taken. And someone said, ‚ÄúWell, if you don't like blue, I can make any color.‚Äù And I
								replied, ‚ÄúWell, how about we color based on leverage?‚Äù And that‚Äôs just what we did. </p><p>
								We ended up labeling my product-related things red, investor/Board of Director-related
								things some kind of teal color, et cetera. And the thing I‚Äôm looking for is a balanced
								week; a week where, ideally, I manage to devote about 30% of the time‚Äîat least‚Äîto the
								product and then as much as possible to things like recruiting, bigger picture projects,
								and one-on-ones.

							</p><p>
								And so, if my calendar becomes too external or too much of anything, it's the first
								thing we see when we sit down for our priorities meeting. This makes scheduling a lot
								easier.

							</p><p>
								<b><i>
										This is a very natural segue to my next question. One of the theories behind
										this whole set of interviews is diving into the atomic bits of how we spend our
										time in meetings. This time compounds over the long term and has a massive
										effect. What does a good meeting with Tobi look like? Alternatively, what does a
										bad meeting with you look like?
									</i>
							</b></p><div>
							<p>So actually, agendas are not terribly successful with me. I admire how other CEOs I‚Äôve
								spoken with always have a strict agenda where everyone has a speaking slot. I find that
								absolutely fascinating. Even if I really set myself to an agenda and say, ‚ÄúOkay, great,
								this is going to happen,‚Äù I can't get through half of a meeting like this. Partly
								because a good meeting is, for me personally, when I learn something.</p>
								<blockquote>
									<p>..when I have my own ideas, the first thing I tend to do is
										just try to falsify them, to figure out why what I'm thinking about is probably
										incorrect...<em>
									</em></p>
								</blockquote>
							<p>
								I started a company because I love learning. I went into programming because I found it
								fascinating. During meetings, I just love to hear the things that teams have discovered.
								When you're discussing an idea or a decision, I want to know what has been considered.
								To be honest, I find myself more interested in the inputs of an idea than the actual
								decision. I say this because when I have my own ideas, the first thing I tend to do is
								just try to falsify them, to figure out why what I'm thinking about is probably
								incorrect. This is actually something that I have to explain to people that I work with.
								If I like someone's idea, I tend to do the same thing: I try to poke holes in it.
							</p>

							<p>I usually say, ‚ÄúWell, the implication of this choice means you've made the following
								assumptions. What inputs did you use to make these foundational assumptions?‚Äù
								Effectively, I'm trying to figure out if an idea is built on solid fundamentals. I find
								that shaky fundamentals tend to be where things often go wrong. The decision being
								discussed could be the perfect decision according to the various assumptions that
								everyone came into the room with. But if those assumptions are faulty, the seemingly
								perfect decision is faulty too. Interestingly, assumptions are rarely mentioned in the
								briefing docs or in the slide deck. Usually, I'm trying to make sure those are rock
								solid. Through this process, I invariably end up learning something completely new about
								a field. That gives me great confidence and comfort both in the decision and the
								direction.</p>

							
							<h2 id="enneagrams"><b>On Enneagrams and Comprehensivists</b></h2>
							<p>


								<b><i>Two words have come up a lot in preparatory conversations: comprehensivist and
										enneagrams. Could you talk about both?

									</i></b>

							</p>

							<p>Interesting.</p>
							<p>
								<i>[Laughs]</i>
								I feel like I'm becoming known for pointing people towards the enneagram. I actually
								don't think it's that valuable on its own. The valuable thing about any of these
								personality-type constructs is that they do a really good job of teaching people that
								other people are very different. That realization is probably one of the biggest growth
								moments for people in general. It tells you that different people play different roles.
								On that note, I do think that, ideally, people should play their own roles really,
								really well.

							</p>
							<p>
								I play the role of challenger, personally. I find that the enneagram helps me remind
								myself that with different people I have to talk about the same things in different
								ways. I think it allows you to skip some time which would otherwise be touch and go at
								the beginning of a relationship and helps build trust better. In short, it enables us to
								have fruitful and effective conversations.
								And comprehensivist, I mean, that's a fancy word.
							</p>
							<p>

								<i>[Laughs]</i> I don't think I've ever used it outside of putting it into my Twitter
								bio when I was reading Buckminster Fuller. That said, I do like range. I find that the
								first 80% of every field is pretty quick to learn‚Äîit‚Äôs equivalent to the Pareto
								principle‚Äîand I think that creativity generally is people using lessons from one field
								in another field in different ways. Because of this, I find learning fascinating.

								</p><blockquote>
									<p>..creativity generally is people using lessons from one field
										in another field in different ways...<em>
									</em></p>
								</blockquote>
							
						


							<h2 id="decisionmaking"><b>On Time and Attention on Shopify<br></b></h2>
							<p>
								<b><i>
										You try and design how your company spends time and attention. One particular
										incident came up recently which I found really fascinating. You wrote a script
										to delete every recurring meeting at Shopify. Talk about why you did that, and
										what you ended up learning from it.


									</i></b>
							</p>


							<p>
								<i>[Laughs]</i>
								So, going back a little bit further there‚Äîyou know what, I should talk about books. One
								thing that is interesting is how people have accused Shopify of being a book club thinly
								veiled as a public company.

							</p>
							<p>We tend to read a lot and talk about a lot of books. We read Nassim Taleb‚Äôs books and one
								person on my team began talking about Antifragile and gave an outline. He said, ‚ÄúI think
								Nassim is putting a word to the thing that you keep talking about‚Ä¶‚Äù </p>

							<p>Now, I come from an engineering perspective. One of my biggest beefs with engineers, in
								general, is ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.theobservereffect.org/tobi.html">https://www.theobservereffect.org/tobi.html</a></em></p>]]>
            </description>
            <link>https://www.theobservereffect.org/tobi.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25478070</guid>
            <pubDate>Sat, 19 Dec 2020 15:44:39 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Writing great software isn‚Äôt all about the software you write]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25477776">thread link</a>) | @mooreds
<br/>
December 19, 2020 | https://letterstoanewdeveloper.com/2020/06/29/writing-great-software-isnt-all-about-the-software-you-write/ | <a href="https://web.archive.org/web/*/https://letterstoanewdeveloper.com/2020/06/29/writing-great-software-isnt-all-about-the-software-you-write/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		<p><em>This is a guest post from Adam Leventhal. Enjoy.</em></p>
<p>Dear new developer,</p>
<p>I love software engineering. Even as excited as I was to start my first job, I didn‚Äôt imagine the deep and enduring joy it would bring. In my career, I‚Äôve oscillated closer and farther from writing code, and while management and entrepreneurship are wonderful, there‚Äôs nothing like the pure joy of building software.</p>
<p>Building great products takes a team. Code is a critical piece, but that doesn‚Äôt mean you need to stick to your narrow lane. Yes, developers write code, product managers write specs, doc writers write docs, marketing writes slides, sales sells, support supports, etc. Focus is important, but it‚Äôs a myth that doing your job well requires focus at the expense of understanding the holistic view of how products are built. Understanding the full product lifecycle‚Äìfrom conception, to purchase, install, and support‚Äìwill make you better at your job and lead to better products.</p>
<p>One of the first things I worked on professionally was a product called DTrace. It‚Äôs a tracing tool to help understand how systems operate. It‚Äôs used to find bugs, chase down performance problems, or explore how a code base operates. I was drawn to the project early on because of the extremely precise and creative engineering required to safely instrument running programs and kernels. It was all very cool, very satisfying. An extremely formative moment in my career came when I was demonstrating an early DTrace prototype to a customer. We used this new lens into their software to understand behaviors that had always been mysterious to them. Their ideas came one on top of the next as we exposed all kinds of crazy behaviors and pathologies on the fly. I had seen the power and utility of what I had built in my own use, and my team‚Äôs use. Seeing a customer‚Äìand engineers quite different from me‚Äìget so fired up was eye opening. I still wanted to build cool stuff and write hard code, but understanding the problems it solved and the people who used it informed my work from then on.</p>
<p>There were three engineers working on DTrace. We were our own product management. We built features we needed to solve urgent problems for ourselves and customers. We were our own marketing, giving talks and writing blog posts. We were our own doc writers, churning out a hefty users guide. Those activities weren‚Äôt downstream of development, they were an integral part of it. When building a feature, we talked about how to explain it to sales people, to users, to support engineers. Sometimes that meant changing what we had planned to build: if you can‚Äôt write the documentation for a feature you‚Äôre probably building the wrong feature.</p>
<p>Almost a decade later I joined a new team that could not have been more different. The development team was comfortable in their ignorance of the broader product. They didn‚Äôt just stick to the code, they were narrowly focused on just their own <strong>subsection</strong> of the code. In the Solaris Kernel team where we built DTrace, we would follow bugs up and down the stack, through multiple, enormous code bases, to determine the root cause of problems. Here, developers were content to chase a problem to the edge of the module they owned, and then reassign the bug to the developer who owned the next module. The team barely had a shared understanding of what they were building, much less of that true north of customer need. That gap was evident in the end product: modules were poorly integrated and features fell short of solving customer problems.</p>
<p>Whatever you‚Äôre working on, understand not just what‚Äôs needed, but why. Listen in on a sales call, talk to a customer, or do a ride-along with a support engineer working on an escalation. Some companies have great programs to involve engineers in the broader product lifecycle. If yours doesn‚Äôt it‚Äôs probably (hopefully!) because no one has asked. Empathy is an engineer‚Äôs greatest asset: empathy for the customer to understand their problems and priorities; empathy for the doc writer trying to explain a complex feature; empathy for the next engineer to pick up your code and make sense of it. Empathy starts from a curiosity to understand what and why.</p>
<p>Find true north for the products you work on. It will make your work better and bring you more satisfaction.</p>
<p><em><a href="https://en.wikipedia.org/wiki/Adam_Leventhal_(programmer)">Adam H. Leventhal</a> is an engineer at <a href="https://oxide.computer/">Oxide Computer Company</a> building a new, modern computer. Previously he was a software engineer at Sun Microsystems, CTO at Delphix, and co-founder, CEO at Transposit. He‚Äôs sheltering in place in San Francisco with his wife, teen, toddler, and two dogs. Find more of his writing <a href="https://twitter.com/ahl">here</a>, <a href="https://medium.com/@ahl">here</a> and <a href="http://dtrace.org/blogs/ahl/">here</a>.</em></p>
	</div><div>
			<!-- .entry-auhtor -->
		<p><strong>Published</strong>
			<time datetime="2020-06-29T09:25:00-06:00">June 29, 2020</time><time datetime="2020-10-18T08:55:33-06:00">October 18, 2020</time>		</p><!-- .site-posted-on -->
	</div></div>]]>
            </description>
            <link>https://letterstoanewdeveloper.com/2020/06/29/writing-great-software-isnt-all-about-the-software-you-write/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25477776</guid>
            <pubDate>Sat, 19 Dec 2020 15:03:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Mindfulness Exercises for Developers]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25477709">thread link</a>) | @simon_mannes
<br/>
December 19, 2020 | https://www.nerdfulmind.com/7-mindfulness-exercises-for-developers/ | <a href="https://web.archive.org/web/*/https://www.nerdfulmind.com/7-mindfulness-exercises-for-developers/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article><p>Your mind is busy.</p>
<p>Sometimes you don‚Äôt hear your own thoughts or notice how you feel.</p>
<p>Then again, other times, your thoughts are so clear that you notice every single thought coming and going.</p>
<p>This second state is called <strong>mindfulness</strong>.</p>
<p>Mindfulness means maintaining a gentle moment-to-moment awareness of your thoughts, bodily sensations, and surroundings, without judging anything.</p>
<p>Being mindful makes me calmer, happier, more accepting, more focused, and improves my creative thinking. So all in all a much more fulfilling private and work life.</p>
<p>Luckily, you can train yourself to have this state of mind more often. The key to this are mindfulness exercises that bring your mind back to the present moment.</p>
<p>Here are 7 practical mindfulness exercises for software engineers.</p>
<h2 id="smile-and-breathe">Smile and Breathe</h2>
<p>The breath is the basis for a lot of mindfulness techniques.</p>
<p>It is always there. When you learn to use it as an anchor you‚Äôll always have something to place your focus on. It gets you back into the most powerful time: now.</p>
<p><strong>Exercise:</strong> sit (or stand) upright. Make a relaxed focus with your eyes, or close them entirely. Then breathe in and smile. Calmly and steadily breathe out. Keep your smile. Keep at it for one or two minutes.</p>
<p><em>This is just one of many breathing techniques. I‚Äôll write an article on mindful breathing in the future.</em></p>
<blockquote>
<p>‚ÄúThe wisest one-word sentence? Breathe.‚Äù ‚Äì Terri Guillemets</p>
</blockquote>
<h2 id="body-scan">Body Scan</h2>
<p>Do you always notice what‚Äôs going on in your body?</p>
<p>I don‚Äôt.</p>
<p>Sometimes I notice a tension in my neck or shoulders and wonder how long it‚Äôs been there. But it‚Äôs a great feeling to notice a tension and then let it go.</p>
<p><strong>Exercise:</strong> you can do this in any comfortable position. Start at the top of your head and gently scan down to your toes. You can do this fast multiple times, or one time slowly. Don‚Äôt try to change anything while scanning. Only notice.</p>
<h2 id="mindful-stretching">Mindful Stretching</h2>
<p>If you‚Äôre doing any kind of sports, it‚Äôs a great idea to do some stretching after each session.</p>
<p>Stretching itself is great for your body, and with a focus on mindfulness you can increase its relaxing effect on the mind.</p>
<p><strong>Exercise:</strong> the next time you stretch after physical activity, focus on two things: breathing deep and slowly, and letting go of all tensions. Afterwards notice how you feel. Try to take this feeling with you throughout the day</p>
<h2 id="body-symmetry-exercise">Body Symmetry Exercise</h2>
<p>Do you have neck tensions sometimes?</p>
<p>For me, there is always one side worse than the other.</p>
<p>Here‚Äôs a mindful exercise that connects you with your body, brings you into the present moment, and maybe helps you relax a little bit.</p>
<p><strong>Exercise:</strong> you can do this when standing or sitting. Get in an upright position and, without a mirror, try to get your body symmetrical (not leaning to one side, and tension is the same in any area on both sides). I always start with my head, go down through the body, and iterate a few times. When you‚Äôve found a position that feels good stay there for 10 breaths.</p>
<p>If you‚Äôre getting used to this exercise, you‚Äôll notice more often when you‚Äôre sitting lopsided at your desk and can fix this.</p>
<p><em><strong>Pro tip:</strong> do this exercise in front of a mirror with your eyes closed. When you‚Äôre content that you‚Äôre 100% symmetrical open your eyes. The result may surprise you.</em></p>
<h2 id="smell-taste-feel">Smell-Taste-Feel</h2>
<p>I‚Äôm sure you‚Äôre drinking coffee from time to time. Or tea.</p>
<p>A drink with flavor offers yet another possibility to come back to the present moment. You can do this little exercise multiple times a day, in less than a minute.</p>
<p><strong>Exercise:</strong> When drinking a cup of your favorite beverage, before drinking take a few moments to smell it. How does this smell make you feel? Then take a sip. How does it taste, can you discover something new? When drinking, does it change how you feel generally? Maybe you have a warm feeling in your belly, or you feel more energetic.</p>
<h2 id="color-exercise">Color Exercise</h2>
<p>This is a fun little exercise to notice your surroundings. Even in my own appartment I‚Äôm not always aware of everything that‚Äôs around me.</p>
<p><strong>Exercise:</strong> notice 10 things with a specific color that you can see. Look around. Can you spot 10 green things? Repeat this for a handful of colors. Bonus points if you‚Äôre breathing calmly and deeply.</p>
<h2 id="breathe-smile-stretch">Breathe-Smile-Stretch</h2>
<p>When you‚Äôre happy, you smile. But did you know that this also works the other way around? <a href="https://www.sciencedaily.com/releases/2019/04/190412094728.htm" target="_blank" rel="noreferrer noopener">Smiling can make you happy</a>.</p>
<p><strong>Exercise:</strong> start breathing in and smile brighter and brighter. Keep your smile when breathing out. Then stretch your arms upward and repeat.</p>
<h2 id="do-small-steps-every-day">Do Small Steps Every Day</h2>
<p>Mindfulness is a journey.</p>
<p>For me, it is one path to a more happier, healthier life. It helps me to think clearer. According to research (and my personal experience) it <a href="https://www.apa.org/topics/mindfulness-meditation" target="_blank" rel="noreferrer noopener">reduces stress and anxiety</a>.</p>
<p>And like all journeys, it‚Äôs not one giant leap.</p>
<p>It‚Äôs many, many small steps.</p>
<p>Enjoy the scenery.</p>
<blockquote>
<p>The best way to capture moments is to pay attention. This is how we cultivate mindfulness. ‚Äî Jon Kabat-Zinn</p>
</blockquote>
</article></div>]]>
            </description>
            <link>https://www.nerdfulmind.com/7-mindfulness-exercises-for-developers/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25477709</guid>
            <pubDate>Sat, 19 Dec 2020 14:49:32 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Comprehensive Guide to Learn Computer Science Online]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25477683">thread link</a>) | @wagslane
<br/>
December 19, 2020 | https://qvault.io/2020/11/18/comprehensive-guide-to-learn-computer-science-online/ | <a href="https://web.archive.org/web/*/https://qvault.io/2020/11/18/comprehensive-guide-to-learn-computer-science-online/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="text">
<p>Self-taught developers and Bootcamp graduates often have a hard time finding employment because they skipped learning computer science fundamentals and jumped right into application code. Taking such a haphazard approach to a programming education would be similar to skipping biology classes and just doing a three-week crash course in surgery.</p>
<h2>How to Get Started ‚Äì The Short Answer</h2>
<p>There are several main topics studied by computer science students at Universities across the world. Some of these topics we‚Äôll consider ‚Äúrequired‚Äù, and some will be ‚Äúelective‚Äù or ‚Äúoptional‚Äù. Take a look at the list below for an overview, you should study these topics, roughly in the order presented.</p>
<p>Also, before diving into all the various requirements, I‚Äôd like to point out that we‚Äôve recently launched the <a href="https://qvault.io/">Qvault app ‚Äì a resource designed to teach computer science through coding exercises</a>. If you‚Äôre interested in a simple hands-on approach be sure to take a look at that.</p>
<h3>Study These Computer Science Topics ‚Äì Required</h3>
<figure><table><thead><tr><th>Subjects</th><th>Rationale</th></tr></thead><tbody><tr><td><a href="https://qvault.io/wp-admin/post.php?post=84493&amp;action=edit#coding">Coding</a></td><td>You need to learn to code to put computer science concepts into practice</td></tr><tr><td><a href="https://qvault.io/wp-admin/post.php?post=84493&amp;action=edit#Computer-Architecture-and-Hardware">Computer Architecture and Hardware</a></td><td>If you don‚Äôt understand the physical machines your code runs on, you‚Äôre at a disadvantage.</td></tr><tr><td><a href="https://qvault.io/wp-admin/post.php?post=84493&amp;action=edit#Algorithms-and-Data-Structures">Algorithms and Data Structures</a></td><td>Arguably the most practical application of CS to most day jobs, learn to write fast code.</td></tr><tr><td><a href="https://qvault.io/wp-admin/post.php?post=84493&amp;action=edit#CS-Math">CS Math</a></td><td>I‚Äôd rather teach a mathematician to code than teach a coder math.</td></tr><tr><td><a href="https://qvault.io/wp-admin/post.php?post=84493&amp;action=edit#Databases">Databases</a></td><td>Very few applications get away without a data store, you need to know how to use them.</td></tr><tr><td><a href="https://qvault.io/wp-admin/post.php?post=84493&amp;action=edit#Web-Development">Web Development</a></td><td>Most jobs in the industry are involved with the web, you need to learn the tools.</td></tr><tr><td><a href="https://qvault.io/wp-admin/post.php?post=84493&amp;action=edit#Functional-Programming">Functional Programming</a></td><td>Functional programming is useful for learning important concepts like recursion and is growing as a practical paradigm.</td></tr><tr><td><a href="https://qvault.io/wp-admin/post.php?post=84493&amp;action=edit#Computational-Theory">Computational Theory</a></td><td>You‚Äôve gotta learn about the limits to what computers can do theoretically, even if we assume the best hardware.</td></tr></tbody></table><figcaption>Required CS Concepts</figcaption></figure>
<h3>Optional ‚Äì Choose at least 2</h3>
<figure><table><thead><tr><th>Subjects</th><th>Rationale</th></tr></thead><tbody><tr><td><a href="https://qvault.io/wp-admin/post.php?post=84493&amp;action=edit#Cryptography">Cryptography</a></td><td>Cryptography is what makes secure communication possible. If you ever plan to work on the web this is important stuff.</td></tr><tr><td><a href="https://qvault.io/wp-admin/post.php?post=84493&amp;action=edit#Networking">Networking</a></td><td>While you may not need to set up servers on your own, it‚Äôs important to know how complex networks are built.</td></tr><tr><td><a href="https://qvault.io/wp-admin/post.php?post=84493&amp;action=edit#Compilers">Compilers</a></td><td>Compilers allow us to write high-level code that executes on physical machines, a solid understanding of how they work is valuable.</td></tr><tr><td><a href="http://distributed-systems/"></a><a href="http://distributed-systems/">Distributed Systems</a></td><td>With the advance of Docker, Kubernetes, and the cloud, learning to build scalable distributed systems that can communicate and stay in sync is paramount.</td></tr><tr><td><a href="https://qvault.io/wp-admin/post.php?post=84493&amp;action=edit#Operating-Systems">Operating Systems</a><br></td><td>Operating systems manage all of our code, they have complete control over our execution environments. Get to know them.</td></tr><tr><td><a href="https://qvault.io/wp-admin/post.php?post=84493&amp;action=edit#Artificial-Intelligence-and-Machine-Learning">Artificial Intelligence and Machine Learning</a></td><td>AI and ML are growing more and more each year. There will likely always be jobs in teaching computers to teach themselves.</td></tr></tbody></table><figcaption>Recommended CS Concepts</figcaption></figure>
<p>These topics cover almost everything that a typical CS student would learn at a university, though you obviously need to make sure you go appropriately deep into each topic. Later down in the article we will cover each topic in more detail, and supply some resources to get you started.</p>
<h2>Feeling Overwhelmed? Don‚Äôt Be.</h2>
<p>A typical computer science under-graduate takes <a href="https://qvault.io/2020/12/02/difference-between-certificate-or-degree-in-2021/">4 years to complete their degree</a>. Hopefully, this isn‚Äôt news to you, that‚Äôs just how college works. I have good news for you, however! If you are teaching yourself, you can cut out the fat and speed up the process. If you follow these tips, you will likely be able to learn the equivalent of a CS major in less than two years, and you can likely get an internship or a first job after just 3-6 months, depending on how much time you are able to spend daily.</p>
<h3>1. Watch <strong>Lectures</strong> on YouTube, not Tutorials</h3>
<p>Tutorials and courses should involve coding, and I‚Äôll recommend some resources for doing that. Lectures on the other hand are useful for learning concepts that don‚Äôt necessarily require hands-on experience. You can watch those videos over breakfast or on the train.</p>
<h3>2. Get Involved in Dev Communities</h3>
<p>Do you browse Reddit, Twitter or Facebook in your free time? Make a small change to your content consumption and start reading about technology-related content instead, or in addition to what you already consume.</p>
<h3>3. Interview and Get a Job Early (within the first year)</h3>
<p>You are teaching yourself online, and the best way to catapult your education is to get an internship or entry-level job <em>as soon as you are able to</em>. Depending on the <a href="https://qvault.io/2020/12/09/highest-paying-computer-science-jobs/">kind of CS job</a> you‚Äôre interested in, you can start earlier or later, as some require more or less experience.</p>
<h2>Why Learn Computer Science at All?</h2>
<p>Many developers do land well-paying programming jobs without computer science degrees, but it can be hard, it often requires luck or friends in the industry, and once they have a job they often stagnate and are unable to participate in seriously innovating and challenging work.</p>
<p>Knowing the first thing about React, Node, and Mongo might be enough to get a low-paying entry-level job, but I‚Äôve found that so often those developers hit a ceiling on their earning potential and get burned out of using the same tools quickly.</p>
<p>Don‚Äôt be that developer, or if you are that developer, you can easily go back and learn the fundamentals.</p>
<p>Like myself, you may have been hearing for the past 15 years that ‚Äúthere are more programming jobs than there are candidates to fill them‚Äù. While still true, <em>the software engineering career outlook is changing</em>.</p>
<p>We‚Äôve recently had an influx of thousands of self-taught developers or Bootcamp grads that are all looking for entry-level jobs, but don‚Äôt have the fundamental math and CS skills to solve more technically challenging problems. By having a deeper understanding of computational theory and algorithms, you can set yourself apart to land jobs faster and command a higher salary when you get there. </p>
<h2>Required Topics</h2>
<p>Here at <a href="https://qvault.io/">Qvault,</a> we‚Äôre doing our best to build out a single platform that will give students one place to learn all the following CS topics in a linear fashion. Qvault is still a new project, however, so for now we‚Äôll recommend our own content where available and applicable, but we still want to point you to what we consider to be the best alternative resources as well.</p>
<h3 id="coding">1 ‚Äì Coding</h3>
<div><div>
<p>Coding can be really fun and has a low barrier to entry. The goal here is to get a solid grasp of <strong>one or two</strong> programming languages. <a href="https://qvault.io/basic-intro-to-coding-course/">Qvault has a few courses</a> and is a great place to get started. I recommend JavaScript, Go, and Python as some of the most well-suited first languages for new developers.</p>
<div><figure><img loading="lazy" width="300" height="184" src="https://qvault.io/wp-content/uploads/2020/11/Coding-body-image--300x184.jpg" alt="Coding" srcset="https://qvault.io/wp-content/uploads/2020/11/Coding-body-image--300x184.jpg 300w, https://qvault.io/wp-content/uploads/2020/11/Coding-body-image--150x92.jpg 150w, https://qvault.io/wp-content/uploads/2020/11/Coding-body-image-.jpg 750w" sizes="(max-width: 300px) 100vw, 300px" title="Coding body image"></figure></div>
<h4>Resources</h4>
<ul><li><a href="https://qvault.io/basic-intro-to-coding-course/">Qvault‚Äôs Basic Intro to Coding Courses</a></li><li><a aria-label="Edabit JavaScript Challenges (opens in a new tab)" href="https://edabit.com/challenges/javascript" target="_blank" rel="noreferrer noopener nofollow">Edabit JavaScript Challenges</a></li><li><a aria-label=" (opens in a new tab)" href="https://python.swaroopch.com/" target="_blank" rel="noreferrer noopener nofollow">A Byte of Python</a></li><li><a aria-label=" (opens in a new tab)" href="https://docs.python.org/3/tutorial/" target="_blank" rel="noreferrer noopener nofollow">The Python Tutorial</a></li><li><a href="https://www.py4e.com/lessons" target="_blank" aria-label="Python for Everybody (opens in a new tab)" rel="noreferrer noopener nofollow">Python for Everybody</a></li></ul>
<h4>Goals</h4>
<ul><li>Understand and write small programs</li><li>Use variables and expressions</li><li>Use conditional statements</li><li>Use iterative structures</li><li>Use list/array structures</li><li>Understand the basic elements of a programming environment including libraries and modules, editors, interpreters, and the command-line</li><li>Use fundamental programming constructs including control structures, functions, keyboard input, classes, and objects</li></ul>
</div></div>
<h3 id="Computer-Architecture-and-Hardware">2 ‚Äì Computer Architecture and Hardware</h3>
<div><div>
<p>Computer architecture is arguable the most overlooked subject among the bootcamp and self-taught developer community. It‚Äôs almost impossible to write performant and efficient software without a basic understanding of the hardware it runs on.</p>
<p>Computers are built of various components (hardware) including the CPU, memory, busses, clocks, and the peripheral devices you are familiar with like the mouse and keyboard. All of these components must communicate with each other and provide a necessary service to the user, but as software developers, the most important components for us to understand are memory (RAM) and the processor (CPU).</p>
<div><figure><img loading="lazy" width="300" height="169" src="https://qvault.io/wp-content/uploads/2020/11/Blog-Post-Header-300x169.png" alt="Computer Architecture and Hardware" srcset="https://qvault.io/wp-content/uploads/2020/11/Blog-Post-Header-300x169.png 300w, https://qvault.io/wp-content/uploads/2020/11/Blog-Post-Header-768x432.png 768w, https://qvault.io/wp-content/uploads/2020/11/Blog-Post-Header-150x84.png 150w, https://qvault.io/wp-content/uploads/2020/11/Blog-Post-Header.png 800w" sizes="(max-width: 300px) 100vw, 300px" title="Blog Post Header"></figure></div>
<h4>Resources</h4>
<ul><li>eBook: <a aria-label="Computer Organization and Design (opens in a new tab)" href="https://ict.iitk.ac.in/wp-content/uploads/CS422-Computer-Architecture-ComputerOrganizationAndDesign5thEdition2014.pdf" target="_blank" rel="noreferrer noopener nofollow">Computer Organization and Design</a></li><li><a aria-label="Binary and Hexadecimal (Kahn Academy) (opens in a new tab)" href="https://www.khanacademy.org/math/algebra-home/alg-intro-to-algebra#algebra-alternate-number-bases" rel="noreferrer noopener nofollow" target="_blank">Binary and Hexadecimal (Kahn Academy)</a></li><li><a href="https://azeria-labs.com/writing-arm-assembly-part-1/" target="_blank" aria-label="Azeria Labs Writing Arm Assembly (opens in a new tab)" rel="noreferrer noopener nofollow">Azeria Labs Writing Arm Assembly</a></li></ul>
<h4>Goals</h4>
<ul id="block-c9b61100-1e97-4fb2-b8f2-67d6847d6df6"><li>Convert and understand the differences between number bases like binary, hex, octal, and decimal</li><li>Understand the basics of computer instruction sets and an assembly language (probably ARM)</li><li>Compose low-level programs that interact directly with the operating system</li><li>Have a basic knowledge of how a CPU works</li></ul>
</div></div>
<h3 id="Algorithms-and-Data-Structures">3 ‚Äì Algorithms and Data Structures</h3>
<div><div>
<p>The study of algorithms and data structures is the bread and butter of computer science. It‚Äôs fundamental that we learn about making computer programs fast so that they can delight our users and find meaningful answers quickly.</p>
<p>I‚Äôm in complete agreement with the traditional education system that that familiarity with common algorithms and data structures is vital to the success of any developer. Understanding these basic problem-solving skills will also benefit you in any aspect of your career and life.</p>
<div><figure><img loading="lazy" width="300" height="169" src="https://qvault.io/wp-content/uploads/2020/11/dec14_15_159737162-300x169.jpg" alt="Algorithms and Data Structure" srcset="https://qvault.io/wp-content/uploads/2020/11/dec14_15_159737162-300x169.jpg 300w, https://qvault.io/wp-content/uploads/2020/11/dec14_15_159737162-1024x576.jpg 1024w, https://qvault.io/wp-content/uploads/2020/11/dec14_15_159737162-768x432.jpg 768w, https://qvault.io/wp-content/uploads/2020/11/dec14_15_159737162-150x84.jpg 150w, https://qvault.io/wp-content/uploads/2020/11/dec14_15_159737162.jpg 1200w" sizes="(max-width: 300px) 100vw, 300px" title="dec14 15 159737162"></figure></div>
<h4>Resources</h4>
<ul><li><a href="https://qvault.io/big-o-algorithms-course/">Qvault‚Äôs Big-O Algorithms course</a></li><li><a href="https://qvault.io/big-o-data-structures-course/">Qvault‚Äôs Big-O Data Structures course</a></li><li><a aria-label="Data-Structures &amp; Algorithms with JavaScript (opens in a new tab)" href="https://github.com/GauravWalia19/Free-Algorithms-Books/blob/master/Library/src/JAVASCRIPT/Data-Structures-%26-Algorithms-with-JavaScript.pdf" target="_blank" rel="noreferrer noopener nofollow">Data-Structures &amp; Algorithms with JavaScript</a></li><li><a aria-label="Steven Skiena's Video Lectures (opens in a new tab)" href="https://www.youtube.com/watch?v=A2bFN3MyNDA&amp;list=PLOtl7M3yp-DX32N0fVIyvn7ipWKNGmwpp" target="_blank" rel="noreferrer noopener nofollow">Steven Skiena‚Äôs Video Lectures</a></li></ul>
<h4>Goals</h4>
<ul><li>Understand the basic principles of various software data structures, including their efficiencies and tradeoffs</li><li>Implement and use several data structures in a known programming language</li><li>Brush up on algebra including exponents and logarithms</li><li>Understand Big-O complexity</li><li>Review structures such as stacks, queues, unsorted lists, and sorted lists</li><li>Implement a Binary Search Tree (BST)</li><li>Practice with balanced trees</li><li>Learn about hashing</li><li>Searching and sorting algorithms</li><li>Learn about graphs and how to traverse them</li></ul>
</div></div>
<h3 id="CS-Math">4 ‚Äì CS Math</h3>
<div><div>
<p>Computer science, like many sciences, is just applied mathematics. Many software engineers do their best to ignore this fact, and make ignorant claims like, ‚ÄúI‚Äôve never had to use math while coding‚Äù. I‚Äôve always said that I would rather take a math student and teach them to program than take a programmer and teach them to do the math.</p>
<p>Having a solid understanding of the math that makes computer science work will give you a tremendous edge over developers that lean on the academic understanding of their peers to get by.</p>
<h4>Resources</h4>
<ul><li><a aria-label=" (opens in a new tab)" href="https://www.khanacademy.org/math/linear-algebra/vectors-and-spaces/vectors/v/vector-introduction-linear-algebra" target="_blank" rel="noreferrer noopener nofollow">Kahn Academy‚Äôs Linear Algebra</a></li><li><a aria-label="Concrete Mathematics Book (opens in a new tab)" href="https://www.csie.ntu.edu.tw/~r97002/temp/Concrete%20Mathematics%202e.pdf" target="_blank" rel="noreferrer noopener nofollow">Concrete Mathematics Book</a></li><li><a aria-label="Discrete Mathematics - On Open Introduction (opens in a new tab)" href="http://discrete.openmathbooks.org/pdfs/dmoi-tablet.pdf" target="_blank" rel="noreferrer noopener nofollow">Discrete ‚Ä¶</a></li></ul></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://qvault.io/2020/11/18/comprehensive-guide-to-learn-computer-science-online/">https://qvault.io/2020/11/18/comprehensive-guide-to-learn-computer-science-online/</a></em></p>]]>
            </description>
            <link>https://qvault.io/2020/11/18/comprehensive-guide-to-learn-computer-science-online/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25477683</guid>
            <pubDate>Sat, 19 Dec 2020 14:43:31 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Joy of DokuWiki (2017)]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25477539">thread link</a>) | @Tomte
<br/>
December 19, 2020 | http://techblog.kjodle.net/2017/04/09/the-joy-of-dokuwiki/ | <a href="https://web.archive.org/web/*/http://techblog.kjodle.net/2017/04/09/the-joy-of-dokuwiki/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

		
		<div><div><p><strong>Notice!</strong></p><p>For reasons I don‚Äôt quite understand, this post seems to attract more than its fair share of comment spam. I may disable commenting on it soon.</p>
<p>I realize that the vast majority of spammers won‚Äôt see this message, but rest assured, your spam won‚Äôt get through. Don‚Äôt waste your time.</p></div></div>
<p><a href="http://techblog.kjodle.net/wp-content/uploads/2017/04/logo.png"><img loading="lazy" src="http://techblog.kjodle.net/wp-content/uploads/2017/04/logo.png" alt="DokuWiki logo" width="64" height="64"></a></p>
<p>I‚Äôve been working with DokuWiki a lot lately, because I‚Äôm adapting it to use for internal communications and project management at work. I‚Äôve never really worked much with DokuWiki because I‚Äôve tended to use MediaWiki for most wiki projects. MediaWiki is powerful and robust and has a lot of features out of the box that DokuWiki lacks. MediaWiki also scales well, so whether you‚Äôve got ten users or tens of thousands of users, it can handle it. It is, after all, the software behind WikiPedia.</p>
<p>Still, for a lot of purposes, MediaWiki may be overkill. I‚Äôm going to examine some of the key differences between the two. If you‚Äôve overlooked DokuWiki in the past because it‚Äôs not MediaWiki, or are looking for a wiki engine that is lightweight and has a lot of options, I urge you to give DokuWiki serious consideration.</p>
<h2>No Database</h2>
<p>The biggest difference between MediaWiki and DokuWiki is that MediaWiki requires a database while DokuWiki doesn‚Äôt. Instead, it stores all its data in files.</p>
<p>This doesn‚Äôt make DokuWiki any less robust. In fact, if you‚Äôre using a database-driven CMS and server-based caching, visitors to your site are already getting their data from files. It‚Äôs just that those files are cached in a database, rather than being served directly. This means that DokuWiki can be incredibly fast and and responsive.</p>
<p>There are a couple of other consequences to DokuWiki‚Äôs flat-file nature. The first is that it is an easy matter to back up a DokuWiki site. If you are handy with the command line, you can simply compress your entire install into a tarball and then copy the tarball to a secure location. If you‚Äôre not handy with the command line, you can just download your entire DokuWiki site via FTP.</p>
<p>The other consequence is that it‚Äôs fairly easy to move a DokuWiki install. Again, if you‚Äôre handy with the command line, tarball your files, navigate to your new server, wget the tarball, and unpack it. If you‚Äôre not okay with the command line, you can download and upload via FTP.</p>
<h2>Categories</h2>
<p>MediaWiki allows you to add pages to categories by adding a category tag to each page. Because of this, you can add a page to multiple categories, but categorizing pages is much less intentional.<sup>1</sup></p>
<p>DokuWiki does much the same thing with namespaces. (MediaWiki has namespaces, too, but they are not fun.<sup>2</sup>) Because DokuWiki stores its data in files, each namespace is literally a directory on your server that pages go into. Because of this, a DokuWiki page can only belong to a single category. However, you can have multiple pages with the same name, as long as each one is in a different namespace.<sup>3</sup></p>
<p>You can nest categories in MediWiki, and you can nest categories in DokuWiki, as well. Remember, each namespace is just a directory, so it can other directories which can, in turn, contain other directories. However, those namespaces make up part of each page‚Äôs URL, so if you do a lot of deep-level nesting, URLs can become rather long. That doesn‚Äôt really affect DokuWiki‚Äôs performance, but if you intend to share some of those pages on a regular basis, you may want to think about a URL shortener.</p>
<p>MediaWiki will automatically create a category page which lists all the pages and subcategories that category contains. This function is not part of DokuWiki‚Äôs core, but you can add it with the&nbsp;<a href="https://www.dokuwiki.org/plugin:nspages"><strong>nspages</strong></a> plugin. This plugin‚Äôs functionality is actually more versatile that MediaWiki‚Äôs because not only can you include either pages or subnamespaces or both, you can also add them wherever you want. For example, if you do a lot of work in three particular namespaces, you can create a page with links to all their pages and subnamespaces so you can access them easily with a single click.</p>
<h2>Plugins</h2>
<p>DokuWiki also does one thing that MediaWiki doesn‚Äôt do: it allows you to add tags to pages, by installing the&nbsp;<a href="https://www.dokuwiki.org/plugin:tag"><strong>tag</strong></a>&nbsp;plugin. This makes DokuWiki a lot like WordPress, which does have both categories and tags. Interestinly, most of DokuWiki‚Äôs strength comes from the fact that it so easy to add extra functionality just by installing plugins. DokuWiki is highly extensible, and there is a robust group of plugin developers.</p>
<p>MediaWiki can be extended by the use of ‚ÄúExtensions‚Äù but you need to upload them via the command line or FTP, and they often require changing MediaWiki‚Äôs configuration file. DokuWiki plugins are added via an administration panel, making it much more suer friendly for less technically minded users. You can view the list of available plugins <a href="https://www.dokuwiki.org/plugins">here</a>.</p>
<h2>Access Control</h2>
<p>Wikis are, by default, meant to be community driven projects. As a result, most wiki software is designed to be wide open to anyone who stumbles across them. You can create a private wiki with MediaWiki, but it‚Äôs largely an all-or-none proposition: your wiki is either all public or all private, and although you can protect certain pages from being edited, people can still read them.</p>
<p>DokuWiki makes sue of&nbsp;<a href="https://www.dokuwiki.org/acl"><strong>access control lists</strong></a>, which means that you have extremely granular control over page access. this is one area where DokuWiki is light years ahead of MediaWiki (and indeed, most other CMSs): you can control access at the wiki level, the namespace level, or the individual page level. Addditionally, you can assign privileges to everyone, to groups of users, and to individual users. You can, for example, grand read/write/delete privileges to a namespace to one group, while at the same time giving another group&nbsp;read only privileges, and locking out everyone else. You can create namespaces for individual users that only they have access to; these areas can then become their own private note-keeping area. In this way, DokuWiki is far superior to MediaWiki, and when people mention ‚Äúsemi-private wiki‚Äù to me, I immediately think of DokuWiki.</p>
<h2>Page Creation</h2>
<p>Both MediaWiki and DokuWiki allow you to create pages either by typing their name in the URL bar of your browser, or by creating a link to a non-existent page. But because namespaces are part of a page‚Äôs URL in DokuWiki, you can also create a new namespace at the same time. Simply include the namespace in the new page‚Äôs name or address. (I find this very handy, as I find DokuWiki works best with more namespaces rather than fewer.)</p>
<h2>Talk Pages</h2>
<p>MediaWiki automatically creates a ‚ÄúTalk‚Äù page for each new pages where contributor‚Äôs can work out problems or issues with that page. DokuWiki doesn‚Äôt really offer anything like this, so any discussion has to take place on the page itself. In my experience, talk pages make sense on a site like WikiPedia, but on most MediaWiki install I‚Äôve worked on, they are largely unused. Depending on how you are accustomed to communicating in your organization, you may find talk pages essential or superfluous. I occasionally use them when they‚Äôre there; I don‚Äôt miss them when they‚Äôre not. There are lots of other ways to talk to one&nbsp;other.</p>
<h2>Templates</h2>
<p>One of the things I love about MediaWiki is that you can use templates: pages that are designed to be included in other pages. All those messages you see at the top of WikiPedia pages are template pages. (I love this feature so much that I created a <a href="https://wordpress.org/plugins/d12-message-blocks/">WordPress plugin</a> to emulate it.) Again, this is not something that DokuWiki features out of the box, but guess what? There‚Äôs a plugin for that: the&nbsp;<strong><a href="https://www.dokuwiki.org/plugin:include">include</a></strong> plugin.</p>
<h2>Conclusion</h2>
<p>Software is a human creation, and unlike nature, we generally create it with an end game in mind. Because I primarily work with WordPress, I spend a lot of time explaining to people how to do things with WordPress. But I also spend more than an insignificant amount of time telling them that while WordPress does have&nbsp;<em>some</em> collaboration tools, if collaboration is a priority, you really should be using a wiki; and that while WordPress can be used to deliver instruction, if you really need to manage a learning environment, you‚Äôre better off using an LMS like Moodle. The point is, you‚Äôre better off using the software for those things it was intended to be used for. If you really need it do something else entirely, you probably need to rethink things.</p>
<p>That changes when it comes to DokuWiki, however. Because it is so highly extensible, it can easily be adapted for a lot of other purposes. It is, of course, a fantastic wiki, but with the right plugins, it can also serve as a CMS, a blog, a photo gallery, and much more besides. If you‚Äôre looking for a lightweight wiki with an easy learning curve that can do a lot of other things and is well-supported, I encourage you to give DokuWiki a try. You may find it is everything you need.</p>
<h3>Notes</h3>
<p><sup>1</sup><span>With MediaWiki, I often forget to add categories until after I‚Äôve created the page, which means I need to edit the page again just to categorize it.</span></p>
<p><sup>2</sup><span>Add a new namespace in MediaWiki is a bit like adding an addition on to your house; it can be done, but it‚Äôs not simple and you need to do things in order. Adding a new namespace in DokuWiki is more like setting an extra place at the table. It doesn‚Äôt take nearly as much planning‚Äîyou simply do it.</span></p>
<p><sup>3</sup><span>For example, you can have a page called ‚ÄúPlugins‚Äù in the ‚ÄúDokuWiki‚Äù namespace, and another page called ‚ÄúPlugins‚Äù in the ‚ÄúWordPress‚Äù namespace.</span></p>
		

		<div id="atticus_finch_post_bottom"><div>			<div><div id="donate-box">
<h3>Support This Site</h3>
<p>I don‚Äôt run ads on this site, so if you found this post useful or enjoyable, please support this site by sharing this post on your favorite social media by using the buttons above. If you would like to contribute to the server costs, you can also contribute via PayPal at <a href="http://paypal.me/kjodle">paypal.me/kjodle</a>. I appreciate your support.</p>
<p>You can also subscribe to my <a href="http://techblog.kjodle.net/subscribe-to-my-mailing-list/">mailing list</a>.</p>
</div>
</div>
		</div></div>
		
	</div></div>]]>
            </description>
            <link>http://techblog.kjodle.net/2017/04/09/the-joy-of-dokuwiki/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25477539</guid>
            <pubDate>Sat, 19 Dec 2020 14:20:26 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[TimescaleDB tech lead calls VictoriaMetrics comparison biased]]>
            </title>
            <description>
<![CDATA[
Score 20 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25477454">thread link</a>) | @nklmilojevic
<br/>
December 19, 2020 | https://nitter.cc/cevianNY/status/1339955888870797314#m | <a href="https://web.archive.org/web/*/https://nitter.cc/cevianNY/status/1339955888870797314#m">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="m"><div><div>
                
                <p>The team at <a href="https://nitter.cc/MetricsVictoria" title="VictoriaMetrics">@MetricsVictoria</a> recently published some benchmarks comparing their product vs. Promscale: <a href="https://valyala.medium.com/promscale-vs-victoriametrics-resource-usage-on-production-workload-91c8e3786c03">valyala.medium.com/promscale√¢‚Ç¨¬¶</a> 

These benchmarks, like others that Victoria Metrics has done in the past, are not completely honest. 1/</p>
                
                <p>3:29 PM √Ç¬∑ Dec 18, 2020</p>
                <p><span><p> 4</p></span>
                  <span><p><span title=""></span> 39</p></span>
                  <span><p><span title=""></span> 94</p></span>
                </p>
              </div></div></div><div>
            <div>
              <div>
                
                <p>At a high-level, here is what they could have done to produce a more objective and fair comparison: 2/</p>
                <p><span><p> 1</p></span>
                  <span><p><span title=""></span> 0</p></span>
                  <span><p><span title=""></span> 10</p></span>
                </p>
              </div>
            </div>
            <div>
              <div>
                
                <p>When calculating the compression ratio, analyze compressed data. Strangely, they decided to calculate a compression ratio on our uncompressed data.

(Promscale keeps a small fixed amount of uncompressed data for performance; at higher volumes this amount is minimal.)  3/</p>
                <p><span><p> 3</p></span>
                  <span><p><span title=""></span> 0</p></span>
                  <span><p><span title=""></span> 11</p></span>
                </p>
              </div>
            </div>
            <div>
              <div>
                
                <p>I can guarantee that our uncompressed data has a compression ratio of exactly 0. √∞≈∏¬§¬∑√∞≈∏ÔøΩ¬Ω√¢‚Ç¨ÔøΩ√¢‚Ñ¢‚Ç¨√Ø¬∏ÔøΩ 4/</p>
                <p><span><p> 1</p></span>
                  <span><p><span title=""></span> 0</p></span>
                  <span><p><span title=""></span> 13</p></span>
                </p>
              </div>
            </div>
            <div>
              <div>
                
                <p>Similarly, admit that their own compression is lossy, while Promscale√¢‚Ç¨‚Ñ¢s is lossless. There is a big difference between lossy compression and lossless. Sometimes lossy compression is okay (eg JPG vs PNG image formats), as long as you know what you are getting. 5/</p>
                <p><span><p> 2</p></span>
                  <span><p><span title=""></span> 0</p></span>
                  <span><p><span title=""></span> 13</p></span>
                </p>
              </div>
            </div>
            <div>
              <div>
                
                <p>Comparing not just IOPS but also durability. Promscale by default requires higher IOPS, but in return offers strong guarantees that you won√¢‚Ç¨‚Ñ¢t lose data. We fsync all commits to WAL by default, and return an acknowledgement to Prometheus√¢‚Ç¨‚Ñ¢s write-request only after commit. 6/</p>
                <p><span><p> 2</p></span>
                  <span><p><span title=""></span> 0</p></span>
                  <span><p><span title=""></span> 15</p></span>
                </p>
              </div>
            </div>
            <div>
              <div>
                
                <p>This means that when Promscale tells Prometheus it stored a thing, it actually stored that thing. 

Promscale also allows users to change this default, in case one desires lower IOPS with lower durability. 7/</p>
                <p><span><p> 2</p></span>
                  <span><p><span title=""></span> 0</p></span>
                  <span><p><span title=""></span> 9</p></span>
                </p>
              </div>
            </div>
            <div>
              <div>
                
                <p>VM by contrast doesn√¢‚Ç¨‚Ñ¢t have a WAL, and as far as I know there is no solid guarantee of durability even after some time. VM maybe stores the thing. It√¢‚Ç¨‚Ñ¢s the UDP of databases.

Again, perhaps an okay tradeoff (eg usage of UDP vs TCP), but one that should be made clear to users. 8/</p>
                <p><span><p> 3</p></span>
                  <span><p><span title=""></span> 1</p></span>
                  <span><p><span title=""></span> 15</p></span>
                </p>
              </div>
            </div>
            <div>
              <div>
                
                <p>Another example: VM claimed to measure how much memory we needed; what they actually measure is how much memory they configured. PostgreSQL is designed to use all the memory you configure it with as a page cache for queries.  9/</p>
                <p><span><p> 3</p></span>
                  <span><p><span title=""></span> 0</p></span>
                  <span><p><span title=""></span> 11</p></span>
                </p>
              </div>
            </div>
            <div>
              <div>
                
                <p>So, VM verified that our DB√¢‚Ç¨‚Ñ¢s memory configuration variable did exactly the right thing. They even used nice Grafana graphs. Thanks! 10/</p>
                <p><span><p> 1</p></span>
                  <span><p><span title=""></span> 0</p></span>
                  <span><p><span title=""></span> 10</p></span>
                </p>
              </div>
            </div>
            <div>
              <div>
                
                <p>But seriously, why wouldn√¢‚Ç¨‚Ñ¢t you want your database to use the memory you give it for caching? An interesting analysis would be the minimum amount of memory needed to support the workload, but that√¢‚Ç¨‚Ñ¢s not what VM did (even though they probably thought they did). 11/</p>
                <p><span><p> 1</p></span>
                  <span><p><span title=""></span> 0</p></span>
                  <span><p><span title=""></span> 10</p></span>
                </p>
              </div>
            </div>
            <div>
              <div>
                
                <p>VM is also not transparent about the qualitative differences: Promscale supports both SQL and 100% standard-compliant PromQL. VM only supports a broken version of PromQL, which a third-party found featured &lt;60% compatibility with PromQL: <a href="https://promlabs.com/blog/2020/11/26/an-update-on-promql-compatibility-across-vendors">promlabs.com/blog/2020/11/26√¢‚Ç¨¬¶</a> 12/</p>
                
                <p><span><p> 2</p></span>
                  <span><p><span title=""></span> 0</p></span>
                  <span><p><span title=""></span> 13</p></span>
                </p>
              </div>
            </div>
            <div>
              <div>
                
                <p>In addition, Promscale (but not VM) allows you to perform complex analysis, joining metric data with other relational data, using standard SQL visualization and AI/ML tools, supporting enterprise-grade security and permissions, etc. 13/</p>
                <p><span><p> 1</p></span>
                  <span><p><span title=""></span> 0</p></span>
                  <span><p><span title=""></span> 9</p></span>
                </p>
              </div>
            </div>
            <div>
              <div>
                
                <p>Benchmarking, done right, informs the reader of the tradeoffs various systems make (and how best to choose what's right for your system). Unfortunately, by hiding the true tradeoffs and design decisions made by these two systems, these benchmarks fail to inform the reader. 14/</p>
                <p><span><p> 1</p></span>
                  <span><p><span title=""></span> 0</p></span>
                  <span><p><span title=""></span> 11</p></span>
                </p>
              </div>
            </div>
            <div>
              <div>
                
                <p>The real shame here is that I think VM is actually a good piece of technology, with some trade-offs that some may find reasonable. But that gets hidden by this kind of questionable marketing (and general spamming its creators tend to do on other people√¢‚Ç¨‚Ñ¢s forums). 15/</p>
                <p><span><p> 2</p></span>
                  <span><p><span title=""></span> 0</p></span>
                  <span><p><span title=""></span> 20</p></span>
                </p>
              </div>
            </div>
            <div>
              <div>
                
                <p>VictoriaMetrics tech /is/ pretty cool: the most impressive part is their careful optimization of Go and the resulting low resource usage. I can definitely see use cases for it in resource-constrained environments.  16/</p>
                <p><span><p> 2</p></span>
                  <span><p><span title=""></span> 0</p></span>
                  <span><p><span title=""></span> 9</p></span>
                </p>
              </div>
            </div>
            <div>
              <div>
                
                <p>One thing we appreciate about the <a href="https://nitter.cc/PrometheusIO" title="PrometheusMonitoring">@PrometheusIO</a> community is that everyone is helpful. Eg., Thanos and Cortex share code. Some of the authors of Thanos and Cortex also continue to provide helpful feedback to us (including helping us choose our name: <a href="https://github.com/timescale/promscale/issues/243">github.com/timescale/promsca√¢‚Ç¨¬¶</a>) 17/</p>
                
                <p><span><p> 1</p></span>
                  <span><p><span title=""></span> 1</p></span>
                  <span><p><span title=""></span> 23</p></span>
                </p>
              </div>
            </div>
            <div>
              <div>
                
                <p>The <a href="https://nitter.cc/PrometheusIO" title="PrometheusMonitoring">@PrometheusIO</a> community deserves honest benchmarking. Let√¢‚Ç¨‚Ñ¢s do better! 18/18</p>
                <p><span><p> 4</p></span>
                  <span><p><span title=""></span> 0</p></span>
                  <span><p><span title=""></span> 23</p></span>
                </p>
              </div>
            </div>
            <div>
              <div>
                
                <p>Wow, this blew up more than I anticipated. If people have suggestions about better benchmarking, please leave a comment on this Promscale issue <a href="https://github.com/timescale/promscale/issues/391">github.com/timescale/promsca√¢‚Ç¨¬¶</a>. (especially useful would be pointers to real-world Prometheus datasets)</p>
                
                <p><span><p> 2</p></span>
                  <span><p><span title=""></span> 3</p></span>
                  <span><p><span title=""></span> 6</p></span>
                </p>
              </div>
            </div>
          </div></div>]]>
            </description>
            <link>https://nitter.cc/cevianNY/status/1339955888870797314#m</link>
            <guid isPermaLink="false">hacker-news-small-sites-25477454</guid>
            <pubDate>Sat, 19 Dec 2020 14:05:44 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Approach Zero ‚Äì A LaTeX search engine]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25477439">thread link</a>) | @subset
<br/>
December 19, 2020 | https://approach0.xyz/search/ | <a href="https://web.archive.org/web/*/https://approach0.xyz/search/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://approach0.xyz/search/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25477439</guid>
            <pubDate>Sat, 19 Dec 2020 14:03:08 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[First Covid-19 vaccine approved for Swiss use]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25477284">thread link</a>) | @sschueller
<br/>
December 19, 2020 | https://www.swissinfo.ch/eng/first-covid-19-vaccine-approved-for-swiss-use/46234782 | <a href="https://web.archive.org/web/*/https://www.swissinfo.ch/eng/first-covid-19-vaccine-approved-for-swiss-use/46234782">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<main id="main-content" uk-height-viewport="offset-bottom: true; offset-top: true; expand: true">
<article>
<div>
<section>
<div>
<div>
<figure>
<picture>
<source srcset="https://www.swissinfo.ch/resource/image/46234800/landscape_ratio3x2/880/587/23fcdcce05b6016cb439f8806098cb21/vc/437007873_highres.jpg" media="(min-width: 900px)">
<source srcset="https://www.swissinfo.ch/resource/image/46234800/landscape_ratio3x2/580/387/23fcdcce05b6016cb439f8806098cb21/vn/437007873_highres.jpg" media="(min-width: 321px)">

</picture>
<figcaption>
The Covid-19 vaccine from Pfizer/BioNTech is one of three pre-ordered by the Swiss health authorities. Switzerland expects to start vaccinating the most vulnerable people this month already, and nationwide from January 4. <span>Tampa Bay Times</span>
</figcaption> </figure>
</div>
</div><p>Swiss health regulator Swissmedic has approved the coronavirus vaccine from Pfizer/BioNTech. According to the Swiss authorities, the level of protection is over 90% a week after the second dose.</p>
<span>This content was published on December 20, 2020 - 10:40</span>
<time datetime="2020-12-20T10:40:00+01:00">

</time><p>Two months after receiving the application, Swissmedic, the Swiss Agency for Therapeutic Products, has given the coronavirus vaccine Comirnaty¬Æ (BNT162b2) the green light. Based on the available data, the agency found a comparably high level of efficacy in all age groups that were tested.</p><p>‚ÄúThe safety of patients is an essential prerequisite, especially where the authorisation of vaccines is concerned,‚Äù said Swissmedic Director Raimund Bruhin in a <a rel="noopener" target="_blank" href="https://www.admin.ch/gov/en/start/documentation/media-releases.msg-id-81761.html">media release</a> on Saturday. ‚ÄúThanks to the rolling procedure and our flexibly organised teams, we nevertheless managed to reach a decision quickly ‚Äì while also fully satisfying the three most important requirements of safety, efficacy and quality.‚Äù</p>
<p>Anyone aged 16 and up can be vaccinated against the novel coronavirus (SARS-CoV-2), subject to compliance with the federal government‚Äôs official vaccination recommendations. For optimum protection, Swissmedic suggests two intramuscular injections of the vaccine, spaced at least 21 days apart.</p><p>The authorisation application for Comirnaty¬Æ, an mRNA vaccine, was submitted in mid-October and reviewed on an ongoing basis (‚Äúrolling submission‚Äù). The vaccine&nbsp;has already been approved&nbsp;in Britain, Canada, the United States and other countries.</p><p>In addition to Pfizer/BioNTech, Switzerland has signed agreements with vaccine manufacturers Moderna and AstraZeneca. The Alpine country now has 15.8 million doses of vaccines on order from the three makers, pending approval from the health regulator. Swissmedic is also evaluating a vaccine from&nbsp;Janssen-Cilag.</p><h2>First vaccinations in December</h2><p>The federal government has ordered around three million doses of vaccine from Pfizer/BioNTech. The first 107,000 doses of vaccine will arrive in Switzerland in the next few days, announced the <a rel="noopener" target="_blank" href="https://www.admin.ch/gov/en/start/documentation/media-releases.msg-id-81762.html">Federal Office of Public Health</a> on Saturday.</p><p>The Armed Forces Pharmacy will store the vaccine&nbsp;at -70 degrees Celsius before distributing it to the cantons, which can store the vials in refrigerators for a maximum of five days.</p><p>Canton Lucerne will launch its vaccination campaign on December 23, starting with vulnerable residents over 65. Basel City will begin on December 28. Nationwide vaccination is slated to start&nbsp;on January 4.</p><p>Swissmedic‚Äôs vaccine approval came earlier than expected. Though it is good news, it also poses additional challenges for Switzerland‚Äôs&nbsp;thinly-stretched healthcare system.</p><p>It is up to the cantons to decide how to staff and where to provide vaccination services. Sample locations are medical practices, gymnasiums and military facilities. The estimated two million people in risk groups should be vaccinated first, notes the health office. In addition to senior citizens, that includes people with diabetes, chronic lung disease or high blood pressure.</p>
<p>Next in line are medical workers and relatives of the vulnerable. Swiss health authorities say it will be early spring before other people&nbsp;can be vaccinated.</p><p>More than 6,000 people in Switzerland (pop. 8.5 million) have died of Covid-19. Over 400,000 have been infected.</p>

 </section>
</div></article> </main> </div></div>]]>
            </description>
            <link>https://www.swissinfo.ch/eng/first-covid-19-vaccine-approved-for-swiss-use/46234782</link>
            <guid isPermaLink="false">hacker-news-small-sites-25477284</guid>
            <pubDate>Sat, 19 Dec 2020 13:32:20 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Predictable Performance of OCaml's Module System]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25477111">thread link</a>) | @poga
<br/>
December 19, 2020 | https://devpoga.org/post/2020-12-19_ocaml_predictable_module_functor/ | <a href="https://web.archive.org/web/*/https://devpoga.org/post/2020-12-19_ocaml_predictable_module_functor/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div role="main">
  <article>
    
    <section>
      <p><strong><a href="https://devpoga.org/tags/learn-ocaml-the-hard-way/">Learn OCaml the Hard Way</a> is a series about learning OCaml from the ground up:</strong></p>
<ul>
<li><a href="https://devpoga.org/post/2020-11-21-a-taste-of-ocaml-predictable-performance/">A taste of OCaml‚Äôs predictable performance</a></li>
<li><a href="https://devpoga.org/post/2020-11-30-ocaml-compiler-pipeline/">Going through the OCaml compiler pipeline (manually)</a></li>
<li><a href="https://devpoga.org/post/2020-12-19_ocaml_predictable_module_functor/">Predictable Performance of OCaml‚Äôs module system</a> <strong>(You‚Äôre here)</strong></li>
</ul>
<hr>
<p><img src="https://devpoga.org/post/2020-12-19_ocaml_predictable_module_functor/camel.jpg" alt=""></p>
<p>OCaml‚Äôs module system can be a powerful tool for building generic code and structuring systems. Functors are functions from modules to modules and they serve an important role for the power of module system.</p>
<p>Some common usages of functors <a href="https://dev.realworldocaml.org/functors.html">are</a>:</p>
<ul>
<li>Dependency Injection</li>
<li>Autoextension of Modules</li>
<li>Instantiating modules with state</li>
</ul>
<p>However, I want to know if functors (and the module system) can be optimized away by the OCaml compiler.</p>
<p>The following codes are compiled with OCaml 4.11.1 with <a href="https://caml.inria.fr/pub/docs/manual-ocaml/flambda.html">flambda</a> enabled, running on <a href="https://godbolt.org/">Compiler Explorer</a>.</p>
<hr>
<h2 id="modules">Modules</h2>
<p>First, I wonder if a simple module layer can break OCaml‚Äôs claim of predictable performance. Here‚Äôs a trivial function to compare two strings:</p>
<div><pre><code data-lang="ocaml"><span>let</span> eq x y <span>=</span>
  compare x y
<span>(* camlExample__eq_29:
</span><span>        subq    $8, %rsp
</span><span>        movq    %rax, %rdi
</span><span>        movq    %rbx, %rsi
</span><span>        movq    caml_compare@GOTPCREL(%rip), %rax
</span><span>        call    caml_c_call@PLT
</span><span>.L100:
</span><span>        movq    (%r14), %r15
</span><span>        addq    $8, %rsp
</span><span>        ret *)</span>
</code></pre></div><p>If we wrap the type and the <code>compare</code> function with a module <code>ID</code>, the compiler still product the same assembly:</p>
<div><pre><code data-lang="ocaml"><span>module</span> <span>type</span> <span>ID</span> <span>=</span> <span>sig</span>
    <span>type</span> t
    <span>val</span> <span>(=):</span> t <span>-&gt;</span> t <span>-&gt;</span> <span>int</span>
<span>end</span>

<span>module</span> <span>StringID</span> <span>=</span> <span>struct</span>
    <span>type</span> t <span>=</span> <span>string</span>
    <span>let</span> <span>(=)</span> <span>=</span> compare
<span>end</span>

<span>module</span> <span>Username</span><span>:</span> <span>ID</span> <span>=</span> <span>StringID</span>

<span>let</span> eqUser x y <span>=</span>
    Username.<span>(=)</span> x y

<span>(* camlExample__eqUser_48:
</span><span>        subq    $8, %rsp
</span><span>        movq    %rax, %rdi
</span><span>        movq    %rbx, %rsi
</span><span>        movq    caml_compare@GOTPCREL(%rip), %rax
</span><span>        call    caml_c_call@PLT
</span><span>.L104:
</span><span>        movq    (%r14), %r15
</span><span>        addq    $8, %rsp
</span><span>        ret *)</span>
</code></pre></div><p>In this example, we put the actual implementation of comparing two string behind a module <code>ID</code> and its implementation <code>StringID</code>.</p>
<p>We can see that the compiler removed all module infomations and produced exact same assembly for <code>eqUser</code> and <code>eq</code>. Quite impressive!</p>
<hr>
<h2 id="functors">Functors</h2>
<p>The above example is way too trivial, what if we try some functors?</p>
<p>Here‚Äôs a functor example copied from <a href="https://dev.realworldocaml.org/functors.html">Real world‚Äôs OCaml</a>:</p>
<div><pre><code data-lang="ocaml"><span>module</span> <span>type</span> <span>JustAnInt</span> <span>=</span> <span>sig</span>
    <span>val</span> x<span>:</span> <span>int</span>
<span>end</span>

<span>(* a functor which takes a JustAnInt and return a JustAnInt *)</span>
<span>module</span> <span>Increment</span> <span>(</span><span>M</span><span>:</span> <span>JustAnInt</span><span>)</span> <span>:</span> <span>JustAnInt</span> <span>=</span> <span>struct</span>
    <span>let</span> x <span>=</span> M.x <span>+</span> 1
<span>end</span>

<span>let</span> inc x <span>=</span>
    x <span>+</span> 1

<span>(* camlExample__inc_71:
</span><span>        addq    $2, %rax
</span><span>        ret
</span><span>        *)</span>

<span>module</span> <span>One</span> <span>=</span> <span>struct</span>
    <span>let</span> x <span>=</span> 1
<span>end</span>

<span>module</span> <span>Two</span> <span>=</span> <span>Increment</span><span>(</span><span>One</span><span>)</span>

<span>let</span> add_two y <span>=</span>
    Two.x <span>+</span> y

<span>(* camlExample__add_two_86:
</span><span>        addq    $4, %rax
</span><span>        ret
</span><span>        *)</span>
</code></pre></div><p>Here, we can see that the <code>add_two</code> function (which operate on top of a functor <code>Increment</code>) produces the same assembly as a trivial <code>inc</code> function.</p>
<hr>
<p>The above examples are trivial but build up my confidence to OCaml‚Äôs predictable performance. I guess the simplicity of OCaml‚Äôs syntax and semantics helped the compiler a lot?</p>
<hr>
<h2 id="references">References</h2>
<ul>
<li><a href="https://dev.realworldocaml.org/files-modules-and-programs.html">Files, Modules, and Programs</a></li>
<li><a href="https://dev.realworldocaml.org/functors.html">Functors</a></li>
</ul>
<p><span>Photo by <a href="https://unsplash.com/@iaminbaltal?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText">Inbal Malca</a> on <a href="https://unsplash.com/@iaminbaltal?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText">Unsplash</a></span></p>
<hr>
<p>Like this post? <a href="https://learnocamlthehardway.substack.com/welcome">Subscribe</a> to <strong>Learn OCaml the Hard Way</strong> to get more!</p>

    </section>
    
  </article>
</div></div>]]>
            </description>
            <link>https://devpoga.org/post/2020-12-19_ocaml_predictable_module_functor/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25477111</guid>
            <pubDate>Sat, 19 Dec 2020 12:54:30 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[When DevSecOps goes wrong: a short lesson from Huawei's source code]]>
            </title>
            <description>
<![CDATA[
Score 53 | Comments 22 (<a href="https://news.ycombinator.com/item?id=25477069">thread link</a>) | @DyslexicAtheist
<br/>
December 19, 2020 | https://r2c.dev/blog/2020/when-devsecops-goes-wrong-a-short-lesson-from-huaweis-source-code/ | <a href="https://web.archive.org/web/*/https://r2c.dev/blog/2020/when-devsecops-goes-wrong-a-short-lesson-from-huaweis-source-code/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section><div><div><div><p>There‚Äôs a trend to unify security and developer flows that goes by various names like DevSecOps and ‚Äúshift left.‚Äù Generally security teams seem more enthusiastic about this than developer teams, who refer to security as a <a href="https://www.darkreading.com/application-security/open-source-developers-still-not-interested-in-secure-coding/d/d-id/1339654" target="_blank" rel="noopener">‚Äúsoul-withering chore‚Äù or ‚Äúinsufferably boring procedural hinderance.‚Äù</a> If developers don‚Äôt believe in code hardening ideas, things can go wrong in amusing ways.</p>
<p><span>
      <a href="https://r2c.dev/static/4df5e05b677b46135740d1f1852a05a6/50978/shiftleft.png" target="_blank" rel="noopener">
    <span></span>
  <img alt="Semgrep pattern example" title="Semgrep pattern example" src="https://r2c.dev/static/4df5e05b677b46135740d1f1852a05a6/50978/shiftleft.png" srcset="https://r2c.dev/static/4df5e05b677b46135740d1f1852a05a6/5a46d/shiftleft.png 300w,
https://r2c.dev/static/4df5e05b677b46135740d1f1852a05a6/50978/shiftleft.png 478w" sizes="(max-width: 478px) 100vw, 478px" loading="lazy">
  </a>
    </span></p>
<p>I was recently reading the <a href="https://www.gov.uk/government/publications/huawei-cyber-security-evaluation-centre-oversight-board-annual-report-2019" target="_blank" rel="noopener">2019 UK government security evaluation of Huawei</a> which provides a humorous example: developers for one of the LTE base stations literally used a <code>#define</code> to redefine unsafe_functions like <code>strcpy</code> to safer varients like <code>strlcpy</code>. Specifically:</p>
<p><span>
      <a href="https://r2c.dev/static/aa680407147acdd651f9df0feda4aa94/3fe45/huaweiborder.png" target="_blank" rel="noopener">
    <span></span>
  <img alt="Semgrep pattern example" title="Semgrep pattern example" src="https://r2c.dev/static/aa680407147acdd651f9df0feda4aa94/3fe45/huaweiborder.png" srcset="https://r2c.dev/static/aa680407147acdd651f9df0feda4aa94/5a46d/huaweiborder.png 300w,
https://r2c.dev/static/aa680407147acdd651f9df0feda4aa94/0a47e/huaweiborder.png 600w,
https://r2c.dev/static/aa680407147acdd651f9df0feda4aa94/3fe45/huaweiborder.png 699w" sizes="(max-width: 699px) 100vw, 699px" loading="lazy">
  </a>
    </span></p>
<p><em><a href="https://assets.publishing.service.gov.uk/government/uploads/system/uploads/attachment_data/file/790270/HCSEC_OversightBoardReport-2019.pdf" target="_blank" rel="noopener">Report from the Huawei Cyber Security Evaluation Centre Oversight Board</a>, page 29, March 2019</em></p>
<p>In net, the report found that about 11% of <code>memcpy</code>-like and 22% of <code>strcpy</code>-like function calls in the codebase were to the least safe variants. And assuming safety just from the function name is simplistic‚Äîeven the <em>safe</em> variants could still be dangerous.</p>
<p>In Huawei‚Äôs defense, while they have been subjected to an unusual level of public scrutiny they are definitely not an outlier in having trouble getting developers to adopt secure coding guidelines. In the <code>memcpy</code> case, it‚Äôs been <a href="https://web.archive.org/web/20090519182728/http://msdn.microsoft.com/en-us/library/bb288454.aspx" target="_blank" rel="noopener">banned at Microsoft</a> <a href="https://www.theregister.com/2009/05/15/microsoft_banishes_memcpy/" target="_blank" rel="noopener">since 2009</a>, but I haven‚Äôt personally seen any other companies outside the FAANG (Facebook/Apple/Amazon/Netflix/Google) that have done the same. You can actually tell who has banned the bad POSIX functions empirically, by looking at binaries‚Äîa non-profit named CITL did a great overview of this and more in the IoT space. As you‚Äôd probably guess, the <a href="https://cyber-itl.org/2019/08/26/iot-data-writeup.html" target="_blank" rel="noopener">results are dismal</a>.</p>
<p><a href="https://twitter.com/clintgibler" target="_blank" rel="noopener">Clint Gibler</a> and I <a href="https://r2c.dev/global-appsec-sf-2020" target="_blank" rel="noopener">recently presented</a> at Global AppSec SF 2020 about what we think are some of the core principles for successfully bridging the developer/security divide. If you‚Äôre looking for a quick takeaway, we suggest three principles:</p>
<ol>
<li>Be fast: scanning should run in parallel and be <em>faster than the slowest test</em>. Otherwise you‚Äôre blocking developer workflow.</li>
<li>Be early: if you‚Äôre going to complain, the editor is better than commit-time is better than CI.</li>
<li>Autofix: don‚Äôt just complain, offer a fix. Even an imperfect suggestion is better than nothing.</li>
</ol>
<hr>
<p>P.S. If you have a giant C codebase sitting around and you want to figure out how much <code>strcpy</code> is used, the two fastest ways are probably <a href="https://blog.burntsushi.net/ripgrep/" target="_blank" rel="noopener">ripgrep, a hyper-fast grep</a> (noisy, fastest) or <a href="https://semgrep.dev/" target="_blank" rel="noopener">Semgrep, a semantic grep-for-code</a> (precise, slower; full disclosure‚ÄîI work on Semgrep!). Here‚Äôs how you could do it in both:</p>
<div data-language="shell"><pre><code><span>(</span>webkit@aadf31<span>)</span> $ rg --quiet --stats strcpy -tc
<span>163</span> matches
<span>..</span>.</code></pre></div>
<p>But ripgrep includes some false positives, like commented code:</p>
<div data-language="shell"><pre><code><span>45</span>:// string.h is not guaranteed to provide strcpy on C++ Builder.</code></pre></div>
<p>We could obviously try to improve our regex to avoid <code>//</code> at the start of the line, but then we‚Äôd have to consider <code>/*</code> also, plus a lot more if we really want to do it right, so it might be nice to have a proper parser, which is what Semgrep provides. If you‚Äôre curious about the syntax, there‚Äôs an <a href="https://semgrep.dev/learn" target="_blank" rel="noopener">online tutorial</a> that takes a few minutes or you can <a href="https://semgrep.dev/docs" target="_blank" rel="noopener">read the docs</a>.</p>
<div data-language="shell"><pre><code><span>(</span>webkit@aadf31<span>)</span> $ semgrep -e <span>"memcpy(...)"</span> --lang<span>=</span>c <span>.</span>
<span>..</span>.
ran <span>1</span> rules on <span>1710</span> files: <span>80</span> findings</code></pre></div>
<p>(Note that Semgrep has some parse failures on Webkit; <a href="https://semgrep.dev/docs/status/" target="_blank" rel="noopener">C support is still in alpha</a>)</p></div></div></div></section></div>]]>
            </description>
            <link>https://r2c.dev/blog/2020/when-devsecops-goes-wrong-a-short-lesson-from-huaweis-source-code/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25477069</guid>
            <pubDate>Sat, 19 Dec 2020 12:41:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[M5Paper ESP32 IoT development kit features a 4.7-inch e-Ink touchscreen display]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25477039">thread link</a>) | @tyler109
<br/>
December 19, 2020 | https://forum.ei2030.org/t/m5paper-esp32-iot-development-kit-features-a-4-7-inch-e-ink-touchscreen-display/65 | <a href="https://web.archive.org/web/*/https://forum.ei2030.org/t/m5paper-esp32-iot-development-kit-features-a-4-7-inch-e-ink-touchscreen-display/65">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody">
          <p>Let me quote them:</p>
<blockquote>
<p>M5Stack has just launched its unique and latest core device with a touchscreen e-Ink display. <strong>M5Paper</strong> ESP32 IoT Development Kit is a fully programmable microcontroller-based platform that can be an ideal choice for your IoT applications. This low-power device could suit such purposes as an industrial controller or smart weather display</p>
</blockquote>
<p>Video:<br>
</p><p><a href="https://www.youtube.com/watch?v=W4MB5fwXEBw" target="_blank" rel="noopener">
    <img src="https://forum.ei2030.org/uploads/default/original/1X/6d7bb787845c13a0a957a472991da1ba4bcd92f2.jpeg" title="Introducing M5Paper - Touch Enabled ESP32 E-ink device" width="690" height="388">
  </a>
</p>

<p>More reading:</p>
<ul>
<li><a href="https://www.cnx-software.com/2020/11/30/m5paper-esp32-iot-development-kit-features-a-4-7-inch-e-ink-touchscreen-display/">https://www.cnx-software.com/2020/11/30/m5paper-esp32-iot-development-kit-features-a-4-7-inch-e-ink-touchscreen-display/</a></li>
<li><a href="https://m5stack.com/collections/m5-core/products/m5paper-esp32-development-kit-960x540-4-7-eink-display-235-ppi?variant=37595977908396">https://m5stack.com/collections/m5-core/products/m5paper-esp32-development-kit-960x540-4-7-eink-display-235-ppi?variant=37595977908396</a></li>
</ul>
<p>Would be really interesting to see projects coming out of this new kit. It certainly offers a lot of properties which look quite interesting.<br>
.</p>
        </div></div>]]>
            </description>
            <link>https://forum.ei2030.org/t/m5paper-esp32-iot-development-kit-features-a-4-7-inch-e-ink-touchscreen-display/65</link>
            <guid isPermaLink="false">hacker-news-small-sites-25477039</guid>
            <pubDate>Sat, 19 Dec 2020 12:34:05 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[PC Engine / TurboGrafx-16 Architecture ‚Äì A Practical Analysis]]>
            </title>
            <description>
<![CDATA[
Score 32 | Comments 5 (<a href="https://news.ycombinator.com/item?id=25476926">thread link</a>) | @Parseus
<br/>
December 19, 2020 | https://www.copetti.org/projects/consoles/pc-engine/ | <a href="https://web.archive.org/web/*/https://www.copetti.org/projects/consoles/pc-engine/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div class="page"><nav id="navbar"></nav><h2>A Practical Analysis</h2><hr><div><ul><li><a href="#cover-model">Model</a></li><li><a href="#cover-motherboard">Motherboard</a></li><li><a href="#cover-diagram">Diagram</a></li></ul><div><div id="cover-motherboard"><figcaption>Showing the TurboGrafx's motherboard<br>The PC Engine one was considerably smaller and stacked</figcaption></div><div id="cover-diagram"><a href="https://www.copetti.org/images/consoles/pcengine/diagram.png"><picture>
<img width="1286" height="614" alt="Diagram" loading="auto" src="https://www.copetti.org/images/consoles/pcengine/diagram.png"></picture></a><figcaption>Looks pretty simple, huh?</figcaption></div></div></div><hr><h2 id="a-quick-introduction">A quick introduction</h2><p>Hudson and NEC joined forces to kickstart the 4th generation of consoles. Unfortunately, their efforts will be eventually eclipsed once the competition arrives. Nonetheless, their console will stay on the top as one of the most compact designs in the market.</p><hr><h2 id="models-and-variants">Models and variants</h2><p>Just like the Master system, NEC shipped a lot of revisions and strange variations which can be a bit troubling to follow at first. So, for future reference, here are the most important models:</p><ul><li><strong>PC Engine</strong>: The first console featuring this architecture, but only released in Japan. It looks like a small white box with minimal ports.</li><li><strong>TurboGrafx-16</strong>: Redesigned PC Engine for the American market. It has the same features with a different external appearance. Reminds me of the <a href="https://www.copetti.org/projects/consoles/nes/">NES/Famicom adaptation</a>.</li><li><strong>Supergrafx</strong>: Enhanced version of the PC Engine with a completely different case and new hardware. Its exclusive features are out of the scope of this article.</li><li><strong>PC Engine Duo/TurboDuo</strong>: A combination of the PC Engine/TurboGrafx and the aftermarket CD-ROM¬≤ expansion.</li></ul><p>This article will focus on the PC Engine/TurboGrafx-16, but will also discuss the expansions that led to the release of the PC Engine Duo/TurboDuo.</p><hr><h2 id="cpu">CPU</h2><p>Inside this console, we find the <strong>HuC6280</strong>, a chip made by <strong>Hudson Soft</strong> that houses two components. One of them is the CPU, which can operate at two speeds: <strong>~1.79 MHz</strong> and <strong>~7.16 MHz</strong>.</p><p>The HuC6280 is not an off-the-shelf component, like the <a href="https://www.copetti.org/projects/consoles/master-system/#cpu">Z80</a>, but instead a proprietary CPU designed by NEC. After checking out the official docs, it does seem to replicate a lot of behaviour from the famous <strong>MOS 6502</strong> and <strong>WDC‚Äôs 65C02</strong>. That being said, what does all of this mean for the programmer?</p><p>Before we start, we‚Äôve already covered some parts of the MOS 6502 <a href="https://www.copetti.org/projects/consoles/nes/#cpu">here</a> and also described a 16-bit variant made by WDC and Ricoh <a href="https://www.copetti.org/projects/consoles/super-nintendo/#cpu">here</a>, in case you want to check them out first.</p><p>The 65C02 is another modified version of the MOS 6502 made by Western Design Center, it‚Äôs a lot more efficient due to its manufacturing approach (CMOS). From the software side, the 65C02 adds a couple of new instructions and modifies the behaviour of some existing ones.</p><p>We could a lot more about the 65C02, but I think it‚Äôs better to focus on the features added by Hudson (complementing the 65C02) because they are critical to efficiently operate this console. Compared to the 65C02, the HuC6280 has:</p><ul><li><strong>More opcodes</strong>, some targeting the components surrounding the CPU.</li><li>An <strong>8-bit I/O port</strong> used to interface external components.</li><li>An <strong>interrupt controller</strong> to receive interrupts from other devices.</li><li>A <strong>timer</strong>. It works by counting down from a specified value and when it finishes, it dispatches an interrupt to the CPU.</li></ul><p>Finally, there are <strong>8 KB of RAM</strong> available for general purpose.</p><h4 id="memory-access">Memory access</h4><p>One thing I didn‚Äôt mention <em>yet</em> is that NEC also added a <strong>Memory Management Unit</strong> or ‚ÄòMMU‚Äô next to the CPU, allowing to handle <strong>21-bit addresses</strong> (remember the original 6502 only has 16-bit addresses). Thus, the amount of memory that can be accessed raises from 64 KB to <strong>2 MB</strong>.</p><p>This MMU is very different from any modern-day MMU. The one found in the PC Engine is composed of <strong>eight 8-bit registers</strong> (called <strong>Mapping Register</strong> or ‚ÄòMPR‚Äô) which are combined with the CPU‚Äôs 16 address lines to form a 21-bit address bus.</p><div><a href="https://www.copetti.org/images/consoles/pcengine/mmu.7db09aefb948cf6a8a5dfb8bfabb5d1b1021970dec3dadcbebef1e688c5d7b06.png"><picture>
<img name="image_cover" alt="Image" width="975" height="323" src="https://www.copetti.org/images/consoles/pcengine/mmu.7db09aefb948cf6a8a5dfb8bfabb5d1b1021970dec3dadcbebef1e688c5d7b06.png" loading="auto"></picture></a><figcaption>Addressing approach of the MMU</figcaption></div><p>This works as follows:</p><ol><li>The CPU can read from and/or write to any MPR using the special <code>TAM</code> and <code>TMA</code> instructions, respectively.</li><li>When physical memory is accessed, the MMU reserves the address lines A13-A16 from the CPU to select one of the eight MPRs.</li><li>The MMU then combines the CPU lines A0-A12 with the 8-bit value of the selected MPR to set A13-A20. Resulting in a 21-bit address.</li></ol><p>Consequently, this MMU groups physical memory in 8 KB pages (12 CPU lines = 8 KB pages), which is the amount of memory the CPU can access without swapping out the MPR nor altering its value.</p><p>Anyway, don‚Äôt overwhelm yourself if you have trouble understanding it (it‚Äôs just an unconventional modus operandi some may find interesting).</p><hr><h2 id="graphics">Graphics</h2><p>This is taken care by the <strong>Hudson Soft HuC6270</strong>, a separate chip also referred to as the <strong>Video Display Controller</strong> or ‚ÄòVDC‚Äô. The HuC6270 will draw everything that the player will see on the screen and its functionality is very similar to <a href="https://www.copetti.org/projects/consoles/master-system/#gpu">Sega‚Äôs counterpart</a>, so please check out that article beforehand since I‚Äôll focus on what‚Äôs different with Hudson‚Äôs offering.</p><h4 id="organising-the-content">Organising the content</h4><p>First things first, the VDC is a <strong>tile engine</strong> (pretty much the standard until the 5th generation showed up) but notice how the PC Engine includes <strong>64 KB of VRAM</strong> which is a significant amount compared to the competition. This may lead to a new type of content, which we‚Äôll check later on.</p><div><a href="https://www.copetti.org/images/consoles/pcengine/graphics/vdc.e0bce70688354b7ea91f7f4b486327b8e8f3d6f3cc82580dfb80b51ec10fb88a.png"><picture>
<img name="image_cover" alt="Image" width="1005" height="482" src="https://www.copetti.org/images/consoles/pcengine/graphics/vdc.e0bce70688354b7ea91f7f4b486327b8e8f3d6f3cc82580dfb80b51ec10fb88a.png" loading="auto"></picture></a><figcaption>Memory architecture of the VDP</figcaption></div><p>The way graphics data is arranged is a bit confusing: Both CPU and VDC use 16-bit addresses, but while the CPU can only handle 8-bit words, the HuC6270 stores 16-bit words in VRAM. This means that a single address in RAM contains a byte while an address in VRAM stores two bytes, so developers had to watch out for that discrepancy when transferring data to VRAM.</p><p>The reason for this comes down to the way Hudson organised the circuitry: The VDC has a 16-bit address bus but <strong>only the first 15 lines are controlled</strong> (the last one is always set to ‚Äò0‚Äô), so odd addresses are fetched from the second byte. I don‚Äôt know why Hudson went down this path, but I do know that all of this would make better sense if the system had instead 128 KB of VRAM (since a 16-bit address bus can only access up to 64 KB, so by somehow doubling the data bus, up to 128 KB can be retrieved). Maybe that was the original plan for Hudson/NEC?</p><h4 id="constructing-the-frame">Constructing the frame</h4><p>Aside from the aforementioned granularity oddity, functionality-wise the VDP is very simple. The subsystem has three main components: The <strong>VDC</strong> and <strong>VRAM</strong>, which we already discussed - and the <strong>video encoder</strong> (also called ‚ÄòVEC‚Äô, we‚Äôll see more about it in due time).</p><p>The system can use multiple resolutions, this is because the game can alter a set of registers that act as parameters for controlling the display timings, which in turn alter when the CRT starts beaming the frame (as opposed to overscan). The minimum resolution is <strong>256 √ó 224 pixels</strong>, while some homebrew has proved this system can go as high as <strong>512 √ó 240 pixels</strong>.</p><p>Now let‚Äôs see how a frame is drawn step by step, for this, I‚Äôll borrow <em>Bonk‚Äôs Adventure</em>‚Äôs assets.</p><div><ul><li id="tab-2-1-tiles-link"><a href="#tab-2-1-tiles">Tiles</a></li><li id="tab-2-2-storing-tiles-link"><a href="#tab-2-2-storing-tiles">Storing tiles</a></li><li id="tab-2-3-background-layer-link"><a href="#tab-2-3-background-layer">Background Layer</a></li><li id="tab-2-4-sprite-layer-link"><a href="#tab-2-4-sprite-layer">Sprite Layer</a></li><li id="tab-2-5-result-link"><a href="#tab-2-5-result">Result</a></li></ul><div><div id="tab-2-1-tiles"><h4>Tiles</h4><p>As a quick reminder, tiles are just <strong>8x8 pixel bitmaps</strong> that the renderer fetches to draw portions of the screen. With the VDC, the frame is composed of two planes: The background layer and the sprite layer.</p><p>Inside VRAM there‚Äôs an area called <strong>Character generator</strong> where tiles exclusive to the background layer are defined. Each pixel of a tile occupies four bits, so it can use up to 16 colours. In theory, up to 4096 background tiles can be defined, but this is less in practice due to VRAM being much smaller.</p><p>Sprites, on the other hand, are drawn using tiles from a separate memory location in VRAM, this is called <strong>Sprite Generator</strong> and differs from the previous Character generator as tiles here are <strong>16x16 pixels</strong> wide.</p><p>The video encoder is a separate chip that stores <strong>32 colour palettes</strong> (16 for the background and 16 for sprites), each palette stores 16 colours and each colour is 9-bit wide (3 bits for Red + 3 bits for Green + 3 bits for Blue).</p></div><div id="tab-2-2-storing-tiles"><h4>Storing tiles</h4><p>(This section is written for those interested in how Hudson took advantage of 64 KB of VRAM with that 16-bit granularity, but you don‚Äôt have to understand it completely to be able to follow the rest of the article).</p><p>So far we‚Äôve discussed that each pixel of a tile is stored using 4 bits (or a half byte, also called a <strong>nibble</strong>). Now, Hudson dictates that <strong>tiles are composed of four 8x8 bitmaps</strong> (called ‚ÄòCH0‚Äô, ‚ÄòCH1‚Äô, ‚ÄòCH2‚Äô and ‚ÄòCH3‚Äô, respectively). Each map is 1-bit wide, but once the four are combined, they form the final tile with 4-bit pixels.</p><p>Also, remember the 16-bit alignment on VRAM? <strong>Each 16-bit word stores a single row of two 1-bit bitmaps</strong> (8 rows + 8 rows). So, after writing eight entries, two maps will be stored (instead of just one). Please have a look at the diagrams to help understand this better.</p><p>The same happens with Sprite tiles, but since they are 16x16 bitmaps, each bitmap occupies 16 words. To put it another way, to store a single sprite tile, 64 words are taken (equivalent to 8 bytes in VRAM).</p></div><div id="tab-2-3-background-layer"><h4>Background Layer</h4><div><a href="https://www.copetti.org/images/consoles/pcengine/graphics/background.08352a4808c29a6f3a808ab30c0e82af9dc2528ac88d7f6ec5816f2caa6af9d8.png"><picture>
<img name="image_cover" alt="Image" width="256" height="232" src="https://www.copetti.org/images/consoles/pcengine/graphics/background.08352a4808c29a6f3a808ab30c0e82af9dc2528ac88d7f6ec5816f2caa6af9d8.png" loading="auto"></picture></a><figcaption>Rendered background layer</figcaption></div><p>The background layer is constructed by filling the <strong>Background Attribute Table</strong> with entries in VRAM, the position of each entry defines X/Y coordinate of the tile in the screen. Each entry contains the tile index from the Character Generator and the colour palette.</p><p>The maximum dimension of this layer is <strong>1024 x 512 pixels</strong> (128 x 64 tiles), but programmers can set up a 256 x 256 pixels (32 x 32 tiles) layer as the minimum.</p><p>As always, this layer is scrollable by changing the value of some registers in the VDC.</p></div><div id="tab-2-4-sprite-layer"><h4>Sprite Layer</h4><div><a href="https://www.copetti.org/images/consoles/pcengine/graphics/sprites.e6213bbc42946458d3f72c2ba5c06210b7f03830671119a02189d229fd33c5a1.png"><picture>
<img name="image_cover" alt="Image" width="256" height="232" src="https://www.copetti.org/images/consoles/pcengine/graphics/sprites.e6213bbc42946458d3f72c2ba5c06210b7f03830671119a02189d229fd33c5a1.png" loading="auto"></picture></a><figcaption>Rendered Sprite layer</figcaption></div><p>The VDC contains an internal memory called <strong>Sprite Attribute Table Buffer</strong> where up to 64 sprites can be defined. Each entry of the table stores the independent X/Y position, colour palette, tile index and H/V flip. Furthermore, there‚Äôs an attribute allowing to combine a sprite with another one.</p><p>Each entry is 8 bytes long, although some space is wasted due to the 16-bit granularity.</p><p>To top it all off, <strong>the CPU can‚Äôt access this table</strong>, so it needs to be completed in VRAM and then activate a DMA channel to copy it to the VDC (so the latter can use it).</p><p>Regarding limitations, there can only be up to 16 sprites per scan-line. On the other side, interrupts can be set so the game can be notified when there‚Äôs been a case of sprite overflow or <a href="https://www.copetti.org/projects/consoles/master-system/#tab-4-1-collision-detection">collision</a>.</p></div><div id="tab-2-5-result"><h4>Result</h4><div><a href="https://www.copetti.org/images/consoles/pcengine/graphics/complete.df6eb72088e9f9cadfdad24e4de6cb63760d6adcf56fc3a9c7120ae14afa685e.png"><picture>
<img name="image_cover" alt="Image" width="256" height="232" src="https://www.copetti.org/images/consoles/pcengine/graphics/complete.df6eb72088e9f9cadfdad24e4de6cb63760d6adcf56fc3a9c7120ae14afa685e.png" loading="auto"></picture></a><figcaption>Tada!</figcaption></div><p>So far we‚Äôve seen how the VDC does all the heavy work, but the last task is actually delegated to the <strong>Video ‚Ä¶</strong></p></div></div></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.copetti.org/projects/consoles/pc-engine/">https://www.copetti.org/projects/consoles/pc-engine/</a></em></p>]]>
            </description>
            <link>https://www.copetti.org/projects/consoles/pc-engine/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25476926</guid>
            <pubDate>Sat, 19 Dec 2020 12:10:06 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How I Structure Cloud Functions in Go]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25476879">thread link</a>) | @duizendstra
<br/>
December 19, 2020 | https://rizwaniqbal.com/posts/how-i-structure-cloud-functions-in-go/ | <a href="https://web.archive.org/web/*/https://rizwaniqbal.com/posts/how-i-structure-cloud-functions-in-go/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
				

<p>I started deploying cloud functions in Golang when they were first released in beta last year. The Go runtime support
 for cloud functions currently supports Go version 1.11.6 and Go version 1.13.1 (Beta). This is the most stable it
  has been and in the last 6 months of running functions in production, I have faced a few ‚Äòaha‚Äô moments that I could
   have avoided if I had a guide like the one am writing now. This post, hence, is more about the journey and the
    structure I use now after iterating with a few different techniques.</p>

<h3 id="context">Context</h3>

<p>I use cloud functions to handle small routine tasks, sometimes from the client, sometimes as Subscribers to
 Google PubSub topics. So, am deploying both <a href="https://cloud.google.com/functions/docs/writing/background">Background functions</a>
 and <a href="https://cloud.google.com/functions/docs/writing/http">HTTP functions</a>. All the invocations require a service
  account or a logged in firebase user and are secure. These limitations are required to operate in a safe
   environment, considering you are charged for the number of times your function is invoked.</p>

<p>There are also caveats around cold function invocations vs hot starts. Most of the time, your function
 will already be running in an instance and would be ready to respond to triggers, however,  there are times when
  your function might be in something called a ‚Äúcold state‚Äù because of any of the following reasons:</p>

<ul>
<li>Your function has been deployed but not triggered yet.</li>
<li>Your function has been idle long enough for it to be recycled to free up resources.</li>
<li>Your function is auto-scaling to create capacity.</li>
</ul>

<p>All of these, require careful consideration on what dependencies you need to include in your functions and what you
 need to place in the <code>init()</code> method to make sure you do all the heavy computation and initialisations there.</p>

<blockquote>
<p>With this in mind, lets start approaching the problem at hand. We need to structure cloud functions in a way that the
cold boot times are small, we could run the function locally &amp; we could define private dependencies if need be</p>
</blockquote>

<h3 id="process">Process</h3>

<p>So, we have a set criteria and boundaries that we must operate in to milk the most out of our cloud functions.</p>

<p>My initial approach was to club all my functions together in one repository and have deploy scripts to deploy them if
 some common dependencies changed. This, as you would imagine got to a mess by the time I had reached the fifth
  function. Apart from the usual nightmares you get in such a shared code base, my honest intentions of not
   wanting to repeat a lot of code had now ended up in me trying to duplicate files cause you need to deploy all the
    dependencies along with every function. If you have common code for initialisation you would end up copying this
     into all your functions.</p>

<p>Like any sane Go developer I decided to create a package of my own in the same repository and import that package
 into my functions, but this does not work either cause you would then need to upload the whole package directory and
  all the other cloud functions along with it, because you are uploading the whole root folder.</p>

<pre><code>
// crappy idea

|-- pkg
    |
    |-- common code
|-- function1
    |-- function code
|-- function2
    |-- function code
</code></pre>

<p>So, I did the next sane thing, create a module and import this module from an external repository that had to be
 private. For those working on Go, you already know how modules work and what the vendoring mode is, I will not go
  into that and if you need to know more you could read through <a href="https://blog.golang.org/using-go-modules">https://blog.golang.org/using-go-modules</a>. This led to
   a new branch of problems because, if you have private repositories, cloud deploy will not be able to pull these
    modules and you need to use vendoring mode. This was easy to solve and is well documented <a href="https://cloud
    .google.com/functions/docs/writing/specifying-dependencies-go">here</a></p>

<p>With this I came to the structure that worked for me for some time.</p>

<pre><code>.
‚îú‚îÄ‚îÄ README.md
‚îú‚îÄ‚îÄ cmd
‚îÇ&nbsp;&nbsp; ‚îú‚îÄ‚îÄ func1
‚îÇ&nbsp;&nbsp; ‚îÇ&nbsp;&nbsp; ‚îî‚îÄ‚îÄ main.go
‚îÇ&nbsp;&nbsp; ‚îú‚îÄ‚îÄ func2
‚îÇ&nbsp;&nbsp; ‚îÇ&nbsp;&nbsp; ‚îî‚îÄ‚îÄ main.go
‚îú‚îÄ‚îÄ deploy.sh
‚îú‚îÄ‚îÄ go.mod
‚îú‚îÄ‚îÄ go.sum
‚îú‚îÄ‚îÄ pkg
‚îÇ&nbsp;&nbsp; ‚îú‚îÄ‚îÄ func1
‚îÇ&nbsp;&nbsp; ‚îÇ&nbsp;&nbsp; ‚îú‚îÄ‚îÄ func1.go
‚îÇ&nbsp;&nbsp; ‚îÇ&nbsp;&nbsp; ‚îú‚îÄ‚îÄ someInit.go
‚îÇ&nbsp;&nbsp; ‚îÇ&nbsp;&nbsp; ‚îú‚îÄ‚îÄ go.mod
‚îÇ&nbsp;&nbsp; ‚îÇ&nbsp;&nbsp; ‚îú‚îÄ‚îÄ go.sum
‚îÇ&nbsp;&nbsp; ‚îÇ&nbsp;&nbsp; ‚îî‚îÄ‚îÄ vendor
‚îÇ&nbsp;&nbsp; ‚îú‚îÄ‚îÄ func2
‚îÇ&nbsp;&nbsp; ‚îÇ&nbsp;&nbsp; ‚îú‚îÄ‚îÄ func2.go
‚îÇ&nbsp;&nbsp; ‚îÇ&nbsp;&nbsp; ‚îú‚îÄ‚îÄ someInit.go
‚îÇ&nbsp;&nbsp; ‚îÇ&nbsp;&nbsp; ‚îú‚îÄ‚îÄ go.mod
‚îÇ&nbsp;&nbsp; ‚îÇ&nbsp;&nbsp; ‚îú‚îÄ‚îÄ go.sum
‚îÇ&nbsp;&nbsp; ‚îÇ&nbsp;&nbsp; ‚îî‚îÄ‚îÄ vendor
</code></pre>

<p>This structure had its own problems. First, multiple go.mod files in the same repository made it almost impossible to
 test the functions locally. My process to work with this structure on local was to:
 * checkout to a different branch
 * push the branch with function changes
 * run <code>go get -d func1@branchName</code> inside <code>cmd/</code> package
 * proceed with running a local server to test</p>

<p>This along with the <code>deploy.sh</code> was troublesome for me. The multiple go.mod‚Äôs wreaked havoc and I was at a point in
  time I wanted different environment variables for different functions. However, all these functions shared common
   initialisation script I did not want to rewrite.</p>

<h3 id="the-structure">The structure</h3>

<p>What I have finally ended up with now, helps me code and deploy faster, is a breeze to test and is easy to run
 locally. The first thing I did was to split each function to its own repository. To do this, all initialisation code
  was packaged together into an external package.</p>

<p>This is the structure of my function now:</p>

<pre><code>.
‚îú‚îÄ‚îÄ README.md
‚îú‚îÄ‚îÄ .env.yaml
‚îú‚îÄ‚îÄ .gcloudignore
‚îú‚îÄ‚îÄ cmd
‚îÇ&nbsp;&nbsp; ‚îî‚îÄ‚îÄ main.go
‚îú‚îÄ‚îÄ deploy.sh
‚îú‚îÄ‚îÄ functions.go
‚îú‚îÄ‚îÄ FunctionOne.go
‚îú‚îÄ‚îÄ FunctionOne_test.go
‚îú‚îÄ‚îÄ go.mod
‚îú‚îÄ‚îÄ go.sum
‚îî‚îÄ‚îÄ vendor
</code></pre>

<p>I have a functions.go that initializes the dependencies in the event of a cold restart. These are reused every time a
 function is called.</p>

<p>// functions.go</p>

<pre><code>
// Package function is the package that houses my cloud function
package function

import (
        "context"
        "encoding/json"
        "fmt"
        "io/ioutil"
        "log"
        "net/http"
        "os"

        "github.com/automaticalldramatic/mypackage"
)

// projectID is set from the GCP_PROJECT environment variable, which is
// automatically set by the Cloud Functions runtime.
var envVar = os.Getenv("SOME_VAR")

var (
	client *mypackage.Client
	logger *log.Logger
)

func init() {
        // err is pre-declared to avoid shadowing client.
        var err error
        
        logger = log.New(os.Stdout, "[Timefox::Function::"+funcName+"]", log.LstdFlags)


        // client is initialized with context.Background() because it should
        // persist between function invocations.
        client, err = mypakcage.NewClient(context.Background(), envVar)
        if err != nil {
                logger.Fatalf("something: %v", err)
        }
}
</code></pre>

<p>The external package also has error codes for retry and no retry specific scenarios. These are important when you are
 writing background functions and don‚Äôt want certain scenarios to be retried even though the execution errored out.</p>

<pre><code>&amp;package.ErrorResponse{
    Error:   errors.New("400 - Bad Request"),
    Message: "You are not welcome here, my dear",
    Code:    http.StatusNoContent, // we don't retry the message with a 204
}
</code></pre>

<p>To run the function locally, I have created a command module with a main file. This is how it usually looks:</p>

<pre><code>
package main

import (
	"log"
	"net/http"
	"net/http/httputil"

	"github.com/gorilla/mux"

	"github.com/automaticalldramatic/server"

	function "github.com/automaticalldramatic/function-module"
)

func main() {

	options := server.DefaultOptions
	options.Address = ":8080"
	s := server.NewServer(options)

	r := mux.NewRouter()

	log.Printf("server started on: %s", options.Address)
	
	r.Use(VerifyHTTPRequest)

	r.HandleFunc("/function/method", function.FunctionName)
	s.Handler = r
	log.Fatal(s.ListenAndServe())
}
</code></pre>

<p>This helps me test locally and apply middlewares to check my auth tokens in case I want to.</p>

<h3 id="deploying">Deploying</h3>

<p>I use <code>.gcloudignore</code> to ignore the go.mod files, since am using the vendoring mode due to private packages. You
 could skip this if you like, but its generally considered good practice to have one of these.</p>

<pre><code># For more information, run:
#   $ gcloud topic gcloudignore
#
.gcloudignore
deploy.sh

.env.yaml

go.mod
go.sum
</code></pre>

<p>The <code>deploy.sh</code> could be replaced by any CI. The <code>.env.yaml</code> is added to <code>.gitignore</code> and <code>.gcloudignore</code> and is only
 for local deployments. When you use a CI setup, you would ideally add env variables and secrets to your CI.</p>

<p>However, this is what I run essentially to deploy the function from my local deploy file using the environment file:</p>

<pre><code>gcloud functions deploy FunctionName --entry-point FunctionName --trigger-http  --region europe-west1 --runtime go113
 --env-vars-file ./.env.yaml  --clear-labels --update-labels version=someVersion
</code></pre>

<p>I hope this helps you deploy your cloud function and maintain it. If you need further help, <a href="https://cloud.google.com/functions/docs/how-to">the documentation</a> is excellent and covers almost all the use cases.</p>

			</div></div>]]>
            </description>
            <link>https://rizwaniqbal.com/posts/how-i-structure-cloud-functions-in-go/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25476879</guid>
            <pubDate>Sat, 19 Dec 2020 11:58:32 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Branding My Own Startup]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25476816">thread link</a>) | @pascaljb
<br/>
December 19, 2020 | https://www.blogofpascal.com/post/branding-your-own-startup | <a href="https://web.archive.org/web/*/https://www.blogofpascal.com/post/branding-your-own-startup">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><h2>Designing For Others</h2><p>I‚Äôve spent a large part of my career working on or creating brands for other people. At the beginning of this year I co-founded a startup, <a href="https://akord.com/">Akord</a>, and had the unusual experience of being my own client, as it were. <strong>Creative freedom with no one telling you to make the logo bigger, this is every designer‚Äôs dream, right?</strong> Well, I won‚Äôt lie, it was pretty great.</p><p>Initially, though, I was almost dreading undertaking the work and considered outsourcing it. It felt like it would be too much pressure, that I would be too closely invested to be able to step back and make good decisions.</p><p>When you create a brand for another company, even though your name will be attached to that work and you strive for the best outcome, you won‚Äôt have to work with that brand day in and day out for potentially many years to come. In that sense, there‚Äôs a liberating distance from your work. <strong>When it‚Äôs a company you‚Äôve co-founded and now you‚Äôre designing the brand you‚Äôll have to work with on a daily basis, there‚Äôs suddenly a lot more pressure to get it right.</strong></p><p>I started to think of the ‚Äòclient‚Äô as our small team, which helped reframe the project. I work with three others and part of the unwritten brief to myself was to create a brand we could all be proud of and that captured our values. I also imagined working for future team members, knowing how powerful a strong brand is in attracting talented people to a company, and how it can give people a sense of pride to be part of that story.</p><p>I‚Äôve always felt that when I was consciously designing for others, telling myself things like, ‚ÄòI‚Äôm doing this to help this person achieve this goal‚Äô, as opposed to feeling, ‚ÄòI‚Äôm doing this to advance my career/portfolio/bank balance‚Äô, that the design process became a lot more enjoyable, freer easier because of it.</p><h2>Branding at a Startup</h2><p><strong>An early-stage startup can go through brands like a snake shedding skins.</strong> I don‚Äôt mean to suggest these startups are somehow devious or ‚Äòsnakey‚Äô by doing this, but like the snake shedding its skin it‚Äôs a naturally occurring event when something has served its purpose.</p><p>When branding is superficial it truly is like a skin ‚Äî an outer layer that doesn‚Äôt really have too much to do with the real inner workings, the heart of the operation. When branding is done right it be a visual representation of the product, values and mission, but also manifest itself through all the company‚Äôs interactions with employees, customers, partners and the outside world in general.</p><p><strong>The reality of a startup is that the first few years will inevitably be an unpredictable rollercoaster</strong>, where carefully considered business plans will be torn up, the product will pivot, and the ideal customer will change as the company is trying to figure out its product market fit. Even those startups who hire professional designers to work on the first version of their brand will find it hard to feel like they haven‚Äôt outgrown it within a few years.</p><p>With that in mind, <strong>I believe the most effective strategy for branding an early-stage startup is to focus on the core values and mission to create a strong set of foundational branding assets</strong>. These foundational assets I define as logo, colours, typography and graphics (or illustrations). Other elements, such as tone of voice, I believe are better developed later on when product market fit is closer or already achieved.</p><p><strong>These foundational assets should be broadly and simply defined, starting with a few simple rules to ensure a solid coherence runs through all work.</strong> This will allow for a certain amount of room for these assets to evolve, with the aim that the brand can adapt rather than be overhauled as the company goes through its growing pains.</p><h2>Our Values</h2><p><strong>Everything in a brand should stem from its values, because that‚Äôs where the vision, product and company itself ultimately all come from. </strong>The values are often the thing about a company everyone thinks they know, but when the question is posed you never get two answers that are the same. It isn‚Äôt necessarily that people aren‚Äôt aligned, but that there are so many different ways to describe something so subjective. People can also end up listing an endless amount of values, so it‚Äôs worth prioritising or distilling a company‚Äôs values down to a core set that really captures the soul.</p><p>At Akord we‚Äôve captured our values in the following three points.</p><ol role="list"><li><strong>Commitment &amp; Caring<br></strong>We‚Äôre committed to our mission, the fundamental right to privacy, and to building a company that adds real value to the world with an exemplary culture. We‚Äôre committed to operating as carbon negative and creating an equitable company, caring for our working environment as well as the world outside. We are a small committed team that cares about what we do.</li><li><strong>Quality &amp; Craft<br></strong>We aim to produce a quality product and constantly sweat the details. We adopt a learning attitude, continuously looking to improve. We believe in the power of new technologies and design ‚Äî the tools of our craft.</li><li><strong>Conviction &amp; Confidence<br></strong>We have strong beliefs. And while those beliefs mean sometimes doing things the hard way, it‚Äôs also where we derive our conviction, knowing that our mission and our product will add value to people‚Äôs lives. We want people to feel confident in owning their data. We want our customers to have confidence in us.</li></ol><h2>The Brand Concept: Lock &amp; Flow</h2><figure id="w-node-c547df1de2d0-4dfdad0d"><p><img src="https://uploads-ssl.webflow.com/5f8e9f559b45a94d5b272493/5fd89901a4a2f93ea6cd19b2_Logo%20Brand%20Layout-08.jpg" loading="lazy" alt="Examples of abstract shapes, squares or triangles, connecting together and wave shape going from solid to lines."></p><figcaption>The Lock &amp;&nbsp;Flow concept represented in the Akord graphics.</figcaption></figure><p>As well as the company values, the visual elements of the brand are also focused around a concept I named, Lock &amp; Flow. <strong>I like paradoxical ideas, and these two seemingly opposed forces, locking and flowing, nicely capture the core of what we are trying to achieve with Akord.</strong></p><p><strong>We want to secure data, keep that sensitive information safely locked down, and at the same time we believe that work, or processes in general, can only truly flow when you have confidence that you‚Äôre in a secure context. </strong>When you don‚Äôt trust your tools, you never feel at ease, second-guessing what‚Äôs right and using convoluted methods to try and make an effort to cover your bases.</p><p>The main graphics used throughout the marketing site and at points in the product are intended to capture the Lock &amp; Flow idea, as well as a modern feel overall that‚Äôs relevant to the technology we‚Äôre working with.</p><p>We use flowing organic shapes that can morph from solid gradient colour to fine lines, as a visual representation of dynamic flow. Occasionally overlaid and for separate use, we have crosses, squares and triangles that evoke a more machine like process of locking in (as well as tracking and mapping), which relates to our encryption and internal blockchain.</p><h2>The Logo</h2><figure id="w-node-bd55ef3cb007-4dfdad0d"><p><img src="https://uploads-ssl.webflow.com/5f8e9f559b45a94d5b272493/5fd89aee0ef398d3619ce091_branding-your-own-co-01.png" loading="lazy" alt="The Akord logo presented on black and white backgrounds."></p><figcaption>The Akord logo and breakout logo marks.</figcaption></figure><p>The padlock iconography has multiple meanings. As a standard representation of encryption, it‚Äôs a clear, easily easily understood and constant reminder that wherever you have Akord you have encryption, end to end. We also want you to feel secure and confident whenever you interact with our product or the company in general. <strong>That little padlock on a browser tab is your marker, telling you, ‚ÄòOK, here you‚Äôre safe‚Äô.</strong></p><p>The padlock has a small stylistic twist, mirroring the triangle from inside the capital ‚ÄòA‚Äô as the keyhole in the padlock. This upwards pointing mark is another reminder to keep pushing onwards and upwards with everything we do. When we use just the A and padlock together, it becomes like an asterisk or star, that brings to mind an A* grade ‚Äî symbolic of the standard we hold ourselves to.</p><p>The padlock is relatively small, a mark at the end of Akord, as a reference to the fact our encryption, while ever present, should never get in the way of the other product features.</p><h2>The Colours</h2><figure id="w-node-625ecdbf75c3-4dfdad0d"><p><img src="https://uploads-ssl.webflow.com/5f8e9f559b45a94d5b272493/5fd89a845ddb8016d262fb8e_Logo%20Brand%20Layout-03.jpg" loading="lazy" alt="The different colours used in the Akord brand presented with hex code values."></p><figcaption>The Akord brand colour palettes.</figcaption></figure><p><strong>Our brand leads with a dark-mode aesthetic, which lends itself to a contemporary feeling of security and a technologically-focused product.</strong> We offset that dark mode with a bright red-orange, or ‚Äòredange‚Äô, as our primary brand colour.</p><p>The secondary palette is a set of vibrant colours carefully chosen for a dual purpose. First, we assign different colours to members of a data room, and these colours are used for elements such as the speech bubbles used for when people post messages. Second, the colours capture the creativity and collaboration element of Akord, as well as enabling us to make the product more visually striking.</p><p>We also have 9 greys that range from almost black to almost white. Having a wide range of greys to draw on for product design is incredibly useful. They allow you to create subtle effects of depth and get contrast right when choosing borders and backgrounds, as well as providing another dimension to create type hierarchy. I never use opacity to create greys as you will encounter issues when elements are overlaid on colours other than white. I also like to give grey colours a slight tint of the brand colour, so they‚Äôre not pure monochrome, giving them a warmer more cohesive feel with the whole product.</p><h2>The Typography</h2><figure id="w-node-6c7438821387-4dfdad0d"><p><img src="https://uploads-ssl.webflow.com/5f8e9f559b45a94d5b272493/5fd897ffc89b537677d3c5de_Logo%20Brand%20Layout-04.jpg" loading="lazy" alt="Showing all the characters in the Larsseit and Everett font, as well as the different sizes of heading styles."></p><figcaption>Type hierarchy and specimen examples of Akord's typography.</figcaption></figure><p><strong>For the product and marketing website I set basic type hierarchies covering just what I need. </strong>I normally get some way into the designs before cycling back to set this hierarchy. This way I have a clear idea of what I need, then I create some framework for consistency. Setting type hierarchy before you have an idea of the needs are always seemed to me like an illusion of efficiency and an unnecessary hindrance to getting going.</p><p>I use Larsseit as the main typeface for the brand. It‚Äôs a sans-serif but it has enough quirks with the double-storey lowercase ‚Äòg‚Äô, ‚Äòa‚Äô and the compact ‚Äòs‚Äô, for example, to not have a completely cold and machine-like feel that many popular modern geometric sans-serifs have. I wanted Akord to feel current but personable at the same time.<br></p><p>Larsseit is supported with Everett Mono, a contemporary and versatile grotesque mono-spaced font. It‚Äôs only available to purchase by contacting the designer, which is nice to know that this element of the brand is not ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.blogofpascal.com/post/branding-your-own-startup">https://www.blogofpascal.com/post/branding-your-own-startup</a></em></p>]]>
            </description>
            <link>https://www.blogofpascal.com/post/branding-your-own-startup</link>
            <guid isPermaLink="false">hacker-news-small-sites-25476816</guid>
            <pubDate>Sat, 19 Dec 2020 11:44:11 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How Shopify Uses WebAssembly Outside of the Browser]]>
            </title>
            <description>
<![CDATA[
Score 239 | Comments 127 (<a href="https://news.ycombinator.com/item?id=25476605">thread link</a>) | @oedmarap
<br/>
December 19, 2020 | https://shopify.engineering/shopify-webassembly | <a href="https://web.archive.org/web/*/https://shopify.engineering/shopify-webassembly">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody">
  <p>At Shopify we aim to make what most merchants need easy, and the rest possible. We make the rest possible by exposing interfaces to query, extend and alter our Platform. These interfaces empower a rich ecosystem of Partners to solve a variety of problems. The primary mechanism of this ecosystem is an ‚ÄúApp‚Äù, an independently hosted web service which communicates with Shopify over the network. This model is powerful, but comes with a host of technical issues. Partners are stretched beyond their available resources as they have to build a web service that can operate at Shopify‚Äôs scale. Even if Partners‚Äô resources were unlimited, the network latency incurred when communicating with Shopify precludes the use of Apps for time sensitive use cases.</p>
<p>We want Partners to focus on using their domain knowledge to solve problems, and not on managing scalable web services. To make this a reality we‚Äôre keeping the flexibility of untrusted Partner code, but executing it on our own infrastructure. We choose a universal format for that code that ensures it‚Äôs performant, secure, and flexible: WebAssembly.</p>

<p>What is WebAssembly? According to <a href="https://webassembly.org/" target="_blank" title="WebAssembly" rel="nofollow noopener noreferrer">WebAssembly.org</a>:&nbsp;</p>
<p>‚ÄúWebAssembly (abbreviated Wasm) is a binary instruction format for a stack-based virtual machine. Wasm is designed as a portable compilation target for programming languages, enabling deployment on the web for client and server applications.‚Äù</p>
<p>To learn more, see this series of <a href="https://hacks.mozilla.org/2017/02/a-cartoon-intro-to-webassembly/" target="_blank" title="A cartoon intro to WebAssembly" rel="nofollow noopener noreferrer">illustrated articles written by Lin Clark of Mozilla</a> with information on WebAssembly and its history.</p>
<p>Wasm is often presented as a performant language that runs alongside JavaScript from within the Browser. We, however, execute Wasm outside of the browser and with no Javascript involved. Wasm, far from being solely a Javascript replacement, is designed for <a href="https://webassembly.org/docs/non-web/" target="_blank" title="Non-Web Embeddings - WebAssembly" rel="nofollow noopener noreferrer">Web and Non-Web Embeddings alike</a>. It solves the more general problem of performant execution in untrusted environments, which exists in browsers and code execution engines alike. Wasm satisfies our three main technical requirements: security, performance, and flexibility.</p>
<h2>Security</h2>
<p>Executing untrusted code is a dangerous thing‚Äîit's exceptionally difficult to predict by nature, and it has potential to cause harm to Shopify‚Äôs platform at large. While no application is entirely secure, we need to both prevent security flaws and mitigate their impacts when they occur.</p>
<p>Wasm executes within a sandboxed stack-based environment, relying upon explicit imports to allow communication with the host. Because of this, you cannot <strong>express</strong> anything malicious in Wasm. You can only express manipulations of the virtual environment and use provided imports. This differs from bytecodes which have references to the computers or operating systems they expect to run on built right into the syntax.</p>
<p>Wasm also hosts a number of features which protect the user from buggy code, including protected call stacks and runtime type checking. <a href="https://webassembly.org/docs/security/" target="_blank" title="Security - WebAssembly" rel="nofollow noopener noreferrer">More details on the security model of Wasm can be found on WebAssembly.org</a>.</p>
<h2>Performance</h2>
<p>In ecommerce, speed is a competitive advantage that merchants need to drive sales. If a feature we deliver to merchants doesn‚Äôt come with the right tradeoff of load times to customization value, then we may as well not deliver it at all.</p>
<p>Wasm is designed to leverage common hardware capabilities that provide it near native performance on a wide variety of platforms. It‚Äôs used by a community of performance driven developers looking to optimize browser execution. As a result, Wasm and surrounding tooling was built, and continues to be built, with a performance focus.</p>
<h2>Flexible</h2>
<p>A code execution service is only as useful as the developers using it are productive. This means providing first class development experiences in multiple languages they‚Äôre familiar with. As a bytecode format, Wasm is targeted by a number of different compilers. This allows us to support multiple languages for developer use without altering the underlying execution model.</p>
<h2>Community Driven</h2>
<p>We have a fundamental alignment in goals and design, which provides our ‚Äúengineering reason‚Äù for using Wasm. But there‚Äôs more to it than that‚Äîit‚Äôs about the people as well as the technology. If nobody was working on the Wasm ecosystem, or even if it was just on life support in its current state, <strong>we wouldn‚Äôt use it</strong>. WebAssembly is an energized community that‚Äôs constantly building new things and has a lot of potential left to reach. By becoming a part of that community, Shopify stands to gain significantly from that enthusiasm.</p>
<p>We‚Äôre also contributing to that enthusiasm ourselves. We‚Äôre collecting user feedback, discussing feature gaps, and most importantly contributing to the open source tools we depend on. We think this is the start of a healthy reciprocal relationship between ourselves and the WebAssembly community, and we expect to expand these efforts in the future.</p>

<p>Now that we‚Äôve covered WebAssembly and why we‚Äôre using it, let‚Äôs move onto how we‚Äôre executing it.</p>
<p>We use an open source tool called <a href="https://www.fastly.com/blog/announcing-lucet-fastly-native-webassembly-compiler-runtime" target="_blank" title="Announcing Lucet: Fastly‚Äôs native WebAssembly compiler and runtime" rel="nofollow noopener noreferrer">Lucet</a> (originally written by Fastly). As a company, Fastly provides a programmable edge cloud platform. They‚Äôre trying to bring execution of high-volume, short-lived, and untrusted modules closer to where they‚Äôre being requested. This is the same as the problem we‚Äôre trying to solve with our Partner code, so it‚Äôs a natural fit to be using the same tools.</p>
<h3>Lucet</h3>
<p>Lucet is both a runtime and a compiler for Wasm. Modules are represented in Wasm for the safety that representation provides. Recall that you can‚Äôt <em>express</em> anything malicious in Wasm. Lucet takes advantage of this and uses a validation of the Wasm module as a security check. After the validation, the module is compiled to an executable artifact with near bare metal performance. It also supports ahead of time compilation, allowing us to have these artifacts ready to execute at runtime. Lucet containers boast an impressive startup time of <em>35&nbsp;</em><em><span>Œºs</span></em>. That‚Äôs because it‚Äôs a container that doesn‚Äôt need to do anything at all to start up.&nbsp; If you want the full picture, Tyler McMullan, the CTO of Fastly, did a great talk which <a href="https://www.youtube.com/watch?v=QdWaQOgvd-g" target="_blank" title="Lucet: Safe WebAssembly Outside the Browser by Tyler McMullen" rel="nofollow noopener noreferrer">gives an overview of Lucet and how it works</a>.</p>
<figure><img alt="A flow diagram showing how Shopify uses our Wasm engine: Lucet wrapped within a Rust web service which manages the I/O and storage of modules" data-src="https://cdn.shopify.com/s/files/1/0779/4361/files/flow-diagram-shopify-wasm-engine.jpg?v=1608224390" src="https://cdn.shopify.com/s/files/1/0779/4361/files/flow-diagram-shopify-wasm-engine.jpg?v=1608224390">
<figcaption>A flow diagram showing Shopify's Wasm engine</figcaption>
</figure>
<p>We wrap Lucet within a Rust web service which manages the I/O and storage of modules, which we call the Wasm Engine. This engine is called by Shopify during a runtime process, usually a web request, in order to satisfy some function. It then applies the output in context of the callsite. This application could involve the creation of a discount, the enforcement of a constraint, or any form of synchronous behaviour Merchants want to customize within the Platform.</p>
<h3>Execution Performance</h3>
<p>Here‚Äôs some metrics pulled from a recent performance test. During this test, 100k modules were executed per minute for approximately 5 min. These modules contained a trivial implementation of enforcing a limit on the number of items purchased in a cart.&nbsp;</p>
<figure><img alt="A line graph showcasing the time taken to execute a module. The x axis representing the time over the test was running and the y axis is the time represented in ms" data-src="https://cdn.shopify.com/s/files/1/0779/4361/files/Lucet-module-execution.jpg?v=1608225321" src="https://cdn.shopify.com/s/files/1/0779/4361/files/Lucet-module-execution.jpg?v=1608225321">
<figcaption>Time taken to execute a module</figcaption>
</figure>
<p>This chart demonstrates a breakdown of the time taken to execute a module, including I/O with the container and the execution of the module. The y-axis is time in ms, the x-axis is the time over which the test was running.</p>
<p>The light purple bar shows the time taken to execute the module in Lucet, the width of which hovers around 100 Œºs. The remaining bars deal with I/O and engine specifics, and the total time of execution is around 4 ms. All times are 99th percentiles (p99).To put these times in perspective, let‚Äôs compare these times to the request times of <a href="https://shopify.engineering/how-shopify-reduced-storefront-response-times-rewrite" target="_blank" title="How Shopify Reduced Storefront Response Times with a Rewrite" rel="nofollow noopener noreferrer">Storefront Renderer, our performant Online Store rendering service</a>:</p>
<figure><img alt="A line graph showing Storefront Renderer Response time" data-src="https://cdn.shopify.com/s/files/1/0779/4361/files/Storefront-Renderer-Response-Times.jpg?v=1608300459" src="https://cdn.shopify.com/s/files/1/0779/4361/files/Storefront-Renderer-Response-Times.jpg?v=1608300459">
<figcaption>Storefront Renderer response time</figcaption>
</figure>
<p>This chart demonstrates the request time to Storefront Renderer over time. The y-axis is request time in seconds. The x-axis is the time over which the values were retrieved. The light blue line representing the 99th percentile hovers around 700 ms.</p>
<p>Then if we consider the time taken by our module execution process to be generally under 5 ms, we can say that the performance impact of Lucet execution is negligible.</p>
<h2>Generating WebAssembly</h2>
<p>To get value out of our high performance execution engine, we‚Äôll need to empower developers to create compatible Wasm modules. Wasm is primarily intended as a compilation target, rather than something you write by hand (<a href="https://blog.scottlogic.com/2018/04/26/webassembly-by-hand.html" target="_blank" title="Writing WebAssembly By Hand" rel="nofollow noopener noreferrer">though you can write Wasm by hand</a>). This leaves us with the question of what languages we‚Äôll support and to what extent.</p>
<p>Theoretically any language with a Wasm target can be supported, but the effort developers spend to conform to our API is better focused on solving problems for merchants. That‚Äôs why we‚Äôve chosen to provide first class support to a single language that includes tools that get developers up and running quickly.At Shopify, our language of choice is Ruby. However, because Ruby is a dynamic language, we can‚Äôt compile it down to Wasm directly. We explored solutions involving compiling interpreters, but found that there was a steep performance penalty. Because of this, we decided to go with a statically compiled language and revisit the possibility of dynamic languages in the future.</p>
<p>Through our research we found that developers in our ecosystem were most familiar with Javascript. Unfortunately, Javascript was precluded as it‚Äôs a dynamic language like Ruby. Instead, we chose a language with familiar TypeScript-like syntax called <a href="https://www.assemblyscript.org/" target="_blank" title="AssemblyScript" rel="nofollow noopener noreferrer">AssemblyScript</a>.</p>
<h2>Using AssemblyScript</h2>
<p>At first glance, there are a huge number of languages that support a WebAssembly target. Unfortunately, there are two broad categories of WebAssembly compilers which we can‚Äôt use:</p>
<ul>
<li>Compilers that generate environment or language specific artifacts, namely node or the browser. (Examples: <a href="https://github.com/tweag/asterius" target="_blank" title="Asterius: A Haskell to WebAssembly compiler" rel="nofollow noopener noreferrer">Asterius</a>, <a href="https://dotnet.microsoft.com/apps/aspnet/web-apps/blazor" target="_blank" title="Blazor Build client web apps with C#" rel="nofollow noopener noreferrer">Blazor</a>)</li>
<li>Compilers that are designed to work only with a particular Runtime. The modules generated by these compilers rely upon special language specific imports. This is often done to support a language‚Äôs standard library, which expects certain system calls or runtime features to be available. Since we don‚Äôt want to be ‚Ä¶</li></ul></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://shopify.engineering/shopify-webassembly">https://shopify.engineering/shopify-webassembly</a></em></p>]]>
            </description>
            <link>https://shopify.engineering/shopify-webassembly</link>
            <guid isPermaLink="false">hacker-news-small-sites-25476605</guid>
            <pubDate>Sat, 19 Dec 2020 10:54:32 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Solving Algorithmic Problems in Python with Pytest (2019)]]>
            </title>
            <description>
<![CDATA[
Score 77 | Comments 42 (<a href="https://news.ycombinator.com/item?id=25476503">thread link</a>) | @BerislavLopac
<br/>
December 19, 2020 | https://adamj.eu/tech/2019/04/21/solving-algorithmic-problems-in-python-with-pytest/ | <a href="https://web.archive.org/web/*/https://adamj.eu/tech/2019/04/21/solving-algorithmic-problems-in-python-with-pytest/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
  

  <span>2019-04-21</span>

  

  <img src="https://adamj.eu/tech/assets/2019-04-21-flute.jpg" alt="Pytest Flute" title="Pytest Flute">

  <p>I occasionally enjoy solving algorithmic problems, for example <a href="https://projecteuler.net/">Project Euler</a> or <a href="https://adventofcode.com/">The Advent of Code</a>.
I‚Äôve been doing them since I was a pimply PHP-slinging teenager, competing with my peers across the UK in the British Informatics Olympiad.
It was terribly nerdy and terribly fun.</p>

<p>Algorithmic problems are often used in technical interviews, which I find less fun.
Strict deadlines stress me out.</p>

<p>In either case, using automated tests makes these problems way easier.
I wish I knew this earlier!</p>

<p>Online algorithmic platforms, such as <a href="https://codility.com/">Codility</a>, provide their own automated tests.
You use these for basic validation on some examples, but edge cases are sneakily reserved for final marking.
To ensure your solution covers all the bases, you need to write your own tests.</p>

<p>In Python, there‚Äôs no better test framework than <a href="https://pytest.org/">Pytest</a> - I use it on all my open source projects.
It makes it easy for you to add tests for any Python code.
And it‚Äôs much better than Python‚Äôs built-in <a href="https://docs.python.org/3/library/unittest.html"><code>unittest</code></a>.</p>

<p><code>unittest</code> is an old horse and cart, while <code>pytest</code> is the batmobile.</p>

<p><img src="https://adamj.eu/tech/assets/2019-04-21-pytest.png" alt="Pytest homepage"></p>

<h2 id="an-example">An Example</h2>

<p>Let‚Äôs look at a small problem together using Pytest.
Here‚Äôs the problem statement:</p>

<blockquote>
  <p>Write a function <code>solve(items)</code> that takes <code>items</code>, a list of integers, and returns the smallest integer greater than 0 that appears in the list, or 0 if there is none.</p>

  <p>For example <code>solution([1, 2])</code> should return 1, and <code>solution([-1])</code> should return 0.</p>

  <p>The list <code>items</code> will contain up to 1,000,000 integers.</p>
</blockquote>

<p>First, let‚Äôs write the most basic sketch of a <code>solve</code> function.
Since 0 is a default value to return, if we always return that we can score some easy points.
Create a file called <code>example.py</code> with the contents:</p>

<figure><pre><code data-lang="python"><span>def</span> <span>solve</span><span>(</span><span>items</span><span>):</span>
    <span>return</span> <span>0</span></code></pre></figure>

<p>Let‚Äôs test the function manually by running it in the Python 3 interpreter. Open the command line and run the examples:</p>

<figure><pre><code data-lang="text">$ python
Python 3.7.3 (default, Apr 14 2019, 21:08:36)
[Clang 10.0.1 (clang-1001.0.46.3)] on darwin
Type "help", "copyright", "credits" or "license" for more information.
&gt;&gt;&gt; from example import solve
&gt;&gt;&gt; solve([1, 2])
0
&gt;&gt;&gt; solve([-1])
0</code></pre></figure>

<p>So we failed on the first example, but succeeded with the second.</p>

<p>Doing this each time we modify the code would get tiresome quickly.
We have to restart the interpreter, rerun the import and tests, and manually compare the outputs.
Writing automated tests now, before we‚Äôve tried to solve the problem properly, makes the whole loop faster.
It also makes us think about all the cases up front.</p>

<p>Let‚Äôs write the tests and solve the problem with the <strong>Red, Green, Refactor</strong> pattern.</p>

<h3 id="red">Red</h3>

<p>First, let‚Äôs add tests that fail.</p>

<p>Pytest can work with tests in the same file as our code, as simple functions with names starting <code>test_</code>.
We use Python‚Äôs <code>assert</code> statement to compare the results of our code with our expectations.</p>

<p>Add tests for the two examples:</p>

<figure><pre><code data-lang="python"><span>def</span> <span>solve</span><span>(</span><span>items</span><span>):</span>
    <span>return</span> <span>0</span>


<span>def</span> <span>test_example_1</span><span>():</span>
    <span>assert</span> <span>solve</span><span>([</span><span>1</span><span>,</span> <span>2</span><span>])</span> <span>==</span> <span>1</span>


<span>def</span> <span>test_example_2</span><span>():</span>
    <span>assert</span> <span>solve</span><span>([</span><span>-</span><span>1</span><span>])</span> <span>==</span> <span>0</span></code></pre></figure>

<p>Then install Pytest and run the tests:</p>

<figure><pre><code data-lang="text">$ python -m pip install pytest
Collecting pytest
  Downloading
...
Successfully installed atomicwrites-1.3.0 attrs-19.1.0 more-itertools-7.0.0 pluggy-0.9.0 py-1.8.0 pytest-4.4.1 six-1.12.0
$ pytest example.py
============================= test session starts ==============================
platform darwin -- Python 3.7.3, pytest-4.4.1, py-1.8.0, pluggy-0.chainz.0
rootdir: /Users/chainz/tmp/pytest_algos
collected 2 items

example.py F.                                                            [100%]

=================================== FAILURES ===================================
________________________________ test_example_1 ________________________________

    def test_example_1():
&gt;       assert solve([1, 2]) == 1
E       assert 0 == 1
E        +  where 0 = solve([1, 2])

example.py:5: AssertionError
====================== 1 failed, 1 passed in 0.03 seconds ======================</code></pre></figure>

<p>In the middle of the output, we see the tests in <code>example.py</code> running.
Pytest outputs an <code>F</code> for the failing test, and a dot <code>.</code> for the passing one.</p>

<p>The <code>FAILURES</code> section expands on the failure with the line that failed.
It then shows that <code>solve([1, 2])</code> returned <code>0</code> which doesn‚Äôt compare equal to the expected value <code>1</code>.</p>

<p>The tests we have are a start but they don‚Äôt cover all the cases.
We don‚Äôt have any lists that contain <code>0</code>.
Also two extremes are missing: the empty list and a list of 1,000,000 items.
Long lists could also contain lots of negative or positive integers, so we should try both of these.</p>

<p>Let‚Äôs add more tests.
We can make a list of 1,000,000 items in Python by multiplying a short list.
Add these tests at the end of the file:</p>

<figure><pre><code data-lang="python"><span>def</span> <span>test_empty_list</span><span>():</span>
    <span>assert</span> <span>solve</span><span>([])</span> <span>==</span> <span>0</span>


<span>def</span> <span>test_list_with_zero</span><span>():</span>
    <span>assert</span> <span>solve</span><span>([</span><span>0</span><span>,</span> <span>2</span><span>])</span> <span>==</span> <span>2</span>


<span>def</span> <span>test_long_positive_list</span><span>():</span>
    <span>assert</span> <span>solve</span><span>([</span><span>1</span><span>,</span> <span>2</span><span>,</span> <span>3</span><span>,</span> <span>4</span><span>]</span> <span>*</span> <span>250_000</span><span>)</span> <span>==</span> <span>1</span>


<span>def</span> <span>test_long_negative_list</span><span>():</span>
    <span>assert</span> <span>solve</span><span>([</span><span>-</span><span>1</span><span>,</span> <span>-</span><span>2</span><span>,</span> <span>-</span><span>3</span><span>,</span> <span>-</span><span>4</span><span>]</span> <span>*</span> <span>250_000</span><span>)</span> <span>==</span> <span>0</span></code></pre></figure>

<p>Run them again:</p>

<figure><pre><code data-lang="text">============================= test session starts ==============================
platform darwin -- Python 3.7.3, pytest-4.4.1, py-1.8.0, pluggy-0.9.0
rootdir: /Users/chainz/tmp/pytest_algos
collected 6 items

example.py F..FF.                                                        [100%]

=================================== FAILURES ===================================
________________________________ test_example_1 ________________________________

    def test_example_1():
&gt;       assert solve([1, 2]) == 1
E       assert 0 == 1
E        +  where 0 = solve([1, 2])

example.py:6: AssertionError
_____________________________ test_list_with_zero ______________________________

    def test_list_with_zero():
&gt;       assert solve([0, 2]) == 2
E       assert 0 == 2
E        +  where 0 = solve([0, 2])

example.py:18: AssertionError
___________________________ test_long_positive_list ____________________________

    def test_long_positive_list():
&gt;       assert solve([1, 2, 3, 4] * 250_000) == 1
E       assert 0 == 1
E        +  where 0 = solve(([1, 2, 3, 4] * 250000))

example.py:22: AssertionError
====================== 3 failed, 3 passed in 0.08 seconds ======================</code></pre></figure>

<p>There are more failures - which is good!</p>

<h3 id="green">Green</h3>

<p>Now we can work to a solution that makes all the tests pass.
Replace <code>solve</code> with this first attempt:</p>

<figure><pre><code data-lang="python"><span>def</span> <span>solve</span><span>(</span><span>items</span><span>):</span>
    <span>minimum</span> <span>=</span> <span>0</span>
    <span>for</span> <span>i</span> <span>in</span> <span>items</span><span>:</span>
        <span>if</span> <span>minimum</span> <span>==</span> <span>0</span> <span>or</span> <span>i</span> <span>&lt;</span> <span>minimum</span><span>:</span>
            <span>minimum</span> <span>=</span> <span>i</span>
    <span>return</span> <span>minimum</span></code></pre></figure>

<p>Re-run the tests:</p>

<figure><pre><code data-lang="text">============================= test session starts ==============================
platform darwin -- Python 3.7.3, pytest-4.4.1, py-1.8.0, pluggy-0.9.0
rootdir: /Users/chainz/tmp/pytest_algos
collected 6 items

example.py .F...F                                                        [100%]

=================================== FAILURES ===================================
________________________________ test_example_2 ________________________________

    def test_example_2():
&gt;       assert solve([-1]) == 0
E       assert -1 == 0
E        +  where -1 = solve([-1])

example.py:14: AssertionError
___________________________ test_long_negative_list ____________________________

    def test_long_negative_list():
&gt;       assert solve([-1, -2, -3, -4] * 250_000) == 0
E       assert -4 == 0
E        +  where -4 = solve(([-1, -2, -3, -4] * 250000))

example.py:30: AssertionError
====================== 2 failed, 4 passed in 0.17 seconds ======================</code></pre></figure>

<p>We have two different failures now.
It seems we have yet to ignore negative numbers, woops!</p>

<p>Modify the solution to do so, by adding the <code>i &gt; 0</code> condition:</p>

<figure><pre><code data-lang="python"><span>def</span> <span>solve</span><span>(</span><span>items</span><span>):</span>
    <span>minimum</span> <span>=</span> <span>0</span>
    <span>for</span> <span>i</span> <span>in</span> <span>items</span><span>:</span>
        <span>if</span> <span>i</span> <span>&gt;</span> <span>0</span> <span>and</span> <span>(</span><span>minimum</span> <span>==</span> <span>0</span> <span>or</span> <span>i</span> <span>&lt;</span> <span>minimum</span><span>):</span>
            <span>minimum</span> <span>=</span> <span>i</span>
    <span>return</span> <span>minimum</span></code></pre></figure>

<p>Now re-run the tests:</p>

<figure><pre><code data-lang="collected">def solve(items):
    return min((i for i in items if i &gt; 0), default=0)</code></pre></figure>

<p>Re-running the tests produces the same, all-passing output as above.
Yay, we got the code down to one line!</p>

<h2 id="fin">Fin</h2>

<p>I hope this tutorial has been useful, and you use this technique to level up your algorithmic game,</p>

<p>‚ÄîAdam</p>

<p>Thanks to <a href="https://www.linkedin.com/in/mafaldammarques/">Mafalda Marques</a> for testing this tutorial.</p>


  
  <hr>

  <p>
    <strong>Working on a Django project?</strong>
    Check out my book <a href="https://gumroad.com/l/suydt">Speed Up Your Django Tests</a> which covers loads of best practices so you can write faster, more accurate tests.
  </p>

  

  

  <hr>

  
<p><small>One summary email a week, no spam, I pinky promise.</small></p>


  
    <p>
      <strong>Related posts:</strong>
    </p>
    <ul>
    
      
      
      <li><a href="https://adamj.eu/tech/2019/10/03/my-most-used-pytest-commandline-flags/">My Most Used Pytest Commandline Flags</a></li>
      
    
      
      
      <li><a href="https://adamj.eu/tech/2019/07/05/tuples-versus-lists-in-python/">Tuples versus Lists in Python</a></li>
      
    
    </ul>
  

  <p>
  <strong>Tags:</strong>
  
    <a href="https://adamj.eu/tech/tag/pytest/">pytest</a>, 
  
    <a href="https://adamj.eu/tech/tag/python/">python</a>
  
  </p>

  <p>¬© 2020 All rights reserved.</p>



  

</article></div>]]>
            </description>
            <link>https://adamj.eu/tech/2019/04/21/solving-algorithmic-problems-in-python-with-pytest/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25476503</guid>
            <pubDate>Sat, 19 Dec 2020 10:23:44 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why segmentation in marketing isn‚Äôt always the answer]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25476344">thread link</a>) | @iamacyborg
<br/>
December 19, 2020 | https://www.jacquescorbytuech.com/writing/why-segmentation-isnt-always-the-answer | <a href="https://web.archive.org/web/*/https://www.jacquescorbytuech.com/writing/why-segmentation-isnt-always-the-answer">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section id="content">
<article>
<header>

</header>
<p><small><time datetime="2020-05-09T22:57:00+01:00">
      Sat 09 May 2020
    </time></small>
</p>
<div>
<p><em>I originally wrote this in 2017 on another site I ran, before I let it die. Oops. I was recently able to recover this article so I'm posting it again for posterity's sake.</em></p>
<p>I noticed something strange recently, Marketing Land, the well-known sister-site to SEO Land by Third Door Media started cutting down on the number of segmented and specialised newsletters they send.</p>
<p>Over the years, there‚Äôve been a lot of articles written on the need to segment your audiences for your email marketing campaigns, and for the most part, those articles are true.</p>
<p>At its most basic level, list segmentation allows you to send the right content to the right person, ensuring they stay engaged and interested with your brand. This helps boost your key email engagement metrics (opens, clicks, conversions) alongside harder to measure metrics like your deliverability, and even the recipients brand experience.</p>
<p>Unfortunately, there are some enormous potential downsides that don‚Äôt get discussed often enough.</p>
<p>Segmentation takes time, and inevitably that costs money. Not only do you need to request specific data extracts from your database (or your BI team), manipulate your data, work with multiple lists, etc, but you need the time to build out all the different variants and permutations of your email. If you need to A/B test, suddenly your audiences might become too small to give you statistically significant results, particularly if, and you should be doing this, you test for conversions.</p>
<p>Now I know what you‚Äôre thinking, your ESP probably handles a lot of that hard work for you, particularly when it comes to generating the user lists you need, but increased sophistication tends to come with added costs and added staff, which can further impact those costs. Another downside to increased segmentation is that we no longer allow our audience to evolve in their interests. We‚Äôve all heard about the social media ‚Äúecho chamber‚Äù, with feeds being tailored by AI algorithms to deliver things we‚Äôve expressed an interest in, but ultimately that just means that our audiences stagnate. They never have the opportunity to discover new concepts or products, they don‚Äôt have the opportunity to grow.</p>
<p>Are you measuring the associated monetary costs of segmentation (both long and short term) against the perceived benefits? Do you know what the impact on your total macro conversion volumes are by running a segmented campaign? Are you really making use of all those bells and whistles your ESP salespeople told you you absolutely had to have? I‚Äôm willing to bet that the answer to those questions is a resounding no.</p>
<p>Ultimately, as marketers we often find ourselves taking the path of least resistance and relying on established conventions to make our decisions for us. If the industry thought leaders are telling us to do something, it must be true!</p>
<p>We should all take a moment to think about what value we‚Äôre really creating for the business and for the people we‚Äôre sending emails to. Maybe a simple mass email is just what you need.</p>
<p>Cheers,</p>
<p><img src="https://www.jacquescorbytuech.com/images/jacques.png">
</p></div>
<div>
<h4>Subscribe for updates</h4>

<p>Updates, whenever I've got something valuable to say.</p>
</div>
</article>
</section></div>]]>
            </description>
            <link>https://www.jacquescorbytuech.com/writing/why-segmentation-isnt-always-the-answer</link>
            <guid isPermaLink="false">hacker-news-small-sites-25476344</guid>
            <pubDate>Sat, 19 Dec 2020 09:39:55 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Lost my job due to Covid-19 but managed to lose 49.9 lbs (19.5 kg) because of it]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25476260">thread link</a>) | @Flamingo10
<br/>
December 19, 2020 | https://www.thebeforeafter.com/how-i-lost-49-9-lbs-during-covid-19/ | <a href="https://web.archive.org/web/*/https://www.thebeforeafter.com/how-i-lost-49-9-lbs-during-covid-19/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-main">
    <div>

        <article>

            

            <figure>
                <img srcset="https://www.thebeforeafter.com/content/images/size/w300/2020/12/imgonline-com-ua-resize-5Pb49QjX8A.jpg 300w,
                            https://www.thebeforeafter.com/content/images/size/w600/2020/12/imgonline-com-ua-resize-5Pb49QjX8A.jpg 600w,
                            https://www.thebeforeafter.com/content/images/size/w1000/2020/12/imgonline-com-ua-resize-5Pb49QjX8A.jpg 1000w,
                            https://www.thebeforeafter.com/content/images/size/w2000/2020/12/imgonline-com-ua-resize-5Pb49QjX8A.jpg 2000w" sizes="(max-width: 800px) 400px,
                        (max-width: 1170px) 1170px,
                            2000px" src="https://www.thebeforeafter.com/content/images/size/w2000/2020/12/imgonline-com-ua-resize-5Pb49QjX8A.jpg" alt="How I lost 49.9 lbs (19.5 kg) during covid-19">
            </figure>

            <section>
                <div>
                    <figure><img src="https://www.thebeforeafter.com/content/images/2020/12/129425398_235311648145648_5047540528657889601_n-2.jpg" alt="" srcset="https://www.thebeforeafter.com/content/images/size/w600/2020/12/129425398_235311648145648_5047540528657889601_n-2.jpg 600w, https://www.thebeforeafter.com/content/images/2020/12/129425398_235311648145648_5047540528657889601_n-2.jpg 750w" sizes="(min-width: 720px) 720px"></figure><blockquote>QUICK STATS<br>NAME: Anja<br>AGE: 27<br>HEIGHT: 162 cm (5'31)<br>BEFORE WEIGHT: 90,5 kg (199.5 lbs)<br>AFTER WEIGHT: 71,0 kg (156.5 lbs)</blockquote><hr><h3 id="hi-who-are-you-and-what-do-you-do-for-a-living">Hi! Who are you and what do you do for a living?</h3><p>Hi my name is Anja I'm 27 years old and I'm a female Dockworker/ longshore women from Denmark üòÅ sadly at the moment I'm out of work due to the Covid-19.</p><h3 id="what-s-your-backstory-and-why-did-you-start-living-a-healthy-lifestyle">What's your backstory and why did you start living a healthy lifestyle?<br></h3><p>I grew up in a relatively normal family, with a big love/ fondness for food. As a teen, I often ate my feelings away, when I was bored or just generally snacking in front of the TV very late in the evening and ate way too big portions of food.</p><p>The reason why I started my weight loss journey was that I no longer felt happy for the reflection in the mirror and overall the way I looked. My weight started to have a negative effect on my life and my physique, I was tired of hating myself and my body and wanted to be able to love myself. I remembered I got tagged in a video on Instagram and I was surprised to see myself and I thought to myself " is that really how I look, is that the way people see me" and it made me sad.</p><p>Due to covid-19 I got fired from my job and at that time I thought to myself now is my chance to change the way I see myself and the way I look, so I contacted a personal trainer one of my friends had recommended and I started my Weight Loss Journey.<br></p><h3 id="how-was-it-in-the-beginning-and-what-were-the-biggest-obstacles-you-overcame">How was it in the beginning and what were the biggest obstacles you overcame?</h3><p>The first 2 weeks was the hardest, I had to get used to not eating as much as I used to and focusing on getting the right nutritions protein, and veggies, it's hard to break old habits and make new ones but as soon as I got over the two weeks mark, then for me, it started to feel natural and it was easier to incorporate in my daily life/ routine</p><h3 id="what-were-your-worst-mistakes">What were your worst mistakes?</h3><p>My worst mistake was thinking that I didn't do enough, that I didn't eat healthy enough, and that I didn't exercise enough at the beginning of my weight-loss journey. I pushed myself really hard and didn't get fast enough results in my opinion! because of that mentality and because of those thoughts I almost didn't go through with my weight-loss program, I lost my motivation real quick and quickly found out I had to change my mentality to be able to keep moving forward.</p><p>The biggest milestone for me was when my clothing started to feel loose around my body and when I could see the physical change. A good motivation boost was also when I could do more with the weights at my gym and when I could perform more and I didn't get out of breath within 5-minutes. It is often small things that motivate me the most, for example being able to squat a bit more than last time or being able to run a bit longer.</p><figure><img src="https://www.thebeforeafter.com/content/images/2020/12/128943700_380469219841060_1484058874700952254_n.jpg" alt=""></figure><h3 id="what-area-of-life-has-changed-after-becoming-more-healthy">What area of life has changed after becoming more healthy?</h3><p>Because I'm being more active and healthy I feel like I have gotten more opportunities in life. I am no longer bound by my physique and I'm happier for my body, I like where I am and it has an effect on the people surrounding me. They can feel that I have gotten a lot more energy and it makes them happy on my behalf.<br></p><h3 id="what-is-your-weekly-training-protocol-how-many-days-per-week-do-you-train-how-are-your-workouts-structured">What is your weekly training protocol? How many days per week do you train, how are your workouts structured?</h3><p>I work with a personal trainer 2 times a week, one day with strength training and one day with cardio training, and an everyday goal of 10.000 steps sometimes I workout more depending on my motivation and the time I have available. (by myself)</p><h3 id="what-is-your-nutrition-and-diet-approach-do-you-follow-a-specific-meal-plan-or-eating-structure">What is your nutrition and diet approach? Do you follow a specific meal plan or eating structure?</h3><p>I do follow a semi-strict meal plan, I eat 1300 calories a day, 6 small meals spread out throughout the day. I drink a lot of water before my meal and in between my meals. I'm focusing mainly on eating proteins and veggies and trying to cut down on carbs, fat, and sugar and I have a strict no food past 21.30 rule.</p><h3 id="do-you-supplement-your-nutrition-with-any-sports-supplements-if-so-can-you-tell-us-which-supplements-you-use">Do you supplement your nutrition with any sports supplements? If so can you tell us which supplements you use?</h3><p>I eat a lot of vitamin supplements, minerals, herbs, and <a href="https://amzn.to/3ahrIEg">fish oil</a> and occasionally I drink protein shakes and eat protein bars. The brands I'm using at the moment are Bodylab, Star nutrition, and <a href="https://amzn.to/2Wn3xw7">Barebells</a>.</p><h3 id="what-are-your-favorite-cheat-meals-and-foods">What are your favorite cheat meals and foods?</h3><p>With the "diet" I have now you don't have a cheat meal or cheat day, it's not a diet but more a lifestyle change, I'm allowed to go out and eat at a restaurant with my friends and family, I can still live life, eat burgers and pizza in moderating portions! everything in moderation.<br>What are your future goals, dreams, and plans?</p><h3 id="what-have-been-the-most-influential-books-podcasts-or-other-resources">What have been the most influential books, podcasts, or other resources?</h3><p>The thing that has had the most influence on me has been having the support of my friends and family but also the network I have gotten to know through my workout/ personal trainer. Having people who have or is in the middle of a weight-loss journey is gold üëå being able to talk to them and have someone to share your concerns and thought process with has really helped me.<br></p><h3 id="what-advice-do-you-have-for-someone-who-wants-to-start-living-healthy-today">What advice do you have for someone who wants to start living healthy today?</h3><p>The first step is of course to decide for yourself that this is something you're willing to do even if it gets hard, there isn‚Äôt a magic pill that makes you lose 10 kilos in 3 weeks, it is only through hard work, dedication, and a healthy meal plan that you can change the body you have spent years on eating to get.</p><p>Seek out help and information on how to get started and how to make a meal plan specifically for your body type. There's a lot of knowledge about the body that you don't learn in school but have to learn from others, whenever it might be through a personal trainer via friends or online</p><p>(do however be critical of the information you get, if it seems to good to be true it probably is)</p><p>Workout at least 2 times a week for one intensive hour. Don't be afraid to ask people at the Gym for help or tips and tricks, it might be scary to ask people, but they are there for a recent and most often they're in the same boat as you or has been there.</p><p>set a goal for 8000-10000 steps a day or more of course depending on your size.</p><p>Don't fixate on the scale and the number that is shown is a bad thing for your mental health and motivation.<br>Don't weigh yourself more than 2 times a week, your weight is going to bounce up and down depending on what you have been eaten the day before, when you stopped eating in the evening if you're bloated from menstruation, the time of the day, etc.</p><p>Find a measuring tape and start measuring your body. Measure the first week and then every 5 weeks so you can see a physical change.</p><p>And last but not least don't compare yourself to others, your body is your body and their body is their body there are not the same. Take your time this is not a quick fix, you have been eating for years to get the body that you have now and it's not going to disappear in 3-weeks.</p><p>Don't be too hard on yourself it is ok too to eat unhealthy from time to time we all have to live life and you do not know if you're going to die tomorrow just remember everything in moderation.</p><p>Find a friend or someone you can work out with or have someone you can talk to about this journey of yours, it's important to be able to talk when you're feeling down or when things are not going the way you want it to, is completely normal and you will get over it.<br></p><h3 id="if-someone-wants-to-connect-with-you-where-can-you-be-found">If someone wants to connect with you, where can you be found?</h3><p>They can find on my <a href="https://www.instagram.com/anjasilja/">Instagram</a> üòäüëç<a href="https://www.instagram.com/anjasilja/">@anjasilja</a></p>
                </div>
            </section>

                <section>
    <h3>Subscribe to The Before After</h3>
    <p>Get the latest posts delivered right to your inbox</p>
    <form data-members-form="subscribe">
        
        <p><strong>Great!</strong> Check your inbox and click the link to confirm your subscription.
        </p>
        <p>
            Please enter a valid email address!
        </p>
    </form>
</section>

        </article>

    </div>
</div></div>]]>
            </description>
            <link>https://www.thebeforeafter.com/how-i-lost-49-9-lbs-during-covid-19/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25476260</guid>
            <pubDate>Sat, 19 Dec 2020 09:15:02 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Reconsider Using WebSpeech API]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25476185">thread link</a>) | @speechly
<br/>
December 19, 2020 | https://www.speechly.com/blog/web-speech-api-alternative/ | <a href="https://web.archive.org/web/*/https://www.speechly.com/blog/web-speech-api-alternative/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><div><p>The most used tool for voice user interfaces on the browser is the Web Speech API and SpeechRecognition API, but there are major limitations with both technologies.</p><p>First, Web Speech API is <a href="https://caniuse.com/speech-recognition">only available</a> for Chrome. SpeechRecognition API is also available for Firefox and some derivates of these, but the low support makes them unfeasible for production use in any real-life application.</p><p><img src="https://www.speechly.com/blog/web-speech-api-alternative/webspeech-api-support.png" alt="Support for WebSpeech API is limited"></p><p>Second, Web Speech API and SpeechRecognition API provides only the transcription of the user's speech. They don't provide any context or meaning (natural language understanding) for this input. While in some use cases that only need the transcription it's not an issue, for more complicated user tasks and for building user interfaces natural language understanding needs to be solved somehow.</p><p>Speechly is the first developer tool built from the ground up for building <a href="https://www.speechly.com/blog/what-is-voice-user-interface/">voice user interfaces</a>. Our Spoken Language Understanding API integrates <a href="https://www.speechly.com/blog/nlu-voice-speech-recognition-terms-glossary/#s">speech recognition</a> (ASR) and natural language understanding (NLU) to a single Spoken Language Understanding API for low latency and improved accuracy.</p><p>In addition to wide browser support, Speechly is available for touch screen platforms (Android, iOS and React Native) which makes building cross-platform applications very simple. This makes Speechly the best WebSpeech API alternative for voice user interfaces.</p><h2>What is natural language understanding and why do I need that?</h2><p>Natural language understanding is a branch of machine learning that enables computer systems to extract meaning from text or speech input. It reduces natural language into structured data that typically consists of intents and entities (slots) that modify these intents.</p><p>While this might sound complicated, let's give a simple example to clarify it. If the user says something like "Show t-shirts", the user intent is probably something like "show_products" and it has an entity "t-shirt". Naturally, the user might also say something like "Show jeans". In this case, the entity would be the same ‚Äì "show_products" but the entity would be "jeans".</p><p>If we are 100% sure that our users will always use either of these two utterances in exactly this format, we can use a very simple regular expression as our natural language understanding algorithm.</p><p>But most often this is not the case. Rather, the user can express this same intent in many different ways. Maybe they say something like "I'd like to see turtlenecks" or "Do you have any tees?"</p><p>A good natural language understanding algorithm can extract the meaning out of all these utterances and always return with the same intent and entity, no matter how the user expresses themselves.</p><p>WebSpeech and SpeechRecognition APIs don't have any natural language understanding capabilities and if you need that, you'll need to start learning <a href="https://spacy.io/">SpaCy</a> or some other natural language understanding tool. This increases development time significantly and adds complexity.</p><h2>Why Spoken Language Understanding?</h2><p>Now as we've learned, a voice user interface needs two distinct parts: speech recognition to transform user speech into text and natural language understanding to extract meaning (intents and entities) from that text. WebSpeech and SpeechRecognition APIs only offer speech recognition.</p><p>If you have ever used Google Assistant, Alexa, or Siri, you've probably seen that while the text transcript appears in near real-time while the user speaks, when the user stops speaking there is a small delay after which the action happens. This is where the natural language understanding happens and the action that the user wanted is performed.</p><p>Speechly is a Spoken Language Understanding API that provides both of these functions in a fully streaming fashion. When the user starts talking, the API begins returning both the transcript and the "meaning", eg. intents and entities for this input. This makes applications built with Speechly very responsive and fast to react to user input.</p><p>In fact, Speechly returns both interim and final results for both the transcript and for intents and entities for even faster feedback.</p><p>Unlike SpeechRecognition or WebSpeech API, Speechly <a href="https://docs.speechly.com/client-libraries/web-client/">browser-client</a> is supported by <a href="https://docs.speechly.com/client-libraries/supported-browsers/">all modern browsers</a> on mobile and desktop. You can also use Speechly for iOS and Android and we are adding more client libraries in the future, too. You can find all our client libraries <a href="https://docs.speechly.com/client-libraries/">here</a> for up-to-date status.</p><p>The streaming fashion of Speechly enables natural end-user utterances such as "Show me t-shirts... sorry I mean jeans". For most other voice UI APIs, this kind of query fails because of end pointing (or failure in natural language understanding): the system recognizes the small pause in between as a signal for the end and starts processing the first part of the utterance without taking into account the last part.</p><p>Another important thing that streaming enables is real-time visual feedback. If we think about our example utterance "Show t-shirts" it can show the t-shirts as soon as the user has stopped speaking. This encourages the user to go on and they can continue with something like "for men... in size large".</p><p>Configuring the natural language understanding model on Speechly is very simple and can be done either in our web dashboard or by using our command line tools. The former works great for simple projects and initial models and the latter is better for projects with several developers collaborating on the same model.</p><h2>Spoken Language Understanding demo</h2><p>Here's a quick demo showing this a web application built with Speechly Spoken Language Understanding in action:</p><p>As you can see from the demo, real-time visual feedback is the key to natural voice user interfaces. We believe that the lack of real-time feedback is the reason, why <a href="https://www.speechly.com/blog/real-time-voice-user-interfaces">the "iPhone moment" has not happened yet</a> for voice UIs. This kind of real-time feedback can't be done with either WebSpeech or SpeechRecognition API.</p><p>You can see the differences between responsiveness also by checking out <a href="https://jnguyen9763.github.io/chesswithspeech/">this GitHub project</a> that is using WebSpeech API for a chess game. Then compare it to this video which shows a similar (albeit more simple!) chess game built with our JavaScript client.</p><p>Just like the iPhone succeeded with the touch screen because of its very responsive and intuitive user experience, voice UIs need the same responsiveness and intuitiveness to really succeed.</p><h2>Alternatives for WebSpeech API</h2><h4>Amazon Transcribe</h4><p><a href="https://aws.amazon.com/transcribe/">Amazon Transcribe</a> is Amazon's text-to-speech API that suffers from the same limitations than WebSpeech API and SpeechRecognition API.</p><p>While it does offer accurate speech recognition, it does not have natural language understanding capabilities, which makes it slow and non-responsive for voice user interfaces.</p><h4>IBM Watson Speech to Text</h4><p><a href="https://www.ibm.com/cloud/watson-text-to-speech">IBM Watson Speech to Text</a> is another paid for speech-to-text API that does not include NLU capabilities.</p><h3>Microsoft Bing Speech API</h3><p><a href="https://azure.microsoft.com/en-us/services/cognitive-services/speech-services/">Microsoft Bing Speech API</a> is Microsoft's answer to speech recognition, but unfortunately does not support natural language understanding either.</p><h3>Assembly AI</h3><p><a href="https://www.assemblyai.com/">Assembly AI</a> offers great features for speech to text, including profanity filters and multiple models for different accents. It's a bit cheaper than the other altenatives, but does not support NLU, either.</p><h3>Speechly</h3><p><a href="https://www.speechly.com/">Speechly</a> offers fully streaming real-time Spoken Language Understanding API for integrating responsive voice user interfaces for any web application.</p><h2>Conclusions</h2><p>Building voice user interfaces for browser applications can't be done without natural language understanding capabilities. While it is possible to use another tool for speech recognition and another for NLU, it adds complexity and most probably increase latency so that real-time visual feedback is not achievable.</p><p>This makes Speechly the only available tool that enables complex voice user interfaces in browser with a single API and with wide support for different browsers.</p><p>If you are interested in building real-time voice user interfaces for React or JavaScript, you can start using Speechly by completing our tutorials. You can follow either the <a href="https://docs.speechly.com/client-libraries/react/tutorial/">React tutorial</a> or <a href="https://docs.speechly.com/client-libraries/web-client/tutorial/">JavaScript tutorial</a> depending on the platform you are developing on.</p><p>If you want to learn more about what kind of applications Speechly enables, you can refer to our <a href="https://www.speechly.com/use-cases/">Use cases</a> section.</p></div></div></div></div>]]>
            </description>
            <link>https://www.speechly.com/blog/web-speech-api-alternative/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25476185</guid>
            <pubDate>Sat, 19 Dec 2020 08:58:22 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[AI-powered microscope could potentially check cancer margins in minutes]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25475635">thread link</a>) | @finphil
<br/>
December 18, 2020 | https://nuadox.com/post/637911190054551553/ai-microscope-cancer-margins-check | <a href="https://web.archive.org/web/*/https://nuadox.com/post/637911190054551553/ai-microscope-cancer-margins-check">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div> 
                 
                    
                    <article id="637911190054551553">
                        <div>
                            <div>
                                <a href="https://nuadox.com/post/637911190054551553/ai-microscope-cancer-margins-check"><h2>AI-powered microscope could potentially check cancer margins in minutes</h2></a>
                                <figure data-orig-width="1440" data-orig-height="960"><img src="https://64.media.tumblr.com/d04cb78c2beaa9157477092be20a68ef/c9cd1b11d9ee72e4-c3/s1280x1920/f489a179ce27fcdcf241ed44ce37f9447a95a56c.jpg" alt="image" data-orig-width="1440" data-orig-height="960" width="1280" height="853"></figure><p><b>- By <a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fnews.rice.edu%2Fauthor%2Fjadeboyd%2F&amp;t=MTVhNjU2ODRjOGJlMzJkZThlOWFjNDViMDg3ZmQxZGQ3M2I4MzIyOCxuNlRKeDlrTw%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F637911190054551553%2Fai-microscope-cancer-margins-check&amp;m=0&amp;ts=1608698977">Jade Boyd</a> , <a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fwww.rice.edu%2F&amp;t=N2Y3ZDhlNTMyYWEzYWYwYmQ1MDE0OGE5OGVmMzNiNzhhYmE5ZGVmMixuNlRKeDlrTw%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F637911190054551553%2Fai-microscope-cancer-margins-check&amp;m=0&amp;ts=1608698977">Rice University</a> -</b></p><p>When surgeons remove cancer, one of the first questions is, ‚ÄúDid they get it all?‚Äù Researchers from Rice University and the University of Texas MD Anderson Cancer Center have created a new microscope that can quickly and inexpensively image large tissue sections, potentially during surgery, to find the answer.</p><p>The microscope can rapidly image relatively thick pieces of tissue with cellular resolution, and could allow surgeons to inspect the margins of tumors within minutes of their removal. It was created by engineers and applied physicists at Rice and is described in <a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fwww.pnas.org%2Fcontent%2Fearly%2F2020%2F12%2F09%2F2013571117%2F&amp;t=MDFmYTU3Y2NhODQ3MzYyOWUyZWIwYzJjNGIwZjdjYWQ1OTAyMzQyOSxuNlRKeDlrTw%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F637911190054551553%2Fai-microscope-cancer-margins-check&amp;m=0&amp;ts=1608698977">a study</a> published this week in the <i><a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fwww.pnas.org%2Fcontent%2Fearly%2F2020%2F12%2F09%2F2013571117&amp;t=Yzk2ZDU1YTQ0MTI4NjczZTc4MDU2NTc0OTI1ZTc1NDU1MzkxZmJlZSxuNlRKeDlrTw%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F637911190054551553%2Fai-microscope-cancer-margins-check&amp;m=0&amp;ts=1608698977">Proceedings of the National Academy of Sciences</a> (PNAS)</i>.</p><figure></figure><p><i>Video:&nbsp;‚ÄúAI-powered microscope could check cancer margins in minutes‚Äù by Rice University, <a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fyoutu.be%2FQ_fXdzWoX8s&amp;t=Yjg2ODEzNTM5ZGJiYjY5YjNjYWM1MGZhZDI4MjQ0ZWZkNDIxMDAwNSxuNlRKeDlrTw%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F637911190054551553%2Fai-microscope-cancer-margins-check&amp;m=0&amp;ts=1608698977">YouTube</a>.</i></p><p>

‚ÄúThe main goal of the surgery is to remove all the cancer cells, but the only way to know if you got everything is to look at the tumor under a microscope,‚Äù said Rice‚Äôs <a href="https://t.umblr.com/redirect?z=https%3A%2F%2Flj19.blogs.rice.edu%2F&amp;t=MjFlZWI5NzdiMjI1OTU4MzBjYjFkOWNhNmZjODg3ZjdiMDU4ZWI1ZixuNlRKeDlrTw%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F637911190054551553%2Fai-microscope-cancer-margins-check&amp;m=0&amp;ts=1608698977">Mary Jin</a>, a Ph.D. student in electrical and computer engineering and co-lead author of the study. ‚ÄúToday, you can only do that by first slicing the tissue into extremely thin sections and then imaging those sections separately. This slicing process requires expensive equipment and the subsequent imaging of multiple slices is time-consuming. Our project seeks to basically image large sections of tissue directly, without any slicing.‚Äù

<br></p><p>Rice‚Äôs <a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fscholarship.rice.edu%2Fhandle%2F1911%2F109500&amp;t=MjFkZjhhY2RkZDhkMzAzMzI5ZDg2NjQ5MmJmODFlZTliZjJjZjcxYSxuNlRKeDlrTw%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F637911190054551553%2Fai-microscope-cancer-margins-check&amp;m=0&amp;ts=1608698977">deep learning extended depth-of-field microscope</a>, or DeepDOF, makes use of an artificial intelligence technique known as <a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fnews.rice.edu%2F2020%2F08%2F31%2Fresearchers-set-sights-on-theory-of-deep-learning%2F&amp;t=NzA5NjNiZjQ0NjBjOWYxYzQyNDQwZTFiOGFlN2JmNDcwM2RkMThkZSxuNlRKeDlrTw%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F637911190054551553%2Fai-microscope-cancer-margins-check&amp;m=0&amp;ts=1608698977">deep learning</a> to train a computer algorithm to optimize both image collection and image post-processing.</p><p>With a typical microscope, there‚Äôs a trade-off between spatial resolution and depth-of-field, meaning only things that are the same distance from the lens can be brought clearly into focus. Features that are even a few millionths of a meter closer or further from the microscope‚Äôs objective will appear blurry. For this reason, microscope samples are typically thin and mounted between glass slides.</p><p>Slides are used to examine tumor margins today, and they aren‚Äôt easy to prepare. Removed tissue is usually sent to a hospital lab, where experts either freeze it or prepare it with chemicals before making razor-thin slices and mounting them on slides. The process is time-consuming and requires specialized equipment and workers with skilled training. It is rare for hospitals to have the ability to examine slides for tumor margins during surgery, and hospitals in many parts of the world lack the necessary equipment and expertise.</p><figure data-orig-width="1650" data-orig-height="1100"><img src="https://64.media.tumblr.com/2afb7a5a058da01a1fd01c2478f4b389/c9cd1b11d9ee72e4-85/s1280x1920/ad13d80961ddbb83f2adfb253d03f3a7dc2f7263.jpg" alt="image" data-orig-width="1650" data-orig-height="1100" width="1280" height="853"></figure><p><i>Image:&nbsp;A new microscope called DeepDOF uses artificial intelligence to quickly and inexpensively image all of the cells in large tissue sections (left) at high resolution with minimal preparation, eliminating the costly and time-consuming process of mounting thin tissue slices on slides (right). Credit:&nbsp;<a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fnews.rice.edu%2F2020%2F12%2F17%2Fai-powered-microscope-could-check-cancer-margins-in-minutes-2%2F&amp;t=NjU2OTg4NDRkZWVjNzNlOTI1ZDZkOWViYzJhMTdkMzFhMjdkNmNhMixuNlRKeDlrTw%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F637911190054551553%2Fai-microscope-cancer-margins-check&amp;m=0&amp;ts=1608698977">Brandon Martin/Rice University</a>.</i></p><p>

‚ÄúCurrent methods to prepare tissue for margin status evaluation during surgery have not changed significantly since first introduced over 100 years ago,‚Äù said study co-author <a href="https://t.umblr.com/redirect?z=https%3A%2F%2Ffaculty.mdanderson.org%2Fprofiles%2Fann_gillenwater.html&amp;t=NTEwMjhkNDJmYTYyZTY3MGNiYjkzY2I0ODRiODE1M2UzNzI2YTk1NixuNlRKeDlrTw%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F637911190054551553%2Fai-microscope-cancer-margins-check&amp;m=0&amp;ts=1608698977">Ann Gillenwater</a>, M.D., a professor of head and neck surgery at MD Anderson. ‚ÄúBy bringing the ability to accurately assess margin status to more treatment sites, the DeepDOF has potential to improve outcomes for cancer patients treated with surgery.‚Äù

<br></p><p>Jin‚Äôs Ph.D. advisor, study co-corresponding author <a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fprofiles.rice.edu%2Ffaculty%2Fashok-veeraraghavan&amp;t=ODZkNjk1NzdmYTI4ZWUwNDE0MGNjM2FlYTg2ZjQ2M2E4MGM0NTRhMSxuNlRKeDlrTw%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F637911190054551553%2Fai-microscope-cancer-margins-check&amp;m=0&amp;ts=1608698977">Ashok Veeraraghavan</a>, said DeepDOF uses a standard optical microscope in combination with an inexpensive optical phase mask costing less than $10 to image whole pieces of tissue and deliver depths-of-field as much as five times greater than today‚Äôs state-of-the-art microscopes.</p><p>‚ÄúTraditionally, imaging equipment like cameras and microscopes are designed separately from imaging processing software and algorithms,‚Äù said study co-lead author <a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fkortum.rice.edu%2Ffellows-scientists-staff%2Fyubo-tang&amp;t=MzUxZDRlNDIxZDdlYzBlZjE3NDg0NjQ4MDVhOWM0ZWQ0MzE1NzdlMyxuNlRKeDlrTw%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F637911190054551553%2Fai-microscope-cancer-margins-check&amp;m=0&amp;ts=1608698977">Yubo Tang</a>, a postdoctoral research associate in the lab of co-corresponding author <a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fprofiles.rice.edu%2Ffaculty%2Frebecca-richards-kortum&amp;t=NzdhODVhYjBiY2M5MzBlMGY4MGI5ZDljYzk4NzIwYjFjNTYzNzE2ZCxuNlRKeDlrTw%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F637911190054551553%2Fai-microscope-cancer-margins-check&amp;m=0&amp;ts=1608698977">Rebecca Richards-Kortum</a>. ‚ÄúDeepDOF is one of the first microscopes that‚Äôs designed with the post-processing algorithm in mind.‚Äù</p><p>The phase mask is placed over the microscope‚Äôs objective to module the light coming into the microscope.</p><p>‚ÄúThe modulation allows for better control of depth-dependent blur in the images captured by the microscope,‚Äù said Veeraraghavan, an imaging expert and associate professor in electrical and computer engineering at Rice. ‚ÄúThat control helps ensure that the deblurring algorithms that are applied to the captured images are faithfully recovering high-frequency texture information over a much wider range of depths than conventional microscopes.‚Äù</p><p>DeepDOF does this without sacrificing spatial resolution, he said.</p><p>‚ÄúIn fact, both the phase mask pattern and the parameters of the deblurring algorithm are learned together using a deep neural network, which allows us to further improve performance,‚Äù Veeraraghavan said.</p><p>DeepDOF uses a deep learning neural network, an expert system that can learn to make humanlike decisions by studying large amounts of data. To train DeepDOF, researchers showed it 1,200 images from a database of histological slides. From that, DeepDOF learned how to select the optimal phase mask for imaging a particular sample and it also learned how to eliminate blur from the images it captures from the sample, bringing cells from varying depths into focus.</p><p>‚ÄúOnce the selected phase mask is printed and integrated into the microscope, the system captures images in a single pass and the ML (machine learning) algorithm does the deblurring,‚Äù Veeraraghavan said.</p><p>Richards-Kortum, Rice‚Äôs Malcolm Gillis University Professor, professor of bioengineering and director of the <a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fwww.rice360.rice.edu%2F&amp;t=MzZmMTBjOTAxODBjYzM4NDM3MmE1NDg0NmY1NDAzZGVjMDA5NzBlMyxuNlRKeDlrTw%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F637911190054551553%2Fai-microscope-cancer-margins-check&amp;m=0&amp;ts=1608698977">Rice 360¬∞ Institute for Global Health</a>, said DeepDOF can capture and process images in as little as two minutes.</p><p>‚ÄúWe‚Äôve validated the technology and shown proof-of-principle,‚Äù Richards-Kortum said. ‚ÄúA clinical study is needed to find out whether DeepDOF can be used as proposed for margin assessment during surgery. We hope to begin clinical validation in the coming year.‚Äù</p><p>Additional co-authors include Yicheng Wu, Jackson Coole, Melody Tan, Xuan Zhao and Jacob Robinson of Rice, and Hawraa Badaoui and Michelle Williams of MD Anderson.</p><p>Veeraraghavan and Robinson are each members the Rice Neuroengineering Initiative.</p><p>The research was supported by the National Science Foundation, the Defense Advanced Research Projects Agency, the National Institutes of Health and the National Cancer Institute.</p><p>‚Äì</p><p><i>Header image:&nbsp;A section of pig tissue during imaging with Rice‚Äôs ‚Äúdeep learning extended depth-of-field microscope,‚Äù or DeepDOF. Credit:&nbsp;<a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fwww.eurekalert.org%2Fmultimedia%2Fpub%2F251998.php&amp;t=YjQwODZkZmYwMjNmMmMwMDBmZjA1Mzg0NzAzNjc4MDg3MDY3YzFjYyxuNlRKeDlrTw%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F637911190054551553%2Fai-microscope-cancer-margins-check&amp;m=0&amp;ts=1608698977">Brandon Martin/Rice University</a>.</i></p><p><b>Source: <a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fnews.rice.edu%2F2020%2F12%2F17%2Fai-powered-microscope-could-check-cancer-margins-in-minutes-2%2F&amp;t=NjU2OTg4NDRkZWVjNzNlOTI1ZDZkOWViYzJhMTdkMzFhMjdkNmNhMixuNlRKeDlrTw%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F637911190054551553%2Fai-microscope-cancer-margins-check&amp;m=0&amp;ts=1608698977">Rice University</a></b></p><p><b>Full study:</b>&nbsp;‚ÄúDeep learning extended depth-of-field microscope for fast and slide-free histology‚Äù, <i>PNAS</i>.</p><p><a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fdoi.org%2F10.1073%2Fpnas.2013571117&amp;t=OWMzNzk5YjBhNGRjM2NhMzQ4MzVlMzE0YTkzYTg5ZjVlMDQ1ZGVhMSxuNlRKeDlrTw%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F637911190054551553%2Fai-microscope-cancer-margins-check&amp;m=0&amp;ts=1608698977">https://doi.org/10.1073/pnas.2013571117</a><br></p><h2><b>Read Also</b></h2><p><a href="https://nuadox.com/post/162464734702/microscope-scans-tumors-and-examine-cancer">Microscope scans tumors and examine cancer biopsies in 3D</a></p>
                    
                      
                    
                    
                    
                    
                    
                    
                    
                    
                                             
                                <p><span>
                                    <p>
                                    
                                        <a href="https://nuadox.com/tagged/microscope">microscope</a>
                                    
                                        <a href="https://nuadox.com/tagged/cancer">cancer</a>
                                    
                                        <a href="https://nuadox.com/tagged/oncology">oncology</a>
                                    
                                        <a href="https://nuadox.com/tagged/imaging">imaging</a>
                                    
                                        <a href="https://nuadox.com/tagged/ai">ai</a>
                                    
                                        <a href="https://nuadox.com/tagged/artificial-intelligence">artificial intelligence</a>
                                    
                                        <a href="https://nuadox.com/tagged/health">health</a>
                                    
                                        <a href="https://nuadox.com/tagged/medicine">medicine</a>
                                    
                                        <a href="https://nuadox.com/tagged/surgery">surgery</a>
                                    
                                    </p>
                                </span></p>
                                
                            </div>
                        </div>
                    </article>
                 
                </div></div>]]>
            </description>
            <link>https://nuadox.com/post/637911190054551553/ai-microscope-cancer-margins-check</link>
            <guid isPermaLink="false">hacker-news-small-sites-25475635</guid>
            <pubDate>Sat, 19 Dec 2020 06:48:29 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Population Cycle Drives Human History (2007)]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25475477">thread link</a>) | @johntfella
<br/>
December 18, 2020 | https://mpra.ub.uni-muenchen.de/6557/ | <a href="https://web.archive.org/web/*/https://mpra.ub.uni-muenchen.de/6557/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>Alexander, Richard D. (1987): The biology of moral systems. New York: Aldine de Gruyter.</p><p>Anger, Christina/Pl√É¬ºnnecke, Axel/Seyda, Susanne/Werner, Dirk (2006): Bildungsarmut und Humankapitalschw√É¬§che in Deutschland. Gutachten. K√É¬∂ln: Institut der deutschen Wirtschaft. http://www.dihk.de/inhalt/download/gutachten_bildungsarmut.pdf</p><p>Anrich, Ernst (1973): Der Sozialismus der Linken. Nicht Fortschritt, sondern R√É¬ºckschritt und volle Zerst√É¬∂rung. Rosenheim: National-Verlag.</p><p>Aristotle (written 350 B.C.E.): Politics √¢‚Ç¨‚Äú quoted from http://classics.mit.edu/Aristotle/politics.html </p><p>Blacker, Carlos P. (1952): Eugenics: Galton and after. London: Duckworth. </p><p>Boner, Charles (1865): Transylvania; its products and people. London: Longmans.</p><p>Boserup, Ester (1981): Population and technological change. A study of long-term trends. Chicago: University of Chicago Press.</p><p>Brand, Christopher (1996): The g factor: general intelligence and its implications. Chichester: Wiley. http://www.douance.org/qi/brandtgf.htm </p><p>Brander, Bruce G. (1998): Staring into chaos: explorations in the decline of Western civilization. Dallas: Spence.</p><p>Buchanan, Patrick J. (1999): A republic, not an empire: reclaiming America√¢‚Ç¨‚Ñ¢s destiny. Washington: D. C.: Regnery.</p><p>Buchanan, Patrick J. (2002): The death of the West: how dying populations and immigrant invasions imperil our country and civilization. New York: St. Martin√¢‚Ç¨‚Ñ¢ Press.</p><p>Burch, Kean (2005): Beneficence, determinism and justice: an engagement with the argument for the genetic selection of intelligence. Bioethics 19: 12-28.</p><p>Burnham, James (1964): Suicide of the west: an essay on the meaning and destiny of liberalism. New York: John Day.</p><p>Calhoun, John B. (1962): Population density and social pathology. Scientific American 206: 139-148.</p><p>Chesnais, Jean-Claude (1995): Le cr√É¬©puscule de l√¢‚Ç¨‚Ñ¢occident: d√É¬©natalit√É¬©, condition des femmes et immigration. Paris: Laffont.</p><p>Christ, Karl (Ed.) (1970): Der Untergang des R√É¬∂mischen Reiches. Darmstadt: Wissenschaftliche Buchhandlung.</p><p>Chu, C. Y. Cyrus/Lee, Ronald D. (1994): Famine, revolt, and the dynastic cycle: populations dynamics in historic China. Journal of Population Economics 7: 351-378.</p><p>Chua, Amy (2003): World on fire: how exporting free market democracy breeds ethnic hatred and global instability. New York: Doubleday. </p><p>Cipolla, Carlo M. (Ed.) (1970): The economic decline of empires. London: Methuen.</p><p>Colinvaux, Paul (1980): The fates of nations: a biological theory of history. New York: Simon and Schuster.</p><p>Clark, Gregory (2007): Genetically capitalist? The Malthusian era and the formation of modern preferences. http://wiz.econ.ohio-state.edu/clark1.pdf</p><p>Collins, Randall (1999): Macrohistory. Essays in sociology of the long run. Stanford: Stanford. University Press.</p><p>Cousins, C. W. (1921): Third census of the population of South Africa. Pretoria.</p><p>Davis, Mike (2006): Planet of slums. London: Verso.</p><p>de la Croix, David/Doepke, Matthias (2003): Inequality and growth: why differential fertility matters. The American Economic Review 93: 1091-1113. http://www.econ.ucla.edu/workingpapers/wp803.pdf</p><p>Demeny, Paul (2003): Population policy dilemmas in Europe at the dawn of the twenty-first century. Population and Development Review 29: 1-28.</p><p>Diamond, Jared M. (2005): Collapse: how societies choose to fail or succeed. New York: Viking.</p><p>Dumont, Ars√É¬®ne (1890): Depopulation et civilisation. √É‚Ä∞tude d√É¬©mographique. Paris: Lecrosnier et Bab√É¬© 1890 (Reprint: Paris: Economica 1990).</p><p>Ebenrett, Heinz J./Hansen, Dieter/Puzicha, Klaus (2003): Verlust von Humankapital in Regionen mit hoher Arbeitslosigkeit. Aus Politik und Zeitgeschichte. Beilage zur Wochenzeitung Das Parlament. B 6-7: 25-31. http://www.bpb.de/popup/popup_druckversion.html?guid=LENL2A or with IQ map on p. 26 http://www.bpb.de/files/7K5SUG.pdf  </p><p>Eberstadt, Nicholas (1998): What if it√¢‚Ç¨‚Ñ¢s a world population implosion? Speculations about global de-population. Harvard Center for Population and Development Studies. http://www.globalhealth.harvard.edu/hcpds/wpweb/implosion/depop.html </p><p>Eberstadt, Nicholas (2001): The population implosion. Foreign Policy 123 (March/April 2001). http://www.catholiceducation.org/articles/population/pc0029.html .</p><p>Flynn, Michael F. (2001): Einf√É¬ºhrung in die Psychohistorik; in: Asimov, Isaak: Die Foundation-Trilogie. M√É¬ºnchen: Heyne 2001, pp. 827-904.</p><p>Galor, Oded/Moav, Omer (2002): Natural selection and the origin of economic growth. The Quarterly Journal of Economics 117: 1133-1191. www.econ.yale.edu/seminars/macro/mac02/galor-020924.pdf </p><p>Galor, Oded/Moav, Omer (2006): Das Human-Kapital: A theory of the demise of the class structure. Reviews of Economic Studies 73: 85-117. http://www.blackwell-synergy.com/doi/pdf/10.1111/j.1467-937X.2006.00370.x</p><p>Galtung, Johan (1996): The decline and fall of empires: a theory of de-development. Written for the United Nations Research Institute on Development. 1996. http://www.transcend.org/galt.htm </p><p>Galtung, Johan/Inayatullah, Sohail (Eds.) (1997): Macrohistory and macrohistorians: perspectives on individual, social and civilizational change. Westport: Praeger.</p><p>Gille, R./Henry, L./Tabah, L./Sutter, J./Bergues, H./Girard, A./Bastide, A. (1954): Le niveau intellectuel des enfants d√¢‚Ç¨‚Ñ¢age scolaire. La determination des aptitudes. L√¢‚Ç¨‚Ñ¢influence des facteurs constitutionnelles, familiaux et sociaux. Cahiers de √¢‚Ç¨≈ìTravaux et documents de l√¢‚Ç¨‚Ñ¢Institute National d√¢‚Ç¨‚Ñ¢Etudes D√É¬©mographiques√¢‚Ç¨≈ì, No. 23. Paris, p. 110.</p><p>Gini, Corrado (1930): The cyclical rise and fall of population. In: Population. Lectures on the Harris Foundation 1929. Chicago: University of Chicago Press, pp. 1-140.</p><p>Goldstone, Jack A. (1991): Revolution and rebellion in the early modern world. Berkeley: University of California Press.</p><p>Gour√É¬©vitch, Jean-Pau (2000): La France africaine. Islam, Int√É¬©gration, Ins√É¬©curit√É¬©: Infos et Intox. Paris: Le Pr√É¬© aux Clercs.</p><p>Heinsohn, Gunnar (2003). S√É¬∂hne und Weltmacht. Terror im Aufstieg und Fall der Nationen. Z√É¬ºrich: Orell F√É¬ºssli.</p><p>Hoppe, Hans-Hermann (2001): Democracy √¢‚Ç¨‚Äú the god that failed: the economics and politics of monarchy, democracy and natural order. New Brunswick, NJ: Transaction.</p><p>Inglehart, Ronald/Wetzel, Christian (2005): Modernization, cultural change, and democracy: the human development sequence. Cambridge: Cambridge University Press.</p><p>Itzkoff, Seymour W. (2003a): 2050: the collapse of the global techno-economy. Ashfield, MA: Paideia.</p><p>Itzkoff, Seymour W. (2003): Intellectual capital in twenty-first-century politics. Ashfield, MA: Paideia.</p><p>Jones, Elise F. (1982): Socio-economic differentials in achieved fertility. Comparative Studies, ECE analyses of WFS surveys in Europe and USA, No. 21: 5-35</p><p>Jones, Garrett/Schneider, W. Joel (2006): Intelligence, human capital, and economic growth: a bayesian averaging of classical estimates (BACE) approach. Journal of Economic Growth 11: 71-93. http://ideas.repec.org/p/wpa/wuwpdc/0507005.html </p><p>Kaplan, Robert D. (2000): The coming anarchy: shattering the dreams of the post cold war. New York: Random House.</p><p>Kennedy, Paul (1987): The rise and fall of the great powers: economic change and military conflict from 1500 to 2000. New York: Random House.</p><p>Kingsley, Davis (1937): Reproductive institutions and the pressure for population. Sociological Review 29: 289-306 (Reprint (1997): Population and Development Review 23: 611-624.)</p><p>Kingsley, Davis/van der Oeven, Pietronella (1982): Demographic foundations of new sex roles. Population and Development Review 8: 495-511. </p><p>Knaul, Eckart (1985): Das biologische Massenwirkungsgesetz. Ursache vom Aufstieg und Untergang der Kulturen. Berg/Starnbergersee: T√É¬ºrmer.</p><p>Kulke, Eberhard (1974): The parsees in India: a minority as agent of social change. M√É¬ºnchen: Weltforum.</p><p>La Griffe du Lion (2004): Smart fraction theory II. √¢‚Ç¨‚Äúhttp://www. lagriffedulion.f2s.com/sft2.htm</p><p>Lam, David (1997): Demographic variables and income inequality, in: Rosenzweig, Mark R./Stark, Oded Stark (Eds.): Handbook of population and family economics, Vol. 1B. Amsterdam: Elsevier , pp. 1015-1059</p><p>Laqueur, Walter (2007): The last days of Europe: epitaph for an old continent. London: Thomas Dunne.</p><p>Laulan, Yves-Marie (2003): Les nations suicidaires. Paris. de Guibert.</p><p>Lee, Gentry/White, Michael (2001): The history of the twenty-first century. New York: Voyager.</p><p>Lee, Kuan Yew (2000): From third world to first. The Singapore story 1965 √¢‚Ç¨‚Äú 2000. New York: Harper Collins.</p><p>Lehrl, Siegfried (2005): PISA √¢‚Ç¨‚Äú ein weltweiter Intelligenz-Test. Geistig fit, Nr. 1: 3-6.</p><p>Leyhausen, Paul (1968): Soziale Organisation und Dichtetoleranz bei S√É¬§ugetieren, in. In: Lorenz, Konrad/Leyhausen, Paul: Antriebe tierischen und menschlichen Verhaltens. Gesammelte Abhandlungen. M√É¬ºnchen: R. Piper, pp. 142.-168.</p><p>Longman, Phillip (2004): The empty cradle: how falling birthrates threaten world prosperity and what to do about it. New York: Basic Books.</p><p>Lopreato, Joseph/Crippen, Timothy Crippen (1999): Crisis in sociology: the need for Darwin. New Brunswick, NJ: Transaction..</p><p>Lynn, Richard (2001): Eugenics: a reassessment. Westport: Praeger.</p><p>Lynn Richard/Harvey, John (2007): The decline of the world√¢‚Ç¨‚Ñ¢s IQ. Intelligence √¢‚Ç¨‚Äú in press.</p><p>Lynn, Richard/Vanhanen, Tatu (2002): IQ and the wealth of nations. Westport: Praeger</p><p>Mak, Geert (2000): Jorwerd: the death of the village in late twentieth-century Europe. London: Harvill.</p><p>McDaniel, Michael A. (2006): Estimating state IQ: measurement challenges and preliminary correlates. Intelligence 34: 607-619.</p><p>Meadows, Donella/Randers, Jorgen/Meadows, Dennis (2004): Limits to growth: the 30-year update. White River Junction, Vt: Chelsea Green.</p><p>Mokyr, Joel (2005): The intellectual origins of modern economic growth. Journal of Economic History 65: 285-351.</p><p>Myrdal, Gunnar (1940): Population. A problem for democracy. The Godkin Lectures 1938. Cambridge: Harvard University Press.</p><p>Neisser, U. (Ed.) (1998). The rising curve: long-term gains in IQ and related measures. Washington, DC: American Psychological Association. </p><p>Noelle-Neumann, Elisabeth (1978): Werden wir alle Proletarier? Wertewandel in ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://mpra.ub.uni-muenchen.de/6557/">https://mpra.ub.uni-muenchen.de/6557/</a></em></p>]]>
            </description>
            <link>https://mpra.ub.uni-muenchen.de/6557/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25475477</guid>
            <pubDate>Sat, 19 Dec 2020 06:06:59 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Countries build 9 mile wide tree wall across Africa to prevent Sahara advancing (2014)]]>
            </title>
            <description>
<![CDATA[
Score 50 | Comments 13 (<a href="https://news.ycombinator.com/item?id=25474895">thread link</a>) | @Circumnavigate
<br/>
December 18, 2020 | http://www.alearned.com/green-wall-of-africa/ | <a href="https://web.archive.org/web/*/http://www.alearned.com/green-wall-of-africa/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		<p>12 <strong>African</strong> nations have come together pledging to build a 9 mile wide band of trees that will stretch all the way across Africa, 4750 miles, in order to stop the progressive advancement of the Sahara.</p><!-- START-WP-ADS-ID: 2 --><!-- END-WP-ADS-PRIO -->
<p>Senegal is leading a 12 African nations to build a living defense system appropriately named the Great Green Wall of Africa.</p>
<p>The Sahara is currently the 2nd largest desert in size, only smaller than Antarctica. However, unlike its frozen relative, the Sahara is actually expanding.</p>
<p>The United Nations estimates that, by 2025, 60 % of Africa‚Äôs arable land will be covered in Saharan sand, significantly expanding the current 9 million square km‚Äôs. Even if these estimations prove aggressive, the effects of farmland exploitation on a region already hard-pressed for food would be devastating on any level.<br>
With this danger in sight, the leaders of Senegal, Mauritania, Mali, Burkina Faso, Niger, Nigeria, Chad, Sudan, Eritrea, Ethiopia, and Djibouti have banded together on an remarkable effort to prevent approaching disaster.</p>
<p><a href="http://www.alearned.com/wp-content/uploads/2014/07/great-green-wall-full-300x239.jpg"><img src="http://www.alearned.com/wp-content/uploads/2014/07/great-green-wall-full-300x239.jpg" alt="Africa" width="300" height="239"></a></p>
<p>Once complete, Africa‚Äôs Green Wall will be a manmade forest of drought-resistant trees (principally acacia) extending across the entire region.<br>
9 miles wide and 4,750 miles long, the vision for the project is as committed as it is necessary. Thus far, only 330 miles of greenery stands guard in Northern Senegal, and has cost the Sengalese government over $6 million since the start of digging in 2008. International organizations have pledged over $3 billion to the enormous defense system.</p>
<p><iframe src="//www.youtube.com/embed/jI_nRHg-0l4" width="560" height="315" frameborder="0" allowfullscreen="allowfullscreen"></iframe></p>
<p>Leaders point out that the Great Green Wall is about more than just defense from windblown sand. The project will bring thousands of jobs to poor communities, and has already transformed usually useless land into gardens scattered with tree nurseries.</p>
<p>The increase of tourists, scientists, and medical professionals has also brought attention and resources to a neglected region in which aid is scarce and doctors are not readily available to needy people.</p>
<!-- START-WP-ADS-ID: 1 --><!-- END-WP-ADS-PRIO -->			</div></div>]]>
            </description>
            <link>http://www.alearned.com/green-wall-of-africa/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25474895</guid>
            <pubDate>Sat, 19 Dec 2020 03:59:45 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Principle of Maximum Entropy]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25474509">thread link</a>) | @keyboardman
<br/>
December 18, 2020 | https://leimao.github.io/blog/Maximum-Entropy/ | <a href="https://web.archive.org/web/*/https://leimao.github.io/blog/Maximum-Entropy/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <h3 id="introduction">Introduction</h3>

<p>The principle of maximum entropy states that the probability distribution which best represents the current state of knowledge is the one with largest entropy, in the context of precisely stated prior data (such as a proposition that expresses testable information). These prior data serves as the constrains to the probability distribution.</p>



<p>Given the second law of thermodynamics (principle of increase of entropy), isolated systems spontaneously evolve towards thermodynamic equilibrium, the state with maximum entropy, maximum entropy distributions become the most natural distributions under certain constrains. In this blog post, I would like to discuss entropy maximization and a couple of maximum entropy distributions.</p>

<h3 id="prerequisites">Prerequisites</h3>

<h4 id="gaussian-integral">Gaussian Integral</h4><p>

\[\begin{align}
\int_{-\infty}^{\infty} e^{-x^2} dx = \sqrt{\pi} \\
\end{align}\]

</p><p>I will skip the proof here, since the proof from <a href="https://en.wikipedia.org/wiki/Gaussian_integral">Wikipedia</a> is not that difficult to understand.</p>

<h4 id="useful-integrals">Useful Integrals</h4><p>

\[\begin{align}
\int_{-\infty}^{\infty} x e^{-x^2} dx &amp;= -\frac{1}{2} \int_{-\infty}^{\infty} e^{-x^2} d(-x^2) \\
&amp;= -\frac{1}{2} e^{-x^2} \big\rvert_{-\infty}^{\infty}\\
&amp;= 0 \\
\end{align}\]

\[\begin{align}
\int_{-\infty}^{\infty} x^2 e^{-x^2} dx &amp;= -\frac{1}{2} \int_{-\infty}^{\infty} x d (e^{-x^2}) \\
&amp;= -\frac{1}{2} \Big( x e^{-x^2} \big\rvert_{-\infty}^{\infty} - \int_{-\infty}^{\infty} e^{-x^2} dx \Big) \\
&amp;= -\frac{1}{2} \Big( 0 - \sqrt{\pi} \Big) \\
&amp;= \frac{\sqrt{\pi}}{2} \\
\end{align}\]

</p><p>Notice that here we used integral by parts.</p>

<h3 id="entropy-maximization">Entropy Maximization</h3>

<h4 id="discrete-probability-distribution">Discrete Probability Distribution</h4>

<p>Suppose $P$ is a discrete probability distribution. The entropy is defined as</p><p>

\[\begin{align}
H(P) &amp;= - \sum_{x \in X}^{} P(x) \log P(x) \\
\end{align}\]

</p><p>We further have some constrains on $P$:</p>

<ul>
  <li>$P(x) \geq 0$</li>
  <li>$\sum_{x \in X}^{} P(x) = 1$</li>
  <li>$\sum_{x \in X}^{} P(x) r_i(x) = \alpha_i$ for $1 \leq i \leq m$</li>
</ul>

<p>The first two constrains are trivial given $P$ is a probability distribution. The third constrain is optional and it indicates a constrain on the entire system. Notice that there could be more than one constrain if $m &gt; 1$.</p>



<p>We would like to maximize the entropy.</p><p>

\[\max_{P} H(P) = \max_{P} \Big( - \sum_{x \in X}^{} P(x) \log P(x) \Big)\]

</p><p>Let√¢‚Ç¨‚Ñ¢s try to solve this optimization problem. We would use Lagrange multiplier for the constrains.</p><p>

\[\begin{align}
L(P, \lambda_0, \lambda_1, \cdots, \lambda_m) &amp;= - \sum_{x \in X}^{} P(x) \log P(x) + \lambda_0 \Big(\sum_{x \in X}^{} P(x) - 1 \Big) + \sum_{i=1}^{m} \lambda_i \sum_{x \in X}^{} \Big(P(x) r_i(x) - \alpha_i \Big) \\
\end{align}\]

</p><p>We take the derivative of $L(P, \lambda_0, \lambda_1, \cdots, \lambda_m)$ with respect to $P(x)$ and the derivative should be $0$.</p><p>

\[\begin{align}
\frac{\partial}{\partial P(x)} L(P, \lambda_0, \lambda_1, \cdots, \lambda_m) &amp;= - \log P(x) - 1 + \lambda_0 + \sum_{i=1}^{m} \lambda_i r_i(x) \\
&amp;= 0 \\
\end{align}\]

</p><p>Therefore,</p><p>

\[\begin{align}
P(x) &amp;= e^{\big(\sum_{i=1}^{m} \lambda_i r_i(x)\big) + \lambda_0 - 1 } \\
&amp;= \frac{ e^{\sum_{i=1}^{m} \lambda_i r_i(x)} }{e^{1 - \lambda_0}} \\
\end{align}\]

</p><p>Because $\sum_{x \in X}^{} P(x) = 1$,</p><p>

\[\begin{align}
\sum_{x \in X}^{} P(x) &amp;= \sum_{x \in X}^{} e^{\big(\sum_{i=1}^{m} \lambda_i r_i(x)\big) + \lambda_0 - 1 } \\
&amp;= e^{\lambda_0 - 1} \sum_{x \in X}^{} e^{\sum_{i=1}^{m} \lambda_i r_i(x)} \\
&amp;= 1 \\
\end{align}\]

</p><p>Therefore,</p><p>

\[e^{1 - \lambda_0} = \sum_{x \in X}^{} e^{\sum_{i=1}^{m} \lambda_i r_i(x)}\]

</p><p>With this, we could rewrite $P(x)$ as</p><p>

\[\begin{align}
P(x) &amp;= \frac{ e^{\sum_{i=1}^{m} \lambda_i r_i(x)} }{ \sum_{x \in X}^{} e^{\sum_{i=1}^{m} \lambda_i r_i(x)} } \\
\end{align}\]

</p><h4 id="continuous-probability-distribution">Continuous Probability Distribution</h4>

<p>Similarly, suppose $P$ is a continuous probability distribution. The entropy is defined as</p><p>

\[\begin{align}
H(P) &amp;= - \int_{X}^{} P(x) \log P(x) dx \\
\end{align}\]

</p><p>With the following constrains</p>

<ul>
  <li>$P(x) \geq 0$</li>
  <li>$\int_{X}^{} P(x) dx = 1$</li>
  <li>$\int_{X}^{} P(x) r_i(x) dx = \alpha_i$ for $1 \leq i \leq m$</li>
</ul>

<p>Similarly, to maximize the entropy, we maximize the Lagrangian for the continuous case.</p><p>

\[\begin{align}
L(P, \lambda_0, \lambda_1, \cdots, \lambda_m) &amp;= - \int_{X}^{} P(x) \log P(x) dx + \lambda_0 \Big(\int_{X}^{} P(x)  dx - 1 \Big) + \sum_{i=1}^{m} \lambda_i \Big( \int_{X}^{} P(x) r_i(x)  dx - \alpha_i \Big) \\
\end{align}\]

</p><p>We take the derivative of $L(P, \lambda_0, \lambda_1, \cdots, \lambda_m)$ with respect to $P(x)$ and the derivative should be $0$. We will also use the <a href="https://en.wikipedia.org/wiki/Calculus_of_variations">calculus of variations</a> to compute the derivative, which is slightly more complicated. Without going into all the details, we have the following derivatives.</p><p>

\[\begin{align}
\frac{\partial}{\partial P(x)} L(P, \lambda_0, \lambda_1, \cdots, \lambda_m) &amp;= - \frac{\partial}{\partial P(x)} \int_{X}^{} P(x) \log P(x)  dx + \lambda_0 \frac{\partial}{\partial P(x)} \Big(\int_{X}^{} P(x)  dx - 1 \Big) + \sum_{i=1}^{m} \lambda_i \frac{\partial}{\partial P(x)} \Big( \int_{X}^{} P(x) r_i(x)  dx - \alpha_i \Big) \\
&amp;= - \int_{X}^{} \frac{\partial}{\partial P(x)} \big( P(x) \log P(x) \big)  dx + \lambda_0 \frac{\partial}{\partial P(x)} \Big(\int_{X}^{} P(x)  dx - 1 \Big) + \sum_{i=1}^{m} \lambda_i \frac{\partial}{\partial P(x)} \Big( \int_{X}^{} P(x) r_i(x)  dx - \alpha_i \Big) \\
&amp;= - \log P(x) - 1 + \lambda_0 + \sum_{i=1}^{m} \lambda_i r_i(x) \\
&amp;= 0 \\
\end{align}\]

</p><p>Therefore,</p><p>

\[\begin{align}
P(x) &amp;= e^{\big(\sum_{i=1}^{m} \lambda_i r_i(x)\big) + \lambda_0 - 1 } \\
&amp;= \frac{ e^{\sum_{i=1}^{m} \lambda_i r_i(x)} }{e^{1 - \lambda_0}} \\
\end{align}\]

</p><p>Because $\int_{X}^{} P(x) dx = 1$,</p><p>

\[\begin{align}
\int_{X}^{} P(x) dx &amp;= \int_{X}^{} e^{\big(\sum_{i=1}^{m} \lambda_i r_i(x)\big) + \lambda_0 - 1 } dx \\
&amp;= e^{\lambda_0 - 1} \int_{X}^{} e^{\sum_{i=1}^{m} \lambda_i r_i(x)} dx \\
&amp;= 1 \\
\end{align}\]

</p><p>Therefore,</p><p>

\[e^{1 - \lambda_0} = \int_{X}^{} e^{\sum_{i=1}^{m} \lambda_i r_i(x)} dx\]

</p><p>With this, we could rewrite $P(x)$ as</p><p>

\[\begin{align}
P(x) &amp;= \frac{ e^{\sum_{i=1}^{m} \lambda_i r_i(x)} }{ \int_{X}^{} e^{\sum_{i=1}^{m} \lambda_i r_i(x)} dx } \\
\end{align}\]

</p><h3 id="maximum-entropy-distribution-examples">Maximum Entropy Distribution Examples</h3>

<h4 id="roll-dice">Roll Dice</h4>

<p>A conventional dice has 6 faces. $X = \{ 1, 2, 3, 4, 5, 6 \}$. Because we don√¢‚Ç¨‚Ñ¢t have additional constrains, therefore</p><p>

\[\lambda_1 = \lambda_2 = \cdots = \lambda_m = 0\]

</p><p>So, the maximum entropy probability distribution of getting each face of the dice is</p><p>

\[\begin{align}
P(x) &amp;= \frac{ e^{\sum_{i=1}^{m} \lambda_i r_i(x)} }{ \sum_{x \in X}^{} e^{\sum_{i=1}^{m} \lambda_i r_i(x)} } \\
&amp;= \frac{ e^{0} }{ \sum_{x \in X}^{} e^{0} } \\
&amp;= \frac{ 1 }{ 6 } \\
\end{align}\]

</p><h4 id="uniform-distribution">Uniform Distribution</h4>

<p>The only constrain we put on a distribution is $X = [a, b]$. Because we don√¢‚Ç¨‚Ñ¢t have additional constrains, therefore</p><p>

\[\lambda_1 = \lambda_2 = \cdots = \lambda_m = 0\]

</p><p>So the maximum entropy probability distribution is actually uniform distribution.</p><p>

\[\begin{align}
P(x) &amp;= \frac{ e^{\sum_{i=1}^{m} \lambda_i r_i(x)} }{ \int_{X}^{} e^{\sum_{i=1}^{m} \lambda_i r_i(x)} dx } \\
&amp;= \frac{ e^{0} }{ \int_{a}^{b} e^{0} dx } \\
&amp;= \frac{ 1 }{ b - a } \\
\end{align}\]

</p><h4 id="gaussian-distribution">Gaussian Distribution</h4>

<p>We could also derive Gaussian Distribution using entropy maximization. The constrains for the maximum entropy distribution are</p>

<ul>
  <li>$X = (-\infty, \infty)$</li>
  <li>$\mathbb{E}[X] = \int_{-\infty}^{\infty} x P(x) dx = \mu$</li>
  <li>$\mathbb{V}[X] = \mathbb{E}[X^2] - \mathbb{E}[X]^2 = \mathbb{E}[X^2] - \mu^2 = \int_{-\infty}^{\infty} x^2 P(x) dx - \mu^2 = \sigma^2$</li>
</ul>

<p>which translates to</p>

<ul>
  <li>$m = 2$</li>
  <li>$r_1(x) = x$, $\alpha_1 = \mu$</li>
  <li>$r_2(x) = x^2$, $\alpha_2 = \sigma^2$</li>
</ul><p>

\[\begin{align}
P(x) &amp;= e^{\lambda_0 - 1 + \lambda_1 x + \lambda_2 x^2} \\
\end{align}\]

</p><p>Because</p><p>

\[\begin{align}
\int_{-\infty}^{\infty} P(x) dx &amp;= 1 \\
\end{align}\]

</p><p>We have</p><p>

\[\begin{align}
\int_{-\infty}^{\infty} P(x) dx &amp;= \int_{-\infty}^{\infty} e^{\lambda_0 - 1 + \lambda_1 x + \lambda_2 x^2} dx  \\
&amp;= \int_{-\infty}^{\infty} e^{\lambda_0 - 1 + \lambda_1 x + \lambda_2 x^2} dx  \\
&amp;= \int_{-\infty}^{\infty} \exp \big( \lambda_0 - 1 + \lambda_1 x + \lambda_2 x^2 \big) dx  \\
&amp;= \int_{-\infty}^{\infty} \exp \bigg( \lambda_2 \Big[ \big(x + \frac{\lambda_1}{2\lambda_2}\big)^2 - \frac{\lambda_1^2 - 4 \lambda_0 \lambda_2 + 4 \lambda_2}{4\lambda_2^2} \Big] \bigg) dx  \\
&amp;= \int_{-\infty}^{\infty} \exp \bigg( \lambda_2 \big(x + \frac{\lambda_1}{2\lambda_2}\big)^2 - \frac{\lambda_1^2 - 4 \lambda_0 \lambda_2 + 4 \lambda_2}{4\lambda_2} \bigg) dx  \\
&amp;= \exp \bigg( - \frac{\lambda_1^2 - 4 \lambda_0 \lambda_2 + 4 \lambda_2}{4\lambda_2}  \bigg) \int_{-\infty}^{\infty} \exp \bigg( \lambda_2 \big(x + \frac{\lambda_1}{2\lambda_2}\big)^2 \bigg) dx  \\
&amp;= \exp \bigg( - \frac{\lambda_1^2 - 4 \lambda_0 \lambda_2 + 4 \lambda_2}{4\lambda_2}  \bigg) \int_{-\infty}^{\infty} \exp \bigg( -(-\lambda_2) \big(x + \frac{\lambda_1}{2\lambda_2}\big)^2 \bigg) dx  \\
\end{align}\]

</p><p>Here we assume $\lambda_2 &lt; 0$, we further have</p><p>

\[\begin{align}
\int_{-\infty}^{\infty} P(x) dx &amp;= \exp \bigg( - \frac{\lambda_1^2 - 4 \lambda_0 \lambda_2 + 4 \lambda_2}{4\lambda_2}  \bigg) \int_{-\infty}^{\infty} \exp \bigg( -(-\lambda_2) \big(x + \frac{\lambda_1}{2\lambda_2}\big)^2 \bigg) dx  \\
&amp;= \exp \bigg( - \frac{\lambda_1^2 - 4 \lambda_0 \lambda_2 + 4 \lambda_2}{4\lambda_2}  \bigg) \int_{-\infty}^{\infty} \exp \bigg( - \Big( \sqrt{ -\lambda_2 }\big(x + \frac{\lambda_1}{2\lambda_2}\big) \Big)^2 \bigg) dx  \\
&amp;= \frac{1}{\sqrt{ -\lambda_2 }} \exp \bigg( - \frac{\lambda_1^2 - 4 \lambda_0 \lambda_2 + 4 \lambda_2}{4\lambda_2}  \bigg) \int_{-\infty}^{\infty} \exp \bigg( - \Big( \sqrt{ -\lambda_2 }\big(x + \frac{\lambda_1}{2\lambda_2}\big) \Big)^2 \bigg) d \Big( \sqrt{ -\lambda_2 }\big(x + \frac{\lambda_1}{2\lambda_2}\big) \Big)  \\
\end{align}\]

</p><p>To make it more clear, we set</p><p>

\[y = \sqrt{ -\lambda_2 }\big(x + \frac{\lambda_1}{2\lambda_2}\big)\]

</p><p>So using Gaussian integral, we further have</p><p>

\[\begin{align}
\int_{-\infty}^{\infty} P(x) dx &amp;= \frac{1}{\sqrt{ -\lambda_2 }} \exp \bigg( - \frac{\lambda_1^2 - 4 \lambda_0 \lambda_2 + 4 \lambda_2}{4\lambda_2}  \bigg) \int_{-\infty}^{\infty} \exp \bigg( - ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://leimao.github.io/blog/Maximum-Entropy/">https://leimao.github.io/blog/Maximum-Entropy/</a></em></p>]]>
            </description>
            <link>https://leimao.github.io/blog/Maximum-Entropy/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25474509</guid>
            <pubDate>Sat, 19 Dec 2020 02:44:32 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[M41A Pulse Rifle]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25474409">thread link</a>) | @thomas
<br/>
December 18, 2020 | https://nsndb.com/nsn/m41a-pulse-rifle/ | <a href="https://web.archive.org/web/*/https://nsndb.com/nsn/m41a-pulse-rifle/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

        <div>
                        
                            <div>

                                            
                    
                    <h4>National Stock Number and NAICS Lookup</h4>

                </div>
            
        </div>

    </div></div>]]>
            </description>
            <link>https://nsndb.com/nsn/m41a-pulse-rifle/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25474409</guid>
            <pubDate>Sat, 19 Dec 2020 02:22:08 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Build an insurance pricing model and compete in a market, prizes worth $12000]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25474218">thread link</a>) | @shubhamjain0594
<br/>
December 18, 2020 | https://www.aicrowd.com/challenges/insurance-pricing-game | <a href="https://web.archive.org/web/*/https://www.aicrowd.com/challenges/insurance-pricing-game">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="description-wrapper">
        <div>
          <div data-controller="challenge-overview" data-action="resize@window->challenge-overview#showTOC" data-challenge-overview-scrollable-tabs="true">
            <blockquote>





</blockquote>

<h2><strong><a href="https://discord.gg/dvtRS3Zvy3"><img alt="chat on Discord" src="https://img.shields.io/discord/657211973435392011?style=for-the-badge"></a></strong></h2>

<h2 id="üî¶-overview">üî¶ Overview</h2>

<p>In this challenge, you will act as an insurance company, where you build a pricing model and compete against other players (other insurance companies) for profit. In other words, the player that maximises competitive profit is the winner.</p>

<p>The market in this challenge will be a <code>cheapest-wins market</code>. That means every insurance company offers every customer an annual premium price, and the customer will always pick the company that offers the cheapest price to them (e.g., using&nbsp;a price comparison website).</p>

<p>In order to create your pricing model, you are given historical insurance data: 60K real historical car insurance policies for 4 consecutive years. Each policy concerns 1 vehicle, its drivers and an accident history over 4 years. This data has been provided by a large car insurance provider in a European country and is a uniform sample for their entire portfolio.</p>

<p>You are asked to produce a model to price contracts for incoming policies for the 5th year.</p>

<p>The company that makes the most profit in this market, wins the challenge.</p>

<h2 id="üíµ-cheapest-wins-market">üíµ Cheapest-wins market</h2>

<p>As a player or team you represent one insurance company. You will have to provide a premium quote for every policy (or customer) you encounter. So does every other company. But the customer will pick the cheapest price offered to them. This is illustrated bellow:</p>

<p><img alt="" height="323" src="https://d3000t1r8yrm6n.cloudfront.net/uploads/ckeditor/pictures/123/content_Screenshot_from_2020-09-16_18-15-01.png" width="650"></p>

<p>Now that companies 1 and 2 each have a set amount of revenue, they have to pay out the cost of the claims accociated with policies 1-4. So it will look like:</p>

<p><img alt="" height="431" src="https://d3000t1r8yrm6n.cloudfront.net/uploads/ckeditor/pictures/124/content_Screenshot_from_2020-09-16_18-26-11.png" width="650"></p>

<p>So, once the claims are taken into account in the cheapest-wins market, we can see that Company 1 wins as it has the most competitive profit.</p>

<ol>
</ol>

<h2 id="üèá-leaderboards">üèá Leaderboards</h2>

<p>As an insurance company in this market, you will be responsible for a portfolio of policies that pay you annual premiums. In exchange, you cover their risk. If they make a claim, you will have to pay.</p>

<p>Therefore, to make money, you must:</p>

<ol>
	<li>Estimate&nbsp;the expected loss for your portfolio, so your contracts are profitable</li>
	<li>Come up with a pricing strategy that allows you to compete with others, so that you win contracts</li>
</ol>

<p>To reach these goals we provide you with two leaderboards.</p>

<h3 id="mean-squared-error-mse-leaderboard">Root Mean Squared Error (RMSE) leaderboard</h3>

<p>This leaderboard uses your&nbsp;<code>predict_expected_claim</code> function and measures how well you can estimate the risk of policy IDs. It functions by measuring the root mean squared error (RMSE) of your premiums compared to the cost of the claim.</p>

<p>The optimal way to minimise RMSE is done by a model that predicts the expected claim for each contract most accurately.</p>

<p>This allows you to compare the quality of your loss prediction model with your competitors however, there is no explicit reward for performing well on this leaderboard.</p>

<p>This leaderboard is refreshed instantaneously upon submissions, and will always use the same data, disjoint from the other leaderboard.</p>

<h3 id="competitive-profit-leaderboard">Competitive profit leaderboard (Updated every <u>Saturday</u> at 10pm CET)</h3>

<p>This leaderboard uses your <code>predict_premium</code> function. It measures your average competitive profit in a market of size 10 when playing against other players.</p>

<ol>
	<li>Each week uses a new set of data to ensure that you don't price the same policy many times, like a real market.</li>
	<li>This measures <code>competitive profit</code>. That means your profit is averaged over many markets that you play in.</li>
	<li>To make sure that results are stable, we keep putting you in markets until your leaderboard rank no longer changes from market to market.</li>
</ol>

<p><strong>Note:</strong> This leaderboard is updated every <u><em><strong>Saturday at 10PM CET</strong></em></u> with your most recent submission</p>

<p><strong>If you do consistently well on this leaderboard, you will likely do well in the final evaluation.</strong></p>

<ol>
</ol>

<h2 id="‚öñ-evaluation-metric">‚öñ Evaluation metric</h2>

<p>The final evaluation metric for this challenge is <code>competitive profit</code>: how much money does your company make in a <em><u>realistic market</u></em>. However we also provide a leaderboard using root mean squared error.</p>

<h3>Root mean squared error (RMSE)</h3>

<p>Given a set of list of claims&nbsp;<span>\(y\)</span> and a set of expected claims <span>\(\hat{y}\)</span> predicted by your model, the RMSE is computed as:</p>

<p><span>\(RMSE = \sqrt{\frac{\sum_{i=1}^{N}(y_i - \hat{y_i})^2}{N}}\)</span></p>

<h3>Competitive profit (<u>the final metric</u>)</h3>

<p>The evaluation process is as follows:</p>

<ol>
	<li><strong>Compute average profit rank. </strong>First the average competitive profit that your model makes in a market of size 10 (i.e. with 9 other random players) is computed. This gives your model a profit rank.</li>
	<li><strong>Compute realistic <code>competitive profit</code>. </strong>In a <em><u>realistic market</u></em> models that don't perform well don't exist (i.e. go bankrupt). So to compute the realistic <code>competitive profit</code>, we place your model in a market of size 10 with 9 other models picked from the <strong>top 10%</strong> of the the ranking obtained in step 1.&nbsp;&nbsp;</li>
</ol>

<p><strong>Two important notes</strong>:</p>

<ul>
	<li>The profit rank in step 1 is not used in the leaderboard. Only the ranking in step 2 is used in the leaderboard.</li>
	<li>Rankings from both steps are generated as a result of many many runs of different random markets. On average you can expect your model to have competed against every other model present at least once.</li>
</ul>

<h2 id="üöìnbspmarket-rules">üöì&nbsp;Market rules</h2>

<p>There are two rules that your submissions to the profit leaderboard, and final submissions must follow:</p>

<ol>
	<li><strong>Non-negative training profit. </strong>Your models must be profitable on the training data. That is, the sum of your premiums must not be less than the sum of the claims.</li>
	<li><strong>Participation rule.</strong> Your model must participate (i.e. win at least 1 policy) in <em>5% or more</em> of the markets it is placed in.</li>
</ol>

<h2 id="üíæ-dataset">üíæ Dataset</h2>

<p>You can download the dataset from the <a href="https://www.aicrowd.com/challenges/insurance-pricing-game/dataset_files">resources tab</a>.</p>

<p>The dataset contains a total of 100K real historical car insurance policies over 5 years in the recent past.</p>

<p>This has been provided by a large car insurance provider in a European country and is a uniform sample from their entire portfolio.</p>

<p>You can find the data dictionary under the <a href="https://www.aicrowd.com/challenges/insurance-pricing-game/dataset_files">resources tab</a>.</p>

<p>The majority of the data concerns third-party liability but there are also other types of car insurance (e.g. theft) present.</p>

<p>For this challenge, the data is split in the following way:</p>

<ol>
	<li>Training data: 60K contracts with 4 years of history (what you are given)</li>
	<li>RMSE leaderboard: 5K contracts with 4 years of history</li>
	<li>9 weekly profit leaderboards: 15K contracts with 4 years of history</li>
	<li>Test data: 100K contracts for the 5th year (what the final competition runs on)</li>
</ol>

<h2 id="üÜò-how-to-submit">üì® How to submit</h2>

<p>There are two methods of submission available in this challenge:</p>

<ol>
	<li>Submission through Google Colaboratory notebooks.</li>
	<li>Submission from a <code>.zip</code> file.</li>
</ol>

<h3>Submission via Colaboratory notebooks</h3>

<ol>
	<li><strong>Python.&nbsp; </strong>Visit the <u><a href="https://colab.research.google.com/drive/1RsZfn1VSg4QLf43ufd3b3U-IWrNLptdD">starter notebook here</a></u>.</li>
	<li><strong>R.</strong> Visit the <u><a href="https://colab.research.google.com/drive/1rXawVrD11gmiIi71tSOtJCZbZGRZhjCg">starter notebook here</a></u>.</li>
</ol>

<p>The notebooks are self-contained and submissions are made through the notebooks themselves.</p>

<h3>Submission via a ZIP file</h3>

<p>Visit the starter-kit <a href="https://gitlab.aicrowd.com/aicrowd/insurance-pricing-game-starter-kit">available here</a> and follow the instructions.</p>

<p>Once you have prepared your <code>.zip</code> file, you can then submit it using the link in the top right corner of the page here.</p>

<h2 id="üèÜ-prizes">üèÜ Prizes</h2>

<table>
	<thead>
		<tr>
			<th>&nbsp;</th>
			<th>Amount</th>
			<th>Prize sponsor</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td>1st</td>
			<td>$6000 USD</td>
			<td><a href="https://partnerre.com/"><img alt="PartnerRe" height="90" src="https://149448277.v2.pressablecdn.com/wp-content/uploads/2018/08/partnerre-logo.png" width="168"> </a></td>
		</tr>
		<tr>
			<td>2nd</td>
			<td>$3500 USD</td>
			<td><a href="https://www.actuaries.org.sg/"><img alt="Singapore Actuarial Society" height="90" src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQPBIPUHZuV4cAixZrlkTiVSP-sc1sM28kAsg&amp;usqp=CAU" width="231"></a></td>
		</tr>
		<tr>
			<td>3rd</td>
			<td>$1500 USD</td>
			<td><a href="https://www.actuartech.com/"><img alt="Image" height="90" src="https://assets.website-files.com/5e1eff1b9094375d2b128f9e/5e5d870519986745c2f5126a_aquartechmainlogo100.jpeg" width="314"></a></td>
		</tr>
		<tr>
			<td>4th</td>
			<td>$1000 USD</td>
			<td><a href="https://www.institutdesactuaires.com/"><img alt="Institut des Actuaires" height="90" src="https://www.institutdesactuaires.com/images/logos/logo.png?v=20200806" width="299"></a></td>
		</tr>
	</tbody>
</table>

<h2 id="timeline">üìÖ Timeline</h2>

<p><strong>Launch: </strong>18 December 2020 - 5:00pm UCT</p>

<p><strong>Deadline: </strong>07 March 2021 - 11:59pm UCT</p>

<h2>üåê&nbsp;Research sponsors</h2>

<p>This research is supported in part, by the following institutions.</p>

<table>
	<thead>
		<tr>
			<th><img alt="SwissRe" src="https://d3atsf3fgek2rw.cloudfront.net/content/uploads/2014/01/SR_Logo_CMYK_Lake-1002x314.jpg"></th>
			<th colspan="3"><img alt="Casualty Actuarial Society" src="https://www.casact.org/images/logo.png"></th>
			<th><img alt="ASTIN Non-Life Insurance" src="https://www.actuaries.org/IAA/images/IAA/Logos/Section%20Logos/Original_IAA_ASTIN_RGB.jpg"></th>
		</tr>
	</thead>
</table>





<ul>
	<li><a href="mailto:ali.farzanehfar@imperial.ac.uk">Ali Farzanehfar</a></li>
	<li><a href="mailto:florimond@imperial.ac.uk">Florimond Houssiau</a></li>
</ul>

          </div>
        </div>
      </div></div>]]>
            </description>
            <link>https://www.aicrowd.com/challenges/insurance-pricing-game</link>
            <guid isPermaLink="false">hacker-news-small-sites-25474218</guid>
            <pubDate>Sat, 19 Dec 2020 01:44:46 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Virtual Machine Detection in the Browser (2019)]]>
            </title>
            <description>
<![CDATA[
Score 161 | Comments 93 (<a href="https://news.ycombinator.com/item?id=25474183">thread link</a>) | @blindm
<br/>
December 18, 2020 | https://bannedit.github.io/Virtual-Machine-Detection-In-The-Browser.html | <a href="https://web.archive.org/web/*/https://bannedit.github.io/Virtual-Machine-Detection-In-The-Browser.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <h3>Introduction</h3>
<p>Virtual Machine (VM) detection is nothing new. Malware has been doing it for over a decade now. Over time the techniques have advanced as defenders learned new ways of avoiding VM detection.</p>
<p>A while back a friend and I were working on a project related to exploit delivery via a web application for redteaming purposes. I wanted a way to fingerprint visitors of the site and hash the fingerprint data so I could look for potential repeat visitors. While investigating fingerprinting I stumbled upon something pretty interesting. I was looking at some code that collected information about WebGL capabilities. I quickly realized that some of the fingerprinting information could be useful for VM detection because vendor names were exposed. In this particular instance the string "VMWare" was contained within the WebGL information. After some more testing I also discovered that VirtualBox reported the same kind of information. </p>
<p>Once I realized it was potentially possible to detect VMs from the browser I started to dig deeper and began searching for other research related to this discovery. I found a pretty well researched academic paper <a href="http://yinzhicao.org/TrackingFree/crossbrowsertracking_NDSS17.pdf">[1]</a> related to tracking users across multiple browsers. This gave me some other potential techniques that could be applied to VM detection.</p>
<p>The end goal of this research is to have multiple techniques for VM detection. Multiple techniques lead to much more accurate detection. Since some techniques are more false-positive prone than others, a weighting system can be applied to the detection capabilities. This allows us to generate detection confidence scoring. This can help account for inaccuracies of certain detection methods. Given enough testing and data it would then be possible to come up with a reasonable threshold value. If a browser scores above the threshold then it would most likely be within a VM. Alternatively, if the browser scored below the threshold value it could be considered to be running on physical hardware.</p>
<h3>Techniques</h3>
<p>Now that I have covered some of the background information and history leading up to this blog post we can start to dig into the actual techniques.</p>
<p>As mentioned prior in the introduction, WebGL can provide a lot of information about the OpenGL implementation including vendor information. The WEBGL_debug_renderer_info extension <a href="https://developer.mozilla.org/en-US/docs/Web/API/WEBGL_debug_renderer_info">[2]</a> can be used to query for debug information such as the WebGL vendor and rendered.</p>
<div><pre><span></span><span>var</span> <span>canvas</span> <span>=</span> <span>document</span><span>.</span><span>createElement</span><span>(</span><span>'canvas'</span><span>);</span>
<span>var</span> <span>gl</span> <span>=</span> <span>canvas</span><span>.</span><span>getContext</span><span>(</span><span>'webgl'</span><span>);</span>

<span>var</span> <span>debugInfo</span> <span>=</span> <span>gl</span><span>.</span><span>getExtension</span><span>(</span><span>'WEBGL_debug_renderer_info'</span><span>);</span>
<span>var</span> <span>vendor</span> <span>=</span> <span>gl</span><span>.</span><span>getParameter</span><span>(</span><span>debugInfo</span><span>.</span><span>UNMASKED_VENDOR_WEBGL</span><span>);</span>
<span>var</span> <span>renderer</span> <span>=</span> <span>gl</span><span>.</span><span>getParameter</span><span>(</span><span>debugInfo</span><span>.</span><span>UNMASKED_RENDERER_WEBGL</span><span>);</span>

<span>console</span><span>.</span><span>log</span><span>(</span><span>vendor</span><span>);</span>
<span>console</span><span>.</span><span>log</span><span>(</span><span>renderer</span><span>);</span>
</pre></div>


<p>Additionally, extension availability can be queried using the <strong><em>getExtension</em></strong> method on a WebGL context. I have not fully explored this avenue but it might be possible to detect certain WebGL implementations provided by VMs based on the extensions available. Though this idea is likely very false-positive prone.</p>
<p>Below is a screenshot from <a href="https://webglreport.com/">[3]</a> WebGLReport a website dedicated to fingerprinting WebGL.</p>
<blockquote>
<p><img alt="alt-text" src="https://bannedit.github.io/resources/VirtualBox-VM-Win10-Chrome.png" title="VirtualBox Windows 10 x64 VM Google Chrome Visiting webglreport.com">
<strong><em>VirtualBox Windows 10 x64 VM Google Chrome Visiting webglreport.com</em></strong></p>
</blockquote>
<p>Now, it is important to note that this depends on how the VM is configured. In Virtual Box for example, setting the graphics controller setting under Display to VMSVGA will report cause WebGL to use CPU based implementations of OpenGL which is browser dependent. However, this could still be a useful indicator that the client machine is running in a VM because most modern hardware has integrated GPUs and can provide access to OpenGL natively. Just keep in mind that CPU based OpenGL implementations do not necessarily mean it is a VM outright.</p>
<blockquote>
<p><img alt="alt-text" src="https://bannedit.github.io/resources/VirtualBox-VM-Win10-Chrome-VMSVGA.png" title="VirtualBox Windows 10 x64 VM Google Chrome Using VMSVGA">
<strong><em>VirtualBox Windows 10 x64 VM Google Chrome Using VMSVGA Visiting webglreport.com</em></strong></p>
</blockquote>
<p>This screenshot depicts Google Chrome utilizing the CPU based OpenGL implementation renderer Google SwiftShader <a href="https://github.com/google/swiftshader">[4]</a>.</p>
<p>Another technique seen in normal malware is to determine the screen width and height. This can be achieved in Javascript as well. Additionally, color depth and bits per pixel are other potentially good indicators related to the display.</p>
<div><pre><span></span><span>var</span> <span>width</span> <span>=</span> <span>screen</span><span>.</span><span>width</span><span>;</span>
<span>var</span> <span>height</span> <span>=</span> <span>screen</span><span>.</span><span>height</span><span>;</span>
<span>var</span> <span>color_depth</span> <span>=</span> <span>screen</span><span>.</span><span>colorDepth</span><span>;</span>
<span>var</span> <span>bitspp</span> <span>=</span> <span>screen</span><span>.</span><span>pixelDepth</span><span>;</span>
</pre></div>


<p>More details on the screen object can be found at <a href="https://www.w3schools.com/jsref/obj_screen.asp">[5]</a>.</p>
<p>Can we detect the amount of RAM on the client? You bet. Again using Javascript we can determine roughly the amount of RAM available on the browser. One quirk to note here is that the browser will only report RAM values in gigabytes (gb). It also has a quirk where it will only report up to 8gb and as low as 256mb (0.25gb). These ranges of values however, are still enough to use as a VM detection method. Most physical workstations these days come with at least 8gb of RAM. Detecting smaller amounts of RAM such as 2gb or less would be a good indicator the client browser is in a VM. The specification for the Device Memory can be found at <a href="https://www.w3.org/TR/device-memory/">[6]</a></p>
<div><pre><span></span><span>var</span> <span>ram</span> <span>=</span> <span>navigator</span><span>.</span><span>deviceMemory</span><span>;</span>
</pre></div>


<p>Finally, the last technique I will be covering detects the number of CPU cores. This is done by performing timing attacks using multiple web workers running simultaneously. During my testing of this technique I found it to be very accurate. I tested this concept out using the <a href="https://oswg.oftn.org/projects/core-estimator/demo/">[7]</a> Core Estimator Demo site. A small number of CPU cores can be a decent VM indicator and has been used by malware in the past. Core Estimator also provides the Javascript libraries on github <a href="https://github.com/oftn-oswg/core-estimator">[8]</a>.</p>
<blockquote>
<p><img alt="alt-text" src="https://bannedit.github.io/resources/VirtualBox-VM-Win10-Chrome-2-Cores.png" title="VirtualBox Windows 10 x64 VM Chrome With 2 CPU Cores">
<strong><em>VirtualBox Windows 10 x64 VM Google Chrome 2 CPU Cores Tested with Core Estimator</em></strong></p>
</blockquote>
<h3>Conclusion</h3>
<p>This blog post covered four unique VM detection capabilities that can be performed from Javascript. When I first discovered these techniques my initial thought was to apply the concepts toward VM detection. Hopefully, both defenders and offensive security professions can find something useful to apply these techniques toward.</p>
<p>It is interesting to see that academics and various other researchers have applied some of the same concepts toward fingerprinting and privacy issues. </p>
<h3>References</h3>
<ol>
<li>
<p>(Cross-)Browser Fingerprinting via OS and
Hardware Level Features <a href="http://yinzhicao.org/TrackingFree/crossbrowsertracking_NDSS17.pdf">http://yinzhicao.org/TrackingFree/crossbrowsertracking_NDSS17.pdf</a></p>
</li>
<li>
<p>MDN web-docs WEBGL_debug_renderer_info <a href="https://developer.mozilla.org/en-US/docs/Web/API/WEBGL_debug_renderer_info">https://developer.mozilla.org/en-US/docs/Web/API/WEBGL_debug_renderer_info</a></p>
</li>
<li>
<p>WebGL Report <a href="https://webglreport.com/">https://webglreport.com</a></p>
</li>
<li>
<p>Google Swiftshader Github <a href="https://github.com/google/swiftshader">https://github.com/google/swiftshader</a>  </p>
</li>
<li>
<p>W3 Device Memory Specification <a href="https://www.w3.org/TR/device-memory/">https://www.w3.org/TR/device-memory/</a></p>
</li>
<li>
<p>W3 Schools - The Screen Object <a href="https://www.w3schools.com/jsref/obj_screen.asp">https://www.w3schools.com/jsref/obj_screen.asp</a></p>
</li>
<li>
<p>Core Estimator Demo <a href="https://oswg.oftn.org/projects/core-estimator/demo/">https://oswg.oftn.org/projects/core-estimator/demo/</a></p>
</li>
<li>
<p>Core Estimator Github <a href="https://github.com/oftn-oswg/core-estimator">https://github.com/oftn-oswg/core-estimator</a></p>
</li>
</ol>
  </div></div>]]>
            </description>
            <link>https://bannedit.github.io/Virtual-Machine-Detection-In-The-Browser.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25474183</guid>
            <pubDate>Sat, 19 Dec 2020 01:39:03 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Virtual Events Suck]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25474090">thread link</a>) | @blindm
<br/>
December 18, 2020 | https://aparker.io/posts/virtual-events-suck/ | <a href="https://web.archive.org/web/*/https://aparker.io/posts/virtual-events-suck/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <div>
  
  <p><time datetime="2020-12-10T09:30:00-0500">Thu, Dec 10, 2020</time></p><p><img src="https://aparker.io/images/virtualeventssuckheader.png" alt="image"></p>
<p>I mean, is this even up for argument?</p>

<p>One of the whitest-ass things in the world is our people‚Äôs obsession with songs at sporting events, and indeed, in large crowds. If you‚Äôre reading this and you‚Äôre from Europe, feel free to replace my references to Sweet Caroline with Seven Nation Army, same diff. That said, you can fairly reliably trigger this behavior in most cultures in most parts of the world by finding a sufficiently rowdy bar around midnight and playing <em>something</em> on the jukebox that gets folks going. Humans, we‚Äôre social creatures, yeah? A few bars of Neil Diamond, a couple people singing along, and by the time you‚Äôre at ‚ÄòHands, touching hands‚Äô you‚Äôll have a swelling crescendo that culminates in a ear-shattering and atonal screech of ‚ÄòSWEEEEEEEEEEEEET CAR-O-LINE (WOAH OH OH)‚Äô making the bartenders silently plot the murder of everyone in their line of sight.</p>
<p>People like being around people, and most people don‚Äôt treat everyone around them as some sort of incredibly delicate faberge egg. There‚Äôs a lot of ‚Äúwow look at all these accomodations people are making that disabled people have asked for now that nobody is supposed to leave their house! hypocrisy, much??‚Äù and I‚Äôm like, yeah, duh? Pointing out hypocrisy is the lowest form of engagement in 2020. This is why virtual events suck ‚Äì because nobody is actually planning on doing them any longer than they need to.</p>

<blockquote>
<p>One of the benefits of in-person conferences is that they temporarily remove you from your day-to-day work and immerse you in a community of like-minded individuals. It‚Äôs not just about getting to hear new ideas, but also about the break from your daily routine. This is one of the things that is hardest to replicate in a virtual event. DIDevOps was perhaps the most successful virtual conference I‚Äôve seen in making their event feel like An Event. This event was clever and whimsical, the community was engaged, and it definitely didn‚Äôt feel like just another video call.</p>
</blockquote>
<p><a href="https://redmonk.com/rstephens/2020/04/30/deserted-island-devops/">Rachel Stephens, RedMonk</a></p>
<p>I wrote earlier this year about the idea of a <a href="https://aparker.io/posts/deserted-island-devops/">decisive moment</a> and how that influenced the thinking behind Deserted Island DevOps. To elaborate a bit, Cartier-Bresson was a street photographer who coined this phrase in the introduction to his 1947 book.</p>
<blockquote>
<p>Photography is the simultaneous recognition, in a fraction of a second, of the significance of an event as well as of a precise organisation of forms which give that event its proper expression.</p>
</blockquote>
<p>What is, then, the ‚Äòdecisive moment‚Äô of a tech conference? My original criteria was that an event was <em>etherial</em> or placeless; From the smallest DevOpsDays to the largest re:Invent, an event is defined less by the where than by the who. As an attendee, you are swept away from the status quo for a time (even as it inorexably pulls you back in, given the amount of people I see working on laptops during events) into a convention center or hotel or theater or whatever, specifically to focus on something other than what you normally would. Quite literally, you are being moved out of your comfort zone. This can prime you to accept ideas that normally you wouldn‚Äôt, can rejigger your brain chemistry for a few hours to make you see things from a different perspective. That‚Äôs valuable! As a speaker, you‚Äôre transported to a new stage, with a new audience, a new set of eyes and ears to reflect off of. It‚Äôs almost like being a comedian and testing out material ‚Äì you try some new lines, some new jokes, add an anecdote here, shave one off there. Repetition builds mastery. Next week, or next month, you‚Äôre going to do it all again. Our traversal through the liminal spaces between these potemkin stages lends itself to inward focus where we must Do The Work to shut out the world around us. To be less floral about it, the demands of the road make us better speakers because the only way we don‚Äôt go fuckin‚Äô mad is to focus on the work.</p>
<p>Virtual events offer none of this, unfortunately. As attendees, another Slack, another Zoom call, another wave of talking heads and PowerPoint. As speakers, our audience disappears behind a chat window. We lose our reflection. It‚Äôs sad and terrible and great for some people, but on the balance I think we dislike it more than we like it.</p>
<p>The bad is part of the fun! You can‚Äôt replicate the feeling of gnawing on an underripe banana while chugging overly-hot-but-not-terribly-flavorful coffee watching someone who‚Äôs company paid way too much for a keynote while mentally ticking off the people you need to talk to that day while working out the soreness in your back from the bed that isn‚Äôt yours that you got maybe four productive sleeping hours in due to jet lag while figuring out who you‚Äôre going to catch up with after the show wraps that day as you muse about how it looks like your competitors have a much nicer booth than yours, and you wonder if they‚Äôre hiring except that one asshole still works there and so on and so forth. ‚ÄúThat sounds terrible!‚Äù you may be musing, <em>and you‚Äôd be right</em>, but I love the terrible. I thrive in the terrible. I‚Äôm drinking single origin fair trade coffee beans that were roasted in small batches locally brewed in a fancy coffee maker and I can tell you that when this is all over and I can have a cuppa brewed in the backroom of a Hilton it is going to be the sweetest thing I can possibly imagine for five seconds right before I start hating everything about it again and <em>that‚Äôs fine</em>.</p>
<p>The bad of an in-person event is terrible, but it‚Äôs a terrible I can work with. I go outside like once or twice a week now to get groceries and that‚Äôs all I‚Äôve done for the past nine months. <em>I want the workable terrible, not this horrific stasis</em>.</p>

<p>The reason that virtual events suck is that we‚Äôre trying to replicate in-person events. We‚Äôre doing old-school iOS skeumorphism but for primarily social gatherings. No wonder they suck! There‚Äôs a few broad reasons:</p>
<ul>
<li><em>Bad UX</em>: Sometimes I like to style on babies by displaying object permanance, but you wouldn‚Äôt know that given the utter contempt event platforms seem to have for their audiences by doing dumb skeumorphic ‚Äúconference halls‚Äù with badly ‚Äòshopped people standing around.</li>
</ul>
<p><img src="https://aparker.io/images/kubeconlobby.png" alt="KubeCon EU ‚ÄòLobby‚Äô"></p>
<ul>
<li>
<p><em>Pervasive Surveillence</em>: I use ad blockers but a bunch of people don‚Äôt, on principle though it‚Äôs really fuckin‚Äô creepy that every click you make on one of these event platforms is tracked. Simply navigating to a sponsor booth counts as a ‚Äòlead‚Äô to the sponsor. Yikes!</p>
</li>
<li>
<p><em>Poor AV Quality</em>: I get that people have to record from their homes but maybe recording someone‚Äôs Zoom isn‚Äôt the best way to do this? I‚Äôm sympathetic, this is legit a hard problem to solve, but many large conferences are still charging an arm and a leg to sponsors (and less for attendees but that‚Äôs a different point) so how about you do local recording then edit things later? If you‚Äôre going to charge me at <em>all</em> then I expect the production values to at least beat out a random Twitch streamer.</p>
</li>
<li>
<p><em>Poor Viewing Experience</em>: A tiny pop-out 720p video that artifacts when I change the size is‚Ä¶ not great. Integrate chat and Q&amp;A better. Do <em>something</em> unique with the format. I sit on enough Zoom calls. Like, why would I <em>pay money</em> to <em>watch videos</em> with a <em>worse player than YouTube</em>? There‚Äôs millions of hours of shit out there for free!</p>
</li>
<li>
<p><em>Yet Another Slack</em>: I just don‚Äôt want to join more Slack channels where people are randomly @here‚Äôing and I never know if it‚Äôs an event organizer with an announcement or some salesperson trying to coax people into their virtual booth.</p>
</li>
<li>
<p><em>Did I Mention Virtual Booths Yet</em>: I have never interacted with anyone in a Virtual Booth and I never will. This appears to be a common sentiment.</p>
</li>
</ul>

<p>Alright, let‚Äôs flip the script. I‚Äôm wearing my business hat now.</p>
<ul>
<li>
<p><em>Bad UX</em>: You think the <em>attendee</em> experience is bad, the admin/sponsor controls and views on these platforms is worse. Arbitrary requirements, poor control over look and feel, nah fam miss me with this.</p>
</li>
<li>
<p><em>Poor Interactivity</em>: You know what‚Äôs great about a real booth? People wander by and they get interested. Why do they wander by? Because they‚Äôre not at home, they need to kill time, and the snacks are on the trade floor. Maybe they just want a t-shirt or whatever, fine, but we do actually get a lot of really valuable feedback and eyes on the product by doing demos. This is extremely useful, and it simply doesn‚Äôt happen at virtual events.</p>
</li>
<li>
<p><em>Attendee Impedence Mismatch</em>: This is more of a theory but I suspect that the attendee mix for virtual events in terms of titles is significantly out-of-balance compared to in-person events. One popular (<em>n</em> = ~1300) virtual event this year had self-reported attendance of only 4% for management roles, but over 40% IC (developer/devops/ops) roles. My hypothesis is that ‚Äúdecision makers‚Äù are less likely to attend virtual events because they‚Äôre intensely overbooked during the in-person -&gt; distributed team transition period and are oversubscribed on other things, which translates into less useful direct sales conversations, but I could be off-base here. If nothing else, my anecdata from talking about this seems to indicate that attendees just don‚Äôt really go to virtual booths.</p>
</li>
<li>
<p><em>Success Looks Different</em>: This is one of those ‚Äòtwo-way street‚Äô problems, but I don‚Äôt think organizers did a great job in general making sponsors successful, and I don‚Äôt think sponsors had the muscle to make themselves successful in a lot of ways. Trying to be too different caused a lot of friction, however, and during a time of reinvention this friction reduced experimentation in my opinion.</p>
</li>
</ul>

<p>Last part - the speaker experience.</p>
<ul>
<li>
<p><em>My Home Is Not Your Home</em>: One of the low key worst things about the pandemic has been the idea of us ‚Äòopening up our homes‚Äô and letting people see how we live. Could we fuckin‚Äô not? Like I don‚Äôt believe that I even have to discuss this but we should probably put the Room Rater person on trial for crimes against humanity. I don‚Äôt <em>want</em> to have to be super concious about my webcam or audio or whatever, I don‚Äôt <em>want</em> to ‚Ä¶</p></li></ul></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://aparker.io/posts/virtual-events-suck/">https://aparker.io/posts/virtual-events-suck/</a></em></p>]]>
            </description>
            <link>https://aparker.io/posts/virtual-events-suck/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25474090</guid>
            <pubDate>Sat, 19 Dec 2020 01:20:10 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Original Card Games]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25474060">thread link</a>) | @blindm
<br/>
December 18, 2020 | https://www.parlettgames.uk/oricards/ | <a href="https://web.archive.org/web/*/https://www.parlettgames.uk/oricards/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p><strong>Inventing card games</strong>
			is one of my favourite recreations. It's a relaxing
			hobby: it means I can think up the basic ideas without having to get out
			of bed&nbsp;- or even, if I'm very lucky, without having to wake up&nbsp;-
			which is more than you can say for actually <em>playing</em> cards.
			My idea of a good game is one that uses an ordinary 52-card pack and has
			very simple rules, but gives you plenty to think about. If you like that idea
			have a look through the following. Against each entry is a note of how many it can
			be played by (<span>red</span> means it's ideal for that number and
			<strong>P</strong> = four players in fixed partnerships),
			followed by the type of game it is and a note of what it's all about. For type of
			game, I use these terms:</p><div><!-- @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ -->
	

	<tbody><tr><td><a href="https://www.parlettgames.uk/oricards/abstrac.html">Abstrac</a></td>
			<td><span>2</span></td> <td>nim game</td>
			<td>Pick up cards to make combinations (perfect information)</td></tr>
	<tr><td><a href="https://www.parlettgames.uk/oricards/addenda.html">Addenda</a></td>
			<td><span>2 P</span></td> <td>point tricks</td>
			<td>Aim to win tricks counting 17 points each</td></tr>
	<tr><td><a href="https://www.parlettgames.uk/oricards/agonaunt.html">Agony Aunt</a></td>
			<td><span>4</span></td><td>trick-avoid</td>
			<td>Avoid taking penalty cards (needs counters and a board</td>
	</tr><tr><td><a href="https://www.parlettgames.uk/oricards/anarchy.html">Anarchy</a></td>
			<td>3 4 <span>5</span></td><td>wild tricks</td>
			<td>Play as you please and score how you like</td></tr>
	<tr><td><a href="https://www.parlettgames.uk/oricards/bouncers.html">Bouncers</a></td>
			<td><span>3</span></td><td>trick-avoid</td>
			<td>A sort of cross between Gops and Hearts</td>
	</tr><tr><td><a href="https://www.parlettgames.uk/oricards/bravado.html">Bravado</a></td>
			<td><span>2 3 4 5 6</span></td><td>shedding</td>
			<td>A fast fun game, soon to be published as "Chicken Out!"</td></tr>
	<tr><td><a href="https://www.parlettgames.uk/oricards/brummy.html">Brummy</a></td>
			<td><span>2 3</span> 4 5</td><td>rummy</td>
			<td>Two-dimensional Rummy</td></tr>		
	<tr><td><a href="https://www.parlettgames.uk/oricards/bugami.html">Bugami</a></td>
			<td>3 <span>4 P 5</span></td><td>trick-avoid</td>
			<td>Choose which suit not to win cards of in tricks (&amp; see <a href="https://www.parlettgames.uk/oricards/trigami.html">Trigami</a>)</td>
	</tr><tr><td><a href="https://www.parlettgames.uk/oricards/caterpil.html">Caterpillar</a></td>
			<td><span>2</span></td><td>arithmetical</td>
			<td>A fairly simple adding-up game</td></tr>		
	<tr><td><a href="https://www.parlettgames.uk/oricards/cato.html">Cato</a></td>
			<td><span>2</span></td><td>point tricks</td>
			<td>A card-point adaptation of Ecart√©</td></tr>			
	<tr><td><a href="https://www.parlettgames.uk/oricards/centurion.html">Centurion</a></td>
			<td><span>2</span></td> <td>arithmetical</td>
			<td>Adding-up game for a couple of centenarians</td></tr>
	<tr><td><a href="https://www.parlettgames.uk/oricards/chwech.html">Chwech</a></td>
			<td> 4 5 <span>6</span></td> <td>plain tricks</td>
			<td>You needn't play to a trick if you don't want to (designed for six)</td></tr>			
	<tr><td><a href="https://www.parlettgames.uk/oricards/collude.html">Collusion</a></td>
			<td><span>4</span></td><td>plain tricks</td>
			<td>Hilarious game of (mis)alliances and double-crossings</td></tr>				
	<tr><td><a href="https://www.parlettgames.uk/oricards/culblind.html">Colour-blind</a></td>
			<td>2 <span>3</span></td><td>plain tricks</td>
			<td>Choose whether to win red cards or black			
	</td></tr><tr><td><a href="https://www.parlettgames.uk/oricards/concerto.html">Concerto</a></td>
			<td><span>P</span></td><td>poker hands</td>
			<td>Co√∂peratively construct poker hands </td></tr>
	<tr><td><a href="https://www.parlettgames.uk/oricards/countbuf.html">Counterbluff</a></td>
		 <td><span>2</span></td> <td>bluffing</td>
			<td>Bluff with constantly-evolving Poker hands</td></tr>
	<tr><td><a href="https://www.parlettgames.uk/oricards/counterpique.html">Counterpique</a></td>
		 <td><span>2</span></td> <td>tricks &amp; melds</td>
			<td>Contract Piquet&nbsp;- a classic game updated</td></tr>						
	<tr><td><a href="https://www.parlettgames.uk/oricards/countpnt.html">Counterpoint</a></td>
		 	<td><span>2 3</span></td> <td>point tricks</td>
			<td>Predict how many card-points you'll win in tricks</td></tr>			
	<tr><td><a href="https://www.parlettgames.uk/oricards/cowpoke.html">Cowpoke</a></td>
			 <td><span>2 3 4 5</span></td> <td>collecting</td>
			 <td>A pokery sort of game with quasi-tricks</td></tr>				
	<tr><td><a href="https://www.parlettgames.uk/oricards/crosspur.html">Cross Purposes</a></td>
			<td><span>2 P</span></td>	<td>plain tricks</td>
			<td>One party chooses a trump suit, the other a top rank</td></tr>				
	<tr><td><a href="https://www.parlettgames.uk/oricards/crummy.html">Crummy</a></td>
			<td>3 <span>4</span> 5 6</td>  <td>rummy</td>
			<td>Rummy with a trick-type method of play</td></tr>			
	<tr><td><a href="https://www.parlettgames.uk/oricards/dublduck.html">Doubleduck</a></td>
			<td><span>P</span></td> <td>plain tricks</td>
			<td>Partnership version of <a href="https://www.parlettgames.uk/oricards/ducksoup.html">Duck Soup</a></td></tr>
	<tr><td><a href="https://www.parlettgames.uk/oricards/dumbo.html">Dumbo</a></td>
			<td><span>3</span></td> <td>plain tricks</td>
			<td>Three-player version of <a href="https://www.parlettgames.uk/oricards/collude.html">Collusion</a></td></tr>	
	<tr><td><a href="https://www.parlettgames.uk/oricards/dracula.html">Dracula</a></td>
			<td><span>2</span> 3 <span>P</span></td> <td>arithmetical</td>
			<td>An arithmetical game with a bloodthirsty count</td></tr>			
	<tr><td><a href="https://www.parlettgames.uk/oricards/ducksoup.html">Duck Soup</a></td>
			<td><span>2</span></td> <td>plain tricks</td> 			
			<td>Game for a couple of quacks (&amp; see <a href="https://www.parlettgames.uk/oricards/dublduck.html">Doubleduck</a>,
				<a href="https://www.parlettgames.uk/oricards/treblduck.html">Trebleduck</a>)</td></tr>
	<tr><td><a href="https://www.parlettgames.uk/oricards/farrago.html">Farrago</a></td>
			<td>3 <span>4</span> 5</td> <td>plain tricks</td>
			<td>There's a different trumping rule at every deal</td></tr>			  		
	<tr><td><a href="https://www.parlettgames.uk/oricards/flashpt.html">Flashpoint</a></td>
			<td><span>P</span> </td> <td>trick-rummy</td>
			<td>Play tricks to win card combinations</td></tr>			
	<tr><td><a href="https://www.parlettgames.uk/oricards/flunk.html">Flunk</a></td>
			<td><span>3</span> </td><td>plain tricks</td>
			<td>Any relation to three-handed Bridge is purely fortuitous</td>			
	</tr><tr><td><a href="https://www.parlettgames.uk/oricards/fosco.html">Fosco</a></td>
			<td><span>2 P</span></td> <td>arithmetical</td>
			<td>A game of perfect information with another villainous count</td></tr>			
	<tr><td><a href="https://www.parlettgames.uk/oricards/glapgos.html">Galapagos</a></td>
			<td><span>2</span></td> <td>hybrid</td>
			<td>3 games in 1: win tricks, make melds, get rid of your cards</td></tr>			
	<tr><td><a href="https://www.parlettgames.uk/oricards/gandpoke.html">Ganderpoke</a></td>
			<td><span>2</span> 3 4</td>  <td>layout</td>
			<td>A five-by-five square game with Poker hands</td></tr>
	<tr><td><a href="https://www.parlettgames.uk/oricards/garbo.html">Garbo</a></td>
			<td><span>2</span></td>  <td>layout</td>
			<td>A 4x4 square game where each card "vants to be alone"</td></tr>			
	<tr><td><a href="https://www.parlettgames.uk/oricards/getstuck.html">Get Stuck</a>
			</td><td><span>2 P</span></td> <td>layout</td>
			<td>A quasi board game on a grid of seven by seven cards</td></tr>			
	<tr><td><a href="https://www.parlettgames.uk/oricards/giveortake.html">Give or Take</a></td>
			<td><span>2</span></td> <td>arithmetical</td>
			<td><em>aka</em> More or Less&nbsp;- another way of playing with numbers</td></tr>			
	<tr><td><a href="https://www.parlettgames.uk/oricards/goodcop.html">Good Cop, Bad Cop</a></td>
			<td><span>4</span></td> <td>plain tricks</td>
			<td>Two Jokers, a trump suit, a penalty suit, and who's your partner?</td></tr>							
	<tr><td><a href="https://www.parlettgames.uk/oricards/goosfool.html">Gooseberry Fool</a></td>
			<td><span>3</span></td> <td>plain tricks</td>
			<td>Divide and rule by winning the middling number of tricks</td></tr>
	<tr><td><a href="https://www.parlettgames.uk/oricards/hamlet.html">Hamlet</a></td>
			<td><span>3</span></td> <td>plain tricks</td>
			<td>With supporting roles for Rosencrantz and Guildenstern</td></tr>			
	<tr><td><a href="https://www.parlettgames.uk/oricards/hindsight.html">Hindsight</a></td>
			<td><span>2</span></td> <td>tricks+melds</td>
			<td>In which you might have done better with a bit of foresight</td></tr>			
	<tr><td><a href="https://www.parlettgames.uk/oricards/hoodwink.html">Hoodwink</a></td>
			<td><span>3</span></td> <td>plain tricks</td>
			<td>With at least two ways of hoodwinking your opponents</td></tr>				
	<tr><td><a href="https://www.parlettgames.uk/oricards/keydoor.html">Key of the door</a></td>
			<td><span>2 3 4 P 5</span></td> <td>arithmetical</td>
			<td>In which you construct "keys" counting exactly 21</td></tr>			
	<tr><td><a href="https://www.parlettgames.uk/oricards/limbo.html">Limbo</a></td>
		 	<td><span>2</span></td> <td>arithmetical</td>
			<td>Get lowest under the bar by deducting and dividing</td></tr>			
	<tr><td><a href="https://www.parlettgames.uk/oricards/memorand.html">Memoranda</a></td>
			<td><span>4	5 6</span></td><td>memory</td>
			<td>Can you remember which cards were you originally dealt?</td></tr>
	<tr><td><a href="https://www.parlettgames.uk/oricards/minimis.html">Minimis√®re</a></td>
			<td>3 <span>4 5</span></td> <td>trick-avoid</td>
			<td>If you can't lose every trick, win as many as possible</td>			
	</tr><tr><td><a href="https://www.parlettgames.uk/oricards/mismatch.html">Mismatch</a></td>
			<td><span>4</span></td> <td>trick-avoid</td>
			<td>The antidote to Rummy: avoid winning card-combinations</td></tr>			
	<tr><td><a href="https://www.parlettgames.uk/oricards/nautynun.html">Naughty Nun</a></td>
			<td><span>3</span></td> <td>plain tricks</td>
			<td>Like Ninety-Nine, but with silly additions and variations</td></tr>				
	<tr><td><a href="https://www.parlettgames.uk/oricards/nimbly.html">Nimbly</a></td>
			<td><span>3</span> 4 5</td><td>layout</td>			
			<td>Pick up nine cards that make scoring combinations</td></tr>				 												
	<tr><td><a href="https://www.parlettgames.uk/oricards/ninety9.html">Ninety-Nine</a></td>
			<td>2<span> 3</span> 4 P 5</td> <td>plain tricks</td>
			<td>Bid to win an exact number of tricks</td></tr>
	<tr><td><a href="https://www.parlettgames.uk/oricards/oneup.html">One Up</a></td>
			<td><span>2 3 4 5</span></td> <td>arithmetical</td>
			<td>Game for a number of totalitarians</td></tr>
	<tr><td><a href="https://www.parlettgames.uk/oricards/parity.html">Parity</a></td>
			<td><span>2</span></td> <td>plain tricks</td>
			<td>Odd or even? A skilled game of perfect information</td></tr>
	<tr><td><a href="https://www.parlettgames.uk/oricards/plonk.html">Plonk</a></td>
			<td><span>P</span></td>  <td>point tricks</td>
			<td>Win tricks containing cards of different suits. Not so easy...</td></tr>			
	<tr><td><a href="https://www.parlettgames.uk/oricards/primetime.html">Prime Time</a></td>
			<td>2 <span>3</span></td> <td>arithmetical</td>
			<td>Make primes from three-card combinations</td></tr>			
	<tr><td><a href="https://www.parlettgames.uk/oricards/romeo.html">Romeo &amp; Juliet</a></td>
			<td><span>2</span></td> <td>layout</td>
			<td>A romantic card-board game on a grid of 7x7 cards</td></tr>				
	<tr><td><a href="https://www.parlettgames.uk/oricards/rummage.html">Rummage</a></td>
			<td>3 4 <span>5</span> 6</td> <td>trick-rummy</td>
			<td>Rummy with a trick-type method of play (designed for 5)</td></tr>			
	<tr><td><a href="https://www.parlettgames.uk/oricards/seconds.html">Seconds</a></td>
			<td><span>4</span></td> <td>plain tricks</td>
			<td>In which only the second-best card wins the trick</td></tr>			
	<tr><td><a href="https://www.parlettgames.uk/oricards/secretagent.html">Secret Agent</a></td>
			<td><span>4</span></td> <td>plain tricks</td>
			<td>In which you also score for tricks won by your secret agent</td></tr>			
	<tr><td><a href="https://www.parlettgames.uk/oricards/slapstick.html">Slapstick</a></td>
			<td><span>2 3 4 5 6</span></td> <td>shedding</td>
			<td>Like Bravado but without all that adding up</td></tr>		
	<tr><td><a href="https://www.parlettgames.uk/oricards/snailspace.html">Snail Space</a></td>
			<td><span>2</span></td> <td>layout</td>
			<td>Spiral Cribbage, or Cribbage for Snails</td></tr>		
	<tr><td><a href="https://www.parlettgames.uk/oricards/snark.html">Snark</a></td>
			<td>3 4 <span>5</span></td> <td>wild tricks</td>
			<td>A wilder version of Anarchy (designed for 5 Boojums)</td>		
	</tr><tr><td><a href="https://www.parlettgames.uk/oricards/sneak.html">Sneak</a></td>
			<td>2 <span>3 4 5</span></td> <td>bluffing</td>
			<td>If you've got it, flaunt it; if not, bluff it</td></tr>		
	<tr><td><a href="https://www.parlettgames.uk/oricards/spec.html">Spec</a></td>
			<td><span>2 3 4</span></td> <td>layout</td>
			<td>A silly guessing game - or is it?</td></tr>		
	<tr><td><a href="https://www.parlettgames.uk/oricards/squint.html">Squint</a></td>
			<td><span>5</span></td> <td>plain tricks</td>
			<td>Twist a card to find your partner (&amp; see <a href="https://www.parlettgames.uk/oricards/twyst.html">Twyst</a> for four)</td></tr>		
	<tr><td><a href="https://www.parlettgames.uk/oricards/stucco.html">Stucco</a></td>
			<td><span>2</span></td> <td>matching</td>
			<td>A match-and-go-out game of perfect information</td></tr>		
	<tr><td><a href="https://www.parlettgames.uk/oricards/tantony.html">Tantony</a></td>
			<td>3 <span>4</span> P</td> <td>point tricks</td>
			<td>Win tricks, then give them away!</td></tr>		
	<tr><td><a href="https://www.parlettgames.uk/oricards/throps.html">Throps</a></td>
		 	<td><span>3</span></td> <td>wild tricks</td>
		 	<td>A three-player variant of
		 		<a href="https://en.wikipedia.org/wiki/Goofspiel">Gops</a> ("Game Of Perfect Strategy")</td></tr>
	<tr><td><a href="https://www.parlettgames.uk/oricards/tractric.html">Tracktrick</a></td>
			<td><span>3</span> P</td> <td>plain tricks</td>
			<td>A quasi-board game requiring accurate trick-play</td></tr>			
	<tr><td><a href="https://www.parlettgames.uk/oricards/treblduck.html">Trebleduck</a></td>
			<td><span>3</span></td> <td>plain tricks</td>
			<td>Three-player version of <a href="https://www.parlettgames.uk/oricards/ducksoup.html">Duck Soup</a></td></tr>				
	<tr><td><a href="https://www.parlettgames.uk/oricards/triathlon.html">Triathlon</a></td>
			<td><span>3</span></td> <td>plain tricks</td>
			<td>In which you aim to perform three trick-taking feats</td></tr>		
	<tr><td><a href="https://www.parlettgames.uk/oricards/trigami.html">Trigami</a></td>
			<td><span>3</span></td> <td>trick-avoid</td>
			<td>Choose which suit not to win cards of in tricks (&amp; see <a href="https://www.parlettgames.uk/oricards/bugami.html">Bugami</a>) </td>
	</tr><tr><td><a href="https://www.parlettgames.uk/oricards/twyst.html">Twyst</a></td>
			<td><span>4</span></td> <td>plain tricks</td>
			<td>Twist a card to find your partner (&amp; see <a href="https://www.parlettgames.uk/oricards/squint.html">Squint</a> for five)</td></tr>			
	<tr><td><a href="https://www.parlettgames.uk/oricards/umbridge.html">Umbridge</a></td>
			<td><span>2</span></td> <td>plain tricks</td>
			<td>A perversion of Bridge for two</td></tr>			
	<tr><td><a href="https://www.parlettgames.uk/oricards/welshwhist.html">Welsh Whist</a></td>
			<td><span>3</span> 4 5</td> <td>point tricks</td>
			<td>A fun game with Jokers and bluffing. No cheating allowed!</td>			
	</tr><tr><td><a href="https://www.parlettgames.uk/oricards/whoswho.html">Who's Who</a></td>
			<td><span>3</span></td>	<td>plain tricks</td>
			<td>Which of the other two players is your secret partner?</td></tr>			
																	
			
	</tbody></div></div>]]>
            </description>
            <link>https://www.parlettgames.uk/oricards/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25474060</guid>
            <pubDate>Sat, 19 Dec 2020 01:16:08 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Under-the-hood of React Hooks ‚Äì a look at state and effect mechanisms]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25473802">thread link</a>) | @craigtaub
<br/>
December 18, 2020 | https://craigtaub.dev/under-the-hood-of-react-hooks | <a href="https://web.archive.org/web/*/https://craigtaub.dev/under-the-hood-of-react-hooks">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>React is filled with interesting design patterns, when Hooks were introduced it cleaned up many of the issues people had with the more arguably frustrating features such as classes and lifecycle methods. Today we will have a look at building our own React engine with Hooks, so we can understand the mechanisms at work for <em>useState</em> and <em>useEffect</em>.</p>
<p>We will <strong>not</strong> be covering Fibre, <em>reconciliation</em> or the change detection mechanisms.</p>
<p>This is part of my <a href="https://craigtaub.dev/introducing-my-under-the-hood-of-series">"under-the-hood of" series</a>:</p>
<ul>
<li><a href="https://craigtaub.dev/under-the-hood-of-web-bundlers">Web bundlers (e.g. Webpack)</a></li>
<li><a href="https://craigtaub.dev/under-the-hood-of-type-systems">Type systems (e.g. TypeScript)</a></li>
<li><a href="https://craigtaub.dev/under-the-hood-of-test-runners">Test runners (e.g. Mocha)</a></li>
<li><a href="https://craigtaub.dev/source-maps-from-top-to-bottom">Source maps</a></li>
<li><a href="https://craigtaub.dev/under-the-hood-of-graphql">GraphQL</a></li>
<li><a href="https://itnext.io/under-the-hood-of-apollo-6d8642066b28">Apollo</a></li>
<li><a href="https://craigtaub.dev/under-the-hood-of-vscode-auto-formatters">Auto formatters (e.g. Prettier)</a></li>
</ul>
<p>A video for this post can be found <a href="https://www.youtube.com/watch?v=mMTYRijTHEo">here</a>. A part of my <a href="https://www.youtube.com/channel/UCYi23MnKBKn0yLZKBrz5Bfw">"under-the-hood of"</a> video series.</p>
<hr>

<p>We should start with a basic bare-bones version of React. To do that we need to touch on some of the core design concepts which React follows, such as:</p>
<h2 id="jsx"><a href="#jsx" aria-label="jsx permalink"></a>JSX</h2>
<ul>
<li>Elements are POJO‚Äôs (plain-old-javascript-objects)</li>
<li>Components are functions</li>
</ul>
<h2 id="pure-rendering"><a href="#pure-rendering" aria-label="pure rendering permalink"></a>Pure rendering</h2>
<ul>
<li>A instance of a render follows: Render = Component(Data)</li>
</ul>
<h2 id="state-machine"><a href="#state-machine" aria-label="state machine permalink"></a>State machine</h2>
<ul>
<li>One-directional data flow</li>
<li>Data change detection forces updates for all children who need it</li>
</ul>
<p>We are going to build our own (super simple) version of React and then add Hooks, to do that we need a basic version of the React engine which should render (log) a component with some props and return the component (for interacting with later).</p>
<div data-language="javascript"><pre><code><span>const</span> React <span>=</span> <span>{</span>
  <span>render</span><span>:</span> <span>Component</span> <span>=&gt;</span> <span>{</span>
    <span>const</span> exampleProps <span>=</span> <span>{</span>
      unit<span>:</span> <span>"likes"</span><span>,</span>
    <span>}</span>
    <span>const</span> compo <span>=</span> <span>Component</span><span>(</span>exampleProps<span>)</span>
    console<span>.</span><span>log</span><span>(</span><span>"Render: "</span><span>,</span> compo<span>.</span>inner<span>)</span>
    <span>return</span> compo
  <span>}</span><span>,</span>
<span>}</span></code></pre></div>
<p>Now we have a basic engine we need an accompanying component which returns the React element (object) during the render:</p>
<div data-language="javascript"><pre><code><span>const</span> <span>Component</span> <span>=</span> <span>props</span> <span>=&gt;</span> <span>{</span>
  <span>return</span> <span>{</span>
    type<span>:</span> <span>"div"</span><span>,</span>
    inner<span>:</span> props<span>.</span>unit<span>,</span>
  <span>}</span>
<span>}</span></code></pre></div>
<p>We can now use our React and Component together and see its output (below each line of code):</p>
<div data-language="javascript"><pre><code><span>let</span> App <span>=</span> React<span>.</span><span>render</span><span>(</span>Component<span>)</span> 

App <span>=</span> React<span>.</span><span>render</span><span>(</span>Component<span>)</span> 
</code></pre></div>
<p>So we now have a basic Component which is rendered by our React engine.</p>
<hr>

<p>A brief reminder about Hooks.</p>
<blockquote>
<p>"Hooks let you use state and other React features inside a pure component, without writing a class"</p>
</blockquote>
<p>Classes would often confuse people and add bloat to your code, however there are other strengths to using Hooks some of which are:</p>
<ul>
<li>Easier to build and re-use stateful logic</li>
<li>Easier to split components into relatable pieces
-Removes confusion over the many lifecycle methods (i.e. what correlates to what event)</li>
<li>No fundamental changes to your React knowledge, just a more direct way to use features you already know</li>
<li>Easy to add types, as Hooks are just functions (unlike high-order components and most of the render props pattern)</li>
<li>Easy to test with <em>"react-dom/test-utils"</em></li>
</ul>
<p>So it is easy to see why Hooks are such a powerful mechanism. So let‚Äôs examine how they work and build our own.</p>
<hr>

<p>There are a couple of core concepts with useState:</p>
<ul>
<li>Use state in pure component.</li>
<li>Use any primitive (string/array/object etc.)</li>
</ul>
<p>According to the docs they always return:</p>
<ol>
<li>a reducer state</li>
<li>an action dispatcher</li>
</ol>
<p>However this can be simplified into a basic property value and a setter.
There is a simple rule which is very important to Hooks. That is that <strong>the Hooks are called at the top</strong>. That means outside of any conditionals or nesting blocks. This is crucial to the Hooks mechanism and we will examine why.</p>
<p>So let us expand out React engine to include the useState Hook. We will need a "state index" counter, as well as "state store" for values.</p>
<div data-language="javascript"><pre><code><span>const</span> React <span>=</span> <span>{</span>
  index<span>:</span> <span>0</span><span>,</span> 
  state<span>:</span> <span>[</span><span>]</span><span>,</span> 
  <span>useState</span><span>:</span> <span>defaultProp</span> <span>=&gt;</span> <span>{</span>
    <span>const</span> cachedIndex <span>=</span> React<span>.</span>index
    <span>if</span> <span>(</span><span>!</span>React<span>.</span>state<span>[</span>cachedIndex<span>]</span><span>)</span> <span>{</span>
      React<span>.</span>state<span>[</span>cachedIndex<span>]</span> <span>=</span> defaultProp
    <span>}</span>

    <span>const</span> currentState <span>=</span> React<span>.</span>state<span>[</span>cachedIndex<span>]</span>
    <span>const</span> <span>currentSetter</span> <span>=</span> <span>newValue</span> <span>=&gt;</span> <span>{</span>
      React<span>.</span>state<span>[</span>cachedIndex<span>]</span> <span>=</span> newValue
    <span>}</span>
    React<span>.</span>index<span>++</span>
    <span>return</span> <span>[</span>currentState<span>,</span> currentSetter<span>]</span>
  <span>}</span><span>,</span>
  <span>render</span><span>:</span> <span>Component</span> <span>=&gt;</span> <span>{</span>
    <span>const</span> exampleProps <span>=</span> <span>{</span>
      unit<span>:</span> <span>"likes"</span><span>,</span>
    <span>}</span>
    <span>const</span> compo <span>=</span> <span>Component</span><span>(</span>exampleProps<span>)</span>
    console<span>.</span><span>log</span><span>(</span><span>"Render: "</span><span>,</span> compo<span>.</span>inner<span>)</span>
    React<span>.</span>index <span>=</span> <span>0</span> 
    <span>return</span> compo
  <span>}</span><span>,</span>
<span>}</span></code></pre></div>
<p>We have also added a <em>useState</em> method. It works by:</p>
<ul>
<li>Checking if the current index has a value in the state, if not set the default</li>
<li>Then build the setter for the current state index value</li>
<li>Finally increment the index (for the next Hook) and return the setter and current value.</li>
</ul>
<p>Now we will make use of our <em>useState</em> in our Component.</p>
<div data-language="javascript"><pre><code><span>const</span> <span>Component</span> <span>=</span> <span>props</span> <span>=&gt;</span> <span>{</span>
  <span>const</span> <span>[</span>count<span>,</span> setCount<span>]</span> <span>=</span> React<span>.</span><span>useState</span><span>(</span><span>0</span><span>)</span>
  <span>const</span> <span>[</span>name<span>,</span> setName<span>]</span> <span>=</span> React<span>.</span><span>useState</span><span>(</span><span>"Steve"</span><span>)</span>

  <span>return</span> <span>{</span>
    type<span>:</span> <span>"div"</span><span>,</span>
    inner<span>:</span> <span><span>`</span><span><span>${</span>count<span>}</span></span><span> </span><span><span>${</span>props<span>.</span>unit<span>}</span></span><span> for </span><span><span>${</span>name<span>}</span></span><span>`</span></span><span>,</span>
    <span>click</span><span>:</span> <span>(</span><span>)</span> <span>=&gt;</span> <span>setCount</span><span>(</span>count <span>+</span> <span>1</span><span>)</span><span>,</span>
    <span>personArrived</span><span>:</span> <span>person</span> <span>=&gt;</span> <span>setName</span><span>(</span>person<span>)</span><span>,</span>
  <span>}</span>
<span>}</span></code></pre></div>
<p>See the "count" and "name" usage above. Also we have utilised both inside the "inner" property so that we can spy on it in the terminal. Additionally we have added some manual methods to update the state values. They are manual as we are not worrying about the change detection or reconciliation in this post. We will be manually triggering the returned functions as well as the render method (following how we used it in our React engine section earlier).</p>
<p>So on running the below, we log the rendered output. We can see with each "click() "we are updating the count, and with "personArrived()" we are updating person (terminal output below line of code).</p>
<div data-language="javascript"><pre><code><span>let</span> App <span>=</span> React<span>.</span><span>render</span><span>(</span>Component<span>)</span> 

App <span>=</span> React<span>.</span><span>render</span><span>(</span>Component<span>)</span> 

App<span>.</span><span>click</span><span>(</span><span>)</span>
App <span>=</span> React<span>.</span><span>render</span><span>(</span>Component<span>)</span> 

App<span>.</span><span>click</span><span>(</span><span>)</span>
App<span>.</span><span>personArrived</span><span>(</span><span>"Peter"</span><span>)</span>
App <span>=</span> React<span>.</span><span>render</span><span>(</span>Component<span>)</span> 
</code></pre></div>
<p>There is 1 main issue in our usage. That is that this would NOT work for many components at the same time. It is very tightly coupled to our single component. The state should be held in module scope or a single store namespaced to the component.</p>
<hr>

<p>A short quote from the docs:</p>
<blockquote>
<p>"A function which runs after the initial render and after every update"</p>
</blockquote>
<p>Similarly to <em>useState</em>, the rule about calling at the top-level applies. It is required for our implementation as well.</p>
<p>Couple of concepts for effects:</p>
<ul>
<li>Created during render</li>
<li>Run in definition order (like <em>useState</em>)</li>
<li>Run after a given lifecycle event (first render and/or when a dependency has changed. i.e. mount and update)</li>
<li>Returns a function (some effects require cleaning e.g. unsubscribing)</li>
</ul>
<p>Our <em>useEffect</em> Hook mechanism is below:</p>
<div data-language="javascript"><pre><code><span>useEffect</span><span>:</span> <span>(</span><span>callback<span>,</span> dependencies</span><span>)</span> <span>=&gt;</span> <span>{</span>
  <span>const</span> cachedIndex <span>=</span> React<span>.</span>index<span>;</span>
  <span>const</span> hasChanged <span>=</span> dependencies <span>!==</span> React<span>.</span>state<span>[</span>cachedIndex<span>]</span><span>;</span>
  <span>if</span> <span>(</span>dependencies <span>===</span> <span>undefined</span> <span>||</span> hasChanged<span>)</span> <span>{</span>
    <span>callback</span><span>(</span><span>)</span><span>;</span>
    React<span>.</span>state<span>[</span>cachedIndex<span>]</span> <span>=</span> dependencies<span>;</span>
  <span>}</span>
  React<span>.</span>index<span>++</span><span>;</span>
  <span>return</span> <span>(</span><span>)</span> <span>=&gt;</span> console<span>.</span><span>log</span><span>(</span><span>"unsubscribed effect"</span><span>)</span><span>;</span>
<span>}</span><span>,</span></code></pre></div>
<p>A run-through of the code:</p>
<ul>
<li>Cache the store index</li>
<li>Check if the dependency has changed in state (this is our variable tracking mechanism)</li>
<li>If there is no dependency given or its changed, run our effect and update store index value with our dependency value</li>
<li>Then increment the store index for future Hooks to use their own index</li>
<li>Finally return a function</li>
</ul>
<p>You can see the way that our effect Hooks also depend on the "state index". Similarly to <em>useState</em>, it relies on the deterministic order of values in the state array.</p>
<p>All state and effect Hooks must be called in the same order, so their state index can always be found in the same location in the state array.</p>
<p>Now lets update our component to use the effect Hook</p>
<div data-language="javascript"><pre><code><span>const</span> <span>Component</span> <span>=</span> <span>props</span> <span>=&gt;</span> <span>{</span>
  <span>const</span> <span>[</span>count<span>,</span> setCount<span>]</span> <span>=</span> React<span>.</span><span>useState</span><span>(</span><span>0</span><span>)</span>
  <span>const</span> <span>[</span>name<span>,</span> setName<span>]</span> <span>=</span> React<span>.</span><span>useState</span><span>(</span><span>"Steve"</span><span>)</span>

  <span>const</span> exitThis <span>=</span> React<span>.</span><span>useEffect</span><span>(</span><span>(</span><span>)</span> <span>=&gt;</span> <span>{</span>
    console<span>.</span><span>log</span><span>(</span><span>"Effect ran"</span><span>)</span>
  <span>}</span><span>,</span> name<span>)</span>

  <span>return</span> <span>{</span>
    type<span>:</span> <span>"div"</span><span>,</span>
    inner<span>:</span> <span><span>`</span><span><span>${</span>count<span>}</span></span><span> </span><span><span>${</span>props<span>.</span>unit<span>}</span></span><span> for </span><span><span>${</span>name<span>}</span></span><span>`</span></span><span>,</span>
    <span>click</span><span>:</span> <span>(</span><span>)</span> <span>=&gt;</span> <span>setCount</span><span>(</span>count <span>+</span> <span>1</span><span>)</span><span>,</span>
    <span>personArrived</span><span>:</span> <span>person</span> <span>=&gt;</span> <span>setName</span><span>(</span>person<span>)</span><span>,</span>
    <span>unsubscribe</span><span>:</span> <span>(</span><span>)</span> <span>=&gt;</span> <span>exitThis</span><span>(</span><span>)</span><span>,</span>
  <span>}</span>
<span>}</span></code></pre></div>
<p>The above Hook will look for changes on the "name" property, also we have exposed an "unsubscribe" function for our effect Hook.</p>
<p>So now onto the running order during rendering, I have logged the state array with each render to help us follow (see below screenshot for the detailed explanation).</p>
<div data-language="javascript"><pre><code><span>let</span> App <span>=</span> React<span>.</span><span>render</span><span>(</span>Component<span>)</span> 


App <span>=</span> React<span>.</span><span>render</span><span>(</span>Component<span>)</span> 


App<span>.</span><span>click</span><span>(</span><span>)</span>
App <span>=</span> React<span>.</span><span>render</span><span>(</span>Component<span>)</span> 


App<span>.</span><span>click</span><span>(</span><span>)</span>
App<span>.</span><span>personArrived</span><span>(</span><span>"Peter"</span><span>)</span>
App <span>=</span> React<span>.</span><span>render</span><span>(</span>Component<span>)</span> 



App<span>.</span><span>unsubscribe</span><span>(</span><span>)</span>
</code></pre></div>
<p>The below details what is happening above for our effect.</p>
<h2 id="first-render"><a href="#first-render" aria-label="first render permalink"></a>First render</h2>
<p>After 2 state runs the "cachedIndex" is now 2 inside of <em>useEffect</em>. The state value is "undefined" as it does not exist for that index (yet). So we will run our callback and write a new entity into state (under index 2), which is our dependency value (i.e. currently "Steve").</p>
<p>SO: state now has local state values and effect values. It is in a deterministic order based on the ‚Äústate index‚Äù (i.e. where it is called in the component). This means it is reliable as this order should not change. Remember <strong>Rule #1</strong>.</p>
<h2 id="re-renders"><a href="#re-renders" aria-label="re renders permalink"></a>Re-renders</h2>
<p>We will check the 3rd value in our state array and the effect will run only if it changes. See above our Hook runs again when we change the name to "Peter". Lastly we unsubscribe from our Hook.</p>
<p>There are 2 main issues with the above (among others):</p>
<h3 id="1-only-works-with-1-dependency-not-an-array"><a href="#1-only-works-with-1-dependency-not-an-array" aria-label="1 only works with 1 dependency not an array permalink"></a>1. Only works with 1 dependency, not an array.</h3>
<p>It is easy to expand our code so we could use an array. By using the same store index and storing an array of dependencies on the state, not just single value. Then iterate over that dependency array to check for changes.</p>
<h3 id="2-ours-is-run-before-the-render-not-after"><a href="#2-ours-is-run-before-the-render-not-after" aria-label="2 ours is run before the render not after permalink"></a>2. Ours is run before the render, not after</h3>
<p>This is a more complex issue to fix and would require fundamental changes to our React engine. As this is a small POC example it is not worth fixing.</p>
<hr>
<p>I hope this was useful or at the very least a little interesting. I very much enjoyed learning about Hooks and have a deeper appreciation for them as a feature which has helped move the front-end developer experience forward.
You can find a gist of the code <a href="https://gist.github.com/craigtaub/a131eb23a9aa15540a84dc2266e1b672">here</a>
Thanks, Craig üòÉ</p></div></div>]]>
            </description>
            <link>https://craigtaub.dev/under-the-hood-of-react-hooks</link>
            <guid isPermaLink="false">hacker-news-small-sites-25473802</guid>
            <pubDate>Sat, 19 Dec 2020 00:34:47 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[You don't have to be busy to be prolific]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25473703">thread link</a>) | @thesephist
<br/>
December 18, 2020 | https://thesephist.com/posts/momentum/ | <a href="https://web.archive.org/web/*/https://thesephist.com/posts/momentum/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
        <p>I get a couple emails every week asking how I manage to ‚Äúdo it all‚Äù or ‚Äúbalance my schedule‚Äù, or how I find the time and motivation to work on so many projects, which makes me think people have a really weird picture of how I spend my 24 hours. My calendar is actually <a href="https://free.linus.zone/">pretty empty</a> most of the time, though I‚Äôm pretty protective of my free time. I like having free time because it lets me make sure I read and consume more than I create, which I think is <a href="https://linus.coffee/note/having-ideas/">critical to creativity</a>.</p>
<p>I also leave space on my calendar because I don‚Äôt like feeling <strong>busy</strong>. ‚ÄúBusy‚Äù is what you are when you‚Äôre hopping from meeting to meeting, sprinting through a filled calendar or running up against a deadline. None of that is conducive to following spontaneous creative ideas or working on large interesting projects. When I feel at my productive best, what I feel is <strong>momentum</strong>. I like feeling like I‚Äôm on a roll, hopping from one interesting project or idea to the next, not wanting to put down the interest or inspiration. When I feel momentum, everything else ‚Äì motivation, focus, efficient use of my time ‚Äì comes naturally. Conversely, when I lose momentum, it takes me a few days of kicking against the ground to get back up to speed.</p>
<p>Having momentum is different than simply working a lot. Busy-ness, what some people think of as ‚Äúproductivity‚Äù, comes from <strong>volume</strong> of work. A day spent answering 100 emails and a day spent publishing one great blog post could feel equally productive. Momentum isn‚Äôt really about volume of work, but about <strong>rhythm of work</strong>. When I feel creative momentum, it means there‚Äôs something interesting or meaningful getting done every day, even if it‚Äôs something small. A day spent answering emails is monotonous. It has no rhythm. Even if I only work for two hours in a day, if those two hours produced something meaningful and kept the rhythm of my work going, I feel the momentum continue to the next day.</p>
<p>A busy schedule is like a cacophonous garage band. There‚Äôs a lot of volume, but it doesn‚Äôt really keep you in the music.</p>
<p>Working with momentum is more like Jazz. There is sound, but mostly in service of forward movement. There‚Äôs a groove you can ride, something that keeps you stepping forward. You don‚Äôt have to make yourself follow the beats, because it comes naturally. That rhythm and leisure also lets you improvise on top over the music.</p>
<h2 id="building-creative-momentum">Building creative momentum</h2>
<p>How do you find a sense of momentum in your work?</p>
<ol>
<li>
<p><strong>Try to get at least one meaningful or significant thing done every day</strong>, even if that‚Äôs the only thing you do. You want to wake up with a clear idea of what that task might be for that day, and go to sleep knowing that you haven‚Äôt fallen off your rhythm.</p>
<p>When I have a day not hampered by school schedules or meetings I usually try to publish a blog post, solve a major problem for a side project, or create and share some small unit of work, whether that‚Äôs a piece of music or writing or something else. Occasionally, I‚Äôll just spend a day catching up on email and errands, and that‚Äôll be my ‚Äúproject‚Äù for the day, but I‚Äôm conscious of when I risk going too many days (4-6 days) without ‚Äúshipping‚Äù anything, because that‚Äôs how I lose momentum, and it‚Äôs hard to regain that lost forward motion.</p>
<p>This might be challenging when working as a solo founder or writer or maker, but especially when you work alone, I think it‚Äôs important to draw yourself clear boundaries and say it‚Äôs okay to respond late to things if it means you get to protect your creative momentum, because that forward inertia is the heartbeat that keeps you moving forward day after day.</p>
</li>
<li>
<p><strong>Leave something unfinished when you stop working</strong>, so when you come back you can pick up right where you left off and get in the same mental state again. When I‚Äôm deep in the middle of an interesting project, I‚Äôm usually dead focused on that task until I finish. I‚Äôll take pauses to take care of myself, but I usually stay off email and messages, and any spare cycles I have goes towards that task. This means I lose less momentum and ‚Äúworking state‚Äù of my mind to context-switching.</p>
<p>Authors sometimes talk about how they begin a writing session by reading the last 1000 words they wrote. When you must switch off of a task, leave some trail you can follow when you return to pick up right where your mind left off.</p>
</li>
</ol>
<p>Neither of these habits are about working more or working any harder. Instead, they both try to help you stay in the rhythm of work that your mind can ride. They help you build momentum towards a consistent habit of forward motion, which is what really fuels prolific people. These pieces of advice are also about protecting your momentum as a priority. If you value the momentum behind your work, you should prioritize staying in the rhythm, and make few excuses to miss beats. A song that slips every other note falls apart quickly, but if you hit all the right beats, you rarely need strict discipline to stay in time.</p>
<p><strong>You don‚Äôt have to be busy to be prolific.</strong> In fact, having a full calendar gets in the way, because it robs you of the free time and mental space you need to follow interesting ideas and help you replenish your creative taste. To create consistently, don‚Äôt work constantly. Instead, find a rhythm on which you can build a momentum that fuels you to keep going right where you left off every time you return to your creative zone. Building on momentum ‚Äì staying in-rhythm ‚Äì is the easiest, most enjoyable way to keep creating.</p>

        <hr>
        <p>
            
            ‚Üê
            <a href="https://thesephist.com/posts/focus/"><em>How to find focus</em></a>
            
        </p>
        <p>
            
            <a href="https://thesephist.com/posts/honesty/"><em>Honesty in craft</em></a>
            ‚Üí
            
        </p>
        <p>
            I share new posts on my <a href="https://thesephist.com/#newsletter">newsletter.</a>
            If you liked this one, you should consider joining the list.
        </p>
        <p>Have a comment or response? You can <a href="https://thesephist.com/#get-in-touch">email me.</a></p>
    </article></div>]]>
            </description>
            <link>https://thesephist.com/posts/momentum/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25473703</guid>
            <pubDate>Sat, 19 Dec 2020 00:17:18 GMT</pubDate>
        </item>
    </channel>
</rss>
